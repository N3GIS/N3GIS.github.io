/*!
 * LMV v7.105.0
 *
 * Copyright 2025 Autodesk, Inc.
 * All rights reserved.
 *
 * This computer source code and related instructions and comments are the
 * unpublished confidential and proprietary information of Autodesk, Inc.
 * and are protected under Federal copyright and state trade secret law.
 * They may not be disclosed to, copied or used by any third party without
 * the prior written consent of Autodesk, Inc.
 *
 * Autodesk Viewer SDK Usage Limitations:
 *
 * The Autodesk Viewer SDK JavaScript must be delivered from an
 * Autodesk-hosted URL.
 */
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@adsk/solid-definition/dist/solid-definition.min.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@adsk/solid-definition/dist/solid-definition.min.js ***!
  \**************************************************************************/
/***/ (function(module, exports) {

eval("!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"solid-definition\"]=t():e.SolidDefinition=t()}(\"undefined\"!=typeof self?self:this,(()=>(()=>{var __webpack_modules__={1972:function(e){var t;\"undefined\"!=typeof self&&self,t=function(){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=5)}([function(e,t,r){\"use strict\";t.b=1e-12,t.a=1e-6},function(e,t,r){\"use strict\";var o=r(0),i={createFloat32:function(){var e=new Float32Array(3);return e[0]=0,e[1]=0,e[2]=0,e},createFloat64:function(){var e=new Float64Array(3);return e[0]=0,e[1]=0,e[2]=0,e},createNumber:function(){return[0,0,0]},clone:function(e){var t=new e.constructor(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},createFloat32FromValues:function(e,t,r){var o=new Float32Array(3);return o[0]=e,o[1]=t,o[2]=r,o}};i.asFloat32=i.createFloat32FromValues,i.createFloat64FromValues=function(e,t,r){var o=new Float64Array(3);return o[0]=e,o[1]=t,o[2]=r,o},i.asFloat64=i.createFloat64FromValues,i.createNumberFromValues=function(e,t,r){return[e,t,r]},i.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},i.set=function(e,t,r,o){return e[0]=t,e[1]=r,e[2]=o,e},i.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e},i.subtract=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e},i.sub=i.subtract,i.multiply=function(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e},i.mul=i.multiply,i.divide=function(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e},i.div=i.divide,i.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},i.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},i.min=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e},i.max=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e},i.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},i.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e},i.scaleAndAdd=function(e,t,r,o){return e[0]=t[0]+r[0]*o,e[1]=t[1]+r[1]*o,e[2]=t[2]+r[2]*o,e},i.distance=function(e,t){var r=t[0]-e[0],o=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(r*r+o*o+i*i)},i.dist=i.distance,i.squaredDistance=function(e,t){var r=t[0]-e[0],o=t[1]-e[1],i=t[2]-e[2];return r*r+o*o+i*i},i.sqrDist=i.squaredDistance,i.length=function(e){var t=e[0],r=e[1],o=e[2];return Math.sqrt(t*t+r*r+o*o)},i.len=i.length,i.squaredLength=function(e){var t=e[0],r=e[1],o=e[2];return t*t+r*r+o*o},i.sqrLen=i.squaredLength,i.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},i.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},i.normalize=function(e,t){var r=t[0],o=t[1],i=t[2],n=r*r+o*o+i*i;return n>0&&(n=1/Math.sqrt(n),e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n),e},i.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},i.cross=function(e,t,r){var o=t[0],i=t[1],n=t[2],s=r[0],a=r[1],c=r[2];return e[0]=i*c-n*a,e[1]=n*s-o*c,e[2]=o*a-i*s,e},i.lerp=function(e,t,r,o){var i=t[0],n=t[1],s=t[2];return e[0]=i+o*(r[0]-i),e[1]=n+o*(r[1]-n),e[2]=s+o*(r[2]-s),e},i.hermite=function(e,t,r,o,i,n){var s=n*n,a=s*(2*n-3)+1,c=s*(n-2)+n,u=s*(n-1),l=s*(3-2*n);return e[0]=t[0]*a+r[0]*c+o[0]*u+i[0]*l,e[1]=t[1]*a+r[1]*c+o[1]*u+i[1]*l,e[2]=t[2]*a+r[2]*c+o[2]*u+i[2]*l,e},i.bezier=function(e,t,r,o,i,n){var s=1-n,a=s*s,c=n*n,u=a*s,l=3*n*a,h=3*c*s,d=c*n;return e[0]=t[0]*u+r[0]*l+o[0]*h+i[0]*d,e[1]=t[1]*u+r[1]*l+o[1]*h+i[1]*d,e[2]=t[2]*u+r[2]*l+o[2]*h+i[2]*d,e},i.random=function(e,t){t=t||1;var r=2*Math.random()*Math.PI,o=2*Math.random()-1,i=Math.sqrt(1-o*o)*t;return e[0]=Math.cos(r)*i,e[1]=Math.sin(r)*i,e[2]=o*t,e},i.transformMatrix44=function(e,t,r){var o=t[0],i=t[1],n=t[2];return e[0]=r[0]*o+r[4]*i+r[8]*n+r[12],e[1]=r[1]*o+r[5]*i+r[9]*n+r[13],e[2]=r[2]*o+r[6]*i+r[10]*n+r[14],e},i.transformAsDirectionMatrix44=function(e,t,r){var o=t[0],i=t[1],n=t[2];return e[0]=r[0]*o+r[4]*i+r[8]*n,e[1]=r[1]*o+r[5]*i+r[9]*n,e[2]=r[2]*o+r[6]*i+r[10]*n,e},i.transformMatrix33=function(e,t,r){var o=t[0],i=t[1],n=t[2];return e[0]=o*r[0]+i*r[3]+n*r[6],e[1]=o*r[1]+i*r[4]+n*r[7],e[2]=o*r[2]+i*r[5]+n*r[8],e},i.transformQuat=function(e,t,r){var o=t[0],i=t[1],n=t[2],s=r[0],a=r[1],c=r[2],u=r[3],l=u*o+a*n-c*i,h=u*i+c*o-s*n,d=u*n+s*i-a*o,p=-s*o-a*i-c*n;return e[0]=l*u+p*-s+h*-c-d*-a,e[1]=h*u+p*-a+d*-s-l*-c,e[2]=d*u+p*-c+l*-a-h*-s,e},i.setFromMatrixScale=function(e,t){var r=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),o=Math.sqrt(t[4]*t[4]+t[5]*t[5]+t[6]*t[6]),i=Math.sqrt(t[8]*t[8]+t[9]*t[9]+t[10]*t[10]);return e[0]=r,e[1]=o,e[2]=i,e},i.rotateX=function(e,t,r,o){var i=[],n=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],n[0]=i[0],n[1]=i[1]*Math.cos(o)-i[2]*Math.sin(o),n[2]=i[1]*Math.sin(o)+i[2]*Math.cos(o),e[0]=n[0]+r[0],e[1]=n[1]+r[1],e[2]=n[2]+r[2],e},i.rotateY=function(e,t,r,o){var i=[],n=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],n[0]=i[2]*Math.sin(o)+i[0]*Math.cos(o),n[1]=i[1],n[2]=i[2]*Math.cos(o)-i[0]*Math.sin(o),e[0]=n[0]+r[0],e[1]=n[1]+r[1],e[2]=n[2]+r[2],e},i.rotateZ=function(e,t,r,o){var i=[],n=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],n[0]=i[0]*Math.cos(o)-i[1]*Math.sin(o),n[1]=i[0]*Math.sin(o)+i[1]*Math.cos(o),n[2]=i[2],e[0]=n[0]+r[0],e[1]=n[1]+r[1],e[2]=n[2]+r[2],e},i.angle=function(e,t){var r=i.clone(e),o=i.clone(t);i.normalize(r,r),i.normalize(o,o);var n=i.dot(r,o),s=i.length(i.cross(r,r,o));return Math.atan2(s,n)},i.isParallel=function(e,t,r,n){n=n||o.b,r=r||0;var s=i.createFloat64();return i.cross(s,e,t),!(i.squaredLength(s)>n*n*i.squaredLength(e)*i.squaredLength(t))&&(r>0?i.dot(e,t)>0:!(r<0)||i.dot(e,t)<0)},i.isOrthogonal=function(e,t,r){r=r||o.b;var n=i.dot(e,t);return n*n<=r*r*i.squaredLength(e)*i.squaredLength(t)},i.computeOrthogonal=function(e,t){return t[0]*t[0]>t[2]*t[2]?i.set(e,t[1],-t[0],0):i.set(e,0,t[2],-t[1]),e},i.setEulerFromRotationMatrix=function(e,t,r){var i=1-o.b;function n(e){return Math.min(Math.max(e,-1),1)}var s=t[0],a=t[4],c=t[8],u=t[1],l=t[5],h=t[9],d=t[2],p=t[6],g=t[10];return void 0===r||\"XYZ\"===r?(e[1]=Math.asin(n(c)),Math.abs(c)<i?(e[0]=Math.atan2(-h,g),e[2]=Math.atan2(-a,s)):(e[0]=Math.atan2(p,l),e[2]=0)):\"YXZ\"===r?(e[0]=Math.asin(-n(h)),Math.abs(h)<i?(e[1]=Math.atan2(c,g),e[2]=Math.atan2(u,l)):(e[1]=Math.atan2(-d,s),e[2]=0)):\"ZXY\"===r?(e[0]=Math.asin(n(p)),Math.abs(p)<i?(e[1]=Math.atan2(-d,g),e[2]=Math.atan2(-a,l)):(e[1]=0,e[2]=Math.atan2(u,s))):\"ZYX\"===r?(e[1]=Math.asin(-n(d)),Math.abs(d)<i?(e[0]=Math.atan2(p,g),e[2]=Math.atan2(u,s)):(e[0]=0,e[2]=Math.atan2(-a,l))):\"YZX\"===r?(e[2]=Math.asin(n(u)),Math.abs(u)<i?(e[0]=Math.atan2(-h,l),e[1]=Math.atan2(-d,s)):(e[0]=0,e[1]=Math.atan2(c,g))):\"XZY\"===r&&(e[2]=Math.asin(-n(a)),Math.abs(a)<i?(e[0]=Math.atan2(p,l),e[1]=Math.atan2(c,s)):(e[0]=Math.atan2(-h,g),e[1]=0)),e},i.toString=function(e){return\"[\"+e[0]+\", \"+e[1]+\", \"+e[2]+\"]\"},i.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},i.equals=function(e,t,r){return r=r||o.b,Math.abs(e[0]-t[0])<=r&&Math.abs(e[1]-t[1])<=r&&Math.abs(e[2]-t[2])<=r},t.a=i},function(e,t,r){\"use strict\";var o=r(0),i={createFloat32:function(){var e=new Float32Array(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},createFloat64:function(){var e=new Float64Array(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},createNumber:function(){return[0,0,0,0]},clone:function(e){var t=new e.constructor(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},createFloat32FromValues:function(e,t,r,o){var i=new Float32Array(4);return i[0]=e,i[1]=t,i[2]=r,i[3]=o,i}};i.asFloat32=i.createFloat32FromValues,i.createFloat64FromValues=function(e,t,r,o){var i=new Float64Array(4);return i[0]=e,i[1]=t,i[2]=r,i[3]=o,i},i.asFloat64=i.createFloat64FromValues,i.createNumberFromValues=function(e,t,r,o){return[e,t,r,o]},i.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},i.set=function(e,t,r,o,i){return e[0]=t,e[1]=r,e[2]=o,e[3]=i,e},i.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e},i.subtract=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e},i.sub=i.subtract,i.multiply=function(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e},i.mul=i.multiply,i.divide=function(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e},i.div=i.divide,i.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},i.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},i.min=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e},i.max=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e},i.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},i.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e},i.scaleAndAdd=function(e,t,r,o){return e[0]=t[0]+r[0]*o,e[1]=t[1]+r[1]*o,e[2]=t[2]+r[2]*o,e[3]=t[3]+r[3]*o,e},i.distance=function(e,t){var r=t[0]-e[0],o=t[1]-e[1],i=t[2]-e[2],n=t[3]-e[3];return Math.sqrt(r*r+o*o+i*i+n*n)},i.dist=i.distance,i.squaredDistance=function(e,t){var r=t[0]-e[0],o=t[1]-e[1],i=t[2]-e[2],n=t[3]-e[3];return r*r+o*o+i*i+n*n},i.sqrDist=i.squaredDistance,i.length=function(e){var t=e[0],r=e[1],o=e[2],i=e[3];return Math.sqrt(t*t+r*r+o*o+i*i)},i.len=i.length,i.squaredLength=function(e){var t=e[0],r=e[1],o=e[2],i=e[3];return t*t+r*r+o*o+i*i},i.sqrLen=i.squaredLength,i.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},i.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},i.normalize=function(e,t){var r=t[0],o=t[1],i=t[2],n=t[3],s=r*r+o*o+i*i+n*n;return s>0&&(s=1/Math.sqrt(s),e[0]=r*s,e[1]=o*s,e[2]=i*s,e[3]=n*s),e},i.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},i.lerp=function(e,t,r,o){var i=t[0],n=t[1],s=t[2],a=t[3];return e[0]=i+o*(r[0]-i),e[1]=n+o*(r[1]-n),e[2]=s+o*(r[2]-s),e[3]=a+o*(r[3]-a),e},i.random=function(e,t){return t=t||1,e[0]=Math.random(),e[1]=Math.random(),e[2]=Math.random(),e[3]=Math.random(),i.normalize(e,e),i.scale(e,e,t),e},i.transformMatrix44=function(e,t,r){var o=t[0],i=t[1],n=t[2],s=t[3];return e[0]=r[0]*o+r[4]*i+r[8]*n+r[12]*s,e[1]=r[1]*o+r[5]*i+r[9]*n+r[13]*s,e[2]=r[2]*o+r[6]*i+r[10]*n+r[14]*s,e[3]=r[3]*o+r[7]*i+r[11]*n+r[15]*s,e},i.transformQuat=function(e,t,r){var o=t[0],i=t[1],n=t[2],s=r[0],a=r[1],c=r[2],u=r[3],l=u*o+a*n-c*i,h=u*i+c*o-s*n,d=u*n+s*i-a*o,p=-s*o-a*i-c*n;return e[0]=l*u+p*-s+h*-c-d*-a,e[1]=h*u+p*-a+d*-s-l*-c,e[2]=d*u+p*-c+l*-a-h*-s,e[3]=t[3],e},i.toString=function(e){return\"[\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\"]\"},i.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},i.equals=function(e,t,r){return r=r||o.b,Math.abs(e[0]-t[0])<=r&&Math.abs(e[1]-t[1])<=r&&Math.abs(e[2]-t[2])<=r&&Math.abs(e[2]-t[2])<=r},t.a=i},function(e,t,r){\"use strict\";var o=r(0),i={createFloat32:function(){var e=new Float32Array(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},createFloat64:function(){var e=new Float64Array(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},createNumber:function(){return[1,0,0,0,1,0,0,0,1]},fromMatrix44:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},clone:function(e){var t=new e.constructor(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},createFloat32FromValues:function(e,t,r,o,i,n,s,a,c){var u=new Float32Array(9);return u[0]=e,u[1]=t,u[2]=r,u[3]=o,u[4]=i,u[5]=n,u[6]=s,u[7]=a,u[8]=c,u}};i.asFloat32=i.createFloat32FromValues,i.createFloat64FromValues=function(e,t,r,o,i,n,s,a,c){var u=new Float64Array(9);return u[0]=e,u[1]=t,u[2]=r,u[3]=o,u[4]=i,u[5]=n,u[6]=s,u[7]=a,u[8]=c,u},i.asFloat64=i.createFloat64FromValues,i.createNumberFromValues=function(e,t,r,o,i,n,s,a,c){return[e,t,r,o,i,n,s,a,c]},i.set=function(e,t,r,o,i,n,s,a,c,u){return e[0]=t,e[1]=r,e[2]=o,e[3]=i,e[4]=n,e[5]=s,e[6]=a,e[7]=c,e[8]=u,e},i.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},i.transpose=function(e,t){if(e===t){var r=t[1],o=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=o,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},i.invert=function(e,t){var r=t[0],o=t[1],i=t[2],n=t[3],s=t[4],a=t[5],c=t[6],u=t[7],l=t[8],h=l*s-a*u,d=-l*n+a*c,p=u*n-s*c,g=r*h+o*d+i*p;return g?(g=1/g,e[0]=h*g,e[1]=(-l*o+i*u)*g,e[2]=(a*o-i*s)*g,e[3]=d*g,e[4]=(l*r-i*c)*g,e[5]=(-a*r+i*n)*g,e[6]=p*g,e[7]=(-u*r+o*c)*g,e[8]=(s*r-o*n)*g,e):null},i.determinant=function(e){var t=e[0],r=e[1],o=e[2],i=e[3],n=e[4],s=e[5],a=e[6],c=e[7],u=e[8];return t*(u*n-s*c)+r*(-u*i+s*a)+o*(c*i-n*a)},i.multiply=function(e,t,r){var o=t[0],i=t[1],n=t[2],s=t[3],a=t[4],c=t[5],u=t[6],l=t[7],h=t[8],d=r[0],p=r[1],g=r[2],f=r[3],v=r[4],_=r[5],y=r[6],m=r[7],E=r[8];return e[0]=d*o+p*s+g*u,e[1]=d*i+p*a+g*l,e[2]=d*n+p*c+g*h,e[3]=f*o+v*s+_*u,e[4]=f*i+v*a+_*l,e[5]=f*n+v*c+_*h,e[6]=y*o+m*s+E*u,e[7]=y*i+m*a+E*l,e[8]=y*n+m*c+E*h,e},i.mul=i.multiply,i.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e},i.fromRotation=function(e,t){var r=Math.sin(t),o=Math.cos(t);return e[0]=o,e[1]=r,e[2]=0,e[3]=-r,e[4]=o,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},i.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},i.fromQuat=function(e,t){var r=t[0],o=t[1],i=t[2],n=t[3],s=r+r,a=o+o,c=i+i,u=r*s,l=o*s,h=o*a,d=i*s,p=i*a,g=i*c,f=n*s,v=n*a,_=n*c;return e[0]=1-h-g,e[3]=l-_,e[6]=d+v,e[1]=l+_,e[4]=1-u-g,e[7]=p-f,e[2]=d-v,e[5]=p+f,e[8]=1-u-h,e},i.normalFromMatrix44=function(e,t){var r=t[0],o=t[1],i=t[2],n=t[3],s=t[4],a=t[5],c=t[6],u=t[7],l=t[8],h=t[9],d=t[10],p=t[11],g=t[12],f=t[13],v=t[14],_=t[15],y=r*a-o*s,m=r*c-i*s,E=r*u-n*s,x=o*c-i*a,R=o*u-n*a,A=i*u-n*c,P=l*f-h*g,V=l*v-d*g,T=l*_-p*g,b=h*v-d*f,C=h*_-p*f,O=d*_-p*v,L=y*O-m*C+E*b+x*T-R*V+A*P;return L?(L=1/L,e[0]=(a*O-c*C+u*b)*L,e[1]=(c*T-s*O-u*V)*L,e[2]=(s*C-a*T+u*P)*L,e[3]=(i*C-o*O-n*b)*L,e[4]=(r*O-i*T+n*V)*L,e[5]=(o*T-r*C-n*P)*L,e[6]=(f*A-v*R+_*x)*L,e[7]=(v*E-g*A-_*m)*L,e[8]=(g*R-f*E+_*y)*L,e):null},i.toString=function(e){return\"[\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\", \"+e[4]+\", \"+e[5]+\", \"+e[6]+\", \"+e[7]+\", \"+e[8]+\"]\"},i.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e},i.subtract=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e},i.sub=i.subtract,i.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e},i.multiplyScalarAndAdd=function(e,t,r,o){return e[0]=t[0]+r[0]*o,e[1]=t[1]+r[1]*o,e[2]=t[2]+r[2]*o,e[3]=t[3]+r[3]*o,e[4]=t[4]+r[4]*o,e[5]=t[5]+r[5]*o,e[6]=t[6]+r[6]*o,e[7]=t[7]+r[7]*o,e[8]=t[8]+r[8]*o,e},i.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},i.equals=function(e,t,r){return r=r||o.b,Math.abs(e[0]-t[0])<=r&&Math.abs(e[1]-t[1])<=r&&Math.abs(e[2]-t[2])<=r&&Math.abs(e[3]-t[3])<=r&&Math.abs(e[4]-t[4])<=r&&Math.abs(e[5]-t[5])<=r&&Math.abs(e[6]-t[6])<=r&&Math.abs(e[7]-t[7])<=r&&Math.abs(e[8]-t[8])<=r},t.a=i},function(e,t,r){\"use strict\";var o=r(0),i={createFloat32:function(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},createFloat64:function(){var e=new Float64Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},createNumber:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},clone:function(e){var t=new e.constructor(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},createFloat32FromValues:function(e,t,r,o,i,n,s,a,c,u,l,h,d,p,g,f){var v=new Float32Array(16);return v[0]=e,v[1]=t,v[2]=r,v[3]=o,v[4]=i,v[5]=n,v[6]=s,v[7]=a,v[8]=c,v[9]=u,v[10]=l,v[11]=h,v[12]=d,v[13]=p,v[14]=g,v[15]=f,v}};i.asFloat32=i.createFloat32FromValues,i.createFloat64FromValues=function(e,t,r,o,i,n,s,a,c,u,l,h,d,p,g,f){var v=new Float64Array(16);return v[0]=e,v[1]=t,v[2]=r,v[3]=o,v[4]=i,v[5]=n,v[6]=s,v[7]=a,v[8]=c,v[9]=u,v[10]=l,v[11]=h,v[12]=d,v[13]=p,v[14]=g,v[15]=f,v},i.asFloat64=i.createFloat64FromValues,i.createNumberFromValues=function(e,t,r,o,i,n,s,a,c,u,l,h,d,p,g,f){return[e,t,r,o,i,n,s,a,c,u,l,h,d,p,g,f]},i.set=function(e,t,r,o,i,n,s,a,c,u,l,h,d,p,g,f,v){return e[0]=t,e[1]=r,e[2]=o,e[3]=i,e[4]=n,e[5]=s,e[6]=a,e[7]=c,e[8]=u,e[9]=l,e[10]=h,e[11]=d,e[12]=p,e[13]=g,e[14]=f,e[15]=v,e},i.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.transpose=function(e,t){if(e===t){var r=t[1],o=t[2],i=t[3],n=t[6],s=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=o,e[9]=n,e[11]=t[14],e[12]=i,e[13]=s,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e},i.invert=function(e,t){var r=t[0],o=t[1],i=t[2],n=t[3],s=t[4],a=t[5],c=t[6],u=t[7],l=t[8],h=t[9],d=t[10],p=t[11],g=t[12],f=t[13],v=t[14],_=t[15],y=r*a-o*s,m=r*c-i*s,E=r*u-n*s,x=o*c-i*a,R=o*u-n*a,A=i*u-n*c,P=l*f-h*g,V=l*v-d*g,T=l*_-p*g,b=h*v-d*f,C=h*_-p*f,O=d*_-p*v,L=y*O-m*C+E*b+x*T-R*V+A*P;return L?(L=1/L,e[0]=(a*O-c*C+u*b)*L,e[1]=(i*C-o*O-n*b)*L,e[2]=(f*A-v*R+_*x)*L,e[3]=(d*R-h*A-p*x)*L,e[4]=(c*T-s*O-u*V)*L,e[5]=(r*O-i*T+n*V)*L,e[6]=(v*E-g*A-_*m)*L,e[7]=(l*A-d*E+p*m)*L,e[8]=(s*C-a*T+u*P)*L,e[9]=(o*T-r*C-n*P)*L,e[10]=(g*R-f*E+_*y)*L,e[11]=(h*E-l*R-p*y)*L,e[12]=(a*V-s*b-c*P)*L,e[13]=(r*b-o*V+i*P)*L,e[14]=(f*m-g*x-v*y)*L,e[15]=(l*x-h*m+d*y)*L,e):null},i.determinant=function(e){var t=e[0],r=e[1],o=e[2],i=e[3],n=e[4],s=e[5],a=e[6],c=e[7],u=e[8],l=e[9],h=e[10],d=e[11],p=e[12],g=e[13],f=e[14],v=e[15];return(t*s-r*n)*(h*v-d*f)-(t*a-o*n)*(l*v-d*g)+(t*c-i*n)*(l*f-h*g)+(r*a-o*s)*(u*v-d*p)-(r*c-i*s)*(u*f-h*p)+(o*c-i*a)*(u*g-l*p)},i.multiply=function(e,t,r){var o=t[0],i=t[1],n=t[2],s=t[3],a=t[4],c=t[5],u=t[6],l=t[7],h=t[8],d=t[9],p=t[10],g=t[11],f=t[12],v=t[13],_=t[14],y=t[15],m=r[0],E=r[1],x=r[2],R=r[3];return e[0]=m*o+E*a+x*h+R*f,e[1]=m*i+E*c+x*d+R*v,e[2]=m*n+E*u+x*p+R*_,e[3]=m*s+E*l+x*g+R*y,m=r[4],E=r[5],x=r[6],R=r[7],e[4]=m*o+E*a+x*h+R*f,e[5]=m*i+E*c+x*d+R*v,e[6]=m*n+E*u+x*p+R*_,e[7]=m*s+E*l+x*g+R*y,m=r[8],E=r[9],x=r[10],R=r[11],e[8]=m*o+E*a+x*h+R*f,e[9]=m*i+E*c+x*d+R*v,e[10]=m*n+E*u+x*p+R*_,e[11]=m*s+E*l+x*g+R*y,m=r[12],E=r[13],x=r[14],R=r[15],e[12]=m*o+E*a+x*h+R*f,e[13]=m*i+E*c+x*d+R*v,e[14]=m*n+E*u+x*p+R*_,e[15]=m*s+E*l+x*g+R*y,e},i.mul=i.multiply,i.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},i.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.fromRotation=function(e,t,r){var i,n,s,a=r[0],c=r[1],u=r[2],l=Math.sqrt(a*a+c*c+u*u);return Math.abs(l)<o.b?null:(a*=l=1/l,c*=l,u*=l,i=Math.sin(t),s=1-(n=Math.cos(t)),e[0]=a*a*s+n,e[1]=c*a*s+u*i,e[2]=u*a*s-c*i,e[3]=0,e[4]=a*c*s-u*i,e[5]=c*c*s+n,e[6]=u*c*s+a*i,e[7]=0,e[8]=a*u*s+c*i,e[9]=c*u*s-a*i,e[10]=u*u*s+n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},i.fromXRotation=function(e,t){var r=Math.sin(t),o=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.fromYRotation=function(e,t){var r=Math.sin(t),o=Math.cos(t);return e[0]=o,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.fromZRotation=function(e,t){var r=Math.sin(t),o=Math.cos(t);return e[0]=o,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.fromRotationTranslation=function(e,t,r){var o=t[0],i=t[1],n=t[2],s=t[3],a=o+o,c=i+i,u=n+n,l=o*a,h=o*c,d=o*u,p=i*c,g=i*u,f=n*u,v=s*a,_=s*c,y=s*u;return e[0]=1-(p+f),e[1]=h+y,e[2]=d-_,e[3]=0,e[4]=h-y,e[5]=1-(l+f),e[6]=g+v,e[7]=0,e[8]=d+_,e[9]=g-v,e[10]=1-(l+p),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e},i.getTranslation=function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e},i.extractRotation=function(e,t){var r=1/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),o=1/Math.sqrt(t[4]*t[4]+t[5]*t[5]+t[6]*t[6]),i=1/Math.sqrt(t[8]*t[8]+t[9]*t[9]+t[10]*t[10]);return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=0,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=0,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},i.getRotation=function(e,t){var r=t[0]+t[5]+t[10],o=0;return r>0?(o=2*Math.sqrt(r+1),e[3]=.25*o,e[0]=(t[6]-t[9])/o,e[1]=(t[8]-t[2])/o,e[2]=(t[1]-t[4])/o):t[0]>t[5]&&t[0]>t[10]?(o=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/o,e[0]=.25*o,e[1]=(t[1]+t[4])/o,e[2]=(t[8]+t[2])/o):t[5]>t[10]?(o=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/o,e[0]=(t[1]+t[4])/o,e[1]=.25*o,e[2]=(t[6]+t[9])/o):(o=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/o,e[0]=(t[8]+t[2])/o,e[1]=(t[6]+t[9])/o,e[2]=.25*o),e},i.fromRotationTranslationScale=function(e,t,r,o){var i=t[0],n=t[1],s=t[2],a=t[3],c=i+i,u=n+n,l=s+s,h=i*c,d=i*u,p=i*l,g=n*u,f=n*l,v=s*l,_=a*c,y=a*u,m=a*l,E=o[0],x=o[1],R=o[2];return e[0]=(1-(g+v))*E,e[1]=(d+m)*E,e[2]=(p-y)*E,e[3]=0,e[4]=(d-m)*x,e[5]=(1-(h+v))*x,e[6]=(f+_)*x,e[7]=0,e[8]=(p+y)*R,e[9]=(f-_)*R,e[10]=(1-(h+g))*R,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e},i.fromRotationTranslationScaleOrigin=function(e,t,r,o,i){var n=t[0],s=t[1],a=t[2],c=t[3],u=n+n,l=s+s,h=a+a,d=n*u,p=n*l,g=n*h,f=s*l,v=s*h,_=a*h,y=c*u,m=c*l,E=c*h,x=o[0],R=o[1],A=o[2],P=i[0],V=i[1],T=i[2];return e[0]=(1-(f+_))*x,e[1]=(p+E)*x,e[2]=(g-m)*x,e[3]=0,e[4]=(p-E)*R,e[5]=(1-(d+_))*R,e[6]=(v+y)*R,e[7]=0,e[8]=(g+m)*A,e[9]=(v-y)*A,e[10]=(1-(d+f))*A,e[11]=0,e[12]=r[0]+P-(e[0]*P+e[4]*V+e[8]*T),e[13]=r[1]+V-(e[1]*P+e[5]*V+e[9]*T),e[14]=r[2]+T-(e[2]*P+e[6]*V+e[10]*T),e[15]=1,e},i.fromQuat=function(e,t){var r=t[0],o=t[1],i=t[2],n=t[3],s=r+r,a=o+o,c=i+i,u=r*s,l=o*s,h=o*a,d=i*s,p=i*a,g=i*c,f=n*s,v=n*a,_=n*c;return e[0]=1-h-g,e[1]=l+_,e[2]=d-v,e[3]=0,e[4]=l-_,e[5]=1-u-g,e[6]=p+f,e[7]=0,e[8]=d+v,e[9]=p-f,e[10]=1-u-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.setRotationFromEuler=function(e,t,r){var o=t[0],i=t[1],n=t[2],s=Math.cos(o),a=Math.sin(o),c=Math.cos(i),u=Math.sin(i),l=Math.cos(n),h=Math.sin(n);if(void 0===r||\"XYZ\"===r){var d=s*l,p=s*h,g=a*l,f=a*h;e[0]=c*l,e[4]=-c*h,e[8]=u,e[1]=p+g*u,e[5]=d-f*u,e[9]=-a*c,e[2]=f-d*u,e[6]=g+p*u,e[10]=s*c}else if(\"YXZ\"===r){var v=c*l,_=c*h,y=u*l,m=u*h;e[0]=v+m*a,e[4]=y*a-_,e[8]=s*u,e[1]=s*h,e[5]=s*l,e[9]=-a,e[2]=_*a-y,e[6]=m+v*a,e[10]=s*c}else if(\"ZXY\"===r)v=c*l,_=c*h,y=u*l,m=u*h,e[0]=v-m*a,e[4]=-s*h,e[8]=y+_*a,e[1]=_+y*a,e[5]=s*l,e[9]=m-v*a,e[2]=-s*u,e[6]=a,e[10]=s*c;else if(\"ZYX\"===r)d=s*l,p=s*h,g=a*l,f=a*h,e[0]=c*l,e[4]=g*u-p,e[8]=d*u+f,e[1]=c*h,e[5]=f*u+d,e[9]=p*u-g,e[2]=-u,e[6]=a*c,e[10]=s*c;else if(\"YZX\"===r){var E=s*c,x=s*u,R=a*c,A=a*u;e[0]=c*l,e[4]=A-E*h,e[8]=R*h+x,e[1]=h,e[5]=s*l,e[9]=-a*l,e[2]=-u*l,e[6]=x*h+R,e[10]=E-A*h}else\"XZY\"===r&&(E=s*c,x=s*u,R=a*c,A=a*u,e[0]=c*l,e[4]=-h,e[8]=u*l,e[1]=E*h+A,e[5]=s*l,e[9]=x*h-R,e[2]=R*h-x,e[6]=a*l,e[10]=A*h+E);return e},i.toString=function(e){return\"[\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\", \"+e[4]+\", \"+e[5]+\", \"+e[6]+\", \"+e[7]+\", \"+e[8]+\", \"+e[9]+\", \"+e[10]+\", \"+e[11]+\", \"+e[12]+\", \"+e[13]+\", \"+e[14]+\", \"+e[15]+\"]\"},i.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e},i.subtract=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e},i.sub=i.subtract,i.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e},i.multiplyScalarAndAdd=function(e,t,r,o){return e[0]=t[0]+r[0]*o,e[1]=t[1]+r[1]*o,e[2]=t[2]+r[2]*o,e[3]=t[3]+r[3]*o,e[4]=t[4]+r[4]*o,e[5]=t[5]+r[5]*o,e[6]=t[6]+r[6]*o,e[7]=t[7]+r[7]*o,e[8]=t[8]+r[8]*o,e[9]=t[9]+r[9]*o,e[10]=t[10]+r[10]*o,e[11]=t[11]+r[11]*o,e[12]=t[12]+r[12]*o,e[13]=t[13]+r[13]*o,e[14]=t[14]+r[14]*o,e[15]=t[15]+r[15]*o,e},i.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]},i.equals=function(e,t,r){return r=r||o.b,Math.abs(e[0]-t[0])<=r&&Math.abs(e[1]-t[1])<=r&&Math.abs(e[2]-t[2])<=r&&Math.abs(e[3]-t[3])<=r&&Math.abs(e[4]-t[4])<=r&&Math.abs(e[5]-t[5])<=r&&Math.abs(e[6]-t[6])<=r&&Math.abs(e[7]-t[7])<=r&&Math.abs(e[8]-t[8])<=r&&Math.abs(e[9]-t[9])<=r&&Math.abs(e[10]-t[10])<=r&&Math.abs(e[11]-t[11])<=r&&Math.abs(e[12]-t[12])<=r&&Math.abs(e[13]-t[13])<=r&&Math.abs(e[14]-t[14])<=r&&Math.abs(e[15]-t[15])<=r},t.a=i},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(6),i=r(1),n=r(2),s=r(7),a=r(3),c=r(4),u=r(8),l=r(9),h=r(0);r.d(t,\"Vector2\",(function(){return o.a})),r.d(t,\"Vector3\",(function(){return i.a})),r.d(t,\"Vector4\",(function(){return n.a})),r.d(t,\"Matrix22\",(function(){return s.a})),r.d(t,\"Matrix33\",(function(){return a.a})),r.d(t,\"Matrix44\",(function(){return c.a})),r.d(t,\"Quat\",(function(){return u.a})),r.d(t,\"ProjectionUtils\",(function(){return l.a})),r.d(t,\"FLOAT64_TOLERANCE\",(function(){return h.b})),r.d(t,\"FLOAT32_TOLERANCE\",(function(){return h.a})),t.default={Vector2:o.a,Vector3:i.a,Vector4:n.a,Matrix22:s.a,Matrix33:a.a,Matrix44:c.a,Quat:u.a,ProjectionUtils:l.a,FLOAT64_TOLERANCE:h.b,FLOAT32_TOLERANCE:h.a}},function(e,t,r){\"use strict\";var o=r(0),i={createFloat32:function(){var e=new Float32Array(2);return e[0]=0,e[1]=0,e},createFloat64:function(){var e=new Float64Array(2);return e[0]=0,e[1]=0,e},createNumber:function(){return[0,0]},clone:function(e){var t=new e.constructor(2);return t[0]=e[0],t[1]=e[1],t},createFloat32FromValues:function(e,t){var r=new Float32Array(2);return r[0]=e,r[1]=t,r}};i.asFloat32=i.createFloat32FromValues,i.createFloat64FromValues=function(e,t){var r=new Float64Array(2);return r[0]=e,r[1]=t,r},i.asFloat64=i.createFloat64FromValues,i.createNumberFromValues=function(e,t){return[e,t]},i.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e},i.set=function(e,t,r){return e[0]=t,e[1]=r,e},i.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e},i.subtract=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e},i.sub=i.subtract,i.multiply=function(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e},i.mul=i.multiply,i.divide=function(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e},i.div=i.divide,i.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},i.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},i.min=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e},i.max=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e},i.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},i.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e},i.scaleAndAdd=function(e,t,r,o){return e[0]=t[0]+r[0]*o,e[1]=t[1]+r[1]*o,e},i.distance=function(e,t){var r=t[0]-e[0],o=t[1]-e[1];return Math.sqrt(r*r+o*o)},i.dist=i.distance,i.squaredDistance=function(e,t){var r=t[0]-e[0],o=t[1]-e[1];return r*r+o*o},i.sqrDist=i.squaredDistance,i.length=function(e){var t=e[0],r=e[1];return Math.sqrt(t*t+r*r)},i.len=i.length,i.squaredLength=function(e){var t=e[0],r=e[1];return t*t+r*r},i.sqrLen=i.squaredLength,i.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},i.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},i.normalize=function(e,t){var r=t[0],o=t[1],i=r*r+o*o;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e},i.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},i.cross=function(e,t,r){var o=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=o,e},i.lerp=function(e,t,r,o){var i=t[0],n=t[1];return e[0]=i+o*(r[0]-i),e[1]=n+o*(r[1]-n),e},i.random=function(e,t){t=t||1;var r=2*Math.random()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e},i.transformMatrix22=function(e,t,r){var o=t[0],i=t[1];return e[0]=r[0]*o+r[2]*i,e[1]=r[1]*o+r[3]*i,e},i.transformMatrix33=function(e,t,r){var o=t[0],i=t[1];return e[0]=r[0]*o+r[3]*i+r[6],e[1]=r[1]*o+r[4]*i+r[7],e},i.transformMatrix44=function(e,t,r){var o=t[0],i=t[1];return e[0]=r[0]*o+r[4]*i+r[12],e[1]=r[1]*o+r[5]*i+r[13],e},i.angle=function(e,t){var r=i.clone(e),o=i.clone(t);i.normalize(r,r),i.normalize(o,o);var n=i.dot(r,o),s=Math.abs(r[0]*o[1]-r[1]*o[0]);return Math.atan2(s,n)},i.isParallel=function(e,t,r,n){n=n||o.b,r=r||0;var s=e[0]*t[1]-e[1]*t[0];return!(s*s>n*n*i.squaredLength(e)*i.squaredLength(t))&&(r>0?i.dot(e,t)>0:!(r<0)||i.dot(e,t)<0)},i.isOrthogonal=function(e,t,r){r=r||o.b;var n=i.dot(e,t);return n*n<=r*r*i.squaredLength(e)*i.squaredLength(t)},i.toString=function(e){return\"[\"+e[0]+\", \"+e[1]+\"]\"},i.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]},i.equals=function(e,t,r){return r=r||o.b,Math.abs(e[0]-t[0])<=r&&Math.abs(e[1]-t[1])<=r},t.a=i},function(e,t,r){\"use strict\";var o=r(0),i={createFloat32:function(){var e=new Float32Array(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},createFloat64:function(){var e=new Float64Array(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},createNumber:function(){return[1,0,0,1]},clone:function(e){var t=new e.constructor(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},createFloat32FromValues:function(e,t,r,o){var i=new Float32Array(4);return i[0]=e,i[1]=t,i[2]=r,i[3]=o,i}};i.asFloat32=i.createFloat32FromValues,i.createFloat64FromValues=function(e,t,r,o){var i=new Float64Array(4);return i[0]=e,i[1]=t,i[2]=r,i[3]=o,i},i.asFloat64=i.createFloat64FromValues,i.createNumberFromValues=function(e,t,r,o){return[e,t,r,o]},i.set=function(e,t,r,o,i){return e[0]=t,e[1]=r,e[2]=o,e[3]=i,e},i.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},i.transpose=function(e,t){if(e===t){var r=t[1];e[1]=t[2],e[2]=r}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e},i.invert=function(e,t){var r=t[0],o=t[1],i=t[2],n=t[3],s=r*n-i*o;return s?(s=1/s,e[0]=n*s,e[1]=-o*s,e[2]=-i*s,e[3]=r*s,e):null},i.determinant=function(e){return e[0]*e[3]-e[2]*e[1]},i.multiply=function(e,t,r){var o=t[0],i=t[1],n=t[2],s=t[3],a=r[0],c=r[1],u=r[2],l=r[3];return e[0]=o*a+n*c,e[1]=i*a+s*c,e[2]=o*u+n*l,e[3]=i*u+s*l,e},i.mul=i.multiply,i.scale=function(e,t,r){var o=t[0],i=t[1],n=t[2],s=t[3],a=r[0],c=r[1];return e[0]=o*a,e[1]=i*a,e[2]=n*c,e[3]=s*c,e},i.toString=function(e){return\"[\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\"]\"},i.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e},i.subtract=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e},i.sub=i.subtract,i.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e},i.multiplyScalarAndAdd=function(e,t,r,o){return e[0]=t[0]+r[0]*o,e[1]=t[1]+r[1]*o,e[2]=t[2]+r[2]*o,e[3]=t[3]+r[3]*o,e},i.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},i.equals=function(e,t,r){return r=r||o.b,Math.abs(e[0]-t[0])<=r&&Math.abs(e[1]-t[1])<=r&&Math.abs(e[2]-t[2])<=r&&Math.abs(e[3]-t[3])<=r},t.a=i},function(e,t,r){\"use strict\";var o,i,n,s,a,c,u=r(0),l=r(1),h=r(2),d=r(3),p={createFloat32:function(){var e=new Float32Array(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},createFloat64:function(){var e=new Float64Array(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},createNumber:function(){return[0,0,0,1]}};p.rotationTo=(o=l.a.createFloat64(),i=l.a.createFloat64FromValues(1,0,0),n=l.a.createFloat64FromValues(0,1,0),function(e,t,r){var s=l.a.dot(t,r);return s<-1+u.b?(l.a.cross(o,i,t),l.a.length(o)<u.b&&l.a.cross(o,n,t),l.a.normalize(o,o),p.setAxisAngle(e,o,Math.PI),e):s>1-u.b?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(l.a.cross(o,t,r),e[0]=o[0],e[1]=o[1],e[2]=o[2],e[3]=1+s,p.normalize(e,e))}),p.setAxes=(s=d.a.createFloat64(),function(e,t,r,o){return s[0]=r[0],s[3]=r[1],s[6]=r[2],s[1]=o[0],s[4]=o[1],s[7]=o[2],s[2]=-t[0],s[5]=-t[1],s[8]=-t[2],p.normalize(e,p.fromMatrix33(e,s))}),p.clone=h.a.clone,p.createFloat32FromValues=h.a.createFloat32FromValues,p.createFloat64FromValues=h.a.createFloat64FromValues,p.createNumberFromValues=h.a.createNumberFromValues,p.asFloat32=h.a.createFloat32FromValues,p.asFloat64=h.a.createFloat64FromValues,p.copy=h.a.copy,p.set=h.a.set,p.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},p.setAxisAngle=function(e,t,r){r*=.5;var o=Math.sin(r);return e[0]=o*t[0],e[1]=o*t[1],e[2]=o*t[2],e[3]=Math.cos(r),e},p.getAxisAngle=function(e,t){var r=2*Math.acos(t[3]),o=Math.sin(r/2);return 0!==o?(e[0]=t[0]/o,e[1]=t[1]/o,e[2]=t[2]/o):(e[0]=1,e[1]=0,e[2]=0),r},p.add=h.a.add,p.multiply=function(e,t,r){var o=t[0],i=t[1],n=t[2],s=t[3],a=r[0],c=r[1],u=r[2],l=r[3];return e[0]=o*l+s*a+i*u-n*c,e[1]=i*l+s*c+n*a-o*u,e[2]=n*l+s*u+o*c-i*a,e[3]=s*l-o*a-i*c-n*u,e},p.mul=p.multiply,p.scale=h.a.scale,p.rotateX=function(e,t,r){r*=.5;var o=t[0],i=t[1],n=t[2],s=t[3],a=Math.sin(r),c=Math.cos(r);return e[0]=o*c+s*a,e[1]=i*c+n*a,e[2]=n*c-i*a,e[3]=s*c-o*a,e},p.rotateY=function(e,t,r){r*=.5;var o=t[0],i=t[1],n=t[2],s=t[3],a=Math.sin(r),c=Math.cos(r);return e[0]=o*c-n*a,e[1]=i*c+s*a,e[2]=n*c+o*a,e[3]=s*c-i*a,e},p.rotateZ=function(e,t,r){r*=.5;var o=t[0],i=t[1],n=t[2],s=t[3],a=Math.sin(r),c=Math.cos(r);return e[0]=o*c+i*a,e[1]=i*c-o*a,e[2]=n*c+s*a,e[3]=s*c-n*a,e},p.calculateW=function(e,t){var r=t[0],o=t[1],i=t[2];return e[0]=r,e[1]=o,e[2]=i,e[3]=Math.sqrt(Math.abs(1-r*r-o*o-i*i)),e},p.dot=h.a.dot,p.lerp=h.a.lerp,p.slerp=function(e,t,r,o){var i,n,s,a,c,l=t[0],h=t[1],d=t[2],p=t[3],g=r[0],f=r[1],v=r[2],_=r[3];return(n=l*g+h*f+d*v+p*_)<0&&(n=-n,g=-g,f=-f,v=-v,_=-_),1-n>u.b?(i=Math.acos(n),s=Math.sin(i),a=Math.sin((1-o)*i)/s,c=Math.sin(o*i)/s):(a=1-o,c=o),e[0]=a*l+c*g,e[1]=a*h+c*f,e[2]=a*d+c*v,e[3]=a*p+c*_,e},p.sqlerp=(a=p.createFloat64(),c=p.createFloat64(),function(e,t,r,o,i,n){return p.slerp(a,t,i,n),p.slerp(c,r,o,n),p.slerp(e,a,c,2*n*(1-n)),e}),p.invert=function(e,t){var r=t[0],o=t[1],i=t[2],n=t[3],s=r*r+o*o+i*i+n*n,a=s?1/s:0;return e[0]=-r*a,e[1]=-o*a,e[2]=-i*a,e[3]=n*a,e},p.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},p.length=h.a.length,p.len=p.length,p.squaredLength=h.a.squaredLength,p.sqrLen=p.squaredLength,p.normalize=h.a.normalize,p.fromMatrix33=function(e,t){var r,o=t[0]+t[4]+t[8];if(o>0)r=Math.sqrt(o+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var n=(i+1)%3,s=(i+2)%3;r=Math.sqrt(t[3*i+i]-t[3*n+n]-t[3*s+s]+1),e[i]=.5*r,r=.5/r,e[3]=(t[3*n+s]-t[3*s+n])*r,e[n]=(t[3*n+i]+t[3*i+n])*r,e[s]=(t[3*s+i]+t[3*i+s])*r}return e},p.toString=function(e){return\"[\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\"]\"},p.exactEquals=h.a.exactEquals,p.equals=h.a.equals,t.a=p},function(e,t,r){\"use strict\";var o=r(0),i=r(4),n={frustum:function(e,t,r,o,i,n,s){var a=1/(r-t),c=1/(i-o),u=1/(n-s);return e[0]=2*n*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*n*c,e[6]=0,e[7]=0,e[8]=(r+t)*a,e[9]=(i+o)*c,e[10]=(s+n)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=s*n*2*u,e[15]=0,e},perspective:function(e,t,r,o,i){var n=1/Math.tan(t/2),s=1/(o-i);return e[0]=n/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+o)*s,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*o*s,e[15]=0,e},ortho:function(e,t,r,o,i,n,s){var a=1/(t-r),c=1/(o-i),u=1/(n-s);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+r)*a,e[13]=(i+o)*c,e[14]=(s+n)*u,e[15]=1,e},lookAt:function(e,t,r,n){var s,a,c,u,l,h,d,p,g,f,v=t[0],_=t[1],y=t[2],m=n[0],E=n[1],x=n[2],R=r[0],A=r[1],P=r[2];return Math.abs(v-R)<o.b&&Math.abs(_-A)<o.b&&Math.abs(y-P)<o.b?i.a.identity(e):(d=v-R,p=_-A,g=y-P,s=E*(g*=f=1/Math.sqrt(d*d+p*p+g*g))-x*(p*=f),a=x*(d*=f)-m*g,c=m*p-E*d,(f=Math.sqrt(s*s+a*a+c*c))?(s*=f=1/f,a*=f,c*=f):(s=0,a=0,c=0),u=p*c-g*a,l=g*s-d*c,h=d*a-p*s,(f=Math.sqrt(u*u+l*l+h*h))?(u*=f=1/f,l*=f,h*=f):(u=0,l=0,h=0),e[0]=s,e[1]=u,e[2]=d,e[3]=0,e[4]=a,e[5]=l,e[6]=p,e[7]=0,e[8]=c,e[9]=h,e[10]=g,e[11]=0,e[12]=-(s*v+a*_+c*y),e[13]=-(u*v+l*_+h*y),e[14]=-(d*v+p*_+g*y),e[15]=1,e)},transformProjectionMatrix:function(e,t,r){var o=t[0],i=t[1],n=t[2],s=r[3]*o+r[7]*i+r[11]*n+r[15];return s=s||1,e[0]=(r[0]*o+r[4]*i+r[8]*n+r[12])/s,e[1]=(r[1]*o+r[5]*i+r[9]*n+r[13])/s,e[2]=(r[2]*o+r[6]*i+r[10]*n+r[14])/s,e}};t.a=n}])},e.exports=t()},5320:e=>{\"use strict\";e.exports=function(e,t){var r=new Array(arguments.length-1),o=0,i=2,n=!0;for(;i<arguments.length;)r[o++]=arguments[i++];return new Promise((function(i,s){r[o]=function(e){if(n)if(n=!1,e)s(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(e){n&&(n=!1,s(e))}}))}},752:(e,t)=>{\"use strict\";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&\"=\"===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var o=new Array(64),i=new Array(123),n=0;n<64;)i[o[n]=n<26?n+65:n<52?n+71:n<62?n-4:n-59|43]=n++;r.encode=function(e,t,r){for(var i,n=null,s=[],a=0,c=0;t<r;){var u=e[t++];switch(c){case 0:s[a++]=o[u>>2],i=(3&u)<<4,c=1;break;case 1:s[a++]=o[i|u>>4],i=(15&u)<<2,c=2;break;case 2:s[a++]=o[i|u>>6],s[a++]=o[63&u],c=0}a>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,s)),a=0)}return c&&(s[a++]=o[i],s[a++]=61,1===c&&(s[a++]=61)),n?(a&&n.push(String.fromCharCode.apply(String,s.slice(0,a))),n.join(\"\")):String.fromCharCode.apply(String,s.slice(0,a))};var s=\"invalid encoding\";r.decode=function(e,t,r){for(var o,n=r,a=0,c=0;c<e.length;){var u=e.charCodeAt(c++);if(61===u&&a>1)break;if(void 0===(u=i[u]))throw Error(s);switch(a){case 0:o=u,a=1;break;case 1:t[r++]=o<<2|(48&u)>>4,o=u,a=2;break;case 2:t[r++]=(15&o)<<4|(60&u)>>2,o=u,a=3;break;case 3:t[r++]=(3&o)<<6|u,a=0}}if(1===a)throw Error(s);return r-n},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},4824:e=>{\"use strict\";function t(e,r){\"string\"==typeof e&&(r=e,e=void 0);var o=[];function i(e){if(\"string\"!=typeof e){var r=n();if(t.verbose&&console.log(\"codegen: \"+r),r=\"return \"+r,e){for(var s=Object.keys(e),a=new Array(s.length+1),c=new Array(s.length),u=0;u<s.length;)a[u]=s[u],c[u]=e[s[u++]];return a[u]=r,Function.apply(null,a).apply(null,c)}return Function(r)()}for(var l=new Array(arguments.length-1),h=0;h<l.length;)l[h]=arguments[++h];if(h=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var r=l[h++];switch(t){case\"d\":case\"f\":return String(Number(r));case\"i\":return String(Math.floor(r));case\"j\":return JSON.stringify(r);case\"s\":return String(r)}return\"%\"})),h!==l.length)throw Error(\"parameter count mismatch\");return o.push(e),i}function n(t){return\"function \"+(t||r||\"\")+\"(\"+(e&&e.join(\",\")||\"\")+\"){\\n  \"+o.join(\"\\n  \")+\"\\n}\"}return i.toString=n,i}e.exports=t,t.verbose=!1},3947:e=>{\"use strict\";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],o=0;o<r.length;)r[o].fn===t?r.splice(o,1):++o;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],o=1;o<arguments.length;)r.push(arguments[o++]);for(o=0;o<t.length;)t[o].fn.apply(t[o++].ctx,r)}return this}},1560:(e,t,r)=>{\"use strict\";e.exports=n;var o=r(5320),i=r(1528)(\"fs\");function n(e,t,r){return\"function\"==typeof t?(r=t,t={}):t||(t={}),r?!t.xhr&&i&&i.readFile?i.readFile(e,(function(o,i){return o&&\"undefined\"!=typeof XMLHttpRequest?n.xhr(e,t,r):o?r(o):r(null,t.binary?i:i.toString(\"utf8\"))})):n.xhr(e,t,r):o(n,this,e,t)}n.xhr=function(e,t,r){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState){if(0!==o.status&&200!==o.status)return r(Error(\"status \"+o.status));if(t.binary){var e=o.response;if(!e){e=[];for(var i=0;i<o.responseText.length;++i)e.push(255&o.responseText.charCodeAt(i))}return r(null,\"undefined\"!=typeof Uint8Array?new Uint8Array(e):e)}return r(null,o.responseText)}},t.binary&&(\"overrideMimeType\"in o&&o.overrideMimeType(\"text/plain; charset=x-user-defined\"),o.responseType=\"arraybuffer\"),o.open(\"GET\",e),o.send()}},3732:e=>{\"use strict\";function t(e){return\"undefined\"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),o=128===r[3];function i(e,o,i){t[0]=e,o[i]=r[0],o[i+1]=r[1],o[i+2]=r[2],o[i+3]=r[3]}function n(e,o,i){t[0]=e,o[i]=r[3],o[i+1]=r[2],o[i+2]=r[1],o[i+3]=r[0]}function s(e,o){return r[0]=e[o],r[1]=e[o+1],r[2]=e[o+2],r[3]=e[o+3],t[0]}function a(e,o){return r[3]=e[o],r[2]=e[o+1],r[1]=e[o+2],r[0]=e[o+3],t[0]}e.writeFloatLE=o?i:n,e.writeFloatBE=o?n:i,e.readFloatLE=o?s:a,e.readFloatBE=o?a:s}():function(){function t(e,t,r,o){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,o);else if(isNaN(t))e(2143289344,r,o);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,o);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,o);else{var n=Math.floor(Math.log(t)/Math.LN2);e((i<<31|n+127<<23|8388607&Math.round(t*Math.pow(2,-n)*8388608))>>>0,r,o)}}function s(e,t,r){var o=e(t,r),i=2*(o>>31)+1,n=o>>>23&255,s=8388607&o;return 255===n?s?NaN:i*(1/0):0===n?1401298464324817e-60*i*s:i*Math.pow(2,n-150)*(s+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,o),e.readFloatLE=s.bind(null,i),e.readFloatBE=s.bind(null,n)}(),\"undefined\"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),o=128===r[7];function i(e,o,i){t[0]=e,o[i]=r[0],o[i+1]=r[1],o[i+2]=r[2],o[i+3]=r[3],o[i+4]=r[4],o[i+5]=r[5],o[i+6]=r[6],o[i+7]=r[7]}function n(e,o,i){t[0]=e,o[i]=r[7],o[i+1]=r[6],o[i+2]=r[5],o[i+3]=r[4],o[i+4]=r[3],o[i+5]=r[2],o[i+6]=r[1],o[i+7]=r[0]}function s(e,o){return r[0]=e[o],r[1]=e[o+1],r[2]=e[o+2],r[3]=e[o+3],r[4]=e[o+4],r[5]=e[o+5],r[6]=e[o+6],r[7]=e[o+7],t[0]}function a(e,o){return r[7]=e[o],r[6]=e[o+1],r[5]=e[o+2],r[4]=e[o+3],r[3]=e[o+4],r[2]=e[o+5],r[1]=e[o+6],r[0]=e[o+7],t[0]}e.writeDoubleLE=o?i:n,e.writeDoubleBE=o?n:i,e.readDoubleLE=o?s:a,e.readDoubleBE=o?a:s}():function(){function t(e,t,r,o,i,n){var s=o<0?1:0;if(s&&(o=-o),0===o)e(0,i,n+t),e(1/o>0?0:2147483648,i,n+r);else if(isNaN(o))e(0,i,n+t),e(2146959360,i,n+r);else if(o>17976931348623157e292)e(0,i,n+t),e((s<<31|2146435072)>>>0,i,n+r);else{var a;if(o<22250738585072014e-324)e((a=o/5e-324)>>>0,i,n+t),e((s<<31|a/4294967296)>>>0,i,n+r);else{var c=Math.floor(Math.log(o)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=o*Math.pow(2,-c))>>>0,i,n+t),e((s<<31|c+1023<<20|1048576*a&1048575)>>>0,i,n+r)}}}function s(e,t,r,o,i){var n=e(o,i+t),s=e(o,i+r),a=2*(s>>31)+1,c=s>>>20&2047,u=4294967296*(1048575&s)+n;return 2047===c?u?NaN:a*(1/0):0===c?5e-324*a*u:a*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=s.bind(null,i,0,4),e.readDoubleBE=s.bind(null,n,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function o(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function n(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},1528:module=>{\"use strict\";function inquire(moduleName){try{var mod=eval(\"quire\".replace(/^/,\"re\"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},7256:(e,t)=>{\"use strict\";var r=t,o=r.isAbsolute=function(e){return/^(?:\\/|\\w+:)/.test(e)},i=r.normalize=function(e){var t=(e=e.replace(/\\\\/g,\"/\").replace(/\\/{2,}/g,\"/\")).split(\"/\"),r=o(e),i=\"\";r&&(i=t.shift()+\"/\");for(var n=0;n<t.length;)\"..\"===t[n]?n>0&&\"..\"!==t[n-1]?t.splice(--n,2):r?t.splice(n,1):++n:\".\"===t[n]?t.splice(n,1):++n;return i+t.join(\"/\")};r.resolve=function(e,t,r){return r||(t=i(t)),o(t)?t:(r||(e=i(e)),(e=e.replace(/(?:\\/|^)[^/]+$/,\"\")).length?i(e+\"/\"+t):t)}},6264:e=>{\"use strict\";e.exports=function(e,t,r){var o=r||8192,i=o>>>1,n=null,s=o;return function(r){if(r<1||r>i)return e(r);s+r>o&&(n=e(o),s=0);var a=t.call(n,s,s+=r);return 7&s&&(s=1+(7|s)),a}}},1888:(e,t)=>{\"use strict\";var r=t;r.length=function(e){for(var t=0,r=0,o=0;o<e.length;++o)(r=e.charCodeAt(o))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(o+1))?(++o,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return\"\";for(var o,i=null,n=[],s=0;t<r;)(o=e[t++])<128?n[s++]=o:o>191&&o<224?n[s++]=(31&o)<<6|63&e[t++]:o>239&&o<365?(o=((7&o)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,n[s++]=55296+(o>>10),n[s++]=56320+(1023&o)):n[s++]=(15&o)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,n)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,n.slice(0,s))),i.join(\"\")):String.fromCharCode.apply(String,n.slice(0,s))},r.write=function(e,t,r){for(var o,i,n=r,s=0;s<e.length;++s)(o=e.charCodeAt(s))<128?t[r++]=o:o<2048?(t[r++]=o>>6|192,t[r++]=63&o|128):55296==(64512&o)&&56320==(64512&(i=e.charCodeAt(s+1)))?(o=65536+((1023&o)<<10)+(1023&i),++s,t[r++]=o>>18|240,t[r++]=o>>12&63|128,t[r++]=o>>6&63|128,t[r++]=63&o|128):(t[r++]=o>>12|224,t[r++]=o>>6&63|128,t[r++]=63&o|128);return r-n}},9140:(e,t,r)=>{\"use strict\";var o,i,n;if(Object.defineProperty(t,\"__esModule\",{value:!0}),void 0===s)var s={},a={exports:{}};n=function(){return function e(t,r,o){function i(s,a){if(!r[s]){if(!t[s]){if(n)return n(s,!0);throw new Error(\"Cannot find module '\"+s+\"'\")}var c=r[s]={exports:{}};t[s][0].call(c.exports,(function(e){var r=t[s][1][e];return i(r||e)}),c,c.exports,e,t,r,o)}return r[s].exports}for(var n=void 0,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,r){t.exports={version:\"1.3.5\"}},{}],2:[function(e,t,r){var o=function(e,t){this.head_=e,this.tail_=t,this.search_node_=e};o.prototype.head=function(){return this.head_},o.prototype.setHead=function(e){this.head_=e},o.prototype.tail=function(){return this.tail_},o.prototype.setTail=function(e){this.tail_=e},o.prototype.search=function(){return this.search_node_},o.prototype.setSearch=function(e){this.search_node_=e},o.prototype.findSearchNode=function(){return this.search_node_},o.prototype.locateNode=function(e){var t=this.search_node_;if(e<t.value){for(;t=t.prev;)if(e>=t.value)return this.search_node_=t,t}else for(;t=t.next;)if(e<t.value)return this.search_node_=t.prev,t.prev;return null},o.prototype.locatePoint=function(e){var t=e.x,r=this.findSearchNode(t),o=r.point.x;if(t===o){if(e!==r.point)if(e===r.prev.point)r=r.prev;else{if(e!==r.next.point)throw new Error(\"poly2tri Invalid AdvancingFront.locatePoint() call\");r=r.next}}else if(t<o)for(;(r=r.prev)&&e!==r.point;);else for(;(r=r.next)&&e!==r.point;);return r&&(this.search_node_=r),r},t.exports=o,t.exports.Node=function(e,t){this.point=e,this.triangle=t||null,this.next=null,this.prev=null,this.value=e.x}},{}],3:[function(e,t,r){t.exports=function(e,t){if(!e)throw new Error(t||\"Assert Failed\")}},{}],4:[function(e,t,r){var o=e(\"./xy\"),i=function(e,t){this.x=+e||0,this.y=+t||0,this._p2t_edge_list=null};i.prototype.toString=function(){return o.toStringBase(this)},i.prototype.toJSON=function(){return{x:this.x,y:this.y}},i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.set_zero=function(){return this.x=0,this.y=0,this},i.prototype.set=function(e,t){return this.x=+e||0,this.y=+t||0,this},i.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},i.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},i.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},i.prototype.mul=function(e){return this.x*=e,this.y*=e,this},i.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},i.prototype.normalize=function(){var e=this.length();return this.x/=e,this.y/=e,e},i.prototype.equals=function(e){return this.x===e.x&&this.y===e.y},i.negate=function(e){return new i(-e.x,-e.y)},i.add=function(e,t){return new i(e.x+t.x,e.y+t.y)},i.sub=function(e,t){return new i(e.x-t.x,e.y-t.y)},i.mul=function(e,t){return new i(e*t.x,e*t.y)},i.cross=function(e,t){return\"number\"==typeof e?\"number\"==typeof t?e*t:new i(-e*t.y,e*t.x):\"number\"==typeof t?new i(t*e.y,-t*e.x):e.x*t.y-e.y*t.x},i.toString=o.toString,i.compare=o.compare,i.cmp=o.compare,i.equals=o.equals,i.dot=function(e,t){return e.x*t.x+e.y*t.y},t.exports=i},{\"./xy\":11}],5:[function(e,t,r){var o=e(\"./xy\"),i=function(e,t){this.name=\"PointError\",this.points=t=t||[],this.message=e||\"Invalid Points!\";for(var r=0;r<t.length;r++)this.message+=\" \"+o.toString(t[r])};(i.prototype=new Error).constructor=i,t.exports=i},{\"./xy\":11}],6:[function(e,t,r){(function(t){var o=t.poly2tri;r.noConflict=function(){return t.poly2tri=o,r},r.VERSION=e(\"../dist/version.json\").version,r.PointError=e(\"./pointerror\"),r.Point=e(\"./point\"),r.Triangle=e(\"./triangle\"),r.SweepContext=e(\"./sweepcontext\");var i=e(\"./sweep\");r.triangulate=i.triangulate,r.sweep={Triangulate:i.triangulate}}).call(this,\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"../dist/version.json\":1,\"./point\":4,\"./pointerror\":5,\"./sweep\":7,\"./sweepcontext\":8,\"./triangle\":9}],7:[function(e,t,r){var o=e(\"./assert\"),i=e(\"./pointerror\"),n=e(\"./triangle\"),s=e(\"./advancingfront\").Node,a=e(\"./utils\"),c=a.EPSILON,u=a.Orientation,l=a.orient2d,h=a.inScanArea,d=a.isAngleObtuse;function p(e,t){var r=e.locateNode(t),i=function(e,t,r){var o=new n(t,r.point,r.next.point);o.markNeighbor(r.triangle),e.addToMap(o);var i=new s(t);return i.next=r.next,i.prev=r,r.next.prev=i,r.next=i,y(e,o)||e.mapTriangleToNodes(o),i}(e,t,r);return t.x<=r.point.x+c&&_(e,r),function(e,t){for(var r=t.next;r.next&&!d(r.point,r.next.point,r.prev.point);)_(e,r),r=r.next;for(r=t.prev;r.prev&&!d(r.point,r.next.point,r.prev.point);)_(e,r),r=r.prev;t.next&&t.next.next&&function(e){var t=e.point.x-e.next.next.point.x,r=e.point.y-e.next.next.point.y;return o(r>=0,\"unordered y\"),t>=0||Math.abs(t)<r}(t)&&function(e,t){for(l(t.point,t.next.point,t.next.next.point)===u.CCW?e.basin.left_node=t.next.next:e.basin.left_node=t.next,e.basin.bottom_node=e.basin.left_node;e.basin.bottom_node.next&&e.basin.bottom_node.point.y>=e.basin.bottom_node.next.point.y;)e.basin.bottom_node=e.basin.bottom_node.next;if(e.basin.bottom_node!==e.basin.left_node){for(e.basin.right_node=e.basin.bottom_node;e.basin.right_node.next&&e.basin.right_node.point.y<e.basin.right_node.next.point.y;)e.basin.right_node=e.basin.right_node.next;e.basin.right_node!==e.basin.bottom_node&&(e.basin.width=e.basin.right_node.point.x-e.basin.left_node.point.x,e.basin.left_highest=e.basin.left_node.point.y>e.basin.right_node.point.y,x(e,e.basin.bottom_node))}}(e,t)}(e,i),i}function g(e,t,r){e.edge_event.constrained_edge=t,e.edge_event.right=t.p.x>t.q.x,v(r.triangle,t.p,t.q)||(function(e,t,r){e.edge_event.right?function(e,t,r){for(;r.next.point.x<t.p.x;)l(t.q,r.next.point,t.p)===u.CCW?R(e,t,r):r=r.next}(e,t,r):function(e,t,r){for(;r.prev.point.x>t.p.x;)l(t.q,r.prev.point,t.p)===u.CW?V(e,t,r):r=r.prev}(e,t,r)}(e,t,r),f(e,t.p,t.q,r.triangle,t.q))}function f(e,t,r,o,n){if(!v(o,t,r)){var s=o.pointCCW(n),a=l(r,s,t);if(a===u.COLLINEAR)throw new i(\"poly2tri EdgeEvent: Collinear not supported!\",[r,s,t]);var c=o.pointCW(n),h=l(r,c,t);if(h===u.COLLINEAR)throw new i(\"poly2tri EdgeEvent: Collinear not supported!\",[r,c,t]);a===h?f(e,t,r,o=a===u.CW?o.neighborCCW(n):o.neighborCW(n),n):C(e,t,r,o,n)}}function v(e,t,r){var o=e.edgeIndex(t,r);if(-1!==o){e.markConstrainedEdgeByIndex(o);var i=e.getNeighbor(o);return i&&i.markConstrainedEdgeByPoints(t,r),!0}return!1}function _(e,t){var r=new n(t.prev.point,t.point,t.next.point);r.markNeighbor(t.prev.triangle),r.markNeighbor(t.triangle),e.addToMap(r),t.prev.next=t.next,t.next.prev=t.prev,y(e,r)||e.mapTriangleToNodes(r)}function y(e,t){for(var r=0;r<3;++r)if(!t.delaunay_edge[r]){var o=t.getNeighbor(r);if(o){var i=t.getPoint(r),n=o.oppositePoint(t,i),s=o.index(n);if(o.constrained_edge[s]||o.delaunay_edge[s]){t.constrained_edge[r]=o.constrained_edge[s];continue}if(m(i,t.pointCCW(i),t.pointCW(i),n)){t.delaunay_edge[r]=!0,o.delaunay_edge[s]=!0,E(t,i,o,n);var a=!y(e,t);return a&&e.mapTriangleToNodes(t),(a=!y(e,o))&&e.mapTriangleToNodes(o),t.delaunay_edge[r]=!1,o.delaunay_edge[s]=!1,!0}}}return!1}function m(e,t,r,o){var i=e.x-o.x,n=e.y-o.y,s=t.x-o.x,a=t.y-o.y,c=i*a-s*n;if(c<=0)return!1;var u=r.x-o.x,l=r.y-o.y,h=u*n-i*l;return!(h<=0)&&(i*i+n*n)*(s*l-u*a)+(s*s+a*a)*h+(u*u+l*l)*c>0}function E(e,t,r,o){var i,n,s,a,c,u,l,h,d,p,g,f;i=e.neighborCCW(t),n=e.neighborCW(t),s=r.neighborCCW(o),a=r.neighborCW(o),c=e.getConstrainedEdgeCCW(t),u=e.getConstrainedEdgeCW(t),l=r.getConstrainedEdgeCCW(o),h=r.getConstrainedEdgeCW(o),d=e.getDelaunayEdgeCCW(t),p=e.getDelaunayEdgeCW(t),g=r.getDelaunayEdgeCCW(o),f=r.getDelaunayEdgeCW(o),e.legalize(t,o),r.legalize(o,t),r.setDelaunayEdgeCCW(t,d),e.setDelaunayEdgeCW(t,p),e.setDelaunayEdgeCCW(o,g),r.setDelaunayEdgeCW(o,f),r.setConstrainedEdgeCCW(t,c),e.setConstrainedEdgeCW(t,u),e.setConstrainedEdgeCCW(o,l),r.setConstrainedEdgeCW(o,h),e.clearNeighbors(),r.clearNeighbors(),i&&r.markNeighbor(i),n&&e.markNeighbor(n),s&&e.markNeighbor(s),a&&r.markNeighbor(a),e.markNeighbor(r)}function x(e,t){if(!function(e,t){var r;return r=e.basin.left_highest?e.basin.left_node.point.y-t.point.y:e.basin.right_node.point.y-t.point.y,e.basin.width>r}(e,t)&&(_(e,t),t.prev!==e.basin.left_node||t.next!==e.basin.right_node)){if(t.prev===e.basin.left_node){if(l(t.point,t.next.point,t.next.next.point)===u.CW)return;t=t.next}else if(t.next===e.basin.right_node){if(l(t.point,t.prev.point,t.prev.prev.point)===u.CCW)return;t=t.prev}else t=t.prev.point.y<t.next.point.y?t.prev:t.next;x(e,t)}}function R(e,t,r){r.point.x<t.p.x&&(l(r.point,r.next.point,r.next.next.point)===u.CCW?A(e,t,r):(P(e,t,r),R(e,t,r)))}function A(e,t,r){_(e,r.next),r.next.point!==t.p&&l(t.q,r.next.point,t.p)===u.CCW&&l(r.point,r.next.point,r.next.next.point)===u.CCW&&A(e,t,r)}function P(e,t,r){l(r.next.point,r.next.next.point,r.next.next.next.point)===u.CCW?A(e,t,r.next):l(t.q,r.next.next.point,t.p)===u.CCW&&P(e,t,r.next)}function V(e,t,r){r.point.x>t.p.x&&(l(r.point,r.prev.point,r.prev.prev.point)===u.CW?b(e,t,r):(T(e,t,r),V(e,t,r)))}function T(e,t,r){l(r.prev.point,r.prev.prev.point,r.prev.prev.prev.point)===u.CW?b(e,t,r.prev):l(t.q,r.prev.prev.point,t.p)===u.CW&&T(e,t,r.prev)}function b(e,t,r){_(e,r.prev),r.prev.point!==t.p&&l(t.q,r.prev.point,t.p)===u.CW&&l(r.point,r.prev.point,r.prev.prev.point)===u.CW&&b(e,t,r)}function C(e,t,r,n,s){var a=n.neighborAcross(s);o(a,\"FLIP failed due to missing triangle!\");var c=a.oppositePoint(n,s);if(n.getConstrainedEdgeAcross(s)){var d=n.index(s);throw new i(\"poly2tri Intersecting Constraints\",[s,c,n.getPoint((d+1)%3),n.getPoint((d+2)%3)])}h(s,n.pointCCW(s),n.pointCW(s),c)?(E(n,s,a,c),e.mapTriangleToNodes(n),e.mapTriangleToNodes(a),s===r&&c===t?r===e.edge_event.constrained_edge.q&&t===e.edge_event.constrained_edge.p&&(n.markConstrainedEdgeByPoints(t,r),a.markConstrainedEdgeByPoints(t,r),y(e,n),y(e,a)):(n=function(e,t,r,o,i,n){var s;return t===u.CCW?(s=o.edgeIndex(i,n),o.delaunay_edge[s]=!0,y(e,o),o.clearDelaunayEdges(),r):(s=r.edgeIndex(i,n),r.delaunay_edge[s]=!0,y(e,r),r.clearDelaunayEdges(),o)}(e,l(r,c,t),n,a,s,c),C(e,t,r,n,s))):(L(e,t,r,n,a,O(t,r,a,c)),f(e,t,r,n,s))}function O(e,t,r,o){var n=l(t,o,e);if(n===u.CW)return r.pointCCW(o);if(n===u.CCW)return r.pointCW(o);throw new i(\"poly2tri [Unsupported] nextFlipPoint: opposing point on constrained edge!\",[t,o,e])}function L(e,t,r,i,n,s){var a=n.neighborAcross(s);o(a,\"FLIP failed due to missing triangle\");var c=a.oppositePoint(n,s);h(r,i.pointCCW(r),i.pointCW(r),c)?C(e,r,c,a,c):L(e,t,r,i,a,O(t,r,a,c))}r.triangulate=function(e){e.initTriangulation(),e.createAdvancingFront(),function(e){var t,r=e.pointCount();for(t=1;t<r;++t)for(var o=e.getPoint(t),i=p(e,o),n=o._p2t_edge_list,s=0;n&&s<n.length;++s)g(e,n[s],i)}(e),function(e){for(var t=e.front().head().next.triangle,r=e.front().head().next.point;!t.getConstrainedEdgeCW(r);)t=t.neighborCCW(r);e.meshClean(t)}(e)}},{\"./advancingfront\":2,\"./assert\":3,\"./pointerror\":5,\"./triangle\":9,\"./utils\":10}],8:[function(e,t,r){var o=e(\"./pointerror\"),i=e(\"./point\"),n=e(\"./triangle\"),s=e(\"./sweep\"),a=e(\"./advancingfront\"),c=a.Node,u=function(e,t){if(this.p=e,this.q=t,e.y>t.y)this.q=e,this.p=t;else if(e.y===t.y)if(e.x>t.x)this.q=e,this.p=t;else if(e.x===t.x)throw new o(\"poly2tri Invalid Edge constructor: repeated points!\",[e]);this.q._p2t_edge_list||(this.q._p2t_edge_list=[]),this.q._p2t_edge_list.push(this)},l=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};l.prototype.clear=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};var h=function(){this.constrained_edge=null,this.right=!1},d=function(e,t){t=t||{},this.triangles_=[],this.map_=[],this.points_=t.cloneArrays?e.slice(0):e,this.edge_list=[],this.pmin_=this.pmax_=null,this.front_=null,this.head_=null,this.tail_=null,this.af_head_=null,this.af_middle_=null,this.af_tail_=null,this.basin=new l,this.edge_event=new h,this.initEdges(this.points_)};d.prototype.addHole=function(e){this.initEdges(e);var t,r=e.length;for(t=0;t<r;t++)this.points_.push(e[t]);return this},d.prototype.AddHole=d.prototype.addHole,d.prototype.addHoles=function(e){var t,r=e.length;for(t=0;t<r;t++)this.initEdges(e[t]);return this.points_=this.points_.concat.apply(this.points_,e),this},d.prototype.addPoint=function(e){return this.points_.push(e),this},d.prototype.AddPoint=d.prototype.addPoint,d.prototype.addPoints=function(e){return this.points_=this.points_.concat(e),this},d.prototype.triangulate=function(){return s.triangulate(this),this},d.prototype.getBoundingBox=function(){return{min:this.pmin_,max:this.pmax_}},d.prototype.getTriangles=function(){return this.triangles_},d.prototype.GetTriangles=d.prototype.getTriangles,d.prototype.front=function(){return this.front_},d.prototype.pointCount=function(){return this.points_.length},d.prototype.head=function(){return this.head_},d.prototype.setHead=function(e){this.head_=e},d.prototype.tail=function(){return this.tail_},d.prototype.setTail=function(e){this.tail_=e},d.prototype.getMap=function(){return this.map_},d.prototype.initTriangulation=function(){var e,t=this.points_[0].x,r=this.points_[0].x,o=this.points_[0].y,n=this.points_[0].y,s=this.points_.length;for(e=1;e<s;e++){var a=this.points_[e];a.x>t&&(t=a.x),a.x<r&&(r=a.x),a.y>o&&(o=a.y),a.y<n&&(n=a.y)}this.pmin_=new i(r,n),this.pmax_=new i(t,o);var c=.3*(t-r),u=.3*(o-n);this.head_=new i(t+c,n-u),this.tail_=new i(r-c,n-u),this.points_.sort(i.compare)},d.prototype.initEdges=function(e,t){var r,o=e.length,i=t?e.length-1:e.length;for(r=0;r<i;++r)this.edge_list.push(new u(e[r],e[(r+1)%o]))},d.prototype.getPoint=function(e){return this.points_[e]},d.prototype.addToMap=function(e){this.map_.push(e)},d.prototype.locateNode=function(e){return this.front_.locateNode(e.x)},d.prototype.createAdvancingFront=function(){var e,t,r,o=new n(this.points_[0],this.tail_,this.head_);this.map_.push(o),e=new c(o.getPoint(1),o),t=new c(o.getPoint(0),o),r=new c(o.getPoint(2)),this.front_=new a(e,r),e.next=t,t.next=r,t.prev=e,r.prev=t},d.prototype.removeNode=function(e){},d.prototype.mapTriangleToNodes=function(e){for(var t=0;t<3;++t)if(!e.getNeighbor(t)){var r=this.front_.locatePoint(e.pointCW(e.getPoint(t)));r&&(r.triangle=e)}},d.prototype.removeFromMap=function(e){var t,r=this.map_,o=r.length;for(t=0;t<o;t++)if(r[t]===e){r.splice(t,1);break}},d.prototype.meshClean=function(e){for(var t,r,o=[e];t=o.pop();)if(!t.isInterior())for(t.setInterior(!0),this.triangles_.push(t),r=0;r<3;r++)t.constrained_edge[r]||o.push(t.getNeighbor(r))},t.exports=d},{\"./advancingfront\":2,\"./point\":4,\"./pointerror\":5,\"./sweep\":7,\"./triangle\":9}],9:[function(e,t,r){var o=function(e,t,r){this.points_=[e,t,r],this.neighbors_=[null,null,null],this.interior_=!1,this.constrained_edge=[!1,!1,!1],this.delaunay_edge=[!1,!1,!1]},i=e(\"./xy\").toString;o.prototype.toString=function(){return\"[\"+i(this.points_[0])+i(this.points_[1])+i(this.points_[2])+\"]\"},o.prototype.getPoint=function(e){return this.points_[e]},o.prototype.GetPoint=o.prototype.getPoint,o.prototype.getPoints=function(){return this.points_},o.prototype.getNeighbor=function(e){return this.neighbors_[e]},o.prototype.containsPoint=function(e){var t=this.points_;return e===t[0]||e===t[1]||e===t[2]},o.prototype.containsEdge=function(e){return this.containsPoint(e.p)&&this.containsPoint(e.q)},o.prototype.containsPoints=function(e,t){return this.containsPoint(e)&&this.containsPoint(t)},o.prototype.isInterior=function(){return this.interior_},o.prototype.setInterior=function(e){return this.interior_=e,this},o.prototype.markNeighborPointers=function(e,t,r){var o=this.points_;if(e===o[2]&&t===o[1]||e===o[1]&&t===o[2])this.neighbors_[0]=r;else if(e===o[0]&&t===o[2]||e===o[2]&&t===o[0])this.neighbors_[1]=r;else{if(!(e===o[0]&&t===o[1]||e===o[1]&&t===o[0]))throw new Error(\"poly2tri Invalid Triangle.markNeighborPointers() call\");this.neighbors_[2]=r}},o.prototype.markNeighbor=function(e){var t=this.points_;e.containsPoints(t[1],t[2])?(this.neighbors_[0]=e,e.markNeighborPointers(t[1],t[2],this)):e.containsPoints(t[0],t[2])?(this.neighbors_[1]=e,e.markNeighborPointers(t[0],t[2],this)):e.containsPoints(t[0],t[1])&&(this.neighbors_[2]=e,e.markNeighborPointers(t[0],t[1],this))},o.prototype.clearNeighbors=function(){this.neighbors_[0]=null,this.neighbors_[1]=null,this.neighbors_[2]=null},o.prototype.clearDelaunayEdges=function(){this.delaunay_edge[0]=!1,this.delaunay_edge[1]=!1,this.delaunay_edge[2]=!1},o.prototype.pointCW=function(e){var t=this.points_;return e===t[0]?t[2]:e===t[1]?t[0]:e===t[2]?t[1]:null},o.prototype.pointCCW=function(e){var t=this.points_;return e===t[0]?t[1]:e===t[1]?t[2]:e===t[2]?t[0]:null},o.prototype.neighborCW=function(e){return e===this.points_[0]?this.neighbors_[1]:e===this.points_[1]?this.neighbors_[2]:this.neighbors_[0]},o.prototype.neighborCCW=function(e){return e===this.points_[0]?this.neighbors_[2]:e===this.points_[1]?this.neighbors_[0]:this.neighbors_[1]},o.prototype.getConstrainedEdgeCW=function(e){return e===this.points_[0]?this.constrained_edge[1]:e===this.points_[1]?this.constrained_edge[2]:this.constrained_edge[0]},o.prototype.getConstrainedEdgeCCW=function(e){return e===this.points_[0]?this.constrained_edge[2]:e===this.points_[1]?this.constrained_edge[0]:this.constrained_edge[1]},o.prototype.getConstrainedEdgeAcross=function(e){return e===this.points_[0]?this.constrained_edge[0]:e===this.points_[1]?this.constrained_edge[1]:this.constrained_edge[2]},o.prototype.setConstrainedEdgeCW=function(e,t){e===this.points_[0]?this.constrained_edge[1]=t:e===this.points_[1]?this.constrained_edge[2]=t:this.constrained_edge[0]=t},o.prototype.setConstrainedEdgeCCW=function(e,t){e===this.points_[0]?this.constrained_edge[2]=t:e===this.points_[1]?this.constrained_edge[0]=t:this.constrained_edge[1]=t},o.prototype.getDelaunayEdgeCW=function(e){return e===this.points_[0]?this.delaunay_edge[1]:e===this.points_[1]?this.delaunay_edge[2]:this.delaunay_edge[0]},o.prototype.getDelaunayEdgeCCW=function(e){return e===this.points_[0]?this.delaunay_edge[2]:e===this.points_[1]?this.delaunay_edge[0]:this.delaunay_edge[1]},o.prototype.setDelaunayEdgeCW=function(e,t){e===this.points_[0]?this.delaunay_edge[1]=t:e===this.points_[1]?this.delaunay_edge[2]=t:this.delaunay_edge[0]=t},o.prototype.setDelaunayEdgeCCW=function(e,t){e===this.points_[0]?this.delaunay_edge[2]=t:e===this.points_[1]?this.delaunay_edge[0]=t:this.delaunay_edge[1]=t},o.prototype.neighborAcross=function(e){return e===this.points_[0]?this.neighbors_[0]:e===this.points_[1]?this.neighbors_[1]:this.neighbors_[2]},o.prototype.oppositePoint=function(e,t){var r=e.pointCW(t);return this.pointCW(r)},o.prototype.legalize=function(e,t){var r=this.points_;if(e===r[0])r[1]=r[0],r[0]=r[2],r[2]=t;else if(e===r[1])r[2]=r[1],r[1]=r[0],r[0]=t;else{if(e!==r[2])throw new Error(\"poly2tri Invalid Triangle.legalize() call\");r[0]=r[2],r[2]=r[1],r[1]=t}},o.prototype.index=function(e){var t=this.points_;if(e===t[0])return 0;if(e===t[1])return 1;if(e===t[2])return 2;throw new Error(\"poly2tri Invalid Triangle.index() call\")},o.prototype.edgeIndex=function(e,t){var r=this.points_;if(e===r[0]){if(t===r[1])return 2;if(t===r[2])return 1}else if(e===r[1]){if(t===r[2])return 0;if(t===r[0])return 2}else if(e===r[2]){if(t===r[0])return 1;if(t===r[1])return 0}return-1},o.prototype.markConstrainedEdgeByIndex=function(e){this.constrained_edge[e]=!0},o.prototype.markConstrainedEdgeByEdge=function(e){this.markConstrainedEdgeByPoints(e.p,e.q)},o.prototype.markConstrainedEdgeByPoints=function(e,t){var r=this.points_;t===r[0]&&e===r[1]||t===r[1]&&e===r[0]?this.constrained_edge[2]=!0:t===r[0]&&e===r[2]||t===r[2]&&e===r[0]?this.constrained_edge[1]=!0:(t===r[1]&&e===r[2]||t===r[2]&&e===r[1])&&(this.constrained_edge[0]=!0)},t.exports=o},{\"./xy\":11}],10:[function(e,t,r){var o=1e-16;r.EPSILON=o;var i={CW:1,CCW:-1,COLLINEAR:0};r.Orientation=i,r.orient2d=function(e,t,r){var n=(e.x-r.x)*(t.y-r.y)-(e.y-r.y)*(t.x-r.x);return n>-1e-16&&n<o?i.COLLINEAR:n>0?i.CCW:i.CW},r.inScanArea=function(e,t,r,i){return!((e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y)>=-1e-16||(e.x-r.x)*(i.y-r.y)-(i.x-r.x)*(e.y-r.y)<=o)},r.isAngleObtuse=function(e,t,r){var o=t.x-e.x,i=t.y-e.y;return o*(r.x-e.x)+i*(r.y-e.y)<0}},{}],11:[function(e,t,r){function o(e){return\"(\"+e.x+\";\"+e.y+\")\"}t.exports={toString:function(e){var t=e.toString();return\"[object Object]\"===t?o(e):t},toStringBase:o,compare:function(e,t){return e.y===t.y?e.x-t.x:e.y-t.y},equals:function(e,t){return e.x===t.x&&e.y===t.y}}},{}]},{},[6])(6)},\"object\"==typeof s?a.exports=n():void 0===(i=\"function\"==typeof(o=n)?o.call(t,r,t,e):o)||(e.exports=i);var c=a.exports;t.poly2tri=c},5856:(e,t)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});function r(e,t,r,o,i,n){i[0]=n.b=o[0],i[1]=n.a=-t*n.b+o[1];for(var s=2;s<e;s++)i[s]=-(t*n.a+r*n.b)+o[s],n.b=n.a,n.a=i[s]}function o(e,t,o,i,n,s,a,c,u){var l=new Object,h=3;return l.b=l.a=0,r(t,a,c,s,u,l),n.c=l.a,n.d=l.b,Math.abs(n.c)<=100*e*Math.abs(s[t-1])&&Math.abs(n.d)<=100*e*Math.abs(s[t-2])||(n.h=c*i,Math.abs(n.d)>=Math.abs(n.c)?(h=2,n.e=o/n.d,n.f=n.c/n.d,n.g=a*i,n.a3=n.e*(n.g+o)+n.h*(i/n.d),n.a1=-o+n.f*i,n.a7=n.h+(n.f+a)*o):(h=1,n.e=o/n.c,n.f=n.d/n.c,n.g=n.e*a,n.a3=n.e*o+(n.g+n.h/n.c)*i,n.a1=-o*(n.d/n.c)+i,n.a7=n.g*n.d+n.h*n.f+o)),h}function i(e,t,r,o,i,n,s,a,c){var u;if(3!=r)if(u=1==r?i:o,Math.abs(n.a1)>10*e*Math.abs(u)){n.a7/=n.a1,n.a3/=n.a1,s[0]=c[0],s[1]=-c[0]*n.a7+c[1];for(l=2;l<t;l++)s[l]=-c[l-1]*n.a7+a[l-2]*n.a3+c[l]}else{s[0]=0,s[1]=-c[0]*n.a7;for(l=2;l<t;l++)s[l]=-c[l-1]*n.a7+a[l-2]*n.a3}else{s[1]=s[0]=0;for(var l=2;l<t;l++)s[l]=a[l-2]}}function n(e,t,r,o,i,n,s,a,c,u,l,h,d,p,g,f,v){var _,y,m,E,x,R,A,P;t.b=t.a=0,3!=e&&(2!=e?(_=r+d*s+h*u,y=a+(d+p*u)*c):(_=(r+l)*u+h,y=(u+d)*a+p*c),0!=(P=-(A=-((x=(m=-g[f-1]/v[f])*n)+(R=m*m*i))+p*(E=-(g[f-2]+m*v[f-1])/v[f])*o)+y+m*_)&&(t.a=-(d*(R+x)+p*(m*o+E*n))/P+d,t.b=p*(1+A/P)))}function s(e,t,r,o){var i,n,s;o.sr=o.si=o.lr=o.li=0,0!=e?0!=r?(i=t/2,Math.abs(i)<Math.abs(r)?(s=-(s=r>=0?e:-e)+i*(i/Math.abs(r)),n=Math.sqrt(Math.abs(s))*Math.sqrt(Math.abs(r))):(s=-e/i*(r/i)+1,n=Math.sqrt(Math.abs(s))*Math.abs(i)),s>=0?(n=i>=0?-n:n,o.lr=(-i+n)/e,o.sr=0!=o.lr?r/o.lr/e:o.sr):(o.lr=o.sr=-i/e,o.si=Math.abs(n/e),o.li=-o.si)):o.lr=-t/e:o.sr=0!=t?-r/t:o.sr}function a(e,t,a,c,u,l,h,d,p,g,f,v){var _,y,m,E,x,R,A,P,V,T,b,C=new Object,O=0,L=0;a.NZ=0,R=c,P=u;do{if(C.li=C.lr=C.si=C.sr=0,s(1,R,P,C),a.szr=C.sr,a.szi=C.si,a.lzr=C.lr,a.lzi=C.li,Math.abs(Math.abs(a.szr)-Math.abs(a.lzr))>.01*Math.abs(a.lzr))break;for(r(h,R,P,p,l,d),y=Math.abs(-a.szr*d.b+d.a)+Math.abs(a.szi*d.b),T=Math.sqrt(Math.abs(P)),_=2*Math.abs(l[0]),x=-a.szr*d.b,b=1;b<t;b++)_=_*T+Math.abs(l[b]);if(y<=20*(_=(9*(_=_*T+Math.abs(x+d.a))+2*Math.abs(x)-7*(Math.abs(d.a+x)+T*Math.abs(d.b)))*e)){a.NZ=2;break}if(++O>20)break;if(O>=2&&E<=.01&&y>=m&&!L){for(r(h,R-=R*(E=E<e?Math.sqrt(e):Math.sqrt(E)),P+=P*E,p,l,d),b=0;b<5;b++)i(e,t,o(e,t,d.a,d.b,f,v,R,P,g),d.a,d.b,f,v,g,l);L=1,O=0}m=y,i(e,t,o(e,t,d.a,d.b,f,v,R,P,g),d.a,d.b,f,v,g,l),n(o(e,t,d.a,d.b,f,v,R,P,g),d,d.a,f.a1,f.a3,f.a7,d.b,f.c,f.d,f.f,f.g,f.h,R,P,v,t,p),A=d.a,0!=(V=d.b)&&(E=Math.abs((-P+V)/V),R=A,P=V)}while(0!=V)}function c(e,t,r,o,i,n,s,a,c){var u,l,h,d,p,g,f,v,_,y,m,E=o-1;for(t.NZ=m=_=0,f=r.a;;){for(s[0]=g=i[0],y=1;y<n;y++)s[y]=g=g*f+i[y];for(h=Math.abs(g),d=Math.abs(f),u=.5*Math.abs(s[0]),y=1;y<n;y++)u=u*d+Math.abs(s[y]);if(h<=20*e*(2*u-h)){t.NZ=1,t.szr=f,t.szi=0;break}if(++m>10)break;if(m>=2&&Math.abs(v)<=.001*Math.abs(-v+f)&&h>p){_=1,t.a=f;break}for(p=h,c[0]=l=a[0],y=1;y<o;y++)c[y]=l=l*f+a[y];if(Math.abs(l)>10*Math.abs(a[E])*e)for(v=-g/l,a[0]=s[0],y=1;y<o;y++)a[y]=v*c[y-1]+s[y];else for(a[0]=0,y=1;y<o;y++)a[y]=c[y-1];for(l=a[0],y=1;y<o;y++)l=l*f+a[y];f+=v=Math.abs(l)>10*Math.abs(a[E])*e?-g/l:0}return _}function u(e,t,s,u,l,h,d,p,g,f,v){var _,y,m,E,x,R,A,P,V,T,b,C,O,L,S,M,w,N,F,I,D,j,B,U,k,G,z,Y,K=new Object,q=new Object,W=new Array(t),H=new Array(t);for(v.NZ=0,E=m=.25,S=-2*u,x=u,P=w=l,q.h=q.g=q.f=q.e=q.d=q.c=q.a7=q.a3=q.a1=K.b=K.a=0,r(g,S,w,p,f,K),G=o(e,d,_=K.a,y=K.b,q,h,S,w,W),B=0;B<s;B++){if(i(e,d,G,_,y,q,h,W,f),n(G=o(e,d,_,y,q,h,S,w,W),K,_,q.a1,q.a3,q.a7,y,q.c,q.d,q.f,q.g,q.h,S,w,h,d,p),M=K.a,F=N=K.b,T=0!=h[d-1]?-p[d]/h[d-1]:0,b=O=1,0!=B&&3!=G&&(z=(L=(O=0!=F?Math.abs((F-P)/F):O)<A?O*A:1)<E?1:0,(U=(C=(b=0!=T?Math.abs((T-x)/T):b)<R?b*R:1)<m?1:0)||z)){for(D=0;D<d;D++)H[D]=h[D];V=T,k=Y=0,I=1;do{if(j=1,I&&0==(I=0)&&U&&(!z||C<L));else{if(a(e,d,v,M,N,f,g,K,p,W,q,h),_=K.a,y=K.b,v.NZ>0)return;if(Y=1,E*=.25,k||!U)j=0;else for(D=0;D<d;D++)h[D]=H[D]}if(0!=j){if(K.a=V,j=c(e,v,K,d,p,g,f,h,W),V=K.a,v.NZ>0)return;if(k=1,m*=.25,0!=j){M=-(V+V),N=V*V;continue}}for(D=0;D<d;D++)h[D]=H[D]}while(z&&!Y);r(g,S,w,p,f,K),G=o(e,d,_=K.a,y=K.b,q,h,S,w,W)}P=F,x=T,A=O,R=b}}t.getRealPolynomialRoots=function(e){var t={Degree:e.length-1},r=new Array(e.length),o=new Array(e.length);!function(e,t,r,o){var i,n,a,c,l,h,d,p,g,f,v,_,y,m,E,x,R,A,P,V,T,b,C=e.Degree,O=.017453292519943295,L=117549435082229e-52,S=340282346638529e24,M=Math.LN2,w=e.Degree+1,N=new Array(w),F=new Array(w),I=new Array(w),D=new Array(w),j=new Object,B=new Object;_=1;do{n=_,y=1+(_/=2)}while(y>1);var U=L/n,k=Math.cos(94*O),G=Math.sin(94*O),z=Math.sqrt(.5),Y=-z;for(B.NZ=R=0,B.szr=B.szi=B.lzr=B.lzi=0;0==t[C];)r[R]=o[R]=0,C--,R++;for(T=C+1;C>=1;){if(C<=2){C<2?(r[e.Degree-1]=-t[1]/t[0],o[e.Degree-1]=0):(j.li=j.lr=j.si=j.sr=0,s(t[0],t[1],t[2],j),r[e.Degree-2]=j.sr,o[e.Degree-2]=j.si,r[e.Degree-1]=j.lr,o[e.Degree-1]=j.li);break}for(d=0,p=S,K=0;K<T;K++)(f=Math.abs(t[K]))>d&&(d=f),0!=f&&f<p&&(p=f);if(((g=U/p)<=1&&d>=10||g>1&&S/g>=d)&&(g=0==g?L:g,P=Math.floor(Math.log(g)/M+.5),1!=(l=Math.pow(2,P))))for(K=0;K<T;K++)t[K]*=l;for(var K=0;K<T;K++)F[K]=Math.abs(t[K]);F[C]=-F[C],V=C-1,f=Math.exp((Math.log(-F[C])-Math.log(F[0]))/C),0!=F[V]&&(f=(v=-F[C]/F[V])<f?v:f),v=f;do{for(v=.1*(f=v),h=F[0],K=1;K<T;K++)h=h*v+F[K]}while(h>0);for(c=f;Math.abs(c/f)>.005;){for(a=h=F[0],K=1;K<C;K++)a=f*a+(h=f*h+F[K]);f-=c=(h=f*h+F[C])/a}for(i=f,K=1;K<C;K++)N[K]=(C-K)*t[K]/C;for(N[0]=t[0],_=t[C],y=t[V],b=0==N[V]?1:0,A=0;A<5;A++)if(m=N[V],b){for(K=0;K<V;K++)N[R=V-K]=N[R-1];N[0]=0,b=0==N[V]?1:0}else{for(E=-_/m,K=0;K<V;K++)N[R=V-K]=E*N[R-1]+t[R];N[0]=t[0],b=Math.abs(N[V])<=Math.abs(y)*n*10?1:0}for(K=0;K<C;K++)D[K]=N[K];for(A=1;A<=20;A++){if(x=-G*Y+k*z,Y=G*z+k*Y,u(n,w,20*A,i*(z=x),i,N,C,t,T,I,B),0!=B.NZ){for(r[R=e.Degree-C]=B.szr,o[R]=B.szi,C=(T-=B.NZ)-1,K=0;K<T;K++)t[K]=I[K];1!=B.NZ&&(r[R+1]=B.lzr,o[R+1]=B.lzi);break}for(K=0;K<C;K++)N[K]=D[K]}if(A>20){e.Degree-=C;break}}}(t,e,r,o);for(var i=[],n=e.length-t.Degree-1;n<e.length;n++)Math.abs(o[n])<1e-8&&i.push(r[n]);return i}},2536:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.TopologyCloner=void 0;var o=r(6940),i=r(7580),n=r(672),s=r(4524),a=r(6776),c=r(6508),u=r(5837),l=r(9984),h=r(2208),d=function(){this._edgeMap={},this._vertexMap={},this._coedgeMap={},this._progenitorMap=new h.ProgenitorMap};d.prototype.cloneVertex=function(e){var t=this._vertexMap[e.getGuid()];return t||(t=new o.Vertex(e.getPoint().clone()),this._vertexMap[e.getGuid()]=t,t.setPrecision(e.getPrecision()),this._progenitorMap.addEntry(t,[e])),t},d.prototype.cloneEdge=function(e){var t=this._edgeMap[e.getGuid()];return t||(t=new i.Edge(e.getCurve().clone()),this._edgeMap[e.getGuid()]=t,t.setReversed(e.isReversed()),t.setRange(e.getRange()),t.setStartVertex(this.cloneVertex(e.getStartVertex())),t.setEndVertex(this.cloneVertex(e.getEndVertex())),t.setPrecision(e.getPrecision()),this._progenitorMap.addEntry(t,[e])),t},d.prototype.cloneCoedge=function(e){var t,r,o=new n.Coedge;this._coedgeMap[e.getGuid()]=o,o.setReversed(e.isReversed()),o.setEdge(this.cloneEdge(e.getEdge())),o.getEdge().setCoedge(o);for(var i=e.getPartner();i;){var s=this._coedgeMap[i.getGuid()];s&&(t||(t=s),r=s,e.getEdge().getCoedge()===i&&o.getEdge().setCoedge(s)),(i=i.getPartner())===e&&(i=void 0)}return t&&r&&(o.setPartner(t),r.setPartner(o)),this._progenitorMap.addEntry(o,[e]),o},d.prototype.cloneLoop=function(e){for(var t=new s.Loop,r=e.getCoedges(),o=new Array(r.length),i=0;i<r.length;++i)o[i]=this.cloneCoedge(r[i]);return t.addCoedges(o),this._progenitorMap.addEntry(t,[e]),t},d.prototype.cloneFace=function(e){for(var t=new a.Face,r=e.getLoops(),o=new Array(r.length),i=0;i<r.length;++i)o[i]=this.cloneLoop(r[i]);return t.addLoops(o),t.setSurface(e.getSurface().clone()),t.setReversed(e.isReversed()),this._progenitorMap.addEntry(t,[e]),t},d.prototype.cloneFaces=function(e){for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=this.cloneFace(e[r]);return t},d.prototype.cloneShell=function(e){var t=new c.Shell;return t.addFaces(this.cloneFaces(e.getFaces())),this._progenitorMap.addEntry(t,[e]),t},d.prototype.cloneLump=function(e){for(var t=new u.Lump,r=e.getShells(),o=0;o<r.length;++o)t.addShell(this.cloneShell(r[o]));return this._progenitorMap.addEntry(t,[e]),t},d.prototype.cloneBody=function(e){for(var t=new l.Body,r=e.getLumps(),o=0;o<r.length;++o)t.addLump(this.cloneLump(r[o]));return this._progenitorMap.addEntry(t,[e]),t},d.prototype.getProgenitorMap=function(){return this._progenitorMap},t.TopologyCloner=d},64:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.createShellsFromFaces=t.createWiresFromEdges=t.createEdgesFromCurves=t.createEdgeFromCurve=t.createLoopFromPolyline=t.createFaceFromPolyline=t.makeConeOrCylinderVParamLoop=t.createCoedgeOnEdge=t.createLineEdge=t.createLineEdgeBetweenVertices=void 0;var o=r(1972),i=r(2468),n=r(4728),s=r(3565),a=r(1096),c=r(8292),u=r(672),l=r(6940),h=r(6508),d=r(7580),p=r(4524),g=r(6776),f=r(7575),v=r(5896),_=r(7616),y=function(e,t){var r=e.getPosition(),i=t.getPosition(),n=new a.Line;n.setFromEndpoints(r,i);var s=new d.Edge(n);return s.setRange([0,o.Vector3.distance(r,i)]),s.setStartVertex(e),s.setEndVertex(t),s},m=function(e){var t=new u.Coedge;t.setEdge(e);var r=e.getCoedge();return r?(n.ConsoleUtils.assert(!r.getPartner()),r.setPartner(t),t.setPartner(r),t.setReversed(!r.isReversed())):e.setCoedge(t),t};var E=function(e){for(var t=e.length,r=new Array(t),o=0;o<t;++o)r[o]=new l.Vertex(new s.Point(e[o]));var i=new Array(t);for(o=0;o<t;++o){var n=(o+1)%t,a=y(r[o],r[n]);i[o]=m(a)}var c=new p.Loop;return c.addCoedges(i),c},x=function(e){var t=new d.Edge(e),r=e.getRange();r[0]!==-1/0&&r[1]!==1/0?(t.sett0(r[0]),t.sett1(r[1])):(t.sett0(0),t.sett1(1));var o=t.evaluatePosition(t.t0());if(t.setStartVertex(new l.Vertex(new s.Point(o))),e.isClosed())t.setEndVertex(t.getStartVertex());else{var i=t.evaluatePosition(t.t1());t.setEndVertex(new l.Vertex(new s.Point(i)))}return t};t.createLineEdgeBetweenVertices=y,t.createLineEdge=function(e,t){var r=new l.Vertex(new s.Point(e)),o=new l.Vertex(new s.Point(t));return y(r,o)},t.createCoedgeOnEdge=m,t.makeConeOrCylinderVParamLoop=function(e,t){n.ConsoleUtils.assert(e.getGeometryType()===i.GEOMETRY_TYPES.CYLINDER||e.getGeometryType()===i.GEOMETRY_TYPES.CONE||e.getGeometryType()===i.GEOMETRY_TYPES.ELLIPTICAL_CYLINDER||e.getGeometryType()===i.GEOMETRY_TYPES.ELLIPTICAL_CONE),n.ConsoleUtils.assert(e.isPeriodicV());var r,o=new d.Edge,a=e.vParamLine(t);a.getGeometryType()===i.GEOMETRY_TYPES.POINT?r=a:(r=new s.Point(a.evaluatePosition(a.getRange()[0])),o.setCurve(a),o.setRange(a.getRange()));var c=new l.Vertex(r);o.setStartVertex(c),o.setEndVertex(c);var u=new p.Loop;return u.addCoedge(m(o)),u},t.createFaceFromPolyline=function(e){var t=E(e),r=(0,v.definePlaneThroughPoints)(e),o=new c.Plane;o.set(r.origin,r.normal,r.uAxis),o.limitRangeU(r.uRange),o.limitRangeV(r.vRange);var i=new g.Face(o);return i.addLoop(t),i},t.createLoopFromPolyline=E,t.createEdgeFromCurve=x,t.createEdgesFromCurves=function(e){for(var t=[],r=0;r<e.length;++r)t.push(x(e[r]));return(0,_.mergeCoincidentVertices)(t),t},t.createWiresFromEdges=function(e){for(var t=(0,_.findConnectedEdges)(e),r=[],o=0;o<t.length;++o){var i=new f.Wire;i.addEdges(t[o]),r.push(i)}return r},t.createShellsFromFaces=function(e){for(var t=(0,_.findConnectedFaces)(e),r=new Array(t.length),o=0;o<t.length;++o){var i=new h.Shell;i.addFaces(t[o]),r[o]=i}return r}},7620:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.createPolyhedron=void 0;var o=r(9984),i=r(5837),n=r(6776),s=r(4524),a=r(6940),c=r(8292),u=r(3565),l=r(64),h=r(5896),d=r(4728),p=r(6120);function g(e,t){var r,o=e.getCommonEdges(t);d.ConsoleUtils.assert(o.length<=1),r=0===o.length?(0,l.createLineEdgeBetweenVertices)(e,t):o[0];var i=(0,l.createCoedgeOnEdge)(r);return d.ConsoleUtils.assert(i.getStartVertex()===e),d.ConsoleUtils.assert(i.getEndVertex()===t),i}function f(e,t){var r,o=[];for(r=0;r<t.length;++r)o[r]=e[t[r]];var i=(0,h.definePlaneThroughPoints)(o);if(i){var n=new c.Plane;return n.set(i.origin,i.normal,i.uAxis),n.limitRangeU(i.uRange),n.limitRangeV(i.vRange),n}p.DebugUtils.warn(\"Face is degenerate\")}t.createPolyhedron=function(e,t){var r,c=[];for(r=0;r<e.length;++r){var h=new a.Vertex(new u.Point(e[r]));c.push(h)}var p=[];for(r=0;r<t.length;++r){var v=t[r];d.ConsoleUtils.assert(v.length>=3);for(var _=new s.Loop,y=[],m=0;m<v.length;++m){var E=v[m],x=v[(m+1)%v.length];d.ConsoleUtils.assert(E>=0&&E<e.length),d.ConsoleUtils.assert(x>=0&&x<e.length);var R=g(c[E],c[x]);y.push(R)}_.addCoedges(y);var A=f(e,v),P=new n.Face(A);P.addLoop(_),p.push(P)}var V=(0,l.createShellsFromFaces)(p),T=[];for(r=0;r<V.length;++r)T[r]=new i.Lump,T[r].addShell(V[r]);var b=new o.Body;return b.addLumps(T),b}},2472:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.extrudeFace=void 0;var o=r(1972),i=r(2468),n=r(4728),s=r(8292),a=r(3440),c=r(8360),u=r(92),l=r(4524),h=r(6776),d=r(6508),p=r(5837),g=r(9984),f=r(2536),v=r(7616),_=r(64);function y(e,t,r){var n=o.Vector3.length(r),s=o.Vector3.dot(e.getAxisDir(),r)>0?[0,n]:[-n,0];e.limitRangeU(s),t[1]-t[0]<2*Math.PI-i.PARAMETER_SPACE_TOLERANCE&&e.limitRangeV(t)}var m=function(e,t){var r=e.getEdge().getCurve(),n=e.getRange(),l=!0;e.isReversed()!==e.getEdge().isReversed()&&(n=[-n[1],-n[0]],l=!1);var h,d=l?e.t0():e.t1(),p=e.evaluateDt(d);if(o.Vector3.cross(p,p,t),o.Vector3.normalize(p,p),o.Vector3.negate(p,p),r.getGeometryType()===i.GEOMETRY_TYPES.LINE)h=function(e,t,r){var i=new s.Plane,n=e.evaluateDt(0),a=o.Vector3.createFloat64();o.Vector3.normalize(a,r);var c=o.Vector3.createFloat64();o.Vector3.cross(c,a,n),i.set(e.evaluatePosition(0),c,a);var u=o.Vector3.length(r),l=o.Vector3.dot(a,r)>0?[0,u]:[-u,0];return i.limitRangeV(t),i.limitRangeU(l),i}(r,n,t);else if(r.getGeometryType()===i.GEOMETRY_TYPES.CIRCLE)h=function(e,t,r){var i=e.evaluatePosition(0);o.Vector3.subtract(i,i,e.getCenter());var n=o.Vector3.createFloat64();o.Vector3.negate(n,e.getNormal());var s=new a.Cylinder;return s.set(e.getCenter(),e.getRadius(),n,i,1),y(s,t,r),s}(r,n,t);else if(r.getGeometryType()===i.GEOMETRY_TYPES.ELLIPSE)h=function(e,t,r){var i=e.evaluatePosition(0);o.Vector3.subtract(i,i,e.getCenter());var n=o.Vector3.createFloat64();o.Vector3.negate(n,e.getNormal());var s=new c.EllipticalCylinder;return s.set(e.getCenter(),i,e.getMinorRadius()/e.getMajorRadius(),n,1),y(s,t,r),s}(r,n,t);else{if(r.getGeometryType()!==i.GEOMETRY_TYPES.BCURVE)throw new Error(\"createSideFaceRuledSurface: Curve type not supported.\");h=function(e,t,r){for(var o=new u.BSurface,i=e.getDegree(),n=e.getKnotVector().slice(0),s=e.getControlPoints().slice(0),a=(s=s.concat(s)).length/2;a<s.length;a+=3)s[a]+=r[0],s[a+1]+=r[1],s[a+2]+=r[2];var c=void 0;return e.isRational()&&(c=(c=e.getWeights().slice(0)).concat(c)),o.set(1,i,[0,0,1,1],n,s,c),o.limitRangeU([0,1]),o.limitRangeV(t),o}(r,n,t)}var g=h.evaluateNormal(0,n[0]);return{surface:h,isReversed:o.Vector3.dot(g,p)<0}};t.extrudeFace=function(e,t){n.ConsoleUtils.assert(e.getSurfaceType()===i.GEOMETRY_TYPES.PLANE);var r=e.evaluateNormal(0,0);o.Vector3.scale(r,r,t);var s=(new f.TopologyCloner).cloneFace(e),a=o.Matrix44.fromTranslation(o.Matrix44.createFloat64(),r);(0,v.transformTopology)(s,a),t>0?(0,v.reverseFace)(e):(0,v.reverseFace)(s);var c=function(e,t,r){for(var o=[],i=e.getLoops(),n=t.getLoops(),s=0;s<i.length;++s)for(var a=i[s].getCoedges(),c=n[s].getCoedges(),u=new Array(a.length),d=0;d<a.length;++d){var p=new Array(4),g=a[d],f=c[a.length-1-d],v=g.getStartVertex(),y=g.getEndVertex(),E=f.getStartVertex(),x=f.getEndVertex();p[0]=(0,_.createCoedgeOnEdge)(g.getEdge()),0===d&&(u[d]=(0,_.createLineEdgeBetweenVertices)(v,x)),p[1]=(0,_.createCoedgeOnEdge)(u[d]),p[2]=(0,_.createCoedgeOnEdge)(f.getEdge()),d!==a.length-1&&(u[d+1]=(0,_.createLineEdgeBetweenVertices)(E,y)),p[3]=(0,_.createCoedgeOnEdge)(u[(d+1)%a.length]);var R=new l.Loop;R.addCoedges(p);var A=m(g,r),P=new h.Face(A.surface);P.setReversed(A.isReversed),P.addLoop(R),o.push(P)}return o}(e,s,r),u=e.getShell();u||(u=new d.Shell).addFace(e),n.ConsoleUtils.assert(1===u.getFaces().length),u.addFaces(c),u.addFace(s);var y=u.getLump();y||(y=new p.Lump).addShell(u);var E=y.getBody();return E||(E=new g.Body).addLump(y),E}},268:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Path2D=void 0;var o=r(1972),i=r(2468),n=r(6500),s=r(7575),a=r(8796),c=r(5512),u=r(8972),l=r(1096),h=r(64),d=r(8080),p=r(4728),g=r(6120),f={assert:function(e,t){if(!e)throw{message:t||\"assertion failed\"}},assert_arg:function(e,t,r,o){var i=\"Invalid argument '\"+t+\"': \"+r+\"\\nUsage: \"+o;this.assert(e,i)},assert_number:function(e,t,r){this.assert_arg(\"number\"==typeof e,t,\"should be a number\",r)},assert_boolean:function(e,t,r){this.assert_arg(\"boolean\"==typeof e,t,\"should be a boolean\",r)},assert_string:function(e,t,r){this.assert_arg(\"string\"==typeof e,t,\"should be a string\",r)}},v=function(){this._wireBody=new n.WireBody,this._curves=[],this._xy=[0,0],this._mergeBCurves=!0,this._healPath=!1,this._tangentTol=i.KERNEL_ANGULAR_TOLERANCE};function _(e,t,r){var i=3*(t-1),n=[e[i],e[i+1],e[i+2]],s=3*r,a=[e[s],e[s+1],e[s+2]],c=o.Vector3.sub([0,0,0],a,n);o.Vector3.scale(c,c,-.1);for(var u=1;u<=r-t;++u){var l=o.Vector3.scaleAndAdd([0,0,0],a,c,u);e[s-3*u]=l[0],e[s-3*u+1]=l[1],e[s-3*u+2]=l[2]}}function y(e,t,r){var i=3*t,n=[e[i],e[i+1],e[i+2]],s=3*(r+1),a=[e[s],e[s+1],e[s+2]],c=o.Vector3.sub([0,0,0],a,n);o.Vector3.scale(c,c,.1);for(var u=1;u<=r-t;++u){var l=o.Vector3.scaleAndAdd([0,0,0],n,c,u);e[i+3*u]=l[0],e[i+3*u+1]=l[1],e[i+3*u+2]=l[2]}}function m(e,t){for(var r,i,n,s=[],a=e.getControlPoints(),c=[a[0],a[1],a[2]],u=a.length/3,l=1;l<u;++l){r=[a[3*l],a[3*l+1],a[3*l+2]];var h=l===u-1;o.Vector3.squaredDistance(c,r)<t?(void 0===i&&(i=l-1),n=l):h=!0,h&&void 0!==i&&void 0!==n&&(s.push([i,n]),h=!1,i=void 0,n=void 0),c=r}return s}function E(e,t){var r=m(e,t);if(1===r.length&&r[0][1]-r[0][0]==1){var o=r[0];0===o[0]?e.addControlPointOnCurve(e.evaluatePosition(.1)):o[1]===e.getNumControlPoints()-1?e.addControlPointOnCurve(e.evaluatePosition(.9)):(e.addControlPointOnCurve(e.evaluatePosition(.45)),e.addControlPointOnCurve(e.evaluatePosition(.55)))}return r.length>0}function x(e,t){for(var r=m(e,t),o=0;o<r.length;++o){var i=r[o],n=e.getControlPoints().slice();i[0]>0?_(n,i[0],i[1]):i[1]<n.length/3-1?y(n,i[0],i[1]):g.DebugUtils.warn(\"Degenerate BCurve!\"),e.setControlPoints(n)}}function R(e,t){var r=e.getControlPoints(),i=[r[0],r[1],r[2]],n=[r[3],r[4],r[5]],s=o.Vector3.distance(i,n);r[3]=i[0]+t[0]*s,r[4]=i[1]+t[1]*s,r[5]=i[2]+t[2]*s,e.setControlPoints(r)}function A(e,t){var r=e.getControlPoints(),i=e.getControlPoints().length,n=[r[i-6],r[i-5],r[i-4]],s=[r[i-3],r[i-2],r[i-1]],a=o.Vector3.distance(n,s);r[i-6]=s[0]-t[0]*a,r[i-5]=s[1]-t[1]*a,r[i-4]=s[2]-t[2]*a,e.setControlPoints(r)}function P(e){var t=new a.BCurve,r=e.getRange(),i=e.evaluatePosition(r[0]),n=e.evaluatePosition(r[1]),s=o.Vector3.lerp([0,0,0],i,n,1/3),c=o.Vector3.lerp([0,0,0],i,n,2/3),u=[i[0],i[1],0,s[0],s[1],0,c[0],c[1],0,n[0],n[1],0];return t.set(u,[1,1,1,1],3,[0,0,0,0,1,1,1,1]),t}function V(e,t){for(var r,i=e.getRange(),n=e.evaluatePosition(i[0]),s=e.evaluatePosition(i[1]),a=o.Vector3.distance(n,s),c=0,u=t.getControlPoints(),l=[u[0],u[1],u[2]],h=u.length/3,d=1;d<h;++d)r=[u[3*d],u[3*d+1],u[3*d+2]],c+=o.Vector3.distance(l,r),l=r;return a<c}function T(e,t){var r=e.getControlPoints().concat(t.getControlPoints().slice(3)),i=e.getWeights().concat(t.getWeights().slice(1)),n=e.getKnotVector().slice(0,-1),s=e.evaluateDt(e.getRange()[1]),a=t.evaluateDt(t.getRange()[0]),c=Math.sqrt(o.Vector3.squaredLength(a)/o.Vector3.squaredLength(s)),u=n[n.length-1]-t.getKnotVector()[0]*c,l=t.getKnotVector().slice(t.getDegree()+1);return l=l.map((function(e){return e*c+u})),n=n.concat(l),e.set(r,i,3,n),e}function b(e,t,r,n,s){var a=o.Vector2.subtract([],s,e),u=o.Vector2.length(a);if(!(u<i.KERNEL_TOLERANCE)){u>2*t&&(t=u/2);var l=o.Vector2.scaleAndAdd([],e,a,.5);if(u<2*t-o.FLOAT64_TOLERANCE){var h=Math.sqrt(t*t-u*u/4);!0===n!=(!1===r)&&(h=-h);var d=o.Vector2.normalize([],[-a[1],a[0]]);o.Vector2.scaleAndAdd(l,l,d,h)}var p=[0,0,n?1:-1],g=new c.Circle;g.set([l[0],l[1],0],p,[t,0,0]);var f=g.closestToPointParam([e[0],e[1],0]),v=g.closestToPointParam([s[0],s[1],0]);return v<=f&&(v+=2*Math.PI),g.limitRange([f,v]),g}}function C(e,t){var r=e.slice(1);r=r.replace(/([^e])-/g,\"$1 -\");for(var o=0;o<2;++o)r=r.replace(/\\.[0-9]*\\./g,(function(e){return e.slice(0,-1)+\" .\"}));for(var i=r.split(/[,\\s]/),n=[],s=0;s<i.length;++s)if(i[s].length>0){var a=Number(i[s]);t(!isNaN(a),\"could not parse command\"),n.push(a)}return n}v.prototype.numWires=function(){var e=this._wireBody.getWires().length;return this._curves.length>0&&(e+=1),e},v.prototype.numClosed=function(){for(var e=0,t=0;t<this._wireBody.getWires().length;++t)this._wireBody.getWires()[t].isClosed()&&(e+=1);return this._areCurvesClosed()&&(e+=1),e},v.prototype._fixCoincidentControlPoints=function(){for(var e=i.KERNEL_TOLERANCE*i.KERNEL_TOLERANCE,t=0;t<this._curves.length;++t){var r=this._curves[t];r.getGeometryType()===i.GEOMETRY_TYPES.BCURVE&&3===r.getDegree()&&4===r.getNumControlPoints()&&!1===r.isRational()&&E(r,e)&&x(r,e)}},v.prototype._snapBCurvesTangent=function(){for(var e=0;e<this._curves.length;++e){var t=(e+1)%this._curves.length;if(0===t&&!this._areCurvesClosed())break;var r=this._curves[e],n=this._curves[t],s=r.evaluateDt(r.getRange()[1]),a=n.evaluateDt(n.getRange()[0]);o.Vector3.isParallel(s,a,1,this._tangentTol)&&(r.getGeometryType()!==i.GEOMETRY_TYPES.BCURVE&&n.getGeometryType()===i.GEOMETRY_TYPES.BCURVE?(o.Vector3.normalize(s,s),R(n,s)):r.getGeometryType()===i.GEOMETRY_TYPES.BCURVE&&n.getGeometryType()!==i.GEOMETRY_TYPES.BCURVE&&(o.Vector3.normalize(a,a),A(r,a)))}},v.prototype._areCurvesClosed=function(){if(0===this._curves.length)return!1;var e=this._curves[this._curves.length-1],t=this._curves[0];return o.Vector3.squaredDistance(e.evaluatePosition(e.getRange()[1]),t.evaluatePosition(t.getRange()[0]))<i.KERNEL_TOLERANCE*i.KERNEL_TOLERANCE},v.prototype._mergeShortLinesWithBCurves=function(){for(var e=!1,t=0;t<this._curves.length;++t){var r=(t+1)%this._curves.length;if(0===r&&!this._areCurvesClosed())break;var n=this._curves[t],s=this._curves[r],a=n.evaluateDt(n.getRange()[1]),c=s.evaluateDt(s.getRange()[0]);o.Vector3.isParallel(a,c,1,i.KERNEL_ANGULAR_TOLERANCE)&&(n.getGeometryType()===i.GEOMETRY_TYPES.LINE&&s.getGeometryType()===i.GEOMETRY_TYPES.BCURVE&&V(n,s)?(this._curves.splice(t,1,T(P(n),s)),this._curves.splice(r,1),t-=1,e=!0):n.getGeometryType()===i.GEOMETRY_TYPES.BCURVE&&s.getGeometryType()===i.GEOMETRY_TYPES.LINE&&V(s,n)&&(this._curves.splice(t,1,T(n,P(s))),this._curves.splice(r,1),t-=1,e=!0))}return e},v.prototype._mergeAdjacentBCurves=function(){for(var e=0;e<this._curves.length;++e){var t=(e+1)%this._curves.length;if(0===t&&!this._areCurvesClosed())break;var r=this._curves[e],n=this._curves[t],s=r.evaluateDt(r.getRange()[1]),a=n.evaluateDt(n.getRange()[0]);o.Vector3.isParallel(s,a,1,this._tangentTol)&&r.getGeometryType()===i.GEOMETRY_TYPES.BCURVE&&n.getGeometryType()===i.GEOMETRY_TYPES.BCURVE&&(o.Vector3.squaredLength(s)<o.Vector3.squaredLength(a)?(o.Vector3.normalize(s,s),R(n,s)):(o.Vector3.normalize(a,a),A(r,a)),r!==n&&(T(r,n),this._curves.splice(t,1),e-=1))}},v.prototype.setMergeBCurves=function(e){this._mergeBCurves=e},v.prototype.setHealForASM=function(e,t){this._healPath=e,this._tangentTol=void 0!==t?t:.01745240643728351},v.prototype._addWire=function(){if(0!==this._curves.length){if(this._healPath&&(this._fixCoincidentControlPoints(),this._snapBCurvesTangent()),(this._mergeBCurves||this._healPath)&&this._mergeAdjacentBCurves(),this._healPath)this._mergeShortLinesWithBCurves()&&this._mergeAdjacentBCurves();var e=(0,h.createWiresFromEdges)((0,h.createEdgesFromCurves)(this._curves));p.ConsoleUtils.assert(1===e.length),this._wireBody.addWire(e[0]),this._curves=[]}},v.prototype._discardIfOpen=function(){if(0!==this._curves.length){var e=this._curves[0].evaluatePosition(this._curves[0].getRange()[0]),t=[this._xy[0],this._xy[1],0];o.Vector3.squaredDistance(e,t)>=i.KERNEL_TOLERANCE*i.KERNEL_TOLERANCE&&(this._curves=[])}},v.prototype.moveTo=function(e,t){var r=\"Path2D.moveTo(x, y)\";return f.assert_number(e,\"x\",r),f.assert_number(t,\"y\",r),this._addWire(),this._xy[0]=e,this._xy[1]=t,this},v.prototype.lineTo=function(e,t){var r=\"Path2D.lineTo(x, y)\";f.assert_number(e,\"x\",r),f.assert_number(t,\"y\",r);var o=e-this._xy[0],n=t-this._xy[1];if(o*o+n*n>i.KERNEL_TOLERANCE*i.KERNEL_TOLERANCE){var s=new l.Line;s.set([this._xy[0],this._xy[1],0],[o,n,0]),s.limitRange([0,1]),this._curves.push(s)}return this._xy[0]=e,this._xy[1]=t,this},v.prototype.quadraticCurveTo=function(e,t,r,o){var i=\"Path2D.quadraticCurveTo(cpx, cpy, x, y)\";f.assert_number(e,\"cpx\",i),f.assert_number(t,\"cpy\",i),f.assert_number(r,\"x\",i),f.assert_number(o,\"y\",i);var n=new a.BCurve,s=1/3*this._xy[0]+2/3*e,c=1/3*this._xy[1]+2/3*t,u=1/3*r+2/3*e,l=1/3*o+2/3*t,h=[this._xy[0],this._xy[1],0,s,c,0,u,l,0,r,o,0];return n.set(h,[1,1,1,1],3,[0,0,0,0,1,1,1,1]),this._curves.push(n),this._xy[0]=r,this._xy[1]=o,this},v.prototype.bezierCurveTo=function(e,t,r,o,i,n){var s=\"Path2D.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y)\";f.assert_number(e,\"cp1x\",s),f.assert_number(t,\"cp1y\",s),f.assert_number(r,\"cp2x\",s),f.assert_number(o,\"cp2y\",s),f.assert_number(i,\"x\",s),f.assert_number(n,\"y\",s);var c=new a.BCurve,u=[this._xy[0],this._xy[1],0,e,t,0,r,o,0,i,n,0];return c.set(u,[1,1,1,1],3,[0,0,0,0,1,1,1,1]),this._curves.push(c),this._xy[0]=i,this._xy[1]=n,this},v.prototype.circleArcTo=function(e,t,r,o,i){var n=\"Path2D.circleArcTo(radius, longest, anticlockwise, x, y)\";f.assert_number(e,\"radius\",n),f.assert_arg(e>0,\"radius\",\"must be positive\",n),f.assert_boolean(t,\"longest\",n),f.assert_boolean(r,\"anticlockwise\",n),f.assert_number(o,\"x\",n),f.assert_number(i,\"y\",n);var s=b(this._xy,e,t,r,[o,i]);return s&&(this._curves.push(s),this._xy[0]=o,this._xy[1]=i),this},v.prototype.ellipseArcTo=function(e,t,r,i,n,s,a){var c=\"Path2D.ellipseArcTo(xRadius, yRadius, rotation, longest, anticlockwise, x, y)\";if(f.assert_number(e,\"xRadius\",c),f.assert_arg(e>0,\"xRadius\",\"must be positive\",c),f.assert_number(t,\"yRadius\",c),f.assert_arg(t>0,\"yRadius\",\"must be positive\",c),f.assert_number(r,\"rotation\",c),f.assert_boolean(i,\"longest\",c),f.assert_boolean(n,\"anticlockwise\",c),f.assert_number(s,\"x\",c),f.assert_number(a,\"y\",c),e<t){var l=e;e=t,t=l,r+=Math.PI/2}var h=Math.cos(r),d=Math.sin(r),p=e/t,g=o.Matrix22.multiply([],[1,0,0,p],[h,-d,d,h]),v=b(o.Vector2.transformMatrix22([],this._xy,g),e,i,n,o.Vector2.transformMatrix22([],[s,a],g));if(v){var _=[v.getCenter()[0],v.getCenter()[1]];o.Matrix22.invert(g,g),o.Vector2.transformMatrix22(_,_,g),_[2]=0;var y=v.getRadius(),m=[y*h,y*d,0],E=new u.Ellipse;E.set(_,v.getNormal(),m,1/p),E.limitRange(v.getRange()),this._curves.push(E),this._xy[0]=s,this._xy[1]=a}return this},v.prototype.closePath=function(){if(this._curves.length>0){var e=this._curves[0],t=e.evaluatePosition(e.getRange()[0]);this.lineTo(t[0],t[1]),this._addWire()}return this},v.prototype.addCircle=function(e,t,r){var o=\"Path2D.addCircle(x, y, radius)\";f.assert_number(e,\"x\",o),f.assert_number(t,\"y\",o),f.assert_number(r,\"radius\",o),f.assert_arg(r>0,\"radius\",\"must be positive\",o),this._addWire();var i=new c.Circle;return i.set([e,t,0],[0,0,1],[r,0,0]),this._curves.push(i),this._addWire(),this},v.prototype.addEllipse=function(e,t,r,o,i){i=void 0===i?0:i;var n=\"Path2D.addEllipse(x, y, xRadius, yRadius, rotation)\";if(f.assert_number(e,\"x\",n),f.assert_number(t,\"y\",n),f.assert_number(r,\"xRadius\",n),f.assert_arg(r>0,\"xRadius\",\"must be positive\",n),f.assert_number(o,\"yRadius\",n),f.assert_arg(o>0,\"yRadius\",\"must be positive\",n),f.assert_number(i,\"rotation\",n),this._addWire(),r<o){var s=r;r=o,o=s,i+=Math.PI/2}var a=new u.Ellipse,c=Math.cos(i),l=Math.sin(i),h=o/r;return a.set([e,t,0],[0,0,1],[r*c,r*l,0],h),this._curves.push(a),this._addWire(),this},v.prototype.addSVGPath=function(e,t){t=void 0!==t&&t;var r=\"Path2D.addSVGPath(pathString, [includeOpen])\";f.assert_string(e,\"pathString\",r),f.assert_boolean(t,\"includeOpen\",r),this._addWire(),this._xy[0]=0,this._xy[1]=0;var o=function(e){for(var t=[];e.length>0;){var r=e.slice(1).search(/[MmZzLlHhVvCcSsQqTtAa]/)+1;r<=0&&(r=e.length);var o=e.slice(0,r).trim();o.length>0&&t.push(o),e=e.slice(r).trim()}return t}(e);f.assert_arg(o.length>0,\"pathString\",\"cannot be empty string\",r);for(var n=[this._xy[0],this._xy[1]],s=[this._xy[0],this._xy[1]],a=0;a<o.length;++a){var c,u,l,h,d,p,g,v=function(e,t){f.assert_arg(e,\"pathString\",t+' \"'+o[a]+'\"',r)},_=o[a].charAt(0).toUpperCase(),y=_!==o[a].charAt(0),m=C(o[a],v),E=y?this._xy:[0,0];switch(_){case\"M\":for(v(m.length>=2,\"insufficient arguments in command\"),v(m.length%2==0,\"command requires pairs of x,y arguments\"),t||this._discardIfOpen(),this.moveTo(m[0]+E[0],m[1]+E[1]),g=2;g<m.length;g+=2)this.lineTo(m[g]+E[0],m[g+1]+E[1]);break;case\"Z\":v(0===m.length,\"command should not have arguments\"),this.closePath();break;case\"L\":for(v(m.length>=2,\"insufficient arguments in command\"),v(m.length%2==0,\"command requires pairs of x,y arguments\"),g=0;g<m.length;g+=2)this.lineTo(m[g]+E[0],m[g+1]+E[1]);break;case\"H\":for(v(m.length>=1,\"insufficient arguments in command\"),g=0;g<m.length;g+=1)this.lineTo(m[g]+E[0],this._xy[1]);break;case\"V\":for(v(m.length>=1,\"insufficient arguments in command\"),g=0;g<m.length;g+=1)this.lineTo(this._xy[0],m[g]+E[1]);break;case\"C\":for(v(m.length>=6,\"insufficient arguments in command\"),v(m.length%6==0,\"command requires sets of 6 arguments\"),g=0;g<m.length;g+=6)c=m[g]+E[0],u=m[g+1]+E[1],l=m[g+2]+E[0],h=m[g+3]+E[1],d=m[g+4]+E[0],p=m[g+5]+E[1],this.bezierCurveTo(c,u,l,h,d,p),s[0]=l,s[1]=h;break;case\"S\":for(v(m.length>=4,\"insufficient arguments in command\"),v(m.length%4==0,\"command requires sets of 4 arguments\"),g=0;g<m.length;g+=4)c=2*this._xy[0]-s[0],u=2*this._xy[1]-s[1],l=m[g]+E[0],h=m[g+1]+E[1],d=m[g+2]+E[0],p=m[g+3]+E[1],this.bezierCurveTo(c,u,l,h,d,p),s[0]=l,s[1]=h;break;case\"Q\":for(v(m.length>=4,\"insufficient arguments in command\"),v(m.length%4==0,\"command requires sets of 4 arguments\"),g=0;g<m.length;g+=4)c=m[g]+E[0],u=m[g+1]+E[1],l=m[g+2]+E[0],h=m[g+3]+E[1],this.quadraticCurveTo(c,u,l,h),n[0]=c,n[1]=u;break;case\"T\":for(v(m.length>=2,\"insufficient arguments in command\"),v(m.length%2==0,\"command requires pairs of arguments\"),g=0;g<m.length;g+=2)c=2*this._xy[0]-n[0],u=2*this._xy[1]-n[1],l=m[g]+E[0],h=m[g+1]+E[1],this.quadraticCurveTo(c,u,l,h),n[0]=c,n[1]=u;break;case\"A\":for(v(m.length>=7,\"insufficient arguments in command\"),v(m.length%7==0,\"command requires sets of 7 arguments\"),g=0;g<m.length;g+=7){var x=Math.abs(m[g]),R=Math.abs(m[g+1]),A=m[g+2]*Math.PI/180,P=0!==m[g+3],V=0!==m[g+4],T=m[g+5]+E[0],b=m[g+6]+E[1];x<i.KERNEL_TOLERANCE||R<i.KERNEL_TOLERANCE?this.lineTo(T,b):this.ellipseArcTo(x,R,A,P,V,T,b)}break;default:v(!1,\"unrecognised command\")}\"Q\"!==_&&\"T\"!==_&&(n=[this._xy[0],this._xy[1]]),\"C\"!==_&&\"S\"!==_&&(s=[this._xy[0],this._xy[1]])}return t||this._discardIfOpen(),this._addWire(),this},v.prototype.getWireBody=function(){return this._addWire(),this._wireBody},v.prototype.computeRegionizedWireBody=function(){this.getWireBody();for(var e=new n.WireBody,t=(0,d.mergeSketchRegions)(this._wireBody.getWires()),r=0;r<t.length;++r)for(var o=t[r].getLoops(),i=0;i<o.length;++i){var a=o[i],c=new s.Wire;c.addEdges(Array.from(a.collectEdges())),e.addWire(c)}return e},v.prototype.reset=function(){this._wireBody=new n.WireBody,this._curves=[],this._xy=[0,0]},t.Path2D=v},2208:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ProgenitorMap=void 0;var o=r(2468),i=r(4728),n=function(){this._newToOldMap=new Map,this._oldToNewMap=new Map,this._labelMap=new Map};n.prototype.addEntry=function(e,t,r){t=Array.from(new Set(t)),i.ConsoleUtils.assert(!this._newToOldMap.has(e)),this._newToOldMap.set(e,t),r&&this._labelMap.set(e,r);for(var o=0;o<t.length;o++){var n=t[o],s=this._oldToNewMap.get(n);s?s.indexOf(e)<0&&s.push(e):this._oldToNewMap.set(n,[e])}},n.prototype.hasEntry=function(e){return this._newToOldMap.has(e)},n.prototype.removeEntry=function(e){var t=this._newToOldMap.get(e);if(t){this._newToOldMap.delete(e),this._labelMap.delete(e);for(var r=0;r<t.length;r++){var o=this._oldToNewMap.get(t[r]),n=o.indexOf(e);i.ConsoleUtils.assert(n>=0),o.splice(n,1),0===o.length&&this._oldToNewMap.delete(t[r])}}},n.prototype.size=function(){return this._newToOldMap.size},n.prototype.getProgenitors=function(e){return this._newToOldMap.get(e)},n.prototype.getDescendants=function(e){return this._oldToNewMap.get(e)||[]},n.prototype.getLabel=function(e){return this._labelMap.get(e)||\"\"},n.prototype.getAllNewTopology=function(){return Array.from(this._newToOldMap.keys())},n.prototype.getAllOldTopology=function(){return Array.from(this._oldToNewMap.keys())},n.prototype.clear=function(){this._newToOldMap.clear(),this._oldToNewMap.clear(),this._labelMap.clear()},n.prototype.mergeMaps=function(e){var t=new n,r=new Set(this._newToOldMap.keys());return e._newToOldMap.keys().forEach((function(e){r.add(e)})),r.forEach((function(r){var o=this.getProgenitors(r)||[],i=e.getProgenitors(r)||[],n=this.getLabel(r)||e.getLabel(r);t.addEntry(r,o.concat(i),n)})),t},n.prototype.collapseMaps=function(e,t){var r=!1,o=!1;t&&(void 0!==t.keepIntermediates&&(r=t.keepIntermediates),void 0!==t.keepAllDescendants&&(o=t.keepAllDescendants));var i=new n,s=void 0;return o&&(s=new Set(e._newToOldMap.keys())),this._newToOldMap.forEach((function(t,n){for(var a=new Set,c=0;c<t.length;c++){var u=t[c],l=e.getProgenitors(u);l&&l.length>0?(l.forEach((function(e){a.add(e)})),r&&a.add(u)):a.add(u),o&&s.delete(u)}i.addEntry(n,Array.from(a))})),o&&s.forEach((function(t){var r=e.getProgenitors(t);i.hasEntry(t)&&(r=r.concat(i.getProgenitors(t)),i.removeEntry(t)),i.addEntry(t,r)})),i},n.prototype.toString=function(){for(var e=\"ProgenitorMap:\\n\",t=this.getAllNewTopology(),r=0;r<t.length;r++){var i=t[r];e+=o.TOPOLOGY_TYPES.toString(i.getTopologyType())+\":\"+i.getGuid();var n=this.getLabel(i);n&&(e+=\" '\"+n+\"'\"),e+=\" -> [ \";for(var s=this.getProgenitors(i),a=0;a<s.length;a++)a>0&&(e+=\", \"),e+=o.TOPOLOGY_TYPES.toString(s[a].getTopologyType())+\":\"+s[a].getGuid();e+=\" ]\\n\"}return e},t.ProgenitorMap=n},3332:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.createBlock=void 0;var o=r(64),i=r(2472),n=r(2468),s=r(4728);t.createBlock=function(e,t){var r=[Math.min(e[0],t[0]),Math.min(e[1],t[1]),Math.min(e[2],t[2])],a=[Math.max(e[0],t[0]),Math.max(e[1],t[1]),Math.max(e[2],t[2])];s.ConsoleUtils.assert(a[0]-r[0]>n.KERNEL_TOLERANCE,\"block is degenerate in x axis\"),s.ConsoleUtils.assert(a[1]-r[1]>n.KERNEL_TOLERANCE,\"block is degenerate in y axis\"),s.ConsoleUtils.assert(a[2]-r[2]>n.KERNEL_TOLERANCE,\"block is degenerate in z axis\");var c=[[r[0],r[1],r[2]],[a[0],r[1],r[2]],[a[0],a[1],r[2]],[r[0],a[1],r[2]]],u=(0,o.createFaceFromPolyline)(c),l=a[2]-r[2];return(0,i.extrudeFace)(u,l)}},9128:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.createCylinder=t.createCone=void 0;var o=r(1972),i=r(64),n=r(2468),s=r(8292),a=r(2984),c=r(3440),u=r(8360),l=r(2956),h=r(4524),d=r(6776),p=r(6508),g=r(5837),f=r(9984),v=r(4728),_=function(e,t,r,_,y,m){var E=e,x=t,R=Math.abs(r),A=void 0===_?R:Math.abs(_);if(R<n.KERNEL_TOLERANCE){E=t,x=e;var P=R;R=A,A=P}v.ConsoleUtils.assert(R>n.KERNEL_TOLERANCE);var V=o.Vector3.createFloat64();o.Vector3.subtract(V,x,E);var T=o.Vector3.length(V);v.ConsoleUtils.assert(T>n.KERNEL_TOLERANCE),o.Vector3.scale(V,V,1/T);var b=A-R,C=Math.abs(b)>n.KERNEL_TOLERANCE,O=0;C&&(O=Math.atan2(b,T));var L,S=o.Vector3.createFloat64();m&&o.Vector3.subtract(S,m,o.Vector3.scale(S,V,o.Vector3.dot(m,V))),(!m||o.Vector3.squaredLength(S)<n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE)&&o.Vector3.computeOrthogonal(S,V),o.Vector3.normalize(S,S),o.Vector3.scale(S,S,R);var M=y||1;v.ConsoleUtils.assert(M>0&&M<=1);var w=Math.max(R,A);Math.abs(w*(1-M))<n.KERNEL_TOLERANCE?C?(L=new a.Cone).set(E,R,V,O,S,1):(L=new c.Cylinder).set(E,R,V,S,1):C?(L=new l.EllipticalCone).set(E,S,M,V,O,1):(L=new u.EllipticalCylinder).set(E,S,M,V,1);var N=[0,T/Math.cos(O)];L.limitRangeU(N);var F=(0,i.makeConeOrCylinderVParamLoop)(L,N[0]),I=(0,i.makeConeOrCylinderVParamLoop)(L,N[1]);F.getCoedges()[0].setReversed(!0);var D=[];D[0]=new d.Face,D[0].setSurface(L),D[0].addLoops([F,I]);var j=F.getCoedges()[0].getEdge();if(j.getCurve()){var B=new h.Loop;B.addCoedge((0,i.createCoedgeOnEdge)(j)),(G=new d.Face).addLoop(B);var U=new s.Plane;U.set(E,V),G.setSurface(U),G.setReversed(!0),D.push(G),v.ConsoleUtils.assert(B.getCoedges()[0].uvAngleSubtended(E)<-n.KERNEL_TOLERANCE)}var k=I.getCoedges()[0].getEdge();if(k.getCurve()){var G,z=new h.Loop;z.addCoedge((0,i.createCoedgeOnEdge)(k)),(G=new d.Face).addLoop(z);var Y=new s.Plane;Y.set(x,V),G.setSurface(Y),D.push(G),v.ConsoleUtils.assert(z.getCoedges()[0].uvAngleSubtended(x)<-n.KERNEL_TOLERANCE)}var K=new p.Shell;K.addFaces(D);var q=new g.Lump;q.addShell(K);var W=new f.Body;return W.addLump(q),W};t.createCone=_,t.createCylinder=function(e,t,r,o,i){return _(e,t,r,r,o,i)}},4268:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.svgFromWire=void 0;var o=r(2468),i=r(4728);t.svgFromWire=function(e){e.getTopologyType()===o.TOPOLOGY_TYPES.WIREBODY&&console.warn(\"svgFromWire: Pass a wire, not a wire body.\"),i.ConsoleUtils.assert(e.getTopologyType()===o.TOPOLOGY_TYPES.WIRE,\"Input topology is not a Wire\");var t=e.getOrderedEdges();if(0===t.edges.length)return\"\";for(var r=t.start,n=r.getPosition(),s=\"M \"+n[0]+\" \"+n[1],a=0;a<t.edges.length;++a){var c=t.edges[a];n=(r=r===c.getStartVertex()?c.getEndVertex():c.getStartVertex()).getPosition();var u=c.getCurve();if(u)if(u.getGeometryType()===o.GEOMETRY_TYPES.LINE)s+=\" L \"+n[0]+\" \"+n[1];else if(u.getGeometryType()!==o.GEOMETRY_TYPES.BCURVE||3!==u.getDegree()||u.isRational())console.warn(\"Unhandled curve type in svgFromWire\");else{for(var l=[],h=u.getBezierSegments(),d=0;d<h.length;d++){var p=h[d];if(p)for(var g=p.getControlPoints(),f=0;f<g.length;f+=3)l.push([g[f],g[f+1]])}r===c.getStartVertex()!==c.isReversed()&&l.reverse(),i.ConsoleUtils.assert(l.length===4*h.length,\"Unexpected number of control points\");for(var v=0;v<h.length;++v)s+=\" C \"+l[4*v+1][0]+\" \"+l[4*v+1][1]+\" \"+l[4*v+2][0]+\" \"+l[4*v+2][1]+\" \",v===h.length-1?s+=n[0]+\" \"+n[1]:s+=l[4*v+3][0]+\" \"+l[4*v+3][1]}}return s}},7616:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.mergeConnectedFaces=t.mergeFaces=t.findConnectedFaces=t.findConnectedEdges=t.mergeCoincidentVertices=t.transformTopology=t.reverseFace=void 0;var o=r(1972),i=r(2468),n=r(4524),s=r(4728),a=function(e,t){var r=!1,o=!0,i=new Set;t&&(void 0!==t.inputFacesOnly&&(r=t.inputFacesOnly),void 0!==t.allowVertexConnections&&(o=t.allowVertexConnections),void 0!==t.barrierEdges&&(i=new Set(t.barrierEdges)));var n=new Set,s=new Set(e);for(var a,c=[];s.size>0;){n.clear();var u=s.values().next().value;a=u,s.delete(a),n.add(a),n.forEach((function(t){var a=new Set;o?t.collectVertices().forEach((function(e){e.collectEdges(a)})):(t.collectEdges(a),i.forEach((function(e){a.delete(e)}))),a.forEach((function(t){for(var o=t.getCoedge(),i=o;i;){if(i.getLoop()){var a=i.getLoop().getFace();n.has(a)||r&&!(e.indexOf(a)>=0)||(n.add(a),s.delete(a))}(i=i.getPartner())===o&&(i=void 0)}}))})),c.push(Array.from(n))}return c},c=function(e){if(1!==e.length){var t=new Set;e.forEach((function(e){e.collectEdges(t)}));var r=new Set,o=[];t.forEach((function(t){var i=t.getCoedges(),n=i.map((function(t){return e.indexOf(t.getFace())>=0}));if(2===i.length&&n[0]&&n[1])o.push(t);else for(var s=0;s<i.length;s++)n[s]&&(r.add(i[s]),i[s].resetUVCurve())}));for(var i=[];r.size>0;){for(var a=[],c=r.values().next().value;c;){a.push(c),r.delete(c);var u=c,l=void 0,h=2*c.getEndVertex().getEdges().length;do{if(u=u.getNext(),r.has(u)){l=u;break}u=u.getPartner()}while(u&&u!==c&&--h>0);c=l}s.ConsoleUtils.assert(a[0].getStartVertex()===a[a.length-1].getEndVertex()),i.push(a)}o.forEach((function(e){e.setStartVertex(null),e.setEndVertex(null)}));var d=e[0];d.setLoops([]),i.forEach((function(e){var t=new n.Loop;t.addCoedges(e),d.addLoop(t)}));for(var p=1;p<e.length;p++)e[p].getShell()&&e[p].getShell().removeFace(e[p]);var g=d.getSurface();g.unlimitRangeU(),g.unlimitRangeV()}};t.reverseFace=function(e){e.setReversed(!e.isReversed());for(var t,r=e.getLoops(),o=0;o<r.length;++o){for(var i=r[o].getCoedges(),n=0;n<i.length;++n)(t=i[n]).setReversed(!t.isReversed());i.reverse()}},t.transformTopology=function(e,t){Array.isArray(e)||(e=[e]);for(var r=new Set,o=new Set,n=new Set,s=0;s<e.length;++s){var a=e[s],c=a.getTopologyType();a.collectVertices(r),c!==i.TOPOLOGY_TYPES.VERTEX&&a.collectEdges(o),c!==i.TOPOLOGY_TYPES.VERTEX&&c!==i.TOPOLOGY_TYPES.EDGE&&c!==i.TOPOLOGY_TYPES.COEDGE&&c!==i.TOPOLOGY_TYPES.LOOP&&a.collectFaces(n)}r.forEach((function(e){e.getPoint()&&e.getPoint().transform(t)})),o.forEach((function(e){e.getCurve()&&e.getCurve().transform(t)})),n.forEach((function(e){e.getSurface()&&e.getSurface().transform(t)}))},t.mergeCoincidentVertices=function(e){for(var t=i.KERNEL_TOLERANCE*i.KERNEL_TOLERANCE,r=[],n=0;n<e.length;++n){var s,a=e[n],c=a.getStartVertex(),u=a.getEndVertex();for(s=0;s<r.length&&!(o.Vector3.squaredDistance(c.getPosition(),r[s].getPosition())<t);++s);if(s===r.length?r.push(c):(r[s].setPrecision(Math.max(r[s].getPrecision(),c.getPrecision())),a.setStartVertex(r[s])),c!==u)for(s=0;s<r.length&&!(o.Vector3.squaredDistance(u.getPosition(),r[s].getPosition())<t);++s);s===r.length?r.push(u):(r[s].setPrecision(Math.max(r[s].getPrecision(),u.getPrecision())),a.setEndVertex(r[s]))}},t.findConnectedEdges=function(e,t){for(var r=t||!1,o=[],i=new Set,n=0;n<e.length;++n){var s=e[n];if(!i.has(s)){for(var a=[],c=[s],u=0;u<c.length;++u){var l=c[u];i.has(l)||r&&!(e.indexOf(l)>=0)||(i.add(l),a.push(l),c=c.concat(l.getStartVertex().getEdges(),l.getEndVertex().getEdges()))}o.push(a)}}return o},t.findConnectedFaces=a,t.mergeFaces=c,t.mergeConnectedFaces=function(e){var t=[];return a(e,{inputFacesOnly:!0,allowVertexConnections:!1}).forEach((function(e){c(e),t.push(e[0])})),t}},4728:(e,t)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r={assert:function(e,t){if(!e)throw new Error(t)}};t.ConsoleUtils=r},6120:(e,t)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=!1,o=!1,i={},n={init3D:function(e){for(var t in r=!0,e)\"function\"==typeof e[t]&&(n[t]=e[t].bind(e))},setLevel:function(e,t){var r=i[e];return i[e]=t,console.log(\"Debug of \"+e+\" set to level \"+t),r},level:function(e){if(!r)return 0;var t=i[e];return void 0===t?0:t},setConsoleWarnings:function(e){o=e},warn:function(e){o&&console.warn(e)}};t.DebugUtils=n},6344:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.edgesAreCoincident=t.curvesAreCoincident=void 0;var o=r(1972),i=r(2468),n=r(4728),s=r(6120);function a(e,t,r,i,n){var s=e.evaluatePosition(t),a=r.closestToPointParam(s,i),c=r.evaluatePosition(a);return o.Vector3.squaredDistance(s,c)<n*n}function c(e,t,r,i,n,s){var c=[0,0,0];if(o.Vector3.isParallel(e,t.getNormal()))return!0;o.Vector3.add(c,t.getCenter(),e);var u=t.closestToPointParam(c,i);if(u>i[0]&&u<i[1]&&!a(t,u,r,n,s))return!1;o.Vector3.sub(c,t.getCenter(),e);var l=t.closestToPointParam(c,i);return!(l>i[0]&&l<i[1]&&!a(t,l,r,n,s))}function u(e,t,r,o,i){if(!a(e,.5*(r[0]+r[1]),t,o,i))return!1;var n=t.closestToPointParam(e.getCenter(),o);return!(n>o[0]&&n<o[1]&&!a(t,n,e,r,i))}var l=function(e,t,r,l,h){r?0===r.length&&(r=e.getRangeUnlimited()):r=e.getRange(),l?0===l.length&&(l=t.getRangeUnlimited()):l=t.getRange(),h||(h=i.KERNEL_TOLERANCE);var d=e.getGeometryType(),p=t.getGeometryType();if(!(isFinite(r[0])&&isFinite(r[1])&&isFinite(l[0])&&isFinite(l[1]))){var g=r[0]===Number.NEGATIVE_INFINITY&&r[1]===Number.POSITIVE_INFINITY,f=l[0]===Number.NEGATIVE_INFINITY&&l[1]===Number.POSITIVE_INFINITY;return!(!g||!f)&&(n.ConsoleUtils.assert(d===i.GEOMETRY_TYPES.LINE&&p===i.GEOMETRY_TYPES.LINE),function(e,t,r){if(e===t)return!0;if(!a(e,0,t,[],r)||!a(t,0,e,[],r))return!1;var i=e.evaluateDt(0);o.Vector3.normalize(i,i);var n=t.evaluateDt(0);return o.Vector3.normalize(n,n),o.Vector3.dot(i,n)<0&&o.Vector3.negate(n,n),o.Vector3.equals(i,n,o.FLOAT64_TOLERANCE)}(e,t,h))}return e===t&&Math.abs(r[0]-l[0])<o.FLOAT64_TOLERANCE&&Math.abs(r[1]-l[1])<o.FLOAT64_TOLERANCE||!!(a(e,r[0],t,l,h)&&a(e,r[1],t,l,h)&&a(t,l[0],e,r,h)&&a(t,l[1],e,r,h))&&(d===i.GEOMETRY_TYPES.LINE&&p===i.GEOMETRY_TYPES.LINE||(d===i.GEOMETRY_TYPES.CIRCLE&&p===i.GEOMETRY_TYPES.CIRCLE?function(e,t,r,i,n){var s=.5*(r[0]+r[1]),u=.5*(i[0]+i[1]);if(!a(e,s,t,i,n)||!a(t,u,e,r,n))return!1;var l=o.Vector3.sub([0,0,0],t.getCenter(),e.getCenter());if(o.Vector3.squaredLength(l)>o.FLOAT64_TOLERANCE*o.FLOAT64_TOLERANCE){if(o.Vector3.normalize(l,l),!c(l,e,t,r,i,n))return!1;if(!c(l,t,e,i,r,n))return!1}if(o.Vector3.dot(e.getNormal(),t.getNormal())<0?o.Vector3.add(l,e.getNormal(),t.getNormal()):o.Vector3.sub(l,e.getNormal(),t.getNormal()),o.Vector3.squaredLength(l)>o.FLOAT64_TOLERANCE*o.FLOAT64_TOLERANCE){if(o.Vector3.normalize(l,l),!c(l,e,t,r,i,n))return!1;if(!c(l,t,e,i,r,n))return!1}if(r[1]-r[0]<2*Math.PI-o.FLOAT64_TOLERANCE){var h=e.evaluatePosition(s+Math.PI),d=t.closestToPointParam(h,i);if(d>i[0]&&d<i[1]&&!a(t,d,e,r,n))return!1}if(i[1]-i[0]<2*Math.PI-o.FLOAT64_TOLERANCE){var p=t.evaluatePosition(u+Math.PI),g=e.closestToPointParam(p,r);if(g>r[0]&&g<r[1]&&!a(e,g,t,i,n))return!1}return!0}(e,t,r,l,h):d===i.GEOMETRY_TYPES.CIRCLE&&p===i.GEOMETRY_TYPES.LINE?u(e,t,r,l,h):d===i.GEOMETRY_TYPES.LINE&&p===i.GEOMETRY_TYPES.CIRCLE?u(t,e,l,r,h):function(e,t,r,i,n){for(var a=[r[0],r[1]],c=[e.evaluatePosition(r[0]),e.evaluatePosition(r[1])],u=0;u<100;++u){var l=.5*(a[0]+a[1]),h=e.evaluatePosition(l),d=t.closestToPointParam(h,i),p=t.evaluatePosition(d),g=o.Vector3.sub([0,0,0],p,h);if(o.Vector3.squaredLength(g)>n*n)return!1;if(o.Vector3.distance(c[0],h)+o.Vector3.distance(h,c[1])<n)return!0;var f=e.evaluateDt(l);o.Vector3.dot(f,g)<0?(a[0]=l,c[0]=h):(a[1]=l,c[1]=h)}return s.DebugUtils.warn(\"Binary search in coincidence check exceeded maximum iterations\"),!0}(e,t,r,l,h)))};t.curvesAreCoincident=l,t.edgesAreCoincident=function(e,t){if(e===t)return!0;var r=Math.max(i.KERNEL_TOLERANCE,e.getPrecision(),t.getPrecision()),n=e.getCurve(),s=t.getCurve();if(!n||!s){if(n||s)return!1;var a=e.getStartVertex(),c=t.getStartVertex();r=Math.max(r,a.getPrecision(),c.getPrecision());var u=a.getPosition(),h=c.getPosition();return o.Vector3.squaredDistance(u,h)<r*r}var d=e.getRange();e.isReversed()&&(d=[-d[1],-d[0]]);var p=t.getRange();return t.isReversed()&&(p=[-p[1],-p[0]]),l(n,s,d,p,r)}},3900:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CCI=void 0;var o=r(1972),i=r(9892),n=r(880),s=function(e,t){this.cutInfo=e,this.cutByInfo=t},a=function(e,t,r,o,n){this._cu1=e,this._range1=t,this._cu2=r,this._range2=o,this._epsilon=n,this._tree=new i.SubCurveTree(e,t,r,o,n)};a.prototype.intersect=function(){var e=[];this._tree.build();for(var t=0;t<this._tree._overlaps.length;++t){var r=this._tree._overlaps[t][0],o=this._tree._overlaps[t][1];e=e.concat(this._solve(r._range,o._range))}return this._merge(e),e},a.prototype._distanceSquared=function(e,t){var r=this._cu1.evaluatePosition(e),i=this._cu2.evaluatePosition(t);return o.Vector3.squaredDistance(r,i)},a.prototype._solve=function(e,t){var r=[],o=[.5*(e[0]+e[1]),.5*(t[0]+t[1])],i=this._relaxNR(o,[e,t]),a=i===n.RelaxResult.Success;if(i===n.RelaxResult.OutOfRange){var c=o[0]<e[0]+1e-12||o[0]>e[1]-1e-12,u=o[1]<t[0]+1e-12||o[1]>t[1]-1e-12;if(c||u)this._distanceSquared(o[0],o[1])<this._epsilon*this._epsilon&&(a=!0)}return a&&r.push(new s({param:o[0],atVertex:void 0},{param:o[1],atVertex:void 0})),r},a.prototype._relaxNR=function(e,t){var r=this,i=(0,n.newtonRaphson2D)((function(e){var t=r._cu1.evaluatePosition(e[0]),i=r._cu2.evaluatePosition(e[1]),n=[t[0]-i[0],t[1]-i[1]],s=r._cu1.evaluateDt(e[0]),a=r._cu2.evaluateDt(e[1]);return o.Vector3.negate(a,a),{val:n,deriv1:s,deriv2:a}}),e,t);return e[0]=i.param[0],e[1]=i.param[1],i.status},a.prototype._merge=function(e){e.sort((function(e,t){return e.cutInfo.param-t.cutInfo.param}));for(var t=0;t<e.length;t++)if(e[t])for(var r=e[t].cutInfo.param,o=e[t].cutByInfo.param,i=t+1;i<e.length;i++)if(e[i]){var n=e[i].cutInfo.param,s=e[i].cutByInfo.param;if(n>r+1e-11)break;if(Math.abs(s-o)<=1e-11){e[t]=void 0;break}}for(t=0;t<e.length;t++)e[t]||(e.splice(t,1),t--)},t.CCI=a},8460:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.computeCurveCurveIntersections=void 0;var o=r(1972),i=r(2468),n=r(3565),s=r(1096),a=r(7580),c=r(6940),u=r(5856),l=r(5416),h=r(5896),d=r(3900),p=i.KERNEL_TOLERANCE,g=function(e,t,r,i){var n=t,s=e.getRange();if(e.getCurve().isPeriodicUnlimited()&&(n<s[0]-o.FLOAT64_TOLERANCE||n>s[1]+o.FLOAT64_TOLERANCE)){var a=e.getCurve().getPeriodUnlimited();n=(0,h.foldNearTo)(n,.5*(s[0]+s[1]),a)}var c=Math.abs(n-s[0])<Math.abs(n-s[1])?0:1,u=o.Vector3.length(e.evaluateDt(n));return Math.abs(n-s[c])*u<r?{param:s[c],atVertex:e.getVertex(c)}:n>=s[0]&&n<=s[1]?{param:n,atVertex:void 0}:!e.isClosed()&&i.distanceToPoint(e.getVertex(c).getPosition())<r?{param:s[c],atVertex:e.getVertex(c)}:void 0},f=function(e,t,r,i,n){var s=g(e,t,n,r);if(s){if(s.atVertex){var a=r.getRange();if(e===r)a=[i-.1*(l=Math.abs(a[1]-a[0])),i+.1*l];var c=r.closestToPointParam(s.atVertex.getPosition(),a);o.Vector3.distance(r.evaluatePosition(c),s.atVertex.getPosition())<n&&(i=c)}var u=g(r,i,n,e);if(u){if(u.atVertex){var l;a=e.getRange();if(e===r)a=[t-.1*(l=Math.abs(a[1]-a[0])),t+.1*l];c=e.closestToPointParam(u.atVertex.getPosition(),a);o.Vector3.distance(e.evaluatePosition(c),u.atVertex.getPosition())<n&&(s=g(e,t=c,n,r))}if(s)return{cutInfo:s,cutByInfo:u}}}},v=function(e,t,r){var o=[t-e.getRange()[0],t-e.getRange()[1]];if(o[0]>=r&&o[1]<=-r)return{param:t,atVertex:void 0};var i=Math.abs(o[0])<Math.abs(o[1])?0:1;return Math.abs(o[i])<r?{param:e.getRange()[i],atVertex:e.getVertex(i)}:void 0},_=function(e,t,r,n,s,a,c){var u=e.getCurve().getPeriodUnlimited(),l=t.getCurve().getPeriodUnlimited(),d=[r[0],r[2]],p=[n[0],n[2]],f=[s/o.Vector3.length(e.evaluateDt(d[0])),s/o.Vector3.length(e.evaluateDt(d[1]))],v=[s/o.Vector3.length(t.evaluateDt(p[0])),s/o.Vector3.length(t.evaluateDt(p[1]))];if(((0,h.isParameterWithinPeriodicRange)(d[0],e.getRange(),u,f[0])||(0,h.isParameterWithinPeriodicRange)(d[1],e.getRange(),u,f[1]))&&((0,h.isParameterWithinPeriodicRange)(p[0],t.getRange(),l,v[0])||(0,h.isParameterWithinPeriodicRange)(p[1],t.getRange(),l,v[1]))){for(var _=0;_<2;_++){d[_]=(0,h.adjustParameterToPeriodicRange)(d[_],e.getRange(),u,!1,!0),p[_]=(0,h.adjustParameterToPeriodicRange)(p[_],t.getRange(),l,!1,!0);var y=(0,h.periodicDifference)(d[_],e.getRange()[0],u)<3e-15||(0,h.periodicDifference)(d[_],e.getRange()[1],u)<3e-15,m=(0,h.periodicDifference)(p[_],t.getRange()[0],l)<3e-15||(0,h.periodicDifference)(p[_],t.getRange()[1],l)<3e-15;if(d[_]-e.getRange()[0]<f[_]&&(d[_]=e.getRange()[0],y=!0),e.getRange()[1]-d[_]<f[_]&&(d[_]=e.getRange()[1],y=!0),p[_]-t.getRange()[0]<v[_]&&(p[_]=t.getRange()[0],m=!0),t.getRange()[1]-p[_]<v[_]&&(p[_]=t.getRange()[1],m=!0),y){var E=t.closestToPointParam(e.evaluatePosition(d[_]));p[_]=(0,h.adjustParameterToPeriodicRange)(E,t.getRange(),l,!1,!0)}if(m){var x=e.closestToPointParam(t.evaluatePosition(p[_]));if(d[_]=(0,h.adjustParameterToPeriodicRange)(x,e.getRange(),u,!1,!0),(0,h.periodicDifference)(d[_],e.getRange()[0],u)<3e-15||(0,h.periodicDifference)(d[_],e.getRange()[1],u)<3e-15){E=t.closestToPointParam(e.evaluatePosition(d[_]));p[_]=(0,h.adjustParameterToPeriodicRange)(E,t.getRange(),l,!1,!0)}}}var R,A;if((0,h.periodicDifference)(d[0],d[1],u)<Math.min(f[0],f[1])&&(0,h.periodicDifference)(p[0],p[1],l)<Math.min(v[0],v[1]))R=g(e,.5*(d[0]+d[1]),s,e),A=g(t,.5*(p[0]+p[1]),s,t);else{R=g(e,r[1],s,e),A=g(t,n[1],s,t);for(_=0;_<2;_++)if(!((0,h.periodicDifference)(d[_],R.param,u)<f[_]&&(0,h.periodicDifference)(p[_],A.param,l)<v[_])){var P,V,T=g(e,d[_],s,e),b=g(t,p[_],s,t);if(isFinite(u)){var C=(0,h.getShortestParametricRange)(T.param,R.param,u);P=(0,h.periodicDifference)(R.param,C[0],u)<=i.KERNEL_ANGULAR_TOLERANCE}else P=T.param>R.param;if(isFinite(l)){C=(0,h.getShortestParametricRange)(b.param,A.param,l);V=(0,h.periodicDifference)(A.param,C[0],l)<=i.KERNEL_ANGULAR_TOLERANCE}else V=b.param>A.param;a.push({rangeInfo:P?[R,T]:[T,R],rangeByInfo:V?[A,b]:[b,A]})}}c&&c.push({firstParam:R.param,secondParam:A.param})}},y=function(e,t,r,i){var n=e.getRange(),s=e.evaluatePosition(0),a=e.evaluateDt(0),c=o.Vector2.length(a),u=t.getRange(),l=t.evaluatePosition(0),d=t.evaluateDt(0),p=o.Vector2.length(d),g=[a[1]/c,-a[0]/c],_=t.evaluatePosition(u[0]);o.Vector2.subtract(_,_,s);var y=o.Vector2.dot(_,g),m=t.evaluatePosition(u[1]);o.Vector2.subtract(m,m,s);var E=o.Vector2.dot(m,g);if(Math.abs(y)<=i&&Math.abs(E)<=i){var x=o.Vector2.dot(_,a)/(c*c),R=o.Vector2.dot(m,a)/(c*c),A=[Math.min(x,R),Math.max(x,R)],P=i/c,V=i/p;if(A[1]<n[0]-P||A[0]>n[1]+P)return[];var T=[Math.max(n[0],A[0]),Math.min(n[1],A[1])];if(T[1]-T[0]<P){var b=.5*(T[0]+T[1]),C=Math.abs(R-x)>o.FLOAT64_TOLERANCE?u[0]+(u[1]-u[0])*(b-x)/(R-x):.5*(u[0]+u[1]);return[{cutInfo:v(e,b,P),cutByInfo:v(t,C,V)}]}if(!r)return[];var O=u[0]+(u[1]-u[0])*(T[0]-x)/(R-x),L=u[0]+(u[1]-u[0])*(T[1]-x)/(R-x);return[{rangeInfo:[v(e,T[0],P),v(e,T[1],P)],rangeByInfo:[v(t,Math.min(O,L),V),v(t,Math.max(O,L),V)]}]}if(y>i&&E>i||y<-i&&E<-i)return[];var S=[[a[0],-d[0],l[0]-s[0]],[a[1],-d[1],l[1]-s[1]]],M=(0,h.solveTwoEquationsTwoVariables)(S);if(M){var w=f(e,M[0],t,M[1],i);if(w)return[w]}return[]},m=function(e,t,r){var i,n=t.getCenter(),s=e.closestToPointParam(n,[]),a=e.evaluatePosition(s),c=o.Vector3.squaredDistance(a,n),u=[],l=t.getRadius(),h=l-Math.sqrt(c);if(h<-r);else if(h<r)i=t.closestToPointParam(a,[]),u.push({lineParam:s,circleParam:i});else for(var d=Math.sqrt(l*l-c)/o.Vector3.length(e.evaluateDt(0)),p=0;p<2;++p){var g=s+(0===p?-1:1)*d,f=e.evaluatePosition(g);i=t.closestToPointParam(f,[]),u.push({lineParam:g,circleParam:i})}return u},E=function(e,t,r,o,i,n){var s=[r[0]+t*o[0]-e*o[1],r[1]+t*o[1]+e*o[0],0];return{firstParam:i.closestToPointParam(s,[0,2*Math.PI]),secondParam:n.closestToPointParam(s,[0,2*Math.PI])}},x=function(e,t){t||(t=i.KERNEL_TOLERANCE);for(var r=[],o=!1,n=[],s=[],a=0;a<e.length;++a)e[a].hasOwnProperty(\"rangeInfo\")?(!1===o?(n=e[a].rangeInfo,s=e[a].rangeByInfo):Math.abs(n[1].param-e[a].rangeInfo[0].param)<t&&Math.abs(s[1].param-e[a].rangeByInfo[0].param)<t?(n[1]=e[a].rangeInfo[1],s[1]=e[a].rangeByInfo[1]):(r.push({rangeInfo:n,rangeByInfo:s}),n=e[a].rangeInfo,s=e[a].rangeByInfo),o=!0):e[a].hasOwnProperty(\"cutInfo\")?(o&&r.push({rangeInfo:n,rangeByInfo:s}),r.push(e[a]),o=!1):console.warn(\"unknown segment type in intersection code\");return o&&r.push({rangeInfo:n,rangeByInfo:s}),r},R=function(e,t,r,i,n){var s=r.getControlPoints(),a=r.getKnotVector(),c=e.getBoundingBox(),u=[];if(!r.getBoundingBox([a[0],a[a.length-1]]).intersectsWithTolerance(c,n))return u;var d=new Float64Array(s.length),p=s.length/3-1,y=o.Vector2.createFloat64FromValues(e.getStartVertex().getPosition()[0],e.getStartVertex().getPosition()[1]),m=o.Vector3.createFloat64();o.Vector3.sub(m,e.getEndVertex().getPosition(),e.getStartVertex().getPosition()),o.Vector3.normalize(m,m);for(var E=o.Vector2.createFloat64FromValues(m[0],m[1]),x=o.Vector2.createFloat64(),R=!0,A=0;A<=p;++A)x[0]=s[3*A+0],x[1]=s[3*A+1],d[3*A+0]=A/p,d[3*A+1]=(0,h.signedDistanceTo2DLine)(y,E,x),Math.abs(d[3*A+1])>n&&(R=!1),d[3*A+2]=0;if(R)return i?(u=function(e,t,r,i,n){var s=i.length/3-1,a=o.Vector3.createFloat64FromValues(i[0],i[1],i[2]),c=e.closestToPointParam(a),u=o.Vector3.createFloat64FromValues(i[3*s+0],i[3*s+1],i[3*s+2]),l=e.closestToPointParam(u),h=[v(e,c,r),v(e,l,r)];if(h[0].param>h[1].param){var d=h[0];h[0]=h[1],h[1]=d}var p=n[0],f=n[n.length-1];if(t.isReversed()){var _=p;p=-f,f=-_}var y=[g(t,p,r,e),g(t,f,r,e)];return h[0]&&h[1]&&y[0]&&y[1]?[{rangeInfo:h,rangeByInfo:y}]:(console.warn(\"Error in intersection computation.\"),[])}(e,t,n,s,a),u):[];var P=new Float64Array(3),V=[];return u=function(e,t,r,o,i,n,s,a,c){var u,l=[],h=o.length/3-1;3===n?(s[0]>s[1]&&(u=s[0],s[0]=s[1],s[1]=u),s[1]>s[2]&&(u=s[1],s[1]=s[2],s[2]=u),s[0]>s[1]&&(u=s[0],s[0]=s[1],s[1]=u)):2===n&&s[0]>s[1]&&(u=s[0],s[0]=s[1],s[1]=u);var d=[!1,!1,!1],p=i[i.length-1]-i[0],v=t.getCurve().tangentLength(i[0])*p;Math.abs(o[1])<r&&(0===n||s[0]>r/v)&&(n++,s[2]=s[1],s[1]=s[0],s[0]=0,d[0]=!0);var y=t.getCurve().tangentLength(i[i.length-1])*p;Math.abs(o[3*h+1])<r&&(0===n||1-s[n-1]>r/y)&&(s[n]=1,d[n]=!0,n++);for(var m=e.isReversed()?-1:1,E=t.isReversed()?-1:1,x=0,R=0;R<n+1;++R){var A=!1;if(R!==n){var P=s[R];s[R]=i[0]+(i[i.length-1]-i[0])*s[R];var V=t.getCurve().evaluatePosition(s[R]),T=e.getCurve().closestToPointParam(V,[]),b=f(e,T*m,t,s[R]*E,r);b&&(b.cutInfo.virtualIntersection=d[R],b.cutByInfo.virtualIntersection=d[R],l.push(b))}else P=i[i.length-1],A=Math.abs(o[3*h+1])>r;if(0===R&&P>0&&Math.abs(o[0])>r&&(A=!0),c){var C=void 0;if(a.length>0&&a[0][0]>=x&&a[0][0]<=P&&(C=a[0]),a.length>1&&a[1][0]>=x&&a[1][0]<=P&&(C=a[1]),void 0!==C&&Math.abs(C[1])<r&&!A){var O=[i[0]+(i[i.length-1]-i[0])*x,i[0]+(i[i.length-1]-i[0])*P],L=[e.getCurve().closestToPointParam(t.getCurve().evaluatePosition(O[0]),[]),e.getCurve().closestToPointParam(t.getCurve().evaluatePosition(O[1]),[])];if(Math.abs(L[0]-L[1])>r){var S=[g(e,L[0]*m,r,t),g(e,L[1]*m,r,t)],M=[g(t,O[0]*E,r,e),g(t,O[1]*E,r,e)];if(S[0]&&S[1]&&M[0]&&M[1]){var w=i[0]+(i[i.length-1]-i[0])*C[0];w!==O[0]&&w!==O[1]||(w=.5*(O[0]+O[1]));var N=e.getCurve().closestToPointParam(t.getCurve().evaluatePosition(w),[]);_(e,t,[L[0]*m,N*m,L[1]*m],[O[0]*E,w*E,O[1]*E],r,l);var F={cutInfo:g(e,N*m,r,e),cutByInfo:g(t,w*E,r,e)};F.cutInfo.virtualIntersection=!0,F.cutByInfo.virtualIntersection=!0,l.push(F)}}}}x=P}return l}(e,t,n,d,a,l.SplineCurveHelper.intersect_xAxis_NonRationalCubicBSpline_XYPlanar3D([0,0,0],d,P,V),P,V,i),u},A=function(e,t,r,o){var i=e.getBoundingBox(),n=[];if(!t.getBoundingBox().intersectsWithTolerance(i,o))return n;for(var s=t.getCurve().getBezierSegments(),a=s.length,c=0;c<a;c++)for(var u=R(e,t,s[c],r,o),l=0;l<u.length;++l)n.push(u[l]);return n=x(n)},P=function(e,t,r,i,n){var a=r.getControlPoints(),c=r.getKnotVector(),l=e.getBoundingBox(),d=[];if(!r.getBoundingBox([c[0],c[c.length-1]]).intersectsWithTolerance(l,n))return d;for(var v=!0,_=o.Vector2.createFloat64(),y=o.Vector2.createFloat64(),E=o.Vector2.createFloat64(),x=0;x<a.length/3-2&&v;++x)_[0]=a[3*x+0],_[1]=a[3*x+1],y[0]=a[3*x+3],y[1]=a[3*x+4],E[0]=a[3*x+6],E[1]=a[3*x+7],v=Math.abs((0,h.orient2D)(_,y,E))<p;if(v){var R=new s.Line,A=o.Vector3.createFloat64FromValues(a[0],a[1],a[2]),P=o.Vector3.createFloat64FromValues(a[a.length-3],a[a.length-2],a[a.length-1]);R.setFromEndpoints(A,P);var V=o.Vector3.distance(P,A),T=m(R,e.getCurve(),n);for(x=0;x<T.length;++x)if(T[x].lineParam>=0&&T[x].lineParam<=V){T[x].lineParam=t.getCurve().closestToPointParam(R.evaluatePosition(T[x].lineParam),[]);var b=g(e,T[x].circleParam*(e.isReversed()?-1:1),n,t),C=g(t,T[x].lineParam*(t.isReversed()?-1:1),n,e);C&&b&&d.push({cutInfo:b,cutByInfo:C})}return d}var O=o.Vector2.createFloat64(),L=o.Vector2.createFloat64(),S=o.Vector2.createFloat64(),M=o.Vector2.createFloat64();O[0]=-a[0]+3*a[3]-3*a[6]+a[9],O[1]=-a[1]+3*a[4]-3*a[7]+a[10],L[0]=3*a[0]-6*a[3]+3*a[6],L[1]=3*a[1]-6*a[4]+3*a[7],S[0]=-3*a[0]+3*a[3],S[1]=-3*a[1]+3*a[4],M[0]=a[0],M[1]=a[1];var w=e.getCurve().getCenter(),N=e.getCurve().getRadius()*e.getCurve().getRadius(),F=N,I=new Float64Array(7);I[0]=F*O[0]*O[0]+N*O[1]*O[1],I[1]=2*F*O[0]*L[0]+2*L[1]*N*O[1],I[2]=2*S[0]*F*O[0]+L[1]*L[1]*N+F*L[0]*L[0]+2*S[1]*N*O[1],I[3]=-2*w[1]*N*O[1]+2*L[1]*S[1]*N+2*S[0]*F*L[0]-2*F*O[0]*w[0]+2*F*O[0]*M[0]+2*M[1]*N*O[1],I[4]=-2*F*w[0]*L[0]+S[1]*S[1]*N-2*w[1]*L[1]*N+2*F*M[0]*L[0]+S[0]*S[0]*F+2*M[1]*L[1]*N,I[5]=-2*w[1]*S[1]*N-2*S[0]*F*w[0]+2*S[0]*F*M[0]+2*M[1]*S[1]*N,I[6]=F*w[0]*w[0]-2*M[1]*w[1]*N-F*N+w[1]*w[1]*N+M[1]*M[1]*N-2*F*w[0]*M[0]+F*M[0]*M[0];var D=(0,u.getRealPolynomialRoots)(I);for(x=0;x<D.length;++x)if(D[x]>=0&&D[x]<=1){D[x]=c[0]+(c[c.length-1]-c[0])*D[x];var j=t.getCurve().evaluatePosition(D[x]),B=e.getCurve().closestToPointParam(j,[]),U=f(e,B*(e.isReversed()?-1:1),t,D[x]*(t.isReversed()?-1:1),n);U&&d.push(U)}return d},V=function(e,t,r,o,i){var n=e.getBoundingBox(),s=[];if(!t.getBoundingBox().intersectsWithTolerance(n,i))return s;var a=0;e.isClosed()&&o&&(a=1);for(var c=t.getCurve().getBezierSegments(),u=c.length,l=0;l<u;l++)for(var h=P(e,t,c[l],0,i),d=0;d<h.length;++d)for(var p=-a;p<=a;++p)s.push({cutInfo:{atVertex:h[d].cutInfo.atVertex,param:h[d].cutInfo.param+p*Math.PI*2},cutByInfo:h[d].cutByInfo});return s=x(s)},T=function(e,t,r,l,d,v,_){var m=r.getControlPoints(),E=r.getKnotVector(),x=l.getControlPoints(),A=l.getKnotVector(),P=r.getBoundingBox([E[0],E[E.length-1]]),V=l.getBoundingBox([A[0],A[A.length-1]]),T=e===t,b=!1,C=!1;T&&Math.abs(m[m.length-3]-x[0])<v&&Math.abs(m[x.length-2]-x[1])<v&&Math.abs(m[x.length-1]-x[2])<v&&(b=!0),T&&Math.abs(m[0]-x[m.length-3])<v&&Math.abs(m[1]-x[x.length-2])<v&&Math.abs(m[2]-x[x.length-1])<v&&(C=!0);var O=[];if(!P.intersectsWithTolerance(V,v))return O;var L=!0,S=!0,M=o.Vector2.createFloat64(),w=o.Vector2.createFloat64(),N=o.Vector2.createFloat64();for(we=0;we<m.length/3-2&&L;++we)M[0]=m[3*we+0],M[1]=m[3*we+1],w[0]=m[3*we+3],w[1]=m[3*we+4],N[0]=m[3*we+6],N[1]=m[3*we+7],L=Math.abs((0,h.orient2D)(M,w,N))<p;for(we=0;we<x.length/3-2&&S;++we)M[0]=x[3*we+0],M[1]=x[3*we+1],w[0]=x[3*we+3],w[1]=x[3*we+4],N[0]=x[3*we+6],N[1]=x[3*we+7],S=Math.abs((0,h.orient2D)(M,w,N))<p;if(L||S)return O=function(e,t,r,u,l,h,d,p,v){var _=l.getControlPoints(),m=h.getControlPoints(),E=[];if(e&&!t||!e&&t){var x,A,P=new s.Line;e?(x=o.Vector3.createFloat64FromValues(_[0],_[1],_[2]),A=o.Vector3.createFloat64FromValues(_[_.length-3],_[_.length-2],_[_.length-1])):(x=o.Vector3.createFloat64FromValues(m[0],m[1],m[2]),A=o.Vector3.createFloat64FromValues(m[m.length-3],m[m.length-2],m[m.length-1])),P.setFromEndpoints(x,A);var V=new a.Edge(P),T=o.Vector3.distance(A,x);V.setRange([0,T]);var b=new n.Point;b.setPosition(x[0],x[1],x[2]);var C=new n.Point;C.setPosition(A[0],A[1],A[2]);var O,L=new c.Vertex(b),S=new c.Vertex(C);V.setStartVertex(L),V.setEndVertex(S),ee=e?R(V,u,h,d,p):R(V,r,l,d,p);for(var M=0;M<ee.length;++M)if(ee[M].hasOwnProperty(\"cutInfo\")&&ee[M].hasOwnProperty(\"cutByInfo\")){if(ee[M].cutInfo.param>=0&&ee[M].cutInfo.param<=T&&(e?(ee[M].cutInfo.param=r.closestToPointParam(P.evaluatePosition(ee[M].cutInfo.param)),O=f(r,ee[M].cutInfo.param,u,ee[M].cutByInfo.param,p)):(ee[M].cutInfo.param=u.closestToPointParam(P.evaluatePosition(ee[M].cutInfo.param)),O=f(r,ee[M].cutByInfo.param,u,ee[M].cutInfo.param,p)),O))if(v){var w=O.cutInfo.param,N=O.cutByInfo.param;(F=Math.abs(w-N)*o.Vector3.length(r.evaluateDt(w)))>i.KERNEL_TOLERANCE&&!ee[M].cutInfo.virtualIntersection&&E.push(O)}else E.push(O)}else if(ee[M].hasOwnProperty(\"rangeInfo\")&&ee[M].hasOwnProperty(\"rangeByInfo\")&&ee[M].rangeInfo[0].param>=0&&ee[M].rangeInfo[0].param<=T&&ee[M].rangeInfo[1].param>=0&&ee[M].rangeInfo[1].param<=T)if(e?(ee[M].rangeInfo[0].param=r.closestToPointParam(P.evaluatePosition(ee[M].rangeInfo[0].param)),ee[M].rangeInfo[1].param=r.closestToPointParam(P.evaluatePosition(ee[M].rangeInfo[1].param))):(ee[M].rangeInfo[0].param=u.closestToPointParam(P.evaluatePosition(ee[M].rangeInfo[0].param)),ee[M].rangeInfo[1].param=u.closestToPointParam(P.evaluatePosition(ee[M].rangeInfo[1].param))),e?(te=[g(r,ee[M].rangeInfo[0].param,p,u),g(r,ee[M].rangeInfo[1].param,p,u)],re=[g(u,ee[M].rangeByInfo[0].param,p,r),g(u,ee[M].rangeByInfo[1].param,p,r)]):(te=[g(r,ee[M].rangeByInfo[0].param,p,u),g(r,ee[M].rangeByInfo[1].param,p,u)],re=[g(u,ee[M].rangeInfo[0].param,p,r),g(u,ee[M].rangeInfo[1].param,p,r)]),te[0]&&te[1]&&re[0]&&re[1]){var F=Math.abs(te[1].param-re[0].param)*o.Vector3.length(r.evaluateDt(te[1]));(!v||v&&F>i.KERNEL_TOLERANCE)&&E.push({rangeInfo:te,rangeByInfo:re})}else console.warn(\"Error in intersection computation.\")}else{var I=new s.Line,D=new s.Line,j=o.Vector3.createFloat64FromValues(_[0],_[1],_[2]),B=o.Vector3.createFloat64FromValues(_[_.length-3],_[_.length-2],_[_.length-1]),U=o.Vector3.createFloat64FromValues(m[0],m[1],m[2]),k=o.Vector3.createFloat64FromValues(m[m.length-3],m[m.length-2],m[m.length-1]);I.setFromEndpoints(j,B),D.setFromEndpoints(U,k);var G=new a.Edge(I),z=o.Vector3.distance(B,j),Y=new a.Edge(D),K=o.Vector3.distance(k,U);G.setRange([0,z]),Y.setRange([0,K]);var q=new n.Point;q.setPosition(j[0],j[1],j[2]);var W=new n.Point;W.setPosition(B[0],B[1],B[2]);var H=new n.Point;H.setPosition(U[0],U[1],U[2]);var X=new n.Point;X.setPosition(k[0],k[1],k[2]);var J=new c.Vertex(q),$=new c.Vertex(W),Z=new c.Vertex(H),Q=new c.Vertex(X);G.setStartVertex(J),G.setEndVertex($),Y.setStartVertex(Z),Y.setEndVertex(Q);var ee=y(G,Y,d,p);for(M=0;M<ee.length;++M)if(ee[M].hasOwnProperty(\"cutInfo\")&&ee[M].hasOwnProperty(\"cutByInfo\"))ee[M].cutInfo.param>=0&&ee[M].cutInfo.param<=z&&ee[M].cutByInfo.param>=0&&ee[M].cutByInfo.param<=K&&(ee[M].cutInfo.param=r.closestToPointParam(I.evaluatePosition(ee[M].cutInfo.param)),ee[M].cutByInfo.param=u.closestToPointParam(D.evaluatePosition(ee[M].cutByInfo.param)),O=f(r,ee[M].cutInfo.param,u,ee[M].cutByInfo.param,p))&&(w=O.cutInfo.param,N=O.cutByInfo.param,F=Math.abs(w-N)*o.Vector3.length(r.evaluateDt(w)),(!v||v&&F>i.KERNEL_TOLERANCE)&&E.push(O));else if(ee[M].hasOwnProperty(\"rangeInfo\")&&ee[M].hasOwnProperty(\"rangeByInfo\")&&ee[M].rangeInfo[0].param>=0&&ee[M].rangeInfo[0].param<=z&&ee[M].rangeInfo[1].param>=0&&ee[M].rangeInfo[1].param<=z&&ee[M].rangeByInfo[0].param>=0&&ee[M].rangeByInfo[0].param<=K&&ee[M].rangeByInfo[1].param>=0&&ee[M].rangeByInfo[1].param<=K){ee[M].rangeInfo[0].param=r.closestToPointParam(I.evaluatePosition(ee[M].rangeInfo[0].param)),ee[M].rangeInfo[1].param=r.closestToPointParam(I.evaluatePosition(ee[M].rangeInfo[1].param)),ee[M].rangeByInfo[0].param=u.closestToPointParam(D.evaluatePosition(ee[M].rangeByInfo[0].param)),ee[M].rangeByInfo[1].param=u.closestToPointParam(D.evaluatePosition(ee[M].rangeByInfo[1].param));var te=[g(r,ee[M].rangeInfo[0].param,p,u),g(r,ee[M].rangeInfo[1].param,p,u)],re=[g(u,ee[M].rangeByInfo[0].param,p,r),g(u,ee[M].rangeByInfo[1].param,p,r)];te[0]&&te[1]&&re[0]&&re[1]?(F=Math.abs(te[1].param-re[0].param)*o.Vector3.length(r.evaluateDt(te[1])),(!v||v&&F>i.KERNEL_TOLERANCE)&&E.push({rangeInfo:te,rangeByInfo:re})):console.warn(\"Error in intersection computation.\")}}return E}(L,S,e,t,r,l,d,v,_),O;var F=-m[0]+3*m[3]-3*m[6]+m[9],I=3*m[0]-6*m[3]+3*m[6],D=-3*m[0]+3*m[3],j=m[0],B=-m[1]+3*m[4]-3*m[7]+m[10],U=3*m[1]-6*m[4]+3*m[7],k=-3*m[1]+3*m[4],G=m[1],z=j*j,Y=D*D,K=I*I,q=F*F,W=j*j*j,H=D*D*D,X=I*I*I,J=F*F*F,$=G*G,Z=k*k,Q=U*U,ee=B*B,te=G*G*G,re=k*k*k,oe=U*U*U,ie=B*B*B,ne=-x[0]+3*x[3]-3*x[6]+x[9],se=3*x[0]-6*x[3]+3*x[6],ae=-3*x[0]+3*x[3],ce=x[0],ue=-x[1]+3*x[4]-3*x[7]+x[10],le=3*x[1]-6*x[4]+3*x[7],he=-3*x[1]+3*x[4],de=x[1],pe=ce*ce,ge=ce*ce*ce,fe=de*de,ve=de*de*de,_e=ae*ae,ye=ae*ae*ae,me=he*he,Ee=he*he*he,xe=se*se,Re=se*se*se,Ae=le*le,Pe=le*le*le,Ve=ne*ne,Te=ue*ue,be=new Float64Array(10),Ce=F*ue-B*ne;be[0]=Ce*Ce*Ce,be[1]=3*(F*le-B*se)*Ce*Ce,be[2]=3*(F*ue-B*ne)*(q*he*ue+q*Ae-F*B*ae*ue-2*F*B*se*le-F*B*ne*he+ee*ae*ne+ee*xe),be[3]=3*j*q*B*Te-6*j*F*ee*ne*ue+3*j*ie*Ve-3*D*I*F*B*Te+3*D*I*ee*ne*ue+2*D*q*U*Te-D*F*U*B*ne*ue-D*U*ee*Ve+X*B*Te-K*F*U*Te-2*K*U*B*ne*ue+I*q*k*Te+I*F*k*B*ne*ue+2*I*F*Q*ne*ue-2*I*k*ee*Ve+I*Q*B*Ve-3*J*G*Te+3*J*de*Te+6*J*he*le*ue+J*Pe+6*q*G*B*ne*ue-3*q*k*U*ne*ue-3*q*B*ce*Te-6*q*B*ae*le*ue-6*q*B*se*he*ue-3*q*B*se*Ae-6*q*B*ne*de*ue-6*q*B*ne*he*le-3*F*G*ee*Ve+3*F*k*U*B*Ve-F*oe*Ve+6*F*ee*ce*ne*ue+6*F*ee*ae*se*ue+6*F*ee*ae*ne*le+3*F*ee*xe*le+6*F*ee*se*ne*he+3*F*ee*Ve*de-3*ie*ce*Ve-6*ie*ae*se*ne-ie*Re,be[4]=6*j*q*B*le*ue-6*j*F*ee*se*ue-6*j*F*ee*ne*le+6*j*ie*se*ne-6*D*I*F*B*le*ue+3*D*I*ee*se*ue+3*D*I*ee*ne*le+4*D*q*U*le*ue-D*F*U*B*se*ue-D*F*U*B*ne*le-2*D*U*ee*se*ne+2*X*B*le*ue-2*K*F*U*le*ue-2*K*U*B*se*ue-2*K*U*B*ne*le+2*I*q*k*le*ue+I*F*k*B*se*ue+I*F*k*B*ne*le+2*I*F*Q*se*ue+2*I*F*Q*ne*le-4*I*k*ee*se*ne+2*I*Q*B*se*ne-6*J*G*le*ue+6*J*de*le*ue+3*J*me*ue+3*J*he*Ae+6*q*G*B*se*ue+6*q*G*B*ne*le-3*q*k*U*se*ue-3*q*k*U*ne*le-6*q*B*ce*le*ue-6*q*B*ae*he*ue-3*q*B*ae*Ae-6*q*B*se*de*ue-6*q*B*se*he*le-6*q*B*ne*de*le-3*q*B*ne*me-6*F*G*ee*se*ne+6*F*k*U*B*se*ne-2*F*oe*se*ne+6*F*ee*ce*se*ue+6*F*ee*ce*ne*le+3*F*ee*_e*ue+6*F*ee*ae*se*le+6*F*ee*ae*ne*he+3*F*ee*xe*he+6*F*ee*se*ne*de-6*ie*ce*se*ne-3*ie*_e*ne-3*ie*ae*xe,be[5]=6*j*q*B*he*ue+3*j*q*B*Ae-6*j*F*ee*ae*ue-6*j*F*ee*se*le-6*j*F*ee*ne*he+6*j*ie*ae*ne+3*j*ie*xe-6*D*I*F*B*he*ue-3*D*I*F*B*Ae+3*D*I*ee*ae*ue+3*D*I*ee*se*le+3*D*I*ee*ne*he+4*D*q*U*he*ue+2*D*q*U*Ae-D*F*U*B*ae*ue-D*F*U*B*se*le-D*F*U*B*ne*he-2*D*U*ee*ae*ne-D*U*ee*xe+2*X*B*he*ue+X*B*Ae-2*K*F*U*he*ue-K*F*U*Ae-2*K*U*B*ae*ue-2*K*U*B*se*le-2*K*U*B*ne*he+2*I*q*k*he*ue+I*q*k*Ae+I*F*k*B*ae*ue+I*F*k*B*se*le+I*F*k*B*ne*he+2*I*F*Q*ae*ue+2*I*F*Q*se*le+2*I*F*Q*ne*he-4*I*k*ee*ae*ne-2*I*k*ee*xe+2*I*Q*B*ae*ne+I*Q*B*xe-6*J*G*he*ue-3*J*G*Ae+6*J*de*he*ue+3*J*de*Ae+3*J*me*le+6*q*G*B*ae*ue+6*q*G*B*se*le+6*q*G*B*ne*he-3*q*k*U*ae*ue-3*q*k*U*se*le-3*q*k*U*ne*he-6*q*B*ce*he*ue-3*q*B*ce*Ae-6*q*B*ae*de*ue-6*q*B*ae*he*le-6*q*B*se*de*le-3*q*B*se*me-6*q*B*ne*de*he-6*F*G*ee*ae*ne-3*F*G*ee*xe+6*F*k*U*B*ae*ne+3*F*k*U*B*xe-2*F*oe*ae*ne-F*oe*xe+6*F*ee*ce*ae*ue+6*F*ee*ce*se*le+6*F*ee*ce*ne*he+3*F*ee*_e*le+6*F*ee*ae*se*he+6*F*ee*ae*ne*de+3*F*ee*xe*de-6*ie*ce*ae*ne-3*ie*ce*xe-3*ie*_e*se,be[6]=3*z*F*ee*ue-3*z*ie*ne-3*j*D*I*ee*ue+j*D*F*U*B*ue+2*j*D*U*ee*ne+2*j*K*U*B*ue-j*I*F*k*B*ue-2*j*I*F*Q*ue+4*j*I*k*ee*ne-2*j*I*Q*B*ne-6*j*q*G*B*ue+3*j*q*k*U*ue+6*j*q*B*de*ue+6*j*q*B*he*le+6*j*F*G*ee*ne-6*j*F*k*U*B*ne+2*j*F*oe*ne-6*j*F*ee*ce*ue-6*j*F*ee*ae*le-6*j*F*ee*se*he-6*j*F*ee*ne*de+6*j*ie*ce*ne+6*j*ie*ae*se+H*ee*ue-Y*I*U*B*ue-2*Y*F*k*B*ue+Y*F*Q*ue-Y*k*ee*ne+D*K*k*B*ue+6*D*I*F*G*B*ue-D*I*F*k*U*ue-6*D*I*F*B*de*ue-6*D*I*F*B*he*le-3*D*I*G*ee*ne+D*I*k*U*B*ne+3*D*I*ee*ce*ue+3*D*I*ee*ae*le+3*D*I*ee*se*he+3*D*I*ee*ne*de-4*D*q*G*U*ue+D*q*Z*ue+4*D*q*U*de*ue+4*D*q*U*he*le+D*F*G*U*B*ne+2*D*F*Z*B*ne-D*F*k*Q*ne-D*F*U*B*ce*ue-D*F*U*B*ae*le-D*F*U*B*se*he-D*F*U*B*ne*de-2*D*U*ee*ce*ne-2*D*U*ee*ae*se-2*X*G*B*ue+2*X*B*de*ue+2*X*B*he*le+2*K*F*G*U*ue-2*K*F*U*de*ue-2*K*F*U*he*le+2*K*G*U*B*ne-K*Z*B*ne-2*K*U*B*ce*ue-2*K*U*B*ae*le-2*K*U*B*se*he-2*K*U*B*ne*de-2*I*q*G*k*ue+2*I*q*k*de*ue+2*I*q*k*he*le-I*F*G*k*B*ne-2*I*F*G*Q*ne+I*F*Z*U*ne+I*F*k*B*ce*ue+I*F*k*B*ae*le+I*F*k*B*se*he+I*F*k*B*ne*de+2*I*F*Q*ce*ue+2*I*F*Q*ae*le+2*I*F*Q*se*he+2*I*F*Q*ne*de-4*I*k*ee*ce*ne-4*I*k*ee*ae*se+2*I*Q*B*ce*ne+2*I*Q*B*ae*se+3*J*$*ue-6*J*G*de*ue-6*J*G*he*le+3*J*fe*ue+6*J*de*he*le+J*Ee-3*q*$*B*ne+3*q*G*k*U*ne+6*q*G*B*ce*ue+6*q*G*B*ae*le+6*q*G*B*se*he+6*q*G*B*ne*de-q*re*ne-3*q*k*U*ce*ue-3*q*k*U*ae*le-3*q*k*U*se*he-3*q*k*U*ne*de-6*q*B*ce*de*ue-6*q*B*ce*he*le-6*q*B*ae*de*le-3*q*B*ae*me-6*q*B*se*de*he-3*q*B*ne*fe-6*F*G*ee*ce*ne-6*F*G*ee*ae*se+6*F*k*U*B*ce*ne+6*F*k*U*B*ae*se-2*F*oe*ce*ne-2*F*oe*ae*se+3*F*ee*pe*ue+6*F*ee*ce*ae*le+6*F*ee*ce*se*he+6*F*ee*ce*ne*de+3*F*ee*_e*he+6*F*ee*ae*se*de-3*ie*pe*ne-6*ie*ce*ae*se-ie*ye,be[7]=3*z*F*ee*le-3*z*ie*se-3*j*D*I*ee*le+j*D*F*U*B*le+2*j*D*U*ee*se+2*j*K*U*B*le-j*I*F*k*B*le-2*j*I*F*Q*le+4*j*I*k*ee*se-2*j*I*Q*B*se-6*j*q*G*B*le+3*j*q*k*U*le+6*j*q*B*de*le+3*j*q*B*me+6*j*F*G*ee*se-6*j*F*k*U*B*se+2*j*F*oe*se-6*j*F*ee*ce*le-6*j*F*ee*ae*he-6*j*F*ee*se*de+6*j*ie*ce*se+3*j*ie*_e+H*ee*le-Y*I*U*B*le-2*Y*F*k*B*le+Y*F*Q*le-Y*k*ee*se+D*K*k*B*le+6*D*I*F*G*B*le-D*I*F*k*U*le-6*D*I*F*B*de*le-3*D*I*F*B*me-3*D*I*G*ee*se+D*I*k*U*B*se+3*D*I*ee*ce*le+3*D*I*ee*ae*he+3*D*I*ee*se*de-4*D*q*G*U*le+D*q*Z*le+4*D*q*U*de*le+2*D*q*U*me+D*F*G*U*B*se+2*D*F*Z*B*se-D*F*k*Q*se-D*F*U*B*ce*le-D*F*U*B*ae*he-D*F*U*B*se*de-2*D*U*ee*ce*se-D*U*ee*_e-2*X*G*B*le+2*X*B*de*le+X*B*me+2*K*F*G*U*le-2*K*F*U*de*le-K*F*U*me+2*K*G*U*B*se-K*Z*B*se-2*K*U*B*ce*le-2*K*U*B*ae*he-2*K*U*B*se*de-2*I*q*G*k*le+2*I*q*k*de*le+I*q*k*me-I*F*G*k*B*se-2*I*F*G*Q*se+I*F*Z*U*se+I*F*k*B*ce*le+I*F*k*B*ae*he+I*F*k*B*se*de+2*I*F*Q*ce*le+2*I*F*Q*ae*he+2*I*F*Q*se*de-4*I*k*ee*ce*se-2*I*k*ee*_e+2*I*Q*B*ce*se+I*Q*B*_e+3*J*$*le-6*J*G*de*le-3*J*G*me+3*J*fe*le+3*J*de*me-3*q*$*B*se+3*q*G*k*U*se+6*q*G*B*ce*le+6*q*G*B*ae*he+6*q*G*B*se*de-q*re*se-3*q*k*U*ce*le-3*q*k*U*ae*he-3*q*k*U*se*de-6*q*B*ce*de*le-3*q*B*ce*me-6*q*B*ae*de*he-3*q*B*se*fe-6*F*G*ee*ce*se-3*F*G*ee*_e+6*F*k*U*B*ce*se+3*F*k*U*B*_e-2*F*oe*ce*se-F*oe*_e+3*F*ee*pe*le+6*F*ee*ce*ae*he+6*F*ee*ce*se*de+3*F*ee*_e*de-3*ie*pe*se-3*ie*ce*_e,be[8]=3*z*F*ee*he-3*z*ie*ae-3*j*D*I*ee*he+j*D*F*U*B*he+2*j*D*U*ee*ae+2*j*K*U*B*he-j*I*F*k*B*he-2*j*I*F*Q*he+4*j*I*k*ee*ae-2*j*I*Q*B*ae-6*j*q*G*B*he+3*j*q*k*U*he+6*j*q*B*de*he+6*j*F*G*ee*ae-6*j*F*k*U*B*ae+2*j*F*oe*ae-6*j*F*ee*ce*he-6*j*F*ee*ae*de+6*j*ie*ce*ae+H*ee*he-Y*I*U*B*he-2*Y*F*k*B*he+Y*F*Q*he-Y*k*ee*ae+D*K*k*B*he+6*D*I*F*G*B*he-D*I*F*k*U*he-6*D*I*F*B*de*he-3*D*I*G*ee*ae+D*I*k*U*B*ae+3*D*I*ee*ce*he+3*D*I*ee*ae*de-4*D*q*G*U*he+D*q*Z*he+4*D*q*U*de*he+D*F*G*U*B*ae+2*D*F*Z*B*ae-D*F*k*Q*ae-D*F*U*B*ce*he-D*F*U*B*ae*de-2*D*U*ee*ce*ae-2*X*G*B*he+2*X*B*de*he+2*K*F*G*U*he-2*K*F*U*de*he+2*K*G*U*B*ae-K*Z*B*ae-2*K*U*B*ce*he-2*K*U*B*ae*de-2*I*q*G*k*he+2*I*q*k*de*he-I*F*G*k*B*ae-2*I*F*G*Q*ae+I*F*Z*U*ae+I*F*k*B*ce*he+I*F*k*B*ae*de+2*I*F*Q*ce*he+2*I*F*Q*ae*de-4*I*k*ee*ce*ae+2*I*Q*B*ce*ae+3*J*$*he-6*J*G*de*he+3*J*fe*he-3*q*$*B*ae+3*q*G*k*U*ae+6*q*G*B*ce*he+6*q*G*B*ae*de-q*re*ae-3*q*k*U*ce*he-3*q*k*U*ae*de-6*q*B*ce*de*he-3*q*B*ae*fe-6*F*G*ee*ce*ae+6*F*k*U*B*ce*ae-2*F*oe*ce*ae+3*F*ee*pe*he+6*F*ee*ce*ae*de-3*ie*pe*ae,be[9]=W*ie-z*D*U*ee-2*z*I*k*ee+z*I*Q*B-3*z*F*G*ee+3*z*F*k*U*B-z*F*oe+3*z*F*ee*de-3*z*ie*ce+j*Y*k*ee+3*j*D*I*G*ee-j*D*I*k*U*B-3*j*D*I*ee*de-j*D*F*G*U*B-2*j*D*F*Z*B+j*D*F*k*Q+j*D*F*U*B*de+2*j*D*U*ee*ce-2*j*K*G*U*B+j*K*Z*B+2*j*K*U*B*de+j*I*F*G*k*B+2*j*I*F*G*Q-j*I*F*Z*U-j*I*F*k*B*de-2*j*I*F*Q*de+4*j*I*k*ee*ce-2*j*I*Q*B*ce+3*j*q*$*B-3*j*q*G*k*U-6*j*q*G*B*de+j*q*re+3*j*q*k*U*de+3*j*q*B*fe+6*j*F*G*ee*ce-6*j*F*k*U*B*ce+2*j*F*oe*ce-6*j*F*ee*ce*de+3*j*ie*pe-H*G*ee+H*ee*de+Y*I*G*U*B-Y*I*U*B*de+2*Y*F*G*k*B-Y*F*G*Q-2*Y*F*k*B*de+Y*F*Q*de-Y*k*ee*ce-D*K*G*k*B+D*K*k*B*de-3*D*I*F*$*B+D*I*F*G*k*U+6*D*I*F*G*B*de-D*I*F*k*U*de-3*D*I*F*B*fe-3*D*I*G*ee*ce+D*I*k*U*B*ce+3*D*I*ee*ce*de+2*D*q*$*U-D*q*G*Z-4*D*q*G*U*de+D*q*Z*de+2*D*q*U*fe+D*F*G*U*B*ce+2*D*F*Z*B*ce-D*F*k*Q*ce-D*F*U*B*ce*de-D*U*ee*pe+X*$*B-2*X*G*B*de+X*B*fe-K*F*$*U+2*K*F*G*U*de-K*F*U*fe+2*K*G*U*B*ce-K*Z*B*ce-2*K*U*B*ce*de+I*q*$*k-2*I*q*G*k*de+I*q*k*fe-I*F*G*k*B*ce-2*I*F*G*Q*ce+I*F*Z*U*ce+I*F*k*B*ce*de+2*I*F*Q*ce*de-2*I*k*ee*pe+I*Q*B*pe-J*te+3*J*$*de-3*J*G*fe+J*ve-3*q*$*B*ce+3*q*G*k*U*ce+6*q*G*B*ce*de-q*re*ce-3*q*k*U*ce*de-3*q*B*ce*fe-3*F*G*ee*pe+3*F*k*U*B*pe-F*oe*pe+3*F*ee*pe*de-ie*ge;var Oe=(0,u.getRealPolynomialRoots)(be),Le=l.getApproxParameterSpaceTolerance(),Se=-Le,Me=1+Le;b&&(Se=Le),C&&(Me=1-Le);for(var we=0;we<Oe.length;++we)if(Oe[we]>=Se&&Oe[we]<=Me){Oe[we]<0?Oe[we]=0:Oe[we]>1&&(Oe[we]=1),Oe[we]=A[0]+(A[A.length-1]-A[0])*Oe[we];var Ne=t.getCurve().evaluatePosition(Oe[we]);if(P.isPointInsideWithTolerance(Ne)){var Fe=r.closestToPointParam(Ne,[]);if(Fe>=E[0]&&Fe<=E[E.length-1]){var Ie=e.getCurve().evaluatePosition(Fe);if(o.Vector3.squaredDistance(Ie,Ne)<=v*v){var De=f(e,Fe*(e.isReversed()?-1:1),t,Oe[we]*(t.isReversed()?-1:1),v);De&&O.push(De)}}}}return O},b=function(e,t,r,i){var n=[],a=t.getControlPoints(),c=e.isReversed()?-1:1,u=new s.Line,h=o.Vector3.createFloat64FromValues(a[0],a[1],a[2]),d=o.Vector3.createFloat64FromValues(a[a.length-3],a[a.length-2],a[a.length-1]);u.setFromEndpoints(h,d);var p=o.Vector3.distance(d,h),g=o.Vector3.createFloat64FromValues(a[3],a[4],a[5]),v=o.Vector3.createFloat64FromValues(a[6],a[7],a[8]);if(u.closestToPointParam(g,[])>0&&u.closestToPointParam(g,[])<p&&u.closestToPointParam(v,[])>0&&u.closestToPointParam(v,[])<p)return n;var _,y=-a[0]+3*a[3]-3*a[6]+a[9],m=-a[1]+3*a[4]-3*a[7]+a[10],E=3*a[0]-6*a[3]+3*a[6],x=3*a[1]-6*a[4]+3*a[7],R=-3*a[0]+3*a[3],A=-3*a[1]+3*a[4],P=E/y,V=R/y,T=x/m,b=A/m;if(Math.abs(P-T)<i||Math.abs(b-V)<i)return n;var C=new Float64Array(4);if(Math.abs(y)<i&&Math.abs(m)<i)return n;Math.abs(y)<i?(_=-R/E,P=T,V=b):_=Math.abs(m)<i?-A/x:(b-V)/(P-T),C[0]=(-_*_*_-P*_*_-V*_)/2,C[1]=(3*_*_+2*_*P+2*V)/2,C[2]=-1.5*_,C[3]=1;var O,L=new Float64Array(3);if(3!==l.SplineCurveHelper.solve_cubic_uniqueRoots(C,L))return n;if(L[1]<L[0]&&(O=L[0],L[0]=L[1],L[1]=O),L[2]<L[0]&&(O=L[0],L[0]=L[2],L[2]=O),L[2]<L[1]&&(O=L[1],L[1]=L[2],L[2]=O),L[0]>=0&&L[0]<=1&&L[2]>=0&&L[2]<=1){var S=t.getKnotVector();L[0]=S[0]+(S[S.length-1]-S[0])*L[0],L[2]=S[0]+(S[S.length-1]-S[0])*L[2];var M=f(e,L[0]*c,e,L[2]*c,i);M&&n.push(M)}return n};t.computeCurveCurveIntersections=function(e,t,r,n,s){s=void 0===s?i.KERNEL_TOLERANCE:s;var a,c=e.getCurveType(),u=c===i.GEOMETRY_TYPES.CIRCLE,l=c===i.GEOMETRY_TYPES.LINE,p=c===i.GEOMETRY_TYPES.BCURVE&&!e.getCurve().isRational()&&3===e.getCurve().getDegree(),v=t.getCurveType(),R=v===i.GEOMETRY_TYPES.CIRCLE,P=v===i.GEOMETRY_TYPES.LINE,C=v===i.GEOMETRY_TYPES.BCURVE&&!t.getCurve().isRational()&&3===t.getCurve().getDegree();return a=l&&R?function(e,t,r){for(var o=m(e.getCurve(),t.getCurve(),r),i=[],n=0;n<o.length;++n){var s=(e.isReversed()?-1:1)*o[n].lineParam,a=(t.isReversed()?-1:1)*o[n].circleParam,c=f(e,s,t,a,r);c&&i.push(c)}return i}(e,t,s):u&&P?function(e,t,r,o){var i=m(t.getCurve(),e.getCurve(),o),n=[],s=0;e.isClosed()&&r&&(s=1);for(var a=0;a<i.length;++a){var c=(e.isReversed()?-1:1)*i[a].circleParam,u=(t.isReversed()?-1:1)*i[a].lineParam,l=f(e,c,t,u,o);if(l)for(var h=-s;h<=s;++h)n.push({cutInfo:{atVertex:l.cutInfo.atVertex,param:l.cutInfo.param+h*Math.PI*2},cutByInfo:l.cutByInfo})}return n}(e,t,n,s):l&&P?y(e,t,r,s):u&&R?function(e,t,r,i,n){var s=[],a=e.getCurve().getCenter(),c=e.getCurve().getRadius(),u=t.getCurve().getCenter(),l=t.getCurve().getRadius(),d=2*Math.PI,p=o.Vector3.createFloat64();o.Vector3.sub(p,u,a);var v=o.Vector3.length(p),y=Math.abs(c-l);if(v<y-n)return s;if(v+y<n){var m=n/c;if(e.getRange()[1]-e.getRange()[0]>d-m&&t.getRange()[1]-t.getRange()[0]>d-m)return s.push({rangeInfo:[g(e,e.getRange()[0],n,t),g(e,e.getRange()[1],n,t)],rangeByInfo:[g(t,t.getRange()[0],n,e),g(t,t.getRange()[1],n,e)]}),s;var x=[],R=e.closestToPointParam(t.evaluatePosition(0),[0,d]),A=o.Vector3.dot(e.evaluateDt(R),t.evaluateDt(0))<0,P=e.getRange(),V=t.getRange();V=A?[R-V[1],R-V[0]]:[R+V[0],R+V[1]];var T=(0,h.foldAbove)(V[0],P[0],d)-V[0];if((V=[V[0]+T,V[1]+T])[0]<P[1]+m&&x.push([Math.min(V[0],P[1]),Math.min(P[1],V[1])]),V[1]>P[0]+d-m&&x.push([P[0],Math.max(P[0],Math.min(P[1],V[1]-d))]),P[1]-P[0]>d-m||V[1]-V[0]>d-m)for(var b=x.length-1;b>=0&&1!==x.length;--b)x[b][1]-x[b][0]<m&&x.splice(b,1);for(b=0;b<x.length;++b){var C=x[b],O=A?[R-C[1],R-C[0]]:[C[0]-R,C[1]-R],L=(0,h.foldAbove)(O[0],t.getRange()[0],d)-O[0];if(O=[O[0]+L,O[1]+L],C[1]-C[0]<m){var S=.5*(C[0]+C[1]),M=.5*(O[0]+O[1]),w=g(e,S,n,t),N=g(t,M,n,e);w&&N&&s.push({cutInfo:w,cutByInfo:N})}else{var F=[g(e,C[0],n,t),g(e,C[1],n,t)],I=[g(t,O[0],n,e),g(t,O[1],n,e)];F[0]&&F[1]&&I[0]&&I[1]&&s.push({rangeInfo:F,rangeByInfo:I})}}return s}var D=(c*c-l*l+v*v)/(2*v),j=c*c-D*D,B=c-Math.abs(D),U=[],k=[];if(B<-n);else{var G=Math.sqrt(Math.max(0,j));if(o.Vector3.scale(p,p,1/v),G<2*n)U.push(E(0,D,a,p,e,t)),k.push(!1);else if(B<n)if(k.push(!1),r){k[k.length-1]=!0;var z=E(0,D,a,p,e,t),Y=[E(G,D,a,p,e,t),E(-G,D,a,p,e,t)];_(e,t,[Y[0].firstParam,z.firstParam,Y[1].firstParam],[Y[0].secondParam,z.secondParam,Y[1].secondParam],n,s,U)}else U.push(E(0,D,a,p,e,t));else U.push(E(G,D,a,p,e,t)),U.push(E(-G,D,a,p,e,t))}var K=0;for(e.isClosed()&&i&&(K=1),b=0;b<U.length;++b){var q=f(e,U[b].firstParam,t,U[b].secondParam,n);if(q)for(var W=-K;W<=K;++W)s.push({cutInfo:{atVertex:q.cutInfo.atVertex,param:q.cutInfo.param+W*Math.PI*2},cutByInfo:q.cutByInfo}),k[b]&&(s[s.length-1].cutInfo.virtualIntersection=!0,s[s.length-1].cutByInfo.virtualIntersection=!0)}return s}(e,t,r,n,s):l&&C?A(e,t,r,s):p&&P?function(e,t,r,o,i){var n=A(t,e,r,i),s=[],a=0,c=0;o&&e.getCurve().isPeriodicUnlimited()&&(a=1,c=e.getCurve().getPeriodUnlimited());for(var u=0;u<n.length;++u)if(n[u].hasOwnProperty(\"cutInfo\")&&n[u].hasOwnProperty(\"cutByInfo\"))for(var l=-a;l<=a;++l)s.push({cutInfo:{atVertex:n[u].cutByInfo.atVertex,param:n[u].cutByInfo.param+l*c},cutByInfo:n[u].cutInfo});else n[u].hasOwnProperty(\"rangeInfo\")&&n[u].hasOwnProperty(\"rangeByInfo\")&&s.push({rangeInfo:n[u].rangeByInfo,rangeByInfo:n[u].rangeInfo});return s}(e,t,r,n,s):u&&C?V(e,t,0,n,s):p&&R?function(e,t,r,o,i){var n=V(t,e,0,!1,i),s=[],a=0,c=0;o&&e.getCurve().isPeriodicUnlimited()&&(a=1,c=e.getCurve().getPeriodUnlimited());for(var u=0;u<n.length;++u)if(n[u].hasOwnProperty(\"cutInfo\")&&n[u].hasOwnProperty(\"cutByInfo\"))for(var l=-a;l<=a;++l)s.push({cutInfo:{atVertex:n[u].cutByInfo.atVertex,param:n[u].cutByInfo.param+l*c},cutByInfo:n[u].cutInfo});else n[u].hasOwnProperty(\"rangeInfo\")&&n[u].hasOwnProperty(\"rangeByInfo\")&&s.push({rangeInfo:n[u].rangeByInfo,rangeByInfo:n[u].rangeInfo});return s}(e,t,0,n,s):p&&C?function(e,t,r,o,i){var n=e===t,s=e.getBoundingBox(),a=t.getBoundingBox(),c=[];if(!s.intersectsWithTolerance(a,i))return c;var u,l,h,d,p=e.getCurve().getBezierSegments(),g=p.length,f=t.getCurve().getBezierSegments(),v=f.length,_=[],y=0,m=0,E=0;for(o&&e.getCurve().isPeriodic()&&e.isClosed()&&(m=1,E=e.getCurve().getPeriod()),u=0;u<g;u++)for(n&&(y=u+1),l=y;l<v;l++){var R=n&&l===u+1;for(_=T(e,t,p[u],f[l],r,i,R),h=0;h<_.length;++h)for(d=-m;d<=m;++d)_[h].cutInfo&&c.push({cutInfo:{atVertex:_[h].cutInfo.atVertex,param:_[h].cutInfo.param+d*E},cutByInfo:_[h].cutByInfo}),_[h].rangeInfo&&c.push(_[h])}if(n)for(u=0;u<g;++u)for(_=b(e,p[u],0,i),h=0;h<_.length;++h)for(d=-m;d<=m;++d)_[h].cutInfo&&c.push({cutInfo:{atVertex:_[h].cutInfo.atVertex,param:_[h].cutInfo.param+d*E},cutByInfo:_[h].cutByInfo}),_[h].rangeInfo&&c.push(_[h]);return x(c)}(e,t,r,n,s):function(e,t,r,o,n){var s=e.getBoundingBox(),a=t.getBoundingBox(),c=[];if(!s.intersectsWithTolerance(a,n))return c;var u=e.isReversed(),l=t.isReversed(),h=e.getRange();u&&(h=[-h[1],-h[0]]);var p=t.getRange();l&&(p=[-p[1],-p[0]]),c=new d.CCI(e.getCurve(),h,t.getCurve(),p,i.KERNEL_TOLERANCE).intersect();for(var g=0;g<c.length;++g)u&&(c[g].cutInfo?c[g].cutInfo.param*=-1:c[g].rangeInfo&&(c[g].rangeInfo=[c[g].rangeInfo[1],c[g].rangeInfo[0]],c[g].rangeInfo[0].param*=-1,c[g].rangeInfo[1].param*=-1)),l&&(c[g].cutByInfo?c[g].cutByInfo.param*=-1:c[g].rangeByInfo&&(c[g].rangeByInfo[0].param*=-1,c[g].rangeByInfo[1].param*=-1));return c}(e,t,0,0,s),a}},9892:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.SubCurveTree=void 0;var o=r(2468),i=1e-8,n=100*o.KERNEL_TOLERANCE,s=Math.PI/180*10,a=function(e,t,r){void 0===r&&(r=0),this._cu=e,this._range=t,this._bx=e.getBoundingBox(t).clone(),this._simple=void 0,this._split_param=void 0,this._children=[],this._depth=r};a.prototype.isSimple=function(){if(void 0===this._simple){this._simple=!1;var e=[this._range[0]+i,this._range[1]-i];if(this._split_param=this._cu.suggestSplittingParam(e),void 0===this._split_param){this._split_param=.5*(this._range[0]+this._range[1]);var t=this._cu.getTangentCone(this._range);(t.isDegenerate()||t.angle<s)&&(this._simple=!0)}}return this._simple},a.prototype.canDivide=function(){return!(this._depth>=10)&&(!(this._range[1]-this._range[0]<2e-8)&&!(Math.max(this._bx.getWidth(0),this._bx.getWidth(1),this._bx.getWidth(2))<n))},a.prototype.divide=function(){if(0===this._children.length){var e=[this._range[0],this._split_param],t=[this._split_param,this._range[1]];this._children=[new a(this._cu,e,this._depth+1),new a(this._cu,t,this._depth+1)]}},a.prototype.fullSubdivision=function(){if(!this.isSimple()&&this.canDivide()){this.divide();for(var e=0;e<this._children.length;++e)this._children[e].fullSubdivision()}},a.prototype.toString=function(){if(this._children.length>0){for(var e=\"\",t=0;t<this._children.length;++t)e+=this._children[t];return e}return\"t=[\"+this._range[0]+\" \"+this._range[1]+\"] \"+this._bx+\"\\n\"};var c=function(e,t,r,o,i){this._cu1_root_node=new a(e,t),this._cu2_root_node=new a(r,o),this._epsilon=i,this._overlaps=[]};c.prototype.process=function(e,t){if(e._bx.intersectsWithTolerance(t._bx,this._epsilon)){var r=e.canDivide(),o=t.canDivide(),i=e.isSimple()||!r,n=t.isSimple()||!o;if(i&&n)this._overlaps.push([e,t]);else if(r&&o){e.divide(),t.divide();for(var s=0;s<e._children.length;++s)for(var a=0;a<t._children.length;++a)this.process(e._children[s],t._children[a])}else if(r){e.divide();for(s=0;s<e._children.length;++s)this.process(e._children[s],t)}else if(o){t.divide();for(s=0;s<t._children.length;++s)this.process(e,t._children[s])}}},c.prototype.build=function(){this.process(this._cu1_root_node,this._cu2_root_node)},t.SubCurveTree=c},9888:(e,t)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const r={setNMIAttributeStr:function(e,t){e.typeid=\"autodesk.brep:nmiattributestr-1.0.0\",e.values={primaryId:t.primaryId,secondaryId:t.secondaryId,approachId:t.approachId,operationIds:t.operationIds}},setNMIAttributeArr:function(e,t){e.typeid=\"autodesk.brep:nmiattributearr-1.0.0\";for(var r=t.tagInfo,o=new Array(r.length),i=0;i<r.length;++i){var n=r[i];o[i]={primaryId:n.primaryId,secondaryId:n.secondaryId,approachId:n.approachId,operationIds:n.operationIds}}e.values={tagInfo:o}},setTextAttribute:function(e,t){e.typeid=\"autodesk.brep:textattribute-1.0.0\",e.values={text:t.text}}};t.AttributeSetters=r},6752:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.propertyToRange=t.GeometrySetters=void 0;var o=r(1972),i=function(e,t,r){const o=t[r];e[0]=o.x,e[1]=o.y,e[2]=o.z},n=function(e,t){const r=e[t];var o=r.type;return\"infinite\"===o||0===o?[]:[r.low,r.high]},s=function(e,t){var r=n(e,\"uRange\");t.unlimitRangeU(),r.length>0&&t.limitRangeU(r);var o=n(e,\"vRange\");t.unlimitRangeV(),o.length>0&&t.limitRangeV(o)},a=function(e,t){var r=n(e,\"range\");t.unlimitRange(),r.length>0&&t.limitRange(r)},c={setBCurveFromProperty:function(e,t){var r,o,i=t.degree,n=t.knots,s=t.controlPoints,c=t.weights,u=s.length/3;if(0===c.length)for(o=new Array(u),r=0;r<u;++r)o[r]=1;else o=c;e.set(s,o,i,n),a(t,e)},setBSurfaceFromProperty:function(e,t){var r,o,i=t.uDegree,n=t.vDegree,a=t.uKnots,c=t.vKnots,u=t.controlPoints,l=t.weights;if(0===l.length){var h=u.length/3;for(o=new Array(h),r=0;r<h;++r)o[r]=1}else o=l;e.set(i,n,a,c,u,o),s(t,e)},setCircleFromProperty:function(e,t){var r=o.Vector3.createFloat64(),n=o.Vector3.createFloat64(),s=o.Vector3.createFloat64();i(r,t,\"center\"),i(n,t,\"normal\"),i(s,t,\"radius\"),e.set(r,n,s),a(t,e)},setConeFromProperty:function(e,t){var r=o.Vector3.createFloat64(),n=o.Vector3.createFloat64(),a=o.Vector3.createFloat64();i(r,t,\"center\"),i(n,t,\"axis\"),i(a,t,\"radius\");var c=o.Vector3.length(a);o.Vector3.normalize(a,a);var u=t.angle,l=t.uCoordScale;e.set(r,c,n,u,a,l),s(t,e)},setCylinderFromProperty:function(e,t){var r=o.Vector3.createFloat64(),n=o.Vector3.createFloat64(),a=o.Vector3.createFloat64();i(r,t,\"center\"),i(n,t,\"axis\"),i(a,t,\"radius\");var c=o.Vector3.length(a);o.Vector3.normalize(a,a);var u=t.uCoordScale;e.set(r,c,n,a,u),s(t,e)},setEllipseFromProperty:function(e,t){var r=o.Vector3.createFloat64(),n=o.Vector3.createFloat64(),s=o.Vector3.createFloat64();i(r,t,\"center\"),i(n,t,\"normal\"),i(s,t,\"majorRadius\");var c=t.radiusRatio;e.set(r,n,s,c),a(t,e)},setEllipticalConeFromProperty:function(e,t){var r=o.Vector3.createFloat64(),n=o.Vector3.createFloat64(),a=o.Vector3.createFloat64();i(r,t,\"center\"),i(n,t,\"axis\"),i(a,t,\"majorRadius\");var c=t.angle,u=t.radiusRatio,l=t.uCoordScale;e.set(r,a,u,n,c,l),s(t,e)},setEllipticalCylinderFromProperty:function(e,t){var r=o.Vector3.createFloat64(),n=o.Vector3.createFloat64(),a=o.Vector3.createFloat64();i(r,t,\"center\"),i(n,t,\"axis\"),i(a,t,\"majorRadius\");var c=t.radiusRatio,u=t.uCoordScale;e.set(r,a,c,n,u),s(t,e)},setLineFromProperty:function(e,t){var r=o.Vector3.createFloat64(),n=o.Vector3.createFloat64();i(r,t,\"position\"),i(n,t,\"direction\"),e.set(r,n),a(t,e)},setPlaneFromProperty:function(e,t){var r=o.Vector3.createFloat64(),n=o.Vector3.createFloat64(),a=o.Vector3.createFloat64();i(r,t,\"origin\"),i(n,t,\"normal\"),i(a,t,\"uAxis\"),e.set(r,n,a),s(t,e)},setPointFromProperty:function(e,t){e.setPosition(t.position.x,t.position.y,t.position.z)},setSphereFromProperty:function(e,t){var r=o.Vector3.createFloat64(),n=o.Vector3.createFloat64(),a=o.Vector3.createFloat64();i(r,t,\"center\"),i(n,t,\"radius\"),i(a,t,\"axis\");var c=o.Vector3.length(n);o.Vector3.normalize(n,n),e.set(r,c,a,n),s(t,e)},setTorusFromProperty:function(e,t){var r=o.Vector3.createFloat64(),n=o.Vector3.createFloat64(),a=o.Vector3.createFloat64();i(r,t,\"center\"),i(n,t,\"axis\"),i(a,t,\"coordAxis\");var c=t.majorRadius,u=t.minorRadius,l=t.lemon;e.set(r,c,u,n,a,l),s(t,e)},setHapCurveFromProperty:function(e,t){for(var r=t.spans,o=new Array(r.length),i=0;i<r.length;++i)o[i]={},o[i].polyOrder=r[i].polyOrder,o[i].lowParam=r[i].lowParam,o[i].highParam=r[i].highParam,o[i].coefs=r[i].coefs.slice(0);var n={};n.spans=o;var s=t.periodic;void 0===s&&(s=!1),n.periodic=s,n.closed=s,e.setHapDefinition(n),a(t,e)},setCurveRangeFromProperty:a,setSurfaceRangeFromProperty:s};t.GeometrySetters=c,t.propertyToRange=n},6232:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.SolidDefLoader=t.getTopologyRank=void 0;var o,i=r(3565),n=r(1096),s=r(5512),a=r(8972),c=r(8796),u=r(8292),l=r(3440),h=r(8360),d=r(4372),p=r(2984),g=r(2956),f=r(1408),v=r(92),_=r(9984),y=r(5837),m=r(6508),E=r(6776),x=r(4524),R=r(672),A=r(7580),P=r(6940),V=r(6500),T=r(7575),b=r(9324),C=r(2468),O=r(6752),L=r(7360),S=r(9888),M=r(8032),w=((o={})[C.TOPOLOGY_TYPES.BODY]=10,o[C.TOPOLOGY_TYPES.WIREBODY]=9,o[C.TOPOLOGY_TYPES.LUMP]=8,o[C.TOPOLOGY_TYPES.SHELL]=7,o[C.TOPOLOGY_TYPES.FACE]=6,o[C.TOPOLOGY_TYPES.WIRE]=5,o[C.TOPOLOGY_TYPES.LOOP]=4,o[C.TOPOLOGY_TYPES.COEDGE]=3,o[C.TOPOLOGY_TYPES.EDGE]=2,o[C.TOPOLOGY_TYPES.VERTEX]=1,function(e){var t=void 0;return\"function\"==typeof e.getTopologyType&&(t=o[e.getTopologyType()]),t||0}),N=function(){this._runTimeMap=new Map,this._typeidToFuncMap={},this.addLoader(\"body\",L.TopologySetters.setBodyData,_.Body),this.addLoader(\"wirebody\",L.TopologySetters.setWireBodyData,V.WireBody),this.addLoader(\"wire\",L.TopologySetters.setWireData,T.Wire),this.addLoader(\"lump\",L.TopologySetters.setLumpData,y.Lump),this.addLoader(\"shell\",L.TopologySetters.setShellData,m.Shell),this.addLoader(\"face\",L.TopologySetters.setFaceData,E.Face),this.addLoader(\"loop\",L.TopologySetters.setLoopData,x.Loop),this.addLoader(\"coedge\",L.TopologySetters.setCoedgeData,R.Coedge),this.addLoader(\"edge\",L.TopologySetters.setEdgeData,A.Edge),this.addLoader(\"vertex\",L.TopologySetters.setVertexData,P.Vertex),this.addLoader(\"point\",O.GeometrySetters.setPointFromProperty,i.Point),this.addLoader(\"line\",O.GeometrySetters.setLineFromProperty,n.Line),this.addLoader(\"circle\",O.GeometrySetters.setCircleFromProperty,s.Circle),this.addLoader(\"ellipse\",O.GeometrySetters.setEllipseFromProperty,a.Ellipse),this.addLoader(\"bcurve\",O.GeometrySetters.setBCurveFromProperty,c.BCurve),this.addLoader(\"plane\",O.GeometrySetters.setPlaneFromProperty,u.Plane),this.addLoader(\"sphere\",O.GeometrySetters.setSphereFromProperty,d.Sphere),this.addLoader(\"torus\",O.GeometrySetters.setTorusFromProperty,f.Torus),this.addLoader(\"cylinder\",O.GeometrySetters.setCylinderFromProperty,l.Cylinder),this.addLoader(\"cone\",O.GeometrySetters.setConeFromProperty,p.Cone),this.addLoader(\"ellipticalcylinder\",O.GeometrySetters.setEllipticalCylinderFromProperty,h.EllipticalCylinder),this.addLoader(\"ellipticalcone\",O.GeometrySetters.setEllipticalConeFromProperty,g.EllipticalCone),this.addLoader(\"bsurface\",O.GeometrySetters.setBSurfaceFromProperty,v.BSurface),this.addLoader(\"nmiattributestr\",S.AttributeSetters.setNMIAttributeStr,b.Attribute),this.addLoader(\"nmiattributearr\",S.AttributeSetters.setNMIAttributeArr,b.Attribute),this.addLoader(\"textattribute\",S.AttributeSetters.setTextAttribute,b.Attribute)};N.prototype.addLoader=function(e,t,r){this._typeidToFuncMap[e]=[t,r]},N.prototype._reset=function(){this._runTimeMap.clear()},N.prototype.getDataSettingFunction=function(e){var t=this._typeidToFuncMap[e];if(t)return t[0]},N.prototype.createRunTimeObject=function(e){var t=this.getTypeContructor(e);if(t)return new t},N.prototype.getTypeContructor=function(e){var t=this._typeidToFuncMap[e];if(t&&2===t.length)return t[1]},N.prototype.setObjectProperties=function(e,t,r){var o=this.getDataSettingFunction(e,r);const i=this;\"function\"==typeof o&&o(t,r,(e=>{if(!e)return;const t=e;return t?i._runTimeMap.get(t):void 0}))},N.prototype.makeGeometryObjectsProto=function(e){Object.keys(e).forEach((t=>{const r=e[t],o=r[r.geometry],i=this.createRunTimeObject(r.geometry);i&&(this._runTimeMap.set(t,i),this.setObjectProperties(r.geometry,i,o),i.setGuid(t))}))},N.prototype.makeGeometryObject=function(e){var t=e.getTypeid(),r=this.createRunTimeObject(t);return r?this.setObjectProperties(t,r,e):console.error(\"No constructor\"),r},N.prototype.makeTopologyObject=function(e){var t=e.getTypeid(),r=this.createRunTimeObject(t);return r||console.error(\"No constructor\"),r},N.prototype.makeAttributeObjectsProto=function(e){Object.keys(e).forEach((t=>{const r=e[t],o=r[r.attribute],i=new b.Attribute;this._runTimeMap.set(t,i),this.setObjectProperties(r.attribute,i,o),i.setGuid(t)}))},N.prototype.makeTopologyObjectsProto=function(e){var t=[];Object.keys(e).forEach((r=>{const o=e[r],i=o[o.topology],n=this.createRunTimeObject(o.topology);n&&(this._runTimeMap.set(r,n),t.push({type:o.topology,obj:n,prop:i}),n.setGuid(r))}));for(var r=0;r<t.length;++r)this.setObjectProperties(t[r].type,t[r].obj,t[r].prop)},N.prototype._collectGeometries=function(e){this._runTimeMap.forEach((function(t){void 0!==t.getGeometryType&&e.set(t.getGuid(),t)}))},N.prototype._collectTopologies=function(e){this._runTimeMap.forEach((function(t){void 0!==t.getTopologyType&&e.set(t.getGuid(),t)}))},N.prototype.loadModelPSet=function(e,t,r){var o=e.get(\"geometries\");if(o){var i=e.get(\"attributes\"),n=e.get(\"topologies\");if(n)return this.makeGeometryObjects(o),i&&this.makeAttributeObjects(i),this.makeTopologyObjects(n),this.getHighestObject(t,r)}},N.prototype.getHighestObject=function(e,t){var r=void 0,o=0;return this._runTimeMap.forEach((function(e){if(10!==o){var t=w(e);t>o&&t>0&&(o=t,r=e)}})),e&&this._collectGeometries(e),t&&this._collectTopologies(t),this._reset(),r},N.prototype.loadModelProtoMessage=function(e,t,r){const o=e.geometries;if(!o)return;const i=e.attributes,n=e.topologies;return n?(this.makeGeometryObjectsProto(o),i&&this.makeAttributeObjectsProto(i),this.makeTopologyObjectsProto(n),this.getHighestObject(t,r)):void 0},N.prototype.loadProtoBinary=function(e,t,r){let o=e;o instanceof ArrayBuffer&&(o=new Uint8Array(o));const i=M.Autodesk.lookupType(\"SolidDef.model_1_0_0\").decode(o);return this.loadModelProtoMessage(i,t,r)},t.getTopologyRank=w,t.SolidDefLoader=N},8032:(e,t,r)=>{\"use strict\";var o=r(4883),i=(o.roots.default||(o.roots.default=new o.Root)).addJSON({Autodesk:{nested:{SolidDef:{nested:{SolidDef_grpc:{methods:{}},point3d_1_0_0:{fields:{x:{type:\"double\",id:1},y:{type:\"double\",id:2},z:{type:\"double\",id:3}}},vector3d_1_0_0:{fields:{x:{type:\"double\",id:1},y:{type:\"double\",id:2},z:{type:\"double\",id:3}}},geometry_1_0_0:{fields:{}},geometry_1_0_0_Type:{oneofs:{geometry:{oneof:[\"point\",\"bsurface\",\"cone\",\"cylinder\",\"ellipticalcone\",\"ellipticalcylinder\",\"plane\",\"sphere\",\"surface\",\"torus\",\"bcurve\",\"circle\",\"curve\",\"ellipse\",\"line\"]}},fields:{point:{type:\"point_1_0_0\",id:1},bsurface:{type:\"bsurface_1_0_0\",id:2},cone:{type:\"cone_1_0_0\",id:3},cylinder:{type:\"cylinder_1_0_0\",id:4},ellipticalcone:{type:\"ellipticalcone_1_0_0\",id:5},ellipticalcylinder:{type:\"ellipticalcylinder_1_0_0\",id:6},plane:{type:\"plane_1_0_0\",id:7},sphere:{type:\"sphere_1_0_0\",id:8},surface:{type:\"surface_1_0_0\",id:9},torus:{type:\"torus_1_0_0\",id:10},bcurve:{type:\"bcurve_1_0_0\",id:11},circle:{type:\"circle_1_0_0\",id:12},curve:{type:\"curve_1_0_0\",id:13},ellipse:{type:\"ellipse_1_0_0\",id:14},line:{type:\"line_1_0_0\",id:15}}},paramrange_1_0_0:{fields:{low:{type:\"double\",id:1},high:{type:\"double\",id:2},type:{type:\"typeEnum\",id:3}},nested:{typeEnum:{values:{infinite:0,finite:1,boundBelow:2,boundAbove:3}}}},point_1_0_0:{fields:{position:{type:\"point3d_1_0_0\",id:1}}},bsurface_1_0_0:{fields:{uDegree:{type:\"uint32\",id:1},vDegree:{type:\"uint32\",id:2},uKnots:{rule:\"repeated\",type:\"double\",id:3},vKnots:{rule:\"repeated\",type:\"double\",id:4},controlPoints:{rule:\"repeated\",type:\"double\",id:5},weights:{rule:\"repeated\",type:\"double\",id:6},uRange:{type:\"paramrange_1_0_0\",id:7},vRange:{type:\"paramrange_1_0_0\",id:8}}},cone_1_0_0:{fields:{center:{type:\"point3d_1_0_0\",id:1},axis:{type:\"vector3d_1_0_0\",id:2},radius:{type:\"vector3d_1_0_0\",id:3},angle:{type:\"double\",id:4},uCoordScale:{type:\"double\",id:5},uRange:{type:\"paramrange_1_0_0\",id:6},vRange:{type:\"paramrange_1_0_0\",id:7}}},cylinder_1_0_0:{fields:{center:{type:\"point3d_1_0_0\",id:1},axis:{type:\"vector3d_1_0_0\",id:2},radius:{type:\"vector3d_1_0_0\",id:3},uCoordScale:{type:\"double\",id:4},uRange:{type:\"paramrange_1_0_0\",id:5},vRange:{type:\"paramrange_1_0_0\",id:6}}},ellipticalcone_1_0_0:{fields:{center:{type:\"point3d_1_0_0\",id:1},axis:{type:\"vector3d_1_0_0\",id:2},majorRadius:{type:\"vector3d_1_0_0\",id:3},radiusRatio:{type:\"double\",id:4},angle:{type:\"double\",id:5},uCoordScale:{type:\"double\",id:6},uRange:{type:\"paramrange_1_0_0\",id:7},vRange:{type:\"paramrange_1_0_0\",id:8}}},ellipticalcylinder_1_0_0:{fields:{center:{type:\"point3d_1_0_0\",id:1},axis:{type:\"vector3d_1_0_0\",id:2},majorRadius:{type:\"vector3d_1_0_0\",id:3},radiusRatio:{type:\"double\",id:4},uCoordScale:{type:\"double\",id:5},uRange:{type:\"paramrange_1_0_0\",id:6},vRange:{type:\"paramrange_1_0_0\",id:7}}},plane_1_0_0:{fields:{origin:{type:\"point3d_1_0_0\",id:1},normal:{type:\"vector3d_1_0_0\",id:2},uAxis:{type:\"vector3d_1_0_0\",id:3},uRange:{type:\"paramrange_1_0_0\",id:4},vRange:{type:\"paramrange_1_0_0\",id:5}}},sphere_1_0_0:{fields:{center:{type:\"point3d_1_0_0\",id:1},radius:{type:\"vector3d_1_0_0\",id:2},axis:{type:\"vector3d_1_0_0\",id:3},uRange:{type:\"paramrange_1_0_0\",id:4},vRange:{type:\"paramrange_1_0_0\",id:5}}},surface_1_0_0:{fields:{uRange:{type:\"paramrange_1_0_0\",id:1},vRange:{type:\"paramrange_1_0_0\",id:2}}},surface_1_0_0_Type:{oneofs:{surface:{oneof:[\"bsurface\",\"cone\",\"cylinder\",\"ellipticalcone\",\"ellipticalcylinder\",\"plane\",\"sphere\",\"torus\"]}},fields:{bsurface:{type:\"bsurface_1_0_0\",id:1},cone:{type:\"cone_1_0_0\",id:2},cylinder:{type:\"cylinder_1_0_0\",id:3},ellipticalcone:{type:\"ellipticalcone_1_0_0\",id:4},ellipticalcylinder:{type:\"ellipticalcylinder_1_0_0\",id:5},plane:{type:\"plane_1_0_0\",id:6},sphere:{type:\"sphere_1_0_0\",id:7},torus:{type:\"torus_1_0_0\",id:8}}},torus_1_0_0:{fields:{center:{type:\"point3d_1_0_0\",id:1},axis:{type:\"vector3d_1_0_0\",id:2},majorRadius:{type:\"double\",id:3},minorRadius:{type:\"double\",id:4},coordAxis:{type:\"vector3d_1_0_0\",id:5},lemon:{type:\"bool\",id:6},uRange:{type:\"paramrange_1_0_0\",id:7},vRange:{type:\"paramrange_1_0_0\",id:8}}},bcurve_1_0_0:{fields:{degree:{type:\"uint32\",id:1},knots:{rule:\"repeated\",type:\"double\",id:2},controlPoints:{rule:\"repeated\",type:\"double\",id:3},weights:{rule:\"repeated\",type:\"double\",id:4},range:{type:\"paramrange_1_0_0\",id:5}}},circle_1_0_0:{fields:{center:{type:\"point3d_1_0_0\",id:1},normal:{type:\"vector3d_1_0_0\",id:2},radius:{type:\"vector3d_1_0_0\",id:3},range:{type:\"paramrange_1_0_0\",id:4}}},curve_1_0_0:{fields:{range:{type:\"paramrange_1_0_0\",id:1}}},curve_1_0_0_Type:{oneofs:{curve:{oneof:[\"bcurve\",\"circle\",\"ellipse\",\"line\"]}},fields:{bcurve:{type:\"bcurve_1_0_0\",id:1},circle:{type:\"circle_1_0_0\",id:2},ellipse:{type:\"ellipse_1_0_0\",id:3},line:{type:\"line_1_0_0\",id:4}}},ellipse_1_0_0:{fields:{center:{type:\"point3d_1_0_0\",id:1},normal:{type:\"vector3d_1_0_0\",id:2},majorRadius:{type:\"vector3d_1_0_0\",id:3},radiusRatio:{type:\"double\",id:4},range:{type:\"paramrange_1_0_0\",id:5}}},line_1_0_0:{fields:{position:{type:\"point3d_1_0_0\",id:1},direction:{type:\"vector3d_1_0_0\",id:2},range:{type:\"paramrange_1_0_0\",id:3}}},attribute_1_0_0:{fields:{}},attribute_1_0_0_Type:{oneofs:{attribute:{oneof:[\"nmiattribute\",\"nmiattributearr\",\"nmiattributestr\",\"textattribute\"]}},fields:{nmiattribute:{type:\"nmiattribute_1_0_0\",id:1},nmiattributearr:{type:\"nmiattributearr_1_0_0\",id:4},nmiattributestr:{type:\"nmiattributestr_1_0_0\",id:2},textattribute:{type:\"textattribute_1_0_0\",id:3}}},body_1_0_0:{fields:{lumps:{rule:\"repeated\",type:\"string\",id:1},attributes:{rule:\"repeated\",type:\"string\",id:2}}},coedge_1_0_0:{fields:{edge:{type:\"string\",id:1},partner:{type:\"string\",id:2},reversed:{type:\"bool\",id:3},attributes:{rule:\"repeated\",type:\"string\",id:4}}},edge_1_0_0:{fields:{vertex0:{type:\"string\",id:1},vertex1:{type:\"string\",id:2},precision:{type:\"double\",id:3},range:{type:\"paramrange_1_0_0\",id:4},reversed:{type:\"bool\",id:5},geometry:{type:\"string\",id:6},attributes:{rule:\"repeated\",type:\"string\",id:7}}},face_1_0_0:{fields:{loops:{rule:\"repeated\",type:\"string\",id:1},reversed:{type:\"bool\",id:2},geometry:{type:\"string\",id:3},attributes:{rule:\"repeated\",type:\"string\",id:4}}},loop_1_0_0:{fields:{coedges:{rule:\"repeated\",type:\"string\",id:1},attributes:{rule:\"repeated\",type:\"string\",id:2}}},lump_1_0_0:{fields:{shells:{rule:\"repeated\",type:\"string\",id:1},attributes:{rule:\"repeated\",type:\"string\",id:2}}},model_1_0_0:{fields:{geometries:{keyType:\"string\",type:\"geometry_1_0_0_Type\",id:1},topologies:{keyType:\"string\",type:\"topology_1_0_0_Type\",id:2},attributes:{keyType:\"string\",type:\"attribute_1_0_0_Type\",id:3}}},shell_1_0_0:{fields:{faces:{rule:\"repeated\",type:\"string\",id:1},attributes:{rule:\"repeated\",type:\"string\",id:2}}},topology_1_0_0:{fields:{attributes:{rule:\"repeated\",type:\"string\",id:1}}},topology_1_0_0_Type:{oneofs:{topology:{oneof:[\"body\",\"coedge\",\"edge\",\"face\",\"loop\",\"lump\",\"shell\",\"vertex\",\"wire\",\"wirebody\"]}},fields:{body:{type:\"body_1_0_0\",id:1},coedge:{type:\"coedge_1_0_0\",id:2},edge:{type:\"edge_1_0_0\",id:3},face:{type:\"face_1_0_0\",id:4},loop:{type:\"loop_1_0_0\",id:5},lump:{type:\"lump_1_0_0\",id:6},shell:{type:\"shell_1_0_0\",id:7},vertex:{type:\"vertex_1_0_0\",id:8},wire:{type:\"wire_1_0_0\",id:9},wirebody:{type:\"wirebody_1_0_0\",id:10}}},vertex_1_0_0:{fields:{precision:{type:\"double\",id:1},geometry:{type:\"string\",id:2},attributes:{rule:\"repeated\",type:\"string\",id:3}}},wire_1_0_0:{fields:{edges:{rule:\"repeated\",type:\"string\",id:1},attributes:{rule:\"repeated\",type:\"string\",id:2}}},wirebody_1_0_0:{fields:{wires:{rule:\"repeated\",type:\"string\",id:1},attributes:{rule:\"repeated\",type:\"string\",id:2}}},nmiattribute_1_0_0:{fields:{primaryId:{type:\"uint64\",id:1},secondaryId:{type:\"int64\",id:2},approachId:{type:\"int64\",id:3},operationIds:{rule:\"repeated\",type:\"int64\",id:4}}},nmiattributearr_1_0_0:{fields:{tagInfo:{rule:\"repeated\",type:\"nmiattributestr_1_0_0\",id:1}}},nmiattributestr_1_0_0:{fields:{primaryId:{type:\"string\",id:1},secondaryId:{type:\"string\",id:2},approachId:{type:\"string\",id:3},operationIds:{rule:\"repeated\",type:\"string\",id:4}}},textattribute_1_0_0:{fields:{text:{type:\"string\",id:1}}},entity:{oneofs:{entity:{oneof:[\"point3d\",\"vector3d\",\"geometry\",\"paramrange\",\"point\",\"bsurface\",\"cone\",\"cylinder\",\"ellipticalcone\",\"ellipticalcylinder\",\"plane\",\"sphere\",\"surface\",\"torus\",\"bcurve\",\"circle\",\"curve\",\"ellipse\",\"line\",\"attribute\",\"body\",\"coedge\",\"edge\",\"face\",\"loop\",\"lump\",\"model\",\"shell\",\"topology\",\"vertex\",\"wire\",\"wirebody\",\"nmiattribute\",\"nmiattributearr\",\"nmiattributestr\",\"textattribute\"]}},fields:{id:{type:\"string\",id:1},point3d:{type:\"point3d_1_0_0\",id:2},vector3d:{type:\"vector3d_1_0_0\",id:3},geometry:{type:\"geometry_1_0_0\",id:4},paramrange:{type:\"paramrange_1_0_0\",id:5},point:{type:\"point_1_0_0\",id:6},bsurface:{type:\"bsurface_1_0_0\",id:7},cone:{type:\"cone_1_0_0\",id:8},cylinder:{type:\"cylinder_1_0_0\",id:9},ellipticalcone:{type:\"ellipticalcone_1_0_0\",id:10},ellipticalcylinder:{type:\"ellipticalcylinder_1_0_0\",id:11},plane:{type:\"plane_1_0_0\",id:12},sphere:{type:\"sphere_1_0_0\",id:13},surface:{type:\"surface_1_0_0\",id:14},torus:{type:\"torus_1_0_0\",id:15},bcurve:{type:\"bcurve_1_0_0\",id:16},circle:{type:\"circle_1_0_0\",id:17},curve:{type:\"curve_1_0_0\",id:18},ellipse:{type:\"ellipse_1_0_0\",id:19},line:{type:\"line_1_0_0\",id:20},attribute:{type:\"attribute_1_0_0\",id:21},body:{type:\"body_1_0_0\",id:22},coedge:{type:\"coedge_1_0_0\",id:23},edge:{type:\"edge_1_0_0\",id:24},face:{type:\"face_1_0_0\",id:25},loop:{type:\"loop_1_0_0\",id:26},lump:{type:\"lump_1_0_0\",id:27},model:{type:\"model_1_0_0\",id:28},shell:{type:\"shell_1_0_0\",id:29},topology:{type:\"topology_1_0_0\",id:30},vertex:{type:\"vertex_1_0_0\",id:31},wire:{type:\"wire_1_0_0\",id:32},wirebody:{type:\"wirebody_1_0_0\",id:33},nmiattribute:{type:\"nmiattribute_1_0_0\",id:34},nmiattributearr:{type:\"nmiattributearr_1_0_0\",id:37},nmiattributestr:{type:\"nmiattributestr_1_0_0\",id:35},textattribute:{type:\"textattribute_1_0_0\",id:36}}}}}}}});e.exports=i},5316:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.saveToProtoBinary=t.saveToProtoMessage=t.SolidDefSaver=void 0;var o=r(8032),i=function(){};i.prototype.setVersion=function(e){console.warn(\"SolidDefSaver.prototype.setVersion is deprecated,\")};const n=function(e){const t=o.Autodesk.lookupType(\"SolidDef.model_1_0_0\"),r={topologies:{},geometries:{},attributes:{}};return e.addToModelObject(r),t.create(r)};t.SolidDefSaver=i,t.saveToProtoMessage=n,t.saveToProtoBinary=function(e){const t=o.Autodesk.lookupType(\"SolidDef.model_1_0_0\"),r=n(e);return t.encode(r).finish()}},7360:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.TopologySetters=void 0;var o=r(6752);const i={},n=function(e,t,r){const o=t.attributes;if(o){e.removeAllAttributes();for(var i=0;i<o.length;++i){let t=r(o[i]);e.addAttribute(t)}}};i.setBodyData=function(e,t,r){for(var o=t.lumps,i=new Array(o.length),s=0;s<o.length;++s){var a=o[s];i[s]=r(a),i[s].setBody(e)}e.setLumps(i),n(e,t,r)},i.setLumpData=function(e,t,r){for(var o=t.shells,i=new Array(o.length),s=0;s<o.length;++s){var a=o[s];i[s]=r(a),i[s].setLump(e)}e.setShells(i),n(e,t,r)},i.setShellData=function(e,t,r){for(var o=t.faces,i=new Array(o.length),s=0;s<o.length;++s){var a=o[s];i[s]=r(a),i[s].setShell(e)}e.setFaces(i),n(e,t,r)},i.setFaceData=function(e,t,r){for(var o=t.loops,i=new Array(o.length),s=0;s<o.length;++s){var a=o[s];i[s]=r(a),i[s].setFace(e)}e.setLoops(i),e.setReversed(t.reversed),e.setSurface(r(t.geometry)),n(e,t,r)},i.setLoopData=function(e,t,r){for(var o=t.coedges,i=new Array(o.length),s=0;s<o.length;++s){var a=o[s];i[s]=r(a),i[s].setLoop(e)}e.setCoedges(i),n(e,t,r)},i.setCoedgeData=function(e,t,r){e.setEdge(r(t.edge)),e.setReversed(t.reversed),e.setPartner(r(t.partner)),e.getEdge()&&!e.getEdge().getCoedge()&&e.getEdge().setCoedge(e),n(e,t,r)},i.setEdgeData=function(e,t,r){e.setVertex(0,r(t.vertex0)),e.setVertex(1,r(t.vertex1));var i=(0,o.propertyToRange)(t,\"range\");e.sett0(i[0]),e.sett1(i[1]),e.setReversed(t.reversed),e.setPrecision(t.precision),e.setCurve(r(t.geometry)),n(e,t,r)},i.setVertexData=function(e,t,r){e.setPrecision(t.precision),e.setPoint(r(t.geometry)),n(e,t,r)},i.setWireBodyData=function(e,t,r){for(var o=t.wires,i=new Array(o.length),s=0;s<o.length;++s){var a=o[s];i[s]=r(a),i[s].setWireBody(e)}e.setWires(i),n(e,t,r)},i.setWireData=function(e,t,r){for(var o=t.edges,i=new Array(o.length),s=0;s<o.length;++s){var a=o[s];i[s]=r(a),i[s].setWire(e)}e.setEdges(i),n(e,t,r)},t.TopologySetters=i},3888:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.controlPointsFromHomogeneous=t.controlPointsToHomogeneous=t.getUniqueKnots=t.findKnotSpanAndMultiplicity=t.findKnotSpan=void 0;var o=r(2468),i=r(4728),n=function(e,t){var r=0,o=t.length-1;if(e<=t[r]){for(;t[r]===t[r+1]&&r<o-1;)r+=1;return r}if(e>=t[o]){for(;t[o]===t[o-1]&&o>r+1;)o-=1;return o-1}for(var i=Math.floor((r+o)/2);e<t[i]||e>=t[i+1];)e<t[i]?o=i:r=i,i=Math.floor((r+o)/2);return i};t.findKnotSpan=n,t.findKnotSpanAndMultiplicity=function(e,t){var r=o.PARAMETER_SPACE_TOLERANCE,i=n(e,t),s=0,a=e,c=i;if(e<t[c]+r)for(a=t[c];c>=0&&Math.abs(t[c]-a)<r;)--c,++s;else if(e>t[c+1]-r){for(a=t[++c];c<t.length&&Math.abs(t[c]-a)<r;)++c,++s;a=c<t.length?t[i=c-1]:t[t.length-1]}return{span:i,multiplicity:s,knot:a}},t.getUniqueKnots=function(e){for(var t=[e[0]],r=1;r<e.length;++r)e[r]!==e[r-1]&&t.push(e[r]);return t},t.controlPointsToHomogeneous=function(e,t){i.ConsoleUtils.assert(e.length>0&&e.length===3*t.length);for(var r=t.length,o=new Array(4*r),n=0;n<r;++n){var s=t[n];o[4*n]=e[3*n]*s,o[4*n+1]=e[3*n+1]*s,o[4*n+2]=e[3*n+2]*s,o[4*n+3]=s}return o},t.controlPointsFromHomogeneous=function(e){i.ConsoleUtils.assert(e.length>0&&e.length%4==0);for(var t=e.length/4,r=new Array(3*t),o=new Array(t),n=0;n<t;++n){var s=e[4*n+3];r[3*n]=e[4*n]/s,r[3*n+1]=e[4*n+1]/s,r[3*n+2]=e[4*n+2]/s,o[n]=s}return{P:r,w:o}}},5564:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.relaxBCurveToPerpendicular=t.closestBCurveSegments=t.maxDistanceSqrToHull=t.minDistanceSqrToHull=void 0;var o=r(1972),i=r(2468),n=r(48),s=r(1e3),a=function(e,t){var r,n=t.length/3,s=o.Vector3.asFloat64(0,0,0);for(r=0;r<n;++r)s[0]+=t[3*r],s[1]+=t[3*r+1],s[2]+=t[3*r+2];o.Vector3.scale(s,s,1/n),o.Vector3.sub(s,s,e);var a=o.Vector3.squaredLength(s);if(a<i.KERNEL_TOLERANCE*i.KERNEL_TOLERANCE)return 0;var c=Number.POSITIVE_INFINITY;for(r=0;r<n;++r){var u=s[0]*(t[3*r]-e[0])+s[1]*(t[3*r+1]-e[1])+s[2]*(t[3*r+2]-e[2]);u<c&&(c=u)}return c<=0?0:c*c/a},c=function(e,t){for(var r=t.length/3,o=0,i=0;i<r;++i){var n=t[3*i]-e[0],s=t[3*i+1]-e[1],a=t[3*i+2]-e[2],c=n*n+s*s+a*a;c>o&&(o=c)}return o};t.minDistanceSqrToHull=a,t.maxDistanceSqrToHull=c,t.closestBCurveSegments=function(e,t,r,i){for(var n=Number.POSITIVE_INFINITY,s=[],u=0;u<t.length;++u){var l,h=t[u],d=h.getRangeUnlimited();if(i){l=!1;for(var p=0;p<i.length;++p)if(d[1]>=i[p][0]+o.FLOAT64_TOLERANCE&&d[0]<=i[p][1]-o.FLOAT64_TOLERANCE){l=!0;break}}else l=!0;if(l){var g=r?r[u]:0,f=h.getControlPoints(),v=a(e,f);if((v=Math.max(0,v-g))<=n){var _=c(e,f)+g;s.push({index:u,minDistSqr:v,maxDistSqr:_}),_<n&&(n=_)}}}return(s=s.filter((function(e){return e.minDistSqr<=n}))).sort((function(e,t){var r=e.minDistSqr-t.minDistSqr;return 0===r?e.maxDistSqr-t.maxDistSqr:r})),s},t.relaxBCurveToPerpendicular=function(e,t,r,i,a,c,u,l){var h=u||o.FLOAT64_TOLERANCE,d=l||32,p=t.length/3,g=e.length-p-1;return(0,s.newtonRaphson1D)((function(o){var s=(0,n.evaluateBCurveDerivs)(o,2,g,e,t,r),a=s[0],c=s[1],u=s[2],l=[a[0]-i[0],a[1]-i[1],a[2]-i[2]];return{val:2*(l[0]*c[0]+l[1]*c[1]+l[2]*c[2]),deriv:2*(l[0]*u[0]+l[1]*u[1]+l[2]*u[2]+(c[0]*c[0]+c[1]*c[1]+c[2]*c[2]))}}),c,a,h,d)}},6200:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.decomposeBCurveFlags=t.decomposeBCurveToBezier=t.decomposeBCurveControlPoints=void 0;var o=r(3888),i=r(4728),n=function(e,t,r){i.ConsoleUtils.assert(t.length%r==0);var o,n,s,a=e.length-t.length/r-1;i.ConsoleUtils.assert(a>0);var c=e.length-1,u=a,l=a+1,h=0,d=[],p=[];for(p[h]=new Array((a+1)*r),o=0;o<=a;++o)for(s=0;s<r;++s)p[h][o*r+s]=t[o*r+s];for(;l<c;){for(var g=1;l<c&&e[l+1]===e[l];)++l,++g;var f=l===c;if(f||(p[h+1]=new Array((a+1)*r)),g<a){var v=e[l]-e[u];for(n=a;n>g;--n)d[n-g-1]=v/(e[u+n]-e[u]);var _=a-g;for(n=1;n<=_;++n){for(var y=_-n,m=g+n,E=a;E>=m;--E){var x=d[E-m];for(s=0;s<r;++s)p[h][E*r+s]=p[h][E*r+s]*x+p[h][(E-1)*r+s]*(1-x)}if(!f)for(s=0;s<r;++s)p[h+1][y*r+s]=p[h][a*r+s]}}if(f)break;for(++h,o=a-g;o<=a;++o)for(s=0;s<r;++s)p[h][o*r+s]=t[(l-a+o)*r+s];u=l,++l}return p};t.decomposeBCurveControlPoints=n,t.decomposeBCurveToBezier=function(e,t,r){var s,a=r&&r.length>0;i.ConsoleUtils.assert(t.length>0&&t.length%3==0),i.ConsoleUtils.assert(!a||t.length===3*r.length);var c,u,l=e.length-t.length/3-1;if(i.ConsoleUtils.assert(l>0),a){var h=(0,o.controlPointsToHomogeneous)(t,r);for(c=n(e,h,4),u=[],s=0;s<c.length;++s){var d=(0,o.controlPointsFromHomogeneous)(c[s]);c[s]=d.P,u[s]=d.w}}else c=n(e,t,3),u=void 0;var p=(0,o.getUniqueKnots)(e);i.ConsoleUtils.assert(p.length===c.length+1);var g=new Array(p.length-1);for(s=0;s<g.length;++s)g[s]=new Array(2*l+2),g[s].fill(p[s],0,l+1),g[s].fill(p[s+1],l+1);return{U:g,P:c,w:u}},t.decomposeBCurveFlags=function(e,t){var r,o=e.length-t.length-1,i=new Array(t.length);i.fill(!1);var n=o-1;for(r=0;r<t.length;++r)if(t[r]){var s=Math.max(r-n,0),a=Math.min(r+n,i.length-1);i.fill(!0,s,a+1)}var c=[],u=e.length-1,l=o+1,h=0;for(c[h]=!1,r=0;r<=o;++r)i[r]&&(c[h]=!0);for(;l<u;){for(var d=1;l<u&&e[l+1]===e[l];)++l,++d;if(l===u)break;for(c[++h]=!1,r=o-d;r<=o;++r)i[l-o+r]&&(c[h]=!0);++l}return c}},48:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.evaluateBCurveDerivs=t.evaluateBCurvePoint=t.evaluateBasisDerivatives=t.evaluateBasisFunctions=void 0;var o,i,n,s,a=r(1972),c=r(5896),u=r(3888),l=(o=null,i=null,function(e,t,r,n){(null===o||o.length<r+1)&&(o=new Float64Array(r+1),i=new Float64Array(r+1));var s=new Float64Array(r+1);s[0]=1;for(var a=1;a<=r;++a){o[a]=t-n[e+1-a],i[a]=n[e+a]-t;for(var c=0,u=0;u<a;++u){var l=s[u]/(i[u+1]+o[a-u]);s[u]=c+i[u+1]*l,c=o[a-u]*l}s[a]=c}return s}),h=function(){var e=null,t=null,r=null,o=null;return function(i,n,s,a,c,u){var l,h,d;if(null===t||t.length<s+1){for(e=[new Float64Array(s+1),new Float64Array(s+1)],t=new Array(s+1),l=0;l<s+1;++l)t[l]=new Float64Array(s+1);r=new Float64Array(s+1),o=new Float64Array(s+1)}if(!u)for(u=new Array(a+1),l=0;l<=a;++l)u[l]=new Float64Array(s+1);for(t[0][0]=1,l=1;l<=s;++l){r[l]=n-c[i+1-l],o[l]=c[i+l]-n;var p=0;for(d=0;d<l;++d){t[l][d]=o[d+1]+r[l-d];var g=t[d][l-1]/t[l][d];t[d][l]=p+o[d+1]*g,p=r[l-d]*g}t[l][l]=p}for(l=0;l<=s;++l)u[0][l]=t[l][s];for(d=0;d<=s;++d){var f=0,v=1;for(e[0][0]=1,h=1;h<=a;++h){var _,y=0,m=d-h,E=s-h;for(d>=h&&(e[v][0]=e[f][0]/t[E+1][m],y=e[v][0]*t[m][E]),_=d-1<=E?h-1:s-d,l=m>=-1?1:-m;l<=_;++l)e[v][l]=(e[f][l]-e[f][l-1])/t[E+1][m+l],y+=e[v][l]*t[m+l][E];d<=E&&(e[v][h]=-e[f][h-1]/t[E+1][d],y+=e[v][h]*t[d][E]),u[h][d]=y,l=f,f=v,v=l}}for(d=s,h=1;h<=a;++h){for(l=0;l<=s;++l)u[h][l]*=d;d*=s-h}return u}}(),d=(n=null,s=null,function(e,t,r,o,i,l){var d,p,g;if(null===n||n.length<r+1){for(n=new Array(r+1),d=0;d<=r;++d)n[d]=new Float64Array(r+1);s=new Float64Array(r+1)}var f=Math.min(t,r),v=l&&l.length>0,_=(0,u.findKnotSpan)(e,o);h(_,e,r,f,o,n);var y=new Array(t+1);for(d=0;d<=t;++d)y[d]=a.Vector3.createFloat64();for(p=0;p<=f;++p){var m=3*(_-r);if(v)for(s[p]=0,d=0;d<=r;++d)g=l[_-r+d]*n[p][d],y[p][0]+=i[m]*g,y[p][1]+=i[m+1]*g,y[p][2]+=i[m+2]*g,s[p]+=g,m+=3;else for(d=0;d<=r;++d)g=n[p][d],y[p][0]+=i[m]*g,y[p][1]+=i[m+1]*g,y[p][2]+=i[m+2]*g,m+=3}if(v)for(p=0;p<=f;++p){var E=y[p];for(d=1;d<=p;++d)g=-c.binomialCoefficients[p][d]*s[d],a.Vector3.scaleAndAdd(E,E,y[p-d],g);a.Vector3.scale(E,E,1/s[0])}return y});t.evaluateBasisFunctions=l,t.evaluateBasisDerivatives=h,t.evaluateBCurvePoint=function(e,t,r,o,i){var n,s,c=(0,u.findKnotSpan)(e,r),h=l(c,e,t,r),d=i&&i.length>0,p=a.Vector3.createFloat64(),g=0,f=3*(c-t);if(d){for(n=0;n<=t;++n)s=i[c-t+n]*h[n],p[0]+=o[f]*s,p[1]+=o[f+1]*s,p[2]+=o[f+2]*s,g+=s,f+=3;a.Vector3.scale(p,p,1/g)}else for(n=0;n<=t;++n)s=h[n],p[0]+=o[f]*s,p[1]+=o[f+1]*s,p[2]+=o[f+2]*s,f+=3;return p},t.evaluateBCurveDerivs=d},9952:(e,t)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(e,t){this.content=[],this.scoreFunction=e,this.lookupFunction=t,this.lookupFunction&&(this.nodeDict={})};r.prototype={push:function(e){this.content.push(e),this.lookupFunction&&(this.nodeDict[this.lookupFunction(e)]=this.content.length-1),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.lookupFunction&&(this.nodeDict[this.lookupFunction(t)]=0),this.sinkDown(0)),this.lookupFunction&&delete this.nodeDict[this.lookupFunction(e)],e},peek:function(){return this.content[0]},getNodeIndex:function(e){if(this.lookupFunction)return this.nodeDict[this.lookupFunction(e)];for(var t=this.content.length,r=0;r<t;r++)if(this.content[r]===e)return r;throw new Error(\"Node not found.\")},updated:function(e){var t=this.getNodeIndex(e),r=this.scoreFunction(e),o=Math.floor((t+1)/2)-1,i=this.content[o];if(t>0&&r<this.scoreFunction(i))this.bubbleUp(t);else{var n=2*(t+1),s=n-1,a=this.content[s],c=this.content[n];(a&&r>this.scoreFunction(a)||c&&r>this.scoreFunction(c))&&this.sinkDown(t)}},remove:function(e){var t=this.content.length,r=this.getNodeIndex(e),o=this.content.pop();r!==t-1&&(this.content[r]=o,this.scoreFunction(o)<this.scoreFunction(e)?this.bubbleUp(r):this.sinkDown(r))},size:function(){return this.content.length},bubbleUp:function(e){for(var t=this.content[e];e>0;){var r=Math.floor((e+1)/2)-1,o=this.content[r];if(!(this.scoreFunction(t)<this.scoreFunction(o)))break;this.content[r]=t,this.content[e]=o,this.lookupFunction&&(this.nodeDict[this.lookupFunction(t)]=r,this.nodeDict[this.lookupFunction(o)]=e),e=r}},sinkDown:function(e){for(var t=this.content.length,r=this.content[e],o=this.scoreFunction(r);;){var i=2*(e+1),n=i-1,s=null;if(n<t){var a=this.content[n],c=this.scoreFunction(a);c<o&&(s=n)}if(i<t){var u=this.content[i];this.scoreFunction(u)<(null===s?o:c)&&(s=i)}if(null===s)break;this.content[e]=this.content[s],this.content[s]=r,this.lookupFunction&&(this.nodeDict[this.lookupFunction(this.content[e])]=e,this.nodeDict[this.lookupFunction(this.content[s])]=s),e=s}}},t.BinaryHeap=r},3344:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.BoundingBox=void 0;var o=r(1972),i=r(2468),n=function(e,t){this.min=e?o.Vector3.createFloat64FromValues(e[0],e[1],e[2]):o.Vector3.createFloat64FromValues(1/0,1/0,1/0),this.max=t?o.Vector3.createFloat64FromValues(t[0],t[1],t[2]):o.Vector3.createFloat64FromValues(-1/0,-1/0,-1/0)};n.prototype.toString=function(){return\"(x:\"+this.min[0]+\", y:\"+this.min[1]+\", z:\"+this.min[2]+\") -> (x:\"+this.max[0]+\", y:\"+this.max[1]+\", z:\"+this.max[2]+\")\"},n.prototype.copy=function(e){return o.Vector3.copy(this.min,e.min),o.Vector3.copy(this.max,e.max),this},n.prototype.clone=function(){return new n(this.min,this.max)},n.prototype.getWidth=function(e){var t=0;return 0<=e&&e<=2?(t=this.max[e]-this.min[e],isFinite(t)?t:0):(console.error(\"wrong axis argument supplied to BoundingBox.getWidth(): \"+e),0)},n.prototype.getMaxMinAligned=function(e,t,r){for(var i,s,a,c=this.getCorners(),u=[],l=[],h=[],d=0;d<c.length;++d)i=o.Vector3.dot(c[d],e),s=o.Vector3.dot(c[d],t),a=o.Vector3.dot(c[d],r),u.push(i),l.push(s),h.push(a);var p=Math.min.apply(void 0,u),g=Math.min.apply(void 0,l),f=Math.min.apply(void 0,h),v=Math.max.apply(void 0,u),_=Math.max.apply(void 0,l),y=Math.max.apply(void 0,h);return new n([p,g,f],[v,_,y])},n.prototype.include=function(e){return this.includeX(e.min[0],e.max[0]),this.includeY(e.min[1],e.max[1]),this.includeZ(e.min[2],e.max[2]),this},n.prototype.includeX=function(e,t){return this.min[0]=Math.min(this.min[0],e),this.max[0]=Math.max(this.max[0],t),this},n.prototype.includeY=function(e,t){return this.min[1]=Math.min(this.min[1],e),this.max[1]=Math.max(this.max[1],t),this},n.prototype.includeZ=function(e,t){return this.min[2]=Math.min(this.min[2],e),this.max[2]=Math.max(this.max[2],t),this},n.prototype.includeSphere=function(e){var t=e.getCenter(),r=e.getRadius();return this.includeX(t[0]-r,t[0]+r),this.includeY(t[1]-r,t[1]+r),this.includeZ(t[2]-r,t[2]+r),this},n.prototype.translate=function(e){return o.Vector3.add(this.min,this.min,e),o.Vector3.add(this.max,this.max,e),this},n.prototype.getCorners=function(){var e=this.getDiagonal();return[o.Vector3.clone(this.min),o.Vector3.createFloat64FromValues(this.min[0]+e[0],this.min[1],this.min[2]),o.Vector3.createFloat64FromValues(this.min[0],this.min[1]+e[1],this.min[2]),o.Vector3.createFloat64FromValues(this.min[0],this.min[1],this.min[2]+e[2]),o.Vector3.createFloat64FromValues(this.min[0]+e[0],this.min[1]+e[1],this.min[2]),o.Vector3.createFloat64FromValues(this.min[0]+e[0],this.min[1],this.min[2]+e[2]),o.Vector3.createFloat64FromValues(this.min[0],this.min[1]+e[1],this.min[2]+e[2]),o.Vector3.clone(this.max)]},n.prototype.transform=function(e){if(!this.isEmpty()){var t=this.getCorners();this.max[0]=-1/0,this.max[1]=-1/0,this.max[2]=-1/0,this.min[0]=1/0,this.min[1]=1/0,this.min[2]=1/0;for(var r=0;r<t.length;++r)o.Vector3.transformMatrix44(t[r],t[r],e),o.Vector3.max(this.max,this.max,t[r]),o.Vector3.min(this.min,this.min,t[r])}return this},n.prototype.includePointXYZ=function(e){return this.includeX(e.x,e.x),this.includeY(e.y,e.y),this.includeZ(e.z,e.z),this},n.prototype.includePoint=function(e){return this.includeX(e[0],e[0]),this.includeY(e[1],e[1]),this.includeZ(e[2],e[2]),this},n.prototype.getCenter=function(){var e=o.Vector3.createFloat64();return o.Vector3.add(e,this.min,this.max),o.Vector3.scale(e,e,.5),e},n.prototype.getDiagonal=function(){var e=o.Vector3.createFloat64();return o.Vector3.sub(e,this.max,this.min),e},n.prototype.isPointInside=function(e){return!(e[0]<this.min[0]||e[0]>this.max[0])&&(!(e[1]<this.min[1]||e[1]>this.max[1])&&!(e[2]<this.min[2]||e[2]>this.max[2]))},n.prototype.isPointInsideWithTolerance=function(e,t){return t||(t=i.KERNEL_TOLERANCE),!(e[0]<this.min[0]-t||e[0]>this.max[0]+t)&&(!(e[1]<this.min[1]-t||e[1]>this.max[1]+t)&&!(e[2]<this.min[2]-t||e[2]>this.max[2]+t))},n.prototype.intersects=function(e){return!(e.min[0]>this.max[0]||e.max[0]<this.min[0])&&(!(e.min[1]>this.max[1]||e.max[1]<this.min[1])&&!(e.min[2]>this.max[2]||e.max[2]<this.min[2]))},n.prototype.intersectsWithTolerance=function(e,t){return t||(t=i.KERNEL_TOLERANCE),!(e.min[0]>this.max[0]+t||e.max[0]<this.min[0]-t)&&(!(e.min[1]>this.max[1]+t||e.max[1]<this.min[1]-t)&&!(e.min[2]>this.max[2]+t||e.max[2]<this.min[2]-t))},n.prototype.isEmpty=function(){return this.max[0]<this.min[0]||this.max[1]<this.min[1]||this.max[2]<this.min[2]},n.prototype.setEmpty=function(){return this.max[0]=-1/0,this.min[0]=1/0,this.max[1]=-1/0,this.min[1]=1/0,this.max[2]=-1/0,this.min[2]=1/0,this},n.prototype.isBounded=function(){return isFinite(this.max[0])&&isFinite(this.max[1])&&isFinite(this.max[2])&&isFinite(this.min[0])&&isFinite(this.min[1])&&isFinite(this.min[2])},t.BoundingBox=n},1288:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.closestBSurfacePointApprox=t.closestBSurfacePatches=void 0;var o=r(1972),i=r(5896),n=r(5564),s=r(6824);t.closestBSurfacePatches=function(e,t,r){for(var i=Number.POSITIVE_INFINITY,s=[],a=0;a<t.length;++a)for(var c=0;c<t[a].length;++c){var u,l=t[a][c],h=l.getRangeUnlimitedU(),d=l.getRangeUnlimitedV();if(r){u=!1;for(var p=0;p<r.length;++p)if(h[1]>=r[p][0][0]+o.FLOAT64_TOLERANCE&&h[0]<=r[p][0][1]-o.FLOAT64_TOLERANCE&&d[1]>=r[p][1][0]+o.FLOAT64_TOLERANCE&&d[0]<=r[p][1][1]-o.FLOAT64_TOLERANCE){u=!0;break}}else u=!0;if(u){var g=l.getControlPoints(),f=(0,n.minDistanceSqrToHull)(e,g,!0);if(f<=i){var v=(0,n.maxDistanceSqrToHull)(e,g);s.push({index:[a,c],minDistSqr:f,maxDistSqr:v}),v<i&&(i=v)}}}return(s=s.filter((function(e){return e.minDistSqr<=i}))).sort((function(e,t){var r=e.minDistSqr-t.minDistSqr;return 0===r?e.maxDistSqr-t.maxDistSqr:r})),s},t.closestBSurfacePointApprox=function(e,t,r,n,a,c,u,l,h){var d=t>1?2*t:1,p=r>1?2*r:1,g=(l[1]-l[0])/(n[n.length-1]-n[0]),f=(h[1]-h[0])/(a[a.length-1]-a[0]);d=Math.max(1,Math.round(d*g)),p=Math.max(1,Math.round(p*f));for(var v=(l[1]-l[0])/d,_=(h[1]-h[0])/p,y=Number.POSITIVE_INFINITY,m={u:void 0,v:void 0},E=void 0,x=o.Vector3.createFloat64(),R=0;R<=p;++R){for(var A=h[0]+R*_,P=[],V=0;V<=d;++V){var T,b,C=l[0]+V*v;if(P[V]=(0,s.evaluateBSurfacePoint)(C,A,t,r,n,a,c,u),V>0&&R>0)T=(0,i.closestPointToTriangle)(e,E[V-1],E[V],P[V-1],x),(b=o.Vector3.squaredDistance(e,x))<y&&(y=b,m.u=C+v*(T.coordA-1),m.v=A+_*(T.coordB-1)),T=(0,i.closestPointToTriangle)(e,P[V],P[V-1],E[V],x),(b=o.Vector3.squaredDistance(e,x))<y&&(y=b,m.u=C-v*T.coordA,m.v=A-_*T.coordB)}E=P}return m}},192:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.decomposeBSurfaceToBezier=t.decomposeBSurfaceControlPoints=t.decomposeBSurfaceControlPointsV=t.decomposeBSurfaceControlPointsU=void 0;var o=r(3888),i=r(4728),n=function(e,t,r,o){i.ConsoleUtils.assert(r.length%o==0);var n=t.length-e-1;i.ConsoleUtils.assert(r.length/o%n==0);var s,a,c,u,l=r.length/(o*n),h=e+1,d=l,p=t.length-1,g=e,f=e+1,v=0,_=[],y=[];for(y[v]=new Array(h*d*o),s=0;s<=e;++s)for(c=0;c<l;++c)for(u=0;u<o;++u)y[v][(s*d+c)*o+u]=r[(s*l+c)*o+u];for(;f<p;){for(var m=1;f<p&&t[f+1]===t[f];)++f,++m;var E=f===p;if(E||(y[v+1]=new Array(h*d*o)),m<e){var x=t[f]-t[g];for(a=e;a>m;--a)_[a-m-1]=x/(t[g+a]-t[g]);var R=e-m;for(a=1;a<=R;++a){for(var A=R-a,P=m+a,V=e;V>=P;--V){var T=_[V-P];for(c=0;c<l;++c)for(u=0;u<o;++u)y[v][(V*d+c)*o+u]=y[v][(V*d+c)*o+u]*T+y[v][((V-1)*d+c)*o+u]*(1-T)}if(!E)for(c=0;c<l;++c)for(u=0;u<o;++u)y[v+1][(A*d+c)*o+u]=y[v][(e*d+c)*o+u]}}if(E)break;for(++v,s=e-m;s<=e;++s)for(c=0;c<l;++c)for(u=0;u<o;++u)y[v][(s*d+c)*o+u]=r[((f-e+s)*l+c)*o+u];g=f,++f}return y},s=function(e,t,r,o){i.ConsoleUtils.assert(r.length%o==0);var n=t.length-e-1;i.ConsoleUtils.assert(r.length/o%n==0);var s,a,c,u,l=r.length/(o*n),h=l,d=e+1,p=t.length-1,g=e,f=e+1,v=0,_=[],y=[];for(y[v]=new Array(h*d*o),s=0;s<=e;++s)for(c=0;c<l;++c)for(u=0;u<o;++u)y[v][(s+c*d)*o+u]=r[(s+c*n)*o+u];for(;f<p;){for(var m=1;f<p&&t[f+1]===t[f];)++f,++m;var E=f===p;if(E||(y[v+1]=new Array(h*d*o)),m<e){var x=t[f]-t[g];for(a=e;a>m;--a)_[a-m-1]=x/(t[g+a]-t[g]);var R=e-m;for(a=1;a<=R;++a){for(var A=R-a,P=m+a,V=e;V>=P;--V){var T=_[V-P];for(c=0;c<l;++c)for(u=0;u<o;++u)y[v][(V+c*d)*o+u]=y[v][(V+c*d)*o+u]*T+y[v][(V-1+c*d)*o+u]*(1-T)}if(!E)for(c=0;c<l;++c)for(u=0;u<o;++u)y[v+1][(A+c*d)*o+u]=y[v][(e+c*d)*o+u]}}if(E)break;for(++v,s=e-m;s<=e;++s)for(c=0;c<l;++c)for(u=0;u<o;++u)y[v][(s+c*d)*o+u]=r[(f-e+s+c*n)*o+u];g=f,++f}return y},a=function(e,t,r,o,a,c){i.ConsoleUtils.assert(a.length%c==0),i.ConsoleUtils.assert(a.length/c==(r.length-e-1)*(o.length-t-1));var u,l=r.length>2*e+2,h=o.length>2*t+2;if(!l&&!h)return[[a.slice()]];u=l?n(e,r,a,c):[a];for(var d=0;d<u.length;++d)u[d]=h?s(t,o,u[d],c):[u[d]];return u};t.decomposeBSurfaceControlPointsU=n,t.decomposeBSurfaceControlPointsV=s,t.decomposeBSurfaceControlPoints=a,t.decomposeBSurfaceToBezier=function(e,t,r,n,s,c){var u,l,h,d,p=c&&c.length>0;if(i.ConsoleUtils.assert(s.length>0&&s.length%3==0),i.ConsoleUtils.assert(!p||s.length===3*c.length),p){var g=(0,o.controlPointsToHomogeneous)(s,c);for(h=a(e,t,r,n,g,4),d=[],u=0;u<h.length;++u)for(d[u]=[],l=0;l<h[u].length;++l){var f=(0,o.controlPointsFromHomogeneous)(h[u][l]);h[u][l]=f.P,d[u][l]=f.w}}else h=a(e,t,r,n,s,3),d=void 0;var v=(0,o.getUniqueKnots)(r);i.ConsoleUtils.assert(v.length===h.length+1);var _=new Array(v.length-1);for(u=0;u<_.length;++u)_[u]=new Array(2*e+2),_[u].fill(v[u],0,e+1),_[u].fill(v[u+1],e+1);var y=(0,o.getUniqueKnots)(n);i.ConsoleUtils.assert(y.length===h[0].length+1);var m=new Array(y.length-1);for(u=0;u<m.length;++u)m[u]=new Array(2*t+2),m[u].fill(y[u],0,t+1),m[u].fill(y[u+1],t+1);return{U:_,V:m,P:h,w:d}}},6824:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.evaluateBSurfaceDerivs=t.evaluateBSurfacePoint=void 0;var o=r(1972),i=r(5896),n=r(3888),s=r(48);t.evaluateBSurfacePoint=function(e,t,r,i,a,c,u,l){return l&&l.length>0?function(e,t,r,i,a,c,u,l){for(var h,d=c.length-i-1,p=(0,n.findKnotSpan)(e,a),g=(0,s.evaluateBasisFunctions)(p,e,r,a),f=(0,n.findKnotSpan)(t,c),v=(0,s.evaluateBasisFunctions)(f,t,i,c),_=p-r,y=o.Vector4.createFloat64(),m=o.Vector4.createFloat64(),E=0;E<=i;E++){o.Vector4.set(m,0,0,0,0),h=f-i+E;for(var x=0;x<=r;x++){var R=(_+x)*d+h,A=g[x]*l[R];m[0]+=A*u[3*R],m[1]+=A*u[3*R+1],m[2]+=A*u[3*R+2],m[3]+=A}y[0]+=v[E]*m[0],y[1]+=v[E]*m[1],y[2]+=v[E]*m[2],y[3]+=v[E]*m[3]}return o.Vector3.createFloat64FromValues(y[0]/y[3],y[1]/y[3],y[2]/y[3])}(e,t,r,i,a,c,u,l):function(e,t,r,i,a,c,u){for(var l,h=c.length-i-1,d=(0,n.findKnotSpan)(e,a),p=(0,s.evaluateBasisFunctions)(d,e,r,a),g=(0,n.findKnotSpan)(t,c),f=(0,s.evaluateBasisFunctions)(g,t,i,c),v=d-r,_=o.Vector3.createFloat64(),y=o.Vector3.createFloat64(),m=0;m<=i;m++){o.Vector3.set(y,0,0,0),l=g-i+m;for(var E=0;E<=r;E++){var x=(v+E)*h+l;y[0]+=p[E]*u[3*x],y[1]+=p[E]*u[3*x+1],y[2]+=p[E]*u[3*x+2]}_[0]+=f[m]*y[0],_[1]+=f[m]*y[1],_[2]+=f[m]*y[2]}return _}(e,t,r,i,a,c,u)},t.evaluateBSurfaceDerivs=function(e,t,r,a,c,u,l,h,d){return function(e,t,r,a,c,u,l,h,d){var p,g,f,v,_,y,m=new Array(r+1),E=new Array(r+1),x=new Array(r+1),R=new Array(r+1);for(p=0;p<=r;p++){for(m[p]=new Array(r+1-p),E[p]=new Array(r+1-p),g=0;g<=r-p;g++)m[p][g]=o.Vector3.createFloat64(),E[p][g]=0;x[p]=new Array(a+1),R[p]=new Array(c+1)}var A=Math.min(r,a),P=(0,n.findKnotSpan)(e,u);(0,s.evaluateBasisDerivatives)(P,e,a,A,u,x);var V=Math.min(r,c),T=(0,n.findKnotSpan)(t,l);(0,s.evaluateBasisDerivatives)(T,t,c,V,l,R);var b=d&&d.length>0,C=l.length-c-1,O=new Array(c+1);for(p=0;p<=A;p++){for(f=0;f<=c;f++)for(O[f]=[0,0,0,0],v=0;v<=a;v++){var L=(P-a+v)*C+(T-c+f),S=x[p][v];b&&(S*=d[L],O[f][3]+=S),O[f][0]+=S*h[3*L],O[f][1]+=S*h[3*L+1],O[f][2]+=S*h[3*L+2]}var M=Math.min(r-p,V);for(g=0;g<=M;g++)for(f=0;f<=c;f++)m[p][g][0]+=R[g][f]*O[f][0],m[p][g][1]+=R[g][f]*O[f][1],m[p][g][2]+=R[g][f]*O[f][2],b&&(E[p][g]+=R[g][f]*O[f][3])}if(b){var w=i.binomialCoefficients,N=o.Vector3.createFloat64();for(p=0;p<=r;p++)for(g=0;g<=r-p;g++){var F=m[p][g];for(y=1;y<=g;y++)o.Vector3.scaleAndAdd(F,F,m[p][g-y],-w[g][y]*E[0][y]);for(_=1;_<=p;_++){for(o.Vector3.scaleAndAdd(F,F,m[p-_][g],-w[p][_]*E[_][0]),o.Vector3.set(N,0,0,0),y=1;y<=g;y++)o.Vector3.scaleAndAdd(N,N,m[p-_][g-y],w[g][y]*E[_][y]);o.Vector3.scaleAndAdd(F,F,N,-w[p][_])}o.Vector3.scale(F,F,1/E[0][0])}}return m}(e,t,r,a,c,u,l,h,d)}},6275:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.extractBSurfaceParamLineV=t.extractBSurfaceParamLineU=t.insertBSurfaceKnotV=t.insertBSurfaceKnotU=void 0;var o=r(1972),i=r(3888),n=r(2468),s=function(e,t,r,i,n,s,a){var c,u,l=new Array(i);for(u=0;u<i;++u){l[u]=new Array(n-u-r);var h=t-n+u+1;for(c=0;c<n-u-r;++c)l[u][c]=(e-s[h+c])/(s[c+t+1]-s[h+c])}for(var d=a.length,p=new Array(d),g=new Array(n-r+1),f=0;f<d;++f){for(p[f]=new Array(n-r+i-1),c=0;c<=n-r;++c)g[c]=o.Vector4.clone(a[f][c]);for(u=0;u<i;++u){for(c=0;c<n-u-r;++c)o.Vector4.lerp(g[c],g[c],g[c+1],l[u][c]);p[f][u]=o.Vector4.clone(g[0]),p[f][n+i-r-u-2]=o.Vector4.clone(g[n-u-r-1])}for(c=i;c<n-r-1;c++)p[f][c]=o.Vector4.clone(g[c-i+1])}return p};t.insertBSurfaceKnotU=function(e,t,r,a,c,u,l,h){t=Math.min(t,r);var d=h&&h.length>0,p=(0,i.findKnotSpanAndMultiplicity)(e,c);e=p.knot;var g=p.span,f=p.multiplicity,v=t-f;if(e<c[0]+n.PARAMETER_SPACE_TOLERANCE||e>c[c.length-1]-n.PARAMETER_SPACE_TOLERANCE||f>=t)return{uknots:c.slice(),P:l.slice(),weights:d?h.slice():void 0};var _,y,m=c.length-r-1,E=u.length-a-1,x=new Array(E),R=g-r,A=g-f;for(y=0;y<E;++y)for(x[y]=new Array(A-R+1),_=R;_<=A;++_){var P=_*E+y,V=d?h[P]:1;x[y][_-R]=o.Vector4.createFloat64FromValues(V*l[3*P],V*l[3*P+1],V*l[3*P+2],V)}var T=s(e,g,f,v,r,c,x),b=c.slice(0,g+1);for(_=0;_<v;++_)b.push(e);b=b.concat(c.slice(g+1));var C,O=new Array(3*(m+v)*E),L=new Array((m+v)*E);for(y=0;y<E;++y){for(_=0;_<=R;++_)P=C=_*E+y,O[3*C]=l[3*P],O[3*C+1]=l[3*P+1],O[3*C+2]=l[3*P+2],L[C]=h[P];for(_=0;_<T[y].length;++_){C=(_+R+1)*E+y;var S=T[y][_];O[3*C]=S[0]/S[3],O[3*C+1]=S[1]/S[3],O[3*C+2]=S[2]/S[3],L[C]=S[3]}for(_=A;_<m;++_)P=_*E+y,O[3*(C=(_+v)*E+y)]=l[3*P],O[3*C+1]=l[3*P+1],O[3*C+2]=l[3*P+2],L[C]=h[P]}return{uknots:b,P:O,weights:d?L:void 0}},t.insertBSurfaceKnotV=function(e,t,r,a,c,u,l,h){t=Math.min(t,a);var d=h&&h.length>0,p=(0,i.findKnotSpanAndMultiplicity)(e,u);e=p.knot;var g=p.span,f=p.multiplicity,v=t-f;if(e<u[0]+n.PARAMETER_SPACE_TOLERANCE||e>u[u.length-1]-n.PARAMETER_SPACE_TOLERANCE||f>=t)return{vknots:u.slice(),P:l.slice(),weights:d?h.slice():void 0};var _,y,m=c.length-r-1,E=u.length-a-1,x=new Array(m),R=g-a,A=g-f;for(_=0;_<m;++_)for(x[_]=new Array(A-R+1),y=R;y<=A;++y){var P=_*E+y,V=d?h[P]:1;x[_][y-R]=o.Vector4.createFloat64FromValues(V*l[3*P],V*l[3*P+1],V*l[3*P+2],V)}var T=s(e,g,f,v,a,u,x),b=u.slice(0,g+1);for(y=0;y<v;++y)b.push(e);b=b.concat(u.slice(g+1));var C,O=new Array(3*m*(E+v)),L=new Array(m*(E+v));for(_=0;_<m;++_){for(y=0;y<=R;++y)P=_*E+y,O[3*(C=_*(E+v)+y)]=l[3*P],O[3*C+1]=l[3*P+1],O[3*C+2]=l[3*P+2],L[C]=h[P];for(y=0;y<T[_].length;++y){C=_*(E+v)+(y+R+1);var S=T[_][y];O[3*C]=S[0]/S[3],O[3*C+1]=S[1]/S[3],O[3*C+2]=S[2]/S[3],L[C]=S[3]}for(y=A;y<E;++y)P=_*E+y,O[3*(C=_*(E+v)+(y+v))]=l[3*P],O[3*C+1]=l[3*P+1],O[3*C+2]=l[3*P+2],L[C]=h[P]}return{vknots:b,P:O,weights:d?L:void 0}},t.extractBSurfaceParamLineU=function(e,t,r,n,a,c,u){var l=u&&u.length>0,h=(0,i.findKnotSpanAndMultiplicity)(e,a);e=h.knot;var d,p,g,f=h.span,v=e===a[a.length-1],_=v?r+1:h.multiplicity,y=r-_,m=n.length-t-1,E=a.length-r-1,x=new Array(3*m),R=new Array(m);if(_>=r)for(p=v?E-1:f-r,d=0;d<m;++d)g=d*E+p,x[3*d]=c[3*g],x[3*d+1]=c[3*g+1],x[3*d+2]=c[3*g+2],R[d]=l?u[g]:1;else{var A=new Array(m),P=f-r,V=f-_;for(d=0;d<m;++d)for(A[d]=new Array(V-P+1),p=P;p<=V;++p){g=d*E+p;var T=l?u[g]:1;A[d][p-P]=o.Vector4.createFloat64FromValues(T*c[3*g],T*c[3*g+1],T*c[3*g+2],T)}var b=s(e,f,_,y,r,a,A);for(p=y-1,d=0;d<m;++d){var C=b[d][p];x[3*d]=C[0]/C[3],x[3*d+1]=C[1]/C[3],x[3*d+2]=C[2]/C[3],R[d]=C[3]}}return{ctrlPts:x,weights:l?R:void 0}},t.extractBSurfaceParamLineV=function(e,t,r,n,a,c,u){var l=u&&u.length>0,h=(0,i.findKnotSpanAndMultiplicity)(e,n);e=h.knot;var d,p,g,f=h.span,v=e===n[n.length-1],_=v?t+1:h.multiplicity,y=t-_,m=n.length-t-1,E=a.length-r-1,x=new Array(3*E),R=new Array(E);if(_>=t)for(d=v?m-1:f-t,p=0;p<E;++p)g=d*E+p,x[3*p]=c[3*g],x[3*p+1]=c[3*g+1],x[3*p+2]=c[3*g+2],R[p]=l?u[g]:1;else{var A=new Array(E),P=f-t,V=f-_;for(p=0;p<E;++p)for(A[p]=new Array(V-P+1),d=P;d<=V;++d){g=d*E+p;var T=l?u[g]:1;A[p][d-P]=o.Vector4.createFloat64FromValues(T*c[3*g],T*c[3*g+1],T*c[3*g+2],T)}var b=s(e,f,_,y,t,n,A);for(d=y-1,p=0;p<E;++p){var C=b[p][d];x[3*p]=C[0]/C[3],x[3*p+1]=C[1]/C[3],x[3*p+2]=C[2]/C[3],R[p]=C[3]}}return{ctrlPts:x,weights:l?R:void 0}}},4336:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.TessellationCache=t.CurveTessellator=void 0;var o=r(1972),i=r(2468),n=r(5896),s=r(6120),a={};a.getCircularArcRenderPoints=function(e,t,r,o,i){var n=e.getRadius(),s=2*Math.acos((n-r)/n),a=t[1]-t[0],c=Math.ceil(a/s),u=0;for(!1===o&&u++;u<=c;++u){var l=u/c,h=t[0]*(1-l)+t[1]*l;i.push(e.evaluatePosition(h))}return n*(1-Math.cos(a/c*.5))},a.getAdaptiveRenderPoints=function(e,t,r,n){for(var a=t||.001,c=a*a,u=[],l=[],h=o.Vector3.createFloat64(),d=0,p=function(t,r,n,a,g){var f=n-t,v=.5*(t+n),_=e.evaluatePosition(v);o.Vector3.scaleAndAdd(h,[0,0,0],r,.5),o.Vector3.scaleAndAdd(h,h,a,.5);var y=o.Vector3.squaredDistance(h,_);if(g>64)s.DebugUtils.warn(\"Max recursion depth reach in getAdaptiveRenderPoints\");else if(f>10*i.PARAMETER_SPACE_TOLERANCE&&y>c)return p(t,r,v,_,g+1),void p(v,_,n,a,g+1);d=Math.max(d,y),u.push(r),l.push(t)},g=n||function(e,t,r){for(var o=new Array(e),i=t,n=(r-t)/(e-1),s=0;s<e;s++){var a=i;s>0&&s<e-1&&(a+=Math.sin(s)*n*.1),o[s]=a,i+=n}return o}(7,r[0],r[1]),f=0;f<g.length-1;++f){var v=g[f],_=g[f+1],y=e.evaluatePosition(v),m=e.evaluatePosition(_);p(v,y,_,m,0),f===g.length-2&&(u.push(m),l.push(_))}return{positions:u,params:l,tolerance:Math.sqrt(d)}};var c=function(){this._hasDirtyTessellation=!0,this._tessellationCache=void 0,this._trimmedTessellationCache={positions:void 0,offsets:void 0,transitions:[1,-1]}};c.prototype.setDirty=function(e){this._hasDirtyTessellation=e},c.prototype.isDirty=function(){return this._hasDirtyTessellation},c.prototype.reset=function(){this._hasDirtyTessellation=!0,this._tessellationCache=void 0,this._trimmedTessellationCache={positions:void 0,offsets:void 0,transitions:[1,-1]}},c.prototype.setCache=function(e){this._tessellationCache=e,this._hasDirtyTessellation=!1},c.prototype.getCache=function(){return this._tessellationCache},c.prototype.getTolerance=function(){if(this._tessellationCache)return this._tessellationCache.tolerance},c.prototype.getTessellation=function(e,t,r,s){var a=!1;if(!1===this._hasDirtyTessellation&&this._tessellationCache.tolerance>r+o.FLOAT64_TOLERANCE&&(this._hasDirtyTessellation=!0),this._hasDirtyTessellation){this._hasDirtyTessellation=!1;var c=s(r);this._tessellationCache={positions:c.positions,params:c.params,tolerance:c.tolerance},a=c.didRetessellate}var u=[e[0],e[e.length-1]],l=0,h=t.getRangeUnlimited();t.isPeriodicUnlimited()&&(l=(u=(0,n.normalizeParametricRangeToShiftedRange)(u,h))[0]-e[0]);var d=this._trimmedTessellationCache,p=d.transitions[0]-u[0],g=d.transitions[d.transitions.length-1]-u[1],f=p*p+g*g<o.FLOAT64_TOLERANCE;if(f&&e.length>2){f=d.transitions.length===e.length;for(var v=1;f&&v<e.length-1;++v)f=d.transitions[v-1]===e[v-1]+l}if(!f||a){var _;for(d.transitions.length=e.length,_=0;_<e.length;++_)d.transitions[_]=e[_]+l;d.positions=[t.evaluatePosition(e[0])],d.offsets=[0];var y,m,E=1,x=u[0];for(_=1;_<e.length;_++){var R=e[_]+l;for(m=0;m<this._tessellationCache.positions.length;m++)if((y=this._tessellationCache.params[m])>x+i.PARAMETER_SPACE_TOLERANCE){if(y>=R-i.PARAMETER_SPACE_TOLERANCE)break;o.Vector3.sqrDist(d.positions[E-1],this._tessellationCache.positions[m])>i.KERNEL_TOLERANCE*i.KERNEL_TOLERANCE&&(d.positions[E++]=o.Vector3.clone(this._tessellationCache.positions[m]))}if(t.isPeriodicUnlimited()&&R>h[1])for(m=1;m<this._tessellationCache.positions.length&&(y=this._tessellationCache.params[m])<R-(h[1]-h[0])-i.PARAMETER_SPACE_TOLERANCE;m++)o.Vector3.sqrDist(d.positions[E-1],this._tessellationCache.positions[m])>i.KERNEL_TOLERANCE*i.KERNEL_TOLERANCE&&(d.positions[E++]=o.Vector3.clone(this._tessellationCache.positions[m]));var A=t.evaluatePosition(R);o.Vector3.sqrDist(d.positions[E-1],A)<i.KERNEL_TOLERANCE*i.KERNEL_TOLERANCE&&E>d.offsets[d.offsets.length-1]+1&&E--,d.positions[E++]=A,d.offsets.push(d.positions.length-1),x=R}}return{positions:d.positions,offsets:d.offsets,tolerance:this._tessellationCache.tolerance}},t.CurveTessellator=a,t.TessellationCache=c},1e3:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.invertIntegral1D=t.integrateFunction1D=t.newtonRaphson1D=void 0;var o,i,n,s=r(2468),a=r(5896),c=r(6120),u=(o=[.9914553711208126,.9491079123427585,.8648644233597691,.7415311855993945,.5860872354676911,.4058451513773972,.20778495500789848,0],i=[.022935322010529224,.06309209262997856,.10479001032225019,.14065325971552592,.1690047266392679,.19035057806478542,.20443294007529889,.20948214108472782],n=[.1294849661688697,.27970539148927664,.3818300505051189,.4179591836734694],function(e,t,r){var a=function(e,t,r){for(var s=.5*(t+r),a=.5*(r-t),c=e(s),u=c*i[7],l=c*n[3],h=0;h<7;++h){var d=a*o[h],p=e(s-d)+e(s+d);u+=p*i[h],h%2==1&&(l+=p*n[Math.floor(h/2)])}var g=200*Math.abs(u-l)*a;return{length:u*a,error:g*=Math.sqrt(g)}}(e,t[0],t[1]);if(void 0===r)r=0;else if(r>8)return c.DebugUtils.warn(\"Max depth reached in integrateFunction1D!\"),a.length;if(a.error>s.KERNEL_TOLERANCE){var l=.5*(t[0]+t[1]);return u(e,[t[0],l],r+1)+u(e,[l,t[1]],r+1)}return a.length});t.newtonRaphson1D=function(e,t,r,o,i){var n,s=r;t&&(s=(0,a.clamp)(s,t[0],t[1]));var u=0;do{++u;var l=e(s),h=s-l.val/l.deriv;t&&(h=(0,a.clamp)(h,t[0],t[1])),n=Math.abs(h-s),s=h}while(n>o&&u<i);return u>=i&&c.DebugUtils.warn(\"Maximum number of iterations reached. Something wrong is going on here !!!\"),s},t.integrateFunction1D=u,t.invertIntegral1D=function(e,t,r){var o=s.KERNEL_TOLERANCE,i=u(e,r);if(t<o)return r[0];if(t>i-o)return r[1];for(var n=r[0],c=r[1],l=t;c-n>s.PARAMETER_SPACE_TOLERANCE;){var h=l/i,d=n+(h=(0,a.clamp)(h,.01,.99))*(c-n),p=u(e,[n,d]),g=i-(p=(0,a.clamp)(p,0,i));if(Math.abs(l-p)<o)return d;p>l?(c=d,i=p):(n=d,l-=p,i=g)}return.5*(n+c)}},880:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.newtonRaphson2D=t.RelaxResult=void 0;var o=r(1972),i=function(){},n={};n[n.Success=0]=\"Success\",n[n.OutOfRange=1]=\"OutOfRange\",n[n.DegenerateStep=2]=\"DegenerateStep\",n[n.TooManySteps=3]=\"TooManySteps\",n[n.RootNotFound=4]=\"RootNotFound\";t.RelaxResult=n,t.newtonRaphson2D=function(e,t,r,s,a){s=s||1e-12,a=a||100;var c=[void 0,void 0];r&&2===r.length&&(r[0]&&2===r[0].length&&(c[0]=r[0]),r[1]&&2===r[1].length&&(c[1]=r[1])),i(\"Newton-Raphson 2D:\"),i(\"  range u: \"+(c[0]?\"[\"+c[0][0]+\",\"+c[0][1]+\"]\":\"none\")),i(\"  range v: \"+(c[1]?\"[\"+c[1][0]+\",\"+c[1][1]+\"]\":\"none\"));for(var u=[0,0],l=1/0,h=1/0,d=!1,p=o.Matrix22.createFloat64(),g=o.Matrix22.createFloat64(),f=o.Vector2.clone(t),v=n.Success,_=0;_<=a;_++){var y=e(f);if(l=o.Vector2.squaredLength(y.val),i(\"Step \"+_+\": uv=(\"+f[0]+\",\"+f[1]+\"), error=\"+l),l<o.FLOAT64_TOLERANCE*o.FLOAT64_TOLERANCE){i(\"  zero error, stopping\"),v=n.Success;break}if(_>0){var m=Math.max(Math.abs(u[0]),Math.abs(u[1]));if(m<s){i(\"  step (\"+m+\") smaller than tolerance (\"+s+\"), stopping\"),l>=h&&(i(\"  previous step had smaller error, returning that\"),o.Vector2.sub(f,f,u),l=h,y=e(f));var E=10*s*(o.Vector2.len(y.deriv1)+o.Vector2.len(y.deriv2)),x=E*E;l>x?(i(\"  final error is greater than tolerance (\"+x+\")\"),d?(i(\"  stopped on a boundary, root may be out of range\"),v=n.OutOfRange):(i(\"  final point is not a root\"),v=n.RootNotFound)):v=n.Success;break}}if(_===a){i(\"  reached maximum iterations, stopping\"),l>=h&&(i(\"  previous step had smaller error, returning that\"),o.Vector2.sub(f,f,u),l=h),v=n.TooManySteps;break}if(_>0&&l>=h){var R=h/(h+l);R=Math.max(R,.1),i(\"  error has increased, reducing previous step by factor \"+R),o.Vector2.sub(f,f,u),o.Vector2.scale(u,u,R),o.Vector2.add(f,f,u),l=h}else{if(h=l,o.Matrix22.set(p,-y.deriv1[0],-y.deriv1[1],-y.deriv2[0],-y.deriv2[1]),Math.abs(o.Matrix22.determinant(p))<o.FLOAT64_TOLERANCE){i(\"  matrix is singular, stopping\"),v=n.DegenerateStep;break}o.Matrix22.invert(g,p),o.Vector2.transformMatrix22(u,y.val,g),i(\"  new step duv=(\"+u[0]+\",\"+u[1]+\")\"),o.Vector2.add(f,f,u),d=!1;for(var A=0;A<3;A++){var P=A>=2,V=A%2;if(c[V]){var T=0;if(f[V]<c[V][0]?(T=f[V]-c[V][0],f[V]=c[V][0]):f[V]>c[V][1]&&(T=f[V]-c[V][1],f[V]=c[V][1]),0!==T){i(\"  out-of-range, boundary \"+(0===V?\"u\":\"v\")+\"=\"+f[V]);var b=u[V];if(u[V]-=T,P)i(\"  clamping \"+(0===V?\"u\":\"v\")+\" to boundary\");else{var C=1-V;if(f[C]-=u[C],Math.abs(u[V])>s){var O=u[V]/b;i(\"  shrinking step by factor \"+O+\" to land on boundary\"),u[C]*=O}else{i(\"  clamping \"+(0===V?\"u\":\"v\")+\" to boundary\"),i(\"  cannot step to solution, minimizing error along boundary instead\"),d=!0;var L=0===C?y.deriv1:y.deriv2;u[C]=-o.Vector2.dot(y.val,L)/Math.max(o.Vector2.dot(L,L),o.FLOAT64_TOLERANCE)}f[C]+=u[C],i(\"  modified step duv=(\"+u[0]+\",\"+u[1]+\")\")}}}}}}return i(\"Result: \"+n[v]+\", uv=(\"+f[0]+\",\"+f[1]+\")\"),{param:f,status:v}}},6704:(e,t)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=16777619,o=function(e,t){if(t<1)return\"\";for(var r=\"\";t>1;)1&t&&(r+=e),t>>=1,e+=e;return r+e},i={isInitialized:!1,rngA:4027999010,rngB:3993266363,rngC:3605298456,rotl32:function(e,t){return(e<<t>>>0|e>>>32-t)>>>0},initialize:function(e,t){if(i.isInitialized&&!t)return 0;var r;(i.isInitialized&&(i.rngA=4027999010,i.rngB=3993266363,i.rngC=3605298456),i.isInitialized=!0,void 0!==e)?r=e:(r=(new Date).getTime(),r^=Math.floor(2147483647*Math.random()+1));return i.rngA+=2097151&r,i.rngB+=r>>7&524287,i.rngC+=r>>13,r},genRandUInt32:function(){return i.rngA=~(2911329625*i.rngA),i.rngA=i.rotl32(i.rngA,17),i.rngB=4031235431*i.rngB,i.rngB=i.rotl32(i.rngB,15),i.rngC=3286325185-i.rotl32(i.rngC,19),i.rngA+i.rngB^i.rngC}},n=function(e){for(var t=\"\",r=0;r<4;r++){var i=e[r].toString(16);t+=o(\"0\",8-i.length)+i}return t.substr(0,8)+\"-\"+t.substr(8,4)+\"-\"+t.substr(12,4)+\"-\"+t.substr(16,4)+\"-\"+t.substr(20,12)},s=function(e,t){var r=t;return void 0===r&&(r=new Uint32Array(4)),r[0]=parseInt(\"0x\"+e.substr(0,8),16),r[1]=parseInt(\"0x\"+e.substr(9,4)+e.substr(14,4),16),r[2]=parseInt(\"0x\"+e.substr(19,4)+e.substr(24,4),16),r[3]=parseInt(\"0x\"+e.substr(28,8),16),r},a=function(e,t){var o=new Uint32Array(t);return o[0]+=2654435769,o[1]+=104395303,o[2]+=452930477,o[3]+=982451653,o[0]+=e[3]<<6,o[1]+=e[0]<<6,o[2]+=e[1]<<6,o[3]+=e[2]<<6,o[0]+=e[2]>>2,o[1]+=e[3]>>2,o[2]+=e[0]>>2,o[3]+=e[1]>>2,o[0]=(o[0]^e[1])*r>>>0,o[1]=(o[1]^e[2])*r>>>0,o[2]=(o[2]^e[3])*r>>>0,o[3]=(o[3]^e[0])*r>>>0,o};i.initialize(),t.uint32x4ToGUID=n,t.guidToUint32x4=s,t.generateGUID=function(){var e=new Uint32Array(4);return e[0]=i.genRandUInt32(),e[1]=i.genRandUInt32(),e[2]=i.genRandUInt32(),e[3]=i.genRandUInt32(),n(e)},t.isGUID=function(e){return/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(e)},t.combineGuids=function(e,t){var r=s(e),o=s(t),i=a(r,o);return n(i)},t.hashCombine4xUint32=a},5896:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.definePlaneThroughPoints=t.getPlaneTransforms=t.limitRange=t.PI2=t.sortedIndex=t.clamp=t.orient2D=t.signedDistanceTo2DLine=t.intersectIntervals=t.solveTwoEquationsTwoVariables=t.closestPointToTriangle=t.closestPointToPolyline=t.distancePointToLineSegment=t.projectPointToLineSegment=t.angleDifference=t.periodicDifference=t.minMaxCosSinFunc=t.convertToOtherPeriodicRange=t.adjustParameterToPeriodicRange=t.getShortestParametricRange=t.isParameterWithinPeriodicRange=t.normalizeSegmentsToPeriodicRange=t.normalizeParametricRange=t.normalizeParametricRangeToShiftedRange=t.normalizeParameterToShiftedRange=t.adjustAngleToRange=t.normalizeAngleRange=t.normalizeAngle=t.normalizeParameter=t.foldNearTo=t.foldAbove=t.fold=t.modulus=t.getSignedAngle=t.isPointInsidePolygon2D=t.binomialCoefficients=void 0;var o=r(1972),i=r(2468),n=r(4728),s=2*Math.PI,a=[];!function(){for(var e=0;e<8;++e){a[e]=[1];for(var t=1;t<e;++t)a[e][t]=a[e-1][t-1]+a[e-1][t];a[e][e]=1}}();var c=function(e,t,r){return Math.min(Math.max(t,e),r)},u=function(e,t){return e-t*Math.floor(e/t)},l=function(e,t){var r=e%t;return r<0?r+t:r},h=function(e,t,r){return l(e-t,r)+t},d=function(e,t){return e<0?t+e%t:e%t},p=function(e,t){return d(e-t[0],t[1]-t[0])+t[0]},g=function(e,t){n.ConsoleUtils.assert(e[1]>=e[0],\"normalizeParametricRange: in_range ends not in order.\");var r=e[1]-e[0],o=d(e[0],t);return[o,o+r]},f=function(e,t,r,o,i){if(!isFinite(r))return e;var n=g(t,r),s=d(e,r),a=s+r;if(o=!!o,s>=n[0]&&s<=n[1])return t[0]+(s-n[0]);if(a>=n[0]&&a<=n[1])return t[0]+(a-n[0]);var c=Math.abs(n[0]-s),u=Math.abs(s-n[1]),l=Math.abs(n[0]-a),h=Math.abs(a-n[1]);return i?Math.min(c,l)<Math.min(u,h)?t[0]:t[1]:Math.min(c,u)>Math.min(l,h)&&!o?t[0]+(a-n[0]):t[0]+(s-n[0])},v=function(e,t,r){var o=Math.abs(e-t);return isFinite(r)&&(o%=r)>r/2?r-o:o},_=function(e,t,r){var n=o.Vector3.sub(o.Vector3.createFloat64(),t,e),s=o.Vector3.dot(n,n);if(s<i.KERNEL_TOLERANCE*i.KERNEL_TOLERANCE)return 0;var a=o.Vector3.sub(o.Vector3.createFloat64(),r,e);return o.Vector3.dot(a,n)/s};t.binomialCoefficients=a,t.isPointInsidePolygon2D=function(e,t){for(var r=!1,o=t.length,i=0,n=o-2;i<o;i+=2)t[i+1]>e[1]!=t[n+1]>e[1]&&e[0]<(t[n]-t[i])*(e[1]-t[i+1])/(t[n+1]-t[i+1])+t[i]&&(r=!r),n=i;return r},t.getSignedAngle=function(e,t){var r=c(o.Vector2.dot(e,t),-1,1),i=t[0]*e[1]-t[1]*e[0];return 0===i?.5*Math.PI*(r-1):i<0?-Math.acos(r):Math.acos(r)},t.modulus=u,t.fold=l,t.foldAbove=h,t.foldNearTo=function(e,t,r){return h(e,t-r/2,r)},t.normalizeParameter=d,t.normalizeAngle=function(e){return d(e,s)},t.normalizeAngleRange=function(e){return g(e,2*Math.PI)},t.adjustAngleToRange=function(e,t){return f(e,t,2*Math.PI)},t.normalizeParameterToShiftedRange=p,t.normalizeParametricRangeToShiftedRange=function(e,t){n.ConsoleUtils.assert(e[1]>=e[0],\"normalizeParametricRangeToShiftedRange: in_range ends not in order.\");var r=e[1]-e[0],o=p(e[0],t);return[o,o+r]},t.normalizeParametricRange=g,t.normalizeSegmentsToPeriodicRange=function(e,t,r,o,n){for(var s=void 0!==o?o:i.KERNEL_TOLERANCE,a=void 0!==n?n:t[1]-t[0],c=[],u=0;u<e.length;u++){var l=p(e[u][0],t),h=e[u][1]-e[u][0];if(h>=a)return[[t[0],t[1]]];var d=l+h;d<t[1]?c.push([l,d]):(c.push([l,t[1]]),c.push([t[0],d-t[1]+t[0]]))}var g=[];c.sort((function(e,t){return e[0]-t[0]}));for(u=0;u<c.length;u++){for(var f=c[u];u+1<c.length&&c[u+1][0]<f[1];)f[1]=Math.max(f[1],c[u+1][1]),u++;(Math.abs(f[1]-f[0])>s||!r)&&g.push(f)}return g},t.isParameterWithinPeriodicRange=function(e,t,r,o){var i=f(e,t,r);return o=o||0,i>t[0]-o&&i<t[1]+o},t.getShortestParametricRange=function(e,t,r){if((e=d(e,r))>(t=d(t,r))){var o=e;e=t,t=o}return e-t+r<t-e?[t,e+r]:[e,t]},t.adjustParameterToPeriodicRange=f,t.convertToOtherPeriodicRange=function(e,t,r,o){if(!isFinite(r))return n.ConsoleUtils.assert(e[0]>=t[0]-o,\"The start of the input range doesn't lie in the target range.\"),n.ConsoleUtils.assert(e[1]<=t[1]+o,\"The input range doesn't lie within the target range.\"),e;if(o=o||0,e[1]-e[0]>=r-o)return t[1]-t[0]<r-o&&console.error(\"The input range is larger than the target range.\"),t;var i=f(e[0],t,r);n.ConsoleUtils.assert(i>=t[0]-o,\"The start of the input range doesn't lie in the target range.\");var s=i+e[1]-e[0];return n.ConsoleUtils.assert(s<=t[1]+o,\"The input range doesn't lie within the target range.\"),[i,s]},t.minMaxCosSinFunc=function(e,t,r,o){if(0===e&&0===t)return[r,r];var i,n=g(o,2*Math.PI),s=f(Math.atan(t/e),n,Math.PI,!0),a=[];for(i=0;i<3;++i)n[0]<=s&&n[1]>=s&&a.push(e*Math.cos(s)+t*Math.sin(s)),s+=Math.PI;if(o[1]-o[0]<2*Math.PI)for(i=0;i<2;i++)a.push(e*Math.cos(o[i])+t*Math.sin(o[i]));return[Math.min.apply(null,a)+r,Math.max.apply(null,a)+r]},t.periodicDifference=v,t.angleDifference=function(e,t){return v(e,t,2*Math.PI)},t.projectPointToLineSegment=_,t.distancePointToLineSegment=function(e,t,r,i){var n=_(e,t,r);n=c(n,0,1);var s=i||o.Vector3.createFloat64();return o.Vector3.lerp(s,e,t,n),o.Vector3.distance(s,r)},t.closestPointToPolyline=function(e,t,r,i,n){for(var s=\"number\"==typeof t[0],a=s?t.length/3:t.length,u=void 0,l=Number.POSITIVE_INFINITY,h=o.Vector3.createFloat64(),d=0;d<a-1;++d){var p=r?r[d]:d,g=r?r[d+1]:d+1,f=0,v=1;if(!(i&&(i[0]>p&&(f=(i[0]-p)/(g-p)),i[1]<g&&(v=(i[1]-p)/(g-p)),v<f))){var y,m;s?(y=[t[3*d],t[3*d+1],t[3*d+2]],m=[t[3*d+3],t[3*d+4],t[3*d+5]]):(y=t[d],m=t[d+1]);var E=_(y,m,e);E=c(E,f,v),o.Vector3.lerp(h,y,m,E);var x=o.Vector3.squaredDistance(h,e);x<l&&(u=(1-E)*p+E*g,l=x,n&&o.Vector3.copy(n,h))}}return u},t.closestPointToTriangle=function(e,t,r,n,s){var a,u,l=o.Vector3.sub(o.Vector3.createFloat64(),r,t),h=o.Vector3.sub(o.Vector3.createFloat64(),n,t),d=o.Vector3.sub(o.Vector3.createFloat64(),e,t),p=o.Vector3.squaredLength(l),g=o.Vector3.squaredLength(h),f=o.Vector3.dot(l,h),v=o.Vector3.dot(d,l),y=o.Vector3.dot(d,h);if(p<i.KERNEL_TOLERANCE*i.KERNEL_TOLERANCE&&g<i.KERNEL_TOLERANCE*i.KERNEL_TOLERANCE)a=u=0;else if(p<i.KERNEL_TOLERANCE*i.KERNEL_TOLERANCE)a=0,u=c(y/g,0,1);else if(g<i.KERNEL_TOLERANCE*i.KERNEL_TOLERANCE)a=c(v/p,0,1),u=0;else{var m=o.Matrix22.createFloat64FromValues(p,f,f,g);if(Math.abs(o.Matrix22.determinant(m))>o.FLOAT64_TOLERANCE){o.Matrix22.invert(m,m);var E=[v,y];o.Vector2.transformMatrix22(E,E,m),a=E[0],u=E[1]}else u=y/g,(a=v/p)<=0||u<=0?(a=c(a,0,1),u=c(u,0,1)):a<u?(a=c(a,0,1),u=0):(a=0,u=c(u,0,1))}if(a<0&&y>=0&&y<=g&&(a=0,u=y/g),u<0&&v>=0&&v<=p&&(a=v/p,u=0),a+u>1){var x=_(r,n,e);x>=0&&x<=1&&(a=1-x,u=x)}if(a<0||u<0||a+u>1){var R=o.Vector3.squaredLength(d),A=o.Vector3.squaredDistance(e,r),P=o.Vector3.squaredDistance(e,n);A<=R&&A<=P?(a=1,u=0):P<=R&&P<=A?(a=0,u=1):a=u=0}return s&&(o.Vector3.scaleAndAdd(s,t,l,a),o.Vector3.scaleAndAdd(s,s,h,u)),{coordA:a,coordB:u}},t.solveTwoEquationsTwoVariables=function(e){var t=e[0][0],r=e[0][1],o=e[1][0],i=e[1][1],n=t*i-r*o;if(0!==n){var s=i*e[0][2]-r*e[1][2],a=-o*e[0][2]+t*e[1][2];return[s/=n,a/=n]}},t.intersectIntervals=function(e,t,r){r=r||0;for(var o=[],i=0;i<e.length;i++)for(var n=0;n<t.length;n++){var s=Math.max(e[i][0],t[n][0]),a=Math.min(e[i][1],t[n][1]);a-r>s&&(a>s?o.push([s,a]):o.push([a,a]))}return o},t.signedDistanceTo2DLine=function(e,t,r){var o=r[0]-e[0],i=r[1]-e[1];return t[1]*o-t[0]*i},t.orient2D=function(e,t,r){var o=e[0]-r[0],i=t[0]-r[0],n=e[1]-r[1];return o*(t[1]-r[1])-n*i},t.clamp=c,t.sortedIndex=function(e,t){for(var r=0,o=e.length;o>r;){var i=Math.floor((r+o)/2);t>e[i]?r=i+1:o=i}return o},t.PI2=s,t.limitRange=function(e,t,r,i){if(n.ConsoleUtils.assert(2===t.length),n.ConsoleUtils.assert(t[0]<=t[1]),r)return t[1]-t[0]<i+o.FLOAT64_TOLERANCE?[t[0],t[1]]:(console.warn(\"limitRange : in_limitRange length cannot be greater than in_period\"),[t[0],t[0]+i]);var s=Math.max(e[0],t[0]),a=Math.min(e[1],t[1]);return s>a&&(s>a+o.FLOAT64_TOLERANCE&&console.warn(\"limitRange : requested range must overlap in_oldRange\"),s=a=t[0]>e[1]?e[1]:e[0]),[s,a]},t.getPlaneTransforms=function(e){var t,r,i=e.evaluateDu(0,0),n=e.evaluateDv(0,0),s=e.getOrigin();if(!o.Vector3.isParallel(i,[1,0,0],1)||!o.Vector3.isParallel(n,[0,1,0],1)||Math.abs(s[2])>o.FLOAT64_TOLERANCE){var a=e.evaluateNormal(0,0);t=o.Matrix44.createFloat64FromValues(i[0],i[1],i[2],0,n[0],n[1],n[2],0,a[0],a[1],a[2],0,s[0],s[1],s[2],1),r=o.Matrix44.createFloat64(),o.Matrix44.invert(r,t)}return{uvToThreeSpace:t,threeSpaceToUV:r}},t.definePlaneThroughPoints=function(e){var t,r,n,s=[0,0,0],a=[0,0,0];if(!(e.length<3)){var c=[0,0,0];for(t=0;t<e.length;++t)o.Vector3.add(c,c,e[t]);o.Vector3.scale(c,c,1/e.length);var l=[0,0,0];r=0;var h=0,d=0;for(t=0;t<e.length;++t){(n=o.Vector3.squaredDistance(c,e[t]))>d&&(d=n,h=t),(n/=100)>r&&(r=n,o.Vector3.sub(l,e[t],c));var p=(t+1)%e.length;(n=o.Vector3.squaredDistance(e[t],e[p]))>r&&(r=n,o.Vector3.sub(l,e[p],e[t]))}if(!(d<i.KERNEL_TOLERANCE*i.KERNEL_TOLERANCE)){o.Vector3.normalize(l,l);var g=[0,0,0];for(r=0,t=0;t<e.length;++t)o.Vector3.sub(s,e[t],c),o.Vector3.cross(s,s,l),(n=o.Vector3.squaredLength(s))>r&&(r=n,o.Vector3.copy(g,s));if(!(r<i.KERNEL_TOLERANCE*i.KERNEL_TOLERANCE)){o.Vector3.normalize(g,g);var f=e[h],v=e[u(h-1,e.length)],_=e[u(h+1,e.length)];o.Vector3.sub(s,v,f),o.Vector3.sub(a,_,f),o.Vector3.dot(o.Vector3.cross(a,a,s),g)<0&&o.Vector3.negate(g,g);var y=[0,0,0];o.Vector3.cross(y,g,l),o.Vector3.normalize(y,y);var m=Number.POSITIVE_INFINITY,E=Number.NEGATIVE_INFINITY,x=Number.POSITIVE_INFINITY,R=Number.NEGATIVE_INFINITY;for(t=0;t<e.length;++t){o.Vector3.sub(s,e[t],c);var A=o.Vector3.dot(s,l),P=o.Vector3.dot(s,y);m=Math.min(m,A),E=Math.max(E,A),x=Math.min(x,P),R=Math.max(R,P)}return{origin:c,normal:g,uAxis:l,vAxis:y,uRange:[m,E],vRange:[x,R]}}}}}},5416:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.SplineCurveHelper=void 0;var o=r(1972),i=r(2468),n=r(5896),s=r(6120),a=r(3888),c=r(48),u=r(5856),l=function(){};l.getApproxBezierParameterSpaceTolerance=function(e,t){var r=e.getDiagonal(),n=2*t/o.Vector3.length(r);return n<.01*i.PARAMETER_SPACE_TOLERANCE?.01*i.PARAMETER_SPACE_TOLERANCE:n};l.solve_cubic_uniqueRoots=function(e,t){var r=e[2]*e[2]-3*e[1],o=e[2]*(2*e[2]*e[2]-9*e[1])+27*e[0];if(0===o&&0===r)return t[0]=-e[2]/3,1;if(o*o/4<r*r*r){var i=-2*Math.sqrt(r),n=Math.acos(-o/(r*i));return t[0]=(i*Math.cos(n/3)-e[2])/3,t[1]=(i*Math.cos((n+2*Math.PI)/3)-e[2])/3,t[2]=(i*Math.cos((n-2*Math.PI)/3)-e[2])/3,3}var s=Math.pow(Math.abs(o)/2+Math.sqrt(o*o/4-r*r*r),1/3)/3;return o>0&&(s=-s),t[0]=s+r/(9*s)-e[2]/3,1};var h=function(e,t,r){return 6*((1-r)*(e[6+t]-2*e[3+t]+e[t])+r*(e[9+t]-2*e[6+t]+e[3+t]))},d=function(e,t){return 6*(e[9+t]-e[t]+3*(e[3+t]-e[6+t]))},p=function(e,t){var r=new Array(3);!function(e,t,r){r[0]=3*(e[3+t]-e[t]),r[1]=6*(e[t]+e[6+t]-2*e[3+t]),r[2]=3*(e[9+t]-e[t]+3*(e[3+t]-e[6+t]))}(e,t,r);var o,i=new Array(2),n=function(e,t){var r=e[1]*e[1]-4*e[2]*e[0];if(r<0)return 0;if(0===r)return t[0]=-.5*e[1]/e[2],1;var o=e[1]>0?-.5*(e[1]+Math.sqrt(r)):-.5*(e[1]-Math.sqrt(r));return t[0]=o/e[2],t[1]=e[0]/o,2}(r,i);2===n&&i[0]>i[1]&&(o=i[0],i[0]=i[1],i[1]=o);for(var s=[],a=0;a<n;a++)i[a]>0&&i[a]<1&&((o=Math.abs(h(e,t,i[a]))<1e-12)?(o=Math.abs(d(e,t))<1e-12)&&s.push(i[a]):s.push(i[a]));return s},g=function(e,t,r){return e+t[0]+t[1]*r+t[2]*r*r+t[3]*r*r*r};l.intersect_xAxis_NonRationalCubicBSpline_XYPlanar3D=function(e,t,r,o){var n=new Float64Array(4),s=new Float64Array(4);n[0]=t[0]-e[0],n[1]=3*(t[3]-t[0]),n[2]=3*(t[0]+t[6]-2*t[3]),n[3]=t[9]-t[0]+3*(t[3]-t[6]),s[0]=t[1]-e[1],s[1]=3*(t[4]-t[1]),s[2]=3*(t[1]+t[7]-2*t[4]),s[3]=t[10]-t[1]+3*(t[4]-t[7]);var a,c=s;if(Math.abs(c[3])>1e-4)c[0]/=c[3],c[1]/=c[3],c[2]/=c[3],c[3]=1,a=this.solve_cubic_uniqueRoots(c,r);else{var l=[].slice.call(c).reverse();0===l[0]&&(l=l.slice(1));var h=(0,u.getRealPolynomialRoots)(l);a=h.length;for(var d=0;d<a;d++)r[d]=h[d]}if(1===a)return(f=r[0])<0||f>1?0:(r[0]=g(e[0],n,f),1);d=0;for(var p=0;p<a;++p)(f=r[p])>=0&&f<=1&&(r[d]=g(e[0],n,f),++d);if(void 0!==o){var f,v;if(Math.abs(s[3])<1e-12)Math.abs(s[2])<1e-12?v=-1:(f=-s[1]/(2*s[2]),v=0);else{var _=2/3*s[2]/s[3];v=_*_/4-1/3*s[1]/s[3],f=-_/2}if(0===v)if(f<0||f>1){var y=g(e[0],s,0),m=g(e[0],s,1);Math.abs(y)>Math.abs(m)?o.push([g(e[0],n,0),y]):o.push([g(e[0],n,1),m])}else o.push([g(e[0],n,f),g(e[0],s,f)]);else if(v>0){for(p=0;p<2;p++)(f=-_/2+(0===p?-1:1)*Math.sqrt(v))<-i.PARAMETER_SPACE_TOLERANCE||f>1+i.PARAMETER_SPACE_TOLERANCE||(f=Math.max(Math.min(1,f),0),o.push([g(e[0],n,f),g(e[0],s,f)]));if(o.length>1&&o[0][0]>o[1][0]){var E=o[0];o[0]=o[1],o[1]=E}}}return d},l.isPointInsideSplineRegionXYPlanar3D=function(e,t,r){var i,s,a=new Float64Array(3),c=t.getBezierSegments();if(t.isRational()||!c||3!==t.getDegree()){for(var u=t.tessellate().positions,l=new Float64Array(2*u.length),h=0;h<u.length;++h)l[2*h]=u[h].x,l[2*h+1]=u[h].y;return(0,n.isPointInsidePolygon2D)(e,l)}var d,p=0,g=o.Vector3.createFloat64();for(h=0;h<c.length;++h){s=c[h].getControlPoints(),i=this.intersect_xAxis_NonRationalCubicBSpline_XYPlanar3D(e,s,a);for(var f=0;f<i;++f)o.Vector3.set(g,a[f],e[1],0),(d=t.closestToPointParam(g))>=r[0]&&d<=r[1]&&a[f]>e[0]&&++p}var v=t.evaluatePosition(r[0]),_=t.evaluatePosition(r[1]),y=o.Vector3.createFloat64();o.Vector3.normalize(y,o.Vector3.sub(y,_,v)),y[1]<0&&o.Vector3.negate(y,y);var m=o.Vector2.createFloat64FromValues(e[0],e[1]);return(0,n.signedDistanceTo2DLine)(v,y,m)<=0&&e[1]>=Math.min(v[1],_[1])&&e[1]<=Math.max(v[1],_[1])&&++p,1&p},l.insertKnot=function(e,t,r,o,i){var n,s,c,u=[],l=[],h=[],d=r.length/4,p=d+e+1,g=(0,a.findKnotSpanAndMultiplicity)(o,t),f=i-g.multiplicity;if(f<1)return{U:u=t.slice(),Pw:l=r.slice()};for(n=0;n<=g.span;++n)u[n]=t[n];for(n=1;n<=f;++n)u[g.span+n]=o;for(n=g.span+1;n<p;++n)u[n+f]=t[n];for(n=0;n<=g.span-e;++n)for(s=0;s<4;++s)l[4*n+s]=r[4*n+s];for(n=g.span-g.multiplicity;n<d;++n)for(s=0;s<4;++s)l[4*(n+f)+s]=r[4*n+s];for(n=0;n<=e-g.multiplicity;++n)for(s=0;s<4;++s)h[4*n+s]=r[4*(g.span-e+n)+s];for(var v=1;v<=f;++v){for(c=g.span-e+v,n=0;n<=e-v-g.multiplicity;++n){var _=(o-t[c+n])/(t[n+g.span+1]-t[c+n]);for(s=0;s<4;++s)h[4*n+s]=h[4*(n+1)+s]*_+h[4*n+s]*(1-_)}for(s=0;s<4;++s)l[4*c+s]=h[s],l[4*(g.span+f-v-g.multiplicity)+s]=h[4*(e-v-g.multiplicity)+s]}for(n=c+1;n<g.span-g.multiplicity;++n)for(s=0;s<4;++s)l[4*n+s]=h[4*(n-c)+s];return{U:u,Pw:l}},l.refineKnotVector=function(e,t,r,o){var n,s,c=[],u=[],l=r.length/4-1,h=o.length-1,d=l+e+1,p=(0,a.findKnotSpan)(o[0],t),g=(0,a.findKnotSpan)(o[h],t)+1;for(n=0;n<=p-e;++n)for(s=0;s<4;++s)u[4*n+s]=r[4*n+s];for(n=g-1;n<=l;++n)for(s=0;s<4;++s)u[4*(n+h+1)+s]=r[4*n+s];for(n=0;n<=p;++n)c[n]=t[n];for(n=g+e;n<=d;++n)c[n+h+1]=t[n];var f=g+e-1,v=g+e+h;for(n=h;n>=0;--n){for(;o[n]<=t[f]&&f>p;){for(s=0;s<4;++s)u[4*(v-e-1)+s]=r[4*(f-e-1)+s];c[v]=t[f],--v,--f}for(s=0;s<4;++s)u[4*(v-e-1)+1]=u[4*(v-e)+s];for(var _=1;_<=e;++_){var y=v-e+_,m=c[v+_]-o[n];if(Math.abs(m)<i.KERNEL_TOLERANCE)for(s=0;s<4;++s)u[4*(y-1)+s]=u[4*y+s];else for(m/=c[v+_]-t[f-e+_],s=0;s<4;++s)u[4*(y-1)+s]=u[4*(y-1)+s]*m+u[4*y+s]*(1-m)}c[v]=o[n],--v}return{U:c,Pw:u}};var f=function(e,t,r,i){var s=(0,n.projectPointToLineSegment)(t,r,e);return i&&(s=(0,n.clamp)(s,0,1)),o.Vector3.lerp(o.Vector3.createFloat64(),t,r,s)};l.validControlPolygon=function(e){for(var t=e.length/3,r=e.length,i=o.Vector3.createFloat64(),n=o.Vector3.createFloat64(),s=o.Vector3.createFloat64(),a=3,c=1;c<t-1;++c){o.Vector3.set(i,e[a],e[a+1],e[a+2]),o.Vector3.set(n,e[a-3],e[a-2],e[a-1]),o.Vector3.set(s,e[a+3],e[a+4],e[a+5]);var u=f(i,n,s,!1);if(o.Vector3.sub(i,i,u),c<t/2?o.Vector3.sub(n,[e[r-3],e[r-2],e[r-1]],u):o.Vector3.sub(n,[e[0],e[1],e[2]],u),o.Vector3.dot(i,n)>0)return!1;a+=3}return!0};var v,_,y,m,E,x,R,A,P,V,T,b,C=function(e){if(e)for(var t=0;t<e.length;++t)if(Math.abs(e[t]-1)>o.FLOAT64_TOLERANCE)return!0;return!1},O=(v=new Float64Array(4),_=new Float64Array(4),y=new Float64Array(4),m=new Float64Array(16),function(e,t,r,o,i){var n,s,a,c,u,l,h=1-r;if(v[0]=h*h*h,v[1]=3*r*h*h,v[2]=3*r*r*h,v[3]=r*r*r,_[0]=-3*h*h,_[1]=3*(r-1)*(3*r-1),_[2]=3*r*(2-3*r),_[3]=3*r*r,y[0]=6*h,y[1]=6*(3*r-2),y[2]=6*(1-3*r),y[3]=6*r,void 0===i?C(t):i){for(var d=0;d<4;++d)m[4*d+o]=e[3*d+o]*t[d],m[4*d+3]=t[d];for(n=m[o]*v[0],s=m[o]*_[0],a=m[o]*y[0],d=1;d<4;++d)n+=m[4*d+o]*v[d],s+=m[4*d+o]*_[d],a+=m[4*d+o]*y[d];for(c=m[3]*v[0],u=m[3]*_[0],l=m[3]*y[0],d=1;d<4;++d)c+=m[4*d+3]*v[d],u+=m[4*d+3]*_[d],l+=m[4*d+3]*y[d];n/=c,s/=u,a/=l}else for(n=e[o]*v[0],s=e[o]*_[0],a=e[o]*y[0],d=1;d<4;++d)n+=e[3*d+o]*v[d],s+=e[3*d+o]*_[d],a+=e[3*d+o]*y[d];return[n,s,a]}),L=function(e,t,r,o){var i=o;i[0]=r[0]-t[0],i[1]=r[1]-t[1];var n=i[0]*i[0]+i[1]*i[1],s=(e[0]-t[0])*i[0]+(e[1]-t[1])*i[1];if(0===n||s<=0)o[0]=e[0]-t[0],o[1]=e[1]-t[1],o[1]=o[0]*o[0]+o[1]*o[1],o[0]=0;else if(s>n)o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[1]=o[0]*o[0]+o[1]*o[1],o[0]=1;else{var a=s/n;o[0]=t[0]+a*i[0]-e[0],o[1]=t[1]+a*i[1]-e[1],o[1]=o[0]*o[0]+o[1]*o[1],o[0]=a}},S=function(e,t,r,o){var i=o;i[0]=r[0]-t[0],i[1]=r[1]-t[1],i[2]=r[2]-t[2];var n=i[0]*i[0]+i[1]*i[1]+i[2]*i[2],s=(e[0]-t[0])*i[0]+(e[1]-t[1])*i[1]+(e[2]-t[2])*i[2];if(0===n||s<=0)o[0]=e[0]-t[0],o[1]=e[1]-t[1],o[2]=e[2]-t[2],o[1]=o[0]*o[0]+o[1]*o[1]+o[1]*o[1],o[0]=0;else if(s>n)o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],o[1]=o[0]*o[0]+o[1]*o[1]+o[1]*o[1],o[0]=1;else{var a=s/n;o[0]=t[0]+a*i[0]-e[0],o[1]=t[1]+a*i[1]-e[1],o[2]=t[2]+a*i[2]-e[2],o[1]=o[0]*o[0]+o[1]*o[1]+o[2]*o[2],o[0]=a}};l.closestStartPoint=(P=new Float64Array(3),V=new Float64Array(3),T=new Float64Array(3),b=new Float64Array(2),function(e,t,r,o){if(r)for(b[0]=0,b[1]=1/0,R=t.points.length,A=0;A<R-3;A+=3)P[0]=t.points[A],P[1]=t.points[A+1],V[0]=t.points[A+3],V[1]=t.points[A+4],L(e,P,V,T),T[1]<b[1]&&(E=A/3,x=(1-T[0])*t.offset[E]+T[0]*t.offset[E+1],(!o||x>=o[0]&&x<=o[1])&&(b[0]=x,b[1]=T[1]));else for(b[1]=1/0,R=t.points.length,A=0;A<R-3;A+=3)P[0]=t.points[A],P[1]=t.points[A+1],P[2]=t.points[A+2],V[0]=t.points[A+3],V[1]=t.points[A+4],V[2]=t.points[A+5],S(e,P,V,T),T[1]<b[1]&&(E=A/3,x=(1-T[0])*t.offset[E]+T[0]*t.offset[E+1],(!o||x>=o[0]&&x<=o[1])&&(b[0]=x,b[1]=T[1]));return b[0]}),l.extremalParams=function(e,t){if(3!==e.getDegree())return s.DebugUtils.warn(\"SplineCurveHelper.extremalParams called with non-degree 3 curve\"),[];var r,n,a=e.getBezierSegments(),c=[];for(r=0;r<a.length;++r){var u=a[r].getControlPoints(),h=a[r].getWeights(),d=a[r].getKnotVector(),p=l.extremalParamsXYPlanarBezierCurve(u,h,t),g=[];for(n=0;n<p.length;n++)g.push(d[0]*(1-p[n])+d[d.length-1]*p[n]);c.push(g)}var f=[];for(r=0;r<a.length;++r)if(f=f.concat(c[r]),r<a.length-1||e.isPeriodicUnlimited()){var v=a[r],_=a[(r+1)%a.length],y=c[r],m=c[(r+1)%a.length],E=v.getRangeUnlimited()[1],x=_.getRangeUnlimited()[0],R=0===y.length||E-y[y.length-1]>i.PARAMETER_SPACE_TOLERANCE,A=0===m.length||m[0]-x>i.PARAMETER_SPACE_TOLERANCE;if(R&&A){var P=v.evaluateDt(E)[t],V=_.evaluateDt(x)[t];(Math.abs(P)<o.FLOAT64_TOLERANCE||Math.abs(V)<o.FLOAT64_TOLERANCE||Math.sign(P)!==Math.sign(V))&&f.push(E)}}return f},l.extremalParamsXYPlanarBezierCurve=function(e,t,r,o,i){var n=C(t);if(!n)return h=p(e,r);for(var s,a,c=1e-6,u=o||16,l=i||1e-12,h=[],d=void 0,g=0;g<8;g++){if(a=O(e,t,g/7,r,n),void 0!==d&&Math.sign(a[1])!==d){var f=(g-1+Math.abs(s)/(Math.abs(a[1])+Math.abs(s)))/7;h.push(f)}d=Math.sign(a[1]),s=a[1]}0===h.length&&(h[0]=0+l,h[1]=1-l),h.length>2&&console.error(\"More than two roots in the second derivative of a cubic polynomial. This should not happen.\");var v,_,y,m=[],E=[];for(g=0;g<h.length;g++){var x=0;do{++x,y=0!==(a=O(e,t,h[g],r,n))[2]?h[g]-a[1]/a[2]:h[g],v=Math.abs(a[1]),_=Math.abs(h[g]-y),h[g]=y}while((v>l||_>c)&&x<u);m[g]=v,E[g]=a[2]}for(g=0;g<h.length;g++)if(h[g]<0||h[g]>1||m[g]>l)h.splice(g,1),g--;else if(Math.abs(E[g])<c){var R=(O(e,t,h[g]+5e-7,r,n)[2]-O(e,t,h[g]-5e-7,r,n)[2])/c;Math.abs(R)>c&&(h.splice(g,1),g--)}if(2===h.length){if(Math.abs(h[0]-h[1])<c){var A=m[0]/(m[0]+m[1]);return[h[0]*(1-A)+h[1]*A]}return h}return h},l.evaluateNURBSCurvePointWithFactors=function(e,t,r,o,i,n){var s,u,l,h=(0,a.findKnotSpan)(i,t),d=(0,c.evaluateBasisFunctions)(h,i,e,t),p=new Float64Array(3),g=0,f=3*(h-e);for(n.rangeMin=h-e,n.rangeMax=h,u=0;u<=e;++u){for(s=o[h-e+u]*d[u],n.factors[u]=s,l=0;l<3;++l)p[l]+=r[f+l]*s;g+=s,f+=3}for(u=0;u<3;++u)p[u]/=g;for(u=0;u<=e;++u)n.factors[u]/=g;return p};var M=function(e,t,r,i,n,s,a,u,h,d,p,g,v){var _=.5*(r+n),y=(0,c.evaluateBCurvePoint)(_,e,t,a,h?u:void 0);if(g>v)p.push({offset:_,point:y});else{var m=f(y,i,s,!1),E=o.Vector3.squaredDistance(s,i),x=o.Vector3.squaredDistance(m,y);l.validControlPolygon(a)&&x<d*E?p.push({offset:_,point:y}):(M(e,t,r,i,_,y,a,u,h,d,p,g+1,v),M(e,t,_,y,n,s,a,u,h,d,p,g+1,v))}};l.renderNURBSCurve=function(e,t,r,n,s,a,u,l){var h=a||i.DEFAULT_CURVE_RESOLUTION,d=u||[t[0],t[t.length-1]];l=void 0===l||l;var p,g=C(n);if(s){var f,v,_=[];f=(0,c.evaluateBCurvePoint)(d[0],e,t,r,g?n:void 0),v=(0,c.evaluateBCurvePoint)(d[1],e,t,r,g?n:void 0),_.push({offset:d[0],point:f}),M(e,t,d[0],f,d[1],v,r,n,g,i.SPLINE_DISTANCE_TOLERANCE,_,0,4),_.push({offset:d[1],point:v}),p=new Array(4*_.length);for(var y=l?0:1,m=l?0:1;m<_.length;m++)p[y]=_[m].point[0],p[y+1]=_[m].point[1],p[y+2]=_[m].point[2],p[y+3]=_[m].offset,y+=4}else{for(var E=0,x=3;x<r.length;x+=3)E+=o.Vector3.distance([r[x-3],r[x-2],r[x-1]],[r[x],r[x+1],r[x+2]]);for(h=10*Math.round(E),l?(x=0,p=new Float32Array(3*h)):(x=1,p=new Float32Array(3*(h-1)));x<h;++x){var R,A=d[0]+(d[1]-d[0])*x/(h-1);R=(0,c.evaluateBCurvePoint)(A,e,t,r,g?n:void 0);for(var P=3*x,V=0;V<3;++V)p[P+V]=R[V]}}return p},l.evaluateCurve=function(e,t,r,o,n,s){if(n){var a=(0,c.evaluateBCurvePoint)(t[0],e,t,r,o),u=(0,c.evaluateBCurvePoint)(t[t.length-1],e,t,r,o),l=[];l.push({offset:t[0],point:a}),M(e,t,t[0],a,t[t.length-1],u,r,o,!0,i.SPLINE_DISTANCE_TOLERANCE,l,0,3),l.push({offset:t[t.length-1],point:u});for(var h=[],d=[],p=0;p<l.length;++p)h.push(l[p].offset),d.push(l[p].point[0],l[p].point[1],l[p].point[2])}else{var g=s||.01,f=t[0],v=0;h=[],d=[];do{var _=(0,c.evaluateBCurvePoint)(f,e,t,r,o);h[v]=f;for(p=0;p<3;++p)d[3*v+p]=_[p];++v,f+=g}while(f<=t[t.length-1])}return{offset:h,points:d}};var w=function(e,t,r){var o=new Float64Array(2);o[0]=r[0]-t[0],o[1]=r[1]-t[1];var i=o[0]*o[0]+o[1]*o[1];if(0===i)return o[0]=e[0]-t[0],o[1]=e[1]-t[1],o[0]*o[0]+o[1]*o[1];var n=(e[0]-t[0])*o[0]+(e[1]-t[1])*o[1];return n<0?(o[0]=e[0]-t[0],o[1]=e[1]-t[1]):n>i?(o[0]=e[0]-r[0],o[1]=e[1]-r[1]):(n/=i,o[0]=t[0]+n*o[0]-e[0],o[1]=t[1]+n*o[1]-e[1]),o[0]*o[0]+o[1]*o[1]},N=function(e,t){var r,o=!1,i=t.length;r=0;for(var n=i-3;r<i;r+=3)t[r+1]>e[1]!=t[n+1]>e[1]&&e[0]<(t[n]-t[r])*(e[1]-t[r+1])/(t[n+1]-t[r+1])+t[r]&&(o=!o),n=r;return o},F=function(e,t){for(var r,o=new Float64Array(2),i=Number.NEGATIVE_INFINITY,n=0;n<t.length;n+=3)o[0]=t[n]-e[0],o[1]=t[n+1]-e[1],(r=o[0]*o[0]+o[1]*o[1])>i&&(i=r);return i},I=function(e,t,r){for(var o,i=t.length,n=new Float64Array(2),s=new Float64Array(2),a=Number.POSITIVE_INFINITY,c=0;c<i-3;c+=3)n[0]=t[c],n[1]=t[c+1],s[0]=t[c+3],s[1]=t[c+4],(o=w(e,n,s))<a&&(a=o);return void 0!==r&&r&&(n[0]=t[i-3],n[1]=t[i-2],s[0]=t[0],s[1]=t[1],(o=w(e,n,s))<a&&(a=o)),a};l.closestSegmentsXYPlanar=function(e,t,r,o){for(var i=Number.POSITIVE_INFINITY,n=[],s=0;s<t.length;++s){var a,c=t[s],u=c.getRangeUnlimited();if(o){a=!1;for(var l=0;l<o.length;++l)if(u[1]>=o[l][0]&&u[0]<=o[l][1]){a=!0;break}}else a=!0;if(a){var h,d,p=r?r[s]:0,g=c.getControlPoints();N(e,g)?h=0:(h=I(e,g,!0),h=Math.max(0,h-p)),h<=i&&(d=F(e,g)+p,n.push({index:s,minDistSqr:h,maxDistSqr:d}),d<i&&(i=d))}}var f=[];for(s=0;s<n.length;++s)n[s].minDistSqr<=i&&f.push(n[s]);return f.sort((function(e,t){var r=e.minDistSqr-t.minDistSqr;return 0===r?e.maxDistSqr-t.maxDistSqr:r})),f},l.findKnotMultiplicity=function(e,t){for(var r=0,o=0;o<t.length;++o){if(t[o]>e+1e-8)return r;Math.abs(t[o]-e)<1e-8&&r++}return r},l.unclampCurve=function(e,t,r,o){var i,n,s,a,c,u=r.length/4-1,l=o||1;for(i=0;i<e-1;++i)for(t[e-i-1]=t[e-i]-(t[u-i+1]-t[u-i])*l,s=e-1,n=i;n>=0;--n){for(a=(t[e]-t[s])/(t[e+n+1]-t[s]),c=0;c<4;++c)r[4*n+c]=(r[4*n+c]-a*r[4*(n+1)+c])/(1-a);s-=1}for(t[0]=t[1]-(t[u-e+2]-t[u-e+1])*l,i=0;i<e-1;++i)for(t[u+i+2]=t[u+i+1]+(t[e+i+1]-t[e+i])*l,n=i;n>=0;--n)for(a=(t[u+1]-t[u-n])/(t[u-n+i+2]-t[u-n]),c=0;c<4;++c)r[4*(u-n)+c]=(r[4*(u-n)+c]-(1-a)*r[4*(u-n-1)+c])/a;t[u+e+1]=t[u+e]+(t[2*e]-t[2*e-1])*l},l.extractCurveSegment=function(e,t,r,o,i){var n=this.insertKnot(e,o,i,t,e);n=this.insertKnot(e,n.U,n.Pw,r,e);var s,c=(0,a.findKnotSpan)(t,n.U);for(o.length=n.U.length-(c-e),o[0]=t,s=1;s<o.length;++s)o[s]=n.U[s+c-e];var u=o.length-e-1,l=4*(n.Pw.length/4-u);for(i.length=n.Pw.length-l,s=0;s<i.length;++s)i[s]=n.Pw[s+l];c=(0,a.findKnotSpan)(r,o),o.length=c+1,o.push(r),i.length=4*(o.length-e-1)};var D=function(e,t,r,o){for(var i=0,n=0;n<4;++n)i+=(e[t+n]-r[o+n])*(e[t+n]-r[o+n]);return i=Math.sqrt(i)};l.removeKnot=function(e,t,r,o,n){if(t<=o[0]||t>=o[o.length-1])return 0;var s,c,u,l,h,d=[],p=e+1,g=(0,a.findKnotSpanAndMultiplicity)(t,o);if(g.multiplicity<1)return 0;for(var f,v,_,y,m=(2*g.span-g.multiplicity-e)/2,E=i.KERNEL_TOLERANCE,x=g.span-g.multiplicity,R=g.span-e,A=!1,P=[0,0,0,0],V=0;V<r;++V){for(f=R-1,h=0;h<4;++h)d[0+h]=n[4*f+h],d[4*(x+1-f)+h]=n[4*(x+1)+h];for(s=R,c=x,u=1,l=x-f,A=!1;c-s>V;){for(v=(t-o[s])/(o[s+p+V]-o[s]),_=(t-o[c-V])/(o[c+p]-o[c-V]),h=0;h<4;++h)d[4*u+h]=(n[4*s+h]-(1-v)*d[4*(u-1)+h])/v,d[4*l+h]=(n[4*c+h]-_*d[4*(l+1)+h])/(1-_);++s,++u,--c,--l}if(c-s<V)D(d,4*(u-1),d,4*(l+1))<=E&&(A=!0);else{for(v=(t-o[s])/(o[s+p+V]-o[s]),h=0;h<4;++h)P[h]=v*d[4*(u+V+1)+h]+(1-v)*d[4*(u-1)+h];D(n,4*s,P,0)<=E&&(A=!0)}if(!A)break;for(s=R,c=x;c-s>V;){for(h=0;h<4;++h)n[4*s+h]=d[4*(s-f)+h],n[4*c+h]=d[4*(c-f)+h];++s,--c}--R,++x}if(0===V)return 0;for(y=g.span+1;y<o.length;++y)o[y-V]=o[y];for(o.length=o.length-V,s=c=m,y=1;y<V;++y)y%2==1?s+=1:c-=1;for(y=s+1;y<n.length/4;++y){for(h=0;h<4;++h)n[4*c+h]=n[4*y+h];c+=1}return n.length=n.length-4*V,V},l.joinCurves=function(e,t,r,o,i){var n,s=t[t.length-1];for(t.length=t.length-1,n=e+1;n<o.length;++n)t.push(o[n]);for(n=4;n<i.length;++n)r.push(i[n]);var a=this.removeKnot(e,s,e-1,t,r);a!==e-1&&console.warn(\"Failed knot removal, only removed seam knot \"+a+\" times.\")},l.clampCurve=function(e,t,r){var o=t[e],i=t[t.length-e-1];this.extractCurveSegment(e,o,i,t,r)};l.makePeriodic=function(e,t,r){var o,i,n=function(e,t,r){var o,i,n,s=0;for(o=1;o<r.length/4;++o){for(n=0,i=0;i<3;++i)n+=(r[4*o+i]-r[4*(o-1)+i])*(r[4*o+i]-r[4*(o-1)+i]);s+=Math.sqrt(n)}for(n=0,i=0;i<3;++i)n+=(r[i]-r[r.length-4+i])*(r[i]-r[r.length-4+i]);var a=Math.sqrt(n),c=(t[t.length-1]-t[0])/s,u=r.length/4-1,l=t.slice();for(o=0;o<e-1;++o)l[e-o-1]=l[e-o]-(l[u-o+1]-l[u-o]),l[u+o+2]=l[u+o+1]+(l[e+o+1]-l[e+o]);var h=l[1]-(l[u-e+2]-l[u-e+1]),d=l[u+e]+(l[2*e]-l[2*e-1]);return c/((t[0]-h+d-t[t.length-1])/a)}(e,t,r);this.unclampCurve(e,t,r,n);var s=t.length;for(o=e-1;o>=0;--o)t[s-o]=t[s-o-1]+(t[e-(o-1)]-t[e-o]);var a=r.length/4;for(r.length=4*a+4*e,t.length=s+e,o=0;o<e;++o){for(i=0;i<4;++i)r[4*(a+o)+i]=r[4*o+i];t[s+o]=t[s+o-1]+(t[e+o+1]-t[e+o])}this.clampCurve(e,t,r)},t.SplineCurveHelper=l},2355:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.TangentCone=void 0;var o=r(1972),i=r(2468),n=r(5896),s=function(e,t){this.set(e,t)};s.prototype.set=function(e,t){void 0===e||void 0===t?(this.axis=void 0,this.angle=void 0):(this.axis=o.Vector3.clone(e),this.angle=t)},s.prototype.toString=function(){return this.isDegenerate()?\"degenerate\":\"(x:\"+this.axis[0]+\", y:\"+this.axis[1]+\", z:\"+this.axis[2]+\", radians:\"+this.angle+\")\"},s.prototype.copy=function(e){return e.isDegenerate()?(this.axis=void 0,this.angle=void 0):(this.axis=o.Vector3.clone(e.axis),this.angle=e.angle),this},s.prototype.clone=function(){return new s(this.axis,this.angle)},s.prototype.isDegenerate=function(){return void 0===this.axis||void 0===this.angle},s.prototype.includeVector=function(e){if(o.Vector3.squaredLength(e)<i.KERNEL_TOLERANCE*i.KERNEL_TOLERANCE)return this;if(this.isDegenerate())return this.axis||(this.axis=o.Vector3.createFloat64()),o.Vector3.normalize(this.axis,e),this.angle=0,this;var t=o.Vector3.dot(this.axis,e)/o.Vector3.length(e);t=(0,n.clamp)(t,-1,1);var r=Math.acos(t);return this.angle=Math.max(this.angle,r),this},s.prototype.includeCone=function(e){if(e.isDegenerate())return this;if(this.isDegenerate())return this.copy(e);var t=o.Vector3.dot(this.axis,e.axis),r=Math.acos((0,n.clamp)(t,-1,1));if(this.angle>=e.angle+r)return this;if(e.angle>=this.angle+r)return this.copy(e);if(r>Math.PI-i.KERNEL_ANGULAR_TOLERANCE)return this.angle=Math.PI,this;var s=(this.angle+e.angle+r)/2;if(s>=Math.PI)return this.angle=Math.PI,this;var a=Math.sin(s-e.angle),c=Math.sin(s-this.angle);return o.Vector3.scale(this.axis,this.axis,a),o.Vector3.scaleAndAdd(this.axis,this.axis,e.axis,c),o.Vector3.normalize(this.axis,this.axis),this.angle=s,this},s.prototype.contains=function(e,t){if(t=\"number\"==typeof t?t:i.KERNEL_ANGULAR_TOLERANCE,!this.isDegenerate())return o.Vector3.squaredLength(e)<i.KERNEL_TOLERANCE*i.KERNEL_TOLERANCE||o.Vector3.angle(this.axis,e)<this.angle+t},t.TangentCone=s},9608:(e,t)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getOrderedFacesOnVertex=function(e){const t=e.getEdges(),o=new r(e),i=[];return t.forEach((t=>{const r=t.getCoedges();for(let t=0;t<r.length;++t)if(r[t].getStartVertex()===e){const e=o.marchFan(r[t]);e.faces.length>0&&i.push(e);break}})),i};class r{constructor(e){this._vertex=e,this._visitedCoeds=new Set,this._unvisitedCoeds=new Set,this._faces=[],this._type=\"unset\"}addVisitedCoedge(e){this._visitedCoeds.add(e),this._unvisitedCoeds.delete(e)}getNextFace(e){const t=e.getFace();t&&this._faces.push(t),this.addVisitedCoedge(e)}getPrevFace(e){const t=e.getFace();t&&this._faces.unshift(t),this.addVisitedCoedge(e)}collectUnvisitedCoeds(e){e.getEdge().getCoedges().forEach((e=>{this._visitedCoeds.has(e)||e.getStartVertex()!==this._vertex||this._unvisitedCoeds.add(e)}))}nextFace(e){const t=e.getPartner();if(!t)return void(\"unset\"===this._type&&(this._type=\"chain\"));if(this._visitedCoeds.has(t))return;if(t.getPartner()!==e&&(this._type=\"unordered\",this.collectUnvisitedCoeds(e)),t.getEndVertex()!==this._vertex)return this._type=\"unordered\",void this.collectUnvisitedCoeds(t);this.addVisitedCoedge(t);const r=t.getNext();if(!this._visitedCoeds.has(r))return this.getNextFace(r),r;\"unset\"===this._type&&(this._type=\"cycle\")}prevFace(e){const t=e.getPrevious();if(this._visitedCoeds.has(t))return;const r=t.getPartner();return r&&!this._visitedCoeds.has(r)?(r.getPartner()!==t&&(this._type=\"unordered\",this.collectUnvisitedCoeds(t)),r.getStartVertex()!==this._vertex?(this._type=\"unordered\",void this.collectUnvisitedCoeds(r.getNext())):(this.addVisitedCoedge(t),this.getPrevFace(r),r)):void 0}collectFanFaces(e){if(this._visitedCoeds.has(e))return;const t=e;this.getNextFace(t);let r=t;for(;r;)r=this.nextFace(r);for(r=t;r;)r=this.prevFace(r)}marchFan(e){for(this._faces=[],this._type=\"unset\",this.collectFanFaces(e);this._unvisitedCoeds.size>0;){const e=this._unvisitedCoeds.values();this.collectFanFaces(e.next().value)}return{faces:this._faces,type:this._type}}}},3584:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.facetPlanarFace=void 0;var o,i=r(1972),n=r(2468),s=r(2640),a=r(5896),c=r(9140),u=r(2856),l=(o=u)&&o.__esModule?o:{default:o},h=r(6120);var d=1e-6,p=1e-8,g=n.KERNEL_TOLERANCE,f=function(e,t,r){var o,n=e[(0,a.modulus)(t-1,e.length)],s=e[(0,a.modulus)(t+1,e.length)],c=e[t],u=c[0]-n[0],l=c[1]-n[1],h=s[0]-c[0],d=s[1]-c[1],p=Math.sqrt(u*u+l*l),f=Math.sqrt(h*h+d*d);u*h+l*d<-.95*p*f?(u*=-1,l*=-1):r?(o=u,u=-l,l=o,o=h,h=-d,d=o):(o=u,u=l,l=-o,o=h,h=d,d=-o);var v=.5*(u/p+h/f),_=.5*(l/p+d/f),y=Math.sqrt(v*v+_*_);e[t]=i.Vector3.clone(c),e[t][0]+=g*v/y,e[t][1]+=g*_/y},v=function(e){return String(e[0])+String(e[1])},_=function(e){for(var t=!1,r={},o=0;o<e.length;o++){var i=v(e[o]);void 0===r[i]?r[i]=[]:t=!0,r[i].push(o)}return{table:r,foundSelfIntersection:t}},y=function(e){var t=_(e);if(t.foundSelfIntersection){for(var r=(0,s.isLoopCCW)(e),o=[],i=0;i<e.length-1;i++)o[i]=!1;var n=[];for(i=0;i<e.length-1;i++)if(!o[i]){var c=[],u=i;o[u]=!0,c.push(e[u]);var l=v(c[0]),h=e[(0,a.modulus)(u+1,e.length)],d=v(h),p=[];for(t.table[l].length>1&&p.push(0);d!==l;){if(c.push(h),c.length>e.length)throw new Error(\"splitHole failure\");var g=t.table[d];if(1===g.length)u++;else{p.push(c.length-1);for(var y=[],m=0;m<g.length;m++)g[m]!==u&&y.push(g[m]);var E=Math.atan2(e[u+1][1]-e[u][1],e[u+1][0]-e[u][0]);E=(0,a.normalizeParameterToShiftedRange)(E-Math.PI,[-Math.PI,Math.PI]);var x=-1,R=0;for(m=0;m<y.length;m++){var A=Math.atan2(e[(0,a.modulus)(y[m]+1,e.length)][1]-e[y[m]][1],e[(0,a.modulus)(y[m]+1,e.length)][0]-e[y[m]][0]);A<E&&r?A+=a.PI2:A>E&&!r&&(A-=a.PI2);var P=Math.abs(A-E);P>R&&(R=P,x=y[m])}u=x}h=e[(0,a.modulus)(u+1,e.length)],d=v(h),o[u]=!0}for(m=0;m<p.length;m++)f(c,p[m],r);n.push(c)}return n}return[e]},m=function(e,t){for(var r=[],o=0;o<e.length;o++){r[o]={index:void 0,loop:void 0};for(var i=e[o],n=0;n<t.length;n++)for(var s=t[n],a=0;a<s.length;a++)if(s[a][0]===i[0]&&s[a][1]===i[1]){r[o].index=a,r[o].loop=s;break}}return r};function E(e,t){var r,o=!1,i=t.length,n=i-1;for(r=0;r<i;r+=2)t[r][1]>e[1]!=t[n][1]>e[1]&&e[0]<(t[n][0]-t[r][0])*(e[1]-t[r][1])/(t[n][1]-t[r][1])+t[r][0]&&(o=!o),n=r;return o}function x(e,t,r){for(var o,n,a=m(e,[t].concat(r)),c=[],u=[],l=void 0,d=void 0,g=0;g<4;++g){if(a[g]&&void 0!==a[g].index)l?d||a[g].loop===l||(d=a[g].loop):l=a[g].loop,a[g].loop===l?(o=l,n=c):(o=d,n=u),(P=[a[g].index-1,a[g].index])[0]<0&&(P[0]=o.length-1),n.push(P),n.push([a[g].index,(a[g].index+1)%o.length])}d||(d=l,u=c);var f,v,_=void 0,y=l,x=c;for(g=0;g<3;++g){for(f=0;f<c.length;++f){for(v=0;v<u.length&&(c===u&&v>=f||!(_=(0,s.intersectSegments)(l[c[f][0]],l[c[f][1]],d[u[v][0]],d[u[v][1]],0))||!_.intersection);++v);if(_&&_.intersection)break}if(_&&_.intersection||l===d)break;0===g?(l=d,c=u):1===g&&(l=y,c=x,d=y,u=x)}if(void 0!==_&&_.intersection){var R=i.Vector3.subtract(i.Vector3.createFloat64(),l[c[f][1]],l[c[f][0]]);i.Vector3.scale(R,R,_.solutions[0]);var A=i.Vector3.add(R,R,l[c[f][0]]);if(c[f][0]>c[f][1]){var P=c[f][1];c[f][1]=c[f][0],c[f][0]=P}if(0===c[f][0]&&1!==c[f][1]&&(c[f][0]=c[f][1],c[f][1]=0),u[v][0]>u[v][1]&&0!==u[v][1]){P=u[v][1];u[v][1]=u[v][0],u[v][0]=P}if(0===u[v][0]&&1!==u[v][1]&&(u[v][0]=u[v][1],u[v][1]=0),l===d){if(l.length<4)return void console.error(\"REGION: Failed to fix loop tessellation! [loop too short]\");console.log(\"REGION: Fixing self-intersection\");var V=new Array(4);c[f][0]<u[v][0]?(V[0]=c[f][0],V[1]=c[f][1],V[2]=u[v][0],V[3]=u[v][1]):(V[0]=u[v][0],V[1]=u[v][1],V[2]=c[f][0],V[3]=c[f][1]);var T=[];for(g=0;g<=V[0];++g)T.push(l[g]);var b=i.Vector3.subtract(i.Vector3.createFloat64(),l[V[0]],l[V[1]]);i.Vector3.normalize(b,b),i.Vector3.scale(b,b,p);var C=i.Vector3.add(i.Vector3.createFloat64(),A,b);T.push(C);for(g=V[2];g>=V[1];--g)T.push(l[g]);var O=i.Vector3.subtract(i.Vector3.createFloat64(),A,b);if(T.push(O),V[3]>V[2])for(g=V[3];g<l.length;++g)T.push(l[g]);l.length=T.length;for(g=0;g<T.length;++g)l[g]=T[g]}else{console.log(\"REGION: Fixing loop-loop intersection\");var L=l,S=d,M=u[v][0],w=u[v][1],N=c[f][0],F=c[f][1];(t===S||S.length>L.length&&t!==L)&&(L=d,S=l,M=c[f][0],w=c[f][1],N=u[v][0],F=u[v][1]);var I=1;t!==S&&t!==L&&(I=-1);var D=1;if(E(S[w],L)){D=-1;P=M;M=w,w=P}i.Vector3.subtract(S[w],S[M],S[w]),i.Vector3.normalize(S[w],S[w]),i.Vector3.scale(S[w],S[w],I*p),i.Vector3.add(S[w],A,S[w]);var j,B,U=w;do{(w+=D)<0?w=S.length-1:w%=S.length}while(w!==M&&!E(S[w],L));(M=w-D)<0&&(M=S.length-1),F=N;do{j=L[F],B=L[F=++F%L.length],_=(0,s.intersectSegments)(j,B,S[M],S[w],0)}while(N!==F&&!_.intersection);_.intersection&&(i.Vector3.scale(R,i.Vector3.subtract(R,B,j),_.solutions[0]),i.Vector3.add(A,R,j),i.Vector3.subtract(S[M],S[w],S[M]),i.Vector3.normalize(S[M],S[M]),i.Vector3.scale(S[M],S[M],I*p),i.Vector3.add(S[M],A,S[M])),Math.min(Math.abs(U-M),Math.abs(U-M-S.length))>1&&console.warn(\"REGION: Remove loop segment! FIXME!\")}}else h.DebugUtils.warn(\"REGION: Failed to fix loop tessellation! [no intersected segments]\")}var R=function(e,t){var r=e;for(r<0?r+=t.length:r%=t.length;t[r]!==r;)r=t[r];return r},A=function(e,t,r,o){return i.Vector3.distance(r[e],r[t])<d?(o[0]=e,o[1]=e,1):0},P=function(e,t,r,o,n){var s=new Array(2);if(s[0]=o[e],s[1]=o[r],i.Vector3.length(i.Vector3.subtract(i.Vector3.createFloat64(),s[0],s[1]))<d)return n[0]=e,n[1]=e,n[2]=e,2;var a=(s[0][0]-s[1][0])*(o[t][1]-s[1][1])-(s[0][1]-s[1][1])*(o[t][0]-s[1][0]);return a>-10000000000000001e-32&&a<10000000000000001e-32?(n[0]=e,n[1]=e,n[2]=r,1):0},V=function(e,t,r,o,i,n){return(0,s.intersectSegments)(i[e],i[t],i[r],i[o]).intersection?(n[0]=e,n[1]=t,n[2]=t,n[3]=o,1):(n[0]=-1,0)},T=function(e){if(e.length<4)return e;for(var t,r,o,i,n=e.length,s=new Int32Array(n),a=0;a<n;++a)s[a]=a;var c,u=new Array(3),l=new Array(3);l[0]=0,l[1]=0,l[2]=0;for(a=0;a<n;++a)t=R(a,s),r=R(a+1,s),(c=A(t,r,e,u))&&(++l[0],s[t]=u[0],s[r]=u[1],t=R(a+=c,s),r=R(a+1,s)),o=R(a+2,s),(c=P(t,r,o,e,u))&&(++l[1],s[t]=u[0],s[r]=u[1],s[o]=u[2],t=R(a+=c,s),r=R(a+1,s),o=R(a+2,s)),i=R(a+3,s),(c=V(t,r,o,i,e,u))&&(++l[2],s[t]=u[0],s[r]=u[1],s[o]=u[2],s[i]=u[3],a+=c);var h=[];for(a=0;a<e.length;++a)s[a]===a&&h.push(e[a]);return h},b=function(e,t,r){for(var o=m(e,[t].concat(r)),i=0;i<o.length;i++)f(o[i].loop,o[i].index,(0,s.isLoopCCW)(o[i].loop))},C=function(e,t){var r=!1;!function(e){var t=_(e);if(t.foundSelfIntersection)for(var r=(0,s.isLoopCCW)(e),o=l.default.keys(t.table),i=0;i<o.length;i++)if(t.table[o[i]].length>1)for(var n=t.table[o[i]],a=0;a<n.length;a++)f(e,n[a],r)}(e);for(var o=[],i=0;i<t.length;i++)o.push.apply(o,y(t[i]));var n=T(e),a=[];for(i=0;i<o.length;i++)a.push(T(o[i]));var u=8;do{r=!0;var d=(0,l.default)(n).map((function(e){return new c.poly2tri.Point(e[0],e[1])})),p=new c.poly2tri.SweepContext(d);for(i=0;i<a.length;i++){var g=(0,l.default)(a[i]).map((function(e){return new c.poly2tri.Point(e[0],e[1])}));p.addHole(g)}try{p.triangulate()}catch(e){if(\"poly2tri Intersecting Constraints\"===e.message.substr(0,33))r=!1,x(e.points,n,a);else if(\"poly2tri EdgeEvent: Collinear not supported\"===e.message.substr(0,43))r=!1,b(e.points,n,a);else{if(!e.points)throw e;r=!1,x(e.points,n,a)}}}while(!r&&u-- >0);return u<=0&&h.DebugUtils.warn(\"Computation of region tessellation failed, due to too many intersections.\"),p};t.facetPlanarFace=function(e,t){var r=e.getSurface(),o=(0,a.getPlaneTransforms)(r),n=new s.LoopCalculator(e,o.threeSpaceToUV).getRank0Loops();if(1!==n.length)throw new Error(\"Each region should have exactly one top-loop\");var c=n[0],u=(0,s.tessellateLoop)(c._loop,t);if(o.threeSpaceToUV)for(var l=0;l<u.length;l++)i.Vector3.transformMatrix44(u[l],u[l],o.threeSpaceToUV);for(var h=[],d=c.getImmediatelyInsideLoops(),p=0;p<d.length;p++){var g=(0,s.tessellateLoop)(d[p]._loop,t);if(h.push(g),o.threeSpaceToUV)for(l=0;l<g.length;l++)i.Vector3.transformMatrix44(g[l],g[l],o.threeSpaceToUV)}var f=C(u,h),v=f.getTriangles(),_=new Uint32Array(3*v.length),y=new Float32Array(3*f.pointCount()),m=i.Vector3.createFloat64();for(l=0;l<f.pointCount();l++){var E=f.getPoint(l);i.Vector3.set(m,E.x,E.y,0),o.uvToThreeSpace&&i.Vector3.transformMatrix44(m,m,o.uvToThreeSpace),y[3*l]=m[0],y[3*l+1]=m[1],y[3*l+2]=m[2],E.index=l}for(l=0;l<v.length;l++){var x=v[l].getPoints();for(e.isReversed()&&x.reverse(),p=0;p<x.length;p++){var R=x[p];_[3*l+p]=R.index}}return{indexBuffer:_,vertexBuffer:y}}},2640:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.LoopCalculator=t.intersectSegments=t.isLoopCCW=t.tessellateLoop=void 0;var o=r(1972),i=r(2468),n=r(5896),s=function(e,t){this._loop=e,this._enclosureRank=0,this._isOuterLoop=!1,this._insideLoops=[],this._isOpen=!1,this._coedges=this._loop.getCoedges();for(var r=0;r<this._coedges.length;++r)this._coedges[r].generateUVCurve(t)};s.prototype.addInsideLoop=function(e){this._insideLoops.push(e)},s.prototype.uvAngleSubtended=function(e){if(!this.isClosedLoop())throw new Error(\"uvAngleSubtended cannot work with open loops\");for(var t=0,r=0;r<this._coedges.length;r++){t+=this._coedges[r].uvAngleSubtended(e)}return t},s.prototype.getArbitraryPointOnLoop=function(){if(1===this._coedges.length){var e=this._coedges[0].t0();return this._coedges[0].evaluatePosition(e)}var t=this._coedges[0].getStartVertex();if(t)return t.getPosition()},s.prototype.isInside=function(e){var t=this.getArbitraryPointOnLoop(),r=Math.abs(e.uvAngleSubtended(t)),o=Math.floor(r/(2*Math.PI)),n=r-2*o*Math.PI;return!!(Math.abs(n)<i.KERNEL_TOLERANCE&&o||Math.abs(n-2*Math.PI)<i.KERNEL_TOLERANCE)},s.prototype.getEnclosureRank=function(){return this._enclosureRank},s.prototype.resetEnclosureRank=function(){this._enclosureRank=0},s.prototype.decreaseEnclosureRank=function(){this._enclosureRank--},s.prototype.setIsOuterLoop=function(e){this._isOuterLoop=e},s.prototype.isOuterLoop=function(){return this._isOuterLoop},s.prototype.isClosedLoop=function(){return!this._isOpen},s.prototype.addInsideLoop=function(e){this._insideLoops.push(e)},s.prototype.getImmediatelyInsideLoops=function(){for(var e=[],t=0;t<this._insideLoops.length;t++)this._insideLoops[t].getEnclosureRank()===this._enclosureRank-1&&e.push(this._insideLoops[t]);return e};var a=function(e,t){this._face=e,this._loops=[];for(var r=0;r<this._face.getLoops().length;++r)this._loops.push(new s(this._face.getLoops()[r],t));this._calcSenses()};a.prototype._calcSenses=function(){for(var e=this._loops.length,t=0;t<e;t++)this._loops[t].resetEnclosureRank();for(t=0;t<e;t++)if(this._loops[t].isClosedLoop())for(var r=0;r<e;r++)this._loops[r].isClosedLoop()&&t!==r&&this._loops[t].isInside(this._loops[r])&&!this._loops[r].isInside(this._loops[t])&&(this._loops[t].decreaseEnclosureRank(),this._loops[r].addInsideLoop(this._loops[t]));for(t=0;t<e;t++){var o=0-this._loops[t].getEnclosureRank();this._loops[t].setIsOuterLoop(o%2==0)}},a.prototype.getRank0Loops=function(){var e=[];return this._loops.forEach((function(t){0===t.getEnclosureRank()&&e.push(t)})),e};t.tessellateLoop=function(e,t){for(var r=[],i=0,n=e.getCoedges().length;i<n;++i){var s=e.getCoedges()[i],a=s.getEdge(),c=a.tessellate(void 0,t).positions;c=c.slice(1,c.length-1),(c=[o.Vector3.clone(a.getStartVertex().getPosition())].concat(c)).push(o.Vector3.clone(a.getEndVertex().getPosition())),s.isReversed()&&c.reverse(),r=r.concat(c.slice(0,c.length-1))}return r},t.isLoopCCW=function(e){for(var t=0,r=0;r<e.length;r++){var o=(r+1)%e.length;t+=e[r][0]*e[o][1]-e[r][1]*e[o][0]}return t>0},t.intersectSegments=function(e,t,r,i,s){var a=[[t[0]-e[0],-(i[0]-r[0]),r[0]-e[0]],[t[1]-e[1],-(i[1]-r[1]),r[1]-e[1]]],c=(0,n.solveTwoEquationsTwoVariables)(a);if(void 0===c)return!1;var u=o.Vector3.distance(e,t),l=o.Vector3.distance(r,i);return{intersection:-s<c[0]*u&&(c[0]-1)*u<s&&-s<c[1]*l&&(c[1]-1)*l<s,solutions:c}},t.LoopCalculator=a},8080:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getBoundedRegionFaces=t.getRegionEdges=t.mergeSketchRegions=void 0;var o=r(2468),i=r(7616),n=r(8768),s=function(e,t){var r=e.getProgenitorMap(),i=new Set;return t.forEach((function(e){r.getDescendants(e).forEach((function(e){e.getTopologyType()===o.TOPOLOGY_TYPES.EDGE&&i.add(e)}))})),Array.from(i)},a=function(e,t){var r=(0,i.findConnectedFaces)(e,{allowVertexConnections:!1,barrierEdges:t}),o=[];return r.forEach((function(e){(function(e,t){e=new Set(e),t=new Set(t);var r=new Set;e.forEach((function(e){e.collectEdges(r)})),r=Array.from(r);for(var o=0;o<r.length;o++){var i=r[o];if(!t.has(i)){var n=i.getCoedges();if(n.length<2)return!1;for(var s=0;s<n.length;s++)if(!e.has(n[s].getFace()))return!1}}return!0})(e,t)&&(o=o.concat(e))})),o},c=function(e,t){for(var r=0;r<e.length;r++)if(t.indexOf(e[r])<0)return!1;return!0};t.mergeSketchRegions=function(e){var t,r,o=[];e.forEach((function(e){o=o.concat(e.getEdges())}));var u=new n.SketchRegionSolver;u.compute(o);var l=u.getFaces(),h=[],d=[];for(t=0;t<e.length;t++){var p=s(u,e[t].getEdges());if(0!==p.length){var g=a(l,p);0!==g.length&&(d.push(p),h.push(g))}}for(var f=[],v=new Set(l),_=!0;h.length>0;){var y=[];for(t=0;t<h.length;t++){var m=!1;for(r=0;r<h.length;r++)if(t!==r&&c(h[t],h[r])){m=!0;break}y.push(m)}var E=new Set;for(t=h.length-1;t>=0;t--)y[t]?h[t].forEach((function(e){E.add(e),v.delete(e)})):(h.splice(t,1),d.splice(t,1));_&&(f=f.concat(Array.from(v))),v=E,_=!_}return(0,i.mergeConnectedFaces)(f)},t.getRegionEdges=s,t.getBoundedRegionFaces=a},3227:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.RegionTopologyFace=t.RegionTopologyEdge=t.RegionTopologyVertex=void 0;var o,i=r(1972),n=r(6940),s=r(7580),a=r(6776),c=r(2468),u=r(4728),l=r(2856),h=(o=l)&&o.__esModule?o:{default:o};var d=function(e){n.Vertex.call(this,e),this._associatedVertices=[]};(d.prototype=Object.create(n.Vertex.prototype)).setAssociatedEntities=function(e){this._associatedVertices=h.default.clone(e)},d.prototype.getAssociatedEntities=function(){return this._associatedVertices};var p=function(e){s.Edge.call(this,e),this._sourceEdge=void 0,this._associatedEdges=[],this._isDangling=!1};(p.prototype=Object.create(s.Edge.prototype)).setAssociatedEdges=function(e){this._associatedEdges=e},p.prototype.getAssociatedEntities=function(){return h.default.map(this._associatedEdges,(function(e){return e.edge}))},p.prototype.getAssociatedEdgeInfo=function(){return this._associatedEdges},p.prototype.setToEdgeSegment=function(e,t){this._sourceEdge=e,this._curve=e.getCurve(),this._reversed=e.isReversed(),this.setRange(t)},p.prototype.setIsDangling=function(e){this._isDangling=e},p.prototype.isDangling=function(){return this._isDangling},p.prototype.getSourceEdge=function(){return this._sourceEdge};var g=function(e){a.Face.call(this,e),this._danglingEdges=[]};(g.prototype=Object.create(a.Face.prototype)).addDanglingEdge=function(e){this._danglingEdges.push(e)},g.prototype.isPointInsideFace=function(e){for(var t=0,r=0;r<this.getLoops().length;++r)for(var o=this.getLoops()[r],i=0;i<o.getCoedges().length;++i){var n=o.getCoedges()[i];if(!n.getEdge().isDangling())t+=n.uvAngleSubtended(e)}t=Math.abs(t);var s=Math.floor(t/(2*Math.PI)),a=t-2*s*Math.PI;return!!(Math.abs(a)<c.PARAMETER_SPACE_TOLERANCE&&s||Math.abs(a-2*Math.PI)<c.PARAMETER_SPACE_TOLERANCE)},g.prototype.getRepresentativePoint=function(){var e,t,r=i.Vector3.createFloat64(),o=this.getBoundingBox(),n=(o.max[0]-o.min[0])/33,s=(o.max[1]-o.min[1])/33;for(e=1;e<32;++e)for(t=1;t<32;++t)if(r[0]=o.min[0]+n*e,r[1]=o.min[1]+s*t,this.isPointInsideFace(r))return r;return u.ConsoleUtils.assert(!1),o.getCenter()},g.prototype.getDanglingEdges=function(){return this._danglingEdges},t.RegionTopologyVertex=d,t.RegionTopologyEdge=p,t.RegionTopologyFace=g},744:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.matchRegionEdgeRecipe=t.deserializeRegionEdgeRecipe=t.serializeRegionEdgeRecipe=t.createRecipeFromRegionEdge=t.matchRegionFaceRecipe=t.deserializeRegionFaceRecipe=t.serializeRegionFaceRecipe=t.createRecipeFromRegionFace=void 0;var o,i=r(1972),n=r(5896),s=r(2468),a=r(9952),c=r(4728),u=r(6120),l=r(2856),h=(o=l)&&o.__esModule?o:{default:o};var d=0,p=1,g=2,f=1,v=1,_=function(e,t){var r=h.default.filter(t.regionVertices,(function(t){return h.default.contains(t.getAssociatedEntities(),e.getStartVertex())}));c.ConsoleUtils.assert(1===r.length),r=r[0];var o=[],i=[],n=new Set,s=r,a=void 0;if(s)do{o.push(s);var u=h.default.filter(s.getEdges(),(function(t){return t!==a&&h.default.contains(t.getAssociatedEntities(),e)&&!n.has(t)}));if(0===u.length){c.ConsoleUtils.assert(!e.isClosed()),c.ConsoleUtils.assert(h.default.contains(s.getAssociatedEntities(),e.getEndVertex()));break}var l=void 0;if(u.length>1){u.sort((function(e,t){return e.t0()-t.t0()}));for(var d=0;d<u.length;d++)if(u[d].getStartVertex()===s){l=u[d];break}c.ConsoleUtils.assert(l)}else l=u[0];s=l.getOtherVertex(s),c.ConsoleUtils.assert(s),a=l,n.add(a),i.push(a)}while(s!==r);return{edges:i,vertices:o}},y=function(e,t,r){var o=[],n=h.default.filter(t,(function(t){return t!==e}));if(0===n.length);else for(var a=r.vertices,c=0;c<a.length;c++){for(var u=a[c],l=!1,d=u.getEdges(),p=0;p<d.length;p++)if(h.default.intersection(n,d[p].getAssociatedEntities()).length>0){l=!0;break}l&&o.push({vertex:u,indexInTopology:c})}if(e.isClosed()&&2===o.length&&1===n.length){var g=!1;if(n[0].getCurveType()===s.GEOMETRY_TYPES.LINE){var f=n[0],v=f.closestToPointParam(o[0].vertex.getPosition());g=f.closestToPointParam(o[1].vertex.getPosition())<v}else if(e.getCurveType()===s.GEOMETRY_TYPES.CIRCLE&&n[0].getCurveType()===s.GEOMETRY_TYPES.CIRCLE){var _=e.getCurve().getCenter(),y=i.Vector3.sub([0,0,0],n[0].getCurve().getCenter(),_);if(i.Vector3.length(y)>0){i.Vector3.normalize(y,y);var m=i.Vector3.sub([0,0,0],o[0].vertex.getPosition(),_),E=i.Vector3.sub([0,0,0],o[1].vertex.getPosition(),_),x=m.x*y.y-m.y*y.x,R=E.x*y.y-E.y*y.x;x>0&&R<0&&(g=!0)}}if(g){var A=o[1];o[1]=o[0],o[0]=A}}return o},m=function(e,t,r,o,i){var n,s={};s[e.getGuid()]={dist:0,prev:null,prevEdge:null,vertex:e,guid:e.getGuid()};var c=new a.BinaryHeap((function(e){return e.dist}),(function(e){return e.guid}));for(c.push(s[e.getGuid()]);0!==c.size();){var u=c.pop();if(u===t)break;n=u.vertex.getEdges();for(var l=0;l<n.length;l++){var d=n[l].getOtherVertex(u.vertex);if(d&&!o[n[l].getGuid()]&&(!r[d.getGuid()]||d===t)){for(var p=n[l].getEndVertex()===d,g=!1,f=n[l].getAssociatedEntities(),_=0;_<i.length;_++)if(h.default.contains(f,i[_].edge)&&i[_].orientation===p){g=!0;break}var y=s[u.guid].dist;g||(y+=v),void 0===s[d.getGuid()]?(s[d.getGuid()]={dist:y,prev:u,prevEdge:n[l],vertex:d,guid:d.getGuid()},c.push(s[d.getGuid()])):s[d.getGuid()].dist>y&&(s[d.getGuid()].dist=y,s[d.getGuid()].prev=u,s[d.getGuid()].prevEdge=n[l],c.updated(s[d.getGuid()]))}}}var m=s[t.getGuid()];if(m){n=[];for(var E=[],x=m,R=t;x.prevEdge;){var A=x.prevEdge;n.push(A),x=x.prev,E.push(A.getEndVertex()===R),R=A.getOtherVertex(R)}return{dist:m.dist,edges:n.reverse(),orientations:E.reverse(),startVertex:e,endVertex:t}}return{dist:1/0,edges:[]}},E=function(e,t,r,o,i,s,a){for(var c=e[i],u={},l=0;l<c.length;l++)null!==c[l].endVertex&&(u[c[l].endVertex.getGuid()]?u[c[l].endVertex.getGuid()].incomingEdges.push({edge:c[l].edge,orientation:c[l].edgeOriented}):u[c[l].endVertex.getGuid()]={edgeIndex:l,edgeInfo:c[l],vertex:c[l].endVertex,incomingEdges:[{edge:c[l].edge,orientation:c[l].edgeOriented}]});if(h.default.values(u).length>0){var d=s.vertices,p=s.edges,g=h.default.keys(u),f={dist:1/0},v=o;do{v=(0,n.modulus)(v-1,e.length);for(var _=h.default.keys(a[v]),y=0;y<_.length;y++){var E=a[v][_[y]].vertex;if(E)for(var x=0;x<g.length;x++){var R=u[g[x]].vertex,A=a[v][_[y]].outgoingEdges.concat(u[g[x]].incomingEdges),P=m(E,R,d,p,A);P.dist<f.dist&&((f=P).startIndex=v)}}}while(v!==t&&f.dist===1/0);if(f.dist<1/0){var V=a[f.startIndex][f.startVertex.getGuid()],T=a[i][f.endVertex.getGuid()],b=V.cost+f.dist;(!T||b<T.cost||i===t&&f.endVertex.getGuid()===r.getGuid()&&null===T.previousGuid)&&(a[i][f.endVertex.getGuid()]={previousGuid:f.startVertex.getGuid(),edgeSegment:null,indexRange:[],cost:V.cost+f.dist,vertex:f.endVertex,previousIndex:f.startIndex,connectionEdges:f.edges,connectionOrientation:f.orientations,outgoingEdges:[]})}}},x=function(e,t,r,o,i){var s=[],a=e[t][r].endVertex;s[t]={},s[t][a.getGuid()]={previousGuid:null,edgeSegment:null,previousIndex:null,cost:0,vertex:a,outgoingEdges:[]};var c=t;do{var u=(0,n.modulus)(c+1,e.length),l=e[u];s[u]=s[u]||{};for(var d=h.default.keys(s[c]),p=0,g=0;g<d.length;g++)for(var v=d[g],_=0;_<l.length;_++)if(l[_].startVertices[v]){s[c][v].outgoingEdges.push({edge:l[_].edge,orientation:l[_].edgeOriented});var y=l[_].endVertex;if(null!==y){var m=s[c][v].cost;if(!l[_].edge.isClosed())l[_].endVertexTopologyIndex>l[_].startVertices[v].vertexIndex!==l[_].edgeOriented&&(m+=f);(!s[u][y.getGuid()]||s[u][y.getGuid()].cost>m||u===t&&y.getGuid()===a.getGuid()&&null===s[u][y.getGuid()].previousGuid)&&(s[u][y.getGuid()]={previousGuid:v,edgeSegment:l[_],indexRange:[l[_].startVertices[v].vertexIndex,l[_].endVertexTopologyIndex],cost:m,vertex:y,previousIndex:c,outgoingEdges:[]},p++)}else m=s[c][v].cost,(!s[u][v]||s[u][v].cost>m)&&(s[u][v]={previousGuid:v,edgeSegment:l[_],indexRange:[],cost:m,previousIndex:c,outgoingEdges:[]})}0===p&&E(e,t,a,c,u,o,s),c=u}while(c!==t);null!==s[t][a.getGuid()].previousGuid&&s[t][a.getGuid()].cost<i.cost&&(i.cost=s[t][a.getGuid()].cost,i.state=s,i.startGuid=a.getGuid())},R=function(e,t){for(var r=function(e,t){var r={},o={},i={},s=t;do{var a=(0,n.modulus)(s+1,e.length),c=e[s],u=e[a],l=i;i={};for(var h=0;h<u.length;h++){var d=u[h].topologyAlongEdge.vertices,p=u[h].topologyAlongEdge.edges;u[h].startVertices={};var g=void 0,f=void 0,v=c.length;void 0!==l[u[h].edge.getGuid()]&&v++;for(var _=0;_<v;_++){var y=void 0;if(_===c.length)y=l[u[h].edge.getGuid()];else{if(!c[_].endVertex)continue;y=c[_].endVertex.getGuid()}for(var m=void 0,E=0;E<d.length;E++)if(d[E].getGuid()===y){m=E;break}void 0!==m&&(u[h].startVertices[y]={vertex:d[m],vertexIndex:m},null!==u[h].endVertex&&(u[h].edgeOriented?(g=void 0!==g?Math.min(g,m):m,f=void 0!==f?Math.max(f,u[h].endVertexTopologyIndex):u[h].endVertexTopologyIndex):(g=void 0!==g?Math.max(g,m):m,f=void 0!==f?Math.min(f,u[h].endVertexTopologyIndex):u[h].endVertexTopologyIndex)),void 0===i[u[h].edge.getGuid()]&&(i[u[h].edge.getGuid()]=y))}if(void 0!==g&&void 0!==f){if(g!==f){var x;x=u[h].edge.isClosed()?u[h].edgeOriented?1:-1:g<f?1:-1;var R=g;do{if(r[d[R].getGuid()]=d[R],x>0)R!==f&&(o[p[R].getGuid()]=p[R]);else{var A=(0,n.modulus)(R-1,p.length);o[p[A].getGuid()]=p[A]}R=(0,n.modulus)(R+x,d.length)}while(R!==f)}r[d[f].getGuid()]=d[f]}}s=a}while(s!==t);return{vertices:r,edges:o}}(e,t),o={cost:1/0,state:void 0,startGuid:void 0},i=0;i<e[t].length;i++)null!==e[t][i].endVertex&&x(e,t,i,r,o);if(o.cost===1/0)return{edges:void 0,edgeOrientedFlags:void 0,score:1/0};var s=function(e,t){var r=[],o=e.startGuid,i=t;do{r.push(e.state[i][o]);var s=e.state[i][o].previousIndex;o=e.state[i][o].previousGuid,i=s}while(i!==t);r=r.reverse();var a=[],c=[];for(i=0;i<r.length;i++)if(0!==r[i].indexRange.length){var u,l,h,d,p=r[i].edgeSegment.topologyAlongEdge;r[i].indexRange[0]<r[i].indexRange[1]?(u=r[i].indexRange[0],l=r[i].indexRange[1],r[i].edgeSegment.edge.isClosed()&&!r[i].edgeSegment.edgeOriented?(h=-1,u=(0,n.modulus)(r[i].indexRange[0]-1,p.edges.length),l=(0,n.modulus)(r[i].indexRange[1]-1,p.edges.length),d=!1):(h=1,u=(0,n.modulus)(r[i].indexRange[0],p.edges.length),l=(0,n.modulus)(r[i].indexRange[1],p.edges.length),d=!0)):r[i].edgeSegment.edge.isClosed()&&r[i].edgeSegment.edgeOriented?(h=1,u=(0,n.modulus)(r[i].indexRange[0],p.edges.length),l=(0,n.modulus)(r[i].indexRange[1],p.edges.length),d=!0):(h=-1,u=(0,n.modulus)(r[i].indexRange[0]-1,p.edges.length),l=(0,n.modulus)(r[i].indexRange[1]-1,p.edges.length),d=!1);var g=u;do{a.push(p.edges[g]),c.push(d),g=(0,n.modulus)(g+h,p.edges.length)}while(g!==l)}else if(r[i].connectionEdges)for(g=0;g<r[i].connectionEdges.length;g++)a.push(r[i].connectionEdges[g]),c.push(r[i].connectionOrientation[g]);return{topologyEdges:a,edgeOrientedFlags:c}}(o,t);return{edges:s.topologyEdges,edgeOrientedFlags:s.edgeOrientedFlags,score:o.cost}},A=function(e,t){var r,o=function(e,t){for(var r=[],o=0;o<e.length;o++){for(var i=e[o],n=[],s=0;s<i.length;s++){var a=i[s],c=t.sketchEdges[a.edgeRef];c&&n.push({edgeRef:a.edgeRef,edgeOriented:a.edgeOriented,intersectionNumber:a.intersectionNumber,totalIntersections:a.totalIntersections,edge:c,topologyAlongEdge:_(c,t),endVertex:null,endVertexTopologyIndex:null})}r.push(n)}return r}(e,t);if(u.DebugUtils.level(\"region_match\")>=2){var i=h.default.pluck(h.default.flatten(o),\"edge\");for(r=0;r<i.length;r++)u.DebugUtils.drawEdge3D(i[r],{color:0,render:!1});u.DebugUtils.render()}if(function(e){for(var t=0;t<e.length;t++)for(var r=h.default.pluck(e[(t+1)%e.length],\"edge\"),o=0;o<e[t].length;o++){var i=e[t][o],n=y(i.edge,r,i.topologyAlongEdge);if(0===i.totalIntersections)i.endVertex=null;else if(n.length===i.totalIntersections){var s=n[i.intersectionNumber];i.endVertexTopologyIndex=s.indexInTopology,i.endVertex=s.vertex}else 0===n.length||u.DebugUtils.warn(\"Region matching problem! Intersection counts do not match\"),i.endVertex=null}}(o),u.DebugUtils.level(\"region_match\")>=2){var n=h.default.pluck(h.default.flatten(o),\"endVertex\");for(r=0;r<n.length;r++)null!==n[r]&&u.DebugUtils.drawVertex3D(n[r],{color:65280,render:!1});u.DebugUtils.render()}var s=function(e){for(var t=1/0,r=void 0,o=0;o<e.length;o++){var i=e[o];if(0!==i.length){for(var n=0,s=0;s<i.length;s++)null!==i[s].endVertex&&n++;var a=i.length-n;if(0===a)return o;n>0&&a<t&&(t=a,r=o)}}return r}(o);if(void 0===s){for(var a=0;a<o[0].length;a++){var c=o[0][a].edge;if(c.isClosed()&&h.default.all(o,(function(e){for(var t=0;t<e.length;t++)if(e[t].edge===c)return!0;return!1}))){var l=o[0][a].topologyAlongEdge.edges,f=new Array(l.length);for(r=0;r<f.length;r++)f[r]=o[0][a].edgeOriented;return o[0][a].edgeOriented||l.reverse(),u.DebugUtils.level(\"region_match\")>=2&&u.DebugUtils.drawEdge3D(c,{color:16711680}),{edges:l,edgeOrientedFlags:f,matchStatus:g}}}return{edges:void 0,edgeOrientedFlags:void 0,matchStatus:d}}var v,m=R(o,s);if(u.DebugUtils.level(\"region_match\")>=2&&void 0!==m.edges){for(r=0;r<m.edges.length;r++)u.DebugUtils.drawEdge3D(m.edges[r],{color:16711680,render:!1});u.DebugUtils.render()}return v=0===m.score?g:m.score===1/0?d:p,{edges:m.edges,edgeOrientedFlags:m.edgeOrientedFlags,matchStatus:v}},P=function(e,t){if(!e||!e.edges)return new Set;for(var r=new Set,o=0;o<e.edges.length;o++){var i=e.edgeOrientedFlags[o]===t,n=e.edges[o].getCoedges();c.ConsoleUtils.assert(n.length>=1&&n.length<=2);for(var s=void 0,a=0;a<n.length;a++)if(n[a].isReversed()===i){s=n[a].getFace();break}s&&!r.has(s)&&r.add(s)}var u=new Set(e.edges);return r.forEach((function(e){for(var t=Array.from(e.collectEdges()),o=0;o<t.length;o++){var i=t[o];if(!u.has(i)){var n=void 0,s=i.getFaces();c.ConsoleUtils.assert(s.length>=1&&s.length<=2),1===s.length?c.ConsoleUtils.assert(s[0]===e):2===s.length&&(c.ConsoleUtils.assert(s[0]===e||s[1]===e),n=s[0]===e?s[1]:s[0]),n&&!r.has(n)&&r.add(n)}}})),r};t.createRecipeFromRegionFace=function(e,t){for(var r=[],o=e.getLoops(),i=0;i<o.length;i++){for(var n=o[i].getCoedges(),s=[],a=0;a<n.length;a++){for(var c=n[a],u=c.getEdge().getAssociatedEdgeInfo(),l=c.getEndVertex(),d=n[(a+1)%n.length].getEdge().getAssociatedEdgeInfo(),p=h.default.pluck(d,\"edge\"),g=[],f=0;f<u.length;f++){for(var v=_(u[f].edge,t),m=y(u[f].edge,p,v),E=0,x=0;x<m.length;x++)if(m[x].vertex===l){E=x;break}var R={edgeRef:u[f].edge.getGuid(),edgeOriented:!(c.isReversed()^u[f].flipped),intersectionNumber:E,totalIntersections:m.length,edge:u[f].edge};g.push(R)}s.push(g)}r.push(s)}return r},t.serializeRegionFaceRecipe=function(e){for(var t=[],r=0;r<e.length;r++){for(var o=[],i=e[r],n=0;n<i.length;n++){for(var s=[],a=i[n],c=0;c<a.length;c++){var u=a[c];s.push(u.edgeRef+\"_\"+(u.edgeOriented?\"t\":\"f\")+\"_\"+u.intersectionNumber+\"_\"+u.totalIntersections)}o.push(s.join(\";\"))}t.push(o.join(\"+\"))}return t.join(\"/\")},t.deserializeRegionFaceRecipe=function(e){for(var t=e.split(\"/\"),r=0;r<t.length;r++){t[r]=t[r].split(\"+\");for(var o=t[r],i=0;i<o.length;i++){o[i]=o[i].split(\";\");for(var n=o[i],s=0;s<n.length;s++){var a=n[s].split(\"_\");n[s]={edgeRef:a[0],edgeOriented:\"t\"===a[1],intersectionNumber:parseInt(a[2],10),totalIntersections:parseInt(a[3],10)}}}}return t},t.matchRegionFaceRecipe=function(e,t){var r,o,i,n=g,s=[];for(r=0;r<e.length;r++){var a=A(e[r],t);if(a.matchStatus===d&&0===r)return{regions:[],matchStatus:d};a.matchStatus!==g&&(n=p),s.push(a)}if(u.DebugUtils.level(\"region_match\")>0){for(u.DebugUtils.clearView(),i=h.default.values(t.sketchEdges),r=0;r<i.length;r++)u.DebugUtils.drawEdge3D(i[r],{color:0,render:!1});for(r=0;r<s.length;r++)for(o=0;o<s[r].edges.length;o++){var c=0===r?65280:16711680;u.DebugUtils.drawEdge3D(s[r].edges[o],{color:c,render:!1})}u.DebugUtils.render()}var l=P(s[0],!1);for(o=1;o<s.length;o++){P(s[o],!0).forEach((function(e){l.delete(e)}))}if(l=Array.from(l),u.DebugUtils.level(\"region_match\")>0){for(r=0;r<l.length;r++)for(i=Array.from(l[r].collectEdges()),o=0;o<i.length;o++)u.DebugUtils.drawEdge3D(i[o],{color:13684736,render:!1});u.DebugUtils.render()}return{regions:l,matchStatus:n}},t.createRecipeFromRegionEdge=function(e,t){var r,o,i={startEdgeRefs:[],endEdgeRefs:[],edgeRef:[],edgeOriented:[],intersectionNumberStart:[],totalIntersectionsStart:[],intersectionNumberEnd:[],totalIntersectionsEnd:[]},n=e.getStartVertex(),s=[];n.getOtherEdges(e).forEach((function(e){var t=h.default.pluck(e.getAssociatedEdgeInfo(),\"edge\");for(r=0;r<t.length;r++)s.indexOf(t[r])<0&&(s.push(t[r]),i.startEdgeRefs.push(t[r].getGuid()))}));var a=e.getEndVertex(),c=[];a.getOtherEdges(e).forEach((function(e){var t=h.default.pluck(e.getAssociatedEdgeInfo(),\"edge\");for(r=0;r<t.length;r++)c.indexOf(t[r])<0&&(c.push(t[r]),i.endEdgeRefs.push(t[r].getGuid()))}));var u=e.getAssociatedEdgeInfo(),l=h.default.pluck(u,\"edge\");for(r=0;r<u.length;r++){var d=l[r],p=!u[r].flipped,g=_(d,t),f=h.default.unique(s.concat(l)),v=y(d,f,g),m=0;for(o=0;o<v.length;o++)if(v[o].vertex===n){m=o;break}var E=h.default.unique(c.concat(l)),x=y(d,E,g),R=0;for(o=0;o<x.length;o++)if(x[o].vertex===a){R=o;break}i.edgeRef.push(d.getGuid()),i.edgeOriented.push(p),i.intersectionNumberStart.push(m),i.totalIntersectionsStart.push(v.length),i.intersectionNumberEnd.push(R),i.totalIntersectionsEnd.push(x.length)}return i},t.serializeRegionEdgeRecipe=function(e){var t={edge:e.edgeRef,orient:e.edgeOriented,start:e.startEdgeRefs,end:e.endEdgeRefs,sIdx:e.intersectionNumberStart,sNum:e.totalIntersectionsStart,eIdx:e.intersectionNumberEnd,eNum:e.totalIntersectionsEnd};return JSON.stringify(t)},t.deserializeRegionEdgeRecipe=function(e){var t=JSON.parse(e);return{edgeRef:t.edge,edgeOriented:t.orient,startEdgeRefs:t.start,endEdgeRefs:t.end,intersectionNumberStart:t.sIdx,totalIntersectionsStart:t.sNum,intersectionNumberEnd:t.eIdx,totalIntersectionsEnd:t.eNum}},t.matchRegionEdgeRecipe=function(e,t){var r=[],o=d,i=[];e.startEdgeRefs.forEach((function(e){var r=t.sketchEdges[e];r&&i.push(r)}));var n=[];e.endEdgeRefs.forEach((function(e){var r=t.sketchEdges[e];r&&n.push(r)})),e.edgeRef.forEach((function(e){var r=t.sketchEdges[e];r&&i.indexOf(r)<0&&i.push(r),r&&n.indexOf(r)<0&&n.push(r)}));for(var s=0;s<e.edgeRef.length;s++){var a=t.sketchEdges[e.edgeRef[s]];if(a){var c=_(a,t),l=void 0,h=void 0,p=y(a,i,c);if(0===e.totalIntersectionsStart[s])l=c.vertices[0],h=0;else if(p.length===e.totalIntersectionsStart[s]){var f=p[e.intersectionNumberStart[s]];l=f.vertex,h=f.indexInTopology}var v=void 0,m=void 0,E=y(a,n,c);if(0===e.totalIntersectionsEnd[s])v=c.vertices[0],m=c.vertices.length;else if(E.length===e.totalIntersectionsEnd[s]){var x=E[e.intersectionNumberEnd[s]];v=x.vertex,0===(m=x.indexInTopology)&&a.isClosed()&&(m=c.vertices.length)}if(!e.edgeOriented[s]){var R=l;l=v,v=R,R=h,h=m,m=R}if(l&&v){if(!(h>=m)){r=c.edges.slice(h,m),o=g;break}u.DebugUtils.warn(\"Edge recipe match should find start vertex before end vertex\")}}}return{edges:r,matchStatus:o}}},8768:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.SketchRegionSolver=void 0;var o,i=r(1972),n=r(5896),s=r(2468),a=r(8292),c=r(1096),u=r(5512),l=r(8796),h=r(8972),d=r(3565),p=r(4524),g=r(672),f=r(8460),v=r(6344),_=r(6704),y=r(5416),m=r(2536),E=r(2208),x=r(3227),R=r(744),A=r(4728),P=r(6120),V=r(2856),T=(o=V)&&o.__esModule?o:{default:o};let b;var C=1e-5,O=function(){this.SIDE={LEFT:0,RIGHT:1},this._sketch=void 0,this._intersectionVertices=[],this._edgeSegments=[],this._cells=[],this._faces=[],this._workspace={edgeIntersections:[],edgeOverlapRegions:[],segmentBlackList:[],edges:[],edgeIDs:[],sweepLineIntersections:void 0,sweepLineRegions:void 0,currentVertex:void 0,nextVertex:void 0,edgesPerCell:void 0},this._sketchRegionTopologies={},this._planeGeometry=new a.Plane,this._planeGeometry.set([0,0,0],[0,0,1],[1,0,0]),this._sketchSummary={},this._internalToFinalMap=null,this._finalFaces=[],this._progenitorMap=null};O.prototype.compute=function(e){this._sketchEdges=e,this._initializeWorkspace(),this._findIntersections(),this._addGraphEdges(),this._mergeCoincidentSegments(),this._sortEdgesAroundVertex(),this._assignAdjacentEdges(),this._sweepRegions(),this._assignleftmostEdges(),this._removeGrazingIntersectionVertices(),this._updateVertexGuidLists(),this._removeTemporaryVertices(),this._assignLoops(),this._updateSketchRegionTopology(),this._clearWorkspace(),this._prepareResult()},O.prototype._initializeWorkspace=function(){var e=this._workspace;e.edges={};for(var t=0;t<this._sketchEdges.length;++t)e.edges[this._sketchEdges[t].getGuid()]=this._sketchEdges[t];for(e.edgeIDs=Object.getOwnPropertyNames(e.edges).sort(),e.edgeIntersections={},e.edgeOverlapRegions={},e.segmentBlackList={},t=0;t<e.edgeIDs.length;t++)e.edgeIntersections[e.edgeIDs[t]]=[],e.edgeOverlapRegions[e.edgeIDs[t]]=[],e.segmentBlackList[e.edgeIDs[t]]=[];e.sweepLineIntersections=void 0,e.sweepLineRegions=void 0,e.edgesPerCell=[],this._faces=[]},O.prototype._clearWorkspace=function(){this._workspace={edgeIntersections:[],edgeOverlapRegions:[],segmentBlackList:[],edges:[],edgeIDs:[],sweepLineIntersections:void 0,sweepLineRegions:void 0,currentVertex:void 0,nextVertex:void 0,sweepLinePosition:void 0,edgesPerCell:[]}},O.prototype._findIntersections=function(){for(var e=this._workspace,t=0;t<e.edgeIDs.length;t++){for(var r=e.edges[e.edgeIDs[t]],o=t;o<e.edgeIDs.length;o++){var a=e.edges[e.edgeIDs[o]];if(o>t||r.getCurveType()===s.GEOMETRY_TYPES.BCURVE)for(var c=(0,f.computeCurveCurveIntersections)(r,a,!0,!1,s.KERNEL_TOLERANCE),u=0;u<c.length;u++){var l=c[u];if(l.rangeInfo)e.edgeIntersections[e.edgeIDs[t]].push(T.default.extend(l.rangeInfo[0],{temporary:!1})),e.edgeIntersections[e.edgeIDs[t]].push(T.default.extend(l.rangeInfo[1],{temporary:!1})),e.edgeIntersections[e.edgeIDs[o]].push(T.default.extend(l.rangeByInfo[0],{temporary:!1})),e.edgeIntersections[e.edgeIDs[o]].push(T.default.extend(l.rangeByInfo[1],{temporary:!1})),e.edgeOverlapRegions[e.edgeIDs[t]].push({overlapRange:(0,n.convertToOtherPeriodicRange)([l.rangeInfo[0].param,l.rangeInfo[1].param],r.getRange(),r.getCurve().getPeriod(),s.KERNEL_TOLERANCE),otherEdge:e.edgeIDs[o],otherRange:(0,n.convertToOtherPeriodicRange)([l.rangeByInfo[0].param,l.rangeByInfo[1].param],a.getRange(),a.getCurve().getPeriod(),s.KERNEL_TOLERANCE)}),e.edgeOverlapRegions[e.edgeIDs[o]].push({overlapRange:(0,n.convertToOtherPeriodicRange)([l.rangeByInfo[0].param,l.rangeByInfo[1].param],a.getRange(),a.getCurve().getPeriod(),s.KERNEL_TOLERANCE),otherEdge:e.edgeIDs[t],otherRange:(0,n.convertToOtherPeriodicRange)([l.rangeInfo[0].param,l.rangeInfo[1].param],r.getRange(),r.getCurve().getPeriod(),s.KERNEL_TOLERANCE)});else{if(l.cutInfo.param<r.t0()||l.cutInfo.param>r.t1()){P.DebugUtils.warn(\"Intersection outside the bounds of the edge, ignoring\");continue}e.edgeIntersections[e.edgeIDs[t]].push(T.default.defaults(l.cutInfo,{temporary:!1,virtualIntersection:!1})),e.edgeIntersections[e.edgeIDs[o]].push(T.default.defaults(l.cutByInfo,{temporary:!1,virtualIntersection:!1}))}}}var h=r.getStartVertex(),d=r.getEndVertex(),p=r.t0();h&&void 0!==T.default.findWhere(e.edgeIntersections[e.edgeIDs[t]],{param:p,atVertex:h})||e.edgeIntersections[e.edgeIDs[t]].push({param:p,atVertex:h,temporary:!1,virtualIntersection:void 0});var g=r.t1();d&&void 0!==T.default.findWhere(e.edgeIntersections[e.edgeIDs[t]],{param:g,atVertex:d})||e.edgeIntersections[e.edgeIDs[t]].push({param:g,atVertex:d,temporary:!1,virtualIntersection:void 0}),this._makeEdgeXMonotone(r,e.edgeIntersections[e.edgeIDs[t]])}var v=[];for(t=0;t<e.edgeIDs.length;t++)for(o=0;o<e.edgeIntersections[e.edgeIDs[t]].length;o++)v.push({position:e.edges[e.edgeIDs[t]].evaluatePosition(e.edgeIntersections[e.edgeIDs[t]][o].param),virtualIntersection:e.edgeIntersections[e.edgeIDs[t]][o].virtualIntersection});for(t=0;t<e.edgeIDs.length;t++){var _=e.edges[e.edgeIDs[t]];for(o=0;o<v.length;o++){var y=v[o];if(_.getBoundingBox().isPointInsideWithTolerance(y.position,s.KERNEL_TOLERANCE)){var m=_.closestToPointParam(y.position);i.Vector3.distance(y.position,_.evaluatePosition(m))<s.KERNEL_TOLERANCE&&m>_.t0()+s.PARAMETER_SPACE_TOLERANCE&&m<_.t1()-s.PARAMETER_SPACE_TOLERANCE&&e.edgeIntersections[e.edgeIDs[t]].push({param:m,atVertex:null,temporary:!0,virtualIntersection:y.virtualIntersection})}}}},O.prototype._addGraphEdges=function(){var e=this._workspace;this._intersectionVertices=[],this._edgeSegments=[];for(var t=function(t,r){var o=e.segmentBlackList[t],i=e.edges[t].getCurve(),a=i.getPeriod(),c=e.edges[t].isReversed()?-1:1,u=s.KERNEL_TOLERANCE/i.tangentLength(c*r[0]),l=s.KERNEL_TOLERANCE/i.tangentLength(c*r[1]);if(e.edges[t].getCurve().isPeriodic()){for(var h=0;h<o.length;h++)if((0,n.periodicDifference)(o[h].range[0],r[0],a)<u&&(0,n.periodicDifference)(o[h].range[1],r[1],a)<l)return o[h].edge}else for(h=0;h<o.length;h++)if(Math.abs(o[h].range[0]-r[0])<u&&Math.abs(o[h].range[1]-r[1])<l)return o[h].edge},r=0;r<e.edgeIDs.length;r++){var o=e.edges[e.edgeIDs[r]],a=1,c=this._createGUIDfromEdgeAndLocalID(o,a);e.edgeIntersections[e.edgeIDs[r]]=e.edgeIntersections[e.edgeIDs[r]].sort((function(e,t){return e.param-t.param}));for(var u=e.edgeIntersections[e.edgeIDs[r]],l=void 0,h=0;h<u.length;h++){var d=o.evaluatePosition(u[h].param),p=this._findVertexIndex(d);void 0===p?(p=this._intersectionVertices.length,this._intersectionVertices.push({position:d,adjacentEdges:[],vertices:[],index:p,guidList:[],mergedPositions:[],topologyVertex:void 0,temporary:u[h].temporary,virtualIntersection:u[h].virtualIntersection})):(this._intersectionVertices[p].temporary=this._intersectionVertices[p].temporary&&u[h].temporary,void 0!==u[h].virtualIntersection&&(void 0===this._intersectionVertices[p].virtualIntersection?this._intersectionVertices[p].virtualIntersection=u[h].virtualIntersection:this._intersectionVertices[p].virtualIntersection=this._intersectionVertices[p].virtualIntersection&&u[h].virtualIntersection),this._intersectionVertices[p].mergedPositions.push(d));var g=this._intersectionVertices[p];if(u[h].atVertex&&-1===g.vertices.indexOf(u[h].atVertex)&&g.vertices.push(u[h].atVertex),h>0&&l!==p){c=this._createGUIDfromEdgeAndLocalID(o,a),a++;var f=[u[h-1].param,u[h].param],v=t(o.getGuid(),f);if(void 0===v){var _={originalEdge:o,parameterRange:f,startVertex:this._intersectionVertices[l],endVertex:this._intersectionVertices[p],coincidentRanges:[],adjacent:[{prevEdge:void 0,nextEdge:void 0,face:void 0},{prevEdge:void 0,nextEdge:void 0,face:void 0}],index:this._edgeSegments.length,localGuid:c,topologyEdge:void 0};this._edgeSegments.push(_),this._intersectionVertices[l].adjacentEdges.push(_),this._intersectionVertices[p].adjacentEdges.push(_);for(var y=0;y<e.edgeOverlapRegions[e.edgeIDs[r]].length;y++){var m=e.edgeOverlapRegions[e.edgeIDs[r]][y],E=f,x=s.KERNEL_TOLERANCE;if(o.getCurve().isPeriodic()&&(o.getCurveType()===s.GEOMETRY_TYPES.CIRCLE&&(x/=o.getCurve().getRadius()),E=(0,n.convertToOtherPeriodicRange)(E,o.getRange(),o.getCurve().getPeriod(),x)),E[0]>=m.overlapRange[0]-s.KERNEL_TOLERANCE&&E[1]<=m.overlapRange[1]+s.KERNEL_TOLERANCE){var R=m.otherEdge,A=[e.edges[R].getCurve().closestToPointParam(_.startVertex.position),e.edges[R].getCurve().closestToPointParam(_.endVertex.position)];if(e.edges[R].getCurve().isPeriodic()){var P=_.originalEdge.getCurve().evaluateDt(_.parameterRange[0]),V=e.edges[R].getCurve().evaluateDt(A[0]);if(i.Vector3.dot(P,V)<0){T=A[0];A[0]=A[1],A[1]=T}for(;A[1]<A[0];)A[1]+=e.edges[R].getCurve().getPeriod()}else if(A[0]>A[1]){var T=A[0];A[0]=A[1],A[1]=T}e.segmentBlackList[m.otherEdge].push({range:A,edge:_})}}}else{var b,C=i.Vector3.distance(v.startVertex.position,o.evaluatePosition(f[0]))>i.Vector3.distance(v.startVertex.position,o.evaluatePosition(f[1]));if(v.coincidentRanges.push({originalEdge:o,parameterRange:f,localGuid:c,flipped:C}),0===g.adjacentEdges.length)(b=i.Vector3.distance(d,v.startVertex.position)<i.Vector3.distance(d,v.endVertex.position)?v.startVertex:v.endVertex).mergedPositions.push(d),d=b.position,p=b.index,u[h].atVertex&&-1===b.vertices.indexOf(u[h].atVertex)&&b.vertices.push(u[h].atVertex),this._intersectionVertices.pop();if(v.startVertex.index!==l&&v.endVertex.index!==l){var O=v.startVertex.index===p?v.endVertex:v.startVertex,L=this._intersectionVertices[l];for(y=0;y<L.adjacentEdges.length;y++){var S=L.adjacentEdges[y];S.startVertex===L&&(S.startVertex=O),S.endVertex===L&&(S.endVertex=O),O.adjacentEdges.push(S)}O.mergedPositions.push(L.position);for(y=0;y<L.mergedPositions.length;y++)O.mergedPositions.push(L.mergedPositions[y]);u[h].atVertex&&-1===O.vertices.indexOf(u[h].atVertex)&&O.vertices.push(u[h].atVertex),this._intersectionVertices.splice(l,1);for(y=l;y<this._intersectionVertices.length;y++)this._intersectionVertices[y].index=y}}}l=p}}},O.prototype._mergeCoincidentSegments=function(){for(var e,t={},r=0;r<this._intersectionVertices.length;r++){for(var o=this._intersectionVertices[r],i={},n=0;n<o.adjacentEdges.length;n++){var a=(e=o.adjacentEdges[n]).startVertex===o?e.endVertex:e.startVertex;t[String(o.index)+\"_\"+String(a.index)]||(i[String(a.index)]=i[String(a.index)]||[],i[String(a.index)].push(e))}var c=T.default.keys(i);for(n=0;n<c.length;n++)if(t[c[n]+\"_\"+String(o.index)]=!0,i[c[n]].length>1)for(var u=i[c[n]],l=0;l<u.length;l++){for(var h=[],d=l+1;d<u.length;d++)(0,v.curvesAreCoincident)(u[l].originalEdge.getCurve(),u[d].originalEdge.getCurve(),u[l].parameterRange,u[d].parameterRange,s.KERNEL_TOLERANCE)&&(h.push(u[d]),u.splice(d,1),d--);for(d=0;d<h.length;d++){var p=h[d];u[l].coincidentRanges.push({originalEdge:p.originalEdge,parameterRange:p.parameterRange,localGuid:p.localGuid,flipped:p.startVertex!==u[l].startVertex}),p.startVertex.adjacentEdges.splice(p.startVertex.adjacentEdges.indexOf(p),1),p.endVertex.adjacentEdges.splice(p.endVertex.adjacentEdges.indexOf(p),1);var g=this._edgeSegments.indexOf(p);this._edgeSegments.splice(g,1);for(var f=g;f<this._edgeSegments.length;f++)this._edgeSegments[f].index=f}}}},O.prototype._sortEdgesAroundVertex=function(){for(var e=0;e<this._intersectionVertices.length;e++){for(var t=this._intersectionVertices[e],r=[],o=0;o<t.adjacentEdges.length;o++){var a=this._computeAngleAndPositionForEdge(o,t);r.push({index:o,originalAngle:a.angle,angle:a.angle,position:a.position,derivative:void 0})}for(var c=0,u=!1;!u;){u=!0;var l=-Math.PI+c;for(o=0;o<r.length;o++)if((0,n.angleDifference)(l,r[o].angle)<C){u=!1;break}if(u)break;c+=2e-5}for(o=0;o<t.adjacentEdges.length;o++)r[o].angle=(0,n.normalizeParameterToShiftedRange)(r[o].angle-c,[-Math.PI,Math.PI]);var h=this;r=r.sort((function(e,r){if((0,n.angleDifference)(e.angle,r.angle)>C)return e.angle-r.angle;var o=t.adjacentEdges[e.index],a=t.adjacentEdges[r.index],c=o.startVertex===t?o.parameterRange[0]:o.parameterRange[1],u=a.startVertex===t?a.parameterRange[0]:a.parameterRange[1],l=o.originalEdge.evaluatePosition(c),d=a.originalEdge.evaluatePosition(u),p=i.Vector3.distance(l,d),g=i.Vector3.createFloat64(),f=i.Vector3.createFloat64(),v=o.originalEdge.evaluateCurvature(c,g),_=a.originalEdge.evaluateCurvature(u,f);if(0===v&&0===_)return e.angle-r.angle;if(0===v||0===_){var y=1/Math.max(v,_);p+=1.5*Math.sqrt(Math.pow(y,2)-Math.pow(y-p,2))+s.KERNEL_TOLERANCE}else{var m=1/v,E=1/_;if(m<E){var x=m;m=E,E=x}if(i.Vector3.dot(g,f)<0)p+=1.5*(-Math.sqrt(-.25*Math.pow(p,4)+Math.pow(p,3)*m-p*p*m*m-(p*p-2*p*m)*E*E+(p*p*p-3*p*p*m+2*p*m*m)*E)/(p-m-E));else p+=1.5*(Math.sqrt(-.25*Math.pow(p,4)-Math.pow(p,3)*m-p*p*m*m-(p*p+2*p*m)*E*E+(p*p*p+3*p*p*m+2*p*m*m)*E)/(p+m-E))}var R=Math.min(i.Vector3.distance(o.endVertex.position,o.startVertex.position),i.Vector3.distance(a.endVertex.position,a.startVertex.position));p=Math.max(s.KERNEL_TOLERANCE,p),p=Math.min(.9*R,p);var A=!1;do{var P=h._computeEdgeDirectionAtVertex(e,t,p),V=h._computeEdgeDirectionAtVertex(r,t,p);A=(0,n.angleDifference)(P,V)>1e-8,p*=5}while(!A&&p<R);var T=P-V;return T>Math.PI?T-=n.PI2:T<-Math.PI&&(T+=n.PI2),T})),t.adjacentEdges=T.default.map(r,(function(e){return t.adjacentEdges[e.index]}))}},O.prototype._assignAdjacentEdges=function(){for(var e=0;e<this._edgeSegments.length;e++){var t=this._edgeSegments[e];this._assignAdjacentEdgesToSegment(t)}},O.prototype._assignAdjacentEdgesToSegment=function(e){var t=e.startVertex.adjacentEdges,r=t.indexOf(e);A.ConsoleUtils.assert(-1!==r,\"Error in topology\");for(var o=0,i=e.endVertex.adjacentEdges;o<i.length&&i[o]!==e;)o++;A.ConsoleUtils.assert(o<i.length,\"Error in topology\"),e.adjacent[this.SIDE.LEFT].nextEdge=i[(0,n.modulus)(o-1,i.length)],e.adjacent[this.SIDE.LEFT].prevEdge=t[(0,n.modulus)(r+1,t.length)],e.adjacent[this.SIDE.RIGHT].nextEdge=i[(0,n.modulus)(o+1,i.length)],e.adjacent[this.SIDE.RIGHT].prevEdge=t[(0,n.modulus)(r-1,t.length)]},O.prototype._sweepRegions=function(){var e=this._workspace,t=T.default.clone(this._intersectionVertices).sort((function(e,t){if(Math.abs(e.position[0]-t.position[0])<1e-9){for(var r=0;r<e.adjacentEdges.length;r++)for(var o=0;o<t.adjacentEdges.length;o++)if(e.adjacentEdges[r].originalEdge===t.adjacentEdges[o].originalEdge){var n=e.adjacentEdges[r],a=t.adjacentEdges[o],c=n.startVertex===e?n.parameterRange[0]:n.parameterRange[1],u=a.startVertex===t?a.parameterRange[0]:a.parameterRange[1],l=!0,h=i.Vector3.createFloat64();i.Vector3.normalize(h,n.originalEdge.evaluateDt(c));var d=i.Vector3.createFloat64();if(i.Vector3.normalize(d,a.originalEdge.evaluateDt(u)),Math.sign(h[0])!==Math.sign(d[0]))continue;if(Math.abs(h[0])>s.KERNEL_TOLERANCE&&Math.abs(d[0])>s.KERNEL_TOLERANCE)l=h[0]>0;else{if(Math.abs(e.position[1]-t.position[1])<s.KERNEL_TOLERANCE)continue;l=h[1]>0}return(c-u)*(l?1:-1)}return e.position[1]-t.position[1]}return e.position[0]-t.position[0]}));this._cells=[];var r={index:-1,loops:[],loopOrientations:[],dangling:[],leftmostVertex:void 0};e.sweepLineIntersections=[-1/0,1/0],e.sweepLineRegions=e.sweepLineRegions=[r];for(var o=[],n=0;n<t.length;n++){e.sweepLineRegions.length!==e.sweepLineIntersections.length-1&&console.error(\"Error during sweep computation\");var a=t[n];false;var c=T.default.clone(a.adjacentEdges),u=void 0;if(o[a.index]){for(var l=o[a.index],h=[],d=0;d<e.sweepLineIntersections.length-1;d++)T.default.contains(l,e.sweepLineIntersections[d])&&(void 0===u&&(u=d-1),T.default.contains(l,e.sweepLineIntersections[d+1])&&h.push(d));for(d=0;d<l.length;d++){for(var p=l[d],g=0;g<e.sweepLineIntersections.length;g++)e.sweepLineIntersections[g]===p&&e.sweepLineIntersections.splice(g,1);for(g=0;g<c.length;g++)c[g]===p&&c.splice(g,1)}for(d=h.length-1;d>=0;d--)e.sweepLineRegions.splice(h[d],1)}else u=this._findVertexOnSweepLine(a),e.sweepLineRegions.splice(u+1,0,e.sweepLineRegions[u]);if(c.length>0){var f=u+1;for(d=0;d<c.length;d++){var v=c[d];e.sweepLineIntersections.splice(f,0,v);var _=v.startVertex===a?v.endVertex:v.startVertex;if(void 0===o[_.index]&&(o[_.index]=[]),o[_.index].push(v),d>0){var y={index:this._cells.length,loops:[],loopOrientations:[],dangling:[],leftmostVertex:a};this._cells.push(y),e.sweepLineRegions.splice(f-1,0,y)}f++}f=u;for(d=0;d<c.length;d++){var m=(v=c[d]).startVertex!==a;v.adjacent[m?this.SIDE.RIGHT:this.SIDE.LEFT].face=e.sweepLineRegions[f+1],v.adjacent[m?this.SIDE.LEFT:this.SIDE.RIGHT].face=e.sweepLineRegions[f],f++}}else if(e.sweepLineRegions[u]!==e.sweepLineRegions[u+1]){var E=e.sweepLineRegions[u+1],x=e.sweepLineRegions[u];x===r?(x=E,E=r,e.sweepLineRegions.splice(u,1)):(void 0!==x.leftmostVertex&&(void 0===E.leftmostVertex||E.leftmostVertex.position[0]>x.leftmostVertex.position[0])&&(E.leftmostVertex=x.leftmostVertex),e.sweepLineRegions.splice(u+1,1));for(d=0;d<this._edgeSegments.length;d++)this._edgeSegments[d].adjacent[this.SIDE.LEFT].face===x&&(this._edgeSegments[d].adjacent[this.SIDE.LEFT].face=E),this._edgeSegments[d].adjacent[this.SIDE.RIGHT].face===x&&(this._edgeSegments[d].adjacent[this.SIDE.RIGHT].face=E);for(d=0;d<e.sweepLineRegions.length;d++)e.sweepLineRegions[d]===x&&(e.sweepLineRegions[d]=E);this._cells[x.index]=void 0}else e.sweepLineRegions.splice(u+1,1)}for(n=0;n<this._cells.length;n++)void 0===this._cells[n]&&(this._cells.splice(n,1),n--);for(n=0;n<this._cells.length;n++)this._cells[n].index=n},O.prototype._assignleftmostEdges=function(){for(var e=this,t=0;t<this._cells.length;t++){var r=this._cells[t],o=r.leftmostVertex,i=T.default.filter(o.adjacentEdges,(function(t){var o=t.adjacent[e.SIDE.LEFT].face,i=t.adjacent[e.SIDE.RIGHT].face;return(o===r||i===r)&&o!==i}));if(A.ConsoleUtils.assert(i.length>=2,\"In each loop there should be at least two adjacent edges\"),i.length>2)for(var n=0;n<i.length;n++){var s=i[n].adjacent[e.SIDE.LEFT].face===r?e.SIDE.LEFT:e.SIDE.RIGHT,a=i[n].adjacent[s],c=i[n].startVertex===o?a.prevEdge:a.nextEdge;if(T.default.contains(i,c)){i=[i[n],c];break}}var u=i[0];u.loopsCurveAligned=!!(u.startVertex===o^i[0].adjacent[e.SIDE.RIGHT].face===r),r.leftmostEdge=u,r.leftmostVertex=void 0}},O.prototype._removeGrazingIntersectionVertices=function(){for(var e={},t=0,r=this._intersectionVertices.slice();r.length>0;){var o=r.pop();if(2===o.adjacentEdges.length&&(1===o.adjacentEdges[0].coincidentRanges.length||1===o.adjacentEdges[1].coincidentRanges.length)&&o.virtualIntersection){var i,s,a=1===o.adjacentEdges[0].coincidentRanges.length&&1===o.adjacentEdges[1].coincidentRanges.length,c=o.adjacentEdges.slice();if(a){if(i=[c[0].originalEdge,c[0].coincidentRanges[0].originalEdge],s=[c[1].originalEdge,c[1].coincidentRanges[0].originalEdge],!(i[0]===s[0]&&i[1]===s[1]||i[0]===s[1]&&i[1]===s[0]))continue;e[c[0].originalEdge.getGuid()]=!0,e[c[0].coincidentRanges[0].originalEdge.getGuid()]=!0,e[c[1].originalEdge.getGuid()]=!0,e[c[1].coincidentRanges[0].originalEdge]=!0;var u=[c[0].startVertex===o?c[0].endVertex:c[0].startVertex,o,c[1].startVertex===o?c[1].endVertex:c[1].startVertex]}else{var l;c[0].coincidentRanges.length>0?(l=0,i=[c[0].originalEdge,c[0].coincidentRanges[0].originalEdge]):(l=1,i=[c[1].originalEdge,c[1].coincidentRanges[0].originalEdge]),e[i[0].getGuid()]=!0,e[i[1].getGuid()]=!0;u=[c[l].startVertex===o?c[l].endVertex:c[l].startVertex,o];c=[c[l]]}var h=void 0,d=void 0;if(u[0].vertices.length>0?(h=u[0],d=a?[u[1],u[2]]:[u[1]]):a&&u[2].vertices.length>0?(h=u[2],d=[u[0],u[1]]):(h=u[1],d=a?[u[0],u[2]]:[u[0]]),d[0].vertices.length>0||d[1]&&(d[1].vertices.length>0||d[0]===d[1]))continue;for(var p=!0,g=T.default.without(d,o),f=0;f<g.length;f++){var v=g[f].adjacentEdges;if((v=T.default.difference(v,c)).length>2){p=!1;break}for(var _=0;_<v.length;_++)if(v[_].coincidentRanges.length>0||v[_].originalEdge!==i[0]&&v[_].originalEdge!==i[1]){p=!1;break}}if(!p)continue;for(f=0;f<g.length;f++){var y=g[f],m=T.default.intersection(c,y.adjacentEdges)[0],E=o!==h&&a?T.default.without(c,m)[0]:m,x=T.default.without(y.adjacentEdges,m);for(y.adjacentEdges[1]===m&&(x=x.reverse()),_=0;_<x.length;_++){var R=x[_],A=E.startVertex===h?0:1,P=void 0;if(E.originalEdge===R.originalEdge)P=E.parameterRange[A];else{var V=E.coincidentRanges[0].flipped?1-A:A;P=E.coincidentRanges[0].parameterRange[V]}R.startVertex===y?(R.startVertex=h,R.parameterRange[0]=P):(R.endVertex=h,R.parameterRange[1]=P);for(var b=0;b<R.adjacent.length;b++){var C=R.adjacent[b].face;C.leftmostEdge!==m&&C.leftmostEdge!==E||(R.loopsCurveAligned=C.leftmostEdge.loopsCurveAligned,C.leftmostEdge=R),(C.leftmostVertex===d[0]||void 0!==d[1]&&C.leftmostVertex===d[1])&&(C.leftmostVertex=h)}}var O=h.adjacentEdges.indexOf(E);Array.prototype.splice.apply(h.adjacentEdges,[O,1].concat(x));var L=h.adjacentEdges.length,S=[(0,n.modulus)(O-1,L),O,O+1,(O+2)%L];for(_=0;_<S.length;_++){var M=h.adjacentEdges[S[_]];this._assignAdjacentEdgesToSegment(M)}}this._intersectionVertices=T.default.difference(this._intersectionVertices,d),r=T.default.difference(r,d),this._edgeSegments=T.default.difference(this._edgeSegments,c),t++}}if(t>0){for(var w=0;w<this._intersectionVertices.length;w++)this._intersectionVertices[w].index=w;for(w=0;w<this._edgeSegments.length;w++)this._edgeSegments[w].index=w}var N=T.default.keys(e);for(w=0;w<N.length;w++){var F=N[w],I=[];for(f=0;f<this._edgeSegments.length;f++){(D=this._edgeSegments[f]).originalEdge.getGuid()===F&&I.push([D,D.parameterRange[0]]);for(_=0;_<D.coincidentRanges.length;_++)D.coincidentRanges[_].originalEdge.getGuid()===F&&I.push([D,D.coincidentRanges[_].parameterRange[0]])}I.sort((function(e,t){return e[1]-t[1]}));for(f=0;f<I.length;f++){var D;(D=I[f][0]).originalEdge.getGuid()===F&&(D.localGuid=this._createGUIDfromEdgeAndLocalID(D.originalEdge,f+1));for(_=0;_<D.coincidentRanges.length;_++)D.coincidentRanges[_].originalEdge.getGuid()===F&&(D.coincidentRanges[_].localGuid=this._createGUIDfromEdgeAndLocalID(D.coincidentRanges[_].originalEdge,f+1))}}},O.prototype._removeTemporaryVertices=function(){for(var e=0,t=0;t<this._intersectionVertices.length;t++){var r=this._intersectionVertices[t];if(r.temporary&&2===r.adjacentEdges.length&&r.adjacentEdges[0].originalEdge===r.adjacentEdges[1].originalEdge&&r.adjacentEdges[0]!==r.adjacentEdges[1]){var o,i;r.adjacentEdges[0].endVertex===r?(o=r.adjacentEdges[0],i=r.adjacentEdges[1]):(o=r.adjacentEdges[1],i=r.adjacentEdges[0]),A.ConsoleUtils.assert(o.adjacent[this.SIDE.LEFT].face===i.adjacent[this.SIDE.LEFT].face),A.ConsoleUtils.assert(o.adjacent[this.SIDE.RIGHT].face===i.adjacent[this.SIDE.RIGHT].face);var n=o.parameterRange[1]-i.parameterRange[0],a=(o.originalEdge.isReversed()?-1:1)*o.parameterRange[0],c=s.KERNEL_TOLERANCE/o.originalEdge.getCurve().tangentLength(a);if(o.originalEdge.getCurve().isPeriodic()&&Math.abs(n-o.originalEdge.getCurve().getPeriod())<c)o.parameterRange[1]=i.parameterRange[1]+n;else{if(Math.abs(n)>c)continue;o.parameterRange[1]=i.parameterRange[1]}o.endVertex=i.endVertex,o.adjacent[this.SIDE.LEFT].nextEdge=i.adjacent[this.SIDE.LEFT].nextEdge,o.adjacent[this.SIDE.RIGHT].nextEdge=i.adjacent[this.SIDE.RIGHT].nextEdge,o.adjacent[this.SIDE.LEFT].prevEdge===i&&(o.adjacent[this.SIDE.LEFT].prevEdge=o),o.adjacent[this.SIDE.RIGHT].prevEdge===i&&(o.adjacent[this.SIDE.RIGHT].prevEdge=o);var u=o.adjacent[this.SIDE.LEFT].nextEdge;u.adjacent[this.SIDE.LEFT].prevEdge===i&&(u.adjacent[this.SIDE.LEFT].prevEdge=o),u.adjacent[this.SIDE.LEFT].nextEdge===i&&(u.adjacent[this.SIDE.LEFT].nextEdge=o),u.adjacent[this.SIDE.RIGHT].prevEdge===i&&(u.adjacent[this.SIDE.RIGHT].prevEdge=o),u.adjacent[this.SIDE.RIGHT].nextEdge===i&&(u.adjacent[this.SIDE.RIGHT].nextEdge=o);var l=o.adjacent[this.SIDE.RIGHT].nextEdge;l.adjacent[this.SIDE.LEFT].prevEdge===i&&(l.adjacent[this.SIDE.LEFT].prevEdge=o),l.adjacent[this.SIDE.LEFT].nextEdge===i&&(l.adjacent[this.SIDE.LEFT].nextEdge=o),l.adjacent[this.SIDE.RIGHT].prevEdge===i&&(l.adjacent[this.SIDE.RIGHT].prevEdge=o),l.adjacent[this.SIDE.RIGHT].nextEdge===i&&(l.adjacent[this.SIDE.RIGHT].nextEdge=o),i.adjacent[this.SIDE.LEFT].face.leftmostEdge===i&&(i.adjacent[this.SIDE.LEFT].face.leftmostEdge=o),i.adjacent[this.SIDE.RIGHT].face.leftmostEdge===i&&(i.adjacent[this.SIDE.RIGHT].face.leftmostEdge=o),void 0===o.loopsCurveAligned&&(o.loopsCurveAligned=i.loopsCurveAligned),(0,_.hashCombine4xUint32)(o.localGuid,i.localGuid,o.localGuid);var h=o.endVertex.adjacentEdges.indexOf(i);o.endVertex.adjacentEdges[h]=o,this._intersectionVertices.splice(t,1),this._edgeSegments.splice(i.index-e,1),t--,e++}else this._intersectionVertices[t].index-=e}for(t=0;t<this._edgeSegments.length;t++)this._edgeSegments[t].index=t},O.prototype._updateVertexGuidLists=function(){for(var e=0;e<this._intersectionVertices.length;e++){var t=this._intersectionVertices[e];if(t.vertices.length>0)for(var r=0;r<t.vertices.length;r++)t.guidList.push((0,_.guidToUint32x4)(t.vertices[r].getGuid()));else{var o={};for(r=0;r<t.adjacentEdges.length;r++){var i=t.adjacentEdges[r];if(!o[i.index]){o[i.index]=!0,t.guidList.push(i.localGuid);for(var n=0;n<i.coincidentRanges.length;n++)t.guidList.push(i.coincidentRanges[n].localGuid)}}}}},O.prototype._assignLoops=function(){var e=this._workspace;e.edgesPerCell=[];for(var t=0;t<this._cells.length;t++)e.edgesPerCell[t]=[];for(t=0;t<this._edgeSegments.length;t++){var r=this._edgeSegments[t],o=r.adjacent[this.SIDE.LEFT].face.index;o>=0&&e.edgesPerCell[o].push(r);var i=r.adjacent[this.SIDE.RIGHT].face.index;i>=0&&o!==i&&e.edgesPerCell[i].push(r)}var n=[];for(t=0;t<this._cells.length;t++){var s=[];n[t]=s;for(var a=this._followLoopFromEdge(this._cells[t].leftmostEdge,this._cells[t],!1,!0),c=0;c<a.loop.length;c++)s[a.loop[c].index]=!0;this._cells[t].loops.push(a.loop),this._cells[t].loopOrientations.push(a.orientations)}for(t=0;t<this._cells.length;t++){s=n[t];for(var u=0;u<e.edgesPerCell[t].length;u++){var l=e.edgesPerCell[t][u];if(l.adjacent[this.SIDE.LEFT].face!==l.adjacent[this.SIDE.RIGHT].face){if(!0!==s[l.index]){for(a=this._followLoopFromEdge(l,this._cells[t],!0,!1),c=0;c<a.loop.length;c++)s[a.loop[c].index]=!0;this._cells[t].loops.push(a.loop),this._cells[t].loopOrientations.push(a.orientations)}}else this._cells[t].dangling.push(l)}}},O.prototype._updateSketchRegionTopology=function(){for(var e=this._workspace,t=T.default.keys(this._sketchRegionTopologies),r=0;r<t.length;r++){var o=t[r];this._sketchRegionTopologies[o].updated=!1,\"FaceID\"===this._sketchRegionTopologies[o].topology.tuid&&this._sketchRegionTopologies[o].topology.removeAllEdges()}var i={},n={};for(r=0;r<this._intersectionVertices.length;r++){var a=this._addOrFindTopologySubcomponent(\"VertexID\",s.GEOMETRY_TYPES.POINT,this._intersectionVertices[r].guidList,n);a.setPoint(new d.Point(this._intersectionVertices[r].position)),a.setAssociatedEntities(T.default.clone(this._intersectionVertices[r].vertices));for(var c=0;c<this._intersectionVertices[r].vertices.length;++c){var u=this._intersectionVertices[r].vertices[c].getGuid();A.ConsoleUtils.assert(!i[u],\"vertex should only map to one topology vertex\"),i[u]=a}this._intersectionVertices[r].topologyVertex=a}for(r=0;r<this._edgeSegments.length;r++){var l=this._edgeSegments[r],h=[l.localGuid];for(c=0;c<l.coincidentRanges.length;c++)h.push(l.coincidentRanges[c].localGuid);(P=this._addOrFindTopologySubcomponent(\"EdgeID\",l.originalEdge.getCurveType(),h,n)).setToEdgeSegment(l.originalEdge,l.parameterRange),P.setStartVertex(l.startVertex.topologyVertex),P.setEndVertex(l.endVertex.topologyVertex);var f=[{edge:l.originalEdge,range:T.default.clone(l.parameterRange),flipped:!1}];for(c=0;c<l.coincidentRanges.length;c++)f.push({edge:l.coincidentRanges[c].originalEdge,range:T.default.clone(l.coincidentRanges[c].parameterRange),flipped:l.coincidentRanges[c].flipped});P.setAssociatedEdges(f),l.topologyEdge=P}for(r=0;r<this._cells.length;r++){var v=this._cells[r];for(h=[],c=0;c<e.edgesPerCell[r].length;c++)h.push((0,_.guidToUint32x4)(e.edgesPerCell[r][c].topologyEdge.getGuid()));var y=this._addOrFindTopologySubcomponent(\"FaceID\",s.GEOMETRY_TYPES.PLANE,h,n);y.setSurface(this._planeGeometry);var m=[];for(c=0;c<v.loops.length;c++){var E=new p.Loop;E.setFace(y),m.push(E);for(var x=[],R=0;R<v.loops[c].length;R++){var P=v.loops[c][R].topologyEdge,V=new g.Coedge;V.setLoop(E),x.push(V),V.setEdge(P),V.setReversed(!v.loopOrientations[c][R]),P.getCoedge()?P.getCoedge().getPartner()||(P.getCoedge().setPartner(V),V.setPartner(P.getCoedge())):P.setCoedge(V),v.loops[c][R].topologyEdge.setIsDangling(!1)}E.setCoedges(x)}y.setLoops(m),this._faces.push(y);for(c=0;c<v.dangling.length;c++)y.addDanglingEdge(v.dangling[c].topologyEdge),v.dangling[c].topologyEdge.setIsDangling(!0)}for(r=0;r<t.length;r++)this._sketchRegionTopologies[t[r]].updated||delete this._sketchRegionTopologies[t[r]]},O.prototype._followLoopFromEdge=function(e,t,r,o){var i=[],n=[],s=e,a=[],c=e.adjacent[this.SIDE.LEFT].face===t?this.SIDE.LEFT:this.SIDE.RIGHT,u=!!(s.loopsCurveAligned^c!==this.SIDE.LEFT),l=u?e.startVertex:e.endVertex;do{if(s.adjacent[c].face!==t){console.error(\"REGION: Adjacent edge face does not match cell! FIXME!\");break}if(a[s.index]){console.error(\"REGION: Malformed edges; walking edge lead us to despair\");break}a[s.index]=!0,i.push(s),n.push(u);do{u?(l=s.endVertex,s=s.adjacent[c].nextEdge):(l=s.startVertex,s=s.adjacent[c].prevEdge),s.startVertex===s.endVertex?c=s.adjacent[this.SIDE.LEFT].face===t?this.SIDE.LEFT:this.SIDE.RIGHT:(c=s.startVertex===l?this.SIDE.LEFT:this.SIDE.RIGHT,s.adjacent[this.SIDE.LEFT].face===s.adjacent[this.SIDE.RIGHT].face&&(c=1-c,l=s.startVertex===l?s.endVertex:s.startVertex)),u=c===this.SIDE.LEFT}while(s.adjacent[this.SIDE.LEFT].face===s.adjacent[this.SIDE.RIGHT].face);o&&void 0===s.loopsCurveAligned&&(s.loopsCurveAligned=!!(u^c!==this.SIDE.LEFT))}while(s!==e);return{loop:i,orientations:n}},O.prototype._addNewRegionTopology=function(e){switch(e.tuid){case\"VertexID\":var t=new x.RegionTopologyVertex(new d.Point);return t.setGuid(e.guid),t;case\"EdgeID\":var r=void 0;switch(e.minortype){case s.GEOMETRY_TYPES.LINE:r=new c.Line;break;case s.GEOMETRY_TYPES.CIRCLE:r=new u.Circle;break;case s.GEOMETRY_TYPES.ELLIPSE:r=new h.Ellipse;break;case s.GEOMETRY_TYPES.BCURVE:r=new l.BCurve;break;default:console.error(\"Unhandled curve type\")}var o=new x.RegionTopologyEdge(r);return o.setGuid(e.guid),o;case\"FaceID\":r=void 0;if(e.minortype===s.GEOMETRY_TYPES.PLANE)r=new a.Plane;else console.error(\"Unhandled surface type\");var i=new x.RegionTopologyFace(r);return i.setGuid(e.guid),i;default:console.error(\"Unhandled topology type\")}},O.prototype._addOrFindTopologySubcomponent=function(e,t,r,o){var i=this._createNameFromGuidList(e,t,r,o);if(this._sketchRegionTopologies[i]){var n=this._sketchRegionTopologies[i];return n.updated=!0,n.topology}var s=this._addNewRegionTopology({tuid:e,minortype:t,guid:i});return this._sketchRegionTopologies[i]={topology:s,updated:!0},s};var L={VertexID:[1168004130,3764602020,2270554856,1368826480],EdgeID:[2942887333,1472546498,2159971906,413489693],FaceID:[2166479754,2329626594,2838556660,1584616933]},S={};S[s.GEOMETRY_TYPES.POINT]=[2299429810,2248164535,3202574069,2684287321],S[s.GEOMETRY_TYPES.LINE]=[910992607,3428993096,3010390753,2966835859],S[s.GEOMETRY_TYPES.CIRCLE]=[2229232555,842549819,2526558959,4217038233],S[s.GEOMETRY_TYPES.PLANE]=[2122299449,3667741317,2812958731,939246365],S[s.GEOMETRY_TYPES.BCURVE]=[420548527,2703575863,2792852189,2595995847],S[s.GEOMETRY_TYPES.ELLIPSE]=[902753991,1129557208,9277753211,1913737389];var M,w=16777619,N=function(e,t){var r=2166136261;return t&&(r=(r^t)*w>>>0),r=(((r=(((r=(((r=((r^255&e)>>>0)*w>>>0)^e>>8&255)>>>0)*w>>>0)^e>>16&255)>>>0)*w>>>0)^e>>24&255)>>>0)*w>>>0},F=(M=new Uint32Array(4),function(e){return M[0]=e,M[1]=w,M[2]=e,M[3]=e,(0,_.hashCombine4xUint32)(M,M)}),I=function(e,t){for(var r=0;r<e.length;r++)e[r]=(e[r]^t[r])>>>0};O.prototype._createNameFromGuidList=function(e,t,r,o){var i=T.default.clone(L[e]),n=S[t];A.ConsoleUtils.assert(i&&n,\"Unsupported tuid or minortype!\"),I(i,n);for(var s=0;s<r.length;s++)I(i,r[s]);var a=(0,_.uint32x4ToGUID)(i);if(o[a]){var c=++o[a];return(r=T.default.clone(r)).push(F(N(c))),this._createNameFromGuidList(e,t,r,o)}return o[a]=1,a},O.prototype._createGUIDfromEdgeAndLocalID=function(e,t){var r=(0,_.guidToUint32x4)(e.getGuid()),o=F(N(t));return(0,_.hashCombine4xUint32)(r,o)},O.prototype._findVertexIndex=function(e){for(var t=0;t<this._intersectionVertices.length;t++){if(i.Vector3.distance(this._intersectionVertices[t].position,e)<s.KERNEL_TOLERANCE)return t;for(var r=0;r<this._intersectionVertices[t].mergedPositions.length;r++)if(i.Vector3.distance(this._intersectionVertices[t].mergedPositions[r],e)<s.KERNEL_TOLERANCE)return t}},O.prototype._findVertexOnSweepLine=function(e){for(var t=this._workspace,r=0,o=t.sweepLineIntersections.length-1;o>=r;){if(r+1>=o)return r;var i=Math.floor((r+o)/2);this._isVertexAboveEdgeSegment(t.sweepLineIntersections[i],e)?r=i:o=i}console.error(\"Error in binary search function!\")},O.prototype._isVertexAboveEdgeSegment=function(e,t){if(e===-1/0)return!0;if(e===1/0)return!1;var r=e.originalEdge;switch(r.getCurveType()){case s.GEOMETRY_TYPES.LINE:var o=r.getStartVertex().getPosition(),n=i.Vector3.createFloat64();i.Vector3.subtract(n,r.getEndVertex().getPosition(),o);var a=i.Vector3.createFloat64();return i.Vector3.subtract(a,t.position,o),(n[0]<0||0===n[0]&&n[1]<0)&&i.Vector3.negate(n,n),a[1]*n[0]-a[0]*n[1]>0;case s.GEOMETRY_TYPES.CIRCLE:var c=t.position[0]-r.getCurve().getCenter()[0],u=.5*(e.parameterRange[0]+e.parameterRange[1]),l=r.getCurve().evaluateDtt(u)[1]>0?-1:1;return Math.abs(c)>r.getCurve().getRadius()?r.getCurve().getCenter()[1]<t.position[1]:r.getCurve().getCenter()[1]+l*Math.sqrt(r.getCurve().getRadius()*r.getCurve().getRadius()-c*c)<t.position[1];default:return this.getYvalueForX(e,t.position[0])<t.position[1]}},O.prototype._makeEdgeXMonotone=function(e,t){var r=e.getCurve(),o=[];switch(e.getCurveType()){case s.GEOMETRY_TYPES.LINE:break;case s.GEOMETRY_TYPES.CIRCLE:var a=r.evaluatePosition(0);i.Vector3.subtract(a,a,r.getCenter());var c=r.getNormal()[2]>0?-1:1;o[0]=c*Math.atan2(a[1],a[0]),o[1]=o[0]-Math.PI;break;case s.GEOMETRY_TYPES.ELLIPSE:var u=r.getMajorAxis()[0]*r.getMajorRadius(),l=r.getMinorAxis()[0]*r.getMinorRadius();o[0]=Math.atan2(l,u),o[1]=o[0]-Math.PI;break;case s.GEOMETRY_TYPES.BCURVE:o=y.SplineCurveHelper.extremalParams(r,0);break;default:console.warn(\"Unsupported edge type in sketch region op\")}for(var h=0;h<o.length;h++){var d=o[h];e.isReversed()&&(d=-d),r.isPeriodicUnlimited()&&(d=(0,n.adjustParameterToPeriodicRange)(d,e.getRange(),r.getPeriodUnlimited())),d>=e.t0()&&d<=e.t1()&&(t.push({param:d,atVertex:null,temporary:!0}),P.DebugUtils.level(\"region3D\")>0&&P.DebugUtils.drawPoint3D(e.evaluatePosition(d),{color:16711935,label:\"x monotonic\"}))}},O.prototype.plotSegments=function(e,t){var r=this._workspace;b.hold(\"on\"),b.clearFigure(),b.delayUpdates(!0);for(var o=0;o<this._intersectionVertices.length;o++){var n=b.plotColorForIndex(this._intersectionVertices[o].adjacentEdges.length);if(\"sweepLineState\"===e&&(n=\"k\",this._intersectionVertices[o]===r.currentVertex&&(n=\"g\"),this._intersectionVertices[o]===r.nextVertex&&(n=\"b\")),b.plot([this._intersectionVertices[o].position],n+\"o\"),\"orderColored\"===e)for(var s=this._intersectionVertices[o],a=[],c=0;c<s.adjacentEdges.length;c++){n=b.plotColorForIndex(c);var u=s.adjacentEdges[c],l=T.default.clone(u.parameterRange);u.startVertex!==s||a[u.index]?l[0]=.5*(l[0]+l[1]):l[1]=.5*(l[0]+l[1]),a[u.index]=!0;var h=u.originalEdge.tessellate(l).positions;b.plot(h,n+\"-\")}}if(\"orderColored\"!==e)for(o=0;o<this._edgeSegments.length;o++){u=this._edgeSegments[o];if(\"coincidenceCount\"===e){var d=u.coincidentRanges.length+1;n=b.plotColorForIndex(d)}else n=b.plotColorForIndex(o);\"sweepLineState\"===e&&(n=r.sweepLineIntersections.indexOf(u)>-1?\"r\":\"k\"),t&&t.highlightLoop&&(n=T.default.contains(t.highlightLoop,u)?\"R\":\"k\");h=u.originalEdge.tessellate(u.parameterRange).positions;if(\"regions\"===e){var p=[],g=[];for(c=0;c<h.length;c++){if(c<h.length-1){var f=i.Vector3.createFloat64();i.Vector3.subtract(f,h[c+1],h[c])}else{f=i.Vector3.createFloat64();i.Vector3.subtract(f,h[c],h[c-1])}i.Vector3.normalize(f,f),i.Vector3.scale(f,f,.05),i.Vector3.cross(f,[0,0,1],f);var v=i.Vector3.clone(h[c]);p.push(i.Vector3.add(v,v,f));var _=i.Vector3.clone(h[c]);g.push(i.Vector3.subtract(_,_,f))}var y=u.adjacent[this.SIDE.LEFT].face.index;n=b.plotColorForIndex(y);b.plot(p,n+\"-\");var m=u.adjacent[this.SIDE.RIGHT].face.index;n=b.plotColorForIndex(m);b.plot(g,n+\"-\")}else b.plot(h,n+\"-\")}if(\"sweepLineState\"===e&&r.sweepLinePosition){var E=r.sweepLinePosition,x=void 0;for(o=0;o<r.sweepLineIntersections.length;o++){var R=0,A=r.sweepLineIntersections[o];if(void 0!==(R=A===1/0?5:A===-1/0?-5:this.getYvalueForX(A,E))){if(b.plot([E],[R],\"y.\"),void 0!==x){n=b.plotColorForIndex(r.sweepLineRegions[o-1].index);b.plot([E,E],[x,R],n+\"-\")}x=R}}}if(t&&t.showOrientation){h=[];var P=[],V=[];for(o=0;o<this._edgeSegments.length;o++){var C=!(void 0===(u=this._edgeSegments[o]).loopsCurveAligned||!0===u.loopsCurveAligned),O=C?.05:.95,L=u.parameterRange[0]*(1-O)+u.parameterRange[1]*O,S=u.originalEdge.evaluatePosition(L);h.push(S);var M=t.arrowSize||.1,w=C?-M:M;if(u.adjacent[this.SIDE.LEFT].face.index>=0){var N=u.originalEdge.evaluateDt(L);i.Vector3.normalize(N,N);var F=[S[0]-M*N[1],S[1]+M*N[0]];P.push(F),V.push([w*N[0],w*N[1]])}if(u.adjacent[this.SIDE.RIGHT].face.index>=0){var I=u.parameterRange[0]*O+u.parameterRange[1]*(1-O),D=u.originalEdge.evaluatePosition(I),j=u.originalEdge.evaluateDt(I);i.Vector3.normalize(j,j);var B=[D[0]+M*j[1],D[1]-M*j[0]];P.push(B),V.push([-w*j[0],-w*j[1]])}}b.plot(h,\"k.\"),b.quiver(P,V,\"g\",\"c\")}b.delayUpdates(!1),b.equalAxis()},O.prototype.plotEdgeSegment=function(e,t){b.plotEdgeList([e.originalEdge],!1,t+\"-\",{ranges:[e.parameterRange]})},O.prototype.plotEdgesAroundVertex=function(e,t){b.plot([e.position],\"gx\");for(var r=0;r<e.adjacentEdges.length;r++){var o,i=e.adjacentEdges[r];console.log(r),o=i.startVertex===e?[i.parameterRange[0],i.parameterRange[0]+t/i.originalEdge.getCurve().tangentLength(i.parameterRange[0])]:[i.parameterRange[1]-t/i.originalEdge.getCurve().tangentLength(i.parameterRange[0]),i.parameterRange[1]],b.plotEdgeList([i.originalEdge],!1,\"-\"+b.plotColorForIndex(r),{ranges:[o],showOrientation:!1,resolution:1e4})}},O.prototype.getYvalueForX=function(e,t){var r=e.parameterRange[0],o=e.parameterRange[1],i=e.originalEdge.evaluatePosition(r),n=e.originalEdge.evaluatePosition(o),a=i[0],c=n[0];if(a>c){var u=r;r=o,o=u,u=a,a=c,c=u,u=i,i=n,n=u}if(t<=a+s.KERNEL_TOLERANCE||t>=c-s.KERNEL_TOLERANCE)return Math.abs(t-a)<=s.KERNEL_TOLERANCE?i[1]:Math.abs(t-c)<=s.KERNEL_TOLERANCE?n[1]:void console.warn(\"Failure in getYvalueForX, in_x oustide segment range, returning undefined\");for(;c>=a;){if(a+s.KERNEL_TOLERANCE>=c)return h[1];var l=(r+o)/2,h=e.originalEdge.evaluatePosition(l);if(Math.abs(r-o)<=s.PARAMETER_SPACE_TOLERANCE)return A.ConsoleUtils.assert(!1,\"Could not converge to a solution for getYvalueForX\"),h[1];h[0]<t?(a=h[0],r=l):(c=h[0],o=l)}console.warn(\"Failure in getYvalueForX, returning undefined\")},O.prototype._computeAngleAndPositionForEdge=function(e,t,r){var o=t.adjacentEdges[e],n=o.startVertex===t,s=o.parameterRange[n?0:1];if(void 0!==r&&((s=s+(n?1:-1)*r)<o.parameterRange[0]||s>o.parameterRange[1]))return;var a=i.Vector3.createFloat64();return i.Vector3.normalize(a,o.originalEdge.evaluateDt(s)),n||i.Vector3.negate(a,a),{angle:Math.atan2(a[1],a[0]),position:o.originalEdge.evaluatePosition(s)}},O.prototype._computeEdgeDirectionAtVertex=function(e,t,r){var o=t.adjacentEdges[e.index],n=o.startVertex===t,s=o.parameterRange[n?0:1],a=s+(n?1:-1)*r/i.Vector3.length(o.originalEdge.evaluateDt(s)),c=o.originalEdge.evaluatePosition(a),u=i.Vector3.subtract(c,c,t.position);return Math.atan2(u[1],u[0])},O.prototype._prepareResult=function(){var e=new m.TopologyCloner;this._finalFaces=e.cloneFaces(this._faces),this._internalToFinalMap=e.getProgenitorMap(),this._progenitorMap=new E.ProgenitorMap;for(var t=e.getProgenitorMap().getAllNewTopology(),r=0;r<t.length;r++){var o=t[r],i=e.getProgenitorMap().getProgenitors(o)[0],n=void 0;if(o.getTopologyType()===s.TOPOLOGY_TYPES.FACE)n=new Set,i.collectEdges().forEach((function(e){e.getAssociatedEntities().forEach((function(e){n.add(e)}))})),n=Array.from(n);else(o.getTopologyType()===s.TOPOLOGY_TYPES.EDGE||o.getTopologyType()===s.TOPOLOGY_TYPES.VERTEX)&&(n=i.getAssociatedEntities());n&&this._progenitorMap.addEntry(o,n)}this._sketchSummary={regionFaces:[],regionEdges:[],regionVertices:[],sketchEdges:{}};for(var a=T.default.keys(this._sketchRegionTopologies),c=0;c<a.length;c++){var u=this._sketchRegionTopologies[a[c]].topology;u instanceof x.RegionTopologyFace?this._sketchSummary.regionFaces.push(u):u instanceof x.RegionTopologyEdge?this._sketchSummary.regionEdges.push(u):u instanceof x.RegionTopologyVertex?this._sketchSummary.regionVertices.push(u):A.ConsoleUtils.assert(!1)}for(var l=0;l<this._sketchEdges.length;l++){var h=this._sketchEdges[l];this._sketchSummary.sketchEdges[h.getGuid()]=h}},O.prototype.getFaces=function(){return this._finalFaces},O.prototype.getRegionTopologyFaces=function(){return this._faces},O.prototype.getProgenitorMap=function(){return this._progenitorMap},O.prototype.createFaceRecipe=function(e){var t=this._finalFaces.indexOf(e);if(t<0)return\"\";var r=this._faces[t],o=(0,R.createRecipeFromRegionFace)(r,this._sketchSummary);return(0,R.serializeRegionFaceRecipe)(o)},O.prototype.matchFaceRecipe=function(e){for(var t=(0,R.deserializeRegionFaceRecipe)(e),r=(0,R.matchRegionFaceRecipe)(t,this._sketchSummary),o=[],i=0;i<r.regions.length;i++){var n=this._faces.indexOf(r.regions[i]);A.ConsoleUtils.assert(n>=0),o.push(this._finalFaces[n])}return o},O.prototype.createEdgeRecipe=function(e){var t=this._internalToFinalMap.getProgenitors(e);if(!t||1!==t.length)return\"\";var r=(0,R.createRecipeFromRegionEdge)(t[0],this._sketchSummary);return(0,R.serializeRegionEdgeRecipe)(r)},O.prototype.matchEdgeRecipe=function(e){for(var t=(0,R.deserializeRegionEdgeRecipe)(e),r=(0,R.matchRegionEdgeRecipe)(t,this._sketchSummary),o=[],i=0;i<r.edges.length;i++){var n=this._internalToFinalMap.getDescendants(r.edges[i]);A.ConsoleUtils.assert(1===n.length),o.push(n[0])}return o},t.SketchRegionSolver=O},9324:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Attribute=void 0;var o=r(40);const i={\"autodesk.brep:nmiattributestr-1.0.0\":\"nmiattributestr\",\"autodesk.brep:nmiattributearr-1.0.0\":\"nmiattributearr\",\"autodesk.brep:textattribute-1.0.0\":\"textattribute\"};var n=function(e,t){o.Base.call(this),this._topologies=[],this.typeid=e,this.values=t||{}};(n.prototype=Object.create(o.Base.prototype)).getValues=function(){return this.values},n.prototype.getTypeid=function(){return this.typeid},n.prototype.getTopologies=function(){return this._topologies},n.prototype.addTopology=function(e){this._topologies?this._topologies.push(e):this._topologies=[e]},n.prototype.removeTopology=function(e){var t=this._topologies.indexOf(e);return t>-1&&(this._topologies.splice(t,1),!0)},n.prototype.toObject=function(){return this.values},n.prototype.addToModelObject=function(e){if(!e.attributes[this.getGuid()]){const t=i[this.typeid];if(t){const r={};r[t]=this.toObject(),e.attributes[this.getGuid()]=r}else console.warn(\"Attribute.addToModelObject : Unknown attribute type for proto object!\")}},t.Attribute=n},40:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Base=void 0;var o=r(6704);const i=r(8032).Autodesk.lookup(\"SolidDef.paramrange_1_0_0.typeEnum\");var n=function(){this._guid=\"\"};n.prototype.setGuid=function(e){this._guid=e},n.prototype.getGuid=function(){return this._guid||(this._guid=(0,o.generateGUID)()),this._guid},n.prototype.refsToStrings=function(e){if(e){const t=new Array(e.length);for(let r=0;r<e.length;++r)t[r]=e[r].getGuid();return t}return[]},n.prototype.refToString=function(e){return e?e.getGuid():\"\"},n.prototype.toObject=function(){return console.warn(\"Base.toObject : abstract method invoked!\"),{}},n.prototype.vectorToObject=function(e){return{x:e[0],y:e[1],z:e[2]}},n.prototype.rangeToObject=function(e,t){var r=1,o=0;t&&void 0!==e&&2===e.length&&isFinite(e[0])&&isFinite(e[1])&&(r=e[0],o=e[1]);var n=r<=o?\"finite\":\"infinite\";return{low:r,high:o,type:i.values[n]}},n.prototype.addToModelObject=function(e){console.warn(\"Base.addToModelObject : abstract method invoked!\")},t.Base=n},9024:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.BaseGeometry=void 0;var o=r(40),i=r(2468),n=function(){o.Base.call(this)};(n.prototype=Object.create(o.Base.prototype)).getGeometryType=function(){console.warn(\"BaseGeometry.getGeometryType : abstract method invoked!\")},n.prototype.clone=function(){console.warn(\"BaseGeometry.clone : abstract method invoked\")},n.prototype.copy=function(e){this._guid=\"\"},n.prototype.addToModelObject=function(e){if(!e.geometries[this.getGuid()]){const t={};t[i.GEOMETRY_TYPES.toString(this.getGeometryType()).toLowerCase()]=this.toObject(),e.geometries[this.getGuid()]=t}},t.BaseGeometry=n},9547:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.BaseTopology=void 0;var o=r(40),i=r(2468),n=function(){o.Base.call(this),this._attributes=[]};(n.prototype=Object.create(o.Base.prototype)).getTopologyType=function(){console.warn(\"BaseTopology.getTopologyType : abstract method invoked!\")},n.prototype.getBoundingBox=function(){console.warn(\"BaseTopology.getBoundingBox : abstract method invoked!\")},n.prototype.getBody=function(){console.warn(\"BaseTopology.getBody : abstract method invoked!\")},n.prototype.collectFaces=function(e){return console.warn(\"BaseTopology.collectFaces : abstract method invoked!\"),e||new Set},n.prototype.collectEdges=function(e){return console.warn(\"BaseTopology.collectEdges : abstract method invoked!\"),e||new Set},n.prototype.collectVertices=function(e){return console.warn(\"BaseTopology.collectVertices : abstract method invoked!\"),e||new Set},n.prototype.getAttributes=function(){return this._attributes},n.prototype.addAttribute=function(e){this._attributes?this._attributes.push(e):this._attributes=[e],e.addTopology(this)},n.prototype.removeAttribute=function(e){var t=this._attributes.indexOf(e);return t>-1&&(this._attributes.splice(t,1),e.removeTopology(this),!0)},n.prototype.removeAllAttributes=function(){if(this._attributes)for(let e=0;e<this._attributes.length;e++)this.removeAttribute(this._attributes[e])},n.prototype.isVertex=function(){return this.getTopologyType()===i.TOPOLOGY_TYPES.VERTEX},n.prototype.getFaces=function(){return Array.from(this.collectFaces())},n.prototype.getEdges=function(){return Array.from(this.collectEdges())},n.prototype.getVertices=function(){return Array.from(this.collectVertices())},n.prototype.addAllToModelObject=function(e,t){if(!e.topologies[this.getGuid()]){const t={};t[i.TOPOLOGY_TYPES.toString(this.getTopologyType()).toLowerCase()]=this.toObject(),e.topologies[this.getGuid()]=t}t.forEach((t=>{null!=t&&(Array.isArray(t)?t.forEach((t=>{t.addToModelObject(e)})):t.addToModelObject(e))}))},t.BaseTopology=n},8796:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.BCurve=void 0;var o=r(1972),i=r(3344),n=r(2355),s=r(2468),a=r(1472),c=r(1096),u=r(5896),l=r(1e3),h=r(4728),d=r(6120),p=r(4336),g=r(5416),f=r(3888),v=r(48),_=r(6200),y=r(5564),m=function(){a.Curve.call(this),this._controlPoints=[],this._weights=[],this._degree=0,this._knots=[],this._isRational=void 0,this._isPeriodic=void 0,this._isClosed=void 0,this._isPlanarXY=void 0,this._discretizationCache=void 0,this._segments=void 0,this._hasDirtySegments=!0,this._isDirtyControlPoint=[],this._tessellationCache=new p.TessellationCache};(m.prototype=Object.create(a.Curve.prototype)).getGeometryType=function(){return s.GEOMETRY_TYPES.BCURVE},m.prototype.clone=function(){var e=new m;return e.copy(this),e},m.prototype.getControlPointsVector3=function(){for(var e=new Array(this._controlPoints.length/3),t=0;t<this._controlPoints.length/3;t++)e[t]=o.Vector3.createFloat64FromValues(this._controlPoints[3*t],this._controlPoints[3*t+1],this._controlPoints[3*t+2]);return e},m.prototype.copy=function(e){a.Curve.prototype.copy.call(this,e),this._isRational=e._isRational,this._weights=e._weights.slice(0),this._degree=e._degree,this._knots=e._knots.slice(0),this._isPeriodic=e._isPeriodic,this._isClosed=e._isClosed,this._weights=e._weights.slice(0),this._controlPoints=e._controlPoints.slice(0),this._isPlanarXY=e._isPlanarXY,this._hasDirtySegments=!0,this._tessellationCache.reset()},m.prototype.set=function(e,t,r,i){this.dirtyCurveRepresentation(),this._weights=Array.prototype.slice.call(t),this._degree=r;var n=0;if(this._isRational=!1,this._weights.length!==t.length){this._weights=Array.prototype.slice.call(t);var s=this._weights[0];for(n=1;n<this._weights.length;++n)if(Math.abs(this._weights[n]-s)>o.FLOAT64_TOLERANCE){this._isRational=!0;break}}else{s=this._weights[0];for(n=1;n<this._weights.length;++n)this._weights[n]=t[n],Math.abs(this._weights[n]-s)>o.FLOAT64_TOLERANCE&&(this._isRational=!0)}if(this._knots.length!==i.length)this._knots=Array.prototype.slice.call(i);else for(n=0;n<this._knots.length;++n)this._knots[n]=i[n];var a=e.length/3;if(0===this._weights.length)for(this._weights=new Array(a),n=0;n<a;++n)this._weights[n]=1;if(this._controlPoints.length!==e.length)this._controlPoints=Array.prototype.slice.call(e);else for(n=0;n<e.length;++n)this._controlPoints[n]=e[n];this._isDirtyControlPoint.length!==a&&(this._isDirtyControlPoint=new Array(a)),this._isDirtyControlPoint.fill(!1)},m.prototype.dirtyCurveRepresentation=function(){this._isPlanarXY=void 0,this._isRational=void 0,this._isClosed=void 0,this._isPeriodic=void 0,this._discretizationCache=void 0,this._hasDirtySegments=!0,this._tessellationCache.setDirty(!0)},m.prototype.hasDirtyTessellation=function(){return this._tessellationCache.isDirty()},m.prototype.getTessellationCacheTolerance=function(){return this._tessellationCache.getTolerance()},m.prototype.weightedControlPoints=function(){for(var e=[],t=0;t<this._controlPoints.length/3;++t){var r=this._weights[t];e.push(this._controlPoints[3*t]*r,this._controlPoints[3*t+1]*r,this._controlPoints[3*t+2]*r,r)}return e},m.prototype.getControlPoints=function(){return this._controlPoints},m.prototype._findChangedControlPoints=function(e){var t=e.length===this._controlPoints.length;t||(this._isDirtyControlPoint=new Array(e.length/3),this._isDirtyControlPoint.fill(!0));for(var r=0;r<e.length/3;++r)if(t){var o=e[3*r]-this._controlPoints[3*r],i=e[3*r+1]-this._controlPoints[3*r+1],n=e[3*r+2]-this._controlPoints[3*r+2];o*o+i*i+n*n>s.KERNEL_TOLERANCE*s.KERNEL_TOLERANCE&&(this._isDirtyControlPoint[r]=!0)}else this._isDirtyControlPoint[r]=!0},m.prototype.setControlPoints=function(e){this._findChangedControlPoints(e),this._controlPoints=e,this.dirtyCurveRepresentation()},m.prototype.copyControlPoints=function(e){if(this._findChangedControlPoints(e),e!==this._controlPoints){this._controlPoints.length=e.length;for(var t=0;t<e.length;++t)this._controlPoints[t]=e[t]}this.dirtyCurveRepresentation()},m.prototype.transform=function(e){for(var t=[],r=o.Vector3.createFloat64(),i=0;i<this._controlPoints.length;i+=3)o.Vector3.set(r,this._controlPoints[i],this._controlPoints[i+1],this._controlPoints[i+2]),o.Vector3.transformMatrix44(r,r,e),t.push(r[0],r[1],r[2]);this.setControlPoints(t)},m.prototype.getControlPointPosition=function(e){return o.Vector3.createFloat64FromValues(this._controlPoints[3*e],this._controlPoints[3*e+1],this._controlPoints[3*e+2])},m.prototype.extendBBoxFromControlPoints=function(e){for(var t=o.Vector3.createFloat64(),r=0;r<this._controlPoints.length;r+=3)o.Vector3.set(t,this._controlPoints[r],this._controlPoints[r+1],this._controlPoints[r+2]),e.includePoint(t)},m.prototype.setControlPointPosition=function(e,t,r,o){this._controlPoints[3*e]=t,this._controlPoints[3*e+1]=r,this._controlPoints[3*e+2]=o,this._isDirtyControlPoint[e]=!0,this.dirtyCurveRepresentation()},m.prototype.getWeights=function(){return this._weights},m.prototype.setWeights=function(e){this._weights=e,this.dirtyCurveRepresentation()},m.prototype.getKnotVector=function(){return this._knots},m.prototype.setKnotVector=function(e){this._knots=e,this.dirtyCurveRepresentation()},m.prototype.getDegree=function(){return this._degree},m.prototype.isRational=function(){if(void 0===this._isRational&&(this._isRational=!1,this._weights))for(var e=this._weights[0],t=0;t<this._weights.length;++t)if(Math.abs(this._weights[t]-e)>o.FLOAT64_TOLERANCE)return this._isRational=!0,!0;return this._isRational},m.prototype.isSimpleBezier=function(){return this._knots.length===2*this._degree+2},m.prototype.getNumControlPoints=function(){return this._controlPoints.length/3},m.prototype.getTessellationCache=function(){return this._tessellationCache.getCache()},m.prototype.getEvaluationCache=function(){return void 0===this._discretizationCache&&this.evaluate(),this._discretizationCache},m.prototype.getRangeUnlimited=function(){return[this._knots[0],this._knots[this._knots.length-1]]},m.prototype.isPeriodicUnlimited=function(){return this._checkClosure(),this._isPeriodic},m.prototype.isClosedUnlimited=function(){return this._checkClosure(),this._isClosed},m.prototype._checkClosure=function(){if(void 0===this._isClosed||void 0===this._isPeriodic){this._isClosed=this._isPeriodic=!1;var e=this.getRangeUnlimited(),t=this.evaluatePosition(e[0]),r=this.evaluatePosition(e[1]);if(o.Vector3.equals(t,r,s.KERNEL_TOLERANCE)){this._isClosed=!0;var i=this.evaluateDt(e[0]),n=this.evaluateDt(e[1]);o.Vector3.isParallel(i,n,1,s.KERNEL_ANGULAR_TOLERANCE)&&(this._isPeriodic=!0)}}},m.prototype.getBezierSegments=function(){return this._decomposeCurve(),this.isSimpleBezier()?[this]:this._segments},m.prototype.isPlanarXY=function(){if(void 0===this._isPlanarXY){var e=s.SPLINE_DISTANCE_TOLERANCE;this._isPlanarXY=!0;for(var t=1/0,r=-1/0,o=2;o<this._controlPoints.length;o+=3)t=Math.min(t,this._controlPoints[o]),r=Math.max(r,this._controlPoints[o]);Math.abs(r-t)>2*e&&(this._isPlanarXY=!1)}return this._isPlanarXY},m.prototype.getBezierSegmentsInRange=function(e,t){for(var r=this.getBezierSegments(),o=e||this._knots[0],i=t||this._knots[this._knots.length-1],n=[],s=0;s<r.length;++s){var a=r[s].getKnotVector();o<=a[a.length-1]&&a[0]>=i&&n.push(r[s])}return n},m.prototype.getApproxParameterSpaceTolerance=function(){if(12===this.getControlPoints().length)return g.SplineCurveHelper.getApproxBezierParameterSpaceTolerance(this.getBoundingBox(),s.KERNEL_TOLERANCE);this._decomposeCurve();for(var e=0,t=0;t<this._segments.size();++t)e+=g.SplineCurveHelper.getApproxBezierParameterSpaceTolerance(this._segments[t].getBoundingBox(),s.KERNEL_TOLERANCE);return e},m.prototype.getArcLength=function(e){void 0===e?e=this.getRange():0===e.length&&(e=this.getRangeUnlimited());for(var t=this._restrictRangeToUnlimited(e),r=0,i=this.getBezierSegments(),n=0;n<i.length;++n)for(var a=i[n],c=a.getRangeUnlimited(),u=0;u<t.length;++u){var h=[Math.max(c[0],t[u][0]),Math.min(c[1],t[u][1])];h[1]-h[0]>s.PARAMETER_SPACE_TOLERANCE&&(r+=(0,l.integrateFunction1D)((function(e){return o.Vector3.length(a.evaluateDt(e))}),h))}return r},m.prototype.getParameterFromArcLength=function(e,t){void 0===t?t=this.getRange():0===t.length&&(t=this.getRangeUnlimited());var r=this;return(0,l.invertIntegral1D)((function(e){return o.Vector3.length(r.evaluateDt(e))}),e,t)},m.prototype._decomposeCurve=function(){if(this._hasDirtySegments)if(this._hasDirtySegments=!1,this.isSimpleBezier())this._segments=void 0;else{var e;this._isDirtyControlPoint.length===this.getNumControlPoints()?e=(0,_.decomposeBCurveFlags)(this.getKnotVector(),this._isDirtyControlPoint):(this._isDirtyControlPoint=new Array(this.getNumControlPoints()),(e=new Array(this.getNumControlPoints())).fill(!0)),this._isDirtyControlPoint.fill(!1);var t=(0,_.decomposeBCurveToBezier)(this._knots,this._controlPoints,this.isRational()?this._weights:void 0);this._segments&&this._segments.length===t.P.length||(this._segments=[]);for(var r=0;r<t.P.length;++r)void 0===this._segments[r]&&(this._segments[r]=new m,e[r]=!0),e[r]&&this._segments[r].set(t.P[r],t.w?t.w[r]:new Array(2*this._degree+2).fill(1),this._degree,t.U[r])}},m.prototype.evaluatePosition=function(e){this.isPeriodicUnlimited()&&(e=(0,u.normalizeParameterToShiftedRange)(e,[this._knots[0],this._knots[this._knots.length-1]]));var t=this.isRational()?this._weights:void 0;return(0,v.evaluateBCurvePoint)(e,this._degree,this._knots,this._controlPoints,t)},m.prototype.evaluateDt=function(e){this.isPeriodicUnlimited()&&(e=(0,u.normalizeParameterToShiftedRange)(e,[this._knots[0],this._knots[this._knots.length-1]]));var t=this.isRational()?this._weights:void 0;return(0,v.evaluateBCurveDerivs)(e,1,this._degree,this._knots,this._controlPoints,t)[1]},m.prototype.closestToRayParam=function(e,t,r,i){if(!(this._controlPoints.length<9)){if(this.isPlanarXY()){var n=t[2],a=o.Vector3.createFloat64();if(Math.abs(n)<s.KERNEL_ANGULAR_TOLERANCE)o.Vector3.copy(a,e);else{var c=(this._controlPoints[2]-e[2])/n;o.Vector3.add(a,o.Vector3.scale(a,t,c),e)}return this.closestToPointParam(a)}d.DebugUtils.warn(\"BCurve.closestToRayParam() only defined for planar curves\")}},m.prototype.closestToPointParam=function(e,t){void 0===t?t=this.getRange():0===t.length&&(t=this.getRangeUnlimited());for(var r=this._restrictRangeToUnlimited(t),i=o.FLOAT64_TOLERANCE,n=this.getBezierSegments(),s=(0,y.closestBCurveSegments)(e,n,void 0,r),a=Number.POSITIVE_INFINITY,c=void 0,l=0;l<s.length;++l)if(!(s[l].minDistSqr>a))for(var h=n[s[l].index],d=h.getRangeUnlimited(),p=0;p<r.length;++p){var g=[Math.max(d[0],r[p][0]),Math.min(d[1],r[p][1])];if(!(g[1]-g[0]<=o.FLOAT64_TOLERANCE)){var f=h.getEvaluationCache(),v=(0,u.closestPointToPolyline)(e,f.points,f.offset,g),_=(0,y.relaxBCurveToPerpendicular)(this._knots,this._controlPoints,this.isRational()?this._weights:void 0,e,v,g,i,32),m=h.evaluatePosition(_),E=o.Vector3.squaredDistance(m,e);E<a&&(a=E,c=_);var x=h.evaluatePosition(g[0]),R=o.Vector3.squaredDistance(x,e);R<a&&(a=R,c=g[0]);var A=h.evaluatePosition(g[1]),P=o.Vector3.squaredDistance(A,e);P<a&&(a=P,c=g[1])}}return this.isPeriodicUnlimited()&&(c=(0,u.foldNearTo)(c,.5*(t[0]+t[1]),this.getPeriodUnlimited())),c},m.prototype.evaluate=function(){var e=this.getBezierSegments();if(e[0]===this)void 0===this._discretizationCache&&(this._discretizationCache=g.SplineCurveHelper.evaluateCurve(this.getDegree(),this.getKnotVector(),this.getControlPoints(),this.getWeights(),!0));else for(var t=0;t<e.length;++t){var r=e[t];void 0===r._discretizationCache&&(r._discretizationCache=g.SplineCurveHelper.evaluateCurve(r.getDegree(),r.getKnotVector(),r.getControlPoints(),r.getWeights(),!0))}},m.prototype._getFullTessellation=function(e){var t,r,i=this.getBezierSegments(),n=0,s=!1;if(i[0]===this){s=!0;var a=p.CurveTessellator.getAdaptiveRenderPoints(this,e,this.getRangeUnlimited());t=a.positions,r=a.params,n=Math.max(n,a.tolerance)}else{t=[],r=[];for(var c=0;c<i.length;++c){var u=i[c];if(u.hasDirtyTessellation()||u.getTessellationCacheTolerance()>e+o.FLOAT64_TOLERANCE){s=!0;var l=p.CurveTessellator.getAdaptiveRenderPoints(u,e,u.getRangeUnlimited());u._tessellationCache.setCache(l),n=Math.max(n,l.tolerance)}u._tessellationCache&&(0===c?(t.push.apply(t,u._tessellationCache.getCache().positions),r.push.apply(r,u._tessellationCache.getCache().params)):(t.push.apply(t,u._tessellationCache.getCache().positions.slice(1)),r.push.apply(r,u._tessellationCache.getCache().params.slice(1))))}}return{positions:t,params:r,didRetessellate:s,tolerance:n}},m.prototype.tessellate=function(e,t){return t=t||s.TESSELLATION.LINEAR_PRECISION,this._tessellationCache.getTessellation(e,this,t,this._getFullTessellation.bind(this))},m.prototype.getBoundingBox=function(e){void 0===e?e=this.getRange():0===e.length&&(e=this.getRangeUnlimited());var t=this._restrictRangeToUnlimited(e),r=new i.BoundingBox,o=this.getRangeUnlimited();if(t[0][0]<o[0]+s.PARAMETER_SPACE_TOLERANCE&&t[0][1]>o[1]-s.PARAMETER_SPACE_TOLERANCE)this.extendBBoxFromControlPoints(r);else for(var n=this.getBezierSegments(),a=0;a<t.length;a++)for(var c=0;c<n.length;c++){var u=n[c];(u=u._getSubset(t[a][0],t[a][1]))&&u.extendBBoxFromControlPoints(r)}return r},m.prototype.getTangentCone=function(e){void 0===e?e=this.getRange():0===e.length&&(e=this.getRangeUnlimited());var t=this.evaluatePosition(e[0]),r=this.evaluatePosition(e[1]);o.Vector3.sub(r,r,t),o.Vector3.squaredLength(r)<.01*s.KERNEL_TOLERANCE*s.KERNEL_TOLERANCE&&(r=this.evaluateDt(.5*(e[0]+e[1]))),o.Vector3.normalize(r,r);for(var i=new n.TangentCone(r,0),a=this._restrictRangeToUnlimited(e),c=o.Vector3.createFloat64FromValues(0,0,0),u=this.getBezierSegments(),l=0;l<a.length;l++)for(var h=0;h<u.length;h++){var d=u[h];if(d=d._getSubset(a[l][0],a[l][1]))for(var p=d._controlPoints,g=0;g<p.length-3;g+=3)c[0]=p[g+3]-p[g],c[1]=p[g+4]-p[g+1],c[2]=p[g+5]-p[g+2],o.Vector3.dot(c,r)>=0?i.includeVector(c):i.angle=Math.PI}return i},m.prototype._getSubset=function(e,t){var r;if(this.isPeriodicUnlimited())return t-e>this.getPeriodUnlimited()-s.PARAMETER_SPACE_TOLERANCE?this:((r=this.clone())._periodicTrimToParams(e,t),r);var o=this.getRangeUnlimited();return e>o[1]-s.PARAMETER_SPACE_TOLERANCE||t<o[0]+s.PARAMETER_SPACE_TOLERANCE?void 0:e<o[0]+s.PARAMETER_SPACE_TOLERANCE&&t>o[1]-s.PARAMETER_SPACE_TOLERANCE?this:(r=this.clone(),e>o[0]+s.PARAMETER_SPACE_TOLERANCE&&r.trimToParam(!0,e),t<o[1]-s.PARAMETER_SPACE_TOLERANCE&&r.trimToParam(!1,t),r)},m.prototype._periodicTrimToParams=function(e,t){h.ConsoleUtils.assert(this._isPeriodic);var r=this.getRangeUnlimited(),o=(0,u.normalizeParametricRangeToShiftedRange)([e,t],r);if(o[1]>r[1])this._isClosed=this._isPeriodic=!1,this.trimToParam(!0,o[1]-(r[1]-r[0]),void 0),this.trimToParam(!1,o[0],void 0);else{var i,n,s=this.getControlPoints(),a=this.getKnotVector(),c=this.getWeights(),l=this.getDegree(),d=this.getPeriodUnlimited(),p=[],f=a.slice(),v=a.slice(),_=[];for(n=0;n<s.length/3;++n)p[4*n+0]=s[3*n+0]*c[n],p[4*n+1]=s[3*n+1]*c[n],p[4*n+2]=s[3*n+2]*c[n],p[4*n+3]=c[n];for(i=p.slice(),g.SplineCurveHelper.extractCurveSegment(l,o[1],r[1],f,p),g.SplineCurveHelper.extractCurveSegment(l,r[0],o[0],v,i),n=0;n<v.length;++n)v[n]=v[n]+d;g.SplineCurveHelper.joinCurves(l,f,p,v,i);var y=p.length/4,m=[];for(_.length=y,m.length=3*y,n=0;n<y;++n){var E=p[4*n+3];m[3*n]=p[4*n]/E,m[3*n+1]=p[4*n+1]/E,m[3*n+2]=p[4*n+2]/E,_[n]=E}this.set(m,_,l,f),this._isClosed=this._isPeriodic=!1}},m.prototype.trimToParam=function(e,t,r){if(this.isPeriodicUnlimited())return h.ConsoleUtils.assert(void 0!==r),void this._periodicTrimToParams(t,r);var o,i,n=this.getControlPoints(),s=this.getKnotVector(),a=this.getWeights(),c=this.getDegree(),u=[];for(o=0;o<n.length/3;++o)u[4*o+0]=n[3*o+0]*a[o],u[4*o+1]=n[3*o+1]*a[o],u[4*o+2]=n[3*o+2]*a[o],u[4*o+3]=a[o];var l=[],d=0,p=g.SplineCurveHelper.insertKnot(c,s,u,t,c),v=(0,f.findKnotSpan)(t,p.U);for(e?(p.U.splice(0,v-c+1,t),i=p.U.length-c-1,d=4*(p.Pw.length/4-i)):(p.U.splice(v+1,p.U.length,t),i=p.U.length-c-1),u.length=3*i,l.length=i,o=0;o<i;++o){var _=p.Pw[4*o+3+d];u[3*o]=p.Pw[4*o+0+d]/_,u[3*o+1]=p.Pw[4*o+1+d]/_,u[3*o+2]=p.Pw[4*o+2+d]/_,l[o]=_}this.set(u,l,c,p.U)},m.prototype.addControlPoint=function(e,t){var r=this.getControlPoints(),i=this.getNumControlPoints(),n=this.getKnotVector(),a=this.getWeights(),u=this.getDegree(),l=this.getControlPointPosition(e),h=this.getControlPointPosition(e+1),d=new c.Line;d.setFromEndpoints(l,h);var p=d.closestToPointParam(t),f=d.evaluatePosition(p),v=o.Vector3.distance(f,l),_=o.Vector3.distance(f,h),y=a[e]*v+a[e+1]*_;if(Math.abs(y)<s.KERNEL_TOLERANCE)console.warn(\"numerical error in addControlPoints -- coincident control points / negative weights?\");else{for(var m=a[e]*v/y,E=n[e+1]+m*(n[e+u+1]-n[e+1]),x=[],R=0;R<r.length/3;++R)x[4*R]=r[3*R]*a[R],x[4*R+1]=r[3*R+1]*a[R],x[4*R+2]=r[3*R+2]*a[R],x[4*R+3]=a[R];var A=g.SplineCurveHelper.findKnotMultiplicity(E,n),P=g.SplineCurveHelper.insertKnot(u,n,x,E,A+1),V=[];for(x.length=3*(i+1),V.length=i+1,R=0;R<=i;++R){var T=P.Pw[4*R+3];x[3*R]=P.Pw[4*R]/T,x[3*R+1]=P.Pw[4*R+1]/T,x[3*R+2]=P.Pw[4*R+2]/T,V[R]=T}this.set(x,V,u,P.U)}},m.prototype.addControlPointOnCurve=function(e){for(var t=this.getNumControlPoints(),r=Number.MAX_VALUE,i=-1,n=o.Vector3.createFloat64FromValues(0,0,0),s=o.Vector3.createFloat64FromValues(0,0,0),a=0;a<t-1;++a){n[0]=this._controlPoints[3*a+0],n[1]=this._controlPoints[3*a+1],s[0]=this._controlPoints[3*a+3],s[1]=this._controlPoints[3*a+4];var c=(0,u.distancePointToLineSegment)(n,s,e);c<r&&(r=c,i=a)}-1!==i&&this.addControlPoint(i,e)},m.prototype.makePeriodic=function(){if(!this.isPeriodicUnlimited()){for(var e=this.getControlPoints(),t=this.getKnotVector(),r=this.getWeights(),o=this.getDegree(),i=[],n=0;n<e.length/3;++n)i[4*n]=e[3*n]*r[n],i[4*n+1]=e[3*n+1]*r[n],i[4*n+2]=e[3*n+2]*r[n],i[4*n+3]=r[n];var s=t.slice();g.SplineCurveHelper.makePeriodic(o,s,i);var a=[],c=[],u=i.length/4;for(a.length=u,c.length=3*u,n=0;n<u;++n){var l=i[4*n+3];c[3*n]=i[4*n]/l,c[3*n+1]=i[4*n+1]/l,c[3*n+2]=i[4*n+2]/l,a[n]=l}this.set(c,a,o,s),this._isClosed=this._isPeriodic=!0}},m.prototype.suggestSplittingParam=function(e){var t,r=this.getKnotVector(),o=.5*(e[0]+e[1]),i=(0,u.sortedIndex)(r,o);if(0===i)t=r[i];else if(i===r.length)t=r[i-1];else{var n=r[i-1],s=r[i];t=o-n<s-o?n:s}return t>=e[0]&&t<=e[1]?t:void 0},m.prototype.toObject=function(){return{degree:this._degree,knots:this._knots,controlPoints:this._controlPoints,weights:this._weights,range:this.rangeToObject(this.getRange(),this.isLimited())}},t.BCurve=m},9984:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Body=void 0;var o=r(9547),i=r(2468),n=r(3344),s=r(7616),a=function(){o.BaseTopology.call(this),this._lumps=[]};(a.prototype=Object.create(o.BaseTopology.prototype)).getTopologyType=function(){return i.TOPOLOGY_TYPES.BODY},a.prototype.getLumps=function(){return this._lumps},a.prototype.setLumps=function(e){this._lumps=new Array(e.length);for(var t=0;t<e.length;++t)this._lumps[t]=e[t]},a.prototype.addLump=function(e){this._lumps?this._lumps.push(e):this._lumps=[e],e.setBody(this)},a.prototype.addLumps=function(e){this._lumps||(this._lumps=[]);for(var t=0;t<e.length;++t)e[t].setBody(this);this._lumps=this._lumps.concat(e)},a.prototype.removeLump=function(e){var t=this._lumps.indexOf(e);return t>-1&&(this._lumps.splice(t,1),e.getBody()===this&&e.setBody(void 0),!0)},a.prototype.getBody=function(){return this},a.prototype.collectFaces=function(e){e=e||new Set;for(var t=0;t<this._lumps.length;++t)this._lumps[t].collectFaces(e);return e},a.prototype.collectEdges=function(e){e=e||new Set;for(var t=0;t<this._lumps.length;++t)this._lumps[t].collectEdges(e);return e},a.prototype.collectVertices=function(e){e=e||new Set;for(var t=0;t<this._lumps.length;++t)this._lumps[t].collectVertices(e);return e},a.prototype.getBoundingBox=function(){for(var e=new n.BoundingBox,t=0;t<this._lumps.length;++t)e.include(this._lumps[t].getBoundingBox());return e},a.prototype.transform=function(e){(0,s.transformTopology)(this,e)},a.prototype.toObject=function(){return{lumps:this.refsToStrings(this._lumps),attributes:this.refsToStrings(this._attributes)}},a.prototype.addToModelObject=function(e){this.addAllToModelObject(e,[this._lumps,this._attributes])},t.Body=a},92:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.BSurface=void 0;var o=r(1972),i=r(3344),n=r(2468),s=r(412),a=r(8796),c=r(5896),u=r(6824),l=r(6275),h=r(192),d=r(1288),p=r(880),g=r(4728),f=function(){s.Surface.call(this),this._uDegree=0,this._vDegree=0,this._uKnots=[],this._vKnots=[],this._controlPoints=[],this._weights=[],this._isClosedU=void 0,this._isClosedV=void 0,this._isPeriodicU=void 0,this._isPeriodicV=void 0,this._patches=void 0};(f.prototype=Object.create(s.Surface.prototype)).getGeometryType=function(){return n.GEOMETRY_TYPES.BSURFACE},f.prototype.clone=function(){var e=new f;return e.copy(this),e},f.prototype.copy=function(e){s.Surface.prototype.copy.call(this,e),this._uDegree=e._uDegree,this._vDegree=e._vDegree,this._uKnots=e._uKnots.slice(0),this._vKnots=e._vKnots.slice(0),this._controlPoints=e._controlPoints.slice(0),this._weights=e._weights.slice(0),this._clearCaches()},f.prototype.set=function(e,t,r,o,i,n){g.ConsoleUtils.assert(e>=1),this._uDegree=e,g.ConsoleUtils.assert(t>=1),this._vDegree=t,g.ConsoleUtils.assert(r.length>=2*(e+1)),this._uKnots=Array.prototype.slice.call(r),g.ConsoleUtils.assert(o.length>=2*(t+1)),this._vKnots=Array.prototype.slice.call(o);var s=r.length-e-1,a=o.length-t-1;g.ConsoleUtils.assert(i.length===3*s*a),this._controlPoints=Array.prototype.slice.call(i),n&&n.length>0?(g.ConsoleUtils.assert(n.length===s*a),this._weights=Array.prototype.slice.call(n)):this._weights=[],this._clearCaches()},f.prototype.getDegreeU=function(){return this._uDegree},f.prototype.getDegreeV=function(){return this._vDegree},f.prototype.setDegreeU=function(e){g.ConsoleUtils.assert(e>=1),this._uDegree=e,this._clearCaches()},f.prototype.setDegreeV=function(e){g.ConsoleUtils.assert(e>=1),this._vDegree=e,this._clearCaches()},f.prototype.getNumKnotsU=function(){return this._uKnots.length},f.prototype.getNumKnotsV=function(){return this._vKnots.length},f.prototype.getKnotsU=function(){return this._uKnots},f.prototype.getKnotsV=function(){return this._vKnots},f.prototype.setKnotsU=function(e){this._uKnots=e,this._clearCaches()},f.prototype.setKnotsV=function(e){this._vKnots=e,this._clearCaches()},f.prototype.getNumControlPointsU=function(){return this._uKnots.length-this._uDegree-1},f.prototype.getNumControlPointsV=function(){return this._vKnots.length-this._vDegree-1},f.prototype.getControlPoints=function(){return this._controlPoints},f.prototype.setControlPoints=function(e){this._controlPoints=e,this._clearCaches()},f.prototype.getWeights=function(){return this._weights},f.prototype.setWeights=function(e){e&&e.length>0?this._weights=e:this._weights=[],this._clearCaches()},f.prototype.isRational=function(){return this._weights.length>0},f.prototype.evaluate=function(e,t,r,o,i){g.ConsoleUtils.assert(r>=0),this.isPeriodicUnlimitedU()&&(e=(0,c.normalizeParameterToShiftedRange)(e,this.getRangeUnlimitedU())),this.isPeriodicUnlimitedV()&&(t=(0,c.normalizeParameterToShiftedRange)(t,this.getRangeUnlimitedV()));var n=(0,u.evaluateBSurfaceDerivs)(e,t,Math.min(r,3),this._uDegree,this._vDegree,this._uKnots,this._vKnots,this._controlPoints,this._weights),s={pos:n[0][0]};return r>=1&&(s.du=n[1][0],s.dv=n[0][1]),r>=2&&(s.duu=n[2][0],s.duv=n[1][1],s.dvv=n[0][2]),r>=3&&(s.duuu=n[3][0],s.duuv=n[2][1],s.duvv=n[1][2],s.dvvv=n[0][3]),s},f.prototype.evaluatePosition=function(e,t){return this.isPeriodicUnlimitedU()&&(e=(0,c.normalizeParameterToShiftedRange)(e,this.getRangeUnlimitedU())),this.isPeriodicUnlimitedV()&&(t=(0,c.normalizeParameterToShiftedRange)(t,this.getRangeUnlimitedV())),(0,u.evaluateBSurfacePoint)(e,t,this._uDegree,this._vDegree,this._uKnots,this._vKnots,this._controlPoints,this._weights)},f.prototype.evaluateNormal=function(e,t){return this.isPeriodicUnlimitedU()&&(e=(0,c.normalizeParameterToShiftedRange)(e,this.getRangeUnlimitedU())),this.isPeriodicUnlimitedV()&&(t=(0,c.normalizeParameterToShiftedRange)(t,this.getRangeUnlimitedV())),s.Surface.prototype.evaluateNormal.call(this,e,t)},f.prototype.evaluateDu=function(e,t){return this.isPeriodicUnlimitedU()&&(e=(0,c.normalizeParameterToShiftedRange)(e,this.getRangeUnlimitedU())),this.isPeriodicUnlimitedV()&&(t=(0,c.normalizeParameterToShiftedRange)(t,this.getRangeUnlimitedV())),(0,u.evaluateBSurfaceDerivs)(e,t,1,this._uDegree,this._vDegree,this._uKnots,this._vKnots,this._controlPoints,this._weights)[1][0]},f.prototype.evaluateDv=function(e,t){return this.isPeriodicUnlimitedU()&&(e=(0,c.normalizeParameterToShiftedRange)(e,this.getRangeUnlimitedU())),this.isPeriodicUnlimitedV()&&(t=(0,c.normalizeParameterToShiftedRange)(t,this.getRangeUnlimitedV())),(0,u.evaluateBSurfaceDerivs)(e,t,1,this._uDegree,this._vDegree,this._uKnots,this._vKnots,this._controlPoints,this._weights)[0][1]},f.prototype.insertKnotU=function(e,t){var r=(0,l.insertBSurfaceKnotU)(e,t,this._uDegree,this._vDegree,this._uKnots,this._vKnots,this._controlPoints,this._weights);this._uKnots=r.uknots,this._controlPoints=r.P,this._weights=r.weights||[],this._clearCaches()},f.prototype.insertKnotV=function(e,t){var r=(0,l.insertBSurfaceKnotV)(e,t,this._uDegree,this._vDegree,this._uKnots,this._vKnots,this._controlPoints,this._weights);this._vKnots=r.vknots,this._controlPoints=r.P,this._weights=r.weights||[],this._clearCaches()},f.prototype.relaxToPerpendicular=function(e,t,r,i,n,s,a){var c=this;i&&0!==i.length||(i=this.getRangeU()),n&&0!==n.length||(n=this.getRangeV());var u=(0,p.newtonRaphson2D)((function(t){var r=c.evaluate(t[0],t[1],2);o.Vector3.sub(r.pos,r.pos,e);var i=o.Vector3.dot(r.du,r.pos),n=o.Vector3.dot(r.dv,r.pos),s=o.Vector3.dot(r.duu,r.pos)+o.Vector3.dot(r.du,r.du),a=o.Vector3.dot(r.duv,r.pos)+o.Vector3.dot(r.du,r.dv);return{val:[i,n],deriv1:[s,a],deriv2:[a,o.Vector3.dot(r.dvv,r.pos)+o.Vector3.dot(r.dv,r.dv)]}}),[t,r],[i,n]);return{u:u.param[0],v:u.param[1],status:u.status}},f.prototype.closestParam=function(e){for(var t=o.FLOAT64_TOLERANCE,r=[[this.getRangeU(),this.getRangeV()]],i=this.getBezierPatches(),n=(0,d.closestBSurfacePatches)(e,i,r),s=Number.POSITIVE_INFINITY,a={u:void 0,v:void 0},u=0;u<n.length;++u)if(!(n[u].minDistSqr>s))for(var l=n[u].index,h=i[l[0]][l[1]],p=h.getRangeUnlimitedU(),g=h.getRangeUnlimitedV(),f=0;f<r.length;++f){var v=[Math.max(p[0],r[f][0][0]),Math.min(p[1],r[f][0][1])],_=[Math.max(g[0],r[f][1][0]),Math.min(g[1],r[f][1][1])];if(!(v[1]-v[0]<=o.FLOAT64_TOLERANCE||_[1]-_[0]<=o.FLOAT64_TOLERANCE)){var y=(0,d.closestBSurfacePointApprox)(e,h.getDegreeU(),h.getDegreeV(),h.getKnotsU(),h.getKnotsV(),h.getControlPoints(),h.isRational()?h.getWeights():void 0,v,_),m=this.relaxToPerpendicular(e,y.u,y.v,v,_,t,64),E=h.evaluatePosition(m.u,m.v),x=o.Vector3.squaredDistance(E,e);x<s&&(s=x,a.u=m.u,a.v=m.v)}}return this.isPeriodicUnlimitedU()&&(a.u=(0,c.foldNearTo)(a.u,.5*(this.getRangeU()[0]+this.getRangeU()[1]),this.getPeriodUnlimitedU())),this.isPeriodicUnlimitedV()&&(a.v=(0,c.foldNearTo)(a.v,.5*(this.getRangeV()[0]+this.getRangeV()[1]),this.getPeriodUnlimitedV())),a},f.prototype.vParamLine=function(e){var t=(0,l.extractBSurfaceParamLineV)(e,this._uDegree,this._vDegree,this._uKnots,this._vKnots,this._controlPoints,this._weights),r=t.ctrlPts.length/3;t.weights&&0!==t.weights.length||(t.weights=new Array(r),t.weights.fill(1));var o=new a.BCurve;return o.set(t.ctrlPts,t.weights,this._vDegree,this._vKnots),o},f.prototype.uParamLine=function(e){var t=(0,l.extractBSurfaceParamLineU)(e,this._uDegree,this._vDegree,this._uKnots,this._vKnots,this._controlPoints,this._weights),r=t.ctrlPts.length/3;t.weights&&0!==t.weights.length||(t.weights=new Array(r),t.weights.fill(1));var o=new a.BCurve;return o.set(t.ctrlPts,t.weights,this._uDegree,this._uKnots),o},f.prototype.getBoundingBox=function(e,t){for(var r=new i.BoundingBox,n=o.Vector3.createFloat64(),s=0;s<this._controlPoints.length;s+=3)o.Vector3.set(n,this._controlPoints[s],this._controlPoints[s+1],this._controlPoints[s+2]),r.includePoint(n);return r},f.prototype.transform=function(e){for(var t=o.Vector3.createFloat64(),r=0;r<this._controlPoints.length;r+=3)o.Vector3.set(t,this._controlPoints[r],this._controlPoints[r+1],this._controlPoints[r+2]),o.Vector3.transformMatrix44(t,t,e),this._controlPoints[r]=t[0],this._controlPoints[r+1]=t[1],this._controlPoints[r+2]=t[2];this._clearCaches()},f.prototype.getRangeUnlimitedU=function(){return[this._uKnots[0],this._uKnots[this._uKnots.length-1]]},f.prototype.getRangeUnlimitedV=function(){return[this._vKnots[0],this._vKnots[this._vKnots.length-1]]},f.prototype.isPeriodicUnlimitedU=function(){return this._checkClosure(),this._isPeriodicU},f.prototype.isPeriodicUnlimitedV=function(){return this._checkClosure(),this._isPeriodicV},f.prototype.isClosedUnlimitedU=function(){return this._checkClosure(),this._isClosedU},f.prototype.isClosedUnlimitedV=function(){return this._checkClosure(),this._isClosedV},f.prototype._checkClosure=function(){void 0!==this._isClosedU&&void 0!==this._isPeriodicU||(this._isClosedU=this._isPeriodicU=!1),void 0!==this._isClosedV&&void 0!==this._isPeriodicV||(this._isClosedV=this._isPeriodicV=!1)},f.prototype.isSimpleBezier=function(){return this._uKnots.length===2*this._uDegree+2&&this._vKnots.length===2*this._vDegree+2},f.prototype.getBezierPatches=function(){if(this.isSimpleBezier())return this._patches=void 0,[[this]];if(!this._patches){var e=(0,h.decomposeBSurfaceToBezier)(this._uDegree,this._vDegree,this._uKnots,this._vKnots,this._controlPoints,this._weights);this._patches=[];for(var t=0;t<e.U.length;++t){this._patches[t]=[];for(var r=0;r<e.V.length;++r){var o=new f;o.set(this._uDegree,this._vDegree,e.U[t],e.V[r],e.P[t][r],e.w?e.w[t][r]:void 0),this._patches[t][r]=o}}}return this._patches},f.prototype._clearCaches=function(){this._isClosedU=void 0,this._isClosedV=void 0,this._isPeriodicU=void 0,this._isPeriodicV=void 0,this._patches=void 0},f.prototype.toObject=function(){return{uDegree:this._uDegree,vDegree:this._vDegree,uKnots:this._uKnots,vKnots:this._vKnots,controlPoints:this._controlPoints,weights:this._weights,uRange:this.rangeToObject(this.getRangeU(),this.isLimitedU()),vRange:this.rangeToObject(this.getRangeV(),this.isLimitedV())}},t.BSurface=f},2236:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.checkValidity=void 0;var o=r(1972),i=r(2468),n=r(1472),s=r(3565),a=r(412),c=r(7616);function u(e){var t=[],r=e.getGuid();return r&&\"string\"==typeof r||t.push({error:\"BaseTopology has invalid GUID\",source:[e]}),t}function l(e){var t=u(e),r=0,o=0,n=0,s=e.getLumps();if(s.length>0){for(var a=new Set,c=0;c<s.length;++c){var l=s[c];a.add(l),l&&l.getTopologyType()===i.TOPOLOGY_TYPES.LUMP?l.getBody()!==e&&t.push({error:\"Body is not the parent of child Lump\",source:[e,l]}):t.push({error:\"Body has invalid element in Lump array\",source:[e,l]}),r+=l.collectFaces().size,o+=l.collectEdges().size,n+=l.collectVertices().size}a.size!==s.length&&t.push({error:\"Body has non-unique Lumps\",source:[e]})}return r!==e.collectFaces().size&&t.push({error:\"Body has Lumps which share Faces\",source:[e]}),o!==e.collectEdges().size&&t.push({error:\"Body has Lumps which share Edges\",source:[e]}),n!==e.collectVertices().size&&t.push({error:\"Body has Lumps which share Vertices\",source:[e]}),t}function h(e){var t=u(e),r=e.getBody();r&&r.getTopologyType()!==i.TOPOLOGY_TYPES.BODY&&t.push({error:\"Lump has invalid parent Body\",source:[e]});var o=0,n=0,s=0,a=e.getShells();if(a.length>0){for(var c=new Set,l=0;l<a.length;++l){var h=a[l];c.add(h),h&&h.getTopologyType()===i.TOPOLOGY_TYPES.SHELL?h.getLump()!==e&&t.push({error:\"Lump is not the parent of child Shell\",source:[e,h]}):t.push({error:\"Lump has invalid element in Shell array\",source:[e,h]}),o+=h.collectFaces().size,n+=h.collectEdges().size,s+=h.collectVertices().size}c.size!==a.length&&t.push({error:\"Lump has non-unique Shells\",source:[e]})}else t.push({error:\"Lump has no Shells\",source:[e]});return o!==e.collectFaces().size&&t.push({error:\"Lump has Shells which share Faces\",source:[e]}),n!==e.collectEdges().size&&t.push({error:\"Lump has Shells which share Edges\",source:[e]}),s!==e.collectVertices().size&&t.push({error:\"Lump has Shells which share Vertices\",source:[e]}),t}function d(e){var t=u(e),r=e.getLump();r&&r.getTopologyType()!==i.TOPOLOGY_TYPES.LUMP&&t.push({error:\"Shell has invalid parent Lump\",source:[e]});var o=e.getFaces();if(o.length>0){for(var n=new Set,s=0;s<o.length;++s){var a=o[s];n.add(a),a&&a.getTopologyType()===i.TOPOLOGY_TYPES.FACE?a.getShell()!==e&&t.push({error:\"Shell is not the parent of child Face\",source:[e,a]}):t.push({error:\"Shell has invalid element in Face array\",source:[e,a]})}n.size!==o.length&&t.push({error:\"Shell has non-unique Faces\",source:[e]})}else t.push({error:\"Shell has no Faces\",source:[e]});1!==(0,c.findConnectedFaces)(e.getFaces()).length&&t.push({error:\"Shell is disconnected\",source:[e]});var l=e.collectVertices(),h=e.collectEdges(),d=new Set,p=new Set;return l.forEach((function(e){e.collectEdges(d),e.collectFaces(p)})),d.size!==h.size&&t.push({error:\"Shell has rogue edges\",source:[e]}),l.size>0&&p.size!==e.getFaces().length&&t.push({error:\"Shell has rogue faces\",source:[e]}),t}function p(e){var t=u(e),r=e.getShell();r&&r.getTopologyType()!==i.TOPOLOGY_TYPES.SHELL&&t.push({error:\"Face has invalid parent Shell\",source:[e]});var o=0,n=0,s=e.getLoops(),c=e.getSurface();if(s.length>0){for(var l=new Set,h=0;h<s.length;++h){var d=s[h];l.add(d),d&&d.getTopologyType()===i.TOPOLOGY_TYPES.LOOP?d.getFace()!==e&&t.push({error:\"Face is not the parent of child Loop\",source:[e,d]}):t.push({error:\"Face has invalid element in Loop array\",source:[e,d]}),o+=d.collectEdges().size,n+=d.collectVertices().size}l.size!==s.length&&t.push({error:\"Face has non-unique Loops\",source:[e]})}else{var p=c.getGeometryType()===i.GEOMETRY_TYPES.SPHERE,g=c.getGeometryType()===i.GEOMETRY_TYPES.TORUS&&c.isDoughnut();p||g||t.push({error:\"Face has no Loops\",source:[e]})}return o!==e.collectEdges().size&&t.push({error:\"Face has Loops which share Edges\",source:[e]}),n!==e.collectVertices().size&&t.push({error:\"Face has Loops which share Vertices\",source:[e]}),c?c instanceof a.Surface||t.push({error:\"Face has invalid Surface geometry\",source:[e,c]}):t.push({error:\"Face has no Surface geometry\",source:[e]}),t}function g(e){var t=u(e),r=e.getFace();r&&r.getTopologyType()!==i.TOPOLOGY_TYPES.FACE&&t.push({error:\"Loop has invalid parent Face\",source:[e]});var o=e.getCoedges();if(o.length>0){for(var n=new Set,s=0;s<o.length;++s){var a=o[s];if(n.add(a),a&&a.getTopologyType()===i.TOPOLOGY_TYPES.COEDGE){a.getLoop()!==e&&t.push({error:\"Loop is not the parent of child Coedge\",source:[e,a]});var c=o[(s+1)%o.length];a.getEndVertex()!==c.getStartVertex()&&t.push({error:\"Loop has disconnected Coedges\",source:[e,a,c]})}else t.push({error:\"Loop has invalid element in Coedge array\",source:[e,a]})}n.size!==o.length&&t.push({error:\"Loop has non-unique Coedges\",source:[e]})}else t.push({error:\"Loop has no Coedges\",source:[e]});return t}function f(e){var t=u(e),r=e.getLoop();r&&r.getTopologyType()!==i.TOPOLOGY_TYPES.LOOP&&t.push({error:\"Coedge has invalid parent Loop\",source:[e]});var o=e.getBody(),n=new Set,s=e;do{if(n.has(s)){t.push({error:\"Coedge partner list does not form a loop\",source:[e]});break}if(n.add(s),!s.getPartner()){s!==e&&t.push({error:\"Coedge has no partner\",source:[e,s]});break}if((s=s.getPartner()).getTopologyType()!==i.TOPOLOGY_TYPES.COEDGE){t.push({error:\"Coedge has invalid entry in partner list\",source:[e,s]});break}s.getEdge()!==e.getEdge()&&t.push({error:\"Coedge partner refers to a different Edge\",source:[e,s]}),s.getBody()!==o&&t.push({error:\"Coedge partner is part of a different Body\",source:[e,s]})}while(s!==e);var a=e.getEdge();return a?a.getTopologyType()!==i.TOPOLOGY_TYPES.EDGE?t.push({error:\"Coedge has invalid Edge\",source:[e,a]}):(s=a.getCoedge())&&n.has(s)||t.push({error:\"Coedge partner list does not include parent of Edge\",source:[e,a]}):t.push({error:\"Coedge has no Edge\",source:[e]}),t}function v(e){var t=u(e),r=e.getCoedge(),s=e.getWire();s&&r?t.push({error:\"Edge has too many parents, both Wire and Coedge\",source:[e]}):s?s.getTopologyType()!==i.TOPOLOGY_TYPES.WIRE&&t.push({error:\"Edge has invalid parent Wire\",source:[e]}):r&&r.getTopologyType()!==i.TOPOLOGY_TYPES.COEDGE&&t.push({error:\"Edge has invalid parent Coedge\",source:[e]});for(var a=e.getVertices(),c=0;c<a.length;++c){var l=a[c];l&&l.getTopologyType()===i.TOPOLOGY_TYPES.VERTEX?l.isAdjacentEdge(e)||t.push({error:\"Edge is not adjacent to own Vertex\",source:[e,l]}):t.push({error:\"Edge has invalid Vertex\",source:[e,l]})}var h=e.getCurve();return h?h instanceof n.Curve?t=t.concat(function(e,t){var r=[],n=e.isReversed(),s=e.getRange();if(void 0===s||2!==s.length||void 0===s[0]||void 0===s[1]||s[1]<s[0])return r.push({error:\"Edge range is not defined\",source:[e,s]}),r;var a=e.getStartVertex(),c=n?-e.t0():e.t0(),u=t.evaluatePosition(c),l=Math.max(i.KERNEL_TOLERANCE,a.getPrecision());o.Vector3.equals(a.getPosition(),u,l)||r.push({error:\"Edge start position not consistent with Vertex\",source:[e,a,u]});var h=e.getEndVertex(),d=n?-e.t1():e.t1(),p=t.evaluatePosition(d),g=Math.max(i.KERNEL_TOLERANCE,h.getPrecision());return o.Vector3.equals(h.getPosition(),p,g)||r.push({error:\"Edge end position not consistent with Vertex\",source:[e,h,p]}),e.isClosed()?(a!==h&&r.push({error:\"Edge is closed but has different start and end Vertices\",source:[e]}),o.Vector3.equals(u,p,i.KERNEL_TOLERANCE)||r.push({error:\"Edge is closed but has different start and end positions\",source:[e,u,p]}),t.isClosed()||r.push({error:\"Edge is closed but its curve is not\",source:[e]})):(a===h&&r.push({error:\"Edge is open but has same start and end Vertices\",source:[e]}),o.Vector3.equals(u,p,i.KERNEL_TOLERANCE)&&r.push({error:\"Edge is open but has same start and end positions\",source:[e,u,p]})),t.isPeriodic()?Math.abs(d-c)>t.getPeriod()+i.PARAMETER_SPACE_TOLERANCE&&r.push({error:\"Edge parameter range is longer than curve period\",source:[e]}):((c+i.PARAMETER_SPACE_TOLERANCE<t.getRange()[0]||c-i.PARAMETER_SPACE_TOLERANCE>t.getRange()[1])&&r.push({error:\"Edge start parameter is outside of curve range\",source:[e]}),(d+i.PARAMETER_SPACE_TOLERANCE<t.getRange()[0]||d-i.PARAMETER_SPACE_TOLERANCE>t.getRange()[1])&&r.push({error:\"Edge end parameter is outside of curve range\",source:[e]})),r}(e,h)):t.push({error:\"Edge has invalid Curve geometry\",source:[e,h]}):t=t.concat(function(e){if(e.getWire())return[{error:\"Degenerate Edge is part of a Wire\",source:[e]}];if(e.getStartVertex()!==e.getEndVertex())return[{error:\"Degenerate Edge has different start and end vertices\",source:[e]}];var t=Array.from(e.collectFaces());if(0===t.length)return[];if(1!==t.length)return[{error:\"Degenerate Edge is part of multiple Faces\",source:[e]}];var r=e.getStartVertex().getPosition(),n=t[0].getSurface(),s=n.getGeometryType();if(s===i.GEOMETRY_TYPES.PLANE||s===i.GEOMETRY_TYPES.CYLINDER||s===i.GEOMETRY_TYPES.ELLIPTICAL_CYLINDER||s===i.GEOMETRY_TYPES.SPHERE)return[{error:\"Degenerate Edge is on a surface with no singularities\",source:[e,n]}];if(s===i.GEOMETRY_TYPES.CONE||s===i.GEOMETRY_TYPES.ELLIPTICAL_CONE){if(!(l=n.getApexPosition()))return[{error:\"Degenerate Edge is on a surface with no singularities\",source:[e,n]}];if(!o.Vector3.equals(r,l,i.KERNEL_TOLERANCE))return[{error:\"Degenerate Edge is not at a surface singularity\",source:[e,n]}]}else{if(s!==i.GEOMETRY_TYPES.TORUS)return[{error:\"Degenerate Edge is not on an analytic surface\",source:[e]}];for(var a=!1,c=n.getSingularUParams(),u=0;u<c.length;++u){var l=n.evaluatePosition(c[u],0);o.Vector3.equals(r,l,i.KERNEL_TOLERANCE)&&(a=!0)}if(!a)return[{error:\"Degenerate Edge is not at a surface singularity\",source:[e,n]}]}return[]}(e)),t}function _(e){var t=u(e),r=e.getEdges();if(r.length>0)for(var o=e.getBody(),n=0;n<r.length;++n){var a=r[n];a&&a.getTopologyType()===i.TOPOLOGY_TYPES.EDGE?a.getStartVertex()!==e&&a.getEndVertex()!==e?t.push({error:\"Vertex is not an end-point of adjacent Edge\",source:[e,a]}):a.getBody()!==o&&t.push({error:\"Vertex has adjacent Edge from a different body\",source:[e,a]}):t.push({error:\"Vertex has invalid entry in Edge list\",source:[e,a]})}else t.push({error:\"Vertex has no adjacent Edges\",source:[e]});var c=e.getPoint();return c?c instanceof s.Point||t.push({error:\"Vertex has invalid Point geometry\",source:[e,c]}):t.push({error:\"Vertex has no Point geometry\",source:[e]}),t}function y(e){var t=u(e),r=0,o=0,n=e.getWires();if(n.length>0){for(var s=new Set,a=0;a<n.length;++a){var c=n[a];s.add(c),c&&c.getTopologyType()===i.TOPOLOGY_TYPES.WIRE?c.getWireBody()!==e&&t.push({error:\"WireBody is not the parent of child Wire\",source:[e,c]}):t.push({error:\"WireBody has invalid element in Wire array\",source:[e,c]}),r+=c.collectEdges().size,o+=c.collectVertices().size}s.size!==n.length&&t.push({error:\"WireBody has non-unique Wires\",source:[e]})}else t.push({error:\"WireBody has no Wires\",source:[e]});return r!==e.collectEdges().size&&t.push({error:\"WireBody has Wires which share Edges\",source:[e]}),o!==e.collectVertices().size&&t.push({error:\"WireBody has Wires which share Vertices\",source:[e]}),t}function m(e){var t=u(e),r=e.getWireBody();r&&r.getTopologyType()!==i.TOPOLOGY_TYPES.WIREBODY&&t.push({error:\"Wire has invalid parent WireBody\",source:[e]});var o=e.getEdges();if(o.length>0){for(var n=new Set,s=0;s<o.length;++s){var a=o[s];n.add(a),a&&a.getTopologyType()===i.TOPOLOGY_TYPES.EDGE?a.getWire()!==e&&t.push({error:\"Wire is not the parent of child Edge\",source:[e,a]}):t.push({error:\"Wire has invalid element in Edge array\",source:[e,a]})}n.size!==o.length&&t.push({error:\"Wire has non-unique Edges\",source:[e]});var l=(0,c.findConnectedEdges)(o);1!==l.length?t.push({error:\"Wire is not a connected set of Edges\",source:[e]}):l[0].length!==o.length&&t.push({error:\"Wire is connected to other unknown Edges\",source:[e]})}else t.push({error:\"Wire has no Edges\",source:[e]});return t}t.checkValidity=function(e){for(var t,r,o,n=[],s=[e],a=new Set,c=new Map;s.length>0;){a.clear();var u=new Set;for(t=0;t<s.length;++t){switch((r=s[t]).getTopologyType()){case i.TOPOLOGY_TYPES.BODY:n=n.concat(l(r)),r.getLumps().forEach((function(e){a.add(e)}));break;case i.TOPOLOGY_TYPES.LUMP:n=n.concat(h(r)),r.getShells().forEach((function(e){a.add(e)}));break;case i.TOPOLOGY_TYPES.SHELL:n=n.concat(d(r)),r.getFaces().forEach((function(e){a.add(e)}));break;case i.TOPOLOGY_TYPES.FACE:n=n.concat(p(r)),r.getLoops().forEach((function(e){a.add(e)})),r.getSurface()&&u.add(r.getSurface());break;case i.TOPOLOGY_TYPES.LOOP:n=n.concat(g(r)),r.getCoedges().forEach((function(e){a.add(e)}));break;case i.TOPOLOGY_TYPES.COEDGE:n=n.concat(f(r)),a.add(r.getEdge());break;case i.TOPOLOGY_TYPES.EDGE:n=n.concat(v(r)),r.getVertices().forEach((function(e){e&&a.add(e)})),r.getCurve()&&u.add(r.getCurve());break;case i.TOPOLOGY_TYPES.VERTEX:n=n.concat(_(r)),r.getPoint()&&u.add(r.getPoint());break;case i.TOPOLOGY_TYPES.WIREBODY:n=n.concat(y(r)),r.getWires().forEach((function(e){a.add(e)}));break;case i.TOPOLOGY_TYPES.WIRE:n=n.concat(m(r)),r.getEdges().forEach((function(e){a.add(e)}))}o=r.getGuid(),c.has(o)?n.push({error:\"Objects have clashing GUIDs\",source:[r,c.get(o)]}):c.set(o,r)}for(u=Array.from(u),t=0;t<u.length;++t)o=(r=u[t]).getGuid(),c.has(o)?n.push({error:\"Objects have clashing GUIDs\",source:[r,c.get(o)]}):c.set(o,r);s=Array.from(a)}return n}},5512:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Circle=void 0;var o=r(1972),i=r(3344),n=r(2355),s=r(2468),a=r(1472),c=r(5896),u=r(4728),l=r(4336),h=function(){a.Curve.call(this),this._center=o.Vector3.createFloat64FromValues(0,0,0),this._normal=o.Vector3.createFloat64FromValues(0,0,1),this._xAxis=o.Vector3.createFloat64FromValues(1,0,0),this._yAxis=o.Vector3.createFloat64FromValues(0,1,0),this._radius=1};(h.prototype=Object.create(a.Curve.prototype)).getGeometryType=function(){return s.GEOMETRY_TYPES.CIRCLE},h.prototype.set=function(e,t,r){u.ConsoleUtils.assert(o.Vector3.squaredLength(t)>s.KERNEL_TOLERANCE*s.KERNEL_TOLERANCE),u.ConsoleUtils.assert(o.Vector3.squaredLength(r)>s.KERNEL_TOLERANCE*s.KERNEL_TOLERANCE),u.ConsoleUtils.assert(o.Vector3.isOrthogonal(t,r,s.KERNEL_ANGULAR_TOLERANCE)),o.Vector3.copy(this._center,e),o.Vector3.normalize(this._normal,t),o.Vector3.normalize(this._xAxis,r),this._radius=o.Vector3.length(r),this._computeYAxis()},h.prototype._computeYAxis=function(){o.Vector3.cross(this._yAxis,this._normal,this._xAxis)},h.prototype.clone=function(){var e=new h;return e.copy(this),e},h.prototype.getCenter=function(){return this._center},h.prototype.getNormal=function(){return this._normal},h.prototype.setNormal=function(e){u.ConsoleUtils.assert(o.Vector3.squaredLength(e)>s.KERNEL_TOLERANCE*s.KERNEL_TOLERANCE),this._normal!==e&&(o.Vector3.normalize(this._normal,e),o.Vector3.isOrthogonal(this._xAxis,this._normal)||(o.Vector3.computeOrthogonal(this._xAxis,this._normal),o.Vector3.normalize(this._xAxis,this._xAxis)),this._computeYAxis())},h.prototype.getRadius=function(){return this._radius},h.prototype.setRadius=function(e){u.ConsoleUtils.assert(e>s.KERNEL_TOLERANCE),this._radius=e},h.prototype.setCenter=function(e){o.Vector3.copy(this._center,e)},h.prototype.setOrigin=function(e){u.ConsoleUtils.assert(o.Vector3.squaredLength(e)>s.KERNEL_TOLERANCE*s.KERNEL_TOLERANCE),u.ConsoleUtils.assert(o.Vector3.isOrthogonal(e,this._normal,s.KERNEL_ANGULAR_TOLERANCE)),o.Vector3.normalize(this._xAxis,e),this._computeYAxis()},h.prototype.copy=function(e){a.Curve.prototype.copy.call(this,e),o.Vector3.copy(this._xAxis,e._xAxis),o.Vector3.copy(this._yAxis,e._yAxis),this._radius=e._radius,o.Vector3.copy(this._center,e._center),o.Vector3.copy(this._normal,e._normal)},h.prototype.getRangeUnlimited=function(){return[-Math.PI,Math.PI]},h.prototype.isPeriodicUnlimited=function(){return!0},h.prototype.isClosedUnlimited=function(){return!0},h.prototype._computeRadiusVector=function(){return o.Vector3.scale(o.Vector3.createFloat64(),this._xAxis,this._radius)},h.prototype.tessellate=function(e,t){t=t||s.TESSELLATION.LINEAR_PRECISION;var r={positions:[],offsets:[],tolerance:0};r.offsets.push(0);for(var o=e[0],i=1;i<e.length;++i){var n=e[i],a=l.CurveTessellator.getCircularArcRenderPoints(this,[o,n],t,1===i,r.positions);r.offsets.push(r.positions.length-1),o=n,r.tolerance=Math.max(r.tolerance,a)}return r},h.prototype.evaluatePosition=function(e){var t=o.Vector3.createFloat64FromValues(0,0,0);return o.Vector3.scaleAndAdd(t,t,this._xAxis,Math.cos(e)*this._radius),o.Vector3.scaleAndAdd(t,t,this._yAxis,Math.sin(e)*this._radius),o.Vector3.add(t,t,this._center),t},h.prototype.evaluateDt=function(e){var t=o.Vector3.createFloat64FromValues(0,0,0);return o.Vector3.scaleAndAdd(t,t,this._xAxis,-Math.sin(e)*this._radius),o.Vector3.scaleAndAdd(t,t,this._yAxis,Math.cos(e)*this._radius),t},h.prototype.evaluateDtt=function(e){var t=o.Vector3.createFloat64FromValues(0,0,0);return o.Vector3.scaleAndAdd(t,t,this._xAxis,-Math.cos(e)*this._radius),o.Vector3.scaleAndAdd(t,t,this._yAxis,-Math.sin(e)*this._radius),t},h.prototype.tangentLength=function(e){return this.getRadius()},h.prototype.getArcLength=function(e){return void 0===e?e=this.getRange():0===e.length&&(e=this.getRangeUnlimited()),this.getRadius()*(e[1]-e[0])},h.prototype.getParameterFromArcLength=function(e,t){void 0===t?t=this.getRange():0===t.length&&(t=this.getRangeUnlimited());var r=t[0]+e/this.getRadius();return(0,c.clamp)(r,t[0],t[1])},h.prototype.getBoundingBox=function(e){void 0===e?e=this.getRange():0===e.length&&(e=this.getRangeUnlimited());var t=(0,c.minMaxCosSinFunc)(this._xAxis[0]*this._radius,this._yAxis[0]*this._radius,this._center[0],e),r=(0,c.minMaxCosSinFunc)(this._xAxis[1]*this._radius,this._yAxis[1]*this._radius,this._center[1],e),o=(0,c.minMaxCosSinFunc)(this._xAxis[2]*this._radius,this._yAxis[2]*this._radius,this._center[2],e),n=new i.BoundingBox;return n.min[0]=t[0],n.max[0]=t[1],n.min[1]=r[0],n.max[1]=r[1],n.min[2]=o[0],n.max[2]=o[1],n},h.prototype.getTangentCone=function(e){void 0===e?e=this.getRange():0===e.length&&(e=this.getRangeUnlimited());var t=.5*(e[0]+e[1]),r=o.Vector3.createFloat64FromValues(0,0,0);o.Vector3.scaleAndAdd(r,r,this._xAxis,-Math.sin(t)),o.Vector3.scaleAndAdd(r,r,this._yAxis,Math.cos(t));var i=Math.min(Math.PI,.5*(e[1]-e[0]));return new n.TangentCone(r,i)},h.prototype.closestToRayParam=function(e,t,r){var i=o.Vector3.createFloat64();o.Vector3.sub(i,this._center,e);var n=o.Vector3.dot(i,this._normal)/o.Vector3.dot(t,this._normal);if(isFinite(n)){var s=o.Vector3.createFloat64();return o.Vector3.scaleAndAdd(s,e,t,n),this.closestToPointParam(s,r)}},h.prototype.getRadiusAndRangeFromEndpoints=function(e,t,r){var i=o.Vector3.createFloat64();o.Vector3.sub(i,e,this._center);var n=o.Vector3.createFloat64();o.Vector3.sub(n,t,this._center);var a,u=.5*(o.Vector3.length(i)+o.Vector3.length(n)),l=o.Vector3.dot(i,this._xAxis),h=o.Vector3.dot(i,this._yAxis),d=(0,c.normalizeAngle)(Math.atan2(h,l));if(e===t||o.Vector3.squaredDistance(e,t)<s.KERNEL_TOLERANCE*s.KERNEL_TOLERANCE)a=d+c.PI2;else{var p=o.Vector3.dot(n,this._xAxis),g=o.Vector3.dot(n,this._yAxis);if((a=(0,c.normalizeAngle)(Math.atan2(g,p)))<d&&(a+=c.PI2),r){var f=a;a=d,d=f-c.PI2}}return{radius:u,range:[d,a]}},h.prototype.closestToPointParam=function(e,t){void 0===t?t=this.getRange():0===t.length&&(t=this.getRangeUnlimited());var r=o.Vector3.createFloat64();o.Vector3.sub(r,e,this._center);var i,n=o.Vector3.dot(r,this._xAxis),a=o.Vector3.dot(r,this._yAxis);return i=n*n+a*a<s.KERNEL_TOLERANCE*s.KERNEL_TOLERANCE?.5*Math.PI:Math.atan2(a,n),i=(0,c.foldNearTo)(i,.5*(t[0]+t[1]),2*Math.PI),i=(0,c.clamp)(i,t[0],t[1])},h.prototype.transform=function(e){o.Vector3.transformMatrix44(this._center,this._center,e),o.Vector3.transformAsDirectionMatrix44(this._normal,this._normal,e),o.Vector3.scale(this._xAxis,this._xAxis,this._radius),o.Vector3.transformAsDirectionMatrix44(this._xAxis,this._xAxis,e),this._radius=o.Vector3.length(this._xAxis),o.Vector3.normalize(this._normal,this._normal),o.Vector3.normalize(this._xAxis,this._xAxis),this._computeYAxis()},h.prototype.suggestSplittingParam=function(e){},h.prototype.toObject=function(){const e=this.evaluatePosition(0);return o.Vector3.sub(e,e,this.getCenter()),{center:this.vectorToObject(this._center),radius:this.vectorToObject(e),normal:this.vectorToObject(this._normal),range:this.rangeToObject(this.getRange(),this.isLimited())}},t.Circle=h},672:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Coedge=void 0;var o=r(1972),i=r(9547),n=r(2468),s=r(4728),a=r(5896),c=r(5416),u=function(e){i.BaseTopology.call(this),this._reversed=!1,this._edge=e,this._loop=void 0,this._partner=void 0,this._uvCurve=void 0};(u.prototype=Object.create(i.BaseTopology.prototype)).getTopologyType=function(){return n.TOPOLOGY_TYPES.COEDGE},u.prototype.getEdge=function(){return this._edge},u.prototype.getLoop=function(){return this._loop},u.prototype.getPartner=function(){return this._partner},u.prototype.setEdge=function(e){this._edge=e},u.prototype.setLoop=function(e){this._loop=e},u.prototype.setPartner=function(e){this._partner=e},u.prototype.getStartVertex=function(){return this._reversed?this._edge.getEndVertex():this._edge.getStartVertex()},u.prototype.getEndVertex=function(){return this._reversed?this._edge.getStartVertex():this._edge.getEndVertex()},u.prototype.getFace=function(){return this._loop?this._loop.getFace():void 0},u.prototype.getNext=function(){if(this._loop){var e=this._loop.getCoedges(),t=e.indexOf(this);return s.ConsoleUtils.assert(t>=0),e[(t+1)%e.length]}},u.prototype.getPrevious=function(){if(this._loop){var e=this._loop.getCoedges(),t=e.indexOf(this);return s.ConsoleUtils.assert(t>=0),e[(0,a.modulus)(t-1,e.length)]}},u.prototype.isReversed=function(){return this._reversed},u.prototype.setReversed=function(e){this._reversed=e},u.prototype.getRange=function(){if(this._edge)return this._reversed?[-this._edge.t1(),-this._edge.t0()]:[this._edge.t0(),this._edge.t1()]},u.prototype.t0=function(){if(this._edge)return this._reversed?-this._edge.t1():this._edge.t0()},u.prototype.t1=function(){if(this._edge)return this._reversed?-this._edge.t0():this._edge.t1()},u.prototype.evaluatePosition=function(e){if(this._edge)return this.isReversed()&&(e=-e),this._edge.evaluatePosition(e)},u.prototype.evaluateDt=function(e){if(this._edge){this.isReversed()&&(e=-e);var t=this._edge.evaluateDt(e);return this.isReversed()&&o.Vector3.negate(t,t),t}},u.prototype.evaluateCurvature=function(e,t){if(this._edge)return this.isReversed()&&(e=-e),this._edge.evaluateCurvature(e,t)},u.prototype.evaluateFaceUV=function(e){var t=this.getFace();if(t){var r=this.evaluatePosition(e);return t.closestParam(r)}},u.prototype.evaluateInwardDirection=function(e){var t=this.getFace();if(t){var r=this.evaluateDt(e),i=this.evaluateFaceUV(e),n=t.evaluateNormal(i.u,i.v),s=[0,0,0];return o.Vector3.cross(s,n,r),o.Vector3.normalize(s,s),s}},u.prototype.getBoundingBox=function(){if(this._edge)return this._edge.getBoundingBox()},u.prototype.generateUVCurve=function(e){if(!this._uvCurve&&this._edge){var t=this._edge.getCurve();if(t&&this._loop&&this._loop.getFace()){var r=this._loop.getFace().getSurface();r&&r.getGeometryType()===n.GEOMETRY_TYPES.PLANE&&(e||(e=(0,a.getPlaneTransforms)(r).threeSpaceToUV),e?(this._uvCurve=t.clone(),this._uvCurve.transform(e)):this._uvCurve=t)}}},u.prototype.resetUVCurve=function(){this._uvCurve=void 0},u.prototype.uvAngleSubtended=function(e){var t=this._loop.getFace().getSurface().closestParam(e),r=[t.u,t.v,0];this.generateUVCurve(),s.ConsoleUtils.assert(this._uvCurve);var i=this.getRange(),u=1;this.isReversed()!==this._edge.isReversed()&&(i=[-i[1],-i[0]],u=-1),this._loop&&this._loop.getFace()&&this._loop.getFace().isReversed()&&(u*=-1);var l=!1,h=this._uvCurve.getRange();this._uvCurve.isClosed()&&i[1]-i[0]>=h[1]-h[0]-2*n.PARAMETER_SPACE_TOLERANCE&&(l=!0);var d=this._uvCurve.evaluatePosition(i[0]),p=this._uvCurve.evaluatePosition(i[1]),g=o.Vector3.createFloat64();o.Vector3.sub(g,d,r),o.Vector3.normalize(g,g);var f=o.Vector3.createFloat64();o.Vector3.sub(f,p,r),o.Vector3.normalize(f,f);var v=(0,a.getSignedAngle)(g,f),_=v<0,y=!1,m=!1;switch(this._edge.getCurveType()){case n.GEOMETRY_TYPES.LINE:break;case n.GEOMETRY_TYPES.CIRCLE:m=this._uvCurve.getNormal()[2]>0,y=o.Vector3.distance(r,this._uvCurve.getCenter())<this._uvCurve.getRadius(),l||(y=y&&_!==m);break;case n.GEOMETRY_TYPES.ELLIPSE:m=this._uvCurve.getNormal()[2]>0;var E=o.Vector3.sub([0,0,0],r,this._uvCurve.getCenter()),x=o.Vector3.dot(E,this._uvCurve.getMajorAxis())/this._uvCurve.getMajorRadius(),R=o.Vector3.dot(E,this._uvCurve.getMinorAxis())/this._uvCurve.getMinorRadius();y=x*x+R*R<=1,l||(y=y&&_!==m);break;case n.GEOMETRY_TYPES.BCURVE:this._uvCurve.isPlanarXY()||console.warn(\"Unsupported non-planar curve for uvAngleSubtended\");var A=[r[0],r[1]];y=c.SplineCurveHelper.isPointInsideSplineRegionXYPlanar3D(A,this._uvCurve,i),m=!0;break;default:throw new Error(\"Unsupported curve type for uvAngleSubtended\")}return l?v=y?2*Math.PI*(m?-1:1):0:y&&(v<0?v=2*Math.PI+v:v-=2*Math.PI),v*u},u.prototype.getBody=function(){return this._loop?this._loop.getBody():void 0},u.prototype.collectFaces=function(e){return e=e||new Set,this._loop&&this._loop.collectFaces(e),e},u.prototype.collectEdges=function(e){return e=e||new Set,this._edge&&e.add(this._edge),e},u.prototype.collectVertices=function(e){return e=e||new Set,this._edge&&this._edge.collectVertices(e),e},u.prototype.toString=function(){return\"Coedge\"},u.prototype.toObject=function(){return{edge:this.refToString(this._edge),partner:this.refToString(this._partner),reversed:this._reversed,attributes:this.refsToStrings(this._attributes)}},u.prototype.addToModelObject=function(e){this.addAllToModelObject(e,[this._edge,this._attributes])},t.Coedge=u},2984:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Cone=void 0;var o=r(1972),i=r(3344),n=r(2468),s=r(412),a=r(3565),c=r(1096),u=r(5512),l=r(4728),h=function(){s.Surface.call(this),this._center=o.Vector3.createFloat64(),this._radius=0,this._angle=0,this._uScale=1,this._xAxis=o.Vector3.createFloat64(),this._yAxis=o.Vector3.createFloat64(),this._zAxis=o.Vector3.createFloat64()};(h.prototype=Object.create(s.Surface.prototype)).getGeometryType=function(){return n.GEOMETRY_TYPES.CONE},h.prototype.clone=function(){var e=new h;return e.copy(this),e},h.prototype.copy=function(e){s.Surface.prototype.copy.call(this,e),this._radius=e._radius,this._angle=e._angle,this._uScale=e._uScale,o.Vector3.copy(this._center,e._center),o.Vector3.copy(this._xAxis,e._xAxis),o.Vector3.copy(this._yAxis,e._yAxis),o.Vector3.copy(this._zAxis,e._zAxis)},h.prototype._computeYAxis=function(){o.Vector3.cross(this._yAxis,this._xAxis,this._zAxis)},h.prototype.set=function(e,t,r,i,s,a){o.Vector3.copy(this._center,e),l.ConsoleUtils.assert(t>n.KERNEL_TOLERANCE),this._radius=t,l.ConsoleUtils.assert(o.Vector3.squaredLength(r)>n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE),o.Vector3.normalize(this._zAxis,r),l.ConsoleUtils.assert(Math.abs(i)<Math.PI/2),this._angle=i,void 0!==s&&o.Vector3.squaredLength(s)>n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE?(l.ConsoleUtils.assert(o.Vector3.isOrthogonal(r,s,n.KERNEL_ANGULAR_TOLERANCE)),o.Vector3.normalize(this._xAxis,s)):(o.Vector3.computeOrthogonal(this._xAxis,this._zAxis),o.Vector3.normalize(this._xAxis,this._xAxis)),this._uScale=a||1,l.ConsoleUtils.assert(this._uScale>n.PARAMETER_SPACE_TOLERANCE),this._computeYAxis()},h.prototype.getRadius=function(){return this._radius},h.prototype.setRadius=function(e){l.ConsoleUtils.assert(e>n.KERNEL_TOLERANCE),this._radius=e},h.prototype.getCenter=function(){return this._center},h.prototype.setCenter=function(e){o.Vector3.copy(this._center,e)},h.prototype.getAxisDir=function(){return this._zAxis},h.prototype.setAxisDir=function(e){l.ConsoleUtils.assert(o.Vector3.squaredLength(e)>n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE),o.Vector3.normalize(this._zAxis,e),(o.Vector3.squaredLength(this._xAxis)<=n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE||!o.Vector3.isOrthogonal(this._xAxis,this._zAxis,n.KERNEL_ANGULAR_TOLERANCE))&&(o.Vector3.computeOrthogonal(this._xAxis,this._zAxis),o.Vector3.normalize(this._xAxis,this._xAxis)),this._computeYAxis()},h.prototype.getUvOriginDir=function(){return this._xAxis},h.prototype.setUvOriginDir=function(e){l.ConsoleUtils.assert(o.Vector3.squaredLength(e)>n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE),o.Vector3.normalize(this._xAxis,e),this._computeYAxis()},h.prototype.getUScale=function(){return this._uScale},h.prototype.setUScale=function(e){l.ConsoleUtils.assert(e>n.PARAMETER_SPACE_TOLERANCE),this._uScale=e},h.prototype.getAngle=function(){return this._angle},h.prototype.setAngle=function(e){l.ConsoleUtils.assert(Math.abs(e)<Math.PI/2-n.KERNEL_ANGULAR_TOLERANCE),this._angle=e},h.prototype.isCylinder=function(){return Math.abs(this._angle)<n.KERNEL_ANGULAR_TOLERANCE},h.prototype.getApexParam=function(){return this.isCylinder()?void 0:-this._radius/(this._uScale*Math.sin(this._angle))},h.prototype.getApexPosition=function(){if(!this.isCylinder()){var e=-this._radius/Math.tan(this._angle),t=o.Vector3.clone(this._center);return o.Vector3.scaleAndAdd(t,t,this._zAxis,e),t}},h.prototype.evaluatePosition=function(e,t){var r=this._radius+e*this._uScale*Math.sin(this._angle),i=r*Math.cos(t),n=r*Math.sin(t),s=e*this._uScale*Math.cos(this._angle),a=o.Vector3.clone(this._center);return o.Vector3.scaleAndAdd(a,a,this._xAxis,i),o.Vector3.scaleAndAdd(a,a,this._yAxis,n),o.Vector3.scaleAndAdd(a,a,this._zAxis,s),a},h.prototype.evaluateNormal=function(e,t){var r=Math.sin(this._angle),i=Math.cos(this._angle),n=i*Math.cos(t),s=i*Math.sin(t),a=-r,c=o.Vector3.createFloat64();return o.Vector3.scale(c,this._xAxis,n),o.Vector3.scaleAndAdd(c,c,this._yAxis,s),o.Vector3.scaleAndAdd(c,c,this._zAxis,a),c},h.prototype.evaluateDu=function(e,t){var r=this._uScale*Math.sin(this._angle),i=r*Math.cos(t),n=r*Math.sin(t),s=this._uScale*Math.cos(this._angle),a=o.Vector3.createFloat64();return o.Vector3.scale(a,this._xAxis,i),o.Vector3.scaleAndAdd(a,a,this._yAxis,n),o.Vector3.scaleAndAdd(a,a,this._zAxis,s),a},h.prototype.evaluateDv=function(e,t){var r=this._radius+e*this._uScale*Math.sin(this._angle),i=-r*Math.sin(t),n=r*Math.cos(t),s=o.Vector3.createFloat64();return o.Vector3.scale(s,this._xAxis,i),o.Vector3.scaleAndAdd(s,s,this._yAxis,n),s},h.prototype.closestParam=function(e){var t=Math.sin(this._angle),r=Math.cos(this._angle),i=o.Vector3.createFloat64();o.Vector3.sub(i,e,this._center);var s=o.Vector3.dot(i,this._xAxis),a=o.Vector3.dot(i,this._yAxis),c=o.Vector3.dot(i,this._zAxis),u=Math.sqrt(s*s+a*a),l=this.getApexParam();if(void 0!==l){var h=l*this._uScale*r;(h>0&&c>h||h<0&&c<h)&&(s=-s,a=-a,u=-u)}return{u:((u-this._radius)*t+c*r)/this._uScale,v:Math.abs(u)>n.KERNEL_TOLERANCE?Math.atan2(a,s):0}},h.prototype.vParamLine=function(e){var t=this._radius+e*this._uScale*Math.sin(this._angle);if(Math.abs(t)>n.KERNEL_TOLERANCE){var r=new u.Circle,i=o.Vector3.clone(this._center),s=e*this._uScale*Math.cos(this._angle);o.Vector3.scaleAndAdd(i,i,this._zAxis,s);var c=o.Vector3.clone(this._xAxis);o.Vector3.scale(c,c,t);var l=o.Vector3.clone(this._zAxis);return o.Vector3.negate(l,l),r.set(i,l,c),r}return new a.Point(this.getApexPosition())},h.prototype.uParamLine=function(e){var t=new c.Line,r=o.Vector3.clone(this._center),i=this._radius*Math.cos(e),n=this._radius*Math.sin(e);return o.Vector3.scaleAndAdd(r,r,this._xAxis,i),o.Vector3.scaleAndAdd(r,r,this._yAxis,n),t.set(r,this.evaluateDu(0,e)),t},h.prototype.getBoundingBox=function(e,t){if(e){var r=e[0],o=e[1],n=this.vParamLine(r).getBoundingBox(t);return n.include(this.vParamLine(o).getBoundingBox(t)),n}return new i.BoundingBox([-1/0,-1/0,-1/0],[1/0,1/0,1/0])},h.prototype.transform=function(e){o.Vector3.transformMatrix44(this._center,this._center,e),o.Vector3.transformAsDirectionMatrix44(this._xAxis,this._xAxis,e),o.Vector3.transformAsDirectionMatrix44(this._yAxis,this._yAxis,e),o.Vector3.transformAsDirectionMatrix44(this._zAxis,this._zAxis,e);var t=o.Vector3.length(this._xAxis);this._radius*=t,this._uScale*=t,o.Vector3.normalize(this._xAxis,this._xAxis),o.Vector3.normalize(this._yAxis,this._yAxis),o.Vector3.normalize(this._zAxis,this._zAxis)},h.prototype.getRangeUnlimitedU=function(){return[-1/0,1/0]},h.prototype.getRangeUnlimitedV=function(){return[-Math.PI,Math.PI]},h.prototype.isPeriodicUnlimitedU=function(){return!1},h.prototype.isPeriodicUnlimitedV=function(){return!0},h.prototype.isClosedUnlimitedU=function(){return!1},h.prototype.isClosedUnlimitedV=function(){return!0},h.prototype.toObject=function(){const e=this.evaluatePosition(0,0);return o.Vector3.sub(e,e,this.getCenter()),{center:this.vectorToObject(this._center),radius:this.vectorToObject(e),axis:this.vectorToObject(this.getAxisDir()),uCoordScale:this.getUScale(),angle:this.getAngle(),uRange:this.rangeToObject(this.getRangeU(),this.isLimitedU()),vRange:this.rangeToObject(this.getRangeV(),this.isLimitedV())}},t.Cone=h},1472:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Curve=void 0;var o=r(1972),i=r(9024),n=r(2468),s=r(5896),a=r(4728),c=function(){i.BaseGeometry.call(this),this._subrange=[]};(c.prototype=Object.create(i.BaseGeometry.prototype)).copy=function(e){i.BaseGeometry.prototype.copy.call(this,e),this._subrange=e.isLimited()?[e._subrange[0],e._subrange[1]]:[]},c.prototype.isLimited=function(){return this._subrange.length>0},c.prototype.getRange=function(){return this.isLimited()?this._subrange:this.getRangeUnlimited()},c.prototype.getRangeUnlimited=function(){console.warn(\"Curve.getRangeUnlimited : abstract method invoked!\")},c.prototype.limitRange=function(e){this._subrange=(0,s.limitRange)(this.getRange(),e,this.isPeriodic(),this.getPeriod())},c.prototype.unlimitRange=function(){this._subrange=[]},c.prototype.isPeriodic=function(){return this.isPeriodicUnlimited()&&!this.isLimited()},c.prototype.isPeriodicUnlimited=function(){console.warn(\"Curve.isPeriodicUnlimited : abstract method invoked!\")},c.prototype.getPeriod=function(){return this.isLimited()?void 0:this.getPeriodUnlimited()},c.prototype.getPeriodUnlimited=function(){if(this.isPeriodicUnlimited()){var e=this.getRangeUnlimited();return e[1]-e[0]}},c.prototype.isClosed=function(){if(this.isClosedUnlimited()){if(this.isLimited()){var e=this.getRangeUnlimited(),t=e[1]-e[0];return this._subrange[1]-this._subrange[0]>t-n.PARAMETER_SPACE_TOLERANCE}return!0}return!1},c.prototype.isClosedUnlimited=function(){console.warn(\"Curve.isClosedUnlimited : abstract method invoked!\")},c.prototype._restrictRangeToUnlimited=function(e){a.ConsoleUtils.assert(2===e.length),a.ConsoleUtils.assert(e[0]<=e[1]);var t=this.getRangeUnlimited(),r=[];if(this.isPeriodicUnlimited()){var i=t[1]-t[0];if(e[1]-e[0]>i-n.PARAMETER_SPACE_TOLERANCE)r.push([t[0],t[1]]);else{var c=(0,s.foldAbove)(e[0],t[0],i)-e[0];r.push([e[0]+c,e[1]+c]),r[0][1]>t[1]+n.PARAMETER_SPACE_TOLERANCE&&(r.push([t[0],r[0][1]-i]),r[0][1]=t[1])}}else{var u=Math.max(e[0],t[0]),l=Math.min(e[1],t[1]);u>t[1]?u<t[1]+o.FLOAT64_TOLERANCE&&r.push([t[1],t[1]]):l<t[0]?l>t[0]-o.FLOAT64_TOLERANCE&&r.push([t[0],t[0]]):r.push([u,l])}return r},c.prototype.transform=function(e){console.warn(\"Curve.transform : abstract method invoked! Doing nothing.\")},c.prototype.evaluatePosition=function(e){console.warn(\"Curve.evaluatePosition : abstract method invoked! Returning undefined.\")},c.prototype.evaluateDt=function(e){console.warn(\"Curve.evaluateDt : abstract method invoked! Returning undefined.\")},c.prototype.evaluateCurvature=function(e,t){var r=this.evaluateDt(e),i=this.evaluateDt(e+n.KERNEL_TOLERANCE);o.Vector3.sub(i,i,r);var s=o.Vector3.createFloat64();o.Vector3.scale(s,i,1/n.KERNEL_TOLERANCE),t&&(o.Vector3.copy(t,s),o.Vector3.normalize(t,t));var a=o.Vector3.squaredLength(r);return o.Vector3.cross(s,r,s),o.Vector3.length(s)/Math.pow(a,1.5)},c.prototype.tangentLength=function(e){return o.Vector3.length(this.evaluateDt(e))},c.prototype.suggestSplittingParam=function(e){console.warn(\"Curve.suggestSplittingParam : abstract method invoked! Returning undefined.\")},c.prototype.getTangentCone=function(e){console.warn(\"Curve.getTangentCone : abstract method invoked! Returning undefined.\")},c.prototype.closestToRayParam=function(e,t,r){console.warn(\"Curve.closestToRayParam : abstract method invoked! Returning undefined.\")},c.prototype.closestToPointParam=function(e,t){console.warn(\"Curve.closestToPointParam : abstract method invoked! Returning undefined.\")},c.prototype.getArcLength=function(e){console.warn(\"Curve.getArcLength : abstract method invoked!\")},c.prototype.getParameterFromArcLength=function(e,t){console.warn(\"Curve.getParameterFromArcLength : abstract method invoked!\")},c.prototype.getBoundingBox=function(e){console.warn(\"Curve.getBoundingBox : abstract method invoked! Returning undefined.\")},c.prototype.tessellate=function(e,t){console.warn(\"Curve.tessellate : abstract method invoked! Returning undefined.\")},t.Curve=c},3440:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Cylinder=void 0;var o=r(1972),i=r(3344),n=r(2468),s=r(412),a=r(1096),c=r(5512),u=r(4728),l=function(){s.Surface.call(this),this._center=o.Vector3.createFloat64(),this._radius=0,this._uScale=1,this._xAxis=o.Vector3.createFloat64(),this._yAxis=o.Vector3.createFloat64(),this._zAxis=o.Vector3.createFloat64()};(l.prototype=Object.create(s.Surface.prototype)).getGeometryType=function(){return n.GEOMETRY_TYPES.CYLINDER},l.prototype.clone=function(){var e=new l;return e.copy(this),e},l.prototype.copy=function(e){s.Surface.prototype.copy.call(this,e),this._radius=e._radius,this._uScale=e._uScale,o.Vector3.copy(this._center,e._center),o.Vector3.copy(this._xAxis,e._xAxis),o.Vector3.copy(this._yAxis,e._yAxis),o.Vector3.copy(this._zAxis,e._zAxis)},l.prototype._computeYAxis=function(){o.Vector3.cross(this._yAxis,this._xAxis,this._zAxis)},l.prototype.set=function(e,t,r,i,s){o.Vector3.copy(this._center,e),u.ConsoleUtils.assert(t>n.KERNEL_TOLERANCE),this._radius=t,u.ConsoleUtils.assert(o.Vector3.squaredLength(r)>n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE),o.Vector3.normalize(this._zAxis,r),void 0!==i&&o.Vector3.squaredLength(i)>n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE?(u.ConsoleUtils.assert(o.Vector3.isOrthogonal(r,i,n.KERNEL_ANGULAR_TOLERANCE)),o.Vector3.normalize(this._xAxis,i)):(o.Vector3.computeOrthogonal(this._xAxis,this._zAxis),o.Vector3.normalize(this._xAxis,this._xAxis)),this._uScale=s||1,u.ConsoleUtils.assert(this._uScale>n.PARAMETER_SPACE_TOLERANCE),this._computeYAxis()},l.prototype.getRadius=function(){return this._radius},l.prototype.setRadius=function(e){u.ConsoleUtils.assert(e>n.KERNEL_TOLERANCE),this._radius=e},l.prototype.getCenter=function(){return this._center},l.prototype.setCenter=function(e){o.Vector3.copy(this._center,e)},l.prototype.getAxisDir=function(){return this._zAxis},l.prototype.setAxisDir=function(e){u.ConsoleUtils.assert(o.Vector3.squaredLength(e)>n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE),o.Vector3.normalize(this._zAxis,e),(o.Vector3.squaredLength(this._xAxis)<=n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE||!o.Vector3.isOrthogonal(this._xAxis,this._zAxis,n.KERNEL_ANGULAR_TOLERANCE))&&(o.Vector3.computeOrthogonal(this._xAxis,this._zAxis),o.Vector3.normalize(this._xAxis,this._xAxis)),this._computeYAxis()},l.prototype.getUvOriginDir=function(){return this._xAxis},l.prototype.setUvOriginDir=function(e){u.ConsoleUtils.assert(o.Vector3.squaredLength(e)>n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE),o.Vector3.normalize(this._xAxis,e),this._computeYAxis()},l.prototype.getUScale=function(){return this._uScale},l.prototype.setUScale=function(e){u.ConsoleUtils.assert(e>n.PARAMETER_SPACE_TOLERANCE),this._uScale=e},l.prototype.evaluatePosition=function(e,t){var r=this._radius*Math.cos(t),i=this._radius*Math.sin(t),n=this._uScale*e,s=o.Vector3.clone(this._center);return o.Vector3.scaleAndAdd(s,s,this._xAxis,r),o.Vector3.scaleAndAdd(s,s,this._yAxis,i),o.Vector3.scaleAndAdd(s,s,this._zAxis,n),s},l.prototype.evaluateNormal=function(e,t){var r=Math.cos(t),i=Math.sin(t),n=o.Vector3.createFloat64();return o.Vector3.scale(n,this._xAxis,r),o.Vector3.scaleAndAdd(n,n,this._yAxis,i),n},l.prototype.evaluateDu=function(e,t){var r=o.Vector3.createFloat64();return o.Vector3.scale(r,this._zAxis,this._uScale),r},l.prototype.evaluateDv=function(e,t){var r=-this._radius*Math.sin(t),i=this._radius*Math.cos(t),n=o.Vector3.createFloat64();return o.Vector3.scale(n,this._xAxis,r),o.Vector3.scaleAndAdd(n,n,this._yAxis,i),n},l.prototype.closestParam=function(e){var t=o.Vector3.createFloat64();o.Vector3.sub(t,e,this._center);var r=o.Vector3.dot(t,this._xAxis),i=o.Vector3.dot(t,this._yAxis),s=o.Vector3.dot(t,this._zAxis)/this._uScale,a=0;return r*r+i*i>n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE&&(a=Math.atan2(i,r)),{u:s,v:a}},l.prototype.vParamLine=function(e){var t=new c.Circle,r=o.Vector3.clone(this._center),i=e*this._uScale;o.Vector3.scaleAndAdd(r,r,this._zAxis,i);var n=o.Vector3.clone(this._xAxis);o.Vector3.scale(n,n,this._radius);var s=o.Vector3.clone(this._zAxis);return o.Vector3.negate(s,s),t.set(r,s,n),t},l.prototype.uParamLine=function(e){var t=new a.Line,r=o.Vector3.clone(this._center),i=this._radius*Math.cos(e),n=this._radius*Math.sin(e);return o.Vector3.scaleAndAdd(r,r,this._xAxis,i),o.Vector3.scaleAndAdd(r,r,this._yAxis,n),t.set(r,this.evaluateDu(0,e)),t},l.prototype.getBoundingBox=function(e,t){if(e){var r=e[0],o=e[1],n=this.vParamLine(r).getBoundingBox(t);return n.include(this.vParamLine(o).getBoundingBox(t)),n}return new i.BoundingBox([-1/0,-1/0,-1/0],[1/0,1/0,1/0])},l.prototype.transform=function(e){o.Vector3.transformMatrix44(this._center,this._center,e),o.Vector3.transformAsDirectionMatrix44(this._xAxis,this._xAxis,e),o.Vector3.transformAsDirectionMatrix44(this._yAxis,this._yAxis,e),o.Vector3.transformAsDirectionMatrix44(this._zAxis,this._zAxis,e);var t=o.Vector3.length(this._xAxis);this._radius*=t,this._uScale*=t,o.Vector3.normalize(this._xAxis,this._xAxis),o.Vector3.normalize(this._yAxis,this._yAxis),o.Vector3.normalize(this._zAxis,this._zAxis)},l.prototype.getRangeUnlimitedU=function(){return[-1/0,1/0]},l.prototype.getRangeUnlimitedV=function(){return[-Math.PI,Math.PI]},l.prototype.isPeriodicUnlimitedU=function(){return!1},l.prototype.isPeriodicUnlimitedV=function(){return!0},l.prototype.isClosedUnlimitedU=function(){return!1},l.prototype.isClosedUnlimitedV=function(){return!0},l.prototype.toObject=function(){const e=this.evaluatePosition(0,0);return o.Vector3.sub(e,e,this.getCenter()),{center:this.vectorToObject(this._center),radius:this.vectorToObject(e),axis:this.vectorToObject(this.getAxisDir()),uCoordScale:this.getUScale(),uRange:this.rangeToObject(this.getRangeU(),this.isLimitedU()),vRange:this.rangeToObject(this.getRangeV(),this.isLimitedV())}},t.Cylinder=l},7580:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Edge=void 0;var o=r(1972),i=r(9547),n=r(2468),s=r(4728),a=function(e){i.BaseTopology.call(this),this._curve=e,this._reversed=!1,this._vertices=[null,null],this._range=[0,0],this._precision=0,this._coedge=void 0,this._wire=void 0,this._tessellationPoints=[]};(a.prototype=Object.create(i.BaseTopology.prototype)).getTopologyType=function(){return n.TOPOLOGY_TYPES.EDGE},a.prototype.getCurveType=function(){return this._curve?this._curve.getGeometryType():void 0},a.prototype.clone=function(){var e=new a;return e._curve=this._curve?this._curve.clone():void 0,e._reversed=this._reversed,e._vertices[0]=this._vertices[0],e._vertices[1]=this._vertices[1],e._range[0]=this._range[0],e._range[1]=this._range[1],e._precision=this._precision,e._coedge=this._coedge,e._wire=this._wire,e._tessellationPoints=[],e},a.prototype.getCurve=function(){return this._curve},a.prototype.setCurve=function(e){this._curve=e},a.prototype.getArcLength=function(){var e=this.getRange();return this.isReversed()&&(e=[-e[1],-e[0]]),this._curve.getArcLength(e)},a.prototype.getVertices=function(){return this._vertices},a.prototype.getVertex=function(e){return s.ConsoleUtils.assert(0===e||1===e),this._vertices[e]},a.prototype.getStartVertex=function(){return this._vertices[0]},a.prototype.getEndVertex=function(){return this._vertices[1]},a.prototype.setCoedge=function(e){this._coedge=e},a.prototype.getCoedge=function(){return this._coedge},a.prototype.getCoedges=function(){for(var e=[],t=this._coedge;t;)e.push(t),(t=t.getPartner())===this._coedge&&(t=void 0);return e},a.prototype.setWire=function(e){this._wire=e},a.prototype.getWire=function(){return this._wire},a.prototype.getRange=function(){return this._range},a.prototype.setRange=function(e){s.ConsoleUtils.assert(2===e.length),this._range[0]=e[0],this._range[1]=e[1]},a.prototype.t0=function(){return this._range[0]},a.prototype.sett0=function(e){this._range[0]=e},a.prototype.t1=function(){return this._range[1]},a.prototype.sett1=function(e){this._range[1]=e},a.prototype.isClosed=function(){return this._curve&&this._vertices[0]&&this._vertices[0]===this._vertices[1]},a.prototype.getOtherVertex=function(e){return s.ConsoleUtils.assert(this._vertices[0]===e||this._vertices[1]===e),this._vertices[0]===e?this._vertices[1]:this._vertices[0]},a.prototype.getCommonVertex=function(e){var t=this.getStartVertex(),r=this.getEndVertex(),o=e.getStartVertex(),i=e.getEndVertex();return t===o||t===i?t:r===o||r===i?r:null},a.prototype.setVertex=function(e,t){s.ConsoleUtils.assert(0===e||1===e),t!==this._vertices[e]&&(this._vertices[e]&&this._vertices[0]!==this._vertices[1]&&this._vertices[e].removeEdge(this),this._vertices[e]=t,t&&this._vertices[e].addEdge(this))},a.prototype.setStartVertex=function(e){this.setVertex(0,e)},a.prototype.setEndVertex=function(e){this.setVertex(1,e)},a.prototype.getCoedgeForFace=function(e){for(var t=this._coedge;t;){if(t.getFace()===e)return t;if((t=t.getPartner())===this._coedge)break}},a.prototype.getOtherFace=function(e){var t=this.getCoedgeForFace(e);s.ConsoleUtils.assert(t);var r=t.getPartner();if(r&&r!==t)return r.getFace()},a.prototype.isReversed=function(){return this._reversed},a.prototype.setReversed=function(e){this._reversed=e},a.prototype.getPrecision=function(){return this._precision},a.prototype.setPrecision=function(e){s.ConsoleUtils.assert(e>=0),this._precision=e},a.prototype.evaluatePosition=function(e){return this.isReversed()&&(e=-e),this._curve.evaluatePosition(e)},a.prototype.evaluateDt=function(e){this.isReversed()&&(e=-e);var t=this._curve.evaluateDt(e);return this.isReversed()&&o.Vector3.negate(t,t),t},a.prototype.evaluateCurvature=function(e,t){return this.isReversed()&&(e=-e),this._curve.evaluateCurvature(e,t)},a.prototype.closestToPointParam=function(e,t){if(this._curve){var r=t||this.getRange();this.isReversed()&&(r=[-r[1],-r[0]]);var o=this._curve.closestToPointParam(e,r);return this.isReversed()?-o:o}},a.prototype.includesPoint=function(e){var t=Math.max(this.getPrecision(),n.KERNEL_TOLERANCE),r=this.closestToPointParam(e),i=this.evaluatePosition(r);return o.Vector3.squaredDistance(i,e)<t*t},a.prototype.distanceToPoint=function(e){var t=this.closestToPointParam(e),r=this.evaluatePosition(t);return o.Vector3.distance(r,e)},a.prototype.tessellate=function(e,t){var r,i;if(!1===this.isReversed())r=e||[this._range[0],this._range[1]];else if(e){r=new Array(e.length);for(var n=0;n<e.length;++n)r[n]=-e[e.length-1-n]}else r=[-this._range[1],-this._range[0]];var s,a=this._curve.tessellate(r,t);if(this._tessellationPoints.length!==a.positions.length)for(this._tessellationPoints=new Array(a.positions.length),n=0;n<a.positions.length;n++)this._tessellationPoints[n]=o.Vector3.createFloat64();if(!1===this.isReversed())for(s=a.offsets,i=0;i<a.positions.length;++i)o.Vector3.copy(this._tessellationPoints[i],a.positions[i]);else{for(i=0;i<a.positions.length;++i)o.Vector3.copy(this._tessellationPoints[i],a.positions[a.positions.length-1-i]);for(s=new Array(a.offsets.length),i=0;i<a.offsets.length;++i)s[i]=a.positions.length-1-a.offsets[a.offsets.length-1-i]}return{positions:this._tessellationPoints,offsets:s,tolerance:a.tolerance}},a.prototype.getBody=function(){return s.ConsoleUtils.assert(void 0===this._coedge||void 0===this._wire),this._coedge?this._coedge.getBody():this._wire?this._wire.getBody():void 0},a.prototype.collectFaces=function(e){e=e||new Set;for(var t=this._coedge;t;)t.collectFaces(e),(t=t.getPartner())===this._coedge&&(t=void 0);return e},a.prototype.collectEdges=function(e){return(e=e||new Set).add(this),e},a.prototype.collectVertices=function(e){e=e||new Set;for(var t=0;t<this._vertices.length;++t)this._vertices[t]&&e.add(this._vertices[t]);return e},a.prototype.getBoundingBox=function(){var e=this.getRange();return!0===this.isReversed()&&(e=[-e[1],-e[0]]),this._curve.getBoundingBox(e)},a.prototype.closestToRayParam=function(e,t,r){var o=this.getRange();!0===this.isReversed()&&(o=[-o[1],-o[0]]);var i=this._curve.closestToRayParam(e,t,o,r);return!0===this.isReversed()?-i:i},a.prototype.toString=function(){return n.GEOMETRY_TYPES.toString(this.getCurveType())+\" \"+String(this.getStartVertex())+\" -> \"+String(this.getEndVertex())},a.prototype.getLoops=function(){const e=this.getCoedges(),t=new Set;for(let r=0;r<e.length;r++)t.add(e[r].getLoop());return Array.from(t)},a.prototype.toObject=function(){return{vertex0:this.refToString(this._vertices[0]),vertex1:this.refToString(this._vertices[1]),precision:this._precision,range:this.rangeToObject(this._range,!0),reversed:this._reversed,geometry:this.refToString(this._curve),attributes:this.refsToStrings(this._attributes)}},a.prototype.addToModelObject=function(e){this.addAllToModelObject(e,[this._vertices[0],this._vertices[1],this._curve,this._attributes])},t.Edge=a},8972:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Ellipse=void 0;var o=r(1972),i=r(3344),n=r(2355),s=r(2468),a=r(1472),c=r(5896),u=r(1e3),l=r(4728),h=r(4336),d=function(){a.Curve.call(this),this._center=o.Vector3.createFloat64FromValues(0,0,0),this._normal=o.Vector3.createFloat64FromValues(0,0,1),this._xAxis=o.Vector3.createFloat64FromValues(1,0,0),this._yAxis=o.Vector3.createFloat64FromValues(0,1,0),this._majorRadius=0,this._minorRadius=0,this._tessellationCache=new h.TessellationCache};(d.prototype=Object.create(a.Curve.prototype)).getGeometryType=function(){return s.GEOMETRY_TYPES.ELLIPSE},d.prototype.set=function(e,t,r,i){l.ConsoleUtils.assert(o.Vector3.squaredLength(t)>s.KERNEL_TOLERANCE*s.KERNEL_TOLERANCE),l.ConsoleUtils.assert(o.Vector3.squaredLength(r)>s.KERNEL_TOLERANCE*s.KERNEL_TOLERANCE),l.ConsoleUtils.assert(o.Vector3.isOrthogonal(t,r,s.KERNEL_ANGULAR_TOLERANCE)),l.ConsoleUtils.assert(i>o.FLOAT64_TOLERANCE&&i<=1,\"Invalid radius ratio\"),o.Vector3.copy(this._center,e),o.Vector3.normalize(this._normal,t),o.Vector3.normalize(this._xAxis,r),this._majorRadius=o.Vector3.length(r),this._minorRadius=this._majorRadius*i,this._computeYAxis(),this._dirtyTessellation()},d.prototype._computeYAxis=function(){o.Vector3.cross(this._yAxis,this._normal,this._xAxis)},d.prototype.getCenter=function(){return this._center},d.prototype.getNormal=function(){return this._normal},d.prototype.setCenter=function(e){o.Vector3.copy(this._center,e),this._dirtyTessellation()},d.prototype.setNormal=function(e){l.ConsoleUtils.assert(o.Vector3.squaredLength(e)>s.KERNEL_TOLERANCE*s.KERNEL_TOLERANCE),this._normal!==e&&(o.Vector3.normalize(this._normal,e),o.Vector3.isOrthogonal(this._xAxis,this._normal)||(o.Vector3.computeOrthogonal(this._xAxis,this._normal),o.Vector3.normalize(this._xAxis,this._xAxis)),this._computeYAxis(),this._dirtyTessellation())},d.prototype.setMajorAxis=function(e){l.ConsoleUtils.assert(o.Vector3.squaredLength(e)>s.KERNEL_TOLERANCE*s.KERNEL_TOLERANCE),l.ConsoleUtils.assert(o.Vector3.isOrthogonal(e,this._normal,s.KERNEL_ANGULAR_TOLERANCE)),o.Vector3.normalize(this._xAxis,e),this._computeYAxis(),this._dirtyTessellation()},d.prototype.getMajorAxis=function(){return this._xAxis},d.prototype.getMinorAxis=function(){return this._yAxis},d.prototype.clone=function(){var e=new d;return e.copy(this),e},d.prototype.copy=function(e){a.Curve.prototype.copy.call(this,e),o.Vector3.copy(this._xAxis,e._xAxis),o.Vector3.copy(this._yAxis,e._yAxis),this._majorRadius=e._majorRadius,this._minorRadius=e._minorRadius,o.Vector3.copy(this._center,e._center),o.Vector3.copy(this._normal,e._normal)},d.prototype.getMajorRadius=function(){return this._majorRadius},d.prototype.getMinorRadius=function(){return this._minorRadius},d.prototype.setMajorRadius=function(e){l.ConsoleUtils.assert(e>s.KERNEL_TOLERANCE),this._majorRadius=e,this._dirtyTessellation()},d.prototype.setMinorRadius=function(e){l.ConsoleUtils.assert(e>s.KERNEL_TOLERANCE),this._minorRadius=e,this._dirtyTessellation()},d.prototype.getRangeUnlimited=function(){return[-Math.PI,Math.PI]},d.prototype.isPeriodicUnlimited=function(){return!0},d.prototype.isClosedUnlimited=function(){return!0},d.prototype._dirtyTessellation=function(){this._tessellationCache.setDirty(!0)},d.prototype._evaluateArcLengthIntegrand=function(e){var t=this._majorRadius*Math.sin(e),r=this._minorRadius*Math.cos(e);return Math.sqrt(t*t+r*r)},d.prototype.getArcLength=function(e){void 0===e?e=this.getRange():0===e.length&&(e=this.getRangeUnlimited());for(var t=e[0],r=0;t<e[1]+s.PARAMETER_SPACE_TOLERANCE;){for(var o=t,i=[this._evaluateArcLengthIntegrand(t)];i.length<5&&t<e[1]+s.PARAMETER_SPACE_TOLERANCE;)t+=.01,i.push(this._evaluateArcLengthIntegrand(t));switch(o=t-o,i.length){case 1:break;case 2:r+=(i[0]+i[1])*o/2;break;case 3:r+=(i[0]+4*i[1]+i[2])*o/6;break;case 4:r+=(i[0]+3*i[1]+3*i[2]+i[3])*o/8;break;default:r+=(7*i[0]+32*i[1]+12*i[2]+32*i[3]+7*i[4])*o/90}(o=t-e[1])>s.PARAMETER_SPACE_TOLERANCE&&(r-=this._evaluateArcLengthIntegrand(e[1])*o)}return r},d.prototype.getParameterFromArcLength=function(e,t){return void 0===t?t=this.getRange():0===t.length&&(t=this.getRangeUnlimited()),(0,u.invertIntegral1D)(this._evaluateArcLengthIntegrand.bind(this),e,t)},d.prototype.evaluatePosition=function(e){var t=o.Vector3.createFloat64FromValues(0,0,0);return o.Vector3.scaleAndAdd(t,t,this._xAxis,Math.cos(e)*this._majorRadius),o.Vector3.scaleAndAdd(t,t,this._yAxis,Math.sin(e)*this._minorRadius),o.Vector3.add(t,t,this._center),t},d.prototype.evaluateDt=function(e){var t=o.Vector3.createFloat64FromValues(0,0,0);return o.Vector3.scaleAndAdd(t,t,this._xAxis,-Math.sin(e)*this._majorRadius),o.Vector3.scaleAndAdd(t,t,this._yAxis,Math.cos(e)*this._minorRadius),t},d.prototype.evaluateDtt=function(e){var t=o.Vector3.createFloat64FromValues(0,0,0);return o.Vector3.scaleAndAdd(t,t,this._xAxis,-Math.cos(e)*this._majorRadius),o.Vector3.scaleAndAdd(t,t,this._yAxis,-Math.sin(e)*this._minorRadius),t},d.prototype._getFullTessellation=function(e){var t=[-Math.PI,-Math.PI/2,0,Math.PI/2,Math.PI],r=h.CurveTessellator.getAdaptiveRenderPoints(this,e,[-Math.PI,Math.PI],t);return r.didRetessellate=!0,r},d.prototype.tessellate=function(e,t){return t=t||s.TESSELLATION.LINEAR_PRECISION,this._tessellationCache.getTessellation(e,this,t,this._getFullTessellation.bind(this))},d.prototype.getBoundingBox=function(e){void 0===e?e=this.getRange():0===e.length&&(e=this.getRangeUnlimited());var t=(0,c.minMaxCosSinFunc)(this._xAxis[0]*this._majorRadius,this._yAxis[0]*this._minorRadius,this._center[0],e),r=(0,c.minMaxCosSinFunc)(this._xAxis[1]*this._majorRadius,this._yAxis[1]*this._minorRadius,this._center[1],e),o=(0,c.minMaxCosSinFunc)(this._xAxis[2]*this._majorRadius,this._yAxis[2]*this._minorRadius,this._center[2],e),n=new i.BoundingBox;return n.min[0]=t[0],n.max[0]=t[1],n.min[1]=r[0],n.max[1]=r[1],n.min[2]=o[0],n.max[2]=o[1],n},d.prototype.getTangentCone=function(e){void 0===e?e=this.getRange():0===e.length&&(e=this.getRangeUnlimited());var t=this.evaluateDt(e[0]);o.Vector3.normalize(t,t);var r=this.evaluateDt(e[1]);o.Vector3.normalize(r,r);var i=o.Vector3.createFloat64(),a=o.Vector3.dot(t,r),u=o.Vector3.dot(o.Vector3.cross(i,t,r),this._normal),l=Math.atan2(u,a);l<0?l+=c.PI2:e[1]-e[0]>c.PI2-s.PARAMETER_SPACE_TOLERANCE&&(l=c.PI2),l*=.5,a=Math.cos(l),u=Math.sin(l);var h=o.Vector3.clone(t);return o.Vector3.scale(h,h,a),o.Vector3.cross(i,this._normal,t),o.Vector3.scaleAndAdd(h,h,i,u),new n.TangentCone(h,l)},d.prototype.transform=function(e){o.Vector3.transformMatrix44(this._center,this._center,e),o.Vector3.transformAsDirectionMatrix44(this._normal,this._normal,e),o.Vector3.scale(this._xAxis,this._xAxis,this._majorRadius),o.Vector3.scale(this._yAxis,this._yAxis,this._minorRadius),o.Vector3.transformAsDirectionMatrix44(this._xAxis,this._xAxis,e),o.Vector3.transformAsDirectionMatrix44(this._yAxis,this._yAxis,e),this._majorRadius=o.Vector3.length(this._xAxis),this._minorRadius=o.Vector3.length(this._yAxis),o.Vector3.normalize(this._normal,this._normal),o.Vector3.normalize(this._xAxis,this._xAxis),this._computeYAxis(),this._dirtyTessellation()},d.prototype.closestToRayParam=function(e,t,r){var i=o.Vector3.createFloat64();o.Vector3.sub(i,this._center,e);var n=o.Vector3.dot(i,this._normal)/o.Vector3.dot(t,this._normal);if(isFinite(n)){var s=o.Vector3.createFloat64();return o.Vector3.scaleAndAdd(s,e,t,n),this.closestToPointParam(s,r)}},d.prototype.isCircular=function(){return Math.abs(this._majorRadius-this._minorRadius)<s.KERNEL_TOLERANCE},d.prototype.closestToPointParam=function(e,t){void 0===t?t=this.getRange():0===t.length&&(t=this.getRangeUnlimited());var r=o.Vector3.createFloat64();o.Vector3.sub(r,e,this._center);var i=o.Vector3.dot(r,this._xAxis),n=o.Vector3.dot(r,this._yAxis);if(i*i+n*n<s.KERNEL_TOLERANCE*s.KERNEL_TOLERANCE){var a=.5*Math.PI;if(((a=(0,c.adjustParameterToPeriodicRange)(a,t,c.PI2))<t[0]||a>t[1])&&(a=(0,c.adjustParameterToPeriodicRange)(.5*-Math.PI,t,c.PI2)),a<t[0]||a>t[1]){var l=this.evaluatePosition(t[0]),h=this.evaluatePosition(t[1]);a=o.Vector3.squaredDistance(this._center,l)<o.Vector3.squaredDistance(this._center,h)?t[0]:t[1]}return a}var d=this._majorRadius,p=this._minorRadius,g=Math.atan2(d*n,p*i),f=this.evaluatePosition(g);(o.Vector3.sub(f,f,this._center),i*i+n*n<o.Vector3.squaredLength(f))&&(g=(n<s.KERNEL_TOLERANCE?-1:1)*Math.acos(i/d));var v,_=o.FLOAT64_TOLERANCE,y=function(t){var r=this.evaluatePosition(t),o=this.evaluateDt(t),i=this.evaluateDtt(t),n=[r[0]-e[0],r[1]-e[1],r[2]-e[2]];return{val:2*(n[0]*o[0]+n[1]*o[1]+n[2]*o[2]),deriv:2*(n[0]*i[0]+n[1]*i[1]+n[2]*i[2]+(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]))}},m=(0,u.newtonRaphson1D)(y.bind(this),void 0,g,_,32);(m=(0,c.adjustParameterToPeriodicRange)(m,t,c.PI2))<t[0]||m>t[1]?(m=(0,u.newtonRaphson1D)(y.bind(this),void 0,-m,_,32),v=(m=(0,c.adjustParameterToPeriodicRange)(m,t,c.PI2))<t[0]||m>t[1]?1/0:o.Vector3.squaredDistance(e,this.evaluatePosition(m))):v=o.Vector3.squaredDistance(e,this.evaluatePosition(m));var E=o.Vector3.squaredDistance(e,this.evaluatePosition(t[0])),x=o.Vector3.squaredDistance(e,this.evaluatePosition(t[1]));return E<v&&(v=E,m=t[0]),x<v&&(m=t[1]),m},d.prototype.suggestSplittingParam=function(e){},d.prototype.toObject=function(){const e=this.evaluatePosition(0);return o.Vector3.sub(e,e,this.getCenter()),{center:this.vectorToObject(this._center),majorRadius:this.vectorToObject(e),normal:this.vectorToObject(this._normal),radiusRatio:this.getMinorRadius()/this.getMajorRadius(),range:this.rangeToObject(this.getRange(),this.isLimited())}},t.Ellipse=d},2956:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.EllipticalCone=void 0;var o=r(1972),i=r(3344),n=r(1e3),s=r(2468),a=r(412),c=r(3565),u=r(1096),l=r(8972),h=r(4728),d=function(){a.Surface.call(this),this._center=o.Vector3.createFloat64(),this._majorRadius=0,this._minorRadius=0,this._angle=0,this._uScale=1,this._xAxis=o.Vector3.createFloat64(),this._yAxis=o.Vector3.createFloat64(),this._zAxis=o.Vector3.createFloat64()};(d.prototype=Object.create(a.Surface.prototype)).getGeometryType=function(){return s.GEOMETRY_TYPES.ELLIPTICAL_CONE},d.prototype.clone=function(){var e=new d;return e.copy(this),e},d.prototype.copy=function(e){a.Surface.prototype.copy.call(this,e),this._majorRadius=e._majorRadius,this._minorRadius=e._minorRadius,this._angle=e._angle,this._uScale=e._uScale,o.Vector3.copy(this._center,e._center),o.Vector3.copy(this._xAxis,e._xAxis),o.Vector3.copy(this._yAxis,e._yAxis),o.Vector3.copy(this._zAxis,e._zAxis)},d.prototype._computeYAxis=function(){o.Vector3.cross(this._yAxis,this._xAxis,this._zAxis)},d.prototype.set=function(e,t,r,i,n,a){o.Vector3.copy(this._center,e),this._majorRadius=o.Vector3.length(t),h.ConsoleUtils.assert(this._majorRadius>s.KERNEL_TOLERANCE),o.Vector3.normalize(this._xAxis,t),h.ConsoleUtils.assert(r<=1),this._minorRadius=r*this._majorRadius,h.ConsoleUtils.assert(this._minorRadius>s.KERNEL_TOLERANCE),h.ConsoleUtils.assert(o.Vector3.squaredLength(i)>s.KERNEL_TOLERANCE*s.KERNEL_TOLERANCE),h.ConsoleUtils.assert(o.Vector3.isOrthogonal(i,t,s.KERNEL_ANGULAR_TOLERANCE)),o.Vector3.normalize(this._zAxis,i),h.ConsoleUtils.assert(Math.abs(n)<Math.PI/2),this._angle=n,this._uScale=a||1,h.ConsoleUtils.assert(this._uScale>s.PARAMETER_SPACE_TOLERANCE),this._computeYAxis()},d.prototype.getMajorRadius=function(){return this._majorRadius},d.prototype.setMajorRadius=function(e){h.ConsoleUtils.assert(e>s.KERNEL_TOLERANCE),this._majorRadius=e},d.prototype.getMinorRadius=function(){return this._minorRadius},d.prototype.setMinorRadius=function(e){h.ConsoleUtils.assert(e>s.KERNEL_TOLERANCE),this._minorRadius=e},d.prototype.getMajorAxis=function(){return this._xAxis},d.prototype.setMajorAxis=function(e){h.ConsoleUtils.assert(o.Vector3.squaredLength(e)>s.KERNEL_TOLERANCE*s.KERNEL_TOLERANCE),o.Vector3.normalize(this._xAxis,e),this._computeYAxis()},d.prototype.getCenter=function(){return this._center},d.prototype.setCenter=function(e){o.Vector3.copy(this._center,e)},d.prototype.getAxisDir=function(){return this._zAxis},d.prototype.setAxisDir=function(e){h.ConsoleUtils.assert(o.Vector3.squaredLength(e)>s.KERNEL_TOLERANCE*s.KERNEL_TOLERANCE),o.Vector3.normalize(this._zAxis,e),this._computeYAxis()},d.prototype.getUScale=function(){return this._uScale},d.prototype.setUScale=function(e){h.ConsoleUtils.assert(e>s.PARAMETER_SPACE_TOLERANCE),this._uScale=e},d.prototype.getAngle=function(){return this._angle},d.prototype.setAngle=function(e){h.ConsoleUtils.assert(Math.abs(e)<Math.PI/2-s.KERNEL_ANGULAR_TOLERANCE),this._angle=e},d.prototype.isCylinder=function(){return Math.abs(this._angle)<s.KERNEL_ANGULAR_TOLERANCE},d.prototype.getApexParam=function(){return this.isCylinder()?void 0:-this._majorRadius/(this._uScale*Math.sin(this._angle))},d.prototype.getApexPosition=function(){if(!this.isCylinder()){var e=-this._majorRadius/Math.tan(this._angle),t=o.Vector3.clone(this._center);return o.Vector3.scaleAndAdd(t,t,this._zAxis,e),t}},d.prototype.evaluatePosition=function(e,t){var r=1+e*this._uScale*Math.sin(this._angle)/this._majorRadius,i=r*this._majorRadius*Math.cos(t),n=r*this._minorRadius*Math.sin(t),s=e*this._uScale*Math.cos(this._angle),a=o.Vector3.clone(this._center);return o.Vector3.scaleAndAdd(a,a,this._xAxis,i),o.Vector3.scaleAndAdd(a,a,this._yAxis,n),o.Vector3.scaleAndAdd(a,a,this._zAxis,s),a},d.prototype.evaluateNormal=function(e,t){var r=Math.cos(this._angle),i=r*this._minorRadius*Math.cos(t),n=r*this._majorRadius*Math.sin(t),s=-Math.sin(this._angle)*this._minorRadius,a=o.Vector3.createFloat64();return o.Vector3.scale(a,this._xAxis,i),o.Vector3.scaleAndAdd(a,a,this._yAxis,n),o.Vector3.scaleAndAdd(a,a,this._zAxis,s),o.Vector3.normalize(a,a),a},d.prototype.evaluateDu=function(e,t){var r=this._uScale*Math.sin(this._angle)/this._majorRadius,i=r*this._majorRadius*Math.cos(t),n=r*this._minorRadius*Math.sin(t),s=this._uScale*Math.cos(this._angle),a=o.Vector3.createFloat64();return o.Vector3.scale(a,this._xAxis,i),o.Vector3.scaleAndAdd(a,a,this._yAxis,n),o.Vector3.scaleAndAdd(a,a,this._zAxis,s),a},d.prototype.evaluateDv=function(e,t){var r=1+e*this._uScale*Math.sin(this._angle)/this._majorRadius,i=-r*this._majorRadius*Math.sin(t),n=r*this._minorRadius*Math.cos(t),s=o.Vector3.createFloat64();return o.Vector3.scale(s,this._xAxis,i),o.Vector3.scaleAndAdd(s,s,this._yAxis,n),s},d.prototype.closestParam=function(e){var t,r;if(this.isCylinder()){var i=o.Vector3.createFloat64();o.Vector3.sub(i,e,this._center),t=o.Vector3.dot(i,this._zAxis)/this._uScale,r=this.vParamLine(t).closestToPointParam(e)}else{var a=o.Vector3.createFloat64();o.Vector3.sub(a,e,this.getApexPosition());var c=o.Vector3.dot(a,this._xAxis),u=o.Vector3.dot(a,this._yAxis),l=o.Vector3.dot(a,this._zAxis),h=this._uScale*Math.sin(this._angle),d=h*this._minorRadius/this._majorRadius,p=this._uScale*Math.cos(this._angle),g=this._majorRadius/h,f=function(e,t,r,i,a,c){if(i*i+a*a+c*c<s.KERNEL_TOLERANCE*s.KERNEL_TOLERANCE)return{u:0,v:0};var u=o.FLOAT64_TOLERANCE,l=c*e>=0?1:-1,h=(i*l>=0?.25:.75)*(a*l>=0?1:-1),d=h*Math.PI,p=[(h-.25)*Math.PI,(h+.25)*Math.PI],g=(0,n.newtonRaphson1D)((function(o){var n=Math.sin(o),s=Math.cos(o),u=e*(t*t+r*r)*i,l=t*(e*e+r*r)*a,h=r*(e*e-t*t)*c;return{val:u*n-l*s-h*n*s,deriv:u*s+l*n-h*(s*s-n*n)}}),p,d,u,32),f=e*Math.cos(g),v=t*Math.sin(g);return{u:(f*i+v*a+r*c)/(f*f+v*v+r*r),v:g}}(h,d,p,c,u,l);t=f.u-g,r=f.v}return{u:t,v:r}},d.prototype.vParamLine=function(e){var t=this._majorRadius+e*this._uScale*Math.sin(this._angle);if(Math.abs(t)>s.KERNEL_TOLERANCE){var r=new l.Ellipse,i=o.Vector3.clone(this._center),n=e*this._uScale*Math.cos(this._angle);o.Vector3.scaleAndAdd(i,i,this._zAxis,n);var a=o.Vector3.clone(this._xAxis);o.Vector3.scale(a,a,t);var u=o.Vector3.clone(this._zAxis);return o.Vector3.negate(u,u),r.set(i,u,a,this._minorRadius/this._majorRadius),r}return new c.Point(this.getApexPosition())},d.prototype.uParamLine=function(e){var t=new u.Line,r=o.Vector3.clone(this._center),i=this._majorRadius*Math.cos(e),n=this._minorRadius*Math.sin(e);return o.Vector3.scaleAndAdd(r,r,this._xAxis,i),o.Vector3.scaleAndAdd(r,r,this._yAxis,n),t.set(r,this.evaluateDu(0,e)),t},d.prototype.getBoundingBox=function(e,t){if(e){var r=e[0],o=e[1],n=this.vParamLine(r).getBoundingBox(t);return n.include(this.vParamLine(o).getBoundingBox(t)),n}return new i.BoundingBox([-1/0,-1/0,-1/0],[1/0,1/0,1/0])},d.prototype.transform=function(e){o.Vector3.transformMatrix44(this._center,this._center,e),o.Vector3.transformAsDirectionMatrix44(this._xAxis,this._xAxis,e),o.Vector3.transformAsDirectionMatrix44(this._yAxis,this._yAxis,e),o.Vector3.transformAsDirectionMatrix44(this._zAxis,this._zAxis,e);var t=o.Vector3.length(this._xAxis);this._majorRadius*=t,this._minorRadius*=t,this._uScale*=t,o.Vector3.normalize(this._xAxis,this._xAxis),o.Vector3.normalize(this._yAxis,this._yAxis),o.Vector3.normalize(this._zAxis,this._zAxis)},d.prototype.getRangeUnlimitedU=function(){return[-1/0,1/0]},d.prototype.getRangeUnlimitedV=function(){return[-Math.PI,Math.PI]},d.prototype.isPeriodicUnlimitedU=function(){return!1},d.prototype.isPeriodicUnlimitedV=function(){return!0},d.prototype.isClosedUnlimitedU=function(){return!1},d.prototype.isClosedUnlimitedV=function(){return!0},d.prototype.toObject=function(){const e=this.evaluatePosition(0,0);return o.Vector3.sub(e,e,this.getCenter()),{center:this.vectorToObject(this._center),majorRadius:this.vectorToObject(e),axis:this.vectorToObject(this.getAxisDir()),uCoordScale:this.getUScale(),radiusRatio:this.getMinorRadius()/this.getMajorRadius(),angle:this.getAngle(),uRange:this.rangeToObject(this.getRangeU(),this.isLimitedU()),vRange:this.rangeToObject(this.getRangeV(),this.isLimitedV())}},t.EllipticalCone=d},8360:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.EllipticalCylinder=void 0;var o=r(1972),i=r(3344),n=r(2468),s=r(412),a=r(1096),c=r(8972),u=r(4728),l=function(){s.Surface.call(this),this._center=o.Vector3.createFloat64(),this._majorRadius=0,this._minorRadius=0,this._uScale=1,this._xAxis=o.Vector3.createFloat64(),this._yAxis=o.Vector3.createFloat64(),this._zAxis=o.Vector3.createFloat64()};(l.prototype=Object.create(s.Surface.prototype)).getGeometryType=function(){return n.GEOMETRY_TYPES.ELLIPTICAL_CYLINDER},l.prototype.clone=function(){var e=new l;return e.copy(this),e},l.prototype.copy=function(e){s.Surface.prototype.copy.call(this,e),this._majorRadius=e._majorRadius,this._minorRadius=e._minorRadius,this._uScale=e._uScale,o.Vector3.copy(this._center,e._center),o.Vector3.copy(this._xAxis,e._xAxis),o.Vector3.copy(this._yAxis,e._yAxis),o.Vector3.copy(this._zAxis,e._zAxis)},l.prototype._computeYAxis=function(){o.Vector3.cross(this._yAxis,this._xAxis,this._zAxis)},l.prototype.set=function(e,t,r,i,s){o.Vector3.copy(this._center,e),this._majorRadius=o.Vector3.length(t),u.ConsoleUtils.assert(this._majorRadius>n.KERNEL_TOLERANCE),o.Vector3.normalize(this._xAxis,t),u.ConsoleUtils.assert(r<=1),this._minorRadius=r*this._majorRadius,u.ConsoleUtils.assert(this._minorRadius>n.KERNEL_TOLERANCE),u.ConsoleUtils.assert(o.Vector3.squaredLength(i)>n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE),u.ConsoleUtils.assert(o.Vector3.isOrthogonal(i,t,n.KERNEL_ANGULAR_TOLERANCE)),o.Vector3.normalize(this._zAxis,i),this._uScale=s||1,u.ConsoleUtils.assert(this._uScale>n.PARAMETER_SPACE_TOLERANCE),this._computeYAxis()},l.prototype.getMajorRadius=function(){return this._majorRadius},l.prototype.setMajorRadius=function(e){u.ConsoleUtils.assert(e>n.KERNEL_TOLERANCE),this._majorRadius=e},l.prototype.getMinorRadius=function(){return this._minorRadius},l.prototype.setMinorRadius=function(e){u.ConsoleUtils.assert(e>n.KERNEL_TOLERANCE),this._minorRadius=e},l.prototype.getMajorAxis=function(){return this._xAxis},l.prototype.setMajorAxis=function(e){u.ConsoleUtils.assert(o.Vector3.squaredLength(e)>n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE),o.Vector3.normalize(this._xAxis,e),this._computeYAxis()},l.prototype.getCenter=function(){return this._center},l.prototype.setCenter=function(e){o.Vector3.copy(this._center,e)},l.prototype.getAxisDir=function(){return this._zAxis},l.prototype.setAxisDir=function(e){u.ConsoleUtils.assert(o.Vector3.squaredLength(e)>n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE),o.Vector3.normalize(this._zAxis,e),this._computeYAxis()},l.prototype.getUScale=function(){return this._uScale},l.prototype.setUScale=function(e){u.ConsoleUtils.assert(e>n.PARAMETER_SPACE_TOLERANCE),this._uScale=e},l.prototype.evaluatePosition=function(e,t){var r=this._majorRadius*Math.cos(t),i=this._minorRadius*Math.sin(t),n=this._uScale*e,s=o.Vector3.clone(this._center);return o.Vector3.scaleAndAdd(s,s,this._xAxis,r),o.Vector3.scaleAndAdd(s,s,this._yAxis,i),o.Vector3.scaleAndAdd(s,s,this._zAxis,n),s},l.prototype.evaluateNormal=function(e,t){var r=this._minorRadius*Math.cos(t),i=this._majorRadius*Math.sin(t),n=Math.sqrt(r*r+i*i),s=o.Vector3.createFloat64();return o.Vector3.scale(s,this._xAxis,r/n),o.Vector3.scaleAndAdd(s,s,this._yAxis,i/n),s},l.prototype.evaluateDu=function(e,t){var r=o.Vector3.createFloat64();return o.Vector3.scale(r,this._zAxis,this._uScale),r},l.prototype.evaluateDv=function(e,t){var r=-this._majorRadius*Math.sin(t),i=this._minorRadius*Math.cos(t),n=o.Vector3.createFloat64();return o.Vector3.scale(n,this._xAxis,r),o.Vector3.scaleAndAdd(n,n,this._yAxis,i),n},l.prototype.closestParam=function(e){var t=o.Vector3.createFloat64();o.Vector3.sub(t,e,this._center);var r=o.Vector3.dot(t,this._zAxis)/this._uScale;return{u:r,v:this.vParamLine(r).closestToPointParam(e)}},l.prototype.vParamLine=function(e){var t=new c.Ellipse,r=o.Vector3.clone(this._center),i=e*this._uScale;o.Vector3.scaleAndAdd(r,r,this._zAxis,i);var n=o.Vector3.clone(this._xAxis);o.Vector3.scale(n,n,this._majorRadius);var s=o.Vector3.clone(this._zAxis);return o.Vector3.negate(s,s),t.set(r,s,n,this._minorRadius/this._majorRadius),t},l.prototype.uParamLine=function(e){var t=new a.Line,r=o.Vector3.clone(this._center),i=this._majorRadius*Math.cos(e),n=this._minorRadius*Math.sin(e);return o.Vector3.scaleAndAdd(r,r,this._xAxis,i),o.Vector3.scaleAndAdd(r,r,this._yAxis,n),t.set(r,this.evaluateDu(0,e)),t},l.prototype.getBoundingBox=function(e,t){if(e){var r=e[0],o=e[1],n=this.vParamLine(r).getBoundingBox(t);return n.include(this.vParamLine(o).getBoundingBox(t)),n}return new i.BoundingBox([-1/0,-1/0,-1/0],[1/0,1/0,1/0])},l.prototype.transform=function(e){o.Vector3.transformMatrix44(this._center,this._center,e),o.Vector3.transformAsDirectionMatrix44(this._xAxis,this._xAxis,e),o.Vector3.transformAsDirectionMatrix44(this._yAxis,this._yAxis,e),o.Vector3.transformAsDirectionMatrix44(this._zAxis,this._zAxis,e);var t=o.Vector3.length(this._xAxis);this._majorRadius*=t,this._minorRadius*=t,this._uScale*=t,o.Vector3.normalize(this._xAxis,this._xAxis),o.Vector3.normalize(this._yAxis,this._yAxis),o.Vector3.normalize(this._zAxis,this._zAxis)},l.prototype.getRangeUnlimitedU=function(){return[-1/0,1/0]},l.prototype.getRangeUnlimitedV=function(){return[-Math.PI,Math.PI]},l.prototype.isPeriodicUnlimitedU=function(){return!1},l.prototype.isPeriodicUnlimitedV=function(){return!0},l.prototype.isClosedUnlimitedU=function(){return!1},l.prototype.isClosedUnlimitedV=function(){return!0},l.prototype.toObject=function(){const e=this.evaluatePosition(0,0);return o.Vector3.sub(e,e,this.getCenter()),{center:this.vectorToObject(this._center),majorRadius:this.vectorToObject(e),axis:this.vectorToObject(this.getAxisDir()),uCoordScale:this.getUScale(),radiusRatio:this.getMinorRadius()/this.getMajorRadius(),uRange:this.rangeToObject(this.getRangeU(),this.isLimitedU()),vRange:this.rangeToObject(this.getRangeV(),this.isLimitedV())}},t.EllipticalCylinder=l},6776:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Face=void 0;var o=r(1972),i=r(9547),n=r(2468),s=r(6120),a=function(e){i.BaseTopology.call(this),this._surface=e,this._reversed=!1,this._loops=[],this._shell=void 0};(a.prototype=Object.create(i.BaseTopology.prototype)).getTopologyType=function(){return n.TOPOLOGY_TYPES.FACE},a.prototype.getSurfaceType=function(){return this._surface?this._surface.getGeometryType():void 0},a.prototype.clone=function(){var e=new a;return e._surface=this._surface?this._surface.clone():void 0,e._reversed=this._reversed,e.setLoops(this._loops),e._shell=this._shell,e._vertexUvData=void 0,e},a.prototype.getSurface=function(){return this._surface},a.prototype.setSurface=function(e){this._surface=e},a.prototype.getShell=function(){return this._shell},a.prototype.setShell=function(e){this._shell=e},a.prototype.getLoops=function(){return this._loops},a.prototype.setLoops=function(e){this._loops=new Array(e.length);for(var t=0;t<e.length;++t)this._loops[t]=e[t]},a.prototype.addLoop=function(e){this._loops?this._loops.push(e):this._loops=[e],e.setFace(this)},a.prototype.addLoops=function(e){this._loops||(this._loops=[]);for(var t=0;t<e.length;++t)e[t].setFace(this);this._loops=this._loops.concat(e)},a.prototype.removeLoop=function(e){var t=this._loops.indexOf(e);return t>-1&&(this._loops.splice(t,1),e.getFace()===this&&e.setFace(void 0),!0)},a.prototype.isReversed=function(){return this._reversed},a.prototype.setReversed=function(e){this._reversed=e},a.prototype.getVertices=function(){return Array.from(this.collectVertices())},a.prototype.evaluatePosition=function(e,t){return this._surface.evaluatePosition(e,t)},a.prototype.evaluateNormal=function(e,t){var r=this._surface.evaluateNormal(e,t);return!0===this.isReversed()&&o.Vector3.negate(r,r),r},a.prototype.getBody=function(){return this._shell?this._shell.getBody():void 0},a.prototype.collectFaces=function(e){return(e=e||new Set).add(this),e},a.prototype.collectEdges=function(e){e=e||new Set;for(var t=0;t<this._loops.length;++t)this._loops[t].collectEdges(e);return e},a.prototype.collectVertices=function(e){e=e||new Set;for(var t=0;t<this._loops.length;++t)this._loops[t].collectVertices(e);return e},a.prototype.getBoundingBox=function(){var e=this._surface.getRangeU(),t=this._surface.getRangeV();return isFinite(e[0])&&isFinite(e[1])||(s.DebugUtils.warn(\"Face.getBoundingBox: Surface is unbounded in u.\"),e=[0,1]),isFinite(t[0])&&isFinite(t[1])||(s.DebugUtils.warn(\"Face.getBoundingBox: Surface is unbounded in v.\"),t=[0,1]),this._surface.getBoundingBox(e,t)},a.prototype.closestParam=function(e){return this._surface.closestParam(e)},a.prototype.isPlanarFace=function(){return this.getSurfaceType()===n.GEOMETRY_TYPES.PLANE},a.prototype.toObject=function(){return{loops:this.refsToStrings(this._loops),reversed:this._reversed,geometry:this.refToString(this._surface),attributes:this.refsToStrings(this._attributes)}},a.prototype.addToModelObject=function(e){this.addAllToModelObject(e,[this._loops,this._surface,this._attributes])},t.Face=a},1096:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Line=void 0;var o=r(1972),i=r(3344),n=r(2355),s=r(2468),a=r(1472),c=r(5896),u=r(4728),l=function(){a.Curve.call(this),this._position=o.Vector3.createFloat64FromValues(0,0,0),this._direction=o.Vector3.createFloat64FromValues(1,0,0)};(l.prototype=Object.create(a.Curve.prototype)).getGeometryType=function(){return s.GEOMETRY_TYPES.LINE},l.prototype.set=function(e,t){u.ConsoleUtils.assert(o.Vector3.squaredLength(t)>s.KERNEL_TOLERANCE*s.KERNEL_TOLERANCE),o.Vector3.copy(this._position,e),o.Vector3.copy(this._direction,t)},l.prototype.clone=function(){var e=new l;return e.copy(this),e},l.prototype.tessellate=function(e,t){var r={positions:[],offsets:[],tolerance:0};r.offsets.push(0);var o=e[0];r.positions.push(this.evaluatePosition(o));for(var i=1;i<e.length;++i){var n=e[i];r.positions.push(this.evaluatePosition(n)),r.offsets.push(r.positions.length-1),o=n}return r},l.prototype.copy=function(e){a.Curve.prototype.copy.call(this,e),o.Vector3.copy(this._position,e._position),o.Vector3.copy(this._direction,e._direction)},l.prototype.getRangeUnlimited=function(){return[-1/0,1/0]},l.prototype.isPeriodicUnlimited=function(){return!1},l.prototype.isClosedUnlimited=function(){return!1},l.prototype.evaluatePosition=function(e){var t=o.Vector3.createFloat64();return o.Vector3.scaleAndAdd(t,this._position,this._direction,e)},l.prototype.evaluateDt=function(e){return o.Vector3.clone(this._direction)},l.prototype.tangentLength=function(e){return o.Vector3.length(this._direction)},l.prototype.getTangentCone=function(e){var t=o.Vector3.createFloat64();return new n.TangentCone(o.Vector3.normalize(t,this.evaluateDt(0)),0)},l.prototype.getArcLength=function(e){return void 0===e?e=this.getRange():0===e.length&&(e=this.getRangeUnlimited()),isFinite(e[0])&&isFinite(e[1])?(e[1]-e[0])*o.Vector3.length(this._direction):1/0},l.prototype.getParameterFromArcLength=function(e,t){if(void 0===t?t=this.getRange():0===t.length&&(t=this.getRangeUnlimited()),isFinite(t[0])&&isFinite(t[1])){var r=t[0]+e/o.Vector3.length(this._direction);return(0,c.clamp)(r,t[0],t[1])}return NaN},l.prototype.getBoundingBox=function(e){void 0===e?e=this.getRange():0===e.length&&(e=this.getRangeUnlimited());var t=new i.BoundingBox;return isFinite(e[0])&&isFinite(e[1])?(t.includePoint(this.evaluatePosition(e[0])),t.includePoint(this.evaluatePosition(e[1]))):(t.includePoint([1/0,1/0,1/0]),t.includePoint([-1/0,-1/0,-1/0])),t},l.prototype.closestToRayParam=function(e,t,r,i){var n=o.Vector3.createFloat64();o.Vector3.sub(n,this._position,e);var s=o.Vector3.squaredLength(this._direction),a=o.Vector3.squaredLength(t),c=o.Vector3.dot(this._direction,t),u=o.Vector3.dot(n,this._direction),l=o.Vector3.dot(n,t),h=s*a-c*c,d=(c*l-a*u)/h,p=(c*u-s*l)/h;if(isFinite(d)&&isFinite(p)){if(r)if(d<r[0]){if(d=r[0],void 0!==i){var g=this.evaluatePosition(r[0]),f=o.Vector3.createFloat64();o.Vector3.sub(f,g,e),p=o.Vector3.dot(f,t)/a}}else if(d>r[1]&&(d=r[1],void 0!==i)){var v=this.evaluatePosition(r[1]);f=o.Vector3.createFloat64();o.Vector3.sub(f,v,e),p=o.Vector3.dot(f,t)/a}if(void 0!==i){var _=this.evaluatePosition(d),y=o.Vector3.createFloat64();if(o.Vector3.scaleAndAdd(y,e,t,p),o.Vector3.squaredDistance(_,y)>i*i)return}return d}},l.prototype.setFromEndpoints=function(e,t){u.ConsoleUtils.assert(o.Vector3.squaredDistance(e,t)>s.KERNEL_TOLERANCE*s.KERNEL_TOLERANCE),this._position=o.Vector3.clone(e),o.Vector3.normalize(this._direction,o.Vector3.sub(this._direction,t,e)),this.unlimitRange()},l.prototype.transform=function(e){o.Vector3.transformMatrix44(this._position,this._position,e),o.Vector3.transformAsDirectionMatrix44(this._direction,this._direction,e)},l.prototype.closestToPointParam=function(e,t){void 0===t?t=this.getRange():0===t.length&&(t=this.getRangeUnlimited());var r=o.Vector3.createFloat64();o.Vector3.sub(r,e,this._position);var i=this._direction,n=o.Vector3.dot(r,i)/o.Vector3.squaredLength(i);return isFinite(t[0])&&isFinite(t[1])?(0,c.clamp)(n,t[0],t[1]):n},l.prototype.suggestSplittingParam=function(e){},l.prototype.toObject=function(){return{position:this.vectorToObject(this._position),direction:this.vectorToObject(this._direction),range:this.rangeToObject(this.getRange(),this.isLimited())}},t.Line=l},4524:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Loop=void 0;var o=r(9547),i=r(2468),n=function(){o.BaseTopology.call(this),this._coedges=[],this._face=void 0};(n.prototype=Object.create(o.BaseTopology.prototype)).getTopologyType=function(){return i.TOPOLOGY_TYPES.LOOP},n.prototype.getFace=function(){return this._face},n.prototype.setFace=function(e){this._face=e},n.prototype.getCoedges=function(){return this._coedges},n.prototype.setCoedges=function(e){this._coedges=new Array(e.length);for(var t=0;t<e.length;++t)this._coedges[t]=e[t]},n.prototype.addCoedge=function(e){this._coedges?this._coedges.push(e):this._coedges=[e],e.setLoop(this)},n.prototype.addCoedges=function(e){this._coedges||(this._coedges=[]);for(var t=0;t<e.length;++t)e[t].setLoop(this);this._coedges=this._coedges.concat(e)},n.prototype.removeCoedge=function(e){var t=this._coedges.indexOf(e);return t>-1&&(this._coedges.splice(t,1),e.getLoop()===this&&e.setLoop(void 0),!0)},n.prototype.getBody=function(){return this._face?this._face.getBody():void 0},n.prototype.collectFaces=function(e){return e=e||new Set,this._face&&e.add(this._face),e},n.prototype.collectEdges=function(e){e=e||new Set;for(var t=0;t<this._coedges.length;++t)this._coedges[t].collectEdges(e);return e},n.prototype.collectVertices=function(e){e=e||new Set;for(var t=0;t<this._coedges.length;++t)this._coedges[t].collectVertices(e);return e},n.prototype.toString=function(){return\"Loop\"},n.prototype.toObject=function(){return{coedges:this.refsToStrings(this._coedges),attributes:this.refsToStrings(this._attributes)}},n.prototype.addToModelObject=function(e){this.addAllToModelObject(e,[this._coedges,this._attributes])},t.Loop=n},5837:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Lump=void 0;var o=r(9547),i=r(2468),n=r(3344),s=function(){o.BaseTopology.call(this),this._shells=[],this._body=void 0};(s.prototype=Object.create(o.BaseTopology.prototype)).getTopologyType=function(){return i.TOPOLOGY_TYPES.LUMP},s.prototype.getBody=function(){return this._body},s.prototype.setBody=function(e){this._body=e},s.prototype.getShells=function(){return this._shells},s.prototype.setShells=function(e){this._shells=new Array(e.length);for(var t=0;t<e.length;++t)this._shells[t]=e[t]},s.prototype.addShell=function(e){this._shells?this._shells.push(e):this._shells=[e],e.setLump(this)},s.prototype.addShells=function(e){this._shells||(this._shells=[]);for(var t=0;t<e.length;++t)e[t].setLump(this);this._shells=this._shells.concat(e)},s.prototype.removeShell=function(e){var t=this._shells.indexOf(e);return t>-1&&(this._shells.splice(t,1),e.getLump()===this&&e.setLump(void 0),!0)},s.prototype.collectFaces=function(e){e=e||new Set;for(var t=0;t<this._shells.length;++t)this._shells[t].collectFaces(e);return e},s.prototype.collectEdges=function(e){e=e||new Set;for(var t=0;t<this._shells.length;++t)this._shells[t].collectEdges(e);return e},s.prototype.collectVertices=function(e){e=e||new Set;for(var t=0;t<this._shells.length;++t)this._shells[t].collectVertices(e);return e},s.prototype.getBoundingBox=function(){for(var e=new n.BoundingBox,t=0;t<this._shells.length;++t)e.include(this._shells[t].getBoundingBox());return e},s.prototype.toString=function(){return\"Lump\"},s.prototype.toObject=function(){return{shells:this.refsToStrings(this._shells),attributes:this.refsToStrings(this._attributes)}},s.prototype.addToModelObject=function(e){this.addAllToModelObject(e,[this._shells,this._attributes])},t.Lump=s},8292:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Plane=void 0;var o=r(1972),i=r(3344),n=r(2468),s=r(412),a=r(1096),c=r(4728),u=function(){s.Surface.call(this),this._origin=o.Vector3.createFloat64(),this._normal=o.Vector3.createFloat64(),this._uAxis=o.Vector3.createFloat64(),this._vAxis=o.Vector3.createFloat64()};(u.prototype=Object.create(s.Surface.prototype)).getGeometryType=function(){return n.GEOMETRY_TYPES.PLANE},u.prototype.clone=function(){var e=new u;return e.copy(this),e},u.prototype.copy=function(e){s.Surface.prototype.copy.call(this,e),o.Vector3.copy(this._origin,e._origin),o.Vector3.copy(this._normal,e._normal),o.Vector3.copy(this._uAxis,e._uAxis),o.Vector3.copy(this._vAxis,e._vAxis)},u.prototype._computeVAxis=function(){o.Vector3.cross(this._vAxis,this._normal,this._uAxis)},u.prototype.set=function(e,t,r){o.Vector3.copy(this._origin,e),c.ConsoleUtils.assert(o.Vector3.squaredLength(t)>n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE),o.Vector3.normalize(this._normal,t),void 0===r||o.Vector3.squaredLength(r)<n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE?(o.Vector3.computeOrthogonal(this._uAxis,this._normal),o.Vector3.normalize(this._uAxis,this._uAxis)):(c.ConsoleUtils.assert(o.Vector3.isOrthogonal(r,t,n.KERNEL_ANGULAR_TOLERANCE)),o.Vector3.copy(this._uAxis,r)),this._computeVAxis()},u.prototype.getOrigin=function(){return this._origin},u.prototype.setOrigin=function(e){o.Vector3.copy(this._origin,e)},u.prototype.getNormal=function(){return this._normal},u.prototype.setNormal=function(e){c.ConsoleUtils.assert(o.Vector3.squaredLength(e)>n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE),o.Vector3.normalize(this._normal,e),(o.Vector3.squaredLength(this._uAxis)<=n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE||!o.Vector3.isOrthogonal(this._uAxis,this._normal,n.KERNEL_ANGULAR_TOLERANCE))&&(o.Vector3.computeOrthogonal(this._uAxis,this._normal),o.Vector3.normalize(this._uAxis,this._uAxis)),this._computeVAxis()},u.prototype.getUAxis=function(){return this._uAxis},u.prototype.setUAxis=function(e){c.ConsoleUtils.assert(o.Vector3.squaredLength(e)>n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE),o.Vector3.copy(this._uAxis,e),this._computeVAxis()},u.prototype.evaluatePosition=function(e,t){var r=o.Vector3.clone(this._origin);return o.Vector3.scaleAndAdd(r,r,this._uAxis,e),o.Vector3.scaleAndAdd(r,r,this._vAxis,t),r},u.prototype.evaluateNormal=function(e,t){return o.Vector3.clone(this._normal)},u.prototype.evaluateDu=function(e,t){return o.Vector3.clone(this._uAxis)},u.prototype.evaluateDv=function(e,t){return o.Vector3.clone(this._vAxis)},u.prototype.closestParam=function(e){var t=o.Vector3.createFloat64();return o.Vector3.sub(t,e,this._origin),{u:o.Vector3.dot(t,this._uAxis)/o.Vector3.squaredLength(this._uAxis),v:o.Vector3.dot(t,this._vAxis)/o.Vector3.squaredLength(this._vAxis)}},u.prototype.vParamLine=function(e){var t=new a.Line;return t.set(this.evaluatePosition(e,0),this._vAxis),t},u.prototype.uParamLine=function(e){var t=new a.Line;return t.set(this.evaluatePosition(0,e),this._uAxis),t},u.prototype.getBoundingBox=function(e,t){var r=new i.BoundingBox;return e&&t?(r.includePoint(this.evaluatePosition(e[0],t[0])),r.includePoint(this.evaluatePosition(e[0],t[1])),r.includePoint(this.evaluatePosition(e[1],t[1])),r.includePoint(this.evaluatePosition(e[1],t[0]))):(r.includePoint([-1/0,-1/0,-1/0]),r.includePoint([1/0,1/0,1/0])),r},u.prototype.transform=function(e){o.Vector3.transformMatrix44(this._origin,this._origin,e),o.Vector3.transformAsDirectionMatrix44(this._uAxis,this._uAxis,e),o.Vector3.transformAsDirectionMatrix44(this._vAxis,this._vAxis,e),o.Vector3.transformAsDirectionMatrix44(this._normal,this._normal,e),o.Vector3.normalize(this._normal,this._normal)},u.prototype.getRangeUnlimitedU=function(){return[-1/0,1/0]},u.prototype.getRangeUnlimitedV=function(){return[-1/0,1/0]},u.prototype.isPeriodicUnlimitedU=function(){return!1},u.prototype.isPeriodicUnlimitedV=function(){return!1},u.prototype.isClosedUnlimitedU=function(){return!1},u.prototype.isClosedUnlimitedV=function(){return!1},u.prototype.toObject=function(){return{origin:this.vectorToObject(this._origin),normal:this.vectorToObject(this._normal),uAxis:this.vectorToObject(this._uAxis),uRange:this.rangeToObject(this.getRangeU(),this.isLimitedU()),vRange:this.rangeToObject(this.getRangeV(),this.isLimitedV())}},t.Plane=u},3565:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Point=void 0;var o=r(1972),i=r(9024),n=r(3344),s=r(2468),a=function(e){i.BaseGeometry.call(this),this._position=o.Vector3.createFloat64(),e&&o.Vector3.copy(this._position,e)};(a.prototype=Object.create(i.BaseGeometry.prototype)).getGeometryType=function(){return s.GEOMETRY_TYPES.POINT},a.prototype.clone=function(){var e=new a;return e.copy(this),e},a.prototype.copy=function(e){i.BaseGeometry.prototype.copy.call(this,e),this.copyPosition(e.getPosition())},a.prototype.getPosition=function(){return this._position},a.prototype.copyPosition=function(e){o.Vector3.copy(this._position,e)},a.prototype.setPosition=function(e,t,r){o.Vector3.set(this._position,e,t,r)},a.prototype.getBoundingBox=function(){var e=new n.BoundingBox;return e.includePoint(this.getPosition()),e},a.prototype.transform=function(e){o.Vector3.transformMatrix44(this._position,this._position,e)},a.prototype.toObject=function(){return{position:this.vectorToObject(this._position)}},t.Point=a},6508:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Shell=void 0;var o=r(9547),i=r(2468),n=r(3344),s=function(){o.BaseTopology.call(this),this._faces=[],this._lump=void 0};(s.prototype=Object.create(o.BaseTopology.prototype)).getTopologyType=function(){return i.TOPOLOGY_TYPES.SHELL},s.prototype.getLump=function(){return this._lump},s.prototype.setLump=function(e){this._lump=e},s.prototype.getFaces=function(){return this._faces},s.prototype.setFaces=function(e){this._faces=new Array(e.length);for(var t=0;t<e.length;++t)this._faces[t]=e[t]},s.prototype.addFace=function(e){this._faces?this._faces.push(e):this._faces=[e],e.setShell(this)},s.prototype.addFaces=function(e){this._faces||(this._faces=[]);for(var t=0;t<e.length;++t)e[t].setShell(this);this._faces=this._faces.concat(e)},s.prototype.removeFace=function(e){var t=this._faces.indexOf(e);return t>-1&&(this._faces.splice(t,1),e.getShell()===this&&e.setShell(void 0),!0)},s.prototype.getBody=function(){return this._lump?this._lump.getBody():void 0},s.prototype.collectFaces=function(e){e=e||new Set;for(var t=0;t<this._faces.length;++t)e.add(this._faces[t]);return e},s.prototype.collectEdges=function(e){e=e||new Set;for(var t=0;t<this._faces.length;++t)this._faces[t].collectEdges(e);return e},s.prototype.collectVertices=function(e){e=e||new Set;for(var t=0;t<this._faces.length;++t)this._faces[t].collectVertices(e);return e},s.prototype.getBoundingBox=function(){for(var e=new n.BoundingBox,t=0;t<this._faces.length;++t)e.include(this._faces[t].getBoundingBox());return e},s.prototype.toString=function(){return\"Shell\"},s.prototype.toObject=function(){return{faces:this.refsToStrings(this._faces),attributes:this.refsToStrings(this._attributes)}},s.prototype.addToModelObject=function(e){this.addAllToModelObject(e,[this._faces,this._attributes])},t.Shell=s},2468:(e,t)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=!1;\"undefined\"!=typeof window&&window.isJaguar&&(t.isSceneComposerEnv=r=!0);var o=!1;r&&(t.USE_LEGACY_LEIDS=o=window.isJaguar&&window.isJaguar()||!!JSON.parse(localStorage.getItem(\"USE_LEGACY_LEIDS\")));t.KERNEL_TOLERANCE=1e-6,t.KERNEL_ANGULAR_TOLERANCE=1e-10,t.PARAMETER_SPACE_TOLERANCE=1e-10,t.SPLINE_TANGENT_HANDLE_SCALE=1,t.SPLINE_DISTANCE_TOLERANCE=1e-4,t.DEFAULT_CURVE_RESOLUTION=64;t.isSceneComposerEnv=r,t.NO_ID=\"\",t.USE_LEGACY_LEIDS=o,t.TESSELLATION={LINEAR_PRECISION:1e-4,ANGULAR_PRECISION:1e-5},t.GEOMETRY_TYPES={POINT:1,BCURVE:2,CIRCLE:3,ELLIPSE:4,HAPCURVE:5,LINE:6,BSURFACE:7,CONE:8,CYLINDER:9,ELLIPTICAL_CONE:10,ELLIPTICAL_CYLINDER:11,PLANE:12,SPHERE:13,TORUS:14,toString:function(e){switch(e){case this.POINT:return\"Point\";case this.BCURVE:return\"BCurve\";case this.CIRCLE:return\"Circle\";case this.ELLIPSE:return\"Ellipse\";case this.HAPCURVE:return\"HapCurve\";case this.LINE:return\"Line\";case this.BSURFACE:return\"BSurface\";case this.CONE:return\"Cone\";case this.CYLINDER:return\"Cylinder\";case this.ELLIPTICAL_CONE:return\"EllipticalCone\";case this.ELLIPTICAL_CYLINDER:return\"EllipticalCylinder\";case this.PLANE:return\"Plane\";case this.SPHERE:return\"Sphere\";case this.TORUS:return\"Torus\";default:return\"unknown\"}}},t.TOPOLOGY_TYPES={VERTEX:1,EDGE:2,COEDGE:3,LOOP:4,FACE:5,SHELL:6,LUMP:7,BODY:8,WIRE:9,WIREBODY:10,toString:function(e){switch(e){case this.VERTEX:return\"Vertex\";case this.EDGE:return\"Edge\";case this.COEDGE:return\"Coedge\";case this.LOOP:return\"Loop\";case this.FACE:return\"Face\";case this.SHELL:return\"Shell\";case this.LUMP:return\"Lump\";case this.BODY:return\"Body\";case this.WIRE:return\"Wire\";case this.WIREBODY:return\"WireBody\";default:return\"unknown\"}}}},4372:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Sphere=void 0;var o=r(1972),i=r(5896),n=r(2468),s=r(412),a=r(3565),c=r(5512),u=r(4728),l=function(){s.Surface.call(this),this._center=o.Vector3.createFloat64(),this._radius=0,this._xAxis=o.Vector3.createFloat64(),this._yAxis=o.Vector3.createFloat64(),this._zAxis=o.Vector3.createFloat64()};(l.prototype=Object.create(s.Surface.prototype)).getGeometryType=function(){return n.GEOMETRY_TYPES.SPHERE},l.prototype.clone=function(){var e=new l;return e.copy(this),e},l.prototype.copy=function(e){s.Surface.prototype.copy.call(this,e),this._radius=e._radius,o.Vector3.copy(this._center,e._center),o.Vector3.copy(this._xAxis,e._xAxis),o.Vector3.copy(this._yAxis,e._yAxis),o.Vector3.copy(this._zAxis,e._zAxis)},l.prototype._computeYAxis=function(){o.Vector3.cross(this._yAxis,this._xAxis,this._zAxis)},l.prototype.set=function(e,t,r,i){o.Vector3.copy(this._center,e),u.ConsoleUtils.assert(t>n.KERNEL_TOLERANCE),this._radius=t;var s=void 0===r||o.Vector3.squaredLength(r)<n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE,a=void 0===i||o.Vector3.squaredLength(i)<n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE;s&&a?(o.Vector3.set(this._xAxis,1,0,0),o.Vector3.set(this._zAxis,0,0,1)):s?(o.Vector3.normalize(this._xAxis,i),o.Vector3.computeOrthogonal(this._zAxis,this._xAxis),o.Vector3.normalize(this._zAxis,this._zAxis)):a?(o.Vector3.normalize(this._zAxis,r),o.Vector3.computeOrthogonal(this._xAxis,this._zAxis),o.Vector3.normalize(this._xAxis,this._xAxis)):(u.ConsoleUtils.assert(o.Vector3.isOrthogonal(r,i,n.KERNEL_ANGULAR_TOLERANCE)),o.Vector3.normalize(this._xAxis,i),o.Vector3.normalize(this._zAxis,r)),this._computeYAxis()},l.prototype.getRadius=function(){return this._radius},l.prototype.setRadius=function(e){u.ConsoleUtils.assert(e>n.KERNEL_TOLERANCE),this._radius=e},l.prototype.getCenter=function(){return this._center},l.prototype.setCenter=function(e){o.Vector3.copy(this._center,e)},l.prototype.getAxisDir=function(){return this._zAxis},l.prototype.setAxisDir=function(e){u.ConsoleUtils.assert(o.Vector3.squaredLength(e)>n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE),o.Vector3.normalize(this._zAxis,e),(o.Vector3.squaredLength(this._xAxis)<=n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE||!o.Vector3.isOrthogonal(this._xAxis,this._zAxis,n.KERNEL_ANGULAR_TOLERANCE))&&(o.Vector3.computeOrthogonal(this._xAxis,this._zAxis),o.Vector3.normalize(this._xAxis,this._xAxis)),this._computeYAxis()},l.prototype.getUvOriginDir=function(){return this._xAxis},l.prototype.setUvOriginDir=function(e){u.ConsoleUtils.assert(o.Vector3.squaredLength(e)>n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE),o.Vector3.normalize(this._xAxis,e),(o.Vector3.squaredLength(this._zAxis)<=n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE||!o.Vector3.isOrthogonal(this._xAxis,this._zAxis,n.KERNEL_ANGULAR_TOLERANCE))&&(o.Vector3.computeOrthogonal(this._zAxis,this._xAxis),o.Vector3.normalize(this._zAxis,this._zAxis)),this._computeYAxis()},l.prototype.evaluatePosition=function(e,t){var r=Math.sin(e),i=Math.cos(e),n=Math.sin(t),s=Math.cos(t),a=this._radius*i*s,c=this._radius*i*n,u=this._radius*r,l=o.Vector3.clone(this._center);return o.Vector3.scaleAndAdd(l,l,this._xAxis,a),o.Vector3.scaleAndAdd(l,l,this._yAxis,c),o.Vector3.scaleAndAdd(l,l,this._zAxis,u),l},l.prototype.evaluateNormal=function(e,t){var r=Math.sin(e),i=Math.cos(e),n=Math.sin(t),s=i*Math.cos(t),a=i*n,c=r,u=o.Vector3.createFloat64();return o.Vector3.scale(u,this._xAxis,s),o.Vector3.scaleAndAdd(u,u,this._yAxis,a),o.Vector3.scaleAndAdd(u,u,this._zAxis,c),u},l.prototype.evaluateDu=function(e,t){var r=Math.sin(e),i=Math.cos(e),n=Math.sin(t),s=Math.cos(t),a=-this._radius*r*s,c=-this._radius*r*n,u=this._radius*i,l=o.Vector3.createFloat64();return o.Vector3.scale(l,this._xAxis,a),o.Vector3.scaleAndAdd(l,l,this._yAxis,c),o.Vector3.scaleAndAdd(l,l,this._zAxis,u),l},l.prototype.evaluateDv=function(e,t){var r=Math.cos(e),i=Math.sin(t),n=Math.cos(t),s=-this._radius*r*i,a=this._radius*r*n,c=o.Vector3.createFloat64();return o.Vector3.scale(c,this._xAxis,s),o.Vector3.scaleAndAdd(c,c,this._yAxis,a),c},l.prototype.closestParam=function(e){var t=o.Vector3.createFloat64();o.Vector3.sub(t,e,this._center);var r=o.Vector3.length(t);if(r<n.KERNEL_TOLERANCE)return{u:0,v:0};var s=o.Vector3.dot(t,this._xAxis),a=o.Vector3.dot(t,this._yAxis),c=o.Vector3.dot(t,this._zAxis);return{u:Math.asin((0,i.clamp)(c/r,-1,1)),v:Math.atan2(a,s)}},l.prototype.vParamLine=function(e){var t=Math.cos(e),r=Math.sin(e),i=this._radius*t,s=this._radius*r;if(Math.abs(i)>n.KERNEL_TOLERANCE){var u=new c.Circle,l=o.Vector3.clone(this._center);o.Vector3.scaleAndAdd(l,l,this._zAxis,s);var h=o.Vector3.clone(this._xAxis);o.Vector3.scale(h,h,i);var d=o.Vector3.clone(this._zAxis);return o.Vector3.negate(d,d),u.set(l,d,h),u}var p=o.Vector3.clone(this._center);return s=s<0?-this._radius:this._radius,o.Vector3.scaleAndAdd(p,p,this._zAxis,s),new a.Point(p)},l.prototype.uParamLine=function(e){var t=new c.Circle,r=Math.sin(e),i=Math.cos(e),n=this._radius*i,s=this._radius*r,a=o.Vector3.clone(this._xAxis);o.Vector3.scale(a,a,-s),o.Vector3.scaleAndAdd(a,a,this._yAxis,n),o.Vector3.normalize(a,a);var u=o.Vector3.clone(this._xAxis);return o.Vector3.scale(u,u,n),o.Vector3.scaleAndAdd(u,u,this._yAxis,s),t.set(this._center,a,u),t},l.prototype.getBoundingBox=function(e,t){e=e||[-Math.PI/2,Math.PI/2],t=t||[-Math.PI,Math.PI];var r=e[0],n=e[1],s=t[0],a=t[1],c=this.vParamLine(r).getBoundingBox(t);c.include(this.vParamLine(n).getBoundingBox(t)),c.include(this.uParamLine(s).getBoundingBox(e)),c.include(this.uParamLine(a).getBoundingBox(e));for(var u=o.Vector3.createFloat64(),l=0;l<3;++l)for(var h=0;h<2;++h){var d=0===h?1:-1,p=Math.atan2(d*this._yAxis[l],d*this._xAxis[l]),g=Math.asin(d*this._zAxis[l]);p=(0,i.adjustParameterToPeriodicRange)(p,t,i.PI2),g>r&&g<n&&p>s&&p<a&&(o.Vector3.set(u,0,0,0),u[l]=d*this._radius,c.includePoint(o.Vector3.add(u,this._center,u)))}return c},l.prototype.transform=function(e){o.Vector3.transformMatrix44(this._center,this._center,e),o.Vector3.transformAsDirectionMatrix44(this._xAxis,this._xAxis,e),o.Vector3.transformAsDirectionMatrix44(this._yAxis,this._yAxis,e),o.Vector3.transformAsDirectionMatrix44(this._zAxis,this._zAxis,e);var t=o.Vector3.length(this._xAxis);this._radius*=t,o.Vector3.normalize(this._xAxis,this._xAxis),o.Vector3.normalize(this._yAxis,this._yAxis),o.Vector3.normalize(this._zAxis,this._zAxis)},l.prototype.getRangeUnlimitedU=function(){return[-Math.PI/2,Math.PI/2]},l.prototype.getRangeUnlimitedV=function(){return[-Math.PI,Math.PI]},l.prototype.isPeriodicUnlimitedU=function(){return!1},l.prototype.isPeriodicUnlimitedV=function(){return!0},l.prototype.isClosedUnlimitedU=function(){return!1},l.prototype.isClosedUnlimitedV=function(){return!0},l.prototype.toObject=function(){const e=this.evaluatePosition(0,0);return o.Vector3.sub(e,e,this.getCenter()),{center:this.vectorToObject(this.getCenter()),radius:this.vectorToObject(e),axis:this.vectorToObject(this.getAxisDir()),uRange:this.rangeToObject(this.getRangeU(),this.isLimitedU()),vRange:this.rangeToObject(this.getRangeV(),this.isLimitedV())}},t.Sphere=l},412:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Surface=void 0;var o=r(1972),i=r(9024),n=r(2468),s=r(5896),a=function(){i.BaseGeometry.call(this),this._subrangeU=[],this._subrangeV=[]};(a.prototype=Object.create(i.BaseGeometry.prototype)).copy=function(e){i.BaseGeometry.prototype.copy.call(this,e),this._subrangeU=e.isLimitedU()?[e._subrangeU[0],e._subrangeU[1]]:[],this._subrangeV=e.isLimitedV()?[e._subrangeV[0],e._subrangeV[1]]:[]},a.prototype.isLimitedU=function(){return this._subrangeU.length>0},a.prototype.isLimitedV=function(){return this._subrangeV.length>0},a.prototype.getRangeU=function(){return this.isLimitedU()?this._subrangeU:this.getRangeUnlimitedU()},a.prototype.getRangeV=function(){return this.isLimitedV()?this._subrangeV:this.getRangeUnlimitedV()},a.prototype.getRangeUnlimitedU=function(){console.warn(\"Surface.getRangeUnlimitedU : abstract method invoked!\")},a.prototype.getRangeUnlimitedV=function(){console.warn(\"Surface.getRangeUnlimitedV : abstract method invoked!\")},a.prototype.limitRangeU=function(e){var t=this.getRangeU();this._subrangeU=(0,s.limitRange)(t,e,this.isPeriodicU(),this.getPeriodU())},a.prototype.limitRangeV=function(e){var t=this.getRangeV();this._subrangeV=(0,s.limitRange)(t,e,this.isPeriodicV(),this.getPeriodV())},a.prototype.unlimitRangeU=function(){this._subrangeU=[]},a.prototype.unlimitRangeV=function(){this._subrangeV=[]},a.prototype.isPeriodicU=function(){return this.isPeriodicUnlimitedU()&&!this.isLimitedU()},a.prototype.isPeriodicV=function(){return this.isPeriodicUnlimitedV()&&!this.isLimitedV()},a.prototype.isPeriodicUnlimitedU=function(){console.warn(\"Surface.isPeriodicUnlimitedU : abstract method invoked!\")},a.prototype.isPeriodicUnlimitedV=function(){console.warn(\"Surface.isPeriodicUnlimitedV : abstract method invoked!\")},a.prototype.getPeriodU=function(){return this.isLimitedU()?void 0:this.getPeriodUnlimitedU()},a.prototype.getPeriodV=function(){return this.isLimitedV()?void 0:this.getPeriodUnlimitedV()},a.prototype.getPeriodUnlimitedU=function(){if(this.isPeriodicUnlimitedU()){var e=this.getRangeUnlimitedU();return e[1]-e[0]}},a.prototype.getPeriodUnlimitedV=function(){if(this.isPeriodicUnlimitedV()){var e=this.getRangeUnlimitedV();return e[1]-e[0]}},a.prototype.isClosedU=function(){if(this.isClosedUnlimitedU()){if(this.isLimitedU()){var e=this.getRangeUnlimitedU(),t=e[1]-e[0];return this._subrangeU[1]-this._subrangeU[0]>t-n.PARAMETER_SPACE_TOLERANCE}return!0}return!1},a.prototype.isClosedV=function(){if(this.isClosedUnlimitedV()){if(this.isLimitedV()){var e=this.getRangeUnlimitedV(),t=e[1]-e[0];return this._subrangeV[1]-this._subrangeV[0]>t-n.PARAMETER_SPACE_TOLERANCE}return!0}return!1},a.prototype.isClosedUnlimitedU=function(){console.warn(\"Surface.isClosedUnlimitedU : abstract method invoked!\")},a.prototype.isClosedUnlimitedV=function(){console.warn(\"Surface.isClosedUnlimitedV : abstract method invoked!\")},a.prototype.evaluatePosition=function(e,t){console.warn(\"Surface.evaluatePosition : abstract method invoked\")},a.prototype.evaluateDu=function(e,t){console.warn(\"Surface.evaluateDu : abstract method invoked\")},a.prototype.evaluateDv=function(e,t){console.warn(\"Surface.evaluateDv : abstract method invoked\")},a.prototype.evaluateNormal=function(e,t){var r=this.evaluateDu(e,t);return o.Vector3.cross(r,r,this.evaluateDv(e,t)),o.Vector3.normalize(r,r),r},a.prototype.closestParam=function(e){console.warn(\"Surface.closestParam : abstract method invoked\")},a.prototype.vParamLine=function(e){console.warn(\"Surface.vParamLine : abstract method invoked, returning undefined\")},a.prototype.uParamLine=function(e){console.warn(\"Surface.uParamLine : abstract method invoked, returning undefined\")},a.prototype.getBoundingBox=function(e,t){console.warn(\"Surface.getBoundingBox : abstract method invoked, returning undefined\")},a.prototype.transform=function(e){console.warn(\"Surface.transform : abstract method invoked\")},t.Surface=a},1408:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Torus=void 0;var o=r(1972),i=r(5896),n=r(2468),s=r(412),a=r(3565),c=r(5512),u=r(4728),l=function(){s.Surface.call(this),this._center=o.Vector3.createFloat64(),this._majorRadius=0,this._minorRadius=0,this._lemon=!1,this._xAxis=o.Vector3.createFloat64(),this._yAxis=o.Vector3.createFloat64(),this._zAxis=o.Vector3.createFloat64()};(l.prototype=Object.create(s.Surface.prototype)).getGeometryType=function(){return n.GEOMETRY_TYPES.TORUS},l.prototype.clone=function(){var e=new l;return e.copy(this),e},l.prototype.copy=function(e){s.Surface.prototype.copy.call(this,e),this._majorRadius=e._majorRadius,this._minorRadius=e._minorRadius,this._lemon=e._lemon,o.Vector3.copy(this._center,e._center),o.Vector3.copy(this._xAxis,e._xAxis),o.Vector3.copy(this._yAxis,e._yAxis),o.Vector3.copy(this._zAxis,e._zAxis)},l.prototype._computeYAxis=function(){o.Vector3.cross(this._yAxis,this._xAxis,this._zAxis)},l.prototype.set=function(e,t,r,i,s,a){o.Vector3.copy(this._center,e),u.ConsoleUtils.assert(t>n.KERNEL_TOLERANCE),this._majorRadius=t,u.ConsoleUtils.assert(r>n.KERNEL_TOLERANCE),this._minorRadius=r,u.ConsoleUtils.assert(o.Vector3.squaredLength(i)>n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE),o.Vector3.normalize(this._zAxis,i),void 0!==s&&o.Vector3.squaredLength(s)>n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE?(u.ConsoleUtils.assert(o.Vector3.isOrthogonal(i,s,n.KERNEL_ANGULAR_TOLERANCE)),o.Vector3.normalize(this._xAxis,s)):(o.Vector3.computeOrthogonal(this._xAxis,this._zAxis),o.Vector3.normalize(this._xAxis,this._xAxis)),this._lemon=!0===a,this._computeYAxis()},l.prototype.getMajorRadius=function(){return this._majorRadius},l.prototype.setMajorRadius=function(e){u.ConsoleUtils.assert(e>n.KERNEL_TOLERANCE),this._majorRadius=e},l.prototype.getMinorRadius=function(){return this._minorRadius},l.prototype.setMinorRadius=function(e){u.ConsoleUtils.assert(e>n.KERNEL_TOLERANCE),this._minorRadius=e},l.prototype.getCenter=function(){return this._center},l.prototype.setCenter=function(e){o.Vector3.copy(this._center,e)},l.prototype.getAxisDir=function(){return this._zAxis},l.prototype.setAxisDir=function(e){u.ConsoleUtils.assert(o.Vector3.squaredLength(e)>n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE),o.Vector3.normalize(this._zAxis,e),(o.Vector3.squaredLength(this._xAxis)<=n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE||!o.Vector3.isOrthogonal(this._xAxis,this._zAxis,n.KERNEL_ANGULAR_TOLERANCE))&&(o.Vector3.computeOrthogonal(this._xAxis,this._zAxis),o.Vector3.normalize(this._xAxis,this._xAxis)),this._computeYAxis()},l.prototype.getUvOriginDir=function(){return this._xAxis},l.prototype.setUvOriginDir=function(e){u.ConsoleUtils.assert(o.Vector3.squaredLength(e)>n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE),o.Vector3.normalize(this._xAxis,e),this._computeYAxis()},l.prototype.isDoughnut=function(){return this._majorRadius>this._minorRadius+n.KERNEL_TOLERANCE},l.prototype.isVortex=function(){return Math.abs(this._majorRadius-this._minorRadius)<=n.KERNEL_TOLERANCE},l.prototype.isApple=function(){return this._majorRadius<this._minorRadius-n.KERNEL_TOLERANCE&&!this._lemon},l.prototype.isLemon=function(){return this._majorRadius<this._minorRadius-n.KERNEL_TOLERANCE&&this._lemon},l.prototype.setLemon=function(e){this._lemon=e},l.prototype.getSingularUParams=function(){var e,t,r;return this.isDoughnut()?[]:this.isApple()?(e=-this._majorRadius,t=this._minorRadius,[-(r=Math.acos(e/t)),r]):this.isLemon()?(e=this._minorRadius-this._majorRadius,t=this._minorRadius,[-(r=Math.acos(e/t)),r]):[-Math.PI,Math.PI]},l.prototype.evaluatePosition=function(e,t){var r=this._minorRadius*Math.cos(e);this.isLemon()?r-=this._majorRadius:r+=this._majorRadius;var i=r*Math.cos(t),n=r*Math.sin(t),s=this._minorRadius*Math.sin(e),a=o.Vector3.clone(this._center);return o.Vector3.scaleAndAdd(a,a,this._xAxis,i),o.Vector3.scaleAndAdd(a,a,this._yAxis,n),o.Vector3.scaleAndAdd(a,a,this._zAxis,s),a},l.prototype.evaluateNormal=function(e,t){var r=Math.sin(e),i=Math.cos(e),n=Math.sin(t),s=i*Math.cos(t),a=i*n,c=r,u=o.Vector3.createFloat64();return o.Vector3.scale(u,this._xAxis,s),o.Vector3.scaleAndAdd(u,u,this._yAxis,a),o.Vector3.scaleAndAdd(u,u,this._zAxis,c),u},l.prototype.evaluateDu=function(e,t){var r=-this._minorRadius*Math.sin(e),i=r*Math.cos(t),n=r*Math.sin(t),s=this._minorRadius*Math.cos(e),a=o.Vector3.createFloat64();return o.Vector3.scale(a,this._xAxis,i),o.Vector3.scaleAndAdd(a,a,this._yAxis,n),o.Vector3.scaleAndAdd(a,a,this._zAxis,s),a},l.prototype.evaluateDv=function(e,t){var r=this._minorRadius*Math.cos(e);this.isLemon()?r-=this._majorRadius:r+=this._majorRadius;var i=-r*Math.sin(t),n=r*Math.cos(t),s=o.Vector3.createFloat64();return o.Vector3.scale(s,this._xAxis,i),o.Vector3.scaleAndAdd(s,s,this._yAxis,n),s},l.prototype.closestParam=function(e){var t=o.Vector3.createFloat64();o.Vector3.sub(t,e,this._center);var r=o.Vector3.dot(t,this._xAxis),i=o.Vector3.dot(t,this._yAxis),s=o.Vector3.dot(t,this._zAxis),a=Math.sqrt(r*r+i*i);return this.isLemon()?a+=this._majorRadius:a-=this._majorRadius,{u:s*s+a*a>n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE?Math.atan2(s,a):0,v:r*r+i*i>n.KERNEL_TOLERANCE*n.KERNEL_TOLERANCE?Math.atan2(i,r):0}},l.prototype.vParamLine=function(e){var t=this._minorRadius*Math.cos(e);this.isLemon()?t-=this._majorRadius:t+=this._majorRadius;var r=this._minorRadius*Math.sin(e);if(Math.abs(t)>n.KERNEL_TOLERANCE){var i=new c.Circle,s=o.Vector3.clone(this._center);o.Vector3.scaleAndAdd(s,s,this._zAxis,r);var u=o.Vector3.clone(this._xAxis);o.Vector3.scale(u,u,t);var l=o.Vector3.clone(this._zAxis);return o.Vector3.negate(l,l),i.set(s,l,u),i}var h=o.Vector3.clone(this._center),d=this.getSingularUParams();return d[0]&&r<0?r=this._minorRadius*Math.sin(d[0]):d[1]&&r>0&&(r=this._minorRadius*Math.sin(d[1])),o.Vector3.scaleAndAdd(h,h,this._zAxis,r),new a.Point(h)},l.prototype.uParamLine=function(e){var t=new c.Circle,r=Math.sin(e),i=Math.cos(e),n=this._majorRadius*i,s=this._majorRadius*r;this.isLemon()&&(n=-n,s=-s);var a=o.Vector3.clone(this._center);o.Vector3.scaleAndAdd(a,a,this._xAxis,n),o.Vector3.scaleAndAdd(a,a,this._yAxis,s);var u=this._minorRadius*i,l=this._minorRadius*r,h=o.Vector3.clone(this._xAxis);o.Vector3.scale(h,h,-l),o.Vector3.scaleAndAdd(h,h,this._yAxis,u),o.Vector3.normalize(h,h);var d=o.Vector3.clone(this._xAxis);return o.Vector3.scale(d,d,u),o.Vector3.scaleAndAdd(d,d,this._yAxis,l),t.set(a,h,d),t},l.prototype.getBoundingBox=function(e,t){e=e||(this.isDoughnut()?[-Math.PI,Math.PI]:this.getSingularUParams()),t=t||[-Math.PI,Math.PI];var r=e[0],n=e[1],s=t[0],a=t[1],c=this.vParamLine(r).getBoundingBox(t);c.include(this.vParamLine(n).getBoundingBox(t)),c.include(this.uParamLine(s).getBoundingBox(e)),c.include(this.uParamLine(a).getBoundingBox(e));for(var u=o.Vector3.createFloat64(),l=o.Vector3.createFloat64(),h=0;h<3;++h)for(var d=0;d<2;++d){var p=0===d?-1:1,g=Math.atan2(p*this._yAxis[h],p*this._xAxis[h]);if((g=(0,i.adjustParameterToPeriodicRange)(g,t,i.PI2))>s&&g<a){var f=this.uParamLine(g);u=f.evaluatePosition(0),o.Vector3.sub(u,u,f.getCenter()),l=f.evaluatePosition(Math.PI/2),o.Vector3.sub(l,l,f.getCenter());var v=(0,i.minMaxCosSinFunc)(u[h],l[h],f.getCenter()[h],e);0===h?c.includeX(v[d]):1===h?c.includeY(v[d]):c.includeZ(v[d])}}return c},l.prototype.transform=function(e){o.Vector3.transformMatrix44(this._center,this._center,e),o.Vector3.transformAsDirectionMatrix44(this._xAxis,this._xAxis,e),o.Vector3.transformAsDirectionMatrix44(this._yAxis,this._yAxis,e),o.Vector3.transformAsDirectionMatrix44(this._zAxis,this._zAxis,e);var t=o.Vector3.length(this._xAxis);this._majorRadius*=t,this._minorRadius*=t,o.Vector3.normalize(this._xAxis,this._xAxis),o.Vector3.normalize(this._yAxis,this._yAxis),o.Vector3.normalize(this._zAxis,this._zAxis)},l.prototype.getRangeUnlimitedU=function(){return this.isDoughnut()?[-Math.PI,Math.PI]:this.getSingularUParams()},l.prototype.getRangeUnlimitedV=function(){return[-Math.PI,Math.PI]},l.prototype.isPeriodicUnlimitedU=function(){return this.isDoughnut()},l.prototype.isPeriodicUnlimitedV=function(){return!0},l.prototype.isClosedUnlimitedU=function(){return this.isDoughnut()||this.isVortex()},l.prototype.isClosedUnlimitedV=function(){return!0},l.prototype.toObject=function(){const e=this.evaluatePosition(0,0);return o.Vector3.sub(e,e,this.getCenter()),{center:this.vectorToObject(this.getCenter()),coordAxis:this.vectorToObject(this.getUvOriginDir()),axis:this.vectorToObject(this.getAxisDir()),majorRadius:this.getMajorRadius(),minorRadius:this.getMinorRadius(),lemon:this.isLemon(),uRange:this.rangeToObject(this.getRangeU(),this.isLimitedU()),vRange:this.rangeToObject(this.getRangeV(),this.isLimitedV())}},t.Torus=l},6940:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Vertex=void 0;var o=r(9547),i=r(2468),n=r(4728),s=r(9608),a=function(e){o.BaseTopology.call(this),this._point=e,this._precision=0,this._edges=[]};(a.prototype=Object.create(o.BaseTopology.prototype)).getTopologyType=function(){return i.TOPOLOGY_TYPES.VERTEX},a.prototype.getPoint=function(){return this._point},a.prototype.setPoint=function(e){this._point=e},a.prototype.getPrecision=function(){return this._precision},a.prototype.setPrecision=function(e){n.ConsoleUtils.assert(e>=0),this._precision=e},a.prototype.getEdges=function(){return this._edges},a.prototype.isAdjacentEdge=function(e){return-1!==this._edges.indexOf(e)},a.prototype.getOtherEdge=function(e){for(var t=0;t<this._edges.length;t++){var r=this._edges[t];if(r!==e)return r}return null},a.prototype.getOtherEdges=function(e){for(var t=[],r=0;r<this._edges.length;r++){var o=this._edges[r];o!==e&&t.push(o)}return t},a.prototype.getAdjacentVertices=function(){for(var e=[],t=0;t<this._edges.length;t++){var r=this._edges[t].getOtherVertex(this);r!==this&&e.indexOf(r)<0&&e.push(r)}return e},a.prototype.getCommonEdges=function(e){for(var t=[],r=0;r<this._edges.length;r++){var o=this._edges[r],i=o.getStartVertex(),n=o.getEndVertex();(i===this&&n===e||n===this&&i===e)&&t.push(o)}return t},a.prototype.addEdge=function(e){-1===this._edges.indexOf(e)&&this._edges.push(e)},a.prototype.removeEdge=function(e){var t=this._edges.indexOf(e);return t>=0&&(this._edges.splice(t,1),!0)},a.prototype.getPosition=function(){return this._point.getPosition()},a.prototype.getBody=function(){return this._edges.length>0?this._edges[0].getBody():void 0},a.prototype.collectFaces=function(e){e=e||new Set;for(var t=0;t<this._edges.length;++t)this._edges[t].collectFaces(e);return e},a.prototype.collectEdges=function(e){e=e||new Set;for(var t=0;t<this._edges.length;++t)e.add(this._edges[t]);return e},a.prototype.collectVertices=function(e){return(e=e||new Set).add(this),e},a.prototype.getBoundingBox=function(){return this._point.getBoundingBox()},a.prototype.toString=function(){return String(this._point.getPosition())},a.prototype.getOrderedFaces=function(){const e=[],t=(0,s.getOrderedFacesOnVertex)(this);for(let r=0;r<t.length;r++)t[r].faces.forEach((t=>{e.push(t)}));return e},a.prototype.toObject=function(){return{geometry:this.refToString(this._point),precision:this.getPrecision(),attributes:this.refsToStrings(this._attributes)}},a.prototype.addToModelObject=function(e){this.addAllToModelObject(e,[this._point,this._attributes])},t.Vertex=a},7575:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Wire=void 0;var o=r(9547),i=r(3344),n=r(2468),s=function(){o.BaseTopology.call(this),this._wireBody=void 0,this._edges=[]};(s.prototype=Object.create(o.BaseTopology.prototype)).getTopologyType=function(){return n.TOPOLOGY_TYPES.WIRE},s.prototype.getWireBody=function(){return this._wireBody},s.prototype.setWireBody=function(e){this._wireBody=e},s.prototype.getEdges=function(){return this._edges},s.prototype.setEdges=function(e){this._edges=new Array(e.length);for(var t=0;t<e.length;++t)this._edges[t]=e[t]},s.prototype.addEdge=function(e){this._edges?this._edges.push(e):this._edges=[e],e.setWire(this),e.setCoedge(void 0)},s.prototype.addEdges=function(e){this._edges||(this._edges=[]);for(var t=0;t<e.length;++t)e[t].setWire(this),e[t].setCoedge(void 0);this._edges=this._edges.concat(e)},s.prototype.removeEdge=function(e){var t=this._edges.indexOf(e);return t>-1&&(this._edges.splice(t,1),e.getWire()===this&&e.setWire(void 0),!0)},s.prototype.getBody=function(){return this._wireBody},s.prototype.collectFaces=function(e){return e||new Set},s.prototype.collectEdges=function(e){e=e||new Set;for(var t=0;t<this._edges.length;++t)e.add(this._edges[t]);return e},s.prototype.collectVertices=function(e){e=e||new Set;for(var t=0;t<this._edges.length;++t)this._edges[t].collectVertices(e);return e},s.prototype.isBranched=function(){for(var e=0;e<this._edges.length;++e){var t=this._edges[e],r=t.getStartVertex(),o=t.getEndVertex();if(r===o&&r.getOtherEdge(t))return!0;if(r.getEdges().length>2||o.getEdges().length>2)return!0}return!1},s.prototype.getOrderedEdges=function(){if(0===this._edges.length)return{edges:[],start:void 0,end:void 0};var e=[];e.push(this._edges[0]);for(var t=new Set(this._edges.slice(1)),r=e[0].getStartVertex(),o=e[0].getEndVertex();t.size>0;){var i=t.size;if(t.forEach((function(i){i.getEndVertex()===r?(e.unshift(i),r=i.getStartVertex(),t.delete(i)):i.getStartVertex()===r?(e.unshift(i),r=i.getEndVertex(),t.delete(i)):i.getEndVertex()===o?(e.push(i),o=i.getStartVertex(),t.delete(i)):i.getStartVertex()===o&&(e.push(i),o=i.getEndVertex(),t.delete(i))})),i===t.size){console.warn(\"Wire is disconnected or branching.\");break}}return{edges:e,start:r,end:o}},s.prototype.isClosed=function(){if(1===this._edges.length)return this._edges[0].getStartVertex()===this._edges[0].getEndVertex();for(var e=this._edges[0],t=void 0,r=0;r<this._edges.length;++r){var o,i=e.getStartVertex(),n=e.getEndVertex();if(i===n||2!==i.getEdges().length||2!==n.getEdges().length)return!1;if(t&&i.getOtherEdge(e)!==t){if(n.getOtherEdge(e)!==t)return!1;o=i.getOtherEdge(e)}else o=n.getOtherEdge(e);t=e,e=o}return e===this._edges[0]},s.prototype.getBoundingBox=function(){for(var e=new i.BoundingBox,t=0;t<this._edges.length;++t)e.include(this._edges[t].getBoundingBox());return e},s.prototype.toString=function(){return\"Wire\"},s.prototype.toObject=function(){return{edges:this.refsToStrings(this._edges),attributes:this.refsToStrings(this._attributes)}},s.prototype.addToModelObject=function(e){this.addAllToModelObject(e,[this._edges,this._attributes])},t.Wire=s},6500:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.WireBody=void 0;var o=r(9547),i=r(2468),n=r(3344),s=r(7616),a=function(){o.BaseTopology.call(this),this._wires=[]};(a.prototype=Object.create(o.BaseTopology.prototype)).getTopologyType=function(){return i.TOPOLOGY_TYPES.WIREBODY},a.prototype.getWires=function(){return this._wires},a.prototype.setWires=function(e){this._wires=new Array(e.length);for(var t=0;t<e.length;++t)this._wires[t]=e[t]},a.prototype.addWire=function(e){this._wires?this._wires.push(e):this._wires=[e],e.setWireBody(this)},a.prototype.addWires=function(e){this._wires||(this._wires=[]);for(var t=0;t<e.length;++t)e[t].setWireBody(this);this._wires=this._wires.concat(e)},a.prototype.removeWire=function(e){var t=this._wires.indexOf(e);return t>-1&&(this._wires.splice(t,1),e.getWireBody()===this&&e.setWireBody(void 0),!0)},a.prototype.getBody=function(){return this},a.prototype.collectFaces=function(e){return e||new Set},a.prototype.collectEdges=function(e){e=e||new Set;for(var t=0;t<this._wires.length;++t)this._wires[t].collectEdges(e);return e},a.prototype.collectVertices=function(e){e=e||new Set;for(var t=0;t<this._wires.length;++t)this._wires[t].collectVertices(e);return e},a.prototype.getBoundingBox=function(){for(var e=new n.BoundingBox,t=0;t<this._wires.length;++t)e.include(this._wires[t].getBoundingBox());return e},a.prototype.transform=function(e){(0,s.transformTopology)(this,e)},a.prototype.toString=function(){return\"WireBody\"},a.prototype.toObject=function(){return{wires:this.refsToStrings(this._wires),attributes:this.refsToStrings(this._attributes)}},a.prototype.addToModelObject=function(e){this.addAllToModelObject(e,[this._wires,this._attributes])},t.WireBody=a},7392:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.MatchFinder=void 0;var o=r(1972),i=r(2468),n=r(7808),s=r(6344),a=r(2208),c=r(4728),u=function(){this._edges1=[],this._edges2=[],this._verts1=[],this._verts2=[],this._vertexMatchMap=new Map,this._edgeMatchMap=new Map,this._sameEdgeLists=!1,this._newVertices=new Set,this._edgeProgenitors=new a.ProgenitorMap};u.prototype.addMergeToMap=function(e,t,r){var o=r.get(e),i=r.get(t);if(o&&!i)o.push(t),r.set(t,o);else if(!o&&i)i.push(e),r.set(e,i);else if(o||i){if(o&&i&&o!==i)for(var n=0;n<i.length;++n)o.push(i[n]),r.set(i[n],o)}else{var s=[e,t];r.set(e,s),r.set(t,s)}},u.prototype.addVertexMerge=function(e,t){this.addMergeToMap(e,t,this._vertexMatchMap)},u.prototype.addEdgeMerge=function(e,t){this.addMergeToMap(e,t,this._edgeMatchMap)},u.prototype.verticesMatch=function(e,t){var r=Math.max(e.getPrecision(),t.getPrecision(),i.KERNEL_TOLERANCE);return o.Vector3.squaredDistance(e.getPosition(),t.getPosition())<r*r},u.prototype.findEdgeSplitParam=function(e,t){var r=e.getStartVertex();if(r!==t){var n=e.getEndVertex();if(n!==t){var s=this._vertexMatchMap.get(r);if(!s||-1===s.indexOf(t)){var a=this._vertexMatchMap.get(n);if(!a||-1===a.indexOf(t)){var c=t.getPosition(),u=Math.max(t.getPrecision(),i.KERNEL_TOLERANCE),l=e.closestToPointParam(c);if(void 0!==l){var h=e.evaluatePosition(l);if(!(o.Vector3.squaredDistance(c,h)>u*u))return{param:l,position:h}}}}}}},u.prototype.matchVertices=function(){for(var e=new Set,t=0;t<this._edges1.length;++t)this._edges1[t].collectVertices(e);this._verts1=Array.from(e);var r=new Set;for(t=0;t<this._edges2.length;++t)this._edges2[t].collectVertices(r);this._verts2=Array.from(r);var o=this;e.forEach((function(e){r.forEach((function(t){e!==t&&o.verticesMatch(e,t)&&o.addVertexMerge(e,t)}))}))},u.prototype.findVertexOnEdgeSplits=function(e,t){for(var r=t.length,o=0;o<r;++o){for(var i=t[o],n=[],s=0;s<e.length;++s){var a=e[s],c=this.findEdgeSplitParam(i,a);c&&n.push({vertex:a,param:c.param,position:c.position})}if(n.length>0){var u=this.splitEdgeAtParams(i,n);if(u.length>0){t[o]=u[0];for(var l=1;l<u.length;++l)t.push(u[l])}}}},u.prototype.doEdgeSplits=function(){this.findVertexOnEdgeSplits(this._verts1,this._edges2),this._sameEdgeLists||this.findVertexOnEdgeSplits(this._verts2,this._edges1)},u.prototype.splitEdgeAtParams=function(e,t){t.sort((function(e,t){return e.param-t.param}));for(var r=[],s=e,a=0;a<t.length;++a){var c=t[a].vertex,u=t[a].param,l=t[a].position,h=s.getStartVertex().getPosition();if(o.Vector3.squaredDistance(l,h)<i.KERNEL_TOLERANCE*i.KERNEL_TOLERANCE)this.addVertexMerge(c,s.getStartVertex());else{0===r.length&&(s=(0,n.replaceEdge)(s),r.push(s),this._edgeProgenitors.addEntry(s,[e]));var d=(0,n.splitEdge)(s,u,l);r.push(d),this._edgeProgenitors.addEntry(d,[e]);var p=d.getStartVertex();this.addVertexMerge(c,p),this._newVertices.add(p),s=d}}return r},u.prototype.edgesMatch=function(e,t){return(0,s.edgesAreCoincident)(e,t)},u.prototype.matchEdges=function(){for(var e=this,t=0;t<this._edges1.length;++t)for(var r=this._edges1[t],o=r.getStartVertex(),i=r.getEndVertex(),n=0;n<this._edges2.length;++n){var s=this._edges2[n],a=s.getStartVertex(),c=s.getEndVertex();if(!(this._sameEdgeLists&&n<=t)&&r!==s){var u,l=o===a||o===c;if(!l){var h=e._vertexMatchMap.get(o);h&&(l=h===e._vertexMatchMap.get(a)||h===e._vertexMatchMap.get(c))}if(l&&!(u=i===a||i===c)){var d=e._vertexMatchMap.get(i);d&&(u=d===e._vertexMatchMap.get(a)||d===e._vertexMatchMap.get(c))}l&&u&&this.edgesMatch(r,s)&&this.addEdgeMerge(r,s)}}},u.prototype.setEdges=function(e,t){e instanceof Set?this._edges1=Array.from(e):e instanceof Array&&(this._edges1=e),t&&t!==e?t instanceof Set?this._edges2=Array.from(t):t instanceof Array&&(this._edges2=t):this._edges2=this._edges1,this._sameEdgeLists=this._edges1===this._edges2,c.ConsoleUtils.assert(this._edges1&&this._edges2)},u.prototype.compute=function(){this.matchVertices(),this.doEdgeSplits(),this.matchEdges()},u.prototype.getVertexMatches=function(){var e=new Set;return this._vertexMatchMap.forEach((function(t,r){e.add(t)})),Array.from(e)},u.prototype.getEdgeMatches=function(){var e=new Set;return this._edgeMatchMap.forEach((function(t,r){e.add(t)})),Array.from(e)},u.prototype.getNewVertices=function(){return this._newVertices},u.prototype.getEdgeProgenitors=function(){return this._edgeProgenitors},t.MatchFinder=u},7808:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.replaceEdge=t.splitEdge=void 0;var o=r(6940),i=r(7580),n=r(672),s=r(3565),a=function(e,t){var r=new n.Coedge;r.setEdge(t),e.getEdge().getCoedge()===e&&t.setCoedge(r),r.setReversed(e.isReversed()),r.setLoop(e.getLoop());var o=e.getLoop().getCoedges(),i=o.indexOf(e);return r.isReversed()?o.splice(i,0,r):o.splice((i+1)%o.length,0,r),r};t.splitEdge=function(e,t,r){var n=new o.Vertex(new s.Point(r)),c=[e.getRange()[0],e.getRange()[1]],u=e.getEndVertex();e.setRange([c[0],t]),e.setEndVertex(n);var l=new i.Edge;l.setCurve(e.getCurve()),l.setReversed(e.isReversed()),l.setRange([t,c[1]]),l.setStartVertex(n),l.setEndVertex(u),l.setPrecision(e.getPrecision()),l.setWire(e.getWire());for(var h=[],d=e.getCoedge();d;)h.push(a(d,l)),(d=d.getPartner())===e.getCoedge()&&(d=void 0);for(var p=0;p<h.length;++p){var g=(p+1)%h.length;h[p].setPartner(h[g])}if(l.getWire()){var f=l.getWire().getEdges().slice(),v=f.indexOf(e);f.splice(v+1,0,l),l.getWire().setEdges(f)}return l},t.replaceEdge=function(e){var t=new i.Edge;t.setCurve(e.getCurve()),t.setReversed(e.isReversed()),t.setRange([e.getRange()[0],e.getRange()[1]]),t.setStartVertex(e.getStartVertex()),t.setEndVertex(e.getEndVertex()),t.setPrecision(e.getPrecision()),t.setCoedge(e.getCoedge()),t.setWire(e.getWire()),e.setStartVertex(null),e.setEndVertex(null),e.setCoedge(void 0),e.setWire(void 0);for(var r=t.getCoedge();r;)r.setEdge(t),(r=r.getPartner())===t.getCoedge()&&(r=void 0);if(t.getWire()){var o=t.getWire().getEdges().slice(),n=o.indexOf(e);o[n]=t,t.getWire().setEdges(o)}return t}},1008:(e,t,r)=>{\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.TopologyStitcher=void 0;var o=r(1972),i=r(7392),n=r(2208),s=r(4728),a=function(){this._shellSet=new Set,this._lumpSet=new Set,this._bodySet=new Set,this._wireSet=new Set,this._progenitorMap=new n.ProgenitorMap};a.prototype.initMerge=function(){this._shellSet.clear(),this._lumpSet.clear(),this._bodySet.clear(),this._wireSet.clear()},a.prototype.getEdgeOwnerToMerge=function(e){var t=e.getWire();if(t)this._wireSet.add(t);else{var r=function(e){var t=e.getCoedge();if(t){var r=t.getFace();if(r)return r.getShell()}}(e);r&&this._shellSet.add(r)}},a.prototype.getVertexOwnerToMerge=function(e){var t=e.getEdges();t.length>0&&this.getEdgeOwnerToMerge(t[0])},a.prototype.stitchVertices=function(e,t){var r;this.initMerge();var o=void 0;for(r=0;r<e.length;++r)if(!t||!t.has(e[r])){o=e[r];break}s.ConsoleUtils.assert(o);var i=[];for(r=0;r<e.length;++r)if(this.getVertexOwnerToMerge(e[r]),e[r]!==o){for(var n=e[r],a=n.getEdges().slice(0),c=0;c<a.length;++c){var u=a[c];u.getStartVertex()===n&&u.setStartVertex(o),u.getEndVertex()===n&&u.setEndVertex(o)}s.ConsoleUtils.assert(0===n.getEdges().length),t&&t.has(n)||i.push(n)}i.length>0&&this._progenitorMap.addEntry(o,i),this.mergeTopology()},a.prototype.stitchEdges=function(e,t){var r,i=e[0];for(r=0;r<e.length;++r)if(!t||!t.has(e[r])){i=e[r];break}var n=[],s=[];for(r=0;r<e.length;++r){var a=e[r],c=!1;if(a.getStartVertex()!==i.getStartVertex()&&a.getStartVertex()===i.getEndVertex()){var u=a.evaluateDt(a.t0()),l=i.evaluateDt(i.t1());o.Vector3.dot(u,l)<0&&(c=!0)}for(var h=a.getCoedge();h;)n.push(h),c&&h.setReversed(!h.isReversed()),(h=h.getPartner())===a.getCoedge()&&(h=void 0);a!==i&&(a.setStartVertex(null),a.setEndVertex(null),s.push(a))}for(this.initMerge(),r=0;r<n.length;++r){var d=n[r];this.getEdgeOwnerToMerge(d.getEdge()),d.setEdge(i);var p=(r+1)%n.length;d.setPartner(n[p])}this.mergeTopology(),this._progenitorMap.addEntry(i,s)},a.prototype.mergeTopology=function(){if(this._shellSet.size>1&&this.mergeShells(),this._wireSet.size>1)throw new Error(\"Merging wires in TopologyStitcher is not yet supported.\")},a.prototype.mergeShells=function(){var e=new n.ProgenitorMap;if(this._shellSet.size>1){var t=Array.from(this._shellSet),r=t[0],o=r.getLump();o&&this._lumpSet.add(o);for(var i=1;i<t.length;++i){var s=t[i];r.addFaces(s.getFaces()),s.setFaces([]),(o=s.getLump())&&(o.removeShell(s),this._lumpSet.add(o))}e.addEntry(r,t.slice(1))}if(this._lumpSet.size>1){var a=Array.from(this._lumpSet),c=a[0],u=c.getBody();for(u&&this._bodySet.add(u),i=1;i<a.length;++i){var l=a[i];c.addShells(l.getShells()),l.setShells([]),(u=l.getBody())&&(u.removeLump(l),this._bodySet.add(u))}e.addEntry(c,a.slice(1))}if(this._bodySet.size>1){var h=Array.from(this._bodySet),d=h[0];for(i=1;i<h.length;++i){for(var p=h[i],g=p.getLumps().slice(0),f=0;f<g.length;++f)g[f].getShells().length>0&&d.addLump(g[f]);p.setLumps([])}e.addEntry(d,h.slice(1))}e.size()>0&&(this._progenitorMap=e.collapseMaps(this._progenitorMap,{keepIntermediates:!0,keepAllDescendants:!0}))},a.prototype.getProgenitorMap=function(){return this._progenitorMap},a.prototype.stitchTwoEdgeSets=function(e,t){var r=new i.MatchFinder;r.setEdges(e,t),r.compute();for(var o=r.getVertexMatches(),n=r.getEdgeMatches(),s=r.getNewVertices(),a=new Set(r.getEdgeProgenitors().getAllNewTopology()),c=0;c<o.length;++c)this.stitchVertices(o[c],s);for(c=0;c<n.length;++c)this.stitchEdges(n[c],a);this._progenitorMap=this._progenitorMap.collapseMaps(r.getEdgeProgenitors(),{keepIntermediates:!1,keepAllDescendants:!0})},a.prototype.stitchTwoTopology=function(e,t){s.ConsoleUtils.assert(\"function\"==typeof e.collectEdges),s.ConsoleUtils.assert(\"function\"==typeof t.collectEdges);var r=e.collectEdges(),o=t.collectEdges();this.stitchTwoEdgeSets(r,o)},a.prototype.stitchEdgeSet=function(e){this.stitchTwoEdgeSets(e,e)},t.TopologyStitcher=a},4883:(e,t,r)=>{\"use strict\";e.exports=r(4392)},3056:(e,t,r)=>{\"use strict\";var o=t,i=r(1376),n=r(32);function s(e,t,r,o){var n=!1;if(t.resolvedType)if(t.resolvedType instanceof i){e(\"switch(d%s){\",o);for(var s=t.resolvedType.values,a=Object.keys(s),c=0;c<a.length;++c)s[a[c]]!==t.typeDefault||n||(e(\"default:\")('if(typeof(d%s)===\"number\"){m%s=d%s;break}',o,o,o),t.repeated||e(\"break\"),n=!0),e(\"case%j:\",a[c])(\"case %i:\",s[a[c]])(\"m%s=%j\",o,s[a[c]])(\"break\");e(\"}\")}else e('if(typeof d%s!==\"object\")',o)(\"throw TypeError(%j)\",t.fullName+\": object expected\")(\"m%s=types[%i].fromObject(d%s)\",o,r,o);else{var u=!1;switch(t.type){case\"double\":case\"float\":e(\"m%s=Number(d%s)\",o,o);break;case\"uint32\":case\"fixed32\":e(\"m%s=d%s>>>0\",o,o);break;case\"int32\":case\"sint32\":case\"sfixed32\":e(\"m%s=d%s|0\",o,o);break;case\"uint64\":u=!0;case\"int64\":case\"sint64\":case\"fixed64\":case\"sfixed64\":e(\"if(util.Long)\")(\"(m%s=util.Long.fromValue(d%s)).unsigned=%j\",o,o,u)('else if(typeof d%s===\"string\")',o)(\"m%s=parseInt(d%s,10)\",o,o)('else if(typeof d%s===\"number\")',o)(\"m%s=d%s\",o,o)('else if(typeof d%s===\"object\")',o)(\"m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)\",o,o,o,u?\"true\":\"\");break;case\"bytes\":e('if(typeof d%s===\"string\")',o)(\"util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)\",o,o,o)(\"else if(d%s.length >= 0)\",o)(\"m%s=d%s\",o,o);break;case\"string\":e(\"m%s=String(d%s)\",o,o);break;case\"bool\":e(\"m%s=Boolean(d%s)\",o,o)}}return e}function a(e,t,r,o){if(t.resolvedType)t.resolvedType instanceof i?e(\"d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s\",o,r,o,o,r,o,o):e(\"d%s=types[%i].toObject(m%s,o)\",o,r,o);else{var n=!1;switch(t.type){case\"double\":case\"float\":e(\"d%s=o.json&&!isFinite(m%s)?String(m%s):m%s\",o,o,o,o);break;case\"uint64\":n=!0;case\"int64\":case\"sint64\":case\"fixed64\":case\"sfixed64\":e('if(typeof m%s===\"number\")',o)(\"d%s=o.longs===String?String(m%s):m%s\",o,o,o)(\"else\")(\"d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s\",o,o,o,o,n?\"true\":\"\",o);break;case\"bytes\":e(\"d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s\",o,o,o,o,o);break;default:e(\"d%s=m%s\",o,o)}}return e}o.fromObject=function(e){var t=e.fieldsArray,r=n.codegen([\"d\"],e.name+\"$fromObject\")(\"if(d instanceof this.ctor)\")(\"return d\");if(!t.length)return r(\"return new this.ctor\");r(\"var m=new this.ctor\");for(var o=0;o<t.length;++o){var a=t[o].resolve(),c=n.safeProp(a.name);a.map?(r(\"if(d%s){\",c)('if(typeof d%s!==\"object\")',c)(\"throw TypeError(%j)\",a.fullName+\": object expected\")(\"m%s={}\",c)(\"for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){\",c),s(r,a,o,c+\"[ks[i]]\")(\"}\")(\"}\")):a.repeated?(r(\"if(d%s){\",c)(\"if(!Array.isArray(d%s))\",c)(\"throw TypeError(%j)\",a.fullName+\": array expected\")(\"m%s=[]\",c)(\"for(var i=0;i<d%s.length;++i){\",c),s(r,a,o,c+\"[i]\")(\"}\")(\"}\")):(a.resolvedType instanceof i||r(\"if(d%s!=null){\",c),s(r,a,o,c),a.resolvedType instanceof i||r(\"}\"))}return r(\"return m\")},o.toObject=function(e){var t=e.fieldsArray.slice().sort(n.compareFieldsById);if(!t.length)return n.codegen()(\"return {}\");for(var r=n.codegen([\"m\",\"o\"],e.name+\"$toObject\")(\"if(!o)\")(\"o={}\")(\"var d={}\"),o=[],s=[],c=[],u=0;u<t.length;++u)t[u].partOf||(t[u].resolve().repeated?o:t[u].map?s:c).push(t[u]);if(o.length){for(r(\"if(o.arrays||o.defaults){\"),u=0;u<o.length;++u)r(\"d%s=[]\",n.safeProp(o[u].name));r(\"}\")}if(s.length){for(r(\"if(o.objects||o.defaults){\"),u=0;u<s.length;++u)r(\"d%s={}\",n.safeProp(s[u].name));r(\"}\")}if(c.length){for(r(\"if(o.defaults){\"),u=0;u<c.length;++u){var l=c[u],h=n.safeProp(l.name);if(l.resolvedType instanceof i)r(\"d%s=o.enums===String?%j:%j\",h,l.resolvedType.valuesById[l.typeDefault],l.typeDefault);else if(l.long)r(\"if(util.Long){\")(\"var n=new util.Long(%i,%i,%j)\",l.typeDefault.low,l.typeDefault.high,l.typeDefault.unsigned)(\"d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n\",h)(\"}else\")(\"d%s=o.longs===String?%j:%i\",h,l.typeDefault.toString(),l.typeDefault.toNumber());else if(l.bytes){var d=\"[\"+Array.prototype.slice.call(l.typeDefault).join(\",\")+\"]\";r(\"if(o.bytes===String)d%s=%j\",h,String.fromCharCode.apply(String,l.typeDefault))(\"else{\")(\"d%s=%s\",h,d)(\"if(o.bytes!==Array)d%s=util.newBuffer(d%s)\",h,h)(\"}\")}else r(\"d%s=%j\",h,l.typeDefault)}r(\"}\")}var p=!1;for(u=0;u<t.length;++u){l=t[u];var g=e._fieldsArray.indexOf(l);h=n.safeProp(l.name);l.map?(p||(p=!0,r(\"var ks2\")),r(\"if(m%s&&(ks2=Object.keys(m%s)).length){\",h,h)(\"d%s={}\",h)(\"for(var j=0;j<ks2.length;++j){\"),a(r,l,g,h+\"[ks2[j]]\")(\"}\")):l.repeated?(r(\"if(m%s&&m%s.length){\",h,h)(\"d%s=[]\",h)(\"for(var j=0;j<m%s.length;++j){\",h),a(r,l,g,h+\"[j]\")(\"}\")):(r(\"if(m%s!=null&&m.hasOwnProperty(%j)){\",h,l.name),a(r,l,g,h),l.partOf&&r(\"if(o.oneofs)\")(\"d%s=%j\",n.safeProp(l.partOf.name),l.name)),r(\"}\")}return r(\"return d\")}},9708:(e,t,r)=>{\"use strict\";e.exports=function(e){var t=n.codegen([\"r\",\"l\"],e.name+\"$decode\")(\"if(!(r instanceof Reader))\")(\"r=Reader.create(r)\")(\"var c=l===undefined?r.len:r.pos+l,m=new this.ctor\"+(e.fieldsArray.filter((function(e){return e.map})).length?\",k,value\":\"\"))(\"while(r.pos<c){\")(\"var t=r.uint32()\");e.group&&t(\"if((t&7)===4)\")(\"break\");t(\"switch(t>>>3){\");for(var r=0;r<e.fieldsArray.length;++r){var a=e._fieldsArray[r].resolve(),c=a.resolvedType instanceof o?\"int32\":a.type,u=\"m\"+n.safeProp(a.name);t(\"case %i: {\",a.id),a.map?(t(\"if(%s===util.emptyObject)\",u)(\"%s={}\",u)(\"var c2 = r.uint32()+r.pos\"),void 0!==i.defaults[a.keyType]?t(\"k=%j\",i.defaults[a.keyType]):t(\"k=null\"),void 0!==i.defaults[c]?t(\"value=%j\",i.defaults[c]):t(\"value=null\"),t(\"while(r.pos<c2){\")(\"var tag2=r.uint32()\")(\"switch(tag2>>>3){\")(\"case 1: k=r.%s(); break\",a.keyType)(\"case 2:\"),void 0===i.basic[c]?t(\"value=types[%i].decode(r,r.uint32())\",r):t(\"value=r.%s()\",c),t(\"break\")(\"default:\")(\"r.skipType(tag2&7)\")(\"break\")(\"}\")(\"}\"),void 0!==i.long[a.keyType]?t('%s[typeof k===\"object\"?util.longToHash(k):k]=value',u):t(\"%s[k]=value\",u)):a.repeated?(t(\"if(!(%s&&%s.length))\",u,u)(\"%s=[]\",u),void 0!==i.packed[c]&&t(\"if((t&7)===2){\")(\"var c2=r.uint32()+r.pos\")(\"while(r.pos<c2)\")(\"%s.push(r.%s())\",u,c)(\"}else\"),void 0===i.basic[c]?t(a.resolvedType.group?\"%s.push(types[%i].decode(r))\":\"%s.push(types[%i].decode(r,r.uint32()))\",u,r):t(\"%s.push(r.%s())\",u,c)):void 0===i.basic[c]?t(a.resolvedType.group?\"%s=types[%i].decode(r)\":\"%s=types[%i].decode(r,r.uint32())\",u,r):t(\"%s=r.%s()\",u,c),t(\"break\")(\"}\")}for(t(\"default:\")(\"r.skipType(t&7)\")(\"break\")(\"}\")(\"}\"),r=0;r<e._fieldsArray.length;++r){var l=e._fieldsArray[r];l.required&&t(\"if(!m.hasOwnProperty(%j))\",l.name)(\"throw util.ProtocolError(%j,{instance:m})\",s(l))}return t(\"return m\")};var o=r(1376),i=r(1908),n=r(32);function s(e){return\"missing required '\"+e.name+\"'\"}},4752:(e,t,r)=>{\"use strict\";e.exports=function(e){for(var t,r=n.codegen([\"m\",\"w\"],e.name+\"$encode\")(\"if(!w)\")(\"w=Writer.create()\"),a=e.fieldsArray.slice().sort(n.compareFieldsById),c=0;c<a.length;++c){var u=a[c].resolve(),l=e._fieldsArray.indexOf(u),h=u.resolvedType instanceof o?\"int32\":u.type,d=i.basic[h];t=\"m\"+n.safeProp(u.name),u.map?(r(\"if(%s!=null&&Object.hasOwnProperty.call(m,%j)){\",t,u.name)(\"for(var ks=Object.keys(%s),i=0;i<ks.length;++i){\",t)(\"w.uint32(%i).fork().uint32(%i).%s(ks[i])\",(u.id<<3|2)>>>0,8|i.mapKey[u.keyType],u.keyType),void 0===d?r(\"types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()\",l,t):r(\".uint32(%i).%s(%s[ks[i]]).ldelim()\",16|d,h,t),r(\"}\")(\"}\")):u.repeated?(r(\"if(%s!=null&&%s.length){\",t,t),u.packed&&void 0!==i.packed[h]?r(\"w.uint32(%i).fork()\",(u.id<<3|2)>>>0)(\"for(var i=0;i<%s.length;++i)\",t)(\"w.%s(%s[i])\",h,t)(\"w.ldelim()\"):(r(\"for(var i=0;i<%s.length;++i)\",t),void 0===d?s(r,u,l,t+\"[i]\"):r(\"w.uint32(%i).%s(%s[i])\",(u.id<<3|d)>>>0,h,t)),r(\"}\")):(u.optional&&r(\"if(%s!=null&&Object.hasOwnProperty.call(m,%j))\",t,u.name),void 0===d?s(r,u,l,t):r(\"w.uint32(%i).%s(%s)\",(u.id<<3|d)>>>0,h,t))}return r(\"return w\")};var o=r(1376),i=r(1908),n=r(32);function s(e,t,r,o){return t.resolvedType.group?e(\"types[%i].encode(%s,w.uint32(%i)).uint32(%i)\",r,o,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e(\"types[%i].encode(%s,w.uint32(%i).fork()).ldelim()\",r,o,(t.id<<3|2)>>>0)}},1376:(e,t,r)=>{\"use strict\";e.exports=s;var o=r(5392);((s.prototype=Object.create(o.prototype)).constructor=s).className=\"Enum\";var i=r(2088),n=r(32);function s(e,t,r,i,n,s){if(o.call(this,e,r),t&&\"object\"!=typeof t)throw TypeError(\"values must be an object\");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=n||{},this.valuesOptions=s,this.reserved=void 0,t)for(var a=Object.keys(t),c=0;c<a.length;++c)\"number\"==typeof t[a[c]]&&(this.valuesById[this.values[a[c]]=t[a[c]]]=a[c])}s.fromJSON=function(e,t){var r=new s(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,r},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return n.toObject([\"options\",this.options,\"valuesOptions\",this.valuesOptions,\"values\",this.values,\"reserved\",this.reserved&&this.reserved.length?this.reserved:void 0,\"comment\",t?this.comment:void 0,\"comments\",t?this.comments:void 0])},s.prototype.add=function(e,t,r,o){if(!n.isString(e))throw TypeError(\"name must be a string\");if(!n.isInteger(t))throw TypeError(\"id must be an integer\");if(void 0!==this.values[e])throw Error(\"duplicate name '\"+e+\"' in \"+this);if(this.isReservedId(t))throw Error(\"id \"+t+\" is reserved in \"+this);if(this.isReservedName(e))throw Error(\"name '\"+e+\"' is reserved in \"+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error(\"duplicate id \"+t+\" in \"+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return o&&(void 0===this.valuesOptions&&(this.valuesOptions={}),this.valuesOptions[e]=o||null),this.comments[e]=r||null,this},s.prototype.remove=function(e){if(!n.isString(e))throw TypeError(\"name must be a string\");var t=this.values[e];if(null==t)throw Error(\"name '\"+e+\"' does not exist in \"+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this},s.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},s.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)}},8376:(e,t,r)=>{\"use strict\";e.exports=u;var o=r(5392);((u.prototype=Object.create(o.prototype)).constructor=u).className=\"Field\";var i,n=r(1376),s=r(1908),a=r(32),c=/^required|optional|repeated$/;function u(e,t,r,i,n,u,l){if(a.isObject(i)?(l=n,u=i,i=n=void 0):a.isObject(n)&&(l=u,u=n,n=void 0),o.call(this,e,u),!a.isInteger(t)||t<0)throw TypeError(\"id must be a non-negative integer\");if(!a.isString(r))throw TypeError(\"type must be a string\");if(void 0!==i&&!c.test(i=i.toString().toLowerCase()))throw TypeError(\"rule must be a string rule\");if(void 0!==n&&!a.isString(n))throw TypeError(\"extend must be a string\");\"proto3_optional\"===i&&(i=\"optional\"),this.rule=i&&\"optional\"!==i?i:void 0,this.type=r,this.id=t,this.extend=n||void 0,this.required=\"required\"===i,this.optional=!this.required,this.repeated=\"repeated\"===i,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&void 0!==s.long[r],this.bytes=\"bytes\"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=l}u.fromJSON=function(e,t){return new u(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(u.prototype,\"packed\",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption(\"packed\")),this._packed}}),u.prototype.setOption=function(e,t,r){return\"packed\"===e&&(this._packed=null),o.prototype.setOption.call(this,e,t,r)},u.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject([\"rule\",\"optional\"!==this.rule&&this.rule||void 0,\"type\",this.type,\"id\",this.id,\"extend\",this.extend,\"options\",this.options,\"comment\",t?this.comment:void 0])},u.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=s.defaults[this.type])?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof n&&\"string\"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof n)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=a.Long.fromNumber(this.typeDefault,\"u\"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&\"string\"==typeof this.typeDefault){var e;a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,e=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,e=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),o.prototype.resolve.call(this)},u.d=function(e,t,r,o){return\"function\"==typeof t?t=a.decorateType(t).name:t&&\"object\"==typeof t&&(t=a.decorateEnum(t).name),function(i,n){a.decorateType(i.constructor).add(new u(n,e,t,r,{default:o}))}},u._configure=function(e){i=e}},4392:(e,t,r)=>{\"use strict\";var o=e.exports=r(8040);o.build=\"light\",o.load=function(e,t,r){return\"function\"==typeof t?(r=t,t=new o.Root):t||(t=new o.Root),t.load(e,r)},o.loadSync=function(e,t){return t||(t=new o.Root),t.loadSync(e)},o.encoder=r(4752),o.decoder=r(9708),o.verifier=r(1688),o.converter=r(3056),o.ReflectionObject=r(5392),o.Namespace=r(2088),o.Root=r(968),o.Enum=r(1376),o.Type=r(9288),o.Field=r(8376),o.OneOf=r(8232),o.MapField=r(188),o.Service=r(8616),o.Method=r(4208),o.Message=r(8700),o.wrappers=r(1508),o.types=r(1908),o.util=r(32),o.ReflectionObject._configure(o.Root),o.Namespace._configure(o.Type,o.Service,o.Enum),o.Root._configure(o.Type),o.Field._configure(o.Type)},8040:(e,t,r)=>{\"use strict\";var o=t;function i(){o.util._configure(),o.Writer._configure(o.BufferWriter),o.Reader._configure(o.BufferReader)}o.build=\"minimal\",o.Writer=r(2664),o.BufferWriter=r(8135),o.Reader=r(4064),o.BufferReader=r(6388),o.util=r(9712),o.rpc=r(1164),o.roots=r(6696),o.configure=i,i()},188:(e,t,r)=>{\"use strict\";e.exports=s;var o=r(8376);((s.prototype=Object.create(o.prototype)).constructor=s).className=\"MapField\";var i=r(1908),n=r(32);function s(e,t,r,i,s,a){if(o.call(this,e,t,i,void 0,void 0,s,a),!n.isString(r))throw TypeError(\"keyType must be a string\");this.keyType=r,this.resolvedKeyType=null,this.map=!0}s.fromJSON=function(e,t){return new s(e,t.id,t.keyType,t.type,t.options,t.comment)},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return n.toObject([\"keyType\",this.keyType,\"type\",this.type,\"id\",this.id,\"extend\",this.extend,\"options\",this.options,\"comment\",t?this.comment:void 0])},s.prototype.resolve=function(){if(this.resolved)return this;if(void 0===i.mapKey[this.keyType])throw Error(\"invalid key type: \"+this.keyType);return o.prototype.resolve.call(this)},s.d=function(e,t,r){return\"function\"==typeof r?r=n.decorateType(r).name:r&&\"object\"==typeof r&&(r=n.decorateEnum(r).name),function(o,i){n.decorateType(o.constructor).add(new s(i,e,t,r))}}},8700:(e,t,r)=>{\"use strict\";e.exports=i;var o=r(9712);function i(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}i.create=function(e){return this.$type.create(e)},i.encode=function(e,t){return this.$type.encode(e,t)},i.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},i.decode=function(e){return this.$type.decode(e)},i.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},i.verify=function(e){return this.$type.verify(e)},i.fromObject=function(e){return this.$type.fromObject(e)},i.toObject=function(e,t){return this.$type.toObject(e,t)},i.prototype.toJSON=function(){return this.$type.toObject(this,o.toJSONOptions)}},4208:(e,t,r)=>{\"use strict\";e.exports=n;var o=r(5392);((n.prototype=Object.create(o.prototype)).constructor=n).className=\"Method\";var i=r(32);function n(e,t,r,n,s,a,c,u,l){if(i.isObject(s)?(c=s,s=a=void 0):i.isObject(a)&&(c=a,a=void 0),void 0!==t&&!i.isString(t))throw TypeError(\"type must be a string\");if(!i.isString(r))throw TypeError(\"requestType must be a string\");if(!i.isString(n))throw TypeError(\"responseType must be a string\");o.call(this,e,c),this.type=t||\"rpc\",this.requestType=r,this.requestStream=!!s||void 0,this.responseType=n,this.responseStream=!!a||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=u,this.parsedOptions=l}n.fromJSON=function(e,t){return new n(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},n.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject([\"type\",\"rpc\"!==this.type&&this.type||void 0,\"requestType\",this.requestType,\"requestStream\",this.requestStream,\"responseType\",this.responseType,\"responseStream\",this.responseStream,\"options\",this.options,\"comment\",t?this.comment:void 0,\"parsedOptions\",this.parsedOptions])},n.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),o.prototype.resolve.call(this))}},2088:(e,t,r)=>{\"use strict\";e.exports=h;var o=r(5392);((h.prototype=Object.create(o.prototype)).constructor=h).className=\"Namespace\";var i,n,s,a=r(8376),c=r(32),u=r(8232);function l(e,t){if(e&&e.length){for(var r={},o=0;o<e.length;++o)r[e[o].name]=e[o].toJSON(t);return r}}function h(e,t){o.call(this,e,t),this.nested=void 0,this._nestedArray=null}function d(e){return e._nestedArray=null,e}h.fromJSON=function(e,t){return new h(e,t.options).addJSON(t.nested)},h.arrayToJSON=l,h.isReservedId=function(e,t){if(e)for(var r=0;r<e.length;++r)if(\"string\"!=typeof e[r]&&e[r][0]<=t&&e[r][1]>t)return!0;return!1},h.isReservedName=function(e,t){if(e)for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1},Object.defineProperty(h.prototype,\"nestedArray\",{get:function(){return this._nestedArray||(this._nestedArray=c.toArray(this.nested))}}),h.prototype.toJSON=function(e){return c.toObject([\"options\",this.options,\"nested\",l(this.nestedArray,e)])},h.prototype.addJSON=function(e){if(e)for(var t,r=Object.keys(e),o=0;o<r.length;++o)t=e[r[o]],this.add((void 0!==t.fields?i.fromJSON:void 0!==t.values?s.fromJSON:void 0!==t.methods?n.fromJSON:void 0!==t.id?a.fromJSON:h.fromJSON)(r[o],t));return this},h.prototype.get=function(e){return this.nested&&this.nested[e]||null},h.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof s)return this.nested[e].values;throw Error(\"no such enum: \"+e)},h.prototype.add=function(e){if(!(e instanceof a&&void 0!==e.extend||e instanceof i||e instanceof u||e instanceof s||e instanceof n||e instanceof h))throw TypeError(\"object must be a valid nested object\");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof h&&e instanceof h)||t instanceof i||t instanceof n)throw Error(\"duplicate name '\"+e.name+\"' in \"+this);for(var r=t.nestedArray,o=0;o<r.length;++o)e.add(r[o]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),d(this)},h.prototype.remove=function(e){if(!(e instanceof o))throw TypeError(\"object must be a ReflectionObject\");if(e.parent!==this)throw Error(e+\" is not a member of \"+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),d(this)},h.prototype.define=function(e,t){if(c.isString(e))e=e.split(\".\");else if(!Array.isArray(e))throw TypeError(\"illegal path\");if(e&&e.length&&\"\"===e[0])throw Error(\"path must be relative\");for(var r=this;e.length>0;){var o=e.shift();if(r.nested&&r.nested[o]){if(!((r=r.nested[o])instanceof h))throw Error(\"path conflicts with non-namespace objects\")}else r.add(r=new h(o))}return t&&r.addJSON(t),r},h.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof h?e[t++].resolveAll():e[t++].resolve();return this.resolve()},h.prototype.lookup=function(e,t,r){if(\"boolean\"==typeof t?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),c.isString(e)&&e.length){if(\".\"===e)return this.root;e=e.split(\".\")}else if(!e.length)return this;if(\"\"===e[0])return this.root.lookup(e.slice(1),t);var o=this.get(e[0]);if(o){if(1===e.length){if(!t||t.indexOf(o.constructor)>-1)return o}else if(o instanceof h&&(o=o.lookup(e.slice(1),t,!0)))return o}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof h&&(o=this._nestedArray[i].lookup(e,t,!0)))return o;return null===this.parent||r?null:this.parent.lookup(e,t)},h.prototype.lookupType=function(e){var t=this.lookup(e,[i]);if(!t)throw Error(\"no such type: \"+e);return t},h.prototype.lookupEnum=function(e){var t=this.lookup(e,[s]);if(!t)throw Error(\"no such Enum '\"+e+\"' in \"+this);return t},h.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[i,s]);if(!t)throw Error(\"no such Type or Enum '\"+e+\"' in \"+this);return t},h.prototype.lookupService=function(e){var t=this.lookup(e,[n]);if(!t)throw Error(\"no such Service '\"+e+\"' in \"+this);return t},h._configure=function(e,t,r){i=e,n=t,s=r}},5392:(e,t,r)=>{\"use strict\";e.exports=n,n.className=\"ReflectionObject\";var o,i=r(32);function n(e,t){if(!i.isString(e))throw TypeError(\"name must be a string\");if(t&&!i.isObject(t))throw TypeError(\"options must be an object\");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(n.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(\".\")}}}),n.prototype.toJSON=function(){throw Error()},n.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof o&&t._handleAdd(this)},n.prototype.onRemove=function(e){var t=e.root;t instanceof o&&t._handleRemove(this),this.parent=null,this.resolved=!1},n.prototype.resolve=function(){return this.resolved||this.root instanceof o&&(this.resolved=!0),this},n.prototype.getOption=function(e){if(this.options)return this.options[e]},n.prototype.setOption=function(e,t,r){return r&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},n.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var o=this.parsedOptions;if(r){var n=o.find((function(t){return Object.prototype.hasOwnProperty.call(t,e)}));if(n){var s=n[e];i.setProperty(s,r,t)}else(n={})[e]=i.setProperty({},r,t),o.push(n)}else{var a={};a[e]=t,o.push(a)}return this},n.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),o=0;o<r.length;++o)this.setOption(r[o],e[r[o]],t);return this},n.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+\" \"+t:e},n._configure=function(e){o=e}},8232:(e,t,r)=>{\"use strict\";e.exports=s;var o=r(5392);((s.prototype=Object.create(o.prototype)).constructor=s).className=\"OneOf\";var i=r(8376),n=r(32);function s(e,t,r,i){if(Array.isArray(t)||(r=t,t=void 0),o.call(this,e,r),void 0!==t&&!Array.isArray(t))throw TypeError(\"fieldNames must be an Array\");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function a(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}s.fromJSON=function(e,t){return new s(e,t.oneof,t.options,t.comment)},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return n.toObject([\"options\",this.options,\"oneof\",this.oneof,\"comment\",t?this.comment:void 0])},s.prototype.add=function(e){if(!(e instanceof i))throw TypeError(\"field must be a Field\");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,a(this),this},s.prototype.remove=function(e){if(!(e instanceof i))throw TypeError(\"field must be a Field\");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+\" is not a member of \"+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},s.prototype.onAdd=function(e){o.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var r=e.get(this.oneof[t]);r&&!r.partOf&&(r.partOf=this,this.fieldsArray.push(r))}a(this)},s.prototype.onRemove=function(e){for(var t,r=0;r<this.fieldsArray.length;++r)(t=this.fieldsArray[r]).parent&&t.parent.remove(t);o.prototype.onRemove.call(this,e)},s.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,r){n.decorateType(t.constructor).add(new s(r,e)),Object.defineProperty(t,r,{get:n.oneOfGetter(e),set:n.oneOfSetter(e)})}}},4064:(e,t,r)=>{\"use strict\";e.exports=c;var o,i=r(9712),n=i.LongBits,s=i.utf8;function a(e,t){return RangeError(\"index out of range: \"+e.pos+\" + \"+(t||1)+\" > \"+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var u,l=\"undefined\"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error(\"illegal buffer\")}:function(e){if(Array.isArray(e))return new c(e);throw Error(\"illegal buffer\")},h=function(){return i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new o(e):l(e)})(e)}:l};function d(){var e=new n(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error(\"invalid varint encoding\")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function g(){if(this.pos+8>this.len)throw a(this,8);return new n(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}c.create=h(),c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return u;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return u}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return p(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|p(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var o=i.Buffer;return o?o.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)},c.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},c.prototype.skip=function(e){if(\"number\"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error(\"invalid wire type \"+e+\" at offset \"+this.pos)}return this},c._configure=function(e){o=e,c.create=h(),o._configure();var t=i.Long?\"toLong\":\"toNumber\";i.merge(c.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return g.call(this)[t](!0)},sfixed64:function(){return g.call(this)[t](!1)}})}},6388:(e,t,r)=>{\"use strict\";e.exports=n;var o=r(4064);(n.prototype=Object.create(o.prototype)).constructor=n;var i=r(9712);function n(e){o.call(this,e)}n._configure=function(){i.Buffer&&(n.prototype._slice=i.Buffer.prototype.slice)},n.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString(\"utf-8\",this.pos,this.pos=Math.min(this.pos+e,this.len))},n._configure()},968:(e,t,r)=>{\"use strict\";e.exports=h;var o=r(2088);((h.prototype=Object.create(o.prototype)).constructor=h).className=\"Root\";var i,n,s,a=r(8376),c=r(1376),u=r(8232),l=r(32);function h(e){o.call(this,\"\",e),this.deferred=[],this.files=[]}function d(){}h.fromJSON=function(e,t){return t||(t=new h),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},h.prototype.resolvePath=l.path.resolve,h.prototype.fetch=l.fetch,h.prototype.load=function e(t,r,o){\"function\"==typeof r&&(o=r,r=void 0);var i=this;if(!o)return l.asPromise(e,i,t,r);var a=o===d;function c(e,t){if(o){if(a)throw e;var r=o;o=null,r(e,t)}}function u(e){var t=e.lastIndexOf(\"google/protobuf/\");if(t>-1){var r=e.substring(t);if(r in s)return r}return null}function h(e,t){try{if(l.isString(t)&&\"{\"===t.charAt(0)&&(t=JSON.parse(t)),l.isString(t)){n.filename=e;var o,s=n(t,i,r),h=0;if(s.imports)for(;h<s.imports.length;++h)(o=u(s.imports[h])||i.resolvePath(e,s.imports[h]))&&p(o);if(s.weakImports)for(h=0;h<s.weakImports.length;++h)(o=u(s.weakImports[h])||i.resolvePath(e,s.weakImports[h]))&&p(o,!0)}else i.setOptions(t.options).addJSON(t.nested)}catch(e){c(e)}a||g||c(null,i)}function p(e,t){if(e=u(e)||e,!(i.files.indexOf(e)>-1))if(i.files.push(e),e in s)a?h(e,s[e]):(++g,setTimeout((function(){--g,h(e,s[e])})));else if(a){var r;try{r=l.fs.readFileSync(e).toString(\"utf8\")}catch(e){return void(t||c(e))}h(e,r)}else++g,i.fetch(e,(function(r,n){--g,o&&(r?t?g||c(null,i):c(r):h(e,n))}))}var g=0;l.isString(t)&&(t=[t]);for(var f,v=0;v<t.length;++v)(f=i.resolvePath(\"\",t[v]))&&p(f);if(a)return i;g||c(null,i)},h.prototype.loadSync=function(e,t){if(!l.isNode)throw Error(\"not supported\");return this.load(e,t,d)},h.prototype.resolveAll=function(){if(this.deferred.length)throw Error(\"unresolvable extensions: \"+this.deferred.map((function(e){return\"'extend \"+e.extend+\"' in \"+e.parent.fullName})).join(\", \"));return o.prototype.resolveAll.call(this)};var p=/^[A-Z]/;function g(e,t){var r=t.parent.lookup(t.extend);if(r){var o=new a(t.fullName,t.id,t.type,t.rule,void 0,t.options);return r.get(o.name)||(o.declaringField=t,t.extensionField=o,r.add(o)),!0}return!1}h.prototype._handleAdd=function(e){if(e instanceof a)void 0===e.extend||e.extensionField||g(0,e)||this.deferred.push(e);else if(e instanceof c)p.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof u)){if(e instanceof i)for(var t=0;t<this.deferred.length;)g(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);p.test(e.name)&&(e.parent[e.name]=e)}},h.prototype._handleRemove=function(e){if(e instanceof a){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof c)p.test(e.name)&&delete e.parent[e.name];else if(e instanceof o){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);p.test(e.name)&&delete e.parent[e.name]}},h._configure=function(e,t,r){i=e,n=t,s=r}},6696:e=>{\"use strict\";e.exports={}},1164:(e,t,r)=>{\"use strict\";t.Service=r(44)},44:(e,t,r)=>{\"use strict\";e.exports=i;var o=r(9712);function i(e,t,r){if(\"function\"!=typeof e)throw TypeError(\"rpcImpl must be a function\");o.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(i.prototype=Object.create(o.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,n,s){if(!n)throw TypeError(\"request must be specified\");var a=this;if(!s)return o.asPromise(e,a,t,r,i,n);if(a.rpcImpl)try{return a.rpcImpl(t,r[a.requestDelimited?\"encodeDelimited\":\"encode\"](n).finish(),(function(e,r){if(e)return a.emit(\"error\",e,t),s(e);if(null!==r){if(!(r instanceof i))try{r=i[a.responseDelimited?\"decodeDelimited\":\"decode\"](r)}catch(e){return a.emit(\"error\",e,t),s(e)}return a.emit(\"data\",r,t),s(null,r)}a.end(!0)}))}catch(e){return a.emit(\"error\",e,t),void setTimeout((function(){s(e)}),0)}else setTimeout((function(){s(Error(\"already ended\"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit(\"end\").off()),this}},8616:(e,t,r)=>{\"use strict\";e.exports=a;var o=r(2088);((a.prototype=Object.create(o.prototype)).constructor=a).className=\"Service\";var i=r(4208),n=r(32),s=r(1164);function a(e,t){o.call(this,e,t),this.methods={},this._methodsArray=null}function c(e){return e._methodsArray=null,e}a.fromJSON=function(e,t){var r=new a(e,t.options);if(t.methods)for(var o=Object.keys(t.methods),n=0;n<o.length;++n)r.add(i.fromJSON(o[n],t.methods[o[n]]));return t.nested&&r.addJSON(t.nested),r.comment=t.comment,r},a.prototype.toJSON=function(e){var t=o.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return n.toObject([\"options\",t&&t.options||void 0,\"methods\",o.arrayToJSON(this.methodsArray,e)||{},\"nested\",t&&t.nested||void 0,\"comment\",r?this.comment:void 0])},Object.defineProperty(a.prototype,\"methodsArray\",{get:function(){return this._methodsArray||(this._methodsArray=n.toArray(this.methods))}}),a.prototype.get=function(e){return this.methods[e]||o.prototype.get.call(this,e)},a.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return o.prototype.resolve.call(this)},a.prototype.add=function(e){if(this.get(e.name))throw Error(\"duplicate name '\"+e.name+\"' in \"+this);return e instanceof i?(this.methods[e.name]=e,e.parent=this,c(this)):o.prototype.add.call(this,e)},a.prototype.remove=function(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+\" is not a member of \"+this);return delete this.methods[e.name],e.parent=null,c(this)}return o.prototype.remove.call(this,e)},a.prototype.create=function(e,t,r){for(var o,i=new s.Service(e,t,r),a=0;a<this.methodsArray.length;++a){var c=n.lcFirst((o=this._methodsArray[a]).resolve().name).replace(/[^$\\w_]/g,\"\");i[c]=n.codegen([\"r\",\"c\"],n.isReserved(c)?c+\"_\":c)(\"return this.rpcCall(m,q,s,r,c)\")({m:o,q:o.resolvedRequestType.ctor,s:o.resolvedResponseType.ctor})}return i}},9288:(e,t,r)=>{\"use strict\";e.exports=y;var o=r(2088);((y.prototype=Object.create(o.prototype)).constructor=y).className=\"Type\";var i=r(1376),n=r(8232),s=r(8376),a=r(188),c=r(8616),u=r(8700),l=r(4064),h=r(2664),d=r(32),p=r(4752),g=r(9708),f=r(1688),v=r(3056),_=r(1508);function y(e,t){o.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function m(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(y.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],o=r.id;if(this._fieldsById[o])throw Error(\"duplicate id \"+o+\" in \"+this);this._fieldsById[o]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=d.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=d.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=y.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof u||((e.prototype=new u).constructor=e,d.merge(e.prototype,t)),e.$type=e.prototype.$type=this,d.merge(e,u,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var o={};for(r=0;r<this.oneofsArray.length;++r)o[this._oneofsArray[r].resolve().name]={get:d.oneOfGetter(this._oneofsArray[r].oneof),set:d.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,o)}}}),y.generateConstructor=function(e){for(var t,r=d.codegen([\"p\"],e.name),o=0;o<e.fieldsArray.length;++o)(t=e._fieldsArray[o]).map?r(\"this%s={}\",d.safeProp(t.name)):t.repeated&&r(\"this%s=[]\",d.safeProp(t.name));return r(\"if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)\")(\"this[ks[i]]=p[ks[i]]\")},y.fromJSON=function(e,t){var r=new y(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var u=Object.keys(t.fields),l=0;l<u.length;++l)r.add((void 0!==t.fields[u[l]].keyType?a.fromJSON:s.fromJSON)(u[l],t.fields[u[l]]));if(t.oneofs)for(u=Object.keys(t.oneofs),l=0;l<u.length;++l)r.add(n.fromJSON(u[l],t.oneofs[u[l]]));if(t.nested)for(u=Object.keys(t.nested),l=0;l<u.length;++l){var h=t.nested[u[l]];r.add((void 0!==h.id?s.fromJSON:void 0!==h.fields?y.fromJSON:void 0!==h.values?i.fromJSON:void 0!==h.methods?c.fromJSON:o.fromJSON)(u[l],h))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),r},y.prototype.toJSON=function(e){var t=o.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return d.toObject([\"options\",t&&t.options||void 0,\"oneofs\",o.arrayToJSON(this.oneofsArray,e),\"fields\",o.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},\"extensions\",this.extensions&&this.extensions.length?this.extensions:void 0,\"reserved\",this.reserved&&this.reserved.length?this.reserved:void 0,\"group\",this.group||void 0,\"nested\",t&&t.nested||void 0,\"comment\",r?this.comment:void 0])},y.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var r=this.oneofsArray;for(t=0;t<r.length;)r[t++].resolve();return o.prototype.resolveAll.call(this)},y.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},y.prototype.add=function(e){if(this.get(e.name))throw Error(\"duplicate name '\"+e.name+\"' in \"+this);if(e instanceof s&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error(\"duplicate id \"+e.id+\" in \"+this);if(this.isReservedId(e.id))throw Error(\"id \"+e.id+\" is reserved in \"+this);if(this.isReservedName(e.name))throw Error(\"name '\"+e.name+\"' is reserved in \"+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),m(this)}return e instanceof n?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),m(this)):o.prototype.add.call(this,e)},y.prototype.remove=function(e){if(e instanceof s&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+\" is not a member of \"+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),m(this)}if(e instanceof n){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+\" is not a member of \"+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),m(this)}return o.prototype.remove.call(this,e)},y.prototype.isReservedId=function(e){return o.isReservedId(this.reserved,e)},y.prototype.isReservedName=function(e){return o.isReservedName(this.reserved,e)},y.prototype.create=function(e){return new this.ctor(e)},y.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=p(this)({Writer:h,types:t,util:d}),this.decode=g(this)({Reader:l,types:t,util:d}),this.verify=f(this)({types:t,util:d}),this.fromObject=v.fromObject(this)({types:t,util:d}),this.toObject=v.toObject(this)({types:t,util:d});var o=_[e];if(o){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=o.fromObject.bind(i),i.toObject=this.toObject,this.toObject=o.toObject.bind(i)}return this},y.prototype.encode=function(e,t){return this.setup().encode(e,t)},y.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},y.prototype.decode=function(e,t){return this.setup().decode(e,t)},y.prototype.decodeDelimited=function(e){return e instanceof l||(e=l.create(e)),this.decode(e,e.uint32())},y.prototype.verify=function(e){return this.setup().verify(e)},y.prototype.fromObject=function(e){return this.setup().fromObject(e)},y.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},y.d=function(e){return function(t){d.decorateType(t,e)}}},1908:(e,t,r)=>{\"use strict\";var o=t,i=r(32),n=[\"double\",\"float\",\"int32\",\"uint32\",\"sint32\",\"fixed32\",\"sfixed32\",\"int64\",\"uint64\",\"sint64\",\"fixed64\",\"sfixed64\",\"bool\",\"string\",\"bytes\"];function s(e,t){var r=0,o={};for(t|=0;r<e.length;)o[n[r+t]]=e[r++];return o}o.basic=s([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),o.defaults=s([0,0,0,0,0,0,0,0,0,0,0,0,!1,\"\",i.emptyArray,null]),o.long=s([0,0,0,1,1],7),o.mapKey=s([0,0,0,5,5,0,0,0,1,1,0,2],2),o.packed=s([1,5,0,0,0,5,5,0,0,0,1,1,0])},32:(e,t,r)=>{\"use strict\";var o,i,n=e.exports=r(9712),s=r(6696);n.codegen=r(4824),n.fetch=r(1560),n.path=r(7256),n.fs=n.inquire(\"fs\"),n.toArray=function(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),o=0;o<t.length;)r[o]=e[t[o++]];return r}return[]},n.toObject=function(e){for(var t={},r=0;r<e.length;){var o=e[r++],i=e[r++];void 0!==i&&(t[o]=i)}return t};var a=/\\\\/g,c=/\"/g;n.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},n.safeProp=function(e){return!/^[$\\w_]+$/.test(e)||n.isReserved(e)?'[\"'+e.replace(a,\"\\\\\\\\\").replace(c,'\\\\\"')+'\"]':\".\"+e},n.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var u=/_([a-z])/g;n.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(u,(function(e,t){return t.toUpperCase()}))},n.compareFieldsById=function(e,t){return e.id-t.id},n.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(n.decorateRoot.remove(e.$type),e.$type.name=t,n.decorateRoot.add(e.$type)),e.$type;o||(o=r(9288));var i=new o(t||e.name);return n.decorateRoot.add(i),i.ctor=e,Object.defineProperty(e,\"$type\",{value:i,enumerable:!1}),Object.defineProperty(e.prototype,\"$type\",{value:i,enumerable:!1}),i};var l=0;n.decorateEnum=function(e){if(e.$type)return e.$type;i||(i=r(1376));var t=new i(\"Enum\"+l++,e);return n.decorateRoot.add(t),Object.defineProperty(e,\"$type\",{value:t,enumerable:!1}),t},n.setProperty=function(e,t,r){if(\"object\"!=typeof e)throw TypeError(\"dst must be an object\");if(!t)throw TypeError(\"path must be specified\");return function e(t,r,o){var i=r.shift();if(\"__proto__\"===i||\"prototype\"===i)return t;if(r.length>0)t[i]=e(t[i]||{},r,o);else{var n=t[i];n&&(o=[].concat(n).concat(o)),t[i]=o}return t}(e,t=t.split(\".\"),r)},Object.defineProperty(n,\"decorateRoot\",{get:function(){return s.decorated||(s.decorated=new(r(968)))}})},8864:(e,t,r)=>{\"use strict\";e.exports=i;var o=r(9712);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var n=i.zero=new i(0,0);n.toNumber=function(){return 0},n.zzEncode=n.zzDecode=function(){return this},n.length=function(){return 1};var s=i.zeroHash=\"\\0\\0\\0\\0\\0\\0\\0\\0\";i.fromNumber=function(e){if(0===e)return n;var t=e<0;t&&(e=-e);var r=e>>>0,o=(e-r)/4294967296>>>0;return t&&(o=~o>>>0,r=~r>>>0,++r>4294967295&&(r=0,++o>4294967295&&(o=0))),new i(r,o)},i.from=function(e){if(\"number\"==typeof e)return i.fromNumber(e);if(o.isString(e)){if(!o.Long)return i.fromNumber(parseInt(e,10));e=o.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):n},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return o.Long?new o.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;i.fromHash=function(e){return e===s?n:new i((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},9712:function(e,t,r){\"use strict\";var o=t;function i(e,t,r){for(var o=Object.keys(t),i=0;i<o.length;++i)void 0!==e[o[i]]&&r||(e[o[i]]=t[o[i]]);return e}function n(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,\"message\",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,\"stack\",{value:(new Error).stack||\"\"}),r&&i(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+\": \"+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}o.asPromise=r(5320),o.base64=r(752),o.EventEmitter=r(3947),o.float=r(3732),o.inquire=r(1528),o.utf8=r(1888),o.pool=r(6264),o.LongBits=r(8864),o.isNode=Boolean(void 0!==r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),o.global=o.isNode&&r.g||\"undefined\"!=typeof window&&window||\"undefined\"!=typeof self&&self||this,o.emptyArray=Object.freeze?Object.freeze([]):[],o.emptyObject=Object.freeze?Object.freeze({}):{},o.isInteger=Number.isInteger||function(e){return\"number\"==typeof e&&isFinite(e)&&Math.floor(e)===e},o.isString=function(e){return\"string\"==typeof e||e instanceof String},o.isObject=function(e){return e&&\"object\"==typeof e},o.isset=o.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&(\"object\"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},o.Buffer=function(){try{var e=o.inquire(\"buffer\").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),o._Buffer_from=null,o._Buffer_allocUnsafe=null,o.newBuffer=function(e){return\"number\"==typeof e?o.Buffer?o._Buffer_allocUnsafe(e):new o.Array(e):o.Buffer?o._Buffer_from(e):\"undefined\"==typeof Uint8Array?e:new Uint8Array(e)},o.Array=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,o.Long=o.global.dcodeIO&&o.global.dcodeIO.Long||o.global.Long||o.inquire(\"long\"),o.key2Re=/^true|false|0|1$/,o.key32Re=/^-?(?:0|[1-9][0-9]*)$/,o.key64Re=/^(?:[\\\\x00-\\\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,o.longToHash=function(e){return e?o.LongBits.from(e).toHash():o.LongBits.zeroHash},o.longFromHash=function(e,t){var r=o.LongBits.fromHash(e);return o.Long?o.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},o.merge=i,o.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},o.newError=n,o.ProtocolError=n(\"ProtocolError\"),o.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},o.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},o.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},o._configure=function(){var e=o.Buffer;e?(o._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},o._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):o._Buffer_from=o._Buffer_allocUnsafe=null}},1688:(e,t,r)=>{\"use strict\";e.exports=function(e){var t=i.codegen([\"m\"],e.name+\"$verify\")('if(typeof m!==\"object\"||m===null)')(\"return%j\",\"object expected\"),r=e.oneofsArray,o={};r.length&&t(\"var p={}\");for(var c=0;c<e.fieldsArray.length;++c){var u=e._fieldsArray[c].resolve(),l=\"m\"+i.safeProp(u.name);if(u.optional&&t(\"if(%s!=null&&m.hasOwnProperty(%j)){\",l,u.name),u.map)t(\"if(!util.isObject(%s))\",l)(\"return%j\",n(u,\"object\"))(\"var k=Object.keys(%s)\",l)(\"for(var i=0;i<k.length;++i){\"),a(t,u,\"k[i]\"),s(t,u,c,l+\"[k[i]]\")(\"}\");else if(u.repeated)t(\"if(!Array.isArray(%s))\",l)(\"return%j\",n(u,\"array\"))(\"for(var i=0;i<%s.length;++i){\",l),s(t,u,c,l+\"[i]\")(\"}\");else{if(u.partOf){var h=i.safeProp(u.partOf.name);1===o[u.partOf.name]&&t(\"if(p%s===1)\",h)(\"return%j\",u.partOf.name+\": multiple values\"),o[u.partOf.name]=1,t(\"p%s=1\",h)}s(t,u,c,l)}u.optional&&t(\"}\")}return t(\"return null\")};var o=r(1376),i=r(32);function n(e,t){return e.name+\": \"+t+(e.repeated&&\"array\"!==t?\"[]\":e.map&&\"object\"!==t?\"{k:\"+e.keyType+\"}\":\"\")+\" expected\"}function s(e,t,r,i){if(t.resolvedType)if(t.resolvedType instanceof o){e(\"switch(%s){\",i)(\"default:\")(\"return%j\",n(t,\"enum value\"));for(var s=Object.keys(t.resolvedType.values),a=0;a<s.length;++a)e(\"case %i:\",t.resolvedType.values[s[a]]);e(\"break\")(\"}\")}else e(\"{\")(\"var e=types[%i].verify(%s);\",r,i)(\"if(e)\")(\"return%j+e\",t.name+\".\")(\"}\");else switch(t.type){case\"int32\":case\"uint32\":case\"sint32\":case\"fixed32\":case\"sfixed32\":e(\"if(!util.isInteger(%s))\",i)(\"return%j\",n(t,\"integer\"));break;case\"int64\":case\"uint64\":case\"sint64\":case\"fixed64\":case\"sfixed64\":e(\"if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))\",i,i,i,i)(\"return%j\",n(t,\"integer|Long\"));break;case\"float\":case\"double\":e('if(typeof %s!==\"number\")',i)(\"return%j\",n(t,\"number\"));break;case\"bool\":e('if(typeof %s!==\"boolean\")',i)(\"return%j\",n(t,\"boolean\"));break;case\"string\":e(\"if(!util.isString(%s))\",i)(\"return%j\",n(t,\"string\"));break;case\"bytes\":e('if(!(%s&&typeof %s.length===\"number\"||util.isString(%s)))',i,i,i)(\"return%j\",n(t,\"buffer\"))}return e}function a(e,t,r){switch(t.keyType){case\"int32\":case\"uint32\":case\"sint32\":case\"fixed32\":case\"sfixed32\":e(\"if(!util.key32Re.test(%s))\",r)(\"return%j\",n(t,\"integer key\"));break;case\"int64\":case\"uint64\":case\"sint64\":case\"fixed64\":case\"sfixed64\":e(\"if(!util.key64Re.test(%s))\",r)(\"return%j\",n(t,\"integer|Long key\"));break;case\"bool\":e(\"if(!util.key2Re.test(%s))\",r)(\"return%j\",n(t,\"boolean key\"))}return e}},1508:(e,t,r)=>{\"use strict\";var o=t,i=r(8700);o[\".google.protobuf.Any\"]={fromObject:function(e){if(e&&e[\"@type\"]){var t=e[\"@type\"].substring(e[\"@type\"].lastIndexOf(\"/\")+1),r=this.lookup(t);if(r){var o=\".\"===e[\"@type\"].charAt(0)?e[\"@type\"].slice(1):e[\"@type\"];return-1===o.indexOf(\"/\")&&(o=\"/\"+o),this.create({type_url:o,value:r.encode(r.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var r=\"\",o=\"\";if(t&&t.json&&e.type_url&&e.value){o=e.type_url.substring(e.type_url.lastIndexOf(\"/\")+1),r=e.type_url.substring(0,e.type_url.lastIndexOf(\"/\")+1);var n=this.lookup(o);n&&(e=n.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof i){var s=e.$type.toObject(e,t);return\"\"===r&&(r=\"type.googleapis.com/\"),o=r+(\".\"===e.$type.fullName[0]?e.$type.fullName.slice(1):e.$type.fullName),s[\"@type\"]=o,s}return this.toObject(e,t)}}},2664:(e,t,r)=>{\"use strict\";e.exports=h;var o,i=r(9712),n=i.LongBits,s=i.base64,a=i.utf8;function c(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function u(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function h(){this.len=0,this.head=new c(u,0,0),this.tail=this.head,this.states=null}var d=function(){return i.Buffer?function(){return(h.create=function(){return new o})()}:function(){return new h}};function p(e,t,r){t[r]=255&e}function g(e,t){this.len=e,this.next=void 0,this.val=t}function f(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function v(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}h.create=d(),h.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(h.alloc=i.pool(h.alloc,i.Array.prototype.subarray)),h.prototype._push=function(e,t,r){return this.tail=this.tail.next=new c(e,t,r),this.len+=t,this},g.prototype=Object.create(c.prototype),g.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},h.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new g((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},h.prototype.int32=function(e){return e<0?this._push(f,10,n.fromNumber(e)):this.uint32(e)},h.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},h.prototype.uint64=function(e){var t=n.from(e);return this._push(f,t.length(),t)},h.prototype.int64=h.prototype.uint64,h.prototype.sint64=function(e){var t=n.from(e).zzEncode();return this._push(f,t.length(),t)},h.prototype.bool=function(e){return this._push(p,1,e?1:0)},h.prototype.fixed32=function(e){return this._push(v,4,e>>>0)},h.prototype.sfixed32=h.prototype.fixed32,h.prototype.fixed64=function(e){var t=n.from(e);return this._push(v,4,t.lo)._push(v,4,t.hi)},h.prototype.sfixed64=h.prototype.fixed64,h.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},h.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var _=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var o=0;o<e.length;++o)t[r+o]=e[o]};h.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(i.isString(e)){var r=h.alloc(t=s.length(e));s.decode(e,r,0),e=r}return this.uint32(t)._push(_,t,e)},h.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(p,1,0)},h.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new c(u,0,0),this.len=0,this},h.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(u,0,0),this.len=0),this},h.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},h.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},h._configure=function(e){o=e,h.create=d(),o._configure()}},8135:(e,t,r)=>{\"use strict\";e.exports=n;var o=r(2664);(n.prototype=Object.create(o.prototype)).constructor=n;var i=r(9712);function n(){o.call(this)}function s(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}n._configure=function(){n.alloc=i._Buffer_allocUnsafe,n.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&\"set\"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var o=0;o<e.length;)t[r++]=e[o++]}},n.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,\"base64\"));var t=e.length>>>0;return this.uint32(t),t&&this._push(n.writeBytesBuffer,t,e),this},n.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},n._configure()},2856:(e,t,r)=>{\"use strict\";r.r(t),r.d(t,{VERSION:()=>i,after:()=>Nt,all:()=>er,allKeys:()=>ve,any:()=>tr,assign:()=>Ne,before:()=>Ft,bind:()=>Rt,bindAll:()=>Vt,chain:()=>yt,chunk:()=>Dr,clone:()=>je,collect:()=>Ht,compact:()=>Tr,compose:()=>wt,constant:()=>Z,contains:()=>rr,countBy:()=>vr,create:()=>De,debounce:()=>Lt,default:()=>Gr,defaults:()=>Fe,defer:()=>Ct,delay:()=>bt,detect:()=>Kt,difference:()=>Cr,drop:()=>Pr,each:()=>Wt,escape:()=>st,every:()=>er,extend:()=>we,extendOwn:()=>Ne,filter:()=>Zt,find:()=>Kt,findIndex:()=>Bt,findKey:()=>Dt,findLastIndex:()=>Ut,findWhere:()=>qt,first:()=>Ar,flatten:()=>br,foldl:()=>Jt,foldr:()=>$t,forEach:()=>Wt,functions:()=>Se,get:()=>ze,groupBy:()=>gr,has:()=>Ye,head:()=>Ar,identity:()=>Ke,include:()=>rr,includes:()=>rr,indexBy:()=>fr,indexOf:()=>zt,initial:()=>Rr,inject:()=>Jt,intersection:()=>Mr,invert:()=>Le,invoke:()=>or,isArguments:()=>X,isArray:()=>q,isArrayBuffer:()=>D,isBoolean:()=>C,isDataView:()=>K,isDate:()=>w,isElement:()=>O,isEmpty:()=>ce,isEqual:()=>fe,isError:()=>F,isFinite:()=>J,isFunction:()=>U,isMap:()=>Pe,isMatch:()=>ue,isNaN:()=>$,isNull:()=>T,isNumber:()=>M,isObject:()=>V,isRegExp:()=>N,isSet:()=>Te,isString:()=>S,isSymbol:()=>I,isTypedArray:()=>ie,isUndefined:()=>b,isWeakMap:()=>Ve,isWeakSet:()=>be,iteratee:()=>Je,keys:()=>ae,last:()=>Vr,lastIndexOf:()=>Yt,map:()=>Ht,mapObject:()=>Ze,matcher:()=>qe,matches:()=>qe,max:()=>sr,memoize:()=>Tt,methods:()=>Se,min:()=>ar,mixin:()=>Br,negate:()=>Mt,noop:()=>Qe,now:()=>ot,object:()=>Fr,omit:()=>xr,once:()=>It,pairs:()=>Oe,partial:()=>xt,partition:()=>_r,pick:()=>Er,pluck:()=>ir,property:()=>We,propertyOf:()=>et,random:()=>rt,range:()=>Ir,reduce:()=>Jt,reduceRight:()=>$t,reject:()=>Qt,rest:()=>Pr,restArguments:()=>P,result:()=>ft,sample:()=>lr,select:()=>Zt,shuffle:()=>hr,size:()=>yr,some:()=>tr,sortBy:()=>dr,sortedIndex:()=>kt,tail:()=>Pr,take:()=>Ar,tap:()=>Be,template:()=>gt,templateSettings:()=>ct,throttle:()=>Ot,times:()=>tt,toArray:()=>ur,toPath:()=>Ue,transpose:()=>wr,unescape:()=>at,union:()=>Sr,uniq:()=>Lr,unique:()=>Lr,uniqueId:()=>_t,unzip:()=>wr,values:()=>Ce,where:()=>nr,without:()=>Or,wrap:()=>St,zip:()=>Nr});var o={};r.r(o),r.d(o,{VERSION:()=>i,after:()=>Nt,all:()=>er,allKeys:()=>ve,any:()=>tr,assign:()=>Ne,before:()=>Ft,bind:()=>Rt,bindAll:()=>Vt,chain:()=>yt,chunk:()=>Dr,clone:()=>je,collect:()=>Ht,compact:()=>Tr,compose:()=>wt,constant:()=>Z,contains:()=>rr,countBy:()=>vr,create:()=>De,debounce:()=>Lt,default:()=>Ur,defaults:()=>Fe,defer:()=>Ct,delay:()=>bt,detect:()=>Kt,difference:()=>Cr,drop:()=>Pr,each:()=>Wt,escape:()=>st,every:()=>er,extend:()=>we,extendOwn:()=>Ne,filter:()=>Zt,find:()=>Kt,findIndex:()=>Bt,findKey:()=>Dt,findLastIndex:()=>Ut,findWhere:()=>qt,first:()=>Ar,flatten:()=>br,foldl:()=>Jt,foldr:()=>$t,forEach:()=>Wt,functions:()=>Se,get:()=>ze,groupBy:()=>gr,has:()=>Ye,head:()=>Ar,identity:()=>Ke,include:()=>rr,includes:()=>rr,indexBy:()=>fr,indexOf:()=>zt,initial:()=>Rr,inject:()=>Jt,intersection:()=>Mr,invert:()=>Le,invoke:()=>or,isArguments:()=>X,isArray:()=>q,isArrayBuffer:()=>D,isBoolean:()=>C,isDataView:()=>K,isDate:()=>w,isElement:()=>O,isEmpty:()=>ce,isEqual:()=>fe,isError:()=>F,isFinite:()=>J,isFunction:()=>U,isMap:()=>Pe,isMatch:()=>ue,isNaN:()=>$,isNull:()=>T,isNumber:()=>M,isObject:()=>V,isRegExp:()=>N,isSet:()=>Te,isString:()=>S,isSymbol:()=>I,isTypedArray:()=>ie,isUndefined:()=>b,isWeakMap:()=>Ve,isWeakSet:()=>be,iteratee:()=>Je,keys:()=>ae,last:()=>Vr,lastIndexOf:()=>Yt,map:()=>Ht,mapObject:()=>Ze,matcher:()=>qe,matches:()=>qe,max:()=>sr,memoize:()=>Tt,methods:()=>Se,min:()=>ar,mixin:()=>Br,negate:()=>Mt,noop:()=>Qe,now:()=>ot,object:()=>Fr,omit:()=>xr,once:()=>It,pairs:()=>Oe,partial:()=>xt,partition:()=>_r,pick:()=>Er,pluck:()=>ir,property:()=>We,propertyOf:()=>et,random:()=>rt,range:()=>Ir,reduce:()=>Jt,reduceRight:()=>$t,reject:()=>Qt,rest:()=>Pr,restArguments:()=>P,result:()=>ft,sample:()=>lr,select:()=>Zt,shuffle:()=>hr,size:()=>yr,some:()=>tr,sortBy:()=>dr,sortedIndex:()=>kt,tail:()=>Pr,take:()=>Ar,tap:()=>Be,template:()=>gt,templateSettings:()=>ct,throttle:()=>Ot,times:()=>tt,toArray:()=>ur,toPath:()=>Ue,transpose:()=>wr,unescape:()=>at,union:()=>Sr,uniq:()=>Lr,unique:()=>Lr,uniqueId:()=>_t,unzip:()=>wr,values:()=>Ce,where:()=>nr,without:()=>Or,wrap:()=>St,zip:()=>Nr});var i=\"1.13.6\",n=\"object\"==typeof self&&self.self===self&&self||\"object\"==typeof global&&global.global===global&&global||Function(\"return this\")()||{},s=Array.prototype,a=Object.prototype,c=\"undefined\"!=typeof Symbol?Symbol.prototype:null,u=s.push,l=s.slice,h=a.toString,d=a.hasOwnProperty,p=\"undefined\"!=typeof ArrayBuffer,g=\"undefined\"!=typeof DataView,f=Array.isArray,v=Object.keys,_=Object.create,y=p&&ArrayBuffer.isView,m=isNaN,E=isFinite,x=!{toString:null}.propertyIsEnumerable(\"toString\"),R=[\"valueOf\",\"isPrototypeOf\",\"toString\",\"propertyIsEnumerable\",\"hasOwnProperty\",\"toLocaleString\"],A=Math.pow(2,53)-1;function P(e,t){return t=null==t?e.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),o=Array(r),i=0;i<r;i++)o[i]=arguments[i+t];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,arguments[0],o);case 2:return e.call(this,arguments[0],arguments[1],o)}var n=Array(t+1);for(i=0;i<t;i++)n[i]=arguments[i];return n[t]=o,e.apply(this,n)}}function V(e){var t=typeof e;return\"function\"===t||\"object\"===t&&!!e}function T(e){return null===e}function b(e){return void 0===e}function C(e){return!0===e||!1===e||\"[object Boolean]\"===h.call(e)}function O(e){return!(!e||1!==e.nodeType)}function L(e){var t=\"[object \"+e+\"]\";return function(e){return h.call(e)===t}}const S=L(\"String\"),M=L(\"Number\"),w=L(\"Date\"),N=L(\"RegExp\"),F=L(\"Error\"),I=L(\"Symbol\"),D=L(\"ArrayBuffer\");var j=L(\"Function\"),B=n.document&&n.document.childNodes;\"object\"!=typeof Int8Array&&\"function\"!=typeof B&&(j=function(e){return\"function\"==typeof e||!1});const U=j,k=L(\"Object\");var G=g&&k(new DataView(new ArrayBuffer(8))),z=\"undefined\"!=typeof Map&&k(new Map),Y=L(\"DataView\");const K=G?function(e){return null!=e&&U(e.getInt8)&&D(e.buffer)}:Y,q=f||L(\"Array\");function W(e,t){return null!=e&&d.call(e,t)}var H=L(\"Arguments\");!function(){H(arguments)||(H=function(e){return W(e,\"callee\")})}();const X=H;function J(e){return!I(e)&&E(e)&&!isNaN(parseFloat(e))}function $(e){return M(e)&&m(e)}function Z(e){return function(){return e}}function Q(e){return function(t){var r=e(t);return\"number\"==typeof r&&r>=0&&r<=A}}function ee(e){return function(t){return null==t?void 0:t[e]}}const te=ee(\"byteLength\"),re=Q(te);var oe=/\\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\\]/;const ie=p?function(e){return y?y(e)&&!K(e):re(e)&&oe.test(h.call(e))}:Z(!1),ne=ee(\"length\");function se(e,t){t=function(e){for(var t={},r=e.length,o=0;o<r;++o)t[e[o]]=!0;return{contains:function(e){return!0===t[e]},push:function(r){return t[r]=!0,e.push(r)}}}(t);var r=R.length,o=e.constructor,i=U(o)&&o.prototype||a,n=\"constructor\";for(W(e,n)&&!t.contains(n)&&t.push(n);r--;)(n=R[r])in e&&e[n]!==i[n]&&!t.contains(n)&&t.push(n)}function ae(e){if(!V(e))return[];if(v)return v(e);var t=[];for(var r in e)W(e,r)&&t.push(r);return x&&se(e,t),t}function ce(e){if(null==e)return!0;var t=ne(e);return\"number\"==typeof t&&(q(e)||S(e)||X(e))?0===t:0===ne(ae(e))}function ue(e,t){var r=ae(t),o=r.length;if(null==e)return!o;for(var i=Object(e),n=0;n<o;n++){var s=r[n];if(t[s]!==i[s]||!(s in i))return!1}return!0}function le(e){return e instanceof le?e:this instanceof le?void(this._wrapped=e):new le(e)}function he(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,te(e))}le.VERSION=i,le.prototype.value=function(){return this._wrapped},le.prototype.valueOf=le.prototype.toJSON=le.prototype.value,le.prototype.toString=function(){return String(this._wrapped)};var de=\"[object DataView]\";function pe(e,t,r,o){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return(\"function\"===i||\"object\"===i||\"object\"==typeof t)&&ge(e,t,r,o)}function ge(e,t,r,o){e instanceof le&&(e=e._wrapped),t instanceof le&&(t=t._wrapped);var i=h.call(e);if(i!==h.call(t))return!1;if(G&&\"[object Object]\"==i&&K(e)){if(!K(t))return!1;i=de}switch(i){case\"[object RegExp]\":case\"[object String]\":return\"\"+e==\"\"+t;case\"[object Number]\":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case\"[object Date]\":case\"[object Boolean]\":return+e==+t;case\"[object Symbol]\":return c.valueOf.call(e)===c.valueOf.call(t);case\"[object ArrayBuffer]\":case de:return ge(he(e),he(t),r,o)}var n=\"[object Array]\"===i;if(!n&&ie(e)){if(te(e)!==te(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;n=!0}if(!n){if(\"object\"!=typeof e||\"object\"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(U(s)&&s instanceof s&&U(a)&&a instanceof a)&&\"constructor\"in e&&\"constructor\"in t)return!1}o=o||[];for(var u=(r=r||[]).length;u--;)if(r[u]===e)return o[u]===t;if(r.push(e),o.push(t),n){if((u=e.length)!==t.length)return!1;for(;u--;)if(!pe(e[u],t[u],r,o))return!1}else{var l,d=ae(e);if(u=d.length,ae(t).length!==u)return!1;for(;u--;)if(!W(t,l=d[u])||!pe(e[l],t[l],r,o))return!1}return r.pop(),o.pop(),!0}function fe(e,t){return pe(e,t)}function ve(e){if(!V(e))return[];var t=[];for(var r in e)t.push(r);return x&&se(e,t),t}function _e(e){var t=ne(e);return function(r){if(null==r)return!1;var o=ve(r);if(ne(o))return!1;for(var i=0;i<t;i++)if(!U(r[e[i]]))return!1;return e!==Re||!U(r[ye])}}var ye=\"forEach\",me=[\"clear\",\"delete\"],Ee=[\"get\",\"has\",\"set\"],xe=me.concat(ye,Ee),Re=me.concat(Ee),Ae=[\"add\"].concat(me,ye,\"has\");const Pe=z?_e(xe):L(\"Map\"),Ve=z?_e(Re):L(\"WeakMap\"),Te=z?_e(Ae):L(\"Set\"),be=L(\"WeakSet\");function Ce(e){for(var t=ae(e),r=t.length,o=Array(r),i=0;i<r;i++)o[i]=e[t[i]];return o}function Oe(e){for(var t=ae(e),r=t.length,o=Array(r),i=0;i<r;i++)o[i]=[t[i],e[t[i]]];return o}function Le(e){for(var t={},r=ae(e),o=0,i=r.length;o<i;o++)t[e[r[o]]]=r[o];return t}function Se(e){var t=[];for(var r in e)U(e[r])&&t.push(r);return t.sort()}function Me(e,t){return function(r){var o=arguments.length;if(t&&(r=Object(r)),o<2||null==r)return r;for(var i=1;i<o;i++)for(var n=arguments[i],s=e(n),a=s.length,c=0;c<a;c++){var u=s[c];t&&void 0!==r[u]||(r[u]=n[u])}return r}}const we=Me(ve),Ne=Me(ae),Fe=Me(ve,!0);function Ie(e){if(!V(e))return{};if(_)return _(e);var t=function(){};t.prototype=e;var r=new t;return t.prototype=null,r}function De(e,t){var r=Ie(e);return t&&Ne(r,t),r}function je(e){return V(e)?q(e)?e.slice():we({},e):e}function Be(e,t){return t(e),e}function Ue(e){return q(e)?e:[e]}function ke(e){return le.toPath(e)}function Ge(e,t){for(var r=t.length,o=0;o<r;o++){if(null==e)return;e=e[t[o]]}return r?e:void 0}function ze(e,t,r){var o=Ge(e,ke(t));return b(o)?r:o}function Ye(e,t){for(var r=(t=ke(t)).length,o=0;o<r;o++){var i=t[o];if(!W(e,i))return!1;e=e[i]}return!!r}function Ke(e){return e}function qe(e){return e=Ne({},e),function(t){return ue(t,e)}}function We(e){return e=ke(e),function(t){return Ge(t,e)}}function He(e,t,r){if(void 0===t)return e;switch(null==r?3:r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,o,i){return e.call(t,r,o,i)};case 4:return function(r,o,i,n){return e.call(t,r,o,i,n)}}return function(){return e.apply(t,arguments)}}function Xe(e,t,r){return null==e?Ke:U(e)?He(e,t,r):V(e)&&!q(e)?qe(e):We(e)}function Je(e,t){return Xe(e,t,1/0)}function $e(e,t,r){return le.iteratee!==Je?le.iteratee(e,t):Xe(e,t,r)}function Ze(e,t,r){t=$e(t,r);for(var o=ae(e),i=o.length,n={},s=0;s<i;s++){var a=o[s];n[a]=t(e[a],a,e)}return n}function Qe(){}function et(e){return null==e?Qe:function(t){return ze(e,t)}}function tt(e,t,r){var o=Array(Math.max(0,e));t=He(t,r,1);for(var i=0;i<e;i++)o[i]=t(i);return o}function rt(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}le.toPath=Ue,le.iteratee=Je;const ot=Date.now||function(){return(new Date).getTime()};function it(e){var t=function(t){return e[t]},r=\"(?:\"+ae(e).join(\"|\")+\")\",o=RegExp(r),i=RegExp(r,\"g\");return function(e){return e=null==e?\"\":\"\"+e,o.test(e)?e.replace(i,t):e}}const nt={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#x27;\",\"`\":\"&#x60;\"},st=it(nt),at=it(Le(nt)),ct=le.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g,escape:/<%-([\\s\\S]+?)%>/g};var ut=/(.)^/,lt={\"'\":\"'\",\"\\\\\":\"\\\\\",\"\\r\":\"r\",\"\\n\":\"n\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},ht=/\\\\|'|\\r|\\n|\\u2028|\\u2029/g;function dt(e){return\"\\\\\"+lt[e]}var pt=/^\\s*(\\w|\\$)+\\s*$/;function gt(e,t,r){!t&&r&&(t=r),t=Fe({},t,le.templateSettings);var o=RegExp([(t.escape||ut).source,(t.interpolate||ut).source,(t.evaluate||ut).source].join(\"|\")+\"|$\",\"g\"),i=0,n=\"__p+='\";e.replace(o,(function(t,r,o,s,a){return n+=e.slice(i,a).replace(ht,dt),i=a+t.length,r?n+=\"'+\\n((__t=(\"+r+\"))==null?'':_.escape(__t))+\\n'\":o?n+=\"'+\\n((__t=(\"+o+\"))==null?'':__t)+\\n'\":s&&(n+=\"';\\n\"+s+\"\\n__p+='\"),t})),n+=\"';\\n\";var s,a=t.variable;if(a){if(!pt.test(a))throw new Error(\"variable is not a bare identifier: \"+a)}else n=\"with(obj||{}){\\n\"+n+\"}\\n\",a=\"obj\";n=\"var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\\n\"+n+\"return __p;\\n\";try{s=new Function(a,\"_\",n)}catch(e){throw e.source=n,e}var c=function(e){return s.call(this,e,le)};return c.source=\"function(\"+a+\"){\\n\"+n+\"}\",c}function ft(e,t,r){var o=(t=ke(t)).length;if(!o)return U(r)?r.call(e):r;for(var i=0;i<o;i++){var n=null==e?void 0:e[t[i]];void 0===n&&(n=r,i=o),e=U(n)?n.call(e):n}return e}var vt=0;function _t(e){var t=++vt+\"\";return e?e+t:t}function yt(e){var t=le(e);return t._chain=!0,t}function mt(e,t,r,o,i){if(!(o instanceof t))return e.apply(r,i);var n=Ie(e.prototype),s=e.apply(n,i);return V(s)?s:n}var Et=P((function(e,t){var r=Et.placeholder,o=function(){for(var i=0,n=t.length,s=Array(n),a=0;a<n;a++)s[a]=t[a]===r?arguments[i++]:t[a];for(;i<arguments.length;)s.push(arguments[i++]);return mt(e,o,this,this,s)};return o}));Et.placeholder=le;const xt=Et,Rt=P((function(e,t,r){if(!U(e))throw new TypeError(\"Bind must be called on a function\");var o=P((function(i){return mt(e,o,t,this,r.concat(i))}));return o})),At=Q(ne);function Pt(e,t,r,o){if(o=o||[],t||0===t){if(t<=0)return o.concat(e)}else t=1/0;for(var i=o.length,n=0,s=ne(e);n<s;n++){var a=e[n];if(At(a)&&(q(a)||X(a)))if(t>1)Pt(a,t-1,r,o),i=o.length;else for(var c=0,u=a.length;c<u;)o[i++]=a[c++];else r||(o[i++]=a)}return o}const Vt=P((function(e,t){var r=(t=Pt(t,!1,!1)).length;if(r<1)throw new Error(\"bindAll must be passed function names\");for(;r--;){var o=t[r];e[o]=Rt(e[o],e)}return e}));function Tt(e,t){var r=function(o){var i=r.cache,n=\"\"+(t?t.apply(this,arguments):o);return W(i,n)||(i[n]=e.apply(this,arguments)),i[n]};return r.cache={},r}const bt=P((function(e,t,r){return setTimeout((function(){return e.apply(null,r)}),t)})),Ct=xt(bt,le,1);function Ot(e,t,r){var o,i,n,s,a=0;r||(r={});var c=function(){a=!1===r.leading?0:ot(),o=null,s=e.apply(i,n),o||(i=n=null)},u=function(){var u=ot();a||!1!==r.leading||(a=u);var l=t-(u-a);return i=this,n=arguments,l<=0||l>t?(o&&(clearTimeout(o),o=null),a=u,s=e.apply(i,n),o||(i=n=null)):o||!1===r.trailing||(o=setTimeout(c,l)),s};return u.cancel=function(){clearTimeout(o),a=0,o=i=n=null},u}function Lt(e,t,r){var o,i,n,s,a,c=function(){var u=ot()-i;t>u?o=setTimeout(c,t-u):(o=null,r||(s=e.apply(a,n)),o||(n=a=null))},u=P((function(u){return a=this,n=u,i=ot(),o||(o=setTimeout(c,t),r&&(s=e.apply(a,n))),s}));return u.cancel=function(){clearTimeout(o),o=n=a=null},u}function St(e,t){return xt(t,e)}function Mt(e){return function(){return!e.apply(this,arguments)}}function wt(){var e=arguments,t=e.length-1;return function(){for(var r=t,o=e[t].apply(this,arguments);r--;)o=e[r].call(this,o);return o}}function Nt(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function Ft(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}}const It=xt(Ft,2);function Dt(e,t,r){t=$e(t,r);for(var o,i=ae(e),n=0,s=i.length;n<s;n++)if(t(e[o=i[n]],o,e))return o}function jt(e){return function(t,r,o){r=$e(r,o);for(var i=ne(t),n=e>0?0:i-1;n>=0&&n<i;n+=e)if(r(t[n],n,t))return n;return-1}}const Bt=jt(1),Ut=jt(-1);function kt(e,t,r,o){for(var i=(r=$e(r,o,1))(t),n=0,s=ne(e);n<s;){var a=Math.floor((n+s)/2);r(e[a])<i?n=a+1:s=a}return n}function Gt(e,t,r){return function(o,i,n){var s=0,a=ne(o);if(\"number\"==typeof n)e>0?s=n>=0?n:Math.max(n+a,s):a=n>=0?Math.min(n+1,a):n+a+1;else if(r&&n&&a)return o[n=r(o,i)]===i?n:-1;if(i!=i)return(n=t(l.call(o,s,a),$))>=0?n+s:-1;for(n=e>0?s:a-1;n>=0&&n<a;n+=e)if(o[n]===i)return n;return-1}}const zt=Gt(1,Bt,kt),Yt=Gt(-1,Ut);function Kt(e,t,r){var o=(At(e)?Bt:Dt)(e,t,r);if(void 0!==o&&-1!==o)return e[o]}function qt(e,t){return Kt(e,qe(t))}function Wt(e,t,r){var o,i;if(t=He(t,r),At(e))for(o=0,i=e.length;o<i;o++)t(e[o],o,e);else{var n=ae(e);for(o=0,i=n.length;o<i;o++)t(e[n[o]],n[o],e)}return e}function Ht(e,t,r){t=$e(t,r);for(var o=!At(e)&&ae(e),i=(o||e).length,n=Array(i),s=0;s<i;s++){var a=o?o[s]:s;n[s]=t(e[a],a,e)}return n}function Xt(e){return function(t,r,o,i){var n=arguments.length>=3;return function(t,r,o,i){var n=!At(t)&&ae(t),s=(n||t).length,a=e>0?0:s-1;for(i||(o=t[n?n[a]:a],a+=e);a>=0&&a<s;a+=e){var c=n?n[a]:a;o=r(o,t[c],c,t)}return o}(t,He(r,i,4),o,n)}}const Jt=Xt(1),$t=Xt(-1);function Zt(e,t,r){var o=[];return t=$e(t,r),Wt(e,(function(e,r,i){t(e,r,i)&&o.push(e)})),o}function Qt(e,t,r){return Zt(e,Mt($e(t)),r)}function er(e,t,r){t=$e(t,r);for(var o=!At(e)&&ae(e),i=(o||e).length,n=0;n<i;n++){var s=o?o[n]:n;if(!t(e[s],s,e))return!1}return!0}function tr(e,t,r){t=$e(t,r);for(var o=!At(e)&&ae(e),i=(o||e).length,n=0;n<i;n++){var s=o?o[n]:n;if(t(e[s],s,e))return!0}return!1}function rr(e,t,r,o){return At(e)||(e=Ce(e)),(\"number\"!=typeof r||o)&&(r=0),zt(e,t,r)>=0}const or=P((function(e,t,r){var o,i;return U(t)?i=t:(t=ke(t),o=t.slice(0,-1),t=t[t.length-1]),Ht(e,(function(e){var n=i;if(!n){if(o&&o.length&&(e=Ge(e,o)),null==e)return;n=e[t]}return null==n?n:n.apply(e,r)}))}));function ir(e,t){return Ht(e,We(t))}function nr(e,t){return Zt(e,qe(t))}function sr(e,t,r){var o,i,n=-1/0,s=-1/0;if(null==t||\"number\"==typeof t&&\"object\"!=typeof e[0]&&null!=e)for(var a=0,c=(e=At(e)?e:Ce(e)).length;a<c;a++)null!=(o=e[a])&&o>n&&(n=o);else t=$e(t,r),Wt(e,(function(e,r,o){((i=t(e,r,o))>s||i===-1/0&&n===-1/0)&&(n=e,s=i)}));return n}function ar(e,t,r){var o,i,n=1/0,s=1/0;if(null==t||\"number\"==typeof t&&\"object\"!=typeof e[0]&&null!=e)for(var a=0,c=(e=At(e)?e:Ce(e)).length;a<c;a++)null!=(o=e[a])&&o<n&&(n=o);else t=$e(t,r),Wt(e,(function(e,r,o){((i=t(e,r,o))<s||i===1/0&&n===1/0)&&(n=e,s=i)}));return n}var cr=/[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;function ur(e){return e?q(e)?l.call(e):S(e)?e.match(cr):At(e)?Ht(e,Ke):Ce(e):[]}function lr(e,t,r){if(null==t||r)return At(e)||(e=Ce(e)),e[rt(e.length-1)];var o=ur(e),i=ne(o);t=Math.max(Math.min(t,i),0);for(var n=i-1,s=0;s<t;s++){var a=rt(s,n),c=o[s];o[s]=o[a],o[a]=c}return o.slice(0,t)}function hr(e){return lr(e,1/0)}function dr(e,t,r){var o=0;return t=$e(t,r),ir(Ht(e,(function(e,r,i){return{value:e,index:o++,criteria:t(e,r,i)}})).sort((function(e,t){var r=e.criteria,o=t.criteria;if(r!==o){if(r>o||void 0===r)return 1;if(r<o||void 0===o)return-1}return e.index-t.index})),\"value\")}function pr(e,t){return function(r,o,i){var n=t?[[],[]]:{};return o=$e(o,i),Wt(r,(function(t,i){var s=o(t,i,r);e(n,t,s)})),n}}const gr=pr((function(e,t,r){W(e,r)?e[r].push(t):e[r]=[t]})),fr=pr((function(e,t,r){e[r]=t})),vr=pr((function(e,t,r){W(e,r)?e[r]++:e[r]=1})),_r=pr((function(e,t,r){e[r?0:1].push(t)}),!0);function yr(e){return null==e?0:At(e)?e.length:ae(e).length}function mr(e,t,r){return t in r}const Er=P((function(e,t){var r={},o=t[0];if(null==e)return r;U(o)?(t.length>1&&(o=He(o,t[1])),t=ve(e)):(o=mr,t=Pt(t,!1,!1),e=Object(e));for(var i=0,n=t.length;i<n;i++){var s=t[i],a=e[s];o(a,s,e)&&(r[s]=a)}return r})),xr=P((function(e,t){var r,o=t[0];return U(o)?(o=Mt(o),t.length>1&&(r=t[1])):(t=Ht(Pt(t,!1,!1),String),o=function(e,r){return!rr(t,r)}),Er(e,o,r)}));function Rr(e,t,r){return l.call(e,0,Math.max(0,e.length-(null==t||r?1:t)))}function Ar(e,t,r){return null==e||e.length<1?null==t||r?void 0:[]:null==t||r?e[0]:Rr(e,e.length-t)}function Pr(e,t,r){return l.call(e,null==t||r?1:t)}function Vr(e,t,r){return null==e||e.length<1?null==t||r?void 0:[]:null==t||r?e[e.length-1]:Pr(e,Math.max(0,e.length-t))}function Tr(e){return Zt(e,Boolean)}function br(e,t){return Pt(e,t,!1)}const Cr=P((function(e,t){return t=Pt(t,!0,!0),Zt(e,(function(e){return!rr(t,e)}))})),Or=P((function(e,t){return Cr(e,t)}));function Lr(e,t,r,o){C(t)||(o=r,r=t,t=!1),null!=r&&(r=$e(r,o));for(var i=[],n=[],s=0,a=ne(e);s<a;s++){var c=e[s],u=r?r(c,s,e):c;t&&!r?(s&&n===u||i.push(c),n=u):r?rr(n,u)||(n.push(u),i.push(c)):rr(i,c)||i.push(c)}return i}const Sr=P((function(e){return Lr(Pt(e,!0,!0))}));function Mr(e){for(var t=[],r=arguments.length,o=0,i=ne(e);o<i;o++){var n=e[o];if(!rr(t,n)){var s;for(s=1;s<r&&rr(arguments[s],n);s++);s===r&&t.push(n)}}return t}function wr(e){for(var t=e&&sr(e,ne).length||0,r=Array(t),o=0;o<t;o++)r[o]=ir(e,o);return r}const Nr=P(wr);function Fr(e,t){for(var r={},o=0,i=ne(e);o<i;o++)t?r[e[o]]=t[o]:r[e[o][0]]=e[o][1];return r}function Ir(e,t,r){null==t&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var o=Math.max(Math.ceil((t-e)/r),0),i=Array(o),n=0;n<o;n++,e+=r)i[n]=e;return i}function Dr(e,t){if(null==t||t<1)return[];for(var r=[],o=0,i=e.length;o<i;)r.push(l.call(e,o,o+=t));return r}function jr(e,t){return e._chain?le(t).chain():t}function Br(e){return Wt(Se(e),(function(t){var r=le[t]=e[t];le.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),jr(this,r.apply(le,e))}})),le}Wt([\"pop\",\"push\",\"reverse\",\"shift\",\"sort\",\"splice\",\"unshift\"],(function(e){var t=s[e];le.prototype[e]=function(){var r=this._wrapped;return null!=r&&(t.apply(r,arguments),\"shift\"!==e&&\"splice\"!==e||0!==r.length||delete r[0]),jr(this,r)}})),Wt([\"concat\",\"join\",\"slice\"],(function(e){var t=s[e];le.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),jr(this,e)}}));const Ur=le;var kr=Br(o);kr._=kr;const Gr=kr}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if(\"object\"==typeof globalThis)return globalThis;try{return this||new Function(\"return this\")()}catch(e){if(\"object\"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var __webpack_exports__={};return(()=>{\"use strict\";var e=__webpack_exports__;Object.defineProperty(e,\"__esModule\",{value:!0}),e.getBoundedRegionFaces=e.getRegionEdges=e.mergeConnectedFaces=e.getOrderedFacesOnVertex=e.saveToProtoMessage=e.saveToProtoBinary=e.SolidDefSaver=e.SolidDefLoader=e.Path2D=e.DebugUtils=e.svgFromWire=e.transformTopology=e.TopologyStitcher=e.TopologyCloner=e.extrudeFace=e.createEdgeFromCurve=e.createFaceFromPolyline=e.createShellsFromFaces=e.createPolyhedron=e.createLineEdgeBetweenVertices=e.createLineEdge=e.createCylinder=e.createCone=e.createBlock=e.computeCurveCurveIntersections=e.SketchRegionSolver=e.facetPlanarFace=e.checkValidity=e.BoundingBox=e.Attribute=e.Wire=e.WireBody=e.Vertex=e.Edge=e.Coedge=e.Loop=e.Face=e.Shell=e.Lump=e.Body=e.BSurface=e.Torus=e.EllipticalCone=e.Cone=e.Sphere=e.EllipticalCylinder=e.Cylinder=e.Plane=e.BCurve=e.Ellipse=e.Circle=e.Line=e.Point=e.TOPOLOGY_TYPES=e.GEOMETRY_TYPES=e.KERNEL_TOLERANCE=void 0;var t=__webpack_require__(2468),r=__webpack_require__(3344),o=__webpack_require__(3565),i=__webpack_require__(1096),n=__webpack_require__(5512),s=__webpack_require__(8972),a=__webpack_require__(8796),c=__webpack_require__(8292),u=__webpack_require__(3440),l=__webpack_require__(8360),h=__webpack_require__(4372),d=__webpack_require__(2984),p=__webpack_require__(2956),g=__webpack_require__(1408),f=__webpack_require__(92),v=__webpack_require__(9984),_=__webpack_require__(5837),y=__webpack_require__(6508),m=__webpack_require__(6776),E=__webpack_require__(4524),x=__webpack_require__(672),R=__webpack_require__(7580),A=__webpack_require__(6940),P=__webpack_require__(6500),V=__webpack_require__(7575),T=__webpack_require__(9324),b=__webpack_require__(2236),C=__webpack_require__(3584),O=__webpack_require__(8768),L=__webpack_require__(8460),S=__webpack_require__(3332),M=__webpack_require__(9128),w=__webpack_require__(7620),N=__webpack_require__(64),F=__webpack_require__(2472),I=__webpack_require__(2536),D=__webpack_require__(1008),j=__webpack_require__(7616),B=__webpack_require__(4268),U=__webpack_require__(6120),k=__webpack_require__(268),G=__webpack_require__(6232),z=__webpack_require__(5316),Y=__webpack_require__(8080),K=__webpack_require__(9608);e.KERNEL_TOLERANCE=t.KERNEL_TOLERANCE,e.GEOMETRY_TYPES=t.GEOMETRY_TYPES,e.TOPOLOGY_TYPES=t.TOPOLOGY_TYPES,e.Point=o.Point,e.Line=i.Line,e.Circle=n.Circle,e.Ellipse=s.Ellipse,e.BCurve=a.BCurve,e.Plane=c.Plane,e.Cylinder=u.Cylinder,e.EllipticalCylinder=l.EllipticalCylinder,e.Sphere=h.Sphere,e.Cone=d.Cone,e.EllipticalCone=p.EllipticalCone,e.Torus=g.Torus,e.BSurface=f.BSurface,e.Body=v.Body,e.Lump=_.Lump,e.Shell=y.Shell,e.Face=m.Face,e.Loop=E.Loop,e.Coedge=x.Coedge,e.Edge=R.Edge,e.Vertex=A.Vertex,e.WireBody=P.WireBody,e.Wire=V.Wire,e.Attribute=T.Attribute,e.BoundingBox=r.BoundingBox,e.checkValidity=b.checkValidity,e.facetPlanarFace=C.facetPlanarFace,e.SketchRegionSolver=O.SketchRegionSolver,e.computeCurveCurveIntersections=L.computeCurveCurveIntersections,e.createBlock=S.createBlock,e.createCone=M.createCone,e.createCylinder=M.createCylinder,e.createLineEdge=N.createLineEdge,e.createLineEdgeBetweenVertices=N.createLineEdgeBetweenVertices,e.createPolyhedron=w.createPolyhedron,e.createShellsFromFaces=N.createShellsFromFaces,e.createFaceFromPolyline=N.createFaceFromPolyline,e.createEdgeFromCurve=N.createEdgeFromCurve,e.extrudeFace=F.extrudeFace,e.TopologyCloner=I.TopologyCloner,e.TopologyStitcher=D.TopologyStitcher,e.transformTopology=j.transformTopology,e.svgFromWire=B.svgFromWire,e.DebugUtils=U.DebugUtils,e.Path2D=k.Path2D,e.SolidDefLoader=G.SolidDefLoader,e.SolidDefSaver=z.SolidDefSaver,e.saveToProtoBinary=z.saveToProtoBinary,e.saveToProtoMessage=z.saveToProtoMessage,e.getOrderedFacesOnVertex=K.getOrderedFacesOnVertex,e.mergeConnectedFaces=j.mergeConnectedFaces,e.getRegionEdges=Y.getRegionEdges,e.getBoundedRegionFaces=Y.getBoundedRegionFaces})(),__webpack_exports__})()));\n//# sourceMappingURL=solid-definition.min.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGFkc2svc29saWQtZGVmaW5pdGlvbi9kaXN0L3NvbGlkLWRlZmluaXRpb24ubWluLmpzIiwibWFwcGluZ3MiOiJBQUFBLGVBQWUsdU1BQXVNLCtDQUErQyx5QkFBeUIsaUJBQWlCLE1BQU0sNENBQTRDLG1CQUFtQixTQUFTLGNBQWMsNEJBQTRCLFlBQVkscUJBQXFCLDJEQUEyRCx1Q0FBdUMscUNBQXFDLG9DQUFvQyxFQUFFLGlCQUFpQixpQ0FBaUMsaUJBQWlCLFlBQVksVUFBVSxzQkFBc0IsbUJBQW1CLGlEQUFpRCxpQkFBaUIsa0JBQWtCLGFBQWEsbUJBQW1CLGlCQUFpQixhQUFhLGNBQWMseUJBQXlCLDBCQUEwQiw4QkFBOEIsMEJBQTBCLDBCQUEwQiw4QkFBOEIseUJBQXlCLGNBQWMsbUJBQW1CLDJCQUEyQix1Q0FBdUMseUNBQXlDLDBCQUEwQixnQ0FBZ0MsZ0ZBQWdGLDBCQUEwQiw4QkFBOEIsZ0ZBQWdGLGNBQWMsc0JBQXNCLHVDQUF1Qyx5QkFBeUIsOEJBQThCLHVCQUF1QixzREFBc0QsNEJBQTRCLHNEQUFzRCw2Q0FBNkMsc0RBQXNELDJDQUEyQyxzREFBc0QscUNBQXFDLHdFQUF3RSx1QkFBdUIsMkVBQTJFLHVCQUF1QixvRkFBb0YsdUJBQXVCLG9GQUFvRix1QkFBdUIsMkVBQTJFLHlCQUF5Qiw2Q0FBNkMsaUNBQWlDLDREQUE0RCwwQkFBMEIsd0NBQXdDLDhCQUE4QixtREFBbUQsd0NBQXdDLG1CQUFtQixrREFBa0QseUJBQXlCLDhCQUE4Qiw0Q0FBNEMseUJBQXlCLG1CQUFtQixpREFBaUQsMENBQTBDLHlCQUF5Qiw2Q0FBNkMsMkJBQTJCLHVDQUF1QyxxRUFBcUUscUJBQXFCLHFDQUFxQyx5QkFBeUIsOENBQThDLGdEQUFnRCwwQkFBMEIseUJBQXlCLCtEQUErRCxpQ0FBaUMsMERBQTBELDRHQUE0RyxnQ0FBZ0Msa0RBQWtELDRHQUE0Ryx3QkFBd0IsT0FBTyx1RUFBdUUsd0RBQXdELHFDQUFxQyx5QkFBeUIsMEdBQTBHLGdEQUFnRCx5QkFBeUIsd0ZBQXdGLHFDQUFxQyx5QkFBeUIsdUZBQXVGLGlDQUFpQyw4R0FBOEcsaUZBQWlGLG9DQUFvQyx1SUFBdUksOEJBQThCLDZCQUE2QixjQUFjLDJMQUEyTCw2QkFBNkIsY0FBYywyTEFBMkwsNkJBQTZCLGNBQWMsMkxBQTJMLHVCQUF1Qiw4QkFBOEIsa0NBQWtDLDRDQUE0Qyx1QkFBdUIsZ0NBQWdDLGdCQUFnQix3QkFBd0IsK0hBQStILGdDQUFnQyxTQUFTLGlCQUFpQixzREFBc0QsbUNBQW1DLHlFQUF5RSw4Q0FBOEMsWUFBWSxjQUFjLGtDQUFrQyxvRUFBb0Usd3ZCQUF3dkIsd0JBQXdCLHVDQUF1Qyw2QkFBNkIsNkNBQTZDLDBCQUEwQix1RkFBdUYsT0FBTyxpQkFBaUIsYUFBYSxjQUFjLHlCQUF5QiwwQkFBMEIscUNBQXFDLDBCQUEwQiwwQkFBMEIscUNBQXFDLHlCQUF5QixnQkFBZ0IsbUJBQW1CLDJCQUEyQixpREFBaUQsMkNBQTJDLDBCQUEwQix1Q0FBdUMsa0ZBQWtGLDBCQUEwQixxQ0FBcUMsa0ZBQWtGLGdCQUFnQixzQkFBc0IsaURBQWlELDJCQUEyQixxQ0FBcUMsdUJBQXVCLHFFQUFxRSw0QkFBNEIscUVBQXFFLDZDQUE2QyxxRUFBcUUsMkNBQTJDLHFFQUFxRSxxQ0FBcUMsNkZBQTZGLHVCQUF1QixpR0FBaUcsdUJBQXVCLDZHQUE2Ryx1QkFBdUIsNkdBQTZHLHVCQUF1QixpR0FBaUcseUJBQXlCLHlEQUF5RCxpQ0FBaUMsNkVBQTZFLDBCQUEwQixvREFBb0Qsa0NBQWtDLG1EQUFtRCxvREFBb0QsdUJBQXVCLGtEQUFrRCxnQ0FBZ0Msa0NBQWtDLDRDQUE0QyxnQ0FBZ0MsdUJBQXVCLGlEQUFpRCxxREFBcUQseUJBQXlCLHlEQUF5RCwyQkFBMkIsa0RBQWtELHFFQUFxRSxxQkFBcUIsK0NBQStDLDBCQUEwQixnQ0FBZ0MsaUZBQWlGLHdCQUF3Qiw0SEFBNEgscUNBQXFDLGdDQUFnQyxtSkFBbUosaUNBQWlDLDhHQUE4RywyRkFBMkYsd0JBQXdCLGlEQUFpRCw2QkFBNkIsMERBQTBELDBCQUEwQiwrR0FBK0csT0FBTyxpQkFBaUIsYUFBYSxjQUFjLHlCQUF5QiwwQkFBMEIsd0VBQXdFLDBCQUEwQiwwQkFBMEIsd0VBQXdFLHlCQUF5QiwwQkFBMEIsNEJBQTRCLG9HQUFvRyxtQkFBbUIsMkJBQTJCLG1HQUFtRyxvQkFBb0IsbUdBQW1HLHFEQUFxRCwwQkFBMEIsMEVBQTBFLDRGQUE0RiwwQkFBMEIsd0VBQXdFLDRGQUE0RiwwQkFBMEIscUNBQXFDLHdFQUF3RSx3QkFBd0Isd0VBQXdFLDJCQUEyQixVQUFVLHlCQUF5QixtREFBbUQsK0ZBQStGLFNBQVMsd0JBQXdCLGdIQUFnSCw0SkFBNEosMkJBQTJCLG1FQUFtRSw0Q0FBNEMsNEJBQTRCLGtJQUFrSSxrS0FBa0ssa0RBQWtELDhFQUE4RSw4QkFBOEIsZ0NBQWdDLHlFQUF5RSw2QkFBNkIsOEVBQThFLDBCQUEwQix3R0FBd0csZ0dBQWdHLG9DQUFvQyw0UUFBNFEscU5BQXFOLHdCQUF3QixtR0FBbUcsdUJBQXVCLGdKQUFnSiw0QkFBNEIsZ0pBQWdKLG1EQUFtRCxxSEFBcUgsMENBQTBDLGtLQUFrSyw2QkFBNkIsMkhBQTJILDBCQUEwQix1T0FBdU8sT0FBTyxpQkFBaUIsYUFBYSxjQUFjLHlCQUF5QiwyQkFBMkIsK0hBQStILDBCQUEwQiwyQkFBMkIsK0hBQStILHlCQUF5Qix3Q0FBd0MsbUJBQW1CLDRCQUE0QixxTEFBcUwsb0JBQW9CLHFMQUFxTCxtRUFBbUUsMkJBQTJCLGlJQUFpSSwwR0FBMEcsMkJBQTJCLCtIQUErSCwwR0FBMEcsd0NBQXdDLG1EQUFtRCwrSEFBK0gsd0JBQXdCLCtIQUErSCwyQkFBMkIsVUFBVSwrQ0FBK0MsNkdBQTZHLGlMQUFpTCxTQUFTLHdCQUF3Qiw0UUFBNFEsOFdBQThXLDJCQUEyQiwwSEFBMEgsOEhBQThILDRCQUE0QixzSkFBc0oseWJBQXliLGtEQUFrRCx3SUFBd0ksNkJBQTZCLHdJQUF3SSxnQ0FBZ0Msd0RBQXdELDZRQUE2USwrQkFBK0IsZ0NBQWdDLGdJQUFnSSwrQkFBK0IsZ0NBQWdDLGdJQUFnSSwrQkFBK0IsZ0NBQWdDLGdJQUFnSSwyQ0FBMkMsd0dBQXdHLHNLQUFzSyxnQ0FBZ0MsMENBQTBDLGlDQUFpQyw2SUFBNkksZ0xBQWdMLDZCQUE2QiwwQkFBMEIsNGJBQTRiLGtEQUFrRCw2SEFBNkgsME1BQTBNLDBEQUEwRCxrSkFBa0osc1JBQXNSLDBCQUEwQix3R0FBd0csdUpBQXVKLHdDQUF3Qyw2R0FBNkcsMEJBQTBCLDRCQUE0QiwwRkFBMEYsbUJBQW1CLDRCQUE0Qix5RkFBeUYsb0lBQW9JLG1JQUFtSSxtQkFBbUIsNEJBQTRCLDBGQUEwRixrSUFBa0ksU0FBUyx3QkFBd0IsK0tBQStLLHVCQUF1QiwyUUFBMlEsNEJBQTRCLDJRQUEyUSxtREFBbUQscU5BQXFOLDBDQUEwQywyU0FBMlMsNkJBQTZCLGtPQUFrTywwQkFBMEIsMlpBQTJaLE9BQU8saUJBQWlCLGFBQWEsc0NBQXNDLFNBQVMsRUFBRSxtRUFBbUUsNEJBQTRCLFdBQVcsK0JBQStCLFdBQVcsK0JBQStCLFdBQVcsZ0NBQWdDLFdBQVcsZ0NBQWdDLFdBQVcsZ0NBQWdDLFdBQVcsNEJBQTRCLFdBQVcsdUNBQXVDLFdBQVcseUNBQXlDLFdBQVcseUNBQXlDLFdBQVcsY0FBYyxxSkFBcUosaUJBQWlCLGFBQWEsY0FBYyx5QkFBeUIsMEJBQTBCLHVCQUF1QiwwQkFBMEIsMEJBQTBCLHVCQUF1Qix5QkFBeUIsWUFBWSxtQkFBbUIsMkJBQTJCLDZCQUE2Qix1Q0FBdUMsMEJBQTBCLHlCQUF5Qiw4RUFBOEUsMEJBQTBCLHVCQUF1Qiw4RUFBOEUsWUFBWSxzQkFBc0IsNkJBQTZCLHVCQUF1Qix1QkFBdUIsdUJBQXVCLHVDQUF1Qyw0QkFBNEIsdUNBQXVDLDZDQUE2Qyx1Q0FBdUMsMkNBQTJDLHVDQUF1QyxxQ0FBcUMsbURBQW1ELHVCQUF1QixxREFBcUQsdUJBQXVCLDJEQUEyRCx1QkFBdUIsMkRBQTJELHVCQUF1QixxREFBcUQseUJBQXlCLGlDQUFpQyxpQ0FBaUMsMkNBQTJDLDBCQUEwQiw0QkFBNEIsMEJBQTBCLG1EQUFtRCw0QkFBNEIsZUFBZSxrREFBa0Qsa0JBQWtCLDBCQUEwQiw0Q0FBNEMsa0JBQWtCLGVBQWUsaURBQWlELCtCQUErQix5QkFBeUIsaUNBQWlDLDJCQUEyQiw0QkFBNEIseURBQXlELHFCQUFxQiwyQkFBMkIseUJBQXlCLDBCQUEwQiw0QkFBNEIsMEJBQTBCLGtCQUFrQiw2Q0FBNkMsd0JBQXdCLE9BQU8sOEJBQThCLCtDQUErQyxxQ0FBcUMsa0JBQWtCLCtDQUErQyxxQ0FBcUMsa0JBQWtCLHlEQUF5RCxxQ0FBcUMsa0JBQWtCLDJEQUEyRCx1QkFBdUIsOEJBQThCLGtDQUFrQyxpREFBaUQsdUJBQXVCLGdDQUFnQyxnQkFBZ0IsMEJBQTBCLGdHQUFnRyxnQ0FBZ0MsU0FBUyxpQkFBaUIsc0RBQXNELHdCQUF3Qiw2QkFBNkIsNkJBQTZCLGdDQUFnQywwQkFBMEIsK0RBQStELE9BQU8saUJBQWlCLGFBQWEsY0FBYyx5QkFBeUIsMEJBQTBCLHFDQUFxQywwQkFBMEIsMEJBQTBCLHFDQUFxQyx5QkFBeUIsZ0JBQWdCLG1CQUFtQiwyQkFBMkIsaURBQWlELG9CQUFvQixpREFBaUQsMkNBQTJDLDBCQUEwQix1Q0FBdUMsa0ZBQWtGLDBCQUEwQixxQ0FBcUMsa0ZBQWtGLGdCQUFnQiwyQkFBMkIscUNBQXFDLHdCQUF3QixxQ0FBcUMsMkJBQTJCLFVBQVUsV0FBVyxpQkFBaUIsNkNBQTZDLFNBQVMsd0JBQXdCLDBDQUEwQyw4REFBOEQsMkJBQTJCLDJCQUEyQiw0QkFBNEIsNERBQTRELDZEQUE2RCwwQ0FBMEMsOENBQThDLDZDQUE2Qyx3QkFBd0IsaURBQWlELHVCQUF1QixxRUFBcUUsNEJBQTRCLHFFQUFxRSxtREFBbUQseURBQXlELDBDQUEwQyw2RUFBNkUsNkJBQTZCLDBEQUEwRCwwQkFBMEIsK0dBQStHLE9BQU8saUJBQWlCLGFBQWEsK0NBQStDLHlCQUF5QiwwQkFBMEIscUNBQXFDLDBCQUEwQiwwQkFBMEIscUNBQXFDLHlCQUF5QixrQkFBa0IsOEhBQThILG1CQUFtQiwyT0FBMk8scURBQXFELHVJQUF1SSx5VEFBeVQscUNBQXFDLGdDQUFnQyxNQUFNLGtCQUFrQiw4REFBOEQsOEJBQThCLHdDQUF3Qyw0RUFBNEUsMENBQTBDLDREQUE0RCw2RkFBNkYsOERBQThELE1BQU0sNERBQTRELDZEQUE2RCwyQkFBMkIsTUFBTSw0REFBNEQsNkRBQTZELDJCQUEyQixNQUFNLDREQUE0RCw2REFBNkQsNEJBQTRCLHlCQUF5QixzRUFBc0UseURBQXlELHNFQUFzRSx5TUFBeU0seUVBQXlFLG9FQUFvRSx5QkFBeUIsNERBQTRELGdEQUFnRCwyQkFBMkIsb0RBQW9ELHNKQUFzSix1QkFBdUIsa0dBQWtHLEtBQUssUUFBUSxzQ0FBc0Msd0JBQXdCLDRJQUE0SSxTQUFTLHdCQUF3QixpREFBaUQseURBQXlELGlCQUFpQixhQUFhLHFCQUFxQixnQ0FBZ0Msa0NBQWtDLGdLQUFnSyxpQ0FBaUMsZ0NBQWdDLDhJQUE4SSwrQkFBK0Isa0NBQWtDLHlKQUF5SiwwQkFBMEIsdUZBQXVGLGtlQUFrZSwyQ0FBMkMsdURBQXVELCtIQUErSCxNQUFNLEdBQUcsZUFBZSxVQUFVLGFBQWEsd0JBQXdCLGlEQUFpRCxLQUFLLG1CQUFtQix1QkFBdUIsa0NBQWtDLGlCQUFpQixvQkFBb0IsS0FBSyw0Q0FBNEMsV0FBVyxxQkFBcUIsa0JBQWtCLElBQUksbUJBQW1CLFNBQVMsZ0JBQWdCLElBQUksYUFBYSxhQUFhLFFBQVEscUJBQXFCLGVBQWUsZUFBZSxZQUFZLDJCQUEyQixLQUFLLGtDQUFrQyw2Q0FBNkMsS0FBSyxrREFBa0QseUJBQXlCLDhCQUE4QixJQUFJLEVBQUUsYUFBYSxVQUFVLHFDQUFxQyxNQUFNLHdDQUF3QyxNQUFNLDJDQUEyQyxvRUFBb0UsOEtBQThLLHlCQUF5Qix5QkFBeUIsc0JBQXNCLFdBQVcsRUFBRSx3QkFBd0IscUJBQXFCLG9DQUFvQyxVQUFVLGVBQWUsTUFBTSxxQ0FBcUMsTUFBTSwwQ0FBMEMsTUFBTSw4QkFBOEIsd0JBQXdCLFdBQVcsb0JBQW9CLHlCQUF5QixFQUFFLG1CQUFtQixFQUFFLGlCQUFpQixFQUFFLGVBQWUsVUFBVSxhQUFhLGdCQUFnQixtQ0FBbUMsU0FBUyxjQUFjLHVCQUF1QixVQUFVLDBEQUEwRCwyRUFBMkUsV0FBVywwQkFBMEIsbURBQW1ELHFCQUFxQiw0Q0FBNEMsV0FBVyxxQkFBcUIsaURBQWlELGFBQWEsVUFBVSx5Q0FBeUMscUNBQXFDLGlDQUFpQyx5QkFBeUIsVUFBVSx3REFBd0QsbUJBQW1CLGNBQWMseURBQXlELHlCQUF5QixFQUFFLHNCQUFzQix5QkFBeUIsVUFBVSxhQUFhLGFBQWEsbUJBQW1CLDJDQUEyQywwREFBMEQsaUJBQWlCLE9BQU8sK0JBQStCLGlDQUFpQyx5Q0FBeUMsc0NBQXNDLFdBQVcsK0JBQStCLFlBQVksOEJBQThCLHlCQUF5QixNQUFNLGlCQUFpQixtQkFBbUIsd0JBQXdCLFFBQVEsV0FBVyw2QkFBNkIsYUFBYSxnQkFBZ0IsYUFBYSxZQUFZLDhCQUE4QixrQkFBa0Isb0NBQW9DLFVBQVUsc0RBQXNELHVHQUF1Ryw4QkFBOEIsc0JBQXNCLHlCQUF5QixnQ0FBZ0MscUJBQXFCLG9FQUFvRSxhQUFhLGlCQUFpQixPQUFPLEtBQUssWUFBWSx3QkFBd0IsNkNBQTZDLGtFQUFrRSwrQkFBK0Isb0VBQW9FLGlGQUFpRixVQUFVLGFBQWEsY0FBYyxrREFBa0QscUVBQXFFLGtCQUFrQixxREFBcUQsa0JBQWtCLHFEQUFxRCxnQkFBZ0IsMERBQTBELGdCQUFnQiwwREFBMEQsa0ZBQWtGLGNBQWMsb0JBQW9CLGNBQWMsNkNBQTZDLG1DQUFtQyw2REFBNkQsc0ZBQXNGLEtBQUssdUNBQXVDLDJFQUEyRSxrQkFBa0Isb0RBQW9ELDRGQUE0RixzSEFBc0gsK0NBQStDLHFFQUFxRSxrQkFBa0IscUdBQXFHLGtCQUFrQixxR0FBcUcsZ0JBQWdCLDBHQUEwRyxnQkFBZ0IsMEdBQTBHLHNGQUFzRixjQUFjLHdCQUF3QixjQUFjLDBEQUEwRCxnREFBZ0QsMkVBQTJFLEtBQUssTUFBTSx3RkFBd0YsS0FBSyx1Q0FBdUMsMEhBQTBILHNCQUFzQixpRkFBaUYseUZBQXlGLDBJQUEwSSxLQUFLLGtCQUFrQiw0REFBNEQsa0JBQWtCLDREQUE0RCxnQkFBZ0IsaURBQWlELGdCQUFnQixpREFBaUQsZUFBZSxlQUFlLGFBQWEsNkJBQTZCLElBQUksb0RBQW9ELHlEQUF5RCxVQUFVLFlBQVksdUJBQXVCLGNBQWMsYUFBYSxtQ0FBbUMsNkJBQTZCLDJCQUEyQiwwQ0FBMEMsR0FBRyxnQ0FBZ0MscUJBQXFCLFlBQVksV0FBVyxpR0FBaUcsc0JBQXNCLDBCQUEwQixnR0FBZ0csVUFBVSxhQUFhLDBCQUEwQixpQ0FBaUMsbUJBQW1CLHdCQUF3QixvQkFBb0IsdUJBQXVCLDRCQUE0QixjQUFjLGFBQWEsUUFBUSxxQkFBcUIsb0JBQW9CLFdBQVcsZ0hBQWdILFNBQVMsd0JBQXdCLGtCQUFrQiwwQkFBMEIsSUFBSSx1U0FBdVMsK0hBQStILHlCQUF5QixvQkFBb0IsV0FBVyx5U0FBeVMsWUFBWSxnQkFBZ0IsYUFBYSxVQUFVLHlDQUF5QyxTQUFTLHFCQUFxQixJQUFJLFlBQVksYUFBYSx5QkFBeUIsZ0JBQWdCLFVBQVUsVUFBVSxvQkFBb0IsOENBQThDLFlBQVksWUFBWSxvQ0FBb0MsaUJBQWlCLGVBQWUsdUJBQXVCLG9CQUFvQixxQkFBcUIsV0FBVyxZQUFZLFNBQVMsRUFBRSxtQkFBbUIsV0FBVyxpQkFBaUIsR0FBRyxxQkFBcUIsb0JBQW9CLCtDQUErQyw0QkFBNEIsa0JBQWtCLGlDQUFpQyxhQUFhLDZCQUE2QixrQkFBa0IsaUNBQWlDLGFBQWEsK0JBQStCLHlCQUF5QixtQ0FBbUMsb0JBQW9CLHVDQUF1Qyx5QkFBeUIsb0NBQW9DLHdCQUF3QixjQUFjLEtBQUssU0FBUyw0Q0FBNEMsVUFBVSxTQUFTLHFEQUFxRCxZQUFZLHFDQUFxQywrQ0FBK0MsVUFBVSw0Q0FBNEMsS0FBSywwRkFBMEYsVUFBVSxpQkFBaUIsd0JBQXdCLEVBQUUsVUFBVSx3QkFBd0IsRUFBRSxrQ0FBa0MsMENBQTBDLGlGQUFpRixHQUFHLHFCQUFxQix3QkFBd0IsMkNBQTJDLEdBQUcscUJBQXFCLGdDQUFnQyxvREFBb0QsZ0NBQWdDLDRCQUE0QiwrQkFBK0IsT0FBTyxtQkFBbUIsOEJBQThCLDRCQUE0QixpQ0FBaUMsOEJBQThCLCtCQUErQixzQ0FBc0MsK0JBQStCLDBDQUEwQyw2QkFBNkIsb0NBQW9DLDZCQUE2QixvQ0FBb0MsNkJBQTZCLGdDQUFnQywrQkFBK0IsOENBQThDLGtDQUFrQyxvQkFBb0IsNkJBQTZCLGdDQUFnQyxrQ0FBa0Msc0JBQXNCLHdCQUF3QixxQkFBcUIsOEJBQThCLHFCQUFxQiw4QkFBOEIscUJBQXFCLDBCQUEwQix1QkFBdUIsMkhBQTJILGlHQUFpRyx1QkFBdUIsYUFBYSxFQUFFLFVBQVUscUJBQXFCLGdDQUFnQyw2RUFBNkUsWUFBWSxXQUFXLHdDQUF3QyxrREFBa0QsRUFBRSxVQUFVLHFCQUFxQixhQUFhLGlCQUFpQix3QkFBd0Isc0JBQXNCLCtKQUErSixtQkFBbUIscUNBQXFDLDJCQUEyQiw4RUFBOEUsRUFBRSxFQUFFLG9HQUFvRyxxQkFBcUIsZ0xBQWdMLGdCQUFnQix3Q0FBd0Msb0NBQW9DLHlDQUF5QyxlQUFlLHVGQUF1RixRQUFRLDhDQUE4QyxpQkFBaUIsOENBQThDLGlCQUFpQixhQUFhLDhDQUE4QyxpQkFBaUIsaUNBQWlDLG9FQUFvRSxpREFBaUQsbUJBQW1CLG1KQUFtSix3RkFBd0YsOENBQThDLDRDQUE0QywyQ0FBMkMsb0ZBQW9GLDRDQUE0QyxtTkFBbU4sTUFBTSxRQUFRLGtCQUFrQix1R0FBdUcsbUNBQW1DLEtBQUsscUJBQXFCLG1EQUFtRCx3QkFBd0IsS0FBSyxxQkFBcUIsa0RBQWtELFFBQVEscUNBQXFDLHNCQUFzQixjQUFjLCtCQUErQix1RkFBdUYsOEJBQThCLHVGQUF1RiwyRUFBMkUsa0JBQWtCLHVCQUF1QixXQUFXLGdDQUFnQyx1QkFBdUIsZ0RBQWdELFNBQVMsZ0JBQWdCLCtDQUErQywrSUFBK0ksZ0JBQWdCLFlBQVksSUFBSSw0QkFBNEIsdUJBQXVCLE1BQU0sd0RBQXdELDhDQUE4Qyw0Q0FBNEMsU0FBUyxzQ0FBc0MsdURBQXVELGNBQWMsd0hBQXdILFNBQVMsb0JBQW9CLHNEQUFzRCxpQkFBaUIsa0NBQWtDLDZEQUE2RCxvQkFBb0IsNEJBQTRCLHNxQkFBc3FCLGdCQUFnQixrQkFBa0IsTUFBTSx1SEFBdUgseUVBQXlFLCtCQUErQiwyREFBMkQsU0FBUyxxQ0FBcUMsNERBQTRELFNBQVMsbURBQW1ELFFBQVEsa0JBQWtCLGtHQUFrRyxrQkFBa0IsNkhBQTZILGtCQUFrQixtSUFBbUksa0JBQWtCLGlHQUFpRyxrQkFBa0IsaUlBQWlJLGtCQUFrQiwySEFBMkgsc0JBQXNCLDBCQUEwQiw0Q0FBNEMsMkJBQTJCLGtDQUFrQyxpQkFBaUIsK0ZBQStGLG9TQUFvUyxNQUFNLHVLQUF1SywyRUFBMkUsb0JBQW9CLGVBQWUsaUNBQWlDLGlDQUFpQyxpR0FBaUcsd0JBQXdCLDBCQUEwQiwyQ0FBMkMsMkJBQTJCLHVFQUF1RSwwQkFBMEIsMkRBQTJELHVCQUF1QixRQUFRLElBQUksNERBQTRELGNBQWMsZ0JBQWdCLGdCQUFnQix1RUFBdUUsMkJBQTJCLG9CQUFvQixlQUFlLEtBQUssRUFBRSwrRUFBK0UscUJBQXFCLHlIQUF5SCwrQ0FBK0MsK0NBQStDLHlGQUF5RixtRkFBbUYsY0FBYyxrR0FBa0csNkJBQTZCLGtHQUFrRyxpQkFBaUIseUNBQXlDLGlCQUFpQixPQUFPLHVTQUF1UyxnQ0FBZ0Msa0JBQWtCLGlCQUFpQixRQUFRLElBQUksNEJBQTRCLFlBQVksMEVBQTBFLGlCQUFpQixRQUFRLElBQUkseUJBQXlCLG1FQUFtRSxrQ0FBa0MsaUNBQWlDLDZFQUE2RSxnREFBZ0Qsb0NBQW9DLGdDQUFnQyx1Q0FBdUMsT0FBTywrQkFBK0IscUNBQXFDLHVCQUF1QixnRkFBZ0YsbUJBQW1CLG1DQUFtQywyQkFBMkIsNkJBQTZCLGtCQUFrQixpQ0FBaUMsYUFBYSw2QkFBNkIsa0JBQWtCLGlDQUFpQyxhQUFhLCtCQUErQixpQkFBaUIsMENBQTBDLDRHQUE0RyxRQUFRLElBQUksS0FBSyxzQkFBc0IsNERBQTRELDRDQUE0QywwQkFBMEIsaUZBQWlGLHFDQUFxQyx5Q0FBeUMsUUFBUSxJQUFJLGdEQUFnRCxrQ0FBa0MsdUJBQXVCLGtDQUFrQyxrQkFBa0Isb0NBQW9DLG1DQUFtQyw2Q0FBNkMseURBQXlELHNKQUFzSixxQ0FBcUMsNENBQTRDLFlBQVksSUFBSSwwQkFBMEIsd0RBQXdELG1CQUFtQix1Q0FBdUMsNkJBQTZCLFFBQVEsSUFBSSxpQkFBaUIsY0FBYyxPQUFPLG1DQUFtQyxrQkFBa0IsVUFBVSxzRUFBc0UsSUFBSSxvREFBb0QsYUFBYSxFQUFFLDZFQUE2RSxxQkFBcUIsc0JBQXNCLHVJQUF1SSxzQkFBc0IsZ0NBQWdDLHVFQUF1RSxrQ0FBa0MsdUJBQXVCLDRFQUE0RSxvQkFBb0IscUNBQXFDLDBCQUEwQix1Q0FBdUMsbUJBQW1CLG9DQUFvQyxzQ0FBc0Msd0RBQXdELDBDQUEwQyxvREFBb0QsbUNBQW1DLHNCQUFzQixxQ0FBcUMsNkJBQTZCLGtEQUFrRCxtQkFBbUIsK0RBQStELG9FQUFvRSxLQUFLLHNIQUFzSCxzQkFBc0Isc0NBQXNDLG1CQUFtQiwrUUFBK1EsdUNBQXVDLHdFQUF3RSwyQ0FBMkMsMkVBQTJFLGlDQUFpQyxtQkFBbUIsc0RBQXNELGtDQUFrQyxtQkFBbUIsc0RBQXNELG9DQUFvQyx3R0FBd0cscUNBQXFDLHdHQUF3Ryw4Q0FBOEMsMEhBQTBILCtDQUErQywwSEFBMEgsa0RBQWtELDBIQUEwSCxnREFBZ0QseUhBQXlILGlEQUFpRCx5SEFBeUgsMkNBQTJDLGlIQUFpSCw0Q0FBNEMsaUhBQWlILDZDQUE2QyxnSEFBZ0gsOENBQThDLGdIQUFnSCx3Q0FBd0Msd0dBQXdHLHlDQUF5QyxtQkFBbUIsdUJBQXVCLG9DQUFvQyxtQkFBbUIsdUNBQXVDLDRDQUE0QyxLQUFLLHlFQUF5RSw0QkFBNEIsK0JBQStCLG1CQUFtQixxQkFBcUIscUJBQXFCLHFCQUFxQiwwREFBMEQscUNBQXFDLG1CQUFtQixhQUFhLHFCQUFxQixxQkFBcUIsa0JBQWtCLHFCQUFxQixxQkFBcUIsa0JBQWtCLHFCQUFxQixxQkFBcUIsU0FBUyxvREFBb0QsNEJBQTRCLG1EQUFtRCwwQ0FBMEMsdURBQXVELG1CQUFtQiw4TUFBOE0sYUFBYSxFQUFFLFVBQVUsc0JBQXNCLFlBQVksWUFBWSxPQUFPLHlCQUF5QiwyQ0FBMkMsOENBQThDLGdEQUFnRCxnQ0FBZ0MscUdBQXFHLGlDQUFpQyx3QkFBd0Isa0NBQWtDLEdBQUcsc0JBQXNCLGNBQWMsZ0JBQWdCLFVBQVUsV0FBVyxxQkFBcUIsbUJBQW1CLG1DQUFtQyxzQ0FBc0MsaUNBQWlDLHNCQUFzQiw4QkFBOEIsR0FBRyxFQUFFLEdBQUcsU0FBUyx3R0FBd0csZ0JBQWdCLGFBQWEsY0FBYyxhQUFhLHNDQUFzQyxTQUFTLEVBQUUsd0JBQXdCLG1DQUFtQyxZQUFZLElBQUksOENBQThDLDhCQUE4QixxQkFBcUIscVhBQXFYLDhCQUE4QixNQUFNLHVEQUF1RCxxREFBcUQsUUFBUSxJQUFJLHVDQUF1QyxLQUFLLHVCQUF1QixRQUFRLElBQUksa0NBQWtDLEtBQUssWUFBWSxZQUFZLElBQUksaUJBQWlCLDhDQUE4QyxvQkFBb0IscU5BQXFOLG9CQUFvQixVQUFVLG9WQUFvVixvQ0FBb0MsK0NBQStDLGVBQWUsR0FBRyxvSkFBb0osK0hBQStILElBQUkseUJBQXlCLDhGQUE4RixPQUFPLE1BQU0sZ0JBQWdCLDJCQUEyQixpRUFBaUUsSUFBSSxvREFBb0QsUUFBUSx3TEFBd0wsWUFBWSw4QkFBOEIsZ0NBQWdDLHNCQUFzQixFQUFFLG9CQUFvQixJQUFJLG9CQUFvQix3REFBd0QsSUFBSSx5QkFBeUIsb0JBQW9CLHVCQUF1QixNQUFNLGdCQUFnQixnREFBZ0QsVUFBVSxNQUFNLHdCQUF3QixJQUFJLG9CQUFvQiw0REFBNEQsSUFBSSx1QkFBdUIsb0JBQW9CLElBQUksZ0JBQWdCLGVBQWUsSUFBSSxlQUFlLDRDQUE0QyxTQUFTLGtDQUFrQyxvSEFBb0gsdUlBQXVJLElBQUksS0FBSywwUUFBMFEsUUFBUSxJQUFJLGNBQWMsY0FBYyxHQUFHLGtDQUFrQyxLQUFLLHdEQUF3RCx3QkFBd0IsYUFBYSxJQUFJLGNBQWMsU0FBUyxvREFBb0Qsb0JBQW9CLGVBQWUsVUFBVSxRQUFRLElBQUksY0FBYyxhQUFhLDhDQUE4QyxpQkFBaUIscUNBQXFDLE9BQU8sa0JBQWtCLDZDQUE2QyxtQkFBbUIsME9BQTBPLElBQUksR0FBRyxlQUFlLFdBQVcsaUVBQWlFLHVDQUF1QyxRQUFRLHFCQUFxQixVQUFVLEtBQUssRUFBRSxTQUFTLHVLQUF1SyxNQUFNLGdCQUFnQixJQUFJLGlEQUFpRCw4R0FBOEcsSUFBSSxZQUFZLFlBQVksSUFBSSx3QkFBd0Isc0dBQXNHLEdBQUcsMEJBQTBCLElBQUksZUFBZSxXQUFXLFFBQVEsbUJBQW1CLEVBQUUsaUJBQWlCLElBQUksdUJBQXVCLG9CQUFvQixZQUFZLElBQUksc0JBQXNCLDhDQUE4QyxJQUFJLGlCQUFpQixRQUFRLElBQUksb0JBQW9CLHFCQUFxQixLQUFLLGVBQWUsSUFBSSwyQkFBMkIsaURBQWlELFFBQVEsSUFBSSxjQUFjLFFBQVEsTUFBTSxLQUFLLG1FQUFtRSx1REFBdUQsSUFBSSxjQUFjLHFDQUFxQyxNQUFNLFFBQVEsSUFBSSxjQUFjLFNBQVMsWUFBWSxRQUFRLFVBQVUsbUNBQW1DLFdBQVcsc0NBQXNDLFVBQVUsZ0JBQWdCLGFBQWEsc0NBQXNDLFNBQVMsMEJBQTBCLDBHQUEwRyxnQkFBZ0IsbUJBQW1CLG1CQUFtQiwwQ0FBMEMsb0NBQW9DLG1DQUFtQyx1SkFBdUosbUNBQW1DLGlDQUFpQyxvVEFBb1QscUNBQXFDLHVCQUF1Qiw2SEFBNkgseUJBQXlCLEVBQUUsRUFBRSxtQ0FBbUMsMkdBQTJHLHFGQUFxRixtQ0FBbUMsZ0VBQWdFLFdBQVcsZ0NBQWdDLDZEQUE2RCxtQ0FBbUMsOERBQThELFdBQVcsOEJBQThCLDhIQUE4SCxvQ0FBb0Msa0NBQWtDLFdBQVcsOEJBQThCLFNBQVMsb0NBQW9DLGtCQUFrQix1RkFBdUYsbUNBQW1DLHlDQUF5QyxXQUFXLHNDQUFzQyw2Q0FBNkMsbUNBQW1DLHdDQUF3QyxXQUFXLG9DQUFvQyw2Q0FBNkMseUNBQXlDLDJCQUEyQixvQkFBb0IsY0FBYyxhQUFhLHNDQUFzQyxTQUFTLDZQQUE2UCx5S0FBeUsscURBQXFELHdCQUF3QixvQkFBb0IsdUZBQXVGLGVBQWUsbUJBQW1CLGFBQWEsb0JBQW9CLG1JQUFtSSxrQkFBa0Isc0NBQXNDLElBQUkseUNBQXlDLG1CQUFtQixRQUFRLElBQUksS0FBSyw2QkFBNkIsVUFBVSxpQkFBaUIseUJBQXlCLGVBQWUsbUNBQW1DLDhFQUE4RSxpQ0FBaUMsa0dBQWtHLEtBQUssaUNBQWlDLDZDQUE2QyxVQUFVLGlFQUFpRSxrRUFBa0UsY0FBYyxxRUFBcUUsK1FBQStRLHFDQUFxQyw2SUFBNkksc0JBQXNCLHNDQUFzQyxpQkFBaUIsMkJBQTJCLHNDQUFzQyw2REFBNkQsaUZBQWlGLG9CQUFvQixzQkFBc0Isd0ZBQXdGLGlCQUFpQixXQUFXLG9CQUFvQix5Q0FBeUMsb0NBQW9DLCtDQUErQyxXQUFXLEtBQUssaUJBQWlCLDJCQUEyQixTQUFTLHFDQUFxQyxnRUFBZ0UsV0FBVyxLQUFLLGtCQUFrQix3QkFBd0IsVUFBVSxnQkFBZ0IsYUFBYSxzQ0FBc0MsU0FBUyw0QkFBNEIsZ0hBQWdILGdCQUFnQiw0QkFBNEIsZ0dBQWdHLGtDQUFrQyxtR0FBbUcsZ0JBQWdCLFdBQVcsUUFBUSxXQUFXLGlCQUFpQix3Q0FBd0MsTUFBTSxrQkFBa0IsMEZBQTBGLHdDQUF3QyxpQ0FBaUMsV0FBVyxRQUFRLFdBQVcsS0FBSyxzQ0FBc0MsVUFBVSxTQUFTLFFBQVEsV0FBVyxLQUFLLFdBQVcsbUNBQW1DLDhCQUE4QixXQUFXLEtBQUssK0JBQStCLGdGQUFnRixtQkFBbUIsVUFBVSxnQkFBZ0IsNkJBQTZCLHVCQUF1QiwwQ0FBMEMsUUFBUSxXQUFXLHdDQUF3QyxpQkFBaUIsd0JBQXdCLGdCQUFnQixhQUFhLHNDQUFzQyxTQUFTLHVCQUF1QixzSkFBc0osa0JBQWtCLDJFQUEyRSxtRkFBbUYsb0JBQW9CLGlEQUFpRCxrRUFBa0UsMENBQTBDLHVJQUF1SSxnRUFBZ0UseUJBQXlCLGdDQUFnQyx3REFBd0QsOERBQThELDJDQUEyQyxRQUFRLHdFQUF3RSw0QkFBNEIsc0NBQXNDLGdDQUFnQyxrQ0FBa0MscUJBQXFCLDJEQUEyRCxRQUFRLHlFQUF5RSw0QkFBNEIsc0NBQXNDLGdDQUFnQyxrQ0FBa0MsK0JBQStCLG1GQUFtRixRQUFRLEtBQUssMEhBQTBILGtCQUFrQixpSUFBaUksV0FBVywwQ0FBMEMsYUFBYSxvSUFBb0ksUUFBUSwrQkFBK0IsT0FBTyw0Q0FBNEMsNEJBQTRCLG1FQUFtRSw0QkFBNEIsdUJBQXVCLHFHQUFxRywyRUFBMkUsc0JBQXNCLCtDQUErQyxXQUFXLDhFQUE4RSxXQUFXLEtBQUssNEhBQTRILG9TQUFvUyxpQkFBaUIsZ0JBQWdCLHFDQUFxQyxtREFBbUQsU0FBUyx1QkFBdUIsd0dBQXdHLGtCQUFrQiw4QkFBOEIsa0JBQWtCLHVDQUF1QyxlQUFlLGFBQWEsc0NBQXNDLFNBQVMsa0JBQWtCLDZIQUE2SCxxQkFBcUIsWUFBWSwrQkFBK0IsOEJBQThCLG1EQUFtRCxpQkFBaUIsK0JBQStCLDZEQUE2RCxnQ0FBZ0MsK0RBQStELCtCQUErQiw4REFBOEQsY0FBYyxrSkFBa0osa0JBQWtCLCtGQUErRix5QkFBeUIsWUFBWSxPQUFPLEtBQUssMkNBQTJDLCtDQUErQyxrQkFBa0IsK0ZBQStGLHdCQUF3QixZQUFZLE9BQU8sS0FBSywyQ0FBMkMsK0NBQStDLGdCQUFnQiw4RUFBOEUsSUFBSSxLQUFLLDZCQUE2QixjQUFjLHNJQUFzSSxTQUFTLGdCQUFnQixhQUFhLHFDQUFxQyxXQUFXLGtQQUFrUCxrQkFBa0IsZ0JBQWdCLHFCQUFxQixXQUFXLEtBQUssMENBQTBDLHNIQUFzSCxnQkFBZ0IsMkZBQTJGLHlFQUF5RSxnQkFBZ0IscUlBQXFJLCtFQUErRSxjQUFjLGdOQUFnTixnREFBZ0QsZ0JBQWdCLHdLQUF3SyxJQUFJLGdFQUFnRSxXQUFXLGdCQUFnQix1V0FBdVcsNEJBQTRCLGFBQWEsa0NBQWtDLHNCQUFzQix1REFBdUQsNEJBQTRCLGVBQWUsdUNBQXVDLDhCQUE4QiwyQkFBMkIseUJBQXlCLDJDQUEyQywrQkFBK0Isa0NBQWtDLCtCQUErQixrRkFBa0YsbURBQW1ELGdCQUFnQixpQkFBaUIsK0JBQStCLFlBQVksSUFBSSwyQ0FBMkMsMEJBQTBCLEdBQUcsb0NBQW9DLFdBQVcsc0JBQXNCLG1CQUFtQixpREFBaUQsU0FBUyxnQ0FBZ0MsdUNBQXVDLHVDQUF1QyxrQ0FBa0MsZ0JBQWdCLG1DQUFtQyxvREFBb0QseUNBQXlDLG9EQUFvRCxvREFBb0Qsc0JBQXNCLEtBQUssc0JBQXNCLG9JQUFvSSw0Q0FBNEMsWUFBWSxzQkFBc0IsS0FBSyxnQ0FBZ0MseUNBQXlDLHdHQUF3RyxnVEFBZ1QseUNBQXlDLG9DQUFvQyw0REFBNEQsZ0pBQWdKLG9EQUFvRCxpQkFBaUIsc0JBQXNCLEtBQUssZ0NBQWdDLHlDQUF5Qyx3R0FBd0csaVpBQWlaLFNBQVMsOENBQThDLFlBQVksc0JBQXNCLEtBQUssZ0NBQWdDLHlDQUF5Qyx3R0FBd0csdVRBQXVULHlDQUF5QyxxQkFBcUIseUNBQXlDLGtFQUFrRSxpQ0FBaUMsNEJBQTRCLHNPQUFzTyw0RUFBNEUsa0ZBQWtGLHVDQUF1Qyw0QkFBNEIsb0dBQW9HLDBGQUEwRixrQ0FBa0MsNEJBQTRCLDBHQUEwRyxrQ0FBa0MsNEJBQTRCLGtEQUFrRCxvQ0FBb0Msa0RBQWtELGlCQUFpQixvRkFBb0Ysd0NBQXdDLGdEQUFnRCxnREFBZ0Qsd0dBQXdHLCtJQUErSSxvR0FBb0csaURBQWlELDJEQUEyRCxrS0FBa0ssbUVBQW1FLG9HQUFvRyw2Q0FBNkMsaUVBQWlFLHNNQUFzTSw4QkFBOEIsa0VBQWtFLGtEQUFrRCxzRkFBc0YsZ1VBQWdVLFFBQVEscUJBQXFCLG1MQUFtTCxNQUFNLDBDQUEwQyxpRUFBaUUsa0RBQWtELHlHQUF5RyxZQUFZLGtDQUFrQywwQkFBMEIsNERBQTRELHVDQUF1QyxZQUFZLHVDQUF1Qyx1Q0FBdUMsZ0pBQWdKLG1CQUFtQixnRkFBZ0YsNENBQTRDLGlCQUFpQiw0REFBNEQsMFFBQTBRLFFBQVEscUJBQXFCLHNEQUFzRCxzRkFBc0Ysc0NBQXNDLGdCQUFnQixxREFBcUQsa0hBQWtILGtCQUFrQixhQUFhLFdBQVcsRUFBRSxvREFBb0QsbUJBQW1CLDBCQUEwQiwwQ0FBMEMsU0FBUyxJQUFJLGlFQUFpRSxvRUFBb0UsV0FBVyxLQUFLLGtDQUFrQywrQ0FBK0Msb0ZBQW9GLFVBQVUsd0xBQXdMLFdBQVcsd0NBQXdDLE1BQU0sNkVBQTZFLE1BQU0sOEhBQThILFdBQVcsd0NBQXdDLE1BQU0sbUVBQW1FLFdBQVcsd0NBQXdDLE1BQU0sbUVBQW1FLFdBQVcsd0NBQXdDLE1BQU0sMkhBQTJILFdBQVcscUlBQXFJLE1BQU0sMkhBQTJILFdBQVcsbUpBQW1KLE1BQU0sMkhBQTJILFdBQVcsd0dBQXdHLE1BQU0sMEhBQTBILFdBQVcsc0hBQXNILE1BQU0sMkhBQTJILFdBQVcsTUFBTSxtSEFBbUgsNkZBQTZGLE1BQU0scUNBQXFDLGdHQUFnRyxxREFBcUQsb0NBQW9DLHNDQUFzQyxrREFBa0QsbUJBQW1CLG1GQUFtRixXQUFXLGtDQUFrQyxXQUFXLEtBQUssd0JBQXdCLHNEQUFzRCxTQUFTLDhCQUE4Qiw2REFBNkQsWUFBWSxnQkFBZ0IsYUFBYSxzQ0FBc0MsU0FBUyx5QkFBeUIscUNBQXFDLDRFQUE0RSxxQ0FBcUMsZ0lBQWdJLFlBQVksV0FBVyxLQUFLLHNDQUFzQywwREFBMEQsa0NBQWtDLGdDQUFnQyxxQ0FBcUMsK0JBQStCLE1BQU0scURBQXFELFlBQVksV0FBVyxLQUFLLGlEQUFpRCx5RkFBeUYsNkJBQTZCLDhCQUE4Qix3Q0FBd0MsZ0NBQWdDLHdDQUF3QyxvQ0FBb0Msa0NBQWtDLGlDQUFpQywwQ0FBMEMsNENBQTRDLDBDQUEwQyw0Q0FBNEMsOEJBQThCLDJFQUEyRSxtQ0FBbUMsZ0RBQWdELGtEQUFrRCxTQUFTLDBCQUEwQiw2RkFBNkYsNEJBQTRCLEtBQUssd0NBQXdDLGNBQWMsbUhBQW1ILHFCQUFxQixzRkFBc0Ysc0JBQXNCLFdBQVcsS0FBSyxpQ0FBaUMsc0NBQXNDLFNBQVMsd0NBQXdDLDRCQUE0Qiw2QkFBNkIsMEJBQTBCLGtGQUFrRixLQUFLLGlDQUFpQyw0REFBNEQsV0FBVyxLQUFLLFdBQVcsa0VBQWtFLHVCQUF1QiwrQkFBK0IscUNBQXFDLFdBQVcsMkZBQTJGLFVBQVUsU0FBUyxtQkFBbUIsZ0JBQWdCLGFBQWEsc0NBQXNDLFNBQVMsdUJBQXVCLDBDQUEwQyw0QkFBNEIsb0lBQW9JLDRQQUE0UCwwSEFBMEgsOEJBQThCLGdCQUFnQixhQUFhLHNDQUFzQyxTQUFTLHVDQUF1QyxzS0FBc0sscURBQXFELHlCQUF5QixRQUFRLFFBQVEsUUFBUSw0Q0FBNEMsZ0NBQWdDLDBCQUEwQiwwQkFBMEIscUVBQXFFLCtDQUErQyx1QkFBdUIsa0NBQWtDLDROQUE0TixXQUFXLGlDQUFpQyxvQkFBb0IsaU1BQWlNLHdCQUF3QixpQkFBaUIsOEZBQThGLGtDQUFrQyxTQUFTLHdEQUF3RCxrQ0FBa0MsaUJBQWlCLGlCQUFpQixtRUFBbUUsa0JBQWtCLHdJQUF3SSxrQ0FBa0MsaUJBQWlCLG1CQUFtQixtRUFBbUUsa0JBQWtCLHNIQUFzSCxrQkFBa0IsY0FBYyxpQkFBaUIsY0FBYyxpQkFBaUIsdUJBQXVCLG9EQUFvRCx1QkFBdUIsZ0JBQWdCLGFBQWEsc0NBQXNDLFNBQVMsdUJBQXVCLHdCQUF3QiwwQkFBMEIsOE1BQThNLDBCQUEwQiwrQkFBK0IsNkRBQTZELGlCQUFpQixLQUFLLGlCQUFpQiwrRUFBK0UsbUJBQW1CLDJFQUEyRSw2SUFBNkksS0FBSyx5Q0FBeUMsV0FBVyxLQUFLLFdBQVcsd0NBQXdDLFdBQVcsMkJBQTJCLHdJQUF3SSxZQUFZLFdBQVcsNklBQTZJLFVBQVUsZ0JBQWdCLGFBQWEsc0NBQXNDLFNBQVMsa0pBQWtKLDREQUE0RCx3QkFBd0IsMEtBQTBLLDJCQUEyQixlQUFlLFNBQVMsRUFBRSxVQUFVLDhCQUE4QixnREFBZ0QsY0FBYywyQ0FBMkMsa0JBQWtCLDZDQUE2QyxZQUFZLDJCQUEyQiw0QkFBNEIsRUFBRSxFQUFFLGdCQUFnQiw0QkFBNEIsd0RBQXdELG9DQUFvQyxHQUFHLHlCQUF5QixTQUFTLGVBQWUsaUJBQWlCLGNBQWMsdUJBQXVCLGtCQUFrQixHQUFHLG1CQUFtQix1QkFBdUIsMENBQTBDLGlDQUFpQyxHQUFHLHNDQUFzQyxpQkFBaUIsV0FBVyw0Q0FBNEMsR0FBRyxhQUFhLFNBQVMsRUFBRSx1Q0FBdUMsRUFBRSxFQUFFLHNCQUFzQix3REFBd0QsR0FBRywyQkFBMkIsSUFBSSxNQUFNLGlCQUFpQix1QkFBdUIsSUFBSSxzRkFBc0YsdUJBQXVCLDRDQUE0QyxHQUFHLFdBQVcsc0NBQXNDLGlCQUFpQiw2QkFBNkIsR0FBRyxZQUFZLFdBQVcsc0RBQXNELHFCQUFxQixzQ0FBc0MsMEJBQTBCLCtCQUErQiw2QkFBNkIsV0FBVyxLQUFLLGdDQUFnQyxXQUFXLDBDQUEwQyxhQUFhLG1DQUFtQywwQkFBMEIsMENBQTBDLFdBQVcsS0FBSyxpQ0FBaUMsc01BQXNNLHVCQUF1Qix3Q0FBd0MsMEJBQTBCLHdDQUF3QywwQkFBMEIsNENBQTRDLEdBQUcsdUNBQXVDLHlEQUF5RCxXQUFXLEtBQUsscURBQXFELFFBQVEsK0VBQStFLEtBQUssbUlBQW1JLCtFQUErRSxLQUFLLGlIQUFpSCxvQ0FBb0MsbUNBQW1DLFdBQVcsS0FBSyxXQUFXLGNBQWMsdUJBQXVCLFdBQVcsS0FBSyxXQUFXLDRIQUE0SCxXQUFXLFNBQVMseUVBQXlFLFNBQVMsWUFBWSw0Q0FBNEMsdUJBQXVCLGtCQUFrQixNQUFNLGNBQWMsYUFBYSxzQ0FBc0MsU0FBUyxFQUFFLE9BQU8scUJBQXFCLDJCQUEyQixpQkFBaUIsY0FBYyxhQUFhLHNDQUFzQyxTQUFTLEVBQUUsa0JBQWtCLElBQUksbUJBQW1CLGlFQUFpRSx3QkFBd0IsV0FBVyw4REFBOEQsbUJBQW1CLGVBQWUsV0FBVyxzQkFBc0IsZ0NBQWdDLElBQUksa0JBQWtCLHFCQUFxQixlQUFlLGdCQUFnQixhQUFhLHNDQUFzQyxTQUFTLG9EQUFvRCw0Q0FBNEMsc0JBQXNCLGlGQUFpRiwwQ0FBMEMsd0JBQXdCLGNBQWMsa0RBQWtELGlDQUFpQyxpQ0FBaUMsMENBQTBDLGlDQUFpQyxpQ0FBaUMsdUNBQXVDLHNCQUFzQix1Q0FBdUMsNkNBQTZDLHVDQUF1QywwQkFBMEIsNElBQTRJLGdEQUFnRCxzRUFBc0UsMElBQTBJLDhHQUE4RyxrQkFBa0IsMkNBQTJDLHNCQUFzQix5QkFBeUIsc0JBQXNCLHNIQUFzSCxTQUFTLDZTQUE2UyxzQ0FBc0MseUNBQXlDLHlEQUF5RCx1RUFBdUUscURBQXFELDRCQUE0Qiw4TUFBOE0scURBQXFELDRCQUE0Qiw0Q0FBNEMsaUVBQWlFLDBDQUEwQyw0Q0FBNEMsaUVBQWlFLDBDQUEwQyxTQUFTLHdLQUF3SyxnRkFBZ0YsTUFBTSxLQUFLLCtIQUErSCwyQ0FBMkMsb0VBQW9FLHNCQUFzQixxREFBcUQsOEZBQThGLGVBQWUsMkRBQTJELGtCQUFrQixtR0FBbUcsV0FBVyxpQkFBaUIsOENBQThDLGdEQUFnRCx3Q0FBd0MsMENBQTBDLG1CQUFtQixrQ0FBa0MsbUJBQW1CLHVEQUF1RCxnQkFBZ0IsYUFBYSxzQ0FBc0MsU0FBUyxlQUFlLGlEQUFpRCxnQ0FBZ0MsdUJBQXVCLGdIQUFnSCxpQ0FBaUMsU0FBUyxtQkFBbUIsWUFBWSw4QkFBOEIsS0FBSyw4REFBOEQsMkNBQTJDLHdCQUF3Qiw0Q0FBNEMsb0VBQW9FLHNDQUFzQyxrQ0FBa0MsZ0dBQWdHLGlDQUFpQywwRUFBMEUsNkVBQTZFLHdCQUF3QiwyQkFBMkIsRUFBRSwyQkFBMkIsS0FBSyxvQ0FBb0MsZ0RBQWdELGdKQUFnSiw4QkFBOEIseUJBQXlCLE9BQU8sZ0RBQWdELGdDQUFnQyxzQkFBc0IsdUNBQXVDLEdBQUcsWUFBWSxXQUFXLHNFQUFzRSxXQUFXLGFBQWEsZ0RBQWdELG1CQUFtQix5QkFBeUIsWUFBWSxPQUFPLFFBQVEsV0FBVyw4QkFBOEIsU0FBUyxnQkFBZ0IsYUFBYSxzQ0FBc0MsU0FBUywwQ0FBMEMsaUpBQWlKLHVCQUF1QixpR0FBaUcsd0NBQXdDLHVDQUF1QyxnRkFBZ0YsNkJBQTZCLG1DQUFtQyxtQkFBbUIsd0JBQXdCLG1FQUFtRSxtQ0FBbUMsUUFBUSx1QkFBdUIsaUJBQWlCLE1BQU0sZUFBZSxtQkFBbUIsaURBQWlELHdEQUF3RCw0RUFBNEUsaUJBQWlCLE1BQU0sZUFBZSxNQUFNLGVBQWUsaURBQWlELG9EQUFvRCx1RkFBdUYsWUFBWSx5QkFBeUIsbUJBQW1CLDRDQUE0Qyw0QkFBNEIseUJBQXlCLHdDQUF3Qyx5QkFBeUIsOENBQThDLFFBQVEsMkJBQTJCLDRRQUE0USx1UUFBdVEsWUFBWSxJQUFJLEtBQUssMElBQTBJLHNPQUFzTyxrT0FBa08sc0RBQXNELGtFQUFrRSxNQUFNLHNEQUFzRCxxTEFBcUwsa0RBQWtELG9FQUFvRSxRQUFRLDRLQUE0SyxLQUFLLGdDQUFnQyxRQUFRLElBQUksd0dBQXdHLHdDQUF3QyxnQkFBZ0IsMERBQTBELHVFQUF1RSx1QkFBdUIsZ0JBQWdCLHNEQUFzRCx1RUFBdUUsdUJBQXVCLFFBQVEsa0RBQWtELEdBQUcsV0FBVyx1Q0FBdUMsR0FBRyxxQkFBcUIsZ05BQWdOLDBCQUEwQixvREFBb0QsMEJBQTBCLHlCQUF5QixtQ0FBbUMsc0dBQXNHLHFDQUFxQyxnREFBZ0QsZ0JBQWdCLHFHQUFxRyxRQUFRLG9DQUFvQyxFQUFFLGVBQWUsd0VBQXdFLFFBQVEsNEZBQTRGLEVBQUUsaUNBQWlDLCtGQUErRixNQUFNLHlCQUF5QixlQUFlLFNBQVMsbUJBQW1CLG1KQUFtSixTQUFTLGtEQUFrRCwwQkFBMEIsRUFBRSxzRUFBc0UsSUFBSSxLQUFLLCtDQUErQyxzQ0FBc0MsMEJBQTBCLEVBQUUsU0FBUyx5QkFBeUIsZ0RBQWdELE9BQU8sc0dBQXNHLGlCQUFpQiwwQkFBMEIsZ0NBQWdDLFdBQVcsK09BQStPLDBCQUEwQix3RkFBd0YsMEJBQTBCLCtFQUErRSxrQkFBa0IsMEJBQTBCLElBQUksdUJBQXVCLHlFQUF5RSxpRkFBaUYseUxBQXlMLDBHQUEwRyw0RkFBNEYsS0FBSyxrSUFBa0kscUNBQXFDLG1OQUFtTiwwQkFBMEIsV0FBVyxpQkFBaUIsMkJBQTJCLG1CQUFtQixRQUFRLFVBQVUsOEJBQThCLGdDQUFnQywwQkFBMEIsMERBQTBELGtCQUFrQiwrQkFBK0IscUNBQXFDLDBCQUEwQixtS0FBbUssMkVBQTJFLDhFQUE4RSxrREFBa0Qsa0VBQWtFLDREQUE0RCxNQUFNLEtBQUssU0FBUyxVQUFVLFdBQVcsb0NBQW9DLHlHQUF5Ryx1RkFBdUYsNENBQTRDLDJDQUEyQyxhQUFhLCtIQUErSCxzTkFBc04sMEJBQTBCLDRFQUE0RSwyQkFBMkIscUNBQXFDLHVDQUF1Qyw0RUFBNEUsbURBQW1ELE9BQU8sNkNBQTZDLGlGQUFpRixJQUFJLFNBQVMsMEdBQTBHLHFCQUFxQiw4QkFBOEIsNkRBQTZELDBEQUEwRCxJQUFJLGtDQUFrQyxXQUFXLGlCQUFpQixjQUFjLHVCQUF1Qix5RUFBeUUsaUZBQWlGLHFHQUFxRyxrQkFBa0IsNEhBQTRILE1BQU0sb0pBQW9KLHdCQUF3QixvREFBb0QsUUFBUSxXQUFXLDZDQUE2Qyx1RkFBdUYsc0dBQXNHLGNBQWMsc0JBQXNCLEVBQUUsU0FBUyxvSEFBb0gsNktBQTZLLDZHQUE2RywwYkFBMGIsc0NBQXNDLFFBQVEsV0FBVyx5QkFBeUIsb0NBQW9DLGlKQUFpSixhQUFhLFNBQVMsdUJBQXVCLDhCQUE4Qiw2REFBNkQsUUFBUSx1QkFBdUIsMERBQTBELElBQUksa0NBQWtDLFdBQVcsaUJBQWlCLEtBQUssWUFBWSxTQUFTLG9FQUFvRSwwQkFBMEIsRUFBRSxjQUFjLDJCQUEyQiw4TEFBOEwsb05BQW9OLFNBQVMsNENBQTRDLGtHQUFrRyxTQUFTLG1CQUFtQixtSUFBbUksU0FBUyxtQkFBbUIsbUlBQW1JLDZDQUE2Qyx1REFBdUQsaUJBQWlCLHFCQUFxQixvU0FBb1MsOENBQThDLGtCQUFrQixrQkFBa0IsOEJBQThCLGtCQUFrQiw4QkFBOEIsMENBQTBDLHFFQUFxRSxZQUFZLFlBQVksMkVBQTJFLG1WQUFtViwwQ0FBMEMsc0hBQXNILGVBQWUsODRCQUE4NEIsOEVBQThFLHVDQUF1Qyw0QkFBNEIsRUFBRSx3REFBd0QsS0FBSyxvU0FBb1MsZ0RBQWdELHdGQUF3RixvQ0FBb0Msa0JBQWtCLDhCQUE4QixrQkFBa0IsOEJBQThCLGtCQUFrQiw4QkFBOEIsa0JBQWtCLDhCQUE4Qiw0RUFBNEUsNEVBQTRFLGtCQUFrQixRQUFRLFlBQVksbWhCQUFtaEIsZ1VBQWdVLDRYQUE0WCwwSkFBMEosNklBQTZJLDRCQUE0Qix1REFBdUQsU0FBUyxzQkFBc0IsZ21CQUFnbUIsOHRPQUE4dE8sK0ZBQStGLHdCQUF3QixhQUFhLGFBQWEsZ0NBQWdDLCtFQUErRSw2Q0FBNkMscUNBQXFDLG9DQUFvQyxnQ0FBZ0MseUNBQXlDLDBDQUEwQyxzRUFBc0Usa0JBQWtCLFNBQVMscUJBQXFCLHNNQUFzTSx3QkFBd0Isc0lBQXNJLHVJQUF1SSxxS0FBcUssNkNBQTZDLDBCQUEwQix5Q0FBeUMsc0lBQXNJLDRCQUE0QixpRUFBaUUsc0pBQXNKLHdCQUF3Qix3RUFBd0UsNkJBQTZCLGFBQWEsVUFBVSxxREFBcUQsa0NBQWtDLGdWQUFnViw4QkFBOEIsa0RBQWtELFdBQVcsS0FBSyxtR0FBbUcsYUFBYSxTQUFTLCtCQUErQiw4Q0FBOEMsdUJBQXVCLFlBQVksV0FBVyxLQUFLLG1HQUFtRyxrQkFBa0IsS0FBSyxZQUFZLFNBQVMsOERBQThELHVCQUF1QixFQUFFLFNBQVMsbURBQW1ELDZKQUE2SixxQkFBcUIsMENBQTBDLGtCQUFrQixVQUFVLFVBQVUsMkZBQTJGLDhIQUE4SCxJQUFJLCtJQUErSSxvQ0FBb0Msd0NBQXdDLHlNQUF5TSxtQkFBbUIscUNBQXFDLFFBQVEsV0FBVyxLQUFLLDhGQUE4RixrQ0FBa0MsZ0VBQWdFLGNBQWMsc0JBQXNCLEVBQUUsS0FBSyxvRUFBb0UsZ0NBQWdDLDBCQUEwQixHQUFHLFNBQVMsOERBQThELFNBQVMsS0FBSywrQkFBK0Isb0VBQW9FLDZCQUE2QixpQkFBaUIsd0RBQXdELDhHQUE4Ryw0QkFBNEIsb0RBQW9ELFFBQVEsK0JBQStCLFdBQVcsS0FBSyxnREFBZ0Qsa0JBQWtCLEtBQUssWUFBWSxTQUFTLDhEQUE4RCx1QkFBdUIsc0dBQXNHLFNBQVMscURBQXFELDhCQUE4QixpRkFBaUYsWUFBWSxXQUFXLHFGQUFxRixLQUFLLFlBQVksU0FBUyxnRUFBZ0Usd0JBQXdCLEVBQUUsbUZBQW1GLHNEQUFzRCxFQUFFLFNBQVMsdURBQXVELGlDQUFpQyxpRkFBaUYsWUFBWSxXQUFXLHFGQUFxRixLQUFLLFlBQVksU0FBUyxnRUFBZ0Usd0JBQXdCLEVBQUUsbUZBQW1GLHNEQUFzRCxFQUFFLFNBQVMscUNBQXFDLDJEQUEyRCw0Q0FBNEMseUhBQXlILHFGQUFxRixJQUFJLHVCQUF1QixJQUFJLEtBQUssaUJBQWlCLGlDQUFpQyxXQUFXLGFBQWEsS0FBSywwQkFBMEIsU0FBUyw0REFBNEQsMEJBQTBCLCtCQUErQixhQUFhLElBQUksNEJBQTRCLFdBQVcsYUFBYSxLQUFLLDBCQUEwQixTQUFTLDREQUE0RCwwQkFBMEIsK0JBQStCLFlBQVksZ0NBQWdDLG1EQUFtRCw0Q0FBNEMscURBQXFELHFCQUFxQixtQkFBbUIsK0ZBQStGLFlBQVksV0FBVyx5U0FBeVMsU0FBUyxlQUFlLGdCQUFnQixhQUFhLHNDQUFzQyxTQUFTLHdCQUF3QixpRkFBaUYsOEpBQThKLGdDQUFnQywwQkFBMEIsZ0JBQWdCLDBDQUEwQyxtRkFBbUYscURBQXFELDJDQUEyQyxrREFBa0Qsb0JBQW9CLGtDQUFrQyxpSkFBaUosK0JBQStCLDhCQUE4Qiw4RUFBOEUsa0ZBQWtGLHdDQUF3Qyx1Q0FBdUMsY0FBYyxZQUFZLHdCQUF3Qix5Q0FBeUMsaUNBQWlDLDRCQUE0QixpQkFBaUIsd0JBQXdCLHlCQUF5QixTQUFTLGtFQUFrRSwwQkFBMEIsaUdBQWlHLGtDQUFrQyx1REFBdUQsMEVBQTBFLG1DQUFtQyxjQUFjLHNCQUFzQixZQUFZLHFCQUFxQixnQkFBZ0IscUJBQXFCLGdEQUFnRCxXQUFXLFdBQVcsUUFBUSxxQkFBcUIsbUNBQW1DLFdBQVcsV0FBVyxRQUFRLHFCQUFxQixxQ0FBcUMsOEJBQThCLHNEQUFzRCxrQkFBa0IsY0FBYyxhQUFhLHNDQUFzQyxTQUFTLEVBQUUsU0FBUyxpQ0FBaUMseURBQXlELHFHQUFxRyxrQ0FBa0MsK0NBQStDLDhDQUE4QyxXQUFXLEtBQUssV0FBVyxNQUFNLHFHQUFxRyxVQUFVLFdBQVcsZ0NBQWdDLHVEQUF1RCxlQUFlLHFCQUFxQixnQkFBZ0IsYUFBYSxzQ0FBc0MsU0FBUyw2Q0FBNkMsZ0NBQWdDLGFBQWEsMkJBQTJCLGlCQUFpQixhQUFhLGFBQWEsOENBQThDLGlCQUFpQixvQkFBb0IsK0NBQStDLG9CQUFvQiwrQ0FBK0MsaUJBQWlCLG1CQUFtQiw2Q0FBNkMsSUFBSSxvQ0FBb0Msd0VBQXdFLHVDQUF1QyxJQUFJLFdBQVcsU0FBUyxzQkFBc0IsdUNBQXVDLG9GQUFvRixpQkFBaUIsaUJBQWlCLHVCQUF1QixJQUFJLFdBQVcsU0FBUywwQkFBMEIscUNBQXFDLHdGQUF3RixvRUFBb0UsbUNBQW1DLHdGQUF3Riw4Q0FBOEMsMEJBQTBCLHlCQUF5Qiw4QkFBOEIsMEJBQTBCLHVDQUF1Qyx3RkFBd0YsOENBQThDLDBCQUEwQix5QkFBeUIsb0JBQW9CLHdCQUF3QixzQ0FBc0Msd0ZBQXdGLHFEQUFxRCxvQkFBb0Isc0JBQXNCLDZDQUE2Qyx3RkFBd0YsbURBQW1ELDhDQUE4QywwQkFBMEIsaURBQWlELHdGQUF3RixtREFBbUQsb0NBQW9DLHdCQUF3QixtQ0FBbUMsNERBQTRELHVEQUF1RCxvQ0FBb0Msd0ZBQXdGLG1FQUFtRSxvQ0FBb0Msc0RBQXNELHFDQUFxQyx3RkFBd0YsOENBQThDLDBCQUEwQiwrQ0FBK0Msb0NBQW9DLHdGQUF3RixpREFBaUQsOENBQThDLDBCQUEwQix1Q0FBdUMsNENBQTRDLFdBQVcsV0FBVyx3SEFBd0gsU0FBUyxVQUFVLGlCQUFpQix3RUFBd0UsNERBQTRELHdDQUF3QyxnQkFBZ0IsYUFBYSxzQ0FBc0MsU0FBUyw0Q0FBNEMsNlNBQTZTLG9TQUFvUyxhQUFhLDRFQUE0RSxlQUFlLGlEQUFpRCxxMkRBQXEyRCxzQ0FBc0MsK0JBQStCLCtCQUErQix5QkFBeUIsZ0RBQWdELCtCQUErQixpQkFBaUIsNkNBQTZDLGdDQUFnQyxrQkFBa0IsMkNBQTJDLCtCQUErQiwrQkFBK0IsaURBQWlELHVDQUF1QyxhQUFhLGlDQUFpQyxhQUFhLFVBQVUscUNBQXFDLEdBQUcsa0RBQWtELDRCQUE0QixvRUFBb0UscUZBQXFGLEdBQUcsNENBQTRDLGtEQUFrRCwyRUFBMkUsNENBQTRDLGtEQUFrRCw0Q0FBNEMsbURBQW1ELDRCQUE0QixnREFBZ0QsaUZBQWlGLEdBQUcsa0RBQWtELFNBQVMsNEJBQTRCLG9FQUFvRSxzQ0FBc0MsNkJBQTZCLGdCQUFnQixHQUFHLFlBQVksV0FBVywyREFBMkQsNENBQTRDLHNDQUFzQyxpREFBaUQsR0FBRyw0Q0FBNEMsc0NBQXNDLGlEQUFpRCxHQUFHLDJDQUEyQywwQkFBMEIsTUFBTSxnREFBZ0QsZ0lBQWdJLDRDQUE0QyxpQkFBaUIsNkNBQTZDLFdBQVcsV0FBVyxxQkFBcUIsK0VBQStFLG1EQUFtRCxxQkFBcUIsYUFBYSxvQ0FBb0Msb0pBQW9KLDZDQUE2QyxRQUFRLGdEQUFnRCxnRUFBZ0UseUNBQXlDLHdDQUF3QyxnQkFBZ0IsYUFBYSx5RUFBeUUsVUFBVSxRQUFRLFVBQVUsUUFBUSxlQUFlLFdBQVcsZ0JBQWdCLFFBQVEsR0FBRyxtQkFBbUIsSUFBSSxtQkFBbUIsSUFBSSxxQkFBcUIsaUJBQWlCLFFBQVEsR0FBRyxtQkFBbUIsSUFBSSxtQkFBbUIsSUFBSSxxQkFBcUIsaUJBQWlCLFVBQVUsc0JBQXNCLFFBQVEsVUFBVSxrS0FBa0ssU0FBUyxPQUFPLHdCQUF3QixXQUFXLDJCQUEyQixPQUFPLHVCQUF1QixXQUFXLDJCQUEyQixpQkFBaUIsaUNBQWlDLHFCQUFxQixxQ0FBcUMsUUFBUSx3QkFBd0IsU0FBUyx5QkFBeUIsVUFBVSwwQkFBMEIsUUFBUSx5QkFBeUIsU0FBUywwQkFBMEIsU0FBUywwQkFBMEIsUUFBUSx5QkFBeUIsVUFBVSwyQkFBMkIsT0FBTywwQkFBMEIsbUJBQW1CLFFBQVEsS0FBSyxtQkFBbUIsT0FBTyxtQkFBbUIsT0FBTyxzQkFBc0IsU0FBUyxVQUFVLFFBQVEsaURBQWlELGNBQWMsUUFBUSxVQUFVLDRCQUE0QixpQkFBaUIsUUFBUSxTQUFTLG1CQUFtQixVQUFVLG1CQUFtQixTQUFTLG1DQUFtQyxTQUFTLG1DQUFtQyxnQkFBZ0IsbUNBQW1DLFVBQVUsbUNBQW1DLFNBQVMsNkJBQTZCLFNBQVMsK0JBQStCLGFBQWEsUUFBUSxRQUFRLDBCQUEwQixPQUFPLDJCQUEyQixTQUFTLDJCQUEyQixRQUFRLG1CQUFtQixjQUFjLG1CQUFtQixTQUFTLDZCQUE2QixTQUFTLCtCQUErQixpQkFBaUIsUUFBUSxRQUFRLDBCQUEwQixPQUFPLDJCQUEyQixTQUFTLDJCQUEyQixjQUFjLG1CQUFtQixTQUFTLDZCQUE2QixTQUFTLCtCQUErQix1QkFBdUIsUUFBUSxRQUFRLDBCQUEwQixPQUFPLDJCQUEyQixjQUFjLDJCQUEyQixjQUFjLG1CQUFtQixRQUFRLG1CQUFtQixjQUFjLG1CQUFtQixTQUFTLDZCQUE2QixTQUFTLCtCQUErQiwyQkFBMkIsUUFBUSxRQUFRLDBCQUEwQixPQUFPLDJCQUEyQixjQUFjLDJCQUEyQixjQUFjLG1CQUFtQixjQUFjLG1CQUFtQixTQUFTLDZCQUE2QixTQUFTLCtCQUErQixjQUFjLFFBQVEsUUFBUSwwQkFBMEIsU0FBUywyQkFBMkIsUUFBUSwyQkFBMkIsU0FBUyw2QkFBNkIsU0FBUywrQkFBK0IsZUFBZSxRQUFRLFFBQVEsMEJBQTBCLFNBQVMsMkJBQTJCLE9BQU8sMkJBQTJCLFNBQVMsNkJBQTZCLFNBQVMsK0JBQStCLGdCQUFnQixRQUFRLFFBQVEsNkJBQTZCLFNBQVMsK0JBQStCLHFCQUFxQixRQUFRLFNBQVMscUdBQXFHLFNBQVMsVUFBVSwyQkFBMkIsT0FBTyx1QkFBdUIsV0FBVywyQkFBMkIsaUJBQWlCLGlDQUFpQyxxQkFBcUIscUNBQXFDLFFBQVEsd0JBQXdCLFNBQVMseUJBQXlCLFFBQVEsMEJBQTBCLGNBQWMsUUFBUSxRQUFRLDBCQUEwQixPQUFPLDJCQUEyQixjQUFjLG1CQUFtQixjQUFjLG1CQUFtQixZQUFZLDJCQUEyQixRQUFRLGlCQUFpQixTQUFTLDZCQUE2QixTQUFTLCtCQUErQixlQUFlLFFBQVEsUUFBUSxtQkFBbUIsUUFBUSxtQ0FBbUMsZ0JBQWdCLG1DQUFtQyxVQUFVLG1DQUFtQyxRQUFRLCtCQUErQixlQUFlLFFBQVEsUUFBUSwwQkFBMEIsU0FBUywyQkFBMkIsU0FBUywyQkFBMkIsUUFBUSwrQkFBK0IsY0FBYyxRQUFRLE9BQU8sK0JBQStCLG1CQUFtQixRQUFRLE9BQU8sNENBQTRDLFNBQVMsUUFBUSx5QkFBeUIsU0FBUyx5QkFBeUIsVUFBVSwwQkFBMEIsT0FBTyx5QkFBeUIsZ0JBQWdCLFFBQVEsUUFBUSwwQkFBMEIsU0FBUywyQkFBMkIsY0FBYywyQkFBMkIsY0FBYyxtQkFBbUIsUUFBUSwrQkFBK0IsYUFBYSxRQUFRLFVBQVUsMEJBQTBCLFlBQVksMkJBQTJCLFFBQVEsK0JBQStCLGtCQUFrQixVQUFVLHVCQUF1QixRQUFRLFdBQVcsNEVBQTRFLFNBQVMsY0FBYywrQkFBK0Isa0JBQWtCLGtDQUFrQyxrQkFBa0Isa0NBQWtDLGdCQUFnQixrQ0FBa0MsYUFBYSxRQUFRLE9BQU8sbUNBQW1DLGFBQWEscUNBQXFDLGVBQWUsUUFBUSxNQUFNLG1CQUFtQixVQUFVLG1CQUFtQixXQUFXLGlCQUFpQixhQUFhLHFDQUFxQyxhQUFhLFFBQVEsU0FBUyxtQkFBbUIsVUFBVSxtQkFBbUIsWUFBWSxtQkFBbUIsUUFBUSw2QkFBNkIsV0FBVyxpQkFBaUIsV0FBVyxtQkFBbUIsYUFBYSxxQ0FBcUMsYUFBYSxRQUFRLE9BQU8sbUNBQW1DLFdBQVcsaUJBQWlCLFdBQVcsbUJBQW1CLGFBQWEscUNBQXFDLGFBQWEsUUFBUSxTQUFTLG1DQUFtQyxhQUFhLHFDQUFxQyxhQUFhLFFBQVEsUUFBUSxtQ0FBbUMsYUFBYSxxQ0FBcUMsY0FBYyxRQUFRLFlBQVksaURBQWlELGFBQWEsaURBQWlELGFBQWEsb0RBQW9ELGNBQWMsUUFBUSxPQUFPLG1DQUFtQyxhQUFhLHFDQUFxQyxpQkFBaUIsUUFBUSxZQUFZLHFDQUFxQyxzQkFBc0IsUUFBUSxVQUFVLHdGQUF3RixTQUFTLE1BQU0sdUJBQXVCLFNBQVMseUJBQXlCLE9BQU8sdUJBQXVCLE9BQU8sdUJBQXVCLE9BQU8sdUJBQXVCLE9BQU8sdUJBQXVCLFFBQVEsd0JBQXdCLFNBQVMseUJBQXlCLE9BQU8sdUJBQXVCLFdBQVcsOEJBQThCLGVBQWUsUUFBUSxXQUFXLG1CQUFtQixXQUFXLG1CQUFtQixhQUFhLHFDQUFxQyxhQUFhLFFBQVEsT0FBTyxtQ0FBbUMsYUFBYSxxQ0FBcUMsaUJBQWlCLFFBQVEsT0FBTyxtQ0FBbUMsYUFBYSxxQ0FBcUMscUJBQXFCLFFBQVEsV0FBVyxtQkFBbUIsY0FBYyxrQkFBa0IsYUFBYSxrQkFBa0IsZUFBZSxvQ0FBb0Msd0JBQXdCLFFBQVEsU0FBUyxvREFBb0Qsd0JBQXdCLFFBQVEsV0FBVyxtQkFBbUIsY0FBYyxtQkFBbUIsYUFBYSxtQkFBbUIsZUFBZSxxQ0FBcUMsc0JBQXNCLFFBQVEsTUFBTSxxQkFBcUIsU0FBUyxRQUFRLFFBQVEsZ1lBQWdZLFNBQVMsSUFBSSxtQkFBbUIsVUFBVSwwQkFBMEIsV0FBVywyQkFBMkIsV0FBVywyQkFBMkIsYUFBYSw2QkFBNkIsUUFBUSx3QkFBd0IsV0FBVywyQkFBMkIsT0FBTyx1QkFBdUIsV0FBVywyQkFBMkIsaUJBQWlCLGtDQUFrQyxxQkFBcUIsc0NBQXNDLFFBQVEseUJBQXlCLFNBQVMsMEJBQTBCLFVBQVUsMkJBQTJCLFFBQVEseUJBQXlCLFNBQVMsMEJBQTBCLFNBQVMsMEJBQTBCLFFBQVEseUJBQXlCLFVBQVUsMkJBQTJCLE9BQU8sd0JBQXdCLFlBQVksNkJBQTZCLE9BQU8sd0JBQXdCLFNBQVMsMEJBQTBCLE9BQU8sd0JBQXdCLE9BQU8sd0JBQXdCLE9BQU8sd0JBQXdCLE9BQU8sd0JBQXdCLFFBQVEseUJBQXlCLFFBQVEseUJBQXlCLFdBQVcsNEJBQTRCLFNBQVMsMEJBQTBCLE9BQU8sd0JBQXdCLFdBQVcsNEJBQTRCLGVBQWUsZ0NBQWdDLGtCQUFrQixtQ0FBbUMsa0JBQWtCLG1DQUFtQyxnQkFBZ0Isd0NBQXdDLEVBQUUsWUFBWSxnQkFBZ0IsYUFBYSxzQ0FBc0MsU0FBUyxrRUFBa0UsNkJBQTZCLG1DQUFtQyxtRUFBbUUsb0JBQW9CLHlEQUF5RCxhQUFhLGNBQWMsZ0JBQWdCLDBDQUEwQyx5RUFBeUUsNkRBQTZELDZCQUE2QixnQkFBZ0IsYUFBYSxzQ0FBc0MsU0FBUywyQkFBMkIsY0FBYyxVQUFVLG1CQUFtQixxQkFBcUIsTUFBTSx3QkFBd0IsWUFBWSxXQUFXLEtBQUssY0FBYyxxQkFBcUIsOEJBQThCLDRDQUE0QyxXQUFXLEtBQUssV0FBVywwQkFBMEIsdUJBQXVCLCtCQUErQiw2Q0FBNkMsV0FBVyxLQUFLLFdBQVcsMEJBQTBCLHdCQUF3QixnQ0FBZ0MsNENBQTRDLFdBQVcsS0FBSyxXQUFXLDJCQUEyQix1QkFBdUIsK0JBQStCLDRDQUE0QyxXQUFXLEtBQUssV0FBVywwQkFBMEIsNkVBQTZFLCtCQUErQiw4Q0FBOEMsV0FBVyxLQUFLLFdBQVcsMEJBQTBCLHlCQUF5QixpQ0FBaUMsbUpBQW1KLCtCQUErQix3REFBd0QsdUNBQXVDLHFIQUFxSCxpQ0FBaUMsK0RBQStELG1DQUFtQyw0Q0FBNEMsV0FBVyxLQUFLLFdBQVcsOEJBQThCLHVCQUF1QiwrQkFBK0IsNENBQTRDLFdBQVcsS0FBSyxXQUFXLDBCQUEwQix1QkFBdUIscUJBQXFCLGdCQUFnQixhQUFhLHNDQUFzQyxTQUFTLG1JQUFtSSx3Q0FBd0MscUJBQXFCLFlBQVksS0FBSyxxQkFBcUIsTUFBTSxTQUFTLFlBQVksS0FBSyxxQkFBcUIsTUFBTSxXQUFXLDhCQUE4QixrQkFBa0Isc0NBQXNDLFVBQVUsNkRBQTZELHVEQUF1RCx1QkFBdUIseUJBQXlCLFNBQVMsb0JBQW9CLGFBQWEsK0JBQStCLFNBQVMsb0NBQW9DLE9BQU8sOEJBQThCLDhCQUE4QixxQkFBcUIsV0FBVyxnQ0FBZ0MsU0FBUyw0Q0FBNEMseURBQXlELHdDQUF3QyxJQUFJLEtBQUssV0FBVyxtRUFBbUUsU0FBUyw0Q0FBNEMsaURBQWlELHlEQUF5RCxJQUFJLEtBQUssZUFBZSwrREFBK0QsT0FBTyxVQUFVLGdCQUFnQixhQUFhLHNDQUFzQyxTQUFTLDRHQUE0Ryx5REFBeUQsZ0RBQWdELFFBQVEsSUFBSSwrQ0FBK0MsOENBQThDLGlDQUFpQyxvREFBb0QsK0JBQStCLFFBQVEsSUFBSSxLQUFLLG1FQUFtRSxXQUFXLG9CQUFvQixpQkFBaUIsNkJBQTZCLElBQUksS0FBSyxnRUFBZ0UsV0FBVyxVQUFVLDRGQUE0Riw0Q0FBNEMsV0FBVyxLQUFLLHFDQUFxQyxNQUFNLEtBQUssWUFBWSxXQUFXLDZFQUE2RSxLQUFLLE9BQU8sVUFBVSxNQUFNLCtDQUErQywyQkFBMkIsZUFBZSxRQUFRLGtDQUFrQyxlQUFlLCtCQUErQix1QkFBdUIsd0JBQXdCLGdDQUFnQyx5Q0FBeUMsS0FBSyx3REFBd0QsaUVBQWlFLHlDQUF5QyxxR0FBcUcsT0FBTywrR0FBK0csWUFBWSxnQkFBZ0IsYUFBYSxzQ0FBc0MsU0FBUyx5RkFBeUYsMENBQTBDLHFDQUFxQyxrQ0FBa0MsMkJBQTJCLHlDQUF5QyxnQ0FBZ0MsS0FBSyxZQUFZLElBQUkseUJBQXlCLEtBQUssSUFBSSxFQUFFLFlBQVksbUJBQW1CLFNBQVMsWUFBWSx1Q0FBdUMsZ0JBQWdCLFFBQVEsSUFBSSw2QkFBNkIsVUFBVSxRQUFRLEtBQUssS0FBSyx3QkFBd0IsS0FBSyxLQUFLLGFBQWEsUUFBUSxJQUFJLG9EQUFvRCxjQUFjLElBQUksK0JBQStCLFdBQVcsY0FBYyxLQUFLLFlBQVksSUFBSSwrQkFBK0IsUUFBUSxVQUFVLDJFQUEyRSxzQkFBc0Isa0dBQWtHLGdDQUFnQyxpQ0FBaUMsNENBQTRDLHdCQUF3QixXQUFXLEtBQUssK0NBQStDLG1CQUFtQix5QkFBeUIsOEJBQThCLDZDQUE2Qyw0QkFBNEIsUUFBUSxXQUFXLHNFQUFzRSxPQUFPLGFBQWEsc0NBQXNDLGtEQUFrRCxXQUFXLFVBQVUsUUFBUSxXQUFXLGFBQWEsaURBQWlELGlCQUFpQixnQ0FBZ0MsZ0JBQWdCLEtBQUssb0JBQW9CLEtBQUssSUFBSSxFQUFFLFlBQVksbUJBQW1CLFNBQVMsZUFBZSxvQkFBb0IsS0FBSyx3QkFBd0IsSUFBSSxVQUFVLGNBQWMsYUFBYSxzQ0FBc0MsU0FBUywwR0FBMEcsNkVBQTZFLDRFQUE0RSw0QkFBNEIsT0FBTyxZQUFZLEtBQUssS0FBSyw4QkFBOEIsZ0JBQWdCLElBQUksS0FBSywyQkFBMkIsMkJBQTJCLE9BQU8sU0FBUyxlQUFlLGdDQUFnQyw2QkFBNkIsVUFBVSwyQkFBMkIseUVBQXlFLE1BQU0sK0JBQStCLGdEQUFnRCwrQkFBK0IsS0FBSywrQkFBK0Isa0JBQWtCLEtBQUssS0FBSyw4QkFBOEIsUUFBUSxRQUFRLElBQUksS0FBSyxzQkFBc0Isd0JBQXdCLDhCQUE4QixVQUFVLFFBQVEsS0FBSyxvQkFBb0IsUUFBUSxLQUFLLEtBQUssWUFBWSxrQkFBa0IsS0FBSyxLQUFLLHNCQUFzQixzRkFBc0YsS0FBSyxpRUFBaUUsK0VBQStFLFlBQVksS0FBSyxLQUFLLFFBQVEsS0FBSyxlQUFlLE9BQU8sVUFBVSwwQ0FBMEMsVUFBVSwyQkFBMkIseUJBQXlCLEtBQUssK0JBQStCLHdCQUF3Qiw4REFBOEQsZUFBZSxxQkFBcUIsUUFBUSxLQUFLLG1DQUFtQyxRQUFRLEtBQUssS0FBSyxjQUFjLG9CQUFvQixLQUFLLHdGQUF3RixhQUFhLEtBQUssdUVBQXVFLGFBQWEsS0FBSyxLQUFLLFdBQVcsUUFBUSxLQUFLLDZFQUE2RSw0QkFBNEIsU0FBUyxFQUFFLGtHQUFrRyx5R0FBeUcsTUFBTSxRQUFRLEtBQUsseUVBQXlFLHlCQUF5QixhQUFhLEtBQUssMkRBQTJELFNBQVMsMEJBQTBCLGNBQWMsYUFBYSxzQ0FBc0MsU0FBUyxFQUFFLG9CQUFvQixpR0FBaUcsR0FBRyxhQUFhLGlCQUFpQiw2SUFBNkksZ0JBQWdCLDJDQUEyQyxzTUFBc00saUJBQWlCLHVCQUF1QiwwQkFBMEIsb0VBQW9FLGtDQUFrQyxJQUFJLG9DQUFvQyxtQ0FBbUMscUJBQXFCLDZGQUE2RixpREFBaUQsS0FBSyx3REFBd0QsNEVBQTRFLG9CQUFvQixzRUFBc0UsMkdBQTJHLGlCQUFpQiwyQkFBMkIsc0JBQXNCLDBCQUEwQixJQUFJLEVBQUUsOENBQThDLHdEQUF3RCxnSkFBZ0osc0JBQXNCLHlFQUF5RSxFQUFFLDJCQUEyQixRQUFRLDhDQUE4QyxXQUFXLFFBQVEsc0JBQXNCLDRDQUE0QyxrQkFBa0IsMkxBQTJMLGdCQUFnQixnQkFBZ0IsYUFBYSxzQ0FBc0MsU0FBUyx1QkFBdUIsd0NBQXdDLDROQUE0TixnQ0FBZ0MsK0hBQStILDhCQUE4QiwwRUFBMEUsOEJBQThCLGdDQUFnQyxrQ0FBa0MsUUFBUSw4SUFBOEksOENBQThDLHFEQUFxRCxXQUFXLDBHQUEwRyxzS0FBc0ssOEJBQThCLGlDQUFpQywrR0FBK0csb0NBQW9DLG9GQUFvRixvQ0FBb0Msb0ZBQW9GLG9DQUFvQyxvRkFBb0YsdUNBQXVDLG9DQUFvQyxtR0FBbUcsbUNBQW1DLGtGQUFrRixtQ0FBbUMseUJBQXlCLG1oQkFBbWhCLG1DQUFtQyxvQkFBb0Isd0JBQXdCLG1HQUFtRyxZQUFZLFdBQVcseUhBQXlILFlBQVkseUNBQXlDLGlGQUFpRixzQ0FBc0MsdUZBQXVGLGtDQUFrQyxnQ0FBZ0Msb0VBQW9FLG9DQUFvQyxnQ0FBZ0MsNENBQTRDLHVDQUF1Qyw0SEFBNEgsc0RBQXNELG1LQUFtSyxvQ0FBb0Msb0pBQW9KLG1EQUFtRCwyTEFBMkwsZ0NBQWdDLGlGQUFpRixpQ0FBaUMsK0dBQStHLGtDQUFrQyxnSkFBZ0osaUJBQWlCLGdCQUFnQixhQUFhLHNDQUFzQyxTQUFTLCtEQUErRCw0Q0FBNEMseUNBQXlDLDRDQUE0QyxXQUFXLGdCQUFnQixjQUFjLEtBQUssa0VBQWtFLE1BQU0sS0FBSyxZQUFZLFdBQVcsK0pBQStKLEtBQUssT0FBTyxVQUFVLE1BQU0sZ0VBQWdFLFNBQVMsc0NBQXNDLFFBQVEsc0NBQXNDLGVBQWUsK0JBQStCLHVCQUF1Qix3QkFBd0IsZ0NBQWdDLHlDQUF5QyxLQUFLLDBEQUEwRCxrR0FBa0csNERBQTRELHNFQUFzRSxrQkFBa0IsMENBQTBDLEtBQUssS0FBSyw0QkFBNEIsS0FBSyxLQUFLLG1CQUFtQiw4VUFBOFUsSUFBSSxVQUFVLGVBQWUsYUFBYSxzQ0FBc0MsU0FBUywwSUFBMEksNENBQTRDLHFDQUFxQyxtQkFBbUIsdUNBQXVDLDRFQUE0RSw4QkFBOEIsS0FBSyxZQUFZLElBQUksWUFBWSxJQUFJLHFDQUFxQyxLQUFLLElBQUksRUFBRSxZQUFZLG1CQUFtQixTQUFTLFlBQVkscUNBQXFDLGdCQUFnQixRQUFRLElBQUksNkJBQTZCLFVBQVUsUUFBUSxLQUFLLEtBQUssd0JBQXdCLEtBQUssS0FBSyxhQUFhLFFBQVEsSUFBSSxZQUFZLElBQUksc0VBQXNFLGNBQWMsSUFBSSxZQUFZLElBQUksMkNBQTJDLFdBQVcsY0FBYyxLQUFLLFlBQVksSUFBSSxZQUFZLElBQUksMkNBQTJDLFFBQVEsU0FBUyxxQkFBcUIscUNBQXFDLG1CQUFtQix1Q0FBdUMsNEVBQTRFLDhCQUE4QixLQUFLLFlBQVksSUFBSSxZQUFZLElBQUkscUNBQXFDLEtBQUssSUFBSSxFQUFFLFlBQVksbUJBQW1CLFNBQVMsWUFBWSxxQ0FBcUMsZ0JBQWdCLFFBQVEsSUFBSSw2QkFBNkIsVUFBVSxRQUFRLEtBQUssS0FBSyx3QkFBd0IsS0FBSyxLQUFLLGFBQWEsUUFBUSxJQUFJLFlBQVksSUFBSSxvRUFBb0UsY0FBYyxJQUFJLFlBQVksSUFBSSwyQ0FBMkMsV0FBVyxjQUFjLEtBQUssWUFBWSxJQUFJLFlBQVksSUFBSSx5Q0FBeUMsUUFBUSxTQUFTLHlCQUF5QixzR0FBc0csd0NBQXdDLDhCQUE4QixtQkFBbUIsWUFBWSxXQUFXLGdDQUFnQyxVQUFVLDZKQUE2Siw0QkFBNEIsd0dBQXdHLDRDQUE0Qyw4QkFBOEIsV0FBVyxvQkFBb0IsY0FBYyxLQUFLLGtEQUFrRCx5QkFBeUIsK0JBQStCLDhCQUE4Qiw2Q0FBNkMsNEJBQTRCLFFBQVEsV0FBVyxzRUFBc0UsOEJBQThCLGdEQUFnRCw0QkFBNEIsUUFBUSxXQUFXLHNFQUFzRSxPQUFPLGtCQUFrQixnQkFBZ0IsYUFBYSxzQ0FBc0MsU0FBUywwREFBMEQsMENBQTBDLGtEQUFrRCwrQ0FBK0MsK05BQStOLEtBQUssS0FBSyxpQ0FBaUMsWUFBWSxLQUFLLEtBQUssNEJBQTRCLHlEQUF5RCxnRUFBZ0Usd0VBQXdFLDBDQUEwQywrTkFBK04sS0FBSyxLQUFLLCtCQUErQixZQUFZLEtBQUssS0FBSyxnQkFBZ0IsMERBQTBELGdEQUFnRCxTQUFTLGdCQUFnQixzREFBc0QsbUNBQW1DLG9GQUFvRixRQUFRLEtBQUssS0FBSyxvREFBb0QsT0FBTyxnREFBZ0Qsd0NBQXdDLDhDQUE4Qyw0Q0FBNEMsOENBQThDLDRDQUE0QyxvREFBb0QsUUFBUSxLQUFLLEtBQUssUUFBUSxLQUFLLDJCQUEyQixLQUFLLEtBQUssa0NBQWtDLGtGQUFrRixzQkFBc0IsUUFBUSxLQUFLLFlBQVksS0FBSyxzSEFBc0gsTUFBTSx5REFBeUQsUUFBUSxLQUFLLFlBQVksT0FBTyxLQUFLLGNBQWMsUUFBUSxLQUFLLDBEQUEwRCxRQUFRLEtBQUssS0FBSyxxRkFBcUYsS0FBSywyREFBMkQsc0NBQXNDLGdDQUFnQyxTQUFTLHFCQUFxQixnQkFBZ0IsYUFBYSxzQ0FBc0MsU0FBUyw2R0FBNkcsNERBQTRELHVCQUF1QixRQUFRLElBQUksS0FBSyxzQkFBc0IsY0FBYyxRQUFRLFFBQVEseUNBQXlDLHlEQUF5RCxJQUFJLEtBQUssZ0NBQWdDLE9BQU8sa0NBQWtDLFFBQVEsSUFBSSxLQUFLLFFBQVEsUUFBUSw2Q0FBNkMsMEVBQTBFLFFBQVEsUUFBUSxzQ0FBc0MsVUFBVSxnREFBZ0QsZ0JBQWdCLDZEQUE2RCxTQUFTLG9DQUFvQyxnR0FBZ0cseURBQXlELGlFQUFpRSxRQUFRLElBQUksa0NBQWtDLEtBQUssS0FBSyx1QkFBdUIsOEVBQThFLHdDQUF3QyxRQUFRLElBQUksY0FBYyx5QkFBeUIsa0RBQWtELFFBQVEsSUFBSSxLQUFLLFFBQVEsS0FBSywwRUFBMEUsUUFBUSxjQUFjLEtBQUssY0FBYyxjQUFjLGlFQUFpRSxRQUFRLElBQUksb0ZBQW9GLE9BQU8saUNBQWlDLGlEQUFpRCxnQkFBZ0IsNkRBQTZELFNBQVMsb0NBQW9DLGdHQUFnRyx5REFBeUQsaUVBQWlFLFFBQVEsSUFBSSxrQ0FBa0MsS0FBSyxLQUFLLHVCQUF1Qiw4RUFBOEUsd0NBQXdDLFFBQVEsSUFBSSxjQUFjLHlCQUF5QixrREFBa0QsUUFBUSxJQUFJLEtBQUssUUFBUSxLQUFLLG9GQUFvRixRQUFRLGNBQWMsS0FBSyxrQkFBa0IsY0FBYyxpRUFBaUUsUUFBUSxJQUFJLHdGQUF3RixPQUFPLGlDQUFpQyxxREFBcUQsNkRBQTZELFNBQVMsa0lBQWtJLDRCQUE0QixJQUFJLDRFQUE0RSxLQUFLLCtCQUErQixRQUFRLElBQUksa0NBQWtDLEtBQUssS0FBSyxRQUFRLGVBQWUsOEVBQThFLHVCQUF1QixjQUFjLElBQUksS0FBSyxjQUFjLGtFQUFrRSxPQUFPLDhCQUE4QixxREFBcUQsNkRBQTZELFNBQVMsa0lBQWtJLDRCQUE0QixJQUFJLDRFQUE0RSxLQUFLLCtCQUErQixRQUFRLElBQUksa0NBQWtDLEtBQUssS0FBSyxRQUFRLGVBQWUsOEVBQThFLHVCQUF1QixjQUFjLElBQUksS0FBSyxjQUFjLGtFQUFrRSxPQUFPLCtCQUErQixnQkFBZ0IsYUFBYSxzQ0FBc0MsU0FBUyxnREFBZ0QsaURBQWlELGlEQUFpRCw0RUFBNEUsZ0JBQWdCLEtBQUssS0FBSyw4QkFBOEIsOEJBQThCLDhCQUE4Qiw2Q0FBNkMsd0ZBQXdGLDZDQUE2QyxzRUFBc0UscUNBQXFDLGtGQUFrRix3RkFBd0Ysb0NBQW9DLHNCQUFzQiw2Q0FBNkMsSUFBSSxLQUFLLFFBQVEsOENBQThDLFNBQVMsa0JBQWtCLGFBQWEsS0FBSyxvRUFBb0UsbURBQW1ELE9BQU8sOENBQThDLGlCQUFpQiw2RkFBNkYscURBQXFELGlDQUFpQyw2QkFBNkIsZ0NBQWdDLGtDQUFrQyw4QkFBOEIsNkZBQTZGLG9EQUFvRCxrQ0FBa0Msd0RBQXdELGlDQUFpQywrQkFBK0IscUNBQXFDLG9FQUFvRSwrQ0FBK0MsU0FBUyx5SkFBeUosOEJBQThCLFdBQVcseUJBQXlCLDREQUE0RCxxQkFBcUIsdURBQXVELDJGQUEyRix3SUFBd0ksa0JBQWtCLGtDQUFrQyxZQUFZLGdCQUFnQixvQ0FBb0MsVUFBVSxNQUFNLHNDQUFzQyxXQUFXLDRCQUE0QixxREFBcUQsbUJBQW1CLFFBQVEsV0FBVyxLQUFLLGFBQWEsUUFBUSwyQ0FBMkMsNEVBQTRFLDBDQUEwQyx5TEFBeUwsMkNBQTJDLDRIQUE0SCw2TEFBNkwsNEJBQTRCLGlMQUFpTCxPQUFPLHFGQUFxRiw0Q0FBNEMsZUFBZSxhQUFhLHNDQUFzQyxTQUFTLG9FQUFvRSx5YUFBeWEsc0JBQXNCLDJEQUEyRCxJQUFJLEtBQUssNkJBQTZCLDRDQUE0QywwQkFBMEIsT0FBTyxrQ0FBa0MsY0FBYyxrQkFBa0IsMkZBQTJGLCtCQUErQixxQkFBcUIsMkNBQTJDLGdCQUFnQixFQUFFLHNDQUFzQyxVQUFVLGdDQUFnQyxRQUFRLEdBQUcsSUFBSSw2QkFBNkIsb0RBQW9ELGdCQUFnQiwrR0FBK0csNERBQTRELGtDQUFrQyxtQkFBbUIscUJBQXFCLDBCQUEwQixnQ0FBZ0MsRUFBRSx1RkFBdUYsNEJBQTRCLDZCQUE2QixnQkFBZ0IsZUFBZSxhQUFhLHNDQUFzQyxTQUFTLHlDQUF5Qyw0QkFBNEIsTUFBTSxxS0FBcUssc0RBQXNELG9CQUFvQixzQkFBc0IsdU9BQXVPLGdJQUFnSSxLQUFLLEtBQUssV0FBVyxpSUFBaUksd0NBQXdDLE1BQU0sUUFBUSw4Q0FBOEMsUUFBUSw0SkFBNEosbUVBQW1FLHFNQUFxTSxPQUFPLFVBQVUscUpBQXFKLE1BQU0sY0FBYyxjQUFjLHNKQUFzSixLQUFLLHNJQUFzSSx1REFBdUQsTUFBTSxnSUFBZ0ksWUFBWSxJQUFJLEtBQUssaUJBQWlCLFNBQVMsUUFBUSxpR0FBaUcsd0RBQXdELFdBQVcsNkRBQTZELEtBQUssVUFBVSxnQ0FBZ0MsYUFBYSxrRUFBa0UsS0FBSyw2SEFBNkgsOEJBQThCLDhFQUE4RSw2REFBNkQsc0RBQXNELG1CQUFtQixjQUFjLGFBQWEsc0NBQXNDLFNBQVMsRUFBRSwrQkFBK0IsZ0JBQWdCLGFBQWEsSUFBSSx3QkFBd0IsV0FBVyxJQUFJLHNGQUFzRiw4QkFBOEIsMEJBQTBCLGdDQUFnQyxNQUFNLGdMQUFnTCw2REFBNkQsMEJBQTBCLDhLQUE4SyxlQUFlLGlCQUFpQixJQUFJLEtBQUssd0JBQXdCLHVCQUF1QixpR0FBaUcsaUJBQWlCLFFBQVEsZ09BQWdPLGlCQUFpQix5QkFBeUIsdVJBQXVSLCtFQUErRSx5QkFBeUIsd0dBQXdHLHNCQUFzQixvQkFBb0IsRUFBRSxhQUFhLEVBQUUsYUFBYSxFQUFFLGFBQWEsRUFBRSxhQUFhLEdBQUcsV0FBVyw4QkFBOEIsMkJBQTJCLFlBQVkseUJBQXlCLGdCQUFnQixhQUFhLHNDQUFzQyxTQUFTLG15QkFBbXlCLG1EQUFtRCxZQUFZLFlBQVksSUFBSSxLQUFLLFNBQVMsWUFBWSxJQUFJLGtDQUFrQyxXQUFXLEdBQUcsc0JBQXNCLGlDQUFpQyxpQkFBaUIsMkJBQTJCLGlCQUFpQixVQUFVLGlCQUFpQixtQkFBbUIsa0JBQWtCLGlCQUFpQixxQkFBcUIsaUJBQWlCLGdDQUFnQyxpQkFBaUIsMEZBQTBGLDRCQUE0QixjQUFjLHVCQUF1Qix5QkFBeUIsNEJBQTRCLCtDQUErQyx5Q0FBeUMsZ0ZBQWdGLDJHQUEyRyxtQkFBbUIsb0JBQW9CLHFDQUFxQyxtQkFBbUIsd0VBQXdFLG9EQUFvRCxtREFBbUQsNkJBQTZCLGdFQUFnRSxrQ0FBa0MsSUFBSSwrRkFBK0YsU0FBUyxnQ0FBZ0MsdURBQXVELDZEQUE2RCxpRUFBaUUsb0JBQW9CLHFEQUFxRCxjQUFjLG1DQUFtQyxzQkFBc0Isb0NBQW9DLHdCQUF3Qiw2RkFBNkYsd0dBQXdHLDRCQUE0QixjQUFjLHFGQUFxRiw0RUFBNEUsV0FBVyxLQUFLLHFDQUFxQyw0QkFBNEIsVUFBVSxtRUFBbUUsU0FBUyxzQkFBc0IsaUJBQWlCLEdBQUcsUUFBUSxXQUFXLEtBQUssZUFBZSw2QkFBNkIsbUNBQW1DLHVDQUF1QyxTQUFTLG9EQUFvRCxlQUFlLGlDQUFpQyw4Q0FBOEMsMEJBQTBCLFFBQVEsUUFBUSwrQkFBK0Isb0ZBQW9GLHdOQUF3TixtSEFBbUgsa0JBQWtCLGlHQUFpRyxrQkFBa0IscUdBQXFHLHNDQUFzQyw0QkFBNEIsNkRBQTZELFFBQVEsSUFBSSxxRUFBcUUsK0JBQStCLElBQUksOENBQThDLDBEQUEwRCx3REFBd0Qsd0JBQXdCLDhFQUE4RSxlQUFlLFdBQVcsbUNBQW1DLHVEQUF1RCw4Q0FBOEMsNEhBQTRILE1BQU0sS0FBSyxzQ0FBc0Msc0VBQXNFLFFBQVEsa0ZBQWtGLGVBQWUsbUNBQW1DLHFDQUFxQyxpREFBaUQsU0FBUyw4Q0FBOEMsOFFBQThRLDBGQUEwRixpRUFBaUUsaUVBQWlFLEtBQUssa0RBQWtELDREQUE0RCx1QkFBdUIsWUFBWSxpREFBaUQsMEZBQTBGLG9FQUFvRSxlQUFlLHdCQUF3QixvQkFBb0IsbUdBQW1HLGdEQUFnRCwyRUFBMkUsbUJBQW1CLDZDQUE2QyxzREFBc0QsVUFBVSxpREFBaUQsbUJBQW1CLHNDQUFzQyxPQUFPLGlCQUFpQixXQUFXLGdCQUFnQixXQUFXLEtBQUssNERBQTRELHlDQUF5QyxTQUFTLDBDQUEwQyw0QkFBNEIscUJBQXFCLDRCQUE0Qix3Q0FBd0MseUJBQXlCLHVDQUF1Qyx1QkFBdUIsSUFBSSxFQUFFLDBCQUEwQixpQkFBaUIsU0FBUyx3Q0FBd0MsaU9BQWlPLGdEQUFnRCwySUFBMkksa0NBQWtDLGdFQUFnRSwrR0FBK0csNEJBQTRCLDhKQUE4SixPQUFPLG1DQUFtQyx3Q0FBd0MsOEJBQThCLGtCQUFrQixjQUFjLFFBQVEsV0FBVyw0QkFBNEIsZ0NBQWdDLGNBQWMsSUFBSSxZQUFZLFFBQVEsV0FBVyxLQUFLLDZGQUE2RixxQkFBcUIsNkVBQTZFLCtDQUErQyx5QkFBeUIsY0FBYyxZQUFZLFdBQVcsK0dBQStHLCtDQUErQyx5QkFBeUIscURBQXFELDJHQUEyRyxjQUFjLGdEQUFnRCxnSEFBZ0gsUUFBUSxXQUFXLEtBQUssd0JBQXdCLDhDQUE4QyxnRUFBZ0UsT0FBTyxpRUFBaUUsZ0JBQWdCLGFBQWEsc0NBQXNDLFNBQVMsNkJBQTZCLHVGQUF1Rix1REFBdUQsZ0RBQWdELDRFQUE0RSx3Q0FBd0MsMkRBQTJELHNDQUFzQyxnQkFBZ0IsNENBQTRDLDJIQUEySCwyREFBMkQsNENBQTRDLHNCQUFzQixtRUFBbUUsaUJBQWlCLHlDQUF5QyxpQkFBaUIsbUJBQW1CLGlCQUFpQiwwRkFBMEYsUUFBUSxxQ0FBcUMsNEJBQTRCLGdCQUFnQixxQ0FBcUMsNkRBQTZELGlDQUFpQyxNQUFNLDRDQUE0QyxpQkFBaUIsSUFBSSw0R0FBNEcsU0FBUyxtQkFBbUIsMENBQTBDLHVFQUF1RSxnREFBZ0QsbUxBQW1MLFVBQVUsbUdBQW1HLEtBQUssaUNBQWlDLHlCQUF5QixzQ0FBc0MsV0FBVyxZQUFZLElBQUksY0FBYyxzREFBc0QsSUFBSSxZQUFZLElBQUksOENBQThDLGVBQWUsUUFBUSx5RUFBeUUsS0FBSyxvQkFBb0IsNkJBQTZCLHNCQUFzQixnQ0FBZ0Msd0VBQXdFLHVDQUF1QyxhQUFhLFFBQVEsSUFBSSxzS0FBc0ssZ0NBQWdDLFdBQVcsbUJBQW1CLFNBQVMsdURBQXVELHNEQUFzRCwwQ0FBMEMsc0VBQXNFLFdBQVcsa0NBQWtDLHdDQUF3QyxzQ0FBc0MsUUFBUSxXQUFXLEtBQUssMkZBQTJGLFlBQVksSUFBSSw2RkFBNkYsc0ZBQXNGLDBFQUEwRSxtREFBbUQsNEdBQTRHLGtDQUFrQywwR0FBMEcsY0FBYyw4QkFBOEIsUUFBUSxVQUFVLGNBQWMsUUFBUSxLQUFLLGtCQUFrQixlQUFlLElBQUksZ0JBQWdCLFFBQVEsWUFBWSxZQUFZLElBQUksc0JBQXNCLDRCQUE0QixJQUFJLFlBQVksSUFBSSwwQkFBMEIsUUFBUSxvQkFBb0IsWUFBWSxJQUFJLGlDQUFpQyxZQUFZLEtBQUssS0FBSyxxQkFBcUIsc0JBQXNCLEtBQUssd0NBQXdDLFFBQVEsSUFBSSwyQ0FBMkMsUUFBUSxJQUFJLGlGQUFpRixVQUFVLHdCQUF3QixZQUFZLElBQUksMEJBQTBCLE9BQU8sVUFBVSxzQ0FBc0Msa0hBQWtILFFBQVEsT0FBTyxZQUFZLElBQUksc0JBQXNCLFVBQVUsS0FBSyxZQUFZLElBQUksNEJBQTRCLFFBQVEsS0FBSyxjQUFjLFVBQVUsS0FBSyxrQkFBa0Isb0JBQW9CLFFBQVEsS0FBSyxLQUFLLEtBQUssZ0JBQWdCLEVBQUUsUUFBUSxJQUFJLGtDQUFrQyxrQkFBa0IsUUFBUSxJQUFJLGdDQUFnQyxZQUFZLEtBQUssS0FBSywwQkFBMEIsMENBQTBDLElBQUksMEJBQTBCLGdDQUFnQyxJQUFJLCtDQUErQyxjQUFjLE9BQU8sV0FBVyx3QkFBd0IsNkNBQTZDLGtGQUFrRixrQ0FBa0MsNEhBQTRILE1BQU0sS0FBSyxnSEFBZ0gsa0JBQWtCLDBJQUEwSSxLQUFLLFVBQVUsMENBQTBDLGlCQUFpQixXQUFXLHFEQUFxRCxTQUFTLGlIQUFpSCxzQkFBc0IsbUxBQW1MLFlBQVksSUFBSSx5Q0FBeUMsNENBQTRDLElBQUksdURBQXVELDRDQUE0QyxJQUFJLHVEQUF1RCxlQUFlLGlEQUFpRCxJQUFJLHVEQUF1RCxjQUFjLHNCQUFzQixRQUFRLDhCQUE4Qiw4REFBOEQsNkVBQTZFLDBFQUEwRSxLQUFLLFVBQVUsNkVBQTZFLHFCQUFxQixRQUFRLDZDQUE2Qyx5RkFBeUYsc0dBQXNHLG1HQUFtRyxLQUFLLFVBQVUsOEdBQThHLCtIQUErSCwrQ0FBK0MsTUFBTSxrTUFBa00sd0NBQXdDLE1BQU0sd09BQXdPLFlBQVksaUNBQWlDLG9IQUFvSCxxQ0FBcUMsUUFBUSxXQUFXLEtBQUssMkhBQTJILFFBQVEsV0FBVyw2Q0FBNkMsVUFBVSxTQUFTLFFBQVEsV0FBVywrREFBK0QsK05BQStOLFNBQVMsOENBQThDLDRHQUE0RyxTQUFTLHlEQUF5RCxXQUFXLHNCQUFzQix3REFBd0QsSUFBSSxLQUFLLHFEQUFxRCx1REFBdUQsVUFBVSx5QkFBeUIsMkpBQTJKLG9CQUFvQixRQUFRLFdBQVcsS0FBSyxRQUFRLEdBQUcsZ0dBQWdHLHVCQUF1QixpQkFBaUIsUUFBUSxXQUFXLGdEQUFnRCwwQkFBMEIsMERBQTBELG1DQUFtQyxpQkFBaUIsMEJBQTBCLHVCQUF1QiwwQkFBMEIsU0FBUyxTQUFTLDREQUE0RCxnSEFBZ0gsb0NBQW9DLEtBQUssS0FBSyx1Q0FBdUMsSUFBSSxtQkFBbUIsVUFBVSxRQUFRLElBQUksWUFBWSxRQUFRLEtBQUssb0JBQW9CLFVBQVUsMENBQTBDLCtEQUErRCxlQUFlLGlCQUFpQixFQUFFLEtBQUssb0ZBQW9GLHdDQUF3QyxpQkFBaUIsb0VBQW9FLDZDQUE2Qyw4REFBOEQsZ0JBQWdCLGFBQWEsTUFBTSxhQUFhLDhHQUE4RyxvQkFBb0IsdUVBQXVFLG9CQUFvQiwwQkFBMEIsd0JBQXdCLFdBQVcseUZBQXlGLEtBQUssZ0JBQWdCLFdBQVcsd0VBQXdFLHlGQUF5RixJQUFJLEtBQUssaUNBQWlDLGdEQUFnRCxrQkFBa0IsSUFBSSxpQkFBaUIsU0FBUyx1Q0FBdUMsTUFBTSxzR0FBc0csUUFBUSxvQkFBb0IsaUZBQWlGLDZCQUE2QixFQUFFLHNCQUFzQixXQUFXLDBFQUEwRSxLQUFLLHdCQUF3QixVQUFVLEdBQUcsMkNBQTJDLE9BQU8sUUFBUSxJQUFJLGtCQUFrQixTQUFTLHdCQUF3QixPQUFPLG9CQUFvQixzQkFBc0IsMEJBQTBCLDhCQUE4QiwwQkFBMEIsa0VBQWtFLHdDQUF3QyxzSkFBc0osaUJBQWlCLHNCQUFzQixJQUFJLGNBQWMsSUFBSSwrRkFBK0YsU0FBUyxpQkFBaUIsK0RBQStELFdBQVcsc0VBQXNFLFNBQVMsbUJBQW1CLGdHQUFnRyxNQUFNLHlFQUF5RSw2RkFBNkYsNENBQTRDLDRDQUE0QyxXQUFXLEtBQUsscUNBQXFDLE1BQU0sS0FBSyxZQUFZLFdBQVcscUNBQXFDLEtBQUssT0FBTyxVQUFVLE1BQU0sMENBQTBDLHFFQUFxRSxrQ0FBa0MsZUFBZSxTQUFTLFFBQVEsV0FBVyxxQ0FBcUMsNkJBQTZCLGdDQUFnQyx5Q0FBeUMsS0FBSyxzQ0FBc0MsZ0JBQWdCLFdBQVcsS0FBSyx3QkFBd0IsMkJBQTJCLFNBQVMsa0NBQWtDLG9DQUFvQyxRQUFRLE1BQU0sc0RBQXNELEtBQUssS0FBSyxzQ0FBc0MsSUFBSSw2Q0FBNkMsS0FBSyx3Q0FBd0MsTUFBTSxrREFBa0QsS0FBSyxrREFBa0QsSUFBSSx1REFBdUQsb0NBQW9DLDJDQUEyQyxpQ0FBaUMsa0NBQWtDLGtDQUFrQyx5Q0FBeUMsV0FBVyxvQkFBb0IseUNBQXlDLCtCQUErQixXQUFXLG1CQUFtQiw0RUFBNEUsd0JBQXdCLGdCQUFnQixJQUFJLHVDQUF1Qyx1QkFBdUIsaUNBQWlDLHNDQUFzQyxrRUFBa0UsNkJBQTZCLDZIQUE2SCxJQUFJLEtBQUssY0FBYyxJQUFJLGdEQUFnRCwyQkFBMkIsTUFBTSxFQUFFLGdFQUFnRSxJQUFJLHNGQUFzRixnQkFBZ0IsMkNBQTJDLEtBQUssbUNBQW1DLElBQUksNkNBQTZDLHdCQUF3QixZQUFZLFlBQVksTUFBTSxFQUFFLFFBQVEsSUFBSSxnREFBZ0QsUUFBUSxRQUFRLGtCQUFrQixlQUFlLFdBQVcsZ0JBQWdCLGtDQUFrQyxJQUFJLHFCQUFxQixVQUFVLGFBQWEsS0FBSyxRQUFRLElBQUksc0JBQXNCLEtBQUssK0JBQStCLGtDQUFrQyxzQkFBc0IsOEJBQThCLFdBQVcsaUJBQWlCLFFBQVEsV0FBVyxpQkFBaUIsbUNBQW1DLGtGQUFrRiw4QkFBOEIsNkJBQTZCLHFDQUFxQywrQkFBK0IsMEJBQTBCLGNBQWMsUUFBUSxhQUFhLEtBQUssWUFBWSxJQUFJLHVEQUF1RCxnQkFBZ0IsWUFBWSxJQUFJLHFEQUFxRCx1RUFBdUUsUUFBUSxNQUFNLDBFQUEwRSwwREFBMEQsc0NBQXNDLFFBQVEsMkJBQTJCLGVBQWUsVUFBVSxLQUFLLHdDQUF3QyxpQkFBaUIsc0NBQXNDLElBQUksS0FBSyxRQUFRLElBQUksMEJBQTBCLGtDQUFrQyx1QkFBdUIsdUJBQXVCLGdCQUFnQixhQUFhLHNDQUFzQyxTQUFTLHVCQUF1QixrREFBa0QsZUFBZSw4QkFBOEIsd0dBQXdHLGlDQUFpQywrSEFBK0gsOEJBQThCLHlIQUF5SCw4QkFBOEIsbUNBQW1DLHFDQUFxQywrQ0FBK0MsdUNBQXVDLGdGQUFnRixrSUFBa0kscURBQXFELHNCQUFzQixtQkFBbUIsOENBQThDLHFDQUFxQyxnQ0FBZ0MsMkNBQTJDLHVFQUF1RSxxQ0FBcUMsNkNBQTZDLHVFQUF1RSwrQkFBK0IsNkNBQTZDLG1EQUFtRCw2SkFBNkosb0NBQW9DLDZMQUE2TCxpQkFBaUIsY0FBYyxhQUFhLHNDQUFzQyxTQUFTLHdDQUF3QyxxQ0FBcUMsc0JBQXNCLHVCQUF1QixZQUFZLFdBQVcsa0NBQWtDLHlCQUF5Qiw0QkFBNEIsT0FBTyxNQUFNLFFBQVEsZUFBZSx5R0FBeUcsb0JBQW9CLHlEQUF5RCxlQUFlLG9CQUFvQixnREFBZ0QsZUFBZSxvQkFBb0IsbURBQW1ELHlCQUF5QixzQ0FBc0MsMEZBQTBGLEdBQUcsWUFBWSx1QkFBdUIsOERBQThELG9DQUFvQywrS0FBK0sseUJBQXlCLG9CQUFvQiwyREFBMkQsMkNBQTJDLFlBQVksd0JBQXdCLG9DQUFvQyx1QkFBdUIsa1JBQWtSLG1CQUFtQixvQ0FBb0MsVUFBVSxvQkFBb0IsUUFBUSxLQUFLLEVBQUUsb0JBQW9CLFFBQVEsRUFBRSxvQkFBb0IsWUFBWSw4REFBOEQsNEJBQTRCLEVBQUUsc0NBQXNDLHFDQUFxQyxPQUFPLHFDQUFxQyxnQkFBZ0IsYUFBYSxzQ0FBc0MsU0FBUywyQkFBMkIsMkZBQTJGLFVBQVUsV0FBVyx5REFBeUQseUtBQXlLLHlGQUF5Rix1REFBdUQsc0RBQXNELGVBQWUsaUNBQWlDLGVBQWUsaUJBQWlCLEtBQUssV0FBVyxLQUFLLGNBQWMsd0NBQXdDLE9BQU8saUNBQWlDLGVBQWUsV0FBVyw0QkFBNEIsc0NBQXNDLGFBQWEsWUFBWSxTQUFTLFFBQVEsYUFBYSxjQUFjLGFBQWEscUJBQXFCLDJEQUEyRCxtQ0FBbUMsTUFBTSxFQUFFLG9FQUFvRSxpQkFBaUIsb0JBQW9CLEtBQUssbUJBQW1CLGlCQUFpQixXQUFXLDJCQUEyQixzREFBc0QsdUVBQXVFLGFBQWEsUUFBUSxXQUFXLEtBQUssa0hBQWtILG9DQUFvQyxvQkFBb0Isa0JBQWtCLElBQUksZ0RBQWdELFFBQVEsV0FBVyxnQkFBZ0IsVUFBVSxTQUFTLFVBQVUsaUJBQWlCLGlCQUFpQixXQUFXLEtBQUssTUFBTSwwQkFBMEIsbUJBQW1CLFdBQVcsdUJBQXVCLFdBQVcsdUNBQXVDLHlCQUF5QixPQUFPLFVBQVUsZ0JBQWdCLDRCQUE0QixRQUFRLElBQUksNkdBQTZHLFNBQVMsa0JBQWtCLGlFQUFpRSxJQUFJLEtBQUssME5BQTBOLGFBQWEseUJBQXlCLFFBQVEsSUFBSSxLQUFLLFFBQVEsV0FBVyxLQUFLLFFBQVEsd0hBQXdILEtBQUssMkJBQTJCLGtDQUFrQyx5Q0FBeUMsK0JBQStCLDBFQUEwRSxvQ0FBb0Msb0NBQW9DLG9CQUFvQixjQUFjLDBCQUEwQix1RkFBdUYsVUFBVSwwQkFBMEIsZ0VBQWdFLHFHQUFxRyxnREFBZ0QsbUJBQW1CLDRIQUE0SCxTQUFTLFFBQVEsUUFBUSxpQkFBaUIsb0VBQW9FLGdEQUFnRCxtREFBbUQsVUFBVSxXQUFXLFFBQVEsaUJBQWlCLHdEQUF3RCxrQ0FBa0MsV0FBVyxpQkFBaUIsa0JBQWtCLFFBQVEsV0FBVyxjQUFjLEtBQUsscURBQXFELG9EQUFvRCxxRkFBcUYsUUFBUSxxQkFBcUIsUUFBUSxjQUFjLEtBQUssSUFBSSxRQUFRLDRIQUE0SCxZQUFZLEdBQUcsa0NBQWtDLHlCQUF5Qiw4QkFBOEIsR0FBRyxzRUFBc0UsOEJBQThCLHNVQUFzVSw2RkFBNkYsb0JBQW9CLFFBQVEsZ0NBQWdDLFNBQVMsUUFBUSxTQUFTLHFCQUFxQiwyREFBMkQsdUJBQXVCLG1CQUFtQixpSUFBaUksOEVBQThFLG9GQUFvRix5QkFBeUIsNEdBQTRHLGVBQWUsdUJBQXVCLG1EQUFtRCxJQUFJLFdBQVcsb0NBQW9DLHFCQUFxQixRQUFRLElBQUksdVJBQXVSLFNBQVMsUUFBUSxXQUFXLDJCQUEyQixTQUFTLG1CQUFtQixpQ0FBaUMsV0FBVyx1REFBdUQsaUJBQWlCLFNBQVMsYUFBYSxXQUFXLHNGQUFzRixXQUFXLDBEQUEwRCxXQUFXLGdCQUFnQixJQUFJLGlCQUFpQixXQUFXLDRCQUE0QixnQkFBZ0IsUUFBUSxXQUFXLG9CQUFvQixRQUFRLEdBQUcsS0FBSyx3Q0FBd0MsdUNBQXVDLG9DQUFvQyxRQUFRLFdBQVcsS0FBSywyQ0FBMkMsdUNBQXVDLEdBQUcsYUFBYSxJQUFJLGdCQUFnQixTQUFTLHFGQUFxRixvR0FBb0csS0FBSyxxQkFBcUIsdUJBQXVCLGtCQUFrQiwrR0FBK0csZ0NBQWdDLDhHQUE4RyxnRkFBZ0YsNkNBQTZDLGdDQUFnQyxXQUFXLDREQUE0RCxpREFBaUQsV0FBVyxLQUFLLHlDQUF5QyxzQ0FBc0MsV0FBVyw0REFBNEQsK0hBQStILFFBQVEsaUJBQWlCLEtBQUssb0JBQW9CLGlKQUFpSixRQUFRLFdBQVcsS0FBSyx1QkFBdUIsb0NBQW9DLFdBQVcsS0FBSyxXQUFXLGtCQUFrQixPQUFPLCtCQUErQixnQkFBZ0IsYUFBYSxzQ0FBc0MsU0FBUywyRUFBMkUsa0RBQWtELG1JQUFtSSxZQUFZLHVCQUF1Qix5Q0FBeUMsc0NBQXNDLDBCQUEwQiwwQ0FBMEMsd0ZBQXdGLGdCQUFnQix1QkFBdUIsS0FBSyx3Q0FBd0MsU0FBUyxnREFBZ0QsNkJBQTZCLDRCQUE0Qiw0Q0FBNEMsd0NBQXdDLDRCQUE0QixrQ0FBa0MsbUhBQW1ILHNGQUFzRix5Q0FBeUMsMkJBQTJCLDJDQUEyQyxzQkFBc0IsOENBQThDLHNCQUFzQix3Q0FBd0Msb0JBQW9CLG9DQUFvQyx5QkFBeUIscUNBQXFDLG9CQUFvQix1Q0FBdUMsMEJBQTBCLGtEQUFrRCxpQkFBaUIsMkJBQTJCLGtHQUFrRyxVQUFVLG9CQUFvQiw0QkFBNEIsWUFBWSwrQkFBK0Isd0RBQXdELG9CQUFvQixtQ0FBbUMsaUNBQWlDLElBQUksd0NBQXdDLFFBQVEsSUFBSSxpREFBaUQsSUFBSSxtTkFBbU4sUUFBUSxJQUFJLEtBQUssMENBQTBDLHVDQUF1QyxzQ0FBc0MsU0FBUyx3Q0FBd0Msb0NBQW9DLE1BQU0sK0JBQStCLHlDQUF5QyxJQUFJLEtBQUsseUVBQXlFLDhNQUE4TSxTQUFTLHlCQUF5QixnQkFBZ0IsV0FBVyxLQUFLLHFCQUFxQixtQ0FBbUMsV0FBVyx5Q0FBeUMsdUhBQXVILHVCQUF1Qix3REFBd0QsT0FBTywyRUFBMkUsb0JBQW9CLGdCQUFnQixhQUFhLHNDQUFzQyxTQUFTLHVFQUF1RSxrREFBa0QscUNBQXFDLDhCQUE4Qix5Q0FBeUMsc0RBQXNELEdBQUcsaUJBQWlCLGlCQUFpQixrQ0FBa0MseUNBQXlDLE9BQU8sOEJBQThCLGVBQWUsMEJBQTBCLGNBQWMsdUJBQXVCLGtCQUFrQixtQkFBbUIsWUFBWSxXQUFXLEtBQUssV0FBVyxjQUFjLHFCQUFxQix1QkFBdUIsWUFBWSxXQUFXLHdDQUF3QyxTQUFTLHdCQUF3QixLQUFLLGlCQUFpQixZQUFZLFdBQVcsa0NBQWtDLFVBQVUsaUNBQWlDLGFBQWEsdUJBQXVCLHlCQUF5QixHQUFHLCtCQUErQixhQUFhLDZCQUE2QixRQUFRLFdBQVcsS0FBSywyQkFBMkIsaUJBQWlCLGFBQWEscUNBQXFDLCtCQUErQixXQUFXLEVBQUUsU0FBUyxRQUFRLFdBQVcsS0FBSyxTQUFTLFFBQVEsV0FBVyw0QkFBNEIsS0FBSyxNQUFNLFVBQVUsY0FBYyxpQkFBaUIsS0FBSyxtQ0FBbUMscUJBQXFCLGlDQUFpQyx3Q0FBd0MsbUNBQW1DLDhDQUE4QyxnQkFBZ0IsYUFBYSxzQ0FBc0MsU0FBUywwRUFBMEUscUdBQXFHLFdBQVcsa0JBQWtCLG1EQUFtRCxrRkFBa0YsNENBQTRDLDhDQUE4QyxpQ0FBaUMsa0JBQWtCLDBGQUEwRiw2RUFBNkUsd0JBQXdCLDhDQUE4Qyx3REFBd0QsY0FBYyxHQUFHLDhDQUE4Qyw2QkFBNkIsNENBQTRDLDJGQUEyRix1Q0FBdUMsbUJBQW1CLG1DQUFtQyx3QkFBd0Isc0NBQXNDLHlCQUF5QixrQkFBa0IsNENBQTRDLDBFQUEwRSw0QkFBNEIsMkNBQTJDLGdCQUFnQix5QkFBeUIscUNBQXFDLHdCQUF3QixLQUFLLHdCQUF3QixzREFBc0QsY0FBYyxnREFBZ0Qsd0dBQXdHLCtDQUErQyw4R0FBOEcsUUFBUSxLQUFLLFlBQVksS0FBSyw4RUFBOEUsK0NBQStDLHlDQUF5QywyQkFBMkIsd0VBQXdFLGVBQWUsYUFBYSxzQ0FBc0MsU0FBUyx1T0FBdU8scUdBQXFHLFdBQVcsd0NBQXdDLHFEQUFxRCx3RUFBd0UsR0FBRywyQ0FBMkMscUNBQXFDLFFBQVEsVUFBVSxpREFBaUQseUVBQXlFLEdBQUcsaUJBQWlCLDJIQUEySCxNQUFNLGFBQWEsZUFBZSxzQkFBc0IscUJBQXFCLEdBQUcsWUFBWSxXQUFXLGtDQUFrQyxPQUFPLE1BQU0seUJBQXlCLFlBQVksc0VBQXNFLGFBQWEsT0FBTyxvQkFBb0IsbUJBQW1CLDJDQUEyQyxhQUFhLEdBQUcsaUJBQWlCLDhCQUE4QixXQUFXLEtBQUssdUNBQXVDLFdBQVcsd0VBQXdFLEtBQUssTUFBTSxXQUFXLDJCQUEyQixFQUFFLDZDQUE2QyxTQUFTLGdEQUFnRCw4REFBOEQscURBQXFELG1HQUFtRyxzRkFBc0YsMEJBQTBCLHlCQUF5QixrSkFBa0osa0JBQWtCLE1BQU0sV0FBVyxrQkFBa0IsU0FBUyx1QkFBdUIsV0FBVyxnQkFBZ0IsMERBQTBELG9DQUFvQyxjQUFjLGVBQWUsY0FBYyxHQUFHLDJCQUEyQixhQUFhLEVBQUUsY0FBYyxlQUFlLHNCQUFzQixZQUFZLFdBQVcsS0FBSyxvQ0FBb0Msb0RBQW9ELDBFQUEwRSxXQUFXLDhEQUE4RCxLQUFLLE1BQU0scUJBQXFCLG1EQUFtRCxzREFBc0QsdUpBQXVKLHFCQUFxQixNQUFNLEtBQUsscUJBQXFCLFdBQVcsRUFBRSxpQkFBaUIsc0VBQXNFLE9BQU8sa0ZBQWtGLE9BQU8sbUJBQW1CLDJCQUEyQixtQkFBbUIsS0FBSyxXQUFXLHdHQUF3Ryw2Q0FBNkMsK0JBQStCLGdFQUFnRSw2Q0FBNkMsRUFBRSxFQUFFLGlDQUFpQyxrREFBa0QsU0FBUyxLQUFLLEdBQUcsOEJBQThCLG1DQUFtQyxXQUFXLEtBQUssd0JBQXdCLGlCQUFpQixXQUFXLEtBQUssNkZBQTZGLHNDQUFzQywyQkFBMkIsZUFBZSw2RkFBNkYsaUhBQWlILG1OQUFtTixJQUFJLHVCQUF1Qiw2QkFBNkIsT0FBTyxvQkFBb0Isd0ZBQXdGLFFBQVEsR0FBRyx5Q0FBeUMsY0FBYyx1Q0FBdUMsV0FBVyx1QkFBdUIsV0FBVyw4QkFBOEIsNEJBQTRCLDZDQUE2QyxFQUFFLHFCQUFxQixhQUFhLG1CQUFtQixtSEFBbUgsNklBQTZJLDRKQUE0SixNQUFNLDBEQUEwRCxzRkFBc0YsRUFBRSw0QkFBNEIsYUFBYSx3SUFBd0ksaUJBQWlCLHdCQUF3QixRQUFRLEtBQUssS0FBSyxLQUFLLEdBQUcsb0RBQW9ELEtBQUssWUFBWSxXQUFXLEtBQUsscUVBQXFFLHNCQUFzQixpQ0FBaUMscUNBQXFDLFlBQVksSUFBSSxLQUFLLGFBQWEseUNBQXlDLEtBQUssNEJBQTRCLDJCQUEyQixxQkFBcUIsV0FBVywyQkFBMkIsSUFBSSxNQUFNLG9DQUFvQywwQkFBMEIseVVBQXlVLDJCQUEyQixVQUFVLE1BQU0sdURBQXVELFFBQVEsR0FBRyw4REFBOEQsS0FBSyxrQ0FBa0MsdUJBQXVCLDhCQUE4QixhQUFhLHdCQUF3QixJQUFJLGFBQWEsT0FBTyxvQkFBb0IsU0FBUyx1Q0FBdUMsS0FBSyxjQUFjLDJDQUEyQyx1QkFBdUIsaURBQWlELG9CQUFvQiwyQkFBMkIsR0FBRyxzQkFBc0Isa0NBQWtDLGlDQUFpQyxhQUFhLGNBQWMsY0FBYyxRQUFRLFdBQVcsbUNBQW1DLGlEQUFpRCxpcUJBQWlxQixRQUFRLEdBQUcsaUVBQWlFLGFBQWEscUNBQXFDLDhCQUE4QiwwRUFBMEUsT0FBTyxxQ0FBcUMsTUFBTSxPQUFPLDBFQUEwRSxpQkFBaUIsc0JBQXNCLGlCQUFpQixXQUFXLEtBQUssd0JBQXdCLFdBQVcsS0FBSyxzQ0FBc0MsV0FBVyx5TUFBeU0sRUFBRSxVQUFVLFNBQVMsTUFBTSwwQ0FBMEMsbURBQW1ELFFBQVEsV0FBVyxrQ0FBa0Msa0JBQWtCLEVBQUUsc0JBQXNCLGVBQWUsWUFBWSxXQUFXLDREQUE0RCxjQUFjLEtBQUssZ0RBQWdELDZDQUE2Qyx5Q0FBeUMsOEJBQThCLGdFQUFnRSxvSEFBb0gsMkNBQTJDLHdEQUF3RCxRQUFRLFdBQVcsaURBQWlELHNCQUFzQixFQUFFLHNCQUFzQixrQkFBa0IsMkJBQTJCLFdBQVcsS0FBSyxXQUFXLGlCQUFpQixnQkFBZ0IsV0FBVywrQkFBK0IsaUJBQWlCLGtCQUFrQixxQkFBcUIsU0FBUyxJQUFJLGVBQWUsWUFBWSxjQUFjLEtBQUssbUJBQW1CLDhDQUE4QyxZQUFZLFdBQVcsOEJBQThCLFNBQVMsSUFBSSw0REFBNEQsUUFBUSxXQUFXLDhCQUE4QiwyR0FBMkcsZUFBZSxHQUFHLDRDQUE0QyxPQUFPLHFEQUFxRCxlQUFlLDREQUE0RCxRQUFRLGlCQUFpQix3Q0FBd0MseUJBQXlCLEVBQUUsc0JBQXNCLDBDQUEwQyxtRUFBbUUsaUJBQWlCLCtCQUErQixzQkFBc0IsaUJBQWlCLEtBQUssMkRBQTJELGdEQUFnRCxxQkFBcUIsV0FBVyw4QkFBOEIsaUJBQWlCLE1BQU0sdUJBQXVCLHVCQUF1Qiw4QkFBOEIsMkNBQTJDLFdBQVcsS0FBSyxXQUFXLGNBQWMsNEJBQTRCLHFNQUFxTSxNQUFNLDJDQUEyQyxnQ0FBZ0MsV0FBVyxLQUFLLHFDQUFxQyxXQUFXLEtBQUssbUtBQW1LLFdBQVcsS0FBSyxvREFBb0QsV0FBVyx3QkFBd0IsSUFBSSxNQUFNLE9BQU8seUlBQXlJLFVBQVUsVUFBVSxVQUFVLFNBQVMseUNBQXlDLGlCQUFpQixXQUFXLEtBQUssd0JBQXdCLFdBQVcsS0FBSyx3QkFBd0IsV0FBVyxLQUFLLFdBQVcsaUdBQWlHLGdCQUFnQixJQUFJLG9CQUFvQixtQkFBbUIsMkNBQTJDLDJCQUEyQixXQUFXLEtBQUsscUJBQXFCLG1CQUFtQixXQUFXLEtBQUssa0JBQWtCLEdBQUcsbUJBQW1CLFdBQVcsS0FBSyxzQkFBc0IsTUFBTSxrSEFBa0gsU0FBUyx1Q0FBdUMsbUJBQW1CLFFBQVEsV0FBVyxLQUFLLGdCQUFnQixtQ0FBbUMsMEJBQTBCLG1DQUFtQyx5Q0FBeUMsbUVBQW1FLFdBQVcsa0NBQWtDLGtCQUFrQixFQUFFLFFBQVEsV0FBVyxZQUFZLG9CQUFvQixLQUFLLDJCQUEyQix1Q0FBdUMsa0JBQWtCLEVBQUUsc0JBQXNCLGlCQUFpQixRQUFRLFdBQVcsS0FBSyxnQ0FBZ0MsWUFBWSxHQUFHLHlEQUF5RCxRQUFRLFdBQVcsOENBQThDLFdBQVcsa0NBQWtDLHlCQUF5QixFQUFFLHNCQUFzQixPQUFPLHlCQUF5Qiw0Q0FBNEMsV0FBVyxtS0FBbUssMkJBQTJCLHdDQUF3Qyx3REFBd0QsUUFBUSxXQUFXLDJFQUEyRSxHQUFHLDRCQUE0Qix3Q0FBd0Msd0RBQXdELFFBQVEsV0FBVyx5RUFBeUUsR0FBRyw0REFBNEQsUUFBUSxXQUFXLEtBQUssbUZBQW1GLFFBQVEsV0FBVyx3QkFBd0IsSUFBSSxNQUFNLG1EQUFtRCxRQUFRLFdBQVcsd0JBQXdCLElBQUksTUFBTSxxTUFBcU0sU0FBUyx5Q0FBeUMsT0FBTyxzTUFBc00seUJBQXlCLDJDQUEyQyxvQkFBb0IsT0FBTyxzTUFBc00sdUNBQXVDLGtCQUFrQixxQ0FBcUMsdUJBQXVCLGFBQWEsR0FBRyxTQUFTLG1DQUFtQyx1QkFBdUIsYUFBYSxrQ0FBa0MsdUJBQXVCLDBEQUEwRCxHQUFHLFlBQVksbUJBQW1CLEtBQUssa0NBQWtDLE1BQU0sMENBQTBDLHdEQUF3RCxpREFBaUQsc0NBQXNDLCtCQUErQixpQ0FBaUMsc0VBQXNFLCtDQUErQyxvQ0FBb0MsMEVBQTBFLHVCQUF1QixRQUFRLG9CQUFvQixTQUFTLFlBQVkseUJBQXlCLE1BQU0sb0ZBQW9GLE9BQU8sd0JBQXdCLGdCQUFnQixhQUFhLHNDQUFzQyxTQUFTLDhCQUE4Qix5UEFBeVAsV0FBVyxNQUFNLHdCQUF3QixXQUFXLGVBQWUsd0hBQXdILG9NQUFvTSxnQ0FBZ0Msd0dBQXdHLDZFQUE2RSxnQ0FBZ0MsdWJBQXViLDZDQUE2QyxzQkFBc0IsV0FBVyxZQUFZLDJCQUEyQixpRUFBaUUsK0VBQStFLHdCQUF3QixzQkFBc0IsS0FBSyxtQkFBbUIsbUhBQW1ILDJGQUEyRix3Q0FBd0MsaUJBQWlCLDBOQUEwTiwyQ0FBMkMsOEJBQThCLG1CQUFtQixLQUFLLG9DQUFvQyxtQkFBbUIsS0FBSyw0QkFBNEIsb0lBQW9JLFdBQVcsS0FBSyxXQUFXLHVGQUF1RixhQUFhLDJFQUEyRSxhQUFhLDZFQUE2RSxhQUFhLDZFQUE2RSxhQUFhLDRDQUE0QyxtVUFBbVUsMkNBQTJDLG1VQUFtVSxFQUFFLEtBQUssbURBQW1ELDJFQUEyRSxTQUFTLHFFQUFxRSxvQ0FBb0MsMEVBQTBFLG9DQUFvQyxLQUFLLHFEQUFxRCxtRUFBbUUsbUJBQW1CLDJDQUEyQywyREFBMkQsRUFBRSxhQUFhLG1FQUFtRSxtQkFBbUIsMkNBQTJDLDJEQUEyRCwrREFBK0QsU0FBUyxRQUFRLG1CQUFtQixZQUFZLDJDQUEyQyxZQUFZLHlLQUF5SyxFQUFFLFFBQVEsbUJBQW1CLEtBQUssNEJBQTRCLFFBQVEsV0FBVyxLQUFLLFdBQVcsaUZBQWlGLHdDQUF3Qyw2TEFBNkwsNkVBQTZFLEtBQUssdUNBQXVDLHNCQUFzQixvREFBb0Qsd0JBQXdCLDZMQUE2TCx1Q0FBdUMsWUFBWSxXQUFXLDJIQUEySCxhQUFhLFdBQVcsdUZBQXVGLEtBQUssbUJBQW1CLEtBQUssMEVBQTBFLHdGQUF3Rix1QkFBdUIsR0FBRyx5REFBeUQsV0FBVyxLQUFLLGdFQUFnRSxpRkFBaUYsMktBQTJLLG9jQUFvYyxvQ0FBb0MscUdBQXFHLDhDQUE4QyxtREFBbUQsZUFBZSxPQUFPLGlKQUFpSiw0Q0FBNEMsRUFBRSw0Q0FBNEMsbUVBQW1FLG1JQUFtSSxZQUFZLDRDQUE0QyxLQUFLLHFFQUFxRSxpUkFBaVIsd0pBQXdKLHVDQUF1Qyx5R0FBeUcseUJBQXlCLE9BQU8saUJBQWlCLEtBQUssVUFBVSx5Q0FBeUMsbUJBQW1CLFdBQVcsaUJBQWlCLHNDQUFzQyxlQUFlLElBQUksS0FBSyxnSkFBZ0osNEJBQTRCLHNEQUFzRCx5VEFBeVQsbURBQW1ELHdGQUF3RixRQUFRLHlCQUF5QixLQUFLLHlCQUF5Qiw4RkFBOEYsbUNBQW1DLFFBQVEsMkJBQTJCLGlEQUFpRCw2SEFBNkgsUUFBUSxvQ0FBb0MsNENBQTRDLE1BQU0saURBQWlELGNBQWMsS0FBSyxvQ0FBb0MsS0FBSyw0Q0FBNEMsS0FBSyx5QkFBeUIsS0FBSyx1RUFBdUUsK0dBQStHLHdCQUF3QixRQUFRLFdBQVcsNkVBQTZFLFdBQVcsS0FBSyxtQkFBbUIsV0FBVyxzTEFBc0wsUUFBUSxXQUFXLEtBQUssV0FBVyw0QkFBNEIsMkhBQTJILHdKQUF3SixvQ0FBb0MsK0JBQStCLFlBQVksNEJBQTRCLHFDQUFxQywrQ0FBK0MsWUFBWSxvQ0FBb0MsS0FBSyxpREFBaUQseUJBQXlCLEtBQUssZ0RBQWdELFFBQVEsa0ZBQWtGLEVBQUUsaUJBQWlCLEdBQUcsRUFBRSxLQUFLLGlCQUFpQixRQUFRLFdBQVcsOENBQThDLEtBQUssTUFBTSxXQUFXLFFBQVEsUUFBUSx5QkFBeUIsdUZBQXVGLFdBQVcsd0JBQXdCLG1FQUFtRSw4WkFBOFosdUNBQXVDLGlCQUFpQixzQkFBc0IsbUVBQW1FLEtBQUssZ0JBQWdCLFFBQVEsUUFBUSxRQUFRLDBJQUEwSSxzSEFBc0gsZ0pBQWdKLG9EQUFvRCxTQUFTLEdBQUcsc0ZBQXNGLHVDQUF1QyxlQUFlLFVBQVUsbURBQW1ELGdEQUFnRCxnQ0FBZ0MsSUFBSSw2Q0FBNkMsWUFBWSw0QkFBNEIsS0FBSyw0QkFBNEIsdUNBQXVDLHVEQUF1RCxpREFBaUQsa0RBQWtELHdDQUF3QyxxQkFBcUIsS0FBSyxvVUFBb1Usc0NBQXNDLHdGQUF3RiwrQ0FBK0MsWUFBWSx5QkFBeUIsZ0JBQWdCLHlCQUF5QiwwRUFBMEUsdU1BQXVNLG9EQUFvRCxnQ0FBZ0Msa0dBQWtHLGlGQUFpRixLQUFLLHFFQUFxRSxTQUFTLHFCQUFxQixtQ0FBbUMsbUNBQW1DLEdBQUcsZUFBZSxPQUFPLHlFQUF5RSw4RUFBOEUsaUJBQWlCLFdBQVcsS0FBSywrR0FBK0csV0FBVyxNQUFNLGdEQUFnRCxlQUFlLDhCQUE4QixvQ0FBb0MsNElBQTRJLFFBQVEsV0FBVyxLQUFLLG1CQUFtQixrQ0FBa0MsMEVBQTBFLFFBQVEsV0FBVyw0QkFBNEIsaUJBQWlCLEtBQUssc0NBQXNDLDZGQUE2RixlQUFlLFVBQVUsUUFBUSxXQUFXLEtBQUssV0FBVyx1Q0FBdUMsa0RBQWtELGdFQUFnRSxPQUFPLG9GQUFvRix1REFBdUQsSUFBSSxJQUFJLFFBQVEsV0FBVyxLQUFLLCtCQUErQix1SkFBdUoseURBQXlELHNEQUFzRCx5T0FBeU8sUUFBUSw0QkFBNEIsd09BQXdPLFFBQVEsNEJBQTRCLHlEQUF5RCw0QkFBNEIsc0NBQXNDLFFBQVEscUJBQXFCLDJEQUEyRCxRQUFRLHFCQUFxQiwyQkFBMkIsNkNBQTZDLG1CQUFtQixxQkFBcUIsS0FBSyx3RkFBd0YsbUVBQW1FLDRCQUE0QixHQUFHLHdIQUF3SCxXQUFXLEtBQUssbUlBQW1JLDRCQUE0QixXQUFXLE9BQU8sV0FBVyx5SEFBeUgsMkRBQTJELFlBQVksMENBQTBDLFdBQVcsRUFBRSxjQUFjLHdKQUF3SixtSUFBbUksTUFBTSwwTEFBMEwsc0tBQXNLLG9IQUFvSCxLQUFLLE1BQU0sNk1BQTZNLDJEQUEyRCxTQUFTLHNCQUFzQix3TkFBd04sMENBQTBDLFdBQVcsS0FBSyx5QkFBeUIsMkNBQTJDLEtBQUssTUFBTSxZQUFZLFdBQVcsMkZBQTJGLEtBQUssT0FBTyxlQUFlLFFBQVEsV0FBVyxLQUFLLHdJQUF3SSxnREFBZ0QsV0FBVyxLQUFLLDRDQUE0Qyx5REFBeUQsS0FBSywwQ0FBMEMsMENBQTBDLGdHQUFnRyxZQUFZLG9CQUFvQixLQUFLLHlCQUF5Qix5TUFBeU0saUNBQWlDLDhEQUE4RCxvRUFBb0UsUUFBUSxXQUFXLEtBQUssNEJBQTRCLHVDQUF1Qyw2S0FBNkssUUFBUSxZQUFZLG9DQUFvQywwQ0FBMEMsUUFBUSw0QkFBNEIsa0NBQWtDLHdCQUF3QixRQUFRLFdBQVcsS0FBSyxnQkFBZ0IsUUFBUSw0QkFBNEIsS0FBSyxzRkFBc0YsUUFBUSw0QkFBNEIsMEdBQTBHLHNCQUFzQixpQkFBaUIsR0FBRyxRQUFRLFdBQVcsS0FBSyxNQUFNLDZHQUE2RyxRQUFRLDRCQUE0QixxS0FBcUssaURBQWlELGdCQUFnQixvQ0FBb0MsS0FBSyxvQ0FBb0Msd0pBQXdKLFFBQVEsNlNBQTZTLHVLQUF1Syx5SUFBeUksS0FBSywwQkFBMEIsd0NBQXdDLDhVQUE4VSwwQ0FBMEMsd1VBQXdVLDJDQUEyQyx1cEJBQXVwQiwyQ0FBMkMscUhBQXFILDRDQUE0QyxRQUFRLDRCQUE0QixrQ0FBa0MsK0NBQStDLFlBQVksb0NBQW9DLEtBQUssb0NBQW9DLG1DQUFtQyxvQkFBb0IsbUVBQW1FLEtBQUssU0FBUyxRQUFRLHlCQUF5QixLQUFLLHlCQUF5QixnQkFBZ0IsMkNBQTJDLFlBQVksNEJBQTRCLHlEQUF5RCxxQ0FBcUMsc0JBQXNCLGtCQUFrQixZQUFZLHFCQUFxQix5QkFBeUIsUUFBUSw0QkFBNEIsS0FBSyxvRUFBb0UsZ0NBQWdDLDZDQUE2Qyx1Q0FBdUMsU0FBUyxRQUFRLHFCQUFxQixLQUFLLFNBQVMsT0FBTyx5RkFBeUYsZ0JBQWdCLDBCQUEwQix1RkFBdUYsUUFBUSxxQkFBcUIsS0FBSyxPQUFPLFlBQVksMkJBQTJCLEtBQUssMkJBQTJCLHVFQUF1RSxvQkFBb0IsMkRBQTJELGdCQUFnQiwwQkFBMEIsd0ZBQXdGLHVDQUF1QyxvREFBb0QsNkVBQTZFLFdBQVcsS0FBSyxXQUFXLCtKQUErSixRQUFRLE1BQU0sUUFBUSxvQ0FBb0MsS0FBSyxzSEFBc0gsaUpBQWlKLFlBQVksZ0RBQWdELEtBQUssMERBQTBELG9GQUFvRiwrQ0FBK0MsUUFBUSw0QkFBNEIsS0FBSyw0Q0FBNEMsUUFBUSw0QkFBNEIsNENBQTRDLGdPQUFnTyxRQUFRLHVFQUF1RSxFQUFFLFFBQVEsNEJBQTRCLFlBQVksMElBQTBJLEVBQUUseUNBQXlDLFFBQVEscUJBQXFCLEtBQUsscUJBQXFCLGFBQWEsMkJBQTJCLDhFQUE4RSwrRUFBK0Usa0NBQWtDLFNBQVMsUUFBUSxpQkFBaUIsS0FBSyxpQkFBaUIsdUJBQXVCLGlCQUFpQixvQkFBb0IsS0FBSyxnREFBZ0QsNk9BQTZPLGdCQUFnQixrQ0FBa0MsUUFBUSxvQkFBb0IsK0ZBQStGLFFBQVEsV0FBVywwRkFBMEYsbURBQW1ELHVLQUF1SyxHQUFHLDJCQUEyQix3RUFBd0UsTUFBTSxlQUFlLHdDQUF3QyxrQ0FBa0MsTUFBTSxrQ0FBa0MsR0FBRywyWEFBMlgsMEVBQTBFLGdGQUFnRixhQUFhLE9BQU8sdUJBQXVCLCtDQUErQyxlQUFlLDZEQUE2RCwyQkFBMkIsMEJBQTBCLG9CQUFvQix3Q0FBd0MsTUFBTSw0Q0FBNEMsTUFBTSw4Q0FBOEMsTUFBTSw0Q0FBNEMsTUFBTSw4Q0FBOEMsa0NBQWtDLDJCQUEyQixzQkFBc0Isc0RBQXNELDZDQUE2QyxrQ0FBa0MsMkJBQTJCLGtEQUFrRCw4REFBOEQsNENBQTRDLG9DQUFvQyxzQ0FBc0MsK0JBQStCLGtDQUFrQywwQkFBMEIsRUFBRSx3Q0FBd0Msc0JBQXNCLElBQUksT0FBTyxnS0FBZ0ssTUFBTSw4YUFBOGEsaUNBQWlDLGlCQUFpQixxSUFBcUkscUNBQXFDLGtFQUFrRSxrQkFBa0IsWUFBWSxXQUFXLDBCQUEwQixzREFBc0QsbUNBQW1DLG9FQUFvRSxZQUFZLFdBQVcsY0FBYyw4QkFBOEIsU0FBUyxhQUFhLGlGQUFpRixnQkFBZ0IseURBQXlELGtEQUFrRCxxQ0FBcUMsMENBQTBDLFlBQVksb0NBQW9DLEtBQUssNEZBQTRGLFlBQVksdURBQXVELDJHQUEyRyxnREFBZ0Qsa0VBQWtFLEtBQUssRUFBRSxtQkFBbUIsMEJBQTBCLHNFQUFzRSxrREFBa0QscURBQXFELHFCQUFxQixvQkFBb0IscUJBQXFCLHlCQUF5Qiw4RkFBOEYsdURBQXVELGdDQUFnQyxrSEFBa0gsb0tBQW9LLG1NQUFtTSxrRUFBa0UsOENBQThDLHdCQUF3Qix5QkFBeUIsaUNBQWlDLHlEQUF5RCxzQ0FBc0MsOEJBQThCLCtDQUErQyxNQUFNLG9IQUFvSCx1Q0FBdUMsTUFBTSx1RUFBdUUsTUFBTSxrRUFBa0UsWUFBWSxXQUFXLEtBQUssV0FBVywrSkFBK0osbUNBQW1DLG9GQUFvRixtQ0FBbUMsSUFBSSx3Q0FBd0Msc0JBQXNCLGdEQUFnRCxZQUFZLG9DQUFvQyxLQUFLLDhFQUE4RSwyUUFBMlEseUJBQXlCLEtBQUsseUJBQXlCLDZEQUE2RCxvRkFBb0YsNkNBQTZDLGlCQUFpQiw4QkFBOEIsNEJBQTRCLEtBQUssd0JBQXdCLDJCQUEyQixrQ0FBa0MseUJBQXlCLDhCQUE4QiwrSUFBK0ksd0RBQXdELGtCQUFrQixjQUFjLFFBQVEsV0FBVyxLQUFLLGlCQUFpQixnQ0FBZ0Msa0NBQWtDLEtBQUssNEJBQTRCLGtDQUFrQywrRUFBK0UsNEJBQTRCLDZCQUE2Qiw0QkFBNEIsa0NBQWtDLDRDQUE0Qyx5QkFBeUIsZ0JBQWdCLDZDQUE2Qyx5QkFBeUIsZ0JBQWdCLHFCQUFxQiw4Q0FBOEMsbUNBQW1DLFFBQVEsa0NBQWtDLEtBQUssc0NBQXNDLCtEQUErRCxvQ0FBb0MscURBQXFELDBCQUEwQixNQUFNLHlCQUF5QixLQUFLLGNBQWMsUUFBUSw0QkFBNEIsS0FBSywyTEFBMkwsVUFBVSwrQkFBK0IsNkNBQTZDLG1DQUFtQyx5QkFBeUIsZ0NBQWdDLGtDQUFrQyw4Q0FBOEMsMEhBQTBILHlCQUF5QixnQ0FBZ0MscUNBQXFDLHFDQUFxQyxpQ0FBaUMsMkNBQTJDLDBDQUEwQywwQkFBMEIsRUFBRSxpREFBaUQsMEJBQTBCLFlBQVkseUJBQXlCLEtBQUssMkJBQTJCLG9UQUFvVCw2Q0FBNkMsR0FBRyx5Q0FBeUMsd0lBQXdJLFFBQVEsUUFBUSxnQ0FBZ0Msd09BQXdPLEtBQUssS0FBSyxFQUFFLHVDQUF1QyxtREFBbUQseUlBQXlJLGlDQUFpQyw4REFBOEQsNkRBQTZELHVFQUF1RSxvRkFBb0YsZ0NBQWdDLHFGQUFxRix5RUFBeUUsMkRBQTJELHFOQUFxTiw2QkFBNkIsdUNBQXVDLDJCQUEyQixpSUFBaUksdURBQXVELFdBQVcsS0FBSyxnRUFBZ0UsK0ZBQStGLCtDQUErQyxTQUFTLEdBQUcsbUJBQW1CLGdJQUFnSSxxQ0FBcUMscUJBQXFCLGdFQUFnRSwyREFBMkQsV0FBVyxLQUFLLGtEQUFrRCw2UEFBNlAsWUFBWSwyQkFBMkIsS0FBSywyQkFBMkIsZ0RBQWdELGlDQUFpQyx3QkFBd0IsK0NBQStDLG1CQUFtQix5Q0FBeUMsMkJBQTJCLDBDQUEwQyxrQ0FBa0MsZ0JBQWdCLCtFQUErRSx5Q0FBeUMseUNBQXlDLDZHQUE2RyxtQkFBbUIsS0FBSyx3Q0FBd0Msd0RBQXdELFNBQVMsMENBQTBDLGlEQUFpRCw2QkFBNkIsaUVBQWlFLHlDQUF5Qyx5Q0FBeUMsNkdBQTZHLGlCQUFpQixLQUFLLDBEQUEwRCxpREFBaUQsU0FBUyx3QkFBd0IsZ0JBQWdCLGFBQWEsc0NBQXNDLFNBQVMscUJBQXFCLFlBQVksU0FBUyxxS0FBcUssb0JBQW9CLHVFQUF1RSxtRUFBbUUsbUJBQW1CLGtDQUFrQyxtQkFBbUIsc0NBQXNDLHdCQUF3QixxQ0FBcUMsK0RBQStELHdDQUF3QyxrQ0FBa0MsK0NBQStDLGlDQUFpQyxtQkFBbUIsMENBQTBDLGtDQUFrQyx1QkFBdUIsTUFBTSxXQUFXLG9EQUFvRCw0RkFBNEYsZUFBZSxjQUFjLGFBQWEsc0NBQXNDLFNBQVMsZ0JBQWdCLGNBQWMsc0VBQXNFLGlCQUFpQixlQUFlLGdDQUFnQyxhQUFhLGdDQUFnQyxnRUFBZ0UsdUNBQXVDLE1BQU0sNEJBQTRCLFlBQVksV0FBVyx3QkFBd0IsU0FBUyxTQUFTLHFDQUFxQyx3QkFBd0IsaUNBQWlDLG1FQUFtRSx3Q0FBd0MsT0FBTyxzQkFBc0IseUNBQXlDLFlBQVksNkVBQTZFLCtCQUErQixPQUFPLCtCQUErQiwwQ0FBMEMsaUVBQWlFLFVBQVUsZ0JBQWdCLGFBQWEsc0NBQXNDLFNBQVMsd0JBQXdCLG1DQUFtQyxtQkFBbUIseUVBQXlFLHdFQUF3RSw4QkFBOEIsNkRBQTZELDhCQUE4QixjQUFjLDBDQUEwQyxrQ0FBa0MsV0FBVyxtSEFBbUgsa0JBQWtCLGdCQUFnQixhQUFhLHNDQUFzQyxTQUFTLHdCQUF3QixtQ0FBbUMsdUNBQXVDLHlFQUF5RSx3RUFBd0UsdUNBQXVDLHVFQUF1RSxnQ0FBZ0MsZ0VBQWdFLHNDQUFzQyx1RkFBdUYsc0NBQXNDLHVGQUF1Rix5Q0FBeUMsMEZBQTBGLHNDQUFzQyx3QkFBd0Isc0NBQXNDLG1GQUFtRix5Q0FBeUMsa0NBQWtDLHNFQUFzRSw0Q0FBNEMsZ0NBQWdDLDBCQUEwQiw4Q0FBOEMsaUNBQWlDLHdEQUF3RCxpQ0FBaUMsdUNBQXVDLGlDQUFpQyx1Q0FBdUMsb0NBQW9DLDBDQUEwQywrQ0FBK0Msa0NBQWtDLFdBQVcsa0hBQWtILGVBQWUsMENBQTBDLHNCQUFzQiwwQkFBMEIsR0FBRyxrQkFBa0IsZ0JBQWdCLGFBQWEsc0NBQXNDLFNBQVMsa0JBQWtCLDhLQUE4SyxzVkFBc1YsMEVBQTBFLCtCQUErQiw4QkFBOEIsWUFBWSxzQkFBc0IsZ0RBQWdELHNEQUFzRCwrQkFBK0IsMkhBQTJILFNBQVMsOEJBQThCLDZYQUE2WCxtQ0FBbUMsMkZBQTJGLFFBQVEsd0RBQXdELDRDQUE0Qyx1QkFBdUIsUUFBUSx1QkFBdUIseURBQXlELG9CQUFvQixPQUFPLEtBQUssbUJBQW1CLFFBQVEsdUJBQXVCLGtHQUFrRywyRUFBMkUsYUFBYSxxQkFBcUIsd0JBQXdCLGlCQUFpQiwrREFBK0QsSUFBSSx1QkFBdUIsMkZBQTJGLGFBQWEsV0FBVyxnQ0FBZ0Msa0hBQWtILGlEQUFpRCw4TEFBOEwsNkNBQTZDLHlDQUF5QyxzREFBc0QsOENBQThDLDhDQUE4QyxpQkFBaUIsK0JBQStCLEtBQUssdUJBQXVCLCtGQUErRixTQUFTLHlDQUF5QywyQkFBMkIsbURBQW1ELDRDQUE0Qyx3RkFBd0YsWUFBWSxhQUFhLFVBQVUsa0hBQWtILHFGQUFxRixxQ0FBcUMsMENBQTBDLHdGQUF3RiwyQ0FBMkMsOERBQThELG9DQUFvQyxZQUFZLFdBQVcsZ0NBQWdDLGdDQUFnQyxtQ0FBbUMsNkNBQTZDLDZCQUE2Qix5SkFBeUoseUJBQXlCLGlEQUFpRCx5SEFBeUgscURBQXFELHdDQUF3Qyw2QkFBNkIsaUhBQWlILHVEQUF1RCxxSkFBcUosbUNBQW1DLHFCQUFxQixvQ0FBb0MsZ0RBQWdELHNDQUFzQyxtQkFBbUIsdUNBQXVDLDhDQUE4QyxrQ0FBa0Msb0JBQW9CLG1DQUFtQyxpR0FBaUcsdUJBQXVCLHNGQUFzRix3QkFBd0IsdUNBQXVDLDZDQUE2Qyw0Q0FBNEMsb0NBQW9DLDZDQUE2QywwQ0FBMEMsMkNBQTJDLHFGQUFxRiwwQ0FBMEMseURBQXlELDRDQUE0Qyw2Q0FBNkMsMENBQTBDLDJDQUEyQyxzQ0FBc0MsdURBQXVELG1DQUFtQywyRkFBMkYsNkNBQTZDLGtCQUFrQixvREFBb0QsZ0ZBQWdGLDBDQUEwQywwRUFBMEUsbUNBQW1DLDhCQUE4QixrQ0FBa0Msb0JBQW9CLHlCQUF5Qiw2QkFBNkIsK0VBQStFLHlDQUF5Qyx3QkFBd0Isb0RBQW9ELHVHQUF1RyxXQUFXLEtBQUssMkJBQTJCLHdDQUF3QyxTQUFTLHlEQUF5RCxtSkFBbUosdUJBQXVCLGdCQUFnQix3QkFBd0IseUhBQXlILFNBQVMsc0NBQXNDLHdFQUF3RSwrRUFBK0UsV0FBVywrQ0FBK0MsV0FBVyxLQUFLLHNEQUFzRCxrRkFBa0YseUNBQXlDLE1BQU0sU0FBUyxxREFBcUQsd0VBQXdFLFdBQVcsMENBQTBDLHlDQUF5QyxPQUFPLHdDQUF3QyxtR0FBbUcsS0FBSyxNQUFNLG1TQUFtUyw0R0FBNEcsd0VBQXdFLFlBQVksYUFBYSwwS0FBMEssMENBQTBDLDZIQUE2SCw2Q0FBNkMsa0ZBQWtGLG9DQUFvQyw2SEFBNkgsNkNBQTZDLHdGQUF3RixpREFBaUQsb0NBQW9DLHNCQUFzQix1Q0FBdUMsOERBQThELEtBQUssc0NBQXNDLDBDQUEwQyxtQ0FBbUMsZ0ZBQWdGLCtDQUErQyx3RUFBd0UsaUxBQWlMLFdBQVcsZ0ZBQWdGLFdBQVcsS0FBSyxzREFBc0Qsc0NBQXNDLGtRQUFrUSxlQUFlLGdFQUFnRSxrQkFBa0IsZ0VBQWdFLG1CQUFtQixzR0FBc0csaUNBQWlDLCtCQUErQixxTUFBcU0saUJBQWlCLFdBQVcsS0FBSyxXQUFXLHFLQUFxSyw4Q0FBOEMsNENBQTRDLGdCQUFnQixLQUFLLGtGQUFrRixtREFBbUQsS0FBSyxVQUFVLFlBQVksV0FBVyxLQUFLLFdBQVcsc0ZBQXNGLEtBQUssNEVBQTRFLDJEQUEyRCx1UkFBdVIsT0FBTyxvREFBb0Qsc0NBQXNDLG1JQUFtSSx3Q0FBd0Msd0VBQXdFLHVGQUF1RiwwSEFBMEgsNENBQTRDLFdBQVcsZ0JBQWdCLFdBQVcsS0FBSyxXQUFXLG9FQUFvRSxTQUFTLHdDQUF3Qyx3RUFBd0UsZ0VBQWdFLHdKQUF3SiwrSUFBK0ksV0FBVyxnQkFBZ0IsV0FBVyxLQUFLLFdBQVcsa0VBQWtFLGFBQWEscUhBQXFILFNBQVMsc0NBQXNDLE1BQU0sb0pBQW9KLCtCQUErQixvU0FBb1MsaURBQWlELHdDQUF3Qyx1RkFBdUYsOEhBQThILEtBQUssOEpBQThKLFFBQVEsYUFBYSx1RkFBdUYsc0lBQXNJLFdBQVcsZ0JBQWdCLDBDQUEwQyxzQkFBc0IsZ0NBQWdDLElBQUksS0FBSyxlQUFlLCtEQUErRCxzREFBc0QseUNBQXlDLDRHQUE0RyxxR0FBcUcsUUFBUSxhQUFhLHVGQUF1RixxRkFBcUYsaUpBQWlKLElBQUksS0FBSyxvQkFBb0IsZ0ZBQWdGLG9CQUFvQiwyQ0FBMkMsNE1BQTRNLHdCQUF3Qiw2SEFBNkgsdUlBQXVJLEtBQUsseURBQXlELGFBQWEsbUZBQW1GLHVHQUF1RyxzQ0FBc0MsS0FBSyxLQUFLLGtCQUFrQix3RUFBd0UscUJBQXFCLGdEQUFnRCx1SkFBdUosTUFBTSxLQUFLLGdJQUFnSSw4Q0FBOEMsZUFBZSxrQ0FBa0MscUNBQXFDLGdDQUFnQyx5R0FBeUcsYUFBYSxtRkFBbUYsZ0JBQWdCLHdDQUF3QywyQkFBMkIsZ0NBQWdDLElBQUksS0FBSyxlQUFlLCtEQUErRCxzREFBc0QsK0NBQStDLHVFQUF1RSxnQkFBZ0IsOEJBQThCLEtBQUssb0JBQW9CLGNBQWMsaUNBQWlDLGlDQUFpQyxPQUFPLDBKQUEwSixZQUFZLGdCQUFnQixhQUFhLHNDQUFzQyxTQUFTLGdCQUFnQix5REFBeUQsMENBQTBDLGlGQUFpRiw2QkFBNkIsaUNBQWlDLG1CQUFtQixrQ0FBa0MsZ0NBQWdDLFlBQVksV0FBVyx3QkFBd0IsaUNBQWlDLGdFQUFnRSxrQ0FBa0MsOEJBQThCLFlBQVksV0FBVyx1QkFBdUIsa0NBQWtDLG9DQUFvQyw2QkFBNkIsZ0ZBQWdGLGdDQUFnQyxZQUFZLHNDQUFzQyxhQUFhLFlBQVkscUJBQXFCLG1DQUFtQyxTQUFTLHNDQUFzQyxhQUFhLFlBQVkscUJBQXFCLG1DQUFtQyxTQUFTLHlDQUF5QyxhQUFhLFlBQVkscUJBQXFCLHNDQUFzQyxTQUFTLHVDQUF1QyxnQ0FBZ0MscUJBQXFCLCtDQUErQyxTQUFTLG1DQUFtQyxnQ0FBZ0MsaUNBQWlDLE9BQU8sdUZBQXVGLDBDQUEwQywyREFBMkQsVUFBVSxjQUFjLGFBQWEsc0NBQXNDLFNBQVMsb0JBQW9CLHNJQUFzSSxtUEFBbVAsNEVBQTRFLGlDQUFpQyw4QkFBOEIsWUFBWSxzQkFBc0IsOEJBQThCLDRQQUE0UCx1Q0FBdUMsZ1FBQWdRLGtDQUFrQyxpT0FBaU8sbUNBQW1DLHFCQUFxQixtQ0FBbUMscUJBQXFCLG9DQUFvQyxnRUFBZ0Usb0NBQW9DLGdFQUFnRSxxQ0FBcUMsMkJBQTJCLHFDQUFxQywyQkFBMkIsa0NBQWtDLG9CQUFvQixrQ0FBa0Msb0JBQW9CLG1DQUFtQyxtQ0FBbUMsbUNBQW1DLG1DQUFtQyw2Q0FBNkMsMkNBQTJDLDZDQUE2QywyQ0FBMkMseUNBQXlDLDJCQUEyQiwwQ0FBMEMsMENBQTBDLG1DQUFtQyxxQkFBcUIsb0NBQW9DLG1FQUFtRSxtQ0FBbUMsOEJBQThCLDBDQUEwQyxzT0FBc08saUpBQWlKLGFBQWEsaUtBQWlLLDRDQUE0QywwVUFBMFUsMENBQTBDLG1RQUFtUSxzQ0FBc0MsbVZBQW1WLHNDQUFzQyxtVkFBbVYsdUNBQXVDLDZIQUE2SCw4RkFBOEYsdUNBQXVDLDZIQUE2SCw4RkFBOEYsMERBQTBELFdBQVcsNEVBQTRFLHlDQUF5Qyw4QkFBOEIsNkJBQTZCLHdLQUF3SyxPQUFPLHVGQUF1RixlQUFlLE9BQU8sMkNBQTJDLHNDQUFzQyxvS0FBb0ssa0JBQWtCLEtBQUssV0FBVyx1SEFBdUgsV0FBVyxLQUFLLG9IQUFvSCxzRUFBc0UsaVJBQWlSLDRCQUE0QiwyUUFBMlEsb0NBQW9DLHNKQUFzSiw0RUFBNEUsbUJBQW1CLCtEQUErRCxvQ0FBb0Msc0pBQXNKLDRFQUE0RSxtQkFBbUIsK0RBQStELDBDQUEwQyw0REFBNEQsNkJBQTZCLGlIQUFpSCxTQUFTLG1DQUFtQyx3Q0FBd0MsNkJBQTZCLDBOQUEwTixvQkFBb0IsMkNBQTJDLDREQUE0RCwyQ0FBMkMsNERBQTRELDZDQUE2Qyw4Q0FBOEMsNkNBQTZDLDhDQUE4QywyQ0FBMkMsNENBQTRDLDJDQUEyQyw0Q0FBNEMsc0NBQXNDLDBMQUEwTCx1Q0FBdUMsd0ZBQXdGLHlDQUF5Qyw4REFBOEQsbUJBQW1CLCtIQUErSCxpQkFBaUIsWUFBWSxhQUFhLEtBQUssb0JBQW9CLFlBQVksYUFBYSxLQUFLLFlBQVksd0dBQXdHLHFCQUFxQixxQ0FBcUMscUhBQXFILGlDQUFpQyxPQUFPLHlRQUF5USxjQUFjLGdCQUFnQixhQUFhLHNDQUFzQyxTQUFTLHlCQUF5QiwrREFBK0QsY0FBYyx1QkFBdUIsc0NBQXNDLGlEQUFpRCxJQUFJLGNBQWMsc0NBQXNDLGVBQWUsc0JBQXNCLFdBQVcsS0FBSyxXQUFXLGlGQUFpRiwwREFBMEQsVUFBVSw0REFBNEQsZ0ZBQWdGLDJCQUEyQiw2Q0FBNkMsRUFBRSwwQ0FBMEMsb0RBQW9ELHFDQUFxQyxvREFBb0Qsd0NBQXdDLHVEQUF1RCxJQUFJLGNBQWMseUJBQXlCLHdEQUF3RCxnREFBZ0QsRUFBRSxnQ0FBZ0MsZUFBZSxzQkFBc0IsV0FBVyxLQUFLLFdBQVcsa0ZBQWtGLDJEQUEyRCxVQUFVLDZEQUE2RCxnRkFBZ0YsMkJBQTJCLDhDQUE4QyxFQUFFLGFBQWEsc0NBQXNDLEVBQUUsMENBQTBDLHFEQUFxRCxxQ0FBcUMscURBQXFELHdDQUF3Qyx3REFBd0QsSUFBSSxjQUFjLHlCQUF5Qix3REFBd0QsaURBQWlELEVBQUUsbUJBQW1CLGVBQWUsc0JBQXNCLFdBQVcsS0FBSyxXQUFXLGtGQUFrRiwyREFBMkQsVUFBVSw2REFBNkQsRUFBRSwyQkFBMkIsOENBQThDLEVBQUUsYUFBYSxzQ0FBc0MsRUFBRSwyREFBMkQseUNBQXlDLEVBQUUsaUVBQWlFLDhCQUE4QixvQ0FBb0MsNEJBQTRCLHlDQUF5QyxrREFBa0QseUNBQXlDLElBQUksY0FBYywwQkFBMEIseURBQXlELGlEQUFpRCxFQUFFLDRDQUE0QyxlQUFlLHNCQUFzQixXQUFXLEtBQUssV0FBVyxpRkFBaUYsMERBQTBELFVBQVUsNERBQTRELHVEQUF1RCwyQkFBMkIsNkNBQTZDLEVBQUUsS0FBSyxtSEFBbUgsY0FBYyxxQ0FBcUMsRUFBRSwwQ0FBMEMsb0RBQW9ELHdDQUF3Qyx1REFBdUQsb0NBQW9DLHVEQUF1RCxVQUFVLGdEQUFnRCxJQUFJLGNBQWMseUJBQXlCLHdEQUF3RCxnREFBZ0QsRUFBRSxxQkFBcUIsZUFBZSxzQkFBc0IsV0FBVyxLQUFLLFdBQVcsOERBQThELHlCQUF5Qiw0REFBNEQsRUFBRSx3QkFBd0IsK0NBQStDLHFEQUFxRCxFQUFFLGFBQWEsOERBQThELEVBQUUsMkJBQTJCLCtDQUErQyxFQUFFLGFBQWEsdUNBQXVDLEVBQUUsU0FBUyxjQUFjLHlCQUF5Qix3REFBd0Qsa0RBQWtELEVBQUUsZ0NBQWdDLEdBQUcsYUFBYSxRQUFRLDREQUE0RCxFQUFFLE1BQU0sNkJBQTZCLGVBQWUsMkNBQTJDLEVBQUUsTUFBTSxtRUFBbUUsUUFBUSw4REFBOEQsRUFBRSxNQUFNLG1DQUFtQywrREFBK0QsMkJBQTJCLGdFQUFnRSxFQUFFLGFBQWEsa0JBQWtCLDZEQUE2RCw2Q0FBNkMsdUNBQXVDLHlFQUF5RSxVQUFVLHNDQUFzQyxJQUFJLGNBQWMseUNBQXlDLGFBQWEsbUVBQW1FLHlEQUF5RCxnREFBZ0QsNERBQTRELGtEQUFrRCxFQUFFLDhCQUE4QixXQUFXLEtBQUssV0FBVyw4RUFBOEUsd0RBQXdELFVBQVUsNkNBQTZDLEVBQUUsbUJBQW1CLHVEQUF1RCx5Q0FBeUMsb0ZBQW9GLCtDQUErQyxJQUFJLG9IQUFvSCwrQ0FBK0Msc0VBQXNFLEVBQUUsa0hBQWtILHNEQUFzRCxvRUFBb0UsK0JBQStCLDJFQUEyRSxvREFBb0QsZ0ZBQWdGLHdCQUF3Qix1REFBdUQsbUJBQW1CLG9FQUFvRSxvREFBb0QseUVBQXlFLG1GQUFtRixvRUFBb0UsMkdBQTJHLGtFQUFrRSwwR0FBMEcsZ0VBQWdFLEtBQUssZUFBZSxxREFBcUQseUJBQXlCLHVCQUF1QixxREFBcUQsRUFBRSxpREFBaUQsd0VBQXdFLEVBQUUsbUNBQW1DLHlCQUF5Qix3QkFBd0IsNkRBQTZELEVBQUUsaUZBQWlGLDRJQUE0SSwyRUFBMkUsRUFBRSxvRUFBb0Usb0NBQW9DLDJFQUEyRSxFQUFFLHFEQUFxRCxxRUFBcUUsRUFBRSxLQUFLLHNDQUFzQyxpRUFBaUUsRUFBRSwwQ0FBMEMsV0FBVyxLQUFLLGlDQUFpQyxpREFBaUQsY0FBYyxxRUFBcUUsRUFBRSxTQUFTLE9BQU8sY0FBYywwQkFBMEIsd0NBQXdDLFdBQVcsS0FBSyxXQUFXLG9HQUFvRyxpRUFBaUUsMkJBQTJCLG9FQUFvRSxVQUFVLDJEQUEyRCxFQUFFLGFBQWEsZ0RBQWdELEVBQUUsbUJBQW1CLHVDQUF1Qyx1REFBdUQsVUFBVSxnREFBZ0QsSUFBSSxjQUFjLGtDQUFrQyxlQUFlLHNCQUFzQixXQUFXLEtBQUssV0FBVyxxRkFBcUYsOERBQThELFVBQVUsZ0VBQWdFLHVEQUF1RCwyQkFBMkIsaURBQWlELEVBQUUsYUFBYSx5Q0FBeUMsRUFBRSwwQ0FBMEMsd0RBQXdELHdDQUF3QywyREFBMkQsSUFBSSxjQUFjLDZCQUE2Qiw0REFBNEQsb0RBQW9ELEVBQUUsbUJBQW1CLGVBQWUsc0JBQXNCLFdBQVcsS0FBSyxXQUFXLGlGQUFpRiwwREFBMEQsVUFBVSw0REFBNEQsRUFBRSwyQkFBMkIsNkNBQTZDLEVBQUUsa0NBQWtDLHFCQUFxQix3REFBd0Qsa0NBQWtDLDREQUE0RCxFQUFFLGFBQWEscUNBQXFDLEVBQUUsU0FBUyw0QkFBNEIsNkNBQTZDLFdBQVcsRUFBRSxVQUFVLGNBQWMsUUFBUSxXQUFXLEtBQUssbUNBQW1DLDhFQUE4RSxTQUFTLEdBQUcsTUFBTSwrRUFBK0UsU0FBUyxHQUFHLE1BQU0sK0VBQStFLFNBQVMsR0FBRyxNQUFNLDhFQUE4RSxTQUFTLHlDQUF5QyxNQUFNLGdGQUFnRixTQUFTLEdBQUcsTUFBTSxpRUFBaUUsTUFBTSxpRkFBaUYsWUFBWSxxQ0FBcUMsTUFBTSxnRkFBZ0YsTUFBTSxrRkFBa0YsU0FBUyxHQUFHLE1BQU0sOEVBQThFLFNBQVMsR0FBRywrQkFBK0Isd0RBQXdELGFBQWEsd0JBQXdCLFdBQVcsMENBQTBDLHdEQUF3RCxhQUFhLGdCQUFnQixVQUFVLGdCQUFnQixhQUFhLHNDQUFzQyxTQUFTLGtCQUFrQixpR0FBaUcseVBBQXlQLDBFQUEwRSwrQkFBK0IsaUNBQWlDLDBaQUEwWixzQ0FBc0Msc0RBQXNELDhCQUE4QixZQUFZLHNCQUFzQixrQ0FBa0Msb0JBQW9CLGtDQUFrQyxvQkFBb0IsbUNBQW1DLDRUQUE0VCxrQ0FBa0Msb0JBQW9CLG1DQUFtQywyREFBMkQsbUNBQW1DLCtCQUErQixtQ0FBbUMseU9BQXlPLDhCQUE4QixtTkFBbU4sMENBQTBDLHlCQUF5Qiw0Q0FBNEMsU0FBUywwQ0FBMEMsU0FBUyw2Q0FBNkMsMkVBQTJFLHNDQUFzQyxxQ0FBcUMsT0FBTyxxQ0FBcUMsa0JBQWtCLG1CQUFtQixXQUFXLEtBQUssMkZBQTJGLDZFQUE2RSxTQUFTLDBDQUEwQywrQ0FBK0MseUtBQXlLLG9DQUFvQywrQ0FBK0MsMElBQTBJLHFDQUFxQywrQ0FBK0MsMklBQTJJLHVDQUF1Qyx3QkFBd0Isc0NBQXNDLDRHQUE0RyxxREFBcUQsd0VBQXdFLDhCQUE4QiwrQkFBK0Isd0NBQXdDLHdFQUF3RSxvVUFBb1UsNkZBQTZGLHdDQUF3Qyx3RUFBd0UsZ0VBQWdFLHVHQUF1Ryx1Q0FBdUMsOEJBQThCLCtDQUErQyxnQ0FBZ0MsZ0NBQWdDLGtFQUFrRSxnQkFBZ0IsZ0NBQWdDLHFFQUFxRSw0REFBNEQsZ0NBQWdDLGdDQUFnQyxnQ0FBZ0MsZ0NBQWdDLDJKQUEySix5RkFBeUYsS0FBSyxrRUFBa0UsOERBQThELFFBQVEsZUFBZSxPQUFPLHNCQUFzQiwrQ0FBK0Msd0VBQXdFLGdDQUFnQyxnQ0FBZ0Msb0VBQW9FLDRKQUE0SixtQ0FBbUMsaVpBQWlaLGdEQUFnRCxpQ0FBaUMsaUNBQWlDLDRDQUE0Qyw0S0FBNEssWUFBWSxlQUFlLGFBQWEsc0NBQXNDLFNBQVMsa0JBQWtCLDhFQUE4RSxzSEFBc0gsaUZBQWlGLCtCQUErQixnQ0FBZ0Msa0JBQWtCLGdDQUFnQyxrQkFBa0IsbUNBQW1DLHFCQUFxQixpQ0FBaUMsYUFBYSxpQ0FBaUMsYUFBYSxvQ0FBb0MsZ0JBQWdCLHVDQUF1Qyw0RUFBNEUscUNBQXFDLDRFQUE0RSxnQ0FBZ0MsOENBQThDLGdDQUFnQyxlQUFlLGdEQUFnRCxzREFBc0Qsb0NBQW9DLGVBQWUsZ0RBQWdELG1FQUFtRSxtQ0FBbUMsc0JBQXNCLHFDQUFxQyxpQkFBaUIsaUNBQWlDLDBHQUEwRywyQkFBMkIscUVBQXFFLDJCQUEyQixxRUFBcUUsMENBQTBDLDhFQUE4RSxvQ0FBb0MsZUFBZSwwQkFBMEIsK0JBQStCLG1EQUFtRCw2Q0FBNkMsaUZBQWlGLHdDQUF3QyxxQkFBcUIsTUFBTSwrQkFBK0IsMEJBQTBCLGlEQUFpRCxxQkFBcUIsTUFBTSx3RkFBd0YsMERBQTBELHVDQUF1QyxpREFBaUQseUNBQXlDLCtCQUErQiw0QkFBNEIsd0NBQXdDLHdDQUF3Qyw4S0FBOEsscUNBQXFDLHFCQUFxQiwwQ0FBMEMsc0VBQXNFLDREQUE0RCwwQkFBMEIsaUpBQWlKLG9DQUFvQyxxRkFBcUYsOEdBQThHLDhDQUE4QyxnQ0FBZ0MsOENBQThDLGdEQUFnRCxrQ0FBa0MsaUNBQWlDLDBKQUEwSixNQUFNLCtEQUErRCx1TkFBdU4sNkJBQTZCLE1BQU0sMkhBQTJILGtCQUFrQixrRkFBa0YsTUFBTSx1RUFBdUUsMEVBQTBFLGdDQUFnQyw4Q0FBOEMsc0NBQXNDLDZEQUE2RCxzQ0FBc0Msb0RBQW9ELHlDQUF5QyxnRUFBZ0UsaUNBQWlDLGVBQWUsaUNBQWlDLE9BQU8sbUpBQW1KLDBDQUEwQywwREFBMEQsWUFBWSxnQkFBZ0IsYUFBYSxzQ0FBc0MsU0FBUyxnQkFBZ0IsZ0dBQWdHLDJOQUEyTiw0RUFBNEUsNkJBQTZCLDhCQUE4QixZQUFZLHNCQUFzQiw4QkFBOEIsK1BBQStQLHNDQUFzQyxxREFBcUQsdUNBQXVDLDJwQkFBMnBCLGtDQUFrQyxvQkFBb0IsbUNBQW1DLDJEQUEyRCxrQ0FBa0Msb0JBQW9CLG1DQUFtQywrQkFBK0IsbUNBQW1DLG1CQUFtQixvQ0FBb0MsZ1pBQWdaLHVDQUF1QyxtQkFBbUIsd0NBQXdDLGdKQUFnSixrQ0FBa0Msb0JBQW9CLG1DQUFtQyxvRUFBb0UsaUNBQWlDLG1CQUFtQixrQ0FBa0Msc0ZBQXNGLG1DQUFtQyx3REFBd0QscUNBQXFDLG1GQUFtRix3Q0FBd0MsdUJBQXVCLDBFQUEwRSxtREFBbUQsNENBQTRDLCtKQUErSixvSUFBb0ksMENBQTBDLHFIQUFxSCw0SEFBNEgsc0NBQXNDLDBJQUEwSSw0SEFBNEgsc0NBQXNDLHFIQUFxSCxtRkFBbUYsc0NBQXNDLGdGQUFnRixnQ0FBZ0MsNElBQTRJLGVBQWUsdUJBQXVCLHVDQUF1QyxPQUFPLDRGQUE0RixvQ0FBb0Msd0RBQXdELG1DQUFtQywwRkFBMEYseUNBQXlDLG1DQUFtQyx1QkFBdUIsbUNBQW1DLDRDQUE0QywyQ0FBMkMsb0NBQW9DLHVHQUF1Ryx5SEFBeUgsMENBQTBDLE1BQU0seURBQXlELHlEQUF5RCx5REFBeUQsbUNBQW1DLCtQQUErUCxvQ0FBb0MsdUtBQXVLLDJDQUEyQyxpQkFBaUIsMkNBQTJDLHlCQUF5Qiw2Q0FBNkMsU0FBUyw2Q0FBNkMsU0FBUywyQ0FBMkMsU0FBUywyQ0FBMkMsU0FBUyxpQ0FBaUMsbUNBQW1DLDRDQUE0QyxtU0FBbVMsVUFBVSxnQkFBZ0IsYUFBYSxzQ0FBc0MsU0FBUyxpQkFBaUIsbUVBQW1FLDZDQUE2Qyx1RUFBdUUsMkdBQTJHLGtDQUFrQywrQkFBK0IsaUNBQWlDLGdFQUFnRSwwQ0FBMEMsbUVBQW1FLG9DQUFvQyxzRkFBc0YscUNBQXFDLGtCQUFrQixtQ0FBbUMscURBQXFELDRDQUE0QyxxRUFBcUUsa0NBQWtDLHlEQUF5RCwyQ0FBMkMsK0JBQStCLCtCQUErQixrQkFBa0IsaUNBQWlDLDZCQUE2QixxQkFBcUIsMkNBQTJDLHlFQUF5RSxTQUFTLFNBQVMsMENBQTBDLG1FQUFtRSxtREFBbUQsc0VBQXNFLG9DQUFvQywrQkFBK0IsZ0JBQWdCLCtEQUErRCxLQUFLLHdDQUF3QywyR0FBMkcsS0FBSyxnREFBZ0QsNEhBQTRILFNBQVMsbUNBQW1DLDBFQUEwRSwwQ0FBMEMsdUZBQXVGLG9DQUFvQyxpRkFBaUYsNkNBQTZDLGlFQUFpRSxxQkFBcUIsZ0NBQWdDLDRGQUE0RixpQ0FBaUMsa0VBQWtFLHVDQUF1Qyw0Q0FBNEMsK0NBQStDLDRGQUE0Rix3Q0FBd0MscUZBQXFGLCtDQUErQyx3RkFBd0YsK0NBQStDLDBGQUEwRixzQ0FBc0MsOERBQThELHFEQUFxRCwyRUFBMkUsd0NBQXdDLHFGQUFxRixzQ0FBc0MsaUZBQWlGLFdBQVcsZ0JBQWdCLGFBQWEsc0NBQXNDLFNBQVMsb0JBQW9CLHNGQUFzRiw2TUFBNk0sNEVBQTRFLGlDQUFpQyw4QkFBOEIsWUFBWSxzQkFBc0IsOEJBQThCLDBPQUEwTyxzQ0FBc0MscURBQXFELHFDQUFxQyxnbUJBQWdtQixrQ0FBa0Msb0JBQW9CLG1DQUFtQywyREFBMkQsa0NBQWtDLG9CQUFvQixtQ0FBbUMsK0JBQStCLG1DQUFtQyxtQkFBbUIsb0NBQW9DLGdaQUFnWix1Q0FBdUMsbUJBQW1CLHdDQUF3QyxnSkFBZ0osa0NBQWtDLG9CQUFvQixtQ0FBbUMsb0VBQW9FLDRDQUE0QywyR0FBMkcsb0lBQW9JLDBDQUEwQyw0REFBNEQsbUZBQW1GLHNDQUFzQyxnQ0FBZ0MscURBQXFELHNDQUFzQyx1RkFBdUYsbUZBQW1GLHNDQUFzQyxnQ0FBZ0MsZ0NBQWdDLGtIQUFrSCwyRUFBMkUsU0FBUyxvQ0FBb0Msb0VBQW9FLHlDQUF5QyxtQ0FBbUMsa0NBQWtDLG1DQUFtQyw0Q0FBNEMsb0NBQW9DLHVHQUF1Ryx5SEFBeUgsMENBQTBDLE1BQU0seURBQXlELHlEQUF5RCx5REFBeUQsbUNBQW1DLCtQQUErUCxvQ0FBb0MsdUtBQXVLLDJDQUEyQyxpQkFBaUIsMkNBQTJDLHlCQUF5Qiw2Q0FBNkMsU0FBUyw2Q0FBNkMsU0FBUywyQ0FBMkMsU0FBUywyQ0FBMkMsU0FBUyxpQ0FBaUMsbUNBQW1DLDRDQUE0Qyw2UUFBNlEsY0FBYyxnQkFBZ0IsYUFBYSxzQ0FBc0MsU0FBUyxnQkFBZ0IsMERBQTBELDRMQUE0TCxpRkFBaUYsNkJBQTZCLHFDQUFxQyx3REFBd0QsOEJBQThCLFlBQVksNFNBQTRTLGlDQUFpQyxtQkFBbUIsa0NBQWtDLGNBQWMscUNBQXFDLHNCQUFzQix3RUFBd0Usb0NBQW9DLHNCQUFzQixtQ0FBbUMsNkRBQTZELHVDQUF1Qyx5QkFBeUIscUNBQXFDLHlCQUF5QixtQ0FBbUMsZUFBZSxrQ0FBa0Msb0JBQW9CLG1DQUFtQyw0QkFBNEIsRUFBRSx5REFBeUQsU0FBUyxpQ0FBaUMsYUFBYSxnQ0FBZ0Msa0JBQWtCLGlDQUFpQyxtQkFBbUIsa0NBQWtDLDRFQUE0RSwyQkFBMkIsc0JBQXNCLCtCQUErQixpQkFBaUIsMkJBQTJCLHNCQUFzQiwrQkFBK0IsaUJBQWlCLGlDQUFpQyw2RUFBNkUsd0NBQXdDLHFJQUFxSSx5Q0FBeUMsMEZBQTBGLDBDQUEwQyxxQ0FBcUMsaU5BQWlOLHdDQUF3QyxvQkFBb0Isc0NBQXNDLG9CQUFvQiwwQ0FBMEMsdUJBQXVCLEVBQUUsRUFBRSw0QkFBNEIsNENBQTRDLHNDQUFzQywrQkFBK0IseUJBQXlCLHFCQUFxQiwrQkFBK0IsbUNBQW1DLHNCQUFzQixxQ0FBcUMsaUJBQWlCLHFDQUFxQyx1QkFBdUIsc0NBQXNDLDhDQUE4QywwQ0FBMEMsaUVBQWlFLG9DQUFvQywwQkFBMEIsZ0NBQWdDLGtEQUFrRCw2Q0FBNkMsb0VBQW9FLCtDQUErQyxnQkFBZ0IseUJBQXlCLHFDQUFxQywyQ0FBMkMsK0JBQStCLHVDQUF1QyxnSEFBZ0gsMENBQTBDLHlDQUF5Qyw2REFBNkQsK0JBQStCLHNDQUFzQyxRQUFRLCtEQUErRCxXQUFXLHNCQUFzQixZQUFZLFdBQVcsMEJBQTBCLHlDQUF5QyxvQ0FBb0MsdUhBQXVILHFCQUFxQiwwREFBMEQsOENBQThDLHFCQUFxQiwrREFBK0QsS0FBSyxRQUFRLHFCQUFxQixvRkFBb0Ysc0NBQXNDLG1CQUFtQiw4REFBOEQsT0FBTyxvRUFBb0UsZ0NBQWdDLG9KQUFvSixzQ0FBc0MsYUFBYSx1QkFBdUIsRUFBRSxpRUFBaUUsU0FBUyxzQ0FBc0MsaUNBQWlDLHlDQUF5QyxhQUFhLFlBQVksd0JBQXdCLGdEQUFnRCxTQUFTLHVDQUF1QyxzQkFBc0IsOEVBQThFLCtDQUErQyxzQkFBc0IsMENBQTBDLDZDQUE2QyxrQ0FBa0MsaUNBQWlDLDJIQUEySCxpQ0FBaUMsb0NBQW9DLFlBQVksV0FBVywwQkFBMEIscUJBQXFCLGlDQUFpQyxPQUFPLDJRQUEyUSwwQ0FBMEMsK0ZBQStGLFVBQVUsZ0JBQWdCLGFBQWEsc0NBQXNDLFNBQVMsbUJBQW1CLDBHQUEwRyxrVUFBa1UsMEVBQTBFLGdDQUFnQyxtQ0FBbUMseWlCQUF5aUIsc0NBQXNDLHNEQUFzRCxrQ0FBa0Msb0JBQW9CLGtDQUFrQyxvQkFBb0IsbUNBQW1DLHlEQUF5RCxtQ0FBbUMsc1ZBQXNWLHNDQUFzQyxtUUFBbVEscUNBQXFDLG1CQUFtQixxQ0FBcUMsbUJBQW1CLDhCQUE4QixZQUFZLHNCQUFzQiw4QkFBOEIsOFBBQThQLHVDQUF1Qyx5QkFBeUIsdUNBQXVDLHlCQUF5Qix3Q0FBd0MsMEZBQTBGLHdDQUF3QywwRkFBMEYsMENBQTBDLHlCQUF5Qiw0Q0FBNEMsU0FBUywwQ0FBMEMsU0FBUywyQ0FBMkMscUNBQXFDLHFEQUFxRCxvRUFBb0UsMEJBQTBCLHNDQUFzQyx3RUFBd0UsbUJBQW1CLG1DQUFtQyxFQUFFLG9EQUFvRCwrQ0FBK0Msb0RBQW9ELHVCQUF1QixhQUFhLDBCQUEwQixNQUFNLGlDQUFpQyxNQUFNLHdDQUF3QyxNQUFNLHdEQUF3RCxzRkFBc0YsU0FBUyxxREFBcUQsdUpBQXVKLDBDQUEwQywrQ0FBK0MsbUxBQW1MLG9DQUFvQywrQ0FBK0Msb0pBQW9KLHFDQUFxQywrQ0FBK0MscUpBQXFKLDhDQUE4QywwSEFBMEgsOEJBQThCLHNDQUFzQyxtSUFBbUksd0NBQXdDLHdFQUF3RSxrV0FBa1csNkZBQTZGLHdDQUF3Qyx3RUFBd0UsNEJBQTRCLHlCQUF5Qiw0QkFBNEIseUJBQXlCLDRIQUE0SCxzR0FBc0cseUJBQXlCLHNIQUFzSCxtQ0FBbUMsa21CQUFrbUIsK0NBQStDLGdDQUFnQyxnQ0FBZ0Msa0VBQWtFLGdCQUFnQixnQ0FBZ0MscUVBQXFFLG1DQUFtQyx3RUFBd0UsK0NBQStDLHdFQUF3RSxnQ0FBZ0MsZ0NBQWdDLGtFQUFrRSxrREFBa0QsaUJBQWlCLHFKQUFxSixnRUFBZ0UsZ0dBQWdHLFNBQVMsNkZBQTZGLHFIQUFxSCwwQ0FBMEMsNEdBQTRHLE9BQU8sK0dBQStHLHFEQUFxRCw2U0FBNlMsMEhBQTBILHlDQUF5QyxnREFBZ0QsaUNBQWlDLGlDQUFpQyw0Q0FBNEMseU9BQXlPLGFBQWEsZ0JBQWdCLGFBQWEsc0NBQXNDLFNBQVMsMEJBQTBCLHlHQUF5RyxvUEFBb1AsNEVBQTRFLHdDQUF3Qyw4QkFBOEIsWUFBWSxzQkFBc0IsOEJBQThCLDBTQUEwUyxzQ0FBc0MscURBQXFELHVDQUF1Qyw2b0JBQTZvQix1Q0FBdUMseUJBQXlCLHdDQUF3QyxnRUFBZ0UsdUNBQXVDLHlCQUF5Qix3Q0FBd0MsZ0VBQWdFLHFDQUFxQyxtQkFBbUIsc0NBQXNDLGdKQUFnSixrQ0FBa0Msb0JBQW9CLG1DQUFtQywrQkFBK0IsbUNBQW1DLG1CQUFtQixvQ0FBb0MsZ0pBQWdKLGtDQUFrQyxvQkFBb0IsbUNBQW1DLG9FQUFvRSxpQ0FBaUMsbUJBQW1CLGtDQUFrQyxzRkFBc0YsbUNBQW1DLHdEQUF3RCxxQ0FBcUMsd0ZBQXdGLHdDQUF3Qyx1QkFBdUIsK0VBQStFLG1EQUFtRCw0Q0FBNEMsME1BQTBNLG9JQUFvSSwwQ0FBMEMsdUtBQXVLLHFKQUFxSixzQ0FBc0MsZ01BQWdNLDRIQUE0SCxzQ0FBc0MsZ0tBQWdLLG1GQUFtRixzQ0FBc0MsUUFBUSxzQkFBc0IsZ0NBQWdDLHdIQUF3SCxLQUFLLGdDQUFnQywwQ0FBMEMsaVFBQWlRLDREQUE0RCxTQUFTLDhKQUE4SixnRkFBZ0YsT0FBTyw2Q0FBNkMsNENBQTRDLE9BQU8sbUNBQW1DLGNBQWMsY0FBYyxPQUFPLFNBQVMsb0NBQW9DLDZEQUE2RCxtQ0FBbUMsMkZBQTJGLHlDQUF5QyxtQ0FBbUMsdUJBQXVCLG1DQUFtQyxnRkFBZ0YsMkNBQTJDLG9DQUFvQyxpSEFBaUgseUhBQXlILDBDQUEwQyxNQUFNLHlEQUF5RCx5REFBeUQseURBQXlELG1DQUFtQywrUEFBK1Asb0NBQW9DLGlNQUFpTSwyQ0FBMkMsaUJBQWlCLDJDQUEyQyx5QkFBeUIsNkNBQTZDLFNBQVMsNkNBQTZDLFNBQVMsMkNBQTJDLFNBQVMsMkNBQTJDLFNBQVMsaUNBQWlDLG1DQUFtQyw0Q0FBNEMsZ1dBQWdXLG9CQUFvQixnQkFBZ0IsYUFBYSxzQ0FBc0MsU0FBUyw4QkFBOEIsc0ZBQXNGLHNPQUFzTyw0RUFBNEUsNENBQTRDLDhCQUE4QixZQUFZLHNCQUFzQiw4QkFBOEIscVJBQXFSLHNDQUFzQyxxREFBcUQscUNBQXFDLGtsQkFBa2xCLHVDQUF1Qyx5QkFBeUIsd0NBQXdDLGdFQUFnRSx1Q0FBdUMseUJBQXlCLHdDQUF3QyxnRUFBZ0UscUNBQXFDLG1CQUFtQixzQ0FBc0MsZ0pBQWdKLGtDQUFrQyxvQkFBb0IsbUNBQW1DLCtCQUErQixtQ0FBbUMsbUJBQW1CLG9DQUFvQyxnSkFBZ0osa0NBQWtDLG9CQUFvQixtQ0FBbUMsb0VBQW9FLDRDQUE0QyxxSEFBcUgsb0lBQW9JLDBDQUEwQyxxSEFBcUgsdUZBQXVGLHNDQUFzQyxnQ0FBZ0MscURBQXFELHNDQUFzQyxpR0FBaUcsbUZBQW1GLHNDQUFzQyxnQ0FBZ0MsZ0NBQWdDLGdEQUFnRCxPQUFPLGlEQUFpRCxvQ0FBb0MscUVBQXFFLHlDQUF5QyxtQ0FBbUMsdUNBQXVDLG1DQUFtQyxnRkFBZ0Ysb0NBQW9DLGlIQUFpSCx5SEFBeUgsMENBQTBDLE1BQU0seURBQXlELHlEQUF5RCx5REFBeUQsbUNBQW1DLCtQQUErUCxvQ0FBb0MsaU1BQWlNLDJDQUEyQyxpQkFBaUIsMkNBQTJDLHlCQUF5Qiw2Q0FBNkMsU0FBUyw2Q0FBNkMsU0FBUywyQ0FBMkMsU0FBUywyQ0FBMkMsU0FBUyxpQ0FBaUMsbUNBQW1DLDRDQUE0QywwVUFBMFUsd0JBQXdCLGdCQUFnQixhQUFhLHNDQUFzQyxTQUFTLGdCQUFnQiwwREFBMEQsK0ZBQStGLGlGQUFpRiw2QkFBNkIsdUNBQXVDLDREQUE0RCw4QkFBOEIsWUFBWSw4SkFBOEosbUNBQW1DLHFCQUFxQixvQ0FBb0MsZ0JBQWdCLGlDQUFpQyxtQkFBbUIsa0NBQWtDLGNBQWMsaUNBQWlDLG1CQUFtQixrQ0FBa0MsZ0NBQWdDLFlBQVksV0FBVyx3QkFBd0IsaUNBQWlDLGdFQUFnRSxrQ0FBa0MsOEJBQThCLFlBQVksV0FBVyx1QkFBdUIsa0NBQWtDLG9DQUFvQyw2QkFBNkIsZ0ZBQWdGLG1DQUFtQyxzQkFBc0IscUNBQXFDLGlCQUFpQixvQ0FBb0MsMENBQTBDLDRDQUE0QywyQ0FBMkMsMENBQTBDLHdDQUF3QyxzREFBc0QsZ0NBQWdDLGdEQUFnRCxzQ0FBc0MsaUNBQWlDLHNDQUFzQyxhQUFhLFlBQVkscUJBQXFCLG1DQUFtQyxTQUFTLHlDQUF5QyxhQUFhLFlBQVkscUJBQXFCLHNDQUFzQyxTQUFTLHVDQUF1Qyw0REFBNEQsdVFBQXVRLHNDQUFzQyxxQ0FBcUMscUNBQXFDLHNEQUFzRCxpQ0FBaUMsT0FBTyx3SkFBd0osMENBQTBDLHlFQUF5RSxVQUFVLGdCQUFnQixhQUFhLHNDQUFzQyxTQUFTLGdCQUFnQix1RkFBdUYscUlBQXFJLDBFQUEwRSw2QkFBNkIsK0JBQStCLDJKQUEySiw4QkFBOEIsWUFBWSxzQkFBc0Isc0NBQXNDLE9BQU8scUNBQXFDLGtCQUFrQixXQUFXLDJDQUEyQyxZQUFZLFdBQVcsS0FBSyxXQUFXLG9GQUFvRixTQUFTLDhCQUE4Qiw0SEFBNEgsMENBQTBDLGlCQUFpQiw0Q0FBNEMsU0FBUywwQ0FBMEMsU0FBUywwQ0FBMEMsZ0NBQWdDLGlFQUFpRSxvQ0FBb0Msd0NBQXdDLHVDQUF1Qyx5Q0FBeUMsd0NBQXdDLGdDQUFnQyxzRUFBc0Usc0NBQXNDLGdLQUFnSyxxREFBcUQsMkdBQTJHLCtDQUErQywrQkFBK0IsV0FBVyx3Q0FBd0Msd0VBQXdFLHdCQUF3QixtTUFBbU0saURBQWlELGdDQUFnQyxrQ0FBa0MsNk1BQTZNLDZCQUE2QixnQkFBZ0Isc0JBQXNCLDhEQUE4RCw2Q0FBNkMscUNBQXFDLGtDQUFrQyw0QkFBNEIsNENBQTRDLGVBQWUsMkRBQTJELDRFQUE0RSxVQUFVLDRDQUE0QywwTkFBME4sbUNBQW1DLHVJQUF1SSwrQ0FBK0Msd0VBQXdFLGdDQUFnQyxrQ0FBa0Msc0VBQXNFLGlFQUFpRSxnREFBZ0QsaUNBQWlDLE9BQU8sd0pBQXdKLFVBQVUsZ0JBQWdCLGFBQWEsc0NBQXNDLFNBQVMsZ0JBQWdCLHFDQUFxQyw4REFBOEQsaUZBQWlGLDZCQUE2QixnQ0FBZ0Msa0JBQWtCLGlDQUFpQyxhQUFhLG1DQUFtQyxxQkFBcUIsb0NBQW9DLGtDQUFrQyxZQUFZLFdBQVcsMEJBQTBCLG1DQUFtQyxzRUFBc0Usb0NBQW9DLGtDQUFrQyxZQUFZLFdBQVcsdUJBQXVCLHNDQUFzQyxzQ0FBc0MsK0JBQStCLGtGQUFrRixnQ0FBZ0MsOENBQThDLHNDQUFzQyxvREFBb0Qsc0NBQXNDLGFBQWEsWUFBWSx1QkFBdUIscUNBQXFDLFNBQVMseUNBQXlDLGFBQWEsWUFBWSx1QkFBdUIsd0NBQXdDLFNBQVMsaUNBQWlDLGFBQWEsaUNBQWlDLE9BQU8sMkZBQTJGLDBDQUEwQyw2REFBNkQsVUFBVSxnQkFBZ0IsYUFBYSxzQ0FBc0MsU0FBUyxnQkFBZ0IsK0NBQStDLDZEQUE2RCxpRkFBaUYsNkJBQTZCLGdDQUFnQyxrQkFBa0IsaUNBQWlDLGFBQWEsa0NBQWtDLG9CQUFvQixtQ0FBbUMsaUNBQWlDLFlBQVksV0FBVyx5QkFBeUIsa0NBQWtDLG1FQUFtRSxtQ0FBbUMsZ0NBQWdDLFlBQVksV0FBVyx1QkFBdUIsb0NBQW9DLHFDQUFxQyw4QkFBOEIsaUZBQWlGLHNDQUFzQyxhQUFhLFlBQVksc0JBQXNCLG9DQUFvQyxTQUFTLHNDQUFzQyxhQUFhLFlBQVksc0JBQXNCLG9DQUFvQyxTQUFTLHlDQUF5QyxhQUFhLFlBQVksc0JBQXNCLHVDQUF1QyxTQUFTLHVDQUF1QyxnQ0FBZ0Msc0JBQXNCLGdEQUFnRCxTQUFTLGlDQUFpQyxhQUFhLGlDQUFpQyxPQUFPLHlGQUF5RiwwQ0FBMEMsNERBQTRELFVBQVUsZ0JBQWdCLGFBQWEsc0NBQXNDLFNBQVMsaUJBQWlCLDRFQUE0RSxnTEFBZ0wsNEVBQTRFLDhCQUE4Qiw4QkFBOEIsWUFBWSxzQkFBc0IsOEJBQThCLDhMQUE4TCxzQ0FBc0Msc0RBQXNELGlDQUFpQyxnZEFBZ2Qsa0NBQWtDLG9CQUFvQixtQ0FBbUMsK0JBQStCLGtDQUFrQyxvQkFBb0IsbUNBQW1DLG1aQUFtWixpQ0FBaUMsbUJBQW1CLGtDQUFrQywySUFBMkksNENBQTRDLG9DQUFvQywyRkFBMkYsMENBQTBDLHFDQUFxQyxzQ0FBc0Msb0NBQW9DLHNDQUFzQyxvQ0FBb0Msc0NBQXNDLGdDQUFnQyx3Q0FBd0MseUlBQXlJLG9DQUFvQyxpQkFBaUIsdURBQXVELG9DQUFvQyxpQkFBaUIsdURBQXVELDBDQUEwQyx3QkFBd0IscVJBQXFSLG1DQUFtQyxnVEFBZ1QsMkNBQTJDLGlCQUFpQiwyQ0FBMkMsaUJBQWlCLDZDQUE2QyxTQUFTLDZDQUE2QyxTQUFTLDJDQUEyQyxTQUFTLDJDQUEyQyxTQUFTLGlDQUFpQyxPQUFPLHNQQUFzUCxXQUFXLGdCQUFnQixhQUFhLHNDQUFzQyxTQUFTLGlCQUFpQiwwREFBMEQsd0dBQXdHLGlGQUFpRiw4QkFBOEIsOEJBQThCLFlBQVksc0JBQXNCLDhCQUE4Qiw4RUFBOEUsb0NBQW9DLHNCQUFzQixzQ0FBc0MsaUNBQWlDLHlDQUF5QyxvQ0FBb0MsdUNBQXVDLHdCQUF3Qiw0Q0FBNEMsbUNBQW1DLDZEQUE2RCxpQ0FBaUMsT0FBTyw4Q0FBOEMsV0FBVyxnQkFBZ0IsYUFBYSxzQ0FBc0MsU0FBUyxpQkFBaUIsK0NBQStDLDREQUE0RCxpRkFBaUYsOEJBQThCLGdDQUFnQyxrQkFBa0IsaUNBQWlDLGFBQWEsaUNBQWlDLG1CQUFtQixrQ0FBa0MsZ0NBQWdDLFlBQVksV0FBVyx3QkFBd0IsaUNBQWlDLGlFQUFpRSxrQ0FBa0MsOEJBQThCLFlBQVksV0FBVyx3QkFBd0Isa0NBQWtDLG9DQUFvQyw2QkFBNkIsa0ZBQWtGLGdDQUFnQyw4Q0FBOEMsc0NBQXNDLGFBQWEsWUFBWSxxQkFBcUIsMEJBQTBCLFNBQVMsc0NBQXNDLGFBQWEsWUFBWSxxQkFBcUIsbUNBQW1DLFNBQVMseUNBQXlDLGFBQWEsWUFBWSxxQkFBcUIsc0NBQXNDLFNBQVMsdUNBQXVDLGdDQUFnQyxxQkFBcUIsK0NBQStDLFNBQVMsaUNBQWlDLGNBQWMsaUNBQWlDLE9BQU8sdUZBQXVGLDBDQUEwQywyREFBMkQsV0FBVyxjQUFjLGFBQWEsc0NBQXNDLFNBQVMsRUFBRSxTQUFTLHlFQUF5RSxTQUFTLHFIQUFxSCwwTEFBMEwsdUVBQXVFLDZDQUE2QyxtQkFBbUIsOEtBQThLLFVBQVUsOEJBQThCLGdDQUFnQyxnQ0FBZ0Msa0NBQWtDLG9DQUFvQyw0QkFBNEIsb0NBQW9DLDRCQUE0QixvQ0FBb0MsaURBQWlELHlEQUF5RCw4QkFBOEIsZ0NBQWdDLDhCQUE4QiwwQkFBMEIsbUJBQW1CLHFHQUFxRyxVQUFVLGdDQUFnQyw0QkFBNEIsZ0NBQWdDLDRCQUE0Qiw0QkFBNEIsOEJBQThCLDRCQUE0Qiw0QkFBNEIsNEJBQTRCLG9DQUFvQywyQkFBMkIsZ0JBQWdCLGFBQWEsc0NBQXNDLFNBQVMsa0JBQWtCLHNGQUFzRiw4TEFBOEwsNEVBQTRFLCtCQUErQiw4QkFBOEIsWUFBWSxzQkFBc0IsOEJBQThCLG1OQUFtTixzQ0FBc0MscURBQXFELG1DQUFtQywwRkFBMEYsa0tBQWtLLHNnQkFBc2dCLGtDQUFrQyxvQkFBb0IsbUNBQW1DLDJEQUEyRCxrQ0FBa0Msb0JBQW9CLG1DQUFtQywrQkFBK0IsbUNBQW1DLG1CQUFtQixvQ0FBb0MsZ1pBQWdaLHVDQUF1QyxtQkFBbUIsd0NBQXdDLGdaQUFnWiw0Q0FBNEMsbUpBQW1KLG9JQUFvSSwwQ0FBMEMsb0dBQW9HLDRIQUE0SCxzQ0FBc0MsaUpBQWlKLDRIQUE0SCxzQ0FBc0MsaUhBQWlILG1GQUFtRixzQ0FBc0MsZ0NBQWdDLGdDQUFnQywwQkFBMEIsK0JBQStCLFNBQVMsaUdBQWlHLE9BQU8sc0RBQXNELG9DQUFvQyxrRUFBa0UsbUNBQW1DLG1EQUFtRCx5Q0FBeUMsbUNBQW1DLHVCQUF1QixtQ0FBbUMsNENBQTRDLG9DQUFvQyxnR0FBZ0csb0NBQW9DLGdIQUFnSCwwRkFBMEYsbUNBQW1DLGlHQUFpRywwQ0FBMEMsb0RBQW9ELHVFQUF1RSxnSkFBZ0osd0NBQXdDLElBQUksZ0JBQWdCLElBQUksS0FBSywrRkFBK0YsbUtBQW1LLFNBQVMsbUNBQW1DLCtQQUErUCxvQ0FBb0MsdUpBQXVKLDJDQUEyQyw2QkFBNkIsMkNBQTJDLHlCQUF5Qiw2Q0FBNkMsU0FBUyw2Q0FBNkMsU0FBUywyQ0FBMkMsU0FBUywyQ0FBMkMsU0FBUyxpQ0FBaUMsbUNBQW1DLDRDQUE0QyxvUEFBb1AsWUFBWSxlQUFlLGFBQWEsc0NBQXNDLFNBQVMsbUJBQW1CLHlEQUF5RCxpRUFBaUUsdUVBQXVFLG1MQUFtTCxtQ0FBbUMsZ0NBQWdDLG1DQUFtQyxnQ0FBZ0Msa0NBQWtDLG1FQUFtRSxrQ0FBa0MsbUVBQW1FLDJDQUEyQyxzRUFBc0UsMkNBQTJDLHNFQUFzRSxxQ0FBcUMsdUJBQXVCLDJFQUEyRSxxQ0FBcUMsdUJBQXVCLDJFQUEyRSxzQ0FBc0MsbUJBQW1CLHNDQUFzQyxtQkFBbUIsb0NBQW9DLHVEQUF1RCxvQ0FBb0MsdURBQXVELDZDQUE2Qyx3RUFBd0UsNkNBQTZDLHdFQUF3RSxtQ0FBbUMsMkRBQTJELG1DQUFtQywyREFBMkQsNENBQTRDLGdDQUFnQyxnQ0FBZ0Msa0JBQWtCLDRDQUE0QyxnQ0FBZ0MsZ0NBQWdDLGtCQUFrQixrQ0FBa0MsOEJBQThCLHNCQUFzQiw0Q0FBNEMsMkVBQTJFLFNBQVMsU0FBUyxrQ0FBa0MsOEJBQThCLHNCQUFzQiw0Q0FBNEMsMkVBQTJFLFNBQVMsU0FBUywyQ0FBMkMsc0VBQXNFLDJDQUEyQyxzRUFBc0UsNENBQTRDLG1FQUFtRSxzQ0FBc0MsNkRBQTZELHNDQUFzQyw2REFBNkQsMENBQTBDLDJCQUEyQiw0RUFBNEUsc0NBQXNDLCtEQUErRCxvQ0FBb0Msa0ZBQWtGLG9DQUFvQyxrRkFBa0YsMENBQTBDLHNGQUFzRixtQ0FBbUMsNERBQTRELGFBQWEsZ0JBQWdCLGFBQWEsc0NBQXNDLFNBQVMsaUJBQWlCLHNGQUFzRixzT0FBc08sNEVBQTRFLDhCQUE4Qiw4QkFBOEIsWUFBWSxzQkFBc0IsOEJBQThCLG1SQUFtUixzQ0FBc0MscURBQXFELHVDQUF1QyxzbUJBQXNtQix1Q0FBdUMseUJBQXlCLHdDQUF3QyxnRUFBZ0UsdUNBQXVDLHlCQUF5Qix3Q0FBd0MsZ0VBQWdFLGtDQUFrQyxvQkFBb0IsbUNBQW1DLCtCQUErQixtQ0FBbUMsbUJBQW1CLG9DQUFvQyxnWkFBZ1osdUNBQXVDLG1CQUFtQix3Q0FBd0MsZ0pBQWdKLG1DQUFtQyw4REFBOEQsaUNBQWlDLHlFQUF5RSxnQ0FBZ0MsNEVBQTRFLGdDQUFnQywyRUFBMkUsa0NBQWtDLGNBQWMsMkNBQTJDLFVBQVUsb09BQW9PLDRDQUE0QyxvQ0FBb0MseURBQXlELG9HQUFvRyxvSUFBb0ksMENBQTBDLG9HQUFvRyw0SEFBNEgsc0NBQXNDLGlJQUFpSSw0SEFBNEgsc0NBQXNDLG9DQUFvQyx5REFBeUQsaUVBQWlFLG1GQUFtRixzQ0FBc0MsZ0NBQWdDLGdDQUFnQyxzSEFBc0gsaUVBQWlFLHFJQUFxSSxvQ0FBb0Msb0NBQW9DLHlEQUF5RCxvQ0FBb0MsbUNBQW1DLG1EQUFtRCx5Q0FBeUMsbUNBQW1DLHVCQUF1QixtQ0FBbUMsNENBQTRDLGdFQUFnRSw0SkFBNEosb0NBQW9DLDJGQUEyRiw0QkFBNEIsb0NBQW9DLGtGQUFrRiwrRUFBK0UsMEZBQTBGLG1DQUFtQyxzRkFBc0YsMENBQTBDLDhGQUE4Rix1RUFBdUUsZ0pBQWdKLG9FQUFvRSxJQUFJLGdCQUFnQixJQUFJLEtBQUssaUVBQWlFLCtEQUErRCx5QkFBeUIsMEhBQTBILDJEQUEyRCxnRUFBZ0UsU0FBUyxtQ0FBbUMsK1BBQStQLG9DQUFvQyxpTEFBaUwsMkNBQTJDLHNFQUFzRSwyQ0FBMkMseUJBQXlCLDZDQUE2Qyx5QkFBeUIsNkNBQTZDLFNBQVMsMkNBQTJDLDBDQUEwQywyQ0FBMkMsU0FBUyxpQ0FBaUMsbUNBQW1DLDRDQUE0QyxvV0FBb1csV0FBVyxnQkFBZ0IsYUFBYSxzQ0FBc0MsU0FBUyxrQkFBa0IsMERBQTBELDBFQUEwRSxpRkFBaUYsK0JBQStCLGlDQUFpQyxtQkFBbUIsa0NBQWtDLGNBQWMscUNBQXFDLHVCQUF1QixzQ0FBc0MsOENBQThDLGlDQUFpQyxtQkFBbUIsd0NBQXdDLGtDQUFrQyxzQ0FBc0MsWUFBWSxxQkFBcUIsS0FBSyxxQkFBcUIsa0JBQWtCLFlBQVksdUNBQXVDLGlCQUFpQixxQkFBcUIsS0FBSyxxQkFBcUIsaUJBQWlCLFNBQVMsNENBQTRDLGlCQUFpQixxQkFBcUIsS0FBSywwQ0FBMEMsb0NBQW9DLFNBQVMsd0NBQXdDLGlCQUFpQixxQkFBcUIsS0FBSyw2REFBNkQsOENBQThDLFNBQVMsaUNBQWlDLGlEQUFpRCxvQ0FBb0MsNkJBQTZCLDBDQUEwQyxvQ0FBb0MsaUNBQWlDLGdDQUFnQyw0REFBNEQsc0NBQXNDLGFBQWEsWUFBWSxxQkFBcUIsbUNBQW1DLFNBQVMsc0NBQXNDLGFBQWEsWUFBWSxxQkFBcUIsMEJBQTBCLFNBQVMseUNBQXlDLGlDQUFpQyx1Q0FBdUMsb0NBQW9DLGlDQUFpQyx5Q0FBeUMsd0NBQXdDLGlEQUFpRCxZQUFZLFdBQVcsNEJBQTRCLFVBQVUsR0FBRyxTQUFTLGlDQUFpQyxPQUFPLHNIQUFzSCwwQ0FBMEMsMkRBQTJELFlBQVksZ0JBQWdCLGFBQWEsc0NBQXNDLFNBQVMsZ0JBQWdCLCtDQUErQyxnRUFBZ0UsaUZBQWlGLDZCQUE2QixvQ0FBb0Msc0JBQXNCLHFDQUFxQyxpQkFBaUIsaUNBQWlDLG1CQUFtQixrQ0FBa0MsZ0NBQWdDLFlBQVksV0FBVyx3QkFBd0IsaUNBQWlDLG9GQUFvRixrQ0FBa0MsOEJBQThCLFlBQVksV0FBVyw4Q0FBOEMsa0NBQWtDLG9DQUFvQyw2QkFBNkIsZ0ZBQWdGLGdDQUFnQyxzQkFBc0Isc0NBQXNDLGtCQUFrQixzQ0FBc0MsYUFBYSxZQUFZLHFCQUFxQiwwQkFBMEIsU0FBUyx5Q0FBeUMsYUFBYSxZQUFZLHFCQUFxQixzQ0FBc0MsU0FBUyxtQ0FBbUMsWUFBWSxxQkFBcUIsS0FBSyw2REFBNkQscUNBQXFDLHlEQUF5RCxTQUFTLHdDQUF3QyxpQ0FBaUMsa0NBQWtDLFNBQVMsdUJBQXVCLHNGQUFzRixTQUFTLEVBQUUsYUFBYSwwQkFBMEIsK1FBQStRLGVBQWUsbURBQW1ELE9BQU8sT0FBTyx1QkFBdUIsaUNBQWlDLGlHQUFpRyxzQ0FBc0MscUJBQXFCLEtBQUssOENBQThDLG9FQUFvRSw2QkFBNkIsa0NBQWtDLG9CQUFvQix5QkFBeUIsUUFBUSwwQkFBMEIsdUNBQXVDLGdDQUFnQyxxQkFBcUIsK0NBQStDLFNBQVMsaUNBQWlDLGFBQWEsaUNBQWlDLE9BQU8sdUZBQXVGLDBDQUEwQywyREFBMkQsVUFBVSxnQkFBZ0IsYUFBYSxzQ0FBc0MsU0FBUyxvQkFBb0IseURBQXlELDBDQUEwQyxpRkFBaUYsaUNBQWlDLGlDQUFpQyxtQkFBbUIsa0NBQWtDLGdDQUFnQyxZQUFZLFdBQVcsd0JBQXdCLGlDQUFpQyxvRUFBb0Usa0NBQWtDLDhCQUE4QixZQUFZLFdBQVcsMkJBQTJCLGtDQUFrQyxvQ0FBb0MsNkJBQTZCLHdGQUF3RixnQ0FBZ0MsWUFBWSxzQ0FBc0Msa0JBQWtCLHNDQUFzQyxhQUFhLFlBQVkscUJBQXFCLG1DQUFtQyxTQUFTLHlDQUF5QyxhQUFhLFlBQVkscUJBQXFCLHNDQUFzQyxTQUFTLHVDQUF1QyxnQ0FBZ0MscUJBQXFCLCtDQUErQyxTQUFTLG1DQUFtQyxnQ0FBZ0MsaUNBQWlDLGlCQUFpQixpQ0FBaUMsT0FBTyx1RkFBdUYsMENBQTBDLDJEQUEyRCxjQUFjLGdCQUFnQixhQUFhLHNDQUFzQyxTQUFTLHVCQUF1Qiw2RUFBNkUsb05BQW9OLDBDQUEwQywwQkFBMEIsOEJBQThCLG1DQUFtQyxjQUFjLDJCQUEyQixXQUFXLCtCQUErQixLQUFLLFlBQVksdUJBQXVCLDBDQUEwQyw2Q0FBNkMsd0NBQXdDLDJDQUEyQyx5Q0FBeUMscUVBQXFFLHNFQUFzRSw4Q0FBOEMseUJBQXlCLFVBQVUsdUJBQXVCLFVBQVUsa0NBQWtDLDBCQUEwQixrQ0FBa0MsMEJBQTBCLGlHQUFpRyxlQUFlLDRCQUE0QixnREFBZ0QseUJBQXlCLHNDQUFzQyxzQkFBc0Isc0JBQXNCLHVDQUF1QywyQkFBMkIsY0FBYyxRQUFRLHNCQUFzQix1Q0FBdUMsMkJBQTJCLFdBQVcsdUJBQXVCLHVCQUF1QixtREFBbUQsR0FBRyxHQUFHLGtEQUFrRCx1QkFBdUIsSUFBSSxLQUFLLHdCQUF3QixXQUFXLEtBQUssMENBQTBDLFdBQVcsMkNBQTJDLEVBQUUsZUFBZSxrQ0FBa0MsZUFBZSxVQUFVLFlBQVksV0FBVyxvQkFBb0IscUNBQXFDLG1JQUFtSSw2Q0FBNkMsc0JBQXNCLHVCQUF1QixHQUFHLHFCQUFxQixXQUFXLEtBQUssa0ZBQWtGLGtIQUFrSCxLQUFLLHVGQUF1Riw2QkFBNkIsZ0RBQWdELHlCQUF5Qix1REFBdUQsU0FBUyxzQ0FBc0Msb0NBQW9DLG1DQUFtQyxtQkFBbUIsc0JBQXNCLDBFQUEwRSxzQkFBc0IsS0FBSyw4REFBOEQsd0NBQXdDLHFCQUFxQixPQUFPLCtCQUErQixrRUFBa0UseUJBQXlCLCtCQUErQixrRUFBa0UscURBQXFELG9DQUFvQyx1U0FBdVMsZ0NBQWdDLDJEQUEyRCx5Q0FBeUMsY0FBYyxtREFBbUQsU0FBUyxpQkFBaUIsdUNBQXVDLGNBQWMsaURBQWlELFNBQVMsaUJBQWlCLHVDQUF1Qyx5QkFBeUIsMkNBQTJDLDZCQUE2QixpQkFBaUIsZ0JBQWdCLGFBQWEsc0NBQXNDLFNBQVMsbUNBQW1DLDJEQUEyRCxtQkFBbUIsOEdBQThHLDhDQUE4QyxzRUFBc0UsNEJBQTRCLDBGQUEwRix1Q0FBdUMsaUJBQWlCLDBLQUEwSyw2QkFBNkIsRUFBRSwrREFBK0QsWUFBWSxXQUFXLEtBQUsscUJBQXFCLHNCQUFzQixnQkFBZ0Isb0RBQW9ELDBDQUEwQyxTQUFTLDJCQUEyQixpQkFBaUIsZ1ZBQWdWLHdCQUF3QixFQUFFLDZEQUE2RCxnQkFBZ0Isb0RBQW9ELCtCQUErQixVQUFVLGdCQUFnQixhQUFhLHNDQUFzQyxTQUFTLDRCQUE0Qix5REFBeUQsa0lBQWtJLGlDQUFpQyx5RkFBeUYsNkNBQTZDLGtCQUFrQiwwQkFBMEIsS0FBSyxrQkFBa0Isb0JBQW9CLE1BQU0sa0JBQWtCLDBCQUEwQixJQUFJLDBCQUEwQiwrQ0FBK0MsbUJBQW1CLDJDQUEyQywwQ0FBMEMsTUFBTSxpQkFBaUIsYUFBYSxRQUFRLFdBQVcseUJBQXlCLE9BQU8sTUFBTSx5QkFBeUIsU0FBUyxRQUFRLFdBQVcsa0RBQWtELDJDQUEyQyxXQUFXLEtBQUssV0FBVyxvRkFBb0Ysc0VBQXNFLG1FQUFtRSx1Q0FBdUMsYUFBYSxRQUFRLFdBQVcseUJBQXlCLE9BQU8sTUFBTSxjQUFjLFFBQVEsV0FBVyxLQUFLLGdCQUFnQixtRkFBbUYsa0RBQWtELDZCQUE2Qix3QkFBd0IsRUFBRSw0RkFBNEYsK0RBQStELHlCQUF5QixXQUFXLEtBQUssV0FBVyxtREFBbUQscUJBQXFCLG1CQUFtQix1REFBdUQsc0NBQXNDLDZJQUE2SSxvQ0FBb0MsMEJBQTBCLDBCQUEwQixzREFBc0Qsd0JBQXdCLFlBQVksV0FBVyxLQUFLLFdBQVcsaUdBQWlHLHlCQUF5Qix5QkFBeUIscURBQXFELGdDQUFnQyxXQUFXLEtBQUssV0FBVyxtR0FBbUcseUJBQXlCLHlCQUF5Qix1Q0FBdUMsUUFBUSxXQUFXLEtBQUssMkNBQTJDLFdBQVcsK0NBQStDLGVBQWUseUJBQXlCLHFFQUFxRSwyQ0FBMkMsR0FBRyx5Q0FBeUMsMkJBQTJCLDZDQUE2Qyx3QkFBd0IsNEJBQTRCLG1JQUFtSSxXQUFXLGdDQUFnQyxRQUFRLFdBQVcsNkJBQTZCLDZFQUE2RSwyQ0FBMkMsRUFBRSw2Q0FBNkMsa0hBQWtILDBDQUEwQyw0QkFBNEIsdUNBQXVDLDRCQUE0QixzQkFBc0IsZ0JBQWdCLGFBQWEsa0JBQWtCLGdCQUFnQixhQUFhLDBCQUEwQixvQkFBb0IsU0FBUyxrREFBa0QsZUFBZSxLQUFLLHFEQUFxRCxXQUFXLDJFQUEyRSxRQUFRLE1BQU0seUdBQXlHLElBQUksR0FBRyxtSUFBbUksS0FBSyxTQUFTLGVBQWUsa0RBQWtELE1BQU0sZ0RBQWdELE1BQU0sMkRBQTJELE1BQU0sa0JBQWtCLHNXQUFzVyxNQUFNLHlLQUF5SyxNQUFNLHNDQUFzQyxNQUFNLHNDQUFzQyxTQUFTLG9CQUFvQixpTUFBaU0sS0FBSyxTQUFTLGVBQWUsaUZBQWlGLE1BQU0sa0JBQWtCLGdUQUFnVCxNQUFNLHlJQUF5SSxNQUFNLDBCQUEwQixTQUFTLHlCQUF5QixzR0FBc0csOENBQThDLHlCQUF5QixZQUFZLFdBQVcsS0FBSywwQ0FBMEMsa0JBQWtCLGlHQUFpRyxzQ0FBc0MsWUFBWSxLQUFLLDRCQUE0QixLQUFLLDJCQUEyQixnSEFBZ0gsYUFBYSxLQUFLLHdCQUF3QixLQUFLLG1EQUFtRCxpREFBaUQsSUFBSSxxQkFBcUIsd0JBQXdCLHNEQUFzRCwwQ0FBMEMsR0FBRyxpRUFBaUUsWUFBWSxzQkFBc0IsV0FBVyxxRUFBcUUsYUFBYSxnQ0FBZ0MsT0FBTyxXQUFXLHNDQUFzQyxJQUFJLEdBQUcsYUFBYSxpQ0FBaUMsT0FBTyxXQUFXLGFBQWEseUJBQXlCLElBQUksR0FBRyxhQUFhLHNCQUFzQixPQUFPLFdBQVcsS0FBSyxnQ0FBZ0Msd0hBQXdILGdDQUFnQyx5S0FBeUsseUZBQXlGLGlCQUFpQixrRUFBa0Usd0ZBQXdGLHFFQUFxRSxHQUFHLGlDQUFpQyxJQUFJLEdBQUcsU0FBUyxRQUFRLFdBQVcsS0FBSyxPQUFPLGdDQUFnQyxxQkFBcUIsd0VBQXdFLGNBQWMsa0JBQWtCLGFBQWEsS0FBSywyQkFBMkIsdUNBQXVDLGdDQUFnQyxhQUFhLEtBQUssd0JBQXdCLDRDQUE0QyxtR0FBbUcsR0FBRyxzQkFBc0IsZ0JBQWdCLGFBQWEsc0JBQXNCLHVMQUF1TCxhQUFhLDBDQUEwQyx1QkFBdUIscUNBQXFDLGlCQUFpQixHQUFHLFlBQVksdUJBQXVCLEtBQUssd0dBQXdHLGFBQWEsc0RBQXNELG1NQUFtTSw0Q0FBNEMsc0JBQXNCLHlLQUF5SyxLQUFLLHdNQUF3TSwwRUFBMEUsdVNBQXVTLEdBQUcsZ0RBQWdELEtBQUssT0FBTyx3QkFBd0IsS0FBSyx3QkFBd0IsZ0ZBQWdGLFdBQVcsU0FBUyxzQkFBc0IsZ0NBQWdDLGNBQWMsdUNBQXVDLGdCQUFnQixhQUFhLHNCQUFzQix1SUFBdUksV0FBVyxLQUFLLDJHQUEyRyxrRkFBa0YsNENBQTRDLFlBQVksS0FBSyw0T0FBNE8sS0FBSywyQ0FBMkMsNEZBQTRGLFlBQVksMERBQTBELFlBQVksMEZBQTBGLGtKQUFrSixzQkFBc0IsZ0NBQWdDLG9CQUFvQiw4TEFBOEwsZ0JBQWdCLGFBQWEsWUFBWSxjQUFjLDBFQUEwRSxzQkFBc0Isd0JBQXdCLHNGQUFzRixxQkFBcUIsOEVBQThFLDBFQUEwRSxXQUFXLGdGQUFnRix5QkFBeUIsdURBQXVELCtCQUErQixnQ0FBZ0MsbUNBQW1DLDBPQUEwTyxtQ0FBbUMsMkRBQTJELDREQUE0RCwwRUFBMEUscUVBQXFFLDJFQUEyRSxnQ0FBZ0MsdUZBQXVGLGlCQUFpQix5Q0FBeUMsOERBQThELCtEQUErRCxnQ0FBZ0MsMkRBQTJELHFCQUFxQiwrREFBK0QscUlBQXFJLHNDQUFzQyx1Q0FBdUMsd0NBQXdDLDBDQUEwQyxnQkFBZ0IsYUFBYSxZQUFZLGNBQWMsMkVBQTJFLG1FQUFtRSwwQkFBMEIsbUtBQW1LLDJEQUEyRCxtR0FBbUcseUVBQXlFLGtkQUFrZCx5QkFBeUIsZ0VBQWdFLDZDQUE2QyxlQUFlLHVGQUF1Rix3Q0FBd0MsK0VBQStFLGdDQUFnQyxtQ0FBbUMsZ0xBQWdMLGdDQUFnQyw2QkFBNkIsMjVCQUEyNUIsdURBQXVELE1BQU0sd05BQXdOLG1QQUFtUCx1QkFBdUIsb0hBQW9ILGlEQUFpRCxVQUFVLElBQUksMEJBQTBCLEtBQUssZ0JBQWdCLGFBQWEsd0JBQXdCLHVDQUF1Qyw0RUFBNEUsMEJBQTBCLHVDQUF1Qyx5Y0FBeWMsZ0JBQWdCLGFBQWEsUUFBUSxhQUFhLDRGQUE0RixpS0FBaUssZUFBZSxhQUFhLFlBQVksY0FBYyw4RUFBOEUsc0JBQXNCLHdCQUF3QixtR0FBbUcscURBQXFELHlCQUF5QiwwREFBMEQsZ0NBQWdDLG1DQUFtQyxzSkFBc0osZ0NBQWdDLDZCQUE2QixrRkFBa0Ysc0NBQXNDLHFCQUFxQixvSEFBb0gsb0RBQW9ELGdCQUFnQixhQUFhLFlBQVksY0FBYyxjQUFjLGtDQUFrQyxXQUFXLHVCQUF1QixxQkFBcUIsNEJBQTRCLHdCQUF3Qiw4QkFBOEIsaUNBQWlDLHVDQUF1QyxzQkFBc0IsNEJBQTRCLCtCQUErQixxQ0FBcUMsc0JBQXNCLDRCQUE0QiwwQkFBMEIsZ0NBQWdDLDBCQUEwQixnQ0FBZ0MsK0JBQStCLGtEQUFrRCxnQkFBZ0IsYUFBYSxZQUFZLGNBQWMsNEVBQTRFLFlBQVksOEJBQThCLG9JQUFvSSxrRUFBa0UsbUVBQW1FLDJPQUEyTyx5QkFBeUIseUhBQXlILGdDQUFnQyxtQ0FBbUMsbVNBQW1TLGdDQUFnQyxrTUFBa00sZ0JBQWdCLGFBQWEsWUFBWSxjQUFjLCtFQUErRSxzQ0FBc0MsZ0JBQWdCLGdCQUFnQixZQUFZLEtBQUssV0FBVyxnQ0FBZ0MsVUFBVSxnQkFBZ0IsMkRBQTJELGNBQWMsNkJBQTZCLHlCQUF5Qiw0Q0FBNEMsOENBQThDLGlCQUFpQixXQUFXLDZEQUE2RCxTQUFTLGdDQUFnQyxpQkFBaUIsV0FBVyx5QkFBeUIsU0FBUyxrREFBa0QsZUFBZSxzRUFBc0UsaUNBQWlDLDJFQUEyRSxpQ0FBaUMsb0NBQW9DLFdBQVcsOEpBQThKLFlBQVksNkJBQTZCLHlDQUF5QyxpQ0FBaUMsd0VBQXdFLGdDQUFnQyw2QkFBNkIsZ0xBQWdMLGdCQUFnQix1QkFBdUIsTUFBTSx5SEFBeUgsNEJBQTRCLFdBQVcsZ0JBQWdCLDJDQUEyQyw4QkFBOEIsb0JBQW9CLG1EQUFtRCxnQ0FBZ0MsMEVBQTBFLDhEQUE4RCxpSEFBaUgsa0NBQWtDLGdDQUFnQywwREFBMEQsK0RBQStELGVBQWUsV0FBVyxFQUFFLGdCQUFnQiwwQkFBMEIsMkZBQTJGLHVCQUF1Qix5QkFBeUIsbUNBQW1DLCtCQUErQixXQUFXLHVEQUF1RCxzQkFBc0Isb0NBQW9DLDZGQUE2Riw0QkFBNEIsZUFBZSw4QkFBOEIsbURBQW1ELHFCQUFxQixNQUFNLGlCQUFpQiw0Q0FBNEMsK0RBQStELGlCQUFpQiwwQkFBMEIsMEZBQTBGLDBEQUEwRCxvQ0FBb0MseUJBQXlCLHNDQUFzQyxTQUFTLG9DQUFvQyx5QkFBeUIsbURBQW1ELFNBQVMsMENBQTBDLDJCQUEyQiwyREFBMkQsU0FBUyx1Q0FBdUMseUJBQXlCLHNEQUFzRCxTQUFTLDhCQUE4QixhQUFhLGdCQUFnQixhQUFhLDJDQUEyQyxjQUFjLGdCQUFnQiwyREFBMkQsa0VBQWtFLDBIQUEwSCxxQ0FBcUMsTUFBTSxlQUFlLGVBQWUsZ0JBQWdCLFlBQVksVUFBVSxXQUFXLGVBQWUsb0NBQW9DLEVBQUUsOEJBQThCLHFCQUFxQixnQ0FBZ0MsY0FBYywrQkFBK0Isc0ZBQXNGLGFBQWEsbUNBQW1DLGtDQUFrQyxhQUFhLHdFQUF3RSxnQ0FBZ0Msc0VBQXNFLG1DQUFtQyx1Q0FBdUMsdUNBQXVDLGtGQUFrRixjQUFjLDZDQUE2Qyw0Q0FBNEMseUJBQXlCLE1BQU0sMEJBQTBCLGlEQUFpRCxHQUFHLE1BQU0sV0FBVyxxQkFBcUIsU0FBUyxxQkFBcUIsZ0JBQWdCLEtBQUssU0FBUyxpQkFBaUIsWUFBWSxzQ0FBc0Msa0NBQWtDLFdBQVcsbUNBQW1DLFlBQVksaUNBQWlDLGlEQUFpRCwwQkFBMEIsMEJBQTBCLEtBQUssZ0JBQWdCLGFBQWEsWUFBWSxjQUFjLDJFQUEyRSxzQkFBc0Isb0JBQW9CLGtJQUFrSSxvREFBb0QsY0FBYyx3QkFBd0IsdUJBQXVCLDREQUE0RCx5QkFBeUIsNENBQTRDLGdDQUFnQyxtQ0FBbUMsK0ZBQStGLDZCQUE2Qiw4REFBOEQsd0lBQXdJLGdDQUFnQyw4REFBOEQsa0NBQWtDLGtEQUFrRCxpSEFBaUgsK0JBQStCLCtCQUErQixZQUFZLG9CQUFvQixLQUFLLDJCQUEyQix1REFBdUQsUUFBUSxrQ0FBa0MsY0FBYywwQkFBMEIsdURBQXVELGtDQUFrQyxnQkFBZ0IsMENBQTBDLG1CQUFtQixxQkFBcUIscUJBQXFCLHlFQUF5RSwwQ0FBMEMsSUFBSSxnQkFBZ0IsYUFBYSxZQUFZLHNDQUFzQyxnQkFBZ0IseUVBQXlFLGNBQWMsd0NBQXdDLG1EQUFtRCw2REFBNkQsOEJBQThCLGFBQWEsb0NBQW9DLDhCQUE4QixjQUFjLDRCQUE0Qiw0QkFBNEIsMENBQTBDLEtBQUssSUFBSSxhQUFhLHFCQUFxQiwyQkFBMkIsS0FBSyxJQUFJLEtBQUssb0NBQW9DLG1GQUFtRix5REFBeUQsS0FBSyxJQUFJLHVGQUF1Riw4SEFBOEgsNEJBQTRCLEtBQUssSUFBSSx5RkFBeUYsVUFBVSxJQUFJLEtBQUssb0NBQW9DLHFGQUFxRix1Q0FBdUMsZ0JBQWdCLG1EQUFtRCxhQUFhLHVDQUF1Qyw4REFBOEQsZ0lBQWdJLG9FQUFvRSwyRUFBMkUsNEVBQTRFLDRFQUE0RSwyRUFBMkUsNkRBQTZELFNBQVMsK0JBQStCLHVCQUF1QiwrQkFBK0Isb0JBQW9CLHNCQUFzQiw2QkFBNkIseUJBQXlCLGdDQUFnQyx1Q0FBdUMsK0JBQStCLGlDQUFpQyx1Q0FBdUMsaUNBQWlDLDhCQUE4Qix1Q0FBdUMsNkNBQTZDLHFCQUFxQiwrQkFBK0IsdUNBQXVDLDhDQUE4QyxxQkFBcUIsOEJBQThCLDRDQUE0Qyw4QkFBOEIsa0VBQWtFLFVBQVUsZUFBZSxnREFBZ0Qsc0NBQXNDLCtCQUErQixtQkFBbUIsNEJBQTRCLDhCQUE4Qix1QkFBdUIsdUNBQXVDLFlBQVksUUFBUSxvQ0FBb0MsZ0NBQWdDLFlBQVksa0NBQWtDLFVBQVUsbUJBQW1CLE1BQU0sb0JBQW9CLE1BQU0sZ0NBQWdDLE1BQU0sWUFBWSx1QkFBdUIsa0JBQWtCLE1BQU0sb0JBQW9CLE1BQU0sbUVBQW1FLFlBQVksMEJBQTBCLGdDQUFnQyxpQ0FBaUMscUJBQXFCLGlCQUFpQiwyQkFBMkIsbUJBQW1CLDJCQUEyQixtQkFBbUIsc0NBQXNDLG9CQUFvQiwyQkFBMkIscUJBQXFCLDRCQUE0QixHQUFHLGdCQUFnQixhQUFhLFlBQVksY0FBYyx1REFBdUQsY0FBYyxjQUFjLGVBQWUsd0JBQXdCLHdEQUF3RCwrQkFBK0Isb0JBQW9CLHlLQUF5SyxnQkFBZ0IsZUFBZSxhQUFhLFlBQVksY0FBYywwRUFBMEUsZ0RBQWdELGNBQWMsaURBQWlELGNBQWMseUJBQXlCLDJFQUEyRSxxR0FBcUcscUNBQXFDLFdBQVcsa0NBQWtDLFlBQVksZ0JBQWdCLE1BQU0sYUFBYSxRQUFRLGVBQWUsY0FBYyx3Q0FBd0MsU0FBUyxxQkFBcUIsbUJBQW1CLFlBQVksZ0JBQWdCLElBQUksb0JBQW9CLGtEQUFrRCxhQUFhLHFCQUFxQixrQkFBa0IsbUJBQW1CLDZEQUE2RCx5QkFBeUIsdUJBQXVCLHdFQUF3RSwrQ0FBK0MsU0FBUyxLQUFLLGdCQUFnQixnQkFBZ0Isd0dBQXdHLGNBQWMsSUFBSSxXQUFXLE1BQU0sSUFBSSx3Q0FBd0MsU0FBUyxxQkFBcUIsT0FBTyxpQ0FBaUMsc0NBQXNDLEdBQUcsUUFBUSx1QkFBdUIsY0FBYyxXQUFXLHFDQUFxQyxjQUFjLGFBQWEsb0NBQW9DLDBDQUEwQyx3QkFBd0IsbUNBQW1DLCtGQUErRixvREFBb0QsZUFBZSwwQ0FBMEMsZUFBZSxnQkFBZ0IsZ0NBQWdDLE1BQU0sNERBQTRELDBFQUEwRSxTQUFTLG1DQUFtQyxxRkFBcUYsbUVBQW1FLDJCQUEyQiw4QkFBOEIsdUJBQXVCLHFEQUFxRCxZQUFZLHVCQUF1Qix1Q0FBdUMsc0NBQXNDLHVDQUF1QyxtQkFBbUIsZ0hBQWdILEtBQUssK0JBQStCLGlDQUFpQywrREFBK0Qsd0JBQXdCLFlBQVksdUJBQXVCLDBDQUEwQyx5Q0FBeUMsOEJBQThCLGFBQWEsVUFBVSxhQUFhLGFBQWEsZ0JBQWdCLGFBQWEsZ0JBQWdCLGNBQWMsYUFBYSxZQUFZLGNBQWMsa0JBQWtCLHNFQUFzRSw0R0FBNEcsOEdBQThHLG1EQUFtRCxXQUFXLHNDQUFzQyxpQkFBaUIsK0ZBQStGLHFDQUFxQyxhQUFhLHlCQUF5Qix1REFBdUQsU0FBUyxnQ0FBZ0Msb0NBQW9DLFVBQVUsR0FBRyxTQUFTLHVEQUF1RCxLQUFLLEtBQUssNEJBQTRCLDBCQUEwQixLQUFLLDZCQUE2QixzR0FBc0csZ0JBQWdCLGFBQWEsWUFBWSxjQUFjLDZFQUE2RSxnQ0FBZ0MsZ0JBQWdCLGdDQUFnQyx5QkFBeUIsY0FBYyw4QkFBOEIseUJBQXlCLHlCQUF5QixrREFBa0QsV0FBVyw0Q0FBNEMsMkRBQTJELGdDQUFnQyxxRUFBcUUsa0dBQWtHLGdFQUFnRSxtREFBbUQsZUFBZSx5RUFBeUUsOEJBQThCLHFEQUFxRCxtQ0FBbUMsZ0NBQWdDLFdBQVcsbUJBQW1CLHNDQUFzQyw2QkFBNkIsd0VBQXdFLGtHQUFrRyxnQ0FBZ0MsbUJBQW1CLHVFQUF1RSx5REFBeUQsdUNBQXVDLG9DQUFvQyxxQ0FBcUMsMkJBQTJCLEtBQUssaUZBQWlGLHFGQUFxRiwrREFBK0QsRUFBRSxVQUFVLGdCQUFnQixhQUFhLFlBQVksY0FBYywwRUFBMEUsNklBQTZJLGdCQUFnQiwrQkFBK0Isc0tBQXNLLGNBQWMsMEdBQTBHLHFDQUFxQyxZQUFZLGVBQWUsNENBQTRDLG9CQUFvQix1Q0FBdUMsV0FBVyxLQUFLLCtCQUErQixrRUFBa0Usc0JBQXNCLHlCQUF5QixjQUFjLGVBQWUsc0VBQXNFLGNBQWMsZUFBZSxzRUFBc0UsT0FBTyxlQUFlLDZEQUE2RCxpQkFBaUIsa0JBQWtCLHVJQUF1SSxZQUFZLDBCQUEwQixtQ0FBbUMsU0FBUyxRQUFRLDBCQUEwQiw0Q0FBNEMsNkZBQTZGLDRDQUE0QyxvQ0FBb0Msd0NBQXdDLHVCQUF1QiwwQ0FBMEMsb0VBQW9FLDZDQUE2QyxZQUFZLGlEQUFpRCwwQkFBMEIseUJBQXlCLGdEQUFnRCxvQ0FBb0MsV0FBVyx3RkFBd0YsNENBQTRDLFdBQVcsMkNBQTJDLDRDQUE0QyxXQUFXLEtBQUsscUJBQXFCLDZJQUE2SSxzTEFBc0wsZ0NBQWdDLHFFQUFxRSx5SkFBeUosd0JBQXdCLFNBQVMsMk9BQTJPLG1DQUFtQywrQkFBK0IsV0FBVyxrQkFBa0IsdUJBQXVCLFFBQVEsV0FBVyxrQkFBa0IseUNBQXlDLDZCQUE2QixzRkFBc0YsNkJBQTZCLHdFQUF3RSxzQ0FBc0MsK0dBQStHLDJFQUEyRSxxRkFBcUYsK0ZBQStGLG1EQUFtRCw0RUFBNEUsZ0NBQWdDLHNDQUFzQyxvRkFBb0YseUVBQXlFLG1CQUFtQixvRkFBb0YseUVBQXlFLHVDQUF1QyxzQ0FBc0MsdUNBQXVDLHdDQUF3Qyx5Q0FBeUMsZ0NBQWdDLHdCQUF3Qiw4QkFBOEIsaUNBQWlDLDBCQUEwQix3REFBd0QscUJBQXFCLHdCQUF3Qix1QkFBdUIsd0JBQXdCLHVCQUF1QixlQUFlLHNDQUFzQyxlQUFlLGtDQUFrQyxlQUFlLEVBQUUsV0FBVyxNQUFNLDBCQUEwQiw0SEFBNEgsWUFBWSxrQ0FBa0MsZ0NBQWdDLDJDQUEyQyxtREFBbUQsa0NBQWtDLGdDQUFnQyx5Q0FBeUMsaUVBQWlFLGdDQUFnQyw4QkFBOEIsb0NBQW9DLGtDQUFrQyxvQ0FBb0Msa0NBQWtDLGlCQUFpQixtQkFBbUIsc0JBQXNCLGdCQUFnQixhQUFhLDJKQUEySixnQkFBZ0IsYUFBYSxTQUFTLFdBQVcsa0JBQWtCLFNBQVMsbU5BQW1OLGNBQWMsYUFBYSxzQ0FBc0MsNEZBQTRGLE1BQU0sbURBQW1ELFdBQVcsZ0JBQWdCLFNBQVMsU0FBUyx3QkFBd0IsWUFBWSxLQUFLLFdBQVcsRUFBRSxzQkFBc0IscUJBQXFCLFVBQVUsbUJBQW1CLHlCQUF5QixxVUFBcVUsd0JBQXdCLGlHQUFpRyx1QkFBdUIsaURBQWlELGtCQUFrQix3QkFBd0IsZ0VBQWdFLHVCQUF1QixHQUFHLG1DQUFtQyxpQkFBaUIsOEJBQThCLDJIQUEySCxlQUFlLHVCQUF1Qix1RUFBdUUsc0JBQXNCLDZDQUE2QyxzQkFBc0IsS0FBSyxRQUFRLDJCQUEyQiwwQkFBMEIsZUFBZSwwQkFBMEIsOERBQThELHNCQUFzQixJQUFJLCtCQUErQiwrREFBK0QsZ0RBQWdELHlCQUF5QixnQkFBZ0IsNkNBQTZDLDZCQUE2QixNQUFNLEtBQUssV0FBVyxxQ0FBcUMsU0FBUyxxQkFBcUIseUNBQXlDLGVBQWUsK0NBQStDLEVBQUUsZ0JBQWdCLGFBQWEsWUFBWSxjQUFjLGdCQUFnQiw0QkFBNEIsd0JBQXdCLHNCQUFzQixTQUFTLGtDQUFrQyxZQUFZLHFCQUFxQixVQUFVLG9DQUFvQyx5QkFBeUIsa0JBQWtCLFVBQVUsVUFBVSxtQ0FBbUMscUZBQXFGLG9CQUFvQiw2Q0FBNkMsa0JBQWtCLCtDQUErQyx1QkFBdUIsbURBQW1ELGtDQUFrQyxxQkFBcUIsb0NBQW9DLHdDQUF3QyxrQ0FBa0MsZ0NBQWdDLDBEQUEwRCxtREFBbUQsa0NBQWtDLHVCQUF1Qix3SkFBd0osK0JBQStCLGdKQUFnSixpQ0FBaUMsa0JBQWtCLGlGQUFpRixpQ0FBaUMsbUJBQW1CLGtGQUFrRiwrQkFBK0IsNkRBQTZELCtGQUErRixzQkFBc0IsYUFBYSxRQUFRLGtCQUFrQiw2QkFBNkIsV0FBVywyQ0FBMkMsU0FBUyxjQUFjLGdCQUFnQiwwQ0FBMEMsc0NBQXNDLGVBQWUsVUFBVSw4RkFBOEYsNEJBQTRCLGVBQWUsa0RBQWtELGFBQWEsa0RBQWtELE9BQU8sZUFBZSxTQUFTLDBDQUEwQyxXQUFXLGlCQUFpQixtQ0FBbUMsNENBQTRDLElBQUksNmFBQTZhLElBQUksMkNBQTJDLHlEQUF5RCx3QkFBd0IsOENBQThDLHdCQUF3Qiw2QkFBNkIsK0JBQStCLFdBQVcsa0hBQWtILHFCQUFxQixJQUFJLGlDQUFpQyxvQ0FBb0MsU0FBUyxhQUFhLDBFQUEwRSx3SkFBd0oscU9BQXFPLEVBQUUsaURBQWlELHlEQUF5RCw4QkFBOEIsNkJBQTZCLGtFQUFrRSxpQ0FBaUMsZ0RBQWdELDJFQUEyRSxZQUFZLEtBQUssV0FBVyxjQUFjLGtCQUFrQix5Q0FBeUMsS0FBSyx3RUFBd0UsMkJBQTJCLG1CQUFtQixZQUFZLFdBQVcsaUNBQWlDLGtCQUFrQiwrQ0FBK0MseUJBQXlCLGVBQWUsa0VBQWtFLGtCQUFrQixrREFBa0QsZ0JBQWdCLDZDQUE2QyxnQkFBZ0IsYUFBYSxzQkFBc0IsZ0lBQWdJLHFCQUFxQixHQUFHLFlBQVksdUJBQXVCLEtBQUssMkRBQTJELHFEQUFxRCxrSEFBa0gsV0FBVyxLQUFLLHVDQUF1QyxHQUFHLHVGQUF1RixZQUFZLEtBQUssd0JBQXdCLEdBQUcsS0FBSyxhQUFhLGdDQUFnQyx1SEFBdUgsV0FBVyxnQkFBZ0IsR0FBRyx5QkFBeUIsc0JBQXNCLGdCQUFnQix5RUFBeUUsZ0JBQWdCLGtCQUFrQixvQkFBb0Isa0RBQWtELGNBQWMsK0NBQStDLGlEQUFpRCxXQUFXLDhDQUE4QyxhQUFhLEdBQUcsU0FBUywrQkFBK0IsMkNBQTJDLEdBQUcsb0JBQW9CLDZIQUE2SCxNQUFNLGdNQUFnTSxNQUFNLG1GQUFtRixNQUFNLHVFQUF1RSxNQUFNLHFFQUFxRSxNQUFNLDJHQUEyRyxTQUFTLGtCQUFrQixrQkFBa0Isb0lBQW9JLE1BQU0seUlBQXlJLE1BQU0sMkVBQTJFLFVBQVUsZ0JBQWdCLGFBQWEsa0JBQWtCLDJCQUEyQix1QkFBdUIsa0JBQWtCLDJFQUEyRSxNQUFNLGdFQUFnRSxrREFBa0Qsb0RBQW9ELEdBQUcsMEJBQTBCLHdCQUF3QixjQUFjLG1DQUFtQyw4R0FBOEcscUJBQXFCLHlCQUF5Qiw4Q0FBOEMsNEJBQTRCLG1JQUFtSSw0QkFBNEIsZ0JBQWdCLGFBQWEsWUFBWSxpREFBaUQsa0JBQWtCLGlEQUFpRCxjQUFjLGNBQWMsb0VBQW9FLGFBQWEsdUVBQXVFLGlCQUFpQiwyQkFBMkIsMkJBQTJCLGFBQWEsSUFBSSxZQUFZLGVBQWUsa0JBQWtCLFdBQVcsZ0JBQWdCLHVDQUF1QyxrQkFBa0IsS0FBSyxLQUFLLDREQUE0RCxLQUFLLFNBQVMsbUNBQW1DLFlBQVksa0JBQWtCLDREQUE0RCxpQ0FBaUMsc0JBQXNCLHlHQUF5Ryw4REFBOEQsdUVBQXVFLEtBQUssTUFBTSx5QkFBeUIsT0FBTyxnQ0FBZ0MsbUhBQW1ILCtCQUErQiwyREFBMkQsZ0NBQWdDLHFDQUFxQyxnQ0FBZ0MsZ0JBQWdCLGtDQUFrQyxxRUFBcUUsMkJBQTJCLGtDQUFrQyw4QkFBOEIsNkJBQTZCLGlDQUFpQyw2QkFBNkIsMEVBQTBFLGdCQUFnQiw0Q0FBNEMsd0VBQXdFLDRDQUE0QyxnQ0FBZ0MsOENBQThDLDRDQUE0QyxXQUFXLGlCQUFpQixZQUFZLFdBQVcsaUJBQWlCLDhCQUE4QixtQkFBbUIsK0JBQStCLGtCQUFrQiw2QkFBNkIsb0JBQW9CLG1DQUFtQyxnQ0FBZ0Msa0JBQWtCLDZEQUE2RCw2QkFBNkIsZ0ZBQWdGLDhCQUE4QixvTEFBb0wsK0JBQStCLHVDQUF1QyxzRkFBc0YsK0JBQStCLGdFQUFnRSxFQUFFLG1DQUFtQyxTQUFTLDBCQUEwQixpQ0FBaUMsZ0JBQWdCLGFBQWEsWUFBWSxjQUFjLHVEQUF1RCxjQUFjLGFBQWEsYUFBYSxrQkFBa0IsMEVBQTBFLHdCQUF3Qix5SkFBeUosV0FBVyxpQkFBaUIsaUNBQWlDLGlCQUFpQixXQUFXLGdCQUFnQiwrQkFBK0IsOENBQThDLG1CQUFtQixpRUFBaUUsZ0NBQWdDLDZCQUE2QixnREFBZ0QsZ0JBQWdCLGdCQUFnQixhQUFhLGNBQWMsc2tFQUFza0UsRUFBRSxTQUFTLGNBQWMsc2tFQUFza0UsRUFBRSxzSkFBc0osMFNBQTBTLGNBQWMsdUpBQXVKLGdCQUFnQiwwQ0FBMEMsd0RBQXdELElBQUksd0JBQXdCLFVBQVUsNkJBQTZCLDBDQUEwQyx1REFBdUQsaUJBQWlCLFFBQVEsSUFBSSxzQkFBc0IsK0JBQStCLGNBQWMsZUFBZSx3Q0FBd0MsY0FBYyxnQkFBZ0IsY0FBYyxrQkFBa0IsY0FBYyxxREFBcUQsY0FBYyw0QkFBNEIsY0FBYyx1QkFBdUIsbUJBQW1CLHNCQUFzQiwwR0FBMEcsd0RBQXdELGlFQUFpRSwrQkFBK0IsRUFBRSx3QkFBd0IsbUdBQW1HLHNCQUFzQiwwQ0FBMEMsbUJBQW1CLGdCQUFnQiw0QkFBNEIscUJBQXFCLFlBQVksNkJBQTZCLHFCQUFxQixFQUFFLEdBQUcsVUFBVSxjQUFjLHlDQUF5QyxjQUFjLGtCQUFrQixjQUFjLGtCQUFrQixVQUFVLGNBQWMsbUJBQW1CLFdBQVcsc0NBQXNDLGVBQWUsbUJBQW1CLDRCQUE0QixtQ0FBbUMscUZBQXFGLHVCQUF1QiwrQ0FBK0MsdUJBQXVCLGlCQUFpQixjQUFjLFlBQVksZ0JBQWdCLElBQUksZUFBZSxPQUFPLHFCQUFxQixnQkFBZ0Isa0JBQWtCLDJCQUEyQixJQUFJLHNFQUFzRSxzQ0FBc0MsSUFBSSxzREFBc0QsZUFBZSxrQkFBa0IsaUJBQWlCLFNBQVMsaUNBQWlDLG9CQUFvQixlQUFlLG9CQUFvQixZQUFZLGlFQUFpRSxpQkFBaUIsdUJBQXVCLG9CQUFvQix3QkFBd0IsSUFBSSxLQUFLLFdBQVcsbUNBQW1DLFNBQVMsZUFBZSw0RUFBNEUsZUFBZSx5REFBeUQsMkNBQTJDLHFCQUFxQiw4RkFBOEYsOEJBQThCLDJCQUEyQixxQkFBcUIsZ0NBQWdDLDZCQUE2QixvQkFBb0IsZUFBZSxzRUFBc0UscUJBQXFCLGdFQUFnRSxnQkFBZ0IsMEJBQTBCLGtDQUFrQyxrQkFBa0IsS0FBSyxVQUFVLDZEQUE2RCxpRUFBaUUsd0RBQXdELG1FQUFtRSw4REFBOEQsMkJBQTJCLGNBQWMsMEJBQTBCLDZEQUE2RCxLQUFLLE9BQU8sbURBQW1ELG9DQUFvQyx1R0FBdUcsUUFBUSwyQkFBMkIsSUFBSSw2QkFBNkIsMEJBQTBCLG9DQUFvQyxLQUFLLElBQUksZ0NBQWdDLEtBQUssY0FBYyx3Q0FBd0MsS0FBSyxJQUFJLDhDQUE4QywwQkFBMEIsaUJBQWlCLGVBQWUsZUFBZSxrQkFBa0IsU0FBUyx5QkFBeUIsb0JBQW9CLGVBQWUsWUFBWSxtQkFBbUIsb0JBQW9CLFlBQVksa0JBQWtCLFlBQVksSUFBSSw0QkFBNEIsMEJBQTBCLGtJQUFrSSx5RkFBeUYsZUFBZSwwQ0FBMEMsSUFBSSxpQkFBaUIsU0FBUyxlQUFlLDBDQUEwQyxJQUFJLHdCQUF3QixTQUFTLGVBQWUsWUFBWSx3QkFBd0IsSUFBSSxvQkFBb0IsU0FBUyxlQUFlLFNBQVMsa0NBQWtDLGdCQUFnQixpQkFBaUIsbUJBQW1CLHVCQUF1QiwwQ0FBMEMsWUFBWSxJQUFJLGlEQUFpRCxJQUFJLEtBQUssV0FBVyw4QkFBOEIsVUFBVSx1Q0FBdUMsZUFBZSxrQkFBa0IsaUJBQWlCLG1CQUFtQixjQUFjLFlBQVksMEJBQTBCLGlCQUFpQixZQUFZLG9CQUFvQixlQUFlLGdDQUFnQyxNQUFNLGlCQUFpQixjQUFjLGVBQWUsa0JBQWtCLGVBQWUsb0JBQW9CLGlCQUFpQix1QkFBdUIsSUFBSSxLQUFLLGtCQUFrQixVQUFVLGtCQUFrQixtQkFBbUIsa0JBQWtCLGdCQUFnQixpQkFBaUIsK0JBQStCLElBQUksS0FBSyxXQUFXLG9CQUFvQixPQUFPLFVBQVUsZUFBZSxTQUFTLGVBQWUsY0FBYyxnQkFBZ0IsZ0JBQWdCLGVBQWUsMkJBQTJCLGdCQUFnQixtQkFBbUIsdUJBQXVCLG9CQUFvQiwwQkFBMEIsb0JBQW9CLDhCQUE4Qix3QkFBd0IsZ0NBQWdDLDBCQUEwQixrQkFBa0IsNkJBQTZCLG1CQUFtQix5REFBeUQsaUJBQWlCLG1CQUFtQixtQkFBbUIsbURBQW1ELG1CQUFtQixVQUFVLCtCQUErQixLQUFLLElBQUksS0FBSyxXQUFXLGlCQUFpQixTQUFTLGVBQWUsZUFBZSw4QkFBOEIsZ0JBQWdCLG1CQUFtQiwyQkFBMkIsWUFBWSxZQUFZLElBQUksY0FBYyxTQUFTLGlCQUFpQiw4REFBOEQsNEJBQTRCLDhCQUE4Qiw0QkFBNEIsZUFBZSxrQkFBa0IsWUFBWSx5REFBeUQsbUJBQW1CLHFEQUFxRCxVQUFVLFVBQVUsV0FBVyxXQUFXLGFBQWEsYUFBYSxhQUFhLEVBQUUsaURBQWlELHFGQUFxRixrQkFBa0Isc0VBQXNFLGdDQUFnQyxlQUFlLGlCQUFpQiwwQkFBMEIsbUJBQW1CLG9CQUFvQix3QkFBd0IsMkhBQTJILGlDQUFpQywrSkFBK0osb0JBQW9CLFNBQVMsSUFBSSxtQkFBbUIsTUFBTSx3RUFBd0Usb0JBQW9CLEVBQUUsUUFBUSxZQUFZLDREQUE0RCw4QkFBOEIsa0JBQWtCLElBQUksSUFBSSx3QkFBd0IsU0FBUyxtQkFBbUIsa0JBQWtCLDBCQUEwQixpQ0FBaUMsUUFBUSxJQUFJLG1CQUFtQix1QkFBdUIsOEJBQThCLFlBQVksSUFBSSxLQUFLLDZCQUE2Qix5Q0FBeUMsU0FBUyxTQUFTLGVBQWUsY0FBYyxlQUFlLGVBQWUsWUFBWSxxQkFBcUIsdUJBQXVCLHlDQUF5QyxxQ0FBcUMsZ0JBQWdCLHdCQUF3QixrQ0FBa0Msc0NBQXNDLElBQUksc0NBQXNDLEtBQUssbUJBQW1CLHdCQUF3Qiw0QkFBNEIsU0FBUyxHQUFHLGtCQUFrQixrQ0FBa0Msa0VBQWtFLHFCQUFxQixrQ0FBa0MsR0FBRyxTQUFTLFlBQVkscUJBQXFCLHFCQUFxQiwyQkFBMkIsV0FBVywrQkFBK0IsSUFBSSxLQUFLLFdBQVcsdURBQXVELDRCQUE0QixJQUFJLGVBQWUsbUJBQW1CLFNBQVMsMEJBQTBCLDZCQUE2QixnRUFBZ0UsS0FBSyxJQUFJLEVBQUUsV0FBVyxnQkFBZ0IsU0FBUyxHQUFHLGlCQUFpQixrQkFBa0IsaURBQWlELG9EQUFvRCxpQkFBaUIsR0FBRyw0QkFBNEIsOEJBQThCLHVCQUF1QixLQUFLLGtCQUFrQixtQkFBbUIsZ0JBQWdCLFFBQVEsRUFBRSxpQkFBaUIsNERBQTRELGNBQWMsV0FBVyx5QkFBeUIsY0FBYyw4SUFBOEksMkJBQTJCLCtCQUErQixHQUFHLG1CQUFtQiwyQkFBMkIsYUFBYSxtRUFBbUUsa0JBQWtCLHNFQUFzRSxHQUFHLDJCQUEyQiwyQkFBMkIsR0FBRyxpQkFBaUIsZUFBZSxlQUFlLGtCQUFrQixnQ0FBZ0MsY0FBYyw2QkFBNkIsa0JBQWtCLHlDQUF5QyxJQUFJLHFCQUFxQixVQUFVLGlCQUFpQixrQkFBa0IseUNBQXlDLGlCQUFpQixNQUFNLGtCQUFrQiwyREFBMkQsa0JBQWtCLG1CQUFtQixVQUFVLGlDQUFpQyxJQUFJLGlDQUFpQyxlQUFlLHVCQUF1QixVQUFVLDRCQUE0QixVQUFVLDZCQUE2QixVQUFVLHlCQUF5QixxQkFBcUIsdUNBQXVDLElBQUksRUFBRSwwQkFBMEIsb0JBQW9CLFNBQVMsbUJBQW1CLHVCQUF1QixnQkFBZ0IsZ0ZBQWdGLDRDQUE0QywrQ0FBK0MsZ0JBQWdCLFVBQVUsMEJBQTBCLFVBQVUsa0NBQWtDLG1CQUFtQiwyQkFBMkIsa0NBQWtDLGlCQUFpQixtQkFBbUIsbUJBQW1CLFFBQVEsc0NBQXNDLElBQUksZ0JBQWdCLEtBQUssWUFBWSxtQkFBbUIsSUFBSSxzQkFBc0IsU0FBUyxtQkFBbUIsVUFBVSx1REFBdUQsSUFBSSxLQUFLLGVBQWUsaUJBQWlCLFNBQVMsZUFBZSx5QkFBeUIsMEJBQTBCLHlCQUF5QixnREFBZ0QsNEJBQTRCLFVBQVUsTUFBTSxlQUFlLGdCQUFnQixTQUFTLG1CQUFtQix5QkFBeUIsbUJBQW1CLFNBQVMsdUNBQXVDLG9CQUFvQixLQUFLLG1CQUFtQix5QkFBeUIsbUJBQW1CLFVBQVUsNENBQTRDLElBQUksS0FBSyxlQUFlLHlCQUF5QixTQUFTLG1CQUFtQixVQUFVLDRDQUE0QyxJQUFJLEtBQUssZUFBZSx3QkFBd0IsU0FBUyxxQkFBcUIsb0VBQW9FLDRCQUE0QixRQUFRLDRFQUE0RSxRQUFRLE9BQU8sMkNBQTJDLE9BQU8sOEJBQThCLEdBQUcsR0FBRyxpQkFBaUIsbUJBQW1CLGlCQUFpQixtQkFBbUIsbUJBQW1CLHNCQUFzQixzR0FBc0csSUFBSSwrQkFBK0IscUNBQXFDLGdEQUFnRCxHQUFHLFNBQVMsbUJBQW1CLG9CQUFvQixzR0FBc0csSUFBSSwrQkFBK0IscUNBQXFDLDhDQUE4QyxHQUFHLFNBQVMsMEVBQTBFLGVBQWUsaUVBQWlFLG1CQUFtQix3REFBd0Qsb0JBQW9CLDRCQUE0QixrQkFBa0IsSUFBSSxLQUFLLHFCQUFxQixpQkFBaUIsb0JBQW9CLGVBQWUsaUJBQWlCLG1CQUFtQixRQUFRLDBDQUEwQyxPQUFPLHFDQUFxQyx1QkFBdUIsOEJBQThCLFVBQVUsNEJBQTRCLDRCQUE0Qix1QkFBdUIsWUFBWSxpQkFBaUIsdUJBQXVCLG1CQUFtQixxQ0FBcUMsZUFBZSxTQUFTLE1BQU0sNkJBQTZCLDZCQUE2QiwwQkFBMEIsT0FBTywwQkFBMEIscUJBQXFCLDBCQUEwQixpQkFBaUIsTUFBTSxlQUFlLDZDQUE2QyxtQkFBbUIsY0FBYywwQkFBMEIsUUFBUSxRQUFRLG9CQUFvQiwyRUFBMkUsdUJBQXVCLElBQUksS0FBSyxrQkFBa0IsbUJBQW1CLFNBQVMsdUJBQXVCLGFBQWEscUZBQXFGLGVBQWUsWUFBWSxHQUFHLG1CQUFtQix5REFBeUQsbUJBQW1CLGlGQUFpRixtQkFBbUIsZ0NBQWdDLG1CQUFtQixzR0FBc0csZUFBZSxxQkFBcUIsaUJBQWlCLGtCQUFrQiwwQkFBMEIsdUNBQXVDLGVBQWUsR0FBRyx1QkFBdUIsZUFBZSxHQUFHLHFCQUFxQiwwQ0FBMEMsOEJBQThCLElBQUksS0FBSywwQkFBMEIsb0ZBQW9GLFNBQVMsd0JBQXdCLHVCQUF1QixHQUFHLGVBQWUsNENBQTRDLElBQUksS0FBSyxXQUFXLGFBQWEsTUFBTSxRQUFRLHdCQUF3QixLQUFLLGtCQUFrQixTQUFTLGVBQWUsK0NBQStDLElBQUksaUJBQWlCLFNBQVMsZUFBZSxpQkFBaUIsWUFBWSxhQUFhLElBQUksc0NBQXNDLFNBQVMsbUJBQW1CLHNDQUFzQyx3REFBd0QsSUFBSSxnQkFBZ0IsU0FBUyxpQkFBaUIseUJBQXlCLDRCQUE0QixJQUFJLDBCQUEwQixTQUFTLGlCQUFpQixnQ0FBZ0MsZUFBZSw2QkFBNkIsaUJBQWlCLDJCQUEyQixzQkFBc0Isb0RBQW9ELE1BQU0sMkVBQTJFLFdBQVcsMkJBQTJCLG9CQUFvQix3R0FBd0csNkNBQTZDLFdBQVcsMkJBQTJCLG9CQUFvQixxREFBcUQsR0FBRyxZQUFZLGFBQWEsUUFBUSxhQUFhLDZCQUE2QixnQ0FBZ0Msa0NBQWtDLCtCQUErQixtQ0FBbUMsWUFBWSx3RkFBd0YsOEJBQThCLG1HQUFtRyx1QkFBdUIsRUFBRSxrQ0FBa0MsaURBQWlELElBQUksMkNBQTJDLFNBQVMsMENBQTBDLG9HQUFvRyw0RkFBNEYsZUFBZSx3Q0FBd0MsU0FBUyxHQUFHLDJCQUEyQixZQUFZLGFBQWEsMEJBQTBCLHNDQUFzQyxTQUFTLDAwQkFBMDBCLDB1Q0FBMHVDLGtvREFBa29ELHdCQUF3QjtBQUN6N3VpQiIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvQGFkc2svc29saWQtZGVmaW5pdGlvbi9kaXN0L3NvbGlkLWRlZmluaXRpb24ubWluLmpzPzBmYWMiXSwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0c1tcInNvbGlkLWRlZmluaXRpb25cIl09dCgpOmUuU29saWREZWZpbml0aW9uPXQoKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLCgoKT0+KCgpPT57dmFyIF9fd2VicGFja19tb2R1bGVzX189ezE5NzI6ZnVuY3Rpb24oZSl7dmFyIHQ7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYsdD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiByKG8pe2lmKHRbb10pcmV0dXJuIHRbb10uZXhwb3J0czt2YXIgaT10W29dPXtpOm8sbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtvXS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyxyKSxpLmw9ITAsaS5leHBvcnRzfXJldHVybiByLm09ZSxyLmM9dCxyLmQ9ZnVuY3Rpb24oZSx0LG8pe3IubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6b30pfSxyLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIHIuZCh0LFwiYVwiLHQpLHR9LHIubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sci5wPVwiXCIscihyLnM9NSl9KFtmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dC5iPTFlLTEyLHQuYT0xZS02fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89cigwKSxpPXtjcmVhdGVGbG9hdDMyOmZ1bmN0aW9uKCl7dmFyIGU9bmV3IEZsb2F0MzJBcnJheSgzKTtyZXR1cm4gZVswXT0wLGVbMV09MCxlWzJdPTAsZX0sY3JlYXRlRmxvYXQ2NDpmdW5jdGlvbigpe3ZhciBlPW5ldyBGbG9hdDY0QXJyYXkoMyk7cmV0dXJuIGVbMF09MCxlWzFdPTAsZVsyXT0wLGV9LGNyZWF0ZU51bWJlcjpmdW5jdGlvbigpe3JldHVyblswLDAsMF19LGNsb25lOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBlLmNvbnN0cnVjdG9yKDMpO3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0fSxjcmVhdGVGbG9hdDMyRnJvbVZhbHVlczpmdW5jdGlvbihlLHQscil7dmFyIG89bmV3IEZsb2F0MzJBcnJheSgzKTtyZXR1cm4gb1swXT1lLG9bMV09dCxvWzJdPXIsb319O2kuYXNGbG9hdDMyPWkuY3JlYXRlRmxvYXQzMkZyb21WYWx1ZXMsaS5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcz1mdW5jdGlvbihlLHQscil7dmFyIG89bmV3IEZsb2F0NjRBcnJheSgzKTtyZXR1cm4gb1swXT1lLG9bMV09dCxvWzJdPXIsb30saS5hc0Zsb2F0NjQ9aS5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcyxpLmNyZWF0ZU51bWJlckZyb21WYWx1ZXM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybltlLHQscl19LGkuY29weT1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlfSxpLnNldD1mdW5jdGlvbihlLHQscixvKXtyZXR1cm4gZVswXT10LGVbMV09cixlWzJdPW8sZX0saS5hZGQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlWzBdPXRbMF0rclswXSxlWzFdPXRbMV0rclsxXSxlWzJdPXRbMl0rclsyXSxlfSxpLnN1YnRyYWN0PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVswXT10WzBdLXJbMF0sZVsxXT10WzFdLXJbMV0sZVsyXT10WzJdLXJbMl0sZX0saS5zdWI9aS5zdWJ0cmFjdCxpLm11bHRpcGx5PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVswXT10WzBdKnJbMF0sZVsxXT10WzFdKnJbMV0sZVsyXT10WzJdKnJbMl0sZX0saS5tdWw9aS5tdWx0aXBseSxpLmRpdmlkZT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGVbMF09dFswXS9yWzBdLGVbMV09dFsxXS9yWzFdLGVbMl09dFsyXS9yWzJdLGV9LGkuZGl2PWkuZGl2aWRlLGkuY2VpbD1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPU1hdGguY2VpbCh0WzBdKSxlWzFdPU1hdGguY2VpbCh0WzFdKSxlWzJdPU1hdGguY2VpbCh0WzJdKSxlfSxpLmZsb29yPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09TWF0aC5mbG9vcih0WzBdKSxlWzFdPU1hdGguZmxvb3IodFsxXSksZVsyXT1NYXRoLmZsb29yKHRbMl0pLGV9LGkubWluPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVswXT1NYXRoLm1pbih0WzBdLHJbMF0pLGVbMV09TWF0aC5taW4odFsxXSxyWzFdKSxlWzJdPU1hdGgubWluKHRbMl0sclsyXSksZX0saS5tYXg9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlWzBdPU1hdGgubWF4KHRbMF0sclswXSksZVsxXT1NYXRoLm1heCh0WzFdLHJbMV0pLGVbMl09TWF0aC5tYXgodFsyXSxyWzJdKSxlfSxpLnJvdW5kPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09TWF0aC5yb3VuZCh0WzBdKSxlWzFdPU1hdGgucm91bmQodFsxXSksZVsyXT1NYXRoLnJvdW5kKHRbMl0pLGV9LGkuc2NhbGU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlWzBdPXRbMF0qcixlWzFdPXRbMV0qcixlWzJdPXRbMl0qcixlfSxpLnNjYWxlQW5kQWRkPWZ1bmN0aW9uKGUsdCxyLG8pe3JldHVybiBlWzBdPXRbMF0rclswXSpvLGVbMV09dFsxXStyWzFdKm8sZVsyXT10WzJdK3JbMl0qbyxlfSxpLmRpc3RhbmNlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dFswXS1lWzBdLG89dFsxXS1lWzFdLGk9dFsyXS1lWzJdO3JldHVybiBNYXRoLnNxcnQocipyK28qbytpKmkpfSxpLmRpc3Q9aS5kaXN0YW5jZSxpLnNxdWFyZWREaXN0YW5jZT1mdW5jdGlvbihlLHQpe3ZhciByPXRbMF0tZVswXSxvPXRbMV0tZVsxXSxpPXRbMl0tZVsyXTtyZXR1cm4gcipyK28qbytpKml9LGkuc3FyRGlzdD1pLnNxdWFyZWREaXN0YW5jZSxpLmxlbmd0aD1mdW5jdGlvbihlKXt2YXIgdD1lWzBdLHI9ZVsxXSxvPWVbMl07cmV0dXJuIE1hdGguc3FydCh0KnQrcipyK28qbyl9LGkubGVuPWkubGVuZ3RoLGkuc3F1YXJlZExlbmd0aD1mdW5jdGlvbihlKXt2YXIgdD1lWzBdLHI9ZVsxXSxvPWVbMl07cmV0dXJuIHQqdCtyKnIrbypvfSxpLnNxckxlbj1pLnNxdWFyZWRMZW5ndGgsaS5uZWdhdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT0tdFswXSxlWzFdPS10WzFdLGVbMl09LXRbMl0sZX0saS5pbnZlcnNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09MS90WzBdLGVbMV09MS90WzFdLGVbMl09MS90WzJdLGV9LGkubm9ybWFsaXplPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dFswXSxvPXRbMV0saT10WzJdLG49cipyK28qbytpKmk7cmV0dXJuIG4+MCYmKG49MS9NYXRoLnNxcnQobiksZVswXT10WzBdKm4sZVsxXT10WzFdKm4sZVsyXT10WzJdKm4pLGV9LGkuZG90PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF0qdFswXStlWzFdKnRbMV0rZVsyXSp0WzJdfSxpLmNyb3NzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz10WzBdLGk9dFsxXSxuPXRbMl0scz1yWzBdLGE9clsxXSxjPXJbMl07cmV0dXJuIGVbMF09aSpjLW4qYSxlWzFdPW4qcy1vKmMsZVsyXT1vKmEtaSpzLGV9LGkubGVycD1mdW5jdGlvbihlLHQscixvKXt2YXIgaT10WzBdLG49dFsxXSxzPXRbMl07cmV0dXJuIGVbMF09aStvKihyWzBdLWkpLGVbMV09bitvKihyWzFdLW4pLGVbMl09cytvKihyWzJdLXMpLGV9LGkuaGVybWl0ZT1mdW5jdGlvbihlLHQscixvLGksbil7dmFyIHM9bipuLGE9cyooMipuLTMpKzEsYz1zKihuLTIpK24sdT1zKihuLTEpLGw9cyooMy0yKm4pO3JldHVybiBlWzBdPXRbMF0qYStyWzBdKmMrb1swXSp1K2lbMF0qbCxlWzFdPXRbMV0qYStyWzFdKmMrb1sxXSp1K2lbMV0qbCxlWzJdPXRbMl0qYStyWzJdKmMrb1syXSp1K2lbMl0qbCxlfSxpLmJlemllcj1mdW5jdGlvbihlLHQscixvLGksbil7dmFyIHM9MS1uLGE9cypzLGM9bipuLHU9YSpzLGw9MypuKmEsaD0zKmMqcyxkPWMqbjtyZXR1cm4gZVswXT10WzBdKnUrclswXSpsK29bMF0qaCtpWzBdKmQsZVsxXT10WzFdKnUrclsxXSpsK29bMV0qaCtpWzFdKmQsZVsyXT10WzJdKnUrclsyXSpsK29bMl0qaCtpWzJdKmQsZX0saS5yYW5kb209ZnVuY3Rpb24oZSx0KXt0PXR8fDE7dmFyIHI9MipNYXRoLnJhbmRvbSgpKk1hdGguUEksbz0yKk1hdGgucmFuZG9tKCktMSxpPU1hdGguc3FydCgxLW8qbykqdDtyZXR1cm4gZVswXT1NYXRoLmNvcyhyKSppLGVbMV09TWF0aC5zaW4ocikqaSxlWzJdPW8qdCxlfSxpLnRyYW5zZm9ybU1hdHJpeDQ0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz10WzBdLGk9dFsxXSxuPXRbMl07cmV0dXJuIGVbMF09clswXSpvK3JbNF0qaStyWzhdKm4rclsxMl0sZVsxXT1yWzFdKm8rcls1XSppK3JbOV0qbityWzEzXSxlWzJdPXJbMl0qbytyWzZdKmkrclsxMF0qbityWzE0XSxlfSxpLnRyYW5zZm9ybUFzRGlyZWN0aW9uTWF0cml4NDQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXRbMF0saT10WzFdLG49dFsyXTtyZXR1cm4gZVswXT1yWzBdKm8rcls0XSppK3JbOF0qbixlWzFdPXJbMV0qbytyWzVdKmkrcls5XSpuLGVbMl09clsyXSpvK3JbNl0qaStyWzEwXSpuLGV9LGkudHJhbnNmb3JtTWF0cml4MzM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXRbMF0saT10WzFdLG49dFsyXTtyZXR1cm4gZVswXT1vKnJbMF0raSpyWzNdK24qcls2XSxlWzFdPW8qclsxXStpKnJbNF0rbipyWzddLGVbMl09bypyWzJdK2kqcls1XStuKnJbOF0sZX0saS50cmFuc2Zvcm1RdWF0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz10WzBdLGk9dFsxXSxuPXRbMl0scz1yWzBdLGE9clsxXSxjPXJbMl0sdT1yWzNdLGw9dSpvK2Eqbi1jKmksaD11KmkrYypvLXMqbixkPXUqbitzKmktYSpvLHA9LXMqby1hKmktYypuO3JldHVybiBlWzBdPWwqdStwKi1zK2gqLWMtZCotYSxlWzFdPWgqdStwKi1hK2QqLXMtbCotYyxlWzJdPWQqdStwKi1jK2wqLWEtaCotcyxlfSxpLnNldEZyb21NYXRyaXhTY2FsZT1mdW5jdGlvbihlLHQpe3ZhciByPU1hdGguc3FydCh0WzBdKnRbMF0rdFsxXSp0WzFdK3RbMl0qdFsyXSksbz1NYXRoLnNxcnQodFs0XSp0WzRdK3RbNV0qdFs1XSt0WzZdKnRbNl0pLGk9TWF0aC5zcXJ0KHRbOF0qdFs4XSt0WzldKnRbOV0rdFsxMF0qdFsxMF0pO3JldHVybiBlWzBdPXIsZVsxXT1vLGVbMl09aSxlfSxpLnJvdGF0ZVg9ZnVuY3Rpb24oZSx0LHIsbyl7dmFyIGk9W10sbj1bXTtyZXR1cm4gaVswXT10WzBdLXJbMF0saVsxXT10WzFdLXJbMV0saVsyXT10WzJdLXJbMl0sblswXT1pWzBdLG5bMV09aVsxXSpNYXRoLmNvcyhvKS1pWzJdKk1hdGguc2luKG8pLG5bMl09aVsxXSpNYXRoLnNpbihvKStpWzJdKk1hdGguY29zKG8pLGVbMF09blswXStyWzBdLGVbMV09blsxXStyWzFdLGVbMl09blsyXStyWzJdLGV9LGkucm90YXRlWT1mdW5jdGlvbihlLHQscixvKXt2YXIgaT1bXSxuPVtdO3JldHVybiBpWzBdPXRbMF0tclswXSxpWzFdPXRbMV0tclsxXSxpWzJdPXRbMl0tclsyXSxuWzBdPWlbMl0qTWF0aC5zaW4obykraVswXSpNYXRoLmNvcyhvKSxuWzFdPWlbMV0sblsyXT1pWzJdKk1hdGguY29zKG8pLWlbMF0qTWF0aC5zaW4obyksZVswXT1uWzBdK3JbMF0sZVsxXT1uWzFdK3JbMV0sZVsyXT1uWzJdK3JbMl0sZX0saS5yb3RhdGVaPWZ1bmN0aW9uKGUsdCxyLG8pe3ZhciBpPVtdLG49W107cmV0dXJuIGlbMF09dFswXS1yWzBdLGlbMV09dFsxXS1yWzFdLGlbMl09dFsyXS1yWzJdLG5bMF09aVswXSpNYXRoLmNvcyhvKS1pWzFdKk1hdGguc2luKG8pLG5bMV09aVswXSpNYXRoLnNpbihvKStpWzFdKk1hdGguY29zKG8pLG5bMl09aVsyXSxlWzBdPW5bMF0rclswXSxlWzFdPW5bMV0rclsxXSxlWzJdPW5bMl0rclsyXSxlfSxpLmFuZ2xlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5jbG9uZShlKSxvPWkuY2xvbmUodCk7aS5ub3JtYWxpemUocixyKSxpLm5vcm1hbGl6ZShvLG8pO3ZhciBuPWkuZG90KHIsbykscz1pLmxlbmd0aChpLmNyb3NzKHIscixvKSk7cmV0dXJuIE1hdGguYXRhbjIocyxuKX0saS5pc1BhcmFsbGVsPWZ1bmN0aW9uKGUsdCxyLG4pe249bnx8by5iLHI9cnx8MDt2YXIgcz1pLmNyZWF0ZUZsb2F0NjQoKTtyZXR1cm4gaS5jcm9zcyhzLGUsdCksIShpLnNxdWFyZWRMZW5ndGgocyk+bipuKmkuc3F1YXJlZExlbmd0aChlKSppLnNxdWFyZWRMZW5ndGgodCkpJiYocj4wP2kuZG90KGUsdCk+MDohKHI8MCl8fGkuZG90KGUsdCk8MCl9LGkuaXNPcnRob2dvbmFsPWZ1bmN0aW9uKGUsdCxyKXtyPXJ8fG8uYjt2YXIgbj1pLmRvdChlLHQpO3JldHVybiBuKm48PXIqcippLnNxdWFyZWRMZW5ndGgoZSkqaS5zcXVhcmVkTGVuZ3RoKHQpfSxpLmNvbXB1dGVPcnRob2dvbmFsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRbMF0qdFswXT50WzJdKnRbMl0/aS5zZXQoZSx0WzFdLC10WzBdLDApOmkuc2V0KGUsMCx0WzJdLC10WzFdKSxlfSxpLnNldEV1bGVyRnJvbVJvdGF0aW9uTWF0cml4PWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT0xLW8uYjtmdW5jdGlvbiBuKGUpe3JldHVybiBNYXRoLm1pbihNYXRoLm1heChlLC0xKSwxKX12YXIgcz10WzBdLGE9dFs0XSxjPXRbOF0sdT10WzFdLGw9dFs1XSxoPXRbOV0sZD10WzJdLHA9dFs2XSxnPXRbMTBdO3JldHVybiB2b2lkIDA9PT1yfHxcIlhZWlwiPT09cj8oZVsxXT1NYXRoLmFzaW4obihjKSksTWF0aC5hYnMoYyk8aT8oZVswXT1NYXRoLmF0YW4yKC1oLGcpLGVbMl09TWF0aC5hdGFuMigtYSxzKSk6KGVbMF09TWF0aC5hdGFuMihwLGwpLGVbMl09MCkpOlwiWVhaXCI9PT1yPyhlWzBdPU1hdGguYXNpbigtbihoKSksTWF0aC5hYnMoaCk8aT8oZVsxXT1NYXRoLmF0YW4yKGMsZyksZVsyXT1NYXRoLmF0YW4yKHUsbCkpOihlWzFdPU1hdGguYXRhbjIoLWQscyksZVsyXT0wKSk6XCJaWFlcIj09PXI/KGVbMF09TWF0aC5hc2luKG4ocCkpLE1hdGguYWJzKHApPGk/KGVbMV09TWF0aC5hdGFuMigtZCxnKSxlWzJdPU1hdGguYXRhbjIoLWEsbCkpOihlWzFdPTAsZVsyXT1NYXRoLmF0YW4yKHUscykpKTpcIlpZWFwiPT09cj8oZVsxXT1NYXRoLmFzaW4oLW4oZCkpLE1hdGguYWJzKGQpPGk/KGVbMF09TWF0aC5hdGFuMihwLGcpLGVbMl09TWF0aC5hdGFuMih1LHMpKTooZVswXT0wLGVbMl09TWF0aC5hdGFuMigtYSxsKSkpOlwiWVpYXCI9PT1yPyhlWzJdPU1hdGguYXNpbihuKHUpKSxNYXRoLmFicyh1KTxpPyhlWzBdPU1hdGguYXRhbjIoLWgsbCksZVsxXT1NYXRoLmF0YW4yKC1kLHMpKTooZVswXT0wLGVbMV09TWF0aC5hdGFuMihjLGcpKSk6XCJYWllcIj09PXImJihlWzJdPU1hdGguYXNpbigtbihhKSksTWF0aC5hYnMoYSk8aT8oZVswXT1NYXRoLmF0YW4yKHAsbCksZVsxXT1NYXRoLmF0YW4yKGMscykpOihlWzBdPU1hdGguYXRhbjIoLWgsZyksZVsxXT0wKSksZX0saS50b1N0cmluZz1mdW5jdGlvbihlKXtyZXR1cm5cIltcIitlWzBdK1wiLCBcIitlWzFdK1wiLCBcIitlWzJdK1wiXVwifSxpLmV4YWN0RXF1YWxzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09PT10WzBdJiZlWzFdPT09dFsxXSYmZVsyXT09PXRbMl19LGkuZXF1YWxzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gcj1yfHxvLmIsTWF0aC5hYnMoZVswXS10WzBdKTw9ciYmTWF0aC5hYnMoZVsxXS10WzFdKTw9ciYmTWF0aC5hYnMoZVsyXS10WzJdKTw9cn0sdC5hPWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbz1yKDApLGk9e2NyZWF0ZUZsb2F0MzI6ZnVuY3Rpb24oKXt2YXIgZT1uZXcgRmxvYXQzMkFycmF5KDQpO3JldHVybiBlWzBdPTAsZVsxXT0wLGVbMl09MCxlWzNdPTAsZX0sY3JlYXRlRmxvYXQ2NDpmdW5jdGlvbigpe3ZhciBlPW5ldyBGbG9hdDY0QXJyYXkoNCk7cmV0dXJuIGVbMF09MCxlWzFdPTAsZVsyXT0wLGVbM109MCxlfSxjcmVhdGVOdW1iZXI6ZnVuY3Rpb24oKXtyZXR1cm5bMCwwLDAsMF19LGNsb25lOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBlLmNvbnN0cnVjdG9yKDQpO3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdH0sY3JlYXRlRmxvYXQzMkZyb21WYWx1ZXM6ZnVuY3Rpb24oZSx0LHIsbyl7dmFyIGk9bmV3IEZsb2F0MzJBcnJheSg0KTtyZXR1cm4gaVswXT1lLGlbMV09dCxpWzJdPXIsaVszXT1vLGl9fTtpLmFzRmxvYXQzMj1pLmNyZWF0ZUZsb2F0MzJGcm9tVmFsdWVzLGkuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXM9ZnVuY3Rpb24oZSx0LHIsbyl7dmFyIGk9bmV3IEZsb2F0NjRBcnJheSg0KTtyZXR1cm4gaVswXT1lLGlbMV09dCxpWzJdPXIsaVszXT1vLGl9LGkuYXNGbG9hdDY0PWkuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXMsaS5jcmVhdGVOdW1iZXJGcm9tVmFsdWVzPWZ1bmN0aW9uKGUsdCxyLG8pe3JldHVybltlLHQscixvXX0saS5jb3B5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09dFswXSxlWzFdPXRbMV0sZVsyXT10WzJdLGVbM109dFszXSxlfSxpLnNldD1mdW5jdGlvbihlLHQscixvLGkpe3JldHVybiBlWzBdPXQsZVsxXT1yLGVbMl09byxlWzNdPWksZX0saS5hZGQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlWzBdPXRbMF0rclswXSxlWzFdPXRbMV0rclsxXSxlWzJdPXRbMl0rclsyXSxlWzNdPXRbM10rclszXSxlfSxpLnN1YnRyYWN0PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVswXT10WzBdLXJbMF0sZVsxXT10WzFdLXJbMV0sZVsyXT10WzJdLXJbMl0sZVszXT10WzNdLXJbM10sZX0saS5zdWI9aS5zdWJ0cmFjdCxpLm11bHRpcGx5PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVswXT10WzBdKnJbMF0sZVsxXT10WzFdKnJbMV0sZVsyXT10WzJdKnJbMl0sZVszXT10WzNdKnJbM10sZX0saS5tdWw9aS5tdWx0aXBseSxpLmRpdmlkZT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGVbMF09dFswXS9yWzBdLGVbMV09dFsxXS9yWzFdLGVbMl09dFsyXS9yWzJdLGVbM109dFszXS9yWzNdLGV9LGkuZGl2PWkuZGl2aWRlLGkuY2VpbD1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPU1hdGguY2VpbCh0WzBdKSxlWzFdPU1hdGguY2VpbCh0WzFdKSxlWzJdPU1hdGguY2VpbCh0WzJdKSxlWzNdPU1hdGguY2VpbCh0WzNdKSxlfSxpLmZsb29yPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09TWF0aC5mbG9vcih0WzBdKSxlWzFdPU1hdGguZmxvb3IodFsxXSksZVsyXT1NYXRoLmZsb29yKHRbMl0pLGVbM109TWF0aC5mbG9vcih0WzNdKSxlfSxpLm1pbj1mdW5jdGlvbihlLHQscil7cmV0dXJuIGVbMF09TWF0aC5taW4odFswXSxyWzBdKSxlWzFdPU1hdGgubWluKHRbMV0sclsxXSksZVsyXT1NYXRoLm1pbih0WzJdLHJbMl0pLGVbM109TWF0aC5taW4odFszXSxyWzNdKSxlfSxpLm1heD1mdW5jdGlvbihlLHQscil7cmV0dXJuIGVbMF09TWF0aC5tYXgodFswXSxyWzBdKSxlWzFdPU1hdGgubWF4KHRbMV0sclsxXSksZVsyXT1NYXRoLm1heCh0WzJdLHJbMl0pLGVbM109TWF0aC5tYXgodFszXSxyWzNdKSxlfSxpLnJvdW5kPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09TWF0aC5yb3VuZCh0WzBdKSxlWzFdPU1hdGgucm91bmQodFsxXSksZVsyXT1NYXRoLnJvdW5kKHRbMl0pLGVbM109TWF0aC5yb3VuZCh0WzNdKSxlfSxpLnNjYWxlPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVswXT10WzBdKnIsZVsxXT10WzFdKnIsZVsyXT10WzJdKnIsZVszXT10WzNdKnIsZX0saS5zY2FsZUFuZEFkZD1mdW5jdGlvbihlLHQscixvKXtyZXR1cm4gZVswXT10WzBdK3JbMF0qbyxlWzFdPXRbMV0rclsxXSpvLGVbMl09dFsyXStyWzJdKm8sZVszXT10WzNdK3JbM10qbyxlfSxpLmRpc3RhbmNlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dFswXS1lWzBdLG89dFsxXS1lWzFdLGk9dFsyXS1lWzJdLG49dFszXS1lWzNdO3JldHVybiBNYXRoLnNxcnQocipyK28qbytpKmkrbipuKX0saS5kaXN0PWkuZGlzdGFuY2UsaS5zcXVhcmVkRGlzdGFuY2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj10WzBdLWVbMF0sbz10WzFdLWVbMV0saT10WzJdLWVbMl0sbj10WzNdLWVbM107cmV0dXJuIHIqcitvKm8raSppK24qbn0saS5zcXJEaXN0PWkuc3F1YXJlZERpc3RhbmNlLGkubGVuZ3RoPWZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0scj1lWzFdLG89ZVsyXSxpPWVbM107cmV0dXJuIE1hdGguc3FydCh0KnQrcipyK28qbytpKmkpfSxpLmxlbj1pLmxlbmd0aCxpLnNxdWFyZWRMZW5ndGg9ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXSxyPWVbMV0sbz1lWzJdLGk9ZVszXTtyZXR1cm4gdCp0K3IqcitvKm8raSppfSxpLnNxckxlbj1pLnNxdWFyZWRMZW5ndGgsaS5uZWdhdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT0tdFswXSxlWzFdPS10WzFdLGVbMl09LXRbMl0sZVszXT0tdFszXSxlfSxpLmludmVyc2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT0xL3RbMF0sZVsxXT0xL3RbMV0sZVsyXT0xL3RbMl0sZVszXT0xL3RbM10sZX0saS5ub3JtYWxpemU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10WzBdLG89dFsxXSxpPXRbMl0sbj10WzNdLHM9cipyK28qbytpKmkrbipuO3JldHVybiBzPjAmJihzPTEvTWF0aC5zcXJ0KHMpLGVbMF09cipzLGVbMV09bypzLGVbMl09aSpzLGVbM109bipzKSxlfSxpLmRvdD1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdKnRbMF0rZVsxXSp0WzFdK2VbMl0qdFsyXStlWzNdKnRbM119LGkubGVycD1mdW5jdGlvbihlLHQscixvKXt2YXIgaT10WzBdLG49dFsxXSxzPXRbMl0sYT10WzNdO3JldHVybiBlWzBdPWkrbyooclswXS1pKSxlWzFdPW4rbyooclsxXS1uKSxlWzJdPXMrbyooclsyXS1zKSxlWzNdPWErbyooclszXS1hKSxlfSxpLnJhbmRvbT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fDEsZVswXT1NYXRoLnJhbmRvbSgpLGVbMV09TWF0aC5yYW5kb20oKSxlWzJdPU1hdGgucmFuZG9tKCksZVszXT1NYXRoLnJhbmRvbSgpLGkubm9ybWFsaXplKGUsZSksaS5zY2FsZShlLGUsdCksZX0saS50cmFuc2Zvcm1NYXRyaXg0ND1mdW5jdGlvbihlLHQscil7dmFyIG89dFswXSxpPXRbMV0sbj10WzJdLHM9dFszXTtyZXR1cm4gZVswXT1yWzBdKm8rcls0XSppK3JbOF0qbityWzEyXSpzLGVbMV09clsxXSpvK3JbNV0qaStyWzldKm4rclsxM10qcyxlWzJdPXJbMl0qbytyWzZdKmkrclsxMF0qbityWzE0XSpzLGVbM109clszXSpvK3JbN10qaStyWzExXSpuK3JbMTVdKnMsZX0saS50cmFuc2Zvcm1RdWF0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz10WzBdLGk9dFsxXSxuPXRbMl0scz1yWzBdLGE9clsxXSxjPXJbMl0sdT1yWzNdLGw9dSpvK2Eqbi1jKmksaD11KmkrYypvLXMqbixkPXUqbitzKmktYSpvLHA9LXMqby1hKmktYypuO3JldHVybiBlWzBdPWwqdStwKi1zK2gqLWMtZCotYSxlWzFdPWgqdStwKi1hK2QqLXMtbCotYyxlWzJdPWQqdStwKi1jK2wqLWEtaCotcyxlWzNdPXRbM10sZX0saS50b1N0cmluZz1mdW5jdGlvbihlKXtyZXR1cm5cIltcIitlWzBdK1wiLCBcIitlWzFdK1wiLCBcIitlWzJdK1wiLCBcIitlWzNdK1wiXVwifSxpLmV4YWN0RXF1YWxzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09PT10WzBdJiZlWzFdPT09dFsxXSYmZVsyXT09PXRbMl0mJmVbM109PT10WzNdfSxpLmVxdWFscz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHI9cnx8by5iLE1hdGguYWJzKGVbMF0tdFswXSk8PXImJk1hdGguYWJzKGVbMV0tdFsxXSk8PXImJk1hdGguYWJzKGVbMl0tdFsyXSk8PXImJk1hdGguYWJzKGVbMl0tdFsyXSk8PXJ9LHQuYT1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89cigwKSxpPXtjcmVhdGVGbG9hdDMyOmZ1bmN0aW9uKCl7dmFyIGU9bmV3IEZsb2F0MzJBcnJheSg5KTtyZXR1cm4gZVswXT0xLGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MSxlWzVdPTAsZVs2XT0wLGVbN109MCxlWzhdPTEsZX0sY3JlYXRlRmxvYXQ2NDpmdW5jdGlvbigpe3ZhciBlPW5ldyBGbG9hdDY0QXJyYXkoOSk7cmV0dXJuIGVbMF09MSxlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTEsZVs1XT0wLGVbNl09MCxlWzddPTAsZVs4XT0xLGV9LGNyZWF0ZU51bWJlcjpmdW5jdGlvbigpe3JldHVyblsxLDAsMCwwLDEsMCwwLDAsMV19LGZyb21NYXRyaXg0NDpmdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbNF0sZVs0XT10WzVdLGVbNV09dFs2XSxlWzZdPXRbOF0sZVs3XT10WzldLGVbOF09dFsxMF0sZX0sY2xvbmU6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGUuY29uc3RydWN0b3IoOSk7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdFsyXT1lWzJdLHRbM109ZVszXSx0WzRdPWVbNF0sdFs1XT1lWzVdLHRbNl09ZVs2XSx0WzddPWVbN10sdFs4XT1lWzhdLHR9LGNvcHk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT10WzBdLGVbMV09dFsxXSxlWzJdPXRbMl0sZVszXT10WzNdLGVbNF09dFs0XSxlWzVdPXRbNV0sZVs2XT10WzZdLGVbN109dFs3XSxlWzhdPXRbOF0sZX0sY3JlYXRlRmxvYXQzMkZyb21WYWx1ZXM6ZnVuY3Rpb24oZSx0LHIsbyxpLG4scyxhLGMpe3ZhciB1PW5ldyBGbG9hdDMyQXJyYXkoOSk7cmV0dXJuIHVbMF09ZSx1WzFdPXQsdVsyXT1yLHVbM109byx1WzRdPWksdVs1XT1uLHVbNl09cyx1WzddPWEsdVs4XT1jLHV9fTtpLmFzRmxvYXQzMj1pLmNyZWF0ZUZsb2F0MzJGcm9tVmFsdWVzLGkuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXM9ZnVuY3Rpb24oZSx0LHIsbyxpLG4scyxhLGMpe3ZhciB1PW5ldyBGbG9hdDY0QXJyYXkoOSk7cmV0dXJuIHVbMF09ZSx1WzFdPXQsdVsyXT1yLHVbM109byx1WzRdPWksdVs1XT1uLHVbNl09cyx1WzddPWEsdVs4XT1jLHV9LGkuYXNGbG9hdDY0PWkuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXMsaS5jcmVhdGVOdW1iZXJGcm9tVmFsdWVzPWZ1bmN0aW9uKGUsdCxyLG8saSxuLHMsYSxjKXtyZXR1cm5bZSx0LHIsbyxpLG4scyxhLGNdfSxpLnNldD1mdW5jdGlvbihlLHQscixvLGksbixzLGEsYyx1KXtyZXR1cm4gZVswXT10LGVbMV09cixlWzJdPW8sZVszXT1pLGVbNF09bixlWzVdPXMsZVs2XT1hLGVbN109YyxlWzhdPXUsZX0saS5pZGVudGl0eT1mdW5jdGlvbihlKXtyZXR1cm4gZVswXT0xLGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MSxlWzVdPTAsZVs2XT0wLGVbN109MCxlWzhdPTEsZX0saS50cmFuc3Bvc2U9ZnVuY3Rpb24oZSx0KXtpZihlPT09dCl7dmFyIHI9dFsxXSxvPXRbMl0saT10WzVdO2VbMV09dFszXSxlWzJdPXRbNl0sZVszXT1yLGVbNV09dFs3XSxlWzZdPW8sZVs3XT1pfWVsc2UgZVswXT10WzBdLGVbMV09dFszXSxlWzJdPXRbNl0sZVszXT10WzFdLGVbNF09dFs0XSxlWzVdPXRbN10sZVs2XT10WzJdLGVbN109dFs1XSxlWzhdPXRbOF07cmV0dXJuIGV9LGkuaW52ZXJ0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dFswXSxvPXRbMV0saT10WzJdLG49dFszXSxzPXRbNF0sYT10WzVdLGM9dFs2XSx1PXRbN10sbD10WzhdLGg9bCpzLWEqdSxkPS1sKm4rYSpjLHA9dSpuLXMqYyxnPXIqaCtvKmQraSpwO3JldHVybiBnPyhnPTEvZyxlWzBdPWgqZyxlWzFdPSgtbCpvK2kqdSkqZyxlWzJdPShhKm8taSpzKSpnLGVbM109ZCpnLGVbNF09KGwqci1pKmMpKmcsZVs1XT0oLWEqcitpKm4pKmcsZVs2XT1wKmcsZVs3XT0oLXUqcitvKmMpKmcsZVs4XT0ocypyLW8qbikqZyxlKTpudWxsfSxpLmRldGVybWluYW50PWZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0scj1lWzFdLG89ZVsyXSxpPWVbM10sbj1lWzRdLHM9ZVs1XSxhPWVbNl0sYz1lWzddLHU9ZVs4XTtyZXR1cm4gdCoodSpuLXMqYykrciooLXUqaStzKmEpK28qKGMqaS1uKmEpfSxpLm11bHRpcGx5PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz10WzBdLGk9dFsxXSxuPXRbMl0scz10WzNdLGE9dFs0XSxjPXRbNV0sdT10WzZdLGw9dFs3XSxoPXRbOF0sZD1yWzBdLHA9clsxXSxnPXJbMl0sZj1yWzNdLHY9cls0XSxfPXJbNV0seT1yWzZdLG09cls3XSxFPXJbOF07cmV0dXJuIGVbMF09ZCpvK3AqcytnKnUsZVsxXT1kKmkrcCphK2cqbCxlWzJdPWQqbitwKmMrZypoLGVbM109ZipvK3YqcytfKnUsZVs0XT1mKmkrdiphK18qbCxlWzVdPWYqbit2KmMrXypoLGVbNl09eSpvK20qcytFKnUsZVs3XT15KmkrbSphK0UqbCxlWzhdPXkqbittKmMrRSpoLGV9LGkubXVsPWkubXVsdGlwbHksaS5mcm9tVHJhbnNsYXRpb249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT0xLGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MSxlWzVdPTAsZVs2XT10WzBdLGVbN109dFsxXSxlWzhdPTEsZX0saS5mcm9tUm90YXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgcj1NYXRoLnNpbih0KSxvPU1hdGguY29zKHQpO3JldHVybiBlWzBdPW8sZVsxXT1yLGVbMl09MCxlWzNdPS1yLGVbNF09byxlWzVdPTAsZVs2XT0wLGVbN109MCxlWzhdPTEsZX0saS5mcm9tU2NhbGluZz1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPXRbMF0sZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT10WzFdLGVbNV09MCxlWzZdPTAsZVs3XT0wLGVbOF09MSxlfSxpLmZyb21RdWF0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dFswXSxvPXRbMV0saT10WzJdLG49dFszXSxzPXIrcixhPW8rbyxjPWkraSx1PXIqcyxsPW8qcyxoPW8qYSxkPWkqcyxwPWkqYSxnPWkqYyxmPW4qcyx2PW4qYSxfPW4qYztyZXR1cm4gZVswXT0xLWgtZyxlWzNdPWwtXyxlWzZdPWQrdixlWzFdPWwrXyxlWzRdPTEtdS1nLGVbN109cC1mLGVbMl09ZC12LGVbNV09cCtmLGVbOF09MS11LWgsZX0saS5ub3JtYWxGcm9tTWF0cml4NDQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10WzBdLG89dFsxXSxpPXRbMl0sbj10WzNdLHM9dFs0XSxhPXRbNV0sYz10WzZdLHU9dFs3XSxsPXRbOF0saD10WzldLGQ9dFsxMF0scD10WzExXSxnPXRbMTJdLGY9dFsxM10sdj10WzE0XSxfPXRbMTVdLHk9ciphLW8qcyxtPXIqYy1pKnMsRT1yKnUtbipzLHg9bypjLWkqYSxSPW8qdS1uKmEsQT1pKnUtbipjLFA9bCpmLWgqZyxWPWwqdi1kKmcsVD1sKl8tcCpnLGI9aCp2LWQqZixDPWgqXy1wKmYsTz1kKl8tcCp2LEw9eSpPLW0qQytFKmIreCpULVIqVitBKlA7cmV0dXJuIEw/KEw9MS9MLGVbMF09KGEqTy1jKkMrdSpiKSpMLGVbMV09KGMqVC1zKk8tdSpWKSpMLGVbMl09KHMqQy1hKlQrdSpQKSpMLGVbM109KGkqQy1vKk8tbipiKSpMLGVbNF09KHIqTy1pKlQrbipWKSpMLGVbNV09KG8qVC1yKkMtbipQKSpMLGVbNl09KGYqQS12KlIrXyp4KSpMLGVbN109KHYqRS1nKkEtXyptKSpMLGVbOF09KGcqUi1mKkUrXyp5KSpMLGUpOm51bGx9LGkudG9TdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuXCJbXCIrZVswXStcIiwgXCIrZVsxXStcIiwgXCIrZVsyXStcIiwgXCIrZVszXStcIiwgXCIrZVs0XStcIiwgXCIrZVs1XStcIiwgXCIrZVs2XStcIiwgXCIrZVs3XStcIiwgXCIrZVs4XStcIl1cIn0saS5hZGQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlWzBdPXRbMF0rclswXSxlWzFdPXRbMV0rclsxXSxlWzJdPXRbMl0rclsyXSxlWzNdPXRbM10rclszXSxlWzRdPXRbNF0rcls0XSxlWzVdPXRbNV0rcls1XSxlWzZdPXRbNl0rcls2XSxlWzddPXRbN10rcls3XSxlWzhdPXRbOF0rcls4XSxlfSxpLnN1YnRyYWN0PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVswXT10WzBdLXJbMF0sZVsxXT10WzFdLXJbMV0sZVsyXT10WzJdLXJbMl0sZVszXT10WzNdLXJbM10sZVs0XT10WzRdLXJbNF0sZVs1XT10WzVdLXJbNV0sZVs2XT10WzZdLXJbNl0sZVs3XT10WzddLXJbN10sZVs4XT10WzhdLXJbOF0sZX0saS5zdWI9aS5zdWJ0cmFjdCxpLm11bHRpcGx5U2NhbGFyPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVswXT10WzBdKnIsZVsxXT10WzFdKnIsZVsyXT10WzJdKnIsZVszXT10WzNdKnIsZVs0XT10WzRdKnIsZVs1XT10WzVdKnIsZVs2XT10WzZdKnIsZVs3XT10WzddKnIsZVs4XT10WzhdKnIsZX0saS5tdWx0aXBseVNjYWxhckFuZEFkZD1mdW5jdGlvbihlLHQscixvKXtyZXR1cm4gZVswXT10WzBdK3JbMF0qbyxlWzFdPXRbMV0rclsxXSpvLGVbMl09dFsyXStyWzJdKm8sZVszXT10WzNdK3JbM10qbyxlWzRdPXRbNF0rcls0XSpvLGVbNV09dFs1XStyWzVdKm8sZVs2XT10WzZdK3JbNl0qbyxlWzddPXRbN10rcls3XSpvLGVbOF09dFs4XStyWzhdKm8sZX0saS5leGFjdEVxdWFscz1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPT09dFswXSYmZVsxXT09PXRbMV0mJmVbMl09PT10WzJdJiZlWzNdPT09dFszXSYmZVs0XT09PXRbNF0mJmVbNV09PT10WzVdJiZlWzZdPT09dFs2XSYmZVs3XT09PXRbN10mJmVbOF09PT10WzhdfSxpLmVxdWFscz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHI9cnx8by5iLE1hdGguYWJzKGVbMF0tdFswXSk8PXImJk1hdGguYWJzKGVbMV0tdFsxXSk8PXImJk1hdGguYWJzKGVbMl0tdFsyXSk8PXImJk1hdGguYWJzKGVbM10tdFszXSk8PXImJk1hdGguYWJzKGVbNF0tdFs0XSk8PXImJk1hdGguYWJzKGVbNV0tdFs1XSk8PXImJk1hdGguYWJzKGVbNl0tdFs2XSk8PXImJk1hdGguYWJzKGVbN10tdFs3XSk8PXImJk1hdGguYWJzKGVbOF0tdFs4XSk8PXJ9LHQuYT1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89cigwKSxpPXtjcmVhdGVGbG9hdDMyOmZ1bmN0aW9uKCl7dmFyIGU9bmV3IEZsb2F0MzJBcnJheSgxNik7cmV0dXJuIGVbMF09MSxlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTAsZVs1XT0xLGVbNl09MCxlWzddPTAsZVs4XT0wLGVbOV09MCxlWzEwXT0xLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSxlfSxjcmVhdGVGbG9hdDY0OmZ1bmN0aW9uKCl7dmFyIGU9bmV3IEZsb2F0NjRBcnJheSgxNik7cmV0dXJuIGVbMF09MSxlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTAsZVs1XT0xLGVbNl09MCxlWzddPTAsZVs4XT0wLGVbOV09MCxlWzEwXT0xLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSxlfSxjcmVhdGVOdW1iZXI6ZnVuY3Rpb24oKXtyZXR1cm5bMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV19LGNsb25lOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBlLmNvbnN0cnVjdG9yKDE2KTtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdFszXT1lWzNdLHRbNF09ZVs0XSx0WzVdPWVbNV0sdFs2XT1lWzZdLHRbN109ZVs3XSx0WzhdPWVbOF0sdFs5XT1lWzldLHRbMTBdPWVbMTBdLHRbMTFdPWVbMTFdLHRbMTJdPWVbMTJdLHRbMTNdPWVbMTNdLHRbMTRdPWVbMTRdLHRbMTVdPWVbMTVdLHR9LGNvcHk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT10WzBdLGVbMV09dFsxXSxlWzJdPXRbMl0sZVszXT10WzNdLGVbNF09dFs0XSxlWzVdPXRbNV0sZVs2XT10WzZdLGVbN109dFs3XSxlWzhdPXRbOF0sZVs5XT10WzldLGVbMTBdPXRbMTBdLGVbMTFdPXRbMTFdLGVbMTJdPXRbMTJdLGVbMTNdPXRbMTNdLGVbMTRdPXRbMTRdLGVbMTVdPXRbMTVdLGV9LGNyZWF0ZUZsb2F0MzJGcm9tVmFsdWVzOmZ1bmN0aW9uKGUsdCxyLG8saSxuLHMsYSxjLHUsbCxoLGQscCxnLGYpe3ZhciB2PW5ldyBGbG9hdDMyQXJyYXkoMTYpO3JldHVybiB2WzBdPWUsdlsxXT10LHZbMl09cix2WzNdPW8sdls0XT1pLHZbNV09bix2WzZdPXMsdls3XT1hLHZbOF09Yyx2WzldPXUsdlsxMF09bCx2WzExXT1oLHZbMTJdPWQsdlsxM109cCx2WzE0XT1nLHZbMTVdPWYsdn19O2kuYXNGbG9hdDMyPWkuY3JlYXRlRmxvYXQzMkZyb21WYWx1ZXMsaS5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcz1mdW5jdGlvbihlLHQscixvLGksbixzLGEsYyx1LGwsaCxkLHAsZyxmKXt2YXIgdj1uZXcgRmxvYXQ2NEFycmF5KDE2KTtyZXR1cm4gdlswXT1lLHZbMV09dCx2WzJdPXIsdlszXT1vLHZbNF09aSx2WzVdPW4sdls2XT1zLHZbN109YSx2WzhdPWMsdls5XT11LHZbMTBdPWwsdlsxMV09aCx2WzEyXT1kLHZbMTNdPXAsdlsxNF09Zyx2WzE1XT1mLHZ9LGkuYXNGbG9hdDY0PWkuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXMsaS5jcmVhdGVOdW1iZXJGcm9tVmFsdWVzPWZ1bmN0aW9uKGUsdCxyLG8saSxuLHMsYSxjLHUsbCxoLGQscCxnLGYpe3JldHVybltlLHQscixvLGksbixzLGEsYyx1LGwsaCxkLHAsZyxmXX0saS5zZXQ9ZnVuY3Rpb24oZSx0LHIsbyxpLG4scyxhLGMsdSxsLGgsZCxwLGcsZix2KXtyZXR1cm4gZVswXT10LGVbMV09cixlWzJdPW8sZVszXT1pLGVbNF09bixlWzVdPXMsZVs2XT1hLGVbN109YyxlWzhdPXUsZVs5XT1sLGVbMTBdPWgsZVsxMV09ZCxlWzEyXT1wLGVbMTNdPWcsZVsxNF09ZixlWzE1XT12LGV9LGkuaWRlbnRpdHk9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF09MSxlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTAsZVs1XT0xLGVbNl09MCxlWzddPTAsZVs4XT0wLGVbOV09MCxlWzEwXT0xLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSxlfSxpLnRyYW5zcG9zZT1mdW5jdGlvbihlLHQpe2lmKGU9PT10KXt2YXIgcj10WzFdLG89dFsyXSxpPXRbM10sbj10WzZdLHM9dFs3XSxhPXRbMTFdO2VbMV09dFs0XSxlWzJdPXRbOF0sZVszXT10WzEyXSxlWzRdPXIsZVs2XT10WzldLGVbN109dFsxM10sZVs4XT1vLGVbOV09bixlWzExXT10WzE0XSxlWzEyXT1pLGVbMTNdPXMsZVsxNF09YX1lbHNlIGVbMF09dFswXSxlWzFdPXRbNF0sZVsyXT10WzhdLGVbM109dFsxMl0sZVs0XT10WzFdLGVbNV09dFs1XSxlWzZdPXRbOV0sZVs3XT10WzEzXSxlWzhdPXRbMl0sZVs5XT10WzZdLGVbMTBdPXRbMTBdLGVbMTFdPXRbMTRdLGVbMTJdPXRbM10sZVsxM109dFs3XSxlWzE0XT10WzExXSxlWzE1XT10WzE1XTtyZXR1cm4gZX0saS5pbnZlcnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10WzBdLG89dFsxXSxpPXRbMl0sbj10WzNdLHM9dFs0XSxhPXRbNV0sYz10WzZdLHU9dFs3XSxsPXRbOF0saD10WzldLGQ9dFsxMF0scD10WzExXSxnPXRbMTJdLGY9dFsxM10sdj10WzE0XSxfPXRbMTVdLHk9ciphLW8qcyxtPXIqYy1pKnMsRT1yKnUtbipzLHg9bypjLWkqYSxSPW8qdS1uKmEsQT1pKnUtbipjLFA9bCpmLWgqZyxWPWwqdi1kKmcsVD1sKl8tcCpnLGI9aCp2LWQqZixDPWgqXy1wKmYsTz1kKl8tcCp2LEw9eSpPLW0qQytFKmIreCpULVIqVitBKlA7cmV0dXJuIEw/KEw9MS9MLGVbMF09KGEqTy1jKkMrdSpiKSpMLGVbMV09KGkqQy1vKk8tbipiKSpMLGVbMl09KGYqQS12KlIrXyp4KSpMLGVbM109KGQqUi1oKkEtcCp4KSpMLGVbNF09KGMqVC1zKk8tdSpWKSpMLGVbNV09KHIqTy1pKlQrbipWKSpMLGVbNl09KHYqRS1nKkEtXyptKSpMLGVbN109KGwqQS1kKkUrcCptKSpMLGVbOF09KHMqQy1hKlQrdSpQKSpMLGVbOV09KG8qVC1yKkMtbipQKSpMLGVbMTBdPShnKlItZipFK18qeSkqTCxlWzExXT0oaCpFLWwqUi1wKnkpKkwsZVsxMl09KGEqVi1zKmItYypQKSpMLGVbMTNdPShyKmItbypWK2kqUCkqTCxlWzE0XT0oZiptLWcqeC12KnkpKkwsZVsxNV09KGwqeC1oKm0rZCp5KSpMLGUpOm51bGx9LGkuZGV0ZXJtaW5hbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXSxyPWVbMV0sbz1lWzJdLGk9ZVszXSxuPWVbNF0scz1lWzVdLGE9ZVs2XSxjPWVbN10sdT1lWzhdLGw9ZVs5XSxoPWVbMTBdLGQ9ZVsxMV0scD1lWzEyXSxnPWVbMTNdLGY9ZVsxNF0sdj1lWzE1XTtyZXR1cm4odCpzLXIqbikqKGgqdi1kKmYpLSh0KmEtbypuKSoobCp2LWQqZykrKHQqYy1pKm4pKihsKmYtaCpnKSsociphLW8qcykqKHUqdi1kKnApLShyKmMtaSpzKSoodSpmLWgqcCkrKG8qYy1pKmEpKih1KmctbCpwKX0saS5tdWx0aXBseT1mdW5jdGlvbihlLHQscil7dmFyIG89dFswXSxpPXRbMV0sbj10WzJdLHM9dFszXSxhPXRbNF0sYz10WzVdLHU9dFs2XSxsPXRbN10saD10WzhdLGQ9dFs5XSxwPXRbMTBdLGc9dFsxMV0sZj10WzEyXSx2PXRbMTNdLF89dFsxNF0seT10WzE1XSxtPXJbMF0sRT1yWzFdLHg9clsyXSxSPXJbM107cmV0dXJuIGVbMF09bSpvK0UqYSt4KmgrUipmLGVbMV09bSppK0UqYyt4KmQrUip2LGVbMl09bSpuK0UqdSt4KnArUipfLGVbM109bSpzK0UqbCt4KmcrUip5LG09cls0XSxFPXJbNV0seD1yWzZdLFI9cls3XSxlWzRdPW0qbytFKmEreCpoK1IqZixlWzVdPW0qaStFKmMreCpkK1IqdixlWzZdPW0qbitFKnUreCpwK1IqXyxlWzddPW0qcytFKmwreCpnK1IqeSxtPXJbOF0sRT1yWzldLHg9clsxMF0sUj1yWzExXSxlWzhdPW0qbytFKmEreCpoK1IqZixlWzldPW0qaStFKmMreCpkK1IqdixlWzEwXT1tKm4rRSp1K3gqcCtSKl8sZVsxMV09bSpzK0UqbCt4KmcrUip5LG09clsxMl0sRT1yWzEzXSx4PXJbMTRdLFI9clsxNV0sZVsxMl09bSpvK0UqYSt4KmgrUipmLGVbMTNdPW0qaStFKmMreCpkK1IqdixlWzE0XT1tKm4rRSp1K3gqcCtSKl8sZVsxNV09bSpzK0UqbCt4KmcrUip5LGV9LGkubXVsPWkubXVsdGlwbHksaS5mcm9tVHJhbnNsYXRpb249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT0xLGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MCxlWzVdPTEsZVs2XT0wLGVbN109MCxlWzhdPTAsZVs5XT0wLGVbMTBdPTEsZVsxMV09MCxlWzEyXT10WzBdLGVbMTNdPXRbMV0sZVsxNF09dFsyXSxlWzE1XT0xLGV9LGkuZnJvbVNjYWxpbmc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT10WzBdLGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MCxlWzVdPXRbMV0sZVs2XT0wLGVbN109MCxlWzhdPTAsZVs5XT0wLGVbMTBdPXRbMl0sZVsxMV09MCxlWzEyXT0wLGVbMTNdPTAsZVsxNF09MCxlWzE1XT0xLGV9LGkuZnJvbVJvdGF0aW9uPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuLHMsYT1yWzBdLGM9clsxXSx1PXJbMl0sbD1NYXRoLnNxcnQoYSphK2MqYyt1KnUpO3JldHVybiBNYXRoLmFicyhsKTxvLmI/bnVsbDooYSo9bD0xL2wsYyo9bCx1Kj1sLGk9TWF0aC5zaW4odCkscz0xLShuPU1hdGguY29zKHQpKSxlWzBdPWEqYSpzK24sZVsxXT1jKmEqcyt1KmksZVsyXT11KmEqcy1jKmksZVszXT0wLGVbNF09YSpjKnMtdSppLGVbNV09YypjKnMrbixlWzZdPXUqYypzK2EqaSxlWzddPTAsZVs4XT1hKnUqcytjKmksZVs5XT1jKnUqcy1hKmksZVsxMF09dSp1KnMrbixlWzExXT0wLGVbMTJdPTAsZVsxM109MCxlWzE0XT0wLGVbMTVdPTEsZSl9LGkuZnJvbVhSb3RhdGlvbj1mdW5jdGlvbihlLHQpe3ZhciByPU1hdGguc2luKHQpLG89TWF0aC5jb3ModCk7cmV0dXJuIGVbMF09MSxlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTAsZVs1XT1vLGVbNl09cixlWzddPTAsZVs4XT0wLGVbOV09LXIsZVsxMF09byxlWzExXT0wLGVbMTJdPTAsZVsxM109MCxlWzE0XT0wLGVbMTVdPTEsZX0saS5mcm9tWVJvdGF0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9TWF0aC5zaW4odCksbz1NYXRoLmNvcyh0KTtyZXR1cm4gZVswXT1vLGVbMV09MCxlWzJdPS1yLGVbM109MCxlWzRdPTAsZVs1XT0xLGVbNl09MCxlWzddPTAsZVs4XT1yLGVbOV09MCxlWzEwXT1vLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSxlfSxpLmZyb21aUm90YXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgcj1NYXRoLnNpbih0KSxvPU1hdGguY29zKHQpO3JldHVybiBlWzBdPW8sZVsxXT1yLGVbMl09MCxlWzNdPTAsZVs0XT0tcixlWzVdPW8sZVs2XT0wLGVbN109MCxlWzhdPTAsZVs5XT0wLGVbMTBdPTEsZVsxMV09MCxlWzEyXT0wLGVbMTNdPTAsZVsxNF09MCxlWzE1XT0xLGV9LGkuZnJvbVJvdGF0aW9uVHJhbnNsYXRpb249ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXRbMF0saT10WzFdLG49dFsyXSxzPXRbM10sYT1vK28sYz1pK2ksdT1uK24sbD1vKmEsaD1vKmMsZD1vKnUscD1pKmMsZz1pKnUsZj1uKnUsdj1zKmEsXz1zKmMseT1zKnU7cmV0dXJuIGVbMF09MS0ocCtmKSxlWzFdPWgreSxlWzJdPWQtXyxlWzNdPTAsZVs0XT1oLXksZVs1XT0xLShsK2YpLGVbNl09Zyt2LGVbN109MCxlWzhdPWQrXyxlWzldPWctdixlWzEwXT0xLShsK3ApLGVbMTFdPTAsZVsxMl09clswXSxlWzEzXT1yWzFdLGVbMTRdPXJbMl0sZVsxNV09MSxlfSxpLmdldFRyYW5zbGF0aW9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09dFsxMl0sZVsxXT10WzEzXSxlWzJdPXRbMTRdLGV9LGkuZXh0cmFjdFJvdGF0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9MS9NYXRoLnNxcnQodFswXSp0WzBdK3RbMV0qdFsxXSt0WzJdKnRbMl0pLG89MS9NYXRoLnNxcnQodFs0XSp0WzRdK3RbNV0qdFs1XSt0WzZdKnRbNl0pLGk9MS9NYXRoLnNxcnQodFs4XSp0WzhdK3RbOV0qdFs5XSt0WzEwXSp0WzEwXSk7cmV0dXJuIGVbMF09dFswXSpyLGVbMV09dFsxXSpyLGVbMl09dFsyXSpyLGVbM109MCxlWzRdPXRbNF0qbyxlWzVdPXRbNV0qbyxlWzZdPXRbNl0qbyxlWzddPTAsZVs4XT10WzhdKmksZVs5XT10WzldKmksZVsxMF09dFsxMF0qaSxlWzExXT0wLGVbMTJdPTAsZVsxM109MCxlWzE0XT0wLGVbMTVdPTEsdGhpc30saS5nZXRSb3RhdGlvbj1mdW5jdGlvbihlLHQpe3ZhciByPXRbMF0rdFs1XSt0WzEwXSxvPTA7cmV0dXJuIHI+MD8obz0yKk1hdGguc3FydChyKzEpLGVbM109LjI1Km8sZVswXT0odFs2XS10WzldKS9vLGVbMV09KHRbOF0tdFsyXSkvbyxlWzJdPSh0WzFdLXRbNF0pL28pOnRbMF0+dFs1XSYmdFswXT50WzEwXT8obz0yKk1hdGguc3FydCgxK3RbMF0tdFs1XS10WzEwXSksZVszXT0odFs2XS10WzldKS9vLGVbMF09LjI1Km8sZVsxXT0odFsxXSt0WzRdKS9vLGVbMl09KHRbOF0rdFsyXSkvbyk6dFs1XT50WzEwXT8obz0yKk1hdGguc3FydCgxK3RbNV0tdFswXS10WzEwXSksZVszXT0odFs4XS10WzJdKS9vLGVbMF09KHRbMV0rdFs0XSkvbyxlWzFdPS4yNSpvLGVbMl09KHRbNl0rdFs5XSkvbyk6KG89MipNYXRoLnNxcnQoMSt0WzEwXS10WzBdLXRbNV0pLGVbM109KHRbMV0tdFs0XSkvbyxlWzBdPSh0WzhdK3RbMl0pL28sZVsxXT0odFs2XSt0WzldKS9vLGVbMl09LjI1Km8pLGV9LGkuZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZT1mdW5jdGlvbihlLHQscixvKXt2YXIgaT10WzBdLG49dFsxXSxzPXRbMl0sYT10WzNdLGM9aStpLHU9bituLGw9cytzLGg9aSpjLGQ9aSp1LHA9aSpsLGc9bip1LGY9bipsLHY9cypsLF89YSpjLHk9YSp1LG09YSpsLEU9b1swXSx4PW9bMV0sUj1vWzJdO3JldHVybiBlWzBdPSgxLShnK3YpKSpFLGVbMV09KGQrbSkqRSxlWzJdPShwLXkpKkUsZVszXT0wLGVbNF09KGQtbSkqeCxlWzVdPSgxLShoK3YpKSp4LGVbNl09KGYrXykqeCxlWzddPTAsZVs4XT0ocCt5KSpSLGVbOV09KGYtXykqUixlWzEwXT0oMS0oaCtnKSkqUixlWzExXT0wLGVbMTJdPXJbMF0sZVsxM109clsxXSxlWzE0XT1yWzJdLGVbMTVdPTEsZX0saS5mcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlT3JpZ2luPWZ1bmN0aW9uKGUsdCxyLG8saSl7dmFyIG49dFswXSxzPXRbMV0sYT10WzJdLGM9dFszXSx1PW4rbixsPXMrcyxoPWErYSxkPW4qdSxwPW4qbCxnPW4qaCxmPXMqbCx2PXMqaCxfPWEqaCx5PWMqdSxtPWMqbCxFPWMqaCx4PW9bMF0sUj1vWzFdLEE9b1syXSxQPWlbMF0sVj1pWzFdLFQ9aVsyXTtyZXR1cm4gZVswXT0oMS0oZitfKSkqeCxlWzFdPShwK0UpKngsZVsyXT0oZy1tKSp4LGVbM109MCxlWzRdPShwLUUpKlIsZVs1XT0oMS0oZCtfKSkqUixlWzZdPSh2K3kpKlIsZVs3XT0wLGVbOF09KGcrbSkqQSxlWzldPSh2LXkpKkEsZVsxMF09KDEtKGQrZikpKkEsZVsxMV09MCxlWzEyXT1yWzBdK1AtKGVbMF0qUCtlWzRdKlYrZVs4XSpUKSxlWzEzXT1yWzFdK1YtKGVbMV0qUCtlWzVdKlYrZVs5XSpUKSxlWzE0XT1yWzJdK1QtKGVbMl0qUCtlWzZdKlYrZVsxMF0qVCksZVsxNV09MSxlfSxpLmZyb21RdWF0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dFswXSxvPXRbMV0saT10WzJdLG49dFszXSxzPXIrcixhPW8rbyxjPWkraSx1PXIqcyxsPW8qcyxoPW8qYSxkPWkqcyxwPWkqYSxnPWkqYyxmPW4qcyx2PW4qYSxfPW4qYztyZXR1cm4gZVswXT0xLWgtZyxlWzFdPWwrXyxlWzJdPWQtdixlWzNdPTAsZVs0XT1sLV8sZVs1XT0xLXUtZyxlWzZdPXArZixlWzddPTAsZVs4XT1kK3YsZVs5XT1wLWYsZVsxMF09MS11LWgsZVsxMV09MCxlWzEyXT0wLGVbMTNdPTAsZVsxNF09MCxlWzE1XT0xLGV9LGkuc2V0Um90YXRpb25Gcm9tRXVsZXI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXRbMF0saT10WzFdLG49dFsyXSxzPU1hdGguY29zKG8pLGE9TWF0aC5zaW4obyksYz1NYXRoLmNvcyhpKSx1PU1hdGguc2luKGkpLGw9TWF0aC5jb3MobiksaD1NYXRoLnNpbihuKTtpZih2b2lkIDA9PT1yfHxcIlhZWlwiPT09cil7dmFyIGQ9cypsLHA9cypoLGc9YSpsLGY9YSpoO2VbMF09YypsLGVbNF09LWMqaCxlWzhdPXUsZVsxXT1wK2cqdSxlWzVdPWQtZip1LGVbOV09LWEqYyxlWzJdPWYtZCp1LGVbNl09ZytwKnUsZVsxMF09cypjfWVsc2UgaWYoXCJZWFpcIj09PXIpe3ZhciB2PWMqbCxfPWMqaCx5PXUqbCxtPXUqaDtlWzBdPXYrbSphLGVbNF09eSphLV8sZVs4XT1zKnUsZVsxXT1zKmgsZVs1XT1zKmwsZVs5XT0tYSxlWzJdPV8qYS15LGVbNl09bSt2KmEsZVsxMF09cypjfWVsc2UgaWYoXCJaWFlcIj09PXIpdj1jKmwsXz1jKmgseT11KmwsbT11KmgsZVswXT12LW0qYSxlWzRdPS1zKmgsZVs4XT15K18qYSxlWzFdPV8reSphLGVbNV09cypsLGVbOV09bS12KmEsZVsyXT0tcyp1LGVbNl09YSxlWzEwXT1zKmM7ZWxzZSBpZihcIlpZWFwiPT09cilkPXMqbCxwPXMqaCxnPWEqbCxmPWEqaCxlWzBdPWMqbCxlWzRdPWcqdS1wLGVbOF09ZCp1K2YsZVsxXT1jKmgsZVs1XT1mKnUrZCxlWzldPXAqdS1nLGVbMl09LXUsZVs2XT1hKmMsZVsxMF09cypjO2Vsc2UgaWYoXCJZWlhcIj09PXIpe3ZhciBFPXMqYyx4PXMqdSxSPWEqYyxBPWEqdTtlWzBdPWMqbCxlWzRdPUEtRSpoLGVbOF09UipoK3gsZVsxXT1oLGVbNV09cypsLGVbOV09LWEqbCxlWzJdPS11KmwsZVs2XT14KmgrUixlWzEwXT1FLUEqaH1lbHNlXCJYWllcIj09PXImJihFPXMqYyx4PXMqdSxSPWEqYyxBPWEqdSxlWzBdPWMqbCxlWzRdPS1oLGVbOF09dSpsLGVbMV09RSpoK0EsZVs1XT1zKmwsZVs5XT14KmgtUixlWzJdPVIqaC14LGVbNl09YSpsLGVbMTBdPUEqaCtFKTtyZXR1cm4gZX0saS50b1N0cmluZz1mdW5jdGlvbihlKXtyZXR1cm5cIltcIitlWzBdK1wiLCBcIitlWzFdK1wiLCBcIitlWzJdK1wiLCBcIitlWzNdK1wiLCBcIitlWzRdK1wiLCBcIitlWzVdK1wiLCBcIitlWzZdK1wiLCBcIitlWzddK1wiLCBcIitlWzhdK1wiLCBcIitlWzldK1wiLCBcIitlWzEwXStcIiwgXCIrZVsxMV0rXCIsIFwiK2VbMTJdK1wiLCBcIitlWzEzXStcIiwgXCIrZVsxNF0rXCIsIFwiK2VbMTVdK1wiXVwifSxpLmFkZD1mdW5jdGlvbihlLHQscil7cmV0dXJuIGVbMF09dFswXStyWzBdLGVbMV09dFsxXStyWzFdLGVbMl09dFsyXStyWzJdLGVbM109dFszXStyWzNdLGVbNF09dFs0XStyWzRdLGVbNV09dFs1XStyWzVdLGVbNl09dFs2XStyWzZdLGVbN109dFs3XStyWzddLGVbOF09dFs4XStyWzhdLGVbOV09dFs5XStyWzldLGVbMTBdPXRbMTBdK3JbMTBdLGVbMTFdPXRbMTFdK3JbMTFdLGVbMTJdPXRbMTJdK3JbMTJdLGVbMTNdPXRbMTNdK3JbMTNdLGVbMTRdPXRbMTRdK3JbMTRdLGVbMTVdPXRbMTVdK3JbMTVdLGV9LGkuc3VidHJhY3Q9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlWzBdPXRbMF0tclswXSxlWzFdPXRbMV0tclsxXSxlWzJdPXRbMl0tclsyXSxlWzNdPXRbM10tclszXSxlWzRdPXRbNF0tcls0XSxlWzVdPXRbNV0tcls1XSxlWzZdPXRbNl0tcls2XSxlWzddPXRbN10tcls3XSxlWzhdPXRbOF0tcls4XSxlWzldPXRbOV0tcls5XSxlWzEwXT10WzEwXS1yWzEwXSxlWzExXT10WzExXS1yWzExXSxlWzEyXT10WzEyXS1yWzEyXSxlWzEzXT10WzEzXS1yWzEzXSxlWzE0XT10WzE0XS1yWzE0XSxlWzE1XT10WzE1XS1yWzE1XSxlfSxpLnN1Yj1pLnN1YnRyYWN0LGkubXVsdGlwbHlTY2FsYXI9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlWzBdPXRbMF0qcixlWzFdPXRbMV0qcixlWzJdPXRbMl0qcixlWzNdPXRbM10qcixlWzRdPXRbNF0qcixlWzVdPXRbNV0qcixlWzZdPXRbNl0qcixlWzddPXRbN10qcixlWzhdPXRbOF0qcixlWzldPXRbOV0qcixlWzEwXT10WzEwXSpyLGVbMTFdPXRbMTFdKnIsZVsxMl09dFsxMl0qcixlWzEzXT10WzEzXSpyLGVbMTRdPXRbMTRdKnIsZVsxNV09dFsxNV0qcixlfSxpLm11bHRpcGx5U2NhbGFyQW5kQWRkPWZ1bmN0aW9uKGUsdCxyLG8pe3JldHVybiBlWzBdPXRbMF0rclswXSpvLGVbMV09dFsxXStyWzFdKm8sZVsyXT10WzJdK3JbMl0qbyxlWzNdPXRbM10rclszXSpvLGVbNF09dFs0XStyWzRdKm8sZVs1XT10WzVdK3JbNV0qbyxlWzZdPXRbNl0rcls2XSpvLGVbN109dFs3XStyWzddKm8sZVs4XT10WzhdK3JbOF0qbyxlWzldPXRbOV0rcls5XSpvLGVbMTBdPXRbMTBdK3JbMTBdKm8sZVsxMV09dFsxMV0rclsxMV0qbyxlWzEyXT10WzEyXStyWzEyXSpvLGVbMTNdPXRbMTNdK3JbMTNdKm8sZVsxNF09dFsxNF0rclsxNF0qbyxlWzE1XT10WzE1XStyWzE1XSpvLGV9LGkuZXhhY3RFcXVhbHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT09PXRbMF0mJmVbMV09PT10WzFdJiZlWzJdPT09dFsyXSYmZVszXT09PXRbM10mJmVbNF09PT10WzRdJiZlWzVdPT09dFs1XSYmZVs2XT09PXRbNl0mJmVbN109PT10WzddJiZlWzhdPT09dFs4XSYmZVs5XT09PXRbOV0mJmVbMTBdPT09dFsxMF0mJmVbMTFdPT09dFsxMV0mJmVbMTJdPT09dFsxMl0mJmVbMTNdPT09dFsxM10mJmVbMTRdPT09dFsxNF0mJmVbMTVdPT09dFsxNV19LGkuZXF1YWxzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gcj1yfHxvLmIsTWF0aC5hYnMoZVswXS10WzBdKTw9ciYmTWF0aC5hYnMoZVsxXS10WzFdKTw9ciYmTWF0aC5hYnMoZVsyXS10WzJdKTw9ciYmTWF0aC5hYnMoZVszXS10WzNdKTw9ciYmTWF0aC5hYnMoZVs0XS10WzRdKTw9ciYmTWF0aC5hYnMoZVs1XS10WzVdKTw9ciYmTWF0aC5hYnMoZVs2XS10WzZdKTw9ciYmTWF0aC5hYnMoZVs3XS10WzddKTw9ciYmTWF0aC5hYnMoZVs4XS10WzhdKTw9ciYmTWF0aC5hYnMoZVs5XS10WzldKTw9ciYmTWF0aC5hYnMoZVsxMF0tdFsxMF0pPD1yJiZNYXRoLmFicyhlWzExXS10WzExXSk8PXImJk1hdGguYWJzKGVbMTJdLXRbMTJdKTw9ciYmTWF0aC5hYnMoZVsxM10tdFsxM10pPD1yJiZNYXRoLmFicyhlWzE0XS10WzE0XSk8PXImJk1hdGguYWJzKGVbMTVdLXRbMTVdKTw9cn0sdC5hPWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1yKDYpLGk9cigxKSxuPXIoMikscz1yKDcpLGE9cigzKSxjPXIoNCksdT1yKDgpLGw9cig5KSxoPXIoMCk7ci5kKHQsXCJWZWN0b3IyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG8uYX0pKSxyLmQodCxcIlZlY3RvcjNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaS5hfSkpLHIuZCh0LFwiVmVjdG9yNFwiLChmdW5jdGlvbigpe3JldHVybiBuLmF9KSksci5kKHQsXCJNYXRyaXgyMlwiLChmdW5jdGlvbigpe3JldHVybiBzLmF9KSksci5kKHQsXCJNYXRyaXgzM1wiLChmdW5jdGlvbigpe3JldHVybiBhLmF9KSksci5kKHQsXCJNYXRyaXg0NFwiLChmdW5jdGlvbigpe3JldHVybiBjLmF9KSksci5kKHQsXCJRdWF0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHUuYX0pKSxyLmQodCxcIlByb2plY3Rpb25VdGlsc1wiLChmdW5jdGlvbigpe3JldHVybiBsLmF9KSksci5kKHQsXCJGTE9BVDY0X1RPTEVSQU5DRVwiLChmdW5jdGlvbigpe3JldHVybiBoLmJ9KSksci5kKHQsXCJGTE9BVDMyX1RPTEVSQU5DRVwiLChmdW5jdGlvbigpe3JldHVybiBoLmF9KSksdC5kZWZhdWx0PXtWZWN0b3IyOm8uYSxWZWN0b3IzOmkuYSxWZWN0b3I0Om4uYSxNYXRyaXgyMjpzLmEsTWF0cml4MzM6YS5hLE1hdHJpeDQ0OmMuYSxRdWF0OnUuYSxQcm9qZWN0aW9uVXRpbHM6bC5hLEZMT0FUNjRfVE9MRVJBTkNFOmguYixGTE9BVDMyX1RPTEVSQU5DRTpoLmF9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89cigwKSxpPXtjcmVhdGVGbG9hdDMyOmZ1bmN0aW9uKCl7dmFyIGU9bmV3IEZsb2F0MzJBcnJheSgyKTtyZXR1cm4gZVswXT0wLGVbMV09MCxlfSxjcmVhdGVGbG9hdDY0OmZ1bmN0aW9uKCl7dmFyIGU9bmV3IEZsb2F0NjRBcnJheSgyKTtyZXR1cm4gZVswXT0wLGVbMV09MCxlfSxjcmVhdGVOdW1iZXI6ZnVuY3Rpb24oKXtyZXR1cm5bMCwwXX0sY2xvbmU6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGUuY29uc3RydWN0b3IoMik7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdH0sY3JlYXRlRmxvYXQzMkZyb21WYWx1ZXM6ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgRmxvYXQzMkFycmF5KDIpO3JldHVybiByWzBdPWUsclsxXT10LHJ9fTtpLmFzRmxvYXQzMj1pLmNyZWF0ZUZsb2F0MzJGcm9tVmFsdWVzLGkuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgRmxvYXQ2NEFycmF5KDIpO3JldHVybiByWzBdPWUsclsxXT10LHJ9LGkuYXNGbG9hdDY0PWkuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXMsaS5jcmVhdGVOdW1iZXJGcm9tVmFsdWVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuW2UsdF19LGkuY29weT1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGV9LGkuc2V0PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVswXT10LGVbMV09cixlfSxpLmFkZD1mdW5jdGlvbihlLHQscil7cmV0dXJuIGVbMF09dFswXStyWzBdLGVbMV09dFsxXStyWzFdLGV9LGkuc3VidHJhY3Q9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlWzBdPXRbMF0tclswXSxlWzFdPXRbMV0tclsxXSxlfSxpLnN1Yj1pLnN1YnRyYWN0LGkubXVsdGlwbHk9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlWzBdPXRbMF0qclswXSxlWzFdPXRbMV0qclsxXSxlfSxpLm11bD1pLm11bHRpcGx5LGkuZGl2aWRlPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVswXT10WzBdL3JbMF0sZVsxXT10WzFdL3JbMV0sZX0saS5kaXY9aS5kaXZpZGUsaS5jZWlsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09TWF0aC5jZWlsKHRbMF0pLGVbMV09TWF0aC5jZWlsKHRbMV0pLGV9LGkuZmxvb3I9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT1NYXRoLmZsb29yKHRbMF0pLGVbMV09TWF0aC5mbG9vcih0WzFdKSxlfSxpLm1pbj1mdW5jdGlvbihlLHQscil7cmV0dXJuIGVbMF09TWF0aC5taW4odFswXSxyWzBdKSxlWzFdPU1hdGgubWluKHRbMV0sclsxXSksZX0saS5tYXg9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlWzBdPU1hdGgubWF4KHRbMF0sclswXSksZVsxXT1NYXRoLm1heCh0WzFdLHJbMV0pLGV9LGkucm91bmQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT1NYXRoLnJvdW5kKHRbMF0pLGVbMV09TWF0aC5yb3VuZCh0WzFdKSxlfSxpLnNjYWxlPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVswXT10WzBdKnIsZVsxXT10WzFdKnIsZX0saS5zY2FsZUFuZEFkZD1mdW5jdGlvbihlLHQscixvKXtyZXR1cm4gZVswXT10WzBdK3JbMF0qbyxlWzFdPXRbMV0rclsxXSpvLGV9LGkuZGlzdGFuY2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj10WzBdLWVbMF0sbz10WzFdLWVbMV07cmV0dXJuIE1hdGguc3FydChyKnIrbypvKX0saS5kaXN0PWkuZGlzdGFuY2UsaS5zcXVhcmVkRGlzdGFuY2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj10WzBdLWVbMF0sbz10WzFdLWVbMV07cmV0dXJuIHIqcitvKm99LGkuc3FyRGlzdD1pLnNxdWFyZWREaXN0YW5jZSxpLmxlbmd0aD1mdW5jdGlvbihlKXt2YXIgdD1lWzBdLHI9ZVsxXTtyZXR1cm4gTWF0aC5zcXJ0KHQqdCtyKnIpfSxpLmxlbj1pLmxlbmd0aCxpLnNxdWFyZWRMZW5ndGg9ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXSxyPWVbMV07cmV0dXJuIHQqdCtyKnJ9LGkuc3FyTGVuPWkuc3F1YXJlZExlbmd0aCxpLm5lZ2F0ZT1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPS10WzBdLGVbMV09LXRbMV0sZX0saS5pbnZlcnNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09MS90WzBdLGVbMV09MS90WzFdLGV9LGkubm9ybWFsaXplPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dFswXSxvPXRbMV0saT1yKnIrbypvO3JldHVybiBpPjAmJihpPTEvTWF0aC5zcXJ0KGkpLGVbMF09dFswXSppLGVbMV09dFsxXSppKSxlfSxpLmRvdD1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdKnRbMF0rZVsxXSp0WzFdfSxpLmNyb3NzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz10WzBdKnJbMV0tdFsxXSpyWzBdO3JldHVybiBlWzBdPWVbMV09MCxlWzJdPW8sZX0saS5sZXJwPWZ1bmN0aW9uKGUsdCxyLG8pe3ZhciBpPXRbMF0sbj10WzFdO3JldHVybiBlWzBdPWkrbyooclswXS1pKSxlWzFdPW4rbyooclsxXS1uKSxlfSxpLnJhbmRvbT1mdW5jdGlvbihlLHQpe3Q9dHx8MTt2YXIgcj0yKk1hdGgucmFuZG9tKCkqTWF0aC5QSTtyZXR1cm4gZVswXT1NYXRoLmNvcyhyKSp0LGVbMV09TWF0aC5zaW4ocikqdCxlfSxpLnRyYW5zZm9ybU1hdHJpeDIyPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz10WzBdLGk9dFsxXTtyZXR1cm4gZVswXT1yWzBdKm8rclsyXSppLGVbMV09clsxXSpvK3JbM10qaSxlfSxpLnRyYW5zZm9ybU1hdHJpeDMzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz10WzBdLGk9dFsxXTtyZXR1cm4gZVswXT1yWzBdKm8rclszXSppK3JbNl0sZVsxXT1yWzFdKm8rcls0XSppK3JbN10sZX0saS50cmFuc2Zvcm1NYXRyaXg0ND1mdW5jdGlvbihlLHQscil7dmFyIG89dFswXSxpPXRbMV07cmV0dXJuIGVbMF09clswXSpvK3JbNF0qaStyWzEyXSxlWzFdPXJbMV0qbytyWzVdKmkrclsxM10sZX0saS5hbmdsZT1mdW5jdGlvbihlLHQpe3ZhciByPWkuY2xvbmUoZSksbz1pLmNsb25lKHQpO2kubm9ybWFsaXplKHIsciksaS5ub3JtYWxpemUobyxvKTt2YXIgbj1pLmRvdChyLG8pLHM9TWF0aC5hYnMoclswXSpvWzFdLXJbMV0qb1swXSk7cmV0dXJuIE1hdGguYXRhbjIocyxuKX0saS5pc1BhcmFsbGVsPWZ1bmN0aW9uKGUsdCxyLG4pe249bnx8by5iLHI9cnx8MDt2YXIgcz1lWzBdKnRbMV0tZVsxXSp0WzBdO3JldHVybiEocypzPm4qbippLnNxdWFyZWRMZW5ndGgoZSkqaS5zcXVhcmVkTGVuZ3RoKHQpKSYmKHI+MD9pLmRvdChlLHQpPjA6IShyPDApfHxpLmRvdChlLHQpPDApfSxpLmlzT3J0aG9nb25hbD1mdW5jdGlvbihlLHQscil7cj1yfHxvLmI7dmFyIG49aS5kb3QoZSx0KTtyZXR1cm4gbipuPD1yKnIqaS5zcXVhcmVkTGVuZ3RoKGUpKmkuc3F1YXJlZExlbmd0aCh0KX0saS50b1N0cmluZz1mdW5jdGlvbihlKXtyZXR1cm5cIltcIitlWzBdK1wiLCBcIitlWzFdK1wiXVwifSxpLmV4YWN0RXF1YWxzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09PT10WzBdJiZlWzFdPT09dFsxXX0saS5lcXVhbHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiByPXJ8fG8uYixNYXRoLmFicyhlWzBdLXRbMF0pPD1yJiZNYXRoLmFicyhlWzFdLXRbMV0pPD1yfSx0LmE9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBvPXIoMCksaT17Y3JlYXRlRmxvYXQzMjpmdW5jdGlvbigpe3ZhciBlPW5ldyBGbG9hdDMyQXJyYXkoNCk7cmV0dXJuIGVbMF09MSxlWzFdPTAsZVsyXT0wLGVbM109MSxlfSxjcmVhdGVGbG9hdDY0OmZ1bmN0aW9uKCl7dmFyIGU9bmV3IEZsb2F0NjRBcnJheSg0KTtyZXR1cm4gZVswXT0xLGVbMV09MCxlWzJdPTAsZVszXT0xLGV9LGNyZWF0ZU51bWJlcjpmdW5jdGlvbigpe3JldHVyblsxLDAsMCwxXX0sY2xvbmU6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGUuY29uc3RydWN0b3IoOSk7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdFsyXT1lWzJdLHRbM109ZVszXSx0fSxjb3B5OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09dFswXSxlWzFdPXRbMV0sZVsyXT10WzJdLGVbM109dFszXSxlfSxjcmVhdGVGbG9hdDMyRnJvbVZhbHVlczpmdW5jdGlvbihlLHQscixvKXt2YXIgaT1uZXcgRmxvYXQzMkFycmF5KDQpO3JldHVybiBpWzBdPWUsaVsxXT10LGlbMl09cixpWzNdPW8saX19O2kuYXNGbG9hdDMyPWkuY3JlYXRlRmxvYXQzMkZyb21WYWx1ZXMsaS5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcz1mdW5jdGlvbihlLHQscixvKXt2YXIgaT1uZXcgRmxvYXQ2NEFycmF5KDQpO3JldHVybiBpWzBdPWUsaVsxXT10LGlbMl09cixpWzNdPW8saX0saS5hc0Zsb2F0NjQ9aS5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcyxpLmNyZWF0ZU51bWJlckZyb21WYWx1ZXM9ZnVuY3Rpb24oZSx0LHIsbyl7cmV0dXJuW2UsdCxyLG9dfSxpLnNldD1mdW5jdGlvbihlLHQscixvLGkpe3JldHVybiBlWzBdPXQsZVsxXT1yLGVbMl09byxlWzNdPWksZX0saS5pZGVudGl0eT1mdW5jdGlvbihlKXtyZXR1cm4gZVswXT0xLGVbMV09MCxlWzJdPTAsZVszXT0xLGV9LGkudHJhbnNwb3NlPWZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpe3ZhciByPXRbMV07ZVsxXT10WzJdLGVbMl09cn1lbHNlIGVbMF09dFswXSxlWzFdPXRbMl0sZVsyXT10WzFdLGVbM109dFszXTtyZXR1cm4gZX0saS5pbnZlcnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10WzBdLG89dFsxXSxpPXRbMl0sbj10WzNdLHM9cipuLWkqbztyZXR1cm4gcz8ocz0xL3MsZVswXT1uKnMsZVsxXT0tbypzLGVbMl09LWkqcyxlWzNdPXIqcyxlKTpudWxsfSxpLmRldGVybWluYW50PWZ1bmN0aW9uKGUpe3JldHVybiBlWzBdKmVbM10tZVsyXSplWzFdfSxpLm11bHRpcGx5PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz10WzBdLGk9dFsxXSxuPXRbMl0scz10WzNdLGE9clswXSxjPXJbMV0sdT1yWzJdLGw9clszXTtyZXR1cm4gZVswXT1vKmErbipjLGVbMV09aSphK3MqYyxlWzJdPW8qdStuKmwsZVszXT1pKnUrcypsLGV9LGkubXVsPWkubXVsdGlwbHksaS5zY2FsZT1mdW5jdGlvbihlLHQscil7dmFyIG89dFswXSxpPXRbMV0sbj10WzJdLHM9dFszXSxhPXJbMF0sYz1yWzFdO3JldHVybiBlWzBdPW8qYSxlWzFdPWkqYSxlWzJdPW4qYyxlWzNdPXMqYyxlfSxpLnRvU3RyaW5nPWZ1bmN0aW9uKGUpe3JldHVyblwiW1wiK2VbMF0rXCIsIFwiK2VbMV0rXCIsIFwiK2VbMl0rXCIsIFwiK2VbM10rXCJdXCJ9LGkuYWRkPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVswXT10WzBdK3JbMF0sZVsxXT10WzFdK3JbMV0sZVsyXT10WzJdK3JbMl0sZVszXT10WzNdK3JbM10sZX0saS5zdWJ0cmFjdD1mdW5jdGlvbihlLHQscil7cmV0dXJuIGVbMF09dFswXS1yWzBdLGVbMV09dFsxXS1yWzFdLGVbMl09dFsyXS1yWzJdLGVbM109dFszXS1yWzNdLGV9LGkuc3ViPWkuc3VidHJhY3QsaS5tdWx0aXBseVNjYWxhcj1mdW5jdGlvbihlLHQscil7cmV0dXJuIGVbMF09dFswXSpyLGVbMV09dFsxXSpyLGVbMl09dFsyXSpyLGVbM109dFszXSpyLGV9LGkubXVsdGlwbHlTY2FsYXJBbmRBZGQ9ZnVuY3Rpb24oZSx0LHIsbyl7cmV0dXJuIGVbMF09dFswXStyWzBdKm8sZVsxXT10WzFdK3JbMV0qbyxlWzJdPXRbMl0rclsyXSpvLGVbM109dFszXStyWzNdKm8sZX0saS5leGFjdEVxdWFscz1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPT09dFswXSYmZVsxXT09PXRbMV0mJmVbMl09PT10WzJdJiZlWzNdPT09dFszXX0saS5lcXVhbHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiByPXJ8fG8uYixNYXRoLmFicyhlWzBdLXRbMF0pPD1yJiZNYXRoLmFicyhlWzFdLXRbMV0pPD1yJiZNYXRoLmFicyhlWzJdLXRbMl0pPD1yJiZNYXRoLmFicyhlWzNdLXRbM10pPD1yfSx0LmE9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBvLGksbixzLGEsYyx1PXIoMCksbD1yKDEpLGg9cigyKSxkPXIoMykscD17Y3JlYXRlRmxvYXQzMjpmdW5jdGlvbigpe3ZhciBlPW5ldyBGbG9hdDMyQXJyYXkoNCk7cmV0dXJuIGVbMF09MCxlWzFdPTAsZVsyXT0wLGVbM109MSxlfSxjcmVhdGVGbG9hdDY0OmZ1bmN0aW9uKCl7dmFyIGU9bmV3IEZsb2F0NjRBcnJheSg0KTtyZXR1cm4gZVswXT0wLGVbMV09MCxlWzJdPTAsZVszXT0xLGV9LGNyZWF0ZU51bWJlcjpmdW5jdGlvbigpe3JldHVyblswLDAsMCwxXX19O3Aucm90YXRpb25Ubz0obz1sLmEuY3JlYXRlRmxvYXQ2NCgpLGk9bC5hLmNyZWF0ZUZsb2F0NjRGcm9tVmFsdWVzKDEsMCwwKSxuPWwuYS5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcygwLDEsMCksZnVuY3Rpb24oZSx0LHIpe3ZhciBzPWwuYS5kb3QodCxyKTtyZXR1cm4gczwtMSt1LmI/KGwuYS5jcm9zcyhvLGksdCksbC5hLmxlbmd0aChvKTx1LmImJmwuYS5jcm9zcyhvLG4sdCksbC5hLm5vcm1hbGl6ZShvLG8pLHAuc2V0QXhpc0FuZ2xlKGUsbyxNYXRoLlBJKSxlKTpzPjEtdS5iPyhlWzBdPTAsZVsxXT0wLGVbMl09MCxlWzNdPTEsZSk6KGwuYS5jcm9zcyhvLHQsciksZVswXT1vWzBdLGVbMV09b1sxXSxlWzJdPW9bMl0sZVszXT0xK3MscC5ub3JtYWxpemUoZSxlKSl9KSxwLnNldEF4ZXM9KHM9ZC5hLmNyZWF0ZUZsb2F0NjQoKSxmdW5jdGlvbihlLHQscixvKXtyZXR1cm4gc1swXT1yWzBdLHNbM109clsxXSxzWzZdPXJbMl0sc1sxXT1vWzBdLHNbNF09b1sxXSxzWzddPW9bMl0sc1syXT0tdFswXSxzWzVdPS10WzFdLHNbOF09LXRbMl0scC5ub3JtYWxpemUoZSxwLmZyb21NYXRyaXgzMyhlLHMpKX0pLHAuY2xvbmU9aC5hLmNsb25lLHAuY3JlYXRlRmxvYXQzMkZyb21WYWx1ZXM9aC5hLmNyZWF0ZUZsb2F0MzJGcm9tVmFsdWVzLHAuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXM9aC5hLmNyZWF0ZUZsb2F0NjRGcm9tVmFsdWVzLHAuY3JlYXRlTnVtYmVyRnJvbVZhbHVlcz1oLmEuY3JlYXRlTnVtYmVyRnJvbVZhbHVlcyxwLmFzRmxvYXQzMj1oLmEuY3JlYXRlRmxvYXQzMkZyb21WYWx1ZXMscC5hc0Zsb2F0NjQ9aC5hLmNyZWF0ZUZsb2F0NjRGcm9tVmFsdWVzLHAuY29weT1oLmEuY29weSxwLnNldD1oLmEuc2V0LHAuaWRlbnRpdHk9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF09MCxlWzFdPTAsZVsyXT0wLGVbM109MSxlfSxwLnNldEF4aXNBbmdsZT1mdW5jdGlvbihlLHQscil7cio9LjU7dmFyIG89TWF0aC5zaW4ocik7cmV0dXJuIGVbMF09byp0WzBdLGVbMV09byp0WzFdLGVbMl09byp0WzJdLGVbM109TWF0aC5jb3MociksZX0scC5nZXRBeGlzQW5nbGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj0yKk1hdGguYWNvcyh0WzNdKSxvPU1hdGguc2luKHIvMik7cmV0dXJuIDAhPT1vPyhlWzBdPXRbMF0vbyxlWzFdPXRbMV0vbyxlWzJdPXRbMl0vbyk6KGVbMF09MSxlWzFdPTAsZVsyXT0wKSxyfSxwLmFkZD1oLmEuYWRkLHAubXVsdGlwbHk9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXRbMF0saT10WzFdLG49dFsyXSxzPXRbM10sYT1yWzBdLGM9clsxXSx1PXJbMl0sbD1yWzNdO3JldHVybiBlWzBdPW8qbCtzKmEraSp1LW4qYyxlWzFdPWkqbCtzKmMrbiphLW8qdSxlWzJdPW4qbCtzKnUrbypjLWkqYSxlWzNdPXMqbC1vKmEtaSpjLW4qdSxlfSxwLm11bD1wLm11bHRpcGx5LHAuc2NhbGU9aC5hLnNjYWxlLHAucm90YXRlWD1mdW5jdGlvbihlLHQscil7cio9LjU7dmFyIG89dFswXSxpPXRbMV0sbj10WzJdLHM9dFszXSxhPU1hdGguc2luKHIpLGM9TWF0aC5jb3Mocik7cmV0dXJuIGVbMF09bypjK3MqYSxlWzFdPWkqYytuKmEsZVsyXT1uKmMtaSphLGVbM109cypjLW8qYSxlfSxwLnJvdGF0ZVk9ZnVuY3Rpb24oZSx0LHIpe3IqPS41O3ZhciBvPXRbMF0saT10WzFdLG49dFsyXSxzPXRbM10sYT1NYXRoLnNpbihyKSxjPU1hdGguY29zKHIpO3JldHVybiBlWzBdPW8qYy1uKmEsZVsxXT1pKmMrcyphLGVbMl09bipjK28qYSxlWzNdPXMqYy1pKmEsZX0scC5yb3RhdGVaPWZ1bmN0aW9uKGUsdCxyKXtyKj0uNTt2YXIgbz10WzBdLGk9dFsxXSxuPXRbMl0scz10WzNdLGE9TWF0aC5zaW4ociksYz1NYXRoLmNvcyhyKTtyZXR1cm4gZVswXT1vKmMraSphLGVbMV09aSpjLW8qYSxlWzJdPW4qYytzKmEsZVszXT1zKmMtbiphLGV9LHAuY2FsY3VsYXRlVz1mdW5jdGlvbihlLHQpe3ZhciByPXRbMF0sbz10WzFdLGk9dFsyXTtyZXR1cm4gZVswXT1yLGVbMV09byxlWzJdPWksZVszXT1NYXRoLnNxcnQoTWF0aC5hYnMoMS1yKnItbypvLWkqaSkpLGV9LHAuZG90PWguYS5kb3QscC5sZXJwPWguYS5sZXJwLHAuc2xlcnA9ZnVuY3Rpb24oZSx0LHIsbyl7dmFyIGksbixzLGEsYyxsPXRbMF0saD10WzFdLGQ9dFsyXSxwPXRbM10sZz1yWzBdLGY9clsxXSx2PXJbMl0sXz1yWzNdO3JldHVybihuPWwqZytoKmYrZCp2K3AqXyk8MCYmKG49LW4sZz0tZyxmPS1mLHY9LXYsXz0tXyksMS1uPnUuYj8oaT1NYXRoLmFjb3Mobikscz1NYXRoLnNpbihpKSxhPU1hdGguc2luKCgxLW8pKmkpL3MsYz1NYXRoLnNpbihvKmkpL3MpOihhPTEtbyxjPW8pLGVbMF09YSpsK2MqZyxlWzFdPWEqaCtjKmYsZVsyXT1hKmQrYyp2LGVbM109YSpwK2MqXyxlfSxwLnNxbGVycD0oYT1wLmNyZWF0ZUZsb2F0NjQoKSxjPXAuY3JlYXRlRmxvYXQ2NCgpLGZ1bmN0aW9uKGUsdCxyLG8saSxuKXtyZXR1cm4gcC5zbGVycChhLHQsaSxuKSxwLnNsZXJwKGMscixvLG4pLHAuc2xlcnAoZSxhLGMsMipuKigxLW4pKSxlfSkscC5pbnZlcnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10WzBdLG89dFsxXSxpPXRbMl0sbj10WzNdLHM9cipyK28qbytpKmkrbipuLGE9cz8xL3M6MDtyZXR1cm4gZVswXT0tciphLGVbMV09LW8qYSxlWzJdPS1pKmEsZVszXT1uKmEsZX0scC5jb25qdWdhdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT0tdFswXSxlWzFdPS10WzFdLGVbMl09LXRbMl0sZVszXT10WzNdLGV9LHAubGVuZ3RoPWguYS5sZW5ndGgscC5sZW49cC5sZW5ndGgscC5zcXVhcmVkTGVuZ3RoPWguYS5zcXVhcmVkTGVuZ3RoLHAuc3FyTGVuPXAuc3F1YXJlZExlbmd0aCxwLm5vcm1hbGl6ZT1oLmEubm9ybWFsaXplLHAuZnJvbU1hdHJpeDMzPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbz10WzBdK3RbNF0rdFs4XTtpZihvPjApcj1NYXRoLnNxcnQobysxKSxlWzNdPS41KnIscj0uNS9yLGVbMF09KHRbNV0tdFs3XSkqcixlWzFdPSh0WzZdLXRbMl0pKnIsZVsyXT0odFsxXS10WzNdKSpyO2Vsc2V7dmFyIGk9MDt0WzRdPnRbMF0mJihpPTEpLHRbOF0+dFszKmkraV0mJihpPTIpO3ZhciBuPShpKzEpJTMscz0oaSsyKSUzO3I9TWF0aC5zcXJ0KHRbMyppK2ldLXRbMypuK25dLXRbMypzK3NdKzEpLGVbaV09LjUqcixyPS41L3IsZVszXT0odFszKm4rc10tdFszKnMrbl0pKnIsZVtuXT0odFszKm4raV0rdFszKmkrbl0pKnIsZVtzXT0odFszKnMraV0rdFszKmkrc10pKnJ9cmV0dXJuIGV9LHAudG9TdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuXCJbXCIrZVswXStcIiwgXCIrZVsxXStcIiwgXCIrZVsyXStcIiwgXCIrZVszXStcIl1cIn0scC5leGFjdEVxdWFscz1oLmEuZXhhY3RFcXVhbHMscC5lcXVhbHM9aC5hLmVxdWFscyx0LmE9cH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBvPXIoMCksaT1yKDQpLG49e2ZydXN0dW06ZnVuY3Rpb24oZSx0LHIsbyxpLG4scyl7dmFyIGE9MS8oci10KSxjPTEvKGktbyksdT0xLyhuLXMpO3JldHVybiBlWzBdPTIqbiphLGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MCxlWzVdPTIqbipjLGVbNl09MCxlWzddPTAsZVs4XT0ocit0KSphLGVbOV09KGkrbykqYyxlWzEwXT0ocytuKSp1LGVbMTFdPS0xLGVbMTJdPTAsZVsxM109MCxlWzE0XT1zKm4qMip1LGVbMTVdPTAsZX0scGVyc3BlY3RpdmU6ZnVuY3Rpb24oZSx0LHIsbyxpKXt2YXIgbj0xL01hdGgudGFuKHQvMikscz0xLyhvLWkpO3JldHVybiBlWzBdPW4vcixlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTAsZVs1XT1uLGVbNl09MCxlWzddPTAsZVs4XT0wLGVbOV09MCxlWzEwXT0oaStvKSpzLGVbMTFdPS0xLGVbMTJdPTAsZVsxM109MCxlWzE0XT0yKmkqbypzLGVbMTVdPTAsZX0sb3J0aG86ZnVuY3Rpb24oZSx0LHIsbyxpLG4scyl7dmFyIGE9MS8odC1yKSxjPTEvKG8taSksdT0xLyhuLXMpO3JldHVybiBlWzBdPS0yKmEsZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT0wLGVbNV09LTIqYyxlWzZdPTAsZVs3XT0wLGVbOF09MCxlWzldPTAsZVsxMF09Mip1LGVbMTFdPTAsZVsxMl09KHQrcikqYSxlWzEzXT0oaStvKSpjLGVbMTRdPShzK24pKnUsZVsxNV09MSxlfSxsb29rQXQ6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIHMsYSxjLHUsbCxoLGQscCxnLGYsdj10WzBdLF89dFsxXSx5PXRbMl0sbT1uWzBdLEU9blsxXSx4PW5bMl0sUj1yWzBdLEE9clsxXSxQPXJbMl07cmV0dXJuIE1hdGguYWJzKHYtUik8by5iJiZNYXRoLmFicyhfLUEpPG8uYiYmTWF0aC5hYnMoeS1QKTxvLmI/aS5hLmlkZW50aXR5KGUpOihkPXYtUixwPV8tQSxnPXktUCxzPUUqKGcqPWY9MS9NYXRoLnNxcnQoZCpkK3AqcCtnKmcpKS14KihwKj1mKSxhPXgqKGQqPWYpLW0qZyxjPW0qcC1FKmQsKGY9TWF0aC5zcXJ0KHMqcythKmErYypjKSk/KHMqPWY9MS9mLGEqPWYsYyo9Zik6KHM9MCxhPTAsYz0wKSx1PXAqYy1nKmEsbD1nKnMtZCpjLGg9ZCphLXAqcywoZj1NYXRoLnNxcnQodSp1K2wqbCtoKmgpKT8odSo9Zj0xL2YsbCo9ZixoKj1mKToodT0wLGw9MCxoPTApLGVbMF09cyxlWzFdPXUsZVsyXT1kLGVbM109MCxlWzRdPWEsZVs1XT1sLGVbNl09cCxlWzddPTAsZVs4XT1jLGVbOV09aCxlWzEwXT1nLGVbMTFdPTAsZVsxMl09LShzKnYrYSpfK2MqeSksZVsxM109LSh1KnYrbCpfK2gqeSksZVsxNF09LShkKnYrcCpfK2cqeSksZVsxNV09MSxlKX0sdHJhbnNmb3JtUHJvamVjdGlvbk1hdHJpeDpmdW5jdGlvbihlLHQscil7dmFyIG89dFswXSxpPXRbMV0sbj10WzJdLHM9clszXSpvK3JbN10qaStyWzExXSpuK3JbMTVdO3JldHVybiBzPXN8fDEsZVswXT0oclswXSpvK3JbNF0qaStyWzhdKm4rclsxMl0pL3MsZVsxXT0oclsxXSpvK3JbNV0qaStyWzldKm4rclsxM10pL3MsZVsyXT0oclsyXSpvK3JbNl0qaStyWzEwXSpuK3JbMTRdKS9zLGV9fTt0LmE9bn1dKX0sZS5leHBvcnRzPXQoKX0sNTMyMDplPT57XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSksbz0wLGk9MixuPSEwO2Zvcig7aTxhcmd1bWVudHMubGVuZ3RoOylyW28rK109YXJndW1lbnRzW2krK107cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLHMpe3Jbb109ZnVuY3Rpb24oZSl7aWYobilpZihuPSExLGUpcyhlKTtlbHNle2Zvcih2YXIgdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKSxyPTA7cjx0Lmxlbmd0aDspdFtyKytdPWFyZ3VtZW50c1tyXTtpLmFwcGx5KG51bGwsdCl9fTt0cnl7ZS5hcHBseSh0fHxudWxsLHIpfWNhdGNoKGUpe24mJihuPSExLHMoZSkpfX0pKX19LDc1MjooZSx0KT0+e1widXNlIHN0cmljdFwiO3ZhciByPXQ7ci5sZW5ndGg9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGg7aWYoIXQpcmV0dXJuIDA7Zm9yKHZhciByPTA7LS10JTQ+MSYmXCI9XCI9PT1lLmNoYXJBdCh0KTspKytyO3JldHVybiBNYXRoLmNlaWwoMyplLmxlbmd0aCkvNC1yfTtmb3IodmFyIG89bmV3IEFycmF5KDY0KSxpPW5ldyBBcnJheSgxMjMpLG49MDtuPDY0OylpW29bbl09bjwyNj9uKzY1Om48NTI/bis3MTpuPDYyP24tNDpuLTU5fDQzXT1uKys7ci5lbmNvZGU9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgaSxuPW51bGwscz1bXSxhPTAsYz0wO3Q8cjspe3ZhciB1PWVbdCsrXTtzd2l0Y2goYyl7Y2FzZSAwOnNbYSsrXT1vW3U+PjJdLGk9KDMmdSk8PDQsYz0xO2JyZWFrO2Nhc2UgMTpzW2ErK109b1tpfHU+PjRdLGk9KDE1JnUpPDwyLGM9MjticmVhaztjYXNlIDI6c1thKytdPW9baXx1Pj42XSxzW2ErK109b1s2MyZ1XSxjPTB9YT44MTkxJiYoKG58fChuPVtdKSkucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxzKSksYT0wKX1yZXR1cm4gYyYmKHNbYSsrXT1vW2ldLHNbYSsrXT02MSwxPT09YyYmKHNbYSsrXT02MSkpLG4/KGEmJm4ucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxzLnNsaWNlKDAsYSkpKSxuLmpvaW4oXCJcIikpOlN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLHMuc2xpY2UoMCxhKSl9O3ZhciBzPVwiaW52YWxpZCBlbmNvZGluZ1wiO3IuZGVjb2RlPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG8sbj1yLGE9MCxjPTA7YzxlLmxlbmd0aDspe3ZhciB1PWUuY2hhckNvZGVBdChjKyspO2lmKDYxPT09dSYmYT4xKWJyZWFrO2lmKHZvaWQgMD09PSh1PWlbdV0pKXRocm93IEVycm9yKHMpO3N3aXRjaChhKXtjYXNlIDA6bz11LGE9MTticmVhaztjYXNlIDE6dFtyKytdPW88PDJ8KDQ4JnUpPj40LG89dSxhPTI7YnJlYWs7Y2FzZSAyOnRbcisrXT0oMTUmbyk8PDR8KDYwJnUpPj4yLG89dSxhPTM7YnJlYWs7Y2FzZSAzOnRbcisrXT0oMyZvKTw8Nnx1LGE9MH19aWYoMT09PWEpdGhyb3cgRXJyb3Iocyk7cmV0dXJuIHItbn0sci50ZXN0PWZ1bmN0aW9uKGUpe3JldHVybi9eKD86W0EtWmEtejAtOSsvXXs0fSkqKD86W0EtWmEtejAtOSsvXXsyfT09fFtBLVphLXowLTkrL117M309KT8kLy50ZXN0KGUpfX0sNDgyNDplPT57XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdChlLHIpe1wic3RyaW5nXCI9PXR5cGVvZiBlJiYocj1lLGU9dm9pZCAwKTt2YXIgbz1bXTtmdW5jdGlvbiBpKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXt2YXIgcj1uKCk7aWYodC52ZXJib3NlJiZjb25zb2xlLmxvZyhcImNvZGVnZW46IFwiK3IpLHI9XCJyZXR1cm4gXCIrcixlKXtmb3IodmFyIHM9T2JqZWN0LmtleXMoZSksYT1uZXcgQXJyYXkocy5sZW5ndGgrMSksYz1uZXcgQXJyYXkocy5sZW5ndGgpLHU9MDt1PHMubGVuZ3RoOylhW3VdPXNbdV0sY1t1XT1lW3NbdSsrXV07cmV0dXJuIGFbdV09cixGdW5jdGlvbi5hcHBseShudWxsLGEpLmFwcGx5KG51bGwsYyl9cmV0dXJuIEZ1bmN0aW9uKHIpKCl9Zm9yKHZhciBsPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpLGg9MDtoPGwubGVuZ3RoOylsW2hdPWFyZ3VtZW50c1srK2hdO2lmKGg9MCxlPWUucmVwbGFjZSgvJShbJWRmaWpzXSkvZywoZnVuY3Rpb24oZSx0KXt2YXIgcj1sW2grK107c3dpdGNoKHQpe2Nhc2VcImRcIjpjYXNlXCJmXCI6cmV0dXJuIFN0cmluZyhOdW1iZXIocikpO2Nhc2VcImlcIjpyZXR1cm4gU3RyaW5nKE1hdGguZmxvb3IocikpO2Nhc2VcImpcIjpyZXR1cm4gSlNPTi5zdHJpbmdpZnkocik7Y2FzZVwic1wiOnJldHVybiBTdHJpbmcocil9cmV0dXJuXCIlXCJ9KSksaCE9PWwubGVuZ3RoKXRocm93IEVycm9yKFwicGFyYW1ldGVyIGNvdW50IG1pc21hdGNoXCIpO3JldHVybiBvLnB1c2goZSksaX1mdW5jdGlvbiBuKHQpe3JldHVyblwiZnVuY3Rpb24gXCIrKHR8fHJ8fFwiXCIpK1wiKFwiKyhlJiZlLmpvaW4oXCIsXCIpfHxcIlwiKStcIil7XFxuICBcIitvLmpvaW4oXCJcXG4gIFwiKStcIlxcbn1cIn1yZXR1cm4gaS50b1N0cmluZz1uLGl9ZS5leHBvcnRzPXQsdC52ZXJib3NlPSExfSwzOTQ3OmU9PntcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KCl7dGhpcy5fbGlzdGVuZXJzPXt9fWUuZXhwb3J0cz10LHQucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4odGhpcy5fbGlzdGVuZXJzW2VdfHwodGhpcy5fbGlzdGVuZXJzW2VdPVtdKSkucHVzaCh7Zm46dCxjdHg6cnx8dGhpc30pLHRoaXN9LHQucHJvdG90eXBlLm9mZj1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PWUpdGhpcy5fbGlzdGVuZXJzPXt9O2Vsc2UgaWYodm9pZCAwPT09dCl0aGlzLl9saXN0ZW5lcnNbZV09W107ZWxzZSBmb3IodmFyIHI9dGhpcy5fbGlzdGVuZXJzW2VdLG89MDtvPHIubGVuZ3RoOylyW29dLmZuPT09dD9yLnNwbGljZShvLDEpOisrbztyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9saXN0ZW5lcnNbZV07aWYodCl7Zm9yKHZhciByPVtdLG89MTtvPGFyZ3VtZW50cy5sZW5ndGg7KXIucHVzaChhcmd1bWVudHNbbysrXSk7Zm9yKG89MDtvPHQubGVuZ3RoOyl0W29dLmZuLmFwcGx5KHRbbysrXS5jdHgscil9cmV0dXJuIHRoaXN9fSwxNTYwOihlLHQscik9PntcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9bjt2YXIgbz1yKDUzMjApLGk9cigxNTI4KShcImZzXCIpO2Z1bmN0aW9uIG4oZSx0LHIpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/KHI9dCx0PXt9KTp0fHwodD17fSkscj8hdC54aHImJmkmJmkucmVhZEZpbGU/aS5yZWFkRmlsZShlLChmdW5jdGlvbihvLGkpe3JldHVybiBvJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgWE1MSHR0cFJlcXVlc3Q/bi54aHIoZSx0LHIpOm8/cihvKTpyKG51bGwsdC5iaW5hcnk/aTppLnRvU3RyaW5nKFwidXRmOFwiKSl9KSk6bi54aHIoZSx0LHIpOm8obix0aGlzLGUsdCl9bi54aHI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPW5ldyBYTUxIdHRwUmVxdWVzdDtvLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKDQ9PT1vLnJlYWR5U3RhdGUpe2lmKDAhPT1vLnN0YXR1cyYmMjAwIT09by5zdGF0dXMpcmV0dXJuIHIoRXJyb3IoXCJzdGF0dXMgXCIrby5zdGF0dXMpKTtpZih0LmJpbmFyeSl7dmFyIGU9by5yZXNwb25zZTtpZighZSl7ZT1bXTtmb3IodmFyIGk9MDtpPG8ucmVzcG9uc2VUZXh0Lmxlbmd0aDsrK2kpZS5wdXNoKDI1NSZvLnJlc3BvbnNlVGV4dC5jaGFyQ29kZUF0KGkpKX1yZXR1cm4gcihudWxsLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OEFycmF5P25ldyBVaW50OEFycmF5KGUpOmUpfXJldHVybiByKG51bGwsby5yZXNwb25zZVRleHQpfX0sdC5iaW5hcnkmJihcIm92ZXJyaWRlTWltZVR5cGVcImluIG8mJm8ub3ZlcnJpZGVNaW1lVHlwZShcInRleHQvcGxhaW47IGNoYXJzZXQ9eC11c2VyLWRlZmluZWRcIiksby5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiKSxvLm9wZW4oXCJHRVRcIixlKSxvLnNlbmQoKX19LDM3MzI6ZT0+e1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQoZSl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZsb2F0MzJBcnJheT9mdW5jdGlvbigpe3ZhciB0PW5ldyBGbG9hdDMyQXJyYXkoWy0wXSkscj1uZXcgVWludDhBcnJheSh0LmJ1ZmZlciksbz0xMjg9PT1yWzNdO2Z1bmN0aW9uIGkoZSxvLGkpe3RbMF09ZSxvW2ldPXJbMF0sb1tpKzFdPXJbMV0sb1tpKzJdPXJbMl0sb1tpKzNdPXJbM119ZnVuY3Rpb24gbihlLG8saSl7dFswXT1lLG9baV09clszXSxvW2krMV09clsyXSxvW2krMl09clsxXSxvW2krM109clswXX1mdW5jdGlvbiBzKGUsbyl7cmV0dXJuIHJbMF09ZVtvXSxyWzFdPWVbbysxXSxyWzJdPWVbbysyXSxyWzNdPWVbbyszXSx0WzBdfWZ1bmN0aW9uIGEoZSxvKXtyZXR1cm4gclszXT1lW29dLHJbMl09ZVtvKzFdLHJbMV09ZVtvKzJdLHJbMF09ZVtvKzNdLHRbMF19ZS53cml0ZUZsb2F0TEU9bz9pOm4sZS53cml0ZUZsb2F0QkU9bz9uOmksZS5yZWFkRmxvYXRMRT1vP3M6YSxlLnJlYWRGbG9hdEJFPW8/YTpzfSgpOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLHQscixvKXt2YXIgaT10PDA/MTowO2lmKGkmJih0PS10KSwwPT09dCllKDEvdD4wPzA6MjE0NzQ4MzY0OCxyLG8pO2Vsc2UgaWYoaXNOYU4odCkpZSgyMTQzMjg5MzQ0LHIsbyk7ZWxzZSBpZih0PjM0MDI4MjM0NjYzODUyODg2ZTIyKWUoKGk8PDMxfDIxMzkwOTUwNDApPj4+MCxyLG8pO2Vsc2UgaWYodDwxMTc1NDk0MzUwODIyMjg3NWUtNTQpZSgoaTw8MzF8TWF0aC5yb3VuZCh0LzE0MDEyOTg0NjQzMjQ4MTdlLTYwKSk+Pj4wLHIsbyk7ZWxzZXt2YXIgbj1NYXRoLmZsb29yKE1hdGgubG9nKHQpL01hdGguTE4yKTtlKChpPDwzMXxuKzEyNzw8MjN8ODM4ODYwNyZNYXRoLnJvdW5kKHQqTWF0aC5wb3coMiwtbikqODM4ODYwOCkpPj4+MCxyLG8pfX1mdW5jdGlvbiBzKGUsdCxyKXt2YXIgbz1lKHQsciksaT0yKihvPj4zMSkrMSxuPW8+Pj4yMyYyNTUscz04Mzg4NjA3Jm87cmV0dXJuIDI1NT09PW4/cz9OYU46aSooMS8wKTowPT09bj8xNDAxMjk4NDY0MzI0ODE3ZS02MCppKnM6aSpNYXRoLnBvdygyLG4tMTUwKSoocys4Mzg4NjA4KX1lLndyaXRlRmxvYXRMRT10LmJpbmQobnVsbCxyKSxlLndyaXRlRmxvYXRCRT10LmJpbmQobnVsbCxvKSxlLnJlYWRGbG9hdExFPXMuYmluZChudWxsLGkpLGUucmVhZEZsb2F0QkU9cy5iaW5kKG51bGwsbil9KCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZsb2F0NjRBcnJheT9mdW5jdGlvbigpe3ZhciB0PW5ldyBGbG9hdDY0QXJyYXkoWy0wXSkscj1uZXcgVWludDhBcnJheSh0LmJ1ZmZlciksbz0xMjg9PT1yWzddO2Z1bmN0aW9uIGkoZSxvLGkpe3RbMF09ZSxvW2ldPXJbMF0sb1tpKzFdPXJbMV0sb1tpKzJdPXJbMl0sb1tpKzNdPXJbM10sb1tpKzRdPXJbNF0sb1tpKzVdPXJbNV0sb1tpKzZdPXJbNl0sb1tpKzddPXJbN119ZnVuY3Rpb24gbihlLG8saSl7dFswXT1lLG9baV09cls3XSxvW2krMV09cls2XSxvW2krMl09cls1XSxvW2krM109cls0XSxvW2krNF09clszXSxvW2krNV09clsyXSxvW2krNl09clsxXSxvW2krN109clswXX1mdW5jdGlvbiBzKGUsbyl7cmV0dXJuIHJbMF09ZVtvXSxyWzFdPWVbbysxXSxyWzJdPWVbbysyXSxyWzNdPWVbbyszXSxyWzRdPWVbbys0XSxyWzVdPWVbbys1XSxyWzZdPWVbbys2XSxyWzddPWVbbys3XSx0WzBdfWZ1bmN0aW9uIGEoZSxvKXtyZXR1cm4gcls3XT1lW29dLHJbNl09ZVtvKzFdLHJbNV09ZVtvKzJdLHJbNF09ZVtvKzNdLHJbM109ZVtvKzRdLHJbMl09ZVtvKzVdLHJbMV09ZVtvKzZdLHJbMF09ZVtvKzddLHRbMF19ZS53cml0ZURvdWJsZUxFPW8/aTpuLGUud3JpdGVEb3VibGVCRT1vP246aSxlLnJlYWREb3VibGVMRT1vP3M6YSxlLnJlYWREb3VibGVCRT1vP2E6c30oKTpmdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSx0LHIsbyxpLG4pe3ZhciBzPW88MD8xOjA7aWYocyYmKG89LW8pLDA9PT1vKWUoMCxpLG4rdCksZSgxL28+MD8wOjIxNDc0ODM2NDgsaSxuK3IpO2Vsc2UgaWYoaXNOYU4obykpZSgwLGksbit0KSxlKDIxNDY5NTkzNjAsaSxuK3IpO2Vsc2UgaWYobz4xNzk3NjkzMTM0ODYyMzE1N2UyOTIpZSgwLGksbit0KSxlKChzPDwzMXwyMTQ2NDM1MDcyKT4+PjAsaSxuK3IpO2Vsc2V7dmFyIGE7aWYobzwyMjI1MDczODU4NTA3MjAxNGUtMzI0KWUoKGE9by81ZS0zMjQpPj4+MCxpLG4rdCksZSgoczw8MzF8YS80Mjk0OTY3Mjk2KT4+PjAsaSxuK3IpO2Vsc2V7dmFyIGM9TWF0aC5mbG9vcihNYXRoLmxvZyhvKS9NYXRoLkxOMik7MTAyND09PWMmJihjPTEwMjMpLGUoNDUwMzU5OTYyNzM3MDQ5NiooYT1vKk1hdGgucG93KDIsLWMpKT4+PjAsaSxuK3QpLGUoKHM8PDMxfGMrMTAyMzw8MjB8MTA0ODU3NiphJjEwNDg1NzUpPj4+MCxpLG4rcil9fX1mdW5jdGlvbiBzKGUsdCxyLG8saSl7dmFyIG49ZShvLGkrdCkscz1lKG8saStyKSxhPTIqKHM+PjMxKSsxLGM9cz4+PjIwJjIwNDcsdT00Mjk0OTY3Mjk2KigxMDQ4NTc1JnMpK247cmV0dXJuIDIwNDc9PT1jP3U/TmFOOmEqKDEvMCk6MD09PWM/NWUtMzI0KmEqdTphKk1hdGgucG93KDIsYy0xMDc1KSoodSs0NTAzNTk5NjI3MzcwNDk2KX1lLndyaXRlRG91YmxlTEU9dC5iaW5kKG51bGwsciwwLDQpLGUud3JpdGVEb3VibGVCRT10LmJpbmQobnVsbCxvLDQsMCksZS5yZWFkRG91YmxlTEU9cy5iaW5kKG51bGwsaSwwLDQpLGUucmVhZERvdWJsZUJFPXMuYmluZChudWxsLG4sNCwwKX0oKSxlfWZ1bmN0aW9uIHIoZSx0LHIpe3Rbcl09MjU1JmUsdFtyKzFdPWU+Pj44JjI1NSx0W3IrMl09ZT4+PjE2JjI1NSx0W3IrM109ZT4+PjI0fWZ1bmN0aW9uIG8oZSx0LHIpe3Rbcl09ZT4+PjI0LHRbcisxXT1lPj4+MTYmMjU1LHRbcisyXT1lPj4+OCYyNTUsdFtyKzNdPTI1NSZlfWZ1bmN0aW9uIGkoZSx0KXtyZXR1cm4oZVt0XXxlW3QrMV08PDh8ZVt0KzJdPDwxNnxlW3QrM108PDI0KT4+PjB9ZnVuY3Rpb24gbihlLHQpe3JldHVybihlW3RdPDwyNHxlW3QrMV08PDE2fGVbdCsyXTw8OHxlW3QrM10pPj4+MH1lLmV4cG9ydHM9dCh0KX0sMTUyODptb2R1bGU9PntcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpbnF1aXJlKG1vZHVsZU5hbWUpe3RyeXt2YXIgbW9kPWV2YWwoXCJxdWlyZVwiLnJlcGxhY2UoL14vLFwicmVcIikpKG1vZHVsZU5hbWUpO2lmKG1vZCYmKG1vZC5sZW5ndGh8fE9iamVjdC5rZXlzKG1vZCkubGVuZ3RoKSlyZXR1cm4gbW9kfWNhdGNoKGUpe31yZXR1cm4gbnVsbH1tb2R1bGUuZXhwb3J0cz1pbnF1aXJlfSw3MjU2OihlLHQpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dCxvPXIuaXNBYnNvbHV0ZT1mdW5jdGlvbihlKXtyZXR1cm4vXig/OlxcL3xcXHcrOikvLnRlc3QoZSl9LGk9ci5ub3JtYWxpemU9ZnVuY3Rpb24oZSl7dmFyIHQ9KGU9ZS5yZXBsYWNlKC9cXFxcL2csXCIvXCIpLnJlcGxhY2UoL1xcL3syLH0vZyxcIi9cIikpLnNwbGl0KFwiL1wiKSxyPW8oZSksaT1cIlwiO3ImJihpPXQuc2hpZnQoKStcIi9cIik7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDspXCIuLlwiPT09dFtuXT9uPjAmJlwiLi5cIiE9PXRbbi0xXT90LnNwbGljZSgtLW4sMik6cj90LnNwbGljZShuLDEpOisrbjpcIi5cIj09PXRbbl0/dC5zcGxpY2UobiwxKTorK247cmV0dXJuIGkrdC5qb2luKFwiL1wiKX07ci5yZXNvbHZlPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gcnx8KHQ9aSh0KSksbyh0KT90OihyfHwoZT1pKGUpKSwoZT1lLnJlcGxhY2UoLyg/OlxcL3xeKVteL10rJC8sXCJcIikpLmxlbmd0aD9pKGUrXCIvXCIrdCk6dCl9fSw2MjY0OmU9PntcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXJ8fDgxOTIsaT1vPj4+MSxuPW51bGwscz1vO3JldHVybiBmdW5jdGlvbihyKXtpZihyPDF8fHI+aSlyZXR1cm4gZShyKTtzK3I+byYmKG49ZShvKSxzPTApO3ZhciBhPXQuY2FsbChuLHMscys9cik7cmV0dXJuIDcmcyYmKHM9MSsoN3xzKSksYX19fSwxODg4OihlLHQpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dDtyLmxlbmd0aD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxyPTAsbz0wO288ZS5sZW5ndGg7KytvKShyPWUuY2hhckNvZGVBdChvKSk8MTI4P3QrPTE6cjwyMDQ4P3QrPTI6NTUyOTY9PSg2NDUxMiZyKSYmNTYzMjA9PSg2NDUxMiZlLmNoYXJDb2RlQXQobysxKSk/KCsrbyx0Kz00KTp0Kz0zO3JldHVybiB0fSxyLnJlYWQ9ZnVuY3Rpb24oZSx0LHIpe2lmKHItdDwxKXJldHVyblwiXCI7Zm9yKHZhciBvLGk9bnVsbCxuPVtdLHM9MDt0PHI7KShvPWVbdCsrXSk8MTI4P25bcysrXT1vOm8+MTkxJiZvPDIyND9uW3MrK109KDMxJm8pPDw2fDYzJmVbdCsrXTpvPjIzOSYmbzwzNjU/KG89KCg3Jm8pPDwxOHwoNjMmZVt0KytdKTw8MTJ8KDYzJmVbdCsrXSk8PDZ8NjMmZVt0KytdKS02NTUzNixuW3MrK109NTUyOTYrKG8+PjEwKSxuW3MrK109NTYzMjArKDEwMjMmbykpOm5bcysrXT0oMTUmbyk8PDEyfCg2MyZlW3QrK10pPDw2fDYzJmVbdCsrXSxzPjgxOTEmJigoaXx8KGk9W10pKS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLG4pKSxzPTApO3JldHVybiBpPyhzJiZpLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsbi5zbGljZSgwLHMpKSksaS5qb2luKFwiXCIpKTpTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxuLnNsaWNlKDAscykpfSxyLndyaXRlPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG8saSxuPXIscz0wO3M8ZS5sZW5ndGg7KytzKShvPWUuY2hhckNvZGVBdChzKSk8MTI4P3RbcisrXT1vOm88MjA0OD8odFtyKytdPW8+PjZ8MTkyLHRbcisrXT02MyZvfDEyOCk6NTUyOTY9PSg2NDUxMiZvKSYmNTYzMjA9PSg2NDUxMiYoaT1lLmNoYXJDb2RlQXQocysxKSkpPyhvPTY1NTM2KygoMTAyMyZvKTw8MTApKygxMDIzJmkpLCsrcyx0W3IrK109bz4+MTh8MjQwLHRbcisrXT1vPj4xMiY2M3wxMjgsdFtyKytdPW8+PjYmNjN8MTI4LHRbcisrXT02MyZvfDEyOCk6KHRbcisrXT1vPj4xMnwyMjQsdFtyKytdPW8+PjYmNjN8MTI4LHRbcisrXT02MyZvfDEyOCk7cmV0dXJuIHItbn19LDkxNDA6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO3ZhciBvLGksbjtpZihPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx2b2lkIDA9PT1zKXZhciBzPXt9LGE9e2V4cG9ydHM6e319O249ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbyl7ZnVuY3Rpb24gaShzLGEpe2lmKCFyW3NdKXtpZighdFtzXSl7aWYobilyZXR1cm4gbihzLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK3MrXCInXCIpfXZhciBjPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChjLmV4cG9ydHMsKGZ1bmN0aW9uKGUpe3ZhciByPXRbc11bMV1bZV07cmV0dXJuIGkocnx8ZSl9KSxjLGMuZXhwb3J0cyxlLHQscixvKX1yZXR1cm4gcltzXS5leHBvcnRzfWZvcih2YXIgbj12b2lkIDAscz0wO3M8by5sZW5ndGg7cysrKWkob1tzXSk7cmV0dXJuIGl9KHsxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXt2ZXJzaW9uOlwiMS4zLjVcIn19LHt9XSwyOltmdW5jdGlvbihlLHQscil7dmFyIG89ZnVuY3Rpb24oZSx0KXt0aGlzLmhlYWRfPWUsdGhpcy50YWlsXz10LHRoaXMuc2VhcmNoX25vZGVfPWV9O28ucHJvdG90eXBlLmhlYWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZWFkX30sby5wcm90b3R5cGUuc2V0SGVhZD1mdW5jdGlvbihlKXt0aGlzLmhlYWRfPWV9LG8ucHJvdG90eXBlLnRhaWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50YWlsX30sby5wcm90b3R5cGUuc2V0VGFpbD1mdW5jdGlvbihlKXt0aGlzLnRhaWxfPWV9LG8ucHJvdG90eXBlLnNlYXJjaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlYXJjaF9ub2RlX30sby5wcm90b3R5cGUuc2V0U2VhcmNoPWZ1bmN0aW9uKGUpe3RoaXMuc2VhcmNoX25vZGVfPWV9LG8ucHJvdG90eXBlLmZpbmRTZWFyY2hOb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VhcmNoX25vZGVffSxvLnByb3RvdHlwZS5sb2NhdGVOb2RlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc2VhcmNoX25vZGVfO2lmKGU8dC52YWx1ZSl7Zm9yKDt0PXQucHJldjspaWYoZT49dC52YWx1ZSlyZXR1cm4gdGhpcy5zZWFyY2hfbm9kZV89dCx0fWVsc2UgZm9yKDt0PXQubmV4dDspaWYoZTx0LnZhbHVlKXJldHVybiB0aGlzLnNlYXJjaF9ub2RlXz10LnByZXYsdC5wcmV2O3JldHVybiBudWxsfSxvLnByb3RvdHlwZS5sb2NhdGVQb2ludD1mdW5jdGlvbihlKXt2YXIgdD1lLngscj10aGlzLmZpbmRTZWFyY2hOb2RlKHQpLG89ci5wb2ludC54O2lmKHQ9PT1vKXtpZihlIT09ci5wb2ludClpZihlPT09ci5wcmV2LnBvaW50KXI9ci5wcmV2O2Vsc2V7aWYoZSE9PXIubmV4dC5wb2ludCl0aHJvdyBuZXcgRXJyb3IoXCJwb2x5MnRyaSBJbnZhbGlkIEFkdmFuY2luZ0Zyb250LmxvY2F0ZVBvaW50KCkgY2FsbFwiKTtyPXIubmV4dH19ZWxzZSBpZih0PG8pZm9yKDsocj1yLnByZXYpJiZlIT09ci5wb2ludDspO2Vsc2UgZm9yKDsocj1yLm5leHQpJiZlIT09ci5wb2ludDspO3JldHVybiByJiYodGhpcy5zZWFyY2hfbm9kZV89cikscn0sdC5leHBvcnRzPW8sdC5leHBvcnRzLk5vZGU9ZnVuY3Rpb24oZSx0KXt0aGlzLnBvaW50PWUsdGhpcy50cmlhbmdsZT10fHxudWxsLHRoaXMubmV4dD1udWxsLHRoaXMucHJldj1udWxsLHRoaXMudmFsdWU9ZS54fX0se31dLDM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgRXJyb3IodHx8XCJBc3NlcnQgRmFpbGVkXCIpfX0se31dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKFwiLi94eVwiKSxpPWZ1bmN0aW9uKGUsdCl7dGhpcy54PStlfHwwLHRoaXMueT0rdHx8MCx0aGlzLl9wMnRfZWRnZV9saXN0PW51bGx9O2kucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIG8udG9TdHJpbmdCYXNlKHRoaXMpfSxpLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57eDp0aGlzLngseTp0aGlzLnl9fSxpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzLngsdGhpcy55KX0saS5wcm90b3R5cGUuc2V0X3plcm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54PTAsdGhpcy55PTAsdGhpc30saS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMueD0rZXx8MCx0aGlzLnk9K3R8fDAsdGhpc30saS5wcm90b3R5cGUubmVnYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD0tdGhpcy54LHRoaXMueT0tdGhpcy55LHRoaXN9LGkucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Kz1lLngsdGhpcy55Kz1lLnksdGhpc30saS5wcm90b3R5cGUuc3ViPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngtPWUueCx0aGlzLnktPWUueSx0aGlzfSxpLnByb3RvdHlwZS5tdWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpc30saS5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkpfSxpLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlbmd0aCgpO3JldHVybiB0aGlzLngvPWUsdGhpcy55Lz1lLGV9LGkucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54PT09ZS54JiZ0aGlzLnk9PT1lLnl9LGkubmVnYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSgtZS54LC1lLnkpfSxpLmFkZD1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgaShlLngrdC54LGUueSt0LnkpfSxpLnN1Yj1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgaShlLngtdC54LGUueS10LnkpfSxpLm11bD1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgaShlKnQueCxlKnQueSl9LGkuY3Jvc3M9ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZT9cIm51bWJlclwiPT10eXBlb2YgdD9lKnQ6bmV3IGkoLWUqdC55LGUqdC54KTpcIm51bWJlclwiPT10eXBlb2YgdD9uZXcgaSh0KmUueSwtdCplLngpOmUueCp0LnktZS55KnQueH0saS50b1N0cmluZz1vLnRvU3RyaW5nLGkuY29tcGFyZT1vLmNvbXBhcmUsaS5jbXA9by5jb21wYXJlLGkuZXF1YWxzPW8uZXF1YWxzLGkuZG90PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUueCp0LngrZS55KnQueX0sdC5leHBvcnRzPWl9LHtcIi4veHlcIjoxMX1dLDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKFwiLi94eVwiKSxpPWZ1bmN0aW9uKGUsdCl7dGhpcy5uYW1lPVwiUG9pbnRFcnJvclwiLHRoaXMucG9pbnRzPXQ9dHx8W10sdGhpcy5tZXNzYWdlPWV8fFwiSW52YWxpZCBQb2ludHMhXCI7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspdGhpcy5tZXNzYWdlKz1cIiBcIitvLnRvU3RyaW5nKHRbcl0pfTsoaS5wcm90b3R5cGU9bmV3IEVycm9yKS5jb25zdHJ1Y3Rvcj1pLHQuZXhwb3J0cz1pfSx7XCIuL3h5XCI6MTF9XSw2OltmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKHQpe3ZhciBvPXQucG9seTJ0cmk7ci5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHQucG9seTJ0cmk9byxyfSxyLlZFUlNJT049ZShcIi4uL2Rpc3QvdmVyc2lvbi5qc29uXCIpLnZlcnNpb24sci5Qb2ludEVycm9yPWUoXCIuL3BvaW50ZXJyb3JcIiksci5Qb2ludD1lKFwiLi9wb2ludFwiKSxyLlRyaWFuZ2xlPWUoXCIuL3RyaWFuZ2xlXCIpLHIuU3dlZXBDb250ZXh0PWUoXCIuL3N3ZWVwY29udGV4dFwiKTt2YXIgaT1lKFwiLi9zd2VlcFwiKTtyLnRyaWFuZ3VsYXRlPWkudHJpYW5ndWxhdGUsci5zd2VlcD17VHJpYW5ndWxhdGU6aS50cmlhbmd1bGF0ZX19KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4uL2Rpc3QvdmVyc2lvbi5qc29uXCI6MSxcIi4vcG9pbnRcIjo0LFwiLi9wb2ludGVycm9yXCI6NSxcIi4vc3dlZXBcIjo3LFwiLi9zd2VlcGNvbnRleHRcIjo4LFwiLi90cmlhbmdsZVwiOjl9XSw3OltmdW5jdGlvbihlLHQscil7dmFyIG89ZShcIi4vYXNzZXJ0XCIpLGk9ZShcIi4vcG9pbnRlcnJvclwiKSxuPWUoXCIuL3RyaWFuZ2xlXCIpLHM9ZShcIi4vYWR2YW5jaW5nZnJvbnRcIikuTm9kZSxhPWUoXCIuL3V0aWxzXCIpLGM9YS5FUFNJTE9OLHU9YS5PcmllbnRhdGlvbixsPWEub3JpZW50MmQsaD1hLmluU2NhbkFyZWEsZD1hLmlzQW5nbGVPYnR1c2U7ZnVuY3Rpb24gcChlLHQpe3ZhciByPWUubG9jYXRlTm9kZSh0KSxpPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz1uZXcgbih0LHIucG9pbnQsci5uZXh0LnBvaW50KTtvLm1hcmtOZWlnaGJvcihyLnRyaWFuZ2xlKSxlLmFkZFRvTWFwKG8pO3ZhciBpPW5ldyBzKHQpO3JldHVybiBpLm5leHQ9ci5uZXh0LGkucHJldj1yLHIubmV4dC5wcmV2PWksci5uZXh0PWkseShlLG8pfHxlLm1hcFRyaWFuZ2xlVG9Ob2RlcyhvKSxpfShlLHQscik7cmV0dXJuIHQueDw9ci5wb2ludC54K2MmJl8oZSxyKSxmdW5jdGlvbihlLHQpe2Zvcih2YXIgcj10Lm5leHQ7ci5uZXh0JiYhZChyLnBvaW50LHIubmV4dC5wb2ludCxyLnByZXYucG9pbnQpOylfKGUscikscj1yLm5leHQ7Zm9yKHI9dC5wcmV2O3IucHJldiYmIWQoci5wb2ludCxyLm5leHQucG9pbnQsci5wcmV2LnBvaW50KTspXyhlLHIpLHI9ci5wcmV2O3QubmV4dCYmdC5uZXh0Lm5leHQmJmZ1bmN0aW9uKGUpe3ZhciB0PWUucG9pbnQueC1lLm5leHQubmV4dC5wb2ludC54LHI9ZS5wb2ludC55LWUubmV4dC5uZXh0LnBvaW50Lnk7cmV0dXJuIG8ocj49MCxcInVub3JkZXJlZCB5XCIpLHQ+PTB8fE1hdGguYWJzKHQpPHJ9KHQpJiZmdW5jdGlvbihlLHQpe2ZvcihsKHQucG9pbnQsdC5uZXh0LnBvaW50LHQubmV4dC5uZXh0LnBvaW50KT09PXUuQ0NXP2UuYmFzaW4ubGVmdF9ub2RlPXQubmV4dC5uZXh0OmUuYmFzaW4ubGVmdF9ub2RlPXQubmV4dCxlLmJhc2luLmJvdHRvbV9ub2RlPWUuYmFzaW4ubGVmdF9ub2RlO2UuYmFzaW4uYm90dG9tX25vZGUubmV4dCYmZS5iYXNpbi5ib3R0b21fbm9kZS5wb2ludC55Pj1lLmJhc2luLmJvdHRvbV9ub2RlLm5leHQucG9pbnQueTspZS5iYXNpbi5ib3R0b21fbm9kZT1lLmJhc2luLmJvdHRvbV9ub2RlLm5leHQ7aWYoZS5iYXNpbi5ib3R0b21fbm9kZSE9PWUuYmFzaW4ubGVmdF9ub2RlKXtmb3IoZS5iYXNpbi5yaWdodF9ub2RlPWUuYmFzaW4uYm90dG9tX25vZGU7ZS5iYXNpbi5yaWdodF9ub2RlLm5leHQmJmUuYmFzaW4ucmlnaHRfbm9kZS5wb2ludC55PGUuYmFzaW4ucmlnaHRfbm9kZS5uZXh0LnBvaW50Lnk7KWUuYmFzaW4ucmlnaHRfbm9kZT1lLmJhc2luLnJpZ2h0X25vZGUubmV4dDtlLmJhc2luLnJpZ2h0X25vZGUhPT1lLmJhc2luLmJvdHRvbV9ub2RlJiYoZS5iYXNpbi53aWR0aD1lLmJhc2luLnJpZ2h0X25vZGUucG9pbnQueC1lLmJhc2luLmxlZnRfbm9kZS5wb2ludC54LGUuYmFzaW4ubGVmdF9oaWdoZXN0PWUuYmFzaW4ubGVmdF9ub2RlLnBvaW50Lnk+ZS5iYXNpbi5yaWdodF9ub2RlLnBvaW50LnkseChlLGUuYmFzaW4uYm90dG9tX25vZGUpKX19KGUsdCl9KGUsaSksaX1mdW5jdGlvbiBnKGUsdCxyKXtlLmVkZ2VfZXZlbnQuY29uc3RyYWluZWRfZWRnZT10LGUuZWRnZV9ldmVudC5yaWdodD10LnAueD50LnEueCx2KHIudHJpYW5nbGUsdC5wLHQucSl8fChmdW5jdGlvbihlLHQscil7ZS5lZGdlX2V2ZW50LnJpZ2h0P2Z1bmN0aW9uKGUsdCxyKXtmb3IoO3IubmV4dC5wb2ludC54PHQucC54OylsKHQucSxyLm5leHQucG9pbnQsdC5wKT09PXUuQ0NXP1IoZSx0LHIpOnI9ci5uZXh0fShlLHQscik6ZnVuY3Rpb24oZSx0LHIpe2Zvcig7ci5wcmV2LnBvaW50Lng+dC5wLng7KWwodC5xLHIucHJldi5wb2ludCx0LnApPT09dS5DVz9WKGUsdCxyKTpyPXIucHJldn0oZSx0LHIpfShlLHQsciksZihlLHQucCx0LnEsci50cmlhbmdsZSx0LnEpKX1mdW5jdGlvbiBmKGUsdCxyLG8sbil7aWYoIXYobyx0LHIpKXt2YXIgcz1vLnBvaW50Q0NXKG4pLGE9bChyLHMsdCk7aWYoYT09PXUuQ09MTElORUFSKXRocm93IG5ldyBpKFwicG9seTJ0cmkgRWRnZUV2ZW50OiBDb2xsaW5lYXIgbm90IHN1cHBvcnRlZCFcIixbcixzLHRdKTt2YXIgYz1vLnBvaW50Q1cobiksaD1sKHIsYyx0KTtpZihoPT09dS5DT0xMSU5FQVIpdGhyb3cgbmV3IGkoXCJwb2x5MnRyaSBFZGdlRXZlbnQ6IENvbGxpbmVhciBub3Qgc3VwcG9ydGVkIVwiLFtyLGMsdF0pO2E9PT1oP2YoZSx0LHIsbz1hPT09dS5DVz9vLm5laWdoYm9yQ0NXKG4pOm8ubmVpZ2hib3JDVyhuKSxuKTpDKGUsdCxyLG8sbil9fWZ1bmN0aW9uIHYoZSx0LHIpe3ZhciBvPWUuZWRnZUluZGV4KHQscik7aWYoLTEhPT1vKXtlLm1hcmtDb25zdHJhaW5lZEVkZ2VCeUluZGV4KG8pO3ZhciBpPWUuZ2V0TmVpZ2hib3Iobyk7cmV0dXJuIGkmJmkubWFya0NvbnN0cmFpbmVkRWRnZUJ5UG9pbnRzKHQsciksITB9cmV0dXJuITF9ZnVuY3Rpb24gXyhlLHQpe3ZhciByPW5ldyBuKHQucHJldi5wb2ludCx0LnBvaW50LHQubmV4dC5wb2ludCk7ci5tYXJrTmVpZ2hib3IodC5wcmV2LnRyaWFuZ2xlKSxyLm1hcmtOZWlnaGJvcih0LnRyaWFuZ2xlKSxlLmFkZFRvTWFwKHIpLHQucHJldi5uZXh0PXQubmV4dCx0Lm5leHQucHJldj10LnByZXYseShlLHIpfHxlLm1hcFRyaWFuZ2xlVG9Ob2RlcyhyKX1mdW5jdGlvbiB5KGUsdCl7Zm9yKHZhciByPTA7cjwzOysrcilpZighdC5kZWxhdW5heV9lZGdlW3JdKXt2YXIgbz10LmdldE5laWdoYm9yKHIpO2lmKG8pe3ZhciBpPXQuZ2V0UG9pbnQociksbj1vLm9wcG9zaXRlUG9pbnQodCxpKSxzPW8uaW5kZXgobik7aWYoby5jb25zdHJhaW5lZF9lZGdlW3NdfHxvLmRlbGF1bmF5X2VkZ2Vbc10pe3QuY29uc3RyYWluZWRfZWRnZVtyXT1vLmNvbnN0cmFpbmVkX2VkZ2Vbc107Y29udGludWV9aWYobShpLHQucG9pbnRDQ1coaSksdC5wb2ludENXKGkpLG4pKXt0LmRlbGF1bmF5X2VkZ2Vbcl09ITAsby5kZWxhdW5heV9lZGdlW3NdPSEwLEUodCxpLG8sbik7dmFyIGE9IXkoZSx0KTtyZXR1cm4gYSYmZS5tYXBUcmlhbmdsZVRvTm9kZXModCksKGE9IXkoZSxvKSkmJmUubWFwVHJpYW5nbGVUb05vZGVzKG8pLHQuZGVsYXVuYXlfZWRnZVtyXT0hMSxvLmRlbGF1bmF5X2VkZ2Vbc109ITEsITB9fX1yZXR1cm4hMX1mdW5jdGlvbiBtKGUsdCxyLG8pe3ZhciBpPWUueC1vLngsbj1lLnktby55LHM9dC54LW8ueCxhPXQueS1vLnksYz1pKmEtcypuO2lmKGM8PTApcmV0dXJuITE7dmFyIHU9ci54LW8ueCxsPXIueS1vLnksaD11Km4taSpsO3JldHVybiEoaDw9MCkmJihpKmkrbipuKSoocypsLXUqYSkrKHMqcythKmEpKmgrKHUqdStsKmwpKmM+MH1mdW5jdGlvbiBFKGUsdCxyLG8pe3ZhciBpLG4scyxhLGMsdSxsLGgsZCxwLGcsZjtpPWUubmVpZ2hib3JDQ1codCksbj1lLm5laWdoYm9yQ1codCkscz1yLm5laWdoYm9yQ0NXKG8pLGE9ci5uZWlnaGJvckNXKG8pLGM9ZS5nZXRDb25zdHJhaW5lZEVkZ2VDQ1codCksdT1lLmdldENvbnN0cmFpbmVkRWRnZUNXKHQpLGw9ci5nZXRDb25zdHJhaW5lZEVkZ2VDQ1cobyksaD1yLmdldENvbnN0cmFpbmVkRWRnZUNXKG8pLGQ9ZS5nZXREZWxhdW5heUVkZ2VDQ1codCkscD1lLmdldERlbGF1bmF5RWRnZUNXKHQpLGc9ci5nZXREZWxhdW5heUVkZ2VDQ1cobyksZj1yLmdldERlbGF1bmF5RWRnZUNXKG8pLGUubGVnYWxpemUodCxvKSxyLmxlZ2FsaXplKG8sdCksci5zZXREZWxhdW5heUVkZ2VDQ1codCxkKSxlLnNldERlbGF1bmF5RWRnZUNXKHQscCksZS5zZXREZWxhdW5heUVkZ2VDQ1cobyxnKSxyLnNldERlbGF1bmF5RWRnZUNXKG8sZiksci5zZXRDb25zdHJhaW5lZEVkZ2VDQ1codCxjKSxlLnNldENvbnN0cmFpbmVkRWRnZUNXKHQsdSksZS5zZXRDb25zdHJhaW5lZEVkZ2VDQ1cobyxsKSxyLnNldENvbnN0cmFpbmVkRWRnZUNXKG8saCksZS5jbGVhck5laWdoYm9ycygpLHIuY2xlYXJOZWlnaGJvcnMoKSxpJiZyLm1hcmtOZWlnaGJvcihpKSxuJiZlLm1hcmtOZWlnaGJvcihuKSxzJiZlLm1hcmtOZWlnaGJvcihzKSxhJiZyLm1hcmtOZWlnaGJvcihhKSxlLm1hcmtOZWlnaGJvcihyKX1mdW5jdGlvbiB4KGUsdCl7aWYoIWZ1bmN0aW9uKGUsdCl7dmFyIHI7cmV0dXJuIHI9ZS5iYXNpbi5sZWZ0X2hpZ2hlc3Q/ZS5iYXNpbi5sZWZ0X25vZGUucG9pbnQueS10LnBvaW50Lnk6ZS5iYXNpbi5yaWdodF9ub2RlLnBvaW50LnktdC5wb2ludC55LGUuYmFzaW4ud2lkdGg+cn0oZSx0KSYmKF8oZSx0KSx0LnByZXYhPT1lLmJhc2luLmxlZnRfbm9kZXx8dC5uZXh0IT09ZS5iYXNpbi5yaWdodF9ub2RlKSl7aWYodC5wcmV2PT09ZS5iYXNpbi5sZWZ0X25vZGUpe2lmKGwodC5wb2ludCx0Lm5leHQucG9pbnQsdC5uZXh0Lm5leHQucG9pbnQpPT09dS5DVylyZXR1cm47dD10Lm5leHR9ZWxzZSBpZih0Lm5leHQ9PT1lLmJhc2luLnJpZ2h0X25vZGUpe2lmKGwodC5wb2ludCx0LnByZXYucG9pbnQsdC5wcmV2LnByZXYucG9pbnQpPT09dS5DQ1cpcmV0dXJuO3Q9dC5wcmV2fWVsc2UgdD10LnByZXYucG9pbnQueTx0Lm5leHQucG9pbnQueT90LnByZXY6dC5uZXh0O3goZSx0KX19ZnVuY3Rpb24gUihlLHQscil7ci5wb2ludC54PHQucC54JiYobChyLnBvaW50LHIubmV4dC5wb2ludCxyLm5leHQubmV4dC5wb2ludCk9PT11LkNDVz9BKGUsdCxyKTooUChlLHQsciksUihlLHQscikpKX1mdW5jdGlvbiBBKGUsdCxyKXtfKGUsci5uZXh0KSxyLm5leHQucG9pbnQhPT10LnAmJmwodC5xLHIubmV4dC5wb2ludCx0LnApPT09dS5DQ1cmJmwoci5wb2ludCxyLm5leHQucG9pbnQsci5uZXh0Lm5leHQucG9pbnQpPT09dS5DQ1cmJkEoZSx0LHIpfWZ1bmN0aW9uIFAoZSx0LHIpe2woci5uZXh0LnBvaW50LHIubmV4dC5uZXh0LnBvaW50LHIubmV4dC5uZXh0Lm5leHQucG9pbnQpPT09dS5DQ1c/QShlLHQsci5uZXh0KTpsKHQucSxyLm5leHQubmV4dC5wb2ludCx0LnApPT09dS5DQ1cmJlAoZSx0LHIubmV4dCl9ZnVuY3Rpb24gVihlLHQscil7ci5wb2ludC54PnQucC54JiYobChyLnBvaW50LHIucHJldi5wb2ludCxyLnByZXYucHJldi5wb2ludCk9PT11LkNXP2IoZSx0LHIpOihUKGUsdCxyKSxWKGUsdCxyKSkpfWZ1bmN0aW9uIFQoZSx0LHIpe2woci5wcmV2LnBvaW50LHIucHJldi5wcmV2LnBvaW50LHIucHJldi5wcmV2LnByZXYucG9pbnQpPT09dS5DVz9iKGUsdCxyLnByZXYpOmwodC5xLHIucHJldi5wcmV2LnBvaW50LHQucCk9PT11LkNXJiZUKGUsdCxyLnByZXYpfWZ1bmN0aW9uIGIoZSx0LHIpe18oZSxyLnByZXYpLHIucHJldi5wb2ludCE9PXQucCYmbCh0LnEsci5wcmV2LnBvaW50LHQucCk9PT11LkNXJiZsKHIucG9pbnQsci5wcmV2LnBvaW50LHIucHJldi5wcmV2LnBvaW50KT09PXUuQ1cmJmIoZSx0LHIpfWZ1bmN0aW9uIEMoZSx0LHIsbixzKXt2YXIgYT1uLm5laWdoYm9yQWNyb3NzKHMpO28oYSxcIkZMSVAgZmFpbGVkIGR1ZSB0byBtaXNzaW5nIHRyaWFuZ2xlIVwiKTt2YXIgYz1hLm9wcG9zaXRlUG9pbnQobixzKTtpZihuLmdldENvbnN0cmFpbmVkRWRnZUFjcm9zcyhzKSl7dmFyIGQ9bi5pbmRleChzKTt0aHJvdyBuZXcgaShcInBvbHkydHJpIEludGVyc2VjdGluZyBDb25zdHJhaW50c1wiLFtzLGMsbi5nZXRQb2ludCgoZCsxKSUzKSxuLmdldFBvaW50KChkKzIpJTMpXSl9aChzLG4ucG9pbnRDQ1cocyksbi5wb2ludENXKHMpLGMpPyhFKG4scyxhLGMpLGUubWFwVHJpYW5nbGVUb05vZGVzKG4pLGUubWFwVHJpYW5nbGVUb05vZGVzKGEpLHM9PT1yJiZjPT09dD9yPT09ZS5lZGdlX2V2ZW50LmNvbnN0cmFpbmVkX2VkZ2UucSYmdD09PWUuZWRnZV9ldmVudC5jb25zdHJhaW5lZF9lZGdlLnAmJihuLm1hcmtDb25zdHJhaW5lZEVkZ2VCeVBvaW50cyh0LHIpLGEubWFya0NvbnN0cmFpbmVkRWRnZUJ5UG9pbnRzKHQscikseShlLG4pLHkoZSxhKSk6KG49ZnVuY3Rpb24oZSx0LHIsbyxpLG4pe3ZhciBzO3JldHVybiB0PT09dS5DQ1c/KHM9by5lZGdlSW5kZXgoaSxuKSxvLmRlbGF1bmF5X2VkZ2Vbc109ITAseShlLG8pLG8uY2xlYXJEZWxhdW5heUVkZ2VzKCkscik6KHM9ci5lZGdlSW5kZXgoaSxuKSxyLmRlbGF1bmF5X2VkZ2Vbc109ITAseShlLHIpLHIuY2xlYXJEZWxhdW5heUVkZ2VzKCksbyl9KGUsbChyLGMsdCksbixhLHMsYyksQyhlLHQscixuLHMpKSk6KEwoZSx0LHIsbixhLE8odCxyLGEsYykpLGYoZSx0LHIsbixzKSl9ZnVuY3Rpb24gTyhlLHQscixvKXt2YXIgbj1sKHQsbyxlKTtpZihuPT09dS5DVylyZXR1cm4gci5wb2ludENDVyhvKTtpZihuPT09dS5DQ1cpcmV0dXJuIHIucG9pbnRDVyhvKTt0aHJvdyBuZXcgaShcInBvbHkydHJpIFtVbnN1cHBvcnRlZF0gbmV4dEZsaXBQb2ludDogb3Bwb3NpbmcgcG9pbnQgb24gY29uc3RyYWluZWQgZWRnZSFcIixbdCxvLGVdKX1mdW5jdGlvbiBMKGUsdCxyLGksbixzKXt2YXIgYT1uLm5laWdoYm9yQWNyb3NzKHMpO28oYSxcIkZMSVAgZmFpbGVkIGR1ZSB0byBtaXNzaW5nIHRyaWFuZ2xlXCIpO3ZhciBjPWEub3Bwb3NpdGVQb2ludChuLHMpO2gocixpLnBvaW50Q0NXKHIpLGkucG9pbnRDVyhyKSxjKT9DKGUscixjLGEsYyk6TChlLHQscixpLGEsTyh0LHIsYSxjKSl9ci50cmlhbmd1bGF0ZT1mdW5jdGlvbihlKXtlLmluaXRUcmlhbmd1bGF0aW9uKCksZS5jcmVhdGVBZHZhbmNpbmdGcm9udCgpLGZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5wb2ludENvdW50KCk7Zm9yKHQ9MTt0PHI7Kyt0KWZvcih2YXIgbz1lLmdldFBvaW50KHQpLGk9cChlLG8pLG49by5fcDJ0X2VkZ2VfbGlzdCxzPTA7biYmczxuLmxlbmd0aDsrK3MpZyhlLG5bc10saSl9KGUpLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmZyb250KCkuaGVhZCgpLm5leHQudHJpYW5nbGUscj1lLmZyb250KCkuaGVhZCgpLm5leHQucG9pbnQ7IXQuZ2V0Q29uc3RyYWluZWRFZGdlQ1cocik7KXQ9dC5uZWlnaGJvckNDVyhyKTtlLm1lc2hDbGVhbih0KX0oZSl9fSx7XCIuL2FkdmFuY2luZ2Zyb250XCI6MixcIi4vYXNzZXJ0XCI6MyxcIi4vcG9pbnRlcnJvclwiOjUsXCIuL3RyaWFuZ2xlXCI6OSxcIi4vdXRpbHNcIjoxMH1dLDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKFwiLi9wb2ludGVycm9yXCIpLGk9ZShcIi4vcG9pbnRcIiksbj1lKFwiLi90cmlhbmdsZVwiKSxzPWUoXCIuL3N3ZWVwXCIpLGE9ZShcIi4vYWR2YW5jaW5nZnJvbnRcIiksYz1hLk5vZGUsdT1mdW5jdGlvbihlLHQpe2lmKHRoaXMucD1lLHRoaXMucT10LGUueT50LnkpdGhpcy5xPWUsdGhpcy5wPXQ7ZWxzZSBpZihlLnk9PT10LnkpaWYoZS54PnQueCl0aGlzLnE9ZSx0aGlzLnA9dDtlbHNlIGlmKGUueD09PXQueCl0aHJvdyBuZXcgbyhcInBvbHkydHJpIEludmFsaWQgRWRnZSBjb25zdHJ1Y3RvcjogcmVwZWF0ZWQgcG9pbnRzIVwiLFtlXSk7dGhpcy5xLl9wMnRfZWRnZV9saXN0fHwodGhpcy5xLl9wMnRfZWRnZV9saXN0PVtdKSx0aGlzLnEuX3AydF9lZGdlX2xpc3QucHVzaCh0aGlzKX0sbD1mdW5jdGlvbigpe3RoaXMubGVmdF9ub2RlPW51bGwsdGhpcy5ib3R0b21fbm9kZT1udWxsLHRoaXMucmlnaHRfbm9kZT1udWxsLHRoaXMud2lkdGg9MCx0aGlzLmxlZnRfaGlnaGVzdD0hMX07bC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmxlZnRfbm9kZT1udWxsLHRoaXMuYm90dG9tX25vZGU9bnVsbCx0aGlzLnJpZ2h0X25vZGU9bnVsbCx0aGlzLndpZHRoPTAsdGhpcy5sZWZ0X2hpZ2hlc3Q9ITF9O3ZhciBoPWZ1bmN0aW9uKCl7dGhpcy5jb25zdHJhaW5lZF9lZGdlPW51bGwsdGhpcy5yaWdodD0hMX0sZD1mdW5jdGlvbihlLHQpe3Q9dHx8e30sdGhpcy50cmlhbmdsZXNfPVtdLHRoaXMubWFwXz1bXSx0aGlzLnBvaW50c189dC5jbG9uZUFycmF5cz9lLnNsaWNlKDApOmUsdGhpcy5lZGdlX2xpc3Q9W10sdGhpcy5wbWluXz10aGlzLnBtYXhfPW51bGwsdGhpcy5mcm9udF89bnVsbCx0aGlzLmhlYWRfPW51bGwsdGhpcy50YWlsXz1udWxsLHRoaXMuYWZfaGVhZF89bnVsbCx0aGlzLmFmX21pZGRsZV89bnVsbCx0aGlzLmFmX3RhaWxfPW51bGwsdGhpcy5iYXNpbj1uZXcgbCx0aGlzLmVkZ2VfZXZlbnQ9bmV3IGgsdGhpcy5pbml0RWRnZXModGhpcy5wb2ludHNfKX07ZC5wcm90b3R5cGUuYWRkSG9sZT1mdW5jdGlvbihlKXt0aGlzLmluaXRFZGdlcyhlKTt2YXIgdCxyPWUubGVuZ3RoO2Zvcih0PTA7dDxyO3QrKyl0aGlzLnBvaW50c18ucHVzaChlW3RdKTtyZXR1cm4gdGhpc30sZC5wcm90b3R5cGUuQWRkSG9sZT1kLnByb3RvdHlwZS5hZGRIb2xlLGQucHJvdG90eXBlLmFkZEhvbGVzPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5sZW5ndGg7Zm9yKHQ9MDt0PHI7dCsrKXRoaXMuaW5pdEVkZ2VzKGVbdF0pO3JldHVybiB0aGlzLnBvaW50c189dGhpcy5wb2ludHNfLmNvbmNhdC5hcHBseSh0aGlzLnBvaW50c18sZSksdGhpc30sZC5wcm90b3R5cGUuYWRkUG9pbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucG9pbnRzXy5wdXNoKGUpLHRoaXN9LGQucHJvdG90eXBlLkFkZFBvaW50PWQucHJvdG90eXBlLmFkZFBvaW50LGQucHJvdG90eXBlLmFkZFBvaW50cz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wb2ludHNfPXRoaXMucG9pbnRzXy5jb25jYXQoZSksdGhpc30sZC5wcm90b3R5cGUudHJpYW5ndWxhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gcy50cmlhbmd1bGF0ZSh0aGlzKSx0aGlzfSxkLnByb3RvdHlwZS5nZXRCb3VuZGluZ0JveD1mdW5jdGlvbigpe3JldHVybnttaW46dGhpcy5wbWluXyxtYXg6dGhpcy5wbWF4X319LGQucHJvdG90eXBlLmdldFRyaWFuZ2xlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRyaWFuZ2xlc199LGQucHJvdG90eXBlLkdldFRyaWFuZ2xlcz1kLnByb3RvdHlwZS5nZXRUcmlhbmdsZXMsZC5wcm90b3R5cGUuZnJvbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mcm9udF99LGQucHJvdG90eXBlLnBvaW50Q291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb2ludHNfLmxlbmd0aH0sZC5wcm90b3R5cGUuaGVhZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhlYWRffSxkLnByb3RvdHlwZS5zZXRIZWFkPWZ1bmN0aW9uKGUpe3RoaXMuaGVhZF89ZX0sZC5wcm90b3R5cGUudGFpbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRhaWxffSxkLnByb3RvdHlwZS5zZXRUYWlsPWZ1bmN0aW9uKGUpe3RoaXMudGFpbF89ZX0sZC5wcm90b3R5cGUuZ2V0TWFwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwX30sZC5wcm90b3R5cGUuaW5pdFRyaWFuZ3VsYXRpb249ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMucG9pbnRzX1swXS54LHI9dGhpcy5wb2ludHNfWzBdLngsbz10aGlzLnBvaW50c19bMF0ueSxuPXRoaXMucG9pbnRzX1swXS55LHM9dGhpcy5wb2ludHNfLmxlbmd0aDtmb3IoZT0xO2U8cztlKyspe3ZhciBhPXRoaXMucG9pbnRzX1tlXTthLng+dCYmKHQ9YS54KSxhLng8ciYmKHI9YS54KSxhLnk+byYmKG89YS55KSxhLnk8biYmKG49YS55KX10aGlzLnBtaW5fPW5ldyBpKHIsbiksdGhpcy5wbWF4Xz1uZXcgaSh0LG8pO3ZhciBjPS4zKih0LXIpLHU9LjMqKG8tbik7dGhpcy5oZWFkXz1uZXcgaSh0K2Msbi11KSx0aGlzLnRhaWxfPW5ldyBpKHItYyxuLXUpLHRoaXMucG9pbnRzXy5zb3J0KGkuY29tcGFyZSl9LGQucHJvdG90eXBlLmluaXRFZGdlcz1mdW5jdGlvbihlLHQpe3ZhciByLG89ZS5sZW5ndGgsaT10P2UubGVuZ3RoLTE6ZS5sZW5ndGg7Zm9yKHI9MDtyPGk7KytyKXRoaXMuZWRnZV9saXN0LnB1c2gobmV3IHUoZVtyXSxlWyhyKzEpJW9dKSl9LGQucHJvdG90eXBlLmdldFBvaW50PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnBvaW50c19bZV19LGQucHJvdG90eXBlLmFkZFRvTWFwPWZ1bmN0aW9uKGUpe3RoaXMubWFwXy5wdXNoKGUpfSxkLnByb3RvdHlwZS5sb2NhdGVOb2RlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmZyb250Xy5sb2NhdGVOb2RlKGUueCl9LGQucHJvdG90eXBlLmNyZWF0ZUFkdmFuY2luZ0Zyb250PWZ1bmN0aW9uKCl7dmFyIGUsdCxyLG89bmV3IG4odGhpcy5wb2ludHNfWzBdLHRoaXMudGFpbF8sdGhpcy5oZWFkXyk7dGhpcy5tYXBfLnB1c2gobyksZT1uZXcgYyhvLmdldFBvaW50KDEpLG8pLHQ9bmV3IGMoby5nZXRQb2ludCgwKSxvKSxyPW5ldyBjKG8uZ2V0UG9pbnQoMikpLHRoaXMuZnJvbnRfPW5ldyBhKGUsciksZS5uZXh0PXQsdC5uZXh0PXIsdC5wcmV2PWUsci5wcmV2PXR9LGQucHJvdG90eXBlLnJlbW92ZU5vZGU9ZnVuY3Rpb24oZSl7fSxkLnByb3RvdHlwZS5tYXBUcmlhbmdsZVRvTm9kZXM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDwzOysrdClpZighZS5nZXROZWlnaGJvcih0KSl7dmFyIHI9dGhpcy5mcm9udF8ubG9jYXRlUG9pbnQoZS5wb2ludENXKGUuZ2V0UG9pbnQodCkpKTtyJiYoci50cmlhbmdsZT1lKX19LGQucHJvdG90eXBlLnJlbW92ZUZyb21NYXA9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzLm1hcF8sbz1yLmxlbmd0aDtmb3IodD0wO3Q8bzt0KyspaWYoclt0XT09PWUpe3Iuc3BsaWNlKHQsMSk7YnJlYWt9fSxkLnByb3RvdHlwZS5tZXNoQ2xlYW49ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHIsbz1bZV07dD1vLnBvcCgpOylpZighdC5pc0ludGVyaW9yKCkpZm9yKHQuc2V0SW50ZXJpb3IoITApLHRoaXMudHJpYW5nbGVzXy5wdXNoKHQpLHI9MDtyPDM7cisrKXQuY29uc3RyYWluZWRfZWRnZVtyXXx8by5wdXNoKHQuZ2V0TmVpZ2hib3IocikpfSx0LmV4cG9ydHM9ZH0se1wiLi9hZHZhbmNpbmdmcm9udFwiOjIsXCIuL3BvaW50XCI6NCxcIi4vcG9pbnRlcnJvclwiOjUsXCIuL3N3ZWVwXCI6NyxcIi4vdHJpYW5nbGVcIjo5fV0sOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLnBvaW50c189W2UsdCxyXSx0aGlzLm5laWdoYm9yc189W251bGwsbnVsbCxudWxsXSx0aGlzLmludGVyaW9yXz0hMSx0aGlzLmNvbnN0cmFpbmVkX2VkZ2U9WyExLCExLCExXSx0aGlzLmRlbGF1bmF5X2VkZ2U9WyExLCExLCExXX0saT1lKFwiLi94eVwiKS50b1N0cmluZztvLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW1wiK2kodGhpcy5wb2ludHNfWzBdKStpKHRoaXMucG9pbnRzX1sxXSkraSh0aGlzLnBvaW50c19bMl0pK1wiXVwifSxvLnByb3RvdHlwZS5nZXRQb2ludD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wb2ludHNfW2VdfSxvLnByb3RvdHlwZS5HZXRQb2ludD1vLnByb3RvdHlwZS5nZXRQb2ludCxvLnByb3RvdHlwZS5nZXRQb2ludHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb2ludHNffSxvLnByb3RvdHlwZS5nZXROZWlnaGJvcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5uZWlnaGJvcnNfW2VdfSxvLnByb3RvdHlwZS5jb250YWluc1BvaW50PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucG9pbnRzXztyZXR1cm4gZT09PXRbMF18fGU9PT10WzFdfHxlPT09dFsyXX0sby5wcm90b3R5cGUuY29udGFpbnNFZGdlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbnRhaW5zUG9pbnQoZS5wKSYmdGhpcy5jb250YWluc1BvaW50KGUucSl9LG8ucHJvdG90eXBlLmNvbnRhaW5zUG9pbnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuY29udGFpbnNQb2ludChlKSYmdGhpcy5jb250YWluc1BvaW50KHQpfSxvLnByb3RvdHlwZS5pc0ludGVyaW9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW50ZXJpb3JffSxvLnByb3RvdHlwZS5zZXRJbnRlcmlvcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pbnRlcmlvcl89ZSx0aGlzfSxvLnByb3RvdHlwZS5tYXJrTmVpZ2hib3JQb2ludGVycz1mdW5jdGlvbihlLHQscil7dmFyIG89dGhpcy5wb2ludHNfO2lmKGU9PT1vWzJdJiZ0PT09b1sxXXx8ZT09PW9bMV0mJnQ9PT1vWzJdKXRoaXMubmVpZ2hib3JzX1swXT1yO2Vsc2UgaWYoZT09PW9bMF0mJnQ9PT1vWzJdfHxlPT09b1syXSYmdD09PW9bMF0pdGhpcy5uZWlnaGJvcnNfWzFdPXI7ZWxzZXtpZighKGU9PT1vWzBdJiZ0PT09b1sxXXx8ZT09PW9bMV0mJnQ9PT1vWzBdKSl0aHJvdyBuZXcgRXJyb3IoXCJwb2x5MnRyaSBJbnZhbGlkIFRyaWFuZ2xlLm1hcmtOZWlnaGJvclBvaW50ZXJzKCkgY2FsbFwiKTt0aGlzLm5laWdoYm9yc19bMl09cn19LG8ucHJvdG90eXBlLm1hcmtOZWlnaGJvcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnBvaW50c187ZS5jb250YWluc1BvaW50cyh0WzFdLHRbMl0pPyh0aGlzLm5laWdoYm9yc19bMF09ZSxlLm1hcmtOZWlnaGJvclBvaW50ZXJzKHRbMV0sdFsyXSx0aGlzKSk6ZS5jb250YWluc1BvaW50cyh0WzBdLHRbMl0pPyh0aGlzLm5laWdoYm9yc19bMV09ZSxlLm1hcmtOZWlnaGJvclBvaW50ZXJzKHRbMF0sdFsyXSx0aGlzKSk6ZS5jb250YWluc1BvaW50cyh0WzBdLHRbMV0pJiYodGhpcy5uZWlnaGJvcnNfWzJdPWUsZS5tYXJrTmVpZ2hib3JQb2ludGVycyh0WzBdLHRbMV0sdGhpcykpfSxvLnByb3RvdHlwZS5jbGVhck5laWdoYm9ycz1mdW5jdGlvbigpe3RoaXMubmVpZ2hib3JzX1swXT1udWxsLHRoaXMubmVpZ2hib3JzX1sxXT1udWxsLHRoaXMubmVpZ2hib3JzX1syXT1udWxsfSxvLnByb3RvdHlwZS5jbGVhckRlbGF1bmF5RWRnZXM9ZnVuY3Rpb24oKXt0aGlzLmRlbGF1bmF5X2VkZ2VbMF09ITEsdGhpcy5kZWxhdW5heV9lZGdlWzFdPSExLHRoaXMuZGVsYXVuYXlfZWRnZVsyXT0hMX0sby5wcm90b3R5cGUucG9pbnRDVz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnBvaW50c187cmV0dXJuIGU9PT10WzBdP3RbMl06ZT09PXRbMV0/dFswXTplPT09dFsyXT90WzFdOm51bGx9LG8ucHJvdG90eXBlLnBvaW50Q0NXPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucG9pbnRzXztyZXR1cm4gZT09PXRbMF0/dFsxXTplPT09dFsxXT90WzJdOmU9PT10WzJdP3RbMF06bnVsbH0sby5wcm90b3R5cGUubmVpZ2hib3JDVz1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXRoaXMucG9pbnRzX1swXT90aGlzLm5laWdoYm9yc19bMV06ZT09PXRoaXMucG9pbnRzX1sxXT90aGlzLm5laWdoYm9yc19bMl06dGhpcy5uZWlnaGJvcnNfWzBdfSxvLnByb3RvdHlwZS5uZWlnaGJvckNDVz1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXRoaXMucG9pbnRzX1swXT90aGlzLm5laWdoYm9yc19bMl06ZT09PXRoaXMucG9pbnRzX1sxXT90aGlzLm5laWdoYm9yc19bMF06dGhpcy5uZWlnaGJvcnNfWzFdfSxvLnByb3RvdHlwZS5nZXRDb25zdHJhaW5lZEVkZ2VDVz1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXRoaXMucG9pbnRzX1swXT90aGlzLmNvbnN0cmFpbmVkX2VkZ2VbMV06ZT09PXRoaXMucG9pbnRzX1sxXT90aGlzLmNvbnN0cmFpbmVkX2VkZ2VbMl06dGhpcy5jb25zdHJhaW5lZF9lZGdlWzBdfSxvLnByb3RvdHlwZS5nZXRDb25zdHJhaW5lZEVkZ2VDQ1c9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10aGlzLnBvaW50c19bMF0/dGhpcy5jb25zdHJhaW5lZF9lZGdlWzJdOmU9PT10aGlzLnBvaW50c19bMV0/dGhpcy5jb25zdHJhaW5lZF9lZGdlWzBdOnRoaXMuY29uc3RyYWluZWRfZWRnZVsxXX0sby5wcm90b3R5cGUuZ2V0Q29uc3RyYWluZWRFZGdlQWNyb3NzPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dGhpcy5wb2ludHNfWzBdP3RoaXMuY29uc3RyYWluZWRfZWRnZVswXTplPT09dGhpcy5wb2ludHNfWzFdP3RoaXMuY29uc3RyYWluZWRfZWRnZVsxXTp0aGlzLmNvbnN0cmFpbmVkX2VkZ2VbMl19LG8ucHJvdG90eXBlLnNldENvbnN0cmFpbmVkRWRnZUNXPWZ1bmN0aW9uKGUsdCl7ZT09PXRoaXMucG9pbnRzX1swXT90aGlzLmNvbnN0cmFpbmVkX2VkZ2VbMV09dDplPT09dGhpcy5wb2ludHNfWzFdP3RoaXMuY29uc3RyYWluZWRfZWRnZVsyXT10OnRoaXMuY29uc3RyYWluZWRfZWRnZVswXT10fSxvLnByb3RvdHlwZS5zZXRDb25zdHJhaW5lZEVkZ2VDQ1c9ZnVuY3Rpb24oZSx0KXtlPT09dGhpcy5wb2ludHNfWzBdP3RoaXMuY29uc3RyYWluZWRfZWRnZVsyXT10OmU9PT10aGlzLnBvaW50c19bMV0/dGhpcy5jb25zdHJhaW5lZF9lZGdlWzBdPXQ6dGhpcy5jb25zdHJhaW5lZF9lZGdlWzFdPXR9LG8ucHJvdG90eXBlLmdldERlbGF1bmF5RWRnZUNXPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dGhpcy5wb2ludHNfWzBdP3RoaXMuZGVsYXVuYXlfZWRnZVsxXTplPT09dGhpcy5wb2ludHNfWzFdP3RoaXMuZGVsYXVuYXlfZWRnZVsyXTp0aGlzLmRlbGF1bmF5X2VkZ2VbMF19LG8ucHJvdG90eXBlLmdldERlbGF1bmF5RWRnZUNDVz1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXRoaXMucG9pbnRzX1swXT90aGlzLmRlbGF1bmF5X2VkZ2VbMl06ZT09PXRoaXMucG9pbnRzX1sxXT90aGlzLmRlbGF1bmF5X2VkZ2VbMF06dGhpcy5kZWxhdW5heV9lZGdlWzFdfSxvLnByb3RvdHlwZS5zZXREZWxhdW5heUVkZ2VDVz1mdW5jdGlvbihlLHQpe2U9PT10aGlzLnBvaW50c19bMF0/dGhpcy5kZWxhdW5heV9lZGdlWzFdPXQ6ZT09PXRoaXMucG9pbnRzX1sxXT90aGlzLmRlbGF1bmF5X2VkZ2VbMl09dDp0aGlzLmRlbGF1bmF5X2VkZ2VbMF09dH0sby5wcm90b3R5cGUuc2V0RGVsYXVuYXlFZGdlQ0NXPWZ1bmN0aW9uKGUsdCl7ZT09PXRoaXMucG9pbnRzX1swXT90aGlzLmRlbGF1bmF5X2VkZ2VbMl09dDplPT09dGhpcy5wb2ludHNfWzFdP3RoaXMuZGVsYXVuYXlfZWRnZVswXT10OnRoaXMuZGVsYXVuYXlfZWRnZVsxXT10fSxvLnByb3RvdHlwZS5uZWlnaGJvckFjcm9zcz1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXRoaXMucG9pbnRzX1swXT90aGlzLm5laWdoYm9yc19bMF06ZT09PXRoaXMucG9pbnRzX1sxXT90aGlzLm5laWdoYm9yc19bMV06dGhpcy5uZWlnaGJvcnNfWzJdfSxvLnByb3RvdHlwZS5vcHBvc2l0ZVBvaW50PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5wb2ludENXKHQpO3JldHVybiB0aGlzLnBvaW50Q1cocil9LG8ucHJvdG90eXBlLmxlZ2FsaXplPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5wb2ludHNfO2lmKGU9PT1yWzBdKXJbMV09clswXSxyWzBdPXJbMl0sclsyXT10O2Vsc2UgaWYoZT09PXJbMV0pclsyXT1yWzFdLHJbMV09clswXSxyWzBdPXQ7ZWxzZXtpZihlIT09clsyXSl0aHJvdyBuZXcgRXJyb3IoXCJwb2x5MnRyaSBJbnZhbGlkIFRyaWFuZ2xlLmxlZ2FsaXplKCkgY2FsbFwiKTtyWzBdPXJbMl0sclsyXT1yWzFdLHJbMV09dH19LG8ucHJvdG90eXBlLmluZGV4PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucG9pbnRzXztpZihlPT09dFswXSlyZXR1cm4gMDtpZihlPT09dFsxXSlyZXR1cm4gMTtpZihlPT09dFsyXSlyZXR1cm4gMjt0aHJvdyBuZXcgRXJyb3IoXCJwb2x5MnRyaSBJbnZhbGlkIFRyaWFuZ2xlLmluZGV4KCkgY2FsbFwiKX0sby5wcm90b3R5cGUuZWRnZUluZGV4PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5wb2ludHNfO2lmKGU9PT1yWzBdKXtpZih0PT09clsxXSlyZXR1cm4gMjtpZih0PT09clsyXSlyZXR1cm4gMX1lbHNlIGlmKGU9PT1yWzFdKXtpZih0PT09clsyXSlyZXR1cm4gMDtpZih0PT09clswXSlyZXR1cm4gMn1lbHNlIGlmKGU9PT1yWzJdKXtpZih0PT09clswXSlyZXR1cm4gMTtpZih0PT09clsxXSlyZXR1cm4gMH1yZXR1cm4tMX0sby5wcm90b3R5cGUubWFya0NvbnN0cmFpbmVkRWRnZUJ5SW5kZXg9ZnVuY3Rpb24oZSl7dGhpcy5jb25zdHJhaW5lZF9lZGdlW2VdPSEwfSxvLnByb3RvdHlwZS5tYXJrQ29uc3RyYWluZWRFZGdlQnlFZGdlPWZ1bmN0aW9uKGUpe3RoaXMubWFya0NvbnN0cmFpbmVkRWRnZUJ5UG9pbnRzKGUucCxlLnEpfSxvLnByb3RvdHlwZS5tYXJrQ29uc3RyYWluZWRFZGdlQnlQb2ludHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLnBvaW50c187dD09PXJbMF0mJmU9PT1yWzFdfHx0PT09clsxXSYmZT09PXJbMF0/dGhpcy5jb25zdHJhaW5lZF9lZGdlWzJdPSEwOnQ9PT1yWzBdJiZlPT09clsyXXx8dD09PXJbMl0mJmU9PT1yWzBdP3RoaXMuY29uc3RyYWluZWRfZWRnZVsxXT0hMDoodD09PXJbMV0mJmU9PT1yWzJdfHx0PT09clsyXSYmZT09PXJbMV0pJiYodGhpcy5jb25zdHJhaW5lZF9lZGdlWzBdPSEwKX0sdC5leHBvcnRzPW99LHtcIi4veHlcIjoxMX1dLDEwOltmdW5jdGlvbihlLHQscil7dmFyIG89MWUtMTY7ci5FUFNJTE9OPW87dmFyIGk9e0NXOjEsQ0NXOi0xLENPTExJTkVBUjowfTtyLk9yaWVudGF0aW9uPWksci5vcmllbnQyZD1mdW5jdGlvbihlLHQscil7dmFyIG49KGUueC1yLngpKih0Lnktci55KS0oZS55LXIueSkqKHQueC1yLngpO3JldHVybiBuPi0xZS0xNiYmbjxvP2kuQ09MTElORUFSOm4+MD9pLkNDVzppLkNXfSxyLmluU2NhbkFyZWE9ZnVuY3Rpb24oZSx0LHIsaSl7cmV0dXJuISgoZS54LXQueCkqKGkueS10LnkpLShpLngtdC54KSooZS55LXQueSk+PS0xZS0xNnx8KGUueC1yLngpKihpLnktci55KS0oaS54LXIueCkqKGUueS1yLnkpPD1vKX0sci5pc0FuZ2xlT2J0dXNlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz10LngtZS54LGk9dC55LWUueTtyZXR1cm4gbyooci54LWUueCkraSooci55LWUueSk8MH19LHt9XSwxMTpbZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG8oZSl7cmV0dXJuXCIoXCIrZS54K1wiO1wiK2UueStcIilcIn10LmV4cG9ydHM9e3RvU3RyaW5nOmZ1bmN0aW9uKGUpe3ZhciB0PWUudG9TdHJpbmcoKTtyZXR1cm5cIltvYmplY3QgT2JqZWN0XVwiPT09dD9vKGUpOnR9LHRvU3RyaW5nQmFzZTpvLGNvbXBhcmU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS55PT09dC55P2UueC10Lng6ZS55LXQueX0sZXF1YWxzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUueD09PXQueCYmZS55PT09dC55fX19LHt9XX0se30sWzZdKSg2KX0sXCJvYmplY3RcIj09dHlwZW9mIHM/YS5leHBvcnRzPW4oKTp2b2lkIDA9PT0oaT1cImZ1bmN0aW9uXCI9PXR5cGVvZihvPW4pP28uY2FsbCh0LHIsdCxlKTpvKXx8KGUuZXhwb3J0cz1pKTt2YXIgYz1hLmV4cG9ydHM7dC5wb2x5MnRyaT1jfSw1ODU2OihlLHQpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7ZnVuY3Rpb24gcihlLHQscixvLGksbil7aVswXT1uLmI9b1swXSxpWzFdPW4uYT0tdCpuLmIrb1sxXTtmb3IodmFyIHM9MjtzPGU7cysrKWlbc109LSh0Km4uYStyKm4uYikrb1tzXSxuLmI9bi5hLG4uYT1pW3NdfWZ1bmN0aW9uIG8oZSx0LG8saSxuLHMsYSxjLHUpe3ZhciBsPW5ldyBPYmplY3QsaD0zO3JldHVybiBsLmI9bC5hPTAscih0LGEsYyxzLHUsbCksbi5jPWwuYSxuLmQ9bC5iLE1hdGguYWJzKG4uYyk8PTEwMCplKk1hdGguYWJzKHNbdC0xXSkmJk1hdGguYWJzKG4uZCk8PTEwMCplKk1hdGguYWJzKHNbdC0yXSl8fChuLmg9YyppLE1hdGguYWJzKG4uZCk+PU1hdGguYWJzKG4uYyk/KGg9MixuLmU9by9uLmQsbi5mPW4uYy9uLmQsbi5nPWEqaSxuLmEzPW4uZSoobi5nK28pK24uaCooaS9uLmQpLG4uYTE9LW8rbi5mKmksbi5hNz1uLmgrKG4uZithKSpvKTooaD0xLG4uZT1vL24uYyxuLmY9bi5kL24uYyxuLmc9bi5lKmEsbi5hMz1uLmUqbysobi5nK24uaC9uLmMpKmksbi5hMT0tbyoobi5kL24uYykraSxuLmE3PW4uZypuLmQrbi5oKm4uZitvKSksaH1mdW5jdGlvbiBpKGUsdCxyLG8saSxuLHMsYSxjKXt2YXIgdTtpZigzIT1yKWlmKHU9MT09cj9pOm8sTWF0aC5hYnMobi5hMSk+MTAqZSpNYXRoLmFicyh1KSl7bi5hNy89bi5hMSxuLmEzLz1uLmExLHNbMF09Y1swXSxzWzFdPS1jWzBdKm4uYTcrY1sxXTtmb3IobD0yO2w8dDtsKyspc1tsXT0tY1tsLTFdKm4uYTcrYVtsLTJdKm4uYTMrY1tsXX1lbHNle3NbMF09MCxzWzFdPS1jWzBdKm4uYTc7Zm9yKGw9MjtsPHQ7bCsrKXNbbF09LWNbbC0xXSpuLmE3K2FbbC0yXSpuLmEzfWVsc2V7c1sxXT1zWzBdPTA7Zm9yKHZhciBsPTI7bDx0O2wrKylzW2xdPWFbbC0yXX19ZnVuY3Rpb24gbihlLHQscixvLGksbixzLGEsYyx1LGwsaCxkLHAsZyxmLHYpe3ZhciBfLHksbSxFLHgsUixBLFA7dC5iPXQuYT0wLDMhPWUmJigyIT1lPyhfPXIrZCpzK2gqdSx5PWErKGQrcCp1KSpjKTooXz0ocitsKSp1K2gseT0odStkKSphK3AqYyksMCE9KFA9LShBPS0oKHg9KG09LWdbZi0xXS92W2ZdKSpuKSsoUj1tKm0qaSkpK3AqKEU9LShnW2YtMl0rbSp2W2YtMV0pL3ZbZl0pKm8pK3krbSpfKSYmKHQuYT0tKGQqKFIreCkrcCoobSpvK0UqbikpL1ArZCx0LmI9cCooMStBL1ApKSl9ZnVuY3Rpb24gcyhlLHQscixvKXt2YXIgaSxuLHM7by5zcj1vLnNpPW8ubHI9by5saT0wLDAhPWU/MCE9cj8oaT10LzIsTWF0aC5hYnMoaSk8TWF0aC5hYnMocik/KHM9LShzPXI+PTA/ZTotZSkraSooaS9NYXRoLmFicyhyKSksbj1NYXRoLnNxcnQoTWF0aC5hYnMocykpKk1hdGguc3FydChNYXRoLmFicyhyKSkpOihzPS1lL2kqKHIvaSkrMSxuPU1hdGguc3FydChNYXRoLmFicyhzKSkqTWF0aC5hYnMoaSkpLHM+PTA/KG49aT49MD8tbjpuLG8ubHI9KC1pK24pL2Usby5zcj0wIT1vLmxyP3Ivby5sci9lOm8uc3IpOihvLmxyPW8uc3I9LWkvZSxvLnNpPU1hdGguYWJzKG4vZSksby5saT0tby5zaSkpOm8ubHI9LXQvZTpvLnNyPTAhPXQ/LXIvdDpvLnNyfWZ1bmN0aW9uIGEoZSx0LGEsYyx1LGwsaCxkLHAsZyxmLHYpe3ZhciBfLHksbSxFLHgsUixBLFAsVixULGIsQz1uZXcgT2JqZWN0LE89MCxMPTA7YS5OWj0wLFI9YyxQPXU7ZG97aWYoQy5saT1DLmxyPUMuc2k9Qy5zcj0wLHMoMSxSLFAsQyksYS5zenI9Qy5zcixhLnN6aT1DLnNpLGEubHpyPUMubHIsYS5semk9Qy5saSxNYXRoLmFicyhNYXRoLmFicyhhLnN6ciktTWF0aC5hYnMoYS5senIpKT4uMDEqTWF0aC5hYnMoYS5senIpKWJyZWFrO2ZvcihyKGgsUixQLHAsbCxkKSx5PU1hdGguYWJzKC1hLnN6cipkLmIrZC5hKStNYXRoLmFicyhhLnN6aSpkLmIpLFQ9TWF0aC5zcXJ0KE1hdGguYWJzKFApKSxfPTIqTWF0aC5hYnMobFswXSkseD0tYS5zenIqZC5iLGI9MTtiPHQ7YisrKV89XypUK01hdGguYWJzKGxbYl0pO2lmKHk8PTIwKihfPSg5KihfPV8qVCtNYXRoLmFicyh4K2QuYSkpKzIqTWF0aC5hYnMoeCktNyooTWF0aC5hYnMoZC5hK3gpK1QqTWF0aC5hYnMoZC5iKSkpKmUpKXthLk5aPTI7YnJlYWt9aWYoKytPPjIwKWJyZWFrO2lmKE8+PTImJkU8PS4wMSYmeT49bSYmIUwpe2ZvcihyKGgsUi09UiooRT1FPGU/TWF0aC5zcXJ0KGUpOk1hdGguc3FydChFKSksUCs9UCpFLHAsbCxkKSxiPTA7Yjw1O2IrKylpKGUsdCxvKGUsdCxkLmEsZC5iLGYsdixSLFAsZyksZC5hLGQuYixmLHYsZyxsKTtMPTEsTz0wfW09eSxpKGUsdCxvKGUsdCxkLmEsZC5iLGYsdixSLFAsZyksZC5hLGQuYixmLHYsZyxsKSxuKG8oZSx0LGQuYSxkLmIsZix2LFIsUCxnKSxkLGQuYSxmLmExLGYuYTMsZi5hNyxkLmIsZi5jLGYuZCxmLmYsZi5nLGYuaCxSLFAsdix0LHApLEE9ZC5hLDAhPShWPWQuYikmJihFPU1hdGguYWJzKCgtUCtWKS9WKSxSPUEsUD1WKX13aGlsZSgwIT1WKX1mdW5jdGlvbiBjKGUsdCxyLG8saSxuLHMsYSxjKXt2YXIgdSxsLGgsZCxwLGcsZix2LF8seSxtLEU9by0xO2Zvcih0Lk5aPW09Xz0wLGY9ci5hOzspe2ZvcihzWzBdPWc9aVswXSx5PTE7eTxuO3krKylzW3ldPWc9ZypmK2lbeV07Zm9yKGg9TWF0aC5hYnMoZyksZD1NYXRoLmFicyhmKSx1PS41Kk1hdGguYWJzKHNbMF0pLHk9MTt5PG47eSsrKXU9dSpkK01hdGguYWJzKHNbeV0pO2lmKGg8PTIwKmUqKDIqdS1oKSl7dC5OWj0xLHQuc3pyPWYsdC5zemk9MDticmVha31pZigrK20+MTApYnJlYWs7aWYobT49MiYmTWF0aC5hYnModik8PS4wMDEqTWF0aC5hYnMoLXYrZikmJmg+cCl7Xz0xLHQuYT1mO2JyZWFrfWZvcihwPWgsY1swXT1sPWFbMF0seT0xO3k8bzt5KyspY1t5XT1sPWwqZithW3ldO2lmKE1hdGguYWJzKGwpPjEwKk1hdGguYWJzKGFbRV0pKmUpZm9yKHY9LWcvbCxhWzBdPXNbMF0seT0xO3k8bzt5KyspYVt5XT12KmNbeS0xXStzW3ldO2Vsc2UgZm9yKGFbMF09MCx5PTE7eTxvO3krKylhW3ldPWNbeS0xXTtmb3IobD1hWzBdLHk9MTt5PG87eSsrKWw9bCpmK2FbeV07Zis9dj1NYXRoLmFicyhsKT4xMCpNYXRoLmFicyhhW0VdKSplPy1nL2w6MH1yZXR1cm4gX31mdW5jdGlvbiB1KGUsdCxzLHUsbCxoLGQscCxnLGYsdil7dmFyIF8seSxtLEUseCxSLEEsUCxWLFQsYixDLE8sTCxTLE0sdyxOLEYsSSxELGosQixVLGssRyx6LFksSz1uZXcgT2JqZWN0LHE9bmV3IE9iamVjdCxXPW5ldyBBcnJheSh0KSxIPW5ldyBBcnJheSh0KTtmb3Iodi5OWj0wLEU9bT0uMjUsUz0tMip1LHg9dSxQPXc9bCxxLmg9cS5nPXEuZj1xLmU9cS5kPXEuYz1xLmE3PXEuYTM9cS5hMT1LLmI9Sy5hPTAscihnLFMsdyxwLGYsSyksRz1vKGUsZCxfPUsuYSx5PUsuYixxLGgsUyx3LFcpLEI9MDtCPHM7QisrKXtpZihpKGUsZCxHLF8seSxxLGgsVyxmKSxuKEc9byhlLGQsXyx5LHEsaCxTLHcsVyksSyxfLHEuYTEscS5hMyxxLmE3LHkscS5jLHEuZCxxLmYscS5nLHEuaCxTLHcsaCxkLHApLE09Sy5hLEY9Tj1LLmIsVD0wIT1oW2QtMV0/LXBbZF0vaFtkLTFdOjAsYj1PPTEsMCE9QiYmMyE9RyYmKHo9KEw9KE89MCE9Rj9NYXRoLmFicygoRi1QKS9GKTpPKTxBP08qQToxKTxFPzE6MCwoVT0oQz0oYj0wIT1UP01hdGguYWJzKChULXgpL1QpOmIpPFI/YipSOjEpPG0/MTowKXx8eikpe2ZvcihEPTA7RDxkO0QrKylIW0RdPWhbRF07Vj1ULGs9WT0wLEk9MTtkb3tpZihqPTEsSSYmMD09KEk9MCkmJlUmJighenx8QzxMKSk7ZWxzZXtpZihhKGUsZCx2LE0sTixmLGcsSyxwLFcscSxoKSxfPUsuYSx5PUsuYix2Lk5aPjApcmV0dXJuO2lmKFk9MSxFKj0uMjUsa3x8IVUpaj0wO2Vsc2UgZm9yKEQ9MDtEPGQ7RCsrKWhbRF09SFtEXX1pZigwIT1qKXtpZihLLmE9VixqPWMoZSx2LEssZCxwLGcsZixoLFcpLFY9Sy5hLHYuTlo+MClyZXR1cm47aWYoaz0xLG0qPS4yNSwwIT1qKXtNPS0oVitWKSxOPVYqVjtjb250aW51ZX19Zm9yKEQ9MDtEPGQ7RCsrKWhbRF09SFtEXX13aGlsZSh6JiYhWSk7cihnLFMsdyxwLGYsSyksRz1vKGUsZCxfPUsuYSx5PUsuYixxLGgsUyx3LFcpfVA9Rix4PVQsQT1PLFI9Yn19dC5nZXRSZWFsUG9seW5vbWlhbFJvb3RzPWZ1bmN0aW9uKGUpe3ZhciB0PXtEZWdyZWU6ZS5sZW5ndGgtMX0scj1uZXcgQXJyYXkoZS5sZW5ndGgpLG89bmV3IEFycmF5KGUubGVuZ3RoKTshZnVuY3Rpb24oZSx0LHIsbyl7dmFyIGksbixhLGMsbCxoLGQscCxnLGYsdixfLHksbSxFLHgsUixBLFAsVixULGIsQz1lLkRlZ3JlZSxPPS4wMTc0NTMyOTI1MTk5NDMyOTUsTD0xMTc1NDk0MzUwODIyMjllLTUyLFM9MzQwMjgyMzQ2NjM4NTI5ZTI0LE09TWF0aC5MTjIsdz1lLkRlZ3JlZSsxLE49bmV3IEFycmF5KHcpLEY9bmV3IEFycmF5KHcpLEk9bmV3IEFycmF5KHcpLEQ9bmV3IEFycmF5KHcpLGo9bmV3IE9iamVjdCxCPW5ldyBPYmplY3Q7Xz0xO2Rve249Xyx5PTErKF8vPTIpfXdoaWxlKHk+MSk7dmFyIFU9TC9uLGs9TWF0aC5jb3MoOTQqTyksRz1NYXRoLnNpbig5NCpPKSx6PU1hdGguc3FydCguNSksWT0tejtmb3IoQi5OWj1SPTAsQi5zenI9Qi5zemk9Qi5senI9Qi5semk9MDswPT10W0NdOylyW1JdPW9bUl09MCxDLS0sUisrO2ZvcihUPUMrMTtDPj0xOyl7aWYoQzw9Mil7QzwyPyhyW2UuRGVncmVlLTFdPS10WzFdL3RbMF0sb1tlLkRlZ3JlZS0xXT0wKTooai5saT1qLmxyPWouc2k9ai5zcj0wLHModFswXSx0WzFdLHRbMl0saikscltlLkRlZ3JlZS0yXT1qLnNyLG9bZS5EZWdyZWUtMl09ai5zaSxyW2UuRGVncmVlLTFdPWoubHIsb1tlLkRlZ3JlZS0xXT1qLmxpKTticmVha31mb3IoZD0wLHA9UyxLPTA7SzxUO0srKykoZj1NYXRoLmFicyh0W0tdKSk+ZCYmKGQ9ZiksMCE9ZiYmZjxwJiYocD1mKTtpZigoKGc9VS9wKTw9MSYmZD49MTB8fGc+MSYmUy9nPj1kKSYmKGc9MD09Zz9MOmcsUD1NYXRoLmZsb29yKE1hdGgubG9nKGcpL00rLjUpLDEhPShsPU1hdGgucG93KDIsUCkpKSlmb3IoSz0wO0s8VDtLKyspdFtLXSo9bDtmb3IodmFyIEs9MDtLPFQ7SysrKUZbS109TWF0aC5hYnModFtLXSk7RltDXT0tRltDXSxWPUMtMSxmPU1hdGguZXhwKChNYXRoLmxvZygtRltDXSktTWF0aC5sb2coRlswXSkpL0MpLDAhPUZbVl0mJihmPSh2PS1GW0NdL0ZbVl0pPGY/djpmKSx2PWY7ZG97Zm9yKHY9LjEqKGY9diksaD1GWzBdLEs9MTtLPFQ7SysrKWg9aCp2K0ZbS119d2hpbGUoaD4wKTtmb3IoYz1mO01hdGguYWJzKGMvZik+LjAwNTspe2ZvcihhPWg9RlswXSxLPTE7SzxDO0srKylhPWYqYSsoaD1mKmgrRltLXSk7Zi09Yz0oaD1mKmgrRltDXSkvYX1mb3IoaT1mLEs9MTtLPEM7SysrKU5bS109KEMtSykqdFtLXS9DO2ZvcihOWzBdPXRbMF0sXz10W0NdLHk9dFtWXSxiPTA9PU5bVl0/MTowLEE9MDtBPDU7QSsrKWlmKG09TltWXSxiKXtmb3IoSz0wO0s8VjtLKyspTltSPVYtS109TltSLTFdO05bMF09MCxiPTA9PU5bVl0/MTowfWVsc2V7Zm9yKEU9LV8vbSxLPTA7SzxWO0srKylOW1I9Vi1LXT1FKk5bUi0xXSt0W1JdO05bMF09dFswXSxiPU1hdGguYWJzKE5bVl0pPD1NYXRoLmFicyh5KSpuKjEwPzE6MH1mb3IoSz0wO0s8QztLKyspRFtLXT1OW0tdO2ZvcihBPTE7QTw9MjA7QSsrKXtpZih4PS1HKlkrayp6LFk9Ryp6K2sqWSx1KG4sdywyMCpBLGkqKHo9eCksaSxOLEMsdCxULEksQiksMCE9Qi5OWil7Zm9yKHJbUj1lLkRlZ3JlZS1DXT1CLnN6cixvW1JdPUIuc3ppLEM9KFQtPUIuTlopLTEsSz0wO0s8VDtLKyspdFtLXT1JW0tdOzEhPUIuTlomJihyW1IrMV09Qi5senIsb1tSKzFdPUIubHppKTticmVha31mb3IoSz0wO0s8QztLKyspTltLXT1EW0tdfWlmKEE+MjApe2UuRGVncmVlLT1DO2JyZWFrfX19KHQsZSxyLG8pO2Zvcih2YXIgaT1bXSxuPWUubGVuZ3RoLXQuRGVncmVlLTE7bjxlLmxlbmd0aDtuKyspTWF0aC5hYnMob1tuXSk8MWUtOCYmaS5wdXNoKHJbbl0pO3JldHVybiBpfX0sMjUzNjooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Ub3BvbG9neUNsb25lcj12b2lkIDA7dmFyIG89cig2OTQwKSxpPXIoNzU4MCksbj1yKDY3Mikscz1yKDQ1MjQpLGE9cig2Nzc2KSxjPXIoNjUwOCksdT1yKDU4MzcpLGw9cig5OTg0KSxoPXIoMjIwOCksZD1mdW5jdGlvbigpe3RoaXMuX2VkZ2VNYXA9e30sdGhpcy5fdmVydGV4TWFwPXt9LHRoaXMuX2NvZWRnZU1hcD17fSx0aGlzLl9wcm9nZW5pdG9yTWFwPW5ldyBoLlByb2dlbml0b3JNYXB9O2QucHJvdG90eXBlLmNsb25lVmVydGV4PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3ZlcnRleE1hcFtlLmdldEd1aWQoKV07cmV0dXJuIHR8fCh0PW5ldyBvLlZlcnRleChlLmdldFBvaW50KCkuY2xvbmUoKSksdGhpcy5fdmVydGV4TWFwW2UuZ2V0R3VpZCgpXT10LHQuc2V0UHJlY2lzaW9uKGUuZ2V0UHJlY2lzaW9uKCkpLHRoaXMuX3Byb2dlbml0b3JNYXAuYWRkRW50cnkodCxbZV0pKSx0fSxkLnByb3RvdHlwZS5jbG9uZUVkZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZWRnZU1hcFtlLmdldEd1aWQoKV07cmV0dXJuIHR8fCh0PW5ldyBpLkVkZ2UoZS5nZXRDdXJ2ZSgpLmNsb25lKCkpLHRoaXMuX2VkZ2VNYXBbZS5nZXRHdWlkKCldPXQsdC5zZXRSZXZlcnNlZChlLmlzUmV2ZXJzZWQoKSksdC5zZXRSYW5nZShlLmdldFJhbmdlKCkpLHQuc2V0U3RhcnRWZXJ0ZXgodGhpcy5jbG9uZVZlcnRleChlLmdldFN0YXJ0VmVydGV4KCkpKSx0LnNldEVuZFZlcnRleCh0aGlzLmNsb25lVmVydGV4KGUuZ2V0RW5kVmVydGV4KCkpKSx0LnNldFByZWNpc2lvbihlLmdldFByZWNpc2lvbigpKSx0aGlzLl9wcm9nZW5pdG9yTWFwLmFkZEVudHJ5KHQsW2VdKSksdH0sZC5wcm90b3R5cGUuY2xvbmVDb2VkZ2U9ZnVuY3Rpb24oZSl7dmFyIHQscixvPW5ldyBuLkNvZWRnZTt0aGlzLl9jb2VkZ2VNYXBbZS5nZXRHdWlkKCldPW8sby5zZXRSZXZlcnNlZChlLmlzUmV2ZXJzZWQoKSksby5zZXRFZGdlKHRoaXMuY2xvbmVFZGdlKGUuZ2V0RWRnZSgpKSksby5nZXRFZGdlKCkuc2V0Q29lZGdlKG8pO2Zvcih2YXIgaT1lLmdldFBhcnRuZXIoKTtpOyl7dmFyIHM9dGhpcy5fY29lZGdlTWFwW2kuZ2V0R3VpZCgpXTtzJiYodHx8KHQ9cykscj1zLGUuZ2V0RWRnZSgpLmdldENvZWRnZSgpPT09aSYmby5nZXRFZGdlKCkuc2V0Q29lZGdlKHMpKSwoaT1pLmdldFBhcnRuZXIoKSk9PT1lJiYoaT12b2lkIDApfXJldHVybiB0JiZyJiYoby5zZXRQYXJ0bmVyKHQpLHIuc2V0UGFydG5lcihvKSksdGhpcy5fcHJvZ2VuaXRvck1hcC5hZGRFbnRyeShvLFtlXSksb30sZC5wcm90b3R5cGUuY2xvbmVMb29wPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1uZXcgcy5Mb29wLHI9ZS5nZXRDb2VkZ2VzKCksbz1uZXcgQXJyYXkoci5sZW5ndGgpLGk9MDtpPHIubGVuZ3RoOysraSlvW2ldPXRoaXMuY2xvbmVDb2VkZ2UocltpXSk7cmV0dXJuIHQuYWRkQ29lZGdlcyhvKSx0aGlzLl9wcm9nZW5pdG9yTWFwLmFkZEVudHJ5KHQsW2VdKSx0fSxkLnByb3RvdHlwZS5jbG9uZUZhY2U9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyBhLkZhY2Uscj1lLmdldExvb3BzKCksbz1uZXcgQXJyYXkoci5sZW5ndGgpLGk9MDtpPHIubGVuZ3RoOysraSlvW2ldPXRoaXMuY2xvbmVMb29wKHJbaV0pO3JldHVybiB0LmFkZExvb3BzKG8pLHQuc2V0U3VyZmFjZShlLmdldFN1cmZhY2UoKS5jbG9uZSgpKSx0LnNldFJldmVyc2VkKGUuaXNSZXZlcnNlZCgpKSx0aGlzLl9wcm9nZW5pdG9yTWFwLmFkZEVudHJ5KHQsW2VdKSx0fSxkLnByb3RvdHlwZS5jbG9uZUZhY2VzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1uZXcgQXJyYXkoZS5sZW5ndGgpLHI9MDtyPGUubGVuZ3RoOysrcil0W3JdPXRoaXMuY2xvbmVGYWNlKGVbcl0pO3JldHVybiB0fSxkLnByb3RvdHlwZS5jbG9uZVNoZWxsPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBjLlNoZWxsO3JldHVybiB0LmFkZEZhY2VzKHRoaXMuY2xvbmVGYWNlcyhlLmdldEZhY2VzKCkpKSx0aGlzLl9wcm9nZW5pdG9yTWFwLmFkZEVudHJ5KHQsW2VdKSx0fSxkLnByb3RvdHlwZS5jbG9uZUx1bXA9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyB1Lkx1bXAscj1lLmdldFNoZWxscygpLG89MDtvPHIubGVuZ3RoOysrbyl0LmFkZFNoZWxsKHRoaXMuY2xvbmVTaGVsbChyW29dKSk7cmV0dXJuIHRoaXMuX3Byb2dlbml0b3JNYXAuYWRkRW50cnkodCxbZV0pLHR9LGQucHJvdG90eXBlLmNsb25lQm9keT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9bmV3IGwuQm9keSxyPWUuZ2V0THVtcHMoKSxvPTA7bzxyLmxlbmd0aDsrK28pdC5hZGRMdW1wKHRoaXMuY2xvbmVMdW1wKHJbb10pKTtyZXR1cm4gdGhpcy5fcHJvZ2VuaXRvck1hcC5hZGRFbnRyeSh0LFtlXSksdH0sZC5wcm90b3R5cGUuZ2V0UHJvZ2VuaXRvck1hcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9nZW5pdG9yTWFwfSx0LlRvcG9sb2d5Q2xvbmVyPWR9LDY0OihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmNyZWF0ZVNoZWxsc0Zyb21GYWNlcz10LmNyZWF0ZVdpcmVzRnJvbUVkZ2VzPXQuY3JlYXRlRWRnZXNGcm9tQ3VydmVzPXQuY3JlYXRlRWRnZUZyb21DdXJ2ZT10LmNyZWF0ZUxvb3BGcm9tUG9seWxpbmU9dC5jcmVhdGVGYWNlRnJvbVBvbHlsaW5lPXQubWFrZUNvbmVPckN5bGluZGVyVlBhcmFtTG9vcD10LmNyZWF0ZUNvZWRnZU9uRWRnZT10LmNyZWF0ZUxpbmVFZGdlPXQuY3JlYXRlTGluZUVkZ2VCZXR3ZWVuVmVydGljZXM9dm9pZCAwO3ZhciBvPXIoMTk3MiksaT1yKDI0NjgpLG49cig0NzI4KSxzPXIoMzU2NSksYT1yKDEwOTYpLGM9cig4MjkyKSx1PXIoNjcyKSxsPXIoNjk0MCksaD1yKDY1MDgpLGQ9cig3NTgwKSxwPXIoNDUyNCksZz1yKDY3NzYpLGY9cig3NTc1KSx2PXIoNTg5NiksXz1yKDc2MTYpLHk9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmdldFBvc2l0aW9uKCksaT10LmdldFBvc2l0aW9uKCksbj1uZXcgYS5MaW5lO24uc2V0RnJvbUVuZHBvaW50cyhyLGkpO3ZhciBzPW5ldyBkLkVkZ2Uobik7cmV0dXJuIHMuc2V0UmFuZ2UoWzAsby5WZWN0b3IzLmRpc3RhbmNlKHIsaSldKSxzLnNldFN0YXJ0VmVydGV4KGUpLHMuc2V0RW5kVmVydGV4KHQpLHN9LG09ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHUuQ29lZGdlO3Quc2V0RWRnZShlKTt2YXIgcj1lLmdldENvZWRnZSgpO3JldHVybiByPyhuLkNvbnNvbGVVdGlscy5hc3NlcnQoIXIuZ2V0UGFydG5lcigpKSxyLnNldFBhcnRuZXIodCksdC5zZXRQYXJ0bmVyKHIpLHQuc2V0UmV2ZXJzZWQoIXIuaXNSZXZlcnNlZCgpKSk6ZS5zZXRDb2VkZ2UodCksdH07dmFyIEU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubGVuZ3RoLHI9bmV3IEFycmF5KHQpLG89MDtvPHQ7KytvKXJbb109bmV3IGwuVmVydGV4KG5ldyBzLlBvaW50KGVbb10pKTt2YXIgaT1uZXcgQXJyYXkodCk7Zm9yKG89MDtvPHQ7KytvKXt2YXIgbj0obysxKSV0LGE9eShyW29dLHJbbl0pO2lbb109bShhKX12YXIgYz1uZXcgcC5Mb29wO3JldHVybiBjLmFkZENvZWRnZXMoaSksY30seD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgZC5FZGdlKGUpLHI9ZS5nZXRSYW5nZSgpO3JbMF0hPT0tMS8wJiZyWzFdIT09MS8wPyh0LnNldHQwKHJbMF0pLHQuc2V0dDEoclsxXSkpOih0LnNldHQwKDApLHQuc2V0dDEoMSkpO3ZhciBvPXQuZXZhbHVhdGVQb3NpdGlvbih0LnQwKCkpO2lmKHQuc2V0U3RhcnRWZXJ0ZXgobmV3IGwuVmVydGV4KG5ldyBzLlBvaW50KG8pKSksZS5pc0Nsb3NlZCgpKXQuc2V0RW5kVmVydGV4KHQuZ2V0U3RhcnRWZXJ0ZXgoKSk7ZWxzZXt2YXIgaT10LmV2YWx1YXRlUG9zaXRpb24odC50MSgpKTt0LnNldEVuZFZlcnRleChuZXcgbC5WZXJ0ZXgobmV3IHMuUG9pbnQoaSkpKX1yZXR1cm4gdH07dC5jcmVhdGVMaW5lRWRnZUJldHdlZW5WZXJ0aWNlcz15LHQuY3JlYXRlTGluZUVkZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgbC5WZXJ0ZXgobmV3IHMuUG9pbnQoZSkpLG89bmV3IGwuVmVydGV4KG5ldyBzLlBvaW50KHQpKTtyZXR1cm4geShyLG8pfSx0LmNyZWF0ZUNvZWRnZU9uRWRnZT1tLHQubWFrZUNvbmVPckN5bGluZGVyVlBhcmFtTG9vcD1mdW5jdGlvbihlLHQpe24uQ29uc29sZVV0aWxzLmFzc2VydChlLmdldEdlb21ldHJ5VHlwZSgpPT09aS5HRU9NRVRSWV9UWVBFUy5DWUxJTkRFUnx8ZS5nZXRHZW9tZXRyeVR5cGUoKT09PWkuR0VPTUVUUllfVFlQRVMuQ09ORXx8ZS5nZXRHZW9tZXRyeVR5cGUoKT09PWkuR0VPTUVUUllfVFlQRVMuRUxMSVBUSUNBTF9DWUxJTkRFUnx8ZS5nZXRHZW9tZXRyeVR5cGUoKT09PWkuR0VPTUVUUllfVFlQRVMuRUxMSVBUSUNBTF9DT05FKSxuLkNvbnNvbGVVdGlscy5hc3NlcnQoZS5pc1BlcmlvZGljVigpKTt2YXIgcixvPW5ldyBkLkVkZ2UsYT1lLnZQYXJhbUxpbmUodCk7YS5nZXRHZW9tZXRyeVR5cGUoKT09PWkuR0VPTUVUUllfVFlQRVMuUE9JTlQ/cj1hOihyPW5ldyBzLlBvaW50KGEuZXZhbHVhdGVQb3NpdGlvbihhLmdldFJhbmdlKClbMF0pKSxvLnNldEN1cnZlKGEpLG8uc2V0UmFuZ2UoYS5nZXRSYW5nZSgpKSk7dmFyIGM9bmV3IGwuVmVydGV4KHIpO28uc2V0U3RhcnRWZXJ0ZXgoYyksby5zZXRFbmRWZXJ0ZXgoYyk7dmFyIHU9bmV3IHAuTG9vcDtyZXR1cm4gdS5hZGRDb2VkZ2UobShvKSksdX0sdC5jcmVhdGVGYWNlRnJvbVBvbHlsaW5lPWZ1bmN0aW9uKGUpe3ZhciB0PUUoZSkscj0oMCx2LmRlZmluZVBsYW5lVGhyb3VnaFBvaW50cykoZSksbz1uZXcgYy5QbGFuZTtvLnNldChyLm9yaWdpbixyLm5vcm1hbCxyLnVBeGlzKSxvLmxpbWl0UmFuZ2VVKHIudVJhbmdlKSxvLmxpbWl0UmFuZ2VWKHIudlJhbmdlKTt2YXIgaT1uZXcgZy5GYWNlKG8pO3JldHVybiBpLmFkZExvb3AodCksaX0sdC5jcmVhdGVMb29wRnJvbVBvbHlsaW5lPUUsdC5jcmVhdGVFZGdlRnJvbUN1cnZlPXgsdC5jcmVhdGVFZGdlc0Zyb21DdXJ2ZXM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MDtyPGUubGVuZ3RoOysrcil0LnB1c2goeChlW3JdKSk7cmV0dXJuKDAsXy5tZXJnZUNvaW5jaWRlbnRWZXJ0aWNlcykodCksdH0sdC5jcmVhdGVXaXJlc0Zyb21FZGdlcz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9KDAsXy5maW5kQ29ubmVjdGVkRWRnZXMpKGUpLHI9W10sbz0wO288dC5sZW5ndGg7KytvKXt2YXIgaT1uZXcgZi5XaXJlO2kuYWRkRWRnZXModFtvXSksci5wdXNoKGkpfXJldHVybiByfSx0LmNyZWF0ZVNoZWxsc0Zyb21GYWNlcz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9KDAsXy5maW5kQ29ubmVjdGVkRmFjZXMpKGUpLHI9bmV3IEFycmF5KHQubGVuZ3RoKSxvPTA7bzx0Lmxlbmd0aDsrK28pe3ZhciBpPW5ldyBoLlNoZWxsO2kuYWRkRmFjZXModFtvXSkscltvXT1pfXJldHVybiByfX0sNzYyMDooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jcmVhdGVQb2x5aGVkcm9uPXZvaWQgMDt2YXIgbz1yKDk5ODQpLGk9cig1ODM3KSxuPXIoNjc3Nikscz1yKDQ1MjQpLGE9cig2OTQwKSxjPXIoODI5MiksdT1yKDM1NjUpLGw9cig2NCksaD1yKDU4OTYpLGQ9cig0NzI4KSxwPXIoNjEyMCk7ZnVuY3Rpb24gZyhlLHQpe3ZhciByLG89ZS5nZXRDb21tb25FZGdlcyh0KTtkLkNvbnNvbGVVdGlscy5hc3NlcnQoby5sZW5ndGg8PTEpLHI9MD09PW8ubGVuZ3RoPygwLGwuY3JlYXRlTGluZUVkZ2VCZXR3ZWVuVmVydGljZXMpKGUsdCk6b1swXTt2YXIgaT0oMCxsLmNyZWF0ZUNvZWRnZU9uRWRnZSkocik7cmV0dXJuIGQuQ29uc29sZVV0aWxzLmFzc2VydChpLmdldFN0YXJ0VmVydGV4KCk9PT1lKSxkLkNvbnNvbGVVdGlscy5hc3NlcnQoaS5nZXRFbmRWZXJ0ZXgoKT09PXQpLGl9ZnVuY3Rpb24gZihlLHQpe3ZhciByLG89W107Zm9yKHI9MDtyPHQubGVuZ3RoOysrcilvW3JdPWVbdFtyXV07dmFyIGk9KDAsaC5kZWZpbmVQbGFuZVRocm91Z2hQb2ludHMpKG8pO2lmKGkpe3ZhciBuPW5ldyBjLlBsYW5lO3JldHVybiBuLnNldChpLm9yaWdpbixpLm5vcm1hbCxpLnVBeGlzKSxuLmxpbWl0UmFuZ2VVKGkudVJhbmdlKSxuLmxpbWl0UmFuZ2VWKGkudlJhbmdlKSxufXAuRGVidWdVdGlscy53YXJuKFwiRmFjZSBpcyBkZWdlbmVyYXRlXCIpfXQuY3JlYXRlUG9seWhlZHJvbj1mdW5jdGlvbihlLHQpe3ZhciByLGM9W107Zm9yKHI9MDtyPGUubGVuZ3RoOysrcil7dmFyIGg9bmV3IGEuVmVydGV4KG5ldyB1LlBvaW50KGVbcl0pKTtjLnB1c2goaCl9dmFyIHA9W107Zm9yKHI9MDtyPHQubGVuZ3RoOysrcil7dmFyIHY9dFtyXTtkLkNvbnNvbGVVdGlscy5hc3NlcnQodi5sZW5ndGg+PTMpO2Zvcih2YXIgXz1uZXcgcy5Mb29wLHk9W10sbT0wO208di5sZW5ndGg7KyttKXt2YXIgRT12W21dLHg9dlsobSsxKSV2Lmxlbmd0aF07ZC5Db25zb2xlVXRpbHMuYXNzZXJ0KEU+PTAmJkU8ZS5sZW5ndGgpLGQuQ29uc29sZVV0aWxzLmFzc2VydCh4Pj0wJiZ4PGUubGVuZ3RoKTt2YXIgUj1nKGNbRV0sY1t4XSk7eS5wdXNoKFIpfV8uYWRkQ29lZGdlcyh5KTt2YXIgQT1mKGUsdiksUD1uZXcgbi5GYWNlKEEpO1AuYWRkTG9vcChfKSxwLnB1c2goUCl9dmFyIFY9KDAsbC5jcmVhdGVTaGVsbHNGcm9tRmFjZXMpKHApLFQ9W107Zm9yKHI9MDtyPFYubGVuZ3RoOysrcilUW3JdPW5ldyBpLkx1bXAsVFtyXS5hZGRTaGVsbChWW3JdKTt2YXIgYj1uZXcgby5Cb2R5O3JldHVybiBiLmFkZEx1bXBzKFQpLGJ9fSwyNDcyOihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmV4dHJ1ZGVGYWNlPXZvaWQgMDt2YXIgbz1yKDE5NzIpLGk9cigyNDY4KSxuPXIoNDcyOCkscz1yKDgyOTIpLGE9cigzNDQwKSxjPXIoODM2MCksdT1yKDkyKSxsPXIoNDUyNCksaD1yKDY3NzYpLGQ9cig2NTA4KSxwPXIoNTgzNyksZz1yKDk5ODQpLGY9cigyNTM2KSx2PXIoNzYxNiksXz1yKDY0KTtmdW5jdGlvbiB5KGUsdCxyKXt2YXIgbj1vLlZlY3RvcjMubGVuZ3RoKHIpLHM9by5WZWN0b3IzLmRvdChlLmdldEF4aXNEaXIoKSxyKT4wP1swLG5dOlstbiwwXTtlLmxpbWl0UmFuZ2VVKHMpLHRbMV0tdFswXTwyKk1hdGguUEktaS5QQVJBTUVURVJfU1BBQ0VfVE9MRVJBTkNFJiZlLmxpbWl0UmFuZ2VWKHQpfXZhciBtPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5nZXRFZGdlKCkuZ2V0Q3VydmUoKSxuPWUuZ2V0UmFuZ2UoKSxsPSEwO2UuaXNSZXZlcnNlZCgpIT09ZS5nZXRFZGdlKCkuaXNSZXZlcnNlZCgpJiYobj1bLW5bMV0sLW5bMF1dLGw9ITEpO3ZhciBoLGQ9bD9lLnQwKCk6ZS50MSgpLHA9ZS5ldmFsdWF0ZUR0KGQpO2lmKG8uVmVjdG9yMy5jcm9zcyhwLHAsdCksby5WZWN0b3IzLm5vcm1hbGl6ZShwLHApLG8uVmVjdG9yMy5uZWdhdGUocCxwKSxyLmdldEdlb21ldHJ5VHlwZSgpPT09aS5HRU9NRVRSWV9UWVBFUy5MSU5FKWg9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPW5ldyBzLlBsYW5lLG49ZS5ldmFsdWF0ZUR0KDApLGE9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtvLlZlY3RvcjMubm9ybWFsaXplKGEscik7dmFyIGM9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtvLlZlY3RvcjMuY3Jvc3MoYyxhLG4pLGkuc2V0KGUuZXZhbHVhdGVQb3NpdGlvbigwKSxjLGEpO3ZhciB1PW8uVmVjdG9yMy5sZW5ndGgociksbD1vLlZlY3RvcjMuZG90KGEscik+MD9bMCx1XTpbLXUsMF07cmV0dXJuIGkubGltaXRSYW5nZVYodCksaS5saW1pdFJhbmdlVShsKSxpfShyLG4sdCk7ZWxzZSBpZihyLmdldEdlb21ldHJ5VHlwZSgpPT09aS5HRU9NRVRSWV9UWVBFUy5DSVJDTEUpaD1mdW5jdGlvbihlLHQscil7dmFyIGk9ZS5ldmFsdWF0ZVBvc2l0aW9uKDApO28uVmVjdG9yMy5zdWJ0cmFjdChpLGksZS5nZXRDZW50ZXIoKSk7dmFyIG49by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtvLlZlY3RvcjMubmVnYXRlKG4sZS5nZXROb3JtYWwoKSk7dmFyIHM9bmV3IGEuQ3lsaW5kZXI7cmV0dXJuIHMuc2V0KGUuZ2V0Q2VudGVyKCksZS5nZXRSYWRpdXMoKSxuLGksMSkseShzLHQsciksc30ocixuLHQpO2Vsc2UgaWYoci5nZXRHZW9tZXRyeVR5cGUoKT09PWkuR0VPTUVUUllfVFlQRVMuRUxMSVBTRSloPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1lLmV2YWx1YXRlUG9zaXRpb24oMCk7by5WZWN0b3IzLnN1YnRyYWN0KGksaSxlLmdldENlbnRlcigpKTt2YXIgbj1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpO28uVmVjdG9yMy5uZWdhdGUobixlLmdldE5vcm1hbCgpKTt2YXIgcz1uZXcgYy5FbGxpcHRpY2FsQ3lsaW5kZXI7cmV0dXJuIHMuc2V0KGUuZ2V0Q2VudGVyKCksaSxlLmdldE1pbm9yUmFkaXVzKCkvZS5nZXRNYWpvclJhZGl1cygpLG4sMSkseShzLHQsciksc30ocixuLHQpO2Vsc2V7aWYoci5nZXRHZW9tZXRyeVR5cGUoKSE9PWkuR0VPTUVUUllfVFlQRVMuQkNVUlZFKXRocm93IG5ldyBFcnJvcihcImNyZWF0ZVNpZGVGYWNlUnVsZWRTdXJmYWNlOiBDdXJ2ZSB0eXBlIG5vdCBzdXBwb3J0ZWQuXCIpO2g9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz1uZXcgdS5CU3VyZmFjZSxpPWUuZ2V0RGVncmVlKCksbj1lLmdldEtub3RWZWN0b3IoKS5zbGljZSgwKSxzPWUuZ2V0Q29udHJvbFBvaW50cygpLnNsaWNlKDApLGE9KHM9cy5jb25jYXQocykpLmxlbmd0aC8yO2E8cy5sZW5ndGg7YSs9MylzW2FdKz1yWzBdLHNbYSsxXSs9clsxXSxzW2ErMl0rPXJbMl07dmFyIGM9dm9pZCAwO3JldHVybiBlLmlzUmF0aW9uYWwoKSYmKGM9KGM9ZS5nZXRXZWlnaHRzKCkuc2xpY2UoMCkpLmNvbmNhdChjKSksby5zZXQoMSxpLFswLDAsMSwxXSxuLHMsYyksby5saW1pdFJhbmdlVShbMCwxXSksby5saW1pdFJhbmdlVih0KSxvfShyLG4sdCl9dmFyIGc9aC5ldmFsdWF0ZU5vcm1hbCgwLG5bMF0pO3JldHVybntzdXJmYWNlOmgsaXNSZXZlcnNlZDpvLlZlY3RvcjMuZG90KGcscCk8MH19O3QuZXh0cnVkZUZhY2U9ZnVuY3Rpb24oZSx0KXtuLkNvbnNvbGVVdGlscy5hc3NlcnQoZS5nZXRTdXJmYWNlVHlwZSgpPT09aS5HRU9NRVRSWV9UWVBFUy5QTEFORSk7dmFyIHI9ZS5ldmFsdWF0ZU5vcm1hbCgwLDApO28uVmVjdG9yMy5zY2FsZShyLHIsdCk7dmFyIHM9KG5ldyBmLlRvcG9sb2d5Q2xvbmVyKS5jbG9uZUZhY2UoZSksYT1vLk1hdHJpeDQ0LmZyb21UcmFuc2xhdGlvbihvLk1hdHJpeDQ0LmNyZWF0ZUZsb2F0NjQoKSxyKTsoMCx2LnRyYW5zZm9ybVRvcG9sb2d5KShzLGEpLHQ+MD8oMCx2LnJldmVyc2VGYWNlKShlKTooMCx2LnJldmVyc2VGYWNlKShzKTt2YXIgYz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvPVtdLGk9ZS5nZXRMb29wcygpLG49dC5nZXRMb29wcygpLHM9MDtzPGkubGVuZ3RoOysrcylmb3IodmFyIGE9aVtzXS5nZXRDb2VkZ2VzKCksYz1uW3NdLmdldENvZWRnZXMoKSx1PW5ldyBBcnJheShhLmxlbmd0aCksZD0wO2Q8YS5sZW5ndGg7KytkKXt2YXIgcD1uZXcgQXJyYXkoNCksZz1hW2RdLGY9Y1thLmxlbmd0aC0xLWRdLHY9Zy5nZXRTdGFydFZlcnRleCgpLHk9Zy5nZXRFbmRWZXJ0ZXgoKSxFPWYuZ2V0U3RhcnRWZXJ0ZXgoKSx4PWYuZ2V0RW5kVmVydGV4KCk7cFswXT0oMCxfLmNyZWF0ZUNvZWRnZU9uRWRnZSkoZy5nZXRFZGdlKCkpLDA9PT1kJiYodVtkXT0oMCxfLmNyZWF0ZUxpbmVFZGdlQmV0d2VlblZlcnRpY2VzKSh2LHgpKSxwWzFdPSgwLF8uY3JlYXRlQ29lZGdlT25FZGdlKSh1W2RdKSxwWzJdPSgwLF8uY3JlYXRlQ29lZGdlT25FZGdlKShmLmdldEVkZ2UoKSksZCE9PWEubGVuZ3RoLTEmJih1W2QrMV09KDAsXy5jcmVhdGVMaW5lRWRnZUJldHdlZW5WZXJ0aWNlcykoRSx5KSkscFszXT0oMCxfLmNyZWF0ZUNvZWRnZU9uRWRnZSkodVsoZCsxKSVhLmxlbmd0aF0pO3ZhciBSPW5ldyBsLkxvb3A7Ui5hZGRDb2VkZ2VzKHApO3ZhciBBPW0oZyxyKSxQPW5ldyBoLkZhY2UoQS5zdXJmYWNlKTtQLnNldFJldmVyc2VkKEEuaXNSZXZlcnNlZCksUC5hZGRMb29wKFIpLG8ucHVzaChQKX1yZXR1cm4gb30oZSxzLHIpLHU9ZS5nZXRTaGVsbCgpO3V8fCh1PW5ldyBkLlNoZWxsKS5hZGRGYWNlKGUpLG4uQ29uc29sZVV0aWxzLmFzc2VydCgxPT09dS5nZXRGYWNlcygpLmxlbmd0aCksdS5hZGRGYWNlcyhjKSx1LmFkZEZhY2Uocyk7dmFyIHk9dS5nZXRMdW1wKCk7eXx8KHk9bmV3IHAuTHVtcCkuYWRkU2hlbGwodSk7dmFyIEU9eS5nZXRCb2R5KCk7cmV0dXJuIEV8fChFPW5ldyBnLkJvZHkpLmFkZEx1bXAoeSksRX19LDI2ODooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5QYXRoMkQ9dm9pZCAwO3ZhciBvPXIoMTk3MiksaT1yKDI0NjgpLG49cig2NTAwKSxzPXIoNzU3NSksYT1yKDg3OTYpLGM9cig1NTEyKSx1PXIoODk3MiksbD1yKDEwOTYpLGg9cig2NCksZD1yKDgwODApLHA9cig0NzI4KSxnPXIoNjEyMCksZj17YXNzZXJ0OmZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3d7bWVzc2FnZTp0fHxcImFzc2VydGlvbiBmYWlsZWRcIn19LGFzc2VydF9hcmc6ZnVuY3Rpb24oZSx0LHIsbyl7dmFyIGk9XCJJbnZhbGlkIGFyZ3VtZW50ICdcIit0K1wiJzogXCIrcitcIlxcblVzYWdlOiBcIitvO3RoaXMuYXNzZXJ0KGUsaSl9LGFzc2VydF9udW1iZXI6ZnVuY3Rpb24oZSx0LHIpe3RoaXMuYXNzZXJ0X2FyZyhcIm51bWJlclwiPT10eXBlb2YgZSx0LFwic2hvdWxkIGJlIGEgbnVtYmVyXCIscil9LGFzc2VydF9ib29sZWFuOmZ1bmN0aW9uKGUsdCxyKXt0aGlzLmFzc2VydF9hcmcoXCJib29sZWFuXCI9PXR5cGVvZiBlLHQsXCJzaG91bGQgYmUgYSBib29sZWFuXCIscil9LGFzc2VydF9zdHJpbmc6ZnVuY3Rpb24oZSx0LHIpe3RoaXMuYXNzZXJ0X2FyZyhcInN0cmluZ1wiPT10eXBlb2YgZSx0LFwic2hvdWxkIGJlIGEgc3RyaW5nXCIscil9fSx2PWZ1bmN0aW9uKCl7dGhpcy5fd2lyZUJvZHk9bmV3IG4uV2lyZUJvZHksdGhpcy5fY3VydmVzPVtdLHRoaXMuX3h5PVswLDBdLHRoaXMuX21lcmdlQkN1cnZlcz0hMCx0aGlzLl9oZWFsUGF0aD0hMSx0aGlzLl90YW5nZW50VG9sPWkuS0VSTkVMX0FOR1VMQVJfVE9MRVJBTkNFfTtmdW5jdGlvbiBfKGUsdCxyKXt2YXIgaT0zKih0LTEpLG49W2VbaV0sZVtpKzFdLGVbaSsyXV0scz0zKnIsYT1bZVtzXSxlW3MrMV0sZVtzKzJdXSxjPW8uVmVjdG9yMy5zdWIoWzAsMCwwXSxhLG4pO28uVmVjdG9yMy5zY2FsZShjLGMsLS4xKTtmb3IodmFyIHU9MTt1PD1yLXQ7Kyt1KXt2YXIgbD1vLlZlY3RvcjMuc2NhbGVBbmRBZGQoWzAsMCwwXSxhLGMsdSk7ZVtzLTMqdV09bFswXSxlW3MtMyp1KzFdPWxbMV0sZVtzLTMqdSsyXT1sWzJdfX1mdW5jdGlvbiB5KGUsdCxyKXt2YXIgaT0zKnQsbj1bZVtpXSxlW2krMV0sZVtpKzJdXSxzPTMqKHIrMSksYT1bZVtzXSxlW3MrMV0sZVtzKzJdXSxjPW8uVmVjdG9yMy5zdWIoWzAsMCwwXSxhLG4pO28uVmVjdG9yMy5zY2FsZShjLGMsLjEpO2Zvcih2YXIgdT0xO3U8PXItdDsrK3Upe3ZhciBsPW8uVmVjdG9yMy5zY2FsZUFuZEFkZChbMCwwLDBdLG4sYyx1KTtlW2krMyp1XT1sWzBdLGVbaSszKnUrMV09bFsxXSxlW2krMyp1KzJdPWxbMl19fWZ1bmN0aW9uIG0oZSx0KXtmb3IodmFyIHIsaSxuLHM9W10sYT1lLmdldENvbnRyb2xQb2ludHMoKSxjPVthWzBdLGFbMV0sYVsyXV0sdT1hLmxlbmd0aC8zLGw9MTtsPHU7KytsKXtyPVthWzMqbF0sYVszKmwrMV0sYVszKmwrMl1dO3ZhciBoPWw9PT11LTE7by5WZWN0b3IzLnNxdWFyZWREaXN0YW5jZShjLHIpPHQ/KHZvaWQgMD09PWkmJihpPWwtMSksbj1sKTpoPSEwLGgmJnZvaWQgMCE9PWkmJnZvaWQgMCE9PW4mJihzLnB1c2goW2ksbl0pLGg9ITEsaT12b2lkIDAsbj12b2lkIDApLGM9cn1yZXR1cm4gc31mdW5jdGlvbiBFKGUsdCl7dmFyIHI9bShlLHQpO2lmKDE9PT1yLmxlbmd0aCYmclswXVsxXS1yWzBdWzBdPT0xKXt2YXIgbz1yWzBdOzA9PT1vWzBdP2UuYWRkQ29udHJvbFBvaW50T25DdXJ2ZShlLmV2YWx1YXRlUG9zaXRpb24oLjEpKTpvWzFdPT09ZS5nZXROdW1Db250cm9sUG9pbnRzKCktMT9lLmFkZENvbnRyb2xQb2ludE9uQ3VydmUoZS5ldmFsdWF0ZVBvc2l0aW9uKC45KSk6KGUuYWRkQ29udHJvbFBvaW50T25DdXJ2ZShlLmV2YWx1YXRlUG9zaXRpb24oLjQ1KSksZS5hZGRDb250cm9sUG9pbnRPbkN1cnZlKGUuZXZhbHVhdGVQb3NpdGlvbiguNTUpKSl9cmV0dXJuIHIubGVuZ3RoPjB9ZnVuY3Rpb24geChlLHQpe2Zvcih2YXIgcj1tKGUsdCksbz0wO288ci5sZW5ndGg7KytvKXt2YXIgaT1yW29dLG49ZS5nZXRDb250cm9sUG9pbnRzKCkuc2xpY2UoKTtpWzBdPjA/XyhuLGlbMF0saVsxXSk6aVsxXTxuLmxlbmd0aC8zLTE/eShuLGlbMF0saVsxXSk6Zy5EZWJ1Z1V0aWxzLndhcm4oXCJEZWdlbmVyYXRlIEJDdXJ2ZSFcIiksZS5zZXRDb250cm9sUG9pbnRzKG4pfX1mdW5jdGlvbiBSKGUsdCl7dmFyIHI9ZS5nZXRDb250cm9sUG9pbnRzKCksaT1bclswXSxyWzFdLHJbMl1dLG49W3JbM10scls0XSxyWzVdXSxzPW8uVmVjdG9yMy5kaXN0YW5jZShpLG4pO3JbM109aVswXSt0WzBdKnMscls0XT1pWzFdK3RbMV0qcyxyWzVdPWlbMl0rdFsyXSpzLGUuc2V0Q29udHJvbFBvaW50cyhyKX1mdW5jdGlvbiBBKGUsdCl7dmFyIHI9ZS5nZXRDb250cm9sUG9pbnRzKCksaT1lLmdldENvbnRyb2xQb2ludHMoKS5sZW5ndGgsbj1bcltpLTZdLHJbaS01XSxyW2ktNF1dLHM9W3JbaS0zXSxyW2ktMl0scltpLTFdXSxhPW8uVmVjdG9yMy5kaXN0YW5jZShuLHMpO3JbaS02XT1zWzBdLXRbMF0qYSxyW2ktNV09c1sxXS10WzFdKmEscltpLTRdPXNbMl0tdFsyXSphLGUuc2V0Q29udHJvbFBvaW50cyhyKX1mdW5jdGlvbiBQKGUpe3ZhciB0PW5ldyBhLkJDdXJ2ZSxyPWUuZ2V0UmFuZ2UoKSxpPWUuZXZhbHVhdGVQb3NpdGlvbihyWzBdKSxuPWUuZXZhbHVhdGVQb3NpdGlvbihyWzFdKSxzPW8uVmVjdG9yMy5sZXJwKFswLDAsMF0saSxuLDEvMyksYz1vLlZlY3RvcjMubGVycChbMCwwLDBdLGksbiwyLzMpLHU9W2lbMF0saVsxXSwwLHNbMF0sc1sxXSwwLGNbMF0sY1sxXSwwLG5bMF0sblsxXSwwXTtyZXR1cm4gdC5zZXQodSxbMSwxLDEsMV0sMyxbMCwwLDAsMCwxLDEsMSwxXSksdH1mdW5jdGlvbiBWKGUsdCl7Zm9yKHZhciByLGk9ZS5nZXRSYW5nZSgpLG49ZS5ldmFsdWF0ZVBvc2l0aW9uKGlbMF0pLHM9ZS5ldmFsdWF0ZVBvc2l0aW9uKGlbMV0pLGE9by5WZWN0b3IzLmRpc3RhbmNlKG4scyksYz0wLHU9dC5nZXRDb250cm9sUG9pbnRzKCksbD1bdVswXSx1WzFdLHVbMl1dLGg9dS5sZW5ndGgvMyxkPTE7ZDxoOysrZClyPVt1WzMqZF0sdVszKmQrMV0sdVszKmQrMl1dLGMrPW8uVmVjdG9yMy5kaXN0YW5jZShsLHIpLGw9cjtyZXR1cm4gYTxjfWZ1bmN0aW9uIFQoZSx0KXt2YXIgcj1lLmdldENvbnRyb2xQb2ludHMoKS5jb25jYXQodC5nZXRDb250cm9sUG9pbnRzKCkuc2xpY2UoMykpLGk9ZS5nZXRXZWlnaHRzKCkuY29uY2F0KHQuZ2V0V2VpZ2h0cygpLnNsaWNlKDEpKSxuPWUuZ2V0S25vdFZlY3RvcigpLnNsaWNlKDAsLTEpLHM9ZS5ldmFsdWF0ZUR0KGUuZ2V0UmFuZ2UoKVsxXSksYT10LmV2YWx1YXRlRHQodC5nZXRSYW5nZSgpWzBdKSxjPU1hdGguc3FydChvLlZlY3RvcjMuc3F1YXJlZExlbmd0aChhKS9vLlZlY3RvcjMuc3F1YXJlZExlbmd0aChzKSksdT1uW24ubGVuZ3RoLTFdLXQuZ2V0S25vdFZlY3RvcigpWzBdKmMsbD10LmdldEtub3RWZWN0b3IoKS5zbGljZSh0LmdldERlZ3JlZSgpKzEpO3JldHVybiBsPWwubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZSpjK3V9KSksbj1uLmNvbmNhdChsKSxlLnNldChyLGksMyxuKSxlfWZ1bmN0aW9uIGIoZSx0LHIsbixzKXt2YXIgYT1vLlZlY3RvcjIuc3VidHJhY3QoW10scyxlKSx1PW8uVmVjdG9yMi5sZW5ndGgoYSk7aWYoISh1PGkuS0VSTkVMX1RPTEVSQU5DRSkpe3U+Mip0JiYodD11LzIpO3ZhciBsPW8uVmVjdG9yMi5zY2FsZUFuZEFkZChbXSxlLGEsLjUpO2lmKHU8Mip0LW8uRkxPQVQ2NF9UT0xFUkFOQ0Upe3ZhciBoPU1hdGguc3FydCh0KnQtdSp1LzQpOyEwPT09biE9KCExPT09cikmJihoPS1oKTt2YXIgZD1vLlZlY3RvcjIubm9ybWFsaXplKFtdLFstYVsxXSxhWzBdXSk7by5WZWN0b3IyLnNjYWxlQW5kQWRkKGwsbCxkLGgpfXZhciBwPVswLDAsbj8xOi0xXSxnPW5ldyBjLkNpcmNsZTtnLnNldChbbFswXSxsWzFdLDBdLHAsW3QsMCwwXSk7dmFyIGY9Zy5jbG9zZXN0VG9Qb2ludFBhcmFtKFtlWzBdLGVbMV0sMF0pLHY9Zy5jbG9zZXN0VG9Qb2ludFBhcmFtKFtzWzBdLHNbMV0sMF0pO3JldHVybiB2PD1mJiYodis9MipNYXRoLlBJKSxnLmxpbWl0UmFuZ2UoW2Ysdl0pLGd9fWZ1bmN0aW9uIEMoZSx0KXt2YXIgcj1lLnNsaWNlKDEpO3I9ci5yZXBsYWNlKC8oW15lXSktL2csXCIkMSAtXCIpO2Zvcih2YXIgbz0wO288MjsrK28pcj1yLnJlcGxhY2UoL1xcLlswLTldKlxcLi9nLChmdW5jdGlvbihlKXtyZXR1cm4gZS5zbGljZSgwLC0xKStcIiAuXCJ9KSk7Zm9yKHZhciBpPXIuc3BsaXQoL1ssXFxzXS8pLG49W10scz0wO3M8aS5sZW5ndGg7KytzKWlmKGlbc10ubGVuZ3RoPjApe3ZhciBhPU51bWJlcihpW3NdKTt0KCFpc05hTihhKSxcImNvdWxkIG5vdCBwYXJzZSBjb21tYW5kXCIpLG4ucHVzaChhKX1yZXR1cm4gbn12LnByb3RvdHlwZS5udW1XaXJlcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3dpcmVCb2R5LmdldFdpcmVzKCkubGVuZ3RoO3JldHVybiB0aGlzLl9jdXJ2ZXMubGVuZ3RoPjAmJihlKz0xKSxlfSx2LnByb3RvdHlwZS5udW1DbG9zZWQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PTA7dDx0aGlzLl93aXJlQm9keS5nZXRXaXJlcygpLmxlbmd0aDsrK3QpdGhpcy5fd2lyZUJvZHkuZ2V0V2lyZXMoKVt0XS5pc0Nsb3NlZCgpJiYoZSs9MSk7cmV0dXJuIHRoaXMuX2FyZUN1cnZlc0Nsb3NlZCgpJiYoZSs9MSksZX0sdi5wcm90b3R5cGUuX2ZpeENvaW5jaWRlbnRDb250cm9sUG9pbnRzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWkuS0VSTkVMX1RPTEVSQU5DRSppLktFUk5FTF9UT0xFUkFOQ0UsdD0wO3Q8dGhpcy5fY3VydmVzLmxlbmd0aDsrK3Qpe3ZhciByPXRoaXMuX2N1cnZlc1t0XTtyLmdldEdlb21ldHJ5VHlwZSgpPT09aS5HRU9NRVRSWV9UWVBFUy5CQ1VSVkUmJjM9PT1yLmdldERlZ3JlZSgpJiY0PT09ci5nZXROdW1Db250cm9sUG9pbnRzKCkmJiExPT09ci5pc1JhdGlvbmFsKCkmJkUocixlKSYmeChyLGUpfX0sdi5wcm90b3R5cGUuX3NuYXBCQ3VydmVzVGFuZ2VudD1mdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dGhpcy5fY3VydmVzLmxlbmd0aDsrK2Upe3ZhciB0PShlKzEpJXRoaXMuX2N1cnZlcy5sZW5ndGg7aWYoMD09PXQmJiF0aGlzLl9hcmVDdXJ2ZXNDbG9zZWQoKSlicmVhazt2YXIgcj10aGlzLl9jdXJ2ZXNbZV0sbj10aGlzLl9jdXJ2ZXNbdF0scz1yLmV2YWx1YXRlRHQoci5nZXRSYW5nZSgpWzFdKSxhPW4uZXZhbHVhdGVEdChuLmdldFJhbmdlKClbMF0pO28uVmVjdG9yMy5pc1BhcmFsbGVsKHMsYSwxLHRoaXMuX3RhbmdlbnRUb2wpJiYoci5nZXRHZW9tZXRyeVR5cGUoKSE9PWkuR0VPTUVUUllfVFlQRVMuQkNVUlZFJiZuLmdldEdlb21ldHJ5VHlwZSgpPT09aS5HRU9NRVRSWV9UWVBFUy5CQ1VSVkU/KG8uVmVjdG9yMy5ub3JtYWxpemUocyxzKSxSKG4scykpOnIuZ2V0R2VvbWV0cnlUeXBlKCk9PT1pLkdFT01FVFJZX1RZUEVTLkJDVVJWRSYmbi5nZXRHZW9tZXRyeVR5cGUoKSE9PWkuR0VPTUVUUllfVFlQRVMuQkNVUlZFJiYoby5WZWN0b3IzLm5vcm1hbGl6ZShhLGEpLEEocixhKSkpfX0sdi5wcm90b3R5cGUuX2FyZUN1cnZlc0Nsb3NlZD1mdW5jdGlvbigpe2lmKDA9PT10aGlzLl9jdXJ2ZXMubGVuZ3RoKXJldHVybiExO3ZhciBlPXRoaXMuX2N1cnZlc1t0aGlzLl9jdXJ2ZXMubGVuZ3RoLTFdLHQ9dGhpcy5fY3VydmVzWzBdO3JldHVybiBvLlZlY3RvcjMuc3F1YXJlZERpc3RhbmNlKGUuZXZhbHVhdGVQb3NpdGlvbihlLmdldFJhbmdlKClbMV0pLHQuZXZhbHVhdGVQb3NpdGlvbih0LmdldFJhbmdlKClbMF0pKTxpLktFUk5FTF9UT0xFUkFOQ0UqaS5LRVJORUxfVE9MRVJBTkNFfSx2LnByb3RvdHlwZS5fbWVyZ2VTaG9ydExpbmVzV2l0aEJDdXJ2ZXM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9ITEsdD0wO3Q8dGhpcy5fY3VydmVzLmxlbmd0aDsrK3Qpe3ZhciByPSh0KzEpJXRoaXMuX2N1cnZlcy5sZW5ndGg7aWYoMD09PXImJiF0aGlzLl9hcmVDdXJ2ZXNDbG9zZWQoKSlicmVhazt2YXIgbj10aGlzLl9jdXJ2ZXNbdF0scz10aGlzLl9jdXJ2ZXNbcl0sYT1uLmV2YWx1YXRlRHQobi5nZXRSYW5nZSgpWzFdKSxjPXMuZXZhbHVhdGVEdChzLmdldFJhbmdlKClbMF0pO28uVmVjdG9yMy5pc1BhcmFsbGVsKGEsYywxLGkuS0VSTkVMX0FOR1VMQVJfVE9MRVJBTkNFKSYmKG4uZ2V0R2VvbWV0cnlUeXBlKCk9PT1pLkdFT01FVFJZX1RZUEVTLkxJTkUmJnMuZ2V0R2VvbWV0cnlUeXBlKCk9PT1pLkdFT01FVFJZX1RZUEVTLkJDVVJWRSYmVihuLHMpPyh0aGlzLl9jdXJ2ZXMuc3BsaWNlKHQsMSxUKFAobikscykpLHRoaXMuX2N1cnZlcy5zcGxpY2UociwxKSx0LT0xLGU9ITApOm4uZ2V0R2VvbWV0cnlUeXBlKCk9PT1pLkdFT01FVFJZX1RZUEVTLkJDVVJWRSYmcy5nZXRHZW9tZXRyeVR5cGUoKT09PWkuR0VPTUVUUllfVFlQRVMuTElORSYmVihzLG4pJiYodGhpcy5fY3VydmVzLnNwbGljZSh0LDEsVChuLFAocykpKSx0aGlzLl9jdXJ2ZXMuc3BsaWNlKHIsMSksdC09MSxlPSEwKSl9cmV0dXJuIGV9LHYucHJvdG90eXBlLl9tZXJnZUFkamFjZW50QkN1cnZlcz1mdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dGhpcy5fY3VydmVzLmxlbmd0aDsrK2Upe3ZhciB0PShlKzEpJXRoaXMuX2N1cnZlcy5sZW5ndGg7aWYoMD09PXQmJiF0aGlzLl9hcmVDdXJ2ZXNDbG9zZWQoKSlicmVhazt2YXIgcj10aGlzLl9jdXJ2ZXNbZV0sbj10aGlzLl9jdXJ2ZXNbdF0scz1yLmV2YWx1YXRlRHQoci5nZXRSYW5nZSgpWzFdKSxhPW4uZXZhbHVhdGVEdChuLmdldFJhbmdlKClbMF0pO28uVmVjdG9yMy5pc1BhcmFsbGVsKHMsYSwxLHRoaXMuX3RhbmdlbnRUb2wpJiZyLmdldEdlb21ldHJ5VHlwZSgpPT09aS5HRU9NRVRSWV9UWVBFUy5CQ1VSVkUmJm4uZ2V0R2VvbWV0cnlUeXBlKCk9PT1pLkdFT01FVFJZX1RZUEVTLkJDVVJWRSYmKG8uVmVjdG9yMy5zcXVhcmVkTGVuZ3RoKHMpPG8uVmVjdG9yMy5zcXVhcmVkTGVuZ3RoKGEpPyhvLlZlY3RvcjMubm9ybWFsaXplKHMscyksUihuLHMpKTooby5WZWN0b3IzLm5vcm1hbGl6ZShhLGEpLEEocixhKSksciE9PW4mJihUKHIsbiksdGhpcy5fY3VydmVzLnNwbGljZSh0LDEpLGUtPTEpKX19LHYucHJvdG90eXBlLnNldE1lcmdlQkN1cnZlcz1mdW5jdGlvbihlKXt0aGlzLl9tZXJnZUJDdXJ2ZXM9ZX0sdi5wcm90b3R5cGUuc2V0SGVhbEZvckFTTT1mdW5jdGlvbihlLHQpe3RoaXMuX2hlYWxQYXRoPWUsdGhpcy5fdGFuZ2VudFRvbD12b2lkIDAhPT10P3Q6LjAxNzQ1MjQwNjQzNzI4MzUxfSx2LnByb3RvdHlwZS5fYWRkV2lyZT1mdW5jdGlvbigpe2lmKDAhPT10aGlzLl9jdXJ2ZXMubGVuZ3RoKXtpZih0aGlzLl9oZWFsUGF0aCYmKHRoaXMuX2ZpeENvaW5jaWRlbnRDb250cm9sUG9pbnRzKCksdGhpcy5fc25hcEJDdXJ2ZXNUYW5nZW50KCkpLCh0aGlzLl9tZXJnZUJDdXJ2ZXN8fHRoaXMuX2hlYWxQYXRoKSYmdGhpcy5fbWVyZ2VBZGphY2VudEJDdXJ2ZXMoKSx0aGlzLl9oZWFsUGF0aCl0aGlzLl9tZXJnZVNob3J0TGluZXNXaXRoQkN1cnZlcygpJiZ0aGlzLl9tZXJnZUFkamFjZW50QkN1cnZlcygpO3ZhciBlPSgwLGguY3JlYXRlV2lyZXNGcm9tRWRnZXMpKCgwLGguY3JlYXRlRWRnZXNGcm9tQ3VydmVzKSh0aGlzLl9jdXJ2ZXMpKTtwLkNvbnNvbGVVdGlscy5hc3NlcnQoMT09PWUubGVuZ3RoKSx0aGlzLl93aXJlQm9keS5hZGRXaXJlKGVbMF0pLHRoaXMuX2N1cnZlcz1bXX19LHYucHJvdG90eXBlLl9kaXNjYXJkSWZPcGVuPWZ1bmN0aW9uKCl7aWYoMCE9PXRoaXMuX2N1cnZlcy5sZW5ndGgpe3ZhciBlPXRoaXMuX2N1cnZlc1swXS5ldmFsdWF0ZVBvc2l0aW9uKHRoaXMuX2N1cnZlc1swXS5nZXRSYW5nZSgpWzBdKSx0PVt0aGlzLl94eVswXSx0aGlzLl94eVsxXSwwXTtvLlZlY3RvcjMuc3F1YXJlZERpc3RhbmNlKGUsdCk+PWkuS0VSTkVMX1RPTEVSQU5DRSppLktFUk5FTF9UT0xFUkFOQ0UmJih0aGlzLl9jdXJ2ZXM9W10pfX0sdi5wcm90b3R5cGUubW92ZVRvPWZ1bmN0aW9uKGUsdCl7dmFyIHI9XCJQYXRoMkQubW92ZVRvKHgsIHkpXCI7cmV0dXJuIGYuYXNzZXJ0X251bWJlcihlLFwieFwiLHIpLGYuYXNzZXJ0X251bWJlcih0LFwieVwiLHIpLHRoaXMuX2FkZFdpcmUoKSx0aGlzLl94eVswXT1lLHRoaXMuX3h5WzFdPXQsdGhpc30sdi5wcm90b3R5cGUubGluZVRvPWZ1bmN0aW9uKGUsdCl7dmFyIHI9XCJQYXRoMkQubGluZVRvKHgsIHkpXCI7Zi5hc3NlcnRfbnVtYmVyKGUsXCJ4XCIsciksZi5hc3NlcnRfbnVtYmVyKHQsXCJ5XCIscik7dmFyIG89ZS10aGlzLl94eVswXSxuPXQtdGhpcy5feHlbMV07aWYobypvK24qbj5pLktFUk5FTF9UT0xFUkFOQ0UqaS5LRVJORUxfVE9MRVJBTkNFKXt2YXIgcz1uZXcgbC5MaW5lO3Muc2V0KFt0aGlzLl94eVswXSx0aGlzLl94eVsxXSwwXSxbbyxuLDBdKSxzLmxpbWl0UmFuZ2UoWzAsMV0pLHRoaXMuX2N1cnZlcy5wdXNoKHMpfXJldHVybiB0aGlzLl94eVswXT1lLHRoaXMuX3h5WzFdPXQsdGhpc30sdi5wcm90b3R5cGUucXVhZHJhdGljQ3VydmVUbz1mdW5jdGlvbihlLHQscixvKXt2YXIgaT1cIlBhdGgyRC5xdWFkcmF0aWNDdXJ2ZVRvKGNweCwgY3B5LCB4LCB5KVwiO2YuYXNzZXJ0X251bWJlcihlLFwiY3B4XCIsaSksZi5hc3NlcnRfbnVtYmVyKHQsXCJjcHlcIixpKSxmLmFzc2VydF9udW1iZXIocixcInhcIixpKSxmLmFzc2VydF9udW1iZXIobyxcInlcIixpKTt2YXIgbj1uZXcgYS5CQ3VydmUscz0xLzMqdGhpcy5feHlbMF0rMi8zKmUsYz0xLzMqdGhpcy5feHlbMV0rMi8zKnQsdT0xLzMqcisyLzMqZSxsPTEvMypvKzIvMyp0LGg9W3RoaXMuX3h5WzBdLHRoaXMuX3h5WzFdLDAscyxjLDAsdSxsLDAscixvLDBdO3JldHVybiBuLnNldChoLFsxLDEsMSwxXSwzLFswLDAsMCwwLDEsMSwxLDFdKSx0aGlzLl9jdXJ2ZXMucHVzaChuKSx0aGlzLl94eVswXT1yLHRoaXMuX3h5WzFdPW8sdGhpc30sdi5wcm90b3R5cGUuYmV6aWVyQ3VydmVUbz1mdW5jdGlvbihlLHQscixvLGksbil7dmFyIHM9XCJQYXRoMkQuYmV6aWVyQ3VydmVUbyhjcDF4LCBjcDF5LCBjcDJ4LCBjcDJ5LCB4LCB5KVwiO2YuYXNzZXJ0X251bWJlcihlLFwiY3AxeFwiLHMpLGYuYXNzZXJ0X251bWJlcih0LFwiY3AxeVwiLHMpLGYuYXNzZXJ0X251bWJlcihyLFwiY3AyeFwiLHMpLGYuYXNzZXJ0X251bWJlcihvLFwiY3AyeVwiLHMpLGYuYXNzZXJ0X251bWJlcihpLFwieFwiLHMpLGYuYXNzZXJ0X251bWJlcihuLFwieVwiLHMpO3ZhciBjPW5ldyBhLkJDdXJ2ZSx1PVt0aGlzLl94eVswXSx0aGlzLl94eVsxXSwwLGUsdCwwLHIsbywwLGksbiwwXTtyZXR1cm4gYy5zZXQodSxbMSwxLDEsMV0sMyxbMCwwLDAsMCwxLDEsMSwxXSksdGhpcy5fY3VydmVzLnB1c2goYyksdGhpcy5feHlbMF09aSx0aGlzLl94eVsxXT1uLHRoaXN9LHYucHJvdG90eXBlLmNpcmNsZUFyY1RvPWZ1bmN0aW9uKGUsdCxyLG8saSl7dmFyIG49XCJQYXRoMkQuY2lyY2xlQXJjVG8ocmFkaXVzLCBsb25nZXN0LCBhbnRpY2xvY2t3aXNlLCB4LCB5KVwiO2YuYXNzZXJ0X251bWJlcihlLFwicmFkaXVzXCIsbiksZi5hc3NlcnRfYXJnKGU+MCxcInJhZGl1c1wiLFwibXVzdCBiZSBwb3NpdGl2ZVwiLG4pLGYuYXNzZXJ0X2Jvb2xlYW4odCxcImxvbmdlc3RcIixuKSxmLmFzc2VydF9ib29sZWFuKHIsXCJhbnRpY2xvY2t3aXNlXCIsbiksZi5hc3NlcnRfbnVtYmVyKG8sXCJ4XCIsbiksZi5hc3NlcnRfbnVtYmVyKGksXCJ5XCIsbik7dmFyIHM9Yih0aGlzLl94eSxlLHQscixbbyxpXSk7cmV0dXJuIHMmJih0aGlzLl9jdXJ2ZXMucHVzaChzKSx0aGlzLl94eVswXT1vLHRoaXMuX3h5WzFdPWkpLHRoaXN9LHYucHJvdG90eXBlLmVsbGlwc2VBcmNUbz1mdW5jdGlvbihlLHQscixpLG4scyxhKXt2YXIgYz1cIlBhdGgyRC5lbGxpcHNlQXJjVG8oeFJhZGl1cywgeVJhZGl1cywgcm90YXRpb24sIGxvbmdlc3QsIGFudGljbG9ja3dpc2UsIHgsIHkpXCI7aWYoZi5hc3NlcnRfbnVtYmVyKGUsXCJ4UmFkaXVzXCIsYyksZi5hc3NlcnRfYXJnKGU+MCxcInhSYWRpdXNcIixcIm11c3QgYmUgcG9zaXRpdmVcIixjKSxmLmFzc2VydF9udW1iZXIodCxcInlSYWRpdXNcIixjKSxmLmFzc2VydF9hcmcodD4wLFwieVJhZGl1c1wiLFwibXVzdCBiZSBwb3NpdGl2ZVwiLGMpLGYuYXNzZXJ0X251bWJlcihyLFwicm90YXRpb25cIixjKSxmLmFzc2VydF9ib29sZWFuKGksXCJsb25nZXN0XCIsYyksZi5hc3NlcnRfYm9vbGVhbihuLFwiYW50aWNsb2Nrd2lzZVwiLGMpLGYuYXNzZXJ0X251bWJlcihzLFwieFwiLGMpLGYuYXNzZXJ0X251bWJlcihhLFwieVwiLGMpLGU8dCl7dmFyIGw9ZTtlPXQsdD1sLHIrPU1hdGguUEkvMn12YXIgaD1NYXRoLmNvcyhyKSxkPU1hdGguc2luKHIpLHA9ZS90LGc9by5NYXRyaXgyMi5tdWx0aXBseShbXSxbMSwwLDAscF0sW2gsLWQsZCxoXSksdj1iKG8uVmVjdG9yMi50cmFuc2Zvcm1NYXRyaXgyMihbXSx0aGlzLl94eSxnKSxlLGksbixvLlZlY3RvcjIudHJhbnNmb3JtTWF0cml4MjIoW10sW3MsYV0sZykpO2lmKHYpe3ZhciBfPVt2LmdldENlbnRlcigpWzBdLHYuZ2V0Q2VudGVyKClbMV1dO28uTWF0cml4MjIuaW52ZXJ0KGcsZyksby5WZWN0b3IyLnRyYW5zZm9ybU1hdHJpeDIyKF8sXyxnKSxfWzJdPTA7dmFyIHk9di5nZXRSYWRpdXMoKSxtPVt5KmgseSpkLDBdLEU9bmV3IHUuRWxsaXBzZTtFLnNldChfLHYuZ2V0Tm9ybWFsKCksbSwxL3ApLEUubGltaXRSYW5nZSh2LmdldFJhbmdlKCkpLHRoaXMuX2N1cnZlcy5wdXNoKEUpLHRoaXMuX3h5WzBdPXMsdGhpcy5feHlbMV09YX1yZXR1cm4gdGhpc30sdi5wcm90b3R5cGUuY2xvc2VQYXRoPWZ1bmN0aW9uKCl7aWYodGhpcy5fY3VydmVzLmxlbmd0aD4wKXt2YXIgZT10aGlzLl9jdXJ2ZXNbMF0sdD1lLmV2YWx1YXRlUG9zaXRpb24oZS5nZXRSYW5nZSgpWzBdKTt0aGlzLmxpbmVUbyh0WzBdLHRbMV0pLHRoaXMuX2FkZFdpcmUoKX1yZXR1cm4gdGhpc30sdi5wcm90b3R5cGUuYWRkQ2lyY2xlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz1cIlBhdGgyRC5hZGRDaXJjbGUoeCwgeSwgcmFkaXVzKVwiO2YuYXNzZXJ0X251bWJlcihlLFwieFwiLG8pLGYuYXNzZXJ0X251bWJlcih0LFwieVwiLG8pLGYuYXNzZXJ0X251bWJlcihyLFwicmFkaXVzXCIsbyksZi5hc3NlcnRfYXJnKHI+MCxcInJhZGl1c1wiLFwibXVzdCBiZSBwb3NpdGl2ZVwiLG8pLHRoaXMuX2FkZFdpcmUoKTt2YXIgaT1uZXcgYy5DaXJjbGU7cmV0dXJuIGkuc2V0KFtlLHQsMF0sWzAsMCwxXSxbciwwLDBdKSx0aGlzLl9jdXJ2ZXMucHVzaChpKSx0aGlzLl9hZGRXaXJlKCksdGhpc30sdi5wcm90b3R5cGUuYWRkRWxsaXBzZT1mdW5jdGlvbihlLHQscixvLGkpe2k9dm9pZCAwPT09aT8wOmk7dmFyIG49XCJQYXRoMkQuYWRkRWxsaXBzZSh4LCB5LCB4UmFkaXVzLCB5UmFkaXVzLCByb3RhdGlvbilcIjtpZihmLmFzc2VydF9udW1iZXIoZSxcInhcIixuKSxmLmFzc2VydF9udW1iZXIodCxcInlcIixuKSxmLmFzc2VydF9udW1iZXIocixcInhSYWRpdXNcIixuKSxmLmFzc2VydF9hcmcocj4wLFwieFJhZGl1c1wiLFwibXVzdCBiZSBwb3NpdGl2ZVwiLG4pLGYuYXNzZXJ0X251bWJlcihvLFwieVJhZGl1c1wiLG4pLGYuYXNzZXJ0X2FyZyhvPjAsXCJ5UmFkaXVzXCIsXCJtdXN0IGJlIHBvc2l0aXZlXCIsbiksZi5hc3NlcnRfbnVtYmVyKGksXCJyb3RhdGlvblwiLG4pLHRoaXMuX2FkZFdpcmUoKSxyPG8pe3ZhciBzPXI7cj1vLG89cyxpKz1NYXRoLlBJLzJ9dmFyIGE9bmV3IHUuRWxsaXBzZSxjPU1hdGguY29zKGkpLGw9TWF0aC5zaW4oaSksaD1vL3I7cmV0dXJuIGEuc2V0KFtlLHQsMF0sWzAsMCwxXSxbcipjLHIqbCwwXSxoKSx0aGlzLl9jdXJ2ZXMucHVzaChhKSx0aGlzLl9hZGRXaXJlKCksdGhpc30sdi5wcm90b3R5cGUuYWRkU1ZHUGF0aD1mdW5jdGlvbihlLHQpe3Q9dm9pZCAwIT09dCYmdDt2YXIgcj1cIlBhdGgyRC5hZGRTVkdQYXRoKHBhdGhTdHJpbmcsIFtpbmNsdWRlT3Blbl0pXCI7Zi5hc3NlcnRfc3RyaW5nKGUsXCJwYXRoU3RyaW5nXCIsciksZi5hc3NlcnRfYm9vbGVhbih0LFwiaW5jbHVkZU9wZW5cIixyKSx0aGlzLl9hZGRXaXJlKCksdGhpcy5feHlbMF09MCx0aGlzLl94eVsxXT0wO3ZhciBvPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXTtlLmxlbmd0aD4wOyl7dmFyIHI9ZS5zbGljZSgxKS5zZWFyY2goL1tNbVp6TGxIaFZ2Q2NTc1FxVHRBYV0vKSsxO3I8PTAmJihyPWUubGVuZ3RoKTt2YXIgbz1lLnNsaWNlKDAscikudHJpbSgpO28ubGVuZ3RoPjAmJnQucHVzaChvKSxlPWUuc2xpY2UocikudHJpbSgpfXJldHVybiB0fShlKTtmLmFzc2VydF9hcmcoby5sZW5ndGg+MCxcInBhdGhTdHJpbmdcIixcImNhbm5vdCBiZSBlbXB0eSBzdHJpbmdcIixyKTtmb3IodmFyIG49W3RoaXMuX3h5WzBdLHRoaXMuX3h5WzFdXSxzPVt0aGlzLl94eVswXSx0aGlzLl94eVsxXV0sYT0wO2E8by5sZW5ndGg7KythKXt2YXIgYyx1LGwsaCxkLHAsZyx2PWZ1bmN0aW9uKGUsdCl7Zi5hc3NlcnRfYXJnKGUsXCJwYXRoU3RyaW5nXCIsdCsnIFwiJytvW2FdKydcIicscil9LF89b1thXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSx5PV8hPT1vW2FdLmNoYXJBdCgwKSxtPUMob1thXSx2KSxFPXk/dGhpcy5feHk6WzAsMF07c3dpdGNoKF8pe2Nhc2VcIk1cIjpmb3IodihtLmxlbmd0aD49MixcImluc3VmZmljaWVudCBhcmd1bWVudHMgaW4gY29tbWFuZFwiKSx2KG0ubGVuZ3RoJTI9PTAsXCJjb21tYW5kIHJlcXVpcmVzIHBhaXJzIG9mIHgseSBhcmd1bWVudHNcIiksdHx8dGhpcy5fZGlzY2FyZElmT3BlbigpLHRoaXMubW92ZVRvKG1bMF0rRVswXSxtWzFdK0VbMV0pLGc9MjtnPG0ubGVuZ3RoO2crPTIpdGhpcy5saW5lVG8obVtnXStFWzBdLG1bZysxXStFWzFdKTticmVhaztjYXNlXCJaXCI6digwPT09bS5sZW5ndGgsXCJjb21tYW5kIHNob3VsZCBub3QgaGF2ZSBhcmd1bWVudHNcIiksdGhpcy5jbG9zZVBhdGgoKTticmVhaztjYXNlXCJMXCI6Zm9yKHYobS5sZW5ndGg+PTIsXCJpbnN1ZmZpY2llbnQgYXJndW1lbnRzIGluIGNvbW1hbmRcIiksdihtLmxlbmd0aCUyPT0wLFwiY29tbWFuZCByZXF1aXJlcyBwYWlycyBvZiB4LHkgYXJndW1lbnRzXCIpLGc9MDtnPG0ubGVuZ3RoO2crPTIpdGhpcy5saW5lVG8obVtnXStFWzBdLG1bZysxXStFWzFdKTticmVhaztjYXNlXCJIXCI6Zm9yKHYobS5sZW5ndGg+PTEsXCJpbnN1ZmZpY2llbnQgYXJndW1lbnRzIGluIGNvbW1hbmRcIiksZz0wO2c8bS5sZW5ndGg7Zys9MSl0aGlzLmxpbmVUbyhtW2ddK0VbMF0sdGhpcy5feHlbMV0pO2JyZWFrO2Nhc2VcIlZcIjpmb3IodihtLmxlbmd0aD49MSxcImluc3VmZmljaWVudCBhcmd1bWVudHMgaW4gY29tbWFuZFwiKSxnPTA7ZzxtLmxlbmd0aDtnKz0xKXRoaXMubGluZVRvKHRoaXMuX3h5WzBdLG1bZ10rRVsxXSk7YnJlYWs7Y2FzZVwiQ1wiOmZvcih2KG0ubGVuZ3RoPj02LFwiaW5zdWZmaWNpZW50IGFyZ3VtZW50cyBpbiBjb21tYW5kXCIpLHYobS5sZW5ndGglNj09MCxcImNvbW1hbmQgcmVxdWlyZXMgc2V0cyBvZiA2IGFyZ3VtZW50c1wiKSxnPTA7ZzxtLmxlbmd0aDtnKz02KWM9bVtnXStFWzBdLHU9bVtnKzFdK0VbMV0sbD1tW2crMl0rRVswXSxoPW1bZyszXStFWzFdLGQ9bVtnKzRdK0VbMF0scD1tW2crNV0rRVsxXSx0aGlzLmJlemllckN1cnZlVG8oYyx1LGwsaCxkLHApLHNbMF09bCxzWzFdPWg7YnJlYWs7Y2FzZVwiU1wiOmZvcih2KG0ubGVuZ3RoPj00LFwiaW5zdWZmaWNpZW50IGFyZ3VtZW50cyBpbiBjb21tYW5kXCIpLHYobS5sZW5ndGglND09MCxcImNvbW1hbmQgcmVxdWlyZXMgc2V0cyBvZiA0IGFyZ3VtZW50c1wiKSxnPTA7ZzxtLmxlbmd0aDtnKz00KWM9Mip0aGlzLl94eVswXS1zWzBdLHU9Mip0aGlzLl94eVsxXS1zWzFdLGw9bVtnXStFWzBdLGg9bVtnKzFdK0VbMV0sZD1tW2crMl0rRVswXSxwPW1bZyszXStFWzFdLHRoaXMuYmV6aWVyQ3VydmVUbyhjLHUsbCxoLGQscCksc1swXT1sLHNbMV09aDticmVhaztjYXNlXCJRXCI6Zm9yKHYobS5sZW5ndGg+PTQsXCJpbnN1ZmZpY2llbnQgYXJndW1lbnRzIGluIGNvbW1hbmRcIiksdihtLmxlbmd0aCU0PT0wLFwiY29tbWFuZCByZXF1aXJlcyBzZXRzIG9mIDQgYXJndW1lbnRzXCIpLGc9MDtnPG0ubGVuZ3RoO2crPTQpYz1tW2ddK0VbMF0sdT1tW2crMV0rRVsxXSxsPW1bZysyXStFWzBdLGg9bVtnKzNdK0VbMV0sdGhpcy5xdWFkcmF0aWNDdXJ2ZVRvKGMsdSxsLGgpLG5bMF09YyxuWzFdPXU7YnJlYWs7Y2FzZVwiVFwiOmZvcih2KG0ubGVuZ3RoPj0yLFwiaW5zdWZmaWNpZW50IGFyZ3VtZW50cyBpbiBjb21tYW5kXCIpLHYobS5sZW5ndGglMj09MCxcImNvbW1hbmQgcmVxdWlyZXMgcGFpcnMgb2YgYXJndW1lbnRzXCIpLGc9MDtnPG0ubGVuZ3RoO2crPTIpYz0yKnRoaXMuX3h5WzBdLW5bMF0sdT0yKnRoaXMuX3h5WzFdLW5bMV0sbD1tW2ddK0VbMF0saD1tW2crMV0rRVsxXSx0aGlzLnF1YWRyYXRpY0N1cnZlVG8oYyx1LGwsaCksblswXT1jLG5bMV09dTticmVhaztjYXNlXCJBXCI6Zm9yKHYobS5sZW5ndGg+PTcsXCJpbnN1ZmZpY2llbnQgYXJndW1lbnRzIGluIGNvbW1hbmRcIiksdihtLmxlbmd0aCU3PT0wLFwiY29tbWFuZCByZXF1aXJlcyBzZXRzIG9mIDcgYXJndW1lbnRzXCIpLGc9MDtnPG0ubGVuZ3RoO2crPTcpe3ZhciB4PU1hdGguYWJzKG1bZ10pLFI9TWF0aC5hYnMobVtnKzFdKSxBPW1bZysyXSpNYXRoLlBJLzE4MCxQPTAhPT1tW2crM10sVj0wIT09bVtnKzRdLFQ9bVtnKzVdK0VbMF0sYj1tW2crNl0rRVsxXTt4PGkuS0VSTkVMX1RPTEVSQU5DRXx8UjxpLktFUk5FTF9UT0xFUkFOQ0U/dGhpcy5saW5lVG8oVCxiKTp0aGlzLmVsbGlwc2VBcmNUbyh4LFIsQSxQLFYsVCxiKX1icmVhaztkZWZhdWx0OnYoITEsXCJ1bnJlY29nbmlzZWQgY29tbWFuZFwiKX1cIlFcIiE9PV8mJlwiVFwiIT09XyYmKG49W3RoaXMuX3h5WzBdLHRoaXMuX3h5WzFdXSksXCJDXCIhPT1fJiZcIlNcIiE9PV8mJihzPVt0aGlzLl94eVswXSx0aGlzLl94eVsxXV0pfXJldHVybiB0fHx0aGlzLl9kaXNjYXJkSWZPcGVuKCksdGhpcy5fYWRkV2lyZSgpLHRoaXN9LHYucHJvdG90eXBlLmdldFdpcmVCb2R5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FkZFdpcmUoKSx0aGlzLl93aXJlQm9keX0sdi5wcm90b3R5cGUuY29tcHV0ZVJlZ2lvbml6ZWRXaXJlQm9keT1mdW5jdGlvbigpe3RoaXMuZ2V0V2lyZUJvZHkoKTtmb3IodmFyIGU9bmV3IG4uV2lyZUJvZHksdD0oMCxkLm1lcmdlU2tldGNoUmVnaW9ucykodGhpcy5fd2lyZUJvZHkuZ2V0V2lyZXMoKSkscj0wO3I8dC5sZW5ndGg7KytyKWZvcih2YXIgbz10W3JdLmdldExvb3BzKCksaT0wO2k8by5sZW5ndGg7KytpKXt2YXIgYT1vW2ldLGM9bmV3IHMuV2lyZTtjLmFkZEVkZ2VzKEFycmF5LmZyb20oYS5jb2xsZWN0RWRnZXMoKSkpLGUuYWRkV2lyZShjKX1yZXR1cm4gZX0sdi5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl93aXJlQm9keT1uZXcgbi5XaXJlQm9keSx0aGlzLl9jdXJ2ZXM9W10sdGhpcy5feHk9WzAsMF19LHQuUGF0aDJEPXZ9LDIyMDg6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUHJvZ2VuaXRvck1hcD12b2lkIDA7dmFyIG89cigyNDY4KSxpPXIoNDcyOCksbj1mdW5jdGlvbigpe3RoaXMuX25ld1RvT2xkTWFwPW5ldyBNYXAsdGhpcy5fb2xkVG9OZXdNYXA9bmV3IE1hcCx0aGlzLl9sYWJlbE1hcD1uZXcgTWFwfTtuLnByb3RvdHlwZS5hZGRFbnRyeT1mdW5jdGlvbihlLHQscil7dD1BcnJheS5mcm9tKG5ldyBTZXQodCkpLGkuQ29uc29sZVV0aWxzLmFzc2VydCghdGhpcy5fbmV3VG9PbGRNYXAuaGFzKGUpKSx0aGlzLl9uZXdUb09sZE1hcC5zZXQoZSx0KSxyJiZ0aGlzLl9sYWJlbE1hcC5zZXQoZSxyKTtmb3IodmFyIG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIG49dFtvXSxzPXRoaXMuX29sZFRvTmV3TWFwLmdldChuKTtzP3MuaW5kZXhPZihlKTwwJiZzLnB1c2goZSk6dGhpcy5fb2xkVG9OZXdNYXAuc2V0KG4sW2VdKX19LG4ucHJvdG90eXBlLmhhc0VudHJ5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9uZXdUb09sZE1hcC5oYXMoZSl9LG4ucHJvdG90eXBlLnJlbW92ZUVudHJ5PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX25ld1RvT2xkTWFwLmdldChlKTtpZih0KXt0aGlzLl9uZXdUb09sZE1hcC5kZWxldGUoZSksdGhpcy5fbGFiZWxNYXAuZGVsZXRlKGUpO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10aGlzLl9vbGRUb05ld01hcC5nZXQodFtyXSksbj1vLmluZGV4T2YoZSk7aS5Db25zb2xlVXRpbHMuYXNzZXJ0KG4+PTApLG8uc3BsaWNlKG4sMSksMD09PW8ubGVuZ3RoJiZ0aGlzLl9vbGRUb05ld01hcC5kZWxldGUodFtyXSl9fX0sbi5wcm90b3R5cGUuc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9uZXdUb09sZE1hcC5zaXplfSxuLnByb3RvdHlwZS5nZXRQcm9nZW5pdG9ycz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fbmV3VG9PbGRNYXAuZ2V0KGUpfSxuLnByb3RvdHlwZS5nZXREZXNjZW5kYW50cz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fb2xkVG9OZXdNYXAuZ2V0KGUpfHxbXX0sbi5wcm90b3R5cGUuZ2V0TGFiZWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2xhYmVsTWFwLmdldChlKXx8XCJcIn0sbi5wcm90b3R5cGUuZ2V0QWxsTmV3VG9wb2xvZ3k9ZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9uZXdUb09sZE1hcC5rZXlzKCkpfSxuLnByb3RvdHlwZS5nZXRBbGxPbGRUb3BvbG9neT1mdW5jdGlvbigpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuX29sZFRvTmV3TWFwLmtleXMoKSl9LG4ucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fbmV3VG9PbGRNYXAuY2xlYXIoKSx0aGlzLl9vbGRUb05ld01hcC5jbGVhcigpLHRoaXMuX2xhYmVsTWFwLmNsZWFyKCl9LG4ucHJvdG90eXBlLm1lcmdlTWFwcz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgbixyPW5ldyBTZXQodGhpcy5fbmV3VG9PbGRNYXAua2V5cygpKTtyZXR1cm4gZS5fbmV3VG9PbGRNYXAua2V5cygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3IuYWRkKGUpfSkpLHIuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIG89dGhpcy5nZXRQcm9nZW5pdG9ycyhyKXx8W10saT1lLmdldFByb2dlbml0b3JzKHIpfHxbXSxuPXRoaXMuZ2V0TGFiZWwocil8fGUuZ2V0TGFiZWwocik7dC5hZGRFbnRyeShyLG8uY29uY2F0KGkpLG4pfSkpLHR9LG4ucHJvdG90eXBlLmNvbGxhcHNlTWFwcz1mdW5jdGlvbihlLHQpe3ZhciByPSExLG89ITE7dCYmKHZvaWQgMCE9PXQua2VlcEludGVybWVkaWF0ZXMmJihyPXQua2VlcEludGVybWVkaWF0ZXMpLHZvaWQgMCE9PXQua2VlcEFsbERlc2NlbmRhbnRzJiYobz10LmtlZXBBbGxEZXNjZW5kYW50cykpO3ZhciBpPW5ldyBuLHM9dm9pZCAwO3JldHVybiBvJiYocz1uZXcgU2V0KGUuX25ld1RvT2xkTWFwLmtleXMoKSkpLHRoaXMuX25ld1RvT2xkTWFwLmZvckVhY2goKGZ1bmN0aW9uKHQsbil7Zm9yKHZhciBhPW5ldyBTZXQsYz0wO2M8dC5sZW5ndGg7YysrKXt2YXIgdT10W2NdLGw9ZS5nZXRQcm9nZW5pdG9ycyh1KTtsJiZsLmxlbmd0aD4wPyhsLmZvckVhY2goKGZ1bmN0aW9uKGUpe2EuYWRkKGUpfSkpLHImJmEuYWRkKHUpKTphLmFkZCh1KSxvJiZzLmRlbGV0ZSh1KX1pLmFkZEVudHJ5KG4sQXJyYXkuZnJvbShhKSl9KSksbyYmcy5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj1lLmdldFByb2dlbml0b3JzKHQpO2kuaGFzRW50cnkodCkmJihyPXIuY29uY2F0KGkuZ2V0UHJvZ2VuaXRvcnModCkpLGkucmVtb3ZlRW50cnkodCkpLGkuYWRkRW50cnkodCxyKX0pKSxpfSxuLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2Zvcih2YXIgZT1cIlByb2dlbml0b3JNYXA6XFxuXCIsdD10aGlzLmdldEFsbE5ld1RvcG9sb2d5KCkscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgaT10W3JdO2UrPW8uVE9QT0xPR1lfVFlQRVMudG9TdHJpbmcoaS5nZXRUb3BvbG9neVR5cGUoKSkrXCI6XCIraS5nZXRHdWlkKCk7dmFyIG49dGhpcy5nZXRMYWJlbChpKTtuJiYoZSs9XCIgJ1wiK24rXCInXCIpLGUrPVwiIC0+IFsgXCI7Zm9yKHZhciBzPXRoaXMuZ2V0UHJvZ2VuaXRvcnMoaSksYT0wO2E8cy5sZW5ndGg7YSsrKWE+MCYmKGUrPVwiLCBcIiksZSs9by5UT1BPTE9HWV9UWVBFUy50b1N0cmluZyhzW2FdLmdldFRvcG9sb2d5VHlwZSgpKStcIjpcIitzW2FdLmdldEd1aWQoKTtlKz1cIiBdXFxuXCJ9cmV0dXJuIGV9LHQuUHJvZ2VuaXRvck1hcD1ufSwzMzMyOihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmNyZWF0ZUJsb2NrPXZvaWQgMDt2YXIgbz1yKDY0KSxpPXIoMjQ3Miksbj1yKDI0NjgpLHM9cig0NzI4KTt0LmNyZWF0ZUJsb2NrPWZ1bmN0aW9uKGUsdCl7dmFyIHI9W01hdGgubWluKGVbMF0sdFswXSksTWF0aC5taW4oZVsxXSx0WzFdKSxNYXRoLm1pbihlWzJdLHRbMl0pXSxhPVtNYXRoLm1heChlWzBdLHRbMF0pLE1hdGgubWF4KGVbMV0sdFsxXSksTWF0aC5tYXgoZVsyXSx0WzJdKV07cy5Db25zb2xlVXRpbHMuYXNzZXJ0KGFbMF0tclswXT5uLktFUk5FTF9UT0xFUkFOQ0UsXCJibG9jayBpcyBkZWdlbmVyYXRlIGluIHggYXhpc1wiKSxzLkNvbnNvbGVVdGlscy5hc3NlcnQoYVsxXS1yWzFdPm4uS0VSTkVMX1RPTEVSQU5DRSxcImJsb2NrIGlzIGRlZ2VuZXJhdGUgaW4geSBheGlzXCIpLHMuQ29uc29sZVV0aWxzLmFzc2VydChhWzJdLXJbMl0+bi5LRVJORUxfVE9MRVJBTkNFLFwiYmxvY2sgaXMgZGVnZW5lcmF0ZSBpbiB6IGF4aXNcIik7dmFyIGM9W1tyWzBdLHJbMV0sclsyXV0sW2FbMF0sclsxXSxyWzJdXSxbYVswXSxhWzFdLHJbMl1dLFtyWzBdLGFbMV0sclsyXV1dLHU9KDAsby5jcmVhdGVGYWNlRnJvbVBvbHlsaW5lKShjKSxsPWFbMl0tclsyXTtyZXR1cm4oMCxpLmV4dHJ1ZGVGYWNlKSh1LGwpfX0sOTEyODooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jcmVhdGVDeWxpbmRlcj10LmNyZWF0ZUNvbmU9dm9pZCAwO3ZhciBvPXIoMTk3MiksaT1yKDY0KSxuPXIoMjQ2OCkscz1yKDgyOTIpLGE9cigyOTg0KSxjPXIoMzQ0MCksdT1yKDgzNjApLGw9cigyOTU2KSxoPXIoNDUyNCksZD1yKDY3NzYpLHA9cig2NTA4KSxnPXIoNTgzNyksZj1yKDk5ODQpLHY9cig0NzI4KSxfPWZ1bmN0aW9uKGUsdCxyLF8seSxtKXt2YXIgRT1lLHg9dCxSPU1hdGguYWJzKHIpLEE9dm9pZCAwPT09Xz9SOk1hdGguYWJzKF8pO2lmKFI8bi5LRVJORUxfVE9MRVJBTkNFKXtFPXQseD1lO3ZhciBQPVI7Uj1BLEE9UH12LkNvbnNvbGVVdGlscy5hc3NlcnQoUj5uLktFUk5FTF9UT0xFUkFOQ0UpO3ZhciBWPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7by5WZWN0b3IzLnN1YnRyYWN0KFYseCxFKTt2YXIgVD1vLlZlY3RvcjMubGVuZ3RoKFYpO3YuQ29uc29sZVV0aWxzLmFzc2VydChUPm4uS0VSTkVMX1RPTEVSQU5DRSksby5WZWN0b3IzLnNjYWxlKFYsViwxL1QpO3ZhciBiPUEtUixDPU1hdGguYWJzKGIpPm4uS0VSTkVMX1RPTEVSQU5DRSxPPTA7QyYmKE89TWF0aC5hdGFuMihiLFQpKTt2YXIgTCxTPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7bSYmby5WZWN0b3IzLnN1YnRyYWN0KFMsbSxvLlZlY3RvcjMuc2NhbGUoUyxWLG8uVmVjdG9yMy5kb3QobSxWKSkpLCghbXx8by5WZWN0b3IzLnNxdWFyZWRMZW5ndGgoUyk8bi5LRVJORUxfVE9MRVJBTkNFKm4uS0VSTkVMX1RPTEVSQU5DRSkmJm8uVmVjdG9yMy5jb21wdXRlT3J0aG9nb25hbChTLFYpLG8uVmVjdG9yMy5ub3JtYWxpemUoUyxTKSxvLlZlY3RvcjMuc2NhbGUoUyxTLFIpO3ZhciBNPXl8fDE7di5Db25zb2xlVXRpbHMuYXNzZXJ0KE0+MCYmTTw9MSk7dmFyIHc9TWF0aC5tYXgoUixBKTtNYXRoLmFicyh3KigxLU0pKTxuLktFUk5FTF9UT0xFUkFOQ0U/Qz8oTD1uZXcgYS5Db25lKS5zZXQoRSxSLFYsTyxTLDEpOihMPW5ldyBjLkN5bGluZGVyKS5zZXQoRSxSLFYsUywxKTpDPyhMPW5ldyBsLkVsbGlwdGljYWxDb25lKS5zZXQoRSxTLE0sVixPLDEpOihMPW5ldyB1LkVsbGlwdGljYWxDeWxpbmRlcikuc2V0KEUsUyxNLFYsMSk7dmFyIE49WzAsVC9NYXRoLmNvcyhPKV07TC5saW1pdFJhbmdlVShOKTt2YXIgRj0oMCxpLm1ha2VDb25lT3JDeWxpbmRlclZQYXJhbUxvb3ApKEwsTlswXSksST0oMCxpLm1ha2VDb25lT3JDeWxpbmRlclZQYXJhbUxvb3ApKEwsTlsxXSk7Ri5nZXRDb2VkZ2VzKClbMF0uc2V0UmV2ZXJzZWQoITApO3ZhciBEPVtdO0RbMF09bmV3IGQuRmFjZSxEWzBdLnNldFN1cmZhY2UoTCksRFswXS5hZGRMb29wcyhbRixJXSk7dmFyIGo9Ri5nZXRDb2VkZ2VzKClbMF0uZ2V0RWRnZSgpO2lmKGouZ2V0Q3VydmUoKSl7dmFyIEI9bmV3IGguTG9vcDtCLmFkZENvZWRnZSgoMCxpLmNyZWF0ZUNvZWRnZU9uRWRnZSkoaikpLChHPW5ldyBkLkZhY2UpLmFkZExvb3AoQik7dmFyIFU9bmV3IHMuUGxhbmU7VS5zZXQoRSxWKSxHLnNldFN1cmZhY2UoVSksRy5zZXRSZXZlcnNlZCghMCksRC5wdXNoKEcpLHYuQ29uc29sZVV0aWxzLmFzc2VydChCLmdldENvZWRnZXMoKVswXS51dkFuZ2xlU3VidGVuZGVkKEUpPC1uLktFUk5FTF9UT0xFUkFOQ0UpfXZhciBrPUkuZ2V0Q29lZGdlcygpWzBdLmdldEVkZ2UoKTtpZihrLmdldEN1cnZlKCkpe3ZhciBHLHo9bmV3IGguTG9vcDt6LmFkZENvZWRnZSgoMCxpLmNyZWF0ZUNvZWRnZU9uRWRnZSkoaykpLChHPW5ldyBkLkZhY2UpLmFkZExvb3Aoeik7dmFyIFk9bmV3IHMuUGxhbmU7WS5zZXQoeCxWKSxHLnNldFN1cmZhY2UoWSksRC5wdXNoKEcpLHYuQ29uc29sZVV0aWxzLmFzc2VydCh6LmdldENvZWRnZXMoKVswXS51dkFuZ2xlU3VidGVuZGVkKHgpPC1uLktFUk5FTF9UT0xFUkFOQ0UpfXZhciBLPW5ldyBwLlNoZWxsO0suYWRkRmFjZXMoRCk7dmFyIHE9bmV3IGcuTHVtcDtxLmFkZFNoZWxsKEspO3ZhciBXPW5ldyBmLkJvZHk7cmV0dXJuIFcuYWRkTHVtcChxKSxXfTt0LmNyZWF0ZUNvbmU9Xyx0LmNyZWF0ZUN5bGluZGVyPWZ1bmN0aW9uKGUsdCxyLG8saSl7cmV0dXJuIF8oZSx0LHIscixvLGkpfX0sNDI2ODooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5zdmdGcm9tV2lyZT12b2lkIDA7dmFyIG89cigyNDY4KSxpPXIoNDcyOCk7dC5zdmdGcm9tV2lyZT1mdW5jdGlvbihlKXtlLmdldFRvcG9sb2d5VHlwZSgpPT09by5UT1BPTE9HWV9UWVBFUy5XSVJFQk9EWSYmY29uc29sZS53YXJuKFwic3ZnRnJvbVdpcmU6IFBhc3MgYSB3aXJlLCBub3QgYSB3aXJlIGJvZHkuXCIpLGkuQ29uc29sZVV0aWxzLmFzc2VydChlLmdldFRvcG9sb2d5VHlwZSgpPT09by5UT1BPTE9HWV9UWVBFUy5XSVJFLFwiSW5wdXQgdG9wb2xvZ3kgaXMgbm90IGEgV2lyZVwiKTt2YXIgdD1lLmdldE9yZGVyZWRFZGdlcygpO2lmKDA9PT10LmVkZ2VzLmxlbmd0aClyZXR1cm5cIlwiO2Zvcih2YXIgcj10LnN0YXJ0LG49ci5nZXRQb3NpdGlvbigpLHM9XCJNIFwiK25bMF0rXCIgXCIrblsxXSxhPTA7YTx0LmVkZ2VzLmxlbmd0aDsrK2Epe3ZhciBjPXQuZWRnZXNbYV07bj0ocj1yPT09Yy5nZXRTdGFydFZlcnRleCgpP2MuZ2V0RW5kVmVydGV4KCk6Yy5nZXRTdGFydFZlcnRleCgpKS5nZXRQb3NpdGlvbigpO3ZhciB1PWMuZ2V0Q3VydmUoKTtpZih1KWlmKHUuZ2V0R2VvbWV0cnlUeXBlKCk9PT1vLkdFT01FVFJZX1RZUEVTLkxJTkUpcys9XCIgTCBcIituWzBdK1wiIFwiK25bMV07ZWxzZSBpZih1LmdldEdlb21ldHJ5VHlwZSgpIT09by5HRU9NRVRSWV9UWVBFUy5CQ1VSVkV8fDMhPT11LmdldERlZ3JlZSgpfHx1LmlzUmF0aW9uYWwoKSljb25zb2xlLndhcm4oXCJVbmhhbmRsZWQgY3VydmUgdHlwZSBpbiBzdmdGcm9tV2lyZVwiKTtlbHNle2Zvcih2YXIgbD1bXSxoPXUuZ2V0QmV6aWVyU2VnbWVudHMoKSxkPTA7ZDxoLmxlbmd0aDtkKyspe3ZhciBwPWhbZF07aWYocClmb3IodmFyIGc9cC5nZXRDb250cm9sUG9pbnRzKCksZj0wO2Y8Zy5sZW5ndGg7Zis9MylsLnB1c2goW2dbZl0sZ1tmKzFdXSl9cj09PWMuZ2V0U3RhcnRWZXJ0ZXgoKSE9PWMuaXNSZXZlcnNlZCgpJiZsLnJldmVyc2UoKSxpLkNvbnNvbGVVdGlscy5hc3NlcnQobC5sZW5ndGg9PT00KmgubGVuZ3RoLFwiVW5leHBlY3RlZCBudW1iZXIgb2YgY29udHJvbCBwb2ludHNcIik7Zm9yKHZhciB2PTA7djxoLmxlbmd0aDsrK3Ypcys9XCIgQyBcIitsWzQqdisxXVswXStcIiBcIitsWzQqdisxXVsxXStcIiBcIitsWzQqdisyXVswXStcIiBcIitsWzQqdisyXVsxXStcIiBcIix2PT09aC5sZW5ndGgtMT9zKz1uWzBdK1wiIFwiK25bMV06cys9bFs0KnYrM11bMF0rXCIgXCIrbFs0KnYrM11bMV19fXJldHVybiBzfX0sNzYxNjooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5tZXJnZUNvbm5lY3RlZEZhY2VzPXQubWVyZ2VGYWNlcz10LmZpbmRDb25uZWN0ZWRGYWNlcz10LmZpbmRDb25uZWN0ZWRFZGdlcz10Lm1lcmdlQ29pbmNpZGVudFZlcnRpY2VzPXQudHJhbnNmb3JtVG9wb2xvZ3k9dC5yZXZlcnNlRmFjZT12b2lkIDA7dmFyIG89cigxOTcyKSxpPXIoMjQ2OCksbj1yKDQ1MjQpLHM9cig0NzI4KSxhPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ITEsbz0hMCxpPW5ldyBTZXQ7dCYmKHZvaWQgMCE9PXQuaW5wdXRGYWNlc09ubHkmJihyPXQuaW5wdXRGYWNlc09ubHkpLHZvaWQgMCE9PXQuYWxsb3dWZXJ0ZXhDb25uZWN0aW9ucyYmKG89dC5hbGxvd1ZlcnRleENvbm5lY3Rpb25zKSx2b2lkIDAhPT10LmJhcnJpZXJFZGdlcyYmKGk9bmV3IFNldCh0LmJhcnJpZXJFZGdlcykpKTt2YXIgbj1uZXcgU2V0LHM9bmV3IFNldChlKTtmb3IodmFyIGEsYz1bXTtzLnNpemU+MDspe24uY2xlYXIoKTt2YXIgdT1zLnZhbHVlcygpLm5leHQoKS52YWx1ZTthPXUscy5kZWxldGUoYSksbi5hZGQoYSksbi5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgYT1uZXcgU2V0O28/dC5jb2xsZWN0VmVydGljZXMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmNvbGxlY3RFZGdlcyhhKX0pKToodC5jb2xsZWN0RWRnZXMoYSksaS5mb3JFYWNoKChmdW5jdGlvbihlKXthLmRlbGV0ZShlKX0pKSksYS5mb3JFYWNoKChmdW5jdGlvbih0KXtmb3IodmFyIG89dC5nZXRDb2VkZ2UoKSxpPW87aTspe2lmKGkuZ2V0TG9vcCgpKXt2YXIgYT1pLmdldExvb3AoKS5nZXRGYWNlKCk7bi5oYXMoYSl8fHImJiEoZS5pbmRleE9mKGEpPj0wKXx8KG4uYWRkKGEpLHMuZGVsZXRlKGEpKX0oaT1pLmdldFBhcnRuZXIoKSk9PT1vJiYoaT12b2lkIDApfX0pKX0pKSxjLnB1c2goQXJyYXkuZnJvbShuKSl9cmV0dXJuIGN9LGM9ZnVuY3Rpb24oZSl7aWYoMSE9PWUubGVuZ3RoKXt2YXIgdD1uZXcgU2V0O2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5jb2xsZWN0RWRnZXModCl9KSk7dmFyIHI9bmV3IFNldCxvPVtdO3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGk9dC5nZXRDb2VkZ2VzKCksbj1pLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUuaW5kZXhPZih0LmdldEZhY2UoKSk+PTB9KSk7aWYoMj09PWkubGVuZ3RoJiZuWzBdJiZuWzFdKW8ucHVzaCh0KTtlbHNlIGZvcih2YXIgcz0wO3M8aS5sZW5ndGg7cysrKW5bc10mJihyLmFkZChpW3NdKSxpW3NdLnJlc2V0VVZDdXJ2ZSgpKX0pKTtmb3IodmFyIGk9W107ci5zaXplPjA7KXtmb3IodmFyIGE9W10sYz1yLnZhbHVlcygpLm5leHQoKS52YWx1ZTtjOyl7YS5wdXNoKGMpLHIuZGVsZXRlKGMpO3ZhciB1PWMsbD12b2lkIDAsaD0yKmMuZ2V0RW5kVmVydGV4KCkuZ2V0RWRnZXMoKS5sZW5ndGg7ZG97aWYodT11LmdldE5leHQoKSxyLmhhcyh1KSl7bD11O2JyZWFrfXU9dS5nZXRQYXJ0bmVyKCl9d2hpbGUodSYmdSE9PWMmJi0taD4wKTtjPWx9cy5Db25zb2xlVXRpbHMuYXNzZXJ0KGFbMF0uZ2V0U3RhcnRWZXJ0ZXgoKT09PWFbYS5sZW5ndGgtMV0uZ2V0RW5kVmVydGV4KCkpLGkucHVzaChhKX1vLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uuc2V0U3RhcnRWZXJ0ZXgobnVsbCksZS5zZXRFbmRWZXJ0ZXgobnVsbCl9KSk7dmFyIGQ9ZVswXTtkLnNldExvb3BzKFtdKSxpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBuLkxvb3A7dC5hZGRDb2VkZ2VzKGUpLGQuYWRkTG9vcCh0KX0pKTtmb3IodmFyIHA9MTtwPGUubGVuZ3RoO3ArKyllW3BdLmdldFNoZWxsKCkmJmVbcF0uZ2V0U2hlbGwoKS5yZW1vdmVGYWNlKGVbcF0pO3ZhciBnPWQuZ2V0U3VyZmFjZSgpO2cudW5saW1pdFJhbmdlVSgpLGcudW5saW1pdFJhbmdlVigpfX07dC5yZXZlcnNlRmFjZT1mdW5jdGlvbihlKXtlLnNldFJldmVyc2VkKCFlLmlzUmV2ZXJzZWQoKSk7Zm9yKHZhciB0LHI9ZS5nZXRMb29wcygpLG89MDtvPHIubGVuZ3RoOysrbyl7Zm9yKHZhciBpPXJbb10uZ2V0Q29lZGdlcygpLG49MDtuPGkubGVuZ3RoOysrbikodD1pW25dKS5zZXRSZXZlcnNlZCghdC5pc1JldmVyc2VkKCkpO2kucmV2ZXJzZSgpfX0sdC50cmFuc2Zvcm1Ub3BvbG9neT1mdW5jdGlvbihlLHQpe0FycmF5LmlzQXJyYXkoZSl8fChlPVtlXSk7Zm9yKHZhciByPW5ldyBTZXQsbz1uZXcgU2V0LG49bmV3IFNldCxzPTA7czxlLmxlbmd0aDsrK3Mpe3ZhciBhPWVbc10sYz1hLmdldFRvcG9sb2d5VHlwZSgpO2EuY29sbGVjdFZlcnRpY2VzKHIpLGMhPT1pLlRPUE9MT0dZX1RZUEVTLlZFUlRFWCYmYS5jb2xsZWN0RWRnZXMobyksYyE9PWkuVE9QT0xPR1lfVFlQRVMuVkVSVEVYJiZjIT09aS5UT1BPTE9HWV9UWVBFUy5FREdFJiZjIT09aS5UT1BPTE9HWV9UWVBFUy5DT0VER0UmJmMhPT1pLlRPUE9MT0dZX1RZUEVTLkxPT1AmJmEuY29sbGVjdEZhY2VzKG4pfXIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5nZXRQb2ludCgpJiZlLmdldFBvaW50KCkudHJhbnNmb3JtKHQpfSkpLG8uZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5nZXRDdXJ2ZSgpJiZlLmdldEN1cnZlKCkudHJhbnNmb3JtKHQpfSkpLG4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5nZXRTdXJmYWNlKCkmJmUuZ2V0U3VyZmFjZSgpLnRyYW5zZm9ybSh0KX0pKX0sdC5tZXJnZUNvaW5jaWRlbnRWZXJ0aWNlcz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9aS5LRVJORUxfVE9MRVJBTkNFKmkuS0VSTkVMX1RPTEVSQU5DRSxyPVtdLG49MDtuPGUubGVuZ3RoOysrbil7dmFyIHMsYT1lW25dLGM9YS5nZXRTdGFydFZlcnRleCgpLHU9YS5nZXRFbmRWZXJ0ZXgoKTtmb3Iocz0wO3M8ci5sZW5ndGgmJiEoby5WZWN0b3IzLnNxdWFyZWREaXN0YW5jZShjLmdldFBvc2l0aW9uKCkscltzXS5nZXRQb3NpdGlvbigpKTx0KTsrK3MpO2lmKHM9PT1yLmxlbmd0aD9yLnB1c2goYyk6KHJbc10uc2V0UHJlY2lzaW9uKE1hdGgubWF4KHJbc10uZ2V0UHJlY2lzaW9uKCksYy5nZXRQcmVjaXNpb24oKSkpLGEuc2V0U3RhcnRWZXJ0ZXgocltzXSkpLGMhPT11KWZvcihzPTA7czxyLmxlbmd0aCYmIShvLlZlY3RvcjMuc3F1YXJlZERpc3RhbmNlKHUuZ2V0UG9zaXRpb24oKSxyW3NdLmdldFBvc2l0aW9uKCkpPHQpOysrcyk7cz09PXIubGVuZ3RoP3IucHVzaCh1KToocltzXS5zZXRQcmVjaXNpb24oTWF0aC5tYXgocltzXS5nZXRQcmVjaXNpb24oKSx1LmdldFByZWNpc2lvbigpKSksYS5zZXRFbmRWZXJ0ZXgocltzXSkpfX0sdC5maW5kQ29ubmVjdGVkRWRnZXM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dHx8ITEsbz1bXSxpPW5ldyBTZXQsbj0wO248ZS5sZW5ndGg7KytuKXt2YXIgcz1lW25dO2lmKCFpLmhhcyhzKSl7Zm9yKHZhciBhPVtdLGM9W3NdLHU9MDt1PGMubGVuZ3RoOysrdSl7dmFyIGw9Y1t1XTtpLmhhcyhsKXx8ciYmIShlLmluZGV4T2YobCk+PTApfHwoaS5hZGQobCksYS5wdXNoKGwpLGM9Yy5jb25jYXQobC5nZXRTdGFydFZlcnRleCgpLmdldEVkZ2VzKCksbC5nZXRFbmRWZXJ0ZXgoKS5nZXRFZGdlcygpKSl9by5wdXNoKGEpfX1yZXR1cm4gb30sdC5maW5kQ29ubmVjdGVkRmFjZXM9YSx0Lm1lcmdlRmFjZXM9Yyx0Lm1lcmdlQ29ubmVjdGVkRmFjZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGEoZSx7aW5wdXRGYWNlc09ubHk6ITAsYWxsb3dWZXJ0ZXhDb25uZWN0aW9uczohMX0pLmZvckVhY2goKGZ1bmN0aW9uKGUpe2MoZSksdC5wdXNoKGVbMF0pfSkpLHR9fSw0NzI4OihlLHQpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9e2Fzc2VydDpmdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBFcnJvcih0KX19O3QuQ29uc29sZVV0aWxzPXJ9LDYxMjA6KGUsdCk9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj0hMSxvPSExLGk9e30sbj17aW5pdDNEOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiByPSEwLGUpXCJmdW5jdGlvblwiPT10eXBlb2YgZVt0XSYmKG5bdF09ZVt0XS5iaW5kKGUpKX0sc2V0TGV2ZWw6ZnVuY3Rpb24oZSx0KXt2YXIgcj1pW2VdO3JldHVybiBpW2VdPXQsY29uc29sZS5sb2coXCJEZWJ1ZyBvZiBcIitlK1wiIHNldCB0byBsZXZlbCBcIit0KSxyfSxsZXZlbDpmdW5jdGlvbihlKXtpZighcilyZXR1cm4gMDt2YXIgdD1pW2VdO3JldHVybiB2b2lkIDA9PT10PzA6dH0sc2V0Q29uc29sZVdhcm5pbmdzOmZ1bmN0aW9uKGUpe289ZX0sd2FybjpmdW5jdGlvbihlKXtvJiZjb25zb2xlLndhcm4oZSl9fTt0LkRlYnVnVXRpbHM9bn0sNjM0NDooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5lZGdlc0FyZUNvaW5jaWRlbnQ9dC5jdXJ2ZXNBcmVDb2luY2lkZW50PXZvaWQgMDt2YXIgbz1yKDE5NzIpLGk9cigyNDY4KSxuPXIoNDcyOCkscz1yKDYxMjApO2Z1bmN0aW9uIGEoZSx0LHIsaSxuKXt2YXIgcz1lLmV2YWx1YXRlUG9zaXRpb24odCksYT1yLmNsb3Nlc3RUb1BvaW50UGFyYW0ocyxpKSxjPXIuZXZhbHVhdGVQb3NpdGlvbihhKTtyZXR1cm4gby5WZWN0b3IzLnNxdWFyZWREaXN0YW5jZShzLGMpPG4qbn1mdW5jdGlvbiBjKGUsdCxyLGksbixzKXt2YXIgYz1bMCwwLDBdO2lmKG8uVmVjdG9yMy5pc1BhcmFsbGVsKGUsdC5nZXROb3JtYWwoKSkpcmV0dXJuITA7by5WZWN0b3IzLmFkZChjLHQuZ2V0Q2VudGVyKCksZSk7dmFyIHU9dC5jbG9zZXN0VG9Qb2ludFBhcmFtKGMsaSk7aWYodT5pWzBdJiZ1PGlbMV0mJiFhKHQsdSxyLG4scykpcmV0dXJuITE7by5WZWN0b3IzLnN1YihjLHQuZ2V0Q2VudGVyKCksZSk7dmFyIGw9dC5jbG9zZXN0VG9Qb2ludFBhcmFtKGMsaSk7cmV0dXJuIShsPmlbMF0mJmw8aVsxXSYmIWEodCxsLHIsbixzKSl9ZnVuY3Rpb24gdShlLHQscixvLGkpe2lmKCFhKGUsLjUqKHJbMF0rclsxXSksdCxvLGkpKXJldHVybiExO3ZhciBuPXQuY2xvc2VzdFRvUG9pbnRQYXJhbShlLmdldENlbnRlcigpLG8pO3JldHVybiEobj5vWzBdJiZuPG9bMV0mJiFhKHQsbixlLHIsaSkpfXZhciBsPWZ1bmN0aW9uKGUsdCxyLGwsaCl7cj8wPT09ci5sZW5ndGgmJihyPWUuZ2V0UmFuZ2VVbmxpbWl0ZWQoKSk6cj1lLmdldFJhbmdlKCksbD8wPT09bC5sZW5ndGgmJihsPXQuZ2V0UmFuZ2VVbmxpbWl0ZWQoKSk6bD10LmdldFJhbmdlKCksaHx8KGg9aS5LRVJORUxfVE9MRVJBTkNFKTt2YXIgZD1lLmdldEdlb21ldHJ5VHlwZSgpLHA9dC5nZXRHZW9tZXRyeVR5cGUoKTtpZighKGlzRmluaXRlKHJbMF0pJiZpc0Zpbml0ZShyWzFdKSYmaXNGaW5pdGUobFswXSkmJmlzRmluaXRlKGxbMV0pKSl7dmFyIGc9clswXT09PU51bWJlci5ORUdBVElWRV9JTkZJTklUWSYmclsxXT09PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxmPWxbMF09PT1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkmJmxbMV09PT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7cmV0dXJuISghZ3x8IWYpJiYobi5Db25zb2xlVXRpbHMuYXNzZXJ0KGQ9PT1pLkdFT01FVFJZX1RZUEVTLkxJTkUmJnA9PT1pLkdFT01FVFJZX1RZUEVTLkxJTkUpLGZ1bmN0aW9uKGUsdCxyKXtpZihlPT09dClyZXR1cm4hMDtpZighYShlLDAsdCxbXSxyKXx8IWEodCwwLGUsW10scikpcmV0dXJuITE7dmFyIGk9ZS5ldmFsdWF0ZUR0KDApO28uVmVjdG9yMy5ub3JtYWxpemUoaSxpKTt2YXIgbj10LmV2YWx1YXRlRHQoMCk7cmV0dXJuIG8uVmVjdG9yMy5ub3JtYWxpemUobixuKSxvLlZlY3RvcjMuZG90KGksbik8MCYmby5WZWN0b3IzLm5lZ2F0ZShuLG4pLG8uVmVjdG9yMy5lcXVhbHMoaSxuLG8uRkxPQVQ2NF9UT0xFUkFOQ0UpfShlLHQsaCkpfXJldHVybiBlPT09dCYmTWF0aC5hYnMoclswXS1sWzBdKTxvLkZMT0FUNjRfVE9MRVJBTkNFJiZNYXRoLmFicyhyWzFdLWxbMV0pPG8uRkxPQVQ2NF9UT0xFUkFOQ0V8fCEhKGEoZSxyWzBdLHQsbCxoKSYmYShlLHJbMV0sdCxsLGgpJiZhKHQsbFswXSxlLHIsaCkmJmEodCxsWzFdLGUscixoKSkmJihkPT09aS5HRU9NRVRSWV9UWVBFUy5MSU5FJiZwPT09aS5HRU9NRVRSWV9UWVBFUy5MSU5FfHwoZD09PWkuR0VPTUVUUllfVFlQRVMuQ0lSQ0xFJiZwPT09aS5HRU9NRVRSWV9UWVBFUy5DSVJDTEU/ZnVuY3Rpb24oZSx0LHIsaSxuKXt2YXIgcz0uNSooclswXStyWzFdKSx1PS41KihpWzBdK2lbMV0pO2lmKCFhKGUscyx0LGksbil8fCFhKHQsdSxlLHIsbikpcmV0dXJuITE7dmFyIGw9by5WZWN0b3IzLnN1YihbMCwwLDBdLHQuZ2V0Q2VudGVyKCksZS5nZXRDZW50ZXIoKSk7aWYoby5WZWN0b3IzLnNxdWFyZWRMZW5ndGgobCk+by5GTE9BVDY0X1RPTEVSQU5DRSpvLkZMT0FUNjRfVE9MRVJBTkNFKXtpZihvLlZlY3RvcjMubm9ybWFsaXplKGwsbCksIWMobCxlLHQscixpLG4pKXJldHVybiExO2lmKCFjKGwsdCxlLGkscixuKSlyZXR1cm4hMX1pZihvLlZlY3RvcjMuZG90KGUuZ2V0Tm9ybWFsKCksdC5nZXROb3JtYWwoKSk8MD9vLlZlY3RvcjMuYWRkKGwsZS5nZXROb3JtYWwoKSx0LmdldE5vcm1hbCgpKTpvLlZlY3RvcjMuc3ViKGwsZS5nZXROb3JtYWwoKSx0LmdldE5vcm1hbCgpKSxvLlZlY3RvcjMuc3F1YXJlZExlbmd0aChsKT5vLkZMT0FUNjRfVE9MRVJBTkNFKm8uRkxPQVQ2NF9UT0xFUkFOQ0Upe2lmKG8uVmVjdG9yMy5ub3JtYWxpemUobCxsKSwhYyhsLGUsdCxyLGksbikpcmV0dXJuITE7aWYoIWMobCx0LGUsaSxyLG4pKXJldHVybiExfWlmKHJbMV0tclswXTwyKk1hdGguUEktby5GTE9BVDY0X1RPTEVSQU5DRSl7dmFyIGg9ZS5ldmFsdWF0ZVBvc2l0aW9uKHMrTWF0aC5QSSksZD10LmNsb3Nlc3RUb1BvaW50UGFyYW0oaCxpKTtpZihkPmlbMF0mJmQ8aVsxXSYmIWEodCxkLGUscixuKSlyZXR1cm4hMX1pZihpWzFdLWlbMF08MipNYXRoLlBJLW8uRkxPQVQ2NF9UT0xFUkFOQ0Upe3ZhciBwPXQuZXZhbHVhdGVQb3NpdGlvbih1K01hdGguUEkpLGc9ZS5jbG9zZXN0VG9Qb2ludFBhcmFtKHAscik7aWYoZz5yWzBdJiZnPHJbMV0mJiFhKGUsZyx0LGksbikpcmV0dXJuITF9cmV0dXJuITB9KGUsdCxyLGwsaCk6ZD09PWkuR0VPTUVUUllfVFlQRVMuQ0lSQ0xFJiZwPT09aS5HRU9NRVRSWV9UWVBFUy5MSU5FP3UoZSx0LHIsbCxoKTpkPT09aS5HRU9NRVRSWV9UWVBFUy5MSU5FJiZwPT09aS5HRU9NRVRSWV9UWVBFUy5DSVJDTEU/dSh0LGUsbCxyLGgpOmZ1bmN0aW9uKGUsdCxyLGksbil7Zm9yKHZhciBhPVtyWzBdLHJbMV1dLGM9W2UuZXZhbHVhdGVQb3NpdGlvbihyWzBdKSxlLmV2YWx1YXRlUG9zaXRpb24oclsxXSldLHU9MDt1PDEwMDsrK3Upe3ZhciBsPS41KihhWzBdK2FbMV0pLGg9ZS5ldmFsdWF0ZVBvc2l0aW9uKGwpLGQ9dC5jbG9zZXN0VG9Qb2ludFBhcmFtKGgsaSkscD10LmV2YWx1YXRlUG9zaXRpb24oZCksZz1vLlZlY3RvcjMuc3ViKFswLDAsMF0scCxoKTtpZihvLlZlY3RvcjMuc3F1YXJlZExlbmd0aChnKT5uKm4pcmV0dXJuITE7aWYoby5WZWN0b3IzLmRpc3RhbmNlKGNbMF0saCkrby5WZWN0b3IzLmRpc3RhbmNlKGgsY1sxXSk8bilyZXR1cm4hMDt2YXIgZj1lLmV2YWx1YXRlRHQobCk7by5WZWN0b3IzLmRvdChmLGcpPDA/KGFbMF09bCxjWzBdPWgpOihhWzFdPWwsY1sxXT1oKX1yZXR1cm4gcy5EZWJ1Z1V0aWxzLndhcm4oXCJCaW5hcnkgc2VhcmNoIGluIGNvaW5jaWRlbmNlIGNoZWNrIGV4Y2VlZGVkIG1heGltdW0gaXRlcmF0aW9uc1wiKSwhMH0oZSx0LHIsbCxoKSkpfTt0LmN1cnZlc0FyZUNvaW5jaWRlbnQ9bCx0LmVkZ2VzQXJlQ29pbmNpZGVudD1mdW5jdGlvbihlLHQpe2lmKGU9PT10KXJldHVybiEwO3ZhciByPU1hdGgubWF4KGkuS0VSTkVMX1RPTEVSQU5DRSxlLmdldFByZWNpc2lvbigpLHQuZ2V0UHJlY2lzaW9uKCkpLG49ZS5nZXRDdXJ2ZSgpLHM9dC5nZXRDdXJ2ZSgpO2lmKCFufHwhcyl7aWYobnx8cylyZXR1cm4hMTt2YXIgYT1lLmdldFN0YXJ0VmVydGV4KCksYz10LmdldFN0YXJ0VmVydGV4KCk7cj1NYXRoLm1heChyLGEuZ2V0UHJlY2lzaW9uKCksYy5nZXRQcmVjaXNpb24oKSk7dmFyIHU9YS5nZXRQb3NpdGlvbigpLGg9Yy5nZXRQb3NpdGlvbigpO3JldHVybiBvLlZlY3RvcjMuc3F1YXJlZERpc3RhbmNlKHUsaCk8cipyfXZhciBkPWUuZ2V0UmFuZ2UoKTtlLmlzUmV2ZXJzZWQoKSYmKGQ9Wy1kWzFdLC1kWzBdXSk7dmFyIHA9dC5nZXRSYW5nZSgpO3JldHVybiB0LmlzUmV2ZXJzZWQoKSYmKHA9Wy1wWzFdLC1wWzBdXSksbChuLHMsZCxwLHIpfX0sMzkwMDooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5DQ0k9dm9pZCAwO3ZhciBvPXIoMTk3MiksaT1yKDk4OTIpLG49cig4ODApLHM9ZnVuY3Rpb24oZSx0KXt0aGlzLmN1dEluZm89ZSx0aGlzLmN1dEJ5SW5mbz10fSxhPWZ1bmN0aW9uKGUsdCxyLG8sbil7dGhpcy5fY3UxPWUsdGhpcy5fcmFuZ2UxPXQsdGhpcy5fY3UyPXIsdGhpcy5fcmFuZ2UyPW8sdGhpcy5fZXBzaWxvbj1uLHRoaXMuX3RyZWU9bmV3IGkuU3ViQ3VydmVUcmVlKGUsdCxyLG8sbil9O2EucHJvdG90eXBlLmludGVyc2VjdD1mdW5jdGlvbigpe3ZhciBlPVtdO3RoaXMuX3RyZWUuYnVpbGQoKTtmb3IodmFyIHQ9MDt0PHRoaXMuX3RyZWUuX292ZXJsYXBzLmxlbmd0aDsrK3Qpe3ZhciByPXRoaXMuX3RyZWUuX292ZXJsYXBzW3RdWzBdLG89dGhpcy5fdHJlZS5fb3ZlcmxhcHNbdF1bMV07ZT1lLmNvbmNhdCh0aGlzLl9zb2x2ZShyLl9yYW5nZSxvLl9yYW5nZSkpfXJldHVybiB0aGlzLl9tZXJnZShlKSxlfSxhLnByb3RvdHlwZS5fZGlzdGFuY2VTcXVhcmVkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fY3UxLmV2YWx1YXRlUG9zaXRpb24oZSksaT10aGlzLl9jdTIuZXZhbHVhdGVQb3NpdGlvbih0KTtyZXR1cm4gby5WZWN0b3IzLnNxdWFyZWREaXN0YW5jZShyLGkpfSxhLnByb3RvdHlwZS5fc29sdmU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXSxvPVsuNSooZVswXStlWzFdKSwuNSoodFswXSt0WzFdKV0saT10aGlzLl9yZWxheE5SKG8sW2UsdF0pLGE9aT09PW4uUmVsYXhSZXN1bHQuU3VjY2VzcztpZihpPT09bi5SZWxheFJlc3VsdC5PdXRPZlJhbmdlKXt2YXIgYz1vWzBdPGVbMF0rMWUtMTJ8fG9bMF0+ZVsxXS0xZS0xMix1PW9bMV08dFswXSsxZS0xMnx8b1sxXT50WzFdLTFlLTEyO2lmKGN8fHUpdGhpcy5fZGlzdGFuY2VTcXVhcmVkKG9bMF0sb1sxXSk8dGhpcy5fZXBzaWxvbip0aGlzLl9lcHNpbG9uJiYoYT0hMCl9cmV0dXJuIGEmJnIucHVzaChuZXcgcyh7cGFyYW06b1swXSxhdFZlcnRleDp2b2lkIDB9LHtwYXJhbTpvWzFdLGF0VmVydGV4OnZvaWQgMH0pKSxyfSxhLnByb3RvdHlwZS5fcmVsYXhOUj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsaT0oMCxuLm5ld3RvblJhcGhzb24yRCkoKGZ1bmN0aW9uKGUpe3ZhciB0PXIuX2N1MS5ldmFsdWF0ZVBvc2l0aW9uKGVbMF0pLGk9ci5fY3UyLmV2YWx1YXRlUG9zaXRpb24oZVsxXSksbj1bdFswXS1pWzBdLHRbMV0taVsxXV0scz1yLl9jdTEuZXZhbHVhdGVEdChlWzBdKSxhPXIuX2N1Mi5ldmFsdWF0ZUR0KGVbMV0pO3JldHVybiBvLlZlY3RvcjMubmVnYXRlKGEsYSkse3ZhbDpuLGRlcml2MTpzLGRlcml2MjphfX0pLGUsdCk7cmV0dXJuIGVbMF09aS5wYXJhbVswXSxlWzFdPWkucGFyYW1bMV0saS5zdGF0dXN9LGEucHJvdG90eXBlLl9tZXJnZT1mdW5jdGlvbihlKXtlLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY3V0SW5mby5wYXJhbS10LmN1dEluZm8ucGFyYW19KSk7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspaWYoZVt0XSlmb3IodmFyIHI9ZVt0XS5jdXRJbmZvLnBhcmFtLG89ZVt0XS5jdXRCeUluZm8ucGFyYW0saT10KzE7aTxlLmxlbmd0aDtpKyspaWYoZVtpXSl7dmFyIG49ZVtpXS5jdXRJbmZvLnBhcmFtLHM9ZVtpXS5jdXRCeUluZm8ucGFyYW07aWYobj5yKzFlLTExKWJyZWFrO2lmKE1hdGguYWJzKHMtbyk8PTFlLTExKXtlW3RdPXZvaWQgMDticmVha319Zm9yKHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdfHwoZS5zcGxpY2UodCwxKSx0LS0pfSx0LkNDST1hfSw4NDYwOihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmNvbXB1dGVDdXJ2ZUN1cnZlSW50ZXJzZWN0aW9ucz12b2lkIDA7dmFyIG89cigxOTcyKSxpPXIoMjQ2OCksbj1yKDM1NjUpLHM9cigxMDk2KSxhPXIoNzU4MCksYz1yKDY5NDApLHU9cig1ODU2KSxsPXIoNTQxNiksaD1yKDU4OTYpLGQ9cigzOTAwKSxwPWkuS0VSTkVMX1RPTEVSQU5DRSxnPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPXQscz1lLmdldFJhbmdlKCk7aWYoZS5nZXRDdXJ2ZSgpLmlzUGVyaW9kaWNVbmxpbWl0ZWQoKSYmKG48c1swXS1vLkZMT0FUNjRfVE9MRVJBTkNFfHxuPnNbMV0rby5GTE9BVDY0X1RPTEVSQU5DRSkpe3ZhciBhPWUuZ2V0Q3VydmUoKS5nZXRQZXJpb2RVbmxpbWl0ZWQoKTtuPSgwLGguZm9sZE5lYXJUbykobiwuNSooc1swXStzWzFdKSxhKX12YXIgYz1NYXRoLmFicyhuLXNbMF0pPE1hdGguYWJzKG4tc1sxXSk/MDoxLHU9by5WZWN0b3IzLmxlbmd0aChlLmV2YWx1YXRlRHQobikpO3JldHVybiBNYXRoLmFicyhuLXNbY10pKnU8cj97cGFyYW06c1tjXSxhdFZlcnRleDplLmdldFZlcnRleChjKX06bj49c1swXSYmbjw9c1sxXT97cGFyYW06bixhdFZlcnRleDp2b2lkIDB9OiFlLmlzQ2xvc2VkKCkmJmkuZGlzdGFuY2VUb1BvaW50KGUuZ2V0VmVydGV4KGMpLmdldFBvc2l0aW9uKCkpPHI/e3BhcmFtOnNbY10sYXRWZXJ0ZXg6ZS5nZXRWZXJ0ZXgoYyl9OnZvaWQgMH0sZj1mdW5jdGlvbihlLHQscixpLG4pe3ZhciBzPWcoZSx0LG4scik7aWYocyl7aWYocy5hdFZlcnRleCl7dmFyIGE9ci5nZXRSYW5nZSgpO2lmKGU9PT1yKWE9W2ktLjEqKGw9TWF0aC5hYnMoYVsxXS1hWzBdKSksaSsuMSpsXTt2YXIgYz1yLmNsb3Nlc3RUb1BvaW50UGFyYW0ocy5hdFZlcnRleC5nZXRQb3NpdGlvbigpLGEpO28uVmVjdG9yMy5kaXN0YW5jZShyLmV2YWx1YXRlUG9zaXRpb24oYykscy5hdFZlcnRleC5nZXRQb3NpdGlvbigpKTxuJiYoaT1jKX12YXIgdT1nKHIsaSxuLGUpO2lmKHUpe2lmKHUuYXRWZXJ0ZXgpe3ZhciBsO2E9ZS5nZXRSYW5nZSgpO2lmKGU9PT1yKWE9W3QtLjEqKGw9TWF0aC5hYnMoYVsxXS1hWzBdKSksdCsuMSpsXTtjPWUuY2xvc2VzdFRvUG9pbnRQYXJhbSh1LmF0VmVydGV4LmdldFBvc2l0aW9uKCksYSk7by5WZWN0b3IzLmRpc3RhbmNlKGUuZXZhbHVhdGVQb3NpdGlvbihjKSx1LmF0VmVydGV4LmdldFBvc2l0aW9uKCkpPG4mJihzPWcoZSx0PWMsbixyKSl9aWYocylyZXR1cm57Y3V0SW5mbzpzLGN1dEJ5SW5mbzp1fX19fSx2PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz1bdC1lLmdldFJhbmdlKClbMF0sdC1lLmdldFJhbmdlKClbMV1dO2lmKG9bMF0+PXImJm9bMV08PS1yKXJldHVybntwYXJhbTp0LGF0VmVydGV4OnZvaWQgMH07dmFyIGk9TWF0aC5hYnMob1swXSk8TWF0aC5hYnMob1sxXSk/MDoxO3JldHVybiBNYXRoLmFicyhvW2ldKTxyP3twYXJhbTplLmdldFJhbmdlKClbaV0sYXRWZXJ0ZXg6ZS5nZXRWZXJ0ZXgoaSl9OnZvaWQgMH0sXz1mdW5jdGlvbihlLHQscixuLHMsYSxjKXt2YXIgdT1lLmdldEN1cnZlKCkuZ2V0UGVyaW9kVW5saW1pdGVkKCksbD10LmdldEN1cnZlKCkuZ2V0UGVyaW9kVW5saW1pdGVkKCksZD1bclswXSxyWzJdXSxwPVtuWzBdLG5bMl1dLGY9W3Mvby5WZWN0b3IzLmxlbmd0aChlLmV2YWx1YXRlRHQoZFswXSkpLHMvby5WZWN0b3IzLmxlbmd0aChlLmV2YWx1YXRlRHQoZFsxXSkpXSx2PVtzL28uVmVjdG9yMy5sZW5ndGgodC5ldmFsdWF0ZUR0KHBbMF0pKSxzL28uVmVjdG9yMy5sZW5ndGgodC5ldmFsdWF0ZUR0KHBbMV0pKV07aWYoKCgwLGguaXNQYXJhbWV0ZXJXaXRoaW5QZXJpb2RpY1JhbmdlKShkWzBdLGUuZ2V0UmFuZ2UoKSx1LGZbMF0pfHwoMCxoLmlzUGFyYW1ldGVyV2l0aGluUGVyaW9kaWNSYW5nZSkoZFsxXSxlLmdldFJhbmdlKCksdSxmWzFdKSkmJigoMCxoLmlzUGFyYW1ldGVyV2l0aGluUGVyaW9kaWNSYW5nZSkocFswXSx0LmdldFJhbmdlKCksbCx2WzBdKXx8KDAsaC5pc1BhcmFtZXRlcldpdGhpblBlcmlvZGljUmFuZ2UpKHBbMV0sdC5nZXRSYW5nZSgpLGwsdlsxXSkpKXtmb3IodmFyIF89MDtfPDI7XysrKXtkW19dPSgwLGguYWRqdXN0UGFyYW1ldGVyVG9QZXJpb2RpY1JhbmdlKShkW19dLGUuZ2V0UmFuZ2UoKSx1LCExLCEwKSxwW19dPSgwLGguYWRqdXN0UGFyYW1ldGVyVG9QZXJpb2RpY1JhbmdlKShwW19dLHQuZ2V0UmFuZ2UoKSxsLCExLCEwKTt2YXIgeT0oMCxoLnBlcmlvZGljRGlmZmVyZW5jZSkoZFtfXSxlLmdldFJhbmdlKClbMF0sdSk8M2UtMTV8fCgwLGgucGVyaW9kaWNEaWZmZXJlbmNlKShkW19dLGUuZ2V0UmFuZ2UoKVsxXSx1KTwzZS0xNSxtPSgwLGgucGVyaW9kaWNEaWZmZXJlbmNlKShwW19dLHQuZ2V0UmFuZ2UoKVswXSxsKTwzZS0xNXx8KDAsaC5wZXJpb2RpY0RpZmZlcmVuY2UpKHBbX10sdC5nZXRSYW5nZSgpWzFdLGwpPDNlLTE1O2lmKGRbX10tZS5nZXRSYW5nZSgpWzBdPGZbX10mJihkW19dPWUuZ2V0UmFuZ2UoKVswXSx5PSEwKSxlLmdldFJhbmdlKClbMV0tZFtfXTxmW19dJiYoZFtfXT1lLmdldFJhbmdlKClbMV0seT0hMCkscFtfXS10LmdldFJhbmdlKClbMF08dltfXSYmKHBbX109dC5nZXRSYW5nZSgpWzBdLG09ITApLHQuZ2V0UmFuZ2UoKVsxXS1wW19dPHZbX10mJihwW19dPXQuZ2V0UmFuZ2UoKVsxXSxtPSEwKSx5KXt2YXIgRT10LmNsb3Nlc3RUb1BvaW50UGFyYW0oZS5ldmFsdWF0ZVBvc2l0aW9uKGRbX10pKTtwW19dPSgwLGguYWRqdXN0UGFyYW1ldGVyVG9QZXJpb2RpY1JhbmdlKShFLHQuZ2V0UmFuZ2UoKSxsLCExLCEwKX1pZihtKXt2YXIgeD1lLmNsb3Nlc3RUb1BvaW50UGFyYW0odC5ldmFsdWF0ZVBvc2l0aW9uKHBbX10pKTtpZihkW19dPSgwLGguYWRqdXN0UGFyYW1ldGVyVG9QZXJpb2RpY1JhbmdlKSh4LGUuZ2V0UmFuZ2UoKSx1LCExLCEwKSwoMCxoLnBlcmlvZGljRGlmZmVyZW5jZSkoZFtfXSxlLmdldFJhbmdlKClbMF0sdSk8M2UtMTV8fCgwLGgucGVyaW9kaWNEaWZmZXJlbmNlKShkW19dLGUuZ2V0UmFuZ2UoKVsxXSx1KTwzZS0xNSl7RT10LmNsb3Nlc3RUb1BvaW50UGFyYW0oZS5ldmFsdWF0ZVBvc2l0aW9uKGRbX10pKTtwW19dPSgwLGguYWRqdXN0UGFyYW1ldGVyVG9QZXJpb2RpY1JhbmdlKShFLHQuZ2V0UmFuZ2UoKSxsLCExLCEwKX19fXZhciBSLEE7aWYoKDAsaC5wZXJpb2RpY0RpZmZlcmVuY2UpKGRbMF0sZFsxXSx1KTxNYXRoLm1pbihmWzBdLGZbMV0pJiYoMCxoLnBlcmlvZGljRGlmZmVyZW5jZSkocFswXSxwWzFdLGwpPE1hdGgubWluKHZbMF0sdlsxXSkpUj1nKGUsLjUqKGRbMF0rZFsxXSkscyxlKSxBPWcodCwuNSoocFswXStwWzFdKSxzLHQpO2Vsc2V7Uj1nKGUsclsxXSxzLGUpLEE9Zyh0LG5bMV0scyx0KTtmb3IoXz0wO188MjtfKyspaWYoISgoMCxoLnBlcmlvZGljRGlmZmVyZW5jZSkoZFtfXSxSLnBhcmFtLHUpPGZbX10mJigwLGgucGVyaW9kaWNEaWZmZXJlbmNlKShwW19dLEEucGFyYW0sbCk8dltfXSkpe3ZhciBQLFYsVD1nKGUsZFtfXSxzLGUpLGI9Zyh0LHBbX10scyx0KTtpZihpc0Zpbml0ZSh1KSl7dmFyIEM9KDAsaC5nZXRTaG9ydGVzdFBhcmFtZXRyaWNSYW5nZSkoVC5wYXJhbSxSLnBhcmFtLHUpO1A9KDAsaC5wZXJpb2RpY0RpZmZlcmVuY2UpKFIucGFyYW0sQ1swXSx1KTw9aS5LRVJORUxfQU5HVUxBUl9UT0xFUkFOQ0V9ZWxzZSBQPVQucGFyYW0+Ui5wYXJhbTtpZihpc0Zpbml0ZShsKSl7Qz0oMCxoLmdldFNob3J0ZXN0UGFyYW1ldHJpY1JhbmdlKShiLnBhcmFtLEEucGFyYW0sbCk7Vj0oMCxoLnBlcmlvZGljRGlmZmVyZW5jZSkoQS5wYXJhbSxDWzBdLGwpPD1pLktFUk5FTF9BTkdVTEFSX1RPTEVSQU5DRX1lbHNlIFY9Yi5wYXJhbT5BLnBhcmFtO2EucHVzaCh7cmFuZ2VJbmZvOlA/W1IsVF06W1QsUl0scmFuZ2VCeUluZm86Vj9bQSxiXTpbYixBXX0pfX1jJiZjLnB1c2goe2ZpcnN0UGFyYW06Ui5wYXJhbSxzZWNvbmRQYXJhbTpBLnBhcmFtfSl9fSx5PWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPWUuZ2V0UmFuZ2UoKSxzPWUuZXZhbHVhdGVQb3NpdGlvbigwKSxhPWUuZXZhbHVhdGVEdCgwKSxjPW8uVmVjdG9yMi5sZW5ndGgoYSksdT10LmdldFJhbmdlKCksbD10LmV2YWx1YXRlUG9zaXRpb24oMCksZD10LmV2YWx1YXRlRHQoMCkscD1vLlZlY3RvcjIubGVuZ3RoKGQpLGc9W2FbMV0vYywtYVswXS9jXSxfPXQuZXZhbHVhdGVQb3NpdGlvbih1WzBdKTtvLlZlY3RvcjIuc3VidHJhY3QoXyxfLHMpO3ZhciB5PW8uVmVjdG9yMi5kb3QoXyxnKSxtPXQuZXZhbHVhdGVQb3NpdGlvbih1WzFdKTtvLlZlY3RvcjIuc3VidHJhY3QobSxtLHMpO3ZhciBFPW8uVmVjdG9yMi5kb3QobSxnKTtpZihNYXRoLmFicyh5KTw9aSYmTWF0aC5hYnMoRSk8PWkpe3ZhciB4PW8uVmVjdG9yMi5kb3QoXyxhKS8oYypjKSxSPW8uVmVjdG9yMi5kb3QobSxhKS8oYypjKSxBPVtNYXRoLm1pbih4LFIpLE1hdGgubWF4KHgsUildLFA9aS9jLFY9aS9wO2lmKEFbMV08blswXS1QfHxBWzBdPm5bMV0rUClyZXR1cm5bXTt2YXIgVD1bTWF0aC5tYXgoblswXSxBWzBdKSxNYXRoLm1pbihuWzFdLEFbMV0pXTtpZihUWzFdLVRbMF08UCl7dmFyIGI9LjUqKFRbMF0rVFsxXSksQz1NYXRoLmFicyhSLXgpPm8uRkxPQVQ2NF9UT0xFUkFOQ0U/dVswXSsodVsxXS11WzBdKSooYi14KS8oUi14KTouNSoodVswXSt1WzFdKTtyZXR1cm5be2N1dEluZm86dihlLGIsUCksY3V0QnlJbmZvOnYodCxDLFYpfV19aWYoIXIpcmV0dXJuW107dmFyIE89dVswXSsodVsxXS11WzBdKSooVFswXS14KS8oUi14KSxMPXVbMF0rKHVbMV0tdVswXSkqKFRbMV0teCkvKFIteCk7cmV0dXJuW3tyYW5nZUluZm86W3YoZSxUWzBdLFApLHYoZSxUWzFdLFApXSxyYW5nZUJ5SW5mbzpbdih0LE1hdGgubWluKE8sTCksViksdih0LE1hdGgubWF4KE8sTCksVildfV19aWYoeT5pJiZFPml8fHk8LWkmJkU8LWkpcmV0dXJuW107dmFyIFM9W1thWzBdLC1kWzBdLGxbMF0tc1swXV0sW2FbMV0sLWRbMV0sbFsxXS1zWzFdXV0sTT0oMCxoLnNvbHZlVHdvRXF1YXRpb25zVHdvVmFyaWFibGVzKShTKTtpZihNKXt2YXIgdz1mKGUsTVswXSx0LE1bMV0saSk7aWYodylyZXR1cm5bd119cmV0dXJuW119LG09ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dC5nZXRDZW50ZXIoKSxzPWUuY2xvc2VzdFRvUG9pbnRQYXJhbShuLFtdKSxhPWUuZXZhbHVhdGVQb3NpdGlvbihzKSxjPW8uVmVjdG9yMy5zcXVhcmVkRGlzdGFuY2UoYSxuKSx1PVtdLGw9dC5nZXRSYWRpdXMoKSxoPWwtTWF0aC5zcXJ0KGMpO2lmKGg8LXIpO2Vsc2UgaWYoaDxyKWk9dC5jbG9zZXN0VG9Qb2ludFBhcmFtKGEsW10pLHUucHVzaCh7bGluZVBhcmFtOnMsY2lyY2xlUGFyYW06aX0pO2Vsc2UgZm9yKHZhciBkPU1hdGguc3FydChsKmwtYykvby5WZWN0b3IzLmxlbmd0aChlLmV2YWx1YXRlRHQoMCkpLHA9MDtwPDI7KytwKXt2YXIgZz1zKygwPT09cD8tMToxKSpkLGY9ZS5ldmFsdWF0ZVBvc2l0aW9uKGcpO2k9dC5jbG9zZXN0VG9Qb2ludFBhcmFtKGYsW10pLHUucHVzaCh7bGluZVBhcmFtOmcsY2lyY2xlUGFyYW06aX0pfXJldHVybiB1fSxFPWZ1bmN0aW9uKGUsdCxyLG8saSxuKXt2YXIgcz1bclswXSt0Km9bMF0tZSpvWzFdLHJbMV0rdCpvWzFdK2Uqb1swXSwwXTtyZXR1cm57Zmlyc3RQYXJhbTppLmNsb3Nlc3RUb1BvaW50UGFyYW0ocyxbMCwyKk1hdGguUEldKSxzZWNvbmRQYXJhbTpuLmNsb3Nlc3RUb1BvaW50UGFyYW0ocyxbMCwyKk1hdGguUEldKX19LHg9ZnVuY3Rpb24oZSx0KXt0fHwodD1pLktFUk5FTF9UT0xFUkFOQ0UpO2Zvcih2YXIgcj1bXSxvPSExLG49W10scz1bXSxhPTA7YTxlLmxlbmd0aDsrK2EpZVthXS5oYXNPd25Qcm9wZXJ0eShcInJhbmdlSW5mb1wiKT8oITE9PT1vPyhuPWVbYV0ucmFuZ2VJbmZvLHM9ZVthXS5yYW5nZUJ5SW5mbyk6TWF0aC5hYnMoblsxXS5wYXJhbS1lW2FdLnJhbmdlSW5mb1swXS5wYXJhbSk8dCYmTWF0aC5hYnMoc1sxXS5wYXJhbS1lW2FdLnJhbmdlQnlJbmZvWzBdLnBhcmFtKTx0PyhuWzFdPWVbYV0ucmFuZ2VJbmZvWzFdLHNbMV09ZVthXS5yYW5nZUJ5SW5mb1sxXSk6KHIucHVzaCh7cmFuZ2VJbmZvOm4scmFuZ2VCeUluZm86c30pLG49ZVthXS5yYW5nZUluZm8scz1lW2FdLnJhbmdlQnlJbmZvKSxvPSEwKTplW2FdLmhhc093blByb3BlcnR5KFwiY3V0SW5mb1wiKT8obyYmci5wdXNoKHtyYW5nZUluZm86bixyYW5nZUJ5SW5mbzpzfSksci5wdXNoKGVbYV0pLG89ITEpOmNvbnNvbGUud2FybihcInVua25vd24gc2VnbWVudCB0eXBlIGluIGludGVyc2VjdGlvbiBjb2RlXCIpO3JldHVybiBvJiZyLnB1c2goe3JhbmdlSW5mbzpuLHJhbmdlQnlJbmZvOnN9KSxyfSxSPWZ1bmN0aW9uKGUsdCxyLGksbil7dmFyIHM9ci5nZXRDb250cm9sUG9pbnRzKCksYT1yLmdldEtub3RWZWN0b3IoKSxjPWUuZ2V0Qm91bmRpbmdCb3goKSx1PVtdO2lmKCFyLmdldEJvdW5kaW5nQm94KFthWzBdLGFbYS5sZW5ndGgtMV1dKS5pbnRlcnNlY3RzV2l0aFRvbGVyYW5jZShjLG4pKXJldHVybiB1O3ZhciBkPW5ldyBGbG9hdDY0QXJyYXkocy5sZW5ndGgpLHA9cy5sZW5ndGgvMy0xLHk9by5WZWN0b3IyLmNyZWF0ZUZsb2F0NjRGcm9tVmFsdWVzKGUuZ2V0U3RhcnRWZXJ0ZXgoKS5nZXRQb3NpdGlvbigpWzBdLGUuZ2V0U3RhcnRWZXJ0ZXgoKS5nZXRQb3NpdGlvbigpWzFdKSxtPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7by5WZWN0b3IzLnN1YihtLGUuZ2V0RW5kVmVydGV4KCkuZ2V0UG9zaXRpb24oKSxlLmdldFN0YXJ0VmVydGV4KCkuZ2V0UG9zaXRpb24oKSksby5WZWN0b3IzLm5vcm1hbGl6ZShtLG0pO2Zvcih2YXIgRT1vLlZlY3RvcjIuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXMobVswXSxtWzFdKSx4PW8uVmVjdG9yMi5jcmVhdGVGbG9hdDY0KCksUj0hMCxBPTA7QTw9cDsrK0EpeFswXT1zWzMqQSswXSx4WzFdPXNbMypBKzFdLGRbMypBKzBdPUEvcCxkWzMqQSsxXT0oMCxoLnNpZ25lZERpc3RhbmNlVG8yRExpbmUpKHksRSx4KSxNYXRoLmFicyhkWzMqQSsxXSk+biYmKFI9ITEpLGRbMypBKzJdPTA7aWYoUilyZXR1cm4gaT8odT1mdW5jdGlvbihlLHQscixpLG4pe3ZhciBzPWkubGVuZ3RoLzMtMSxhPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcyhpWzBdLGlbMV0saVsyXSksYz1lLmNsb3Nlc3RUb1BvaW50UGFyYW0oYSksdT1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXMoaVszKnMrMF0saVszKnMrMV0saVszKnMrMl0pLGw9ZS5jbG9zZXN0VG9Qb2ludFBhcmFtKHUpLGg9W3YoZSxjLHIpLHYoZSxsLHIpXTtpZihoWzBdLnBhcmFtPmhbMV0ucGFyYW0pe3ZhciBkPWhbMF07aFswXT1oWzFdLGhbMV09ZH12YXIgcD1uWzBdLGY9bltuLmxlbmd0aC0xXTtpZih0LmlzUmV2ZXJzZWQoKSl7dmFyIF89cDtwPS1mLGY9LV99dmFyIHk9W2codCxwLHIsZSksZyh0LGYscixlKV07cmV0dXJuIGhbMF0mJmhbMV0mJnlbMF0mJnlbMV0/W3tyYW5nZUluZm86aCxyYW5nZUJ5SW5mbzp5fV06KGNvbnNvbGUud2FybihcIkVycm9yIGluIGludGVyc2VjdGlvbiBjb21wdXRhdGlvbi5cIiksW10pfShlLHQsbixzLGEpLHUpOltdO3ZhciBQPW5ldyBGbG9hdDY0QXJyYXkoMyksVj1bXTtyZXR1cm4gdT1mdW5jdGlvbihlLHQscixvLGksbixzLGEsYyl7dmFyIHUsbD1bXSxoPW8ubGVuZ3RoLzMtMTszPT09bj8oc1swXT5zWzFdJiYodT1zWzBdLHNbMF09c1sxXSxzWzFdPXUpLHNbMV0+c1syXSYmKHU9c1sxXSxzWzFdPXNbMl0sc1syXT11KSxzWzBdPnNbMV0mJih1PXNbMF0sc1swXT1zWzFdLHNbMV09dSkpOjI9PT1uJiZzWzBdPnNbMV0mJih1PXNbMF0sc1swXT1zWzFdLHNbMV09dSk7dmFyIGQ9WyExLCExLCExXSxwPWlbaS5sZW5ndGgtMV0taVswXSx2PXQuZ2V0Q3VydmUoKS50YW5nZW50TGVuZ3RoKGlbMF0pKnA7TWF0aC5hYnMob1sxXSk8ciYmKDA9PT1ufHxzWzBdPnIvdikmJihuKyssc1syXT1zWzFdLHNbMV09c1swXSxzWzBdPTAsZFswXT0hMCk7dmFyIHk9dC5nZXRDdXJ2ZSgpLnRhbmdlbnRMZW5ndGgoaVtpLmxlbmd0aC0xXSkqcDtNYXRoLmFicyhvWzMqaCsxXSk8ciYmKDA9PT1ufHwxLXNbbi0xXT5yL3kpJiYoc1tuXT0xLGRbbl09ITAsbisrKTtmb3IodmFyIG09ZS5pc1JldmVyc2VkKCk/LTE6MSxFPXQuaXNSZXZlcnNlZCgpPy0xOjEseD0wLFI9MDtSPG4rMTsrK1Ipe3ZhciBBPSExO2lmKFIhPT1uKXt2YXIgUD1zW1JdO3NbUl09aVswXSsoaVtpLmxlbmd0aC0xXS1pWzBdKSpzW1JdO3ZhciBWPXQuZ2V0Q3VydmUoKS5ldmFsdWF0ZVBvc2l0aW9uKHNbUl0pLFQ9ZS5nZXRDdXJ2ZSgpLmNsb3Nlc3RUb1BvaW50UGFyYW0oVixbXSksYj1mKGUsVCptLHQsc1tSXSpFLHIpO2ImJihiLmN1dEluZm8udmlydHVhbEludGVyc2VjdGlvbj1kW1JdLGIuY3V0QnlJbmZvLnZpcnR1YWxJbnRlcnNlY3Rpb249ZFtSXSxsLnB1c2goYikpfWVsc2UgUD1pW2kubGVuZ3RoLTFdLEE9TWF0aC5hYnMob1szKmgrMV0pPnI7aWYoMD09PVImJlA+MCYmTWF0aC5hYnMob1swXSk+ciYmKEE9ITApLGMpe3ZhciBDPXZvaWQgMDtpZihhLmxlbmd0aD4wJiZhWzBdWzBdPj14JiZhWzBdWzBdPD1QJiYoQz1hWzBdKSxhLmxlbmd0aD4xJiZhWzFdWzBdPj14JiZhWzFdWzBdPD1QJiYoQz1hWzFdKSx2b2lkIDAhPT1DJiZNYXRoLmFicyhDWzFdKTxyJiYhQSl7dmFyIE89W2lbMF0rKGlbaS5sZW5ndGgtMV0taVswXSkqeCxpWzBdKyhpW2kubGVuZ3RoLTFdLWlbMF0pKlBdLEw9W2UuZ2V0Q3VydmUoKS5jbG9zZXN0VG9Qb2ludFBhcmFtKHQuZ2V0Q3VydmUoKS5ldmFsdWF0ZVBvc2l0aW9uKE9bMF0pLFtdKSxlLmdldEN1cnZlKCkuY2xvc2VzdFRvUG9pbnRQYXJhbSh0LmdldEN1cnZlKCkuZXZhbHVhdGVQb3NpdGlvbihPWzFdKSxbXSldO2lmKE1hdGguYWJzKExbMF0tTFsxXSk+cil7dmFyIFM9W2coZSxMWzBdKm0scix0KSxnKGUsTFsxXSptLHIsdCldLE09W2codCxPWzBdKkUscixlKSxnKHQsT1sxXSpFLHIsZSldO2lmKFNbMF0mJlNbMV0mJk1bMF0mJk1bMV0pe3ZhciB3PWlbMF0rKGlbaS5sZW5ndGgtMV0taVswXSkqQ1swXTt3IT09T1swXSYmdyE9PU9bMV18fCh3PS41KihPWzBdK09bMV0pKTt2YXIgTj1lLmdldEN1cnZlKCkuY2xvc2VzdFRvUG9pbnRQYXJhbSh0LmdldEN1cnZlKCkuZXZhbHVhdGVQb3NpdGlvbih3KSxbXSk7XyhlLHQsW0xbMF0qbSxOKm0sTFsxXSptXSxbT1swXSpFLHcqRSxPWzFdKkVdLHIsbCk7dmFyIEY9e2N1dEluZm86ZyhlLE4qbSxyLGUpLGN1dEJ5SW5mbzpnKHQsdypFLHIsZSl9O0YuY3V0SW5mby52aXJ0dWFsSW50ZXJzZWN0aW9uPSEwLEYuY3V0QnlJbmZvLnZpcnR1YWxJbnRlcnNlY3Rpb249ITAsbC5wdXNoKEYpfX19fXg9UH1yZXR1cm4gbH0oZSx0LG4sZCxhLGwuU3BsaW5lQ3VydmVIZWxwZXIuaW50ZXJzZWN0X3hBeGlzX05vblJhdGlvbmFsQ3ViaWNCU3BsaW5lX1hZUGxhbmFyM0QoWzAsMCwwXSxkLFAsViksUCxWLGkpLHV9LEE9ZnVuY3Rpb24oZSx0LHIsbyl7dmFyIGk9ZS5nZXRCb3VuZGluZ0JveCgpLG49W107aWYoIXQuZ2V0Qm91bmRpbmdCb3goKS5pbnRlcnNlY3RzV2l0aFRvbGVyYW5jZShpLG8pKXJldHVybiBuO2Zvcih2YXIgcz10LmdldEN1cnZlKCkuZ2V0QmV6aWVyU2VnbWVudHMoKSxhPXMubGVuZ3RoLGM9MDtjPGE7YysrKWZvcih2YXIgdT1SKGUsdCxzW2NdLHIsbyksbD0wO2w8dS5sZW5ndGg7KytsKW4ucHVzaCh1W2xdKTtyZXR1cm4gbj14KG4pfSxQPWZ1bmN0aW9uKGUsdCxyLGksbil7dmFyIGE9ci5nZXRDb250cm9sUG9pbnRzKCksYz1yLmdldEtub3RWZWN0b3IoKSxsPWUuZ2V0Qm91bmRpbmdCb3goKSxkPVtdO2lmKCFyLmdldEJvdW5kaW5nQm94KFtjWzBdLGNbYy5sZW5ndGgtMV1dKS5pbnRlcnNlY3RzV2l0aFRvbGVyYW5jZShsLG4pKXJldHVybiBkO2Zvcih2YXIgdj0hMCxfPW8uVmVjdG9yMi5jcmVhdGVGbG9hdDY0KCkseT1vLlZlY3RvcjIuY3JlYXRlRmxvYXQ2NCgpLEU9by5WZWN0b3IyLmNyZWF0ZUZsb2F0NjQoKSx4PTA7eDxhLmxlbmd0aC8zLTImJnY7Kyt4KV9bMF09YVszKngrMF0sX1sxXT1hWzMqeCsxXSx5WzBdPWFbMyp4KzNdLHlbMV09YVszKngrNF0sRVswXT1hWzMqeCs2XSxFWzFdPWFbMyp4KzddLHY9TWF0aC5hYnMoKDAsaC5vcmllbnQyRCkoXyx5LEUpKTxwO2lmKHYpe3ZhciBSPW5ldyBzLkxpbmUsQT1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXMoYVswXSxhWzFdLGFbMl0pLFA9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjRGcm9tVmFsdWVzKGFbYS5sZW5ndGgtM10sYVthLmxlbmd0aC0yXSxhW2EubGVuZ3RoLTFdKTtSLnNldEZyb21FbmRwb2ludHMoQSxQKTt2YXIgVj1vLlZlY3RvcjMuZGlzdGFuY2UoUCxBKSxUPW0oUixlLmdldEN1cnZlKCksbik7Zm9yKHg9MDt4PFQubGVuZ3RoOysreClpZihUW3hdLmxpbmVQYXJhbT49MCYmVFt4XS5saW5lUGFyYW08PVYpe1RbeF0ubGluZVBhcmFtPXQuZ2V0Q3VydmUoKS5jbG9zZXN0VG9Qb2ludFBhcmFtKFIuZXZhbHVhdGVQb3NpdGlvbihUW3hdLmxpbmVQYXJhbSksW10pO3ZhciBiPWcoZSxUW3hdLmNpcmNsZVBhcmFtKihlLmlzUmV2ZXJzZWQoKT8tMToxKSxuLHQpLEM9Zyh0LFRbeF0ubGluZVBhcmFtKih0LmlzUmV2ZXJzZWQoKT8tMToxKSxuLGUpO0MmJmImJmQucHVzaCh7Y3V0SW5mbzpiLGN1dEJ5SW5mbzpDfSl9cmV0dXJuIGR9dmFyIE89by5WZWN0b3IyLmNyZWF0ZUZsb2F0NjQoKSxMPW8uVmVjdG9yMi5jcmVhdGVGbG9hdDY0KCksUz1vLlZlY3RvcjIuY3JlYXRlRmxvYXQ2NCgpLE09by5WZWN0b3IyLmNyZWF0ZUZsb2F0NjQoKTtPWzBdPS1hWzBdKzMqYVszXS0zKmFbNl0rYVs5XSxPWzFdPS1hWzFdKzMqYVs0XS0zKmFbN10rYVsxMF0sTFswXT0zKmFbMF0tNiphWzNdKzMqYVs2XSxMWzFdPTMqYVsxXS02KmFbNF0rMyphWzddLFNbMF09LTMqYVswXSszKmFbM10sU1sxXT0tMyphWzFdKzMqYVs0XSxNWzBdPWFbMF0sTVsxXT1hWzFdO3ZhciB3PWUuZ2V0Q3VydmUoKS5nZXRDZW50ZXIoKSxOPWUuZ2V0Q3VydmUoKS5nZXRSYWRpdXMoKSplLmdldEN1cnZlKCkuZ2V0UmFkaXVzKCksRj1OLEk9bmV3IEZsb2F0NjRBcnJheSg3KTtJWzBdPUYqT1swXSpPWzBdK04qT1sxXSpPWzFdLElbMV09MipGKk9bMF0qTFswXSsyKkxbMV0qTipPWzFdLElbMl09MipTWzBdKkYqT1swXStMWzFdKkxbMV0qTitGKkxbMF0qTFswXSsyKlNbMV0qTipPWzFdLElbM109LTIqd1sxXSpOKk9bMV0rMipMWzFdKlNbMV0qTisyKlNbMF0qRipMWzBdLTIqRipPWzBdKndbMF0rMipGKk9bMF0qTVswXSsyKk1bMV0qTipPWzFdLElbNF09LTIqRip3WzBdKkxbMF0rU1sxXSpTWzFdKk4tMip3WzFdKkxbMV0qTisyKkYqTVswXSpMWzBdK1NbMF0qU1swXSpGKzIqTVsxXSpMWzFdKk4sSVs1XT0tMip3WzFdKlNbMV0qTi0yKlNbMF0qRip3WzBdKzIqU1swXSpGKk1bMF0rMipNWzFdKlNbMV0qTixJWzZdPUYqd1swXSp3WzBdLTIqTVsxXSp3WzFdKk4tRipOK3dbMV0qd1sxXSpOK01bMV0qTVsxXSpOLTIqRip3WzBdKk1bMF0rRipNWzBdKk1bMF07dmFyIEQ9KDAsdS5nZXRSZWFsUG9seW5vbWlhbFJvb3RzKShJKTtmb3IoeD0wO3g8RC5sZW5ndGg7Kyt4KWlmKERbeF0+PTAmJkRbeF08PTEpe0RbeF09Y1swXSsoY1tjLmxlbmd0aC0xXS1jWzBdKSpEW3hdO3ZhciBqPXQuZ2V0Q3VydmUoKS5ldmFsdWF0ZVBvc2l0aW9uKERbeF0pLEI9ZS5nZXRDdXJ2ZSgpLmNsb3Nlc3RUb1BvaW50UGFyYW0oaixbXSksVT1mKGUsQiooZS5pc1JldmVyc2VkKCk/LTE6MSksdCxEW3hdKih0LmlzUmV2ZXJzZWQoKT8tMToxKSxuKTtVJiZkLnB1c2goVSl9cmV0dXJuIGR9LFY9ZnVuY3Rpb24oZSx0LHIsbyxpKXt2YXIgbj1lLmdldEJvdW5kaW5nQm94KCkscz1bXTtpZighdC5nZXRCb3VuZGluZ0JveCgpLmludGVyc2VjdHNXaXRoVG9sZXJhbmNlKG4saSkpcmV0dXJuIHM7dmFyIGE9MDtlLmlzQ2xvc2VkKCkmJm8mJihhPTEpO2Zvcih2YXIgYz10LmdldEN1cnZlKCkuZ2V0QmV6aWVyU2VnbWVudHMoKSx1PWMubGVuZ3RoLGw9MDtsPHU7bCsrKWZvcih2YXIgaD1QKGUsdCxjW2xdLDAsaSksZD0wO2Q8aC5sZW5ndGg7KytkKWZvcih2YXIgcD0tYTtwPD1hOysrcClzLnB1c2goe2N1dEluZm86e2F0VmVydGV4OmhbZF0uY3V0SW5mby5hdFZlcnRleCxwYXJhbTpoW2RdLmN1dEluZm8ucGFyYW0rcCpNYXRoLlBJKjJ9LGN1dEJ5SW5mbzpoW2RdLmN1dEJ5SW5mb30pO3JldHVybiBzPXgocyl9LFQ9ZnVuY3Rpb24oZSx0LHIsbCxkLHYsXyl7dmFyIG09ci5nZXRDb250cm9sUG9pbnRzKCksRT1yLmdldEtub3RWZWN0b3IoKSx4PWwuZ2V0Q29udHJvbFBvaW50cygpLEE9bC5nZXRLbm90VmVjdG9yKCksUD1yLmdldEJvdW5kaW5nQm94KFtFWzBdLEVbRS5sZW5ndGgtMV1dKSxWPWwuZ2V0Qm91bmRpbmdCb3goW0FbMF0sQVtBLmxlbmd0aC0xXV0pLFQ9ZT09PXQsYj0hMSxDPSExO1QmJk1hdGguYWJzKG1bbS5sZW5ndGgtM10teFswXSk8diYmTWF0aC5hYnMobVt4Lmxlbmd0aC0yXS14WzFdKTx2JiZNYXRoLmFicyhtW3gubGVuZ3RoLTFdLXhbMl0pPHYmJihiPSEwKSxUJiZNYXRoLmFicyhtWzBdLXhbbS5sZW5ndGgtM10pPHYmJk1hdGguYWJzKG1bMV0teFt4Lmxlbmd0aC0yXSk8diYmTWF0aC5hYnMobVsyXS14W3gubGVuZ3RoLTFdKTx2JiYoQz0hMCk7dmFyIE89W107aWYoIVAuaW50ZXJzZWN0c1dpdGhUb2xlcmFuY2UoVix2KSlyZXR1cm4gTzt2YXIgTD0hMCxTPSEwLE09by5WZWN0b3IyLmNyZWF0ZUZsb2F0NjQoKSx3PW8uVmVjdG9yMi5jcmVhdGVGbG9hdDY0KCksTj1vLlZlY3RvcjIuY3JlYXRlRmxvYXQ2NCgpO2Zvcih3ZT0wO3dlPG0ubGVuZ3RoLzMtMiYmTDsrK3dlKU1bMF09bVszKndlKzBdLE1bMV09bVszKndlKzFdLHdbMF09bVszKndlKzNdLHdbMV09bVszKndlKzRdLE5bMF09bVszKndlKzZdLE5bMV09bVszKndlKzddLEw9TWF0aC5hYnMoKDAsaC5vcmllbnQyRCkoTSx3LE4pKTxwO2Zvcih3ZT0wO3dlPHgubGVuZ3RoLzMtMiYmUzsrK3dlKU1bMF09eFszKndlKzBdLE1bMV09eFszKndlKzFdLHdbMF09eFszKndlKzNdLHdbMV09eFszKndlKzRdLE5bMF09eFszKndlKzZdLE5bMV09eFszKndlKzddLFM9TWF0aC5hYnMoKDAsaC5vcmllbnQyRCkoTSx3LE4pKTxwO2lmKEx8fFMpcmV0dXJuIE89ZnVuY3Rpb24oZSx0LHIsdSxsLGgsZCxwLHYpe3ZhciBfPWwuZ2V0Q29udHJvbFBvaW50cygpLG09aC5nZXRDb250cm9sUG9pbnRzKCksRT1bXTtpZihlJiYhdHx8IWUmJnQpe3ZhciB4LEEsUD1uZXcgcy5MaW5lO2U/KHg9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjRGcm9tVmFsdWVzKF9bMF0sX1sxXSxfWzJdKSxBPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcyhfW18ubGVuZ3RoLTNdLF9bXy5sZW5ndGgtMl0sX1tfLmxlbmd0aC0xXSkpOih4PW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcyhtWzBdLG1bMV0sbVsyXSksQT1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXMobVttLmxlbmd0aC0zXSxtW20ubGVuZ3RoLTJdLG1bbS5sZW5ndGgtMV0pKSxQLnNldEZyb21FbmRwb2ludHMoeCxBKTt2YXIgVj1uZXcgYS5FZGdlKFApLFQ9by5WZWN0b3IzLmRpc3RhbmNlKEEseCk7Vi5zZXRSYW5nZShbMCxUXSk7dmFyIGI9bmV3IG4uUG9pbnQ7Yi5zZXRQb3NpdGlvbih4WzBdLHhbMV0seFsyXSk7dmFyIEM9bmV3IG4uUG9pbnQ7Qy5zZXRQb3NpdGlvbihBWzBdLEFbMV0sQVsyXSk7dmFyIE8sTD1uZXcgYy5WZXJ0ZXgoYiksUz1uZXcgYy5WZXJ0ZXgoQyk7Vi5zZXRTdGFydFZlcnRleChMKSxWLnNldEVuZFZlcnRleChTKSxlZT1lP1IoVix1LGgsZCxwKTpSKFYscixsLGQscCk7Zm9yKHZhciBNPTA7TTxlZS5sZW5ndGg7KytNKWlmKGVlW01dLmhhc093blByb3BlcnR5KFwiY3V0SW5mb1wiKSYmZWVbTV0uaGFzT3duUHJvcGVydHkoXCJjdXRCeUluZm9cIikpe2lmKGVlW01dLmN1dEluZm8ucGFyYW0+PTAmJmVlW01dLmN1dEluZm8ucGFyYW08PVQmJihlPyhlZVtNXS5jdXRJbmZvLnBhcmFtPXIuY2xvc2VzdFRvUG9pbnRQYXJhbShQLmV2YWx1YXRlUG9zaXRpb24oZWVbTV0uY3V0SW5mby5wYXJhbSkpLE89ZihyLGVlW01dLmN1dEluZm8ucGFyYW0sdSxlZVtNXS5jdXRCeUluZm8ucGFyYW0scCkpOihlZVtNXS5jdXRJbmZvLnBhcmFtPXUuY2xvc2VzdFRvUG9pbnRQYXJhbShQLmV2YWx1YXRlUG9zaXRpb24oZWVbTV0uY3V0SW5mby5wYXJhbSkpLE89ZihyLGVlW01dLmN1dEJ5SW5mby5wYXJhbSx1LGVlW01dLmN1dEluZm8ucGFyYW0scCkpLE8pKWlmKHYpe3ZhciB3PU8uY3V0SW5mby5wYXJhbSxOPU8uY3V0QnlJbmZvLnBhcmFtOyhGPU1hdGguYWJzKHctTikqby5WZWN0b3IzLmxlbmd0aChyLmV2YWx1YXRlRHQodykpKT5pLktFUk5FTF9UT0xFUkFOQ0UmJiFlZVtNXS5jdXRJbmZvLnZpcnR1YWxJbnRlcnNlY3Rpb24mJkUucHVzaChPKX1lbHNlIEUucHVzaChPKX1lbHNlIGlmKGVlW01dLmhhc093blByb3BlcnR5KFwicmFuZ2VJbmZvXCIpJiZlZVtNXS5oYXNPd25Qcm9wZXJ0eShcInJhbmdlQnlJbmZvXCIpJiZlZVtNXS5yYW5nZUluZm9bMF0ucGFyYW0+PTAmJmVlW01dLnJhbmdlSW5mb1swXS5wYXJhbTw9VCYmZWVbTV0ucmFuZ2VJbmZvWzFdLnBhcmFtPj0wJiZlZVtNXS5yYW5nZUluZm9bMV0ucGFyYW08PVQpaWYoZT8oZWVbTV0ucmFuZ2VJbmZvWzBdLnBhcmFtPXIuY2xvc2VzdFRvUG9pbnRQYXJhbShQLmV2YWx1YXRlUG9zaXRpb24oZWVbTV0ucmFuZ2VJbmZvWzBdLnBhcmFtKSksZWVbTV0ucmFuZ2VJbmZvWzFdLnBhcmFtPXIuY2xvc2VzdFRvUG9pbnRQYXJhbShQLmV2YWx1YXRlUG9zaXRpb24oZWVbTV0ucmFuZ2VJbmZvWzFdLnBhcmFtKSkpOihlZVtNXS5yYW5nZUluZm9bMF0ucGFyYW09dS5jbG9zZXN0VG9Qb2ludFBhcmFtKFAuZXZhbHVhdGVQb3NpdGlvbihlZVtNXS5yYW5nZUluZm9bMF0ucGFyYW0pKSxlZVtNXS5yYW5nZUluZm9bMV0ucGFyYW09dS5jbG9zZXN0VG9Qb2ludFBhcmFtKFAuZXZhbHVhdGVQb3NpdGlvbihlZVtNXS5yYW5nZUluZm9bMV0ucGFyYW0pKSksZT8odGU9W2cocixlZVtNXS5yYW5nZUluZm9bMF0ucGFyYW0scCx1KSxnKHIsZWVbTV0ucmFuZ2VJbmZvWzFdLnBhcmFtLHAsdSldLHJlPVtnKHUsZWVbTV0ucmFuZ2VCeUluZm9bMF0ucGFyYW0scCxyKSxnKHUsZWVbTV0ucmFuZ2VCeUluZm9bMV0ucGFyYW0scCxyKV0pOih0ZT1bZyhyLGVlW01dLnJhbmdlQnlJbmZvWzBdLnBhcmFtLHAsdSksZyhyLGVlW01dLnJhbmdlQnlJbmZvWzFdLnBhcmFtLHAsdSldLHJlPVtnKHUsZWVbTV0ucmFuZ2VJbmZvWzBdLnBhcmFtLHAsciksZyh1LGVlW01dLnJhbmdlSW5mb1sxXS5wYXJhbSxwLHIpXSksdGVbMF0mJnRlWzFdJiZyZVswXSYmcmVbMV0pe3ZhciBGPU1hdGguYWJzKHRlWzFdLnBhcmFtLXJlWzBdLnBhcmFtKSpvLlZlY3RvcjMubGVuZ3RoKHIuZXZhbHVhdGVEdCh0ZVsxXSkpOyghdnx8diYmRj5pLktFUk5FTF9UT0xFUkFOQ0UpJiZFLnB1c2goe3JhbmdlSW5mbzp0ZSxyYW5nZUJ5SW5mbzpyZX0pfWVsc2UgY29uc29sZS53YXJuKFwiRXJyb3IgaW4gaW50ZXJzZWN0aW9uIGNvbXB1dGF0aW9uLlwiKX1lbHNle3ZhciBJPW5ldyBzLkxpbmUsRD1uZXcgcy5MaW5lLGo9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjRGcm9tVmFsdWVzKF9bMF0sX1sxXSxfWzJdKSxCPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcyhfW18ubGVuZ3RoLTNdLF9bXy5sZW5ndGgtMl0sX1tfLmxlbmd0aC0xXSksVT1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXMobVswXSxtWzFdLG1bMl0pLGs9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjRGcm9tVmFsdWVzKG1bbS5sZW5ndGgtM10sbVttLmxlbmd0aC0yXSxtW20ubGVuZ3RoLTFdKTtJLnNldEZyb21FbmRwb2ludHMoaixCKSxELnNldEZyb21FbmRwb2ludHMoVSxrKTt2YXIgRz1uZXcgYS5FZGdlKEkpLHo9by5WZWN0b3IzLmRpc3RhbmNlKEIsaiksWT1uZXcgYS5FZGdlKEQpLEs9by5WZWN0b3IzLmRpc3RhbmNlKGssVSk7Ry5zZXRSYW5nZShbMCx6XSksWS5zZXRSYW5nZShbMCxLXSk7dmFyIHE9bmV3IG4uUG9pbnQ7cS5zZXRQb3NpdGlvbihqWzBdLGpbMV0salsyXSk7dmFyIFc9bmV3IG4uUG9pbnQ7Vy5zZXRQb3NpdGlvbihCWzBdLEJbMV0sQlsyXSk7dmFyIEg9bmV3IG4uUG9pbnQ7SC5zZXRQb3NpdGlvbihVWzBdLFVbMV0sVVsyXSk7dmFyIFg9bmV3IG4uUG9pbnQ7WC5zZXRQb3NpdGlvbihrWzBdLGtbMV0sa1syXSk7dmFyIEo9bmV3IGMuVmVydGV4KHEpLCQ9bmV3IGMuVmVydGV4KFcpLFo9bmV3IGMuVmVydGV4KEgpLFE9bmV3IGMuVmVydGV4KFgpO0cuc2V0U3RhcnRWZXJ0ZXgoSiksRy5zZXRFbmRWZXJ0ZXgoJCksWS5zZXRTdGFydFZlcnRleChaKSxZLnNldEVuZFZlcnRleChRKTt2YXIgZWU9eShHLFksZCxwKTtmb3IoTT0wO008ZWUubGVuZ3RoOysrTSlpZihlZVtNXS5oYXNPd25Qcm9wZXJ0eShcImN1dEluZm9cIikmJmVlW01dLmhhc093blByb3BlcnR5KFwiY3V0QnlJbmZvXCIpKWVlW01dLmN1dEluZm8ucGFyYW0+PTAmJmVlW01dLmN1dEluZm8ucGFyYW08PXomJmVlW01dLmN1dEJ5SW5mby5wYXJhbT49MCYmZWVbTV0uY3V0QnlJbmZvLnBhcmFtPD1LJiYoZWVbTV0uY3V0SW5mby5wYXJhbT1yLmNsb3Nlc3RUb1BvaW50UGFyYW0oSS5ldmFsdWF0ZVBvc2l0aW9uKGVlW01dLmN1dEluZm8ucGFyYW0pKSxlZVtNXS5jdXRCeUluZm8ucGFyYW09dS5jbG9zZXN0VG9Qb2ludFBhcmFtKEQuZXZhbHVhdGVQb3NpdGlvbihlZVtNXS5jdXRCeUluZm8ucGFyYW0pKSxPPWYocixlZVtNXS5jdXRJbmZvLnBhcmFtLHUsZWVbTV0uY3V0QnlJbmZvLnBhcmFtLHApKSYmKHc9Ty5jdXRJbmZvLnBhcmFtLE49Ty5jdXRCeUluZm8ucGFyYW0sRj1NYXRoLmFicyh3LU4pKm8uVmVjdG9yMy5sZW5ndGgoci5ldmFsdWF0ZUR0KHcpKSwoIXZ8fHYmJkY+aS5LRVJORUxfVE9MRVJBTkNFKSYmRS5wdXNoKE8pKTtlbHNlIGlmKGVlW01dLmhhc093blByb3BlcnR5KFwicmFuZ2VJbmZvXCIpJiZlZVtNXS5oYXNPd25Qcm9wZXJ0eShcInJhbmdlQnlJbmZvXCIpJiZlZVtNXS5yYW5nZUluZm9bMF0ucGFyYW0+PTAmJmVlW01dLnJhbmdlSW5mb1swXS5wYXJhbTw9eiYmZWVbTV0ucmFuZ2VJbmZvWzFdLnBhcmFtPj0wJiZlZVtNXS5yYW5nZUluZm9bMV0ucGFyYW08PXomJmVlW01dLnJhbmdlQnlJbmZvWzBdLnBhcmFtPj0wJiZlZVtNXS5yYW5nZUJ5SW5mb1swXS5wYXJhbTw9SyYmZWVbTV0ucmFuZ2VCeUluZm9bMV0ucGFyYW0+PTAmJmVlW01dLnJhbmdlQnlJbmZvWzFdLnBhcmFtPD1LKXtlZVtNXS5yYW5nZUluZm9bMF0ucGFyYW09ci5jbG9zZXN0VG9Qb2ludFBhcmFtKEkuZXZhbHVhdGVQb3NpdGlvbihlZVtNXS5yYW5nZUluZm9bMF0ucGFyYW0pKSxlZVtNXS5yYW5nZUluZm9bMV0ucGFyYW09ci5jbG9zZXN0VG9Qb2ludFBhcmFtKEkuZXZhbHVhdGVQb3NpdGlvbihlZVtNXS5yYW5nZUluZm9bMV0ucGFyYW0pKSxlZVtNXS5yYW5nZUJ5SW5mb1swXS5wYXJhbT11LmNsb3Nlc3RUb1BvaW50UGFyYW0oRC5ldmFsdWF0ZVBvc2l0aW9uKGVlW01dLnJhbmdlQnlJbmZvWzBdLnBhcmFtKSksZWVbTV0ucmFuZ2VCeUluZm9bMV0ucGFyYW09dS5jbG9zZXN0VG9Qb2ludFBhcmFtKEQuZXZhbHVhdGVQb3NpdGlvbihlZVtNXS5yYW5nZUJ5SW5mb1sxXS5wYXJhbSkpO3ZhciB0ZT1bZyhyLGVlW01dLnJhbmdlSW5mb1swXS5wYXJhbSxwLHUpLGcocixlZVtNXS5yYW5nZUluZm9bMV0ucGFyYW0scCx1KV0scmU9W2codSxlZVtNXS5yYW5nZUJ5SW5mb1swXS5wYXJhbSxwLHIpLGcodSxlZVtNXS5yYW5nZUJ5SW5mb1sxXS5wYXJhbSxwLHIpXTt0ZVswXSYmdGVbMV0mJnJlWzBdJiZyZVsxXT8oRj1NYXRoLmFicyh0ZVsxXS5wYXJhbS1yZVswXS5wYXJhbSkqby5WZWN0b3IzLmxlbmd0aChyLmV2YWx1YXRlRHQodGVbMV0pKSwoIXZ8fHYmJkY+aS5LRVJORUxfVE9MRVJBTkNFKSYmRS5wdXNoKHtyYW5nZUluZm86dGUscmFuZ2VCeUluZm86cmV9KSk6Y29uc29sZS53YXJuKFwiRXJyb3IgaW4gaW50ZXJzZWN0aW9uIGNvbXB1dGF0aW9uLlwiKX19cmV0dXJuIEV9KEwsUyxlLHQscixsLGQsdixfKSxPO3ZhciBGPS1tWzBdKzMqbVszXS0zKm1bNl0rbVs5XSxJPTMqbVswXS02Km1bM10rMyptWzZdLEQ9LTMqbVswXSszKm1bM10saj1tWzBdLEI9LW1bMV0rMyptWzRdLTMqbVs3XSttWzEwXSxVPTMqbVsxXS02Km1bNF0rMyptWzddLGs9LTMqbVsxXSszKm1bNF0sRz1tWzFdLHo9aipqLFk9RCpELEs9SSpJLHE9RipGLFc9aipqKmosSD1EKkQqRCxYPUkqSSpJLEo9RipGKkYsJD1HKkcsWj1rKmssUT1VKlUsZWU9QipCLHRlPUcqRypHLHJlPWsqayprLG9lPVUqVSpVLGllPUIqQipCLG5lPS14WzBdKzMqeFszXS0zKnhbNl0reFs5XSxzZT0zKnhbMF0tNip4WzNdKzMqeFs2XSxhZT0tMyp4WzBdKzMqeFszXSxjZT14WzBdLHVlPS14WzFdKzMqeFs0XS0zKnhbN10reFsxMF0sbGU9Myp4WzFdLTYqeFs0XSszKnhbN10saGU9LTMqeFsxXSszKnhbNF0sZGU9eFsxXSxwZT1jZSpjZSxnZT1jZSpjZSpjZSxmZT1kZSpkZSx2ZT1kZSpkZSpkZSxfZT1hZSphZSx5ZT1hZSphZSphZSxtZT1oZSpoZSxFZT1oZSpoZSpoZSx4ZT1zZSpzZSxSZT1zZSpzZSpzZSxBZT1sZSpsZSxQZT1sZSpsZSpsZSxWZT1uZSpuZSxUZT11ZSp1ZSxiZT1uZXcgRmxvYXQ2NEFycmF5KDEwKSxDZT1GKnVlLUIqbmU7YmVbMF09Q2UqQ2UqQ2UsYmVbMV09MyooRipsZS1CKnNlKSpDZSpDZSxiZVsyXT0zKihGKnVlLUIqbmUpKihxKmhlKnVlK3EqQWUtRipCKmFlKnVlLTIqRipCKnNlKmxlLUYqQipuZSpoZStlZSphZSpuZStlZSp4ZSksYmVbM109MypqKnEqQipUZS02KmoqRiplZSpuZSp1ZSszKmoqaWUqVmUtMypEKkkqRipCKlRlKzMqRCpJKmVlKm5lKnVlKzIqRCpxKlUqVGUtRCpGKlUqQipuZSp1ZS1EKlUqZWUqVmUrWCpCKlRlLUsqRipVKlRlLTIqSypVKkIqbmUqdWUrSSpxKmsqVGUrSSpGKmsqQipuZSp1ZSsyKkkqRipRKm5lKnVlLTIqSSprKmVlKlZlK0kqUSpCKlZlLTMqSipHKlRlKzMqSipkZSpUZSs2KkoqaGUqbGUqdWUrSipQZSs2KnEqRypCKm5lKnVlLTMqcSprKlUqbmUqdWUtMypxKkIqY2UqVGUtNipxKkIqYWUqbGUqdWUtNipxKkIqc2UqaGUqdWUtMypxKkIqc2UqQWUtNipxKkIqbmUqZGUqdWUtNipxKkIqbmUqaGUqbGUtMypGKkcqZWUqVmUrMypGKmsqVSpCKlZlLUYqb2UqVmUrNipGKmVlKmNlKm5lKnVlKzYqRiplZSphZSpzZSp1ZSs2KkYqZWUqYWUqbmUqbGUrMypGKmVlKnhlKmxlKzYqRiplZSpzZSpuZSpoZSszKkYqZWUqVmUqZGUtMyppZSpjZSpWZS02KmllKmFlKnNlKm5lLWllKlJlLGJlWzRdPTYqaipxKkIqbGUqdWUtNipqKkYqZWUqc2UqdWUtNipqKkYqZWUqbmUqbGUrNipqKmllKnNlKm5lLTYqRCpJKkYqQipsZSp1ZSszKkQqSSplZSpzZSp1ZSszKkQqSSplZSpuZSpsZSs0KkQqcSpVKmxlKnVlLUQqRipVKkIqc2UqdWUtRCpGKlUqQipuZSpsZS0yKkQqVSplZSpzZSpuZSsyKlgqQipsZSp1ZS0yKksqRipVKmxlKnVlLTIqSypVKkIqc2UqdWUtMipLKlUqQipuZSpsZSsyKkkqcSprKmxlKnVlK0kqRiprKkIqc2UqdWUrSSpGKmsqQipuZSpsZSsyKkkqRipRKnNlKnVlKzIqSSpGKlEqbmUqbGUtNCpJKmsqZWUqc2UqbmUrMipJKlEqQipzZSpuZS02KkoqRypsZSp1ZSs2KkoqZGUqbGUqdWUrMypKKm1lKnVlKzMqSipoZSpBZSs2KnEqRypCKnNlKnVlKzYqcSpHKkIqbmUqbGUtMypxKmsqVSpzZSp1ZS0zKnEqaypVKm5lKmxlLTYqcSpCKmNlKmxlKnVlLTYqcSpCKmFlKmhlKnVlLTMqcSpCKmFlKkFlLTYqcSpCKnNlKmRlKnVlLTYqcSpCKnNlKmhlKmxlLTYqcSpCKm5lKmRlKmxlLTMqcSpCKm5lKm1lLTYqRipHKmVlKnNlKm5lKzYqRiprKlUqQipzZSpuZS0yKkYqb2Uqc2UqbmUrNipGKmVlKmNlKnNlKnVlKzYqRiplZSpjZSpuZSpsZSszKkYqZWUqX2UqdWUrNipGKmVlKmFlKnNlKmxlKzYqRiplZSphZSpuZSpoZSszKkYqZWUqeGUqaGUrNipGKmVlKnNlKm5lKmRlLTYqaWUqY2Uqc2UqbmUtMyppZSpfZSpuZS0zKmllKmFlKnhlLGJlWzVdPTYqaipxKkIqaGUqdWUrMypqKnEqQipBZS02KmoqRiplZSphZSp1ZS02KmoqRiplZSpzZSpsZS02KmoqRiplZSpuZSpoZSs2KmoqaWUqYWUqbmUrMypqKmllKnhlLTYqRCpJKkYqQipoZSp1ZS0zKkQqSSpGKkIqQWUrMypEKkkqZWUqYWUqdWUrMypEKkkqZWUqc2UqbGUrMypEKkkqZWUqbmUqaGUrNCpEKnEqVSpoZSp1ZSsyKkQqcSpVKkFlLUQqRipVKkIqYWUqdWUtRCpGKlUqQipzZSpsZS1EKkYqVSpCKm5lKmhlLTIqRCpVKmVlKmFlKm5lLUQqVSplZSp4ZSsyKlgqQipoZSp1ZStYKkIqQWUtMipLKkYqVSpoZSp1ZS1LKkYqVSpBZS0yKksqVSpCKmFlKnVlLTIqSypVKkIqc2UqbGUtMipLKlUqQipuZSpoZSsyKkkqcSprKmhlKnVlK0kqcSprKkFlK0kqRiprKkIqYWUqdWUrSSpGKmsqQipzZSpsZStJKkYqaypCKm5lKmhlKzIqSSpGKlEqYWUqdWUrMipJKkYqUSpzZSpsZSsyKkkqRipRKm5lKmhlLTQqSSprKmVlKmFlKm5lLTIqSSprKmVlKnhlKzIqSSpRKkIqYWUqbmUrSSpRKkIqeGUtNipKKkcqaGUqdWUtMypKKkcqQWUrNipKKmRlKmhlKnVlKzMqSipkZSpBZSszKkoqbWUqbGUrNipxKkcqQiphZSp1ZSs2KnEqRypCKnNlKmxlKzYqcSpHKkIqbmUqaGUtMypxKmsqVSphZSp1ZS0zKnEqaypVKnNlKmxlLTMqcSprKlUqbmUqaGUtNipxKkIqY2UqaGUqdWUtMypxKkIqY2UqQWUtNipxKkIqYWUqZGUqdWUtNipxKkIqYWUqaGUqbGUtNipxKkIqc2UqZGUqbGUtMypxKkIqc2UqbWUtNipxKkIqbmUqZGUqaGUtNipGKkcqZWUqYWUqbmUtMypGKkcqZWUqeGUrNipGKmsqVSpCKmFlKm5lKzMqRiprKlUqQip4ZS0yKkYqb2UqYWUqbmUtRipvZSp4ZSs2KkYqZWUqY2UqYWUqdWUrNipGKmVlKmNlKnNlKmxlKzYqRiplZSpjZSpuZSpoZSszKkYqZWUqX2UqbGUrNipGKmVlKmFlKnNlKmhlKzYqRiplZSphZSpuZSpkZSszKkYqZWUqeGUqZGUtNippZSpjZSphZSpuZS0zKmllKmNlKnhlLTMqaWUqX2Uqc2UsYmVbNl09Myp6KkYqZWUqdWUtMyp6KmllKm5lLTMqaipEKkkqZWUqdWUraipEKkYqVSpCKnVlKzIqaipEKlUqZWUqbmUrMipqKksqVSpCKnVlLWoqSSpGKmsqQip1ZS0yKmoqSSpGKlEqdWUrNCpqKkkqayplZSpuZS0yKmoqSSpRKkIqbmUtNipqKnEqRypCKnVlKzMqaipxKmsqVSp1ZSs2KmoqcSpCKmRlKnVlKzYqaipxKkIqaGUqbGUrNipqKkYqRyplZSpuZS02KmoqRiprKlUqQipuZSsyKmoqRipvZSpuZS02KmoqRiplZSpjZSp1ZS02KmoqRiplZSphZSpsZS02KmoqRiplZSpzZSpoZS02KmoqRiplZSpuZSpkZSs2KmoqaWUqY2UqbmUrNipqKmllKmFlKnNlK0gqZWUqdWUtWSpJKlUqQip1ZS0yKlkqRiprKkIqdWUrWSpGKlEqdWUtWSprKmVlKm5lK0QqSyprKkIqdWUrNipEKkkqRipHKkIqdWUtRCpJKkYqaypVKnVlLTYqRCpJKkYqQipkZSp1ZS02KkQqSSpGKkIqaGUqbGUtMypEKkkqRyplZSpuZStEKkkqaypVKkIqbmUrMypEKkkqZWUqY2UqdWUrMypEKkkqZWUqYWUqbGUrMypEKkkqZWUqc2UqaGUrMypEKkkqZWUqbmUqZGUtNCpEKnEqRypVKnVlK0QqcSpaKnVlKzQqRCpxKlUqZGUqdWUrNCpEKnEqVSpoZSpsZStEKkYqRypVKkIqbmUrMipEKkYqWipCKm5lLUQqRiprKlEqbmUtRCpGKlUqQipjZSp1ZS1EKkYqVSpCKmFlKmxlLUQqRipVKkIqc2UqaGUtRCpGKlUqQipuZSpkZS0yKkQqVSplZSpjZSpuZS0yKkQqVSplZSphZSpzZS0yKlgqRypCKnVlKzIqWCpCKmRlKnVlKzIqWCpCKmhlKmxlKzIqSypGKkcqVSp1ZS0yKksqRipVKmRlKnVlLTIqSypGKlUqaGUqbGUrMipLKkcqVSpCKm5lLUsqWipCKm5lLTIqSypVKkIqY2UqdWUtMipLKlUqQiphZSpsZS0yKksqVSpCKnNlKmhlLTIqSypVKkIqbmUqZGUtMipJKnEqRyprKnVlKzIqSSpxKmsqZGUqdWUrMipJKnEqaypoZSpsZS1JKkYqRyprKkIqbmUtMipJKkYqRypRKm5lK0kqRipaKlUqbmUrSSpGKmsqQipjZSp1ZStJKkYqaypCKmFlKmxlK0kqRiprKkIqc2UqaGUrSSpGKmsqQipuZSpkZSsyKkkqRipRKmNlKnVlKzIqSSpGKlEqYWUqbGUrMipJKkYqUSpzZSpoZSsyKkkqRipRKm5lKmRlLTQqSSprKmVlKmNlKm5lLTQqSSprKmVlKmFlKnNlKzIqSSpRKkIqY2UqbmUrMipJKlEqQiphZSpzZSszKkoqJCp1ZS02KkoqRypkZSp1ZS02KkoqRypoZSpsZSszKkoqZmUqdWUrNipKKmRlKmhlKmxlK0oqRWUtMypxKiQqQipuZSszKnEqRyprKlUqbmUrNipxKkcqQipjZSp1ZSs2KnEqRypCKmFlKmxlKzYqcSpHKkIqc2UqaGUrNipxKkcqQipuZSpkZS1xKnJlKm5lLTMqcSprKlUqY2UqdWUtMypxKmsqVSphZSpsZS0zKnEqaypVKnNlKmhlLTMqcSprKlUqbmUqZGUtNipxKkIqY2UqZGUqdWUtNipxKkIqY2UqaGUqbGUtNipxKkIqYWUqZGUqbGUtMypxKkIqYWUqbWUtNipxKkIqc2UqZGUqaGUtMypxKkIqbmUqZmUtNipGKkcqZWUqY2UqbmUtNipGKkcqZWUqYWUqc2UrNipGKmsqVSpCKmNlKm5lKzYqRiprKlUqQiphZSpzZS0yKkYqb2UqY2UqbmUtMipGKm9lKmFlKnNlKzMqRiplZSpwZSp1ZSs2KkYqZWUqY2UqYWUqbGUrNipGKmVlKmNlKnNlKmhlKzYqRiplZSpjZSpuZSpkZSszKkYqZWUqX2UqaGUrNipGKmVlKmFlKnNlKmRlLTMqaWUqcGUqbmUtNippZSpjZSphZSpzZS1pZSp5ZSxiZVs3XT0zKnoqRiplZSpsZS0zKnoqaWUqc2UtMypqKkQqSSplZSpsZStqKkQqRipVKkIqbGUrMipqKkQqVSplZSpzZSsyKmoqSypVKkIqbGUtaipJKkYqaypCKmxlLTIqaipJKkYqUSpsZSs0KmoqSSprKmVlKnNlLTIqaipJKlEqQipzZS02KmoqcSpHKkIqbGUrMypqKnEqaypVKmxlKzYqaipxKkIqZGUqbGUrMypqKnEqQiptZSs2KmoqRipHKmVlKnNlLTYqaipGKmsqVSpCKnNlKzIqaipGKm9lKnNlLTYqaipGKmVlKmNlKmxlLTYqaipGKmVlKmFlKmhlLTYqaipGKmVlKnNlKmRlKzYqaippZSpjZSpzZSszKmoqaWUqX2UrSCplZSpsZS1ZKkkqVSpCKmxlLTIqWSpGKmsqQipsZStZKkYqUSpsZS1ZKmsqZWUqc2UrRCpLKmsqQipsZSs2KkQqSSpGKkcqQipsZS1EKkkqRiprKlUqbGUtNipEKkkqRipCKmRlKmxlLTMqRCpJKkYqQiptZS0zKkQqSSpHKmVlKnNlK0QqSSprKlUqQipzZSszKkQqSSplZSpjZSpsZSszKkQqSSplZSphZSpoZSszKkQqSSplZSpzZSpkZS00KkQqcSpHKlUqbGUrRCpxKloqbGUrNCpEKnEqVSpkZSpsZSsyKkQqcSpVKm1lK0QqRipHKlUqQipzZSsyKkQqRipaKkIqc2UtRCpGKmsqUSpzZS1EKkYqVSpCKmNlKmxlLUQqRipVKkIqYWUqaGUtRCpGKlUqQipzZSpkZS0yKkQqVSplZSpjZSpzZS1EKlUqZWUqX2UtMipYKkcqQipsZSsyKlgqQipkZSpsZStYKkIqbWUrMipLKkYqRypVKmxlLTIqSypGKlUqZGUqbGUtSypGKlUqbWUrMipLKkcqVSpCKnNlLUsqWipCKnNlLTIqSypVKkIqY2UqbGUtMipLKlUqQiphZSpoZS0yKksqVSpCKnNlKmRlLTIqSSpxKkcqaypsZSsyKkkqcSprKmRlKmxlK0kqcSprKm1lLUkqRipHKmsqQipzZS0yKkkqRipHKlEqc2UrSSpGKloqVSpzZStJKkYqaypCKmNlKmxlK0kqRiprKkIqYWUqaGUrSSpGKmsqQipzZSpkZSsyKkkqRipRKmNlKmxlKzIqSSpGKlEqYWUqaGUrMipJKkYqUSpzZSpkZS00KkkqayplZSpjZSpzZS0yKkkqayplZSpfZSsyKkkqUSpCKmNlKnNlK0kqUSpCKl9lKzMqSiokKmxlLTYqSipHKmRlKmxlLTMqSipHKm1lKzMqSipmZSpsZSszKkoqZGUqbWUtMypxKiQqQipzZSszKnEqRyprKlUqc2UrNipxKkcqQipjZSpsZSs2KnEqRypCKmFlKmhlKzYqcSpHKkIqc2UqZGUtcSpyZSpzZS0zKnEqaypVKmNlKmxlLTMqcSprKlUqYWUqaGUtMypxKmsqVSpzZSpkZS02KnEqQipjZSpkZSpsZS0zKnEqQipjZSptZS02KnEqQiphZSpkZSpoZS0zKnEqQipzZSpmZS02KkYqRyplZSpjZSpzZS0zKkYqRyplZSpfZSs2KkYqaypVKkIqY2Uqc2UrMypGKmsqVSpCKl9lLTIqRipvZSpjZSpzZS1GKm9lKl9lKzMqRiplZSpwZSpsZSs2KkYqZWUqY2UqYWUqaGUrNipGKmVlKmNlKnNlKmRlKzMqRiplZSpfZSpkZS0zKmllKnBlKnNlLTMqaWUqY2UqX2UsYmVbOF09Myp6KkYqZWUqaGUtMyp6KmllKmFlLTMqaipEKkkqZWUqaGUraipEKkYqVSpCKmhlKzIqaipEKlUqZWUqYWUrMipqKksqVSpCKmhlLWoqSSpGKmsqQipoZS0yKmoqSSpGKlEqaGUrNCpqKkkqayplZSphZS0yKmoqSSpRKkIqYWUtNipqKnEqRypCKmhlKzMqaipxKmsqVSpoZSs2KmoqcSpCKmRlKmhlKzYqaipGKkcqZWUqYWUtNipqKkYqaypVKkIqYWUrMipqKkYqb2UqYWUtNipqKkYqZWUqY2UqaGUtNipqKkYqZWUqYWUqZGUrNipqKmllKmNlKmFlK0gqZWUqaGUtWSpJKlUqQipoZS0yKlkqRiprKkIqaGUrWSpGKlEqaGUtWSprKmVlKmFlK0QqSyprKkIqaGUrNipEKkkqRipHKkIqaGUtRCpJKkYqaypVKmhlLTYqRCpJKkYqQipkZSpoZS0zKkQqSSpHKmVlKmFlK0QqSSprKlUqQiphZSszKkQqSSplZSpjZSpoZSszKkQqSSplZSphZSpkZS00KkQqcSpHKlUqaGUrRCpxKloqaGUrNCpEKnEqVSpkZSpoZStEKkYqRypVKkIqYWUrMipEKkYqWipCKmFlLUQqRiprKlEqYWUtRCpGKlUqQipjZSpoZS1EKkYqVSpCKmFlKmRlLTIqRCpVKmVlKmNlKmFlLTIqWCpHKkIqaGUrMipYKkIqZGUqaGUrMipLKkYqRypVKmhlLTIqSypGKlUqZGUqaGUrMipLKkcqVSpCKmFlLUsqWipCKmFlLTIqSypVKkIqY2UqaGUtMipLKlUqQiphZSpkZS0yKkkqcSpHKmsqaGUrMipJKnEqaypkZSpoZS1JKkYqRyprKkIqYWUtMipJKkYqRypRKmFlK0kqRipaKlUqYWUrSSpGKmsqQipjZSpoZStJKkYqaypCKmFlKmRlKzIqSSpGKlEqY2UqaGUrMipJKkYqUSphZSpkZS00KkkqayplZSpjZSphZSsyKkkqUSpCKmNlKmFlKzMqSiokKmhlLTYqSipHKmRlKmhlKzMqSipmZSpoZS0zKnEqJCpCKmFlKzMqcSpHKmsqVSphZSs2KnEqRypCKmNlKmhlKzYqcSpHKkIqYWUqZGUtcSpyZSphZS0zKnEqaypVKmNlKmhlLTMqcSprKlUqYWUqZGUtNipxKkIqY2UqZGUqaGUtMypxKkIqYWUqZmUtNipGKkcqZWUqY2UqYWUrNipGKmsqVSpCKmNlKmFlLTIqRipvZSpjZSphZSszKkYqZWUqcGUqaGUrNipGKmVlKmNlKmFlKmRlLTMqaWUqcGUqYWUsYmVbOV09VyppZS16KkQqVSplZS0yKnoqSSprKmVlK3oqSSpRKkItMyp6KkYqRyplZSszKnoqRiprKlUqQi16KkYqb2UrMyp6KkYqZWUqZGUtMyp6KmllKmNlK2oqWSprKmVlKzMqaipEKkkqRyplZS1qKkQqSSprKlUqQi0zKmoqRCpJKmVlKmRlLWoqRCpGKkcqVSpCLTIqaipEKkYqWipCK2oqRCpGKmsqUStqKkQqRipVKkIqZGUrMipqKkQqVSplZSpjZS0yKmoqSypHKlUqQitqKksqWipCKzIqaipLKlUqQipkZStqKkkqRipHKmsqQisyKmoqSSpGKkcqUS1qKkkqRipaKlUtaipJKkYqaypCKmRlLTIqaipJKkYqUSpkZSs0KmoqSSprKmVlKmNlLTIqaipJKlEqQipjZSszKmoqcSokKkItMypqKnEqRyprKlUtNipqKnEqRypCKmRlK2oqcSpyZSszKmoqcSprKlUqZGUrMypqKnEqQipmZSs2KmoqRipHKmVlKmNlLTYqaipGKmsqVSpCKmNlKzIqaipGKm9lKmNlLTYqaipGKmVlKmNlKmRlKzMqaippZSpwZS1IKkcqZWUrSCplZSpkZStZKkkqRypVKkItWSpJKlUqQipkZSsyKlkqRipHKmsqQi1ZKkYqRypRLTIqWSpGKmsqQipkZStZKkYqUSpkZS1ZKmsqZWUqY2UtRCpLKkcqaypCK0QqSyprKkIqZGUtMypEKkkqRiokKkIrRCpJKkYqRyprKlUrNipEKkkqRipHKkIqZGUtRCpJKkYqaypVKmRlLTMqRCpJKkYqQipmZS0zKkQqSSpHKmVlKmNlK0QqSSprKlUqQipjZSszKkQqSSplZSpjZSpkZSsyKkQqcSokKlUtRCpxKkcqWi00KkQqcSpHKlUqZGUrRCpxKloqZGUrMipEKnEqVSpmZStEKkYqRypVKkIqY2UrMipEKkYqWipCKmNlLUQqRiprKlEqY2UtRCpGKlUqQipjZSpkZS1EKlUqZWUqcGUrWCokKkItMipYKkcqQipkZStYKkIqZmUtSypGKiQqVSsyKksqRipHKlUqZGUtSypGKlUqZmUrMipLKkcqVSpCKmNlLUsqWipCKmNlLTIqSypVKkIqY2UqZGUrSSpxKiQqay0yKkkqcSpHKmsqZGUrSSpxKmsqZmUtSSpGKkcqaypCKmNlLTIqSSpGKkcqUSpjZStJKkYqWipVKmNlK0kqRiprKkIqY2UqZGUrMipJKkYqUSpjZSpkZS0yKkkqayplZSpwZStJKlEqQipwZS1KKnRlKzMqSiokKmRlLTMqSipHKmZlK0oqdmUtMypxKiQqQipjZSszKnEqRyprKlUqY2UrNipxKkcqQipjZSpkZS1xKnJlKmNlLTMqcSprKlUqY2UqZGUtMypxKkIqY2UqZmUtMypGKkcqZWUqcGUrMypGKmsqVSpCKnBlLUYqb2UqcGUrMypGKmVlKnBlKmRlLWllKmdlO3ZhciBPZT0oMCx1LmdldFJlYWxQb2x5bm9taWFsUm9vdHMpKGJlKSxMZT1sLmdldEFwcHJveFBhcmFtZXRlclNwYWNlVG9sZXJhbmNlKCksU2U9LUxlLE1lPTErTGU7YiYmKFNlPUxlKSxDJiYoTWU9MS1MZSk7Zm9yKHZhciB3ZT0wO3dlPE9lLmxlbmd0aDsrK3dlKWlmKE9lW3dlXT49U2UmJk9lW3dlXTw9TWUpe09lW3dlXTwwP09lW3dlXT0wOk9lW3dlXT4xJiYoT2Vbd2VdPTEpLE9lW3dlXT1BWzBdKyhBW0EubGVuZ3RoLTFdLUFbMF0pKk9lW3dlXTt2YXIgTmU9dC5nZXRDdXJ2ZSgpLmV2YWx1YXRlUG9zaXRpb24oT2Vbd2VdKTtpZihQLmlzUG9pbnRJbnNpZGVXaXRoVG9sZXJhbmNlKE5lKSl7dmFyIEZlPXIuY2xvc2VzdFRvUG9pbnRQYXJhbShOZSxbXSk7aWYoRmU+PUVbMF0mJkZlPD1FW0UubGVuZ3RoLTFdKXt2YXIgSWU9ZS5nZXRDdXJ2ZSgpLmV2YWx1YXRlUG9zaXRpb24oRmUpO2lmKG8uVmVjdG9yMy5zcXVhcmVkRGlzdGFuY2UoSWUsTmUpPD12KnYpe3ZhciBEZT1mKGUsRmUqKGUuaXNSZXZlcnNlZCgpPy0xOjEpLHQsT2Vbd2VdKih0LmlzUmV2ZXJzZWQoKT8tMToxKSx2KTtEZSYmTy5wdXNoKERlKX19fX1yZXR1cm4gT30sYj1mdW5jdGlvbihlLHQscixpKXt2YXIgbj1bXSxhPXQuZ2V0Q29udHJvbFBvaW50cygpLGM9ZS5pc1JldmVyc2VkKCk/LTE6MSx1PW5ldyBzLkxpbmUsaD1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXMoYVswXSxhWzFdLGFbMl0pLGQ9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjRGcm9tVmFsdWVzKGFbYS5sZW5ndGgtM10sYVthLmxlbmd0aC0yXSxhW2EubGVuZ3RoLTFdKTt1LnNldEZyb21FbmRwb2ludHMoaCxkKTt2YXIgcD1vLlZlY3RvcjMuZGlzdGFuY2UoZCxoKSxnPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcyhhWzNdLGFbNF0sYVs1XSksdj1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXMoYVs2XSxhWzddLGFbOF0pO2lmKHUuY2xvc2VzdFRvUG9pbnRQYXJhbShnLFtdKT4wJiZ1LmNsb3Nlc3RUb1BvaW50UGFyYW0oZyxbXSk8cCYmdS5jbG9zZXN0VG9Qb2ludFBhcmFtKHYsW10pPjAmJnUuY2xvc2VzdFRvUG9pbnRQYXJhbSh2LFtdKTxwKXJldHVybiBuO3ZhciBfLHk9LWFbMF0rMyphWzNdLTMqYVs2XSthWzldLG09LWFbMV0rMyphWzRdLTMqYVs3XSthWzEwXSxFPTMqYVswXS02KmFbM10rMyphWzZdLHg9MyphWzFdLTYqYVs0XSszKmFbN10sUj0tMyphWzBdKzMqYVszXSxBPS0zKmFbMV0rMyphWzRdLFA9RS95LFY9Ui95LFQ9eC9tLGI9QS9tO2lmKE1hdGguYWJzKFAtVCk8aXx8TWF0aC5hYnMoYi1WKTxpKXJldHVybiBuO3ZhciBDPW5ldyBGbG9hdDY0QXJyYXkoNCk7aWYoTWF0aC5hYnMoeSk8aSYmTWF0aC5hYnMobSk8aSlyZXR1cm4gbjtNYXRoLmFicyh5KTxpPyhfPS1SL0UsUD1ULFY9Yik6Xz1NYXRoLmFicyhtKTxpPy1BL3g6KGItVikvKFAtVCksQ1swXT0oLV8qXypfLVAqXypfLVYqXykvMixDWzFdPSgzKl8qXysyKl8qUCsyKlYpLzIsQ1syXT0tMS41Kl8sQ1szXT0xO3ZhciBPLEw9bmV3IEZsb2F0NjRBcnJheSgzKTtpZigzIT09bC5TcGxpbmVDdXJ2ZUhlbHBlci5zb2x2ZV9jdWJpY191bmlxdWVSb290cyhDLEwpKXJldHVybiBuO2lmKExbMV08TFswXSYmKE89TFswXSxMWzBdPUxbMV0sTFsxXT1PKSxMWzJdPExbMF0mJihPPUxbMF0sTFswXT1MWzJdLExbMl09TyksTFsyXTxMWzFdJiYoTz1MWzFdLExbMV09TFsyXSxMWzJdPU8pLExbMF0+PTAmJkxbMF08PTEmJkxbMl0+PTAmJkxbMl08PTEpe3ZhciBTPXQuZ2V0S25vdFZlY3RvcigpO0xbMF09U1swXSsoU1tTLmxlbmd0aC0xXS1TWzBdKSpMWzBdLExbMl09U1swXSsoU1tTLmxlbmd0aC0xXS1TWzBdKSpMWzJdO3ZhciBNPWYoZSxMWzBdKmMsZSxMWzJdKmMsaSk7TSYmbi5wdXNoKE0pfXJldHVybiBufTt0LmNvbXB1dGVDdXJ2ZUN1cnZlSW50ZXJzZWN0aW9ucz1mdW5jdGlvbihlLHQscixuLHMpe3M9dm9pZCAwPT09cz9pLktFUk5FTF9UT0xFUkFOQ0U6czt2YXIgYSxjPWUuZ2V0Q3VydmVUeXBlKCksdT1jPT09aS5HRU9NRVRSWV9UWVBFUy5DSVJDTEUsbD1jPT09aS5HRU9NRVRSWV9UWVBFUy5MSU5FLHA9Yz09PWkuR0VPTUVUUllfVFlQRVMuQkNVUlZFJiYhZS5nZXRDdXJ2ZSgpLmlzUmF0aW9uYWwoKSYmMz09PWUuZ2V0Q3VydmUoKS5nZXREZWdyZWUoKSx2PXQuZ2V0Q3VydmVUeXBlKCksUj12PT09aS5HRU9NRVRSWV9UWVBFUy5DSVJDTEUsUD12PT09aS5HRU9NRVRSWV9UWVBFUy5MSU5FLEM9dj09PWkuR0VPTUVUUllfVFlQRVMuQkNVUlZFJiYhdC5nZXRDdXJ2ZSgpLmlzUmF0aW9uYWwoKSYmMz09PXQuZ2V0Q3VydmUoKS5nZXREZWdyZWUoKTtyZXR1cm4gYT1sJiZSP2Z1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG89bShlLmdldEN1cnZlKCksdC5nZXRDdXJ2ZSgpLHIpLGk9W10sbj0wO248by5sZW5ndGg7KytuKXt2YXIgcz0oZS5pc1JldmVyc2VkKCk/LTE6MSkqb1tuXS5saW5lUGFyYW0sYT0odC5pc1JldmVyc2VkKCk/LTE6MSkqb1tuXS5jaXJjbGVQYXJhbSxjPWYoZSxzLHQsYSxyKTtjJiZpLnB1c2goYyl9cmV0dXJuIGl9KGUsdCxzKTp1JiZQP2Z1bmN0aW9uKGUsdCxyLG8pe3ZhciBpPW0odC5nZXRDdXJ2ZSgpLGUuZ2V0Q3VydmUoKSxvKSxuPVtdLHM9MDtlLmlzQ2xvc2VkKCkmJnImJihzPTEpO2Zvcih2YXIgYT0wO2E8aS5sZW5ndGg7KythKXt2YXIgYz0oZS5pc1JldmVyc2VkKCk/LTE6MSkqaVthXS5jaXJjbGVQYXJhbSx1PSh0LmlzUmV2ZXJzZWQoKT8tMToxKSppW2FdLmxpbmVQYXJhbSxsPWYoZSxjLHQsdSxvKTtpZihsKWZvcih2YXIgaD0tcztoPD1zOysraCluLnB1c2goe2N1dEluZm86e2F0VmVydGV4OmwuY3V0SW5mby5hdFZlcnRleCxwYXJhbTpsLmN1dEluZm8ucGFyYW0raCpNYXRoLlBJKjJ9LGN1dEJ5SW5mbzpsLmN1dEJ5SW5mb30pfXJldHVybiBufShlLHQsbixzKTpsJiZQP3koZSx0LHIscyk6dSYmUj9mdW5jdGlvbihlLHQscixpLG4pe3ZhciBzPVtdLGE9ZS5nZXRDdXJ2ZSgpLmdldENlbnRlcigpLGM9ZS5nZXRDdXJ2ZSgpLmdldFJhZGl1cygpLHU9dC5nZXRDdXJ2ZSgpLmdldENlbnRlcigpLGw9dC5nZXRDdXJ2ZSgpLmdldFJhZGl1cygpLGQ9MipNYXRoLlBJLHA9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtvLlZlY3RvcjMuc3ViKHAsdSxhKTt2YXIgdj1vLlZlY3RvcjMubGVuZ3RoKHApLHk9TWF0aC5hYnMoYy1sKTtpZih2PHktbilyZXR1cm4gcztpZih2K3k8bil7dmFyIG09bi9jO2lmKGUuZ2V0UmFuZ2UoKVsxXS1lLmdldFJhbmdlKClbMF0+ZC1tJiZ0LmdldFJhbmdlKClbMV0tdC5nZXRSYW5nZSgpWzBdPmQtbSlyZXR1cm4gcy5wdXNoKHtyYW5nZUluZm86W2coZSxlLmdldFJhbmdlKClbMF0sbix0KSxnKGUsZS5nZXRSYW5nZSgpWzFdLG4sdCldLHJhbmdlQnlJbmZvOltnKHQsdC5nZXRSYW5nZSgpWzBdLG4sZSksZyh0LHQuZ2V0UmFuZ2UoKVsxXSxuLGUpXX0pLHM7dmFyIHg9W10sUj1lLmNsb3Nlc3RUb1BvaW50UGFyYW0odC5ldmFsdWF0ZVBvc2l0aW9uKDApLFswLGRdKSxBPW8uVmVjdG9yMy5kb3QoZS5ldmFsdWF0ZUR0KFIpLHQuZXZhbHVhdGVEdCgwKSk8MCxQPWUuZ2V0UmFuZ2UoKSxWPXQuZ2V0UmFuZ2UoKTtWPUE/W1ItVlsxXSxSLVZbMF1dOltSK1ZbMF0sUitWWzFdXTt2YXIgVD0oMCxoLmZvbGRBYm92ZSkoVlswXSxQWzBdLGQpLVZbMF07aWYoKFY9W1ZbMF0rVCxWWzFdK1RdKVswXTxQWzFdK20mJngucHVzaChbTWF0aC5taW4oVlswXSxQWzFdKSxNYXRoLm1pbihQWzFdLFZbMV0pXSksVlsxXT5QWzBdK2QtbSYmeC5wdXNoKFtQWzBdLE1hdGgubWF4KFBbMF0sTWF0aC5taW4oUFsxXSxWWzFdLWQpKV0pLFBbMV0tUFswXT5kLW18fFZbMV0tVlswXT5kLW0pZm9yKHZhciBiPXgubGVuZ3RoLTE7Yj49MCYmMSE9PXgubGVuZ3RoOy0tYil4W2JdWzFdLXhbYl1bMF08bSYmeC5zcGxpY2UoYiwxKTtmb3IoYj0wO2I8eC5sZW5ndGg7KytiKXt2YXIgQz14W2JdLE89QT9bUi1DWzFdLFItQ1swXV06W0NbMF0tUixDWzFdLVJdLEw9KDAsaC5mb2xkQWJvdmUpKE9bMF0sdC5nZXRSYW5nZSgpWzBdLGQpLU9bMF07aWYoTz1bT1swXStMLE9bMV0rTF0sQ1sxXS1DWzBdPG0pe3ZhciBTPS41KihDWzBdK0NbMV0pLE09LjUqKE9bMF0rT1sxXSksdz1nKGUsUyxuLHQpLE49Zyh0LE0sbixlKTt3JiZOJiZzLnB1c2goe2N1dEluZm86dyxjdXRCeUluZm86Tn0pfWVsc2V7dmFyIEY9W2coZSxDWzBdLG4sdCksZyhlLENbMV0sbix0KV0sST1bZyh0LE9bMF0sbixlKSxnKHQsT1sxXSxuLGUpXTtGWzBdJiZGWzFdJiZJWzBdJiZJWzFdJiZzLnB1c2goe3JhbmdlSW5mbzpGLHJhbmdlQnlJbmZvOkl9KX19cmV0dXJuIHN9dmFyIEQ9KGMqYy1sKmwrdip2KS8oMip2KSxqPWMqYy1EKkQsQj1jLU1hdGguYWJzKEQpLFU9W10saz1bXTtpZihCPC1uKTtlbHNle3ZhciBHPU1hdGguc3FydChNYXRoLm1heCgwLGopKTtpZihvLlZlY3RvcjMuc2NhbGUocCxwLDEvdiksRzwyKm4pVS5wdXNoKEUoMCxELGEscCxlLHQpKSxrLnB1c2goITEpO2Vsc2UgaWYoQjxuKWlmKGsucHVzaCghMSkscil7a1trLmxlbmd0aC0xXT0hMDt2YXIgej1FKDAsRCxhLHAsZSx0KSxZPVtFKEcsRCxhLHAsZSx0KSxFKC1HLEQsYSxwLGUsdCldO18oZSx0LFtZWzBdLmZpcnN0UGFyYW0sei5maXJzdFBhcmFtLFlbMV0uZmlyc3RQYXJhbV0sW1lbMF0uc2Vjb25kUGFyYW0sei5zZWNvbmRQYXJhbSxZWzFdLnNlY29uZFBhcmFtXSxuLHMsVSl9ZWxzZSBVLnB1c2goRSgwLEQsYSxwLGUsdCkpO2Vsc2UgVS5wdXNoKEUoRyxELGEscCxlLHQpKSxVLnB1c2goRSgtRyxELGEscCxlLHQpKX12YXIgSz0wO2ZvcihlLmlzQ2xvc2VkKCkmJmkmJihLPTEpLGI9MDtiPFUubGVuZ3RoOysrYil7dmFyIHE9ZihlLFVbYl0uZmlyc3RQYXJhbSx0LFVbYl0uc2Vjb25kUGFyYW0sbik7aWYocSlmb3IodmFyIFc9LUs7Vzw9SzsrK1cpcy5wdXNoKHtjdXRJbmZvOnthdFZlcnRleDpxLmN1dEluZm8uYXRWZXJ0ZXgscGFyYW06cS5jdXRJbmZvLnBhcmFtK1cqTWF0aC5QSSoyfSxjdXRCeUluZm86cS5jdXRCeUluZm99KSxrW2JdJiYoc1tzLmxlbmd0aC0xXS5jdXRJbmZvLnZpcnR1YWxJbnRlcnNlY3Rpb249ITAsc1tzLmxlbmd0aC0xXS5jdXRCeUluZm8udmlydHVhbEludGVyc2VjdGlvbj0hMCl9cmV0dXJuIHN9KGUsdCxyLG4scyk6bCYmQz9BKGUsdCxyLHMpOnAmJlA/ZnVuY3Rpb24oZSx0LHIsbyxpKXt2YXIgbj1BKHQsZSxyLGkpLHM9W10sYT0wLGM9MDtvJiZlLmdldEN1cnZlKCkuaXNQZXJpb2RpY1VubGltaXRlZCgpJiYoYT0xLGM9ZS5nZXRDdXJ2ZSgpLmdldFBlcmlvZFVubGltaXRlZCgpKTtmb3IodmFyIHU9MDt1PG4ubGVuZ3RoOysrdSlpZihuW3VdLmhhc093blByb3BlcnR5KFwiY3V0SW5mb1wiKSYmblt1XS5oYXNPd25Qcm9wZXJ0eShcImN1dEJ5SW5mb1wiKSlmb3IodmFyIGw9LWE7bDw9YTsrK2wpcy5wdXNoKHtjdXRJbmZvOnthdFZlcnRleDpuW3VdLmN1dEJ5SW5mby5hdFZlcnRleCxwYXJhbTpuW3VdLmN1dEJ5SW5mby5wYXJhbStsKmN9LGN1dEJ5SW5mbzpuW3VdLmN1dEluZm99KTtlbHNlIG5bdV0uaGFzT3duUHJvcGVydHkoXCJyYW5nZUluZm9cIikmJm5bdV0uaGFzT3duUHJvcGVydHkoXCJyYW5nZUJ5SW5mb1wiKSYmcy5wdXNoKHtyYW5nZUluZm86blt1XS5yYW5nZUJ5SW5mbyxyYW5nZUJ5SW5mbzpuW3VdLnJhbmdlSW5mb30pO3JldHVybiBzfShlLHQscixuLHMpOnUmJkM/VihlLHQsMCxuLHMpOnAmJlI/ZnVuY3Rpb24oZSx0LHIsbyxpKXt2YXIgbj1WKHQsZSwwLCExLGkpLHM9W10sYT0wLGM9MDtvJiZlLmdldEN1cnZlKCkuaXNQZXJpb2RpY1VubGltaXRlZCgpJiYoYT0xLGM9ZS5nZXRDdXJ2ZSgpLmdldFBlcmlvZFVubGltaXRlZCgpKTtmb3IodmFyIHU9MDt1PG4ubGVuZ3RoOysrdSlpZihuW3VdLmhhc093blByb3BlcnR5KFwiY3V0SW5mb1wiKSYmblt1XS5oYXNPd25Qcm9wZXJ0eShcImN1dEJ5SW5mb1wiKSlmb3IodmFyIGw9LWE7bDw9YTsrK2wpcy5wdXNoKHtjdXRJbmZvOnthdFZlcnRleDpuW3VdLmN1dEJ5SW5mby5hdFZlcnRleCxwYXJhbTpuW3VdLmN1dEJ5SW5mby5wYXJhbStsKmN9LGN1dEJ5SW5mbzpuW3VdLmN1dEluZm99KTtlbHNlIG5bdV0uaGFzT3duUHJvcGVydHkoXCJyYW5nZUluZm9cIikmJm5bdV0uaGFzT3duUHJvcGVydHkoXCJyYW5nZUJ5SW5mb1wiKSYmcy5wdXNoKHtyYW5nZUluZm86blt1XS5yYW5nZUJ5SW5mbyxyYW5nZUJ5SW5mbzpuW3VdLnJhbmdlSW5mb30pO3JldHVybiBzfShlLHQsMCxuLHMpOnAmJkM/ZnVuY3Rpb24oZSx0LHIsbyxpKXt2YXIgbj1lPT09dCxzPWUuZ2V0Qm91bmRpbmdCb3goKSxhPXQuZ2V0Qm91bmRpbmdCb3goKSxjPVtdO2lmKCFzLmludGVyc2VjdHNXaXRoVG9sZXJhbmNlKGEsaSkpcmV0dXJuIGM7dmFyIHUsbCxoLGQscD1lLmdldEN1cnZlKCkuZ2V0QmV6aWVyU2VnbWVudHMoKSxnPXAubGVuZ3RoLGY9dC5nZXRDdXJ2ZSgpLmdldEJlemllclNlZ21lbnRzKCksdj1mLmxlbmd0aCxfPVtdLHk9MCxtPTAsRT0wO2ZvcihvJiZlLmdldEN1cnZlKCkuaXNQZXJpb2RpYygpJiZlLmlzQ2xvc2VkKCkmJihtPTEsRT1lLmdldEN1cnZlKCkuZ2V0UGVyaW9kKCkpLHU9MDt1PGc7dSsrKWZvcihuJiYoeT11KzEpLGw9eTtsPHY7bCsrKXt2YXIgUj1uJiZsPT09dSsxO2ZvcihfPVQoZSx0LHBbdV0sZltsXSxyLGksUiksaD0wO2g8Xy5sZW5ndGg7KytoKWZvcihkPS1tO2Q8PW07KytkKV9baF0uY3V0SW5mbyYmYy5wdXNoKHtjdXRJbmZvOnthdFZlcnRleDpfW2hdLmN1dEluZm8uYXRWZXJ0ZXgscGFyYW06X1toXS5jdXRJbmZvLnBhcmFtK2QqRX0sY3V0QnlJbmZvOl9baF0uY3V0QnlJbmZvfSksX1toXS5yYW5nZUluZm8mJmMucHVzaChfW2hdKX1pZihuKWZvcih1PTA7dTxnOysrdSlmb3IoXz1iKGUscFt1XSwwLGkpLGg9MDtoPF8ubGVuZ3RoOysraClmb3IoZD0tbTtkPD1tOysrZClfW2hdLmN1dEluZm8mJmMucHVzaCh7Y3V0SW5mbzp7YXRWZXJ0ZXg6X1toXS5jdXRJbmZvLmF0VmVydGV4LHBhcmFtOl9baF0uY3V0SW5mby5wYXJhbStkKkV9LGN1dEJ5SW5mbzpfW2hdLmN1dEJ5SW5mb30pLF9baF0ucmFuZ2VJbmZvJiZjLnB1c2goX1toXSk7cmV0dXJuIHgoYyl9KGUsdCxyLG4scyk6ZnVuY3Rpb24oZSx0LHIsbyxuKXt2YXIgcz1lLmdldEJvdW5kaW5nQm94KCksYT10LmdldEJvdW5kaW5nQm94KCksYz1bXTtpZighcy5pbnRlcnNlY3RzV2l0aFRvbGVyYW5jZShhLG4pKXJldHVybiBjO3ZhciB1PWUuaXNSZXZlcnNlZCgpLGw9dC5pc1JldmVyc2VkKCksaD1lLmdldFJhbmdlKCk7dSYmKGg9Wy1oWzFdLC1oWzBdXSk7dmFyIHA9dC5nZXRSYW5nZSgpO2wmJihwPVstcFsxXSwtcFswXV0pLGM9bmV3IGQuQ0NJKGUuZ2V0Q3VydmUoKSxoLHQuZ2V0Q3VydmUoKSxwLGkuS0VSTkVMX1RPTEVSQU5DRSkuaW50ZXJzZWN0KCk7Zm9yKHZhciBnPTA7ZzxjLmxlbmd0aDsrK2cpdSYmKGNbZ10uY3V0SW5mbz9jW2ddLmN1dEluZm8ucGFyYW0qPS0xOmNbZ10ucmFuZ2VJbmZvJiYoY1tnXS5yYW5nZUluZm89W2NbZ10ucmFuZ2VJbmZvWzFdLGNbZ10ucmFuZ2VJbmZvWzBdXSxjW2ddLnJhbmdlSW5mb1swXS5wYXJhbSo9LTEsY1tnXS5yYW5nZUluZm9bMV0ucGFyYW0qPS0xKSksbCYmKGNbZ10uY3V0QnlJbmZvP2NbZ10uY3V0QnlJbmZvLnBhcmFtKj0tMTpjW2ddLnJhbmdlQnlJbmZvJiYoY1tnXS5yYW5nZUJ5SW5mb1swXS5wYXJhbSo9LTEsY1tnXS5yYW5nZUJ5SW5mb1sxXS5wYXJhbSo9LTEpKTtyZXR1cm4gY30oZSx0LDAsMCxzKSxhfX0sOTg5MjooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5TdWJDdXJ2ZVRyZWU9dm9pZCAwO3ZhciBvPXIoMjQ2OCksaT0xZS04LG49MTAwKm8uS0VSTkVMX1RPTEVSQU5DRSxzPU1hdGguUEkvMTgwKjEwLGE9ZnVuY3Rpb24oZSx0LHIpe3ZvaWQgMD09PXImJihyPTApLHRoaXMuX2N1PWUsdGhpcy5fcmFuZ2U9dCx0aGlzLl9ieD1lLmdldEJvdW5kaW5nQm94KHQpLmNsb25lKCksdGhpcy5fc2ltcGxlPXZvaWQgMCx0aGlzLl9zcGxpdF9wYXJhbT12b2lkIDAsdGhpcy5fY2hpbGRyZW49W10sdGhpcy5fZGVwdGg9cn07YS5wcm90b3R5cGUuaXNTaW1wbGU9ZnVuY3Rpb24oKXtpZih2b2lkIDA9PT10aGlzLl9zaW1wbGUpe3RoaXMuX3NpbXBsZT0hMTt2YXIgZT1bdGhpcy5fcmFuZ2VbMF0raSx0aGlzLl9yYW5nZVsxXS1pXTtpZih0aGlzLl9zcGxpdF9wYXJhbT10aGlzLl9jdS5zdWdnZXN0U3BsaXR0aW5nUGFyYW0oZSksdm9pZCAwPT09dGhpcy5fc3BsaXRfcGFyYW0pe3RoaXMuX3NwbGl0X3BhcmFtPS41Kih0aGlzLl9yYW5nZVswXSt0aGlzLl9yYW5nZVsxXSk7dmFyIHQ9dGhpcy5fY3UuZ2V0VGFuZ2VudENvbmUodGhpcy5fcmFuZ2UpOyh0LmlzRGVnZW5lcmF0ZSgpfHx0LmFuZ2xlPHMpJiYodGhpcy5fc2ltcGxlPSEwKX19cmV0dXJuIHRoaXMuX3NpbXBsZX0sYS5wcm90b3R5cGUuY2FuRGl2aWRlPWZ1bmN0aW9uKCl7cmV0dXJuISh0aGlzLl9kZXB0aD49MTApJiYoISh0aGlzLl9yYW5nZVsxXS10aGlzLl9yYW5nZVswXTwyZS04KSYmIShNYXRoLm1heCh0aGlzLl9ieC5nZXRXaWR0aCgwKSx0aGlzLl9ieC5nZXRXaWR0aCgxKSx0aGlzLl9ieC5nZXRXaWR0aCgyKSk8bikpfSxhLnByb3RvdHlwZS5kaXZpZGU9ZnVuY3Rpb24oKXtpZigwPT09dGhpcy5fY2hpbGRyZW4ubGVuZ3RoKXt2YXIgZT1bdGhpcy5fcmFuZ2VbMF0sdGhpcy5fc3BsaXRfcGFyYW1dLHQ9W3RoaXMuX3NwbGl0X3BhcmFtLHRoaXMuX3JhbmdlWzFdXTt0aGlzLl9jaGlsZHJlbj1bbmV3IGEodGhpcy5fY3UsZSx0aGlzLl9kZXB0aCsxKSxuZXcgYSh0aGlzLl9jdSx0LHRoaXMuX2RlcHRoKzEpXX19LGEucHJvdG90eXBlLmZ1bGxTdWJkaXZpc2lvbj1mdW5jdGlvbigpe2lmKCF0aGlzLmlzU2ltcGxlKCkmJnRoaXMuY2FuRGl2aWRlKCkpe3RoaXMuZGl2aWRlKCk7Zm9yKHZhciBlPTA7ZTx0aGlzLl9jaGlsZHJlbi5sZW5ndGg7KytlKXRoaXMuX2NoaWxkcmVuW2VdLmZ1bGxTdWJkaXZpc2lvbigpfX0sYS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLl9jaGlsZHJlbi5sZW5ndGg+MCl7Zm9yKHZhciBlPVwiXCIsdD0wO3Q8dGhpcy5fY2hpbGRyZW4ubGVuZ3RoOysrdCllKz10aGlzLl9jaGlsZHJlblt0XTtyZXR1cm4gZX1yZXR1cm5cInQ9W1wiK3RoaXMuX3JhbmdlWzBdK1wiIFwiK3RoaXMuX3JhbmdlWzFdK1wiXSBcIit0aGlzLl9ieCtcIlxcblwifTt2YXIgYz1mdW5jdGlvbihlLHQscixvLGkpe3RoaXMuX2N1MV9yb290X25vZGU9bmV3IGEoZSx0KSx0aGlzLl9jdTJfcm9vdF9ub2RlPW5ldyBhKHIsbyksdGhpcy5fZXBzaWxvbj1pLHRoaXMuX292ZXJsYXBzPVtdfTtjLnByb3RvdHlwZS5wcm9jZXNzPWZ1bmN0aW9uKGUsdCl7aWYoZS5fYnguaW50ZXJzZWN0c1dpdGhUb2xlcmFuY2UodC5fYngsdGhpcy5fZXBzaWxvbikpe3ZhciByPWUuY2FuRGl2aWRlKCksbz10LmNhbkRpdmlkZSgpLGk9ZS5pc1NpbXBsZSgpfHwhcixuPXQuaXNTaW1wbGUoKXx8IW87aWYoaSYmbil0aGlzLl9vdmVybGFwcy5wdXNoKFtlLHRdKTtlbHNlIGlmKHImJm8pe2UuZGl2aWRlKCksdC5kaXZpZGUoKTtmb3IodmFyIHM9MDtzPGUuX2NoaWxkcmVuLmxlbmd0aDsrK3MpZm9yKHZhciBhPTA7YTx0Ll9jaGlsZHJlbi5sZW5ndGg7KythKXRoaXMucHJvY2VzcyhlLl9jaGlsZHJlbltzXSx0Ll9jaGlsZHJlblthXSl9ZWxzZSBpZihyKXtlLmRpdmlkZSgpO2ZvcihzPTA7czxlLl9jaGlsZHJlbi5sZW5ndGg7KytzKXRoaXMucHJvY2VzcyhlLl9jaGlsZHJlbltzXSx0KX1lbHNlIGlmKG8pe3QuZGl2aWRlKCk7Zm9yKHM9MDtzPHQuX2NoaWxkcmVuLmxlbmd0aDsrK3MpdGhpcy5wcm9jZXNzKGUsdC5fY2hpbGRyZW5bc10pfX19LGMucHJvdG90eXBlLmJ1aWxkPWZ1bmN0aW9uKCl7dGhpcy5wcm9jZXNzKHRoaXMuX2N1MV9yb290X25vZGUsdGhpcy5fY3UyX3Jvb3Rfbm9kZSl9LHQuU3ViQ3VydmVUcmVlPWN9LDk4ODg6KGUsdCk9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCByPXtzZXROTUlBdHRyaWJ1dGVTdHI6ZnVuY3Rpb24oZSx0KXtlLnR5cGVpZD1cImF1dG9kZXNrLmJyZXA6bm1pYXR0cmlidXRlc3RyLTEuMC4wXCIsZS52YWx1ZXM9e3ByaW1hcnlJZDp0LnByaW1hcnlJZCxzZWNvbmRhcnlJZDp0LnNlY29uZGFyeUlkLGFwcHJvYWNoSWQ6dC5hcHByb2FjaElkLG9wZXJhdGlvbklkczp0Lm9wZXJhdGlvbklkc319LHNldE5NSUF0dHJpYnV0ZUFycjpmdW5jdGlvbihlLHQpe2UudHlwZWlkPVwiYXV0b2Rlc2suYnJlcDpubWlhdHRyaWJ1dGVhcnItMS4wLjBcIjtmb3IodmFyIHI9dC50YWdJbmZvLG89bmV3IEFycmF5KHIubGVuZ3RoKSxpPTA7aTxyLmxlbmd0aDsrK2kpe3ZhciBuPXJbaV07b1tpXT17cHJpbWFyeUlkOm4ucHJpbWFyeUlkLHNlY29uZGFyeUlkOm4uc2Vjb25kYXJ5SWQsYXBwcm9hY2hJZDpuLmFwcHJvYWNoSWQsb3BlcmF0aW9uSWRzOm4ub3BlcmF0aW9uSWRzfX1lLnZhbHVlcz17dGFnSW5mbzpvfX0sc2V0VGV4dEF0dHJpYnV0ZTpmdW5jdGlvbihlLHQpe2UudHlwZWlkPVwiYXV0b2Rlc2suYnJlcDp0ZXh0YXR0cmlidXRlLTEuMC4wXCIsZS52YWx1ZXM9e3RleHQ6dC50ZXh0fX19O3QuQXR0cmlidXRlU2V0dGVycz1yfSw2NzUyOihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnByb3BlcnR5VG9SYW5nZT10Lkdlb21ldHJ5U2V0dGVycz12b2lkIDA7dmFyIG89cigxOTcyKSxpPWZ1bmN0aW9uKGUsdCxyKXtjb25zdCBvPXRbcl07ZVswXT1vLngsZVsxXT1vLnksZVsyXT1vLnp9LG49ZnVuY3Rpb24oZSx0KXtjb25zdCByPWVbdF07dmFyIG89ci50eXBlO3JldHVyblwiaW5maW5pdGVcIj09PW98fDA9PT1vP1tdOltyLmxvdyxyLmhpZ2hdfSxzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bihlLFwidVJhbmdlXCIpO3QudW5saW1pdFJhbmdlVSgpLHIubGVuZ3RoPjAmJnQubGltaXRSYW5nZVUocik7dmFyIG89bihlLFwidlJhbmdlXCIpO3QudW5saW1pdFJhbmdlVigpLG8ubGVuZ3RoPjAmJnQubGltaXRSYW5nZVYobyl9LGE9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uKGUsXCJyYW5nZVwiKTt0LnVubGltaXRSYW5nZSgpLHIubGVuZ3RoPjAmJnQubGltaXRSYW5nZShyKX0sYz17c2V0QkN1cnZlRnJvbVByb3BlcnR5OmZ1bmN0aW9uKGUsdCl7dmFyIHIsbyxpPXQuZGVncmVlLG49dC5rbm90cyxzPXQuY29udHJvbFBvaW50cyxjPXQud2VpZ2h0cyx1PXMubGVuZ3RoLzM7aWYoMD09PWMubGVuZ3RoKWZvcihvPW5ldyBBcnJheSh1KSxyPTA7cjx1OysrcilvW3JdPTE7ZWxzZSBvPWM7ZS5zZXQocyxvLGksbiksYSh0LGUpfSxzZXRCU3VyZmFjZUZyb21Qcm9wZXJ0eTpmdW5jdGlvbihlLHQpe3ZhciByLG8saT10LnVEZWdyZWUsbj10LnZEZWdyZWUsYT10LnVLbm90cyxjPXQudktub3RzLHU9dC5jb250cm9sUG9pbnRzLGw9dC53ZWlnaHRzO2lmKDA9PT1sLmxlbmd0aCl7dmFyIGg9dS5sZW5ndGgvMztmb3Iobz1uZXcgQXJyYXkoaCkscj0wO3I8aDsrK3Ipb1tyXT0xfWVsc2Ugbz1sO2Uuc2V0KGksbixhLGMsdSxvKSxzKHQsZSl9LHNldENpcmNsZUZyb21Qcm9wZXJ0eTpmdW5jdGlvbihlLHQpe3ZhciByPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCksbj1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLHM9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtpKHIsdCxcImNlbnRlclwiKSxpKG4sdCxcIm5vcm1hbFwiKSxpKHMsdCxcInJhZGl1c1wiKSxlLnNldChyLG4scyksYSh0LGUpfSxzZXRDb25lRnJvbVByb3BlcnR5OmZ1bmN0aW9uKGUsdCl7dmFyIHI9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSxuPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCksYT1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpO2kocix0LFwiY2VudGVyXCIpLGkobix0LFwiYXhpc1wiKSxpKGEsdCxcInJhZGl1c1wiKTt2YXIgYz1vLlZlY3RvcjMubGVuZ3RoKGEpO28uVmVjdG9yMy5ub3JtYWxpemUoYSxhKTt2YXIgdT10LmFuZ2xlLGw9dC51Q29vcmRTY2FsZTtlLnNldChyLGMsbix1LGEsbCkscyh0LGUpfSxzZXRDeWxpbmRlckZyb21Qcm9wZXJ0eTpmdW5jdGlvbihlLHQpe3ZhciByPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCksbj1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLGE9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtpKHIsdCxcImNlbnRlclwiKSxpKG4sdCxcImF4aXNcIiksaShhLHQsXCJyYWRpdXNcIik7dmFyIGM9by5WZWN0b3IzLmxlbmd0aChhKTtvLlZlY3RvcjMubm9ybWFsaXplKGEsYSk7dmFyIHU9dC51Q29vcmRTY2FsZTtlLnNldChyLGMsbixhLHUpLHModCxlKX0sc2V0RWxsaXBzZUZyb21Qcm9wZXJ0eTpmdW5jdGlvbihlLHQpe3ZhciByPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCksbj1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLHM9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtpKHIsdCxcImNlbnRlclwiKSxpKG4sdCxcIm5vcm1hbFwiKSxpKHMsdCxcIm1ham9yUmFkaXVzXCIpO3ZhciBjPXQucmFkaXVzUmF0aW87ZS5zZXQocixuLHMsYyksYSh0LGUpfSxzZXRFbGxpcHRpY2FsQ29uZUZyb21Qcm9wZXJ0eTpmdW5jdGlvbihlLHQpe3ZhciByPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCksbj1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLGE9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtpKHIsdCxcImNlbnRlclwiKSxpKG4sdCxcImF4aXNcIiksaShhLHQsXCJtYWpvclJhZGl1c1wiKTt2YXIgYz10LmFuZ2xlLHU9dC5yYWRpdXNSYXRpbyxsPXQudUNvb3JkU2NhbGU7ZS5zZXQocixhLHUsbixjLGwpLHModCxlKX0sc2V0RWxsaXB0aWNhbEN5bGluZGVyRnJvbVByb3BlcnR5OmZ1bmN0aW9uKGUsdCl7dmFyIHI9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSxuPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCksYT1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpO2kocix0LFwiY2VudGVyXCIpLGkobix0LFwiYXhpc1wiKSxpKGEsdCxcIm1ham9yUmFkaXVzXCIpO3ZhciBjPXQucmFkaXVzUmF0aW8sdT10LnVDb29yZFNjYWxlO2Uuc2V0KHIsYSxjLG4sdSkscyh0LGUpfSxzZXRMaW5lRnJvbVByb3BlcnR5OmZ1bmN0aW9uKGUsdCl7dmFyIHI9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSxuPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7aShyLHQsXCJwb3NpdGlvblwiKSxpKG4sdCxcImRpcmVjdGlvblwiKSxlLnNldChyLG4pLGEodCxlKX0sc2V0UGxhbmVGcm9tUHJvcGVydHk6ZnVuY3Rpb24oZSx0KXt2YXIgcj1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLG49by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSxhPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7aShyLHQsXCJvcmlnaW5cIiksaShuLHQsXCJub3JtYWxcIiksaShhLHQsXCJ1QXhpc1wiKSxlLnNldChyLG4sYSkscyh0LGUpfSxzZXRQb2ludEZyb21Qcm9wZXJ0eTpmdW5jdGlvbihlLHQpe2Uuc2V0UG9zaXRpb24odC5wb3NpdGlvbi54LHQucG9zaXRpb24ueSx0LnBvc2l0aW9uLnopfSxzZXRTcGhlcmVGcm9tUHJvcGVydHk6ZnVuY3Rpb24oZSx0KXt2YXIgcj1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLG49by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSxhPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7aShyLHQsXCJjZW50ZXJcIiksaShuLHQsXCJyYWRpdXNcIiksaShhLHQsXCJheGlzXCIpO3ZhciBjPW8uVmVjdG9yMy5sZW5ndGgobik7by5WZWN0b3IzLm5vcm1hbGl6ZShuLG4pLGUuc2V0KHIsYyxhLG4pLHModCxlKX0sc2V0VG9ydXNGcm9tUHJvcGVydHk6ZnVuY3Rpb24oZSx0KXt2YXIgcj1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLG49by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSxhPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7aShyLHQsXCJjZW50ZXJcIiksaShuLHQsXCJheGlzXCIpLGkoYSx0LFwiY29vcmRBeGlzXCIpO3ZhciBjPXQubWFqb3JSYWRpdXMsdT10Lm1pbm9yUmFkaXVzLGw9dC5sZW1vbjtlLnNldChyLGMsdSxuLGEsbCkscyh0LGUpfSxzZXRIYXBDdXJ2ZUZyb21Qcm9wZXJ0eTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgcj10LnNwYW5zLG89bmV3IEFycmF5KHIubGVuZ3RoKSxpPTA7aTxyLmxlbmd0aDsrK2kpb1tpXT17fSxvW2ldLnBvbHlPcmRlcj1yW2ldLnBvbHlPcmRlcixvW2ldLmxvd1BhcmFtPXJbaV0ubG93UGFyYW0sb1tpXS5oaWdoUGFyYW09cltpXS5oaWdoUGFyYW0sb1tpXS5jb2Vmcz1yW2ldLmNvZWZzLnNsaWNlKDApO3ZhciBuPXt9O24uc3BhbnM9bzt2YXIgcz10LnBlcmlvZGljO3ZvaWQgMD09PXMmJihzPSExKSxuLnBlcmlvZGljPXMsbi5jbG9zZWQ9cyxlLnNldEhhcERlZmluaXRpb24obiksYSh0LGUpfSxzZXRDdXJ2ZVJhbmdlRnJvbVByb3BlcnR5OmEsc2V0U3VyZmFjZVJhbmdlRnJvbVByb3BlcnR5OnN9O3QuR2VvbWV0cnlTZXR0ZXJzPWMsdC5wcm9wZXJ0eVRvUmFuZ2U9bn0sNjIzMjooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Tb2xpZERlZkxvYWRlcj10LmdldFRvcG9sb2d5UmFuaz12b2lkIDA7dmFyIG8saT1yKDM1NjUpLG49cigxMDk2KSxzPXIoNTUxMiksYT1yKDg5NzIpLGM9cig4Nzk2KSx1PXIoODI5MiksbD1yKDM0NDApLGg9cig4MzYwKSxkPXIoNDM3MikscD1yKDI5ODQpLGc9cigyOTU2KSxmPXIoMTQwOCksdj1yKDkyKSxfPXIoOTk4NCkseT1yKDU4MzcpLG09cig2NTA4KSxFPXIoNjc3NikseD1yKDQ1MjQpLFI9cig2NzIpLEE9cig3NTgwKSxQPXIoNjk0MCksVj1yKDY1MDApLFQ9cig3NTc1KSxiPXIoOTMyNCksQz1yKDI0NjgpLE89cig2NzUyKSxMPXIoNzM2MCksUz1yKDk4ODgpLE09cig4MDMyKSx3PSgobz17fSlbQy5UT1BPTE9HWV9UWVBFUy5CT0RZXT0xMCxvW0MuVE9QT0xPR1lfVFlQRVMuV0lSRUJPRFldPTksb1tDLlRPUE9MT0dZX1RZUEVTLkxVTVBdPTgsb1tDLlRPUE9MT0dZX1RZUEVTLlNIRUxMXT03LG9bQy5UT1BPTE9HWV9UWVBFUy5GQUNFXT02LG9bQy5UT1BPTE9HWV9UWVBFUy5XSVJFXT01LG9bQy5UT1BPTE9HWV9UWVBFUy5MT09QXT00LG9bQy5UT1BPTE9HWV9UWVBFUy5DT0VER0VdPTMsb1tDLlRPUE9MT0dZX1RZUEVTLkVER0VdPTIsb1tDLlRPUE9MT0dZX1RZUEVTLlZFUlRFWF09MSxmdW5jdGlvbihlKXt2YXIgdD12b2lkIDA7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZS5nZXRUb3BvbG9neVR5cGUmJih0PW9bZS5nZXRUb3BvbG9neVR5cGUoKV0pLHR8fDB9KSxOPWZ1bmN0aW9uKCl7dGhpcy5fcnVuVGltZU1hcD1uZXcgTWFwLHRoaXMuX3R5cGVpZFRvRnVuY01hcD17fSx0aGlzLmFkZExvYWRlcihcImJvZHlcIixMLlRvcG9sb2d5U2V0dGVycy5zZXRCb2R5RGF0YSxfLkJvZHkpLHRoaXMuYWRkTG9hZGVyKFwid2lyZWJvZHlcIixMLlRvcG9sb2d5U2V0dGVycy5zZXRXaXJlQm9keURhdGEsVi5XaXJlQm9keSksdGhpcy5hZGRMb2FkZXIoXCJ3aXJlXCIsTC5Ub3BvbG9neVNldHRlcnMuc2V0V2lyZURhdGEsVC5XaXJlKSx0aGlzLmFkZExvYWRlcihcImx1bXBcIixMLlRvcG9sb2d5U2V0dGVycy5zZXRMdW1wRGF0YSx5Lkx1bXApLHRoaXMuYWRkTG9hZGVyKFwic2hlbGxcIixMLlRvcG9sb2d5U2V0dGVycy5zZXRTaGVsbERhdGEsbS5TaGVsbCksdGhpcy5hZGRMb2FkZXIoXCJmYWNlXCIsTC5Ub3BvbG9neVNldHRlcnMuc2V0RmFjZURhdGEsRS5GYWNlKSx0aGlzLmFkZExvYWRlcihcImxvb3BcIixMLlRvcG9sb2d5U2V0dGVycy5zZXRMb29wRGF0YSx4Lkxvb3ApLHRoaXMuYWRkTG9hZGVyKFwiY29lZGdlXCIsTC5Ub3BvbG9neVNldHRlcnMuc2V0Q29lZGdlRGF0YSxSLkNvZWRnZSksdGhpcy5hZGRMb2FkZXIoXCJlZGdlXCIsTC5Ub3BvbG9neVNldHRlcnMuc2V0RWRnZURhdGEsQS5FZGdlKSx0aGlzLmFkZExvYWRlcihcInZlcnRleFwiLEwuVG9wb2xvZ3lTZXR0ZXJzLnNldFZlcnRleERhdGEsUC5WZXJ0ZXgpLHRoaXMuYWRkTG9hZGVyKFwicG9pbnRcIixPLkdlb21ldHJ5U2V0dGVycy5zZXRQb2ludEZyb21Qcm9wZXJ0eSxpLlBvaW50KSx0aGlzLmFkZExvYWRlcihcImxpbmVcIixPLkdlb21ldHJ5U2V0dGVycy5zZXRMaW5lRnJvbVByb3BlcnR5LG4uTGluZSksdGhpcy5hZGRMb2FkZXIoXCJjaXJjbGVcIixPLkdlb21ldHJ5U2V0dGVycy5zZXRDaXJjbGVGcm9tUHJvcGVydHkscy5DaXJjbGUpLHRoaXMuYWRkTG9hZGVyKFwiZWxsaXBzZVwiLE8uR2VvbWV0cnlTZXR0ZXJzLnNldEVsbGlwc2VGcm9tUHJvcGVydHksYS5FbGxpcHNlKSx0aGlzLmFkZExvYWRlcihcImJjdXJ2ZVwiLE8uR2VvbWV0cnlTZXR0ZXJzLnNldEJDdXJ2ZUZyb21Qcm9wZXJ0eSxjLkJDdXJ2ZSksdGhpcy5hZGRMb2FkZXIoXCJwbGFuZVwiLE8uR2VvbWV0cnlTZXR0ZXJzLnNldFBsYW5lRnJvbVByb3BlcnR5LHUuUGxhbmUpLHRoaXMuYWRkTG9hZGVyKFwic3BoZXJlXCIsTy5HZW9tZXRyeVNldHRlcnMuc2V0U3BoZXJlRnJvbVByb3BlcnR5LGQuU3BoZXJlKSx0aGlzLmFkZExvYWRlcihcInRvcnVzXCIsTy5HZW9tZXRyeVNldHRlcnMuc2V0VG9ydXNGcm9tUHJvcGVydHksZi5Ub3J1cyksdGhpcy5hZGRMb2FkZXIoXCJjeWxpbmRlclwiLE8uR2VvbWV0cnlTZXR0ZXJzLnNldEN5bGluZGVyRnJvbVByb3BlcnR5LGwuQ3lsaW5kZXIpLHRoaXMuYWRkTG9hZGVyKFwiY29uZVwiLE8uR2VvbWV0cnlTZXR0ZXJzLnNldENvbmVGcm9tUHJvcGVydHkscC5Db25lKSx0aGlzLmFkZExvYWRlcihcImVsbGlwdGljYWxjeWxpbmRlclwiLE8uR2VvbWV0cnlTZXR0ZXJzLnNldEVsbGlwdGljYWxDeWxpbmRlckZyb21Qcm9wZXJ0eSxoLkVsbGlwdGljYWxDeWxpbmRlciksdGhpcy5hZGRMb2FkZXIoXCJlbGxpcHRpY2FsY29uZVwiLE8uR2VvbWV0cnlTZXR0ZXJzLnNldEVsbGlwdGljYWxDb25lRnJvbVByb3BlcnR5LGcuRWxsaXB0aWNhbENvbmUpLHRoaXMuYWRkTG9hZGVyKFwiYnN1cmZhY2VcIixPLkdlb21ldHJ5U2V0dGVycy5zZXRCU3VyZmFjZUZyb21Qcm9wZXJ0eSx2LkJTdXJmYWNlKSx0aGlzLmFkZExvYWRlcihcIm5taWF0dHJpYnV0ZXN0clwiLFMuQXR0cmlidXRlU2V0dGVycy5zZXROTUlBdHRyaWJ1dGVTdHIsYi5BdHRyaWJ1dGUpLHRoaXMuYWRkTG9hZGVyKFwibm1pYXR0cmlidXRlYXJyXCIsUy5BdHRyaWJ1dGVTZXR0ZXJzLnNldE5NSUF0dHJpYnV0ZUFycixiLkF0dHJpYnV0ZSksdGhpcy5hZGRMb2FkZXIoXCJ0ZXh0YXR0cmlidXRlXCIsUy5BdHRyaWJ1dGVTZXR0ZXJzLnNldFRleHRBdHRyaWJ1dGUsYi5BdHRyaWJ1dGUpfTtOLnByb3RvdHlwZS5hZGRMb2FkZXI9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX3R5cGVpZFRvRnVuY01hcFtlXT1bdCxyXX0sTi5wcm90b3R5cGUuX3Jlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fcnVuVGltZU1hcC5jbGVhcigpfSxOLnByb3RvdHlwZS5nZXREYXRhU2V0dGluZ0Z1bmN0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3R5cGVpZFRvRnVuY01hcFtlXTtpZih0KXJldHVybiB0WzBdfSxOLnByb3RvdHlwZS5jcmVhdGVSdW5UaW1lT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0VHlwZUNvbnRydWN0b3IoZSk7aWYodClyZXR1cm4gbmV3IHR9LE4ucHJvdG90eXBlLmdldFR5cGVDb250cnVjdG9yPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3R5cGVpZFRvRnVuY01hcFtlXTtpZih0JiYyPT09dC5sZW5ndGgpcmV0dXJuIHRbMV19LE4ucHJvdG90eXBlLnNldE9iamVjdFByb3BlcnRpZXM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXRoaXMuZ2V0RGF0YVNldHRpbmdGdW5jdGlvbihlLHIpO2NvbnN0IGk9dGhpcztcImZ1bmN0aW9uXCI9PXR5cGVvZiBvJiZvKHQsciwoZT0+e2lmKCFlKXJldHVybjtjb25zdCB0PWU7cmV0dXJuIHQ/aS5fcnVuVGltZU1hcC5nZXQodCk6dm9pZCAwfSkpfSxOLnByb3RvdHlwZS5tYWtlR2VvbWV0cnlPYmplY3RzUHJvdG89ZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZSkuZm9yRWFjaCgodD0+e2NvbnN0IHI9ZVt0XSxvPXJbci5nZW9tZXRyeV0saT10aGlzLmNyZWF0ZVJ1blRpbWVPYmplY3Qoci5nZW9tZXRyeSk7aSYmKHRoaXMuX3J1blRpbWVNYXAuc2V0KHQsaSksdGhpcy5zZXRPYmplY3RQcm9wZXJ0aWVzKHIuZ2VvbWV0cnksaSxvKSxpLnNldEd1aWQodCkpfSkpfSxOLnByb3RvdHlwZS5tYWtlR2VvbWV0cnlPYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRUeXBlaWQoKSxyPXRoaXMuY3JlYXRlUnVuVGltZU9iamVjdCh0KTtyZXR1cm4gcj90aGlzLnNldE9iamVjdFByb3BlcnRpZXModCxyLGUpOmNvbnNvbGUuZXJyb3IoXCJObyBjb25zdHJ1Y3RvclwiKSxyfSxOLnByb3RvdHlwZS5tYWtlVG9wb2xvZ3lPYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRUeXBlaWQoKSxyPXRoaXMuY3JlYXRlUnVuVGltZU9iamVjdCh0KTtyZXR1cm4gcnx8Y29uc29sZS5lcnJvcihcIk5vIGNvbnN0cnVjdG9yXCIpLHJ9LE4ucHJvdG90eXBlLm1ha2VBdHRyaWJ1dGVPYmplY3RzUHJvdG89ZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZSkuZm9yRWFjaCgodD0+e2NvbnN0IHI9ZVt0XSxvPXJbci5hdHRyaWJ1dGVdLGk9bmV3IGIuQXR0cmlidXRlO3RoaXMuX3J1blRpbWVNYXAuc2V0KHQsaSksdGhpcy5zZXRPYmplY3RQcm9wZXJ0aWVzKHIuYXR0cmlidXRlLGksbyksaS5zZXRHdWlkKHQpfSkpfSxOLnByb3RvdHlwZS5tYWtlVG9wb2xvZ3lPYmplY3RzUHJvdG89ZnVuY3Rpb24oZSl7dmFyIHQ9W107T2JqZWN0LmtleXMoZSkuZm9yRWFjaCgocj0+e2NvbnN0IG89ZVtyXSxpPW9bby50b3BvbG9neV0sbj10aGlzLmNyZWF0ZVJ1blRpbWVPYmplY3Qoby50b3BvbG9neSk7biYmKHRoaXMuX3J1blRpbWVNYXAuc2V0KHIsbiksdC5wdXNoKHt0eXBlOm8udG9wb2xvZ3ksb2JqOm4scHJvcDppfSksbi5zZXRHdWlkKHIpKX0pKTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoOysrcil0aGlzLnNldE9iamVjdFByb3BlcnRpZXModFtyXS50eXBlLHRbcl0ub2JqLHRbcl0ucHJvcCl9LE4ucHJvdG90eXBlLl9jb2xsZWN0R2VvbWV0cmllcz1mdW5jdGlvbihlKXt0aGlzLl9ydW5UaW1lTWFwLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXQuZ2V0R2VvbWV0cnlUeXBlJiZlLnNldCh0LmdldEd1aWQoKSx0KX0pKX0sTi5wcm90b3R5cGUuX2NvbGxlY3RUb3BvbG9naWVzPWZ1bmN0aW9uKGUpe3RoaXMuX3J1blRpbWVNYXAuZm9yRWFjaCgoZnVuY3Rpb24odCl7dm9pZCAwIT09dC5nZXRUb3BvbG9neVR5cGUmJmUuc2V0KHQuZ2V0R3VpZCgpLHQpfSkpfSxOLnByb3RvdHlwZS5sb2FkTW9kZWxQU2V0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz1lLmdldChcImdlb21ldHJpZXNcIik7aWYobyl7dmFyIGk9ZS5nZXQoXCJhdHRyaWJ1dGVzXCIpLG49ZS5nZXQoXCJ0b3BvbG9naWVzXCIpO2lmKG4pcmV0dXJuIHRoaXMubWFrZUdlb21ldHJ5T2JqZWN0cyhvKSxpJiZ0aGlzLm1ha2VBdHRyaWJ1dGVPYmplY3RzKGkpLHRoaXMubWFrZVRvcG9sb2d5T2JqZWN0cyhuKSx0aGlzLmdldEhpZ2hlc3RPYmplY3QodCxyKX19LE4ucHJvdG90eXBlLmdldEhpZ2hlc3RPYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDAsbz0wO3JldHVybiB0aGlzLl9ydW5UaW1lTWFwLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKDEwIT09byl7dmFyIHQ9dyhlKTt0Pm8mJnQ+MCYmKG89dCxyPWUpfX0pKSxlJiZ0aGlzLl9jb2xsZWN0R2VvbWV0cmllcyhlKSx0JiZ0aGlzLl9jb2xsZWN0VG9wb2xvZ2llcyh0KSx0aGlzLl9yZXNldCgpLHJ9LE4ucHJvdG90eXBlLmxvYWRNb2RlbFByb3RvTWVzc2FnZT1mdW5jdGlvbihlLHQscil7Y29uc3Qgbz1lLmdlb21ldHJpZXM7aWYoIW8pcmV0dXJuO2NvbnN0IGk9ZS5hdHRyaWJ1dGVzLG49ZS50b3BvbG9naWVzO3JldHVybiBuPyh0aGlzLm1ha2VHZW9tZXRyeU9iamVjdHNQcm90byhvKSxpJiZ0aGlzLm1ha2VBdHRyaWJ1dGVPYmplY3RzUHJvdG8oaSksdGhpcy5tYWtlVG9wb2xvZ3lPYmplY3RzUHJvdG8obiksdGhpcy5nZXRIaWdoZXN0T2JqZWN0KHQscikpOnZvaWQgMH0sTi5wcm90b3R5cGUubG9hZFByb3RvQmluYXJ5PWZ1bmN0aW9uKGUsdCxyKXtsZXQgbz1lO28gaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciYmKG89bmV3IFVpbnQ4QXJyYXkobykpO2NvbnN0IGk9TS5BdXRvZGVzay5sb29rdXBUeXBlKFwiU29saWREZWYubW9kZWxfMV8wXzBcIikuZGVjb2RlKG8pO3JldHVybiB0aGlzLmxvYWRNb2RlbFByb3RvTWVzc2FnZShpLHQscil9LHQuZ2V0VG9wb2xvZ3lSYW5rPXcsdC5Tb2xpZERlZkxvYWRlcj1OfSw4MDMyOihlLHQscik9PntcInVzZSBzdHJpY3RcIjt2YXIgbz1yKDQ4ODMpLGk9KG8ucm9vdHMuZGVmYXVsdHx8KG8ucm9vdHMuZGVmYXVsdD1uZXcgby5Sb290KSkuYWRkSlNPTih7QXV0b2Rlc2s6e25lc3RlZDp7U29saWREZWY6e25lc3RlZDp7U29saWREZWZfZ3JwYzp7bWV0aG9kczp7fX0scG9pbnQzZF8xXzBfMDp7ZmllbGRzOnt4Ont0eXBlOlwiZG91YmxlXCIsaWQ6MX0seTp7dHlwZTpcImRvdWJsZVwiLGlkOjJ9LHo6e3R5cGU6XCJkb3VibGVcIixpZDozfX19LHZlY3RvcjNkXzFfMF8wOntmaWVsZHM6e3g6e3R5cGU6XCJkb3VibGVcIixpZDoxfSx5Ont0eXBlOlwiZG91YmxlXCIsaWQ6Mn0sejp7dHlwZTpcImRvdWJsZVwiLGlkOjN9fX0sZ2VvbWV0cnlfMV8wXzA6e2ZpZWxkczp7fX0sZ2VvbWV0cnlfMV8wXzBfVHlwZTp7b25lb2ZzOntnZW9tZXRyeTp7b25lb2Y6W1wicG9pbnRcIixcImJzdXJmYWNlXCIsXCJjb25lXCIsXCJjeWxpbmRlclwiLFwiZWxsaXB0aWNhbGNvbmVcIixcImVsbGlwdGljYWxjeWxpbmRlclwiLFwicGxhbmVcIixcInNwaGVyZVwiLFwic3VyZmFjZVwiLFwidG9ydXNcIixcImJjdXJ2ZVwiLFwiY2lyY2xlXCIsXCJjdXJ2ZVwiLFwiZWxsaXBzZVwiLFwibGluZVwiXX19LGZpZWxkczp7cG9pbnQ6e3R5cGU6XCJwb2ludF8xXzBfMFwiLGlkOjF9LGJzdXJmYWNlOnt0eXBlOlwiYnN1cmZhY2VfMV8wXzBcIixpZDoyfSxjb25lOnt0eXBlOlwiY29uZV8xXzBfMFwiLGlkOjN9LGN5bGluZGVyOnt0eXBlOlwiY3lsaW5kZXJfMV8wXzBcIixpZDo0fSxlbGxpcHRpY2FsY29uZTp7dHlwZTpcImVsbGlwdGljYWxjb25lXzFfMF8wXCIsaWQ6NX0sZWxsaXB0aWNhbGN5bGluZGVyOnt0eXBlOlwiZWxsaXB0aWNhbGN5bGluZGVyXzFfMF8wXCIsaWQ6Nn0scGxhbmU6e3R5cGU6XCJwbGFuZV8xXzBfMFwiLGlkOjd9LHNwaGVyZTp7dHlwZTpcInNwaGVyZV8xXzBfMFwiLGlkOjh9LHN1cmZhY2U6e3R5cGU6XCJzdXJmYWNlXzFfMF8wXCIsaWQ6OX0sdG9ydXM6e3R5cGU6XCJ0b3J1c18xXzBfMFwiLGlkOjEwfSxiY3VydmU6e3R5cGU6XCJiY3VydmVfMV8wXzBcIixpZDoxMX0sY2lyY2xlOnt0eXBlOlwiY2lyY2xlXzFfMF8wXCIsaWQ6MTJ9LGN1cnZlOnt0eXBlOlwiY3VydmVfMV8wXzBcIixpZDoxM30sZWxsaXBzZTp7dHlwZTpcImVsbGlwc2VfMV8wXzBcIixpZDoxNH0sbGluZTp7dHlwZTpcImxpbmVfMV8wXzBcIixpZDoxNX19fSxwYXJhbXJhbmdlXzFfMF8wOntmaWVsZHM6e2xvdzp7dHlwZTpcImRvdWJsZVwiLGlkOjF9LGhpZ2g6e3R5cGU6XCJkb3VibGVcIixpZDoyfSx0eXBlOnt0eXBlOlwidHlwZUVudW1cIixpZDozfX0sbmVzdGVkOnt0eXBlRW51bTp7dmFsdWVzOntpbmZpbml0ZTowLGZpbml0ZToxLGJvdW5kQmVsb3c6Mixib3VuZEFib3ZlOjN9fX19LHBvaW50XzFfMF8wOntmaWVsZHM6e3Bvc2l0aW9uOnt0eXBlOlwicG9pbnQzZF8xXzBfMFwiLGlkOjF9fX0sYnN1cmZhY2VfMV8wXzA6e2ZpZWxkczp7dURlZ3JlZTp7dHlwZTpcInVpbnQzMlwiLGlkOjF9LHZEZWdyZWU6e3R5cGU6XCJ1aW50MzJcIixpZDoyfSx1S25vdHM6e3J1bGU6XCJyZXBlYXRlZFwiLHR5cGU6XCJkb3VibGVcIixpZDozfSx2S25vdHM6e3J1bGU6XCJyZXBlYXRlZFwiLHR5cGU6XCJkb3VibGVcIixpZDo0fSxjb250cm9sUG9pbnRzOntydWxlOlwicmVwZWF0ZWRcIix0eXBlOlwiZG91YmxlXCIsaWQ6NX0sd2VpZ2h0czp7cnVsZTpcInJlcGVhdGVkXCIsdHlwZTpcImRvdWJsZVwiLGlkOjZ9LHVSYW5nZTp7dHlwZTpcInBhcmFtcmFuZ2VfMV8wXzBcIixpZDo3fSx2UmFuZ2U6e3R5cGU6XCJwYXJhbXJhbmdlXzFfMF8wXCIsaWQ6OH19fSxjb25lXzFfMF8wOntmaWVsZHM6e2NlbnRlcjp7dHlwZTpcInBvaW50M2RfMV8wXzBcIixpZDoxfSxheGlzOnt0eXBlOlwidmVjdG9yM2RfMV8wXzBcIixpZDoyfSxyYWRpdXM6e3R5cGU6XCJ2ZWN0b3IzZF8xXzBfMFwiLGlkOjN9LGFuZ2xlOnt0eXBlOlwiZG91YmxlXCIsaWQ6NH0sdUNvb3JkU2NhbGU6e3R5cGU6XCJkb3VibGVcIixpZDo1fSx1UmFuZ2U6e3R5cGU6XCJwYXJhbXJhbmdlXzFfMF8wXCIsaWQ6Nn0sdlJhbmdlOnt0eXBlOlwicGFyYW1yYW5nZV8xXzBfMFwiLGlkOjd9fX0sY3lsaW5kZXJfMV8wXzA6e2ZpZWxkczp7Y2VudGVyOnt0eXBlOlwicG9pbnQzZF8xXzBfMFwiLGlkOjF9LGF4aXM6e3R5cGU6XCJ2ZWN0b3IzZF8xXzBfMFwiLGlkOjJ9LHJhZGl1czp7dHlwZTpcInZlY3RvcjNkXzFfMF8wXCIsaWQ6M30sdUNvb3JkU2NhbGU6e3R5cGU6XCJkb3VibGVcIixpZDo0fSx1UmFuZ2U6e3R5cGU6XCJwYXJhbXJhbmdlXzFfMF8wXCIsaWQ6NX0sdlJhbmdlOnt0eXBlOlwicGFyYW1yYW5nZV8xXzBfMFwiLGlkOjZ9fX0sZWxsaXB0aWNhbGNvbmVfMV8wXzA6e2ZpZWxkczp7Y2VudGVyOnt0eXBlOlwicG9pbnQzZF8xXzBfMFwiLGlkOjF9LGF4aXM6e3R5cGU6XCJ2ZWN0b3IzZF8xXzBfMFwiLGlkOjJ9LG1ham9yUmFkaXVzOnt0eXBlOlwidmVjdG9yM2RfMV8wXzBcIixpZDozfSxyYWRpdXNSYXRpbzp7dHlwZTpcImRvdWJsZVwiLGlkOjR9LGFuZ2xlOnt0eXBlOlwiZG91YmxlXCIsaWQ6NX0sdUNvb3JkU2NhbGU6e3R5cGU6XCJkb3VibGVcIixpZDo2fSx1UmFuZ2U6e3R5cGU6XCJwYXJhbXJhbmdlXzFfMF8wXCIsaWQ6N30sdlJhbmdlOnt0eXBlOlwicGFyYW1yYW5nZV8xXzBfMFwiLGlkOjh9fX0sZWxsaXB0aWNhbGN5bGluZGVyXzFfMF8wOntmaWVsZHM6e2NlbnRlcjp7dHlwZTpcInBvaW50M2RfMV8wXzBcIixpZDoxfSxheGlzOnt0eXBlOlwidmVjdG9yM2RfMV8wXzBcIixpZDoyfSxtYWpvclJhZGl1czp7dHlwZTpcInZlY3RvcjNkXzFfMF8wXCIsaWQ6M30scmFkaXVzUmF0aW86e3R5cGU6XCJkb3VibGVcIixpZDo0fSx1Q29vcmRTY2FsZTp7dHlwZTpcImRvdWJsZVwiLGlkOjV9LHVSYW5nZTp7dHlwZTpcInBhcmFtcmFuZ2VfMV8wXzBcIixpZDo2fSx2UmFuZ2U6e3R5cGU6XCJwYXJhbXJhbmdlXzFfMF8wXCIsaWQ6N319fSxwbGFuZV8xXzBfMDp7ZmllbGRzOntvcmlnaW46e3R5cGU6XCJwb2ludDNkXzFfMF8wXCIsaWQ6MX0sbm9ybWFsOnt0eXBlOlwidmVjdG9yM2RfMV8wXzBcIixpZDoyfSx1QXhpczp7dHlwZTpcInZlY3RvcjNkXzFfMF8wXCIsaWQ6M30sdVJhbmdlOnt0eXBlOlwicGFyYW1yYW5nZV8xXzBfMFwiLGlkOjR9LHZSYW5nZTp7dHlwZTpcInBhcmFtcmFuZ2VfMV8wXzBcIixpZDo1fX19LHNwaGVyZV8xXzBfMDp7ZmllbGRzOntjZW50ZXI6e3R5cGU6XCJwb2ludDNkXzFfMF8wXCIsaWQ6MX0scmFkaXVzOnt0eXBlOlwidmVjdG9yM2RfMV8wXzBcIixpZDoyfSxheGlzOnt0eXBlOlwidmVjdG9yM2RfMV8wXzBcIixpZDozfSx1UmFuZ2U6e3R5cGU6XCJwYXJhbXJhbmdlXzFfMF8wXCIsaWQ6NH0sdlJhbmdlOnt0eXBlOlwicGFyYW1yYW5nZV8xXzBfMFwiLGlkOjV9fX0sc3VyZmFjZV8xXzBfMDp7ZmllbGRzOnt1UmFuZ2U6e3R5cGU6XCJwYXJhbXJhbmdlXzFfMF8wXCIsaWQ6MX0sdlJhbmdlOnt0eXBlOlwicGFyYW1yYW5nZV8xXzBfMFwiLGlkOjJ9fX0sc3VyZmFjZV8xXzBfMF9UeXBlOntvbmVvZnM6e3N1cmZhY2U6e29uZW9mOltcImJzdXJmYWNlXCIsXCJjb25lXCIsXCJjeWxpbmRlclwiLFwiZWxsaXB0aWNhbGNvbmVcIixcImVsbGlwdGljYWxjeWxpbmRlclwiLFwicGxhbmVcIixcInNwaGVyZVwiLFwidG9ydXNcIl19fSxmaWVsZHM6e2JzdXJmYWNlOnt0eXBlOlwiYnN1cmZhY2VfMV8wXzBcIixpZDoxfSxjb25lOnt0eXBlOlwiY29uZV8xXzBfMFwiLGlkOjJ9LGN5bGluZGVyOnt0eXBlOlwiY3lsaW5kZXJfMV8wXzBcIixpZDozfSxlbGxpcHRpY2FsY29uZTp7dHlwZTpcImVsbGlwdGljYWxjb25lXzFfMF8wXCIsaWQ6NH0sZWxsaXB0aWNhbGN5bGluZGVyOnt0eXBlOlwiZWxsaXB0aWNhbGN5bGluZGVyXzFfMF8wXCIsaWQ6NX0scGxhbmU6e3R5cGU6XCJwbGFuZV8xXzBfMFwiLGlkOjZ9LHNwaGVyZTp7dHlwZTpcInNwaGVyZV8xXzBfMFwiLGlkOjd9LHRvcnVzOnt0eXBlOlwidG9ydXNfMV8wXzBcIixpZDo4fX19LHRvcnVzXzFfMF8wOntmaWVsZHM6e2NlbnRlcjp7dHlwZTpcInBvaW50M2RfMV8wXzBcIixpZDoxfSxheGlzOnt0eXBlOlwidmVjdG9yM2RfMV8wXzBcIixpZDoyfSxtYWpvclJhZGl1czp7dHlwZTpcImRvdWJsZVwiLGlkOjN9LG1pbm9yUmFkaXVzOnt0eXBlOlwiZG91YmxlXCIsaWQ6NH0sY29vcmRBeGlzOnt0eXBlOlwidmVjdG9yM2RfMV8wXzBcIixpZDo1fSxsZW1vbjp7dHlwZTpcImJvb2xcIixpZDo2fSx1UmFuZ2U6e3R5cGU6XCJwYXJhbXJhbmdlXzFfMF8wXCIsaWQ6N30sdlJhbmdlOnt0eXBlOlwicGFyYW1yYW5nZV8xXzBfMFwiLGlkOjh9fX0sYmN1cnZlXzFfMF8wOntmaWVsZHM6e2RlZ3JlZTp7dHlwZTpcInVpbnQzMlwiLGlkOjF9LGtub3RzOntydWxlOlwicmVwZWF0ZWRcIix0eXBlOlwiZG91YmxlXCIsaWQ6Mn0sY29udHJvbFBvaW50czp7cnVsZTpcInJlcGVhdGVkXCIsdHlwZTpcImRvdWJsZVwiLGlkOjN9LHdlaWdodHM6e3J1bGU6XCJyZXBlYXRlZFwiLHR5cGU6XCJkb3VibGVcIixpZDo0fSxyYW5nZTp7dHlwZTpcInBhcmFtcmFuZ2VfMV8wXzBcIixpZDo1fX19LGNpcmNsZV8xXzBfMDp7ZmllbGRzOntjZW50ZXI6e3R5cGU6XCJwb2ludDNkXzFfMF8wXCIsaWQ6MX0sbm9ybWFsOnt0eXBlOlwidmVjdG9yM2RfMV8wXzBcIixpZDoyfSxyYWRpdXM6e3R5cGU6XCJ2ZWN0b3IzZF8xXzBfMFwiLGlkOjN9LHJhbmdlOnt0eXBlOlwicGFyYW1yYW5nZV8xXzBfMFwiLGlkOjR9fX0sY3VydmVfMV8wXzA6e2ZpZWxkczp7cmFuZ2U6e3R5cGU6XCJwYXJhbXJhbmdlXzFfMF8wXCIsaWQ6MX19fSxjdXJ2ZV8xXzBfMF9UeXBlOntvbmVvZnM6e2N1cnZlOntvbmVvZjpbXCJiY3VydmVcIixcImNpcmNsZVwiLFwiZWxsaXBzZVwiLFwibGluZVwiXX19LGZpZWxkczp7YmN1cnZlOnt0eXBlOlwiYmN1cnZlXzFfMF8wXCIsaWQ6MX0sY2lyY2xlOnt0eXBlOlwiY2lyY2xlXzFfMF8wXCIsaWQ6Mn0sZWxsaXBzZTp7dHlwZTpcImVsbGlwc2VfMV8wXzBcIixpZDozfSxsaW5lOnt0eXBlOlwibGluZV8xXzBfMFwiLGlkOjR9fX0sZWxsaXBzZV8xXzBfMDp7ZmllbGRzOntjZW50ZXI6e3R5cGU6XCJwb2ludDNkXzFfMF8wXCIsaWQ6MX0sbm9ybWFsOnt0eXBlOlwidmVjdG9yM2RfMV8wXzBcIixpZDoyfSxtYWpvclJhZGl1czp7dHlwZTpcInZlY3RvcjNkXzFfMF8wXCIsaWQ6M30scmFkaXVzUmF0aW86e3R5cGU6XCJkb3VibGVcIixpZDo0fSxyYW5nZTp7dHlwZTpcInBhcmFtcmFuZ2VfMV8wXzBcIixpZDo1fX19LGxpbmVfMV8wXzA6e2ZpZWxkczp7cG9zaXRpb246e3R5cGU6XCJwb2ludDNkXzFfMF8wXCIsaWQ6MX0sZGlyZWN0aW9uOnt0eXBlOlwidmVjdG9yM2RfMV8wXzBcIixpZDoyfSxyYW5nZTp7dHlwZTpcInBhcmFtcmFuZ2VfMV8wXzBcIixpZDozfX19LGF0dHJpYnV0ZV8xXzBfMDp7ZmllbGRzOnt9fSxhdHRyaWJ1dGVfMV8wXzBfVHlwZTp7b25lb2ZzOnthdHRyaWJ1dGU6e29uZW9mOltcIm5taWF0dHJpYnV0ZVwiLFwibm1pYXR0cmlidXRlYXJyXCIsXCJubWlhdHRyaWJ1dGVzdHJcIixcInRleHRhdHRyaWJ1dGVcIl19fSxmaWVsZHM6e25taWF0dHJpYnV0ZTp7dHlwZTpcIm5taWF0dHJpYnV0ZV8xXzBfMFwiLGlkOjF9LG5taWF0dHJpYnV0ZWFycjp7dHlwZTpcIm5taWF0dHJpYnV0ZWFycl8xXzBfMFwiLGlkOjR9LG5taWF0dHJpYnV0ZXN0cjp7dHlwZTpcIm5taWF0dHJpYnV0ZXN0cl8xXzBfMFwiLGlkOjJ9LHRleHRhdHRyaWJ1dGU6e3R5cGU6XCJ0ZXh0YXR0cmlidXRlXzFfMF8wXCIsaWQ6M319fSxib2R5XzFfMF8wOntmaWVsZHM6e2x1bXBzOntydWxlOlwicmVwZWF0ZWRcIix0eXBlOlwic3RyaW5nXCIsaWQ6MX0sYXR0cmlidXRlczp7cnVsZTpcInJlcGVhdGVkXCIsdHlwZTpcInN0cmluZ1wiLGlkOjJ9fX0sY29lZGdlXzFfMF8wOntmaWVsZHM6e2VkZ2U6e3R5cGU6XCJzdHJpbmdcIixpZDoxfSxwYXJ0bmVyOnt0eXBlOlwic3RyaW5nXCIsaWQ6Mn0scmV2ZXJzZWQ6e3R5cGU6XCJib29sXCIsaWQ6M30sYXR0cmlidXRlczp7cnVsZTpcInJlcGVhdGVkXCIsdHlwZTpcInN0cmluZ1wiLGlkOjR9fX0sZWRnZV8xXzBfMDp7ZmllbGRzOnt2ZXJ0ZXgwOnt0eXBlOlwic3RyaW5nXCIsaWQ6MX0sdmVydGV4MTp7dHlwZTpcInN0cmluZ1wiLGlkOjJ9LHByZWNpc2lvbjp7dHlwZTpcImRvdWJsZVwiLGlkOjN9LHJhbmdlOnt0eXBlOlwicGFyYW1yYW5nZV8xXzBfMFwiLGlkOjR9LHJldmVyc2VkOnt0eXBlOlwiYm9vbFwiLGlkOjV9LGdlb21ldHJ5Ont0eXBlOlwic3RyaW5nXCIsaWQ6Nn0sYXR0cmlidXRlczp7cnVsZTpcInJlcGVhdGVkXCIsdHlwZTpcInN0cmluZ1wiLGlkOjd9fX0sZmFjZV8xXzBfMDp7ZmllbGRzOntsb29wczp7cnVsZTpcInJlcGVhdGVkXCIsdHlwZTpcInN0cmluZ1wiLGlkOjF9LHJldmVyc2VkOnt0eXBlOlwiYm9vbFwiLGlkOjJ9LGdlb21ldHJ5Ont0eXBlOlwic3RyaW5nXCIsaWQ6M30sYXR0cmlidXRlczp7cnVsZTpcInJlcGVhdGVkXCIsdHlwZTpcInN0cmluZ1wiLGlkOjR9fX0sbG9vcF8xXzBfMDp7ZmllbGRzOntjb2VkZ2VzOntydWxlOlwicmVwZWF0ZWRcIix0eXBlOlwic3RyaW5nXCIsaWQ6MX0sYXR0cmlidXRlczp7cnVsZTpcInJlcGVhdGVkXCIsdHlwZTpcInN0cmluZ1wiLGlkOjJ9fX0sbHVtcF8xXzBfMDp7ZmllbGRzOntzaGVsbHM6e3J1bGU6XCJyZXBlYXRlZFwiLHR5cGU6XCJzdHJpbmdcIixpZDoxfSxhdHRyaWJ1dGVzOntydWxlOlwicmVwZWF0ZWRcIix0eXBlOlwic3RyaW5nXCIsaWQ6Mn19fSxtb2RlbF8xXzBfMDp7ZmllbGRzOntnZW9tZXRyaWVzOntrZXlUeXBlOlwic3RyaW5nXCIsdHlwZTpcImdlb21ldHJ5XzFfMF8wX1R5cGVcIixpZDoxfSx0b3BvbG9naWVzOntrZXlUeXBlOlwic3RyaW5nXCIsdHlwZTpcInRvcG9sb2d5XzFfMF8wX1R5cGVcIixpZDoyfSxhdHRyaWJ1dGVzOntrZXlUeXBlOlwic3RyaW5nXCIsdHlwZTpcImF0dHJpYnV0ZV8xXzBfMF9UeXBlXCIsaWQ6M319fSxzaGVsbF8xXzBfMDp7ZmllbGRzOntmYWNlczp7cnVsZTpcInJlcGVhdGVkXCIsdHlwZTpcInN0cmluZ1wiLGlkOjF9LGF0dHJpYnV0ZXM6e3J1bGU6XCJyZXBlYXRlZFwiLHR5cGU6XCJzdHJpbmdcIixpZDoyfX19LHRvcG9sb2d5XzFfMF8wOntmaWVsZHM6e2F0dHJpYnV0ZXM6e3J1bGU6XCJyZXBlYXRlZFwiLHR5cGU6XCJzdHJpbmdcIixpZDoxfX19LHRvcG9sb2d5XzFfMF8wX1R5cGU6e29uZW9mczp7dG9wb2xvZ3k6e29uZW9mOltcImJvZHlcIixcImNvZWRnZVwiLFwiZWRnZVwiLFwiZmFjZVwiLFwibG9vcFwiLFwibHVtcFwiLFwic2hlbGxcIixcInZlcnRleFwiLFwid2lyZVwiLFwid2lyZWJvZHlcIl19fSxmaWVsZHM6e2JvZHk6e3R5cGU6XCJib2R5XzFfMF8wXCIsaWQ6MX0sY29lZGdlOnt0eXBlOlwiY29lZGdlXzFfMF8wXCIsaWQ6Mn0sZWRnZTp7dHlwZTpcImVkZ2VfMV8wXzBcIixpZDozfSxmYWNlOnt0eXBlOlwiZmFjZV8xXzBfMFwiLGlkOjR9LGxvb3A6e3R5cGU6XCJsb29wXzFfMF8wXCIsaWQ6NX0sbHVtcDp7dHlwZTpcImx1bXBfMV8wXzBcIixpZDo2fSxzaGVsbDp7dHlwZTpcInNoZWxsXzFfMF8wXCIsaWQ6N30sdmVydGV4Ont0eXBlOlwidmVydGV4XzFfMF8wXCIsaWQ6OH0sd2lyZTp7dHlwZTpcIndpcmVfMV8wXzBcIixpZDo5fSx3aXJlYm9keTp7dHlwZTpcIndpcmVib2R5XzFfMF8wXCIsaWQ6MTB9fX0sdmVydGV4XzFfMF8wOntmaWVsZHM6e3ByZWNpc2lvbjp7dHlwZTpcImRvdWJsZVwiLGlkOjF9LGdlb21ldHJ5Ont0eXBlOlwic3RyaW5nXCIsaWQ6Mn0sYXR0cmlidXRlczp7cnVsZTpcInJlcGVhdGVkXCIsdHlwZTpcInN0cmluZ1wiLGlkOjN9fX0sd2lyZV8xXzBfMDp7ZmllbGRzOntlZGdlczp7cnVsZTpcInJlcGVhdGVkXCIsdHlwZTpcInN0cmluZ1wiLGlkOjF9LGF0dHJpYnV0ZXM6e3J1bGU6XCJyZXBlYXRlZFwiLHR5cGU6XCJzdHJpbmdcIixpZDoyfX19LHdpcmVib2R5XzFfMF8wOntmaWVsZHM6e3dpcmVzOntydWxlOlwicmVwZWF0ZWRcIix0eXBlOlwic3RyaW5nXCIsaWQ6MX0sYXR0cmlidXRlczp7cnVsZTpcInJlcGVhdGVkXCIsdHlwZTpcInN0cmluZ1wiLGlkOjJ9fX0sbm1pYXR0cmlidXRlXzFfMF8wOntmaWVsZHM6e3ByaW1hcnlJZDp7dHlwZTpcInVpbnQ2NFwiLGlkOjF9LHNlY29uZGFyeUlkOnt0eXBlOlwiaW50NjRcIixpZDoyfSxhcHByb2FjaElkOnt0eXBlOlwiaW50NjRcIixpZDozfSxvcGVyYXRpb25JZHM6e3J1bGU6XCJyZXBlYXRlZFwiLHR5cGU6XCJpbnQ2NFwiLGlkOjR9fX0sbm1pYXR0cmlidXRlYXJyXzFfMF8wOntmaWVsZHM6e3RhZ0luZm86e3J1bGU6XCJyZXBlYXRlZFwiLHR5cGU6XCJubWlhdHRyaWJ1dGVzdHJfMV8wXzBcIixpZDoxfX19LG5taWF0dHJpYnV0ZXN0cl8xXzBfMDp7ZmllbGRzOntwcmltYXJ5SWQ6e3R5cGU6XCJzdHJpbmdcIixpZDoxfSxzZWNvbmRhcnlJZDp7dHlwZTpcInN0cmluZ1wiLGlkOjJ9LGFwcHJvYWNoSWQ6e3R5cGU6XCJzdHJpbmdcIixpZDozfSxvcGVyYXRpb25JZHM6e3J1bGU6XCJyZXBlYXRlZFwiLHR5cGU6XCJzdHJpbmdcIixpZDo0fX19LHRleHRhdHRyaWJ1dGVfMV8wXzA6e2ZpZWxkczp7dGV4dDp7dHlwZTpcInN0cmluZ1wiLGlkOjF9fX0sZW50aXR5OntvbmVvZnM6e2VudGl0eTp7b25lb2Y6W1wicG9pbnQzZFwiLFwidmVjdG9yM2RcIixcImdlb21ldHJ5XCIsXCJwYXJhbXJhbmdlXCIsXCJwb2ludFwiLFwiYnN1cmZhY2VcIixcImNvbmVcIixcImN5bGluZGVyXCIsXCJlbGxpcHRpY2FsY29uZVwiLFwiZWxsaXB0aWNhbGN5bGluZGVyXCIsXCJwbGFuZVwiLFwic3BoZXJlXCIsXCJzdXJmYWNlXCIsXCJ0b3J1c1wiLFwiYmN1cnZlXCIsXCJjaXJjbGVcIixcImN1cnZlXCIsXCJlbGxpcHNlXCIsXCJsaW5lXCIsXCJhdHRyaWJ1dGVcIixcImJvZHlcIixcImNvZWRnZVwiLFwiZWRnZVwiLFwiZmFjZVwiLFwibG9vcFwiLFwibHVtcFwiLFwibW9kZWxcIixcInNoZWxsXCIsXCJ0b3BvbG9neVwiLFwidmVydGV4XCIsXCJ3aXJlXCIsXCJ3aXJlYm9keVwiLFwibm1pYXR0cmlidXRlXCIsXCJubWlhdHRyaWJ1dGVhcnJcIixcIm5taWF0dHJpYnV0ZXN0clwiLFwidGV4dGF0dHJpYnV0ZVwiXX19LGZpZWxkczp7aWQ6e3R5cGU6XCJzdHJpbmdcIixpZDoxfSxwb2ludDNkOnt0eXBlOlwicG9pbnQzZF8xXzBfMFwiLGlkOjJ9LHZlY3RvcjNkOnt0eXBlOlwidmVjdG9yM2RfMV8wXzBcIixpZDozfSxnZW9tZXRyeTp7dHlwZTpcImdlb21ldHJ5XzFfMF8wXCIsaWQ6NH0scGFyYW1yYW5nZTp7dHlwZTpcInBhcmFtcmFuZ2VfMV8wXzBcIixpZDo1fSxwb2ludDp7dHlwZTpcInBvaW50XzFfMF8wXCIsaWQ6Nn0sYnN1cmZhY2U6e3R5cGU6XCJic3VyZmFjZV8xXzBfMFwiLGlkOjd9LGNvbmU6e3R5cGU6XCJjb25lXzFfMF8wXCIsaWQ6OH0sY3lsaW5kZXI6e3R5cGU6XCJjeWxpbmRlcl8xXzBfMFwiLGlkOjl9LGVsbGlwdGljYWxjb25lOnt0eXBlOlwiZWxsaXB0aWNhbGNvbmVfMV8wXzBcIixpZDoxMH0sZWxsaXB0aWNhbGN5bGluZGVyOnt0eXBlOlwiZWxsaXB0aWNhbGN5bGluZGVyXzFfMF8wXCIsaWQ6MTF9LHBsYW5lOnt0eXBlOlwicGxhbmVfMV8wXzBcIixpZDoxMn0sc3BoZXJlOnt0eXBlOlwic3BoZXJlXzFfMF8wXCIsaWQ6MTN9LHN1cmZhY2U6e3R5cGU6XCJzdXJmYWNlXzFfMF8wXCIsaWQ6MTR9LHRvcnVzOnt0eXBlOlwidG9ydXNfMV8wXzBcIixpZDoxNX0sYmN1cnZlOnt0eXBlOlwiYmN1cnZlXzFfMF8wXCIsaWQ6MTZ9LGNpcmNsZTp7dHlwZTpcImNpcmNsZV8xXzBfMFwiLGlkOjE3fSxjdXJ2ZTp7dHlwZTpcImN1cnZlXzFfMF8wXCIsaWQ6MTh9LGVsbGlwc2U6e3R5cGU6XCJlbGxpcHNlXzFfMF8wXCIsaWQ6MTl9LGxpbmU6e3R5cGU6XCJsaW5lXzFfMF8wXCIsaWQ6MjB9LGF0dHJpYnV0ZTp7dHlwZTpcImF0dHJpYnV0ZV8xXzBfMFwiLGlkOjIxfSxib2R5Ont0eXBlOlwiYm9keV8xXzBfMFwiLGlkOjIyfSxjb2VkZ2U6e3R5cGU6XCJjb2VkZ2VfMV8wXzBcIixpZDoyM30sZWRnZTp7dHlwZTpcImVkZ2VfMV8wXzBcIixpZDoyNH0sZmFjZTp7dHlwZTpcImZhY2VfMV8wXzBcIixpZDoyNX0sbG9vcDp7dHlwZTpcImxvb3BfMV8wXzBcIixpZDoyNn0sbHVtcDp7dHlwZTpcImx1bXBfMV8wXzBcIixpZDoyN30sbW9kZWw6e3R5cGU6XCJtb2RlbF8xXzBfMFwiLGlkOjI4fSxzaGVsbDp7dHlwZTpcInNoZWxsXzFfMF8wXCIsaWQ6Mjl9LHRvcG9sb2d5Ont0eXBlOlwidG9wb2xvZ3lfMV8wXzBcIixpZDozMH0sdmVydGV4Ont0eXBlOlwidmVydGV4XzFfMF8wXCIsaWQ6MzF9LHdpcmU6e3R5cGU6XCJ3aXJlXzFfMF8wXCIsaWQ6MzJ9LHdpcmVib2R5Ont0eXBlOlwid2lyZWJvZHlfMV8wXzBcIixpZDozM30sbm1pYXR0cmlidXRlOnt0eXBlOlwibm1pYXR0cmlidXRlXzFfMF8wXCIsaWQ6MzR9LG5taWF0dHJpYnV0ZWFycjp7dHlwZTpcIm5taWF0dHJpYnV0ZWFycl8xXzBfMFwiLGlkOjM3fSxubWlhdHRyaWJ1dGVzdHI6e3R5cGU6XCJubWlhdHRyaWJ1dGVzdHJfMV8wXzBcIixpZDozNX0sdGV4dGF0dHJpYnV0ZTp7dHlwZTpcInRleHRhdHRyaWJ1dGVfMV8wXzBcIixpZDozNn19fX19fX19KTtlLmV4cG9ydHM9aX0sNTMxNjooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5zYXZlVG9Qcm90b0JpbmFyeT10LnNhdmVUb1Byb3RvTWVzc2FnZT10LlNvbGlkRGVmU2F2ZXI9dm9pZCAwO3ZhciBvPXIoODAzMiksaT1mdW5jdGlvbigpe307aS5wcm90b3R5cGUuc2V0VmVyc2lvbj1mdW5jdGlvbihlKXtjb25zb2xlLndhcm4oXCJTb2xpZERlZlNhdmVyLnByb3RvdHlwZS5zZXRWZXJzaW9uIGlzIGRlcHJlY2F0ZWQsXCIpfTtjb25zdCBuPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9by5BdXRvZGVzay5sb29rdXBUeXBlKFwiU29saWREZWYubW9kZWxfMV8wXzBcIikscj17dG9wb2xvZ2llczp7fSxnZW9tZXRyaWVzOnt9LGF0dHJpYnV0ZXM6e319O3JldHVybiBlLmFkZFRvTW9kZWxPYmplY3QociksdC5jcmVhdGUocil9O3QuU29saWREZWZTYXZlcj1pLHQuc2F2ZVRvUHJvdG9NZXNzYWdlPW4sdC5zYXZlVG9Qcm90b0JpbmFyeT1mdW5jdGlvbihlKXtjb25zdCB0PW8uQXV0b2Rlc2subG9va3VwVHlwZShcIlNvbGlkRGVmLm1vZGVsXzFfMF8wXCIpLHI9bihlKTtyZXR1cm4gdC5lbmNvZGUocikuZmluaXNoKCl9fSw3MzYwOihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlRvcG9sb2d5U2V0dGVycz12b2lkIDA7dmFyIG89cig2NzUyKTtjb25zdCBpPXt9LG49ZnVuY3Rpb24oZSx0LHIpe2NvbnN0IG89dC5hdHRyaWJ1dGVzO2lmKG8pe2UucmVtb3ZlQWxsQXR0cmlidXRlcygpO2Zvcih2YXIgaT0wO2k8by5sZW5ndGg7KytpKXtsZXQgdD1yKG9baV0pO2UuYWRkQXR0cmlidXRlKHQpfX19O2kuc2V0Qm9keURhdGE9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz10Lmx1bXBzLGk9bmV3IEFycmF5KG8ubGVuZ3RoKSxzPTA7czxvLmxlbmd0aDsrK3Mpe3ZhciBhPW9bc107aVtzXT1yKGEpLGlbc10uc2V0Qm9keShlKX1lLnNldEx1bXBzKGkpLG4oZSx0LHIpfSxpLnNldEx1bXBEYXRhPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG89dC5zaGVsbHMsaT1uZXcgQXJyYXkoby5sZW5ndGgpLHM9MDtzPG8ubGVuZ3RoOysrcyl7dmFyIGE9b1tzXTtpW3NdPXIoYSksaVtzXS5zZXRMdW1wKGUpfWUuc2V0U2hlbGxzKGkpLG4oZSx0LHIpfSxpLnNldFNoZWxsRGF0YT1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvPXQuZmFjZXMsaT1uZXcgQXJyYXkoby5sZW5ndGgpLHM9MDtzPG8ubGVuZ3RoOysrcyl7dmFyIGE9b1tzXTtpW3NdPXIoYSksaVtzXS5zZXRTaGVsbChlKX1lLnNldEZhY2VzKGkpLG4oZSx0LHIpfSxpLnNldEZhY2VEYXRhPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG89dC5sb29wcyxpPW5ldyBBcnJheShvLmxlbmd0aCkscz0wO3M8by5sZW5ndGg7KytzKXt2YXIgYT1vW3NdO2lbc109cihhKSxpW3NdLnNldEZhY2UoZSl9ZS5zZXRMb29wcyhpKSxlLnNldFJldmVyc2VkKHQucmV2ZXJzZWQpLGUuc2V0U3VyZmFjZShyKHQuZ2VvbWV0cnkpKSxuKGUsdCxyKX0saS5zZXRMb29wRGF0YT1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvPXQuY29lZGdlcyxpPW5ldyBBcnJheShvLmxlbmd0aCkscz0wO3M8by5sZW5ndGg7KytzKXt2YXIgYT1vW3NdO2lbc109cihhKSxpW3NdLnNldExvb3AoZSl9ZS5zZXRDb2VkZ2VzKGkpLG4oZSx0LHIpfSxpLnNldENvZWRnZURhdGE9ZnVuY3Rpb24oZSx0LHIpe2Uuc2V0RWRnZShyKHQuZWRnZSkpLGUuc2V0UmV2ZXJzZWQodC5yZXZlcnNlZCksZS5zZXRQYXJ0bmVyKHIodC5wYXJ0bmVyKSksZS5nZXRFZGdlKCkmJiFlLmdldEVkZ2UoKS5nZXRDb2VkZ2UoKSYmZS5nZXRFZGdlKCkuc2V0Q29lZGdlKGUpLG4oZSx0LHIpfSxpLnNldEVkZ2VEYXRhPWZ1bmN0aW9uKGUsdCxyKXtlLnNldFZlcnRleCgwLHIodC52ZXJ0ZXgwKSksZS5zZXRWZXJ0ZXgoMSxyKHQudmVydGV4MSkpO3ZhciBpPSgwLG8ucHJvcGVydHlUb1JhbmdlKSh0LFwicmFuZ2VcIik7ZS5zZXR0MChpWzBdKSxlLnNldHQxKGlbMV0pLGUuc2V0UmV2ZXJzZWQodC5yZXZlcnNlZCksZS5zZXRQcmVjaXNpb24odC5wcmVjaXNpb24pLGUuc2V0Q3VydmUocih0Lmdlb21ldHJ5KSksbihlLHQscil9LGkuc2V0VmVydGV4RGF0YT1mdW5jdGlvbihlLHQscil7ZS5zZXRQcmVjaXNpb24odC5wcmVjaXNpb24pLGUuc2V0UG9pbnQocih0Lmdlb21ldHJ5KSksbihlLHQscil9LGkuc2V0V2lyZUJvZHlEYXRhPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG89dC53aXJlcyxpPW5ldyBBcnJheShvLmxlbmd0aCkscz0wO3M8by5sZW5ndGg7KytzKXt2YXIgYT1vW3NdO2lbc109cihhKSxpW3NdLnNldFdpcmVCb2R5KGUpfWUuc2V0V2lyZXMoaSksbihlLHQscil9LGkuc2V0V2lyZURhdGE9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz10LmVkZ2VzLGk9bmV3IEFycmF5KG8ubGVuZ3RoKSxzPTA7czxvLmxlbmd0aDsrK3Mpe3ZhciBhPW9bc107aVtzXT1yKGEpLGlbc10uc2V0V2lyZShlKX1lLnNldEVkZ2VzKGkpLG4oZSx0LHIpfSx0LlRvcG9sb2d5U2V0dGVycz1pfSwzODg4OihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmNvbnRyb2xQb2ludHNGcm9tSG9tb2dlbmVvdXM9dC5jb250cm9sUG9pbnRzVG9Ib21vZ2VuZW91cz10LmdldFVuaXF1ZUtub3RzPXQuZmluZEtub3RTcGFuQW5kTXVsdGlwbGljaXR5PXQuZmluZEtub3RTcGFuPXZvaWQgMDt2YXIgbz1yKDI0NjgpLGk9cig0NzI4KSxuPWZ1bmN0aW9uKGUsdCl7dmFyIHI9MCxvPXQubGVuZ3RoLTE7aWYoZTw9dFtyXSl7Zm9yKDt0W3JdPT09dFtyKzFdJiZyPG8tMTspcis9MTtyZXR1cm4gcn1pZihlPj10W29dKXtmb3IoO3Rbb109PT10W28tMV0mJm8+cisxOylvLT0xO3JldHVybiBvLTF9Zm9yKHZhciBpPU1hdGguZmxvb3IoKHIrbykvMik7ZTx0W2ldfHxlPj10W2krMV07KWU8dFtpXT9vPWk6cj1pLGk9TWF0aC5mbG9vcigocitvKS8yKTtyZXR1cm4gaX07dC5maW5kS25vdFNwYW49bix0LmZpbmRLbm90U3BhbkFuZE11bHRpcGxpY2l0eT1mdW5jdGlvbihlLHQpe3ZhciByPW8uUEFSQU1FVEVSX1NQQUNFX1RPTEVSQU5DRSxpPW4oZSx0KSxzPTAsYT1lLGM9aTtpZihlPHRbY10rcilmb3IoYT10W2NdO2M+PTAmJk1hdGguYWJzKHRbY10tYSk8cjspLS1jLCsrcztlbHNlIGlmKGU+dFtjKzFdLXIpe2ZvcihhPXRbKytjXTtjPHQubGVuZ3RoJiZNYXRoLmFicyh0W2NdLWEpPHI7KSsrYywrK3M7YT1jPHQubGVuZ3RoP3RbaT1jLTFdOnRbdC5sZW5ndGgtMV19cmV0dXJue3NwYW46aSxtdWx0aXBsaWNpdHk6cyxrbm90OmF9fSx0LmdldFVuaXF1ZUtub3RzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bZVswXV0scj0xO3I8ZS5sZW5ndGg7KytyKWVbcl0hPT1lW3ItMV0mJnQucHVzaChlW3JdKTtyZXR1cm4gdH0sdC5jb250cm9sUG9pbnRzVG9Ib21vZ2VuZW91cz1mdW5jdGlvbihlLHQpe2kuQ29uc29sZVV0aWxzLmFzc2VydChlLmxlbmd0aD4wJiZlLmxlbmd0aD09PTMqdC5sZW5ndGgpO2Zvcih2YXIgcj10Lmxlbmd0aCxvPW5ldyBBcnJheSg0KnIpLG49MDtuPHI7KytuKXt2YXIgcz10W25dO29bNCpuXT1lWzMqbl0qcyxvWzQqbisxXT1lWzMqbisxXSpzLG9bNCpuKzJdPWVbMypuKzJdKnMsb1s0Km4rM109c31yZXR1cm4gb30sdC5jb250cm9sUG9pbnRzRnJvbUhvbW9nZW5lb3VzPWZ1bmN0aW9uKGUpe2kuQ29uc29sZVV0aWxzLmFzc2VydChlLmxlbmd0aD4wJiZlLmxlbmd0aCU0PT0wKTtmb3IodmFyIHQ9ZS5sZW5ndGgvNCxyPW5ldyBBcnJheSgzKnQpLG89bmV3IEFycmF5KHQpLG49MDtuPHQ7KytuKXt2YXIgcz1lWzQqbiszXTtyWzMqbl09ZVs0Km5dL3MsclszKm4rMV09ZVs0Km4rMV0vcyxyWzMqbisyXT1lWzQqbisyXS9zLG9bbl09c31yZXR1cm57UDpyLHc6b319fSw1NTY0OihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnJlbGF4QkN1cnZlVG9QZXJwZW5kaWN1bGFyPXQuY2xvc2VzdEJDdXJ2ZVNlZ21lbnRzPXQubWF4RGlzdGFuY2VTcXJUb0h1bGw9dC5taW5EaXN0YW5jZVNxclRvSHVsbD12b2lkIDA7dmFyIG89cigxOTcyKSxpPXIoMjQ2OCksbj1yKDQ4KSxzPXIoMWUzKSxhPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbj10Lmxlbmd0aC8zLHM9by5WZWN0b3IzLmFzRmxvYXQ2NCgwLDAsMCk7Zm9yKHI9MDtyPG47KytyKXNbMF0rPXRbMypyXSxzWzFdKz10WzMqcisxXSxzWzJdKz10WzMqcisyXTtvLlZlY3RvcjMuc2NhbGUocyxzLDEvbiksby5WZWN0b3IzLnN1YihzLHMsZSk7dmFyIGE9by5WZWN0b3IzLnNxdWFyZWRMZW5ndGgocyk7aWYoYTxpLktFUk5FTF9UT0xFUkFOQ0UqaS5LRVJORUxfVE9MRVJBTkNFKXJldHVybiAwO3ZhciBjPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTtmb3Iocj0wO3I8bjsrK3Ipe3ZhciB1PXNbMF0qKHRbMypyXS1lWzBdKStzWzFdKih0WzMqcisxXS1lWzFdKStzWzJdKih0WzMqcisyXS1lWzJdKTt1PGMmJihjPXUpfXJldHVybiBjPD0wPzA6YypjL2F9LGM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dC5sZW5ndGgvMyxvPTAsaT0wO2k8cjsrK2kpe3ZhciBuPXRbMyppXS1lWzBdLHM9dFszKmkrMV0tZVsxXSxhPXRbMyppKzJdLWVbMl0sYz1uKm4rcypzK2EqYTtjPm8mJihvPWMpfXJldHVybiBvfTt0Lm1pbkRpc3RhbmNlU3FyVG9IdWxsPWEsdC5tYXhEaXN0YW5jZVNxclRvSHVsbD1jLHQuY2xvc2VzdEJDdXJ2ZVNlZ21lbnRzPWZ1bmN0aW9uKGUsdCxyLGkpe2Zvcih2YXIgbj1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkscz1bXSx1PTA7dTx0Lmxlbmd0aDsrK3Upe3ZhciBsLGg9dFt1XSxkPWguZ2V0UmFuZ2VVbmxpbWl0ZWQoKTtpZihpKXtsPSExO2Zvcih2YXIgcD0wO3A8aS5sZW5ndGg7KytwKWlmKGRbMV0+PWlbcF1bMF0rby5GTE9BVDY0X1RPTEVSQU5DRSYmZFswXTw9aVtwXVsxXS1vLkZMT0FUNjRfVE9MRVJBTkNFKXtsPSEwO2JyZWFrfX1lbHNlIGw9ITA7aWYobCl7dmFyIGc9cj9yW3VdOjAsZj1oLmdldENvbnRyb2xQb2ludHMoKSx2PWEoZSxmKTtpZigodj1NYXRoLm1heCgwLHYtZykpPD1uKXt2YXIgXz1jKGUsZikrZztzLnB1c2goe2luZGV4OnUsbWluRGlzdFNxcjp2LG1heERpc3RTcXI6X30pLF88biYmKG49Xyl9fX1yZXR1cm4ocz1zLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUubWluRGlzdFNxcjw9bn0pKSkuc29ydCgoZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm1pbkRpc3RTcXItdC5taW5EaXN0U3FyO3JldHVybiAwPT09cj9lLm1heERpc3RTcXItdC5tYXhEaXN0U3FyOnJ9KSksc30sdC5yZWxheEJDdXJ2ZVRvUGVycGVuZGljdWxhcj1mdW5jdGlvbihlLHQscixpLGEsYyx1LGwpe3ZhciBoPXV8fG8uRkxPQVQ2NF9UT0xFUkFOQ0UsZD1sfHwzMixwPXQubGVuZ3RoLzMsZz1lLmxlbmd0aC1wLTE7cmV0dXJuKDAscy5uZXd0b25SYXBoc29uMUQpKChmdW5jdGlvbihvKXt2YXIgcz0oMCxuLmV2YWx1YXRlQkN1cnZlRGVyaXZzKShvLDIsZyxlLHQsciksYT1zWzBdLGM9c1sxXSx1PXNbMl0sbD1bYVswXS1pWzBdLGFbMV0taVsxXSxhWzJdLWlbMl1dO3JldHVybnt2YWw6MioobFswXSpjWzBdK2xbMV0qY1sxXStsWzJdKmNbMl0pLGRlcml2OjIqKGxbMF0qdVswXStsWzFdKnVbMV0rbFsyXSp1WzJdKyhjWzBdKmNbMF0rY1sxXSpjWzFdK2NbMl0qY1syXSkpfX0pLGMsYSxoLGQpfX0sNjIwMDooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWNvbXBvc2VCQ3VydmVGbGFncz10LmRlY29tcG9zZUJDdXJ2ZVRvQmV6aWVyPXQuZGVjb21wb3NlQkN1cnZlQ29udHJvbFBvaW50cz12b2lkIDA7dmFyIG89cigzODg4KSxpPXIoNDcyOCksbj1mdW5jdGlvbihlLHQscil7aS5Db25zb2xlVXRpbHMuYXNzZXJ0KHQubGVuZ3RoJXI9PTApO3ZhciBvLG4scyxhPWUubGVuZ3RoLXQubGVuZ3RoL3ItMTtpLkNvbnNvbGVVdGlscy5hc3NlcnQoYT4wKTt2YXIgYz1lLmxlbmd0aC0xLHU9YSxsPWErMSxoPTAsZD1bXSxwPVtdO2ZvcihwW2hdPW5ldyBBcnJheSgoYSsxKSpyKSxvPTA7bzw9YTsrK28pZm9yKHM9MDtzPHI7KytzKXBbaF1bbypyK3NdPXRbbypyK3NdO2Zvcig7bDxjOyl7Zm9yKHZhciBnPTE7bDxjJiZlW2wrMV09PT1lW2xdOykrK2wsKytnO3ZhciBmPWw9PT1jO2lmKGZ8fChwW2grMV09bmV3IEFycmF5KChhKzEpKnIpKSxnPGEpe3ZhciB2PWVbbF0tZVt1XTtmb3Iobj1hO24+ZzstLW4pZFtuLWctMV09di8oZVt1K25dLWVbdV0pO3ZhciBfPWEtZztmb3Iobj0xO248PV87KytuKXtmb3IodmFyIHk9Xy1uLG09ZytuLEU9YTtFPj1tOy0tRSl7dmFyIHg9ZFtFLW1dO2ZvcihzPTA7czxyOysrcylwW2hdW0UqcitzXT1wW2hdW0UqcitzXSp4K3BbaF1bKEUtMSkqcitzXSooMS14KX1pZighZilmb3Iocz0wO3M8cjsrK3MpcFtoKzFdW3kqcitzXT1wW2hdW2EqcitzXX19aWYoZilicmVhaztmb3IoKytoLG89YS1nO288PWE7KytvKWZvcihzPTA7czxyOysrcylwW2hdW28qcitzXT10WyhsLWErbykqcitzXTt1PWwsKytsfXJldHVybiBwfTt0LmRlY29tcG9zZUJDdXJ2ZUNvbnRyb2xQb2ludHM9bix0LmRlY29tcG9zZUJDdXJ2ZVRvQmV6aWVyPWZ1bmN0aW9uKGUsdCxyKXt2YXIgcyxhPXImJnIubGVuZ3RoPjA7aS5Db25zb2xlVXRpbHMuYXNzZXJ0KHQubGVuZ3RoPjAmJnQubGVuZ3RoJTM9PTApLGkuQ29uc29sZVV0aWxzLmFzc2VydCghYXx8dC5sZW5ndGg9PT0zKnIubGVuZ3RoKTt2YXIgYyx1LGw9ZS5sZW5ndGgtdC5sZW5ndGgvMy0xO2lmKGkuQ29uc29sZVV0aWxzLmFzc2VydChsPjApLGEpe3ZhciBoPSgwLG8uY29udHJvbFBvaW50c1RvSG9tb2dlbmVvdXMpKHQscik7Zm9yKGM9bihlLGgsNCksdT1bXSxzPTA7czxjLmxlbmd0aDsrK3Mpe3ZhciBkPSgwLG8uY29udHJvbFBvaW50c0Zyb21Ib21vZ2VuZW91cykoY1tzXSk7Y1tzXT1kLlAsdVtzXT1kLnd9fWVsc2UgYz1uKGUsdCwzKSx1PXZvaWQgMDt2YXIgcD0oMCxvLmdldFVuaXF1ZUtub3RzKShlKTtpLkNvbnNvbGVVdGlscy5hc3NlcnQocC5sZW5ndGg9PT1jLmxlbmd0aCsxKTt2YXIgZz1uZXcgQXJyYXkocC5sZW5ndGgtMSk7Zm9yKHM9MDtzPGcubGVuZ3RoOysrcylnW3NdPW5ldyBBcnJheSgyKmwrMiksZ1tzXS5maWxsKHBbc10sMCxsKzEpLGdbc10uZmlsbChwW3MrMV0sbCsxKTtyZXR1cm57VTpnLFA6Yyx3OnV9fSx0LmRlY29tcG9zZUJDdXJ2ZUZsYWdzPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbz1lLmxlbmd0aC10Lmxlbmd0aC0xLGk9bmV3IEFycmF5KHQubGVuZ3RoKTtpLmZpbGwoITEpO3ZhciBuPW8tMTtmb3Iocj0wO3I8dC5sZW5ndGg7KytyKWlmKHRbcl0pe3ZhciBzPU1hdGgubWF4KHItbiwwKSxhPU1hdGgubWluKHIrbixpLmxlbmd0aC0xKTtpLmZpbGwoITAscyxhKzEpfXZhciBjPVtdLHU9ZS5sZW5ndGgtMSxsPW8rMSxoPTA7Zm9yKGNbaF09ITEscj0wO3I8PW87KytyKWlbcl0mJihjW2hdPSEwKTtmb3IoO2w8dTspe2Zvcih2YXIgZD0xO2w8dSYmZVtsKzFdPT09ZVtsXTspKytsLCsrZDtpZihsPT09dSlicmVhaztmb3IoY1srK2hdPSExLHI9by1kO3I8PW87KytyKWlbbC1vK3JdJiYoY1toXT0hMCk7KytsfXJldHVybiBjfX0sNDg6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZXZhbHVhdGVCQ3VydmVEZXJpdnM9dC5ldmFsdWF0ZUJDdXJ2ZVBvaW50PXQuZXZhbHVhdGVCYXNpc0Rlcml2YXRpdmVzPXQuZXZhbHVhdGVCYXNpc0Z1bmN0aW9ucz12b2lkIDA7dmFyIG8saSxuLHMsYT1yKDE5NzIpLGM9cig1ODk2KSx1PXIoMzg4OCksbD0obz1udWxsLGk9bnVsbCxmdW5jdGlvbihlLHQscixuKXsobnVsbD09PW98fG8ubGVuZ3RoPHIrMSkmJihvPW5ldyBGbG9hdDY0QXJyYXkocisxKSxpPW5ldyBGbG9hdDY0QXJyYXkocisxKSk7dmFyIHM9bmV3IEZsb2F0NjRBcnJheShyKzEpO3NbMF09MTtmb3IodmFyIGE9MTthPD1yOysrYSl7b1thXT10LW5bZSsxLWFdLGlbYV09bltlK2FdLXQ7Zm9yKHZhciBjPTAsdT0wO3U8YTsrK3Upe3ZhciBsPXNbdV0vKGlbdSsxXStvW2EtdV0pO3NbdV09YytpW3UrMV0qbCxjPW9bYS11XSpsfXNbYV09Y31yZXR1cm4gc30pLGg9ZnVuY3Rpb24oKXt2YXIgZT1udWxsLHQ9bnVsbCxyPW51bGwsbz1udWxsO3JldHVybiBmdW5jdGlvbihpLG4scyxhLGMsdSl7dmFyIGwsaCxkO2lmKG51bGw9PT10fHx0Lmxlbmd0aDxzKzEpe2ZvcihlPVtuZXcgRmxvYXQ2NEFycmF5KHMrMSksbmV3IEZsb2F0NjRBcnJheShzKzEpXSx0PW5ldyBBcnJheShzKzEpLGw9MDtsPHMrMTsrK2wpdFtsXT1uZXcgRmxvYXQ2NEFycmF5KHMrMSk7cj1uZXcgRmxvYXQ2NEFycmF5KHMrMSksbz1uZXcgRmxvYXQ2NEFycmF5KHMrMSl9aWYoIXUpZm9yKHU9bmV3IEFycmF5KGErMSksbD0wO2w8PWE7KytsKXVbbF09bmV3IEZsb2F0NjRBcnJheShzKzEpO2Zvcih0WzBdWzBdPTEsbD0xO2w8PXM7KytsKXtyW2xdPW4tY1tpKzEtbF0sb1tsXT1jW2krbF0tbjt2YXIgcD0wO2ZvcihkPTA7ZDxsOysrZCl7dFtsXVtkXT1vW2QrMV0rcltsLWRdO3ZhciBnPXRbZF1bbC0xXS90W2xdW2RdO3RbZF1bbF09cCtvW2QrMV0qZyxwPXJbbC1kXSpnfXRbbF1bbF09cH1mb3IobD0wO2w8PXM7KytsKXVbMF1bbF09dFtsXVtzXTtmb3IoZD0wO2Q8PXM7KytkKXt2YXIgZj0wLHY9MTtmb3IoZVswXVswXT0xLGg9MTtoPD1hOysraCl7dmFyIF8seT0wLG09ZC1oLEU9cy1oO2ZvcihkPj1oJiYoZVt2XVswXT1lW2ZdWzBdL3RbRSsxXVttXSx5PWVbdl1bMF0qdFttXVtFXSksXz1kLTE8PUU/aC0xOnMtZCxsPW0+PS0xPzE6LW07bDw9XzsrK2wpZVt2XVtsXT0oZVtmXVtsXS1lW2ZdW2wtMV0pL3RbRSsxXVttK2xdLHkrPWVbdl1bbF0qdFttK2xdW0VdO2Q8PUUmJihlW3ZdW2hdPS1lW2ZdW2gtMV0vdFtFKzFdW2RdLHkrPWVbdl1baF0qdFtkXVtFXSksdVtoXVtkXT15LGw9ZixmPXYsdj1sfX1mb3IoZD1zLGg9MTtoPD1hOysraCl7Zm9yKGw9MDtsPD1zOysrbCl1W2hdW2xdKj1kO2QqPXMtaH1yZXR1cm4gdX19KCksZD0obj1udWxsLHM9bnVsbCxmdW5jdGlvbihlLHQscixvLGksbCl7dmFyIGQscCxnO2lmKG51bGw9PT1ufHxuLmxlbmd0aDxyKzEpe2ZvcihuPW5ldyBBcnJheShyKzEpLGQ9MDtkPD1yOysrZCluW2RdPW5ldyBGbG9hdDY0QXJyYXkocisxKTtzPW5ldyBGbG9hdDY0QXJyYXkocisxKX12YXIgZj1NYXRoLm1pbih0LHIpLHY9bCYmbC5sZW5ndGg+MCxfPSgwLHUuZmluZEtub3RTcGFuKShlLG8pO2goXyxlLHIsZixvLG4pO3ZhciB5PW5ldyBBcnJheSh0KzEpO2ZvcihkPTA7ZDw9dDsrK2QpeVtkXT1hLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpO2ZvcihwPTA7cDw9ZjsrK3Ape3ZhciBtPTMqKF8tcik7aWYodilmb3Ioc1twXT0wLGQ9MDtkPD1yOysrZClnPWxbXy1yK2RdKm5bcF1bZF0seVtwXVswXSs9aVttXSpnLHlbcF1bMV0rPWlbbSsxXSpnLHlbcF1bMl0rPWlbbSsyXSpnLHNbcF0rPWcsbSs9MztlbHNlIGZvcihkPTA7ZDw9cjsrK2QpZz1uW3BdW2RdLHlbcF1bMF0rPWlbbV0qZyx5W3BdWzFdKz1pW20rMV0qZyx5W3BdWzJdKz1pW20rMl0qZyxtKz0zfWlmKHYpZm9yKHA9MDtwPD1mOysrcCl7dmFyIEU9eVtwXTtmb3IoZD0xO2Q8PXA7KytkKWc9LWMuYmlub21pYWxDb2VmZmljaWVudHNbcF1bZF0qc1tkXSxhLlZlY3RvcjMuc2NhbGVBbmRBZGQoRSxFLHlbcC1kXSxnKTthLlZlY3RvcjMuc2NhbGUoRSxFLDEvc1swXSl9cmV0dXJuIHl9KTt0LmV2YWx1YXRlQmFzaXNGdW5jdGlvbnM9bCx0LmV2YWx1YXRlQmFzaXNEZXJpdmF0aXZlcz1oLHQuZXZhbHVhdGVCQ3VydmVQb2ludD1mdW5jdGlvbihlLHQscixvLGkpe3ZhciBuLHMsYz0oMCx1LmZpbmRLbm90U3BhbikoZSxyKSxoPWwoYyxlLHQsciksZD1pJiZpLmxlbmd0aD4wLHA9YS5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSxnPTAsZj0zKihjLXQpO2lmKGQpe2ZvcihuPTA7bjw9dDsrK24pcz1pW2MtdCtuXSpoW25dLHBbMF0rPW9bZl0qcyxwWzFdKz1vW2YrMV0qcyxwWzJdKz1vW2YrMl0qcyxnKz1zLGYrPTM7YS5WZWN0b3IzLnNjYWxlKHAscCwxL2cpfWVsc2UgZm9yKG49MDtuPD10OysrbilzPWhbbl0scFswXSs9b1tmXSpzLHBbMV0rPW9bZisxXSpzLHBbMl0rPW9bZisyXSpzLGYrPTM7cmV0dXJuIHB9LHQuZXZhbHVhdGVCQ3VydmVEZXJpdnM9ZH0sOTk1MjooZSx0KT0+e1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKGUsdCl7dGhpcy5jb250ZW50PVtdLHRoaXMuc2NvcmVGdW5jdGlvbj1lLHRoaXMubG9va3VwRnVuY3Rpb249dCx0aGlzLmxvb2t1cEZ1bmN0aW9uJiYodGhpcy5ub2RlRGljdD17fSl9O3IucHJvdG90eXBlPXtwdXNoOmZ1bmN0aW9uKGUpe3RoaXMuY29udGVudC5wdXNoKGUpLHRoaXMubG9va3VwRnVuY3Rpb24mJih0aGlzLm5vZGVEaWN0W3RoaXMubG9va3VwRnVuY3Rpb24oZSldPXRoaXMuY29udGVudC5sZW5ndGgtMSksdGhpcy5idWJibGVVcCh0aGlzLmNvbnRlbnQubGVuZ3RoLTEpfSxwb3A6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNvbnRlbnRbMF0sdD10aGlzLmNvbnRlbnQucG9wKCk7cmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGg+MCYmKHRoaXMuY29udGVudFswXT10LHRoaXMubG9va3VwRnVuY3Rpb24mJih0aGlzLm5vZGVEaWN0W3RoaXMubG9va3VwRnVuY3Rpb24odCldPTApLHRoaXMuc2lua0Rvd24oMCkpLHRoaXMubG9va3VwRnVuY3Rpb24mJmRlbGV0ZSB0aGlzLm5vZGVEaWN0W3RoaXMubG9va3VwRnVuY3Rpb24oZSldLGV9LHBlZWs6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50WzBdfSxnZXROb2RlSW5kZXg6ZnVuY3Rpb24oZSl7aWYodGhpcy5sb29rdXBGdW5jdGlvbilyZXR1cm4gdGhpcy5ub2RlRGljdFt0aGlzLmxvb2t1cEZ1bmN0aW9uKGUpXTtmb3IodmFyIHQ9dGhpcy5jb250ZW50Lmxlbmd0aCxyPTA7cjx0O3IrKylpZih0aGlzLmNvbnRlbnRbcl09PT1lKXJldHVybiByO3Rocm93IG5ldyBFcnJvcihcIk5vZGUgbm90IGZvdW5kLlwiKX0sdXBkYXRlZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldE5vZGVJbmRleChlKSxyPXRoaXMuc2NvcmVGdW5jdGlvbihlKSxvPU1hdGguZmxvb3IoKHQrMSkvMiktMSxpPXRoaXMuY29udGVudFtvXTtpZih0PjAmJnI8dGhpcy5zY29yZUZ1bmN0aW9uKGkpKXRoaXMuYnViYmxlVXAodCk7ZWxzZXt2YXIgbj0yKih0KzEpLHM9bi0xLGE9dGhpcy5jb250ZW50W3NdLGM9dGhpcy5jb250ZW50W25dOyhhJiZyPnRoaXMuc2NvcmVGdW5jdGlvbihhKXx8YyYmcj50aGlzLnNjb3JlRnVuY3Rpb24oYykpJiZ0aGlzLnNpbmtEb3duKHQpfX0scmVtb3ZlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY29udGVudC5sZW5ndGgscj10aGlzLmdldE5vZGVJbmRleChlKSxvPXRoaXMuY29udGVudC5wb3AoKTtyIT09dC0xJiYodGhpcy5jb250ZW50W3JdPW8sdGhpcy5zY29yZUZ1bmN0aW9uKG8pPHRoaXMuc2NvcmVGdW5jdGlvbihlKT90aGlzLmJ1YmJsZVVwKHIpOnRoaXMuc2lua0Rvd24ocikpfSxzaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGh9LGJ1YmJsZVVwOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLmNvbnRlbnRbZV07ZT4wOyl7dmFyIHI9TWF0aC5mbG9vcigoZSsxKS8yKS0xLG89dGhpcy5jb250ZW50W3JdO2lmKCEodGhpcy5zY29yZUZ1bmN0aW9uKHQpPHRoaXMuc2NvcmVGdW5jdGlvbihvKSkpYnJlYWs7dGhpcy5jb250ZW50W3JdPXQsdGhpcy5jb250ZW50W2VdPW8sdGhpcy5sb29rdXBGdW5jdGlvbiYmKHRoaXMubm9kZURpY3RbdGhpcy5sb29rdXBGdW5jdGlvbih0KV09cix0aGlzLm5vZGVEaWN0W3RoaXMubG9va3VwRnVuY3Rpb24obyldPWUpLGU9cn19LHNpbmtEb3duOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLmNvbnRlbnQubGVuZ3RoLHI9dGhpcy5jb250ZW50W2VdLG89dGhpcy5zY29yZUZ1bmN0aW9uKHIpOzspe3ZhciBpPTIqKGUrMSksbj1pLTEscz1udWxsO2lmKG48dCl7dmFyIGE9dGhpcy5jb250ZW50W25dLGM9dGhpcy5zY29yZUZ1bmN0aW9uKGEpO2M8byYmKHM9bil9aWYoaTx0KXt2YXIgdT10aGlzLmNvbnRlbnRbaV07dGhpcy5zY29yZUZ1bmN0aW9uKHUpPChudWxsPT09cz9vOmMpJiYocz1pKX1pZihudWxsPT09cylicmVhazt0aGlzLmNvbnRlbnRbZV09dGhpcy5jb250ZW50W3NdLHRoaXMuY29udGVudFtzXT1yLHRoaXMubG9va3VwRnVuY3Rpb24mJih0aGlzLm5vZGVEaWN0W3RoaXMubG9va3VwRnVuY3Rpb24odGhpcy5jb250ZW50W2VdKV09ZSx0aGlzLm5vZGVEaWN0W3RoaXMubG9va3VwRnVuY3Rpb24odGhpcy5jb250ZW50W3NdKV09cyksZT1zfX19LHQuQmluYXJ5SGVhcD1yfSwzMzQ0OihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkJvdW5kaW5nQm94PXZvaWQgMDt2YXIgbz1yKDE5NzIpLGk9cigyNDY4KSxuPWZ1bmN0aW9uKGUsdCl7dGhpcy5taW49ZT9vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXMoZVswXSxlWzFdLGVbMl0pOm8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcygxLzAsMS8wLDEvMCksdGhpcy5tYXg9dD9vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXModFswXSx0WzFdLHRbMl0pOm8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcygtMS8wLC0xLzAsLTEvMCl9O24ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCIoeDpcIit0aGlzLm1pblswXStcIiwgeTpcIit0aGlzLm1pblsxXStcIiwgejpcIit0aGlzLm1pblsyXStcIikgLT4gKHg6XCIrdGhpcy5tYXhbMF0rXCIsIHk6XCIrdGhpcy5tYXhbMV0rXCIsIHo6XCIrdGhpcy5tYXhbMl0rXCIpXCJ9LG4ucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSl7cmV0dXJuIG8uVmVjdG9yMy5jb3B5KHRoaXMubWluLGUubWluKSxvLlZlY3RvcjMuY29weSh0aGlzLm1heCxlLm1heCksdGhpc30sbi5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcy5taW4sdGhpcy5tYXgpfSxuLnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbihlKXt2YXIgdD0wO3JldHVybiAwPD1lJiZlPD0yPyh0PXRoaXMubWF4W2VdLXRoaXMubWluW2VdLGlzRmluaXRlKHQpP3Q6MCk6KGNvbnNvbGUuZXJyb3IoXCJ3cm9uZyBheGlzIGFyZ3VtZW50IHN1cHBsaWVkIHRvIEJvdW5kaW5nQm94LmdldFdpZHRoKCk6IFwiK2UpLDApfSxuLnByb3RvdHlwZS5nZXRNYXhNaW5BbGlnbmVkPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIGkscyxhLGM9dGhpcy5nZXRDb3JuZXJzKCksdT1bXSxsPVtdLGg9W10sZD0wO2Q8Yy5sZW5ndGg7KytkKWk9by5WZWN0b3IzLmRvdChjW2RdLGUpLHM9by5WZWN0b3IzLmRvdChjW2RdLHQpLGE9by5WZWN0b3IzLmRvdChjW2RdLHIpLHUucHVzaChpKSxsLnB1c2gocyksaC5wdXNoKGEpO3ZhciBwPU1hdGgubWluLmFwcGx5KHZvaWQgMCx1KSxnPU1hdGgubWluLmFwcGx5KHZvaWQgMCxsKSxmPU1hdGgubWluLmFwcGx5KHZvaWQgMCxoKSx2PU1hdGgubWF4LmFwcGx5KHZvaWQgMCx1KSxfPU1hdGgubWF4LmFwcGx5KHZvaWQgMCxsKSx5PU1hdGgubWF4LmFwcGx5KHZvaWQgMCxoKTtyZXR1cm4gbmV3IG4oW3AsZyxmXSxbdixfLHldKX0sbi5wcm90b3R5cGUuaW5jbHVkZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pbmNsdWRlWChlLm1pblswXSxlLm1heFswXSksdGhpcy5pbmNsdWRlWShlLm1pblsxXSxlLm1heFsxXSksdGhpcy5pbmNsdWRlWihlLm1pblsyXSxlLm1heFsyXSksdGhpc30sbi5wcm90b3R5cGUuaW5jbHVkZVg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5taW5bMF09TWF0aC5taW4odGhpcy5taW5bMF0sZSksdGhpcy5tYXhbMF09TWF0aC5tYXgodGhpcy5tYXhbMF0sdCksdGhpc30sbi5wcm90b3R5cGUuaW5jbHVkZVk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5taW5bMV09TWF0aC5taW4odGhpcy5taW5bMV0sZSksdGhpcy5tYXhbMV09TWF0aC5tYXgodGhpcy5tYXhbMV0sdCksdGhpc30sbi5wcm90b3R5cGUuaW5jbHVkZVo9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5taW5bMl09TWF0aC5taW4odGhpcy5taW5bMl0sZSksdGhpcy5tYXhbMl09TWF0aC5tYXgodGhpcy5tYXhbMl0sdCksdGhpc30sbi5wcm90b3R5cGUuaW5jbHVkZVNwaGVyZT1mdW5jdGlvbihlKXt2YXIgdD1lLmdldENlbnRlcigpLHI9ZS5nZXRSYWRpdXMoKTtyZXR1cm4gdGhpcy5pbmNsdWRlWCh0WzBdLXIsdFswXStyKSx0aGlzLmluY2x1ZGVZKHRbMV0tcix0WzFdK3IpLHRoaXMuaW5jbHVkZVoodFsyXS1yLHRbMl0rciksdGhpc30sbi5wcm90b3R5cGUudHJhbnNsYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBvLlZlY3RvcjMuYWRkKHRoaXMubWluLHRoaXMubWluLGUpLG8uVmVjdG9yMy5hZGQodGhpcy5tYXgsdGhpcy5tYXgsZSksdGhpc30sbi5wcm90b3R5cGUuZ2V0Q29ybmVycz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0RGlhZ29uYWwoKTtyZXR1cm5bby5WZWN0b3IzLmNsb25lKHRoaXMubWluKSxvLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXModGhpcy5taW5bMF0rZVswXSx0aGlzLm1pblsxXSx0aGlzLm1pblsyXSksby5WZWN0b3IzLmNyZWF0ZUZsb2F0NjRGcm9tVmFsdWVzKHRoaXMubWluWzBdLHRoaXMubWluWzFdK2VbMV0sdGhpcy5taW5bMl0pLG8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcyh0aGlzLm1pblswXSx0aGlzLm1pblsxXSx0aGlzLm1pblsyXStlWzJdKSxvLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXModGhpcy5taW5bMF0rZVswXSx0aGlzLm1pblsxXStlWzFdLHRoaXMubWluWzJdKSxvLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXModGhpcy5taW5bMF0rZVswXSx0aGlzLm1pblsxXSx0aGlzLm1pblsyXStlWzJdKSxvLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXModGhpcy5taW5bMF0sdGhpcy5taW5bMV0rZVsxXSx0aGlzLm1pblsyXStlWzJdKSxvLlZlY3RvcjMuY2xvbmUodGhpcy5tYXgpXX0sbi5wcm90b3R5cGUudHJhbnNmb3JtPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLmlzRW1wdHkoKSl7dmFyIHQ9dGhpcy5nZXRDb3JuZXJzKCk7dGhpcy5tYXhbMF09LTEvMCx0aGlzLm1heFsxXT0tMS8wLHRoaXMubWF4WzJdPS0xLzAsdGhpcy5taW5bMF09MS8wLHRoaXMubWluWzFdPTEvMCx0aGlzLm1pblsyXT0xLzA7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDsrK3Ipby5WZWN0b3IzLnRyYW5zZm9ybU1hdHJpeDQ0KHRbcl0sdFtyXSxlKSxvLlZlY3RvcjMubWF4KHRoaXMubWF4LHRoaXMubWF4LHRbcl0pLG8uVmVjdG9yMy5taW4odGhpcy5taW4sdGhpcy5taW4sdFtyXSl9cmV0dXJuIHRoaXN9LG4ucHJvdG90eXBlLmluY2x1ZGVQb2ludFhZWj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pbmNsdWRlWChlLngsZS54KSx0aGlzLmluY2x1ZGVZKGUueSxlLnkpLHRoaXMuaW5jbHVkZVooZS56LGUueiksdGhpc30sbi5wcm90b3R5cGUuaW5jbHVkZVBvaW50PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmluY2x1ZGVYKGVbMF0sZVswXSksdGhpcy5pbmNsdWRlWShlWzFdLGVbMV0pLHRoaXMuaW5jbHVkZVooZVsyXSxlWzJdKSx0aGlzfSxuLnByb3RvdHlwZS5nZXRDZW50ZXI9ZnVuY3Rpb24oKXt2YXIgZT1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpO3JldHVybiBvLlZlY3RvcjMuYWRkKGUsdGhpcy5taW4sdGhpcy5tYXgpLG8uVmVjdG9yMy5zY2FsZShlLGUsLjUpLGV9LG4ucHJvdG90eXBlLmdldERpYWdvbmFsPWZ1bmN0aW9uKCl7dmFyIGU9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtyZXR1cm4gby5WZWN0b3IzLnN1YihlLHRoaXMubWF4LHRoaXMubWluKSxlfSxuLnByb3RvdHlwZS5pc1BvaW50SW5zaWRlPWZ1bmN0aW9uKGUpe3JldHVybiEoZVswXTx0aGlzLm1pblswXXx8ZVswXT50aGlzLm1heFswXSkmJighKGVbMV08dGhpcy5taW5bMV18fGVbMV0+dGhpcy5tYXhbMV0pJiYhKGVbMl08dGhpcy5taW5bMl18fGVbMl0+dGhpcy5tYXhbMl0pKX0sbi5wcm90b3R5cGUuaXNQb2ludEluc2lkZVdpdGhUb2xlcmFuY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8KHQ9aS5LRVJORUxfVE9MRVJBTkNFKSwhKGVbMF08dGhpcy5taW5bMF0tdHx8ZVswXT50aGlzLm1heFswXSt0KSYmKCEoZVsxXTx0aGlzLm1pblsxXS10fHxlWzFdPnRoaXMubWF4WzFdK3QpJiYhKGVbMl08dGhpcy5taW5bMl0tdHx8ZVsyXT50aGlzLm1heFsyXSt0KSl9LG4ucHJvdG90eXBlLmludGVyc2VjdHM9ZnVuY3Rpb24oZSl7cmV0dXJuIShlLm1pblswXT50aGlzLm1heFswXXx8ZS5tYXhbMF08dGhpcy5taW5bMF0pJiYoIShlLm1pblsxXT50aGlzLm1heFsxXXx8ZS5tYXhbMV08dGhpcy5taW5bMV0pJiYhKGUubWluWzJdPnRoaXMubWF4WzJdfHxlLm1heFsyXTx0aGlzLm1pblsyXSkpfSxuLnByb3RvdHlwZS5pbnRlcnNlY3RzV2l0aFRvbGVyYW5jZT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHwodD1pLktFUk5FTF9UT0xFUkFOQ0UpLCEoZS5taW5bMF0+dGhpcy5tYXhbMF0rdHx8ZS5tYXhbMF08dGhpcy5taW5bMF0tdCkmJighKGUubWluWzFdPnRoaXMubWF4WzFdK3R8fGUubWF4WzFdPHRoaXMubWluWzFdLXQpJiYhKGUubWluWzJdPnRoaXMubWF4WzJdK3R8fGUubWF4WzJdPHRoaXMubWluWzJdLXQpKX0sbi5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1heFswXTx0aGlzLm1pblswXXx8dGhpcy5tYXhbMV08dGhpcy5taW5bMV18fHRoaXMubWF4WzJdPHRoaXMubWluWzJdfSxuLnByb3RvdHlwZS5zZXRFbXB0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1heFswXT0tMS8wLHRoaXMubWluWzBdPTEvMCx0aGlzLm1heFsxXT0tMS8wLHRoaXMubWluWzFdPTEvMCx0aGlzLm1heFsyXT0tMS8wLHRoaXMubWluWzJdPTEvMCx0aGlzfSxuLnByb3RvdHlwZS5pc0JvdW5kZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gaXNGaW5pdGUodGhpcy5tYXhbMF0pJiZpc0Zpbml0ZSh0aGlzLm1heFsxXSkmJmlzRmluaXRlKHRoaXMubWF4WzJdKSYmaXNGaW5pdGUodGhpcy5taW5bMF0pJiZpc0Zpbml0ZSh0aGlzLm1pblsxXSkmJmlzRmluaXRlKHRoaXMubWluWzJdKX0sdC5Cb3VuZGluZ0JveD1ufSwxMjg4OihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmNsb3Nlc3RCU3VyZmFjZVBvaW50QXBwcm94PXQuY2xvc2VzdEJTdXJmYWNlUGF0Y2hlcz12b2lkIDA7dmFyIG89cigxOTcyKSxpPXIoNTg5Niksbj1yKDU1NjQpLHM9cig2ODI0KTt0LmNsb3Nlc3RCU3VyZmFjZVBhdGNoZXM9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgaT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkscz1bXSxhPTA7YTx0Lmxlbmd0aDsrK2EpZm9yKHZhciBjPTA7Yzx0W2FdLmxlbmd0aDsrK2Mpe3ZhciB1LGw9dFthXVtjXSxoPWwuZ2V0UmFuZ2VVbmxpbWl0ZWRVKCksZD1sLmdldFJhbmdlVW5saW1pdGVkVigpO2lmKHIpe3U9ITE7Zm9yKHZhciBwPTA7cDxyLmxlbmd0aDsrK3ApaWYoaFsxXT49cltwXVswXVswXStvLkZMT0FUNjRfVE9MRVJBTkNFJiZoWzBdPD1yW3BdWzBdWzFdLW8uRkxPQVQ2NF9UT0xFUkFOQ0UmJmRbMV0+PXJbcF1bMV1bMF0rby5GTE9BVDY0X1RPTEVSQU5DRSYmZFswXTw9cltwXVsxXVsxXS1vLkZMT0FUNjRfVE9MRVJBTkNFKXt1PSEwO2JyZWFrfX1lbHNlIHU9ITA7aWYodSl7dmFyIGc9bC5nZXRDb250cm9sUG9pbnRzKCksZj0oMCxuLm1pbkRpc3RhbmNlU3FyVG9IdWxsKShlLGcsITApO2lmKGY8PWkpe3ZhciB2PSgwLG4ubWF4RGlzdGFuY2VTcXJUb0h1bGwpKGUsZyk7cy5wdXNoKHtpbmRleDpbYSxjXSxtaW5EaXN0U3FyOmYsbWF4RGlzdFNxcjp2fSksdjxpJiYoaT12KX19fXJldHVybihzPXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5taW5EaXN0U3FyPD1pfSkpKS5zb3J0KChmdW5jdGlvbihlLHQpe3ZhciByPWUubWluRGlzdFNxci10Lm1pbkRpc3RTcXI7cmV0dXJuIDA9PT1yP2UubWF4RGlzdFNxci10Lm1heERpc3RTcXI6cn0pKSxzfSx0LmNsb3Nlc3RCU3VyZmFjZVBvaW50QXBwcm94PWZ1bmN0aW9uKGUsdCxyLG4sYSxjLHUsbCxoKXt2YXIgZD10PjE/Mip0OjEscD1yPjE/MipyOjEsZz0obFsxXS1sWzBdKS8obltuLmxlbmd0aC0xXS1uWzBdKSxmPShoWzFdLWhbMF0pLyhhW2EubGVuZ3RoLTFdLWFbMF0pO2Q9TWF0aC5tYXgoMSxNYXRoLnJvdW5kKGQqZykpLHA9TWF0aC5tYXgoMSxNYXRoLnJvdW5kKHAqZikpO2Zvcih2YXIgdj0obFsxXS1sWzBdKS9kLF89KGhbMV0taFswXSkvcCx5PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxtPXt1OnZvaWQgMCx2OnZvaWQgMH0sRT12b2lkIDAseD1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLFI9MDtSPD1wOysrUil7Zm9yKHZhciBBPWhbMF0rUipfLFA9W10sVj0wO1Y8PWQ7KytWKXt2YXIgVCxiLEM9bFswXStWKnY7aWYoUFtWXT0oMCxzLmV2YWx1YXRlQlN1cmZhY2VQb2ludCkoQyxBLHQscixuLGEsYyx1KSxWPjAmJlI+MClUPSgwLGkuY2xvc2VzdFBvaW50VG9UcmlhbmdsZSkoZSxFW1YtMV0sRVtWXSxQW1YtMV0seCksKGI9by5WZWN0b3IzLnNxdWFyZWREaXN0YW5jZShlLHgpKTx5JiYoeT1iLG0udT1DK3YqKFQuY29vcmRBLTEpLG0udj1BK18qKFQuY29vcmRCLTEpKSxUPSgwLGkuY2xvc2VzdFBvaW50VG9UcmlhbmdsZSkoZSxQW1ZdLFBbVi0xXSxFW1ZdLHgpLChiPW8uVmVjdG9yMy5zcXVhcmVkRGlzdGFuY2UoZSx4KSk8eSYmKHk9YixtLnU9Qy12KlQuY29vcmRBLG0udj1BLV8qVC5jb29yZEIpfUU9UH1yZXR1cm4gbX19LDE5MjooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWNvbXBvc2VCU3VyZmFjZVRvQmV6aWVyPXQuZGVjb21wb3NlQlN1cmZhY2VDb250cm9sUG9pbnRzPXQuZGVjb21wb3NlQlN1cmZhY2VDb250cm9sUG9pbnRzVj10LmRlY29tcG9zZUJTdXJmYWNlQ29udHJvbFBvaW50c1U9dm9pZCAwO3ZhciBvPXIoMzg4OCksaT1yKDQ3MjgpLG49ZnVuY3Rpb24oZSx0LHIsbyl7aS5Db25zb2xlVXRpbHMuYXNzZXJ0KHIubGVuZ3RoJW89PTApO3ZhciBuPXQubGVuZ3RoLWUtMTtpLkNvbnNvbGVVdGlscy5hc3NlcnQoci5sZW5ndGgvbyVuPT0wKTt2YXIgcyxhLGMsdSxsPXIubGVuZ3RoLyhvKm4pLGg9ZSsxLGQ9bCxwPXQubGVuZ3RoLTEsZz1lLGY9ZSsxLHY9MCxfPVtdLHk9W107Zm9yKHlbdl09bmV3IEFycmF5KGgqZCpvKSxzPTA7czw9ZTsrK3MpZm9yKGM9MDtjPGw7KytjKWZvcih1PTA7dTxvOysrdSl5W3ZdWyhzKmQrYykqbyt1XT1yWyhzKmwrYykqbyt1XTtmb3IoO2Y8cDspe2Zvcih2YXIgbT0xO2Y8cCYmdFtmKzFdPT09dFtmXTspKytmLCsrbTt2YXIgRT1mPT09cDtpZihFfHwoeVt2KzFdPW5ldyBBcnJheShoKmQqbykpLG08ZSl7dmFyIHg9dFtmXS10W2ddO2ZvcihhPWU7YT5tOy0tYSlfW2EtbS0xXT14Lyh0W2crYV0tdFtnXSk7dmFyIFI9ZS1tO2ZvcihhPTE7YTw9UjsrK2Epe2Zvcih2YXIgQT1SLWEsUD1tK2EsVj1lO1Y+PVA7LS1WKXt2YXIgVD1fW1YtUF07Zm9yKGM9MDtjPGw7KytjKWZvcih1PTA7dTxvOysrdSl5W3ZdWyhWKmQrYykqbyt1XT15W3ZdWyhWKmQrYykqbyt1XSpUK3lbdl1bKChWLTEpKmQrYykqbyt1XSooMS1UKX1pZighRSlmb3IoYz0wO2M8bDsrK2MpZm9yKHU9MDt1PG87Kyt1KXlbdisxXVsoQSpkK2MpKm8rdV09eVt2XVsoZSpkK2MpKm8rdV19fWlmKEUpYnJlYWs7Zm9yKCsrdixzPWUtbTtzPD1lOysrcylmb3IoYz0wO2M8bDsrK2MpZm9yKHU9MDt1PG87Kyt1KXlbdl1bKHMqZCtjKSpvK3VdPXJbKChmLWUrcykqbCtjKSpvK3VdO2c9ZiwrK2Z9cmV0dXJuIHl9LHM9ZnVuY3Rpb24oZSx0LHIsbyl7aS5Db25zb2xlVXRpbHMuYXNzZXJ0KHIubGVuZ3RoJW89PTApO3ZhciBuPXQubGVuZ3RoLWUtMTtpLkNvbnNvbGVVdGlscy5hc3NlcnQoci5sZW5ndGgvbyVuPT0wKTt2YXIgcyxhLGMsdSxsPXIubGVuZ3RoLyhvKm4pLGg9bCxkPWUrMSxwPXQubGVuZ3RoLTEsZz1lLGY9ZSsxLHY9MCxfPVtdLHk9W107Zm9yKHlbdl09bmV3IEFycmF5KGgqZCpvKSxzPTA7czw9ZTsrK3MpZm9yKGM9MDtjPGw7KytjKWZvcih1PTA7dTxvOysrdSl5W3ZdWyhzK2MqZCkqbyt1XT1yWyhzK2Mqbikqbyt1XTtmb3IoO2Y8cDspe2Zvcih2YXIgbT0xO2Y8cCYmdFtmKzFdPT09dFtmXTspKytmLCsrbTt2YXIgRT1mPT09cDtpZihFfHwoeVt2KzFdPW5ldyBBcnJheShoKmQqbykpLG08ZSl7dmFyIHg9dFtmXS10W2ddO2ZvcihhPWU7YT5tOy0tYSlfW2EtbS0xXT14Lyh0W2crYV0tdFtnXSk7dmFyIFI9ZS1tO2ZvcihhPTE7YTw9UjsrK2Epe2Zvcih2YXIgQT1SLWEsUD1tK2EsVj1lO1Y+PVA7LS1WKXt2YXIgVD1fW1YtUF07Zm9yKGM9MDtjPGw7KytjKWZvcih1PTA7dTxvOysrdSl5W3ZdWyhWK2MqZCkqbyt1XT15W3ZdWyhWK2MqZCkqbyt1XSpUK3lbdl1bKFYtMStjKmQpKm8rdV0qKDEtVCl9aWYoIUUpZm9yKGM9MDtjPGw7KytjKWZvcih1PTA7dTxvOysrdSl5W3YrMV1bKEErYypkKSpvK3VdPXlbdl1bKGUrYypkKSpvK3VdfX1pZihFKWJyZWFrO2ZvcigrK3Yscz1lLW07czw9ZTsrK3MpZm9yKGM9MDtjPGw7KytjKWZvcih1PTA7dTxvOysrdSl5W3ZdWyhzK2MqZCkqbyt1XT1yWyhmLWUrcytjKm4pKm8rdV07Zz1mLCsrZn1yZXR1cm4geX0sYT1mdW5jdGlvbihlLHQscixvLGEsYyl7aS5Db25zb2xlVXRpbHMuYXNzZXJ0KGEubGVuZ3RoJWM9PTApLGkuQ29uc29sZVV0aWxzLmFzc2VydChhLmxlbmd0aC9jPT0oci5sZW5ndGgtZS0xKSooby5sZW5ndGgtdC0xKSk7dmFyIHUsbD1yLmxlbmd0aD4yKmUrMixoPW8ubGVuZ3RoPjIqdCsyO2lmKCFsJiYhaClyZXR1cm5bW2Euc2xpY2UoKV1dO3U9bD9uKGUscixhLGMpOlthXTtmb3IodmFyIGQ9MDtkPHUubGVuZ3RoOysrZCl1W2RdPWg/cyh0LG8sdVtkXSxjKTpbdVtkXV07cmV0dXJuIHV9O3QuZGVjb21wb3NlQlN1cmZhY2VDb250cm9sUG9pbnRzVT1uLHQuZGVjb21wb3NlQlN1cmZhY2VDb250cm9sUG9pbnRzVj1zLHQuZGVjb21wb3NlQlN1cmZhY2VDb250cm9sUG9pbnRzPWEsdC5kZWNvbXBvc2VCU3VyZmFjZVRvQmV6aWVyPWZ1bmN0aW9uKGUsdCxyLG4scyxjKXt2YXIgdSxsLGgsZCxwPWMmJmMubGVuZ3RoPjA7aWYoaS5Db25zb2xlVXRpbHMuYXNzZXJ0KHMubGVuZ3RoPjAmJnMubGVuZ3RoJTM9PTApLGkuQ29uc29sZVV0aWxzLmFzc2VydCghcHx8cy5sZW5ndGg9PT0zKmMubGVuZ3RoKSxwKXt2YXIgZz0oMCxvLmNvbnRyb2xQb2ludHNUb0hvbW9nZW5lb3VzKShzLGMpO2ZvcihoPWEoZSx0LHIsbixnLDQpLGQ9W10sdT0wO3U8aC5sZW5ndGg7Kyt1KWZvcihkW3VdPVtdLGw9MDtsPGhbdV0ubGVuZ3RoOysrbCl7dmFyIGY9KDAsby5jb250cm9sUG9pbnRzRnJvbUhvbW9nZW5lb3VzKShoW3VdW2xdKTtoW3VdW2xdPWYuUCxkW3VdW2xdPWYud319ZWxzZSBoPWEoZSx0LHIsbixzLDMpLGQ9dm9pZCAwO3ZhciB2PSgwLG8uZ2V0VW5pcXVlS25vdHMpKHIpO2kuQ29uc29sZVV0aWxzLmFzc2VydCh2Lmxlbmd0aD09PWgubGVuZ3RoKzEpO3ZhciBfPW5ldyBBcnJheSh2Lmxlbmd0aC0xKTtmb3IodT0wO3U8Xy5sZW5ndGg7Kyt1KV9bdV09bmV3IEFycmF5KDIqZSsyKSxfW3VdLmZpbGwodlt1XSwwLGUrMSksX1t1XS5maWxsKHZbdSsxXSxlKzEpO3ZhciB5PSgwLG8uZ2V0VW5pcXVlS25vdHMpKG4pO2kuQ29uc29sZVV0aWxzLmFzc2VydCh5Lmxlbmd0aD09PWhbMF0ubGVuZ3RoKzEpO3ZhciBtPW5ldyBBcnJheSh5Lmxlbmd0aC0xKTtmb3IodT0wO3U8bS5sZW5ndGg7Kyt1KW1bdV09bmV3IEFycmF5KDIqdCsyKSxtW3VdLmZpbGwoeVt1XSwwLHQrMSksbVt1XS5maWxsKHlbdSsxXSx0KzEpO3JldHVybntVOl8sVjptLFA6aCx3OmR9fX0sNjgyNDooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5ldmFsdWF0ZUJTdXJmYWNlRGVyaXZzPXQuZXZhbHVhdGVCU3VyZmFjZVBvaW50PXZvaWQgMDt2YXIgbz1yKDE5NzIpLGk9cig1ODk2KSxuPXIoMzg4OCkscz1yKDQ4KTt0LmV2YWx1YXRlQlN1cmZhY2VQb2ludD1mdW5jdGlvbihlLHQscixpLGEsYyx1LGwpe3JldHVybiBsJiZsLmxlbmd0aD4wP2Z1bmN0aW9uKGUsdCxyLGksYSxjLHUsbCl7Zm9yKHZhciBoLGQ9Yy5sZW5ndGgtaS0xLHA9KDAsbi5maW5kS25vdFNwYW4pKGUsYSksZz0oMCxzLmV2YWx1YXRlQmFzaXNGdW5jdGlvbnMpKHAsZSxyLGEpLGY9KDAsbi5maW5kS25vdFNwYW4pKHQsYyksdj0oMCxzLmV2YWx1YXRlQmFzaXNGdW5jdGlvbnMpKGYsdCxpLGMpLF89cC1yLHk9by5WZWN0b3I0LmNyZWF0ZUZsb2F0NjQoKSxtPW8uVmVjdG9yNC5jcmVhdGVGbG9hdDY0KCksRT0wO0U8PWk7RSsrKXtvLlZlY3RvcjQuc2V0KG0sMCwwLDAsMCksaD1mLWkrRTtmb3IodmFyIHg9MDt4PD1yO3grKyl7dmFyIFI9KF8reCkqZCtoLEE9Z1t4XSpsW1JdO21bMF0rPUEqdVszKlJdLG1bMV0rPUEqdVszKlIrMV0sbVsyXSs9QSp1WzMqUisyXSxtWzNdKz1BfXlbMF0rPXZbRV0qbVswXSx5WzFdKz12W0VdKm1bMV0seVsyXSs9dltFXSptWzJdLHlbM10rPXZbRV0qbVszXX1yZXR1cm4gby5WZWN0b3IzLmNyZWF0ZUZsb2F0NjRGcm9tVmFsdWVzKHlbMF0veVszXSx5WzFdL3lbM10seVsyXS95WzNdKX0oZSx0LHIsaSxhLGMsdSxsKTpmdW5jdGlvbihlLHQscixpLGEsYyx1KXtmb3IodmFyIGwsaD1jLmxlbmd0aC1pLTEsZD0oMCxuLmZpbmRLbm90U3BhbikoZSxhKSxwPSgwLHMuZXZhbHVhdGVCYXNpc0Z1bmN0aW9ucykoZCxlLHIsYSksZz0oMCxuLmZpbmRLbm90U3BhbikodCxjKSxmPSgwLHMuZXZhbHVhdGVCYXNpc0Z1bmN0aW9ucykoZyx0LGksYyksdj1kLXIsXz1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLHk9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSxtPTA7bTw9aTttKyspe28uVmVjdG9yMy5zZXQoeSwwLDAsMCksbD1nLWkrbTtmb3IodmFyIEU9MDtFPD1yO0UrKyl7dmFyIHg9KHYrRSkqaCtsO3lbMF0rPXBbRV0qdVszKnhdLHlbMV0rPXBbRV0qdVszKngrMV0seVsyXSs9cFtFXSp1WzMqeCsyXX1fWzBdKz1mW21dKnlbMF0sX1sxXSs9ZlttXSp5WzFdLF9bMl0rPWZbbV0qeVsyXX1yZXR1cm4gX30oZSx0LHIsaSxhLGMsdSl9LHQuZXZhbHVhdGVCU3VyZmFjZURlcml2cz1mdW5jdGlvbihlLHQscixhLGMsdSxsLGgsZCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxyLGEsYyx1LGwsaCxkKXt2YXIgcCxnLGYsdixfLHksbT1uZXcgQXJyYXkocisxKSxFPW5ldyBBcnJheShyKzEpLHg9bmV3IEFycmF5KHIrMSksUj1uZXcgQXJyYXkocisxKTtmb3IocD0wO3A8PXI7cCsrKXtmb3IobVtwXT1uZXcgQXJyYXkocisxLXApLEVbcF09bmV3IEFycmF5KHIrMS1wKSxnPTA7Zzw9ci1wO2crKyltW3BdW2ddPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCksRVtwXVtnXT0wO3hbcF09bmV3IEFycmF5KGErMSksUltwXT1uZXcgQXJyYXkoYysxKX12YXIgQT1NYXRoLm1pbihyLGEpLFA9KDAsbi5maW5kS25vdFNwYW4pKGUsdSk7KDAscy5ldmFsdWF0ZUJhc2lzRGVyaXZhdGl2ZXMpKFAsZSxhLEEsdSx4KTt2YXIgVj1NYXRoLm1pbihyLGMpLFQ9KDAsbi5maW5kS25vdFNwYW4pKHQsbCk7KDAscy5ldmFsdWF0ZUJhc2lzRGVyaXZhdGl2ZXMpKFQsdCxjLFYsbCxSKTt2YXIgYj1kJiZkLmxlbmd0aD4wLEM9bC5sZW5ndGgtYy0xLE89bmV3IEFycmF5KGMrMSk7Zm9yKHA9MDtwPD1BO3ArKyl7Zm9yKGY9MDtmPD1jO2YrKylmb3IoT1tmXT1bMCwwLDAsMF0sdj0wO3Y8PWE7disrKXt2YXIgTD0oUC1hK3YpKkMrKFQtYytmKSxTPXhbcF1bdl07YiYmKFMqPWRbTF0sT1tmXVszXSs9UyksT1tmXVswXSs9UypoWzMqTF0sT1tmXVsxXSs9UypoWzMqTCsxXSxPW2ZdWzJdKz1TKmhbMypMKzJdfXZhciBNPU1hdGgubWluKHItcCxWKTtmb3IoZz0wO2c8PU07ZysrKWZvcihmPTA7Zjw9YztmKyspbVtwXVtnXVswXSs9UltnXVtmXSpPW2ZdWzBdLG1bcF1bZ11bMV0rPVJbZ11bZl0qT1tmXVsxXSxtW3BdW2ddWzJdKz1SW2ddW2ZdKk9bZl1bMl0sYiYmKEVbcF1bZ10rPVJbZ11bZl0qT1tmXVszXSl9aWYoYil7dmFyIHc9aS5iaW5vbWlhbENvZWZmaWNpZW50cyxOPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7Zm9yKHA9MDtwPD1yO3ArKylmb3IoZz0wO2c8PXItcDtnKyspe3ZhciBGPW1bcF1bZ107Zm9yKHk9MTt5PD1nO3krKylvLlZlY3RvcjMuc2NhbGVBbmRBZGQoRixGLG1bcF1bZy15XSwtd1tnXVt5XSpFWzBdW3ldKTtmb3IoXz0xO188PXA7XysrKXtmb3Ioby5WZWN0b3IzLnNjYWxlQW5kQWRkKEYsRixtW3AtX11bZ10sLXdbcF1bX10qRVtfXVswXSksby5WZWN0b3IzLnNldChOLDAsMCwwKSx5PTE7eTw9Zzt5Kyspby5WZWN0b3IzLnNjYWxlQW5kQWRkKE4sTixtW3AtX11bZy15XSx3W2ddW3ldKkVbX11beV0pO28uVmVjdG9yMy5zY2FsZUFuZEFkZChGLEYsTiwtd1twXVtfXSl9by5WZWN0b3IzLnNjYWxlKEYsRiwxL0VbMF1bMF0pfX1yZXR1cm4gbX0oZSx0LHIsYSxjLHUsbCxoLGQpfX0sNjI3NTooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5leHRyYWN0QlN1cmZhY2VQYXJhbUxpbmVWPXQuZXh0cmFjdEJTdXJmYWNlUGFyYW1MaW5lVT10Lmluc2VydEJTdXJmYWNlS25vdFY9dC5pbnNlcnRCU3VyZmFjZUtub3RVPXZvaWQgMDt2YXIgbz1yKDE5NzIpLGk9cigzODg4KSxuPXIoMjQ2OCkscz1mdW5jdGlvbihlLHQscixpLG4scyxhKXt2YXIgYyx1LGw9bmV3IEFycmF5KGkpO2Zvcih1PTA7dTxpOysrdSl7bFt1XT1uZXcgQXJyYXkobi11LXIpO3ZhciBoPXQtbit1KzE7Zm9yKGM9MDtjPG4tdS1yOysrYylsW3VdW2NdPShlLXNbaCtjXSkvKHNbYyt0KzFdLXNbaCtjXSl9Zm9yKHZhciBkPWEubGVuZ3RoLHA9bmV3IEFycmF5KGQpLGc9bmV3IEFycmF5KG4tcisxKSxmPTA7ZjxkOysrZil7Zm9yKHBbZl09bmV3IEFycmF5KG4tcitpLTEpLGM9MDtjPD1uLXI7KytjKWdbY109by5WZWN0b3I0LmNsb25lKGFbZl1bY10pO2Zvcih1PTA7dTxpOysrdSl7Zm9yKGM9MDtjPG4tdS1yOysrYylvLlZlY3RvcjQubGVycChnW2NdLGdbY10sZ1tjKzFdLGxbdV1bY10pO3BbZl1bdV09by5WZWN0b3I0LmNsb25lKGdbMF0pLHBbZl1bbitpLXItdS0yXT1vLlZlY3RvcjQuY2xvbmUoZ1tuLXUtci0xXSl9Zm9yKGM9aTtjPG4tci0xO2MrKylwW2ZdW2NdPW8uVmVjdG9yNC5jbG9uZShnW2MtaSsxXSl9cmV0dXJuIHB9O3QuaW5zZXJ0QlN1cmZhY2VLbm90VT1mdW5jdGlvbihlLHQscixhLGMsdSxsLGgpe3Q9TWF0aC5taW4odCxyKTt2YXIgZD1oJiZoLmxlbmd0aD4wLHA9KDAsaS5maW5kS25vdFNwYW5BbmRNdWx0aXBsaWNpdHkpKGUsYyk7ZT1wLmtub3Q7dmFyIGc9cC5zcGFuLGY9cC5tdWx0aXBsaWNpdHksdj10LWY7aWYoZTxjWzBdK24uUEFSQU1FVEVSX1NQQUNFX1RPTEVSQU5DRXx8ZT5jW2MubGVuZ3RoLTFdLW4uUEFSQU1FVEVSX1NQQUNFX1RPTEVSQU5DRXx8Zj49dClyZXR1cm57dWtub3RzOmMuc2xpY2UoKSxQOmwuc2xpY2UoKSx3ZWlnaHRzOmQ/aC5zbGljZSgpOnZvaWQgMH07dmFyIF8seSxtPWMubGVuZ3RoLXItMSxFPXUubGVuZ3RoLWEtMSx4PW5ldyBBcnJheShFKSxSPWctcixBPWctZjtmb3IoeT0wO3k8RTsrK3kpZm9yKHhbeV09bmV3IEFycmF5KEEtUisxKSxfPVI7Xzw9QTsrK18pe3ZhciBQPV8qRSt5LFY9ZD9oW1BdOjE7eFt5XVtfLVJdPW8uVmVjdG9yNC5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcyhWKmxbMypQXSxWKmxbMypQKzFdLFYqbFszKlArMl0sVil9dmFyIFQ9cyhlLGcsZix2LHIsYyx4KSxiPWMuc2xpY2UoMCxnKzEpO2ZvcihfPTA7Xzx2OysrXyliLnB1c2goZSk7Yj1iLmNvbmNhdChjLnNsaWNlKGcrMSkpO3ZhciBDLE89bmV3IEFycmF5KDMqKG0rdikqRSksTD1uZXcgQXJyYXkoKG0rdikqRSk7Zm9yKHk9MDt5PEU7Kyt5KXtmb3IoXz0wO188PVI7KytfKVA9Qz1fKkUreSxPWzMqQ109bFszKlBdLE9bMypDKzFdPWxbMypQKzFdLE9bMypDKzJdPWxbMypQKzJdLExbQ109aFtQXTtmb3IoXz0wO188VFt5XS5sZW5ndGg7KytfKXtDPShfK1IrMSkqRSt5O3ZhciBTPVRbeV1bX107T1szKkNdPVNbMF0vU1szXSxPWzMqQysxXT1TWzFdL1NbM10sT1szKkMrMl09U1syXS9TWzNdLExbQ109U1szXX1mb3IoXz1BO188bTsrK18pUD1fKkUreSxPWzMqKEM9KF8rdikqRSt5KV09bFszKlBdLE9bMypDKzFdPWxbMypQKzFdLE9bMypDKzJdPWxbMypQKzJdLExbQ109aFtQXX1yZXR1cm57dWtub3RzOmIsUDpPLHdlaWdodHM6ZD9MOnZvaWQgMH19LHQuaW5zZXJ0QlN1cmZhY2VLbm90Vj1mdW5jdGlvbihlLHQscixhLGMsdSxsLGgpe3Q9TWF0aC5taW4odCxhKTt2YXIgZD1oJiZoLmxlbmd0aD4wLHA9KDAsaS5maW5kS25vdFNwYW5BbmRNdWx0aXBsaWNpdHkpKGUsdSk7ZT1wLmtub3Q7dmFyIGc9cC5zcGFuLGY9cC5tdWx0aXBsaWNpdHksdj10LWY7aWYoZTx1WzBdK24uUEFSQU1FVEVSX1NQQUNFX1RPTEVSQU5DRXx8ZT51W3UubGVuZ3RoLTFdLW4uUEFSQU1FVEVSX1NQQUNFX1RPTEVSQU5DRXx8Zj49dClyZXR1cm57dmtub3RzOnUuc2xpY2UoKSxQOmwuc2xpY2UoKSx3ZWlnaHRzOmQ/aC5zbGljZSgpOnZvaWQgMH07dmFyIF8seSxtPWMubGVuZ3RoLXItMSxFPXUubGVuZ3RoLWEtMSx4PW5ldyBBcnJheShtKSxSPWctYSxBPWctZjtmb3IoXz0wO188bTsrK18pZm9yKHhbX109bmV3IEFycmF5KEEtUisxKSx5PVI7eTw9QTsrK3kpe3ZhciBQPV8qRSt5LFY9ZD9oW1BdOjE7eFtfXVt5LVJdPW8uVmVjdG9yNC5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcyhWKmxbMypQXSxWKmxbMypQKzFdLFYqbFszKlArMl0sVil9dmFyIFQ9cyhlLGcsZix2LGEsdSx4KSxiPXUuc2xpY2UoMCxnKzEpO2Zvcih5PTA7eTx2OysreSliLnB1c2goZSk7Yj1iLmNvbmNhdCh1LnNsaWNlKGcrMSkpO3ZhciBDLE89bmV3IEFycmF5KDMqbSooRSt2KSksTD1uZXcgQXJyYXkobSooRSt2KSk7Zm9yKF89MDtfPG07KytfKXtmb3IoeT0wO3k8PVI7Kyt5KVA9XypFK3ksT1szKihDPV8qKEUrdikreSldPWxbMypQXSxPWzMqQysxXT1sWzMqUCsxXSxPWzMqQysyXT1sWzMqUCsyXSxMW0NdPWhbUF07Zm9yKHk9MDt5PFRbX10ubGVuZ3RoOysreSl7Qz1fKihFK3YpKyh5K1IrMSk7dmFyIFM9VFtfXVt5XTtPWzMqQ109U1swXS9TWzNdLE9bMypDKzFdPVNbMV0vU1szXSxPWzMqQysyXT1TWzJdL1NbM10sTFtDXT1TWzNdfWZvcih5PUE7eTxFOysreSlQPV8qRSt5LE9bMyooQz1fKihFK3YpKyh5K3YpKV09bFszKlBdLE9bMypDKzFdPWxbMypQKzFdLE9bMypDKzJdPWxbMypQKzJdLExbQ109aFtQXX1yZXR1cm57dmtub3RzOmIsUDpPLHdlaWdodHM6ZD9MOnZvaWQgMH19LHQuZXh0cmFjdEJTdXJmYWNlUGFyYW1MaW5lVT1mdW5jdGlvbihlLHQscixuLGEsYyx1KXt2YXIgbD11JiZ1Lmxlbmd0aD4wLGg9KDAsaS5maW5kS25vdFNwYW5BbmRNdWx0aXBsaWNpdHkpKGUsYSk7ZT1oLmtub3Q7dmFyIGQscCxnLGY9aC5zcGFuLHY9ZT09PWFbYS5sZW5ndGgtMV0sXz12P3IrMTpoLm11bHRpcGxpY2l0eSx5PXItXyxtPW4ubGVuZ3RoLXQtMSxFPWEubGVuZ3RoLXItMSx4PW5ldyBBcnJheSgzKm0pLFI9bmV3IEFycmF5KG0pO2lmKF8+PXIpZm9yKHA9dj9FLTE6Zi1yLGQ9MDtkPG07KytkKWc9ZCpFK3AseFszKmRdPWNbMypnXSx4WzMqZCsxXT1jWzMqZysxXSx4WzMqZCsyXT1jWzMqZysyXSxSW2RdPWw/dVtnXToxO2Vsc2V7dmFyIEE9bmV3IEFycmF5KG0pLFA9Zi1yLFY9Zi1fO2ZvcihkPTA7ZDxtOysrZClmb3IoQVtkXT1uZXcgQXJyYXkoVi1QKzEpLHA9UDtwPD1WOysrcCl7Zz1kKkUrcDt2YXIgVD1sP3VbZ106MTtBW2RdW3AtUF09by5WZWN0b3I0LmNyZWF0ZUZsb2F0NjRGcm9tVmFsdWVzKFQqY1szKmddLFQqY1szKmcrMV0sVCpjWzMqZysyXSxUKX12YXIgYj1zKGUsZixfLHkscixhLEEpO2ZvcihwPXktMSxkPTA7ZDxtOysrZCl7dmFyIEM9YltkXVtwXTt4WzMqZF09Q1swXS9DWzNdLHhbMypkKzFdPUNbMV0vQ1szXSx4WzMqZCsyXT1DWzJdL0NbM10sUltkXT1DWzNdfX1yZXR1cm57Y3RybFB0czp4LHdlaWdodHM6bD9SOnZvaWQgMH19LHQuZXh0cmFjdEJTdXJmYWNlUGFyYW1MaW5lVj1mdW5jdGlvbihlLHQscixuLGEsYyx1KXt2YXIgbD11JiZ1Lmxlbmd0aD4wLGg9KDAsaS5maW5kS25vdFNwYW5BbmRNdWx0aXBsaWNpdHkpKGUsbik7ZT1oLmtub3Q7dmFyIGQscCxnLGY9aC5zcGFuLHY9ZT09PW5bbi5sZW5ndGgtMV0sXz12P3QrMTpoLm11bHRpcGxpY2l0eSx5PXQtXyxtPW4ubGVuZ3RoLXQtMSxFPWEubGVuZ3RoLXItMSx4PW5ldyBBcnJheSgzKkUpLFI9bmV3IEFycmF5KEUpO2lmKF8+PXQpZm9yKGQ9dj9tLTE6Zi10LHA9MDtwPEU7KytwKWc9ZCpFK3AseFszKnBdPWNbMypnXSx4WzMqcCsxXT1jWzMqZysxXSx4WzMqcCsyXT1jWzMqZysyXSxSW3BdPWw/dVtnXToxO2Vsc2V7dmFyIEE9bmV3IEFycmF5KEUpLFA9Zi10LFY9Zi1fO2ZvcihwPTA7cDxFOysrcClmb3IoQVtwXT1uZXcgQXJyYXkoVi1QKzEpLGQ9UDtkPD1WOysrZCl7Zz1kKkUrcDt2YXIgVD1sP3VbZ106MTtBW3BdW2QtUF09by5WZWN0b3I0LmNyZWF0ZUZsb2F0NjRGcm9tVmFsdWVzKFQqY1szKmddLFQqY1szKmcrMV0sVCpjWzMqZysyXSxUKX12YXIgYj1zKGUsZixfLHksdCxuLEEpO2ZvcihkPXktMSxwPTA7cDxFOysrcCl7dmFyIEM9YltwXVtkXTt4WzMqcF09Q1swXS9DWzNdLHhbMypwKzFdPUNbMV0vQ1szXSx4WzMqcCsyXT1DWzJdL0NbM10sUltwXT1DWzNdfX1yZXR1cm57Y3RybFB0czp4LHdlaWdodHM6bD9SOnZvaWQgMH19fSw0MzM2OihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlRlc3NlbGxhdGlvbkNhY2hlPXQuQ3VydmVUZXNzZWxsYXRvcj12b2lkIDA7dmFyIG89cigxOTcyKSxpPXIoMjQ2OCksbj1yKDU4OTYpLHM9cig2MTIwKSxhPXt9O2EuZ2V0Q2lyY3VsYXJBcmNSZW5kZXJQb2ludHM9ZnVuY3Rpb24oZSx0LHIsbyxpKXt2YXIgbj1lLmdldFJhZGl1cygpLHM9MipNYXRoLmFjb3MoKG4tcikvbiksYT10WzFdLXRbMF0sYz1NYXRoLmNlaWwoYS9zKSx1PTA7Zm9yKCExPT09byYmdSsrO3U8PWM7Kyt1KXt2YXIgbD11L2MsaD10WzBdKigxLWwpK3RbMV0qbDtpLnB1c2goZS5ldmFsdWF0ZVBvc2l0aW9uKGgpKX1yZXR1cm4gbiooMS1NYXRoLmNvcyhhL2MqLjUpKX0sYS5nZXRBZGFwdGl2ZVJlbmRlclBvaW50cz1mdW5jdGlvbihlLHQscixuKXtmb3IodmFyIGE9dHx8LjAwMSxjPWEqYSx1PVtdLGw9W10saD1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLGQ9MCxwPWZ1bmN0aW9uKHQscixuLGEsZyl7dmFyIGY9bi10LHY9LjUqKHQrbiksXz1lLmV2YWx1YXRlUG9zaXRpb24odik7by5WZWN0b3IzLnNjYWxlQW5kQWRkKGgsWzAsMCwwXSxyLC41KSxvLlZlY3RvcjMuc2NhbGVBbmRBZGQoaCxoLGEsLjUpO3ZhciB5PW8uVmVjdG9yMy5zcXVhcmVkRGlzdGFuY2UoaCxfKTtpZihnPjY0KXMuRGVidWdVdGlscy53YXJuKFwiTWF4IHJlY3Vyc2lvbiBkZXB0aCByZWFjaCBpbiBnZXRBZGFwdGl2ZVJlbmRlclBvaW50c1wiKTtlbHNlIGlmKGY+MTAqaS5QQVJBTUVURVJfU1BBQ0VfVE9MRVJBTkNFJiZ5PmMpcmV0dXJuIHAodCxyLHYsXyxnKzEpLHZvaWQgcCh2LF8sbixhLGcrMSk7ZD1NYXRoLm1heChkLHkpLHUucHVzaChyKSxsLnB1c2godCl9LGc9bnx8ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz1uZXcgQXJyYXkoZSksaT10LG49KHItdCkvKGUtMSkscz0wO3M8ZTtzKyspe3ZhciBhPWk7cz4wJiZzPGUtMSYmKGErPU1hdGguc2luKHMpKm4qLjEpLG9bc109YSxpKz1ufXJldHVybiBvfSg3LHJbMF0sclsxXSksZj0wO2Y8Zy5sZW5ndGgtMTsrK2Ype3ZhciB2PWdbZl0sXz1nW2YrMV0seT1lLmV2YWx1YXRlUG9zaXRpb24odiksbT1lLmV2YWx1YXRlUG9zaXRpb24oXyk7cCh2LHksXyxtLDApLGY9PT1nLmxlbmd0aC0yJiYodS5wdXNoKG0pLGwucHVzaChfKSl9cmV0dXJue3Bvc2l0aW9uczp1LHBhcmFtczpsLHRvbGVyYW5jZTpNYXRoLnNxcnQoZCl9fTt2YXIgYz1mdW5jdGlvbigpe3RoaXMuX2hhc0RpcnR5VGVzc2VsbGF0aW9uPSEwLHRoaXMuX3Rlc3NlbGxhdGlvbkNhY2hlPXZvaWQgMCx0aGlzLl90cmltbWVkVGVzc2VsbGF0aW9uQ2FjaGU9e3Bvc2l0aW9uczp2b2lkIDAsb2Zmc2V0czp2b2lkIDAsdHJhbnNpdGlvbnM6WzEsLTFdfX07Yy5wcm90b3R5cGUuc2V0RGlydHk9ZnVuY3Rpb24oZSl7dGhpcy5faGFzRGlydHlUZXNzZWxsYXRpb249ZX0sYy5wcm90b3R5cGUuaXNEaXJ0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNEaXJ0eVRlc3NlbGxhdGlvbn0sYy5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9oYXNEaXJ0eVRlc3NlbGxhdGlvbj0hMCx0aGlzLl90ZXNzZWxsYXRpb25DYWNoZT12b2lkIDAsdGhpcy5fdHJpbW1lZFRlc3NlbGxhdGlvbkNhY2hlPXtwb3NpdGlvbnM6dm9pZCAwLG9mZnNldHM6dm9pZCAwLHRyYW5zaXRpb25zOlsxLC0xXX19LGMucHJvdG90eXBlLnNldENhY2hlPWZ1bmN0aW9uKGUpe3RoaXMuX3Rlc3NlbGxhdGlvbkNhY2hlPWUsdGhpcy5faGFzRGlydHlUZXNzZWxsYXRpb249ITF9LGMucHJvdG90eXBlLmdldENhY2hlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Rlc3NlbGxhdGlvbkNhY2hlfSxjLnByb3RvdHlwZS5nZXRUb2xlcmFuY2U9ZnVuY3Rpb24oKXtpZih0aGlzLl90ZXNzZWxsYXRpb25DYWNoZSlyZXR1cm4gdGhpcy5fdGVzc2VsbGF0aW9uQ2FjaGUudG9sZXJhbmNlfSxjLnByb3RvdHlwZS5nZXRUZXNzZWxsYXRpb249ZnVuY3Rpb24oZSx0LHIscyl7dmFyIGE9ITE7aWYoITE9PT10aGlzLl9oYXNEaXJ0eVRlc3NlbGxhdGlvbiYmdGhpcy5fdGVzc2VsbGF0aW9uQ2FjaGUudG9sZXJhbmNlPnIrby5GTE9BVDY0X1RPTEVSQU5DRSYmKHRoaXMuX2hhc0RpcnR5VGVzc2VsbGF0aW9uPSEwKSx0aGlzLl9oYXNEaXJ0eVRlc3NlbGxhdGlvbil7dGhpcy5faGFzRGlydHlUZXNzZWxsYXRpb249ITE7dmFyIGM9cyhyKTt0aGlzLl90ZXNzZWxsYXRpb25DYWNoZT17cG9zaXRpb25zOmMucG9zaXRpb25zLHBhcmFtczpjLnBhcmFtcyx0b2xlcmFuY2U6Yy50b2xlcmFuY2V9LGE9Yy5kaWRSZXRlc3NlbGxhdGV9dmFyIHU9W2VbMF0sZVtlLmxlbmd0aC0xXV0sbD0wLGg9dC5nZXRSYW5nZVVubGltaXRlZCgpO3QuaXNQZXJpb2RpY1VubGltaXRlZCgpJiYobD0odT0oMCxuLm5vcm1hbGl6ZVBhcmFtZXRyaWNSYW5nZVRvU2hpZnRlZFJhbmdlKSh1LGgpKVswXS1lWzBdKTt2YXIgZD10aGlzLl90cmltbWVkVGVzc2VsbGF0aW9uQ2FjaGUscD1kLnRyYW5zaXRpb25zWzBdLXVbMF0sZz1kLnRyYW5zaXRpb25zW2QudHJhbnNpdGlvbnMubGVuZ3RoLTFdLXVbMV0sZj1wKnArZypnPG8uRkxPQVQ2NF9UT0xFUkFOQ0U7aWYoZiYmZS5sZW5ndGg+Mil7Zj1kLnRyYW5zaXRpb25zLmxlbmd0aD09PWUubGVuZ3RoO2Zvcih2YXIgdj0xO2YmJnY8ZS5sZW5ndGgtMTsrK3YpZj1kLnRyYW5zaXRpb25zW3YtMV09PT1lW3YtMV0rbH1pZighZnx8YSl7dmFyIF87Zm9yKGQudHJhbnNpdGlvbnMubGVuZ3RoPWUubGVuZ3RoLF89MDtfPGUubGVuZ3RoOysrXylkLnRyYW5zaXRpb25zW19dPWVbX10rbDtkLnBvc2l0aW9ucz1bdC5ldmFsdWF0ZVBvc2l0aW9uKGVbMF0pXSxkLm9mZnNldHM9WzBdO3ZhciB5LG0sRT0xLHg9dVswXTtmb3IoXz0xO188ZS5sZW5ndGg7XysrKXt2YXIgUj1lW19dK2w7Zm9yKG09MDttPHRoaXMuX3Rlc3NlbGxhdGlvbkNhY2hlLnBvc2l0aW9ucy5sZW5ndGg7bSsrKWlmKCh5PXRoaXMuX3Rlc3NlbGxhdGlvbkNhY2hlLnBhcmFtc1ttXSk+eCtpLlBBUkFNRVRFUl9TUEFDRV9UT0xFUkFOQ0Upe2lmKHk+PVItaS5QQVJBTUVURVJfU1BBQ0VfVE9MRVJBTkNFKWJyZWFrO28uVmVjdG9yMy5zcXJEaXN0KGQucG9zaXRpb25zW0UtMV0sdGhpcy5fdGVzc2VsbGF0aW9uQ2FjaGUucG9zaXRpb25zW21dKT5pLktFUk5FTF9UT0xFUkFOQ0UqaS5LRVJORUxfVE9MRVJBTkNFJiYoZC5wb3NpdGlvbnNbRSsrXT1vLlZlY3RvcjMuY2xvbmUodGhpcy5fdGVzc2VsbGF0aW9uQ2FjaGUucG9zaXRpb25zW21dKSl9aWYodC5pc1BlcmlvZGljVW5saW1pdGVkKCkmJlI+aFsxXSlmb3IobT0xO208dGhpcy5fdGVzc2VsbGF0aW9uQ2FjaGUucG9zaXRpb25zLmxlbmd0aCYmKHk9dGhpcy5fdGVzc2VsbGF0aW9uQ2FjaGUucGFyYW1zW21dKTxSLShoWzFdLWhbMF0pLWkuUEFSQU1FVEVSX1NQQUNFX1RPTEVSQU5DRTttKyspby5WZWN0b3IzLnNxckRpc3QoZC5wb3NpdGlvbnNbRS0xXSx0aGlzLl90ZXNzZWxsYXRpb25DYWNoZS5wb3NpdGlvbnNbbV0pPmkuS0VSTkVMX1RPTEVSQU5DRSppLktFUk5FTF9UT0xFUkFOQ0UmJihkLnBvc2l0aW9uc1tFKytdPW8uVmVjdG9yMy5jbG9uZSh0aGlzLl90ZXNzZWxsYXRpb25DYWNoZS5wb3NpdGlvbnNbbV0pKTt2YXIgQT10LmV2YWx1YXRlUG9zaXRpb24oUik7by5WZWN0b3IzLnNxckRpc3QoZC5wb3NpdGlvbnNbRS0xXSxBKTxpLktFUk5FTF9UT0xFUkFOQ0UqaS5LRVJORUxfVE9MRVJBTkNFJiZFPmQub2Zmc2V0c1tkLm9mZnNldHMubGVuZ3RoLTFdKzEmJkUtLSxkLnBvc2l0aW9uc1tFKytdPUEsZC5vZmZzZXRzLnB1c2goZC5wb3NpdGlvbnMubGVuZ3RoLTEpLHg9Un19cmV0dXJue3Bvc2l0aW9uczpkLnBvc2l0aW9ucyxvZmZzZXRzOmQub2Zmc2V0cyx0b2xlcmFuY2U6dGhpcy5fdGVzc2VsbGF0aW9uQ2FjaGUudG9sZXJhbmNlfX0sdC5DdXJ2ZVRlc3NlbGxhdG9yPWEsdC5UZXNzZWxsYXRpb25DYWNoZT1jfSwxZTM6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuaW52ZXJ0SW50ZWdyYWwxRD10LmludGVncmF0ZUZ1bmN0aW9uMUQ9dC5uZXd0b25SYXBoc29uMUQ9dm9pZCAwO3ZhciBvLGksbixzPXIoMjQ2OCksYT1yKDU4OTYpLGM9cig2MTIwKSx1PShvPVsuOTkxNDU1MzcxMTIwODEyNiwuOTQ5MTA3OTEyMzQyNzU4NSwuODY0ODY0NDIzMzU5NzY5MSwuNzQxNTMxMTg1NTk5Mzk0NSwuNTg2MDg3MjM1NDY3NjkxMSwuNDA1ODQ1MTUxMzc3Mzk3MiwuMjA3Nzg0OTU1MDA3ODk4NDgsMF0saT1bLjAyMjkzNTMyMjAxMDUyOTIyNCwuMDYzMDkyMDkyNjI5OTc4NTYsLjEwNDc5MDAxMDMyMjI1MDE5LC4xNDA2NTMyNTk3MTU1MjU5MiwuMTY5MDA0NzI2NjM5MjY3OSwuMTkwMzUwNTc4MDY0Nzg1NDIsLjIwNDQzMjk0MDA3NTI5ODg5LC4yMDk0ODIxNDEwODQ3Mjc4Ml0sbj1bLjEyOTQ4NDk2NjE2ODg2OTcsLjI3OTcwNTM5MTQ4OTI3NjY0LC4zODE4MzAwNTA1MDUxMTg5LC40MTc5NTkxODM2NzM0Njk0XSxmdW5jdGlvbihlLHQscil7dmFyIGE9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgcz0uNSoodCtyKSxhPS41KihyLXQpLGM9ZShzKSx1PWMqaVs3XSxsPWMqblszXSxoPTA7aDw3OysraCl7dmFyIGQ9YSpvW2hdLHA9ZShzLWQpK2UocytkKTt1Kz1wKmlbaF0saCUyPT0xJiYobCs9cCpuW01hdGguZmxvb3IoaC8yKV0pfXZhciBnPTIwMCpNYXRoLmFicyh1LWwpKmE7cmV0dXJue2xlbmd0aDp1KmEsZXJyb3I6Zyo9TWF0aC5zcXJ0KGcpfX0oZSx0WzBdLHRbMV0pO2lmKHZvaWQgMD09PXIpcj0wO2Vsc2UgaWYocj44KXJldHVybiBjLkRlYnVnVXRpbHMud2FybihcIk1heCBkZXB0aCByZWFjaGVkIGluIGludGVncmF0ZUZ1bmN0aW9uMUQhXCIpLGEubGVuZ3RoO2lmKGEuZXJyb3I+cy5LRVJORUxfVE9MRVJBTkNFKXt2YXIgbD0uNSoodFswXSt0WzFdKTtyZXR1cm4gdShlLFt0WzBdLGxdLHIrMSkrdShlLFtsLHRbMV1dLHIrMSl9cmV0dXJuIGEubGVuZ3RofSk7dC5uZXd0b25SYXBoc29uMUQ9ZnVuY3Rpb24oZSx0LHIsbyxpKXt2YXIgbixzPXI7dCYmKHM9KDAsYS5jbGFtcCkocyx0WzBdLHRbMV0pKTt2YXIgdT0wO2RveysrdTt2YXIgbD1lKHMpLGg9cy1sLnZhbC9sLmRlcml2O3QmJihoPSgwLGEuY2xhbXApKGgsdFswXSx0WzFdKSksbj1NYXRoLmFicyhoLXMpLHM9aH13aGlsZShuPm8mJnU8aSk7cmV0dXJuIHU+PWkmJmMuRGVidWdVdGlscy53YXJuKFwiTWF4aW11bSBudW1iZXIgb2YgaXRlcmF0aW9ucyByZWFjaGVkLiBTb21ldGhpbmcgd3JvbmcgaXMgZ29pbmcgb24gaGVyZSAhISFcIiksc30sdC5pbnRlZ3JhdGVGdW5jdGlvbjFEPXUsdC5pbnZlcnRJbnRlZ3JhbDFEPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz1zLktFUk5FTF9UT0xFUkFOQ0UsaT11KGUscik7aWYodDxvKXJldHVybiByWzBdO2lmKHQ+aS1vKXJldHVybiByWzFdO2Zvcih2YXIgbj1yWzBdLGM9clsxXSxsPXQ7Yy1uPnMuUEFSQU1FVEVSX1NQQUNFX1RPTEVSQU5DRTspe3ZhciBoPWwvaSxkPW4rKGg9KDAsYS5jbGFtcCkoaCwuMDEsLjk5KSkqKGMtbikscD11KGUsW24sZF0pLGc9aS0ocD0oMCxhLmNsYW1wKShwLDAsaSkpO2lmKE1hdGguYWJzKGwtcCk8bylyZXR1cm4gZDtwPmw/KGM9ZCxpPXApOihuPWQsbC09cCxpPWcpfXJldHVybi41KihuK2MpfX0sODgwOihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Lm5ld3RvblJhcGhzb24yRD10LlJlbGF4UmVzdWx0PXZvaWQgMDt2YXIgbz1yKDE5NzIpLGk9ZnVuY3Rpb24oKXt9LG49e307bltuLlN1Y2Nlc3M9MF09XCJTdWNjZXNzXCIsbltuLk91dE9mUmFuZ2U9MV09XCJPdXRPZlJhbmdlXCIsbltuLkRlZ2VuZXJhdGVTdGVwPTJdPVwiRGVnZW5lcmF0ZVN0ZXBcIixuW24uVG9vTWFueVN0ZXBzPTNdPVwiVG9vTWFueVN0ZXBzXCIsbltuLlJvb3ROb3RGb3VuZD00XT1cIlJvb3ROb3RGb3VuZFwiO3QuUmVsYXhSZXN1bHQ9bix0Lm5ld3RvblJhcGhzb24yRD1mdW5jdGlvbihlLHQscixzLGEpe3M9c3x8MWUtMTIsYT1hfHwxMDA7dmFyIGM9W3ZvaWQgMCx2b2lkIDBdO3ImJjI9PT1yLmxlbmd0aCYmKHJbMF0mJjI9PT1yWzBdLmxlbmd0aCYmKGNbMF09clswXSksclsxXSYmMj09PXJbMV0ubGVuZ3RoJiYoY1sxXT1yWzFdKSksaShcIk5ld3Rvbi1SYXBoc29uIDJEOlwiKSxpKFwiICByYW5nZSB1OiBcIisoY1swXT9cIltcIitjWzBdWzBdK1wiLFwiK2NbMF1bMV0rXCJdXCI6XCJub25lXCIpKSxpKFwiICByYW5nZSB2OiBcIisoY1sxXT9cIltcIitjWzFdWzBdK1wiLFwiK2NbMV1bMV0rXCJdXCI6XCJub25lXCIpKTtmb3IodmFyIHU9WzAsMF0sbD0xLzAsaD0xLzAsZD0hMSxwPW8uTWF0cml4MjIuY3JlYXRlRmxvYXQ2NCgpLGc9by5NYXRyaXgyMi5jcmVhdGVGbG9hdDY0KCksZj1vLlZlY3RvcjIuY2xvbmUodCksdj1uLlN1Y2Nlc3MsXz0wO188PWE7XysrKXt2YXIgeT1lKGYpO2lmKGw9by5WZWN0b3IyLnNxdWFyZWRMZW5ndGgoeS52YWwpLGkoXCJTdGVwIFwiK18rXCI6IHV2PShcIitmWzBdK1wiLFwiK2ZbMV0rXCIpLCBlcnJvcj1cIitsKSxsPG8uRkxPQVQ2NF9UT0xFUkFOQ0Uqby5GTE9BVDY0X1RPTEVSQU5DRSl7aShcIiAgemVybyBlcnJvciwgc3RvcHBpbmdcIiksdj1uLlN1Y2Nlc3M7YnJlYWt9aWYoXz4wKXt2YXIgbT1NYXRoLm1heChNYXRoLmFicyh1WzBdKSxNYXRoLmFicyh1WzFdKSk7aWYobTxzKXtpKFwiICBzdGVwIChcIittK1wiKSBzbWFsbGVyIHRoYW4gdG9sZXJhbmNlIChcIitzK1wiKSwgc3RvcHBpbmdcIiksbD49aCYmKGkoXCIgIHByZXZpb3VzIHN0ZXAgaGFkIHNtYWxsZXIgZXJyb3IsIHJldHVybmluZyB0aGF0XCIpLG8uVmVjdG9yMi5zdWIoZixmLHUpLGw9aCx5PWUoZikpO3ZhciBFPTEwKnMqKG8uVmVjdG9yMi5sZW4oeS5kZXJpdjEpK28uVmVjdG9yMi5sZW4oeS5kZXJpdjIpKSx4PUUqRTtsPng/KGkoXCIgIGZpbmFsIGVycm9yIGlzIGdyZWF0ZXIgdGhhbiB0b2xlcmFuY2UgKFwiK3grXCIpXCIpLGQ/KGkoXCIgIHN0b3BwZWQgb24gYSBib3VuZGFyeSwgcm9vdCBtYXkgYmUgb3V0IG9mIHJhbmdlXCIpLHY9bi5PdXRPZlJhbmdlKTooaShcIiAgZmluYWwgcG9pbnQgaXMgbm90IGEgcm9vdFwiKSx2PW4uUm9vdE5vdEZvdW5kKSk6dj1uLlN1Y2Nlc3M7YnJlYWt9fWlmKF89PT1hKXtpKFwiICByZWFjaGVkIG1heGltdW0gaXRlcmF0aW9ucywgc3RvcHBpbmdcIiksbD49aCYmKGkoXCIgIHByZXZpb3VzIHN0ZXAgaGFkIHNtYWxsZXIgZXJyb3IsIHJldHVybmluZyB0aGF0XCIpLG8uVmVjdG9yMi5zdWIoZixmLHUpLGw9aCksdj1uLlRvb01hbnlTdGVwczticmVha31pZihfPjAmJmw+PWgpe3ZhciBSPWgvKGgrbCk7Uj1NYXRoLm1heChSLC4xKSxpKFwiICBlcnJvciBoYXMgaW5jcmVhc2VkLCByZWR1Y2luZyBwcmV2aW91cyBzdGVwIGJ5IGZhY3RvciBcIitSKSxvLlZlY3RvcjIuc3ViKGYsZix1KSxvLlZlY3RvcjIuc2NhbGUodSx1LFIpLG8uVmVjdG9yMi5hZGQoZixmLHUpLGw9aH1lbHNle2lmKGg9bCxvLk1hdHJpeDIyLnNldChwLC15LmRlcml2MVswXSwteS5kZXJpdjFbMV0sLXkuZGVyaXYyWzBdLC15LmRlcml2MlsxXSksTWF0aC5hYnMoby5NYXRyaXgyMi5kZXRlcm1pbmFudChwKSk8by5GTE9BVDY0X1RPTEVSQU5DRSl7aShcIiAgbWF0cml4IGlzIHNpbmd1bGFyLCBzdG9wcGluZ1wiKSx2PW4uRGVnZW5lcmF0ZVN0ZXA7YnJlYWt9by5NYXRyaXgyMi5pbnZlcnQoZyxwKSxvLlZlY3RvcjIudHJhbnNmb3JtTWF0cml4MjIodSx5LnZhbCxnKSxpKFwiICBuZXcgc3RlcCBkdXY9KFwiK3VbMF0rXCIsXCIrdVsxXStcIilcIiksby5WZWN0b3IyLmFkZChmLGYsdSksZD0hMTtmb3IodmFyIEE9MDtBPDM7QSsrKXt2YXIgUD1BPj0yLFY9QSUyO2lmKGNbVl0pe3ZhciBUPTA7aWYoZltWXTxjW1ZdWzBdPyhUPWZbVl0tY1tWXVswXSxmW1ZdPWNbVl1bMF0pOmZbVl0+Y1tWXVsxXSYmKFQ9ZltWXS1jW1ZdWzFdLGZbVl09Y1tWXVsxXSksMCE9PVQpe2koXCIgIG91dC1vZi1yYW5nZSwgYm91bmRhcnkgXCIrKDA9PT1WP1widVwiOlwidlwiKStcIj1cIitmW1ZdKTt2YXIgYj11W1ZdO2lmKHVbVl0tPVQsUClpKFwiICBjbGFtcGluZyBcIisoMD09PVY/XCJ1XCI6XCJ2XCIpK1wiIHRvIGJvdW5kYXJ5XCIpO2Vsc2V7dmFyIEM9MS1WO2lmKGZbQ10tPXVbQ10sTWF0aC5hYnModVtWXSk+cyl7dmFyIE89dVtWXS9iO2koXCIgIHNocmlua2luZyBzdGVwIGJ5IGZhY3RvciBcIitPK1wiIHRvIGxhbmQgb24gYm91bmRhcnlcIiksdVtDXSo9T31lbHNle2koXCIgIGNsYW1waW5nIFwiKygwPT09Vj9cInVcIjpcInZcIikrXCIgdG8gYm91bmRhcnlcIiksaShcIiAgY2Fubm90IHN0ZXAgdG8gc29sdXRpb24sIG1pbmltaXppbmcgZXJyb3IgYWxvbmcgYm91bmRhcnkgaW5zdGVhZFwiKSxkPSEwO3ZhciBMPTA9PT1DP3kuZGVyaXYxOnkuZGVyaXYyO3VbQ109LW8uVmVjdG9yMi5kb3QoeS52YWwsTCkvTWF0aC5tYXgoby5WZWN0b3IyLmRvdChMLEwpLG8uRkxPQVQ2NF9UT0xFUkFOQ0UpfWZbQ10rPXVbQ10saShcIiAgbW9kaWZpZWQgc3RlcCBkdXY9KFwiK3VbMF0rXCIsXCIrdVsxXStcIilcIil9fX19fX1yZXR1cm4gaShcIlJlc3VsdDogXCIrblt2XStcIiwgdXY9KFwiK2ZbMF0rXCIsXCIrZlsxXStcIilcIikse3BhcmFtOmYsc3RhdHVzOnZ9fX0sNjcwNDooZSx0KT0+e1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPTE2Nzc3NjE5LG89ZnVuY3Rpb24oZSx0KXtpZih0PDEpcmV0dXJuXCJcIjtmb3IodmFyIHI9XCJcIjt0PjE7KTEmdCYmKHIrPWUpLHQ+Pj0xLGUrPWU7cmV0dXJuIHIrZX0saT17aXNJbml0aWFsaXplZDohMSxybmdBOjQwMjc5OTkwMTAscm5nQjozOTkzMjY2MzYzLHJuZ0M6MzYwNTI5ODQ1Nixyb3RsMzI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZTw8dD4+PjB8ZT4+PjMyLXQpPj4+MH0saW5pdGlhbGl6ZTpmdW5jdGlvbihlLHQpe2lmKGkuaXNJbml0aWFsaXplZCYmIXQpcmV0dXJuIDA7dmFyIHI7KGkuaXNJbml0aWFsaXplZCYmKGkucm5nQT00MDI3OTk5MDEwLGkucm5nQj0zOTkzMjY2MzYzLGkucm5nQz0zNjA1Mjk4NDU2KSxpLmlzSW5pdGlhbGl6ZWQ9ITAsdm9pZCAwIT09ZSk/cj1lOihyPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHJePU1hdGguZmxvb3IoMjE0NzQ4MzY0NypNYXRoLnJhbmRvbSgpKzEpKTtyZXR1cm4gaS5ybmdBKz0yMDk3MTUxJnIsaS5ybmdCKz1yPj43JjUyNDI4NyxpLnJuZ0MrPXI+PjEzLHJ9LGdlblJhbmRVSW50MzI6ZnVuY3Rpb24oKXtyZXR1cm4gaS5ybmdBPX4oMjkxMTMyOTYyNSppLnJuZ0EpLGkucm5nQT1pLnJvdGwzMihpLnJuZ0EsMTcpLGkucm5nQj00MDMxMjM1NDMxKmkucm5nQixpLnJuZ0I9aS5yb3RsMzIoaS5ybmdCLDE1KSxpLnJuZ0M9MzI4NjMyNTE4NS1pLnJvdGwzMihpLnJuZ0MsMTkpLGkucm5nQStpLnJuZ0JeaS5ybmdDfX0sbj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9XCJcIixyPTA7cjw0O3IrKyl7dmFyIGk9ZVtyXS50b1N0cmluZygxNik7dCs9byhcIjBcIiw4LWkubGVuZ3RoKStpfXJldHVybiB0LnN1YnN0cigwLDgpK1wiLVwiK3Quc3Vic3RyKDgsNCkrXCItXCIrdC5zdWJzdHIoMTIsNCkrXCItXCIrdC5zdWJzdHIoMTYsNCkrXCItXCIrdC5zdWJzdHIoMjAsMTIpfSxzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dDtyZXR1cm4gdm9pZCAwPT09ciYmKHI9bmV3IFVpbnQzMkFycmF5KDQpKSxyWzBdPXBhcnNlSW50KFwiMHhcIitlLnN1YnN0cigwLDgpLDE2KSxyWzFdPXBhcnNlSW50KFwiMHhcIitlLnN1YnN0cig5LDQpK2Uuc3Vic3RyKDE0LDQpLDE2KSxyWzJdPXBhcnNlSW50KFwiMHhcIitlLnN1YnN0cigxOSw0KStlLnN1YnN0cigyNCw0KSwxNiksclszXT1wYXJzZUludChcIjB4XCIrZS5zdWJzdHIoMjgsOCksMTYpLHJ9LGE9ZnVuY3Rpb24oZSx0KXt2YXIgbz1uZXcgVWludDMyQXJyYXkodCk7cmV0dXJuIG9bMF0rPTI2NTQ0MzU3Njksb1sxXSs9MTA0Mzk1MzAzLG9bMl0rPTQ1MjkzMDQ3NyxvWzNdKz05ODI0NTE2NTMsb1swXSs9ZVszXTw8NixvWzFdKz1lWzBdPDw2LG9bMl0rPWVbMV08PDYsb1szXSs9ZVsyXTw8NixvWzBdKz1lWzJdPj4yLG9bMV0rPWVbM10+PjIsb1syXSs9ZVswXT4+MixvWzNdKz1lWzFdPj4yLG9bMF09KG9bMF1eZVsxXSkqcj4+PjAsb1sxXT0ob1sxXV5lWzJdKSpyPj4+MCxvWzJdPShvWzJdXmVbM10pKnI+Pj4wLG9bM109KG9bM11eZVswXSkqcj4+PjAsb307aS5pbml0aWFsaXplKCksdC51aW50MzJ4NFRvR1VJRD1uLHQuZ3VpZFRvVWludDMyeDQ9cyx0LmdlbmVyYXRlR1VJRD1mdW5jdGlvbigpe3ZhciBlPW5ldyBVaW50MzJBcnJheSg0KTtyZXR1cm4gZVswXT1pLmdlblJhbmRVSW50MzIoKSxlWzFdPWkuZ2VuUmFuZFVJbnQzMigpLGVbMl09aS5nZW5SYW5kVUludDMyKCksZVszXT1pLmdlblJhbmRVSW50MzIoKSxuKGUpfSx0LmlzR1VJRD1mdW5jdGlvbihlKXtyZXR1cm4vXlswLTlhLWZBLUZdezh9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezEyfSQvLnRlc3QoZSl9LHQuY29tYmluZUd1aWRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9cyhlKSxvPXModCksaT1hKHIsbyk7cmV0dXJuIG4oaSl9LHQuaGFzaENvbWJpbmU0eFVpbnQzMj1hfSw1ODk2OihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmluZVBsYW5lVGhyb3VnaFBvaW50cz10LmdldFBsYW5lVHJhbnNmb3Jtcz10LmxpbWl0UmFuZ2U9dC5QSTI9dC5zb3J0ZWRJbmRleD10LmNsYW1wPXQub3JpZW50MkQ9dC5zaWduZWREaXN0YW5jZVRvMkRMaW5lPXQuaW50ZXJzZWN0SW50ZXJ2YWxzPXQuc29sdmVUd29FcXVhdGlvbnNUd29WYXJpYWJsZXM9dC5jbG9zZXN0UG9pbnRUb1RyaWFuZ2xlPXQuY2xvc2VzdFBvaW50VG9Qb2x5bGluZT10LmRpc3RhbmNlUG9pbnRUb0xpbmVTZWdtZW50PXQucHJvamVjdFBvaW50VG9MaW5lU2VnbWVudD10LmFuZ2xlRGlmZmVyZW5jZT10LnBlcmlvZGljRGlmZmVyZW5jZT10Lm1pbk1heENvc1NpbkZ1bmM9dC5jb252ZXJ0VG9PdGhlclBlcmlvZGljUmFuZ2U9dC5hZGp1c3RQYXJhbWV0ZXJUb1BlcmlvZGljUmFuZ2U9dC5nZXRTaG9ydGVzdFBhcmFtZXRyaWNSYW5nZT10LmlzUGFyYW1ldGVyV2l0aGluUGVyaW9kaWNSYW5nZT10Lm5vcm1hbGl6ZVNlZ21lbnRzVG9QZXJpb2RpY1JhbmdlPXQubm9ybWFsaXplUGFyYW1ldHJpY1JhbmdlPXQubm9ybWFsaXplUGFyYW1ldHJpY1JhbmdlVG9TaGlmdGVkUmFuZ2U9dC5ub3JtYWxpemVQYXJhbWV0ZXJUb1NoaWZ0ZWRSYW5nZT10LmFkanVzdEFuZ2xlVG9SYW5nZT10Lm5vcm1hbGl6ZUFuZ2xlUmFuZ2U9dC5ub3JtYWxpemVBbmdsZT10Lm5vcm1hbGl6ZVBhcmFtZXRlcj10LmZvbGROZWFyVG89dC5mb2xkQWJvdmU9dC5mb2xkPXQubW9kdWx1cz10LmdldFNpZ25lZEFuZ2xlPXQuaXNQb2ludEluc2lkZVBvbHlnb24yRD10LmJpbm9taWFsQ29lZmZpY2llbnRzPXZvaWQgMDt2YXIgbz1yKDE5NzIpLGk9cigyNDY4KSxuPXIoNDcyOCkscz0yKk1hdGguUEksYT1bXTshZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPDg7KytlKXthW2VdPVsxXTtmb3IodmFyIHQ9MTt0PGU7Kyt0KWFbZV1bdF09YVtlLTFdW3QtMV0rYVtlLTFdW3RdO2FbZV1bZV09MX19KCk7dmFyIGM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBNYXRoLm1pbihNYXRoLm1heCh0LGUpLHIpfSx1PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUtdCpNYXRoLmZsb29yKGUvdCl9LGw9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lJXQ7cmV0dXJuIHI8MD9yK3Q6cn0saD1mdW5jdGlvbihlLHQscil7cmV0dXJuIGwoZS10LHIpK3R9LGQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZTwwP3QrZSV0OmUldH0scD1mdW5jdGlvbihlLHQpe3JldHVybiBkKGUtdFswXSx0WzFdLXRbMF0pK3RbMF19LGc9ZnVuY3Rpb24oZSx0KXtuLkNvbnNvbGVVdGlscy5hc3NlcnQoZVsxXT49ZVswXSxcIm5vcm1hbGl6ZVBhcmFtZXRyaWNSYW5nZTogaW5fcmFuZ2UgZW5kcyBub3QgaW4gb3JkZXIuXCIpO3ZhciByPWVbMV0tZVswXSxvPWQoZVswXSx0KTtyZXR1cm5bbyxvK3JdfSxmPWZ1bmN0aW9uKGUsdCxyLG8saSl7aWYoIWlzRmluaXRlKHIpKXJldHVybiBlO3ZhciBuPWcodCxyKSxzPWQoZSxyKSxhPXMrcjtpZihvPSEhbyxzPj1uWzBdJiZzPD1uWzFdKXJldHVybiB0WzBdKyhzLW5bMF0pO2lmKGE+PW5bMF0mJmE8PW5bMV0pcmV0dXJuIHRbMF0rKGEtblswXSk7dmFyIGM9TWF0aC5hYnMoblswXS1zKSx1PU1hdGguYWJzKHMtblsxXSksbD1NYXRoLmFicyhuWzBdLWEpLGg9TWF0aC5hYnMoYS1uWzFdKTtyZXR1cm4gaT9NYXRoLm1pbihjLGwpPE1hdGgubWluKHUsaCk/dFswXTp0WzFdOk1hdGgubWluKGMsdSk+TWF0aC5taW4obCxoKSYmIW8/dFswXSsoYS1uWzBdKTp0WzBdKyhzLW5bMF0pfSx2PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz1NYXRoLmFicyhlLXQpO3JldHVybiBpc0Zpbml0ZShyKSYmKG8lPXIpPnIvMj9yLW86b30sXz1mdW5jdGlvbihlLHQscil7dmFyIG49by5WZWN0b3IzLnN1YihvLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLHQsZSkscz1vLlZlY3RvcjMuZG90KG4sbik7aWYoczxpLktFUk5FTF9UT0xFUkFOQ0UqaS5LRVJORUxfVE9MRVJBTkNFKXJldHVybiAwO3ZhciBhPW8uVmVjdG9yMy5zdWIoby5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSxyLGUpO3JldHVybiBvLlZlY3RvcjMuZG90KGEsbikvc307dC5iaW5vbWlhbENvZWZmaWNpZW50cz1hLHQuaXNQb2ludEluc2lkZVBvbHlnb24yRD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0hMSxvPXQubGVuZ3RoLGk9MCxuPW8tMjtpPG87aSs9Mil0W2krMV0+ZVsxXSE9dFtuKzFdPmVbMV0mJmVbMF08KHRbbl0tdFtpXSkqKGVbMV0tdFtpKzFdKS8odFtuKzFdLXRbaSsxXSkrdFtpXSYmKHI9IXIpLG49aTtyZXR1cm4gcn0sdC5nZXRTaWduZWRBbmdsZT1mdW5jdGlvbihlLHQpe3ZhciByPWMoby5WZWN0b3IyLmRvdChlLHQpLC0xLDEpLGk9dFswXSplWzFdLXRbMV0qZVswXTtyZXR1cm4gMD09PWk/LjUqTWF0aC5QSSooci0xKTppPDA/LU1hdGguYWNvcyhyKTpNYXRoLmFjb3Mocil9LHQubW9kdWx1cz11LHQuZm9sZD1sLHQuZm9sZEFib3ZlPWgsdC5mb2xkTmVhclRvPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gaChlLHQtci8yLHIpfSx0Lm5vcm1hbGl6ZVBhcmFtZXRlcj1kLHQubm9ybWFsaXplQW5nbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGQoZSxzKX0sdC5ub3JtYWxpemVBbmdsZVJhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiBnKGUsMipNYXRoLlBJKX0sdC5hZGp1c3RBbmdsZVRvUmFuZ2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZihlLHQsMipNYXRoLlBJKX0sdC5ub3JtYWxpemVQYXJhbWV0ZXJUb1NoaWZ0ZWRSYW5nZT1wLHQubm9ybWFsaXplUGFyYW1ldHJpY1JhbmdlVG9TaGlmdGVkUmFuZ2U9ZnVuY3Rpb24oZSx0KXtuLkNvbnNvbGVVdGlscy5hc3NlcnQoZVsxXT49ZVswXSxcIm5vcm1hbGl6ZVBhcmFtZXRyaWNSYW5nZVRvU2hpZnRlZFJhbmdlOiBpbl9yYW5nZSBlbmRzIG5vdCBpbiBvcmRlci5cIik7dmFyIHI9ZVsxXS1lWzBdLG89cChlWzBdLHQpO3JldHVybltvLG8rcl19LHQubm9ybWFsaXplUGFyYW1ldHJpY1JhbmdlPWcsdC5ub3JtYWxpemVTZWdtZW50c1RvUGVyaW9kaWNSYW5nZT1mdW5jdGlvbihlLHQscixvLG4pe2Zvcih2YXIgcz12b2lkIDAhPT1vP286aS5LRVJORUxfVE9MRVJBTkNFLGE9dm9pZCAwIT09bj9uOnRbMV0tdFswXSxjPVtdLHU9MDt1PGUubGVuZ3RoO3UrKyl7dmFyIGw9cChlW3VdWzBdLHQpLGg9ZVt1XVsxXS1lW3VdWzBdO2lmKGg+PWEpcmV0dXJuW1t0WzBdLHRbMV1dXTt2YXIgZD1sK2g7ZDx0WzFdP2MucHVzaChbbCxkXSk6KGMucHVzaChbbCx0WzFdXSksYy5wdXNoKFt0WzBdLGQtdFsxXSt0WzBdXSkpfXZhciBnPVtdO2Muc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXS10WzBdfSkpO2Zvcih1PTA7dTxjLmxlbmd0aDt1Kyspe2Zvcih2YXIgZj1jW3VdO3UrMTxjLmxlbmd0aCYmY1t1KzFdWzBdPGZbMV07KWZbMV09TWF0aC5tYXgoZlsxXSxjW3UrMV1bMV0pLHUrKzsoTWF0aC5hYnMoZlsxXS1mWzBdKT5zfHwhcikmJmcucHVzaChmKX1yZXR1cm4gZ30sdC5pc1BhcmFtZXRlcldpdGhpblBlcmlvZGljUmFuZ2U9ZnVuY3Rpb24oZSx0LHIsbyl7dmFyIGk9ZihlLHQscik7cmV0dXJuIG89b3x8MCxpPnRbMF0tbyYmaTx0WzFdK299LHQuZ2V0U2hvcnRlc3RQYXJhbWV0cmljUmFuZ2U9ZnVuY3Rpb24oZSx0LHIpe2lmKChlPWQoZSxyKSk+KHQ9ZCh0LHIpKSl7dmFyIG89ZTtlPXQsdD1vfXJldHVybiBlLXQrcjx0LWU/W3QsZStyXTpbZSx0XX0sdC5hZGp1c3RQYXJhbWV0ZXJUb1BlcmlvZGljUmFuZ2U9Zix0LmNvbnZlcnRUb090aGVyUGVyaW9kaWNSYW5nZT1mdW5jdGlvbihlLHQscixvKXtpZighaXNGaW5pdGUocikpcmV0dXJuIG4uQ29uc29sZVV0aWxzLmFzc2VydChlWzBdPj10WzBdLW8sXCJUaGUgc3RhcnQgb2YgdGhlIGlucHV0IHJhbmdlIGRvZXNuJ3QgbGllIGluIHRoZSB0YXJnZXQgcmFuZ2UuXCIpLG4uQ29uc29sZVV0aWxzLmFzc2VydChlWzFdPD10WzFdK28sXCJUaGUgaW5wdXQgcmFuZ2UgZG9lc24ndCBsaWUgd2l0aGluIHRoZSB0YXJnZXQgcmFuZ2UuXCIpLGU7aWYobz1vfHwwLGVbMV0tZVswXT49ci1vKXJldHVybiB0WzFdLXRbMF08ci1vJiZjb25zb2xlLmVycm9yKFwiVGhlIGlucHV0IHJhbmdlIGlzIGxhcmdlciB0aGFuIHRoZSB0YXJnZXQgcmFuZ2UuXCIpLHQ7dmFyIGk9ZihlWzBdLHQscik7bi5Db25zb2xlVXRpbHMuYXNzZXJ0KGk+PXRbMF0tbyxcIlRoZSBzdGFydCBvZiB0aGUgaW5wdXQgcmFuZ2UgZG9lc24ndCBsaWUgaW4gdGhlIHRhcmdldCByYW5nZS5cIik7dmFyIHM9aStlWzFdLWVbMF07cmV0dXJuIG4uQ29uc29sZVV0aWxzLmFzc2VydChzPD10WzFdK28sXCJUaGUgaW5wdXQgcmFuZ2UgZG9lc24ndCBsaWUgd2l0aGluIHRoZSB0YXJnZXQgcmFuZ2UuXCIpLFtpLHNdfSx0Lm1pbk1heENvc1NpbkZ1bmM9ZnVuY3Rpb24oZSx0LHIsbyl7aWYoMD09PWUmJjA9PT10KXJldHVybltyLHJdO3ZhciBpLG49ZyhvLDIqTWF0aC5QSSkscz1mKE1hdGguYXRhbih0L2UpLG4sTWF0aC5QSSwhMCksYT1bXTtmb3IoaT0wO2k8MzsrK2kpblswXTw9cyYmblsxXT49cyYmYS5wdXNoKGUqTWF0aC5jb3MocykrdCpNYXRoLnNpbihzKSkscys9TWF0aC5QSTtpZihvWzFdLW9bMF08MipNYXRoLlBJKWZvcihpPTA7aTwyO2krKylhLnB1c2goZSpNYXRoLmNvcyhvW2ldKSt0Kk1hdGguc2luKG9baV0pKTtyZXR1cm5bTWF0aC5taW4uYXBwbHkobnVsbCxhKStyLE1hdGgubWF4LmFwcGx5KG51bGwsYSkrcl19LHQucGVyaW9kaWNEaWZmZXJlbmNlPXYsdC5hbmdsZURpZmZlcmVuY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdihlLHQsMipNYXRoLlBJKX0sdC5wcm9qZWN0UG9pbnRUb0xpbmVTZWdtZW50PV8sdC5kaXN0YW5jZVBvaW50VG9MaW5lU2VnbWVudD1mdW5jdGlvbihlLHQscixpKXt2YXIgbj1fKGUsdCxyKTtuPWMobiwwLDEpO3ZhciBzPWl8fG8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7cmV0dXJuIG8uVmVjdG9yMy5sZXJwKHMsZSx0LG4pLG8uVmVjdG9yMy5kaXN0YW5jZShzLHIpfSx0LmNsb3Nlc3RQb2ludFRvUG9seWxpbmU9ZnVuY3Rpb24oZSx0LHIsaSxuKXtmb3IodmFyIHM9XCJudW1iZXJcIj09dHlwZW9mIHRbMF0sYT1zP3QubGVuZ3RoLzM6dC5sZW5ndGgsdT12b2lkIDAsbD1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksaD1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLGQ9MDtkPGEtMTsrK2Qpe3ZhciBwPXI/cltkXTpkLGc9cj9yW2QrMV06ZCsxLGY9MCx2PTE7aWYoIShpJiYoaVswXT5wJiYoZj0oaVswXS1wKS8oZy1wKSksaVsxXTxnJiYodj0oaVsxXS1wKS8oZy1wKSksdjxmKSkpe3ZhciB5LG07cz8oeT1bdFszKmRdLHRbMypkKzFdLHRbMypkKzJdXSxtPVt0WzMqZCszXSx0WzMqZCs0XSx0WzMqZCs1XV0pOih5PXRbZF0sbT10W2QrMV0pO3ZhciBFPV8oeSxtLGUpO0U9YyhFLGYsdiksby5WZWN0b3IzLmxlcnAoaCx5LG0sRSk7dmFyIHg9by5WZWN0b3IzLnNxdWFyZWREaXN0YW5jZShoLGUpO3g8bCYmKHU9KDEtRSkqcCtFKmcsbD14LG4mJm8uVmVjdG9yMy5jb3B5KG4saCkpfX1yZXR1cm4gdX0sdC5jbG9zZXN0UG9pbnRUb1RyaWFuZ2xlPWZ1bmN0aW9uKGUsdCxyLG4scyl7dmFyIGEsdSxsPW8uVmVjdG9yMy5zdWIoby5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSxyLHQpLGg9by5WZWN0b3IzLnN1YihvLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLG4sdCksZD1vLlZlY3RvcjMuc3ViKG8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCksZSx0KSxwPW8uVmVjdG9yMy5zcXVhcmVkTGVuZ3RoKGwpLGc9by5WZWN0b3IzLnNxdWFyZWRMZW5ndGgoaCksZj1vLlZlY3RvcjMuZG90KGwsaCksdj1vLlZlY3RvcjMuZG90KGQsbCkseT1vLlZlY3RvcjMuZG90KGQsaCk7aWYocDxpLktFUk5FTF9UT0xFUkFOQ0UqaS5LRVJORUxfVE9MRVJBTkNFJiZnPGkuS0VSTkVMX1RPTEVSQU5DRSppLktFUk5FTF9UT0xFUkFOQ0UpYT11PTA7ZWxzZSBpZihwPGkuS0VSTkVMX1RPTEVSQU5DRSppLktFUk5FTF9UT0xFUkFOQ0UpYT0wLHU9Yyh5L2csMCwxKTtlbHNlIGlmKGc8aS5LRVJORUxfVE9MRVJBTkNFKmkuS0VSTkVMX1RPTEVSQU5DRSlhPWModi9wLDAsMSksdT0wO2Vsc2V7dmFyIG09by5NYXRyaXgyMi5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcyhwLGYsZixnKTtpZihNYXRoLmFicyhvLk1hdHJpeDIyLmRldGVybWluYW50KG0pKT5vLkZMT0FUNjRfVE9MRVJBTkNFKXtvLk1hdHJpeDIyLmludmVydChtLG0pO3ZhciBFPVt2LHldO28uVmVjdG9yMi50cmFuc2Zvcm1NYXRyaXgyMihFLEUsbSksYT1FWzBdLHU9RVsxXX1lbHNlIHU9eS9nLChhPXYvcCk8PTB8fHU8PTA/KGE9YyhhLDAsMSksdT1jKHUsMCwxKSk6YTx1PyhhPWMoYSwwLDEpLHU9MCk6KGE9MCx1PWModSwwLDEpKX1pZihhPDAmJnk+PTAmJnk8PWcmJihhPTAsdT15L2cpLHU8MCYmdj49MCYmdjw9cCYmKGE9di9wLHU9MCksYSt1PjEpe3ZhciB4PV8ocixuLGUpO3g+PTAmJng8PTEmJihhPTEteCx1PXgpfWlmKGE8MHx8dTwwfHxhK3U+MSl7dmFyIFI9by5WZWN0b3IzLnNxdWFyZWRMZW5ndGgoZCksQT1vLlZlY3RvcjMuc3F1YXJlZERpc3RhbmNlKGUsciksUD1vLlZlY3RvcjMuc3F1YXJlZERpc3RhbmNlKGUsbik7QTw9UiYmQTw9UD8oYT0xLHU9MCk6UDw9UiYmUDw9QT8oYT0wLHU9MSk6YT11PTB9cmV0dXJuIHMmJihvLlZlY3RvcjMuc2NhbGVBbmRBZGQocyx0LGwsYSksby5WZWN0b3IzLnNjYWxlQW5kQWRkKHMscyxoLHUpKSx7Y29vcmRBOmEsY29vcmRCOnV9fSx0LnNvbHZlVHdvRXF1YXRpb25zVHdvVmFyaWFibGVzPWZ1bmN0aW9uKGUpe3ZhciB0PWVbMF1bMF0scj1lWzBdWzFdLG89ZVsxXVswXSxpPWVbMV1bMV0sbj10KmktcipvO2lmKDAhPT1uKXt2YXIgcz1pKmVbMF1bMl0tciplWzFdWzJdLGE9LW8qZVswXVsyXSt0KmVbMV1bMl07cmV0dXJuW3MvPW4sYS89bl19fSx0LmludGVyc2VjdEludGVydmFscz1mdW5jdGlvbihlLHQscil7cj1yfHwwO2Zvcih2YXIgbz1bXSxpPTA7aTxlLmxlbmd0aDtpKyspZm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBzPU1hdGgubWF4KGVbaV1bMF0sdFtuXVswXSksYT1NYXRoLm1pbihlW2ldWzFdLHRbbl1bMV0pO2Etcj5zJiYoYT5zP28ucHVzaChbcyxhXSk6by5wdXNoKFthLGFdKSl9cmV0dXJuIG99LHQuc2lnbmVkRGlzdGFuY2VUbzJETGluZT1mdW5jdGlvbihlLHQscil7dmFyIG89clswXS1lWzBdLGk9clsxXS1lWzFdO3JldHVybiB0WzFdKm8tdFswXSppfSx0Lm9yaWVudDJEPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz1lWzBdLXJbMF0saT10WzBdLXJbMF0sbj1lWzFdLXJbMV07cmV0dXJuIG8qKHRbMV0tclsxXSktbippfSx0LmNsYW1wPWMsdC5zb3J0ZWRJbmRleD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wLG89ZS5sZW5ndGg7bz5yOyl7dmFyIGk9TWF0aC5mbG9vcigocitvKS8yKTt0PmVbaV0/cj1pKzE6bz1pfXJldHVybiBvfSx0LlBJMj1zLHQubGltaXRSYW5nZT1mdW5jdGlvbihlLHQscixpKXtpZihuLkNvbnNvbGVVdGlscy5hc3NlcnQoMj09PXQubGVuZ3RoKSxuLkNvbnNvbGVVdGlscy5hc3NlcnQodFswXTw9dFsxXSkscilyZXR1cm4gdFsxXS10WzBdPGkrby5GTE9BVDY0X1RPTEVSQU5DRT9bdFswXSx0WzFdXTooY29uc29sZS53YXJuKFwibGltaXRSYW5nZSA6IGluX2xpbWl0UmFuZ2UgbGVuZ3RoIGNhbm5vdCBiZSBncmVhdGVyIHRoYW4gaW5fcGVyaW9kXCIpLFt0WzBdLHRbMF0raV0pO3ZhciBzPU1hdGgubWF4KGVbMF0sdFswXSksYT1NYXRoLm1pbihlWzFdLHRbMV0pO3JldHVybiBzPmEmJihzPmErby5GTE9BVDY0X1RPTEVSQU5DRSYmY29uc29sZS53YXJuKFwibGltaXRSYW5nZSA6IHJlcXVlc3RlZCByYW5nZSBtdXN0IG92ZXJsYXAgaW5fb2xkUmFuZ2VcIikscz1hPXRbMF0+ZVsxXT9lWzFdOmVbMF0pLFtzLGFdfSx0LmdldFBsYW5lVHJhbnNmb3Jtcz1mdW5jdGlvbihlKXt2YXIgdCxyLGk9ZS5ldmFsdWF0ZUR1KDAsMCksbj1lLmV2YWx1YXRlRHYoMCwwKSxzPWUuZ2V0T3JpZ2luKCk7aWYoIW8uVmVjdG9yMy5pc1BhcmFsbGVsKGksWzEsMCwwXSwxKXx8IW8uVmVjdG9yMy5pc1BhcmFsbGVsKG4sWzAsMSwwXSwxKXx8TWF0aC5hYnMoc1syXSk+by5GTE9BVDY0X1RPTEVSQU5DRSl7dmFyIGE9ZS5ldmFsdWF0ZU5vcm1hbCgwLDApO3Q9by5NYXRyaXg0NC5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcyhpWzBdLGlbMV0saVsyXSwwLG5bMF0sblsxXSxuWzJdLDAsYVswXSxhWzFdLGFbMl0sMCxzWzBdLHNbMV0sc1syXSwxKSxyPW8uTWF0cml4NDQuY3JlYXRlRmxvYXQ2NCgpLG8uTWF0cml4NDQuaW52ZXJ0KHIsdCl9cmV0dXJue3V2VG9UaHJlZVNwYWNlOnQsdGhyZWVTcGFjZVRvVVY6cn19LHQuZGVmaW5lUGxhbmVUaHJvdWdoUG9pbnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIsbixzPVswLDAsMF0sYT1bMCwwLDBdO2lmKCEoZS5sZW5ndGg8Mykpe3ZhciBjPVswLDAsMF07Zm9yKHQ9MDt0PGUubGVuZ3RoOysrdClvLlZlY3RvcjMuYWRkKGMsYyxlW3RdKTtvLlZlY3RvcjMuc2NhbGUoYyxjLDEvZS5sZW5ndGgpO3ZhciBsPVswLDAsMF07cj0wO3ZhciBoPTAsZD0wO2Zvcih0PTA7dDxlLmxlbmd0aDsrK3QpeyhuPW8uVmVjdG9yMy5zcXVhcmVkRGlzdGFuY2UoYyxlW3RdKSk+ZCYmKGQ9bixoPXQpLChuLz0xMDApPnImJihyPW4sby5WZWN0b3IzLnN1YihsLGVbdF0sYykpO3ZhciBwPSh0KzEpJWUubGVuZ3RoOyhuPW8uVmVjdG9yMy5zcXVhcmVkRGlzdGFuY2UoZVt0XSxlW3BdKSk+ciYmKHI9bixvLlZlY3RvcjMuc3ViKGwsZVtwXSxlW3RdKSl9aWYoIShkPGkuS0VSTkVMX1RPTEVSQU5DRSppLktFUk5FTF9UT0xFUkFOQ0UpKXtvLlZlY3RvcjMubm9ybWFsaXplKGwsbCk7dmFyIGc9WzAsMCwwXTtmb3Iocj0wLHQ9MDt0PGUubGVuZ3RoOysrdClvLlZlY3RvcjMuc3ViKHMsZVt0XSxjKSxvLlZlY3RvcjMuY3Jvc3MocyxzLGwpLChuPW8uVmVjdG9yMy5zcXVhcmVkTGVuZ3RoKHMpKT5yJiYocj1uLG8uVmVjdG9yMy5jb3B5KGcscykpO2lmKCEocjxpLktFUk5FTF9UT0xFUkFOQ0UqaS5LRVJORUxfVE9MRVJBTkNFKSl7by5WZWN0b3IzLm5vcm1hbGl6ZShnLGcpO3ZhciBmPWVbaF0sdj1lW3UoaC0xLGUubGVuZ3RoKV0sXz1lW3UoaCsxLGUubGVuZ3RoKV07by5WZWN0b3IzLnN1YihzLHYsZiksby5WZWN0b3IzLnN1YihhLF8sZiksby5WZWN0b3IzLmRvdChvLlZlY3RvcjMuY3Jvc3MoYSxhLHMpLGcpPDAmJm8uVmVjdG9yMy5uZWdhdGUoZyxnKTt2YXIgeT1bMCwwLDBdO28uVmVjdG9yMy5jcm9zcyh5LGcsbCksby5WZWN0b3IzLm5vcm1hbGl6ZSh5LHkpO3ZhciBtPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxFPU51bWJlci5ORUdBVElWRV9JTkZJTklUWSx4PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxSPU51bWJlci5ORUdBVElWRV9JTkZJTklUWTtmb3IodD0wO3Q8ZS5sZW5ndGg7Kyt0KXtvLlZlY3RvcjMuc3ViKHMsZVt0XSxjKTt2YXIgQT1vLlZlY3RvcjMuZG90KHMsbCksUD1vLlZlY3RvcjMuZG90KHMseSk7bT1NYXRoLm1pbihtLEEpLEU9TWF0aC5tYXgoRSxBKSx4PU1hdGgubWluKHgsUCksUj1NYXRoLm1heChSLFApfXJldHVybntvcmlnaW46Yyxub3JtYWw6Zyx1QXhpczpsLHZBeGlzOnksdVJhbmdlOlttLEVdLHZSYW5nZTpbeCxSXX19fX19fSw1NDE2OihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlNwbGluZUN1cnZlSGVscGVyPXZvaWQgMDt2YXIgbz1yKDE5NzIpLGk9cigyNDY4KSxuPXIoNTg5Nikscz1yKDYxMjApLGE9cigzODg4KSxjPXIoNDgpLHU9cig1ODU2KSxsPWZ1bmN0aW9uKCl7fTtsLmdldEFwcHJveEJlemllclBhcmFtZXRlclNwYWNlVG9sZXJhbmNlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5nZXREaWFnb25hbCgpLG49Mip0L28uVmVjdG9yMy5sZW5ndGgocik7cmV0dXJuIG48LjAxKmkuUEFSQU1FVEVSX1NQQUNFX1RPTEVSQU5DRT8uMDEqaS5QQVJBTUVURVJfU1BBQ0VfVE9MRVJBTkNFOm59O2wuc29sdmVfY3ViaWNfdW5pcXVlUm9vdHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lWzJdKmVbMl0tMyplWzFdLG89ZVsyXSooMiplWzJdKmVbMl0tOSplWzFdKSsyNyplWzBdO2lmKDA9PT1vJiYwPT09cilyZXR1cm4gdFswXT0tZVsyXS8zLDE7aWYobypvLzQ8cipyKnIpe3ZhciBpPS0yKk1hdGguc3FydChyKSxuPU1hdGguYWNvcygtby8ocippKSk7cmV0dXJuIHRbMF09KGkqTWF0aC5jb3Mobi8zKS1lWzJdKS8zLHRbMV09KGkqTWF0aC5jb3MoKG4rMipNYXRoLlBJKS8zKS1lWzJdKS8zLHRbMl09KGkqTWF0aC5jb3MoKG4tMipNYXRoLlBJKS8zKS1lWzJdKS8zLDN9dmFyIHM9TWF0aC5wb3coTWF0aC5hYnMobykvMitNYXRoLnNxcnQobypvLzQtcipyKnIpLDEvMykvMztyZXR1cm4gbz4wJiYocz0tcyksdFswXT1zK3IvKDkqcyktZVsyXS8zLDF9O3ZhciBoPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gNiooKDEtcikqKGVbNit0XS0yKmVbMyt0XStlW3RdKStyKihlWzkrdF0tMiplWzYrdF0rZVszK3RdKSl9LGQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gNiooZVs5K3RdLWVbdF0rMyooZVszK3RdLWVbNit0XSkpfSxwPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IEFycmF5KDMpOyFmdW5jdGlvbihlLHQscil7clswXT0zKihlWzMrdF0tZVt0XSksclsxXT02KihlW3RdK2VbNit0XS0yKmVbMyt0XSksclsyXT0zKihlWzkrdF0tZVt0XSszKihlWzMrdF0tZVs2K3RdKSl9KGUsdCxyKTt2YXIgbyxpPW5ldyBBcnJheSgyKSxuPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZVsxXSplWzFdLTQqZVsyXSplWzBdO2lmKHI8MClyZXR1cm4gMDtpZigwPT09cilyZXR1cm4gdFswXT0tLjUqZVsxXS9lWzJdLDE7dmFyIG89ZVsxXT4wPy0uNSooZVsxXStNYXRoLnNxcnQocikpOi0uNSooZVsxXS1NYXRoLnNxcnQocikpO3JldHVybiB0WzBdPW8vZVsyXSx0WzFdPWVbMF0vbywyfShyLGkpOzI9PT1uJiZpWzBdPmlbMV0mJihvPWlbMF0saVswXT1pWzFdLGlbMV09byk7Zm9yKHZhciBzPVtdLGE9MDthPG47YSsrKWlbYV0+MCYmaVthXTwxJiYoKG89TWF0aC5hYnMoaChlLHQsaVthXSkpPDFlLTEyKT8obz1NYXRoLmFicyhkKGUsdCkpPDFlLTEyKSYmcy5wdXNoKGlbYV0pOnMucHVzaChpW2FdKSk7cmV0dXJuIHN9LGc9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlK3RbMF0rdFsxXSpyK3RbMl0qcipyK3RbM10qcipyKnJ9O2wuaW50ZXJzZWN0X3hBeGlzX05vblJhdGlvbmFsQ3ViaWNCU3BsaW5lX1hZUGxhbmFyM0Q9ZnVuY3Rpb24oZSx0LHIsbyl7dmFyIG49bmV3IEZsb2F0NjRBcnJheSg0KSxzPW5ldyBGbG9hdDY0QXJyYXkoNCk7blswXT10WzBdLWVbMF0sblsxXT0zKih0WzNdLXRbMF0pLG5bMl09MyoodFswXSt0WzZdLTIqdFszXSksblszXT10WzldLXRbMF0rMyoodFszXS10WzZdKSxzWzBdPXRbMV0tZVsxXSxzWzFdPTMqKHRbNF0tdFsxXSksc1syXT0zKih0WzFdK3RbN10tMip0WzRdKSxzWzNdPXRbMTBdLXRbMV0rMyoodFs0XS10WzddKTt2YXIgYSxjPXM7aWYoTWF0aC5hYnMoY1szXSk+MWUtNCljWzBdLz1jWzNdLGNbMV0vPWNbM10sY1syXS89Y1szXSxjWzNdPTEsYT10aGlzLnNvbHZlX2N1YmljX3VuaXF1ZVJvb3RzKGMscik7ZWxzZXt2YXIgbD1bXS5zbGljZS5jYWxsKGMpLnJldmVyc2UoKTswPT09bFswXSYmKGw9bC5zbGljZSgxKSk7dmFyIGg9KDAsdS5nZXRSZWFsUG9seW5vbWlhbFJvb3RzKShsKTthPWgubGVuZ3RoO2Zvcih2YXIgZD0wO2Q8YTtkKyspcltkXT1oW2RdfWlmKDE9PT1hKXJldHVybihmPXJbMF0pPDB8fGY+MT8wOihyWzBdPWcoZVswXSxuLGYpLDEpO2Q9MDtmb3IodmFyIHA9MDtwPGE7KytwKShmPXJbcF0pPj0wJiZmPD0xJiYocltkXT1nKGVbMF0sbixmKSwrK2QpO2lmKHZvaWQgMCE9PW8pe3ZhciBmLHY7aWYoTWF0aC5hYnMoc1szXSk8MWUtMTIpTWF0aC5hYnMoc1syXSk8MWUtMTI/dj0tMTooZj0tc1sxXS8oMipzWzJdKSx2PTApO2Vsc2V7dmFyIF89Mi8zKnNbMl0vc1szXTt2PV8qXy80LTEvMypzWzFdL3NbM10sZj0tXy8yfWlmKDA9PT12KWlmKGY8MHx8Zj4xKXt2YXIgeT1nKGVbMF0scywwKSxtPWcoZVswXSxzLDEpO01hdGguYWJzKHkpPk1hdGguYWJzKG0pP28ucHVzaChbZyhlWzBdLG4sMCkseV0pOm8ucHVzaChbZyhlWzBdLG4sMSksbV0pfWVsc2Ugby5wdXNoKFtnKGVbMF0sbixmKSxnKGVbMF0scyxmKV0pO2Vsc2UgaWYodj4wKXtmb3IocD0wO3A8MjtwKyspKGY9LV8vMisoMD09PXA/LTE6MSkqTWF0aC5zcXJ0KHYpKTwtaS5QQVJBTUVURVJfU1BBQ0VfVE9MRVJBTkNFfHxmPjEraS5QQVJBTUVURVJfU1BBQ0VfVE9MRVJBTkNFfHwoZj1NYXRoLm1heChNYXRoLm1pbigxLGYpLDApLG8ucHVzaChbZyhlWzBdLG4sZiksZyhlWzBdLHMsZildKSk7aWYoby5sZW5ndGg+MSYmb1swXVswXT5vWzFdWzBdKXt2YXIgRT1vWzBdO29bMF09b1sxXSxvWzFdPUV9fX1yZXR1cm4gZH0sbC5pc1BvaW50SW5zaWRlU3BsaW5lUmVnaW9uWFlQbGFuYXIzRD1mdW5jdGlvbihlLHQscil7dmFyIGkscyxhPW5ldyBGbG9hdDY0QXJyYXkoMyksYz10LmdldEJlemllclNlZ21lbnRzKCk7aWYodC5pc1JhdGlvbmFsKCl8fCFjfHwzIT09dC5nZXREZWdyZWUoKSl7Zm9yKHZhciB1PXQudGVzc2VsbGF0ZSgpLnBvc2l0aW9ucyxsPW5ldyBGbG9hdDY0QXJyYXkoMip1Lmxlbmd0aCksaD0wO2g8dS5sZW5ndGg7KytoKWxbMipoXT11W2hdLngsbFsyKmgrMV09dVtoXS55O3JldHVybigwLG4uaXNQb2ludEluc2lkZVBvbHlnb24yRCkoZSxsKX12YXIgZCxwPTAsZz1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpO2ZvcihoPTA7aDxjLmxlbmd0aDsrK2gpe3M9Y1toXS5nZXRDb250cm9sUG9pbnRzKCksaT10aGlzLmludGVyc2VjdF94QXhpc19Ob25SYXRpb25hbEN1YmljQlNwbGluZV9YWVBsYW5hcjNEKGUscyxhKTtmb3IodmFyIGY9MDtmPGk7KytmKW8uVmVjdG9yMy5zZXQoZyxhW2ZdLGVbMV0sMCksKGQ9dC5jbG9zZXN0VG9Qb2ludFBhcmFtKGcpKT49clswXSYmZDw9clsxXSYmYVtmXT5lWzBdJiYrK3B9dmFyIHY9dC5ldmFsdWF0ZVBvc2l0aW9uKHJbMF0pLF89dC5ldmFsdWF0ZVBvc2l0aW9uKHJbMV0pLHk9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtvLlZlY3RvcjMubm9ybWFsaXplKHksby5WZWN0b3IzLnN1Yih5LF8sdikpLHlbMV08MCYmby5WZWN0b3IzLm5lZ2F0ZSh5LHkpO3ZhciBtPW8uVmVjdG9yMi5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcyhlWzBdLGVbMV0pO3JldHVybigwLG4uc2lnbmVkRGlzdGFuY2VUbzJETGluZSkodix5LG0pPD0wJiZlWzFdPj1NYXRoLm1pbih2WzFdLF9bMV0pJiZlWzFdPD1NYXRoLm1heCh2WzFdLF9bMV0pJiYrK3AsMSZwfSxsLmluc2VydEtub3Q9ZnVuY3Rpb24oZSx0LHIsbyxpKXt2YXIgbixzLGMsdT1bXSxsPVtdLGg9W10sZD1yLmxlbmd0aC80LHA9ZCtlKzEsZz0oMCxhLmZpbmRLbm90U3BhbkFuZE11bHRpcGxpY2l0eSkobyx0KSxmPWktZy5tdWx0aXBsaWNpdHk7aWYoZjwxKXJldHVybntVOnU9dC5zbGljZSgpLFB3Omw9ci5zbGljZSgpfTtmb3Iobj0wO248PWcuc3BhbjsrK24pdVtuXT10W25dO2ZvcihuPTE7bjw9ZjsrK24pdVtnLnNwYW4rbl09bztmb3Iobj1nLnNwYW4rMTtuPHA7KytuKXVbbitmXT10W25dO2ZvcihuPTA7bjw9Zy5zcGFuLWU7KytuKWZvcihzPTA7czw0OysrcylsWzQqbitzXT1yWzQqbitzXTtmb3Iobj1nLnNwYW4tZy5tdWx0aXBsaWNpdHk7bjxkOysrbilmb3Iocz0wO3M8NDsrK3MpbFs0KihuK2YpK3NdPXJbNCpuK3NdO2ZvcihuPTA7bjw9ZS1nLm11bHRpcGxpY2l0eTsrK24pZm9yKHM9MDtzPDQ7KytzKWhbNCpuK3NdPXJbNCooZy5zcGFuLWUrbikrc107Zm9yKHZhciB2PTE7djw9ZjsrK3Ype2ZvcihjPWcuc3Bhbi1lK3Ysbj0wO248PWUtdi1nLm11bHRpcGxpY2l0eTsrK24pe3ZhciBfPShvLXRbYytuXSkvKHRbbitnLnNwYW4rMV0tdFtjK25dKTtmb3Iocz0wO3M8NDsrK3MpaFs0Km4rc109aFs0KihuKzEpK3NdKl8raFs0Km4rc10qKDEtXyl9Zm9yKHM9MDtzPDQ7KytzKWxbNCpjK3NdPWhbc10sbFs0KihnLnNwYW4rZi12LWcubXVsdGlwbGljaXR5KStzXT1oWzQqKGUtdi1nLm11bHRpcGxpY2l0eSkrc119Zm9yKG49YysxO248Zy5zcGFuLWcubXVsdGlwbGljaXR5Oysrbilmb3Iocz0wO3M8NDsrK3MpbFs0Km4rc109aFs0KihuLWMpK3NdO3JldHVybntVOnUsUHc6bH19LGwucmVmaW5lS25vdFZlY3Rvcj1mdW5jdGlvbihlLHQscixvKXt2YXIgbixzLGM9W10sdT1bXSxsPXIubGVuZ3RoLzQtMSxoPW8ubGVuZ3RoLTEsZD1sK2UrMSxwPSgwLGEuZmluZEtub3RTcGFuKShvWzBdLHQpLGc9KDAsYS5maW5kS25vdFNwYW4pKG9baF0sdCkrMTtmb3Iobj0wO248PXAtZTsrK24pZm9yKHM9MDtzPDQ7KytzKXVbNCpuK3NdPXJbNCpuK3NdO2ZvcihuPWctMTtuPD1sOysrbilmb3Iocz0wO3M8NDsrK3MpdVs0KihuK2grMSkrc109cls0Km4rc107Zm9yKG49MDtuPD1wOysrbiljW25dPXRbbl07Zm9yKG49ZytlO248PWQ7KytuKWNbbitoKzFdPXRbbl07dmFyIGY9ZytlLTEsdj1nK2UraDtmb3Iobj1oO24+PTA7LS1uKXtmb3IoO29bbl08PXRbZl0mJmY+cDspe2ZvcihzPTA7czw0Oysrcyl1WzQqKHYtZS0xKStzXT1yWzQqKGYtZS0xKStzXTtjW3ZdPXRbZl0sLS12LC0tZn1mb3Iocz0wO3M8NDsrK3MpdVs0Kih2LWUtMSkrMV09dVs0Kih2LWUpK3NdO2Zvcih2YXIgXz0xO188PWU7KytfKXt2YXIgeT12LWUrXyxtPWNbditfXS1vW25dO2lmKE1hdGguYWJzKG0pPGkuS0VSTkVMX1RPTEVSQU5DRSlmb3Iocz0wO3M8NDsrK3MpdVs0Kih5LTEpK3NdPXVbNCp5K3NdO2Vsc2UgZm9yKG0vPWNbditfXS10W2YtZStfXSxzPTA7czw0Oysrcyl1WzQqKHktMSkrc109dVs0Kih5LTEpK3NdKm0rdVs0Knkrc10qKDEtbSl9Y1t2XT1vW25dLC0tdn1yZXR1cm57VTpjLFB3OnV9fTt2YXIgZj1mdW5jdGlvbihlLHQscixpKXt2YXIgcz0oMCxuLnByb2plY3RQb2ludFRvTGluZVNlZ21lbnQpKHQscixlKTtyZXR1cm4gaSYmKHM9KDAsbi5jbGFtcCkocywwLDEpKSxvLlZlY3RvcjMubGVycChvLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLHQscixzKX07bC52YWxpZENvbnRyb2xQb2x5Z29uPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmxlbmd0aC8zLHI9ZS5sZW5ndGgsaT1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLG49by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSxzPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCksYT0zLGM9MTtjPHQtMTsrK2Mpe28uVmVjdG9yMy5zZXQoaSxlW2FdLGVbYSsxXSxlW2ErMl0pLG8uVmVjdG9yMy5zZXQobixlW2EtM10sZVthLTJdLGVbYS0xXSksby5WZWN0b3IzLnNldChzLGVbYSszXSxlW2ErNF0sZVthKzVdKTt2YXIgdT1mKGksbixzLCExKTtpZihvLlZlY3RvcjMuc3ViKGksaSx1KSxjPHQvMj9vLlZlY3RvcjMuc3ViKG4sW2Vbci0zXSxlW3ItMl0sZVtyLTFdXSx1KTpvLlZlY3RvcjMuc3ViKG4sW2VbMF0sZVsxXSxlWzJdXSx1KSxvLlZlY3RvcjMuZG90KGksbik+MClyZXR1cm4hMTthKz0zfXJldHVybiEwfTt2YXIgdixfLHksbSxFLHgsUixBLFAsVixULGIsQz1mdW5jdGlvbihlKXtpZihlKWZvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7Kyt0KWlmKE1hdGguYWJzKGVbdF0tMSk+by5GTE9BVDY0X1RPTEVSQU5DRSlyZXR1cm4hMDtyZXR1cm4hMX0sTz0odj1uZXcgRmxvYXQ2NEFycmF5KDQpLF89bmV3IEZsb2F0NjRBcnJheSg0KSx5PW5ldyBGbG9hdDY0QXJyYXkoNCksbT1uZXcgRmxvYXQ2NEFycmF5KDE2KSxmdW5jdGlvbihlLHQscixvLGkpe3ZhciBuLHMsYSxjLHUsbCxoPTEtcjtpZih2WzBdPWgqaCpoLHZbMV09MypyKmgqaCx2WzJdPTMqcipyKmgsdlszXT1yKnIqcixfWzBdPS0zKmgqaCxfWzFdPTMqKHItMSkqKDMqci0xKSxfWzJdPTMqciooMi0zKnIpLF9bM109MypyKnIseVswXT02KmgseVsxXT02KigzKnItMikseVsyXT02KigxLTMqcikseVszXT02KnIsdm9pZCAwPT09aT9DKHQpOmkpe2Zvcih2YXIgZD0wO2Q8NDsrK2QpbVs0KmQrb109ZVszKmQrb10qdFtkXSxtWzQqZCszXT10W2RdO2ZvcihuPW1bb10qdlswXSxzPW1bb10qX1swXSxhPW1bb10qeVswXSxkPTE7ZDw0OysrZCluKz1tWzQqZCtvXSp2W2RdLHMrPW1bNCpkK29dKl9bZF0sYSs9bVs0KmQrb10qeVtkXTtmb3IoYz1tWzNdKnZbMF0sdT1tWzNdKl9bMF0sbD1tWzNdKnlbMF0sZD0xO2Q8NDsrK2QpYys9bVs0KmQrM10qdltkXSx1Kz1tWzQqZCszXSpfW2RdLGwrPW1bNCpkKzNdKnlbZF07bi89YyxzLz11LGEvPWx9ZWxzZSBmb3Iobj1lW29dKnZbMF0scz1lW29dKl9bMF0sYT1lW29dKnlbMF0sZD0xO2Q8NDsrK2Qpbis9ZVszKmQrb10qdltkXSxzKz1lWzMqZCtvXSpfW2RdLGErPWVbMypkK29dKnlbZF07cmV0dXJuW24scyxhXX0pLEw9ZnVuY3Rpb24oZSx0LHIsbyl7dmFyIGk9bztpWzBdPXJbMF0tdFswXSxpWzFdPXJbMV0tdFsxXTt2YXIgbj1pWzBdKmlbMF0raVsxXSppWzFdLHM9KGVbMF0tdFswXSkqaVswXSsoZVsxXS10WzFdKSppWzFdO2lmKDA9PT1ufHxzPD0wKW9bMF09ZVswXS10WzBdLG9bMV09ZVsxXS10WzFdLG9bMV09b1swXSpvWzBdK29bMV0qb1sxXSxvWzBdPTA7ZWxzZSBpZihzPm4pb1swXT1lWzBdLXJbMF0sb1sxXT1lWzFdLXJbMV0sb1sxXT1vWzBdKm9bMF0rb1sxXSpvWzFdLG9bMF09MTtlbHNle3ZhciBhPXMvbjtvWzBdPXRbMF0rYSppWzBdLWVbMF0sb1sxXT10WzFdK2EqaVsxXS1lWzFdLG9bMV09b1swXSpvWzBdK29bMV0qb1sxXSxvWzBdPWF9fSxTPWZ1bmN0aW9uKGUsdCxyLG8pe3ZhciBpPW87aVswXT1yWzBdLXRbMF0saVsxXT1yWzFdLXRbMV0saVsyXT1yWzJdLXRbMl07dmFyIG49aVswXSppWzBdK2lbMV0qaVsxXStpWzJdKmlbMl0scz0oZVswXS10WzBdKSppWzBdKyhlWzFdLXRbMV0pKmlbMV0rKGVbMl0tdFsyXSkqaVsyXTtpZigwPT09bnx8czw9MClvWzBdPWVbMF0tdFswXSxvWzFdPWVbMV0tdFsxXSxvWzJdPWVbMl0tdFsyXSxvWzFdPW9bMF0qb1swXStvWzFdKm9bMV0rb1sxXSpvWzFdLG9bMF09MDtlbHNlIGlmKHM+bilvWzBdPWVbMF0tclswXSxvWzFdPWVbMV0tclsxXSxvWzJdPWVbMl0tclsyXSxvWzFdPW9bMF0qb1swXStvWzFdKm9bMV0rb1sxXSpvWzFdLG9bMF09MTtlbHNle3ZhciBhPXMvbjtvWzBdPXRbMF0rYSppWzBdLWVbMF0sb1sxXT10WzFdK2EqaVsxXS1lWzFdLG9bMl09dFsyXSthKmlbMl0tZVsyXSxvWzFdPW9bMF0qb1swXStvWzFdKm9bMV0rb1syXSpvWzJdLG9bMF09YX19O2wuY2xvc2VzdFN0YXJ0UG9pbnQ9KFA9bmV3IEZsb2F0NjRBcnJheSgzKSxWPW5ldyBGbG9hdDY0QXJyYXkoMyksVD1uZXcgRmxvYXQ2NEFycmF5KDMpLGI9bmV3IEZsb2F0NjRBcnJheSgyKSxmdW5jdGlvbihlLHQscixvKXtpZihyKWZvcihiWzBdPTAsYlsxXT0xLzAsUj10LnBvaW50cy5sZW5ndGgsQT0wO0E8Ui0zO0ErPTMpUFswXT10LnBvaW50c1tBXSxQWzFdPXQucG9pbnRzW0ErMV0sVlswXT10LnBvaW50c1tBKzNdLFZbMV09dC5wb2ludHNbQSs0XSxMKGUsUCxWLFQpLFRbMV08YlsxXSYmKEU9QS8zLHg9KDEtVFswXSkqdC5vZmZzZXRbRV0rVFswXSp0Lm9mZnNldFtFKzFdLCghb3x8eD49b1swXSYmeDw9b1sxXSkmJihiWzBdPXgsYlsxXT1UWzFdKSk7ZWxzZSBmb3IoYlsxXT0xLzAsUj10LnBvaW50cy5sZW5ndGgsQT0wO0E8Ui0zO0ErPTMpUFswXT10LnBvaW50c1tBXSxQWzFdPXQucG9pbnRzW0ErMV0sUFsyXT10LnBvaW50c1tBKzJdLFZbMF09dC5wb2ludHNbQSszXSxWWzFdPXQucG9pbnRzW0ErNF0sVlsyXT10LnBvaW50c1tBKzVdLFMoZSxQLFYsVCksVFsxXTxiWzFdJiYoRT1BLzMseD0oMS1UWzBdKSp0Lm9mZnNldFtFXStUWzBdKnQub2Zmc2V0W0UrMV0sKCFvfHx4Pj1vWzBdJiZ4PD1vWzFdKSYmKGJbMF09eCxiWzFdPVRbMV0pKTtyZXR1cm4gYlswXX0pLGwuZXh0cmVtYWxQYXJhbXM9ZnVuY3Rpb24oZSx0KXtpZigzIT09ZS5nZXREZWdyZWUoKSlyZXR1cm4gcy5EZWJ1Z1V0aWxzLndhcm4oXCJTcGxpbmVDdXJ2ZUhlbHBlci5leHRyZW1hbFBhcmFtcyBjYWxsZWQgd2l0aCBub24tZGVncmVlIDMgY3VydmVcIiksW107dmFyIHIsbixhPWUuZ2V0QmV6aWVyU2VnbWVudHMoKSxjPVtdO2ZvcihyPTA7cjxhLmxlbmd0aDsrK3Ipe3ZhciB1PWFbcl0uZ2V0Q29udHJvbFBvaW50cygpLGg9YVtyXS5nZXRXZWlnaHRzKCksZD1hW3JdLmdldEtub3RWZWN0b3IoKSxwPWwuZXh0cmVtYWxQYXJhbXNYWVBsYW5hckJlemllckN1cnZlKHUsaCx0KSxnPVtdO2ZvcihuPTA7bjxwLmxlbmd0aDtuKyspZy5wdXNoKGRbMF0qKDEtcFtuXSkrZFtkLmxlbmd0aC0xXSpwW25dKTtjLnB1c2goZyl9dmFyIGY9W107Zm9yKHI9MDtyPGEubGVuZ3RoOysrcilpZihmPWYuY29uY2F0KGNbcl0pLHI8YS5sZW5ndGgtMXx8ZS5pc1BlcmlvZGljVW5saW1pdGVkKCkpe3ZhciB2PWFbcl0sXz1hWyhyKzEpJWEubGVuZ3RoXSx5PWNbcl0sbT1jWyhyKzEpJWEubGVuZ3RoXSxFPXYuZ2V0UmFuZ2VVbmxpbWl0ZWQoKVsxXSx4PV8uZ2V0UmFuZ2VVbmxpbWl0ZWQoKVswXSxSPTA9PT15Lmxlbmd0aHx8RS15W3kubGVuZ3RoLTFdPmkuUEFSQU1FVEVSX1NQQUNFX1RPTEVSQU5DRSxBPTA9PT1tLmxlbmd0aHx8bVswXS14PmkuUEFSQU1FVEVSX1NQQUNFX1RPTEVSQU5DRTtpZihSJiZBKXt2YXIgUD12LmV2YWx1YXRlRHQoRSlbdF0sVj1fLmV2YWx1YXRlRHQoeClbdF07KE1hdGguYWJzKFApPG8uRkxPQVQ2NF9UT0xFUkFOQ0V8fE1hdGguYWJzKFYpPG8uRkxPQVQ2NF9UT0xFUkFOQ0V8fE1hdGguc2lnbihQKSE9PU1hdGguc2lnbihWKSkmJmYucHVzaChFKX19cmV0dXJuIGZ9LGwuZXh0cmVtYWxQYXJhbXNYWVBsYW5hckJlemllckN1cnZlPWZ1bmN0aW9uKGUsdCxyLG8saSl7dmFyIG49Qyh0KTtpZighbilyZXR1cm4gaD1wKGUscik7Zm9yKHZhciBzLGEsYz0xZS02LHU9b3x8MTYsbD1pfHwxZS0xMixoPVtdLGQ9dm9pZCAwLGc9MDtnPDg7ZysrKXtpZihhPU8oZSx0LGcvNyxyLG4pLHZvaWQgMCE9PWQmJk1hdGguc2lnbihhWzFdKSE9PWQpe3ZhciBmPShnLTErTWF0aC5hYnMocykvKE1hdGguYWJzKGFbMV0pK01hdGguYWJzKHMpKSkvNztoLnB1c2goZil9ZD1NYXRoLnNpZ24oYVsxXSkscz1hWzFdfTA9PT1oLmxlbmd0aCYmKGhbMF09MCtsLGhbMV09MS1sKSxoLmxlbmd0aD4yJiZjb25zb2xlLmVycm9yKFwiTW9yZSB0aGFuIHR3byByb290cyBpbiB0aGUgc2Vjb25kIGRlcml2YXRpdmUgb2YgYSBjdWJpYyBwb2x5bm9taWFsLiBUaGlzIHNob3VsZCBub3QgaGFwcGVuLlwiKTt2YXIgdixfLHksbT1bXSxFPVtdO2ZvcihnPTA7ZzxoLmxlbmd0aDtnKyspe3ZhciB4PTA7ZG97Kyt4LHk9MCE9PShhPU8oZSx0LGhbZ10scixuKSlbMl0/aFtnXS1hWzFdL2FbMl06aFtnXSx2PU1hdGguYWJzKGFbMV0pLF89TWF0aC5hYnMoaFtnXS15KSxoW2ddPXl9d2hpbGUoKHY+bHx8Xz5jKSYmeDx1KTttW2ddPXYsRVtnXT1hWzJdfWZvcihnPTA7ZzxoLmxlbmd0aDtnKyspaWYoaFtnXTwwfHxoW2ddPjF8fG1bZ10+bCloLnNwbGljZShnLDEpLGctLTtlbHNlIGlmKE1hdGguYWJzKEVbZ10pPGMpe3ZhciBSPShPKGUsdCxoW2ddKzVlLTcscixuKVsyXS1PKGUsdCxoW2ddLTVlLTcscixuKVsyXSkvYztNYXRoLmFicyhSKT5jJiYoaC5zcGxpY2UoZywxKSxnLS0pfWlmKDI9PT1oLmxlbmd0aCl7aWYoTWF0aC5hYnMoaFswXS1oWzFdKTxjKXt2YXIgQT1tWzBdLyhtWzBdK21bMV0pO3JldHVybltoWzBdKigxLUEpK2hbMV0qQV19cmV0dXJuIGh9cmV0dXJuIGh9LGwuZXZhbHVhdGVOVVJCU0N1cnZlUG9pbnRXaXRoRmFjdG9ycz1mdW5jdGlvbihlLHQscixvLGksbil7dmFyIHMsdSxsLGg9KDAsYS5maW5kS25vdFNwYW4pKGksdCksZD0oMCxjLmV2YWx1YXRlQmFzaXNGdW5jdGlvbnMpKGgsaSxlLHQpLHA9bmV3IEZsb2F0NjRBcnJheSgzKSxnPTAsZj0zKihoLWUpO2ZvcihuLnJhbmdlTWluPWgtZSxuLnJhbmdlTWF4PWgsdT0wO3U8PWU7Kyt1KXtmb3Iocz1vW2gtZSt1XSpkW3VdLG4uZmFjdG9yc1t1XT1zLGw9MDtsPDM7KytsKXBbbF0rPXJbZitsXSpzO2crPXMsZis9M31mb3IodT0wO3U8MzsrK3UpcFt1XS89Zztmb3IodT0wO3U8PWU7Kyt1KW4uZmFjdG9yc1t1XS89ZztyZXR1cm4gcH07dmFyIE09ZnVuY3Rpb24oZSx0LHIsaSxuLHMsYSx1LGgsZCxwLGcsdil7dmFyIF89LjUqKHIrbikseT0oMCxjLmV2YWx1YXRlQkN1cnZlUG9pbnQpKF8sZSx0LGEsaD91OnZvaWQgMCk7aWYoZz52KXAucHVzaCh7b2Zmc2V0Ol8scG9pbnQ6eX0pO2Vsc2V7dmFyIG09Zih5LGkscywhMSksRT1vLlZlY3RvcjMuc3F1YXJlZERpc3RhbmNlKHMsaSkseD1vLlZlY3RvcjMuc3F1YXJlZERpc3RhbmNlKG0seSk7bC52YWxpZENvbnRyb2xQb2x5Z29uKGEpJiZ4PGQqRT9wLnB1c2goe29mZnNldDpfLHBvaW50Onl9KTooTShlLHQscixpLF8seSxhLHUsaCxkLHAsZysxLHYpLE0oZSx0LF8seSxuLHMsYSx1LGgsZCxwLGcrMSx2KSl9fTtsLnJlbmRlck5VUkJTQ3VydmU9ZnVuY3Rpb24oZSx0LHIsbixzLGEsdSxsKXt2YXIgaD1hfHxpLkRFRkFVTFRfQ1VSVkVfUkVTT0xVVElPTixkPXV8fFt0WzBdLHRbdC5sZW5ndGgtMV1dO2w9dm9pZCAwPT09bHx8bDt2YXIgcCxnPUMobik7aWYocyl7dmFyIGYsdixfPVtdO2Y9KDAsYy5ldmFsdWF0ZUJDdXJ2ZVBvaW50KShkWzBdLGUsdCxyLGc/bjp2b2lkIDApLHY9KDAsYy5ldmFsdWF0ZUJDdXJ2ZVBvaW50KShkWzFdLGUsdCxyLGc/bjp2b2lkIDApLF8ucHVzaCh7b2Zmc2V0OmRbMF0scG9pbnQ6Zn0pLE0oZSx0LGRbMF0sZixkWzFdLHYscixuLGcsaS5TUExJTkVfRElTVEFOQ0VfVE9MRVJBTkNFLF8sMCw0KSxfLnB1c2goe29mZnNldDpkWzFdLHBvaW50OnZ9KSxwPW5ldyBBcnJheSg0Kl8ubGVuZ3RoKTtmb3IodmFyIHk9bD8wOjEsbT1sPzA6MTttPF8ubGVuZ3RoO20rKylwW3ldPV9bbV0ucG9pbnRbMF0scFt5KzFdPV9bbV0ucG9pbnRbMV0scFt5KzJdPV9bbV0ucG9pbnRbMl0scFt5KzNdPV9bbV0ub2Zmc2V0LHkrPTR9ZWxzZXtmb3IodmFyIEU9MCx4PTM7eDxyLmxlbmd0aDt4Kz0zKUUrPW8uVmVjdG9yMy5kaXN0YW5jZShbclt4LTNdLHJbeC0yXSxyW3gtMV1dLFtyW3hdLHJbeCsxXSxyW3grMl1dKTtmb3IoaD0xMCpNYXRoLnJvdW5kKEUpLGw/KHg9MCxwPW5ldyBGbG9hdDMyQXJyYXkoMypoKSk6KHg9MSxwPW5ldyBGbG9hdDMyQXJyYXkoMyooaC0xKSkpO3g8aDsrK3gpe3ZhciBSLEE9ZFswXSsoZFsxXS1kWzBdKSp4LyhoLTEpO1I9KDAsYy5ldmFsdWF0ZUJDdXJ2ZVBvaW50KShBLGUsdCxyLGc/bjp2b2lkIDApO2Zvcih2YXIgUD0zKngsVj0wO1Y8MzsrK1YpcFtQK1ZdPVJbVl19fXJldHVybiBwfSxsLmV2YWx1YXRlQ3VydmU9ZnVuY3Rpb24oZSx0LHIsbyxuLHMpe2lmKG4pe3ZhciBhPSgwLGMuZXZhbHVhdGVCQ3VydmVQb2ludCkodFswXSxlLHQscixvKSx1PSgwLGMuZXZhbHVhdGVCQ3VydmVQb2ludCkodFt0Lmxlbmd0aC0xXSxlLHQscixvKSxsPVtdO2wucHVzaCh7b2Zmc2V0OnRbMF0scG9pbnQ6YX0pLE0oZSx0LHRbMF0sYSx0W3QubGVuZ3RoLTFdLHUscixvLCEwLGkuU1BMSU5FX0RJU1RBTkNFX1RPTEVSQU5DRSxsLDAsMyksbC5wdXNoKHtvZmZzZXQ6dFt0Lmxlbmd0aC0xXSxwb2ludDp1fSk7Zm9yKHZhciBoPVtdLGQ9W10scD0wO3A8bC5sZW5ndGg7KytwKWgucHVzaChsW3BdLm9mZnNldCksZC5wdXNoKGxbcF0ucG9pbnRbMF0sbFtwXS5wb2ludFsxXSxsW3BdLnBvaW50WzJdKX1lbHNle3ZhciBnPXN8fC4wMSxmPXRbMF0sdj0wO2g9W10sZD1bXTtkb3t2YXIgXz0oMCxjLmV2YWx1YXRlQkN1cnZlUG9pbnQpKGYsZSx0LHIsbyk7aFt2XT1mO2ZvcihwPTA7cDwzOysrcClkWzMqditwXT1fW3BdOysrdixmKz1nfXdoaWxlKGY8PXRbdC5sZW5ndGgtMV0pfXJldHVybntvZmZzZXQ6aCxwb2ludHM6ZH19O3ZhciB3PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz1uZXcgRmxvYXQ2NEFycmF5KDIpO29bMF09clswXS10WzBdLG9bMV09clsxXS10WzFdO3ZhciBpPW9bMF0qb1swXStvWzFdKm9bMV07aWYoMD09PWkpcmV0dXJuIG9bMF09ZVswXS10WzBdLG9bMV09ZVsxXS10WzFdLG9bMF0qb1swXStvWzFdKm9bMV07dmFyIG49KGVbMF0tdFswXSkqb1swXSsoZVsxXS10WzFdKSpvWzFdO3JldHVybiBuPDA/KG9bMF09ZVswXS10WzBdLG9bMV09ZVsxXS10WzFdKTpuPmk/KG9bMF09ZVswXS1yWzBdLG9bMV09ZVsxXS1yWzFdKToobi89aSxvWzBdPXRbMF0rbipvWzBdLWVbMF0sb1sxXT10WzFdK24qb1sxXS1lWzFdKSxvWzBdKm9bMF0rb1sxXSpvWzFdfSxOPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbz0hMSxpPXQubGVuZ3RoO3I9MDtmb3IodmFyIG49aS0zO3I8aTtyKz0zKXRbcisxXT5lWzFdIT10W24rMV0+ZVsxXSYmZVswXTwodFtuXS10W3JdKSooZVsxXS10W3IrMV0pLyh0W24rMV0tdFtyKzFdKSt0W3JdJiYobz0hbyksbj1yO3JldHVybiBvfSxGPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLG89bmV3IEZsb2F0NjRBcnJheSgyKSxpPU51bWJlci5ORUdBVElWRV9JTkZJTklUWSxuPTA7bjx0Lmxlbmd0aDtuKz0zKW9bMF09dFtuXS1lWzBdLG9bMV09dFtuKzFdLWVbMV0sKHI9b1swXSpvWzBdK29bMV0qb1sxXSk+aSYmKGk9cik7cmV0dXJuIGl9LEk9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbyxpPXQubGVuZ3RoLG49bmV3IEZsb2F0NjRBcnJheSgyKSxzPW5ldyBGbG9hdDY0QXJyYXkoMiksYT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksYz0wO2M8aS0zO2MrPTMpblswXT10W2NdLG5bMV09dFtjKzFdLHNbMF09dFtjKzNdLHNbMV09dFtjKzRdLChvPXcoZSxuLHMpKTxhJiYoYT1vKTtyZXR1cm4gdm9pZCAwIT09ciYmciYmKG5bMF09dFtpLTNdLG5bMV09dFtpLTJdLHNbMF09dFswXSxzWzFdPXRbMV0sKG89dyhlLG4scykpPGEmJihhPW8pKSxhfTtsLmNsb3Nlc3RTZWdtZW50c1hZUGxhbmFyPWZ1bmN0aW9uKGUsdCxyLG8pe2Zvcih2YXIgaT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksbj1bXSxzPTA7czx0Lmxlbmd0aDsrK3Mpe3ZhciBhLGM9dFtzXSx1PWMuZ2V0UmFuZ2VVbmxpbWl0ZWQoKTtpZihvKXthPSExO2Zvcih2YXIgbD0wO2w8by5sZW5ndGg7KytsKWlmKHVbMV0+PW9bbF1bMF0mJnVbMF08PW9bbF1bMV0pe2E9ITA7YnJlYWt9fWVsc2UgYT0hMDtpZihhKXt2YXIgaCxkLHA9cj9yW3NdOjAsZz1jLmdldENvbnRyb2xQb2ludHMoKTtOKGUsZyk/aD0wOihoPUkoZSxnLCEwKSxoPU1hdGgubWF4KDAsaC1wKSksaDw9aSYmKGQ9RihlLGcpK3Asbi5wdXNoKHtpbmRleDpzLG1pbkRpc3RTcXI6aCxtYXhEaXN0U3FyOmR9KSxkPGkmJihpPWQpKX19dmFyIGY9W107Zm9yKHM9MDtzPG4ubGVuZ3RoOysrcyluW3NdLm1pbkRpc3RTcXI8PWkmJmYucHVzaChuW3NdKTtyZXR1cm4gZi5zb3J0KChmdW5jdGlvbihlLHQpe3ZhciByPWUubWluRGlzdFNxci10Lm1pbkRpc3RTcXI7cmV0dXJuIDA9PT1yP2UubWF4RGlzdFNxci10Lm1heERpc3RTcXI6cn0pKSxmfSxsLmZpbmRLbm90TXVsdGlwbGljaXR5PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTAsbz0wO288dC5sZW5ndGg7KytvKXtpZih0W29dPmUrMWUtOClyZXR1cm4gcjtNYXRoLmFicyh0W29dLWUpPDFlLTgmJnIrK31yZXR1cm4gcn0sbC51bmNsYW1wQ3VydmU9ZnVuY3Rpb24oZSx0LHIsbyl7dmFyIGksbixzLGEsYyx1PXIubGVuZ3RoLzQtMSxsPW98fDE7Zm9yKGk9MDtpPGUtMTsrK2kpZm9yKHRbZS1pLTFdPXRbZS1pXS0odFt1LWkrMV0tdFt1LWldKSpsLHM9ZS0xLG49aTtuPj0wOy0tbil7Zm9yKGE9KHRbZV0tdFtzXSkvKHRbZStuKzFdLXRbc10pLGM9MDtjPDQ7KytjKXJbNCpuK2NdPShyWzQqbitjXS1hKnJbNCoobisxKStjXSkvKDEtYSk7cy09MX1mb3IodFswXT10WzFdLSh0W3UtZSsyXS10W3UtZSsxXSkqbCxpPTA7aTxlLTE7KytpKWZvcih0W3UraSsyXT10W3UraSsxXSsodFtlK2krMV0tdFtlK2ldKSpsLG49aTtuPj0wOy0tbilmb3IoYT0odFt1KzFdLXRbdS1uXSkvKHRbdS1uK2krMl0tdFt1LW5dKSxjPTA7Yzw0OysrYylyWzQqKHUtbikrY109KHJbNCoodS1uKStjXS0oMS1hKSpyWzQqKHUtbi0xKStjXSkvYTt0W3UrZSsxXT10W3UrZV0rKHRbMiplXS10WzIqZS0xXSkqbH0sbC5leHRyYWN0Q3VydmVTZWdtZW50PWZ1bmN0aW9uKGUsdCxyLG8saSl7dmFyIG49dGhpcy5pbnNlcnRLbm90KGUsbyxpLHQsZSk7bj10aGlzLmluc2VydEtub3QoZSxuLlUsbi5QdyxyLGUpO3ZhciBzLGM9KDAsYS5maW5kS25vdFNwYW4pKHQsbi5VKTtmb3Ioby5sZW5ndGg9bi5VLmxlbmd0aC0oYy1lKSxvWzBdPXQscz0xO3M8by5sZW5ndGg7KytzKW9bc109bi5VW3MrYy1lXTt2YXIgdT1vLmxlbmd0aC1lLTEsbD00KihuLlB3Lmxlbmd0aC80LXUpO2ZvcihpLmxlbmd0aD1uLlB3Lmxlbmd0aC1sLHM9MDtzPGkubGVuZ3RoOysrcylpW3NdPW4uUHdbcytsXTtjPSgwLGEuZmluZEtub3RTcGFuKShyLG8pLG8ubGVuZ3RoPWMrMSxvLnB1c2gociksaS5sZW5ndGg9NCooby5sZW5ndGgtZS0xKX07dmFyIEQ9ZnVuY3Rpb24oZSx0LHIsbyl7Zm9yKHZhciBpPTAsbj0wO248NDsrK24paSs9KGVbdCtuXS1yW28rbl0pKihlW3Qrbl0tcltvK25dKTtyZXR1cm4gaT1NYXRoLnNxcnQoaSl9O2wucmVtb3ZlS25vdD1mdW5jdGlvbihlLHQscixvLG4pe2lmKHQ8PW9bMF18fHQ+PW9bby5sZW5ndGgtMV0pcmV0dXJuIDA7dmFyIHMsYyx1LGwsaCxkPVtdLHA9ZSsxLGc9KDAsYS5maW5kS25vdFNwYW5BbmRNdWx0aXBsaWNpdHkpKHQsbyk7aWYoZy5tdWx0aXBsaWNpdHk8MSlyZXR1cm4gMDtmb3IodmFyIGYsdixfLHksbT0oMipnLnNwYW4tZy5tdWx0aXBsaWNpdHktZSkvMixFPWkuS0VSTkVMX1RPTEVSQU5DRSx4PWcuc3Bhbi1nLm11bHRpcGxpY2l0eSxSPWcuc3Bhbi1lLEE9ITEsUD1bMCwwLDAsMF0sVj0wO1Y8cjsrK1Ype2ZvcihmPVItMSxoPTA7aDw0OysraClkWzAraF09bls0KmYraF0sZFs0Kih4KzEtZikraF09bls0Kih4KzEpK2hdO2ZvcihzPVIsYz14LHU9MSxsPXgtZixBPSExO2Mtcz5WOyl7Zm9yKHY9KHQtb1tzXSkvKG9bcytwK1ZdLW9bc10pLF89KHQtb1tjLVZdKS8ob1tjK3BdLW9bYy1WXSksaD0wO2g8NDsrK2gpZFs0KnUraF09KG5bNCpzK2hdLSgxLXYpKmRbNCoodS0xKStoXSkvdixkWzQqbCtoXT0obls0KmMraF0tXypkWzQqKGwrMSkraF0pLygxLV8pOysrcywrK3UsLS1jLC0tbH1pZihjLXM8VilEKGQsNCoodS0xKSxkLDQqKGwrMSkpPD1FJiYoQT0hMCk7ZWxzZXtmb3Iodj0odC1vW3NdKS8ob1tzK3ArVl0tb1tzXSksaD0wO2g8NDsrK2gpUFtoXT12KmRbNCoodStWKzEpK2hdKygxLXYpKmRbNCoodS0xKStoXTtEKG4sNCpzLFAsMCk8PUUmJihBPSEwKX1pZighQSlicmVhaztmb3Iocz1SLGM9eDtjLXM+Vjspe2ZvcihoPTA7aDw0OysraCluWzQqcytoXT1kWzQqKHMtZikraF0sbls0KmMraF09ZFs0KihjLWYpK2hdOysrcywtLWN9LS1SLCsreH1pZigwPT09VilyZXR1cm4gMDtmb3IoeT1nLnNwYW4rMTt5PG8ubGVuZ3RoOysreSlvW3ktVl09b1t5XTtmb3Ioby5sZW5ndGg9by5sZW5ndGgtVixzPWM9bSx5PTE7eTxWOysreSl5JTI9PTE/cys9MTpjLT0xO2Zvcih5PXMrMTt5PG4ubGVuZ3RoLzQ7Kyt5KXtmb3IoaD0wO2g8NDsrK2gpbls0KmMraF09bls0KnkraF07Yys9MX1yZXR1cm4gbi5sZW5ndGg9bi5sZW5ndGgtNCpWLFZ9LGwuam9pbkN1cnZlcz1mdW5jdGlvbihlLHQscixvLGkpe3ZhciBuLHM9dFt0Lmxlbmd0aC0xXTtmb3IodC5sZW5ndGg9dC5sZW5ndGgtMSxuPWUrMTtuPG8ubGVuZ3RoOysrbil0LnB1c2gob1tuXSk7Zm9yKG49NDtuPGkubGVuZ3RoOysrbilyLnB1c2goaVtuXSk7dmFyIGE9dGhpcy5yZW1vdmVLbm90KGUscyxlLTEsdCxyKTthIT09ZS0xJiZjb25zb2xlLndhcm4oXCJGYWlsZWQga25vdCByZW1vdmFsLCBvbmx5IHJlbW92ZWQgc2VhbSBrbm90IFwiK2ErXCIgdGltZXMuXCIpfSxsLmNsYW1wQ3VydmU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXRbZV0saT10W3QubGVuZ3RoLWUtMV07dGhpcy5leHRyYWN0Q3VydmVTZWdtZW50KGUsbyxpLHQscil9O2wubWFrZVBlcmlvZGljPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbyxpLG49ZnVuY3Rpb24oZSx0LHIpe3ZhciBvLGksbixzPTA7Zm9yKG89MTtvPHIubGVuZ3RoLzQ7KytvKXtmb3Iobj0wLGk9MDtpPDM7KytpKW4rPShyWzQqbytpXS1yWzQqKG8tMSkraV0pKihyWzQqbytpXS1yWzQqKG8tMSkraV0pO3MrPU1hdGguc3FydChuKX1mb3Iobj0wLGk9MDtpPDM7KytpKW4rPShyW2ldLXJbci5sZW5ndGgtNCtpXSkqKHJbaV0tcltyLmxlbmd0aC00K2ldKTt2YXIgYT1NYXRoLnNxcnQobiksYz0odFt0Lmxlbmd0aC0xXS10WzBdKS9zLHU9ci5sZW5ndGgvNC0xLGw9dC5zbGljZSgpO2ZvcihvPTA7bzxlLTE7KytvKWxbZS1vLTFdPWxbZS1vXS0obFt1LW8rMV0tbFt1LW9dKSxsW3UrbysyXT1sW3UrbysxXSsobFtlK28rMV0tbFtlK29dKTt2YXIgaD1sWzFdLShsW3UtZSsyXS1sW3UtZSsxXSksZD1sW3UrZV0rKGxbMiplXS1sWzIqZS0xXSk7cmV0dXJuIGMvKCh0WzBdLWgrZC10W3QubGVuZ3RoLTFdKS9hKX0oZSx0LHIpO3RoaXMudW5jbGFtcEN1cnZlKGUsdCxyLG4pO3ZhciBzPXQubGVuZ3RoO2ZvcihvPWUtMTtvPj0wOy0tbyl0W3Mtb109dFtzLW8tMV0rKHRbZS0oby0xKV0tdFtlLW9dKTt2YXIgYT1yLmxlbmd0aC80O2ZvcihyLmxlbmd0aD00KmErNCplLHQubGVuZ3RoPXMrZSxvPTA7bzxlOysrbyl7Zm9yKGk9MDtpPDQ7KytpKXJbNCooYStvKStpXT1yWzQqbytpXTt0W3Mrb109dFtzK28tMV0rKHRbZStvKzFdLXRbZStvXSl9dGhpcy5jbGFtcEN1cnZlKGUsdCxyKX0sdC5TcGxpbmVDdXJ2ZUhlbHBlcj1sfSwyMzU1OihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlRhbmdlbnRDb25lPXZvaWQgMDt2YXIgbz1yKDE5NzIpLGk9cigyNDY4KSxuPXIoNTg5Nikscz1mdW5jdGlvbihlLHQpe3RoaXMuc2V0KGUsdCl9O3MucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PWV8fHZvaWQgMD09PXQ/KHRoaXMuYXhpcz12b2lkIDAsdGhpcy5hbmdsZT12b2lkIDApOih0aGlzLmF4aXM9by5WZWN0b3IzLmNsb25lKGUpLHRoaXMuYW5nbGU9dCl9LHMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNEZWdlbmVyYXRlKCk/XCJkZWdlbmVyYXRlXCI6XCIoeDpcIit0aGlzLmF4aXNbMF0rXCIsIHk6XCIrdGhpcy5heGlzWzFdK1wiLCB6OlwiK3RoaXMuYXhpc1syXStcIiwgcmFkaWFuczpcIit0aGlzLmFuZ2xlK1wiKVwifSxzLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRGVnZW5lcmF0ZSgpPyh0aGlzLmF4aXM9dm9pZCAwLHRoaXMuYW5nbGU9dm9pZCAwKToodGhpcy5heGlzPW8uVmVjdG9yMy5jbG9uZShlLmF4aXMpLHRoaXMuYW5nbGU9ZS5hbmdsZSksdGhpc30scy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHModGhpcy5heGlzLHRoaXMuYW5nbGUpfSxzLnByb3RvdHlwZS5pc0RlZ2VuZXJhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5heGlzfHx2b2lkIDA9PT10aGlzLmFuZ2xlfSxzLnByb3RvdHlwZS5pbmNsdWRlVmVjdG9yPWZ1bmN0aW9uKGUpe2lmKG8uVmVjdG9yMy5zcXVhcmVkTGVuZ3RoKGUpPGkuS0VSTkVMX1RPTEVSQU5DRSppLktFUk5FTF9UT0xFUkFOQ0UpcmV0dXJuIHRoaXM7aWYodGhpcy5pc0RlZ2VuZXJhdGUoKSlyZXR1cm4gdGhpcy5heGlzfHwodGhpcy5heGlzPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCkpLG8uVmVjdG9yMy5ub3JtYWxpemUodGhpcy5heGlzLGUpLHRoaXMuYW5nbGU9MCx0aGlzO3ZhciB0PW8uVmVjdG9yMy5kb3QodGhpcy5heGlzLGUpL28uVmVjdG9yMy5sZW5ndGgoZSk7dD0oMCxuLmNsYW1wKSh0LC0xLDEpO3ZhciByPU1hdGguYWNvcyh0KTtyZXR1cm4gdGhpcy5hbmdsZT1NYXRoLm1heCh0aGlzLmFuZ2xlLHIpLHRoaXN9LHMucHJvdG90eXBlLmluY2x1ZGVDb25lPWZ1bmN0aW9uKGUpe2lmKGUuaXNEZWdlbmVyYXRlKCkpcmV0dXJuIHRoaXM7aWYodGhpcy5pc0RlZ2VuZXJhdGUoKSlyZXR1cm4gdGhpcy5jb3B5KGUpO3ZhciB0PW8uVmVjdG9yMy5kb3QodGhpcy5heGlzLGUuYXhpcykscj1NYXRoLmFjb3MoKDAsbi5jbGFtcCkodCwtMSwxKSk7aWYodGhpcy5hbmdsZT49ZS5hbmdsZStyKXJldHVybiB0aGlzO2lmKGUuYW5nbGU+PXRoaXMuYW5nbGUrcilyZXR1cm4gdGhpcy5jb3B5KGUpO2lmKHI+TWF0aC5QSS1pLktFUk5FTF9BTkdVTEFSX1RPTEVSQU5DRSlyZXR1cm4gdGhpcy5hbmdsZT1NYXRoLlBJLHRoaXM7dmFyIHM9KHRoaXMuYW5nbGUrZS5hbmdsZStyKS8yO2lmKHM+PU1hdGguUEkpcmV0dXJuIHRoaXMuYW5nbGU9TWF0aC5QSSx0aGlzO3ZhciBhPU1hdGguc2luKHMtZS5hbmdsZSksYz1NYXRoLnNpbihzLXRoaXMuYW5nbGUpO3JldHVybiBvLlZlY3RvcjMuc2NhbGUodGhpcy5heGlzLHRoaXMuYXhpcyxhKSxvLlZlY3RvcjMuc2NhbGVBbmRBZGQodGhpcy5heGlzLHRoaXMuYXhpcyxlLmF4aXMsYyksby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLmF4aXMsdGhpcy5heGlzKSx0aGlzLmFuZ2xlPXMsdGhpc30scy5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24oZSx0KXtpZih0PVwibnVtYmVyXCI9PXR5cGVvZiB0P3Q6aS5LRVJORUxfQU5HVUxBUl9UT0xFUkFOQ0UsIXRoaXMuaXNEZWdlbmVyYXRlKCkpcmV0dXJuIG8uVmVjdG9yMy5zcXVhcmVkTGVuZ3RoKGUpPGkuS0VSTkVMX1RPTEVSQU5DRSppLktFUk5FTF9UT0xFUkFOQ0V8fG8uVmVjdG9yMy5hbmdsZSh0aGlzLmF4aXMsZSk8dGhpcy5hbmdsZSt0fSx0LlRhbmdlbnRDb25lPXN9LDk2MDg6KGUsdCk9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmdldE9yZGVyZWRGYWNlc09uVmVydGV4PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5nZXRFZGdlcygpLG89bmV3IHIoZSksaT1bXTtyZXR1cm4gdC5mb3JFYWNoKCh0PT57Y29uc3Qgcj10LmdldENvZWRnZXMoKTtmb3IobGV0IHQ9MDt0PHIubGVuZ3RoOysrdClpZihyW3RdLmdldFN0YXJ0VmVydGV4KCk9PT1lKXtjb25zdCBlPW8ubWFyY2hGYW4oclt0XSk7ZS5mYWNlcy5sZW5ndGg+MCYmaS5wdXNoKGUpO2JyZWFrfX0pKSxpfTtjbGFzcyBye2NvbnN0cnVjdG9yKGUpe3RoaXMuX3ZlcnRleD1lLHRoaXMuX3Zpc2l0ZWRDb2Vkcz1uZXcgU2V0LHRoaXMuX3VudmlzaXRlZENvZWRzPW5ldyBTZXQsdGhpcy5fZmFjZXM9W10sdGhpcy5fdHlwZT1cInVuc2V0XCJ9YWRkVmlzaXRlZENvZWRnZShlKXt0aGlzLl92aXNpdGVkQ29lZHMuYWRkKGUpLHRoaXMuX3VudmlzaXRlZENvZWRzLmRlbGV0ZShlKX1nZXROZXh0RmFjZShlKXtjb25zdCB0PWUuZ2V0RmFjZSgpO3QmJnRoaXMuX2ZhY2VzLnB1c2godCksdGhpcy5hZGRWaXNpdGVkQ29lZGdlKGUpfWdldFByZXZGYWNlKGUpe2NvbnN0IHQ9ZS5nZXRGYWNlKCk7dCYmdGhpcy5fZmFjZXMudW5zaGlmdCh0KSx0aGlzLmFkZFZpc2l0ZWRDb2VkZ2UoZSl9Y29sbGVjdFVudmlzaXRlZENvZWRzKGUpe2UuZ2V0RWRnZSgpLmdldENvZWRnZXMoKS5mb3JFYWNoKChlPT57dGhpcy5fdmlzaXRlZENvZWRzLmhhcyhlKXx8ZS5nZXRTdGFydFZlcnRleCgpIT09dGhpcy5fdmVydGV4fHx0aGlzLl91bnZpc2l0ZWRDb2Vkcy5hZGQoZSl9KSl9bmV4dEZhY2UoZSl7Y29uc3QgdD1lLmdldFBhcnRuZXIoKTtpZighdClyZXR1cm4gdm9pZChcInVuc2V0XCI9PT10aGlzLl90eXBlJiYodGhpcy5fdHlwZT1cImNoYWluXCIpKTtpZih0aGlzLl92aXNpdGVkQ29lZHMuaGFzKHQpKXJldHVybjtpZih0LmdldFBhcnRuZXIoKSE9PWUmJih0aGlzLl90eXBlPVwidW5vcmRlcmVkXCIsdGhpcy5jb2xsZWN0VW52aXNpdGVkQ29lZHMoZSkpLHQuZ2V0RW5kVmVydGV4KCkhPT10aGlzLl92ZXJ0ZXgpcmV0dXJuIHRoaXMuX3R5cGU9XCJ1bm9yZGVyZWRcIix2b2lkIHRoaXMuY29sbGVjdFVudmlzaXRlZENvZWRzKHQpO3RoaXMuYWRkVmlzaXRlZENvZWRnZSh0KTtjb25zdCByPXQuZ2V0TmV4dCgpO2lmKCF0aGlzLl92aXNpdGVkQ29lZHMuaGFzKHIpKXJldHVybiB0aGlzLmdldE5leHRGYWNlKHIpLHI7XCJ1bnNldFwiPT09dGhpcy5fdHlwZSYmKHRoaXMuX3R5cGU9XCJjeWNsZVwiKX1wcmV2RmFjZShlKXtjb25zdCB0PWUuZ2V0UHJldmlvdXMoKTtpZih0aGlzLl92aXNpdGVkQ29lZHMuaGFzKHQpKXJldHVybjtjb25zdCByPXQuZ2V0UGFydG5lcigpO3JldHVybiByJiYhdGhpcy5fdmlzaXRlZENvZWRzLmhhcyhyKT8oci5nZXRQYXJ0bmVyKCkhPT10JiYodGhpcy5fdHlwZT1cInVub3JkZXJlZFwiLHRoaXMuY29sbGVjdFVudmlzaXRlZENvZWRzKHQpKSxyLmdldFN0YXJ0VmVydGV4KCkhPT10aGlzLl92ZXJ0ZXg/KHRoaXMuX3R5cGU9XCJ1bm9yZGVyZWRcIix2b2lkIHRoaXMuY29sbGVjdFVudmlzaXRlZENvZWRzKHIuZ2V0TmV4dCgpKSk6KHRoaXMuYWRkVmlzaXRlZENvZWRnZSh0KSx0aGlzLmdldFByZXZGYWNlKHIpLHIpKTp2b2lkIDB9Y29sbGVjdEZhbkZhY2VzKGUpe2lmKHRoaXMuX3Zpc2l0ZWRDb2Vkcy5oYXMoZSkpcmV0dXJuO2NvbnN0IHQ9ZTt0aGlzLmdldE5leHRGYWNlKHQpO2xldCByPXQ7Zm9yKDtyOylyPXRoaXMubmV4dEZhY2Uocik7Zm9yKHI9dDtyOylyPXRoaXMucHJldkZhY2Uocil9bWFyY2hGYW4oZSl7Zm9yKHRoaXMuX2ZhY2VzPVtdLHRoaXMuX3R5cGU9XCJ1bnNldFwiLHRoaXMuY29sbGVjdEZhbkZhY2VzKGUpO3RoaXMuX3VudmlzaXRlZENvZWRzLnNpemU+MDspe2NvbnN0IGU9dGhpcy5fdW52aXNpdGVkQ29lZHMudmFsdWVzKCk7dGhpcy5jb2xsZWN0RmFuRmFjZXMoZS5uZXh0KCkudmFsdWUpfXJldHVybntmYWNlczp0aGlzLl9mYWNlcyx0eXBlOnRoaXMuX3R5cGV9fX19LDM1ODQ6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZmFjZXRQbGFuYXJGYWNlPXZvaWQgMDt2YXIgbyxpPXIoMTk3Miksbj1yKDI0NjgpLHM9cigyNjQwKSxhPXIoNTg5NiksYz1yKDkxNDApLHU9cigyODU2KSxsPShvPXUpJiZvLl9fZXNNb2R1bGU/bzp7ZGVmYXVsdDpvfSxoPXIoNjEyMCk7dmFyIGQ9MWUtNixwPTFlLTgsZz1uLktFUk5FTF9UT0xFUkFOQ0UsZj1mdW5jdGlvbihlLHQscil7dmFyIG8sbj1lWygwLGEubW9kdWx1cykodC0xLGUubGVuZ3RoKV0scz1lWygwLGEubW9kdWx1cykodCsxLGUubGVuZ3RoKV0sYz1lW3RdLHU9Y1swXS1uWzBdLGw9Y1sxXS1uWzFdLGg9c1swXS1jWzBdLGQ9c1sxXS1jWzFdLHA9TWF0aC5zcXJ0KHUqdStsKmwpLGY9TWF0aC5zcXJ0KGgqaCtkKmQpO3UqaCtsKmQ8LS45NSpwKmY/KHUqPS0xLGwqPS0xKTpyPyhvPXUsdT0tbCxsPW8sbz1oLGg9LWQsZD1vKToobz11LHU9bCxsPS1vLG89aCxoPWQsZD0tbyk7dmFyIHY9LjUqKHUvcCtoL2YpLF89LjUqKGwvcCtkL2YpLHk9TWF0aC5zcXJ0KHYqditfKl8pO2VbdF09aS5WZWN0b3IzLmNsb25lKGMpLGVbdF1bMF0rPWcqdi95LGVbdF1bMV0rPWcqXy95fSx2PWZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcoZVswXSkrU3RyaW5nKGVbMV0pfSxfPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0hMSxyPXt9LG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIGk9dihlW29dKTt2b2lkIDA9PT1yW2ldP3JbaV09W106dD0hMCxyW2ldLnB1c2gobyl9cmV0dXJue3RhYmxlOnIsZm91bmRTZWxmSW50ZXJzZWN0aW9uOnR9fSx5PWZ1bmN0aW9uKGUpe3ZhciB0PV8oZSk7aWYodC5mb3VuZFNlbGZJbnRlcnNlY3Rpb24pe2Zvcih2YXIgcj0oMCxzLmlzTG9vcENDVykoZSksbz1bXSxpPTA7aTxlLmxlbmd0aC0xO2krKylvW2ldPSExO3ZhciBuPVtdO2ZvcihpPTA7aTxlLmxlbmd0aC0xO2krKylpZighb1tpXSl7dmFyIGM9W10sdT1pO29bdV09ITAsYy5wdXNoKGVbdV0pO3ZhciBsPXYoY1swXSksaD1lWygwLGEubW9kdWx1cykodSsxLGUubGVuZ3RoKV0sZD12KGgpLHA9W107Zm9yKHQudGFibGVbbF0ubGVuZ3RoPjEmJnAucHVzaCgwKTtkIT09bDspe2lmKGMucHVzaChoKSxjLmxlbmd0aD5lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJzcGxpdEhvbGUgZmFpbHVyZVwiKTt2YXIgZz10LnRhYmxlW2RdO2lmKDE9PT1nLmxlbmd0aCl1Kys7ZWxzZXtwLnB1c2goYy5sZW5ndGgtMSk7Zm9yKHZhciB5PVtdLG09MDttPGcubGVuZ3RoO20rKylnW21dIT09dSYmeS5wdXNoKGdbbV0pO3ZhciBFPU1hdGguYXRhbjIoZVt1KzFdWzFdLWVbdV1bMV0sZVt1KzFdWzBdLWVbdV1bMF0pO0U9KDAsYS5ub3JtYWxpemVQYXJhbWV0ZXJUb1NoaWZ0ZWRSYW5nZSkoRS1NYXRoLlBJLFstTWF0aC5QSSxNYXRoLlBJXSk7dmFyIHg9LTEsUj0wO2ZvcihtPTA7bTx5Lmxlbmd0aDttKyspe3ZhciBBPU1hdGguYXRhbjIoZVsoMCxhLm1vZHVsdXMpKHlbbV0rMSxlLmxlbmd0aCldWzFdLWVbeVttXV1bMV0sZVsoMCxhLm1vZHVsdXMpKHlbbV0rMSxlLmxlbmd0aCldWzBdLWVbeVttXV1bMF0pO0E8RSYmcj9BKz1hLlBJMjpBPkUmJiFyJiYoQS09YS5QSTIpO3ZhciBQPU1hdGguYWJzKEEtRSk7UD5SJiYoUj1QLHg9eVttXSl9dT14fWg9ZVsoMCxhLm1vZHVsdXMpKHUrMSxlLmxlbmd0aCldLGQ9dihoKSxvW3VdPSEwfWZvcihtPTA7bTxwLmxlbmd0aDttKyspZihjLHBbbV0scik7bi5wdXNoKGMpfXJldHVybiBufXJldHVybltlXX0sbT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1bXSxvPTA7bzxlLmxlbmd0aDtvKyspe3Jbb109e2luZGV4OnZvaWQgMCxsb29wOnZvaWQgMH07Zm9yKHZhciBpPWVbb10sbj0wO248dC5sZW5ndGg7bisrKWZvcih2YXIgcz10W25dLGE9MDthPHMubGVuZ3RoO2ErKylpZihzW2FdWzBdPT09aVswXSYmc1thXVsxXT09PWlbMV0pe3Jbb10uaW5kZXg9YSxyW29dLmxvb3A9czticmVha319cmV0dXJuIHJ9O2Z1bmN0aW9uIEUoZSx0KXt2YXIgcixvPSExLGk9dC5sZW5ndGgsbj1pLTE7Zm9yKHI9MDtyPGk7cis9Mil0W3JdWzFdPmVbMV0hPXRbbl1bMV0+ZVsxXSYmZVswXTwodFtuXVswXS10W3JdWzBdKSooZVsxXS10W3JdWzFdKS8odFtuXVsxXS10W3JdWzFdKSt0W3JdWzBdJiYobz0hbyksbj1yO3JldHVybiBvfWZ1bmN0aW9uIHgoZSx0LHIpe2Zvcih2YXIgbyxuLGE9bShlLFt0XS5jb25jYXQocikpLGM9W10sdT1bXSxsPXZvaWQgMCxkPXZvaWQgMCxnPTA7Zzw0OysrZyl7aWYoYVtnXSYmdm9pZCAwIT09YVtnXS5pbmRleClsP2R8fGFbZ10ubG9vcD09PWx8fChkPWFbZ10ubG9vcCk6bD1hW2ddLmxvb3AsYVtnXS5sb29wPT09bD8obz1sLG49Yyk6KG89ZCxuPXUpLChQPVthW2ddLmluZGV4LTEsYVtnXS5pbmRleF0pWzBdPDAmJihQWzBdPW8ubGVuZ3RoLTEpLG4ucHVzaChQKSxuLnB1c2goW2FbZ10uaW5kZXgsKGFbZ10uaW5kZXgrMSklby5sZW5ndGhdKX1kfHwoZD1sLHU9Yyk7dmFyIGYsdixfPXZvaWQgMCx5PWwseD1jO2ZvcihnPTA7ZzwzOysrZyl7Zm9yKGY9MDtmPGMubGVuZ3RoOysrZil7Zm9yKHY9MDt2PHUubGVuZ3RoJiYoYz09PXUmJnY+PWZ8fCEoXz0oMCxzLmludGVyc2VjdFNlZ21lbnRzKShsW2NbZl1bMF1dLGxbY1tmXVsxXV0sZFt1W3ZdWzBdXSxkW3Vbdl1bMV1dLDApKXx8IV8uaW50ZXJzZWN0aW9uKTsrK3YpO2lmKF8mJl8uaW50ZXJzZWN0aW9uKWJyZWFrfWlmKF8mJl8uaW50ZXJzZWN0aW9ufHxsPT09ZClicmVhazswPT09Zz8obD1kLGM9dSk6MT09PWcmJihsPXksYz14LGQ9eSx1PXgpfWlmKHZvaWQgMCE9PV8mJl8uaW50ZXJzZWN0aW9uKXt2YXIgUj1pLlZlY3RvcjMuc3VidHJhY3QoaS5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSxsW2NbZl1bMV1dLGxbY1tmXVswXV0pO2kuVmVjdG9yMy5zY2FsZShSLFIsXy5zb2x1dGlvbnNbMF0pO3ZhciBBPWkuVmVjdG9yMy5hZGQoUixSLGxbY1tmXVswXV0pO2lmKGNbZl1bMF0+Y1tmXVsxXSl7dmFyIFA9Y1tmXVsxXTtjW2ZdWzFdPWNbZl1bMF0sY1tmXVswXT1QfWlmKDA9PT1jW2ZdWzBdJiYxIT09Y1tmXVsxXSYmKGNbZl1bMF09Y1tmXVsxXSxjW2ZdWzFdPTApLHVbdl1bMF0+dVt2XVsxXSYmMCE9PXVbdl1bMV0pe1A9dVt2XVsxXTt1W3ZdWzFdPXVbdl1bMF0sdVt2XVswXT1QfWlmKDA9PT11W3ZdWzBdJiYxIT09dVt2XVsxXSYmKHVbdl1bMF09dVt2XVsxXSx1W3ZdWzFdPTApLGw9PT1kKXtpZihsLmxlbmd0aDw0KXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoXCJSRUdJT046IEZhaWxlZCB0byBmaXggbG9vcCB0ZXNzZWxsYXRpb24hIFtsb29wIHRvbyBzaG9ydF1cIik7Y29uc29sZS5sb2coXCJSRUdJT046IEZpeGluZyBzZWxmLWludGVyc2VjdGlvblwiKTt2YXIgVj1uZXcgQXJyYXkoNCk7Y1tmXVswXTx1W3ZdWzBdPyhWWzBdPWNbZl1bMF0sVlsxXT1jW2ZdWzFdLFZbMl09dVt2XVswXSxWWzNdPXVbdl1bMV0pOihWWzBdPXVbdl1bMF0sVlsxXT11W3ZdWzFdLFZbMl09Y1tmXVswXSxWWzNdPWNbZl1bMV0pO3ZhciBUPVtdO2ZvcihnPTA7Zzw9VlswXTsrK2cpVC5wdXNoKGxbZ10pO3ZhciBiPWkuVmVjdG9yMy5zdWJ0cmFjdChpLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLGxbVlswXV0sbFtWWzFdXSk7aS5WZWN0b3IzLm5vcm1hbGl6ZShiLGIpLGkuVmVjdG9yMy5zY2FsZShiLGIscCk7dmFyIEM9aS5WZWN0b3IzLmFkZChpLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLEEsYik7VC5wdXNoKEMpO2ZvcihnPVZbMl07Zz49VlsxXTstLWcpVC5wdXNoKGxbZ10pO3ZhciBPPWkuVmVjdG9yMy5zdWJ0cmFjdChpLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLEEsYik7aWYoVC5wdXNoKE8pLFZbM10+VlsyXSlmb3IoZz1WWzNdO2c8bC5sZW5ndGg7KytnKVQucHVzaChsW2ddKTtsLmxlbmd0aD1ULmxlbmd0aDtmb3IoZz0wO2c8VC5sZW5ndGg7KytnKWxbZ109VFtnXX1lbHNle2NvbnNvbGUubG9nKFwiUkVHSU9OOiBGaXhpbmcgbG9vcC1sb29wIGludGVyc2VjdGlvblwiKTt2YXIgTD1sLFM9ZCxNPXVbdl1bMF0sdz11W3ZdWzFdLE49Y1tmXVswXSxGPWNbZl1bMV07KHQ9PT1TfHxTLmxlbmd0aD5MLmxlbmd0aCYmdCE9PUwpJiYoTD1kLFM9bCxNPWNbZl1bMF0sdz1jW2ZdWzFdLE49dVt2XVswXSxGPXVbdl1bMV0pO3ZhciBJPTE7dCE9PVMmJnQhPT1MJiYoST0tMSk7dmFyIEQ9MTtpZihFKFNbd10sTCkpe0Q9LTE7UD1NO009dyx3PVB9aS5WZWN0b3IzLnN1YnRyYWN0KFNbd10sU1tNXSxTW3ddKSxpLlZlY3RvcjMubm9ybWFsaXplKFNbd10sU1t3XSksaS5WZWN0b3IzLnNjYWxlKFNbd10sU1t3XSxJKnApLGkuVmVjdG9yMy5hZGQoU1t3XSxBLFNbd10pO3ZhciBqLEIsVT13O2Rveyh3Kz1EKTwwP3c9Uy5sZW5ndGgtMTp3JT1TLmxlbmd0aH13aGlsZSh3IT09TSYmIUUoU1t3XSxMKSk7KE09dy1EKTwwJiYoTT1TLmxlbmd0aC0xKSxGPU47ZG97aj1MW0ZdLEI9TFtGPSsrRiVMLmxlbmd0aF0sXz0oMCxzLmludGVyc2VjdFNlZ21lbnRzKShqLEIsU1tNXSxTW3ddLDApfXdoaWxlKE4hPT1GJiYhXy5pbnRlcnNlY3Rpb24pO18uaW50ZXJzZWN0aW9uJiYoaS5WZWN0b3IzLnNjYWxlKFIsaS5WZWN0b3IzLnN1YnRyYWN0KFIsQixqKSxfLnNvbHV0aW9uc1swXSksaS5WZWN0b3IzLmFkZChBLFIsaiksaS5WZWN0b3IzLnN1YnRyYWN0KFNbTV0sU1t3XSxTW01dKSxpLlZlY3RvcjMubm9ybWFsaXplKFNbTV0sU1tNXSksaS5WZWN0b3IzLnNjYWxlKFNbTV0sU1tNXSxJKnApLGkuVmVjdG9yMy5hZGQoU1tNXSxBLFNbTV0pKSxNYXRoLm1pbihNYXRoLmFicyhVLU0pLE1hdGguYWJzKFUtTS1TLmxlbmd0aCkpPjEmJmNvbnNvbGUud2FybihcIlJFR0lPTjogUmVtb3ZlIGxvb3Agc2VnbWVudCEgRklYTUUhXCIpfX1lbHNlIGguRGVidWdVdGlscy53YXJuKFwiUkVHSU9OOiBGYWlsZWQgdG8gZml4IGxvb3AgdGVzc2VsbGF0aW9uISBbbm8gaW50ZXJzZWN0ZWQgc2VnbWVudHNdXCIpfXZhciBSPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZTtmb3IocjwwP3IrPXQubGVuZ3RoOnIlPXQubGVuZ3RoO3Rbcl0hPT1yOylyPXRbcl07cmV0dXJuIHJ9LEE9ZnVuY3Rpb24oZSx0LHIsbyl7cmV0dXJuIGkuVmVjdG9yMy5kaXN0YW5jZShyW2VdLHJbdF0pPGQ/KG9bMF09ZSxvWzFdPWUsMSk6MH0sUD1mdW5jdGlvbihlLHQscixvLG4pe3ZhciBzPW5ldyBBcnJheSgyKTtpZihzWzBdPW9bZV0sc1sxXT1vW3JdLGkuVmVjdG9yMy5sZW5ndGgoaS5WZWN0b3IzLnN1YnRyYWN0KGkuVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCksc1swXSxzWzFdKSk8ZClyZXR1cm4gblswXT1lLG5bMV09ZSxuWzJdPWUsMjt2YXIgYT0oc1swXVswXS1zWzFdWzBdKSoob1t0XVsxXS1zWzFdWzFdKS0oc1swXVsxXS1zWzFdWzFdKSoob1t0XVswXS1zWzFdWzBdKTtyZXR1cm4gYT4tMTAwMDAwMDAwMDAwMDAwMDFlLTMyJiZhPDEwMDAwMDAwMDAwMDAwMDAxZS0zMj8oblswXT1lLG5bMV09ZSxuWzJdPXIsMSk6MH0sVj1mdW5jdGlvbihlLHQscixvLGksbil7cmV0dXJuKDAscy5pbnRlcnNlY3RTZWdtZW50cykoaVtlXSxpW3RdLGlbcl0saVtvXSkuaW50ZXJzZWN0aW9uPyhuWzBdPWUsblsxXT10LG5bMl09dCxuWzNdPW8sMSk6KG5bMF09LTEsMCl9LFQ9ZnVuY3Rpb24oZSl7aWYoZS5sZW5ndGg8NClyZXR1cm4gZTtmb3IodmFyIHQscixvLGksbj1lLmxlbmd0aCxzPW5ldyBJbnQzMkFycmF5KG4pLGE9MDthPG47KythKXNbYV09YTt2YXIgYyx1PW5ldyBBcnJheSgzKSxsPW5ldyBBcnJheSgzKTtsWzBdPTAsbFsxXT0wLGxbMl09MDtmb3IoYT0wO2E8bjsrK2EpdD1SKGEscykscj1SKGErMSxzKSwoYz1BKHQscixlLHUpKSYmKCsrbFswXSxzW3RdPXVbMF0sc1tyXT11WzFdLHQ9UihhKz1jLHMpLHI9UihhKzEscykpLG89UihhKzIscyksKGM9UCh0LHIsbyxlLHUpKSYmKCsrbFsxXSxzW3RdPXVbMF0sc1tyXT11WzFdLHNbb109dVsyXSx0PVIoYSs9YyxzKSxyPVIoYSsxLHMpLG89UihhKzIscykpLGk9UihhKzMscyksKGM9Vih0LHIsbyxpLGUsdSkpJiYoKytsWzJdLHNbdF09dVswXSxzW3JdPXVbMV0sc1tvXT11WzJdLHNbaV09dVszXSxhKz1jKTt2YXIgaD1bXTtmb3IoYT0wO2E8ZS5sZW5ndGg7KythKXNbYV09PT1hJiZoLnB1c2goZVthXSk7cmV0dXJuIGh9LGI9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz1tKGUsW3RdLmNvbmNhdChyKSksaT0wO2k8by5sZW5ndGg7aSsrKWYob1tpXS5sb29wLG9baV0uaW5kZXgsKDAscy5pc0xvb3BDQ1cpKG9baV0ubG9vcCkpfSxDPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ITE7IWZ1bmN0aW9uKGUpe3ZhciB0PV8oZSk7aWYodC5mb3VuZFNlbGZJbnRlcnNlY3Rpb24pZm9yKHZhciByPSgwLHMuaXNMb29wQ0NXKShlKSxvPWwuZGVmYXVsdC5rZXlzKHQudGFibGUpLGk9MDtpPG8ubGVuZ3RoO2krKylpZih0LnRhYmxlW29baV1dLmxlbmd0aD4xKWZvcih2YXIgbj10LnRhYmxlW29baV1dLGE9MDthPG4ubGVuZ3RoO2ErKylmKGUsblthXSxyKX0oZSk7Zm9yKHZhciBvPVtdLGk9MDtpPHQubGVuZ3RoO2krKylvLnB1c2guYXBwbHkobyx5KHRbaV0pKTt2YXIgbj1UKGUpLGE9W107Zm9yKGk9MDtpPG8ubGVuZ3RoO2krKylhLnB1c2goVChvW2ldKSk7dmFyIHU9ODtkb3tyPSEwO3ZhciBkPSgwLGwuZGVmYXVsdCkobikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGMucG9seTJ0cmkuUG9pbnQoZVswXSxlWzFdKX0pKSxwPW5ldyBjLnBvbHkydHJpLlN3ZWVwQ29udGV4dChkKTtmb3IoaT0wO2k8YS5sZW5ndGg7aSsrKXt2YXIgZz0oMCxsLmRlZmF1bHQpKGFbaV0pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBjLnBvbHkydHJpLlBvaW50KGVbMF0sZVsxXSl9KSk7cC5hZGRIb2xlKGcpfXRyeXtwLnRyaWFuZ3VsYXRlKCl9Y2F0Y2goZSl7aWYoXCJwb2x5MnRyaSBJbnRlcnNlY3RpbmcgQ29uc3RyYWludHNcIj09PWUubWVzc2FnZS5zdWJzdHIoMCwzMykpcj0hMSx4KGUucG9pbnRzLG4sYSk7ZWxzZSBpZihcInBvbHkydHJpIEVkZ2VFdmVudDogQ29sbGluZWFyIG5vdCBzdXBwb3J0ZWRcIj09PWUubWVzc2FnZS5zdWJzdHIoMCw0Mykpcj0hMSxiKGUucG9pbnRzLG4sYSk7ZWxzZXtpZighZS5wb2ludHMpdGhyb3cgZTtyPSExLHgoZS5wb2ludHMsbixhKX19fXdoaWxlKCFyJiZ1LS0gPjApO3JldHVybiB1PD0wJiZoLkRlYnVnVXRpbHMud2FybihcIkNvbXB1dGF0aW9uIG9mIHJlZ2lvbiB0ZXNzZWxsYXRpb24gZmFpbGVkLCBkdWUgdG8gdG9vIG1hbnkgaW50ZXJzZWN0aW9ucy5cIikscH07dC5mYWNldFBsYW5hckZhY2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmdldFN1cmZhY2UoKSxvPSgwLGEuZ2V0UGxhbmVUcmFuc2Zvcm1zKShyKSxuPW5ldyBzLkxvb3BDYWxjdWxhdG9yKGUsby50aHJlZVNwYWNlVG9VVikuZ2V0UmFuazBMb29wcygpO2lmKDEhPT1uLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJFYWNoIHJlZ2lvbiBzaG91bGQgaGF2ZSBleGFjdGx5IG9uZSB0b3AtbG9vcFwiKTt2YXIgYz1uWzBdLHU9KDAscy50ZXNzZWxsYXRlTG9vcCkoYy5fbG9vcCx0KTtpZihvLnRocmVlU3BhY2VUb1VWKWZvcih2YXIgbD0wO2w8dS5sZW5ndGg7bCsrKWkuVmVjdG9yMy50cmFuc2Zvcm1NYXRyaXg0NCh1W2xdLHVbbF0sby50aHJlZVNwYWNlVG9VVik7Zm9yKHZhciBoPVtdLGQ9Yy5nZXRJbW1lZGlhdGVseUluc2lkZUxvb3BzKCkscD0wO3A8ZC5sZW5ndGg7cCsrKXt2YXIgZz0oMCxzLnRlc3NlbGxhdGVMb29wKShkW3BdLl9sb29wLHQpO2lmKGgucHVzaChnKSxvLnRocmVlU3BhY2VUb1VWKWZvcihsPTA7bDxnLmxlbmd0aDtsKyspaS5WZWN0b3IzLnRyYW5zZm9ybU1hdHJpeDQ0KGdbbF0sZ1tsXSxvLnRocmVlU3BhY2VUb1VWKX12YXIgZj1DKHUsaCksdj1mLmdldFRyaWFuZ2xlcygpLF89bmV3IFVpbnQzMkFycmF5KDMqdi5sZW5ndGgpLHk9bmV3IEZsb2F0MzJBcnJheSgzKmYucG9pbnRDb3VudCgpKSxtPWkuVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7Zm9yKGw9MDtsPGYucG9pbnRDb3VudCgpO2wrKyl7dmFyIEU9Zi5nZXRQb2ludChsKTtpLlZlY3RvcjMuc2V0KG0sRS54LEUueSwwKSxvLnV2VG9UaHJlZVNwYWNlJiZpLlZlY3RvcjMudHJhbnNmb3JtTWF0cml4NDQobSxtLG8udXZUb1RocmVlU3BhY2UpLHlbMypsXT1tWzBdLHlbMypsKzFdPW1bMV0seVszKmwrMl09bVsyXSxFLmluZGV4PWx9Zm9yKGw9MDtsPHYubGVuZ3RoO2wrKyl7dmFyIHg9dltsXS5nZXRQb2ludHMoKTtmb3IoZS5pc1JldmVyc2VkKCkmJngucmV2ZXJzZSgpLHA9MDtwPHgubGVuZ3RoO3ArKyl7dmFyIFI9eFtwXTtfWzMqbCtwXT1SLmluZGV4fX1yZXR1cm57aW5kZXhCdWZmZXI6Xyx2ZXJ0ZXhCdWZmZXI6eX19fSwyNjQwOihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Lkxvb3BDYWxjdWxhdG9yPXQuaW50ZXJzZWN0U2VnbWVudHM9dC5pc0xvb3BDQ1c9dC50ZXNzZWxsYXRlTG9vcD12b2lkIDA7dmFyIG89cigxOTcyKSxpPXIoMjQ2OCksbj1yKDU4OTYpLHM9ZnVuY3Rpb24oZSx0KXt0aGlzLl9sb29wPWUsdGhpcy5fZW5jbG9zdXJlUmFuaz0wLHRoaXMuX2lzT3V0ZXJMb29wPSExLHRoaXMuX2luc2lkZUxvb3BzPVtdLHRoaXMuX2lzT3Blbj0hMSx0aGlzLl9jb2VkZ2VzPXRoaXMuX2xvb3AuZ2V0Q29lZGdlcygpO2Zvcih2YXIgcj0wO3I8dGhpcy5fY29lZGdlcy5sZW5ndGg7KytyKXRoaXMuX2NvZWRnZXNbcl0uZ2VuZXJhdGVVVkN1cnZlKHQpfTtzLnByb3RvdHlwZS5hZGRJbnNpZGVMb29wPWZ1bmN0aW9uKGUpe3RoaXMuX2luc2lkZUxvb3BzLnB1c2goZSl9LHMucHJvdG90eXBlLnV2QW5nbGVTdWJ0ZW5kZWQ9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuaXNDbG9zZWRMb29wKCkpdGhyb3cgbmV3IEVycm9yKFwidXZBbmdsZVN1YnRlbmRlZCBjYW5ub3Qgd29yayB3aXRoIG9wZW4gbG9vcHNcIik7Zm9yKHZhciB0PTAscj0wO3I8dGhpcy5fY29lZGdlcy5sZW5ndGg7cisrKXt0Kz10aGlzLl9jb2VkZ2VzW3JdLnV2QW5nbGVTdWJ0ZW5kZWQoZSl9cmV0dXJuIHR9LHMucHJvdG90eXBlLmdldEFyYml0cmFyeVBvaW50T25Mb29wPWZ1bmN0aW9uKCl7aWYoMT09PXRoaXMuX2NvZWRnZXMubGVuZ3RoKXt2YXIgZT10aGlzLl9jb2VkZ2VzWzBdLnQwKCk7cmV0dXJuIHRoaXMuX2NvZWRnZXNbMF0uZXZhbHVhdGVQb3NpdGlvbihlKX12YXIgdD10aGlzLl9jb2VkZ2VzWzBdLmdldFN0YXJ0VmVydGV4KCk7aWYodClyZXR1cm4gdC5nZXRQb3NpdGlvbigpfSxzLnByb3RvdHlwZS5pc0luc2lkZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldEFyYml0cmFyeVBvaW50T25Mb29wKCkscj1NYXRoLmFicyhlLnV2QW5nbGVTdWJ0ZW5kZWQodCkpLG89TWF0aC5mbG9vcihyLygyKk1hdGguUEkpKSxuPXItMipvKk1hdGguUEk7cmV0dXJuISEoTWF0aC5hYnMobik8aS5LRVJORUxfVE9MRVJBTkNFJiZvfHxNYXRoLmFicyhuLTIqTWF0aC5QSSk8aS5LRVJORUxfVE9MRVJBTkNFKX0scy5wcm90b3R5cGUuZ2V0RW5jbG9zdXJlUmFuaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmNsb3N1cmVSYW5rfSxzLnByb3RvdHlwZS5yZXNldEVuY2xvc3VyZVJhbms9ZnVuY3Rpb24oKXt0aGlzLl9lbmNsb3N1cmVSYW5rPTB9LHMucHJvdG90eXBlLmRlY3JlYXNlRW5jbG9zdXJlUmFuaz1mdW5jdGlvbigpe3RoaXMuX2VuY2xvc3VyZVJhbmstLX0scy5wcm90b3R5cGUuc2V0SXNPdXRlckxvb3A9ZnVuY3Rpb24oZSl7dGhpcy5faXNPdXRlckxvb3A9ZX0scy5wcm90b3R5cGUuaXNPdXRlckxvb3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNPdXRlckxvb3B9LHMucHJvdG90eXBlLmlzQ2xvc2VkTG9vcD1mdW5jdGlvbigpe3JldHVybiF0aGlzLl9pc09wZW59LHMucHJvdG90eXBlLmFkZEluc2lkZUxvb3A9ZnVuY3Rpb24oZSl7dGhpcy5faW5zaWRlTG9vcHMucHVzaChlKX0scy5wcm90b3R5cGUuZ2V0SW1tZWRpYXRlbHlJbnNpZGVMb29wcz1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDx0aGlzLl9pbnNpZGVMb29wcy5sZW5ndGg7dCsrKXRoaXMuX2luc2lkZUxvb3BzW3RdLmdldEVuY2xvc3VyZVJhbmsoKT09PXRoaXMuX2VuY2xvc3VyZVJhbmstMSYmZS5wdXNoKHRoaXMuX2luc2lkZUxvb3BzW3RdKTtyZXR1cm4gZX07dmFyIGE9ZnVuY3Rpb24oZSx0KXt0aGlzLl9mYWNlPWUsdGhpcy5fbG9vcHM9W107Zm9yKHZhciByPTA7cjx0aGlzLl9mYWNlLmdldExvb3BzKCkubGVuZ3RoOysrcil0aGlzLl9sb29wcy5wdXNoKG5ldyBzKHRoaXMuX2ZhY2UuZ2V0TG9vcHMoKVtyXSx0KSk7dGhpcy5fY2FsY1NlbnNlcygpfTthLnByb3RvdHlwZS5fY2FsY1NlbnNlcz1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLl9sb29wcy5sZW5ndGgsdD0wO3Q8ZTt0KyspdGhpcy5fbG9vcHNbdF0ucmVzZXRFbmNsb3N1cmVSYW5rKCk7Zm9yKHQ9MDt0PGU7dCsrKWlmKHRoaXMuX2xvb3BzW3RdLmlzQ2xvc2VkTG9vcCgpKWZvcih2YXIgcj0wO3I8ZTtyKyspdGhpcy5fbG9vcHNbcl0uaXNDbG9zZWRMb29wKCkmJnQhPT1yJiZ0aGlzLl9sb29wc1t0XS5pc0luc2lkZSh0aGlzLl9sb29wc1tyXSkmJiF0aGlzLl9sb29wc1tyXS5pc0luc2lkZSh0aGlzLl9sb29wc1t0XSkmJih0aGlzLl9sb29wc1t0XS5kZWNyZWFzZUVuY2xvc3VyZVJhbmsoKSx0aGlzLl9sb29wc1tyXS5hZGRJbnNpZGVMb29wKHRoaXMuX2xvb3BzW3RdKSk7Zm9yKHQ9MDt0PGU7dCsrKXt2YXIgbz0wLXRoaXMuX2xvb3BzW3RdLmdldEVuY2xvc3VyZVJhbmsoKTt0aGlzLl9sb29wc1t0XS5zZXRJc091dGVyTG9vcChvJTI9PTApfX0sYS5wcm90b3R5cGUuZ2V0UmFuazBMb29wcz1mdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiB0aGlzLl9sb29wcy5mb3JFYWNoKChmdW5jdGlvbih0KXswPT09dC5nZXRFbmNsb3N1cmVSYW5rKCkmJmUucHVzaCh0KX0pKSxlfTt0LnRlc3NlbGxhdGVMb29wPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPVtdLGk9MCxuPWUuZ2V0Q29lZGdlcygpLmxlbmd0aDtpPG47KytpKXt2YXIgcz1lLmdldENvZWRnZXMoKVtpXSxhPXMuZ2V0RWRnZSgpLGM9YS50ZXNzZWxsYXRlKHZvaWQgMCx0KS5wb3NpdGlvbnM7Yz1jLnNsaWNlKDEsYy5sZW5ndGgtMSksKGM9W28uVmVjdG9yMy5jbG9uZShhLmdldFN0YXJ0VmVydGV4KCkuZ2V0UG9zaXRpb24oKSldLmNvbmNhdChjKSkucHVzaChvLlZlY3RvcjMuY2xvbmUoYS5nZXRFbmRWZXJ0ZXgoKS5nZXRQb3NpdGlvbigpKSkscy5pc1JldmVyc2VkKCkmJmMucmV2ZXJzZSgpLHI9ci5jb25jYXQoYy5zbGljZSgwLGMubGVuZ3RoLTEpKX1yZXR1cm4gcn0sdC5pc0xvb3BDQ1c9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAscj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz0ocisxKSVlLmxlbmd0aDt0Kz1lW3JdWzBdKmVbb11bMV0tZVtyXVsxXSplW29dWzBdfXJldHVybiB0PjB9LHQuaW50ZXJzZWN0U2VnbWVudHM9ZnVuY3Rpb24oZSx0LHIsaSxzKXt2YXIgYT1bW3RbMF0tZVswXSwtKGlbMF0tclswXSksclswXS1lWzBdXSxbdFsxXS1lWzFdLC0oaVsxXS1yWzFdKSxyWzFdLWVbMV1dXSxjPSgwLG4uc29sdmVUd29FcXVhdGlvbnNUd29WYXJpYWJsZXMpKGEpO2lmKHZvaWQgMD09PWMpcmV0dXJuITE7dmFyIHU9by5WZWN0b3IzLmRpc3RhbmNlKGUsdCksbD1vLlZlY3RvcjMuZGlzdGFuY2UocixpKTtyZXR1cm57aW50ZXJzZWN0aW9uOi1zPGNbMF0qdSYmKGNbMF0tMSkqdTxzJiYtczxjWzFdKmwmJihjWzFdLTEpKmw8cyxzb2x1dGlvbnM6Y319LHQuTG9vcENhbGN1bGF0b3I9YX0sODA4MDooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5nZXRCb3VuZGVkUmVnaW9uRmFjZXM9dC5nZXRSZWdpb25FZGdlcz10Lm1lcmdlU2tldGNoUmVnaW9ucz12b2lkIDA7dmFyIG89cigyNDY4KSxpPXIoNzYxNiksbj1yKDg3NjgpLHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmdldFByb2dlbml0b3JNYXAoKSxpPW5ldyBTZXQ7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ci5nZXREZXNjZW5kYW50cyhlKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmdldFRvcG9sb2d5VHlwZSgpPT09by5UT1BPTE9HWV9UWVBFUy5FREdFJiZpLmFkZChlKX0pKX0pKSxBcnJheS5mcm9tKGkpfSxhPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KDAsaS5maW5kQ29ubmVjdGVkRmFjZXMpKGUse2FsbG93VmVydGV4Q29ubmVjdGlvbnM6ITEsYmFycmllckVkZ2VzOnR9KSxvPVtdO3JldHVybiByLmZvckVhY2goKGZ1bmN0aW9uKGUpeyhmdW5jdGlvbihlLHQpe2U9bmV3IFNldChlKSx0PW5ldyBTZXQodCk7dmFyIHI9bmV3IFNldDtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuY29sbGVjdEVkZ2VzKHIpfSkpLHI9QXJyYXkuZnJvbShyKTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIGk9cltvXTtpZighdC5oYXMoaSkpe3ZhciBuPWkuZ2V0Q29lZGdlcygpO2lmKG4ubGVuZ3RoPDIpcmV0dXJuITE7Zm9yKHZhciBzPTA7czxuLmxlbmd0aDtzKyspaWYoIWUuaGFzKG5bc10uZ2V0RmFjZSgpKSlyZXR1cm4hMX19cmV0dXJuITB9KShlLHQpJiYobz1vLmNvbmNhdChlKSl9KSksb30sYz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKHQuaW5kZXhPZihlW3JdKTwwKXJldHVybiExO3JldHVybiEwfTt0Lm1lcmdlU2tldGNoUmVnaW9ucz1mdW5jdGlvbihlKXt2YXIgdCxyLG89W107ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtvPW8uY29uY2F0KGUuZ2V0RWRnZXMoKSl9KSk7dmFyIHU9bmV3IG4uU2tldGNoUmVnaW9uU29sdmVyO3UuY29tcHV0ZShvKTt2YXIgbD11LmdldEZhY2VzKCksaD1bXSxkPVtdO2Zvcih0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBwPXModSxlW3RdLmdldEVkZ2VzKCkpO2lmKDAhPT1wLmxlbmd0aCl7dmFyIGc9YShsLHApOzAhPT1nLmxlbmd0aCYmKGQucHVzaChwKSxoLnB1c2goZykpfX1mb3IodmFyIGY9W10sdj1uZXcgU2V0KGwpLF89ITA7aC5sZW5ndGg+MDspe3ZhciB5PVtdO2Zvcih0PTA7dDxoLmxlbmd0aDt0Kyspe3ZhciBtPSExO2ZvcihyPTA7cjxoLmxlbmd0aDtyKyspaWYodCE9PXImJmMoaFt0XSxoW3JdKSl7bT0hMDticmVha315LnB1c2gobSl9dmFyIEU9bmV3IFNldDtmb3IodD1oLmxlbmd0aC0xO3Q+PTA7dC0tKXlbdF0/aFt0XS5mb3JFYWNoKChmdW5jdGlvbihlKXtFLmFkZChlKSx2LmRlbGV0ZShlKX0pKTooaC5zcGxpY2UodCwxKSxkLnNwbGljZSh0LDEpKTtfJiYoZj1mLmNvbmNhdChBcnJheS5mcm9tKHYpKSksdj1FLF89IV99cmV0dXJuKDAsaS5tZXJnZUNvbm5lY3RlZEZhY2VzKShmKX0sdC5nZXRSZWdpb25FZGdlcz1zLHQuZ2V0Qm91bmRlZFJlZ2lvbkZhY2VzPWF9LDMyMjc6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUmVnaW9uVG9wb2xvZ3lGYWNlPXQuUmVnaW9uVG9wb2xvZ3lFZGdlPXQuUmVnaW9uVG9wb2xvZ3lWZXJ0ZXg9dm9pZCAwO3ZhciBvLGk9cigxOTcyKSxuPXIoNjk0MCkscz1yKDc1ODApLGE9cig2Nzc2KSxjPXIoMjQ2OCksdT1yKDQ3MjgpLGw9cigyODU2KSxoPShvPWwpJiZvLl9fZXNNb2R1bGU/bzp7ZGVmYXVsdDpvfTt2YXIgZD1mdW5jdGlvbihlKXtuLlZlcnRleC5jYWxsKHRoaXMsZSksdGhpcy5fYXNzb2NpYXRlZFZlcnRpY2VzPVtdfTsoZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLlZlcnRleC5wcm90b3R5cGUpKS5zZXRBc3NvY2lhdGVkRW50aXRpZXM9ZnVuY3Rpb24oZSl7dGhpcy5fYXNzb2NpYXRlZFZlcnRpY2VzPWguZGVmYXVsdC5jbG9uZShlKX0sZC5wcm90b3R5cGUuZ2V0QXNzb2NpYXRlZEVudGl0aWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Fzc29jaWF0ZWRWZXJ0aWNlc307dmFyIHA9ZnVuY3Rpb24oZSl7cy5FZGdlLmNhbGwodGhpcyxlKSx0aGlzLl9zb3VyY2VFZGdlPXZvaWQgMCx0aGlzLl9hc3NvY2lhdGVkRWRnZXM9W10sdGhpcy5faXNEYW5nbGluZz0hMX07KHAucHJvdG90eXBlPU9iamVjdC5jcmVhdGUocy5FZGdlLnByb3RvdHlwZSkpLnNldEFzc29jaWF0ZWRFZGdlcz1mdW5jdGlvbihlKXt0aGlzLl9hc3NvY2lhdGVkRWRnZXM9ZX0scC5wcm90b3R5cGUuZ2V0QXNzb2NpYXRlZEVudGl0aWVzPWZ1bmN0aW9uKCl7cmV0dXJuIGguZGVmYXVsdC5tYXAodGhpcy5fYXNzb2NpYXRlZEVkZ2VzLChmdW5jdGlvbihlKXtyZXR1cm4gZS5lZGdlfSkpfSxwLnByb3RvdHlwZS5nZXRBc3NvY2lhdGVkRWRnZUluZm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXNzb2NpYXRlZEVkZ2VzfSxwLnByb3RvdHlwZS5zZXRUb0VkZ2VTZWdtZW50PWZ1bmN0aW9uKGUsdCl7dGhpcy5fc291cmNlRWRnZT1lLHRoaXMuX2N1cnZlPWUuZ2V0Q3VydmUoKSx0aGlzLl9yZXZlcnNlZD1lLmlzUmV2ZXJzZWQoKSx0aGlzLnNldFJhbmdlKHQpfSxwLnByb3RvdHlwZS5zZXRJc0RhbmdsaW5nPWZ1bmN0aW9uKGUpe3RoaXMuX2lzRGFuZ2xpbmc9ZX0scC5wcm90b3R5cGUuaXNEYW5nbGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0RhbmdsaW5nfSxwLnByb3RvdHlwZS5nZXRTb3VyY2VFZGdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZUVkZ2V9O3ZhciBnPWZ1bmN0aW9uKGUpe2EuRmFjZS5jYWxsKHRoaXMsZSksdGhpcy5fZGFuZ2xpbmdFZGdlcz1bXX07KGcucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYS5GYWNlLnByb3RvdHlwZSkpLmFkZERhbmdsaW5nRWRnZT1mdW5jdGlvbihlKXt0aGlzLl9kYW5nbGluZ0VkZ2VzLnB1c2goZSl9LGcucHJvdG90eXBlLmlzUG9pbnRJbnNpZGVGYWNlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLHI9MDtyPHRoaXMuZ2V0TG9vcHMoKS5sZW5ndGg7KytyKWZvcih2YXIgbz10aGlzLmdldExvb3BzKClbcl0saT0wO2k8by5nZXRDb2VkZ2VzKCkubGVuZ3RoOysraSl7dmFyIG49by5nZXRDb2VkZ2VzKClbaV07aWYoIW4uZ2V0RWRnZSgpLmlzRGFuZ2xpbmcoKSl0Kz1uLnV2QW5nbGVTdWJ0ZW5kZWQoZSl9dD1NYXRoLmFicyh0KTt2YXIgcz1NYXRoLmZsb29yKHQvKDIqTWF0aC5QSSkpLGE9dC0yKnMqTWF0aC5QSTtyZXR1cm4hIShNYXRoLmFicyhhKTxjLlBBUkFNRVRFUl9TUEFDRV9UT0xFUkFOQ0UmJnN8fE1hdGguYWJzKGEtMipNYXRoLlBJKTxjLlBBUkFNRVRFUl9TUEFDRV9UT0xFUkFOQ0UpfSxnLnByb3RvdHlwZS5nZXRSZXByZXNlbnRhdGl2ZVBvaW50PWZ1bmN0aW9uKCl7dmFyIGUsdCxyPWkuVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCksbz10aGlzLmdldEJvdW5kaW5nQm94KCksbj0oby5tYXhbMF0tby5taW5bMF0pLzMzLHM9KG8ubWF4WzFdLW8ubWluWzFdKS8zMztmb3IoZT0xO2U8MzI7KytlKWZvcih0PTE7dDwzMjsrK3QpaWYoclswXT1vLm1pblswXStuKmUsclsxXT1vLm1pblsxXStzKnQsdGhpcy5pc1BvaW50SW5zaWRlRmFjZShyKSlyZXR1cm4gcjtyZXR1cm4gdS5Db25zb2xlVXRpbHMuYXNzZXJ0KCExKSxvLmdldENlbnRlcigpfSxnLnByb3RvdHlwZS5nZXREYW5nbGluZ0VkZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhbmdsaW5nRWRnZXN9LHQuUmVnaW9uVG9wb2xvZ3lWZXJ0ZXg9ZCx0LlJlZ2lvblRvcG9sb2d5RWRnZT1wLHQuUmVnaW9uVG9wb2xvZ3lGYWNlPWd9LDc0NDooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5tYXRjaFJlZ2lvbkVkZ2VSZWNpcGU9dC5kZXNlcmlhbGl6ZVJlZ2lvbkVkZ2VSZWNpcGU9dC5zZXJpYWxpemVSZWdpb25FZGdlUmVjaXBlPXQuY3JlYXRlUmVjaXBlRnJvbVJlZ2lvbkVkZ2U9dC5tYXRjaFJlZ2lvbkZhY2VSZWNpcGU9dC5kZXNlcmlhbGl6ZVJlZ2lvbkZhY2VSZWNpcGU9dC5zZXJpYWxpemVSZWdpb25GYWNlUmVjaXBlPXQuY3JlYXRlUmVjaXBlRnJvbVJlZ2lvbkZhY2U9dm9pZCAwO3ZhciBvLGk9cigxOTcyKSxuPXIoNTg5Nikscz1yKDI0NjgpLGE9cig5OTUyKSxjPXIoNDcyOCksdT1yKDYxMjApLGw9cigyODU2KSxoPShvPWwpJiZvLl9fZXNNb2R1bGU/bzp7ZGVmYXVsdDpvfTt2YXIgZD0wLHA9MSxnPTIsZj0xLHY9MSxfPWZ1bmN0aW9uKGUsdCl7dmFyIHI9aC5kZWZhdWx0LmZpbHRlcih0LnJlZ2lvblZlcnRpY2VzLChmdW5jdGlvbih0KXtyZXR1cm4gaC5kZWZhdWx0LmNvbnRhaW5zKHQuZ2V0QXNzb2NpYXRlZEVudGl0aWVzKCksZS5nZXRTdGFydFZlcnRleCgpKX0pKTtjLkNvbnNvbGVVdGlscy5hc3NlcnQoMT09PXIubGVuZ3RoKSxyPXJbMF07dmFyIG89W10saT1bXSxuPW5ldyBTZXQscz1yLGE9dm9pZCAwO2lmKHMpZG97by5wdXNoKHMpO3ZhciB1PWguZGVmYXVsdC5maWx0ZXIocy5nZXRFZGdlcygpLChmdW5jdGlvbih0KXtyZXR1cm4gdCE9PWEmJmguZGVmYXVsdC5jb250YWlucyh0LmdldEFzc29jaWF0ZWRFbnRpdGllcygpLGUpJiYhbi5oYXModCl9KSk7aWYoMD09PXUubGVuZ3RoKXtjLkNvbnNvbGVVdGlscy5hc3NlcnQoIWUuaXNDbG9zZWQoKSksYy5Db25zb2xlVXRpbHMuYXNzZXJ0KGguZGVmYXVsdC5jb250YWlucyhzLmdldEFzc29jaWF0ZWRFbnRpdGllcygpLGUuZ2V0RW5kVmVydGV4KCkpKTticmVha312YXIgbD12b2lkIDA7aWYodS5sZW5ndGg+MSl7dS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiBlLnQwKCktdC50MCgpfSkpO2Zvcih2YXIgZD0wO2Q8dS5sZW5ndGg7ZCsrKWlmKHVbZF0uZ2V0U3RhcnRWZXJ0ZXgoKT09PXMpe2w9dVtkXTticmVha31jLkNvbnNvbGVVdGlscy5hc3NlcnQobCl9ZWxzZSBsPXVbMF07cz1sLmdldE90aGVyVmVydGV4KHMpLGMuQ29uc29sZVV0aWxzLmFzc2VydChzKSxhPWwsbi5hZGQoYSksaS5wdXNoKGEpfXdoaWxlKHMhPT1yKTtyZXR1cm57ZWRnZXM6aSx2ZXJ0aWNlczpvfX0seT1mdW5jdGlvbihlLHQscil7dmFyIG89W10sbj1oLmRlZmF1bHQuZmlsdGVyKHQsKGZ1bmN0aW9uKHQpe3JldHVybiB0IT09ZX0pKTtpZigwPT09bi5sZW5ndGgpO2Vsc2UgZm9yKHZhciBhPXIudmVydGljZXMsYz0wO2M8YS5sZW5ndGg7YysrKXtmb3IodmFyIHU9YVtjXSxsPSExLGQ9dS5nZXRFZGdlcygpLHA9MDtwPGQubGVuZ3RoO3ArKylpZihoLmRlZmF1bHQuaW50ZXJzZWN0aW9uKG4sZFtwXS5nZXRBc3NvY2lhdGVkRW50aXRpZXMoKSkubGVuZ3RoPjApe2w9ITA7YnJlYWt9bCYmby5wdXNoKHt2ZXJ0ZXg6dSxpbmRleEluVG9wb2xvZ3k6Y30pfWlmKGUuaXNDbG9zZWQoKSYmMj09PW8ubGVuZ3RoJiYxPT09bi5sZW5ndGgpe3ZhciBnPSExO2lmKG5bMF0uZ2V0Q3VydmVUeXBlKCk9PT1zLkdFT01FVFJZX1RZUEVTLkxJTkUpe3ZhciBmPW5bMF0sdj1mLmNsb3Nlc3RUb1BvaW50UGFyYW0ob1swXS52ZXJ0ZXguZ2V0UG9zaXRpb24oKSk7Zz1mLmNsb3Nlc3RUb1BvaW50UGFyYW0ob1sxXS52ZXJ0ZXguZ2V0UG9zaXRpb24oKSk8dn1lbHNlIGlmKGUuZ2V0Q3VydmVUeXBlKCk9PT1zLkdFT01FVFJZX1RZUEVTLkNJUkNMRSYmblswXS5nZXRDdXJ2ZVR5cGUoKT09PXMuR0VPTUVUUllfVFlQRVMuQ0lSQ0xFKXt2YXIgXz1lLmdldEN1cnZlKCkuZ2V0Q2VudGVyKCkseT1pLlZlY3RvcjMuc3ViKFswLDAsMF0sblswXS5nZXRDdXJ2ZSgpLmdldENlbnRlcigpLF8pO2lmKGkuVmVjdG9yMy5sZW5ndGgoeSk+MCl7aS5WZWN0b3IzLm5vcm1hbGl6ZSh5LHkpO3ZhciBtPWkuVmVjdG9yMy5zdWIoWzAsMCwwXSxvWzBdLnZlcnRleC5nZXRQb3NpdGlvbigpLF8pLEU9aS5WZWN0b3IzLnN1YihbMCwwLDBdLG9bMV0udmVydGV4LmdldFBvc2l0aW9uKCksXykseD1tLngqeS55LW0ueSp5LngsUj1FLngqeS55LUUueSp5Lng7eD4wJiZSPDAmJihnPSEwKX19aWYoZyl7dmFyIEE9b1sxXTtvWzFdPW9bMF0sb1swXT1BfX1yZXR1cm4gb30sbT1mdW5jdGlvbihlLHQscixvLGkpe3ZhciBuLHM9e307c1tlLmdldEd1aWQoKV09e2Rpc3Q6MCxwcmV2Om51bGwscHJldkVkZ2U6bnVsbCx2ZXJ0ZXg6ZSxndWlkOmUuZ2V0R3VpZCgpfTt2YXIgYz1uZXcgYS5CaW5hcnlIZWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kaXN0fSksKGZ1bmN0aW9uKGUpe3JldHVybiBlLmd1aWR9KSk7Zm9yKGMucHVzaChzW2UuZ2V0R3VpZCgpXSk7MCE9PWMuc2l6ZSgpOyl7dmFyIHU9Yy5wb3AoKTtpZih1PT09dClicmVhaztuPXUudmVydGV4LmdldEVkZ2VzKCk7Zm9yKHZhciBsPTA7bDxuLmxlbmd0aDtsKyspe3ZhciBkPW5bbF0uZ2V0T3RoZXJWZXJ0ZXgodS52ZXJ0ZXgpO2lmKGQmJiFvW25bbF0uZ2V0R3VpZCgpXSYmKCFyW2QuZ2V0R3VpZCgpXXx8ZD09PXQpKXtmb3IodmFyIHA9bltsXS5nZXRFbmRWZXJ0ZXgoKT09PWQsZz0hMSxmPW5bbF0uZ2V0QXNzb2NpYXRlZEVudGl0aWVzKCksXz0wO188aS5sZW5ndGg7XysrKWlmKGguZGVmYXVsdC5jb250YWlucyhmLGlbX10uZWRnZSkmJmlbX10ub3JpZW50YXRpb249PT1wKXtnPSEwO2JyZWFrfXZhciB5PXNbdS5ndWlkXS5kaXN0O2d8fCh5Kz12KSx2b2lkIDA9PT1zW2QuZ2V0R3VpZCgpXT8oc1tkLmdldEd1aWQoKV09e2Rpc3Q6eSxwcmV2OnUscHJldkVkZ2U6bltsXSx2ZXJ0ZXg6ZCxndWlkOmQuZ2V0R3VpZCgpfSxjLnB1c2goc1tkLmdldEd1aWQoKV0pKTpzW2QuZ2V0R3VpZCgpXS5kaXN0PnkmJihzW2QuZ2V0R3VpZCgpXS5kaXN0PXksc1tkLmdldEd1aWQoKV0ucHJldj11LHNbZC5nZXRHdWlkKCldLnByZXZFZGdlPW5bbF0sYy51cGRhdGVkKHNbZC5nZXRHdWlkKCldKSl9fX12YXIgbT1zW3QuZ2V0R3VpZCgpXTtpZihtKXtuPVtdO2Zvcih2YXIgRT1bXSx4PW0sUj10O3gucHJldkVkZ2U7KXt2YXIgQT14LnByZXZFZGdlO24ucHVzaChBKSx4PXgucHJldixFLnB1c2goQS5nZXRFbmRWZXJ0ZXgoKT09PVIpLFI9QS5nZXRPdGhlclZlcnRleChSKX1yZXR1cm57ZGlzdDptLmRpc3QsZWRnZXM6bi5yZXZlcnNlKCksb3JpZW50YXRpb25zOkUucmV2ZXJzZSgpLHN0YXJ0VmVydGV4OmUsZW5kVmVydGV4OnR9fXJldHVybntkaXN0OjEvMCxlZGdlczpbXX19LEU9ZnVuY3Rpb24oZSx0LHIsbyxpLHMsYSl7Zm9yKHZhciBjPWVbaV0sdT17fSxsPTA7bDxjLmxlbmd0aDtsKyspbnVsbCE9PWNbbF0uZW5kVmVydGV4JiYodVtjW2xdLmVuZFZlcnRleC5nZXRHdWlkKCldP3VbY1tsXS5lbmRWZXJ0ZXguZ2V0R3VpZCgpXS5pbmNvbWluZ0VkZ2VzLnB1c2goe2VkZ2U6Y1tsXS5lZGdlLG9yaWVudGF0aW9uOmNbbF0uZWRnZU9yaWVudGVkfSk6dVtjW2xdLmVuZFZlcnRleC5nZXRHdWlkKCldPXtlZGdlSW5kZXg6bCxlZGdlSW5mbzpjW2xdLHZlcnRleDpjW2xdLmVuZFZlcnRleCxpbmNvbWluZ0VkZ2VzOlt7ZWRnZTpjW2xdLmVkZ2Usb3JpZW50YXRpb246Y1tsXS5lZGdlT3JpZW50ZWR9XX0pO2lmKGguZGVmYXVsdC52YWx1ZXModSkubGVuZ3RoPjApe3ZhciBkPXMudmVydGljZXMscD1zLmVkZ2VzLGc9aC5kZWZhdWx0LmtleXModSksZj17ZGlzdDoxLzB9LHY9bztkb3t2PSgwLG4ubW9kdWx1cykodi0xLGUubGVuZ3RoKTtmb3IodmFyIF89aC5kZWZhdWx0LmtleXMoYVt2XSkseT0wO3k8Xy5sZW5ndGg7eSsrKXt2YXIgRT1hW3ZdW19beV1dLnZlcnRleDtpZihFKWZvcih2YXIgeD0wO3g8Zy5sZW5ndGg7eCsrKXt2YXIgUj11W2dbeF1dLnZlcnRleCxBPWFbdl1bX1t5XV0ub3V0Z29pbmdFZGdlcy5jb25jYXQodVtnW3hdXS5pbmNvbWluZ0VkZ2VzKSxQPW0oRSxSLGQscCxBKTtQLmRpc3Q8Zi5kaXN0JiYoKGY9UCkuc3RhcnRJbmRleD12KX19fXdoaWxlKHYhPT10JiZmLmRpc3Q9PT0xLzApO2lmKGYuZGlzdDwxLzApe3ZhciBWPWFbZi5zdGFydEluZGV4XVtmLnN0YXJ0VmVydGV4LmdldEd1aWQoKV0sVD1hW2ldW2YuZW5kVmVydGV4LmdldEd1aWQoKV0sYj1WLmNvc3QrZi5kaXN0OyghVHx8YjxULmNvc3R8fGk9PT10JiZmLmVuZFZlcnRleC5nZXRHdWlkKCk9PT1yLmdldEd1aWQoKSYmbnVsbD09PVQucHJldmlvdXNHdWlkKSYmKGFbaV1bZi5lbmRWZXJ0ZXguZ2V0R3VpZCgpXT17cHJldmlvdXNHdWlkOmYuc3RhcnRWZXJ0ZXguZ2V0R3VpZCgpLGVkZ2VTZWdtZW50Om51bGwsaW5kZXhSYW5nZTpbXSxjb3N0OlYuY29zdCtmLmRpc3QsdmVydGV4OmYuZW5kVmVydGV4LHByZXZpb3VzSW5kZXg6Zi5zdGFydEluZGV4LGNvbm5lY3Rpb25FZGdlczpmLmVkZ2VzLGNvbm5lY3Rpb25PcmllbnRhdGlvbjpmLm9yaWVudGF0aW9ucyxvdXRnb2luZ0VkZ2VzOltdfSl9fX0seD1mdW5jdGlvbihlLHQscixvLGkpe3ZhciBzPVtdLGE9ZVt0XVtyXS5lbmRWZXJ0ZXg7c1t0XT17fSxzW3RdW2EuZ2V0R3VpZCgpXT17cHJldmlvdXNHdWlkOm51bGwsZWRnZVNlZ21lbnQ6bnVsbCxwcmV2aW91c0luZGV4Om51bGwsY29zdDowLHZlcnRleDphLG91dGdvaW5nRWRnZXM6W119O3ZhciBjPXQ7ZG97dmFyIHU9KDAsbi5tb2R1bHVzKShjKzEsZS5sZW5ndGgpLGw9ZVt1XTtzW3VdPXNbdV18fHt9O2Zvcih2YXIgZD1oLmRlZmF1bHQua2V5cyhzW2NdKSxwPTAsZz0wO2c8ZC5sZW5ndGg7ZysrKWZvcih2YXIgdj1kW2ddLF89MDtfPGwubGVuZ3RoO18rKylpZihsW19dLnN0YXJ0VmVydGljZXNbdl0pe3NbY11bdl0ub3V0Z29pbmdFZGdlcy5wdXNoKHtlZGdlOmxbX10uZWRnZSxvcmllbnRhdGlvbjpsW19dLmVkZ2VPcmllbnRlZH0pO3ZhciB5PWxbX10uZW5kVmVydGV4O2lmKG51bGwhPT15KXt2YXIgbT1zW2NdW3ZdLmNvc3Q7aWYoIWxbX10uZWRnZS5pc0Nsb3NlZCgpKWxbX10uZW5kVmVydGV4VG9wb2xvZ3lJbmRleD5sW19dLnN0YXJ0VmVydGljZXNbdl0udmVydGV4SW5kZXghPT1sW19dLmVkZ2VPcmllbnRlZCYmKG0rPWYpOyghc1t1XVt5LmdldEd1aWQoKV18fHNbdV1beS5nZXRHdWlkKCldLmNvc3Q+bXx8dT09PXQmJnkuZ2V0R3VpZCgpPT09YS5nZXRHdWlkKCkmJm51bGw9PT1zW3VdW3kuZ2V0R3VpZCgpXS5wcmV2aW91c0d1aWQpJiYoc1t1XVt5LmdldEd1aWQoKV09e3ByZXZpb3VzR3VpZDp2LGVkZ2VTZWdtZW50OmxbX10saW5kZXhSYW5nZTpbbFtfXS5zdGFydFZlcnRpY2VzW3ZdLnZlcnRleEluZGV4LGxbX10uZW5kVmVydGV4VG9wb2xvZ3lJbmRleF0sY29zdDptLHZlcnRleDp5LHByZXZpb3VzSW5kZXg6YyxvdXRnb2luZ0VkZ2VzOltdfSxwKyspfWVsc2UgbT1zW2NdW3ZdLmNvc3QsKCFzW3VdW3ZdfHxzW3VdW3ZdLmNvc3Q+bSkmJihzW3VdW3ZdPXtwcmV2aW91c0d1aWQ6dixlZGdlU2VnbWVudDpsW19dLGluZGV4UmFuZ2U6W10sY29zdDptLHByZXZpb3VzSW5kZXg6YyxvdXRnb2luZ0VkZ2VzOltdfSl9MD09PXAmJkUoZSx0LGEsYyx1LG8scyksYz11fXdoaWxlKGMhPT10KTtudWxsIT09c1t0XVthLmdldEd1aWQoKV0ucHJldmlvdXNHdWlkJiZzW3RdW2EuZ2V0R3VpZCgpXS5jb3N0PGkuY29zdCYmKGkuY29zdD1zW3RdW2EuZ2V0R3VpZCgpXS5jb3N0LGkuc3RhdGU9cyxpLnN0YXJ0R3VpZD1hLmdldEd1aWQoKSl9LFI9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fSxvPXt9LGk9e30scz10O2Rve3ZhciBhPSgwLG4ubW9kdWx1cykocysxLGUubGVuZ3RoKSxjPWVbc10sdT1lW2FdLGw9aTtpPXt9O2Zvcih2YXIgaD0wO2g8dS5sZW5ndGg7aCsrKXt2YXIgZD11W2hdLnRvcG9sb2d5QWxvbmdFZGdlLnZlcnRpY2VzLHA9dVtoXS50b3BvbG9neUFsb25nRWRnZS5lZGdlczt1W2hdLnN0YXJ0VmVydGljZXM9e307dmFyIGc9dm9pZCAwLGY9dm9pZCAwLHY9Yy5sZW5ndGg7dm9pZCAwIT09bFt1W2hdLmVkZ2UuZ2V0R3VpZCgpXSYmdisrO2Zvcih2YXIgXz0wO188djtfKyspe3ZhciB5PXZvaWQgMDtpZihfPT09Yy5sZW5ndGgpeT1sW3VbaF0uZWRnZS5nZXRHdWlkKCldO2Vsc2V7aWYoIWNbX10uZW5kVmVydGV4KWNvbnRpbnVlO3k9Y1tfXS5lbmRWZXJ0ZXguZ2V0R3VpZCgpfWZvcih2YXIgbT12b2lkIDAsRT0wO0U8ZC5sZW5ndGg7RSsrKWlmKGRbRV0uZ2V0R3VpZCgpPT09eSl7bT1FO2JyZWFrfXZvaWQgMCE9PW0mJih1W2hdLnN0YXJ0VmVydGljZXNbeV09e3ZlcnRleDpkW21dLHZlcnRleEluZGV4Om19LG51bGwhPT11W2hdLmVuZFZlcnRleCYmKHVbaF0uZWRnZU9yaWVudGVkPyhnPXZvaWQgMCE9PWc/TWF0aC5taW4oZyxtKTptLGY9dm9pZCAwIT09Zj9NYXRoLm1heChmLHVbaF0uZW5kVmVydGV4VG9wb2xvZ3lJbmRleCk6dVtoXS5lbmRWZXJ0ZXhUb3BvbG9neUluZGV4KTooZz12b2lkIDAhPT1nP01hdGgubWF4KGcsbSk6bSxmPXZvaWQgMCE9PWY/TWF0aC5taW4oZix1W2hdLmVuZFZlcnRleFRvcG9sb2d5SW5kZXgpOnVbaF0uZW5kVmVydGV4VG9wb2xvZ3lJbmRleCkpLHZvaWQgMD09PWlbdVtoXS5lZGdlLmdldEd1aWQoKV0mJihpW3VbaF0uZWRnZS5nZXRHdWlkKCldPXkpKX1pZih2b2lkIDAhPT1nJiZ2b2lkIDAhPT1mKXtpZihnIT09Zil7dmFyIHg7eD11W2hdLmVkZ2UuaXNDbG9zZWQoKT91W2hdLmVkZ2VPcmllbnRlZD8xOi0xOmc8Zj8xOi0xO3ZhciBSPWc7ZG97aWYocltkW1JdLmdldEd1aWQoKV09ZFtSXSx4PjApUiE9PWYmJihvW3BbUl0uZ2V0R3VpZCgpXT1wW1JdKTtlbHNle3ZhciBBPSgwLG4ubW9kdWx1cykoUi0xLHAubGVuZ3RoKTtvW3BbQV0uZ2V0R3VpZCgpXT1wW0FdfVI9KDAsbi5tb2R1bHVzKShSK3gsZC5sZW5ndGgpfXdoaWxlKFIhPT1mKX1yW2RbZl0uZ2V0R3VpZCgpXT1kW2ZdfX1zPWF9d2hpbGUocyE9PXQpO3JldHVybnt2ZXJ0aWNlczpyLGVkZ2VzOm99fShlLHQpLG89e2Nvc3Q6MS8wLHN0YXRlOnZvaWQgMCxzdGFydEd1aWQ6dm9pZCAwfSxpPTA7aTxlW3RdLmxlbmd0aDtpKyspbnVsbCE9PWVbdF1baV0uZW5kVmVydGV4JiZ4KGUsdCxpLHIsbyk7aWYoby5jb3N0PT09MS8wKXJldHVybntlZGdlczp2b2lkIDAsZWRnZU9yaWVudGVkRmxhZ3M6dm9pZCAwLHNjb3JlOjEvMH07dmFyIHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXSxvPWUuc3RhcnRHdWlkLGk9dDtkb3tyLnB1c2goZS5zdGF0ZVtpXVtvXSk7dmFyIHM9ZS5zdGF0ZVtpXVtvXS5wcmV2aW91c0luZGV4O289ZS5zdGF0ZVtpXVtvXS5wcmV2aW91c0d1aWQsaT1zfXdoaWxlKGkhPT10KTtyPXIucmV2ZXJzZSgpO3ZhciBhPVtdLGM9W107Zm9yKGk9MDtpPHIubGVuZ3RoO2krKylpZigwIT09cltpXS5pbmRleFJhbmdlLmxlbmd0aCl7dmFyIHUsbCxoLGQscD1yW2ldLmVkZ2VTZWdtZW50LnRvcG9sb2d5QWxvbmdFZGdlO3JbaV0uaW5kZXhSYW5nZVswXTxyW2ldLmluZGV4UmFuZ2VbMV0/KHU9cltpXS5pbmRleFJhbmdlWzBdLGw9cltpXS5pbmRleFJhbmdlWzFdLHJbaV0uZWRnZVNlZ21lbnQuZWRnZS5pc0Nsb3NlZCgpJiYhcltpXS5lZGdlU2VnbWVudC5lZGdlT3JpZW50ZWQ/KGg9LTEsdT0oMCxuLm1vZHVsdXMpKHJbaV0uaW5kZXhSYW5nZVswXS0xLHAuZWRnZXMubGVuZ3RoKSxsPSgwLG4ubW9kdWx1cykocltpXS5pbmRleFJhbmdlWzFdLTEscC5lZGdlcy5sZW5ndGgpLGQ9ITEpOihoPTEsdT0oMCxuLm1vZHVsdXMpKHJbaV0uaW5kZXhSYW5nZVswXSxwLmVkZ2VzLmxlbmd0aCksbD0oMCxuLm1vZHVsdXMpKHJbaV0uaW5kZXhSYW5nZVsxXSxwLmVkZ2VzLmxlbmd0aCksZD0hMCkpOnJbaV0uZWRnZVNlZ21lbnQuZWRnZS5pc0Nsb3NlZCgpJiZyW2ldLmVkZ2VTZWdtZW50LmVkZ2VPcmllbnRlZD8oaD0xLHU9KDAsbi5tb2R1bHVzKShyW2ldLmluZGV4UmFuZ2VbMF0scC5lZGdlcy5sZW5ndGgpLGw9KDAsbi5tb2R1bHVzKShyW2ldLmluZGV4UmFuZ2VbMV0scC5lZGdlcy5sZW5ndGgpLGQ9ITApOihoPS0xLHU9KDAsbi5tb2R1bHVzKShyW2ldLmluZGV4UmFuZ2VbMF0tMSxwLmVkZ2VzLmxlbmd0aCksbD0oMCxuLm1vZHVsdXMpKHJbaV0uaW5kZXhSYW5nZVsxXS0xLHAuZWRnZXMubGVuZ3RoKSxkPSExKTt2YXIgZz11O2Rve2EucHVzaChwLmVkZ2VzW2ddKSxjLnB1c2goZCksZz0oMCxuLm1vZHVsdXMpKGcraCxwLmVkZ2VzLmxlbmd0aCl9d2hpbGUoZyE9PWwpfWVsc2UgaWYocltpXS5jb25uZWN0aW9uRWRnZXMpZm9yKGc9MDtnPHJbaV0uY29ubmVjdGlvbkVkZ2VzLmxlbmd0aDtnKyspYS5wdXNoKHJbaV0uY29ubmVjdGlvbkVkZ2VzW2ddKSxjLnB1c2gocltpXS5jb25uZWN0aW9uT3JpZW50YXRpb25bZ10pO3JldHVybnt0b3BvbG9neUVkZ2VzOmEsZWRnZU9yaWVudGVkRmxhZ3M6Y319KG8sdCk7cmV0dXJue2VkZ2VzOnMudG9wb2xvZ3lFZGdlcyxlZGdlT3JpZW50ZWRGbGFnczpzLmVkZ2VPcmllbnRlZEZsYWdzLHNjb3JlOm8uY29zdH19LEE9ZnVuY3Rpb24oZSx0KXt2YXIgcixvPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPVtdLG89MDtvPGUubGVuZ3RoO28rKyl7Zm9yKHZhciBpPWVbb10sbj1bXSxzPTA7czxpLmxlbmd0aDtzKyspe3ZhciBhPWlbc10sYz10LnNrZXRjaEVkZ2VzW2EuZWRnZVJlZl07YyYmbi5wdXNoKHtlZGdlUmVmOmEuZWRnZVJlZixlZGdlT3JpZW50ZWQ6YS5lZGdlT3JpZW50ZWQsaW50ZXJzZWN0aW9uTnVtYmVyOmEuaW50ZXJzZWN0aW9uTnVtYmVyLHRvdGFsSW50ZXJzZWN0aW9uczphLnRvdGFsSW50ZXJzZWN0aW9ucyxlZGdlOmMsdG9wb2xvZ3lBbG9uZ0VkZ2U6XyhjLHQpLGVuZFZlcnRleDpudWxsLGVuZFZlcnRleFRvcG9sb2d5SW5kZXg6bnVsbH0pfXIucHVzaChuKX1yZXR1cm4gcn0oZSx0KTtpZih1LkRlYnVnVXRpbHMubGV2ZWwoXCJyZWdpb25fbWF0Y2hcIik+PTIpe3ZhciBpPWguZGVmYXVsdC5wbHVjayhoLmRlZmF1bHQuZmxhdHRlbihvKSxcImVkZ2VcIik7Zm9yKHI9MDtyPGkubGVuZ3RoO3IrKyl1LkRlYnVnVXRpbHMuZHJhd0VkZ2UzRChpW3JdLHtjb2xvcjowLHJlbmRlcjohMX0pO3UuRGVidWdVdGlscy5yZW5kZXIoKX1pZihmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKylmb3IodmFyIHI9aC5kZWZhdWx0LnBsdWNrKGVbKHQrMSklZS5sZW5ndGhdLFwiZWRnZVwiKSxvPTA7bzxlW3RdLmxlbmd0aDtvKyspe3ZhciBpPWVbdF1bb10sbj15KGkuZWRnZSxyLGkudG9wb2xvZ3lBbG9uZ0VkZ2UpO2lmKDA9PT1pLnRvdGFsSW50ZXJzZWN0aW9ucylpLmVuZFZlcnRleD1udWxsO2Vsc2UgaWYobi5sZW5ndGg9PT1pLnRvdGFsSW50ZXJzZWN0aW9ucyl7dmFyIHM9bltpLmludGVyc2VjdGlvbk51bWJlcl07aS5lbmRWZXJ0ZXhUb3BvbG9neUluZGV4PXMuaW5kZXhJblRvcG9sb2d5LGkuZW5kVmVydGV4PXMudmVydGV4fWVsc2UgMD09PW4ubGVuZ3RofHx1LkRlYnVnVXRpbHMud2FybihcIlJlZ2lvbiBtYXRjaGluZyBwcm9ibGVtISBJbnRlcnNlY3Rpb24gY291bnRzIGRvIG5vdCBtYXRjaFwiKSxpLmVuZFZlcnRleD1udWxsfX0obyksdS5EZWJ1Z1V0aWxzLmxldmVsKFwicmVnaW9uX21hdGNoXCIpPj0yKXt2YXIgbj1oLmRlZmF1bHQucGx1Y2soaC5kZWZhdWx0LmZsYXR0ZW4obyksXCJlbmRWZXJ0ZXhcIik7Zm9yKHI9MDtyPG4ubGVuZ3RoO3IrKyludWxsIT09bltyXSYmdS5EZWJ1Z1V0aWxzLmRyYXdWZXJ0ZXgzRChuW3JdLHtjb2xvcjo2NTI4MCxyZW5kZXI6ITF9KTt1LkRlYnVnVXRpbHMucmVuZGVyKCl9dmFyIHM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTEvMCxyPXZvaWQgMCxvPTA7bzxlLmxlbmd0aDtvKyspe3ZhciBpPWVbb107aWYoMCE9PWkubGVuZ3RoKXtmb3IodmFyIG49MCxzPTA7czxpLmxlbmd0aDtzKyspbnVsbCE9PWlbc10uZW5kVmVydGV4JiZuKys7dmFyIGE9aS5sZW5ndGgtbjtpZigwPT09YSlyZXR1cm4gbztuPjAmJmE8dCYmKHQ9YSxyPW8pfX1yZXR1cm4gcn0obyk7aWYodm9pZCAwPT09cyl7Zm9yKHZhciBhPTA7YTxvWzBdLmxlbmd0aDthKyspe3ZhciBjPW9bMF1bYV0uZWRnZTtpZihjLmlzQ2xvc2VkKCkmJmguZGVmYXVsdC5hbGwobywoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspaWYoZVt0XS5lZGdlPT09YylyZXR1cm4hMDtyZXR1cm4hMX0pKSl7dmFyIGw9b1swXVthXS50b3BvbG9neUFsb25nRWRnZS5lZGdlcyxmPW5ldyBBcnJheShsLmxlbmd0aCk7Zm9yKHI9MDtyPGYubGVuZ3RoO3IrKylmW3JdPW9bMF1bYV0uZWRnZU9yaWVudGVkO3JldHVybiBvWzBdW2FdLmVkZ2VPcmllbnRlZHx8bC5yZXZlcnNlKCksdS5EZWJ1Z1V0aWxzLmxldmVsKFwicmVnaW9uX21hdGNoXCIpPj0yJiZ1LkRlYnVnVXRpbHMuZHJhd0VkZ2UzRChjLHtjb2xvcjoxNjcxMTY4MH0pLHtlZGdlczpsLGVkZ2VPcmllbnRlZEZsYWdzOmYsbWF0Y2hTdGF0dXM6Z319fXJldHVybntlZGdlczp2b2lkIDAsZWRnZU9yaWVudGVkRmxhZ3M6dm9pZCAwLG1hdGNoU3RhdHVzOmR9fXZhciB2LG09UihvLHMpO2lmKHUuRGVidWdVdGlscy5sZXZlbChcInJlZ2lvbl9tYXRjaFwiKT49MiYmdm9pZCAwIT09bS5lZGdlcyl7Zm9yKHI9MDtyPG0uZWRnZXMubGVuZ3RoO3IrKyl1LkRlYnVnVXRpbHMuZHJhd0VkZ2UzRChtLmVkZ2VzW3JdLHtjb2xvcjoxNjcxMTY4MCxyZW5kZXI6ITF9KTt1LkRlYnVnVXRpbHMucmVuZGVyKCl9cmV0dXJuIHY9MD09PW0uc2NvcmU/ZzptLnNjb3JlPT09MS8wP2Q6cCx7ZWRnZXM6bS5lZGdlcyxlZGdlT3JpZW50ZWRGbGFnczptLmVkZ2VPcmllbnRlZEZsYWdzLG1hdGNoU3RhdHVzOnZ9fSxQPWZ1bmN0aW9uKGUsdCl7aWYoIWV8fCFlLmVkZ2VzKXJldHVybiBuZXcgU2V0O2Zvcih2YXIgcj1uZXcgU2V0LG89MDtvPGUuZWRnZXMubGVuZ3RoO28rKyl7dmFyIGk9ZS5lZGdlT3JpZW50ZWRGbGFnc1tvXT09PXQsbj1lLmVkZ2VzW29dLmdldENvZWRnZXMoKTtjLkNvbnNvbGVVdGlscy5hc3NlcnQobi5sZW5ndGg+PTEmJm4ubGVuZ3RoPD0yKTtmb3IodmFyIHM9dm9pZCAwLGE9MDthPG4ubGVuZ3RoO2ErKylpZihuW2FdLmlzUmV2ZXJzZWQoKT09PWkpe3M9blthXS5nZXRGYWNlKCk7YnJlYWt9cyYmIXIuaGFzKHMpJiZyLmFkZChzKX12YXIgdT1uZXcgU2V0KGUuZWRnZXMpO3JldHVybiByLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1BcnJheS5mcm9tKGUuY29sbGVjdEVkZ2VzKCkpLG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIGk9dFtvXTtpZighdS5oYXMoaSkpe3ZhciBuPXZvaWQgMCxzPWkuZ2V0RmFjZXMoKTtjLkNvbnNvbGVVdGlscy5hc3NlcnQocy5sZW5ndGg+PTEmJnMubGVuZ3RoPD0yKSwxPT09cy5sZW5ndGg/Yy5Db25zb2xlVXRpbHMuYXNzZXJ0KHNbMF09PT1lKToyPT09cy5sZW5ndGgmJihjLkNvbnNvbGVVdGlscy5hc3NlcnQoc1swXT09PWV8fHNbMV09PT1lKSxuPXNbMF09PT1lP3NbMV06c1swXSksbiYmIXIuaGFzKG4pJiZyLmFkZChuKX19fSkpLHJ9O3QuY3JlYXRlUmVjaXBlRnJvbVJlZ2lvbkZhY2U9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9W10sbz1lLmdldExvb3BzKCksaT0wO2k8by5sZW5ndGg7aSsrKXtmb3IodmFyIG49b1tpXS5nZXRDb2VkZ2VzKCkscz1bXSxhPTA7YTxuLmxlbmd0aDthKyspe2Zvcih2YXIgYz1uW2FdLHU9Yy5nZXRFZGdlKCkuZ2V0QXNzb2NpYXRlZEVkZ2VJbmZvKCksbD1jLmdldEVuZFZlcnRleCgpLGQ9blsoYSsxKSVuLmxlbmd0aF0uZ2V0RWRnZSgpLmdldEFzc29jaWF0ZWRFZGdlSW5mbygpLHA9aC5kZWZhdWx0LnBsdWNrKGQsXCJlZGdlXCIpLGc9W10sZj0wO2Y8dS5sZW5ndGg7ZisrKXtmb3IodmFyIHY9Xyh1W2ZdLmVkZ2UsdCksbT15KHVbZl0uZWRnZSxwLHYpLEU9MCx4PTA7eDxtLmxlbmd0aDt4KyspaWYobVt4XS52ZXJ0ZXg9PT1sKXtFPXg7YnJlYWt9dmFyIFI9e2VkZ2VSZWY6dVtmXS5lZGdlLmdldEd1aWQoKSxlZGdlT3JpZW50ZWQ6IShjLmlzUmV2ZXJzZWQoKV51W2ZdLmZsaXBwZWQpLGludGVyc2VjdGlvbk51bWJlcjpFLHRvdGFsSW50ZXJzZWN0aW9uczptLmxlbmd0aCxlZGdlOnVbZl0uZWRnZX07Zy5wdXNoKFIpfXMucHVzaChnKX1yLnB1c2gocyl9cmV0dXJuIHJ9LHQuc2VyaWFsaXplUmVnaW9uRmFjZVJlY2lwZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0wO3I8ZS5sZW5ndGg7cisrKXtmb3IodmFyIG89W10saT1lW3JdLG49MDtuPGkubGVuZ3RoO24rKyl7Zm9yKHZhciBzPVtdLGE9aVtuXSxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciB1PWFbY107cy5wdXNoKHUuZWRnZVJlZitcIl9cIisodS5lZGdlT3JpZW50ZWQ/XCJ0XCI6XCJmXCIpK1wiX1wiK3UuaW50ZXJzZWN0aW9uTnVtYmVyK1wiX1wiK3UudG90YWxJbnRlcnNlY3Rpb25zKX1vLnB1c2gocy5qb2luKFwiO1wiKSl9dC5wdXNoKG8uam9pbihcIitcIikpfXJldHVybiB0LmpvaW4oXCIvXCIpfSx0LmRlc2VyaWFsaXplUmVnaW9uRmFjZVJlY2lwZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5zcGxpdChcIi9cIikscj0wO3I8dC5sZW5ndGg7cisrKXt0W3JdPXRbcl0uc3BsaXQoXCIrXCIpO2Zvcih2YXIgbz10W3JdLGk9MDtpPG8ubGVuZ3RoO2krKyl7b1tpXT1vW2ldLnNwbGl0KFwiO1wiKTtmb3IodmFyIG49b1tpXSxzPTA7czxuLmxlbmd0aDtzKyspe3ZhciBhPW5bc10uc3BsaXQoXCJfXCIpO25bc109e2VkZ2VSZWY6YVswXSxlZGdlT3JpZW50ZWQ6XCJ0XCI9PT1hWzFdLGludGVyc2VjdGlvbk51bWJlcjpwYXJzZUludChhWzJdLDEwKSx0b3RhbEludGVyc2VjdGlvbnM6cGFyc2VJbnQoYVszXSwxMCl9fX19cmV0dXJuIHR9LHQubWF0Y2hSZWdpb25GYWNlUmVjaXBlPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbyxpLG49ZyxzPVtdO2ZvcihyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBhPUEoZVtyXSx0KTtpZihhLm1hdGNoU3RhdHVzPT09ZCYmMD09PXIpcmV0dXJue3JlZ2lvbnM6W10sbWF0Y2hTdGF0dXM6ZH07YS5tYXRjaFN0YXR1cyE9PWcmJihuPXApLHMucHVzaChhKX1pZih1LkRlYnVnVXRpbHMubGV2ZWwoXCJyZWdpb25fbWF0Y2hcIik+MCl7Zm9yKHUuRGVidWdVdGlscy5jbGVhclZpZXcoKSxpPWguZGVmYXVsdC52YWx1ZXModC5za2V0Y2hFZGdlcykscj0wO3I8aS5sZW5ndGg7cisrKXUuRGVidWdVdGlscy5kcmF3RWRnZTNEKGlbcl0se2NvbG9yOjAscmVuZGVyOiExfSk7Zm9yKHI9MDtyPHMubGVuZ3RoO3IrKylmb3Iobz0wO288c1tyXS5lZGdlcy5sZW5ndGg7bysrKXt2YXIgYz0wPT09cj82NTI4MDoxNjcxMTY4MDt1LkRlYnVnVXRpbHMuZHJhd0VkZ2UzRChzW3JdLmVkZ2VzW29dLHtjb2xvcjpjLHJlbmRlcjohMX0pfXUuRGVidWdVdGlscy5yZW5kZXIoKX12YXIgbD1QKHNbMF0sITEpO2ZvcihvPTE7bzxzLmxlbmd0aDtvKyspe1Aoc1tvXSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bC5kZWxldGUoZSl9KSl9aWYobD1BcnJheS5mcm9tKGwpLHUuRGVidWdVdGlscy5sZXZlbChcInJlZ2lvbl9tYXRjaFwiKT4wKXtmb3Iocj0wO3I8bC5sZW5ndGg7cisrKWZvcihpPUFycmF5LmZyb20obFtyXS5jb2xsZWN0RWRnZXMoKSksbz0wO288aS5sZW5ndGg7bysrKXUuRGVidWdVdGlscy5kcmF3RWRnZTNEKGlbb10se2NvbG9yOjEzNjg0NzM2LHJlbmRlcjohMX0pO3UuRGVidWdVdGlscy5yZW5kZXIoKX1yZXR1cm57cmVnaW9uczpsLG1hdGNoU3RhdHVzOm59fSx0LmNyZWF0ZVJlY2lwZUZyb21SZWdpb25FZGdlPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbyxpPXtzdGFydEVkZ2VSZWZzOltdLGVuZEVkZ2VSZWZzOltdLGVkZ2VSZWY6W10sZWRnZU9yaWVudGVkOltdLGludGVyc2VjdGlvbk51bWJlclN0YXJ0OltdLHRvdGFsSW50ZXJzZWN0aW9uc1N0YXJ0OltdLGludGVyc2VjdGlvbk51bWJlckVuZDpbXSx0b3RhbEludGVyc2VjdGlvbnNFbmQ6W119LG49ZS5nZXRTdGFydFZlcnRleCgpLHM9W107bi5nZXRPdGhlckVkZ2VzKGUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWguZGVmYXVsdC5wbHVjayhlLmdldEFzc29jaWF0ZWRFZGdlSW5mbygpLFwiZWRnZVwiKTtmb3Iocj0wO3I8dC5sZW5ndGg7cisrKXMuaW5kZXhPZih0W3JdKTwwJiYocy5wdXNoKHRbcl0pLGkuc3RhcnRFZGdlUmVmcy5wdXNoKHRbcl0uZ2V0R3VpZCgpKSl9KSk7dmFyIGE9ZS5nZXRFbmRWZXJ0ZXgoKSxjPVtdO2EuZ2V0T3RoZXJFZGdlcyhlKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1oLmRlZmF1bHQucGx1Y2soZS5nZXRBc3NvY2lhdGVkRWRnZUluZm8oKSxcImVkZ2VcIik7Zm9yKHI9MDtyPHQubGVuZ3RoO3IrKyljLmluZGV4T2YodFtyXSk8MCYmKGMucHVzaCh0W3JdKSxpLmVuZEVkZ2VSZWZzLnB1c2godFtyXS5nZXRHdWlkKCkpKX0pKTt2YXIgdT1lLmdldEFzc29jaWF0ZWRFZGdlSW5mbygpLGw9aC5kZWZhdWx0LnBsdWNrKHUsXCJlZGdlXCIpO2ZvcihyPTA7cjx1Lmxlbmd0aDtyKyspe3ZhciBkPWxbcl0scD0hdVtyXS5mbGlwcGVkLGc9XyhkLHQpLGY9aC5kZWZhdWx0LnVuaXF1ZShzLmNvbmNhdChsKSksdj15KGQsZixnKSxtPTA7Zm9yKG89MDtvPHYubGVuZ3RoO28rKylpZih2W29dLnZlcnRleD09PW4pe209bzticmVha312YXIgRT1oLmRlZmF1bHQudW5pcXVlKGMuY29uY2F0KGwpKSx4PXkoZCxFLGcpLFI9MDtmb3Iobz0wO288eC5sZW5ndGg7bysrKWlmKHhbb10udmVydGV4PT09YSl7Uj1vO2JyZWFrfWkuZWRnZVJlZi5wdXNoKGQuZ2V0R3VpZCgpKSxpLmVkZ2VPcmllbnRlZC5wdXNoKHApLGkuaW50ZXJzZWN0aW9uTnVtYmVyU3RhcnQucHVzaChtKSxpLnRvdGFsSW50ZXJzZWN0aW9uc1N0YXJ0LnB1c2godi5sZW5ndGgpLGkuaW50ZXJzZWN0aW9uTnVtYmVyRW5kLnB1c2goUiksaS50b3RhbEludGVyc2VjdGlvbnNFbmQucHVzaCh4Lmxlbmd0aCl9cmV0dXJuIGl9LHQuc2VyaWFsaXplUmVnaW9uRWRnZVJlY2lwZT1mdW5jdGlvbihlKXt2YXIgdD17ZWRnZTplLmVkZ2VSZWYsb3JpZW50OmUuZWRnZU9yaWVudGVkLHN0YXJ0OmUuc3RhcnRFZGdlUmVmcyxlbmQ6ZS5lbmRFZGdlUmVmcyxzSWR4OmUuaW50ZXJzZWN0aW9uTnVtYmVyU3RhcnQsc051bTplLnRvdGFsSW50ZXJzZWN0aW9uc1N0YXJ0LGVJZHg6ZS5pbnRlcnNlY3Rpb25OdW1iZXJFbmQsZU51bTplLnRvdGFsSW50ZXJzZWN0aW9uc0VuZH07cmV0dXJuIEpTT04uc3RyaW5naWZ5KHQpfSx0LmRlc2VyaWFsaXplUmVnaW9uRWRnZVJlY2lwZT1mdW5jdGlvbihlKXt2YXIgdD1KU09OLnBhcnNlKGUpO3JldHVybntlZGdlUmVmOnQuZWRnZSxlZGdlT3JpZW50ZWQ6dC5vcmllbnQsc3RhcnRFZGdlUmVmczp0LnN0YXJ0LGVuZEVkZ2VSZWZzOnQuZW5kLGludGVyc2VjdGlvbk51bWJlclN0YXJ0OnQuc0lkeCx0b3RhbEludGVyc2VjdGlvbnNTdGFydDp0LnNOdW0saW50ZXJzZWN0aW9uTnVtYmVyRW5kOnQuZUlkeCx0b3RhbEludGVyc2VjdGlvbnNFbmQ6dC5lTnVtfX0sdC5tYXRjaFJlZ2lvbkVkZ2VSZWNpcGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXSxvPWQsaT1bXTtlLnN0YXJ0RWRnZVJlZnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9dC5za2V0Y2hFZGdlc1tlXTtyJiZpLnB1c2gocil9KSk7dmFyIG49W107ZS5lbmRFZGdlUmVmcy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj10LnNrZXRjaEVkZ2VzW2VdO3ImJm4ucHVzaChyKX0pKSxlLmVkZ2VSZWYuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9dC5za2V0Y2hFZGdlc1tlXTtyJiZpLmluZGV4T2Yocik8MCYmaS5wdXNoKHIpLHImJm4uaW5kZXhPZihyKTwwJiZuLnB1c2gocil9KSk7Zm9yKHZhciBzPTA7czxlLmVkZ2VSZWYubGVuZ3RoO3MrKyl7dmFyIGE9dC5za2V0Y2hFZGdlc1tlLmVkZ2VSZWZbc11dO2lmKGEpe3ZhciBjPV8oYSx0KSxsPXZvaWQgMCxoPXZvaWQgMCxwPXkoYSxpLGMpO2lmKDA9PT1lLnRvdGFsSW50ZXJzZWN0aW9uc1N0YXJ0W3NdKWw9Yy52ZXJ0aWNlc1swXSxoPTA7ZWxzZSBpZihwLmxlbmd0aD09PWUudG90YWxJbnRlcnNlY3Rpb25zU3RhcnRbc10pe3ZhciBmPXBbZS5pbnRlcnNlY3Rpb25OdW1iZXJTdGFydFtzXV07bD1mLnZlcnRleCxoPWYuaW5kZXhJblRvcG9sb2d5fXZhciB2PXZvaWQgMCxtPXZvaWQgMCxFPXkoYSxuLGMpO2lmKDA9PT1lLnRvdGFsSW50ZXJzZWN0aW9uc0VuZFtzXSl2PWMudmVydGljZXNbMF0sbT1jLnZlcnRpY2VzLmxlbmd0aDtlbHNlIGlmKEUubGVuZ3RoPT09ZS50b3RhbEludGVyc2VjdGlvbnNFbmRbc10pe3ZhciB4PUVbZS5pbnRlcnNlY3Rpb25OdW1iZXJFbmRbc11dO3Y9eC52ZXJ0ZXgsMD09PShtPXguaW5kZXhJblRvcG9sb2d5KSYmYS5pc0Nsb3NlZCgpJiYobT1jLnZlcnRpY2VzLmxlbmd0aCl9aWYoIWUuZWRnZU9yaWVudGVkW3NdKXt2YXIgUj1sO2w9dix2PVIsUj1oLGg9bSxtPVJ9aWYobCYmdil7aWYoIShoPj1tKSl7cj1jLmVkZ2VzLnNsaWNlKGgsbSksbz1nO2JyZWFrfXUuRGVidWdVdGlscy53YXJuKFwiRWRnZSByZWNpcGUgbWF0Y2ggc2hvdWxkIGZpbmQgc3RhcnQgdmVydGV4IGJlZm9yZSBlbmQgdmVydGV4XCIpfX19cmV0dXJue2VkZ2VzOnIsbWF0Y2hTdGF0dXM6b319fSw4NzY4OihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlNrZXRjaFJlZ2lvblNvbHZlcj12b2lkIDA7dmFyIG8saT1yKDE5NzIpLG49cig1ODk2KSxzPXIoMjQ2OCksYT1yKDgyOTIpLGM9cigxMDk2KSx1PXIoNTUxMiksbD1yKDg3OTYpLGg9cig4OTcyKSxkPXIoMzU2NSkscD1yKDQ1MjQpLGc9cig2NzIpLGY9cig4NDYwKSx2PXIoNjM0NCksXz1yKDY3MDQpLHk9cig1NDE2KSxtPXIoMjUzNiksRT1yKDIyMDgpLHg9cigzMjI3KSxSPXIoNzQ0KSxBPXIoNDcyOCksUD1yKDYxMjApLFY9cigyODU2KSxUPShvPVYpJiZvLl9fZXNNb2R1bGU/bzp7ZGVmYXVsdDpvfTtsZXQgYjt2YXIgQz0xZS01LE89ZnVuY3Rpb24oKXt0aGlzLlNJREU9e0xFRlQ6MCxSSUdIVDoxfSx0aGlzLl9za2V0Y2g9dm9pZCAwLHRoaXMuX2ludGVyc2VjdGlvblZlcnRpY2VzPVtdLHRoaXMuX2VkZ2VTZWdtZW50cz1bXSx0aGlzLl9jZWxscz1bXSx0aGlzLl9mYWNlcz1bXSx0aGlzLl93b3Jrc3BhY2U9e2VkZ2VJbnRlcnNlY3Rpb25zOltdLGVkZ2VPdmVybGFwUmVnaW9uczpbXSxzZWdtZW50QmxhY2tMaXN0OltdLGVkZ2VzOltdLGVkZ2VJRHM6W10sc3dlZXBMaW5lSW50ZXJzZWN0aW9uczp2b2lkIDAsc3dlZXBMaW5lUmVnaW9uczp2b2lkIDAsY3VycmVudFZlcnRleDp2b2lkIDAsbmV4dFZlcnRleDp2b2lkIDAsZWRnZXNQZXJDZWxsOnZvaWQgMH0sdGhpcy5fc2tldGNoUmVnaW9uVG9wb2xvZ2llcz17fSx0aGlzLl9wbGFuZUdlb21ldHJ5PW5ldyBhLlBsYW5lLHRoaXMuX3BsYW5lR2VvbWV0cnkuc2V0KFswLDAsMF0sWzAsMCwxXSxbMSwwLDBdKSx0aGlzLl9za2V0Y2hTdW1tYXJ5PXt9LHRoaXMuX2ludGVybmFsVG9GaW5hbE1hcD1udWxsLHRoaXMuX2ZpbmFsRmFjZXM9W10sdGhpcy5fcHJvZ2VuaXRvck1hcD1udWxsfTtPLnByb3RvdHlwZS5jb21wdXRlPWZ1bmN0aW9uKGUpe3RoaXMuX3NrZXRjaEVkZ2VzPWUsdGhpcy5faW5pdGlhbGl6ZVdvcmtzcGFjZSgpLHRoaXMuX2ZpbmRJbnRlcnNlY3Rpb25zKCksdGhpcy5fYWRkR3JhcGhFZGdlcygpLHRoaXMuX21lcmdlQ29pbmNpZGVudFNlZ21lbnRzKCksdGhpcy5fc29ydEVkZ2VzQXJvdW5kVmVydGV4KCksdGhpcy5fYXNzaWduQWRqYWNlbnRFZGdlcygpLHRoaXMuX3N3ZWVwUmVnaW9ucygpLHRoaXMuX2Fzc2lnbmxlZnRtb3N0RWRnZXMoKSx0aGlzLl9yZW1vdmVHcmF6aW5nSW50ZXJzZWN0aW9uVmVydGljZXMoKSx0aGlzLl91cGRhdGVWZXJ0ZXhHdWlkTGlzdHMoKSx0aGlzLl9yZW1vdmVUZW1wb3JhcnlWZXJ0aWNlcygpLHRoaXMuX2Fzc2lnbkxvb3BzKCksdGhpcy5fdXBkYXRlU2tldGNoUmVnaW9uVG9wb2xvZ3koKSx0aGlzLl9jbGVhcldvcmtzcGFjZSgpLHRoaXMuX3ByZXBhcmVSZXN1bHQoKX0sTy5wcm90b3R5cGUuX2luaXRpYWxpemVXb3Jrc3BhY2U9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl93b3Jrc3BhY2U7ZS5lZGdlcz17fTtmb3IodmFyIHQ9MDt0PHRoaXMuX3NrZXRjaEVkZ2VzLmxlbmd0aDsrK3QpZS5lZGdlc1t0aGlzLl9za2V0Y2hFZGdlc1t0XS5nZXRHdWlkKCldPXRoaXMuX3NrZXRjaEVkZ2VzW3RdO2ZvcihlLmVkZ2VJRHM9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZS5lZGdlcykuc29ydCgpLGUuZWRnZUludGVyc2VjdGlvbnM9e30sZS5lZGdlT3ZlcmxhcFJlZ2lvbnM9e30sZS5zZWdtZW50QmxhY2tMaXN0PXt9LHQ9MDt0PGUuZWRnZUlEcy5sZW5ndGg7dCsrKWUuZWRnZUludGVyc2VjdGlvbnNbZS5lZGdlSURzW3RdXT1bXSxlLmVkZ2VPdmVybGFwUmVnaW9uc1tlLmVkZ2VJRHNbdF1dPVtdLGUuc2VnbWVudEJsYWNrTGlzdFtlLmVkZ2VJRHNbdF1dPVtdO2Uuc3dlZXBMaW5lSW50ZXJzZWN0aW9ucz12b2lkIDAsZS5zd2VlcExpbmVSZWdpb25zPXZvaWQgMCxlLmVkZ2VzUGVyQ2VsbD1bXSx0aGlzLl9mYWNlcz1bXX0sTy5wcm90b3R5cGUuX2NsZWFyV29ya3NwYWNlPWZ1bmN0aW9uKCl7dGhpcy5fd29ya3NwYWNlPXtlZGdlSW50ZXJzZWN0aW9uczpbXSxlZGdlT3ZlcmxhcFJlZ2lvbnM6W10sc2VnbWVudEJsYWNrTGlzdDpbXSxlZGdlczpbXSxlZGdlSURzOltdLHN3ZWVwTGluZUludGVyc2VjdGlvbnM6dm9pZCAwLHN3ZWVwTGluZVJlZ2lvbnM6dm9pZCAwLGN1cnJlbnRWZXJ0ZXg6dm9pZCAwLG5leHRWZXJ0ZXg6dm9pZCAwLHN3ZWVwTGluZVBvc2l0aW9uOnZvaWQgMCxlZGdlc1BlckNlbGw6W119fSxPLnByb3RvdHlwZS5fZmluZEludGVyc2VjdGlvbnM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5fd29ya3NwYWNlLHQ9MDt0PGUuZWRnZUlEcy5sZW5ndGg7dCsrKXtmb3IodmFyIHI9ZS5lZGdlc1tlLmVkZ2VJRHNbdF1dLG89dDtvPGUuZWRnZUlEcy5sZW5ndGg7bysrKXt2YXIgYT1lLmVkZ2VzW2UuZWRnZUlEc1tvXV07aWYobz50fHxyLmdldEN1cnZlVHlwZSgpPT09cy5HRU9NRVRSWV9UWVBFUy5CQ1VSVkUpZm9yKHZhciBjPSgwLGYuY29tcHV0ZUN1cnZlQ3VydmVJbnRlcnNlY3Rpb25zKShyLGEsITAsITEscy5LRVJORUxfVE9MRVJBTkNFKSx1PTA7dTxjLmxlbmd0aDt1Kyspe3ZhciBsPWNbdV07aWYobC5yYW5nZUluZm8pZS5lZGdlSW50ZXJzZWN0aW9uc1tlLmVkZ2VJRHNbdF1dLnB1c2goVC5kZWZhdWx0LmV4dGVuZChsLnJhbmdlSW5mb1swXSx7dGVtcG9yYXJ5OiExfSkpLGUuZWRnZUludGVyc2VjdGlvbnNbZS5lZGdlSURzW3RdXS5wdXNoKFQuZGVmYXVsdC5leHRlbmQobC5yYW5nZUluZm9bMV0se3RlbXBvcmFyeTohMX0pKSxlLmVkZ2VJbnRlcnNlY3Rpb25zW2UuZWRnZUlEc1tvXV0ucHVzaChULmRlZmF1bHQuZXh0ZW5kKGwucmFuZ2VCeUluZm9bMF0se3RlbXBvcmFyeTohMX0pKSxlLmVkZ2VJbnRlcnNlY3Rpb25zW2UuZWRnZUlEc1tvXV0ucHVzaChULmRlZmF1bHQuZXh0ZW5kKGwucmFuZ2VCeUluZm9bMV0se3RlbXBvcmFyeTohMX0pKSxlLmVkZ2VPdmVybGFwUmVnaW9uc1tlLmVkZ2VJRHNbdF1dLnB1c2goe292ZXJsYXBSYW5nZTooMCxuLmNvbnZlcnRUb090aGVyUGVyaW9kaWNSYW5nZSkoW2wucmFuZ2VJbmZvWzBdLnBhcmFtLGwucmFuZ2VJbmZvWzFdLnBhcmFtXSxyLmdldFJhbmdlKCksci5nZXRDdXJ2ZSgpLmdldFBlcmlvZCgpLHMuS0VSTkVMX1RPTEVSQU5DRSksb3RoZXJFZGdlOmUuZWRnZUlEc1tvXSxvdGhlclJhbmdlOigwLG4uY29udmVydFRvT3RoZXJQZXJpb2RpY1JhbmdlKShbbC5yYW5nZUJ5SW5mb1swXS5wYXJhbSxsLnJhbmdlQnlJbmZvWzFdLnBhcmFtXSxhLmdldFJhbmdlKCksYS5nZXRDdXJ2ZSgpLmdldFBlcmlvZCgpLHMuS0VSTkVMX1RPTEVSQU5DRSl9KSxlLmVkZ2VPdmVybGFwUmVnaW9uc1tlLmVkZ2VJRHNbb11dLnB1c2goe292ZXJsYXBSYW5nZTooMCxuLmNvbnZlcnRUb090aGVyUGVyaW9kaWNSYW5nZSkoW2wucmFuZ2VCeUluZm9bMF0ucGFyYW0sbC5yYW5nZUJ5SW5mb1sxXS5wYXJhbV0sYS5nZXRSYW5nZSgpLGEuZ2V0Q3VydmUoKS5nZXRQZXJpb2QoKSxzLktFUk5FTF9UT0xFUkFOQ0UpLG90aGVyRWRnZTplLmVkZ2VJRHNbdF0sb3RoZXJSYW5nZTooMCxuLmNvbnZlcnRUb090aGVyUGVyaW9kaWNSYW5nZSkoW2wucmFuZ2VJbmZvWzBdLnBhcmFtLGwucmFuZ2VJbmZvWzFdLnBhcmFtXSxyLmdldFJhbmdlKCksci5nZXRDdXJ2ZSgpLmdldFBlcmlvZCgpLHMuS0VSTkVMX1RPTEVSQU5DRSl9KTtlbHNle2lmKGwuY3V0SW5mby5wYXJhbTxyLnQwKCl8fGwuY3V0SW5mby5wYXJhbT5yLnQxKCkpe1AuRGVidWdVdGlscy53YXJuKFwiSW50ZXJzZWN0aW9uIG91dHNpZGUgdGhlIGJvdW5kcyBvZiB0aGUgZWRnZSwgaWdub3JpbmdcIik7Y29udGludWV9ZS5lZGdlSW50ZXJzZWN0aW9uc1tlLmVkZ2VJRHNbdF1dLnB1c2goVC5kZWZhdWx0LmRlZmF1bHRzKGwuY3V0SW5mbyx7dGVtcG9yYXJ5OiExLHZpcnR1YWxJbnRlcnNlY3Rpb246ITF9KSksZS5lZGdlSW50ZXJzZWN0aW9uc1tlLmVkZ2VJRHNbb11dLnB1c2goVC5kZWZhdWx0LmRlZmF1bHRzKGwuY3V0QnlJbmZvLHt0ZW1wb3Jhcnk6ITEsdmlydHVhbEludGVyc2VjdGlvbjohMX0pKX19fXZhciBoPXIuZ2V0U3RhcnRWZXJ0ZXgoKSxkPXIuZ2V0RW5kVmVydGV4KCkscD1yLnQwKCk7aCYmdm9pZCAwIT09VC5kZWZhdWx0LmZpbmRXaGVyZShlLmVkZ2VJbnRlcnNlY3Rpb25zW2UuZWRnZUlEc1t0XV0se3BhcmFtOnAsYXRWZXJ0ZXg6aH0pfHxlLmVkZ2VJbnRlcnNlY3Rpb25zW2UuZWRnZUlEc1t0XV0ucHVzaCh7cGFyYW06cCxhdFZlcnRleDpoLHRlbXBvcmFyeTohMSx2aXJ0dWFsSW50ZXJzZWN0aW9uOnZvaWQgMH0pO3ZhciBnPXIudDEoKTtkJiZ2b2lkIDAhPT1ULmRlZmF1bHQuZmluZFdoZXJlKGUuZWRnZUludGVyc2VjdGlvbnNbZS5lZGdlSURzW3RdXSx7cGFyYW06ZyxhdFZlcnRleDpkfSl8fGUuZWRnZUludGVyc2VjdGlvbnNbZS5lZGdlSURzW3RdXS5wdXNoKHtwYXJhbTpnLGF0VmVydGV4OmQsdGVtcG9yYXJ5OiExLHZpcnR1YWxJbnRlcnNlY3Rpb246dm9pZCAwfSksdGhpcy5fbWFrZUVkZ2VYTW9ub3RvbmUocixlLmVkZ2VJbnRlcnNlY3Rpb25zW2UuZWRnZUlEc1t0XV0pfXZhciB2PVtdO2Zvcih0PTA7dDxlLmVkZ2VJRHMubGVuZ3RoO3QrKylmb3Iobz0wO288ZS5lZGdlSW50ZXJzZWN0aW9uc1tlLmVkZ2VJRHNbdF1dLmxlbmd0aDtvKyspdi5wdXNoKHtwb3NpdGlvbjplLmVkZ2VzW2UuZWRnZUlEc1t0XV0uZXZhbHVhdGVQb3NpdGlvbihlLmVkZ2VJbnRlcnNlY3Rpb25zW2UuZWRnZUlEc1t0XV1bb10ucGFyYW0pLHZpcnR1YWxJbnRlcnNlY3Rpb246ZS5lZGdlSW50ZXJzZWN0aW9uc1tlLmVkZ2VJRHNbdF1dW29dLnZpcnR1YWxJbnRlcnNlY3Rpb259KTtmb3IodD0wO3Q8ZS5lZGdlSURzLmxlbmd0aDt0Kyspe3ZhciBfPWUuZWRnZXNbZS5lZGdlSURzW3RdXTtmb3Iobz0wO288di5sZW5ndGg7bysrKXt2YXIgeT12W29dO2lmKF8uZ2V0Qm91bmRpbmdCb3goKS5pc1BvaW50SW5zaWRlV2l0aFRvbGVyYW5jZSh5LnBvc2l0aW9uLHMuS0VSTkVMX1RPTEVSQU5DRSkpe3ZhciBtPV8uY2xvc2VzdFRvUG9pbnRQYXJhbSh5LnBvc2l0aW9uKTtpLlZlY3RvcjMuZGlzdGFuY2UoeS5wb3NpdGlvbixfLmV2YWx1YXRlUG9zaXRpb24obSkpPHMuS0VSTkVMX1RPTEVSQU5DRSYmbT5fLnQwKCkrcy5QQVJBTUVURVJfU1BBQ0VfVE9MRVJBTkNFJiZtPF8udDEoKS1zLlBBUkFNRVRFUl9TUEFDRV9UT0xFUkFOQ0UmJmUuZWRnZUludGVyc2VjdGlvbnNbZS5lZGdlSURzW3RdXS5wdXNoKHtwYXJhbTptLGF0VmVydGV4Om51bGwsdGVtcG9yYXJ5OiEwLHZpcnR1YWxJbnRlcnNlY3Rpb246eS52aXJ0dWFsSW50ZXJzZWN0aW9ufSl9fX19LE8ucHJvdG90eXBlLl9hZGRHcmFwaEVkZ2VzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fd29ya3NwYWNlO3RoaXMuX2ludGVyc2VjdGlvblZlcnRpY2VzPVtdLHRoaXMuX2VkZ2VTZWdtZW50cz1bXTtmb3IodmFyIHQ9ZnVuY3Rpb24odCxyKXt2YXIgbz1lLnNlZ21lbnRCbGFja0xpc3RbdF0saT1lLmVkZ2VzW3RdLmdldEN1cnZlKCksYT1pLmdldFBlcmlvZCgpLGM9ZS5lZGdlc1t0XS5pc1JldmVyc2VkKCk/LTE6MSx1PXMuS0VSTkVMX1RPTEVSQU5DRS9pLnRhbmdlbnRMZW5ndGgoYypyWzBdKSxsPXMuS0VSTkVMX1RPTEVSQU5DRS9pLnRhbmdlbnRMZW5ndGgoYypyWzFdKTtpZihlLmVkZ2VzW3RdLmdldEN1cnZlKCkuaXNQZXJpb2RpYygpKXtmb3IodmFyIGg9MDtoPG8ubGVuZ3RoO2grKylpZigoMCxuLnBlcmlvZGljRGlmZmVyZW5jZSkob1toXS5yYW5nZVswXSxyWzBdLGEpPHUmJigwLG4ucGVyaW9kaWNEaWZmZXJlbmNlKShvW2hdLnJhbmdlWzFdLHJbMV0sYSk8bClyZXR1cm4gb1toXS5lZGdlfWVsc2UgZm9yKGg9MDtoPG8ubGVuZ3RoO2grKylpZihNYXRoLmFicyhvW2hdLnJhbmdlWzBdLXJbMF0pPHUmJk1hdGguYWJzKG9baF0ucmFuZ2VbMV0tclsxXSk8bClyZXR1cm4gb1toXS5lZGdlfSxyPTA7cjxlLmVkZ2VJRHMubGVuZ3RoO3IrKyl7dmFyIG89ZS5lZGdlc1tlLmVkZ2VJRHNbcl1dLGE9MSxjPXRoaXMuX2NyZWF0ZUdVSURmcm9tRWRnZUFuZExvY2FsSUQobyxhKTtlLmVkZ2VJbnRlcnNlY3Rpb25zW2UuZWRnZUlEc1tyXV09ZS5lZGdlSW50ZXJzZWN0aW9uc1tlLmVkZ2VJRHNbcl1dLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUucGFyYW0tdC5wYXJhbX0pKTtmb3IodmFyIHU9ZS5lZGdlSW50ZXJzZWN0aW9uc1tlLmVkZ2VJRHNbcl1dLGw9dm9pZCAwLGg9MDtoPHUubGVuZ3RoO2grKyl7dmFyIGQ9by5ldmFsdWF0ZVBvc2l0aW9uKHVbaF0ucGFyYW0pLHA9dGhpcy5fZmluZFZlcnRleEluZGV4KGQpO3ZvaWQgMD09PXA/KHA9dGhpcy5faW50ZXJzZWN0aW9uVmVydGljZXMubGVuZ3RoLHRoaXMuX2ludGVyc2VjdGlvblZlcnRpY2VzLnB1c2goe3Bvc2l0aW9uOmQsYWRqYWNlbnRFZGdlczpbXSx2ZXJ0aWNlczpbXSxpbmRleDpwLGd1aWRMaXN0OltdLG1lcmdlZFBvc2l0aW9uczpbXSx0b3BvbG9neVZlcnRleDp2b2lkIDAsdGVtcG9yYXJ5OnVbaF0udGVtcG9yYXJ5LHZpcnR1YWxJbnRlcnNlY3Rpb246dVtoXS52aXJ0dWFsSW50ZXJzZWN0aW9ufSkpOih0aGlzLl9pbnRlcnNlY3Rpb25WZXJ0aWNlc1twXS50ZW1wb3Jhcnk9dGhpcy5faW50ZXJzZWN0aW9uVmVydGljZXNbcF0udGVtcG9yYXJ5JiZ1W2hdLnRlbXBvcmFyeSx2b2lkIDAhPT11W2hdLnZpcnR1YWxJbnRlcnNlY3Rpb24mJih2b2lkIDA9PT10aGlzLl9pbnRlcnNlY3Rpb25WZXJ0aWNlc1twXS52aXJ0dWFsSW50ZXJzZWN0aW9uP3RoaXMuX2ludGVyc2VjdGlvblZlcnRpY2VzW3BdLnZpcnR1YWxJbnRlcnNlY3Rpb249dVtoXS52aXJ0dWFsSW50ZXJzZWN0aW9uOnRoaXMuX2ludGVyc2VjdGlvblZlcnRpY2VzW3BdLnZpcnR1YWxJbnRlcnNlY3Rpb249dGhpcy5faW50ZXJzZWN0aW9uVmVydGljZXNbcF0udmlydHVhbEludGVyc2VjdGlvbiYmdVtoXS52aXJ0dWFsSW50ZXJzZWN0aW9uKSx0aGlzLl9pbnRlcnNlY3Rpb25WZXJ0aWNlc1twXS5tZXJnZWRQb3NpdGlvbnMucHVzaChkKSk7dmFyIGc9dGhpcy5faW50ZXJzZWN0aW9uVmVydGljZXNbcF07aWYodVtoXS5hdFZlcnRleCYmLTE9PT1nLnZlcnRpY2VzLmluZGV4T2YodVtoXS5hdFZlcnRleCkmJmcudmVydGljZXMucHVzaCh1W2hdLmF0VmVydGV4KSxoPjAmJmwhPT1wKXtjPXRoaXMuX2NyZWF0ZUdVSURmcm9tRWRnZUFuZExvY2FsSUQobyxhKSxhKys7dmFyIGY9W3VbaC0xXS5wYXJhbSx1W2hdLnBhcmFtXSx2PXQoby5nZXRHdWlkKCksZik7aWYodm9pZCAwPT09dil7dmFyIF89e29yaWdpbmFsRWRnZTpvLHBhcmFtZXRlclJhbmdlOmYsc3RhcnRWZXJ0ZXg6dGhpcy5faW50ZXJzZWN0aW9uVmVydGljZXNbbF0sZW5kVmVydGV4OnRoaXMuX2ludGVyc2VjdGlvblZlcnRpY2VzW3BdLGNvaW5jaWRlbnRSYW5nZXM6W10sYWRqYWNlbnQ6W3twcmV2RWRnZTp2b2lkIDAsbmV4dEVkZ2U6dm9pZCAwLGZhY2U6dm9pZCAwfSx7cHJldkVkZ2U6dm9pZCAwLG5leHRFZGdlOnZvaWQgMCxmYWNlOnZvaWQgMH1dLGluZGV4OnRoaXMuX2VkZ2VTZWdtZW50cy5sZW5ndGgsbG9jYWxHdWlkOmMsdG9wb2xvZ3lFZGdlOnZvaWQgMH07dGhpcy5fZWRnZVNlZ21lbnRzLnB1c2goXyksdGhpcy5faW50ZXJzZWN0aW9uVmVydGljZXNbbF0uYWRqYWNlbnRFZGdlcy5wdXNoKF8pLHRoaXMuX2ludGVyc2VjdGlvblZlcnRpY2VzW3BdLmFkamFjZW50RWRnZXMucHVzaChfKTtmb3IodmFyIHk9MDt5PGUuZWRnZU92ZXJsYXBSZWdpb25zW2UuZWRnZUlEc1tyXV0ubGVuZ3RoO3krKyl7dmFyIG09ZS5lZGdlT3ZlcmxhcFJlZ2lvbnNbZS5lZGdlSURzW3JdXVt5XSxFPWYseD1zLktFUk5FTF9UT0xFUkFOQ0U7aWYoby5nZXRDdXJ2ZSgpLmlzUGVyaW9kaWMoKSYmKG8uZ2V0Q3VydmVUeXBlKCk9PT1zLkdFT01FVFJZX1RZUEVTLkNJUkNMRSYmKHgvPW8uZ2V0Q3VydmUoKS5nZXRSYWRpdXMoKSksRT0oMCxuLmNvbnZlcnRUb090aGVyUGVyaW9kaWNSYW5nZSkoRSxvLmdldFJhbmdlKCksby5nZXRDdXJ2ZSgpLmdldFBlcmlvZCgpLHgpKSxFWzBdPj1tLm92ZXJsYXBSYW5nZVswXS1zLktFUk5FTF9UT0xFUkFOQ0UmJkVbMV08PW0ub3ZlcmxhcFJhbmdlWzFdK3MuS0VSTkVMX1RPTEVSQU5DRSl7dmFyIFI9bS5vdGhlckVkZ2UsQT1bZS5lZGdlc1tSXS5nZXRDdXJ2ZSgpLmNsb3Nlc3RUb1BvaW50UGFyYW0oXy5zdGFydFZlcnRleC5wb3NpdGlvbiksZS5lZGdlc1tSXS5nZXRDdXJ2ZSgpLmNsb3Nlc3RUb1BvaW50UGFyYW0oXy5lbmRWZXJ0ZXgucG9zaXRpb24pXTtpZihlLmVkZ2VzW1JdLmdldEN1cnZlKCkuaXNQZXJpb2RpYygpKXt2YXIgUD1fLm9yaWdpbmFsRWRnZS5nZXRDdXJ2ZSgpLmV2YWx1YXRlRHQoXy5wYXJhbWV0ZXJSYW5nZVswXSksVj1lLmVkZ2VzW1JdLmdldEN1cnZlKCkuZXZhbHVhdGVEdChBWzBdKTtpZihpLlZlY3RvcjMuZG90KFAsVik8MCl7VD1BWzBdO0FbMF09QVsxXSxBWzFdPVR9Zm9yKDtBWzFdPEFbMF07KUFbMV0rPWUuZWRnZXNbUl0uZ2V0Q3VydmUoKS5nZXRQZXJpb2QoKX1lbHNlIGlmKEFbMF0+QVsxXSl7dmFyIFQ9QVswXTtBWzBdPUFbMV0sQVsxXT1UfWUuc2VnbWVudEJsYWNrTGlzdFttLm90aGVyRWRnZV0ucHVzaCh7cmFuZ2U6QSxlZGdlOl99KX19fWVsc2V7dmFyIGIsQz1pLlZlY3RvcjMuZGlzdGFuY2Uodi5zdGFydFZlcnRleC5wb3NpdGlvbixvLmV2YWx1YXRlUG9zaXRpb24oZlswXSkpPmkuVmVjdG9yMy5kaXN0YW5jZSh2LnN0YXJ0VmVydGV4LnBvc2l0aW9uLG8uZXZhbHVhdGVQb3NpdGlvbihmWzFdKSk7aWYodi5jb2luY2lkZW50UmFuZ2VzLnB1c2goe29yaWdpbmFsRWRnZTpvLHBhcmFtZXRlclJhbmdlOmYsbG9jYWxHdWlkOmMsZmxpcHBlZDpDfSksMD09PWcuYWRqYWNlbnRFZGdlcy5sZW5ndGgpKGI9aS5WZWN0b3IzLmRpc3RhbmNlKGQsdi5zdGFydFZlcnRleC5wb3NpdGlvbik8aS5WZWN0b3IzLmRpc3RhbmNlKGQsdi5lbmRWZXJ0ZXgucG9zaXRpb24pP3Yuc3RhcnRWZXJ0ZXg6di5lbmRWZXJ0ZXgpLm1lcmdlZFBvc2l0aW9ucy5wdXNoKGQpLGQ9Yi5wb3NpdGlvbixwPWIuaW5kZXgsdVtoXS5hdFZlcnRleCYmLTE9PT1iLnZlcnRpY2VzLmluZGV4T2YodVtoXS5hdFZlcnRleCkmJmIudmVydGljZXMucHVzaCh1W2hdLmF0VmVydGV4KSx0aGlzLl9pbnRlcnNlY3Rpb25WZXJ0aWNlcy5wb3AoKTtpZih2LnN0YXJ0VmVydGV4LmluZGV4IT09bCYmdi5lbmRWZXJ0ZXguaW5kZXghPT1sKXt2YXIgTz12LnN0YXJ0VmVydGV4LmluZGV4PT09cD92LmVuZFZlcnRleDp2LnN0YXJ0VmVydGV4LEw9dGhpcy5faW50ZXJzZWN0aW9uVmVydGljZXNbbF07Zm9yKHk9MDt5PEwuYWRqYWNlbnRFZGdlcy5sZW5ndGg7eSsrKXt2YXIgUz1MLmFkamFjZW50RWRnZXNbeV07Uy5zdGFydFZlcnRleD09PUwmJihTLnN0YXJ0VmVydGV4PU8pLFMuZW5kVmVydGV4PT09TCYmKFMuZW5kVmVydGV4PU8pLE8uYWRqYWNlbnRFZGdlcy5wdXNoKFMpfU8ubWVyZ2VkUG9zaXRpb25zLnB1c2goTC5wb3NpdGlvbik7Zm9yKHk9MDt5PEwubWVyZ2VkUG9zaXRpb25zLmxlbmd0aDt5KyspTy5tZXJnZWRQb3NpdGlvbnMucHVzaChMLm1lcmdlZFBvc2l0aW9uc1t5XSk7dVtoXS5hdFZlcnRleCYmLTE9PT1PLnZlcnRpY2VzLmluZGV4T2YodVtoXS5hdFZlcnRleCkmJk8udmVydGljZXMucHVzaCh1W2hdLmF0VmVydGV4KSx0aGlzLl9pbnRlcnNlY3Rpb25WZXJ0aWNlcy5zcGxpY2UobCwxKTtmb3IoeT1sO3k8dGhpcy5faW50ZXJzZWN0aW9uVmVydGljZXMubGVuZ3RoO3krKyl0aGlzLl9pbnRlcnNlY3Rpb25WZXJ0aWNlc1t5XS5pbmRleD15fX19bD1wfX19LE8ucHJvdG90eXBlLl9tZXJnZUNvaW5jaWRlbnRTZWdtZW50cz1mdW5jdGlvbigpe2Zvcih2YXIgZSx0PXt9LHI9MDtyPHRoaXMuX2ludGVyc2VjdGlvblZlcnRpY2VzLmxlbmd0aDtyKyspe2Zvcih2YXIgbz10aGlzLl9pbnRlcnNlY3Rpb25WZXJ0aWNlc1tyXSxpPXt9LG49MDtuPG8uYWRqYWNlbnRFZGdlcy5sZW5ndGg7bisrKXt2YXIgYT0oZT1vLmFkamFjZW50RWRnZXNbbl0pLnN0YXJ0VmVydGV4PT09bz9lLmVuZFZlcnRleDplLnN0YXJ0VmVydGV4O3RbU3RyaW5nKG8uaW5kZXgpK1wiX1wiK1N0cmluZyhhLmluZGV4KV18fChpW1N0cmluZyhhLmluZGV4KV09aVtTdHJpbmcoYS5pbmRleCldfHxbXSxpW1N0cmluZyhhLmluZGV4KV0ucHVzaChlKSl9dmFyIGM9VC5kZWZhdWx0LmtleXMoaSk7Zm9yKG49MDtuPGMubGVuZ3RoO24rKylpZih0W2Nbbl0rXCJfXCIrU3RyaW5nKG8uaW5kZXgpXT0hMCxpW2Nbbl1dLmxlbmd0aD4xKWZvcih2YXIgdT1pW2Nbbl1dLGw9MDtsPHUubGVuZ3RoO2wrKyl7Zm9yKHZhciBoPVtdLGQ9bCsxO2Q8dS5sZW5ndGg7ZCsrKSgwLHYuY3VydmVzQXJlQ29pbmNpZGVudCkodVtsXS5vcmlnaW5hbEVkZ2UuZ2V0Q3VydmUoKSx1W2RdLm9yaWdpbmFsRWRnZS5nZXRDdXJ2ZSgpLHVbbF0ucGFyYW1ldGVyUmFuZ2UsdVtkXS5wYXJhbWV0ZXJSYW5nZSxzLktFUk5FTF9UT0xFUkFOQ0UpJiYoaC5wdXNoKHVbZF0pLHUuc3BsaWNlKGQsMSksZC0tKTtmb3IoZD0wO2Q8aC5sZW5ndGg7ZCsrKXt2YXIgcD1oW2RdO3VbbF0uY29pbmNpZGVudFJhbmdlcy5wdXNoKHtvcmlnaW5hbEVkZ2U6cC5vcmlnaW5hbEVkZ2UscGFyYW1ldGVyUmFuZ2U6cC5wYXJhbWV0ZXJSYW5nZSxsb2NhbEd1aWQ6cC5sb2NhbEd1aWQsZmxpcHBlZDpwLnN0YXJ0VmVydGV4IT09dVtsXS5zdGFydFZlcnRleH0pLHAuc3RhcnRWZXJ0ZXguYWRqYWNlbnRFZGdlcy5zcGxpY2UocC5zdGFydFZlcnRleC5hZGphY2VudEVkZ2VzLmluZGV4T2YocCksMSkscC5lbmRWZXJ0ZXguYWRqYWNlbnRFZGdlcy5zcGxpY2UocC5lbmRWZXJ0ZXguYWRqYWNlbnRFZGdlcy5pbmRleE9mKHApLDEpO3ZhciBnPXRoaXMuX2VkZ2VTZWdtZW50cy5pbmRleE9mKHApO3RoaXMuX2VkZ2VTZWdtZW50cy5zcGxpY2UoZywxKTtmb3IodmFyIGY9ZztmPHRoaXMuX2VkZ2VTZWdtZW50cy5sZW5ndGg7ZisrKXRoaXMuX2VkZ2VTZWdtZW50c1tmXS5pbmRleD1mfX19fSxPLnByb3RvdHlwZS5fc29ydEVkZ2VzQXJvdW5kVmVydGV4PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLl9pbnRlcnNlY3Rpb25WZXJ0aWNlcy5sZW5ndGg7ZSsrKXtmb3IodmFyIHQ9dGhpcy5faW50ZXJzZWN0aW9uVmVydGljZXNbZV0scj1bXSxvPTA7bzx0LmFkamFjZW50RWRnZXMubGVuZ3RoO28rKyl7dmFyIGE9dGhpcy5fY29tcHV0ZUFuZ2xlQW5kUG9zaXRpb25Gb3JFZGdlKG8sdCk7ci5wdXNoKHtpbmRleDpvLG9yaWdpbmFsQW5nbGU6YS5hbmdsZSxhbmdsZTphLmFuZ2xlLHBvc2l0aW9uOmEucG9zaXRpb24sZGVyaXZhdGl2ZTp2b2lkIDB9KX1mb3IodmFyIGM9MCx1PSExOyF1Oyl7dT0hMDt2YXIgbD0tTWF0aC5QSStjO2ZvcihvPTA7bzxyLmxlbmd0aDtvKyspaWYoKDAsbi5hbmdsZURpZmZlcmVuY2UpKGwscltvXS5hbmdsZSk8Qyl7dT0hMTticmVha31pZih1KWJyZWFrO2MrPTJlLTV9Zm9yKG89MDtvPHQuYWRqYWNlbnRFZGdlcy5sZW5ndGg7bysrKXJbb10uYW5nbGU9KDAsbi5ub3JtYWxpemVQYXJhbWV0ZXJUb1NoaWZ0ZWRSYW5nZSkocltvXS5hbmdsZS1jLFstTWF0aC5QSSxNYXRoLlBJXSk7dmFyIGg9dGhpcztyPXIuc29ydCgoZnVuY3Rpb24oZSxyKXtpZigoMCxuLmFuZ2xlRGlmZmVyZW5jZSkoZS5hbmdsZSxyLmFuZ2xlKT5DKXJldHVybiBlLmFuZ2xlLXIuYW5nbGU7dmFyIG89dC5hZGphY2VudEVkZ2VzW2UuaW5kZXhdLGE9dC5hZGphY2VudEVkZ2VzW3IuaW5kZXhdLGM9by5zdGFydFZlcnRleD09PXQ/by5wYXJhbWV0ZXJSYW5nZVswXTpvLnBhcmFtZXRlclJhbmdlWzFdLHU9YS5zdGFydFZlcnRleD09PXQ/YS5wYXJhbWV0ZXJSYW5nZVswXTphLnBhcmFtZXRlclJhbmdlWzFdLGw9by5vcmlnaW5hbEVkZ2UuZXZhbHVhdGVQb3NpdGlvbihjKSxkPWEub3JpZ2luYWxFZGdlLmV2YWx1YXRlUG9zaXRpb24odSkscD1pLlZlY3RvcjMuZGlzdGFuY2UobCxkKSxnPWkuVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCksZj1pLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLHY9by5vcmlnaW5hbEVkZ2UuZXZhbHVhdGVDdXJ2YXR1cmUoYyxnKSxfPWEub3JpZ2luYWxFZGdlLmV2YWx1YXRlQ3VydmF0dXJlKHUsZik7aWYoMD09PXYmJjA9PT1fKXJldHVybiBlLmFuZ2xlLXIuYW5nbGU7aWYoMD09PXZ8fDA9PT1fKXt2YXIgeT0xL01hdGgubWF4KHYsXyk7cCs9MS41Kk1hdGguc3FydChNYXRoLnBvdyh5LDIpLU1hdGgucG93KHktcCwyKSkrcy5LRVJORUxfVE9MRVJBTkNFfWVsc2V7dmFyIG09MS92LEU9MS9fO2lmKG08RSl7dmFyIHg9bTttPUUsRT14fWlmKGkuVmVjdG9yMy5kb3QoZyxmKTwwKXArPTEuNSooLU1hdGguc3FydCgtLjI1Kk1hdGgucG93KHAsNCkrTWF0aC5wb3cocCwzKSptLXAqcCptKm0tKHAqcC0yKnAqbSkqRSpFKyhwKnAqcC0zKnAqcCptKzIqcCptKm0pKkUpLyhwLW0tRSkpO2Vsc2UgcCs9MS41KihNYXRoLnNxcnQoLS4yNSpNYXRoLnBvdyhwLDQpLU1hdGgucG93KHAsMykqbS1wKnAqbSptLShwKnArMipwKm0pKkUqRSsocCpwKnArMypwKnAqbSsyKnAqbSptKSpFKS8ocCttLUUpKX12YXIgUj1NYXRoLm1pbihpLlZlY3RvcjMuZGlzdGFuY2Uoby5lbmRWZXJ0ZXgucG9zaXRpb24sby5zdGFydFZlcnRleC5wb3NpdGlvbiksaS5WZWN0b3IzLmRpc3RhbmNlKGEuZW5kVmVydGV4LnBvc2l0aW9uLGEuc3RhcnRWZXJ0ZXgucG9zaXRpb24pKTtwPU1hdGgubWF4KHMuS0VSTkVMX1RPTEVSQU5DRSxwKSxwPU1hdGgubWluKC45KlIscCk7dmFyIEE9ITE7ZG97dmFyIFA9aC5fY29tcHV0ZUVkZ2VEaXJlY3Rpb25BdFZlcnRleChlLHQscCksVj1oLl9jb21wdXRlRWRnZURpcmVjdGlvbkF0VmVydGV4KHIsdCxwKTtBPSgwLG4uYW5nbGVEaWZmZXJlbmNlKShQLFYpPjFlLTgscCo9NX13aGlsZSghQSYmcDxSKTt2YXIgVD1QLVY7cmV0dXJuIFQ+TWF0aC5QST9ULT1uLlBJMjpUPC1NYXRoLlBJJiYoVCs9bi5QSTIpLFR9KSksdC5hZGphY2VudEVkZ2VzPVQuZGVmYXVsdC5tYXAociwoZnVuY3Rpb24oZSl7cmV0dXJuIHQuYWRqYWNlbnRFZGdlc1tlLmluZGV4XX0pKX19LE8ucHJvdG90eXBlLl9hc3NpZ25BZGphY2VudEVkZ2VzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLl9lZGdlU2VnbWVudHMubGVuZ3RoO2UrKyl7dmFyIHQ9dGhpcy5fZWRnZVNlZ21lbnRzW2VdO3RoaXMuX2Fzc2lnbkFkamFjZW50RWRnZXNUb1NlZ21lbnQodCl9fSxPLnByb3RvdHlwZS5fYXNzaWduQWRqYWNlbnRFZGdlc1RvU2VnbWVudD1mdW5jdGlvbihlKXt2YXIgdD1lLnN0YXJ0VmVydGV4LmFkamFjZW50RWRnZXMscj10LmluZGV4T2YoZSk7QS5Db25zb2xlVXRpbHMuYXNzZXJ0KC0xIT09cixcIkVycm9yIGluIHRvcG9sb2d5XCIpO2Zvcih2YXIgbz0wLGk9ZS5lbmRWZXJ0ZXguYWRqYWNlbnRFZGdlcztvPGkubGVuZ3RoJiZpW29dIT09ZTspbysrO0EuQ29uc29sZVV0aWxzLmFzc2VydChvPGkubGVuZ3RoLFwiRXJyb3IgaW4gdG9wb2xvZ3lcIiksZS5hZGphY2VudFt0aGlzLlNJREUuTEVGVF0ubmV4dEVkZ2U9aVsoMCxuLm1vZHVsdXMpKG8tMSxpLmxlbmd0aCldLGUuYWRqYWNlbnRbdGhpcy5TSURFLkxFRlRdLnByZXZFZGdlPXRbKDAsbi5tb2R1bHVzKShyKzEsdC5sZW5ndGgpXSxlLmFkamFjZW50W3RoaXMuU0lERS5SSUdIVF0ubmV4dEVkZ2U9aVsoMCxuLm1vZHVsdXMpKG8rMSxpLmxlbmd0aCldLGUuYWRqYWNlbnRbdGhpcy5TSURFLlJJR0hUXS5wcmV2RWRnZT10WygwLG4ubW9kdWx1cykoci0xLHQubGVuZ3RoKV19LE8ucHJvdG90eXBlLl9zd2VlcFJlZ2lvbnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl93b3Jrc3BhY2UsdD1ULmRlZmF1bHQuY2xvbmUodGhpcy5faW50ZXJzZWN0aW9uVmVydGljZXMpLnNvcnQoKGZ1bmN0aW9uKGUsdCl7aWYoTWF0aC5hYnMoZS5wb3NpdGlvblswXS10LnBvc2l0aW9uWzBdKTwxZS05KXtmb3IodmFyIHI9MDtyPGUuYWRqYWNlbnRFZGdlcy5sZW5ndGg7cisrKWZvcih2YXIgbz0wO288dC5hZGphY2VudEVkZ2VzLmxlbmd0aDtvKyspaWYoZS5hZGphY2VudEVkZ2VzW3JdLm9yaWdpbmFsRWRnZT09PXQuYWRqYWNlbnRFZGdlc1tvXS5vcmlnaW5hbEVkZ2Upe3ZhciBuPWUuYWRqYWNlbnRFZGdlc1tyXSxhPXQuYWRqYWNlbnRFZGdlc1tvXSxjPW4uc3RhcnRWZXJ0ZXg9PT1lP24ucGFyYW1ldGVyUmFuZ2VbMF06bi5wYXJhbWV0ZXJSYW5nZVsxXSx1PWEuc3RhcnRWZXJ0ZXg9PT10P2EucGFyYW1ldGVyUmFuZ2VbMF06YS5wYXJhbWV0ZXJSYW5nZVsxXSxsPSEwLGg9aS5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtpLlZlY3RvcjMubm9ybWFsaXplKGgsbi5vcmlnaW5hbEVkZ2UuZXZhbHVhdGVEdChjKSk7dmFyIGQ9aS5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtpZihpLlZlY3RvcjMubm9ybWFsaXplKGQsYS5vcmlnaW5hbEVkZ2UuZXZhbHVhdGVEdCh1KSksTWF0aC5zaWduKGhbMF0pIT09TWF0aC5zaWduKGRbMF0pKWNvbnRpbnVlO2lmKE1hdGguYWJzKGhbMF0pPnMuS0VSTkVMX1RPTEVSQU5DRSYmTWF0aC5hYnMoZFswXSk+cy5LRVJORUxfVE9MRVJBTkNFKWw9aFswXT4wO2Vsc2V7aWYoTWF0aC5hYnMoZS5wb3NpdGlvblsxXS10LnBvc2l0aW9uWzFdKTxzLktFUk5FTF9UT0xFUkFOQ0UpY29udGludWU7bD1oWzFdPjB9cmV0dXJuKGMtdSkqKGw/MTotMSl9cmV0dXJuIGUucG9zaXRpb25bMV0tdC5wb3NpdGlvblsxXX1yZXR1cm4gZS5wb3NpdGlvblswXS10LnBvc2l0aW9uWzBdfSkpO3RoaXMuX2NlbGxzPVtdO3ZhciByPXtpbmRleDotMSxsb29wczpbXSxsb29wT3JpZW50YXRpb25zOltdLGRhbmdsaW5nOltdLGxlZnRtb3N0VmVydGV4OnZvaWQgMH07ZS5zd2VlcExpbmVJbnRlcnNlY3Rpb25zPVstMS8wLDEvMF0sZS5zd2VlcExpbmVSZWdpb25zPWUuc3dlZXBMaW5lUmVnaW9ucz1bcl07Zm9yKHZhciBvPVtdLG49MDtuPHQubGVuZ3RoO24rKyl7ZS5zd2VlcExpbmVSZWdpb25zLmxlbmd0aCE9PWUuc3dlZXBMaW5lSW50ZXJzZWN0aW9ucy5sZW5ndGgtMSYmY29uc29sZS5lcnJvcihcIkVycm9yIGR1cmluZyBzd2VlcCBjb21wdXRhdGlvblwiKTt2YXIgYT10W25dO2ZhbHNlO3ZhciBjPVQuZGVmYXVsdC5jbG9uZShhLmFkamFjZW50RWRnZXMpLHU9dm9pZCAwO2lmKG9bYS5pbmRleF0pe2Zvcih2YXIgbD1vW2EuaW5kZXhdLGg9W10sZD0wO2Q8ZS5zd2VlcExpbmVJbnRlcnNlY3Rpb25zLmxlbmd0aC0xO2QrKylULmRlZmF1bHQuY29udGFpbnMobCxlLnN3ZWVwTGluZUludGVyc2VjdGlvbnNbZF0pJiYodm9pZCAwPT09dSYmKHU9ZC0xKSxULmRlZmF1bHQuY29udGFpbnMobCxlLnN3ZWVwTGluZUludGVyc2VjdGlvbnNbZCsxXSkmJmgucHVzaChkKSk7Zm9yKGQ9MDtkPGwubGVuZ3RoO2QrKyl7Zm9yKHZhciBwPWxbZF0sZz0wO2c8ZS5zd2VlcExpbmVJbnRlcnNlY3Rpb25zLmxlbmd0aDtnKyspZS5zd2VlcExpbmVJbnRlcnNlY3Rpb25zW2ddPT09cCYmZS5zd2VlcExpbmVJbnRlcnNlY3Rpb25zLnNwbGljZShnLDEpO2ZvcihnPTA7ZzxjLmxlbmd0aDtnKyspY1tnXT09PXAmJmMuc3BsaWNlKGcsMSl9Zm9yKGQ9aC5sZW5ndGgtMTtkPj0wO2QtLSllLnN3ZWVwTGluZVJlZ2lvbnMuc3BsaWNlKGhbZF0sMSl9ZWxzZSB1PXRoaXMuX2ZpbmRWZXJ0ZXhPblN3ZWVwTGluZShhKSxlLnN3ZWVwTGluZVJlZ2lvbnMuc3BsaWNlKHUrMSwwLGUuc3dlZXBMaW5lUmVnaW9uc1t1XSk7aWYoYy5sZW5ndGg+MCl7dmFyIGY9dSsxO2ZvcihkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciB2PWNbZF07ZS5zd2VlcExpbmVJbnRlcnNlY3Rpb25zLnNwbGljZShmLDAsdik7dmFyIF89di5zdGFydFZlcnRleD09PWE/di5lbmRWZXJ0ZXg6di5zdGFydFZlcnRleDtpZih2b2lkIDA9PT1vW18uaW5kZXhdJiYob1tfLmluZGV4XT1bXSksb1tfLmluZGV4XS5wdXNoKHYpLGQ+MCl7dmFyIHk9e2luZGV4OnRoaXMuX2NlbGxzLmxlbmd0aCxsb29wczpbXSxsb29wT3JpZW50YXRpb25zOltdLGRhbmdsaW5nOltdLGxlZnRtb3N0VmVydGV4OmF9O3RoaXMuX2NlbGxzLnB1c2goeSksZS5zd2VlcExpbmVSZWdpb25zLnNwbGljZShmLTEsMCx5KX1mKyt9Zj11O2ZvcihkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBtPSh2PWNbZF0pLnN0YXJ0VmVydGV4IT09YTt2LmFkamFjZW50W20/dGhpcy5TSURFLlJJR0hUOnRoaXMuU0lERS5MRUZUXS5mYWNlPWUuc3dlZXBMaW5lUmVnaW9uc1tmKzFdLHYuYWRqYWNlbnRbbT90aGlzLlNJREUuTEVGVDp0aGlzLlNJREUuUklHSFRdLmZhY2U9ZS5zd2VlcExpbmVSZWdpb25zW2ZdLGYrK319ZWxzZSBpZihlLnN3ZWVwTGluZVJlZ2lvbnNbdV0hPT1lLnN3ZWVwTGluZVJlZ2lvbnNbdSsxXSl7dmFyIEU9ZS5zd2VlcExpbmVSZWdpb25zW3UrMV0seD1lLnN3ZWVwTGluZVJlZ2lvbnNbdV07eD09PXI/KHg9RSxFPXIsZS5zd2VlcExpbmVSZWdpb25zLnNwbGljZSh1LDEpKToodm9pZCAwIT09eC5sZWZ0bW9zdFZlcnRleCYmKHZvaWQgMD09PUUubGVmdG1vc3RWZXJ0ZXh8fEUubGVmdG1vc3RWZXJ0ZXgucG9zaXRpb25bMF0+eC5sZWZ0bW9zdFZlcnRleC5wb3NpdGlvblswXSkmJihFLmxlZnRtb3N0VmVydGV4PXgubGVmdG1vc3RWZXJ0ZXgpLGUuc3dlZXBMaW5lUmVnaW9ucy5zcGxpY2UodSsxLDEpKTtmb3IoZD0wO2Q8dGhpcy5fZWRnZVNlZ21lbnRzLmxlbmd0aDtkKyspdGhpcy5fZWRnZVNlZ21lbnRzW2RdLmFkamFjZW50W3RoaXMuU0lERS5MRUZUXS5mYWNlPT09eCYmKHRoaXMuX2VkZ2VTZWdtZW50c1tkXS5hZGphY2VudFt0aGlzLlNJREUuTEVGVF0uZmFjZT1FKSx0aGlzLl9lZGdlU2VnbWVudHNbZF0uYWRqYWNlbnRbdGhpcy5TSURFLlJJR0hUXS5mYWNlPT09eCYmKHRoaXMuX2VkZ2VTZWdtZW50c1tkXS5hZGphY2VudFt0aGlzLlNJREUuUklHSFRdLmZhY2U9RSk7Zm9yKGQ9MDtkPGUuc3dlZXBMaW5lUmVnaW9ucy5sZW5ndGg7ZCsrKWUuc3dlZXBMaW5lUmVnaW9uc1tkXT09PXgmJihlLnN3ZWVwTGluZVJlZ2lvbnNbZF09RSk7dGhpcy5fY2VsbHNbeC5pbmRleF09dm9pZCAwfWVsc2UgZS5zd2VlcExpbmVSZWdpb25zLnNwbGljZSh1KzEsMSl9Zm9yKG49MDtuPHRoaXMuX2NlbGxzLmxlbmd0aDtuKyspdm9pZCAwPT09dGhpcy5fY2VsbHNbbl0mJih0aGlzLl9jZWxscy5zcGxpY2UobiwxKSxuLS0pO2ZvcihuPTA7bjx0aGlzLl9jZWxscy5sZW5ndGg7bisrKXRoaXMuX2NlbGxzW25dLmluZGV4PW59LE8ucHJvdG90eXBlLl9hc3NpZ25sZWZ0bW9zdEVkZ2VzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMsdD0wO3Q8dGhpcy5fY2VsbHMubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy5fY2VsbHNbdF0sbz1yLmxlZnRtb3N0VmVydGV4LGk9VC5kZWZhdWx0LmZpbHRlcihvLmFkamFjZW50RWRnZXMsKGZ1bmN0aW9uKHQpe3ZhciBvPXQuYWRqYWNlbnRbZS5TSURFLkxFRlRdLmZhY2UsaT10LmFkamFjZW50W2UuU0lERS5SSUdIVF0uZmFjZTtyZXR1cm4obz09PXJ8fGk9PT1yKSYmbyE9PWl9KSk7aWYoQS5Db25zb2xlVXRpbHMuYXNzZXJ0KGkubGVuZ3RoPj0yLFwiSW4gZWFjaCBsb29wIHRoZXJlIHNob3VsZCBiZSBhdCBsZWFzdCB0d28gYWRqYWNlbnQgZWRnZXNcIiksaS5sZW5ndGg+Milmb3IodmFyIG49MDtuPGkubGVuZ3RoO24rKyl7dmFyIHM9aVtuXS5hZGphY2VudFtlLlNJREUuTEVGVF0uZmFjZT09PXI/ZS5TSURFLkxFRlQ6ZS5TSURFLlJJR0hULGE9aVtuXS5hZGphY2VudFtzXSxjPWlbbl0uc3RhcnRWZXJ0ZXg9PT1vP2EucHJldkVkZ2U6YS5uZXh0RWRnZTtpZihULmRlZmF1bHQuY29udGFpbnMoaSxjKSl7aT1baVtuXSxjXTticmVha319dmFyIHU9aVswXTt1Lmxvb3BzQ3VydmVBbGlnbmVkPSEhKHUuc3RhcnRWZXJ0ZXg9PT1vXmlbMF0uYWRqYWNlbnRbZS5TSURFLlJJR0hUXS5mYWNlPT09ciksci5sZWZ0bW9zdEVkZ2U9dSxyLmxlZnRtb3N0VmVydGV4PXZvaWQgMH19LE8ucHJvdG90eXBlLl9yZW1vdmVHcmF6aW5nSW50ZXJzZWN0aW9uVmVydGljZXM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9e30sdD0wLHI9dGhpcy5faW50ZXJzZWN0aW9uVmVydGljZXMuc2xpY2UoKTtyLmxlbmd0aD4wOyl7dmFyIG89ci5wb3AoKTtpZigyPT09by5hZGphY2VudEVkZ2VzLmxlbmd0aCYmKDE9PT1vLmFkamFjZW50RWRnZXNbMF0uY29pbmNpZGVudFJhbmdlcy5sZW5ndGh8fDE9PT1vLmFkamFjZW50RWRnZXNbMV0uY29pbmNpZGVudFJhbmdlcy5sZW5ndGgpJiZvLnZpcnR1YWxJbnRlcnNlY3Rpb24pe3ZhciBpLHMsYT0xPT09by5hZGphY2VudEVkZ2VzWzBdLmNvaW5jaWRlbnRSYW5nZXMubGVuZ3RoJiYxPT09by5hZGphY2VudEVkZ2VzWzFdLmNvaW5jaWRlbnRSYW5nZXMubGVuZ3RoLGM9by5hZGphY2VudEVkZ2VzLnNsaWNlKCk7aWYoYSl7aWYoaT1bY1swXS5vcmlnaW5hbEVkZ2UsY1swXS5jb2luY2lkZW50UmFuZ2VzWzBdLm9yaWdpbmFsRWRnZV0scz1bY1sxXS5vcmlnaW5hbEVkZ2UsY1sxXS5jb2luY2lkZW50UmFuZ2VzWzBdLm9yaWdpbmFsRWRnZV0sIShpWzBdPT09c1swXSYmaVsxXT09PXNbMV18fGlbMF09PT1zWzFdJiZpWzFdPT09c1swXSkpY29udGludWU7ZVtjWzBdLm9yaWdpbmFsRWRnZS5nZXRHdWlkKCldPSEwLGVbY1swXS5jb2luY2lkZW50UmFuZ2VzWzBdLm9yaWdpbmFsRWRnZS5nZXRHdWlkKCldPSEwLGVbY1sxXS5vcmlnaW5hbEVkZ2UuZ2V0R3VpZCgpXT0hMCxlW2NbMV0uY29pbmNpZGVudFJhbmdlc1swXS5vcmlnaW5hbEVkZ2VdPSEwO3ZhciB1PVtjWzBdLnN0YXJ0VmVydGV4PT09bz9jWzBdLmVuZFZlcnRleDpjWzBdLnN0YXJ0VmVydGV4LG8sY1sxXS5zdGFydFZlcnRleD09PW8/Y1sxXS5lbmRWZXJ0ZXg6Y1sxXS5zdGFydFZlcnRleF19ZWxzZXt2YXIgbDtjWzBdLmNvaW5jaWRlbnRSYW5nZXMubGVuZ3RoPjA/KGw9MCxpPVtjWzBdLm9yaWdpbmFsRWRnZSxjWzBdLmNvaW5jaWRlbnRSYW5nZXNbMF0ub3JpZ2luYWxFZGdlXSk6KGw9MSxpPVtjWzFdLm9yaWdpbmFsRWRnZSxjWzFdLmNvaW5jaWRlbnRSYW5nZXNbMF0ub3JpZ2luYWxFZGdlXSksZVtpWzBdLmdldEd1aWQoKV09ITAsZVtpWzFdLmdldEd1aWQoKV09ITA7dT1bY1tsXS5zdGFydFZlcnRleD09PW8/Y1tsXS5lbmRWZXJ0ZXg6Y1tsXS5zdGFydFZlcnRleCxvXTtjPVtjW2xdXX12YXIgaD12b2lkIDAsZD12b2lkIDA7aWYodVswXS52ZXJ0aWNlcy5sZW5ndGg+MD8oaD11WzBdLGQ9YT9bdVsxXSx1WzJdXTpbdVsxXV0pOmEmJnVbMl0udmVydGljZXMubGVuZ3RoPjA/KGg9dVsyXSxkPVt1WzBdLHVbMV1dKTooaD11WzFdLGQ9YT9bdVswXSx1WzJdXTpbdVswXV0pLGRbMF0udmVydGljZXMubGVuZ3RoPjB8fGRbMV0mJihkWzFdLnZlcnRpY2VzLmxlbmd0aD4wfHxkWzBdPT09ZFsxXSkpY29udGludWU7Zm9yKHZhciBwPSEwLGc9VC5kZWZhdWx0LndpdGhvdXQoZCxvKSxmPTA7ZjxnLmxlbmd0aDtmKyspe3ZhciB2PWdbZl0uYWRqYWNlbnRFZGdlcztpZigodj1ULmRlZmF1bHQuZGlmZmVyZW5jZSh2LGMpKS5sZW5ndGg+Mil7cD0hMTticmVha31mb3IodmFyIF89MDtfPHYubGVuZ3RoO18rKylpZih2W19dLmNvaW5jaWRlbnRSYW5nZXMubGVuZ3RoPjB8fHZbX10ub3JpZ2luYWxFZGdlIT09aVswXSYmdltfXS5vcmlnaW5hbEVkZ2UhPT1pWzFdKXtwPSExO2JyZWFrfX1pZighcCljb250aW51ZTtmb3IoZj0wO2Y8Zy5sZW5ndGg7ZisrKXt2YXIgeT1nW2ZdLG09VC5kZWZhdWx0LmludGVyc2VjdGlvbihjLHkuYWRqYWNlbnRFZGdlcylbMF0sRT1vIT09aCYmYT9ULmRlZmF1bHQud2l0aG91dChjLG0pWzBdOm0seD1ULmRlZmF1bHQud2l0aG91dCh5LmFkamFjZW50RWRnZXMsbSk7Zm9yKHkuYWRqYWNlbnRFZGdlc1sxXT09PW0mJih4PXgucmV2ZXJzZSgpKSxfPTA7Xzx4Lmxlbmd0aDtfKyspe3ZhciBSPXhbX10sQT1FLnN0YXJ0VmVydGV4PT09aD8wOjEsUD12b2lkIDA7aWYoRS5vcmlnaW5hbEVkZ2U9PT1SLm9yaWdpbmFsRWRnZSlQPUUucGFyYW1ldGVyUmFuZ2VbQV07ZWxzZXt2YXIgVj1FLmNvaW5jaWRlbnRSYW5nZXNbMF0uZmxpcHBlZD8xLUE6QTtQPUUuY29pbmNpZGVudFJhbmdlc1swXS5wYXJhbWV0ZXJSYW5nZVtWXX1SLnN0YXJ0VmVydGV4PT09eT8oUi5zdGFydFZlcnRleD1oLFIucGFyYW1ldGVyUmFuZ2VbMF09UCk6KFIuZW5kVmVydGV4PWgsUi5wYXJhbWV0ZXJSYW5nZVsxXT1QKTtmb3IodmFyIGI9MDtiPFIuYWRqYWNlbnQubGVuZ3RoO2IrKyl7dmFyIEM9Ui5hZGphY2VudFtiXS5mYWNlO0MubGVmdG1vc3RFZGdlIT09bSYmQy5sZWZ0bW9zdEVkZ2UhPT1FfHwoUi5sb29wc0N1cnZlQWxpZ25lZD1DLmxlZnRtb3N0RWRnZS5sb29wc0N1cnZlQWxpZ25lZCxDLmxlZnRtb3N0RWRnZT1SKSwoQy5sZWZ0bW9zdFZlcnRleD09PWRbMF18fHZvaWQgMCE9PWRbMV0mJkMubGVmdG1vc3RWZXJ0ZXg9PT1kWzFdKSYmKEMubGVmdG1vc3RWZXJ0ZXg9aCl9fXZhciBPPWguYWRqYWNlbnRFZGdlcy5pbmRleE9mKEUpO0FycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkoaC5hZGphY2VudEVkZ2VzLFtPLDFdLmNvbmNhdCh4KSk7dmFyIEw9aC5hZGphY2VudEVkZ2VzLmxlbmd0aCxTPVsoMCxuLm1vZHVsdXMpKE8tMSxMKSxPLE8rMSwoTysyKSVMXTtmb3IoXz0wO188Uy5sZW5ndGg7XysrKXt2YXIgTT1oLmFkamFjZW50RWRnZXNbU1tfXV07dGhpcy5fYXNzaWduQWRqYWNlbnRFZGdlc1RvU2VnbWVudChNKX19dGhpcy5faW50ZXJzZWN0aW9uVmVydGljZXM9VC5kZWZhdWx0LmRpZmZlcmVuY2UodGhpcy5faW50ZXJzZWN0aW9uVmVydGljZXMsZCkscj1ULmRlZmF1bHQuZGlmZmVyZW5jZShyLGQpLHRoaXMuX2VkZ2VTZWdtZW50cz1ULmRlZmF1bHQuZGlmZmVyZW5jZSh0aGlzLl9lZGdlU2VnbWVudHMsYyksdCsrfX1pZih0PjApe2Zvcih2YXIgdz0wO3c8dGhpcy5faW50ZXJzZWN0aW9uVmVydGljZXMubGVuZ3RoO3crKyl0aGlzLl9pbnRlcnNlY3Rpb25WZXJ0aWNlc1t3XS5pbmRleD13O2Zvcih3PTA7dzx0aGlzLl9lZGdlU2VnbWVudHMubGVuZ3RoO3crKyl0aGlzLl9lZGdlU2VnbWVudHNbd10uaW5kZXg9d312YXIgTj1ULmRlZmF1bHQua2V5cyhlKTtmb3Iodz0wO3c8Ti5sZW5ndGg7dysrKXt2YXIgRj1OW3ddLEk9W107Zm9yKGY9MDtmPHRoaXMuX2VkZ2VTZWdtZW50cy5sZW5ndGg7ZisrKXsoRD10aGlzLl9lZGdlU2VnbWVudHNbZl0pLm9yaWdpbmFsRWRnZS5nZXRHdWlkKCk9PT1GJiZJLnB1c2goW0QsRC5wYXJhbWV0ZXJSYW5nZVswXV0pO2ZvcihfPTA7XzxELmNvaW5jaWRlbnRSYW5nZXMubGVuZ3RoO18rKylELmNvaW5jaWRlbnRSYW5nZXNbX10ub3JpZ2luYWxFZGdlLmdldEd1aWQoKT09PUYmJkkucHVzaChbRCxELmNvaW5jaWRlbnRSYW5nZXNbX10ucGFyYW1ldGVyUmFuZ2VbMF1dKX1JLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMV0tdFsxXX0pKTtmb3IoZj0wO2Y8SS5sZW5ndGg7ZisrKXt2YXIgRDsoRD1JW2ZdWzBdKS5vcmlnaW5hbEVkZ2UuZ2V0R3VpZCgpPT09RiYmKEQubG9jYWxHdWlkPXRoaXMuX2NyZWF0ZUdVSURmcm9tRWRnZUFuZExvY2FsSUQoRC5vcmlnaW5hbEVkZ2UsZisxKSk7Zm9yKF89MDtfPEQuY29pbmNpZGVudFJhbmdlcy5sZW5ndGg7XysrKUQuY29pbmNpZGVudFJhbmdlc1tfXS5vcmlnaW5hbEVkZ2UuZ2V0R3VpZCgpPT09RiYmKEQuY29pbmNpZGVudFJhbmdlc1tfXS5sb2NhbEd1aWQ9dGhpcy5fY3JlYXRlR1VJRGZyb21FZGdlQW5kTG9jYWxJRChELmNvaW5jaWRlbnRSYW5nZXNbX10ub3JpZ2luYWxFZGdlLGYrMSkpfX19LE8ucHJvdG90eXBlLl9yZW1vdmVUZW1wb3JhcnlWZXJ0aWNlcz1mdW5jdGlvbigpe2Zvcih2YXIgZT0wLHQ9MDt0PHRoaXMuX2ludGVyc2VjdGlvblZlcnRpY2VzLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMuX2ludGVyc2VjdGlvblZlcnRpY2VzW3RdO2lmKHIudGVtcG9yYXJ5JiYyPT09ci5hZGphY2VudEVkZ2VzLmxlbmd0aCYmci5hZGphY2VudEVkZ2VzWzBdLm9yaWdpbmFsRWRnZT09PXIuYWRqYWNlbnRFZGdlc1sxXS5vcmlnaW5hbEVkZ2UmJnIuYWRqYWNlbnRFZGdlc1swXSE9PXIuYWRqYWNlbnRFZGdlc1sxXSl7dmFyIG8saTtyLmFkamFjZW50RWRnZXNbMF0uZW5kVmVydGV4PT09cj8obz1yLmFkamFjZW50RWRnZXNbMF0saT1yLmFkamFjZW50RWRnZXNbMV0pOihvPXIuYWRqYWNlbnRFZGdlc1sxXSxpPXIuYWRqYWNlbnRFZGdlc1swXSksQS5Db25zb2xlVXRpbHMuYXNzZXJ0KG8uYWRqYWNlbnRbdGhpcy5TSURFLkxFRlRdLmZhY2U9PT1pLmFkamFjZW50W3RoaXMuU0lERS5MRUZUXS5mYWNlKSxBLkNvbnNvbGVVdGlscy5hc3NlcnQoby5hZGphY2VudFt0aGlzLlNJREUuUklHSFRdLmZhY2U9PT1pLmFkamFjZW50W3RoaXMuU0lERS5SSUdIVF0uZmFjZSk7dmFyIG49by5wYXJhbWV0ZXJSYW5nZVsxXS1pLnBhcmFtZXRlclJhbmdlWzBdLGE9KG8ub3JpZ2luYWxFZGdlLmlzUmV2ZXJzZWQoKT8tMToxKSpvLnBhcmFtZXRlclJhbmdlWzBdLGM9cy5LRVJORUxfVE9MRVJBTkNFL28ub3JpZ2luYWxFZGdlLmdldEN1cnZlKCkudGFuZ2VudExlbmd0aChhKTtpZihvLm9yaWdpbmFsRWRnZS5nZXRDdXJ2ZSgpLmlzUGVyaW9kaWMoKSYmTWF0aC5hYnMobi1vLm9yaWdpbmFsRWRnZS5nZXRDdXJ2ZSgpLmdldFBlcmlvZCgpKTxjKW8ucGFyYW1ldGVyUmFuZ2VbMV09aS5wYXJhbWV0ZXJSYW5nZVsxXStuO2Vsc2V7aWYoTWF0aC5hYnMobik+Yyljb250aW51ZTtvLnBhcmFtZXRlclJhbmdlWzFdPWkucGFyYW1ldGVyUmFuZ2VbMV19by5lbmRWZXJ0ZXg9aS5lbmRWZXJ0ZXgsby5hZGphY2VudFt0aGlzLlNJREUuTEVGVF0ubmV4dEVkZ2U9aS5hZGphY2VudFt0aGlzLlNJREUuTEVGVF0ubmV4dEVkZ2Usby5hZGphY2VudFt0aGlzLlNJREUuUklHSFRdLm5leHRFZGdlPWkuYWRqYWNlbnRbdGhpcy5TSURFLlJJR0hUXS5uZXh0RWRnZSxvLmFkamFjZW50W3RoaXMuU0lERS5MRUZUXS5wcmV2RWRnZT09PWkmJihvLmFkamFjZW50W3RoaXMuU0lERS5MRUZUXS5wcmV2RWRnZT1vKSxvLmFkamFjZW50W3RoaXMuU0lERS5SSUdIVF0ucHJldkVkZ2U9PT1pJiYoby5hZGphY2VudFt0aGlzLlNJREUuUklHSFRdLnByZXZFZGdlPW8pO3ZhciB1PW8uYWRqYWNlbnRbdGhpcy5TSURFLkxFRlRdLm5leHRFZGdlO3UuYWRqYWNlbnRbdGhpcy5TSURFLkxFRlRdLnByZXZFZGdlPT09aSYmKHUuYWRqYWNlbnRbdGhpcy5TSURFLkxFRlRdLnByZXZFZGdlPW8pLHUuYWRqYWNlbnRbdGhpcy5TSURFLkxFRlRdLm5leHRFZGdlPT09aSYmKHUuYWRqYWNlbnRbdGhpcy5TSURFLkxFRlRdLm5leHRFZGdlPW8pLHUuYWRqYWNlbnRbdGhpcy5TSURFLlJJR0hUXS5wcmV2RWRnZT09PWkmJih1LmFkamFjZW50W3RoaXMuU0lERS5SSUdIVF0ucHJldkVkZ2U9byksdS5hZGphY2VudFt0aGlzLlNJREUuUklHSFRdLm5leHRFZGdlPT09aSYmKHUuYWRqYWNlbnRbdGhpcy5TSURFLlJJR0hUXS5uZXh0RWRnZT1vKTt2YXIgbD1vLmFkamFjZW50W3RoaXMuU0lERS5SSUdIVF0ubmV4dEVkZ2U7bC5hZGphY2VudFt0aGlzLlNJREUuTEVGVF0ucHJldkVkZ2U9PT1pJiYobC5hZGphY2VudFt0aGlzLlNJREUuTEVGVF0ucHJldkVkZ2U9byksbC5hZGphY2VudFt0aGlzLlNJREUuTEVGVF0ubmV4dEVkZ2U9PT1pJiYobC5hZGphY2VudFt0aGlzLlNJREUuTEVGVF0ubmV4dEVkZ2U9byksbC5hZGphY2VudFt0aGlzLlNJREUuUklHSFRdLnByZXZFZGdlPT09aSYmKGwuYWRqYWNlbnRbdGhpcy5TSURFLlJJR0hUXS5wcmV2RWRnZT1vKSxsLmFkamFjZW50W3RoaXMuU0lERS5SSUdIVF0ubmV4dEVkZ2U9PT1pJiYobC5hZGphY2VudFt0aGlzLlNJREUuUklHSFRdLm5leHRFZGdlPW8pLGkuYWRqYWNlbnRbdGhpcy5TSURFLkxFRlRdLmZhY2UubGVmdG1vc3RFZGdlPT09aSYmKGkuYWRqYWNlbnRbdGhpcy5TSURFLkxFRlRdLmZhY2UubGVmdG1vc3RFZGdlPW8pLGkuYWRqYWNlbnRbdGhpcy5TSURFLlJJR0hUXS5mYWNlLmxlZnRtb3N0RWRnZT09PWkmJihpLmFkamFjZW50W3RoaXMuU0lERS5SSUdIVF0uZmFjZS5sZWZ0bW9zdEVkZ2U9byksdm9pZCAwPT09by5sb29wc0N1cnZlQWxpZ25lZCYmKG8ubG9vcHNDdXJ2ZUFsaWduZWQ9aS5sb29wc0N1cnZlQWxpZ25lZCksKDAsXy5oYXNoQ29tYmluZTR4VWludDMyKShvLmxvY2FsR3VpZCxpLmxvY2FsR3VpZCxvLmxvY2FsR3VpZCk7dmFyIGg9by5lbmRWZXJ0ZXguYWRqYWNlbnRFZGdlcy5pbmRleE9mKGkpO28uZW5kVmVydGV4LmFkamFjZW50RWRnZXNbaF09byx0aGlzLl9pbnRlcnNlY3Rpb25WZXJ0aWNlcy5zcGxpY2UodCwxKSx0aGlzLl9lZGdlU2VnbWVudHMuc3BsaWNlKGkuaW5kZXgtZSwxKSx0LS0sZSsrfWVsc2UgdGhpcy5faW50ZXJzZWN0aW9uVmVydGljZXNbdF0uaW5kZXgtPWV9Zm9yKHQ9MDt0PHRoaXMuX2VkZ2VTZWdtZW50cy5sZW5ndGg7dCsrKXRoaXMuX2VkZ2VTZWdtZW50c1t0XS5pbmRleD10fSxPLnByb3RvdHlwZS5fdXBkYXRlVmVydGV4R3VpZExpc3RzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLl9pbnRlcnNlY3Rpb25WZXJ0aWNlcy5sZW5ndGg7ZSsrKXt2YXIgdD10aGlzLl9pbnRlcnNlY3Rpb25WZXJ0aWNlc1tlXTtpZih0LnZlcnRpY2VzLmxlbmd0aD4wKWZvcih2YXIgcj0wO3I8dC52ZXJ0aWNlcy5sZW5ndGg7cisrKXQuZ3VpZExpc3QucHVzaCgoMCxfLmd1aWRUb1VpbnQzMng0KSh0LnZlcnRpY2VzW3JdLmdldEd1aWQoKSkpO2Vsc2V7dmFyIG89e307Zm9yKHI9MDtyPHQuYWRqYWNlbnRFZGdlcy5sZW5ndGg7cisrKXt2YXIgaT10LmFkamFjZW50RWRnZXNbcl07aWYoIW9baS5pbmRleF0pe29baS5pbmRleF09ITAsdC5ndWlkTGlzdC5wdXNoKGkubG9jYWxHdWlkKTtmb3IodmFyIG49MDtuPGkuY29pbmNpZGVudFJhbmdlcy5sZW5ndGg7bisrKXQuZ3VpZExpc3QucHVzaChpLmNvaW5jaWRlbnRSYW5nZXNbbl0ubG9jYWxHdWlkKX19fX19LE8ucHJvdG90eXBlLl9hc3NpZ25Mb29wcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3dvcmtzcGFjZTtlLmVkZ2VzUGVyQ2VsbD1bXTtmb3IodmFyIHQ9MDt0PHRoaXMuX2NlbGxzLmxlbmd0aDt0KyspZS5lZGdlc1BlckNlbGxbdF09W107Zm9yKHQ9MDt0PHRoaXMuX2VkZ2VTZWdtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLl9lZGdlU2VnbWVudHNbdF0sbz1yLmFkamFjZW50W3RoaXMuU0lERS5MRUZUXS5mYWNlLmluZGV4O28+PTAmJmUuZWRnZXNQZXJDZWxsW29dLnB1c2gocik7dmFyIGk9ci5hZGphY2VudFt0aGlzLlNJREUuUklHSFRdLmZhY2UuaW5kZXg7aT49MCYmbyE9PWkmJmUuZWRnZXNQZXJDZWxsW2ldLnB1c2gocil9dmFyIG49W107Zm9yKHQ9MDt0PHRoaXMuX2NlbGxzLmxlbmd0aDt0Kyspe3ZhciBzPVtdO25bdF09cztmb3IodmFyIGE9dGhpcy5fZm9sbG93TG9vcEZyb21FZGdlKHRoaXMuX2NlbGxzW3RdLmxlZnRtb3N0RWRnZSx0aGlzLl9jZWxsc1t0XSwhMSwhMCksYz0wO2M8YS5sb29wLmxlbmd0aDtjKyspc1thLmxvb3BbY10uaW5kZXhdPSEwO3RoaXMuX2NlbGxzW3RdLmxvb3BzLnB1c2goYS5sb29wKSx0aGlzLl9jZWxsc1t0XS5sb29wT3JpZW50YXRpb25zLnB1c2goYS5vcmllbnRhdGlvbnMpfWZvcih0PTA7dDx0aGlzLl9jZWxscy5sZW5ndGg7dCsrKXtzPW5bdF07Zm9yKHZhciB1PTA7dTxlLmVkZ2VzUGVyQ2VsbFt0XS5sZW5ndGg7dSsrKXt2YXIgbD1lLmVkZ2VzUGVyQ2VsbFt0XVt1XTtpZihsLmFkamFjZW50W3RoaXMuU0lERS5MRUZUXS5mYWNlIT09bC5hZGphY2VudFt0aGlzLlNJREUuUklHSFRdLmZhY2Upe2lmKCEwIT09c1tsLmluZGV4XSl7Zm9yKGE9dGhpcy5fZm9sbG93TG9vcEZyb21FZGdlKGwsdGhpcy5fY2VsbHNbdF0sITAsITEpLGM9MDtjPGEubG9vcC5sZW5ndGg7YysrKXNbYS5sb29wW2NdLmluZGV4XT0hMDt0aGlzLl9jZWxsc1t0XS5sb29wcy5wdXNoKGEubG9vcCksdGhpcy5fY2VsbHNbdF0ubG9vcE9yaWVudGF0aW9ucy5wdXNoKGEub3JpZW50YXRpb25zKX19ZWxzZSB0aGlzLl9jZWxsc1t0XS5kYW5nbGluZy5wdXNoKGwpfX19LE8ucHJvdG90eXBlLl91cGRhdGVTa2V0Y2hSZWdpb25Ub3BvbG9neT1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLl93b3Jrc3BhY2UsdD1ULmRlZmF1bHQua2V5cyh0aGlzLl9za2V0Y2hSZWdpb25Ub3BvbG9naWVzKSxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07dGhpcy5fc2tldGNoUmVnaW9uVG9wb2xvZ2llc1tvXS51cGRhdGVkPSExLFwiRmFjZUlEXCI9PT10aGlzLl9za2V0Y2hSZWdpb25Ub3BvbG9naWVzW29dLnRvcG9sb2d5LnR1aWQmJnRoaXMuX3NrZXRjaFJlZ2lvblRvcG9sb2dpZXNbb10udG9wb2xvZ3kucmVtb3ZlQWxsRWRnZXMoKX12YXIgaT17fSxuPXt9O2ZvcihyPTA7cjx0aGlzLl9pbnRlcnNlY3Rpb25WZXJ0aWNlcy5sZW5ndGg7cisrKXt2YXIgYT10aGlzLl9hZGRPckZpbmRUb3BvbG9neVN1YmNvbXBvbmVudChcIlZlcnRleElEXCIscy5HRU9NRVRSWV9UWVBFUy5QT0lOVCx0aGlzLl9pbnRlcnNlY3Rpb25WZXJ0aWNlc1tyXS5ndWlkTGlzdCxuKTthLnNldFBvaW50KG5ldyBkLlBvaW50KHRoaXMuX2ludGVyc2VjdGlvblZlcnRpY2VzW3JdLnBvc2l0aW9uKSksYS5zZXRBc3NvY2lhdGVkRW50aXRpZXMoVC5kZWZhdWx0LmNsb25lKHRoaXMuX2ludGVyc2VjdGlvblZlcnRpY2VzW3JdLnZlcnRpY2VzKSk7Zm9yKHZhciBjPTA7Yzx0aGlzLl9pbnRlcnNlY3Rpb25WZXJ0aWNlc1tyXS52ZXJ0aWNlcy5sZW5ndGg7KytjKXt2YXIgdT10aGlzLl9pbnRlcnNlY3Rpb25WZXJ0aWNlc1tyXS52ZXJ0aWNlc1tjXS5nZXRHdWlkKCk7QS5Db25zb2xlVXRpbHMuYXNzZXJ0KCFpW3VdLFwidmVydGV4IHNob3VsZCBvbmx5IG1hcCB0byBvbmUgdG9wb2xvZ3kgdmVydGV4XCIpLGlbdV09YX10aGlzLl9pbnRlcnNlY3Rpb25WZXJ0aWNlc1tyXS50b3BvbG9neVZlcnRleD1hfWZvcihyPTA7cjx0aGlzLl9lZGdlU2VnbWVudHMubGVuZ3RoO3IrKyl7dmFyIGw9dGhpcy5fZWRnZVNlZ21lbnRzW3JdLGg9W2wubG9jYWxHdWlkXTtmb3IoYz0wO2M8bC5jb2luY2lkZW50UmFuZ2VzLmxlbmd0aDtjKyspaC5wdXNoKGwuY29pbmNpZGVudFJhbmdlc1tjXS5sb2NhbEd1aWQpOyhQPXRoaXMuX2FkZE9yRmluZFRvcG9sb2d5U3ViY29tcG9uZW50KFwiRWRnZUlEXCIsbC5vcmlnaW5hbEVkZ2UuZ2V0Q3VydmVUeXBlKCksaCxuKSkuc2V0VG9FZGdlU2VnbWVudChsLm9yaWdpbmFsRWRnZSxsLnBhcmFtZXRlclJhbmdlKSxQLnNldFN0YXJ0VmVydGV4KGwuc3RhcnRWZXJ0ZXgudG9wb2xvZ3lWZXJ0ZXgpLFAuc2V0RW5kVmVydGV4KGwuZW5kVmVydGV4LnRvcG9sb2d5VmVydGV4KTt2YXIgZj1be2VkZ2U6bC5vcmlnaW5hbEVkZ2UscmFuZ2U6VC5kZWZhdWx0LmNsb25lKGwucGFyYW1ldGVyUmFuZ2UpLGZsaXBwZWQ6ITF9XTtmb3IoYz0wO2M8bC5jb2luY2lkZW50UmFuZ2VzLmxlbmd0aDtjKyspZi5wdXNoKHtlZGdlOmwuY29pbmNpZGVudFJhbmdlc1tjXS5vcmlnaW5hbEVkZ2UscmFuZ2U6VC5kZWZhdWx0LmNsb25lKGwuY29pbmNpZGVudFJhbmdlc1tjXS5wYXJhbWV0ZXJSYW5nZSksZmxpcHBlZDpsLmNvaW5jaWRlbnRSYW5nZXNbY10uZmxpcHBlZH0pO1Auc2V0QXNzb2NpYXRlZEVkZ2VzKGYpLGwudG9wb2xvZ3lFZGdlPVB9Zm9yKHI9MDtyPHRoaXMuX2NlbGxzLmxlbmd0aDtyKyspe3ZhciB2PXRoaXMuX2NlbGxzW3JdO2ZvcihoPVtdLGM9MDtjPGUuZWRnZXNQZXJDZWxsW3JdLmxlbmd0aDtjKyspaC5wdXNoKCgwLF8uZ3VpZFRvVWludDMyeDQpKGUuZWRnZXNQZXJDZWxsW3JdW2NdLnRvcG9sb2d5RWRnZS5nZXRHdWlkKCkpKTt2YXIgeT10aGlzLl9hZGRPckZpbmRUb3BvbG9neVN1YmNvbXBvbmVudChcIkZhY2VJRFwiLHMuR0VPTUVUUllfVFlQRVMuUExBTkUsaCxuKTt5LnNldFN1cmZhY2UodGhpcy5fcGxhbmVHZW9tZXRyeSk7dmFyIG09W107Zm9yKGM9MDtjPHYubG9vcHMubGVuZ3RoO2MrKyl7dmFyIEU9bmV3IHAuTG9vcDtFLnNldEZhY2UoeSksbS5wdXNoKEUpO2Zvcih2YXIgeD1bXSxSPTA7Ujx2Lmxvb3BzW2NdLmxlbmd0aDtSKyspe3ZhciBQPXYubG9vcHNbY11bUl0udG9wb2xvZ3lFZGdlLFY9bmV3IGcuQ29lZGdlO1Yuc2V0TG9vcChFKSx4LnB1c2goViksVi5zZXRFZGdlKFApLFYuc2V0UmV2ZXJzZWQoIXYubG9vcE9yaWVudGF0aW9uc1tjXVtSXSksUC5nZXRDb2VkZ2UoKT9QLmdldENvZWRnZSgpLmdldFBhcnRuZXIoKXx8KFAuZ2V0Q29lZGdlKCkuc2V0UGFydG5lcihWKSxWLnNldFBhcnRuZXIoUC5nZXRDb2VkZ2UoKSkpOlAuc2V0Q29lZGdlKFYpLHYubG9vcHNbY11bUl0udG9wb2xvZ3lFZGdlLnNldElzRGFuZ2xpbmcoITEpfUUuc2V0Q29lZGdlcyh4KX15LnNldExvb3BzKG0pLHRoaXMuX2ZhY2VzLnB1c2goeSk7Zm9yKGM9MDtjPHYuZGFuZ2xpbmcubGVuZ3RoO2MrKyl5LmFkZERhbmdsaW5nRWRnZSh2LmRhbmdsaW5nW2NdLnRvcG9sb2d5RWRnZSksdi5kYW5nbGluZ1tjXS50b3BvbG9neUVkZ2Uuc2V0SXNEYW5nbGluZyghMCl9Zm9yKHI9MDtyPHQubGVuZ3RoO3IrKyl0aGlzLl9za2V0Y2hSZWdpb25Ub3BvbG9naWVzW3Rbcl1dLnVwZGF0ZWR8fGRlbGV0ZSB0aGlzLl9za2V0Y2hSZWdpb25Ub3BvbG9naWVzW3Rbcl1dfSxPLnByb3RvdHlwZS5fZm9sbG93TG9vcEZyb21FZGdlPWZ1bmN0aW9uKGUsdCxyLG8pe3ZhciBpPVtdLG49W10scz1lLGE9W10sYz1lLmFkamFjZW50W3RoaXMuU0lERS5MRUZUXS5mYWNlPT09dD90aGlzLlNJREUuTEVGVDp0aGlzLlNJREUuUklHSFQsdT0hIShzLmxvb3BzQ3VydmVBbGlnbmVkXmMhPT10aGlzLlNJREUuTEVGVCksbD11P2Uuc3RhcnRWZXJ0ZXg6ZS5lbmRWZXJ0ZXg7ZG97aWYocy5hZGphY2VudFtjXS5mYWNlIT09dCl7Y29uc29sZS5lcnJvcihcIlJFR0lPTjogQWRqYWNlbnQgZWRnZSBmYWNlIGRvZXMgbm90IG1hdGNoIGNlbGwhIEZJWE1FIVwiKTticmVha31pZihhW3MuaW5kZXhdKXtjb25zb2xlLmVycm9yKFwiUkVHSU9OOiBNYWxmb3JtZWQgZWRnZXM7IHdhbGtpbmcgZWRnZSBsZWFkIHVzIHRvIGRlc3BhaXJcIik7YnJlYWt9YVtzLmluZGV4XT0hMCxpLnB1c2gocyksbi5wdXNoKHUpO2Rve3U/KGw9cy5lbmRWZXJ0ZXgscz1zLmFkamFjZW50W2NdLm5leHRFZGdlKToobD1zLnN0YXJ0VmVydGV4LHM9cy5hZGphY2VudFtjXS5wcmV2RWRnZSkscy5zdGFydFZlcnRleD09PXMuZW5kVmVydGV4P2M9cy5hZGphY2VudFt0aGlzLlNJREUuTEVGVF0uZmFjZT09PXQ/dGhpcy5TSURFLkxFRlQ6dGhpcy5TSURFLlJJR0hUOihjPXMuc3RhcnRWZXJ0ZXg9PT1sP3RoaXMuU0lERS5MRUZUOnRoaXMuU0lERS5SSUdIVCxzLmFkamFjZW50W3RoaXMuU0lERS5MRUZUXS5mYWNlPT09cy5hZGphY2VudFt0aGlzLlNJREUuUklHSFRdLmZhY2UmJihjPTEtYyxsPXMuc3RhcnRWZXJ0ZXg9PT1sP3MuZW5kVmVydGV4OnMuc3RhcnRWZXJ0ZXgpKSx1PWM9PT10aGlzLlNJREUuTEVGVH13aGlsZShzLmFkamFjZW50W3RoaXMuU0lERS5MRUZUXS5mYWNlPT09cy5hZGphY2VudFt0aGlzLlNJREUuUklHSFRdLmZhY2UpO28mJnZvaWQgMD09PXMubG9vcHNDdXJ2ZUFsaWduZWQmJihzLmxvb3BzQ3VydmVBbGlnbmVkPSEhKHVeYyE9PXRoaXMuU0lERS5MRUZUKSl9d2hpbGUocyE9PWUpO3JldHVybntsb29wOmksb3JpZW50YXRpb25zOm59fSxPLnByb3RvdHlwZS5fYWRkTmV3UmVnaW9uVG9wb2xvZ3k9ZnVuY3Rpb24oZSl7c3dpdGNoKGUudHVpZCl7Y2FzZVwiVmVydGV4SURcIjp2YXIgdD1uZXcgeC5SZWdpb25Ub3BvbG9neVZlcnRleChuZXcgZC5Qb2ludCk7cmV0dXJuIHQuc2V0R3VpZChlLmd1aWQpLHQ7Y2FzZVwiRWRnZUlEXCI6dmFyIHI9dm9pZCAwO3N3aXRjaChlLm1pbm9ydHlwZSl7Y2FzZSBzLkdFT01FVFJZX1RZUEVTLkxJTkU6cj1uZXcgYy5MaW5lO2JyZWFrO2Nhc2Ugcy5HRU9NRVRSWV9UWVBFUy5DSVJDTEU6cj1uZXcgdS5DaXJjbGU7YnJlYWs7Y2FzZSBzLkdFT01FVFJZX1RZUEVTLkVMTElQU0U6cj1uZXcgaC5FbGxpcHNlO2JyZWFrO2Nhc2Ugcy5HRU9NRVRSWV9UWVBFUy5CQ1VSVkU6cj1uZXcgbC5CQ3VydmU7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKFwiVW5oYW5kbGVkIGN1cnZlIHR5cGVcIil9dmFyIG89bmV3IHguUmVnaW9uVG9wb2xvZ3lFZGdlKHIpO3JldHVybiBvLnNldEd1aWQoZS5ndWlkKSxvO2Nhc2VcIkZhY2VJRFwiOnI9dm9pZCAwO2lmKGUubWlub3J0eXBlPT09cy5HRU9NRVRSWV9UWVBFUy5QTEFORSlyPW5ldyBhLlBsYW5lO2Vsc2UgY29uc29sZS5lcnJvcihcIlVuaGFuZGxlZCBzdXJmYWNlIHR5cGVcIik7dmFyIGk9bmV3IHguUmVnaW9uVG9wb2xvZ3lGYWNlKHIpO3JldHVybiBpLnNldEd1aWQoZS5ndWlkKSxpO2RlZmF1bHQ6Y29uc29sZS5lcnJvcihcIlVuaGFuZGxlZCB0b3BvbG9neSB0eXBlXCIpfX0sTy5wcm90b3R5cGUuX2FkZE9yRmluZFRvcG9sb2d5U3ViY29tcG9uZW50PWZ1bmN0aW9uKGUsdCxyLG8pe3ZhciBpPXRoaXMuX2NyZWF0ZU5hbWVGcm9tR3VpZExpc3QoZSx0LHIsbyk7aWYodGhpcy5fc2tldGNoUmVnaW9uVG9wb2xvZ2llc1tpXSl7dmFyIG49dGhpcy5fc2tldGNoUmVnaW9uVG9wb2xvZ2llc1tpXTtyZXR1cm4gbi51cGRhdGVkPSEwLG4udG9wb2xvZ3l9dmFyIHM9dGhpcy5fYWRkTmV3UmVnaW9uVG9wb2xvZ3koe3R1aWQ6ZSxtaW5vcnR5cGU6dCxndWlkOml9KTtyZXR1cm4gdGhpcy5fc2tldGNoUmVnaW9uVG9wb2xvZ2llc1tpXT17dG9wb2xvZ3k6cyx1cGRhdGVkOiEwfSxzfTt2YXIgTD17VmVydGV4SUQ6WzExNjgwMDQxMzAsMzc2NDYwMjAyMCwyMjcwNTU0ODU2LDEzNjg4MjY0ODBdLEVkZ2VJRDpbMjk0Mjg4NzMzMywxNDcyNTQ2NDk4LDIxNTk5NzE5MDYsNDEzNDg5NjkzXSxGYWNlSUQ6WzIxNjY0Nzk3NTQsMjMyOTYyNjU5NCwyODM4NTU2NjYwLDE1ODQ2MTY5MzNdfSxTPXt9O1Nbcy5HRU9NRVRSWV9UWVBFUy5QT0lOVF09WzIyOTk0Mjk4MTAsMjI0ODE2NDUzNSwzMjAyNTc0MDY5LDI2ODQyODczMjFdLFNbcy5HRU9NRVRSWV9UWVBFUy5MSU5FXT1bOTEwOTkyNjA3LDM0Mjg5OTMwOTYsMzAxMDM5MDc1MywyOTY2ODM1ODU5XSxTW3MuR0VPTUVUUllfVFlQRVMuQ0lSQ0xFXT1bMjIyOTIzMjU1NSw4NDI1NDk4MTksMjUyNjU1ODk1OSw0MjE3MDM4MjMzXSxTW3MuR0VPTUVUUllfVFlQRVMuUExBTkVdPVsyMTIyMjk5NDQ5LDM2Njc3NDEzMTcsMjgxMjk1ODczMSw5MzkyNDYzNjVdLFNbcy5HRU9NRVRSWV9UWVBFUy5CQ1VSVkVdPVs0MjA1NDg1MjcsMjcwMzU3NTg2MywyNzkyODUyMTg5LDI1OTU5OTU4NDddLFNbcy5HRU9NRVRSWV9UWVBFUy5FTExJUFNFXT1bOTAyNzUzOTkxLDExMjk1NTcyMDgsOTI3Nzc1MzIxMSwxOTEzNzM3Mzg5XTt2YXIgTSx3PTE2Nzc3NjE5LE49ZnVuY3Rpb24oZSx0KXt2YXIgcj0yMTY2MTM2MjYxO3JldHVybiB0JiYocj0ocl50KSp3Pj4+MCkscj0oKChyPSgoKHI9KCgocj0oKHJeMjU1JmUpPj4+MCkqdz4+PjApXmU+PjgmMjU1KT4+PjApKnc+Pj4wKV5lPj4xNiYyNTUpPj4+MCkqdz4+PjApXmU+PjI0JjI1NSk+Pj4wKSp3Pj4+MH0sRj0oTT1uZXcgVWludDMyQXJyYXkoNCksZnVuY3Rpb24oZSl7cmV0dXJuIE1bMF09ZSxNWzFdPXcsTVsyXT1lLE1bM109ZSwoMCxfLmhhc2hDb21iaW5lNHhVaW50MzIpKE0sTSl9KSxJPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspZVtyXT0oZVtyXV50W3JdKT4+PjB9O08ucHJvdG90eXBlLl9jcmVhdGVOYW1lRnJvbUd1aWRMaXN0PWZ1bmN0aW9uKGUsdCxyLG8pe3ZhciBpPVQuZGVmYXVsdC5jbG9uZShMW2VdKSxuPVNbdF07QS5Db25zb2xlVXRpbHMuYXNzZXJ0KGkmJm4sXCJVbnN1cHBvcnRlZCB0dWlkIG9yIG1pbm9ydHlwZSFcIiksSShpLG4pO2Zvcih2YXIgcz0wO3M8ci5sZW5ndGg7cysrKUkoaSxyW3NdKTt2YXIgYT0oMCxfLnVpbnQzMng0VG9HVUlEKShpKTtpZihvW2FdKXt2YXIgYz0rK29bYV07cmV0dXJuKHI9VC5kZWZhdWx0LmNsb25lKHIpKS5wdXNoKEYoTihjKSkpLHRoaXMuX2NyZWF0ZU5hbWVGcm9tR3VpZExpc3QoZSx0LHIsbyl9cmV0dXJuIG9bYV09MSxhfSxPLnByb3RvdHlwZS5fY3JlYXRlR1VJRGZyb21FZGdlQW5kTG9jYWxJRD1mdW5jdGlvbihlLHQpe3ZhciByPSgwLF8uZ3VpZFRvVWludDMyeDQpKGUuZ2V0R3VpZCgpKSxvPUYoTih0KSk7cmV0dXJuKDAsXy5oYXNoQ29tYmluZTR4VWludDMyKShyLG8pfSxPLnByb3RvdHlwZS5fZmluZFZlcnRleEluZGV4PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5faW50ZXJzZWN0aW9uVmVydGljZXMubGVuZ3RoO3QrKyl7aWYoaS5WZWN0b3IzLmRpc3RhbmNlKHRoaXMuX2ludGVyc2VjdGlvblZlcnRpY2VzW3RdLnBvc2l0aW9uLGUpPHMuS0VSTkVMX1RPTEVSQU5DRSlyZXR1cm4gdDtmb3IodmFyIHI9MDtyPHRoaXMuX2ludGVyc2VjdGlvblZlcnRpY2VzW3RdLm1lcmdlZFBvc2l0aW9ucy5sZW5ndGg7cisrKWlmKGkuVmVjdG9yMy5kaXN0YW5jZSh0aGlzLl9pbnRlcnNlY3Rpb25WZXJ0aWNlc1t0XS5tZXJnZWRQb3NpdGlvbnNbcl0sZSk8cy5LRVJORUxfVE9MRVJBTkNFKXJldHVybiB0fX0sTy5wcm90b3R5cGUuX2ZpbmRWZXJ0ZXhPblN3ZWVwTGluZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5fd29ya3NwYWNlLHI9MCxvPXQuc3dlZXBMaW5lSW50ZXJzZWN0aW9ucy5sZW5ndGgtMTtvPj1yOyl7aWYocisxPj1vKXJldHVybiByO3ZhciBpPU1hdGguZmxvb3IoKHIrbykvMik7dGhpcy5faXNWZXJ0ZXhBYm92ZUVkZ2VTZWdtZW50KHQuc3dlZXBMaW5lSW50ZXJzZWN0aW9uc1tpXSxlKT9yPWk6bz1pfWNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBiaW5hcnkgc2VhcmNoIGZ1bmN0aW9uIVwiKX0sTy5wcm90b3R5cGUuX2lzVmVydGV4QWJvdmVFZGdlU2VnbWVudD1mdW5jdGlvbihlLHQpe2lmKGU9PT0tMS8wKXJldHVybiEwO2lmKGU9PT0xLzApcmV0dXJuITE7dmFyIHI9ZS5vcmlnaW5hbEVkZ2U7c3dpdGNoKHIuZ2V0Q3VydmVUeXBlKCkpe2Nhc2Ugcy5HRU9NRVRSWV9UWVBFUy5MSU5FOnZhciBvPXIuZ2V0U3RhcnRWZXJ0ZXgoKS5nZXRQb3NpdGlvbigpLG49aS5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtpLlZlY3RvcjMuc3VidHJhY3QobixyLmdldEVuZFZlcnRleCgpLmdldFBvc2l0aW9uKCksbyk7dmFyIGE9aS5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtyZXR1cm4gaS5WZWN0b3IzLnN1YnRyYWN0KGEsdC5wb3NpdGlvbixvKSwoblswXTwwfHwwPT09blswXSYmblsxXTwwKSYmaS5WZWN0b3IzLm5lZ2F0ZShuLG4pLGFbMV0qblswXS1hWzBdKm5bMV0+MDtjYXNlIHMuR0VPTUVUUllfVFlQRVMuQ0lSQ0xFOnZhciBjPXQucG9zaXRpb25bMF0tci5nZXRDdXJ2ZSgpLmdldENlbnRlcigpWzBdLHU9LjUqKGUucGFyYW1ldGVyUmFuZ2VbMF0rZS5wYXJhbWV0ZXJSYW5nZVsxXSksbD1yLmdldEN1cnZlKCkuZXZhbHVhdGVEdHQodSlbMV0+MD8tMToxO3JldHVybiBNYXRoLmFicyhjKT5yLmdldEN1cnZlKCkuZ2V0UmFkaXVzKCk/ci5nZXRDdXJ2ZSgpLmdldENlbnRlcigpWzFdPHQucG9zaXRpb25bMV06ci5nZXRDdXJ2ZSgpLmdldENlbnRlcigpWzFdK2wqTWF0aC5zcXJ0KHIuZ2V0Q3VydmUoKS5nZXRSYWRpdXMoKSpyLmdldEN1cnZlKCkuZ2V0UmFkaXVzKCktYypjKTx0LnBvc2l0aW9uWzFdO2RlZmF1bHQ6cmV0dXJuIHRoaXMuZ2V0WXZhbHVlRm9yWChlLHQucG9zaXRpb25bMF0pPHQucG9zaXRpb25bMV19fSxPLnByb3RvdHlwZS5fbWFrZUVkZ2VYTW9ub3RvbmU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmdldEN1cnZlKCksbz1bXTtzd2l0Y2goZS5nZXRDdXJ2ZVR5cGUoKSl7Y2FzZSBzLkdFT01FVFJZX1RZUEVTLkxJTkU6YnJlYWs7Y2FzZSBzLkdFT01FVFJZX1RZUEVTLkNJUkNMRTp2YXIgYT1yLmV2YWx1YXRlUG9zaXRpb24oMCk7aS5WZWN0b3IzLnN1YnRyYWN0KGEsYSxyLmdldENlbnRlcigpKTt2YXIgYz1yLmdldE5vcm1hbCgpWzJdPjA/LTE6MTtvWzBdPWMqTWF0aC5hdGFuMihhWzFdLGFbMF0pLG9bMV09b1swXS1NYXRoLlBJO2JyZWFrO2Nhc2Ugcy5HRU9NRVRSWV9UWVBFUy5FTExJUFNFOnZhciB1PXIuZ2V0TWFqb3JBeGlzKClbMF0qci5nZXRNYWpvclJhZGl1cygpLGw9ci5nZXRNaW5vckF4aXMoKVswXSpyLmdldE1pbm9yUmFkaXVzKCk7b1swXT1NYXRoLmF0YW4yKGwsdSksb1sxXT1vWzBdLU1hdGguUEk7YnJlYWs7Y2FzZSBzLkdFT01FVFJZX1RZUEVTLkJDVVJWRTpvPXkuU3BsaW5lQ3VydmVIZWxwZXIuZXh0cmVtYWxQYXJhbXMociwwKTticmVhaztkZWZhdWx0OmNvbnNvbGUud2FybihcIlVuc3VwcG9ydGVkIGVkZ2UgdHlwZSBpbiBza2V0Y2ggcmVnaW9uIG9wXCIpfWZvcih2YXIgaD0wO2g8by5sZW5ndGg7aCsrKXt2YXIgZD1vW2hdO2UuaXNSZXZlcnNlZCgpJiYoZD0tZCksci5pc1BlcmlvZGljVW5saW1pdGVkKCkmJihkPSgwLG4uYWRqdXN0UGFyYW1ldGVyVG9QZXJpb2RpY1JhbmdlKShkLGUuZ2V0UmFuZ2UoKSxyLmdldFBlcmlvZFVubGltaXRlZCgpKSksZD49ZS50MCgpJiZkPD1lLnQxKCkmJih0LnB1c2goe3BhcmFtOmQsYXRWZXJ0ZXg6bnVsbCx0ZW1wb3Jhcnk6ITB9KSxQLkRlYnVnVXRpbHMubGV2ZWwoXCJyZWdpb24zRFwiKT4wJiZQLkRlYnVnVXRpbHMuZHJhd1BvaW50M0QoZS5ldmFsdWF0ZVBvc2l0aW9uKGQpLHtjb2xvcjoxNjcxMTkzNSxsYWJlbDpcInggbW9ub3RvbmljXCJ9KSl9fSxPLnByb3RvdHlwZS5wbG90U2VnbWVudHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl93b3Jrc3BhY2U7Yi5ob2xkKFwib25cIiksYi5jbGVhckZpZ3VyZSgpLGIuZGVsYXlVcGRhdGVzKCEwKTtmb3IodmFyIG89MDtvPHRoaXMuX2ludGVyc2VjdGlvblZlcnRpY2VzLmxlbmd0aDtvKyspe3ZhciBuPWIucGxvdENvbG9yRm9ySW5kZXgodGhpcy5faW50ZXJzZWN0aW9uVmVydGljZXNbb10uYWRqYWNlbnRFZGdlcy5sZW5ndGgpO2lmKFwic3dlZXBMaW5lU3RhdGVcIj09PWUmJihuPVwia1wiLHRoaXMuX2ludGVyc2VjdGlvblZlcnRpY2VzW29dPT09ci5jdXJyZW50VmVydGV4JiYobj1cImdcIiksdGhpcy5faW50ZXJzZWN0aW9uVmVydGljZXNbb109PT1yLm5leHRWZXJ0ZXgmJihuPVwiYlwiKSksYi5wbG90KFt0aGlzLl9pbnRlcnNlY3Rpb25WZXJ0aWNlc1tvXS5wb3NpdGlvbl0sbitcIm9cIiksXCJvcmRlckNvbG9yZWRcIj09PWUpZm9yKHZhciBzPXRoaXMuX2ludGVyc2VjdGlvblZlcnRpY2VzW29dLGE9W10sYz0wO2M8cy5hZGphY2VudEVkZ2VzLmxlbmd0aDtjKyspe249Yi5wbG90Q29sb3JGb3JJbmRleChjKTt2YXIgdT1zLmFkamFjZW50RWRnZXNbY10sbD1ULmRlZmF1bHQuY2xvbmUodS5wYXJhbWV0ZXJSYW5nZSk7dS5zdGFydFZlcnRleCE9PXN8fGFbdS5pbmRleF0/bFswXT0uNSoobFswXStsWzFdKTpsWzFdPS41KihsWzBdK2xbMV0pLGFbdS5pbmRleF09ITA7dmFyIGg9dS5vcmlnaW5hbEVkZ2UudGVzc2VsbGF0ZShsKS5wb3NpdGlvbnM7Yi5wbG90KGgsbitcIi1cIil9fWlmKFwib3JkZXJDb2xvcmVkXCIhPT1lKWZvcihvPTA7bzx0aGlzLl9lZGdlU2VnbWVudHMubGVuZ3RoO28rKyl7dT10aGlzLl9lZGdlU2VnbWVudHNbb107aWYoXCJjb2luY2lkZW5jZUNvdW50XCI9PT1lKXt2YXIgZD11LmNvaW5jaWRlbnRSYW5nZXMubGVuZ3RoKzE7bj1iLnBsb3RDb2xvckZvckluZGV4KGQpfWVsc2Ugbj1iLnBsb3RDb2xvckZvckluZGV4KG8pO1wic3dlZXBMaW5lU3RhdGVcIj09PWUmJihuPXIuc3dlZXBMaW5lSW50ZXJzZWN0aW9ucy5pbmRleE9mKHUpPi0xP1wiclwiOlwia1wiKSx0JiZ0LmhpZ2hsaWdodExvb3AmJihuPVQuZGVmYXVsdC5jb250YWlucyh0LmhpZ2hsaWdodExvb3AsdSk/XCJSXCI6XCJrXCIpO2g9dS5vcmlnaW5hbEVkZ2UudGVzc2VsbGF0ZSh1LnBhcmFtZXRlclJhbmdlKS5wb3NpdGlvbnM7aWYoXCJyZWdpb25zXCI9PT1lKXt2YXIgcD1bXSxnPVtdO2ZvcihjPTA7YzxoLmxlbmd0aDtjKyspe2lmKGM8aC5sZW5ndGgtMSl7dmFyIGY9aS5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtpLlZlY3RvcjMuc3VidHJhY3QoZixoW2MrMV0saFtjXSl9ZWxzZXtmPWkuVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7aS5WZWN0b3IzLnN1YnRyYWN0KGYsaFtjXSxoW2MtMV0pfWkuVmVjdG9yMy5ub3JtYWxpemUoZixmKSxpLlZlY3RvcjMuc2NhbGUoZixmLC4wNSksaS5WZWN0b3IzLmNyb3NzKGYsWzAsMCwxXSxmKTt2YXIgdj1pLlZlY3RvcjMuY2xvbmUoaFtjXSk7cC5wdXNoKGkuVmVjdG9yMy5hZGQodix2LGYpKTt2YXIgXz1pLlZlY3RvcjMuY2xvbmUoaFtjXSk7Zy5wdXNoKGkuVmVjdG9yMy5zdWJ0cmFjdChfLF8sZikpfXZhciB5PXUuYWRqYWNlbnRbdGhpcy5TSURFLkxFRlRdLmZhY2UuaW5kZXg7bj1iLnBsb3RDb2xvckZvckluZGV4KHkpO2IucGxvdChwLG4rXCItXCIpO3ZhciBtPXUuYWRqYWNlbnRbdGhpcy5TSURFLlJJR0hUXS5mYWNlLmluZGV4O249Yi5wbG90Q29sb3JGb3JJbmRleChtKTtiLnBsb3QoZyxuK1wiLVwiKX1lbHNlIGIucGxvdChoLG4rXCItXCIpfWlmKFwic3dlZXBMaW5lU3RhdGVcIj09PWUmJnIuc3dlZXBMaW5lUG9zaXRpb24pe3ZhciBFPXIuc3dlZXBMaW5lUG9zaXRpb24seD12b2lkIDA7Zm9yKG89MDtvPHIuc3dlZXBMaW5lSW50ZXJzZWN0aW9ucy5sZW5ndGg7bysrKXt2YXIgUj0wLEE9ci5zd2VlcExpbmVJbnRlcnNlY3Rpb25zW29dO2lmKHZvaWQgMCE9PShSPUE9PT0xLzA/NTpBPT09LTEvMD8tNTp0aGlzLmdldFl2YWx1ZUZvclgoQSxFKSkpe2lmKGIucGxvdChbRV0sW1JdLFwieS5cIiksdm9pZCAwIT09eCl7bj1iLnBsb3RDb2xvckZvckluZGV4KHIuc3dlZXBMaW5lUmVnaW9uc1tvLTFdLmluZGV4KTtiLnBsb3QoW0UsRV0sW3gsUl0sbitcIi1cIil9eD1SfX19aWYodCYmdC5zaG93T3JpZW50YXRpb24pe2g9W107dmFyIFA9W10sVj1bXTtmb3Iobz0wO288dGhpcy5fZWRnZVNlZ21lbnRzLmxlbmd0aDtvKyspe3ZhciBDPSEodm9pZCAwPT09KHU9dGhpcy5fZWRnZVNlZ21lbnRzW29dKS5sb29wc0N1cnZlQWxpZ25lZHx8ITA9PT11Lmxvb3BzQ3VydmVBbGlnbmVkKSxPPUM/LjA1Oi45NSxMPXUucGFyYW1ldGVyUmFuZ2VbMF0qKDEtTykrdS5wYXJhbWV0ZXJSYW5nZVsxXSpPLFM9dS5vcmlnaW5hbEVkZ2UuZXZhbHVhdGVQb3NpdGlvbihMKTtoLnB1c2goUyk7dmFyIE09dC5hcnJvd1NpemV8fC4xLHc9Qz8tTTpNO2lmKHUuYWRqYWNlbnRbdGhpcy5TSURFLkxFRlRdLmZhY2UuaW5kZXg+PTApe3ZhciBOPXUub3JpZ2luYWxFZGdlLmV2YWx1YXRlRHQoTCk7aS5WZWN0b3IzLm5vcm1hbGl6ZShOLE4pO3ZhciBGPVtTWzBdLU0qTlsxXSxTWzFdK00qTlswXV07UC5wdXNoKEYpLFYucHVzaChbdypOWzBdLHcqTlsxXV0pfWlmKHUuYWRqYWNlbnRbdGhpcy5TSURFLlJJR0hUXS5mYWNlLmluZGV4Pj0wKXt2YXIgST11LnBhcmFtZXRlclJhbmdlWzBdKk8rdS5wYXJhbWV0ZXJSYW5nZVsxXSooMS1PKSxEPXUub3JpZ2luYWxFZGdlLmV2YWx1YXRlUG9zaXRpb24oSSksaj11Lm9yaWdpbmFsRWRnZS5ldmFsdWF0ZUR0KEkpO2kuVmVjdG9yMy5ub3JtYWxpemUoaixqKTt2YXIgQj1bRFswXStNKmpbMV0sRFsxXS1NKmpbMF1dO1AucHVzaChCKSxWLnB1c2goWy13KmpbMF0sLXcqalsxXV0pfX1iLnBsb3QoaCxcImsuXCIpLGIucXVpdmVyKFAsVixcImdcIixcImNcIil9Yi5kZWxheVVwZGF0ZXMoITEpLGIuZXF1YWxBeGlzKCl9LE8ucHJvdG90eXBlLnBsb3RFZGdlU2VnbWVudD1mdW5jdGlvbihlLHQpe2IucGxvdEVkZ2VMaXN0KFtlLm9yaWdpbmFsRWRnZV0sITEsdCtcIi1cIix7cmFuZ2VzOltlLnBhcmFtZXRlclJhbmdlXX0pfSxPLnByb3RvdHlwZS5wbG90RWRnZXNBcm91bmRWZXJ0ZXg9ZnVuY3Rpb24oZSx0KXtiLnBsb3QoW2UucG9zaXRpb25dLFwiZ3hcIik7Zm9yKHZhciByPTA7cjxlLmFkamFjZW50RWRnZXMubGVuZ3RoO3IrKyl7dmFyIG8saT1lLmFkamFjZW50RWRnZXNbcl07Y29uc29sZS5sb2cociksbz1pLnN0YXJ0VmVydGV4PT09ZT9baS5wYXJhbWV0ZXJSYW5nZVswXSxpLnBhcmFtZXRlclJhbmdlWzBdK3QvaS5vcmlnaW5hbEVkZ2UuZ2V0Q3VydmUoKS50YW5nZW50TGVuZ3RoKGkucGFyYW1ldGVyUmFuZ2VbMF0pXTpbaS5wYXJhbWV0ZXJSYW5nZVsxXS10L2kub3JpZ2luYWxFZGdlLmdldEN1cnZlKCkudGFuZ2VudExlbmd0aChpLnBhcmFtZXRlclJhbmdlWzBdKSxpLnBhcmFtZXRlclJhbmdlWzFdXSxiLnBsb3RFZGdlTGlzdChbaS5vcmlnaW5hbEVkZ2VdLCExLFwiLVwiK2IucGxvdENvbG9yRm9ySW5kZXgocikse3Jhbmdlczpbb10sc2hvd09yaWVudGF0aW9uOiExLHJlc29sdXRpb246MWU0fSl9fSxPLnByb3RvdHlwZS5nZXRZdmFsdWVGb3JYPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5wYXJhbWV0ZXJSYW5nZVswXSxvPWUucGFyYW1ldGVyUmFuZ2VbMV0saT1lLm9yaWdpbmFsRWRnZS5ldmFsdWF0ZVBvc2l0aW9uKHIpLG49ZS5vcmlnaW5hbEVkZ2UuZXZhbHVhdGVQb3NpdGlvbihvKSxhPWlbMF0sYz1uWzBdO2lmKGE+Yyl7dmFyIHU9cjtyPW8sbz11LHU9YSxhPWMsYz11LHU9aSxpPW4sbj11fWlmKHQ8PWErcy5LRVJORUxfVE9MRVJBTkNFfHx0Pj1jLXMuS0VSTkVMX1RPTEVSQU5DRSlyZXR1cm4gTWF0aC5hYnModC1hKTw9cy5LRVJORUxfVE9MRVJBTkNFP2lbMV06TWF0aC5hYnModC1jKTw9cy5LRVJORUxfVE9MRVJBTkNFP25bMV06dm9pZCBjb25zb2xlLndhcm4oXCJGYWlsdXJlIGluIGdldFl2YWx1ZUZvclgsIGluX3ggb3VzdGlkZSBzZWdtZW50IHJhbmdlLCByZXR1cm5pbmcgdW5kZWZpbmVkXCIpO2Zvcig7Yz49YTspe2lmKGErcy5LRVJORUxfVE9MRVJBTkNFPj1jKXJldHVybiBoWzFdO3ZhciBsPShyK28pLzIsaD1lLm9yaWdpbmFsRWRnZS5ldmFsdWF0ZVBvc2l0aW9uKGwpO2lmKE1hdGguYWJzKHItbyk8PXMuUEFSQU1FVEVSX1NQQUNFX1RPTEVSQU5DRSlyZXR1cm4gQS5Db25zb2xlVXRpbHMuYXNzZXJ0KCExLFwiQ291bGQgbm90IGNvbnZlcmdlIHRvIGEgc29sdXRpb24gZm9yIGdldFl2YWx1ZUZvclhcIiksaFsxXTtoWzBdPHQ/KGE9aFswXSxyPWwpOihjPWhbMF0sbz1sKX1jb25zb2xlLndhcm4oXCJGYWlsdXJlIGluIGdldFl2YWx1ZUZvclgsIHJldHVybmluZyB1bmRlZmluZWRcIil9LE8ucHJvdG90eXBlLl9jb21wdXRlQW5nbGVBbmRQb3NpdGlvbkZvckVkZ2U9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXQuYWRqYWNlbnRFZGdlc1tlXSxuPW8uc3RhcnRWZXJ0ZXg9PT10LHM9by5wYXJhbWV0ZXJSYW5nZVtuPzA6MV07aWYodm9pZCAwIT09ciYmKChzPXMrKG4/MTotMSkqcik8by5wYXJhbWV0ZXJSYW5nZVswXXx8cz5vLnBhcmFtZXRlclJhbmdlWzFdKSlyZXR1cm47dmFyIGE9aS5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtyZXR1cm4gaS5WZWN0b3IzLm5vcm1hbGl6ZShhLG8ub3JpZ2luYWxFZGdlLmV2YWx1YXRlRHQocykpLG58fGkuVmVjdG9yMy5uZWdhdGUoYSxhKSx7YW5nbGU6TWF0aC5hdGFuMihhWzFdLGFbMF0pLHBvc2l0aW9uOm8ub3JpZ2luYWxFZGdlLmV2YWx1YXRlUG9zaXRpb24ocyl9fSxPLnByb3RvdHlwZS5fY29tcHV0ZUVkZ2VEaXJlY3Rpb25BdFZlcnRleD1mdW5jdGlvbihlLHQscil7dmFyIG89dC5hZGphY2VudEVkZ2VzW2UuaW5kZXhdLG49by5zdGFydFZlcnRleD09PXQscz1vLnBhcmFtZXRlclJhbmdlW24/MDoxXSxhPXMrKG4/MTotMSkqci9pLlZlY3RvcjMubGVuZ3RoKG8ub3JpZ2luYWxFZGdlLmV2YWx1YXRlRHQocykpLGM9by5vcmlnaW5hbEVkZ2UuZXZhbHVhdGVQb3NpdGlvbihhKSx1PWkuVmVjdG9yMy5zdWJ0cmFjdChjLGMsdC5wb3NpdGlvbik7cmV0dXJuIE1hdGguYXRhbjIodVsxXSx1WzBdKX0sTy5wcm90b3R5cGUuX3ByZXBhcmVSZXN1bHQ9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbS5Ub3BvbG9neUNsb25lcjt0aGlzLl9maW5hbEZhY2VzPWUuY2xvbmVGYWNlcyh0aGlzLl9mYWNlcyksdGhpcy5faW50ZXJuYWxUb0ZpbmFsTWFwPWUuZ2V0UHJvZ2VuaXRvck1hcCgpLHRoaXMuX3Byb2dlbml0b3JNYXA9bmV3IEUuUHJvZ2VuaXRvck1hcDtmb3IodmFyIHQ9ZS5nZXRQcm9nZW5pdG9yTWFwKCkuZ2V0QWxsTmV3VG9wb2xvZ3koKSxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl0saT1lLmdldFByb2dlbml0b3JNYXAoKS5nZXRQcm9nZW5pdG9ycyhvKVswXSxuPXZvaWQgMDtpZihvLmdldFRvcG9sb2d5VHlwZSgpPT09cy5UT1BPTE9HWV9UWVBFUy5GQUNFKW49bmV3IFNldCxpLmNvbGxlY3RFZGdlcygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuZ2V0QXNzb2NpYXRlZEVudGl0aWVzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5hZGQoZSl9KSl9KSksbj1BcnJheS5mcm9tKG4pO2Vsc2Uoby5nZXRUb3BvbG9neVR5cGUoKT09PXMuVE9QT0xPR1lfVFlQRVMuRURHRXx8by5nZXRUb3BvbG9neVR5cGUoKT09PXMuVE9QT0xPR1lfVFlQRVMuVkVSVEVYKSYmKG49aS5nZXRBc3NvY2lhdGVkRW50aXRpZXMoKSk7biYmdGhpcy5fcHJvZ2VuaXRvck1hcC5hZGRFbnRyeShvLG4pfXRoaXMuX3NrZXRjaFN1bW1hcnk9e3JlZ2lvbkZhY2VzOltdLHJlZ2lvbkVkZ2VzOltdLHJlZ2lvblZlcnRpY2VzOltdLHNrZXRjaEVkZ2VzOnt9fTtmb3IodmFyIGE9VC5kZWZhdWx0LmtleXModGhpcy5fc2tldGNoUmVnaW9uVG9wb2xvZ2llcyksYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgdT10aGlzLl9za2V0Y2hSZWdpb25Ub3BvbG9naWVzW2FbY11dLnRvcG9sb2d5O3UgaW5zdGFuY2VvZiB4LlJlZ2lvblRvcG9sb2d5RmFjZT90aGlzLl9za2V0Y2hTdW1tYXJ5LnJlZ2lvbkZhY2VzLnB1c2godSk6dSBpbnN0YW5jZW9mIHguUmVnaW9uVG9wb2xvZ3lFZGdlP3RoaXMuX3NrZXRjaFN1bW1hcnkucmVnaW9uRWRnZXMucHVzaCh1KTp1IGluc3RhbmNlb2YgeC5SZWdpb25Ub3BvbG9neVZlcnRleD90aGlzLl9za2V0Y2hTdW1tYXJ5LnJlZ2lvblZlcnRpY2VzLnB1c2godSk6QS5Db25zb2xlVXRpbHMuYXNzZXJ0KCExKX1mb3IodmFyIGw9MDtsPHRoaXMuX3NrZXRjaEVkZ2VzLmxlbmd0aDtsKyspe3ZhciBoPXRoaXMuX3NrZXRjaEVkZ2VzW2xdO3RoaXMuX3NrZXRjaFN1bW1hcnkuc2tldGNoRWRnZXNbaC5nZXRHdWlkKCldPWh9fSxPLnByb3RvdHlwZS5nZXRGYWNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9maW5hbEZhY2VzfSxPLnByb3RvdHlwZS5nZXRSZWdpb25Ub3BvbG9neUZhY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZhY2VzfSxPLnByb3RvdHlwZS5nZXRQcm9nZW5pdG9yTWFwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb2dlbml0b3JNYXB9LE8ucHJvdG90eXBlLmNyZWF0ZUZhY2VSZWNpcGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZmluYWxGYWNlcy5pbmRleE9mKGUpO2lmKHQ8MClyZXR1cm5cIlwiO3ZhciByPXRoaXMuX2ZhY2VzW3RdLG89KDAsUi5jcmVhdGVSZWNpcGVGcm9tUmVnaW9uRmFjZSkocix0aGlzLl9za2V0Y2hTdW1tYXJ5KTtyZXR1cm4oMCxSLnNlcmlhbGl6ZVJlZ2lvbkZhY2VSZWNpcGUpKG8pfSxPLnByb3RvdHlwZS5tYXRjaEZhY2VSZWNpcGU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PSgwLFIuZGVzZXJpYWxpemVSZWdpb25GYWNlUmVjaXBlKShlKSxyPSgwLFIubWF0Y2hSZWdpb25GYWNlUmVjaXBlKSh0LHRoaXMuX3NrZXRjaFN1bW1hcnkpLG89W10saT0wO2k8ci5yZWdpb25zLmxlbmd0aDtpKyspe3ZhciBuPXRoaXMuX2ZhY2VzLmluZGV4T2Yoci5yZWdpb25zW2ldKTtBLkNvbnNvbGVVdGlscy5hc3NlcnQobj49MCksby5wdXNoKHRoaXMuX2ZpbmFsRmFjZXNbbl0pfXJldHVybiBvfSxPLnByb3RvdHlwZS5jcmVhdGVFZGdlUmVjaXBlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2ludGVybmFsVG9GaW5hbE1hcC5nZXRQcm9nZW5pdG9ycyhlKTtpZighdHx8MSE9PXQubGVuZ3RoKXJldHVyblwiXCI7dmFyIHI9KDAsUi5jcmVhdGVSZWNpcGVGcm9tUmVnaW9uRWRnZSkodFswXSx0aGlzLl9za2V0Y2hTdW1tYXJ5KTtyZXR1cm4oMCxSLnNlcmlhbGl6ZVJlZ2lvbkVkZ2VSZWNpcGUpKHIpfSxPLnByb3RvdHlwZS5tYXRjaEVkZ2VSZWNpcGU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PSgwLFIuZGVzZXJpYWxpemVSZWdpb25FZGdlUmVjaXBlKShlKSxyPSgwLFIubWF0Y2hSZWdpb25FZGdlUmVjaXBlKSh0LHRoaXMuX3NrZXRjaFN1bW1hcnkpLG89W10saT0wO2k8ci5lZGdlcy5sZW5ndGg7aSsrKXt2YXIgbj10aGlzLl9pbnRlcm5hbFRvRmluYWxNYXAuZ2V0RGVzY2VuZGFudHMoci5lZGdlc1tpXSk7QS5Db25zb2xlVXRpbHMuYXNzZXJ0KDE9PT1uLmxlbmd0aCksby5wdXNoKG5bMF0pfXJldHVybiBvfSx0LlNrZXRjaFJlZ2lvblNvbHZlcj1PfSw5MzI0OihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkF0dHJpYnV0ZT12b2lkIDA7dmFyIG89cig0MCk7Y29uc3QgaT17XCJhdXRvZGVzay5icmVwOm5taWF0dHJpYnV0ZXN0ci0xLjAuMFwiOlwibm1pYXR0cmlidXRlc3RyXCIsXCJhdXRvZGVzay5icmVwOm5taWF0dHJpYnV0ZWFyci0xLjAuMFwiOlwibm1pYXR0cmlidXRlYXJyXCIsXCJhdXRvZGVzay5icmVwOnRleHRhdHRyaWJ1dGUtMS4wLjBcIjpcInRleHRhdHRyaWJ1dGVcIn07dmFyIG49ZnVuY3Rpb24oZSx0KXtvLkJhc2UuY2FsbCh0aGlzKSx0aGlzLl90b3BvbG9naWVzPVtdLHRoaXMudHlwZWlkPWUsdGhpcy52YWx1ZXM9dHx8e319OyhuLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8uQmFzZS5wcm90b3R5cGUpKS5nZXRWYWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZXN9LG4ucHJvdG90eXBlLmdldFR5cGVpZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGVpZH0sbi5wcm90b3R5cGUuZ2V0VG9wb2xvZ2llcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90b3BvbG9naWVzfSxuLnByb3RvdHlwZS5hZGRUb3BvbG9neT1mdW5jdGlvbihlKXt0aGlzLl90b3BvbG9naWVzP3RoaXMuX3RvcG9sb2dpZXMucHVzaChlKTp0aGlzLl90b3BvbG9naWVzPVtlXX0sbi5wcm90b3R5cGUucmVtb3ZlVG9wb2xvZ3k9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fdG9wb2xvZ2llcy5pbmRleE9mKGUpO3JldHVybiB0Pi0xJiYodGhpcy5fdG9wb2xvZ2llcy5zcGxpY2UodCwxKSwhMCl9LG4ucHJvdG90eXBlLnRvT2JqZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzfSxuLnByb3RvdHlwZS5hZGRUb01vZGVsT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKCFlLmF0dHJpYnV0ZXNbdGhpcy5nZXRHdWlkKCldKXtjb25zdCB0PWlbdGhpcy50eXBlaWRdO2lmKHQpe2NvbnN0IHI9e307clt0XT10aGlzLnRvT2JqZWN0KCksZS5hdHRyaWJ1dGVzW3RoaXMuZ2V0R3VpZCgpXT1yfWVsc2UgY29uc29sZS53YXJuKFwiQXR0cmlidXRlLmFkZFRvTW9kZWxPYmplY3QgOiBVbmtub3duIGF0dHJpYnV0ZSB0eXBlIGZvciBwcm90byBvYmplY3QhXCIpfX0sdC5BdHRyaWJ1dGU9bn0sNDA6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQmFzZT12b2lkIDA7dmFyIG89cig2NzA0KTtjb25zdCBpPXIoODAzMikuQXV0b2Rlc2subG9va3VwKFwiU29saWREZWYucGFyYW1yYW5nZV8xXzBfMC50eXBlRW51bVwiKTt2YXIgbj1mdW5jdGlvbigpe3RoaXMuX2d1aWQ9XCJcIn07bi5wcm90b3R5cGUuc2V0R3VpZD1mdW5jdGlvbihlKXt0aGlzLl9ndWlkPWV9LG4ucHJvdG90eXBlLmdldEd1aWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ3VpZHx8KHRoaXMuX2d1aWQ9KDAsby5nZW5lcmF0ZUdVSUQpKCkpLHRoaXMuX2d1aWR9LG4ucHJvdG90eXBlLnJlZnNUb1N0cmluZ3M9ZnVuY3Rpb24oZSl7aWYoZSl7Y29uc3QgdD1uZXcgQXJyYXkoZS5sZW5ndGgpO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7KytyKXRbcl09ZVtyXS5nZXRHdWlkKCk7cmV0dXJuIHR9cmV0dXJuW119LG4ucHJvdG90eXBlLnJlZlRvU3RyaW5nPWZ1bmN0aW9uKGUpe3JldHVybiBlP2UuZ2V0R3VpZCgpOlwiXCJ9LG4ucHJvdG90eXBlLnRvT2JqZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIkJhc2UudG9PYmplY3QgOiBhYnN0cmFjdCBtZXRob2QgaW52b2tlZCFcIikse319LG4ucHJvdG90eXBlLnZlY3RvclRvT2JqZWN0PWZ1bmN0aW9uKGUpe3JldHVybnt4OmVbMF0seTplWzFdLHo6ZVsyXX19LG4ucHJvdG90eXBlLnJhbmdlVG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgcj0xLG89MDt0JiZ2b2lkIDAhPT1lJiYyPT09ZS5sZW5ndGgmJmlzRmluaXRlKGVbMF0pJiZpc0Zpbml0ZShlWzFdKSYmKHI9ZVswXSxvPWVbMV0pO3ZhciBuPXI8PW8/XCJmaW5pdGVcIjpcImluZmluaXRlXCI7cmV0dXJue2xvdzpyLGhpZ2g6byx0eXBlOmkudmFsdWVzW25dfX0sbi5wcm90b3R5cGUuYWRkVG9Nb2RlbE9iamVjdD1mdW5jdGlvbihlKXtjb25zb2xlLndhcm4oXCJCYXNlLmFkZFRvTW9kZWxPYmplY3QgOiBhYnN0cmFjdCBtZXRob2QgaW52b2tlZCFcIil9LHQuQmFzZT1ufSw5MDI0OihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkJhc2VHZW9tZXRyeT12b2lkIDA7dmFyIG89cig0MCksaT1yKDI0NjgpLG49ZnVuY3Rpb24oKXtvLkJhc2UuY2FsbCh0aGlzKX07KG4ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5CYXNlLnByb3RvdHlwZSkpLmdldEdlb21ldHJ5VHlwZT1mdW5jdGlvbigpe2NvbnNvbGUud2FybihcIkJhc2VHZW9tZXRyeS5nZXRHZW9tZXRyeVR5cGUgOiBhYnN0cmFjdCBtZXRob2QgaW52b2tlZCFcIil9LG4ucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiQmFzZUdlb21ldHJ5LmNsb25lIDogYWJzdHJhY3QgbWV0aG9kIGludm9rZWRcIil9LG4ucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSl7dGhpcy5fZ3VpZD1cIlwifSxuLnByb3RvdHlwZS5hZGRUb01vZGVsT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKCFlLmdlb21ldHJpZXNbdGhpcy5nZXRHdWlkKCldKXtjb25zdCB0PXt9O3RbaS5HRU9NRVRSWV9UWVBFUy50b1N0cmluZyh0aGlzLmdldEdlb21ldHJ5VHlwZSgpKS50b0xvd2VyQ2FzZSgpXT10aGlzLnRvT2JqZWN0KCksZS5nZW9tZXRyaWVzW3RoaXMuZ2V0R3VpZCgpXT10fX0sdC5CYXNlR2VvbWV0cnk9bn0sOTU0NzooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5CYXNlVG9wb2xvZ3k9dm9pZCAwO3ZhciBvPXIoNDApLGk9cigyNDY4KSxuPWZ1bmN0aW9uKCl7by5CYXNlLmNhbGwodGhpcyksdGhpcy5fYXR0cmlidXRlcz1bXX07KG4ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5CYXNlLnByb3RvdHlwZSkpLmdldFRvcG9sb2d5VHlwZT1mdW5jdGlvbigpe2NvbnNvbGUud2FybihcIkJhc2VUb3BvbG9neS5nZXRUb3BvbG9neVR5cGUgOiBhYnN0cmFjdCBtZXRob2QgaW52b2tlZCFcIil9LG4ucHJvdG90eXBlLmdldEJvdW5kaW5nQm94PWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiQmFzZVRvcG9sb2d5LmdldEJvdW5kaW5nQm94IDogYWJzdHJhY3QgbWV0aG9kIGludm9rZWQhXCIpfSxuLnByb3RvdHlwZS5nZXRCb2R5PWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiQmFzZVRvcG9sb2d5LmdldEJvZHkgOiBhYnN0cmFjdCBtZXRob2QgaW52b2tlZCFcIil9LG4ucHJvdG90eXBlLmNvbGxlY3RGYWNlcz1mdW5jdGlvbihlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiQmFzZVRvcG9sb2d5LmNvbGxlY3RGYWNlcyA6IGFic3RyYWN0IG1ldGhvZCBpbnZva2VkIVwiKSxlfHxuZXcgU2V0fSxuLnByb3RvdHlwZS5jb2xsZWN0RWRnZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIkJhc2VUb3BvbG9neS5jb2xsZWN0RWRnZXMgOiBhYnN0cmFjdCBtZXRob2QgaW52b2tlZCFcIiksZXx8bmV3IFNldH0sbi5wcm90b3R5cGUuY29sbGVjdFZlcnRpY2VzPWZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJCYXNlVG9wb2xvZ3kuY29sbGVjdFZlcnRpY2VzIDogYWJzdHJhY3QgbWV0aG9kIGludm9rZWQhXCIpLGV8fG5ldyBTZXR9LG4ucHJvdG90eXBlLmdldEF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXR0cmlidXRlc30sbi5wcm90b3R5cGUuYWRkQXR0cmlidXRlPWZ1bmN0aW9uKGUpe3RoaXMuX2F0dHJpYnV0ZXM/dGhpcy5fYXR0cmlidXRlcy5wdXNoKGUpOnRoaXMuX2F0dHJpYnV0ZXM9W2VdLGUuYWRkVG9wb2xvZ3kodGhpcyl9LG4ucHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9hdHRyaWJ1dGVzLmluZGV4T2YoZSk7cmV0dXJuIHQ+LTEmJih0aGlzLl9hdHRyaWJ1dGVzLnNwbGljZSh0LDEpLGUucmVtb3ZlVG9wb2xvZ3kodGhpcyksITApfSxuLnByb3RvdHlwZS5yZW1vdmVBbGxBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7aWYodGhpcy5fYXR0cmlidXRlcylmb3IobGV0IGU9MDtlPHRoaXMuX2F0dHJpYnV0ZXMubGVuZ3RoO2UrKyl0aGlzLnJlbW92ZUF0dHJpYnV0ZSh0aGlzLl9hdHRyaWJ1dGVzW2VdKX0sbi5wcm90b3R5cGUuaXNWZXJ0ZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUb3BvbG9neVR5cGUoKT09PWkuVE9QT0xPR1lfVFlQRVMuVkVSVEVYfSxuLnByb3RvdHlwZS5nZXRGYWNlcz1mdW5jdGlvbigpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuY29sbGVjdEZhY2VzKCkpfSxuLnByb3RvdHlwZS5nZXRFZGdlcz1mdW5jdGlvbigpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuY29sbGVjdEVkZ2VzKCkpfSxuLnByb3RvdHlwZS5nZXRWZXJ0aWNlcz1mdW5jdGlvbigpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuY29sbGVjdFZlcnRpY2VzKCkpfSxuLnByb3RvdHlwZS5hZGRBbGxUb01vZGVsT2JqZWN0PWZ1bmN0aW9uKGUsdCl7aWYoIWUudG9wb2xvZ2llc1t0aGlzLmdldEd1aWQoKV0pe2NvbnN0IHQ9e307dFtpLlRPUE9MT0dZX1RZUEVTLnRvU3RyaW5nKHRoaXMuZ2V0VG9wb2xvZ3lUeXBlKCkpLnRvTG93ZXJDYXNlKCldPXRoaXMudG9PYmplY3QoKSxlLnRvcG9sb2dpZXNbdGhpcy5nZXRHdWlkKCldPXR9dC5mb3JFYWNoKCh0PT57bnVsbCE9dCYmKEFycmF5LmlzQXJyYXkodCk/dC5mb3JFYWNoKCh0PT57dC5hZGRUb01vZGVsT2JqZWN0KGUpfSkpOnQuYWRkVG9Nb2RlbE9iamVjdChlKSl9KSl9LHQuQmFzZVRvcG9sb2d5PW59LDg3OTY6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQkN1cnZlPXZvaWQgMDt2YXIgbz1yKDE5NzIpLGk9cigzMzQ0KSxuPXIoMjM1NSkscz1yKDI0NjgpLGE9cigxNDcyKSxjPXIoMTA5NiksdT1yKDU4OTYpLGw9cigxZTMpLGg9cig0NzI4KSxkPXIoNjEyMCkscD1yKDQzMzYpLGc9cig1NDE2KSxmPXIoMzg4OCksdj1yKDQ4KSxfPXIoNjIwMCkseT1yKDU1NjQpLG09ZnVuY3Rpb24oKXthLkN1cnZlLmNhbGwodGhpcyksdGhpcy5fY29udHJvbFBvaW50cz1bXSx0aGlzLl93ZWlnaHRzPVtdLHRoaXMuX2RlZ3JlZT0wLHRoaXMuX2tub3RzPVtdLHRoaXMuX2lzUmF0aW9uYWw9dm9pZCAwLHRoaXMuX2lzUGVyaW9kaWM9dm9pZCAwLHRoaXMuX2lzQ2xvc2VkPXZvaWQgMCx0aGlzLl9pc1BsYW5hclhZPXZvaWQgMCx0aGlzLl9kaXNjcmV0aXphdGlvbkNhY2hlPXZvaWQgMCx0aGlzLl9zZWdtZW50cz12b2lkIDAsdGhpcy5faGFzRGlydHlTZWdtZW50cz0hMCx0aGlzLl9pc0RpcnR5Q29udHJvbFBvaW50PVtdLHRoaXMuX3Rlc3NlbGxhdGlvbkNhY2hlPW5ldyBwLlRlc3NlbGxhdGlvbkNhY2hlfTsobS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShhLkN1cnZlLnByb3RvdHlwZSkpLmdldEdlb21ldHJ5VHlwZT1mdW5jdGlvbigpe3JldHVybiBzLkdFT01FVFJZX1RZUEVTLkJDVVJWRX0sbS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbTtyZXR1cm4gZS5jb3B5KHRoaXMpLGV9LG0ucHJvdG90eXBlLmdldENvbnRyb2xQb2ludHNWZWN0b3IzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPW5ldyBBcnJheSh0aGlzLl9jb250cm9sUG9pbnRzLmxlbmd0aC8zKSx0PTA7dDx0aGlzLl9jb250cm9sUG9pbnRzLmxlbmd0aC8zO3QrKyllW3RdPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcyh0aGlzLl9jb250cm9sUG9pbnRzWzMqdF0sdGhpcy5fY29udHJvbFBvaW50c1szKnQrMV0sdGhpcy5fY29udHJvbFBvaW50c1szKnQrMl0pO3JldHVybiBlfSxtLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUpe2EuQ3VydmUucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMuX2lzUmF0aW9uYWw9ZS5faXNSYXRpb25hbCx0aGlzLl93ZWlnaHRzPWUuX3dlaWdodHMuc2xpY2UoMCksdGhpcy5fZGVncmVlPWUuX2RlZ3JlZSx0aGlzLl9rbm90cz1lLl9rbm90cy5zbGljZSgwKSx0aGlzLl9pc1BlcmlvZGljPWUuX2lzUGVyaW9kaWMsdGhpcy5faXNDbG9zZWQ9ZS5faXNDbG9zZWQsdGhpcy5fd2VpZ2h0cz1lLl93ZWlnaHRzLnNsaWNlKDApLHRoaXMuX2NvbnRyb2xQb2ludHM9ZS5fY29udHJvbFBvaW50cy5zbGljZSgwKSx0aGlzLl9pc1BsYW5hclhZPWUuX2lzUGxhbmFyWFksdGhpcy5faGFzRGlydHlTZWdtZW50cz0hMCx0aGlzLl90ZXNzZWxsYXRpb25DYWNoZS5yZXNldCgpfSxtLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0LHIsaSl7dGhpcy5kaXJ0eUN1cnZlUmVwcmVzZW50YXRpb24oKSx0aGlzLl93ZWlnaHRzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQpLHRoaXMuX2RlZ3JlZT1yO3ZhciBuPTA7aWYodGhpcy5faXNSYXRpb25hbD0hMSx0aGlzLl93ZWlnaHRzLmxlbmd0aCE9PXQubGVuZ3RoKXt0aGlzLl93ZWlnaHRzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQpO3ZhciBzPXRoaXMuX3dlaWdodHNbMF07Zm9yKG49MTtuPHRoaXMuX3dlaWdodHMubGVuZ3RoOysrbilpZihNYXRoLmFicyh0aGlzLl93ZWlnaHRzW25dLXMpPm8uRkxPQVQ2NF9UT0xFUkFOQ0Upe3RoaXMuX2lzUmF0aW9uYWw9ITA7YnJlYWt9fWVsc2V7cz10aGlzLl93ZWlnaHRzWzBdO2ZvcihuPTE7bjx0aGlzLl93ZWlnaHRzLmxlbmd0aDsrK24pdGhpcy5fd2VpZ2h0c1tuXT10W25dLE1hdGguYWJzKHRoaXMuX3dlaWdodHNbbl0tcyk+by5GTE9BVDY0X1RPTEVSQU5DRSYmKHRoaXMuX2lzUmF0aW9uYWw9ITApfWlmKHRoaXMuX2tub3RzLmxlbmd0aCE9PWkubGVuZ3RoKXRoaXMuX2tub3RzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGkpO2Vsc2UgZm9yKG49MDtuPHRoaXMuX2tub3RzLmxlbmd0aDsrK24pdGhpcy5fa25vdHNbbl09aVtuXTt2YXIgYT1lLmxlbmd0aC8zO2lmKDA9PT10aGlzLl93ZWlnaHRzLmxlbmd0aClmb3IodGhpcy5fd2VpZ2h0cz1uZXcgQXJyYXkoYSksbj0wO248YTsrK24pdGhpcy5fd2VpZ2h0c1tuXT0xO2lmKHRoaXMuX2NvbnRyb2xQb2ludHMubGVuZ3RoIT09ZS5sZW5ndGgpdGhpcy5fY29udHJvbFBvaW50cz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKTtlbHNlIGZvcihuPTA7bjxlLmxlbmd0aDsrK24pdGhpcy5fY29udHJvbFBvaW50c1tuXT1lW25dO3RoaXMuX2lzRGlydHlDb250cm9sUG9pbnQubGVuZ3RoIT09YSYmKHRoaXMuX2lzRGlydHlDb250cm9sUG9pbnQ9bmV3IEFycmF5KGEpKSx0aGlzLl9pc0RpcnR5Q29udHJvbFBvaW50LmZpbGwoITEpfSxtLnByb3RvdHlwZS5kaXJ0eUN1cnZlUmVwcmVzZW50YXRpb249ZnVuY3Rpb24oKXt0aGlzLl9pc1BsYW5hclhZPXZvaWQgMCx0aGlzLl9pc1JhdGlvbmFsPXZvaWQgMCx0aGlzLl9pc0Nsb3NlZD12b2lkIDAsdGhpcy5faXNQZXJpb2RpYz12b2lkIDAsdGhpcy5fZGlzY3JldGl6YXRpb25DYWNoZT12b2lkIDAsdGhpcy5faGFzRGlydHlTZWdtZW50cz0hMCx0aGlzLl90ZXNzZWxsYXRpb25DYWNoZS5zZXREaXJ0eSghMCl9LG0ucHJvdG90eXBlLmhhc0RpcnR5VGVzc2VsbGF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Rlc3NlbGxhdGlvbkNhY2hlLmlzRGlydHkoKX0sbS5wcm90b3R5cGUuZ2V0VGVzc2VsbGF0aW9uQ2FjaGVUb2xlcmFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGVzc2VsbGF0aW9uQ2FjaGUuZ2V0VG9sZXJhbmNlKCl9LG0ucHJvdG90eXBlLndlaWdodGVkQ29udHJvbFBvaW50cz1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDx0aGlzLl9jb250cm9sUG9pbnRzLmxlbmd0aC8zOysrdCl7dmFyIHI9dGhpcy5fd2VpZ2h0c1t0XTtlLnB1c2godGhpcy5fY29udHJvbFBvaW50c1szKnRdKnIsdGhpcy5fY29udHJvbFBvaW50c1szKnQrMV0qcix0aGlzLl9jb250cm9sUG9pbnRzWzMqdCsyXSpyLHIpfXJldHVybiBlfSxtLnByb3RvdHlwZS5nZXRDb250cm9sUG9pbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRyb2xQb2ludHN9LG0ucHJvdG90eXBlLl9maW5kQ2hhbmdlZENvbnRyb2xQb2ludHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGg9PT10aGlzLl9jb250cm9sUG9pbnRzLmxlbmd0aDt0fHwodGhpcy5faXNEaXJ0eUNvbnRyb2xQb2ludD1uZXcgQXJyYXkoZS5sZW5ndGgvMyksdGhpcy5faXNEaXJ0eUNvbnRyb2xQb2ludC5maWxsKCEwKSk7Zm9yKHZhciByPTA7cjxlLmxlbmd0aC8zOysrcilpZih0KXt2YXIgbz1lWzMqcl0tdGhpcy5fY29udHJvbFBvaW50c1szKnJdLGk9ZVszKnIrMV0tdGhpcy5fY29udHJvbFBvaW50c1szKnIrMV0sbj1lWzMqcisyXS10aGlzLl9jb250cm9sUG9pbnRzWzMqcisyXTtvKm8raSppK24qbj5zLktFUk5FTF9UT0xFUkFOQ0Uqcy5LRVJORUxfVE9MRVJBTkNFJiYodGhpcy5faXNEaXJ0eUNvbnRyb2xQb2ludFtyXT0hMCl9ZWxzZSB0aGlzLl9pc0RpcnR5Q29udHJvbFBvaW50W3JdPSEwfSxtLnByb3RvdHlwZS5zZXRDb250cm9sUG9pbnRzPWZ1bmN0aW9uKGUpe3RoaXMuX2ZpbmRDaGFuZ2VkQ29udHJvbFBvaW50cyhlKSx0aGlzLl9jb250cm9sUG9pbnRzPWUsdGhpcy5kaXJ0eUN1cnZlUmVwcmVzZW50YXRpb24oKX0sbS5wcm90b3R5cGUuY29weUNvbnRyb2xQb2ludHM9ZnVuY3Rpb24oZSl7aWYodGhpcy5fZmluZENoYW5nZWRDb250cm9sUG9pbnRzKGUpLGUhPT10aGlzLl9jb250cm9sUG9pbnRzKXt0aGlzLl9jb250cm9sUG9pbnRzLmxlbmd0aD1lLmxlbmd0aDtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoOysrdCl0aGlzLl9jb250cm9sUG9pbnRzW3RdPWVbdF19dGhpcy5kaXJ0eUN1cnZlUmVwcmVzZW50YXRpb24oKX0sbS5wcm90b3R5cGUudHJhbnNmb3JtPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCksaT0wO2k8dGhpcy5fY29udHJvbFBvaW50cy5sZW5ndGg7aSs9MylvLlZlY3RvcjMuc2V0KHIsdGhpcy5fY29udHJvbFBvaW50c1tpXSx0aGlzLl9jb250cm9sUG9pbnRzW2krMV0sdGhpcy5fY29udHJvbFBvaW50c1tpKzJdKSxvLlZlY3RvcjMudHJhbnNmb3JtTWF0cml4NDQocixyLGUpLHQucHVzaChyWzBdLHJbMV0sclsyXSk7dGhpcy5zZXRDb250cm9sUG9pbnRzKHQpfSxtLnByb3RvdHlwZS5nZXRDb250cm9sUG9pbnRQb3NpdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gby5WZWN0b3IzLmNyZWF0ZUZsb2F0NjRGcm9tVmFsdWVzKHRoaXMuX2NvbnRyb2xQb2ludHNbMyplXSx0aGlzLl9jb250cm9sUG9pbnRzWzMqZSsxXSx0aGlzLl9jb250cm9sUG9pbnRzWzMqZSsyXSl9LG0ucHJvdG90eXBlLmV4dGVuZEJCb3hGcm9tQ29udHJvbFBvaW50cz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSxyPTA7cjx0aGlzLl9jb250cm9sUG9pbnRzLmxlbmd0aDtyKz0zKW8uVmVjdG9yMy5zZXQodCx0aGlzLl9jb250cm9sUG9pbnRzW3JdLHRoaXMuX2NvbnRyb2xQb2ludHNbcisxXSx0aGlzLl9jb250cm9sUG9pbnRzW3IrMl0pLGUuaW5jbHVkZVBvaW50KHQpfSxtLnByb3RvdHlwZS5zZXRDb250cm9sUG9pbnRQb3NpdGlvbj1mdW5jdGlvbihlLHQscixvKXt0aGlzLl9jb250cm9sUG9pbnRzWzMqZV09dCx0aGlzLl9jb250cm9sUG9pbnRzWzMqZSsxXT1yLHRoaXMuX2NvbnRyb2xQb2ludHNbMyplKzJdPW8sdGhpcy5faXNEaXJ0eUNvbnRyb2xQb2ludFtlXT0hMCx0aGlzLmRpcnR5Q3VydmVSZXByZXNlbnRhdGlvbigpfSxtLnByb3RvdHlwZS5nZXRXZWlnaHRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dlaWdodHN9LG0ucHJvdG90eXBlLnNldFdlaWdodHM9ZnVuY3Rpb24oZSl7dGhpcy5fd2VpZ2h0cz1lLHRoaXMuZGlydHlDdXJ2ZVJlcHJlc2VudGF0aW9uKCl9LG0ucHJvdG90eXBlLmdldEtub3RWZWN0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa25vdHN9LG0ucHJvdG90eXBlLnNldEtub3RWZWN0b3I9ZnVuY3Rpb24oZSl7dGhpcy5fa25vdHM9ZSx0aGlzLmRpcnR5Q3VydmVSZXByZXNlbnRhdGlvbigpfSxtLnByb3RvdHlwZS5nZXREZWdyZWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVncmVlfSxtLnByb3RvdHlwZS5pc1JhdGlvbmFsPWZ1bmN0aW9uKCl7aWYodm9pZCAwPT09dGhpcy5faXNSYXRpb25hbCYmKHRoaXMuX2lzUmF0aW9uYWw9ITEsdGhpcy5fd2VpZ2h0cykpZm9yKHZhciBlPXRoaXMuX3dlaWdodHNbMF0sdD0wO3Q8dGhpcy5fd2VpZ2h0cy5sZW5ndGg7Kyt0KWlmKE1hdGguYWJzKHRoaXMuX3dlaWdodHNbdF0tZSk+by5GTE9BVDY0X1RPTEVSQU5DRSlyZXR1cm4gdGhpcy5faXNSYXRpb25hbD0hMCwhMDtyZXR1cm4gdGhpcy5faXNSYXRpb25hbH0sbS5wcm90b3R5cGUuaXNTaW1wbGVCZXppZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa25vdHMubGVuZ3RoPT09Mip0aGlzLl9kZWdyZWUrMn0sbS5wcm90b3R5cGUuZ2V0TnVtQ29udHJvbFBvaW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250cm9sUG9pbnRzLmxlbmd0aC8zfSxtLnByb3RvdHlwZS5nZXRUZXNzZWxsYXRpb25DYWNoZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXNzZWxsYXRpb25DYWNoZS5nZXRDYWNoZSgpfSxtLnByb3RvdHlwZS5nZXRFdmFsdWF0aW9uQ2FjaGU9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5fZGlzY3JldGl6YXRpb25DYWNoZSYmdGhpcy5ldmFsdWF0ZSgpLHRoaXMuX2Rpc2NyZXRpemF0aW9uQ2FjaGV9LG0ucHJvdG90eXBlLmdldFJhbmdlVW5saW1pdGVkPWZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMuX2tub3RzWzBdLHRoaXMuX2tub3RzW3RoaXMuX2tub3RzLmxlbmd0aC0xXV19LG0ucHJvdG90eXBlLmlzUGVyaW9kaWNVbmxpbWl0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hlY2tDbG9zdXJlKCksdGhpcy5faXNQZXJpb2RpY30sbS5wcm90b3R5cGUuaXNDbG9zZWRVbmxpbWl0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hlY2tDbG9zdXJlKCksdGhpcy5faXNDbG9zZWR9LG0ucHJvdG90eXBlLl9jaGVja0Nsb3N1cmU9ZnVuY3Rpb24oKXtpZih2b2lkIDA9PT10aGlzLl9pc0Nsb3NlZHx8dm9pZCAwPT09dGhpcy5faXNQZXJpb2RpYyl7dGhpcy5faXNDbG9zZWQ9dGhpcy5faXNQZXJpb2RpYz0hMTt2YXIgZT10aGlzLmdldFJhbmdlVW5saW1pdGVkKCksdD10aGlzLmV2YWx1YXRlUG9zaXRpb24oZVswXSkscj10aGlzLmV2YWx1YXRlUG9zaXRpb24oZVsxXSk7aWYoby5WZWN0b3IzLmVxdWFscyh0LHIscy5LRVJORUxfVE9MRVJBTkNFKSl7dGhpcy5faXNDbG9zZWQ9ITA7dmFyIGk9dGhpcy5ldmFsdWF0ZUR0KGVbMF0pLG49dGhpcy5ldmFsdWF0ZUR0KGVbMV0pO28uVmVjdG9yMy5pc1BhcmFsbGVsKGksbiwxLHMuS0VSTkVMX0FOR1VMQVJfVE9MRVJBTkNFKSYmKHRoaXMuX2lzUGVyaW9kaWM9ITApfX19LG0ucHJvdG90eXBlLmdldEJlemllclNlZ21lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlY29tcG9zZUN1cnZlKCksdGhpcy5pc1NpbXBsZUJlemllcigpP1t0aGlzXTp0aGlzLl9zZWdtZW50c30sbS5wcm90b3R5cGUuaXNQbGFuYXJYWT1mdW5jdGlvbigpe2lmKHZvaWQgMD09PXRoaXMuX2lzUGxhbmFyWFkpe3ZhciBlPXMuU1BMSU5FX0RJU1RBTkNFX1RPTEVSQU5DRTt0aGlzLl9pc1BsYW5hclhZPSEwO2Zvcih2YXIgdD0xLzAscj0tMS8wLG89MjtvPHRoaXMuX2NvbnRyb2xQb2ludHMubGVuZ3RoO28rPTMpdD1NYXRoLm1pbih0LHRoaXMuX2NvbnRyb2xQb2ludHNbb10pLHI9TWF0aC5tYXgocix0aGlzLl9jb250cm9sUG9pbnRzW29dKTtNYXRoLmFicyhyLXQpPjIqZSYmKHRoaXMuX2lzUGxhbmFyWFk9ITEpfXJldHVybiB0aGlzLl9pc1BsYW5hclhZfSxtLnByb3RvdHlwZS5nZXRCZXppZXJTZWdtZW50c0luUmFuZ2U9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dGhpcy5nZXRCZXppZXJTZWdtZW50cygpLG89ZXx8dGhpcy5fa25vdHNbMF0saT10fHx0aGlzLl9rbm90c1t0aGlzLl9rbm90cy5sZW5ndGgtMV0sbj1bXSxzPTA7czxyLmxlbmd0aDsrK3Mpe3ZhciBhPXJbc10uZ2V0S25vdFZlY3RvcigpO288PWFbYS5sZW5ndGgtMV0mJmFbMF0+PWkmJm4ucHVzaChyW3NdKX1yZXR1cm4gbn0sbS5wcm90b3R5cGUuZ2V0QXBwcm94UGFyYW1ldGVyU3BhY2VUb2xlcmFuY2U9ZnVuY3Rpb24oKXtpZigxMj09PXRoaXMuZ2V0Q29udHJvbFBvaW50cygpLmxlbmd0aClyZXR1cm4gZy5TcGxpbmVDdXJ2ZUhlbHBlci5nZXRBcHByb3hCZXppZXJQYXJhbWV0ZXJTcGFjZVRvbGVyYW5jZSh0aGlzLmdldEJvdW5kaW5nQm94KCkscy5LRVJORUxfVE9MRVJBTkNFKTt0aGlzLl9kZWNvbXBvc2VDdXJ2ZSgpO2Zvcih2YXIgZT0wLHQ9MDt0PHRoaXMuX3NlZ21lbnRzLnNpemUoKTsrK3QpZSs9Zy5TcGxpbmVDdXJ2ZUhlbHBlci5nZXRBcHByb3hCZXppZXJQYXJhbWV0ZXJTcGFjZVRvbGVyYW5jZSh0aGlzLl9zZWdtZW50c1t0XS5nZXRCb3VuZGluZ0JveCgpLHMuS0VSTkVMX1RPTEVSQU5DRSk7cmV0dXJuIGV9LG0ucHJvdG90eXBlLmdldEFyY0xlbmd0aD1mdW5jdGlvbihlKXt2b2lkIDA9PT1lP2U9dGhpcy5nZXRSYW5nZSgpOjA9PT1lLmxlbmd0aCYmKGU9dGhpcy5nZXRSYW5nZVVubGltaXRlZCgpKTtmb3IodmFyIHQ9dGhpcy5fcmVzdHJpY3RSYW5nZVRvVW5saW1pdGVkKGUpLHI9MCxpPXRoaXMuZ2V0QmV6aWVyU2VnbWVudHMoKSxuPTA7bjxpLmxlbmd0aDsrK24pZm9yKHZhciBhPWlbbl0sYz1hLmdldFJhbmdlVW5saW1pdGVkKCksdT0wO3U8dC5sZW5ndGg7Kyt1KXt2YXIgaD1bTWF0aC5tYXgoY1swXSx0W3VdWzBdKSxNYXRoLm1pbihjWzFdLHRbdV1bMV0pXTtoWzFdLWhbMF0+cy5QQVJBTUVURVJfU1BBQ0VfVE9MRVJBTkNFJiYocis9KDAsbC5pbnRlZ3JhdGVGdW5jdGlvbjFEKSgoZnVuY3Rpb24oZSl7cmV0dXJuIG8uVmVjdG9yMy5sZW5ndGgoYS5ldmFsdWF0ZUR0KGUpKX0pLGgpKX1yZXR1cm4gcn0sbS5wcm90b3R5cGUuZ2V0UGFyYW1ldGVyRnJvbUFyY0xlbmd0aD1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQ/dD10aGlzLmdldFJhbmdlKCk6MD09PXQubGVuZ3RoJiYodD10aGlzLmdldFJhbmdlVW5saW1pdGVkKCkpO3ZhciByPXRoaXM7cmV0dXJuKDAsbC5pbnZlcnRJbnRlZ3JhbDFEKSgoZnVuY3Rpb24oZSl7cmV0dXJuIG8uVmVjdG9yMy5sZW5ndGgoci5ldmFsdWF0ZUR0KGUpKX0pLGUsdCl9LG0ucHJvdG90eXBlLl9kZWNvbXBvc2VDdXJ2ZT1mdW5jdGlvbigpe2lmKHRoaXMuX2hhc0RpcnR5U2VnbWVudHMpaWYodGhpcy5faGFzRGlydHlTZWdtZW50cz0hMSx0aGlzLmlzU2ltcGxlQmV6aWVyKCkpdGhpcy5fc2VnbWVudHM9dm9pZCAwO2Vsc2V7dmFyIGU7dGhpcy5faXNEaXJ0eUNvbnRyb2xQb2ludC5sZW5ndGg9PT10aGlzLmdldE51bUNvbnRyb2xQb2ludHMoKT9lPSgwLF8uZGVjb21wb3NlQkN1cnZlRmxhZ3MpKHRoaXMuZ2V0S25vdFZlY3RvcigpLHRoaXMuX2lzRGlydHlDb250cm9sUG9pbnQpOih0aGlzLl9pc0RpcnR5Q29udHJvbFBvaW50PW5ldyBBcnJheSh0aGlzLmdldE51bUNvbnRyb2xQb2ludHMoKSksKGU9bmV3IEFycmF5KHRoaXMuZ2V0TnVtQ29udHJvbFBvaW50cygpKSkuZmlsbCghMCkpLHRoaXMuX2lzRGlydHlDb250cm9sUG9pbnQuZmlsbCghMSk7dmFyIHQ9KDAsXy5kZWNvbXBvc2VCQ3VydmVUb0JlemllcikodGhpcy5fa25vdHMsdGhpcy5fY29udHJvbFBvaW50cyx0aGlzLmlzUmF0aW9uYWwoKT90aGlzLl93ZWlnaHRzOnZvaWQgMCk7dGhpcy5fc2VnbWVudHMmJnRoaXMuX3NlZ21lbnRzLmxlbmd0aD09PXQuUC5sZW5ndGh8fCh0aGlzLl9zZWdtZW50cz1bXSk7Zm9yKHZhciByPTA7cjx0LlAubGVuZ3RoOysrcil2b2lkIDA9PT10aGlzLl9zZWdtZW50c1tyXSYmKHRoaXMuX3NlZ21lbnRzW3JdPW5ldyBtLGVbcl09ITApLGVbcl0mJnRoaXMuX3NlZ21lbnRzW3JdLnNldCh0LlBbcl0sdC53P3Qud1tyXTpuZXcgQXJyYXkoMip0aGlzLl9kZWdyZWUrMikuZmlsbCgxKSx0aGlzLl9kZWdyZWUsdC5VW3JdKX19LG0ucHJvdG90eXBlLmV2YWx1YXRlUG9zaXRpb249ZnVuY3Rpb24oZSl7dGhpcy5pc1BlcmlvZGljVW5saW1pdGVkKCkmJihlPSgwLHUubm9ybWFsaXplUGFyYW1ldGVyVG9TaGlmdGVkUmFuZ2UpKGUsW3RoaXMuX2tub3RzWzBdLHRoaXMuX2tub3RzW3RoaXMuX2tub3RzLmxlbmd0aC0xXV0pKTt2YXIgdD10aGlzLmlzUmF0aW9uYWwoKT90aGlzLl93ZWlnaHRzOnZvaWQgMDtyZXR1cm4oMCx2LmV2YWx1YXRlQkN1cnZlUG9pbnQpKGUsdGhpcy5fZGVncmVlLHRoaXMuX2tub3RzLHRoaXMuX2NvbnRyb2xQb2ludHMsdCl9LG0ucHJvdG90eXBlLmV2YWx1YXRlRHQ9ZnVuY3Rpb24oZSl7dGhpcy5pc1BlcmlvZGljVW5saW1pdGVkKCkmJihlPSgwLHUubm9ybWFsaXplUGFyYW1ldGVyVG9TaGlmdGVkUmFuZ2UpKGUsW3RoaXMuX2tub3RzWzBdLHRoaXMuX2tub3RzW3RoaXMuX2tub3RzLmxlbmd0aC0xXV0pKTt2YXIgdD10aGlzLmlzUmF0aW9uYWwoKT90aGlzLl93ZWlnaHRzOnZvaWQgMDtyZXR1cm4oMCx2LmV2YWx1YXRlQkN1cnZlRGVyaXZzKShlLDEsdGhpcy5fZGVncmVlLHRoaXMuX2tub3RzLHRoaXMuX2NvbnRyb2xQb2ludHMsdClbMV19LG0ucHJvdG90eXBlLmNsb3Nlc3RUb1JheVBhcmFtPWZ1bmN0aW9uKGUsdCxyLGkpe2lmKCEodGhpcy5fY29udHJvbFBvaW50cy5sZW5ndGg8OSkpe2lmKHRoaXMuaXNQbGFuYXJYWSgpKXt2YXIgbj10WzJdLGE9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtpZihNYXRoLmFicyhuKTxzLktFUk5FTF9BTkdVTEFSX1RPTEVSQU5DRSlvLlZlY3RvcjMuY29weShhLGUpO2Vsc2V7dmFyIGM9KHRoaXMuX2NvbnRyb2xQb2ludHNbMl0tZVsyXSkvbjtvLlZlY3RvcjMuYWRkKGEsby5WZWN0b3IzLnNjYWxlKGEsdCxjKSxlKX1yZXR1cm4gdGhpcy5jbG9zZXN0VG9Qb2ludFBhcmFtKGEpfWQuRGVidWdVdGlscy53YXJuKFwiQkN1cnZlLmNsb3Nlc3RUb1JheVBhcmFtKCkgb25seSBkZWZpbmVkIGZvciBwbGFuYXIgY3VydmVzXCIpfX0sbS5wcm90b3R5cGUuY2xvc2VzdFRvUG9pbnRQYXJhbT1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQ/dD10aGlzLmdldFJhbmdlKCk6MD09PXQubGVuZ3RoJiYodD10aGlzLmdldFJhbmdlVW5saW1pdGVkKCkpO2Zvcih2YXIgcj10aGlzLl9yZXN0cmljdFJhbmdlVG9VbmxpbWl0ZWQodCksaT1vLkZMT0FUNjRfVE9MRVJBTkNFLG49dGhpcy5nZXRCZXppZXJTZWdtZW50cygpLHM9KDAseS5jbG9zZXN0QkN1cnZlU2VnbWVudHMpKGUsbix2b2lkIDAsciksYT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksYz12b2lkIDAsbD0wO2w8cy5sZW5ndGg7KytsKWlmKCEoc1tsXS5taW5EaXN0U3FyPmEpKWZvcih2YXIgaD1uW3NbbF0uaW5kZXhdLGQ9aC5nZXRSYW5nZVVubGltaXRlZCgpLHA9MDtwPHIubGVuZ3RoOysrcCl7dmFyIGc9W01hdGgubWF4KGRbMF0scltwXVswXSksTWF0aC5taW4oZFsxXSxyW3BdWzFdKV07aWYoIShnWzFdLWdbMF08PW8uRkxPQVQ2NF9UT0xFUkFOQ0UpKXt2YXIgZj1oLmdldEV2YWx1YXRpb25DYWNoZSgpLHY9KDAsdS5jbG9zZXN0UG9pbnRUb1BvbHlsaW5lKShlLGYucG9pbnRzLGYub2Zmc2V0LGcpLF89KDAseS5yZWxheEJDdXJ2ZVRvUGVycGVuZGljdWxhcikodGhpcy5fa25vdHMsdGhpcy5fY29udHJvbFBvaW50cyx0aGlzLmlzUmF0aW9uYWwoKT90aGlzLl93ZWlnaHRzOnZvaWQgMCxlLHYsZyxpLDMyKSxtPWguZXZhbHVhdGVQb3NpdGlvbihfKSxFPW8uVmVjdG9yMy5zcXVhcmVkRGlzdGFuY2UobSxlKTtFPGEmJihhPUUsYz1fKTt2YXIgeD1oLmV2YWx1YXRlUG9zaXRpb24oZ1swXSksUj1vLlZlY3RvcjMuc3F1YXJlZERpc3RhbmNlKHgsZSk7UjxhJiYoYT1SLGM9Z1swXSk7dmFyIEE9aC5ldmFsdWF0ZVBvc2l0aW9uKGdbMV0pLFA9by5WZWN0b3IzLnNxdWFyZWREaXN0YW5jZShBLGUpO1A8YSYmKGE9UCxjPWdbMV0pfX1yZXR1cm4gdGhpcy5pc1BlcmlvZGljVW5saW1pdGVkKCkmJihjPSgwLHUuZm9sZE5lYXJUbykoYywuNSoodFswXSt0WzFdKSx0aGlzLmdldFBlcmlvZFVubGltaXRlZCgpKSksY30sbS5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEJlemllclNlZ21lbnRzKCk7aWYoZVswXT09PXRoaXMpdm9pZCAwPT09dGhpcy5fZGlzY3JldGl6YXRpb25DYWNoZSYmKHRoaXMuX2Rpc2NyZXRpemF0aW9uQ2FjaGU9Zy5TcGxpbmVDdXJ2ZUhlbHBlci5ldmFsdWF0ZUN1cnZlKHRoaXMuZ2V0RGVncmVlKCksdGhpcy5nZXRLbm90VmVjdG9yKCksdGhpcy5nZXRDb250cm9sUG9pbnRzKCksdGhpcy5nZXRXZWlnaHRzKCksITApKTtlbHNlIGZvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7Kyt0KXt2YXIgcj1lW3RdO3ZvaWQgMD09PXIuX2Rpc2NyZXRpemF0aW9uQ2FjaGUmJihyLl9kaXNjcmV0aXphdGlvbkNhY2hlPWcuU3BsaW5lQ3VydmVIZWxwZXIuZXZhbHVhdGVDdXJ2ZShyLmdldERlZ3JlZSgpLHIuZ2V0S25vdFZlY3RvcigpLHIuZ2V0Q29udHJvbFBvaW50cygpLHIuZ2V0V2VpZ2h0cygpLCEwKSl9fSxtLnByb3RvdHlwZS5fZ2V0RnVsbFRlc3NlbGxhdGlvbj1mdW5jdGlvbihlKXt2YXIgdCxyLGk9dGhpcy5nZXRCZXppZXJTZWdtZW50cygpLG49MCxzPSExO2lmKGlbMF09PT10aGlzKXtzPSEwO3ZhciBhPXAuQ3VydmVUZXNzZWxsYXRvci5nZXRBZGFwdGl2ZVJlbmRlclBvaW50cyh0aGlzLGUsdGhpcy5nZXRSYW5nZVVubGltaXRlZCgpKTt0PWEucG9zaXRpb25zLHI9YS5wYXJhbXMsbj1NYXRoLm1heChuLGEudG9sZXJhbmNlKX1lbHNle3Q9W10scj1bXTtmb3IodmFyIGM9MDtjPGkubGVuZ3RoOysrYyl7dmFyIHU9aVtjXTtpZih1Lmhhc0RpcnR5VGVzc2VsbGF0aW9uKCl8fHUuZ2V0VGVzc2VsbGF0aW9uQ2FjaGVUb2xlcmFuY2UoKT5lK28uRkxPQVQ2NF9UT0xFUkFOQ0Upe3M9ITA7dmFyIGw9cC5DdXJ2ZVRlc3NlbGxhdG9yLmdldEFkYXB0aXZlUmVuZGVyUG9pbnRzKHUsZSx1LmdldFJhbmdlVW5saW1pdGVkKCkpO3UuX3Rlc3NlbGxhdGlvbkNhY2hlLnNldENhY2hlKGwpLG49TWF0aC5tYXgobixsLnRvbGVyYW5jZSl9dS5fdGVzc2VsbGF0aW9uQ2FjaGUmJigwPT09Yz8odC5wdXNoLmFwcGx5KHQsdS5fdGVzc2VsbGF0aW9uQ2FjaGUuZ2V0Q2FjaGUoKS5wb3NpdGlvbnMpLHIucHVzaC5hcHBseShyLHUuX3Rlc3NlbGxhdGlvbkNhY2hlLmdldENhY2hlKCkucGFyYW1zKSk6KHQucHVzaC5hcHBseSh0LHUuX3Rlc3NlbGxhdGlvbkNhY2hlLmdldENhY2hlKCkucG9zaXRpb25zLnNsaWNlKDEpKSxyLnB1c2guYXBwbHkocix1Ll90ZXNzZWxsYXRpb25DYWNoZS5nZXRDYWNoZSgpLnBhcmFtcy5zbGljZSgxKSkpKX19cmV0dXJue3Bvc2l0aW9uczp0LHBhcmFtczpyLGRpZFJldGVzc2VsbGF0ZTpzLHRvbGVyYW5jZTpufX0sbS5wcm90b3R5cGUudGVzc2VsbGF0ZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHMuVEVTU0VMTEFUSU9OLkxJTkVBUl9QUkVDSVNJT04sdGhpcy5fdGVzc2VsbGF0aW9uQ2FjaGUuZ2V0VGVzc2VsbGF0aW9uKGUsdGhpcyx0LHRoaXMuX2dldEZ1bGxUZXNzZWxsYXRpb24uYmluZCh0aGlzKSl9LG0ucHJvdG90eXBlLmdldEJvdW5kaW5nQm94PWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWU/ZT10aGlzLmdldFJhbmdlKCk6MD09PWUubGVuZ3RoJiYoZT10aGlzLmdldFJhbmdlVW5saW1pdGVkKCkpO3ZhciB0PXRoaXMuX3Jlc3RyaWN0UmFuZ2VUb1VubGltaXRlZChlKSxyPW5ldyBpLkJvdW5kaW5nQm94LG89dGhpcy5nZXRSYW5nZVVubGltaXRlZCgpO2lmKHRbMF1bMF08b1swXStzLlBBUkFNRVRFUl9TUEFDRV9UT0xFUkFOQ0UmJnRbMF1bMV0+b1sxXS1zLlBBUkFNRVRFUl9TUEFDRV9UT0xFUkFOQ0UpdGhpcy5leHRlbmRCQm94RnJvbUNvbnRyb2xQb2ludHMocik7ZWxzZSBmb3IodmFyIG49dGhpcy5nZXRCZXppZXJTZWdtZW50cygpLGE9MDthPHQubGVuZ3RoO2ErKylmb3IodmFyIGM9MDtjPG4ubGVuZ3RoO2MrKyl7dmFyIHU9bltjXTsodT11Ll9nZXRTdWJzZXQodFthXVswXSx0W2FdWzFdKSkmJnUuZXh0ZW5kQkJveEZyb21Db250cm9sUG9pbnRzKHIpfXJldHVybiByfSxtLnByb3RvdHlwZS5nZXRUYW5nZW50Q29uZT1mdW5jdGlvbihlKXt2b2lkIDA9PT1lP2U9dGhpcy5nZXRSYW5nZSgpOjA9PT1lLmxlbmd0aCYmKGU9dGhpcy5nZXRSYW5nZVVubGltaXRlZCgpKTt2YXIgdD10aGlzLmV2YWx1YXRlUG9zaXRpb24oZVswXSkscj10aGlzLmV2YWx1YXRlUG9zaXRpb24oZVsxXSk7by5WZWN0b3IzLnN1YihyLHIsdCksby5WZWN0b3IzLnNxdWFyZWRMZW5ndGgocik8LjAxKnMuS0VSTkVMX1RPTEVSQU5DRSpzLktFUk5FTF9UT0xFUkFOQ0UmJihyPXRoaXMuZXZhbHVhdGVEdCguNSooZVswXStlWzFdKSkpLG8uVmVjdG9yMy5ub3JtYWxpemUocixyKTtmb3IodmFyIGk9bmV3IG4uVGFuZ2VudENvbmUociwwKSxhPXRoaXMuX3Jlc3RyaWN0UmFuZ2VUb1VubGltaXRlZChlKSxjPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcygwLDAsMCksdT10aGlzLmdldEJlemllclNlZ21lbnRzKCksbD0wO2w8YS5sZW5ndGg7bCsrKWZvcih2YXIgaD0wO2g8dS5sZW5ndGg7aCsrKXt2YXIgZD11W2hdO2lmKGQ9ZC5fZ2V0U3Vic2V0KGFbbF1bMF0sYVtsXVsxXSkpZm9yKHZhciBwPWQuX2NvbnRyb2xQb2ludHMsZz0wO2c8cC5sZW5ndGgtMztnKz0zKWNbMF09cFtnKzNdLXBbZ10sY1sxXT1wW2crNF0tcFtnKzFdLGNbMl09cFtnKzVdLXBbZysyXSxvLlZlY3RvcjMuZG90KGMscik+PTA/aS5pbmNsdWRlVmVjdG9yKGMpOmkuYW5nbGU9TWF0aC5QSX1yZXR1cm4gaX0sbS5wcm90b3R5cGUuX2dldFN1YnNldD1mdW5jdGlvbihlLHQpe3ZhciByO2lmKHRoaXMuaXNQZXJpb2RpY1VubGltaXRlZCgpKXJldHVybiB0LWU+dGhpcy5nZXRQZXJpb2RVbmxpbWl0ZWQoKS1zLlBBUkFNRVRFUl9TUEFDRV9UT0xFUkFOQ0U/dGhpczooKHI9dGhpcy5jbG9uZSgpKS5fcGVyaW9kaWNUcmltVG9QYXJhbXMoZSx0KSxyKTt2YXIgbz10aGlzLmdldFJhbmdlVW5saW1pdGVkKCk7cmV0dXJuIGU+b1sxXS1zLlBBUkFNRVRFUl9TUEFDRV9UT0xFUkFOQ0V8fHQ8b1swXStzLlBBUkFNRVRFUl9TUEFDRV9UT0xFUkFOQ0U/dm9pZCAwOmU8b1swXStzLlBBUkFNRVRFUl9TUEFDRV9UT0xFUkFOQ0UmJnQ+b1sxXS1zLlBBUkFNRVRFUl9TUEFDRV9UT0xFUkFOQ0U/dGhpczoocj10aGlzLmNsb25lKCksZT5vWzBdK3MuUEFSQU1FVEVSX1NQQUNFX1RPTEVSQU5DRSYmci50cmltVG9QYXJhbSghMCxlKSx0PG9bMV0tcy5QQVJBTUVURVJfU1BBQ0VfVE9MRVJBTkNFJiZyLnRyaW1Ub1BhcmFtKCExLHQpLHIpfSxtLnByb3RvdHlwZS5fcGVyaW9kaWNUcmltVG9QYXJhbXM9ZnVuY3Rpb24oZSx0KXtoLkNvbnNvbGVVdGlscy5hc3NlcnQodGhpcy5faXNQZXJpb2RpYyk7dmFyIHI9dGhpcy5nZXRSYW5nZVVubGltaXRlZCgpLG89KDAsdS5ub3JtYWxpemVQYXJhbWV0cmljUmFuZ2VUb1NoaWZ0ZWRSYW5nZSkoW2UsdF0scik7aWYob1sxXT5yWzFdKXRoaXMuX2lzQ2xvc2VkPXRoaXMuX2lzUGVyaW9kaWM9ITEsdGhpcy50cmltVG9QYXJhbSghMCxvWzFdLShyWzFdLXJbMF0pLHZvaWQgMCksdGhpcy50cmltVG9QYXJhbSghMSxvWzBdLHZvaWQgMCk7ZWxzZXt2YXIgaSxuLHM9dGhpcy5nZXRDb250cm9sUG9pbnRzKCksYT10aGlzLmdldEtub3RWZWN0b3IoKSxjPXRoaXMuZ2V0V2VpZ2h0cygpLGw9dGhpcy5nZXREZWdyZWUoKSxkPXRoaXMuZ2V0UGVyaW9kVW5saW1pdGVkKCkscD1bXSxmPWEuc2xpY2UoKSx2PWEuc2xpY2UoKSxfPVtdO2ZvcihuPTA7bjxzLmxlbmd0aC8zOysrbilwWzQqbiswXT1zWzMqbiswXSpjW25dLHBbNCpuKzFdPXNbMypuKzFdKmNbbl0scFs0Km4rMl09c1szKm4rMl0qY1tuXSxwWzQqbiszXT1jW25dO2ZvcihpPXAuc2xpY2UoKSxnLlNwbGluZUN1cnZlSGVscGVyLmV4dHJhY3RDdXJ2ZVNlZ21lbnQobCxvWzFdLHJbMV0sZixwKSxnLlNwbGluZUN1cnZlSGVscGVyLmV4dHJhY3RDdXJ2ZVNlZ21lbnQobCxyWzBdLG9bMF0sdixpKSxuPTA7bjx2Lmxlbmd0aDsrK24pdltuXT12W25dK2Q7Zy5TcGxpbmVDdXJ2ZUhlbHBlci5qb2luQ3VydmVzKGwsZixwLHYsaSk7dmFyIHk9cC5sZW5ndGgvNCxtPVtdO2ZvcihfLmxlbmd0aD15LG0ubGVuZ3RoPTMqeSxuPTA7bjx5Oysrbil7dmFyIEU9cFs0Km4rM107bVszKm5dPXBbNCpuXS9FLG1bMypuKzFdPXBbNCpuKzFdL0UsbVszKm4rMl09cFs0Km4rMl0vRSxfW25dPUV9dGhpcy5zZXQobSxfLGwsZiksdGhpcy5faXNDbG9zZWQ9dGhpcy5faXNQZXJpb2RpYz0hMX19LG0ucHJvdG90eXBlLnRyaW1Ub1BhcmFtPWZ1bmN0aW9uKGUsdCxyKXtpZih0aGlzLmlzUGVyaW9kaWNVbmxpbWl0ZWQoKSlyZXR1cm4gaC5Db25zb2xlVXRpbHMuYXNzZXJ0KHZvaWQgMCE9PXIpLHZvaWQgdGhpcy5fcGVyaW9kaWNUcmltVG9QYXJhbXModCxyKTt2YXIgbyxpLG49dGhpcy5nZXRDb250cm9sUG9pbnRzKCkscz10aGlzLmdldEtub3RWZWN0b3IoKSxhPXRoaXMuZ2V0V2VpZ2h0cygpLGM9dGhpcy5nZXREZWdyZWUoKSx1PVtdO2ZvcihvPTA7bzxuLmxlbmd0aC8zOysrbyl1WzQqbyswXT1uWzMqbyswXSphW29dLHVbNCpvKzFdPW5bMypvKzFdKmFbb10sdVs0Km8rMl09blszKm8rMl0qYVtvXSx1WzQqbyszXT1hW29dO3ZhciBsPVtdLGQ9MCxwPWcuU3BsaW5lQ3VydmVIZWxwZXIuaW5zZXJ0S25vdChjLHMsdSx0LGMpLHY9KDAsZi5maW5kS25vdFNwYW4pKHQscC5VKTtmb3IoZT8ocC5VLnNwbGljZSgwLHYtYysxLHQpLGk9cC5VLmxlbmd0aC1jLTEsZD00KihwLlB3Lmxlbmd0aC80LWkpKToocC5VLnNwbGljZSh2KzEscC5VLmxlbmd0aCx0KSxpPXAuVS5sZW5ndGgtYy0xKSx1Lmxlbmd0aD0zKmksbC5sZW5ndGg9aSxvPTA7bzxpOysrbyl7dmFyIF89cC5Qd1s0Km8rMytkXTt1WzMqb109cC5Qd1s0Km8rMCtkXS9fLHVbMypvKzFdPXAuUHdbNCpvKzErZF0vXyx1WzMqbysyXT1wLlB3WzQqbysyK2RdL18sbFtvXT1ffXRoaXMuc2V0KHUsbCxjLHAuVSl9LG0ucHJvdG90eXBlLmFkZENvbnRyb2xQb2ludD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZ2V0Q29udHJvbFBvaW50cygpLGk9dGhpcy5nZXROdW1Db250cm9sUG9pbnRzKCksbj10aGlzLmdldEtub3RWZWN0b3IoKSxhPXRoaXMuZ2V0V2VpZ2h0cygpLHU9dGhpcy5nZXREZWdyZWUoKSxsPXRoaXMuZ2V0Q29udHJvbFBvaW50UG9zaXRpb24oZSksaD10aGlzLmdldENvbnRyb2xQb2ludFBvc2l0aW9uKGUrMSksZD1uZXcgYy5MaW5lO2Quc2V0RnJvbUVuZHBvaW50cyhsLGgpO3ZhciBwPWQuY2xvc2VzdFRvUG9pbnRQYXJhbSh0KSxmPWQuZXZhbHVhdGVQb3NpdGlvbihwKSx2PW8uVmVjdG9yMy5kaXN0YW5jZShmLGwpLF89by5WZWN0b3IzLmRpc3RhbmNlKGYsaCkseT1hW2VdKnYrYVtlKzFdKl87aWYoTWF0aC5hYnMoeSk8cy5LRVJORUxfVE9MRVJBTkNFKWNvbnNvbGUud2FybihcIm51bWVyaWNhbCBlcnJvciBpbiBhZGRDb250cm9sUG9pbnRzIC0tIGNvaW5jaWRlbnQgY29udHJvbCBwb2ludHMgLyBuZWdhdGl2ZSB3ZWlnaHRzP1wiKTtlbHNle2Zvcih2YXIgbT1hW2VdKnYveSxFPW5bZSsxXSttKihuW2UrdSsxXS1uW2UrMV0pLHg9W10sUj0wO1I8ci5sZW5ndGgvMzsrK1IpeFs0KlJdPXJbMypSXSphW1JdLHhbNCpSKzFdPXJbMypSKzFdKmFbUl0seFs0KlIrMl09clszKlIrMl0qYVtSXSx4WzQqUiszXT1hW1JdO3ZhciBBPWcuU3BsaW5lQ3VydmVIZWxwZXIuZmluZEtub3RNdWx0aXBsaWNpdHkoRSxuKSxQPWcuU3BsaW5lQ3VydmVIZWxwZXIuaW5zZXJ0S25vdCh1LG4seCxFLEErMSksVj1bXTtmb3IoeC5sZW5ndGg9MyooaSsxKSxWLmxlbmd0aD1pKzEsUj0wO1I8PWk7KytSKXt2YXIgVD1QLlB3WzQqUiszXTt4WzMqUl09UC5Qd1s0KlJdL1QseFszKlIrMV09UC5Qd1s0KlIrMV0vVCx4WzMqUisyXT1QLlB3WzQqUisyXS9ULFZbUl09VH10aGlzLnNldCh4LFYsdSxQLlUpfX0sbS5wcm90b3R5cGUuYWRkQ29udHJvbFBvaW50T25DdXJ2ZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5nZXROdW1Db250cm9sUG9pbnRzKCkscj1OdW1iZXIuTUFYX1ZBTFVFLGk9LTEsbj1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXMoMCwwLDApLHM9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjRGcm9tVmFsdWVzKDAsMCwwKSxhPTA7YTx0LTE7KythKXtuWzBdPXRoaXMuX2NvbnRyb2xQb2ludHNbMyphKzBdLG5bMV09dGhpcy5fY29udHJvbFBvaW50c1szKmErMV0sc1swXT10aGlzLl9jb250cm9sUG9pbnRzWzMqYSszXSxzWzFdPXRoaXMuX2NvbnRyb2xQb2ludHNbMyphKzRdO3ZhciBjPSgwLHUuZGlzdGFuY2VQb2ludFRvTGluZVNlZ21lbnQpKG4scyxlKTtjPHImJihyPWMsaT1hKX0tMSE9PWkmJnRoaXMuYWRkQ29udHJvbFBvaW50KGksZSl9LG0ucHJvdG90eXBlLm1ha2VQZXJpb2RpYz1mdW5jdGlvbigpe2lmKCF0aGlzLmlzUGVyaW9kaWNVbmxpbWl0ZWQoKSl7Zm9yKHZhciBlPXRoaXMuZ2V0Q29udHJvbFBvaW50cygpLHQ9dGhpcy5nZXRLbm90VmVjdG9yKCkscj10aGlzLmdldFdlaWdodHMoKSxvPXRoaXMuZ2V0RGVncmVlKCksaT1bXSxuPTA7bjxlLmxlbmd0aC8zOysrbilpWzQqbl09ZVszKm5dKnJbbl0saVs0Km4rMV09ZVszKm4rMV0qcltuXSxpWzQqbisyXT1lWzMqbisyXSpyW25dLGlbNCpuKzNdPXJbbl07dmFyIHM9dC5zbGljZSgpO2cuU3BsaW5lQ3VydmVIZWxwZXIubWFrZVBlcmlvZGljKG8scyxpKTt2YXIgYT1bXSxjPVtdLHU9aS5sZW5ndGgvNDtmb3IoYS5sZW5ndGg9dSxjLmxlbmd0aD0zKnUsbj0wO248dTsrK24pe3ZhciBsPWlbNCpuKzNdO2NbMypuXT1pWzQqbl0vbCxjWzMqbisxXT1pWzQqbisxXS9sLGNbMypuKzJdPWlbNCpuKzJdL2wsYVtuXT1sfXRoaXMuc2V0KGMsYSxvLHMpLHRoaXMuX2lzQ2xvc2VkPXRoaXMuX2lzUGVyaW9kaWM9ITB9fSxtLnByb3RvdHlwZS5zdWdnZXN0U3BsaXR0aW5nUGFyYW09ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzLmdldEtub3RWZWN0b3IoKSxvPS41KihlWzBdK2VbMV0pLGk9KDAsdS5zb3J0ZWRJbmRleCkocixvKTtpZigwPT09aSl0PXJbaV07ZWxzZSBpZihpPT09ci5sZW5ndGgpdD1yW2ktMV07ZWxzZXt2YXIgbj1yW2ktMV0scz1yW2ldO3Q9by1uPHMtbz9uOnN9cmV0dXJuIHQ+PWVbMF0mJnQ8PWVbMV0/dDp2b2lkIDB9LG0ucHJvdG90eXBlLnRvT2JqZWN0PWZ1bmN0aW9uKCl7cmV0dXJue2RlZ3JlZTp0aGlzLl9kZWdyZWUsa25vdHM6dGhpcy5fa25vdHMsY29udHJvbFBvaW50czp0aGlzLl9jb250cm9sUG9pbnRzLHdlaWdodHM6dGhpcy5fd2VpZ2h0cyxyYW5nZTp0aGlzLnJhbmdlVG9PYmplY3QodGhpcy5nZXRSYW5nZSgpLHRoaXMuaXNMaW1pdGVkKCkpfX0sdC5CQ3VydmU9bX0sOTk4NDooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Cb2R5PXZvaWQgMDt2YXIgbz1yKDk1NDcpLGk9cigyNDY4KSxuPXIoMzM0NCkscz1yKDc2MTYpLGE9ZnVuY3Rpb24oKXtvLkJhc2VUb3BvbG9neS5jYWxsKHRoaXMpLHRoaXMuX2x1bXBzPVtdfTsoYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLkJhc2VUb3BvbG9neS5wcm90b3R5cGUpKS5nZXRUb3BvbG9neVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gaS5UT1BPTE9HWV9UWVBFUy5CT0RZfSxhLnByb3RvdHlwZS5nZXRMdW1wcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sdW1wc30sYS5wcm90b3R5cGUuc2V0THVtcHM9ZnVuY3Rpb24oZSl7dGhpcy5fbHVtcHM9bmV3IEFycmF5KGUubGVuZ3RoKTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoOysrdCl0aGlzLl9sdW1wc1t0XT1lW3RdfSxhLnByb3RvdHlwZS5hZGRMdW1wPWZ1bmN0aW9uKGUpe3RoaXMuX2x1bXBzP3RoaXMuX2x1bXBzLnB1c2goZSk6dGhpcy5fbHVtcHM9W2VdLGUuc2V0Qm9keSh0aGlzKX0sYS5wcm90b3R5cGUuYWRkTHVtcHM9ZnVuY3Rpb24oZSl7dGhpcy5fbHVtcHN8fCh0aGlzLl9sdW1wcz1bXSk7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDsrK3QpZVt0XS5zZXRCb2R5KHRoaXMpO3RoaXMuX2x1bXBzPXRoaXMuX2x1bXBzLmNvbmNhdChlKX0sYS5wcm90b3R5cGUucmVtb3ZlTHVtcD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9sdW1wcy5pbmRleE9mKGUpO3JldHVybiB0Pi0xJiYodGhpcy5fbHVtcHMuc3BsaWNlKHQsMSksZS5nZXRCb2R5KCk9PT10aGlzJiZlLnNldEJvZHkodm9pZCAwKSwhMCl9LGEucHJvdG90eXBlLmdldEJvZHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sYS5wcm90b3R5cGUuY29sbGVjdEZhY2VzPWZ1bmN0aW9uKGUpe2U9ZXx8bmV3IFNldDtmb3IodmFyIHQ9MDt0PHRoaXMuX2x1bXBzLmxlbmd0aDsrK3QpdGhpcy5fbHVtcHNbdF0uY29sbGVjdEZhY2VzKGUpO3JldHVybiBlfSxhLnByb3RvdHlwZS5jb2xsZWN0RWRnZXM9ZnVuY3Rpb24oZSl7ZT1lfHxuZXcgU2V0O2Zvcih2YXIgdD0wO3Q8dGhpcy5fbHVtcHMubGVuZ3RoOysrdCl0aGlzLl9sdW1wc1t0XS5jb2xsZWN0RWRnZXMoZSk7cmV0dXJuIGV9LGEucHJvdG90eXBlLmNvbGxlY3RWZXJ0aWNlcz1mdW5jdGlvbihlKXtlPWV8fG5ldyBTZXQ7Zm9yKHZhciB0PTA7dDx0aGlzLl9sdW1wcy5sZW5ndGg7Kyt0KXRoaXMuX2x1bXBzW3RdLmNvbGxlY3RWZXJ0aWNlcyhlKTtyZXR1cm4gZX0sYS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3g9ZnVuY3Rpb24oKXtmb3IodmFyIGU9bmV3IG4uQm91bmRpbmdCb3gsdD0wO3Q8dGhpcy5fbHVtcHMubGVuZ3RoOysrdCllLmluY2x1ZGUodGhpcy5fbHVtcHNbdF0uZ2V0Qm91bmRpbmdCb3goKSk7cmV0dXJuIGV9LGEucHJvdG90eXBlLnRyYW5zZm9ybT1mdW5jdGlvbihlKXsoMCxzLnRyYW5zZm9ybVRvcG9sb2d5KSh0aGlzLGUpfSxhLnByb3RvdHlwZS50b09iamVjdD1mdW5jdGlvbigpe3JldHVybntsdW1wczp0aGlzLnJlZnNUb1N0cmluZ3ModGhpcy5fbHVtcHMpLGF0dHJpYnV0ZXM6dGhpcy5yZWZzVG9TdHJpbmdzKHRoaXMuX2F0dHJpYnV0ZXMpfX0sYS5wcm90b3R5cGUuYWRkVG9Nb2RlbE9iamVjdD1mdW5jdGlvbihlKXt0aGlzLmFkZEFsbFRvTW9kZWxPYmplY3QoZSxbdGhpcy5fbHVtcHMsdGhpcy5fYXR0cmlidXRlc10pfSx0LkJvZHk9YX0sOTI6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQlN1cmZhY2U9dm9pZCAwO3ZhciBvPXIoMTk3MiksaT1yKDMzNDQpLG49cigyNDY4KSxzPXIoNDEyKSxhPXIoODc5NiksYz1yKDU4OTYpLHU9cig2ODI0KSxsPXIoNjI3NSksaD1yKDE5MiksZD1yKDEyODgpLHA9cig4ODApLGc9cig0NzI4KSxmPWZ1bmN0aW9uKCl7cy5TdXJmYWNlLmNhbGwodGhpcyksdGhpcy5fdURlZ3JlZT0wLHRoaXMuX3ZEZWdyZWU9MCx0aGlzLl91S25vdHM9W10sdGhpcy5fdktub3RzPVtdLHRoaXMuX2NvbnRyb2xQb2ludHM9W10sdGhpcy5fd2VpZ2h0cz1bXSx0aGlzLl9pc0Nsb3NlZFU9dm9pZCAwLHRoaXMuX2lzQ2xvc2VkVj12b2lkIDAsdGhpcy5faXNQZXJpb2RpY1U9dm9pZCAwLHRoaXMuX2lzUGVyaW9kaWNWPXZvaWQgMCx0aGlzLl9wYXRjaGVzPXZvaWQgMH07KGYucHJvdG90eXBlPU9iamVjdC5jcmVhdGUocy5TdXJmYWNlLnByb3RvdHlwZSkpLmdldEdlb21ldHJ5VHlwZT1mdW5jdGlvbigpe3JldHVybiBuLkdFT01FVFJZX1RZUEVTLkJTVVJGQUNFfSxmLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBmO3JldHVybiBlLmNvcHkodGhpcyksZX0sZi5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlKXtzLlN1cmZhY2UucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMuX3VEZWdyZWU9ZS5fdURlZ3JlZSx0aGlzLl92RGVncmVlPWUuX3ZEZWdyZWUsdGhpcy5fdUtub3RzPWUuX3VLbm90cy5zbGljZSgwKSx0aGlzLl92S25vdHM9ZS5fdktub3RzLnNsaWNlKDApLHRoaXMuX2NvbnRyb2xQb2ludHM9ZS5fY29udHJvbFBvaW50cy5zbGljZSgwKSx0aGlzLl93ZWlnaHRzPWUuX3dlaWdodHMuc2xpY2UoMCksdGhpcy5fY2xlYXJDYWNoZXMoKX0sZi5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCxyLG8saSxuKXtnLkNvbnNvbGVVdGlscy5hc3NlcnQoZT49MSksdGhpcy5fdURlZ3JlZT1lLGcuQ29uc29sZVV0aWxzLmFzc2VydCh0Pj0xKSx0aGlzLl92RGVncmVlPXQsZy5Db25zb2xlVXRpbHMuYXNzZXJ0KHIubGVuZ3RoPj0yKihlKzEpKSx0aGlzLl91S25vdHM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwociksZy5Db25zb2xlVXRpbHMuYXNzZXJ0KG8ubGVuZ3RoPj0yKih0KzEpKSx0aGlzLl92S25vdHM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobyk7dmFyIHM9ci5sZW5ndGgtZS0xLGE9by5sZW5ndGgtdC0xO2cuQ29uc29sZVV0aWxzLmFzc2VydChpLmxlbmd0aD09PTMqcyphKSx0aGlzLl9jb250cm9sUG9pbnRzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGkpLG4mJm4ubGVuZ3RoPjA/KGcuQ29uc29sZVV0aWxzLmFzc2VydChuLmxlbmd0aD09PXMqYSksdGhpcy5fd2VpZ2h0cz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChuKSk6dGhpcy5fd2VpZ2h0cz1bXSx0aGlzLl9jbGVhckNhY2hlcygpfSxmLnByb3RvdHlwZS5nZXREZWdyZWVVPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VEZWdyZWV9LGYucHJvdG90eXBlLmdldERlZ3JlZVY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdkRlZ3JlZX0sZi5wcm90b3R5cGUuc2V0RGVncmVlVT1mdW5jdGlvbihlKXtnLkNvbnNvbGVVdGlscy5hc3NlcnQoZT49MSksdGhpcy5fdURlZ3JlZT1lLHRoaXMuX2NsZWFyQ2FjaGVzKCl9LGYucHJvdG90eXBlLnNldERlZ3JlZVY9ZnVuY3Rpb24oZSl7Zy5Db25zb2xlVXRpbHMuYXNzZXJ0KGU+PTEpLHRoaXMuX3ZEZWdyZWU9ZSx0aGlzLl9jbGVhckNhY2hlcygpfSxmLnByb3RvdHlwZS5nZXROdW1Lbm90c1U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdUtub3RzLmxlbmd0aH0sZi5wcm90b3R5cGUuZ2V0TnVtS25vdHNWPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZLbm90cy5sZW5ndGh9LGYucHJvdG90eXBlLmdldEtub3RzVT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91S25vdHN9LGYucHJvdG90eXBlLmdldEtub3RzVj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl92S25vdHN9LGYucHJvdG90eXBlLnNldEtub3RzVT1mdW5jdGlvbihlKXt0aGlzLl91S25vdHM9ZSx0aGlzLl9jbGVhckNhY2hlcygpfSxmLnByb3RvdHlwZS5zZXRLbm90c1Y9ZnVuY3Rpb24oZSl7dGhpcy5fdktub3RzPWUsdGhpcy5fY2xlYXJDYWNoZXMoKX0sZi5wcm90b3R5cGUuZ2V0TnVtQ29udHJvbFBvaW50c1U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdUtub3RzLmxlbmd0aC10aGlzLl91RGVncmVlLTF9LGYucHJvdG90eXBlLmdldE51bUNvbnRyb2xQb2ludHNWPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZLbm90cy5sZW5ndGgtdGhpcy5fdkRlZ3JlZS0xfSxmLnByb3RvdHlwZS5nZXRDb250cm9sUG9pbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRyb2xQb2ludHN9LGYucHJvdG90eXBlLnNldENvbnRyb2xQb2ludHM9ZnVuY3Rpb24oZSl7dGhpcy5fY29udHJvbFBvaW50cz1lLHRoaXMuX2NsZWFyQ2FjaGVzKCl9LGYucHJvdG90eXBlLmdldFdlaWdodHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2VpZ2h0c30sZi5wcm90b3R5cGUuc2V0V2VpZ2h0cz1mdW5jdGlvbihlKXtlJiZlLmxlbmd0aD4wP3RoaXMuX3dlaWdodHM9ZTp0aGlzLl93ZWlnaHRzPVtdLHRoaXMuX2NsZWFyQ2FjaGVzKCl9LGYucHJvdG90eXBlLmlzUmF0aW9uYWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2VpZ2h0cy5sZW5ndGg+MH0sZi5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24oZSx0LHIsbyxpKXtnLkNvbnNvbGVVdGlscy5hc3NlcnQocj49MCksdGhpcy5pc1BlcmlvZGljVW5saW1pdGVkVSgpJiYoZT0oMCxjLm5vcm1hbGl6ZVBhcmFtZXRlclRvU2hpZnRlZFJhbmdlKShlLHRoaXMuZ2V0UmFuZ2VVbmxpbWl0ZWRVKCkpKSx0aGlzLmlzUGVyaW9kaWNVbmxpbWl0ZWRWKCkmJih0PSgwLGMubm9ybWFsaXplUGFyYW1ldGVyVG9TaGlmdGVkUmFuZ2UpKHQsdGhpcy5nZXRSYW5nZVVubGltaXRlZFYoKSkpO3ZhciBuPSgwLHUuZXZhbHVhdGVCU3VyZmFjZURlcml2cykoZSx0LE1hdGgubWluKHIsMyksdGhpcy5fdURlZ3JlZSx0aGlzLl92RGVncmVlLHRoaXMuX3VLbm90cyx0aGlzLl92S25vdHMsdGhpcy5fY29udHJvbFBvaW50cyx0aGlzLl93ZWlnaHRzKSxzPXtwb3M6blswXVswXX07cmV0dXJuIHI+PTEmJihzLmR1PW5bMV1bMF0scy5kdj1uWzBdWzFdKSxyPj0yJiYocy5kdXU9blsyXVswXSxzLmR1dj1uWzFdWzFdLHMuZHZ2PW5bMF1bMl0pLHI+PTMmJihzLmR1dXU9blszXVswXSxzLmR1dXY9blsyXVsxXSxzLmR1dnY9blsxXVsyXSxzLmR2dnY9blswXVszXSksc30sZi5wcm90b3R5cGUuZXZhbHVhdGVQb3NpdGlvbj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmlzUGVyaW9kaWNVbmxpbWl0ZWRVKCkmJihlPSgwLGMubm9ybWFsaXplUGFyYW1ldGVyVG9TaGlmdGVkUmFuZ2UpKGUsdGhpcy5nZXRSYW5nZVVubGltaXRlZFUoKSkpLHRoaXMuaXNQZXJpb2RpY1VubGltaXRlZFYoKSYmKHQ9KDAsYy5ub3JtYWxpemVQYXJhbWV0ZXJUb1NoaWZ0ZWRSYW5nZSkodCx0aGlzLmdldFJhbmdlVW5saW1pdGVkVigpKSksKDAsdS5ldmFsdWF0ZUJTdXJmYWNlUG9pbnQpKGUsdCx0aGlzLl91RGVncmVlLHRoaXMuX3ZEZWdyZWUsdGhpcy5fdUtub3RzLHRoaXMuX3ZLbm90cyx0aGlzLl9jb250cm9sUG9pbnRzLHRoaXMuX3dlaWdodHMpfSxmLnByb3RvdHlwZS5ldmFsdWF0ZU5vcm1hbD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmlzUGVyaW9kaWNVbmxpbWl0ZWRVKCkmJihlPSgwLGMubm9ybWFsaXplUGFyYW1ldGVyVG9TaGlmdGVkUmFuZ2UpKGUsdGhpcy5nZXRSYW5nZVVubGltaXRlZFUoKSkpLHRoaXMuaXNQZXJpb2RpY1VubGltaXRlZFYoKSYmKHQ9KDAsYy5ub3JtYWxpemVQYXJhbWV0ZXJUb1NoaWZ0ZWRSYW5nZSkodCx0aGlzLmdldFJhbmdlVW5saW1pdGVkVigpKSkscy5TdXJmYWNlLnByb3RvdHlwZS5ldmFsdWF0ZU5vcm1hbC5jYWxsKHRoaXMsZSx0KX0sZi5wcm90b3R5cGUuZXZhbHVhdGVEdT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmlzUGVyaW9kaWNVbmxpbWl0ZWRVKCkmJihlPSgwLGMubm9ybWFsaXplUGFyYW1ldGVyVG9TaGlmdGVkUmFuZ2UpKGUsdGhpcy5nZXRSYW5nZVVubGltaXRlZFUoKSkpLHRoaXMuaXNQZXJpb2RpY1VubGltaXRlZFYoKSYmKHQ9KDAsYy5ub3JtYWxpemVQYXJhbWV0ZXJUb1NoaWZ0ZWRSYW5nZSkodCx0aGlzLmdldFJhbmdlVW5saW1pdGVkVigpKSksKDAsdS5ldmFsdWF0ZUJTdXJmYWNlRGVyaXZzKShlLHQsMSx0aGlzLl91RGVncmVlLHRoaXMuX3ZEZWdyZWUsdGhpcy5fdUtub3RzLHRoaXMuX3ZLbm90cyx0aGlzLl9jb250cm9sUG9pbnRzLHRoaXMuX3dlaWdodHMpWzFdWzBdfSxmLnByb3RvdHlwZS5ldmFsdWF0ZUR2PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuaXNQZXJpb2RpY1VubGltaXRlZFUoKSYmKGU9KDAsYy5ub3JtYWxpemVQYXJhbWV0ZXJUb1NoaWZ0ZWRSYW5nZSkoZSx0aGlzLmdldFJhbmdlVW5saW1pdGVkVSgpKSksdGhpcy5pc1BlcmlvZGljVW5saW1pdGVkVigpJiYodD0oMCxjLm5vcm1hbGl6ZVBhcmFtZXRlclRvU2hpZnRlZFJhbmdlKSh0LHRoaXMuZ2V0UmFuZ2VVbmxpbWl0ZWRWKCkpKSwoMCx1LmV2YWx1YXRlQlN1cmZhY2VEZXJpdnMpKGUsdCwxLHRoaXMuX3VEZWdyZWUsdGhpcy5fdkRlZ3JlZSx0aGlzLl91S25vdHMsdGhpcy5fdktub3RzLHRoaXMuX2NvbnRyb2xQb2ludHMsdGhpcy5fd2VpZ2h0cylbMF1bMV19LGYucHJvdG90eXBlLmluc2VydEtub3RVPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KDAsbC5pbnNlcnRCU3VyZmFjZUtub3RVKShlLHQsdGhpcy5fdURlZ3JlZSx0aGlzLl92RGVncmVlLHRoaXMuX3VLbm90cyx0aGlzLl92S25vdHMsdGhpcy5fY29udHJvbFBvaW50cyx0aGlzLl93ZWlnaHRzKTt0aGlzLl91S25vdHM9ci51a25vdHMsdGhpcy5fY29udHJvbFBvaW50cz1yLlAsdGhpcy5fd2VpZ2h0cz1yLndlaWdodHN8fFtdLHRoaXMuX2NsZWFyQ2FjaGVzKCl9LGYucHJvdG90eXBlLmluc2VydEtub3RWPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KDAsbC5pbnNlcnRCU3VyZmFjZUtub3RWKShlLHQsdGhpcy5fdURlZ3JlZSx0aGlzLl92RGVncmVlLHRoaXMuX3VLbm90cyx0aGlzLl92S25vdHMsdGhpcy5fY29udHJvbFBvaW50cyx0aGlzLl93ZWlnaHRzKTt0aGlzLl92S25vdHM9ci52a25vdHMsdGhpcy5fY29udHJvbFBvaW50cz1yLlAsdGhpcy5fd2VpZ2h0cz1yLndlaWdodHN8fFtdLHRoaXMuX2NsZWFyQ2FjaGVzKCl9LGYucHJvdG90eXBlLnJlbGF4VG9QZXJwZW5kaWN1bGFyPWZ1bmN0aW9uKGUsdCxyLGksbixzLGEpe3ZhciBjPXRoaXM7aSYmMCE9PWkubGVuZ3RofHwoaT10aGlzLmdldFJhbmdlVSgpKSxuJiYwIT09bi5sZW5ndGh8fChuPXRoaXMuZ2V0UmFuZ2VWKCkpO3ZhciB1PSgwLHAubmV3dG9uUmFwaHNvbjJEKSgoZnVuY3Rpb24odCl7dmFyIHI9Yy5ldmFsdWF0ZSh0WzBdLHRbMV0sMik7by5WZWN0b3IzLnN1YihyLnBvcyxyLnBvcyxlKTt2YXIgaT1vLlZlY3RvcjMuZG90KHIuZHUsci5wb3MpLG49by5WZWN0b3IzLmRvdChyLmR2LHIucG9zKSxzPW8uVmVjdG9yMy5kb3Qoci5kdXUsci5wb3MpK28uVmVjdG9yMy5kb3Qoci5kdSxyLmR1KSxhPW8uVmVjdG9yMy5kb3Qoci5kdXYsci5wb3MpK28uVmVjdG9yMy5kb3Qoci5kdSxyLmR2KTtyZXR1cm57dmFsOltpLG5dLGRlcml2MTpbcyxhXSxkZXJpdjI6W2Esby5WZWN0b3IzLmRvdChyLmR2dixyLnBvcykrby5WZWN0b3IzLmRvdChyLmR2LHIuZHYpXX19KSxbdCxyXSxbaSxuXSk7cmV0dXJue3U6dS5wYXJhbVswXSx2OnUucGFyYW1bMV0sc3RhdHVzOnUuc3RhdHVzfX0sZi5wcm90b3R5cGUuY2xvc2VzdFBhcmFtPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1vLkZMT0FUNjRfVE9MRVJBTkNFLHI9W1t0aGlzLmdldFJhbmdlVSgpLHRoaXMuZ2V0UmFuZ2VWKCldXSxpPXRoaXMuZ2V0QmV6aWVyUGF0Y2hlcygpLG49KDAsZC5jbG9zZXN0QlN1cmZhY2VQYXRjaGVzKShlLGkscikscz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksYT17dTp2b2lkIDAsdjp2b2lkIDB9LHU9MDt1PG4ubGVuZ3RoOysrdSlpZighKG5bdV0ubWluRGlzdFNxcj5zKSlmb3IodmFyIGw9blt1XS5pbmRleCxoPWlbbFswXV1bbFsxXV0scD1oLmdldFJhbmdlVW5saW1pdGVkVSgpLGc9aC5nZXRSYW5nZVVubGltaXRlZFYoKSxmPTA7ZjxyLmxlbmd0aDsrK2Ype3ZhciB2PVtNYXRoLm1heChwWzBdLHJbZl1bMF1bMF0pLE1hdGgubWluKHBbMV0scltmXVswXVsxXSldLF89W01hdGgubWF4KGdbMF0scltmXVsxXVswXSksTWF0aC5taW4oZ1sxXSxyW2ZdWzFdWzFdKV07aWYoISh2WzFdLXZbMF08PW8uRkxPQVQ2NF9UT0xFUkFOQ0V8fF9bMV0tX1swXTw9by5GTE9BVDY0X1RPTEVSQU5DRSkpe3ZhciB5PSgwLGQuY2xvc2VzdEJTdXJmYWNlUG9pbnRBcHByb3gpKGUsaC5nZXREZWdyZWVVKCksaC5nZXREZWdyZWVWKCksaC5nZXRLbm90c1UoKSxoLmdldEtub3RzVigpLGguZ2V0Q29udHJvbFBvaW50cygpLGguaXNSYXRpb25hbCgpP2guZ2V0V2VpZ2h0cygpOnZvaWQgMCx2LF8pLG09dGhpcy5yZWxheFRvUGVycGVuZGljdWxhcihlLHkudSx5LnYsdixfLHQsNjQpLEU9aC5ldmFsdWF0ZVBvc2l0aW9uKG0udSxtLnYpLHg9by5WZWN0b3IzLnNxdWFyZWREaXN0YW5jZShFLGUpO3g8cyYmKHM9eCxhLnU9bS51LGEudj1tLnYpfX1yZXR1cm4gdGhpcy5pc1BlcmlvZGljVW5saW1pdGVkVSgpJiYoYS51PSgwLGMuZm9sZE5lYXJUbykoYS51LC41Kih0aGlzLmdldFJhbmdlVSgpWzBdK3RoaXMuZ2V0UmFuZ2VVKClbMV0pLHRoaXMuZ2V0UGVyaW9kVW5saW1pdGVkVSgpKSksdGhpcy5pc1BlcmlvZGljVW5saW1pdGVkVigpJiYoYS52PSgwLGMuZm9sZE5lYXJUbykoYS52LC41Kih0aGlzLmdldFJhbmdlVigpWzBdK3RoaXMuZ2V0UmFuZ2VWKClbMV0pLHRoaXMuZ2V0UGVyaW9kVW5saW1pdGVkVigpKSksYX0sZi5wcm90b3R5cGUudlBhcmFtTGluZT1mdW5jdGlvbihlKXt2YXIgdD0oMCxsLmV4dHJhY3RCU3VyZmFjZVBhcmFtTGluZVYpKGUsdGhpcy5fdURlZ3JlZSx0aGlzLl92RGVncmVlLHRoaXMuX3VLbm90cyx0aGlzLl92S25vdHMsdGhpcy5fY29udHJvbFBvaW50cyx0aGlzLl93ZWlnaHRzKSxyPXQuY3RybFB0cy5sZW5ndGgvMzt0LndlaWdodHMmJjAhPT10LndlaWdodHMubGVuZ3RofHwodC53ZWlnaHRzPW5ldyBBcnJheShyKSx0LndlaWdodHMuZmlsbCgxKSk7dmFyIG89bmV3IGEuQkN1cnZlO3JldHVybiBvLnNldCh0LmN0cmxQdHMsdC53ZWlnaHRzLHRoaXMuX3ZEZWdyZWUsdGhpcy5fdktub3RzKSxvfSxmLnByb3RvdHlwZS51UGFyYW1MaW5lPWZ1bmN0aW9uKGUpe3ZhciB0PSgwLGwuZXh0cmFjdEJTdXJmYWNlUGFyYW1MaW5lVSkoZSx0aGlzLl91RGVncmVlLHRoaXMuX3ZEZWdyZWUsdGhpcy5fdUtub3RzLHRoaXMuX3ZLbm90cyx0aGlzLl9jb250cm9sUG9pbnRzLHRoaXMuX3dlaWdodHMpLHI9dC5jdHJsUHRzLmxlbmd0aC8zO3Qud2VpZ2h0cyYmMCE9PXQud2VpZ2h0cy5sZW5ndGh8fCh0LndlaWdodHM9bmV3IEFycmF5KHIpLHQud2VpZ2h0cy5maWxsKDEpKTt2YXIgbz1uZXcgYS5CQ3VydmU7cmV0dXJuIG8uc2V0KHQuY3RybFB0cyx0LndlaWdodHMsdGhpcy5fdURlZ3JlZSx0aGlzLl91S25vdHMpLG99LGYucHJvdG90eXBlLmdldEJvdW5kaW5nQm94PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPW5ldyBpLkJvdW5kaW5nQm94LG49by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSxzPTA7czx0aGlzLl9jb250cm9sUG9pbnRzLmxlbmd0aDtzKz0zKW8uVmVjdG9yMy5zZXQobix0aGlzLl9jb250cm9sUG9pbnRzW3NdLHRoaXMuX2NvbnRyb2xQb2ludHNbcysxXSx0aGlzLl9jb250cm9sUG9pbnRzW3MrMl0pLHIuaW5jbHVkZVBvaW50KG4pO3JldHVybiByfSxmLnByb3RvdHlwZS50cmFuc2Zvcm09ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCkscj0wO3I8dGhpcy5fY29udHJvbFBvaW50cy5sZW5ndGg7cis9MylvLlZlY3RvcjMuc2V0KHQsdGhpcy5fY29udHJvbFBvaW50c1tyXSx0aGlzLl9jb250cm9sUG9pbnRzW3IrMV0sdGhpcy5fY29udHJvbFBvaW50c1tyKzJdKSxvLlZlY3RvcjMudHJhbnNmb3JtTWF0cml4NDQodCx0LGUpLHRoaXMuX2NvbnRyb2xQb2ludHNbcl09dFswXSx0aGlzLl9jb250cm9sUG9pbnRzW3IrMV09dFsxXSx0aGlzLl9jb250cm9sUG9pbnRzW3IrMl09dFsyXTt0aGlzLl9jbGVhckNhY2hlcygpfSxmLnByb3RvdHlwZS5nZXRSYW5nZVVubGltaXRlZFU9ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5fdUtub3RzWzBdLHRoaXMuX3VLbm90c1t0aGlzLl91S25vdHMubGVuZ3RoLTFdXX0sZi5wcm90b3R5cGUuZ2V0UmFuZ2VVbmxpbWl0ZWRWPWZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMuX3ZLbm90c1swXSx0aGlzLl92S25vdHNbdGhpcy5fdktub3RzLmxlbmd0aC0xXV19LGYucHJvdG90eXBlLmlzUGVyaW9kaWNVbmxpbWl0ZWRVPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoZWNrQ2xvc3VyZSgpLHRoaXMuX2lzUGVyaW9kaWNVfSxmLnByb3RvdHlwZS5pc1BlcmlvZGljVW5saW1pdGVkVj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGVja0Nsb3N1cmUoKSx0aGlzLl9pc1BlcmlvZGljVn0sZi5wcm90b3R5cGUuaXNDbG9zZWRVbmxpbWl0ZWRVPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoZWNrQ2xvc3VyZSgpLHRoaXMuX2lzQ2xvc2VkVX0sZi5wcm90b3R5cGUuaXNDbG9zZWRVbmxpbWl0ZWRWPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoZWNrQ2xvc3VyZSgpLHRoaXMuX2lzQ2xvc2VkVn0sZi5wcm90b3R5cGUuX2NoZWNrQ2xvc3VyZT1mdW5jdGlvbigpe3ZvaWQgMCE9PXRoaXMuX2lzQ2xvc2VkVSYmdm9pZCAwIT09dGhpcy5faXNQZXJpb2RpY1V8fCh0aGlzLl9pc0Nsb3NlZFU9dGhpcy5faXNQZXJpb2RpY1U9ITEpLHZvaWQgMCE9PXRoaXMuX2lzQ2xvc2VkViYmdm9pZCAwIT09dGhpcy5faXNQZXJpb2RpY1Z8fCh0aGlzLl9pc0Nsb3NlZFY9dGhpcy5faXNQZXJpb2RpY1Y9ITEpfSxmLnByb3RvdHlwZS5pc1NpbXBsZUJlemllcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91S25vdHMubGVuZ3RoPT09Mip0aGlzLl91RGVncmVlKzImJnRoaXMuX3ZLbm90cy5sZW5ndGg9PT0yKnRoaXMuX3ZEZWdyZWUrMn0sZi5wcm90b3R5cGUuZ2V0QmV6aWVyUGF0Y2hlcz1mdW5jdGlvbigpe2lmKHRoaXMuaXNTaW1wbGVCZXppZXIoKSlyZXR1cm4gdGhpcy5fcGF0Y2hlcz12b2lkIDAsW1t0aGlzXV07aWYoIXRoaXMuX3BhdGNoZXMpe3ZhciBlPSgwLGguZGVjb21wb3NlQlN1cmZhY2VUb0JlemllcikodGhpcy5fdURlZ3JlZSx0aGlzLl92RGVncmVlLHRoaXMuX3VLbm90cyx0aGlzLl92S25vdHMsdGhpcy5fY29udHJvbFBvaW50cyx0aGlzLl93ZWlnaHRzKTt0aGlzLl9wYXRjaGVzPVtdO2Zvcih2YXIgdD0wO3Q8ZS5VLmxlbmd0aDsrK3Qpe3RoaXMuX3BhdGNoZXNbdF09W107Zm9yKHZhciByPTA7cjxlLlYubGVuZ3RoOysrcil7dmFyIG89bmV3IGY7by5zZXQodGhpcy5fdURlZ3JlZSx0aGlzLl92RGVncmVlLGUuVVt0XSxlLlZbcl0sZS5QW3RdW3JdLGUudz9lLndbdF1bcl06dm9pZCAwKSx0aGlzLl9wYXRjaGVzW3RdW3JdPW99fX1yZXR1cm4gdGhpcy5fcGF0Y2hlc30sZi5wcm90b3R5cGUuX2NsZWFyQ2FjaGVzPWZ1bmN0aW9uKCl7dGhpcy5faXNDbG9zZWRVPXZvaWQgMCx0aGlzLl9pc0Nsb3NlZFY9dm9pZCAwLHRoaXMuX2lzUGVyaW9kaWNVPXZvaWQgMCx0aGlzLl9pc1BlcmlvZGljVj12b2lkIDAsdGhpcy5fcGF0Y2hlcz12b2lkIDB9LGYucHJvdG90eXBlLnRvT2JqZWN0PWZ1bmN0aW9uKCl7cmV0dXJue3VEZWdyZWU6dGhpcy5fdURlZ3JlZSx2RGVncmVlOnRoaXMuX3ZEZWdyZWUsdUtub3RzOnRoaXMuX3VLbm90cyx2S25vdHM6dGhpcy5fdktub3RzLGNvbnRyb2xQb2ludHM6dGhpcy5fY29udHJvbFBvaW50cyx3ZWlnaHRzOnRoaXMuX3dlaWdodHMsdVJhbmdlOnRoaXMucmFuZ2VUb09iamVjdCh0aGlzLmdldFJhbmdlVSgpLHRoaXMuaXNMaW1pdGVkVSgpKSx2UmFuZ2U6dGhpcy5yYW5nZVRvT2JqZWN0KHRoaXMuZ2V0UmFuZ2VWKCksdGhpcy5pc0xpbWl0ZWRWKCkpfX0sdC5CU3VyZmFjZT1mfSwyMjM2OihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmNoZWNrVmFsaWRpdHk9dm9pZCAwO3ZhciBvPXIoMTk3MiksaT1yKDI0NjgpLG49cigxNDcyKSxzPXIoMzU2NSksYT1yKDQxMiksYz1yKDc2MTYpO2Z1bmN0aW9uIHUoZSl7dmFyIHQ9W10scj1lLmdldEd1aWQoKTtyZXR1cm4gciYmXCJzdHJpbmdcIj09dHlwZW9mIHJ8fHQucHVzaCh7ZXJyb3I6XCJCYXNlVG9wb2xvZ3kgaGFzIGludmFsaWQgR1VJRFwiLHNvdXJjZTpbZV19KSx0fWZ1bmN0aW9uIGwoZSl7dmFyIHQ9dShlKSxyPTAsbz0wLG49MCxzPWUuZ2V0THVtcHMoKTtpZihzLmxlbmd0aD4wKXtmb3IodmFyIGE9bmV3IFNldCxjPTA7YzxzLmxlbmd0aDsrK2Mpe3ZhciBsPXNbY107YS5hZGQobCksbCYmbC5nZXRUb3BvbG9neVR5cGUoKT09PWkuVE9QT0xPR1lfVFlQRVMuTFVNUD9sLmdldEJvZHkoKSE9PWUmJnQucHVzaCh7ZXJyb3I6XCJCb2R5IGlzIG5vdCB0aGUgcGFyZW50IG9mIGNoaWxkIEx1bXBcIixzb3VyY2U6W2UsbF19KTp0LnB1c2goe2Vycm9yOlwiQm9keSBoYXMgaW52YWxpZCBlbGVtZW50IGluIEx1bXAgYXJyYXlcIixzb3VyY2U6W2UsbF19KSxyKz1sLmNvbGxlY3RGYWNlcygpLnNpemUsbys9bC5jb2xsZWN0RWRnZXMoKS5zaXplLG4rPWwuY29sbGVjdFZlcnRpY2VzKCkuc2l6ZX1hLnNpemUhPT1zLmxlbmd0aCYmdC5wdXNoKHtlcnJvcjpcIkJvZHkgaGFzIG5vbi11bmlxdWUgTHVtcHNcIixzb3VyY2U6W2VdfSl9cmV0dXJuIHIhPT1lLmNvbGxlY3RGYWNlcygpLnNpemUmJnQucHVzaCh7ZXJyb3I6XCJCb2R5IGhhcyBMdW1wcyB3aGljaCBzaGFyZSBGYWNlc1wiLHNvdXJjZTpbZV19KSxvIT09ZS5jb2xsZWN0RWRnZXMoKS5zaXplJiZ0LnB1c2goe2Vycm9yOlwiQm9keSBoYXMgTHVtcHMgd2hpY2ggc2hhcmUgRWRnZXNcIixzb3VyY2U6W2VdfSksbiE9PWUuY29sbGVjdFZlcnRpY2VzKCkuc2l6ZSYmdC5wdXNoKHtlcnJvcjpcIkJvZHkgaGFzIEx1bXBzIHdoaWNoIHNoYXJlIFZlcnRpY2VzXCIsc291cmNlOltlXX0pLHR9ZnVuY3Rpb24gaChlKXt2YXIgdD11KGUpLHI9ZS5nZXRCb2R5KCk7ciYmci5nZXRUb3BvbG9neVR5cGUoKSE9PWkuVE9QT0xPR1lfVFlQRVMuQk9EWSYmdC5wdXNoKHtlcnJvcjpcIkx1bXAgaGFzIGludmFsaWQgcGFyZW50IEJvZHlcIixzb3VyY2U6W2VdfSk7dmFyIG89MCxuPTAscz0wLGE9ZS5nZXRTaGVsbHMoKTtpZihhLmxlbmd0aD4wKXtmb3IodmFyIGM9bmV3IFNldCxsPTA7bDxhLmxlbmd0aDsrK2wpe3ZhciBoPWFbbF07Yy5hZGQoaCksaCYmaC5nZXRUb3BvbG9neVR5cGUoKT09PWkuVE9QT0xPR1lfVFlQRVMuU0hFTEw/aC5nZXRMdW1wKCkhPT1lJiZ0LnB1c2goe2Vycm9yOlwiTHVtcCBpcyBub3QgdGhlIHBhcmVudCBvZiBjaGlsZCBTaGVsbFwiLHNvdXJjZTpbZSxoXX0pOnQucHVzaCh7ZXJyb3I6XCJMdW1wIGhhcyBpbnZhbGlkIGVsZW1lbnQgaW4gU2hlbGwgYXJyYXlcIixzb3VyY2U6W2UsaF19KSxvKz1oLmNvbGxlY3RGYWNlcygpLnNpemUsbis9aC5jb2xsZWN0RWRnZXMoKS5zaXplLHMrPWguY29sbGVjdFZlcnRpY2VzKCkuc2l6ZX1jLnNpemUhPT1hLmxlbmd0aCYmdC5wdXNoKHtlcnJvcjpcIkx1bXAgaGFzIG5vbi11bmlxdWUgU2hlbGxzXCIsc291cmNlOltlXX0pfWVsc2UgdC5wdXNoKHtlcnJvcjpcIkx1bXAgaGFzIG5vIFNoZWxsc1wiLHNvdXJjZTpbZV19KTtyZXR1cm4gbyE9PWUuY29sbGVjdEZhY2VzKCkuc2l6ZSYmdC5wdXNoKHtlcnJvcjpcIkx1bXAgaGFzIFNoZWxscyB3aGljaCBzaGFyZSBGYWNlc1wiLHNvdXJjZTpbZV19KSxuIT09ZS5jb2xsZWN0RWRnZXMoKS5zaXplJiZ0LnB1c2goe2Vycm9yOlwiTHVtcCBoYXMgU2hlbGxzIHdoaWNoIHNoYXJlIEVkZ2VzXCIsc291cmNlOltlXX0pLHMhPT1lLmNvbGxlY3RWZXJ0aWNlcygpLnNpemUmJnQucHVzaCh7ZXJyb3I6XCJMdW1wIGhhcyBTaGVsbHMgd2hpY2ggc2hhcmUgVmVydGljZXNcIixzb3VyY2U6W2VdfSksdH1mdW5jdGlvbiBkKGUpe3ZhciB0PXUoZSkscj1lLmdldEx1bXAoKTtyJiZyLmdldFRvcG9sb2d5VHlwZSgpIT09aS5UT1BPTE9HWV9UWVBFUy5MVU1QJiZ0LnB1c2goe2Vycm9yOlwiU2hlbGwgaGFzIGludmFsaWQgcGFyZW50IEx1bXBcIixzb3VyY2U6W2VdfSk7dmFyIG89ZS5nZXRGYWNlcygpO2lmKG8ubGVuZ3RoPjApe2Zvcih2YXIgbj1uZXcgU2V0LHM9MDtzPG8ubGVuZ3RoOysrcyl7dmFyIGE9b1tzXTtuLmFkZChhKSxhJiZhLmdldFRvcG9sb2d5VHlwZSgpPT09aS5UT1BPTE9HWV9UWVBFUy5GQUNFP2EuZ2V0U2hlbGwoKSE9PWUmJnQucHVzaCh7ZXJyb3I6XCJTaGVsbCBpcyBub3QgdGhlIHBhcmVudCBvZiBjaGlsZCBGYWNlXCIsc291cmNlOltlLGFdfSk6dC5wdXNoKHtlcnJvcjpcIlNoZWxsIGhhcyBpbnZhbGlkIGVsZW1lbnQgaW4gRmFjZSBhcnJheVwiLHNvdXJjZTpbZSxhXX0pfW4uc2l6ZSE9PW8ubGVuZ3RoJiZ0LnB1c2goe2Vycm9yOlwiU2hlbGwgaGFzIG5vbi11bmlxdWUgRmFjZXNcIixzb3VyY2U6W2VdfSl9ZWxzZSB0LnB1c2goe2Vycm9yOlwiU2hlbGwgaGFzIG5vIEZhY2VzXCIsc291cmNlOltlXX0pOzEhPT0oMCxjLmZpbmRDb25uZWN0ZWRGYWNlcykoZS5nZXRGYWNlcygpKS5sZW5ndGgmJnQucHVzaCh7ZXJyb3I6XCJTaGVsbCBpcyBkaXNjb25uZWN0ZWRcIixzb3VyY2U6W2VdfSk7dmFyIGw9ZS5jb2xsZWN0VmVydGljZXMoKSxoPWUuY29sbGVjdEVkZ2VzKCksZD1uZXcgU2V0LHA9bmV3IFNldDtyZXR1cm4gbC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmNvbGxlY3RFZGdlcyhkKSxlLmNvbGxlY3RGYWNlcyhwKX0pKSxkLnNpemUhPT1oLnNpemUmJnQucHVzaCh7ZXJyb3I6XCJTaGVsbCBoYXMgcm9ndWUgZWRnZXNcIixzb3VyY2U6W2VdfSksbC5zaXplPjAmJnAuc2l6ZSE9PWUuZ2V0RmFjZXMoKS5sZW5ndGgmJnQucHVzaCh7ZXJyb3I6XCJTaGVsbCBoYXMgcm9ndWUgZmFjZXNcIixzb3VyY2U6W2VdfSksdH1mdW5jdGlvbiBwKGUpe3ZhciB0PXUoZSkscj1lLmdldFNoZWxsKCk7ciYmci5nZXRUb3BvbG9neVR5cGUoKSE9PWkuVE9QT0xPR1lfVFlQRVMuU0hFTEwmJnQucHVzaCh7ZXJyb3I6XCJGYWNlIGhhcyBpbnZhbGlkIHBhcmVudCBTaGVsbFwiLHNvdXJjZTpbZV19KTt2YXIgbz0wLG49MCxzPWUuZ2V0TG9vcHMoKSxjPWUuZ2V0U3VyZmFjZSgpO2lmKHMubGVuZ3RoPjApe2Zvcih2YXIgbD1uZXcgU2V0LGg9MDtoPHMubGVuZ3RoOysraCl7dmFyIGQ9c1toXTtsLmFkZChkKSxkJiZkLmdldFRvcG9sb2d5VHlwZSgpPT09aS5UT1BPTE9HWV9UWVBFUy5MT09QP2QuZ2V0RmFjZSgpIT09ZSYmdC5wdXNoKHtlcnJvcjpcIkZhY2UgaXMgbm90IHRoZSBwYXJlbnQgb2YgY2hpbGQgTG9vcFwiLHNvdXJjZTpbZSxkXX0pOnQucHVzaCh7ZXJyb3I6XCJGYWNlIGhhcyBpbnZhbGlkIGVsZW1lbnQgaW4gTG9vcCBhcnJheVwiLHNvdXJjZTpbZSxkXX0pLG8rPWQuY29sbGVjdEVkZ2VzKCkuc2l6ZSxuKz1kLmNvbGxlY3RWZXJ0aWNlcygpLnNpemV9bC5zaXplIT09cy5sZW5ndGgmJnQucHVzaCh7ZXJyb3I6XCJGYWNlIGhhcyBub24tdW5pcXVlIExvb3BzXCIsc291cmNlOltlXX0pfWVsc2V7dmFyIHA9Yy5nZXRHZW9tZXRyeVR5cGUoKT09PWkuR0VPTUVUUllfVFlQRVMuU1BIRVJFLGc9Yy5nZXRHZW9tZXRyeVR5cGUoKT09PWkuR0VPTUVUUllfVFlQRVMuVE9SVVMmJmMuaXNEb3VnaG51dCgpO3B8fGd8fHQucHVzaCh7ZXJyb3I6XCJGYWNlIGhhcyBubyBMb29wc1wiLHNvdXJjZTpbZV19KX1yZXR1cm4gbyE9PWUuY29sbGVjdEVkZ2VzKCkuc2l6ZSYmdC5wdXNoKHtlcnJvcjpcIkZhY2UgaGFzIExvb3BzIHdoaWNoIHNoYXJlIEVkZ2VzXCIsc291cmNlOltlXX0pLG4hPT1lLmNvbGxlY3RWZXJ0aWNlcygpLnNpemUmJnQucHVzaCh7ZXJyb3I6XCJGYWNlIGhhcyBMb29wcyB3aGljaCBzaGFyZSBWZXJ0aWNlc1wiLHNvdXJjZTpbZV19KSxjP2MgaW5zdGFuY2VvZiBhLlN1cmZhY2V8fHQucHVzaCh7ZXJyb3I6XCJGYWNlIGhhcyBpbnZhbGlkIFN1cmZhY2UgZ2VvbWV0cnlcIixzb3VyY2U6W2UsY119KTp0LnB1c2goe2Vycm9yOlwiRmFjZSBoYXMgbm8gU3VyZmFjZSBnZW9tZXRyeVwiLHNvdXJjZTpbZV19KSx0fWZ1bmN0aW9uIGcoZSl7dmFyIHQ9dShlKSxyPWUuZ2V0RmFjZSgpO3ImJnIuZ2V0VG9wb2xvZ3lUeXBlKCkhPT1pLlRPUE9MT0dZX1RZUEVTLkZBQ0UmJnQucHVzaCh7ZXJyb3I6XCJMb29wIGhhcyBpbnZhbGlkIHBhcmVudCBGYWNlXCIsc291cmNlOltlXX0pO3ZhciBvPWUuZ2V0Q29lZGdlcygpO2lmKG8ubGVuZ3RoPjApe2Zvcih2YXIgbj1uZXcgU2V0LHM9MDtzPG8ubGVuZ3RoOysrcyl7dmFyIGE9b1tzXTtpZihuLmFkZChhKSxhJiZhLmdldFRvcG9sb2d5VHlwZSgpPT09aS5UT1BPTE9HWV9UWVBFUy5DT0VER0Upe2EuZ2V0TG9vcCgpIT09ZSYmdC5wdXNoKHtlcnJvcjpcIkxvb3AgaXMgbm90IHRoZSBwYXJlbnQgb2YgY2hpbGQgQ29lZGdlXCIsc291cmNlOltlLGFdfSk7dmFyIGM9b1socysxKSVvLmxlbmd0aF07YS5nZXRFbmRWZXJ0ZXgoKSE9PWMuZ2V0U3RhcnRWZXJ0ZXgoKSYmdC5wdXNoKHtlcnJvcjpcIkxvb3AgaGFzIGRpc2Nvbm5lY3RlZCBDb2VkZ2VzXCIsc291cmNlOltlLGEsY119KX1lbHNlIHQucHVzaCh7ZXJyb3I6XCJMb29wIGhhcyBpbnZhbGlkIGVsZW1lbnQgaW4gQ29lZGdlIGFycmF5XCIsc291cmNlOltlLGFdfSl9bi5zaXplIT09by5sZW5ndGgmJnQucHVzaCh7ZXJyb3I6XCJMb29wIGhhcyBub24tdW5pcXVlIENvZWRnZXNcIixzb3VyY2U6W2VdfSl9ZWxzZSB0LnB1c2goe2Vycm9yOlwiTG9vcCBoYXMgbm8gQ29lZGdlc1wiLHNvdXJjZTpbZV19KTtyZXR1cm4gdH1mdW5jdGlvbiBmKGUpe3ZhciB0PXUoZSkscj1lLmdldExvb3AoKTtyJiZyLmdldFRvcG9sb2d5VHlwZSgpIT09aS5UT1BPTE9HWV9UWVBFUy5MT09QJiZ0LnB1c2goe2Vycm9yOlwiQ29lZGdlIGhhcyBpbnZhbGlkIHBhcmVudCBMb29wXCIsc291cmNlOltlXX0pO3ZhciBvPWUuZ2V0Qm9keSgpLG49bmV3IFNldCxzPWU7ZG97aWYobi5oYXMocykpe3QucHVzaCh7ZXJyb3I6XCJDb2VkZ2UgcGFydG5lciBsaXN0IGRvZXMgbm90IGZvcm0gYSBsb29wXCIsc291cmNlOltlXX0pO2JyZWFrfWlmKG4uYWRkKHMpLCFzLmdldFBhcnRuZXIoKSl7cyE9PWUmJnQucHVzaCh7ZXJyb3I6XCJDb2VkZ2UgaGFzIG5vIHBhcnRuZXJcIixzb3VyY2U6W2Usc119KTticmVha31pZigocz1zLmdldFBhcnRuZXIoKSkuZ2V0VG9wb2xvZ3lUeXBlKCkhPT1pLlRPUE9MT0dZX1RZUEVTLkNPRURHRSl7dC5wdXNoKHtlcnJvcjpcIkNvZWRnZSBoYXMgaW52YWxpZCBlbnRyeSBpbiBwYXJ0bmVyIGxpc3RcIixzb3VyY2U6W2Usc119KTticmVha31zLmdldEVkZ2UoKSE9PWUuZ2V0RWRnZSgpJiZ0LnB1c2goe2Vycm9yOlwiQ29lZGdlIHBhcnRuZXIgcmVmZXJzIHRvIGEgZGlmZmVyZW50IEVkZ2VcIixzb3VyY2U6W2Usc119KSxzLmdldEJvZHkoKSE9PW8mJnQucHVzaCh7ZXJyb3I6XCJDb2VkZ2UgcGFydG5lciBpcyBwYXJ0IG9mIGEgZGlmZmVyZW50IEJvZHlcIixzb3VyY2U6W2Usc119KX13aGlsZShzIT09ZSk7dmFyIGE9ZS5nZXRFZGdlKCk7cmV0dXJuIGE/YS5nZXRUb3BvbG9neVR5cGUoKSE9PWkuVE9QT0xPR1lfVFlQRVMuRURHRT90LnB1c2goe2Vycm9yOlwiQ29lZGdlIGhhcyBpbnZhbGlkIEVkZ2VcIixzb3VyY2U6W2UsYV19KToocz1hLmdldENvZWRnZSgpKSYmbi5oYXMocyl8fHQucHVzaCh7ZXJyb3I6XCJDb2VkZ2UgcGFydG5lciBsaXN0IGRvZXMgbm90IGluY2x1ZGUgcGFyZW50IG9mIEVkZ2VcIixzb3VyY2U6W2UsYV19KTp0LnB1c2goe2Vycm9yOlwiQ29lZGdlIGhhcyBubyBFZGdlXCIsc291cmNlOltlXX0pLHR9ZnVuY3Rpb24gdihlKXt2YXIgdD11KGUpLHI9ZS5nZXRDb2VkZ2UoKSxzPWUuZ2V0V2lyZSgpO3MmJnI/dC5wdXNoKHtlcnJvcjpcIkVkZ2UgaGFzIHRvbyBtYW55IHBhcmVudHMsIGJvdGggV2lyZSBhbmQgQ29lZGdlXCIsc291cmNlOltlXX0pOnM/cy5nZXRUb3BvbG9neVR5cGUoKSE9PWkuVE9QT0xPR1lfVFlQRVMuV0lSRSYmdC5wdXNoKHtlcnJvcjpcIkVkZ2UgaGFzIGludmFsaWQgcGFyZW50IFdpcmVcIixzb3VyY2U6W2VdfSk6ciYmci5nZXRUb3BvbG9neVR5cGUoKSE9PWkuVE9QT0xPR1lfVFlQRVMuQ09FREdFJiZ0LnB1c2goe2Vycm9yOlwiRWRnZSBoYXMgaW52YWxpZCBwYXJlbnQgQ29lZGdlXCIsc291cmNlOltlXX0pO2Zvcih2YXIgYT1lLmdldFZlcnRpY2VzKCksYz0wO2M8YS5sZW5ndGg7KytjKXt2YXIgbD1hW2NdO2wmJmwuZ2V0VG9wb2xvZ3lUeXBlKCk9PT1pLlRPUE9MT0dZX1RZUEVTLlZFUlRFWD9sLmlzQWRqYWNlbnRFZGdlKGUpfHx0LnB1c2goe2Vycm9yOlwiRWRnZSBpcyBub3QgYWRqYWNlbnQgdG8gb3duIFZlcnRleFwiLHNvdXJjZTpbZSxsXX0pOnQucHVzaCh7ZXJyb3I6XCJFZGdlIGhhcyBpbnZhbGlkIFZlcnRleFwiLHNvdXJjZTpbZSxsXX0pfXZhciBoPWUuZ2V0Q3VydmUoKTtyZXR1cm4gaD9oIGluc3RhbmNlb2Ygbi5DdXJ2ZT90PXQuY29uY2F0KGZ1bmN0aW9uKGUsdCl7dmFyIHI9W10sbj1lLmlzUmV2ZXJzZWQoKSxzPWUuZ2V0UmFuZ2UoKTtpZih2b2lkIDA9PT1zfHwyIT09cy5sZW5ndGh8fHZvaWQgMD09PXNbMF18fHZvaWQgMD09PXNbMV18fHNbMV08c1swXSlyZXR1cm4gci5wdXNoKHtlcnJvcjpcIkVkZ2UgcmFuZ2UgaXMgbm90IGRlZmluZWRcIixzb3VyY2U6W2Usc119KSxyO3ZhciBhPWUuZ2V0U3RhcnRWZXJ0ZXgoKSxjPW4/LWUudDAoKTplLnQwKCksdT10LmV2YWx1YXRlUG9zaXRpb24oYyksbD1NYXRoLm1heChpLktFUk5FTF9UT0xFUkFOQ0UsYS5nZXRQcmVjaXNpb24oKSk7by5WZWN0b3IzLmVxdWFscyhhLmdldFBvc2l0aW9uKCksdSxsKXx8ci5wdXNoKHtlcnJvcjpcIkVkZ2Ugc3RhcnQgcG9zaXRpb24gbm90IGNvbnNpc3RlbnQgd2l0aCBWZXJ0ZXhcIixzb3VyY2U6W2UsYSx1XX0pO3ZhciBoPWUuZ2V0RW5kVmVydGV4KCksZD1uPy1lLnQxKCk6ZS50MSgpLHA9dC5ldmFsdWF0ZVBvc2l0aW9uKGQpLGc9TWF0aC5tYXgoaS5LRVJORUxfVE9MRVJBTkNFLGguZ2V0UHJlY2lzaW9uKCkpO3JldHVybiBvLlZlY3RvcjMuZXF1YWxzKGguZ2V0UG9zaXRpb24oKSxwLGcpfHxyLnB1c2goe2Vycm9yOlwiRWRnZSBlbmQgcG9zaXRpb24gbm90IGNvbnNpc3RlbnQgd2l0aCBWZXJ0ZXhcIixzb3VyY2U6W2UsaCxwXX0pLGUuaXNDbG9zZWQoKT8oYSE9PWgmJnIucHVzaCh7ZXJyb3I6XCJFZGdlIGlzIGNsb3NlZCBidXQgaGFzIGRpZmZlcmVudCBzdGFydCBhbmQgZW5kIFZlcnRpY2VzXCIsc291cmNlOltlXX0pLG8uVmVjdG9yMy5lcXVhbHModSxwLGkuS0VSTkVMX1RPTEVSQU5DRSl8fHIucHVzaCh7ZXJyb3I6XCJFZGdlIGlzIGNsb3NlZCBidXQgaGFzIGRpZmZlcmVudCBzdGFydCBhbmQgZW5kIHBvc2l0aW9uc1wiLHNvdXJjZTpbZSx1LHBdfSksdC5pc0Nsb3NlZCgpfHxyLnB1c2goe2Vycm9yOlwiRWRnZSBpcyBjbG9zZWQgYnV0IGl0cyBjdXJ2ZSBpcyBub3RcIixzb3VyY2U6W2VdfSkpOihhPT09aCYmci5wdXNoKHtlcnJvcjpcIkVkZ2UgaXMgb3BlbiBidXQgaGFzIHNhbWUgc3RhcnQgYW5kIGVuZCBWZXJ0aWNlc1wiLHNvdXJjZTpbZV19KSxvLlZlY3RvcjMuZXF1YWxzKHUscCxpLktFUk5FTF9UT0xFUkFOQ0UpJiZyLnB1c2goe2Vycm9yOlwiRWRnZSBpcyBvcGVuIGJ1dCBoYXMgc2FtZSBzdGFydCBhbmQgZW5kIHBvc2l0aW9uc1wiLHNvdXJjZTpbZSx1LHBdfSkpLHQuaXNQZXJpb2RpYygpP01hdGguYWJzKGQtYyk+dC5nZXRQZXJpb2QoKStpLlBBUkFNRVRFUl9TUEFDRV9UT0xFUkFOQ0UmJnIucHVzaCh7ZXJyb3I6XCJFZGdlIHBhcmFtZXRlciByYW5nZSBpcyBsb25nZXIgdGhhbiBjdXJ2ZSBwZXJpb2RcIixzb3VyY2U6W2VdfSk6KChjK2kuUEFSQU1FVEVSX1NQQUNFX1RPTEVSQU5DRTx0LmdldFJhbmdlKClbMF18fGMtaS5QQVJBTUVURVJfU1BBQ0VfVE9MRVJBTkNFPnQuZ2V0UmFuZ2UoKVsxXSkmJnIucHVzaCh7ZXJyb3I6XCJFZGdlIHN0YXJ0IHBhcmFtZXRlciBpcyBvdXRzaWRlIG9mIGN1cnZlIHJhbmdlXCIsc291cmNlOltlXX0pLChkK2kuUEFSQU1FVEVSX1NQQUNFX1RPTEVSQU5DRTx0LmdldFJhbmdlKClbMF18fGQtaS5QQVJBTUVURVJfU1BBQ0VfVE9MRVJBTkNFPnQuZ2V0UmFuZ2UoKVsxXSkmJnIucHVzaCh7ZXJyb3I6XCJFZGdlIGVuZCBwYXJhbWV0ZXIgaXMgb3V0c2lkZSBvZiBjdXJ2ZSByYW5nZVwiLHNvdXJjZTpbZV19KSkscn0oZSxoKSk6dC5wdXNoKHtlcnJvcjpcIkVkZ2UgaGFzIGludmFsaWQgQ3VydmUgZ2VvbWV0cnlcIixzb3VyY2U6W2UsaF19KTp0PXQuY29uY2F0KGZ1bmN0aW9uKGUpe2lmKGUuZ2V0V2lyZSgpKXJldHVyblt7ZXJyb3I6XCJEZWdlbmVyYXRlIEVkZ2UgaXMgcGFydCBvZiBhIFdpcmVcIixzb3VyY2U6W2VdfV07aWYoZS5nZXRTdGFydFZlcnRleCgpIT09ZS5nZXRFbmRWZXJ0ZXgoKSlyZXR1cm5be2Vycm9yOlwiRGVnZW5lcmF0ZSBFZGdlIGhhcyBkaWZmZXJlbnQgc3RhcnQgYW5kIGVuZCB2ZXJ0aWNlc1wiLHNvdXJjZTpbZV19XTt2YXIgdD1BcnJheS5mcm9tKGUuY29sbGVjdEZhY2VzKCkpO2lmKDA9PT10Lmxlbmd0aClyZXR1cm5bXTtpZigxIT09dC5sZW5ndGgpcmV0dXJuW3tlcnJvcjpcIkRlZ2VuZXJhdGUgRWRnZSBpcyBwYXJ0IG9mIG11bHRpcGxlIEZhY2VzXCIsc291cmNlOltlXX1dO3ZhciByPWUuZ2V0U3RhcnRWZXJ0ZXgoKS5nZXRQb3NpdGlvbigpLG49dFswXS5nZXRTdXJmYWNlKCkscz1uLmdldEdlb21ldHJ5VHlwZSgpO2lmKHM9PT1pLkdFT01FVFJZX1RZUEVTLlBMQU5FfHxzPT09aS5HRU9NRVRSWV9UWVBFUy5DWUxJTkRFUnx8cz09PWkuR0VPTUVUUllfVFlQRVMuRUxMSVBUSUNBTF9DWUxJTkRFUnx8cz09PWkuR0VPTUVUUllfVFlQRVMuU1BIRVJFKXJldHVyblt7ZXJyb3I6XCJEZWdlbmVyYXRlIEVkZ2UgaXMgb24gYSBzdXJmYWNlIHdpdGggbm8gc2luZ3VsYXJpdGllc1wiLHNvdXJjZTpbZSxuXX1dO2lmKHM9PT1pLkdFT01FVFJZX1RZUEVTLkNPTkV8fHM9PT1pLkdFT01FVFJZX1RZUEVTLkVMTElQVElDQUxfQ09ORSl7aWYoIShsPW4uZ2V0QXBleFBvc2l0aW9uKCkpKXJldHVyblt7ZXJyb3I6XCJEZWdlbmVyYXRlIEVkZ2UgaXMgb24gYSBzdXJmYWNlIHdpdGggbm8gc2luZ3VsYXJpdGllc1wiLHNvdXJjZTpbZSxuXX1dO2lmKCFvLlZlY3RvcjMuZXF1YWxzKHIsbCxpLktFUk5FTF9UT0xFUkFOQ0UpKXJldHVyblt7ZXJyb3I6XCJEZWdlbmVyYXRlIEVkZ2UgaXMgbm90IGF0IGEgc3VyZmFjZSBzaW5ndWxhcml0eVwiLHNvdXJjZTpbZSxuXX1dfWVsc2V7aWYocyE9PWkuR0VPTUVUUllfVFlQRVMuVE9SVVMpcmV0dXJuW3tlcnJvcjpcIkRlZ2VuZXJhdGUgRWRnZSBpcyBub3Qgb24gYW4gYW5hbHl0aWMgc3VyZmFjZVwiLHNvdXJjZTpbZV19XTtmb3IodmFyIGE9ITEsYz1uLmdldFNpbmd1bGFyVVBhcmFtcygpLHU9MDt1PGMubGVuZ3RoOysrdSl7dmFyIGw9bi5ldmFsdWF0ZVBvc2l0aW9uKGNbdV0sMCk7by5WZWN0b3IzLmVxdWFscyhyLGwsaS5LRVJORUxfVE9MRVJBTkNFKSYmKGE9ITApfWlmKCFhKXJldHVyblt7ZXJyb3I6XCJEZWdlbmVyYXRlIEVkZ2UgaXMgbm90IGF0IGEgc3VyZmFjZSBzaW5ndWxhcml0eVwiLHNvdXJjZTpbZSxuXX1dfXJldHVybltdfShlKSksdH1mdW5jdGlvbiBfKGUpe3ZhciB0PXUoZSkscj1lLmdldEVkZ2VzKCk7aWYoci5sZW5ndGg+MClmb3IodmFyIG89ZS5nZXRCb2R5KCksbj0wO248ci5sZW5ndGg7KytuKXt2YXIgYT1yW25dO2EmJmEuZ2V0VG9wb2xvZ3lUeXBlKCk9PT1pLlRPUE9MT0dZX1RZUEVTLkVER0U/YS5nZXRTdGFydFZlcnRleCgpIT09ZSYmYS5nZXRFbmRWZXJ0ZXgoKSE9PWU/dC5wdXNoKHtlcnJvcjpcIlZlcnRleCBpcyBub3QgYW4gZW5kLXBvaW50IG9mIGFkamFjZW50IEVkZ2VcIixzb3VyY2U6W2UsYV19KTphLmdldEJvZHkoKSE9PW8mJnQucHVzaCh7ZXJyb3I6XCJWZXJ0ZXggaGFzIGFkamFjZW50IEVkZ2UgZnJvbSBhIGRpZmZlcmVudCBib2R5XCIsc291cmNlOltlLGFdfSk6dC5wdXNoKHtlcnJvcjpcIlZlcnRleCBoYXMgaW52YWxpZCBlbnRyeSBpbiBFZGdlIGxpc3RcIixzb3VyY2U6W2UsYV19KX1lbHNlIHQucHVzaCh7ZXJyb3I6XCJWZXJ0ZXggaGFzIG5vIGFkamFjZW50IEVkZ2VzXCIsc291cmNlOltlXX0pO3ZhciBjPWUuZ2V0UG9pbnQoKTtyZXR1cm4gYz9jIGluc3RhbmNlb2Ygcy5Qb2ludHx8dC5wdXNoKHtlcnJvcjpcIlZlcnRleCBoYXMgaW52YWxpZCBQb2ludCBnZW9tZXRyeVwiLHNvdXJjZTpbZSxjXX0pOnQucHVzaCh7ZXJyb3I6XCJWZXJ0ZXggaGFzIG5vIFBvaW50IGdlb21ldHJ5XCIsc291cmNlOltlXX0pLHR9ZnVuY3Rpb24geShlKXt2YXIgdD11KGUpLHI9MCxvPTAsbj1lLmdldFdpcmVzKCk7aWYobi5sZW5ndGg+MCl7Zm9yKHZhciBzPW5ldyBTZXQsYT0wO2E8bi5sZW5ndGg7KythKXt2YXIgYz1uW2FdO3MuYWRkKGMpLGMmJmMuZ2V0VG9wb2xvZ3lUeXBlKCk9PT1pLlRPUE9MT0dZX1RZUEVTLldJUkU/Yy5nZXRXaXJlQm9keSgpIT09ZSYmdC5wdXNoKHtlcnJvcjpcIldpcmVCb2R5IGlzIG5vdCB0aGUgcGFyZW50IG9mIGNoaWxkIFdpcmVcIixzb3VyY2U6W2UsY119KTp0LnB1c2goe2Vycm9yOlwiV2lyZUJvZHkgaGFzIGludmFsaWQgZWxlbWVudCBpbiBXaXJlIGFycmF5XCIsc291cmNlOltlLGNdfSkscis9Yy5jb2xsZWN0RWRnZXMoKS5zaXplLG8rPWMuY29sbGVjdFZlcnRpY2VzKCkuc2l6ZX1zLnNpemUhPT1uLmxlbmd0aCYmdC5wdXNoKHtlcnJvcjpcIldpcmVCb2R5IGhhcyBub24tdW5pcXVlIFdpcmVzXCIsc291cmNlOltlXX0pfWVsc2UgdC5wdXNoKHtlcnJvcjpcIldpcmVCb2R5IGhhcyBubyBXaXJlc1wiLHNvdXJjZTpbZV19KTtyZXR1cm4gciE9PWUuY29sbGVjdEVkZ2VzKCkuc2l6ZSYmdC5wdXNoKHtlcnJvcjpcIldpcmVCb2R5IGhhcyBXaXJlcyB3aGljaCBzaGFyZSBFZGdlc1wiLHNvdXJjZTpbZV19KSxvIT09ZS5jb2xsZWN0VmVydGljZXMoKS5zaXplJiZ0LnB1c2goe2Vycm9yOlwiV2lyZUJvZHkgaGFzIFdpcmVzIHdoaWNoIHNoYXJlIFZlcnRpY2VzXCIsc291cmNlOltlXX0pLHR9ZnVuY3Rpb24gbShlKXt2YXIgdD11KGUpLHI9ZS5nZXRXaXJlQm9keSgpO3ImJnIuZ2V0VG9wb2xvZ3lUeXBlKCkhPT1pLlRPUE9MT0dZX1RZUEVTLldJUkVCT0RZJiZ0LnB1c2goe2Vycm9yOlwiV2lyZSBoYXMgaW52YWxpZCBwYXJlbnQgV2lyZUJvZHlcIixzb3VyY2U6W2VdfSk7dmFyIG89ZS5nZXRFZGdlcygpO2lmKG8ubGVuZ3RoPjApe2Zvcih2YXIgbj1uZXcgU2V0LHM9MDtzPG8ubGVuZ3RoOysrcyl7dmFyIGE9b1tzXTtuLmFkZChhKSxhJiZhLmdldFRvcG9sb2d5VHlwZSgpPT09aS5UT1BPTE9HWV9UWVBFUy5FREdFP2EuZ2V0V2lyZSgpIT09ZSYmdC5wdXNoKHtlcnJvcjpcIldpcmUgaXMgbm90IHRoZSBwYXJlbnQgb2YgY2hpbGQgRWRnZVwiLHNvdXJjZTpbZSxhXX0pOnQucHVzaCh7ZXJyb3I6XCJXaXJlIGhhcyBpbnZhbGlkIGVsZW1lbnQgaW4gRWRnZSBhcnJheVwiLHNvdXJjZTpbZSxhXX0pfW4uc2l6ZSE9PW8ubGVuZ3RoJiZ0LnB1c2goe2Vycm9yOlwiV2lyZSBoYXMgbm9uLXVuaXF1ZSBFZGdlc1wiLHNvdXJjZTpbZV19KTt2YXIgbD0oMCxjLmZpbmRDb25uZWN0ZWRFZGdlcykobyk7MSE9PWwubGVuZ3RoP3QucHVzaCh7ZXJyb3I6XCJXaXJlIGlzIG5vdCBhIGNvbm5lY3RlZCBzZXQgb2YgRWRnZXNcIixzb3VyY2U6W2VdfSk6bFswXS5sZW5ndGghPT1vLmxlbmd0aCYmdC5wdXNoKHtlcnJvcjpcIldpcmUgaXMgY29ubmVjdGVkIHRvIG90aGVyIHVua25vd24gRWRnZXNcIixzb3VyY2U6W2VdfSl9ZWxzZSB0LnB1c2goe2Vycm9yOlwiV2lyZSBoYXMgbm8gRWRnZXNcIixzb3VyY2U6W2VdfSk7cmV0dXJuIHR9dC5jaGVja1ZhbGlkaXR5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyLG8sbj1bXSxzPVtlXSxhPW5ldyBTZXQsYz1uZXcgTWFwO3MubGVuZ3RoPjA7KXthLmNsZWFyKCk7dmFyIHU9bmV3IFNldDtmb3IodD0wO3Q8cy5sZW5ndGg7Kyt0KXtzd2l0Y2goKHI9c1t0XSkuZ2V0VG9wb2xvZ3lUeXBlKCkpe2Nhc2UgaS5UT1BPTE9HWV9UWVBFUy5CT0RZOm49bi5jb25jYXQobChyKSksci5nZXRMdW1wcygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2EuYWRkKGUpfSkpO2JyZWFrO2Nhc2UgaS5UT1BPTE9HWV9UWVBFUy5MVU1QOm49bi5jb25jYXQoaChyKSksci5nZXRTaGVsbHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXthLmFkZChlKX0pKTticmVhaztjYXNlIGkuVE9QT0xPR1lfVFlQRVMuU0hFTEw6bj1uLmNvbmNhdChkKHIpKSxyLmdldEZhY2VzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7YS5hZGQoZSl9KSk7YnJlYWs7Y2FzZSBpLlRPUE9MT0dZX1RZUEVTLkZBQ0U6bj1uLmNvbmNhdChwKHIpKSxyLmdldExvb3BzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7YS5hZGQoZSl9KSksci5nZXRTdXJmYWNlKCkmJnUuYWRkKHIuZ2V0U3VyZmFjZSgpKTticmVhaztjYXNlIGkuVE9QT0xPR1lfVFlQRVMuTE9PUDpuPW4uY29uY2F0KGcocikpLHIuZ2V0Q29lZGdlcygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2EuYWRkKGUpfSkpO2JyZWFrO2Nhc2UgaS5UT1BPTE9HWV9UWVBFUy5DT0VER0U6bj1uLmNvbmNhdChmKHIpKSxhLmFkZChyLmdldEVkZ2UoKSk7YnJlYWs7Y2FzZSBpLlRPUE9MT0dZX1RZUEVTLkVER0U6bj1uLmNvbmNhdCh2KHIpKSxyLmdldFZlcnRpY2VzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZSYmYS5hZGQoZSl9KSksci5nZXRDdXJ2ZSgpJiZ1LmFkZChyLmdldEN1cnZlKCkpO2JyZWFrO2Nhc2UgaS5UT1BPTE9HWV9UWVBFUy5WRVJURVg6bj1uLmNvbmNhdChfKHIpKSxyLmdldFBvaW50KCkmJnUuYWRkKHIuZ2V0UG9pbnQoKSk7YnJlYWs7Y2FzZSBpLlRPUE9MT0dZX1RZUEVTLldJUkVCT0RZOm49bi5jb25jYXQoeShyKSksci5nZXRXaXJlcygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2EuYWRkKGUpfSkpO2JyZWFrO2Nhc2UgaS5UT1BPTE9HWV9UWVBFUy5XSVJFOm49bi5jb25jYXQobShyKSksci5nZXRFZGdlcygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2EuYWRkKGUpfSkpfW89ci5nZXRHdWlkKCksYy5oYXMobyk/bi5wdXNoKHtlcnJvcjpcIk9iamVjdHMgaGF2ZSBjbGFzaGluZyBHVUlEc1wiLHNvdXJjZTpbcixjLmdldChvKV19KTpjLnNldChvLHIpfWZvcih1PUFycmF5LmZyb20odSksdD0wO3Q8dS5sZW5ndGg7Kyt0KW89KHI9dVt0XSkuZ2V0R3VpZCgpLGMuaGFzKG8pP24ucHVzaCh7ZXJyb3I6XCJPYmplY3RzIGhhdmUgY2xhc2hpbmcgR1VJRHNcIixzb3VyY2U6W3IsYy5nZXQobyldfSk6Yy5zZXQobyxyKTtzPUFycmF5LmZyb20oYSl9cmV0dXJuIG59fSw1NTEyOihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNpcmNsZT12b2lkIDA7dmFyIG89cigxOTcyKSxpPXIoMzM0NCksbj1yKDIzNTUpLHM9cigyNDY4KSxhPXIoMTQ3MiksYz1yKDU4OTYpLHU9cig0NzI4KSxsPXIoNDMzNiksaD1mdW5jdGlvbigpe2EuQ3VydmUuY2FsbCh0aGlzKSx0aGlzLl9jZW50ZXI9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjRGcm9tVmFsdWVzKDAsMCwwKSx0aGlzLl9ub3JtYWw9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjRGcm9tVmFsdWVzKDAsMCwxKSx0aGlzLl94QXhpcz1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXMoMSwwLDApLHRoaXMuX3lBeGlzPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcygwLDEsMCksdGhpcy5fcmFkaXVzPTF9OyhoLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGEuQ3VydmUucHJvdG90eXBlKSkuZ2V0R2VvbWV0cnlUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHMuR0VPTUVUUllfVFlQRVMuQ0lSQ0xFfSxoLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0LHIpe3UuQ29uc29sZVV0aWxzLmFzc2VydChvLlZlY3RvcjMuc3F1YXJlZExlbmd0aCh0KT5zLktFUk5FTF9UT0xFUkFOQ0Uqcy5LRVJORUxfVE9MRVJBTkNFKSx1LkNvbnNvbGVVdGlscy5hc3NlcnQoby5WZWN0b3IzLnNxdWFyZWRMZW5ndGgocik+cy5LRVJORUxfVE9MRVJBTkNFKnMuS0VSTkVMX1RPTEVSQU5DRSksdS5Db25zb2xlVXRpbHMuYXNzZXJ0KG8uVmVjdG9yMy5pc09ydGhvZ29uYWwodCxyLHMuS0VSTkVMX0FOR1VMQVJfVE9MRVJBTkNFKSksby5WZWN0b3IzLmNvcHkodGhpcy5fY2VudGVyLGUpLG8uVmVjdG9yMy5ub3JtYWxpemUodGhpcy5fbm9ybWFsLHQpLG8uVmVjdG9yMy5ub3JtYWxpemUodGhpcy5feEF4aXMsciksdGhpcy5fcmFkaXVzPW8uVmVjdG9yMy5sZW5ndGgociksdGhpcy5fY29tcHV0ZVlBeGlzKCl9LGgucHJvdG90eXBlLl9jb21wdXRlWUF4aXM9ZnVuY3Rpb24oKXtvLlZlY3RvcjMuY3Jvc3ModGhpcy5feUF4aXMsdGhpcy5fbm9ybWFsLHRoaXMuX3hBeGlzKX0saC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgaDtyZXR1cm4gZS5jb3B5KHRoaXMpLGV9LGgucHJvdG90eXBlLmdldENlbnRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jZW50ZXJ9LGgucHJvdG90eXBlLmdldE5vcm1hbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub3JtYWx9LGgucHJvdG90eXBlLnNldE5vcm1hbD1mdW5jdGlvbihlKXt1LkNvbnNvbGVVdGlscy5hc3NlcnQoby5WZWN0b3IzLnNxdWFyZWRMZW5ndGgoZSk+cy5LRVJORUxfVE9MRVJBTkNFKnMuS0VSTkVMX1RPTEVSQU5DRSksdGhpcy5fbm9ybWFsIT09ZSYmKG8uVmVjdG9yMy5ub3JtYWxpemUodGhpcy5fbm9ybWFsLGUpLG8uVmVjdG9yMy5pc09ydGhvZ29uYWwodGhpcy5feEF4aXMsdGhpcy5fbm9ybWFsKXx8KG8uVmVjdG9yMy5jb21wdXRlT3J0aG9nb25hbCh0aGlzLl94QXhpcyx0aGlzLl9ub3JtYWwpLG8uVmVjdG9yMy5ub3JtYWxpemUodGhpcy5feEF4aXMsdGhpcy5feEF4aXMpKSx0aGlzLl9jb21wdXRlWUF4aXMoKSl9LGgucHJvdG90eXBlLmdldFJhZGl1cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYWRpdXN9LGgucHJvdG90eXBlLnNldFJhZGl1cz1mdW5jdGlvbihlKXt1LkNvbnNvbGVVdGlscy5hc3NlcnQoZT5zLktFUk5FTF9UT0xFUkFOQ0UpLHRoaXMuX3JhZGl1cz1lfSxoLnByb3RvdHlwZS5zZXRDZW50ZXI9ZnVuY3Rpb24oZSl7by5WZWN0b3IzLmNvcHkodGhpcy5fY2VudGVyLGUpfSxoLnByb3RvdHlwZS5zZXRPcmlnaW49ZnVuY3Rpb24oZSl7dS5Db25zb2xlVXRpbHMuYXNzZXJ0KG8uVmVjdG9yMy5zcXVhcmVkTGVuZ3RoKGUpPnMuS0VSTkVMX1RPTEVSQU5DRSpzLktFUk5FTF9UT0xFUkFOQ0UpLHUuQ29uc29sZVV0aWxzLmFzc2VydChvLlZlY3RvcjMuaXNPcnRob2dvbmFsKGUsdGhpcy5fbm9ybWFsLHMuS0VSTkVMX0FOR1VMQVJfVE9MRVJBTkNFKSksby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl94QXhpcyxlKSx0aGlzLl9jb21wdXRlWUF4aXMoKX0saC5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlKXthLkN1cnZlLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlKSxvLlZlY3RvcjMuY29weSh0aGlzLl94QXhpcyxlLl94QXhpcyksby5WZWN0b3IzLmNvcHkodGhpcy5feUF4aXMsZS5feUF4aXMpLHRoaXMuX3JhZGl1cz1lLl9yYWRpdXMsby5WZWN0b3IzLmNvcHkodGhpcy5fY2VudGVyLGUuX2NlbnRlciksby5WZWN0b3IzLmNvcHkodGhpcy5fbm9ybWFsLGUuX25vcm1hbCl9LGgucHJvdG90eXBlLmdldFJhbmdlVW5saW1pdGVkPWZ1bmN0aW9uKCl7cmV0dXJuWy1NYXRoLlBJLE1hdGguUEldfSxoLnByb3RvdHlwZS5pc1BlcmlvZGljVW5saW1pdGVkPWZ1bmN0aW9uKCl7cmV0dXJuITB9LGgucHJvdG90eXBlLmlzQ2xvc2VkVW5saW1pdGVkPWZ1bmN0aW9uKCl7cmV0dXJuITB9LGgucHJvdG90eXBlLl9jb21wdXRlUmFkaXVzVmVjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIG8uVmVjdG9yMy5zY2FsZShvLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLHRoaXMuX3hBeGlzLHRoaXMuX3JhZGl1cyl9LGgucHJvdG90eXBlLnRlc3NlbGxhdGU9ZnVuY3Rpb24oZSx0KXt0PXR8fHMuVEVTU0VMTEFUSU9OLkxJTkVBUl9QUkVDSVNJT047dmFyIHI9e3Bvc2l0aW9uczpbXSxvZmZzZXRzOltdLHRvbGVyYW5jZTowfTtyLm9mZnNldHMucHVzaCgwKTtmb3IodmFyIG89ZVswXSxpPTE7aTxlLmxlbmd0aDsrK2kpe3ZhciBuPWVbaV0sYT1sLkN1cnZlVGVzc2VsbGF0b3IuZ2V0Q2lyY3VsYXJBcmNSZW5kZXJQb2ludHModGhpcyxbbyxuXSx0LDE9PT1pLHIucG9zaXRpb25zKTtyLm9mZnNldHMucHVzaChyLnBvc2l0aW9ucy5sZW5ndGgtMSksbz1uLHIudG9sZXJhbmNlPU1hdGgubWF4KHIudG9sZXJhbmNlLGEpfXJldHVybiByfSxoLnByb3RvdHlwZS5ldmFsdWF0ZVBvc2l0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcygwLDAsMCk7cmV0dXJuIG8uVmVjdG9yMy5zY2FsZUFuZEFkZCh0LHQsdGhpcy5feEF4aXMsTWF0aC5jb3MoZSkqdGhpcy5fcmFkaXVzKSxvLlZlY3RvcjMuc2NhbGVBbmRBZGQodCx0LHRoaXMuX3lBeGlzLE1hdGguc2luKGUpKnRoaXMuX3JhZGl1cyksby5WZWN0b3IzLmFkZCh0LHQsdGhpcy5fY2VudGVyKSx0fSxoLnByb3RvdHlwZS5ldmFsdWF0ZUR0PWZ1bmN0aW9uKGUpe3ZhciB0PW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcygwLDAsMCk7cmV0dXJuIG8uVmVjdG9yMy5zY2FsZUFuZEFkZCh0LHQsdGhpcy5feEF4aXMsLU1hdGguc2luKGUpKnRoaXMuX3JhZGl1cyksby5WZWN0b3IzLnNjYWxlQW5kQWRkKHQsdCx0aGlzLl95QXhpcyxNYXRoLmNvcyhlKSp0aGlzLl9yYWRpdXMpLHR9LGgucHJvdG90eXBlLmV2YWx1YXRlRHR0PWZ1bmN0aW9uKGUpe3ZhciB0PW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcygwLDAsMCk7cmV0dXJuIG8uVmVjdG9yMy5zY2FsZUFuZEFkZCh0LHQsdGhpcy5feEF4aXMsLU1hdGguY29zKGUpKnRoaXMuX3JhZGl1cyksby5WZWN0b3IzLnNjYWxlQW5kQWRkKHQsdCx0aGlzLl95QXhpcywtTWF0aC5zaW4oZSkqdGhpcy5fcmFkaXVzKSx0fSxoLnByb3RvdHlwZS50YW5nZW50TGVuZ3RoPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldFJhZGl1cygpfSxoLnByb3RvdHlwZS5nZXRBcmNMZW5ndGg9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWU/ZT10aGlzLmdldFJhbmdlKCk6MD09PWUubGVuZ3RoJiYoZT10aGlzLmdldFJhbmdlVW5saW1pdGVkKCkpLHRoaXMuZ2V0UmFkaXVzKCkqKGVbMV0tZVswXSl9LGgucHJvdG90eXBlLmdldFBhcmFtZXRlckZyb21BcmNMZW5ndGg9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10P3Q9dGhpcy5nZXRSYW5nZSgpOjA9PT10Lmxlbmd0aCYmKHQ9dGhpcy5nZXRSYW5nZVVubGltaXRlZCgpKTt2YXIgcj10WzBdK2UvdGhpcy5nZXRSYWRpdXMoKTtyZXR1cm4oMCxjLmNsYW1wKShyLHRbMF0sdFsxXSl9LGgucHJvdG90eXBlLmdldEJvdW5kaW5nQm94PWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWU/ZT10aGlzLmdldFJhbmdlKCk6MD09PWUubGVuZ3RoJiYoZT10aGlzLmdldFJhbmdlVW5saW1pdGVkKCkpO3ZhciB0PSgwLGMubWluTWF4Q29zU2luRnVuYykodGhpcy5feEF4aXNbMF0qdGhpcy5fcmFkaXVzLHRoaXMuX3lBeGlzWzBdKnRoaXMuX3JhZGl1cyx0aGlzLl9jZW50ZXJbMF0sZSkscj0oMCxjLm1pbk1heENvc1NpbkZ1bmMpKHRoaXMuX3hBeGlzWzFdKnRoaXMuX3JhZGl1cyx0aGlzLl95QXhpc1sxXSp0aGlzLl9yYWRpdXMsdGhpcy5fY2VudGVyWzFdLGUpLG89KDAsYy5taW5NYXhDb3NTaW5GdW5jKSh0aGlzLl94QXhpc1syXSp0aGlzLl9yYWRpdXMsdGhpcy5feUF4aXNbMl0qdGhpcy5fcmFkaXVzLHRoaXMuX2NlbnRlclsyXSxlKSxuPW5ldyBpLkJvdW5kaW5nQm94O3JldHVybiBuLm1pblswXT10WzBdLG4ubWF4WzBdPXRbMV0sbi5taW5bMV09clswXSxuLm1heFsxXT1yWzFdLG4ubWluWzJdPW9bMF0sbi5tYXhbMl09b1sxXSxufSxoLnByb3RvdHlwZS5nZXRUYW5nZW50Q29uZT1mdW5jdGlvbihlKXt2b2lkIDA9PT1lP2U9dGhpcy5nZXRSYW5nZSgpOjA9PT1lLmxlbmd0aCYmKGU9dGhpcy5nZXRSYW5nZVVubGltaXRlZCgpKTt2YXIgdD0uNSooZVswXStlWzFdKSxyPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcygwLDAsMCk7by5WZWN0b3IzLnNjYWxlQW5kQWRkKHIscix0aGlzLl94QXhpcywtTWF0aC5zaW4odCkpLG8uVmVjdG9yMy5zY2FsZUFuZEFkZChyLHIsdGhpcy5feUF4aXMsTWF0aC5jb3ModCkpO3ZhciBpPU1hdGgubWluKE1hdGguUEksLjUqKGVbMV0tZVswXSkpO3JldHVybiBuZXcgbi5UYW5nZW50Q29uZShyLGkpfSxoLnByb3RvdHlwZS5jbG9zZXN0VG9SYXlQYXJhbT1mdW5jdGlvbihlLHQscil7dmFyIGk9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtvLlZlY3RvcjMuc3ViKGksdGhpcy5fY2VudGVyLGUpO3ZhciBuPW8uVmVjdG9yMy5kb3QoaSx0aGlzLl9ub3JtYWwpL28uVmVjdG9yMy5kb3QodCx0aGlzLl9ub3JtYWwpO2lmKGlzRmluaXRlKG4pKXt2YXIgcz1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpO3JldHVybiBvLlZlY3RvcjMuc2NhbGVBbmRBZGQocyxlLHQsbiksdGhpcy5jbG9zZXN0VG9Qb2ludFBhcmFtKHMscil9fSxoLnByb3RvdHlwZS5nZXRSYWRpdXNBbmRSYW5nZUZyb21FbmRwb2ludHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7by5WZWN0b3IzLnN1YihpLGUsdGhpcy5fY2VudGVyKTt2YXIgbj1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpO28uVmVjdG9yMy5zdWIobix0LHRoaXMuX2NlbnRlcik7dmFyIGEsdT0uNSooby5WZWN0b3IzLmxlbmd0aChpKStvLlZlY3RvcjMubGVuZ3RoKG4pKSxsPW8uVmVjdG9yMy5kb3QoaSx0aGlzLl94QXhpcyksaD1vLlZlY3RvcjMuZG90KGksdGhpcy5feUF4aXMpLGQ9KDAsYy5ub3JtYWxpemVBbmdsZSkoTWF0aC5hdGFuMihoLGwpKTtpZihlPT09dHx8by5WZWN0b3IzLnNxdWFyZWREaXN0YW5jZShlLHQpPHMuS0VSTkVMX1RPTEVSQU5DRSpzLktFUk5FTF9UT0xFUkFOQ0UpYT1kK2MuUEkyO2Vsc2V7dmFyIHA9by5WZWN0b3IzLmRvdChuLHRoaXMuX3hBeGlzKSxnPW8uVmVjdG9yMy5kb3Qobix0aGlzLl95QXhpcyk7aWYoKGE9KDAsYy5ub3JtYWxpemVBbmdsZSkoTWF0aC5hdGFuMihnLHApKSk8ZCYmKGErPWMuUEkyKSxyKXt2YXIgZj1hO2E9ZCxkPWYtYy5QSTJ9fXJldHVybntyYWRpdXM6dSxyYW5nZTpbZCxhXX19LGgucHJvdG90eXBlLmNsb3Nlc3RUb1BvaW50UGFyYW09ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10P3Q9dGhpcy5nZXRSYW5nZSgpOjA9PT10Lmxlbmd0aCYmKHQ9dGhpcy5nZXRSYW5nZVVubGltaXRlZCgpKTt2YXIgcj1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpO28uVmVjdG9yMy5zdWIocixlLHRoaXMuX2NlbnRlcik7dmFyIGksbj1vLlZlY3RvcjMuZG90KHIsdGhpcy5feEF4aXMpLGE9by5WZWN0b3IzLmRvdChyLHRoaXMuX3lBeGlzKTtyZXR1cm4gaT1uKm4rYSphPHMuS0VSTkVMX1RPTEVSQU5DRSpzLktFUk5FTF9UT0xFUkFOQ0U/LjUqTWF0aC5QSTpNYXRoLmF0YW4yKGEsbiksaT0oMCxjLmZvbGROZWFyVG8pKGksLjUqKHRbMF0rdFsxXSksMipNYXRoLlBJKSxpPSgwLGMuY2xhbXApKGksdFswXSx0WzFdKX0saC5wcm90b3R5cGUudHJhbnNmb3JtPWZ1bmN0aW9uKGUpe28uVmVjdG9yMy50cmFuc2Zvcm1NYXRyaXg0NCh0aGlzLl9jZW50ZXIsdGhpcy5fY2VudGVyLGUpLG8uVmVjdG9yMy50cmFuc2Zvcm1Bc0RpcmVjdGlvbk1hdHJpeDQ0KHRoaXMuX25vcm1hbCx0aGlzLl9ub3JtYWwsZSksby5WZWN0b3IzLnNjYWxlKHRoaXMuX3hBeGlzLHRoaXMuX3hBeGlzLHRoaXMuX3JhZGl1cyksby5WZWN0b3IzLnRyYW5zZm9ybUFzRGlyZWN0aW9uTWF0cml4NDQodGhpcy5feEF4aXMsdGhpcy5feEF4aXMsZSksdGhpcy5fcmFkaXVzPW8uVmVjdG9yMy5sZW5ndGgodGhpcy5feEF4aXMpLG8uVmVjdG9yMy5ub3JtYWxpemUodGhpcy5fbm9ybWFsLHRoaXMuX25vcm1hbCksby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl94QXhpcyx0aGlzLl94QXhpcyksdGhpcy5fY29tcHV0ZVlBeGlzKCl9LGgucHJvdG90eXBlLnN1Z2dlc3RTcGxpdHRpbmdQYXJhbT1mdW5jdGlvbihlKXt9LGgucHJvdG90eXBlLnRvT2JqZWN0PWZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzLmV2YWx1YXRlUG9zaXRpb24oMCk7cmV0dXJuIG8uVmVjdG9yMy5zdWIoZSxlLHRoaXMuZ2V0Q2VudGVyKCkpLHtjZW50ZXI6dGhpcy52ZWN0b3JUb09iamVjdCh0aGlzLl9jZW50ZXIpLHJhZGl1czp0aGlzLnZlY3RvclRvT2JqZWN0KGUpLG5vcm1hbDp0aGlzLnZlY3RvclRvT2JqZWN0KHRoaXMuX25vcm1hbCkscmFuZ2U6dGhpcy5yYW5nZVRvT2JqZWN0KHRoaXMuZ2V0UmFuZ2UoKSx0aGlzLmlzTGltaXRlZCgpKX19LHQuQ2lyY2xlPWh9LDY3MjooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Db2VkZ2U9dm9pZCAwO3ZhciBvPXIoMTk3MiksaT1yKDk1NDcpLG49cigyNDY4KSxzPXIoNDcyOCksYT1yKDU4OTYpLGM9cig1NDE2KSx1PWZ1bmN0aW9uKGUpe2kuQmFzZVRvcG9sb2d5LmNhbGwodGhpcyksdGhpcy5fcmV2ZXJzZWQ9ITEsdGhpcy5fZWRnZT1lLHRoaXMuX2xvb3A9dm9pZCAwLHRoaXMuX3BhcnRuZXI9dm9pZCAwLHRoaXMuX3V2Q3VydmU9dm9pZCAwfTsodS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpLkJhc2VUb3BvbG9neS5wcm90b3R5cGUpKS5nZXRUb3BvbG9neVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gbi5UT1BPTE9HWV9UWVBFUy5DT0VER0V9LHUucHJvdG90eXBlLmdldEVkZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZWRnZX0sdS5wcm90b3R5cGUuZ2V0TG9vcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb29wfSx1LnByb3RvdHlwZS5nZXRQYXJ0bmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhcnRuZXJ9LHUucHJvdG90eXBlLnNldEVkZ2U9ZnVuY3Rpb24oZSl7dGhpcy5fZWRnZT1lfSx1LnByb3RvdHlwZS5zZXRMb29wPWZ1bmN0aW9uKGUpe3RoaXMuX2xvb3A9ZX0sdS5wcm90b3R5cGUuc2V0UGFydG5lcj1mdW5jdGlvbihlKXt0aGlzLl9wYXJ0bmVyPWV9LHUucHJvdG90eXBlLmdldFN0YXJ0VmVydGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JldmVyc2VkP3RoaXMuX2VkZ2UuZ2V0RW5kVmVydGV4KCk6dGhpcy5fZWRnZS5nZXRTdGFydFZlcnRleCgpfSx1LnByb3RvdHlwZS5nZXRFbmRWZXJ0ZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmV2ZXJzZWQ/dGhpcy5fZWRnZS5nZXRTdGFydFZlcnRleCgpOnRoaXMuX2VkZ2UuZ2V0RW5kVmVydGV4KCl9LHUucHJvdG90eXBlLmdldEZhY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9vcD90aGlzLl9sb29wLmdldEZhY2UoKTp2b2lkIDB9LHUucHJvdG90eXBlLmdldE5leHQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9sb29wKXt2YXIgZT10aGlzLl9sb29wLmdldENvZWRnZXMoKSx0PWUuaW5kZXhPZih0aGlzKTtyZXR1cm4gcy5Db25zb2xlVXRpbHMuYXNzZXJ0KHQ+PTApLGVbKHQrMSklZS5sZW5ndGhdfX0sdS5wcm90b3R5cGUuZ2V0UHJldmlvdXM9ZnVuY3Rpb24oKXtpZih0aGlzLl9sb29wKXt2YXIgZT10aGlzLl9sb29wLmdldENvZWRnZXMoKSx0PWUuaW5kZXhPZih0aGlzKTtyZXR1cm4gcy5Db25zb2xlVXRpbHMuYXNzZXJ0KHQ+PTApLGVbKDAsYS5tb2R1bHVzKSh0LTEsZS5sZW5ndGgpXX19LHUucHJvdG90eXBlLmlzUmV2ZXJzZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmV2ZXJzZWR9LHUucHJvdG90eXBlLnNldFJldmVyc2VkPWZ1bmN0aW9uKGUpe3RoaXMuX3JldmVyc2VkPWV9LHUucHJvdG90eXBlLmdldFJhbmdlPWZ1bmN0aW9uKCl7aWYodGhpcy5fZWRnZSlyZXR1cm4gdGhpcy5fcmV2ZXJzZWQ/Wy10aGlzLl9lZGdlLnQxKCksLXRoaXMuX2VkZ2UudDAoKV06W3RoaXMuX2VkZ2UudDAoKSx0aGlzLl9lZGdlLnQxKCldfSx1LnByb3RvdHlwZS50MD1mdW5jdGlvbigpe2lmKHRoaXMuX2VkZ2UpcmV0dXJuIHRoaXMuX3JldmVyc2VkPy10aGlzLl9lZGdlLnQxKCk6dGhpcy5fZWRnZS50MCgpfSx1LnByb3RvdHlwZS50MT1mdW5jdGlvbigpe2lmKHRoaXMuX2VkZ2UpcmV0dXJuIHRoaXMuX3JldmVyc2VkPy10aGlzLl9lZGdlLnQwKCk6dGhpcy5fZWRnZS50MSgpfSx1LnByb3RvdHlwZS5ldmFsdWF0ZVBvc2l0aW9uPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2VkZ2UpcmV0dXJuIHRoaXMuaXNSZXZlcnNlZCgpJiYoZT0tZSksdGhpcy5fZWRnZS5ldmFsdWF0ZVBvc2l0aW9uKGUpfSx1LnByb3RvdHlwZS5ldmFsdWF0ZUR0PWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2VkZ2Upe3RoaXMuaXNSZXZlcnNlZCgpJiYoZT0tZSk7dmFyIHQ9dGhpcy5fZWRnZS5ldmFsdWF0ZUR0KGUpO3JldHVybiB0aGlzLmlzUmV2ZXJzZWQoKSYmby5WZWN0b3IzLm5lZ2F0ZSh0LHQpLHR9fSx1LnByb3RvdHlwZS5ldmFsdWF0ZUN1cnZhdHVyZT1mdW5jdGlvbihlLHQpe2lmKHRoaXMuX2VkZ2UpcmV0dXJuIHRoaXMuaXNSZXZlcnNlZCgpJiYoZT0tZSksdGhpcy5fZWRnZS5ldmFsdWF0ZUN1cnZhdHVyZShlLHQpfSx1LnByb3RvdHlwZS5ldmFsdWF0ZUZhY2VVVj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldEZhY2UoKTtpZih0KXt2YXIgcj10aGlzLmV2YWx1YXRlUG9zaXRpb24oZSk7cmV0dXJuIHQuY2xvc2VzdFBhcmFtKHIpfX0sdS5wcm90b3R5cGUuZXZhbHVhdGVJbndhcmREaXJlY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRGYWNlKCk7aWYodCl7dmFyIHI9dGhpcy5ldmFsdWF0ZUR0KGUpLGk9dGhpcy5ldmFsdWF0ZUZhY2VVVihlKSxuPXQuZXZhbHVhdGVOb3JtYWwoaS51LGkudikscz1bMCwwLDBdO3JldHVybiBvLlZlY3RvcjMuY3Jvc3MocyxuLHIpLG8uVmVjdG9yMy5ub3JtYWxpemUocyxzKSxzfX0sdS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3g9ZnVuY3Rpb24oKXtpZih0aGlzLl9lZGdlKXJldHVybiB0aGlzLl9lZGdlLmdldEJvdW5kaW5nQm94KCl9LHUucHJvdG90eXBlLmdlbmVyYXRlVVZDdXJ2ZT1mdW5jdGlvbihlKXtpZighdGhpcy5fdXZDdXJ2ZSYmdGhpcy5fZWRnZSl7dmFyIHQ9dGhpcy5fZWRnZS5nZXRDdXJ2ZSgpO2lmKHQmJnRoaXMuX2xvb3AmJnRoaXMuX2xvb3AuZ2V0RmFjZSgpKXt2YXIgcj10aGlzLl9sb29wLmdldEZhY2UoKS5nZXRTdXJmYWNlKCk7ciYmci5nZXRHZW9tZXRyeVR5cGUoKT09PW4uR0VPTUVUUllfVFlQRVMuUExBTkUmJihlfHwoZT0oMCxhLmdldFBsYW5lVHJhbnNmb3JtcykocikudGhyZWVTcGFjZVRvVVYpLGU/KHRoaXMuX3V2Q3VydmU9dC5jbG9uZSgpLHRoaXMuX3V2Q3VydmUudHJhbnNmb3JtKGUpKTp0aGlzLl91dkN1cnZlPXQpfX19LHUucHJvdG90eXBlLnJlc2V0VVZDdXJ2ZT1mdW5jdGlvbigpe3RoaXMuX3V2Q3VydmU9dm9pZCAwfSx1LnByb3RvdHlwZS51dkFuZ2xlU3VidGVuZGVkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2xvb3AuZ2V0RmFjZSgpLmdldFN1cmZhY2UoKS5jbG9zZXN0UGFyYW0oZSkscj1bdC51LHQudiwwXTt0aGlzLmdlbmVyYXRlVVZDdXJ2ZSgpLHMuQ29uc29sZVV0aWxzLmFzc2VydCh0aGlzLl91dkN1cnZlKTt2YXIgaT10aGlzLmdldFJhbmdlKCksdT0xO3RoaXMuaXNSZXZlcnNlZCgpIT09dGhpcy5fZWRnZS5pc1JldmVyc2VkKCkmJihpPVstaVsxXSwtaVswXV0sdT0tMSksdGhpcy5fbG9vcCYmdGhpcy5fbG9vcC5nZXRGYWNlKCkmJnRoaXMuX2xvb3AuZ2V0RmFjZSgpLmlzUmV2ZXJzZWQoKSYmKHUqPS0xKTt2YXIgbD0hMSxoPXRoaXMuX3V2Q3VydmUuZ2V0UmFuZ2UoKTt0aGlzLl91dkN1cnZlLmlzQ2xvc2VkKCkmJmlbMV0taVswXT49aFsxXS1oWzBdLTIqbi5QQVJBTUVURVJfU1BBQ0VfVE9MRVJBTkNFJiYobD0hMCk7dmFyIGQ9dGhpcy5fdXZDdXJ2ZS5ldmFsdWF0ZVBvc2l0aW9uKGlbMF0pLHA9dGhpcy5fdXZDdXJ2ZS5ldmFsdWF0ZVBvc2l0aW9uKGlbMV0pLGc9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtvLlZlY3RvcjMuc3ViKGcsZCxyKSxvLlZlY3RvcjMubm9ybWFsaXplKGcsZyk7dmFyIGY9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtvLlZlY3RvcjMuc3ViKGYscCxyKSxvLlZlY3RvcjMubm9ybWFsaXplKGYsZik7dmFyIHY9KDAsYS5nZXRTaWduZWRBbmdsZSkoZyxmKSxfPXY8MCx5PSExLG09ITE7c3dpdGNoKHRoaXMuX2VkZ2UuZ2V0Q3VydmVUeXBlKCkpe2Nhc2Ugbi5HRU9NRVRSWV9UWVBFUy5MSU5FOmJyZWFrO2Nhc2Ugbi5HRU9NRVRSWV9UWVBFUy5DSVJDTEU6bT10aGlzLl91dkN1cnZlLmdldE5vcm1hbCgpWzJdPjAseT1vLlZlY3RvcjMuZGlzdGFuY2Uocix0aGlzLl91dkN1cnZlLmdldENlbnRlcigpKTx0aGlzLl91dkN1cnZlLmdldFJhZGl1cygpLGx8fCh5PXkmJl8hPT1tKTticmVhaztjYXNlIG4uR0VPTUVUUllfVFlQRVMuRUxMSVBTRTptPXRoaXMuX3V2Q3VydmUuZ2V0Tm9ybWFsKClbMl0+MDt2YXIgRT1vLlZlY3RvcjMuc3ViKFswLDAsMF0scix0aGlzLl91dkN1cnZlLmdldENlbnRlcigpKSx4PW8uVmVjdG9yMy5kb3QoRSx0aGlzLl91dkN1cnZlLmdldE1ham9yQXhpcygpKS90aGlzLl91dkN1cnZlLmdldE1ham9yUmFkaXVzKCksUj1vLlZlY3RvcjMuZG90KEUsdGhpcy5fdXZDdXJ2ZS5nZXRNaW5vckF4aXMoKSkvdGhpcy5fdXZDdXJ2ZS5nZXRNaW5vclJhZGl1cygpO3k9eCp4K1IqUjw9MSxsfHwoeT15JiZfIT09bSk7YnJlYWs7Y2FzZSBuLkdFT01FVFJZX1RZUEVTLkJDVVJWRTp0aGlzLl91dkN1cnZlLmlzUGxhbmFyWFkoKXx8Y29uc29sZS53YXJuKFwiVW5zdXBwb3J0ZWQgbm9uLXBsYW5hciBjdXJ2ZSBmb3IgdXZBbmdsZVN1YnRlbmRlZFwiKTt2YXIgQT1bclswXSxyWzFdXTt5PWMuU3BsaW5lQ3VydmVIZWxwZXIuaXNQb2ludEluc2lkZVNwbGluZVJlZ2lvblhZUGxhbmFyM0QoQSx0aGlzLl91dkN1cnZlLGkpLG09ITA7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBjdXJ2ZSB0eXBlIGZvciB1dkFuZ2xlU3VidGVuZGVkXCIpfXJldHVybiBsP3Y9eT8yKk1hdGguUEkqKG0/LTE6MSk6MDp5JiYodjwwP3Y9MipNYXRoLlBJK3Y6di09MipNYXRoLlBJKSx2KnV9LHUucHJvdG90eXBlLmdldEJvZHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9vcD90aGlzLl9sb29wLmdldEJvZHkoKTp2b2lkIDB9LHUucHJvdG90eXBlLmNvbGxlY3RGYWNlcz1mdW5jdGlvbihlKXtyZXR1cm4gZT1lfHxuZXcgU2V0LHRoaXMuX2xvb3AmJnRoaXMuX2xvb3AuY29sbGVjdEZhY2VzKGUpLGV9LHUucHJvdG90eXBlLmNvbGxlY3RFZGdlcz1mdW5jdGlvbihlKXtyZXR1cm4gZT1lfHxuZXcgU2V0LHRoaXMuX2VkZ2UmJmUuYWRkKHRoaXMuX2VkZ2UpLGV9LHUucHJvdG90eXBlLmNvbGxlY3RWZXJ0aWNlcz1mdW5jdGlvbihlKXtyZXR1cm4gZT1lfHxuZXcgU2V0LHRoaXMuX2VkZ2UmJnRoaXMuX2VkZ2UuY29sbGVjdFZlcnRpY2VzKGUpLGV9LHUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJDb2VkZ2VcIn0sdS5wcm90b3R5cGUudG9PYmplY3Q9ZnVuY3Rpb24oKXtyZXR1cm57ZWRnZTp0aGlzLnJlZlRvU3RyaW5nKHRoaXMuX2VkZ2UpLHBhcnRuZXI6dGhpcy5yZWZUb1N0cmluZyh0aGlzLl9wYXJ0bmVyKSxyZXZlcnNlZDp0aGlzLl9yZXZlcnNlZCxhdHRyaWJ1dGVzOnRoaXMucmVmc1RvU3RyaW5ncyh0aGlzLl9hdHRyaWJ1dGVzKX19LHUucHJvdG90eXBlLmFkZFRvTW9kZWxPYmplY3Q9ZnVuY3Rpb24oZSl7dGhpcy5hZGRBbGxUb01vZGVsT2JqZWN0KGUsW3RoaXMuX2VkZ2UsdGhpcy5fYXR0cmlidXRlc10pfSx0LkNvZWRnZT11fSwyOTg0OihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNvbmU9dm9pZCAwO3ZhciBvPXIoMTk3MiksaT1yKDMzNDQpLG49cigyNDY4KSxzPXIoNDEyKSxhPXIoMzU2NSksYz1yKDEwOTYpLHU9cig1NTEyKSxsPXIoNDcyOCksaD1mdW5jdGlvbigpe3MuU3VyZmFjZS5jYWxsKHRoaXMpLHRoaXMuX2NlbnRlcj1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLHRoaXMuX3JhZGl1cz0wLHRoaXMuX2FuZ2xlPTAsdGhpcy5fdVNjYWxlPTEsdGhpcy5feEF4aXM9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSx0aGlzLl95QXhpcz1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLHRoaXMuX3pBeGlzPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCl9OyhoLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHMuU3VyZmFjZS5wcm90b3R5cGUpKS5nZXRHZW9tZXRyeVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gbi5HRU9NRVRSWV9UWVBFUy5DT05FfSxoLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBoO3JldHVybiBlLmNvcHkodGhpcyksZX0saC5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlKXtzLlN1cmZhY2UucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMuX3JhZGl1cz1lLl9yYWRpdXMsdGhpcy5fYW5nbGU9ZS5fYW5nbGUsdGhpcy5fdVNjYWxlPWUuX3VTY2FsZSxvLlZlY3RvcjMuY29weSh0aGlzLl9jZW50ZXIsZS5fY2VudGVyKSxvLlZlY3RvcjMuY29weSh0aGlzLl94QXhpcyxlLl94QXhpcyksby5WZWN0b3IzLmNvcHkodGhpcy5feUF4aXMsZS5feUF4aXMpLG8uVmVjdG9yMy5jb3B5KHRoaXMuX3pBeGlzLGUuX3pBeGlzKX0saC5wcm90b3R5cGUuX2NvbXB1dGVZQXhpcz1mdW5jdGlvbigpe28uVmVjdG9yMy5jcm9zcyh0aGlzLl95QXhpcyx0aGlzLl94QXhpcyx0aGlzLl96QXhpcyl9LGgucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQscixpLHMsYSl7by5WZWN0b3IzLmNvcHkodGhpcy5fY2VudGVyLGUpLGwuQ29uc29sZVV0aWxzLmFzc2VydCh0Pm4uS0VSTkVMX1RPTEVSQU5DRSksdGhpcy5fcmFkaXVzPXQsbC5Db25zb2xlVXRpbHMuYXNzZXJ0KG8uVmVjdG9yMy5zcXVhcmVkTGVuZ3RoKHIpPm4uS0VSTkVMX1RPTEVSQU5DRSpuLktFUk5FTF9UT0xFUkFOQ0UpLG8uVmVjdG9yMy5ub3JtYWxpemUodGhpcy5fekF4aXMsciksbC5Db25zb2xlVXRpbHMuYXNzZXJ0KE1hdGguYWJzKGkpPE1hdGguUEkvMiksdGhpcy5fYW5nbGU9aSx2b2lkIDAhPT1zJiZvLlZlY3RvcjMuc3F1YXJlZExlbmd0aChzKT5uLktFUk5FTF9UT0xFUkFOQ0Uqbi5LRVJORUxfVE9MRVJBTkNFPyhsLkNvbnNvbGVVdGlscy5hc3NlcnQoby5WZWN0b3IzLmlzT3J0aG9nb25hbChyLHMsbi5LRVJORUxfQU5HVUxBUl9UT0xFUkFOQ0UpKSxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX3hBeGlzLHMpKTooby5WZWN0b3IzLmNvbXB1dGVPcnRob2dvbmFsKHRoaXMuX3hBeGlzLHRoaXMuX3pBeGlzKSxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX3hBeGlzLHRoaXMuX3hBeGlzKSksdGhpcy5fdVNjYWxlPWF8fDEsbC5Db25zb2xlVXRpbHMuYXNzZXJ0KHRoaXMuX3VTY2FsZT5uLlBBUkFNRVRFUl9TUEFDRV9UT0xFUkFOQ0UpLHRoaXMuX2NvbXB1dGVZQXhpcygpfSxoLnByb3RvdHlwZS5nZXRSYWRpdXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFkaXVzfSxoLnByb3RvdHlwZS5zZXRSYWRpdXM9ZnVuY3Rpb24oZSl7bC5Db25zb2xlVXRpbHMuYXNzZXJ0KGU+bi5LRVJORUxfVE9MRVJBTkNFKSx0aGlzLl9yYWRpdXM9ZX0saC5wcm90b3R5cGUuZ2V0Q2VudGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NlbnRlcn0saC5wcm90b3R5cGUuc2V0Q2VudGVyPWZ1bmN0aW9uKGUpe28uVmVjdG9yMy5jb3B5KHRoaXMuX2NlbnRlcixlKX0saC5wcm90b3R5cGUuZ2V0QXhpc0Rpcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl96QXhpc30saC5wcm90b3R5cGUuc2V0QXhpc0Rpcj1mdW5jdGlvbihlKXtsLkNvbnNvbGVVdGlscy5hc3NlcnQoby5WZWN0b3IzLnNxdWFyZWRMZW5ndGgoZSk+bi5LRVJORUxfVE9MRVJBTkNFKm4uS0VSTkVMX1RPTEVSQU5DRSksby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl96QXhpcyxlKSwoby5WZWN0b3IzLnNxdWFyZWRMZW5ndGgodGhpcy5feEF4aXMpPD1uLktFUk5FTF9UT0xFUkFOQ0Uqbi5LRVJORUxfVE9MRVJBTkNFfHwhby5WZWN0b3IzLmlzT3J0aG9nb25hbCh0aGlzLl94QXhpcyx0aGlzLl96QXhpcyxuLktFUk5FTF9BTkdVTEFSX1RPTEVSQU5DRSkpJiYoby5WZWN0b3IzLmNvbXB1dGVPcnRob2dvbmFsKHRoaXMuX3hBeGlzLHRoaXMuX3pBeGlzKSxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX3hBeGlzLHRoaXMuX3hBeGlzKSksdGhpcy5fY29tcHV0ZVlBeGlzKCl9LGgucHJvdG90eXBlLmdldFV2T3JpZ2luRGlyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3hBeGlzfSxoLnByb3RvdHlwZS5zZXRVdk9yaWdpbkRpcj1mdW5jdGlvbihlKXtsLkNvbnNvbGVVdGlscy5hc3NlcnQoby5WZWN0b3IzLnNxdWFyZWRMZW5ndGgoZSk+bi5LRVJORUxfVE9MRVJBTkNFKm4uS0VSTkVMX1RPTEVSQU5DRSksby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl94QXhpcyxlKSx0aGlzLl9jb21wdXRlWUF4aXMoKX0saC5wcm90b3R5cGUuZ2V0VVNjYWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VTY2FsZX0saC5wcm90b3R5cGUuc2V0VVNjYWxlPWZ1bmN0aW9uKGUpe2wuQ29uc29sZVV0aWxzLmFzc2VydChlPm4uUEFSQU1FVEVSX1NQQUNFX1RPTEVSQU5DRSksdGhpcy5fdVNjYWxlPWV9LGgucHJvdG90eXBlLmdldEFuZ2xlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FuZ2xlfSxoLnByb3RvdHlwZS5zZXRBbmdsZT1mdW5jdGlvbihlKXtsLkNvbnNvbGVVdGlscy5hc3NlcnQoTWF0aC5hYnMoZSk8TWF0aC5QSS8yLW4uS0VSTkVMX0FOR1VMQVJfVE9MRVJBTkNFKSx0aGlzLl9hbmdsZT1lfSxoLnByb3RvdHlwZS5pc0N5bGluZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMuX2FuZ2xlKTxuLktFUk5FTF9BTkdVTEFSX1RPTEVSQU5DRX0saC5wcm90b3R5cGUuZ2V0QXBleFBhcmFtPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNDeWxpbmRlcigpP3ZvaWQgMDotdGhpcy5fcmFkaXVzLyh0aGlzLl91U2NhbGUqTWF0aC5zaW4odGhpcy5fYW5nbGUpKX0saC5wcm90b3R5cGUuZ2V0QXBleFBvc2l0aW9uPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNDeWxpbmRlcigpKXt2YXIgZT0tdGhpcy5fcmFkaXVzL01hdGgudGFuKHRoaXMuX2FuZ2xlKSx0PW8uVmVjdG9yMy5jbG9uZSh0aGlzLl9jZW50ZXIpO3JldHVybiBvLlZlY3RvcjMuc2NhbGVBbmRBZGQodCx0LHRoaXMuX3pBeGlzLGUpLHR9fSxoLnByb3RvdHlwZS5ldmFsdWF0ZVBvc2l0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fcmFkaXVzK2UqdGhpcy5fdVNjYWxlKk1hdGguc2luKHRoaXMuX2FuZ2xlKSxpPXIqTWF0aC5jb3ModCksbj1yKk1hdGguc2luKHQpLHM9ZSp0aGlzLl91U2NhbGUqTWF0aC5jb3ModGhpcy5fYW5nbGUpLGE9by5WZWN0b3IzLmNsb25lKHRoaXMuX2NlbnRlcik7cmV0dXJuIG8uVmVjdG9yMy5zY2FsZUFuZEFkZChhLGEsdGhpcy5feEF4aXMsaSksby5WZWN0b3IzLnNjYWxlQW5kQWRkKGEsYSx0aGlzLl95QXhpcyxuKSxvLlZlY3RvcjMuc2NhbGVBbmRBZGQoYSxhLHRoaXMuX3pBeGlzLHMpLGF9LGgucHJvdG90eXBlLmV2YWx1YXRlTm9ybWFsPWZ1bmN0aW9uKGUsdCl7dmFyIHI9TWF0aC5zaW4odGhpcy5fYW5nbGUpLGk9TWF0aC5jb3ModGhpcy5fYW5nbGUpLG49aSpNYXRoLmNvcyh0KSxzPWkqTWF0aC5zaW4odCksYT0tcixjPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7cmV0dXJuIG8uVmVjdG9yMy5zY2FsZShjLHRoaXMuX3hBeGlzLG4pLG8uVmVjdG9yMy5zY2FsZUFuZEFkZChjLGMsdGhpcy5feUF4aXMscyksby5WZWN0b3IzLnNjYWxlQW5kQWRkKGMsYyx0aGlzLl96QXhpcyxhKSxjfSxoLnByb3RvdHlwZS5ldmFsdWF0ZUR1PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fdVNjYWxlKk1hdGguc2luKHRoaXMuX2FuZ2xlKSxpPXIqTWF0aC5jb3ModCksbj1yKk1hdGguc2luKHQpLHM9dGhpcy5fdVNjYWxlKk1hdGguY29zKHRoaXMuX2FuZ2xlKSxhPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7cmV0dXJuIG8uVmVjdG9yMy5zY2FsZShhLHRoaXMuX3hBeGlzLGkpLG8uVmVjdG9yMy5zY2FsZUFuZEFkZChhLGEsdGhpcy5feUF4aXMsbiksby5WZWN0b3IzLnNjYWxlQW5kQWRkKGEsYSx0aGlzLl96QXhpcyxzKSxhfSxoLnByb3RvdHlwZS5ldmFsdWF0ZUR2PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fcmFkaXVzK2UqdGhpcy5fdVNjYWxlKk1hdGguc2luKHRoaXMuX2FuZ2xlKSxpPS1yKk1hdGguc2luKHQpLG49cipNYXRoLmNvcyh0KSxzPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7cmV0dXJuIG8uVmVjdG9yMy5zY2FsZShzLHRoaXMuX3hBeGlzLGkpLG8uVmVjdG9yMy5zY2FsZUFuZEFkZChzLHMsdGhpcy5feUF4aXMsbiksc30saC5wcm90b3R5cGUuY2xvc2VzdFBhcmFtPWZ1bmN0aW9uKGUpe3ZhciB0PU1hdGguc2luKHRoaXMuX2FuZ2xlKSxyPU1hdGguY29zKHRoaXMuX2FuZ2xlKSxpPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7by5WZWN0b3IzLnN1YihpLGUsdGhpcy5fY2VudGVyKTt2YXIgcz1vLlZlY3RvcjMuZG90KGksdGhpcy5feEF4aXMpLGE9by5WZWN0b3IzLmRvdChpLHRoaXMuX3lBeGlzKSxjPW8uVmVjdG9yMy5kb3QoaSx0aGlzLl96QXhpcyksdT1NYXRoLnNxcnQocypzK2EqYSksbD10aGlzLmdldEFwZXhQYXJhbSgpO2lmKHZvaWQgMCE9PWwpe3ZhciBoPWwqdGhpcy5fdVNjYWxlKnI7KGg+MCYmYz5ofHxoPDAmJmM8aCkmJihzPS1zLGE9LWEsdT0tdSl9cmV0dXJue3U6KCh1LXRoaXMuX3JhZGl1cykqdCtjKnIpL3RoaXMuX3VTY2FsZSx2Ok1hdGguYWJzKHUpPm4uS0VSTkVMX1RPTEVSQU5DRT9NYXRoLmF0YW4yKGEscyk6MH19LGgucHJvdG90eXBlLnZQYXJhbUxpbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcmFkaXVzK2UqdGhpcy5fdVNjYWxlKk1hdGguc2luKHRoaXMuX2FuZ2xlKTtpZihNYXRoLmFicyh0KT5uLktFUk5FTF9UT0xFUkFOQ0Upe3ZhciByPW5ldyB1LkNpcmNsZSxpPW8uVmVjdG9yMy5jbG9uZSh0aGlzLl9jZW50ZXIpLHM9ZSp0aGlzLl91U2NhbGUqTWF0aC5jb3ModGhpcy5fYW5nbGUpO28uVmVjdG9yMy5zY2FsZUFuZEFkZChpLGksdGhpcy5fekF4aXMscyk7dmFyIGM9by5WZWN0b3IzLmNsb25lKHRoaXMuX3hBeGlzKTtvLlZlY3RvcjMuc2NhbGUoYyxjLHQpO3ZhciBsPW8uVmVjdG9yMy5jbG9uZSh0aGlzLl96QXhpcyk7cmV0dXJuIG8uVmVjdG9yMy5uZWdhdGUobCxsKSxyLnNldChpLGwsYykscn1yZXR1cm4gbmV3IGEuUG9pbnQodGhpcy5nZXRBcGV4UG9zaXRpb24oKSl9LGgucHJvdG90eXBlLnVQYXJhbUxpbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGMuTGluZSxyPW8uVmVjdG9yMy5jbG9uZSh0aGlzLl9jZW50ZXIpLGk9dGhpcy5fcmFkaXVzKk1hdGguY29zKGUpLG49dGhpcy5fcmFkaXVzKk1hdGguc2luKGUpO3JldHVybiBvLlZlY3RvcjMuc2NhbGVBbmRBZGQocixyLHRoaXMuX3hBeGlzLGkpLG8uVmVjdG9yMy5zY2FsZUFuZEFkZChyLHIsdGhpcy5feUF4aXMsbiksdC5zZXQocix0aGlzLmV2YWx1YXRlRHUoMCxlKSksdH0saC5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3g9ZnVuY3Rpb24oZSx0KXtpZihlKXt2YXIgcj1lWzBdLG89ZVsxXSxuPXRoaXMudlBhcmFtTGluZShyKS5nZXRCb3VuZGluZ0JveCh0KTtyZXR1cm4gbi5pbmNsdWRlKHRoaXMudlBhcmFtTGluZShvKS5nZXRCb3VuZGluZ0JveCh0KSksbn1yZXR1cm4gbmV3IGkuQm91bmRpbmdCb3goWy0xLzAsLTEvMCwtMS8wXSxbMS8wLDEvMCwxLzBdKX0saC5wcm90b3R5cGUudHJhbnNmb3JtPWZ1bmN0aW9uKGUpe28uVmVjdG9yMy50cmFuc2Zvcm1NYXRyaXg0NCh0aGlzLl9jZW50ZXIsdGhpcy5fY2VudGVyLGUpLG8uVmVjdG9yMy50cmFuc2Zvcm1Bc0RpcmVjdGlvbk1hdHJpeDQ0KHRoaXMuX3hBeGlzLHRoaXMuX3hBeGlzLGUpLG8uVmVjdG9yMy50cmFuc2Zvcm1Bc0RpcmVjdGlvbk1hdHJpeDQ0KHRoaXMuX3lBeGlzLHRoaXMuX3lBeGlzLGUpLG8uVmVjdG9yMy50cmFuc2Zvcm1Bc0RpcmVjdGlvbk1hdHJpeDQ0KHRoaXMuX3pBeGlzLHRoaXMuX3pBeGlzLGUpO3ZhciB0PW8uVmVjdG9yMy5sZW5ndGgodGhpcy5feEF4aXMpO3RoaXMuX3JhZGl1cyo9dCx0aGlzLl91U2NhbGUqPXQsby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl94QXhpcyx0aGlzLl94QXhpcyksby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl95QXhpcyx0aGlzLl95QXhpcyksby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl96QXhpcyx0aGlzLl96QXhpcyl9LGgucHJvdG90eXBlLmdldFJhbmdlVW5saW1pdGVkVT1mdW5jdGlvbigpe3JldHVyblstMS8wLDEvMF19LGgucHJvdG90eXBlLmdldFJhbmdlVW5saW1pdGVkVj1mdW5jdGlvbigpe3JldHVyblstTWF0aC5QSSxNYXRoLlBJXX0saC5wcm90b3R5cGUuaXNQZXJpb2RpY1VubGltaXRlZFU9ZnVuY3Rpb24oKXtyZXR1cm4hMX0saC5wcm90b3R5cGUuaXNQZXJpb2RpY1VubGltaXRlZFY9ZnVuY3Rpb24oKXtyZXR1cm4hMH0saC5wcm90b3R5cGUuaXNDbG9zZWRVbmxpbWl0ZWRVPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGgucHJvdG90eXBlLmlzQ2xvc2VkVW5saW1pdGVkVj1mdW5jdGlvbigpe3JldHVybiEwfSxoLnByb3RvdHlwZS50b09iamVjdD1mdW5jdGlvbigpe2NvbnN0IGU9dGhpcy5ldmFsdWF0ZVBvc2l0aW9uKDAsMCk7cmV0dXJuIG8uVmVjdG9yMy5zdWIoZSxlLHRoaXMuZ2V0Q2VudGVyKCkpLHtjZW50ZXI6dGhpcy52ZWN0b3JUb09iamVjdCh0aGlzLl9jZW50ZXIpLHJhZGl1czp0aGlzLnZlY3RvclRvT2JqZWN0KGUpLGF4aXM6dGhpcy52ZWN0b3JUb09iamVjdCh0aGlzLmdldEF4aXNEaXIoKSksdUNvb3JkU2NhbGU6dGhpcy5nZXRVU2NhbGUoKSxhbmdsZTp0aGlzLmdldEFuZ2xlKCksdVJhbmdlOnRoaXMucmFuZ2VUb09iamVjdCh0aGlzLmdldFJhbmdlVSgpLHRoaXMuaXNMaW1pdGVkVSgpKSx2UmFuZ2U6dGhpcy5yYW5nZVRvT2JqZWN0KHRoaXMuZ2V0UmFuZ2VWKCksdGhpcy5pc0xpbWl0ZWRWKCkpfX0sdC5Db25lPWh9LDE0NzI6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQ3VydmU9dm9pZCAwO3ZhciBvPXIoMTk3MiksaT1yKDkwMjQpLG49cigyNDY4KSxzPXIoNTg5NiksYT1yKDQ3MjgpLGM9ZnVuY3Rpb24oKXtpLkJhc2VHZW9tZXRyeS5jYWxsKHRoaXMpLHRoaXMuX3N1YnJhbmdlPVtdfTsoYy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpLkJhc2VHZW9tZXRyeS5wcm90b3R5cGUpKS5jb3B5PWZ1bmN0aW9uKGUpe2kuQmFzZUdlb21ldHJ5LnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlKSx0aGlzLl9zdWJyYW5nZT1lLmlzTGltaXRlZCgpP1tlLl9zdWJyYW5nZVswXSxlLl9zdWJyYW5nZVsxXV06W119LGMucHJvdG90eXBlLmlzTGltaXRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJyYW5nZS5sZW5ndGg+MH0sYy5wcm90b3R5cGUuZ2V0UmFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0xpbWl0ZWQoKT90aGlzLl9zdWJyYW5nZTp0aGlzLmdldFJhbmdlVW5saW1pdGVkKCl9LGMucHJvdG90eXBlLmdldFJhbmdlVW5saW1pdGVkPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiQ3VydmUuZ2V0UmFuZ2VVbmxpbWl0ZWQgOiBhYnN0cmFjdCBtZXRob2QgaW52b2tlZCFcIil9LGMucHJvdG90eXBlLmxpbWl0UmFuZ2U9ZnVuY3Rpb24oZSl7dGhpcy5fc3VicmFuZ2U9KDAscy5saW1pdFJhbmdlKSh0aGlzLmdldFJhbmdlKCksZSx0aGlzLmlzUGVyaW9kaWMoKSx0aGlzLmdldFBlcmlvZCgpKX0sYy5wcm90b3R5cGUudW5saW1pdFJhbmdlPWZ1bmN0aW9uKCl7dGhpcy5fc3VicmFuZ2U9W119LGMucHJvdG90eXBlLmlzUGVyaW9kaWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1BlcmlvZGljVW5saW1pdGVkKCkmJiF0aGlzLmlzTGltaXRlZCgpfSxjLnByb3RvdHlwZS5pc1BlcmlvZGljVW5saW1pdGVkPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiQ3VydmUuaXNQZXJpb2RpY1VubGltaXRlZCA6IGFic3RyYWN0IG1ldGhvZCBpbnZva2VkIVwiKX0sYy5wcm90b3R5cGUuZ2V0UGVyaW9kPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNMaW1pdGVkKCk/dm9pZCAwOnRoaXMuZ2V0UGVyaW9kVW5saW1pdGVkKCl9LGMucHJvdG90eXBlLmdldFBlcmlvZFVubGltaXRlZD1mdW5jdGlvbigpe2lmKHRoaXMuaXNQZXJpb2RpY1VubGltaXRlZCgpKXt2YXIgZT10aGlzLmdldFJhbmdlVW5saW1pdGVkKCk7cmV0dXJuIGVbMV0tZVswXX19LGMucHJvdG90eXBlLmlzQ2xvc2VkPWZ1bmN0aW9uKCl7aWYodGhpcy5pc0Nsb3NlZFVubGltaXRlZCgpKXtpZih0aGlzLmlzTGltaXRlZCgpKXt2YXIgZT10aGlzLmdldFJhbmdlVW5saW1pdGVkKCksdD1lWzFdLWVbMF07cmV0dXJuIHRoaXMuX3N1YnJhbmdlWzFdLXRoaXMuX3N1YnJhbmdlWzBdPnQtbi5QQVJBTUVURVJfU1BBQ0VfVE9MRVJBTkNFfXJldHVybiEwfXJldHVybiExfSxjLnByb3RvdHlwZS5pc0Nsb3NlZFVubGltaXRlZD1mdW5jdGlvbigpe2NvbnNvbGUud2FybihcIkN1cnZlLmlzQ2xvc2VkVW5saW1pdGVkIDogYWJzdHJhY3QgbWV0aG9kIGludm9rZWQhXCIpfSxjLnByb3RvdHlwZS5fcmVzdHJpY3RSYW5nZVRvVW5saW1pdGVkPWZ1bmN0aW9uKGUpe2EuQ29uc29sZVV0aWxzLmFzc2VydCgyPT09ZS5sZW5ndGgpLGEuQ29uc29sZVV0aWxzLmFzc2VydChlWzBdPD1lWzFdKTt2YXIgdD10aGlzLmdldFJhbmdlVW5saW1pdGVkKCkscj1bXTtpZih0aGlzLmlzUGVyaW9kaWNVbmxpbWl0ZWQoKSl7dmFyIGk9dFsxXS10WzBdO2lmKGVbMV0tZVswXT5pLW4uUEFSQU1FVEVSX1NQQUNFX1RPTEVSQU5DRSlyLnB1c2goW3RbMF0sdFsxXV0pO2Vsc2V7dmFyIGM9KDAscy5mb2xkQWJvdmUpKGVbMF0sdFswXSxpKS1lWzBdO3IucHVzaChbZVswXStjLGVbMV0rY10pLHJbMF1bMV0+dFsxXStuLlBBUkFNRVRFUl9TUEFDRV9UT0xFUkFOQ0UmJihyLnB1c2goW3RbMF0sclswXVsxXS1pXSksclswXVsxXT10WzFdKX19ZWxzZXt2YXIgdT1NYXRoLm1heChlWzBdLHRbMF0pLGw9TWF0aC5taW4oZVsxXSx0WzFdKTt1PnRbMV0/dTx0WzFdK28uRkxPQVQ2NF9UT0xFUkFOQ0UmJnIucHVzaChbdFsxXSx0WzFdXSk6bDx0WzBdP2w+dFswXS1vLkZMT0FUNjRfVE9MRVJBTkNFJiZyLnB1c2goW3RbMF0sdFswXV0pOnIucHVzaChbdSxsXSl9cmV0dXJuIHJ9LGMucHJvdG90eXBlLnRyYW5zZm9ybT1mdW5jdGlvbihlKXtjb25zb2xlLndhcm4oXCJDdXJ2ZS50cmFuc2Zvcm0gOiBhYnN0cmFjdCBtZXRob2QgaW52b2tlZCEgRG9pbmcgbm90aGluZy5cIil9LGMucHJvdG90eXBlLmV2YWx1YXRlUG9zaXRpb249ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKFwiQ3VydmUuZXZhbHVhdGVQb3NpdGlvbiA6IGFic3RyYWN0IG1ldGhvZCBpbnZva2VkISBSZXR1cm5pbmcgdW5kZWZpbmVkLlwiKX0sYy5wcm90b3R5cGUuZXZhbHVhdGVEdD1mdW5jdGlvbihlKXtjb25zb2xlLndhcm4oXCJDdXJ2ZS5ldmFsdWF0ZUR0IDogYWJzdHJhY3QgbWV0aG9kIGludm9rZWQhIFJldHVybmluZyB1bmRlZmluZWQuXCIpfSxjLnByb3RvdHlwZS5ldmFsdWF0ZUN1cnZhdHVyZT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZXZhbHVhdGVEdChlKSxpPXRoaXMuZXZhbHVhdGVEdChlK24uS0VSTkVMX1RPTEVSQU5DRSk7by5WZWN0b3IzLnN1YihpLGkscik7dmFyIHM9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtvLlZlY3RvcjMuc2NhbGUocyxpLDEvbi5LRVJORUxfVE9MRVJBTkNFKSx0JiYoby5WZWN0b3IzLmNvcHkodCxzKSxvLlZlY3RvcjMubm9ybWFsaXplKHQsdCkpO3ZhciBhPW8uVmVjdG9yMy5zcXVhcmVkTGVuZ3RoKHIpO3JldHVybiBvLlZlY3RvcjMuY3Jvc3MocyxyLHMpLG8uVmVjdG9yMy5sZW5ndGgocykvTWF0aC5wb3coYSwxLjUpfSxjLnByb3RvdHlwZS50YW5nZW50TGVuZ3RoPWZ1bmN0aW9uKGUpe3JldHVybiBvLlZlY3RvcjMubGVuZ3RoKHRoaXMuZXZhbHVhdGVEdChlKSl9LGMucHJvdG90eXBlLnN1Z2dlc3RTcGxpdHRpbmdQYXJhbT1mdW5jdGlvbihlKXtjb25zb2xlLndhcm4oXCJDdXJ2ZS5zdWdnZXN0U3BsaXR0aW5nUGFyYW0gOiBhYnN0cmFjdCBtZXRob2QgaW52b2tlZCEgUmV0dXJuaW5nIHVuZGVmaW5lZC5cIil9LGMucHJvdG90eXBlLmdldFRhbmdlbnRDb25lPWZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybihcIkN1cnZlLmdldFRhbmdlbnRDb25lIDogYWJzdHJhY3QgbWV0aG9kIGludm9rZWQhIFJldHVybmluZyB1bmRlZmluZWQuXCIpfSxjLnByb3RvdHlwZS5jbG9zZXN0VG9SYXlQYXJhbT1mdW5jdGlvbihlLHQscil7Y29uc29sZS53YXJuKFwiQ3VydmUuY2xvc2VzdFRvUmF5UGFyYW0gOiBhYnN0cmFjdCBtZXRob2QgaW52b2tlZCEgUmV0dXJuaW5nIHVuZGVmaW5lZC5cIil9LGMucHJvdG90eXBlLmNsb3Nlc3RUb1BvaW50UGFyYW09ZnVuY3Rpb24oZSx0KXtjb25zb2xlLndhcm4oXCJDdXJ2ZS5jbG9zZXN0VG9Qb2ludFBhcmFtIDogYWJzdHJhY3QgbWV0aG9kIGludm9rZWQhIFJldHVybmluZyB1bmRlZmluZWQuXCIpfSxjLnByb3RvdHlwZS5nZXRBcmNMZW5ndGg9ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKFwiQ3VydmUuZ2V0QXJjTGVuZ3RoIDogYWJzdHJhY3QgbWV0aG9kIGludm9rZWQhXCIpfSxjLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJGcm9tQXJjTGVuZ3RoPWZ1bmN0aW9uKGUsdCl7Y29uc29sZS53YXJuKFwiQ3VydmUuZ2V0UGFyYW1ldGVyRnJvbUFyY0xlbmd0aCA6IGFic3RyYWN0IG1ldGhvZCBpbnZva2VkIVwiKX0sYy5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3g9ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKFwiQ3VydmUuZ2V0Qm91bmRpbmdCb3ggOiBhYnN0cmFjdCBtZXRob2QgaW52b2tlZCEgUmV0dXJuaW5nIHVuZGVmaW5lZC5cIil9LGMucHJvdG90eXBlLnRlc3NlbGxhdGU9ZnVuY3Rpb24oZSx0KXtjb25zb2xlLndhcm4oXCJDdXJ2ZS50ZXNzZWxsYXRlIDogYWJzdHJhY3QgbWV0aG9kIGludm9rZWQhIFJldHVybmluZyB1bmRlZmluZWQuXCIpfSx0LkN1cnZlPWN9LDM0NDA6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQ3lsaW5kZXI9dm9pZCAwO3ZhciBvPXIoMTk3MiksaT1yKDMzNDQpLG49cigyNDY4KSxzPXIoNDEyKSxhPXIoMTA5NiksYz1yKDU1MTIpLHU9cig0NzI4KSxsPWZ1bmN0aW9uKCl7cy5TdXJmYWNlLmNhbGwodGhpcyksdGhpcy5fY2VudGVyPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCksdGhpcy5fcmFkaXVzPTAsdGhpcy5fdVNjYWxlPTEsdGhpcy5feEF4aXM9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSx0aGlzLl95QXhpcz1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLHRoaXMuX3pBeGlzPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCl9OyhsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHMuU3VyZmFjZS5wcm90b3R5cGUpKS5nZXRHZW9tZXRyeVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gbi5HRU9NRVRSWV9UWVBFUy5DWUxJTkRFUn0sbC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbDtyZXR1cm4gZS5jb3B5KHRoaXMpLGV9LGwucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSl7cy5TdXJmYWNlLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlKSx0aGlzLl9yYWRpdXM9ZS5fcmFkaXVzLHRoaXMuX3VTY2FsZT1lLl91U2NhbGUsby5WZWN0b3IzLmNvcHkodGhpcy5fY2VudGVyLGUuX2NlbnRlciksby5WZWN0b3IzLmNvcHkodGhpcy5feEF4aXMsZS5feEF4aXMpLG8uVmVjdG9yMy5jb3B5KHRoaXMuX3lBeGlzLGUuX3lBeGlzKSxvLlZlY3RvcjMuY29weSh0aGlzLl96QXhpcyxlLl96QXhpcyl9LGwucHJvdG90eXBlLl9jb21wdXRlWUF4aXM9ZnVuY3Rpb24oKXtvLlZlY3RvcjMuY3Jvc3ModGhpcy5feUF4aXMsdGhpcy5feEF4aXMsdGhpcy5fekF4aXMpfSxsLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0LHIsaSxzKXtvLlZlY3RvcjMuY29weSh0aGlzLl9jZW50ZXIsZSksdS5Db25zb2xlVXRpbHMuYXNzZXJ0KHQ+bi5LRVJORUxfVE9MRVJBTkNFKSx0aGlzLl9yYWRpdXM9dCx1LkNvbnNvbGVVdGlscy5hc3NlcnQoby5WZWN0b3IzLnNxdWFyZWRMZW5ndGgocik+bi5LRVJORUxfVE9MRVJBTkNFKm4uS0VSTkVMX1RPTEVSQU5DRSksby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl96QXhpcyxyKSx2b2lkIDAhPT1pJiZvLlZlY3RvcjMuc3F1YXJlZExlbmd0aChpKT5uLktFUk5FTF9UT0xFUkFOQ0Uqbi5LRVJORUxfVE9MRVJBTkNFPyh1LkNvbnNvbGVVdGlscy5hc3NlcnQoby5WZWN0b3IzLmlzT3J0aG9nb25hbChyLGksbi5LRVJORUxfQU5HVUxBUl9UT0xFUkFOQ0UpKSxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX3hBeGlzLGkpKTooby5WZWN0b3IzLmNvbXB1dGVPcnRob2dvbmFsKHRoaXMuX3hBeGlzLHRoaXMuX3pBeGlzKSxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX3hBeGlzLHRoaXMuX3hBeGlzKSksdGhpcy5fdVNjYWxlPXN8fDEsdS5Db25zb2xlVXRpbHMuYXNzZXJ0KHRoaXMuX3VTY2FsZT5uLlBBUkFNRVRFUl9TUEFDRV9UT0xFUkFOQ0UpLHRoaXMuX2NvbXB1dGVZQXhpcygpfSxsLnByb3RvdHlwZS5nZXRSYWRpdXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFkaXVzfSxsLnByb3RvdHlwZS5zZXRSYWRpdXM9ZnVuY3Rpb24oZSl7dS5Db25zb2xlVXRpbHMuYXNzZXJ0KGU+bi5LRVJORUxfVE9MRVJBTkNFKSx0aGlzLl9yYWRpdXM9ZX0sbC5wcm90b3R5cGUuZ2V0Q2VudGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NlbnRlcn0sbC5wcm90b3R5cGUuc2V0Q2VudGVyPWZ1bmN0aW9uKGUpe28uVmVjdG9yMy5jb3B5KHRoaXMuX2NlbnRlcixlKX0sbC5wcm90b3R5cGUuZ2V0QXhpc0Rpcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl96QXhpc30sbC5wcm90b3R5cGUuc2V0QXhpc0Rpcj1mdW5jdGlvbihlKXt1LkNvbnNvbGVVdGlscy5hc3NlcnQoby5WZWN0b3IzLnNxdWFyZWRMZW5ndGgoZSk+bi5LRVJORUxfVE9MRVJBTkNFKm4uS0VSTkVMX1RPTEVSQU5DRSksby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl96QXhpcyxlKSwoby5WZWN0b3IzLnNxdWFyZWRMZW5ndGgodGhpcy5feEF4aXMpPD1uLktFUk5FTF9UT0xFUkFOQ0Uqbi5LRVJORUxfVE9MRVJBTkNFfHwhby5WZWN0b3IzLmlzT3J0aG9nb25hbCh0aGlzLl94QXhpcyx0aGlzLl96QXhpcyxuLktFUk5FTF9BTkdVTEFSX1RPTEVSQU5DRSkpJiYoby5WZWN0b3IzLmNvbXB1dGVPcnRob2dvbmFsKHRoaXMuX3hBeGlzLHRoaXMuX3pBeGlzKSxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX3hBeGlzLHRoaXMuX3hBeGlzKSksdGhpcy5fY29tcHV0ZVlBeGlzKCl9LGwucHJvdG90eXBlLmdldFV2T3JpZ2luRGlyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3hBeGlzfSxsLnByb3RvdHlwZS5zZXRVdk9yaWdpbkRpcj1mdW5jdGlvbihlKXt1LkNvbnNvbGVVdGlscy5hc3NlcnQoby5WZWN0b3IzLnNxdWFyZWRMZW5ndGgoZSk+bi5LRVJORUxfVE9MRVJBTkNFKm4uS0VSTkVMX1RPTEVSQU5DRSksby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl94QXhpcyxlKSx0aGlzLl9jb21wdXRlWUF4aXMoKX0sbC5wcm90b3R5cGUuZ2V0VVNjYWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VTY2FsZX0sbC5wcm90b3R5cGUuc2V0VVNjYWxlPWZ1bmN0aW9uKGUpe3UuQ29uc29sZVV0aWxzLmFzc2VydChlPm4uUEFSQU1FVEVSX1NQQUNFX1RPTEVSQU5DRSksdGhpcy5fdVNjYWxlPWV9LGwucHJvdG90eXBlLmV2YWx1YXRlUG9zaXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9yYWRpdXMqTWF0aC5jb3ModCksaT10aGlzLl9yYWRpdXMqTWF0aC5zaW4odCksbj10aGlzLl91U2NhbGUqZSxzPW8uVmVjdG9yMy5jbG9uZSh0aGlzLl9jZW50ZXIpO3JldHVybiBvLlZlY3RvcjMuc2NhbGVBbmRBZGQocyxzLHRoaXMuX3hBeGlzLHIpLG8uVmVjdG9yMy5zY2FsZUFuZEFkZChzLHMsdGhpcy5feUF4aXMsaSksby5WZWN0b3IzLnNjYWxlQW5kQWRkKHMscyx0aGlzLl96QXhpcyxuKSxzfSxsLnByb3RvdHlwZS5ldmFsdWF0ZU5vcm1hbD1mdW5jdGlvbihlLHQpe3ZhciByPU1hdGguY29zKHQpLGk9TWF0aC5zaW4odCksbj1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpO3JldHVybiBvLlZlY3RvcjMuc2NhbGUobix0aGlzLl94QXhpcyxyKSxvLlZlY3RvcjMuc2NhbGVBbmRBZGQobixuLHRoaXMuX3lBeGlzLGkpLG59LGwucHJvdG90eXBlLmV2YWx1YXRlRHU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpO3JldHVybiBvLlZlY3RvcjMuc2NhbGUocix0aGlzLl96QXhpcyx0aGlzLl91U2NhbGUpLHJ9LGwucHJvdG90eXBlLmV2YWx1YXRlRHY9ZnVuY3Rpb24oZSx0KXt2YXIgcj0tdGhpcy5fcmFkaXVzKk1hdGguc2luKHQpLGk9dGhpcy5fcmFkaXVzKk1hdGguY29zKHQpLG49by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtyZXR1cm4gby5WZWN0b3IzLnNjYWxlKG4sdGhpcy5feEF4aXMsciksby5WZWN0b3IzLnNjYWxlQW5kQWRkKG4sbix0aGlzLl95QXhpcyxpKSxufSxsLnByb3RvdHlwZS5jbG9zZXN0UGFyYW09ZnVuY3Rpb24oZSl7dmFyIHQ9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtvLlZlY3RvcjMuc3ViKHQsZSx0aGlzLl9jZW50ZXIpO3ZhciByPW8uVmVjdG9yMy5kb3QodCx0aGlzLl94QXhpcyksaT1vLlZlY3RvcjMuZG90KHQsdGhpcy5feUF4aXMpLHM9by5WZWN0b3IzLmRvdCh0LHRoaXMuX3pBeGlzKS90aGlzLl91U2NhbGUsYT0wO3JldHVybiByKnIraSppPm4uS0VSTkVMX1RPTEVSQU5DRSpuLktFUk5FTF9UT0xFUkFOQ0UmJihhPU1hdGguYXRhbjIoaSxyKSkse3U6cyx2OmF9fSxsLnByb3RvdHlwZS52UGFyYW1MaW5lPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBjLkNpcmNsZSxyPW8uVmVjdG9yMy5jbG9uZSh0aGlzLl9jZW50ZXIpLGk9ZSp0aGlzLl91U2NhbGU7by5WZWN0b3IzLnNjYWxlQW5kQWRkKHIscix0aGlzLl96QXhpcyxpKTt2YXIgbj1vLlZlY3RvcjMuY2xvbmUodGhpcy5feEF4aXMpO28uVmVjdG9yMy5zY2FsZShuLG4sdGhpcy5fcmFkaXVzKTt2YXIgcz1vLlZlY3RvcjMuY2xvbmUodGhpcy5fekF4aXMpO3JldHVybiBvLlZlY3RvcjMubmVnYXRlKHMscyksdC5zZXQocixzLG4pLHR9LGwucHJvdG90eXBlLnVQYXJhbUxpbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGEuTGluZSxyPW8uVmVjdG9yMy5jbG9uZSh0aGlzLl9jZW50ZXIpLGk9dGhpcy5fcmFkaXVzKk1hdGguY29zKGUpLG49dGhpcy5fcmFkaXVzKk1hdGguc2luKGUpO3JldHVybiBvLlZlY3RvcjMuc2NhbGVBbmRBZGQocixyLHRoaXMuX3hBeGlzLGkpLG8uVmVjdG9yMy5zY2FsZUFuZEFkZChyLHIsdGhpcy5feUF4aXMsbiksdC5zZXQocix0aGlzLmV2YWx1YXRlRHUoMCxlKSksdH0sbC5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3g9ZnVuY3Rpb24oZSx0KXtpZihlKXt2YXIgcj1lWzBdLG89ZVsxXSxuPXRoaXMudlBhcmFtTGluZShyKS5nZXRCb3VuZGluZ0JveCh0KTtyZXR1cm4gbi5pbmNsdWRlKHRoaXMudlBhcmFtTGluZShvKS5nZXRCb3VuZGluZ0JveCh0KSksbn1yZXR1cm4gbmV3IGkuQm91bmRpbmdCb3goWy0xLzAsLTEvMCwtMS8wXSxbMS8wLDEvMCwxLzBdKX0sbC5wcm90b3R5cGUudHJhbnNmb3JtPWZ1bmN0aW9uKGUpe28uVmVjdG9yMy50cmFuc2Zvcm1NYXRyaXg0NCh0aGlzLl9jZW50ZXIsdGhpcy5fY2VudGVyLGUpLG8uVmVjdG9yMy50cmFuc2Zvcm1Bc0RpcmVjdGlvbk1hdHJpeDQ0KHRoaXMuX3hBeGlzLHRoaXMuX3hBeGlzLGUpLG8uVmVjdG9yMy50cmFuc2Zvcm1Bc0RpcmVjdGlvbk1hdHJpeDQ0KHRoaXMuX3lBeGlzLHRoaXMuX3lBeGlzLGUpLG8uVmVjdG9yMy50cmFuc2Zvcm1Bc0RpcmVjdGlvbk1hdHJpeDQ0KHRoaXMuX3pBeGlzLHRoaXMuX3pBeGlzLGUpO3ZhciB0PW8uVmVjdG9yMy5sZW5ndGgodGhpcy5feEF4aXMpO3RoaXMuX3JhZGl1cyo9dCx0aGlzLl91U2NhbGUqPXQsby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl94QXhpcyx0aGlzLl94QXhpcyksby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl95QXhpcyx0aGlzLl95QXhpcyksby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl96QXhpcyx0aGlzLl96QXhpcyl9LGwucHJvdG90eXBlLmdldFJhbmdlVW5saW1pdGVkVT1mdW5jdGlvbigpe3JldHVyblstMS8wLDEvMF19LGwucHJvdG90eXBlLmdldFJhbmdlVW5saW1pdGVkVj1mdW5jdGlvbigpe3JldHVyblstTWF0aC5QSSxNYXRoLlBJXX0sbC5wcm90b3R5cGUuaXNQZXJpb2RpY1VubGltaXRlZFU9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sbC5wcm90b3R5cGUuaXNQZXJpb2RpY1VubGltaXRlZFY9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sbC5wcm90b3R5cGUuaXNDbG9zZWRVbmxpbWl0ZWRVPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGwucHJvdG90eXBlLmlzQ2xvc2VkVW5saW1pdGVkVj1mdW5jdGlvbigpe3JldHVybiEwfSxsLnByb3RvdHlwZS50b09iamVjdD1mdW5jdGlvbigpe2NvbnN0IGU9dGhpcy5ldmFsdWF0ZVBvc2l0aW9uKDAsMCk7cmV0dXJuIG8uVmVjdG9yMy5zdWIoZSxlLHRoaXMuZ2V0Q2VudGVyKCkpLHtjZW50ZXI6dGhpcy52ZWN0b3JUb09iamVjdCh0aGlzLl9jZW50ZXIpLHJhZGl1czp0aGlzLnZlY3RvclRvT2JqZWN0KGUpLGF4aXM6dGhpcy52ZWN0b3JUb09iamVjdCh0aGlzLmdldEF4aXNEaXIoKSksdUNvb3JkU2NhbGU6dGhpcy5nZXRVU2NhbGUoKSx1UmFuZ2U6dGhpcy5yYW5nZVRvT2JqZWN0KHRoaXMuZ2V0UmFuZ2VVKCksdGhpcy5pc0xpbWl0ZWRVKCkpLHZSYW5nZTp0aGlzLnJhbmdlVG9PYmplY3QodGhpcy5nZXRSYW5nZVYoKSx0aGlzLmlzTGltaXRlZFYoKSl9fSx0LkN5bGluZGVyPWx9LDc1ODA6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuRWRnZT12b2lkIDA7dmFyIG89cigxOTcyKSxpPXIoOTU0Nyksbj1yKDI0NjgpLHM9cig0NzI4KSxhPWZ1bmN0aW9uKGUpe2kuQmFzZVRvcG9sb2d5LmNhbGwodGhpcyksdGhpcy5fY3VydmU9ZSx0aGlzLl9yZXZlcnNlZD0hMSx0aGlzLl92ZXJ0aWNlcz1bbnVsbCxudWxsXSx0aGlzLl9yYW5nZT1bMCwwXSx0aGlzLl9wcmVjaXNpb249MCx0aGlzLl9jb2VkZ2U9dm9pZCAwLHRoaXMuX3dpcmU9dm9pZCAwLHRoaXMuX3Rlc3NlbGxhdGlvblBvaW50cz1bXX07KGEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5CYXNlVG9wb2xvZ3kucHJvdG90eXBlKSkuZ2V0VG9wb2xvZ3lUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG4uVE9QT0xPR1lfVFlQRVMuRURHRX0sYS5wcm90b3R5cGUuZ2V0Q3VydmVUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnZlP3RoaXMuX2N1cnZlLmdldEdlb21ldHJ5VHlwZSgpOnZvaWQgMH0sYS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgYTtyZXR1cm4gZS5fY3VydmU9dGhpcy5fY3VydmU/dGhpcy5fY3VydmUuY2xvbmUoKTp2b2lkIDAsZS5fcmV2ZXJzZWQ9dGhpcy5fcmV2ZXJzZWQsZS5fdmVydGljZXNbMF09dGhpcy5fdmVydGljZXNbMF0sZS5fdmVydGljZXNbMV09dGhpcy5fdmVydGljZXNbMV0sZS5fcmFuZ2VbMF09dGhpcy5fcmFuZ2VbMF0sZS5fcmFuZ2VbMV09dGhpcy5fcmFuZ2VbMV0sZS5fcHJlY2lzaW9uPXRoaXMuX3ByZWNpc2lvbixlLl9jb2VkZ2U9dGhpcy5fY29lZGdlLGUuX3dpcmU9dGhpcy5fd2lyZSxlLl90ZXNzZWxsYXRpb25Qb2ludHM9W10sZX0sYS5wcm90b3R5cGUuZ2V0Q3VydmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VydmV9LGEucHJvdG90eXBlLnNldEN1cnZlPWZ1bmN0aW9uKGUpe3RoaXMuX2N1cnZlPWV9LGEucHJvdG90eXBlLmdldEFyY0xlbmd0aD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UmFuZ2UoKTtyZXR1cm4gdGhpcy5pc1JldmVyc2VkKCkmJihlPVstZVsxXSwtZVswXV0pLHRoaXMuX2N1cnZlLmdldEFyY0xlbmd0aChlKX0sYS5wcm90b3R5cGUuZ2V0VmVydGljZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmVydGljZXN9LGEucHJvdG90eXBlLmdldFZlcnRleD1mdW5jdGlvbihlKXtyZXR1cm4gcy5Db25zb2xlVXRpbHMuYXNzZXJ0KDA9PT1lfHwxPT09ZSksdGhpcy5fdmVydGljZXNbZV19LGEucHJvdG90eXBlLmdldFN0YXJ0VmVydGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZlcnRpY2VzWzBdfSxhLnByb3RvdHlwZS5nZXRFbmRWZXJ0ZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmVydGljZXNbMV19LGEucHJvdG90eXBlLnNldENvZWRnZT1mdW5jdGlvbihlKXt0aGlzLl9jb2VkZ2U9ZX0sYS5wcm90b3R5cGUuZ2V0Q29lZGdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvZWRnZX0sYS5wcm90b3R5cGUuZ2V0Q29lZGdlcz1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PXRoaXMuX2NvZWRnZTt0OyllLnB1c2godCksKHQ9dC5nZXRQYXJ0bmVyKCkpPT09dGhpcy5fY29lZGdlJiYodD12b2lkIDApO3JldHVybiBlfSxhLnByb3RvdHlwZS5zZXRXaXJlPWZ1bmN0aW9uKGUpe3RoaXMuX3dpcmU9ZX0sYS5wcm90b3R5cGUuZ2V0V2lyZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl93aXJlfSxhLnByb3RvdHlwZS5nZXRSYW5nZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZX0sYS5wcm90b3R5cGUuc2V0UmFuZ2U9ZnVuY3Rpb24oZSl7cy5Db25zb2xlVXRpbHMuYXNzZXJ0KDI9PT1lLmxlbmd0aCksdGhpcy5fcmFuZ2VbMF09ZVswXSx0aGlzLl9yYW5nZVsxXT1lWzFdfSxhLnByb3RvdHlwZS50MD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZVswXX0sYS5wcm90b3R5cGUuc2V0dDA9ZnVuY3Rpb24oZSl7dGhpcy5fcmFuZ2VbMF09ZX0sYS5wcm90b3R5cGUudDE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFuZ2VbMV19LGEucHJvdG90eXBlLnNldHQxPWZ1bmN0aW9uKGUpe3RoaXMuX3JhbmdlWzFdPWV9LGEucHJvdG90eXBlLmlzQ2xvc2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnZlJiZ0aGlzLl92ZXJ0aWNlc1swXSYmdGhpcy5fdmVydGljZXNbMF09PT10aGlzLl92ZXJ0aWNlc1sxXX0sYS5wcm90b3R5cGUuZ2V0T3RoZXJWZXJ0ZXg9ZnVuY3Rpb24oZSl7cmV0dXJuIHMuQ29uc29sZVV0aWxzLmFzc2VydCh0aGlzLl92ZXJ0aWNlc1swXT09PWV8fHRoaXMuX3ZlcnRpY2VzWzFdPT09ZSksdGhpcy5fdmVydGljZXNbMF09PT1lP3RoaXMuX3ZlcnRpY2VzWzFdOnRoaXMuX3ZlcnRpY2VzWzBdfSxhLnByb3RvdHlwZS5nZXRDb21tb25WZXJ0ZXg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRTdGFydFZlcnRleCgpLHI9dGhpcy5nZXRFbmRWZXJ0ZXgoKSxvPWUuZ2V0U3RhcnRWZXJ0ZXgoKSxpPWUuZ2V0RW5kVmVydGV4KCk7cmV0dXJuIHQ9PT1vfHx0PT09aT90OnI9PT1vfHxyPT09aT9yOm51bGx9LGEucHJvdG90eXBlLnNldFZlcnRleD1mdW5jdGlvbihlLHQpe3MuQ29uc29sZVV0aWxzLmFzc2VydCgwPT09ZXx8MT09PWUpLHQhPT10aGlzLl92ZXJ0aWNlc1tlXSYmKHRoaXMuX3ZlcnRpY2VzW2VdJiZ0aGlzLl92ZXJ0aWNlc1swXSE9PXRoaXMuX3ZlcnRpY2VzWzFdJiZ0aGlzLl92ZXJ0aWNlc1tlXS5yZW1vdmVFZGdlKHRoaXMpLHRoaXMuX3ZlcnRpY2VzW2VdPXQsdCYmdGhpcy5fdmVydGljZXNbZV0uYWRkRWRnZSh0aGlzKSl9LGEucHJvdG90eXBlLnNldFN0YXJ0VmVydGV4PWZ1bmN0aW9uKGUpe3RoaXMuc2V0VmVydGV4KDAsZSl9LGEucHJvdG90eXBlLnNldEVuZFZlcnRleD1mdW5jdGlvbihlKXt0aGlzLnNldFZlcnRleCgxLGUpfSxhLnByb3RvdHlwZS5nZXRDb2VkZ2VGb3JGYWNlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLl9jb2VkZ2U7dDspe2lmKHQuZ2V0RmFjZSgpPT09ZSlyZXR1cm4gdDtpZigodD10LmdldFBhcnRuZXIoKSk9PT10aGlzLl9jb2VkZ2UpYnJlYWt9fSxhLnByb3RvdHlwZS5nZXRPdGhlckZhY2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRDb2VkZ2VGb3JGYWNlKGUpO3MuQ29uc29sZVV0aWxzLmFzc2VydCh0KTt2YXIgcj10LmdldFBhcnRuZXIoKTtpZihyJiZyIT09dClyZXR1cm4gci5nZXRGYWNlKCl9LGEucHJvdG90eXBlLmlzUmV2ZXJzZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmV2ZXJzZWR9LGEucHJvdG90eXBlLnNldFJldmVyc2VkPWZ1bmN0aW9uKGUpe3RoaXMuX3JldmVyc2VkPWV9LGEucHJvdG90eXBlLmdldFByZWNpc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcmVjaXNpb259LGEucHJvdG90eXBlLnNldFByZWNpc2lvbj1mdW5jdGlvbihlKXtzLkNvbnNvbGVVdGlscy5hc3NlcnQoZT49MCksdGhpcy5fcHJlY2lzaW9uPWV9LGEucHJvdG90eXBlLmV2YWx1YXRlUG9zaXRpb249ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaXNSZXZlcnNlZCgpJiYoZT0tZSksdGhpcy5fY3VydmUuZXZhbHVhdGVQb3NpdGlvbihlKX0sYS5wcm90b3R5cGUuZXZhbHVhdGVEdD1mdW5jdGlvbihlKXt0aGlzLmlzUmV2ZXJzZWQoKSYmKGU9LWUpO3ZhciB0PXRoaXMuX2N1cnZlLmV2YWx1YXRlRHQoZSk7cmV0dXJuIHRoaXMuaXNSZXZlcnNlZCgpJiZvLlZlY3RvcjMubmVnYXRlKHQsdCksdH0sYS5wcm90b3R5cGUuZXZhbHVhdGVDdXJ2YXR1cmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5pc1JldmVyc2VkKCkmJihlPS1lKSx0aGlzLl9jdXJ2ZS5ldmFsdWF0ZUN1cnZhdHVyZShlLHQpfSxhLnByb3RvdHlwZS5jbG9zZXN0VG9Qb2ludFBhcmFtPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5fY3VydmUpe3ZhciByPXR8fHRoaXMuZ2V0UmFuZ2UoKTt0aGlzLmlzUmV2ZXJzZWQoKSYmKHI9Wy1yWzFdLC1yWzBdXSk7dmFyIG89dGhpcy5fY3VydmUuY2xvc2VzdFRvUG9pbnRQYXJhbShlLHIpO3JldHVybiB0aGlzLmlzUmV2ZXJzZWQoKT8tbzpvfX0sYS5wcm90b3R5cGUuaW5jbHVkZXNQb2ludD1mdW5jdGlvbihlKXt2YXIgdD1NYXRoLm1heCh0aGlzLmdldFByZWNpc2lvbigpLG4uS0VSTkVMX1RPTEVSQU5DRSkscj10aGlzLmNsb3Nlc3RUb1BvaW50UGFyYW0oZSksaT10aGlzLmV2YWx1YXRlUG9zaXRpb24ocik7cmV0dXJuIG8uVmVjdG9yMy5zcXVhcmVkRGlzdGFuY2UoaSxlKTx0KnR9LGEucHJvdG90eXBlLmRpc3RhbmNlVG9Qb2ludD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmNsb3Nlc3RUb1BvaW50UGFyYW0oZSkscj10aGlzLmV2YWx1YXRlUG9zaXRpb24odCk7cmV0dXJuIG8uVmVjdG9yMy5kaXN0YW5jZShyLGUpfSxhLnByb3RvdHlwZS50ZXNzZWxsYXRlPWZ1bmN0aW9uKGUsdCl7dmFyIHIsaTtpZighMT09PXRoaXMuaXNSZXZlcnNlZCgpKXI9ZXx8W3RoaXMuX3JhbmdlWzBdLHRoaXMuX3JhbmdlWzFdXTtlbHNlIGlmKGUpe3I9bmV3IEFycmF5KGUubGVuZ3RoKTtmb3IodmFyIG49MDtuPGUubGVuZ3RoOysrbilyW25dPS1lW2UubGVuZ3RoLTEtbl19ZWxzZSByPVstdGhpcy5fcmFuZ2VbMV0sLXRoaXMuX3JhbmdlWzBdXTt2YXIgcyxhPXRoaXMuX2N1cnZlLnRlc3NlbGxhdGUocix0KTtpZih0aGlzLl90ZXNzZWxsYXRpb25Qb2ludHMubGVuZ3RoIT09YS5wb3NpdGlvbnMubGVuZ3RoKWZvcih0aGlzLl90ZXNzZWxsYXRpb25Qb2ludHM9bmV3IEFycmF5KGEucG9zaXRpb25zLmxlbmd0aCksbj0wO248YS5wb3NpdGlvbnMubGVuZ3RoO24rKyl0aGlzLl90ZXNzZWxsYXRpb25Qb2ludHNbbl09by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtpZighMT09PXRoaXMuaXNSZXZlcnNlZCgpKWZvcihzPWEub2Zmc2V0cyxpPTA7aTxhLnBvc2l0aW9ucy5sZW5ndGg7KytpKW8uVmVjdG9yMy5jb3B5KHRoaXMuX3Rlc3NlbGxhdGlvblBvaW50c1tpXSxhLnBvc2l0aW9uc1tpXSk7ZWxzZXtmb3IoaT0wO2k8YS5wb3NpdGlvbnMubGVuZ3RoOysraSlvLlZlY3RvcjMuY29weSh0aGlzLl90ZXNzZWxsYXRpb25Qb2ludHNbaV0sYS5wb3NpdGlvbnNbYS5wb3NpdGlvbnMubGVuZ3RoLTEtaV0pO2ZvcihzPW5ldyBBcnJheShhLm9mZnNldHMubGVuZ3RoKSxpPTA7aTxhLm9mZnNldHMubGVuZ3RoOysraSlzW2ldPWEucG9zaXRpb25zLmxlbmd0aC0xLWEub2Zmc2V0c1thLm9mZnNldHMubGVuZ3RoLTEtaV19cmV0dXJue3Bvc2l0aW9uczp0aGlzLl90ZXNzZWxsYXRpb25Qb2ludHMsb2Zmc2V0czpzLHRvbGVyYW5jZTphLnRvbGVyYW5jZX19LGEucHJvdG90eXBlLmdldEJvZHk9ZnVuY3Rpb24oKXtyZXR1cm4gcy5Db25zb2xlVXRpbHMuYXNzZXJ0KHZvaWQgMD09PXRoaXMuX2NvZWRnZXx8dm9pZCAwPT09dGhpcy5fd2lyZSksdGhpcy5fY29lZGdlP3RoaXMuX2NvZWRnZS5nZXRCb2R5KCk6dGhpcy5fd2lyZT90aGlzLl93aXJlLmdldEJvZHkoKTp2b2lkIDB9LGEucHJvdG90eXBlLmNvbGxlY3RGYWNlcz1mdW5jdGlvbihlKXtlPWV8fG5ldyBTZXQ7Zm9yKHZhciB0PXRoaXMuX2NvZWRnZTt0Oyl0LmNvbGxlY3RGYWNlcyhlKSwodD10LmdldFBhcnRuZXIoKSk9PT10aGlzLl9jb2VkZ2UmJih0PXZvaWQgMCk7cmV0dXJuIGV9LGEucHJvdG90eXBlLmNvbGxlY3RFZGdlcz1mdW5jdGlvbihlKXtyZXR1cm4oZT1lfHxuZXcgU2V0KS5hZGQodGhpcyksZX0sYS5wcm90b3R5cGUuY29sbGVjdFZlcnRpY2VzPWZ1bmN0aW9uKGUpe2U9ZXx8bmV3IFNldDtmb3IodmFyIHQ9MDt0PHRoaXMuX3ZlcnRpY2VzLmxlbmd0aDsrK3QpdGhpcy5fdmVydGljZXNbdF0mJmUuYWRkKHRoaXMuX3ZlcnRpY2VzW3RdKTtyZXR1cm4gZX0sYS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3g9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFJhbmdlKCk7cmV0dXJuITA9PT10aGlzLmlzUmV2ZXJzZWQoKSYmKGU9Wy1lWzFdLC1lWzBdXSksdGhpcy5fY3VydmUuZ2V0Qm91bmRpbmdCb3goZSl9LGEucHJvdG90eXBlLmNsb3Nlc3RUb1JheVBhcmFtPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz10aGlzLmdldFJhbmdlKCk7ITA9PT10aGlzLmlzUmV2ZXJzZWQoKSYmKG89Wy1vWzFdLC1vWzBdXSk7dmFyIGk9dGhpcy5fY3VydmUuY2xvc2VzdFRvUmF5UGFyYW0oZSx0LG8scik7cmV0dXJuITA9PT10aGlzLmlzUmV2ZXJzZWQoKT8taTppfSxhLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBuLkdFT01FVFJZX1RZUEVTLnRvU3RyaW5nKHRoaXMuZ2V0Q3VydmVUeXBlKCkpK1wiIFwiK1N0cmluZyh0aGlzLmdldFN0YXJ0VmVydGV4KCkpK1wiIC0+IFwiK1N0cmluZyh0aGlzLmdldEVuZFZlcnRleCgpKX0sYS5wcm90b3R5cGUuZ2V0TG9vcHM9ZnVuY3Rpb24oKXtjb25zdCBlPXRoaXMuZ2V0Q29lZGdlcygpLHQ9bmV3IFNldDtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKyl0LmFkZChlW3JdLmdldExvb3AoKSk7cmV0dXJuIEFycmF5LmZyb20odCl9LGEucHJvdG90eXBlLnRvT2JqZWN0PWZ1bmN0aW9uKCl7cmV0dXJue3ZlcnRleDA6dGhpcy5yZWZUb1N0cmluZyh0aGlzLl92ZXJ0aWNlc1swXSksdmVydGV4MTp0aGlzLnJlZlRvU3RyaW5nKHRoaXMuX3ZlcnRpY2VzWzFdKSxwcmVjaXNpb246dGhpcy5fcHJlY2lzaW9uLHJhbmdlOnRoaXMucmFuZ2VUb09iamVjdCh0aGlzLl9yYW5nZSwhMCkscmV2ZXJzZWQ6dGhpcy5fcmV2ZXJzZWQsZ2VvbWV0cnk6dGhpcy5yZWZUb1N0cmluZyh0aGlzLl9jdXJ2ZSksYXR0cmlidXRlczp0aGlzLnJlZnNUb1N0cmluZ3ModGhpcy5fYXR0cmlidXRlcyl9fSxhLnByb3RvdHlwZS5hZGRUb01vZGVsT2JqZWN0PWZ1bmN0aW9uKGUpe3RoaXMuYWRkQWxsVG9Nb2RlbE9iamVjdChlLFt0aGlzLl92ZXJ0aWNlc1swXSx0aGlzLl92ZXJ0aWNlc1sxXSx0aGlzLl9jdXJ2ZSx0aGlzLl9hdHRyaWJ1dGVzXSl9LHQuRWRnZT1hfSw4OTcyOihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkVsbGlwc2U9dm9pZCAwO3ZhciBvPXIoMTk3MiksaT1yKDMzNDQpLG49cigyMzU1KSxzPXIoMjQ2OCksYT1yKDE0NzIpLGM9cig1ODk2KSx1PXIoMWUzKSxsPXIoNDcyOCksaD1yKDQzMzYpLGQ9ZnVuY3Rpb24oKXthLkN1cnZlLmNhbGwodGhpcyksdGhpcy5fY2VudGVyPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcygwLDAsMCksdGhpcy5fbm9ybWFsPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcygwLDAsMSksdGhpcy5feEF4aXM9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjRGcm9tVmFsdWVzKDEsMCwwKSx0aGlzLl95QXhpcz1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXMoMCwxLDApLHRoaXMuX21ham9yUmFkaXVzPTAsdGhpcy5fbWlub3JSYWRpdXM9MCx0aGlzLl90ZXNzZWxsYXRpb25DYWNoZT1uZXcgaC5UZXNzZWxsYXRpb25DYWNoZX07KGQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYS5DdXJ2ZS5wcm90b3R5cGUpKS5nZXRHZW9tZXRyeVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gcy5HRU9NRVRSWV9UWVBFUy5FTExJUFNFfSxkLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0LHIsaSl7bC5Db25zb2xlVXRpbHMuYXNzZXJ0KG8uVmVjdG9yMy5zcXVhcmVkTGVuZ3RoKHQpPnMuS0VSTkVMX1RPTEVSQU5DRSpzLktFUk5FTF9UT0xFUkFOQ0UpLGwuQ29uc29sZVV0aWxzLmFzc2VydChvLlZlY3RvcjMuc3F1YXJlZExlbmd0aChyKT5zLktFUk5FTF9UT0xFUkFOQ0Uqcy5LRVJORUxfVE9MRVJBTkNFKSxsLkNvbnNvbGVVdGlscy5hc3NlcnQoby5WZWN0b3IzLmlzT3J0aG9nb25hbCh0LHIscy5LRVJORUxfQU5HVUxBUl9UT0xFUkFOQ0UpKSxsLkNvbnNvbGVVdGlscy5hc3NlcnQoaT5vLkZMT0FUNjRfVE9MRVJBTkNFJiZpPD0xLFwiSW52YWxpZCByYWRpdXMgcmF0aW9cIiksby5WZWN0b3IzLmNvcHkodGhpcy5fY2VudGVyLGUpLG8uVmVjdG9yMy5ub3JtYWxpemUodGhpcy5fbm9ybWFsLHQpLG8uVmVjdG9yMy5ub3JtYWxpemUodGhpcy5feEF4aXMsciksdGhpcy5fbWFqb3JSYWRpdXM9by5WZWN0b3IzLmxlbmd0aChyKSx0aGlzLl9taW5vclJhZGl1cz10aGlzLl9tYWpvclJhZGl1cyppLHRoaXMuX2NvbXB1dGVZQXhpcygpLHRoaXMuX2RpcnR5VGVzc2VsbGF0aW9uKCl9LGQucHJvdG90eXBlLl9jb21wdXRlWUF4aXM9ZnVuY3Rpb24oKXtvLlZlY3RvcjMuY3Jvc3ModGhpcy5feUF4aXMsdGhpcy5fbm9ybWFsLHRoaXMuX3hBeGlzKX0sZC5wcm90b3R5cGUuZ2V0Q2VudGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NlbnRlcn0sZC5wcm90b3R5cGUuZ2V0Tm9ybWFsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vcm1hbH0sZC5wcm90b3R5cGUuc2V0Q2VudGVyPWZ1bmN0aW9uKGUpe28uVmVjdG9yMy5jb3B5KHRoaXMuX2NlbnRlcixlKSx0aGlzLl9kaXJ0eVRlc3NlbGxhdGlvbigpfSxkLnByb3RvdHlwZS5zZXROb3JtYWw9ZnVuY3Rpb24oZSl7bC5Db25zb2xlVXRpbHMuYXNzZXJ0KG8uVmVjdG9yMy5zcXVhcmVkTGVuZ3RoKGUpPnMuS0VSTkVMX1RPTEVSQU5DRSpzLktFUk5FTF9UT0xFUkFOQ0UpLHRoaXMuX25vcm1hbCE9PWUmJihvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX25vcm1hbCxlKSxvLlZlY3RvcjMuaXNPcnRob2dvbmFsKHRoaXMuX3hBeGlzLHRoaXMuX25vcm1hbCl8fChvLlZlY3RvcjMuY29tcHV0ZU9ydGhvZ29uYWwodGhpcy5feEF4aXMsdGhpcy5fbm9ybWFsKSxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX3hBeGlzLHRoaXMuX3hBeGlzKSksdGhpcy5fY29tcHV0ZVlBeGlzKCksdGhpcy5fZGlydHlUZXNzZWxsYXRpb24oKSl9LGQucHJvdG90eXBlLnNldE1ham9yQXhpcz1mdW5jdGlvbihlKXtsLkNvbnNvbGVVdGlscy5hc3NlcnQoby5WZWN0b3IzLnNxdWFyZWRMZW5ndGgoZSk+cy5LRVJORUxfVE9MRVJBTkNFKnMuS0VSTkVMX1RPTEVSQU5DRSksbC5Db25zb2xlVXRpbHMuYXNzZXJ0KG8uVmVjdG9yMy5pc09ydGhvZ29uYWwoZSx0aGlzLl9ub3JtYWwscy5LRVJORUxfQU5HVUxBUl9UT0xFUkFOQ0UpKSxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX3hBeGlzLGUpLHRoaXMuX2NvbXB1dGVZQXhpcygpLHRoaXMuX2RpcnR5VGVzc2VsbGF0aW9uKCl9LGQucHJvdG90eXBlLmdldE1ham9yQXhpcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl94QXhpc30sZC5wcm90b3R5cGUuZ2V0TWlub3JBeGlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3lBeGlzfSxkLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBkO3JldHVybiBlLmNvcHkodGhpcyksZX0sZC5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlKXthLkN1cnZlLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlKSxvLlZlY3RvcjMuY29weSh0aGlzLl94QXhpcyxlLl94QXhpcyksby5WZWN0b3IzLmNvcHkodGhpcy5feUF4aXMsZS5feUF4aXMpLHRoaXMuX21ham9yUmFkaXVzPWUuX21ham9yUmFkaXVzLHRoaXMuX21pbm9yUmFkaXVzPWUuX21pbm9yUmFkaXVzLG8uVmVjdG9yMy5jb3B5KHRoaXMuX2NlbnRlcixlLl9jZW50ZXIpLG8uVmVjdG9yMy5jb3B5KHRoaXMuX25vcm1hbCxlLl9ub3JtYWwpfSxkLnByb3RvdHlwZS5nZXRNYWpvclJhZGl1cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYWpvclJhZGl1c30sZC5wcm90b3R5cGUuZ2V0TWlub3JSYWRpdXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWlub3JSYWRpdXN9LGQucHJvdG90eXBlLnNldE1ham9yUmFkaXVzPWZ1bmN0aW9uKGUpe2wuQ29uc29sZVV0aWxzLmFzc2VydChlPnMuS0VSTkVMX1RPTEVSQU5DRSksdGhpcy5fbWFqb3JSYWRpdXM9ZSx0aGlzLl9kaXJ0eVRlc3NlbGxhdGlvbigpfSxkLnByb3RvdHlwZS5zZXRNaW5vclJhZGl1cz1mdW5jdGlvbihlKXtsLkNvbnNvbGVVdGlscy5hc3NlcnQoZT5zLktFUk5FTF9UT0xFUkFOQ0UpLHRoaXMuX21pbm9yUmFkaXVzPWUsdGhpcy5fZGlydHlUZXNzZWxsYXRpb24oKX0sZC5wcm90b3R5cGUuZ2V0UmFuZ2VVbmxpbWl0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm5bLU1hdGguUEksTWF0aC5QSV19LGQucHJvdG90eXBlLmlzUGVyaW9kaWNVbmxpbWl0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZC5wcm90b3R5cGUuaXNDbG9zZWRVbmxpbWl0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZC5wcm90b3R5cGUuX2RpcnR5VGVzc2VsbGF0aW9uPWZ1bmN0aW9uKCl7dGhpcy5fdGVzc2VsbGF0aW9uQ2FjaGUuc2V0RGlydHkoITApfSxkLnByb3RvdHlwZS5fZXZhbHVhdGVBcmNMZW5ndGhJbnRlZ3JhbmQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbWFqb3JSYWRpdXMqTWF0aC5zaW4oZSkscj10aGlzLl9taW5vclJhZGl1cypNYXRoLmNvcyhlKTtyZXR1cm4gTWF0aC5zcXJ0KHQqdCtyKnIpfSxkLnByb3RvdHlwZS5nZXRBcmNMZW5ndGg9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZT9lPXRoaXMuZ2V0UmFuZ2UoKTowPT09ZS5sZW5ndGgmJihlPXRoaXMuZ2V0UmFuZ2VVbmxpbWl0ZWQoKSk7Zm9yKHZhciB0PWVbMF0scj0wO3Q8ZVsxXStzLlBBUkFNRVRFUl9TUEFDRV9UT0xFUkFOQ0U7KXtmb3IodmFyIG89dCxpPVt0aGlzLl9ldmFsdWF0ZUFyY0xlbmd0aEludGVncmFuZCh0KV07aS5sZW5ndGg8NSYmdDxlWzFdK3MuUEFSQU1FVEVSX1NQQUNFX1RPTEVSQU5DRTspdCs9LjAxLGkucHVzaCh0aGlzLl9ldmFsdWF0ZUFyY0xlbmd0aEludGVncmFuZCh0KSk7c3dpdGNoKG89dC1vLGkubGVuZ3RoKXtjYXNlIDE6YnJlYWs7Y2FzZSAyOnIrPShpWzBdK2lbMV0pKm8vMjticmVhaztjYXNlIDM6cis9KGlbMF0rNCppWzFdK2lbMl0pKm8vNjticmVhaztjYXNlIDQ6cis9KGlbMF0rMyppWzFdKzMqaVsyXStpWzNdKSpvLzg7YnJlYWs7ZGVmYXVsdDpyKz0oNyppWzBdKzMyKmlbMV0rMTIqaVsyXSszMippWzNdKzcqaVs0XSkqby85MH0obz10LWVbMV0pPnMuUEFSQU1FVEVSX1NQQUNFX1RPTEVSQU5DRSYmKHItPXRoaXMuX2V2YWx1YXRlQXJjTGVuZ3RoSW50ZWdyYW5kKGVbMV0pKm8pfXJldHVybiByfSxkLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJGcm9tQXJjTGVuZ3RoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/dD10aGlzLmdldFJhbmdlKCk6MD09PXQubGVuZ3RoJiYodD10aGlzLmdldFJhbmdlVW5saW1pdGVkKCkpLCgwLHUuaW52ZXJ0SW50ZWdyYWwxRCkodGhpcy5fZXZhbHVhdGVBcmNMZW5ndGhJbnRlZ3JhbmQuYmluZCh0aGlzKSxlLHQpfSxkLnByb3RvdHlwZS5ldmFsdWF0ZVBvc2l0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcygwLDAsMCk7cmV0dXJuIG8uVmVjdG9yMy5zY2FsZUFuZEFkZCh0LHQsdGhpcy5feEF4aXMsTWF0aC5jb3MoZSkqdGhpcy5fbWFqb3JSYWRpdXMpLG8uVmVjdG9yMy5zY2FsZUFuZEFkZCh0LHQsdGhpcy5feUF4aXMsTWF0aC5zaW4oZSkqdGhpcy5fbWlub3JSYWRpdXMpLG8uVmVjdG9yMy5hZGQodCx0LHRoaXMuX2NlbnRlciksdH0sZC5wcm90b3R5cGUuZXZhbHVhdGVEdD1mdW5jdGlvbihlKXt2YXIgdD1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NEZyb21WYWx1ZXMoMCwwLDApO3JldHVybiBvLlZlY3RvcjMuc2NhbGVBbmRBZGQodCx0LHRoaXMuX3hBeGlzLC1NYXRoLnNpbihlKSp0aGlzLl9tYWpvclJhZGl1cyksby5WZWN0b3IzLnNjYWxlQW5kQWRkKHQsdCx0aGlzLl95QXhpcyxNYXRoLmNvcyhlKSp0aGlzLl9taW5vclJhZGl1cyksdH0sZC5wcm90b3R5cGUuZXZhbHVhdGVEdHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjRGcm9tVmFsdWVzKDAsMCwwKTtyZXR1cm4gby5WZWN0b3IzLnNjYWxlQW5kQWRkKHQsdCx0aGlzLl94QXhpcywtTWF0aC5jb3MoZSkqdGhpcy5fbWFqb3JSYWRpdXMpLG8uVmVjdG9yMy5zY2FsZUFuZEFkZCh0LHQsdGhpcy5feUF4aXMsLU1hdGguc2luKGUpKnRoaXMuX21pbm9yUmFkaXVzKSx0fSxkLnByb3RvdHlwZS5fZ2V0RnVsbFRlc3NlbGxhdGlvbj1mdW5jdGlvbihlKXt2YXIgdD1bLU1hdGguUEksLU1hdGguUEkvMiwwLE1hdGguUEkvMixNYXRoLlBJXSxyPWguQ3VydmVUZXNzZWxsYXRvci5nZXRBZGFwdGl2ZVJlbmRlclBvaW50cyh0aGlzLGUsWy1NYXRoLlBJLE1hdGguUEldLHQpO3JldHVybiByLmRpZFJldGVzc2VsbGF0ZT0hMCxyfSxkLnByb3RvdHlwZS50ZXNzZWxsYXRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8cy5URVNTRUxMQVRJT04uTElORUFSX1BSRUNJU0lPTix0aGlzLl90ZXNzZWxsYXRpb25DYWNoZS5nZXRUZXNzZWxsYXRpb24oZSx0aGlzLHQsdGhpcy5fZ2V0RnVsbFRlc3NlbGxhdGlvbi5iaW5kKHRoaXMpKX0sZC5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3g9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZT9lPXRoaXMuZ2V0UmFuZ2UoKTowPT09ZS5sZW5ndGgmJihlPXRoaXMuZ2V0UmFuZ2VVbmxpbWl0ZWQoKSk7dmFyIHQ9KDAsYy5taW5NYXhDb3NTaW5GdW5jKSh0aGlzLl94QXhpc1swXSp0aGlzLl9tYWpvclJhZGl1cyx0aGlzLl95QXhpc1swXSp0aGlzLl9taW5vclJhZGl1cyx0aGlzLl9jZW50ZXJbMF0sZSkscj0oMCxjLm1pbk1heENvc1NpbkZ1bmMpKHRoaXMuX3hBeGlzWzFdKnRoaXMuX21ham9yUmFkaXVzLHRoaXMuX3lBeGlzWzFdKnRoaXMuX21pbm9yUmFkaXVzLHRoaXMuX2NlbnRlclsxXSxlKSxvPSgwLGMubWluTWF4Q29zU2luRnVuYykodGhpcy5feEF4aXNbMl0qdGhpcy5fbWFqb3JSYWRpdXMsdGhpcy5feUF4aXNbMl0qdGhpcy5fbWlub3JSYWRpdXMsdGhpcy5fY2VudGVyWzJdLGUpLG49bmV3IGkuQm91bmRpbmdCb3g7cmV0dXJuIG4ubWluWzBdPXRbMF0sbi5tYXhbMF09dFsxXSxuLm1pblsxXT1yWzBdLG4ubWF4WzFdPXJbMV0sbi5taW5bMl09b1swXSxuLm1heFsyXT1vWzFdLG59LGQucHJvdG90eXBlLmdldFRhbmdlbnRDb25lPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWU/ZT10aGlzLmdldFJhbmdlKCk6MD09PWUubGVuZ3RoJiYoZT10aGlzLmdldFJhbmdlVW5saW1pdGVkKCkpO3ZhciB0PXRoaXMuZXZhbHVhdGVEdChlWzBdKTtvLlZlY3RvcjMubm9ybWFsaXplKHQsdCk7dmFyIHI9dGhpcy5ldmFsdWF0ZUR0KGVbMV0pO28uVmVjdG9yMy5ub3JtYWxpemUocixyKTt2YXIgaT1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLGE9by5WZWN0b3IzLmRvdCh0LHIpLHU9by5WZWN0b3IzLmRvdChvLlZlY3RvcjMuY3Jvc3MoaSx0LHIpLHRoaXMuX25vcm1hbCksbD1NYXRoLmF0YW4yKHUsYSk7bDwwP2wrPWMuUEkyOmVbMV0tZVswXT5jLlBJMi1zLlBBUkFNRVRFUl9TUEFDRV9UT0xFUkFOQ0UmJihsPWMuUEkyKSxsKj0uNSxhPU1hdGguY29zKGwpLHU9TWF0aC5zaW4obCk7dmFyIGg9by5WZWN0b3IzLmNsb25lKHQpO3JldHVybiBvLlZlY3RvcjMuc2NhbGUoaCxoLGEpLG8uVmVjdG9yMy5jcm9zcyhpLHRoaXMuX25vcm1hbCx0KSxvLlZlY3RvcjMuc2NhbGVBbmRBZGQoaCxoLGksdSksbmV3IG4uVGFuZ2VudENvbmUoaCxsKX0sZC5wcm90b3R5cGUudHJhbnNmb3JtPWZ1bmN0aW9uKGUpe28uVmVjdG9yMy50cmFuc2Zvcm1NYXRyaXg0NCh0aGlzLl9jZW50ZXIsdGhpcy5fY2VudGVyLGUpLG8uVmVjdG9yMy50cmFuc2Zvcm1Bc0RpcmVjdGlvbk1hdHJpeDQ0KHRoaXMuX25vcm1hbCx0aGlzLl9ub3JtYWwsZSksby5WZWN0b3IzLnNjYWxlKHRoaXMuX3hBeGlzLHRoaXMuX3hBeGlzLHRoaXMuX21ham9yUmFkaXVzKSxvLlZlY3RvcjMuc2NhbGUodGhpcy5feUF4aXMsdGhpcy5feUF4aXMsdGhpcy5fbWlub3JSYWRpdXMpLG8uVmVjdG9yMy50cmFuc2Zvcm1Bc0RpcmVjdGlvbk1hdHJpeDQ0KHRoaXMuX3hBeGlzLHRoaXMuX3hBeGlzLGUpLG8uVmVjdG9yMy50cmFuc2Zvcm1Bc0RpcmVjdGlvbk1hdHJpeDQ0KHRoaXMuX3lBeGlzLHRoaXMuX3lBeGlzLGUpLHRoaXMuX21ham9yUmFkaXVzPW8uVmVjdG9yMy5sZW5ndGgodGhpcy5feEF4aXMpLHRoaXMuX21pbm9yUmFkaXVzPW8uVmVjdG9yMy5sZW5ndGgodGhpcy5feUF4aXMpLG8uVmVjdG9yMy5ub3JtYWxpemUodGhpcy5fbm9ybWFsLHRoaXMuX25vcm1hbCksby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl94QXhpcyx0aGlzLl94QXhpcyksdGhpcy5fY29tcHV0ZVlBeGlzKCksdGhpcy5fZGlydHlUZXNzZWxsYXRpb24oKX0sZC5wcm90b3R5cGUuY2xvc2VzdFRvUmF5UGFyYW09ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7by5WZWN0b3IzLnN1YihpLHRoaXMuX2NlbnRlcixlKTt2YXIgbj1vLlZlY3RvcjMuZG90KGksdGhpcy5fbm9ybWFsKS9vLlZlY3RvcjMuZG90KHQsdGhpcy5fbm9ybWFsKTtpZihpc0Zpbml0ZShuKSl7dmFyIHM9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtyZXR1cm4gby5WZWN0b3IzLnNjYWxlQW5kQWRkKHMsZSx0LG4pLHRoaXMuY2xvc2VzdFRvUG9pbnRQYXJhbShzLHIpfX0sZC5wcm90b3R5cGUuaXNDaXJjdWxhcj1mdW5jdGlvbigpe3JldHVybiBNYXRoLmFicyh0aGlzLl9tYWpvclJhZGl1cy10aGlzLl9taW5vclJhZGl1cyk8cy5LRVJORUxfVE9MRVJBTkNFfSxkLnByb3RvdHlwZS5jbG9zZXN0VG9Qb2ludFBhcmFtPWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dD90PXRoaXMuZ2V0UmFuZ2UoKTowPT09dC5sZW5ndGgmJih0PXRoaXMuZ2V0UmFuZ2VVbmxpbWl0ZWQoKSk7dmFyIHI9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtvLlZlY3RvcjMuc3ViKHIsZSx0aGlzLl9jZW50ZXIpO3ZhciBpPW8uVmVjdG9yMy5kb3Qocix0aGlzLl94QXhpcyksbj1vLlZlY3RvcjMuZG90KHIsdGhpcy5feUF4aXMpO2lmKGkqaStuKm48cy5LRVJORUxfVE9MRVJBTkNFKnMuS0VSTkVMX1RPTEVSQU5DRSl7dmFyIGE9LjUqTWF0aC5QSTtpZigoKGE9KDAsYy5hZGp1c3RQYXJhbWV0ZXJUb1BlcmlvZGljUmFuZ2UpKGEsdCxjLlBJMikpPHRbMF18fGE+dFsxXSkmJihhPSgwLGMuYWRqdXN0UGFyYW1ldGVyVG9QZXJpb2RpY1JhbmdlKSguNSotTWF0aC5QSSx0LGMuUEkyKSksYTx0WzBdfHxhPnRbMV0pe3ZhciBsPXRoaXMuZXZhbHVhdGVQb3NpdGlvbih0WzBdKSxoPXRoaXMuZXZhbHVhdGVQb3NpdGlvbih0WzFdKTthPW8uVmVjdG9yMy5zcXVhcmVkRGlzdGFuY2UodGhpcy5fY2VudGVyLGwpPG8uVmVjdG9yMy5zcXVhcmVkRGlzdGFuY2UodGhpcy5fY2VudGVyLGgpP3RbMF06dFsxXX1yZXR1cm4gYX12YXIgZD10aGlzLl9tYWpvclJhZGl1cyxwPXRoaXMuX21pbm9yUmFkaXVzLGc9TWF0aC5hdGFuMihkKm4scCppKSxmPXRoaXMuZXZhbHVhdGVQb3NpdGlvbihnKTsoby5WZWN0b3IzLnN1YihmLGYsdGhpcy5fY2VudGVyKSxpKmkrbipuPG8uVmVjdG9yMy5zcXVhcmVkTGVuZ3RoKGYpKSYmKGc9KG48cy5LRVJORUxfVE9MRVJBTkNFPy0xOjEpKk1hdGguYWNvcyhpL2QpKTt2YXIgdixfPW8uRkxPQVQ2NF9UT0xFUkFOQ0UseT1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmV2YWx1YXRlUG9zaXRpb24odCksbz10aGlzLmV2YWx1YXRlRHQodCksaT10aGlzLmV2YWx1YXRlRHR0KHQpLG49W3JbMF0tZVswXSxyWzFdLWVbMV0sclsyXS1lWzJdXTtyZXR1cm57dmFsOjIqKG5bMF0qb1swXStuWzFdKm9bMV0rblsyXSpvWzJdKSxkZXJpdjoyKihuWzBdKmlbMF0rblsxXSppWzFdK25bMl0qaVsyXSsob1swXSpvWzBdK29bMV0qb1sxXStvWzJdKm9bMl0pKX19LG09KDAsdS5uZXd0b25SYXBoc29uMUQpKHkuYmluZCh0aGlzKSx2b2lkIDAsZyxfLDMyKTsobT0oMCxjLmFkanVzdFBhcmFtZXRlclRvUGVyaW9kaWNSYW5nZSkobSx0LGMuUEkyKSk8dFswXXx8bT50WzFdPyhtPSgwLHUubmV3dG9uUmFwaHNvbjFEKSh5LmJpbmQodGhpcyksdm9pZCAwLC1tLF8sMzIpLHY9KG09KDAsYy5hZGp1c3RQYXJhbWV0ZXJUb1BlcmlvZGljUmFuZ2UpKG0sdCxjLlBJMikpPHRbMF18fG0+dFsxXT8xLzA6by5WZWN0b3IzLnNxdWFyZWREaXN0YW5jZShlLHRoaXMuZXZhbHVhdGVQb3NpdGlvbihtKSkpOnY9by5WZWN0b3IzLnNxdWFyZWREaXN0YW5jZShlLHRoaXMuZXZhbHVhdGVQb3NpdGlvbihtKSk7dmFyIEU9by5WZWN0b3IzLnNxdWFyZWREaXN0YW5jZShlLHRoaXMuZXZhbHVhdGVQb3NpdGlvbih0WzBdKSkseD1vLlZlY3RvcjMuc3F1YXJlZERpc3RhbmNlKGUsdGhpcy5ldmFsdWF0ZVBvc2l0aW9uKHRbMV0pKTtyZXR1cm4gRTx2JiYodj1FLG09dFswXSkseDx2JiYobT10WzFdKSxtfSxkLnByb3RvdHlwZS5zdWdnZXN0U3BsaXR0aW5nUGFyYW09ZnVuY3Rpb24oZSl7fSxkLnByb3RvdHlwZS50b09iamVjdD1mdW5jdGlvbigpe2NvbnN0IGU9dGhpcy5ldmFsdWF0ZVBvc2l0aW9uKDApO3JldHVybiBvLlZlY3RvcjMuc3ViKGUsZSx0aGlzLmdldENlbnRlcigpKSx7Y2VudGVyOnRoaXMudmVjdG9yVG9PYmplY3QodGhpcy5fY2VudGVyKSxtYWpvclJhZGl1czp0aGlzLnZlY3RvclRvT2JqZWN0KGUpLG5vcm1hbDp0aGlzLnZlY3RvclRvT2JqZWN0KHRoaXMuX25vcm1hbCkscmFkaXVzUmF0aW86dGhpcy5nZXRNaW5vclJhZGl1cygpL3RoaXMuZ2V0TWFqb3JSYWRpdXMoKSxyYW5nZTp0aGlzLnJhbmdlVG9PYmplY3QodGhpcy5nZXRSYW5nZSgpLHRoaXMuaXNMaW1pdGVkKCkpfX0sdC5FbGxpcHNlPWR9LDI5NTY6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuRWxsaXB0aWNhbENvbmU9dm9pZCAwO3ZhciBvPXIoMTk3MiksaT1yKDMzNDQpLG49cigxZTMpLHM9cigyNDY4KSxhPXIoNDEyKSxjPXIoMzU2NSksdT1yKDEwOTYpLGw9cig4OTcyKSxoPXIoNDcyOCksZD1mdW5jdGlvbigpe2EuU3VyZmFjZS5jYWxsKHRoaXMpLHRoaXMuX2NlbnRlcj1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLHRoaXMuX21ham9yUmFkaXVzPTAsdGhpcy5fbWlub3JSYWRpdXM9MCx0aGlzLl9hbmdsZT0wLHRoaXMuX3VTY2FsZT0xLHRoaXMuX3hBeGlzPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCksdGhpcy5feUF4aXM9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSx0aGlzLl96QXhpcz1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpfTsoZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShhLlN1cmZhY2UucHJvdG90eXBlKSkuZ2V0R2VvbWV0cnlUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHMuR0VPTUVUUllfVFlQRVMuRUxMSVBUSUNBTF9DT05FfSxkLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBkO3JldHVybiBlLmNvcHkodGhpcyksZX0sZC5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlKXthLlN1cmZhY2UucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMuX21ham9yUmFkaXVzPWUuX21ham9yUmFkaXVzLHRoaXMuX21pbm9yUmFkaXVzPWUuX21pbm9yUmFkaXVzLHRoaXMuX2FuZ2xlPWUuX2FuZ2xlLHRoaXMuX3VTY2FsZT1lLl91U2NhbGUsby5WZWN0b3IzLmNvcHkodGhpcy5fY2VudGVyLGUuX2NlbnRlciksby5WZWN0b3IzLmNvcHkodGhpcy5feEF4aXMsZS5feEF4aXMpLG8uVmVjdG9yMy5jb3B5KHRoaXMuX3lBeGlzLGUuX3lBeGlzKSxvLlZlY3RvcjMuY29weSh0aGlzLl96QXhpcyxlLl96QXhpcyl9LGQucHJvdG90eXBlLl9jb21wdXRlWUF4aXM9ZnVuY3Rpb24oKXtvLlZlY3RvcjMuY3Jvc3ModGhpcy5feUF4aXMsdGhpcy5feEF4aXMsdGhpcy5fekF4aXMpfSxkLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0LHIsaSxuLGEpe28uVmVjdG9yMy5jb3B5KHRoaXMuX2NlbnRlcixlKSx0aGlzLl9tYWpvclJhZGl1cz1vLlZlY3RvcjMubGVuZ3RoKHQpLGguQ29uc29sZVV0aWxzLmFzc2VydCh0aGlzLl9tYWpvclJhZGl1cz5zLktFUk5FTF9UT0xFUkFOQ0UpLG8uVmVjdG9yMy5ub3JtYWxpemUodGhpcy5feEF4aXMsdCksaC5Db25zb2xlVXRpbHMuYXNzZXJ0KHI8PTEpLHRoaXMuX21pbm9yUmFkaXVzPXIqdGhpcy5fbWFqb3JSYWRpdXMsaC5Db25zb2xlVXRpbHMuYXNzZXJ0KHRoaXMuX21pbm9yUmFkaXVzPnMuS0VSTkVMX1RPTEVSQU5DRSksaC5Db25zb2xlVXRpbHMuYXNzZXJ0KG8uVmVjdG9yMy5zcXVhcmVkTGVuZ3RoKGkpPnMuS0VSTkVMX1RPTEVSQU5DRSpzLktFUk5FTF9UT0xFUkFOQ0UpLGguQ29uc29sZVV0aWxzLmFzc2VydChvLlZlY3RvcjMuaXNPcnRob2dvbmFsKGksdCxzLktFUk5FTF9BTkdVTEFSX1RPTEVSQU5DRSkpLG8uVmVjdG9yMy5ub3JtYWxpemUodGhpcy5fekF4aXMsaSksaC5Db25zb2xlVXRpbHMuYXNzZXJ0KE1hdGguYWJzKG4pPE1hdGguUEkvMiksdGhpcy5fYW5nbGU9bix0aGlzLl91U2NhbGU9YXx8MSxoLkNvbnNvbGVVdGlscy5hc3NlcnQodGhpcy5fdVNjYWxlPnMuUEFSQU1FVEVSX1NQQUNFX1RPTEVSQU5DRSksdGhpcy5fY29tcHV0ZVlBeGlzKCl9LGQucHJvdG90eXBlLmdldE1ham9yUmFkaXVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21ham9yUmFkaXVzfSxkLnByb3RvdHlwZS5zZXRNYWpvclJhZGl1cz1mdW5jdGlvbihlKXtoLkNvbnNvbGVVdGlscy5hc3NlcnQoZT5zLktFUk5FTF9UT0xFUkFOQ0UpLHRoaXMuX21ham9yUmFkaXVzPWV9LGQucHJvdG90eXBlLmdldE1pbm9yUmFkaXVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21pbm9yUmFkaXVzfSxkLnByb3RvdHlwZS5zZXRNaW5vclJhZGl1cz1mdW5jdGlvbihlKXtoLkNvbnNvbGVVdGlscy5hc3NlcnQoZT5zLktFUk5FTF9UT0xFUkFOQ0UpLHRoaXMuX21pbm9yUmFkaXVzPWV9LGQucHJvdG90eXBlLmdldE1ham9yQXhpcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl94QXhpc30sZC5wcm90b3R5cGUuc2V0TWFqb3JBeGlzPWZ1bmN0aW9uKGUpe2guQ29uc29sZVV0aWxzLmFzc2VydChvLlZlY3RvcjMuc3F1YXJlZExlbmd0aChlKT5zLktFUk5FTF9UT0xFUkFOQ0Uqcy5LRVJORUxfVE9MRVJBTkNFKSxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX3hBeGlzLGUpLHRoaXMuX2NvbXB1dGVZQXhpcygpfSxkLnByb3RvdHlwZS5nZXRDZW50ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2VudGVyfSxkLnByb3RvdHlwZS5zZXRDZW50ZXI9ZnVuY3Rpb24oZSl7by5WZWN0b3IzLmNvcHkodGhpcy5fY2VudGVyLGUpfSxkLnByb3RvdHlwZS5nZXRBeGlzRGlyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pBeGlzfSxkLnByb3RvdHlwZS5zZXRBeGlzRGlyPWZ1bmN0aW9uKGUpe2guQ29uc29sZVV0aWxzLmFzc2VydChvLlZlY3RvcjMuc3F1YXJlZExlbmd0aChlKT5zLktFUk5FTF9UT0xFUkFOQ0Uqcy5LRVJORUxfVE9MRVJBTkNFKSxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX3pBeGlzLGUpLHRoaXMuX2NvbXB1dGVZQXhpcygpfSxkLnByb3RvdHlwZS5nZXRVU2NhbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdVNjYWxlfSxkLnByb3RvdHlwZS5zZXRVU2NhbGU9ZnVuY3Rpb24oZSl7aC5Db25zb2xlVXRpbHMuYXNzZXJ0KGU+cy5QQVJBTUVURVJfU1BBQ0VfVE9MRVJBTkNFKSx0aGlzLl91U2NhbGU9ZX0sZC5wcm90b3R5cGUuZ2V0QW5nbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYW5nbGV9LGQucHJvdG90eXBlLnNldEFuZ2xlPWZ1bmN0aW9uKGUpe2guQ29uc29sZVV0aWxzLmFzc2VydChNYXRoLmFicyhlKTxNYXRoLlBJLzItcy5LRVJORUxfQU5HVUxBUl9UT0xFUkFOQ0UpLHRoaXMuX2FuZ2xlPWV9LGQucHJvdG90eXBlLmlzQ3lsaW5kZXI9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5hYnModGhpcy5fYW5nbGUpPHMuS0VSTkVMX0FOR1VMQVJfVE9MRVJBTkNFfSxkLnByb3RvdHlwZS5nZXRBcGV4UGFyYW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0N5bGluZGVyKCk/dm9pZCAwOi10aGlzLl9tYWpvclJhZGl1cy8odGhpcy5fdVNjYWxlKk1hdGguc2luKHRoaXMuX2FuZ2xlKSl9LGQucHJvdG90eXBlLmdldEFwZXhQb3NpdGlvbj1mdW5jdGlvbigpe2lmKCF0aGlzLmlzQ3lsaW5kZXIoKSl7dmFyIGU9LXRoaXMuX21ham9yUmFkaXVzL01hdGgudGFuKHRoaXMuX2FuZ2xlKSx0PW8uVmVjdG9yMy5jbG9uZSh0aGlzLl9jZW50ZXIpO3JldHVybiBvLlZlY3RvcjMuc2NhbGVBbmRBZGQodCx0LHRoaXMuX3pBeGlzLGUpLHR9fSxkLnByb3RvdHlwZS5ldmFsdWF0ZVBvc2l0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9MStlKnRoaXMuX3VTY2FsZSpNYXRoLnNpbih0aGlzLl9hbmdsZSkvdGhpcy5fbWFqb3JSYWRpdXMsaT1yKnRoaXMuX21ham9yUmFkaXVzKk1hdGguY29zKHQpLG49cip0aGlzLl9taW5vclJhZGl1cypNYXRoLnNpbih0KSxzPWUqdGhpcy5fdVNjYWxlKk1hdGguY29zKHRoaXMuX2FuZ2xlKSxhPW8uVmVjdG9yMy5jbG9uZSh0aGlzLl9jZW50ZXIpO3JldHVybiBvLlZlY3RvcjMuc2NhbGVBbmRBZGQoYSxhLHRoaXMuX3hBeGlzLGkpLG8uVmVjdG9yMy5zY2FsZUFuZEFkZChhLGEsdGhpcy5feUF4aXMsbiksby5WZWN0b3IzLnNjYWxlQW5kQWRkKGEsYSx0aGlzLl96QXhpcyxzKSxhfSxkLnByb3RvdHlwZS5ldmFsdWF0ZU5vcm1hbD1mdW5jdGlvbihlLHQpe3ZhciByPU1hdGguY29zKHRoaXMuX2FuZ2xlKSxpPXIqdGhpcy5fbWlub3JSYWRpdXMqTWF0aC5jb3ModCksbj1yKnRoaXMuX21ham9yUmFkaXVzKk1hdGguc2luKHQpLHM9LU1hdGguc2luKHRoaXMuX2FuZ2xlKSp0aGlzLl9taW5vclJhZGl1cyxhPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7cmV0dXJuIG8uVmVjdG9yMy5zY2FsZShhLHRoaXMuX3hBeGlzLGkpLG8uVmVjdG9yMy5zY2FsZUFuZEFkZChhLGEsdGhpcy5feUF4aXMsbiksby5WZWN0b3IzLnNjYWxlQW5kQWRkKGEsYSx0aGlzLl96QXhpcyxzKSxvLlZlY3RvcjMubm9ybWFsaXplKGEsYSksYX0sZC5wcm90b3R5cGUuZXZhbHVhdGVEdT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX3VTY2FsZSpNYXRoLnNpbih0aGlzLl9hbmdsZSkvdGhpcy5fbWFqb3JSYWRpdXMsaT1yKnRoaXMuX21ham9yUmFkaXVzKk1hdGguY29zKHQpLG49cip0aGlzLl9taW5vclJhZGl1cypNYXRoLnNpbih0KSxzPXRoaXMuX3VTY2FsZSpNYXRoLmNvcyh0aGlzLl9hbmdsZSksYT1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpO3JldHVybiBvLlZlY3RvcjMuc2NhbGUoYSx0aGlzLl94QXhpcyxpKSxvLlZlY3RvcjMuc2NhbGVBbmRBZGQoYSxhLHRoaXMuX3lBeGlzLG4pLG8uVmVjdG9yMy5zY2FsZUFuZEFkZChhLGEsdGhpcy5fekF4aXMscyksYX0sZC5wcm90b3R5cGUuZXZhbHVhdGVEdj1mdW5jdGlvbihlLHQpe3ZhciByPTErZSp0aGlzLl91U2NhbGUqTWF0aC5zaW4odGhpcy5fYW5nbGUpL3RoaXMuX21ham9yUmFkaXVzLGk9LXIqdGhpcy5fbWFqb3JSYWRpdXMqTWF0aC5zaW4odCksbj1yKnRoaXMuX21pbm9yUmFkaXVzKk1hdGguY29zKHQpLHM9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtyZXR1cm4gby5WZWN0b3IzLnNjYWxlKHMsdGhpcy5feEF4aXMsaSksby5WZWN0b3IzLnNjYWxlQW5kQWRkKHMscyx0aGlzLl95QXhpcyxuKSxzfSxkLnByb3RvdHlwZS5jbG9zZXN0UGFyYW09ZnVuY3Rpb24oZSl7dmFyIHQscjtpZih0aGlzLmlzQ3lsaW5kZXIoKSl7dmFyIGk9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtvLlZlY3RvcjMuc3ViKGksZSx0aGlzLl9jZW50ZXIpLHQ9by5WZWN0b3IzLmRvdChpLHRoaXMuX3pBeGlzKS90aGlzLl91U2NhbGUscj10aGlzLnZQYXJhbUxpbmUodCkuY2xvc2VzdFRvUG9pbnRQYXJhbShlKX1lbHNle3ZhciBhPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7by5WZWN0b3IzLnN1YihhLGUsdGhpcy5nZXRBcGV4UG9zaXRpb24oKSk7dmFyIGM9by5WZWN0b3IzLmRvdChhLHRoaXMuX3hBeGlzKSx1PW8uVmVjdG9yMy5kb3QoYSx0aGlzLl95QXhpcyksbD1vLlZlY3RvcjMuZG90KGEsdGhpcy5fekF4aXMpLGg9dGhpcy5fdVNjYWxlKk1hdGguc2luKHRoaXMuX2FuZ2xlKSxkPWgqdGhpcy5fbWlub3JSYWRpdXMvdGhpcy5fbWFqb3JSYWRpdXMscD10aGlzLl91U2NhbGUqTWF0aC5jb3ModGhpcy5fYW5nbGUpLGc9dGhpcy5fbWFqb3JSYWRpdXMvaCxmPWZ1bmN0aW9uKGUsdCxyLGksYSxjKXtpZihpKmkrYSphK2MqYzxzLktFUk5FTF9UT0xFUkFOQ0Uqcy5LRVJORUxfVE9MRVJBTkNFKXJldHVybnt1OjAsdjowfTt2YXIgdT1vLkZMT0FUNjRfVE9MRVJBTkNFLGw9YyplPj0wPzE6LTEsaD0oaSpsPj0wPy4yNTouNzUpKihhKmw+PTA/MTotMSksZD1oKk1hdGguUEkscD1bKGgtLjI1KSpNYXRoLlBJLChoKy4yNSkqTWF0aC5QSV0sZz0oMCxuLm5ld3RvblJhcGhzb24xRCkoKGZ1bmN0aW9uKG8pe3ZhciBuPU1hdGguc2luKG8pLHM9TWF0aC5jb3MobyksdT1lKih0KnQrcipyKSppLGw9dCooZSplK3IqcikqYSxoPXIqKGUqZS10KnQpKmM7cmV0dXJue3ZhbDp1Km4tbCpzLWgqbipzLGRlcml2OnUqcytsKm4taCoocypzLW4qbil9fSkscCxkLHUsMzIpLGY9ZSpNYXRoLmNvcyhnKSx2PXQqTWF0aC5zaW4oZyk7cmV0dXJue3U6KGYqaSt2KmErcipjKS8oZipmK3YqdityKnIpLHY6Z319KGgsZCxwLGMsdSxsKTt0PWYudS1nLHI9Zi52fXJldHVybnt1OnQsdjpyfX0sZC5wcm90b3R5cGUudlBhcmFtTGluZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9tYWpvclJhZGl1cytlKnRoaXMuX3VTY2FsZSpNYXRoLnNpbih0aGlzLl9hbmdsZSk7aWYoTWF0aC5hYnModCk+cy5LRVJORUxfVE9MRVJBTkNFKXt2YXIgcj1uZXcgbC5FbGxpcHNlLGk9by5WZWN0b3IzLmNsb25lKHRoaXMuX2NlbnRlciksbj1lKnRoaXMuX3VTY2FsZSpNYXRoLmNvcyh0aGlzLl9hbmdsZSk7by5WZWN0b3IzLnNjYWxlQW5kQWRkKGksaSx0aGlzLl96QXhpcyxuKTt2YXIgYT1vLlZlY3RvcjMuY2xvbmUodGhpcy5feEF4aXMpO28uVmVjdG9yMy5zY2FsZShhLGEsdCk7dmFyIHU9by5WZWN0b3IzLmNsb25lKHRoaXMuX3pBeGlzKTtyZXR1cm4gby5WZWN0b3IzLm5lZ2F0ZSh1LHUpLHIuc2V0KGksdSxhLHRoaXMuX21pbm9yUmFkaXVzL3RoaXMuX21ham9yUmFkaXVzKSxyfXJldHVybiBuZXcgYy5Qb2ludCh0aGlzLmdldEFwZXhQb3NpdGlvbigpKX0sZC5wcm90b3R5cGUudVBhcmFtTGluZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgdS5MaW5lLHI9by5WZWN0b3IzLmNsb25lKHRoaXMuX2NlbnRlciksaT10aGlzLl9tYWpvclJhZGl1cypNYXRoLmNvcyhlKSxuPXRoaXMuX21pbm9yUmFkaXVzKk1hdGguc2luKGUpO3JldHVybiBvLlZlY3RvcjMuc2NhbGVBbmRBZGQocixyLHRoaXMuX3hBeGlzLGkpLG8uVmVjdG9yMy5zY2FsZUFuZEFkZChyLHIsdGhpcy5feUF4aXMsbiksdC5zZXQocix0aGlzLmV2YWx1YXRlRHUoMCxlKSksdH0sZC5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3g9ZnVuY3Rpb24oZSx0KXtpZihlKXt2YXIgcj1lWzBdLG89ZVsxXSxuPXRoaXMudlBhcmFtTGluZShyKS5nZXRCb3VuZGluZ0JveCh0KTtyZXR1cm4gbi5pbmNsdWRlKHRoaXMudlBhcmFtTGluZShvKS5nZXRCb3VuZGluZ0JveCh0KSksbn1yZXR1cm4gbmV3IGkuQm91bmRpbmdCb3goWy0xLzAsLTEvMCwtMS8wXSxbMS8wLDEvMCwxLzBdKX0sZC5wcm90b3R5cGUudHJhbnNmb3JtPWZ1bmN0aW9uKGUpe28uVmVjdG9yMy50cmFuc2Zvcm1NYXRyaXg0NCh0aGlzLl9jZW50ZXIsdGhpcy5fY2VudGVyLGUpLG8uVmVjdG9yMy50cmFuc2Zvcm1Bc0RpcmVjdGlvbk1hdHJpeDQ0KHRoaXMuX3hBeGlzLHRoaXMuX3hBeGlzLGUpLG8uVmVjdG9yMy50cmFuc2Zvcm1Bc0RpcmVjdGlvbk1hdHJpeDQ0KHRoaXMuX3lBeGlzLHRoaXMuX3lBeGlzLGUpLG8uVmVjdG9yMy50cmFuc2Zvcm1Bc0RpcmVjdGlvbk1hdHJpeDQ0KHRoaXMuX3pBeGlzLHRoaXMuX3pBeGlzLGUpO3ZhciB0PW8uVmVjdG9yMy5sZW5ndGgodGhpcy5feEF4aXMpO3RoaXMuX21ham9yUmFkaXVzKj10LHRoaXMuX21pbm9yUmFkaXVzKj10LHRoaXMuX3VTY2FsZSo9dCxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX3hBeGlzLHRoaXMuX3hBeGlzKSxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX3lBeGlzLHRoaXMuX3lBeGlzKSxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX3pBeGlzLHRoaXMuX3pBeGlzKX0sZC5wcm90b3R5cGUuZ2V0UmFuZ2VVbmxpbWl0ZWRVPWZ1bmN0aW9uKCl7cmV0dXJuWy0xLzAsMS8wXX0sZC5wcm90b3R5cGUuZ2V0UmFuZ2VVbmxpbWl0ZWRWPWZ1bmN0aW9uKCl7cmV0dXJuWy1NYXRoLlBJLE1hdGguUEldfSxkLnByb3RvdHlwZS5pc1BlcmlvZGljVW5saW1pdGVkVT1mdW5jdGlvbigpe3JldHVybiExfSxkLnByb3RvdHlwZS5pc1BlcmlvZGljVW5saW1pdGVkVj1mdW5jdGlvbigpe3JldHVybiEwfSxkLnByb3RvdHlwZS5pc0Nsb3NlZFVubGltaXRlZFU9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZC5wcm90b3R5cGUuaXNDbG9zZWRVbmxpbWl0ZWRWPWZ1bmN0aW9uKCl7cmV0dXJuITB9LGQucHJvdG90eXBlLnRvT2JqZWN0PWZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzLmV2YWx1YXRlUG9zaXRpb24oMCwwKTtyZXR1cm4gby5WZWN0b3IzLnN1YihlLGUsdGhpcy5nZXRDZW50ZXIoKSkse2NlbnRlcjp0aGlzLnZlY3RvclRvT2JqZWN0KHRoaXMuX2NlbnRlciksbWFqb3JSYWRpdXM6dGhpcy52ZWN0b3JUb09iamVjdChlKSxheGlzOnRoaXMudmVjdG9yVG9PYmplY3QodGhpcy5nZXRBeGlzRGlyKCkpLHVDb29yZFNjYWxlOnRoaXMuZ2V0VVNjYWxlKCkscmFkaXVzUmF0aW86dGhpcy5nZXRNaW5vclJhZGl1cygpL3RoaXMuZ2V0TWFqb3JSYWRpdXMoKSxhbmdsZTp0aGlzLmdldEFuZ2xlKCksdVJhbmdlOnRoaXMucmFuZ2VUb09iamVjdCh0aGlzLmdldFJhbmdlVSgpLHRoaXMuaXNMaW1pdGVkVSgpKSx2UmFuZ2U6dGhpcy5yYW5nZVRvT2JqZWN0KHRoaXMuZ2V0UmFuZ2VWKCksdGhpcy5pc0xpbWl0ZWRWKCkpfX0sdC5FbGxpcHRpY2FsQ29uZT1kfSw4MzYwOihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkVsbGlwdGljYWxDeWxpbmRlcj12b2lkIDA7dmFyIG89cigxOTcyKSxpPXIoMzM0NCksbj1yKDI0NjgpLHM9cig0MTIpLGE9cigxMDk2KSxjPXIoODk3MiksdT1yKDQ3MjgpLGw9ZnVuY3Rpb24oKXtzLlN1cmZhY2UuY2FsbCh0aGlzKSx0aGlzLl9jZW50ZXI9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSx0aGlzLl9tYWpvclJhZGl1cz0wLHRoaXMuX21pbm9yUmFkaXVzPTAsdGhpcy5fdVNjYWxlPTEsdGhpcy5feEF4aXM9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSx0aGlzLl95QXhpcz1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLHRoaXMuX3pBeGlzPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCl9OyhsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHMuU3VyZmFjZS5wcm90b3R5cGUpKS5nZXRHZW9tZXRyeVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gbi5HRU9NRVRSWV9UWVBFUy5FTExJUFRJQ0FMX0NZTElOREVSfSxsLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBsO3JldHVybiBlLmNvcHkodGhpcyksZX0sbC5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlKXtzLlN1cmZhY2UucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMuX21ham9yUmFkaXVzPWUuX21ham9yUmFkaXVzLHRoaXMuX21pbm9yUmFkaXVzPWUuX21pbm9yUmFkaXVzLHRoaXMuX3VTY2FsZT1lLl91U2NhbGUsby5WZWN0b3IzLmNvcHkodGhpcy5fY2VudGVyLGUuX2NlbnRlciksby5WZWN0b3IzLmNvcHkodGhpcy5feEF4aXMsZS5feEF4aXMpLG8uVmVjdG9yMy5jb3B5KHRoaXMuX3lBeGlzLGUuX3lBeGlzKSxvLlZlY3RvcjMuY29weSh0aGlzLl96QXhpcyxlLl96QXhpcyl9LGwucHJvdG90eXBlLl9jb21wdXRlWUF4aXM9ZnVuY3Rpb24oKXtvLlZlY3RvcjMuY3Jvc3ModGhpcy5feUF4aXMsdGhpcy5feEF4aXMsdGhpcy5fekF4aXMpfSxsLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0LHIsaSxzKXtvLlZlY3RvcjMuY29weSh0aGlzLl9jZW50ZXIsZSksdGhpcy5fbWFqb3JSYWRpdXM9by5WZWN0b3IzLmxlbmd0aCh0KSx1LkNvbnNvbGVVdGlscy5hc3NlcnQodGhpcy5fbWFqb3JSYWRpdXM+bi5LRVJORUxfVE9MRVJBTkNFKSxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX3hBeGlzLHQpLHUuQ29uc29sZVV0aWxzLmFzc2VydChyPD0xKSx0aGlzLl9taW5vclJhZGl1cz1yKnRoaXMuX21ham9yUmFkaXVzLHUuQ29uc29sZVV0aWxzLmFzc2VydCh0aGlzLl9taW5vclJhZGl1cz5uLktFUk5FTF9UT0xFUkFOQ0UpLHUuQ29uc29sZVV0aWxzLmFzc2VydChvLlZlY3RvcjMuc3F1YXJlZExlbmd0aChpKT5uLktFUk5FTF9UT0xFUkFOQ0Uqbi5LRVJORUxfVE9MRVJBTkNFKSx1LkNvbnNvbGVVdGlscy5hc3NlcnQoby5WZWN0b3IzLmlzT3J0aG9nb25hbChpLHQsbi5LRVJORUxfQU5HVUxBUl9UT0xFUkFOQ0UpKSxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX3pBeGlzLGkpLHRoaXMuX3VTY2FsZT1zfHwxLHUuQ29uc29sZVV0aWxzLmFzc2VydCh0aGlzLl91U2NhbGU+bi5QQVJBTUVURVJfU1BBQ0VfVE9MRVJBTkNFKSx0aGlzLl9jb21wdXRlWUF4aXMoKX0sbC5wcm90b3R5cGUuZ2V0TWFqb3JSYWRpdXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFqb3JSYWRpdXN9LGwucHJvdG90eXBlLnNldE1ham9yUmFkaXVzPWZ1bmN0aW9uKGUpe3UuQ29uc29sZVV0aWxzLmFzc2VydChlPm4uS0VSTkVMX1RPTEVSQU5DRSksdGhpcy5fbWFqb3JSYWRpdXM9ZX0sbC5wcm90b3R5cGUuZ2V0TWlub3JSYWRpdXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWlub3JSYWRpdXN9LGwucHJvdG90eXBlLnNldE1pbm9yUmFkaXVzPWZ1bmN0aW9uKGUpe3UuQ29uc29sZVV0aWxzLmFzc2VydChlPm4uS0VSTkVMX1RPTEVSQU5DRSksdGhpcy5fbWlub3JSYWRpdXM9ZX0sbC5wcm90b3R5cGUuZ2V0TWFqb3JBeGlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3hBeGlzfSxsLnByb3RvdHlwZS5zZXRNYWpvckF4aXM9ZnVuY3Rpb24oZSl7dS5Db25zb2xlVXRpbHMuYXNzZXJ0KG8uVmVjdG9yMy5zcXVhcmVkTGVuZ3RoKGUpPm4uS0VSTkVMX1RPTEVSQU5DRSpuLktFUk5FTF9UT0xFUkFOQ0UpLG8uVmVjdG9yMy5ub3JtYWxpemUodGhpcy5feEF4aXMsZSksdGhpcy5fY29tcHV0ZVlBeGlzKCl9LGwucHJvdG90eXBlLmdldENlbnRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jZW50ZXJ9LGwucHJvdG90eXBlLnNldENlbnRlcj1mdW5jdGlvbihlKXtvLlZlY3RvcjMuY29weSh0aGlzLl9jZW50ZXIsZSl9LGwucHJvdG90eXBlLmdldEF4aXNEaXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fekF4aXN9LGwucHJvdG90eXBlLnNldEF4aXNEaXI9ZnVuY3Rpb24oZSl7dS5Db25zb2xlVXRpbHMuYXNzZXJ0KG8uVmVjdG9yMy5zcXVhcmVkTGVuZ3RoKGUpPm4uS0VSTkVMX1RPTEVSQU5DRSpuLktFUk5FTF9UT0xFUkFOQ0UpLG8uVmVjdG9yMy5ub3JtYWxpemUodGhpcy5fekF4aXMsZSksdGhpcy5fY29tcHV0ZVlBeGlzKCl9LGwucHJvdG90eXBlLmdldFVTY2FsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91U2NhbGV9LGwucHJvdG90eXBlLnNldFVTY2FsZT1mdW5jdGlvbihlKXt1LkNvbnNvbGVVdGlscy5hc3NlcnQoZT5uLlBBUkFNRVRFUl9TUEFDRV9UT0xFUkFOQ0UpLHRoaXMuX3VTY2FsZT1lfSxsLnByb3RvdHlwZS5ldmFsdWF0ZVBvc2l0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fbWFqb3JSYWRpdXMqTWF0aC5jb3ModCksaT10aGlzLl9taW5vclJhZGl1cypNYXRoLnNpbih0KSxuPXRoaXMuX3VTY2FsZSplLHM9by5WZWN0b3IzLmNsb25lKHRoaXMuX2NlbnRlcik7cmV0dXJuIG8uVmVjdG9yMy5zY2FsZUFuZEFkZChzLHMsdGhpcy5feEF4aXMsciksby5WZWN0b3IzLnNjYWxlQW5kQWRkKHMscyx0aGlzLl95QXhpcyxpKSxvLlZlY3RvcjMuc2NhbGVBbmRBZGQocyxzLHRoaXMuX3pBeGlzLG4pLHN9LGwucHJvdG90eXBlLmV2YWx1YXRlTm9ybWFsPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fbWlub3JSYWRpdXMqTWF0aC5jb3ModCksaT10aGlzLl9tYWpvclJhZGl1cypNYXRoLnNpbih0KSxuPU1hdGguc3FydChyKnIraSppKSxzPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7cmV0dXJuIG8uVmVjdG9yMy5zY2FsZShzLHRoaXMuX3hBeGlzLHIvbiksby5WZWN0b3IzLnNjYWxlQW5kQWRkKHMscyx0aGlzLl95QXhpcyxpL24pLHN9LGwucHJvdG90eXBlLmV2YWx1YXRlRHU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpO3JldHVybiBvLlZlY3RvcjMuc2NhbGUocix0aGlzLl96QXhpcyx0aGlzLl91U2NhbGUpLHJ9LGwucHJvdG90eXBlLmV2YWx1YXRlRHY9ZnVuY3Rpb24oZSx0KXt2YXIgcj0tdGhpcy5fbWFqb3JSYWRpdXMqTWF0aC5zaW4odCksaT10aGlzLl9taW5vclJhZGl1cypNYXRoLmNvcyh0KSxuPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7cmV0dXJuIG8uVmVjdG9yMy5zY2FsZShuLHRoaXMuX3hBeGlzLHIpLG8uVmVjdG9yMy5zY2FsZUFuZEFkZChuLG4sdGhpcy5feUF4aXMsaSksbn0sbC5wcm90b3R5cGUuY2xvc2VzdFBhcmFtPWZ1bmN0aW9uKGUpe3ZhciB0PW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7by5WZWN0b3IzLnN1Yih0LGUsdGhpcy5fY2VudGVyKTt2YXIgcj1vLlZlY3RvcjMuZG90KHQsdGhpcy5fekF4aXMpL3RoaXMuX3VTY2FsZTtyZXR1cm57dTpyLHY6dGhpcy52UGFyYW1MaW5lKHIpLmNsb3Nlc3RUb1BvaW50UGFyYW0oZSl9fSxsLnByb3RvdHlwZS52UGFyYW1MaW5lPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBjLkVsbGlwc2Uscj1vLlZlY3RvcjMuY2xvbmUodGhpcy5fY2VudGVyKSxpPWUqdGhpcy5fdVNjYWxlO28uVmVjdG9yMy5zY2FsZUFuZEFkZChyLHIsdGhpcy5fekF4aXMsaSk7dmFyIG49by5WZWN0b3IzLmNsb25lKHRoaXMuX3hBeGlzKTtvLlZlY3RvcjMuc2NhbGUobixuLHRoaXMuX21ham9yUmFkaXVzKTt2YXIgcz1vLlZlY3RvcjMuY2xvbmUodGhpcy5fekF4aXMpO3JldHVybiBvLlZlY3RvcjMubmVnYXRlKHMscyksdC5zZXQocixzLG4sdGhpcy5fbWlub3JSYWRpdXMvdGhpcy5fbWFqb3JSYWRpdXMpLHR9LGwucHJvdG90eXBlLnVQYXJhbUxpbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGEuTGluZSxyPW8uVmVjdG9yMy5jbG9uZSh0aGlzLl9jZW50ZXIpLGk9dGhpcy5fbWFqb3JSYWRpdXMqTWF0aC5jb3MoZSksbj10aGlzLl9taW5vclJhZGl1cypNYXRoLnNpbihlKTtyZXR1cm4gby5WZWN0b3IzLnNjYWxlQW5kQWRkKHIscix0aGlzLl94QXhpcyxpKSxvLlZlY3RvcjMuc2NhbGVBbmRBZGQocixyLHRoaXMuX3lBeGlzLG4pLHQuc2V0KHIsdGhpcy5ldmFsdWF0ZUR1KDAsZSkpLHR9LGwucHJvdG90eXBlLmdldEJvdW5kaW5nQm94PWZ1bmN0aW9uKGUsdCl7aWYoZSl7dmFyIHI9ZVswXSxvPWVbMV0sbj10aGlzLnZQYXJhbUxpbmUocikuZ2V0Qm91bmRpbmdCb3godCk7cmV0dXJuIG4uaW5jbHVkZSh0aGlzLnZQYXJhbUxpbmUobykuZ2V0Qm91bmRpbmdCb3godCkpLG59cmV0dXJuIG5ldyBpLkJvdW5kaW5nQm94KFstMS8wLC0xLzAsLTEvMF0sWzEvMCwxLzAsMS8wXSl9LGwucHJvdG90eXBlLnRyYW5zZm9ybT1mdW5jdGlvbihlKXtvLlZlY3RvcjMudHJhbnNmb3JtTWF0cml4NDQodGhpcy5fY2VudGVyLHRoaXMuX2NlbnRlcixlKSxvLlZlY3RvcjMudHJhbnNmb3JtQXNEaXJlY3Rpb25NYXRyaXg0NCh0aGlzLl94QXhpcyx0aGlzLl94QXhpcyxlKSxvLlZlY3RvcjMudHJhbnNmb3JtQXNEaXJlY3Rpb25NYXRyaXg0NCh0aGlzLl95QXhpcyx0aGlzLl95QXhpcyxlKSxvLlZlY3RvcjMudHJhbnNmb3JtQXNEaXJlY3Rpb25NYXRyaXg0NCh0aGlzLl96QXhpcyx0aGlzLl96QXhpcyxlKTt2YXIgdD1vLlZlY3RvcjMubGVuZ3RoKHRoaXMuX3hBeGlzKTt0aGlzLl9tYWpvclJhZGl1cyo9dCx0aGlzLl9taW5vclJhZGl1cyo9dCx0aGlzLl91U2NhbGUqPXQsby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl94QXhpcyx0aGlzLl94QXhpcyksby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl95QXhpcyx0aGlzLl95QXhpcyksby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl96QXhpcyx0aGlzLl96QXhpcyl9LGwucHJvdG90eXBlLmdldFJhbmdlVW5saW1pdGVkVT1mdW5jdGlvbigpe3JldHVyblstMS8wLDEvMF19LGwucHJvdG90eXBlLmdldFJhbmdlVW5saW1pdGVkVj1mdW5jdGlvbigpe3JldHVyblstTWF0aC5QSSxNYXRoLlBJXX0sbC5wcm90b3R5cGUuaXNQZXJpb2RpY1VubGltaXRlZFU9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sbC5wcm90b3R5cGUuaXNQZXJpb2RpY1VubGltaXRlZFY9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sbC5wcm90b3R5cGUuaXNDbG9zZWRVbmxpbWl0ZWRVPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGwucHJvdG90eXBlLmlzQ2xvc2VkVW5saW1pdGVkVj1mdW5jdGlvbigpe3JldHVybiEwfSxsLnByb3RvdHlwZS50b09iamVjdD1mdW5jdGlvbigpe2NvbnN0IGU9dGhpcy5ldmFsdWF0ZVBvc2l0aW9uKDAsMCk7cmV0dXJuIG8uVmVjdG9yMy5zdWIoZSxlLHRoaXMuZ2V0Q2VudGVyKCkpLHtjZW50ZXI6dGhpcy52ZWN0b3JUb09iamVjdCh0aGlzLl9jZW50ZXIpLG1ham9yUmFkaXVzOnRoaXMudmVjdG9yVG9PYmplY3QoZSksYXhpczp0aGlzLnZlY3RvclRvT2JqZWN0KHRoaXMuZ2V0QXhpc0RpcigpKSx1Q29vcmRTY2FsZTp0aGlzLmdldFVTY2FsZSgpLHJhZGl1c1JhdGlvOnRoaXMuZ2V0TWlub3JSYWRpdXMoKS90aGlzLmdldE1ham9yUmFkaXVzKCksdVJhbmdlOnRoaXMucmFuZ2VUb09iamVjdCh0aGlzLmdldFJhbmdlVSgpLHRoaXMuaXNMaW1pdGVkVSgpKSx2UmFuZ2U6dGhpcy5yYW5nZVRvT2JqZWN0KHRoaXMuZ2V0UmFuZ2VWKCksdGhpcy5pc0xpbWl0ZWRWKCkpfX0sdC5FbGxpcHRpY2FsQ3lsaW5kZXI9bH0sNjc3NjooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5GYWNlPXZvaWQgMDt2YXIgbz1yKDE5NzIpLGk9cig5NTQ3KSxuPXIoMjQ2OCkscz1yKDYxMjApLGE9ZnVuY3Rpb24oZSl7aS5CYXNlVG9wb2xvZ3kuY2FsbCh0aGlzKSx0aGlzLl9zdXJmYWNlPWUsdGhpcy5fcmV2ZXJzZWQ9ITEsdGhpcy5fbG9vcHM9W10sdGhpcy5fc2hlbGw9dm9pZCAwfTsoYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpLkJhc2VUb3BvbG9neS5wcm90b3R5cGUpKS5nZXRUb3BvbG9neVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gbi5UT1BPTE9HWV9UWVBFUy5GQUNFfSxhLnByb3RvdHlwZS5nZXRTdXJmYWNlVHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdXJmYWNlP3RoaXMuX3N1cmZhY2UuZ2V0R2VvbWV0cnlUeXBlKCk6dm9pZCAwfSxhLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBhO3JldHVybiBlLl9zdXJmYWNlPXRoaXMuX3N1cmZhY2U/dGhpcy5fc3VyZmFjZS5jbG9uZSgpOnZvaWQgMCxlLl9yZXZlcnNlZD10aGlzLl9yZXZlcnNlZCxlLnNldExvb3BzKHRoaXMuX2xvb3BzKSxlLl9zaGVsbD10aGlzLl9zaGVsbCxlLl92ZXJ0ZXhVdkRhdGE9dm9pZCAwLGV9LGEucHJvdG90eXBlLmdldFN1cmZhY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3VyZmFjZX0sYS5wcm90b3R5cGUuc2V0U3VyZmFjZT1mdW5jdGlvbihlKXt0aGlzLl9zdXJmYWNlPWV9LGEucHJvdG90eXBlLmdldFNoZWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoZWxsfSxhLnByb3RvdHlwZS5zZXRTaGVsbD1mdW5jdGlvbihlKXt0aGlzLl9zaGVsbD1lfSxhLnByb3RvdHlwZS5nZXRMb29wcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb29wc30sYS5wcm90b3R5cGUuc2V0TG9vcHM9ZnVuY3Rpb24oZSl7dGhpcy5fbG9vcHM9bmV3IEFycmF5KGUubGVuZ3RoKTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoOysrdCl0aGlzLl9sb29wc1t0XT1lW3RdfSxhLnByb3RvdHlwZS5hZGRMb29wPWZ1bmN0aW9uKGUpe3RoaXMuX2xvb3BzP3RoaXMuX2xvb3BzLnB1c2goZSk6dGhpcy5fbG9vcHM9W2VdLGUuc2V0RmFjZSh0aGlzKX0sYS5wcm90b3R5cGUuYWRkTG9vcHM9ZnVuY3Rpb24oZSl7dGhpcy5fbG9vcHN8fCh0aGlzLl9sb29wcz1bXSk7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDsrK3QpZVt0XS5zZXRGYWNlKHRoaXMpO3RoaXMuX2xvb3BzPXRoaXMuX2xvb3BzLmNvbmNhdChlKX0sYS5wcm90b3R5cGUucmVtb3ZlTG9vcD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9sb29wcy5pbmRleE9mKGUpO3JldHVybiB0Pi0xJiYodGhpcy5fbG9vcHMuc3BsaWNlKHQsMSksZS5nZXRGYWNlKCk9PT10aGlzJiZlLnNldEZhY2Uodm9pZCAwKSwhMCl9LGEucHJvdG90eXBlLmlzUmV2ZXJzZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmV2ZXJzZWR9LGEucHJvdG90eXBlLnNldFJldmVyc2VkPWZ1bmN0aW9uKGUpe3RoaXMuX3JldmVyc2VkPWV9LGEucHJvdG90eXBlLmdldFZlcnRpY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5jb2xsZWN0VmVydGljZXMoKSl9LGEucHJvdG90eXBlLmV2YWx1YXRlUG9zaXRpb249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fc3VyZmFjZS5ldmFsdWF0ZVBvc2l0aW9uKGUsdCl9LGEucHJvdG90eXBlLmV2YWx1YXRlTm9ybWFsPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fc3VyZmFjZS5ldmFsdWF0ZU5vcm1hbChlLHQpO3JldHVybiEwPT09dGhpcy5pc1JldmVyc2VkKCkmJm8uVmVjdG9yMy5uZWdhdGUocixyKSxyfSxhLnByb3RvdHlwZS5nZXRCb2R5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoZWxsP3RoaXMuX3NoZWxsLmdldEJvZHkoKTp2b2lkIDB9LGEucHJvdG90eXBlLmNvbGxlY3RGYWNlcz1mdW5jdGlvbihlKXtyZXR1cm4oZT1lfHxuZXcgU2V0KS5hZGQodGhpcyksZX0sYS5wcm90b3R5cGUuY29sbGVjdEVkZ2VzPWZ1bmN0aW9uKGUpe2U9ZXx8bmV3IFNldDtmb3IodmFyIHQ9MDt0PHRoaXMuX2xvb3BzLmxlbmd0aDsrK3QpdGhpcy5fbG9vcHNbdF0uY29sbGVjdEVkZ2VzKGUpO3JldHVybiBlfSxhLnByb3RvdHlwZS5jb2xsZWN0VmVydGljZXM9ZnVuY3Rpb24oZSl7ZT1lfHxuZXcgU2V0O2Zvcih2YXIgdD0wO3Q8dGhpcy5fbG9vcHMubGVuZ3RoOysrdCl0aGlzLl9sb29wc1t0XS5jb2xsZWN0VmVydGljZXMoZSk7cmV0dXJuIGV9LGEucHJvdG90eXBlLmdldEJvdW5kaW5nQm94PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fc3VyZmFjZS5nZXRSYW5nZVUoKSx0PXRoaXMuX3N1cmZhY2UuZ2V0UmFuZ2VWKCk7cmV0dXJuIGlzRmluaXRlKGVbMF0pJiZpc0Zpbml0ZShlWzFdKXx8KHMuRGVidWdVdGlscy53YXJuKFwiRmFjZS5nZXRCb3VuZGluZ0JveDogU3VyZmFjZSBpcyB1bmJvdW5kZWQgaW4gdS5cIiksZT1bMCwxXSksaXNGaW5pdGUodFswXSkmJmlzRmluaXRlKHRbMV0pfHwocy5EZWJ1Z1V0aWxzLndhcm4oXCJGYWNlLmdldEJvdW5kaW5nQm94OiBTdXJmYWNlIGlzIHVuYm91bmRlZCBpbiB2LlwiKSx0PVswLDFdKSx0aGlzLl9zdXJmYWNlLmdldEJvdW5kaW5nQm94KGUsdCl9LGEucHJvdG90eXBlLmNsb3Nlc3RQYXJhbT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fc3VyZmFjZS5jbG9zZXN0UGFyYW0oZSl9LGEucHJvdG90eXBlLmlzUGxhbmFyRmFjZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFN1cmZhY2VUeXBlKCk9PT1uLkdFT01FVFJZX1RZUEVTLlBMQU5FfSxhLnByb3RvdHlwZS50b09iamVjdD1mdW5jdGlvbigpe3JldHVybntsb29wczp0aGlzLnJlZnNUb1N0cmluZ3ModGhpcy5fbG9vcHMpLHJldmVyc2VkOnRoaXMuX3JldmVyc2VkLGdlb21ldHJ5OnRoaXMucmVmVG9TdHJpbmcodGhpcy5fc3VyZmFjZSksYXR0cmlidXRlczp0aGlzLnJlZnNUb1N0cmluZ3ModGhpcy5fYXR0cmlidXRlcyl9fSxhLnByb3RvdHlwZS5hZGRUb01vZGVsT2JqZWN0PWZ1bmN0aW9uKGUpe3RoaXMuYWRkQWxsVG9Nb2RlbE9iamVjdChlLFt0aGlzLl9sb29wcyx0aGlzLl9zdXJmYWNlLHRoaXMuX2F0dHJpYnV0ZXNdKX0sdC5GYWNlPWF9LDEwOTY6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuTGluZT12b2lkIDA7dmFyIG89cigxOTcyKSxpPXIoMzM0NCksbj1yKDIzNTUpLHM9cigyNDY4KSxhPXIoMTQ3MiksYz1yKDU4OTYpLHU9cig0NzI4KSxsPWZ1bmN0aW9uKCl7YS5DdXJ2ZS5jYWxsKHRoaXMpLHRoaXMuX3Bvc2l0aW9uPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcygwLDAsMCksdGhpcy5fZGlyZWN0aW9uPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0RnJvbVZhbHVlcygxLDAsMCl9OyhsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGEuQ3VydmUucHJvdG90eXBlKSkuZ2V0R2VvbWV0cnlUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHMuR0VPTUVUUllfVFlQRVMuTElORX0sbC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7dS5Db25zb2xlVXRpbHMuYXNzZXJ0KG8uVmVjdG9yMy5zcXVhcmVkTGVuZ3RoKHQpPnMuS0VSTkVMX1RPTEVSQU5DRSpzLktFUk5FTF9UT0xFUkFOQ0UpLG8uVmVjdG9yMy5jb3B5KHRoaXMuX3Bvc2l0aW9uLGUpLG8uVmVjdG9yMy5jb3B5KHRoaXMuX2RpcmVjdGlvbix0KX0sbC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbDtyZXR1cm4gZS5jb3B5KHRoaXMpLGV9LGwucHJvdG90eXBlLnRlc3NlbGxhdGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj17cG9zaXRpb25zOltdLG9mZnNldHM6W10sdG9sZXJhbmNlOjB9O3Iub2Zmc2V0cy5wdXNoKDApO3ZhciBvPWVbMF07ci5wb3NpdGlvbnMucHVzaCh0aGlzLmV2YWx1YXRlUG9zaXRpb24obykpO2Zvcih2YXIgaT0xO2k8ZS5sZW5ndGg7KytpKXt2YXIgbj1lW2ldO3IucG9zaXRpb25zLnB1c2godGhpcy5ldmFsdWF0ZVBvc2l0aW9uKG4pKSxyLm9mZnNldHMucHVzaChyLnBvc2l0aW9ucy5sZW5ndGgtMSksbz1ufXJldHVybiByfSxsLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUpe2EuQ3VydmUucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLG8uVmVjdG9yMy5jb3B5KHRoaXMuX3Bvc2l0aW9uLGUuX3Bvc2l0aW9uKSxvLlZlY3RvcjMuY29weSh0aGlzLl9kaXJlY3Rpb24sZS5fZGlyZWN0aW9uKX0sbC5wcm90b3R5cGUuZ2V0UmFuZ2VVbmxpbWl0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm5bLTEvMCwxLzBdfSxsLnByb3RvdHlwZS5pc1BlcmlvZGljVW5saW1pdGVkPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGwucHJvdG90eXBlLmlzQ2xvc2VkVW5saW1pdGVkPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGwucHJvdG90eXBlLmV2YWx1YXRlUG9zaXRpb249ZnVuY3Rpb24oZSl7dmFyIHQ9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtyZXR1cm4gby5WZWN0b3IzLnNjYWxlQW5kQWRkKHQsdGhpcy5fcG9zaXRpb24sdGhpcy5fZGlyZWN0aW9uLGUpfSxsLnByb3RvdHlwZS5ldmFsdWF0ZUR0PWZ1bmN0aW9uKGUpe3JldHVybiBvLlZlY3RvcjMuY2xvbmUodGhpcy5fZGlyZWN0aW9uKX0sbC5wcm90b3R5cGUudGFuZ2VudExlbmd0aD1mdW5jdGlvbihlKXtyZXR1cm4gby5WZWN0b3IzLmxlbmd0aCh0aGlzLl9kaXJlY3Rpb24pfSxsLnByb3RvdHlwZS5nZXRUYW5nZW50Q29uZT1mdW5jdGlvbihlKXt2YXIgdD1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpO3JldHVybiBuZXcgbi5UYW5nZW50Q29uZShvLlZlY3RvcjMubm9ybWFsaXplKHQsdGhpcy5ldmFsdWF0ZUR0KDApKSwwKX0sbC5wcm90b3R5cGUuZ2V0QXJjTGVuZ3RoPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lP2U9dGhpcy5nZXRSYW5nZSgpOjA9PT1lLmxlbmd0aCYmKGU9dGhpcy5nZXRSYW5nZVVubGltaXRlZCgpKSxpc0Zpbml0ZShlWzBdKSYmaXNGaW5pdGUoZVsxXSk/KGVbMV0tZVswXSkqby5WZWN0b3IzLmxlbmd0aCh0aGlzLl9kaXJlY3Rpb24pOjEvMH0sbC5wcm90b3R5cGUuZ2V0UGFyYW1ldGVyRnJvbUFyY0xlbmd0aD1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQ/dD10aGlzLmdldFJhbmdlKCk6MD09PXQubGVuZ3RoJiYodD10aGlzLmdldFJhbmdlVW5saW1pdGVkKCkpLGlzRmluaXRlKHRbMF0pJiZpc0Zpbml0ZSh0WzFdKSl7dmFyIHI9dFswXStlL28uVmVjdG9yMy5sZW5ndGgodGhpcy5fZGlyZWN0aW9uKTtyZXR1cm4oMCxjLmNsYW1wKShyLHRbMF0sdFsxXSl9cmV0dXJuIE5hTn0sbC5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3g9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZT9lPXRoaXMuZ2V0UmFuZ2UoKTowPT09ZS5sZW5ndGgmJihlPXRoaXMuZ2V0UmFuZ2VVbmxpbWl0ZWQoKSk7dmFyIHQ9bmV3IGkuQm91bmRpbmdCb3g7cmV0dXJuIGlzRmluaXRlKGVbMF0pJiZpc0Zpbml0ZShlWzFdKT8odC5pbmNsdWRlUG9pbnQodGhpcy5ldmFsdWF0ZVBvc2l0aW9uKGVbMF0pKSx0LmluY2x1ZGVQb2ludCh0aGlzLmV2YWx1YXRlUG9zaXRpb24oZVsxXSkpKToodC5pbmNsdWRlUG9pbnQoWzEvMCwxLzAsMS8wXSksdC5pbmNsdWRlUG9pbnQoWy0xLzAsLTEvMCwtMS8wXSkpLHR9LGwucHJvdG90eXBlLmNsb3Nlc3RUb1JheVBhcmFtPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7by5WZWN0b3IzLnN1YihuLHRoaXMuX3Bvc2l0aW9uLGUpO3ZhciBzPW8uVmVjdG9yMy5zcXVhcmVkTGVuZ3RoKHRoaXMuX2RpcmVjdGlvbiksYT1vLlZlY3RvcjMuc3F1YXJlZExlbmd0aCh0KSxjPW8uVmVjdG9yMy5kb3QodGhpcy5fZGlyZWN0aW9uLHQpLHU9by5WZWN0b3IzLmRvdChuLHRoaXMuX2RpcmVjdGlvbiksbD1vLlZlY3RvcjMuZG90KG4sdCksaD1zKmEtYypjLGQ9KGMqbC1hKnUpL2gscD0oYyp1LXMqbCkvaDtpZihpc0Zpbml0ZShkKSYmaXNGaW5pdGUocCkpe2lmKHIpaWYoZDxyWzBdKXtpZihkPXJbMF0sdm9pZCAwIT09aSl7dmFyIGc9dGhpcy5ldmFsdWF0ZVBvc2l0aW9uKHJbMF0pLGY9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtvLlZlY3RvcjMuc3ViKGYsZyxlKSxwPW8uVmVjdG9yMy5kb3QoZix0KS9hfX1lbHNlIGlmKGQ+clsxXSYmKGQ9clsxXSx2b2lkIDAhPT1pKSl7dmFyIHY9dGhpcy5ldmFsdWF0ZVBvc2l0aW9uKHJbMV0pO2Y9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtvLlZlY3RvcjMuc3ViKGYsdixlKSxwPW8uVmVjdG9yMy5kb3QoZix0KS9hfWlmKHZvaWQgMCE9PWkpe3ZhciBfPXRoaXMuZXZhbHVhdGVQb3NpdGlvbihkKSx5PW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7aWYoby5WZWN0b3IzLnNjYWxlQW5kQWRkKHksZSx0LHApLG8uVmVjdG9yMy5zcXVhcmVkRGlzdGFuY2UoXyx5KT5pKmkpcmV0dXJufXJldHVybiBkfX0sbC5wcm90b3R5cGUuc2V0RnJvbUVuZHBvaW50cz1mdW5jdGlvbihlLHQpe3UuQ29uc29sZVV0aWxzLmFzc2VydChvLlZlY3RvcjMuc3F1YXJlZERpc3RhbmNlKGUsdCk+cy5LRVJORUxfVE9MRVJBTkNFKnMuS0VSTkVMX1RPTEVSQU5DRSksdGhpcy5fcG9zaXRpb249by5WZWN0b3IzLmNsb25lKGUpLG8uVmVjdG9yMy5ub3JtYWxpemUodGhpcy5fZGlyZWN0aW9uLG8uVmVjdG9yMy5zdWIodGhpcy5fZGlyZWN0aW9uLHQsZSkpLHRoaXMudW5saW1pdFJhbmdlKCl9LGwucHJvdG90eXBlLnRyYW5zZm9ybT1mdW5jdGlvbihlKXtvLlZlY3RvcjMudHJhbnNmb3JtTWF0cml4NDQodGhpcy5fcG9zaXRpb24sdGhpcy5fcG9zaXRpb24sZSksby5WZWN0b3IzLnRyYW5zZm9ybUFzRGlyZWN0aW9uTWF0cml4NDQodGhpcy5fZGlyZWN0aW9uLHRoaXMuX2RpcmVjdGlvbixlKX0sbC5wcm90b3R5cGUuY2xvc2VzdFRvUG9pbnRQYXJhbT1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQ/dD10aGlzLmdldFJhbmdlKCk6MD09PXQubGVuZ3RoJiYodD10aGlzLmdldFJhbmdlVW5saW1pdGVkKCkpO3ZhciByPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7by5WZWN0b3IzLnN1YihyLGUsdGhpcy5fcG9zaXRpb24pO3ZhciBpPXRoaXMuX2RpcmVjdGlvbixuPW8uVmVjdG9yMy5kb3QocixpKS9vLlZlY3RvcjMuc3F1YXJlZExlbmd0aChpKTtyZXR1cm4gaXNGaW5pdGUodFswXSkmJmlzRmluaXRlKHRbMV0pPygwLGMuY2xhbXApKG4sdFswXSx0WzFdKTpufSxsLnByb3RvdHlwZS5zdWdnZXN0U3BsaXR0aW5nUGFyYW09ZnVuY3Rpb24oZSl7fSxsLnByb3RvdHlwZS50b09iamVjdD1mdW5jdGlvbigpe3JldHVybntwb3NpdGlvbjp0aGlzLnZlY3RvclRvT2JqZWN0KHRoaXMuX3Bvc2l0aW9uKSxkaXJlY3Rpb246dGhpcy52ZWN0b3JUb09iamVjdCh0aGlzLl9kaXJlY3Rpb24pLHJhbmdlOnRoaXMucmFuZ2VUb09iamVjdCh0aGlzLmdldFJhbmdlKCksdGhpcy5pc0xpbWl0ZWQoKSl9fSx0LkxpbmU9bH0sNDUyNDooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Mb29wPXZvaWQgMDt2YXIgbz1yKDk1NDcpLGk9cigyNDY4KSxuPWZ1bmN0aW9uKCl7by5CYXNlVG9wb2xvZ3kuY2FsbCh0aGlzKSx0aGlzLl9jb2VkZ2VzPVtdLHRoaXMuX2ZhY2U9dm9pZCAwfTsobi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLkJhc2VUb3BvbG9neS5wcm90b3R5cGUpKS5nZXRUb3BvbG9neVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gaS5UT1BPTE9HWV9UWVBFUy5MT09QfSxuLnByb3RvdHlwZS5nZXRGYWNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZhY2V9LG4ucHJvdG90eXBlLnNldEZhY2U9ZnVuY3Rpb24oZSl7dGhpcy5fZmFjZT1lfSxuLnByb3RvdHlwZS5nZXRDb2VkZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvZWRnZXN9LG4ucHJvdG90eXBlLnNldENvZWRnZXM9ZnVuY3Rpb24oZSl7dGhpcy5fY29lZGdlcz1uZXcgQXJyYXkoZS5sZW5ndGgpO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7Kyt0KXRoaXMuX2NvZWRnZXNbdF09ZVt0XX0sbi5wcm90b3R5cGUuYWRkQ29lZGdlPWZ1bmN0aW9uKGUpe3RoaXMuX2NvZWRnZXM/dGhpcy5fY29lZGdlcy5wdXNoKGUpOnRoaXMuX2NvZWRnZXM9W2VdLGUuc2V0TG9vcCh0aGlzKX0sbi5wcm90b3R5cGUuYWRkQ29lZGdlcz1mdW5jdGlvbihlKXt0aGlzLl9jb2VkZ2VzfHwodGhpcy5fY29lZGdlcz1bXSk7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDsrK3QpZVt0XS5zZXRMb29wKHRoaXMpO3RoaXMuX2NvZWRnZXM9dGhpcy5fY29lZGdlcy5jb25jYXQoZSl9LG4ucHJvdG90eXBlLnJlbW92ZUNvZWRnZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9jb2VkZ2VzLmluZGV4T2YoZSk7cmV0dXJuIHQ+LTEmJih0aGlzLl9jb2VkZ2VzLnNwbGljZSh0LDEpLGUuZ2V0TG9vcCgpPT09dGhpcyYmZS5zZXRMb29wKHZvaWQgMCksITApfSxuLnByb3RvdHlwZS5nZXRCb2R5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZhY2U/dGhpcy5fZmFjZS5nZXRCb2R5KCk6dm9pZCAwfSxuLnByb3RvdHlwZS5jb2xsZWN0RmFjZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZXx8bmV3IFNldCx0aGlzLl9mYWNlJiZlLmFkZCh0aGlzLl9mYWNlKSxlfSxuLnByb3RvdHlwZS5jb2xsZWN0RWRnZXM9ZnVuY3Rpb24oZSl7ZT1lfHxuZXcgU2V0O2Zvcih2YXIgdD0wO3Q8dGhpcy5fY29lZGdlcy5sZW5ndGg7Kyt0KXRoaXMuX2NvZWRnZXNbdF0uY29sbGVjdEVkZ2VzKGUpO3JldHVybiBlfSxuLnByb3RvdHlwZS5jb2xsZWN0VmVydGljZXM9ZnVuY3Rpb24oZSl7ZT1lfHxuZXcgU2V0O2Zvcih2YXIgdD0wO3Q8dGhpcy5fY29lZGdlcy5sZW5ndGg7Kyt0KXRoaXMuX2NvZWRnZXNbdF0uY29sbGVjdFZlcnRpY2VzKGUpO3JldHVybiBlfSxuLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiTG9vcFwifSxuLnByb3RvdHlwZS50b09iamVjdD1mdW5jdGlvbigpe3JldHVybntjb2VkZ2VzOnRoaXMucmVmc1RvU3RyaW5ncyh0aGlzLl9jb2VkZ2VzKSxhdHRyaWJ1dGVzOnRoaXMucmVmc1RvU3RyaW5ncyh0aGlzLl9hdHRyaWJ1dGVzKX19LG4ucHJvdG90eXBlLmFkZFRvTW9kZWxPYmplY3Q9ZnVuY3Rpb24oZSl7dGhpcy5hZGRBbGxUb01vZGVsT2JqZWN0KGUsW3RoaXMuX2NvZWRnZXMsdGhpcy5fYXR0cmlidXRlc10pfSx0Lkxvb3A9bn0sNTgzNzooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5MdW1wPXZvaWQgMDt2YXIgbz1yKDk1NDcpLGk9cigyNDY4KSxuPXIoMzM0NCkscz1mdW5jdGlvbigpe28uQmFzZVRvcG9sb2d5LmNhbGwodGhpcyksdGhpcy5fc2hlbGxzPVtdLHRoaXMuX2JvZHk9dm9pZCAwfTsocy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLkJhc2VUb3BvbG9neS5wcm90b3R5cGUpKS5nZXRUb3BvbG9neVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gaS5UT1BPTE9HWV9UWVBFUy5MVU1QfSxzLnByb3RvdHlwZS5nZXRCb2R5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JvZHl9LHMucHJvdG90eXBlLnNldEJvZHk9ZnVuY3Rpb24oZSl7dGhpcy5fYm9keT1lfSxzLnByb3RvdHlwZS5nZXRTaGVsbHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hlbGxzfSxzLnByb3RvdHlwZS5zZXRTaGVsbHM9ZnVuY3Rpb24oZSl7dGhpcy5fc2hlbGxzPW5ldyBBcnJheShlLmxlbmd0aCk7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDsrK3QpdGhpcy5fc2hlbGxzW3RdPWVbdF19LHMucHJvdG90eXBlLmFkZFNoZWxsPWZ1bmN0aW9uKGUpe3RoaXMuX3NoZWxscz90aGlzLl9zaGVsbHMucHVzaChlKTp0aGlzLl9zaGVsbHM9W2VdLGUuc2V0THVtcCh0aGlzKX0scy5wcm90b3R5cGUuYWRkU2hlbGxzPWZ1bmN0aW9uKGUpe3RoaXMuX3NoZWxsc3x8KHRoaXMuX3NoZWxscz1bXSk7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDsrK3QpZVt0XS5zZXRMdW1wKHRoaXMpO3RoaXMuX3NoZWxscz10aGlzLl9zaGVsbHMuY29uY2F0KGUpfSxzLnByb3RvdHlwZS5yZW1vdmVTaGVsbD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9zaGVsbHMuaW5kZXhPZihlKTtyZXR1cm4gdD4tMSYmKHRoaXMuX3NoZWxscy5zcGxpY2UodCwxKSxlLmdldEx1bXAoKT09PXRoaXMmJmUuc2V0THVtcCh2b2lkIDApLCEwKX0scy5wcm90b3R5cGUuY29sbGVjdEZhY2VzPWZ1bmN0aW9uKGUpe2U9ZXx8bmV3IFNldDtmb3IodmFyIHQ9MDt0PHRoaXMuX3NoZWxscy5sZW5ndGg7Kyt0KXRoaXMuX3NoZWxsc1t0XS5jb2xsZWN0RmFjZXMoZSk7cmV0dXJuIGV9LHMucHJvdG90eXBlLmNvbGxlY3RFZGdlcz1mdW5jdGlvbihlKXtlPWV8fG5ldyBTZXQ7Zm9yKHZhciB0PTA7dDx0aGlzLl9zaGVsbHMubGVuZ3RoOysrdCl0aGlzLl9zaGVsbHNbdF0uY29sbGVjdEVkZ2VzKGUpO3JldHVybiBlfSxzLnByb3RvdHlwZS5jb2xsZWN0VmVydGljZXM9ZnVuY3Rpb24oZSl7ZT1lfHxuZXcgU2V0O2Zvcih2YXIgdD0wO3Q8dGhpcy5fc2hlbGxzLmxlbmd0aDsrK3QpdGhpcy5fc2hlbGxzW3RdLmNvbGxlY3RWZXJ0aWNlcyhlKTtyZXR1cm4gZX0scy5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3g9ZnVuY3Rpb24oKXtmb3IodmFyIGU9bmV3IG4uQm91bmRpbmdCb3gsdD0wO3Q8dGhpcy5fc2hlbGxzLmxlbmd0aDsrK3QpZS5pbmNsdWRlKHRoaXMuX3NoZWxsc1t0XS5nZXRCb3VuZGluZ0JveCgpKTtyZXR1cm4gZX0scy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIkx1bXBcIn0scy5wcm90b3R5cGUudG9PYmplY3Q9ZnVuY3Rpb24oKXtyZXR1cm57c2hlbGxzOnRoaXMucmVmc1RvU3RyaW5ncyh0aGlzLl9zaGVsbHMpLGF0dHJpYnV0ZXM6dGhpcy5yZWZzVG9TdHJpbmdzKHRoaXMuX2F0dHJpYnV0ZXMpfX0scy5wcm90b3R5cGUuYWRkVG9Nb2RlbE9iamVjdD1mdW5jdGlvbihlKXt0aGlzLmFkZEFsbFRvTW9kZWxPYmplY3QoZSxbdGhpcy5fc2hlbGxzLHRoaXMuX2F0dHJpYnV0ZXNdKX0sdC5MdW1wPXN9LDgyOTI6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUGxhbmU9dm9pZCAwO3ZhciBvPXIoMTk3MiksaT1yKDMzNDQpLG49cigyNDY4KSxzPXIoNDEyKSxhPXIoMTA5NiksYz1yKDQ3MjgpLHU9ZnVuY3Rpb24oKXtzLlN1cmZhY2UuY2FsbCh0aGlzKSx0aGlzLl9vcmlnaW49by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSx0aGlzLl9ub3JtYWw9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSx0aGlzLl91QXhpcz1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLHRoaXMuX3ZBeGlzPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCl9Oyh1LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHMuU3VyZmFjZS5wcm90b3R5cGUpKS5nZXRHZW9tZXRyeVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gbi5HRU9NRVRSWV9UWVBFUy5QTEFORX0sdS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgdTtyZXR1cm4gZS5jb3B5KHRoaXMpLGV9LHUucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSl7cy5TdXJmYWNlLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlKSxvLlZlY3RvcjMuY29weSh0aGlzLl9vcmlnaW4sZS5fb3JpZ2luKSxvLlZlY3RvcjMuY29weSh0aGlzLl9ub3JtYWwsZS5fbm9ybWFsKSxvLlZlY3RvcjMuY29weSh0aGlzLl91QXhpcyxlLl91QXhpcyksby5WZWN0b3IzLmNvcHkodGhpcy5fdkF4aXMsZS5fdkF4aXMpfSx1LnByb3RvdHlwZS5fY29tcHV0ZVZBeGlzPWZ1bmN0aW9uKCl7by5WZWN0b3IzLmNyb3NzKHRoaXMuX3ZBeGlzLHRoaXMuX25vcm1hbCx0aGlzLl91QXhpcyl9LHUucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQscil7by5WZWN0b3IzLmNvcHkodGhpcy5fb3JpZ2luLGUpLGMuQ29uc29sZVV0aWxzLmFzc2VydChvLlZlY3RvcjMuc3F1YXJlZExlbmd0aCh0KT5uLktFUk5FTF9UT0xFUkFOQ0Uqbi5LRVJORUxfVE9MRVJBTkNFKSxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX25vcm1hbCx0KSx2b2lkIDA9PT1yfHxvLlZlY3RvcjMuc3F1YXJlZExlbmd0aChyKTxuLktFUk5FTF9UT0xFUkFOQ0Uqbi5LRVJORUxfVE9MRVJBTkNFPyhvLlZlY3RvcjMuY29tcHV0ZU9ydGhvZ29uYWwodGhpcy5fdUF4aXMsdGhpcy5fbm9ybWFsKSxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX3VBeGlzLHRoaXMuX3VBeGlzKSk6KGMuQ29uc29sZVV0aWxzLmFzc2VydChvLlZlY3RvcjMuaXNPcnRob2dvbmFsKHIsdCxuLktFUk5FTF9BTkdVTEFSX1RPTEVSQU5DRSkpLG8uVmVjdG9yMy5jb3B5KHRoaXMuX3VBeGlzLHIpKSx0aGlzLl9jb21wdXRlVkF4aXMoKX0sdS5wcm90b3R5cGUuZ2V0T3JpZ2luPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29yaWdpbn0sdS5wcm90b3R5cGUuc2V0T3JpZ2luPWZ1bmN0aW9uKGUpe28uVmVjdG9yMy5jb3B5KHRoaXMuX29yaWdpbixlKX0sdS5wcm90b3R5cGUuZ2V0Tm9ybWFsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vcm1hbH0sdS5wcm90b3R5cGUuc2V0Tm9ybWFsPWZ1bmN0aW9uKGUpe2MuQ29uc29sZVV0aWxzLmFzc2VydChvLlZlY3RvcjMuc3F1YXJlZExlbmd0aChlKT5uLktFUk5FTF9UT0xFUkFOQ0Uqbi5LRVJORUxfVE9MRVJBTkNFKSxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX25vcm1hbCxlKSwoby5WZWN0b3IzLnNxdWFyZWRMZW5ndGgodGhpcy5fdUF4aXMpPD1uLktFUk5FTF9UT0xFUkFOQ0Uqbi5LRVJORUxfVE9MRVJBTkNFfHwhby5WZWN0b3IzLmlzT3J0aG9nb25hbCh0aGlzLl91QXhpcyx0aGlzLl9ub3JtYWwsbi5LRVJORUxfQU5HVUxBUl9UT0xFUkFOQ0UpKSYmKG8uVmVjdG9yMy5jb21wdXRlT3J0aG9nb25hbCh0aGlzLl91QXhpcyx0aGlzLl9ub3JtYWwpLG8uVmVjdG9yMy5ub3JtYWxpemUodGhpcy5fdUF4aXMsdGhpcy5fdUF4aXMpKSx0aGlzLl9jb21wdXRlVkF4aXMoKX0sdS5wcm90b3R5cGUuZ2V0VUF4aXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdUF4aXN9LHUucHJvdG90eXBlLnNldFVBeGlzPWZ1bmN0aW9uKGUpe2MuQ29uc29sZVV0aWxzLmFzc2VydChvLlZlY3RvcjMuc3F1YXJlZExlbmd0aChlKT5uLktFUk5FTF9UT0xFUkFOQ0Uqbi5LRVJORUxfVE9MRVJBTkNFKSxvLlZlY3RvcjMuY29weSh0aGlzLl91QXhpcyxlKSx0aGlzLl9jb21wdXRlVkF4aXMoKX0sdS5wcm90b3R5cGUuZXZhbHVhdGVQb3NpdGlvbj1mdW5jdGlvbihlLHQpe3ZhciByPW8uVmVjdG9yMy5jbG9uZSh0aGlzLl9vcmlnaW4pO3JldHVybiBvLlZlY3RvcjMuc2NhbGVBbmRBZGQocixyLHRoaXMuX3VBeGlzLGUpLG8uVmVjdG9yMy5zY2FsZUFuZEFkZChyLHIsdGhpcy5fdkF4aXMsdCkscn0sdS5wcm90b3R5cGUuZXZhbHVhdGVOb3JtYWw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gby5WZWN0b3IzLmNsb25lKHRoaXMuX25vcm1hbCl9LHUucHJvdG90eXBlLmV2YWx1YXRlRHU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gby5WZWN0b3IzLmNsb25lKHRoaXMuX3VBeGlzKX0sdS5wcm90b3R5cGUuZXZhbHVhdGVEdj1mdW5jdGlvbihlLHQpe3JldHVybiBvLlZlY3RvcjMuY2xvbmUodGhpcy5fdkF4aXMpfSx1LnByb3RvdHlwZS5jbG9zZXN0UGFyYW09ZnVuY3Rpb24oZSl7dmFyIHQ9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtyZXR1cm4gby5WZWN0b3IzLnN1Yih0LGUsdGhpcy5fb3JpZ2luKSx7dTpvLlZlY3RvcjMuZG90KHQsdGhpcy5fdUF4aXMpL28uVmVjdG9yMy5zcXVhcmVkTGVuZ3RoKHRoaXMuX3VBeGlzKSx2Om8uVmVjdG9yMy5kb3QodCx0aGlzLl92QXhpcykvby5WZWN0b3IzLnNxdWFyZWRMZW5ndGgodGhpcy5fdkF4aXMpfX0sdS5wcm90b3R5cGUudlBhcmFtTGluZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgYS5MaW5lO3JldHVybiB0LnNldCh0aGlzLmV2YWx1YXRlUG9zaXRpb24oZSwwKSx0aGlzLl92QXhpcyksdH0sdS5wcm90b3R5cGUudVBhcmFtTGluZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgYS5MaW5lO3JldHVybiB0LnNldCh0aGlzLmV2YWx1YXRlUG9zaXRpb24oMCxlKSx0aGlzLl91QXhpcyksdH0sdS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3g9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgaS5Cb3VuZGluZ0JveDtyZXR1cm4gZSYmdD8oci5pbmNsdWRlUG9pbnQodGhpcy5ldmFsdWF0ZVBvc2l0aW9uKGVbMF0sdFswXSkpLHIuaW5jbHVkZVBvaW50KHRoaXMuZXZhbHVhdGVQb3NpdGlvbihlWzBdLHRbMV0pKSxyLmluY2x1ZGVQb2ludCh0aGlzLmV2YWx1YXRlUG9zaXRpb24oZVsxXSx0WzFdKSksci5pbmNsdWRlUG9pbnQodGhpcy5ldmFsdWF0ZVBvc2l0aW9uKGVbMV0sdFswXSkpKTooci5pbmNsdWRlUG9pbnQoWy0xLzAsLTEvMCwtMS8wXSksci5pbmNsdWRlUG9pbnQoWzEvMCwxLzAsMS8wXSkpLHJ9LHUucHJvdG90eXBlLnRyYW5zZm9ybT1mdW5jdGlvbihlKXtvLlZlY3RvcjMudHJhbnNmb3JtTWF0cml4NDQodGhpcy5fb3JpZ2luLHRoaXMuX29yaWdpbixlKSxvLlZlY3RvcjMudHJhbnNmb3JtQXNEaXJlY3Rpb25NYXRyaXg0NCh0aGlzLl91QXhpcyx0aGlzLl91QXhpcyxlKSxvLlZlY3RvcjMudHJhbnNmb3JtQXNEaXJlY3Rpb25NYXRyaXg0NCh0aGlzLl92QXhpcyx0aGlzLl92QXhpcyxlKSxvLlZlY3RvcjMudHJhbnNmb3JtQXNEaXJlY3Rpb25NYXRyaXg0NCh0aGlzLl9ub3JtYWwsdGhpcy5fbm9ybWFsLGUpLG8uVmVjdG9yMy5ub3JtYWxpemUodGhpcy5fbm9ybWFsLHRoaXMuX25vcm1hbCl9LHUucHJvdG90eXBlLmdldFJhbmdlVW5saW1pdGVkVT1mdW5jdGlvbigpe3JldHVyblstMS8wLDEvMF19LHUucHJvdG90eXBlLmdldFJhbmdlVW5saW1pdGVkVj1mdW5jdGlvbigpe3JldHVyblstMS8wLDEvMF19LHUucHJvdG90eXBlLmlzUGVyaW9kaWNVbmxpbWl0ZWRVPWZ1bmN0aW9uKCl7cmV0dXJuITF9LHUucHJvdG90eXBlLmlzUGVyaW9kaWNVbmxpbWl0ZWRWPWZ1bmN0aW9uKCl7cmV0dXJuITF9LHUucHJvdG90eXBlLmlzQ2xvc2VkVW5saW1pdGVkVT1mdW5jdGlvbigpe3JldHVybiExfSx1LnByb3RvdHlwZS5pc0Nsb3NlZFVubGltaXRlZFY9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdS5wcm90b3R5cGUudG9PYmplY3Q9ZnVuY3Rpb24oKXtyZXR1cm57b3JpZ2luOnRoaXMudmVjdG9yVG9PYmplY3QodGhpcy5fb3JpZ2luKSxub3JtYWw6dGhpcy52ZWN0b3JUb09iamVjdCh0aGlzLl9ub3JtYWwpLHVBeGlzOnRoaXMudmVjdG9yVG9PYmplY3QodGhpcy5fdUF4aXMpLHVSYW5nZTp0aGlzLnJhbmdlVG9PYmplY3QodGhpcy5nZXRSYW5nZVUoKSx0aGlzLmlzTGltaXRlZFUoKSksdlJhbmdlOnRoaXMucmFuZ2VUb09iamVjdCh0aGlzLmdldFJhbmdlVigpLHRoaXMuaXNMaW1pdGVkVigpKX19LHQuUGxhbmU9dX0sMzU2NTooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Qb2ludD12b2lkIDA7dmFyIG89cigxOTcyKSxpPXIoOTAyNCksbj1yKDMzNDQpLHM9cigyNDY4KSxhPWZ1bmN0aW9uKGUpe2kuQmFzZUdlb21ldHJ5LmNhbGwodGhpcyksdGhpcy5fcG9zaXRpb249by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSxlJiZvLlZlY3RvcjMuY29weSh0aGlzLl9wb3NpdGlvbixlKX07KGEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5CYXNlR2VvbWV0cnkucHJvdG90eXBlKSkuZ2V0R2VvbWV0cnlUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHMuR0VPTUVUUllfVFlQRVMuUE9JTlR9LGEucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGE7cmV0dXJuIGUuY29weSh0aGlzKSxlfSxhLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUpe2kuQmFzZUdlb21ldHJ5LnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlKSx0aGlzLmNvcHlQb3NpdGlvbihlLmdldFBvc2l0aW9uKCkpfSxhLnByb3RvdHlwZS5nZXRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb3NpdGlvbn0sYS5wcm90b3R5cGUuY29weVBvc2l0aW9uPWZ1bmN0aW9uKGUpe28uVmVjdG9yMy5jb3B5KHRoaXMuX3Bvc2l0aW9uLGUpfSxhLnByb3RvdHlwZS5zZXRQb3NpdGlvbj1mdW5jdGlvbihlLHQscil7by5WZWN0b3IzLnNldCh0aGlzLl9wb3NpdGlvbixlLHQscil9LGEucHJvdG90eXBlLmdldEJvdW5kaW5nQm94PWZ1bmN0aW9uKCl7dmFyIGU9bmV3IG4uQm91bmRpbmdCb3g7cmV0dXJuIGUuaW5jbHVkZVBvaW50KHRoaXMuZ2V0UG9zaXRpb24oKSksZX0sYS5wcm90b3R5cGUudHJhbnNmb3JtPWZ1bmN0aW9uKGUpe28uVmVjdG9yMy50cmFuc2Zvcm1NYXRyaXg0NCh0aGlzLl9wb3NpdGlvbix0aGlzLl9wb3NpdGlvbixlKX0sYS5wcm90b3R5cGUudG9PYmplY3Q9ZnVuY3Rpb24oKXtyZXR1cm57cG9zaXRpb246dGhpcy52ZWN0b3JUb09iamVjdCh0aGlzLl9wb3NpdGlvbil9fSx0LlBvaW50PWF9LDY1MDg6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuU2hlbGw9dm9pZCAwO3ZhciBvPXIoOTU0NyksaT1yKDI0NjgpLG49cigzMzQ0KSxzPWZ1bmN0aW9uKCl7by5CYXNlVG9wb2xvZ3kuY2FsbCh0aGlzKSx0aGlzLl9mYWNlcz1bXSx0aGlzLl9sdW1wPXZvaWQgMH07KHMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5CYXNlVG9wb2xvZ3kucHJvdG90eXBlKSkuZ2V0VG9wb2xvZ3lUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIGkuVE9QT0xPR1lfVFlQRVMuU0hFTEx9LHMucHJvdG90eXBlLmdldEx1bXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbHVtcH0scy5wcm90b3R5cGUuc2V0THVtcD1mdW5jdGlvbihlKXt0aGlzLl9sdW1wPWV9LHMucHJvdG90eXBlLmdldEZhY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZhY2VzfSxzLnByb3RvdHlwZS5zZXRGYWNlcz1mdW5jdGlvbihlKXt0aGlzLl9mYWNlcz1uZXcgQXJyYXkoZS5sZW5ndGgpO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7Kyt0KXRoaXMuX2ZhY2VzW3RdPWVbdF19LHMucHJvdG90eXBlLmFkZEZhY2U9ZnVuY3Rpb24oZSl7dGhpcy5fZmFjZXM/dGhpcy5fZmFjZXMucHVzaChlKTp0aGlzLl9mYWNlcz1bZV0sZS5zZXRTaGVsbCh0aGlzKX0scy5wcm90b3R5cGUuYWRkRmFjZXM9ZnVuY3Rpb24oZSl7dGhpcy5fZmFjZXN8fCh0aGlzLl9mYWNlcz1bXSk7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDsrK3QpZVt0XS5zZXRTaGVsbCh0aGlzKTt0aGlzLl9mYWNlcz10aGlzLl9mYWNlcy5jb25jYXQoZSl9LHMucHJvdG90eXBlLnJlbW92ZUZhY2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZmFjZXMuaW5kZXhPZihlKTtyZXR1cm4gdD4tMSYmKHRoaXMuX2ZhY2VzLnNwbGljZSh0LDEpLGUuZ2V0U2hlbGwoKT09PXRoaXMmJmUuc2V0U2hlbGwodm9pZCAwKSwhMCl9LHMucHJvdG90eXBlLmdldEJvZHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbHVtcD90aGlzLl9sdW1wLmdldEJvZHkoKTp2b2lkIDB9LHMucHJvdG90eXBlLmNvbGxlY3RGYWNlcz1mdW5jdGlvbihlKXtlPWV8fG5ldyBTZXQ7Zm9yKHZhciB0PTA7dDx0aGlzLl9mYWNlcy5sZW5ndGg7Kyt0KWUuYWRkKHRoaXMuX2ZhY2VzW3RdKTtyZXR1cm4gZX0scy5wcm90b3R5cGUuY29sbGVjdEVkZ2VzPWZ1bmN0aW9uKGUpe2U9ZXx8bmV3IFNldDtmb3IodmFyIHQ9MDt0PHRoaXMuX2ZhY2VzLmxlbmd0aDsrK3QpdGhpcy5fZmFjZXNbdF0uY29sbGVjdEVkZ2VzKGUpO3JldHVybiBlfSxzLnByb3RvdHlwZS5jb2xsZWN0VmVydGljZXM9ZnVuY3Rpb24oZSl7ZT1lfHxuZXcgU2V0O2Zvcih2YXIgdD0wO3Q8dGhpcy5fZmFjZXMubGVuZ3RoOysrdCl0aGlzLl9mYWNlc1t0XS5jb2xsZWN0VmVydGljZXMoZSk7cmV0dXJuIGV9LHMucHJvdG90eXBlLmdldEJvdW5kaW5nQm94PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPW5ldyBuLkJvdW5kaW5nQm94LHQ9MDt0PHRoaXMuX2ZhY2VzLmxlbmd0aDsrK3QpZS5pbmNsdWRlKHRoaXMuX2ZhY2VzW3RdLmdldEJvdW5kaW5nQm94KCkpO3JldHVybiBlfSxzLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiU2hlbGxcIn0scy5wcm90b3R5cGUudG9PYmplY3Q9ZnVuY3Rpb24oKXtyZXR1cm57ZmFjZXM6dGhpcy5yZWZzVG9TdHJpbmdzKHRoaXMuX2ZhY2VzKSxhdHRyaWJ1dGVzOnRoaXMucmVmc1RvU3RyaW5ncyh0aGlzLl9hdHRyaWJ1dGVzKX19LHMucHJvdG90eXBlLmFkZFRvTW9kZWxPYmplY3Q9ZnVuY3Rpb24oZSl7dGhpcy5hZGRBbGxUb01vZGVsT2JqZWN0KGUsW3RoaXMuX2ZhY2VzLHRoaXMuX2F0dHJpYnV0ZXNdKX0sdC5TaGVsbD1zfSwyNDY4OihlLHQpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ITE7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LmlzSmFndWFyJiYodC5pc1NjZW5lQ29tcG9zZXJFbnY9cj0hMCk7dmFyIG89ITE7ciYmKHQuVVNFX0xFR0FDWV9MRUlEUz1vPXdpbmRvdy5pc0phZ3VhciYmd2luZG93LmlzSmFndWFyKCl8fCEhSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIlVTRV9MRUdBQ1lfTEVJRFNcIikpKTt0LktFUk5FTF9UT0xFUkFOQ0U9MWUtNix0LktFUk5FTF9BTkdVTEFSX1RPTEVSQU5DRT0xZS0xMCx0LlBBUkFNRVRFUl9TUEFDRV9UT0xFUkFOQ0U9MWUtMTAsdC5TUExJTkVfVEFOR0VOVF9IQU5ETEVfU0NBTEU9MSx0LlNQTElORV9ESVNUQU5DRV9UT0xFUkFOQ0U9MWUtNCx0LkRFRkFVTFRfQ1VSVkVfUkVTT0xVVElPTj02NDt0LmlzU2NlbmVDb21wb3NlckVudj1yLHQuTk9fSUQ9XCJcIix0LlVTRV9MRUdBQ1lfTEVJRFM9byx0LlRFU1NFTExBVElPTj17TElORUFSX1BSRUNJU0lPTjoxZS00LEFOR1VMQVJfUFJFQ0lTSU9OOjFlLTV9LHQuR0VPTUVUUllfVFlQRVM9e1BPSU5UOjEsQkNVUlZFOjIsQ0lSQ0xFOjMsRUxMSVBTRTo0LEhBUENVUlZFOjUsTElORTo2LEJTVVJGQUNFOjcsQ09ORTo4LENZTElOREVSOjksRUxMSVBUSUNBTF9DT05FOjEwLEVMTElQVElDQUxfQ1lMSU5ERVI6MTEsUExBTkU6MTIsU1BIRVJFOjEzLFRPUlVTOjE0LHRvU3RyaW5nOmZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIHRoaXMuUE9JTlQ6cmV0dXJuXCJQb2ludFwiO2Nhc2UgdGhpcy5CQ1VSVkU6cmV0dXJuXCJCQ3VydmVcIjtjYXNlIHRoaXMuQ0lSQ0xFOnJldHVyblwiQ2lyY2xlXCI7Y2FzZSB0aGlzLkVMTElQU0U6cmV0dXJuXCJFbGxpcHNlXCI7Y2FzZSB0aGlzLkhBUENVUlZFOnJldHVyblwiSGFwQ3VydmVcIjtjYXNlIHRoaXMuTElORTpyZXR1cm5cIkxpbmVcIjtjYXNlIHRoaXMuQlNVUkZBQ0U6cmV0dXJuXCJCU3VyZmFjZVwiO2Nhc2UgdGhpcy5DT05FOnJldHVyblwiQ29uZVwiO2Nhc2UgdGhpcy5DWUxJTkRFUjpyZXR1cm5cIkN5bGluZGVyXCI7Y2FzZSB0aGlzLkVMTElQVElDQUxfQ09ORTpyZXR1cm5cIkVsbGlwdGljYWxDb25lXCI7Y2FzZSB0aGlzLkVMTElQVElDQUxfQ1lMSU5ERVI6cmV0dXJuXCJFbGxpcHRpY2FsQ3lsaW5kZXJcIjtjYXNlIHRoaXMuUExBTkU6cmV0dXJuXCJQbGFuZVwiO2Nhc2UgdGhpcy5TUEhFUkU6cmV0dXJuXCJTcGhlcmVcIjtjYXNlIHRoaXMuVE9SVVM6cmV0dXJuXCJUb3J1c1wiO2RlZmF1bHQ6cmV0dXJuXCJ1bmtub3duXCJ9fX0sdC5UT1BPTE9HWV9UWVBFUz17VkVSVEVYOjEsRURHRToyLENPRURHRTozLExPT1A6NCxGQUNFOjUsU0hFTEw6NixMVU1QOjcsQk9EWTo4LFdJUkU6OSxXSVJFQk9EWToxMCx0b1N0cmluZzpmdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSB0aGlzLlZFUlRFWDpyZXR1cm5cIlZlcnRleFwiO2Nhc2UgdGhpcy5FREdFOnJldHVyblwiRWRnZVwiO2Nhc2UgdGhpcy5DT0VER0U6cmV0dXJuXCJDb2VkZ2VcIjtjYXNlIHRoaXMuTE9PUDpyZXR1cm5cIkxvb3BcIjtjYXNlIHRoaXMuRkFDRTpyZXR1cm5cIkZhY2VcIjtjYXNlIHRoaXMuU0hFTEw6cmV0dXJuXCJTaGVsbFwiO2Nhc2UgdGhpcy5MVU1QOnJldHVyblwiTHVtcFwiO2Nhc2UgdGhpcy5CT0RZOnJldHVyblwiQm9keVwiO2Nhc2UgdGhpcy5XSVJFOnJldHVyblwiV2lyZVwiO2Nhc2UgdGhpcy5XSVJFQk9EWTpyZXR1cm5cIldpcmVCb2R5XCI7ZGVmYXVsdDpyZXR1cm5cInVua25vd25cIn19fX0sNDM3MjooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5TcGhlcmU9dm9pZCAwO3ZhciBvPXIoMTk3MiksaT1yKDU4OTYpLG49cigyNDY4KSxzPXIoNDEyKSxhPXIoMzU2NSksYz1yKDU1MTIpLHU9cig0NzI4KSxsPWZ1bmN0aW9uKCl7cy5TdXJmYWNlLmNhbGwodGhpcyksdGhpcy5fY2VudGVyPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCksdGhpcy5fcmFkaXVzPTAsdGhpcy5feEF4aXM9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSx0aGlzLl95QXhpcz1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLHRoaXMuX3pBeGlzPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCl9OyhsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHMuU3VyZmFjZS5wcm90b3R5cGUpKS5nZXRHZW9tZXRyeVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gbi5HRU9NRVRSWV9UWVBFUy5TUEhFUkV9LGwucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGw7cmV0dXJuIGUuY29weSh0aGlzKSxlfSxsLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUpe3MuU3VyZmFjZS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSksdGhpcy5fcmFkaXVzPWUuX3JhZGl1cyxvLlZlY3RvcjMuY29weSh0aGlzLl9jZW50ZXIsZS5fY2VudGVyKSxvLlZlY3RvcjMuY29weSh0aGlzLl94QXhpcyxlLl94QXhpcyksby5WZWN0b3IzLmNvcHkodGhpcy5feUF4aXMsZS5feUF4aXMpLG8uVmVjdG9yMy5jb3B5KHRoaXMuX3pBeGlzLGUuX3pBeGlzKX0sbC5wcm90b3R5cGUuX2NvbXB1dGVZQXhpcz1mdW5jdGlvbigpe28uVmVjdG9yMy5jcm9zcyh0aGlzLl95QXhpcyx0aGlzLl94QXhpcyx0aGlzLl96QXhpcyl9LGwucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQscixpKXtvLlZlY3RvcjMuY29weSh0aGlzLl9jZW50ZXIsZSksdS5Db25zb2xlVXRpbHMuYXNzZXJ0KHQ+bi5LRVJORUxfVE9MRVJBTkNFKSx0aGlzLl9yYWRpdXM9dDt2YXIgcz12b2lkIDA9PT1yfHxvLlZlY3RvcjMuc3F1YXJlZExlbmd0aChyKTxuLktFUk5FTF9UT0xFUkFOQ0Uqbi5LRVJORUxfVE9MRVJBTkNFLGE9dm9pZCAwPT09aXx8by5WZWN0b3IzLnNxdWFyZWRMZW5ndGgoaSk8bi5LRVJORUxfVE9MRVJBTkNFKm4uS0VSTkVMX1RPTEVSQU5DRTtzJiZhPyhvLlZlY3RvcjMuc2V0KHRoaXMuX3hBeGlzLDEsMCwwKSxvLlZlY3RvcjMuc2V0KHRoaXMuX3pBeGlzLDAsMCwxKSk6cz8oby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl94QXhpcyxpKSxvLlZlY3RvcjMuY29tcHV0ZU9ydGhvZ29uYWwodGhpcy5fekF4aXMsdGhpcy5feEF4aXMpLG8uVmVjdG9yMy5ub3JtYWxpemUodGhpcy5fekF4aXMsdGhpcy5fekF4aXMpKTphPyhvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX3pBeGlzLHIpLG8uVmVjdG9yMy5jb21wdXRlT3J0aG9nb25hbCh0aGlzLl94QXhpcyx0aGlzLl96QXhpcyksby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl94QXhpcyx0aGlzLl94QXhpcykpOih1LkNvbnNvbGVVdGlscy5hc3NlcnQoby5WZWN0b3IzLmlzT3J0aG9nb25hbChyLGksbi5LRVJORUxfQU5HVUxBUl9UT0xFUkFOQ0UpKSxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX3hBeGlzLGkpLG8uVmVjdG9yMy5ub3JtYWxpemUodGhpcy5fekF4aXMscikpLHRoaXMuX2NvbXB1dGVZQXhpcygpfSxsLnByb3RvdHlwZS5nZXRSYWRpdXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFkaXVzfSxsLnByb3RvdHlwZS5zZXRSYWRpdXM9ZnVuY3Rpb24oZSl7dS5Db25zb2xlVXRpbHMuYXNzZXJ0KGU+bi5LRVJORUxfVE9MRVJBTkNFKSx0aGlzLl9yYWRpdXM9ZX0sbC5wcm90b3R5cGUuZ2V0Q2VudGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NlbnRlcn0sbC5wcm90b3R5cGUuc2V0Q2VudGVyPWZ1bmN0aW9uKGUpe28uVmVjdG9yMy5jb3B5KHRoaXMuX2NlbnRlcixlKX0sbC5wcm90b3R5cGUuZ2V0QXhpc0Rpcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl96QXhpc30sbC5wcm90b3R5cGUuc2V0QXhpc0Rpcj1mdW5jdGlvbihlKXt1LkNvbnNvbGVVdGlscy5hc3NlcnQoby5WZWN0b3IzLnNxdWFyZWRMZW5ndGgoZSk+bi5LRVJORUxfVE9MRVJBTkNFKm4uS0VSTkVMX1RPTEVSQU5DRSksby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl96QXhpcyxlKSwoby5WZWN0b3IzLnNxdWFyZWRMZW5ndGgodGhpcy5feEF4aXMpPD1uLktFUk5FTF9UT0xFUkFOQ0Uqbi5LRVJORUxfVE9MRVJBTkNFfHwhby5WZWN0b3IzLmlzT3J0aG9nb25hbCh0aGlzLl94QXhpcyx0aGlzLl96QXhpcyxuLktFUk5FTF9BTkdVTEFSX1RPTEVSQU5DRSkpJiYoby5WZWN0b3IzLmNvbXB1dGVPcnRob2dvbmFsKHRoaXMuX3hBeGlzLHRoaXMuX3pBeGlzKSxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX3hBeGlzLHRoaXMuX3hBeGlzKSksdGhpcy5fY29tcHV0ZVlBeGlzKCl9LGwucHJvdG90eXBlLmdldFV2T3JpZ2luRGlyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3hBeGlzfSxsLnByb3RvdHlwZS5zZXRVdk9yaWdpbkRpcj1mdW5jdGlvbihlKXt1LkNvbnNvbGVVdGlscy5hc3NlcnQoby5WZWN0b3IzLnNxdWFyZWRMZW5ndGgoZSk+bi5LRVJORUxfVE9MRVJBTkNFKm4uS0VSTkVMX1RPTEVSQU5DRSksby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl94QXhpcyxlKSwoby5WZWN0b3IzLnNxdWFyZWRMZW5ndGgodGhpcy5fekF4aXMpPD1uLktFUk5FTF9UT0xFUkFOQ0Uqbi5LRVJORUxfVE9MRVJBTkNFfHwhby5WZWN0b3IzLmlzT3J0aG9nb25hbCh0aGlzLl94QXhpcyx0aGlzLl96QXhpcyxuLktFUk5FTF9BTkdVTEFSX1RPTEVSQU5DRSkpJiYoby5WZWN0b3IzLmNvbXB1dGVPcnRob2dvbmFsKHRoaXMuX3pBeGlzLHRoaXMuX3hBeGlzKSxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX3pBeGlzLHRoaXMuX3pBeGlzKSksdGhpcy5fY29tcHV0ZVlBeGlzKCl9LGwucHJvdG90eXBlLmV2YWx1YXRlUG9zaXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgcj1NYXRoLnNpbihlKSxpPU1hdGguY29zKGUpLG49TWF0aC5zaW4odCkscz1NYXRoLmNvcyh0KSxhPXRoaXMuX3JhZGl1cyppKnMsYz10aGlzLl9yYWRpdXMqaSpuLHU9dGhpcy5fcmFkaXVzKnIsbD1vLlZlY3RvcjMuY2xvbmUodGhpcy5fY2VudGVyKTtyZXR1cm4gby5WZWN0b3IzLnNjYWxlQW5kQWRkKGwsbCx0aGlzLl94QXhpcyxhKSxvLlZlY3RvcjMuc2NhbGVBbmRBZGQobCxsLHRoaXMuX3lBeGlzLGMpLG8uVmVjdG9yMy5zY2FsZUFuZEFkZChsLGwsdGhpcy5fekF4aXMsdSksbH0sbC5wcm90b3R5cGUuZXZhbHVhdGVOb3JtYWw9ZnVuY3Rpb24oZSx0KXt2YXIgcj1NYXRoLnNpbihlKSxpPU1hdGguY29zKGUpLG49TWF0aC5zaW4odCkscz1pKk1hdGguY29zKHQpLGE9aSpuLGM9cix1PW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7cmV0dXJuIG8uVmVjdG9yMy5zY2FsZSh1LHRoaXMuX3hBeGlzLHMpLG8uVmVjdG9yMy5zY2FsZUFuZEFkZCh1LHUsdGhpcy5feUF4aXMsYSksby5WZWN0b3IzLnNjYWxlQW5kQWRkKHUsdSx0aGlzLl96QXhpcyxjKSx1fSxsLnByb3RvdHlwZS5ldmFsdWF0ZUR1PWZ1bmN0aW9uKGUsdCl7dmFyIHI9TWF0aC5zaW4oZSksaT1NYXRoLmNvcyhlKSxuPU1hdGguc2luKHQpLHM9TWF0aC5jb3ModCksYT0tdGhpcy5fcmFkaXVzKnIqcyxjPS10aGlzLl9yYWRpdXMqcipuLHU9dGhpcy5fcmFkaXVzKmksbD1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpO3JldHVybiBvLlZlY3RvcjMuc2NhbGUobCx0aGlzLl94QXhpcyxhKSxvLlZlY3RvcjMuc2NhbGVBbmRBZGQobCxsLHRoaXMuX3lBeGlzLGMpLG8uVmVjdG9yMy5zY2FsZUFuZEFkZChsLGwsdGhpcy5fekF4aXMsdSksbH0sbC5wcm90b3R5cGUuZXZhbHVhdGVEdj1mdW5jdGlvbihlLHQpe3ZhciByPU1hdGguY29zKGUpLGk9TWF0aC5zaW4odCksbj1NYXRoLmNvcyh0KSxzPS10aGlzLl9yYWRpdXMqcippLGE9dGhpcy5fcmFkaXVzKnIqbixjPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7cmV0dXJuIG8uVmVjdG9yMy5zY2FsZShjLHRoaXMuX3hBeGlzLHMpLG8uVmVjdG9yMy5zY2FsZUFuZEFkZChjLGMsdGhpcy5feUF4aXMsYSksY30sbC5wcm90b3R5cGUuY2xvc2VzdFBhcmFtPWZ1bmN0aW9uKGUpe3ZhciB0PW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7by5WZWN0b3IzLnN1Yih0LGUsdGhpcy5fY2VudGVyKTt2YXIgcj1vLlZlY3RvcjMubGVuZ3RoKHQpO2lmKHI8bi5LRVJORUxfVE9MRVJBTkNFKXJldHVybnt1OjAsdjowfTt2YXIgcz1vLlZlY3RvcjMuZG90KHQsdGhpcy5feEF4aXMpLGE9by5WZWN0b3IzLmRvdCh0LHRoaXMuX3lBeGlzKSxjPW8uVmVjdG9yMy5kb3QodCx0aGlzLl96QXhpcyk7cmV0dXJue3U6TWF0aC5hc2luKCgwLGkuY2xhbXApKGMvciwtMSwxKSksdjpNYXRoLmF0YW4yKGEscyl9fSxsLnByb3RvdHlwZS52UGFyYW1MaW5lPWZ1bmN0aW9uKGUpe3ZhciB0PU1hdGguY29zKGUpLHI9TWF0aC5zaW4oZSksaT10aGlzLl9yYWRpdXMqdCxzPXRoaXMuX3JhZGl1cypyO2lmKE1hdGguYWJzKGkpPm4uS0VSTkVMX1RPTEVSQU5DRSl7dmFyIHU9bmV3IGMuQ2lyY2xlLGw9by5WZWN0b3IzLmNsb25lKHRoaXMuX2NlbnRlcik7by5WZWN0b3IzLnNjYWxlQW5kQWRkKGwsbCx0aGlzLl96QXhpcyxzKTt2YXIgaD1vLlZlY3RvcjMuY2xvbmUodGhpcy5feEF4aXMpO28uVmVjdG9yMy5zY2FsZShoLGgsaSk7dmFyIGQ9by5WZWN0b3IzLmNsb25lKHRoaXMuX3pBeGlzKTtyZXR1cm4gby5WZWN0b3IzLm5lZ2F0ZShkLGQpLHUuc2V0KGwsZCxoKSx1fXZhciBwPW8uVmVjdG9yMy5jbG9uZSh0aGlzLl9jZW50ZXIpO3JldHVybiBzPXM8MD8tdGhpcy5fcmFkaXVzOnRoaXMuX3JhZGl1cyxvLlZlY3RvcjMuc2NhbGVBbmRBZGQocCxwLHRoaXMuX3pBeGlzLHMpLG5ldyBhLlBvaW50KHApfSxsLnByb3RvdHlwZS51UGFyYW1MaW5lPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBjLkNpcmNsZSxyPU1hdGguc2luKGUpLGk9TWF0aC5jb3MoZSksbj10aGlzLl9yYWRpdXMqaSxzPXRoaXMuX3JhZGl1cypyLGE9by5WZWN0b3IzLmNsb25lKHRoaXMuX3hBeGlzKTtvLlZlY3RvcjMuc2NhbGUoYSxhLC1zKSxvLlZlY3RvcjMuc2NhbGVBbmRBZGQoYSxhLHRoaXMuX3lBeGlzLG4pLG8uVmVjdG9yMy5ub3JtYWxpemUoYSxhKTt2YXIgdT1vLlZlY3RvcjMuY2xvbmUodGhpcy5feEF4aXMpO3JldHVybiBvLlZlY3RvcjMuc2NhbGUodSx1LG4pLG8uVmVjdG9yMy5zY2FsZUFuZEFkZCh1LHUsdGhpcy5feUF4aXMscyksdC5zZXQodGhpcy5fY2VudGVyLGEsdSksdH0sbC5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3g9ZnVuY3Rpb24oZSx0KXtlPWV8fFstTWF0aC5QSS8yLE1hdGguUEkvMl0sdD10fHxbLU1hdGguUEksTWF0aC5QSV07dmFyIHI9ZVswXSxuPWVbMV0scz10WzBdLGE9dFsxXSxjPXRoaXMudlBhcmFtTGluZShyKS5nZXRCb3VuZGluZ0JveCh0KTtjLmluY2x1ZGUodGhpcy52UGFyYW1MaW5lKG4pLmdldEJvdW5kaW5nQm94KHQpKSxjLmluY2x1ZGUodGhpcy51UGFyYW1MaW5lKHMpLmdldEJvdW5kaW5nQm94KGUpKSxjLmluY2x1ZGUodGhpcy51UGFyYW1MaW5lKGEpLmdldEJvdW5kaW5nQm94KGUpKTtmb3IodmFyIHU9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSxsPTA7bDwzOysrbClmb3IodmFyIGg9MDtoPDI7KytoKXt2YXIgZD0wPT09aD8xOi0xLHA9TWF0aC5hdGFuMihkKnRoaXMuX3lBeGlzW2xdLGQqdGhpcy5feEF4aXNbbF0pLGc9TWF0aC5hc2luKGQqdGhpcy5fekF4aXNbbF0pO3A9KDAsaS5hZGp1c3RQYXJhbWV0ZXJUb1BlcmlvZGljUmFuZ2UpKHAsdCxpLlBJMiksZz5yJiZnPG4mJnA+cyYmcDxhJiYoby5WZWN0b3IzLnNldCh1LDAsMCwwKSx1W2xdPWQqdGhpcy5fcmFkaXVzLGMuaW5jbHVkZVBvaW50KG8uVmVjdG9yMy5hZGQodSx0aGlzLl9jZW50ZXIsdSkpKX1yZXR1cm4gY30sbC5wcm90b3R5cGUudHJhbnNmb3JtPWZ1bmN0aW9uKGUpe28uVmVjdG9yMy50cmFuc2Zvcm1NYXRyaXg0NCh0aGlzLl9jZW50ZXIsdGhpcy5fY2VudGVyLGUpLG8uVmVjdG9yMy50cmFuc2Zvcm1Bc0RpcmVjdGlvbk1hdHJpeDQ0KHRoaXMuX3hBeGlzLHRoaXMuX3hBeGlzLGUpLG8uVmVjdG9yMy50cmFuc2Zvcm1Bc0RpcmVjdGlvbk1hdHJpeDQ0KHRoaXMuX3lBeGlzLHRoaXMuX3lBeGlzLGUpLG8uVmVjdG9yMy50cmFuc2Zvcm1Bc0RpcmVjdGlvbk1hdHJpeDQ0KHRoaXMuX3pBeGlzLHRoaXMuX3pBeGlzLGUpO3ZhciB0PW8uVmVjdG9yMy5sZW5ndGgodGhpcy5feEF4aXMpO3RoaXMuX3JhZGl1cyo9dCxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX3hBeGlzLHRoaXMuX3hBeGlzKSxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX3lBeGlzLHRoaXMuX3lBeGlzKSxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX3pBeGlzLHRoaXMuX3pBeGlzKX0sbC5wcm90b3R5cGUuZ2V0UmFuZ2VVbmxpbWl0ZWRVPWZ1bmN0aW9uKCl7cmV0dXJuWy1NYXRoLlBJLzIsTWF0aC5QSS8yXX0sbC5wcm90b3R5cGUuZ2V0UmFuZ2VVbmxpbWl0ZWRWPWZ1bmN0aW9uKCl7cmV0dXJuWy1NYXRoLlBJLE1hdGguUEldfSxsLnByb3RvdHlwZS5pc1BlcmlvZGljVW5saW1pdGVkVT1mdW5jdGlvbigpe3JldHVybiExfSxsLnByb3RvdHlwZS5pc1BlcmlvZGljVW5saW1pdGVkVj1mdW5jdGlvbigpe3JldHVybiEwfSxsLnByb3RvdHlwZS5pc0Nsb3NlZFVubGltaXRlZFU9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sbC5wcm90b3R5cGUuaXNDbG9zZWRVbmxpbWl0ZWRWPWZ1bmN0aW9uKCl7cmV0dXJuITB9LGwucHJvdG90eXBlLnRvT2JqZWN0PWZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzLmV2YWx1YXRlUG9zaXRpb24oMCwwKTtyZXR1cm4gby5WZWN0b3IzLnN1YihlLGUsdGhpcy5nZXRDZW50ZXIoKSkse2NlbnRlcjp0aGlzLnZlY3RvclRvT2JqZWN0KHRoaXMuZ2V0Q2VudGVyKCkpLHJhZGl1czp0aGlzLnZlY3RvclRvT2JqZWN0KGUpLGF4aXM6dGhpcy52ZWN0b3JUb09iamVjdCh0aGlzLmdldEF4aXNEaXIoKSksdVJhbmdlOnRoaXMucmFuZ2VUb09iamVjdCh0aGlzLmdldFJhbmdlVSgpLHRoaXMuaXNMaW1pdGVkVSgpKSx2UmFuZ2U6dGhpcy5yYW5nZVRvT2JqZWN0KHRoaXMuZ2V0UmFuZ2VWKCksdGhpcy5pc0xpbWl0ZWRWKCkpfX0sdC5TcGhlcmU9bH0sNDEyOihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlN1cmZhY2U9dm9pZCAwO3ZhciBvPXIoMTk3MiksaT1yKDkwMjQpLG49cigyNDY4KSxzPXIoNTg5NiksYT1mdW5jdGlvbigpe2kuQmFzZUdlb21ldHJ5LmNhbGwodGhpcyksdGhpcy5fc3VicmFuZ2VVPVtdLHRoaXMuX3N1YnJhbmdlVj1bXX07KGEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5CYXNlR2VvbWV0cnkucHJvdG90eXBlKSkuY29weT1mdW5jdGlvbihlKXtpLkJhc2VHZW9tZXRyeS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSksdGhpcy5fc3VicmFuZ2VVPWUuaXNMaW1pdGVkVSgpP1tlLl9zdWJyYW5nZVVbMF0sZS5fc3VicmFuZ2VVWzFdXTpbXSx0aGlzLl9zdWJyYW5nZVY9ZS5pc0xpbWl0ZWRWKCk/W2UuX3N1YnJhbmdlVlswXSxlLl9zdWJyYW5nZVZbMV1dOltdfSxhLnByb3RvdHlwZS5pc0xpbWl0ZWRVPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N1YnJhbmdlVS5sZW5ndGg+MH0sYS5wcm90b3R5cGUuaXNMaW1pdGVkVj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJyYW5nZVYubGVuZ3RoPjB9LGEucHJvdG90eXBlLmdldFJhbmdlVT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzTGltaXRlZFUoKT90aGlzLl9zdWJyYW5nZVU6dGhpcy5nZXRSYW5nZVVubGltaXRlZFUoKX0sYS5wcm90b3R5cGUuZ2V0UmFuZ2VWPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNMaW1pdGVkVigpP3RoaXMuX3N1YnJhbmdlVjp0aGlzLmdldFJhbmdlVW5saW1pdGVkVigpfSxhLnByb3RvdHlwZS5nZXRSYW5nZVVubGltaXRlZFU9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJTdXJmYWNlLmdldFJhbmdlVW5saW1pdGVkVSA6IGFic3RyYWN0IG1ldGhvZCBpbnZva2VkIVwiKX0sYS5wcm90b3R5cGUuZ2V0UmFuZ2VVbmxpbWl0ZWRWPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiU3VyZmFjZS5nZXRSYW5nZVVubGltaXRlZFYgOiBhYnN0cmFjdCBtZXRob2QgaW52b2tlZCFcIil9LGEucHJvdG90eXBlLmxpbWl0UmFuZ2VVPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0UmFuZ2VVKCk7dGhpcy5fc3VicmFuZ2VVPSgwLHMubGltaXRSYW5nZSkodCxlLHRoaXMuaXNQZXJpb2RpY1UoKSx0aGlzLmdldFBlcmlvZFUoKSl9LGEucHJvdG90eXBlLmxpbWl0UmFuZ2VWPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0UmFuZ2VWKCk7dGhpcy5fc3VicmFuZ2VWPSgwLHMubGltaXRSYW5nZSkodCxlLHRoaXMuaXNQZXJpb2RpY1YoKSx0aGlzLmdldFBlcmlvZFYoKSl9LGEucHJvdG90eXBlLnVubGltaXRSYW5nZVU9ZnVuY3Rpb24oKXt0aGlzLl9zdWJyYW5nZVU9W119LGEucHJvdG90eXBlLnVubGltaXRSYW5nZVY9ZnVuY3Rpb24oKXt0aGlzLl9zdWJyYW5nZVY9W119LGEucHJvdG90eXBlLmlzUGVyaW9kaWNVPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNQZXJpb2RpY1VubGltaXRlZFUoKSYmIXRoaXMuaXNMaW1pdGVkVSgpfSxhLnByb3RvdHlwZS5pc1BlcmlvZGljVj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzUGVyaW9kaWNVbmxpbWl0ZWRWKCkmJiF0aGlzLmlzTGltaXRlZFYoKX0sYS5wcm90b3R5cGUuaXNQZXJpb2RpY1VubGltaXRlZFU9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJTdXJmYWNlLmlzUGVyaW9kaWNVbmxpbWl0ZWRVIDogYWJzdHJhY3QgbWV0aG9kIGludm9rZWQhXCIpfSxhLnByb3RvdHlwZS5pc1BlcmlvZGljVW5saW1pdGVkVj1mdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlN1cmZhY2UuaXNQZXJpb2RpY1VubGltaXRlZFYgOiBhYnN0cmFjdCBtZXRob2QgaW52b2tlZCFcIil9LGEucHJvdG90eXBlLmdldFBlcmlvZFU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0xpbWl0ZWRVKCk/dm9pZCAwOnRoaXMuZ2V0UGVyaW9kVW5saW1pdGVkVSgpfSxhLnByb3RvdHlwZS5nZXRQZXJpb2RWPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNMaW1pdGVkVigpP3ZvaWQgMDp0aGlzLmdldFBlcmlvZFVubGltaXRlZFYoKX0sYS5wcm90b3R5cGUuZ2V0UGVyaW9kVW5saW1pdGVkVT1mdW5jdGlvbigpe2lmKHRoaXMuaXNQZXJpb2RpY1VubGltaXRlZFUoKSl7dmFyIGU9dGhpcy5nZXRSYW5nZVVubGltaXRlZFUoKTtyZXR1cm4gZVsxXS1lWzBdfX0sYS5wcm90b3R5cGUuZ2V0UGVyaW9kVW5saW1pdGVkVj1mdW5jdGlvbigpe2lmKHRoaXMuaXNQZXJpb2RpY1VubGltaXRlZFYoKSl7dmFyIGU9dGhpcy5nZXRSYW5nZVVubGltaXRlZFYoKTtyZXR1cm4gZVsxXS1lWzBdfX0sYS5wcm90b3R5cGUuaXNDbG9zZWRVPWZ1bmN0aW9uKCl7aWYodGhpcy5pc0Nsb3NlZFVubGltaXRlZFUoKSl7aWYodGhpcy5pc0xpbWl0ZWRVKCkpe3ZhciBlPXRoaXMuZ2V0UmFuZ2VVbmxpbWl0ZWRVKCksdD1lWzFdLWVbMF07cmV0dXJuIHRoaXMuX3N1YnJhbmdlVVsxXS10aGlzLl9zdWJyYW5nZVVbMF0+dC1uLlBBUkFNRVRFUl9TUEFDRV9UT0xFUkFOQ0V9cmV0dXJuITB9cmV0dXJuITF9LGEucHJvdG90eXBlLmlzQ2xvc2VkVj1mdW5jdGlvbigpe2lmKHRoaXMuaXNDbG9zZWRVbmxpbWl0ZWRWKCkpe2lmKHRoaXMuaXNMaW1pdGVkVigpKXt2YXIgZT10aGlzLmdldFJhbmdlVW5saW1pdGVkVigpLHQ9ZVsxXS1lWzBdO3JldHVybiB0aGlzLl9zdWJyYW5nZVZbMV0tdGhpcy5fc3VicmFuZ2VWWzBdPnQtbi5QQVJBTUVURVJfU1BBQ0VfVE9MRVJBTkNFfXJldHVybiEwfXJldHVybiExfSxhLnByb3RvdHlwZS5pc0Nsb3NlZFVubGltaXRlZFU9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJTdXJmYWNlLmlzQ2xvc2VkVW5saW1pdGVkVSA6IGFic3RyYWN0IG1ldGhvZCBpbnZva2VkIVwiKX0sYS5wcm90b3R5cGUuaXNDbG9zZWRVbmxpbWl0ZWRWPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiU3VyZmFjZS5pc0Nsb3NlZFVubGltaXRlZFYgOiBhYnN0cmFjdCBtZXRob2QgaW52b2tlZCFcIil9LGEucHJvdG90eXBlLmV2YWx1YXRlUG9zaXRpb249ZnVuY3Rpb24oZSx0KXtjb25zb2xlLndhcm4oXCJTdXJmYWNlLmV2YWx1YXRlUG9zaXRpb24gOiBhYnN0cmFjdCBtZXRob2QgaW52b2tlZFwiKX0sYS5wcm90b3R5cGUuZXZhbHVhdGVEdT1mdW5jdGlvbihlLHQpe2NvbnNvbGUud2FybihcIlN1cmZhY2UuZXZhbHVhdGVEdSA6IGFic3RyYWN0IG1ldGhvZCBpbnZva2VkXCIpfSxhLnByb3RvdHlwZS5ldmFsdWF0ZUR2PWZ1bmN0aW9uKGUsdCl7Y29uc29sZS53YXJuKFwiU3VyZmFjZS5ldmFsdWF0ZUR2IDogYWJzdHJhY3QgbWV0aG9kIGludm9rZWRcIil9LGEucHJvdG90eXBlLmV2YWx1YXRlTm9ybWFsPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5ldmFsdWF0ZUR1KGUsdCk7cmV0dXJuIG8uVmVjdG9yMy5jcm9zcyhyLHIsdGhpcy5ldmFsdWF0ZUR2KGUsdCkpLG8uVmVjdG9yMy5ub3JtYWxpemUocixyKSxyfSxhLnByb3RvdHlwZS5jbG9zZXN0UGFyYW09ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKFwiU3VyZmFjZS5jbG9zZXN0UGFyYW0gOiBhYnN0cmFjdCBtZXRob2QgaW52b2tlZFwiKX0sYS5wcm90b3R5cGUudlBhcmFtTGluZT1mdW5jdGlvbihlKXtjb25zb2xlLndhcm4oXCJTdXJmYWNlLnZQYXJhbUxpbmUgOiBhYnN0cmFjdCBtZXRob2QgaW52b2tlZCwgcmV0dXJuaW5nIHVuZGVmaW5lZFwiKX0sYS5wcm90b3R5cGUudVBhcmFtTGluZT1mdW5jdGlvbihlKXtjb25zb2xlLndhcm4oXCJTdXJmYWNlLnVQYXJhbUxpbmUgOiBhYnN0cmFjdCBtZXRob2QgaW52b2tlZCwgcmV0dXJuaW5nIHVuZGVmaW5lZFwiKX0sYS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3g9ZnVuY3Rpb24oZSx0KXtjb25zb2xlLndhcm4oXCJTdXJmYWNlLmdldEJvdW5kaW5nQm94IDogYWJzdHJhY3QgbWV0aG9kIGludm9rZWQsIHJldHVybmluZyB1bmRlZmluZWRcIil9LGEucHJvdG90eXBlLnRyYW5zZm9ybT1mdW5jdGlvbihlKXtjb25zb2xlLndhcm4oXCJTdXJmYWNlLnRyYW5zZm9ybSA6IGFic3RyYWN0IG1ldGhvZCBpbnZva2VkXCIpfSx0LlN1cmZhY2U9YX0sMTQwODooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Ub3J1cz12b2lkIDA7dmFyIG89cigxOTcyKSxpPXIoNTg5Niksbj1yKDI0NjgpLHM9cig0MTIpLGE9cigzNTY1KSxjPXIoNTUxMiksdT1yKDQ3MjgpLGw9ZnVuY3Rpb24oKXtzLlN1cmZhY2UuY2FsbCh0aGlzKSx0aGlzLl9jZW50ZXI9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSx0aGlzLl9tYWpvclJhZGl1cz0wLHRoaXMuX21pbm9yUmFkaXVzPTAsdGhpcy5fbGVtb249ITEsdGhpcy5feEF4aXM9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSx0aGlzLl95QXhpcz1vLlZlY3RvcjMuY3JlYXRlRmxvYXQ2NCgpLHRoaXMuX3pBeGlzPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCl9OyhsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHMuU3VyZmFjZS5wcm90b3R5cGUpKS5nZXRHZW9tZXRyeVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gbi5HRU9NRVRSWV9UWVBFUy5UT1JVU30sbC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbDtyZXR1cm4gZS5jb3B5KHRoaXMpLGV9LGwucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSl7cy5TdXJmYWNlLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlKSx0aGlzLl9tYWpvclJhZGl1cz1lLl9tYWpvclJhZGl1cyx0aGlzLl9taW5vclJhZGl1cz1lLl9taW5vclJhZGl1cyx0aGlzLl9sZW1vbj1lLl9sZW1vbixvLlZlY3RvcjMuY29weSh0aGlzLl9jZW50ZXIsZS5fY2VudGVyKSxvLlZlY3RvcjMuY29weSh0aGlzLl94QXhpcyxlLl94QXhpcyksby5WZWN0b3IzLmNvcHkodGhpcy5feUF4aXMsZS5feUF4aXMpLG8uVmVjdG9yMy5jb3B5KHRoaXMuX3pBeGlzLGUuX3pBeGlzKX0sbC5wcm90b3R5cGUuX2NvbXB1dGVZQXhpcz1mdW5jdGlvbigpe28uVmVjdG9yMy5jcm9zcyh0aGlzLl95QXhpcyx0aGlzLl94QXhpcyx0aGlzLl96QXhpcyl9LGwucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQscixpLHMsYSl7by5WZWN0b3IzLmNvcHkodGhpcy5fY2VudGVyLGUpLHUuQ29uc29sZVV0aWxzLmFzc2VydCh0Pm4uS0VSTkVMX1RPTEVSQU5DRSksdGhpcy5fbWFqb3JSYWRpdXM9dCx1LkNvbnNvbGVVdGlscy5hc3NlcnQocj5uLktFUk5FTF9UT0xFUkFOQ0UpLHRoaXMuX21pbm9yUmFkaXVzPXIsdS5Db25zb2xlVXRpbHMuYXNzZXJ0KG8uVmVjdG9yMy5zcXVhcmVkTGVuZ3RoKGkpPm4uS0VSTkVMX1RPTEVSQU5DRSpuLktFUk5FTF9UT0xFUkFOQ0UpLG8uVmVjdG9yMy5ub3JtYWxpemUodGhpcy5fekF4aXMsaSksdm9pZCAwIT09cyYmby5WZWN0b3IzLnNxdWFyZWRMZW5ndGgocyk+bi5LRVJORUxfVE9MRVJBTkNFKm4uS0VSTkVMX1RPTEVSQU5DRT8odS5Db25zb2xlVXRpbHMuYXNzZXJ0KG8uVmVjdG9yMy5pc09ydGhvZ29uYWwoaSxzLG4uS0VSTkVMX0FOR1VMQVJfVE9MRVJBTkNFKSksby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl94QXhpcyxzKSk6KG8uVmVjdG9yMy5jb21wdXRlT3J0aG9nb25hbCh0aGlzLl94QXhpcyx0aGlzLl96QXhpcyksby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl94QXhpcyx0aGlzLl94QXhpcykpLHRoaXMuX2xlbW9uPSEwPT09YSx0aGlzLl9jb21wdXRlWUF4aXMoKX0sbC5wcm90b3R5cGUuZ2V0TWFqb3JSYWRpdXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFqb3JSYWRpdXN9LGwucHJvdG90eXBlLnNldE1ham9yUmFkaXVzPWZ1bmN0aW9uKGUpe3UuQ29uc29sZVV0aWxzLmFzc2VydChlPm4uS0VSTkVMX1RPTEVSQU5DRSksdGhpcy5fbWFqb3JSYWRpdXM9ZX0sbC5wcm90b3R5cGUuZ2V0TWlub3JSYWRpdXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWlub3JSYWRpdXN9LGwucHJvdG90eXBlLnNldE1pbm9yUmFkaXVzPWZ1bmN0aW9uKGUpe3UuQ29uc29sZVV0aWxzLmFzc2VydChlPm4uS0VSTkVMX1RPTEVSQU5DRSksdGhpcy5fbWlub3JSYWRpdXM9ZX0sbC5wcm90b3R5cGUuZ2V0Q2VudGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NlbnRlcn0sbC5wcm90b3R5cGUuc2V0Q2VudGVyPWZ1bmN0aW9uKGUpe28uVmVjdG9yMy5jb3B5KHRoaXMuX2NlbnRlcixlKX0sbC5wcm90b3R5cGUuZ2V0QXhpc0Rpcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl96QXhpc30sbC5wcm90b3R5cGUuc2V0QXhpc0Rpcj1mdW5jdGlvbihlKXt1LkNvbnNvbGVVdGlscy5hc3NlcnQoby5WZWN0b3IzLnNxdWFyZWRMZW5ndGgoZSk+bi5LRVJORUxfVE9MRVJBTkNFKm4uS0VSTkVMX1RPTEVSQU5DRSksby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl96QXhpcyxlKSwoby5WZWN0b3IzLnNxdWFyZWRMZW5ndGgodGhpcy5feEF4aXMpPD1uLktFUk5FTF9UT0xFUkFOQ0Uqbi5LRVJORUxfVE9MRVJBTkNFfHwhby5WZWN0b3IzLmlzT3J0aG9nb25hbCh0aGlzLl94QXhpcyx0aGlzLl96QXhpcyxuLktFUk5FTF9BTkdVTEFSX1RPTEVSQU5DRSkpJiYoby5WZWN0b3IzLmNvbXB1dGVPcnRob2dvbmFsKHRoaXMuX3hBeGlzLHRoaXMuX3pBeGlzKSxvLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuX3hBeGlzLHRoaXMuX3hBeGlzKSksdGhpcy5fY29tcHV0ZVlBeGlzKCl9LGwucHJvdG90eXBlLmdldFV2T3JpZ2luRGlyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3hBeGlzfSxsLnByb3RvdHlwZS5zZXRVdk9yaWdpbkRpcj1mdW5jdGlvbihlKXt1LkNvbnNvbGVVdGlscy5hc3NlcnQoby5WZWN0b3IzLnNxdWFyZWRMZW5ndGgoZSk+bi5LRVJORUxfVE9MRVJBTkNFKm4uS0VSTkVMX1RPTEVSQU5DRSksby5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLl94QXhpcyxlKSx0aGlzLl9jb21wdXRlWUF4aXMoKX0sbC5wcm90b3R5cGUuaXNEb3VnaG51dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYWpvclJhZGl1cz50aGlzLl9taW5vclJhZGl1cytuLktFUk5FTF9UT0xFUkFOQ0V9LGwucHJvdG90eXBlLmlzVm9ydGV4PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMuX21ham9yUmFkaXVzLXRoaXMuX21pbm9yUmFkaXVzKTw9bi5LRVJORUxfVE9MRVJBTkNFfSxsLnByb3RvdHlwZS5pc0FwcGxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21ham9yUmFkaXVzPHRoaXMuX21pbm9yUmFkaXVzLW4uS0VSTkVMX1RPTEVSQU5DRSYmIXRoaXMuX2xlbW9ufSxsLnByb3RvdHlwZS5pc0xlbW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21ham9yUmFkaXVzPHRoaXMuX21pbm9yUmFkaXVzLW4uS0VSTkVMX1RPTEVSQU5DRSYmdGhpcy5fbGVtb259LGwucHJvdG90eXBlLnNldExlbW9uPWZ1bmN0aW9uKGUpe3RoaXMuX2xlbW9uPWV9LGwucHJvdG90eXBlLmdldFNpbmd1bGFyVVBhcmFtcz1mdW5jdGlvbigpe3ZhciBlLHQscjtyZXR1cm4gdGhpcy5pc0RvdWdobnV0KCk/W106dGhpcy5pc0FwcGxlKCk/KGU9LXRoaXMuX21ham9yUmFkaXVzLHQ9dGhpcy5fbWlub3JSYWRpdXMsWy0ocj1NYXRoLmFjb3MoZS90KSkscl0pOnRoaXMuaXNMZW1vbigpPyhlPXRoaXMuX21pbm9yUmFkaXVzLXRoaXMuX21ham9yUmFkaXVzLHQ9dGhpcy5fbWlub3JSYWRpdXMsWy0ocj1NYXRoLmFjb3MoZS90KSkscl0pOlstTWF0aC5QSSxNYXRoLlBJXX0sbC5wcm90b3R5cGUuZXZhbHVhdGVQb3NpdGlvbj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX21pbm9yUmFkaXVzKk1hdGguY29zKGUpO3RoaXMuaXNMZW1vbigpP3ItPXRoaXMuX21ham9yUmFkaXVzOnIrPXRoaXMuX21ham9yUmFkaXVzO3ZhciBpPXIqTWF0aC5jb3ModCksbj1yKk1hdGguc2luKHQpLHM9dGhpcy5fbWlub3JSYWRpdXMqTWF0aC5zaW4oZSksYT1vLlZlY3RvcjMuY2xvbmUodGhpcy5fY2VudGVyKTtyZXR1cm4gby5WZWN0b3IzLnNjYWxlQW5kQWRkKGEsYSx0aGlzLl94QXhpcyxpKSxvLlZlY3RvcjMuc2NhbGVBbmRBZGQoYSxhLHRoaXMuX3lBeGlzLG4pLG8uVmVjdG9yMy5zY2FsZUFuZEFkZChhLGEsdGhpcy5fekF4aXMscyksYX0sbC5wcm90b3R5cGUuZXZhbHVhdGVOb3JtYWw9ZnVuY3Rpb24oZSx0KXt2YXIgcj1NYXRoLnNpbihlKSxpPU1hdGguY29zKGUpLG49TWF0aC5zaW4odCkscz1pKk1hdGguY29zKHQpLGE9aSpuLGM9cix1PW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7cmV0dXJuIG8uVmVjdG9yMy5zY2FsZSh1LHRoaXMuX3hBeGlzLHMpLG8uVmVjdG9yMy5zY2FsZUFuZEFkZCh1LHUsdGhpcy5feUF4aXMsYSksby5WZWN0b3IzLnNjYWxlQW5kQWRkKHUsdSx0aGlzLl96QXhpcyxjKSx1fSxsLnByb3RvdHlwZS5ldmFsdWF0ZUR1PWZ1bmN0aW9uKGUsdCl7dmFyIHI9LXRoaXMuX21pbm9yUmFkaXVzKk1hdGguc2luKGUpLGk9cipNYXRoLmNvcyh0KSxuPXIqTWF0aC5zaW4odCkscz10aGlzLl9taW5vclJhZGl1cypNYXRoLmNvcyhlKSxhPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCk7cmV0dXJuIG8uVmVjdG9yMy5zY2FsZShhLHRoaXMuX3hBeGlzLGkpLG8uVmVjdG9yMy5zY2FsZUFuZEFkZChhLGEsdGhpcy5feUF4aXMsbiksby5WZWN0b3IzLnNjYWxlQW5kQWRkKGEsYSx0aGlzLl96QXhpcyxzKSxhfSxsLnByb3RvdHlwZS5ldmFsdWF0ZUR2PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fbWlub3JSYWRpdXMqTWF0aC5jb3MoZSk7dGhpcy5pc0xlbW9uKCk/ci09dGhpcy5fbWFqb3JSYWRpdXM6cis9dGhpcy5fbWFqb3JSYWRpdXM7dmFyIGk9LXIqTWF0aC5zaW4odCksbj1yKk1hdGguY29zKHQpLHM9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtyZXR1cm4gby5WZWN0b3IzLnNjYWxlKHMsdGhpcy5feEF4aXMsaSksby5WZWN0b3IzLnNjYWxlQW5kQWRkKHMscyx0aGlzLl95QXhpcyxuKSxzfSxsLnByb3RvdHlwZS5jbG9zZXN0UGFyYW09ZnVuY3Rpb24oZSl7dmFyIHQ9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKTtvLlZlY3RvcjMuc3ViKHQsZSx0aGlzLl9jZW50ZXIpO3ZhciByPW8uVmVjdG9yMy5kb3QodCx0aGlzLl94QXhpcyksaT1vLlZlY3RvcjMuZG90KHQsdGhpcy5feUF4aXMpLHM9by5WZWN0b3IzLmRvdCh0LHRoaXMuX3pBeGlzKSxhPU1hdGguc3FydChyKnIraSppKTtyZXR1cm4gdGhpcy5pc0xlbW9uKCk/YSs9dGhpcy5fbWFqb3JSYWRpdXM6YS09dGhpcy5fbWFqb3JSYWRpdXMse3U6cypzK2EqYT5uLktFUk5FTF9UT0xFUkFOQ0Uqbi5LRVJORUxfVE9MRVJBTkNFP01hdGguYXRhbjIocyxhKTowLHY6cipyK2kqaT5uLktFUk5FTF9UT0xFUkFOQ0Uqbi5LRVJORUxfVE9MRVJBTkNFP01hdGguYXRhbjIoaSxyKTowfX0sbC5wcm90b3R5cGUudlBhcmFtTGluZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9taW5vclJhZGl1cypNYXRoLmNvcyhlKTt0aGlzLmlzTGVtb24oKT90LT10aGlzLl9tYWpvclJhZGl1czp0Kz10aGlzLl9tYWpvclJhZGl1czt2YXIgcj10aGlzLl9taW5vclJhZGl1cypNYXRoLnNpbihlKTtpZihNYXRoLmFicyh0KT5uLktFUk5FTF9UT0xFUkFOQ0Upe3ZhciBpPW5ldyBjLkNpcmNsZSxzPW8uVmVjdG9yMy5jbG9uZSh0aGlzLl9jZW50ZXIpO28uVmVjdG9yMy5zY2FsZUFuZEFkZChzLHMsdGhpcy5fekF4aXMscik7dmFyIHU9by5WZWN0b3IzLmNsb25lKHRoaXMuX3hBeGlzKTtvLlZlY3RvcjMuc2NhbGUodSx1LHQpO3ZhciBsPW8uVmVjdG9yMy5jbG9uZSh0aGlzLl96QXhpcyk7cmV0dXJuIG8uVmVjdG9yMy5uZWdhdGUobCxsKSxpLnNldChzLGwsdSksaX12YXIgaD1vLlZlY3RvcjMuY2xvbmUodGhpcy5fY2VudGVyKSxkPXRoaXMuZ2V0U2luZ3VsYXJVUGFyYW1zKCk7cmV0dXJuIGRbMF0mJnI8MD9yPXRoaXMuX21pbm9yUmFkaXVzKk1hdGguc2luKGRbMF0pOmRbMV0mJnI+MCYmKHI9dGhpcy5fbWlub3JSYWRpdXMqTWF0aC5zaW4oZFsxXSkpLG8uVmVjdG9yMy5zY2FsZUFuZEFkZChoLGgsdGhpcy5fekF4aXMsciksbmV3IGEuUG9pbnQoaCl9LGwucHJvdG90eXBlLnVQYXJhbUxpbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGMuQ2lyY2xlLHI9TWF0aC5zaW4oZSksaT1NYXRoLmNvcyhlKSxuPXRoaXMuX21ham9yUmFkaXVzKmkscz10aGlzLl9tYWpvclJhZGl1cypyO3RoaXMuaXNMZW1vbigpJiYobj0tbixzPS1zKTt2YXIgYT1vLlZlY3RvcjMuY2xvbmUodGhpcy5fY2VudGVyKTtvLlZlY3RvcjMuc2NhbGVBbmRBZGQoYSxhLHRoaXMuX3hBeGlzLG4pLG8uVmVjdG9yMy5zY2FsZUFuZEFkZChhLGEsdGhpcy5feUF4aXMscyk7dmFyIHU9dGhpcy5fbWlub3JSYWRpdXMqaSxsPXRoaXMuX21pbm9yUmFkaXVzKnIsaD1vLlZlY3RvcjMuY2xvbmUodGhpcy5feEF4aXMpO28uVmVjdG9yMy5zY2FsZShoLGgsLWwpLG8uVmVjdG9yMy5zY2FsZUFuZEFkZChoLGgsdGhpcy5feUF4aXMsdSksby5WZWN0b3IzLm5vcm1hbGl6ZShoLGgpO3ZhciBkPW8uVmVjdG9yMy5jbG9uZSh0aGlzLl94QXhpcyk7cmV0dXJuIG8uVmVjdG9yMy5zY2FsZShkLGQsdSksby5WZWN0b3IzLnNjYWxlQW5kQWRkKGQsZCx0aGlzLl95QXhpcyxsKSx0LnNldChhLGgsZCksdH0sbC5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3g9ZnVuY3Rpb24oZSx0KXtlPWV8fCh0aGlzLmlzRG91Z2hudXQoKT9bLU1hdGguUEksTWF0aC5QSV06dGhpcy5nZXRTaW5ndWxhclVQYXJhbXMoKSksdD10fHxbLU1hdGguUEksTWF0aC5QSV07dmFyIHI9ZVswXSxuPWVbMV0scz10WzBdLGE9dFsxXSxjPXRoaXMudlBhcmFtTGluZShyKS5nZXRCb3VuZGluZ0JveCh0KTtjLmluY2x1ZGUodGhpcy52UGFyYW1MaW5lKG4pLmdldEJvdW5kaW5nQm94KHQpKSxjLmluY2x1ZGUodGhpcy51UGFyYW1MaW5lKHMpLmdldEJvdW5kaW5nQm94KGUpKSxjLmluY2x1ZGUodGhpcy51UGFyYW1MaW5lKGEpLmdldEJvdW5kaW5nQm94KGUpKTtmb3IodmFyIHU9by5WZWN0b3IzLmNyZWF0ZUZsb2F0NjQoKSxsPW8uVmVjdG9yMy5jcmVhdGVGbG9hdDY0KCksaD0wO2g8MzsrK2gpZm9yKHZhciBkPTA7ZDwyOysrZCl7dmFyIHA9MD09PWQ/LTE6MSxnPU1hdGguYXRhbjIocCp0aGlzLl95QXhpc1toXSxwKnRoaXMuX3hBeGlzW2hdKTtpZigoZz0oMCxpLmFkanVzdFBhcmFtZXRlclRvUGVyaW9kaWNSYW5nZSkoZyx0LGkuUEkyKSk+cyYmZzxhKXt2YXIgZj10aGlzLnVQYXJhbUxpbmUoZyk7dT1mLmV2YWx1YXRlUG9zaXRpb24oMCksby5WZWN0b3IzLnN1Yih1LHUsZi5nZXRDZW50ZXIoKSksbD1mLmV2YWx1YXRlUG9zaXRpb24oTWF0aC5QSS8yKSxvLlZlY3RvcjMuc3ViKGwsbCxmLmdldENlbnRlcigpKTt2YXIgdj0oMCxpLm1pbk1heENvc1NpbkZ1bmMpKHVbaF0sbFtoXSxmLmdldENlbnRlcigpW2hdLGUpOzA9PT1oP2MuaW5jbHVkZVgodltkXSk6MT09PWg/Yy5pbmNsdWRlWSh2W2RdKTpjLmluY2x1ZGVaKHZbZF0pfX1yZXR1cm4gY30sbC5wcm90b3R5cGUudHJhbnNmb3JtPWZ1bmN0aW9uKGUpe28uVmVjdG9yMy50cmFuc2Zvcm1NYXRyaXg0NCh0aGlzLl9jZW50ZXIsdGhpcy5fY2VudGVyLGUpLG8uVmVjdG9yMy50cmFuc2Zvcm1Bc0RpcmVjdGlvbk1hdHJpeDQ0KHRoaXMuX3hBeGlzLHRoaXMuX3hBeGlzLGUpLG8uVmVjdG9yMy50cmFuc2Zvcm1Bc0RpcmVjdGlvbk1hdHJpeDQ0KHRoaXMuX3lBeGlzLHRoaXMuX3lBeGlzLGUpLG8uVmVjdG9yMy50cmFuc2Zvcm1Bc0RpcmVjdGlvbk1hdHJpeDQ0KHRoaXMuX3pBeGlzLHRoaXMuX3pBeGlzLGUpO3ZhciB0PW8uVmVjdG9yMy5sZW5ndGgodGhpcy5feEF4aXMpO3RoaXMuX21ham9yUmFkaXVzKj10LHRoaXMuX21pbm9yUmFkaXVzKj10LG8uVmVjdG9yMy5ub3JtYWxpemUodGhpcy5feEF4aXMsdGhpcy5feEF4aXMpLG8uVmVjdG9yMy5ub3JtYWxpemUodGhpcy5feUF4aXMsdGhpcy5feUF4aXMpLG8uVmVjdG9yMy5ub3JtYWxpemUodGhpcy5fekF4aXMsdGhpcy5fekF4aXMpfSxsLnByb3RvdHlwZS5nZXRSYW5nZVVubGltaXRlZFU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0RvdWdobnV0KCk/Wy1NYXRoLlBJLE1hdGguUEldOnRoaXMuZ2V0U2luZ3VsYXJVUGFyYW1zKCl9LGwucHJvdG90eXBlLmdldFJhbmdlVW5saW1pdGVkVj1mdW5jdGlvbigpe3JldHVyblstTWF0aC5QSSxNYXRoLlBJXX0sbC5wcm90b3R5cGUuaXNQZXJpb2RpY1VubGltaXRlZFU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0RvdWdobnV0KCl9LGwucHJvdG90eXBlLmlzUGVyaW9kaWNVbmxpbWl0ZWRWPWZ1bmN0aW9uKCl7cmV0dXJuITB9LGwucHJvdG90eXBlLmlzQ2xvc2VkVW5saW1pdGVkVT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRG91Z2hudXQoKXx8dGhpcy5pc1ZvcnRleCgpfSxsLnByb3RvdHlwZS5pc0Nsb3NlZFVubGltaXRlZFY9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sbC5wcm90b3R5cGUudG9PYmplY3Q9ZnVuY3Rpb24oKXtjb25zdCBlPXRoaXMuZXZhbHVhdGVQb3NpdGlvbigwLDApO3JldHVybiBvLlZlY3RvcjMuc3ViKGUsZSx0aGlzLmdldENlbnRlcigpKSx7Y2VudGVyOnRoaXMudmVjdG9yVG9PYmplY3QodGhpcy5nZXRDZW50ZXIoKSksY29vcmRBeGlzOnRoaXMudmVjdG9yVG9PYmplY3QodGhpcy5nZXRVdk9yaWdpbkRpcigpKSxheGlzOnRoaXMudmVjdG9yVG9PYmplY3QodGhpcy5nZXRBeGlzRGlyKCkpLG1ham9yUmFkaXVzOnRoaXMuZ2V0TWFqb3JSYWRpdXMoKSxtaW5vclJhZGl1czp0aGlzLmdldE1pbm9yUmFkaXVzKCksbGVtb246dGhpcy5pc0xlbW9uKCksdVJhbmdlOnRoaXMucmFuZ2VUb09iamVjdCh0aGlzLmdldFJhbmdlVSgpLHRoaXMuaXNMaW1pdGVkVSgpKSx2UmFuZ2U6dGhpcy5yYW5nZVRvT2JqZWN0KHRoaXMuZ2V0UmFuZ2VWKCksdGhpcy5pc0xpbWl0ZWRWKCkpfX0sdC5Ub3J1cz1sfSw2OTQwOihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlZlcnRleD12b2lkIDA7dmFyIG89cig5NTQ3KSxpPXIoMjQ2OCksbj1yKDQ3MjgpLHM9cig5NjA4KSxhPWZ1bmN0aW9uKGUpe28uQmFzZVRvcG9sb2d5LmNhbGwodGhpcyksdGhpcy5fcG9pbnQ9ZSx0aGlzLl9wcmVjaXNpb249MCx0aGlzLl9lZGdlcz1bXX07KGEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5CYXNlVG9wb2xvZ3kucHJvdG90eXBlKSkuZ2V0VG9wb2xvZ3lUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIGkuVE9QT0xPR1lfVFlQRVMuVkVSVEVYfSxhLnByb3RvdHlwZS5nZXRQb2ludD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb2ludH0sYS5wcm90b3R5cGUuc2V0UG9pbnQ9ZnVuY3Rpb24oZSl7dGhpcy5fcG9pbnQ9ZX0sYS5wcm90b3R5cGUuZ2V0UHJlY2lzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ByZWNpc2lvbn0sYS5wcm90b3R5cGUuc2V0UHJlY2lzaW9uPWZ1bmN0aW9uKGUpe24uQ29uc29sZVV0aWxzLmFzc2VydChlPj0wKSx0aGlzLl9wcmVjaXNpb249ZX0sYS5wcm90b3R5cGUuZ2V0RWRnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZWRnZXN9LGEucHJvdG90eXBlLmlzQWRqYWNlbnRFZGdlPWZ1bmN0aW9uKGUpe3JldHVybi0xIT09dGhpcy5fZWRnZXMuaW5kZXhPZihlKX0sYS5wcm90b3R5cGUuZ2V0T3RoZXJFZGdlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fZWRnZXMubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy5fZWRnZXNbdF07aWYociE9PWUpcmV0dXJuIHJ9cmV0dXJuIG51bGx9LGEucHJvdG90eXBlLmdldE90aGVyRWRnZXM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MDtyPHRoaXMuX2VkZ2VzLmxlbmd0aDtyKyspe3ZhciBvPXRoaXMuX2VkZ2VzW3JdO28hPT1lJiZ0LnB1c2gobyl9cmV0dXJuIHR9LGEucHJvdG90eXBlLmdldEFkamFjZW50VmVydGljZXM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8dGhpcy5fZWRnZXMubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy5fZWRnZXNbdF0uZ2V0T3RoZXJWZXJ0ZXgodGhpcyk7ciE9PXRoaXMmJmUuaW5kZXhPZihyKTwwJiZlLnB1c2gocil9cmV0dXJuIGV9LGEucHJvdG90eXBlLmdldENvbW1vbkVkZ2VzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTA7cjx0aGlzLl9lZGdlcy5sZW5ndGg7cisrKXt2YXIgbz10aGlzLl9lZGdlc1tyXSxpPW8uZ2V0U3RhcnRWZXJ0ZXgoKSxuPW8uZ2V0RW5kVmVydGV4KCk7KGk9PT10aGlzJiZuPT09ZXx8bj09PXRoaXMmJmk9PT1lKSYmdC5wdXNoKG8pfXJldHVybiB0fSxhLnByb3RvdHlwZS5hZGRFZGdlPWZ1bmN0aW9uKGUpey0xPT09dGhpcy5fZWRnZXMuaW5kZXhPZihlKSYmdGhpcy5fZWRnZXMucHVzaChlKX0sYS5wcm90b3R5cGUucmVtb3ZlRWRnZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9lZGdlcy5pbmRleE9mKGUpO3JldHVybiB0Pj0wJiYodGhpcy5fZWRnZXMuc3BsaWNlKHQsMSksITApfSxhLnByb3RvdHlwZS5nZXRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb2ludC5nZXRQb3NpdGlvbigpfSxhLnByb3RvdHlwZS5nZXRCb2R5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VkZ2VzLmxlbmd0aD4wP3RoaXMuX2VkZ2VzWzBdLmdldEJvZHkoKTp2b2lkIDB9LGEucHJvdG90eXBlLmNvbGxlY3RGYWNlcz1mdW5jdGlvbihlKXtlPWV8fG5ldyBTZXQ7Zm9yKHZhciB0PTA7dDx0aGlzLl9lZGdlcy5sZW5ndGg7Kyt0KXRoaXMuX2VkZ2VzW3RdLmNvbGxlY3RGYWNlcyhlKTtyZXR1cm4gZX0sYS5wcm90b3R5cGUuY29sbGVjdEVkZ2VzPWZ1bmN0aW9uKGUpe2U9ZXx8bmV3IFNldDtmb3IodmFyIHQ9MDt0PHRoaXMuX2VkZ2VzLmxlbmd0aDsrK3QpZS5hZGQodGhpcy5fZWRnZXNbdF0pO3JldHVybiBlfSxhLnByb3RvdHlwZS5jb2xsZWN0VmVydGljZXM9ZnVuY3Rpb24oZSl7cmV0dXJuKGU9ZXx8bmV3IFNldCkuYWRkKHRoaXMpLGV9LGEucHJvdG90eXBlLmdldEJvdW5kaW5nQm94PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvaW50LmdldEJvdW5kaW5nQm94KCl9LGEucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIFN0cmluZyh0aGlzLl9wb2ludC5nZXRQb3NpdGlvbigpKX0sYS5wcm90b3R5cGUuZ2V0T3JkZXJlZEZhY2VzPWZ1bmN0aW9uKCl7Y29uc3QgZT1bXSx0PSgwLHMuZ2V0T3JkZXJlZEZhY2VzT25WZXJ0ZXgpKHRoaXMpO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKXRbcl0uZmFjZXMuZm9yRWFjaCgodD0+e2UucHVzaCh0KX0pKTtyZXR1cm4gZX0sYS5wcm90b3R5cGUudG9PYmplY3Q9ZnVuY3Rpb24oKXtyZXR1cm57Z2VvbWV0cnk6dGhpcy5yZWZUb1N0cmluZyh0aGlzLl9wb2ludCkscHJlY2lzaW9uOnRoaXMuZ2V0UHJlY2lzaW9uKCksYXR0cmlidXRlczp0aGlzLnJlZnNUb1N0cmluZ3ModGhpcy5fYXR0cmlidXRlcyl9fSxhLnByb3RvdHlwZS5hZGRUb01vZGVsT2JqZWN0PWZ1bmN0aW9uKGUpe3RoaXMuYWRkQWxsVG9Nb2RlbE9iamVjdChlLFt0aGlzLl9wb2ludCx0aGlzLl9hdHRyaWJ1dGVzXSl9LHQuVmVydGV4PWF9LDc1NzU6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuV2lyZT12b2lkIDA7dmFyIG89cig5NTQ3KSxpPXIoMzM0NCksbj1yKDI0NjgpLHM9ZnVuY3Rpb24oKXtvLkJhc2VUb3BvbG9neS5jYWxsKHRoaXMpLHRoaXMuX3dpcmVCb2R5PXZvaWQgMCx0aGlzLl9lZGdlcz1bXX07KHMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5CYXNlVG9wb2xvZ3kucHJvdG90eXBlKSkuZ2V0VG9wb2xvZ3lUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG4uVE9QT0xPR1lfVFlQRVMuV0lSRX0scy5wcm90b3R5cGUuZ2V0V2lyZUJvZHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2lyZUJvZHl9LHMucHJvdG90eXBlLnNldFdpcmVCb2R5PWZ1bmN0aW9uKGUpe3RoaXMuX3dpcmVCb2R5PWV9LHMucHJvdG90eXBlLmdldEVkZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VkZ2VzfSxzLnByb3RvdHlwZS5zZXRFZGdlcz1mdW5jdGlvbihlKXt0aGlzLl9lZGdlcz1uZXcgQXJyYXkoZS5sZW5ndGgpO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7Kyt0KXRoaXMuX2VkZ2VzW3RdPWVbdF19LHMucHJvdG90eXBlLmFkZEVkZ2U9ZnVuY3Rpb24oZSl7dGhpcy5fZWRnZXM/dGhpcy5fZWRnZXMucHVzaChlKTp0aGlzLl9lZGdlcz1bZV0sZS5zZXRXaXJlKHRoaXMpLGUuc2V0Q29lZGdlKHZvaWQgMCl9LHMucHJvdG90eXBlLmFkZEVkZ2VzPWZ1bmN0aW9uKGUpe3RoaXMuX2VkZ2VzfHwodGhpcy5fZWRnZXM9W10pO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7Kyt0KWVbdF0uc2V0V2lyZSh0aGlzKSxlW3RdLnNldENvZWRnZSh2b2lkIDApO3RoaXMuX2VkZ2VzPXRoaXMuX2VkZ2VzLmNvbmNhdChlKX0scy5wcm90b3R5cGUucmVtb3ZlRWRnZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9lZGdlcy5pbmRleE9mKGUpO3JldHVybiB0Pi0xJiYodGhpcy5fZWRnZXMuc3BsaWNlKHQsMSksZS5nZXRXaXJlKCk9PT10aGlzJiZlLnNldFdpcmUodm9pZCAwKSwhMCl9LHMucHJvdG90eXBlLmdldEJvZHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2lyZUJvZHl9LHMucHJvdG90eXBlLmNvbGxlY3RGYWNlcz1mdW5jdGlvbihlKXtyZXR1cm4gZXx8bmV3IFNldH0scy5wcm90b3R5cGUuY29sbGVjdEVkZ2VzPWZ1bmN0aW9uKGUpe2U9ZXx8bmV3IFNldDtmb3IodmFyIHQ9MDt0PHRoaXMuX2VkZ2VzLmxlbmd0aDsrK3QpZS5hZGQodGhpcy5fZWRnZXNbdF0pO3JldHVybiBlfSxzLnByb3RvdHlwZS5jb2xsZWN0VmVydGljZXM9ZnVuY3Rpb24oZSl7ZT1lfHxuZXcgU2V0O2Zvcih2YXIgdD0wO3Q8dGhpcy5fZWRnZXMubGVuZ3RoOysrdCl0aGlzLl9lZGdlc1t0XS5jb2xsZWN0VmVydGljZXMoZSk7cmV0dXJuIGV9LHMucHJvdG90eXBlLmlzQnJhbmNoZWQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMuX2VkZ2VzLmxlbmd0aDsrK2Upe3ZhciB0PXRoaXMuX2VkZ2VzW2VdLHI9dC5nZXRTdGFydFZlcnRleCgpLG89dC5nZXRFbmRWZXJ0ZXgoKTtpZihyPT09byYmci5nZXRPdGhlckVkZ2UodCkpcmV0dXJuITA7aWYoci5nZXRFZGdlcygpLmxlbmd0aD4yfHxvLmdldEVkZ2VzKCkubGVuZ3RoPjIpcmV0dXJuITB9cmV0dXJuITF9LHMucHJvdG90eXBlLmdldE9yZGVyZWRFZGdlcz1mdW5jdGlvbigpe2lmKDA9PT10aGlzLl9lZGdlcy5sZW5ndGgpcmV0dXJue2VkZ2VzOltdLHN0YXJ0OnZvaWQgMCxlbmQ6dm9pZCAwfTt2YXIgZT1bXTtlLnB1c2godGhpcy5fZWRnZXNbMF0pO2Zvcih2YXIgdD1uZXcgU2V0KHRoaXMuX2VkZ2VzLnNsaWNlKDEpKSxyPWVbMF0uZ2V0U3RhcnRWZXJ0ZXgoKSxvPWVbMF0uZ2V0RW5kVmVydGV4KCk7dC5zaXplPjA7KXt2YXIgaT10LnNpemU7aWYodC5mb3JFYWNoKChmdW5jdGlvbihpKXtpLmdldEVuZFZlcnRleCgpPT09cj8oZS51bnNoaWZ0KGkpLHI9aS5nZXRTdGFydFZlcnRleCgpLHQuZGVsZXRlKGkpKTppLmdldFN0YXJ0VmVydGV4KCk9PT1yPyhlLnVuc2hpZnQoaSkscj1pLmdldEVuZFZlcnRleCgpLHQuZGVsZXRlKGkpKTppLmdldEVuZFZlcnRleCgpPT09bz8oZS5wdXNoKGkpLG89aS5nZXRTdGFydFZlcnRleCgpLHQuZGVsZXRlKGkpKTppLmdldFN0YXJ0VmVydGV4KCk9PT1vJiYoZS5wdXNoKGkpLG89aS5nZXRFbmRWZXJ0ZXgoKSx0LmRlbGV0ZShpKSl9KSksaT09PXQuc2l6ZSl7Y29uc29sZS53YXJuKFwiV2lyZSBpcyBkaXNjb25uZWN0ZWQgb3IgYnJhbmNoaW5nLlwiKTticmVha319cmV0dXJue2VkZ2VzOmUsc3RhcnQ6cixlbmQ6b319LHMucHJvdG90eXBlLmlzQ2xvc2VkPWZ1bmN0aW9uKCl7aWYoMT09PXRoaXMuX2VkZ2VzLmxlbmd0aClyZXR1cm4gdGhpcy5fZWRnZXNbMF0uZ2V0U3RhcnRWZXJ0ZXgoKT09PXRoaXMuX2VkZ2VzWzBdLmdldEVuZFZlcnRleCgpO2Zvcih2YXIgZT10aGlzLl9lZGdlc1swXSx0PXZvaWQgMCxyPTA7cjx0aGlzLl9lZGdlcy5sZW5ndGg7KytyKXt2YXIgbyxpPWUuZ2V0U3RhcnRWZXJ0ZXgoKSxuPWUuZ2V0RW5kVmVydGV4KCk7aWYoaT09PW58fDIhPT1pLmdldEVkZ2VzKCkubGVuZ3RofHwyIT09bi5nZXRFZGdlcygpLmxlbmd0aClyZXR1cm4hMTtpZih0JiZpLmdldE90aGVyRWRnZShlKSE9PXQpe2lmKG4uZ2V0T3RoZXJFZGdlKGUpIT09dClyZXR1cm4hMTtvPWkuZ2V0T3RoZXJFZGdlKGUpfWVsc2Ugbz1uLmdldE90aGVyRWRnZShlKTt0PWUsZT1vfXJldHVybiBlPT09dGhpcy5fZWRnZXNbMF19LHMucHJvdG90eXBlLmdldEJvdW5kaW5nQm94PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPW5ldyBpLkJvdW5kaW5nQm94LHQ9MDt0PHRoaXMuX2VkZ2VzLmxlbmd0aDsrK3QpZS5pbmNsdWRlKHRoaXMuX2VkZ2VzW3RdLmdldEJvdW5kaW5nQm94KCkpO3JldHVybiBlfSxzLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiV2lyZVwifSxzLnByb3RvdHlwZS50b09iamVjdD1mdW5jdGlvbigpe3JldHVybntlZGdlczp0aGlzLnJlZnNUb1N0cmluZ3ModGhpcy5fZWRnZXMpLGF0dHJpYnV0ZXM6dGhpcy5yZWZzVG9TdHJpbmdzKHRoaXMuX2F0dHJpYnV0ZXMpfX0scy5wcm90b3R5cGUuYWRkVG9Nb2RlbE9iamVjdD1mdW5jdGlvbihlKXt0aGlzLmFkZEFsbFRvTW9kZWxPYmplY3QoZSxbdGhpcy5fZWRnZXMsdGhpcy5fYXR0cmlidXRlc10pfSx0LldpcmU9c30sNjUwMDooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5XaXJlQm9keT12b2lkIDA7dmFyIG89cig5NTQ3KSxpPXIoMjQ2OCksbj1yKDMzNDQpLHM9cig3NjE2KSxhPWZ1bmN0aW9uKCl7by5CYXNlVG9wb2xvZ3kuY2FsbCh0aGlzKSx0aGlzLl93aXJlcz1bXX07KGEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5CYXNlVG9wb2xvZ3kucHJvdG90eXBlKSkuZ2V0VG9wb2xvZ3lUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIGkuVE9QT0xPR1lfVFlQRVMuV0lSRUJPRFl9LGEucHJvdG90eXBlLmdldFdpcmVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dpcmVzfSxhLnByb3RvdHlwZS5zZXRXaXJlcz1mdW5jdGlvbihlKXt0aGlzLl93aXJlcz1uZXcgQXJyYXkoZS5sZW5ndGgpO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7Kyt0KXRoaXMuX3dpcmVzW3RdPWVbdF19LGEucHJvdG90eXBlLmFkZFdpcmU9ZnVuY3Rpb24oZSl7dGhpcy5fd2lyZXM/dGhpcy5fd2lyZXMucHVzaChlKTp0aGlzLl93aXJlcz1bZV0sZS5zZXRXaXJlQm9keSh0aGlzKX0sYS5wcm90b3R5cGUuYWRkV2lyZXM9ZnVuY3Rpb24oZSl7dGhpcy5fd2lyZXN8fCh0aGlzLl93aXJlcz1bXSk7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDsrK3QpZVt0XS5zZXRXaXJlQm9keSh0aGlzKTt0aGlzLl93aXJlcz10aGlzLl93aXJlcy5jb25jYXQoZSl9LGEucHJvdG90eXBlLnJlbW92ZVdpcmU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fd2lyZXMuaW5kZXhPZihlKTtyZXR1cm4gdD4tMSYmKHRoaXMuX3dpcmVzLnNwbGljZSh0LDEpLGUuZ2V0V2lyZUJvZHkoKT09PXRoaXMmJmUuc2V0V2lyZUJvZHkodm9pZCAwKSwhMCl9LGEucHJvdG90eXBlLmdldEJvZHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sYS5wcm90b3R5cGUuY29sbGVjdEZhY2VzPWZ1bmN0aW9uKGUpe3JldHVybiBlfHxuZXcgU2V0fSxhLnByb3RvdHlwZS5jb2xsZWN0RWRnZXM9ZnVuY3Rpb24oZSl7ZT1lfHxuZXcgU2V0O2Zvcih2YXIgdD0wO3Q8dGhpcy5fd2lyZXMubGVuZ3RoOysrdCl0aGlzLl93aXJlc1t0XS5jb2xsZWN0RWRnZXMoZSk7cmV0dXJuIGV9LGEucHJvdG90eXBlLmNvbGxlY3RWZXJ0aWNlcz1mdW5jdGlvbihlKXtlPWV8fG5ldyBTZXQ7Zm9yKHZhciB0PTA7dDx0aGlzLl93aXJlcy5sZW5ndGg7Kyt0KXRoaXMuX3dpcmVzW3RdLmNvbGxlY3RWZXJ0aWNlcyhlKTtyZXR1cm4gZX0sYS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3g9ZnVuY3Rpb24oKXtmb3IodmFyIGU9bmV3IG4uQm91bmRpbmdCb3gsdD0wO3Q8dGhpcy5fd2lyZXMubGVuZ3RoOysrdCllLmluY2x1ZGUodGhpcy5fd2lyZXNbdF0uZ2V0Qm91bmRpbmdCb3goKSk7cmV0dXJuIGV9LGEucHJvdG90eXBlLnRyYW5zZm9ybT1mdW5jdGlvbihlKXsoMCxzLnRyYW5zZm9ybVRvcG9sb2d5KSh0aGlzLGUpfSxhLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiV2lyZUJvZHlcIn0sYS5wcm90b3R5cGUudG9PYmplY3Q9ZnVuY3Rpb24oKXtyZXR1cm57d2lyZXM6dGhpcy5yZWZzVG9TdHJpbmdzKHRoaXMuX3dpcmVzKSxhdHRyaWJ1dGVzOnRoaXMucmVmc1RvU3RyaW5ncyh0aGlzLl9hdHRyaWJ1dGVzKX19LGEucHJvdG90eXBlLmFkZFRvTW9kZWxPYmplY3Q9ZnVuY3Rpb24oZSl7dGhpcy5hZGRBbGxUb01vZGVsT2JqZWN0KGUsW3RoaXMuX3dpcmVzLHRoaXMuX2F0dHJpYnV0ZXNdKX0sdC5XaXJlQm9keT1hfSw3MzkyOihlLHQscik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Lk1hdGNoRmluZGVyPXZvaWQgMDt2YXIgbz1yKDE5NzIpLGk9cigyNDY4KSxuPXIoNzgwOCkscz1yKDYzNDQpLGE9cigyMjA4KSxjPXIoNDcyOCksdT1mdW5jdGlvbigpe3RoaXMuX2VkZ2VzMT1bXSx0aGlzLl9lZGdlczI9W10sdGhpcy5fdmVydHMxPVtdLHRoaXMuX3ZlcnRzMj1bXSx0aGlzLl92ZXJ0ZXhNYXRjaE1hcD1uZXcgTWFwLHRoaXMuX2VkZ2VNYXRjaE1hcD1uZXcgTWFwLHRoaXMuX3NhbWVFZGdlTGlzdHM9ITEsdGhpcy5fbmV3VmVydGljZXM9bmV3IFNldCx0aGlzLl9lZGdlUHJvZ2VuaXRvcnM9bmV3IGEuUHJvZ2VuaXRvck1hcH07dS5wcm90b3R5cGUuYWRkTWVyZ2VUb01hcD1mdW5jdGlvbihlLHQscil7dmFyIG89ci5nZXQoZSksaT1yLmdldCh0KTtpZihvJiYhaSlvLnB1c2godCksci5zZXQodCxvKTtlbHNlIGlmKCFvJiZpKWkucHVzaChlKSxyLnNldChlLGkpO2Vsc2UgaWYob3x8aSl7aWYobyYmaSYmbyE9PWkpZm9yKHZhciBuPTA7bjxpLmxlbmd0aDsrK24pby5wdXNoKGlbbl0pLHIuc2V0KGlbbl0sbyl9ZWxzZXt2YXIgcz1bZSx0XTtyLnNldChlLHMpLHIuc2V0KHQscyl9fSx1LnByb3RvdHlwZS5hZGRWZXJ0ZXhNZXJnZT1mdW5jdGlvbihlLHQpe3RoaXMuYWRkTWVyZ2VUb01hcChlLHQsdGhpcy5fdmVydGV4TWF0Y2hNYXApfSx1LnByb3RvdHlwZS5hZGRFZGdlTWVyZ2U9ZnVuY3Rpb24oZSx0KXt0aGlzLmFkZE1lcmdlVG9NYXAoZSx0LHRoaXMuX2VkZ2VNYXRjaE1hcCl9LHUucHJvdG90eXBlLnZlcnRpY2VzTWF0Y2g9ZnVuY3Rpb24oZSx0KXt2YXIgcj1NYXRoLm1heChlLmdldFByZWNpc2lvbigpLHQuZ2V0UHJlY2lzaW9uKCksaS5LRVJORUxfVE9MRVJBTkNFKTtyZXR1cm4gby5WZWN0b3IzLnNxdWFyZWREaXN0YW5jZShlLmdldFBvc2l0aW9uKCksdC5nZXRQb3NpdGlvbigpKTxyKnJ9LHUucHJvdG90eXBlLmZpbmRFZGdlU3BsaXRQYXJhbT1mdW5jdGlvbihlLHQpe3ZhciByPWUuZ2V0U3RhcnRWZXJ0ZXgoKTtpZihyIT09dCl7dmFyIG49ZS5nZXRFbmRWZXJ0ZXgoKTtpZihuIT09dCl7dmFyIHM9dGhpcy5fdmVydGV4TWF0Y2hNYXAuZ2V0KHIpO2lmKCFzfHwtMT09PXMuaW5kZXhPZih0KSl7dmFyIGE9dGhpcy5fdmVydGV4TWF0Y2hNYXAuZ2V0KG4pO2lmKCFhfHwtMT09PWEuaW5kZXhPZih0KSl7dmFyIGM9dC5nZXRQb3NpdGlvbigpLHU9TWF0aC5tYXgodC5nZXRQcmVjaXNpb24oKSxpLktFUk5FTF9UT0xFUkFOQ0UpLGw9ZS5jbG9zZXN0VG9Qb2ludFBhcmFtKGMpO2lmKHZvaWQgMCE9PWwpe3ZhciBoPWUuZXZhbHVhdGVQb3NpdGlvbihsKTtpZighKG8uVmVjdG9yMy5zcXVhcmVkRGlzdGFuY2UoYyxoKT51KnUpKXJldHVybntwYXJhbTpsLHBvc2l0aW9uOmh9fX19fX19LHUucHJvdG90eXBlLm1hdGNoVmVydGljZXM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9bmV3IFNldCx0PTA7dDx0aGlzLl9lZGdlczEubGVuZ3RoOysrdCl0aGlzLl9lZGdlczFbdF0uY29sbGVjdFZlcnRpY2VzKGUpO3RoaXMuX3ZlcnRzMT1BcnJheS5mcm9tKGUpO3ZhciByPW5ldyBTZXQ7Zm9yKHQ9MDt0PHRoaXMuX2VkZ2VzMi5sZW5ndGg7Kyt0KXRoaXMuX2VkZ2VzMlt0XS5jb2xsZWN0VmVydGljZXMocik7dGhpcy5fdmVydHMyPUFycmF5LmZyb20ocik7dmFyIG89dGhpcztlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3IuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZSE9PXQmJm8udmVydGljZXNNYXRjaChlLHQpJiZvLmFkZFZlcnRleE1lcmdlKGUsdCl9KSl9KSl9LHUucHJvdG90eXBlLmZpbmRWZXJ0ZXhPbkVkZ2VTcGxpdHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dC5sZW5ndGgsbz0wO288cjsrK28pe2Zvcih2YXIgaT10W29dLG49W10scz0wO3M8ZS5sZW5ndGg7KytzKXt2YXIgYT1lW3NdLGM9dGhpcy5maW5kRWRnZVNwbGl0UGFyYW0oaSxhKTtjJiZuLnB1c2goe3ZlcnRleDphLHBhcmFtOmMucGFyYW0scG9zaXRpb246Yy5wb3NpdGlvbn0pfWlmKG4ubGVuZ3RoPjApe3ZhciB1PXRoaXMuc3BsaXRFZGdlQXRQYXJhbXMoaSxuKTtpZih1Lmxlbmd0aD4wKXt0W29dPXVbMF07Zm9yKHZhciBsPTE7bDx1Lmxlbmd0aDsrK2wpdC5wdXNoKHVbbF0pfX19fSx1LnByb3RvdHlwZS5kb0VkZ2VTcGxpdHM9ZnVuY3Rpb24oKXt0aGlzLmZpbmRWZXJ0ZXhPbkVkZ2VTcGxpdHModGhpcy5fdmVydHMxLHRoaXMuX2VkZ2VzMiksdGhpcy5fc2FtZUVkZ2VMaXN0c3x8dGhpcy5maW5kVmVydGV4T25FZGdlU3BsaXRzKHRoaXMuX3ZlcnRzMix0aGlzLl9lZGdlczEpfSx1LnByb3RvdHlwZS5zcGxpdEVkZ2VBdFBhcmFtcz1mdW5jdGlvbihlLHQpe3Quc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5wYXJhbS10LnBhcmFtfSkpO2Zvcih2YXIgcj1bXSxzPWUsYT0wO2E8dC5sZW5ndGg7KythKXt2YXIgYz10W2FdLnZlcnRleCx1PXRbYV0ucGFyYW0sbD10W2FdLnBvc2l0aW9uLGg9cy5nZXRTdGFydFZlcnRleCgpLmdldFBvc2l0aW9uKCk7aWYoby5WZWN0b3IzLnNxdWFyZWREaXN0YW5jZShsLGgpPGkuS0VSTkVMX1RPTEVSQU5DRSppLktFUk5FTF9UT0xFUkFOQ0UpdGhpcy5hZGRWZXJ0ZXhNZXJnZShjLHMuZ2V0U3RhcnRWZXJ0ZXgoKSk7ZWxzZXswPT09ci5sZW5ndGgmJihzPSgwLG4ucmVwbGFjZUVkZ2UpKHMpLHIucHVzaChzKSx0aGlzLl9lZGdlUHJvZ2VuaXRvcnMuYWRkRW50cnkocyxbZV0pKTt2YXIgZD0oMCxuLnNwbGl0RWRnZSkocyx1LGwpO3IucHVzaChkKSx0aGlzLl9lZGdlUHJvZ2VuaXRvcnMuYWRkRW50cnkoZCxbZV0pO3ZhciBwPWQuZ2V0U3RhcnRWZXJ0ZXgoKTt0aGlzLmFkZFZlcnRleE1lcmdlKGMscCksdGhpcy5fbmV3VmVydGljZXMuYWRkKHApLHM9ZH19cmV0dXJuIHJ9LHUucHJvdG90eXBlLmVkZ2VzTWF0Y2g9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oMCxzLmVkZ2VzQXJlQ29pbmNpZGVudCkoZSx0KX0sdS5wcm90b3R5cGUubWF0Y2hFZGdlcz1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLHQ9MDt0PHRoaXMuX2VkZ2VzMS5sZW5ndGg7Kyt0KWZvcih2YXIgcj10aGlzLl9lZGdlczFbdF0sbz1yLmdldFN0YXJ0VmVydGV4KCksaT1yLmdldEVuZFZlcnRleCgpLG49MDtuPHRoaXMuX2VkZ2VzMi5sZW5ndGg7KytuKXt2YXIgcz10aGlzLl9lZGdlczJbbl0sYT1zLmdldFN0YXJ0VmVydGV4KCksYz1zLmdldEVuZFZlcnRleCgpO2lmKCEodGhpcy5fc2FtZUVkZ2VMaXN0cyYmbjw9dCkmJnIhPT1zKXt2YXIgdSxsPW89PT1hfHxvPT09YztpZighbCl7dmFyIGg9ZS5fdmVydGV4TWF0Y2hNYXAuZ2V0KG8pO2gmJihsPWg9PT1lLl92ZXJ0ZXhNYXRjaE1hcC5nZXQoYSl8fGg9PT1lLl92ZXJ0ZXhNYXRjaE1hcC5nZXQoYykpfWlmKGwmJiEodT1pPT09YXx8aT09PWMpKXt2YXIgZD1lLl92ZXJ0ZXhNYXRjaE1hcC5nZXQoaSk7ZCYmKHU9ZD09PWUuX3ZlcnRleE1hdGNoTWFwLmdldChhKXx8ZD09PWUuX3ZlcnRleE1hdGNoTWFwLmdldChjKSl9bCYmdSYmdGhpcy5lZGdlc01hdGNoKHIscykmJnRoaXMuYWRkRWRnZU1lcmdlKHIscyl9fX0sdS5wcm90b3R5cGUuc2V0RWRnZXM9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgU2V0P3RoaXMuX2VkZ2VzMT1BcnJheS5mcm9tKGUpOmUgaW5zdGFuY2VvZiBBcnJheSYmKHRoaXMuX2VkZ2VzMT1lKSx0JiZ0IT09ZT90IGluc3RhbmNlb2YgU2V0P3RoaXMuX2VkZ2VzMj1BcnJheS5mcm9tKHQpOnQgaW5zdGFuY2VvZiBBcnJheSYmKHRoaXMuX2VkZ2VzMj10KTp0aGlzLl9lZGdlczI9dGhpcy5fZWRnZXMxLHRoaXMuX3NhbWVFZGdlTGlzdHM9dGhpcy5fZWRnZXMxPT09dGhpcy5fZWRnZXMyLGMuQ29uc29sZVV0aWxzLmFzc2VydCh0aGlzLl9lZGdlczEmJnRoaXMuX2VkZ2VzMil9LHUucHJvdG90eXBlLmNvbXB1dGU9ZnVuY3Rpb24oKXt0aGlzLm1hdGNoVmVydGljZXMoKSx0aGlzLmRvRWRnZVNwbGl0cygpLHRoaXMubWF0Y2hFZGdlcygpfSx1LnByb3RvdHlwZS5nZXRWZXJ0ZXhNYXRjaGVzPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IFNldDtyZXR1cm4gdGhpcy5fdmVydGV4TWF0Y2hNYXAuZm9yRWFjaCgoZnVuY3Rpb24odCxyKXtlLmFkZCh0KX0pKSxBcnJheS5mcm9tKGUpfSx1LnByb3RvdHlwZS5nZXRFZGdlTWF0Y2hlcz1mdW5jdGlvbigpe3ZhciBlPW5ldyBTZXQ7cmV0dXJuIHRoaXMuX2VkZ2VNYXRjaE1hcC5mb3JFYWNoKChmdW5jdGlvbih0LHIpe2UuYWRkKHQpfSkpLEFycmF5LmZyb20oZSl9LHUucHJvdG90eXBlLmdldE5ld1ZlcnRpY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25ld1ZlcnRpY2VzfSx1LnByb3RvdHlwZS5nZXRFZGdlUHJvZ2VuaXRvcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZWRnZVByb2dlbml0b3JzfSx0Lk1hdGNoRmluZGVyPXV9LDc4MDg6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQucmVwbGFjZUVkZ2U9dC5zcGxpdEVkZ2U9dm9pZCAwO3ZhciBvPXIoNjk0MCksaT1yKDc1ODApLG49cig2NzIpLHM9cigzNTY1KSxhPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IG4uQ29lZGdlO3Iuc2V0RWRnZSh0KSxlLmdldEVkZ2UoKS5nZXRDb2VkZ2UoKT09PWUmJnQuc2V0Q29lZGdlKHIpLHIuc2V0UmV2ZXJzZWQoZS5pc1JldmVyc2VkKCkpLHIuc2V0TG9vcChlLmdldExvb3AoKSk7dmFyIG89ZS5nZXRMb29wKCkuZ2V0Q29lZGdlcygpLGk9by5pbmRleE9mKGUpO3JldHVybiByLmlzUmV2ZXJzZWQoKT9vLnNwbGljZShpLDAscik6by5zcGxpY2UoKGkrMSklby5sZW5ndGgsMCxyKSxyfTt0LnNwbGl0RWRnZT1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IG8uVmVydGV4KG5ldyBzLlBvaW50KHIpKSxjPVtlLmdldFJhbmdlKClbMF0sZS5nZXRSYW5nZSgpWzFdXSx1PWUuZ2V0RW5kVmVydGV4KCk7ZS5zZXRSYW5nZShbY1swXSx0XSksZS5zZXRFbmRWZXJ0ZXgobik7dmFyIGw9bmV3IGkuRWRnZTtsLnNldEN1cnZlKGUuZ2V0Q3VydmUoKSksbC5zZXRSZXZlcnNlZChlLmlzUmV2ZXJzZWQoKSksbC5zZXRSYW5nZShbdCxjWzFdXSksbC5zZXRTdGFydFZlcnRleChuKSxsLnNldEVuZFZlcnRleCh1KSxsLnNldFByZWNpc2lvbihlLmdldFByZWNpc2lvbigpKSxsLnNldFdpcmUoZS5nZXRXaXJlKCkpO2Zvcih2YXIgaD1bXSxkPWUuZ2V0Q29lZGdlKCk7ZDspaC5wdXNoKGEoZCxsKSksKGQ9ZC5nZXRQYXJ0bmVyKCkpPT09ZS5nZXRDb2VkZ2UoKSYmKGQ9dm9pZCAwKTtmb3IodmFyIHA9MDtwPGgubGVuZ3RoOysrcCl7dmFyIGc9KHArMSklaC5sZW5ndGg7aFtwXS5zZXRQYXJ0bmVyKGhbZ10pfWlmKGwuZ2V0V2lyZSgpKXt2YXIgZj1sLmdldFdpcmUoKS5nZXRFZGdlcygpLnNsaWNlKCksdj1mLmluZGV4T2YoZSk7Zi5zcGxpY2UodisxLDAsbCksbC5nZXRXaXJlKCkuc2V0RWRnZXMoZil9cmV0dXJuIGx9LHQucmVwbGFjZUVkZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGkuRWRnZTt0LnNldEN1cnZlKGUuZ2V0Q3VydmUoKSksdC5zZXRSZXZlcnNlZChlLmlzUmV2ZXJzZWQoKSksdC5zZXRSYW5nZShbZS5nZXRSYW5nZSgpWzBdLGUuZ2V0UmFuZ2UoKVsxXV0pLHQuc2V0U3RhcnRWZXJ0ZXgoZS5nZXRTdGFydFZlcnRleCgpKSx0LnNldEVuZFZlcnRleChlLmdldEVuZFZlcnRleCgpKSx0LnNldFByZWNpc2lvbihlLmdldFByZWNpc2lvbigpKSx0LnNldENvZWRnZShlLmdldENvZWRnZSgpKSx0LnNldFdpcmUoZS5nZXRXaXJlKCkpLGUuc2V0U3RhcnRWZXJ0ZXgobnVsbCksZS5zZXRFbmRWZXJ0ZXgobnVsbCksZS5zZXRDb2VkZ2Uodm9pZCAwKSxlLnNldFdpcmUodm9pZCAwKTtmb3IodmFyIHI9dC5nZXRDb2VkZ2UoKTtyOylyLnNldEVkZ2UodCksKHI9ci5nZXRQYXJ0bmVyKCkpPT09dC5nZXRDb2VkZ2UoKSYmKHI9dm9pZCAwKTtpZih0LmdldFdpcmUoKSl7dmFyIG89dC5nZXRXaXJlKCkuZ2V0RWRnZXMoKS5zbGljZSgpLG49by5pbmRleE9mKGUpO29bbl09dCx0LmdldFdpcmUoKS5zZXRFZGdlcyhvKX1yZXR1cm4gdH19LDEwMDg6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuVG9wb2xvZ3lTdGl0Y2hlcj12b2lkIDA7dmFyIG89cigxOTcyKSxpPXIoNzM5Miksbj1yKDIyMDgpLHM9cig0NzI4KSxhPWZ1bmN0aW9uKCl7dGhpcy5fc2hlbGxTZXQ9bmV3IFNldCx0aGlzLl9sdW1wU2V0PW5ldyBTZXQsdGhpcy5fYm9keVNldD1uZXcgU2V0LHRoaXMuX3dpcmVTZXQ9bmV3IFNldCx0aGlzLl9wcm9nZW5pdG9yTWFwPW5ldyBuLlByb2dlbml0b3JNYXB9O2EucHJvdG90eXBlLmluaXRNZXJnZT1mdW5jdGlvbigpe3RoaXMuX3NoZWxsU2V0LmNsZWFyKCksdGhpcy5fbHVtcFNldC5jbGVhcigpLHRoaXMuX2JvZHlTZXQuY2xlYXIoKSx0aGlzLl93aXJlU2V0LmNsZWFyKCl9LGEucHJvdG90eXBlLmdldEVkZ2VPd25lclRvTWVyZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRXaXJlKCk7aWYodCl0aGlzLl93aXJlU2V0LmFkZCh0KTtlbHNle3ZhciByPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0Q29lZGdlKCk7aWYodCl7dmFyIHI9dC5nZXRGYWNlKCk7aWYocilyZXR1cm4gci5nZXRTaGVsbCgpfX0oZSk7ciYmdGhpcy5fc2hlbGxTZXQuYWRkKHIpfX0sYS5wcm90b3R5cGUuZ2V0VmVydGV4T3duZXJUb01lcmdlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0RWRnZXMoKTt0Lmxlbmd0aD4wJiZ0aGlzLmdldEVkZ2VPd25lclRvTWVyZ2UodFswXSl9LGEucHJvdG90eXBlLnN0aXRjaFZlcnRpY2VzPWZ1bmN0aW9uKGUsdCl7dmFyIHI7dGhpcy5pbml0TWVyZ2UoKTt2YXIgbz12b2lkIDA7Zm9yKHI9MDtyPGUubGVuZ3RoOysrcilpZighdHx8IXQuaGFzKGVbcl0pKXtvPWVbcl07YnJlYWt9cy5Db25zb2xlVXRpbHMuYXNzZXJ0KG8pO3ZhciBpPVtdO2ZvcihyPTA7cjxlLmxlbmd0aDsrK3IpaWYodGhpcy5nZXRWZXJ0ZXhPd25lclRvTWVyZ2UoZVtyXSksZVtyXSE9PW8pe2Zvcih2YXIgbj1lW3JdLGE9bi5nZXRFZGdlcygpLnNsaWNlKDApLGM9MDtjPGEubGVuZ3RoOysrYyl7dmFyIHU9YVtjXTt1LmdldFN0YXJ0VmVydGV4KCk9PT1uJiZ1LnNldFN0YXJ0VmVydGV4KG8pLHUuZ2V0RW5kVmVydGV4KCk9PT1uJiZ1LnNldEVuZFZlcnRleChvKX1zLkNvbnNvbGVVdGlscy5hc3NlcnQoMD09PW4uZ2V0RWRnZXMoKS5sZW5ndGgpLHQmJnQuaGFzKG4pfHxpLnB1c2gobil9aS5sZW5ndGg+MCYmdGhpcy5fcHJvZ2VuaXRvck1hcC5hZGRFbnRyeShvLGkpLHRoaXMubWVyZ2VUb3BvbG9neSgpfSxhLnByb3RvdHlwZS5zdGl0Y2hFZGdlcz1mdW5jdGlvbihlLHQpe3ZhciByLGk9ZVswXTtmb3Iocj0wO3I8ZS5sZW5ndGg7KytyKWlmKCF0fHwhdC5oYXMoZVtyXSkpe2k9ZVtyXTticmVha312YXIgbj1bXSxzPVtdO2ZvcihyPTA7cjxlLmxlbmd0aDsrK3Ipe3ZhciBhPWVbcl0sYz0hMTtpZihhLmdldFN0YXJ0VmVydGV4KCkhPT1pLmdldFN0YXJ0VmVydGV4KCkmJmEuZ2V0U3RhcnRWZXJ0ZXgoKT09PWkuZ2V0RW5kVmVydGV4KCkpe3ZhciB1PWEuZXZhbHVhdGVEdChhLnQwKCkpLGw9aS5ldmFsdWF0ZUR0KGkudDEoKSk7by5WZWN0b3IzLmRvdCh1LGwpPDAmJihjPSEwKX1mb3IodmFyIGg9YS5nZXRDb2VkZ2UoKTtoOyluLnB1c2goaCksYyYmaC5zZXRSZXZlcnNlZCghaC5pc1JldmVyc2VkKCkpLChoPWguZ2V0UGFydG5lcigpKT09PWEuZ2V0Q29lZGdlKCkmJihoPXZvaWQgMCk7YSE9PWkmJihhLnNldFN0YXJ0VmVydGV4KG51bGwpLGEuc2V0RW5kVmVydGV4KG51bGwpLHMucHVzaChhKSl9Zm9yKHRoaXMuaW5pdE1lcmdlKCkscj0wO3I8bi5sZW5ndGg7KytyKXt2YXIgZD1uW3JdO3RoaXMuZ2V0RWRnZU93bmVyVG9NZXJnZShkLmdldEVkZ2UoKSksZC5zZXRFZGdlKGkpO3ZhciBwPShyKzEpJW4ubGVuZ3RoO2Quc2V0UGFydG5lcihuW3BdKX10aGlzLm1lcmdlVG9wb2xvZ3koKSx0aGlzLl9wcm9nZW5pdG9yTWFwLmFkZEVudHJ5KGkscyl9LGEucHJvdG90eXBlLm1lcmdlVG9wb2xvZ3k9ZnVuY3Rpb24oKXtpZih0aGlzLl9zaGVsbFNldC5zaXplPjEmJnRoaXMubWVyZ2VTaGVsbHMoKSx0aGlzLl93aXJlU2V0LnNpemU+MSl0aHJvdyBuZXcgRXJyb3IoXCJNZXJnaW5nIHdpcmVzIGluIFRvcG9sb2d5U3RpdGNoZXIgaXMgbm90IHlldCBzdXBwb3J0ZWQuXCIpfSxhLnByb3RvdHlwZS5tZXJnZVNoZWxscz1mdW5jdGlvbigpe3ZhciBlPW5ldyBuLlByb2dlbml0b3JNYXA7aWYodGhpcy5fc2hlbGxTZXQuc2l6ZT4xKXt2YXIgdD1BcnJheS5mcm9tKHRoaXMuX3NoZWxsU2V0KSxyPXRbMF0sbz1yLmdldEx1bXAoKTtvJiZ0aGlzLl9sdW1wU2V0LmFkZChvKTtmb3IodmFyIGk9MTtpPHQubGVuZ3RoOysraSl7dmFyIHM9dFtpXTtyLmFkZEZhY2VzKHMuZ2V0RmFjZXMoKSkscy5zZXRGYWNlcyhbXSksKG89cy5nZXRMdW1wKCkpJiYoby5yZW1vdmVTaGVsbChzKSx0aGlzLl9sdW1wU2V0LmFkZChvKSl9ZS5hZGRFbnRyeShyLHQuc2xpY2UoMSkpfWlmKHRoaXMuX2x1bXBTZXQuc2l6ZT4xKXt2YXIgYT1BcnJheS5mcm9tKHRoaXMuX2x1bXBTZXQpLGM9YVswXSx1PWMuZ2V0Qm9keSgpO2Zvcih1JiZ0aGlzLl9ib2R5U2V0LmFkZCh1KSxpPTE7aTxhLmxlbmd0aDsrK2kpe3ZhciBsPWFbaV07Yy5hZGRTaGVsbHMobC5nZXRTaGVsbHMoKSksbC5zZXRTaGVsbHMoW10pLCh1PWwuZ2V0Qm9keSgpKSYmKHUucmVtb3ZlTHVtcChsKSx0aGlzLl9ib2R5U2V0LmFkZCh1KSl9ZS5hZGRFbnRyeShjLGEuc2xpY2UoMSkpfWlmKHRoaXMuX2JvZHlTZXQuc2l6ZT4xKXt2YXIgaD1BcnJheS5mcm9tKHRoaXMuX2JvZHlTZXQpLGQ9aFswXTtmb3IoaT0xO2k8aC5sZW5ndGg7KytpKXtmb3IodmFyIHA9aFtpXSxnPXAuZ2V0THVtcHMoKS5zbGljZSgwKSxmPTA7ZjxnLmxlbmd0aDsrK2YpZ1tmXS5nZXRTaGVsbHMoKS5sZW5ndGg+MCYmZC5hZGRMdW1wKGdbZl0pO3Auc2V0THVtcHMoW10pfWUuYWRkRW50cnkoZCxoLnNsaWNlKDEpKX1lLnNpemUoKT4wJiYodGhpcy5fcHJvZ2VuaXRvck1hcD1lLmNvbGxhcHNlTWFwcyh0aGlzLl9wcm9nZW5pdG9yTWFwLHtrZWVwSW50ZXJtZWRpYXRlczohMCxrZWVwQWxsRGVzY2VuZGFudHM6ITB9KSl9LGEucHJvdG90eXBlLmdldFByb2dlbml0b3JNYXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvZ2VuaXRvck1hcH0sYS5wcm90b3R5cGUuc3RpdGNoVHdvRWRnZVNldHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgaS5NYXRjaEZpbmRlcjtyLnNldEVkZ2VzKGUsdCksci5jb21wdXRlKCk7Zm9yKHZhciBvPXIuZ2V0VmVydGV4TWF0Y2hlcygpLG49ci5nZXRFZGdlTWF0Y2hlcygpLHM9ci5nZXROZXdWZXJ0aWNlcygpLGE9bmV3IFNldChyLmdldEVkZ2VQcm9nZW5pdG9ycygpLmdldEFsbE5ld1RvcG9sb2d5KCkpLGM9MDtjPG8ubGVuZ3RoOysrYyl0aGlzLnN0aXRjaFZlcnRpY2VzKG9bY10scyk7Zm9yKGM9MDtjPG4ubGVuZ3RoOysrYyl0aGlzLnN0aXRjaEVkZ2VzKG5bY10sYSk7dGhpcy5fcHJvZ2VuaXRvck1hcD10aGlzLl9wcm9nZW5pdG9yTWFwLmNvbGxhcHNlTWFwcyhyLmdldEVkZ2VQcm9nZW5pdG9ycygpLHtrZWVwSW50ZXJtZWRpYXRlczohMSxrZWVwQWxsRGVzY2VuZGFudHM6ITB9KX0sYS5wcm90b3R5cGUuc3RpdGNoVHdvVG9wb2xvZ3k9ZnVuY3Rpb24oZSx0KXtzLkNvbnNvbGVVdGlscy5hc3NlcnQoXCJmdW5jdGlvblwiPT10eXBlb2YgZS5jb2xsZWN0RWRnZXMpLHMuQ29uc29sZVV0aWxzLmFzc2VydChcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNvbGxlY3RFZGdlcyk7dmFyIHI9ZS5jb2xsZWN0RWRnZXMoKSxvPXQuY29sbGVjdEVkZ2VzKCk7dGhpcy5zdGl0Y2hUd29FZGdlU2V0cyhyLG8pfSxhLnByb3RvdHlwZS5zdGl0Y2hFZGdlU2V0PWZ1bmN0aW9uKGUpe3RoaXMuc3RpdGNoVHdvRWRnZVNldHMoZSxlKX0sdC5Ub3BvbG9neVN0aXRjaGVyPWF9LDQ4ODM6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1yKDQzOTIpfSwzMDU2OihlLHQscik9PntcInVzZSBzdHJpY3RcIjt2YXIgbz10LGk9cigxMzc2KSxuPXIoMzIpO2Z1bmN0aW9uIHMoZSx0LHIsbyl7dmFyIG49ITE7aWYodC5yZXNvbHZlZFR5cGUpaWYodC5yZXNvbHZlZFR5cGUgaW5zdGFuY2VvZiBpKXtlKFwic3dpdGNoKGQlcyl7XCIsbyk7Zm9yKHZhciBzPXQucmVzb2x2ZWRUeXBlLnZhbHVlcyxhPU9iamVjdC5rZXlzKHMpLGM9MDtjPGEubGVuZ3RoOysrYylzW2FbY11dIT09dC50eXBlRGVmYXVsdHx8bnx8KGUoXCJkZWZhdWx0OlwiKSgnaWYodHlwZW9mKGQlcyk9PT1cIm51bWJlclwiKXttJXM9ZCVzO2JyZWFrfScsbyxvLG8pLHQucmVwZWF0ZWR8fGUoXCJicmVha1wiKSxuPSEwKSxlKFwiY2FzZSVqOlwiLGFbY10pKFwiY2FzZSAlaTpcIixzW2FbY11dKShcIm0lcz0lalwiLG8sc1thW2NdXSkoXCJicmVha1wiKTtlKFwifVwiKX1lbHNlIGUoJ2lmKHR5cGVvZiBkJXMhPT1cIm9iamVjdFwiKScsbykoXCJ0aHJvdyBUeXBlRXJyb3IoJWopXCIsdC5mdWxsTmFtZStcIjogb2JqZWN0IGV4cGVjdGVkXCIpKFwibSVzPXR5cGVzWyVpXS5mcm9tT2JqZWN0KGQlcylcIixvLHIsbyk7ZWxzZXt2YXIgdT0hMTtzd2l0Y2godC50eXBlKXtjYXNlXCJkb3VibGVcIjpjYXNlXCJmbG9hdFwiOmUoXCJtJXM9TnVtYmVyKGQlcylcIixvLG8pO2JyZWFrO2Nhc2VcInVpbnQzMlwiOmNhc2VcImZpeGVkMzJcIjplKFwibSVzPWQlcz4+PjBcIixvLG8pO2JyZWFrO2Nhc2VcImludDMyXCI6Y2FzZVwic2ludDMyXCI6Y2FzZVwic2ZpeGVkMzJcIjplKFwibSVzPWQlc3wwXCIsbyxvKTticmVhaztjYXNlXCJ1aW50NjRcIjp1PSEwO2Nhc2VcImludDY0XCI6Y2FzZVwic2ludDY0XCI6Y2FzZVwiZml4ZWQ2NFwiOmNhc2VcInNmaXhlZDY0XCI6ZShcImlmKHV0aWwuTG9uZylcIikoXCIobSVzPXV0aWwuTG9uZy5mcm9tVmFsdWUoZCVzKSkudW5zaWduZWQ9JWpcIixvLG8sdSkoJ2Vsc2UgaWYodHlwZW9mIGQlcz09PVwic3RyaW5nXCIpJyxvKShcIm0lcz1wYXJzZUludChkJXMsMTApXCIsbyxvKSgnZWxzZSBpZih0eXBlb2YgZCVzPT09XCJudW1iZXJcIiknLG8pKFwibSVzPWQlc1wiLG8sbykoJ2Vsc2UgaWYodHlwZW9mIGQlcz09PVwib2JqZWN0XCIpJyxvKShcIm0lcz1uZXcgdXRpbC5Mb25nQml0cyhkJXMubG93Pj4+MCxkJXMuaGlnaD4+PjApLnRvTnVtYmVyKCVzKVwiLG8sbyxvLHU/XCJ0cnVlXCI6XCJcIik7YnJlYWs7Y2FzZVwiYnl0ZXNcIjplKCdpZih0eXBlb2YgZCVzPT09XCJzdHJpbmdcIiknLG8pKFwidXRpbC5iYXNlNjQuZGVjb2RlKGQlcyxtJXM9dXRpbC5uZXdCdWZmZXIodXRpbC5iYXNlNjQubGVuZ3RoKGQlcykpLDApXCIsbyxvLG8pKFwiZWxzZSBpZihkJXMubGVuZ3RoID49IDApXCIsbykoXCJtJXM9ZCVzXCIsbyxvKTticmVhaztjYXNlXCJzdHJpbmdcIjplKFwibSVzPVN0cmluZyhkJXMpXCIsbyxvKTticmVhaztjYXNlXCJib29sXCI6ZShcIm0lcz1Cb29sZWFuKGQlcylcIixvLG8pfX1yZXR1cm4gZX1mdW5jdGlvbiBhKGUsdCxyLG8pe2lmKHQucmVzb2x2ZWRUeXBlKXQucmVzb2x2ZWRUeXBlIGluc3RhbmNlb2YgaT9lKFwiZCVzPW8uZW51bXM9PT1TdHJpbmc/KHR5cGVzWyVpXS52YWx1ZXNbbSVzXT09PXVuZGVmaW5lZD9tJXM6dHlwZXNbJWldLnZhbHVlc1ttJXNdKTptJXNcIixvLHIsbyxvLHIsbyxvKTplKFwiZCVzPXR5cGVzWyVpXS50b09iamVjdChtJXMsbylcIixvLHIsbyk7ZWxzZXt2YXIgbj0hMTtzd2l0Y2godC50eXBlKXtjYXNlXCJkb3VibGVcIjpjYXNlXCJmbG9hdFwiOmUoXCJkJXM9by5qc29uJiYhaXNGaW5pdGUobSVzKT9TdHJpbmcobSVzKTptJXNcIixvLG8sbyxvKTticmVhaztjYXNlXCJ1aW50NjRcIjpuPSEwO2Nhc2VcImludDY0XCI6Y2FzZVwic2ludDY0XCI6Y2FzZVwiZml4ZWQ2NFwiOmNhc2VcInNmaXhlZDY0XCI6ZSgnaWYodHlwZW9mIG0lcz09PVwibnVtYmVyXCIpJyxvKShcImQlcz1vLmxvbmdzPT09U3RyaW5nP1N0cmluZyhtJXMpOm0lc1wiLG8sbyxvKShcImVsc2VcIikoXCJkJXM9by5sb25ncz09PVN0cmluZz91dGlsLkxvbmcucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobSVzKTpvLmxvbmdzPT09TnVtYmVyP25ldyB1dGlsLkxvbmdCaXRzKG0lcy5sb3c+Pj4wLG0lcy5oaWdoPj4+MCkudG9OdW1iZXIoJXMpOm0lc1wiLG8sbyxvLG8sbj9cInRydWVcIjpcIlwiLG8pO2JyZWFrO2Nhc2VcImJ5dGVzXCI6ZShcImQlcz1vLmJ5dGVzPT09U3RyaW5nP3V0aWwuYmFzZTY0LmVuY29kZShtJXMsMCxtJXMubGVuZ3RoKTpvLmJ5dGVzPT09QXJyYXk/QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobSVzKTptJXNcIixvLG8sbyxvLG8pO2JyZWFrO2RlZmF1bHQ6ZShcImQlcz1tJXNcIixvLG8pfX1yZXR1cm4gZX1vLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5maWVsZHNBcnJheSxyPW4uY29kZWdlbihbXCJkXCJdLGUubmFtZStcIiRmcm9tT2JqZWN0XCIpKFwiaWYoZCBpbnN0YW5jZW9mIHRoaXMuY3RvcilcIikoXCJyZXR1cm4gZFwiKTtpZighdC5sZW5ndGgpcmV0dXJuIHIoXCJyZXR1cm4gbmV3IHRoaXMuY3RvclwiKTtyKFwidmFyIG09bmV3IHRoaXMuY3RvclwiKTtmb3IodmFyIG89MDtvPHQubGVuZ3RoOysrbyl7dmFyIGE9dFtvXS5yZXNvbHZlKCksYz1uLnNhZmVQcm9wKGEubmFtZSk7YS5tYXA/KHIoXCJpZihkJXMpe1wiLGMpKCdpZih0eXBlb2YgZCVzIT09XCJvYmplY3RcIiknLGMpKFwidGhyb3cgVHlwZUVycm9yKCVqKVwiLGEuZnVsbE5hbWUrXCI6IG9iamVjdCBleHBlY3RlZFwiKShcIm0lcz17fVwiLGMpKFwiZm9yKHZhciBrcz1PYmplY3Qua2V5cyhkJXMpLGk9MDtpPGtzLmxlbmd0aDsrK2kpe1wiLGMpLHMocixhLG8sYytcIltrc1tpXV1cIikoXCJ9XCIpKFwifVwiKSk6YS5yZXBlYXRlZD8ocihcImlmKGQlcyl7XCIsYykoXCJpZighQXJyYXkuaXNBcnJheShkJXMpKVwiLGMpKFwidGhyb3cgVHlwZUVycm9yKCVqKVwiLGEuZnVsbE5hbWUrXCI6IGFycmF5IGV4cGVjdGVkXCIpKFwibSVzPVtdXCIsYykoXCJmb3IodmFyIGk9MDtpPGQlcy5sZW5ndGg7KytpKXtcIixjKSxzKHIsYSxvLGMrXCJbaV1cIikoXCJ9XCIpKFwifVwiKSk6KGEucmVzb2x2ZWRUeXBlIGluc3RhbmNlb2YgaXx8cihcImlmKGQlcyE9bnVsbCl7XCIsYykscyhyLGEsbyxjKSxhLnJlc29sdmVkVHlwZSBpbnN0YW5jZW9mIGl8fHIoXCJ9XCIpKX1yZXR1cm4gcihcInJldHVybiBtXCIpfSxvLnRvT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0PWUuZmllbGRzQXJyYXkuc2xpY2UoKS5zb3J0KG4uY29tcGFyZUZpZWxkc0J5SWQpO2lmKCF0Lmxlbmd0aClyZXR1cm4gbi5jb2RlZ2VuKCkoXCJyZXR1cm4ge31cIik7Zm9yKHZhciByPW4uY29kZWdlbihbXCJtXCIsXCJvXCJdLGUubmFtZStcIiR0b09iamVjdFwiKShcImlmKCFvKVwiKShcIm89e31cIikoXCJ2YXIgZD17fVwiKSxvPVtdLHM9W10sYz1bXSx1PTA7dTx0Lmxlbmd0aDsrK3UpdFt1XS5wYXJ0T2Z8fCh0W3VdLnJlc29sdmUoKS5yZXBlYXRlZD9vOnRbdV0ubWFwP3M6YykucHVzaCh0W3VdKTtpZihvLmxlbmd0aCl7Zm9yKHIoXCJpZihvLmFycmF5c3x8by5kZWZhdWx0cyl7XCIpLHU9MDt1PG8ubGVuZ3RoOysrdSlyKFwiZCVzPVtdXCIsbi5zYWZlUHJvcChvW3VdLm5hbWUpKTtyKFwifVwiKX1pZihzLmxlbmd0aCl7Zm9yKHIoXCJpZihvLm9iamVjdHN8fG8uZGVmYXVsdHMpe1wiKSx1PTA7dTxzLmxlbmd0aDsrK3UpcihcImQlcz17fVwiLG4uc2FmZVByb3Aoc1t1XS5uYW1lKSk7cihcIn1cIil9aWYoYy5sZW5ndGgpe2ZvcihyKFwiaWYoby5kZWZhdWx0cyl7XCIpLHU9MDt1PGMubGVuZ3RoOysrdSl7dmFyIGw9Y1t1XSxoPW4uc2FmZVByb3AobC5uYW1lKTtpZihsLnJlc29sdmVkVHlwZSBpbnN0YW5jZW9mIGkpcihcImQlcz1vLmVudW1zPT09U3RyaW5nPyVqOiVqXCIsaCxsLnJlc29sdmVkVHlwZS52YWx1ZXNCeUlkW2wudHlwZURlZmF1bHRdLGwudHlwZURlZmF1bHQpO2Vsc2UgaWYobC5sb25nKXIoXCJpZih1dGlsLkxvbmcpe1wiKShcInZhciBuPW5ldyB1dGlsLkxvbmcoJWksJWksJWopXCIsbC50eXBlRGVmYXVsdC5sb3csbC50eXBlRGVmYXVsdC5oaWdoLGwudHlwZURlZmF1bHQudW5zaWduZWQpKFwiZCVzPW8ubG9uZ3M9PT1TdHJpbmc/bi50b1N0cmluZygpOm8ubG9uZ3M9PT1OdW1iZXI/bi50b051bWJlcigpOm5cIixoKShcIn1lbHNlXCIpKFwiZCVzPW8ubG9uZ3M9PT1TdHJpbmc/JWo6JWlcIixoLGwudHlwZURlZmF1bHQudG9TdHJpbmcoKSxsLnR5cGVEZWZhdWx0LnRvTnVtYmVyKCkpO2Vsc2UgaWYobC5ieXRlcyl7dmFyIGQ9XCJbXCIrQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobC50eXBlRGVmYXVsdCkuam9pbihcIixcIikrXCJdXCI7cihcImlmKG8uYnl0ZXM9PT1TdHJpbmcpZCVzPSVqXCIsaCxTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxsLnR5cGVEZWZhdWx0KSkoXCJlbHNle1wiKShcImQlcz0lc1wiLGgsZCkoXCJpZihvLmJ5dGVzIT09QXJyYXkpZCVzPXV0aWwubmV3QnVmZmVyKGQlcylcIixoLGgpKFwifVwiKX1lbHNlIHIoXCJkJXM9JWpcIixoLGwudHlwZURlZmF1bHQpfXIoXCJ9XCIpfXZhciBwPSExO2Zvcih1PTA7dTx0Lmxlbmd0aDsrK3Upe2w9dFt1XTt2YXIgZz1lLl9maWVsZHNBcnJheS5pbmRleE9mKGwpO2g9bi5zYWZlUHJvcChsLm5hbWUpO2wubWFwPyhwfHwocD0hMCxyKFwidmFyIGtzMlwiKSkscihcImlmKG0lcyYmKGtzMj1PYmplY3Qua2V5cyhtJXMpKS5sZW5ndGgpe1wiLGgsaCkoXCJkJXM9e31cIixoKShcImZvcih2YXIgaj0wO2o8a3MyLmxlbmd0aDsrK2ope1wiKSxhKHIsbCxnLGgrXCJba3MyW2pdXVwiKShcIn1cIikpOmwucmVwZWF0ZWQ/KHIoXCJpZihtJXMmJm0lcy5sZW5ndGgpe1wiLGgsaCkoXCJkJXM9W11cIixoKShcImZvcih2YXIgaj0wO2o8bSVzLmxlbmd0aDsrK2ope1wiLGgpLGEocixsLGcsaCtcIltqXVwiKShcIn1cIikpOihyKFwiaWYobSVzIT1udWxsJiZtLmhhc093blByb3BlcnR5KCVqKSl7XCIsaCxsLm5hbWUpLGEocixsLGcsaCksbC5wYXJ0T2YmJnIoXCJpZihvLm9uZW9mcylcIikoXCJkJXM9JWpcIixuLnNhZmVQcm9wKGwucGFydE9mLm5hbWUpLGwubmFtZSkpLHIoXCJ9XCIpfXJldHVybiByKFwicmV0dXJuIGRcIil9fSw5NzA4OihlLHQscik9PntcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bi5jb2RlZ2VuKFtcInJcIixcImxcIl0sZS5uYW1lK1wiJGRlY29kZVwiKShcImlmKCEociBpbnN0YW5jZW9mIFJlYWRlcikpXCIpKFwicj1SZWFkZXIuY3JlYXRlKHIpXCIpKFwidmFyIGM9bD09PXVuZGVmaW5lZD9yLmxlbjpyLnBvcytsLG09bmV3IHRoaXMuY3RvclwiKyhlLmZpZWxkc0FycmF5LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUubWFwfSkpLmxlbmd0aD9cIixrLHZhbHVlXCI6XCJcIikpKFwid2hpbGUoci5wb3M8Yyl7XCIpKFwidmFyIHQ9ci51aW50MzIoKVwiKTtlLmdyb3VwJiZ0KFwiaWYoKHQmNyk9PT00KVwiKShcImJyZWFrXCIpO3QoXCJzd2l0Y2godD4+PjMpe1wiKTtmb3IodmFyIHI9MDtyPGUuZmllbGRzQXJyYXkubGVuZ3RoOysrcil7dmFyIGE9ZS5fZmllbGRzQXJyYXlbcl0ucmVzb2x2ZSgpLGM9YS5yZXNvbHZlZFR5cGUgaW5zdGFuY2VvZiBvP1wiaW50MzJcIjphLnR5cGUsdT1cIm1cIituLnNhZmVQcm9wKGEubmFtZSk7dChcImNhc2UgJWk6IHtcIixhLmlkKSxhLm1hcD8odChcImlmKCVzPT09dXRpbC5lbXB0eU9iamVjdClcIix1KShcIiVzPXt9XCIsdSkoXCJ2YXIgYzIgPSByLnVpbnQzMigpK3IucG9zXCIpLHZvaWQgMCE9PWkuZGVmYXVsdHNbYS5rZXlUeXBlXT90KFwiaz0lalwiLGkuZGVmYXVsdHNbYS5rZXlUeXBlXSk6dChcIms9bnVsbFwiKSx2b2lkIDAhPT1pLmRlZmF1bHRzW2NdP3QoXCJ2YWx1ZT0lalwiLGkuZGVmYXVsdHNbY10pOnQoXCJ2YWx1ZT1udWxsXCIpLHQoXCJ3aGlsZShyLnBvczxjMil7XCIpKFwidmFyIHRhZzI9ci51aW50MzIoKVwiKShcInN3aXRjaCh0YWcyPj4+Myl7XCIpKFwiY2FzZSAxOiBrPXIuJXMoKTsgYnJlYWtcIixhLmtleVR5cGUpKFwiY2FzZSAyOlwiKSx2b2lkIDA9PT1pLmJhc2ljW2NdP3QoXCJ2YWx1ZT10eXBlc1slaV0uZGVjb2RlKHIsci51aW50MzIoKSlcIixyKTp0KFwidmFsdWU9ci4lcygpXCIsYyksdChcImJyZWFrXCIpKFwiZGVmYXVsdDpcIikoXCJyLnNraXBUeXBlKHRhZzImNylcIikoXCJicmVha1wiKShcIn1cIikoXCJ9XCIpLHZvaWQgMCE9PWkubG9uZ1thLmtleVR5cGVdP3QoJyVzW3R5cGVvZiBrPT09XCJvYmplY3RcIj91dGlsLmxvbmdUb0hhc2goayk6a109dmFsdWUnLHUpOnQoXCIlc1trXT12YWx1ZVwiLHUpKTphLnJlcGVhdGVkPyh0KFwiaWYoISglcyYmJXMubGVuZ3RoKSlcIix1LHUpKFwiJXM9W11cIix1KSx2b2lkIDAhPT1pLnBhY2tlZFtjXSYmdChcImlmKCh0JjcpPT09Mil7XCIpKFwidmFyIGMyPXIudWludDMyKCkrci5wb3NcIikoXCJ3aGlsZShyLnBvczxjMilcIikoXCIlcy5wdXNoKHIuJXMoKSlcIix1LGMpKFwifWVsc2VcIiksdm9pZCAwPT09aS5iYXNpY1tjXT90KGEucmVzb2x2ZWRUeXBlLmdyb3VwP1wiJXMucHVzaCh0eXBlc1slaV0uZGVjb2RlKHIpKVwiOlwiJXMucHVzaCh0eXBlc1slaV0uZGVjb2RlKHIsci51aW50MzIoKSkpXCIsdSxyKTp0KFwiJXMucHVzaChyLiVzKCkpXCIsdSxjKSk6dm9pZCAwPT09aS5iYXNpY1tjXT90KGEucmVzb2x2ZWRUeXBlLmdyb3VwP1wiJXM9dHlwZXNbJWldLmRlY29kZShyKVwiOlwiJXM9dHlwZXNbJWldLmRlY29kZShyLHIudWludDMyKCkpXCIsdSxyKTp0KFwiJXM9ci4lcygpXCIsdSxjKSx0KFwiYnJlYWtcIikoXCJ9XCIpfWZvcih0KFwiZGVmYXVsdDpcIikoXCJyLnNraXBUeXBlKHQmNylcIikoXCJicmVha1wiKShcIn1cIikoXCJ9XCIpLHI9MDtyPGUuX2ZpZWxkc0FycmF5Lmxlbmd0aDsrK3Ipe3ZhciBsPWUuX2ZpZWxkc0FycmF5W3JdO2wucmVxdWlyZWQmJnQoXCJpZighbS5oYXNPd25Qcm9wZXJ0eSglaikpXCIsbC5uYW1lKShcInRocm93IHV0aWwuUHJvdG9jb2xFcnJvciglaix7aW5zdGFuY2U6bX0pXCIscyhsKSl9cmV0dXJuIHQoXCJyZXR1cm4gbVwiKX07dmFyIG89cigxMzc2KSxpPXIoMTkwOCksbj1yKDMyKTtmdW5jdGlvbiBzKGUpe3JldHVyblwibWlzc2luZyByZXF1aXJlZCAnXCIrZS5uYW1lK1wiJ1wifX0sNDc1MjooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPW4uY29kZWdlbihbXCJtXCIsXCJ3XCJdLGUubmFtZStcIiRlbmNvZGVcIikoXCJpZighdylcIikoXCJ3PVdyaXRlci5jcmVhdGUoKVwiKSxhPWUuZmllbGRzQXJyYXkuc2xpY2UoKS5zb3J0KG4uY29tcGFyZUZpZWxkc0J5SWQpLGM9MDtjPGEubGVuZ3RoOysrYyl7dmFyIHU9YVtjXS5yZXNvbHZlKCksbD1lLl9maWVsZHNBcnJheS5pbmRleE9mKHUpLGg9dS5yZXNvbHZlZFR5cGUgaW5zdGFuY2VvZiBvP1wiaW50MzJcIjp1LnR5cGUsZD1pLmJhc2ljW2hdO3Q9XCJtXCIrbi5zYWZlUHJvcCh1Lm5hbWUpLHUubWFwPyhyKFwiaWYoJXMhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG0sJWopKXtcIix0LHUubmFtZSkoXCJmb3IodmFyIGtzPU9iamVjdC5rZXlzKCVzKSxpPTA7aTxrcy5sZW5ndGg7KytpKXtcIix0KShcIncudWludDMyKCVpKS5mb3JrKCkudWludDMyKCVpKS4lcyhrc1tpXSlcIiwodS5pZDw8M3wyKT4+PjAsOHxpLm1hcEtleVt1LmtleVR5cGVdLHUua2V5VHlwZSksdm9pZCAwPT09ZD9yKFwidHlwZXNbJWldLmVuY29kZSglc1trc1tpXV0sdy51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCkubGRlbGltKClcIixsLHQpOnIoXCIudWludDMyKCVpKS4lcyglc1trc1tpXV0pLmxkZWxpbSgpXCIsMTZ8ZCxoLHQpLHIoXCJ9XCIpKFwifVwiKSk6dS5yZXBlYXRlZD8ocihcImlmKCVzIT1udWxsJiYlcy5sZW5ndGgpe1wiLHQsdCksdS5wYWNrZWQmJnZvaWQgMCE9PWkucGFja2VkW2hdP3IoXCJ3LnVpbnQzMiglaSkuZm9yaygpXCIsKHUuaWQ8PDN8Mik+Pj4wKShcImZvcih2YXIgaT0wO2k8JXMubGVuZ3RoOysraSlcIix0KShcIncuJXMoJXNbaV0pXCIsaCx0KShcIncubGRlbGltKClcIik6KHIoXCJmb3IodmFyIGk9MDtpPCVzLmxlbmd0aDsrK2kpXCIsdCksdm9pZCAwPT09ZD9zKHIsdSxsLHQrXCJbaV1cIik6cihcIncudWludDMyKCVpKS4lcyglc1tpXSlcIiwodS5pZDw8M3xkKT4+PjAsaCx0KSkscihcIn1cIikpOih1Lm9wdGlvbmFsJiZyKFwiaWYoJXMhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG0sJWopKVwiLHQsdS5uYW1lKSx2b2lkIDA9PT1kP3Mocix1LGwsdCk6cihcIncudWludDMyKCVpKS4lcyglcylcIiwodS5pZDw8M3xkKT4+PjAsaCx0KSl9cmV0dXJuIHIoXCJyZXR1cm4gd1wiKX07dmFyIG89cigxMzc2KSxpPXIoMTkwOCksbj1yKDMyKTtmdW5jdGlvbiBzKGUsdCxyLG8pe3JldHVybiB0LnJlc29sdmVkVHlwZS5ncm91cD9lKFwidHlwZXNbJWldLmVuY29kZSglcyx3LnVpbnQzMiglaSkpLnVpbnQzMiglaSlcIixyLG8sKHQuaWQ8PDN8Myk+Pj4wLCh0LmlkPDwzfDQpPj4+MCk6ZShcInR5cGVzWyVpXS5lbmNvZGUoJXMsdy51aW50MzIoJWkpLmZvcmsoKSkubGRlbGltKClcIixyLG8sKHQuaWQ8PDN8Mik+Pj4wKX19LDEzNzY6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1zO3ZhciBvPXIoNTM5Mik7KChzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9cykuY2xhc3NOYW1lPVwiRW51bVwiO3ZhciBpPXIoMjA4OCksbj1yKDMyKTtmdW5jdGlvbiBzKGUsdCxyLGksbixzKXtpZihvLmNhbGwodGhpcyxlLHIpLHQmJlwib2JqZWN0XCIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcihcInZhbHVlcyBtdXN0IGJlIGFuIG9iamVjdFwiKTtpZih0aGlzLnZhbHVlc0J5SWQ9e30sdGhpcy52YWx1ZXM9T2JqZWN0LmNyZWF0ZSh0aGlzLnZhbHVlc0J5SWQpLHRoaXMuY29tbWVudD1pLHRoaXMuY29tbWVudHM9bnx8e30sdGhpcy52YWx1ZXNPcHRpb25zPXMsdGhpcy5yZXNlcnZlZD12b2lkIDAsdClmb3IodmFyIGE9T2JqZWN0LmtleXModCksYz0wO2M8YS5sZW5ndGg7KytjKVwibnVtYmVyXCI9PXR5cGVvZiB0W2FbY11dJiYodGhpcy52YWx1ZXNCeUlkW3RoaXMudmFsdWVzW2FbY11dPXRbYVtjXV1dPWFbY10pfXMuZnJvbUpTT049ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgcyhlLHQudmFsdWVzLHQub3B0aW9ucyx0LmNvbW1lbnQsdC5jb21tZW50cyk7cmV0dXJuIHIucmVzZXJ2ZWQ9dC5yZXNlcnZlZCxyfSxzLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oZSl7dmFyIHQ9ISFlJiZCb29sZWFuKGUua2VlcENvbW1lbnRzKTtyZXR1cm4gbi50b09iamVjdChbXCJvcHRpb25zXCIsdGhpcy5vcHRpb25zLFwidmFsdWVzT3B0aW9uc1wiLHRoaXMudmFsdWVzT3B0aW9ucyxcInZhbHVlc1wiLHRoaXMudmFsdWVzLFwicmVzZXJ2ZWRcIix0aGlzLnJlc2VydmVkJiZ0aGlzLnJlc2VydmVkLmxlbmd0aD90aGlzLnJlc2VydmVkOnZvaWQgMCxcImNvbW1lbnRcIix0P3RoaXMuY29tbWVudDp2b2lkIDAsXCJjb21tZW50c1wiLHQ/dGhpcy5jb21tZW50czp2b2lkIDBdKX0scy5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUsdCxyLG8pe2lmKCFuLmlzU3RyaW5nKGUpKXRocm93IFR5cGVFcnJvcihcIm5hbWUgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZighbi5pc0ludGVnZXIodCkpdGhyb3cgVHlwZUVycm9yKFwiaWQgbXVzdCBiZSBhbiBpbnRlZ2VyXCIpO2lmKHZvaWQgMCE9PXRoaXMudmFsdWVzW2VdKXRocm93IEVycm9yKFwiZHVwbGljYXRlIG5hbWUgJ1wiK2UrXCInIGluIFwiK3RoaXMpO2lmKHRoaXMuaXNSZXNlcnZlZElkKHQpKXRocm93IEVycm9yKFwiaWQgXCIrdCtcIiBpcyByZXNlcnZlZCBpbiBcIit0aGlzKTtpZih0aGlzLmlzUmVzZXJ2ZWROYW1lKGUpKXRocm93IEVycm9yKFwibmFtZSAnXCIrZStcIicgaXMgcmVzZXJ2ZWQgaW4gXCIrdGhpcyk7aWYodm9pZCAwIT09dGhpcy52YWx1ZXNCeUlkW3RdKXtpZighdGhpcy5vcHRpb25zfHwhdGhpcy5vcHRpb25zLmFsbG93X2FsaWFzKXRocm93IEVycm9yKFwiZHVwbGljYXRlIGlkIFwiK3QrXCIgaW4gXCIrdGhpcyk7dGhpcy52YWx1ZXNbZV09dH1lbHNlIHRoaXMudmFsdWVzQnlJZFt0aGlzLnZhbHVlc1tlXT10XT1lO3JldHVybiBvJiYodm9pZCAwPT09dGhpcy52YWx1ZXNPcHRpb25zJiYodGhpcy52YWx1ZXNPcHRpb25zPXt9KSx0aGlzLnZhbHVlc09wdGlvbnNbZV09b3x8bnVsbCksdGhpcy5jb21tZW50c1tlXT1yfHxudWxsLHRoaXN9LHMucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihlKXtpZighbi5pc1N0cmluZyhlKSl0aHJvdyBUeXBlRXJyb3IoXCJuYW1lIG11c3QgYmUgYSBzdHJpbmdcIik7dmFyIHQ9dGhpcy52YWx1ZXNbZV07aWYobnVsbD09dCl0aHJvdyBFcnJvcihcIm5hbWUgJ1wiK2UrXCInIGRvZXMgbm90IGV4aXN0IGluIFwiK3RoaXMpO3JldHVybiBkZWxldGUgdGhpcy52YWx1ZXNCeUlkW3RdLGRlbGV0ZSB0aGlzLnZhbHVlc1tlXSxkZWxldGUgdGhpcy5jb21tZW50c1tlXSx0aGlzLnZhbHVlc09wdGlvbnMmJmRlbGV0ZSB0aGlzLnZhbHVlc09wdGlvbnNbZV0sdGhpc30scy5wcm90b3R5cGUuaXNSZXNlcnZlZElkPWZ1bmN0aW9uKGUpe3JldHVybiBpLmlzUmVzZXJ2ZWRJZCh0aGlzLnJlc2VydmVkLGUpfSxzLnByb3RvdHlwZS5pc1Jlc2VydmVkTmFtZT1mdW5jdGlvbihlKXtyZXR1cm4gaS5pc1Jlc2VydmVkTmFtZSh0aGlzLnJlc2VydmVkLGUpfX0sODM3NjooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPXU7dmFyIG89cig1MzkyKTsoKHUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj11KS5jbGFzc05hbWU9XCJGaWVsZFwiO3ZhciBpLG49cigxMzc2KSxzPXIoMTkwOCksYT1yKDMyKSxjPS9ecmVxdWlyZWR8b3B0aW9uYWx8cmVwZWF0ZWQkLztmdW5jdGlvbiB1KGUsdCxyLGksbix1LGwpe2lmKGEuaXNPYmplY3QoaSk/KGw9bix1PWksaT1uPXZvaWQgMCk6YS5pc09iamVjdChuKSYmKGw9dSx1PW4sbj12b2lkIDApLG8uY2FsbCh0aGlzLGUsdSksIWEuaXNJbnRlZ2VyKHQpfHx0PDApdGhyb3cgVHlwZUVycm9yKFwiaWQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyXCIpO2lmKCFhLmlzU3RyaW5nKHIpKXRocm93IFR5cGVFcnJvcihcInR5cGUgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZih2b2lkIDAhPT1pJiYhYy50ZXN0KGk9aS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkpKXRocm93IFR5cGVFcnJvcihcInJ1bGUgbXVzdCBiZSBhIHN0cmluZyBydWxlXCIpO2lmKHZvaWQgMCE9PW4mJiFhLmlzU3RyaW5nKG4pKXRocm93IFR5cGVFcnJvcihcImV4dGVuZCBtdXN0IGJlIGEgc3RyaW5nXCIpO1wicHJvdG8zX29wdGlvbmFsXCI9PT1pJiYoaT1cIm9wdGlvbmFsXCIpLHRoaXMucnVsZT1pJiZcIm9wdGlvbmFsXCIhPT1pP2k6dm9pZCAwLHRoaXMudHlwZT1yLHRoaXMuaWQ9dCx0aGlzLmV4dGVuZD1ufHx2b2lkIDAsdGhpcy5yZXF1aXJlZD1cInJlcXVpcmVkXCI9PT1pLHRoaXMub3B0aW9uYWw9IXRoaXMucmVxdWlyZWQsdGhpcy5yZXBlYXRlZD1cInJlcGVhdGVkXCI9PT1pLHRoaXMubWFwPSExLHRoaXMubWVzc2FnZT1udWxsLHRoaXMucGFydE9mPW51bGwsdGhpcy50eXBlRGVmYXVsdD1udWxsLHRoaXMuZGVmYXVsdFZhbHVlPW51bGwsdGhpcy5sb25nPSEhYS5Mb25nJiZ2b2lkIDAhPT1zLmxvbmdbcl0sdGhpcy5ieXRlcz1cImJ5dGVzXCI9PT1yLHRoaXMucmVzb2x2ZWRUeXBlPW51bGwsdGhpcy5leHRlbnNpb25GaWVsZD1udWxsLHRoaXMuZGVjbGFyaW5nRmllbGQ9bnVsbCx0aGlzLl9wYWNrZWQ9bnVsbCx0aGlzLmNvbW1lbnQ9bH11LmZyb21KU09OPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyB1KGUsdC5pZCx0LnR5cGUsdC5ydWxlLHQuZXh0ZW5kLHQub3B0aW9ucyx0LmNvbW1lbnQpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodS5wcm90b3R5cGUsXCJwYWNrZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLl9wYWNrZWQmJih0aGlzLl9wYWNrZWQ9ITEhPT10aGlzLmdldE9wdGlvbihcInBhY2tlZFwiKSksdGhpcy5fcGFja2VkfX0pLHUucHJvdG90eXBlLnNldE9wdGlvbj1mdW5jdGlvbihlLHQscil7cmV0dXJuXCJwYWNrZWRcIj09PWUmJih0aGlzLl9wYWNrZWQ9bnVsbCksby5wcm90b3R5cGUuc2V0T3B0aW9uLmNhbGwodGhpcyxlLHQscil9LHUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbihlKXt2YXIgdD0hIWUmJkJvb2xlYW4oZS5rZWVwQ29tbWVudHMpO3JldHVybiBhLnRvT2JqZWN0KFtcInJ1bGVcIixcIm9wdGlvbmFsXCIhPT10aGlzLnJ1bGUmJnRoaXMucnVsZXx8dm9pZCAwLFwidHlwZVwiLHRoaXMudHlwZSxcImlkXCIsdGhpcy5pZCxcImV4dGVuZFwiLHRoaXMuZXh0ZW5kLFwib3B0aW9uc1wiLHRoaXMub3B0aW9ucyxcImNvbW1lbnRcIix0P3RoaXMuY29tbWVudDp2b2lkIDBdKX0sdS5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbigpe2lmKHRoaXMucmVzb2x2ZWQpcmV0dXJuIHRoaXM7aWYodm9pZCAwPT09KHRoaXMudHlwZURlZmF1bHQ9cy5kZWZhdWx0c1t0aGlzLnR5cGVdKT8odGhpcy5yZXNvbHZlZFR5cGU9KHRoaXMuZGVjbGFyaW5nRmllbGQ/dGhpcy5kZWNsYXJpbmdGaWVsZC5wYXJlbnQ6dGhpcy5wYXJlbnQpLmxvb2t1cFR5cGVPckVudW0odGhpcy50eXBlKSx0aGlzLnJlc29sdmVkVHlwZSBpbnN0YW5jZW9mIGk/dGhpcy50eXBlRGVmYXVsdD1udWxsOnRoaXMudHlwZURlZmF1bHQ9dGhpcy5yZXNvbHZlZFR5cGUudmFsdWVzW09iamVjdC5rZXlzKHRoaXMucmVzb2x2ZWRUeXBlLnZhbHVlcylbMF1dKTp0aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5wcm90bzNfb3B0aW9uYWwmJih0aGlzLnR5cGVEZWZhdWx0PW51bGwpLHRoaXMub3B0aW9ucyYmbnVsbCE9dGhpcy5vcHRpb25zLmRlZmF1bHQmJih0aGlzLnR5cGVEZWZhdWx0PXRoaXMub3B0aW9ucy5kZWZhdWx0LHRoaXMucmVzb2x2ZWRUeXBlIGluc3RhbmNlb2YgbiYmXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMudHlwZURlZmF1bHQmJih0aGlzLnR5cGVEZWZhdWx0PXRoaXMucmVzb2x2ZWRUeXBlLnZhbHVlc1t0aGlzLnR5cGVEZWZhdWx0XSkpLHRoaXMub3B0aW9ucyYmKCEwIT09dGhpcy5vcHRpb25zLnBhY2tlZCYmKHZvaWQgMD09PXRoaXMub3B0aW9ucy5wYWNrZWR8fCF0aGlzLnJlc29sdmVkVHlwZXx8dGhpcy5yZXNvbHZlZFR5cGUgaW5zdGFuY2VvZiBuKXx8ZGVsZXRlIHRoaXMub3B0aW9ucy5wYWNrZWQsT2JqZWN0LmtleXModGhpcy5vcHRpb25zKS5sZW5ndGh8fCh0aGlzLm9wdGlvbnM9dm9pZCAwKSksdGhpcy5sb25nKXRoaXMudHlwZURlZmF1bHQ9YS5Mb25nLmZyb21OdW1iZXIodGhpcy50eXBlRGVmYXVsdCxcInVcIj09PXRoaXMudHlwZS5jaGFyQXQoMCkpLE9iamVjdC5mcmVlemUmJk9iamVjdC5mcmVlemUodGhpcy50eXBlRGVmYXVsdCk7ZWxzZSBpZih0aGlzLmJ5dGVzJiZcInN0cmluZ1wiPT10eXBlb2YgdGhpcy50eXBlRGVmYXVsdCl7dmFyIGU7YS5iYXNlNjQudGVzdCh0aGlzLnR5cGVEZWZhdWx0KT9hLmJhc2U2NC5kZWNvZGUodGhpcy50eXBlRGVmYXVsdCxlPWEubmV3QnVmZmVyKGEuYmFzZTY0Lmxlbmd0aCh0aGlzLnR5cGVEZWZhdWx0KSksMCk6YS51dGY4LndyaXRlKHRoaXMudHlwZURlZmF1bHQsZT1hLm5ld0J1ZmZlcihhLnV0ZjgubGVuZ3RoKHRoaXMudHlwZURlZmF1bHQpKSwwKSx0aGlzLnR5cGVEZWZhdWx0PWV9cmV0dXJuIHRoaXMubWFwP3RoaXMuZGVmYXVsdFZhbHVlPWEuZW1wdHlPYmplY3Q6dGhpcy5yZXBlYXRlZD90aGlzLmRlZmF1bHRWYWx1ZT1hLmVtcHR5QXJyYXk6dGhpcy5kZWZhdWx0VmFsdWU9dGhpcy50eXBlRGVmYXVsdCx0aGlzLnBhcmVudCBpbnN0YW5jZW9mIGkmJih0aGlzLnBhcmVudC5jdG9yLnByb3RvdHlwZVt0aGlzLm5hbWVdPXRoaXMuZGVmYXVsdFZhbHVlKSxvLnByb3RvdHlwZS5yZXNvbHZlLmNhbGwodGhpcyl9LHUuZD1mdW5jdGlvbihlLHQscixvKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q9YS5kZWNvcmF0ZVR5cGUodCkubmFtZTp0JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmKHQ9YS5kZWNvcmF0ZUVudW0odCkubmFtZSksZnVuY3Rpb24oaSxuKXthLmRlY29yYXRlVHlwZShpLmNvbnN0cnVjdG9yKS5hZGQobmV3IHUobixlLHQscix7ZGVmYXVsdDpvfSkpfX0sdS5fY29uZmlndXJlPWZ1bmN0aW9uKGUpe2k9ZX19LDQzOTI6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO3ZhciBvPWUuZXhwb3J0cz1yKDgwNDApO28uYnVpbGQ9XCJsaWdodFwiLG8ubG9hZD1mdW5jdGlvbihlLHQscil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD8ocj10LHQ9bmV3IG8uUm9vdCk6dHx8KHQ9bmV3IG8uUm9vdCksdC5sb2FkKGUscil9LG8ubG9hZFN5bmM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8KHQ9bmV3IG8uUm9vdCksdC5sb2FkU3luYyhlKX0sby5lbmNvZGVyPXIoNDc1Miksby5kZWNvZGVyPXIoOTcwOCksby52ZXJpZmllcj1yKDE2ODgpLG8uY29udmVydGVyPXIoMzA1Niksby5SZWZsZWN0aW9uT2JqZWN0PXIoNTM5Miksby5OYW1lc3BhY2U9cigyMDg4KSxvLlJvb3Q9cig5NjgpLG8uRW51bT1yKDEzNzYpLG8uVHlwZT1yKDkyODgpLG8uRmllbGQ9cig4Mzc2KSxvLk9uZU9mPXIoODIzMiksby5NYXBGaWVsZD1yKDE4OCksby5TZXJ2aWNlPXIoODYxNiksby5NZXRob2Q9cig0MjA4KSxvLk1lc3NhZ2U9cig4NzAwKSxvLndyYXBwZXJzPXIoMTUwOCksby50eXBlcz1yKDE5MDgpLG8udXRpbD1yKDMyKSxvLlJlZmxlY3Rpb25PYmplY3QuX2NvbmZpZ3VyZShvLlJvb3QpLG8uTmFtZXNwYWNlLl9jb25maWd1cmUoby5UeXBlLG8uU2VydmljZSxvLkVudW0pLG8uUm9vdC5fY29uZmlndXJlKG8uVHlwZSksby5GaWVsZC5fY29uZmlndXJlKG8uVHlwZSl9LDgwNDA6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO3ZhciBvPXQ7ZnVuY3Rpb24gaSgpe28udXRpbC5fY29uZmlndXJlKCksby5Xcml0ZXIuX2NvbmZpZ3VyZShvLkJ1ZmZlcldyaXRlciksby5SZWFkZXIuX2NvbmZpZ3VyZShvLkJ1ZmZlclJlYWRlcil9by5idWlsZD1cIm1pbmltYWxcIixvLldyaXRlcj1yKDI2NjQpLG8uQnVmZmVyV3JpdGVyPXIoODEzNSksby5SZWFkZXI9cig0MDY0KSxvLkJ1ZmZlclJlYWRlcj1yKDYzODgpLG8udXRpbD1yKDk3MTIpLG8ucnBjPXIoMTE2NCksby5yb290cz1yKDY2OTYpLG8uY29uZmlndXJlPWksaSgpfSwxODg6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1zO3ZhciBvPXIoODM3Nik7KChzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9cykuY2xhc3NOYW1lPVwiTWFwRmllbGRcIjt2YXIgaT1yKDE5MDgpLG49cigzMik7ZnVuY3Rpb24gcyhlLHQscixpLHMsYSl7aWYoby5jYWxsKHRoaXMsZSx0LGksdm9pZCAwLHZvaWQgMCxzLGEpLCFuLmlzU3RyaW5nKHIpKXRocm93IFR5cGVFcnJvcihcImtleVR5cGUgbXVzdCBiZSBhIHN0cmluZ1wiKTt0aGlzLmtleVR5cGU9cix0aGlzLnJlc29sdmVkS2V5VHlwZT1udWxsLHRoaXMubWFwPSEwfXMuZnJvbUpTT049ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IHMoZSx0LmlkLHQua2V5VHlwZSx0LnR5cGUsdC5vcHRpb25zLHQuY29tbWVudCl9LHMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbihlKXt2YXIgdD0hIWUmJkJvb2xlYW4oZS5rZWVwQ29tbWVudHMpO3JldHVybiBuLnRvT2JqZWN0KFtcImtleVR5cGVcIix0aGlzLmtleVR5cGUsXCJ0eXBlXCIsdGhpcy50eXBlLFwiaWRcIix0aGlzLmlkLFwiZXh0ZW5kXCIsdGhpcy5leHRlbmQsXCJvcHRpb25zXCIsdGhpcy5vcHRpb25zLFwiY29tbWVudFwiLHQ/dGhpcy5jb21tZW50OnZvaWQgMF0pfSxzLnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKCl7aWYodGhpcy5yZXNvbHZlZClyZXR1cm4gdGhpcztpZih2b2lkIDA9PT1pLm1hcEtleVt0aGlzLmtleVR5cGVdKXRocm93IEVycm9yKFwiaW52YWxpZCBrZXkgdHlwZTogXCIrdGhpcy5rZXlUeXBlKTtyZXR1cm4gby5wcm90b3R5cGUucmVzb2x2ZS5jYWxsKHRoaXMpfSxzLmQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHI/cj1uLmRlY29yYXRlVHlwZShyKS5uYW1lOnImJlwib2JqZWN0XCI9PXR5cGVvZiByJiYocj1uLmRlY29yYXRlRW51bShyKS5uYW1lKSxmdW5jdGlvbihvLGkpe24uZGVjb3JhdGVUeXBlKG8uY29uc3RydWN0b3IpLmFkZChuZXcgcyhpLGUsdCxyKSl9fX0sODcwMDooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWk7dmFyIG89cig5NzEyKTtmdW5jdGlvbiBpKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLHI9MDtyPHQubGVuZ3RoOysrcil0aGlzW3Rbcl1dPWVbdFtyXV19aS5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuJHR5cGUuY3JlYXRlKGUpfSxpLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLiR0eXBlLmVuY29kZShlLHQpfSxpLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLiR0eXBlLmVuY29kZURlbGltaXRlZChlLHQpfSxpLmRlY29kZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy4kdHlwZS5kZWNvZGUoZSl9LGkuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLiR0eXBlLmRlY29kZURlbGltaXRlZChlKX0saS52ZXJpZnk9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuJHR5cGUudmVyaWZ5KGUpfSxpLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuJHR5cGUuZnJvbU9iamVjdChlKX0saS50b09iamVjdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLiR0eXBlLnRvT2JqZWN0KGUsdCl9LGkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiR0eXBlLnRvT2JqZWN0KHRoaXMsby50b0pTT05PcHRpb25zKX19LDQyMDg6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1uO3ZhciBvPXIoNTM5Mik7KChuLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9bikuY2xhc3NOYW1lPVwiTWV0aG9kXCI7dmFyIGk9cigzMik7ZnVuY3Rpb24gbihlLHQscixuLHMsYSxjLHUsbCl7aWYoaS5pc09iamVjdChzKT8oYz1zLHM9YT12b2lkIDApOmkuaXNPYmplY3QoYSkmJihjPWEsYT12b2lkIDApLHZvaWQgMCE9PXQmJiFpLmlzU3RyaW5nKHQpKXRocm93IFR5cGVFcnJvcihcInR5cGUgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZighaS5pc1N0cmluZyhyKSl0aHJvdyBUeXBlRXJyb3IoXCJyZXF1ZXN0VHlwZSBtdXN0IGJlIGEgc3RyaW5nXCIpO2lmKCFpLmlzU3RyaW5nKG4pKXRocm93IFR5cGVFcnJvcihcInJlc3BvbnNlVHlwZSBtdXN0IGJlIGEgc3RyaW5nXCIpO28uY2FsbCh0aGlzLGUsYyksdGhpcy50eXBlPXR8fFwicnBjXCIsdGhpcy5yZXF1ZXN0VHlwZT1yLHRoaXMucmVxdWVzdFN0cmVhbT0hIXN8fHZvaWQgMCx0aGlzLnJlc3BvbnNlVHlwZT1uLHRoaXMucmVzcG9uc2VTdHJlYW09ISFhfHx2b2lkIDAsdGhpcy5yZXNvbHZlZFJlcXVlc3RUeXBlPW51bGwsdGhpcy5yZXNvbHZlZFJlc3BvbnNlVHlwZT1udWxsLHRoaXMuY29tbWVudD11LHRoaXMucGFyc2VkT3B0aW9ucz1sfW4uZnJvbUpTT049ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IG4oZSx0LnR5cGUsdC5yZXF1ZXN0VHlwZSx0LnJlc3BvbnNlVHlwZSx0LnJlcXVlc3RTdHJlYW0sdC5yZXNwb25zZVN0cmVhbSx0Lm9wdGlvbnMsdC5jb21tZW50LHQucGFyc2VkT3B0aW9ucyl9LG4ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbihlKXt2YXIgdD0hIWUmJkJvb2xlYW4oZS5rZWVwQ29tbWVudHMpO3JldHVybiBpLnRvT2JqZWN0KFtcInR5cGVcIixcInJwY1wiIT09dGhpcy50eXBlJiZ0aGlzLnR5cGV8fHZvaWQgMCxcInJlcXVlc3RUeXBlXCIsdGhpcy5yZXF1ZXN0VHlwZSxcInJlcXVlc3RTdHJlYW1cIix0aGlzLnJlcXVlc3RTdHJlYW0sXCJyZXNwb25zZVR5cGVcIix0aGlzLnJlc3BvbnNlVHlwZSxcInJlc3BvbnNlU3RyZWFtXCIsdGhpcy5yZXNwb25zZVN0cmVhbSxcIm9wdGlvbnNcIix0aGlzLm9wdGlvbnMsXCJjb21tZW50XCIsdD90aGlzLmNvbW1lbnQ6dm9pZCAwLFwicGFyc2VkT3B0aW9uc1wiLHRoaXMucGFyc2VkT3B0aW9uc10pfSxuLnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzb2x2ZWQ/dGhpczoodGhpcy5yZXNvbHZlZFJlcXVlc3RUeXBlPXRoaXMucGFyZW50Lmxvb2t1cFR5cGUodGhpcy5yZXF1ZXN0VHlwZSksdGhpcy5yZXNvbHZlZFJlc3BvbnNlVHlwZT10aGlzLnBhcmVudC5sb29rdXBUeXBlKHRoaXMucmVzcG9uc2VUeXBlKSxvLnByb3RvdHlwZS5yZXNvbHZlLmNhbGwodGhpcykpfX0sMjA4ODooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWg7dmFyIG89cig1MzkyKTsoKGgucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1oKS5jbGFzc05hbWU9XCJOYW1lc3BhY2VcIjt2YXIgaSxuLHMsYT1yKDgzNzYpLGM9cigzMiksdT1yKDgyMzIpO2Z1bmN0aW9uIGwoZSx0KXtpZihlJiZlLmxlbmd0aCl7Zm9yKHZhciByPXt9LG89MDtvPGUubGVuZ3RoOysrbylyW2Vbb10ubmFtZV09ZVtvXS50b0pTT04odCk7cmV0dXJuIHJ9fWZ1bmN0aW9uIGgoZSx0KXtvLmNhbGwodGhpcyxlLHQpLHRoaXMubmVzdGVkPXZvaWQgMCx0aGlzLl9uZXN0ZWRBcnJheT1udWxsfWZ1bmN0aW9uIGQoZSl7cmV0dXJuIGUuX25lc3RlZEFycmF5PW51bGwsZX1oLmZyb21KU09OPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBoKGUsdC5vcHRpb25zKS5hZGRKU09OKHQubmVzdGVkKX0saC5hcnJheVRvSlNPTj1sLGguaXNSZXNlcnZlZElkPWZ1bmN0aW9uKGUsdCl7aWYoZSlmb3IodmFyIHI9MDtyPGUubGVuZ3RoOysrcilpZihcInN0cmluZ1wiIT10eXBlb2YgZVtyXSYmZVtyXVswXTw9dCYmZVtyXVsxXT50KXJldHVybiEwO3JldHVybiExfSxoLmlzUmVzZXJ2ZWROYW1lPWZ1bmN0aW9uKGUsdCl7aWYoZSlmb3IodmFyIHI9MDtyPGUubGVuZ3RoOysrcilpZihlW3JdPT09dClyZXR1cm4hMDtyZXR1cm4hMX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGgucHJvdG90eXBlLFwibmVzdGVkQXJyYXlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25lc3RlZEFycmF5fHwodGhpcy5fbmVzdGVkQXJyYXk9Yy50b0FycmF5KHRoaXMubmVzdGVkKSl9fSksaC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKGUpe3JldHVybiBjLnRvT2JqZWN0KFtcIm9wdGlvbnNcIix0aGlzLm9wdGlvbnMsXCJuZXN0ZWRcIixsKHRoaXMubmVzdGVkQXJyYXksZSldKX0saC5wcm90b3R5cGUuYWRkSlNPTj1mdW5jdGlvbihlKXtpZihlKWZvcih2YXIgdCxyPU9iamVjdC5rZXlzKGUpLG89MDtvPHIubGVuZ3RoOysrbyl0PWVbcltvXV0sdGhpcy5hZGQoKHZvaWQgMCE9PXQuZmllbGRzP2kuZnJvbUpTT046dm9pZCAwIT09dC52YWx1ZXM/cy5mcm9tSlNPTjp2b2lkIDAhPT10Lm1ldGhvZHM/bi5mcm9tSlNPTjp2b2lkIDAhPT10LmlkP2EuZnJvbUpTT046aC5mcm9tSlNPTikocltvXSx0KSk7cmV0dXJuIHRoaXN9LGgucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5uZXN0ZWQmJnRoaXMubmVzdGVkW2VdfHxudWxsfSxoLnByb3RvdHlwZS5nZXRFbnVtPWZ1bmN0aW9uKGUpe2lmKHRoaXMubmVzdGVkJiZ0aGlzLm5lc3RlZFtlXWluc3RhbmNlb2YgcylyZXR1cm4gdGhpcy5uZXN0ZWRbZV0udmFsdWVzO3Rocm93IEVycm9yKFwibm8gc3VjaCBlbnVtOiBcIitlKX0saC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe2lmKCEoZSBpbnN0YW5jZW9mIGEmJnZvaWQgMCE9PWUuZXh0ZW5kfHxlIGluc3RhbmNlb2YgaXx8ZSBpbnN0YW5jZW9mIHV8fGUgaW5zdGFuY2VvZiBzfHxlIGluc3RhbmNlb2Ygbnx8ZSBpbnN0YW5jZW9mIGgpKXRocm93IFR5cGVFcnJvcihcIm9iamVjdCBtdXN0IGJlIGEgdmFsaWQgbmVzdGVkIG9iamVjdFwiKTtpZih0aGlzLm5lc3RlZCl7dmFyIHQ9dGhpcy5nZXQoZS5uYW1lKTtpZih0KXtpZighKHQgaW5zdGFuY2VvZiBoJiZlIGluc3RhbmNlb2YgaCl8fHQgaW5zdGFuY2VvZiBpfHx0IGluc3RhbmNlb2Ygbil0aHJvdyBFcnJvcihcImR1cGxpY2F0ZSBuYW1lICdcIitlLm5hbWUrXCInIGluIFwiK3RoaXMpO2Zvcih2YXIgcj10Lm5lc3RlZEFycmF5LG89MDtvPHIubGVuZ3RoOysrbyllLmFkZChyW29dKTt0aGlzLnJlbW92ZSh0KSx0aGlzLm5lc3RlZHx8KHRoaXMubmVzdGVkPXt9KSxlLnNldE9wdGlvbnModC5vcHRpb25zLCEwKX19ZWxzZSB0aGlzLm5lc3RlZD17fTtyZXR1cm4gdGhpcy5uZXN0ZWRbZS5uYW1lXT1lLGUub25BZGQodGhpcyksZCh0aGlzKX0saC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe2lmKCEoZSBpbnN0YW5jZW9mIG8pKXRocm93IFR5cGVFcnJvcihcIm9iamVjdCBtdXN0IGJlIGEgUmVmbGVjdGlvbk9iamVjdFwiKTtpZihlLnBhcmVudCE9PXRoaXMpdGhyb3cgRXJyb3IoZStcIiBpcyBub3QgYSBtZW1iZXIgb2YgXCIrdGhpcyk7cmV0dXJuIGRlbGV0ZSB0aGlzLm5lc3RlZFtlLm5hbWVdLE9iamVjdC5rZXlzKHRoaXMubmVzdGVkKS5sZW5ndGh8fCh0aGlzLm5lc3RlZD12b2lkIDApLGUub25SZW1vdmUodGhpcyksZCh0aGlzKX0saC5wcm90b3R5cGUuZGVmaW5lPWZ1bmN0aW9uKGUsdCl7aWYoYy5pc1N0cmluZyhlKSllPWUuc3BsaXQoXCIuXCIpO2Vsc2UgaWYoIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgVHlwZUVycm9yKFwiaWxsZWdhbCBwYXRoXCIpO2lmKGUmJmUubGVuZ3RoJiZcIlwiPT09ZVswXSl0aHJvdyBFcnJvcihcInBhdGggbXVzdCBiZSByZWxhdGl2ZVwiKTtmb3IodmFyIHI9dGhpcztlLmxlbmd0aD4wOyl7dmFyIG89ZS5zaGlmdCgpO2lmKHIubmVzdGVkJiZyLm5lc3RlZFtvXSl7aWYoISgocj1yLm5lc3RlZFtvXSlpbnN0YW5jZW9mIGgpKXRocm93IEVycm9yKFwicGF0aCBjb25mbGljdHMgd2l0aCBub24tbmFtZXNwYWNlIG9iamVjdHNcIil9ZWxzZSByLmFkZChyPW5ldyBoKG8pKX1yZXR1cm4gdCYmci5hZGRKU09OKHQpLHJ9LGgucHJvdG90eXBlLnJlc29sdmVBbGw9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5uZXN0ZWRBcnJheSx0PTA7dDxlLmxlbmd0aDspZVt0XWluc3RhbmNlb2YgaD9lW3QrK10ucmVzb2x2ZUFsbCgpOmVbdCsrXS5yZXNvbHZlKCk7cmV0dXJuIHRoaXMucmVzb2x2ZSgpfSxoLnByb3RvdHlwZS5sb29rdXA9ZnVuY3Rpb24oZSx0LHIpe2lmKFwiYm9vbGVhblwiPT10eXBlb2YgdD8ocj10LHQ9dm9pZCAwKTp0JiYhQXJyYXkuaXNBcnJheSh0KSYmKHQ9W3RdKSxjLmlzU3RyaW5nKGUpJiZlLmxlbmd0aCl7aWYoXCIuXCI9PT1lKXJldHVybiB0aGlzLnJvb3Q7ZT1lLnNwbGl0KFwiLlwiKX1lbHNlIGlmKCFlLmxlbmd0aClyZXR1cm4gdGhpcztpZihcIlwiPT09ZVswXSlyZXR1cm4gdGhpcy5yb290Lmxvb2t1cChlLnNsaWNlKDEpLHQpO3ZhciBvPXRoaXMuZ2V0KGVbMF0pO2lmKG8pe2lmKDE9PT1lLmxlbmd0aCl7aWYoIXR8fHQuaW5kZXhPZihvLmNvbnN0cnVjdG9yKT4tMSlyZXR1cm4gb31lbHNlIGlmKG8gaW5zdGFuY2VvZiBoJiYobz1vLmxvb2t1cChlLnNsaWNlKDEpLHQsITApKSlyZXR1cm4gb31lbHNlIGZvcih2YXIgaT0wO2k8dGhpcy5uZXN0ZWRBcnJheS5sZW5ndGg7KytpKWlmKHRoaXMuX25lc3RlZEFycmF5W2ldaW5zdGFuY2VvZiBoJiYobz10aGlzLl9uZXN0ZWRBcnJheVtpXS5sb29rdXAoZSx0LCEwKSkpcmV0dXJuIG87cmV0dXJuIG51bGw9PT10aGlzLnBhcmVudHx8cj9udWxsOnRoaXMucGFyZW50Lmxvb2t1cChlLHQpfSxoLnByb3RvdHlwZS5sb29rdXBUeXBlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubG9va3VwKGUsW2ldKTtpZighdCl0aHJvdyBFcnJvcihcIm5vIHN1Y2ggdHlwZTogXCIrZSk7cmV0dXJuIHR9LGgucHJvdG90eXBlLmxvb2t1cEVudW09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sb29rdXAoZSxbc10pO2lmKCF0KXRocm93IEVycm9yKFwibm8gc3VjaCBFbnVtICdcIitlK1wiJyBpbiBcIit0aGlzKTtyZXR1cm4gdH0saC5wcm90b3R5cGUubG9va3VwVHlwZU9yRW51bT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmxvb2t1cChlLFtpLHNdKTtpZighdCl0aHJvdyBFcnJvcihcIm5vIHN1Y2ggVHlwZSBvciBFbnVtICdcIitlK1wiJyBpbiBcIit0aGlzKTtyZXR1cm4gdH0saC5wcm90b3R5cGUubG9va3VwU2VydmljZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmxvb2t1cChlLFtuXSk7aWYoIXQpdGhyb3cgRXJyb3IoXCJubyBzdWNoIFNlcnZpY2UgJ1wiK2UrXCInIGluIFwiK3RoaXMpO3JldHVybiB0fSxoLl9jb25maWd1cmU9ZnVuY3Rpb24oZSx0LHIpe2k9ZSxuPXQscz1yfX0sNTM5MjooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPW4sbi5jbGFzc05hbWU9XCJSZWZsZWN0aW9uT2JqZWN0XCI7dmFyIG8saT1yKDMyKTtmdW5jdGlvbiBuKGUsdCl7aWYoIWkuaXNTdHJpbmcoZSkpdGhyb3cgVHlwZUVycm9yKFwibmFtZSBtdXN0IGJlIGEgc3RyaW5nXCIpO2lmKHQmJiFpLmlzT2JqZWN0KHQpKXRocm93IFR5cGVFcnJvcihcIm9wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3RcIik7dGhpcy5vcHRpb25zPXQsdGhpcy5wYXJzZWRPcHRpb25zPW51bGwsdGhpcy5uYW1lPWUsdGhpcy5wYXJlbnQ9bnVsbCx0aGlzLnJlc29sdmVkPSExLHRoaXMuY29tbWVudD1udWxsLHRoaXMuZmlsZW5hbWU9bnVsbH1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLnByb3RvdHlwZSx7cm9vdDp7Z2V0OmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXM7bnVsbCE9PWUucGFyZW50OyllPWUucGFyZW50O3JldHVybiBlfX0sZnVsbE5hbWU6e2dldDpmdW5jdGlvbigpe2Zvcih2YXIgZT1bdGhpcy5uYW1lXSx0PXRoaXMucGFyZW50O3Q7KWUudW5zaGlmdCh0Lm5hbWUpLHQ9dC5wYXJlbnQ7cmV0dXJuIGUuam9pbihcIi5cIil9fX0pLG4ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3Rocm93IEVycm9yKCl9LG4ucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKGUpe3RoaXMucGFyZW50JiZ0aGlzLnBhcmVudCE9PWUmJnRoaXMucGFyZW50LnJlbW92ZSh0aGlzKSx0aGlzLnBhcmVudD1lLHRoaXMucmVzb2x2ZWQ9ITE7dmFyIHQ9ZS5yb290O3QgaW5zdGFuY2VvZiBvJiZ0Ll9oYW5kbGVBZGQodGhpcyl9LG4ucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKGUpe3ZhciB0PWUucm9vdDt0IGluc3RhbmNlb2YgbyYmdC5faGFuZGxlUmVtb3ZlKHRoaXMpLHRoaXMucGFyZW50PW51bGwsdGhpcy5yZXNvbHZlZD0hMX0sbi5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc29sdmVkfHx0aGlzLnJvb3QgaW5zdGFuY2VvZiBvJiYodGhpcy5yZXNvbHZlZD0hMCksdGhpc30sbi5wcm90b3R5cGUuZ2V0T3B0aW9uPWZ1bmN0aW9uKGUpe2lmKHRoaXMub3B0aW9ucylyZXR1cm4gdGhpcy5vcHRpb25zW2VdfSxuLnByb3RvdHlwZS5zZXRPcHRpb249ZnVuY3Rpb24oZSx0LHIpe3JldHVybiByJiZ0aGlzLm9wdGlvbnMmJnZvaWQgMCE9PXRoaXMub3B0aW9uc1tlXXx8KCh0aGlzLm9wdGlvbnN8fCh0aGlzLm9wdGlvbnM9e30pKVtlXT10KSx0aGlzfSxuLnByb3RvdHlwZS5zZXRQYXJzZWRPcHRpb249ZnVuY3Rpb24oZSx0LHIpe3RoaXMucGFyc2VkT3B0aW9uc3x8KHRoaXMucGFyc2VkT3B0aW9ucz1bXSk7dmFyIG89dGhpcy5wYXJzZWRPcHRpb25zO2lmKHIpe3ZhciBuPW8uZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfSkpO2lmKG4pe3ZhciBzPW5bZV07aS5zZXRQcm9wZXJ0eShzLHIsdCl9ZWxzZShuPXt9KVtlXT1pLnNldFByb3BlcnR5KHt9LHIsdCksby5wdXNoKG4pfWVsc2V7dmFyIGE9e307YVtlXT10LG8ucHVzaChhKX1yZXR1cm4gdGhpc30sbi5wcm90b3R5cGUuc2V0T3B0aW9ucz1mdW5jdGlvbihlLHQpe2lmKGUpZm9yKHZhciByPU9iamVjdC5rZXlzKGUpLG89MDtvPHIubGVuZ3RoOysrbyl0aGlzLnNldE9wdGlvbihyW29dLGVbcltvXV0sdCk7cmV0dXJuIHRoaXN9LG4ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb25zdHJ1Y3Rvci5jbGFzc05hbWUsdD10aGlzLmZ1bGxOYW1lO3JldHVybiB0Lmxlbmd0aD9lK1wiIFwiK3Q6ZX0sbi5fY29uZmlndXJlPWZ1bmN0aW9uKGUpe289ZX19LDgyMzI6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1zO3ZhciBvPXIoNTM5Mik7KChzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9cykuY2xhc3NOYW1lPVwiT25lT2ZcIjt2YXIgaT1yKDgzNzYpLG49cigzMik7ZnVuY3Rpb24gcyhlLHQscixpKXtpZihBcnJheS5pc0FycmF5KHQpfHwocj10LHQ9dm9pZCAwKSxvLmNhbGwodGhpcyxlLHIpLHZvaWQgMCE9PXQmJiFBcnJheS5pc0FycmF5KHQpKXRocm93IFR5cGVFcnJvcihcImZpZWxkTmFtZXMgbXVzdCBiZSBhbiBBcnJheVwiKTt0aGlzLm9uZW9mPXR8fFtdLHRoaXMuZmllbGRzQXJyYXk9W10sdGhpcy5jb21tZW50PWl9ZnVuY3Rpb24gYShlKXtpZihlLnBhcmVudClmb3IodmFyIHQ9MDt0PGUuZmllbGRzQXJyYXkubGVuZ3RoOysrdCllLmZpZWxkc0FycmF5W3RdLnBhcmVudHx8ZS5wYXJlbnQuYWRkKGUuZmllbGRzQXJyYXlbdF0pfXMuZnJvbUpTT049ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IHMoZSx0Lm9uZW9mLHQub3B0aW9ucyx0LmNvbW1lbnQpfSxzLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oZSl7dmFyIHQ9ISFlJiZCb29sZWFuKGUua2VlcENvbW1lbnRzKTtyZXR1cm4gbi50b09iamVjdChbXCJvcHRpb25zXCIsdGhpcy5vcHRpb25zLFwib25lb2ZcIix0aGlzLm9uZW9mLFwiY29tbWVudFwiLHQ/dGhpcy5jb21tZW50OnZvaWQgMF0pfSxzLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7aWYoIShlIGluc3RhbmNlb2YgaSkpdGhyb3cgVHlwZUVycm9yKFwiZmllbGQgbXVzdCBiZSBhIEZpZWxkXCIpO3JldHVybiBlLnBhcmVudCYmZS5wYXJlbnQhPT10aGlzLnBhcmVudCYmZS5wYXJlbnQucmVtb3ZlKGUpLHRoaXMub25lb2YucHVzaChlLm5hbWUpLHRoaXMuZmllbGRzQXJyYXkucHVzaChlKSxlLnBhcnRPZj10aGlzLGEodGhpcyksdGhpc30scy5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe2lmKCEoZSBpbnN0YW5jZW9mIGkpKXRocm93IFR5cGVFcnJvcihcImZpZWxkIG11c3QgYmUgYSBGaWVsZFwiKTt2YXIgdD10aGlzLmZpZWxkc0FycmF5LmluZGV4T2YoZSk7aWYodDwwKXRocm93IEVycm9yKGUrXCIgaXMgbm90IGEgbWVtYmVyIG9mIFwiK3RoaXMpO3JldHVybiB0aGlzLmZpZWxkc0FycmF5LnNwbGljZSh0LDEpLCh0PXRoaXMub25lb2YuaW5kZXhPZihlLm5hbWUpKT4tMSYmdGhpcy5vbmVvZi5zcGxpY2UodCwxKSxlLnBhcnRPZj1udWxsLHRoaXN9LHMucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKGUpe28ucHJvdG90eXBlLm9uQWRkLmNhbGwodGhpcyxlKTtmb3IodmFyIHQ9MDt0PHRoaXMub25lb2YubGVuZ3RoOysrdCl7dmFyIHI9ZS5nZXQodGhpcy5vbmVvZlt0XSk7ciYmIXIucGFydE9mJiYoci5wYXJ0T2Y9dGhpcyx0aGlzLmZpZWxkc0FycmF5LnB1c2gocikpfWEodGhpcyl9LHMucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPTA7cjx0aGlzLmZpZWxkc0FycmF5Lmxlbmd0aDsrK3IpKHQ9dGhpcy5maWVsZHNBcnJheVtyXSkucGFyZW50JiZ0LnBhcmVudC5yZW1vdmUodCk7by5wcm90b3R5cGUub25SZW1vdmUuY2FsbCh0aGlzLGUpfSxzLmQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7KWVbdF09YXJndW1lbnRzW3QrK107cmV0dXJuIGZ1bmN0aW9uKHQscil7bi5kZWNvcmF0ZVR5cGUodC5jb25zdHJ1Y3RvcikuYWRkKG5ldyBzKHIsZSkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIse2dldDpuLm9uZU9mR2V0dGVyKGUpLHNldDpuLm9uZU9mU2V0dGVyKGUpfSl9fX0sNDA2NDooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWM7dmFyIG8saT1yKDk3MTIpLG49aS5Mb25nQml0cyxzPWkudXRmODtmdW5jdGlvbiBhKGUsdCl7cmV0dXJuIFJhbmdlRXJyb3IoXCJpbmRleCBvdXQgb2YgcmFuZ2U6IFwiK2UucG9zK1wiICsgXCIrKHR8fDEpK1wiID4gXCIrZS5sZW4pfWZ1bmN0aW9uIGMoZSl7dGhpcy5idWY9ZSx0aGlzLnBvcz0wLHRoaXMubGVuPWUubGVuZ3RofXZhciB1LGw9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXk/ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIG5ldyBjKGUpO3Rocm93IEVycm9yKFwiaWxsZWdhbCBidWZmZXJcIil9OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIG5ldyBjKGUpO3Rocm93IEVycm9yKFwiaWxsZWdhbCBidWZmZXJcIil9LGg9ZnVuY3Rpb24oKXtyZXR1cm4gaS5CdWZmZXI/ZnVuY3Rpb24oZSl7cmV0dXJuKGMuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBpLkJ1ZmZlci5pc0J1ZmZlcihlKT9uZXcgbyhlKTpsKGUpfSkoZSl9Omx9O2Z1bmN0aW9uIGQoKXt2YXIgZT1uZXcgbigwLDApLHQ9MDtpZighKHRoaXMubGVuLXRoaXMucG9zPjQpKXtmb3IoO3Q8MzsrK3Qpe2lmKHRoaXMucG9zPj10aGlzLmxlbil0aHJvdyBhKHRoaXMpO2lmKGUubG89KGUubG98KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvc10pPDw3KnQpPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpcmV0dXJuIGV9cmV0dXJuIGUubG89KGUubG98KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvcysrXSk8PDcqdCk+Pj4wLGV9Zm9yKDt0PDQ7Kyt0KWlmKGUubG89KGUubG98KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvc10pPDw3KnQpPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpcmV0dXJuIGU7aWYoZS5sbz0oZS5sb3woMTI3JnRoaXMuYnVmW3RoaXMucG9zXSk8PDI4KT4+PjAsZS5oaT0oZS5oaXwoMTI3JnRoaXMuYnVmW3RoaXMucG9zXSk+PjQpPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpcmV0dXJuIGU7aWYodD0wLHRoaXMubGVuLXRoaXMucG9zPjQpe2Zvcig7dDw1OysrdClpZihlLmhpPShlLmhpfCgxMjcmdGhpcy5idWZbdGhpcy5wb3NdKTw8Nyp0KzMpPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpcmV0dXJuIGV9ZWxzZSBmb3IoO3Q8NTsrK3Qpe2lmKHRoaXMucG9zPj10aGlzLmxlbil0aHJvdyBhKHRoaXMpO2lmKGUuaGk9KGUuaGl8KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvc10pPDw3KnQrMyk+Pj4wLHRoaXMuYnVmW3RoaXMucG9zKytdPDEyOClyZXR1cm4gZX10aHJvdyBFcnJvcihcImludmFsaWQgdmFyaW50IGVuY29kaW5nXCIpfWZ1bmN0aW9uIHAoZSx0KXtyZXR1cm4oZVt0LTRdfGVbdC0zXTw8OHxlW3QtMl08PDE2fGVbdC0xXTw8MjQpPj4+MH1mdW5jdGlvbiBnKCl7aWYodGhpcy5wb3MrOD50aGlzLmxlbil0aHJvdyBhKHRoaXMsOCk7cmV0dXJuIG5ldyBuKHAodGhpcy5idWYsdGhpcy5wb3MrPTQpLHAodGhpcy5idWYsdGhpcy5wb3MrPTQpKX1jLmNyZWF0ZT1oKCksYy5wcm90b3R5cGUuX3NsaWNlPWkuQXJyYXkucHJvdG90eXBlLnN1YmFycmF5fHxpLkFycmF5LnByb3RvdHlwZS5zbGljZSxjLnByb3RvdHlwZS51aW50MzI9KHU9NDI5NDk2NzI5NSxmdW5jdGlvbigpe2lmKHU9KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvc10pPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpcmV0dXJuIHU7aWYodT0odXwoMTI3JnRoaXMuYnVmW3RoaXMucG9zXSk8PDcpPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpcmV0dXJuIHU7aWYodT0odXwoMTI3JnRoaXMuYnVmW3RoaXMucG9zXSk8PDE0KT4+PjAsdGhpcy5idWZbdGhpcy5wb3MrK108MTI4KXJldHVybiB1O2lmKHU9KHV8KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvc10pPDwyMSk+Pj4wLHRoaXMuYnVmW3RoaXMucG9zKytdPDEyOClyZXR1cm4gdTtpZih1PSh1fCgxNSZ0aGlzLmJ1Zlt0aGlzLnBvc10pPDwyOCk+Pj4wLHRoaXMuYnVmW3RoaXMucG9zKytdPDEyOClyZXR1cm4gdTtpZigodGhpcy5wb3MrPTUpPnRoaXMubGVuKXRocm93IHRoaXMucG9zPXRoaXMubGVuLGEodGhpcywxMCk7cmV0dXJuIHV9KSxjLnByb3RvdHlwZS5pbnQzMj1mdW5jdGlvbigpe3JldHVybiAwfHRoaXMudWludDMyKCl9LGMucHJvdG90eXBlLnNpbnQzMj1mdW5jdGlvbigpe3ZhciBlPXRoaXMudWludDMyKCk7cmV0dXJuIGU+Pj4xXi0oMSZlKXwwfSxjLnByb3RvdHlwZS5ib29sPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPT10aGlzLnVpbnQzMigpfSxjLnByb3RvdHlwZS5maXhlZDMyPWZ1bmN0aW9uKCl7aWYodGhpcy5wb3MrND50aGlzLmxlbil0aHJvdyBhKHRoaXMsNCk7cmV0dXJuIHAodGhpcy5idWYsdGhpcy5wb3MrPTQpfSxjLnByb3RvdHlwZS5zZml4ZWQzMj1mdW5jdGlvbigpe2lmKHRoaXMucG9zKzQ+dGhpcy5sZW4pdGhyb3cgYSh0aGlzLDQpO3JldHVybiAwfHAodGhpcy5idWYsdGhpcy5wb3MrPTQpfSxjLnByb3RvdHlwZS5mbG9hdD1mdW5jdGlvbigpe2lmKHRoaXMucG9zKzQ+dGhpcy5sZW4pdGhyb3cgYSh0aGlzLDQpO3ZhciBlPWkuZmxvYXQucmVhZEZsb2F0TEUodGhpcy5idWYsdGhpcy5wb3MpO3JldHVybiB0aGlzLnBvcys9NCxlfSxjLnByb3RvdHlwZS5kb3VibGU9ZnVuY3Rpb24oKXtpZih0aGlzLnBvcys4PnRoaXMubGVuKXRocm93IGEodGhpcyw0KTt2YXIgZT1pLmZsb2F0LnJlYWREb3VibGVMRSh0aGlzLmJ1Zix0aGlzLnBvcyk7cmV0dXJuIHRoaXMucG9zKz04LGV9LGMucHJvdG90eXBlLmJ5dGVzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy51aW50MzIoKSx0PXRoaXMucG9zLHI9dGhpcy5wb3MrZTtpZihyPnRoaXMubGVuKXRocm93IGEodGhpcyxlKTtpZih0aGlzLnBvcys9ZSxBcnJheS5pc0FycmF5KHRoaXMuYnVmKSlyZXR1cm4gdGhpcy5idWYuc2xpY2UodCxyKTtpZih0PT09cil7dmFyIG89aS5CdWZmZXI7cmV0dXJuIG8/by5hbGxvYygwKTpuZXcgdGhpcy5idWYuY29uc3RydWN0b3IoMCl9cmV0dXJuIHRoaXMuX3NsaWNlLmNhbGwodGhpcy5idWYsdCxyKX0sYy5wcm90b3R5cGUuc3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ieXRlcygpO3JldHVybiBzLnJlYWQoZSwwLGUubGVuZ3RoKX0sYy5wcm90b3R5cGUuc2tpcD1mdW5jdGlvbihlKXtpZihcIm51bWJlclwiPT10eXBlb2YgZSl7aWYodGhpcy5wb3MrZT50aGlzLmxlbil0aHJvdyBhKHRoaXMsZSk7dGhpcy5wb3MrPWV9ZWxzZSBkb3tpZih0aGlzLnBvcz49dGhpcy5sZW4pdGhyb3cgYSh0aGlzKX13aGlsZSgxMjgmdGhpcy5idWZbdGhpcy5wb3MrK10pO3JldHVybiB0aGlzfSxjLnByb3RvdHlwZS5za2lwVHlwZT1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSAwOnRoaXMuc2tpcCgpO2JyZWFrO2Nhc2UgMTp0aGlzLnNraXAoOCk7YnJlYWs7Y2FzZSAyOnRoaXMuc2tpcCh0aGlzLnVpbnQzMigpKTticmVhaztjYXNlIDM6Zm9yKDs0IT0oZT03JnRoaXMudWludDMyKCkpOyl0aGlzLnNraXBUeXBlKGUpO2JyZWFrO2Nhc2UgNTp0aGlzLnNraXAoNCk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcImludmFsaWQgd2lyZSB0eXBlIFwiK2UrXCIgYXQgb2Zmc2V0IFwiK3RoaXMucG9zKX1yZXR1cm4gdGhpc30sYy5fY29uZmlndXJlPWZ1bmN0aW9uKGUpe289ZSxjLmNyZWF0ZT1oKCksby5fY29uZmlndXJlKCk7dmFyIHQ9aS5Mb25nP1widG9Mb25nXCI6XCJ0b051bWJlclwiO2kubWVyZ2UoYy5wcm90b3R5cGUse2ludDY0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuY2FsbCh0aGlzKVt0XSghMSl9LHVpbnQ2NDpmdW5jdGlvbigpe3JldHVybiBkLmNhbGwodGhpcylbdF0oITApfSxzaW50NjQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5jYWxsKHRoaXMpLnp6RGVjb2RlKClbdF0oITEpfSxmaXhlZDY0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuY2FsbCh0aGlzKVt0XSghMCl9LHNmaXhlZDY0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuY2FsbCh0aGlzKVt0XSghMSl9fSl9fSw2Mzg4OihlLHQscik9PntcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9bjt2YXIgbz1yKDQwNjQpOyhuLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9bjt2YXIgaT1yKDk3MTIpO2Z1bmN0aW9uIG4oZSl7by5jYWxsKHRoaXMsZSl9bi5fY29uZmlndXJlPWZ1bmN0aW9uKCl7aS5CdWZmZXImJihuLnByb3RvdHlwZS5fc2xpY2U9aS5CdWZmZXIucHJvdG90eXBlLnNsaWNlKX0sbi5wcm90b3R5cGUuc3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy51aW50MzIoKTtyZXR1cm4gdGhpcy5idWYudXRmOFNsaWNlP3RoaXMuYnVmLnV0ZjhTbGljZSh0aGlzLnBvcyx0aGlzLnBvcz1NYXRoLm1pbih0aGlzLnBvcytlLHRoaXMubGVuKSk6dGhpcy5idWYudG9TdHJpbmcoXCJ1dGYtOFwiLHRoaXMucG9zLHRoaXMucG9zPU1hdGgubWluKHRoaXMucG9zK2UsdGhpcy5sZW4pKX0sbi5fY29uZmlndXJlKCl9LDk2ODooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWg7dmFyIG89cigyMDg4KTsoKGgucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1oKS5jbGFzc05hbWU9XCJSb290XCI7dmFyIGksbixzLGE9cig4Mzc2KSxjPXIoMTM3NiksdT1yKDgyMzIpLGw9cigzMik7ZnVuY3Rpb24gaChlKXtvLmNhbGwodGhpcyxcIlwiLGUpLHRoaXMuZGVmZXJyZWQ9W10sdGhpcy5maWxlcz1bXX1mdW5jdGlvbiBkKCl7fWguZnJvbUpTT049ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8KHQ9bmV3IGgpLGUub3B0aW9ucyYmdC5zZXRPcHRpb25zKGUub3B0aW9ucyksdC5hZGRKU09OKGUubmVzdGVkKX0saC5wcm90b3R5cGUucmVzb2x2ZVBhdGg9bC5wYXRoLnJlc29sdmUsaC5wcm90b3R5cGUuZmV0Y2g9bC5mZXRjaCxoLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uIGUodCxyLG8pe1wiZnVuY3Rpb25cIj09dHlwZW9mIHImJihvPXIscj12b2lkIDApO3ZhciBpPXRoaXM7aWYoIW8pcmV0dXJuIGwuYXNQcm9taXNlKGUsaSx0LHIpO3ZhciBhPW89PT1kO2Z1bmN0aW9uIGMoZSx0KXtpZihvKXtpZihhKXRocm93IGU7dmFyIHI9bztvPW51bGwscihlLHQpfX1mdW5jdGlvbiB1KGUpe3ZhciB0PWUubGFzdEluZGV4T2YoXCJnb29nbGUvcHJvdG9idWYvXCIpO2lmKHQ+LTEpe3ZhciByPWUuc3Vic3RyaW5nKHQpO2lmKHIgaW4gcylyZXR1cm4gcn1yZXR1cm4gbnVsbH1mdW5jdGlvbiBoKGUsdCl7dHJ5e2lmKGwuaXNTdHJpbmcodCkmJlwie1wiPT09dC5jaGFyQXQoMCkmJih0PUpTT04ucGFyc2UodCkpLGwuaXNTdHJpbmcodCkpe24uZmlsZW5hbWU9ZTt2YXIgbyxzPW4odCxpLHIpLGg9MDtpZihzLmltcG9ydHMpZm9yKDtoPHMuaW1wb3J0cy5sZW5ndGg7KytoKShvPXUocy5pbXBvcnRzW2hdKXx8aS5yZXNvbHZlUGF0aChlLHMuaW1wb3J0c1toXSkpJiZwKG8pO2lmKHMud2Vha0ltcG9ydHMpZm9yKGg9MDtoPHMud2Vha0ltcG9ydHMubGVuZ3RoOysraCkobz11KHMud2Vha0ltcG9ydHNbaF0pfHxpLnJlc29sdmVQYXRoKGUscy53ZWFrSW1wb3J0c1toXSkpJiZwKG8sITApfWVsc2UgaS5zZXRPcHRpb25zKHQub3B0aW9ucykuYWRkSlNPTih0Lm5lc3RlZCl9Y2F0Y2goZSl7YyhlKX1hfHxnfHxjKG51bGwsaSl9ZnVuY3Rpb24gcChlLHQpe2lmKGU9dShlKXx8ZSwhKGkuZmlsZXMuaW5kZXhPZihlKT4tMSkpaWYoaS5maWxlcy5wdXNoKGUpLGUgaW4gcylhP2goZSxzW2VdKTooKytnLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7LS1nLGgoZSxzW2VdKX0pKSk7ZWxzZSBpZihhKXt2YXIgcjt0cnl7cj1sLmZzLnJlYWRGaWxlU3luYyhlKS50b1N0cmluZyhcInV0ZjhcIil9Y2F0Y2goZSl7cmV0dXJuIHZvaWQodHx8YyhlKSl9aChlLHIpfWVsc2UrK2csaS5mZXRjaChlLChmdW5jdGlvbihyLG4pey0tZyxvJiYocj90P2d8fGMobnVsbCxpKTpjKHIpOmgoZSxuKSl9KSl9dmFyIGc9MDtsLmlzU3RyaW5nKHQpJiYodD1bdF0pO2Zvcih2YXIgZix2PTA7djx0Lmxlbmd0aDsrK3YpKGY9aS5yZXNvbHZlUGF0aChcIlwiLHRbdl0pKSYmcChmKTtpZihhKXJldHVybiBpO2d8fGMobnVsbCxpKX0saC5wcm90b3R5cGUubG9hZFN5bmM9ZnVuY3Rpb24oZSx0KXtpZighbC5pc05vZGUpdGhyb3cgRXJyb3IoXCJub3Qgc3VwcG9ydGVkXCIpO3JldHVybiB0aGlzLmxvYWQoZSx0LGQpfSxoLnByb3RvdHlwZS5yZXNvbHZlQWxsPWZ1bmN0aW9uKCl7aWYodGhpcy5kZWZlcnJlZC5sZW5ndGgpdGhyb3cgRXJyb3IoXCJ1bnJlc29sdmFibGUgZXh0ZW5zaW9uczogXCIrdGhpcy5kZWZlcnJlZC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVyblwiJ2V4dGVuZCBcIitlLmV4dGVuZCtcIicgaW4gXCIrZS5wYXJlbnQuZnVsbE5hbWV9KSkuam9pbihcIiwgXCIpKTtyZXR1cm4gby5wcm90b3R5cGUucmVzb2x2ZUFsbC5jYWxsKHRoaXMpfTt2YXIgcD0vXltBLVpdLztmdW5jdGlvbiBnKGUsdCl7dmFyIHI9dC5wYXJlbnQubG9va3VwKHQuZXh0ZW5kKTtpZihyKXt2YXIgbz1uZXcgYSh0LmZ1bGxOYW1lLHQuaWQsdC50eXBlLHQucnVsZSx2b2lkIDAsdC5vcHRpb25zKTtyZXR1cm4gci5nZXQoby5uYW1lKXx8KG8uZGVjbGFyaW5nRmllbGQ9dCx0LmV4dGVuc2lvbkZpZWxkPW8sci5hZGQobykpLCEwfXJldHVybiExfWgucHJvdG90eXBlLl9oYW5kbGVBZGQ9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGEpdm9pZCAwPT09ZS5leHRlbmR8fGUuZXh0ZW5zaW9uRmllbGR8fGcoMCxlKXx8dGhpcy5kZWZlcnJlZC5wdXNoKGUpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIGMpcC50ZXN0KGUubmFtZSkmJihlLnBhcmVudFtlLm5hbWVdPWUudmFsdWVzKTtlbHNlIGlmKCEoZSBpbnN0YW5jZW9mIHUpKXtpZihlIGluc3RhbmNlb2YgaSlmb3IodmFyIHQ9MDt0PHRoaXMuZGVmZXJyZWQubGVuZ3RoOylnKDAsdGhpcy5kZWZlcnJlZFt0XSk/dGhpcy5kZWZlcnJlZC5zcGxpY2UodCwxKTorK3Q7Zm9yKHZhciByPTA7cjxlLm5lc3RlZEFycmF5Lmxlbmd0aDsrK3IpdGhpcy5faGFuZGxlQWRkKGUuX25lc3RlZEFycmF5W3JdKTtwLnRlc3QoZS5uYW1lKSYmKGUucGFyZW50W2UubmFtZV09ZSl9fSxoLnByb3RvdHlwZS5faGFuZGxlUmVtb3ZlPWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBhKXtpZih2b2lkIDAhPT1lLmV4dGVuZClpZihlLmV4dGVuc2lvbkZpZWxkKWUuZXh0ZW5zaW9uRmllbGQucGFyZW50LnJlbW92ZShlLmV4dGVuc2lvbkZpZWxkKSxlLmV4dGVuc2lvbkZpZWxkPW51bGw7ZWxzZXt2YXIgdD10aGlzLmRlZmVycmVkLmluZGV4T2YoZSk7dD4tMSYmdGhpcy5kZWZlcnJlZC5zcGxpY2UodCwxKX19ZWxzZSBpZihlIGluc3RhbmNlb2YgYylwLnRlc3QoZS5uYW1lKSYmZGVsZXRlIGUucGFyZW50W2UubmFtZV07ZWxzZSBpZihlIGluc3RhbmNlb2Ygbyl7Zm9yKHZhciByPTA7cjxlLm5lc3RlZEFycmF5Lmxlbmd0aDsrK3IpdGhpcy5faGFuZGxlUmVtb3ZlKGUuX25lc3RlZEFycmF5W3JdKTtwLnRlc3QoZS5uYW1lKSYmZGVsZXRlIGUucGFyZW50W2UubmFtZV19fSxoLl9jb25maWd1cmU9ZnVuY3Rpb24oZSx0LHIpe2k9ZSxuPXQscz1yfX0sNjY5NjplPT57XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPXt9fSwxMTY0OihlLHQscik9PntcInVzZSBzdHJpY3RcIjt0LlNlcnZpY2U9cig0NCl9LDQ0OihlLHQscik9PntcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9aTt2YXIgbz1yKDk3MTIpO2Z1bmN0aW9uIGkoZSx0LHIpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwicnBjSW1wbCBtdXN0IGJlIGEgZnVuY3Rpb25cIik7by5FdmVudEVtaXR0ZXIuY2FsbCh0aGlzKSx0aGlzLnJwY0ltcGw9ZSx0aGlzLnJlcXVlc3REZWxpbWl0ZWQ9Qm9vbGVhbih0KSx0aGlzLnJlc3BvbnNlRGVsaW1pdGVkPUJvb2xlYW4ocil9KGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5FdmVudEVtaXR0ZXIucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5ycGNDYWxsPWZ1bmN0aW9uIGUodCxyLGksbixzKXtpZighbil0aHJvdyBUeXBlRXJyb3IoXCJyZXF1ZXN0IG11c3QgYmUgc3BlY2lmaWVkXCIpO3ZhciBhPXRoaXM7aWYoIXMpcmV0dXJuIG8uYXNQcm9taXNlKGUsYSx0LHIsaSxuKTtpZihhLnJwY0ltcGwpdHJ5e3JldHVybiBhLnJwY0ltcGwodCxyW2EucmVxdWVzdERlbGltaXRlZD9cImVuY29kZURlbGltaXRlZFwiOlwiZW5jb2RlXCJdKG4pLmZpbmlzaCgpLChmdW5jdGlvbihlLHIpe2lmKGUpcmV0dXJuIGEuZW1pdChcImVycm9yXCIsZSx0KSxzKGUpO2lmKG51bGwhPT1yKXtpZighKHIgaW5zdGFuY2VvZiBpKSl0cnl7cj1pW2EucmVzcG9uc2VEZWxpbWl0ZWQ/XCJkZWNvZGVEZWxpbWl0ZWRcIjpcImRlY29kZVwiXShyKX1jYXRjaChlKXtyZXR1cm4gYS5lbWl0KFwiZXJyb3JcIixlLHQpLHMoZSl9cmV0dXJuIGEuZW1pdChcImRhdGFcIixyLHQpLHMobnVsbCxyKX1hLmVuZCghMCl9KSl9Y2F0Y2goZSl7cmV0dXJuIGEuZW1pdChcImVycm9yXCIsZSx0KSx2b2lkIHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cyhlKX0pLDApfWVsc2Ugc2V0VGltZW91dCgoZnVuY3Rpb24oKXtzKEVycm9yKFwiYWxyZWFkeSBlbmRlZFwiKSl9KSwwKX0saS5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJwY0ltcGwmJihlfHx0aGlzLnJwY0ltcGwobnVsbCxudWxsLG51bGwpLHRoaXMucnBjSW1wbD1udWxsLHRoaXMuZW1pdChcImVuZFwiKS5vZmYoKSksdGhpc319LDg2MTY6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1hO3ZhciBvPXIoMjA4OCk7KChhLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9YSkuY2xhc3NOYW1lPVwiU2VydmljZVwiO3ZhciBpPXIoNDIwOCksbj1yKDMyKSxzPXIoMTE2NCk7ZnVuY3Rpb24gYShlLHQpe28uY2FsbCh0aGlzLGUsdCksdGhpcy5tZXRob2RzPXt9LHRoaXMuX21ldGhvZHNBcnJheT1udWxsfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGUuX21ldGhvZHNBcnJheT1udWxsLGV9YS5mcm9tSlNPTj1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBhKGUsdC5vcHRpb25zKTtpZih0Lm1ldGhvZHMpZm9yKHZhciBvPU9iamVjdC5rZXlzKHQubWV0aG9kcyksbj0wO248by5sZW5ndGg7KytuKXIuYWRkKGkuZnJvbUpTT04ob1tuXSx0Lm1ldGhvZHNbb1tuXV0pKTtyZXR1cm4gdC5uZXN0ZWQmJnIuYWRkSlNPTih0Lm5lc3RlZCksci5jb21tZW50PXQuY29tbWVudCxyfSxhLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oZSl7dmFyIHQ9by5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyxlKSxyPSEhZSYmQm9vbGVhbihlLmtlZXBDb21tZW50cyk7cmV0dXJuIG4udG9PYmplY3QoW1wib3B0aW9uc1wiLHQmJnQub3B0aW9uc3x8dm9pZCAwLFwibWV0aG9kc1wiLG8uYXJyYXlUb0pTT04odGhpcy5tZXRob2RzQXJyYXksZSl8fHt9LFwibmVzdGVkXCIsdCYmdC5uZXN0ZWR8fHZvaWQgMCxcImNvbW1lbnRcIixyP3RoaXMuY29tbWVudDp2b2lkIDBdKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGEucHJvdG90eXBlLFwibWV0aG9kc0FycmF5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXRob2RzQXJyYXl8fCh0aGlzLl9tZXRob2RzQXJyYXk9bi50b0FycmF5KHRoaXMubWV0aG9kcykpfX0pLGEucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5tZXRob2RzW2VdfHxvLnByb3RvdHlwZS5nZXQuY2FsbCh0aGlzLGUpfSxhLnByb3RvdHlwZS5yZXNvbHZlQWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMubWV0aG9kc0FycmF5LHQ9MDt0PGUubGVuZ3RoOysrdCllW3RdLnJlc29sdmUoKTtyZXR1cm4gby5wcm90b3R5cGUucmVzb2x2ZS5jYWxsKHRoaXMpfSxhLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5nZXQoZS5uYW1lKSl0aHJvdyBFcnJvcihcImR1cGxpY2F0ZSBuYW1lICdcIitlLm5hbWUrXCInIGluIFwiK3RoaXMpO3JldHVybiBlIGluc3RhbmNlb2YgaT8odGhpcy5tZXRob2RzW2UubmFtZV09ZSxlLnBhcmVudD10aGlzLGModGhpcykpOm8ucHJvdG90eXBlLmFkZC5jYWxsKHRoaXMsZSl9LGEucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgaSl7aWYodGhpcy5tZXRob2RzW2UubmFtZV0hPT1lKXRocm93IEVycm9yKGUrXCIgaXMgbm90IGEgbWVtYmVyIG9mIFwiK3RoaXMpO3JldHVybiBkZWxldGUgdGhpcy5tZXRob2RzW2UubmFtZV0sZS5wYXJlbnQ9bnVsbCxjKHRoaXMpfXJldHVybiBvLnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzLGUpfSxhLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbyxpPW5ldyBzLlNlcnZpY2UoZSx0LHIpLGE9MDthPHRoaXMubWV0aG9kc0FycmF5Lmxlbmd0aDsrK2Epe3ZhciBjPW4ubGNGaXJzdCgobz10aGlzLl9tZXRob2RzQXJyYXlbYV0pLnJlc29sdmUoKS5uYW1lKS5yZXBsYWNlKC9bXiRcXHdfXS9nLFwiXCIpO2lbY109bi5jb2RlZ2VuKFtcInJcIixcImNcIl0sbi5pc1Jlc2VydmVkKGMpP2MrXCJfXCI6YykoXCJyZXR1cm4gdGhpcy5ycGNDYWxsKG0scSxzLHIsYylcIikoe206byxxOm8ucmVzb2x2ZWRSZXF1ZXN0VHlwZS5jdG9yLHM6by5yZXNvbHZlZFJlc3BvbnNlVHlwZS5jdG9yfSl9cmV0dXJuIGl9fSw5Mjg4OihlLHQscik9PntcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9eTt2YXIgbz1yKDIwODgpOygoeS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXkpLmNsYXNzTmFtZT1cIlR5cGVcIjt2YXIgaT1yKDEzNzYpLG49cig4MjMyKSxzPXIoODM3NiksYT1yKDE4OCksYz1yKDg2MTYpLHU9cig4NzAwKSxsPXIoNDA2NCksaD1yKDI2NjQpLGQ9cigzMikscD1yKDQ3NTIpLGc9cig5NzA4KSxmPXIoMTY4OCksdj1yKDMwNTYpLF89cigxNTA4KTtmdW5jdGlvbiB5KGUsdCl7by5jYWxsKHRoaXMsZSx0KSx0aGlzLmZpZWxkcz17fSx0aGlzLm9uZW9mcz12b2lkIDAsdGhpcy5leHRlbnNpb25zPXZvaWQgMCx0aGlzLnJlc2VydmVkPXZvaWQgMCx0aGlzLmdyb3VwPXZvaWQgMCx0aGlzLl9maWVsZHNCeUlkPW51bGwsdGhpcy5fZmllbGRzQXJyYXk9bnVsbCx0aGlzLl9vbmVvZnNBcnJheT1udWxsLHRoaXMuX2N0b3I9bnVsbH1mdW5jdGlvbiBtKGUpe3JldHVybiBlLl9maWVsZHNCeUlkPWUuX2ZpZWxkc0FycmF5PWUuX29uZW9mc0FycmF5PW51bGwsZGVsZXRlIGUuZW5jb2RlLGRlbGV0ZSBlLmRlY29kZSxkZWxldGUgZS52ZXJpZnksZX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyh5LnByb3RvdHlwZSx7ZmllbGRzQnlJZDp7Z2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5fZmllbGRzQnlJZClyZXR1cm4gdGhpcy5fZmllbGRzQnlJZDt0aGlzLl9maWVsZHNCeUlkPXt9O2Zvcih2YXIgZT1PYmplY3Qua2V5cyh0aGlzLmZpZWxkcyksdD0wO3Q8ZS5sZW5ndGg7Kyt0KXt2YXIgcj10aGlzLmZpZWxkc1tlW3RdXSxvPXIuaWQ7aWYodGhpcy5fZmllbGRzQnlJZFtvXSl0aHJvdyBFcnJvcihcImR1cGxpY2F0ZSBpZCBcIitvK1wiIGluIFwiK3RoaXMpO3RoaXMuX2ZpZWxkc0J5SWRbb109cn1yZXR1cm4gdGhpcy5fZmllbGRzQnlJZH19LGZpZWxkc0FycmF5OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmllbGRzQXJyYXl8fCh0aGlzLl9maWVsZHNBcnJheT1kLnRvQXJyYXkodGhpcy5maWVsZHMpKX19LG9uZW9mc0FycmF5OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25lb2ZzQXJyYXl8fCh0aGlzLl9vbmVvZnNBcnJheT1kLnRvQXJyYXkodGhpcy5vbmVvZnMpKX19LGN0b3I6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdG9yfHwodGhpcy5jdG9yPXkuZ2VuZXJhdGVDb25zdHJ1Y3Rvcih0aGlzKSgpKX0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWUucHJvdG90eXBlO3QgaW5zdGFuY2VvZiB1fHwoKGUucHJvdG90eXBlPW5ldyB1KS5jb25zdHJ1Y3Rvcj1lLGQubWVyZ2UoZS5wcm90b3R5cGUsdCkpLGUuJHR5cGU9ZS5wcm90b3R5cGUuJHR5cGU9dGhpcyxkLm1lcmdlKGUsdSwhMCksdGhpcy5fY3Rvcj1lO2Zvcih2YXIgcj0wO3I8dGhpcy5maWVsZHNBcnJheS5sZW5ndGg7KytyKXRoaXMuX2ZpZWxkc0FycmF5W3JdLnJlc29sdmUoKTt2YXIgbz17fTtmb3Iocj0wO3I8dGhpcy5vbmVvZnNBcnJheS5sZW5ndGg7KytyKW9bdGhpcy5fb25lb2ZzQXJyYXlbcl0ucmVzb2x2ZSgpLm5hbWVdPXtnZXQ6ZC5vbmVPZkdldHRlcih0aGlzLl9vbmVvZnNBcnJheVtyXS5vbmVvZiksc2V0OmQub25lT2ZTZXR0ZXIodGhpcy5fb25lb2ZzQXJyYXlbcl0ub25lb2YpfTtyJiZPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxvKX19fSkseS5nZW5lcmF0ZUNvbnN0cnVjdG9yPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPWQuY29kZWdlbihbXCJwXCJdLGUubmFtZSksbz0wO288ZS5maWVsZHNBcnJheS5sZW5ndGg7KytvKSh0PWUuX2ZpZWxkc0FycmF5W29dKS5tYXA/cihcInRoaXMlcz17fVwiLGQuc2FmZVByb3AodC5uYW1lKSk6dC5yZXBlYXRlZCYmcihcInRoaXMlcz1bXVwiLGQuc2FmZVByb3AodC5uYW1lKSk7cmV0dXJuIHIoXCJpZihwKWZvcih2YXIga3M9T2JqZWN0LmtleXMocCksaT0wO2k8a3MubGVuZ3RoOysraSlpZihwW2tzW2ldXSE9bnVsbClcIikoXCJ0aGlzW2tzW2ldXT1wW2tzW2ldXVwiKX0seS5mcm9tSlNPTj1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyB5KGUsdC5vcHRpb25zKTtyLmV4dGVuc2lvbnM9dC5leHRlbnNpb25zLHIucmVzZXJ2ZWQ9dC5yZXNlcnZlZDtmb3IodmFyIHU9T2JqZWN0LmtleXModC5maWVsZHMpLGw9MDtsPHUubGVuZ3RoOysrbClyLmFkZCgodm9pZCAwIT09dC5maWVsZHNbdVtsXV0ua2V5VHlwZT9hLmZyb21KU09OOnMuZnJvbUpTT04pKHVbbF0sdC5maWVsZHNbdVtsXV0pKTtpZih0Lm9uZW9mcylmb3IodT1PYmplY3Qua2V5cyh0Lm9uZW9mcyksbD0wO2w8dS5sZW5ndGg7KytsKXIuYWRkKG4uZnJvbUpTT04odVtsXSx0Lm9uZW9mc1t1W2xdXSkpO2lmKHQubmVzdGVkKWZvcih1PU9iamVjdC5rZXlzKHQubmVzdGVkKSxsPTA7bDx1Lmxlbmd0aDsrK2wpe3ZhciBoPXQubmVzdGVkW3VbbF1dO3IuYWRkKCh2b2lkIDAhPT1oLmlkP3MuZnJvbUpTT046dm9pZCAwIT09aC5maWVsZHM/eS5mcm9tSlNPTjp2b2lkIDAhPT1oLnZhbHVlcz9pLmZyb21KU09OOnZvaWQgMCE9PWgubWV0aG9kcz9jLmZyb21KU09OOm8uZnJvbUpTT04pKHVbbF0saCkpfXJldHVybiB0LmV4dGVuc2lvbnMmJnQuZXh0ZW5zaW9ucy5sZW5ndGgmJihyLmV4dGVuc2lvbnM9dC5leHRlbnNpb25zKSx0LnJlc2VydmVkJiZ0LnJlc2VydmVkLmxlbmd0aCYmKHIucmVzZXJ2ZWQ9dC5yZXNlcnZlZCksdC5ncm91cCYmKHIuZ3JvdXA9ITApLHQuY29tbWVudCYmKHIuY29tbWVudD10LmNvbW1lbnQpLHJ9LHkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbihlKXt2YXIgdD1vLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzLGUpLHI9ISFlJiZCb29sZWFuKGUua2VlcENvbW1lbnRzKTtyZXR1cm4gZC50b09iamVjdChbXCJvcHRpb25zXCIsdCYmdC5vcHRpb25zfHx2b2lkIDAsXCJvbmVvZnNcIixvLmFycmF5VG9KU09OKHRoaXMub25lb2ZzQXJyYXksZSksXCJmaWVsZHNcIixvLmFycmF5VG9KU09OKHRoaXMuZmllbGRzQXJyYXkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hZS5kZWNsYXJpbmdGaWVsZH0pKSxlKXx8e30sXCJleHRlbnNpb25zXCIsdGhpcy5leHRlbnNpb25zJiZ0aGlzLmV4dGVuc2lvbnMubGVuZ3RoP3RoaXMuZXh0ZW5zaW9uczp2b2lkIDAsXCJyZXNlcnZlZFwiLHRoaXMucmVzZXJ2ZWQmJnRoaXMucmVzZXJ2ZWQubGVuZ3RoP3RoaXMucmVzZXJ2ZWQ6dm9pZCAwLFwiZ3JvdXBcIix0aGlzLmdyb3VwfHx2b2lkIDAsXCJuZXN0ZWRcIix0JiZ0Lm5lc3RlZHx8dm9pZCAwLFwiY29tbWVudFwiLHI/dGhpcy5jb21tZW50OnZvaWQgMF0pfSx5LnByb3RvdHlwZS5yZXNvbHZlQWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuZmllbGRzQXJyYXksdD0wO3Q8ZS5sZW5ndGg7KWVbdCsrXS5yZXNvbHZlKCk7dmFyIHI9dGhpcy5vbmVvZnNBcnJheTtmb3IodD0wO3Q8ci5sZW5ndGg7KXJbdCsrXS5yZXNvbHZlKCk7cmV0dXJuIG8ucHJvdG90eXBlLnJlc29sdmVBbGwuY2FsbCh0aGlzKX0seS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmZpZWxkc1tlXXx8dGhpcy5vbmVvZnMmJnRoaXMub25lb2ZzW2VdfHx0aGlzLm5lc3RlZCYmdGhpcy5uZXN0ZWRbZV18fG51bGx9LHkucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXtpZih0aGlzLmdldChlLm5hbWUpKXRocm93IEVycm9yKFwiZHVwbGljYXRlIG5hbWUgJ1wiK2UubmFtZStcIicgaW4gXCIrdGhpcyk7aWYoZSBpbnN0YW5jZW9mIHMmJnZvaWQgMD09PWUuZXh0ZW5kKXtpZih0aGlzLl9maWVsZHNCeUlkP3RoaXMuX2ZpZWxkc0J5SWRbZS5pZF06dGhpcy5maWVsZHNCeUlkW2UuaWRdKXRocm93IEVycm9yKFwiZHVwbGljYXRlIGlkIFwiK2UuaWQrXCIgaW4gXCIrdGhpcyk7aWYodGhpcy5pc1Jlc2VydmVkSWQoZS5pZCkpdGhyb3cgRXJyb3IoXCJpZCBcIitlLmlkK1wiIGlzIHJlc2VydmVkIGluIFwiK3RoaXMpO2lmKHRoaXMuaXNSZXNlcnZlZE5hbWUoZS5uYW1lKSl0aHJvdyBFcnJvcihcIm5hbWUgJ1wiK2UubmFtZStcIicgaXMgcmVzZXJ2ZWQgaW4gXCIrdGhpcyk7cmV0dXJuIGUucGFyZW50JiZlLnBhcmVudC5yZW1vdmUoZSksdGhpcy5maWVsZHNbZS5uYW1lXT1lLGUubWVzc2FnZT10aGlzLGUub25BZGQodGhpcyksbSh0aGlzKX1yZXR1cm4gZSBpbnN0YW5jZW9mIG4/KHRoaXMub25lb2ZzfHwodGhpcy5vbmVvZnM9e30pLHRoaXMub25lb2ZzW2UubmFtZV09ZSxlLm9uQWRkKHRoaXMpLG0odGhpcykpOm8ucHJvdG90eXBlLmFkZC5jYWxsKHRoaXMsZSl9LHkucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgcyYmdm9pZCAwPT09ZS5leHRlbmQpe2lmKCF0aGlzLmZpZWxkc3x8dGhpcy5maWVsZHNbZS5uYW1lXSE9PWUpdGhyb3cgRXJyb3IoZStcIiBpcyBub3QgYSBtZW1iZXIgb2YgXCIrdGhpcyk7cmV0dXJuIGRlbGV0ZSB0aGlzLmZpZWxkc1tlLm5hbWVdLGUucGFyZW50PW51bGwsZS5vblJlbW92ZSh0aGlzKSxtKHRoaXMpfWlmKGUgaW5zdGFuY2VvZiBuKXtpZighdGhpcy5vbmVvZnN8fHRoaXMub25lb2ZzW2UubmFtZV0hPT1lKXRocm93IEVycm9yKGUrXCIgaXMgbm90IGEgbWVtYmVyIG9mIFwiK3RoaXMpO3JldHVybiBkZWxldGUgdGhpcy5vbmVvZnNbZS5uYW1lXSxlLnBhcmVudD1udWxsLGUub25SZW1vdmUodGhpcyksbSh0aGlzKX1yZXR1cm4gby5wcm90b3R5cGUucmVtb3ZlLmNhbGwodGhpcyxlKX0seS5wcm90b3R5cGUuaXNSZXNlcnZlZElkPWZ1bmN0aW9uKGUpe3JldHVybiBvLmlzUmVzZXJ2ZWRJZCh0aGlzLnJlc2VydmVkLGUpfSx5LnByb3RvdHlwZS5pc1Jlc2VydmVkTmFtZT1mdW5jdGlvbihlKXtyZXR1cm4gby5pc1Jlc2VydmVkTmFtZSh0aGlzLnJlc2VydmVkLGUpfSx5LnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0aGlzLmN0b3IoZSl9LHkucHJvdG90eXBlLnNldHVwPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuZnVsbE5hbWUsdD1bXSxyPTA7cjx0aGlzLmZpZWxkc0FycmF5Lmxlbmd0aDsrK3IpdC5wdXNoKHRoaXMuX2ZpZWxkc0FycmF5W3JdLnJlc29sdmUoKS5yZXNvbHZlZFR5cGUpO3RoaXMuZW5jb2RlPXAodGhpcykoe1dyaXRlcjpoLHR5cGVzOnQsdXRpbDpkfSksdGhpcy5kZWNvZGU9Zyh0aGlzKSh7UmVhZGVyOmwsdHlwZXM6dCx1dGlsOmR9KSx0aGlzLnZlcmlmeT1mKHRoaXMpKHt0eXBlczp0LHV0aWw6ZH0pLHRoaXMuZnJvbU9iamVjdD12LmZyb21PYmplY3QodGhpcykoe3R5cGVzOnQsdXRpbDpkfSksdGhpcy50b09iamVjdD12LnRvT2JqZWN0KHRoaXMpKHt0eXBlczp0LHV0aWw6ZH0pO3ZhciBvPV9bZV07aWYobyl7dmFyIGk9T2JqZWN0LmNyZWF0ZSh0aGlzKTtpLmZyb21PYmplY3Q9dGhpcy5mcm9tT2JqZWN0LHRoaXMuZnJvbU9iamVjdD1vLmZyb21PYmplY3QuYmluZChpKSxpLnRvT2JqZWN0PXRoaXMudG9PYmplY3QsdGhpcy50b09iamVjdD1vLnRvT2JqZWN0LmJpbmQoaSl9cmV0dXJuIHRoaXN9LHkucHJvdG90eXBlLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnNldHVwKCkuZW5jb2RlKGUsdCl9LHkucHJvdG90eXBlLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQmJnQubGVuP3QuZm9yaygpOnQpLmxkZWxpbSgpfSx5LnByb3RvdHlwZS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zZXR1cCgpLmRlY29kZShlLHQpfSx5LnByb3RvdHlwZS5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBsfHwoZT1sLmNyZWF0ZShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0seS5wcm90b3R5cGUudmVyaWZ5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNldHVwKCkudmVyaWZ5KGUpfSx5LnByb3RvdHlwZS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNldHVwKCkuZnJvbU9iamVjdChlKX0seS5wcm90b3R5cGUudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zZXR1cCgpLnRvT2JqZWN0KGUsdCl9LHkuZD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7ZC5kZWNvcmF0ZVR5cGUodCxlKX19fSwxOTA4OihlLHQscik9PntcInVzZSBzdHJpY3RcIjt2YXIgbz10LGk9cigzMiksbj1bXCJkb3VibGVcIixcImZsb2F0XCIsXCJpbnQzMlwiLFwidWludDMyXCIsXCJzaW50MzJcIixcImZpeGVkMzJcIixcInNmaXhlZDMyXCIsXCJpbnQ2NFwiLFwidWludDY0XCIsXCJzaW50NjRcIixcImZpeGVkNjRcIixcInNmaXhlZDY0XCIsXCJib29sXCIsXCJzdHJpbmdcIixcImJ5dGVzXCJdO2Z1bmN0aW9uIHMoZSx0KXt2YXIgcj0wLG89e307Zm9yKHR8PTA7cjxlLmxlbmd0aDspb1tuW3IrdF1dPWVbcisrXTtyZXR1cm4gb31vLmJhc2ljPXMoWzEsNSwwLDAsMCw1LDUsMCwwLDAsMSwxLDAsMiwyXSksby5kZWZhdWx0cz1zKFswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwhMSxcIlwiLGkuZW1wdHlBcnJheSxudWxsXSksby5sb25nPXMoWzAsMCwwLDEsMV0sNyksby5tYXBLZXk9cyhbMCwwLDAsNSw1LDAsMCwwLDEsMSwwLDJdLDIpLG8ucGFja2VkPXMoWzEsNSwwLDAsMCw1LDUsMCwwLDAsMSwxLDBdKX0sMzI6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO3ZhciBvLGksbj1lLmV4cG9ydHM9cig5NzEyKSxzPXIoNjY5Nik7bi5jb2RlZ2VuPXIoNDgyNCksbi5mZXRjaD1yKDE1NjApLG4ucGF0aD1yKDcyNTYpLG4uZnM9bi5pbnF1aXJlKFwiZnNcIiksbi50b0FycmF5PWZ1bmN0aW9uKGUpe2lmKGUpe2Zvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxyPW5ldyBBcnJheSh0Lmxlbmd0aCksbz0wO288dC5sZW5ndGg7KXJbb109ZVt0W28rK11dO3JldHVybiByfXJldHVybltdfSxuLnRvT2JqZWN0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD17fSxyPTA7cjxlLmxlbmd0aDspe3ZhciBvPWVbcisrXSxpPWVbcisrXTt2b2lkIDAhPT1pJiYodFtvXT1pKX1yZXR1cm4gdH07dmFyIGE9L1xcXFwvZyxjPS9cIi9nO24uaXNSZXNlcnZlZD1mdW5jdGlvbihlKXtyZXR1cm4vXig/OmRvfGlmfGlufGZvcnxsZXR8bmV3fHRyeXx2YXJ8Y2FzZXxlbHNlfGVudW18ZXZhbHxmYWxzZXxudWxsfHRoaXN8dHJ1ZXx2b2lkfHdpdGh8YnJlYWt8Y2F0Y2h8Y2xhc3N8Y29uc3R8c3VwZXJ8dGhyb3d8d2hpbGV8eWllbGR8ZGVsZXRlfGV4cG9ydHxpbXBvcnR8cHVibGljfHJldHVybnxzdGF0aWN8c3dpdGNofHR5cGVvZnxkZWZhdWx0fGV4dGVuZHN8ZmluYWxseXxwYWNrYWdlfHByaXZhdGV8Y29udGludWV8ZGVidWdnZXJ8ZnVuY3Rpb258YXJndW1lbnRzfGludGVyZmFjZXxwcm90ZWN0ZWR8aW1wbGVtZW50c3xpbnN0YW5jZW9mKSQvLnRlc3QoZSl9LG4uc2FmZVByb3A9ZnVuY3Rpb24oZSl7cmV0dXJuIS9eWyRcXHdfXSskLy50ZXN0KGUpfHxuLmlzUmVzZXJ2ZWQoZSk/J1tcIicrZS5yZXBsYWNlKGEsXCJcXFxcXFxcXFwiKS5yZXBsYWNlKGMsJ1xcXFxcIicpKydcIl0nOlwiLlwiK2V9LG4udWNGaXJzdD1mdW5jdGlvbihlKXtyZXR1cm4gZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnN1YnN0cmluZygxKX07dmFyIHU9L18oW2Etel0pL2c7bi5jYW1lbENhc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3Vic3RyaW5nKDAsMSkrZS5zdWJzdHJpbmcoMSkucmVwbGFjZSh1LChmdW5jdGlvbihlLHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9KSl9LG4uY29tcGFyZUZpZWxkc0J5SWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5pZC10LmlkfSxuLmRlY29yYXRlVHlwZT1mdW5jdGlvbihlLHQpe2lmKGUuJHR5cGUpcmV0dXJuIHQmJmUuJHR5cGUubmFtZSE9PXQmJihuLmRlY29yYXRlUm9vdC5yZW1vdmUoZS4kdHlwZSksZS4kdHlwZS5uYW1lPXQsbi5kZWNvcmF0ZVJvb3QuYWRkKGUuJHR5cGUpKSxlLiR0eXBlO298fChvPXIoOTI4OCkpO3ZhciBpPW5ldyBvKHR8fGUubmFtZSk7cmV0dXJuIG4uZGVjb3JhdGVSb290LmFkZChpKSxpLmN0b3I9ZSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIiR0eXBlXCIse3ZhbHVlOmksZW51bWVyYWJsZTohMX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIiR0eXBlXCIse3ZhbHVlOmksZW51bWVyYWJsZTohMX0pLGl9O3ZhciBsPTA7bi5kZWNvcmF0ZUVudW09ZnVuY3Rpb24oZSl7aWYoZS4kdHlwZSlyZXR1cm4gZS4kdHlwZTtpfHwoaT1yKDEzNzYpKTt2YXIgdD1uZXcgaShcIkVudW1cIitsKyssZSk7cmV0dXJuIG4uZGVjb3JhdGVSb290LmFkZCh0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIiR0eXBlXCIse3ZhbHVlOnQsZW51bWVyYWJsZTohMX0pLHR9LG4uc2V0UHJvcGVydHk9ZnVuY3Rpb24oZSx0LHIpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihcImRzdCBtdXN0IGJlIGFuIG9iamVjdFwiKTtpZighdCl0aHJvdyBUeXBlRXJyb3IoXCJwYXRoIG11c3QgYmUgc3BlY2lmaWVkXCIpO3JldHVybiBmdW5jdGlvbiBlKHQscixvKXt2YXIgaT1yLnNoaWZ0KCk7aWYoXCJfX3Byb3RvX19cIj09PWl8fFwicHJvdG90eXBlXCI9PT1pKXJldHVybiB0O2lmKHIubGVuZ3RoPjApdFtpXT1lKHRbaV18fHt9LHIsbyk7ZWxzZXt2YXIgbj10W2ldO24mJihvPVtdLmNvbmNhdChuKS5jb25jYXQobykpLHRbaV09b31yZXR1cm4gdH0oZSx0PXQuc3BsaXQoXCIuXCIpLHIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcImRlY29yYXRlUm9vdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5kZWNvcmF0ZWR8fChzLmRlY29yYXRlZD1uZXcocig5NjgpKSl9fSl9LDg4NjQ6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1pO3ZhciBvPXIoOTcxMik7ZnVuY3Rpb24gaShlLHQpe3RoaXMubG89ZT4+PjAsdGhpcy5oaT10Pj4+MH12YXIgbj1pLnplcm89bmV3IGkoMCwwKTtuLnRvTnVtYmVyPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LG4uenpFbmNvZGU9bi56ekRlY29kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxuLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiAxfTt2YXIgcz1pLnplcm9IYXNoPVwiXFwwXFwwXFwwXFwwXFwwXFwwXFwwXFwwXCI7aS5mcm9tTnVtYmVyPWZ1bmN0aW9uKGUpe2lmKDA9PT1lKXJldHVybiBuO3ZhciB0PWU8MDt0JiYoZT0tZSk7dmFyIHI9ZT4+PjAsbz0oZS1yKS80Mjk0OTY3Mjk2Pj4+MDtyZXR1cm4gdCYmKG89fm8+Pj4wLHI9fnI+Pj4wLCsrcj40Mjk0OTY3Mjk1JiYocj0wLCsrbz40Mjk0OTY3Mjk1JiYobz0wKSkpLG5ldyBpKHIsbyl9LGkuZnJvbT1mdW5jdGlvbihlKXtpZihcIm51bWJlclwiPT10eXBlb2YgZSlyZXR1cm4gaS5mcm9tTnVtYmVyKGUpO2lmKG8uaXNTdHJpbmcoZSkpe2lmKCFvLkxvbmcpcmV0dXJuIGkuZnJvbU51bWJlcihwYXJzZUludChlLDEwKSk7ZT1vLkxvbmcuZnJvbVN0cmluZyhlKX1yZXR1cm4gZS5sb3d8fGUuaGlnaD9uZXcgaShlLmxvdz4+PjAsZS5oaWdoPj4+MCk6bn0saS5wcm90b3R5cGUudG9OdW1iZXI9ZnVuY3Rpb24oZSl7aWYoIWUmJnRoaXMuaGk+Pj4zMSl7dmFyIHQ9MSt+dGhpcy5sbz4+PjAscj1+dGhpcy5oaT4+PjA7cmV0dXJuIHR8fChyPXIrMT4+PjApLC0odCs0Mjk0OTY3Mjk2KnIpfXJldHVybiB0aGlzLmxvKzQyOTQ5NjcyOTYqdGhpcy5oaX0saS5wcm90b3R5cGUudG9Mb25nPWZ1bmN0aW9uKGUpe3JldHVybiBvLkxvbmc/bmV3IG8uTG9uZygwfHRoaXMubG8sMHx0aGlzLmhpLEJvb2xlYW4oZSkpOntsb3c6MHx0aGlzLmxvLGhpZ2g6MHx0aGlzLmhpLHVuc2lnbmVkOkJvb2xlYW4oZSl9fTt2YXIgYT1TdHJpbmcucHJvdG90eXBlLmNoYXJDb2RlQXQ7aS5mcm9tSGFzaD1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXM/bjpuZXcgaSgoYS5jYWxsKGUsMCl8YS5jYWxsKGUsMSk8PDh8YS5jYWxsKGUsMik8PDE2fGEuY2FsbChlLDMpPDwyNCk+Pj4wLChhLmNhbGwoZSw0KXxhLmNhbGwoZSw1KTw8OHxhLmNhbGwoZSw2KTw8MTZ8YS5jYWxsKGUsNyk8PDI0KT4+PjApfSxpLnByb3RvdHlwZS50b0hhc2g9ZnVuY3Rpb24oKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSgyNTUmdGhpcy5sbyx0aGlzLmxvPj4+OCYyNTUsdGhpcy5sbz4+PjE2JjI1NSx0aGlzLmxvPj4+MjQsMjU1JnRoaXMuaGksdGhpcy5oaT4+PjgmMjU1LHRoaXMuaGk+Pj4xNiYyNTUsdGhpcy5oaT4+PjI0KX0saS5wcm90b3R5cGUuenpFbmNvZGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhpPj4zMTtyZXR1cm4gdGhpcy5oaT0oKHRoaXMuaGk8PDF8dGhpcy5sbz4+PjMxKV5lKT4+PjAsdGhpcy5sbz0odGhpcy5sbzw8MV5lKT4+PjAsdGhpc30saS5wcm90b3R5cGUuenpEZWNvZGU9ZnVuY3Rpb24oKXt2YXIgZT0tKDEmdGhpcy5sbyk7cmV0dXJuIHRoaXMubG89KCh0aGlzLmxvPj4+MXx0aGlzLmhpPDwzMSleZSk+Pj4wLHRoaXMuaGk9KHRoaXMuaGk+Pj4xXmUpPj4+MCx0aGlzfSxpLnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxvLHQ9KHRoaXMubG8+Pj4yOHx0aGlzLmhpPDw0KT4+PjAscj10aGlzLmhpPj4+MjQ7cmV0dXJuIDA9PT1yPzA9PT10P2U8MTYzODQ/ZTwxMjg/MToyOmU8MjA5NzE1Mj8zOjQ6dDwxNjM4ND90PDEyOD81OjY6dDwyMDk3MTUyPzc6ODpyPDEyOD85OjEwfX0sOTcxMjpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89dDtmdW5jdGlvbiBpKGUsdCxyKXtmb3IodmFyIG89T2JqZWN0LmtleXModCksaT0wO2k8by5sZW5ndGg7KytpKXZvaWQgMCE9PWVbb1tpXV0mJnJ8fChlW29baV1dPXRbb1tpXV0pO3JldHVybiBlfWZ1bmN0aW9uIG4oZSl7ZnVuY3Rpb24gdChlLHIpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHQpKXJldHVybiBuZXcgdChlLHIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwibWVzc2FnZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZX19KSxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHQpOk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwic3RhY2tcIix7dmFsdWU6KG5ldyBFcnJvcikuc3RhY2t8fFwiXCJ9KSxyJiZpKHRoaXMscil9cmV0dXJuIHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0sbmFtZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGV9LHNldDp2b2lkIDAsZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9LHRvU3RyaW5nOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWUrXCI6IFwiK3RoaXMubWVzc2FnZX0sd3JpdGFibGU6ITAsZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9fSksdH1vLmFzUHJvbWlzZT1yKDUzMjApLG8uYmFzZTY0PXIoNzUyKSxvLkV2ZW50RW1pdHRlcj1yKDM5NDcpLG8uZmxvYXQ9cigzNzMyKSxvLmlucXVpcmU9cigxNTI4KSxvLnV0Zjg9cigxODg4KSxvLnBvb2w9cig2MjY0KSxvLkxvbmdCaXRzPXIoODg2NCksby5pc05vZGU9Qm9vbGVhbih2b2lkIDAhPT1yLmcmJnIuZyYmci5nLnByb2Nlc3MmJnIuZy5wcm9jZXNzLnZlcnNpb25zJiZyLmcucHJvY2Vzcy52ZXJzaW9ucy5ub2RlKSxvLmdsb2JhbD1vLmlzTm9kZSYmci5nfHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3d8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmfHx0aGlzLG8uZW1wdHlBcnJheT1PYmplY3QuZnJlZXplP09iamVjdC5mcmVlemUoW10pOltdLG8uZW1wdHlPYmplY3Q9T2JqZWN0LmZyZWV6ZT9PYmplY3QuZnJlZXplKHt9KTp7fSxvLmlzSW50ZWdlcj1OdW1iZXIuaXNJbnRlZ2VyfHxmdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZSYmaXNGaW5pdGUoZSkmJk1hdGguZmxvb3IoZSk9PT1lfSxvLmlzU3RyaW5nPWZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgU3RyaW5nfSxvLmlzT2JqZWN0PWZ1bmN0aW9uKGUpe3JldHVybiBlJiZcIm9iamVjdFwiPT10eXBlb2YgZX0sby5pc3NldD1vLmlzU2V0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZVt0XTtyZXR1cm4hKG51bGw9PXJ8fCFlLmhhc093blByb3BlcnR5KHQpKSYmKFwib2JqZWN0XCIhPXR5cGVvZiByfHwoQXJyYXkuaXNBcnJheShyKT9yLmxlbmd0aDpPYmplY3Qua2V5cyhyKS5sZW5ndGgpPjApfSxvLkJ1ZmZlcj1mdW5jdGlvbigpe3RyeXt2YXIgZT1vLmlucXVpcmUoXCJidWZmZXJcIikuQnVmZmVyO3JldHVybiBlLnByb3RvdHlwZS51dGY4V3JpdGU/ZTpudWxsfWNhdGNoKGUpe3JldHVybiBudWxsfX0oKSxvLl9CdWZmZXJfZnJvbT1udWxsLG8uX0J1ZmZlcl9hbGxvY1Vuc2FmZT1udWxsLG8ubmV3QnVmZmVyPWZ1bmN0aW9uKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlP28uQnVmZmVyP28uX0J1ZmZlcl9hbGxvY1Vuc2FmZShlKTpuZXcgby5BcnJheShlKTpvLkJ1ZmZlcj9vLl9CdWZmZXJfZnJvbShlKTpcInVuZGVmaW5lZFwiPT10eXBlb2YgVWludDhBcnJheT9lOm5ldyBVaW50OEFycmF5KGUpfSxvLkFycmF5PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OEFycmF5P1VpbnQ4QXJyYXk6QXJyYXksby5Mb25nPW8uZ2xvYmFsLmRjb2RlSU8mJm8uZ2xvYmFsLmRjb2RlSU8uTG9uZ3x8by5nbG9iYWwuTG9uZ3x8by5pbnF1aXJlKFwibG9uZ1wiKSxvLmtleTJSZT0vXnRydWV8ZmFsc2V8MHwxJC8sby5rZXkzMlJlPS9eLT8oPzowfFsxLTldWzAtOV0qKSQvLG8ua2V5NjRSZT0vXig/OltcXFxceDAwLVxcXFx4ZmZdezh9fC0/KD86MHxbMS05XVswLTldKikpJC8sby5sb25nVG9IYXNoPWZ1bmN0aW9uKGUpe3JldHVybiBlP28uTG9uZ0JpdHMuZnJvbShlKS50b0hhc2goKTpvLkxvbmdCaXRzLnplcm9IYXNofSxvLmxvbmdGcm9tSGFzaD1mdW5jdGlvbihlLHQpe3ZhciByPW8uTG9uZ0JpdHMuZnJvbUhhc2goZSk7cmV0dXJuIG8uTG9uZz9vLkxvbmcuZnJvbUJpdHMoci5sbyxyLmhpLHQpOnIudG9OdW1iZXIoQm9vbGVhbih0KSl9LG8ubWVyZ2U9aSxvLmxjRmlyc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkrZS5zdWJzdHJpbmcoMSl9LG8ubmV3RXJyb3I9bixvLlByb3RvY29sRXJyb3I9bihcIlByb3RvY29sRXJyb3JcIiksby5vbmVPZkdldHRlcj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9e30scj0wO3I8ZS5sZW5ndGg7KytyKXRbZVtyXV09MTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9T2JqZWN0LmtleXModGhpcykscj1lLmxlbmd0aC0xO3I+LTE7LS1yKWlmKDE9PT10W2Vbcl1dJiZ2b2lkIDAhPT10aGlzW2Vbcl1dJiZudWxsIT09dGhpc1tlW3JdXSlyZXR1cm4gZVtyXX19LG8ub25lT2ZTZXR0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7KytyKWVbcl0hPT10JiZkZWxldGUgdGhpc1tlW3JdXX19LG8udG9KU09OT3B0aW9ucz17bG9uZ3M6U3RyaW5nLGVudW1zOlN0cmluZyxieXRlczpTdHJpbmcsanNvbjohMH0sby5fY29uZmlndXJlPWZ1bmN0aW9uKCl7dmFyIGU9by5CdWZmZXI7ZT8oby5fQnVmZmVyX2Zyb209ZS5mcm9tIT09VWludDhBcnJheS5mcm9tJiZlLmZyb218fGZ1bmN0aW9uKHQscil7cmV0dXJuIG5ldyBlKHQscil9LG8uX0J1ZmZlcl9hbGxvY1Vuc2FmZT1lLmFsbG9jVW5zYWZlfHxmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCl9KTpvLl9CdWZmZXJfZnJvbT1vLl9CdWZmZXJfYWxsb2NVbnNhZmU9bnVsbH19LDE2ODg6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1pLmNvZGVnZW4oW1wibVwiXSxlLm5hbWUrXCIkdmVyaWZ5XCIpKCdpZih0eXBlb2YgbSE9PVwib2JqZWN0XCJ8fG09PT1udWxsKScpKFwicmV0dXJuJWpcIixcIm9iamVjdCBleHBlY3RlZFwiKSxyPWUub25lb2ZzQXJyYXksbz17fTtyLmxlbmd0aCYmdChcInZhciBwPXt9XCIpO2Zvcih2YXIgYz0wO2M8ZS5maWVsZHNBcnJheS5sZW5ndGg7KytjKXt2YXIgdT1lLl9maWVsZHNBcnJheVtjXS5yZXNvbHZlKCksbD1cIm1cIitpLnNhZmVQcm9wKHUubmFtZSk7aWYodS5vcHRpb25hbCYmdChcImlmKCVzIT1udWxsJiZtLmhhc093blByb3BlcnR5KCVqKSl7XCIsbCx1Lm5hbWUpLHUubWFwKXQoXCJpZighdXRpbC5pc09iamVjdCglcykpXCIsbCkoXCJyZXR1cm4lalwiLG4odSxcIm9iamVjdFwiKSkoXCJ2YXIgaz1PYmplY3Qua2V5cyglcylcIixsKShcImZvcih2YXIgaT0wO2k8ay5sZW5ndGg7KytpKXtcIiksYSh0LHUsXCJrW2ldXCIpLHModCx1LGMsbCtcIltrW2ldXVwiKShcIn1cIik7ZWxzZSBpZih1LnJlcGVhdGVkKXQoXCJpZighQXJyYXkuaXNBcnJheSglcykpXCIsbCkoXCJyZXR1cm4lalwiLG4odSxcImFycmF5XCIpKShcImZvcih2YXIgaT0wO2k8JXMubGVuZ3RoOysraSl7XCIsbCkscyh0LHUsYyxsK1wiW2ldXCIpKFwifVwiKTtlbHNle2lmKHUucGFydE9mKXt2YXIgaD1pLnNhZmVQcm9wKHUucGFydE9mLm5hbWUpOzE9PT1vW3UucGFydE9mLm5hbWVdJiZ0KFwiaWYocCVzPT09MSlcIixoKShcInJldHVybiVqXCIsdS5wYXJ0T2YubmFtZStcIjogbXVsdGlwbGUgdmFsdWVzXCIpLG9bdS5wYXJ0T2YubmFtZV09MSx0KFwicCVzPTFcIixoKX1zKHQsdSxjLGwpfXUub3B0aW9uYWwmJnQoXCJ9XCIpfXJldHVybiB0KFwicmV0dXJuIG51bGxcIil9O3ZhciBvPXIoMTM3NiksaT1yKDMyKTtmdW5jdGlvbiBuKGUsdCl7cmV0dXJuIGUubmFtZStcIjogXCIrdCsoZS5yZXBlYXRlZCYmXCJhcnJheVwiIT09dD9cIltdXCI6ZS5tYXAmJlwib2JqZWN0XCIhPT10P1wie2s6XCIrZS5rZXlUeXBlK1wifVwiOlwiXCIpK1wiIGV4cGVjdGVkXCJ9ZnVuY3Rpb24gcyhlLHQscixpKXtpZih0LnJlc29sdmVkVHlwZSlpZih0LnJlc29sdmVkVHlwZSBpbnN0YW5jZW9mIG8pe2UoXCJzd2l0Y2goJXMpe1wiLGkpKFwiZGVmYXVsdDpcIikoXCJyZXR1cm4lalwiLG4odCxcImVudW0gdmFsdWVcIikpO2Zvcih2YXIgcz1PYmplY3Qua2V5cyh0LnJlc29sdmVkVHlwZS52YWx1ZXMpLGE9MDthPHMubGVuZ3RoOysrYSllKFwiY2FzZSAlaTpcIix0LnJlc29sdmVkVHlwZS52YWx1ZXNbc1thXV0pO2UoXCJicmVha1wiKShcIn1cIil9ZWxzZSBlKFwie1wiKShcInZhciBlPXR5cGVzWyVpXS52ZXJpZnkoJXMpO1wiLHIsaSkoXCJpZihlKVwiKShcInJldHVybiVqK2VcIix0Lm5hbWUrXCIuXCIpKFwifVwiKTtlbHNlIHN3aXRjaCh0LnR5cGUpe2Nhc2VcImludDMyXCI6Y2FzZVwidWludDMyXCI6Y2FzZVwic2ludDMyXCI6Y2FzZVwiZml4ZWQzMlwiOmNhc2VcInNmaXhlZDMyXCI6ZShcImlmKCF1dGlsLmlzSW50ZWdlciglcykpXCIsaSkoXCJyZXR1cm4lalwiLG4odCxcImludGVnZXJcIikpO2JyZWFrO2Nhc2VcImludDY0XCI6Y2FzZVwidWludDY0XCI6Y2FzZVwic2ludDY0XCI6Y2FzZVwiZml4ZWQ2NFwiOmNhc2VcInNmaXhlZDY0XCI6ZShcImlmKCF1dGlsLmlzSW50ZWdlciglcykmJiEoJXMmJnV0aWwuaXNJbnRlZ2VyKCVzLmxvdykmJnV0aWwuaXNJbnRlZ2VyKCVzLmhpZ2gpKSlcIixpLGksaSxpKShcInJldHVybiVqXCIsbih0LFwiaW50ZWdlcnxMb25nXCIpKTticmVhaztjYXNlXCJmbG9hdFwiOmNhc2VcImRvdWJsZVwiOmUoJ2lmKHR5cGVvZiAlcyE9PVwibnVtYmVyXCIpJyxpKShcInJldHVybiVqXCIsbih0LFwibnVtYmVyXCIpKTticmVhaztjYXNlXCJib29sXCI6ZSgnaWYodHlwZW9mICVzIT09XCJib29sZWFuXCIpJyxpKShcInJldHVybiVqXCIsbih0LFwiYm9vbGVhblwiKSk7YnJlYWs7Y2FzZVwic3RyaW5nXCI6ZShcImlmKCF1dGlsLmlzU3RyaW5nKCVzKSlcIixpKShcInJldHVybiVqXCIsbih0LFwic3RyaW5nXCIpKTticmVhaztjYXNlXCJieXRlc1wiOmUoJ2lmKCEoJXMmJnR5cGVvZiAlcy5sZW5ndGg9PT1cIm51bWJlclwifHx1dGlsLmlzU3RyaW5nKCVzKSkpJyxpLGksaSkoXCJyZXR1cm4lalwiLG4odCxcImJ1ZmZlclwiKSl9cmV0dXJuIGV9ZnVuY3Rpb24gYShlLHQscil7c3dpdGNoKHQua2V5VHlwZSl7Y2FzZVwiaW50MzJcIjpjYXNlXCJ1aW50MzJcIjpjYXNlXCJzaW50MzJcIjpjYXNlXCJmaXhlZDMyXCI6Y2FzZVwic2ZpeGVkMzJcIjplKFwiaWYoIXV0aWwua2V5MzJSZS50ZXN0KCVzKSlcIixyKShcInJldHVybiVqXCIsbih0LFwiaW50ZWdlciBrZXlcIikpO2JyZWFrO2Nhc2VcImludDY0XCI6Y2FzZVwidWludDY0XCI6Y2FzZVwic2ludDY0XCI6Y2FzZVwiZml4ZWQ2NFwiOmNhc2VcInNmaXhlZDY0XCI6ZShcImlmKCF1dGlsLmtleTY0UmUudGVzdCglcykpXCIscikoXCJyZXR1cm4lalwiLG4odCxcImludGVnZXJ8TG9uZyBrZXlcIikpO2JyZWFrO2Nhc2VcImJvb2xcIjplKFwiaWYoIXV0aWwua2V5MlJlLnRlc3QoJXMpKVwiLHIpKFwicmV0dXJuJWpcIixuKHQsXCJib29sZWFuIGtleVwiKSl9cmV0dXJuIGV9fSwxNTA4OihlLHQscik9PntcInVzZSBzdHJpY3RcIjt2YXIgbz10LGk9cig4NzAwKTtvW1wiLmdvb2dsZS5wcm90b2J1Zi5BbnlcIl09e2Zyb21PYmplY3Q6ZnVuY3Rpb24oZSl7aWYoZSYmZVtcIkB0eXBlXCJdKXt2YXIgdD1lW1wiQHR5cGVcIl0uc3Vic3RyaW5nKGVbXCJAdHlwZVwiXS5sYXN0SW5kZXhPZihcIi9cIikrMSkscj10aGlzLmxvb2t1cCh0KTtpZihyKXt2YXIgbz1cIi5cIj09PWVbXCJAdHlwZVwiXS5jaGFyQXQoMCk/ZVtcIkB0eXBlXCJdLnNsaWNlKDEpOmVbXCJAdHlwZVwiXTtyZXR1cm4tMT09PW8uaW5kZXhPZihcIi9cIikmJihvPVwiL1wiK28pLHRoaXMuY3JlYXRlKHt0eXBlX3VybDpvLHZhbHVlOnIuZW5jb2RlKHIuZnJvbU9iamVjdChlKSkuZmluaXNoKCl9KX19cmV0dXJuIHRoaXMuZnJvbU9iamVjdChlKX0sdG9PYmplY3Q6ZnVuY3Rpb24oZSx0KXt2YXIgcj1cIlwiLG89XCJcIjtpZih0JiZ0Lmpzb24mJmUudHlwZV91cmwmJmUudmFsdWUpe289ZS50eXBlX3VybC5zdWJzdHJpbmcoZS50eXBlX3VybC5sYXN0SW5kZXhPZihcIi9cIikrMSkscj1lLnR5cGVfdXJsLnN1YnN0cmluZygwLGUudHlwZV91cmwubGFzdEluZGV4T2YoXCIvXCIpKzEpO3ZhciBuPXRoaXMubG9va3VwKG8pO24mJihlPW4uZGVjb2RlKGUudmFsdWUpKX1pZighKGUgaW5zdGFuY2VvZiB0aGlzLmN0b3IpJiZlIGluc3RhbmNlb2YgaSl7dmFyIHM9ZS4kdHlwZS50b09iamVjdChlLHQpO3JldHVyblwiXCI9PT1yJiYocj1cInR5cGUuZ29vZ2xlYXBpcy5jb20vXCIpLG89cisoXCIuXCI9PT1lLiR0eXBlLmZ1bGxOYW1lWzBdP2UuJHR5cGUuZnVsbE5hbWUuc2xpY2UoMSk6ZS4kdHlwZS5mdWxsTmFtZSksc1tcIkB0eXBlXCJdPW8sc31yZXR1cm4gdGhpcy50b09iamVjdChlLHQpfX19LDI2NjQ6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1oO3ZhciBvLGk9cig5NzEyKSxuPWkuTG9uZ0JpdHMscz1pLmJhc2U2NCxhPWkudXRmODtmdW5jdGlvbiBjKGUsdCxyKXt0aGlzLmZuPWUsdGhpcy5sZW49dCx0aGlzLm5leHQ9dm9pZCAwLHRoaXMudmFsPXJ9ZnVuY3Rpb24gdSgpe31mdW5jdGlvbiBsKGUpe3RoaXMuaGVhZD1lLmhlYWQsdGhpcy50YWlsPWUudGFpbCx0aGlzLmxlbj1lLmxlbix0aGlzLm5leHQ9ZS5zdGF0ZXN9ZnVuY3Rpb24gaCgpe3RoaXMubGVuPTAsdGhpcy5oZWFkPW5ldyBjKHUsMCwwKSx0aGlzLnRhaWw9dGhpcy5oZWFkLHRoaXMuc3RhdGVzPW51bGx9dmFyIGQ9ZnVuY3Rpb24oKXtyZXR1cm4gaS5CdWZmZXI/ZnVuY3Rpb24oKXtyZXR1cm4oaC5jcmVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG99KSgpfTpmdW5jdGlvbigpe3JldHVybiBuZXcgaH19O2Z1bmN0aW9uIHAoZSx0LHIpe3Rbcl09MjU1JmV9ZnVuY3Rpb24gZyhlLHQpe3RoaXMubGVuPWUsdGhpcy5uZXh0PXZvaWQgMCx0aGlzLnZhbD10fWZ1bmN0aW9uIGYoZSx0LHIpe2Zvcig7ZS5oaTspdFtyKytdPTEyNyZlLmxvfDEyOCxlLmxvPShlLmxvPj4+N3xlLmhpPDwyNSk+Pj4wLGUuaGk+Pj49Nztmb3IoO2UubG8+MTI3Oyl0W3IrK109MTI3JmUubG98MTI4LGUubG89ZS5sbz4+Pjc7dFtyKytdPWUubG99ZnVuY3Rpb24gdihlLHQscil7dFtyXT0yNTUmZSx0W3IrMV09ZT4+PjgmMjU1LHRbcisyXT1lPj4+MTYmMjU1LHRbciszXT1lPj4+MjR9aC5jcmVhdGU9ZCgpLGguYWxsb2M9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpLkFycmF5KGUpfSxpLkFycmF5IT09QXJyYXkmJihoLmFsbG9jPWkucG9vbChoLmFsbG9jLGkuQXJyYXkucHJvdG90eXBlLnN1YmFycmF5KSksaC5wcm90b3R5cGUuX3B1c2g9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLnRhaWw9dGhpcy50YWlsLm5leHQ9bmV3IGMoZSx0LHIpLHRoaXMubGVuKz10LHRoaXN9LGcucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGcucHJvdG90eXBlLmZuPWZ1bmN0aW9uKGUsdCxyKXtmb3IoO2U+MTI3Oyl0W3IrK109MTI3JmV8MTI4LGU+Pj49Nzt0W3JdPWV9LGgucHJvdG90eXBlLnVpbnQzMj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5sZW4rPSh0aGlzLnRhaWw9dGhpcy50YWlsLm5leHQ9bmV3IGcoKGU+Pj49MCk8MTI4PzE6ZTwxNjM4ND8yOmU8MjA5NzE1Mj8zOmU8MjY4NDM1NDU2PzQ6NSxlKSkubGVuLHRoaXN9LGgucHJvdG90eXBlLmludDMyPWZ1bmN0aW9uKGUpe3JldHVybiBlPDA/dGhpcy5fcHVzaChmLDEwLG4uZnJvbU51bWJlcihlKSk6dGhpcy51aW50MzIoZSl9LGgucHJvdG90eXBlLnNpbnQzMj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy51aW50MzIoKGU8PDFeZT4+MzEpPj4+MCl9LGgucHJvdG90eXBlLnVpbnQ2ND1mdW5jdGlvbihlKXt2YXIgdD1uLmZyb20oZSk7cmV0dXJuIHRoaXMuX3B1c2goZix0Lmxlbmd0aCgpLHQpfSxoLnByb3RvdHlwZS5pbnQ2ND1oLnByb3RvdHlwZS51aW50NjQsaC5wcm90b3R5cGUuc2ludDY0PWZ1bmN0aW9uKGUpe3ZhciB0PW4uZnJvbShlKS56ekVuY29kZSgpO3JldHVybiB0aGlzLl9wdXNoKGYsdC5sZW5ndGgoKSx0KX0saC5wcm90b3R5cGUuYm9vbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcHVzaChwLDEsZT8xOjApfSxoLnByb3RvdHlwZS5maXhlZDMyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9wdXNoKHYsNCxlPj4+MCl9LGgucHJvdG90eXBlLnNmaXhlZDMyPWgucHJvdG90eXBlLmZpeGVkMzIsaC5wcm90b3R5cGUuZml4ZWQ2ND1mdW5jdGlvbihlKXt2YXIgdD1uLmZyb20oZSk7cmV0dXJuIHRoaXMuX3B1c2godiw0LHQubG8pLl9wdXNoKHYsNCx0LmhpKX0saC5wcm90b3R5cGUuc2ZpeGVkNjQ9aC5wcm90b3R5cGUuZml4ZWQ2NCxoLnByb3RvdHlwZS5mbG9hdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcHVzaChpLmZsb2F0LndyaXRlRmxvYXRMRSw0LGUpfSxoLnByb3RvdHlwZS5kb3VibGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3B1c2goaS5mbG9hdC53cml0ZURvdWJsZUxFLDgsZSl9O3ZhciBfPWkuQXJyYXkucHJvdG90eXBlLnNldD9mdW5jdGlvbihlLHQscil7dC5zZXQoZSxyKX06ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7KytvKXRbcitvXT1lW29dfTtoLnByb3RvdHlwZS5ieXRlcz1mdW5jdGlvbihlKXt2YXIgdD1lLmxlbmd0aD4+PjA7aWYoIXQpcmV0dXJuIHRoaXMuX3B1c2gocCwxLDApO2lmKGkuaXNTdHJpbmcoZSkpe3ZhciByPWguYWxsb2ModD1zLmxlbmd0aChlKSk7cy5kZWNvZGUoZSxyLDApLGU9cn1yZXR1cm4gdGhpcy51aW50MzIodCkuX3B1c2goXyx0LGUpfSxoLnByb3RvdHlwZS5zdHJpbmc9ZnVuY3Rpb24oZSl7dmFyIHQ9YS5sZW5ndGgoZSk7cmV0dXJuIHQ/dGhpcy51aW50MzIodCkuX3B1c2goYS53cml0ZSx0LGUpOnRoaXMuX3B1c2gocCwxLDApfSxoLnByb3RvdHlwZS5mb3JrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGVzPW5ldyBsKHRoaXMpLHRoaXMuaGVhZD10aGlzLnRhaWw9bmV3IGModSwwLDApLHRoaXMubGVuPTAsdGhpc30saC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZXM/KHRoaXMuaGVhZD10aGlzLnN0YXRlcy5oZWFkLHRoaXMudGFpbD10aGlzLnN0YXRlcy50YWlsLHRoaXMubGVuPXRoaXMuc3RhdGVzLmxlbix0aGlzLnN0YXRlcz10aGlzLnN0YXRlcy5uZXh0KToodGhpcy5oZWFkPXRoaXMudGFpbD1uZXcgYyh1LDAsMCksdGhpcy5sZW49MCksdGhpc30saC5wcm90b3R5cGUubGRlbGltPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5oZWFkLHQ9dGhpcy50YWlsLHI9dGhpcy5sZW47cmV0dXJuIHRoaXMucmVzZXQoKS51aW50MzIociksciYmKHRoaXMudGFpbC5uZXh0PWUubmV4dCx0aGlzLnRhaWw9dCx0aGlzLmxlbis9ciksdGhpc30saC5wcm90b3R5cGUuZmluaXNoPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuaGVhZC5uZXh0LHQ9dGhpcy5jb25zdHJ1Y3Rvci5hbGxvYyh0aGlzLmxlbikscj0wO2U7KWUuZm4oZS52YWwsdCxyKSxyKz1lLmxlbixlPWUubmV4dDtyZXR1cm4gdH0saC5fY29uZmlndXJlPWZ1bmN0aW9uKGUpe289ZSxoLmNyZWF0ZT1kKCksby5fY29uZmlndXJlKCl9fSw4MTM1OihlLHQscik9PntcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9bjt2YXIgbz1yKDI2NjQpOyhuLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9bjt2YXIgaT1yKDk3MTIpO2Z1bmN0aW9uIG4oKXtvLmNhbGwodGhpcyl9ZnVuY3Rpb24gcyhlLHQscil7ZS5sZW5ndGg8NDA/aS51dGY4LndyaXRlKGUsdCxyKTp0LnV0ZjhXcml0ZT90LnV0ZjhXcml0ZShlLHIpOnQud3JpdGUoZSxyKX1uLl9jb25maWd1cmU9ZnVuY3Rpb24oKXtuLmFsbG9jPWkuX0J1ZmZlcl9hbGxvY1Vuc2FmZSxuLndyaXRlQnl0ZXNCdWZmZXI9aS5CdWZmZXImJmkuQnVmZmVyLnByb3RvdHlwZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJlwic2V0XCI9PT1pLkJ1ZmZlci5wcm90b3R5cGUuc2V0Lm5hbWU/ZnVuY3Rpb24oZSx0LHIpe3Quc2V0KGUscil9OmZ1bmN0aW9uKGUsdCxyKXtpZihlLmNvcHkpZS5jb3B5KHQsciwwLGUubGVuZ3RoKTtlbHNlIGZvcih2YXIgbz0wO288ZS5sZW5ndGg7KXRbcisrXT1lW28rK119fSxuLnByb3RvdHlwZS5ieXRlcz1mdW5jdGlvbihlKXtpLmlzU3RyaW5nKGUpJiYoZT1pLl9CdWZmZXJfZnJvbShlLFwiYmFzZTY0XCIpKTt2YXIgdD1lLmxlbmd0aD4+PjA7cmV0dXJuIHRoaXMudWludDMyKHQpLHQmJnRoaXMuX3B1c2gobi53cml0ZUJ5dGVzQnVmZmVyLHQsZSksdGhpc30sbi5wcm90b3R5cGUuc3RyaW5nPWZ1bmN0aW9uKGUpe3ZhciB0PWkuQnVmZmVyLmJ5dGVMZW5ndGgoZSk7cmV0dXJuIHRoaXMudWludDMyKHQpLHQmJnRoaXMuX3B1c2gocyx0LGUpLHRoaXN9LG4uX2NvbmZpZ3VyZSgpfSwyODU2OihlLHQscik9PntcInVzZSBzdHJpY3RcIjtyLnIodCksci5kKHQse1ZFUlNJT046KCk9PmksYWZ0ZXI6KCk9Pk50LGFsbDooKT0+ZXIsYWxsS2V5czooKT0+dmUsYW55OigpPT50cixhc3NpZ246KCk9Pk5lLGJlZm9yZTooKT0+RnQsYmluZDooKT0+UnQsYmluZEFsbDooKT0+VnQsY2hhaW46KCk9Pnl0LGNodW5rOigpPT5EcixjbG9uZTooKT0+amUsY29sbGVjdDooKT0+SHQsY29tcGFjdDooKT0+VHIsY29tcG9zZTooKT0+d3QsY29uc3RhbnQ6KCk9PlosY29udGFpbnM6KCk9PnJyLGNvdW50Qnk6KCk9PnZyLGNyZWF0ZTooKT0+RGUsZGVib3VuY2U6KCk9Pkx0LGRlZmF1bHQ6KCk9PkdyLGRlZmF1bHRzOigpPT5GZSxkZWZlcjooKT0+Q3QsZGVsYXk6KCk9PmJ0LGRldGVjdDooKT0+S3QsZGlmZmVyZW5jZTooKT0+Q3IsZHJvcDooKT0+UHIsZWFjaDooKT0+V3QsZXNjYXBlOigpPT5zdCxldmVyeTooKT0+ZXIsZXh0ZW5kOigpPT53ZSxleHRlbmRPd246KCk9Pk5lLGZpbHRlcjooKT0+WnQsZmluZDooKT0+S3QsZmluZEluZGV4OigpPT5CdCxmaW5kS2V5OigpPT5EdCxmaW5kTGFzdEluZGV4OigpPT5VdCxmaW5kV2hlcmU6KCk9PnF0LGZpcnN0OigpPT5BcixmbGF0dGVuOigpPT5icixmb2xkbDooKT0+SnQsZm9sZHI6KCk9PiR0LGZvckVhY2g6KCk9Pld0LGZ1bmN0aW9uczooKT0+U2UsZ2V0OigpPT56ZSxncm91cEJ5OigpPT5ncixoYXM6KCk9PlllLGhlYWQ6KCk9PkFyLGlkZW50aXR5OigpPT5LZSxpbmNsdWRlOigpPT5ycixpbmNsdWRlczooKT0+cnIsaW5kZXhCeTooKT0+ZnIsaW5kZXhPZjooKT0+enQsaW5pdGlhbDooKT0+UnIsaW5qZWN0OigpPT5KdCxpbnRlcnNlY3Rpb246KCk9Pk1yLGludmVydDooKT0+TGUsaW52b2tlOigpPT5vcixpc0FyZ3VtZW50czooKT0+WCxpc0FycmF5OigpPT5xLGlzQXJyYXlCdWZmZXI6KCk9PkQsaXNCb29sZWFuOigpPT5DLGlzRGF0YVZpZXc6KCk9PkssaXNEYXRlOigpPT53LGlzRWxlbWVudDooKT0+Tyxpc0VtcHR5OigpPT5jZSxpc0VxdWFsOigpPT5mZSxpc0Vycm9yOigpPT5GLGlzRmluaXRlOigpPT5KLGlzRnVuY3Rpb246KCk9PlUsaXNNYXA6KCk9PlBlLGlzTWF0Y2g6KCk9PnVlLGlzTmFOOigpPT4kLGlzTnVsbDooKT0+VCxpc051bWJlcjooKT0+TSxpc09iamVjdDooKT0+Vixpc1JlZ0V4cDooKT0+Tixpc1NldDooKT0+VGUsaXNTdHJpbmc6KCk9PlMsaXNTeW1ib2w6KCk9PkksaXNUeXBlZEFycmF5OigpPT5pZSxpc1VuZGVmaW5lZDooKT0+Yixpc1dlYWtNYXA6KCk9PlZlLGlzV2Vha1NldDooKT0+YmUsaXRlcmF0ZWU6KCk9PkplLGtleXM6KCk9PmFlLGxhc3Q6KCk9PlZyLGxhc3RJbmRleE9mOigpPT5ZdCxtYXA6KCk9Pkh0LG1hcE9iamVjdDooKT0+WmUsbWF0Y2hlcjooKT0+cWUsbWF0Y2hlczooKT0+cWUsbWF4OigpPT5zcixtZW1vaXplOigpPT5UdCxtZXRob2RzOigpPT5TZSxtaW46KCk9PmFyLG1peGluOigpPT5CcixuZWdhdGU6KCk9Pk10LG5vb3A6KCk9PlFlLG5vdzooKT0+b3Qsb2JqZWN0OigpPT5GcixvbWl0OigpPT54cixvbmNlOigpPT5JdCxwYWlyczooKT0+T2UscGFydGlhbDooKT0+eHQscGFydGl0aW9uOigpPT5fcixwaWNrOigpPT5FcixwbHVjazooKT0+aXIscHJvcGVydHk6KCk9PldlLHByb3BlcnR5T2Y6KCk9PmV0LHJhbmRvbTooKT0+cnQscmFuZ2U6KCk9PklyLHJlZHVjZTooKT0+SnQscmVkdWNlUmlnaHQ6KCk9PiR0LHJlamVjdDooKT0+UXQscmVzdDooKT0+UHIscmVzdEFyZ3VtZW50czooKT0+UCxyZXN1bHQ6KCk9PmZ0LHNhbXBsZTooKT0+bHIsc2VsZWN0OigpPT5adCxzaHVmZmxlOigpPT5ocixzaXplOigpPT55cixzb21lOigpPT50cixzb3J0Qnk6KCk9PmRyLHNvcnRlZEluZGV4OigpPT5rdCx0YWlsOigpPT5Qcix0YWtlOigpPT5Bcix0YXA6KCk9PkJlLHRlbXBsYXRlOigpPT5ndCx0ZW1wbGF0ZVNldHRpbmdzOigpPT5jdCx0aHJvdHRsZTooKT0+T3QsdGltZXM6KCk9PnR0LHRvQXJyYXk6KCk9PnVyLHRvUGF0aDooKT0+VWUsdHJhbnNwb3NlOigpPT53cix1bmVzY2FwZTooKT0+YXQsdW5pb246KCk9PlNyLHVuaXE6KCk9PkxyLHVuaXF1ZTooKT0+THIsdW5pcXVlSWQ6KCk9Pl90LHVuemlwOigpPT53cix2YWx1ZXM6KCk9PkNlLHdoZXJlOigpPT5ucix3aXRob3V0OigpPT5Pcix3cmFwOigpPT5TdCx6aXA6KCk9Pk5yfSk7dmFyIG89e307ci5yKG8pLHIuZChvLHtWRVJTSU9OOigpPT5pLGFmdGVyOigpPT5OdCxhbGw6KCk9PmVyLGFsbEtleXM6KCk9PnZlLGFueTooKT0+dHIsYXNzaWduOigpPT5OZSxiZWZvcmU6KCk9PkZ0LGJpbmQ6KCk9PlJ0LGJpbmRBbGw6KCk9PlZ0LGNoYWluOigpPT55dCxjaHVuazooKT0+RHIsY2xvbmU6KCk9PmplLGNvbGxlY3Q6KCk9Pkh0LGNvbXBhY3Q6KCk9PlRyLGNvbXBvc2U6KCk9Pnd0LGNvbnN0YW50OigpPT5aLGNvbnRhaW5zOigpPT5ycixjb3VudEJ5OigpPT52cixjcmVhdGU6KCk9PkRlLGRlYm91bmNlOigpPT5MdCxkZWZhdWx0OigpPT5VcixkZWZhdWx0czooKT0+RmUsZGVmZXI6KCk9PkN0LGRlbGF5OigpPT5idCxkZXRlY3Q6KCk9Pkt0LGRpZmZlcmVuY2U6KCk9PkNyLGRyb3A6KCk9PlByLGVhY2g6KCk9Pld0LGVzY2FwZTooKT0+c3QsZXZlcnk6KCk9PmVyLGV4dGVuZDooKT0+d2UsZXh0ZW5kT3duOigpPT5OZSxmaWx0ZXI6KCk9Plp0LGZpbmQ6KCk9Pkt0LGZpbmRJbmRleDooKT0+QnQsZmluZEtleTooKT0+RHQsZmluZExhc3RJbmRleDooKT0+VXQsZmluZFdoZXJlOigpPT5xdCxmaXJzdDooKT0+QXIsZmxhdHRlbjooKT0+YnIsZm9sZGw6KCk9Pkp0LGZvbGRyOigpPT4kdCxmb3JFYWNoOigpPT5XdCxmdW5jdGlvbnM6KCk9PlNlLGdldDooKT0+emUsZ3JvdXBCeTooKT0+Z3IsaGFzOigpPT5ZZSxoZWFkOigpPT5BcixpZGVudGl0eTooKT0+S2UsaW5jbHVkZTooKT0+cnIsaW5jbHVkZXM6KCk9PnJyLGluZGV4Qnk6KCk9PmZyLGluZGV4T2Y6KCk9Pnp0LGluaXRpYWw6KCk9PlJyLGluamVjdDooKT0+SnQsaW50ZXJzZWN0aW9uOigpPT5NcixpbnZlcnQ6KCk9PkxlLGludm9rZTooKT0+b3IsaXNBcmd1bWVudHM6KCk9PlgsaXNBcnJheTooKT0+cSxpc0FycmF5QnVmZmVyOigpPT5ELGlzQm9vbGVhbjooKT0+Qyxpc0RhdGFWaWV3OigpPT5LLGlzRGF0ZTooKT0+dyxpc0VsZW1lbnQ6KCk9Pk8saXNFbXB0eTooKT0+Y2UsaXNFcXVhbDooKT0+ZmUsaXNFcnJvcjooKT0+Rixpc0Zpbml0ZTooKT0+Sixpc0Z1bmN0aW9uOigpPT5VLGlzTWFwOigpPT5QZSxpc01hdGNoOigpPT51ZSxpc05hTjooKT0+JCxpc051bGw6KCk9PlQsaXNOdW1iZXI6KCk9Pk0saXNPYmplY3Q6KCk9PlYsaXNSZWdFeHA6KCk9Pk4saXNTZXQ6KCk9PlRlLGlzU3RyaW5nOigpPT5TLGlzU3ltYm9sOigpPT5JLGlzVHlwZWRBcnJheTooKT0+aWUsaXNVbmRlZmluZWQ6KCk9PmIsaXNXZWFrTWFwOigpPT5WZSxpc1dlYWtTZXQ6KCk9PmJlLGl0ZXJhdGVlOigpPT5KZSxrZXlzOigpPT5hZSxsYXN0OigpPT5WcixsYXN0SW5kZXhPZjooKT0+WXQsbWFwOigpPT5IdCxtYXBPYmplY3Q6KCk9PlplLG1hdGNoZXI6KCk9PnFlLG1hdGNoZXM6KCk9PnFlLG1heDooKT0+c3IsbWVtb2l6ZTooKT0+VHQsbWV0aG9kczooKT0+U2UsbWluOigpPT5hcixtaXhpbjooKT0+QnIsbmVnYXRlOigpPT5NdCxub29wOigpPT5RZSxub3c6KCk9Pm90LG9iamVjdDooKT0+RnIsb21pdDooKT0+eHIsb25jZTooKT0+SXQscGFpcnM6KCk9Pk9lLHBhcnRpYWw6KCk9Pnh0LHBhcnRpdGlvbjooKT0+X3IscGljazooKT0+RXIscGx1Y2s6KCk9PmlyLHByb3BlcnR5OigpPT5XZSxwcm9wZXJ0eU9mOigpPT5ldCxyYW5kb206KCk9PnJ0LHJhbmdlOigpPT5JcixyZWR1Y2U6KCk9Pkp0LHJlZHVjZVJpZ2h0OigpPT4kdCxyZWplY3Q6KCk9PlF0LHJlc3Q6KCk9PlByLHJlc3RBcmd1bWVudHM6KCk9PlAscmVzdWx0OigpPT5mdCxzYW1wbGU6KCk9PmxyLHNlbGVjdDooKT0+WnQsc2h1ZmZsZTooKT0+aHIsc2l6ZTooKT0+eXIsc29tZTooKT0+dHIsc29ydEJ5OigpPT5kcixzb3J0ZWRJbmRleDooKT0+a3QsdGFpbDooKT0+UHIsdGFrZTooKT0+QXIsdGFwOigpPT5CZSx0ZW1wbGF0ZTooKT0+Z3QsdGVtcGxhdGVTZXR0aW5nczooKT0+Y3QsdGhyb3R0bGU6KCk9Pk90LHRpbWVzOigpPT50dCx0b0FycmF5OigpPT51cix0b1BhdGg6KCk9PlVlLHRyYW5zcG9zZTooKT0+d3IsdW5lc2NhcGU6KCk9PmF0LHVuaW9uOigpPT5Tcix1bmlxOigpPT5Mcix1bmlxdWU6KCk9PkxyLHVuaXF1ZUlkOigpPT5fdCx1bnppcDooKT0+d3IsdmFsdWVzOigpPT5DZSx3aGVyZTooKT0+bnIsd2l0aG91dDooKT0+T3Isd3JhcDooKT0+U3QsemlwOigpPT5Ocn0pO3ZhciBpPVwiMS4xMy42XCIsbj1cIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZi5zZWxmPT09c2VsZiYmc2VsZnx8XCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbCYmZ2xvYmFsLmdsb2JhbD09PWdsb2JhbCYmZ2xvYmFsfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl8fHt9LHM9QXJyYXkucHJvdG90eXBlLGE9T2JqZWN0LnByb3RvdHlwZSxjPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2w/U3ltYm9sLnByb3RvdHlwZTpudWxsLHU9cy5wdXNoLGw9cy5zbGljZSxoPWEudG9TdHJpbmcsZD1hLmhhc093blByb3BlcnR5LHA9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFycmF5QnVmZmVyLGc9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIERhdGFWaWV3LGY9QXJyYXkuaXNBcnJheSx2PU9iamVjdC5rZXlzLF89T2JqZWN0LmNyZWF0ZSx5PXAmJkFycmF5QnVmZmVyLmlzVmlldyxtPWlzTmFOLEU9aXNGaW5pdGUseD0he3RvU3RyaW5nOm51bGx9LnByb3BlcnR5SXNFbnVtZXJhYmxlKFwidG9TdHJpbmdcIiksUj1bXCJ2YWx1ZU9mXCIsXCJpc1Byb3RvdHlwZU9mXCIsXCJ0b1N0cmluZ1wiLFwicHJvcGVydHlJc0VudW1lcmFibGVcIixcImhhc093blByb3BlcnR5XCIsXCJ0b0xvY2FsZVN0cmluZ1wiXSxBPU1hdGgucG93KDIsNTMpLTE7ZnVuY3Rpb24gUChlLHQpe3JldHVybiB0PW51bGw9PXQ/ZS5sZW5ndGgtMTordCxmdW5jdGlvbigpe2Zvcih2YXIgcj1NYXRoLm1heChhcmd1bWVudHMubGVuZ3RoLXQsMCksbz1BcnJheShyKSxpPTA7aTxyO2krKylvW2ldPWFyZ3VtZW50c1tpK3RdO3N3aXRjaCh0KXtjYXNlIDA6cmV0dXJuIGUuY2FsbCh0aGlzLG8pO2Nhc2UgMTpyZXR1cm4gZS5jYWxsKHRoaXMsYXJndW1lbnRzWzBdLG8pO2Nhc2UgMjpyZXR1cm4gZS5jYWxsKHRoaXMsYXJndW1lbnRzWzBdLGFyZ3VtZW50c1sxXSxvKX12YXIgbj1BcnJheSh0KzEpO2ZvcihpPTA7aTx0O2krKyluW2ldPWFyZ3VtZW50c1tpXTtyZXR1cm4gblt0XT1vLGUuYXBwbHkodGhpcyxuKX19ZnVuY3Rpb24gVihlKXt2YXIgdD10eXBlb2YgZTtyZXR1cm5cImZ1bmN0aW9uXCI9PT10fHxcIm9iamVjdFwiPT09dCYmISFlfWZ1bmN0aW9uIFQoZSl7cmV0dXJuIG51bGw9PT1lfWZ1bmN0aW9uIGIoZSl7cmV0dXJuIHZvaWQgMD09PWV9ZnVuY3Rpb24gQyhlKXtyZXR1cm4hMD09PWV8fCExPT09ZXx8XCJbb2JqZWN0IEJvb2xlYW5dXCI9PT1oLmNhbGwoZSl9ZnVuY3Rpb24gTyhlKXtyZXR1cm4hKCFlfHwxIT09ZS5ub2RlVHlwZSl9ZnVuY3Rpb24gTChlKXt2YXIgdD1cIltvYmplY3QgXCIrZStcIl1cIjtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGguY2FsbChlKT09PXR9fWNvbnN0IFM9TChcIlN0cmluZ1wiKSxNPUwoXCJOdW1iZXJcIiksdz1MKFwiRGF0ZVwiKSxOPUwoXCJSZWdFeHBcIiksRj1MKFwiRXJyb3JcIiksST1MKFwiU3ltYm9sXCIpLEQ9TChcIkFycmF5QnVmZmVyXCIpO3ZhciBqPUwoXCJGdW5jdGlvblwiKSxCPW4uZG9jdW1lbnQmJm4uZG9jdW1lbnQuY2hpbGROb2RlcztcIm9iamVjdFwiIT10eXBlb2YgSW50OEFycmF5JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBCJiYoaj1mdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlfHwhMX0pO2NvbnN0IFU9aixrPUwoXCJPYmplY3RcIik7dmFyIEc9ZyYmayhuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDgpKSksej1cInVuZGVmaW5lZFwiIT10eXBlb2YgTWFwJiZrKG5ldyBNYXApLFk9TChcIkRhdGFWaWV3XCIpO2NvbnN0IEs9Rz9mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmVShlLmdldEludDgpJiZEKGUuYnVmZmVyKX06WSxxPWZ8fEwoXCJBcnJheVwiKTtmdW5jdGlvbiBXKGUsdCl7cmV0dXJuIG51bGwhPWUmJmQuY2FsbChlLHQpfXZhciBIPUwoXCJBcmd1bWVudHNcIik7IWZ1bmN0aW9uKCl7SChhcmd1bWVudHMpfHwoSD1mdW5jdGlvbihlKXtyZXR1cm4gVyhlLFwiY2FsbGVlXCIpfSl9KCk7Y29uc3QgWD1IO2Z1bmN0aW9uIEooZSl7cmV0dXJuIUkoZSkmJkUoZSkmJiFpc05hTihwYXJzZUZsb2F0KGUpKX1mdW5jdGlvbiAkKGUpe3JldHVybiBNKGUpJiZtKGUpfWZ1bmN0aW9uIFooZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGV9fWZ1bmN0aW9uIFEoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciByPWUodCk7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHImJnI+PTAmJnI8PUF9fWZ1bmN0aW9uIGVlKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD92b2lkIDA6dFtlXX19Y29uc3QgdGU9ZWUoXCJieXRlTGVuZ3RoXCIpLHJlPVEodGUpO3ZhciBvZT0vXFxbb2JqZWN0ICgoSXxVaSludCg4fDE2fDMyKXxGbG9hdCgzMnw2NCl8VWludDhDbGFtcGVkfEJpZyhJfFVpKW50NjQpQXJyYXlcXF0vO2NvbnN0IGllPXA/ZnVuY3Rpb24oZSl7cmV0dXJuIHk/eShlKSYmIUsoZSk6cmUoZSkmJm9lLnRlc3QoaC5jYWxsKGUpKX06WighMSksbmU9ZWUoXCJsZW5ndGhcIik7ZnVuY3Rpb24gc2UoZSx0KXt0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD17fSxyPWUubGVuZ3RoLG89MDtvPHI7KytvKXRbZVtvXV09ITA7cmV0dXJue2NvbnRhaW5zOmZ1bmN0aW9uKGUpe3JldHVybiEwPT09dFtlXX0scHVzaDpmdW5jdGlvbihyKXtyZXR1cm4gdFtyXT0hMCxlLnB1c2gocil9fX0odCk7dmFyIHI9Ui5sZW5ndGgsbz1lLmNvbnN0cnVjdG9yLGk9VShvKSYmby5wcm90b3R5cGV8fGEsbj1cImNvbnN0cnVjdG9yXCI7Zm9yKFcoZSxuKSYmIXQuY29udGFpbnMobikmJnQucHVzaChuKTtyLS07KShuPVJbcl0paW4gZSYmZVtuXSE9PWlbbl0mJiF0LmNvbnRhaW5zKG4pJiZ0LnB1c2gobil9ZnVuY3Rpb24gYWUoZSl7aWYoIVYoZSkpcmV0dXJuW107aWYodilyZXR1cm4gdihlKTt2YXIgdD1bXTtmb3IodmFyIHIgaW4gZSlXKGUscikmJnQucHVzaChyKTtyZXR1cm4geCYmc2UoZSx0KSx0fWZ1bmN0aW9uIGNlKGUpe2lmKG51bGw9PWUpcmV0dXJuITA7dmFyIHQ9bmUoZSk7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQmJihxKGUpfHxTKGUpfHxYKGUpKT8wPT09dDowPT09bmUoYWUoZSkpfWZ1bmN0aW9uIHVlKGUsdCl7dmFyIHI9YWUodCksbz1yLmxlbmd0aDtpZihudWxsPT1lKXJldHVybiFvO2Zvcih2YXIgaT1PYmplY3QoZSksbj0wO248bztuKyspe3ZhciBzPXJbbl07aWYodFtzXSE9PWlbc118fCEocyBpbiBpKSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBsZShlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGxlP2U6dGhpcyBpbnN0YW5jZW9mIGxlP3ZvaWQodGhpcy5fd3JhcHBlZD1lKTpuZXcgbGUoZSl9ZnVuY3Rpb24gaGUoZSl7cmV0dXJuIG5ldyBVaW50OEFycmF5KGUuYnVmZmVyfHxlLGUuYnl0ZU9mZnNldHx8MCx0ZShlKSl9bGUuVkVSU0lPTj1pLGxlLnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl93cmFwcGVkfSxsZS5wcm90b3R5cGUudmFsdWVPZj1sZS5wcm90b3R5cGUudG9KU09OPWxlLnByb3RvdHlwZS52YWx1ZSxsZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gU3RyaW5nKHRoaXMuX3dyYXBwZWQpfTt2YXIgZGU9XCJbb2JqZWN0IERhdGFWaWV3XVwiO2Z1bmN0aW9uIHBlKGUsdCxyLG8pe2lmKGU9PT10KXJldHVybiAwIT09ZXx8MS9lPT0xL3Q7aWYobnVsbD09ZXx8bnVsbD09dClyZXR1cm4hMTtpZihlIT1lKXJldHVybiB0IT10O3ZhciBpPXR5cGVvZiBlO3JldHVybihcImZ1bmN0aW9uXCI9PT1pfHxcIm9iamVjdFwiPT09aXx8XCJvYmplY3RcIj09dHlwZW9mIHQpJiZnZShlLHQscixvKX1mdW5jdGlvbiBnZShlLHQscixvKXtlIGluc3RhbmNlb2YgbGUmJihlPWUuX3dyYXBwZWQpLHQgaW5zdGFuY2VvZiBsZSYmKHQ9dC5fd3JhcHBlZCk7dmFyIGk9aC5jYWxsKGUpO2lmKGkhPT1oLmNhbGwodCkpcmV0dXJuITE7aWYoRyYmXCJbb2JqZWN0IE9iamVjdF1cIj09aSYmSyhlKSl7aWYoIUsodCkpcmV0dXJuITE7aT1kZX1zd2l0Y2goaSl7Y2FzZVwiW29iamVjdCBSZWdFeHBdXCI6Y2FzZVwiW29iamVjdCBTdHJpbmddXCI6cmV0dXJuXCJcIitlPT1cIlwiK3Q7Y2FzZVwiW29iamVjdCBOdW1iZXJdXCI6cmV0dXJuK2UhPStlPyt0IT0rdDowPT0rZT8xLytlPT0xL3Q6K2U9PSt0O2Nhc2VcIltvYmplY3QgRGF0ZV1cIjpjYXNlXCJbb2JqZWN0IEJvb2xlYW5dXCI6cmV0dXJuK2U9PSt0O2Nhc2VcIltvYmplY3QgU3ltYm9sXVwiOnJldHVybiBjLnZhbHVlT2YuY2FsbChlKT09PWMudmFsdWVPZi5jYWxsKHQpO2Nhc2VcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI6Y2FzZSBkZTpyZXR1cm4gZ2UoaGUoZSksaGUodCkscixvKX12YXIgbj1cIltvYmplY3QgQXJyYXldXCI9PT1pO2lmKCFuJiZpZShlKSl7aWYodGUoZSkhPT10ZSh0KSlyZXR1cm4hMTtpZihlLmJ1ZmZlcj09PXQuYnVmZmVyJiZlLmJ5dGVPZmZzZXQ9PT10LmJ5dGVPZmZzZXQpcmV0dXJuITA7bj0hMH1pZighbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fFwib2JqZWN0XCIhPXR5cGVvZiB0KXJldHVybiExO3ZhciBzPWUuY29uc3RydWN0b3IsYT10LmNvbnN0cnVjdG9yO2lmKHMhPT1hJiYhKFUocykmJnMgaW5zdGFuY2VvZiBzJiZVKGEpJiZhIGluc3RhbmNlb2YgYSkmJlwiY29uc3RydWN0b3JcImluIGUmJlwiY29uc3RydWN0b3JcImluIHQpcmV0dXJuITF9bz1vfHxbXTtmb3IodmFyIHU9KHI9cnx8W10pLmxlbmd0aDt1LS07KWlmKHJbdV09PT1lKXJldHVybiBvW3VdPT09dDtpZihyLnB1c2goZSksby5wdXNoKHQpLG4pe2lmKCh1PWUubGVuZ3RoKSE9PXQubGVuZ3RoKXJldHVybiExO2Zvcig7dS0tOylpZighcGUoZVt1XSx0W3VdLHIsbykpcmV0dXJuITF9ZWxzZXt2YXIgbCxkPWFlKGUpO2lmKHU9ZC5sZW5ndGgsYWUodCkubGVuZ3RoIT09dSlyZXR1cm4hMTtmb3IoO3UtLTspaWYoIVcodCxsPWRbdV0pfHwhcGUoZVtsXSx0W2xdLHIsbykpcmV0dXJuITF9cmV0dXJuIHIucG9wKCksby5wb3AoKSwhMH1mdW5jdGlvbiBmZShlLHQpe3JldHVybiBwZShlLHQpfWZ1bmN0aW9uIHZlKGUpe2lmKCFWKGUpKXJldHVybltdO3ZhciB0PVtdO2Zvcih2YXIgciBpbiBlKXQucHVzaChyKTtyZXR1cm4geCYmc2UoZSx0KSx0fWZ1bmN0aW9uIF9lKGUpe3ZhciB0PW5lKGUpO3JldHVybiBmdW5jdGlvbihyKXtpZihudWxsPT1yKXJldHVybiExO3ZhciBvPXZlKHIpO2lmKG5lKG8pKXJldHVybiExO2Zvcih2YXIgaT0wO2k8dDtpKyspaWYoIVUocltlW2ldXSkpcmV0dXJuITE7cmV0dXJuIGUhPT1SZXx8IVUoclt5ZV0pfX12YXIgeWU9XCJmb3JFYWNoXCIsbWU9W1wiY2xlYXJcIixcImRlbGV0ZVwiXSxFZT1bXCJnZXRcIixcImhhc1wiLFwic2V0XCJdLHhlPW1lLmNvbmNhdCh5ZSxFZSksUmU9bWUuY29uY2F0KEVlKSxBZT1bXCJhZGRcIl0uY29uY2F0KG1lLHllLFwiaGFzXCIpO2NvbnN0IFBlPXo/X2UoeGUpOkwoXCJNYXBcIiksVmU9ej9fZShSZSk6TChcIldlYWtNYXBcIiksVGU9ej9fZShBZSk6TChcIlNldFwiKSxiZT1MKFwiV2Vha1NldFwiKTtmdW5jdGlvbiBDZShlKXtmb3IodmFyIHQ9YWUoZSkscj10Lmxlbmd0aCxvPUFycmF5KHIpLGk9MDtpPHI7aSsrKW9baV09ZVt0W2ldXTtyZXR1cm4gb31mdW5jdGlvbiBPZShlKXtmb3IodmFyIHQ9YWUoZSkscj10Lmxlbmd0aCxvPUFycmF5KHIpLGk9MDtpPHI7aSsrKW9baV09W3RbaV0sZVt0W2ldXV07cmV0dXJuIG99ZnVuY3Rpb24gTGUoZSl7Zm9yKHZhciB0PXt9LHI9YWUoZSksbz0wLGk9ci5sZW5ndGg7bzxpO28rKyl0W2VbcltvXV1dPXJbb107cmV0dXJuIHR9ZnVuY3Rpb24gU2UoZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpVShlW3JdKSYmdC5wdXNoKHIpO3JldHVybiB0LnNvcnQoKX1mdW5jdGlvbiBNZShlLHQpe3JldHVybiBmdW5jdGlvbihyKXt2YXIgbz1hcmd1bWVudHMubGVuZ3RoO2lmKHQmJihyPU9iamVjdChyKSksbzwyfHxudWxsPT1yKXJldHVybiByO2Zvcih2YXIgaT0xO2k8bztpKyspZm9yKHZhciBuPWFyZ3VtZW50c1tpXSxzPWUobiksYT1zLmxlbmd0aCxjPTA7YzxhO2MrKyl7dmFyIHU9c1tjXTt0JiZ2b2lkIDAhPT1yW3VdfHwoclt1XT1uW3VdKX1yZXR1cm4gcn19Y29uc3Qgd2U9TWUodmUpLE5lPU1lKGFlKSxGZT1NZSh2ZSwhMCk7ZnVuY3Rpb24gSWUoZSl7aWYoIVYoZSkpcmV0dXJue307aWYoXylyZXR1cm4gXyhlKTt2YXIgdD1mdW5jdGlvbigpe307dC5wcm90b3R5cGU9ZTt2YXIgcj1uZXcgdDtyZXR1cm4gdC5wcm90b3R5cGU9bnVsbCxyfWZ1bmN0aW9uIERlKGUsdCl7dmFyIHI9SWUoZSk7cmV0dXJuIHQmJk5lKHIsdCkscn1mdW5jdGlvbiBqZShlKXtyZXR1cm4gVihlKT9xKGUpP2Uuc2xpY2UoKTp3ZSh7fSxlKTplfWZ1bmN0aW9uIEJlKGUsdCl7cmV0dXJuIHQoZSksZX1mdW5jdGlvbiBVZShlKXtyZXR1cm4gcShlKT9lOltlXX1mdW5jdGlvbiBrZShlKXtyZXR1cm4gbGUudG9QYXRoKGUpfWZ1bmN0aW9uIEdlKGUsdCl7Zm9yKHZhciByPXQubGVuZ3RoLG89MDtvPHI7bysrKXtpZihudWxsPT1lKXJldHVybjtlPWVbdFtvXV19cmV0dXJuIHI/ZTp2b2lkIDB9ZnVuY3Rpb24gemUoZSx0LHIpe3ZhciBvPUdlKGUsa2UodCkpO3JldHVybiBiKG8pP3I6b31mdW5jdGlvbiBZZShlLHQpe2Zvcih2YXIgcj0odD1rZSh0KSkubGVuZ3RoLG89MDtvPHI7bysrKXt2YXIgaT10W29dO2lmKCFXKGUsaSkpcmV0dXJuITE7ZT1lW2ldfXJldHVybiEhcn1mdW5jdGlvbiBLZShlKXtyZXR1cm4gZX1mdW5jdGlvbiBxZShlKXtyZXR1cm4gZT1OZSh7fSxlKSxmdW5jdGlvbih0KXtyZXR1cm4gdWUodCxlKX19ZnVuY3Rpb24gV2UoZSl7cmV0dXJuIGU9a2UoZSksZnVuY3Rpb24odCl7cmV0dXJuIEdlKHQsZSl9fWZ1bmN0aW9uIEhlKGUsdCxyKXtpZih2b2lkIDA9PT10KXJldHVybiBlO3N3aXRjaChudWxsPT1yPzM6cil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixvLGkpe3JldHVybiBlLmNhbGwodCxyLG8saSl9O2Nhc2UgNDpyZXR1cm4gZnVuY3Rpb24ocixvLGksbil7cmV0dXJuIGUuY2FsbCh0LHIsbyxpLG4pfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fWZ1bmN0aW9uIFhlKGUsdCxyKXtyZXR1cm4gbnVsbD09ZT9LZTpVKGUpP0hlKGUsdCxyKTpWKGUpJiYhcShlKT9xZShlKTpXZShlKX1mdW5jdGlvbiBKZShlLHQpe3JldHVybiBYZShlLHQsMS8wKX1mdW5jdGlvbiAkZShlLHQscil7cmV0dXJuIGxlLml0ZXJhdGVlIT09SmU/bGUuaXRlcmF0ZWUoZSx0KTpYZShlLHQscil9ZnVuY3Rpb24gWmUoZSx0LHIpe3Q9JGUodCxyKTtmb3IodmFyIG89YWUoZSksaT1vLmxlbmd0aCxuPXt9LHM9MDtzPGk7cysrKXt2YXIgYT1vW3NdO25bYV09dChlW2FdLGEsZSl9cmV0dXJuIG59ZnVuY3Rpb24gUWUoKXt9ZnVuY3Rpb24gZXQoZSl7cmV0dXJuIG51bGw9PWU/UWU6ZnVuY3Rpb24odCl7cmV0dXJuIHplKGUsdCl9fWZ1bmN0aW9uIHR0KGUsdCxyKXt2YXIgbz1BcnJheShNYXRoLm1heCgwLGUpKTt0PUhlKHQsciwxKTtmb3IodmFyIGk9MDtpPGU7aSsrKW9baV09dChpKTtyZXR1cm4gb31mdW5jdGlvbiBydChlLHQpe3JldHVybiBudWxsPT10JiYodD1lLGU9MCksZStNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKHQtZSsxKSl9bGUudG9QYXRoPVVlLGxlLml0ZXJhdGVlPUplO2NvbnN0IG90PURhdGUubm93fHxmdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfTtmdW5jdGlvbiBpdChlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0scj1cIig/OlwiK2FlKGUpLmpvaW4oXCJ8XCIpK1wiKVwiLG89UmVnRXhwKHIpLGk9UmVnRXhwKHIsXCJnXCIpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZT1udWxsPT1lP1wiXCI6XCJcIitlLG8udGVzdChlKT9lLnJlcGxhY2UoaSx0KTplfX1jb25zdCBudD17XCImXCI6XCImYW1wO1wiLFwiPFwiOlwiJmx0O1wiLFwiPlwiOlwiJmd0O1wiLCdcIic6XCImcXVvdDtcIixcIidcIjpcIiYjeDI3O1wiLFwiYFwiOlwiJiN4NjA7XCJ9LHN0PWl0KG50KSxhdD1pdChMZShudCkpLGN0PWxlLnRlbXBsYXRlU2V0dGluZ3M9e2V2YWx1YXRlOi88JShbXFxzXFxTXSs/KSU+L2csaW50ZXJwb2xhdGU6LzwlPShbXFxzXFxTXSs/KSU+L2csZXNjYXBlOi88JS0oW1xcc1xcU10rPyklPi9nfTt2YXIgdXQ9LyguKV4vLGx0PXtcIidcIjpcIidcIixcIlxcXFxcIjpcIlxcXFxcIixcIlxcclwiOlwiclwiLFwiXFxuXCI6XCJuXCIsXCJcXHUyMDI4XCI6XCJ1MjAyOFwiLFwiXFx1MjAyOVwiOlwidTIwMjlcIn0saHQ9L1xcXFx8J3xcXHJ8XFxufFxcdTIwMjh8XFx1MjAyOS9nO2Z1bmN0aW9uIGR0KGUpe3JldHVyblwiXFxcXFwiK2x0W2VdfXZhciBwdD0vXlxccyooXFx3fFxcJCkrXFxzKiQvO2Z1bmN0aW9uIGd0KGUsdCxyKXshdCYmciYmKHQ9ciksdD1GZSh7fSx0LGxlLnRlbXBsYXRlU2V0dGluZ3MpO3ZhciBvPVJlZ0V4cChbKHQuZXNjYXBlfHx1dCkuc291cmNlLCh0LmludGVycG9sYXRlfHx1dCkuc291cmNlLCh0LmV2YWx1YXRlfHx1dCkuc291cmNlXS5qb2luKFwifFwiKStcInwkXCIsXCJnXCIpLGk9MCxuPVwiX19wKz0nXCI7ZS5yZXBsYWNlKG8sKGZ1bmN0aW9uKHQscixvLHMsYSl7cmV0dXJuIG4rPWUuc2xpY2UoaSxhKS5yZXBsYWNlKGh0LGR0KSxpPWErdC5sZW5ndGgscj9uKz1cIicrXFxuKChfX3Q9KFwiK3IrXCIpKT09bnVsbD8nJzpfLmVzY2FwZShfX3QpKStcXG4nXCI6bz9uKz1cIicrXFxuKChfX3Q9KFwiK28rXCIpKT09bnVsbD8nJzpfX3QpK1xcbidcIjpzJiYobis9XCInO1xcblwiK3MrXCJcXG5fX3ArPSdcIiksdH0pKSxuKz1cIic7XFxuXCI7dmFyIHMsYT10LnZhcmlhYmxlO2lmKGEpe2lmKCFwdC50ZXN0KGEpKXRocm93IG5ldyBFcnJvcihcInZhcmlhYmxlIGlzIG5vdCBhIGJhcmUgaWRlbnRpZmllcjogXCIrYSl9ZWxzZSBuPVwid2l0aChvYmp8fHt9KXtcXG5cIituK1wifVxcblwiLGE9XCJvYmpcIjtuPVwidmFyIF9fdCxfX3A9JycsX19qPUFycmF5LnByb3RvdHlwZS5qb2luLHByaW50PWZ1bmN0aW9uKCl7X19wKz1fX2ouY2FsbChhcmd1bWVudHMsJycpO307XFxuXCIrbitcInJldHVybiBfX3A7XFxuXCI7dHJ5e3M9bmV3IEZ1bmN0aW9uKGEsXCJfXCIsbil9Y2F0Y2goZSl7dGhyb3cgZS5zb3VyY2U9bixlfXZhciBjPWZ1bmN0aW9uKGUpe3JldHVybiBzLmNhbGwodGhpcyxlLGxlKX07cmV0dXJuIGMuc291cmNlPVwiZnVuY3Rpb24oXCIrYStcIil7XFxuXCIrbitcIn1cIixjfWZ1bmN0aW9uIGZ0KGUsdCxyKXt2YXIgbz0odD1rZSh0KSkubGVuZ3RoO2lmKCFvKXJldHVybiBVKHIpP3IuY2FsbChlKTpyO2Zvcih2YXIgaT0wO2k8bztpKyspe3ZhciBuPW51bGw9PWU/dm9pZCAwOmVbdFtpXV07dm9pZCAwPT09biYmKG49cixpPW8pLGU9VShuKT9uLmNhbGwoZSk6bn1yZXR1cm4gZX12YXIgdnQ9MDtmdW5jdGlvbiBfdChlKXt2YXIgdD0rK3Z0K1wiXCI7cmV0dXJuIGU/ZSt0OnR9ZnVuY3Rpb24geXQoZSl7dmFyIHQ9bGUoZSk7cmV0dXJuIHQuX2NoYWluPSEwLHR9ZnVuY3Rpb24gbXQoZSx0LHIsbyxpKXtpZighKG8gaW5zdGFuY2VvZiB0KSlyZXR1cm4gZS5hcHBseShyLGkpO3ZhciBuPUllKGUucHJvdG90eXBlKSxzPWUuYXBwbHkobixpKTtyZXR1cm4gVihzKT9zOm59dmFyIEV0PVAoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9RXQucGxhY2Vob2xkZXIsbz1mdW5jdGlvbigpe2Zvcih2YXIgaT0wLG49dC5sZW5ndGgscz1BcnJheShuKSxhPTA7YTxuO2ErKylzW2FdPXRbYV09PT1yP2FyZ3VtZW50c1tpKytdOnRbYV07Zm9yKDtpPGFyZ3VtZW50cy5sZW5ndGg7KXMucHVzaChhcmd1bWVudHNbaSsrXSk7cmV0dXJuIG10KGUsbyx0aGlzLHRoaXMscyl9O3JldHVybiBvfSkpO0V0LnBsYWNlaG9sZGVyPWxlO2NvbnN0IHh0PUV0LFJ0PVAoKGZ1bmN0aW9uKGUsdCxyKXtpZighVShlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQmluZCBtdXN0IGJlIGNhbGxlZCBvbiBhIGZ1bmN0aW9uXCIpO3ZhciBvPVAoKGZ1bmN0aW9uKGkpe3JldHVybiBtdChlLG8sdCx0aGlzLHIuY29uY2F0KGkpKX0pKTtyZXR1cm4gb30pKSxBdD1RKG5lKTtmdW5jdGlvbiBQdChlLHQscixvKXtpZihvPW98fFtdLHR8fDA9PT10KXtpZih0PD0wKXJldHVybiBvLmNvbmNhdChlKX1lbHNlIHQ9MS8wO2Zvcih2YXIgaT1vLmxlbmd0aCxuPTAscz1uZShlKTtuPHM7bisrKXt2YXIgYT1lW25dO2lmKEF0KGEpJiYocShhKXx8WChhKSkpaWYodD4xKVB0KGEsdC0xLHIsbyksaT1vLmxlbmd0aDtlbHNlIGZvcih2YXIgYz0wLHU9YS5sZW5ndGg7Yzx1OylvW2krK109YVtjKytdO2Vsc2Ugcnx8KG9baSsrXT1hKX1yZXR1cm4gb31jb25zdCBWdD1QKChmdW5jdGlvbihlLHQpe3ZhciByPSh0PVB0KHQsITEsITEpKS5sZW5ndGg7aWYocjwxKXRocm93IG5ldyBFcnJvcihcImJpbmRBbGwgbXVzdCBiZSBwYXNzZWQgZnVuY3Rpb24gbmFtZXNcIik7Zm9yKDtyLS07KXt2YXIgbz10W3JdO2Vbb109UnQoZVtvXSxlKX1yZXR1cm4gZX0pKTtmdW5jdGlvbiBUdChlLHQpe3ZhciByPWZ1bmN0aW9uKG8pe3ZhciBpPXIuY2FjaGUsbj1cIlwiKyh0P3QuYXBwbHkodGhpcyxhcmd1bWVudHMpOm8pO3JldHVybiBXKGksbil8fChpW25dPWUuYXBwbHkodGhpcyxhcmd1bWVudHMpKSxpW25dfTtyZXR1cm4gci5jYWNoZT17fSxyfWNvbnN0IGJ0PVAoKGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseShudWxsLHIpfSksdCl9KSksQ3Q9eHQoYnQsbGUsMSk7ZnVuY3Rpb24gT3QoZSx0LHIpe3ZhciBvLGksbixzLGE9MDtyfHwocj17fSk7dmFyIGM9ZnVuY3Rpb24oKXthPSExPT09ci5sZWFkaW5nPzA6b3QoKSxvPW51bGwscz1lLmFwcGx5KGksbiksb3x8KGk9bj1udWxsKX0sdT1mdW5jdGlvbigpe3ZhciB1PW90KCk7YXx8ITEhPT1yLmxlYWRpbmd8fChhPXUpO3ZhciBsPXQtKHUtYSk7cmV0dXJuIGk9dGhpcyxuPWFyZ3VtZW50cyxsPD0wfHxsPnQ/KG8mJihjbGVhclRpbWVvdXQobyksbz1udWxsKSxhPXUscz1lLmFwcGx5KGksbiksb3x8KGk9bj1udWxsKSk6b3x8ITE9PT1yLnRyYWlsaW5nfHwobz1zZXRUaW1lb3V0KGMsbCkpLHN9O3JldHVybiB1LmNhbmNlbD1mdW5jdGlvbigpe2NsZWFyVGltZW91dChvKSxhPTAsbz1pPW49bnVsbH0sdX1mdW5jdGlvbiBMdChlLHQscil7dmFyIG8saSxuLHMsYSxjPWZ1bmN0aW9uKCl7dmFyIHU9b3QoKS1pO3Q+dT9vPXNldFRpbWVvdXQoYyx0LXUpOihvPW51bGwscnx8KHM9ZS5hcHBseShhLG4pKSxvfHwobj1hPW51bGwpKX0sdT1QKChmdW5jdGlvbih1KXtyZXR1cm4gYT10aGlzLG49dSxpPW90KCksb3x8KG89c2V0VGltZW91dChjLHQpLHImJihzPWUuYXBwbHkoYSxuKSkpLHN9KSk7cmV0dXJuIHUuY2FuY2VsPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KG8pLG89bj1hPW51bGx9LHV9ZnVuY3Rpb24gU3QoZSx0KXtyZXR1cm4geHQodCxlKX1mdW5jdGlvbiBNdChlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4hZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIHd0KCl7dmFyIGU9YXJndW1lbnRzLHQ9ZS5sZW5ndGgtMTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHI9dCxvPWVbdF0uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ItLTspbz1lW3JdLmNhbGwodGhpcyxvKTtyZXR1cm4gb319ZnVuY3Rpb24gTnQoZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtpZigtLWU8MSlyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIEZ0KGUsdCl7dmFyIHI7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuLS1lPjAmJihyPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpKSxlPD0xJiYodD1udWxsKSxyfX1jb25zdCBJdD14dChGdCwyKTtmdW5jdGlvbiBEdChlLHQscil7dD0kZSh0LHIpO2Zvcih2YXIgbyxpPWFlKGUpLG49MCxzPWkubGVuZ3RoO248cztuKyspaWYodChlW289aVtuXV0sbyxlKSlyZXR1cm4gb31mdW5jdGlvbiBqdChlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG8pe3I9JGUocixvKTtmb3IodmFyIGk9bmUodCksbj1lPjA/MDppLTE7bj49MCYmbjxpO24rPWUpaWYocih0W25dLG4sdCkpcmV0dXJuIG47cmV0dXJuLTF9fWNvbnN0IEJ0PWp0KDEpLFV0PWp0KC0xKTtmdW5jdGlvbiBrdChlLHQscixvKXtmb3IodmFyIGk9KHI9JGUocixvLDEpKSh0KSxuPTAscz1uZShlKTtuPHM7KXt2YXIgYT1NYXRoLmZsb29yKChuK3MpLzIpO3IoZVthXSk8aT9uPWErMTpzPWF9cmV0dXJuIG59ZnVuY3Rpb24gR3QoZSx0LHIpe3JldHVybiBmdW5jdGlvbihvLGksbil7dmFyIHM9MCxhPW5lKG8pO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBuKWU+MD9zPW4+PTA/bjpNYXRoLm1heChuK2Escyk6YT1uPj0wP01hdGgubWluKG4rMSxhKTpuK2ErMTtlbHNlIGlmKHImJm4mJmEpcmV0dXJuIG9bbj1yKG8saSldPT09aT9uOi0xO2lmKGkhPWkpcmV0dXJuKG49dChsLmNhbGwobyxzLGEpLCQpKT49MD9uK3M6LTE7Zm9yKG49ZT4wP3M6YS0xO24+PTAmJm48YTtuKz1lKWlmKG9bbl09PT1pKXJldHVybiBuO3JldHVybi0xfX1jb25zdCB6dD1HdCgxLEJ0LGt0KSxZdD1HdCgtMSxVdCk7ZnVuY3Rpb24gS3QoZSx0LHIpe3ZhciBvPShBdChlKT9CdDpEdCkoZSx0LHIpO2lmKHZvaWQgMCE9PW8mJi0xIT09bylyZXR1cm4gZVtvXX1mdW5jdGlvbiBxdChlLHQpe3JldHVybiBLdChlLHFlKHQpKX1mdW5jdGlvbiBXdChlLHQscil7dmFyIG8saTtpZih0PUhlKHQsciksQXQoZSkpZm9yKG89MCxpPWUubGVuZ3RoO288aTtvKyspdChlW29dLG8sZSk7ZWxzZXt2YXIgbj1hZShlKTtmb3Iobz0wLGk9bi5sZW5ndGg7bzxpO28rKyl0KGVbbltvXV0sbltvXSxlKX1yZXR1cm4gZX1mdW5jdGlvbiBIdChlLHQscil7dD0kZSh0LHIpO2Zvcih2YXIgbz0hQXQoZSkmJmFlKGUpLGk9KG98fGUpLmxlbmd0aCxuPUFycmF5KGkpLHM9MDtzPGk7cysrKXt2YXIgYT1vP29bc106cztuW3NdPXQoZVthXSxhLGUpfXJldHVybiBufWZ1bmN0aW9uIFh0KGUpe3JldHVybiBmdW5jdGlvbih0LHIsbyxpKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPj0zO3JldHVybiBmdW5jdGlvbih0LHIsbyxpKXt2YXIgbj0hQXQodCkmJmFlKHQpLHM9KG58fHQpLmxlbmd0aCxhPWU+MD8wOnMtMTtmb3IoaXx8KG89dFtuP25bYV06YV0sYSs9ZSk7YT49MCYmYTxzO2ErPWUpe3ZhciBjPW4/blthXTphO289cihvLHRbY10sYyx0KX1yZXR1cm4gb30odCxIZShyLGksNCksbyxuKX19Y29uc3QgSnQ9WHQoMSksJHQ9WHQoLTEpO2Z1bmN0aW9uIFp0KGUsdCxyKXt2YXIgbz1bXTtyZXR1cm4gdD0kZSh0LHIpLFd0KGUsKGZ1bmN0aW9uKGUscixpKXt0KGUscixpKSYmby5wdXNoKGUpfSkpLG99ZnVuY3Rpb24gUXQoZSx0LHIpe3JldHVybiBadChlLE10KCRlKHQpKSxyKX1mdW5jdGlvbiBlcihlLHQscil7dD0kZSh0LHIpO2Zvcih2YXIgbz0hQXQoZSkmJmFlKGUpLGk9KG98fGUpLmxlbmd0aCxuPTA7bjxpO24rKyl7dmFyIHM9bz9vW25dOm47aWYoIXQoZVtzXSxzLGUpKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIHRyKGUsdCxyKXt0PSRlKHQscik7Zm9yKHZhciBvPSFBdChlKSYmYWUoZSksaT0ob3x8ZSkubGVuZ3RoLG49MDtuPGk7bisrKXt2YXIgcz1vP29bbl06bjtpZih0KGVbc10scyxlKSlyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBycihlLHQscixvKXtyZXR1cm4gQXQoZSl8fChlPUNlKGUpKSwoXCJudW1iZXJcIiE9dHlwZW9mIHJ8fG8pJiYocj0wKSx6dChlLHQscik+PTB9Y29uc3Qgb3I9UCgoZnVuY3Rpb24oZSx0LHIpe3ZhciBvLGk7cmV0dXJuIFUodCk/aT10Oih0PWtlKHQpLG89dC5zbGljZSgwLC0xKSx0PXRbdC5sZW5ndGgtMV0pLEh0KGUsKGZ1bmN0aW9uKGUpe3ZhciBuPWk7aWYoIW4pe2lmKG8mJm8ubGVuZ3RoJiYoZT1HZShlLG8pKSxudWxsPT1lKXJldHVybjtuPWVbdF19cmV0dXJuIG51bGw9PW4/bjpuLmFwcGx5KGUscil9KSl9KSk7ZnVuY3Rpb24gaXIoZSx0KXtyZXR1cm4gSHQoZSxXZSh0KSl9ZnVuY3Rpb24gbnIoZSx0KXtyZXR1cm4gWnQoZSxxZSh0KSl9ZnVuY3Rpb24gc3IoZSx0LHIpe3ZhciBvLGksbj0tMS8wLHM9LTEvMDtpZihudWxsPT10fHxcIm51bWJlclwiPT10eXBlb2YgdCYmXCJvYmplY3RcIiE9dHlwZW9mIGVbMF0mJm51bGwhPWUpZm9yKHZhciBhPTAsYz0oZT1BdChlKT9lOkNlKGUpKS5sZW5ndGg7YTxjO2ErKyludWxsIT0obz1lW2FdKSYmbz5uJiYobj1vKTtlbHNlIHQ9JGUodCxyKSxXdChlLChmdW5jdGlvbihlLHIsbyl7KChpPXQoZSxyLG8pKT5zfHxpPT09LTEvMCYmbj09PS0xLzApJiYobj1lLHM9aSl9KSk7cmV0dXJuIG59ZnVuY3Rpb24gYXIoZSx0LHIpe3ZhciBvLGksbj0xLzAscz0xLzA7aWYobnVsbD09dHx8XCJudW1iZXJcIj09dHlwZW9mIHQmJlwib2JqZWN0XCIhPXR5cGVvZiBlWzBdJiZudWxsIT1lKWZvcih2YXIgYT0wLGM9KGU9QXQoZSk/ZTpDZShlKSkubGVuZ3RoO2E8YzthKyspbnVsbCE9KG89ZVthXSkmJm88biYmKG49byk7ZWxzZSB0PSRlKHQsciksV3QoZSwoZnVuY3Rpb24oZSxyLG8peygoaT10KGUscixvKSk8c3x8aT09PTEvMCYmbj09PTEvMCkmJihuPWUscz1pKX0pKTtyZXR1cm4gbn12YXIgY3I9L1teXFx1ZDgwMC1cXHVkZmZmXXxbXFx1ZDgwMC1cXHVkYmZmXVtcXHVkYzAwLVxcdWRmZmZdfFtcXHVkODAwLVxcdWRmZmZdL2c7ZnVuY3Rpb24gdXIoZSl7cmV0dXJuIGU/cShlKT9sLmNhbGwoZSk6UyhlKT9lLm1hdGNoKGNyKTpBdChlKT9IdChlLEtlKTpDZShlKTpbXX1mdW5jdGlvbiBscihlLHQscil7aWYobnVsbD09dHx8cilyZXR1cm4gQXQoZSl8fChlPUNlKGUpKSxlW3J0KGUubGVuZ3RoLTEpXTt2YXIgbz11cihlKSxpPW5lKG8pO3Q9TWF0aC5tYXgoTWF0aC5taW4odCxpKSwwKTtmb3IodmFyIG49aS0xLHM9MDtzPHQ7cysrKXt2YXIgYT1ydChzLG4pLGM9b1tzXTtvW3NdPW9bYV0sb1thXT1jfXJldHVybiBvLnNsaWNlKDAsdCl9ZnVuY3Rpb24gaHIoZSl7cmV0dXJuIGxyKGUsMS8wKX1mdW5jdGlvbiBkcihlLHQscil7dmFyIG89MDtyZXR1cm4gdD0kZSh0LHIpLGlyKEh0KGUsKGZ1bmN0aW9uKGUscixpKXtyZXR1cm57dmFsdWU6ZSxpbmRleDpvKyssY3JpdGVyaWE6dChlLHIsaSl9fSkpLnNvcnQoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5jcml0ZXJpYSxvPXQuY3JpdGVyaWE7aWYociE9PW8pe2lmKHI+b3x8dm9pZCAwPT09cilyZXR1cm4gMTtpZihyPG98fHZvaWQgMD09PW8pcmV0dXJuLTF9cmV0dXJuIGUuaW5kZXgtdC5pbmRleH0pKSxcInZhbHVlXCIpfWZ1bmN0aW9uIHByKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsbyxpKXt2YXIgbj10P1tbXSxbXV06e307cmV0dXJuIG89JGUobyxpKSxXdChyLChmdW5jdGlvbih0LGkpe3ZhciBzPW8odCxpLHIpO2Uobix0LHMpfSkpLG59fWNvbnN0IGdyPXByKChmdW5jdGlvbihlLHQscil7VyhlLHIpP2Vbcl0ucHVzaCh0KTplW3JdPVt0XX0pKSxmcj1wcigoZnVuY3Rpb24oZSx0LHIpe2Vbcl09dH0pKSx2cj1wcigoZnVuY3Rpb24oZSx0LHIpe1coZSxyKT9lW3JdKys6ZVtyXT0xfSkpLF9yPXByKChmdW5jdGlvbihlLHQscil7ZVtyPzA6MV0ucHVzaCh0KX0pLCEwKTtmdW5jdGlvbiB5cihlKXtyZXR1cm4gbnVsbD09ZT8wOkF0KGUpP2UubGVuZ3RoOmFlKGUpLmxlbmd0aH1mdW5jdGlvbiBtcihlLHQscil7cmV0dXJuIHQgaW4gcn1jb25zdCBFcj1QKChmdW5jdGlvbihlLHQpe3ZhciByPXt9LG89dFswXTtpZihudWxsPT1lKXJldHVybiByO1Uobyk/KHQubGVuZ3RoPjEmJihvPUhlKG8sdFsxXSkpLHQ9dmUoZSkpOihvPW1yLHQ9UHQodCwhMSwhMSksZT1PYmplY3QoZSkpO2Zvcih2YXIgaT0wLG49dC5sZW5ndGg7aTxuO2krKyl7dmFyIHM9dFtpXSxhPWVbc107byhhLHMsZSkmJihyW3NdPWEpfXJldHVybiByfSkpLHhyPVAoKGZ1bmN0aW9uKGUsdCl7dmFyIHIsbz10WzBdO3JldHVybiBVKG8pPyhvPU10KG8pLHQubGVuZ3RoPjEmJihyPXRbMV0pKToodD1IdChQdCh0LCExLCExKSxTdHJpbmcpLG89ZnVuY3Rpb24oZSxyKXtyZXR1cm4hcnIodCxyKX0pLEVyKGUsbyxyKX0pKTtmdW5jdGlvbiBScihlLHQscil7cmV0dXJuIGwuY2FsbChlLDAsTWF0aC5tYXgoMCxlLmxlbmd0aC0obnVsbD09dHx8cj8xOnQpKSl9ZnVuY3Rpb24gQXIoZSx0LHIpe3JldHVybiBudWxsPT1lfHxlLmxlbmd0aDwxP251bGw9PXR8fHI/dm9pZCAwOltdOm51bGw9PXR8fHI/ZVswXTpScihlLGUubGVuZ3RoLXQpfWZ1bmN0aW9uIFByKGUsdCxyKXtyZXR1cm4gbC5jYWxsKGUsbnVsbD09dHx8cj8xOnQpfWZ1bmN0aW9uIFZyKGUsdCxyKXtyZXR1cm4gbnVsbD09ZXx8ZS5sZW5ndGg8MT9udWxsPT10fHxyP3ZvaWQgMDpbXTpudWxsPT10fHxyP2VbZS5sZW5ndGgtMV06UHIoZSxNYXRoLm1heCgwLGUubGVuZ3RoLXQpKX1mdW5jdGlvbiBUcihlKXtyZXR1cm4gWnQoZSxCb29sZWFuKX1mdW5jdGlvbiBicihlLHQpe3JldHVybiBQdChlLHQsITEpfWNvbnN0IENyPVAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9UHQodCwhMCwhMCksWnQoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIXJyKHQsZSl9KSl9KSksT3I9UCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gQ3IoZSx0KX0pKTtmdW5jdGlvbiBMcihlLHQscixvKXtDKHQpfHwobz1yLHI9dCx0PSExKSxudWxsIT1yJiYocj0kZShyLG8pKTtmb3IodmFyIGk9W10sbj1bXSxzPTAsYT1uZShlKTtzPGE7cysrKXt2YXIgYz1lW3NdLHU9cj9yKGMscyxlKTpjO3QmJiFyPyhzJiZuPT09dXx8aS5wdXNoKGMpLG49dSk6cj9ycihuLHUpfHwobi5wdXNoKHUpLGkucHVzaChjKSk6cnIoaSxjKXx8aS5wdXNoKGMpfXJldHVybiBpfWNvbnN0IFNyPVAoKGZ1bmN0aW9uKGUpe3JldHVybiBMcihQdChlLCEwLCEwKSl9KSk7ZnVuY3Rpb24gTXIoZSl7Zm9yKHZhciB0PVtdLHI9YXJndW1lbnRzLmxlbmd0aCxvPTAsaT1uZShlKTtvPGk7bysrKXt2YXIgbj1lW29dO2lmKCFycih0LG4pKXt2YXIgcztmb3Iocz0xO3M8ciYmcnIoYXJndW1lbnRzW3NdLG4pO3MrKyk7cz09PXImJnQucHVzaChuKX19cmV0dXJuIHR9ZnVuY3Rpb24gd3IoZSl7Zm9yKHZhciB0PWUmJnNyKGUsbmUpLmxlbmd0aHx8MCxyPUFycmF5KHQpLG89MDtvPHQ7bysrKXJbb109aXIoZSxvKTtyZXR1cm4gcn1jb25zdCBOcj1QKHdyKTtmdW5jdGlvbiBGcihlLHQpe2Zvcih2YXIgcj17fSxvPTAsaT1uZShlKTtvPGk7bysrKXQ/cltlW29dXT10W29dOnJbZVtvXVswXV09ZVtvXVsxXTtyZXR1cm4gcn1mdW5jdGlvbiBJcihlLHQscil7bnVsbD09dCYmKHQ9ZXx8MCxlPTApLHJ8fChyPXQ8ZT8tMToxKTtmb3IodmFyIG89TWF0aC5tYXgoTWF0aC5jZWlsKCh0LWUpL3IpLDApLGk9QXJyYXkobyksbj0wO248bztuKyssZSs9cilpW25dPWU7cmV0dXJuIGl9ZnVuY3Rpb24gRHIoZSx0KXtpZihudWxsPT10fHx0PDEpcmV0dXJuW107Zm9yKHZhciByPVtdLG89MCxpPWUubGVuZ3RoO288aTspci5wdXNoKGwuY2FsbChlLG8sbys9dCkpO3JldHVybiByfWZ1bmN0aW9uIGpyKGUsdCl7cmV0dXJuIGUuX2NoYWluP2xlKHQpLmNoYWluKCk6dH1mdW5jdGlvbiBCcihlKXtyZXR1cm4gV3QoU2UoZSksKGZ1bmN0aW9uKHQpe3ZhciByPWxlW3RdPWVbdF07bGUucHJvdG90eXBlW3RdPWZ1bmN0aW9uKCl7dmFyIGU9W3RoaXMuX3dyYXBwZWRdO3JldHVybiB1LmFwcGx5KGUsYXJndW1lbnRzKSxqcih0aGlzLHIuYXBwbHkobGUsZSkpfX0pKSxsZX1XdChbXCJwb3BcIixcInB1c2hcIixcInJldmVyc2VcIixcInNoaWZ0XCIsXCJzb3J0XCIsXCJzcGxpY2VcIixcInVuc2hpZnRcIl0sKGZ1bmN0aW9uKGUpe3ZhciB0PXNbZV07bGUucHJvdG90eXBlW2VdPWZ1bmN0aW9uKCl7dmFyIHI9dGhpcy5fd3JhcHBlZDtyZXR1cm4gbnVsbCE9ciYmKHQuYXBwbHkocixhcmd1bWVudHMpLFwic2hpZnRcIiE9PWUmJlwic3BsaWNlXCIhPT1lfHwwIT09ci5sZW5ndGh8fGRlbGV0ZSByWzBdKSxqcih0aGlzLHIpfX0pKSxXdChbXCJjb25jYXRcIixcImpvaW5cIixcInNsaWNlXCJdLChmdW5jdGlvbihlKXt2YXIgdD1zW2VdO2xlLnByb3RvdHlwZVtlXT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3dyYXBwZWQ7cmV0dXJuIG51bGwhPWUmJihlPXQuYXBwbHkoZSxhcmd1bWVudHMpKSxqcih0aGlzLGUpfX0pKTtjb25zdCBVcj1sZTt2YXIga3I9QnIobyk7a3IuXz1rcjtjb25zdCBHcj1rcn19LF9fd2VicGFja19tb2R1bGVfY2FjaGVfXz17fTtmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKGUpe3ZhciB0PV9fd2VicGFja19tb2R1bGVfY2FjaGVfX1tlXTtpZih2b2lkIDAhPT10KXJldHVybiB0LmV4cG9ydHM7dmFyIHI9X193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW2VdPXtleHBvcnRzOnt9fTtyZXR1cm4gX193ZWJwYWNrX21vZHVsZXNfX1tlXS5jYWxsKHIuZXhwb3J0cyxyLHIuZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKSxyLmV4cG9ydHN9X193ZWJwYWNrX3JlcXVpcmVfXy5kPShlLHQpPT57Zm9yKHZhciByIGluIHQpX193ZWJwYWNrX3JlcXVpcmVfXy5vKHQscikmJiFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZSxyKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7ZW51bWVyYWJsZTohMCxnZXQ6dFtyXX0pfSxfX3dlYnBhY2tfcmVxdWlyZV9fLmc9ZnVuY3Rpb24oKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsVGhpcylyZXR1cm4gZ2xvYmFsVGhpczt0cnl7cmV0dXJuIHRoaXN8fG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl9Y2F0Y2goZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdylyZXR1cm4gd2luZG93fX0oKSxfX3dlYnBhY2tfcmVxdWlyZV9fLm89KGUsdCk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpLF9fd2VicGFja19yZXF1aXJlX18ucj1lPT57XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX07dmFyIF9fd2VicGFja19leHBvcnRzX189e307cmV0dXJuKCgpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9X193ZWJwYWNrX2V4cG9ydHNfXztPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmdldEJvdW5kZWRSZWdpb25GYWNlcz1lLmdldFJlZ2lvbkVkZ2VzPWUubWVyZ2VDb25uZWN0ZWRGYWNlcz1lLmdldE9yZGVyZWRGYWNlc09uVmVydGV4PWUuc2F2ZVRvUHJvdG9NZXNzYWdlPWUuc2F2ZVRvUHJvdG9CaW5hcnk9ZS5Tb2xpZERlZlNhdmVyPWUuU29saWREZWZMb2FkZXI9ZS5QYXRoMkQ9ZS5EZWJ1Z1V0aWxzPWUuc3ZnRnJvbVdpcmU9ZS50cmFuc2Zvcm1Ub3BvbG9neT1lLlRvcG9sb2d5U3RpdGNoZXI9ZS5Ub3BvbG9neUNsb25lcj1lLmV4dHJ1ZGVGYWNlPWUuY3JlYXRlRWRnZUZyb21DdXJ2ZT1lLmNyZWF0ZUZhY2VGcm9tUG9seWxpbmU9ZS5jcmVhdGVTaGVsbHNGcm9tRmFjZXM9ZS5jcmVhdGVQb2x5aGVkcm9uPWUuY3JlYXRlTGluZUVkZ2VCZXR3ZWVuVmVydGljZXM9ZS5jcmVhdGVMaW5lRWRnZT1lLmNyZWF0ZUN5bGluZGVyPWUuY3JlYXRlQ29uZT1lLmNyZWF0ZUJsb2NrPWUuY29tcHV0ZUN1cnZlQ3VydmVJbnRlcnNlY3Rpb25zPWUuU2tldGNoUmVnaW9uU29sdmVyPWUuZmFjZXRQbGFuYXJGYWNlPWUuY2hlY2tWYWxpZGl0eT1lLkJvdW5kaW5nQm94PWUuQXR0cmlidXRlPWUuV2lyZT1lLldpcmVCb2R5PWUuVmVydGV4PWUuRWRnZT1lLkNvZWRnZT1lLkxvb3A9ZS5GYWNlPWUuU2hlbGw9ZS5MdW1wPWUuQm9keT1lLkJTdXJmYWNlPWUuVG9ydXM9ZS5FbGxpcHRpY2FsQ29uZT1lLkNvbmU9ZS5TcGhlcmU9ZS5FbGxpcHRpY2FsQ3lsaW5kZXI9ZS5DeWxpbmRlcj1lLlBsYW5lPWUuQkN1cnZlPWUuRWxsaXBzZT1lLkNpcmNsZT1lLkxpbmU9ZS5Qb2ludD1lLlRPUE9MT0dZX1RZUEVTPWUuR0VPTUVUUllfVFlQRVM9ZS5LRVJORUxfVE9MRVJBTkNFPXZvaWQgMDt2YXIgdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDI0NjgpLHI9X193ZWJwYWNrX3JlcXVpcmVfXygzMzQ0KSxvPV9fd2VicGFja19yZXF1aXJlX18oMzU2NSksaT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwOTYpLG49X193ZWJwYWNrX3JlcXVpcmVfXyg1NTEyKSxzPV9fd2VicGFja19yZXF1aXJlX18oODk3MiksYT1fX3dlYnBhY2tfcmVxdWlyZV9fKDg3OTYpLGM9X193ZWJwYWNrX3JlcXVpcmVfXyg4MjkyKSx1PV9fd2VicGFja19yZXF1aXJlX18oMzQ0MCksbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDgzNjApLGg9X193ZWJwYWNrX3JlcXVpcmVfXyg0MzcyKSxkPV9fd2VicGFja19yZXF1aXJlX18oMjk4NCkscD1fX3dlYnBhY2tfcmVxdWlyZV9fKDI5NTYpLGc9X193ZWJwYWNrX3JlcXVpcmVfXygxNDA4KSxmPV9fd2VicGFja19yZXF1aXJlX18oOTIpLHY9X193ZWJwYWNrX3JlcXVpcmVfXyg5OTg0KSxfPV9fd2VicGFja19yZXF1aXJlX18oNTgzNykseT1fX3dlYnBhY2tfcmVxdWlyZV9fKDY1MDgpLG09X193ZWJwYWNrX3JlcXVpcmVfXyg2Nzc2KSxFPV9fd2VicGFja19yZXF1aXJlX18oNDUyNCkseD1fX3dlYnBhY2tfcmVxdWlyZV9fKDY3MiksUj1fX3dlYnBhY2tfcmVxdWlyZV9fKDc1ODApLEE9X193ZWJwYWNrX3JlcXVpcmVfXyg2OTQwKSxQPV9fd2VicGFja19yZXF1aXJlX18oNjUwMCksVj1fX3dlYnBhY2tfcmVxdWlyZV9fKDc1NzUpLFQ9X193ZWJwYWNrX3JlcXVpcmVfXyg5MzI0KSxiPV9fd2VicGFja19yZXF1aXJlX18oMjIzNiksQz1fX3dlYnBhY2tfcmVxdWlyZV9fKDM1ODQpLE89X193ZWJwYWNrX3JlcXVpcmVfXyg4NzY4KSxMPV9fd2VicGFja19yZXF1aXJlX18oODQ2MCksUz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMzMzIpLE09X193ZWJwYWNrX3JlcXVpcmVfXyg5MTI4KSx3PV9fd2VicGFja19yZXF1aXJlX18oNzYyMCksTj1fX3dlYnBhY2tfcmVxdWlyZV9fKDY0KSxGPV9fd2VicGFja19yZXF1aXJlX18oMjQ3MiksST1fX3dlYnBhY2tfcmVxdWlyZV9fKDI1MzYpLEQ9X193ZWJwYWNrX3JlcXVpcmVfXygxMDA4KSxqPV9fd2VicGFja19yZXF1aXJlX18oNzYxNiksQj1fX3dlYnBhY2tfcmVxdWlyZV9fKDQyNjgpLFU9X193ZWJwYWNrX3JlcXVpcmVfXyg2MTIwKSxrPV9fd2VicGFja19yZXF1aXJlX18oMjY4KSxHPV9fd2VicGFja19yZXF1aXJlX18oNjIzMiksej1fX3dlYnBhY2tfcmVxdWlyZV9fKDUzMTYpLFk9X193ZWJwYWNrX3JlcXVpcmVfXyg4MDgwKSxLPV9fd2VicGFja19yZXF1aXJlX18oOTYwOCk7ZS5LRVJORUxfVE9MRVJBTkNFPXQuS0VSTkVMX1RPTEVSQU5DRSxlLkdFT01FVFJZX1RZUEVTPXQuR0VPTUVUUllfVFlQRVMsZS5UT1BPTE9HWV9UWVBFUz10LlRPUE9MT0dZX1RZUEVTLGUuUG9pbnQ9by5Qb2ludCxlLkxpbmU9aS5MaW5lLGUuQ2lyY2xlPW4uQ2lyY2xlLGUuRWxsaXBzZT1zLkVsbGlwc2UsZS5CQ3VydmU9YS5CQ3VydmUsZS5QbGFuZT1jLlBsYW5lLGUuQ3lsaW5kZXI9dS5DeWxpbmRlcixlLkVsbGlwdGljYWxDeWxpbmRlcj1sLkVsbGlwdGljYWxDeWxpbmRlcixlLlNwaGVyZT1oLlNwaGVyZSxlLkNvbmU9ZC5Db25lLGUuRWxsaXB0aWNhbENvbmU9cC5FbGxpcHRpY2FsQ29uZSxlLlRvcnVzPWcuVG9ydXMsZS5CU3VyZmFjZT1mLkJTdXJmYWNlLGUuQm9keT12LkJvZHksZS5MdW1wPV8uTHVtcCxlLlNoZWxsPXkuU2hlbGwsZS5GYWNlPW0uRmFjZSxlLkxvb3A9RS5Mb29wLGUuQ29lZGdlPXguQ29lZGdlLGUuRWRnZT1SLkVkZ2UsZS5WZXJ0ZXg9QS5WZXJ0ZXgsZS5XaXJlQm9keT1QLldpcmVCb2R5LGUuV2lyZT1WLldpcmUsZS5BdHRyaWJ1dGU9VC5BdHRyaWJ1dGUsZS5Cb3VuZGluZ0JveD1yLkJvdW5kaW5nQm94LGUuY2hlY2tWYWxpZGl0eT1iLmNoZWNrVmFsaWRpdHksZS5mYWNldFBsYW5hckZhY2U9Qy5mYWNldFBsYW5hckZhY2UsZS5Ta2V0Y2hSZWdpb25Tb2x2ZXI9Ty5Ta2V0Y2hSZWdpb25Tb2x2ZXIsZS5jb21wdXRlQ3VydmVDdXJ2ZUludGVyc2VjdGlvbnM9TC5jb21wdXRlQ3VydmVDdXJ2ZUludGVyc2VjdGlvbnMsZS5jcmVhdGVCbG9jaz1TLmNyZWF0ZUJsb2NrLGUuY3JlYXRlQ29uZT1NLmNyZWF0ZUNvbmUsZS5jcmVhdGVDeWxpbmRlcj1NLmNyZWF0ZUN5bGluZGVyLGUuY3JlYXRlTGluZUVkZ2U9Ti5jcmVhdGVMaW5lRWRnZSxlLmNyZWF0ZUxpbmVFZGdlQmV0d2VlblZlcnRpY2VzPU4uY3JlYXRlTGluZUVkZ2VCZXR3ZWVuVmVydGljZXMsZS5jcmVhdGVQb2x5aGVkcm9uPXcuY3JlYXRlUG9seWhlZHJvbixlLmNyZWF0ZVNoZWxsc0Zyb21GYWNlcz1OLmNyZWF0ZVNoZWxsc0Zyb21GYWNlcyxlLmNyZWF0ZUZhY2VGcm9tUG9seWxpbmU9Ti5jcmVhdGVGYWNlRnJvbVBvbHlsaW5lLGUuY3JlYXRlRWRnZUZyb21DdXJ2ZT1OLmNyZWF0ZUVkZ2VGcm9tQ3VydmUsZS5leHRydWRlRmFjZT1GLmV4dHJ1ZGVGYWNlLGUuVG9wb2xvZ3lDbG9uZXI9SS5Ub3BvbG9neUNsb25lcixlLlRvcG9sb2d5U3RpdGNoZXI9RC5Ub3BvbG9neVN0aXRjaGVyLGUudHJhbnNmb3JtVG9wb2xvZ3k9ai50cmFuc2Zvcm1Ub3BvbG9neSxlLnN2Z0Zyb21XaXJlPUIuc3ZnRnJvbVdpcmUsZS5EZWJ1Z1V0aWxzPVUuRGVidWdVdGlscyxlLlBhdGgyRD1rLlBhdGgyRCxlLlNvbGlkRGVmTG9hZGVyPUcuU29saWREZWZMb2FkZXIsZS5Tb2xpZERlZlNhdmVyPXouU29saWREZWZTYXZlcixlLnNhdmVUb1Byb3RvQmluYXJ5PXouc2F2ZVRvUHJvdG9CaW5hcnksZS5zYXZlVG9Qcm90b01lc3NhZ2U9ei5zYXZlVG9Qcm90b01lc3NhZ2UsZS5nZXRPcmRlcmVkRmFjZXNPblZlcnRleD1LLmdldE9yZGVyZWRGYWNlc09uVmVydGV4LGUubWVyZ2VDb25uZWN0ZWRGYWNlcz1qLm1lcmdlQ29ubmVjdGVkRmFjZXMsZS5nZXRSZWdpb25FZGdlcz1ZLmdldFJlZ2lvbkVkZ2VzLGUuZ2V0Qm91bmRlZFJlZ2lvbkZhY2VzPVkuZ2V0Qm91bmRlZFJlZ2lvbkZhY2VzfSkoKSxfX3dlYnBhY2tfZXhwb3J0c19ffSkoKSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c29saWQtZGVmaW5pdGlvbi5taW4uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@adsk/solid-definition/dist/solid-definition.min.js\n");

/***/ }),

/***/ "./extensions/Edit2D/Actions.js":
/*!**************************************!*\
  !*** ./extensions/Edit2D/Actions.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Actions: () => (/* binding */ Actions)\n/* harmony export */ });\n/* harmony import */ var _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditShapes.js */ \"./extensions/Edit2D/EditShapes.js\");\n/* harmony import */ var _BooleanOps_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BooleanOps.js */ \"./extensions/Edit2D/BooleanOps.js\");\n// Collection of basic edit actions that support undo/redo.\n//\n// Each action provides undo() and redo() functions. UndoStack takes care that actions are always called in consistent order.\n// I.e., an individual action can assume that undo/redo is only called if the state allows it. (e.g. target shape exists and has expected number of vertices etc.)\n\n\n\n\nclass Action {\n  constructor(layer) {\n    this.layer = layer;\n  }\n\n  undo() {\n    throw new Error('Abstract method invoked');\n  }\n\n  redo() {\n    throw new Error('Abstract method invoked');\n  }\n\n  // Optional: Can be be implemented to guide what should be selected before/after change.\n  // @param {bool} afterUndo - If true, return recommended selection state after undo, otherwise after redo.\n  // @returns {SelectionHint|null}\n  getSelectionHint(afterUndo) {\n    return null;\n  }\n}\n\n// Struct for possible return values of getSelectionHint\nclass SelectioHint {\n  constructor() {\n    // {Shape}\n    this.shape = null;\n\n    // {Shape[]} - only needed for multiselect operations\n    this.shapes = null;\n\n    // {PolyIndex} - selected vertex\n    this.vertex = null;\n\n    // {PolyIndex} - selected edge\n    this.edge = null;\n  }\n}\n\nclass AddShape extends Action {\n  constructor(layer, shape) {\n    super(layer);\n    this.shape = shape;\n  }\n\n  undo() {\n    this.layer.removeShape(this.shape);\n  }\n\n  redo() {\n    this.layer.addShape(this.shape);\n  }\n\n  // After redo, new shape should be selected\n  getSelectionHint(afterUndo) {\n    return afterUndo ? null : { shape: this.shape };\n  }\n}\n\nclass AddShapes extends Action {\n\n  // @param {Shape[]} shapes\n  constructor(layer, shapes) {\n    super(layer);\n    this.shapes = shapes;\n  }\n\n  undo() {\n    this.shapes.forEach((s) => this.layer.removeShape(s));\n  }\n\n  redo() {\n    this.shapes.forEach((s) => this.layer.addShape(s));\n  }\n\n  // After redo, new shape should be selected\n  getSelectionHint(afterUndo) {\n    return afterUndo ? null : { shapes: this.shapes };\n  }\n}\n\nclass MoveShapes extends Action {\n  constructor(layer, shapes, dx, dy) {\n    super(layer);\n    this.shapes = shapes;\n    this.delta = { x: dx, y: dy };\n\n    // Note that transforming back and forth is not always exactly 1:1.\n    this.beforeState = this.shapes.map((s) => s.clone());\n    this.afterState = this.shapes.map((s) => s.clone());\n\n    this.afterState.forEach((s) => s.move(dx, dy));\n  }\n\n  undo() {\n    this.shapes.forEach((s, i) => s.copy(this.beforeState[i]));\n  }\n\n  redo() {\n    this.shapes.forEach((s, i) => s.copy(this.afterState[i]));\n  }\n\n  // After undo/redo, moved shapes should be selected\n  getSelectionHint(afterUndo) {\n    return { shapes: this.shapes };\n  }\n}\n\nclass RemoveShape extends Action {\n  constructor(layer, shape) {\n    super(layer);\n    this.shape = shape;\n  }\n\n  undo() {\n    this.layer.addShape(this.shape);\n  }\n\n  redo() {\n    this.layer.removeShape(this.shape);\n  }\n\n  // After undo, recovered shape should be selected\n  getSelectionHint(afterUndo) {\n    return afterUndo ? { shape: this.shape } : null;\n  }\n}\n\nclass RemoveShapes extends Action {\n  constructor(layer, shapes) {\n    super(layer);\n    this.shapes = shapes.slice();\n  }\n\n  undo() {\n    this.shapes.forEach((s) => this.layer.addShape(s));\n  }\n\n  redo() {\n    this.shapes.forEach((s) => this.layer.removeShape(s));\n  }\n\n  // After undo, recovered shapes should be selected\n  getSelectionHint(afterUndo) {\n    return afterUndo ? { shapes: this.shapes } : null;\n  }\n}\n\nclass AddVertex extends Action {\n  constructor(layer, poly, polyIndex, p) {\n    super(layer);\n    this.poly = poly;\n    this.polyIndex = polyIndex;\n    this.point = p.clone();\n  }\n\n  undo() {\n    this.poly.removePoint(this.polyIndex.vertex, this.polyIndex.loop);\n  }\n\n  redo() {\n    this.poly.insertPoint(this.polyIndex.vertex, this.point, this.polyIndex.loop);\n  }\n\n  // After redo, select the new vertex\n  getSelectionHint(afterUndo) {\n    return {\n      shape: this.poly,\n      vertex: afterUndo ? null : this.polyIndex\n    };\n  }\n}\n\n// Only for polygons and polylines\nclass MoveVertex extends Action {\n  constructor(layer, poly, polyIndex, newPos) {\n    super(layer);\n    this.poly = poly;\n    this.polyIndex = polyIndex;\n    this.posBefore = poly.getPoint(polyIndex.vertex, polyIndex.loop);\n    this.posAfter = newPos.clone();\n  }\n\n  undo() {\n    this.poly.updatePoint(this.polyIndex.vertex, this.posBefore.x, this.posBefore.y, this.polyIndex.loop);\n  }\n  redo() {\n    this.poly.updatePoint(this.polyIndex.vertex, this.posAfter.x, this.posAfter.y, this.polyIndex.loop);\n  }\n\n  // After undo/redo, select moved vertex\n  getSelectionHint(afterUndo) {\n    return {\n      shape: this.poly,\n      vertex: this.polyIndex\n    };\n  }\n}\n\n// Returns an object that allows for recovering all arc params assoicated with a vertex\nconst copyArcParams = (poly, index, loop) => {\n  if (!poly.isPath() || !poly.edgeIndexValid(index, loop)) {\n    return null;\n  }\n\n  const type = poly.getEdgeType(index, loop);\n  switch (type) {\n    // Note that the getter already returns a copy\n    case _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EdgeType.Ellipse:return poly.getEllipseArcParams(index, loop);\n    case _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EdgeType.Bezier:return {\n        cp1: poly.getControlPoint(index, 1, loop),\n        cp2: poly.getControlPoint(index, 2, loop)\n      };\n    case _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EdgeType.Line:return null;\n    default:console.warn('unexpected edge type');\n  }\n};\n\n// Recover an arc based on the result returned by copyArcParam\nconst restoreArc = (poly, index, loop, arcParams) => {\n  if (!arcParams) {\n    // nothing to restore\n    return;\n  }\n\n  if (arcParams instanceof _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EllipseArcParams) {\n    // recover ellipse arc\n    poly.setEllipseArc(index, arcParams);\n  } else if (arcParams.cp1) {\n    // recover bezier arc\n    const cp1 = arcParams.cp1;\n    const cp2 = arcParams.cp2;\n    poly.setBezierArc(index, cp1.x, cp1.y, cp2.x, cp2.y);\n  }\n};\n\nclass RemoveVertex extends Action {\n  constructor(layer, poly, polyIndex) {\n    super(layer);\n    this.poly = poly;\n    this.vertex = polyIndex.vertex;\n    this.loop = polyIndex.loop;\n    this.point = poly.getPoint(this.vertex, this.loop);\n\n    // For consistency and simplicity, we remove arcs if start or end vertex is removed.\n    this.arcBefore = copyArcParams(poly, poly.edgeBeforeVertex(this.vertex, this.loop), this.loop);\n    this.arcAfter = copyArcParams(poly, poly.edgeAfterVertex(this.vertex, this.loop), this.loop);\n  }\n\n  undo() {\n    this.poly.insertPoint(this.vertex, this.point, this.loop);\n\n    // recover arc params\n    if (this.poly.prevEdgeExists(this.vertex, this.loop)) {\n      restoreArc(this.poly, this.poly.edgeBeforeVertex(this.vertex, this.loop), this.loop, this.arcBefore);\n    }\n    if (this.poly.nextEdgeExists(this.vertex, this.loop)) {\n      restoreArc(this.poly, this.poly.edgeAfterVertex(this.vertex, this.loop), this.loop, this.arcAfter);\n    }\n  }\n\n  redo() {\n    // remove arcs at edges starting/ending at the vertex\n    if (this.poly.isPath()) {\n      if (this.poly.prevEdgeExists(this.vertex, this.loop)) {\n        this.poly.removeArc(this.poly.edgeBeforeVertex(this.vertex, this.loop), this.loop);\n      }\n      if (this.poly.nextEdgeExists(this.vertex, this.loop)) {\n        this.poly.removeArc(this.poly.edgeAfterVertex(this.vertex, this.loop), this.loop);\n      }\n    }\n\n    this.poly.removePoint(this.vertex, this.loop);\n  }\n\n  // After undo, select recovered vertex\n  getSelectionHint(afterUndo) {\n    return {\n      shape: this.poly,\n      vertex: afterUndo ? this.polyIndex : null\n    };\n  }\n}\n\n\n// Moves an edge to a new position specified by new positions for start and end vertex.\n// Optionally, start and end vertex may be duplicated before moving the edge. In this case, the neighbar edges keep unchanged and\n// we introduce new intermediate edges to connect the old start/end position with the new one.\nclass MoveEdge extends Action {\n\n  // @param {EditLayer} layer\n  // @param {Polybase}  poly      - must be at start before the change\n  // @param {PolyIndex} polyIndex - edge to be modified\n  // @param {Vector3}   newPosA, newPosB\n  // @param {bool}      duplicateStartVertex, duplicateEndVertex - Optional, start and end vertex of the edge may be duplicated.\n  constructor(layer, poly, polyIndex, newPosA, newPosB, duplicateStartVertex, duplicateEndVertex) {\n    super(layer);\n    this.poly = poly;\n\n    // store edge index\n    this.edgeIndex = polyIndex.vertex;\n    this.loopIndex = polyIndex.loop;\n\n    // store duplicate flags\n    this.duplicateStartVertex = duplicateStartVertex;\n    this.duplicateEndVertex = duplicateEndVertex;\n\n    const ia = this.edgeIndex;\n    const ib = poly.nextIndex(ia, this.loopIndex);\n\n    // get edge\n    const a = poly.getPoint(ia, this.loopIndex);\n    const b = poly.getPoint(ib, this.loopIndex);\n\n    this.edgeBefore = {\n      a: a,\n      b: b\n    };\n    this.edgeAfter = {\n      a: newPosA.clone(),\n      b: newPosB.clone()\n    };\n  }\n\n  undo() {\n    // get current edgeIndex (after duplicating vertices)\n    const newEdgeIndex = MoveEdge.getNewEdgeIndex(this.poly, this.edgeIndex, this.loopIndex, this.duplicateStartVertex, this.duplicateEndVertex);\n\n    // get indices of the two edge vertices\n    const ia = newEdgeIndex;\n    const ib = this.poly.nextIndex(ia, this.loopIndex);\n\n    // Restore original edge positions\n    this.poly.updatePoint(ia, this.edgeBefore.a.x, this.edgeBefore.a.y, this.loopIndex);\n    this.poly.updatePoint(ib, this.edgeBefore.b.x, this.edgeBefore.b.y, this.loopIndex);\n\n    // Remove extra vertices\n    MoveEdge.revertDuplicateVertices(this.poly, this.edgeIndex, this.loopIndex, this.duplicateStartVertex, this.duplicateEndVertex);\n  }\n\n  redo() {\n    // Duplicate start/end vertex if wanted\n    MoveEdge.duplicateVertices(this.poly, this.edgeIndex, this.loopIndex, this.duplicateStartVertex, this.duplicateEndVertex);\n\n    // get edgeIndex after duplicating vertices\n    const newEdgeIndex = MoveEdge.getNewEdgeIndex(this.poly, this.edgeIndex, this.loopIndex, this.duplicateStartVertex, this.duplicateEndVertex);\n\n    // get indices of the two edge vertices\n    const ia = newEdgeIndex;\n    const ib = this.poly.nextIndex(ia, this.loopIndex);\n\n    // apply new positions\n    this.poly.updatePoint(ia, this.edgeAfter.a.x, this.edgeAfter.a.y, this.loopIndex);\n    this.poly.updatePoint(ib, this.edgeAfter.b.x, this.edgeAfter.b.y, this.loopIndex);\n  }\n\n  // Insert a duplicate of vertex i to position i+1. Note that vertex i only copies\n  // the position. If vertex i contained arc params, these will be at vertex i+1.\n  static duplicateVertex(poly, index) {let loopIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    const p = poly.getPoint(index, loopIndex);\n    poly.insertPoint(index, { x: p.x, y: p.y }, loopIndex);\n  }\n\n  // Duplicates start and/or end vertex of a given edge in a polyline/polygon.\n  static duplicateVertices(poly, edgeIndex, loopIndex, duplicateStartVertex, duplicateEndVertex) {\n\n    let startVertex = edgeIndex;\n\n    if (duplicateStartVertex) {\n      MoveEdge.duplicateVertex(poly, startVertex, loopIndex);\n\n      // After duplicating, the actual edge start vertex has shifted by 1.\n      startVertex++;\n    }\n\n    if (duplicateEndVertex) {\n      const vNext = poly.nextIndex(startVertex, loopIndex);\n      MoveEdge.duplicateVertex(poly, vNext, loopIndex);\n    }\n  }\n\n  // Reverts the extra vertices inserted by duplicateVertices. Note that edgeIndex refers\n  // to the polygon before duplicating the vertices, i.e., should be identical with\n  // the one used in the duplicateVertices(..) to be reverted.\n  static revertDuplicateVertices(poly, edgeIndex, loopIndex, duplicateStartVertex, duplicateEndVertex) {\n\n    // get edge index after considering vertex duplication\n    let curEdgeIndex = MoveEdge.getNewEdgeIndex(poly, edgeIndex, loopIndex, duplicateStartVertex, duplicateEndVertex);\n\n    // If the end vertex was duplicated, revert that now\n    if (duplicateStartVertex) {\n\n      // Note that it is important to remove the vertex BEFORE edge start instead of the edge start itself.\n      // Although both have identical positions, the edge start vertex may contain additional arc params.\n      let iPrev = curEdgeIndex - 1;\n      poly.removePoint(iPrev, loopIndex);\n\n      // This shifts the edgeIndex back by 1\n      curEdgeIndex--;\n    }\n\n    if (duplicateEndVertex) {\n      // Always remove the first of the two duplicate vertices. The first one is the copy that just contains\n      // the position, while the second (=original) one may contain additional arc params.\n      let iNext = poly.nextIndex(curEdgeIndex, loopIndex);\n      poly.removePoint(iNext, loopIndex);\n    }\n  }\n\n  // If we duplicate start/end vertex of an edge, the index of that edge may change.\n  // This function returns the new index of the edge after duplicating start/end vertex.\n  //\n  // Note: poly is assumed to contain the duplicated vertices.\n  static getNewEdgeIndex(poly, edgeIndex, loopIndex, duplicateStartVertex, duplicateEndVertex) {\n\n    let newIndex = edgeIndex;\n\n    // Duplicating the start vertex always shift the edgeIndex by 1\n    if (duplicateStartVertex) {\n      newIndex++;\n    }\n\n    // get vertexCount of the polygon before insertion of duplicated vertices.\n    const vertexCountBefore = poly.getVertexCount(loopIndex) - (duplicateStartVertex ? 1 : 0) - (duplicateEndVertex ? 1 : 0);\n\n    // Check if edge was the 'closing edge' of the original polygon, i.e., the edge that\n    // connects the last vertex with vertex 0\n    const isClosingEdge = edgeIndex === vertexCountBefore - 1;\n\n    // Duplicating the end vertex may also shift the edgeIndex. This happens if the edge start\n    // vertex is the last one in a polygon.\n    if (duplicateEndVertex && isClosingEdge) {\n      newIndex++;\n    }\n    return newIndex;\n  }\n\n  // After undo/redo, select the moved edge. Note that its index may change due to vertex duplication.\n  getSelectionHint(afterUndo) {\n    const edgeIndex = afterUndo ? this.edgeIndex : MoveEdge.getNewEdgeIndex(this.poly, this.edgeIndex, this.loopIndex, this.duplicateStartVertex, this.duplicateEndVertex);\n    return {\n      shape: this.poly,\n      edge: new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.PolyIndex({ vertex: edgeIndex, loop: this.loopIndex })\n    };\n  }\n}\n\n// Change arc type of a Path edge. It can also be used to change arc params without changing the actual type.\nclass ChangeEdgeType extends Action {\n\n  // @param {EditLayer} layer\n  // @param {Path}      path  - must be in \"before\" state of the action\n  // @param {PolyIndex} polyIndex\n  // @param {EdgeType}  edgeType\n  // @param {Vector2}   [cp1] - Control points. Only needed when changing to Bezier\n  // @param {Vector2}   [cp2]\n  // @param {EllipseArcParams} [arcParams] - only needed when changing to EllipseArc\n  constructor(layer, path, polyIndex, edgeType, cp1, cp2, arcParams) {\n    super(layer);\n\n    this.path = path;\n    this.edgeIndex = polyIndex.vertex;\n    this.loopIndex = polyIndex.loop;\n\n    // Store previous edge props\n    const isBezier = path.isBezierArc(this.edgeIndex, this.loopIndex);\n    this.oldEdgeType = path.getEdgeType(this.edgeIndex, this.loopIndex);\n    this.oldCp1 = isBezier && path.getControlPoint(this.edgeIndex, 1, this.loopIndex);\n    this.oldCp2 = isBezier && path.getControlPoint(this.edgeIndex, 2, this.loopIndex);\n    this.oldEllipseArcParams = path.getEllipseArcParams(this.edgeIndex, this.loopIndex);\n\n    // Store new control points (if any)\n    this.newEdgeType = edgeType;\n    this.newCp1 = cp1;\n    this.newCp2 = cp2;\n    this.newEllipseArcParams = arcParams;\n  }\n\n  redo() {\n    switch (this.newEdgeType) {\n      case _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EdgeType.Line:this.path.removeArc(this.edgeIndex, this.loopIndex);break;\n      case _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EdgeType.Ellipse:this.path.setEllipseArc(this.edgeIndex, this.newEllipseArcParams, this.loopIndex);break;\n      case _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EdgeType.Bezier:this.path.setBezierArc(this.edgeIndex, this.newCp1.x, this.newCp1.y, this.newCp2.x, this.newCp2.y, this.loopIndex);break;\n    }\n  }\n\n  undo() {\n    switch (this.oldEdgeType) {\n      case _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EdgeType.Line:this.path.removeArc(this.edgeIndex, this.loopIndex);break;\n      case _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EdgeType.Bezier:this.path.setBezierArc(this.edgeIndex, this.oldCp1.x, this.oldCp1.y, this.oldCp2.x, this.oldCp2.y, this.loopIndex);break;\n      case _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EdgeType.Ellipse:this.path.setEllipseArc(this.edgeIndex, this.oldEllipseArcParams, this.loopIndex);break;\n    }\n  }\n\n  // After undo/redo, select changed edge\n  getSelectionHint(afterUndo) {\n    return {\n      shape: this.path,\n      edge: new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.PolyIndex({ vertex: this.edgeIndex, loop: this.loopIndex })\n    };\n  }\n}\n\nclass ApplyCutOut extends Action {\n\n  constructor(layer, cutPath) {\n    super(layer);\n\n    // collect all other polygons and closed paths in the layer that overlap the cutPath bbox\n    const cutBox = cutPath.getBBox();\n    this.paths = layer.shapes.filter((s) => {\n\n      if (s === cutPath) {\n        return false;\n      }\n\n      // cutout is only be applied on Polygons and closed Paths\n      const isClosed = s instanceof _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.PolyBase && s.isClosed;\n      if (!isClosed) {\n        return false;\n      }\n\n      const box = s.getBBox();\n      return cutBox.intersectsBox(box);\n    });\n\n    // subtract cutPath from all overlapping shapes\n    this.clippedPaths = this.paths.map((p) => {\n      return _BooleanOps_js__WEBPACK_IMPORTED_MODULE_1__.BooleanOps.apply(p, cutPath, _BooleanOps_js__WEBPACK_IMPORTED_MODULE_1__.BooleanOps.Operator.Difference);\n    });\n\n    // create backups of original paths before cutout\n    this.originalShapes = this.paths.map((p) => p.clone());\n\n    this.cutPath = cutPath;\n  }\n\n  redo() {\n    // replace geometry of all shapes by clipped versions\n    this.paths.forEach((p, i) => p.copyGeometry(this.clippedPaths[i]));\n    this.layer.update();\n  }\n\n  undo() {\n    // replace all shapes by original versions\n    this.paths.forEach((p, i) => p.copyGeometry(this.originalShapes[i]));\n  }\n\n  // After undo/redo, select shape that was used for cutout\n  getSelectionHint(afterUndo) {\n    return {\n      shape: this.cutPath\n    };\n  }\n}\n\nclass RemoveLoops extends Action {\n\n  constructor(layer, poly, loops) {\n    super(layer);\n\n    this.poly = poly;\n    this.loops = loops;\n\n    // create a backup of the shape before change\n    this.before = this.poly.clone();\n  }\n\n  redo() {\n    this.poly.removeLoops(this.loops);\n  }\n\n  undo() {\n    this.poly.copy(this.before);\n  }\n\n  // After undo/redo, select modified shape\n  getSelectionHint(afterUndo) {\n    return {\n      shape: this.poly\n    };\n  }\n}\n\nclass MoveLoop extends Action {\n\n  constructor(layer, poly, loopIndex, dx, dy) {\n    super(layer);\n\n    this.poly = poly;\n    this.loopIndex = loopIndex;\n    this.before = this.poly.clone();\n\n    this.dx = dx;\n    this.dy = dy;\n  }\n\n  redo() {\n    this.poly.moveLoop(this.dx, this.dy, this.loopIndex);\n  }\n\n  undo() {\n    this.poly.copy(this.before);\n  }\n\n  // After undo/redo, select modified shape\n  getSelectionHint(afterUndo) {\n    return {\n      shape: this.poly\n    };\n  }\n}\n\n// Merges all shapes into the first one\nclass UnifyShapes extends Action {\n\n  // @param {EditLayer}  layer\n  // @param {PolyBase[]} shapes     - shapes to merge\n  // @param {number}     shapeIndex - index within shapes array. All other shapes will be merged into this one.\n  constructor(layer, shapes, shapeIndex) {\n    super(layer);\n\n    this.merged = _BooleanOps_js__WEBPACK_IMPORTED_MODULE_1__.BooleanOps.apply(shapes[0], shapes[1], _BooleanOps_js__WEBPACK_IMPORTED_MODULE_1__.BooleanOps.Operator.Union, shapes.slice(2));\n    this.before = shapes[shapeIndex].clone();\n\n    this.mainShape = shapes[shapeIndex];\n    this.otherShapes = shapes.filter((s) => s !== this.mainShape);\n  }\n\n  redo() {\n\n    // Merge other shapes into main shape\n    this.mainShape.copyGeometry(this.merged);\n\n    // Remove all other shapes\n    this.layer.removeShapes(this.otherShapes);\n  }\n\n  undo() {\n    // Recover original main shape\n    this.mainShape.copyGeometry(this.before);\n\n    // Add other shapes back to layer\n    this.layer.addShapes(this.otherShapes);\n  }\n\n  // After undo/redo, select mainShape\n  getSelectionHint(afterUndo) {\n    return {\n      shape: this.mainShape\n    };\n  }\n}\n\n// Changes Bezier arc tangent at a vertex v. This may affect up to two edge adjacent to v.\nclass ChangeBezierTangent {\n\n  // @param {EditLayer} layer\n  // @param {Path}      path\n  // @param {number}    vertex     - index of the vertex to be changed\n  // @param {number}    loopIndex\n  // @param {Vector2}   pStart     - tangent start. This is cp2 of the previous bezier segment (if any)\n  // @param {Vector2}   pEnd       - tangent end\n  constructor(layer, path, index, loopIndex, pStart, pEnd) {\n    this.layer = layer;\n    this.path = path;\n    this.index = index;\n    this.loopIndex = loopIndex;\n    this.pStart = pStart;\n    this.pEnd = pEnd;\n\n    // Backup of original shape\n    this.before = path.clone();\n  }\n\n  // Set the two control points that define the bezier tangent. Usually, pEnd is just pStart mirrored at the vertex\n  setTangent(pStart, pEnd) {\n    this.pStart = pStart;\n    this.pEnd = pEnd;\n  }\n\n  // Apply modified tangent endpoints after dragging on of the tangent vertices.\n  //\n  // @param {Vector2} pStart, pEnd - Tangent start/end point in layer coords.\n  redo() {\n\n    // Set start point: This is cp2 of previous arc segment (if any)\n    const prevEdgeIndex = this.path.edgeBeforeVertex(this.index, this.loopIndex);\n    const prevExists = prevEdgeIndex !== -1;\n    if (prevExists && this.path.isBezierArc(prevEdgeIndex, this.loopIndex)) {\n      this.path.updateControlPoint(prevEdgeIndex, 2, this.pStart.x, this.pStart.y, this.loopIndex);\n    }\n\n    // Set end point: This is cp1 of current segment\n    const nextEdgeIndex = this.path.edgeAfterVertex(this.index, this.loopIndex);\n    const nextExists = nextEdgeIndex !== -1;\n    if (nextExists && this.path.isBezierArc(nextEdgeIndex, this.loopIndex)) {\n      this.path.updateControlPoint(this.index, 1, this.pEnd.x, this.pEnd.y, this.loopIndex);\n    }\n  }\n\n  undo() {\n    this.path.copyGeometry(this.before);\n  }\n\n  // ChangeBezierTangent may happen if a vertex or an edge is selected. So, the hint must be set from\n  // outside when the information is available.\n  //   @param {PolyIndex} vertex\n  //   @param {PolyIndex} edge\n  setSelectionItem(vertex, edge) {\n    this.selectionHint = {\n      shape: this.path,\n      vertex: vertex,\n      edge: edge\n    };\n  }\n\n  // After undo/redo, select the edge that was modified\n  getSelectionHint(afterUndo) {\n    return this.selectionHint;\n  }\n}\n\nconst Actions = {\n  Action,\n  AddShape,\n  AddShapes,\n  MoveShapes,\n  RemoveShape,\n  RemoveShapes,\n  AddVertex,\n  MoveVertex,\n  RemoveVertex,\n  MoveEdge,\n  ChangeEdgeType,\n  ApplyCutOut,\n  RemoveLoops,\n  UnifyShapes,\n  MoveLoop,\n  ChangeBezierTangent\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQUc7RUFDbkJqSyxNQUFNO0VBQ05hLFFBQVE7RUFDUkcsU0FBUztFQUNURyxVQUFVO0VBQ1ZhLFdBQVc7RUFDWEMsWUFBWTtFQUNaRSxTQUFTO0VBQ1RRLFVBQVU7RUFDVnlCLFlBQVk7RUFDWlEsUUFBUTtFQUNSK0IsY0FBYztFQUNkYSxXQUFXO0VBQ1hnQixXQUFXO0VBQ1hNLFdBQVc7RUFDWEYsUUFBUTtFQUNSVTtBQUNKLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9FZGl0MkQvQWN0aW9ucy5qcz85NTMxIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvbGxlY3Rpb24gb2YgYmFzaWMgZWRpdCBhY3Rpb25zIHRoYXQgc3VwcG9ydCB1bmRvL3JlZG8uXG4vL1xuLy8gRWFjaCBhY3Rpb24gcHJvdmlkZXMgdW5kbygpIGFuZCByZWRvKCkgZnVuY3Rpb25zLiBVbmRvU3RhY2sgdGFrZXMgY2FyZSB0aGF0IGFjdGlvbnMgYXJlIGFsd2F5cyBjYWxsZWQgaW4gY29uc2lzdGVudCBvcmRlci5cbi8vIEkuZS4sIGFuIGluZGl2aWR1YWwgYWN0aW9uIGNhbiBhc3N1bWUgdGhhdCB1bmRvL3JlZG8gaXMgb25seSBjYWxsZWQgaWYgdGhlIHN0YXRlIGFsbG93cyBpdC4gKGUuZy4gdGFyZ2V0IHNoYXBlIGV4aXN0cyBhbmQgaGFzIGV4cGVjdGVkIG51bWJlciBvZiB2ZXJ0aWNlcyBldGMuKVxuXG5pbXBvcnQgeyBFZGdlVHlwZSwgRWxsaXBzZUFyY1BhcmFtcywgUG9seUJhc2UsIFBvbHlJbmRleCB9IGZyb20gJy4vRWRpdFNoYXBlcy5qcyc7XG5pbXBvcnQgeyBCb29sZWFuT3BzIH0gZnJvbSAnLi9Cb29sZWFuT3BzLmpzJztcblxuY2xhc3MgQWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihsYXllcikge1xuICAgICAgICB0aGlzLmxheWVyID0gbGF5ZXI7XG4gICAgfVxuXG4gICAgdW5kbygpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBYnN0cmFjdCBtZXRob2QgaW52b2tlZCcpO1xuICAgIH1cblxuICAgIHJlZG8oKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQWJzdHJhY3QgbWV0aG9kIGludm9rZWQnKTtcbiAgICB9XG5cbiAgICAvLyBPcHRpb25hbDogQ2FuIGJlIGJlIGltcGxlbWVudGVkIHRvIGd1aWRlIHdoYXQgc2hvdWxkIGJlIHNlbGVjdGVkIGJlZm9yZS9hZnRlciBjaGFuZ2UuXG4gICAgLy8gQHBhcmFtIHtib29sfSBhZnRlclVuZG8gLSBJZiB0cnVlLCByZXR1cm4gcmVjb21tZW5kZWQgc2VsZWN0aW9uIHN0YXRlIGFmdGVyIHVuZG8sIG90aGVyd2lzZSBhZnRlciByZWRvLlxuICAgIC8vIEByZXR1cm5zIHtTZWxlY3Rpb25IaW50fG51bGx9XG4gICAgZ2V0U2VsZWN0aW9uSGludChhZnRlclVuZG8pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG4vLyBTdHJ1Y3QgZm9yIHBvc3NpYmxlIHJldHVybiB2YWx1ZXMgb2YgZ2V0U2VsZWN0aW9uSGludFxuY2xhc3MgU2VsZWN0aW9IaW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8ge1NoYXBlfVxuICAgICAgICB0aGlzLnNoYXBlID0gbnVsbDtcblxuICAgICAgICAvLyB7U2hhcGVbXX0gLSBvbmx5IG5lZWRlZCBmb3IgbXVsdGlzZWxlY3Qgb3BlcmF0aW9uc1xuICAgICAgICB0aGlzLnNoYXBlcyA9IG51bGw7XG5cbiAgICAgICAgLy8ge1BvbHlJbmRleH0gLSBzZWxlY3RlZCB2ZXJ0ZXhcbiAgICAgICAgdGhpcy52ZXJ0ZXggPSBudWxsO1xuXG4gICAgICAgIC8vIHtQb2x5SW5kZXh9IC0gc2VsZWN0ZWQgZWRnZVxuICAgICAgICB0aGlzLmVkZ2UgPSBudWxsO1xuICAgIH1cbn1cblxuY2xhc3MgQWRkU2hhcGUgZXh0ZW5kcyBBY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKGxheWVyLCBzaGFwZSkge1xuICAgICAgICBzdXBlcihsYXllcik7XG4gICAgICAgIHRoaXMuc2hhcGUgPSBzaGFwZTtcbiAgICB9XG5cbiAgICB1bmRvKCkge1xuICAgICAgICB0aGlzLmxheWVyLnJlbW92ZVNoYXBlKHRoaXMuc2hhcGUpO1xuICAgIH1cblxuICAgIHJlZG8oKSB7XG4gICAgICAgIHRoaXMubGF5ZXIuYWRkU2hhcGUodGhpcy5zaGFwZSk7XG4gICAgfVxuXG4gICAgLy8gQWZ0ZXIgcmVkbywgbmV3IHNoYXBlIHNob3VsZCBiZSBzZWxlY3RlZFxuICAgIGdldFNlbGVjdGlvbkhpbnQoYWZ0ZXJVbmRvKSB7XG4gICAgICAgIHJldHVybiBhZnRlclVuZG8gPyBudWxsIDogeyBzaGFwZTogdGhpcy5zaGFwZSB9O1xuICAgIH1cbn1cblxuY2xhc3MgQWRkU2hhcGVzIGV4dGVuZHMgQWN0aW9uIHtcblxuICAgIC8vIEBwYXJhbSB7U2hhcGVbXX0gc2hhcGVzXG4gICAgY29uc3RydWN0b3IobGF5ZXIsIHNoYXBlcykge1xuICAgICAgICBzdXBlcihsYXllcik7XG4gICAgICAgIHRoaXMuc2hhcGVzID0gc2hhcGVzO1xuICAgIH1cblxuICAgIHVuZG8oKSB7XG4gICAgICAgIHRoaXMuc2hhcGVzLmZvckVhY2gocyA9PiB0aGlzLmxheWVyLnJlbW92ZVNoYXBlKHMpKTtcbiAgICB9XG5cbiAgICByZWRvKCkge1xuICAgICAgICB0aGlzLnNoYXBlcy5mb3JFYWNoKHMgPT4gdGhpcy5sYXllci5hZGRTaGFwZShzKSk7XG4gICAgfVxuXG4gICAgLy8gQWZ0ZXIgcmVkbywgbmV3IHNoYXBlIHNob3VsZCBiZSBzZWxlY3RlZFxuICAgIGdldFNlbGVjdGlvbkhpbnQoYWZ0ZXJVbmRvKSB7XG4gICAgICAgIHJldHVybiBhZnRlclVuZG8gPyBudWxsIDogeyBzaGFwZXM6IHRoaXMuc2hhcGVzIH07XG4gICAgfVxufVxuXG5jbGFzcyBNb3ZlU2hhcGVzIGV4dGVuZHMgQWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihsYXllciwgc2hhcGVzLCBkeCwgZHkpIHtcbiAgICAgICAgc3VwZXIobGF5ZXIpO1xuICAgICAgICB0aGlzLnNoYXBlcyA9IHNoYXBlcztcbiAgICAgICAgdGhpcy5kZWx0YSAgPSB7IHg6IGR4LCB5OiBkeSB9O1xuXG4gICAgICAgIC8vIE5vdGUgdGhhdCB0cmFuc2Zvcm1pbmcgYmFjayBhbmQgZm9ydGggaXMgbm90IGFsd2F5cyBleGFjdGx5IDE6MS5cbiAgICAgICAgdGhpcy5iZWZvcmVTdGF0ZSA9IHRoaXMuc2hhcGVzLm1hcChzID0+IHMuY2xvbmUoKSk7XG4gICAgICAgIHRoaXMuYWZ0ZXJTdGF0ZSAgPSB0aGlzLnNoYXBlcy5tYXAocyA9PiBzLmNsb25lKCkpO1xuXG4gICAgICAgIHRoaXMuYWZ0ZXJTdGF0ZS5mb3JFYWNoKHMgPT4gcy5tb3ZlKGR4LCBkeSkpO1xuICAgIH1cblxuICAgIHVuZG8oKSB7XG4gICAgICAgIHRoaXMuc2hhcGVzLmZvckVhY2goKHMsIGkpID0+IHMuY29weSh0aGlzLmJlZm9yZVN0YXRlW2ldKSk7XG4gICAgfVxuXG4gICAgcmVkbygpIHtcbiAgICAgICAgdGhpcy5zaGFwZXMuZm9yRWFjaCgocywgaSkgPT4gcy5jb3B5KHRoaXMuYWZ0ZXJTdGF0ZVtpXSkpO1xuICAgIH1cblxuICAgIC8vIEFmdGVyIHVuZG8vcmVkbywgbW92ZWQgc2hhcGVzIHNob3VsZCBiZSBzZWxlY3RlZFxuICAgIGdldFNlbGVjdGlvbkhpbnQoYWZ0ZXJVbmRvKSB7XG4gICAgICAgIHJldHVybiB7IHNoYXBlczogdGhpcy5zaGFwZXMgfTtcbiAgICB9XG59XG5cbmNsYXNzIFJlbW92ZVNoYXBlIGV4dGVuZHMgQWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihsYXllciwgc2hhcGUpIHtcbiAgICAgICAgc3VwZXIobGF5ZXIpO1xuICAgICAgICB0aGlzLnNoYXBlID0gc2hhcGU7XG4gICAgfVxuXG4gICAgdW5kbygpIHtcbiAgICAgICAgdGhpcy5sYXllci5hZGRTaGFwZSh0aGlzLnNoYXBlKTtcbiAgICB9XG5cbiAgICByZWRvKCkge1xuICAgICAgICB0aGlzLmxheWVyLnJlbW92ZVNoYXBlKHRoaXMuc2hhcGUpO1xuICAgIH1cblxuICAgIC8vIEFmdGVyIHVuZG8sIHJlY292ZXJlZCBzaGFwZSBzaG91bGQgYmUgc2VsZWN0ZWRcbiAgICBnZXRTZWxlY3Rpb25IaW50KGFmdGVyVW5kbykge1xuICAgICAgICByZXR1cm4gYWZ0ZXJVbmRvID8geyBzaGFwZTogdGhpcy5zaGFwZSB9IDogbnVsbDtcbiAgICB9XG59XG5cbmNsYXNzIFJlbW92ZVNoYXBlcyBleHRlbmRzIEFjdGlvbiB7XG4gICAgY29uc3RydWN0b3IobGF5ZXIsIHNoYXBlcykge1xuICAgICAgICBzdXBlcihsYXllcik7XG4gICAgICAgIHRoaXMuc2hhcGVzID0gc2hhcGVzLnNsaWNlKCk7XG4gICAgfVxuXG4gICAgdW5kbygpIHtcbiAgICAgICAgdGhpcy5zaGFwZXMuZm9yRWFjaChzID0+IHRoaXMubGF5ZXIuYWRkU2hhcGUocykpO1xuICAgIH1cblxuICAgIHJlZG8oKSB7XG4gICAgICAgIHRoaXMuc2hhcGVzLmZvckVhY2gocyA9PiB0aGlzLmxheWVyLnJlbW92ZVNoYXBlKHMpKTtcbiAgICB9XG5cbiAgICAvLyBBZnRlciB1bmRvLCByZWNvdmVyZWQgc2hhcGVzIHNob3VsZCBiZSBzZWxlY3RlZFxuICAgIGdldFNlbGVjdGlvbkhpbnQoYWZ0ZXJVbmRvKSB7XG4gICAgICAgIHJldHVybiBhZnRlclVuZG8gPyB7IHNoYXBlczogdGhpcy5zaGFwZXMgfSA6IG51bGw7XG4gICAgfVxufVxuXG5jbGFzcyBBZGRWZXJ0ZXggZXh0ZW5kcyBBY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKGxheWVyLCBwb2x5LCBwb2x5SW5kZXgsIHApIHtcbiAgICAgICAgc3VwZXIobGF5ZXIpO1xuICAgICAgICB0aGlzLnBvbHkgPSBwb2x5O1xuICAgICAgICB0aGlzLnBvbHlJbmRleCA9IHBvbHlJbmRleDtcbiAgICAgICAgdGhpcy5wb2ludCA9IHAuY2xvbmUoKTtcbiAgICB9XG5cbiAgICB1bmRvKCkge1xuICAgICAgICB0aGlzLnBvbHkucmVtb3ZlUG9pbnQodGhpcy5wb2x5SW5kZXgudmVydGV4LCB0aGlzLnBvbHlJbmRleC5sb29wKTtcbiAgICB9XG5cbiAgICByZWRvKCkge1xuICAgICAgICB0aGlzLnBvbHkuaW5zZXJ0UG9pbnQodGhpcy5wb2x5SW5kZXgudmVydGV4LCB0aGlzLnBvaW50LCB0aGlzLnBvbHlJbmRleC5sb29wKTtcbiAgICB9XG5cbiAgICAvLyBBZnRlciByZWRvLCBzZWxlY3QgdGhlIG5ldyB2ZXJ0ZXhcbiAgICBnZXRTZWxlY3Rpb25IaW50KGFmdGVyVW5kbykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2hhcGU6IHRoaXMucG9seSxcbiAgICAgICAgICAgIHZlcnRleDogYWZ0ZXJVbmRvID8gbnVsbCA6IHRoaXMucG9seUluZGV4XG4gICAgICAgIH07XG4gICAgfVxufVxuXG4vLyBPbmx5IGZvciBwb2x5Z29ucyBhbmQgcG9seWxpbmVzXG5jbGFzcyBNb3ZlVmVydGV4IGV4dGVuZHMgQWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihsYXllciwgcG9seSwgcG9seUluZGV4LCBuZXdQb3MpIHtcbiAgICAgICAgc3VwZXIobGF5ZXIpO1xuICAgICAgICB0aGlzLnBvbHkgPSBwb2x5O1xuICAgICAgICB0aGlzLnBvbHlJbmRleCA9IHBvbHlJbmRleDtcbiAgICAgICAgdGhpcy5wb3NCZWZvcmUgPSBwb2x5LmdldFBvaW50KHBvbHlJbmRleC52ZXJ0ZXgsIHBvbHlJbmRleC5sb29wKTtcbiAgICAgICAgdGhpcy5wb3NBZnRlciAgPSBuZXdQb3MuY2xvbmUoKTtcbiAgICB9XG5cbiAgICB1bmRvKCkge1xuICAgICAgICB0aGlzLnBvbHkudXBkYXRlUG9pbnQodGhpcy5wb2x5SW5kZXgudmVydGV4LCB0aGlzLnBvc0JlZm9yZS54LCB0aGlzLnBvc0JlZm9yZS55LCB0aGlzLnBvbHlJbmRleC5sb29wKTtcbiAgICB9XG4gICAgcmVkbygpIHtcbiAgICAgICAgdGhpcy5wb2x5LnVwZGF0ZVBvaW50KHRoaXMucG9seUluZGV4LnZlcnRleCwgdGhpcy5wb3NBZnRlci54LCB0aGlzLnBvc0FmdGVyLnksIHRoaXMucG9seUluZGV4Lmxvb3ApO1xuICAgIH1cblxuICAgIC8vIEFmdGVyIHVuZG8vcmVkbywgc2VsZWN0IG1vdmVkIHZlcnRleFxuICAgIGdldFNlbGVjdGlvbkhpbnQoYWZ0ZXJVbmRvKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzaGFwZTogdGhpcy5wb2x5LFxuICAgICAgICAgICAgdmVydGV4OiB0aGlzLnBvbHlJbmRleFxuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBSZXR1cm5zIGFuIG9iamVjdCB0aGF0IGFsbG93cyBmb3IgcmVjb3ZlcmluZyBhbGwgYXJjIHBhcmFtcyBhc3NvaWNhdGVkIHdpdGggYSB2ZXJ0ZXhcbmNvbnN0IGNvcHlBcmNQYXJhbXMgPSAocG9seSwgaW5kZXgsIGxvb3ApID0+IHtcbiAgICBpZiAoIXBvbHkuaXNQYXRoKCkgfHwgIXBvbHkuZWRnZUluZGV4VmFsaWQoaW5kZXgsIGxvb3ApKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IHR5cGUgPSBwb2x5LmdldEVkZ2VUeXBlKGluZGV4LCBsb29wKTtcbiAgICBzd2l0Y2godHlwZSkge1xuICAgICAgICAvLyBOb3RlIHRoYXQgdGhlIGdldHRlciBhbHJlYWR5IHJldHVybnMgYSBjb3B5XG4gICAgICAgIGNhc2UgRWRnZVR5cGUuRWxsaXBzZTogcmV0dXJuIHBvbHkuZ2V0RWxsaXBzZUFyY1BhcmFtcyhpbmRleCwgbG9vcCk7XG4gICAgICAgIGNhc2UgRWRnZVR5cGUuQmV6aWVyOiByZXR1cm4ge1xuICAgICAgICAgICAgY3AxOiBwb2x5LmdldENvbnRyb2xQb2ludChpbmRleCwgMSwgbG9vcCksXG4gICAgICAgICAgICBjcDI6IHBvbHkuZ2V0Q29udHJvbFBvaW50KGluZGV4LCAyLCBsb29wKVxuICAgICAgICB9XG4gICAgICAgIGNhc2UgRWRnZVR5cGUuTGluZTogcmV0dXJuIG51bGw7XG4gICAgICAgIGRlZmF1bHQ6IGNvbnNvbGUud2FybigndW5leHBlY3RlZCBlZGdlIHR5cGUnKTtcbiAgICB9XG59O1xuXG4vLyBSZWNvdmVyIGFuIGFyYyBiYXNlZCBvbiB0aGUgcmVzdWx0IHJldHVybmVkIGJ5IGNvcHlBcmNQYXJhbVxuY29uc3QgcmVzdG9yZUFyYyA9IChwb2x5LCBpbmRleCwgbG9vcCwgYXJjUGFyYW1zKSA9PiB7XG4gICAgaWYgKCFhcmNQYXJhbXMpIHtcbiAgICAgICAgLy8gbm90aGluZyB0byByZXN0b3JlXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoYXJjUGFyYW1zIGluc3RhbmNlb2YgRWxsaXBzZUFyY1BhcmFtcykge1xuICAgICAgICAvLyByZWNvdmVyIGVsbGlwc2UgYXJjXG4gICAgICAgIHBvbHkuc2V0RWxsaXBzZUFyYyhpbmRleCwgYXJjUGFyYW1zKTtcbiAgICB9IGVsc2UgaWYgKGFyY1BhcmFtcy5jcDEpIHtcbiAgICAgICAgLy8gcmVjb3ZlciBiZXppZXIgYXJjXG4gICAgICAgIGNvbnN0IGNwMSA9IGFyY1BhcmFtcy5jcDE7XG4gICAgICAgIGNvbnN0IGNwMiA9IGFyY1BhcmFtcy5jcDI7XG4gICAgICAgIHBvbHkuc2V0QmV6aWVyQXJjKGluZGV4LCBjcDEueCwgY3AxLnksIGNwMi54LCBjcDIueSk7XG4gICAgfVxufTtcblxuY2xhc3MgUmVtb3ZlVmVydGV4IGV4dGVuZHMgQWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihsYXllciwgcG9seSwgcG9seUluZGV4KSB7XG4gICAgICAgIHN1cGVyKGxheWVyKTtcbiAgICAgICAgdGhpcy5wb2x5ICAgPSBwb2x5O1xuICAgICAgICB0aGlzLnZlcnRleCA9IHBvbHlJbmRleC52ZXJ0ZXg7XG4gICAgICAgIHRoaXMubG9vcCAgID0gcG9seUluZGV4Lmxvb3A7XG4gICAgICAgIHRoaXMucG9pbnQgID0gcG9seS5nZXRQb2ludCh0aGlzLnZlcnRleCwgdGhpcy5sb29wKTtcblxuICAgICAgICAvLyBGb3IgY29uc2lzdGVuY3kgYW5kIHNpbXBsaWNpdHksIHdlIHJlbW92ZSBhcmNzIGlmIHN0YXJ0IG9yIGVuZCB2ZXJ0ZXggaXMgcmVtb3ZlZC5cbiAgICAgICAgdGhpcy5hcmNCZWZvcmUgPSBjb3B5QXJjUGFyYW1zKHBvbHksIHBvbHkuZWRnZUJlZm9yZVZlcnRleCh0aGlzLnZlcnRleCwgdGhpcy5sb29wKSwgdGhpcy5sb29wKTtcbiAgICAgICAgdGhpcy5hcmNBZnRlciAgPSBjb3B5QXJjUGFyYW1zKHBvbHksIHBvbHkuZWRnZUFmdGVyVmVydGV4KHRoaXMudmVydGV4LCB0aGlzLmxvb3ApLCB0aGlzLmxvb3ApO1xuICAgIH1cblxuICAgIHVuZG8oKSB7XG4gICAgICAgIHRoaXMucG9seS5pbnNlcnRQb2ludCh0aGlzLnZlcnRleCwgdGhpcy5wb2ludCwgdGhpcy5sb29wKTtcblxuICAgICAgICAvLyByZWNvdmVyIGFyYyBwYXJhbXNcbiAgICAgICAgaWYgKHRoaXMucG9seS5wcmV2RWRnZUV4aXN0cyh0aGlzLnZlcnRleCwgdGhpcy5sb29wKSkge1xuICAgICAgICAgICAgcmVzdG9yZUFyYyh0aGlzLnBvbHksIHRoaXMucG9seS5lZGdlQmVmb3JlVmVydGV4KHRoaXMudmVydGV4LCB0aGlzLmxvb3ApLCB0aGlzLmxvb3AsIHRoaXMuYXJjQmVmb3JlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wb2x5Lm5leHRFZGdlRXhpc3RzKHRoaXMudmVydGV4LCB0aGlzLmxvb3ApKSB7XG4gICAgICAgICAgICByZXN0b3JlQXJjKHRoaXMucG9seSwgdGhpcy5wb2x5LmVkZ2VBZnRlclZlcnRleCh0aGlzLnZlcnRleCwgdGhpcy5sb29wKSwgdGhpcy5sb29wLCB0aGlzLmFyY0FmdGVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZG8oKSB7XG4gICAgICAgIC8vIHJlbW92ZSBhcmNzIGF0IGVkZ2VzIHN0YXJ0aW5nL2VuZGluZyBhdCB0aGUgdmVydGV4XG4gICAgICAgIGlmICh0aGlzLnBvbHkuaXNQYXRoKCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBvbHkucHJldkVkZ2VFeGlzdHModGhpcy52ZXJ0ZXgsIHRoaXMubG9vcCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvbHkucmVtb3ZlQXJjKHRoaXMucG9seS5lZGdlQmVmb3JlVmVydGV4KHRoaXMudmVydGV4LCB0aGlzLmxvb3ApLCB0aGlzLmxvb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucG9seS5uZXh0RWRnZUV4aXN0cyh0aGlzLnZlcnRleCwgdGhpcy5sb29wKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucG9seS5yZW1vdmVBcmModGhpcy5wb2x5LmVkZ2VBZnRlclZlcnRleCh0aGlzLnZlcnRleCwgdGhpcy5sb29wKSwgdGhpcy5sb29wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucG9seS5yZW1vdmVQb2ludCh0aGlzLnZlcnRleCwgdGhpcy5sb29wKTtcbiAgICB9XG5cbiAgICAvLyBBZnRlciB1bmRvLCBzZWxlY3QgcmVjb3ZlcmVkIHZlcnRleFxuICAgIGdldFNlbGVjdGlvbkhpbnQoYWZ0ZXJVbmRvKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzaGFwZTogdGhpcy5wb2x5LFxuICAgICAgICAgICAgdmVydGV4OiBhZnRlclVuZG8gPyB0aGlzLnBvbHlJbmRleCA6IG51bGxcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG4vLyBNb3ZlcyBhbiBlZGdlIHRvIGEgbmV3IHBvc2l0aW9uIHNwZWNpZmllZCBieSBuZXcgcG9zaXRpb25zIGZvciBzdGFydCBhbmQgZW5kIHZlcnRleC5cbi8vIE9wdGlvbmFsbHksIHN0YXJ0IGFuZCBlbmQgdmVydGV4IG1heSBiZSBkdXBsaWNhdGVkIGJlZm9yZSBtb3ZpbmcgdGhlIGVkZ2UuIEluIHRoaXMgY2FzZSwgdGhlIG5laWdoYmFyIGVkZ2VzIGtlZXAgdW5jaGFuZ2VkIGFuZFxuLy8gd2UgaW50cm9kdWNlIG5ldyBpbnRlcm1lZGlhdGUgZWRnZXMgdG8gY29ubmVjdCB0aGUgb2xkIHN0YXJ0L2VuZCBwb3NpdGlvbiB3aXRoIHRoZSBuZXcgb25lLlxuY2xhc3MgTW92ZUVkZ2UgZXh0ZW5kcyBBY3Rpb24ge1xuXG4gICAgLy8gQHBhcmFtIHtFZGl0TGF5ZXJ9IGxheWVyXG4gICAgLy8gQHBhcmFtIHtQb2x5YmFzZX0gIHBvbHkgICAgICAtIG11c3QgYmUgYXQgc3RhcnQgYmVmb3JlIHRoZSBjaGFuZ2VcbiAgICAvLyBAcGFyYW0ge1BvbHlJbmRleH0gcG9seUluZGV4IC0gZWRnZSB0byBiZSBtb2RpZmllZFxuICAgIC8vIEBwYXJhbSB7VmVjdG9yM30gICBuZXdQb3NBLCBuZXdQb3NCXG4gICAgLy8gQHBhcmFtIHtib29sfSAgICAgIGR1cGxpY2F0ZVN0YXJ0VmVydGV4LCBkdXBsaWNhdGVFbmRWZXJ0ZXggLSBPcHRpb25hbCwgc3RhcnQgYW5kIGVuZCB2ZXJ0ZXggb2YgdGhlIGVkZ2UgbWF5IGJlIGR1cGxpY2F0ZWQuXG4gICAgY29uc3RydWN0b3IobGF5ZXIsIHBvbHksIHBvbHlJbmRleCwgbmV3UG9zQSwgbmV3UG9zQiwgZHVwbGljYXRlU3RhcnRWZXJ0ZXgsIGR1cGxpY2F0ZUVuZFZlcnRleCkge1xuICAgICAgICBzdXBlcihsYXllcik7XG4gICAgICAgIHRoaXMucG9seSA9IHBvbHk7XG5cbiAgICAgICAgLy8gc3RvcmUgZWRnZSBpbmRleFxuICAgICAgICB0aGlzLmVkZ2VJbmRleCA9IHBvbHlJbmRleC52ZXJ0ZXg7XG4gICAgICAgIHRoaXMubG9vcEluZGV4ID0gcG9seUluZGV4Lmxvb3A7XG5cbiAgICAgICAgLy8gc3RvcmUgZHVwbGljYXRlIGZsYWdzXG4gICAgICAgIHRoaXMuZHVwbGljYXRlU3RhcnRWZXJ0ZXggPSBkdXBsaWNhdGVTdGFydFZlcnRleDtcbiAgICAgICAgdGhpcy5kdXBsaWNhdGVFbmRWZXJ0ZXggPSBkdXBsaWNhdGVFbmRWZXJ0ZXg7XG5cbiAgICAgICAgY29uc3QgaWEgPSB0aGlzLmVkZ2VJbmRleDtcbiAgICAgICAgY29uc3QgaWIgPSBwb2x5Lm5leHRJbmRleChpYSwgdGhpcy5sb29wSW5kZXgpO1xuXG4gICAgICAgIC8vIGdldCBlZGdlXG4gICAgICAgIGNvbnN0IGEgPSBwb2x5LmdldFBvaW50KGlhLCB0aGlzLmxvb3BJbmRleCk7XG4gICAgICAgIGNvbnN0IGIgPSBwb2x5LmdldFBvaW50KGliLCB0aGlzLmxvb3BJbmRleCk7XG5cbiAgICAgICAgdGhpcy5lZGdlQmVmb3JlID0ge1xuICAgICAgICAgICAgYTogYSxcbiAgICAgICAgICAgIGI6IGJcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5lZGdlQWZ0ZXIgPSB7XG4gICAgICAgICAgICBhOiBuZXdQb3NBLmNsb25lKCksXG4gICAgICAgICAgICBiOiBuZXdQb3NCLmNsb25lKClcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB1bmRvKCkge1xuICAgICAgICAvLyBnZXQgY3VycmVudCBlZGdlSW5kZXggKGFmdGVyIGR1cGxpY2F0aW5nIHZlcnRpY2VzKVxuICAgICAgICBjb25zdCBuZXdFZGdlSW5kZXggPSBNb3ZlRWRnZS5nZXROZXdFZGdlSW5kZXgodGhpcy5wb2x5LCB0aGlzLmVkZ2VJbmRleCwgdGhpcy5sb29wSW5kZXgsIHRoaXMuZHVwbGljYXRlU3RhcnRWZXJ0ZXgsIHRoaXMuZHVwbGljYXRlRW5kVmVydGV4KTtcblxuICAgICAgICAvLyBnZXQgaW5kaWNlcyBvZiB0aGUgdHdvIGVkZ2UgdmVydGljZXNcbiAgICAgICAgY29uc3QgaWEgPSBuZXdFZGdlSW5kZXg7XG4gICAgICAgIGNvbnN0IGliID0gdGhpcy5wb2x5Lm5leHRJbmRleChpYSwgdGhpcy5sb29wSW5kZXgpO1xuXG4gICAgICAgIC8vIFJlc3RvcmUgb3JpZ2luYWwgZWRnZSBwb3NpdGlvbnNcbiAgICAgICAgdGhpcy5wb2x5LnVwZGF0ZVBvaW50KGlhLCB0aGlzLmVkZ2VCZWZvcmUuYS54LCB0aGlzLmVkZ2VCZWZvcmUuYS55LCB0aGlzLmxvb3BJbmRleCk7XG4gICAgICAgIHRoaXMucG9seS51cGRhdGVQb2ludChpYiwgdGhpcy5lZGdlQmVmb3JlLmIueCwgdGhpcy5lZGdlQmVmb3JlLmIueSwgdGhpcy5sb29wSW5kZXgpO1xuXG4gICAgICAgIC8vIFJlbW92ZSBleHRyYSB2ZXJ0aWNlc1xuICAgICAgICBNb3ZlRWRnZS5yZXZlcnREdXBsaWNhdGVWZXJ0aWNlcyh0aGlzLnBvbHksIHRoaXMuZWRnZUluZGV4LCB0aGlzLmxvb3BJbmRleCwgdGhpcy5kdXBsaWNhdGVTdGFydFZlcnRleCwgdGhpcy5kdXBsaWNhdGVFbmRWZXJ0ZXgpO1xuICAgIH1cblxuICAgIHJlZG8oKSB7XG4gICAgICAgIC8vIER1cGxpY2F0ZSBzdGFydC9lbmQgdmVydGV4IGlmIHdhbnRlZFxuICAgICAgICBNb3ZlRWRnZS5kdXBsaWNhdGVWZXJ0aWNlcyh0aGlzLnBvbHksIHRoaXMuZWRnZUluZGV4LCB0aGlzLmxvb3BJbmRleCwgdGhpcy5kdXBsaWNhdGVTdGFydFZlcnRleCwgdGhpcy5kdXBsaWNhdGVFbmRWZXJ0ZXgpO1xuXG4gICAgICAgIC8vIGdldCBlZGdlSW5kZXggYWZ0ZXIgZHVwbGljYXRpbmcgdmVydGljZXNcbiAgICAgICAgY29uc3QgbmV3RWRnZUluZGV4ID0gTW92ZUVkZ2UuZ2V0TmV3RWRnZUluZGV4KHRoaXMucG9seSwgdGhpcy5lZGdlSW5kZXgsIHRoaXMubG9vcEluZGV4LCB0aGlzLmR1cGxpY2F0ZVN0YXJ0VmVydGV4LCB0aGlzLmR1cGxpY2F0ZUVuZFZlcnRleCk7XG5cbiAgICAgICAgLy8gZ2V0IGluZGljZXMgb2YgdGhlIHR3byBlZGdlIHZlcnRpY2VzXG4gICAgICAgIGNvbnN0IGlhID0gbmV3RWRnZUluZGV4O1xuICAgICAgICBjb25zdCBpYiA9IHRoaXMucG9seS5uZXh0SW5kZXgoaWEsIHRoaXMubG9vcEluZGV4KTtcblxuICAgICAgICAvLyBhcHBseSBuZXcgcG9zaXRpb25zXG4gICAgICAgIHRoaXMucG9seS51cGRhdGVQb2ludChpYSwgdGhpcy5lZGdlQWZ0ZXIuYS54LCB0aGlzLmVkZ2VBZnRlci5hLnksIHRoaXMubG9vcEluZGV4KTtcbiAgICAgICAgdGhpcy5wb2x5LnVwZGF0ZVBvaW50KGliLCB0aGlzLmVkZ2VBZnRlci5iLngsIHRoaXMuZWRnZUFmdGVyLmIueSwgdGhpcy5sb29wSW5kZXgpO1xuICAgIH1cblxuICAgIC8vIEluc2VydCBhIGR1cGxpY2F0ZSBvZiB2ZXJ0ZXggaSB0byBwb3NpdGlvbiBpKzEuIE5vdGUgdGhhdCB2ZXJ0ZXggaSBvbmx5IGNvcGllc1xuICAgIC8vIHRoZSBwb3NpdGlvbi4gSWYgdmVydGV4IGkgY29udGFpbmVkIGFyYyBwYXJhbXMsIHRoZXNlIHdpbGwgYmUgYXQgdmVydGV4IGkrMS5cbiAgICBzdGF0aWMgZHVwbGljYXRlVmVydGV4KHBvbHksIGluZGV4LCBsb29wSW5kZXggPSAwKSB7XG4gICAgICAgIGNvbnN0IHAgPSBwb2x5LmdldFBvaW50KGluZGV4LCBsb29wSW5kZXgpO1xuICAgICAgICBwb2x5Lmluc2VydFBvaW50KGluZGV4LCB7eDpwLngsIHk6IHAueX0sIGxvb3BJbmRleCk7XG4gICAgfVxuXG4gICAgLy8gRHVwbGljYXRlcyBzdGFydCBhbmQvb3IgZW5kIHZlcnRleCBvZiBhIGdpdmVuIGVkZ2UgaW4gYSBwb2x5bGluZS9wb2x5Z29uLlxuICAgIHN0YXRpYyBkdXBsaWNhdGVWZXJ0aWNlcyhwb2x5LCBlZGdlSW5kZXgsIGxvb3BJbmRleCwgZHVwbGljYXRlU3RhcnRWZXJ0ZXgsIGR1cGxpY2F0ZUVuZFZlcnRleCkge1xuXG4gICAgICAgIGxldCBzdGFydFZlcnRleCA9IGVkZ2VJbmRleDtcblxuICAgICAgICBpZiAoZHVwbGljYXRlU3RhcnRWZXJ0ZXgpIHtcbiAgICAgICAgICAgIE1vdmVFZGdlLmR1cGxpY2F0ZVZlcnRleChwb2x5LCBzdGFydFZlcnRleCwgbG9vcEluZGV4KTtcblxuICAgICAgICAgICAgLy8gQWZ0ZXIgZHVwbGljYXRpbmcsIHRoZSBhY3R1YWwgZWRnZSBzdGFydCB2ZXJ0ZXggaGFzIHNoaWZ0ZWQgYnkgMS5cbiAgICAgICAgICAgIHN0YXJ0VmVydGV4Kys7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZHVwbGljYXRlRW5kVmVydGV4KSB7XG4gICAgICAgICAgICBjb25zdCB2TmV4dCA9IHBvbHkubmV4dEluZGV4KHN0YXJ0VmVydGV4LCBsb29wSW5kZXgpO1xuICAgICAgICAgICAgTW92ZUVkZ2UuZHVwbGljYXRlVmVydGV4KHBvbHksIHZOZXh0LCBsb29wSW5kZXgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIFJldmVydHMgdGhlIGV4dHJhIHZlcnRpY2VzIGluc2VydGVkIGJ5IGR1cGxpY2F0ZVZlcnRpY2VzLiBOb3RlIHRoYXQgZWRnZUluZGV4IHJlZmVyc1xuICAgIC8vIHRvIHRoZSBwb2x5Z29uIGJlZm9yZSBkdXBsaWNhdGluZyB0aGUgdmVydGljZXMsIGkuZS4sIHNob3VsZCBiZSBpZGVudGljYWwgd2l0aFxuICAgIC8vIHRoZSBvbmUgdXNlZCBpbiB0aGUgZHVwbGljYXRlVmVydGljZXMoLi4pIHRvIGJlIHJldmVydGVkLlxuICAgIHN0YXRpYyByZXZlcnREdXBsaWNhdGVWZXJ0aWNlcyhwb2x5LCBlZGdlSW5kZXgsIGxvb3BJbmRleCwgZHVwbGljYXRlU3RhcnRWZXJ0ZXgsIGR1cGxpY2F0ZUVuZFZlcnRleCkge1xuXG4gICAgICAgIC8vIGdldCBlZGdlIGluZGV4IGFmdGVyIGNvbnNpZGVyaW5nIHZlcnRleCBkdXBsaWNhdGlvblxuICAgICAgICBsZXQgY3VyRWRnZUluZGV4ID0gTW92ZUVkZ2UuZ2V0TmV3RWRnZUluZGV4KHBvbHksIGVkZ2VJbmRleCwgbG9vcEluZGV4LCBkdXBsaWNhdGVTdGFydFZlcnRleCwgZHVwbGljYXRlRW5kVmVydGV4KTtcblxuICAgICAgICAvLyBJZiB0aGUgZW5kIHZlcnRleCB3YXMgZHVwbGljYXRlZCwgcmV2ZXJ0IHRoYXQgbm93XG4gICAgICAgIGlmIChkdXBsaWNhdGVTdGFydFZlcnRleCkge1xuXG4gICAgICAgICAgICAvLyBOb3RlIHRoYXQgaXQgaXMgaW1wb3J0YW50IHRvIHJlbW92ZSB0aGUgdmVydGV4IEJFRk9SRSBlZGdlIHN0YXJ0IGluc3RlYWQgb2YgdGhlIGVkZ2Ugc3RhcnQgaXRzZWxmLlxuICAgICAgICAgICAgLy8gQWx0aG91Z2ggYm90aCBoYXZlIGlkZW50aWNhbCBwb3NpdGlvbnMsIHRoZSBlZGdlIHN0YXJ0IHZlcnRleCBtYXkgY29udGFpbiBhZGRpdGlvbmFsIGFyYyBwYXJhbXMuXG4gICAgICAgICAgICBsZXQgaVByZXYgPSBjdXJFZGdlSW5kZXggLSAxO1xuICAgICAgICAgICAgcG9seS5yZW1vdmVQb2ludChpUHJldiwgbG9vcEluZGV4KTtcblxuICAgICAgICAgICAgLy8gVGhpcyBzaGlmdHMgdGhlIGVkZ2VJbmRleCBiYWNrIGJ5IDFcbiAgICAgICAgICAgIGN1ckVkZ2VJbmRleC0tO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGR1cGxpY2F0ZUVuZFZlcnRleCkge1xuICAgICAgICAgICAgLy8gQWx3YXlzIHJlbW92ZSB0aGUgZmlyc3Qgb2YgdGhlIHR3byBkdXBsaWNhdGUgdmVydGljZXMuIFRoZSBmaXJzdCBvbmUgaXMgdGhlIGNvcHkgdGhhdCBqdXN0IGNvbnRhaW5zXG4gICAgICAgICAgICAvLyB0aGUgcG9zaXRpb24sIHdoaWxlIHRoZSBzZWNvbmQgKD1vcmlnaW5hbCkgb25lIG1heSBjb250YWluIGFkZGl0aW9uYWwgYXJjIHBhcmFtcy5cbiAgICAgICAgICAgIGxldCBpTmV4dCA9IHBvbHkubmV4dEluZGV4KGN1ckVkZ2VJbmRleCwgbG9vcEluZGV4KTtcbiAgICAgICAgICAgIHBvbHkucmVtb3ZlUG9pbnQoaU5leHQsIGxvb3BJbmRleCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gSWYgd2UgZHVwbGljYXRlIHN0YXJ0L2VuZCB2ZXJ0ZXggb2YgYW4gZWRnZSwgdGhlIGluZGV4IG9mIHRoYXQgZWRnZSBtYXkgY2hhbmdlLlxuICAgIC8vIFRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgbmV3IGluZGV4IG9mIHRoZSBlZGdlIGFmdGVyIGR1cGxpY2F0aW5nIHN0YXJ0L2VuZCB2ZXJ0ZXguXG4gICAgLy9cbiAgICAvLyBOb3RlOiBwb2x5IGlzIGFzc3VtZWQgdG8gY29udGFpbiB0aGUgZHVwbGljYXRlZCB2ZXJ0aWNlcy5cbiAgICBzdGF0aWMgZ2V0TmV3RWRnZUluZGV4KHBvbHksIGVkZ2VJbmRleCwgbG9vcEluZGV4LCBkdXBsaWNhdGVTdGFydFZlcnRleCwgZHVwbGljYXRlRW5kVmVydGV4KSB7XG5cbiAgICAgICAgbGV0IG5ld0luZGV4ID0gZWRnZUluZGV4O1xuXG4gICAgICAgIC8vIER1cGxpY2F0aW5nIHRoZSBzdGFydCB2ZXJ0ZXggYWx3YXlzIHNoaWZ0IHRoZSBlZGdlSW5kZXggYnkgMVxuICAgICAgICBpZiAoZHVwbGljYXRlU3RhcnRWZXJ0ZXgpIHtcbiAgICAgICAgICAgIG5ld0luZGV4Kys7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgdmVydGV4Q291bnQgb2YgdGhlIHBvbHlnb24gYmVmb3JlIGluc2VydGlvbiBvZiBkdXBsaWNhdGVkIHZlcnRpY2VzLlxuICAgICAgICBjb25zdCB2ZXJ0ZXhDb3VudEJlZm9yZSA9IHBvbHkuZ2V0VmVydGV4Q291bnQobG9vcEluZGV4KSAtIChkdXBsaWNhdGVTdGFydFZlcnRleCA/IDEgOiAwKSAtIChkdXBsaWNhdGVFbmRWZXJ0ZXggPyAxIDogMCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgZWRnZSB3YXMgdGhlICdjbG9zaW5nIGVkZ2UnIG9mIHRoZSBvcmlnaW5hbCBwb2x5Z29uLCBpLmUuLCB0aGUgZWRnZSB0aGF0XG4gICAgICAgIC8vIGNvbm5lY3RzIHRoZSBsYXN0IHZlcnRleCB3aXRoIHZlcnRleCAwXG4gICAgICAgIGNvbnN0IGlzQ2xvc2luZ0VkZ2UgPSAoZWRnZUluZGV4ID09PSB2ZXJ0ZXhDb3VudEJlZm9yZSAtIDEpO1xuXG4gICAgICAgIC8vIER1cGxpY2F0aW5nIHRoZSBlbmQgdmVydGV4IG1heSBhbHNvIHNoaWZ0IHRoZSBlZGdlSW5kZXguIFRoaXMgaGFwcGVucyBpZiB0aGUgZWRnZSBzdGFydFxuICAgICAgICAvLyB2ZXJ0ZXggaXMgdGhlIGxhc3Qgb25lIGluIGEgcG9seWdvbi5cbiAgICAgICAgaWYgKGR1cGxpY2F0ZUVuZFZlcnRleCAmJiBpc0Nsb3NpbmdFZGdlKSB7XG4gICAgICAgICAgICBuZXdJbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdJbmRleDtcbiAgICB9O1xuXG4gICAgLy8gQWZ0ZXIgdW5kby9yZWRvLCBzZWxlY3QgdGhlIG1vdmVkIGVkZ2UuIE5vdGUgdGhhdCBpdHMgaW5kZXggbWF5IGNoYW5nZSBkdWUgdG8gdmVydGV4IGR1cGxpY2F0aW9uLlxuICAgIGdldFNlbGVjdGlvbkhpbnQoYWZ0ZXJVbmRvKSB7XG4gICAgICAgIGNvbnN0IGVkZ2VJbmRleCA9IGFmdGVyVW5kbyA/IHRoaXMuZWRnZUluZGV4IDogTW92ZUVkZ2UuZ2V0TmV3RWRnZUluZGV4KHRoaXMucG9seSwgdGhpcy5lZGdlSW5kZXgsIHRoaXMubG9vcEluZGV4LCB0aGlzLmR1cGxpY2F0ZVN0YXJ0VmVydGV4LCB0aGlzLmR1cGxpY2F0ZUVuZFZlcnRleCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzaGFwZTogdGhpcy5wb2x5LFxuICAgICAgICAgICAgZWRnZTogbmV3IFBvbHlJbmRleCh7IHZlcnRleDogZWRnZUluZGV4LCBsb29wOiB0aGlzLmxvb3BJbmRleCB9KVxuICAgICAgICB9O1xuICAgIH1cbn1cblxuLy8gQ2hhbmdlIGFyYyB0eXBlIG9mIGEgUGF0aCBlZGdlLiBJdCBjYW4gYWxzbyBiZSB1c2VkIHRvIGNoYW5nZSBhcmMgcGFyYW1zIHdpdGhvdXQgY2hhbmdpbmcgdGhlIGFjdHVhbCB0eXBlLlxuY2xhc3MgQ2hhbmdlRWRnZVR5cGUgZXh0ZW5kcyBBY3Rpb24ge1xuXG4gICAgLy8gQHBhcmFtIHtFZGl0TGF5ZXJ9IGxheWVyXG4gICAgLy8gQHBhcmFtIHtQYXRofSAgICAgIHBhdGggIC0gbXVzdCBiZSBpbiBcImJlZm9yZVwiIHN0YXRlIG9mIHRoZSBhY3Rpb25cbiAgICAvLyBAcGFyYW0ge1BvbHlJbmRleH0gcG9seUluZGV4XG4gICAgLy8gQHBhcmFtIHtFZGdlVHlwZX0gIGVkZ2VUeXBlXG4gICAgLy8gQHBhcmFtIHtWZWN0b3IyfSAgIFtjcDFdIC0gQ29udHJvbCBwb2ludHMuIE9ubHkgbmVlZGVkIHdoZW4gY2hhbmdpbmcgdG8gQmV6aWVyXG4gICAgLy8gQHBhcmFtIHtWZWN0b3IyfSAgIFtjcDJdXG4gICAgLy8gQHBhcmFtIHtFbGxpcHNlQXJjUGFyYW1zfSBbYXJjUGFyYW1zXSAtIG9ubHkgbmVlZGVkIHdoZW4gY2hhbmdpbmcgdG8gRWxsaXBzZUFyY1xuICAgIGNvbnN0cnVjdG9yKGxheWVyLCBwYXRoLCBwb2x5SW5kZXgsIGVkZ2VUeXBlLCBjcDEsIGNwMiwgYXJjUGFyYW1zKSB7XG4gICAgICAgIHN1cGVyKGxheWVyKTtcblxuICAgICAgICB0aGlzLnBhdGggPSBwYXRoO1xuICAgICAgICB0aGlzLmVkZ2VJbmRleCA9IHBvbHlJbmRleC52ZXJ0ZXg7XG4gICAgICAgIHRoaXMubG9vcEluZGV4ID0gcG9seUluZGV4Lmxvb3A7XG5cbiAgICAgICAgLy8gU3RvcmUgcHJldmlvdXMgZWRnZSBwcm9wc1xuICAgICAgICBjb25zdCBpc0JlemllciA9IHBhdGguaXNCZXppZXJBcmModGhpcy5lZGdlSW5kZXgsIHRoaXMubG9vcEluZGV4KTtcbiAgICAgICAgdGhpcy5vbGRFZGdlVHlwZSA9IHBhdGguZ2V0RWRnZVR5cGUodGhpcy5lZGdlSW5kZXgsIHRoaXMubG9vcEluZGV4KTtcbiAgICAgICAgdGhpcy5vbGRDcDEgICAgICA9IGlzQmV6aWVyICYmIHBhdGguZ2V0Q29udHJvbFBvaW50KHRoaXMuZWRnZUluZGV4LCAxLCB0aGlzLmxvb3BJbmRleCk7XG4gICAgICAgIHRoaXMub2xkQ3AyICAgICAgPSBpc0JlemllciAmJiBwYXRoLmdldENvbnRyb2xQb2ludCh0aGlzLmVkZ2VJbmRleCwgMiwgdGhpcy5sb29wSW5kZXgpO1xuICAgICAgICB0aGlzLm9sZEVsbGlwc2VBcmNQYXJhbXMgPSBwYXRoLmdldEVsbGlwc2VBcmNQYXJhbXModGhpcy5lZGdlSW5kZXgsIHRoaXMubG9vcEluZGV4KTtcblxuICAgICAgICAvLyBTdG9yZSBuZXcgY29udHJvbCBwb2ludHMgKGlmIGFueSlcbiAgICAgICAgdGhpcy5uZXdFZGdlVHlwZSA9IGVkZ2VUeXBlO1xuICAgICAgICB0aGlzLm5ld0NwMSAgICAgPSBjcDE7XG4gICAgICAgIHRoaXMubmV3Q3AyICAgICA9IGNwMjtcbiAgICAgICAgdGhpcy5uZXdFbGxpcHNlQXJjUGFyYW1zID0gYXJjUGFyYW1zO1xuICAgIH1cblxuICAgIHJlZG8oKSB7XG4gICAgICAgIHN3aXRjaCh0aGlzLm5ld0VkZ2VUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIEVkZ2VUeXBlLkxpbmU6ICAgIHRoaXMucGF0aC5yZW1vdmVBcmModGhpcy5lZGdlSW5kZXgsIHRoaXMubG9vcEluZGV4KTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVkZ2VUeXBlLkVsbGlwc2U6IHRoaXMucGF0aC5zZXRFbGxpcHNlQXJjKHRoaXMuZWRnZUluZGV4LCB0aGlzLm5ld0VsbGlwc2VBcmNQYXJhbXMsIHRoaXMubG9vcEluZGV4KTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVkZ2VUeXBlLkJlemllcjogIHRoaXMucGF0aC5zZXRCZXppZXJBcmModGhpcy5lZGdlSW5kZXgsIHRoaXMubmV3Q3AxLngsIHRoaXMubmV3Q3AxLnksIHRoaXMubmV3Q3AyLngsIHRoaXMubmV3Q3AyLnksIHRoaXMubG9vcEluZGV4KTsgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1bmRvKCkge1xuICAgICAgICBzd2l0Y2godGhpcy5vbGRFZGdlVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBFZGdlVHlwZS5MaW5lOiAgICB0aGlzLnBhdGgucmVtb3ZlQXJjKHRoaXMuZWRnZUluZGV4LCB0aGlzLmxvb3BJbmRleCk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFZGdlVHlwZS5CZXppZXI6ICB0aGlzLnBhdGguc2V0QmV6aWVyQXJjKHRoaXMuZWRnZUluZGV4LCB0aGlzLm9sZENwMS54LCB0aGlzLm9sZENwMS55LCB0aGlzLm9sZENwMi54LCB0aGlzLm9sZENwMi55LCB0aGlzLmxvb3BJbmRleCk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFZGdlVHlwZS5FbGxpcHNlOiB0aGlzLnBhdGguc2V0RWxsaXBzZUFyYyh0aGlzLmVkZ2VJbmRleCwgdGhpcy5vbGRFbGxpcHNlQXJjUGFyYW1zLCB0aGlzLmxvb3BJbmRleCk7IGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWZ0ZXIgdW5kby9yZWRvLCBzZWxlY3QgY2hhbmdlZCBlZGdlXG4gICAgZ2V0U2VsZWN0aW9uSGludChhZnRlclVuZG8pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNoYXBlOiB0aGlzLnBhdGgsXG4gICAgICAgICAgICBlZGdlOiBuZXcgUG9seUluZGV4KHt2ZXJ0ZXg6IHRoaXMuZWRnZUluZGV4LCBsb29wOiB0aGlzLmxvb3BJbmRleH0pXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5jbGFzcyBBcHBseUN1dE91dCBleHRlbmRzIEFjdGlvbiB7XG5cbiAgICBjb25zdHJ1Y3RvcihsYXllciwgY3V0UGF0aCkge1xuICAgICAgICBzdXBlcihsYXllcik7XG5cbiAgICAgICAgLy8gY29sbGVjdCBhbGwgb3RoZXIgcG9seWdvbnMgYW5kIGNsb3NlZCBwYXRocyBpbiB0aGUgbGF5ZXIgdGhhdCBvdmVybGFwIHRoZSBjdXRQYXRoIGJib3hcbiAgICAgICAgY29uc3QgY3V0Qm94ID0gY3V0UGF0aC5nZXRCQm94KCk7XG4gICAgICAgIHRoaXMucGF0aHMgPSBsYXllci5zaGFwZXMuZmlsdGVyKHMgPT4ge1xuXG4gICAgICAgICAgICBpZiAocyA9PT0gY3V0UGF0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY3V0b3V0IGlzIG9ubHkgYmUgYXBwbGllZCBvbiBQb2x5Z29ucyBhbmQgY2xvc2VkIFBhdGhzXG4gICAgICAgICAgICBjb25zdCBpc0Nsb3NlZCA9IChzIGluc3RhbmNlb2YgUG9seUJhc2UpICYmIHMuaXNDbG9zZWQ7XG4gICAgICAgICAgICBpZiAoIWlzQ2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBib3ggPSBzLmdldEJCb3goKTtcbiAgICAgICAgICAgIHJldHVybiBjdXRCb3guaW50ZXJzZWN0c0JveChib3gpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBzdWJ0cmFjdCBjdXRQYXRoIGZyb20gYWxsIG92ZXJsYXBwaW5nIHNoYXBlc1xuICAgICAgICB0aGlzLmNsaXBwZWRQYXRocyA9IHRoaXMucGF0aHMubWFwKHAgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIEJvb2xlYW5PcHMuYXBwbHkocCwgY3V0UGF0aCwgQm9vbGVhbk9wcy5PcGVyYXRvci5EaWZmZXJlbmNlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gY3JlYXRlIGJhY2t1cHMgb2Ygb3JpZ2luYWwgcGF0aHMgYmVmb3JlIGN1dG91dFxuICAgICAgICB0aGlzLm9yaWdpbmFsU2hhcGVzID0gdGhpcy5wYXRocy5tYXAocCA9PiBwLmNsb25lKCkpO1xuXG4gICAgICAgIHRoaXMuY3V0UGF0aCA9IGN1dFBhdGg7XG4gICAgfVxuXG4gICAgcmVkbygpIHtcbiAgICAgICAgLy8gcmVwbGFjZSBnZW9tZXRyeSBvZiBhbGwgc2hhcGVzIGJ5IGNsaXBwZWQgdmVyc2lvbnNcbiAgICAgICAgdGhpcy5wYXRocy5mb3JFYWNoKChwLCBpKSA9PiBwLmNvcHlHZW9tZXRyeSh0aGlzLmNsaXBwZWRQYXRoc1tpXSkpO1xuICAgICAgICB0aGlzLmxheWVyLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIHVuZG8oKSB7XG4gICAgICAgIC8vIHJlcGxhY2UgYWxsIHNoYXBlcyBieSBvcmlnaW5hbCB2ZXJzaW9uc1xuICAgICAgICB0aGlzLnBhdGhzLmZvckVhY2goKHAsIGkpID0+IHAuY29weUdlb21ldHJ5KHRoaXMub3JpZ2luYWxTaGFwZXNbaV0pKTtcbiAgICB9XG5cbiAgICAvLyBBZnRlciB1bmRvL3JlZG8sIHNlbGVjdCBzaGFwZSB0aGF0IHdhcyB1c2VkIGZvciBjdXRvdXRcbiAgICBnZXRTZWxlY3Rpb25IaW50KGFmdGVyVW5kbykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2hhcGU6IHRoaXMuY3V0UGF0aFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuY2xhc3MgUmVtb3ZlTG9vcHMgZXh0ZW5kcyBBY3Rpb24ge1xuXG4gICAgY29uc3RydWN0b3IobGF5ZXIsIHBvbHksIGxvb3BzKSB7XG4gICAgICAgIHN1cGVyKGxheWVyKTtcblxuICAgICAgICB0aGlzLnBvbHkgPSBwb2x5O1xuICAgICAgICB0aGlzLmxvb3BzID0gbG9vcHM7XG5cbiAgICAgICAgLy8gY3JlYXRlIGEgYmFja3VwIG9mIHRoZSBzaGFwZSBiZWZvcmUgY2hhbmdlXG4gICAgICAgIHRoaXMuYmVmb3JlID0gdGhpcy5wb2x5LmNsb25lKCk7XG4gICAgfVxuXG4gICAgcmVkbygpIHtcbiAgICAgICAgdGhpcy5wb2x5LnJlbW92ZUxvb3BzKHRoaXMubG9vcHMpO1xuICAgIH1cblxuICAgIHVuZG8oKSB7XG4gICAgICAgIHRoaXMucG9seS5jb3B5KHRoaXMuYmVmb3JlKTtcbiAgICB9XG5cbiAgICAvLyBBZnRlciB1bmRvL3JlZG8sIHNlbGVjdCBtb2RpZmllZCBzaGFwZVxuICAgIGdldFNlbGVjdGlvbkhpbnQoYWZ0ZXJVbmRvKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzaGFwZTogdGhpcy5wb2x5XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5jbGFzcyBNb3ZlTG9vcCBleHRlbmRzIEFjdGlvbiB7XG5cbiAgICBjb25zdHJ1Y3RvcihsYXllciwgcG9seSwgbG9vcEluZGV4LCBkeCwgZHkpIHtcbiAgICAgICAgc3VwZXIobGF5ZXIpO1xuXG4gICAgICAgIHRoaXMucG9seSA9IHBvbHk7XG4gICAgICAgIHRoaXMubG9vcEluZGV4ID0gbG9vcEluZGV4O1xuICAgICAgICB0aGlzLmJlZm9yZSA9IHRoaXMucG9seS5jbG9uZSgpO1xuXG4gICAgICAgIHRoaXMuZHggPSBkeDtcbiAgICAgICAgdGhpcy5keSA9IGR5O1xuICAgIH1cblxuICAgIHJlZG8oKSB7XG4gICAgICAgIHRoaXMucG9seS5tb3ZlTG9vcCh0aGlzLmR4LCB0aGlzLmR5LCB0aGlzLmxvb3BJbmRleCk7XG4gICAgfVxuXG4gICAgdW5kbygpIHtcbiAgICAgICAgdGhpcy5wb2x5LmNvcHkodGhpcy5iZWZvcmUpO1xuICAgIH1cblxuICAgIC8vIEFmdGVyIHVuZG8vcmVkbywgc2VsZWN0IG1vZGlmaWVkIHNoYXBlXG4gICAgZ2V0U2VsZWN0aW9uSGludChhZnRlclVuZG8pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNoYXBlOiB0aGlzLnBvbHlcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbi8vIE1lcmdlcyBhbGwgc2hhcGVzIGludG8gdGhlIGZpcnN0IG9uZVxuY2xhc3MgVW5pZnlTaGFwZXMgZXh0ZW5kcyBBY3Rpb24ge1xuXG4gICAgLy8gQHBhcmFtIHtFZGl0TGF5ZXJ9ICBsYXllclxuICAgIC8vIEBwYXJhbSB7UG9seUJhc2VbXX0gc2hhcGVzICAgICAtIHNoYXBlcyB0byBtZXJnZVxuICAgIC8vIEBwYXJhbSB7bnVtYmVyfSAgICAgc2hhcGVJbmRleCAtIGluZGV4IHdpdGhpbiBzaGFwZXMgYXJyYXkuIEFsbCBvdGhlciBzaGFwZXMgd2lsbCBiZSBtZXJnZWQgaW50byB0aGlzIG9uZS5cbiAgICBjb25zdHJ1Y3RvcihsYXllciwgc2hhcGVzLCBzaGFwZUluZGV4KSB7XG4gICAgICAgIHN1cGVyKGxheWVyKTtcblxuICAgICAgICB0aGlzLm1lcmdlZCA9IEJvb2xlYW5PcHMuYXBwbHkoc2hhcGVzWzBdLCBzaGFwZXNbMV0sIEJvb2xlYW5PcHMuT3BlcmF0b3IuVW5pb24sIHNoYXBlcy5zbGljZSgyKSk7XG4gICAgICAgIHRoaXMuYmVmb3JlID0gc2hhcGVzW3NoYXBlSW5kZXhdLmNsb25lKCk7XG5cbiAgICAgICAgdGhpcy5tYWluU2hhcGUgICA9IHNoYXBlc1tzaGFwZUluZGV4XTtcbiAgICAgICAgdGhpcy5vdGhlclNoYXBlcyA9IHNoYXBlcy5maWx0ZXIocyA9PiBzICE9PSB0aGlzLm1haW5TaGFwZSk7XG4gICAgfVxuXG4gICAgcmVkbygpIHtcblxuICAgICAgICAvLyBNZXJnZSBvdGhlciBzaGFwZXMgaW50byBtYWluIHNoYXBlXG4gICAgICAgIHRoaXMubWFpblNoYXBlLmNvcHlHZW9tZXRyeSh0aGlzLm1lcmdlZCk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIGFsbCBvdGhlciBzaGFwZXNcbiAgICAgICAgdGhpcy5sYXllci5yZW1vdmVTaGFwZXModGhpcy5vdGhlclNoYXBlcyk7XG4gICAgfVxuXG4gICAgdW5kbygpIHtcbiAgICAgICAgLy8gUmVjb3ZlciBvcmlnaW5hbCBtYWluIHNoYXBlXG4gICAgICAgIHRoaXMubWFpblNoYXBlLmNvcHlHZW9tZXRyeSh0aGlzLmJlZm9yZSk7XG5cbiAgICAgICAgLy8gQWRkIG90aGVyIHNoYXBlcyBiYWNrIHRvIGxheWVyXG4gICAgICAgIHRoaXMubGF5ZXIuYWRkU2hhcGVzKHRoaXMub3RoZXJTaGFwZXMpO1xuICAgIH1cblxuICAgIC8vIEFmdGVyIHVuZG8vcmVkbywgc2VsZWN0IG1haW5TaGFwZVxuICAgIGdldFNlbGVjdGlvbkhpbnQoYWZ0ZXJVbmRvKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzaGFwZTogdGhpcy5tYWluU2hhcGVcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gQ2hhbmdlcyBCZXppZXIgYXJjIHRhbmdlbnQgYXQgYSB2ZXJ0ZXggdi4gVGhpcyBtYXkgYWZmZWN0IHVwIHRvIHR3byBlZGdlIGFkamFjZW50IHRvIHYuXG5jbGFzcyBDaGFuZ2VCZXppZXJUYW5nZW50IHtcblxuICAgIC8vIEBwYXJhbSB7RWRpdExheWVyfSBsYXllclxuICAgIC8vIEBwYXJhbSB7UGF0aH0gICAgICBwYXRoXG4gICAgLy8gQHBhcmFtIHtudW1iZXJ9ICAgIHZlcnRleCAgICAgLSBpbmRleCBvZiB0aGUgdmVydGV4IHRvIGJlIGNoYW5nZWRcbiAgICAvLyBAcGFyYW0ge251bWJlcn0gICAgbG9vcEluZGV4XG4gICAgLy8gQHBhcmFtIHtWZWN0b3IyfSAgIHBTdGFydCAgICAgLSB0YW5nZW50IHN0YXJ0LiBUaGlzIGlzIGNwMiBvZiB0aGUgcHJldmlvdXMgYmV6aWVyIHNlZ21lbnQgKGlmIGFueSlcbiAgICAvLyBAcGFyYW0ge1ZlY3RvcjJ9ICAgcEVuZCAgICAgICAtIHRhbmdlbnQgZW5kXG4gICAgY29uc3RydWN0b3IobGF5ZXIsIHBhdGgsIGluZGV4LCBsb29wSW5kZXgsIHBTdGFydCwgcEVuZCkge1xuICAgICAgICB0aGlzLmxheWVyID0gbGF5ZXI7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5sb29wSW5kZXggPSBsb29wSW5kZXg7XG4gICAgICAgIHRoaXMucFN0YXJ0ID0gcFN0YXJ0O1xuICAgICAgICB0aGlzLnBFbmQgPSBwRW5kO1xuXG4gICAgICAgIC8vIEJhY2t1cCBvZiBvcmlnaW5hbCBzaGFwZVxuICAgICAgICB0aGlzLmJlZm9yZSA9IHBhdGguY2xvbmUoKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIHR3byBjb250cm9sIHBvaW50cyB0aGF0IGRlZmluZSB0aGUgYmV6aWVyIHRhbmdlbnQuIFVzdWFsbHksIHBFbmQgaXMganVzdCBwU3RhcnQgbWlycm9yZWQgYXQgdGhlIHZlcnRleFxuICAgIHNldFRhbmdlbnQocFN0YXJ0LCBwRW5kKSB7XG4gICAgICAgIHRoaXMucFN0YXJ0ID0gcFN0YXJ0O1xuICAgICAgICB0aGlzLnBFbmQgICA9IHBFbmQ7XG4gICAgfVxuXG4gICAgLy8gQXBwbHkgbW9kaWZpZWQgdGFuZ2VudCBlbmRwb2ludHMgYWZ0ZXIgZHJhZ2dpbmcgb24gb2YgdGhlIHRhbmdlbnQgdmVydGljZXMuXG4gICAgLy9cbiAgICAvLyBAcGFyYW0ge1ZlY3RvcjJ9IHBTdGFydCwgcEVuZCAtIFRhbmdlbnQgc3RhcnQvZW5kIHBvaW50IGluIGxheWVyIGNvb3Jkcy5cbiAgICByZWRvKCkge1xuXG4gICAgICAgIC8vIFNldCBzdGFydCBwb2ludDogVGhpcyBpcyBjcDIgb2YgcHJldmlvdXMgYXJjIHNlZ21lbnQgKGlmIGFueSlcbiAgICAgICAgY29uc3QgcHJldkVkZ2VJbmRleCA9IHRoaXMucGF0aC5lZGdlQmVmb3JlVmVydGV4KHRoaXMuaW5kZXgsIHRoaXMubG9vcEluZGV4KTtcbiAgICAgICAgY29uc3QgcHJldkV4aXN0cyAgICA9IChwcmV2RWRnZUluZGV4ICE9PSAtMSk7XG4gICAgICAgIGlmIChwcmV2RXhpc3RzICYmIHRoaXMucGF0aC5pc0JlemllckFyYyhwcmV2RWRnZUluZGV4LCB0aGlzLmxvb3BJbmRleCkpIHtcbiAgICAgICAgICAgIHRoaXMucGF0aC51cGRhdGVDb250cm9sUG9pbnQocHJldkVkZ2VJbmRleCwgMiwgdGhpcy5wU3RhcnQueCwgdGhpcy5wU3RhcnQueSwgdGhpcy5sb29wSW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IGVuZCBwb2ludDogVGhpcyBpcyBjcDEgb2YgY3VycmVudCBzZWdtZW50XG4gICAgICAgIGNvbnN0IG5leHRFZGdlSW5kZXggPSB0aGlzLnBhdGguZWRnZUFmdGVyVmVydGV4KHRoaXMuaW5kZXgsIHRoaXMubG9vcEluZGV4KTtcbiAgICAgICAgY29uc3QgbmV4dEV4aXN0cyAgICA9IChuZXh0RWRnZUluZGV4ICE9PSAtMSk7XG4gICAgICAgIGlmIChuZXh0RXhpc3RzICYmIHRoaXMucGF0aC5pc0JlemllckFyYyhuZXh0RWRnZUluZGV4LCB0aGlzLmxvb3BJbmRleCkpIHtcbiAgICAgICAgICAgIHRoaXMucGF0aC51cGRhdGVDb250cm9sUG9pbnQodGhpcy5pbmRleCwgMSwgdGhpcy5wRW5kLngsIHRoaXMucEVuZC55LCB0aGlzLmxvb3BJbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1bmRvKCkge1xuICAgICAgICB0aGlzLnBhdGguY29weUdlb21ldHJ5KHRoaXMuYmVmb3JlKTtcbiAgICB9XG5cbiAgICAvLyBDaGFuZ2VCZXppZXJUYW5nZW50IG1heSBoYXBwZW4gaWYgYSB2ZXJ0ZXggb3IgYW4gZWRnZSBpcyBzZWxlY3RlZC4gU28sIHRoZSBoaW50IG11c3QgYmUgc2V0IGZyb21cbiAgICAvLyBvdXRzaWRlIHdoZW4gdGhlIGluZm9ybWF0aW9uIGlzIGF2YWlsYWJsZS5cbiAgICAvLyAgIEBwYXJhbSB7UG9seUluZGV4fSB2ZXJ0ZXhcbiAgICAvLyAgIEBwYXJhbSB7UG9seUluZGV4fSBlZGdlXG4gICAgc2V0U2VsZWN0aW9uSXRlbSh2ZXJ0ZXgsIGVkZ2UpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25IaW50ID0ge1xuICAgICAgICAgICAgc2hhcGU6IHRoaXMucGF0aCxcbiAgICAgICAgICAgIHZlcnRleDogdmVydGV4LFxuICAgICAgICAgICAgZWRnZTogZWRnZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIEFmdGVyIHVuZG8vcmVkbywgc2VsZWN0IHRoZSBlZGdlIHRoYXQgd2FzIG1vZGlmaWVkXG4gICAgZ2V0U2VsZWN0aW9uSGludChhZnRlclVuZG8pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uSGludDtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBBY3Rpb25zID0ge1xuICAgIEFjdGlvbixcbiAgICBBZGRTaGFwZSxcbiAgICBBZGRTaGFwZXMsXG4gICAgTW92ZVNoYXBlcyxcbiAgICBSZW1vdmVTaGFwZSxcbiAgICBSZW1vdmVTaGFwZXMsXG4gICAgQWRkVmVydGV4LFxuICAgIE1vdmVWZXJ0ZXgsXG4gICAgUmVtb3ZlVmVydGV4LFxuICAgIE1vdmVFZGdlLFxuICAgIENoYW5nZUVkZ2VUeXBlLFxuICAgIEFwcGx5Q3V0T3V0LFxuICAgIFJlbW92ZUxvb3BzLFxuICAgIFVuaWZ5U2hhcGVzLFxuICAgIE1vdmVMb29wLFxuICAgIENoYW5nZUJlemllclRhbmdlbnRcbn07XG4iXSwibmFtZXMiOlsiRWRnZVR5cGUiLCJFbGxpcHNlQXJjUGFyYW1zIiwiUG9seUJhc2UiLCJQb2x5SW5kZXgiLCJCb29sZWFuT3BzIiwiQWN0aW9uIiwiY29uc3RydWN0b3IiLCJsYXllciIsInVuZG8iLCJFcnJvciIsInJlZG8iLCJnZXRTZWxlY3Rpb25IaW50IiwiYWZ0ZXJVbmRvIiwiU2VsZWN0aW9IaW50Iiwic2hhcGUiLCJzaGFwZXMiLCJ2ZXJ0ZXgiLCJlZGdlIiwiQWRkU2hhcGUiLCJyZW1vdmVTaGFwZSIsImFkZFNoYXBlIiwiQWRkU2hhcGVzIiwiZm9yRWFjaCIsInMiLCJNb3ZlU2hhcGVzIiwiZHgiLCJkeSIsImRlbHRhIiwieCIsInkiLCJiZWZvcmVTdGF0ZSIsIm1hcCIsImNsb25lIiwiYWZ0ZXJTdGF0ZSIsIm1vdmUiLCJpIiwiY29weSIsIlJlbW92ZVNoYXBlIiwiUmVtb3ZlU2hhcGVzIiwic2xpY2UiLCJBZGRWZXJ0ZXgiLCJwb2x5IiwicG9seUluZGV4IiwicCIsInBvaW50IiwicmVtb3ZlUG9pbnQiLCJsb29wIiwiaW5zZXJ0UG9pbnQiLCJNb3ZlVmVydGV4IiwibmV3UG9zIiwicG9zQmVmb3JlIiwiZ2V0UG9pbnQiLCJwb3NBZnRlciIsInVwZGF0ZVBvaW50IiwiY29weUFyY1BhcmFtcyIsImluZGV4IiwiaXNQYXRoIiwiZWRnZUluZGV4VmFsaWQiLCJ0eXBlIiwiZ2V0RWRnZVR5cGUiLCJFbGxpcHNlIiwiZ2V0RWxsaXBzZUFyY1BhcmFtcyIsIkJlemllciIsImNwMSIsImdldENvbnRyb2xQb2ludCIsImNwMiIsIkxpbmUiLCJjb25zb2xlIiwid2FybiIsInJlc3RvcmVBcmMiLCJhcmNQYXJhbXMiLCJzZXRFbGxpcHNlQXJjIiwic2V0QmV6aWVyQXJjIiwiUmVtb3ZlVmVydGV4IiwiYXJjQmVmb3JlIiwiZWRnZUJlZm9yZVZlcnRleCIsImFyY0FmdGVyIiwiZWRnZUFmdGVyVmVydGV4IiwicHJldkVkZ2VFeGlzdHMiLCJuZXh0RWRnZUV4aXN0cyIsInJlbW92ZUFyYyIsIk1vdmVFZGdlIiwibmV3UG9zQSIsIm5ld1Bvc0IiLCJkdXBsaWNhdGVTdGFydFZlcnRleCIsImR1cGxpY2F0ZUVuZFZlcnRleCIsImVkZ2VJbmRleCIsImxvb3BJbmRleCIsImlhIiwiaWIiLCJuZXh0SW5kZXgiLCJhIiwiYiIsImVkZ2VCZWZvcmUiLCJlZGdlQWZ0ZXIiLCJuZXdFZGdlSW5kZXgiLCJnZXROZXdFZGdlSW5kZXgiLCJyZXZlcnREdXBsaWNhdGVWZXJ0aWNlcyIsImR1cGxpY2F0ZVZlcnRpY2VzIiwiZHVwbGljYXRlVmVydGV4IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwic3RhcnRWZXJ0ZXgiLCJ2TmV4dCIsImN1ckVkZ2VJbmRleCIsImlQcmV2IiwiaU5leHQiLCJuZXdJbmRleCIsInZlcnRleENvdW50QmVmb3JlIiwiZ2V0VmVydGV4Q291bnQiLCJpc0Nsb3NpbmdFZGdlIiwiQ2hhbmdlRWRnZVR5cGUiLCJwYXRoIiwiZWRnZVR5cGUiLCJpc0JlemllciIsImlzQmV6aWVyQXJjIiwib2xkRWRnZVR5cGUiLCJvbGRDcDEiLCJvbGRDcDIiLCJvbGRFbGxpcHNlQXJjUGFyYW1zIiwibmV3RWRnZVR5cGUiLCJuZXdDcDEiLCJuZXdDcDIiLCJuZXdFbGxpcHNlQXJjUGFyYW1zIiwiQXBwbHlDdXRPdXQiLCJjdXRQYXRoIiwiY3V0Qm94IiwiZ2V0QkJveCIsInBhdGhzIiwiZmlsdGVyIiwiaXNDbG9zZWQiLCJib3giLCJpbnRlcnNlY3RzQm94IiwiY2xpcHBlZFBhdGhzIiwiYXBwbHkiLCJPcGVyYXRvciIsIkRpZmZlcmVuY2UiLCJvcmlnaW5hbFNoYXBlcyIsImNvcHlHZW9tZXRyeSIsInVwZGF0ZSIsIlJlbW92ZUxvb3BzIiwibG9vcHMiLCJiZWZvcmUiLCJyZW1vdmVMb29wcyIsIk1vdmVMb29wIiwibW92ZUxvb3AiLCJVbmlmeVNoYXBlcyIsInNoYXBlSW5kZXgiLCJtZXJnZWQiLCJVbmlvbiIsIm1haW5TaGFwZSIsIm90aGVyU2hhcGVzIiwicmVtb3ZlU2hhcGVzIiwiYWRkU2hhcGVzIiwiQ2hhbmdlQmV6aWVyVGFuZ2VudCIsInBTdGFydCIsInBFbmQiLCJzZXRUYW5nZW50IiwicHJldkVkZ2VJbmRleCIsInByZXZFeGlzdHMiLCJ1cGRhdGVDb250cm9sUG9pbnQiLCJuZXh0RWRnZUluZGV4IiwibmV4dEV4aXN0cyIsInNldFNlbGVjdGlvbkl0ZW0iLCJzZWxlY3Rpb25IaW50IiwiQWN0aW9ucyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Edit2D/Actions.js\n");

/***/ }),

/***/ "./extensions/Edit2D/AngleGizmo.js":
/*!*****************************************!*\
  !*** ./extensions/Edit2D/AngleGizmo.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AngleGizmo)\n/* harmony export */ });\n/* harmony import */ var _Arrow_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Arrow.js */ \"./extensions/Edit2D/Arrow.js\");\n/* harmony import */ var _Math2D_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Math2D.js */ \"./extensions/Edit2D/Math2D.js\");\n/* harmony import */ var _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EditShapes.js */ \"./extensions/Edit2D/EditShapes.js\");\n/* harmony import */ var _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CanvasGizmo.js */ \"./extensions/Edit2D/CanvasGizmo.js\");\n\n\n\n\n\n\nconst Colors = {\n  Black: 'rgb(0,0,0)'\n};\n\n// An angle gizmo indicates a rotation angle using two arrows (start/end direction) and a connecting arc.\n// The arc is drawn along the shortest connection, either cw or ccw.\nclass AngleGizmo {\n\n  constructor(layer) {let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.layer = layer;\n    this.options = options;\n\n    // --- Configuration params ---\n\n    // Corner points encloding the angle\n    this.center = new THREE.Vector2(); // center of the arc\n    this.pStart = new THREE.Vector2(); // center->pStart indicates direction before rotation\n    this.pEnd = new THREE.Vector2(); // center->pEnd indicates direction after rotation\n\n    // sizes in pixels\n    this.arrowLength = 150;\n    this.arrowHeadLength = 18;\n    this.arcRadius = 100;\n\n    // Indicate which points are properly set. If only center and one point are valid, we show just an arrow.\n    this.centerValid = false;\n    this.pStartValid = false;\n    this.pEndValid = false;\n\n    // Optional: Show dotted line that connects the arrow with the points that define the direction.\n    this.showExtendLines = true;\n\n    // Specifies how far we shift the labelPosition away from the center. An offset of 0 would mean to center the label\n    // on the center point of the angle arc line.\n    this.labelPosOffset = 30;\n\n    // Angle text label\n    this.enableLabel = true;\n\n    // --- Maintained by the gizmo ---\n\n    // Arrow shapes. Auto-updated based on settings\n    this.arrowStart = new _Arrow_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    this.arrowEnd = new _Arrow_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\n    // Sharpness of arrow peaks\n    this.arrowStart.headAngle = 45;\n    this.arrowEnd.headAngle = 45;\n\n\n    // Arc line connecting the two arrows\n    this.arcLine = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__.Path().allocPoints(2);\n    this.arcArrow = new _Arrow_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    this.arcFill = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__.Path().allocPoints(3);\n    this.arcFill.isClosed = true;\n\n    // Used and auto-updated in upadte()\n    this.arcParams = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__.EllipseArcParams();\n\n    // Update shapes on camera updates\n    this.onCameraChange = this.onCameraChange.bind(this);\n    this.layer.viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onCameraChange);\n\n    // arc style\n    this.arcFillOpacity = 0.2;\n    this.arcFill.style.lineAlpha = 0;\n    this.arcFill.style.fillAlpha = this.arcFillOpacity;\n    this.arcLine.style.lineWidth = 2.0;\n    this.arcLine.style.lineColor = this.options.arcColor || Colors.Black;\n\n    this.arcArrow.line.style.lineColor = this.options.arcColor || Colors.Black;\n    this.arcArrow.line.style.lineWidth = 2.0;\n    this.arcArrow.head.style.lineAlpha = 0;\n    this.arcArrow.head.style.fillColor = this.options.arcColor || Colors.Black;\n    this.arcArrow.head.style.fillAlpha = 1;\n    this.arcArrowMaxHeadLength = 0.3; // If the arc arrow is very short (small angles), we restrict the headSize to a percentage of the arrow length\n\n    // start arrow line style\n    this.arrowStart.line.style.lineColor = this.options.startColor || Colors.Black;\n    this.arrowStart.line.style.lineWidth = 1.5;\n\n    // end arrow line style\n    this.arrowEnd.line.style.lineColor = this.options.endColor || Colors.Black;\n    this.arrowEnd.line.style.lineWidth = 1.5;\n\n    // start arrow head style\n    this.arrowStart.head.style.lineAlpha = 0;\n    this.arrowStart.head.style.fillColor = this.options.startColor || Colors.Black;\n    this.arrowStart.head.style.fillAlpha = 1;\n\n    // end arrow head style\n    this.arrowEnd.head.style.lineAlpha = 0;\n    this.arrowEnd.head.style.fillColor = this.options.endColor || Colors.Black;\n    this.arrowEnd.head.style.fillAlpha = 1;\n\n    this.label = new _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_3__.TextLabel(this.layer, '', this.options.labelClassName);\n\n    // reused values for label position computation\n    this.labelPos = new THREE.Vector2(); // in layer-coords\n    this.arcCurve = new Autodesk.Extensions.CompGeom.EllipseArc();\n    this.visible = false;\n\n    // For fadeIn/Out effects\n    const setOpacity = (opacity) => {\n      this.arrowStart.line.style.lineAlpha = opacity;\n      this.arrowStart.head.style.fillAlpha = this.options.hideArrowHead ? 0 : opacity;\n      this.arrowEnd.line.style.lineAlpha = opacity;\n      this.arrowEnd.head.style.fillAlpha = this.options.hideArrowHead ? 0 : opacity;\n      this.arcLine.style.lineAlpha = opacity;\n      this.arcArrow.line.style.lineAlpha = opacity;\n      this.arcArrow.head.style.fillAlpha = opacity;\n      this.arcFill.style.fillAlpha = opacity * this.arcFillOpacity;\n      this.opacity = opacity;\n      this.layer.update();\n    };\n\n    this.opacityParam = new Autodesk.Viewing.Private.AnimatedParam(1.0, setOpacity, 0.5);\n\n    // reflects current fadeIn/fadeOut state\n    this.opacity = 1.0;\n  }\n\n  setCenter(center) {\n    if (center) {\n      this.center.copy(center);\n      this.centerValid = true;\n    } else {\n      this.centerValid = false;\n    }\n  }\n\n  setStart(pStart) {\n    if (pStart) {\n      this.pStart.copy(pStart);\n      this.pStartValid = isFinite(pStart.x) && isFinite(pStart.y);\n\n      // Warn on NaN/Inf values\n      if (!this.pStartValid) {\n        console.warn(`AngleGizmo: Invalid start point`);\n      }\n\n    } else {\n      this.pStartValid = false;\n    }\n  }\n\n  setEnd(pEnd) {\n    if (pEnd) {\n      this.pEnd.copy(pEnd);\n      this.pEndValid = isFinite(pEnd.x) && isFinite(pEnd.y);\n\n      // Warn on NaN/Inf values\n      if (!this.pEndValid) {\n        console.warn(`AngleGizmo: Invalid end point`);\n      }\n    } else {\n      this.pEndValid = false;\n    }\n  }\n\n  dtor() {\n    this.opacityParam.stopAnim(); // Stop so the opacity timer doesn't keep running without a layer\n    this.layer.viewer.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onCameraChange);\n    this.layer.dtor();\n    this.layer = null;\n  }\n\n  setVisible(visible) {\n    if (this.visible == visible) {\n      return;\n    }\n\n    this.visible = visible;\n    if (visible) {\n      this.layer.addShape(this.arrowStart);\n      this.layer.addShape(this.arrowEnd);\n      this.layer.addShape(this.arcLine);\n      this.layer.addShape(this.arcArrow);\n      this.layer.addShape(this.arcFill);\n    } else {\n      this.layer.removeShape(this.arrowStart);\n      this.layer.removeShape(this.arrowEnd);\n      this.layer.removeShape(this.arcLine);\n      this.layer.removeShape(this.arcArrow);\n      this.layer.removeShape(this.arcFill);\n    }\n  }\n\n  setOpacity(opacity) {\n    this.opacityParam.setValue(opacity);\n  }\n\n  skipFade() {\n    this.opacityParam.skipAnim();\n  }\n\n  // Fade in/out. This also sets the visibility, i.e. shapes are hidden when opacity reaches zero.\n  fadeTo(value) {\n    this.opacityParam.fadeTo(value);\n  }\n\n  // Update arc label position based on center point of the arc. Note that this.arcLine must be up to\n  updateLabel(pixelsPerUnit, arcRadius) {\n\n    const arc = this.arcLine.exportEllipseArc(0, 0, this.arcCurve);\n    let labelPos;\n\n    if (this.options.centerLabel) {\n      labelPos = this.center;\n    } else {\n      // get point at center of the angle arc\n      labelPos = arc.getPoint(0.5, this.labelPos);\n\n      // Shift label position more \"outside\", i.e. away from the center\n      const labelPosOffset = this.labelPosOffset / pixelsPerUnit;\n      labelPos.sub(this.center);\n      labelPos.normalize();\n      labelPos.multiplyScalar(arcRadius + labelPosOffset);\n      labelPos.add(this.center);\n    }\n\n    this.label.setPosition(labelPos.x, labelPos.y);\n\n    // update label text\n    const angle = THREE.Math.radToDeg(arc.getAngleDelta());\n\n    if (!isNaN(angle)) {\n      const text = angle.toFixed(1) + \"°\";\n      this.label.setText(text);\n    }\n  }\n\n  update() {\n\n    // Note: When using the gizmo on a plane in 3D, pixelsPerUnit may vary per point.\n    // Todo: Add general support for this case to Edit2D layers.\n    let pixelsPerUnit = 1;\n\n    // In case ignoreCameraDistance is set, the size of the arc won't change depending on the camera distance.\n    // In fact, the gizmo will behave more like an overlay.\n    if (!this.options.ignoreCameraDistance) {\n      const pWorld = new THREE.Vector3(this.center.x, this.center.y, 0).applyMatrix4(this.layer.layerToWorld);\n      pixelsPerUnit = this.layer.viewer.impl.camera.pixelsPerUnitAtPoint(pWorld);\n    }\n\n    // convert all sizes to layer-space\n    const arrowHeadLength = this.arrowHeadLength / pixelsPerUnit;\n    let arcRadius = this.arcRadius / pixelsPerUnit;\n\n    // Check if all directions are valid\n    const showGizmo = this.centerValid && this.pStartValid && this.pEndValid;\n\n    // Update gizmo visibility\n    this.arrowStart.setVisible(showGizmo);\n    this.arrowEnd.setVisible(showGizmo);\n    this.arcLine.setVisible(showGizmo);\n    this.arcArrow.setVisible(showGizmo);\n    this.arcFill.setVisible(showGizmo);\n\n    // Update label visibility\n    const showLabel = showGizmo && this.enableLabel;\n    this.label.setOpacity(showLabel ? 1.0 : 0.0, true); // label fades smoothly\n\n    // If everything is hidden now anyway, we are done here\n    if (!showGizmo) {\n      // Note that we still have to update in case some shapes just changed from visible to hidden.\n      this.layer.update();\n      return;\n    }\n\n    // arrows start at the angle center\n    this.arrowStart.setFrom(this.center);\n    this.arrowEnd.setFrom(this.center);\n\n    // arrows point toward pStart/pEnd\n    this.arrowStart.setTo(this.pStart);\n    this.arrowEnd.setTo(this.pEnd);\n\n    // scale arrow-head sizes for constant screen-size\n    if (!this.options.hideArrowHead) {\n      this.arrowStart.setHeadLength(arrowHeadLength);\n      this.arrowEnd.setHeadLength(arrowHeadLength);\n    }\n\n    // Compute angle\n    const startDir = this.pStart.clone().sub(this.center).normalize();\n    const endDir = this.pEnd.clone().sub(this.center).normalize();\n    const angle = _Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.angleBetweenDirections(startDir, endDir);\n\n    // Prevent arc from being longer than the arrows\n    arcRadius = Math.min(arcRadius, this.pStart.distanceTo(this.center), this.pEnd.distanceTo(this.center));\n\n    // Configure ellpse arc\n    this.arcParams.rx = arcRadius;\n    this.arcParams.ry = arcRadius;\n    this.arcParams.sweepFlag = angle > Math.PI;\n    this.arcParams.largeArcFlag = false; // always display the shorter connection\n\n    // Compute arc start/end\n    const arcStart = startDir.clone().multiplyScalar(arcRadius).add(this.center);\n    const arcEnd = endDir.clone().multiplyScalar(arcRadius).add(this.center);\n\n    // Configure arc line\n    this.arcLine.updatePoint(0, arcStart.x, arcStart.y);\n    this.arcLine.updatePoint(1, arcEnd.x, arcEnd.y);\n    this.arcLine.setEllipseArc(0, this.arcParams);\n\n    // Configure arc arrow\n    const poly = this.arcLine.toPoly();\n    const from = poly.getPoint(poly.getVertexCount() - 2);\n    this.arcArrow.setFrom(from);\n    this.arcArrow.setTo(this.pEnd);\n\n    // Prevent the arrow from being larger than the arc itself\n    const arcArrowLenght = Math.min(arrowHeadLength, this.arcArrowMaxHeadLength * this.pEnd.distanceTo(this.pStart));\n    this.arcArrow.setHeadLength(arcArrowLenght);\n\n    // Configure arc fill\n    this.arcFill.updatePoint(0, this.center.x, this.center.y);\n    this.arcFill.updatePoint(1, arcStart.x, arcStart.y);\n    this.arcFill.updatePoint(2, arcEnd.x, arcEnd.y);\n    this.arcFill.setEllipseArc(1, this.arcParams);\n\n    this.updateLabel(pixelsPerUnit, arcRadius);\n\n    this.layer.update();\n  }\n\n  onCameraChange() {\n    this.update();\n  }\n\n  // If true, the angle label is frozen at its current state\n  setLabelEnabled(enabled) {\n    this.enableLabel = enabled;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFVBQVUsQ0FBQyxJQUFJLENBQUNoSCxNQUFNLENBQUMsQ0FBQztJQUNoSCxJQUFJLENBQUNnQixRQUFRLENBQUMwRixhQUFhLENBQUNvQixjQUFjLENBQUM7O0lBRTNDO0lBQ0EsSUFBSSxDQUFDN0csT0FBTyxDQUFDdUcsV0FBVyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMzSCxNQUFNLENBQUM4RCxDQUFDLEVBQUUsSUFBSSxDQUFDOUQsTUFBTSxDQUFDK0QsQ0FBQyxDQUFDO0lBQ3pELElBQUksQ0FBQzNDLE9BQU8sQ0FBQ3VHLFdBQVcsQ0FBQyxDQUFDLEVBQUVGLFFBQVEsQ0FBQzNELENBQUMsRUFBRTJELFFBQVEsQ0FBQzFELENBQUMsQ0FBQztJQUNuRCxJQUFJLENBQUMzQyxPQUFPLENBQUN1RyxXQUFXLENBQUMsQ0FBQyxFQUFFRCxNQUFNLENBQUM1RCxDQUFDLEVBQUU0RCxNQUFNLENBQUMzRCxDQUFDLENBQUM7SUFDL0MsSUFBSSxDQUFDM0MsT0FBTyxDQUFDd0csYUFBYSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUN0RyxTQUFTLENBQUM7O0lBRTdDLElBQUksQ0FBQ3dELFdBQVcsQ0FBQ0MsYUFBYSxFQUFFeEUsU0FBUyxDQUFDOztJQUUxQyxJQUFJLENBQUNaLEtBQUssQ0FBQzJELE1BQU0sQ0FBQyxDQUFDO0VBQ3ZCOztFQUVBL0IsY0FBY0EsQ0FBQSxFQUFHO0lBQ2IsSUFBSSxDQUFDK0IsTUFBTSxDQUFDLENBQUM7RUFDakI7O0VBRUE7RUFDQTRFLGVBQWVBLENBQUNDLE9BQU8sRUFBRTtJQUNyQixJQUFJLENBQUN0SCxXQUFXLEdBQUdzSCxPQUFPO0VBQzlCO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9FZGl0MkQvQW5nbGVHaXptby5qcz8zYTVmIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IEFycm93IGZyb20gJy4vQXJyb3cuanMnO1xuaW1wb3J0IHsgTWF0aDJEfSBmcm9tICcuL01hdGgyRC5qcyc7XG5pbXBvcnQgeyBQb2x5bGluZSwgUGF0aCwgRWxsaXBzZUFyY1BhcmFtcyAgfSBmcm9tICcuL0VkaXRTaGFwZXMuanMnO1xuaW1wb3J0IHsgVGV4dExhYmVsIH0gZnJvbSAnLi9DYW52YXNHaXptby5qcyc7XG5cbmNvbnN0IENvbG9ycyA9IHtcbiAgICBCbGFjazogJ3JnYigwLDAsMCknXG59O1xuXG4vLyBBbiBhbmdsZSBnaXptbyBpbmRpY2F0ZXMgYSByb3RhdGlvbiBhbmdsZSB1c2luZyB0d28gYXJyb3dzIChzdGFydC9lbmQgZGlyZWN0aW9uKSBhbmQgYSBjb25uZWN0aW5nIGFyYy5cbi8vIFRoZSBhcmMgaXMgZHJhd24gYWxvbmcgdGhlIHNob3J0ZXN0IGNvbm5lY3Rpb24sIGVpdGhlciBjdyBvciBjY3cuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbmdsZUdpem1vIHtcblxuICAgIGNvbnN0cnVjdG9yKGxheWVyLCBvcHRpb25zID0ge30pICB7XG4gICAgICAgIHRoaXMubGF5ZXIgPSBsYXllcjtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcblxuICAgICAgICAvLyAtLS0gQ29uZmlndXJhdGlvbiBwYXJhbXMgLS0tXG5cbiAgICAgICAgLy8gQ29ybmVyIHBvaW50cyBlbmNsb2RpbmcgdGhlIGFuZ2xlXG4gICAgICAgIHRoaXMuY2VudGVyID0gbmV3IFRIUkVFLlZlY3RvcjIoKTsgLy8gY2VudGVyIG9mIHRoZSBhcmNcbiAgICAgICAgdGhpcy5wU3RhcnQgPSBuZXcgVEhSRUUuVmVjdG9yMigpOyAvLyBjZW50ZXItPnBTdGFydCBpbmRpY2F0ZXMgZGlyZWN0aW9uIGJlZm9yZSByb3RhdGlvblxuICAgICAgICB0aGlzLnBFbmQgICA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7IC8vIGNlbnRlci0+cEVuZCBpbmRpY2F0ZXMgZGlyZWN0aW9uIGFmdGVyIHJvdGF0aW9uXG5cbiAgICAgICAgLy8gc2l6ZXMgaW4gcGl4ZWxzXG4gICAgICAgIHRoaXMuYXJyb3dMZW5ndGggPSAxNTA7XG4gICAgICAgIHRoaXMuYXJyb3dIZWFkTGVuZ3RoID0gMTg7XG4gICAgICAgIHRoaXMuYXJjUmFkaXVzID0gMTAwO1xuXG4gICAgICAgIC8vIEluZGljYXRlIHdoaWNoIHBvaW50cyBhcmUgcHJvcGVybHkgc2V0LiBJZiBvbmx5IGNlbnRlciBhbmQgb25lIHBvaW50IGFyZSB2YWxpZCwgd2Ugc2hvdyBqdXN0IGFuIGFycm93LlxuICAgICAgICB0aGlzLmNlbnRlclZhbGlkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucFN0YXJ0VmFsaWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wRW5kVmFsaWQgICA9IGZhbHNlO1xuXG4gICAgICAgIC8vIE9wdGlvbmFsOiBTaG93IGRvdHRlZCBsaW5lIHRoYXQgY29ubmVjdHMgdGhlIGFycm93IHdpdGggdGhlIHBvaW50cyB0aGF0IGRlZmluZSB0aGUgZGlyZWN0aW9uLlxuICAgICAgICB0aGlzLnNob3dFeHRlbmRMaW5lcyA9IHRydWU7XG5cbiAgICAgICAgLy8gU3BlY2lmaWVzIGhvdyBmYXIgd2Ugc2hpZnQgdGhlIGxhYmVsUG9zaXRpb24gYXdheSBmcm9tIHRoZSBjZW50ZXIuIEFuIG9mZnNldCBvZiAwIHdvdWxkIG1lYW4gdG8gY2VudGVyIHRoZSBsYWJlbFxuICAgICAgICAvLyBvbiB0aGUgY2VudGVyIHBvaW50IG9mIHRoZSBhbmdsZSBhcmMgbGluZS5cbiAgICAgICAgdGhpcy5sYWJlbFBvc09mZnNldCA9IDMwO1xuXG4gICAgICAgIC8vIEFuZ2xlIHRleHQgbGFiZWxcbiAgICAgICAgdGhpcy5lbmFibGVMYWJlbCA9IHRydWU7XG5cbiAgICAgICAgLy8gLS0tIE1haW50YWluZWQgYnkgdGhlIGdpem1vIC0tLVxuXG4gICAgICAgIC8vIEFycm93IHNoYXBlcy4gQXV0by11cGRhdGVkIGJhc2VkIG9uIHNldHRpbmdzXG4gICAgICAgIHRoaXMuYXJyb3dTdGFydCA9IG5ldyBBcnJvdygpO1xuICAgICAgICB0aGlzLmFycm93RW5kICAgPSBuZXcgQXJyb3coKTtcblxuICAgICAgICAvLyBTaGFycG5lc3Mgb2YgYXJyb3cgcGVha3NcbiAgICAgICAgdGhpcy5hcnJvd1N0YXJ0LmhlYWRBbmdsZSA9IDQ1O1xuICAgICAgICB0aGlzLmFycm93RW5kLmhlYWRBbmdsZSA9IDQ1O1xuXG5cbiAgICAgICAgLy8gQXJjIGxpbmUgY29ubmVjdGluZyB0aGUgdHdvIGFycm93c1xuICAgICAgICB0aGlzLmFyY0xpbmUgPSBuZXcgUGF0aCgpLmFsbG9jUG9pbnRzKDIpO1xuICAgICAgICB0aGlzLmFyY0Fycm93ID0gbmV3IEFycm93KCk7XG4gICAgICAgIHRoaXMuYXJjRmlsbCA9IG5ldyBQYXRoKCkuYWxsb2NQb2ludHMoMyk7XG4gICAgICAgIHRoaXMuYXJjRmlsbC5pc0Nsb3NlZCA9IHRydWU7XG5cbiAgICAgICAgLy8gVXNlZCBhbmQgYXV0by11cGRhdGVkIGluIHVwYWR0ZSgpXG4gICAgICAgIHRoaXMuYXJjUGFyYW1zID0gbmV3IEVsbGlwc2VBcmNQYXJhbXMoKTtcblxuICAgICAgICAvLyBVcGRhdGUgc2hhcGVzIG9uIGNhbWVyYSB1cGRhdGVzXG4gICAgICAgIHRoaXMub25DYW1lcmFDaGFuZ2UgPSB0aGlzLm9uQ2FtZXJhQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubGF5ZXIudmlld2VyLmFkZEV2ZW50TGlzdGVuZXIoQXV0b2Rlc2suVmlld2luZy5DQU1FUkFfQ0hBTkdFX0VWRU5ULCB0aGlzLm9uQ2FtZXJhQ2hhbmdlKTtcblxuICAgICAgICAvLyBhcmMgc3R5bGVcbiAgICAgICAgdGhpcy5hcmNGaWxsT3BhY2l0eSA9IDAuMjtcbiAgICAgICAgdGhpcy5hcmNGaWxsLnN0eWxlLmxpbmVBbHBoYSA9IDA7XG4gICAgICAgIHRoaXMuYXJjRmlsbC5zdHlsZS5maWxsQWxwaGEgPSB0aGlzLmFyY0ZpbGxPcGFjaXR5O1xuICAgICAgICB0aGlzLmFyY0xpbmUuc3R5bGUubGluZVdpZHRoID0gMi4wO1xuICAgICAgICB0aGlzLmFyY0xpbmUuc3R5bGUubGluZUNvbG9yID0gdGhpcy5vcHRpb25zLmFyY0NvbG9yIHx8IENvbG9ycy5CbGFjaztcblxuICAgICAgICB0aGlzLmFyY0Fycm93LmxpbmUuc3R5bGUubGluZUNvbG9yID0gdGhpcy5vcHRpb25zLmFyY0NvbG9yIHx8IENvbG9ycy5CbGFjaztcbiAgICAgICAgdGhpcy5hcmNBcnJvdy5saW5lLnN0eWxlLmxpbmVXaWR0aCA9IDIuMDtcbiAgICAgICAgdGhpcy5hcmNBcnJvdy5oZWFkLnN0eWxlLmxpbmVBbHBoYSA9IDA7XG4gICAgICAgIHRoaXMuYXJjQXJyb3cuaGVhZC5zdHlsZS5maWxsQ29sb3IgPSB0aGlzLm9wdGlvbnMuYXJjQ29sb3IgfHwgQ29sb3JzLkJsYWNrO1xuICAgICAgICB0aGlzLmFyY0Fycm93LmhlYWQuc3R5bGUuZmlsbEFscGhhID0gMTtcbiAgICAgICAgdGhpcy5hcmNBcnJvd01heEhlYWRMZW5ndGggPSAwLjM7IC8vIElmIHRoZSBhcmMgYXJyb3cgaXMgdmVyeSBzaG9ydCAoc21hbGwgYW5nbGVzKSwgd2UgcmVzdHJpY3QgdGhlIGhlYWRTaXplIHRvIGEgcGVyY2VudGFnZSBvZiB0aGUgYXJyb3cgbGVuZ3RoXG5cbiAgICAgICAgLy8gc3RhcnQgYXJyb3cgbGluZSBzdHlsZVxuICAgICAgICB0aGlzLmFycm93U3RhcnQubGluZS5zdHlsZS5saW5lQ29sb3IgPSB0aGlzLm9wdGlvbnMuc3RhcnRDb2xvciB8fCBDb2xvcnMuQmxhY2s7XG4gICAgICAgIHRoaXMuYXJyb3dTdGFydC5saW5lLnN0eWxlLmxpbmVXaWR0aCA9IDEuNTtcblxuICAgICAgICAvLyBlbmQgYXJyb3cgbGluZSBzdHlsZVxuICAgICAgICB0aGlzLmFycm93RW5kLmxpbmUuc3R5bGUubGluZUNvbG9yICAgPSB0aGlzLm9wdGlvbnMuZW5kQ29sb3IgfHwgQ29sb3JzLkJsYWNrO1xuICAgICAgICB0aGlzLmFycm93RW5kLmxpbmUuc3R5bGUubGluZVdpZHRoICAgPSAxLjU7XG5cbiAgICAgICAgLy8gc3RhcnQgYXJyb3cgaGVhZCBzdHlsZVxuICAgICAgICB0aGlzLmFycm93U3RhcnQuaGVhZC5zdHlsZS5saW5lQWxwaGEgPSAwO1xuICAgICAgICB0aGlzLmFycm93U3RhcnQuaGVhZC5zdHlsZS5maWxsQ29sb3IgPSB0aGlzLm9wdGlvbnMuc3RhcnRDb2xvciB8fCBDb2xvcnMuQmxhY2s7XG4gICAgICAgIHRoaXMuYXJyb3dTdGFydC5oZWFkLnN0eWxlLmZpbGxBbHBoYSA9IDE7XG5cbiAgICAgICAgLy8gZW5kIGFycm93IGhlYWQgc3R5bGVcbiAgICAgICAgdGhpcy5hcnJvd0VuZC5oZWFkLnN0eWxlLmxpbmVBbHBoYSAgID0gMDtcbiAgICAgICAgdGhpcy5hcnJvd0VuZC5oZWFkLnN0eWxlLmZpbGxDb2xvciA9IHRoaXMub3B0aW9ucy5lbmRDb2xvciB8fCBDb2xvcnMuQmxhY2s7XG4gICAgICAgIHRoaXMuYXJyb3dFbmQuaGVhZC5zdHlsZS5maWxsQWxwaGEgICA9IDE7XG5cbiAgICAgICAgdGhpcy5sYWJlbCA9IG5ldyBUZXh0TGFiZWwodGhpcy5sYXllciwgJycsIHRoaXMub3B0aW9ucy5sYWJlbENsYXNzTmFtZSk7XG5cbiAgICAgICAgLy8gcmV1c2VkIHZhbHVlcyBmb3IgbGFiZWwgcG9zaXRpb24gY29tcHV0YXRpb25cbiAgICAgICAgdGhpcy5sYWJlbFBvcyA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7IC8vIGluIGxheWVyLWNvb3Jkc1xuICAgICAgICB0aGlzLmFyY0N1cnZlID0gbmV3IEF1dG9kZXNrLkV4dGVuc2lvbnMuQ29tcEdlb20uRWxsaXBzZUFyYygpO1xuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcblxuICAgICAgICAvLyBGb3IgZmFkZUluL091dCBlZmZlY3RzXG4gICAgICAgIGNvbnN0IHNldE9wYWNpdHkgPSAob3BhY2l0eSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hcnJvd1N0YXJ0LmxpbmUuc3R5bGUubGluZUFscGhhID0gb3BhY2l0eTtcbiAgICAgICAgICAgIHRoaXMuYXJyb3dTdGFydC5oZWFkLnN0eWxlLmZpbGxBbHBoYSA9IHRoaXMub3B0aW9ucy5oaWRlQXJyb3dIZWFkID8gMCA6IG9wYWNpdHk7XG4gICAgICAgICAgICB0aGlzLmFycm93RW5kLmxpbmUuc3R5bGUubGluZUFscGhhID0gb3BhY2l0eTtcbiAgICAgICAgICAgIHRoaXMuYXJyb3dFbmQuaGVhZC5zdHlsZS5maWxsQWxwaGEgPSB0aGlzLm9wdGlvbnMuaGlkZUFycm93SGVhZCA/IDAgOiBvcGFjaXR5O1xuICAgICAgICAgICAgdGhpcy5hcmNMaW5lLnN0eWxlLmxpbmVBbHBoYSA9IG9wYWNpdHk7XG4gICAgICAgICAgICB0aGlzLmFyY0Fycm93LmxpbmUuc3R5bGUubGluZUFscGhhID0gb3BhY2l0eTtcbiAgICAgICAgICAgIHRoaXMuYXJjQXJyb3cuaGVhZC5zdHlsZS5maWxsQWxwaGEgPSBvcGFjaXR5O1xuICAgICAgICAgICAgdGhpcy5hcmNGaWxsLnN0eWxlLmZpbGxBbHBoYSA9IG9wYWNpdHkgKiB0aGlzLmFyY0ZpbGxPcGFjaXR5O1xuICAgICAgICAgICAgdGhpcy5vcGFjaXR5ID0gb3BhY2l0eTtcbiAgICAgICAgICAgIHRoaXMubGF5ZXIudXBkYXRlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5vcGFjaXR5UGFyYW0gPSBuZXcgQXV0b2Rlc2suVmlld2luZy5Qcml2YXRlLkFuaW1hdGVkUGFyYW0oMS4wLCBzZXRPcGFjaXR5LCAwLjUpO1xuXG4gICAgICAgIC8vIHJlZmxlY3RzIGN1cnJlbnQgZmFkZUluL2ZhZGVPdXQgc3RhdGVcbiAgICAgICAgdGhpcy5vcGFjaXR5ID0gMS4wO1xuICAgIH1cblxuICAgIHNldENlbnRlcihjZW50ZXIpIHtcbiAgICAgICAgaWYgKGNlbnRlcikge1xuICAgICAgICAgICAgdGhpcy5jZW50ZXIuY29weShjZW50ZXIpO1xuICAgICAgICAgICAgdGhpcy5jZW50ZXJWYWxpZCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNlbnRlclZhbGlkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRTdGFydChwU3RhcnQpIHtcbiAgICAgICAgaWYgKHBTdGFydCkge1xuICAgICAgICAgICAgdGhpcy5wU3RhcnQuY29weShwU3RhcnQpO1xuICAgICAgICAgICAgdGhpcy5wU3RhcnRWYWxpZCA9IGlzRmluaXRlKHBTdGFydC54KSAmJiBpc0Zpbml0ZShwU3RhcnQueSk7XG5cbiAgICAgICAgICAgIC8vIFdhcm4gb24gTmFOL0luZiB2YWx1ZXNcbiAgICAgICAgICAgIGlmICghdGhpcy5wU3RhcnRWYWxpZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgQW5nbGVHaXptbzogSW52YWxpZCBzdGFydCBwb2ludGApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBTdGFydFZhbGlkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRFbmQocEVuZCkge1xuICAgICAgICBpZiAocEVuZCkge1xuICAgICAgICAgICAgdGhpcy5wRW5kLmNvcHkocEVuZCk7XG4gICAgICAgICAgICB0aGlzLnBFbmRWYWxpZCA9IGlzRmluaXRlKHBFbmQueCkgJiYgaXNGaW5pdGUocEVuZC55KTtcblxuICAgICAgICAgICAgLy8gV2FybiBvbiBOYU4vSW5mIHZhbHVlc1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBFbmRWYWxpZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgQW5nbGVHaXptbzogSW52YWxpZCBlbmQgcG9pbnRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucEVuZFZhbGlkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkdG9yKCkge1xuICAgICAgICB0aGlzLm9wYWNpdHlQYXJhbS5zdG9wQW5pbSgpOyAvLyBTdG9wIHNvIHRoZSBvcGFjaXR5IHRpbWVyIGRvZXNuJ3Qga2VlcCBydW5uaW5nIHdpdGhvdXQgYSBsYXllclxuICAgICAgICB0aGlzLmxheWVyLnZpZXdlci5yZW1vdmVFdmVudExpc3RlbmVyKEF1dG9kZXNrLlZpZXdpbmcuQ0FNRVJBX0NIQU5HRV9FVkVOVCwgdGhpcy5vbkNhbWVyYUNoYW5nZSk7XG4gICAgICAgIHRoaXMubGF5ZXIuZHRvcigpO1xuICAgICAgICB0aGlzLmxheWVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBzZXRWaXNpYmxlKHZpc2libGUpIHtcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSA9PSB2aXNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZpc2libGUgPSB2aXNpYmxlO1xuICAgICAgICBpZiAodmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5sYXllci5hZGRTaGFwZSh0aGlzLmFycm93U3RhcnQpO1xuICAgICAgICAgICAgdGhpcy5sYXllci5hZGRTaGFwZSh0aGlzLmFycm93RW5kKTtcbiAgICAgICAgICAgIHRoaXMubGF5ZXIuYWRkU2hhcGUodGhpcy5hcmNMaW5lKTtcbiAgICAgICAgICAgIHRoaXMubGF5ZXIuYWRkU2hhcGUodGhpcy5hcmNBcnJvdyk7XG4gICAgICAgICAgICB0aGlzLmxheWVyLmFkZFNoYXBlKHRoaXMuYXJjRmlsbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxheWVyLnJlbW92ZVNoYXBlKHRoaXMuYXJyb3dTdGFydCk7XG4gICAgICAgICAgICB0aGlzLmxheWVyLnJlbW92ZVNoYXBlKHRoaXMuYXJyb3dFbmQpO1xuICAgICAgICAgICAgdGhpcy5sYXllci5yZW1vdmVTaGFwZSh0aGlzLmFyY0xpbmUpO1xuICAgICAgICAgICAgdGhpcy5sYXllci5yZW1vdmVTaGFwZSh0aGlzLmFyY0Fycm93KTtcbiAgICAgICAgICAgIHRoaXMubGF5ZXIucmVtb3ZlU2hhcGUodGhpcy5hcmNGaWxsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldE9wYWNpdHkob3BhY2l0eSkge1xuICAgICAgICB0aGlzLm9wYWNpdHlQYXJhbS5zZXRWYWx1ZShvcGFjaXR5KTtcbiAgICB9XG5cbiAgICBza2lwRmFkZSgpIHtcbiAgICAgICAgdGhpcy5vcGFjaXR5UGFyYW0uc2tpcEFuaW0oKTtcbiAgICB9XG5cbiAgICAvLyBGYWRlIGluL291dC4gVGhpcyBhbHNvIHNldHMgdGhlIHZpc2liaWxpdHksIGkuZS4gc2hhcGVzIGFyZSBoaWRkZW4gd2hlbiBvcGFjaXR5IHJlYWNoZXMgemVyby5cbiAgICBmYWRlVG8odmFsdWUpIHtcbiAgICAgICAgdGhpcy5vcGFjaXR5UGFyYW0uZmFkZVRvKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgYXJjIGxhYmVsIHBvc2l0aW9uIGJhc2VkIG9uIGNlbnRlciBwb2ludCBvZiB0aGUgYXJjLiBOb3RlIHRoYXQgdGhpcy5hcmNMaW5lIG11c3QgYmUgdXAgdG9cbiAgICB1cGRhdGVMYWJlbChwaXhlbHNQZXJVbml0LCBhcmNSYWRpdXMpIHtcblxuICAgICAgICBjb25zdCBhcmMgPSB0aGlzLmFyY0xpbmUuZXhwb3J0RWxsaXBzZUFyYygwLCAwLCB0aGlzLmFyY0N1cnZlKTtcbiAgICAgICAgbGV0IGxhYmVsUG9zO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2VudGVyTGFiZWwpIHtcbiAgICAgICAgICAgIGxhYmVsUG9zID0gdGhpcy5jZW50ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBnZXQgcG9pbnQgYXQgY2VudGVyIG9mIHRoZSBhbmdsZSBhcmNcbiAgICAgICAgICAgIGxhYmVsUG9zID0gYXJjLmdldFBvaW50KDAuNSwgdGhpcy5sYWJlbFBvcyk7XG5cbiAgICAgICAgICAgIC8vIFNoaWZ0IGxhYmVsIHBvc2l0aW9uIG1vcmUgXCJvdXRzaWRlXCIsIGkuZS4gYXdheSBmcm9tIHRoZSBjZW50ZXJcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsUG9zT2Zmc2V0ID0gdGhpcy5sYWJlbFBvc09mZnNldCAvIHBpeGVsc1BlclVuaXQ7XG4gICAgICAgICAgICBsYWJlbFBvcy5zdWIodGhpcy5jZW50ZXIpO1xuICAgICAgICAgICAgbGFiZWxQb3Mubm9ybWFsaXplKCk7XG4gICAgICAgICAgICBsYWJlbFBvcy5tdWx0aXBseVNjYWxhcihhcmNSYWRpdXMgKyBsYWJlbFBvc09mZnNldCk7XG4gICAgICAgICAgICBsYWJlbFBvcy5hZGQodGhpcy5jZW50ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sYWJlbC5zZXRQb3NpdGlvbihsYWJlbFBvcy54LCBsYWJlbFBvcy55KTtcblxuICAgICAgICAvLyB1cGRhdGUgbGFiZWwgdGV4dFxuICAgICAgICBjb25zdCBhbmdsZSA9IFRIUkVFLk1hdGgucmFkVG9EZWcoYXJjLmdldEFuZ2xlRGVsdGEoKSk7XG5cbiAgICAgICAgaWYgKCFpc05hTihhbmdsZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBhbmdsZS50b0ZpeGVkKDEpICsgXCLCsFwiO1xuICAgICAgICAgICAgdGhpcy5sYWJlbC5zZXRUZXh0KHRleHQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuXG4gICAgICAgIC8vIE5vdGU6IFdoZW4gdXNpbmcgdGhlIGdpem1vIG9uIGEgcGxhbmUgaW4gM0QsIHBpeGVsc1BlclVuaXQgbWF5IHZhcnkgcGVyIHBvaW50LlxuICAgICAgICAvLyBUb2RvOiBBZGQgZ2VuZXJhbCBzdXBwb3J0IGZvciB0aGlzIGNhc2UgdG8gRWRpdDJEIGxheWVycy5cbiAgICAgICAgbGV0IHBpeGVsc1BlclVuaXQgPSAxO1xuXG4gICAgICAgIC8vIEluIGNhc2UgaWdub3JlQ2FtZXJhRGlzdGFuY2UgaXMgc2V0LCB0aGUgc2l6ZSBvZiB0aGUgYXJjIHdvbid0IGNoYW5nZSBkZXBlbmRpbmcgb24gdGhlIGNhbWVyYSBkaXN0YW5jZS5cbiAgICAgICAgLy8gSW4gZmFjdCwgdGhlIGdpem1vIHdpbGwgYmVoYXZlIG1vcmUgbGlrZSBhbiBvdmVybGF5LlxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5pZ25vcmVDYW1lcmFEaXN0YW5jZSkge1xuICAgICAgICAgICAgY29uc3QgcFdvcmxkID0gbmV3IFRIUkVFLlZlY3RvcjModGhpcy5jZW50ZXIueCwgdGhpcy5jZW50ZXIueSwgMCkuYXBwbHlNYXRyaXg0KHRoaXMubGF5ZXIubGF5ZXJUb1dvcmxkKTtcbiAgICAgICAgICAgIHBpeGVsc1BlclVuaXQgPSB0aGlzLmxheWVyLnZpZXdlci5pbXBsLmNhbWVyYS5waXhlbHNQZXJVbml0QXRQb2ludChwV29ybGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29udmVydCBhbGwgc2l6ZXMgdG8gbGF5ZXItc3BhY2VcbiAgICAgICAgY29uc3QgYXJyb3dIZWFkTGVuZ3RoID0gdGhpcy5hcnJvd0hlYWRMZW5ndGggLyBwaXhlbHNQZXJVbml0O1xuICAgICAgICBsZXQgYXJjUmFkaXVzICAgICAgICAgPSB0aGlzLmFyY1JhZGl1cyAgICAgICAvIHBpeGVsc1BlclVuaXQ7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgYWxsIGRpcmVjdGlvbnMgYXJlIHZhbGlkXG4gICAgICAgIGNvbnN0IHNob3dHaXptbyA9IHRoaXMuY2VudGVyVmFsaWQgJiYgdGhpcy5wU3RhcnRWYWxpZCAmJiB0aGlzLnBFbmRWYWxpZDtcblxuICAgICAgICAvLyBVcGRhdGUgZ2l6bW8gdmlzaWJpbGl0eVxuICAgICAgICB0aGlzLmFycm93U3RhcnQuc2V0VmlzaWJsZShzaG93R2l6bW8pO1xuICAgICAgICB0aGlzLmFycm93RW5kLnNldFZpc2libGUoc2hvd0dpem1vKTtcbiAgICAgICAgdGhpcy5hcmNMaW5lLnNldFZpc2libGUoc2hvd0dpem1vKTtcbiAgICAgICAgdGhpcy5hcmNBcnJvdy5zZXRWaXNpYmxlKHNob3dHaXptbyk7XG4gICAgICAgIHRoaXMuYXJjRmlsbC5zZXRWaXNpYmxlKHNob3dHaXptbyk7XG5cbiAgICAgICAgLy8gVXBkYXRlIGxhYmVsIHZpc2liaWxpdHlcbiAgICAgICAgY29uc3Qgc2hvd0xhYmVsID0gc2hvd0dpem1vICYmIHRoaXMuZW5hYmxlTGFiZWw7XG4gICAgICAgIHRoaXMubGFiZWwuc2V0T3BhY2l0eShzaG93TGFiZWwgPyAxLjAgOiAwLjAsIHRydWUpOyAvLyBsYWJlbCBmYWRlcyBzbW9vdGhseVxuXG4gICAgICAgIC8vIElmIGV2ZXJ5dGhpbmcgaXMgaGlkZGVuIG5vdyBhbnl3YXksIHdlIGFyZSBkb25lIGhlcmVcbiAgICAgICAgaWYgKCFzaG93R2l6bW8pIHtcbiAgICAgICAgICAgIC8vIE5vdGUgdGhhdCB3ZSBzdGlsbCBoYXZlIHRvIHVwZGF0ZSBpbiBjYXNlIHNvbWUgc2hhcGVzIGp1c3QgY2hhbmdlZCBmcm9tIHZpc2libGUgdG8gaGlkZGVuLlxuICAgICAgICAgICAgdGhpcy5sYXllci51cGRhdGUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFycm93cyBzdGFydCBhdCB0aGUgYW5nbGUgY2VudGVyXG4gICAgICAgIHRoaXMuYXJyb3dTdGFydC5zZXRGcm9tKHRoaXMuY2VudGVyKTtcbiAgICAgICAgdGhpcy5hcnJvd0VuZC5zZXRGcm9tKHRoaXMuY2VudGVyKTtcblxuICAgICAgICAvLyBhcnJvd3MgcG9pbnQgdG93YXJkIHBTdGFydC9wRW5kXG4gICAgICAgIHRoaXMuYXJyb3dTdGFydC5zZXRUbyh0aGlzLnBTdGFydCk7XG4gICAgICAgIHRoaXMuYXJyb3dFbmQuc2V0VG8odGhpcy5wRW5kKTtcblxuICAgICAgICAvLyBzY2FsZSBhcnJvdy1oZWFkIHNpemVzIGZvciBjb25zdGFudCBzY3JlZW4tc2l6ZVxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5oaWRlQXJyb3dIZWFkKSB7XG4gICAgICAgICAgICB0aGlzLmFycm93U3RhcnQuc2V0SGVhZExlbmd0aChhcnJvd0hlYWRMZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5hcnJvd0VuZC5zZXRIZWFkTGVuZ3RoKGFycm93SGVhZExlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb21wdXRlIGFuZ2xlXG4gICAgICAgIGNvbnN0IHN0YXJ0RGlyID0gdGhpcy5wU3RhcnQuY2xvbmUoKS5zdWIodGhpcy5jZW50ZXIpLm5vcm1hbGl6ZSgpO1xuICAgICAgICBjb25zdCBlbmREaXIgICA9IHRoaXMucEVuZC5jbG9uZSgpLnN1Yih0aGlzLmNlbnRlcikubm9ybWFsaXplKCk7XG4gICAgICAgIGNvbnN0IGFuZ2xlICAgID0gTWF0aDJELmFuZ2xlQmV0d2VlbkRpcmVjdGlvbnMoc3RhcnREaXIsIGVuZERpcik7XG5cbiAgICAgICAgLy8gUHJldmVudCBhcmMgZnJvbSBiZWluZyBsb25nZXIgdGhhbiB0aGUgYXJyb3dzXG4gICAgICAgIGFyY1JhZGl1cyA9IE1hdGgubWluKGFyY1JhZGl1cywgdGhpcy5wU3RhcnQuZGlzdGFuY2VUbyh0aGlzLmNlbnRlciksIHRoaXMucEVuZC5kaXN0YW5jZVRvKHRoaXMuY2VudGVyKSk7XG5cbiAgICAgICAgLy8gQ29uZmlndXJlIGVsbHBzZSBhcmNcbiAgICAgICAgdGhpcy5hcmNQYXJhbXMucnggICAgICAgICAgID0gYXJjUmFkaXVzO1xuICAgICAgICB0aGlzLmFyY1BhcmFtcy5yeSAgICAgICAgICAgPSBhcmNSYWRpdXM7XG4gICAgICAgIHRoaXMuYXJjUGFyYW1zLnN3ZWVwRmxhZyAgICA9IGFuZ2xlID4gTWF0aC5QSTtcbiAgICAgICAgdGhpcy5hcmNQYXJhbXMubGFyZ2VBcmNGbGFnID0gZmFsc2U7IC8vIGFsd2F5cyBkaXNwbGF5IHRoZSBzaG9ydGVyIGNvbm5lY3Rpb25cblxuICAgICAgICAvLyBDb21wdXRlIGFyYyBzdGFydC9lbmRcbiAgICAgICAgY29uc3QgYXJjU3RhcnQgPSBzdGFydERpci5jbG9uZSgpLm11bHRpcGx5U2NhbGFyKGFyY1JhZGl1cykuYWRkKHRoaXMuY2VudGVyKTtcbiAgICAgICAgY29uc3QgYXJjRW5kICA9IGVuZERpci5jbG9uZSgpLm11bHRpcGx5U2NhbGFyKGFyY1JhZGl1cykuYWRkKHRoaXMuY2VudGVyKTtcblxuICAgICAgICAvLyBDb25maWd1cmUgYXJjIGxpbmVcbiAgICAgICAgdGhpcy5hcmNMaW5lLnVwZGF0ZVBvaW50KDAsIGFyY1N0YXJ0LngsIGFyY1N0YXJ0LnkpO1xuICAgICAgICB0aGlzLmFyY0xpbmUudXBkYXRlUG9pbnQoMSwgYXJjRW5kLngsIGFyY0VuZC55KTtcbiAgICAgICAgdGhpcy5hcmNMaW5lLnNldEVsbGlwc2VBcmMoMCwgdGhpcy5hcmNQYXJhbXMpO1xuXG4gICAgICAgIC8vIENvbmZpZ3VyZSBhcmMgYXJyb3dcbiAgICAgICAgY29uc3QgcG9seSA9IHRoaXMuYXJjTGluZS50b1BvbHkoKTtcbiAgICAgICAgY29uc3QgZnJvbSA9IHBvbHkuZ2V0UG9pbnQocG9seS5nZXRWZXJ0ZXhDb3VudCgpIC0gMik7XG4gICAgICAgIHRoaXMuYXJjQXJyb3cuc2V0RnJvbShmcm9tKTtcbiAgICAgICAgdGhpcy5hcmNBcnJvdy5zZXRUbyh0aGlzLnBFbmQpO1xuXG4gICAgICAgIC8vIFByZXZlbnQgdGhlIGFycm93IGZyb20gYmVpbmcgbGFyZ2VyIHRoYW4gdGhlIGFyYyBpdHNlbGZcbiAgICAgICAgY29uc3QgYXJjQXJyb3dMZW5naHQgPSBNYXRoLm1pbihhcnJvd0hlYWRMZW5ndGgsIHRoaXMuYXJjQXJyb3dNYXhIZWFkTGVuZ3RoICogdGhpcy5wRW5kLmRpc3RhbmNlVG8odGhpcy5wU3RhcnQpKTtcbiAgICAgICAgdGhpcy5hcmNBcnJvdy5zZXRIZWFkTGVuZ3RoKGFyY0Fycm93TGVuZ2h0KTtcblxuICAgICAgICAvLyBDb25maWd1cmUgYXJjIGZpbGxcbiAgICAgICAgdGhpcy5hcmNGaWxsLnVwZGF0ZVBvaW50KDAsIHRoaXMuY2VudGVyLngsIHRoaXMuY2VudGVyLnkpO1xuICAgICAgICB0aGlzLmFyY0ZpbGwudXBkYXRlUG9pbnQoMSwgYXJjU3RhcnQueCwgYXJjU3RhcnQueSk7XG4gICAgICAgIHRoaXMuYXJjRmlsbC51cGRhdGVQb2ludCgyLCBhcmNFbmQueCwgYXJjRW5kLnkpO1xuICAgICAgICB0aGlzLmFyY0ZpbGwuc2V0RWxsaXBzZUFyYygxLCB0aGlzLmFyY1BhcmFtcyk7XG5cbiAgICAgICAgdGhpcy51cGRhdGVMYWJlbChwaXhlbHNQZXJVbml0LCBhcmNSYWRpdXMpO1xuXG4gICAgICAgIHRoaXMubGF5ZXIudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgb25DYW1lcmFDaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLy8gSWYgdHJ1ZSwgdGhlIGFuZ2xlIGxhYmVsIGlzIGZyb3plbiBhdCBpdHMgY3VycmVudCBzdGF0ZVxuICAgIHNldExhYmVsRW5hYmxlZChlbmFibGVkKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlTGFiZWwgPSBlbmFibGVkO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJBcnJvdyIsIk1hdGgyRCIsIlBvbHlsaW5lIiwiUGF0aCIsIkVsbGlwc2VBcmNQYXJhbXMiLCJUZXh0TGFiZWwiLCJDb2xvcnMiLCJCbGFjayIsIkFuZ2xlR2l6bW8iLCJjb25zdHJ1Y3RvciIsImxheWVyIiwib3B0aW9ucyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImNlbnRlciIsIlRIUkVFIiwiVmVjdG9yMiIsInBTdGFydCIsInBFbmQiLCJhcnJvd0xlbmd0aCIsImFycm93SGVhZExlbmd0aCIsImFyY1JhZGl1cyIsImNlbnRlclZhbGlkIiwicFN0YXJ0VmFsaWQiLCJwRW5kVmFsaWQiLCJzaG93RXh0ZW5kTGluZXMiLCJsYWJlbFBvc09mZnNldCIsImVuYWJsZUxhYmVsIiwiYXJyb3dTdGFydCIsImFycm93RW5kIiwiaGVhZEFuZ2xlIiwiYXJjTGluZSIsImFsbG9jUG9pbnRzIiwiYXJjQXJyb3ciLCJhcmNGaWxsIiwiaXNDbG9zZWQiLCJhcmNQYXJhbXMiLCJvbkNhbWVyYUNoYW5nZSIsImJpbmQiLCJ2aWV3ZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiQXV0b2Rlc2siLCJWaWV3aW5nIiwiQ0FNRVJBX0NIQU5HRV9FVkVOVCIsImFyY0ZpbGxPcGFjaXR5Iiwic3R5bGUiLCJsaW5lQWxwaGEiLCJmaWxsQWxwaGEiLCJsaW5lV2lkdGgiLCJsaW5lQ29sb3IiLCJhcmNDb2xvciIsImxpbmUiLCJoZWFkIiwiZmlsbENvbG9yIiwiYXJjQXJyb3dNYXhIZWFkTGVuZ3RoIiwic3RhcnRDb2xvciIsImVuZENvbG9yIiwibGFiZWwiLCJsYWJlbENsYXNzTmFtZSIsImxhYmVsUG9zIiwiYXJjQ3VydmUiLCJFeHRlbnNpb25zIiwiQ29tcEdlb20iLCJFbGxpcHNlQXJjIiwidmlzaWJsZSIsInNldE9wYWNpdHkiLCJvcGFjaXR5IiwiaGlkZUFycm93SGVhZCIsInVwZGF0ZSIsIm9wYWNpdHlQYXJhbSIsIlByaXZhdGUiLCJBbmltYXRlZFBhcmFtIiwic2V0Q2VudGVyIiwiY29weSIsInNldFN0YXJ0IiwiaXNGaW5pdGUiLCJ4IiwieSIsImNvbnNvbGUiLCJ3YXJuIiwic2V0RW5kIiwiZHRvciIsInN0b3BBbmltIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldFZpc2libGUiLCJhZGRTaGFwZSIsInJlbW92ZVNoYXBlIiwic2V0VmFsdWUiLCJza2lwRmFkZSIsInNraXBBbmltIiwiZmFkZVRvIiwidmFsdWUiLCJ1cGRhdGVMYWJlbCIsInBpeGVsc1BlclVuaXQiLCJhcmMiLCJleHBvcnRFbGxpcHNlQXJjIiwiY2VudGVyTGFiZWwiLCJnZXRQb2ludCIsInN1YiIsIm5vcm1hbGl6ZSIsIm11bHRpcGx5U2NhbGFyIiwiYWRkIiwic2V0UG9zaXRpb24iLCJhbmdsZSIsIk1hdGgiLCJyYWRUb0RlZyIsImdldEFuZ2xlRGVsdGEiLCJpc05hTiIsInRleHQiLCJ0b0ZpeGVkIiwic2V0VGV4dCIsImlnbm9yZUNhbWVyYURpc3RhbmNlIiwicFdvcmxkIiwiVmVjdG9yMyIsImFwcGx5TWF0cml4NCIsImxheWVyVG9Xb3JsZCIsImltcGwiLCJjYW1lcmEiLCJwaXhlbHNQZXJVbml0QXRQb2ludCIsInNob3dHaXptbyIsInNob3dMYWJlbCIsInNldEZyb20iLCJzZXRUbyIsInNldEhlYWRMZW5ndGgiLCJzdGFydERpciIsImNsb25lIiwiZW5kRGlyIiwiYW5nbGVCZXR3ZWVuRGlyZWN0aW9ucyIsIm1pbiIsImRpc3RhbmNlVG8iLCJyeCIsInJ5Iiwic3dlZXBGbGFnIiwiUEkiLCJsYXJnZUFyY0ZsYWciLCJhcmNTdGFydCIsImFyY0VuZCIsInVwZGF0ZVBvaW50Iiwic2V0RWxsaXBzZUFyYyIsInBvbHkiLCJ0b1BvbHkiLCJmcm9tIiwiZ2V0VmVydGV4Q291bnQiLCJhcmNBcnJvd0xlbmdodCIsInNldExhYmVsRW5hYmxlZCIsImVuYWJsZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Edit2D/AngleGizmo.js\n");

/***/ }),

/***/ "./extensions/Edit2D/AngleGizmo3d.js":
/*!*******************************************!*\
  !*** ./extensions/Edit2D/AngleGizmo3d.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AngleGizmo3d)\n/* harmony export */ });\n/* harmony import */ var _AngleGizmo_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AngleGizmo.js */ \"./extensions/Edit2D/AngleGizmo.js\");\n/* harmony import */ var _EditLayer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EditLayer.js */ \"./extensions/Edit2D/EditLayer.js\");\n\n\n\n\nlet nextId = 1;\n\n// Extends the AngleGizmo class by the ability to be used within a 3D scene.\n//\n// For this, AngleGizmo3d maintains an own layer that is placed within the current 3d view.\n// The layer is placed in a plane that is chosen based on selected location center and rotation axis.\nclass AngleGizmo3d extends _AngleGizmo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\n  // @param {Viewer3d} viewer\n  // @param {string}   [overlayName] - Must be the name of an existing viewer overlay. If not set, the gizmo creates its own\n  constructor(viewer, options) {let overlayName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    super(new _EditLayer_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](viewer), options); // init own layer\n\n    this.viewer = viewer;\n\n    // Rotation center in world-coords. Serves as anchor point to place the EditLayer within 3d.\n    this.center3d = new THREE.Vector3();\n    this.pStart3d = new THREE.Vector3();\n    this.pEnd3d = new THREE.Vector3();\n\n    this.id = nextId++;\n\n    this.overlayName = overlayName;\n    this.overlayOwned = false;\n\n    // Create an own overlay if none is provided\n    if (!overlayName) {\n      // Create own overlay.\n      this.overlayName = 'Autodesk.Edit2d.AngleGizmo3d.' + this.id;\n      this.viewer.impl.createOverlayScene(this.overlayName);\n\n      // Remember that we have to clear it later\n      this.overlayOwned = true;\n    }\n\n    // Display layer in the given overlay\n    this.viewer.impl.addOverlay(this.overlayName, this.layer.scene);\n\n    // Reused for computing the layer placement\n    this.layerMatrix = new THREE.Matrix4();\n  }\n\n  dtor() {\n    // Remove layer from overlay\n    this.viewer.impl.removeOverlay(this.overlayName, this.layer.scene);\n\n    // Remove overlay if own it\n    if (this.overlayOwned) {\n      this.viewer.impl.removeOverlayScene(this.overlayName);\n    }\n  }\n\n  // Return layer coords from given 3d world position\n  toLayer(p3d) {\n    return p3d && p3d.clone().applyMatrix4(this.layer.worldToLayer);\n  }\n\n  // Set EditLayer transform so that the layer is on the same\n  // plane as center.\n  updateLayerTransform() {\n    // Todo: Generalize to different axes\n    this.layerMatrix.makeTranslation(0, 0, this.center3d.z);\n    this.layer.setMatrix(this.layerMatrix);\n  }\n\n  setCenter3d(center3d) {\n\n    // If not set, just clear 2d center as well. This will hide the gizmo until a proper center is set.\n    if (!center3d) {\n      this.setCenter(null);\n      return;\n    }\n\n    // move layer to the plane containing center3d\n    this.center3d.copy(center3d);\n    this.updateLayerTransform();\n\n    // Make sure that any previously valid 2d start/end positions keep correct.\n    // Note that a new center was just chosen anyway,\n    this.pStartValid && this.setStart(this.toLayer(this.pStart3d));\n    this.pEndValid && this.setEnd(this.toLayer(this.pEnd3d));\n\n    // set center in layer-coords\n    this.setCenter(this.toLayer(this.center3d));\n  }\n\n  setStart3d(start3d) {\n    if (start3d) {\n      this.pStart3d.copy(start3d);\n    }\n    this.setStart(this.toLayer(start3d));\n  }\n\n  setEnd3d(end3d) {\n    if (end3d) {\n      this.pEnd3d.copy(end3d);\n    }\n    this.setEnd(this.toLayer(end3d));\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVEsQ0FBQzRCLElBQUksQ0FBQzVCLFFBQVEsQ0FBQztJQUM1QixJQUFJLENBQUNzQixvQkFBb0IsQ0FBQyxDQUFDOztJQUUzQjtJQUNBO0lBQ0EsSUFBSSxDQUFDTyxXQUFXLElBQUksSUFBSSxDQUFDQyxRQUFRLENBQUMsSUFBSSxDQUFDYixPQUFPLENBQUMsSUFBSSxDQUFDZCxRQUFRLENBQUMsQ0FBQztJQUM5RCxJQUFJLENBQUM0QixTQUFTLElBQUksSUFBSSxDQUFDQyxNQUFNLENBQUMsSUFBSSxDQUFDZixPQUFPLENBQUMsSUFBSSxDQUFDYixNQUFNLENBQUMsQ0FBQzs7SUFFeEQ7SUFDQSxJQUFJLENBQUN1QixTQUFTLENBQUMsSUFBSSxDQUFDVixPQUFPLENBQUMsSUFBSSxDQUFDakIsUUFBUSxDQUFDLENBQUM7RUFDL0M7O0VBRUFpQyxVQUFVQSxDQUFDQyxPQUFPLEVBQUU7SUFDaEIsSUFBSUEsT0FBTyxFQUFFO01BQ1QsSUFBSSxDQUFDL0IsUUFBUSxDQUFDeUIsSUFBSSxDQUFDTSxPQUFPLENBQUM7SUFDL0I7SUFDQSxJQUFJLENBQUNKLFFBQVEsQ0FBQyxJQUFJLENBQUNiLE9BQU8sQ0FBQ2lCLE9BQU8sQ0FBQyxDQUFDO0VBQ3hDOztFQUVBQyxRQUFRQSxDQUFDQyxLQUFLLEVBQUU7SUFDWixJQUFJQSxLQUFLLEVBQUU7TUFDUCxJQUFJLENBQUNoQyxNQUFNLENBQUN3QixJQUFJLENBQUNRLEtBQUssQ0FBQztJQUMzQjtJQUNBLElBQUksQ0FBQ0osTUFBTSxDQUFDLElBQUksQ0FBQ2YsT0FBTyxDQUFDbUIsS0FBSyxDQUFDLENBQUM7RUFDcEM7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL0VkaXQyRC9BbmdsZUdpem1vM2QuanM/ZjBmNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBBbmdsZUdpem1vIGZyb20gJy4vQW5nbGVHaXptby5qcydcbmltcG9ydCBFZGl0TGF5ZXIgZnJvbSAnLi9FZGl0TGF5ZXIuanMnXG5cbmxldCBuZXh0SWQgPSAxO1xuXG4vLyBFeHRlbmRzIHRoZSBBbmdsZUdpem1vIGNsYXNzIGJ5IHRoZSBhYmlsaXR5IHRvIGJlIHVzZWQgd2l0aGluIGEgM0Qgc2NlbmUuXG4vL1xuLy8gRm9yIHRoaXMsIEFuZ2xlR2l6bW8zZCBtYWludGFpbnMgYW4gb3duIGxheWVyIHRoYXQgaXMgcGxhY2VkIHdpdGhpbiB0aGUgY3VycmVudCAzZCB2aWV3LlxuLy8gVGhlIGxheWVyIGlzIHBsYWNlZCBpbiBhIHBsYW5lIHRoYXQgaXMgY2hvc2VuIGJhc2VkIG9uIHNlbGVjdGVkIGxvY2F0aW9uIGNlbnRlciBhbmQgcm90YXRpb24gYXhpcy5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFuZ2xlR2l6bW8zZCBleHRlbmRzIEFuZ2xlR2l6bW8ge1xuXG4gICAgLy8gQHBhcmFtIHtWaWV3ZXIzZH0gdmlld2VyXG4gICAgLy8gQHBhcmFtIHtzdHJpbmd9ICAgW292ZXJsYXlOYW1lXSAtIE11c3QgYmUgdGhlIG5hbWUgb2YgYW4gZXhpc3Rpbmcgdmlld2VyIG92ZXJsYXkuIElmIG5vdCBzZXQsIHRoZSBnaXptbyBjcmVhdGVzIGl0cyBvd25cbiAgICBjb25zdHJ1Y3Rvcih2aWV3ZXIsIG9wdGlvbnMsIG92ZXJsYXlOYW1lID0gbnVsbCkge1xuICAgICAgICBzdXBlcihuZXcgRWRpdExheWVyKHZpZXdlciksIG9wdGlvbnMpOyAvLyBpbml0IG93biBsYXllclxuXG4gICAgICAgIHRoaXMudmlld2VyID0gdmlld2VyO1xuXG4gICAgICAgIC8vIFJvdGF0aW9uIGNlbnRlciBpbiB3b3JsZC1jb29yZHMuIFNlcnZlcyBhcyBhbmNob3IgcG9pbnQgdG8gcGxhY2UgdGhlIEVkaXRMYXllciB3aXRoaW4gM2QuXG4gICAgICAgIHRoaXMuY2VudGVyM2QgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgICAgICB0aGlzLnBTdGFydDNkID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICAgICAgdGhpcy5wRW5kM2QgICA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cbiAgICAgICAgdGhpcy5pZCA9IG5leHRJZCsrO1xuXG4gICAgICAgIHRoaXMub3ZlcmxheU5hbWUgPSBvdmVybGF5TmFtZTtcbiAgICAgICAgdGhpcy5vdmVybGF5T3duZWQgPSBmYWxzZTtcblxuICAgICAgICAvLyBDcmVhdGUgYW4gb3duIG92ZXJsYXkgaWYgbm9uZSBpcyBwcm92aWRlZFxuICAgICAgICBpZiAoIW92ZXJsYXlOYW1lKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgb3duIG92ZXJsYXkuXG4gICAgICAgICAgICB0aGlzLm92ZXJsYXlOYW1lID0gJ0F1dG9kZXNrLkVkaXQyZC5BbmdsZUdpem1vM2QuJyArIHRoaXMuaWQ7XG4gICAgICAgICAgICB0aGlzLnZpZXdlci5pbXBsLmNyZWF0ZU92ZXJsYXlTY2VuZSh0aGlzLm92ZXJsYXlOYW1lKTtcblxuICAgICAgICAgICAgLy8gUmVtZW1iZXIgdGhhdCB3ZSBoYXZlIHRvIGNsZWFyIGl0IGxhdGVyXG4gICAgICAgICAgICB0aGlzLm92ZXJsYXlPd25lZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEaXNwbGF5IGxheWVyIGluIHRoZSBnaXZlbiBvdmVybGF5XG4gICAgICAgIHRoaXMudmlld2VyLmltcGwuYWRkT3ZlcmxheSh0aGlzLm92ZXJsYXlOYW1lLCB0aGlzLmxheWVyLnNjZW5lKTtcblxuICAgICAgICAvLyBSZXVzZWQgZm9yIGNvbXB1dGluZyB0aGUgbGF5ZXIgcGxhY2VtZW50XG4gICAgICAgIHRoaXMubGF5ZXJNYXRyaXggPSBuZXcgVEhSRUUuTWF0cml4NCgpO1xuICAgIH1cblxuICAgIGR0b3IoKSB7XG4gICAgICAgIC8vIFJlbW92ZSBsYXllciBmcm9tIG92ZXJsYXlcbiAgICAgICAgdGhpcy52aWV3ZXIuaW1wbC5yZW1vdmVPdmVybGF5KHRoaXMub3ZlcmxheU5hbWUsIHRoaXMubGF5ZXIuc2NlbmUpO1xuXG4gICAgICAgIC8vIFJlbW92ZSBvdmVybGF5IGlmIG93biBpdFxuICAgICAgICBpZiAodGhpcy5vdmVybGF5T3duZWQpIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyLmltcGwucmVtb3ZlT3ZlcmxheVNjZW5lKHRoaXMub3ZlcmxheU5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGxheWVyIGNvb3JkcyBmcm9tIGdpdmVuIDNkIHdvcmxkIHBvc2l0aW9uXG4gICAgdG9MYXllcihwM2QpIHtcbiAgICAgICAgcmV0dXJuIHAzZCAmJiBwM2QuY2xvbmUoKS5hcHBseU1hdHJpeDQodGhpcy5sYXllci53b3JsZFRvTGF5ZXIpO1xuICAgIH1cblxuICAgIC8vIFNldCBFZGl0TGF5ZXIgdHJhbnNmb3JtIHNvIHRoYXQgdGhlIGxheWVyIGlzIG9uIHRoZSBzYW1lXG4gICAgLy8gcGxhbmUgYXMgY2VudGVyLlxuICAgIHVwZGF0ZUxheWVyVHJhbnNmb3JtKCkge1xuICAgICAgICAvLyBUb2RvOiBHZW5lcmFsaXplIHRvIGRpZmZlcmVudCBheGVzXG4gICAgICAgIHRoaXMubGF5ZXJNYXRyaXgubWFrZVRyYW5zbGF0aW9uKDAsIDAsIHRoaXMuY2VudGVyM2Queik7XG4gICAgICAgIHRoaXMubGF5ZXIuc2V0TWF0cml4KHRoaXMubGF5ZXJNYXRyaXgpO1xuICAgIH1cblxuICAgIHNldENlbnRlcjNkKGNlbnRlcjNkKSB7XG5cbiAgICAgICAgLy8gSWYgbm90IHNldCwganVzdCBjbGVhciAyZCBjZW50ZXIgYXMgd2VsbC4gVGhpcyB3aWxsIGhpZGUgdGhlIGdpem1vIHVudGlsIGEgcHJvcGVyIGNlbnRlciBpcyBzZXQuXG4gICAgICAgIGlmICghY2VudGVyM2QpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q2VudGVyKG51bGwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgIC8vIG1vdmUgbGF5ZXIgdG8gdGhlIHBsYW5lIGNvbnRhaW5pbmcgY2VudGVyM2RcbiAgICAgICAgdGhpcy5jZW50ZXIzZC5jb3B5KGNlbnRlcjNkKTtcbiAgICAgICAgdGhpcy51cGRhdGVMYXllclRyYW5zZm9ybSgpO1xuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IGFueSBwcmV2aW91c2x5IHZhbGlkIDJkIHN0YXJ0L2VuZCBwb3NpdGlvbnMga2VlcCBjb3JyZWN0LlxuICAgICAgICAvLyBOb3RlIHRoYXQgYSBuZXcgY2VudGVyIHdhcyBqdXN0IGNob3NlbiBhbnl3YXksXG4gICAgICAgIHRoaXMucFN0YXJ0VmFsaWQgJiYgdGhpcy5zZXRTdGFydCh0aGlzLnRvTGF5ZXIodGhpcy5wU3RhcnQzZCkpO1xuICAgICAgICB0aGlzLnBFbmRWYWxpZCAmJiB0aGlzLnNldEVuZCh0aGlzLnRvTGF5ZXIodGhpcy5wRW5kM2QpKTtcblxuICAgICAgICAvLyBzZXQgY2VudGVyIGluIGxheWVyLWNvb3Jkc1xuICAgICAgICB0aGlzLnNldENlbnRlcih0aGlzLnRvTGF5ZXIodGhpcy5jZW50ZXIzZCkpO1xuICAgIH1cblxuICAgIHNldFN0YXJ0M2Qoc3RhcnQzZCkge1xuICAgICAgICBpZiAoc3RhcnQzZCkge1xuICAgICAgICAgICAgdGhpcy5wU3RhcnQzZC5jb3B5KHN0YXJ0M2QpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U3RhcnQodGhpcy50b0xheWVyKHN0YXJ0M2QpKTtcbiAgICB9XG5cbiAgICBzZXRFbmQzZChlbmQzZCkge1xuICAgICAgICBpZiAoZW5kM2QpIHtcbiAgICAgICAgICAgIHRoaXMucEVuZDNkLmNvcHkoZW5kM2QpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0RW5kKHRoaXMudG9MYXllcihlbmQzZCkpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJBbmdsZUdpem1vIiwiRWRpdExheWVyIiwibmV4dElkIiwiQW5nbGVHaXptbzNkIiwiY29uc3RydWN0b3IiLCJ2aWV3ZXIiLCJvcHRpb25zIiwib3ZlcmxheU5hbWUiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJjZW50ZXIzZCIsIlRIUkVFIiwiVmVjdG9yMyIsInBTdGFydDNkIiwicEVuZDNkIiwiaWQiLCJvdmVybGF5T3duZWQiLCJpbXBsIiwiY3JlYXRlT3ZlcmxheVNjZW5lIiwiYWRkT3ZlcmxheSIsImxheWVyIiwic2NlbmUiLCJsYXllck1hdHJpeCIsIk1hdHJpeDQiLCJkdG9yIiwicmVtb3ZlT3ZlcmxheSIsInJlbW92ZU92ZXJsYXlTY2VuZSIsInRvTGF5ZXIiLCJwM2QiLCJjbG9uZSIsImFwcGx5TWF0cml4NCIsIndvcmxkVG9MYXllciIsInVwZGF0ZUxheWVyVHJhbnNmb3JtIiwibWFrZVRyYW5zbGF0aW9uIiwieiIsInNldE1hdHJpeCIsInNldENlbnRlcjNkIiwic2V0Q2VudGVyIiwiY29weSIsInBTdGFydFZhbGlkIiwic2V0U3RhcnQiLCJwRW5kVmFsaWQiLCJzZXRFbmQiLCJzZXRTdGFydDNkIiwic3RhcnQzZCIsInNldEVuZDNkIiwiZW5kM2QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Edit2D/AngleGizmo3d.js\n");

/***/ }),

/***/ "./extensions/Edit2D/AngleSnapper.js":
/*!*******************************************!*\
  !*** ./extensions/Edit2D/AngleSnapper.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AngleSnapper)\n/* harmony export */ });\n/* harmony import */ var _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditShapes.js */ \"./extensions/Edit2D/EditShapes.js\");\n/* harmony import */ var _Math2D_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Math2D.js */ \"./extensions/Edit2D/Math2D.js\");\n\n\n\n\n// AngleSnapper is responsible for snapping based on angles and alignment on hover while choosing the position of a vertex.\n//\n// If pMov is the vertex being moved, the snapping behavior includes:\n//\n//  1. Angle to previous edge: Snap if edge ending at pMov forms a snapAngle (0, 45, 90,...) with its predecessor edge.\n//\n//  2. Angle to next edge: Snap if the edge starting at pMov forms a snapAngle with its successor edge.\n//\n//  3. Collinear Align: Snap if for pMov is collinear with any (non-adjacent) edge.\n//\n//  4. Vertical Align: Snap if pMov is collinear with the edge normal at start/center/end of any non-adjacent edge.\n//\n\n// A SnapLine is a line that we consider for snapping.\nclass SnapLine {\n\n  constructor(a, b) {\n\n    // start and end point\n    this.a = a.clone();\n    this.b = b.clone();\n\n    // normalized edge direction\n    this.dir = _Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.getEdgeDirection(a, b);\n  }\n\n  // Check for intersection with another SnapLine. If found, intersection point is written to outPoint.\n  // @returns {bool} true on success\n  intersect(line, outPoint) {\n    return _Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.intersectLines(this.a, this.dir, line.a, line.dir, outPoint);\n  }\n\n  // project point to SnapLine\n  snapToLine(p) {\n    _Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.projectToLine(p, this.a, this.dir);\n  }\n\n  // Checks if SnapLine is close enough to p to allow snapping. snapRadius is in layer-coords.\n  isUsable(p, snapRadius) {\n    return _Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.pointLineDistance(p, this.a, this.dir) < snapRadius;\n  }\n\n  // Checks if a SnapLine is (approx.) identical with another one\n  isEqual(snapLine, precision) {\n    return _Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.collinear(this.a, this.dir, snapLine.a, snapLine.dir, precision);\n  }\n};\n\n// Snap position based on 1 or 2 SnapLines.\n//  @param {Vector2}  pos         - Initial position in layer coords. Modified in-place\n//  @param {SnapLine} snapLine1   - First line to snap to\n//  @param {SnapLine} [snapLine2] - If there are 2 SnapLines, we snap to the intersection of both lines.\n// Preconditions:\n//  - SnapLine1: Is close to pos (wrt. to snap tolerance)\n//  - SnapLine2: If existing, its intersection with SnapLine1 is close to the position\nconst snapToLines = (pos, snapLine1, snapLine2) => {\n\n  // No snaplines => keep original pos\n  if (!snapLine1 && !snapLine2) {\n    return;\n  }\n\n  // If only SnapLine1 exists\n  if (!snapLine2) {\n    // project pos to snapLine1\n    snapLine1.snapToLine(pos);\n    return;\n  }\n\n  // If only snapLine2 exists\n  if (!snapLine1) {\n    // project pos to snapLine2\n    snapLine2.snapToLine(pos);\n    return;\n  }\n\n  // Snap pos to line intersection.\n  snapLine1.intersect(snapLine2, pos);\n};\n\n// Get point i within a polygon, whereby indices outside [0, ..., this.poly.length-1] are auto-corrected using modulo.\n// Accepts negative indices up to -this.poly.length.\nconst getPointMod = (poly, index, loopIndex) => {\n  const vertexCount = poly.getVertexCount(loopIndex);\n  index = (index + vertexCount) % vertexCount;\n  return poly.getPoint(index, loopIndex);\n};\n\n// Returns an array of SnapLines used to align with each edge of the given polygon.\n//  @param {Polygon}   poly\n//  @param {vIndex}    vIndex - index of the vertex being moved. We exclude edges directly adjacent to this vertex, because they are not fixed.\n//  @param {loopIndex} loopIndex\nconst findSnapLines = (poly, vIndex, loopIndex) => {\n\n  // tmp vectors\n  let normal = new THREE.Vector2();\n  let center = new THREE.Vector2();\n  let pEnd = new THREE.Vector2();\n\n  let snapLines = [];\n\n  // Given an edge of a polygon/polyline, this function collects snapping lines for alignment with this this edge.\n  // and adds it to snapLines.\n  // Generated snapLines are:\n  //  - Line spanned by the edge\n  //  - Orthogonal lines at start, center, and end point.\n  const addEdgeSnapLines = (a, b) => {\n\n    // add line spanned by the edge\n    snapLines.push(new SnapLine(a, b));\n\n    // get edge normal and center point\n    normal = _Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.turnLeft(_Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.getEdgeDirection(a, b, normal));\n    center = _Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.getEdgeCenter(a, b, center);\n\n    // add orthogonal line add edge start\n    pEnd.copy(a).add(normal); // pEnd = p1 + normal\n    snapLines.push(new SnapLine(a, pEnd));\n\n    // add orthogonal line at edge center\n    pEnd.copy(center).add(normal); // pEnd = center + normal\n    snapLines.push(new SnapLine(center, pEnd));\n\n    // add orthogonal line at edge end\n    pEnd.copy(b).add(normal); // pEnd = p2 + normal\n    snapLines.push(new SnapLine(b, pEnd));\n  };\n\n  for (let l = 0; l < poly.loopCount; l++) {\n    poly.enumEdges((a, b, ia, ib) => {\n\n      // Exclude edges containing the moved vertex: These edges are not fixed yet and should not\n      // be used for alignment.\n      if (l === loopIndex && (ia === vIndex || ib === vIndex)) {\n        return;\n      }\n\n      // skip edge if degenerate\n      if (_Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.edgeIsDegenerated(a, b)) {\n        return;\n      }\n\n      addEdgeSnapLines(a, b);\n    }, l);\n  }\n  return snapLines;\n};\n\n// Checks if the given SnapLine candidate is suitable to be used - assuming that another snapLine1 was already chosen.\n// A candidate is only suitable if...\n//  1. The intersection with snapLine1 is within snapping tolerance\n//  2. The angle formed with snapLine1 is as closer to 90° than all other candidates. This makes sure that we rather\n//     snap to orthogonal SnapLines than trying to snap to two nearly parallel ones.\n//\n//  @param {SnapLine} candidate       - SnapLine candidates to be compared\n//  @param {SnapLine} [bestCandidate] - Best candidate found so far (may be null)\n//  @param {SnapLine} snapLine1       - First SnapLine that has already been chosen to snap to.\n//  @param {Vector2}  pos             - position to be snapped\n//  @param {number}   snapRadius      - in layer coords\n//  @returns {SnapLine} Returns the best candidate - either bestCandidate or snapLineCandidate\nconst checkSecondSnapCandidate = (candidate, bestCandidate, snapLine1, pos, snapRadius) => {\n\n  // If candidate does not intersect snapLine1, we cannot use it.\n  const pIntersect = new THREE.Vector2();\n  if (!snapLine1.intersect(candidate, pIntersect)) {\n    return bestCandidate;\n  }\n\n  // If intersection point is outside snapRadius, discard candidate\n  if (pIntersect.distanceTo(pos) > snapRadius) {\n    return bestCandidate;\n  }\n\n  // If there is no competitor, the candidate made it.\n  if (!bestCandidate) {\n    return candidate;\n  }\n\n  // Check which of the candidates is \"less parallel\" to snapLine1\n  const dp1 = Math.abs(snapLine1.dir.dot(candidate.dir));\n  const dp2 = Math.abs(snapLine1.dir.dot(bestCandidate.dir));\n  return dp1 > dp2 ? candidate : bestCandidate;\n};\n\nconst xAxis = new THREE.Vector2(1, 0);\n\nconst av = Autodesk.Viewing;\n// AngleSnapper helps to draw right angles, parallel lines etc.\nclass AngleSnapper {\n\n  constructor(gizmoLayer) {\n    // Polygon/Polyline being edited. We assume that it includes the vertex being moved.\n    this.poly = null;\n\n    // Index of the vertex in this.poly that is beging moved.\n    this.vIndex = -1;\n    this.loopIndex = -1;\n\n    // If an edge forms one of these angles with the previous one, we display the helper line and snap to the angle\n    this.snapAngles = [0, 45, 90, 135, 180, 225, 270, 315, 360];\n\n    // We consider an angle \"close to\" another one if they differ by this value or less.\n    this.snapAngleTolerance = 2; // in degrees\n\n    // Allow snapping to lines within x pixels.\n    this.snapRadius = 10;\n\n    this.gizmoLayer = gizmoLayer;\n    this.setGlobalManager(gizmoLayer.globalManager);\n\n    // reused tmp points\n    this.movedPoint = new THREE.Vector2(); // the vertex being moved\n    this.prevPoint = new THREE.Vector2(); // the vertex before movedPoint\n    this.prevPoint2 = new THREE.Vector2(); // the vertex before prevPoint\n\n    this.edgeDir = new THREE.Vector2(); // direction of new edge ending at movedPoint\n    this.alignAxis = new THREE.Vector2(); // direction that we align to: Either the direction of the previous edge or the x-axis\n\n    // Array of snapLines to align a vertex position with other edges\n    this.edgeSnapLines = [];\n\n    // SnapLines that contributed to last snapping call. Used to update the SnapLine gizmos.\n    this.snapLine1 = null;\n    this.snapLine2 = null;\n\n    // Optional: External line constraint. This is used if we already snapped to a line geometry and\n    //           want to combine the snap with angle snapping.\n    this.snapLineExt = null;\n\n    // Gizmos to display the lines considered for snapping\n    this.snapLineStyle = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Style({\n      lineColor: 'rgb(255, 0, 0)',\n      lineWidth: 1.0,\n      lineStyle: 10\n    });\n    this.snapLineGizmos = [];\n    this.snapLineGizmosUsed = 0;\n  }\n\n  onSetGlobalManager(globalManager) {\n    this.globalManager = globalManager;\n    this.snapLineGizmos.forEach((g) => g.setGloblaManager(globalManager));\n  }\n\n  acquireSnapLineGizmo() {\n    let gizmo = this.snapLineGizmos[this.snapLineGizmosUsed];\n    if (!gizmo) {\n      // Create new line gizmo\n      gizmo = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Polyline([], this.snapLineStyle);\n      gizmo.setGlobalManager(this.globalManager);\n      this.snapLineGizmos[this.snapLineGizmosUsed] = gizmo;\n    }\n    this.snapLineGizmosUsed++;\n    return gizmo;\n  }\n\n  clearSnappingGizmos() {\n    const removeGizmo = (g) => this.gizmoLayer.removeShape(g);\n    this.snapLineGizmos.forEach(removeGizmo);\n    this.snapLineGizmosUsed = 0;\n  }\n\n  // Configures snapping to align to edges of the given polygon/polyline\n  //  @param {Polygon|Polyline} poly   - shape being edited. Expected to include the vertex being moved.\n  //  @param {number}           vIndex - index into poly that marks the vertex that is moved and to which snapping should be applied.\n  //  @param {number}           loopIndex\n  startSnapping(poly, vIndex, loopIndex) {\n    this.poly = poly;\n    this.vIndex = vIndex;\n    this.loopIndex = loopIndex;\n\n    // precompute snapLines for alignment. These don't change while moving a vertex.\n    this.edgeSnapLines = findSnapLines(poly, vIndex, this.loopIndex);\n  }\n\n  stopSnapping() {\n\n    this.poly = null;\n    this.vIndex = -1;\n    this.loopIndex = -1;\n\n    // Discard any outdated results and hide gizmos\n    this.snapLine1 = null;\n    this.snapLine2 = null;\n    this.clearSnappingGizmos();\n  }\n\n  // Discard latest snapping results, but polygon, vIndex, and edge snapLines. This is used when temporarily hiding the SnapLines when\n  // snapping while snapping is bypassed.\n  clearSnappingResult() {\n    this.snapLine1 = null;\n    this.snapLine2 = null;\n  }\n\n  get active() {\n    return this.poly;\n  }\n\n  // Snap angles relative to previous edge: Return a snapLine if the edge being modified forms a snapAngle (e.g. 90 degrees) with the previous edge.\n  //  @param {Vector2} pMov - point to be snapped\n  //  @returns {null|SnapLine} Returns null if no SnapLine is within this.angleTolerance.\n  getPrevSnapLine(pMov) {\n\n    // Get vertices one and two indices before the moved one.\n    const pPrev = getPointMod(this.poly, this.vIndex - 1, this.loopIndex);\n    const pPrev2 = getPointMod(this.poly, this.vIndex - 2, this.loopIndex);\n\n    // Check angle between (pPrev, pMov) and its predecessor edge (pPrev2, pPrev)\n    const alignAxis = _Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.getEdgeDirection(pPrev2, pPrev);\n    return this.computeAngleSnapLine(pMov, pPrev, alignAxis);\n  }\n\n  // Snap angles relative to previous edge: Return a snapLine if the edge being modified forms a snapAngle (e.g. 90 degrees) with the next edge.\n  //  @param {Vector2} pMov - point to be snapped\n  //  @returns {null|SnapLine} Returns null if no SnapLine is within this.angleTolerance.\n  getNextSnapLine(pMov) {\n\n    // When moving one of the last two vertices of a polyline, there is actually no \"next edge\", because start and end\n    // vertex are not connected. Therefore, we skip snapping to \"next edge\" for this case.\n    const ignoreNextEdge = this.poly.isPolyline() && this.vIndex >= this.poly.getVertexCount(this.loopIndex) - 2;\n    if (ignoreNextEdge) {\n      return null;\n    }\n\n    const pNext = getPointMod(this.poly, this.vIndex + 1, this.loopIndex);\n    const pNext2 = getPointMod(this.poly, this.vIndex + 2, this.loopIndex);\n\n    // Snap to angle wrt. to next edge: (only for polygons)\n    //   Check angle between (pNext, pMov) and its successor edge (pNext, pNext2);\n    const alignAxis = _Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.getEdgeDirection(pNext, pNext2);\n    return this.computeAngleSnapLine(pMov, pNext, alignAxis);\n  }\n\n  // Given a new position in layer-coords to be assigned to the moved vertex, this function checks if the adjacent edges of the moved\n  // vertex are close to a snap angle. If so, the movedPoint is corrected to match the snap angle exactly.\n  //  @param {Vector2} pMov - Position to be snapped\n  //  @param {Object}  [lineConstraint] - Optional: External line-constraint {a,b}. If specified, we only allow snapping to\n  //                                                intersections with angle snapLines and the line (lineConstraint.a, lineConstraint.b).\n  snapToAngle(pMov, lineConstraint) {\n\n    // Reset the two lines that we consider for snapping.\n    this.snapLine1 = null;\n    this.snapLine2 = null;\n\n    // Create snapLine from external line constraint (if specified)\n    this.snapLineExt = lineConstraint && new SnapLine(lineConstraint.a, lineConstraint.b);\n\n    if (!this.active || this.poly.vertexCount <= 1) {\n      return;\n    }\n\n    // Get point before the moved one.\n    const pPrev = getPointMod(this.poly, this.vIndex - 1, this.loopIndex);\n\n    // get snapRadius in layer-coords. This is the maximum distance that we allow\n    // between mouse pos and the final snap position that we obtain by projecting\n    // to a SnapLine or by intersecting two SnapLines.\n    const snapRadiusLC = this.snapRadius * this.gizmoLayer.getUnitsPerPixel();\n\n    // If we just have a single edge, we can only snap to angles relative to x-axis\n    const isFirstEdge = this.poly.vertexCount == 2;\n    if (isFirstEdge) {\n      // Get closest angle-snap line relative to mainAxis (or null if no snapAngle is close enough)\n      const snapAxis = this.computeAngleSnapLine(pMov, pPrev, xAxis);\n\n      if (snapAxis && this.snapLineExt) {\n        // If an external line constraint is set, snapAxis can only be considered as a secondary snap.\n        // This means, we can only consider if it intersects with the costraint line and the intersection is close to pMov\n        this.snapLine1 = checkSecondSnapCandidate(snapAxis, null, this.snapLineExt, pMov, snapRadiusLC);\n      } else {\n        // No other constraints. Just use the snapAxis (or no axis at all if snapAxis is null)\n        this.snapLine1 = snapAxis;\n      }\n\n      snapToLines(pMov, this.snapLine1, this.snapLineExt);\n      return;\n    }\n\n    let prevSnapLine = this.getPrevSnapLine(pMov);\n    let nextSnapLine = this.getNextSnapLine(pMov);\n\n    // Filter to lines that are close enough to pMov\n    const snapLineUsable = (snapLine) => {\n\n      if (!snapLine) {\n        return false;\n      }\n\n      if (this.snapLineExt) {\n        // Consider line-constraint: Only accept snapLine if...\n        //  1. ...it intersects constraint line\n        //  2. ...intersection point is within snapRadius.\n        return Boolean(checkSecondSnapCandidate(snapLine, null, this.snapLineExt, pMov, snapRadiusLC));\n      }\n\n      // No constraint: Accept any snapLines within snapRadius\n      return snapLine.isUsable(pMov, snapRadiusLC);\n    };\n\n    let candidates = this.edgeSnapLines.filter(snapLineUsable);\n\n    // Reject prevSnapLine/nextSnapLine if they are not usable\n    prevSnapLine = snapLineUsable(prevSnapLine) && prevSnapLine;\n    nextSnapLine = snapLineUsable(nextSnapLine) && nextSnapLine;\n\n    // choose first snapLine\n    this.snapLine1 = prevSnapLine || nextSnapLine || candidates[0];\n\n    // Stop here if there is no snapping candidate at all\n    if (!this.snapLine1) {\n      return;\n    }\n\n    // If we have an external line constraint, we can only choose a single snapLine, because we already\n    // have to intersect it with the external constraint line.\n    if (this.snapLineExt) {\n      return snapToLines(pMov, this.snapLine1, this.snapLineExt);\n    }\n\n    // If prev and next edge allow angle snapping, check if we can snap to both\n    if (prevSnapLine && nextSnapLine) {\n      this.snapLine2 = checkSecondSnapCandidate(nextSnapLine, null, this.snapLine1, pMov, snapRadiusLC);\n    }\n\n    // If prevEdge and nextEdge already gave us 2 SnapLines, give these two preference. Otherwise,\n    // check if we can snap to another edge to be aligned with other edges.\n    if (!this.snapLine2) {\n      for (let i = 0; i < candidates.length; i++) {\n        let c = candidates[i];\n        this.snapLine2 = checkSecondSnapCandidate(c, this.snapLine2, this.snapLine1, pMov, snapRadiusLC);\n      }\n    }\n\n    // We selected one or two SnapLines. Now, use them to decide snapped position\n    return snapToLines(pMov, this.snapLine1, this.snapLine2);\n  }\n\n  isSnapped() {\n    return Boolean(this.snapLine1 || this.snapLine2);\n  }\n\n  updateSnapLineGizmos(snappedPos) {\n\n    // First, clear any outdated gizmos\n    this.clearSnappingGizmos();\n\n    if (!this.poly) {\n      return;\n    }\n\n    // Collect all snapLines that we want to display\n    //\n    // Note that we don't just want to indicate SnapLines that actively affected the position,\n    // but also the \"accidentally\" matched ones. E.g., if we snapped to a geometry intersection,\n    // the actual snapping was not affected by angle snapping, but the resulting position may still\n    // match with angle snapLines as well.\n    let snapLinesToShow = [];\n\n    // We consider the snapped position p to be \"on a snapLine L\" if the distance d(p,L) is within the tolerance below.\n    const tolerance = 0.0001;\n    const shouldBeShown = (sl) => sl && sl.isUsable(snappedPos, tolerance); // Decides whether a SnapLine should be displayed\n\n    // If we only have a single edge, angle snapping is only possible wrt. to main axes\n    const isFirstEdge = this.poly.vertexCount == 2;\n\n    // Collect SnapLines to display\n    if (isFirstEdge) {\n      // Just a single edge: Only snap if this first edge forms a snapping angle with x- or y-axis.\n      const pPrev = getPointMod(this.poly, this.vIndex - 1, this.loopIndex);\n      const snapAxis = this.computeAngleSnapLine(snappedPos, pPrev, xAxis);\n\n      // Display snapAxis if the p is on this line\n      if (snapAxis && shouldBeShown(snapAxis)) {\n        snapLinesToShow.push(snapAxis);\n      }\n    } else {\n      // Consider all edge snaplines that contain pSnappedPos\n      snapLinesToShow = this.edgeSnapLines.filter(shouldBeShown);\n\n      // Consider angles to previous and next edge\n      const prevSnapLine = this.getPrevSnapLine(snappedPos);\n      const nextSnapLine = this.getNextSnapLine(snappedPos);\n      shouldBeShown(prevSnapLine) && snapLinesToShow.push(prevSnapLine);\n      shouldBeShown(nextSnapLine) && snapLinesToShow.push(nextSnapLine);\n    }\n\n    // Eliminate duplicates: If a SnapLine is collinear with another one, displaying it would just cause artifacts.\n    // Note: This is a brute-force n^2 loop. The number of SnapLines to display is usually small, so that this shouldn't be a problem.\n    const isRelevant = (sl, index) => {\n      // Check if sl is a duplicate of any previous SnapLine\n      let isDuplicate = false;\n      for (let i = 0; i < index; i++) {\n        const sl2 = snapLinesToShow[i];\n        if (sl.isEqual(sl2, tolerance)) {\n          isDuplicate = true;\n          break;\n        }\n      }\n      return !isDuplicate;\n    };\n    snapLinesToShow = snapLinesToShow.filter(isRelevant);\n\n    // Choose SnapLineLength large enough to fill whole canvas\n    const canvas = this.gizmoLayer.viewer.canvas;\n    const diag = Math.sqrt(canvas.width * canvas.width + canvas.height * canvas.height);\n    const snapLineLength = this.gizmoLayer.getUnitsPerPixel() * diag;\n\n    // A SnapLine indicator is constructed as follows:\n    //  - It starts at the snapLine start point, which \"explains where the SnapLine comes from\".\n    //    This may be start/center/end of another edge.\n    //  - It should always point towards the moved vertex (note that an original edge normal may point away from the moved vertex)\n    //  - It is enlarged to overshoot pMov\n    const showSnapLine = (line, gizmo) => {\n      if (!line) {\n        return;\n      }\n\n      const a = line.a;\n\n      // Let line start at a, point towards dir, and be long enough to leave screen\n      gizmo.makeLine(\n        a.x - snapLineLength * line.dir.x,\n        a.y - snapLineLength * line.dir.y,\n        a.x + snapLineLength * line.dir.x,\n        a.y + snapLineLength * line.dir.y\n      );\n      this.gizmoLayer.addShape(gizmo);\n    };\n\n    // Add lineGizmo for each SnapLine to be displayed\n    for (let i = 0; i < snapLinesToShow.length; i++) {\n      const snapLine = snapLinesToShow[i];\n      const gizmo = this.acquireSnapLineGizmo();\n      showSnapLine(snapLine, gizmo);\n    }\n  }\n\n  dtor() {\n    this.clearSnapping();\n  }\n\n  // Checks if the angle between edge (pPrev, p) and alignment direction is close to a snapping angle.\n  // If so, it returns a SnapLine from pPrev towards the snapped direction, otherwise null.\n  //  @param {Vector2} p              - vertex being moved\n  //  @param {Vector2} pPrev          - vertex connected to p\n  //  @param {Vector2} alignAxis      - direction that we align to. Must be normalized.\n  computeAngleSnapLine(p, pPrev, alignAxis) {\n\n    // Don't try angle snapping with degenerated edges\n    if (_Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.edgeIsDegenerated(pPrev, p)) {\n      return null;\n    }\n\n    // get direction of new edge (ending at pMov)\n    const edgeDir = p.clone().sub(pPrev);\n\n    // Compute angle between new edge and alignment direction\n    const angle = THREE.Math.radToDeg(_Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.angleBetweenDirections(edgeDir, alignAxis));\n\n    // Check if angle matches with any index in snapAngles array\n    let snapIndex = -1;\n    for (let i = 0; i < this.snapAngles.length; i++) {\n      let snapAngle = this.snapAngles[i];\n\n      let dif = Math.abs(snapAngle - angle);\n      if (dif < this.snapAngleTolerance) {\n        snapIndex = i;\n        break;\n      }\n    }\n\n    // Stop here if no snapAngle is found\n    if (snapIndex == -1) {\n      return null;\n    }\n\n    // Rotate alignment axis by selected snapAngle\n    const snapAngle = THREE.Math.degToRad(this.snapAngles[snapIndex]);\n    const snapDir = _Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.rotateAround(alignAxis.clone(), snapAngle);\n\n    // scale snapLine direction to the same length as (pPrev, p)\n    const dist = pPrev.distanceTo(p);\n    const snapLineEnd = snapDir.multiplyScalar(dist).add(pPrev);\n\n    // Return snapline from pPrev pointing towards snapped direction\n    return new SnapLine(pPrev, snapLineEnd);\n  }\n}\n\nav.GlobalManagerMixin.call(AngleSnapper.prototype);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDNkYsU0FBUyxHQUFHSixLQUFLLENBQUM7TUFDckMsSUFBSUssR0FBRyxHQUFHLElBQUksQ0FBQ3BGLGtCQUFrQixFQUFFO1FBQy9Ca0YsU0FBUyxHQUFHL0IsQ0FBQztRQUNiO01BQ0o7SUFDSjs7SUFFQTtJQUNBLElBQUkrQixTQUFTLElBQUksQ0FBQyxDQUFDLEVBQUU7TUFDakIsT0FBTyxJQUFJO0lBQ2Y7O0lBRUE7SUFDQSxNQUFNQyxTQUFTLEdBQUdySCxLQUFLLENBQUN1QixJQUFJLENBQUNnRyxRQUFRLENBQUMsSUFBSSxDQUFDdEYsVUFBVSxDQUFDbUYsU0FBUyxDQUFDLENBQUM7SUFDakUsTUFBTUksT0FBTyxHQUFHNUosOENBQU0sQ0FBQzZKLFlBQVksQ0FBQ2hGLFNBQVMsQ0FBQ3hFLEtBQUssQ0FBQyxDQUFDLEVBQUVvSixTQUFTLENBQUM7O0lBRWpFO0lBQ0EsTUFBTUssSUFBSSxHQUFHekQsS0FBSyxDQUFDNUMsVUFBVSxDQUFDNUMsQ0FBQyxDQUFDO0lBQ2hDLE1BQU1rSixXQUFXLEdBQUdILE9BQU8sQ0FBQ0ksY0FBYyxDQUFDRixJQUFJLENBQUMsQ0FBQ2hILEdBQUcsQ0FBQ3VELEtBQUssQ0FBQzs7SUFFM0Q7SUFDQSxPQUFPLElBQUlwRyxRQUFRLENBQUNvRyxLQUFLLEVBQUUwRCxXQUFXLENBQUM7RUFDM0M7QUFDSjs7QUFFQS9GLEVBQUUsQ0FBQ2lHLGtCQUFrQixDQUFDQyxJQUFJLENBQUMvRixZQUFZLENBQUNnRyxTQUFTLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9FZGl0MkQvQW5nbGVTbmFwcGVyLmpzPzg2YmYiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgeyBQb2x5bGluZSwgU3R5bGUgfSBmcm9tICcuL0VkaXRTaGFwZXMuanMnO1xuaW1wb3J0IHsgTWF0aDJEIH0gZnJvbSAnLi9NYXRoMkQuanMnO1xuXG4vLyBBbmdsZVNuYXBwZXIgaXMgcmVzcG9uc2libGUgZm9yIHNuYXBwaW5nIGJhc2VkIG9uIGFuZ2xlcyBhbmQgYWxpZ25tZW50IG9uIGhvdmVyIHdoaWxlIGNob29zaW5nIHRoZSBwb3NpdGlvbiBvZiBhIHZlcnRleC5cbi8vXG4vLyBJZiBwTW92IGlzIHRoZSB2ZXJ0ZXggYmVpbmcgbW92ZWQsIHRoZSBzbmFwcGluZyBiZWhhdmlvciBpbmNsdWRlczpcbi8vXG4vLyAgMS4gQW5nbGUgdG8gcHJldmlvdXMgZWRnZTogU25hcCBpZiBlZGdlIGVuZGluZyBhdCBwTW92IGZvcm1zIGEgc25hcEFuZ2xlICgwLCA0NSwgOTAsLi4uKSB3aXRoIGl0cyBwcmVkZWNlc3NvciBlZGdlLlxuLy9cbi8vICAyLiBBbmdsZSB0byBuZXh0IGVkZ2U6IFNuYXAgaWYgdGhlIGVkZ2Ugc3RhcnRpbmcgYXQgcE1vdiBmb3JtcyBhIHNuYXBBbmdsZSB3aXRoIGl0cyBzdWNjZXNzb3IgZWRnZS5cbi8vXG4vLyAgMy4gQ29sbGluZWFyIEFsaWduOiBTbmFwIGlmIGZvciBwTW92IGlzIGNvbGxpbmVhciB3aXRoIGFueSAobm9uLWFkamFjZW50KSBlZGdlLlxuLy9cbi8vICA0LiBWZXJ0aWNhbCBBbGlnbjogU25hcCBpZiBwTW92IGlzIGNvbGxpbmVhciB3aXRoIHRoZSBlZGdlIG5vcm1hbCBhdCBzdGFydC9jZW50ZXIvZW5kIG9mIGFueSBub24tYWRqYWNlbnQgZWRnZS5cbi8vXG5cbi8vIEEgU25hcExpbmUgaXMgYSBsaW5lIHRoYXQgd2UgY29uc2lkZXIgZm9yIHNuYXBwaW5nLlxuY2xhc3MgU25hcExpbmUge1xuXG4gICAgY29uc3RydWN0b3IoYSwgYikge1xuXG4gICAgICAgIC8vIHN0YXJ0IGFuZCBlbmQgcG9pbnRcbiAgICAgICAgdGhpcy5hID0gYS5jbG9uZSgpO1xuICAgICAgICB0aGlzLmIgPSBiLmNsb25lKCk7XG5cbiAgICAgICAgLy8gbm9ybWFsaXplZCBlZGdlIGRpcmVjdGlvblxuICAgICAgICB0aGlzLmRpciA9IE1hdGgyRC5nZXRFZGdlRGlyZWN0aW9uKGEsIGIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBpbnRlcnNlY3Rpb24gd2l0aCBhbm90aGVyIFNuYXBMaW5lLiBJZiBmb3VuZCwgaW50ZXJzZWN0aW9uIHBvaW50IGlzIHdyaXR0ZW4gdG8gb3V0UG9pbnQuXG4gICAgLy8gQHJldHVybnMge2Jvb2x9IHRydWUgb24gc3VjY2Vzc1xuICAgIGludGVyc2VjdChsaW5lLCBvdXRQb2ludCkge1xuICAgICAgICByZXR1cm4gTWF0aDJELmludGVyc2VjdExpbmVzKHRoaXMuYSwgdGhpcy5kaXIsIGxpbmUuYSwgbGluZS5kaXIsIG91dFBvaW50KTtcbiAgICB9XG5cbiAgICAvLyBwcm9qZWN0IHBvaW50IHRvIFNuYXBMaW5lXG4gICAgc25hcFRvTGluZShwKSB7XG4gICAgICAgIE1hdGgyRC5wcm9qZWN0VG9MaW5lKHAsIHRoaXMuYSwgdGhpcy5kaXIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrcyBpZiBTbmFwTGluZSBpcyBjbG9zZSBlbm91Z2ggdG8gcCB0byBhbGxvdyBzbmFwcGluZy4gc25hcFJhZGl1cyBpcyBpbiBsYXllci1jb29yZHMuXG4gICAgaXNVc2FibGUocCwgc25hcFJhZGl1cykge1xuICAgICAgICByZXR1cm4gTWF0aDJELnBvaW50TGluZURpc3RhbmNlKHAsIHRoaXMuYSwgdGhpcy5kaXIpIDwgc25hcFJhZGl1cztcbiAgICB9XG5cbiAgICAvLyBDaGVja3MgaWYgYSBTbmFwTGluZSBpcyAoYXBwcm94LikgaWRlbnRpY2FsIHdpdGggYW5vdGhlciBvbmVcbiAgICBpc0VxdWFsKHNuYXBMaW5lLCBwcmVjaXNpb24pIHtcbiAgICAgICAgcmV0dXJuIE1hdGgyRC5jb2xsaW5lYXIodGhpcy5hLCB0aGlzLmRpciwgc25hcExpbmUuYSwgc25hcExpbmUuZGlyLCBwcmVjaXNpb24pO1xuICAgIH1cbn07XG5cbi8vIFNuYXAgcG9zaXRpb24gYmFzZWQgb24gMSBvciAyIFNuYXBMaW5lcy5cbi8vICBAcGFyYW0ge1ZlY3RvcjJ9ICBwb3MgICAgICAgICAtIEluaXRpYWwgcG9zaXRpb24gaW4gbGF5ZXIgY29vcmRzLiBNb2RpZmllZCBpbi1wbGFjZVxuLy8gIEBwYXJhbSB7U25hcExpbmV9IHNuYXBMaW5lMSAgIC0gRmlyc3QgbGluZSB0byBzbmFwIHRvXG4vLyAgQHBhcmFtIHtTbmFwTGluZX0gW3NuYXBMaW5lMl0gLSBJZiB0aGVyZSBhcmUgMiBTbmFwTGluZXMsIHdlIHNuYXAgdG8gdGhlIGludGVyc2VjdGlvbiBvZiBib3RoIGxpbmVzLlxuLy8gUHJlY29uZGl0aW9uczpcbi8vICAtIFNuYXBMaW5lMTogSXMgY2xvc2UgdG8gcG9zICh3cnQuIHRvIHNuYXAgdG9sZXJhbmNlKVxuLy8gIC0gU25hcExpbmUyOiBJZiBleGlzdGluZywgaXRzIGludGVyc2VjdGlvbiB3aXRoIFNuYXBMaW5lMSBpcyBjbG9zZSB0byB0aGUgcG9zaXRpb25cbmNvbnN0IHNuYXBUb0xpbmVzID0gKHBvcywgc25hcExpbmUxLCBzbmFwTGluZTIpID0+IHtcblxuICAgIC8vIE5vIHNuYXBsaW5lcyA9PiBrZWVwIG9yaWdpbmFsIHBvc1xuICAgIGlmICghc25hcExpbmUxICYmICFzbmFwTGluZTIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIG9ubHkgU25hcExpbmUxIGV4aXN0c1xuICAgIGlmICghc25hcExpbmUyKSB7XG4gICAgICAgIC8vIHByb2plY3QgcG9zIHRvIHNuYXBMaW5lMVxuICAgICAgICBzbmFwTGluZTEuc25hcFRvTGluZShwb3MpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWYgb25seSBzbmFwTGluZTIgZXhpc3RzXG4gICAgaWYgKCFzbmFwTGluZTEpIHtcbiAgICAgICAgLy8gcHJvamVjdCBwb3MgdG8gc25hcExpbmUyXG4gICAgICAgIHNuYXBMaW5lMi5zbmFwVG9MaW5lKHBvcyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTbmFwIHBvcyB0byBsaW5lIGludGVyc2VjdGlvbi5cbiAgICBzbmFwTGluZTEuaW50ZXJzZWN0KHNuYXBMaW5lMiwgcG9zKTtcbn07XG5cbi8vIEdldCBwb2ludCBpIHdpdGhpbiBhIHBvbHlnb24sIHdoZXJlYnkgaW5kaWNlcyBvdXRzaWRlIFswLCAuLi4sIHRoaXMucG9seS5sZW5ndGgtMV0gYXJlIGF1dG8tY29ycmVjdGVkIHVzaW5nIG1vZHVsby5cbi8vIEFjY2VwdHMgbmVnYXRpdmUgaW5kaWNlcyB1cCB0byAtdGhpcy5wb2x5Lmxlbmd0aC5cbmNvbnN0IGdldFBvaW50TW9kID0gKHBvbHksIGluZGV4LCBsb29wSW5kZXgpID0+IHtcbiAgICBjb25zdCB2ZXJ0ZXhDb3VudCA9IHBvbHkuZ2V0VmVydGV4Q291bnQobG9vcEluZGV4KTtcbiAgICBpbmRleCA9IChpbmRleCArIHZlcnRleENvdW50KSAlIHZlcnRleENvdW50O1xuICAgIHJldHVybiBwb2x5LmdldFBvaW50KGluZGV4LCBsb29wSW5kZXgpO1xufTtcblxuLy8gUmV0dXJucyBhbiBhcnJheSBvZiBTbmFwTGluZXMgdXNlZCB0byBhbGlnbiB3aXRoIGVhY2ggZWRnZSBvZiB0aGUgZ2l2ZW4gcG9seWdvbi5cbi8vICBAcGFyYW0ge1BvbHlnb259ICAgcG9seVxuLy8gIEBwYXJhbSB7dkluZGV4fSAgICB2SW5kZXggLSBpbmRleCBvZiB0aGUgdmVydGV4IGJlaW5nIG1vdmVkLiBXZSBleGNsdWRlIGVkZ2VzIGRpcmVjdGx5IGFkamFjZW50IHRvIHRoaXMgdmVydGV4LCBiZWNhdXNlIHRoZXkgYXJlIG5vdCBmaXhlZC5cbi8vICBAcGFyYW0ge2xvb3BJbmRleH0gbG9vcEluZGV4XG5jb25zdCBmaW5kU25hcExpbmVzID0gKHBvbHksIHZJbmRleCwgbG9vcEluZGV4KSA9PiB7XG5cbiAgICAvLyB0bXAgdmVjdG9yc1xuICAgIGxldCBub3JtYWwgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuICAgIGxldCBjZW50ZXIgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuICAgIGxldCBwRW5kICAgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXG4gICAgbGV0IHNuYXBMaW5lcyA9IFtdO1xuXG4gICAgLy8gR2l2ZW4gYW4gZWRnZSBvZiBhIHBvbHlnb24vcG9seWxpbmUsIHRoaXMgZnVuY3Rpb24gY29sbGVjdHMgc25hcHBpbmcgbGluZXMgZm9yIGFsaWdubWVudCB3aXRoIHRoaXMgdGhpcyBlZGdlLlxuICAgIC8vIGFuZCBhZGRzIGl0IHRvIHNuYXBMaW5lcy5cbiAgICAvLyBHZW5lcmF0ZWQgc25hcExpbmVzIGFyZTpcbiAgICAvLyAgLSBMaW5lIHNwYW5uZWQgYnkgdGhlIGVkZ2VcbiAgICAvLyAgLSBPcnRob2dvbmFsIGxpbmVzIGF0IHN0YXJ0LCBjZW50ZXIsIGFuZCBlbmQgcG9pbnQuXG4gICAgY29uc3QgYWRkRWRnZVNuYXBMaW5lcyA9IChhLCBiKSA9PiB7XG5cbiAgICAgICAgLy8gYWRkIGxpbmUgc3Bhbm5lZCBieSB0aGUgZWRnZVxuICAgICAgICBzbmFwTGluZXMucHVzaChuZXcgU25hcExpbmUoYSwgYikpO1xuXG4gICAgICAgIC8vIGdldCBlZGdlIG5vcm1hbCBhbmQgY2VudGVyIHBvaW50XG4gICAgICAgIG5vcm1hbCA9IE1hdGgyRC50dXJuTGVmdChNYXRoMkQuZ2V0RWRnZURpcmVjdGlvbihhLCBiLCBub3JtYWwpKTtcbiAgICAgICAgY2VudGVyID0gTWF0aDJELmdldEVkZ2VDZW50ZXIoYSwgYiwgY2VudGVyKTtcblxuICAgICAgICAvLyBhZGQgb3J0aG9nb25hbCBsaW5lIGFkZCBlZGdlIHN0YXJ0XG4gICAgICAgIHBFbmQuY29weShhKS5hZGQobm9ybWFsKTsgLy8gcEVuZCA9IHAxICsgbm9ybWFsXG4gICAgICAgIHNuYXBMaW5lcy5wdXNoKG5ldyBTbmFwTGluZShhLCBwRW5kKSk7XG5cbiAgICAgICAgLy8gYWRkIG9ydGhvZ29uYWwgbGluZSBhdCBlZGdlIGNlbnRlclxuICAgICAgICBwRW5kLmNvcHkoY2VudGVyKS5hZGQobm9ybWFsKTsgLy8gcEVuZCA9IGNlbnRlciArIG5vcm1hbFxuICAgICAgICBzbmFwTGluZXMucHVzaChuZXcgU25hcExpbmUoY2VudGVyLCBwRW5kKSk7XG5cbiAgICAgICAgLy8gYWRkIG9ydGhvZ29uYWwgbGluZSBhdCBlZGdlIGVuZFxuICAgICAgICBwRW5kLmNvcHkoYikuYWRkKG5vcm1hbCk7IC8vIHBFbmQgPSBwMiArIG5vcm1hbFxuICAgICAgICBzbmFwTGluZXMucHVzaChuZXcgU25hcExpbmUoYiwgcEVuZCkpO1xuICAgIH07XG5cbiAgICBmb3IgKGxldCBsPTA7IGw8cG9seS5sb29wQ291bnQ7IGwrKykge1xuICAgICAgICBwb2x5LmVudW1FZGdlcyggKGEsIGIsIGlhLCBpYikgPT4ge1xuXG4gICAgICAgICAgICAvLyBFeGNsdWRlIGVkZ2VzIGNvbnRhaW5pbmcgdGhlIG1vdmVkIHZlcnRleDogVGhlc2UgZWRnZXMgYXJlIG5vdCBmaXhlZCB5ZXQgYW5kIHNob3VsZCBub3RcbiAgICAgICAgICAgIC8vIGJlIHVzZWQgZm9yIGFsaWdubWVudC5cbiAgICAgICAgICAgIGlmIChsID09PSBsb29wSW5kZXggJiYgKGlhID09PSB2SW5kZXggfHwgaWIgPT09IHZJbmRleCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNraXAgZWRnZSBpZiBkZWdlbmVyYXRlXG4gICAgICAgICAgICBpZiAoTWF0aDJELmVkZ2VJc0RlZ2VuZXJhdGVkKGEsIGIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhZGRFZGdlU25hcExpbmVzKGEsIGIpO1xuICAgICAgICB9LCBsKTtcbiAgICB9XG4gICAgcmV0dXJuIHNuYXBMaW5lcztcbn07XG5cbi8vIENoZWNrcyBpZiB0aGUgZ2l2ZW4gU25hcExpbmUgY2FuZGlkYXRlIGlzIHN1aXRhYmxlIHRvIGJlIHVzZWQgLSBhc3N1bWluZyB0aGF0IGFub3RoZXIgc25hcExpbmUxIHdhcyBhbHJlYWR5IGNob3Nlbi5cbi8vIEEgY2FuZGlkYXRlIGlzIG9ubHkgc3VpdGFibGUgaWYuLi5cbi8vICAxLiBUaGUgaW50ZXJzZWN0aW9uIHdpdGggc25hcExpbmUxIGlzIHdpdGhpbiBzbmFwcGluZyB0b2xlcmFuY2Vcbi8vICAyLiBUaGUgYW5nbGUgZm9ybWVkIHdpdGggc25hcExpbmUxIGlzIGFzIGNsb3NlciB0byA5MMKwIHRoYW4gYWxsIG90aGVyIGNhbmRpZGF0ZXMuIFRoaXMgbWFrZXMgc3VyZSB0aGF0IHdlIHJhdGhlclxuLy8gICAgIHNuYXAgdG8gb3J0aG9nb25hbCBTbmFwTGluZXMgdGhhbiB0cnlpbmcgdG8gc25hcCB0byB0d28gbmVhcmx5IHBhcmFsbGVsIG9uZXMuXG4vL1xuLy8gIEBwYXJhbSB7U25hcExpbmV9IGNhbmRpZGF0ZSAgICAgICAtIFNuYXBMaW5lIGNhbmRpZGF0ZXMgdG8gYmUgY29tcGFyZWRcbi8vICBAcGFyYW0ge1NuYXBMaW5lfSBbYmVzdENhbmRpZGF0ZV0gLSBCZXN0IGNhbmRpZGF0ZSBmb3VuZCBzbyBmYXIgKG1heSBiZSBudWxsKVxuLy8gIEBwYXJhbSB7U25hcExpbmV9IHNuYXBMaW5lMSAgICAgICAtIEZpcnN0IFNuYXBMaW5lIHRoYXQgaGFzIGFscmVhZHkgYmVlbiBjaG9zZW4gdG8gc25hcCB0by5cbi8vICBAcGFyYW0ge1ZlY3RvcjJ9ICBwb3MgICAgICAgICAgICAgLSBwb3NpdGlvbiB0byBiZSBzbmFwcGVkXG4vLyAgQHBhcmFtIHtudW1iZXJ9ICAgc25hcFJhZGl1cyAgICAgIC0gaW4gbGF5ZXIgY29vcmRzXG4vLyAgQHJldHVybnMge1NuYXBMaW5lfSBSZXR1cm5zIHRoZSBiZXN0IGNhbmRpZGF0ZSAtIGVpdGhlciBiZXN0Q2FuZGlkYXRlIG9yIHNuYXBMaW5lQ2FuZGlkYXRlXG5jb25zdCBjaGVja1NlY29uZFNuYXBDYW5kaWRhdGUgPSAoY2FuZGlkYXRlLCBiZXN0Q2FuZGlkYXRlLCBzbmFwTGluZTEsIHBvcywgc25hcFJhZGl1cykgPT4ge1xuXG4gICAgLy8gSWYgY2FuZGlkYXRlIGRvZXMgbm90IGludGVyc2VjdCBzbmFwTGluZTEsIHdlIGNhbm5vdCB1c2UgaXQuXG4gICAgY29uc3QgcEludGVyc2VjdCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gICAgaWYgKCFzbmFwTGluZTEuaW50ZXJzZWN0KGNhbmRpZGF0ZSwgcEludGVyc2VjdCkpIHtcbiAgICAgICAgcmV0dXJuIGJlc3RDYW5kaWRhdGU7XG4gICAgfVxuXG4gICAgLy8gSWYgaW50ZXJzZWN0aW9uIHBvaW50IGlzIG91dHNpZGUgc25hcFJhZGl1cywgZGlzY2FyZCBjYW5kaWRhdGVcbiAgICBpZiAocEludGVyc2VjdC5kaXN0YW5jZVRvKHBvcykgPiBzbmFwUmFkaXVzKSB7XG4gICAgICAgIHJldHVybiBiZXN0Q2FuZGlkYXRlO1xuICAgIH1cblxuICAgIC8vIElmIHRoZXJlIGlzIG5vIGNvbXBldGl0b3IsIHRoZSBjYW5kaWRhdGUgbWFkZSBpdC5cbiAgICBpZiAoIWJlc3RDYW5kaWRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayB3aGljaCBvZiB0aGUgY2FuZGlkYXRlcyBpcyBcImxlc3MgcGFyYWxsZWxcIiB0byBzbmFwTGluZTFcbiAgICBjb25zdCBkcDEgPSBNYXRoLmFicyhzbmFwTGluZTEuZGlyLmRvdChjYW5kaWRhdGUuZGlyKSk7XG4gICAgY29uc3QgZHAyID0gTWF0aC5hYnMoc25hcExpbmUxLmRpci5kb3QoYmVzdENhbmRpZGF0ZS5kaXIpKTtcbiAgICByZXR1cm4gZHAxID4gZHAyID8gY2FuZGlkYXRlIDogYmVzdENhbmRpZGF0ZTtcbn07XG5cbmNvbnN0IHhBeGlzID0gbmV3IFRIUkVFLlZlY3RvcjIoMSwgMCk7XG5cbmNvbnN0IGF2ID0gQXV0b2Rlc2suVmlld2luZztcbi8vIEFuZ2xlU25hcHBlciBoZWxwcyB0byBkcmF3IHJpZ2h0IGFuZ2xlcywgcGFyYWxsZWwgbGluZXMgZXRjLlxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQW5nbGVTbmFwcGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKGdpem1vTGF5ZXIpIHtcbiAgICAgICAgLy8gUG9seWdvbi9Qb2x5bGluZSBiZWluZyBlZGl0ZWQuIFdlIGFzc3VtZSB0aGF0IGl0IGluY2x1ZGVzIHRoZSB2ZXJ0ZXggYmVpbmcgbW92ZWQuXG4gICAgICAgIHRoaXMucG9seSA9IG51bGw7XG5cbiAgICAgICAgLy8gSW5kZXggb2YgdGhlIHZlcnRleCBpbiB0aGlzLnBvbHkgdGhhdCBpcyBiZWdpbmcgbW92ZWQuXG4gICAgICAgIHRoaXMudkluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMubG9vcEluZGV4ID0gLTE7XG5cbiAgICAgICAgLy8gSWYgYW4gZWRnZSBmb3JtcyBvbmUgb2YgdGhlc2UgYW5nbGVzIHdpdGggdGhlIHByZXZpb3VzIG9uZSwgd2UgZGlzcGxheSB0aGUgaGVscGVyIGxpbmUgYW5kIHNuYXAgdG8gdGhlIGFuZ2xlXG4gICAgICAgIHRoaXMuc25hcEFuZ2xlcyA9IFswLCA0NSwgOTAsIDEzNSwgMTgwLCAyMjUsIDI3MCwgMzE1LCAzNjBdO1xuXG4gICAgICAgIC8vIFdlIGNvbnNpZGVyIGFuIGFuZ2xlIFwiY2xvc2UgdG9cIiBhbm90aGVyIG9uZSBpZiB0aGV5IGRpZmZlciBieSB0aGlzIHZhbHVlIG9yIGxlc3MuXG4gICAgICAgIHRoaXMuc25hcEFuZ2xlVG9sZXJhbmNlID0gMjsgLy8gaW4gZGVncmVlc1xuXG4gICAgICAgIC8vIEFsbG93IHNuYXBwaW5nIHRvIGxpbmVzIHdpdGhpbiB4IHBpeGVscy5cbiAgICAgICAgdGhpcy5zbmFwUmFkaXVzID0gMTA7XG5cbiAgICAgICAgdGhpcy5naXptb0xheWVyID0gZ2l6bW9MYXllcjtcbiAgICAgICAgdGhpcy5zZXRHbG9iYWxNYW5hZ2VyKGdpem1vTGF5ZXIuZ2xvYmFsTWFuYWdlcik7XG5cbiAgICAgICAgLy8gcmV1c2VkIHRtcCBwb2ludHNcbiAgICAgICAgdGhpcy5tb3ZlZFBvaW50ID0gbmV3IFRIUkVFLlZlY3RvcjIoKTsgLy8gdGhlIHZlcnRleCBiZWluZyBtb3ZlZFxuICAgICAgICB0aGlzLnByZXZQb2ludCAgPSBuZXcgVEhSRUUuVmVjdG9yMigpOyAvLyB0aGUgdmVydGV4IGJlZm9yZSBtb3ZlZFBvaW50XG4gICAgICAgIHRoaXMucHJldlBvaW50MiA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7IC8vIHRoZSB2ZXJ0ZXggYmVmb3JlIHByZXZQb2ludFxuXG4gICAgICAgIHRoaXMuZWRnZURpciAgICA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7IC8vIGRpcmVjdGlvbiBvZiBuZXcgZWRnZSBlbmRpbmcgYXQgbW92ZWRQb2ludFxuICAgICAgICB0aGlzLmFsaWduQXhpcyAgPSBuZXcgVEhSRUUuVmVjdG9yMigpOyAvLyBkaXJlY3Rpb24gdGhhdCB3ZSBhbGlnbiB0bzogRWl0aGVyIHRoZSBkaXJlY3Rpb24gb2YgdGhlIHByZXZpb3VzIGVkZ2Ugb3IgdGhlIHgtYXhpc1xuXG4gICAgICAgIC8vIEFycmF5IG9mIHNuYXBMaW5lcyB0byBhbGlnbiBhIHZlcnRleCBwb3NpdGlvbiB3aXRoIG90aGVyIGVkZ2VzXG4gICAgICAgIHRoaXMuZWRnZVNuYXBMaW5lcyA9IFtdO1xuXG4gICAgICAgIC8vIFNuYXBMaW5lcyB0aGF0IGNvbnRyaWJ1dGVkIHRvIGxhc3Qgc25hcHBpbmcgY2FsbC4gVXNlZCB0byB1cGRhdGUgdGhlIFNuYXBMaW5lIGdpem1vcy5cbiAgICAgICAgdGhpcy5zbmFwTGluZTEgPSBudWxsO1xuICAgICAgICB0aGlzLnNuYXBMaW5lMiA9IG51bGw7XG5cbiAgICAgICAgLy8gT3B0aW9uYWw6IEV4dGVybmFsIGxpbmUgY29uc3RyYWludC4gVGhpcyBpcyB1c2VkIGlmIHdlIGFscmVhZHkgc25hcHBlZCB0byBhIGxpbmUgZ2VvbWV0cnkgYW5kXG4gICAgICAgIC8vICAgICAgICAgICB3YW50IHRvIGNvbWJpbmUgdGhlIHNuYXAgd2l0aCBhbmdsZSBzbmFwcGluZy5cbiAgICAgICAgdGhpcy5zbmFwTGluZUV4dCA9IG51bGw7XG5cbiAgICAgICAgLy8gR2l6bW9zIHRvIGRpc3BsYXkgdGhlIGxpbmVzIGNvbnNpZGVyZWQgZm9yIHNuYXBwaW5nXG4gICAgICAgIHRoaXMuc25hcExpbmVTdHlsZSA9IG5ldyBTdHlsZSh7XG4gICAgICAgICAgICBsaW5lQ29sb3I6ICdyZ2IoMjU1LCAwLCAwKScsXG4gICAgICAgICAgICBsaW5lV2lkdGg6IDEuMCxcbiAgICAgICAgICAgIGxpbmVTdHlsZTogMTBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc25hcExpbmVHaXptb3MgPSBbXTtcbiAgICAgICAgdGhpcy5zbmFwTGluZUdpem1vc1VzZWQgPSAwO1xuICAgIH1cblxuICAgIG9uU2V0R2xvYmFsTWFuYWdlcihnbG9iYWxNYW5hZ2VyKSB7XG4gICAgICAgIHRoaXMuZ2xvYmFsTWFuYWdlciA9IGdsb2JhbE1hbmFnZXI7XG4gICAgICAgIHRoaXMuc25hcExpbmVHaXptb3MuZm9yRWFjaChnID0+IGcuc2V0R2xvYmxhTWFuYWdlcihnbG9iYWxNYW5hZ2VyKSk7XG4gICAgfVxuXG4gICAgYWNxdWlyZVNuYXBMaW5lR2l6bW8oKSB7XG4gICAgICAgIGxldCBnaXptbyA9IHRoaXMuc25hcExpbmVHaXptb3NbdGhpcy5zbmFwTGluZUdpem1vc1VzZWRdO1xuICAgICAgICBpZiAoIWdpem1vKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgbmV3IGxpbmUgZ2l6bW9cbiAgICAgICAgICAgIGdpem1vID0gbmV3IFBvbHlsaW5lKFtdLCB0aGlzLnNuYXBMaW5lU3R5bGUpO1xuICAgICAgICAgICAgZ2l6bW8uc2V0R2xvYmFsTWFuYWdlcih0aGlzLmdsb2JhbE1hbmFnZXIpO1xuICAgICAgICAgICAgdGhpcy5zbmFwTGluZUdpem1vc1t0aGlzLnNuYXBMaW5lR2l6bW9zVXNlZF0gPSBnaXptbztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNuYXBMaW5lR2l6bW9zVXNlZCsrO1xuICAgICAgICByZXR1cm4gZ2l6bW87XG4gICAgfVxuXG4gICAgY2xlYXJTbmFwcGluZ0dpem1vcygpIHtcbiAgICAgICAgY29uc3QgcmVtb3ZlR2l6bW8gPSBnID0+IHRoaXMuZ2l6bW9MYXllci5yZW1vdmVTaGFwZShnKTtcbiAgICAgICAgdGhpcy5zbmFwTGluZUdpem1vcy5mb3JFYWNoKHJlbW92ZUdpem1vKTtcbiAgICAgICAgdGhpcy5zbmFwTGluZUdpem1vc1VzZWQgPSAwO1xuICAgIH1cblxuICAgIC8vIENvbmZpZ3VyZXMgc25hcHBpbmcgdG8gYWxpZ24gdG8gZWRnZXMgb2YgdGhlIGdpdmVuIHBvbHlnb24vcG9seWxpbmVcbiAgICAvLyAgQHBhcmFtIHtQb2x5Z29ufFBvbHlsaW5lfSBwb2x5ICAgLSBzaGFwZSBiZWluZyBlZGl0ZWQuIEV4cGVjdGVkIHRvIGluY2x1ZGUgdGhlIHZlcnRleCBiZWluZyBtb3ZlZC5cbiAgICAvLyAgQHBhcmFtIHtudW1iZXJ9ICAgICAgICAgICB2SW5kZXggLSBpbmRleCBpbnRvIHBvbHkgdGhhdCBtYXJrcyB0aGUgdmVydGV4IHRoYXQgaXMgbW92ZWQgYW5kIHRvIHdoaWNoIHNuYXBwaW5nIHNob3VsZCBiZSBhcHBsaWVkLlxuICAgIC8vICBAcGFyYW0ge251bWJlcn0gICAgICAgICAgIGxvb3BJbmRleFxuICAgIHN0YXJ0U25hcHBpbmcocG9seSwgdkluZGV4LCBsb29wSW5kZXgpIHtcbiAgICAgICAgdGhpcy5wb2x5ID0gcG9seTtcbiAgICAgICAgdGhpcy52SW5kZXggPSB2SW5kZXg7XG4gICAgICAgIHRoaXMubG9vcEluZGV4ID0gbG9vcEluZGV4O1xuXG4gICAgICAgIC8vIHByZWNvbXB1dGUgc25hcExpbmVzIGZvciBhbGlnbm1lbnQuIFRoZXNlIGRvbid0IGNoYW5nZSB3aGlsZSBtb3ZpbmcgYSB2ZXJ0ZXguXG4gICAgICAgIHRoaXMuZWRnZVNuYXBMaW5lcyA9IGZpbmRTbmFwTGluZXMocG9seSwgdkluZGV4LCB0aGlzLmxvb3BJbmRleCk7XG4gICAgfVxuXG4gICAgc3RvcFNuYXBwaW5nKCkge1xuXG4gICAgICAgIHRoaXMucG9seSA9IG51bGw7XG4gICAgICAgIHRoaXMudkluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMubG9vcEluZGV4ID0gLTE7XG5cbiAgICAgICAgLy8gRGlzY2FyZCBhbnkgb3V0ZGF0ZWQgcmVzdWx0cyBhbmQgaGlkZSBnaXptb3NcbiAgICAgICAgdGhpcy5zbmFwTGluZTEgPSBudWxsO1xuICAgICAgICB0aGlzLnNuYXBMaW5lMiA9IG51bGw7XG4gICAgICAgIHRoaXMuY2xlYXJTbmFwcGluZ0dpem1vcygpO1xuICAgIH1cblxuICAgIC8vIERpc2NhcmQgbGF0ZXN0IHNuYXBwaW5nIHJlc3VsdHMsIGJ1dCBwb2x5Z29uLCB2SW5kZXgsIGFuZCBlZGdlIHNuYXBMaW5lcy4gVGhpcyBpcyB1c2VkIHdoZW4gdGVtcG9yYXJpbHkgaGlkaW5nIHRoZSBTbmFwTGluZXMgd2hlblxuICAgIC8vIHNuYXBwaW5nIHdoaWxlIHNuYXBwaW5nIGlzIGJ5cGFzc2VkLlxuICAgIGNsZWFyU25hcHBpbmdSZXN1bHQoKSB7XG4gICAgICAgIHRoaXMuc25hcExpbmUxID0gbnVsbDtcbiAgICAgICAgdGhpcy5zbmFwTGluZTIgPSBudWxsO1xuICAgIH1cblxuICAgIGdldCBhY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvbHk7XG4gICAgfVxuXG4gICAgLy8gU25hcCBhbmdsZXMgcmVsYXRpdmUgdG8gcHJldmlvdXMgZWRnZTogUmV0dXJuIGEgc25hcExpbmUgaWYgdGhlIGVkZ2UgYmVpbmcgbW9kaWZpZWQgZm9ybXMgYSBzbmFwQW5nbGUgKGUuZy4gOTAgZGVncmVlcykgd2l0aCB0aGUgcHJldmlvdXMgZWRnZS5cbiAgICAvLyAgQHBhcmFtIHtWZWN0b3IyfSBwTW92IC0gcG9pbnQgdG8gYmUgc25hcHBlZFxuICAgIC8vICBAcmV0dXJucyB7bnVsbHxTbmFwTGluZX0gUmV0dXJucyBudWxsIGlmIG5vIFNuYXBMaW5lIGlzIHdpdGhpbiB0aGlzLmFuZ2xlVG9sZXJhbmNlLlxuICAgIGdldFByZXZTbmFwTGluZShwTW92KSB7XG5cbiAgICAgICAgLy8gR2V0IHZlcnRpY2VzIG9uZSBhbmQgdHdvIGluZGljZXMgYmVmb3JlIHRoZSBtb3ZlZCBvbmUuXG4gICAgICAgIGNvbnN0IHBQcmV2ICA9IGdldFBvaW50TW9kKHRoaXMucG9seSwgdGhpcy52SW5kZXggLSAxLCB0aGlzLmxvb3BJbmRleCk7XG4gICAgICAgIGNvbnN0IHBQcmV2MiA9IGdldFBvaW50TW9kKHRoaXMucG9seSwgdGhpcy52SW5kZXggLSAyLCB0aGlzLmxvb3BJbmRleCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgYW5nbGUgYmV0d2VlbiAocFByZXYsIHBNb3YpIGFuZCBpdHMgcHJlZGVjZXNzb3IgZWRnZSAocFByZXYyLCBwUHJldilcbiAgICAgICAgY29uc3QgYWxpZ25BeGlzID0gTWF0aDJELmdldEVkZ2VEaXJlY3Rpb24ocFByZXYyLCBwUHJldik7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVBbmdsZVNuYXBMaW5lKHBNb3YsIHBQcmV2LCBhbGlnbkF4aXMpO1xuICAgIH1cblxuICAgIC8vIFNuYXAgYW5nbGVzIHJlbGF0aXZlIHRvIHByZXZpb3VzIGVkZ2U6IFJldHVybiBhIHNuYXBMaW5lIGlmIHRoZSBlZGdlIGJlaW5nIG1vZGlmaWVkIGZvcm1zIGEgc25hcEFuZ2xlIChlLmcuIDkwIGRlZ3JlZXMpIHdpdGggdGhlIG5leHQgZWRnZS5cbiAgICAvLyAgQHBhcmFtIHtWZWN0b3IyfSBwTW92IC0gcG9pbnQgdG8gYmUgc25hcHBlZFxuICAgIC8vICBAcmV0dXJucyB7bnVsbHxTbmFwTGluZX0gUmV0dXJucyBudWxsIGlmIG5vIFNuYXBMaW5lIGlzIHdpdGhpbiB0aGlzLmFuZ2xlVG9sZXJhbmNlLlxuICAgIGdldE5leHRTbmFwTGluZShwTW92KSB7XG5cbiAgICAgICAgLy8gV2hlbiBtb3Zpbmcgb25lIG9mIHRoZSBsYXN0IHR3byB2ZXJ0aWNlcyBvZiBhIHBvbHlsaW5lLCB0aGVyZSBpcyBhY3R1YWxseSBubyBcIm5leHQgZWRnZVwiLCBiZWNhdXNlIHN0YXJ0IGFuZCBlbmRcbiAgICAgICAgLy8gdmVydGV4IGFyZSBub3QgY29ubmVjdGVkLiBUaGVyZWZvcmUsIHdlIHNraXAgc25hcHBpbmcgdG8gXCJuZXh0IGVkZ2VcIiBmb3IgdGhpcyBjYXNlLlxuICAgICAgICBjb25zdCBpZ25vcmVOZXh0RWRnZSA9IHRoaXMucG9seS5pc1BvbHlsaW5lKCkgJiYgKHRoaXMudkluZGV4ID49IHRoaXMucG9seS5nZXRWZXJ0ZXhDb3VudCh0aGlzLmxvb3BJbmRleCkgLSAyKTtcbiAgICAgICAgaWYgKGlnbm9yZU5leHRFZGdlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBOZXh0ICA9IGdldFBvaW50TW9kKHRoaXMucG9seSwgdGhpcy52SW5kZXggKyAxLCB0aGlzLmxvb3BJbmRleCk7XG4gICAgICAgIGNvbnN0IHBOZXh0MiA9IGdldFBvaW50TW9kKHRoaXMucG9seSwgdGhpcy52SW5kZXggKyAyLCB0aGlzLmxvb3BJbmRleCk7XG5cbiAgICAgICAgLy8gU25hcCB0byBhbmdsZSB3cnQuIHRvIG5leHQgZWRnZTogKG9ubHkgZm9yIHBvbHlnb25zKVxuICAgICAgICAvLyAgIENoZWNrIGFuZ2xlIGJldHdlZW4gKHBOZXh0LCBwTW92KSBhbmQgaXRzIHN1Y2Nlc3NvciBlZGdlIChwTmV4dCwgcE5leHQyKTtcbiAgICAgICAgY29uc3QgYWxpZ25BeGlzID0gTWF0aDJELmdldEVkZ2VEaXJlY3Rpb24ocE5leHQsIHBOZXh0Mik7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVBbmdsZVNuYXBMaW5lKHBNb3YsIHBOZXh0LCBhbGlnbkF4aXMpO1xuICAgIH1cblxuICAgIC8vIEdpdmVuIGEgbmV3IHBvc2l0aW9uIGluIGxheWVyLWNvb3JkcyB0byBiZSBhc3NpZ25lZCB0byB0aGUgbW92ZWQgdmVydGV4LCB0aGlzIGZ1bmN0aW9uIGNoZWNrcyBpZiB0aGUgYWRqYWNlbnQgZWRnZXMgb2YgdGhlIG1vdmVkXG4gICAgLy8gdmVydGV4IGFyZSBjbG9zZSB0byBhIHNuYXAgYW5nbGUuIElmIHNvLCB0aGUgbW92ZWRQb2ludCBpcyBjb3JyZWN0ZWQgdG8gbWF0Y2ggdGhlIHNuYXAgYW5nbGUgZXhhY3RseS5cbiAgICAvLyAgQHBhcmFtIHtWZWN0b3IyfSBwTW92IC0gUG9zaXRpb24gdG8gYmUgc25hcHBlZFxuICAgIC8vICBAcGFyYW0ge09iamVjdH0gIFtsaW5lQ29uc3RyYWludF0gLSBPcHRpb25hbDogRXh0ZXJuYWwgbGluZS1jb25zdHJhaW50IHthLGJ9LiBJZiBzcGVjaWZpZWQsIHdlIG9ubHkgYWxsb3cgc25hcHBpbmcgdG9cbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVyc2VjdGlvbnMgd2l0aCBhbmdsZSBzbmFwTGluZXMgYW5kIHRoZSBsaW5lIChsaW5lQ29uc3RyYWludC5hLCBsaW5lQ29uc3RyYWludC5iKS5cbiAgICBzbmFwVG9BbmdsZShwTW92LCBsaW5lQ29uc3RyYWludCkge1xuXG4gICAgICAgIC8vIFJlc2V0IHRoZSB0d28gbGluZXMgdGhhdCB3ZSBjb25zaWRlciBmb3Igc25hcHBpbmcuXG4gICAgICAgIHRoaXMuc25hcExpbmUxID0gbnVsbDtcbiAgICAgICAgdGhpcy5zbmFwTGluZTIgPSBudWxsO1xuXG4gICAgICAgIC8vIENyZWF0ZSBzbmFwTGluZSBmcm9tIGV4dGVybmFsIGxpbmUgY29uc3RyYWludCAoaWYgc3BlY2lmaWVkKVxuICAgICAgICB0aGlzLnNuYXBMaW5lRXh0ID0gbGluZUNvbnN0cmFpbnQgJiYgbmV3IFNuYXBMaW5lKGxpbmVDb25zdHJhaW50LmEsIGxpbmVDb25zdHJhaW50LmIpO1xuXG4gICAgICAgIGlmICghdGhpcy5hY3RpdmUgfHwgdGhpcy5wb2x5LnZlcnRleENvdW50IDw9IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBwb2ludCBiZWZvcmUgdGhlIG1vdmVkIG9uZS5cbiAgICAgICAgY29uc3QgcFByZXYgPSBnZXRQb2ludE1vZCh0aGlzLnBvbHksIHRoaXMudkluZGV4IC0gMSwgdGhpcy5sb29wSW5kZXgpO1xuXG4gICAgICAgIC8vIGdldCBzbmFwUmFkaXVzIGluIGxheWVyLWNvb3Jkcy4gVGhpcyBpcyB0aGUgbWF4aW11bSBkaXN0YW5jZSB0aGF0IHdlIGFsbG93XG4gICAgICAgIC8vIGJldHdlZW4gbW91c2UgcG9zIGFuZCB0aGUgZmluYWwgc25hcCBwb3NpdGlvbiB0aGF0IHdlIG9idGFpbiBieSBwcm9qZWN0aW5nXG4gICAgICAgIC8vIHRvIGEgU25hcExpbmUgb3IgYnkgaW50ZXJzZWN0aW5nIHR3byBTbmFwTGluZXMuXG4gICAgICAgIGNvbnN0IHNuYXBSYWRpdXNMQyA9IHRoaXMuc25hcFJhZGl1cyAqIHRoaXMuZ2l6bW9MYXllci5nZXRVbml0c1BlclBpeGVsKCk7XG5cbiAgICAgICAgLy8gSWYgd2UganVzdCBoYXZlIGEgc2luZ2xlIGVkZ2UsIHdlIGNhbiBvbmx5IHNuYXAgdG8gYW5nbGVzIHJlbGF0aXZlIHRvIHgtYXhpc1xuICAgICAgICBjb25zdCBpc0ZpcnN0RWRnZSA9ICh0aGlzLnBvbHkudmVydGV4Q291bnQgPT0gMik7XG4gICAgICAgIGlmIChpc0ZpcnN0RWRnZSkge1xuICAgICAgICAgICAgLy8gR2V0IGNsb3Nlc3QgYW5nbGUtc25hcCBsaW5lIHJlbGF0aXZlIHRvIG1haW5BeGlzIChvciBudWxsIGlmIG5vIHNuYXBBbmdsZSBpcyBjbG9zZSBlbm91Z2gpXG4gICAgICAgICAgICBjb25zdCBzbmFwQXhpcyA9IHRoaXMuY29tcHV0ZUFuZ2xlU25hcExpbmUocE1vdiwgcFByZXYsIHhBeGlzKTtcblxuICAgICAgICAgICAgaWYgKHNuYXBBeGlzICYmIHRoaXMuc25hcExpbmVFeHQpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBhbiBleHRlcm5hbCBsaW5lIGNvbnN0cmFpbnQgaXMgc2V0LCBzbmFwQXhpcyBjYW4gb25seSBiZSBjb25zaWRlcmVkIGFzIGEgc2Vjb25kYXJ5IHNuYXAuXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBtZWFucywgd2UgY2FuIG9ubHkgY29uc2lkZXIgaWYgaXQgaW50ZXJzZWN0cyB3aXRoIHRoZSBjb3N0cmFpbnQgbGluZSBhbmQgdGhlIGludGVyc2VjdGlvbiBpcyBjbG9zZSB0byBwTW92XG4gICAgICAgICAgICAgICAgdGhpcy5zbmFwTGluZTEgPSBjaGVja1NlY29uZFNuYXBDYW5kaWRhdGUoc25hcEF4aXMsIG51bGwsIHRoaXMuc25hcExpbmVFeHQsIHBNb3YsIHNuYXBSYWRpdXNMQyk7XG4gICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTm8gb3RoZXIgY29uc3RyYWludHMuIEp1c3QgdXNlIHRoZSBzbmFwQXhpcyAob3Igbm8gYXhpcyBhdCBhbGwgaWYgc25hcEF4aXMgaXMgbnVsbClcbiAgICAgICAgICAgICAgICB0aGlzLnNuYXBMaW5lMSA9IHNuYXBBeGlzO1xuICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNuYXBUb0xpbmVzKHBNb3YsIHRoaXMuc25hcExpbmUxLCB0aGlzLnNuYXBMaW5lRXh0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwcmV2U25hcExpbmUgPSB0aGlzLmdldFByZXZTbmFwTGluZShwTW92KTtcbiAgICAgICAgbGV0IG5leHRTbmFwTGluZSA9IHRoaXMuZ2V0TmV4dFNuYXBMaW5lKHBNb3YpO1xuXG4gICAgICAgIC8vIEZpbHRlciB0byBsaW5lcyB0aGF0IGFyZSBjbG9zZSBlbm91Z2ggdG8gcE1vdlxuICAgICAgICBjb25zdCBzbmFwTGluZVVzYWJsZSA9IChzbmFwTGluZSkgPT4ge1xuXG4gICAgICAgICAgICBpZiAoIXNuYXBMaW5lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5zbmFwTGluZUV4dCkge1xuICAgICAgICAgICAgICAgIC8vIENvbnNpZGVyIGxpbmUtY29uc3RyYWludDogT25seSBhY2NlcHQgc25hcExpbmUgaWYuLi5cbiAgICAgICAgICAgICAgICAvLyAgMS4gLi4uaXQgaW50ZXJzZWN0cyBjb25zdHJhaW50IGxpbmVcbiAgICAgICAgICAgICAgICAvLyAgMi4gLi4uaW50ZXJzZWN0aW9uIHBvaW50IGlzIHdpdGhpbiBzbmFwUmFkaXVzLlxuICAgICAgICAgICAgICAgIHJldHVybiBCb29sZWFuKGNoZWNrU2Vjb25kU25hcENhbmRpZGF0ZShzbmFwTGluZSwgbnVsbCwgdGhpcy5zbmFwTGluZUV4dCwgcE1vdiwgc25hcFJhZGl1c0xDKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE5vIGNvbnN0cmFpbnQ6IEFjY2VwdCBhbnkgc25hcExpbmVzIHdpdGhpbiBzbmFwUmFkaXVzXG4gICAgICAgICAgICByZXR1cm4gc25hcExpbmUuaXNVc2FibGUocE1vdiwgc25hcFJhZGl1c0xDKTtcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgY2FuZGlkYXRlcyA9IHRoaXMuZWRnZVNuYXBMaW5lcy5maWx0ZXIoc25hcExpbmVVc2FibGUpO1xuXG4gICAgICAgIC8vIFJlamVjdCBwcmV2U25hcExpbmUvbmV4dFNuYXBMaW5lIGlmIHRoZXkgYXJlIG5vdCB1c2FibGVcbiAgICAgICAgcHJldlNuYXBMaW5lID0gc25hcExpbmVVc2FibGUocHJldlNuYXBMaW5lKSAmJiBwcmV2U25hcExpbmU7XG4gICAgICAgIG5leHRTbmFwTGluZSA9IHNuYXBMaW5lVXNhYmxlKG5leHRTbmFwTGluZSkgJiYgbmV4dFNuYXBMaW5lO1xuXG4gICAgICAgIC8vIGNob29zZSBmaXJzdCBzbmFwTGluZVxuICAgICAgICB0aGlzLnNuYXBMaW5lMSA9IHByZXZTbmFwTGluZSB8fCBuZXh0U25hcExpbmUgfHwgY2FuZGlkYXRlc1swXTtcblxuICAgICAgICAvLyBTdG9wIGhlcmUgaWYgdGhlcmUgaXMgbm8gc25hcHBpbmcgY2FuZGlkYXRlIGF0IGFsbFxuICAgICAgICBpZiAoIXRoaXMuc25hcExpbmUxKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB3ZSBoYXZlIGFuIGV4dGVybmFsIGxpbmUgY29uc3RyYWludCwgd2UgY2FuIG9ubHkgY2hvb3NlIGEgc2luZ2xlIHNuYXBMaW5lLCBiZWNhdXNlIHdlIGFscmVhZHlcbiAgICAgICAgLy8gaGF2ZSB0byBpbnRlcnNlY3QgaXQgd2l0aCB0aGUgZXh0ZXJuYWwgY29uc3RyYWludCBsaW5lLlxuICAgICAgICBpZiAodGhpcy5zbmFwTGluZUV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIHNuYXBUb0xpbmVzKHBNb3YsIHRoaXMuc25hcExpbmUxLCB0aGlzLnNuYXBMaW5lRXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHByZXYgYW5kIG5leHQgZWRnZSBhbGxvdyBhbmdsZSBzbmFwcGluZywgY2hlY2sgaWYgd2UgY2FuIHNuYXAgdG8gYm90aFxuICAgICAgICBpZiAocHJldlNuYXBMaW5lICYmIG5leHRTbmFwTGluZSkge1xuICAgICAgICAgICAgdGhpcy5zbmFwTGluZTIgPSBjaGVja1NlY29uZFNuYXBDYW5kaWRhdGUobmV4dFNuYXBMaW5lLCBudWxsLCB0aGlzLnNuYXBMaW5lMSwgcE1vdiwgc25hcFJhZGl1c0xDKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHByZXZFZGdlIGFuZCBuZXh0RWRnZSBhbHJlYWR5IGdhdmUgdXMgMiBTbmFwTGluZXMsIGdpdmUgdGhlc2UgdHdvIHByZWZlcmVuY2UuIE90aGVyd2lzZSxcbiAgICAgICAgLy8gY2hlY2sgaWYgd2UgY2FuIHNuYXAgdG8gYW5vdGhlciBlZGdlIHRvIGJlIGFsaWduZWQgd2l0aCBvdGhlciBlZGdlcy5cbiAgICAgICAgaWYgKCF0aGlzLnNuYXBMaW5lMikge1xuICAgICAgICAgICAgZm9yIChsZXQgaT0wOyBpPGNhbmRpZGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgYyA9IGNhbmRpZGF0ZXNbaV07XG4gICAgICAgICAgICAgICAgdGhpcy5zbmFwTGluZTIgPSBjaGVja1NlY29uZFNuYXBDYW5kaWRhdGUoYywgdGhpcy5zbmFwTGluZTIsIHRoaXMuc25hcExpbmUxLCBwTW92LCBzbmFwUmFkaXVzTEMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2Ugc2VsZWN0ZWQgb25lIG9yIHR3byBTbmFwTGluZXMuIE5vdywgdXNlIHRoZW0gdG8gZGVjaWRlIHNuYXBwZWQgcG9zaXRpb25cbiAgICAgICAgcmV0dXJuIHNuYXBUb0xpbmVzKHBNb3YsIHRoaXMuc25hcExpbmUxLCB0aGlzLnNuYXBMaW5lMik7XG4gICAgfVxuXG4gICAgaXNTbmFwcGVkKCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbih0aGlzLnNuYXBMaW5lMSB8fCB0aGlzLnNuYXBMaW5lMik7XG4gICAgfVxuXG4gICAgdXBkYXRlU25hcExpbmVHaXptb3Moc25hcHBlZFBvcykge1xuXG4gICAgICAgIC8vIEZpcnN0LCBjbGVhciBhbnkgb3V0ZGF0ZWQgZ2l6bW9zXG4gICAgICAgIHRoaXMuY2xlYXJTbmFwcGluZ0dpem1vcygpO1xuXG4gICAgICAgIGlmICghdGhpcy5wb2x5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb2xsZWN0IGFsbCBzbmFwTGluZXMgdGhhdCB3ZSB3YW50IHRvIGRpc3BsYXlcbiAgICAgICAgLy9cbiAgICAgICAgLy8gTm90ZSB0aGF0IHdlIGRvbid0IGp1c3Qgd2FudCB0byBpbmRpY2F0ZSBTbmFwTGluZXMgdGhhdCBhY3RpdmVseSBhZmZlY3RlZCB0aGUgcG9zaXRpb24sXG4gICAgICAgIC8vIGJ1dCBhbHNvIHRoZSBcImFjY2lkZW50YWxseVwiIG1hdGNoZWQgb25lcy4gRS5nLiwgaWYgd2Ugc25hcHBlZCB0byBhIGdlb21ldHJ5IGludGVyc2VjdGlvbixcbiAgICAgICAgLy8gdGhlIGFjdHVhbCBzbmFwcGluZyB3YXMgbm90IGFmZmVjdGVkIGJ5IGFuZ2xlIHNuYXBwaW5nLCBidXQgdGhlIHJlc3VsdGluZyBwb3NpdGlvbiBtYXkgc3RpbGxcbiAgICAgICAgLy8gbWF0Y2ggd2l0aCBhbmdsZSBzbmFwTGluZXMgYXMgd2VsbC5cbiAgICAgICAgbGV0IHNuYXBMaW5lc1RvU2hvdyA9IFtdO1xuXG4gICAgICAgIC8vIFdlIGNvbnNpZGVyIHRoZSBzbmFwcGVkIHBvc2l0aW9uIHAgdG8gYmUgXCJvbiBhIHNuYXBMaW5lIExcIiBpZiB0aGUgZGlzdGFuY2UgZChwLEwpIGlzIHdpdGhpbiB0aGUgdG9sZXJhbmNlIGJlbG93LlxuICAgICAgICBjb25zdCB0b2xlcmFuY2UgPSAwLjAwMDE7XG4gICAgICAgIGNvbnN0IHNob3VsZEJlU2hvd24gPSBzbCA9PiBzbCAmJiBzbC5pc1VzYWJsZShzbmFwcGVkUG9zLCB0b2xlcmFuY2UpOyAvLyBEZWNpZGVzIHdoZXRoZXIgYSBTbmFwTGluZSBzaG91bGQgYmUgZGlzcGxheWVkXG5cbiAgICAgICAgLy8gSWYgd2Ugb25seSBoYXZlIGEgc2luZ2xlIGVkZ2UsIGFuZ2xlIHNuYXBwaW5nIGlzIG9ubHkgcG9zc2libGUgd3J0LiB0byBtYWluIGF4ZXNcbiAgICAgICAgY29uc3QgaXNGaXJzdEVkZ2UgPSAodGhpcy5wb2x5LnZlcnRleENvdW50ID09IDIpO1xuXG4gICAgICAgIC8vIENvbGxlY3QgU25hcExpbmVzIHRvIGRpc3BsYXlcbiAgICAgICAgaWYgKGlzRmlyc3RFZGdlKSB7XG4gICAgICAgICAgICAvLyBKdXN0IGEgc2luZ2xlIGVkZ2U6IE9ubHkgc25hcCBpZiB0aGlzIGZpcnN0IGVkZ2UgZm9ybXMgYSBzbmFwcGluZyBhbmdsZSB3aXRoIHgtIG9yIHktYXhpcy5cbiAgICAgICAgICAgIGNvbnN0IHBQcmV2ID0gZ2V0UG9pbnRNb2QodGhpcy5wb2x5LCB0aGlzLnZJbmRleCAtIDEsIHRoaXMubG9vcEluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IHNuYXBBeGlzID0gdGhpcy5jb21wdXRlQW5nbGVTbmFwTGluZShzbmFwcGVkUG9zLCBwUHJldiwgeEF4aXMpO1xuXG4gICAgICAgICAgICAvLyBEaXNwbGF5IHNuYXBBeGlzIGlmIHRoZSBwIGlzIG9uIHRoaXMgbGluZVxuICAgICAgICAgICAgaWYgKHNuYXBBeGlzICYmIHNob3VsZEJlU2hvd24oc25hcEF4aXMpKSB7XG4gICAgICAgICAgICAgICAgc25hcExpbmVzVG9TaG93LnB1c2goc25hcEF4aXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQ29uc2lkZXIgYWxsIGVkZ2Ugc25hcGxpbmVzIHRoYXQgY29udGFpbiBwU25hcHBlZFBvc1xuICAgICAgICAgICAgc25hcExpbmVzVG9TaG93ID0gdGhpcy5lZGdlU25hcExpbmVzLmZpbHRlcihzaG91bGRCZVNob3duKTtcblxuICAgICAgICAgICAgLy8gQ29uc2lkZXIgYW5nbGVzIHRvIHByZXZpb3VzIGFuZCBuZXh0IGVkZ2VcbiAgICAgICAgICAgIGNvbnN0IHByZXZTbmFwTGluZSA9IHRoaXMuZ2V0UHJldlNuYXBMaW5lKHNuYXBwZWRQb3MpO1xuICAgICAgICAgICAgY29uc3QgbmV4dFNuYXBMaW5lID0gdGhpcy5nZXROZXh0U25hcExpbmUoc25hcHBlZFBvcyk7XG4gICAgICAgICAgICBzaG91bGRCZVNob3duKHByZXZTbmFwTGluZSkgJiYgc25hcExpbmVzVG9TaG93LnB1c2gocHJldlNuYXBMaW5lKTtcbiAgICAgICAgICAgIHNob3VsZEJlU2hvd24obmV4dFNuYXBMaW5lKSAmJiBzbmFwTGluZXNUb1Nob3cucHVzaChuZXh0U25hcExpbmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRWxpbWluYXRlIGR1cGxpY2F0ZXM6IElmIGEgU25hcExpbmUgaXMgY29sbGluZWFyIHdpdGggYW5vdGhlciBvbmUsIGRpc3BsYXlpbmcgaXQgd291bGQganVzdCBjYXVzZSBhcnRpZmFjdHMuXG4gICAgICAgIC8vIE5vdGU6IFRoaXMgaXMgYSBicnV0ZS1mb3JjZSBuXjIgbG9vcC4gVGhlIG51bWJlciBvZiBTbmFwTGluZXMgdG8gZGlzcGxheSBpcyB1c3VhbGx5IHNtYWxsLCBzbyB0aGF0IHRoaXMgc2hvdWxkbid0IGJlIGEgcHJvYmxlbS5cbiAgICAgICAgY29uc3QgaXNSZWxldmFudCA9IChzbCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHNsIGlzIGEgZHVwbGljYXRlIG9mIGFueSBwcmV2aW91cyBTbmFwTGluZVxuICAgICAgICAgICAgbGV0IGlzRHVwbGljYXRlID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGxldCBpPTA7IGk8aW5kZXg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNsMiA9IHNuYXBMaW5lc1RvU2hvd1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoc2wuaXNFcXVhbChzbDIsIHRvbGVyYW5jZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNEdXBsaWNhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gIWlzRHVwbGljYXRlO1xuICAgICAgICB9O1xuICAgICAgICBzbmFwTGluZXNUb1Nob3cgPSBzbmFwTGluZXNUb1Nob3cuZmlsdGVyKGlzUmVsZXZhbnQpO1xuXG4gICAgICAgIC8vIENob29zZSBTbmFwTGluZUxlbmd0aCBsYXJnZSBlbm91Z2ggdG8gZmlsbCB3aG9sZSBjYW52YXNcbiAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5naXptb0xheWVyLnZpZXdlci5jYW52YXM7XG4gICAgICAgIGNvbnN0IGRpYWcgPSBNYXRoLnNxcnQoY2FudmFzLndpZHRoICogY2FudmFzLndpZHRoICsgY2FudmFzLmhlaWdodCAqIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBjb25zdCBzbmFwTGluZUxlbmd0aCA9IHRoaXMuZ2l6bW9MYXllci5nZXRVbml0c1BlclBpeGVsKCkgKiBkaWFnO1xuXG4gICAgICAgIC8vIEEgU25hcExpbmUgaW5kaWNhdG9yIGlzIGNvbnN0cnVjdGVkIGFzIGZvbGxvd3M6XG4gICAgICAgIC8vICAtIEl0IHN0YXJ0cyBhdCB0aGUgc25hcExpbmUgc3RhcnQgcG9pbnQsIHdoaWNoIFwiZXhwbGFpbnMgd2hlcmUgdGhlIFNuYXBMaW5lIGNvbWVzIGZyb21cIi5cbiAgICAgICAgLy8gICAgVGhpcyBtYXkgYmUgc3RhcnQvY2VudGVyL2VuZCBvZiBhbm90aGVyIGVkZ2UuXG4gICAgICAgIC8vICAtIEl0IHNob3VsZCBhbHdheXMgcG9pbnQgdG93YXJkcyB0aGUgbW92ZWQgdmVydGV4IChub3RlIHRoYXQgYW4gb3JpZ2luYWwgZWRnZSBub3JtYWwgbWF5IHBvaW50IGF3YXkgZnJvbSB0aGUgbW92ZWQgdmVydGV4KVxuICAgICAgICAvLyAgLSBJdCBpcyBlbmxhcmdlZCB0byBvdmVyc2hvb3QgcE1vdlxuICAgICAgICBjb25zdCBzaG93U25hcExpbmUgPSAobGluZSwgZ2l6bW8pID0+IHtcbiAgICAgICAgICAgIGlmICghbGluZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgYSA9IGxpbmUuYTtcblxuICAgICAgICAgICAgLy8gTGV0IGxpbmUgc3RhcnQgYXQgYSwgcG9pbnQgdG93YXJkcyBkaXIsIGFuZCBiZSBsb25nIGVub3VnaCB0byBsZWF2ZSBzY3JlZW5cbiAgICAgICAgICAgIGdpem1vLm1ha2VMaW5lKFxuICAgICAgICAgICAgICAgIGEueCAtIHNuYXBMaW5lTGVuZ3RoICogbGluZS5kaXIueCxcbiAgICAgICAgICAgICAgICBhLnkgLSBzbmFwTGluZUxlbmd0aCAqIGxpbmUuZGlyLnksXG4gICAgICAgICAgICAgICAgYS54ICsgc25hcExpbmVMZW5ndGggKiBsaW5lLmRpci54LFxuICAgICAgICAgICAgICAgIGEueSArIHNuYXBMaW5lTGVuZ3RoICogbGluZS5kaXIueVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuZ2l6bW9MYXllci5hZGRTaGFwZShnaXptbyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQWRkIGxpbmVHaXptbyBmb3IgZWFjaCBTbmFwTGluZSB0byBiZSBkaXNwbGF5ZWRcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPHNuYXBMaW5lc1RvU2hvdy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc25hcExpbmUgPSBzbmFwTGluZXNUb1Nob3dbaV07XG4gICAgICAgICAgICBjb25zdCBnaXptbyAgICA9IHRoaXMuYWNxdWlyZVNuYXBMaW5lR2l6bW8oKTtcbiAgICAgICAgICAgIHNob3dTbmFwTGluZShzbmFwTGluZSwgZ2l6bW8pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZHRvcigpIHtcbiAgICAgICAgdGhpcy5jbGVhclNuYXBwaW5nKCk7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2tzIGlmIHRoZSBhbmdsZSBiZXR3ZWVuIGVkZ2UgKHBQcmV2LCBwKSBhbmQgYWxpZ25tZW50IGRpcmVjdGlvbiBpcyBjbG9zZSB0byBhIHNuYXBwaW5nIGFuZ2xlLlxuICAgIC8vIElmIHNvLCBpdCByZXR1cm5zIGEgU25hcExpbmUgZnJvbSBwUHJldiB0b3dhcmRzIHRoZSBzbmFwcGVkIGRpcmVjdGlvbiwgb3RoZXJ3aXNlIG51bGwuXG4gICAgLy8gIEBwYXJhbSB7VmVjdG9yMn0gcCAgICAgICAgICAgICAgLSB2ZXJ0ZXggYmVpbmcgbW92ZWRcbiAgICAvLyAgQHBhcmFtIHtWZWN0b3IyfSBwUHJldiAgICAgICAgICAtIHZlcnRleCBjb25uZWN0ZWQgdG8gcFxuICAgIC8vICBAcGFyYW0ge1ZlY3RvcjJ9IGFsaWduQXhpcyAgICAgIC0gZGlyZWN0aW9uIHRoYXQgd2UgYWxpZ24gdG8uIE11c3QgYmUgbm9ybWFsaXplZC5cbiAgICBjb21wdXRlQW5nbGVTbmFwTGluZShwLCBwUHJldiwgYWxpZ25BeGlzKSB7XG5cbiAgICAgICAgLy8gRG9uJ3QgdHJ5IGFuZ2xlIHNuYXBwaW5nIHdpdGggZGVnZW5lcmF0ZWQgZWRnZXNcbiAgICAgICAgaWYgKE1hdGgyRC5lZGdlSXNEZWdlbmVyYXRlZChwUHJldiwgcCkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IGRpcmVjdGlvbiBvZiBuZXcgZWRnZSAoZW5kaW5nIGF0IHBNb3YpXG4gICAgICAgIGNvbnN0IGVkZ2VEaXIgPSBwLmNsb25lKCkuc3ViKHBQcmV2KTtcblxuICAgICAgICAvLyBDb21wdXRlIGFuZ2xlIGJldHdlZW4gbmV3IGVkZ2UgYW5kIGFsaWdubWVudCBkaXJlY3Rpb25cbiAgICAgICAgY29uc3QgYW5nbGUgPSBUSFJFRS5NYXRoLnJhZFRvRGVnKE1hdGgyRC5hbmdsZUJldHdlZW5EaXJlY3Rpb25zKGVkZ2VEaXIsIGFsaWduQXhpcykpO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGFuZ2xlIG1hdGNoZXMgd2l0aCBhbnkgaW5kZXggaW4gc25hcEFuZ2xlcyBhcnJheVxuICAgICAgICBsZXQgc25hcEluZGV4ID0gLTE7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaTx0aGlzLnNuYXBBbmdsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBzbmFwQW5nbGUgPSB0aGlzLnNuYXBBbmdsZXNbaV07XG5cbiAgICAgICAgICAgIGxldCBkaWYgPSBNYXRoLmFicyhzbmFwQW5nbGUgLSBhbmdsZSk7XG4gICAgICAgICAgICBpZiAoZGlmIDwgdGhpcy5zbmFwQW5nbGVUb2xlcmFuY2UpIHtcbiAgICAgICAgICAgICAgICBzbmFwSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RvcCBoZXJlIGlmIG5vIHNuYXBBbmdsZSBpcyBmb3VuZFxuICAgICAgICBpZiAoc25hcEluZGV4ID09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJvdGF0ZSBhbGlnbm1lbnQgYXhpcyBieSBzZWxlY3RlZCBzbmFwQW5nbGVcbiAgICAgICAgY29uc3Qgc25hcEFuZ2xlID0gVEhSRUUuTWF0aC5kZWdUb1JhZCh0aGlzLnNuYXBBbmdsZXNbc25hcEluZGV4XSk7XG4gICAgICAgIGNvbnN0IHNuYXBEaXIgPSBNYXRoMkQucm90YXRlQXJvdW5kKGFsaWduQXhpcy5jbG9uZSgpLCBzbmFwQW5nbGUpO1xuXG4gICAgICAgIC8vIHNjYWxlIHNuYXBMaW5lIGRpcmVjdGlvbiB0byB0aGUgc2FtZSBsZW5ndGggYXMgKHBQcmV2LCBwKVxuICAgICAgICBjb25zdCBkaXN0ID0gcFByZXYuZGlzdGFuY2VUbyhwKTtcbiAgICAgICAgY29uc3Qgc25hcExpbmVFbmQgPSBzbmFwRGlyLm11bHRpcGx5U2NhbGFyKGRpc3QpLmFkZChwUHJldik7XG5cbiAgICAgICAgLy8gUmV0dXJuIHNuYXBsaW5lIGZyb20gcFByZXYgcG9pbnRpbmcgdG93YXJkcyBzbmFwcGVkIGRpcmVjdGlvblxuICAgICAgICByZXR1cm4gbmV3IFNuYXBMaW5lKHBQcmV2LCBzbmFwTGluZUVuZCk7XG4gICAgfVxufVxuXG5hdi5HbG9iYWxNYW5hZ2VyTWl4aW4uY2FsbChBbmdsZVNuYXBwZXIucHJvdG90eXBlKTsiXSwibmFtZXMiOlsiUG9seWxpbmUiLCJTdHlsZSIsIk1hdGgyRCIsIlNuYXBMaW5lIiwiY29uc3RydWN0b3IiLCJhIiwiYiIsImNsb25lIiwiZGlyIiwiZ2V0RWRnZURpcmVjdGlvbiIsImludGVyc2VjdCIsImxpbmUiLCJvdXRQb2ludCIsImludGVyc2VjdExpbmVzIiwic25hcFRvTGluZSIsInAiLCJwcm9qZWN0VG9MaW5lIiwiaXNVc2FibGUiLCJzbmFwUmFkaXVzIiwicG9pbnRMaW5lRGlzdGFuY2UiLCJpc0VxdWFsIiwic25hcExpbmUiLCJwcmVjaXNpb24iLCJjb2xsaW5lYXIiLCJzbmFwVG9MaW5lcyIsInBvcyIsInNuYXBMaW5lMSIsInNuYXBMaW5lMiIsImdldFBvaW50TW9kIiwicG9seSIsImluZGV4IiwibG9vcEluZGV4IiwidmVydGV4Q291bnQiLCJnZXRWZXJ0ZXhDb3VudCIsImdldFBvaW50IiwiZmluZFNuYXBMaW5lcyIsInZJbmRleCIsIm5vcm1hbCIsIlRIUkVFIiwiVmVjdG9yMiIsImNlbnRlciIsInBFbmQiLCJzbmFwTGluZXMiLCJhZGRFZGdlU25hcExpbmVzIiwicHVzaCIsInR1cm5MZWZ0IiwiZ2V0RWRnZUNlbnRlciIsImNvcHkiLCJhZGQiLCJsIiwibG9vcENvdW50IiwiZW51bUVkZ2VzIiwiaWEiLCJpYiIsImVkZ2VJc0RlZ2VuZXJhdGVkIiwiY2hlY2tTZWNvbmRTbmFwQ2FuZGlkYXRlIiwiY2FuZGlkYXRlIiwiYmVzdENhbmRpZGF0ZSIsInBJbnRlcnNlY3QiLCJkaXN0YW5jZVRvIiwiZHAxIiwiTWF0aCIsImFicyIsImRvdCIsImRwMiIsInhBeGlzIiwiYXYiLCJBdXRvZGVzayIsIlZpZXdpbmciLCJBbmdsZVNuYXBwZXIiLCJnaXptb0xheWVyIiwic25hcEFuZ2xlcyIsInNuYXBBbmdsZVRvbGVyYW5jZSIsInNldEdsb2JhbE1hbmFnZXIiLCJnbG9iYWxNYW5hZ2VyIiwibW92ZWRQb2ludCIsInByZXZQb2ludCIsInByZXZQb2ludDIiLCJlZGdlRGlyIiwiYWxpZ25BeGlzIiwiZWRnZVNuYXBMaW5lcyIsInNuYXBMaW5lRXh0Iiwic25hcExpbmVTdHlsZSIsImxpbmVDb2xvciIsImxpbmVXaWR0aCIsImxpbmVTdHlsZSIsInNuYXBMaW5lR2l6bW9zIiwic25hcExpbmVHaXptb3NVc2VkIiwib25TZXRHbG9iYWxNYW5hZ2VyIiwiZm9yRWFjaCIsImciLCJzZXRHbG9ibGFNYW5hZ2VyIiwiYWNxdWlyZVNuYXBMaW5lR2l6bW8iLCJnaXptbyIsImNsZWFyU25hcHBpbmdHaXptb3MiLCJyZW1vdmVHaXptbyIsInJlbW92ZVNoYXBlIiwic3RhcnRTbmFwcGluZyIsInN0b3BTbmFwcGluZyIsImNsZWFyU25hcHBpbmdSZXN1bHQiLCJhY3RpdmUiLCJnZXRQcmV2U25hcExpbmUiLCJwTW92IiwicFByZXYiLCJwUHJldjIiLCJjb21wdXRlQW5nbGVTbmFwTGluZSIsImdldE5leHRTbmFwTGluZSIsImlnbm9yZU5leHRFZGdlIiwiaXNQb2x5bGluZSIsInBOZXh0IiwicE5leHQyIiwic25hcFRvQW5nbGUiLCJsaW5lQ29uc3RyYWludCIsInNuYXBSYWRpdXNMQyIsImdldFVuaXRzUGVyUGl4ZWwiLCJpc0ZpcnN0RWRnZSIsInNuYXBBeGlzIiwicHJldlNuYXBMaW5lIiwibmV4dFNuYXBMaW5lIiwic25hcExpbmVVc2FibGUiLCJCb29sZWFuIiwiY2FuZGlkYXRlcyIsImZpbHRlciIsImkiLCJsZW5ndGgiLCJjIiwiaXNTbmFwcGVkIiwidXBkYXRlU25hcExpbmVHaXptb3MiLCJzbmFwcGVkUG9zIiwic25hcExpbmVzVG9TaG93IiwidG9sZXJhbmNlIiwic2hvdWxkQmVTaG93biIsInNsIiwiaXNSZWxldmFudCIsImlzRHVwbGljYXRlIiwic2wyIiwiY2FudmFzIiwidmlld2VyIiwiZGlhZyIsInNxcnQiLCJ3aWR0aCIsImhlaWdodCIsInNuYXBMaW5lTGVuZ3RoIiwic2hvd1NuYXBMaW5lIiwibWFrZUxpbmUiLCJ4IiwieSIsImFkZFNoYXBlIiwiZHRvciIsImNsZWFyU25hcHBpbmciLCJzdWIiLCJhbmdsZSIsInJhZFRvRGVnIiwiYW5nbGVCZXR3ZWVuRGlyZWN0aW9ucyIsInNuYXBJbmRleCIsInNuYXBBbmdsZSIsImRpZiIsImRlZ1RvUmFkIiwic25hcERpciIsInJvdGF0ZUFyb3VuZCIsImRpc3QiLCJzbmFwTGluZUVuZCIsIm11bHRpcGx5U2NhbGFyIiwiR2xvYmFsTWFuYWdlck1peGluIiwiY2FsbCIsInByb3RvdHlwZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Edit2D/AngleSnapper.js\n");

/***/ }),

/***/ "./extensions/Edit2D/Arrow.js":
/*!************************************!*\
  !*** ./extensions/Edit2D/Arrow.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Arrow)\n/* harmony export */ });\n/* harmony import */ var _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditShapes.js */ \"./extensions/Edit2D/EditShapes.js\");\n/* harmony import */ var _Math2D_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Math2D.js */ \"./extensions/Edit2D/Math2D.js\");\n\n\n\n// Vector-shape for displaying simple arrows.\nclass Arrow extends _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Shape {\n\n  constructor() {\n    super();\n\n    // in layer coords\n    this.from = new THREE.Vector2();\n    this.to = new THREE.Vector2();\n\n    // extends of the arrow head in layer coords\n    this.headLength = 2; // along arrow direction\n    this.headAngle = 60; // in degrees. Angle at the tip of the arrow head.\n\n    this.line = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Polyline();\n    this.head = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Polygon();\n\n    // If true, head is a filled triangle, otherwise just two lines joining at the tip.\n    this.headFilled = true;\n    this.head.style.lineAlpha = 0.0;\n\n    // Add points for triangular head. We only update point positions afterwards.\n    this.head.addPoint(0, 0);\n    this.head.addPoint(0, 0);\n    this.head.addPoint(0, 0);\n\n    // normalized arrow directiom. Auto-updated based on from/to\n    this.dir = new THREE.Vector2();\n\n    // tmp vectors\n    this.tmpVec1 = new THREE.Vector2();\n    this.tmpVec2 = new THREE.Vector2();\n    this.tmpVec3 = new THREE.Vector2();\n  }\n\n  modified() {\n    super.modified();\n    this.needsUpdate = true;\n  }\n\n  draw(ctx) {\n    this.update();\n\n    // Todo: Concept to clarify style override for shapes with child shapes with different styles.\n    this.line.draw(ctx, this.line.style);\n    this.head.draw(ctx, this.head.style);\n  }\n\n  move(dx, dy) {\n    this.from.x += dx;\n    this.from.y += dy;\n    this.to.x += dx;\n    this.to.y += dy;\n    this.modified();\n    return this;\n  }\n\n  hitTest(x, y) {\n    this.update();\n    return this.line.hitTest(x, y) || this.head.hitTest(x, y);\n  }\n\n  clone() {\n    return new Arrow().copy(this);\n  }\n\n  setFrom(x, y, z) {\n    if (typeof x === 'object') {\n      this.from.copy(x);\n    } else {\n      this.from.set(x, y, z);\n    }\n    this.modified();\n  }\n\n  setTo(x, y, z) {\n    if (typeof x === 'object') {\n      this.to.copy(x);\n    } else {\n      this.to.set(x, y, z);\n    }\n  }\n\n  // Length of the arrow head. Should always be smaller than the full length of the arrow.\n  setHeadLength(len) {\n    this.headLength = len;\n    this.modified();\n  }\n\n  // Angle at the tip of the arrow head. In degrees.\n  setHeadAngle(angle) {\n    this.headAngle = angle;\n    this.modified();\n  }\n\n  copy(from) {\n    super.copy(from);\n    this.from = from.from.clone();\n    this.to = from.to.clone();\n    this.headLength = from.headLength;\n    this.headAngle = from.headAngle;\n    this.headFilled = from.headFilled;\n    this.modified();\n    return this;\n  }\n\n  computeBBox() {\n    this.line.computeBBox();\n    this.head.computeBBox();\n\n    this.bbox.makeEmpty();\n    this.bbox.union(this.line.bbox);\n    this.bbox.union(this.head.bbox);\n  }\n\n  get direction() {\n    // Normalized arrow direction\n    return this.dir.copy(this.to).sub(this.from).normalize();\n  }\n\n  getLength() {\n    return this.to.distanceTo(this.from);\n  }\n\n  // Change arrow lenght by changing one of the points.\n  //  @param {number} l - new length\n  //  @param {bool}   [changeFrom] - By default (false), we change the toPoint and keep fromPoint constant.\n  //                                 If true, we keep toPoint and change fromPoint instead.\n  setLength(l, changeFrom) {\n\n    // Scale direction by new length\n    const dir = this.direction;\n    const dx = dir.x * l;\n    const dy = dir.y * l;\n\n    // Reset fromPoint or toPoint\n    if (changeFrom) {\n      this.setFrom(this.to.x - dx, this.to.y - dy);\n    } else {\n      this.setTo(this.from.x + dx, this.from.y + dy);\n    }\n  }\n\n  update() {\n\n    if (!this.needsUpdate) {\n      return;\n    }\n\n    const dir = this.direction;\n\n    // compute line endpoint. If the head is filled, the line ends at the\n    // center of the head hypothenuse, otherwise at the to-point.\n    const ex = this.to.x - (this.headFilled ? dir.x * this.headLength : 0);\n    const ey = this.to.y - (this.headFilled ? dir.y * this.headLength : 0);\n\n    // draw arrow tail\n    this.line.makeLine(this.from.x, this.from.y, ex, ey);\n\n    // compute vector perpendicular to arrow directrion\n    const leftNormal = this.tmpVec2.copy(dir);\n    _Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.turnLeft(leftNormal);\n\n    // compute distance between arrow line and left vertex of arrow head\n    const halfAngle = 0.5 * THREE.Math.degToRad(this.headAngle);\n    const dist = Math.tan(halfAngle) * this.headLength;\n\n    // compute left head vertex\n    const leftX = this.to.x - dir.x * this.headLength + leftNormal.x * dist;\n    const leftY = this.to.y - dir.y * this.headLength + leftNormal.y * dist;\n\n    // compute right head vertex\n    const rightX = this.to.x - dir.x * this.headLength - leftNormal.x * dist;\n    const rightY = this.to.y - dir.y * this.headLength - leftNormal.y * dist;\n\n    // update the 3 head vertices\n    this.head.updatePoint(0, leftX, leftY); // left vertex\n    this.head.updatePoint(1, this.to.x, this.to.y); // tip of the arrow\n    this.head.updatePoint(2, rightX, rightY); // right vertex\n\n    this.needsUpdate = false;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMsR0FBR2dDLElBQUk7O0lBRXhFO0lBQ0EsSUFBSSxDQUFDbEQsSUFBSSxDQUFDd0QsV0FBVyxDQUFDLENBQUMsRUFBRUosS0FBSyxFQUFFQyxLQUFLLENBQUMsQ0FBQyxDQUFTO0lBQ2hELElBQUksQ0FBQ3JELElBQUksQ0FBQ3dELFdBQVcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDNUQsRUFBRSxDQUFDcUIsQ0FBQyxFQUFDLElBQUksQ0FBQ3JCLEVBQUUsQ0FBQ3NCLENBQUMsQ0FBQyxDQUFDLENBQUU7SUFDaEQsSUFBSSxDQUFDbEIsSUFBSSxDQUFDd0QsV0FBVyxDQUFDLENBQUMsRUFBRUYsTUFBTSxFQUFFQyxNQUFNLENBQUMsQ0FBQyxDQUFPOztJQUVoRCxJQUFJLENBQUM3QyxXQUFXLEdBQUcsS0FBSztFQUM1QjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvRWRpdDJEL0Fycm93LmpzPzFlYzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2hhcGUsIFBvbHlsaW5lLCBQb2x5Z29uIH0gZnJvbSAnLi9FZGl0U2hhcGVzLmpzJztcbmltcG9ydCB7IE1hdGgyRCB9IGZyb20gJy4vTWF0aDJELmpzJztcblxuLy8gVmVjdG9yLXNoYXBlIGZvciBkaXNwbGF5aW5nIHNpbXBsZSBhcnJvd3MuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcnJvdyBleHRlbmRzIFNoYXBlIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpXG5cbiAgICAgICAgLy8gaW4gbGF5ZXIgY29vcmRzXG4gICAgICAgIHRoaXMuZnJvbSA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gICAgICAgIHRoaXMudG8gICA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cbiAgICAgICAgLy8gZXh0ZW5kcyBvZiB0aGUgYXJyb3cgaGVhZCBpbiBsYXllciBjb29yZHNcbiAgICAgICAgdGhpcy5oZWFkTGVuZ3RoID0gMjsgLy8gYWxvbmcgYXJyb3cgZGlyZWN0aW9uXG4gICAgICAgIHRoaXMuaGVhZEFuZ2xlICA9IDYwOyAvLyBpbiBkZWdyZWVzLiBBbmdsZSBhdCB0aGUgdGlwIG9mIHRoZSBhcnJvdyBoZWFkLlxuXG4gICAgICAgIHRoaXMubGluZSA9IG5ldyBQb2x5bGluZSgpO1xuICAgICAgICB0aGlzLmhlYWQgPSBuZXcgUG9seWdvbigpO1xuXG4gICAgICAgIC8vIElmIHRydWUsIGhlYWQgaXMgYSBmaWxsZWQgdHJpYW5nbGUsIG90aGVyd2lzZSBqdXN0IHR3byBsaW5lcyBqb2luaW5nIGF0IHRoZSB0aXAuXG4gICAgICAgIHRoaXMuaGVhZEZpbGxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuaGVhZC5zdHlsZS5saW5lQWxwaGEgPSAwLjA7XG5cbiAgICAgICAgLy8gQWRkIHBvaW50cyBmb3IgdHJpYW5ndWxhciBoZWFkLiBXZSBvbmx5IHVwZGF0ZSBwb2ludCBwb3NpdGlvbnMgYWZ0ZXJ3YXJkcy5cbiAgICAgICAgdGhpcy5oZWFkLmFkZFBvaW50KDAsIDApO1xuICAgICAgICB0aGlzLmhlYWQuYWRkUG9pbnQoMCwgMCk7XG4gICAgICAgIHRoaXMuaGVhZC5hZGRQb2ludCgwLCAwKTtcblxuICAgICAgICAvLyBub3JtYWxpemVkIGFycm93IGRpcmVjdGlvbS4gQXV0by11cGRhdGVkIGJhc2VkIG9uIGZyb20vdG9cbiAgICAgICAgdGhpcy5kaXIgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXG4gICAgICAgIC8vIHRtcCB2ZWN0b3JzXG4gICAgICAgIHRoaXMudG1wVmVjMSA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gICAgICAgIHRoaXMudG1wVmVjMiA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gICAgICAgIHRoaXMudG1wVmVjMyA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gICAgfVxuXG4gICAgbW9kaWZpZWQoKSB7XG4gICAgICAgIHN1cGVyLm1vZGlmaWVkKCk7XG4gICAgICAgIHRoaXMubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgIH1cblxuICAgIGRyYXcoY3R4KSB7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG5cbiAgICAgICAgLy8gVG9kbzogQ29uY2VwdCB0byBjbGFyaWZ5IHN0eWxlIG92ZXJyaWRlIGZvciBzaGFwZXMgd2l0aCBjaGlsZCBzaGFwZXMgd2l0aCBkaWZmZXJlbnQgc3R5bGVzLlxuICAgICAgICB0aGlzLmxpbmUuZHJhdyhjdHgsIHRoaXMubGluZS5zdHlsZSk7XG4gICAgICAgIHRoaXMuaGVhZC5kcmF3KGN0eCwgdGhpcy5oZWFkLnN0eWxlKTtcbiAgICB9XG5cbiAgICBtb3ZlKGR4LCBkeSkge1xuICAgICAgICB0aGlzLmZyb20ueCArPSBkeDtcbiAgICAgICAgdGhpcy5mcm9tLnkgKz0gZHk7XG4gICAgICAgIHRoaXMudG8ueCArPSBkeDtcbiAgICAgICAgdGhpcy50by55ICs9IGR5O1xuICAgICAgICB0aGlzLm1vZGlmaWVkKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGhpdFRlc3QoeCwgeSkge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5saW5lLmhpdFRlc3QoeCx5KSB8fCB0aGlzLmhlYWQuaGl0VGVzdCh4LHkpO1xuICAgIH1cblxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IEFycm93KCkuY29weSh0aGlzKTtcbiAgICB9XG5cbiAgICBzZXRGcm9tKHgsIHksIHopIHtcbiAgICAgICAgaWYgKHR5cGVvZiB4ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdGhpcy5mcm9tLmNvcHkoeCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZyb20uc2V0KHgseSx6KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vZGlmaWVkKCk7XG4gICAgfVxuXG4gICAgc2V0VG8oeCx5LHopIHtcbiAgICAgICAgaWYgKHR5cGVvZiB4ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdGhpcy50by5jb3B5KHgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50by5zZXQoeCx5LHopO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTGVuZ3RoIG9mIHRoZSBhcnJvdyBoZWFkLiBTaG91bGQgYWx3YXlzIGJlIHNtYWxsZXIgdGhhbiB0aGUgZnVsbCBsZW5ndGggb2YgdGhlIGFycm93LlxuICAgIHNldEhlYWRMZW5ndGgobGVuKSB7XG4gICAgICAgIHRoaXMuaGVhZExlbmd0aCA9IGxlbjtcbiAgICAgICAgdGhpcy5tb2RpZmllZCgpO1xuICAgIH1cblxuICAgIC8vIEFuZ2xlIGF0IHRoZSB0aXAgb2YgdGhlIGFycm93IGhlYWQuIEluIGRlZ3JlZXMuXG4gICAgc2V0SGVhZEFuZ2xlKGFuZ2xlKSB7XG4gICAgICAgIHRoaXMuaGVhZEFuZ2xlID0gYW5nbGU7XG4gICAgICAgIHRoaXMubW9kaWZpZWQoKTtcbiAgICB9XG5cbiAgICBjb3B5KGZyb20pIHtcbiAgICAgICAgc3VwZXIuY29weShmcm9tKTtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbS5mcm9tLmNsb25lKCk7XG4gICAgICAgIHRoaXMudG8gICA9IGZyb20udG8uY2xvbmUoKTtcbiAgICAgICAgdGhpcy5oZWFkTGVuZ3RoID0gZnJvbS5oZWFkTGVuZ3RoO1xuICAgICAgICB0aGlzLmhlYWRBbmdsZSAgPSBmcm9tLmhlYWRBbmdsZTtcbiAgICAgICAgdGhpcy5oZWFkRmlsbGVkID0gZnJvbS5oZWFkRmlsbGVkO1xuICAgICAgICB0aGlzLm1vZGlmaWVkKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNvbXB1dGVCQm94KCkge1xuICAgICAgICB0aGlzLmxpbmUuY29tcHV0ZUJCb3goKTtcbiAgICAgICAgdGhpcy5oZWFkLmNvbXB1dGVCQm94KCk7XG5cbiAgICAgICAgdGhpcy5iYm94Lm1ha2VFbXB0eSgpO1xuICAgICAgICB0aGlzLmJib3gudW5pb24odGhpcy5saW5lLmJib3gpO1xuICAgICAgICB0aGlzLmJib3gudW5pb24odGhpcy5oZWFkLmJib3gpO1xuICAgIH1cblxuICAgIGdldCBkaXJlY3Rpb24oKSB7XG4gICAgICAgIC8vIE5vcm1hbGl6ZWQgYXJyb3cgZGlyZWN0aW9uXG4gICAgICAgIHJldHVybiB0aGlzLmRpci5jb3B5KHRoaXMudG8pLnN1Yih0aGlzLmZyb20pLm5vcm1hbGl6ZSgpO1xuICAgIH1cblxuICAgIGdldExlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG8uZGlzdGFuY2VUbyh0aGlzLmZyb20pO1xuICAgIH1cblxuICAgIC8vIENoYW5nZSBhcnJvdyBsZW5naHQgYnkgY2hhbmdpbmcgb25lIG9mIHRoZSBwb2ludHMuXG4gICAgLy8gIEBwYXJhbSB7bnVtYmVyfSBsIC0gbmV3IGxlbmd0aFxuICAgIC8vICBAcGFyYW0ge2Jvb2x9ICAgW2NoYW5nZUZyb21dIC0gQnkgZGVmYXVsdCAoZmFsc2UpLCB3ZSBjaGFuZ2UgdGhlIHRvUG9pbnQgYW5kIGtlZXAgZnJvbVBvaW50IGNvbnN0YW50LlxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgdHJ1ZSwgd2Uga2VlcCB0b1BvaW50IGFuZCBjaGFuZ2UgZnJvbVBvaW50IGluc3RlYWQuXG4gICAgc2V0TGVuZ3RoKGwsIGNoYW5nZUZyb20pIHtcblxuICAgICAgICAvLyBTY2FsZSBkaXJlY3Rpb24gYnkgbmV3IGxlbmd0aFxuICAgICAgICBjb25zdCBkaXIgPSB0aGlzLmRpcmVjdGlvbjtcbiAgICAgICAgY29uc3QgZHggPSBkaXIueCAqIGw7XG4gICAgICAgIGNvbnN0IGR5ID0gZGlyLnkgKiBsO1xuXG4gICAgICAgIC8vIFJlc2V0IGZyb21Qb2ludCBvciB0b1BvaW50XG4gICAgICAgIGlmIChjaGFuZ2VGcm9tKSB7XG4gICAgICAgICAgICB0aGlzLnNldEZyb20odGhpcy50by54IC0gZHgsIHRoaXMudG8ueSAtIGR5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VG8odGhpcy5mcm9tLnggKyBkeCwgdGhpcy5mcm9tLnkgKyBkeSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG5cbiAgICAgICAgaWYgKCF0aGlzLm5lZWRzVXBkYXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkaXIgPSB0aGlzLmRpcmVjdGlvbjtcblxuICAgICAgICAvLyBjb21wdXRlIGxpbmUgZW5kcG9pbnQuIElmIHRoZSBoZWFkIGlzIGZpbGxlZCwgdGhlIGxpbmUgZW5kcyBhdCB0aGVcbiAgICAgICAgLy8gY2VudGVyIG9mIHRoZSBoZWFkIGh5cG90aGVudXNlLCBvdGhlcndpc2UgYXQgdGhlIHRvLXBvaW50LlxuICAgICAgICBjb25zdCBleCA9IHRoaXMudG8ueCAtICh0aGlzLmhlYWRGaWxsZWQgPyBkaXIueCAqIHRoaXMuaGVhZExlbmd0aCA6IDApO1xuICAgICAgICBjb25zdCBleSA9IHRoaXMudG8ueSAtICh0aGlzLmhlYWRGaWxsZWQgPyBkaXIueSAqIHRoaXMuaGVhZExlbmd0aCA6IDApO1xuXG4gICAgICAgIC8vIGRyYXcgYXJyb3cgdGFpbFxuICAgICAgICB0aGlzLmxpbmUubWFrZUxpbmUodGhpcy5mcm9tLngsIHRoaXMuZnJvbS55LCBleCwgZXkpO1xuXG4gICAgICAgIC8vIGNvbXB1dGUgdmVjdG9yIHBlcnBlbmRpY3VsYXIgdG8gYXJyb3cgZGlyZWN0cmlvblxuICAgICAgICBjb25zdCBsZWZ0Tm9ybWFsID0gdGhpcy50bXBWZWMyLmNvcHkoZGlyKTtcbiAgICAgICAgTWF0aDJELnR1cm5MZWZ0KGxlZnROb3JtYWwpO1xuXG4gICAgICAgIC8vIGNvbXB1dGUgZGlzdGFuY2UgYmV0d2VlbiBhcnJvdyBsaW5lIGFuZCBsZWZ0IHZlcnRleCBvZiBhcnJvdyBoZWFkXG4gICAgICAgIGNvbnN0IGhhbGZBbmdsZSA9IDAuNSAqIFRIUkVFLk1hdGguZGVnVG9SYWQodGhpcy5oZWFkQW5nbGUpO1xuICAgICAgICBjb25zdCBkaXN0ID0gTWF0aC50YW4oaGFsZkFuZ2xlKSAqIHRoaXMuaGVhZExlbmd0aDtcblxuICAgICAgICAvLyBjb21wdXRlIGxlZnQgaGVhZCB2ZXJ0ZXhcbiAgICAgICAgY29uc3QgbGVmdFggPSB0aGlzLnRvLnggLSBkaXIueCAqIHRoaXMuaGVhZExlbmd0aCArIGxlZnROb3JtYWwueCAqIGRpc3Q7XG4gICAgICAgIGNvbnN0IGxlZnRZID0gdGhpcy50by55IC0gZGlyLnkgKiB0aGlzLmhlYWRMZW5ndGggKyBsZWZ0Tm9ybWFsLnkgKiBkaXN0O1xuXG4gICAgICAgIC8vIGNvbXB1dGUgcmlnaHQgaGVhZCB2ZXJ0ZXhcbiAgICAgICAgY29uc3QgcmlnaHRYID0gdGhpcy50by54IC0gZGlyLnggKiB0aGlzLmhlYWRMZW5ndGggLSBsZWZ0Tm9ybWFsLnggKiBkaXN0O1xuICAgICAgICBjb25zdCByaWdodFkgPSB0aGlzLnRvLnkgLSBkaXIueSAqIHRoaXMuaGVhZExlbmd0aCAtIGxlZnROb3JtYWwueSAqIGRpc3Q7XG5cbiAgICAgICAgLy8gdXBkYXRlIHRoZSAzIGhlYWQgdmVydGljZXNcbiAgICAgICAgdGhpcy5oZWFkLnVwZGF0ZVBvaW50KDAsIGxlZnRYLCBsZWZ0WSk7ICAgICAgICAgLy8gbGVmdCB2ZXJ0ZXhcbiAgICAgICAgdGhpcy5oZWFkLnVwZGF0ZVBvaW50KDEsIHRoaXMudG8ueCx0aGlzLnRvLnkpOyAgLy8gdGlwIG9mIHRoZSBhcnJvd1xuICAgICAgICB0aGlzLmhlYWQudXBkYXRlUG9pbnQoMiwgcmlnaHRYLCByaWdodFkpOyAgICAgICAvLyByaWdodCB2ZXJ0ZXhcblxuICAgICAgICB0aGlzLm5lZWRzVXBkYXRlID0gZmFsc2U7XG4gICAgfVxufSJdLCJuYW1lcyI6WyJTaGFwZSIsIlBvbHlsaW5lIiwiUG9seWdvbiIsIk1hdGgyRCIsIkFycm93IiwiY29uc3RydWN0b3IiLCJmcm9tIiwiVEhSRUUiLCJWZWN0b3IyIiwidG8iLCJoZWFkTGVuZ3RoIiwiaGVhZEFuZ2xlIiwibGluZSIsImhlYWQiLCJoZWFkRmlsbGVkIiwic3R5bGUiLCJsaW5lQWxwaGEiLCJhZGRQb2ludCIsImRpciIsInRtcFZlYzEiLCJ0bXBWZWMyIiwidG1wVmVjMyIsIm1vZGlmaWVkIiwibmVlZHNVcGRhdGUiLCJkcmF3IiwiY3R4IiwidXBkYXRlIiwibW92ZSIsImR4IiwiZHkiLCJ4IiwieSIsImhpdFRlc3QiLCJjbG9uZSIsImNvcHkiLCJzZXRGcm9tIiwieiIsInNldCIsInNldFRvIiwic2V0SGVhZExlbmd0aCIsImxlbiIsInNldEhlYWRBbmdsZSIsImFuZ2xlIiwiY29tcHV0ZUJCb3giLCJiYm94IiwibWFrZUVtcHR5IiwidW5pb24iLCJkaXJlY3Rpb24iLCJzdWIiLCJub3JtYWxpemUiLCJnZXRMZW5ndGgiLCJkaXN0YW5jZVRvIiwic2V0TGVuZ3RoIiwibCIsImNoYW5nZUZyb20iLCJleCIsImV5IiwibWFrZUxpbmUiLCJsZWZ0Tm9ybWFsIiwidHVybkxlZnQiLCJoYWxmQW5nbGUiLCJNYXRoIiwiZGVnVG9SYWQiLCJkaXN0IiwidGFuIiwibGVmdFgiLCJsZWZ0WSIsInJpZ2h0WCIsInJpZ2h0WSIsInVwZGF0ZVBvaW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Edit2D/Arrow.js\n");

/***/ }),

/***/ "./extensions/Edit2D/BooleanOps.js":
/*!*****************************************!*\
  !*** ./extensions/Edit2D/BooleanOps.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BooleanOps: () => (/* binding */ BooleanOps)\n/* harmony export */ });\n/* harmony import */ var _SolidDefConvert_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SolidDefConvert.js */ \"./extensions/Edit2D/SolidDefConvert.js\");\n/* harmony import */ var _adsk_solid_definition__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @adsk/solid-definition */ \"./node_modules/@adsk/solid-definition/dist/solid-definition.min.js\");\n/* harmony import */ var _adsk_solid_definition__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_adsk_solid_definition__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _LoopContainment_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LoopContainment.js */ \"./extensions/Edit2D/LoopContainment.js\");\n\n\n\n\n\n\nconst Operator = {\n  Intersect: 1, // only keep regions where path1 and path2 are overlapping\n  Union: 2, // unify both shapes\n  Difference: 3, // path1 after removing all regions that are overlapped by path2\n  Xor: 4 // only keep regions that are either covered by path1 or path2, but not both\n};\n\n// Returns all faces that are \"inside the given wireBody\", whereby:\n//  - All wires in wireBody must be closed loops without branching\n//  - A face is considered as \"inside\" if it is enclosed by an odd number of wires (\"Even-Odd-Rule\")\n//\n// @param {SketchRegionSolver} solver   - initialized with all edges of subject and cutLoop\n// @param {SolidDef.WireBody}  wireBody - must contain closed loops.\n// Returns the subset of region faces that is inside the given wireBody.\nconst getFacesInside = (solver, wireBody) => {\n\n  // Mark all faces as rank 0, indicating that we did not find an enclosing loop yet\n  // Note: It's not perfectly clean to add extra attributes, but...\n  //  a) Since faces don't have unique ids, we don't have proper way to index them without modifying\n  //  b) All faces here are only temporary.\n  const regionFaces = solver.getFaces();\n  regionFaces.forEach((f) => f.rank = 0);\n\n  // for each wire\n  const wires = wireBody.getWires();\n  wires.forEach((w) => {\n\n    // get faces inside this loop\n    const loopEdges = w.getEdges();\n    const facesInside = (0,_LoopContainment_js__WEBPACK_IMPORTED_MODULE_2__.getFacesInsideLoop)(solver, loopEdges);\n\n    // increase rank for all faces inside this loop\n    facesInside.forEach((f) => f.rank++);\n  });\n\n  // Return all faces whose rank is not a multiple of 2\n  const hasOddRank = (f) => Boolean(f.rank & 1);\n  return regionFaces.filter(hasOddRank);\n};\n\n// Apply boolean operation on two SolidDef paths (must be closed).\n//\n// @param {SolidDef.Path2D}   path1           - the path to be clipped.\n// @param {SolidDef.Path2D}   path2           - to be cut away. Must be a single loop.\n// @param {Operator}          operator\n// @param {SolidDef.Path2D[]} [extraOperands] - Unify supports more than 2 operands.\n// @returns {SolidDef.Face[]}\nconst applyOperation = (path1, path2, operator, extraOperands) => {\n\n  // get paths as wires\n  const wireBody1 = path1.getWireBody();\n  const wireBody2 = path2.getWireBody();\n\n  // get both paths as edge arrays\n  const edges1 = wireBody1.getEdges();\n  const edges2 = wireBody2.getEdges();\n\n  // get unified array with edges of both parts\n  const allEdges = edges1.concat(edges2);\n\n  // add edges of additional operands\n  extraOperands && extraOperands.forEach((p) => {\n    const wb = p.getWireBody();\n    const edges = wb.getEdges();\n    allEdges.push(...edges);\n  });\n\n  // Feed them into solver to intersect them against each other and extract the resulting region faces.\n  const solver = new _adsk_solid_definition__WEBPACK_IMPORTED_MODULE_1__.SketchRegionSolver();\n  solver.compute(allEdges);\n  const allFaces = solver.getFaces();\n\n  // check which of the faces are within path and cutPath\n  const facesInPath1 = getFacesInside(solver, wireBody1);\n  const facesInPath2 = getFacesInside(solver, wireBody2);\n\n  // check which faces are in any of the extra operands\n  const facesInExtraPaths = extraOperands && extraOperands.map((p) => {\n    const wb = p.getWireBody();\n    return getFacesInside(solver, wb);\n  });\n\n  // Filter faces based on operation type.\n  // Note: We have a O(numEdges^2) runtime here, which might be an issue for number of faces.\n  //       If needed, this could be optimized by tagging the edges with unique IDs in advance and indexing\n  //       the faces by id.\n  const filter = (f) => {\n    const inPath1 = facesInPath1.includes(f);\n    const inPath2 = facesInPath2.includes(f);\n\n    // Check if face is contained in any of the extra paths\n    const inExtraPath = facesInExtraPaths && facesInExtraPaths.some((faceSet) => faceSet.includes(f));\n\n    switch (operator) {\n      case Operator.Union:return inPath1 || inPath2 || inExtraPath;\n      case Operator.Intersect:return inPath1 && inPath2;\n      case Operator.Difference:return inPath1 && !inPath2;\n      case Operator.Xor:return inPath1 !== inPath2;\n    }\n  };\n  const selectedFaces = allFaces.filter(filter);\n\n  // Finally, merge these faces to obtain result\n  return (0,_adsk_solid_definition__WEBPACK_IMPORTED_MODULE_1__.mergeConnectedFaces)(selectedFaces);\n};\n\n//  @param {PolyBase[]} [extraOperands] - For unify, we allow moore than 2 operands.\nconst apply = (path1, path2, operator, extraOperands) => {\n  // Convert to SolidDef\n  const path1Sd = _SolidDefConvert_js__WEBPACK_IMPORTED_MODULE_0__.SolidDefConvert.toSolidDefPath(path1);\n  const path2Sd = _SolidDefConvert_js__WEBPACK_IMPORTED_MODULE_0__.SolidDefConvert.toSolidDefPath(path2);\n\n  const extraOperandsSD = extraOperands && extraOperands.map((p) => _SolidDefConvert_js__WEBPACK_IMPORTED_MODULE_0__.SolidDefConvert.toSolidDefPath(p));\n\n  // Run operation\n  const faces = applyOperation(path1Sd, path2Sd, operator, extraOperandsSD);\n\n  // Convert SolidDef faces back to Edit2D paths\n  const result = _SolidDefConvert_js__WEBPACK_IMPORTED_MODULE_0__.SolidDefConvert.facesToShape(faces);\n\n  // Let result inherit style of path1\n  result.style.copy(path1.style);\n\n  return result;\n};\n\nconst BooleanOps = {\n  Operator,\n  apply\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUMsUUFBUSxFQUFFQyxhQUFhLEtBQUs7RUFDckQ7RUFDQSxNQUFNMEIsT0FBTyxHQUFHeEQsZ0VBQWUsQ0FBQ3lELGNBQWMsQ0FBQzlCLEtBQUssQ0FBQztFQUNyRCxNQUFNK0IsT0FBTyxHQUFHMUQsZ0VBQWUsQ0FBQ3lELGNBQWMsQ0FBQzdCLEtBQUssQ0FBQzs7RUFFckQsTUFBTStCLGVBQWUsR0FBRzdCLGFBQWEsSUFBSUEsYUFBYSxDQUFDaUIsR0FBRyxDQUFDLENBQUFULENBQUMsS0FBSXRDLGdFQUFlLENBQUN5RCxjQUFjLENBQUNuQixDQUFDLENBQUMsQ0FBQzs7RUFFbEc7RUFDQSxNQUFNc0IsS0FBSyxHQUFHbEMsY0FBYyxDQUFDOEIsT0FBTyxFQUFFRSxPQUFPLEVBQUU3QixRQUFRLEVBQUU4QixlQUFlLENBQUM7O0VBRXpFO0VBQ0EsTUFBTUUsTUFBTSxHQUFHN0QsZ0VBQWUsQ0FBQzhELFlBQVksQ0FBQ0YsS0FBSyxDQUFDOztFQUVsRDtFQUNBQyxNQUFNLENBQUNFLEtBQUssQ0FBQ0MsSUFBSSxDQUFDckMsS0FBSyxDQUFDb0MsS0FBSyxDQUFDOztFQUU5QixPQUFPRixNQUFNO0FBQ2pCLENBQUM7O0FBRU0sTUFBTUksVUFBVSxHQUFHO0VBQ3RCN0QsUUFBUTtFQUNSbUQ7QUFDSixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvRWRpdDJEL0Jvb2xlYW5PcHMuanM/MGM5YyJdLCJzb3VyY2VzQ29udGVudCI6WyJcblxuaW1wb3J0IHsgU29saWREZWZDb252ZXJ0IH0gZnJvbSAnLi9Tb2xpZERlZkNvbnZlcnQuanMnO1xuaW1wb3J0IHsgU2tldGNoUmVnaW9uU29sdmVyLCBtZXJnZUNvbm5lY3RlZEZhY2VzIH0gZnJvbSAnQGFkc2svc29saWQtZGVmaW5pdGlvbic7XG5pbXBvcnQgeyBnZXRGYWNlc0luc2lkZUxvb3AgfSBmcm9tICcuL0xvb3BDb250YWlubWVudC5qcyc7XG5cbmNvbnN0IE9wZXJhdG9yID0ge1xuICAgIEludGVyc2VjdDogICAxLCAvLyBvbmx5IGtlZXAgcmVnaW9ucyB3aGVyZSBwYXRoMSBhbmQgcGF0aDIgYXJlIG92ZXJsYXBwaW5nXG4gICAgVW5pb246ICAgICAgIDIsIC8vIHVuaWZ5IGJvdGggc2hhcGVzXG4gICAgRGlmZmVyZW5jZTogIDMsIC8vIHBhdGgxIGFmdGVyIHJlbW92aW5nIGFsbCByZWdpb25zIHRoYXQgYXJlIG92ZXJsYXBwZWQgYnkgcGF0aDJcbiAgICBYb3I6ICAgICAgICAgNCAgLy8gb25seSBrZWVwIHJlZ2lvbnMgdGhhdCBhcmUgZWl0aGVyIGNvdmVyZWQgYnkgcGF0aDEgb3IgcGF0aDIsIGJ1dCBub3QgYm90aFxufTtcblxuLy8gUmV0dXJucyBhbGwgZmFjZXMgdGhhdCBhcmUgXCJpbnNpZGUgdGhlIGdpdmVuIHdpcmVCb2R5XCIsIHdoZXJlYnk6XG4vLyAgLSBBbGwgd2lyZXMgaW4gd2lyZUJvZHkgbXVzdCBiZSBjbG9zZWQgbG9vcHMgd2l0aG91dCBicmFuY2hpbmdcbi8vICAtIEEgZmFjZSBpcyBjb25zaWRlcmVkIGFzIFwiaW5zaWRlXCIgaWYgaXQgaXMgZW5jbG9zZWQgYnkgYW4gb2RkIG51bWJlciBvZiB3aXJlcyAoXCJFdmVuLU9kZC1SdWxlXCIpXG4vL1xuLy8gQHBhcmFtIHtTa2V0Y2hSZWdpb25Tb2x2ZXJ9IHNvbHZlciAgIC0gaW5pdGlhbGl6ZWQgd2l0aCBhbGwgZWRnZXMgb2Ygc3ViamVjdCBhbmQgY3V0TG9vcFxuLy8gQHBhcmFtIHtTb2xpZERlZi5XaXJlQm9keX0gIHdpcmVCb2R5IC0gbXVzdCBjb250YWluIGNsb3NlZCBsb29wcy5cbi8vIFJldHVybnMgdGhlIHN1YnNldCBvZiByZWdpb24gZmFjZXMgdGhhdCBpcyBpbnNpZGUgdGhlIGdpdmVuIHdpcmVCb2R5LlxuY29uc3QgZ2V0RmFjZXNJbnNpZGUgPSAoc29sdmVyLCB3aXJlQm9keSkgPT4ge1xuXG4gICAgLy8gTWFyayBhbGwgZmFjZXMgYXMgcmFuayAwLCBpbmRpY2F0aW5nIHRoYXQgd2UgZGlkIG5vdCBmaW5kIGFuIGVuY2xvc2luZyBsb29wIHlldFxuICAgIC8vIE5vdGU6IEl0J3Mgbm90IHBlcmZlY3RseSBjbGVhbiB0byBhZGQgZXh0cmEgYXR0cmlidXRlcywgYnV0Li4uXG4gICAgLy8gIGEpIFNpbmNlIGZhY2VzIGRvbid0IGhhdmUgdW5pcXVlIGlkcywgd2UgZG9uJ3QgaGF2ZSBwcm9wZXIgd2F5IHRvIGluZGV4IHRoZW0gd2l0aG91dCBtb2RpZnlpbmdcbiAgICAvLyAgYikgQWxsIGZhY2VzIGhlcmUgYXJlIG9ubHkgdGVtcG9yYXJ5LlxuICAgIGNvbnN0IHJlZ2lvbkZhY2VzID0gc29sdmVyLmdldEZhY2VzKCk7XG4gICAgcmVnaW9uRmFjZXMuZm9yRWFjaChmID0+IGYucmFuayA9IDApO1xuXG4gICAgLy8gZm9yIGVhY2ggd2lyZVxuICAgIGNvbnN0IHdpcmVzID0gd2lyZUJvZHkuZ2V0V2lyZXMoKTtcbiAgICB3aXJlcy5mb3JFYWNoKHcgPT4ge1xuXG4gICAgICAgIC8vIGdldCBmYWNlcyBpbnNpZGUgdGhpcyBsb29wXG4gICAgICAgIGNvbnN0IGxvb3BFZGdlcyAgID0gdy5nZXRFZGdlcygpO1xuICAgICAgICBjb25zdCBmYWNlc0luc2lkZSA9IGdldEZhY2VzSW5zaWRlTG9vcChzb2x2ZXIsIGxvb3BFZGdlcyk7XG5cbiAgICAgICAgLy8gaW5jcmVhc2UgcmFuayBmb3IgYWxsIGZhY2VzIGluc2lkZSB0aGlzIGxvb3BcbiAgICAgICAgZmFjZXNJbnNpZGUuZm9yRWFjaChmID0+IGYucmFuaysrKTtcbiAgICB9KTtcblxuICAgIC8vIFJldHVybiBhbGwgZmFjZXMgd2hvc2UgcmFuayBpcyBub3QgYSBtdWx0aXBsZSBvZiAyXG4gICAgY29uc3QgaGFzT2RkUmFuayA9IChmID0+IEJvb2xlYW4oZi5yYW5rICYgMSkpO1xuICAgIHJldHVybiByZWdpb25GYWNlcy5maWx0ZXIoaGFzT2RkUmFuayk7XG59O1xuXG4vLyBBcHBseSBib29sZWFuIG9wZXJhdGlvbiBvbiB0d28gU29saWREZWYgcGF0aHMgKG11c3QgYmUgY2xvc2VkKS5cbi8vXG4vLyBAcGFyYW0ge1NvbGlkRGVmLlBhdGgyRH0gICBwYXRoMSAgICAgICAgICAgLSB0aGUgcGF0aCB0byBiZSBjbGlwcGVkLlxuLy8gQHBhcmFtIHtTb2xpZERlZi5QYXRoMkR9ICAgcGF0aDIgICAgICAgICAgIC0gdG8gYmUgY3V0IGF3YXkuIE11c3QgYmUgYSBzaW5nbGUgbG9vcC5cbi8vIEBwYXJhbSB7T3BlcmF0b3J9ICAgICAgICAgIG9wZXJhdG9yXG4vLyBAcGFyYW0ge1NvbGlkRGVmLlBhdGgyRFtdfSBbZXh0cmFPcGVyYW5kc10gLSBVbmlmeSBzdXBwb3J0cyBtb3JlIHRoYW4gMiBvcGVyYW5kcy5cbi8vIEByZXR1cm5zIHtTb2xpZERlZi5GYWNlW119XG5jb25zdCBhcHBseU9wZXJhdGlvbiA9IChwYXRoMSwgcGF0aDIsIG9wZXJhdG9yLCBleHRyYU9wZXJhbmRzKSA9PiB7XG5cbiAgICAvLyBnZXQgcGF0aHMgYXMgd2lyZXNcbiAgICBjb25zdCB3aXJlQm9keTEgPSBwYXRoMS5nZXRXaXJlQm9keSgpO1xuICAgIGNvbnN0IHdpcmVCb2R5MiA9IHBhdGgyLmdldFdpcmVCb2R5KCk7XG5cbiAgICAvLyBnZXQgYm90aCBwYXRocyBhcyBlZGdlIGFycmF5c1xuICAgIGNvbnN0IGVkZ2VzMSA9IHdpcmVCb2R5MS5nZXRFZGdlcygpO1xuICAgIGNvbnN0IGVkZ2VzMiA9IHdpcmVCb2R5Mi5nZXRFZGdlcygpO1xuXG4gICAgLy8gZ2V0IHVuaWZpZWQgYXJyYXkgd2l0aCBlZGdlcyBvZiBib3RoIHBhcnRzXG4gICAgY29uc3QgYWxsRWRnZXMgPSBlZGdlczEuY29uY2F0KGVkZ2VzMik7XG5cbiAgICAvLyBhZGQgZWRnZXMgb2YgYWRkaXRpb25hbCBvcGVyYW5kc1xuICAgIGV4dHJhT3BlcmFuZHMgJiYgZXh0cmFPcGVyYW5kcy5mb3JFYWNoKHAgPT4ge1xuICAgICAgICBjb25zdCB3YiAgICA9IHAuZ2V0V2lyZUJvZHkoKTtcbiAgICAgICAgY29uc3QgZWRnZXMgPSB3Yi5nZXRFZGdlcygpO1xuICAgICAgICBhbGxFZGdlcy5wdXNoKC4uLmVkZ2VzKTtcbiAgICB9KTtcblxuICAgIC8vIEZlZWQgdGhlbSBpbnRvIHNvbHZlciB0byBpbnRlcnNlY3QgdGhlbSBhZ2FpbnN0IGVhY2ggb3RoZXIgYW5kIGV4dHJhY3QgdGhlIHJlc3VsdGluZyByZWdpb24gZmFjZXMuXG4gICAgY29uc3Qgc29sdmVyID0gbmV3IFNrZXRjaFJlZ2lvblNvbHZlcigpO1xuICAgIHNvbHZlci5jb21wdXRlKGFsbEVkZ2VzKTtcbiAgICBjb25zdCBhbGxGYWNlcyA9IHNvbHZlci5nZXRGYWNlcygpO1xuXG4gICAgLy8gY2hlY2sgd2hpY2ggb2YgdGhlIGZhY2VzIGFyZSB3aXRoaW4gcGF0aCBhbmQgY3V0UGF0aFxuICAgIGNvbnN0IGZhY2VzSW5QYXRoMSA9IGdldEZhY2VzSW5zaWRlKHNvbHZlciwgd2lyZUJvZHkxKTtcbiAgICBjb25zdCBmYWNlc0luUGF0aDIgPSBnZXRGYWNlc0luc2lkZShzb2x2ZXIsIHdpcmVCb2R5Mik7XG5cbiAgICAvLyBjaGVjayB3aGljaCBmYWNlcyBhcmUgaW4gYW55IG9mIHRoZSBleHRyYSBvcGVyYW5kc1xuICAgIGNvbnN0IGZhY2VzSW5FeHRyYVBhdGhzID0gZXh0cmFPcGVyYW5kcyAmJiBleHRyYU9wZXJhbmRzLm1hcChwID0+IHtcbiAgICAgICAgY29uc3Qgd2IgPSBwLmdldFdpcmVCb2R5KCk7XG4gICAgICAgIHJldHVybiBnZXRGYWNlc0luc2lkZShzb2x2ZXIsIHdiKTtcbiAgICB9KTtcblxuICAgIC8vIEZpbHRlciBmYWNlcyBiYXNlZCBvbiBvcGVyYXRpb24gdHlwZS5cbiAgICAvLyBOb3RlOiBXZSBoYXZlIGEgTyhudW1FZGdlc14yKSBydW50aW1lIGhlcmUsIHdoaWNoIG1pZ2h0IGJlIGFuIGlzc3VlIGZvciBudW1iZXIgb2YgZmFjZXMuXG4gICAgLy8gICAgICAgSWYgbmVlZGVkLCB0aGlzIGNvdWxkIGJlIG9wdGltaXplZCBieSB0YWdnaW5nIHRoZSBlZGdlcyB3aXRoIHVuaXF1ZSBJRHMgaW4gYWR2YW5jZSBhbmQgaW5kZXhpbmdcbiAgICAvLyAgICAgICB0aGUgZmFjZXMgYnkgaWQuXG4gICAgY29uc3QgZmlsdGVyID0gKGYpID0+IHtcbiAgICAgICAgY29uc3QgaW5QYXRoMSA9IGZhY2VzSW5QYXRoMS5pbmNsdWRlcyhmKTtcbiAgICAgICAgY29uc3QgaW5QYXRoMiA9IGZhY2VzSW5QYXRoMi5pbmNsdWRlcyhmKTtcblxuICAgICAgICAvLyBDaGVjayBpZiBmYWNlIGlzIGNvbnRhaW5lZCBpbiBhbnkgb2YgdGhlIGV4dHJhIHBhdGhzXG4gICAgICAgIGNvbnN0IGluRXh0cmFQYXRoID0gZmFjZXNJbkV4dHJhUGF0aHMgJiYgZmFjZXNJbkV4dHJhUGF0aHMuc29tZShmYWNlU2V0ID0+IGZhY2VTZXQuaW5jbHVkZXMoZikpO1xuXG4gICAgICAgIHN3aXRjaChvcGVyYXRvcikge1xuICAgICAgICAgICAgY2FzZSBPcGVyYXRvci5VbmlvbjogICAgICByZXR1cm4gaW5QYXRoMSB8fCBpblBhdGgyIHx8IGluRXh0cmFQYXRoO1xuICAgICAgICAgICAgY2FzZSBPcGVyYXRvci5JbnRlcnNlY3Q6ICByZXR1cm4gaW5QYXRoMSAmJiBpblBhdGgyO1xuICAgICAgICAgICAgY2FzZSBPcGVyYXRvci5EaWZmZXJlbmNlOiByZXR1cm4gaW5QYXRoMSAmJiAhaW5QYXRoMjtcbiAgICAgICAgICAgIGNhc2UgT3BlcmF0b3IuWG9yOiAgICAgICAgcmV0dXJuIChpblBhdGgxICE9PSBpblBhdGgyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc2VsZWN0ZWRGYWNlcyA9IGFsbEZhY2VzLmZpbHRlcihmaWx0ZXIpO1xuXG4gICAgLy8gRmluYWxseSwgbWVyZ2UgdGhlc2UgZmFjZXMgdG8gb2J0YWluIHJlc3VsdFxuICAgIHJldHVybiBtZXJnZUNvbm5lY3RlZEZhY2VzKHNlbGVjdGVkRmFjZXMpO1xufTtcblxuLy8gIEBwYXJhbSB7UG9seUJhc2VbXX0gW2V4dHJhT3BlcmFuZHNdIC0gRm9yIHVuaWZ5LCB3ZSBhbGxvdyBtb29yZSB0aGFuIDIgb3BlcmFuZHMuXG5jb25zdCBhcHBseSA9IChwYXRoMSwgcGF0aDIsIG9wZXJhdG9yLCBleHRyYU9wZXJhbmRzKSA9PiB7XG4gICAgLy8gQ29udmVydCB0byBTb2xpZERlZlxuICAgIGNvbnN0IHBhdGgxU2QgPSBTb2xpZERlZkNvbnZlcnQudG9Tb2xpZERlZlBhdGgocGF0aDEpO1xuICAgIGNvbnN0IHBhdGgyU2QgPSBTb2xpZERlZkNvbnZlcnQudG9Tb2xpZERlZlBhdGgocGF0aDIpO1xuXG4gICAgY29uc3QgZXh0cmFPcGVyYW5kc1NEID0gZXh0cmFPcGVyYW5kcyAmJiBleHRyYU9wZXJhbmRzLm1hcChwID0+IFNvbGlkRGVmQ29udmVydC50b1NvbGlkRGVmUGF0aChwKSk7XG5cbiAgICAvLyBSdW4gb3BlcmF0aW9uXG4gICAgY29uc3QgZmFjZXMgPSBhcHBseU9wZXJhdGlvbihwYXRoMVNkLCBwYXRoMlNkLCBvcGVyYXRvciwgZXh0cmFPcGVyYW5kc1NEKTtcblxuICAgIC8vIENvbnZlcnQgU29saWREZWYgZmFjZXMgYmFjayB0byBFZGl0MkQgcGF0aHNcbiAgICBjb25zdCByZXN1bHQgPSBTb2xpZERlZkNvbnZlcnQuZmFjZXNUb1NoYXBlKGZhY2VzKTtcblxuICAgIC8vIExldCByZXN1bHQgaW5oZXJpdCBzdHlsZSBvZiBwYXRoMVxuICAgIHJlc3VsdC5zdHlsZS5jb3B5KHBhdGgxLnN0eWxlKTtcblxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgY29uc3QgQm9vbGVhbk9wcyA9IHtcbiAgICBPcGVyYXRvcixcbiAgICBhcHBseVxufTtcblxuXG4iXSwibmFtZXMiOlsiU29saWREZWZDb252ZXJ0IiwiU2tldGNoUmVnaW9uU29sdmVyIiwibWVyZ2VDb25uZWN0ZWRGYWNlcyIsImdldEZhY2VzSW5zaWRlTG9vcCIsIk9wZXJhdG9yIiwiSW50ZXJzZWN0IiwiVW5pb24iLCJEaWZmZXJlbmNlIiwiWG9yIiwiZ2V0RmFjZXNJbnNpZGUiLCJzb2x2ZXIiLCJ3aXJlQm9keSIsInJlZ2lvbkZhY2VzIiwiZ2V0RmFjZXMiLCJmb3JFYWNoIiwiZiIsInJhbmsiLCJ3aXJlcyIsImdldFdpcmVzIiwidyIsImxvb3BFZGdlcyIsImdldEVkZ2VzIiwiZmFjZXNJbnNpZGUiLCJoYXNPZGRSYW5rIiwiQm9vbGVhbiIsImZpbHRlciIsImFwcGx5T3BlcmF0aW9uIiwicGF0aDEiLCJwYXRoMiIsIm9wZXJhdG9yIiwiZXh0cmFPcGVyYW5kcyIsIndpcmVCb2R5MSIsImdldFdpcmVCb2R5Iiwid2lyZUJvZHkyIiwiZWRnZXMxIiwiZWRnZXMyIiwiYWxsRWRnZXMiLCJjb25jYXQiLCJwIiwid2IiLCJlZGdlcyIsInB1c2giLCJjb21wdXRlIiwiYWxsRmFjZXMiLCJmYWNlc0luUGF0aDEiLCJmYWNlc0luUGF0aDIiLCJmYWNlc0luRXh0cmFQYXRocyIsIm1hcCIsImluUGF0aDEiLCJpbmNsdWRlcyIsImluUGF0aDIiLCJpbkV4dHJhUGF0aCIsInNvbWUiLCJmYWNlU2V0Iiwic2VsZWN0ZWRGYWNlcyIsImFwcGx5IiwicGF0aDFTZCIsInRvU29saWREZWZQYXRoIiwicGF0aDJTZCIsImV4dHJhT3BlcmFuZHNTRCIsImZhY2VzIiwicmVzdWx0IiwiZmFjZXNUb1NoYXBlIiwic3R5bGUiLCJjb3B5IiwiQm9vbGVhbk9wcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Edit2D/BooleanOps.js\n");

/***/ }),

/***/ "./extensions/Edit2D/CanvasGizmo.js":
/*!******************************************!*\
  !*** ./extensions/Edit2D/CanvasGizmo.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AlignX: () => (/* binding */ AlignX),\n/* harmony export */   AlignY: () => (/* binding */ AlignY),\n/* harmony export */   ArcEdgeGizmo: () => (/* binding */ ArcEdgeGizmo),\n/* harmony export */   AreaLabel: () => (/* binding */ AreaLabel),\n/* harmony export */   CanvasGizmo: () => (/* binding */ CanvasGizmo),\n/* harmony export */   CanvasGizmoBase: () => (/* binding */ CanvasGizmoBase),\n/* harmony export */   DefaultLabelFilter: () => (/* binding */ DefaultLabelFilter),\n/* harmony export */   EdgeGizmo: () => (/* binding */ EdgeGizmo),\n/* harmony export */   EdgeLabel: () => (/* binding */ EdgeLabel),\n/* harmony export */   EdgeMoveGizmo: () => (/* binding */ EdgeMoveGizmo),\n/* harmony export */   FadeOutStyleRule: () => (/* binding */ FadeOutStyleRule),\n/* harmony export */   GizmoManager: () => (/* binding */ GizmoManager),\n/* harmony export */   LabelFilter: () => (/* binding */ LabelFilter),\n/* harmony export */   LabelStyleRule: () => (/* binding */ LabelStyleRule),\n/* harmony export */   LengthLabel: () => (/* binding */ LengthLabel),\n/* harmony export */   ShapeLabel: () => (/* binding */ ShapeLabel),\n/* harmony export */   ShapeLabelRule: () => (/* binding */ ShapeLabelRule),\n/* harmony export */   ShapeToolTip: () => (/* binding */ ShapeToolTip),\n/* harmony export */   TextLabel: () => (/* binding */ TextLabel),\n/* harmony export */   VertexGizmo: () => (/* binding */ VertexGizmo)\n/* harmony export */ });\n/* harmony import */ var _Math2D_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Math2D.js */ \"./extensions/Edit2D/Math2D.js\");\n/* harmony import */ var _EditShapes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EditShapes.js */ \"./extensions/Edit2D/EditShapes.js\");\n\n\n\n\n// int value to string, e.g. 50 => \"50px\" - to used for style assignments.\nconst toPixels = (val) => {\n  return val.toString() + 'px';\n};\n\nconst AlignX = {\n  Left: 1,\n  Center: 2,\n  Right: 3\n};\n\nconst AlignY = {\n  Top: 1,\n  Center: 2,\n  Bottom: 3\n};\n\nconst av = Autodesk.Viewing;\n\n// Base class for any gizmo that needs to be synchronized with the shapes of an EditLayer.\nclass CanvasGizmoBase {\n  constructor() {}\n\n  // Called whenever the layer or camera changes.\n  update() {}\n}\n\nav.GlobalManagerMixin.call(CanvasGizmoBase.prototype);\n\n// A CanvasGizmo is an html div anchored at a position in layer-coords\nclass CanvasGizmo extends CanvasGizmoBase {\n  constructor(layer) {let visible = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;let className = arguments.length > 2 ? arguments[2] : undefined;\n    super();\n\n    this.layer = layer;\n    this.setGlobalManager(layer.globalManager);\n\n    // position in layer-coords. The transform origin of the div will appear at this position.\n    this.layerPos = new THREE.Vector2();\n\n    // position in canvas-coords (updated based on this.layerPos and camera)\n    this.canvasPos = new THREE.Vector2();\n\n    // html content to be shown\n    const _document = this.getDocument();\n    this.container = _document.createElement('div');\n\n    // Make sure that label is displayed on top of the canvas and not \"pushed away\" by it.\n    this.container.style.position = 'absolute';\n\n    // Rotate around gizmo center\n    this.container.style.transformOrigin = '50% 50%';\n    this.container.style.top = '0px';\n    this.container.style.left = \"0px\";\n\n    if (className) {\n      this.container.classList.add(className);\n    }\n\n    // Show immediately if wanted\n    this.visible = false;\n\n    this.alignX = AlignX.Center;\n    this.alignY = AlignY.Center;\n\n    // Clockwise rotation angle in degrees. Rotates around center.\n    this.angle = 0;\n\n    if (visible) {\n      this.setVisible(true, false);\n    }\n\n    // For fadeIn/Out effects\n    const setOpacity = (t) => {\n      this.container.style.opacity = t;\n    };\n    this.opacityParam = new Autodesk.Viewing.Private.AnimatedParam(1.0, setOpacity, 0.5);\n\n    // By default, just delegate to viewer context menu. Edit2DContextMenu will take care\n    // that it is properly configured.\n    this.container.addEventListener('contextmenu', (e) => {\n\n      // Workaround for Mac: By default, LMV's context menu is responds to right mouse-button.\n      // On Mac, Ctrl + Left also triggers context menu events. These must be ignored here, because:\n      //    a) Consistency: LMV ignores them as well.\n      //    b) Conflicts:   When inserting a vertex, we don't want the ContextMenu to show up.\n      const isLeftButton = e.buttons == 1;\n      if (!isLeftButton) {\n        this.layer.viewer.triggerContextMenu(e);\n      }\n    });\n  }\n\n  dtor() {\n    this.setVisible(false);\n  }\n\n  setVisible(visible) {let autoUpdate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    if (visible == this.visible) {\n      return;\n    }\n\n    if (visible) {\n      this.addToCanvas(autoUpdate);\n    } else {\n      this.removeFromCanvas();\n    }\n\n    this.visible = visible;\n  }\n\n  addToCanvas() {let autoUpdate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    // Note: It's essential that we add it to viewer.canvasWrap instead of viewer.container:\n    //       ToolController listens to events on canvasWrap. Therefore, if we would add\n    //       it to viewer.container, all mouse events captured would never reach the ToolController\n    //       no matter whether the gizmo handles them or not.\n    this.layer.viewer.canvasWrap.appendChild(this.container);\n    this.layer.addCanvasGizmo(this);\n\n    // Make sure that position is correct\n    if (autoUpdate) {\n      this.update();\n    }\n  }\n\n  removeFromCanvas() {\n    this.layer.viewer.canvasWrap.removeChild(this.container);\n    this.layer.removeCanvasGizmo(this);\n  }\n\n  setAlignX(alignX) {\n    this.alignX = alignX;\n    this.update();\n  }\n\n  setAlignY(alignY) {\n    this.alignY = alignY;\n    this.update();\n  }\n\n  // @param {number} angle - Clockwise angle in degrees\n  //\n  // Note: Do not use 'position:absolute' in child html elements.\n  //       Otherwise, the content box will be empty and it will not rotate around anymore.\n  setRotation(angle) {\n    this.angle = angle;\n    this.update();\n  }\n\n  update() {\n    this.canvasPos.copy(this.layer.layerToCanvas(this.layerPos.x, this.layerPos.y));\n\n    const p = this.canvasPos;\n    const style = this.container.style;\n\n    // set left/top to gizmo position\n    const left = toPixels(p.x);\n    const top = toPixels(p.y);\n\n    // Choose translation offset in % based on X-alignment\n    let tx;\n    switch (this.alignX) {\n      case AlignX.Left:tx = '0%';break;\n      case AlignX.Center:tx = '-50%';break;\n      case AlignX.Right:tx = '-100%';break;\n    }\n\n    let ty;\n    switch (this.alignY) {\n      case AlignY.Top:ty = '0%';break;\n      case AlignY.Center:ty = '-50%';break;\n      case AlignY.Bottom:ty = '-100%';break;\n    }\n\n    // Update transform based on rotation angle and alignment\n    style.transform = `translate(${left}, ${top}) translate(${tx}, ${ty}) rotate(${this.angle}deg)`;\n  }\n\n  // Set position in layer coords\n  setPosition(x, y) {\n    this.layerPos.set(x, y);\n    this.update();\n  }\n\n  setClassEnabled(className, enabled) {\n    if (enabled) {\n      this.container.classList.add(className);\n    } else {\n      this.container.classList.remove(className);\n    }\n  }\n\n  // Selection state is managed using a css-class 'selected'.\n  // Note that this only has an effect if the css style used for the gizmo supports it.\n  setSelected(selected) {\n    this.setClassEnabled('selected', selected);\n  }\n\n  isSelected() {\n    return this.container.classList.contains('selected');\n  }\n\n  // Optional: Hover-effect for gizmos that can be clicked or dragged.\n  setHoverEnabled(enabled) {\n    this.setClassEnabled('enable-hover', enabled);\n  }\n\n  // Optional: Assign a name to gizmo and div element to facilitate debugging and testing.\n  setName(name) {\n    this.name = name;\n    this.container.id = name ? name : '';\n  }\n\n  // Change css opacity. If wanted, the change can be smoothly faded.\n  setOpacity(value, animate) {\n    if (animate) {\n      this.opacityParam.fadeTo(value);\n    } else {\n      this.opacityParam.setValue(value);\n    }\n  }\n}\n\n// Configure CanvasGizmo as a text label.\nconst initTextLabel = (gizmo) => {\n\n  // Use measure-tool styles by default\n  gizmo.container.classList.add('edit2d-label');\n  gizmo.container.classList.add('visible');\n\n  // Create textDiv child div\n  const _document = gizmo.getDocument();\n  gizmo.textDiv = _document.createElement('div');\n  gizmo.textDiv.classList.add('edit2d-label-text');\n  gizmo.container.appendChild(gizmo.textDiv);\n\n  // Add setText convenience function\n  gizmo.setText = function (str) {\n    this.textDiv.textContent = str;\n  }.bind(gizmo);\n};\n\n// Simple TextLabel bound to a fixed position in layer coords\nclass TextLabel extends CanvasGizmo {\n\n  constructor(layer, text, className) {\n    super(layer, true, className);\n    initTextLabel(this);\n  }\n\n};\n\n// A ShapeLabel is a text label whose anchor position is synchronized with the bbox center of a shape in a layer.\nclass ShapeLabel extends CanvasGizmo {\n\n  constructor(shape, layer) {let visible = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;let className = arguments.length > 3 ? arguments[3] : undefined;\n    super(layer, visible, className);\n\n    initTextLabel(this);\n\n    this.shape = shape;\n\n    // Can be set to hidden to temporarily hide the label\n    this.valueValid = true;\n\n    // Optional: Shift label by a couple of pixels.\n    this.pixelOffset = new THREE.Vector2();\n\n    this.update();\n  }\n\n  update() {\n    if (this.shape && this.valueValid) {\n      // Set it to visible (in case polygon was null before)\n      this.container.style.visibility = 'visible';\n\n      if (this.shape.isPolyline()) {\n        const edgeCount = this.shape.getEdgeCount(0);\n        // For a start, simply position the label on the segment roughly in the middle of the polyline\n        const edgeToLabel = Math.floor(edgeCount / 2);\n        if (this.shape.edgeIndexValid(edgeToLabel)) {\n          // Set layer position to center point of the segment.\n          this.shape.getPointOnEdge(edgeToLabel, 0.5, 0, this.layerPos);\n        }\n      } else\n      {\n        // For a start, simply use the bbox center of the polygon. In some cases, this might end up outside the\n        // polygon, so we may consider something smarter later.\n        this.shape.computeBBox();\n        this.shape.bbox.getCenter(this.layerPos);\n      }\n\n      // Optional: Shift by a few pixels\n      if (this.pixelOffset) {\n        const toUnits = this.layer.getUnitsPerPixel();\n        const shiftX = this.pixelOffset.x * toUnits;\n        const shiftY = this.pixelOffset.y * toUnits;\n        this.layerPos.x += shiftX;\n        this.layerPos.y += shiftY;\n      }\n\n      super.update();\n    } else {\n      this.container.style.visibility = 'hidden';\n    }\n  }\n\n  setShape(shape) {\n    this.shape = shape;\n    this.update();\n  }\n}\n\n// Only works for shapes with getLength() function\nclass LengthLabel extends ShapeLabel {\n\n  // @param {Polyline}    polyline\n  // @param {EditLayer}   layer\n  // @param {UnitHandler} unitHandler - unitHandler.areaToString() is required to define how to display area values as string.\n  // @param {bool}        [visible]\n  constructor(polyline, layer, unitHandler) {let visible = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n    super(polyline, layer, visible);\n    this.unitHandler = unitHandler;\n  }\n\n  update() {\n    // Get shape length (if shape supports it)\n    const hasLength = this.shape && this.shape.getLength;\n    const length = hasLength && this.shape.getLength(this.unitHandler.measureTransform);\n\n    // Hide label if we don't have a well-defined length.\n    // We also hide it if length is 0.0, because the shape cannot be visible anyway.\n    this.valueValid = Boolean(length);\n\n    if (this.valueValid) {\n      const text = this.unitHandler.lengthToString(length);\n      this.setText(text);\n    }\n\n    // Let base class update position\n    super.update();\n  }\n}\n\n// Only works for shapes with getArea() function\nclass AreaLabel extends ShapeLabel {\n\n  // @param {Polygon}     polygon\n  // @param {EditLayer}   layer\n  // @param {UnitHandler} unitHandler - unitHandler.areaToString() is required to define how to display area values as string.\n  // @param {bool}        [visible]\n  constructor(polygon, layer, unitHandler) {let visible = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n    super(polygon, layer, visible);\n    this.unitHandler = unitHandler;\n    this.update(); // update with proper unitHandler\n  }\n\n  update() {\n    // Don't display until a unitHandler is set\n    if (!this.unitHandler) {\n      return;\n    }\n\n    // Handle PolyBase with self-intersections: Display an error indicator in this case.\n    if (this.shape && this.shape.isSelfIntersecting && this.shape.isSelfIntersecting()) {\n\n      // Show an error indicator instead\n      this.setText(av.i18n.t('Invalid shape'));\n\n      // Mark area label as error\n      this.container.classList.add('error-indicator');\n\n      // Mark sure error indicator is displayed\n      this.valueValid = true;\n      super.update();\n\n      return;\n    } else {\n      // Make sure that error indicator is toggled off\n      this.container.classList.remove('error-indicator');\n    }\n\n    // Get shape area (if shape supports it)\n    let hasArea = this.shape && this.shape.getArea;\n    let area = hasArea && this.shape.getArea(this.unitHandler.measureTransform);\n\n    // Hide label if we don't have a well-defined area.\n    // We also hide it if area is 0.0, because the shape cannot be visible anyway.\n    this.valueValid = Boolean(area);\n\n    if (this.valueValid) {\n      const text = this.unitHandler.areaToString(area);\n      this.setText(text);\n    }\n\n    // Let base class update position\n    super.update();\n  }\n}\n\n// A html element for which position and rotation is aligned with an edge\nclass EdgeGizmo extends CanvasGizmo {\n\n  // @param {EditLayer} layer\n  // @param {bool} visible\n  constructor(layer) {let visible = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;let className = arguments.length > 2 ? arguments[2] : undefined;\n    super(layer, visible, className);\n\n    this.posA = new THREE.Vector2();\n    this.posB = new THREE.Vector2();\n\n    // Indicates if a position has been set. If not, we temporarily hide the gizmo. If the gizmo is\n    // attached to an edge, this flag is set automatically.\n    this.posValid = false;\n\n    // Temp vectors used in update\n    this.edgeDir = new THREE.Vector2();\n\n    // Optional: Positions can be synchronized with an edge of a polygon or polyline\n    this.poly = null;\n    this.loopIndex = 0;\n    this.edgeIndex = 0;\n\n    // Use measure-length css style by default\n    this.container.classList.add('edge-gizmo');\n\n    // Optional: By default, an EdgeGizmo is always placed on a segment, i.e., the gizmo will follow a curve for arc segments.\n    //           If this flag is true, the gizmo is always placed on the direct line connection.\n    this.ignoreArcs = false;\n\n    // Optional: If specified, this limits the size of the gizmo relative to the edge length on screen:\n    // We hide the gizmo if it exceeds x * edgeLength on screen.\n    this.maxRelativeLength = undefined; // in [0,1]\n  }\n\n  // If a poly is set, the gizmo is automatically synchronized with the edge.\n  // As long as the poly is visible in the same layer, the edge is automatically kept in sync with the edge.\n  //\n  //  @param {PolyBase} poly      - polygon or polyline containing the edge that we want to attach to. If null, positions can be set manually.\n  //  @param {number} edgeIndex   - edgeIndex in poly. If not valid, gizmo is hidden.\n  //  @param {number} [loopIndex] - loopIndex in poly. 0 by default\n  attachToEdge(poly, edgeIndex) {let loopIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    this.poly = poly;\n    this.edgeIndex = edgeIndex;\n    this.loopIndex = loopIndex;\n    this.update();\n  }\n\n  detachFromEdge() {\n    this.poly = null;\n    this.edgeIndex = -1;\n    this.loopIndex = -1;\n    this.posValid = false; // hide unless a position is explicitly set\n    this.update();\n  }\n\n  edgeValid() {\n    return this.poly && this.poly.edgeIndexValid(this.edgeIndex, this.loopIndex);\n  }\n\n  update() {\n\n    // If a polygon is set, obtain positions automatically from it - or hide gizmo if edge does not exist anymore\n    if (this.poly && this.poly.edgeIndexValid(this.edgeIndex, this.loopIndex)) {\n      this.poly.getEdge(this.edgeIndex, this.posA, this.posB, this.loopIndex);\n      this.posValid = true;\n    } else {\n      // This may happen if host polygon was modified and the edge does not exist anymore.\n      this.posValid = false;\n    }\n\n    // If edge is invalid or too small on screen, just hide the gizmo\n    let show = this._shouldBeShown();\n    this.container.style.visibility = show ? 'visible' : 'hidden';\n    if (!show) {\n      return;\n    }\n\n    // Center gizmo at edge center\n    if (this.ignoreArcs) {\n      // Place on the line segment\n      _EditShapes_js__WEBPACK_IMPORTED_MODULE_1__.PolyBase.prototype.getPointOnEdge.call(this.poly, this.edgeIndex, 0.5, this.loopIndex, this.layerPos);\n    } else {\n      // Place on line segment or arc - depending on actual edge type\n      this.poly.getPointOnEdge(this.edgeIndex, 0.5, this.loopIndex, this.layerPos);\n    }\n\n    // Set rotation angle\n    this._updateRotation();\n\n    super.update();\n  }\n\n  // Check if the gizmo should be shown: We hide it if the edge is too small or if the edge does not exist at all.\n  _shouldBeShown() {\n\n    // Positions must be properly set - either automatically from an attached edge or manually using setEdge()\n    if (!this.posValid) {\n      return false;\n    }\n\n    // Show/Hide gizmo depending on zoom:\n    // Gizmo has constant screen-size. So, we hide it if the screen-size of the edge becomes too small.\n    if (this.maxRelativeLength) {\n      const aScreen = this.layer.layerToCanvas(this.posA.x, this.posA.y);\n      const bScreen = this.layer.layerToCanvas(this.posB.x, this.posB.y);\n      const edgeLengthScreen = aScreen.distanceTo(bScreen);\n      const maxAllowedPixels = edgeLengthScreen * this.maxRelativeLength;\n      const _window = this.getWindow();\n      const width = parseFloat(_window.getComputedStyle(this.container).width);\n      return width < maxAllowedPixels;\n    }\n    return true;\n  }\n\n  // Set style rotation to align gizmo along edge direction, so that 'width' is along the edge\n  _updateRotation() {\n\n    // Compute counterClockwise angle in radians that rotates the positive x-axis to the edge direction a->b\n    // It's important to compute the angle in canvas space here. If we would compute it in layer space,\n    // the angle orientation of the result may be inverted if the layerToCanvas() transform inverts orientation (e.g. by flipped y-axis)\n    const aScreen = this.layer.layerToCanvas(this.posA.x, this.posA.y);\n    const bScreen = this.layer.layerToCanvas(this.posB.x, this.posB.y);\n\n    const dir = _Math2D_js__WEBPACK_IMPORTED_MODULE_0__.Math2D.getEdgeDirection(aScreen, bScreen, this.edgeDir);\n    let angle = Math.atan2(dir.y, dir.x);\n\n    // Avoid upside-down rotation: Flip by 180 degrees if b is left of a. This is import if gizmo contains text.\n    if (dir.x < 0) {\n      angle += Math.PI;\n    }\n\n    // Convert angle to clockwise degrees and apply it to style\n    // Just set the angle here, but don't call setAngle, becaue we don't want to trigger auto-update.\n    this.angle = THREE.Math.radToDeg(angle);\n  }\n}\n\nclass EdgeMoveGizmo extends EdgeGizmo {\n\n  constructor(layer, name) {let visible = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;let className = arguments.length > 3 ? arguments[3] : undefined;\n    super(layer, visible, className);\n\n    this.setName(name);\n    this.container.classList.add('edge-move-gizmo');\n\n    // We place EdgeMoveGizmos always directly on the straight lines. In this way, edge moving\n    // will work in the same way - no matter whether a segment is an arc or not.\n    this.ignoreArcs = true;\n\n    // Hide gizmo if its screenWidth exceeds 0.3 * edgeLength\n    this.maxRelativeLength = 0.3; // in [0,1]\n  }\n}\n\n// An EdgeGizmo to display text\nclass EdgeLabel extends EdgeGizmo {\n\n  constructor(layer) {let visible = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    super(layer, visible);\n    initTextLabel(this);\n\n    // Hide label if it would exceed the edge length\n    this.maxRelativeLength = 1.0;\n  }\n}\n\nclass VertexGizmo extends CanvasGizmo {\n\n  // @param {number}  x,y       - Position in layer coords\n  // @param {string}  id        - id string used to tag shapes that represent this gizmo\n  constructor(layer, x, y, name, className) {\n    super(layer, true, className);\n    this.setPosition(x, y);\n    this.setName(name);\n\n    this.pos = new THREE.Vector2();\n\n    // Optional: Positions can be synchronized with a vertex of a polygon or polyline\n    this.poly = null;\n    this.loopIndex = -1;\n    this.vertexIndex = -1;\n\n    this.container.classList.add('vertex-gizmo');\n  }\n\n  // If a poly is set, the gizmo is automatically synchronized with the vertex.\n  // As long as the poly is visible in the same layer, the vertex gizmo is automatically kept in sync with the vertex.\n  //\n  //  @param {PolyBase} poly      - polygon or polyline containing the vertex that we want to attach to. If null, positions can be set manually.\n  //  @param {number} vertexIndex   - vertexIndex in poly. If not valid, gizmo is hidden.\n  //  @param {number} [loopIndex] - loopIndex in poly. 0 by default\n  attachToVertex(poly, vertexIndex) {let loopIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    this.poly = poly;\n    this.vertexIndex = vertexIndex;\n    this.loopIndex = loopIndex;\n    this.update();\n  }\n\n  detachFromVertex() {\n    this.poly = null;\n    this.vertexIndex = -1;\n    this.loopIndex = -1;\n    this.posValid = false; // hide unless a position is explicitly set\n    this.update();\n  }\n\n  update() {\n    // Gizmo is not attached to a polygon. Just update according to the initial position.\n    if (!this.poly) {\n      super.update();\n      return;\n    }\n\n    // If a polygon is set, obtain positions automatically from it - or hide gizmo if vertex does not exist anymore\n    if (this.poly.indexValid(this.vertexIndex, this.loopIndex)) {\n      this.poly.getPoint(this.vertexIndex, this.loopIndex, this.pos);\n      this.posValid = true;\n    } else {\n      // This may happen if host polygon was modified and the vertex does not exist anymore.\n      this.posValid = false;\n    }\n\n    // If edge is invalid, just hide the gizmo\n    let show = this.posValid;\n\n    this.container.style.visibility = show ? 'visible' : 'hidden';\n\n    if (!show) {\n      return;\n    }\n\n    this.layerPos.set(this.pos.x, this.pos.y);\n\n    super.update();\n  }\n}\n\n// A Label filter decides for which shapes we display a label\nclass LabelFilter {\n\n  constructor() {}\n\n  // If false, we don't need to acquire a label at all.\n  accepts(shape, text) {\n    return true;\n  }\n};\n\n// Get shape width in screen-pixels\nconst getShapeWidth = (shape, layer) => {\n  // get shape size in screen-pixels\n  shape.updateBBox();\n  const bbox = shape.bbox;\n  const shapeWidth = bbox.max.x - bbox.min.x;\n  return shapeWidth * layer.getPixelsPerUnit() * shapeWidth;\n};\n\n// By default, we hide labels if text is empty or if the shape size on screen falls beyond a pixel threshold\nclass DefaultLabelFilter extends LabelFilter {\n\n  // @param {number} minWidth - minimum pixel width a shape must have to receive a label\n  constructor() {let minWidth = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 5;\n    super();\n    this.minWidth = minWidth;\n  }\n\n  // Accept shape if text is not empty and its screen-width is big enough.\n  accepts(shape, text, layer) {\n    const width = getShapeWidth(shape, layer);\n    return Boolean(text) && width >= this.minWidth;\n  }\n}\n\n// A LabelStyle rule allows to apply css style modifications on a label, e.g., depending on screen size\nclass LabelStyleRule {\n\n  constructor() {}\n\n  // Note: Labels may be reused for different shapes. So, make sure that the style parameters are\n  //       not just modified for some subset of shapes, but reset for others.\n  apply(label, shape, layer) {}\n};\n\n// Fades out based on label size\nclass FadeOutStyleRule extends LabelStyleRule {\n\n  // @param {number} rangeStart - shape width in screen-pixels at which the label starts to fade-in\n  // @param {number} rangeEnd   - shape width in screen-pixels at which the label is fully opaque.\n  constructor() {let rangeStart = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;let rangeEnd = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 14;\n    super();\n    this.rangeStart = rangeStart;\n    this.rangeEnd = rangeEnd;\n  }\n\n  apply(label, shape, layer) {\n\n    // compute opacity from shape screen-width\n    const width = getShapeWidth(shape, layer);\n    const t = (width - this.rangeStart) / (this.rangeEnd - this.rangeStart);\n    const opacity = THREE.Math.clamp(t, 0, 1);\n\n    label.container.style.opacity = opacity;\n  }\n};\n\n// A ShapeLabelRule maintains a set of labels that is automatically synced with the shapes in a layer.\n// It implements the CanvasGizmoBase to update the set of maintained labels.\nclass ShapeLabelRule {\n\n  // @param {EditLayer}               layer            - Labels are shown (and synchronized) with the content of this layer.\n  // @param {function(Shape)=>string} shapeToLabelText - A mapping that defines which text to display for a shape. If null, no label is created.\n  // @param {LabelFilter}             [filter]         - Defines which labels to show. See DefaultLabelFilter for default behavior.\n  // @param {LabelStyleRule}          [styleRule]      - Defines how label style is modified dynamically. (By default, we fade-out based on label size)\n  constructor(layer, shapeToLabelText) {let labelFilter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new DefaultLabelFilter();let styleRule = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : new FadeOutStyleRule();\n    this.layer = layer;\n    this.shapeToLabelText = shapeToLabelText;\n\n    // All labels that we created.\n    this.labels = {}; // {shapeId: ShapeLabel}\n\n    this.layer.addCanvasGizmo(this);\n    this.visible = true;\n    this.layer.update();\n\n    this.filter = labelFilter;\n    this.styleRule = styleRule;\n  }\n\n  // Replace the rule to define label texts.\n  //   @param {function(Shape)=>string} shapeToLabelText - A mapping that defines which text to display for a shape. If null, no label is created.\n  setTextRule(shapeToLabelText) {\n    this.shapeToLabelText = shapeToLabelText;\n    this.update();\n  }\n\n  setVisible(visible) {\n    if (visible === this.visible) {\n      return;\n    }\n\n    if (visible) {\n      // Note: It's essential that we add 'this' first and all maintained labels behind. In this way, this gizmo is updated first to\n      //       configure all labels - followed by the update calls for all active labels in use.\n      this.layer.addCanvasGizmo(this);\n      this.update();\n    } else {\n      this.clearLabels();\n      this.layer.removeCanvasGizmo(this);\n    }\n    this.visible = visible;\n  }\n\n  dtor() {\n    // Make sure that we don't leave any of our labels in the layer\n    this.setVisible(false);\n  }\n\n  removeLabelFromShape(shape) {\n    if (this.labels[shape.id]) {\n      this.clearLabel(this.labels[shape.id]);\n      delete this.labels[shape.id];\n    }\n  }\n\n  clearLabel(label) {\n    label.setShape(null);\n    label.setVisible(false);\n  }\n\n  // Hide + release all current labels, so that we can re-acquire them based on latest Layer state.\n  clearLabels() {\n    Object.values(this.labels).forEach((label) => {\n      this.clearLabel(label);\n    });\n\n    this.labels = {};\n  }\n\n  // Create new label or get it from cache\n  acquireLabel(shape) {\n    let label = this.labels[shape.id];\n\n    if (label) {\n      return label;\n    }\n\n    label = new ShapeLabel(null, this.layer);\n    label.setShape(shape);\n\n    this.labels[shape.id] = label;\n\n    return label;\n  }\n\n  update() {\n    const shapes = this.layer.shapes;\n    for (let i = 0; i < shapes.length; i++) {\n\n      const shape = shapes[i];\n\n      // Get label text\n      const text = this.shapeToLabelText(shape);\n\n      // Check if we want to display a label for this shape\n      if (this.filter && !this.filter.accepts(shape, text, this.layer)) {\n        this.removeLabelFromShape(shape);\n        continue;\n      }\n\n      // Configure label\n      const label = this.acquireLabel(shape);\n      label.setText(text);\n      label.setVisible(true);\n\n      // Apply optional custom style rule\n      this.styleRule && this.styleRule.apply(label, shape, this.layer);\n    }\n\n    // Clear labels that their shapes were removed.\n    // Needed when autoUpdate is disabled.\n    Object.values(this.labels).forEach((label) => {\n      // Shape no longer exists\n      if (shapes.indexOf(label.shape) === -1) {\n        this.removeLabelFromShape(label.shape);\n      }\n    });\n  }\n}\n\n// A ShapeToolTip is a label that shows up when hovering a shape.\n// By default, it appears a few pixels above the top-right corner of a shape's bbox.\nclass ShapeToolTip extends CanvasGizmoBase {\n\n  // @param {EditLayer}               layer - Tooltip will appear for all shapes in the given layer.\n  // @param {function(shape)=>string} getText - Function to define the text for a given shape\n  constructor(layer) {let getText = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    super();\n\n    this.layer = layer;\n    this.textCb = getText;\n    this.viewer = this.layer.viewer;\n\n    // track latest mouse position in layer coords (init on first mouse move)\n    this.mousePos = null;\n\n    // distance between tooltip and shape bbox\n    this.distanceToBox = 5; // in pixels\n\n    // Create tooltip div\n    this.container = this.getDocument().createElement('div');\n    this.container.classList.add('adsk-control-tooltip');\n\n    // Add div to viewer canvas container and layer\n    this.viewer.canvasWrap.appendChild(this.container);\n\n    // Update if layer changed\n    this.layer.addCanvasGizmo(this);\n\n    // Update if mouse moved\n    this.onMouseMoved = this.onMouseMoved.bind(this);\n    this.viewer.canvasWrap.addEventListener('mousemove', this.onMouseMoved);\n\n    this.layer.updateCanvasGizmos();\n  }\n\n  dtor() {\n    this.layer.removeCanvasGizmo();\n    this.viewer.canvasWrap.removeEventListener('mousemove', this.onMouseMoved);\n    this.viewer.canvasWrap.removeChild(this.container);\n  }\n\n  // Set callback that defines which text to display for each shape. Returning '' or null will hide the tooltip.\n  // @param {function(shape)=>string} getText - Function to define the text for a given shape\n  setTextCallback(getText) {\n    this.textCb = getText;\n    this.update();\n  }\n\n  onMouseMoved(event) {\n\n    // Add canvas coords to event\n    this.viewer.toolController.__clientToCanvasCoords(event);\n\n    // Track mouse position\n    this.mousePos = this.layer.canvasToLayer(event.canvasX, event.canvasY);\n\n    this.update();\n  }\n\n  update() {\n\n    // If a textCb is set, check shape under mouse\n    const shape = this.mousePos && this.textCb && this.layer.hitTest(this.mousePos.x, this.mousePos.y);\n\n    // Choose label text\n    const text = shape && this.textCb(shape);\n\n    // Apply text\n    this.container.textContent = text || '';\n\n    // Stop here if nothing to display\n    if (!text) {\n      this.container.style.visibility = 'hidden';\n      return;\n    }\n\n    // Show label\n    this.container.style.visibility = 'visible';\n\n    // Get top-right corner of bbox\n    shape.updateBBox(); // Make sure bbox is up-to-date\n    const corner = shape.bbox.max;\n\n    // Get anchor in canvas coords\n    const anchor = this.layer.layerToCanvas(corner.x, corner.y);\n\n    // Add some pixels y-offset\n    anchor.y -= this.distanceToBox;\n\n    // get canvas size\n    const width = this.viewer.canvas.width;\n    const height = this.viewer.canvas.height;\n\n    // Update tooltip position\n    this.container.style.right = width - anchor.x + 'px';\n    this.container.style.bottom = height - anchor.y + 'px';\n\n    this.container.style.left = 'auto';\n    this.container.style.top = 'auto';\n  }\n}\n\n// Purpose:\n// There is no efficient and simple way to ask a div whether it is under mouse or not.\n// The most reliable way is document.elementFromPoint(), but it is rather expensive.\n// Therefore, we don't want to do it for each and every gizmo. Instead, GizmoManager tracks\n// which object is under mouse and is generally used to check which gizmo is at mouse position.\nclass GizmoManager {\n\n  constructor() {\n    // div element at mouse position\n    this.elemUnderMouse = null;\n  }\n\n  // Must be triggered on mouse events.\n  // @param {MouseEvent}\n  update(e) {\n    this.elemUnderMouse = document.elementFromPoint(e.clientX, e.clientY);\n  }\n\n  // @param {CanvasGizmo}\n  isUnderMouse(gizmo) {\n    return gizmo.container && gizmo.container === this.elemUnderMouse;\n  }\n\n  // Returns the index of the gizmo that matches with the element under mouse.\n  // Result is -1 if none of the gizmos matches.\n  //  @param {CanvasGizmo[]} gizmo\n  getGizmoIndex(gizmos) {\n    return gizmos.findIndex((g) => this.isUnderMouse(g));\n  }\n}\n\n// Display dashed lines to connect start/end of arc segments. Used by PolygonEditTool.\n// It updates itself automatically whenever the shape changed.\nclass ArcEdgeGizmo {\n  constructor(layer, gizmoLayer) {\n\n    this.layer = layer;\n    this.gizmoLayer = gizmoLayer;\n\n    // One Line shape per arc segment in the host shape\n    this.shapes = [];\n\n    this.visibility = false;\n    this.setVisible(true);\n\n    // Optional: Display one edge in another color\n    this.highlightColor = undefined;\n    this.highlightIndex = -1; // must be a valid edge index in this.poly\n    this.highlightLoopIndex = -1; // must be a valid loop index in this.poly\n  }\n\n  dtor() {\n    // Just make sure it is invisible, so that shapes are cleared and\n    // gizmo is removed from GizmoLayer.\n    this.setVisible(false);\n  }\n\n  // Set the shape for which we display lines\n  setPoly(poly) {\n    if (poly !== this.poly) {\n      this.poly = poly;\n      this.clearEdgeHighlighting();\n      this.update();\n    }\n  }\n\n  setVisible(visible) {\n\n    // Do nothing if there's no change\n    if (this.visible === visible) {\n      return;\n    }\n    this.visible = visible;\n\n    // add/remove from layer\n    if (visible) {\n      this.layer.addCanvasGizmo(this);\n    } else {\n      this.layer.removeCanvasGizmo(this);\n    }\n    this.update();\n  }\n\n  clearShapes() {\n    this.shapes.forEach((s) => this.gizmoLayer.removeShape(s));\n    this.shapes = [];\n  }\n\n  edgeShapeName(index, loopIndex) {\n    return 'ArcEdgeGizmo_' + loopIndex + '_' + index;\n  }\n\n  // Create a line shape that connects start/end vertex of segment i in poly.\n  _addEdge(index, loopIndex) {\n\n    // get edge\n    const a = new THREE.Vector2();\n    const b = new THREE.Vector2();\n    this.poly.getEdge(index, a, b, loopIndex);\n\n    // Create a line from it\n    const line = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_1__.Polyline([a, b]);\n    line.name = this.edgeShapeName(index, loopIndex);\n\n    // Configure line style\n    line.style.lineStyle = 11; // short dashes\n    line.style.lineWidth = this.poly.style.lineWidth / 2.0;\n    line.style.lineAlpha = this.poly.style.lineAlha / 2.0;\n\n    // Apply optional edge highlighting color\n    if (index == this.highlightIndex && this.highlightColor) {\n      line.style.lineColor = this.highlightColor;\n    }\n\n    this.gizmoLayer.addShape(line);\n    this.shapes.push(line);\n  }\n\n  clearEdgeHighlighting() {\n\n    if (this.highlightIndex === -1) {\n      return;\n    }\n\n    this.highlightColor = null;\n    this.highlightIndex = -1;\n    this.highlight;\n    this.update();\n  }\n\n  // Assign different\n  setEdgeHighlighted(index, loopIndex, color) {\n\n    // Only do work if needed\n    if (index === this.highlightIndex && color === this.highlightColor) {\n      return;\n    }\n\n    this.highlightColor = color;\n    this.highlightIndex = index;\n    this.highlightLoopIndex = loopIndex;\n    this.update();\n  }\n\n  // Updates the edges for the given Path shape\n  update() {\n\n    this.clearShapes();\n\n    // Stop if there are no arcs\n    if (!this.visible || !this.poly || !this.poly.isPath()) {\n      return;\n    }\n\n    // For each loop...\n    for (let l = 0; l < this.poly.loopCount; l++) {\n\n      // For each edge...\n      const edgeCount = this.poly.getEdgeCount(l);\n      for (let i = 0; i < edgeCount; i++) {\n\n        // Add line if it is an arc\n        const isArc = this.poly.isArc(i, l);\n        if (isArc) {\n          this._addEdge(i, l);\n        }\n      }\n    }\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SyxFQUFFO1VBQ1AsSUFBSSxDQUFDakIsUUFBUSxDQUFDL0MsQ0FBQyxFQUFFOEQsQ0FBQyxDQUFDO1FBQ3ZCO01BQ0o7SUFDSjtFQUNKO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9FZGl0MkQvQ2FudmFzR2l6bW8uanM/ZWUzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IE1hdGgyRCB9IGZyb20gJy4vTWF0aDJELmpzJztcbmltcG9ydCB7IFBvbHlsaW5lLCBQb2x5QmFzZSB9IGZyb20gJy4vRWRpdFNoYXBlcy5qcyc7XG5cbi8vIGludCB2YWx1ZSB0byBzdHJpbmcsIGUuZy4gNTAgPT4gXCI1MHB4XCIgLSB0byB1c2VkIGZvciBzdHlsZSBhc3NpZ25tZW50cy5cbmNvbnN0IHRvUGl4ZWxzID0gKHZhbCkgPT4ge1xuICAgIHJldHVybiB2YWwudG9TdHJpbmcoKSArICdweCc7XG59O1xuXG5leHBvcnQgY29uc3QgQWxpZ25YID0ge1xuICAgIExlZnQ6ICAgMSxcbiAgICBDZW50ZXI6IDIsXG4gICAgUmlnaHQ6ICAzXG59O1xuXG5leHBvcnQgY29uc3QgQWxpZ25ZID0ge1xuICAgIFRvcDogICAgMSxcbiAgICBDZW50ZXI6IDIsXG4gICAgQm90dG9tOiAzXG59O1xuXG5jb25zdCBhdiA9IEF1dG9kZXNrLlZpZXdpbmc7XG5cbi8vIEJhc2UgY2xhc3MgZm9yIGFueSBnaXptbyB0aGF0IG5lZWRzIHRvIGJlIHN5bmNocm9uaXplZCB3aXRoIHRoZSBzaGFwZXMgb2YgYW4gRWRpdExheWVyLlxuZXhwb3J0IGNsYXNzIENhbnZhc0dpem1vQmFzZSB7XG4gICAgY29uc3RydWN0b3IoKSB7fVxuXG4gICAgLy8gQ2FsbGVkIHdoZW5ldmVyIHRoZSBsYXllciBvciBjYW1lcmEgY2hhbmdlcy5cbiAgICB1cGRhdGUoKSB7fTtcbn1cblxuYXYuR2xvYmFsTWFuYWdlck1peGluLmNhbGwoQ2FudmFzR2l6bW9CYXNlLnByb3RvdHlwZSk7XG5cbi8vIEEgQ2FudmFzR2l6bW8gaXMgYW4gaHRtbCBkaXYgYW5jaG9yZWQgYXQgYSBwb3NpdGlvbiBpbiBsYXllci1jb29yZHNcbmV4cG9ydCBjbGFzcyBDYW52YXNHaXptbyBleHRlbmRzIENhbnZhc0dpem1vQmFzZSB7XG4gICAgY29uc3RydWN0b3IobGF5ZXIsIHZpc2libGUgPSB0cnVlLCBjbGFzc05hbWUpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmxheWVyID0gbGF5ZXI7XG4gICAgICAgIHRoaXMuc2V0R2xvYmFsTWFuYWdlcihsYXllci5nbG9iYWxNYW5hZ2VyKTtcblxuICAgICAgICAvLyBwb3NpdGlvbiBpbiBsYXllci1jb29yZHMuIFRoZSB0cmFuc2Zvcm0gb3JpZ2luIG9mIHRoZSBkaXYgd2lsbCBhcHBlYXIgYXQgdGhpcyBwb3NpdGlvbi5cbiAgICAgICAgdGhpcy5sYXllclBvcyA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cbiAgICAgICAgLy8gcG9zaXRpb24gaW4gY2FudmFzLWNvb3JkcyAodXBkYXRlZCBiYXNlZCBvbiB0aGlzLmxheWVyUG9zIGFuZCBjYW1lcmEpXG4gICAgICAgIHRoaXMuY2FudmFzUG9zID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuICAgICAgICAvLyBodG1sIGNvbnRlbnQgdG8gYmUgc2hvd25cbiAgICAgICAgY29uc3QgX2RvY3VtZW50ID0gdGhpcy5nZXREb2N1bWVudCgpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IF9kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCBsYWJlbCBpcyBkaXNwbGF5ZWQgb24gdG9wIG9mIHRoZSBjYW52YXMgYW5kIG5vdCBcInB1c2hlZCBhd2F5XCIgYnkgaXQuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcblxuICAgICAgICAvLyBSb3RhdGUgYXJvdW5kIGdpem1vIGNlbnRlclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSAnNTAlIDUwJSc7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRvcCA9ICcwcHgnO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcblxuICAgICAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTaG93IGltbWVkaWF0ZWx5IGlmIHdhbnRlZFxuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmFsaWduWCA9IEFsaWduWC5DZW50ZXI7XG4gICAgICAgIHRoaXMuYWxpZ25ZID0gQWxpZ25ZLkNlbnRlcjtcblxuICAgICAgICAvLyBDbG9ja3dpc2Ugcm90YXRpb24gYW5nbGUgaW4gZGVncmVlcy4gUm90YXRlcyBhcm91bmQgY2VudGVyLlxuICAgICAgICB0aGlzLmFuZ2xlID0gMDtcblxuICAgICAgICBpZiAodmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRWaXNpYmxlKHRydWUsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZvciBmYWRlSW4vT3V0IGVmZmVjdHNcbiAgICAgICAgY29uc3Qgc2V0T3BhY2l0eSA9IHQgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUub3BhY2l0eSA9IHQ7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub3BhY2l0eVBhcmFtID0gbmV3IEF1dG9kZXNrLlZpZXdpbmcuUHJpdmF0ZS5BbmltYXRlZFBhcmFtKDEuMCwgc2V0T3BhY2l0eSwgMC41KTtcblxuICAgICAgICAvLyBCeSBkZWZhdWx0LCBqdXN0IGRlbGVnYXRlIHRvIHZpZXdlciBjb250ZXh0IG1lbnUuIEVkaXQyRENvbnRleHRNZW51IHdpbGwgdGFrZSBjYXJlXG4gICAgICAgIC8vIHRoYXQgaXQgaXMgcHJvcGVybHkgY29uZmlndXJlZC5cbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCAoZSkgPT4ge1xuXG4gICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBNYWM6IEJ5IGRlZmF1bHQsIExNVidzIGNvbnRleHQgbWVudSBpcyByZXNwb25kcyB0byByaWdodCBtb3VzZS1idXR0b24uXG4gICAgICAgICAgICAvLyBPbiBNYWMsIEN0cmwgKyBMZWZ0IGFsc28gdHJpZ2dlcnMgY29udGV4dCBtZW51IGV2ZW50cy4gVGhlc2UgbXVzdCBiZSBpZ25vcmVkIGhlcmUsIGJlY2F1c2U6XG4gICAgICAgICAgICAvLyAgICBhKSBDb25zaXN0ZW5jeTogTE1WIGlnbm9yZXMgdGhlbSBhcyB3ZWxsLlxuICAgICAgICAgICAgLy8gICAgYikgQ29uZmxpY3RzOiAgIFdoZW4gaW5zZXJ0aW5nIGEgdmVydGV4LCB3ZSBkb24ndCB3YW50IHRoZSBDb250ZXh0TWVudSB0byBzaG93IHVwLlxuICAgICAgICAgICAgY29uc3QgaXNMZWZ0QnV0dG9uID0gKGUuYnV0dG9ucyA9PSAxKTtcbiAgICAgICAgICAgIGlmICghaXNMZWZ0QnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXllci52aWV3ZXIudHJpZ2dlckNvbnRleHRNZW51KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBkdG9yKCkge1xuICAgICAgICB0aGlzLnNldFZpc2libGUoZmFsc2UpO1xuICAgIH1cblxuICAgIHNldFZpc2libGUodmlzaWJsZSwgYXV0b1VwZGF0ZSA9IHRydWUpIHtcbiAgICAgICAgaWYgKHZpc2libGUgPT0gdGhpcy52aXNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5hZGRUb0NhbnZhcyhhdXRvVXBkYXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRnJvbUNhbnZhcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52aXNpYmxlID0gdmlzaWJsZTtcbiAgICB9XG5cbiAgICBhZGRUb0NhbnZhcyhhdXRvVXBkYXRlID0gdHJ1ZSkge1xuICAgICAgICAvLyBOb3RlOiBJdCdzIGVzc2VudGlhbCB0aGF0IHdlIGFkZCBpdCB0byB2aWV3ZXIuY2FudmFzV3JhcCBpbnN0ZWFkIG9mIHZpZXdlci5jb250YWluZXI6XG4gICAgICAgIC8vICAgICAgIFRvb2xDb250cm9sbGVyIGxpc3RlbnMgdG8gZXZlbnRzIG9uIGNhbnZhc1dyYXAuIFRoZXJlZm9yZSwgaWYgd2Ugd291bGQgYWRkXG4gICAgICAgIC8vICAgICAgIGl0IHRvIHZpZXdlci5jb250YWluZXIsIGFsbCBtb3VzZSBldmVudHMgY2FwdHVyZWQgd291bGQgbmV2ZXIgcmVhY2ggdGhlIFRvb2xDb250cm9sbGVyXG4gICAgICAgIC8vICAgICAgIG5vIG1hdHRlciB3aGV0aGVyIHRoZSBnaXptbyBoYW5kbGVzIHRoZW0gb3Igbm90LlxuICAgICAgICB0aGlzLmxheWVyLnZpZXdlci5jYW52YXNXcmFwLmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5sYXllci5hZGRDYW52YXNHaXptbyh0aGlzKTtcblxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCBwb3NpdGlvbiBpcyBjb3JyZWN0XG4gICAgICAgIGlmIChhdXRvVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlRnJvbUNhbnZhcygpIHtcbiAgICAgICAgdGhpcy5sYXllci52aWV3ZXIuY2FudmFzV3JhcC5yZW1vdmVDaGlsZCh0aGlzLmNvbnRhaW5lcik7XG4gICAgICAgIHRoaXMubGF5ZXIucmVtb3ZlQ2FudmFzR2l6bW8odGhpcyk7XG4gICAgfVxuXG4gICAgc2V0QWxpZ25YKGFsaWduWCkge1xuICAgICAgICB0aGlzLmFsaWduWCA9IGFsaWduWDtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICBzZXRBbGlnblkoYWxpZ25ZKSB7XG4gICAgICAgIHRoaXMuYWxpZ25ZID0gYWxpZ25ZO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIC8vIEBwYXJhbSB7bnVtYmVyfSBhbmdsZSAtIENsb2Nrd2lzZSBhbmdsZSBpbiBkZWdyZWVzXG4gICAgLy9cbiAgICAvLyBOb3RlOiBEbyBub3QgdXNlICdwb3NpdGlvbjphYnNvbHV0ZScgaW4gY2hpbGQgaHRtbCBlbGVtZW50cy5cbiAgICAvLyAgICAgICBPdGhlcndpc2UsIHRoZSBjb250ZW50IGJveCB3aWxsIGJlIGVtcHR5IGFuZCBpdCB3aWxsIG5vdCByb3RhdGUgYXJvdW5kIGFueW1vcmUuXG4gICAgc2V0Um90YXRpb24oYW5nbGUpIHtcbiAgICAgICAgdGhpcy5hbmdsZSA9IGFuZ2xlO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5jYW52YXNQb3MuY29weSh0aGlzLmxheWVyLmxheWVyVG9DYW52YXModGhpcy5sYXllclBvcy54LCB0aGlzLmxheWVyUG9zLnkpKTtcblxuICAgICAgICBjb25zdCBwID0gdGhpcy5jYW52YXNQb3M7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5jb250YWluZXIuc3R5bGU7XG5cbiAgICAgICAgLy8gc2V0IGxlZnQvdG9wIHRvIGdpem1vIHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IGxlZnQgPSB0b1BpeGVscyhwLngpO1xuICAgICAgICBjb25zdCB0b3AgID0gdG9QaXhlbHMocC55KTtcblxuICAgICAgICAvLyBDaG9vc2UgdHJhbnNsYXRpb24gb2Zmc2V0IGluICUgYmFzZWQgb24gWC1hbGlnbm1lbnRcbiAgICAgICAgbGV0IHR4O1xuICAgICAgICBzd2l0Y2godGhpcy5hbGlnblgpIHtcbiAgICAgICAgICAgIGNhc2UgQWxpZ25YLkxlZnQ6ICAgdHggPSAnMCUnOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQWxpZ25YLkNlbnRlcjogdHggPSAnLTUwJSc7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBBbGlnblguUmlnaHQ6ICB0eCA9ICctMTAwJSc7IGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHR5O1xuICAgICAgICBzd2l0Y2godGhpcy5hbGlnblkpIHtcbiAgICAgICAgICAgIGNhc2UgQWxpZ25ZLlRvcDogICAgdHkgPSAnMCUnOyAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQWxpZ25ZLkNlbnRlcjogdHkgPSAnLTUwJSc7ICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQWxpZ25ZLkJvdHRvbTogdHkgPSAnLTEwMCUnOyBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSB0cmFuc2Zvcm0gYmFzZWQgb24gcm90YXRpb24gYW5nbGUgYW5kIGFsaWdubWVudFxuICAgICAgICBzdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7bGVmdH0sICR7dG9wfSkgdHJhbnNsYXRlKCR7dHh9LCAke3R5fSkgcm90YXRlKCR7dGhpcy5hbmdsZX1kZWcpYDtcbiAgICB9XG5cbiAgICAvLyBTZXQgcG9zaXRpb24gaW4gbGF5ZXIgY29vcmRzXG4gICAgc2V0UG9zaXRpb24oeCwgeSkge1xuICAgICAgICB0aGlzLmxheWVyUG9zLnNldCh4LCB5KTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICBzZXRDbGFzc0VuYWJsZWQoY2xhc3NOYW1lLCBlbmFibGVkKSB7XG4gICAgICAgIGlmIChlbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTZWxlY3Rpb24gc3RhdGUgaXMgbWFuYWdlZCB1c2luZyBhIGNzcy1jbGFzcyAnc2VsZWN0ZWQnLlxuICAgIC8vIE5vdGUgdGhhdCB0aGlzIG9ubHkgaGFzIGFuIGVmZmVjdCBpZiB0aGUgY3NzIHN0eWxlIHVzZWQgZm9yIHRoZSBnaXptbyBzdXBwb3J0cyBpdC5cbiAgICBzZXRTZWxlY3RlZChzZWxlY3RlZCkge1xuICAgICAgICB0aGlzLnNldENsYXNzRW5hYmxlZCgnc2VsZWN0ZWQnLCBzZWxlY3RlZCk7XG4gICAgfVxuXG4gICAgaXNTZWxlY3RlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKTtcbiAgICB9XG5cbiAgICAvLyBPcHRpb25hbDogSG92ZXItZWZmZWN0IGZvciBnaXptb3MgdGhhdCBjYW4gYmUgY2xpY2tlZCBvciBkcmFnZ2VkLlxuICAgIHNldEhvdmVyRW5hYmxlZChlbmFibGVkKSB7XG4gICAgICAgIHRoaXMuc2V0Q2xhc3NFbmFibGVkKCdlbmFibGUtaG92ZXInLCBlbmFibGVkKTtcbiAgICB9XG5cbiAgICAvLyBPcHRpb25hbDogQXNzaWduIGEgbmFtZSB0byBnaXptbyBhbmQgZGl2IGVsZW1lbnQgdG8gZmFjaWxpdGF0ZSBkZWJ1Z2dpbmcgYW5kIHRlc3RpbmcuXG4gICAgc2V0TmFtZShuYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmlkID0gbmFtZSA/IG5hbWUgOiAnJztcbiAgICB9XG5cbiAgICAvLyBDaGFuZ2UgY3NzIG9wYWNpdHkuIElmIHdhbnRlZCwgdGhlIGNoYW5nZSBjYW4gYmUgc21vb3RobHkgZmFkZWQuXG4gICAgc2V0T3BhY2l0eSh2YWx1ZSwgYW5pbWF0ZSkge1xuICAgICAgICBpZiAoYW5pbWF0ZSkge1xuICAgICAgICAgICAgdGhpcy5vcGFjaXR5UGFyYW0uZmFkZVRvKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub3BhY2l0eVBhcmFtLnNldFZhbHVlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gQ29uZmlndXJlIENhbnZhc0dpem1vIGFzIGEgdGV4dCBsYWJlbC5cbmNvbnN0IGluaXRUZXh0TGFiZWwgPSAoZ2l6bW8pID0+IHtcblxuICAgIC8vIFVzZSBtZWFzdXJlLXRvb2wgc3R5bGVzIGJ5IGRlZmF1bHRcbiAgICBnaXptby5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnZWRpdDJkLWxhYmVsJyk7XG4gICAgZ2l6bW8uY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcblxuICAgIC8vIENyZWF0ZSB0ZXh0RGl2IGNoaWxkIGRpdlxuICAgIGNvbnN0IF9kb2N1bWVudCA9IGdpem1vLmdldERvY3VtZW50KCk7XG4gICAgZ2l6bW8udGV4dERpdiA9IF9kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBnaXptby50ZXh0RGl2LmNsYXNzTGlzdC5hZGQoJ2VkaXQyZC1sYWJlbC10ZXh0Jyk7XG4gICAgZ2l6bW8uY29udGFpbmVyLmFwcGVuZENoaWxkKGdpem1vLnRleHREaXYpO1xuXG4gICAgLy8gQWRkIHNldFRleHQgY29udmVuaWVuY2UgZnVuY3Rpb25cbiAgICBnaXptby5zZXRUZXh0ID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIHRoaXMudGV4dERpdi50ZXh0Q29udGVudCA9IHN0cjtcbiAgICB9LmJpbmQoZ2l6bW8pO1xufTtcblxuLy8gU2ltcGxlIFRleHRMYWJlbCBib3VuZCB0byBhIGZpeGVkIHBvc2l0aW9uIGluIGxheWVyIGNvb3Jkc1xuZXhwb3J0IGNsYXNzIFRleHRMYWJlbCBleHRlbmRzIENhbnZhc0dpem1vIHtcblxuICAgIGNvbnN0cnVjdG9yKGxheWVyLCB0ZXh0LCBjbGFzc05hbWUpIHtcbiAgICAgICAgc3VwZXIobGF5ZXIsIHRydWUsIGNsYXNzTmFtZSk7XG4gICAgICAgIGluaXRUZXh0TGFiZWwodGhpcyk7XG4gICAgfVxuXG59O1xuXG4vLyBBIFNoYXBlTGFiZWwgaXMgYSB0ZXh0IGxhYmVsIHdob3NlIGFuY2hvciBwb3NpdGlvbiBpcyBzeW5jaHJvbml6ZWQgd2l0aCB0aGUgYmJveCBjZW50ZXIgb2YgYSBzaGFwZSBpbiBhIGxheWVyLlxuZXhwb3J0IGNsYXNzIFNoYXBlTGFiZWwgZXh0ZW5kcyBDYW52YXNHaXptbyB7XG5cbiAgICBjb25zdHJ1Y3RvcihzaGFwZSwgbGF5ZXIsIHZpc2libGUgPSB0cnVlLCBjbGFzc05hbWUpIHtcbiAgICAgICAgc3VwZXIobGF5ZXIsIHZpc2libGUsIGNsYXNzTmFtZSk7XG5cbiAgICAgICAgaW5pdFRleHRMYWJlbCh0aGlzKTtcblxuICAgICAgICB0aGlzLnNoYXBlID0gc2hhcGU7XG5cbiAgICAgICAgLy8gQ2FuIGJlIHNldCB0byBoaWRkZW4gdG8gdGVtcG9yYXJpbHkgaGlkZSB0aGUgbGFiZWxcbiAgICAgICAgdGhpcy52YWx1ZVZhbGlkID0gdHJ1ZTtcblxuICAgICAgICAvLyBPcHRpb25hbDogU2hpZnQgbGFiZWwgYnkgYSBjb3VwbGUgb2YgcGl4ZWxzLlxuICAgICAgICB0aGlzLnBpeGVsT2Zmc2V0ID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2hhcGUgJiYgdGhpcy52YWx1ZVZhbGlkKSB7XG4gICAgICAgICAgICAvLyBTZXQgaXQgdG8gdmlzaWJsZSAoaW4gY2FzZSBwb2x5Z29uIHdhcyBudWxsIGJlZm9yZSlcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNoYXBlLmlzUG9seWxpbmUoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVkZ2VDb3VudCA9IHRoaXMuc2hhcGUuZ2V0RWRnZUNvdW50KDApO1xuICAgICAgICAgICAgICAgIC8vIEZvciBhIHN0YXJ0LCBzaW1wbHkgcG9zaXRpb24gdGhlIGxhYmVsIG9uIHRoZSBzZWdtZW50IHJvdWdobHkgaW4gdGhlIG1pZGRsZSBvZiB0aGUgcG9seWxpbmVcbiAgICAgICAgICAgICAgICBjb25zdCBlZGdlVG9MYWJlbCA9IE1hdGguZmxvb3IoZWRnZUNvdW50IC8gMik7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hhcGUuZWRnZUluZGV4VmFsaWQoZWRnZVRvTGFiZWwpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNldCBsYXllciBwb3NpdGlvbiB0byBjZW50ZXIgcG9pbnQgb2YgdGhlIHNlZ21lbnQuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hhcGUuZ2V0UG9pbnRPbkVkZ2UoZWRnZVRvTGFiZWwsIDAuNSwgMCwgdGhpcy5sYXllclBvcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRm9yIGEgc3RhcnQsIHNpbXBseSB1c2UgdGhlIGJib3ggY2VudGVyIG9mIHRoZSBwb2x5Z29uLiBJbiBzb21lIGNhc2VzLCB0aGlzIG1pZ2h0IGVuZCB1cCBvdXRzaWRlIHRoZVxuICAgICAgICAgICAgICAgIC8vIHBvbHlnb24sIHNvIHdlIG1heSBjb25zaWRlciBzb21ldGhpbmcgc21hcnRlciBsYXRlci5cbiAgICAgICAgICAgICAgICB0aGlzLnNoYXBlLmNvbXB1dGVCQm94KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFwZS5iYm94LmdldENlbnRlcih0aGlzLmxheWVyUG9zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gT3B0aW9uYWw6IFNoaWZ0IGJ5IGEgZmV3IHBpeGVsc1xuICAgICAgICAgICAgaWYgKHRoaXMucGl4ZWxPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b1VuaXRzID0gdGhpcy5sYXllci5nZXRVbml0c1BlclBpeGVsKCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hpZnRYID0gdGhpcy5waXhlbE9mZnNldC54ICogdG9Vbml0cztcbiAgICAgICAgICAgICAgICBjb25zdCBzaGlmdFkgPSB0aGlzLnBpeGVsT2Zmc2V0LnkgKiB0b1VuaXRzO1xuICAgICAgICAgICAgICAgIHRoaXMubGF5ZXJQb3MueCArPSBzaGlmdFg7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXllclBvcy55ICs9IHNoaWZ0WTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3VwZXIudXBkYXRlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRTaGFwZShzaGFwZSkge1xuICAgICAgICB0aGlzLnNoYXBlID0gc2hhcGU7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxufVxuXG4vLyBPbmx5IHdvcmtzIGZvciBzaGFwZXMgd2l0aCBnZXRMZW5ndGgoKSBmdW5jdGlvblxuZXhwb3J0IGNsYXNzIExlbmd0aExhYmVsIGV4dGVuZHMgU2hhcGVMYWJlbCB7XG5cbiAgICAvLyBAcGFyYW0ge1BvbHlsaW5lfSAgICBwb2x5bGluZVxuICAgIC8vIEBwYXJhbSB7RWRpdExheWVyfSAgIGxheWVyXG4gICAgLy8gQHBhcmFtIHtVbml0SGFuZGxlcn0gdW5pdEhhbmRsZXIgLSB1bml0SGFuZGxlci5hcmVhVG9TdHJpbmcoKSBpcyByZXF1aXJlZCB0byBkZWZpbmUgaG93IHRvIGRpc3BsYXkgYXJlYSB2YWx1ZXMgYXMgc3RyaW5nLlxuICAgIC8vIEBwYXJhbSB7Ym9vbH0gICAgICAgIFt2aXNpYmxlXVxuICAgIGNvbnN0cnVjdG9yKHBvbHlsaW5lLCBsYXllciwgdW5pdEhhbmRsZXIsIHZpc2libGUgPSB0cnVlKSB7XG4gICAgICAgIHN1cGVyKHBvbHlsaW5lLCBsYXllciwgdmlzaWJsZSk7XG4gICAgICAgIHRoaXMudW5pdEhhbmRsZXIgPSB1bml0SGFuZGxlcjtcbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIC8vIEdldCBzaGFwZSBsZW5ndGggKGlmIHNoYXBlIHN1cHBvcnRzIGl0KVxuICAgICAgICBjb25zdCBoYXNMZW5ndGggPSB0aGlzLnNoYXBlICYmIHRoaXMuc2hhcGUuZ2V0TGVuZ3RoO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBoYXNMZW5ndGggJiYgdGhpcy5zaGFwZS5nZXRMZW5ndGgodGhpcy51bml0SGFuZGxlci5tZWFzdXJlVHJhbnNmb3JtKTtcblxuICAgICAgICAvLyBIaWRlIGxhYmVsIGlmIHdlIGRvbid0IGhhdmUgYSB3ZWxsLWRlZmluZWQgbGVuZ3RoLlxuICAgICAgICAvLyBXZSBhbHNvIGhpZGUgaXQgaWYgbGVuZ3RoIGlzIDAuMCwgYmVjYXVzZSB0aGUgc2hhcGUgY2Fubm90IGJlIHZpc2libGUgYW55d2F5LlxuICAgICAgICB0aGlzLnZhbHVlVmFsaWQgPSBCb29sZWFuKGxlbmd0aCk7XG5cbiAgICAgICAgaWYgKHRoaXMudmFsdWVWYWxpZCkge1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMudW5pdEhhbmRsZXIubGVuZ3RoVG9TdHJpbmcobGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0VGV4dCh0ZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExldCBiYXNlIGNsYXNzIHVwZGF0ZSBwb3NpdGlvblxuICAgICAgICBzdXBlci51cGRhdGUoKTtcbiAgICB9XG59XG5cbi8vIE9ubHkgd29ya3MgZm9yIHNoYXBlcyB3aXRoIGdldEFyZWEoKSBmdW5jdGlvblxuZXhwb3J0IGNsYXNzIEFyZWFMYWJlbCBleHRlbmRzIFNoYXBlTGFiZWwge1xuXG4gICAgLy8gQHBhcmFtIHtQb2x5Z29ufSAgICAgcG9seWdvblxuICAgIC8vIEBwYXJhbSB7RWRpdExheWVyfSAgIGxheWVyXG4gICAgLy8gQHBhcmFtIHtVbml0SGFuZGxlcn0gdW5pdEhhbmRsZXIgLSB1bml0SGFuZGxlci5hcmVhVG9TdHJpbmcoKSBpcyByZXF1aXJlZCB0byBkZWZpbmUgaG93IHRvIGRpc3BsYXkgYXJlYSB2YWx1ZXMgYXMgc3RyaW5nLlxuICAgIC8vIEBwYXJhbSB7Ym9vbH0gICAgICAgIFt2aXNpYmxlXVxuICAgIGNvbnN0cnVjdG9yKHBvbHlnb24sIGxheWVyLCB1bml0SGFuZGxlciwgdmlzaWJsZSA9IHRydWUpIHtcbiAgICAgICAgc3VwZXIocG9seWdvbiwgbGF5ZXIsIHZpc2libGUpO1xuICAgICAgICB0aGlzLnVuaXRIYW5kbGVyID0gdW5pdEhhbmRsZXI7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7IC8vIHVwZGF0ZSB3aXRoIHByb3BlciB1bml0SGFuZGxlclxuICAgIH1cblxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgLy8gRG9uJ3QgZGlzcGxheSB1bnRpbCBhIHVuaXRIYW5kbGVyIGlzIHNldFxuICAgICAgICBpZiAoIXRoaXMudW5pdEhhbmRsZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSBQb2x5QmFzZSB3aXRoIHNlbGYtaW50ZXJzZWN0aW9uczogRGlzcGxheSBhbiBlcnJvciBpbmRpY2F0b3IgaW4gdGhpcyBjYXNlLlxuICAgICAgICBpZiAodGhpcy5zaGFwZSAmJiB0aGlzLnNoYXBlLmlzU2VsZkludGVyc2VjdGluZyAmJiB0aGlzLnNoYXBlLmlzU2VsZkludGVyc2VjdGluZygpKSB7XG5cbiAgICAgICAgICAgIC8vIFNob3cgYW4gZXJyb3IgaW5kaWNhdG9yIGluc3RlYWRcbiAgICAgICAgICAgIHRoaXMuc2V0VGV4dChhdi5pMThuLnQoJ0ludmFsaWQgc2hhcGUnKSk7XG5cbiAgICAgICAgICAgIC8vIE1hcmsgYXJlYSBsYWJlbCBhcyBlcnJvclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnZXJyb3ItaW5kaWNhdG9yJyk7XG5cbiAgICAgICAgICAgIC8vIE1hcmsgc3VyZSBlcnJvciBpbmRpY2F0b3IgaXMgZGlzcGxheWVkXG4gICAgICAgICAgICB0aGlzLnZhbHVlVmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgc3VwZXIudXBkYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IGVycm9yIGluZGljYXRvciBpcyB0b2dnbGVkIG9mZlxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3ItaW5kaWNhdG9yJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgc2hhcGUgYXJlYSAoaWYgc2hhcGUgc3VwcG9ydHMgaXQpXG4gICAgICAgIGxldCBoYXNBcmVhID0gdGhpcy5zaGFwZSAmJiB0aGlzLnNoYXBlLmdldEFyZWE7XG4gICAgICAgIGxldCBhcmVhICAgID0gaGFzQXJlYSAmJiB0aGlzLnNoYXBlLmdldEFyZWEodGhpcy51bml0SGFuZGxlci5tZWFzdXJlVHJhbnNmb3JtKTtcblxuICAgICAgICAvLyBIaWRlIGxhYmVsIGlmIHdlIGRvbid0IGhhdmUgYSB3ZWxsLWRlZmluZWQgYXJlYS5cbiAgICAgICAgLy8gV2UgYWxzbyBoaWRlIGl0IGlmIGFyZWEgaXMgMC4wLCBiZWNhdXNlIHRoZSBzaGFwZSBjYW5ub3QgYmUgdmlzaWJsZSBhbnl3YXkuXG4gICAgICAgIHRoaXMudmFsdWVWYWxpZCA9IEJvb2xlYW4oYXJlYSk7XG5cbiAgICAgICAgaWYgKHRoaXMudmFsdWVWYWxpZCkge1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMudW5pdEhhbmRsZXIuYXJlYVRvU3RyaW5nKGFyZWEpO1xuICAgICAgICAgICAgdGhpcy5zZXRUZXh0KHRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTGV0IGJhc2UgY2xhc3MgdXBkYXRlIHBvc2l0aW9uXG4gICAgICAgIHN1cGVyLnVwZGF0ZSgpO1xuICAgIH1cbn1cblxuLy8gQSBodG1sIGVsZW1lbnQgZm9yIHdoaWNoIHBvc2l0aW9uIGFuZCByb3RhdGlvbiBpcyBhbGlnbmVkIHdpdGggYW4gZWRnZVxuZXhwb3J0IGNsYXNzIEVkZ2VHaXptbyBleHRlbmRzIENhbnZhc0dpem1vIHtcblxuICAgIC8vIEBwYXJhbSB7RWRpdExheWVyfSBsYXllclxuICAgIC8vIEBwYXJhbSB7Ym9vbH0gdmlzaWJsZVxuICAgIGNvbnN0cnVjdG9yKGxheWVyLCB2aXNpYmxlID0gdHJ1ZSwgY2xhc3NOYW1lKSB7XG4gICAgICAgIHN1cGVyKGxheWVyLCB2aXNpYmxlLCBjbGFzc05hbWUpO1xuXG4gICAgICAgIHRoaXMucG9zQSA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gICAgICAgIHRoaXMucG9zQiA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cbiAgICAgICAgLy8gSW5kaWNhdGVzIGlmIGEgcG9zaXRpb24gaGFzIGJlZW4gc2V0LiBJZiBub3QsIHdlIHRlbXBvcmFyaWx5IGhpZGUgdGhlIGdpem1vLiBJZiB0aGUgZ2l6bW8gaXNcbiAgICAgICAgLy8gYXR0YWNoZWQgdG8gYW4gZWRnZSwgdGhpcyBmbGFnIGlzIHNldCBhdXRvbWF0aWNhbGx5LlxuICAgICAgICB0aGlzLnBvc1ZhbGlkID0gZmFsc2U7XG5cbiAgICAgICAgLy8gVGVtcCB2ZWN0b3JzIHVzZWQgaW4gdXBkYXRlXG4gICAgICAgIHRoaXMuZWRnZURpciA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cbiAgICAgICAgLy8gT3B0aW9uYWw6IFBvc2l0aW9ucyBjYW4gYmUgc3luY2hyb25pemVkIHdpdGggYW4gZWRnZSBvZiBhIHBvbHlnb24gb3IgcG9seWxpbmVcbiAgICAgICAgdGhpcy5wb2x5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5sb29wSW5kZXggPSAwO1xuICAgICAgICB0aGlzLmVkZ2VJbmRleCA9IDA7XG5cbiAgICAgICAgLy8gVXNlIG1lYXN1cmUtbGVuZ3RoIGNzcyBzdHlsZSBieSBkZWZhdWx0XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2VkZ2UtZ2l6bW8nKTtcblxuICAgICAgICAvLyBPcHRpb25hbDogQnkgZGVmYXVsdCwgYW4gRWRnZUdpem1vIGlzIGFsd2F5cyBwbGFjZWQgb24gYSBzZWdtZW50LCBpLmUuLCB0aGUgZ2l6bW8gd2lsbCBmb2xsb3cgYSBjdXJ2ZSBmb3IgYXJjIHNlZ21lbnRzLlxuICAgICAgICAvLyAgICAgICAgICAgSWYgdGhpcyBmbGFnIGlzIHRydWUsIHRoZSBnaXptbyBpcyBhbHdheXMgcGxhY2VkIG9uIHRoZSBkaXJlY3QgbGluZSBjb25uZWN0aW9uLlxuICAgICAgICB0aGlzLmlnbm9yZUFyY3MgPSBmYWxzZTtcblxuICAgICAgICAvLyBPcHRpb25hbDogSWYgc3BlY2lmaWVkLCB0aGlzIGxpbWl0cyB0aGUgc2l6ZSBvZiB0aGUgZ2l6bW8gcmVsYXRpdmUgdG8gdGhlIGVkZ2UgbGVuZ3RoIG9uIHNjcmVlbjpcbiAgICAgICAgLy8gV2UgaGlkZSB0aGUgZ2l6bW8gaWYgaXQgZXhjZWVkcyB4ICogZWRnZUxlbmd0aCBvbiBzY3JlZW4uXG4gICAgICAgIHRoaXMubWF4UmVsYXRpdmVMZW5ndGggPSB1bmRlZmluZWQ7IC8vIGluIFswLDFdXG4gICAgfVxuXG4gICAgLy8gSWYgYSBwb2x5IGlzIHNldCwgdGhlIGdpem1vIGlzIGF1dG9tYXRpY2FsbHkgc3luY2hyb25pemVkIHdpdGggdGhlIGVkZ2UuXG4gICAgLy8gQXMgbG9uZyBhcyB0aGUgcG9seSBpcyB2aXNpYmxlIGluIHRoZSBzYW1lIGxheWVyLCB0aGUgZWRnZSBpcyBhdXRvbWF0aWNhbGx5IGtlcHQgaW4gc3luYyB3aXRoIHRoZSBlZGdlLlxuICAgIC8vXG4gICAgLy8gIEBwYXJhbSB7UG9seUJhc2V9IHBvbHkgICAgICAtIHBvbHlnb24gb3IgcG9seWxpbmUgY29udGFpbmluZyB0aGUgZWRnZSB0aGF0IHdlIHdhbnQgdG8gYXR0YWNoIHRvLiBJZiBudWxsLCBwb3NpdGlvbnMgY2FuIGJlIHNldCBtYW51YWxseS5cbiAgICAvLyAgQHBhcmFtIHtudW1iZXJ9IGVkZ2VJbmRleCAgIC0gZWRnZUluZGV4IGluIHBvbHkuIElmIG5vdCB2YWxpZCwgZ2l6bW8gaXMgaGlkZGVuLlxuICAgIC8vICBAcGFyYW0ge251bWJlcn0gW2xvb3BJbmRleF0gLSBsb29wSW5kZXggaW4gcG9seS4gMCBieSBkZWZhdWx0XG4gICAgYXR0YWNoVG9FZGdlKHBvbHksIGVkZ2VJbmRleCwgbG9vcEluZGV4ID0gMCkge1xuICAgICAgICB0aGlzLnBvbHkgPSBwb2x5O1xuICAgICAgICB0aGlzLmVkZ2VJbmRleCA9IGVkZ2VJbmRleDtcbiAgICAgICAgdGhpcy5sb29wSW5kZXggPSBsb29wSW5kZXg7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgZGV0YWNoRnJvbUVkZ2UoKSB7XG4gICAgICAgIHRoaXMucG9seSA9IG51bGw7XG4gICAgICAgIHRoaXMuZWRnZUluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMubG9vcEluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMucG9zVmFsaWQgPSBmYWxzZTsgLy8gaGlkZSB1bmxlc3MgYSBwb3NpdGlvbiBpcyBleHBsaWNpdGx5IHNldFxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIGVkZ2VWYWxpZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9seSAmJiB0aGlzLnBvbHkuZWRnZUluZGV4VmFsaWQodGhpcy5lZGdlSW5kZXgsIHRoaXMubG9vcEluZGV4KTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG5cbiAgICAgICAgLy8gSWYgYSBwb2x5Z29uIGlzIHNldCwgb2J0YWluIHBvc2l0aW9ucyBhdXRvbWF0aWNhbGx5IGZyb20gaXQgLSBvciBoaWRlIGdpem1vIGlmIGVkZ2UgZG9lcyBub3QgZXhpc3QgYW55bW9yZVxuICAgICAgICBpZiAodGhpcy5wb2x5ICYmIHRoaXMucG9seS5lZGdlSW5kZXhWYWxpZCh0aGlzLmVkZ2VJbmRleCwgdGhpcy5sb29wSW5kZXgpKSB7XG4gICAgICAgICAgICB0aGlzLnBvbHkuZ2V0RWRnZSh0aGlzLmVkZ2VJbmRleCwgdGhpcy5wb3NBLCB0aGlzLnBvc0IsIHRoaXMubG9vcEluZGV4KTtcbiAgICAgICAgICAgIHRoaXMucG9zVmFsaWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVGhpcyBtYXkgaGFwcGVuIGlmIGhvc3QgcG9seWdvbiB3YXMgbW9kaWZpZWQgYW5kIHRoZSBlZGdlIGRvZXMgbm90IGV4aXN0IGFueW1vcmUuXG4gICAgICAgICAgICB0aGlzLnBvc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBlZGdlIGlzIGludmFsaWQgb3IgdG9vIHNtYWxsIG9uIHNjcmVlbiwganVzdCBoaWRlIHRoZSBnaXptb1xuICAgICAgICBsZXQgc2hvdyA9IHRoaXMuX3Nob3VsZEJlU2hvd24oKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9IHNob3cgPyAndmlzaWJsZScgOiAnaGlkZGVuJztcbiAgICAgICAgaWYgKCFzaG93KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDZW50ZXIgZ2l6bW8gYXQgZWRnZSBjZW50ZXJcbiAgICAgICAgaWYgKHRoaXMuaWdub3JlQXJjcykge1xuICAgICAgICAgICAgLy8gUGxhY2Ugb24gdGhlIGxpbmUgc2VnbWVudFxuICAgICAgICAgICAgUG9seUJhc2UucHJvdG90eXBlLmdldFBvaW50T25FZGdlLmNhbGwodGhpcy5wb2x5LCB0aGlzLmVkZ2VJbmRleCwgMC41LCB0aGlzLmxvb3BJbmRleCwgdGhpcy5sYXllclBvcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBQbGFjZSBvbiBsaW5lIHNlZ21lbnQgb3IgYXJjIC0gZGVwZW5kaW5nIG9uIGFjdHVhbCBlZGdlIHR5cGVcbiAgICAgICAgICAgIHRoaXMucG9seS5nZXRQb2ludE9uRWRnZSh0aGlzLmVkZ2VJbmRleCwgMC41LCB0aGlzLmxvb3BJbmRleCwgdGhpcy5sYXllclBvcyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgcm90YXRpb24gYW5nbGVcbiAgICAgICAgdGhpcy5fdXBkYXRlUm90YXRpb24oKTtcblxuICAgICAgICBzdXBlci51cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB0aGUgZ2l6bW8gc2hvdWxkIGJlIHNob3duOiBXZSBoaWRlIGl0IGlmIHRoZSBlZGdlIGlzIHRvbyBzbWFsbCBvciBpZiB0aGUgZWRnZSBkb2VzIG5vdCBleGlzdCBhdCBhbGwuXG4gICAgX3Nob3VsZEJlU2hvd24oKSB7XG5cbiAgICAgICAgLy8gUG9zaXRpb25zIG11c3QgYmUgcHJvcGVybHkgc2V0IC0gZWl0aGVyIGF1dG9tYXRpY2FsbHkgZnJvbSBhbiBhdHRhY2hlZCBlZGdlIG9yIG1hbnVhbGx5IHVzaW5nIHNldEVkZ2UoKVxuICAgICAgICBpZiAoIXRoaXMucG9zVmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNob3cvSGlkZSBnaXptbyBkZXBlbmRpbmcgb24gem9vbTpcbiAgICAgICAgLy8gR2l6bW8gaGFzIGNvbnN0YW50IHNjcmVlbi1zaXplLiBTbywgd2UgaGlkZSBpdCBpZiB0aGUgc2NyZWVuLXNpemUgb2YgdGhlIGVkZ2UgYmVjb21lcyB0b28gc21hbGwuXG4gICAgICAgIGlmICh0aGlzLm1heFJlbGF0aXZlTGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBhU2NyZWVuID0gdGhpcy5sYXllci5sYXllclRvQ2FudmFzKHRoaXMucG9zQS54LCB0aGlzLnBvc0EueSk7XG4gICAgICAgICAgICBjb25zdCBiU2NyZWVuID0gdGhpcy5sYXllci5sYXllclRvQ2FudmFzKHRoaXMucG9zQi54LCB0aGlzLnBvc0IueSk7XG4gICAgICAgICAgICBjb25zdCBlZGdlTGVuZ3RoU2NyZWVuID0gYVNjcmVlbi5kaXN0YW5jZVRvKGJTY3JlZW4pO1xuICAgICAgICAgICAgY29uc3QgbWF4QWxsb3dlZFBpeGVscyA9IGVkZ2VMZW5ndGhTY3JlZW4gKiB0aGlzLm1heFJlbGF0aXZlTGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgX3dpbmRvdyA9IHRoaXMuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IHBhcnNlRmxvYXQoX3dpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuY29udGFpbmVyKS53aWR0aCk7XG4gICAgICAgICAgICByZXR1cm4gd2lkdGggPCBtYXhBbGxvd2VkUGl4ZWxzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIFNldCBzdHlsZSByb3RhdGlvbiB0byBhbGlnbiBnaXptbyBhbG9uZyBlZGdlIGRpcmVjdGlvbiwgc28gdGhhdCAnd2lkdGgnIGlzIGFsb25nIHRoZSBlZGdlXG4gICAgX3VwZGF0ZVJvdGF0aW9uKCkge1xuXG4gICAgICAgIC8vIENvbXB1dGUgY291bnRlckNsb2Nrd2lzZSBhbmdsZSBpbiByYWRpYW5zIHRoYXQgcm90YXRlcyB0aGUgcG9zaXRpdmUgeC1heGlzIHRvIHRoZSBlZGdlIGRpcmVjdGlvbiBhLT5iXG4gICAgICAgIC8vIEl0J3MgaW1wb3J0YW50IHRvIGNvbXB1dGUgdGhlIGFuZ2xlIGluIGNhbnZhcyBzcGFjZSBoZXJlLiBJZiB3ZSB3b3VsZCBjb21wdXRlIGl0IGluIGxheWVyIHNwYWNlLFxuICAgICAgICAvLyB0aGUgYW5nbGUgb3JpZW50YXRpb24gb2YgdGhlIHJlc3VsdCBtYXkgYmUgaW52ZXJ0ZWQgaWYgdGhlIGxheWVyVG9DYW52YXMoKSB0cmFuc2Zvcm0gaW52ZXJ0cyBvcmllbnRhdGlvbiAoZS5nLiBieSBmbGlwcGVkIHktYXhpcylcbiAgICAgICAgY29uc3QgYVNjcmVlbiA9IHRoaXMubGF5ZXIubGF5ZXJUb0NhbnZhcyh0aGlzLnBvc0EueCwgdGhpcy5wb3NBLnkpO1xuICAgICAgICBjb25zdCBiU2NyZWVuID0gdGhpcy5sYXllci5sYXllclRvQ2FudmFzKHRoaXMucG9zQi54LCB0aGlzLnBvc0IueSk7XG5cbiAgICAgICAgY29uc3QgZGlyID0gTWF0aDJELmdldEVkZ2VEaXJlY3Rpb24oYVNjcmVlbiwgYlNjcmVlbiwgdGhpcy5lZGdlRGlyKTtcbiAgICAgICAgbGV0IGFuZ2xlID0gTWF0aC5hdGFuMihkaXIueSwgZGlyLngpO1xuXG4gICAgICAgIC8vIEF2b2lkIHVwc2lkZS1kb3duIHJvdGF0aW9uOiBGbGlwIGJ5IDE4MCBkZWdyZWVzIGlmIGIgaXMgbGVmdCBvZiBhLiBUaGlzIGlzIGltcG9ydCBpZiBnaXptbyBjb250YWlucyB0ZXh0LlxuICAgICAgICBpZiAoZGlyLnggPCAwKSB7XG4gICAgICAgICAgICBhbmdsZSArPSBNYXRoLlBJO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29udmVydCBhbmdsZSB0byBjbG9ja3dpc2UgZGVncmVlcyBhbmQgYXBwbHkgaXQgdG8gc3R5bGVcbiAgICAgICAgLy8gSnVzdCBzZXQgdGhlIGFuZ2xlIGhlcmUsIGJ1dCBkb24ndCBjYWxsIHNldEFuZ2xlLCBiZWNhdWUgd2UgZG9uJ3Qgd2FudCB0byB0cmlnZ2VyIGF1dG8tdXBkYXRlLlxuICAgICAgICB0aGlzLmFuZ2xlID0gVEhSRUUuTWF0aC5yYWRUb0RlZyhhbmdsZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRWRnZU1vdmVHaXptbyBleHRlbmRzIEVkZ2VHaXptbyB7XG5cbiAgICBjb25zdHJ1Y3RvcihsYXllciwgbmFtZSwgdmlzaWJsZSA9IHRydWUsIGNsYXNzTmFtZSkge1xuICAgICAgICBzdXBlcihsYXllciwgdmlzaWJsZSwgY2xhc3NOYW1lKTtcblxuICAgICAgICB0aGlzLnNldE5hbWUobmFtZSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2VkZ2UtbW92ZS1naXptbycpO1xuXG4gICAgICAgIC8vIFdlIHBsYWNlIEVkZ2VNb3ZlR2l6bW9zIGFsd2F5cyBkaXJlY3RseSBvbiB0aGUgc3RyYWlnaHQgbGluZXMuIEluIHRoaXMgd2F5LCBlZGdlIG1vdmluZ1xuICAgICAgICAvLyB3aWxsIHdvcmsgaW4gdGhlIHNhbWUgd2F5IC0gbm8gbWF0dGVyIHdoZXRoZXIgYSBzZWdtZW50IGlzIGFuIGFyYyBvciBub3QuXG4gICAgICAgIHRoaXMuaWdub3JlQXJjcyA9IHRydWU7XG5cbiAgICAgICAgLy8gSGlkZSBnaXptbyBpZiBpdHMgc2NyZWVuV2lkdGggZXhjZWVkcyAwLjMgKiBlZGdlTGVuZ3RoXG4gICAgICAgIHRoaXMubWF4UmVsYXRpdmVMZW5ndGggPSAwLjM7IC8vIGluIFswLDFdXG4gICAgfVxufVxuXG4vLyBBbiBFZGdlR2l6bW8gdG8gZGlzcGxheSB0ZXh0XG5leHBvcnQgY2xhc3MgRWRnZUxhYmVsIGV4dGVuZHMgRWRnZUdpem1vIHtcblxuICAgIGNvbnN0cnVjdG9yKGxheWVyLCB2aXNpYmxlID0gdHJ1ZSkge1xuICAgICAgICBzdXBlcihsYXllciwgdmlzaWJsZSk7XG4gICAgICAgIGluaXRUZXh0TGFiZWwodGhpcyk7XG5cbiAgICAgICAgLy8gSGlkZSBsYWJlbCBpZiBpdCB3b3VsZCBleGNlZWQgdGhlIGVkZ2UgbGVuZ3RoXG4gICAgICAgIHRoaXMubWF4UmVsYXRpdmVMZW5ndGggPSAxLjA7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVmVydGV4R2l6bW8gZXh0ZW5kcyBDYW52YXNHaXptbyB7XG5cbiAgICAvLyBAcGFyYW0ge251bWJlcn0gIHgseSAgICAgICAtIFBvc2l0aW9uIGluIGxheWVyIGNvb3Jkc1xuICAgIC8vIEBwYXJhbSB7c3RyaW5nfSAgaWQgICAgICAgIC0gaWQgc3RyaW5nIHVzZWQgdG8gdGFnIHNoYXBlcyB0aGF0IHJlcHJlc2VudCB0aGlzIGdpem1vXG4gICAgY29uc3RydWN0b3IobGF5ZXIsIHgsIHksIG5hbWUsIGNsYXNzTmFtZSkge1xuICAgICAgICBzdXBlcihsYXllciwgdHJ1ZSwgY2xhc3NOYW1lKTtcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbih4LCB5KTtcbiAgICAgICAgdGhpcy5zZXROYW1lKG5hbWUpO1xuXG4gICAgICAgIHRoaXMucG9zID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuICAgICAgICAvLyBPcHRpb25hbDogUG9zaXRpb25zIGNhbiBiZSBzeW5jaHJvbml6ZWQgd2l0aCBhIHZlcnRleCBvZiBhIHBvbHlnb24gb3IgcG9seWxpbmVcbiAgICAgICAgdGhpcy5wb2x5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5sb29wSW5kZXggPSAtMTtcbiAgICAgICAgdGhpcy52ZXJ0ZXhJbmRleCA9IC0xO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3ZlcnRleC1naXptbycpO1xuICAgIH1cblxuICAgIC8vIElmIGEgcG9seSBpcyBzZXQsIHRoZSBnaXptbyBpcyBhdXRvbWF0aWNhbGx5IHN5bmNocm9uaXplZCB3aXRoIHRoZSB2ZXJ0ZXguXG4gICAgLy8gQXMgbG9uZyBhcyB0aGUgcG9seSBpcyB2aXNpYmxlIGluIHRoZSBzYW1lIGxheWVyLCB0aGUgdmVydGV4IGdpem1vIGlzIGF1dG9tYXRpY2FsbHkga2VwdCBpbiBzeW5jIHdpdGggdGhlIHZlcnRleC5cbiAgICAvL1xuICAgIC8vICBAcGFyYW0ge1BvbHlCYXNlfSBwb2x5ICAgICAgLSBwb2x5Z29uIG9yIHBvbHlsaW5lIGNvbnRhaW5pbmcgdGhlIHZlcnRleCB0aGF0IHdlIHdhbnQgdG8gYXR0YWNoIHRvLiBJZiBudWxsLCBwb3NpdGlvbnMgY2FuIGJlIHNldCBtYW51YWxseS5cbiAgICAvLyAgQHBhcmFtIHtudW1iZXJ9IHZlcnRleEluZGV4ICAgLSB2ZXJ0ZXhJbmRleCBpbiBwb2x5LiBJZiBub3QgdmFsaWQsIGdpem1vIGlzIGhpZGRlbi5cbiAgICAvLyAgQHBhcmFtIHtudW1iZXJ9IFtsb29wSW5kZXhdIC0gbG9vcEluZGV4IGluIHBvbHkuIDAgYnkgZGVmYXVsdFxuICAgIGF0dGFjaFRvVmVydGV4KHBvbHksIHZlcnRleEluZGV4LCBsb29wSW5kZXggPSAwKSB7XG4gICAgICAgIHRoaXMucG9seSA9IHBvbHk7XG4gICAgICAgIHRoaXMudmVydGV4SW5kZXggPSB2ZXJ0ZXhJbmRleDtcbiAgICAgICAgdGhpcy5sb29wSW5kZXggPSBsb29wSW5kZXg7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgZGV0YWNoRnJvbVZlcnRleCgpIHtcbiAgICAgICAgdGhpcy5wb2x5ID0gbnVsbDtcbiAgICAgICAgdGhpcy52ZXJ0ZXhJbmRleCA9IC0xO1xuICAgICAgICB0aGlzLmxvb3BJbmRleCA9IC0xO1xuICAgICAgICB0aGlzLnBvc1ZhbGlkID0gZmFsc2U7IC8vIGhpZGUgdW5sZXNzIGEgcG9zaXRpb24gaXMgZXhwbGljaXRseSBzZXRcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIC8vIEdpem1vIGlzIG5vdCBhdHRhY2hlZCB0byBhIHBvbHlnb24uIEp1c3QgdXBkYXRlIGFjY29yZGluZyB0byB0aGUgaW5pdGlhbCBwb3NpdGlvbi5cbiAgICAgICAgaWYgKCF0aGlzLnBvbHkpIHtcbiAgICAgICAgICAgIHN1cGVyLnVwZGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgYSBwb2x5Z29uIGlzIHNldCwgb2J0YWluIHBvc2l0aW9ucyBhdXRvbWF0aWNhbGx5IGZyb20gaXQgLSBvciBoaWRlIGdpem1vIGlmIHZlcnRleCBkb2VzIG5vdCBleGlzdCBhbnltb3JlXG4gICAgICAgIGlmICh0aGlzLnBvbHkuaW5kZXhWYWxpZCh0aGlzLnZlcnRleEluZGV4LCB0aGlzLmxvb3BJbmRleCkpIHtcbiAgICAgICAgICAgIHRoaXMucG9seS5nZXRQb2ludCh0aGlzLnZlcnRleEluZGV4LCB0aGlzLmxvb3BJbmRleCwgdGhpcy5wb3MpO1xuICAgICAgICAgICAgdGhpcy5wb3NWYWxpZCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUaGlzIG1heSBoYXBwZW4gaWYgaG9zdCBwb2x5Z29uIHdhcyBtb2RpZmllZCBhbmQgdGhlIHZlcnRleCBkb2VzIG5vdCBleGlzdCBhbnltb3JlLlxuICAgICAgICAgICAgdGhpcy5wb3NWYWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgZWRnZSBpcyBpbnZhbGlkLCBqdXN0IGhpZGUgdGhlIGdpem1vXG4gICAgICAgIGxldCBzaG93ID0gdGhpcy5wb3NWYWxpZDtcblxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gc2hvdyA/ICd2aXNpYmxlJyA6ICdoaWRkZW4nO1xuXG4gICAgICAgIGlmICghc2hvdykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sYXllclBvcy5zZXQodGhpcy5wb3MueCwgdGhpcy5wb3MueSk7XG5cbiAgICAgICAgc3VwZXIudXBkYXRlKCk7XG4gICAgfVxufVxuXG4vLyBBIExhYmVsIGZpbHRlciBkZWNpZGVzIGZvciB3aGljaCBzaGFwZXMgd2UgZGlzcGxheSBhIGxhYmVsXG5leHBvcnQgY2xhc3MgTGFiZWxGaWx0ZXIge1xuXG4gICAgY29uc3RydWN0b3IoKSB7fVxuXG4gICAgLy8gSWYgZmFsc2UsIHdlIGRvbid0IG5lZWQgdG8gYWNxdWlyZSBhIGxhYmVsIGF0IGFsbC5cbiAgICBhY2NlcHRzKHNoYXBlLCB0ZXh0KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn07XG5cbi8vIEdldCBzaGFwZSB3aWR0aCBpbiBzY3JlZW4tcGl4ZWxzXG5jb25zdCBnZXRTaGFwZVdpZHRoID0gKHNoYXBlLCBsYXllcikgPT4ge1xuICAgIC8vIGdldCBzaGFwZSBzaXplIGluIHNjcmVlbi1waXhlbHNcbiAgICBzaGFwZS51cGRhdGVCQm94KCk7XG4gICAgY29uc3QgYmJveCA9IHNoYXBlLmJib3g7XG4gICAgY29uc3Qgc2hhcGVXaWR0aCA9IGJib3gubWF4LnggLSBiYm94Lm1pbi54O1xuICAgIHJldHVybiBzaGFwZVdpZHRoICogbGF5ZXIuZ2V0UGl4ZWxzUGVyVW5pdCgpICogc2hhcGVXaWR0aDtcbn07XG5cbi8vIEJ5IGRlZmF1bHQsIHdlIGhpZGUgbGFiZWxzIGlmIHRleHQgaXMgZW1wdHkgb3IgaWYgdGhlIHNoYXBlIHNpemUgb24gc2NyZWVuIGZhbGxzIGJleW9uZCBhIHBpeGVsIHRocmVzaG9sZFxuZXhwb3J0IGNsYXNzIERlZmF1bHRMYWJlbEZpbHRlciBleHRlbmRzIExhYmVsRmlsdGVyIHtcblxuICAgIC8vIEBwYXJhbSB7bnVtYmVyfSBtaW5XaWR0aCAtIG1pbmltdW0gcGl4ZWwgd2lkdGggYSBzaGFwZSBtdXN0IGhhdmUgdG8gcmVjZWl2ZSBhIGxhYmVsXG4gICAgY29uc3RydWN0b3IobWluV2lkdGggPSA1KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubWluV2lkdGggPSBtaW5XaWR0aDtcbiAgICB9XG5cbiAgICAvLyBBY2NlcHQgc2hhcGUgaWYgdGV4dCBpcyBub3QgZW1wdHkgYW5kIGl0cyBzY3JlZW4td2lkdGggaXMgYmlnIGVub3VnaC5cbiAgICBhY2NlcHRzKHNoYXBlLCB0ZXh0LCBsYXllcikge1xuICAgICAgICBjb25zdCB3aWR0aCA9IGdldFNoYXBlV2lkdGgoc2hhcGUsIGxheWVyKTtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4odGV4dCkgJiYgd2lkdGggPj0gdGhpcy5taW5XaWR0aDtcbiAgICB9XG59XG5cbi8vIEEgTGFiZWxTdHlsZSBydWxlIGFsbG93cyB0byBhcHBseSBjc3Mgc3R5bGUgbW9kaWZpY2F0aW9ucyBvbiBhIGxhYmVsLCBlLmcuLCBkZXBlbmRpbmcgb24gc2NyZWVuIHNpemVcbmV4cG9ydCBjbGFzcyBMYWJlbFN0eWxlUnVsZSB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgICAvLyBOb3RlOiBMYWJlbHMgbWF5IGJlIHJldXNlZCBmb3IgZGlmZmVyZW50IHNoYXBlcy4gU28sIG1ha2Ugc3VyZSB0aGF0IHRoZSBzdHlsZSBwYXJhbWV0ZXJzIGFyZVxuICAgIC8vICAgICAgIG5vdCBqdXN0IG1vZGlmaWVkIGZvciBzb21lIHN1YnNldCBvZiBzaGFwZXMsIGJ1dCByZXNldCBmb3Igb3RoZXJzLlxuICAgIGFwcGx5KGxhYmVsLCBzaGFwZSwgbGF5ZXIpIHt9XG59O1xuXG4vLyBGYWRlcyBvdXQgYmFzZWQgb24gbGFiZWwgc2l6ZVxuZXhwb3J0IGNsYXNzIEZhZGVPdXRTdHlsZVJ1bGUgZXh0ZW5kcyBMYWJlbFN0eWxlUnVsZSB7XG5cbiAgICAvLyBAcGFyYW0ge251bWJlcn0gcmFuZ2VTdGFydCAtIHNoYXBlIHdpZHRoIGluIHNjcmVlbi1waXhlbHMgYXQgd2hpY2ggdGhlIGxhYmVsIHN0YXJ0cyB0byBmYWRlLWluXG4gICAgLy8gQHBhcmFtIHtudW1iZXJ9IHJhbmdlRW5kICAgLSBzaGFwZSB3aWR0aCBpbiBzY3JlZW4tcGl4ZWxzIGF0IHdoaWNoIHRoZSBsYWJlbCBpcyBmdWxseSBvcGFxdWUuXG4gICAgY29uc3RydWN0b3IocmFuZ2VTdGFydCA9IDEwLCByYW5nZUVuZCA9IDE0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucmFuZ2VTdGFydCA9IHJhbmdlU3RhcnQ7XG4gICAgICAgIHRoaXMucmFuZ2VFbmQgICA9IHJhbmdlRW5kO1xuICAgIH1cblxuICAgIGFwcGx5KGxhYmVsLCBzaGFwZSwgbGF5ZXIpIHtcblxuICAgICAgICAvLyBjb21wdXRlIG9wYWNpdHkgZnJvbSBzaGFwZSBzY3JlZW4td2lkdGhcbiAgICAgICAgY29uc3Qgd2lkdGggPSBnZXRTaGFwZVdpZHRoKHNoYXBlLCBsYXllcik7XG4gICAgICAgIGNvbnN0IHQgPSAod2lkdGggLSB0aGlzLnJhbmdlU3RhcnQpIC8gKHRoaXMucmFuZ2VFbmQgLSB0aGlzLnJhbmdlU3RhcnQpO1xuICAgICAgICBjb25zdCBvcGFjaXR5ID0gVEhSRUUuTWF0aC5jbGFtcCh0LCAwLCAxKTtcblxuICAgICAgICBsYWJlbC5jb250YWluZXIuc3R5bGUub3BhY2l0eSA9IG9wYWNpdHk7XG4gICAgfVxufTtcblxuLy8gQSBTaGFwZUxhYmVsUnVsZSBtYWludGFpbnMgYSBzZXQgb2YgbGFiZWxzIHRoYXQgaXMgYXV0b21hdGljYWxseSBzeW5jZWQgd2l0aCB0aGUgc2hhcGVzIGluIGEgbGF5ZXIuXG4vLyBJdCBpbXBsZW1lbnRzIHRoZSBDYW52YXNHaXptb0Jhc2UgdG8gdXBkYXRlIHRoZSBzZXQgb2YgbWFpbnRhaW5lZCBsYWJlbHMuXG5leHBvcnQgY2xhc3MgU2hhcGVMYWJlbFJ1bGUge1xuXG4gICAgLy8gQHBhcmFtIHtFZGl0TGF5ZXJ9ICAgICAgICAgICAgICAgbGF5ZXIgICAgICAgICAgICAtIExhYmVscyBhcmUgc2hvd24gKGFuZCBzeW5jaHJvbml6ZWQpIHdpdGggdGhlIGNvbnRlbnQgb2YgdGhpcyBsYXllci5cbiAgICAvLyBAcGFyYW0ge2Z1bmN0aW9uKFNoYXBlKT0+c3RyaW5nfSBzaGFwZVRvTGFiZWxUZXh0IC0gQSBtYXBwaW5nIHRoYXQgZGVmaW5lcyB3aGljaCB0ZXh0IHRvIGRpc3BsYXkgZm9yIGEgc2hhcGUuIElmIG51bGwsIG5vIGxhYmVsIGlzIGNyZWF0ZWQuXG4gICAgLy8gQHBhcmFtIHtMYWJlbEZpbHRlcn0gICAgICAgICAgICAgW2ZpbHRlcl0gICAgICAgICAtIERlZmluZXMgd2hpY2ggbGFiZWxzIHRvIHNob3cuIFNlZSBEZWZhdWx0TGFiZWxGaWx0ZXIgZm9yIGRlZmF1bHQgYmVoYXZpb3IuXG4gICAgLy8gQHBhcmFtIHtMYWJlbFN0eWxlUnVsZX0gICAgICAgICAgW3N0eWxlUnVsZV0gICAgICAtIERlZmluZXMgaG93IGxhYmVsIHN0eWxlIGlzIG1vZGlmaWVkIGR5bmFtaWNhbGx5LiAoQnkgZGVmYXVsdCwgd2UgZmFkZS1vdXQgYmFzZWQgb24gbGFiZWwgc2l6ZSlcbiAgICBjb25zdHJ1Y3RvcihsYXllciwgc2hhcGVUb0xhYmVsVGV4dCwgbGFiZWxGaWx0ZXIgPSBuZXcgRGVmYXVsdExhYmVsRmlsdGVyKCksIHN0eWxlUnVsZSA9IG5ldyBGYWRlT3V0U3R5bGVSdWxlKCkpIHtcbiAgICAgICAgdGhpcy5sYXllciA9IGxheWVyO1xuICAgICAgICB0aGlzLnNoYXBlVG9MYWJlbFRleHQgPSBzaGFwZVRvTGFiZWxUZXh0O1xuXG4gICAgICAgIC8vIEFsbCBsYWJlbHMgdGhhdCB3ZSBjcmVhdGVkLlxuICAgICAgICB0aGlzLmxhYmVscyA9IHt9OyAgICAgLy8ge3NoYXBlSWQ6IFNoYXBlTGFiZWx9XG5cbiAgICAgICAgdGhpcy5sYXllci5hZGRDYW52YXNHaXptbyh0aGlzKTtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5sYXllci51cGRhdGUoKTtcblxuICAgICAgICB0aGlzLmZpbHRlciA9IGxhYmVsRmlsdGVyO1xuICAgICAgICB0aGlzLnN0eWxlUnVsZSA9IHN0eWxlUnVsZTtcbiAgICB9XG5cbiAgICAvLyBSZXBsYWNlIHRoZSBydWxlIHRvIGRlZmluZSBsYWJlbCB0ZXh0cy5cbiAgICAvLyAgIEBwYXJhbSB7ZnVuY3Rpb24oU2hhcGUpPT5zdHJpbmd9IHNoYXBlVG9MYWJlbFRleHQgLSBBIG1hcHBpbmcgdGhhdCBkZWZpbmVzIHdoaWNoIHRleHQgdG8gZGlzcGxheSBmb3IgYSBzaGFwZS4gSWYgbnVsbCwgbm8gbGFiZWwgaXMgY3JlYXRlZC5cbiAgICBzZXRUZXh0UnVsZShzaGFwZVRvTGFiZWxUZXh0KSB7XG4gICAgICAgIHRoaXMuc2hhcGVUb0xhYmVsVGV4dCA9IHNoYXBlVG9MYWJlbFRleHQ7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgc2V0VmlzaWJsZSh2aXNpYmxlKSB7XG4gICAgICAgIGlmICh2aXNpYmxlID09PSB0aGlzLnZpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICAgICAgICAvLyBOb3RlOiBJdCdzIGVzc2VudGlhbCB0aGF0IHdlIGFkZCAndGhpcycgZmlyc3QgYW5kIGFsbCBtYWludGFpbmVkIGxhYmVscyBiZWhpbmQuIEluIHRoaXMgd2F5LCB0aGlzIGdpem1vIGlzIHVwZGF0ZWQgZmlyc3QgdG9cbiAgICAgICAgICAgIC8vICAgICAgIGNvbmZpZ3VyZSBhbGwgbGFiZWxzIC0gZm9sbG93ZWQgYnkgdGhlIHVwZGF0ZSBjYWxscyBmb3IgYWxsIGFjdGl2ZSBsYWJlbHMgaW4gdXNlLlxuICAgICAgICAgICAgdGhpcy5sYXllci5hZGRDYW52YXNHaXptbyh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyTGFiZWxzKCk7XG4gICAgICAgICAgICB0aGlzLmxheWVyLnJlbW92ZUNhbnZhc0dpem1vKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHZpc2libGU7XG4gICAgfVxuXG4gICAgZHRvcigpIHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgd2UgZG9uJ3QgbGVhdmUgYW55IG9mIG91ciBsYWJlbHMgaW4gdGhlIGxheWVyXG4gICAgICAgIHRoaXMuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgfVxuXG4gICAgcmVtb3ZlTGFiZWxGcm9tU2hhcGUoc2hhcGUpIHtcbiAgICAgICAgaWYgKHRoaXMubGFiZWxzW3NoYXBlLmlkXSkge1xuICAgICAgICAgICAgdGhpcy5jbGVhckxhYmVsKHRoaXMubGFiZWxzW3NoYXBlLmlkXSk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5sYWJlbHNbc2hhcGUuaWRdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xlYXJMYWJlbChsYWJlbCkge1xuICAgICAgICBsYWJlbC5zZXRTaGFwZShudWxsKTtcbiAgICAgICAgbGFiZWwuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgfVxuXG4gICAgLy8gSGlkZSArIHJlbGVhc2UgYWxsIGN1cnJlbnQgbGFiZWxzLCBzbyB0aGF0IHdlIGNhbiByZS1hY3F1aXJlIHRoZW0gYmFzZWQgb24gbGF0ZXN0IExheWVyIHN0YXRlLlxuICAgIGNsZWFyTGFiZWxzKCkge1xuICAgICAgICBPYmplY3QudmFsdWVzKHRoaXMubGFiZWxzKS5mb3JFYWNoKGxhYmVsID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJMYWJlbChsYWJlbCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubGFiZWxzID0ge307XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIG5ldyBsYWJlbCBvciBnZXQgaXQgZnJvbSBjYWNoZVxuICAgIGFjcXVpcmVMYWJlbChzaGFwZSkge1xuICAgICAgICBsZXQgbGFiZWwgPSB0aGlzLmxhYmVsc1tzaGFwZS5pZF07XG5cbiAgICAgICAgaWYgKGxhYmVsKSB7XG4gICAgICAgICAgICByZXR1cm4gbGFiZWw7XG4gICAgICAgIH1cblxuICAgICAgICBsYWJlbCA9IG5ldyBTaGFwZUxhYmVsKG51bGwsIHRoaXMubGF5ZXIpO1xuICAgICAgICBsYWJlbC5zZXRTaGFwZShzaGFwZSk7XG5cbiAgICAgICAgdGhpcy5sYWJlbHNbc2hhcGUuaWRdID0gbGFiZWw7XG5cbiAgICAgICAgcmV0dXJuIGxhYmVsO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgY29uc3Qgc2hhcGVzID0gdGhpcy5sYXllci5zaGFwZXM7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaTxzaGFwZXMubGVuZ3RoOyBpKyspIHtcblxuICAgICAgICAgICAgY29uc3Qgc2hhcGUgPSBzaGFwZXNbaV07XG5cbiAgICAgICAgICAgIC8vIEdldCBsYWJlbCB0ZXh0XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5zaGFwZVRvTGFiZWxUZXh0KHNoYXBlKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgd2Ugd2FudCB0byBkaXNwbGF5IGEgbGFiZWwgZm9yIHRoaXMgc2hhcGVcbiAgICAgICAgICAgIGlmICh0aGlzLmZpbHRlciAmJiAhdGhpcy5maWx0ZXIuYWNjZXB0cyhzaGFwZSwgdGV4dCwgdGhpcy5sYXllcikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUxhYmVsRnJvbVNoYXBlKHNoYXBlKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ29uZmlndXJlIGxhYmVsXG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IHRoaXMuYWNxdWlyZUxhYmVsKHNoYXBlKTtcbiAgICAgICAgICAgIGxhYmVsLnNldFRleHQodGV4dCk7XG4gICAgICAgICAgICBsYWJlbC5zZXRWaXNpYmxlKHRydWUpO1xuXG4gICAgICAgICAgICAvLyBBcHBseSBvcHRpb25hbCBjdXN0b20gc3R5bGUgcnVsZVxuICAgICAgICAgICAgdGhpcy5zdHlsZVJ1bGUgJiYgdGhpcy5zdHlsZVJ1bGUuYXBwbHkobGFiZWwsIHNoYXBlLCB0aGlzLmxheWVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENsZWFyIGxhYmVscyB0aGF0IHRoZWlyIHNoYXBlcyB3ZXJlIHJlbW92ZWQuXG4gICAgICAgIC8vIE5lZWRlZCB3aGVuIGF1dG9VcGRhdGUgaXMgZGlzYWJsZWQuXG4gICAgICAgIE9iamVjdC52YWx1ZXModGhpcy5sYWJlbHMpLmZvckVhY2gobGFiZWwgPT4ge1xuICAgICAgICAgICAgLy8gU2hhcGUgbm8gbG9uZ2VyIGV4aXN0c1xuICAgICAgICAgICAgaWYgKHNoYXBlcy5pbmRleE9mKGxhYmVsLnNoYXBlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUxhYmVsRnJvbVNoYXBlKGxhYmVsLnNoYXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG4vLyBBIFNoYXBlVG9vbFRpcCBpcyBhIGxhYmVsIHRoYXQgc2hvd3MgdXAgd2hlbiBob3ZlcmluZyBhIHNoYXBlLlxuLy8gQnkgZGVmYXVsdCwgaXQgYXBwZWFycyBhIGZldyBwaXhlbHMgYWJvdmUgdGhlIHRvcC1yaWdodCBjb3JuZXIgb2YgYSBzaGFwZSdzIGJib3guXG5leHBvcnQgY2xhc3MgU2hhcGVUb29sVGlwIGV4dGVuZHMgQ2FudmFzR2l6bW9CYXNlIHtcblxuICAgIC8vIEBwYXJhbSB7RWRpdExheWVyfSAgICAgICAgICAgICAgIGxheWVyIC0gVG9vbHRpcCB3aWxsIGFwcGVhciBmb3IgYWxsIHNoYXBlcyBpbiB0aGUgZ2l2ZW4gbGF5ZXIuXG4gICAgLy8gQHBhcmFtIHtmdW5jdGlvbihzaGFwZSk9PnN0cmluZ30gZ2V0VGV4dCAtIEZ1bmN0aW9uIHRvIGRlZmluZSB0aGUgdGV4dCBmb3IgYSBnaXZlbiBzaGFwZVxuICAgIGNvbnN0cnVjdG9yKGxheWVyLCBnZXRUZXh0ID0gbnVsbCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMubGF5ZXIgPSBsYXllcjtcbiAgICAgICAgdGhpcy50ZXh0Q2IgPSBnZXRUZXh0O1xuICAgICAgICB0aGlzLnZpZXdlciA9IHRoaXMubGF5ZXIudmlld2VyO1xuXG4gICAgICAgIC8vIHRyYWNrIGxhdGVzdCBtb3VzZSBwb3NpdGlvbiBpbiBsYXllciBjb29yZHMgKGluaXQgb24gZmlyc3QgbW91c2UgbW92ZSlcbiAgICAgICAgdGhpcy5tb3VzZVBvcyA9IG51bGw7XG5cbiAgICAgICAgLy8gZGlzdGFuY2UgYmV0d2VlbiB0b29sdGlwIGFuZCBzaGFwZSBiYm94XG4gICAgICAgIHRoaXMuZGlzdGFuY2VUb0JveCA9IDU7IC8vIGluIHBpeGVsc1xuXG4gICAgICAgIC8vIENyZWF0ZSB0b29sdGlwIGRpdlxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IHRoaXMuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnYWRzay1jb250cm9sLXRvb2x0aXAnKTtcblxuICAgICAgICAvLyBBZGQgZGl2IHRvIHZpZXdlciBjYW52YXMgY29udGFpbmVyIGFuZCBsYXllclxuICAgICAgICB0aGlzLnZpZXdlci5jYW52YXNXcmFwLmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKTtcblxuICAgICAgICAvLyBVcGRhdGUgaWYgbGF5ZXIgY2hhbmdlZFxuICAgICAgICB0aGlzLmxheWVyLmFkZENhbnZhc0dpem1vKHRoaXMpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBpZiBtb3VzZSBtb3ZlZFxuICAgICAgICB0aGlzLm9uTW91c2VNb3ZlZCA9IHRoaXMub25Nb3VzZU1vdmVkLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMudmlld2VyLmNhbnZhc1dyYXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZWQpO1xuXG4gICAgICAgIHRoaXMubGF5ZXIudXBkYXRlQ2FudmFzR2l6bW9zKCk7XG4gICAgfVxuXG4gICAgZHRvcigpIHtcbiAgICAgICAgdGhpcy5sYXllci5yZW1vdmVDYW52YXNHaXptbygpO1xuICAgICAgICB0aGlzLnZpZXdlci5jYW52YXNXcmFwLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmVkKTtcbiAgICAgICAgdGhpcy52aWV3ZXIuY2FudmFzV3JhcC5yZW1vdmVDaGlsZCh0aGlzLmNvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgLy8gU2V0IGNhbGxiYWNrIHRoYXQgZGVmaW5lcyB3aGljaCB0ZXh0IHRvIGRpc3BsYXkgZm9yIGVhY2ggc2hhcGUuIFJldHVybmluZyAnJyBvciBudWxsIHdpbGwgaGlkZSB0aGUgdG9vbHRpcC5cbiAgICAvLyBAcGFyYW0ge2Z1bmN0aW9uKHNoYXBlKT0+c3RyaW5nfSBnZXRUZXh0IC0gRnVuY3Rpb24gdG8gZGVmaW5lIHRoZSB0ZXh0IGZvciBhIGdpdmVuIHNoYXBlXG4gICAgc2V0VGV4dENhbGxiYWNrKGdldFRleHQpIHtcbiAgICAgICAgdGhpcy50ZXh0Q2IgPSBnZXRUZXh0O1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIG9uTW91c2VNb3ZlZChldmVudCkge1xuXG4gICAgICAgIC8vIEFkZCBjYW52YXMgY29vcmRzIHRvIGV2ZW50XG4gICAgICAgIHRoaXMudmlld2VyLnRvb2xDb250cm9sbGVyLl9fY2xpZW50VG9DYW52YXNDb29yZHMoZXZlbnQpO1xuXG4gICAgICAgIC8vIFRyYWNrIG1vdXNlIHBvc2l0aW9uXG4gICAgICAgIHRoaXMubW91c2VQb3MgPSB0aGlzLmxheWVyLmNhbnZhc1RvTGF5ZXIoZXZlbnQuY2FudmFzWCwgZXZlbnQuY2FudmFzWSk7XG5cbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG5cbiAgICAgICAgLy8gSWYgYSB0ZXh0Q2IgaXMgc2V0LCBjaGVjayBzaGFwZSB1bmRlciBtb3VzZVxuICAgICAgICBjb25zdCBzaGFwZSA9IHRoaXMubW91c2VQb3MgJiYgdGhpcy50ZXh0Q2IgJiYgdGhpcy5sYXllci5oaXRUZXN0KHRoaXMubW91c2VQb3MueCwgdGhpcy5tb3VzZVBvcy55KTtcblxuICAgICAgICAvLyBDaG9vc2UgbGFiZWwgdGV4dFxuICAgICAgICBjb25zdCB0ZXh0ID0gc2hhcGUgJiYgdGhpcy50ZXh0Q2Ioc2hhcGUpO1xuXG4gICAgICAgIC8vIEFwcGx5IHRleHRcbiAgICAgICAgdGhpcy5jb250YWluZXIudGV4dENvbnRlbnQgPSB0ZXh0IHx8ICcnO1xuXG4gICAgICAgIC8vIFN0b3AgaGVyZSBpZiBub3RoaW5nIHRvIGRpc3BsYXlcbiAgICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTaG93IGxhYmVsXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG5cbiAgICAgICAgLy8gR2V0IHRvcC1yaWdodCBjb3JuZXIgb2YgYmJveFxuICAgICAgICBzaGFwZS51cGRhdGVCQm94KCk7IC8vIE1ha2Ugc3VyZSBiYm94IGlzIHVwLXRvLWRhdGVcbiAgICAgICAgY29uc3QgY29ybmVyID0gc2hhcGUuYmJveC5tYXg7XG5cbiAgICAgICAgLy8gR2V0IGFuY2hvciBpbiBjYW52YXMgY29vcmRzXG4gICAgICAgIGNvbnN0IGFuY2hvciA9IHRoaXMubGF5ZXIubGF5ZXJUb0NhbnZhcyhjb3JuZXIueCwgY29ybmVyLnkpO1xuXG4gICAgICAgIC8vIEFkZCBzb21lIHBpeGVscyB5LW9mZnNldFxuICAgICAgICBhbmNob3IueSAtPSB0aGlzLmRpc3RhbmNlVG9Cb3g7XG5cbiAgICAgICAgLy8gZ2V0IGNhbnZhcyBzaXplXG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy52aWV3ZXIuY2FudmFzLndpZHRoO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLnZpZXdlci5jYW52YXMuaGVpZ2h0O1xuXG4gICAgICAgIC8vIFVwZGF0ZSB0b29sdGlwIHBvc2l0aW9uXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnJpZ2h0ICA9ICh3aWR0aCAtIGFuY2hvci54KSArICdweCc7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmJvdHRvbSA9IChoZWlnaHQgLSBhbmNob3IueSkgKyAncHgnO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmxlZnQgPSAnYXV0byc7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRvcCA9ICdhdXRvJztcbiAgICB9XG59XG5cbi8vIFB1cnBvc2U6XG4vLyBUaGVyZSBpcyBubyBlZmZpY2llbnQgYW5kIHNpbXBsZSB3YXkgdG8gYXNrIGEgZGl2IHdoZXRoZXIgaXQgaXMgdW5kZXIgbW91c2Ugb3Igbm90LlxuLy8gVGhlIG1vc3QgcmVsaWFibGUgd2F5IGlzIGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoKSwgYnV0IGl0IGlzIHJhdGhlciBleHBlbnNpdmUuXG4vLyBUaGVyZWZvcmUsIHdlIGRvbid0IHdhbnQgdG8gZG8gaXQgZm9yIGVhY2ggYW5kIGV2ZXJ5IGdpem1vLiBJbnN0ZWFkLCBHaXptb01hbmFnZXIgdHJhY2tzXG4vLyB3aGljaCBvYmplY3QgaXMgdW5kZXIgbW91c2UgYW5kIGlzIGdlbmVyYWxseSB1c2VkIHRvIGNoZWNrIHdoaWNoIGdpem1vIGlzIGF0IG1vdXNlIHBvc2l0aW9uLlxuZXhwb3J0IGNsYXNzIEdpem1vTWFuYWdlciB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gZGl2IGVsZW1lbnQgYXQgbW91c2UgcG9zaXRpb25cbiAgICAgICAgdGhpcy5lbGVtVW5kZXJNb3VzZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gTXVzdCBiZSB0cmlnZ2VyZWQgb24gbW91c2UgZXZlbnRzLlxuICAgIC8vIEBwYXJhbSB7TW91c2VFdmVudH1cbiAgICB1cGRhdGUoZSkge1xuICAgICAgICB0aGlzLmVsZW1VbmRlck1vdXNlID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChlLmNsaWVudFgsIGUuY2xpZW50WSk7XG4gICAgfVxuXG4gICAgLy8gQHBhcmFtIHtDYW52YXNHaXptb31cbiAgICBpc1VuZGVyTW91c2UoZ2l6bW8pIHtcbiAgICAgICAgcmV0dXJuIGdpem1vLmNvbnRhaW5lciAmJiBnaXptby5jb250YWluZXIgPT09IHRoaXMuZWxlbVVuZGVyTW91c2U7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGdpem1vIHRoYXQgbWF0Y2hlcyB3aXRoIHRoZSBlbGVtZW50IHVuZGVyIG1vdXNlLlxuICAgIC8vIFJlc3VsdCBpcyAtMSBpZiBub25lIG9mIHRoZSBnaXptb3MgbWF0Y2hlcy5cbiAgICAvLyAgQHBhcmFtIHtDYW52YXNHaXptb1tdfSBnaXptb1xuICAgIGdldEdpem1vSW5kZXgoZ2l6bW9zKSB7XG4gICAgICAgIHJldHVybiBnaXptb3MuZmluZEluZGV4KGcgPT4gdGhpcy5pc1VuZGVyTW91c2UoZykpO1xuICAgIH1cbn1cblxuLy8gRGlzcGxheSBkYXNoZWQgbGluZXMgdG8gY29ubmVjdCBzdGFydC9lbmQgb2YgYXJjIHNlZ21lbnRzLiBVc2VkIGJ5IFBvbHlnb25FZGl0VG9vbC5cbi8vIEl0IHVwZGF0ZXMgaXRzZWxmIGF1dG9tYXRpY2FsbHkgd2hlbmV2ZXIgdGhlIHNoYXBlIGNoYW5nZWQuXG5leHBvcnQgY2xhc3MgQXJjRWRnZUdpem1vIHtcbiAgICBjb25zdHJ1Y3RvcihsYXllciwgZ2l6bW9MYXllcikge1xuXG4gICAgICAgIHRoaXMubGF5ZXIgICAgICA9IGxheWVyO1xuICAgICAgICB0aGlzLmdpem1vTGF5ZXIgPSBnaXptb0xheWVyO1xuXG4gICAgICAgIC8vIE9uZSBMaW5lIHNoYXBlIHBlciBhcmMgc2VnbWVudCBpbiB0aGUgaG9zdCBzaGFwZVxuICAgICAgICB0aGlzLnNoYXBlcyA9IFtdO1xuXG4gICAgICAgIHRoaXMudmlzaWJpbGl0eSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNldFZpc2libGUodHJ1ZSk7XG5cbiAgICAgICAgLy8gT3B0aW9uYWw6IERpc3BsYXkgb25lIGVkZ2UgaW4gYW5vdGhlciBjb2xvclxuICAgICAgICB0aGlzLmhpZ2hsaWdodENvbG9yID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmhpZ2hsaWdodEluZGV4ICAgICA9IC0xOyAvLyBtdXN0IGJlIGEgdmFsaWQgZWRnZSBpbmRleCBpbiB0aGlzLnBvbHlcbiAgICAgICAgdGhpcy5oaWdobGlnaHRMb29wSW5kZXggPSAtMTsgLy8gbXVzdCBiZSBhIHZhbGlkIGxvb3AgaW5kZXggaW4gdGhpcy5wb2x5XG4gICAgfVxuXG4gICAgZHRvcigpIHtcbiAgICAgICAgLy8gSnVzdCBtYWtlIHN1cmUgaXQgaXMgaW52aXNpYmxlLCBzbyB0aGF0IHNoYXBlcyBhcmUgY2xlYXJlZCBhbmRcbiAgICAgICAgLy8gZ2l6bW8gaXMgcmVtb3ZlZCBmcm9tIEdpem1vTGF5ZXIuXG4gICAgICAgIHRoaXMuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSBzaGFwZSBmb3Igd2hpY2ggd2UgZGlzcGxheSBsaW5lc1xuICAgIHNldFBvbHkocG9seSkge1xuICAgICAgICBpZiAocG9seSAhPT0gdGhpcy5wb2x5KSB7XG4gICAgICAgICAgICB0aGlzLnBvbHkgPSBwb2x5O1xuICAgICAgICAgICAgdGhpcy5jbGVhckVkZ2VIaWdobGlnaHRpbmcoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRWaXNpYmxlKHZpc2libGUpIHtcblxuICAgICAgICAvLyBEbyBub3RoaW5nIGlmIHRoZXJlJ3Mgbm8gY2hhbmdlXG4gICAgICAgIGlmICh0aGlzLnZpc2libGUgPT09IHZpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpc2libGUgPSB2aXNpYmxlO1xuXG4gICAgICAgIC8vIGFkZC9yZW1vdmUgZnJvbSBsYXllclxuICAgICAgICBpZiAodmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5sYXllci5hZGRDYW52YXNHaXptbyh0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubGF5ZXIucmVtb3ZlQ2FudmFzR2l6bW8odGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICBjbGVhclNoYXBlcygpIHtcbiAgICAgICAgdGhpcy5zaGFwZXMuZm9yRWFjaChzID0+IHRoaXMuZ2l6bW9MYXllci5yZW1vdmVTaGFwZShzKSk7XG4gICAgICAgIHRoaXMuc2hhcGVzID0gW107XG4gICAgfVxuXG4gICAgZWRnZVNoYXBlTmFtZShpbmRleCwgbG9vcEluZGV4KSB7XG4gICAgICAgIHJldHVybiAnQXJjRWRnZUdpem1vXycgKyBsb29wSW5kZXggKyAnXycgKyBpbmRleDtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgYSBsaW5lIHNoYXBlIHRoYXQgY29ubmVjdHMgc3RhcnQvZW5kIHZlcnRleCBvZiBzZWdtZW50IGkgaW4gcG9seS5cbiAgICBfYWRkRWRnZShpbmRleCwgbG9vcEluZGV4KSB7XG5cbiAgICAgICAgLy8gZ2V0IGVkZ2VcbiAgICAgICAgY29uc3QgYSA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gICAgICAgIGNvbnN0IGIgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuICAgICAgICB0aGlzLnBvbHkuZ2V0RWRnZShpbmRleCwgYSwgYiwgbG9vcEluZGV4KTtcblxuICAgICAgICAvLyBDcmVhdGUgYSBsaW5lIGZyb20gaXRcbiAgICAgICAgY29uc3QgbGluZSA9IG5ldyBQb2x5bGluZShbYSwgYl0pO1xuICAgICAgICBsaW5lLm5hbWUgPSB0aGlzLmVkZ2VTaGFwZU5hbWUoaW5kZXgsIGxvb3BJbmRleCk7XG5cbiAgICAgICAgLy8gQ29uZmlndXJlIGxpbmUgc3R5bGVcbiAgICAgICAgbGluZS5zdHlsZS5saW5lU3R5bGUgPSAxMTsgLy8gc2hvcnQgZGFzaGVzXG4gICAgICAgIGxpbmUuc3R5bGUubGluZVdpZHRoID0gdGhpcy5wb2x5LnN0eWxlLmxpbmVXaWR0aCAvIDIuMDtcbiAgICAgICAgbGluZS5zdHlsZS5saW5lQWxwaGEgPSB0aGlzLnBvbHkuc3R5bGUubGluZUFsaGEgLyAyLjA7XG5cbiAgICAgICAgLy8gQXBwbHkgb3B0aW9uYWwgZWRnZSBoaWdobGlnaHRpbmcgY29sb3JcbiAgICAgICAgaWYgKGluZGV4ID09IHRoaXMuaGlnaGxpZ2h0SW5kZXggJiYgdGhpcy5oaWdobGlnaHRDb2xvcikge1xuICAgICAgICAgICAgbGluZS5zdHlsZS5saW5lQ29sb3IgPSB0aGlzLmhpZ2hsaWdodENvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5naXptb0xheWVyLmFkZFNoYXBlKGxpbmUpO1xuICAgICAgICB0aGlzLnNoYXBlcy5wdXNoKGxpbmUpO1xuICAgIH1cblxuICAgIGNsZWFyRWRnZUhpZ2hsaWdodGluZygpIHtcblxuICAgICAgICBpZiAodGhpcy5oaWdobGlnaHRJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0Q29sb3IgPSBudWxsO1xuICAgICAgICB0aGlzLmhpZ2hsaWdodEluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLy8gQXNzaWduIGRpZmZlcmVudFxuICAgIHNldEVkZ2VIaWdobGlnaHRlZChpbmRleCwgbG9vcEluZGV4LCBjb2xvcikge1xuXG4gICAgICAgIC8vIE9ubHkgZG8gd29yayBpZiBuZWVkZWRcbiAgICAgICAgaWYgKGluZGV4ID09PSB0aGlzLmhpZ2hsaWdodEluZGV4ICYmIGNvbG9yID09PSB0aGlzLmhpZ2hsaWdodENvbG9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmhpZ2hsaWdodENvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0SW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5oaWdobGlnaHRMb29wSW5kZXggPSBsb29wSW5kZXg7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlcyB0aGUgZWRnZXMgZm9yIHRoZSBnaXZlbiBQYXRoIHNoYXBlXG4gICAgdXBkYXRlKCkge1xuXG4gICAgICAgIHRoaXMuY2xlYXJTaGFwZXMoKTtcblxuICAgICAgICAvLyBTdG9wIGlmIHRoZXJlIGFyZSBubyBhcmNzXG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlIHx8ICF0aGlzLnBvbHkgfHwgIXRoaXMucG9seS5pc1BhdGgoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9yIGVhY2ggbG9vcC4uLlxuICAgICAgICBmb3IgKGxldCBsPTA7IGw8dGhpcy5wb2x5Lmxvb3BDb3VudDsgbCsrKSB7XG5cbiAgICAgICAgICAgIC8vIEZvciBlYWNoIGVkZ2UuLi5cbiAgICAgICAgICAgIGNvbnN0IGVkZ2VDb3VudCA9IHRoaXMucG9seS5nZXRFZGdlQ291bnQobCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpPTA7IGk8ZWRnZUNvdW50OyBpKyspIHtcblxuICAgICAgICAgICAgICAgIC8vIEFkZCBsaW5lIGlmIGl0IGlzIGFuIGFyY1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzQXJjID0gdGhpcy5wb2x5LmlzQXJjKGksIGwpO1xuICAgICAgICAgICAgICAgIGlmIChpc0FyYykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRFZGdlKGksIGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJNYXRoMkQiLCJQb2x5bGluZSIsIlBvbHlCYXNlIiwidG9QaXhlbHMiLCJ2YWwiLCJ0b1N0cmluZyIsIkFsaWduWCIsIkxlZnQiLCJDZW50ZXIiLCJSaWdodCIsIkFsaWduWSIsIlRvcCIsIkJvdHRvbSIsImF2IiwiQXV0b2Rlc2siLCJWaWV3aW5nIiwiQ2FudmFzR2l6bW9CYXNlIiwiY29uc3RydWN0b3IiLCJ1cGRhdGUiLCJHbG9iYWxNYW5hZ2VyTWl4aW4iLCJjYWxsIiwicHJvdG90eXBlIiwiQ2FudmFzR2l6bW8iLCJsYXllciIsInZpc2libGUiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJjbGFzc05hbWUiLCJzZXRHbG9iYWxNYW5hZ2VyIiwiZ2xvYmFsTWFuYWdlciIsImxheWVyUG9zIiwiVEhSRUUiLCJWZWN0b3IyIiwiY2FudmFzUG9zIiwiX2RvY3VtZW50IiwiZ2V0RG9jdW1lbnQiLCJjb250YWluZXIiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJwb3NpdGlvbiIsInRyYW5zZm9ybU9yaWdpbiIsInRvcCIsImxlZnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhbGlnblgiLCJhbGlnblkiLCJhbmdsZSIsInNldFZpc2libGUiLCJzZXRPcGFjaXR5IiwidCIsIm9wYWNpdHkiLCJvcGFjaXR5UGFyYW0iLCJQcml2YXRlIiwiQW5pbWF0ZWRQYXJhbSIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiaXNMZWZ0QnV0dG9uIiwiYnV0dG9ucyIsInZpZXdlciIsInRyaWdnZXJDb250ZXh0TWVudSIsImR0b3IiLCJhdXRvVXBkYXRlIiwiYWRkVG9DYW52YXMiLCJyZW1vdmVGcm9tQ2FudmFzIiwiY2FudmFzV3JhcCIsImFwcGVuZENoaWxkIiwiYWRkQ2FudmFzR2l6bW8iLCJyZW1vdmVDaGlsZCIsInJlbW92ZUNhbnZhc0dpem1vIiwic2V0QWxpZ25YIiwic2V0QWxpZ25ZIiwic2V0Um90YXRpb24iLCJjb3B5IiwibGF5ZXJUb0NhbnZhcyIsIngiLCJ5IiwicCIsInR4IiwidHkiLCJ0cmFuc2Zvcm0iLCJzZXRQb3NpdGlvbiIsInNldCIsInNldENsYXNzRW5hYmxlZCIsImVuYWJsZWQiLCJyZW1vdmUiLCJzZXRTZWxlY3RlZCIsInNlbGVjdGVkIiwiaXNTZWxlY3RlZCIsImNvbnRhaW5zIiwic2V0SG92ZXJFbmFibGVkIiwic2V0TmFtZSIsIm5hbWUiLCJpZCIsInZhbHVlIiwiYW5pbWF0ZSIsImZhZGVUbyIsInNldFZhbHVlIiwiaW5pdFRleHRMYWJlbCIsImdpem1vIiwidGV4dERpdiIsInNldFRleHQiLCJzdHIiLCJ0ZXh0Q29udGVudCIsImJpbmQiLCJUZXh0TGFiZWwiLCJ0ZXh0IiwiU2hhcGVMYWJlbCIsInNoYXBlIiwidmFsdWVWYWxpZCIsInBpeGVsT2Zmc2V0IiwidmlzaWJpbGl0eSIsImlzUG9seWxpbmUiLCJlZGdlQ291bnQiLCJnZXRFZGdlQ291bnQiLCJlZGdlVG9MYWJlbCIsIk1hdGgiLCJmbG9vciIsImVkZ2VJbmRleFZhbGlkIiwiZ2V0UG9pbnRPbkVkZ2UiLCJjb21wdXRlQkJveCIsImJib3giLCJnZXRDZW50ZXIiLCJ0b1VuaXRzIiwiZ2V0VW5pdHNQZXJQaXhlbCIsInNoaWZ0WCIsInNoaWZ0WSIsInNldFNoYXBlIiwiTGVuZ3RoTGFiZWwiLCJwb2x5bGluZSIsInVuaXRIYW5kbGVyIiwiaGFzTGVuZ3RoIiwiZ2V0TGVuZ3RoIiwibWVhc3VyZVRyYW5zZm9ybSIsIkJvb2xlYW4iLCJsZW5ndGhUb1N0cmluZyIsIkFyZWFMYWJlbCIsInBvbHlnb24iLCJpc1NlbGZJbnRlcnNlY3RpbmciLCJpMThuIiwiaGFzQXJlYSIsImdldEFyZWEiLCJhcmVhIiwiYXJlYVRvU3RyaW5nIiwiRWRnZUdpem1vIiwicG9zQSIsInBvc0IiLCJwb3NWYWxpZCIsImVkZ2VEaXIiLCJwb2x5IiwibG9vcEluZGV4IiwiZWRnZUluZGV4IiwiaWdub3JlQXJjcyIsIm1heFJlbGF0aXZlTGVuZ3RoIiwiYXR0YWNoVG9FZGdlIiwiZGV0YWNoRnJvbUVkZ2UiLCJlZGdlVmFsaWQiLCJnZXRFZGdlIiwic2hvdyIsIl9zaG91bGRCZVNob3duIiwiX3VwZGF0ZVJvdGF0aW9uIiwiYVNjcmVlbiIsImJTY3JlZW4iLCJlZGdlTGVuZ3RoU2NyZWVuIiwiZGlzdGFuY2VUbyIsIm1heEFsbG93ZWRQaXhlbHMiLCJfd2luZG93IiwiZ2V0V2luZG93Iiwid2lkdGgiLCJwYXJzZUZsb2F0IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImRpciIsImdldEVkZ2VEaXJlY3Rpb24iLCJhdGFuMiIsIlBJIiwicmFkVG9EZWciLCJFZGdlTW92ZUdpem1vIiwiRWRnZUxhYmVsIiwiVmVydGV4R2l6bW8iLCJwb3MiLCJ2ZXJ0ZXhJbmRleCIsImF0dGFjaFRvVmVydGV4IiwiZGV0YWNoRnJvbVZlcnRleCIsImluZGV4VmFsaWQiLCJnZXRQb2ludCIsIkxhYmVsRmlsdGVyIiwiYWNjZXB0cyIsImdldFNoYXBlV2lkdGgiLCJ1cGRhdGVCQm94Iiwic2hhcGVXaWR0aCIsIm1heCIsIm1pbiIsImdldFBpeGVsc1BlclVuaXQiLCJEZWZhdWx0TGFiZWxGaWx0ZXIiLCJtaW5XaWR0aCIsIkxhYmVsU3R5bGVSdWxlIiwiYXBwbHkiLCJsYWJlbCIsIkZhZGVPdXRTdHlsZVJ1bGUiLCJyYW5nZVN0YXJ0IiwicmFuZ2VFbmQiLCJjbGFtcCIsIlNoYXBlTGFiZWxSdWxlIiwic2hhcGVUb0xhYmVsVGV4dCIsImxhYmVsRmlsdGVyIiwic3R5bGVSdWxlIiwibGFiZWxzIiwiZmlsdGVyIiwic2V0VGV4dFJ1bGUiLCJjbGVhckxhYmVscyIsInJlbW92ZUxhYmVsRnJvbVNoYXBlIiwiY2xlYXJMYWJlbCIsIk9iamVjdCIsInZhbHVlcyIsImZvckVhY2giLCJhY3F1aXJlTGFiZWwiLCJzaGFwZXMiLCJpIiwiaW5kZXhPZiIsIlNoYXBlVG9vbFRpcCIsImdldFRleHQiLCJ0ZXh0Q2IiLCJtb3VzZVBvcyIsImRpc3RhbmNlVG9Cb3giLCJvbk1vdXNlTW92ZWQiLCJ1cGRhdGVDYW52YXNHaXptb3MiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0VGV4dENhbGxiYWNrIiwiZXZlbnQiLCJ0b29sQ29udHJvbGxlciIsIl9fY2xpZW50VG9DYW52YXNDb29yZHMiLCJjYW52YXNUb0xheWVyIiwiY2FudmFzWCIsImNhbnZhc1kiLCJoaXRUZXN0IiwiY29ybmVyIiwiYW5jaG9yIiwiY2FudmFzIiwiaGVpZ2h0IiwicmlnaHQiLCJib3R0b20iLCJHaXptb01hbmFnZXIiLCJlbGVtVW5kZXJNb3VzZSIsImRvY3VtZW50IiwiZWxlbWVudEZyb21Qb2ludCIsImNsaWVudFgiLCJjbGllbnRZIiwiaXNVbmRlck1vdXNlIiwiZ2V0R2l6bW9JbmRleCIsImdpem1vcyIsImZpbmRJbmRleCIsImciLCJBcmNFZGdlR2l6bW8iLCJnaXptb0xheWVyIiwiaGlnaGxpZ2h0Q29sb3IiLCJoaWdobGlnaHRJbmRleCIsImhpZ2hsaWdodExvb3BJbmRleCIsInNldFBvbHkiLCJjbGVhckVkZ2VIaWdobGlnaHRpbmciLCJjbGVhclNoYXBlcyIsInMiLCJyZW1vdmVTaGFwZSIsImVkZ2VTaGFwZU5hbWUiLCJpbmRleCIsIl9hZGRFZGdlIiwiYSIsImIiLCJsaW5lIiwibGluZVN0eWxlIiwibGluZVdpZHRoIiwibGluZUFscGhhIiwibGluZUFsaGEiLCJsaW5lQ29sb3IiLCJhZGRTaGFwZSIsInB1c2giLCJoaWdobGlnaHQiLCJzZXRFZGdlSGlnaGxpZ2h0ZWQiLCJjb2xvciIsImlzUGF0aCIsImwiLCJsb29wQ291bnQiLCJpc0FyYyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Edit2D/CanvasGizmo.js\n");

/***/ }),

/***/ "./extensions/Edit2D/Clipboard.js":
/*!****************************************!*\
  !*** ./extensions/Edit2D/Clipboard.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Clipboard)\n/* harmony export */ });\nclass Clipboard {\n  constructor() {\n    Autodesk.Viewing.EventDispatcher.prototype.apply(this);\n\n    this.shapes = [];\n  }\n\n  /**\n   * Clear the contents of the clipboard\n   */\n  clear() {\n    this.shapes = [];\n    this._dispatchContentChangedEvent(this.shapes);\n  }\n\n  /**\n   * Check if the clipboard contains shapes\n   *\n   * @returns {boolean} True if there are shapes on the clipboard, false otherwise\n   */\n  hasShapes() {\n    return this.shapes.length !== 0;\n  }\n\n  /**\n   * Post shapes to the clipboard.\n   *\n   * The shapes will be cloned and then posted to the clipboard.\n   *\n   * @param {Shape[]} shapes The shapes to post to the clipboard\n   */\n  postShapes(shapes) {\n    this.shapes = shapes.map((s) => s.clone());\n    this._dispatchContentChangedEvent(shapes);\n  }\n\n  /**\n   * Clone the shapes on to the clipboard.\n   *\n   * @returns {Shape[]} Clones of shapes on the clipboard. May be empty if no shapes are on the clipboard.\n   */\n  cloneShapes() {\n    return this.shapes.map((s) => s.clone());\n  }\n\n  _dispatchContentChangedEvent(shapes) {\n    this.dispatchEvent({\n      type: Clipboard.CONTENT_CHANGED,\n      shapes\n    });\n  }\n}\n\nClipboard.CONTENT_CHANGED = \"CONTENT_CHANGED\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL0VkaXQyRC9DbGlwYm9hcmQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFlLE1BQU1BLFNBQVMsQ0FBQztFQUMzQkMsV0FBV0EsQ0FBQSxFQUFHO0lBQ1ZDLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDQyxlQUFlLENBQUNDLFNBQVMsQ0FBQ0MsS0FBSyxDQUFDLElBQUksQ0FBQzs7SUFFdEQsSUFBSSxDQUFDQyxNQUFNLEdBQUcsRUFBRTtFQUNwQjs7RUFFQTtBQUNKO0FBQ0E7RUFDSUMsS0FBS0EsQ0FBQSxFQUFHO0lBQ0osSUFBSSxDQUFDRCxNQUFNLEdBQUcsRUFBRTtJQUNoQixJQUFJLENBQUNFLDRCQUE0QixDQUFDLElBQUksQ0FBQ0YsTUFBTSxDQUFDO0VBQ2xEOztFQUVBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7RUFDSUcsU0FBU0EsQ0FBQSxFQUFHO0lBQ1IsT0FBTyxJQUFJLENBQUNILE1BQU0sQ0FBQ0ksTUFBTSxLQUFLLENBQUM7RUFDbkM7O0VBRUE7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDSUMsVUFBVUEsQ0FBQ0wsTUFBTSxFQUFFO0lBQ2YsSUFBSSxDQUFDQSxNQUFNLEdBQUdBLE1BQU0sQ0FBQ00sR0FBRyxDQUFDLENBQUFDLENBQUMsS0FBSUEsQ0FBQyxDQUFDQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ3hDLElBQUksQ0FBQ04sNEJBQTRCLENBQUNGLE1BQU0sQ0FBQztFQUM3Qzs7RUFFQTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0VBQ0lTLFdBQVdBLENBQUEsRUFBRztJQUNWLE9BQU8sSUFBSSxDQUFDVCxNQUFNLENBQUNNLEdBQUcsQ0FBQyxDQUFBQyxDQUFDLEtBQUlBLENBQUMsQ0FBQ0MsS0FBSyxDQUFDLENBQUMsQ0FBQztFQUMxQzs7RUFFQU4sNEJBQTRCQSxDQUFDRixNQUFNLEVBQUU7SUFDakMsSUFBSSxDQUFDVSxhQUFhLENBQUM7TUFDZkMsSUFBSSxFQUFFbEIsU0FBUyxDQUFDbUIsZUFBZTtNQUMvQlo7SUFDSixDQUFDLENBQUM7RUFDTjtBQUNKOztBQUVBUCxTQUFTLENBQUNtQixlQUFlLEdBQUcsaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvRWRpdDJEL0NsaXBib2FyZC5qcz9jZTcwIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENsaXBib2FyZCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIEF1dG9kZXNrLlZpZXdpbmcuRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZS5hcHBseSh0aGlzKTtcblxuICAgICAgICB0aGlzLnNoYXBlcyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBjb250ZW50cyBvZiB0aGUgY2xpcGJvYXJkXG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuc2hhcGVzID0gW107XG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoQ29udGVudENoYW5nZWRFdmVudCh0aGlzLnNoYXBlcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIGNsaXBib2FyZCBjb250YWlucyBzaGFwZXNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZXJlIGFyZSBzaGFwZXMgb24gdGhlIGNsaXBib2FyZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgaGFzU2hhcGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGFwZXMubGVuZ3RoICE9PSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBvc3Qgc2hhcGVzIHRvIHRoZSBjbGlwYm9hcmQuXG4gICAgICpcbiAgICAgKiBUaGUgc2hhcGVzIHdpbGwgYmUgY2xvbmVkIGFuZCB0aGVuIHBvc3RlZCB0byB0aGUgY2xpcGJvYXJkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTaGFwZVtdfSBzaGFwZXMgVGhlIHNoYXBlcyB0byBwb3N0IHRvIHRoZSBjbGlwYm9hcmRcbiAgICAgKi9cbiAgICBwb3N0U2hhcGVzKHNoYXBlcykge1xuICAgICAgICB0aGlzLnNoYXBlcyA9IHNoYXBlcy5tYXAocyA9PiBzLmNsb25lKCkpO1xuICAgICAgICB0aGlzLl9kaXNwYXRjaENvbnRlbnRDaGFuZ2VkRXZlbnQoc2hhcGVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbG9uZSB0aGUgc2hhcGVzIG9uIHRvIHRoZSBjbGlwYm9hcmQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U2hhcGVbXX0gQ2xvbmVzIG9mIHNoYXBlcyBvbiB0aGUgY2xpcGJvYXJkLiBNYXkgYmUgZW1wdHkgaWYgbm8gc2hhcGVzIGFyZSBvbiB0aGUgY2xpcGJvYXJkLlxuICAgICAqL1xuICAgIGNsb25lU2hhcGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGFwZXMubWFwKHMgPT4gcy5jbG9uZSgpKTtcbiAgICB9XG5cbiAgICBfZGlzcGF0Y2hDb250ZW50Q2hhbmdlZEV2ZW50KHNoYXBlcykge1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgdHlwZTogQ2xpcGJvYXJkLkNPTlRFTlRfQ0hBTkdFRCxcbiAgICAgICAgICAgIHNoYXBlcyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5DbGlwYm9hcmQuQ09OVEVOVF9DSEFOR0VEID0gXCJDT05URU5UX0NIQU5HRURcIjtcbiJdLCJuYW1lcyI6WyJDbGlwYm9hcmQiLCJjb25zdHJ1Y3RvciIsIkF1dG9kZXNrIiwiVmlld2luZyIsIkV2ZW50RGlzcGF0Y2hlciIsInByb3RvdHlwZSIsImFwcGx5Iiwic2hhcGVzIiwiY2xlYXIiLCJfZGlzcGF0Y2hDb250ZW50Q2hhbmdlZEV2ZW50IiwiaGFzU2hhcGVzIiwibGVuZ3RoIiwicG9zdFNoYXBlcyIsIm1hcCIsInMiLCJjbG9uZSIsImNsb25lU2hhcGVzIiwiZGlzcGF0Y2hFdmVudCIsInR5cGUiLCJDT05URU5UX0NIQU5HRUQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Edit2D/Clipboard.js\n");

/***/ }),

/***/ "./extensions/Edit2D/Edit2D.js":
/*!*************************************!*\
  !*** ./extensions/Edit2D/Edit2D.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Edit2DExtension)\n/* harmony export */ });\n/* harmony import */ var _EditLayer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditLayer.js */ \"./extensions/Edit2D/EditLayer.js\");\n/* harmony import */ var _Clipboard_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Clipboard.js */ \"./extensions/Edit2D/Clipboard.js\");\n/* harmony import */ var _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EditShapes.js */ \"./extensions/Edit2D/EditShapes.js\");\n/* harmony import */ var _Arrow_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Arrow.js */ \"./extensions/Edit2D/Arrow.js\");\n/* harmony import */ var _Selection_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Selection.js */ \"./extensions/Edit2D/Selection.js\");\n/* harmony import */ var _Math2D_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Math2D.js */ \"./extensions/Edit2D/Math2D.js\");\n/* harmony import */ var _Svg_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Svg.js */ \"./extensions/Edit2D/Svg.js\");\n/* harmony import */ var _Actions_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Actions.js */ \"./extensions/Edit2D/Actions.js\");\n/* harmony import */ var _Trackings_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Trackings.js */ \"./extensions/Edit2D/Trackings.js\");\n/* harmony import */ var _UndoStack_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./UndoStack.js */ \"./extensions/Edit2D/UndoStack.js\");\n/* harmony import */ var _Edit2DSnapper_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Edit2DSnapper.js */ \"./extensions/Edit2D/Edit2DSnapper.js\");\n/* harmony import */ var _Edit2DContextMenu_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Edit2DContextMenu.js */ \"./extensions/Edit2D/Edit2DContextMenu.js\");\n/* harmony import */ var _UnitHandler_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./UnitHandler.js */ \"./extensions/Edit2D/UnitHandler.js\");\n/* harmony import */ var _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./CanvasGizmo.js */ \"./extensions/Edit2D/CanvasGizmo.js\");\n/* harmony import */ var _TangentGizmo_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./TangentGizmo.js */ \"./extensions/Edit2D/TangentGizmo.js\");\n/* harmony import */ var _SegmentTree_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./SegmentTree.js */ \"./extensions/Edit2D/SegmentTree.js\");\n/* harmony import */ var _ScreenOverlay_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./ScreenOverlay.js */ \"./extensions/Edit2D/ScreenOverlay.js\");\n/* harmony import */ var _AngleGizmo_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./AngleGizmo.js */ \"./extensions/Edit2D/AngleGizmo.js\");\n/* harmony import */ var _AngleGizmo3d_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./AngleGizmo3d.js */ \"./extensions/Edit2D/AngleGizmo3d.js\");\n/* harmony import */ var _tools_MoveTool_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./tools/MoveTool.js */ \"./extensions/Edit2D/tools/MoveTool.js\");\n/* harmony import */ var _tools_PolygonTool_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./tools/PolygonTool.js */ \"./extensions/Edit2D/tools/PolygonTool.js\");\n/* harmony import */ var _tools_PolygonEditTool_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./tools/PolygonEditTool.js */ \"./extensions/Edit2D/tools/PolygonEditTool.js\");\n/* harmony import */ var _tools_InsertSymbolTool_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./tools/InsertSymbolTool.js */ \"./extensions/Edit2D/tools/InsertSymbolTool.js\");\n/* harmony import */ var _tools_RectangleTool_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./tools/RectangleTool.js */ \"./extensions/Edit2D/tools/RectangleTool.js\");\n/* harmony import */ var _tools_UndoTool_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./tools/UndoTool.js */ \"./extensions/Edit2D/tools/UndoTool.js\");\n/* harmony import */ var _tools_CopyTool_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./tools/CopyTool.js */ \"./extensions/Edit2D/tools/CopyTool.js\");\n/* harmony import */ var _tools_LineTool_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./tools/LineTool.js */ \"./extensions/Edit2D/tools/LineTool.js\");\n/* harmony import */ var _tools_VertexMoveTool_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./tools/VertexMoveTool.js */ \"./extensions/Edit2D/tools/VertexMoveTool.js\");\n/* harmony import */ var _tools_EdgeMoveTool_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./tools/EdgeMoveTool.js */ \"./extensions/Edit2D/tools/EdgeMoveTool.js\");\n/* harmony import */ var _MeasureTransform_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./MeasureTransform.js */ \"./extensions/Edit2D/MeasureTransform.js\");\n/* harmony import */ var _SolidDefConvert_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./SolidDefConvert.js */ \"./extensions/Edit2D/SolidDefConvert.js\");\n/* harmony import */ var _BooleanOps_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./BooleanOps.js */ \"./extensions/Edit2D/BooleanOps.js\");\n/* harmony import */ var _locales__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./locales */ \"./extensions/Edit2D/locales.js\");\n/* harmony import */ var _Edit2D_css__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./Edit2D.css */ \"./extensions/Edit2D/Edit2D.css\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n // IMPORTANT!!\n\nconst myExtensionName = 'Autodesk.Edit2D';\nconst namespace = AutodeskNamespace('Autodesk.Edit2D');\nconst av = Autodesk.Viewing;\n\nconst OverlayName = 'Edit2D';\n\nclass ToolSet {\n  constructor(name, autoReactivate) {\n    this.name = name;\n    this.autoReactivate = autoReactivate;\n    this.context = null;\n    this.tools = {};\n  }\n}\n\n/**\n * Edit2D extension provides API for implementing 2D vector editing.\n * Loading the extension does not add UI or changes behavior in the viewer. Its purpose is only\n * to provide a basis for other extensions and client applications.\n *\n * The extension id is: `Autodesk.Edit2D`\n *\n * @example\n *   viewer.loadExtension('Autodesk.Edit2D')\n *\n * @memberof Autodesk.Viewing.Extensions\n * @see {@link Autodesk.Viewing.Extension} for common inherited methods.\n * @alias Autodesk.Viewing.Extensions.Edit2DExtension\n * @class\n */\nclass Edit2DExtension extends av.Extension {\n  constructor(viewer, options) {\n    super(viewer, options);\n\n    this.extendLocalization(_locales__WEBPACK_IMPORTED_MODULE_32__.locales);\n\n    this.undoStack = new _UndoStack_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]();\n\n    // A map containing all registered Edit 3D tools (value as ToolSet) for a specific tool set name (key)\n    this._registeredTools = new Map();\n    this._boundOnModelAdded = this._onModelAdded.bind(this);\n    this._boundOnModelRemoved = this._onModelRemoved.bind(this);\n    this._boundOnSelectionChanged = this._onSelectionChanged.bind(this);\n  }\n\n  async load() {\n\n    // The overlay \"Edit2D\" contains subscenes for each edit layer.\n    this.viewer.impl.createOverlayScene(OverlayName);\n\n    // We require Snapping and Autodesk.CompGeom (already a dependency of Autodesk.Snapping)\n    await this.viewer.loadExtension('Autodesk.Snapping');\n\n    this.viewer.addEventListener(av.MODEL_ADDED_EVENT, this._boundOnModelAdded);\n    this.viewer.addEventListener(av.MODEL_REMOVED_EVENT, this._boundOnModelRemoved);\n\n    // activate UndoTool immediately, because it runs in parallel to other tools and for all tools\n    this.undoTool = new _tools_UndoTool_js__WEBPACK_IMPORTED_MODULE_24__[\"default\"](this.undoStack);\n    this.viewer.toolController.registerTool(this.undoTool);\n    this.viewer.toolController.activateTool(this.undoTool.getName());\n\n    return true;\n  }\n\n  unload() {\n    for (const toolSetName of this._registeredTools.keys()) {\n      this.unregisterTools(toolSetName);\n    }\n\n    this.viewer.toolController.deregisterTool(this.undoTool);\n    this.undoTool = null;\n\n    this.viewer.removeEventListener(av.MODEL_ADDED_EVENT, this._boundOnModelAdded);\n    this.viewer.removeEventListener(av.MODEL_REMOVED_EVENT, this._boundOnModelRemoved);\n\n    return true;\n  }\n\n  _onModelAdded() {\n    if (this.viewer.getVisibleModels().length !== 1) {\n      // Do the reactivation only when the first model got loaded.\n      return;\n    }\n\n    for (const toolSet of this._registeredTools.values()) {\n      if (toolSet.autoReactivate) {var _toolSet$toolsToReact;\n        (_toolSet$toolsToReact = toolSet.toolsToReactivate) === null || _toolSet$toolsToReact === void 0 || _toolSet$toolsToReact.forEach((name) => this.viewer.toolController.activateTool(name));\n      }\n    }\n  }\n\n  _onModelRemoved() {\n    if (this.viewer.getVisibleModels().length !== 0) {\n      // Only deactivate tools when no model is active anymore.\n      return;\n    }\n\n    const controller = this.viewer.toolController;\n    for (const toolSet of this._registeredTools.values()) {\n      if (toolSet.autoReactivate) {\n        // The next statement gets all possible names of all tools of a toolSet,\n        // flatten the resulting array\n        // and returns a list tool names that are active.\n        toolSet.toolsToReactivate = Object.values(toolSet.tools).\n        map((t) => t.getNames()).\n        reduce((res, names) => res.concat(names), []) // flatten\n        .filter((name) => controller.isToolActivated(name));\n\n        toolSet.toolsToReactivate.forEach((name) => controller.deactivateTool(name));\n      }\n    }\n  }\n\n  // If multiple tools are registered, we have to clear the other selections as the mouse events are handled on the first one.\n  _onSelectionChanged(_ref) {let { target: selectionSource } = _ref;\n    for (const toolSet of this._registeredTools.values()) {\n      if (selectionSource !== toolSet.context.selection && !selectionSource.empty()) {\n        toolSet.context.selection.clear();\n      }\n    }\n  }\n\n  registerDefaultTools() {\n    this.defaultContext = this.registerTools('default');\n  }\n\n  // Get default tools. registerDefaultTools() must be called first, otherwise it returns null.\n  get defaultTools() {\n    const toolSet = this._registeredTools.get('default');\n    return toolSet && toolSet.tools;\n  }\n\n  // returns a given toolset, or null if none with the given name have been registered.\n  getToolSet(toolSetName) {\n    return this._registeredTools.get(toolSetName);\n  }\n\n  registerTools(toolSetName) {let autoReactivate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let toolSet = this._registeredTools.get(toolSetName);\n    if (toolSet) {\n      console.warn(`Edit 2D tools are already registered for tool set '${toolSetName}'`);\n      return toolSet.context;\n    }\n\n    toolSet = new ToolSet(toolSetName, autoReactivate);\n    this._registeredTools.set(toolSetName, toolSet);\n\n    // create context\n    const context = toolSet.context = new Edit2DContext(this, toolSetName, options);\n    context.selection.addEventListener(_Selection_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].Events.SELECTION_CHANGED, this._boundOnSelectionChanged);\n\n    // create tools\n    toolSet.tools.polygonTool = new _tools_PolygonTool_js__WEBPACK_IMPORTED_MODULE_20__[\"default\"](context, _tools_PolygonTool_js__WEBPACK_IMPORTED_MODULE_20__[\"default\"].Mode.Polygon);\n    toolSet.tools.polylineTool = new _tools_PolygonTool_js__WEBPACK_IMPORTED_MODULE_20__[\"default\"](context, _tools_PolygonTool_js__WEBPACK_IMPORTED_MODULE_20__[\"default\"].Mode.Polyline);\n    toolSet.tools.moveTool = new _tools_MoveTool_js__WEBPACK_IMPORTED_MODULE_19__[\"default\"](context);\n    toolSet.tools.polygonEditTool = new _tools_PolygonEditTool_js__WEBPACK_IMPORTED_MODULE_21__[\"default\"](context);\n    toolSet.tools.insertSymbolTool = new _tools_InsertSymbolTool_js__WEBPACK_IMPORTED_MODULE_22__[\"default\"](context);\n    toolSet.tools.copyTool = new _tools_CopyTool_js__WEBPACK_IMPORTED_MODULE_25__[\"default\"](context);\n\n    // Enable all new shapes to be Paths, so that you can turn line segments into arc segments\n    const enableArcs = Boolean(this.options.enableArcs);\n    toolSet.tools.polygonTool.setArcsEnabled(enableArcs);\n    toolSet.tools.polylineTool.setArcsEnabled(enableArcs);\n\n    // Allow converting segments to ellipse arcs if wanted\n    if (this.options.enableEllipseArcs) {\n      toolSet.tools.polygonEditTool.enableEllipseArcs = true;\n    }\n\n    // register them\n    let controller = this.viewer.toolController;\n    controller.registerTool(toolSet.tools.polygonTool);\n    controller.registerTool(toolSet.tools.polylineTool);\n    controller.registerTool(toolSet.tools.moveTool);\n    controller.registerTool(toolSet.tools.polygonEditTool);\n    controller.registerTool(toolSet.tools.insertSymbolTool);\n    controller.registerTool(toolSet.tools.copyTool);\n\n    // activate CopyTool immediately, because they run parallel to other tools\n    controller.activateTool(toolSet.tools.copyTool.getName());\n\n    // create and register context menu\n    toolSet.contextMenu = new _Edit2DContextMenu_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"](this.viewer, toolSet);\n    toolSet.contextMenu.register();\n\n    return context;\n  }\n\n  unregisterDefaultTools() {\n    this.unregisterTools('default');\n    this.defaultContext = null;\n  }\n\n  unregisterTools(toolSetName) {\n    let toolSet = this._registeredTools.get(toolSetName);\n    if (!toolSet) {\n      return;\n    }\n\n    let controller = this.viewer.toolController;\n    controller.deregisterTool(toolSet.tools.polygonTool);\n    controller.deregisterTool(toolSet.tools.polylineTool);\n    controller.deregisterTool(toolSet.tools.moveTool);\n    controller.deregisterTool(toolSet.tools.polygonEditTool);\n    controller.deregisterTool(toolSet.tools.insertSymbolTool);\n    controller.deregisterTool(toolSet.tools.copyTool);\n\n    toolSet.context.selection.removeEventListener(_Selection_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].Events.SELECTION_CHANGED, this._boundOnSelectionChanged);\n    toolSet.context.dtor();\n\n    // Unregister and delete context menu\n    toolSet.contextMenu.unregister();\n    toolSet.contextMenu = null;\n\n    this._registeredTools.delete(toolSetName);\n  }\n\n  createLayer(options) {\n\n    const model = this.viewer.model;\n    if (!model) {\n      console.error(\"A 2D model is needed to adjust viewport\");\n    }\n\n    // create new overlay scene to show\n    const layer = new _EditLayer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.viewer, options);\n\n    if (!options.useSceneAfter) {\n      // use extension's default overlay scene name. If specified, use a custom overlay\n      // scene name from the edit2dContext to allow using multiple Edit2D scenes\n      const overlayName = options.customOverlayScene ?? OverlayName;\n      if (!this.viewer.overlays.hasScene(overlayName)) {\n        this.viewer.impl.createOverlayScene(overlayName);\n      }\n\n      // add layer scene to our overlay scene\n      this.viewer.impl.overlayScenes[overlayName].scene.add(layer.scene);\n\n      this.viewer.overlays.setSceneHiddenFromMainRender(overlayName, !!options.hiddenFromMainRender);\n    }\n\n    return layer;\n  }\n}\n\n// Common set of objects usually needed by tools\nclass Edit2DContext {\n\n  // @param {Edit2D} ext - Edit2d extension\n  constructor(ext, toolSetName) {let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    this.toolSetName = toolSetName;\n    this.ext = ext;\n    this.viewer = ext.viewer;\n    this.layer = ext.createLayer(options);\n    this.gizmoLayer = ext.createLayer(options);\n    this.undoStack = ext.undoStack;\n    this.clipboard = new _Clipboard_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n    this.selection = new _Selection_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this.layer, this.undoStack);\n    this.snapper = new _Edit2DSnapper_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"](this.viewer, this.layer, this.gizmoLayer);\n    this.unitHandler = new _UnitHandler_js__WEBPACK_IMPORTED_MODULE_12__.DefaultUnitHandler(this.viewer);\n\n    // track mouse in Edit2D\n    this.mouseTracker = ext.options.mouseTracker;\n\n    this.onUnitChangeHandler = this.onUnitChange.bind(this);\n\n    this.viewer.addEventListener(Autodesk.Viewing.MeasureCommon.Events.DISPLAY_UNITS_CHANGED, this.onUnitChangeHandler);\n  }\n\n  dtor() {\n    this.viewer.removeEventListener(Autodesk.Viewing.MeasureCommon.Events.DISPLAY_UNITS_CHANGED, this.onUnitChangeHandler);\n\n    this.layer.dtor();\n    this.layer = null;\n    this.gizmoLayer.dtor();\n    this.gizmoLayer = null;\n  }\n\n  // Update all visible labels if display units are changed\n  onUnitChange() {\n    this.layer.updateCanvasGizmos();\n    this.gizmoLayer.updateCanvasGizmos();\n  }\n\n  setAllGizmosEnabled(enabled) {\n    const toolSet = this.ext.getToolSet(this.toolSetName);\n    toolSet.tools.polygonEditTool.setAllGizmosEnabled(enabled);\n  }\n\n  // Set matrix that is applied to all displayed geometry\n  setMatrix(matrix) {\n    if (!this.layer) {\n      return; // Enough to check one since they are created in pairs\n    }\n    console.assert(this.gizmoLayer); // expected to be non-null because this.layer is non-null here\n\n    this.layer.setMatrix(matrix);\n    this.gizmoLayer.setMatrix(matrix);\n    this.layer.update();\n    this.gizmoLayer.update();\n  }\n\n  // Clears current layer in a way that undo-stack keeps consistent.\n  //\n  //  @param {boolean} enableUndo - If false, the undoStack is cleared.\n  clearLayer() {let enableUndo = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    if (enableUndo) {\n      const action = new _Actions_js__WEBPACK_IMPORTED_MODULE_7__.Actions.RemoveShapes(this.layer, this.layer.shapes);\n      this.undoStack.run(action);\n    } else {var _this$layer;\n      (_this$layer = this.layer) === null || _this$layer === void 0 || _this$layer.clear();\n      this.undoStack.clear();\n    }\n  }\n\n  addShape(shape) {\n    const action = new _Actions_js__WEBPACK_IMPORTED_MODULE_7__.Actions.AddShape(this.layer, shape);\n    this.undoStack.run(action);\n  }\n\n  removeShape(shape) {\n    const action = new _Actions_js__WEBPACK_IMPORTED_MODULE_7__.Actions.RemoveShape(this.layer, shape);\n    this.undoStack.run(action);\n  }\n}\n\n// Register the extension with the extension manager.\nAutodesk.Viewing.theExtensionManager.registerExtension(myExtensionName, Edit2DExtension);\n\nnamespace.Shape = _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__.Shape;\nnamespace.Polygon = _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__.Polygon;\nnamespace.Polyline = _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__.Polyline;\nnamespace.PolyBase = _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__.PolyBase;\nnamespace.Path = _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__.Path;\nnamespace.PolygonPath = _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__.PolygonPath;\nnamespace.PolylinePath = _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__.PolylinePath;\nnamespace.Circle = _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__.Circle;\nnamespace.Style = _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__.Style;\nnamespace.EllipseArcParams = _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__.EllipseArcParams;\nnamespace.PolygonTool = _tools_PolygonTool_js__WEBPACK_IMPORTED_MODULE_20__[\"default\"];\nnamespace.Selection = _Selection_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\nnamespace.MoveTool = _tools_MoveTool_js__WEBPACK_IMPORTED_MODULE_19__[\"default\"];\nnamespace.PolygonEditTool = _tools_PolygonEditTool_js__WEBPACK_IMPORTED_MODULE_21__[\"default\"];\nnamespace.VertexMoveTool = _tools_VertexMoveTool_js__WEBPACK_IMPORTED_MODULE_27__[\"default\"];\nnamespace.EdgeMoveTool = _tools_EdgeMoveTool_js__WEBPACK_IMPORTED_MODULE_28__[\"default\"];\nnamespace.InsertSymbolTool = _tools_InsertSymbolTool_js__WEBPACK_IMPORTED_MODULE_22__[\"default\"];\nnamespace.Math2D = _Math2D_js__WEBPACK_IMPORTED_MODULE_5__.Math2D;\nnamespace.VertexGizmo = _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_13__.VertexGizmo;\nnamespace.RectangleTool = _tools_RectangleTool_js__WEBPACK_IMPORTED_MODULE_23__[\"default\"];\nnamespace.LineTool = _tools_LineTool_js__WEBPACK_IMPORTED_MODULE_26__[\"default\"];\nnamespace.CopyTool = _tools_CopyTool_js__WEBPACK_IMPORTED_MODULE_25__[\"default\"];\nnamespace.Actions = _Actions_js__WEBPACK_IMPORTED_MODULE_7__.Actions;\nnamespace.UndoStack = _UndoStack_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"];\nnamespace.Clipboard = _Clipboard_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\nnamespace.UndoTool = _tools_UndoTool_js__WEBPACK_IMPORTED_MODULE_24__[\"default\"];\nnamespace.Edit2DContext = Edit2DContext;\nnamespace.CanvasGizmo = _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_13__.CanvasGizmo;\nnamespace.CanvasGizmoBase = _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_13__.CanvasGizmoBase;\nnamespace.ShapeLabel = _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_13__.ShapeLabel;\nnamespace.AlignX = _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_13__.AlignX;\nnamespace.AlignY = _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_13__.AlignY;\nnamespace.AreaLabel = _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_13__.AreaLabel;\nnamespace.EdgeLabel = _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_13__.EdgeLabel;\nnamespace.UnitHandler = _UnitHandler_js__WEBPACK_IMPORTED_MODULE_12__.UnitHandler;\nnamespace.SimpleUnitHandler = _UnitHandler_js__WEBPACK_IMPORTED_MODULE_12__.SimpleUnitHandler;\nnamespace.DefaultUnitHandler = _UnitHandler_js__WEBPACK_IMPORTED_MODULE_12__.DefaultUnitHandler;\nnamespace.ShapeLabelRule = _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_13__.ShapeLabelRule;\nnamespace.ShapeWrapper = _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__.ShapeWrapper;\nnamespace.SegmentTree = _SegmentTree_js__WEBPACK_IMPORTED_MODULE_15__[\"default\"];\nnamespace.TangentGizmo = _TangentGizmo_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"];\nnamespace.MeasureTransform = _MeasureTransform_js__WEBPACK_IMPORTED_MODULE_29__.MeasureTransform;\nnamespace.DefaultMeasureTransform = _MeasureTransform_js__WEBPACK_IMPORTED_MODULE_29__.DefaultMeasureTransform;\nnamespace.ShapeToolTip = _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_13__.ShapeToolTip;\nnamespace.Svg = _Svg_js__WEBPACK_IMPORTED_MODULE_6__.Svg;\nnamespace.SolidDefConvert = _SolidDefConvert_js__WEBPACK_IMPORTED_MODULE_30__.SolidDefConvert;\nnamespace.BooleanOps = _BooleanOps_js__WEBPACK_IMPORTED_MODULE_31__.BooleanOps;\nnamespace.LoopType = _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__.LoopType;\nnamespace.EdgeType = _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__.EdgeType;\nnamespace.FadeOutStyleRule = _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_13__.FadeOutStyleRule;\nnamespace.EditLayer = _EditLayer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\nnamespace.ScreenOverlay = _ScreenOverlay_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"];\nnamespace.Arrow = _Arrow_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\nnamespace.AngleGizmo = _AngleGizmo_js__WEBPACK_IMPORTED_MODULE_17__[\"default\"];\nnamespace.AngleGizmo3d = _AngleGizmo3d_js__WEBPACK_IMPORTED_MODULE_18__[\"default\"];\nnamespace.TextLabel = _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_13__.TextLabel;\nnamespace.Trackings = _Trackings_js__WEBPACK_IMPORTED_MODULE_8__.Trackings;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGVBQWUsR0FBR0EsaUVBQWU7QUFDM0NJLFNBQVMsQ0FBQ0gsVUFBVSxHQUFHQSx1REFBVTtBQUNqQ0csU0FBUyxDQUFDL0MsUUFBUSxHQUFHQSxvREFBUTtBQUM3QitDLFNBQVMsQ0FBQzlDLFFBQVEsR0FBR0Esb0RBQVE7QUFDN0I4QyxTQUFTLENBQUN2QixnQkFBZ0IsR0FBR0EsOERBQWdCO0FBQzdDdUIsU0FBUyxDQUFDNUQsU0FBUyxHQUFHQSxxREFBUztBQUMvQjRELFNBQVMsQ0FBQ25CLGFBQWEsR0FBR0EsMERBQWE7QUFDdkNtQixTQUFTLENBQUM3QyxLQUFLLEdBQUdBLGlEQUFLO0FBQ3ZCNkMsU0FBUyxDQUFDbEIsVUFBVSxHQUFHQSx1REFBVTtBQUNqQ2tCLFNBQVMsQ0FBQ2pCLFlBQVksR0FBR0EseURBQVk7QUFDckNpQixTQUFTLENBQUN0QixTQUFTLEdBQUdBLHVEQUFTO0FBQy9Cc0IsU0FBUyxDQUFDeEMsU0FBUyxHQUFHQSxvREFBUyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL0VkaXQyRC9FZGl0MkQuanM/NGEzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRWRpdExheWVyIGZyb20gJy4vRWRpdExheWVyLmpzJztcbmltcG9ydCBDbGlwYm9hcmQgZnJvbSAnLi9DbGlwYm9hcmQuanMnO1xuaW1wb3J0IHsgU2hhcGUsIFN0eWxlLCBQb2x5Z29uLCBQb2x5bGluZSwgUG9seUJhc2UsIFBhdGgsIFBvbHlsaW5lUGF0aCwgUG9seWdvblBhdGgsIENpcmNsZSwgU2hhcGVXcmFwcGVyLCBFbGxpcHNlQXJjUGFyYW1zLCBMb29wVHlwZSwgRWRnZVR5cGUgfSBmcm9tICcuL0VkaXRTaGFwZXMuanMnO1xuaW1wb3J0IEFycm93IGZyb20gJy4vQXJyb3cuanMnO1xuaW1wb3J0IFNlbGVjdGlvbiBmcm9tICcuL1NlbGVjdGlvbi5qcyc7XG5pbXBvcnQgeyBNYXRoMkQgfSBmcm9tICcuL01hdGgyRC5qcyc7XG5pbXBvcnQgeyBTdmcgfSBmcm9tICcuL1N2Zy5qcyc7XG5pbXBvcnQgeyBBY3Rpb25zIH0gZnJvbSAnLi9BY3Rpb25zLmpzJztcbmltcG9ydCB7IFRyYWNraW5ncyB9IGZyb20gJy4vVHJhY2tpbmdzLmpzJztcbmltcG9ydCBVbmRvU3RhY2sgZnJvbSAnLi9VbmRvU3RhY2suanMnO1xuaW1wb3J0IEVkaXQyRFNuYXBwZXIgZnJvbSAnLi9FZGl0MkRTbmFwcGVyLmpzJztcbmltcG9ydCBFZGl0MkRDb250ZXh0TWVudSBmcm9tICcuL0VkaXQyRENvbnRleHRNZW51LmpzJztcbmltcG9ydCB7IFVuaXRIYW5kbGVyLCBEZWZhdWx0VW5pdEhhbmRsZXIsIFNpbXBsZVVuaXRIYW5kbGVyIH0gZnJvbSAnLi9Vbml0SGFuZGxlci5qcyc7XG5pbXBvcnQgeyBDYW52YXNHaXptb0Jhc2UsIENhbnZhc0dpem1vLCBFZGdlTGFiZWwsIFNoYXBlTGFiZWwsIEFyZWFMYWJlbCwgQWxpZ25YLCBBbGlnblksIFZlcnRleEdpem1vLCBTaGFwZUxhYmVsUnVsZSwgU2hhcGVUb29sVGlwLCBGYWRlT3V0U3R5bGVSdWxlLCBUZXh0TGFiZWwgfSBmcm9tICcuL0NhbnZhc0dpem1vLmpzJztcbmltcG9ydCBUYW5nZW50R2l6bW8gZnJvbSAnLi9UYW5nZW50R2l6bW8uanMnO1xuaW1wb3J0IFNlZ21lbnRUcmVlIGZyb20gJy4vU2VnbWVudFRyZWUuanMnO1xuaW1wb3J0IFNjcmVlbk92ZXJsYXkgZnJvbSAnLi9TY3JlZW5PdmVybGF5LmpzJztcbmltcG9ydCBBbmdsZUdpem1vIGZyb20gJy4vQW5nbGVHaXptby5qcyc7XG5pbXBvcnQgQW5nbGVHaXptbzNkIGZyb20gJy4vQW5nbGVHaXptbzNkLmpzJztcblxuaW1wb3J0IE1vdmVUb29sIGZyb20gJy4vdG9vbHMvTW92ZVRvb2wuanMnO1xuaW1wb3J0IFBvbHlnb25Ub29sIGZyb20gJy4vdG9vbHMvUG9seWdvblRvb2wuanMnO1xuaW1wb3J0IFBvbHlnb25FZGl0VG9vbCBmcm9tICcuL3Rvb2xzL1BvbHlnb25FZGl0VG9vbC5qcyc7XG5pbXBvcnQgSW5zZXJ0U3ltYm9sVG9vbCBmcm9tICcuL3Rvb2xzL0luc2VydFN5bWJvbFRvb2wuanMnO1xuaW1wb3J0IFJlY3RhbmdsZVRvb2wgZnJvbSAnLi90b29scy9SZWN0YW5nbGVUb29sLmpzJztcbmltcG9ydCBVbmRvVG9vbCBmcm9tICcuL3Rvb2xzL1VuZG9Ub29sLmpzJztcbmltcG9ydCBDb3B5VG9vbCBmcm9tICcuL3Rvb2xzL0NvcHlUb29sLmpzJztcbmltcG9ydCBMaW5lVG9vbCBmcm9tICcuL3Rvb2xzL0xpbmVUb29sLmpzJztcbmltcG9ydCBWZXJ0ZXhNb3ZlVG9vbCBmcm9tIFwiLi90b29scy9WZXJ0ZXhNb3ZlVG9vbC5qc1wiO1xuaW1wb3J0IEVkZ2VNb3ZlVG9vbCBmcm9tIFwiLi90b29scy9FZGdlTW92ZVRvb2wuanNcIjtcbmltcG9ydCB7IE1lYXN1cmVUcmFuc2Zvcm0sIERlZmF1bHRNZWFzdXJlVHJhbnNmb3JtIH0gZnJvbSAnLi9NZWFzdXJlVHJhbnNmb3JtLmpzJztcblxuaW1wb3J0IHsgU29saWREZWZDb252ZXJ0IH0gZnJvbSAnLi9Tb2xpZERlZkNvbnZlcnQuanMnO1xuaW1wb3J0IHsgQm9vbGVhbk9wcyB9IGZyb20gJy4vQm9vbGVhbk9wcy5qcyc7XG5pbXBvcnQgeyBsb2NhbGVzIH0gZnJvbSAnLi9sb2NhbGVzJztcblxuaW1wb3J0ICcuL0VkaXQyRC5jc3MnOyAvLyBJTVBPUlRBTlQhIVxuXG5jb25zdCBteUV4dGVuc2lvbk5hbWUgPSAnQXV0b2Rlc2suRWRpdDJEJztcbmNvbnN0IG5hbWVzcGFjZSA9IEF1dG9kZXNrTmFtZXNwYWNlKCdBdXRvZGVzay5FZGl0MkQnKTtcbmNvbnN0IGF2ID0gQXV0b2Rlc2suVmlld2luZztcblxuY29uc3QgT3ZlcmxheU5hbWUgPSAnRWRpdDJEJztcblxuY2xhc3MgVG9vbFNldCB7XG4gICAgY29uc3RydWN0b3IobmFtZSwgYXV0b1JlYWN0aXZhdGUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5hdXRvUmVhY3RpdmF0ZSA9IGF1dG9SZWFjdGl2YXRlO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLnRvb2xzID0ge307XG4gICAgfVxufVxuXG4vKipcbiAqIEVkaXQyRCBleHRlbnNpb24gcHJvdmlkZXMgQVBJIGZvciBpbXBsZW1lbnRpbmcgMkQgdmVjdG9yIGVkaXRpbmcuXG4gKiBMb2FkaW5nIHRoZSBleHRlbnNpb24gZG9lcyBub3QgYWRkIFVJIG9yIGNoYW5nZXMgYmVoYXZpb3IgaW4gdGhlIHZpZXdlci4gSXRzIHB1cnBvc2UgaXMgb25seVxuICogdG8gcHJvdmlkZSBhIGJhc2lzIGZvciBvdGhlciBleHRlbnNpb25zIGFuZCBjbGllbnQgYXBwbGljYXRpb25zLlxuICpcbiAqIFRoZSBleHRlbnNpb24gaWQgaXM6IGBBdXRvZGVzay5FZGl0MkRgXG4gKlxuICogQGV4YW1wbGVcbiAqICAgdmlld2VyLmxvYWRFeHRlbnNpb24oJ0F1dG9kZXNrLkVkaXQyRCcpXG4gKlxuICogQG1lbWJlcm9mIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9uc1xuICogQHNlZSB7QGxpbmsgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb259IGZvciBjb21tb24gaW5oZXJpdGVkIG1ldGhvZHMuXG4gKiBAYWxpYXMgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLkVkaXQyREV4dGVuc2lvblxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVkaXQyREV4dGVuc2lvbiBleHRlbmRzIGF2LkV4dGVuc2lvbiB7XG4gICAgY29uc3RydWN0b3Iodmlld2VyLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHZpZXdlciwgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5leHRlbmRMb2NhbGl6YXRpb24obG9jYWxlcyk7XG5cbiAgICAgICAgdGhpcy51bmRvU3RhY2sgPSBuZXcgVW5kb1N0YWNrKCk7XG5cbiAgICAgICAgLy8gQSBtYXAgY29udGFpbmluZyBhbGwgcmVnaXN0ZXJlZCBFZGl0IDNEIHRvb2xzICh2YWx1ZSBhcyBUb29sU2V0KSBmb3IgYSBzcGVjaWZpYyB0b29sIHNldCBuYW1lIChrZXkpXG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyZWRUb29scyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fYm91bmRPbk1vZGVsQWRkZWQgPSB0aGlzLl9vbk1vZGVsQWRkZWQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYm91bmRPbk1vZGVsUmVtb3ZlZCA9IHRoaXMuX29uTW9kZWxSZW1vdmVkLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2JvdW5kT25TZWxlY3Rpb25DaGFuZ2VkID0gdGhpcy5fb25TZWxlY3Rpb25DaGFuZ2VkLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZCgpIHtcblxuICAgICAgICAvLyBUaGUgb3ZlcmxheSBcIkVkaXQyRFwiIGNvbnRhaW5zIHN1YnNjZW5lcyBmb3IgZWFjaCBlZGl0IGxheWVyLlxuICAgICAgICB0aGlzLnZpZXdlci5pbXBsLmNyZWF0ZU92ZXJsYXlTY2VuZShPdmVybGF5TmFtZSk7XG5cbiAgICAgICAgLy8gV2UgcmVxdWlyZSBTbmFwcGluZyBhbmQgQXV0b2Rlc2suQ29tcEdlb20gKGFscmVhZHkgYSBkZXBlbmRlbmN5IG9mIEF1dG9kZXNrLlNuYXBwaW5nKVxuICAgICAgICBhd2FpdCB0aGlzLnZpZXdlci5sb2FkRXh0ZW5zaW9uKCdBdXRvZGVzay5TbmFwcGluZycpO1xuXG4gICAgICAgIHRoaXMudmlld2VyLmFkZEV2ZW50TGlzdGVuZXIoYXYuTU9ERUxfQURERURfRVZFTlQsIHRoaXMuX2JvdW5kT25Nb2RlbEFkZGVkKTtcbiAgICAgICAgdGhpcy52aWV3ZXIuYWRkRXZlbnRMaXN0ZW5lcihhdi5NT0RFTF9SRU1PVkVEX0VWRU5ULCB0aGlzLl9ib3VuZE9uTW9kZWxSZW1vdmVkKTtcblxuICAgICAgICAvLyBhY3RpdmF0ZSBVbmRvVG9vbCBpbW1lZGlhdGVseSwgYmVjYXVzZSBpdCBydW5zIGluIHBhcmFsbGVsIHRvIG90aGVyIHRvb2xzIGFuZCBmb3IgYWxsIHRvb2xzXG4gICAgICAgIHRoaXMudW5kb1Rvb2wgPSBuZXcgVW5kb1Rvb2wodGhpcy51bmRvU3RhY2spO1xuICAgICAgICB0aGlzLnZpZXdlci50b29sQ29udHJvbGxlci5yZWdpc3RlclRvb2wodGhpcy51bmRvVG9vbCk7XG4gICAgICAgIHRoaXMudmlld2VyLnRvb2xDb250cm9sbGVyLmFjdGl2YXRlVG9vbCh0aGlzLnVuZG9Ub29sLmdldE5hbWUoKSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdW5sb2FkKCkge1xuICAgICAgICBmb3IgKGNvbnN0IHRvb2xTZXROYW1lIG9mIHRoaXMuX3JlZ2lzdGVyZWRUb29scy5rZXlzKCkpIHtcbiAgICAgICAgICAgIHRoaXMudW5yZWdpc3RlclRvb2xzKHRvb2xTZXROYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmlld2VyLnRvb2xDb250cm9sbGVyLmRlcmVnaXN0ZXJUb29sKHRoaXMudW5kb1Rvb2wpO1xuICAgICAgICB0aGlzLnVuZG9Ub29sID0gbnVsbDtcblxuICAgICAgICB0aGlzLnZpZXdlci5yZW1vdmVFdmVudExpc3RlbmVyKGF2Lk1PREVMX0FEREVEX0VWRU5ULCB0aGlzLl9ib3VuZE9uTW9kZWxBZGRlZCk7XG4gICAgICAgIHRoaXMudmlld2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoYXYuTU9ERUxfUkVNT1ZFRF9FVkVOVCwgdGhpcy5fYm91bmRPbk1vZGVsUmVtb3ZlZCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgX29uTW9kZWxBZGRlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMudmlld2VyLmdldFZpc2libGVNb2RlbHMoKS5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgIC8vIERvIHRoZSByZWFjdGl2YXRpb24gb25seSB3aGVuIHRoZSBmaXJzdCBtb2RlbCBnb3QgbG9hZGVkLlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCB0b29sU2V0IG9mIHRoaXMuX3JlZ2lzdGVyZWRUb29scy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgaWYgKHRvb2xTZXQuYXV0b1JlYWN0aXZhdGUpIHtcbiAgICAgICAgICAgICAgICB0b29sU2V0LnRvb2xzVG9SZWFjdGl2YXRlPy5mb3JFYWNoKG5hbWUgPT4gdGhpcy52aWV3ZXIudG9vbENvbnRyb2xsZXIuYWN0aXZhdGVUb29sKG5hbWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbk1vZGVsUmVtb3ZlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMudmlld2VyLmdldFZpc2libGVNb2RlbHMoKS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIC8vIE9ubHkgZGVhY3RpdmF0ZSB0b29scyB3aGVuIG5vIG1vZGVsIGlzIGFjdGl2ZSBhbnltb3JlLlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29udHJvbGxlciA9IHRoaXMudmlld2VyLnRvb2xDb250cm9sbGVyO1xuICAgICAgICBmb3IgKGNvbnN0IHRvb2xTZXQgb2YgdGhpcy5fcmVnaXN0ZXJlZFRvb2xzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBpZiAodG9vbFNldC5hdXRvUmVhY3RpdmF0ZSkge1xuICAgICAgICAgICAgICAgIC8vIFRoZSBuZXh0IHN0YXRlbWVudCBnZXRzIGFsbCBwb3NzaWJsZSBuYW1lcyBvZiBhbGwgdG9vbHMgb2YgYSB0b29sU2V0LFxuICAgICAgICAgICAgICAgIC8vIGZsYXR0ZW4gdGhlIHJlc3VsdGluZyBhcnJheVxuICAgICAgICAgICAgICAgIC8vIGFuZCByZXR1cm5zIGEgbGlzdCB0b29sIG5hbWVzIHRoYXQgYXJlIGFjdGl2ZS5cbiAgICAgICAgICAgICAgICB0b29sU2V0LnRvb2xzVG9SZWFjdGl2YXRlID0gT2JqZWN0LnZhbHVlcyh0b29sU2V0LnRvb2xzKVxuICAgICAgICAgICAgICAgICAgICAubWFwKHQgPT4gdC5nZXROYW1lcygpKVxuICAgICAgICAgICAgICAgICAgICAucmVkdWNlKChyZXMsIG5hbWVzKSA9PiByZXMuY29uY2F0KG5hbWVzKSwgW10pIC8vIGZsYXR0ZW5cbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihuYW1lID0+IGNvbnRyb2xsZXIuaXNUb29sQWN0aXZhdGVkKG5hbWUpKTtcblxuICAgICAgICAgICAgICAgIHRvb2xTZXQudG9vbHNUb1JlYWN0aXZhdGUuZm9yRWFjaChuYW1lID0+IGNvbnRyb2xsZXIuZGVhY3RpdmF0ZVRvb2wobmFtZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgbXVsdGlwbGUgdG9vbHMgYXJlIHJlZ2lzdGVyZWQsIHdlIGhhdmUgdG8gY2xlYXIgdGhlIG90aGVyIHNlbGVjdGlvbnMgYXMgdGhlIG1vdXNlIGV2ZW50cyBhcmUgaGFuZGxlZCBvbiB0aGUgZmlyc3Qgb25lLlxuICAgIF9vblNlbGVjdGlvbkNoYW5nZWQoe3RhcmdldDogc2VsZWN0aW9uU291cmNlfSkge1xuICAgICAgICBmb3IgKGNvbnN0IHRvb2xTZXQgb2YgdGhpcy5fcmVnaXN0ZXJlZFRvb2xzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0aW9uU291cmNlICE9PSB0b29sU2V0LmNvbnRleHQuc2VsZWN0aW9uICYmICFzZWxlY3Rpb25Tb3VyY2UuZW1wdHkoKSkge1xuICAgICAgICAgICAgICAgIHRvb2xTZXQuY29udGV4dC5zZWxlY3Rpb24uY2xlYXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZ2lzdGVyRGVmYXVsdFRvb2xzKCkge1xuICAgICAgICB0aGlzLmRlZmF1bHRDb250ZXh0ID0gdGhpcy5yZWdpc3RlclRvb2xzKCdkZWZhdWx0Jyk7XG4gICAgfVxuXG4gICAgLy8gR2V0IGRlZmF1bHQgdG9vbHMuIHJlZ2lzdGVyRGVmYXVsdFRvb2xzKCkgbXVzdCBiZSBjYWxsZWQgZmlyc3QsIG90aGVyd2lzZSBpdCByZXR1cm5zIG51bGwuXG4gICAgZ2V0IGRlZmF1bHRUb29scygpIHtcbiAgICAgICAgY29uc3QgdG9vbFNldCA9IHRoaXMuX3JlZ2lzdGVyZWRUb29scy5nZXQoJ2RlZmF1bHQnKTtcbiAgICAgICAgcmV0dXJuIHRvb2xTZXQgJiYgdG9vbFNldC50b29scztcbiAgICB9XG5cbiAgICAvLyByZXR1cm5zIGEgZ2l2ZW4gdG9vbHNldCwgb3IgbnVsbCBpZiBub25lIHdpdGggdGhlIGdpdmVuIG5hbWUgaGF2ZSBiZWVuIHJlZ2lzdGVyZWQuXG4gICAgZ2V0VG9vbFNldCh0b29sU2V0TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVnaXN0ZXJlZFRvb2xzLmdldCh0b29sU2V0TmFtZSk7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJUb29scyh0b29sU2V0TmFtZSwgYXV0b1JlYWN0aXZhdGUgPSB0cnVlLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgbGV0IHRvb2xTZXQgPSB0aGlzLl9yZWdpc3RlcmVkVG9vbHMuZ2V0KHRvb2xTZXROYW1lKTtcbiAgICAgICAgaWYgKHRvb2xTZXQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgRWRpdCAyRCB0b29scyBhcmUgYWxyZWFkeSByZWdpc3RlcmVkIGZvciB0b29sIHNldCAnJHt0b29sU2V0TmFtZX0nYCk7XG4gICAgICAgICAgICByZXR1cm4gdG9vbFNldC5jb250ZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgdG9vbFNldCA9IG5ldyBUb29sU2V0KHRvb2xTZXROYW1lLCBhdXRvUmVhY3RpdmF0ZSk7XG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyZWRUb29scy5zZXQodG9vbFNldE5hbWUsIHRvb2xTZXQpO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBjb250ZXh0XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0b29sU2V0LmNvbnRleHQgPSBuZXcgRWRpdDJEQ29udGV4dCh0aGlzLCB0b29sU2V0TmFtZSwgb3B0aW9ucyk7XG4gICAgICAgIGNvbnRleHQuc2VsZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoU2VsZWN0aW9uLkV2ZW50cy5TRUxFQ1RJT05fQ0hBTkdFRCwgdGhpcy5fYm91bmRPblNlbGVjdGlvbkNoYW5nZWQpO1xuXG4gICAgICAgIC8vIGNyZWF0ZSB0b29sc1xuICAgICAgICB0b29sU2V0LnRvb2xzLnBvbHlnb25Ub29sICA9IG5ldyBQb2x5Z29uVG9vbChjb250ZXh0LCBQb2x5Z29uVG9vbC5Nb2RlLlBvbHlnb24pO1xuICAgICAgICB0b29sU2V0LnRvb2xzLnBvbHlsaW5lVG9vbCA9IG5ldyBQb2x5Z29uVG9vbChjb250ZXh0LCBQb2x5Z29uVG9vbC5Nb2RlLlBvbHlsaW5lKTtcbiAgICAgICAgdG9vbFNldC50b29scy5tb3ZlVG9vbCAgICAgPSBuZXcgTW92ZVRvb2woY29udGV4dCk7XG4gICAgICAgIHRvb2xTZXQudG9vbHMucG9seWdvbkVkaXRUb29sICA9IG5ldyBQb2x5Z29uRWRpdFRvb2woY29udGV4dCk7XG4gICAgICAgIHRvb2xTZXQudG9vbHMuaW5zZXJ0U3ltYm9sVG9vbCA9IG5ldyBJbnNlcnRTeW1ib2xUb29sKGNvbnRleHQpO1xuICAgICAgICB0b29sU2V0LnRvb2xzLmNvcHlUb29sID0gbmV3IENvcHlUb29sKGNvbnRleHQpO1xuXG4gICAgICAgIC8vIEVuYWJsZSBhbGwgbmV3IHNoYXBlcyB0byBiZSBQYXRocywgc28gdGhhdCB5b3UgY2FuIHR1cm4gbGluZSBzZWdtZW50cyBpbnRvIGFyYyBzZWdtZW50c1xuICAgICAgICBjb25zdCBlbmFibGVBcmNzID0gQm9vbGVhbih0aGlzLm9wdGlvbnMuZW5hYmxlQXJjcyk7XG4gICAgICAgIHRvb2xTZXQudG9vbHMucG9seWdvblRvb2wuc2V0QXJjc0VuYWJsZWQoZW5hYmxlQXJjcyk7XG4gICAgICAgIHRvb2xTZXQudG9vbHMucG9seWxpbmVUb29sLnNldEFyY3NFbmFibGVkKGVuYWJsZUFyY3MpO1xuXG4gICAgICAgIC8vIEFsbG93IGNvbnZlcnRpbmcgc2VnbWVudHMgdG8gZWxsaXBzZSBhcmNzIGlmIHdhbnRlZFxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmVuYWJsZUVsbGlwc2VBcmNzKSB7XG4gICAgICAgICAgICB0b29sU2V0LnRvb2xzLnBvbHlnb25FZGl0VG9vbC5lbmFibGVFbGxpcHNlQXJjcyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZWdpc3RlciB0aGVtXG4gICAgICAgIGxldCBjb250cm9sbGVyID0gdGhpcy52aWV3ZXIudG9vbENvbnRyb2xsZXI7XG4gICAgICAgIGNvbnRyb2xsZXIucmVnaXN0ZXJUb29sKHRvb2xTZXQudG9vbHMucG9seWdvblRvb2wpO1xuICAgICAgICBjb250cm9sbGVyLnJlZ2lzdGVyVG9vbCh0b29sU2V0LnRvb2xzLnBvbHlsaW5lVG9vbCk7XG4gICAgICAgIGNvbnRyb2xsZXIucmVnaXN0ZXJUb29sKHRvb2xTZXQudG9vbHMubW92ZVRvb2wpO1xuICAgICAgICBjb250cm9sbGVyLnJlZ2lzdGVyVG9vbCh0b29sU2V0LnRvb2xzLnBvbHlnb25FZGl0VG9vbCk7XG4gICAgICAgIGNvbnRyb2xsZXIucmVnaXN0ZXJUb29sKHRvb2xTZXQudG9vbHMuaW5zZXJ0U3ltYm9sVG9vbCk7XG4gICAgICAgIGNvbnRyb2xsZXIucmVnaXN0ZXJUb29sKHRvb2xTZXQudG9vbHMuY29weVRvb2wpO1xuXG4gICAgICAgIC8vIGFjdGl2YXRlIENvcHlUb29sIGltbWVkaWF0ZWx5LCBiZWNhdXNlIHRoZXkgcnVuIHBhcmFsbGVsIHRvIG90aGVyIHRvb2xzXG4gICAgICAgIGNvbnRyb2xsZXIuYWN0aXZhdGVUb29sKHRvb2xTZXQudG9vbHMuY29weVRvb2wuZ2V0TmFtZSgpKTtcblxuICAgICAgICAvLyBjcmVhdGUgYW5kIHJlZ2lzdGVyIGNvbnRleHQgbWVudVxuICAgICAgICB0b29sU2V0LmNvbnRleHRNZW51ID0gbmV3IEVkaXQyRENvbnRleHRNZW51KHRoaXMudmlld2VyLCB0b29sU2V0KTtcbiAgICAgICAgdG9vbFNldC5jb250ZXh0TWVudS5yZWdpc3RlcigpO1xuXG4gICAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH1cblxuICAgIHVucmVnaXN0ZXJEZWZhdWx0VG9vbHMoKSB7XG4gICAgICAgIHRoaXMudW5yZWdpc3RlclRvb2xzKCdkZWZhdWx0Jyk7XG4gICAgICAgIHRoaXMuZGVmYXVsdENvbnRleHQgPSBudWxsO1xuICAgIH1cblxuICAgIHVucmVnaXN0ZXJUb29scyh0b29sU2V0TmFtZSkge1xuICAgICAgICBsZXQgdG9vbFNldCA9IHRoaXMuX3JlZ2lzdGVyZWRUb29scy5nZXQodG9vbFNldE5hbWUpO1xuICAgICAgICBpZiAoIXRvb2xTZXQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjb250cm9sbGVyID0gdGhpcy52aWV3ZXIudG9vbENvbnRyb2xsZXI7XG4gICAgICAgIGNvbnRyb2xsZXIuZGVyZWdpc3RlclRvb2wodG9vbFNldC50b29scy5wb2x5Z29uVG9vbCk7XG4gICAgICAgIGNvbnRyb2xsZXIuZGVyZWdpc3RlclRvb2wodG9vbFNldC50b29scy5wb2x5bGluZVRvb2wpO1xuICAgICAgICBjb250cm9sbGVyLmRlcmVnaXN0ZXJUb29sKHRvb2xTZXQudG9vbHMubW92ZVRvb2wpO1xuICAgICAgICBjb250cm9sbGVyLmRlcmVnaXN0ZXJUb29sKHRvb2xTZXQudG9vbHMucG9seWdvbkVkaXRUb29sKTtcbiAgICAgICAgY29udHJvbGxlci5kZXJlZ2lzdGVyVG9vbCh0b29sU2V0LnRvb2xzLmluc2VydFN5bWJvbFRvb2wpO1xuICAgICAgICBjb250cm9sbGVyLmRlcmVnaXN0ZXJUb29sKHRvb2xTZXQudG9vbHMuY29weVRvb2wpO1xuXG4gICAgICAgIHRvb2xTZXQuY29udGV4dC5zZWxlY3Rpb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihTZWxlY3Rpb24uRXZlbnRzLlNFTEVDVElPTl9DSEFOR0VELCB0aGlzLl9ib3VuZE9uU2VsZWN0aW9uQ2hhbmdlZCk7XG4gICAgICAgIHRvb2xTZXQuY29udGV4dC5kdG9yKCk7XG5cbiAgICAgICAgLy8gVW5yZWdpc3RlciBhbmQgZGVsZXRlIGNvbnRleHQgbWVudVxuICAgICAgICB0b29sU2V0LmNvbnRleHRNZW51LnVucmVnaXN0ZXIoKTtcbiAgICAgICAgdG9vbFNldC5jb250ZXh0TWVudSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fcmVnaXN0ZXJlZFRvb2xzLmRlbGV0ZSh0b29sU2V0TmFtZSk7XG4gICAgfVxuXG4gICAgY3JlYXRlTGF5ZXIob3B0aW9ucykge1xuXG4gICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy52aWV3ZXIubW9kZWw7XG4gICAgICAgIGlmICghbW9kZWwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBIDJEIG1vZGVsIGlzIG5lZWRlZCB0byBhZGp1c3Qgdmlld3BvcnRcIik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjcmVhdGUgbmV3IG92ZXJsYXkgc2NlbmUgdG8gc2hvd1xuICAgICAgICBjb25zdCBsYXllciA9IG5ldyBFZGl0TGF5ZXIodGhpcy52aWV3ZXIsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICghb3B0aW9ucy51c2VTY2VuZUFmdGVyKSB7XG4gICAgICAgICAgICAvLyB1c2UgZXh0ZW5zaW9uJ3MgZGVmYXVsdCBvdmVybGF5IHNjZW5lIG5hbWUuIElmIHNwZWNpZmllZCwgdXNlIGEgY3VzdG9tIG92ZXJsYXlcbiAgICAgICAgICAgIC8vIHNjZW5lIG5hbWUgZnJvbSB0aGUgZWRpdDJkQ29udGV4dCB0byBhbGxvdyB1c2luZyBtdWx0aXBsZSBFZGl0MkQgc2NlbmVzXG4gICAgICAgICAgICBjb25zdCBvdmVybGF5TmFtZSA9IG9wdGlvbnMuY3VzdG9tT3ZlcmxheVNjZW5lID8/IE92ZXJsYXlOYW1lXG4gICAgICAgICAgICBpZiAoIXRoaXMudmlld2VyLm92ZXJsYXlzLmhhc1NjZW5lKG92ZXJsYXlOYW1lKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyLmltcGwuY3JlYXRlT3ZlcmxheVNjZW5lKG92ZXJsYXlOYW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYWRkIGxheWVyIHNjZW5lIHRvIG91ciBvdmVybGF5IHNjZW5lXG4gICAgICAgICAgICB0aGlzLnZpZXdlci5pbXBsLm92ZXJsYXlTY2VuZXNbb3ZlcmxheU5hbWVdLnNjZW5lLmFkZChsYXllci5zY2VuZSk7XG5cbiAgICAgICAgICAgIHRoaXMudmlld2VyLm92ZXJsYXlzLnNldFNjZW5lSGlkZGVuRnJvbU1haW5SZW5kZXIob3ZlcmxheU5hbWUsICEhb3B0aW9ucy5oaWRkZW5Gcm9tTWFpblJlbmRlcilcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsYXllcjtcbiAgICB9XG59XG5cbi8vIENvbW1vbiBzZXQgb2Ygb2JqZWN0cyB1c3VhbGx5IG5lZWRlZCBieSB0b29sc1xuY2xhc3MgRWRpdDJEQ29udGV4dCB7XG5cbiAgICAvLyBAcGFyYW0ge0VkaXQyRH0gZXh0IC0gRWRpdDJkIGV4dGVuc2lvblxuICAgIGNvbnN0cnVjdG9yKGV4dCwgdG9vbFNldE5hbWUsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLnRvb2xTZXROYW1lID0gdG9vbFNldE5hbWU7XG4gICAgICAgIHRoaXMuZXh0ICAgICAgICAgPSBleHQ7XG4gICAgICAgIHRoaXMudmlld2VyICAgICAgPSBleHQudmlld2VyO1xuICAgICAgICB0aGlzLmxheWVyICAgICAgID0gZXh0LmNyZWF0ZUxheWVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmdpem1vTGF5ZXIgID0gZXh0LmNyZWF0ZUxheWVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnVuZG9TdGFjayAgID0gZXh0LnVuZG9TdGFjaztcbiAgICAgICAgdGhpcy5jbGlwYm9hcmQgICA9IG5ldyBDbGlwYm9hcmQoKTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24gICA9IG5ldyBTZWxlY3Rpb24odGhpcy5sYXllciwgdGhpcy51bmRvU3RhY2spO1xuICAgICAgICB0aGlzLnNuYXBwZXIgICAgID0gbmV3IEVkaXQyRFNuYXBwZXIodGhpcy52aWV3ZXIsIHRoaXMubGF5ZXIsIHRoaXMuZ2l6bW9MYXllcik7XG4gICAgICAgIHRoaXMudW5pdEhhbmRsZXIgPSBuZXcgRGVmYXVsdFVuaXRIYW5kbGVyKHRoaXMudmlld2VyKTtcblxuICAgICAgICAvLyB0cmFjayBtb3VzZSBpbiBFZGl0MkRcbiAgICAgICAgdGhpcy5tb3VzZVRyYWNrZXIgPSBleHQub3B0aW9ucy5tb3VzZVRyYWNrZXI7XG5cbiAgICAgICAgdGhpcy5vblVuaXRDaGFuZ2VIYW5kbGVyID0gdGhpcy5vblVuaXRDaGFuZ2UuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLnZpZXdlci5hZGRFdmVudExpc3RlbmVyKEF1dG9kZXNrLlZpZXdpbmcuTWVhc3VyZUNvbW1vbi5FdmVudHMuRElTUExBWV9VTklUU19DSEFOR0VELCB0aGlzLm9uVW5pdENoYW5nZUhhbmRsZXIpO1xuICAgIH1cblxuICAgIGR0b3IoKSB7XG4gICAgICAgIHRoaXMudmlld2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoQXV0b2Rlc2suVmlld2luZy5NZWFzdXJlQ29tbW9uLkV2ZW50cy5ESVNQTEFZX1VOSVRTX0NIQU5HRUQsIHRoaXMub25Vbml0Q2hhbmdlSGFuZGxlcik7XG5cbiAgICAgICAgdGhpcy5sYXllci5kdG9yKCk7XG4gICAgICAgIHRoaXMubGF5ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmdpem1vTGF5ZXIuZHRvcigpO1xuICAgICAgICB0aGlzLmdpem1vTGF5ZXIgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBhbGwgdmlzaWJsZSBsYWJlbHMgaWYgZGlzcGxheSB1bml0cyBhcmUgY2hhbmdlZFxuICAgIG9uVW5pdENoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5sYXllci51cGRhdGVDYW52YXNHaXptb3MoKTtcbiAgICAgICAgdGhpcy5naXptb0xheWVyLnVwZGF0ZUNhbnZhc0dpem1vcygpO1xuICAgIH07XG5cbiAgICBzZXRBbGxHaXptb3NFbmFibGVkKGVuYWJsZWQpIHtcbiAgICAgICAgY29uc3QgdG9vbFNldCA9IHRoaXMuZXh0LmdldFRvb2xTZXQodGhpcy50b29sU2V0TmFtZSk7XG4gICAgICAgIHRvb2xTZXQudG9vbHMucG9seWdvbkVkaXRUb29sLnNldEFsbEdpem1vc0VuYWJsZWQoZW5hYmxlZCk7XG4gICAgfVxuXG4gICAgLy8gU2V0IG1hdHJpeCB0aGF0IGlzIGFwcGxpZWQgdG8gYWxsIGRpc3BsYXllZCBnZW9tZXRyeVxuICAgIHNldE1hdHJpeChtYXRyaXgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmxheWVyKSB7XG4gICAgICAgICAgICByZXR1cm47IC8vIEVub3VnaCB0byBjaGVjayBvbmUgc2luY2UgdGhleSBhcmUgY3JlYXRlZCBpbiBwYWlyc1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KHRoaXMuZ2l6bW9MYXllcik7IC8vIGV4cGVjdGVkIHRvIGJlIG5vbi1udWxsIGJlY2F1c2UgdGhpcy5sYXllciBpcyBub24tbnVsbCBoZXJlXG5cbiAgICAgICAgdGhpcy5sYXllci5zZXRNYXRyaXgobWF0cml4KTtcbiAgICAgICAgdGhpcy5naXptb0xheWVyLnNldE1hdHJpeChtYXRyaXgpO1xuICAgICAgICB0aGlzLmxheWVyLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLmdpem1vTGF5ZXIudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLy8gQ2xlYXJzIGN1cnJlbnQgbGF5ZXIgaW4gYSB3YXkgdGhhdCB1bmRvLXN0YWNrIGtlZXBzIGNvbnNpc3RlbnQuXG4gICAgLy9cbiAgICAvLyAgQHBhcmFtIHtib29sZWFufSBlbmFibGVVbmRvIC0gSWYgZmFsc2UsIHRoZSB1bmRvU3RhY2sgaXMgY2xlYXJlZC5cbiAgICBjbGVhckxheWVyKGVuYWJsZVVuZG8gPSB0cnVlKSB7XG4gICAgICAgIGlmIChlbmFibGVVbmRvKSB7XG4gICAgICAgICAgICBjb25zdCBhY3Rpb24gPSBuZXcgQWN0aW9ucy5SZW1vdmVTaGFwZXModGhpcy5sYXllciwgdGhpcy5sYXllci5zaGFwZXMpO1xuICAgICAgICAgICAgdGhpcy51bmRvU3RhY2sucnVuKGFjdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxheWVyPy5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy51bmRvU3RhY2suY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkZFNoYXBlKHNoYXBlKSB7XG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IG5ldyBBY3Rpb25zLkFkZFNoYXBlKHRoaXMubGF5ZXIsIHNoYXBlKTtcbiAgICAgICAgdGhpcy51bmRvU3RhY2sucnVuKGFjdGlvbik7XG4gICAgfVxuXG4gICAgcmVtb3ZlU2hhcGUoc2hhcGUpIHtcbiAgICAgICAgY29uc3QgYWN0aW9uID0gbmV3IEFjdGlvbnMuUmVtb3ZlU2hhcGUodGhpcy5sYXllciwgc2hhcGUpO1xuICAgICAgICB0aGlzLnVuZG9TdGFjay5ydW4oYWN0aW9uKTtcbiAgICB9XG59XG5cbi8vIFJlZ2lzdGVyIHRoZSBleHRlbnNpb24gd2l0aCB0aGUgZXh0ZW5zaW9uIG1hbmFnZXIuXG5BdXRvZGVzay5WaWV3aW5nLnRoZUV4dGVuc2lvbk1hbmFnZXIucmVnaXN0ZXJFeHRlbnNpb24obXlFeHRlbnNpb25OYW1lLCBFZGl0MkRFeHRlbnNpb24pO1xuXG5uYW1lc3BhY2UuU2hhcGUgPSBTaGFwZTtcbm5hbWVzcGFjZS5Qb2x5Z29uID0gUG9seWdvbjtcbm5hbWVzcGFjZS5Qb2x5bGluZSA9IFBvbHlsaW5lO1xubmFtZXNwYWNlLlBvbHlCYXNlID0gUG9seUJhc2U7XG5uYW1lc3BhY2UuUGF0aCA9IFBhdGg7XG5uYW1lc3BhY2UuUG9seWdvblBhdGggPSBQb2x5Z29uUGF0aDtcbm5hbWVzcGFjZS5Qb2x5bGluZVBhdGggPSBQb2x5bGluZVBhdGg7XG5uYW1lc3BhY2UuQ2lyY2xlID0gQ2lyY2xlO1xubmFtZXNwYWNlLlN0eWxlID0gU3R5bGU7XG5uYW1lc3BhY2UuRWxsaXBzZUFyY1BhcmFtcyA9IEVsbGlwc2VBcmNQYXJhbXM7XG5uYW1lc3BhY2UuUG9seWdvblRvb2wgPSBQb2x5Z29uVG9vbDtcbm5hbWVzcGFjZS5TZWxlY3Rpb24gPSBTZWxlY3Rpb247XG5uYW1lc3BhY2UuTW92ZVRvb2wgPSBNb3ZlVG9vbDtcbm5hbWVzcGFjZS5Qb2x5Z29uRWRpdFRvb2wgPSBQb2x5Z29uRWRpdFRvb2w7XG5uYW1lc3BhY2UuVmVydGV4TW92ZVRvb2wgPSBWZXJ0ZXhNb3ZlVG9vbDtcbm5hbWVzcGFjZS5FZGdlTW92ZVRvb2wgPSBFZGdlTW92ZVRvb2w7XG5uYW1lc3BhY2UuSW5zZXJ0U3ltYm9sVG9vbCA9IEluc2VydFN5bWJvbFRvb2w7XG5uYW1lc3BhY2UuTWF0aDJEID0gTWF0aDJEO1xubmFtZXNwYWNlLlZlcnRleEdpem1vID0gVmVydGV4R2l6bW87XG5uYW1lc3BhY2UuUmVjdGFuZ2xlVG9vbCA9IFJlY3RhbmdsZVRvb2w7XG5uYW1lc3BhY2UuTGluZVRvb2wgPSBMaW5lVG9vbDtcbm5hbWVzcGFjZS5Db3B5VG9vbCA9IENvcHlUb29sO1xubmFtZXNwYWNlLkFjdGlvbnMgPSBBY3Rpb25zO1xubmFtZXNwYWNlLlVuZG9TdGFjayA9IFVuZG9TdGFjaztcbm5hbWVzcGFjZS5DbGlwYm9hcmQgPSBDbGlwYm9hcmQ7XG5uYW1lc3BhY2UuVW5kb1Rvb2wgPSBVbmRvVG9vbDtcbm5hbWVzcGFjZS5FZGl0MkRDb250ZXh0ID0gRWRpdDJEQ29udGV4dDtcbm5hbWVzcGFjZS5DYW52YXNHaXptbyA9IENhbnZhc0dpem1vO1xubmFtZXNwYWNlLkNhbnZhc0dpem1vQmFzZSA9IENhbnZhc0dpem1vQmFzZTtcbm5hbWVzcGFjZS5TaGFwZUxhYmVsID0gU2hhcGVMYWJlbDtcbm5hbWVzcGFjZS5BbGlnblggPSBBbGlnblg7XG5uYW1lc3BhY2UuQWxpZ25ZID0gQWxpZ25ZO1xubmFtZXNwYWNlLkFyZWFMYWJlbCA9IEFyZWFMYWJlbDtcbm5hbWVzcGFjZS5FZGdlTGFiZWwgPSBFZGdlTGFiZWw7XG5uYW1lc3BhY2UuVW5pdEhhbmRsZXIgPSBVbml0SGFuZGxlcjtcbm5hbWVzcGFjZS5TaW1wbGVVbml0SGFuZGxlciA9IFNpbXBsZVVuaXRIYW5kbGVyO1xubmFtZXNwYWNlLkRlZmF1bHRVbml0SGFuZGxlciA9IERlZmF1bHRVbml0SGFuZGxlcjtcbm5hbWVzcGFjZS5TaGFwZUxhYmVsUnVsZSA9IFNoYXBlTGFiZWxSdWxlO1xubmFtZXNwYWNlLlNoYXBlV3JhcHBlciA9IFNoYXBlV3JhcHBlcjtcbm5hbWVzcGFjZS5TZWdtZW50VHJlZSA9IFNlZ21lbnRUcmVlO1xubmFtZXNwYWNlLlRhbmdlbnRHaXptbyA9IFRhbmdlbnRHaXptbztcbm5hbWVzcGFjZS5NZWFzdXJlVHJhbnNmb3JtID0gTWVhc3VyZVRyYW5zZm9ybTtcbm5hbWVzcGFjZS5EZWZhdWx0TWVhc3VyZVRyYW5zZm9ybSA9IERlZmF1bHRNZWFzdXJlVHJhbnNmb3JtO1xubmFtZXNwYWNlLlNoYXBlVG9vbFRpcCA9IFNoYXBlVG9vbFRpcDtcbm5hbWVzcGFjZS5TdmcgPSBTdmc7XG5uYW1lc3BhY2UuU29saWREZWZDb252ZXJ0ID0gU29saWREZWZDb252ZXJ0O1xubmFtZXNwYWNlLkJvb2xlYW5PcHMgPSBCb29sZWFuT3BzO1xubmFtZXNwYWNlLkxvb3BUeXBlID0gTG9vcFR5cGU7XG5uYW1lc3BhY2UuRWRnZVR5cGUgPSBFZGdlVHlwZTtcbm5hbWVzcGFjZS5GYWRlT3V0U3R5bGVSdWxlID0gRmFkZU91dFN0eWxlUnVsZTtcbm5hbWVzcGFjZS5FZGl0TGF5ZXIgPSBFZGl0TGF5ZXI7XG5uYW1lc3BhY2UuU2NyZWVuT3ZlcmxheSA9IFNjcmVlbk92ZXJsYXk7XG5uYW1lc3BhY2UuQXJyb3cgPSBBcnJvdztcbm5hbWVzcGFjZS5BbmdsZUdpem1vID0gQW5nbGVHaXptbztcbm5hbWVzcGFjZS5BbmdsZUdpem1vM2QgPSBBbmdsZUdpem1vM2Q7XG5uYW1lc3BhY2UuVGV4dExhYmVsID0gVGV4dExhYmVsO1xubmFtZXNwYWNlLlRyYWNraW5ncyA9IFRyYWNraW5ncztcbiJdLCJuYW1lcyI6WyJFZGl0TGF5ZXIiLCJDbGlwYm9hcmQiLCJTaGFwZSIsIlN0eWxlIiwiUG9seWdvbiIsIlBvbHlsaW5lIiwiUG9seUJhc2UiLCJQYXRoIiwiUG9seWxpbmVQYXRoIiwiUG9seWdvblBhdGgiLCJDaXJjbGUiLCJTaGFwZVdyYXBwZXIiLCJFbGxpcHNlQXJjUGFyYW1zIiwiTG9vcFR5cGUiLCJFZGdlVHlwZSIsIkFycm93IiwiU2VsZWN0aW9uIiwiTWF0aDJEIiwiU3ZnIiwiQWN0aW9ucyIsIlRyYWNraW5ncyIsIlVuZG9TdGFjayIsIkVkaXQyRFNuYXBwZXIiLCJFZGl0MkRDb250ZXh0TWVudSIsIlVuaXRIYW5kbGVyIiwiRGVmYXVsdFVuaXRIYW5kbGVyIiwiU2ltcGxlVW5pdEhhbmRsZXIiLCJDYW52YXNHaXptb0Jhc2UiLCJDYW52YXNHaXptbyIsIkVkZ2VMYWJlbCIsIlNoYXBlTGFiZWwiLCJBcmVhTGFiZWwiLCJBbGlnblgiLCJBbGlnblkiLCJWZXJ0ZXhHaXptbyIsIlNoYXBlTGFiZWxSdWxlIiwiU2hhcGVUb29sVGlwIiwiRmFkZU91dFN0eWxlUnVsZSIsIlRleHRMYWJlbCIsIlRhbmdlbnRHaXptbyIsIlNlZ21lbnRUcmVlIiwiU2NyZWVuT3ZlcmxheSIsIkFuZ2xlR2l6bW8iLCJBbmdsZUdpem1vM2QiLCJNb3ZlVG9vbCIsIlBvbHlnb25Ub29sIiwiUG9seWdvbkVkaXRUb29sIiwiSW5zZXJ0U3ltYm9sVG9vbCIsIlJlY3RhbmdsZVRvb2wiLCJVbmRvVG9vbCIsIkNvcHlUb29sIiwiTGluZVRvb2wiLCJWZXJ0ZXhNb3ZlVG9vbCIsIkVkZ2VNb3ZlVG9vbCIsIk1lYXN1cmVUcmFuc2Zvcm0iLCJEZWZhdWx0TWVhc3VyZVRyYW5zZm9ybSIsIlNvbGlkRGVmQ29udmVydCIsIkJvb2xlYW5PcHMiLCJsb2NhbGVzIiwibXlFeHRlbnNpb25OYW1lIiwibmFtZXNwYWNlIiwiQXV0b2Rlc2tOYW1lc3BhY2UiLCJhdiIsIkF1dG9kZXNrIiwiVmlld2luZyIsIk92ZXJsYXlOYW1lIiwiVG9vbFNldCIsImNvbnN0cnVjdG9yIiwibmFtZSIsImF1dG9SZWFjdGl2YXRlIiwiY29udGV4dCIsInRvb2xzIiwiRWRpdDJERXh0ZW5zaW9uIiwiRXh0ZW5zaW9uIiwidmlld2VyIiwib3B0aW9ucyIsImV4dGVuZExvY2FsaXphdGlvbiIsInVuZG9TdGFjayIsIl9yZWdpc3RlcmVkVG9vbHMiLCJNYXAiLCJfYm91bmRPbk1vZGVsQWRkZWQiLCJfb25Nb2RlbEFkZGVkIiwiYmluZCIsIl9ib3VuZE9uTW9kZWxSZW1vdmVkIiwiX29uTW9kZWxSZW1vdmVkIiwiX2JvdW5kT25TZWxlY3Rpb25DaGFuZ2VkIiwiX29uU2VsZWN0aW9uQ2hhbmdlZCIsImxvYWQiLCJpbXBsIiwiY3JlYXRlT3ZlcmxheVNjZW5lIiwibG9hZEV4dGVuc2lvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJNT0RFTF9BRERFRF9FVkVOVCIsIk1PREVMX1JFTU9WRURfRVZFTlQiLCJ1bmRvVG9vbCIsInRvb2xDb250cm9sbGVyIiwicmVnaXN0ZXJUb29sIiwiYWN0aXZhdGVUb29sIiwiZ2V0TmFtZSIsInVubG9hZCIsInRvb2xTZXROYW1lIiwia2V5cyIsInVucmVnaXN0ZXJUb29scyIsImRlcmVnaXN0ZXJUb29sIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImdldFZpc2libGVNb2RlbHMiLCJsZW5ndGgiLCJ0b29sU2V0IiwidmFsdWVzIiwiX3Rvb2xTZXQkdG9vbHNUb1JlYWN0IiwidG9vbHNUb1JlYWN0aXZhdGUiLCJmb3JFYWNoIiwiY29udHJvbGxlciIsIk9iamVjdCIsIm1hcCIsInQiLCJnZXROYW1lcyIsInJlZHVjZSIsInJlcyIsIm5hbWVzIiwiY29uY2F0IiwiZmlsdGVyIiwiaXNUb29sQWN0aXZhdGVkIiwiZGVhY3RpdmF0ZVRvb2wiLCJfcmVmIiwidGFyZ2V0Iiwic2VsZWN0aW9uU291cmNlIiwic2VsZWN0aW9uIiwiZW1wdHkiLCJjbGVhciIsInJlZ2lzdGVyRGVmYXVsdFRvb2xzIiwiZGVmYXVsdENvbnRleHQiLCJyZWdpc3RlclRvb2xzIiwiZGVmYXVsdFRvb2xzIiwiZ2V0IiwiZ2V0VG9vbFNldCIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsImNvbnNvbGUiLCJ3YXJuIiwic2V0IiwiRWRpdDJEQ29udGV4dCIsIkV2ZW50cyIsIlNFTEVDVElPTl9DSEFOR0VEIiwicG9seWdvblRvb2wiLCJNb2RlIiwicG9seWxpbmVUb29sIiwibW92ZVRvb2wiLCJwb2x5Z29uRWRpdFRvb2wiLCJpbnNlcnRTeW1ib2xUb29sIiwiY29weVRvb2wiLCJlbmFibGVBcmNzIiwiQm9vbGVhbiIsInNldEFyY3NFbmFibGVkIiwiZW5hYmxlRWxsaXBzZUFyY3MiLCJjb250ZXh0TWVudSIsInJlZ2lzdGVyIiwidW5yZWdpc3RlckRlZmF1bHRUb29scyIsImR0b3IiLCJ1bnJlZ2lzdGVyIiwiZGVsZXRlIiwiY3JlYXRlTGF5ZXIiLCJtb2RlbCIsImVycm9yIiwibGF5ZXIiLCJ1c2VTY2VuZUFmdGVyIiwib3ZlcmxheU5hbWUiLCJjdXN0b21PdmVybGF5U2NlbmUiLCJvdmVybGF5cyIsImhhc1NjZW5lIiwib3ZlcmxheVNjZW5lcyIsInNjZW5lIiwiYWRkIiwic2V0U2NlbmVIaWRkZW5Gcm9tTWFpblJlbmRlciIsImhpZGRlbkZyb21NYWluUmVuZGVyIiwiZXh0IiwiZ2l6bW9MYXllciIsImNsaXBib2FyZCIsInNuYXBwZXIiLCJ1bml0SGFuZGxlciIsIm1vdXNlVHJhY2tlciIsIm9uVW5pdENoYW5nZUhhbmRsZXIiLCJvblVuaXRDaGFuZ2UiLCJNZWFzdXJlQ29tbW9uIiwiRElTUExBWV9VTklUU19DSEFOR0VEIiwidXBkYXRlQ2FudmFzR2l6bW9zIiwic2V0QWxsR2l6bW9zRW5hYmxlZCIsImVuYWJsZWQiLCJzZXRNYXRyaXgiLCJtYXRyaXgiLCJhc3NlcnQiLCJ1cGRhdGUiLCJjbGVhckxheWVyIiwiZW5hYmxlVW5kbyIsImFjdGlvbiIsIlJlbW92ZVNoYXBlcyIsInNoYXBlcyIsInJ1biIsIl90aGlzJGxheWVyIiwiYWRkU2hhcGUiLCJzaGFwZSIsIkFkZFNoYXBlIiwicmVtb3ZlU2hhcGUiLCJSZW1vdmVTaGFwZSIsInRoZUV4dGVuc2lvbk1hbmFnZXIiLCJyZWdpc3RlckV4dGVuc2lvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Edit2D/Edit2D.js\n");

/***/ }),

/***/ "./extensions/Edit2D/Edit2DContextMenu.js":
/*!************************************************!*\
  !*** ./extensions/Edit2D/Edit2DContextMenu.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Edit2DContextMenu)\n/* harmony export */ });\n/* harmony import */ var _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditShapes.js */ \"./extensions/Edit2D/EditShapes.js\");\n/* harmony import */ var _Actions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Actions.js */ \"./extensions/Edit2D/Actions.js\");\n\n\n\nconst av = Autodesk.Viewing;\n\nclass Edit2DContextMenu {\n\n  // @param {ToolSet} toolSet (see Edit2D.js)\n  constructor(viewer, toolSet) {\n\n    this.viewer = viewer;\n    this.toolSet = toolSet;\n\n    // Define ContextMenu callback\n    this.callbackId = `Edit2D_${toolSet.name}`;\n    this.callback = this.onContextMenu.bind(this);\n  }\n\n  register() {\n    this.viewer.registerContextMenuCallback(this.callbackId, this.callback);\n  }\n\n  unregister() {\n    this.viewer.unregisterContextMenuCallback(this.callbackId);\n  }\n\n  //  @param {CanvasGizmo[][]} Array of CanvasGizmo arrays per loop\n  // Returns {PolyIndex} - Returns the PolyIndex of the vertex gizmo under mouse\n  findGizmoUnderMouse(gizmos, clientX, clientY) {\n    // Check element under mouse\n    const elem = document.elementFromPoint(clientX, clientY);\n\n    // Check if it matches with any vertex gizmo\n    for (let l = 0; l < gizmos.length; l++) {\n      const index = gizmos[l].findIndex((g) => g.container === elem);\n      if (index !== -1) {\n        return new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.PolyIndex({ vertex: index, loop: l });\n      }\n    }\n    return null;\n  }\n\n  // Note that editTool.getVertexIndex() does not work if a context menu is already open.\n  // Reason is that the evens are all consumed by an invisible full-screen-div, so that a\n  // gizmos cannot detect anymore if the mouse is on it.\n  vertexGizmoUnderMouse(clientX, clientY) {\n    // get vertex gizmos from EditTool\n    const editTool = this.toolSet.tools.polygonEditTool;\n    const gizmos = editTool.vertexMoveTool.vertexGizmos;\n    return this.findGizmoUnderMouse(gizmos, clientX, clientY);\n  }\n\n  edgeGizmoUnderMouse(clientX, clientY) {\n    // get vertex gizmos from EditTool\n    const editTool = this.toolSet.tools.polygonEditTool;\n    const gizmos = editTool.edgeMoveTool.edgeGizmos;\n    const polyIndex = this.findGizmoUnderMouse([gizmos], clientX, clientY);\n    return polyIndex ? polyIndex.vertex : -1;\n  }\n\n  // Define callback to modify the viewer context menu\n  //  @param {Object[]} menuItems - items to be modified\n  //  @param {Object}   status    - ObjectContextMenu.js\n  onContextMenu(menu, status) {\n\n    const editTool = this.toolSet.tools.polygonEditTool;\n    const layer = this.toolSet.context.layer;\n    const event = status.event;\n    const selection = this.toolSet.context.selection;\n    const undoStack = this.toolSet.context.undoStack;\n\n    // get mouse pos in layer coords\n    const mousePos = layer.canvasToLayer(status.canvasX, status.canvasY);\n\n    // Check if mouse is close to an edge of the current edit polygon\n    const edgePolyIndex = editTool.findEdgeUnderMouse(mousePos);\n\n    // Check shape under mouse. If we are close to a current edge of the editPoly,\n    // consider it as under mouse as well.\n    const shapeUnderMouse = edgePolyIndex ? editTool.poly : layer.hitTest(mousePos.x, mousePos.y);\n\n    // When right-clicking outside current selection, we select the shape under mouse or clear selection of there is none.\n    // This avoids ambiguities about which shape we are modifying (selected vs. under mouse)\n    const selectedShapes = selection.getSelectedShapes();\n    const mouseOnSelection = selectedShapes.includes(shapeUnderMouse);\n    if (!mouseOnSelection && editTool.active) {\n      selection.selectOnly(shapeUnderMouse);\n    }\n\n    // Multi-select operations are allowed when right-clicking on one of the selected shapes\n    const multiSelect = mouseOnSelection && selectedShapes.length > 1;\n    if (multiSelect) {\n\n      // Remove shapes\n      menu.push({\n        title: 'Remove Shapes',\n        target: () => {\n          undoStack.run(new _Actions_js__WEBPACK_IMPORTED_MODULE_1__.Actions.RemoveShapes(layer, selectedShapes));\n        }\n      });\n\n      // Unify shapes\n      if (editTool.enableUnify) {\n\n        // To allow unify, all shapes must be closed and PolyBase instances\n        const canBeUnified = !selectedShapes.find((s) => !s instanceof _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.PolyBase || !s.isClosed);\n        if (canBeUnified) {\n          menu.push({\n            title: 'Unify Shapes',\n            target: () => {\n              // get index of the shape under mouse within selected shapes\n              const shapeIndex = selectedShapes.indexOf(shapeUnderMouse);\n              undoStack.run(new _Actions_js__WEBPACK_IMPORTED_MODULE_1__.Actions.UnifyShapes(layer, selectedShapes, shapeIndex));\n            }\n          });\n        }\n      }\n    }\n\n    // Check if a shape is selected for editing\n    const shapeSelected = Boolean(editTool.poly);\n    if (!shapeSelected) {\n      // If not, keep original viewer context menu\n      return;\n    }\n\n    // Check if we hit a vertex gizmo. Note that a VertexGizmo exceeds the actual shape.\n    const vertex = this.vertexGizmoUnderMouse(event.clientX, event.clientY);\n    const mouseOnVertexGizmo = Boolean(vertex);\n\n    // Check if we hit an edge gizmo.\n    const edgeGizmoIndex = this.edgeGizmoUnderMouse(event.clientX, event.clientY);\n    const mouseOnEdgeGizmo = edgeGizmoIndex !== -1;\n\n    // Check if \"insert vertex\" is possible at the current position\n    const edgeIndex = edgePolyIndex && edgePolyIndex.vertex;\n    const newVertexPos = edgePolyIndex && editTool.getNewVertexPosition(mousePos, edgePolyIndex);\n    const mouseCloseToEdge = Boolean(newVertexPos);\n\n    // If the mouse is neither on a shape nor on a vertex gizmo, exist here.\n    // Note that the gizmos exceed the actual shape by a few pixels, so we may hit one without hitting the shape.\n    if (!shapeUnderMouse && !mouseOnVertexGizmo && !mouseCloseToEdge) {\n      // When clicking somewhere else, leave default context menu\n      return;\n    }\n\n    // If a polygon is selected for editing, we hijack the menu completely and remove the\n    // viewer default stuff (Show all layers etc.) - assuming that the user is focusing on 2D editing.\n    menu.length = 0;\n\n    if (editTool.enableCutout) {\n      // add cutout menu item\n      const selected = editTool.poly;\n      const isClosed = selected instanceof _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.PolyBase && selected.isClosed;\n      if (isClosed) {\n        menu.push({\n          title: 'Apply as Cutout',\n          target: () => {\n            const action = new _Actions_js__WEBPACK_IMPORTED_MODULE_1__.Actions.ApplyCutOut(layer, selected);\n            this.toolSet.context.undoStack.run(action);\n          }\n        });\n      }\n    }\n\n    // If so, add RemoveVertex item\n    if (mouseOnVertexGizmo) {\n      menu.push({\n        title: 'Remove Vertex',\n        target: () => {\n          editTool.removePoint(vertex);\n        }\n      });\n    } else if (edgePolyIndex && newVertexPos) {\n      // Add \"Insert Vertex\" menu item\n      menu.push({\n        title: 'Insert Vertex',\n        target: () => {\n          // insert new vertex after edge starting point\n          const newVertex = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.PolyIndex({ vertex: edgePolyIndex.vertex + 1, loop: edgePolyIndex.loop });\n          editTool.insertPoint(newVertex, newVertexPos);\n        }\n      });\n    }\n\n    // Consider mouse as \"onEdge\" if it is hovering the edge gizmo or close to the edge itself.\n    const onEdge = mouseOnEdgeGizmo || mouseCloseToEdge;\n\n    // Check if Create/Remove arc is possible\n    const enableArc = editTool.poly instanceof _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Path;\n\n    // If mouse is close to an edge or on an edge gizmo, add edge operations\n    if (!mouseOnVertexGizmo && onEdge && enableArc) {\n\n      const currentType = editTool.poly.getEdgeType(edgeIndex, edgePolyIndex.loop);\n\n      // Add \"Change-To\" operations for all edge types except the current...\n\n      // Change-to-Line\n      if (currentType !== _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EdgeType.Line) {\n        menu.push({\n          title: 'Change to Line Segment',\n          target: () => {\n            editTool.changeEdgeToLine(edgePolyIndex);\n          }\n        });\n      }\n\n      // Change-to-Bezier\n      if (currentType !== _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EdgeType.Bezier) {\n        menu.push({\n          title: 'Change to Arc Segment',\n          target: () => {\n            editTool.changeEdgeToBezier(edgePolyIndex);\n          }\n        });\n      }\n\n      // Change-to-Ellipse\n      if (currentType !== _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EdgeType.Ellipse && editTool.enableEllipseArcs) {\n        menu.push({\n          title: 'Change to Ellipse Segment',\n          target: () => {\n            editTool.changeEdgeToEllipse(edgePolyIndex);\n          }\n        });\n      }\n    }\n\n    // Check if there are loops any loops left if we remove this one\n    if (edgePolyIndex && editTool.poly.isClosed) {\n\n      // If the loop under mouse is the (only) outer loop, don't show \"removeLoop\", because it makes more sense to just remove the shape instead.\n      const mainLoops = editTool.poly.getMainLoops();\n      const isOnlyMainLoop = mainLoops.length === 1 && mainLoops[0] === edgePolyIndex.loop;\n\n      // Check loop type\n      const type = editTool.poly.getLoopType(edgePolyIndex.loop);\n      let itemName;\n      switch (type) {\n        case _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.LoopType.Outer:itemName = 'Remove Shape Part';break;\n        case _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.LoopType.Inner:itemName = 'Remove Hole';break;\n        default:itemName = 'Remove Loop';\n      };\n\n      if (!isOnlyMainLoop) {\n        menu.push({\n          title: itemName,\n          target: () => {\n            editTool.removeLoop(edgePolyIndex.loop);\n          }\n        });\n      }\n    }\n\n    if (shapeUnderMouse) {\n      menu.push({\n        title: 'Remove Shape',\n        target: () => {\n          undoStack.run(new _Actions_js__WEBPACK_IMPORTED_MODULE_1__.Actions.RemoveShape(layer, shapeUnderMouse));\n        }\n      });\n    }\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL0VkaXQyRC9FZGl0MkRDb250ZXh0TWVudS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0Y7QUFDekM7O0FBRXZDLE1BQU1NLEVBQUUsR0FBR0MsUUFBUSxDQUFDQyxPQUFPOztBQUVaLE1BQU1DLGlCQUFpQixDQUFDOztFQUVuQztFQUNBQyxXQUFXQSxDQUFDQyxNQUFNLEVBQUVDLE9BQU8sRUFBRTs7SUFFekIsSUFBSSxDQUFDRCxNQUFNLEdBQUdBLE1BQU07SUFDcEIsSUFBSSxDQUFDQyxPQUFPLEdBQUdBLE9BQU87O0lBRXRCO0lBQ0EsSUFBSSxDQUFDQyxVQUFVLEdBQUksVUFBU0QsT0FBTyxDQUFDRSxJQUFLLEVBQUM7SUFDMUMsSUFBSSxDQUFDQyxRQUFRLEdBQUssSUFBSSxDQUFDQyxhQUFhLENBQUNDLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDbkQ7O0VBRUFDLFFBQVFBLENBQUEsRUFBRztJQUNQLElBQUksQ0FBQ1AsTUFBTSxDQUFDUSwyQkFBMkIsQ0FBQyxJQUFJLENBQUNOLFVBQVUsRUFBRSxJQUFJLENBQUNFLFFBQVEsQ0FBQztFQUMzRTs7RUFFQUssVUFBVUEsQ0FBQSxFQUFHO0lBQ1QsSUFBSSxDQUFDVCxNQUFNLENBQUNVLDZCQUE2QixDQUFDLElBQUksQ0FBQ1IsVUFBVSxDQUFDO0VBQzlEOztFQUVBO0VBQ0E7RUFDQVMsbUJBQW1CQSxDQUFDQyxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsT0FBTyxFQUFFO0lBQzFDO0lBQ0EsTUFBTUMsSUFBSSxHQUFHQyxRQUFRLENBQUNDLGdCQUFnQixDQUFDSixPQUFPLEVBQUVDLE9BQU8sQ0FBQzs7SUFFeEQ7SUFDQSxLQUFLLElBQUlJLENBQUMsR0FBQyxDQUFDLEVBQUVBLENBQUMsR0FBQ04sTUFBTSxDQUFDTyxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO01BQ2hDLE1BQU1FLEtBQUssR0FBR1IsTUFBTSxDQUFDTSxDQUFDLENBQUMsQ0FBQ0csU0FBUyxDQUFDLENBQUFDLENB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QWEsQ0FBRTtRQUMvQyxRQUFxQkEsUUFBUSxHQUFHLGFBQWE7TUFDakQsQ0FBQzs7TUFFRCxJQUFJLENBQUNILGNBQWMsRUFBRTtRQUNqQm5FLElBQUksQ0FBQ3lCLElBQUksQ0FBQztVQUNOQyxLQUFLLEVBQUU0QyxRQUFRO1VBQ2YzQyxNQUFNLEVBQUVBLENBQUEsS0FBTTtZQUNWcEMsUUFBUSxDQUFDa0YsVUFBVSxDQUFDOUQsYUFBYSxDQUFDdEIsSUFBSSxDQUFDO1VBQzNDO1FBQ0osQ0FBQyxDQUFDO01BQ047SUFDSjs7SUFFQSxJQUFJd0IsZUFBZSxFQUFFO01BQ2pCYixJQUFJLENBQUN5QixJQUFJLENBQUM7UUFDTkMsS0FBSyxFQUFFLGNBQWM7UUFDckJDLE1BQU0sRUFBRUEsQ0FBQSxLQUFNO1VBQ1ZyQixTQUFTLENBQUNzQixHQUFHLENBQUMsSUFBSXRFLGdEQUFPLENBQUNvSCxXQUFXLENBQUN4RSxLQUFLLEVBQUVXLGVBQWUsQ0FBQyxDQUFDO1FBQ2xFO01BQ0osQ0FBQyxDQUFDO0lBQ047RUFDSjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvRWRpdDJEL0VkaXQyRENvbnRleHRNZW51LmpzPzNkZDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGF0aCwgRWRnZVR5cGUsIFBvbHlCYXNlLCBQb2x5SW5kZXgsIExvb3BUeXBlIH0gZnJvbSAnLi9FZGl0U2hhcGVzLmpzJztcbmltcG9ydCB7IEFjdGlvbnMgfSBmcm9tICcuL0FjdGlvbnMuanMnO1xuXG5jb25zdCBhdiA9IEF1dG9kZXNrLlZpZXdpbmc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVkaXQyRENvbnRleHRNZW51IHtcblxuICAgIC8vIEBwYXJhbSB7VG9vbFNldH0gdG9vbFNldCAoc2VlIEVkaXQyRC5qcylcbiAgICBjb25zdHJ1Y3Rvcih2aWV3ZXIsIHRvb2xTZXQpIHtcblxuICAgICAgICB0aGlzLnZpZXdlciA9IHZpZXdlcjtcbiAgICAgICAgdGhpcy50b29sU2V0ID0gdG9vbFNldDtcblxuICAgICAgICAvLyBEZWZpbmUgQ29udGV4dE1lbnUgY2FsbGJhY2tcbiAgICAgICAgdGhpcy5jYWxsYmFja0lkID0gYEVkaXQyRF8ke3Rvb2xTZXQubmFtZX1gO1xuICAgICAgICB0aGlzLmNhbGxiYWNrICAgPSB0aGlzLm9uQ29udGV4dE1lbnUuYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICByZWdpc3RlcigpIHtcbiAgICAgICAgdGhpcy52aWV3ZXIucmVnaXN0ZXJDb250ZXh0TWVudUNhbGxiYWNrKHRoaXMuY2FsbGJhY2tJZCwgdGhpcy5jYWxsYmFjayk7XG4gICAgfVxuXG4gICAgdW5yZWdpc3RlcigpIHtcbiAgICAgICAgdGhpcy52aWV3ZXIudW5yZWdpc3RlckNvbnRleHRNZW51Q2FsbGJhY2sodGhpcy5jYWxsYmFja0lkKTtcbiAgICB9XG5cbiAgICAvLyAgQHBhcmFtIHtDYW52YXNHaXptb1tdW119IEFycmF5IG9mIENhbnZhc0dpem1vIGFycmF5cyBwZXIgbG9vcFxuICAgIC8vIFJldHVybnMge1BvbHlJbmRleH0gLSBSZXR1cm5zIHRoZSBQb2x5SW5kZXggb2YgdGhlIHZlcnRleCBnaXptbyB1bmRlciBtb3VzZVxuICAgIGZpbmRHaXptb1VuZGVyTW91c2UoZ2l6bW9zLCBjbGllbnRYLCBjbGllbnRZKSB7XG4gICAgICAgIC8vIENoZWNrIGVsZW1lbnQgdW5kZXIgbW91c2VcbiAgICAgICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoY2xpZW50WCwgY2xpZW50WSk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgaXQgbWF0Y2hlcyB3aXRoIGFueSB2ZXJ0ZXggZ2l6bW9cbiAgICAgICAgZm9yIChsZXQgbD0wOyBsPGdpem1vcy5sZW5ndGg7IGwrKykge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBnaXptb3NbbF0uZmluZEluZGV4KGcgPT4gZy5jb250YWluZXIgPT09IGVsZW0pO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUG9seUluZGV4KHt2ZXJ0ZXg6IGluZGV4LCBsb29wOiBsfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gTm90ZSB0aGF0IGVkaXRUb29sLmdldFZlcnRleEluZGV4KCkgZG9lcyBub3Qgd29yayBpZiBhIGNvbnRleHQgbWVudSBpcyBhbHJlYWR5IG9wZW4uXG4gICAgLy8gUmVhc29uIGlzIHRoYXQgdGhlIGV2ZW5zIGFyZSBhbGwgY29uc3VtZWQgYnkgYW4gaW52aXNpYmxlIGZ1bGwtc2NyZWVuLWRpdiwgc28gdGhhdCBhXG4gICAgLy8gZ2l6bW9zIGNhbm5vdCBkZXRlY3QgYW55bW9yZSBpZiB0aGUgbW91c2UgaXMgb24gaXQuXG4gICAgdmVydGV4R2l6bW9VbmRlck1vdXNlKGNsaWVudFgsIGNsaWVudFkpIHtcbiAgICAgICAgLy8gZ2V0IHZlcnRleCBnaXptb3MgZnJvbSBFZGl0VG9vbFxuICAgICAgICBjb25zdCBlZGl0VG9vbCA9IHRoaXMudG9vbFNldC50b29scy5wb2x5Z29uRWRpdFRvb2w7XG4gICAgICAgIGNvbnN0IGdpem1vcyA9IGVkaXRUb29sLnZlcnRleE1vdmVUb29sLnZlcnRleEdpem1vcztcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZEdpem1vVW5kZXJNb3VzZShnaXptb3MsIGNsaWVudFgsIGNsaWVudFkpO1xuICAgIH1cblxuICAgIGVkZ2VHaXptb1VuZGVyTW91c2UoY2xpZW50WCwgY2xpZW50WSkge1xuICAgICAgICAvLyBnZXQgdmVydGV4IGdpem1vcyBmcm9tIEVkaXRUb29sXG4gICAgICAgIGNvbnN0IGVkaXRUb29sID0gdGhpcy50b29sU2V0LnRvb2xzLnBvbHlnb25FZGl0VG9vbDtcbiAgICAgICAgY29uc3QgZ2l6bW9zID0gZWRpdFRvb2wuZWRnZU1vdmVUb29sLmVkZ2VHaXptb3M7XG4gICAgICAgIGNvbnN0IHBvbHlJbmRleCA9IHRoaXMuZmluZEdpem1vVW5kZXJNb3VzZShbZ2l6bW9zXSwgY2xpZW50WCwgY2xpZW50WSk7XG4gICAgICAgIHJldHVybiBwb2x5SW5kZXggPyBwb2x5SW5kZXgudmVydGV4IDogLTE7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5lIGNhbGxiYWNrIHRvIG1vZGlmeSB0aGUgdmlld2VyIGNvbnRleHQgbWVudVxuICAgIC8vICBAcGFyYW0ge09iamVjdFtdfSBtZW51SXRlbXMgLSBpdGVtcyB0byBiZSBtb2RpZmllZFxuICAgIC8vICBAcGFyYW0ge09iamVjdH0gICBzdGF0dXMgICAgLSBPYmplY3RDb250ZXh0TWVudS5qc1xuICAgIG9uQ29udGV4dE1lbnUobWVudSwgc3RhdHVzKSB7XG5cbiAgICAgICAgY29uc3QgZWRpdFRvb2wgID0gdGhpcy50b29sU2V0LnRvb2xzLnBvbHlnb25FZGl0VG9vbDtcbiAgICAgICAgY29uc3QgbGF5ZXIgICAgID0gdGhpcy50b29sU2V0LmNvbnRleHQubGF5ZXI7XG4gICAgICAgIGNvbnN0IGV2ZW50ICAgICA9IHN0YXR1cy5ldmVudDtcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gdGhpcy50b29sU2V0LmNvbnRleHQuc2VsZWN0aW9uO1xuICAgICAgICBjb25zdCB1bmRvU3RhY2sgPSB0aGlzLnRvb2xTZXQuY29udGV4dC51bmRvU3RhY2s7XG5cbiAgICAgICAgLy8gZ2V0IG1vdXNlIHBvcyBpbiBsYXllciBjb29yZHNcbiAgICAgICAgY29uc3QgbW91c2VQb3MgPSBsYXllci5jYW52YXNUb0xheWVyKHN0YXR1cy5jYW52YXNYLCBzdGF0dXMuY2FudmFzWSk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgbW91c2UgaXMgY2xvc2UgdG8gYW4gZWRnZSBvZiB0aGUgY3VycmVudCBlZGl0IHBvbHlnb25cbiAgICAgICAgY29uc3QgZWRnZVBvbHlJbmRleCA9IGVkaXRUb29sLmZpbmRFZGdlVW5kZXJNb3VzZShtb3VzZVBvcyk7XG5cbiAgICAgICAgLy8gQ2hlY2sgc2hhcGUgdW5kZXIgbW91c2UuIElmIHdlIGFyZSBjbG9zZSB0byBhIGN1cnJlbnQgZWRnZSBvZiB0aGUgZWRpdFBvbHksXG4gICAgICAgIC8vIGNvbnNpZGVyIGl0IGFzIHVuZGVyIG1vdXNlIGFzIHdlbGwuXG4gICAgICAgIGNvbnN0IHNoYXBlVW5kZXJNb3VzZSA9IGVkZ2VQb2x5SW5kZXggPyBlZGl0VG9vbC5wb2x5IDogbGF5ZXIuaGl0VGVzdChtb3VzZVBvcy54LCBtb3VzZVBvcy55KTtcblxuICAgICAgICAvLyBXaGVuIHJpZ2h0LWNsaWNraW5nIG91dHNpZGUgY3VycmVudCBzZWxlY3Rpb24sIHdlIHNlbGVjdCB0aGUgc2hhcGUgdW5kZXIgbW91c2Ugb3IgY2xlYXIgc2VsZWN0aW9uIG9mIHRoZXJlIGlzIG5vbmUuXG4gICAgICAgIC8vIFRoaXMgYXZvaWRzIGFtYmlndWl0aWVzIGFib3V0IHdoaWNoIHNoYXBlIHdlIGFyZSBtb2RpZnlpbmcgKHNlbGVjdGVkIHZzLiB1bmRlciBtb3VzZSlcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRTaGFwZXMgPSBzZWxlY3Rpb24uZ2V0U2VsZWN0ZWRTaGFwZXMoKTtcbiAgICAgICAgY29uc3QgbW91c2VPblNlbGVjdGlvbiA9IHNlbGVjdGVkU2hhcGVzLmluY2x1ZGVzKHNoYXBlVW5kZXJNb3VzZSk7XG4gICAgICAgIGlmICghbW91c2VPblNlbGVjdGlvbiAmJiBlZGl0VG9vbC5hY3RpdmUpIHtcbiAgICAgICAgICAgIHNlbGVjdGlvbi5zZWxlY3RPbmx5KHNoYXBlVW5kZXJNb3VzZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNdWx0aS1zZWxlY3Qgb3BlcmF0aW9ucyBhcmUgYWxsb3dlZCB3aGVuIHJpZ2h0LWNsaWNraW5nIG9uIG9uZSBvZiB0aGUgc2VsZWN0ZWQgc2hhcGVzXG4gICAgICAgIGNvbnN0IG11bHRpU2VsZWN0ID0gbW91c2VPblNlbGVjdGlvbiAmJiAoc2VsZWN0ZWRTaGFwZXMubGVuZ3RoID4gMSk7XG4gICAgICAgIGlmIChtdWx0aVNlbGVjdCkge1xuXG4gICAgICAgICAgICAvLyBSZW1vdmUgc2hhcGVzXG4gICAgICAgICAgICBtZW51LnB1c2goe1xuICAgICAgICAgICAgICAgIHRpdGxlOiAnUmVtb3ZlIFNoYXBlcycsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVuZG9TdGFjay5ydW4obmV3IEFjdGlvbnMuUmVtb3ZlU2hhcGVzKGxheWVyLCBzZWxlY3RlZFNoYXBlcykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBVbmlmeSBzaGFwZXNcbiAgICAgICAgICAgIGlmIChlZGl0VG9vbC5lbmFibGVVbmlmeSkge1xuXG4gICAgICAgICAgICAgICAgLy8gVG8gYWxsb3cgdW5pZnksIGFsbCBzaGFwZXMgbXVzdCBiZSBjbG9zZWQgYW5kIFBvbHlCYXNlIGluc3RhbmNlc1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbkJlVW5pZmllZCA9ICFzZWxlY3RlZFNoYXBlcy5maW5kKHMgPT4gKCFzIGluc3RhbmNlb2YgUG9seUJhc2UpIHx8ICFzLmlzQ2xvc2VkKTtcbiAgICAgICAgICAgICAgICBpZiAoY2FuQmVVbmlmaWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lbnUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1VuaWZ5IFNoYXBlcycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBnZXQgaW5kZXggb2YgdGhlIHNoYXBlIHVuZGVyIG1vdXNlIHdpdGhpbiBzZWxlY3RlZCBzaGFwZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaGFwZUluZGV4ID0gc2VsZWN0ZWRTaGFwZXMuaW5kZXhPZihzaGFwZVVuZGVyTW91c2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZG9TdGFjay5ydW4obmV3IEFjdGlvbnMuVW5pZnlTaGFwZXMobGF5ZXIsIHNlbGVjdGVkU2hhcGVzLCBzaGFwZUluZGV4KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIGEgc2hhcGUgaXMgc2VsZWN0ZWQgZm9yIGVkaXRpbmdcbiAgICAgICAgY29uc3Qgc2hhcGVTZWxlY3RlZCA9IEJvb2xlYW4oZWRpdFRvb2wucG9seSk7XG4gICAgICAgIGlmICghc2hhcGVTZWxlY3RlZCkge1xuICAgICAgICAgICAgLy8gSWYgbm90LCBrZWVwIG9yaWdpbmFsIHZpZXdlciBjb250ZXh0IG1lbnVcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHdlIGhpdCBhIHZlcnRleCBnaXptby4gTm90ZSB0aGF0IGEgVmVydGV4R2l6bW8gZXhjZWVkcyB0aGUgYWN0dWFsIHNoYXBlLlxuICAgICAgICBjb25zdCB2ZXJ0ZXggPSB0aGlzLnZlcnRleEdpem1vVW5kZXJNb3VzZShldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcbiAgICAgICAgY29uc3QgbW91c2VPblZlcnRleEdpem1vID0gQm9vbGVhbih2ZXJ0ZXgpO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHdlIGhpdCBhbiBlZGdlIGdpem1vLlxuICAgICAgICBjb25zdCBlZGdlR2l6bW9JbmRleCA9IHRoaXMuZWRnZUdpem1vVW5kZXJNb3VzZShldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcbiAgICAgICAgY29uc3QgbW91c2VPbkVkZ2VHaXptbyA9IChlZGdlR2l6bW9JbmRleCAhPT0gLTEpO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIFwiaW5zZXJ0IHZlcnRleFwiIGlzIHBvc3NpYmxlIGF0IHRoZSBjdXJyZW50IHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IGVkZ2VJbmRleCAgICAgICAgPSBlZGdlUG9seUluZGV4ICYmIGVkZ2VQb2x5SW5kZXgudmVydGV4O1xuICAgICAgICBjb25zdCBuZXdWZXJ0ZXhQb3MgICAgID0gZWRnZVBvbHlJbmRleCAmJiBlZGl0VG9vbC5nZXROZXdWZXJ0ZXhQb3NpdGlvbihtb3VzZVBvcywgZWRnZVBvbHlJbmRleCk7XG4gICAgICAgIGNvbnN0IG1vdXNlQ2xvc2VUb0VkZ2UgPSBCb29sZWFuKG5ld1ZlcnRleFBvcyk7XG5cbiAgICAgICAgLy8gSWYgdGhlIG1vdXNlIGlzIG5laXRoZXIgb24gYSBzaGFwZSBub3Igb24gYSB2ZXJ0ZXggZ2l6bW8sIGV4aXN0IGhlcmUuXG4gICAgICAgIC8vIE5vdGUgdGhhdCB0aGUgZ2l6bW9zIGV4Y2VlZCB0aGUgYWN0dWFsIHNoYXBlIGJ5IGEgZmV3IHBpeGVscywgc28gd2UgbWF5IGhpdCBvbmUgd2l0aG91dCBoaXR0aW5nIHRoZSBzaGFwZS5cbiAgICAgICAgaWYgKCFzaGFwZVVuZGVyTW91c2UgJiYgIW1vdXNlT25WZXJ0ZXhHaXptbyAmJiAhbW91c2VDbG9zZVRvRWRnZSkge1xuICAgICAgICAgICAgLy8gV2hlbiBjbGlja2luZyBzb21ld2hlcmUgZWxzZSwgbGVhdmUgZGVmYXVsdCBjb250ZXh0IG1lbnVcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGEgcG9seWdvbiBpcyBzZWxlY3RlZCBmb3IgZWRpdGluZywgd2UgaGlqYWNrIHRoZSBtZW51IGNvbXBsZXRlbHkgYW5kIHJlbW92ZSB0aGVcbiAgICAgICAgLy8gdmlld2VyIGRlZmF1bHQgc3R1ZmYgKFNob3cgYWxsIGxheWVycyBldGMuKSAtIGFzc3VtaW5nIHRoYXQgdGhlIHVzZXIgaXMgZm9jdXNpbmcgb24gMkQgZWRpdGluZy5cbiAgICAgICAgbWVudS5sZW5ndGggPSAwO1xuXG4gICAgICAgIGlmIChlZGl0VG9vbC5lbmFibGVDdXRvdXQpIHtcbiAgICAgICAgICAgIC8vIGFkZCBjdXRvdXQgbWVudSBpdGVtXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IGVkaXRUb29sLnBvbHk7XG4gICAgICAgICAgICBjb25zdCBpc0Nsb3NlZCA9IChzZWxlY3RlZCBpbnN0YW5jZW9mIFBvbHlCYXNlKSAmJiBzZWxlY3RlZC5pc0Nsb3NlZDtcbiAgICAgICAgICAgIGlmIChpc0Nsb3NlZCkge1xuICAgICAgICAgICAgICAgIG1lbnUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQXBwbHkgYXMgQ3V0b3V0JyxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb24gPSBuZXcgQWN0aW9ucy5BcHBseUN1dE91dChsYXllciwgc2VsZWN0ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sU2V0LmNvbnRleHQudW5kb1N0YWNrLnJ1bihhY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBzbywgYWRkIFJlbW92ZVZlcnRleCBpdGVtXG4gICAgICAgIGlmIChtb3VzZU9uVmVydGV4R2l6bW8pIHtcbiAgICAgICAgICAgIG1lbnUucHVzaCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICdSZW1vdmUgVmVydGV4JyxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZWRpdFRvb2wucmVtb3ZlUG9pbnQodmVydGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChlZGdlUG9seUluZGV4ICYmIG5ld1ZlcnRleFBvcykge1xuICAgICAgICAgICAgLy8gQWRkIFwiSW5zZXJ0IFZlcnRleFwiIG1lbnUgaXRlbVxuICAgICAgICAgICAgbWVudS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdJbnNlcnQgVmVydGV4JyxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpbnNlcnQgbmV3IHZlcnRleCBhZnRlciBlZGdlIHN0YXJ0aW5nIHBvaW50XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdWZXJ0ZXggPSBuZXcgUG9seUluZGV4KHsgdmVydGV4OiBlZGdlUG9seUluZGV4LnZlcnRleCArIDEsIGxvb3A6IGVkZ2VQb2x5SW5kZXgubG9vcCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRUb29sLmluc2VydFBvaW50KG5ld1ZlcnRleCwgbmV3VmVydGV4UG9zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb25zaWRlciBtb3VzZSBhcyBcIm9uRWRnZVwiIGlmIGl0IGlzIGhvdmVyaW5nIHRoZSBlZGdlIGdpem1vIG9yIGNsb3NlIHRvIHRoZSBlZGdlIGl0c2VsZi5cbiAgICAgICAgY29uc3Qgb25FZGdlID0gbW91c2VPbkVkZ2VHaXptbyB8fCBtb3VzZUNsb3NlVG9FZGdlO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIENyZWF0ZS9SZW1vdmUgYXJjIGlzIHBvc3NpYmxlXG4gICAgICAgIGNvbnN0IGVuYWJsZUFyYyA9IGVkaXRUb29sLnBvbHkgaW5zdGFuY2VvZiBQYXRoO1xuXG4gICAgICAgIC8vIElmIG1vdXNlIGlzIGNsb3NlIHRvIGFuIGVkZ2Ugb3Igb24gYW4gZWRnZSBnaXptbywgYWRkIGVkZ2Ugb3BlcmF0aW9uc1xuICAgICAgICBpZiAoIW1vdXNlT25WZXJ0ZXhHaXptbyAmJiBvbkVkZ2UgJiYgZW5hYmxlQXJjKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUeXBlID0gZWRpdFRvb2wucG9seS5nZXRFZGdlVHlwZShlZGdlSW5kZXgsIGVkZ2VQb2x5SW5kZXgubG9vcCk7XG5cbiAgICAgICAgICAgIC8vIEFkZCBcIkNoYW5nZS1Ub1wiIG9wZXJhdGlvbnMgZm9yIGFsbCBlZGdlIHR5cGVzIGV4Y2VwdCB0aGUgY3VycmVudC4uLlxuXG4gICAgICAgICAgICAvLyBDaGFuZ2UtdG8tTGluZVxuICAgICAgICAgICAgaWYgKGN1cnJlbnRUeXBlICE9PSBFZGdlVHlwZS5MaW5lKSB7XG4gICAgICAgICAgICAgICAgbWVudS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdDaGFuZ2UgdG8gTGluZSBTZWdtZW50JyxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0VG9vbC5jaGFuZ2VFZGdlVG9MaW5lKGVkZ2VQb2x5SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoYW5nZS10by1CZXppZXJcbiAgICAgICAgICAgIGlmIChjdXJyZW50VHlwZSAhPT0gRWRnZVR5cGUuQmV6aWVyKSB7XG4gICAgICAgICAgICAgICAgbWVudS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdDaGFuZ2UgdG8gQXJjIFNlZ21lbnQnLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRUb29sLmNoYW5nZUVkZ2VUb0JlemllcihlZGdlUG9seUluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGFuZ2UtdG8tRWxsaXBzZVxuICAgICAgICAgICAgaWYgKGN1cnJlbnRUeXBlICE9PSBFZGdlVHlwZS5FbGxpcHNlICYmIGVkaXRUb29sLmVuYWJsZUVsbGlwc2VBcmNzKSB7XG4gICAgICAgICAgICAgICAgbWVudS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdDaGFuZ2UgdG8gRWxsaXBzZSBTZWdtZW50JyxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0VG9vbC5jaGFuZ2VFZGdlVG9FbGxpcHNlKGVkZ2VQb2x5SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBhcmUgbG9vcHMgYW55IGxvb3BzIGxlZnQgaWYgd2UgcmVtb3ZlIHRoaXMgb25lXG4gICAgICAgIGlmIChlZGdlUG9seUluZGV4ICYmIGVkaXRUb29sLnBvbHkuaXNDbG9zZWQpIHtcblxuICAgICAgICAgICAgLy8gSWYgdGhlIGxvb3AgdW5kZXIgbW91c2UgaXMgdGhlIChvbmx5KSBvdXRlciBsb29wLCBkb24ndCBzaG93IFwicmVtb3ZlTG9vcFwiLCBiZWNhdXNlIGl0IG1ha2VzIG1vcmUgc2Vuc2UgdG8ganVzdCByZW1vdmUgdGhlIHNoYXBlIGluc3RlYWQuXG4gICAgICAgICAgICBjb25zdCBtYWluTG9vcHMgPSBlZGl0VG9vbC5wb2x5LmdldE1haW5Mb29wcygpO1xuICAgICAgICAgICAgY29uc3QgaXNPbmx5TWFpbkxvb3AgPSAobWFpbkxvb3BzLmxlbmd0aCA9PT0gMSkgJiYgKG1haW5Mb29wc1swXSA9PT0gZWRnZVBvbHlJbmRleC5sb29wKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgbG9vcCB0eXBlXG4gICAgICAgICAgICBjb25zdCB0eXBlID0gZWRpdFRvb2wucG9seS5nZXRMb29wVHlwZShlZGdlUG9seUluZGV4Lmxvb3ApO1xuICAgICAgICAgICAgbGV0IGl0ZW1OYW1lO1xuICAgICAgICAgICAgc3dpdGNoKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIExvb3BUeXBlLk91dGVyOiBpdGVtTmFtZSA9ICdSZW1vdmUgU2hhcGUgUGFydCc7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTG9vcFR5cGUuSW5uZXI6IGl0ZW1OYW1lID0gJ1JlbW92ZSBIb2xlJzsgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogICAgICAgICAgICAgaXRlbU5hbWUgPSAnUmVtb3ZlIExvb3AnO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKCFpc09ubHlNYWluTG9vcCkge1xuICAgICAgICAgICAgICAgIG1lbnUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBpdGVtTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0VG9vbC5yZW1vdmVMb29wKGVkZ2VQb2x5SW5kZXgubG9vcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaGFwZVVuZGVyTW91c2UpIHtcbiAgICAgICAgICAgIG1lbnUucHVzaCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICdSZW1vdmUgU2hhcGUnLFxuICAgICAgICAgICAgICAgIHRhcmdldDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1bmRvU3RhY2sucnVuKG5ldyBBY3Rpb25zLlJlbW92ZVNoYXBlKGxheWVyLCBzaGFwZVVuZGVyTW91c2UpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJQYXRoIiwiRWRnZVR5cGUiLCJQb2x5QmFzZSIsIlBvbHlJbmRleCIsIkxvb3BUeXBlIiwiQWN0aW9ucyIsImF2IiwiQXV0b2Rlc2siLCJWaWV3aW5nIiwiRWRpdDJEQ29udGV4dE1lbnUiLCJjb25zdHJ1Y3RvciIsInZpZXdlciIsInRvb2xTZXQiLCJjYWxsYmFja0lkIiwibmFtZSIsImNhbGxiYWNrIiwib25Db250ZXh0TWVudSIsImJpbmQiLCJyZWdpc3RlciIsInJlZ2lzdGVyQ29udGV4dE1lbnVDYWxsYmFjayIsInVucmVnaXN0ZXIiLCJ1bnJlZ2lzdGVyQ29udGV4dE1lbnVDYWxsYmFjayIsImZpbmRHaXptb1VuZGVyTW91c2UiLCJnaXptb3MiLCJjbGllbnRYIiwiY2xpZW50WSIsImVsZW0iLCJkb2N1bWVudCIsImVsZW1lbnRGcm9tUG9pbnQiLCJsIiwibGVuZ3RoIiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJnIiwiY29udGFpbmVyIiwidmVydGV4IiwibG9vcCIsInZlcnRleEdpem1vVW5kZXJNb3VzZSIsImVkaXRUb29sIiwidG9vbHMiLCJwb2x5Z29uRWRpdFRvb2wiLCJ2ZXJ0ZXhNb3ZlVG9vbCIsInZlcnRleEdpem1vcyIsImVkZ2VHaXptb1VuZGVyTW91c2UiLCJlZGdlTW92ZVRvb2wiLCJlZGdlR2l6bW9zIiwicG9seUluZGV4IiwibWVudSIsInN0YXR1cyIsImxheWVyIiwiY29udGV4dCIsImV2ZW50Iiwic2VsZWN0aW9uIiwidW5kb1N0YWNrIiwibW91c2VQb3MiLCJjYW52YXNUb0xheWVyIiwiY2FudmFzWCIsImNhbnZhc1kiLCJlZGdlUG9seUluZGV4IiwiZmluZEVkZ2VVbmRlck1vdXNlIiwic2hhcGVVbmRlck1vdXNlIiwicG9seSIsImhpdFRlc3QiLCJ4IiwieSIsInNlbGVjdGVkU2hhcGVzIiwiZ2V0U2VsZWN0ZWRTaGFwZXMiLCJtb3VzZU9uU2VsZWN0aW9uIiwiaW5jbHVkZXMiLCJhY3RpdmUiLCJzZWxlY3RPbmx5IiwibXVsdGlTZWxlY3QiLCJwdXNoIiwidGl0bGUiLCJ0YXJnZXQiLCJydW4iLCJSZW1vdmVTaGFwZXMiLCJlbmFibGVVbmlmeSIsImNhbkJlVW5pZmllZCIsImZpbmQiLCJzIiwiaXNDbG9zZWQiLCJzaGFwZUluZGV4IiwiaW5kZXhPZiIsIlVuaWZ5U2hhcGVzIiwic2hhcGVTZWxlY3RlZCIsIkJvb2xlYW4iLCJtb3VzZU9uVmVydGV4R2l6bW8iLCJlZGdlR2l6bW9JbmRleCIsIm1vdXNlT25FZGdlR2l6bW8iLCJlZGdlSW5kZXgiLCJuZXdWZXJ0ZXhQb3MiLCJnZXROZXdWZXJ0ZXhQb3NpdGlvbiIsIm1vdXNlQ2xvc2VUb0VkZ2UiLCJlbmFibGVDdXRvdXQiLCJzZWxlY3RlZCIsImFjdGlvbiIsIkFwcGx5Q3V0T3V0IiwicmVtb3ZlUG9pbnQiLCJuZXdWZXJ0ZXgiLCJpbnNlcnRQb2ludCIsIm9uRWRnZSIsImVuYWJsZUFyYyIsImN1cnJlbnRUeXBlIiwiZ2V0RWRnZVR5cGUiLCJMaW5lIiwiY2hhbmdlRWRnZVRvTGluZSIsIkJlemllciIsImNoYW5nZUVkZ2VUb0JlemllciIsIkVsbGlwc2UiLCJlbmFibGVFbGxpcHNlQXJjcyIsImNoYW5nZUVkZ2VUb0VsbGlwc2UiLCJtYWluTG9vcHMiLCJnZXRNYWluTG9vcHMiLCJpc09ubHlNYWluTG9vcCIsInR5cGUiLCJnZXRMb29wVHlwZSIsIml0ZW1OYW1lIiwiT3V0ZXIiLCJJbm5lciIsInJlbW92ZUxvb3AiLCJSZW1vdmVTaGFwZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Edit2D/Edit2DContextMenu.js\n");

/***/ }),

/***/ "./extensions/Edit2D/Edit2DSnapper.js":
/*!********************************************!*\
  !*** ./extensions/Edit2D/Edit2DSnapper.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Edit2DSnapper)\n/* harmony export */ });\n/* harmony import */ var _AngleSnapper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AngleSnapper.js */ \"./extensions/Edit2D/AngleSnapper.js\");\n/* harmony import */ var _SegmentTree_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SegmentTree.js */ \"./extensions/Edit2D/SegmentTree.js\");\n\n\n\n\nconst SnapType = Autodesk.Viewing.MeasureCommon.SnapType;\n\n// Edit2DSnapper combines 3 different types of snapping:\n//  1. Snapping to sheet geometry\n//  2. Snapping to other geometry in the same layer\n//  3. Snapping to angles and alignments\n\nconst av = Autodesk.Viewing;\n\nclass Edit2DSnapper {\n\n  // @param {Viewer3D} viewer\n  // @param {Layer} layer\n  // @param {EditLayer} gizmoLayer - used to add temporary snapping indicators (e.g., dashed lines for angle snapping)\n  constructor(viewer, layer, gizmoLayer) {\n\n    this.viewer = viewer;\n    this.setGlobalManager(viewer.globalManager);\n    this.layer = layer;\n    this.gizmoLayer = gizmoLayer;\n\n    // Snapper for sheet geometry and layer geometry.\n    // Note: SnapResults are always stored in LMV world-coords (!=layer coords). Otherwise, SnapperIndicator would not display correctly.\n    this.sheetSnapper = new Autodesk.Viewing.Extensions.Snapping.Snapper(viewer);\n    this.layerSnapper = new Autodesk.Viewing.Extensions.Snapping.Snapper(viewer);\n\n    // Used for snapping to angles and alignments\n    this.angleSnapper = new _AngleSnapper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](gizmoLayer);\n\n    // tmp box reused for snapping\n    this.snapBox = new THREE.Box2();\n\n    // make sure SnapperIndicator exists. Note that angleSnapper does not need this - only the standard LMV snapper.\n    this.sheetSnapper.activate();\n    this.layerSnapper.activate();\n\n    // update Snapper indicator on camera changes (otherwise, it grows/shrinks on camera zoom)\n    this.onCameraChangeCb = this.onCameraChange.bind(this);\n    this.viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onCameraChangeCb);\n\n    // If there is a model already, compute SegmentTree right now\n    this.initSegmentTrees();\n\n    // Reused tmp vector\n    this.tmpVec = new THREE.Vector3();\n    // Raycaster for snapping\n    this.raycaster = new THREE.Raycaster();\n    this.ray = new THREE.Ray();\n\n    // If we snapped to a line segment, this member contains\n    // this line segment in layer coords. See _getGeomSnapLine().\n    this.geomSnapLine = {\n      a: new THREE.Vector3(),\n      b: new THREE.Vector3()\n    };\n  }\n\n  dtor() {\n    this.sheetSnapper.deactivate();\n    this.layerSnapper.deactivate();\n    this.viewer.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onCameraChangeCb);\n  }\n\n  onCameraChange() {\n    this.updateSnapperIndicators();\n  }\n\n  // Make sure that all visible models have a SegmentTree\n  initSegmentTrees() {\n    const models = this.viewer.getVisibleModels();\n    models.forEach((model) => {\n      // Note: We have to wait until the model finished loading. Otherwise, we may end up with a segmentTree that only\n      //       contains a subset of the segments.\n      //       In addition, make sure to skip the segment building in case it's a leaflet (e.g. a raster PDF).\n      const isLeaflet = model.isLeaflet();\n      if (model.is2d() && !isLeaflet && !model.segmentTree && model.isLoadDone()) {\n        model.segmentTree = new _SegmentTree_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n        model.segmentTree.buildFromModel(model);\n      }\n    });\n  }\n\n  updateSnapperIndicators() {\n    // Note: All LMV snappers use (and clear) the same overlay scene. Therefore, we can call render() only on one of the Snapper\n    // indicators. Otherwise, when snapping to sheet geometry, calling layerSnapper.indicator.render() afterwards would clear\n    // the sheet-snapping indicator again.\n    if (this.sheetSnapper.isSnapped()) {\n      this.sheetSnapper.indicator.render();\n    } else {\n      // If none is snapped, it doesn't matter which indicator we call: Both will just clear the overlay.\n      this.layerSnapper.indicator.render();\n    }\n  }\n\n  // Returns snapPosition as Vector2 in layer-coords. If no snapping happens, it just maps the position directly.\n  //  @param {function(shape)} [snappingFilter] - Option filter to restrict EditLayer snapping to certain EditLayer shapes.\n  getSnapPosition(canvasX, canvasY, snappingFilter) {\n\n    const p = this._getSnapPosition(canvasX, canvasY, snappingFilter);\n\n    // keep snapping gizmos up to date\n    this.angleSnapper.updateSnapLineGizmos(p);\n\n    this.updateSnapperIndicators();\n\n    return p;\n  }\n\n  clearSnappingGizmos() {\n    this.angleSnapper.clearSnappingGizmos();\n    this.sheetSnapper.clearSnapped();\n    this.sheetSnapper.indicator && this.sheetSnapper.indicator.clearOverlays();\n    this.layerSnapper.clearSnapped();\n    this.layerSnapper.indicator && this.layerSnapper.indicator.clearOverlays();\n  }\n\n  // Angle and Alignment snapping can only be used when explicitly activated for a given polygon.\n  // Otherwise, it has no effect.\n  startAngleSnapping(poly, draggedVertex, loopIndex) {\n    this.angleSnapper.startSnapping(poly, draggedVertex, loopIndex);\n  }\n\n  // Stop snapping to angles. (No effect if angleSnapping is already off).\n  stopAngleSnapping() {\n    this.angleSnapper.stopSnapping();\n  }\n\n  // Like getSnapPosition, but excluding Snapping gizmo updates.\n  _getSnapPosition(canvasX, canvasY, snappingFilter) {\n\n    // Discard any outdated snapping results\n    this.angleSnapper.clearSnappingResult();\n    this.sheetSnapper.clearSnapped();\n    this.layerSnapper.clearSnapped();\n\n    const p = this.layer.canvasToLayer(canvasX, canvasY);\n\n    // Check if geom-snapping is possible (pGeom is in layer-coords)\n    const pGeom = this._getGeomSnapPosition(canvasX, canvasY, snappingFilter);\n\n    // Check if we snapped to line geometry. If so, we can still allow angle-snapping - as long as we constrain it to the geometry snapLine.\n    const geomSnapLine = this._getGeomSnapLine();\n\n    if (pGeom && !geomSnapLine) {\n      // We snapped to geometry and the snapType does not allow us to combine it with angle snapping\n      // => Just return result of geometry snapping\n      return pGeom;\n    }\n\n    // Apply angle-snapping. If we snapped to line geometry already, constrain angleSnapping to this line.\n    this.angleSnapper.snapToAngle(p, geomSnapLine);\n\n    // If there is no angle-snap, just apply the geometry snap\n    if (geomSnapLine && !this.angleSnapper.isSnapped()) {\n      return pGeom;\n    }\n\n    // By default, SnapperIndicator only considers the geometry snapping result. If we corrected the snap point and used the intersection with an\n    // angle snapLine, we have to update the SnapResult so that the snapPoint is correctly reflected by the SnapperIndicator.\n    if (geomSnapLine && this.angleSnapper.isSnapped()) {\n      let result = this._getGeomSnapResult();\n\n      // p is in 2D layer coords, but LMV Snapper snapResults are always stored in LMV world coords\n      const pWorld = new THREE.Vector3(p.x, p.y, 0.0).applyMatrix4(this.layer.layerToWorld);\n\n      result.geomType = SnapType.SNAP_INTERSECTION;\n      result.snapPoint = pWorld;\n      result.geomVertex = result.snapPoint; // Otherwise, snapResult.isEmpty() returns true\n    }\n\n    return p;\n  }\n\n  // Gets snap position from mouse event.\n  //  @returns {Vector2|null} Snapped position or null if not snapped.\n  _getGeomSnapPosition(canvasX, canvasY, snappingFilter) {\n\n    const p = this.layer.canvasToLayer(canvasX, canvasY);\n\n    // Compute snap position for model geom and edit layer.\n    // Both may be undefined if there was nothing to snap to.\n    const pSheet = this._getSheetSnapPosition(canvasX, canvasY);\n    const pLayer = this._getEditLayerSnapPosition(canvasX, canvasY, snappingFilter);\n\n    // If nothing is snapped, don't snap\n    if (!pSheet && !pLayer) {\n      return null;\n    }\n\n    // If only one snap point was found, use it\n    if (!pLayer) {\n      return pSheet;\n    } else if (!pSheet) {\n      return pLayer;\n    }\n\n    // Get distances of snapPoints to accurate position\n    const distSheet = THREE.Vector2.prototype.distanceToSquared.call(pSheet, p);\n    const distLayer = THREE.Vector2.prototype.distanceToSquared.call(pLayer, p);\n\n    // Choose the closer snap. If equal, prefer edit layer snap.\n    // We discard unused snap results here, so that snapper indicator keeps correct\n    if (distSheet < distLayer) {\n      // Use sheet snap and discard the other snap result\n      this.layerSnapper.clearSnapped();\n      return pSheet;\n    } else {\n      // Use layer snap and discard the other snap result\n      this.sheetSnapper.clearSnapped();\n      return pLayer;\n    }\n  }\n\n  // Returns the SnapResult of sheetSnapper or layerSnapper if any of them is currently snapped. Returns null otherwise.\n  // Note that LMV snapResults contain values in lmv world coords.\n  _getGeomSnapResult() {\n\n    // Check which of the snappers has snapped\n    const sheetSnap = this.sheetSnapper.isSnapped();\n    const layerSnap = this.layerSnapper.isSnapped();\n    if (!sheetSnap && !layerSnap) {\n      return null;\n    }\n\n    // Get latest SnapResult\n    const geomSnapper = sheetSnap ? this.sheetSnapper : this.layerSnapper;\n    return geomSnapper.getSnapResult();\n  }\n\n  // If the last geometry snapping successfully snapped to a line segment, this function returns this line segment.\n  // Result is in layer-coords.\n  //  @returns {Object} - If we snapped to a line segment, we return r={a, b} where r.a and r.b are line start/end as Vector2.\n  _getGeomSnapLine() {\n\n    const result = this._getGeomSnapResult();\n    if (!result) {\n      return null;\n    }\n\n    // If we snapped to an edge, return this edge. Note that SnapType may be SNAP_EDGE, but may also be SNAP_VERTEX\n    const edgeGeom = result.geomEdge;\n    if (edgeGeom) {\n      const verts = result.geomEdge.vertices;\n      // Copy edge start/end to this.geomSnapLine\n      this.geomSnapLine.a.copy(verts[0]);\n      this.geomSnapLine.b.copy(verts[1]);\n\n      // SnapResults are in world coords. We want the geomSnapLine in layer coords.\n      this.geomSnapLine.a.applyMatrix4(this.layer.worldToLayer);\n      this.geomSnapLine.b.applyMatrix4(this.layer.worldToLayer);\n\n      return this.geomSnapLine;\n    }\n\n    // Another SnapType => No line constraint.\n    return null;\n  }\n\n  // Snaps to 2D edit layer geometry. Returns the snapped point in layer coordinates or undefined if not snapped.\n  //  @returns {Vector2} - snap position in layer coords.\n  _getEditLayerSnapPosition(canvasX, canvasY, snappingFilter) {\n\n    // Note that snapper needs a Vector3 to work.\n    const point = this.layer.canvasToLayer(canvasX, canvasY, this.tmpVec);\n\n    // compute snap radius in layer coords\n    const radius = this.layerSnapper.detectRadiusInPixels * this.layer.getUnitsPerPixel();\n\n    // create bbox centered at the point and expanded by snapRadius in each direction\n    this.snapBox.min.set(point.x - radius, point.y - radius);\n    this.snapBox.max.set(point.x + radius, point.y + radius);\n\n    // Build dictionary of dbIds of all shapes intersecting the snapBox\n    let dbIds = {};\n    this.layer.enumShapes(this.snapBox, (shape) => {\n      // Collect dbId - unless shape is excluded from snapping\n      if (!snappingFilter || snappingFilter(shape)) {\n        dbIds[shape.id] = true;\n      }\n    });\n\n    // Collect all triangulated meshes intersecting the snapBox\n    let meshes = [];\n    this.layer.enumMeshes(this.snapBox, (mesh) => meshes.push(mesh));\n\n    // Only consider edges/arcs/vertices within snapRadius\n    const filter = (dbId) => Boolean(dbIds[dbId]);\n\n    // Run snapper on the given meshes/dbIds. Note that we run snapping in layer coords.\n    this.layerSnapper.clearSnapped();\n    this.layerSnapper.snapping2DOverlay(point, meshes, filter, radius);\n\n    // Stop here if nothing was snapped\n    if (!this.layerSnapper.isSnapped()) {\n      return undefined;\n    }\n\n    // get snapped position in layer-coords\n    const res = this.layerSnapper.getSnapResult();\n    let snapPos = Autodesk.Viewing.MeasureCommon.getSnapResultPosition(res, this.viewer);\n\n    // snapPos points to a vector inside snapResult. SnapResult will finally be converted to\n    // LMV world coords to make SnapperIndicator work. So, we copy it to a 2D vector first.\n    snapPos = new THREE.Vector2().copy(snapPos);\n\n    // SnapperIndicator requires world-coords in getSnapResult() to display correctly.\n    // Since we computed snapping in layer-coords, we finally convert it to LMV world coords.\n    res.applyMatrix4(this.layer.layerToWorld);\n\n    // Return snap position in layer coords\n    return snapPos;\n  }\n\n  // Snaps to sheet geometry. Returns the snapped point in layer coordinates or undefined if not snapped.\n  _getSheetSnapPosition(canvasX, canvasY) {\n\n    // Make sure that SegmentTree exists for all visible 2D models\n    this.initSegmentTrees();\n\n    const viewerImpl = this.viewer.impl;\n    // Callback to enum segments of all visible models\n    const enumSegments = function () {for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {args[_key] = arguments[_key];}\n      const models = viewerImpl.get2DModels();\n      models.forEach((model) => {\n        // NOTE: SegmentTree may not be available yet if a model is still loading.\n        //       In this case, we exclude it from snapping until loading is done.\n        if (model.segmentTree) {\n          model.segmentTree.enumSegments(...args);\n        }\n      });\n    };\n\n    const intersect2DModels = (canvasX, canvasY) => {\n      const models = viewerImpl.get2DModels();\n      if (!models.length) {\n        return;\n      }\n\n      const vpVec = viewerImpl.clientToViewport(canvasX, canvasY);\n      viewerImpl.viewportToRay(vpVec, this.ray);\n      this.raycaster.set(this.ray.origin, this.ray.direction);\n\n      const results = [];\n      models.forEach((model) => {\n        // Since we are not passing a getDbIdAtPointFor2D function, this will be a pure geometry comparison\n        // and even entities that are hidden due to cropping will be considered\n        results.push(model.rayIntersect2D(this.raycaster));\n      });\n\n      // Get the closest hit\n      results.sort((a, b) => a.distance - b.distance);\n\n      return results[0];\n    };\n\n\n    // Note that we cannot use layer.canvasToLayer here, because snapper needs a Vector3 to work.\n    const result = intersect2DModels(canvasX, canvasY);\n    if (!result) {\n      return;\n    }\n    // We use enumSegments in order to get SNAP_INTERSECTION support, which is not provided by the default VertexBufferReader enumeration.\n    this.sheetSnapper.snapping2D(result, { enumSegments });\n\n    // If not snapped, just return current position\n    if (!this.sheetSnapper.isSnapped()) {\n      return undefined;\n    }\n\n    // get snapped position\n    const res = this.sheetSnapper.getSnapResult();\n    let p3D = Autodesk.Viewing.MeasureCommon.getSnapResultPosition(res, this.viewer); // returns Vector3\n\n    // convert result from LMV world coords to layer coords\n    // Note that we have to copy first, because p3D is a reference into the SnapResult.\n    // The SnapResult itself must remain in world coords to keep SnapperIndicator correct.\n    p3D = this.tmpVec.copy(p3D).applyMatrix4(this.layer.worldToLayer);\n\n    // Make sure that we consistently return 2D for all snapping types. Otherwise, we produce traps when using things like distanceTo()\n    return new THREE.Vector2().copy(p3D);\n  }\n}\n\nav.GlobalManagerMixin.call(Edit2DSnapper.prototype);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9FZGl0MkQvRWRpdDJEU25hcHBlci5qcz9lMTZlIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IEFuZ2xlU25hcHBlciBmcm9tICcuL0FuZ2xlU25hcHBlci5qcyc7XG5pbXBvcnQgU2VnbWVudFRyZWUgZnJvbSAnLi9TZWdtZW50VHJlZS5qcyc7XG5cbmNvbnN0IFNuYXBUeXBlID0gQXV0b2Rlc2suVmlld2luZy5NZWFzdXJlQ29tbW9uLlNuYXBUeXBlO1xuXG4vLyBFZGl0MkRTbmFwcGVyIGNvbWJpbmVzIDMgZGlmZmVyZW50IHR5cGVzIG9mIHNuYXBwaW5nOlxuLy8gIDEuIFNuYXBwaW5nIHRvIHNoZWV0IGdlb21ldHJ5XG4vLyAgMi4gU25hcHBpbmcgdG8gb3RoZXIgZ2VvbWV0cnkgaW4gdGhlIHNhbWUgbGF5ZXJcbi8vICAzLiBTbmFwcGluZyB0byBhbmdsZXMgYW5kIGFsaWdubWVudHNcblxuY29uc3QgYXYgPSBBdXRvZGVzay5WaWV3aW5nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFZGl0MkRTbmFwcGVyIHtcblxuICAgIC8vIEBwYXJhbSB7Vmlld2VyM0R9IHZpZXdlclxuICAgIC8vIEBwYXJhbSB7TGF5ZXJ9IGxheWVyXG4gICAgLy8gQHBhcmFtIHtFZGl0TGF5ZXJ9IGdpem1vTGF5ZXIgLSB1c2VkIHRvIGFkZCB0ZW1wb3Jhcnkgc25hcHBpbmcgaW5kaWNhdG9ycyAoZS5nLiwgZGFzaGVkIGxpbmVzIGZvciBhbmdsZSBzbmFwcGluZylcbiAgICBjb25zdHJ1Y3Rvcih2aWV3ZXIsIGxheWVyLCBnaXptb0xheWVyKSB7XG5cbiAgICAgICAgdGhpcy52aWV3ZXIgPSB2aWV3ZXI7XG4gICAgICAgIHRoaXMuc2V0R2xvYmFsTWFuYWdlcih2aWV3ZXIuZ2xvYmFsTWFuYWdlcik7XG4gICAgICAgIHRoaXMubGF5ZXIgPSBsYXllcjtcbiAgICAgICAgdGhpcy5naXptb0xheWVyID0gZ2l6bW9MYXllcjtcblxuICAgICAgICAvLyBTbmFwcGVyIGZvciBzaGVldCBnZW9tZXRyeSBhbmQgbGF5ZXIgZ2VvbWV0cnkuXG4gICAgICAgIC8vIE5vdGU6IFNuYXBSZXN1bHRzIGFyZSBhbHdheXMgc3RvcmVkIGluIExNViB3b3JsZC1jb29yZHMgKCE9bGF5ZXIgY29vcmRzKS4gT3RoZXJ3aXNlLCBTbmFwcGVySW5kaWNhdG9yIHdvdWxkIG5vdCBkaXNwbGF5IGNvcnJlY3RseS5cbiAgICAgICAgdGhpcy5zaGVldFNuYXBwZXIgPSBuZXcgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLlNuYXBwaW5nLlNuYXBwZXIodmlld2VyKTtcbiAgICAgICAgdGhpcy5sYXllclNuYXBwZXIgPSBuZXcgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLlNuYXBwaW5nLlNuYXBwZXIodmlld2VyKTtcblxuICAgICAgICAvLyBVc2VkIGZvciBzbmFwcGluZyB0byBhbmdsZXMgYW5kIGFsaWdubWVudHNcbiAgICAgICAgdGhpcy5hbmdsZVNuYXBwZXIgPSBuZXcgQW5nbGVTbmFwcGVyKGdpem1vTGF5ZXIpO1xuXG4gICAgICAgIC8vIHRtcCBib3ggcmV1c2VkIGZvciBzbmFwcGluZ1xuICAgICAgICB0aGlzLnNuYXBCb3ggPSBuZXcgVEhSRUUuQm94MigpO1xuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSBTbmFwcGVySW5kaWNhdG9yIGV4aXN0cy4gTm90ZSB0aGF0IGFuZ2xlU25hcHBlciBkb2VzIG5vdCBuZWVkIHRoaXMgLSBvbmx5IHRoZSBzdGFuZGFyZCBMTVYgc25hcHBlci5cbiAgICAgICAgdGhpcy5zaGVldFNuYXBwZXIuYWN0aXZhdGUoKTtcbiAgICAgICAgdGhpcy5sYXllclNuYXBwZXIuYWN0aXZhdGUoKTtcblxuICAgICAgICAvLyB1cGRhdGUgU25hcHBlciBpbmRpY2F0b3Igb24gY2FtZXJhIGNoYW5nZXMgKG90aGVyd2lzZSwgaXQgZ3Jvd3Mvc2hyaW5rcyBvbiBjYW1lcmEgem9vbSlcbiAgICAgICAgdGhpcy5vbkNhbWVyYUNoYW5nZUNiID0gdGhpcy5vbkNhbWVyYUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdlci5hZGRFdmVudExpc3RlbmVyKEF1dG9kZXNrLlZpZXdpbmcuQ0FNRVJBX0NIQU5HRV9FVkVOVCwgdGhpcy5vbkNhbWVyYUNoYW5nZUNiKTtcblxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIG1vZGVsIGFscmVhZHksIGNvbXB1dGUgU2VnbWVudFRyZWUgcmlnaHQgbm93XG4gICAgICAgIHRoaXMuaW5pdFNlZ21lbnRUcmVlcygpO1xuXG4gICAgICAgIC8vIFJldXNlZCB0bXAgdmVjdG9yXG4gICAgICAgIHRoaXMudG1wVmVjID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICAgICAgLy8gUmF5Y2FzdGVyIGZvciBzbmFwcGluZ1xuICAgICAgICB0aGlzLnJheWNhc3RlciA9IG5ldyBUSFJFRS5SYXljYXN0ZXIoKTtcbiAgICAgICAgdGhpcy5yYXkgPSBuZXcgVEhSRUUuUmF5KCk7XG5cbiAgICAgICAgLy8gSWYgd2Ugc25hcHBlZCB0byBhIGxpbmUgc2VnbWVudCwgdGhpcyBtZW1iZXIgY29udGFpbnNcbiAgICAgICAgLy8gdGhpcyBsaW5lIHNlZ21lbnQgaW4gbGF5ZXIgY29vcmRzLiBTZWUgX2dldEdlb21TbmFwTGluZSgpLlxuICAgICAgICB0aGlzLmdlb21TbmFwTGluZSA9IHtcbiAgICAgICAgICAgIGE6IG5ldyBUSFJFRS5WZWN0b3IzKCksXG4gICAgICAgICAgICBiOiBuZXcgVEhSRUUuVmVjdG9yMygpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZHRvcigpIHtcbiAgICAgICAgdGhpcy5zaGVldFNuYXBwZXIuZGVhY3RpdmF0ZSgpO1xuICAgICAgICB0aGlzLmxheWVyU25hcHBlci5kZWFjdGl2YXRlKCk7XG4gICAgICAgIHRoaXMudmlld2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoQXV0b2Rlc2suVmlld2luZy5DQU1FUkFfQ0hBTkdFX0VWRU5ULCB0aGlzLm9uQ2FtZXJhQ2hhbmdlQ2IpO1xuICAgIH1cblxuICAgIG9uQ2FtZXJhQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVNuYXBwZXJJbmRpY2F0b3JzKCk7XG4gICAgfVxuXG4gICAgLy8gTWFrZSBzdXJlIHRoYXQgYWxsIHZpc2libGUgbW9kZWxzIGhhdmUgYSBTZWdtZW50VHJlZVxuICAgIGluaXRTZWdtZW50VHJlZXMoKSB7XG4gICAgICAgIGNvbnN0IG1vZGVscyA9IHRoaXMudmlld2VyLmdldFZpc2libGVNb2RlbHMoKTtcbiAgICAgICAgbW9kZWxzLmZvckVhY2gobW9kZWwgPT4ge1xuICAgICAgICAgICAgLy8gTm90ZTogV2UgaGF2ZSB0byB3YWl0IHVudGlsIHRoZSBtb2RlbCBmaW5pc2hlZCBsb2FkaW5nLiBPdGhlcndpc2UsIHdlIG1heSBlbmQgdXAgd2l0aCBhIHNlZ21lbnRUcmVlIHRoYXQgb25seVxuICAgICAgICAgICAgLy8gICAgICAgY29udGFpbnMgYSBzdWJzZXQgb2YgdGhlIHNlZ21lbnRzLlxuICAgICAgICAgICAgLy8gICAgICAgSW4gYWRkaXRpb24sIG1ha2Ugc3VyZSB0byBza2lwIHRoZSBzZWdtZW50IGJ1aWxkaW5nIGluIGNhc2UgaXQncyBhIGxlYWZsZXQgKGUuZy4gYSByYXN0ZXIgUERGKS5cbiAgICAgICAgICAgIGNvbnN0IGlzTGVhZmxldCA9IG1vZGVsLmlzTGVhZmxldCgpO1xuICAgICAgICAgICAgaWYgKG1vZGVsLmlzMmQoKSAmJiAhaXNMZWFmbGV0ICYmICFtb2RlbC5zZWdtZW50VHJlZSAmJiBtb2RlbC5pc0xvYWREb25lKCkpIHtcbiAgICAgICAgICAgICAgICBtb2RlbC5zZWdtZW50VHJlZSA9IG5ldyBTZWdtZW50VHJlZSgpO1xuICAgICAgICAgICAgICAgIG1vZGVsLnNlZ21lbnRUcmVlLmJ1aWxkRnJvbU1vZGVsKG1vZGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdXBkYXRlU25hcHBlckluZGljYXRvcnMoKSB7XG4gICAgICAgIC8vIE5vdGU6IEFsbCBMTVYgc25hcHBlcnMgdXNlIChhbmQgY2xlYXIpIHRoZSBzYW1lIG92ZXJsYXkgc2NlbmUuIFRoZXJlZm9yZSwgd2UgY2FuIGNhbGwgcmVuZGVyKCkgb25seSBvbiBvbmUgb2YgdGhlIFNuYXBwZXJcbiAgICAgICAgLy8gaW5kaWNhdG9ycy4gT3RoZXJ3aXNlLCB3aGVuIHNuYXBwaW5nIHRvIHNoZWV0IGdlb21ldHJ5LCBjYWxsaW5nIGxheWVyU25hcHBlci5pbmRpY2F0b3IucmVuZGVyKCkgYWZ0ZXJ3YXJkcyB3b3VsZCBjbGVhclxuICAgICAgICAvLyB0aGUgc2hlZXQtc25hcHBpbmcgaW5kaWNhdG9yIGFnYWluLlxuICAgICAgICBpZiAodGhpcy5zaGVldFNuYXBwZXIuaXNTbmFwcGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2hlZXRTbmFwcGVyLmluZGljYXRvci5yZW5kZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIG5vbmUgaXMgc25hcHBlZCwgaXQgZG9lc24ndCBtYXR0ZXIgd2hpY2ggaW5kaWNhdG9yIHdlIGNhbGw6IEJvdGggd2lsbCBqdXN0IGNsZWFyIHRoZSBvdmVybGF5LlxuICAgICAgICAgICAgdGhpcy5sYXllclNuYXBwZXIuaW5kaWNhdG9yLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJucyBzbmFwUG9zaXRpb24gYXMgVmVjdG9yMiBpbiBsYXllci1jb29yZHMuIElmIG5vIHNuYXBwaW5nIGhhcHBlbnMsIGl0IGp1c3QgbWFwcyB0aGUgcG9zaXRpb24gZGlyZWN0bHkuXG4gICAgLy8gIEBwYXJhbSB7ZnVuY3Rpb24oc2hhcGUpfSBbc25hcHBpbmdGaWx0ZXJdIC0gT3B0aW9uIGZpbHRlciB0byByZXN0cmljdCBFZGl0TGF5ZXIgc25hcHBpbmcgdG8gY2VydGFpbiBFZGl0TGF5ZXIgc2hhcGVzLlxuICAgIGdldFNuYXBQb3NpdGlvbihjYW52YXNYLCBjYW52YXNZLCBzbmFwcGluZ0ZpbHRlcikge1xuXG4gICAgICAgIGNvbnN0IHAgPSB0aGlzLl9nZXRTbmFwUG9zaXRpb24oY2FudmFzWCwgY2FudmFzWSwgc25hcHBpbmdGaWx0ZXIpO1xuXG4gICAgICAgIC8vIGtlZXAgc25hcHBpbmcgZ2l6bW9zIHVwIHRvIGRhdGVcbiAgICAgICAgdGhpcy5hbmdsZVNuYXBwZXIudXBkYXRlU25hcExpbmVHaXptb3MocCk7XG5cbiAgICAgICAgdGhpcy51cGRhdGVTbmFwcGVySW5kaWNhdG9ycygpO1xuXG4gICAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIGNsZWFyU25hcHBpbmdHaXptb3MoKSB7XG4gICAgICAgIHRoaXMuYW5nbGVTbmFwcGVyLmNsZWFyU25hcHBpbmdHaXptb3MoKTtcbiAgICAgICAgdGhpcy5zaGVldFNuYXBwZXIuY2xlYXJTbmFwcGVkKCk7XG4gICAgICAgIHRoaXMuc2hlZXRTbmFwcGVyLmluZGljYXRvciAmJiB0aGlzLnNoZWV0U25hcHBlci5pbmRpY2F0b3IuY2xlYXJPdmVybGF5cygpO1xuICAgICAgICB0aGlzLmxheWVyU25hcHBlci5jbGVhclNuYXBwZWQoKTtcbiAgICAgICAgdGhpcy5sYXllclNuYXBwZXIuaW5kaWNhdG9yICYmIHRoaXMubGF5ZXJTbmFwcGVyLmluZGljYXRvci5jbGVhck92ZXJsYXlzKCk7XG4gICAgfVxuXG4gICAgLy8gQW5nbGUgYW5kIEFsaWdubWVudCBzbmFwcGluZyBjYW4gb25seSBiZSB1c2VkIHdoZW4gZXhwbGljaXRseSBhY3RpdmF0ZWQgZm9yIGEgZ2l2ZW4gcG9seWdvbi5cbiAgICAvLyBPdGhlcndpc2UsIGl0IGhhcyBubyBlZmZlY3QuXG4gICAgc3RhcnRBbmdsZVNuYXBwaW5nKHBvbHksIGRyYWdnZWRWZXJ0ZXgsIGxvb3BJbmRleCkge1xuICAgICAgICB0aGlzLmFuZ2xlU25hcHBlci5zdGFydFNuYXBwaW5nKHBvbHksIGRyYWdnZWRWZXJ0ZXgsIGxvb3BJbmRleCk7XG4gICAgfVxuXG4gICAgLy8gU3RvcCBzbmFwcGluZyB0byBhbmdsZXMuIChObyBlZmZlY3QgaWYgYW5nbGVTbmFwcGluZyBpcyBhbHJlYWR5IG9mZikuXG4gICAgc3RvcEFuZ2xlU25hcHBpbmcoKSB7XG4gICAgICAgIHRoaXMuYW5nbGVTbmFwcGVyLnN0b3BTbmFwcGluZygpO1xuICAgIH1cblxuICAgIC8vIExpa2UgZ2V0U25hcFBvc2l0aW9uLCBidXQgZXhjbHVkaW5nIFNuYXBwaW5nIGdpem1vIHVwZGF0ZXMuXG4gICAgX2dldFNuYXBQb3NpdGlvbihjYW52YXNYLCBjYW52YXNZLCBzbmFwcGluZ0ZpbHRlcikge1xuXG4gICAgICAgIC8vIERpc2NhcmQgYW55IG91dGRhdGVkIHNuYXBwaW5nIHJlc3VsdHNcbiAgICAgICAgdGhpcy5hbmdsZVNuYXBwZXIuY2xlYXJTbmFwcGluZ1Jlc3VsdCgpO1xuICAgICAgICB0aGlzLnNoZWV0U25hcHBlci5jbGVhclNuYXBwZWQoKTtcbiAgICAgICAgdGhpcy5sYXllclNuYXBwZXIuY2xlYXJTbmFwcGVkKCk7XG5cbiAgICAgICAgY29uc3QgcCA9IHRoaXMubGF5ZXIuY2FudmFzVG9MYXllcihjYW52YXNYLCBjYW52YXNZKTtcblxuICAgICAgICAvLyBDaGVjayBpZiBnZW9tLXNuYXBwaW5nIGlzIHBvc3NpYmxlIChwR2VvbSBpcyBpbiBsYXllci1jb29yZHMpXG4gICAgICAgIGNvbnN0IHBHZW9tID0gdGhpcy5fZ2V0R2VvbVNuYXBQb3NpdGlvbihjYW52YXNYLCBjYW52YXNZLCBzbmFwcGluZ0ZpbHRlcik7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgd2Ugc25hcHBlZCB0byBsaW5lIGdlb21ldHJ5LiBJZiBzbywgd2UgY2FuIHN0aWxsIGFsbG93IGFuZ2xlLXNuYXBwaW5nIC0gYXMgbG9uZyBhcyB3ZSBjb25zdHJhaW4gaXQgdG8gdGhlIGdlb21ldHJ5IHNuYXBMaW5lLlxuICAgICAgICBjb25zdCBnZW9tU25hcExpbmUgPSB0aGlzLl9nZXRHZW9tU25hcExpbmUoKTtcblxuICAgICAgICBpZiAocEdlb20gJiYgIWdlb21TbmFwTGluZSkge1xuICAgICAgICAgICAgLy8gV2Ugc25hcHBlZCB0byBnZW9tZXRyeSBhbmQgdGhlIHNuYXBUeXBlIGRvZXMgbm90IGFsbG93IHVzIHRvIGNvbWJpbmUgaXQgd2l0aCBhbmdsZSBzbmFwcGluZ1xuICAgICAgICAgICAgLy8gPT4gSnVzdCByZXR1cm4gcmVzdWx0IG9mIGdlb21ldHJ5IHNuYXBwaW5nXG4gICAgICAgICAgICByZXR1cm4gcEdlb207XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBcHBseSBhbmdsZS1zbmFwcGluZy4gSWYgd2Ugc25hcHBlZCB0byBsaW5lIGdlb21ldHJ5IGFscmVhZHksIGNvbnN0cmFpbiBhbmdsZVNuYXBwaW5nIHRvIHRoaXMgbGluZS5cbiAgICAgICAgdGhpcy5hbmdsZVNuYXBwZXIuc25hcFRvQW5nbGUocCwgZ2VvbVNuYXBMaW5lKTtcblxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBhbmdsZS1zbmFwLCBqdXN0IGFwcGx5IHRoZSBnZW9tZXRyeSBzbmFwXG4gICAgICAgIGlmIChnZW9tU25hcExpbmUgJiYgIXRoaXMuYW5nbGVTbmFwcGVyLmlzU25hcHBlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gcEdlb207XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCeSBkZWZhdWx0LCBTbmFwcGVySW5kaWNhdG9yIG9ubHkgY29uc2lkZXJzIHRoZSBnZW9tZXRyeSBzbmFwcGluZyByZXN1bHQuIElmIHdlIGNvcnJlY3RlZCB0aGUgc25hcCBwb2ludCBhbmQgdXNlZCB0aGUgaW50ZXJzZWN0aW9uIHdpdGggYW5cbiAgICAgICAgLy8gYW5nbGUgc25hcExpbmUsIHdlIGhhdmUgdG8gdXBkYXRlIHRoZSBTbmFwUmVzdWx0IHNvIHRoYXQgdGhlIHNuYXBQb2ludCBpcyBjb3JyZWN0bHkgcmVmbGVjdGVkIGJ5IHRoZSBTbmFwcGVySW5kaWNhdG9yLlxuICAgICAgICBpZiAoZ2VvbVNuYXBMaW5lICYmIHRoaXMuYW5nbGVTbmFwcGVyLmlzU25hcHBlZCgpKSB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5fZ2V0R2VvbVNuYXBSZXN1bHQoKTtcblxuICAgICAgICAgICAgLy8gcCBpcyBpbiAyRCBsYXllciBjb29yZHMsIGJ1dCBMTVYgU25hcHBlciBzbmFwUmVzdWx0cyBhcmUgYWx3YXlzIHN0b3JlZCBpbiBMTVYgd29ybGQgY29vcmRzXG4gICAgICAgICAgICBjb25zdCBwV29ybGQgPSBuZXcgVEhSRUUuVmVjdG9yMyhwLngsIHAueSwgMC4wKS5hcHBseU1hdHJpeDQodGhpcy5sYXllci5sYXllclRvV29ybGQpO1xuXG4gICAgICAgICAgICByZXN1bHQuZ2VvbVR5cGUgPSBTbmFwVHlwZS5TTkFQX0lOVEVSU0VDVElPTjtcbiAgICAgICAgICAgIHJlc3VsdC5zbmFwUG9pbnQgPSBwV29ybGQ7XG4gICAgICAgICAgICByZXN1bHQuZ2VvbVZlcnRleCA9IHJlc3VsdC5zbmFwUG9pbnQ7IC8vIE90aGVyd2lzZSwgc25hcFJlc3VsdC5pc0VtcHR5KCkgcmV0dXJucyB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICAvLyBHZXRzIHNuYXAgcG9zaXRpb24gZnJvbSBtb3VzZSBldmVudC5cbiAgICAvLyAgQHJldHVybnMge1ZlY3RvcjJ8bnVsbH0gU25hcHBlZCBwb3NpdGlvbiBvciBudWxsIGlmIG5vdCBzbmFwcGVkLlxuICAgIF9nZXRHZW9tU25hcFBvc2l0aW9uKGNhbnZhc1gsIGNhbnZhc1ksIHNuYXBwaW5nRmlsdGVyKSB7XG5cbiAgICAgICAgY29uc3QgcCA9IHRoaXMubGF5ZXIuY2FudmFzVG9MYXllcihjYW52YXNYLCBjYW52YXNZKTtcblxuICAgICAgICAvLyBDb21wdXRlIHNuYXAgcG9zaXRpb24gZm9yIG1vZGVsIGdlb20gYW5kIGVkaXQgbGF5ZXIuXG4gICAgICAgIC8vIEJvdGggbWF5IGJlIHVuZGVmaW5lZCBpZiB0aGVyZSB3YXMgbm90aGluZyB0byBzbmFwIHRvLlxuICAgICAgICBjb25zdCBwU2hlZXQgPSB0aGlzLl9nZXRTaGVldFNuYXBQb3NpdGlvbihjYW52YXNYLCBjYW52YXNZKTtcbiAgICAgICAgY29uc3QgcExheWVyID0gdGhpcy5fZ2V0RWRpdExheWVyU25hcFBvc2l0aW9uKGNhbnZhc1gsIGNhbnZhc1ksIHNuYXBwaW5nRmlsdGVyKTtcblxuICAgICAgICAvLyBJZiBub3RoaW5nIGlzIHNuYXBwZWQsIGRvbid0IHNuYXBcbiAgICAgICAgaWYgKCFwU2hlZXQgJiYgIXBMYXllcikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBvbmx5IG9uZSBzbmFwIHBvaW50IHdhcyBmb3VuZCwgdXNlIGl0XG4gICAgICAgIGlmICghcExheWVyKSB7XG4gICAgICAgICAgICByZXR1cm4gcFNoZWV0O1xuICAgICAgICB9IGVsc2UgaWYgKCFwU2hlZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBwTGF5ZXI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgZGlzdGFuY2VzIG9mIHNuYXBQb2ludHMgdG8gYWNjdXJhdGUgcG9zaXRpb25cbiAgICAgICAgY29uc3QgZGlzdFNoZWV0ID0gVEhSRUUuVmVjdG9yMi5wcm90b3R5cGUuZGlzdGFuY2VUb1NxdWFyZWQuY2FsbChwU2hlZXQsIHApO1xuICAgICAgICBjb25zdCBkaXN0TGF5ZXIgPSBUSFJFRS5WZWN0b3IyLnByb3RvdHlwZS5kaXN0YW5jZVRvU3F1YXJlZC5jYWxsKHBMYXllciwgcCk7XG5cbiAgICAgICAgLy8gQ2hvb3NlIHRoZSBjbG9zZXIgc25hcC4gSWYgZXF1YWwsIHByZWZlciBlZGl0IGxheWVyIHNuYXAuXG4gICAgICAgIC8vIFdlIGRpc2NhcmQgdW51c2VkIHNuYXAgcmVzdWx0cyBoZXJlLCBzbyB0aGF0IHNuYXBwZXIgaW5kaWNhdG9yIGtlZXBzIGNvcnJlY3RcbiAgICAgICAgaWYgKGRpc3RTaGVldCA8IGRpc3RMYXllcikge1xuICAgICAgICAgICAgLy8gVXNlIHNoZWV0IHNuYXAgYW5kIGRpc2NhcmQgdGhlIG90aGVyIHNuYXAgcmVzdWx0XG4gICAgICAgICAgICB0aGlzLmxheWVyU25hcHBlci5jbGVhclNuYXBwZWQoKTtcbiAgICAgICAgICAgIHJldHVybiBwU2hlZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBVc2UgbGF5ZXIgc25hcCBhbmQgZGlzY2FyZCB0aGUgb3RoZXIgc25hcCByZXN1bHRcbiAgICAgICAgICAgIHRoaXMuc2hlZXRTbmFwcGVyLmNsZWFyU25hcHBlZCgpO1xuICAgICAgICAgICAgcmV0dXJuIHBMYXllcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJldHVybnMgdGhlIFNuYXBSZXN1bHQgb2Ygc2hlZXRTbmFwcGVyIG9yIGxheWVyU25hcHBlciBpZiBhbnkgb2YgdGhlbSBpcyBjdXJyZW50bHkgc25hcHBlZC4gUmV0dXJucyBudWxsIG90aGVyd2lzZS5cbiAgICAvLyBOb3RlIHRoYXQgTE1WIHNuYXBSZXN1bHRzIGNvbnRhaW4gdmFsdWVzIGluIGxtdiB3b3JsZCBjb29yZHMuXG4gICAgX2dldEdlb21TbmFwUmVzdWx0KCkge1xuXG4gICAgICAgIC8vIENoZWNrIHdoaWNoIG9mIHRoZSBzbmFwcGVycyBoYXMgc25hcHBlZFxuICAgICAgICBjb25zdCBzaGVldFNuYXAgPSB0aGlzLnNoZWV0U25hcHBlci5pc1NuYXBwZWQoKTtcbiAgICAgICAgY29uc3QgbGF5ZXJTbmFwID0gdGhpcy5sYXllclNuYXBwZXIuaXNTbmFwcGVkKCk7XG4gICAgICAgIGlmICghc2hlZXRTbmFwICYmICFsYXllclNuYXApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IGxhdGVzdCBTbmFwUmVzdWx0XG4gICAgICAgIGNvbnN0IGdlb21TbmFwcGVyID0gc2hlZXRTbmFwID8gdGhpcy5zaGVldFNuYXBwZXIgOiB0aGlzLmxheWVyU25hcHBlcjtcbiAgICAgICAgcmV0dXJuIGdlb21TbmFwcGVyLmdldFNuYXBSZXN1bHQoKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgbGFzdCBnZW9tZXRyeSBzbmFwcGluZyBzdWNjZXNzZnVsbHkgc25hcHBlZCB0byBhIGxpbmUgc2VnbWVudCwgdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoaXMgbGluZSBzZWdtZW50LlxuICAgIC8vIFJlc3VsdCBpcyBpbiBsYXllci1jb29yZHMuXG4gICAgLy8gIEByZXR1cm5zIHtPYmplY3R9IC0gSWYgd2Ugc25hcHBlZCB0byBhIGxpbmUgc2VnbWVudCwgd2UgcmV0dXJuIHI9e2EsIGJ9IHdoZXJlIHIuYSBhbmQgci5iIGFyZSBsaW5lIHN0YXJ0L2VuZCBhcyBWZWN0b3IyLlxuICAgIF9nZXRHZW9tU25hcExpbmUoKSB7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZ2V0R2VvbVNuYXBSZXN1bHQoKTtcbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgd2Ugc25hcHBlZCB0byBhbiBlZGdlLCByZXR1cm4gdGhpcyBlZGdlLiBOb3RlIHRoYXQgU25hcFR5cGUgbWF5IGJlIFNOQVBfRURHRSwgYnV0IG1heSBhbHNvIGJlIFNOQVBfVkVSVEVYXG4gICAgICAgIGNvbnN0IGVkZ2VHZW9tID0gcmVzdWx0Lmdlb21FZGdlO1xuICAgICAgICBpZiAoZWRnZUdlb20pIHtcbiAgICAgICAgICAgIGNvbnN0IHZlcnRzID0gcmVzdWx0Lmdlb21FZGdlLnZlcnRpY2VzO1xuICAgICAgICAgICAgLy8gQ29weSBlZGdlIHN0YXJ0L2VuZCB0byB0aGlzLmdlb21TbmFwTGluZVxuICAgICAgICAgICAgdGhpcy5nZW9tU25hcExpbmUuYS5jb3B5KHZlcnRzWzBdKTtcbiAgICAgICAgICAgIHRoaXMuZ2VvbVNuYXBMaW5lLmIuY29weSh2ZXJ0c1sxXSk7XG5cbiAgICAgICAgICAgIC8vIFNuYXBSZXN1bHRzIGFyZSBpbiB3b3JsZCBjb29yZHMuIFdlIHdhbnQgdGhlIGdlb21TbmFwTGluZSBpbiBsYXllciBjb29yZHMuXG4gICAgICAgICAgICB0aGlzLmdlb21TbmFwTGluZS5hLmFwcGx5TWF0cml4NCh0aGlzLmxheWVyLndvcmxkVG9MYXllcik7XG4gICAgICAgICAgICB0aGlzLmdlb21TbmFwTGluZS5iLmFwcGx5TWF0cml4NCh0aGlzLmxheWVyLndvcmxkVG9MYXllcik7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdlb21TbmFwTGluZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFub3RoZXIgU25hcFR5cGUgPT4gTm8gbGluZSBjb25zdHJhaW50LlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBTbmFwcyB0byAyRCBlZGl0IGxheWVyIGdlb21ldHJ5LiBSZXR1cm5zIHRoZSBzbmFwcGVkIHBvaW50IGluIGxheWVyIGNvb3JkaW5hdGVzIG9yIHVuZGVmaW5lZCBpZiBub3Qgc25hcHBlZC5cbiAgICAvLyAgQHJldHVybnMge1ZlY3RvcjJ9IC0gc25hcCBwb3NpdGlvbiBpbiBsYXllciBjb29yZHMuXG4gICAgX2dldEVkaXRMYXllclNuYXBQb3NpdGlvbihjYW52YXNYLCBjYW52YXNZLCBzbmFwcGluZ0ZpbHRlcikge1xuXG4gICAgICAgIC8vIE5vdGUgdGhhdCBzbmFwcGVyIG5lZWRzIGEgVmVjdG9yMyB0byB3b3JrLlxuICAgICAgICBjb25zdCBwb2ludCA9IHRoaXMubGF5ZXIuY2FudmFzVG9MYXllcihjYW52YXNYLCBjYW52YXNZLCB0aGlzLnRtcFZlYyk7XG5cbiAgICAgICAgLy8gY29tcHV0ZSBzbmFwIHJhZGl1cyBpbiBsYXllciBjb29yZHNcbiAgICAgICAgY29uc3QgcmFkaXVzID0gdGhpcy5sYXllclNuYXBwZXIuZGV0ZWN0UmFkaXVzSW5QaXhlbHMgKiB0aGlzLmxheWVyLmdldFVuaXRzUGVyUGl4ZWwoKTtcblxuICAgICAgICAvLyBjcmVhdGUgYmJveCBjZW50ZXJlZCBhdCB0aGUgcG9pbnQgYW5kIGV4cGFuZGVkIGJ5IHNuYXBSYWRpdXMgaW4gZWFjaCBkaXJlY3Rpb25cbiAgICAgICAgdGhpcy5zbmFwQm94Lm1pbi5zZXQocG9pbnQueCAtIHJhZGl1cywgcG9pbnQueSAtIHJhZGl1cyk7XG4gICAgICAgIHRoaXMuc25hcEJveC5tYXguc2V0KHBvaW50LnggKyByYWRpdXMsIHBvaW50LnkgKyByYWRpdXMpO1xuXG4gICAgICAgIC8vIEJ1aWxkIGRpY3Rpb25hcnkgb2YgZGJJZHMgb2YgYWxsIHNoYXBlcyBpbnRlcnNlY3RpbmcgdGhlIHNuYXBCb3hcbiAgICAgICAgbGV0IGRiSWRzID0ge307XG4gICAgICAgIHRoaXMubGF5ZXIuZW51bVNoYXBlcyh0aGlzLnNuYXBCb3gsIHNoYXBlID0+IHtcbiAgICAgICAgICAgIC8vIENvbGxlY3QgZGJJZCAtIHVubGVzcyBzaGFwZSBpcyBleGNsdWRlZCBmcm9tIHNuYXBwaW5nXG4gICAgICAgICAgICBpZiAoIXNuYXBwaW5nRmlsdGVyIHx8IHNuYXBwaW5nRmlsdGVyKHNoYXBlKSkge1xuICAgICAgICAgICAgICAgIGRiSWRzW3NoYXBlLmlkXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENvbGxlY3QgYWxsIHRyaWFuZ3VsYXRlZCBtZXNoZXMgaW50ZXJzZWN0aW5nIHRoZSBzbmFwQm94XG4gICAgICAgIGxldCBtZXNoZXMgPSBbXTtcbiAgICAgICAgdGhpcy5sYXllci5lbnVtTWVzaGVzKHRoaXMuc25hcEJveCwgbWVzaCA9PiBtZXNoZXMucHVzaChtZXNoKSk7XG5cbiAgICAgICAgLy8gT25seSBjb25zaWRlciBlZGdlcy9hcmNzL3ZlcnRpY2VzIHdpdGhpbiBzbmFwUmFkaXVzXG4gICAgICAgIGNvbnN0IGZpbHRlciA9IGRiSWQgPT4gQm9vbGVhbihkYklkc1tkYklkXSk7XG5cbiAgICAgICAgLy8gUnVuIHNuYXBwZXIgb24gdGhlIGdpdmVuIG1lc2hlcy9kYklkcy4gTm90ZSB0aGF0IHdlIHJ1biBzbmFwcGluZyBpbiBsYXllciBjb29yZHMuXG4gICAgICAgIHRoaXMubGF5ZXJTbmFwcGVyLmNsZWFyU25hcHBlZCgpO1xuICAgICAgICB0aGlzLmxheWVyU25hcHBlci5zbmFwcGluZzJET3ZlcmxheShwb2ludCwgbWVzaGVzLCBmaWx0ZXIsIHJhZGl1cyk7XG5cbiAgICAgICAgLy8gU3RvcCBoZXJlIGlmIG5vdGhpbmcgd2FzIHNuYXBwZWRcbiAgICAgICAgaWYgKCF0aGlzLmxheWVyU25hcHBlci5pc1NuYXBwZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCBzbmFwcGVkIHBvc2l0aW9uIGluIGxheWVyLWNvb3Jkc1xuICAgICAgICBjb25zdCByZXMgPSB0aGlzLmxheWVyU25hcHBlci5nZXRTbmFwUmVzdWx0KCk7XG4gICAgICAgIGxldCBzbmFwUG9zID0gQXV0b2Rlc2suVmlld2luZy5NZWFzdXJlQ29tbW9uLmdldFNuYXBSZXN1bHRQb3NpdGlvbihyZXMsIHRoaXMudmlld2VyKTtcblxuICAgICAgICAvLyBzbmFwUG9zIHBvaW50cyB0byBhIHZlY3RvciBpbnNpZGUgc25hcFJlc3VsdC4gU25hcFJlc3VsdCB3aWxsIGZpbmFsbHkgYmUgY29udmVydGVkIHRvXG4gICAgICAgIC8vIExNViB3b3JsZCBjb29yZHMgdG8gbWFrZSBTbmFwcGVySW5kaWNhdG9yIHdvcmsuIFNvLCB3ZSBjb3B5IGl0IHRvIGEgMkQgdmVjdG9yIGZpcnN0LlxuICAgICAgICBzbmFwUG9zID0gbmV3IFRIUkVFLlZlY3RvcjIoKS5jb3B5KHNuYXBQb3MpO1xuXG4gICAgICAgIC8vIFNuYXBwZXJJbmRpY2F0b3IgcmVxdWlyZXMgd29ybGQtY29vcmRzIGluIGdldFNuYXBSZXN1bHQoKSB0byBkaXNwbGF5IGNvcnJlY3RseS5cbiAgICAgICAgLy8gU2luY2Ugd2UgY29tcHV0ZWQgc25hcHBpbmcgaW4gbGF5ZXItY29vcmRzLCB3ZSBmaW5hbGx5IGNvbnZlcnQgaXQgdG8gTE1WIHdvcmxkIGNvb3Jkcy5cbiAgICAgICAgcmVzLmFwcGx5TWF0cml4NCh0aGlzLmxheWVyLmxheWVyVG9Xb3JsZCk7XG5cbiAgICAgICAgLy8gUmV0dXJuIHNuYXAgcG9zaXRpb24gaW4gbGF5ZXIgY29vcmRzXG4gICAgICAgIHJldHVybiBzbmFwUG9zO1xuICAgIH1cblxuICAgIC8vIFNuYXBzIHRvIHNoZWV0IGdlb21ldHJ5LiBSZXR1cm5zIHRoZSBzbmFwcGVkIHBvaW50IGluIGxheWVyIGNvb3JkaW5hdGVzIG9yIHVuZGVmaW5lZCBpZiBub3Qgc25hcHBlZC5cbiAgICBfZ2V0U2hlZXRTbmFwUG9zaXRpb24oY2FudmFzWCwgY2FudmFzWSkge1xuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IFNlZ21lbnRUcmVlIGV4aXN0cyBmb3IgYWxsIHZpc2libGUgMkQgbW9kZWxzXG4gICAgICAgIHRoaXMuaW5pdFNlZ21lbnRUcmVlcygpO1xuXG4gICAgICAgIGNvbnN0IHZpZXdlckltcGwgPSB0aGlzLnZpZXdlci5pbXBsO1xuICAgICAgICAvLyBDYWxsYmFjayB0byBlbnVtIHNlZ21lbnRzIG9mIGFsbCB2aXNpYmxlIG1vZGVsc1xuICAgICAgICBjb25zdCBlbnVtU2VnbWVudHMgPSAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgY29uc3QgbW9kZWxzID0gdmlld2VySW1wbC5nZXQyRE1vZGVscygpO1xuICAgICAgICAgICAgbW9kZWxzLmZvckVhY2gobW9kZWwgPT4ge1xuICAgICAgICAgICAgICAgIC8vIE5PVEU6IFNlZ21lbnRUcmVlIG1heSBub3QgYmUgYXZhaWxhYmxlIHlldCBpZiBhIG1vZGVsIGlzIHN0aWxsIGxvYWRpbmcuXG4gICAgICAgICAgICAgICAgLy8gICAgICAgSW4gdGhpcyBjYXNlLCB3ZSBleGNsdWRlIGl0IGZyb20gc25hcHBpbmcgdW50aWwgbG9hZGluZyBpcyBkb25lLlxuICAgICAgICAgICAgICAgIGlmIChtb2RlbC5zZWdtZW50VHJlZSkge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5zZWdtZW50VHJlZS5lbnVtU2VnbWVudHMoLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgaW50ZXJzZWN0MkRNb2RlbHMgPSAoY2FudmFzWCwgY2FudmFzWSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbW9kZWxzID0gdmlld2VySW1wbC5nZXQyRE1vZGVscygpO1xuICAgICAgICAgICAgaWYgKCFtb2RlbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB2cFZlYyA9IHZpZXdlckltcGwuY2xpZW50VG9WaWV3cG9ydChjYW52YXNYLCBjYW52YXNZKTtcbiAgICAgICAgICAgIHZpZXdlckltcGwudmlld3BvcnRUb1JheSh2cFZlYywgdGhpcy5yYXkpO1xuICAgICAgICAgICAgdGhpcy5yYXljYXN0ZXIuc2V0KHRoaXMucmF5Lm9yaWdpbiwgdGhpcy5yYXkuZGlyZWN0aW9uKTtcblxuICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgbW9kZWxzLmZvckVhY2gobW9kZWwgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFNpbmNlIHdlIGFyZSBub3QgcGFzc2luZyBhIGdldERiSWRBdFBvaW50Rm9yMkQgZnVuY3Rpb24sIHRoaXMgd2lsbCBiZSBhIHB1cmUgZ2VvbWV0cnkgY29tcGFyaXNvblxuICAgICAgICAgICAgICAgIC8vIGFuZCBldmVuIGVudGl0aWVzIHRoYXQgYXJlIGhpZGRlbiBkdWUgdG8gY3JvcHBpbmcgd2lsbCBiZSBjb25zaWRlcmVkXG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKG1vZGVsLnJheUludGVyc2VjdDJEKHRoaXMucmF5Y2FzdGVyKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gR2V0IHRoZSBjbG9zZXN0IGhpdFxuICAgICAgICAgICAgcmVzdWx0cy5zb3J0KChhLCBiKSA9PiBhLmRpc3RhbmNlIC0gYi5kaXN0YW5jZSk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHRzWzBdO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLy8gTm90ZSB0aGF0IHdlIGNhbm5vdCB1c2UgbGF5ZXIuY2FudmFzVG9MYXllciBoZXJlLCBiZWNhdXNlIHNuYXBwZXIgbmVlZHMgYSBWZWN0b3IzIHRvIHdvcmsuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGludGVyc2VjdDJETW9kZWxzKGNhbnZhc1gsIGNhbnZhc1kpO1xuICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIHVzZSBlbnVtU2VnbWVudHMgaW4gb3JkZXIgdG8gZ2V0IFNOQVBfSU5URVJTRUNUSU9OIHN1cHBvcnQsIHdoaWNoIGlzIG5vdCBwcm92aWRlZCBieSB0aGUgZGVmYXVsdCBWZXJ0ZXhCdWZmZXJSZWFkZXIgZW51bWVyYXRpb24uXG4gICAgICAgIHRoaXMuc2hlZXRTbmFwcGVyLnNuYXBwaW5nMkQocmVzdWx0LCB7IGVudW1TZWdtZW50cyB9KTtcblxuICAgICAgICAvLyBJZiBub3Qgc25hcHBlZCwganVzdCByZXR1cm4gY3VycmVudCBwb3NpdGlvblxuICAgICAgICBpZiAoIXRoaXMuc2hlZXRTbmFwcGVyLmlzU25hcHBlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IHNuYXBwZWQgcG9zaXRpb25cbiAgICAgICAgY29uc3QgcmVzID0gdGhpcy5zaGVldFNuYXBwZXIuZ2V0U25hcFJlc3VsdCgpO1xuICAgICAgICBsZXQgcDNEID0gQXV0b2Rlc2suVmlld2luZy5NZWFzdXJlQ29tbW9uLmdldFNuYXBSZXN1bHRQb3NpdGlvbihyZXMsIHRoaXMudmlld2VyKSAvLyByZXR1cm5zIFZlY3RvcjNcblxuICAgICAgICAvLyBjb252ZXJ0IHJlc3VsdCBmcm9tIExNViB3b3JsZCBjb29yZHMgdG8gbGF5ZXIgY29vcmRzXG4gICAgICAgIC8vIE5vdGUgdGhhdCB3ZSBoYXZlIHRvIGNvcHkgZmlyc3QsIGJlY2F1c2UgcDNEIGlzIGEgcmVmZXJlbmNlIGludG8gdGhlIFNuYXBSZXN1bHQuXG4gICAgICAgIC8vIFRoZSBTbmFwUmVzdWx0IGl0c2VsZiBtdXN0IHJlbWFpbiBpbiB3b3JsZCBjb29yZHMgdG8ga2VlcCBTbmFwcGVySW5kaWNhdG9yIGNvcnJlY3QuXG4gICAgICAgIHAzRCA9IHRoaXMudG1wVmVjLmNvcHkocDNEKS5hcHBseU1hdHJpeDQodGhpcy5sYXllci53b3JsZFRvTGF5ZXIpO1xuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHdlIGNvbnNpc3RlbnRseSByZXR1cm4gMkQgZm9yIGFsbCBzbmFwcGluZyB0eXBlcy4gT3RoZXJ3aXNlLCB3ZSBwcm9kdWNlIHRyYXBzIHdoZW4gdXNpbmcgdGhpbmdzIGxpa2UgZGlzdGFuY2VUbygpXG4gICAgICAgIHJldHVybiBuZXcgVEhSRUUuVmVjdG9yMigpLmNvcHkocDNEKTtcbiAgICB9XG59XG5cbmF2Lkdsb2JhbE1hbmFnZXJNaXhpbi5jYWxsKEVkaXQyRFNuYXBwZXIucHJvdG90eXBlKTtcbiJdLCJuYW1lcyI6WyJBbmdsZVNuYXBwZXIiLCJTZWdtZW50VHJlZSIsIlNuYXBUeXBlIiwiQXV0b2Rlc2siLCJWaWV3aW5nIiwiTWVhc3VyZUNvbW1vbiIsImF2IiwiRWRpdDJEU25hcHBlciIsImNvbnN0cnVjdG9yIiwidmlld2VyIiwibGF5ZXIiLCJnaXptb0xheWVyIiwic2V0R2xvYmFsTWFuYWdlciIsImdsb2JhbE1hbmFnZXIiLCJzaGVldFNuYXBwZXIiLCJFeHRlbnNpb25zIiwiU25hcHBpbmciLCJTbmFwcGVyIiwibGF5ZXJTbmFwcGVyIiwiYW5nbGVTbmFwcGVyIiwic25hcEJveCIsIlRIUkVFIiwiQm94MiIsImFjdGl2YXRlIiwib25DYW1lcmFDaGFuZ2VDYiIsIm9uQ2FtZXJhQ2hhbmdlIiwiYmluZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJDQU1FUkFfQ0hBTkdFX0VWRU5UIiwiaW5pdFNlZ21lbnRUcmVlcyIsInRtcFZlYyIsIlZlY3RvcjMiLCJyYXljYXN0ZXIiLCJSYXljYXN0ZXIiLCJyYXkiLCJSYXkiLCJnZW9tU25hcExpbmUiLCJhIiwiYiIsImR0b3IiLCJkZWFjdGl2YXRlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInVwZGF0ZVNuYXBwZXJJbmRpY2F0b3JzIiwibW9kZWxzIiwiZ2V0VmlzaWJsZU1vZGVscyIsImZvckVhY2giLCJtb2RlbCIsImlzTGVhZmxldCIsImlzMmQiLCJzZWdtZW50VHJlZSIsImlzTG9hZERvbmUiLCJidWlsZEZyb21Nb2RlbCIsImlzU25hcHBlZCIsImluZGljYXRvciIsInJlbmRlciIsImdldFNuYXBQb3NpdGlvbiIsImNhbnZhc1giLCJjYW52YXNZIiwic25hcHBpbmdGaWx0ZXIiLCJwIiwiX2dldFNuYXBQb3NpdGlvbiIsInVwZGF0ZVNuYXBMaW5lR2l6bW9zIiwiY2xlYXJTbmFwcGluZ0dpem1vcyIsImNsZWFyU25hcHBlZCIsImNsZWFyT3ZlcmxheXMiLCJzdGFydEFuZ2xlU25hcHBpbmciLCJwb2x5IiwiZHJhZ2dlZFZlcnRleCIsImxvb3BJbmRleCIsInN0YXJ0U25hcHBpbmciLCJzdG9wQW5nbGVTbmFwcGluZyIsInN0b3BTbmFwcGluZyIsImNsZWFyU25hcHBpbmdSZXN1bHQiLCJjYW52YXNUb0xheWVyIiwicEdlb20iLCJfZ2V0R2VvbVNuYXBQb3NpdGlvbiIsIl9nZXRHZW9tU25hcExpbmUiLCJzbmFwVG9BbmdsZSIsInJlc3VsdCIsIl9nZXRHZW9tU25hcFJlc3VsdCIsInBXb3JsZCIsIngiLCJ5IiwiYXBwbHlNYXRyaXg0IiwibGF5ZXJUb1dvcmxkIiwiZ2VvbVR5cGUiLCJTTkFQX0lOVEVSU0VDVElPTiIsInNuYXBQb2ludCIsImdlb21WZXJ0ZXgiLCJwU2hlZXQiLCJfZ2V0U2hlZXRTbmFwUG9zaXRpb24iLCJwTGF5ZXIiLCJfZ2V0RWRpdExheWVyU25hcFBvc2l0aW9uIiwiZGlzdFNoZWV0IiwiVmVjdG9yMiIsInByb3RvdHlwZSIsImRpc3RhbmNlVG9TcXVhcmVkIiwiY2FsbCIsImRpc3RMYXllciIsInNoZWV0U25hcCIsImxheWVyU25hcCIsImdlb21TbmFwcGVyIiwiZ2V0U25hcFJlc3VsdCIsImVkZ2VHZW9tIiwiZ2VvbUVkZ2UiLCJ2ZXJ0cyIsInZlcnRpY2VzIiwiY29weSIsIndvcmxkVG9MYXllciIsInBvaW50IiwicmFkaXVzIiwiZGV0ZWN0UmFkaXVzSW5QaXhlbHMiLCJnZXRVbml0c1BlclBpeGVsIiwibWluIiwic2V0IiwibWF4IiwiZGJJZHMiLCJlbnVtU2hhcGVzIiwic2hhcGUiLCJpZCIsIm1lc2hlcyIsImVudW1NZXNoZXMiLCJtZXNoIiwicHVzaCIsImZpbHRlciIsImRiSWQiLCJCb29sZWFuIiwic25hcHBpbmcyRE92ZXJsYXkiLCJ1bmRlZmluZWQiLCJyZXMiLCJzbmFwUG9zIiwiZ2V0U25hcFJlc3VsdFBvc2l0aW9uIiwidmlld2VySW1wbCIsImltcGwiLCJlbnVtU2VnbWVudHMiLCJfbGVuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiYXJncyIsIkFycmF5IiwiX2tleSIsImdldDJETW9kZWxzIiwiaW50ZXJzZWN0MkRNb2RlbHMiLCJ2cFZlYyIsImNsaWVudFRvVmlld3BvcnQiLCJ2aWV3cG9ydFRvUmF5Iiwib3JpZ2luIiwiZGlyZWN0aW9uIiwicmVzdWx0cyIsInJheUludGVyc2VjdDJEIiwic29ydCIsImRpc3RhbmNlIiwic25hcHBpbmcyRCIsInAzRCIsIkdsb2JhbE1hbmFnZXJNaXhpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Edit2D/Edit2DSnapper.js\n");

/***/ }),

/***/ "./extensions/Edit2D/EditLayer.js":
/*!****************************************!*\
  !*** ./extensions/Edit2D/EditLayer.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EditLayer)\n/* harmony export */ });\n\nlet nextLayerId = 1;\n\n// Radius in pixels used for hit-tests of thin lines. Hits within this distance are always considered, even if actual lineWidth is smaller.\nconst DefaultLineHitRadius = 10;\n\nconst av = Autodesk.Viewing;\n\n// A layer manages a set of 2D shapes like polygons, polylines etc. for editing and display.\nclass EditLayer {\n\n  // @param {Viewer3D} viewer - Viewer instance needed to create materials\n  constructor(viewer) {let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    av.EventDispatcher.prototype.apply(this);\n\n    this.viewer = viewer;\n    this.options = options;\n    // Contains the triangulated geometry ready for rendering.\n    this.group = new THREE.Group();\n    if (options.useSceneAfter) {\n      this.viewer.sceneAfter.add(this.group);\n    } else {\n      this.scene = new THREE.Scene();\n      this.scene.add(this.group);\n    }\n\n    // @param {Shape[]}\n    this.shapes = [];\n\n    // @param {CanvasGizmoBase[]}\n    this.canvasGizmos = [];\n\n    this.id = nextLayerId++;\n\n    // We don't use font rendering so far\n    const fontEngine = null;\n\n    // Always use client coords for drawing\n    const toPageUnits = 1.0;\n\n    // LMVCanvasContext doesn't really need a viewport - unless it's used with Pdf.js\n    const dummyViewport = { width: 0, height: 0 };\n    this.context = new Autodesk.Extensions.CompGeom.LmvCanvasContext(dummyViewport, toPageUnits, this._processMesh.bind(this), fontEngine);\n\n    // When using LMVCanvasContext for PDF, this is not needed because PDF.js takes care that mozCurrentTransform exists.\n    // In our case, we must make LMVCanvasContext create it.\n    this.context.addContextCurrentTransform();\n\n    // use round line caps and line joins\n    this.context.canvasContext.lineCap = \"round\";\n    this.context.canvasContext.lineJoin = \"round\";\n\n    this.setGlobalManager(viewer.globalManager);\n\n    // By default, we always update on modification operations. But it can (and should) be temporarily disabled\n    // for batch operations.\n    this.autoUpdate = true;\n\n    this.toPageUnits = toPageUnits;\n\n    this.styleModifiers = [];\n\n    // Update gizmo positions on camera changes\n    this.onCameraChange = () => this.updateCanvasGizmos();\n    this.viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onCameraChange);\n    this.viewer.addEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT, this.onCameraChange);\n\n    // Use custom tesselation accuracy for Bezier arcs. We use a bit finer values than PDF does right now.\n    this.context.setTessParams({\n      numIterations: 100,\n      minSegLenFraction: 0.01\n    });\n\n    // Optional transform between layer geometry and LMV world coords (default: identity)\n    this.layerToWorld = new THREE.Matrix4();\n    this.worldToLayer = new THREE.Matrix4();\n\n    // Reused tmp values\n    this.tmp_pWorld = new THREE.Vector3();\n    this.tmp_p0 = new THREE.Vector2();\n    this.tmp_p1 = new THREE.Vector2();\n    this.tmp_ray = new THREE.Ray();\n    this.tmp_box = new THREE.Box2();\n\n    // For editing on planes in 3D\n    this.is3d = false;\n    this.plane = new THREE.Plane();\n    this._updatePlane();\n\n    // By default, viewer cutplanes also apply to EditLayers. Optional, all cutplanes can be excluded from layer geometry.\n    this.enableCutplanes = true;\n\n    // Camera used to render overlays.\n    this.overlayCamera = undefined;\n  }\n\n  dtor() {var _this$context;\n    (_this$context = this.context) === null || _this$context === void 0 || _this$context.destroy();\n    this.context = null;\n\n    this._clearScene();\n    this.viewer.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onCameraChange);\n    this.viewer.removeEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT, this.onCameraChange);\n  }\n\n  // @param {Shape} shape\n  // @returns {number} - The id of the shape. Used to access this shape later.\n  addShape(shape) {\n    this.shapes.push(shape);\n\n    this.dispatchEvent({ type: EditLayer.SHAPE_ADDED, shape: shape });\n\n    this._onModified();\n  }\n\n  // @param {Shape[]} shapes\n  addShapes(shapes) {\n    shapes.forEach((s) => this.addShape(s));\n  }\n\n  // @param {Shape} shape\n  // @returns {bool} true if shape was found.\n  hasShape(shape) {\n    return this.shapes.indexOf(shape) !== -1;\n  }\n\n  // Removes the given shape.\n  //  @returns {bool} true if shape was found and removed, otherwise false.\n  removeShape(shape) {\n    const index = this.shapes.indexOf(shape);\n    if (index === -1) {\n      return false;\n    }\n    this.shapes.splice(index, 1);\n\n    this.dispatchEvent({ type: EditLayer.SHAPE_REMOVED, shape: shape });\n\n    this._onModified();\n    return true;\n  }\n\n  // @param {Shape[]} shapes\n  removeShapes(shapes) {\n    shapes.forEach((s) => this.removeShape(s));\n  }\n\n  clear() {\n    this.shapes.length = 0;\n\n    this.dispatchEvent({ type: EditLayer.LAYER_CLEARED });\n\n    this._onModified();\n  }\n\n  // Must be called after modifications to update the scene.\n  update() {\n\n    // clear scene\n    this._clearScene();\n\n    for (let i = 0; i < this.shapes.length; i++) {\n      const shape = this.shapes[i];\n\n      // Skip hidden shapes\n      if (!shape.visible) {\n        continue;\n      }\n\n      // apply override style if specified\n      const overrideStyle = this._getOverrideStyle(shape);\n\n      shape.draw(this.context, overrideStyle);\n    }\n\n    // Make sure that all shapes are processed\n    this.context.flushBuffer(0, true);\n\n    // Currently, we only draw to overlay scenes. We may generalize that if we use it for planes in 3D later.\n    // There's also the option to use sceneAfter (which is helpful if we need more control over the blending method)\n    // so in that case invalidating only the overlay is not enough for re-rendering.\n    this.viewer.impl.invalidate(this.options.useSceneAfter, false, !this.options.useSceneAfter);\n\n    // Update CanvasGizmos, e.g., to update polygon gizmo position if a polygon changed\n    this.updateCanvasGizmos();\n  }\n\n  updateCanvasGizmos() {\n    for (let i = 0; i < this.canvasGizmos.length; i++) {\n      this.canvasGizmos[i].update();\n    }\n  }\n\n  // @param {CanvasGizmoBase} gizmo - Must implement gizmo.update() to respond to changes.\n  addCanvasGizmo(gizmo) {\n    this.canvasGizmos.push(gizmo);\n  }\n\n  // @param {CanvasGizmoBase} gizmo\n  removeCanvasGizmo(gizmo) {\n    const index = this.canvasGizmos.indexOf(gizmo);\n    if (index === -1) {\n      return false;\n    }\n    this.canvasGizmos.splice(index, 1);\n    return true;\n  }\n\n  getViewport() {\n    return this.viewport;\n  }\n\n  // Returns the topmost shape containing the point (x,y)\n  //  @param {number} hitRadius - Used for hit-test of thin line-features. Points within this radius around a line are considered as hits - even if the actual lineWidth is smaller.\n  hitTest(x, y) {let hitRadius = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DefaultLineHitRadius;\n\n    // process shapes backwards to find topmost first\n    for (let i = this.shapes.length - 1; i >= 0; i--) {\n      let shape = this.shapes[i];\n\n      // Skip hidden shapes\n      if (!shape.visible) {\n        continue;\n      }\n\n      // MiterLines require to handle lineWidth and hitRadius differently\n      let isMiterline = shape.style.isMiterLine;\n      let miterLineWidth = isMiterline ? this.#getLineWidthInLayerCoords(shape) : 0;\n\n      let radiusLC;\n      if (!isMiterline) {\n        // By default, hitRadius determined based on lineWidth or hitRadius (if the line is too thin to hit otherwise)\n        radiusLC = this.getLineHitRadius(shape, hitRadius);\n      } else {\n        // For miterLines, we must handle lineWidth and hitRadius separately\n        const unitsPerPixel = this.getUnitsPerPixel();\n        radiusLC = hitRadius * unitsPerPixel;\n\n        // Considering hitRadius is only needed to keep thin lines selectable.\n        // Considering miterLineWidth is only worth the effort for thicker lines.\n        // So, we use only one of the two.\n        //\n        // A line whose width is >hitRadius is considered as \"big enough to hit without extra tolerance\".\n        // Note that it's intentional in this case that we compare the lineWidth with the radius.\n        // In theory, we could use the half-lineWidth here. But since the default hitRadius is pretty big (10px) already,\n        // this would still ignore the line endings for lineWidths that are not really \"thin\" anymore.\n        if (miterLineWidth > radiusLC) {\n          radiusLC = 0.0;\n        } else {\n          miterLineWidth = 0.0;\n        }\n      }\n\n      // For boxTests, we just extend the radius for miterLines too.\n      //\n      // TODO: Strictly speaking, this might be insufficient in ugly edge cases in\n      //       which a miter-junction overhoots the buffered lines. Could be improved\n      //       if we can determine a conservative hitRadius for miter-junctions.\n      const boxHitRadius = radiusLC + (miterLineWidth || 0);\n\n      // Compute box centered at (x,y) with given hitRadius\n      const hitBox = this.tmp_box.makeEmpty();\n      hitBox.min.set(x - boxHitRadius, y - boxHitRadius);\n      hitBox.max.set(x + boxHitRadius, y + boxHitRadius);\n\n      // get (latest) shape bbox\n      shape.updateBBox();\n\n      // Skip if shape bounds and hitBounds don't intersect\n      if (!shape.bbox.intersectsBox(hitBox)) {\n        continue;\n      }\n\n      if (shape.hitTest(x, y, radiusLC, miterLineWidth)) {\n        return shape;\n      }\n    }\n  }\n\n  #getLineWidthInLayerCoords(shape) {\n    const style = shape.style;\n    const unitsPerPixel = this.getUnitsPerPixel();\n    return style.isScreenSpace ? unitsPerPixel * style.lineWidth : style.lineWidth;\n  }\n\n  // Used for line-feature hit tests:\n  // We consider a point p to be \"on edge e\" if p is within a certain radius around e.\n  // This radius depends on style and a certain min-distance in pixels used for thin lines. Result is in layer-coords.\n  getLineHitRadius(shape) {let hitRadius = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DefaultLineHitRadius;\n\n    const unitsPerPixel = this.getUnitsPerPixel();\n\n    // Get line-width in layer coords\n    let lineWidth = this.#getLineWidthInLayerCoords(shape);\n\n    // For thin lines, consider hits as long as they are within minPixels radius\n    return Math.max(0.5 * lineWidth, hitRadius * unitsPerPixel);\n  }\n\n  // Optional: Sets a callback to override the style for either all or a subset of shapes.\n  //  @param {function(Shape, Style)} modifier - A callback that takes a shape as input and returns undefined (=no change) or a valid override style object.\n  addStyleModifier(modifier) {\n    this.styleModifiers.push(modifier);\n    this._onModified();\n  }\n\n  removeStyleModifier(modifier) {\n    let index = this.styleModifiers.indexOf(modifier);\n    if (index == -1) {\n      return false;\n    }\n    this.styleModifiers.splice(index, 1);\n    this._onModified();\n    return true;\n  }\n\n  // Convert layer coordinates to canvas coords.\n  //  @param {Vector2|Vector3} [target]\n  layerToCanvas(x, y) {let target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new THREE.Vector2();\n\n    // get point in LMV world coords\n    const pWorld = this.tmp_pWorld.set(x, y, 0).applyMatrix4(this.layerToWorld);\n\n    // For now, worldCoords.xy is identical with layer coords. This will change once we extend it to planes that can be embedded into 3D.\n    let res = this.viewer.impl.worldToClient(pWorld, this.overlayCamera);\n    return target.set(res.x, res.y, 0.0); // Set z to 0 if target is Vector3. Otherwise, the param has no effect\n  }\n\n  // Note: This function currently assumes a uniform unitPerPixel ratio. This may change if we add support for projected\n  //       planes in 3D, where pixelRatio may vary across the layer and may require different values in x/y direction.\n  getPixelsPerUnit() {\n    const _window = this.getWindow();\n\n    // get screen projections of two points in layer-coords that have unit-distance\n    const p0 = this.layerToCanvas(0, 0, this.tmp_p0);\n    const p1 = this.layerToCanvas(1, 0, this.tmp_p1);\n    return p0.distanceTo(p1) / _window.devicePixelRatio;\n  }\n\n  getUnitsPerPixel() {\n    return 1.0 / this.getPixelsPerUnit();\n  }\n\n  // Convert canvas coordinates (from input events) to layer viewport coordinates\n  //  @param {Vector2|Vector3} [target]\n  canvasToLayer(canvasX, canvasY)\n  {let target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new THREE.Vector2();\n    // Compute \"ray through pixel\" in world-coords.\n    const vpVec = this.viewer.impl.clientToViewport(canvasX, canvasY);\n    const ray = this.viewer.impl.viewportToRay(vpVec, this.tmp_ray, this.overlayCamera);\n\n    // Intersect ray with plane that we edit on\n    const intersect = ray.intersectPlane(this.plane, this.tmp_pWorld);\n\n    if (!intersect) {\n      // TODO: For 3D scenarios, we must properly support the case that canvasToLayer fails.\n      return target.set(0, 0);\n    }\n\n    // Convert from world to layer coords\n    intersect.applyMatrix4(this.worldToLayer);\n\n    // Set 3rd-component to 0 for Vector3 targets. For 2D, the z param is ignored\n    return target.set(intersect.x, intersect.y, 0);\n  }\n\n  // Runs the callback for all shapes in the layer that overlap the given bbox\n  //  @param {Box2} bbox\n  //  @param {function(Shape)} cb\n  enumShapes(bbox, cb) {\n    for (let i = 0; i < this.shapes.length; i++) {\n      let shape = this.shapes[i];\n\n      // Make sure that bbox is up-to-date\n      shape.updateBBox();\n\n      if (bbox.intersectsBox(shape.bbox)) {\n        cb(shape);\n      }\n    }\n  }\n\n  // Runs the callback for all triangulated 2D meshes created in the last update() call.\n  enumMeshes(bbox, cb) {\n    for (let i = 0; i < this.group.children.length; i++) {\n      const mesh = this.group.children[i];\n      const meshBox = mesh.geometry.boundingBox;\n\n      // Note: The worldMatrix is not used for triangulated Edit2D meshes, so it will always be identity. Otherwise,\n      //       we would need to compute a world-box using applyMatrixWorld() here.\n\n      // Note that meshes have a 3D box, but we are only interested in 2D check. Therefore,\n      // it's important to call intersectsBox on the input box and not on the mesh.\n      if (bbox.intersectsBox(meshBox)) {\n        cb(mesh);\n      }\n    }\n  }\n\n  findShapeById(id) {\n    return this.shapes.find((s) => s.id == id);\n  }\n\n  setMatrix(layerToWorld) {\n    this.layerToWorld.copy(layerToWorld);\n    this.worldToLayer.copy(layerToWorld).invert();\n\n    // Update projection plane\n    this._updatePlane();\n  }\n\n  // By default, the viewer cutplanes are applied to EditLayers as well. This can be used, e.g., to crop them.\n  //  @param {bool} enabled - If false, cutplanes are ignored for all layer geometry.\n  setCutPlanesEnabled() {let enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    if (enabled != this.enableCutplanes) {\n      this.enableCutplanes = enabled;\n      this.update();\n    }\n  }\n\n  //\n  // --- Internal functions ---\n  //\n\n  // process meshData produced by LmvCanvasContext\n  _processMesh(meshData) {\n\n    // create GeometryBuffer\n    var mdata = { mesh: meshData, is2d: true, packId: \"0\", meshIndex: 0 };\n    var geom = Autodesk.Viewing.Private.BufferGeometryUtils.meshToGeometry(mdata);\n\n    // create 2D material\n    // Note that it is essential not to associate the material witha model. Otherwise,\n    // the EditShapes will disappear if model layer 0 is switched off.\n    const matman = this.viewer.impl.getMaterials();\n    const matName = matman.create2DMaterial(null, meshData.material);\n    const material = matman.findMaterial(null, matName);\n\n    // Optional: Ignore cutplanes\n    if (!this.enableCutplanes) {\n      // Do not apply any cutplanes to the geometry\n      material.cutplanes = undefined;\n      material.doNotCut = true;\n    }\n\n    const mesh = new THREE.Mesh(geom, material);\n\n    // Set mesh matrix\n    mesh.matrix = this.layerToWorld;\n    mesh.matrixAutoUpdate = false; // make sure matrix is not overwritten within updateMatrixWorld() later\n\n    this.group.children.push(mesh);\n  }\n\n  _onModified() {\n    if (this.autoUpdate) {\n      this.update();\n    }\n  }\n\n  // Apply one or more style modifiers\n  _getOverrideStyle(shape) {\n    let style = shape.style;\n    for (let i = 0; i < this.styleModifiers.length; i++) {\n      let mod = this.styleModifiers[i];\n      style = mod(shape, style) || style;\n    }\n    return style;\n  }\n\n  // Dispose all shapes generated by this layer.\n  _clearScene() {\n\n    // Dispose any GPU resources for previous output geometry\n    // Note that we construct the scene as a flat list of meshes (see _processMesh). So, we don't need a generic traversal here.\n    const meshes = this.group.children;\n    for (let i = 0; i < meshes.length; i++) {\n      let mesh = meshes[i];\n      mesh.geometry.dispose();\n\n      // TODO: We have to take care to dispose materials here as well. However, just disposing materials here as well would produce a couple of issues:\n      //\n      //  1. MaterialManager caches materials based on properties. So, we cannot safely assume that the materials are solely used by ourselves.\n      //     => MaterialManager currently only allows models to own 2D materials. We have to generalize it to support \"ownerIDs\" so\n      //        that we can ensure that the materials are owned by this layer.\n      //  2. Recompiling shaders on each update would be a waste. So we will need some caching.\n    }\n    this.group.children.length = 0;\n  }\n\n  // Only needed for 3D scenes\n  _updatePlane() {\n    // The layer geometry itself is in the {z=0} plane\n    this.plane.normal.set(0, 0, 1);\n    this.plane.constant = 0.0;\n\n    // Transform plane to world-coords\n    this.plane.applyMatrix4(this.layerToWorld);\n  }\n\n  // Used for projecting / unprojecting overlay elements.\n  setOverlayCamera(camera) {\n    this.overlayCamera = camera;\n  }\n}\n\nav.GlobalManagerMixin.call(EditLayer.prototype);\n\nEditLayer.SHAPE_ADDED = 'shapeAdded';\nEditLayer.SHAPE_REMOVED = 'shapeRemoved';\nEditLayer.LAYER_CLEARED = 'layerCleared';//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0JBLENBQUNDLE1BQU0sRUFBRTtJQUNyQixJQUFJLENBQUNuSSxhQUFhLEdBQUdtSSxNQUFNO0VBQy9CO0FBQ0o7O0FBRUF2TSxFQUFFLENBQUN3TSxrQkFBa0IsQ0FBQ0MsSUFBSSxDQUFDdE0sU0FBUyxDQUFDUSxTQUFTLENBQUM7O0FBRS9DUixTQUFTLENBQUM0RSxXQUFXLEdBQUcsWUFBWTtBQUNwQzVFLFNBQVMsQ0FBQ3NGLGFBQWEsR0FBRyxjQUFjO0FBQ3hDdEYsU0FBUyxDQUFDeUYsYUFBYSxHQUFHLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9FZGl0MkQvRWRpdExheWVyLmpzPzhjNTAiXSwic291cmNlc0NvbnRlbnQiOlsiXG5sZXQgbmV4dExheWVySWQgPSAxO1xuXG4vLyBSYWRpdXMgaW4gcGl4ZWxzIHVzZWQgZm9yIGhpdC10ZXN0cyBvZiB0aGluIGxpbmVzLiBIaXRzIHdpdGhpbiB0aGlzIGRpc3RhbmNlIGFyZSBhbHdheXMgY29uc2lkZXJlZCwgZXZlbiBpZiBhY3R1YWwgbGluZVdpZHRoIGlzIHNtYWxsZXIuXG5jb25zdCBEZWZhdWx0TGluZUhpdFJhZGl1cyA9IDEwO1xuXG5jb25zdCBhdiA9IEF1dG9kZXNrLlZpZXdpbmc7XG5cbi8vIEEgbGF5ZXIgbWFuYWdlcyBhIHNldCBvZiAyRCBzaGFwZXMgbGlrZSBwb2x5Z29ucywgcG9seWxpbmVzIGV0Yy4gZm9yIGVkaXRpbmcgYW5kIGRpc3BsYXkuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFZGl0TGF5ZXIge1xuXG4gICAgLy8gQHBhcmFtIHtWaWV3ZXIzRH0gdmlld2VyIC0gVmlld2VyIGluc3RhbmNlIG5lZWRlZCB0byBjcmVhdGUgbWF0ZXJpYWxzXG4gICAgY29uc3RydWN0b3Iodmlld2VyICxvcHRpb25zID0ge30pIHtcblxuICAgICAgICBhdi5FdmVudERpc3BhdGNoZXIucHJvdG90eXBlLmFwcGx5KHRoaXMpO1xuXG4gICAgICAgIHRoaXMudmlld2VyID0gdmlld2VyO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICAvLyBDb250YWlucyB0aGUgdHJpYW5ndWxhdGVkIGdlb21ldHJ5IHJlYWR5IGZvciByZW5kZXJpbmcuXG4gICAgICAgIHRoaXMuZ3JvdXAgPSBuZXcgVEhSRUUuR3JvdXAoKTtcbiAgICAgICAgaWYgKG9wdGlvbnMudXNlU2NlbmVBZnRlcikge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIuc2NlbmVBZnRlci5hZGQodGhpcy5ncm91cCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmdyb3VwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEBwYXJhbSB7U2hhcGVbXX1cbiAgICAgICAgdGhpcy5zaGFwZXMgPSBbXTtcblxuICAgICAgICAvLyBAcGFyYW0ge0NhbnZhc0dpem1vQmFzZVtdfVxuICAgICAgICB0aGlzLmNhbnZhc0dpem1vcyA9IFtdO1xuXG4gICAgICAgIHRoaXMuaWQgPSBuZXh0TGF5ZXJJZCsrO1xuXG4gICAgICAgIC8vIFdlIGRvbid0IHVzZSBmb250IHJlbmRlcmluZyBzbyBmYXJcbiAgICAgICAgY29uc3QgZm9udEVuZ2luZSA9IG51bGw7XG5cbiAgICAgICAgLy8gQWx3YXlzIHVzZSBjbGllbnQgY29vcmRzIGZvciBkcmF3aW5nXG4gICAgICAgIGNvbnN0IHRvUGFnZVVuaXRzID0gMS4wO1xuXG4gICAgICAgIC8vIExNVkNhbnZhc0NvbnRleHQgZG9lc24ndCByZWFsbHkgbmVlZCBhIHZpZXdwb3J0IC0gdW5sZXNzIGl0J3MgdXNlZCB3aXRoIFBkZi5qc1xuICAgICAgICBjb25zdCBkdW1teVZpZXdwb3J0ID0geyB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG5ldyBBdXRvZGVzay5FeHRlbnNpb25zLkNvbXBHZW9tLkxtdkNhbnZhc0NvbnRleHQoZHVtbXlWaWV3cG9ydCwgdG9QYWdlVW5pdHMsIHRoaXMuX3Byb2Nlc3NNZXNoLmJpbmQodGhpcyksIGZvbnRFbmdpbmUpO1xuXG4gICAgICAgIC8vIFdoZW4gdXNpbmcgTE1WQ2FudmFzQ29udGV4dCBmb3IgUERGLCB0aGlzIGlzIG5vdCBuZWVkZWQgYmVjYXVzZSBQREYuanMgdGFrZXMgY2FyZSB0aGF0IG1vekN1cnJlbnRUcmFuc2Zvcm0gZXhpc3RzLlxuICAgICAgICAvLyBJbiBvdXIgY2FzZSwgd2UgbXVzdCBtYWtlIExNVkNhbnZhc0NvbnRleHQgY3JlYXRlIGl0LlxuICAgICAgICB0aGlzLmNvbnRleHQuYWRkQ29udGV4dEN1cnJlbnRUcmFuc2Zvcm0oKTtcblxuICAgICAgICAvLyB1c2Ugcm91bmQgbGluZSBjYXBzIGFuZCBsaW5lIGpvaW5zXG4gICAgICAgIHRoaXMuY29udGV4dC5jYW52YXNDb250ZXh0LmxpbmVDYXAgPSBcInJvdW5kXCI7XG4gICAgICAgIHRoaXMuY29udGV4dC5jYW52YXNDb250ZXh0LmxpbmVKb2luID0gXCJyb3VuZFwiO1xuXG4gICAgICAgIHRoaXMuc2V0R2xvYmFsTWFuYWdlcih2aWV3ZXIuZ2xvYmFsTWFuYWdlcik7XG5cbiAgICAgICAgLy8gQnkgZGVmYXVsdCwgd2UgYWx3YXlzIHVwZGF0ZSBvbiBtb2RpZmljYXRpb24gb3BlcmF0aW9ucy4gQnV0IGl0IGNhbiAoYW5kIHNob3VsZCkgYmUgdGVtcG9yYXJpbHkgZGlzYWJsZWRcbiAgICAgICAgLy8gZm9yIGJhdGNoIG9wZXJhdGlvbnMuXG4gICAgICAgIHRoaXMuYXV0b1VwZGF0ZSA9IHRydWU7XG5cbiAgICAgICAgdGhpcy50b1BhZ2VVbml0cyA9IHRvUGFnZVVuaXRzO1xuXG4gICAgICAgIHRoaXMuc3R5bGVNb2RpZmllcnMgPSBbXTtcblxuICAgICAgICAvLyBVcGRhdGUgZ2l6bW8gcG9zaXRpb25zIG9uIGNhbWVyYSBjaGFuZ2VzXG4gICAgICAgIHRoaXMub25DYW1lcmFDaGFuZ2UgPSAoKSA9PiB0aGlzLnVwZGF0ZUNhbnZhc0dpem1vcygpO1xuICAgICAgICB0aGlzLnZpZXdlci5hZGRFdmVudExpc3RlbmVyKEF1dG9kZXNrLlZpZXdpbmcuQ0FNRVJBX0NIQU5HRV9FVkVOVCwgdGhpcy5vbkNhbWVyYUNoYW5nZSk7XG4gICAgICAgIHRoaXMudmlld2VyLmFkZEV2ZW50TGlzdGVuZXIoQXV0b2Rlc2suVmlld2luZy5WSUVXRVJfUkVTSVpFX0VWRU5ULCB0aGlzLm9uQ2FtZXJhQ2hhbmdlKTtcblxuICAgICAgICAvLyBVc2UgY3VzdG9tIHRlc3NlbGF0aW9uIGFjY3VyYWN5IGZvciBCZXppZXIgYXJjcy4gV2UgdXNlIGEgYml0IGZpbmVyIHZhbHVlcyB0aGFuIFBERiBkb2VzIHJpZ2h0IG5vdy5cbiAgICAgICAgdGhpcy5jb250ZXh0LnNldFRlc3NQYXJhbXMoe1xuICAgICAgICAgICAgbnVtSXRlcmF0aW9uczogMTAwLFxuICAgICAgICAgICAgbWluU2VnTGVuRnJhY3Rpb246IDAuMDFcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gT3B0aW9uYWwgdHJhbnNmb3JtIGJldHdlZW4gbGF5ZXIgZ2VvbWV0cnkgYW5kIExNViB3b3JsZCBjb29yZHMgKGRlZmF1bHQ6IGlkZW50aXR5KVxuICAgICAgICB0aGlzLmxheWVyVG9Xb3JsZCA9IG5ldyBUSFJFRS5NYXRyaXg0KCk7XG4gICAgICAgIHRoaXMud29ybGRUb0xheWVyID0gbmV3IFRIUkVFLk1hdHJpeDQoKTtcblxuICAgICAgICAvLyBSZXVzZWQgdG1wIHZhbHVlc1xuICAgICAgICB0aGlzLnRtcF9wV29ybGQgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgICAgICB0aGlzLnRtcF9wMCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gICAgICAgIHRoaXMudG1wX3AxID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcbiAgICAgICAgdGhpcy50bXBfcmF5ID0gbmV3IFRIUkVFLlJheSgpO1xuICAgICAgICB0aGlzLnRtcF9ib3ggPSBuZXcgVEhSRUUuQm94MigpO1xuXG4gICAgICAgIC8vIEZvciBlZGl0aW5nIG9uIHBsYW5lcyBpbiAzRFxuICAgICAgICB0aGlzLmlzM2QgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wbGFuZSA9IG5ldyBUSFJFRS5QbGFuZSgpO1xuICAgICAgICB0aGlzLl91cGRhdGVQbGFuZSgpO1xuXG4gICAgICAgIC8vIEJ5IGRlZmF1bHQsIHZpZXdlciBjdXRwbGFuZXMgYWxzbyBhcHBseSB0byBFZGl0TGF5ZXJzLiBPcHRpb25hbCwgYWxsIGN1dHBsYW5lcyBjYW4gYmUgZXhjbHVkZWQgZnJvbSBsYXllciBnZW9tZXRyeS5cbiAgICAgICAgdGhpcy5lbmFibGVDdXRwbGFuZXMgPSB0cnVlO1xuXG4gICAgICAgIC8vIENhbWVyYSB1c2VkIHRvIHJlbmRlciBvdmVybGF5cy5cbiAgICAgICAgdGhpcy5vdmVybGF5Q2FtZXJhID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGR0b3IoKSB7XG4gICAgICAgIHRoaXMuY29udGV4dD8uZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2NsZWFyU2NlbmUoKTtcbiAgICAgICAgdGhpcy52aWV3ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihBdXRvZGVzay5WaWV3aW5nLkNBTUVSQV9DSEFOR0VfRVZFTlQsIHRoaXMub25DYW1lcmFDaGFuZ2UpO1xuICAgICAgICB0aGlzLnZpZXdlci5yZW1vdmVFdmVudExpc3RlbmVyKEF1dG9kZXNrLlZpZXdpbmcuVklFV0VSX1JFU0laRV9FVkVOVCwgdGhpcy5vbkNhbWVyYUNoYW5nZSk7XG4gICAgfVxuXG4gICAgLy8gQHBhcmFtIHtTaGFwZX0gc2hhcGVcbiAgICAvLyBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBpZCBvZiB0aGUgc2hhcGUuIFVzZWQgdG8gYWNjZXNzIHRoaXMgc2hhcGUgbGF0ZXIuXG4gICAgYWRkU2hhcGUoc2hhcGUpIHtcbiAgICAgICAgdGhpcy5zaGFwZXMucHVzaChzaGFwZSk7XG5cbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOiBFZGl0TGF5ZXIuU0hBUEVfQURERUQsIHNoYXBlOiBzaGFwZX0pO1xuXG4gICAgICAgIHRoaXMuX29uTW9kaWZpZWQoKTtcbiAgICB9XG5cbiAgICAvLyBAcGFyYW0ge1NoYXBlW119IHNoYXBlc1xuICAgIGFkZFNoYXBlcyhzaGFwZXMpIHtcbiAgICAgICAgc2hhcGVzLmZvckVhY2gocyA9PiB0aGlzLmFkZFNoYXBlKHMpKTtcbiAgICB9XG5cbiAgICAvLyBAcGFyYW0ge1NoYXBlfSBzaGFwZVxuICAgIC8vIEByZXR1cm5zIHtib29sfSB0cnVlIGlmIHNoYXBlIHdhcyBmb3VuZC5cbiAgICBoYXNTaGFwZShzaGFwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGFwZXMuaW5kZXhPZihzaGFwZSkgIT09IC0xO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZXMgdGhlIGdpdmVuIHNoYXBlLlxuICAgIC8vICBAcmV0dXJucyB7Ym9vbH0gdHJ1ZSBpZiBzaGFwZSB3YXMgZm91bmQgYW5kIHJlbW92ZWQsIG90aGVyd2lzZSBmYWxzZS5cbiAgICByZW1vdmVTaGFwZShzaGFwZSkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuc2hhcGVzLmluZGV4T2Yoc2hhcGUpO1xuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zaGFwZXMuc3BsaWNlKGluZGV4LCAxKTtcblxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6IEVkaXRMYXllci5TSEFQRV9SRU1PVkVELCBzaGFwZTogc2hhcGV9KTtcblxuICAgICAgICB0aGlzLl9vbk1vZGlmaWVkKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIEBwYXJhbSB7U2hhcGVbXX0gc2hhcGVzXG4gICAgcmVtb3ZlU2hhcGVzKHNoYXBlcykge1xuICAgICAgICBzaGFwZXMuZm9yRWFjaChzID0+IHRoaXMucmVtb3ZlU2hhcGUocykpO1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLnNoYXBlcy5sZW5ndGggPSAwO1xuXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTogRWRpdExheWVyLkxBWUVSX0NMRUFSRUR9KTtcblxuICAgICAgICB0aGlzLl9vbk1vZGlmaWVkKCk7XG4gICAgfVxuXG4gICAgLy8gTXVzdCBiZSBjYWxsZWQgYWZ0ZXIgbW9kaWZpY2F0aW9ucyB0byB1cGRhdGUgdGhlIHNjZW5lLlxuICAgIHVwZGF0ZSgpIHtcblxuICAgICAgICAvLyBjbGVhciBzY2VuZVxuICAgICAgICB0aGlzLl9jbGVhclNjZW5lKCk7XG5cbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPHRoaXMuc2hhcGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzaGFwZSA9IHRoaXMuc2hhcGVzW2ldO1xuXG4gICAgICAgICAgICAvLyBTa2lwIGhpZGRlbiBzaGFwZXNcbiAgICAgICAgICAgIGlmICghc2hhcGUudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhcHBseSBvdmVycmlkZSBzdHlsZSBpZiBzcGVjaWZpZWRcbiAgICAgICAgICAgIGNvbnN0IG92ZXJyaWRlU3R5bGUgPSB0aGlzLl9nZXRPdmVycmlkZVN0eWxlKHNoYXBlKTtcblxuICAgICAgICAgICAgc2hhcGUuZHJhdyh0aGlzLmNvbnRleHQsIG92ZXJyaWRlU3R5bGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgYWxsIHNoYXBlcyBhcmUgcHJvY2Vzc2VkXG4gICAgICAgIHRoaXMuY29udGV4dC5mbHVzaEJ1ZmZlcigwLCB0cnVlKTtcblxuICAgICAgICAvLyBDdXJyZW50bHksIHdlIG9ubHkgZHJhdyB0byBvdmVybGF5IHNjZW5lcy4gV2UgbWF5IGdlbmVyYWxpemUgdGhhdCBpZiB3ZSB1c2UgaXQgZm9yIHBsYW5lcyBpbiAzRCBsYXRlci5cbiAgICAgICAgLy8gVGhlcmUncyBhbHNvIHRoZSBvcHRpb24gdG8gdXNlIHNjZW5lQWZ0ZXIgKHdoaWNoIGlzIGhlbHBmdWwgaWYgd2UgbmVlZCBtb3JlIGNvbnRyb2wgb3ZlciB0aGUgYmxlbmRpbmcgbWV0aG9kKVxuICAgICAgICAvLyBzbyBpbiB0aGF0IGNhc2UgaW52YWxpZGF0aW5nIG9ubHkgdGhlIG92ZXJsYXkgaXMgbm90IGVub3VnaCBmb3IgcmUtcmVuZGVyaW5nLlxuICAgICAgICB0aGlzLnZpZXdlci5pbXBsLmludmFsaWRhdGUodGhpcy5vcHRpb25zLnVzZVNjZW5lQWZ0ZXIsIGZhbHNlLCAhdGhpcy5vcHRpb25zLnVzZVNjZW5lQWZ0ZXIpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBDYW52YXNHaXptb3MsIGUuZy4sIHRvIHVwZGF0ZSBwb2x5Z29uIGdpem1vIHBvc2l0aW9uIGlmIGEgcG9seWdvbiBjaGFuZ2VkXG4gICAgICAgIHRoaXMudXBkYXRlQ2FudmFzR2l6bW9zKCk7XG4gICAgfVxuXG4gICAgdXBkYXRlQ2FudmFzR2l6bW9zKCkge1xuICAgICAgICBmb3IgKGxldCBpPTA7IGk8dGhpcy5jYW52YXNHaXptb3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzR2l6bW9zW2ldLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQHBhcmFtIHtDYW52YXNHaXptb0Jhc2V9IGdpem1vIC0gTXVzdCBpbXBsZW1lbnQgZ2l6bW8udXBkYXRlKCkgdG8gcmVzcG9uZCB0byBjaGFuZ2VzLlxuICAgIGFkZENhbnZhc0dpem1vKGdpem1vKSB7XG4gICAgICAgIHRoaXMuY2FudmFzR2l6bW9zLnB1c2goZ2l6bW8pO1xuICAgIH1cblxuICAgIC8vIEBwYXJhbSB7Q2FudmFzR2l6bW9CYXNlfSBnaXptb1xuICAgIHJlbW92ZUNhbnZhc0dpem1vKGdpem1vKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jYW52YXNHaXptb3MuaW5kZXhPZihnaXptbyk7XG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbnZhc0dpem1vcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXRWaWV3cG9ydCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld3BvcnQ7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJucyB0aGUgdG9wbW9zdCBzaGFwZSBjb250YWluaW5nIHRoZSBwb2ludCAoeCx5KVxuICAgIC8vICBAcGFyYW0ge251bWJlcn0gaGl0UmFkaXVzIC0gVXNlZCBmb3IgaGl0LXRlc3Qgb2YgdGhpbiBsaW5lLWZlYXR1cmVzLiBQb2ludHMgd2l0aGluIHRoaXMgcmFkaXVzIGFyb3VuZCBhIGxpbmUgYXJlIGNvbnNpZGVyZWQgYXMgaGl0cyAtIGV2ZW4gaWYgdGhlIGFjdHVhbCBsaW5lV2lkdGggaXMgc21hbGxlci5cbiAgICBoaXRUZXN0KHgsIHksIGhpdFJhZGl1cyA9IERlZmF1bHRMaW5lSGl0UmFkaXVzKSB7XG5cbiAgICAgICAgLy8gcHJvY2VzcyBzaGFwZXMgYmFja3dhcmRzIHRvIGZpbmQgdG9wbW9zdCBmaXJzdFxuICAgICAgICBmb3IgKGxldCBpPXRoaXMuc2hhcGVzLmxlbmd0aC0xOyBpPj0wOyBpLS0pIHtcbiAgICAgICAgICAgIGxldCBzaGFwZSA9IHRoaXMuc2hhcGVzW2ldO1xuXG4gICAgICAgICAgICAvLyBTa2lwIGhpZGRlbiBzaGFwZXNcbiAgICAgICAgICAgIGlmICghc2hhcGUudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBNaXRlckxpbmVzIHJlcXVpcmUgdG8gaGFuZGxlIGxpbmVXaWR0aCBhbmQgaGl0UmFkaXVzIGRpZmZlcmVudGx5XG4gICAgICAgICAgICBsZXQgaXNNaXRlcmxpbmUgICAgPSBzaGFwZS5zdHlsZS5pc01pdGVyTGluZTtcbiAgICAgICAgICAgIGxldCBtaXRlckxpbmVXaWR0aCA9IGlzTWl0ZXJsaW5lID8gdGhpcy4jZ2V0TGluZVdpZHRoSW5MYXllckNvb3JkcyhzaGFwZSkgOiAwO1xuXG4gICAgICAgICAgICBsZXQgcmFkaXVzTEM7XG4gICAgICAgICAgICBpZiAoIWlzTWl0ZXJsaW5lKSB7XG4gICAgICAgICAgICAgICAgLy8gQnkgZGVmYXVsdCwgaGl0UmFkaXVzIGRldGVybWluZWQgYmFzZWQgb24gbGluZVdpZHRoIG9yIGhpdFJhZGl1cyAoaWYgdGhlIGxpbmUgaXMgdG9vIHRoaW4gdG8gaGl0IG90aGVyd2lzZSlcbiAgICAgICAgICAgICAgICByYWRpdXNMQyA9IHRoaXMuZ2V0TGluZUhpdFJhZGl1cyhzaGFwZSwgaGl0UmFkaXVzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRm9yIG1pdGVyTGluZXMsIHdlIG11c3QgaGFuZGxlIGxpbmVXaWR0aCBhbmQgaGl0UmFkaXVzIHNlcGFyYXRlbHlcbiAgICAgICAgICAgICAgICBjb25zdCB1bml0c1BlclBpeGVsID0gdGhpcy5nZXRVbml0c1BlclBpeGVsKCk7XG4gICAgICAgICAgICAgICAgcmFkaXVzTEMgPSBoaXRSYWRpdXMgKiB1bml0c1BlclBpeGVsO1xuXG4gICAgICAgICAgICAgICAgLy8gQ29uc2lkZXJpbmcgaGl0UmFkaXVzIGlzIG9ubHkgbmVlZGVkIHRvIGtlZXAgdGhpbiBsaW5lcyBzZWxlY3RhYmxlLlxuICAgICAgICAgICAgICAgIC8vIENvbnNpZGVyaW5nIG1pdGVyTGluZVdpZHRoIGlzIG9ubHkgd29ydGggdGhlIGVmZm9ydCBmb3IgdGhpY2tlciBsaW5lcy5cbiAgICAgICAgICAgICAgICAvLyBTbywgd2UgdXNlIG9ubHkgb25lIG9mIHRoZSB0d28uXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyBBIGxpbmUgd2hvc2Ugd2lkdGggaXMgPmhpdFJhZGl1cyBpcyBjb25zaWRlcmVkIGFzIFwiYmlnIGVub3VnaCB0byBoaXQgd2l0aG91dCBleHRyYSB0b2xlcmFuY2VcIi5cbiAgICAgICAgICAgICAgICAvLyBOb3RlIHRoYXQgaXQncyBpbnRlbnRpb25hbCBpbiB0aGlzIGNhc2UgdGhhdCB3ZSBjb21wYXJlIHRoZSBsaW5lV2lkdGggd2l0aCB0aGUgcmFkaXVzLlxuICAgICAgICAgICAgICAgIC8vIEluIHRoZW9yeSwgd2UgY291bGQgdXNlIHRoZSBoYWxmLWxpbmVXaWR0aCBoZXJlLiBCdXQgc2luY2UgdGhlIGRlZmF1bHQgaGl0UmFkaXVzIGlzIHByZXR0eSBiaWcgKDEwcHgpIGFscmVhZHksXG4gICAgICAgICAgICAgICAgLy8gdGhpcyB3b3VsZCBzdGlsbCBpZ25vcmUgdGhlIGxpbmUgZW5kaW5ncyBmb3IgbGluZVdpZHRocyB0aGF0IGFyZSBub3QgcmVhbGx5IFwidGhpblwiIGFueW1vcmUuXG4gICAgICAgICAgICAgICAgaWYgKG1pdGVyTGluZVdpZHRoID4gcmFkaXVzTEMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzTEMgPSAwLjA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWl0ZXJMaW5lV2lkdGggPSAwLjA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBGb3IgYm94VGVzdHMsIHdlIGp1c3QgZXh0ZW5kIHRoZSByYWRpdXMgZm9yIG1pdGVyTGluZXMgdG9vLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFRPRE86IFN0cmljdGx5IHNwZWFraW5nLCB0aGlzIG1pZ2h0IGJlIGluc3VmZmljaWVudCBpbiB1Z2x5IGVkZ2UgY2FzZXMgaW5cbiAgICAgICAgICAgIC8vICAgICAgIHdoaWNoIGEgbWl0ZXItanVuY3Rpb24gb3Zlcmhvb3RzIHRoZSBidWZmZXJlZCBsaW5lcy4gQ291bGQgYmUgaW1wcm92ZWRcbiAgICAgICAgICAgIC8vICAgICAgIGlmIHdlIGNhbiBkZXRlcm1pbmUgYSBjb25zZXJ2YXRpdmUgaGl0UmFkaXVzIGZvciBtaXRlci1qdW5jdGlvbnMuXG4gICAgICAgICAgICBjb25zdCBib3hIaXRSYWRpdXMgPSByYWRpdXNMQyArIChtaXRlckxpbmVXaWR0aCB8fCAwKTtcblxuICAgICAgICAgICAgLy8gQ29tcHV0ZSBib3ggY2VudGVyZWQgYXQgKHgseSkgd2l0aCBnaXZlbiBoaXRSYWRpdXNcbiAgICAgICAgICAgIGNvbnN0IGhpdEJveCA9IHRoaXMudG1wX2JveC5tYWtlRW1wdHkoKTtcbiAgICAgICAgICAgIGhpdEJveC5taW4uc2V0KHggLSBib3hIaXRSYWRpdXMsIHkgLSBib3hIaXRSYWRpdXMpO1xuICAgICAgICAgICAgaGl0Qm94Lm1heC5zZXQoeCArIGJveEhpdFJhZGl1cywgeSArIGJveEhpdFJhZGl1cyk7XG5cbiAgICAgICAgICAgIC8vIGdldCAobGF0ZXN0KSBzaGFwZSBiYm94XG4gICAgICAgICAgICBzaGFwZS51cGRhdGVCQm94KCk7XG5cbiAgICAgICAgICAgIC8vIFNraXAgaWYgc2hhcGUgYm91bmRzIGFuZCBoaXRCb3VuZHMgZG9uJ3QgaW50ZXJzZWN0XG4gICAgICAgICAgICBpZiAoIXNoYXBlLmJib3guaW50ZXJzZWN0c0JveChoaXRCb3gpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzaGFwZS5oaXRUZXN0KHgsIHksIHJhZGl1c0xDLCBtaXRlckxpbmVXaWR0aCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hhcGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAjZ2V0TGluZVdpZHRoSW5MYXllckNvb3JkcyhzaGFwZSkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IHNoYXBlLnN0eWxlO1xuICAgICAgICBjb25zdCB1bml0c1BlclBpeGVsID0gdGhpcy5nZXRVbml0c1BlclBpeGVsKCk7XG4gICAgICAgIHJldHVybiBzdHlsZS5pc1NjcmVlblNwYWNlID8gdW5pdHNQZXJQaXhlbCAqIHN0eWxlLmxpbmVXaWR0aCA6IHN0eWxlLmxpbmVXaWR0aDtcbiAgICB9XG5cbiAgICAvLyBVc2VkIGZvciBsaW5lLWZlYXR1cmUgaGl0IHRlc3RzOlxuICAgIC8vIFdlIGNvbnNpZGVyIGEgcG9pbnQgcCB0byBiZSBcIm9uIGVkZ2UgZVwiIGlmIHAgaXMgd2l0aGluIGEgY2VydGFpbiByYWRpdXMgYXJvdW5kIGUuXG4gICAgLy8gVGhpcyByYWRpdXMgZGVwZW5kcyBvbiBzdHlsZSBhbmQgYSBjZXJ0YWluIG1pbi1kaXN0YW5jZSBpbiBwaXhlbHMgdXNlZCBmb3IgdGhpbiBsaW5lcy4gUmVzdWx0IGlzIGluIGxheWVyLWNvb3Jkcy5cbiAgICBnZXRMaW5lSGl0UmFkaXVzKHNoYXBlLCBoaXRSYWRpdXMgPSBEZWZhdWx0TGluZUhpdFJhZGl1cykge1xuXG4gICAgICAgIGNvbnN0IHVuaXRzUGVyUGl4ZWwgPSB0aGlzLmdldFVuaXRzUGVyUGl4ZWwoKTtcblxuICAgICAgICAvLyBHZXQgbGluZS13aWR0aCBpbiBsYXllciBjb29yZHNcbiAgICAgICAgbGV0IGxpbmVXaWR0aCA9IHRoaXMuI2dldExpbmVXaWR0aEluTGF5ZXJDb29yZHMoc2hhcGUpO1xuXG4gICAgICAgICAvLyBGb3IgdGhpbiBsaW5lcywgY29uc2lkZXIgaGl0cyBhcyBsb25nIGFzIHRoZXkgYXJlIHdpdGhpbiBtaW5QaXhlbHMgcmFkaXVzXG4gICAgICAgICByZXR1cm4gTWF0aC5tYXgoMC41ICogbGluZVdpZHRoLCBoaXRSYWRpdXMgKiB1bml0c1BlclBpeGVsKTtcbiAgICB9XG5cbiAgICAvLyBPcHRpb25hbDogU2V0cyBhIGNhbGxiYWNrIHRvIG92ZXJyaWRlIHRoZSBzdHlsZSBmb3IgZWl0aGVyIGFsbCBvciBhIHN1YnNldCBvZiBzaGFwZXMuXG4gICAgLy8gIEBwYXJhbSB7ZnVuY3Rpb24oU2hhcGUsIFN0eWxlKX0gbW9kaWZpZXIgLSBBIGNhbGxiYWNrIHRoYXQgdGFrZXMgYSBzaGFwZSBhcyBpbnB1dCBhbmQgcmV0dXJucyB1bmRlZmluZWQgKD1ubyBjaGFuZ2UpIG9yIGEgdmFsaWQgb3ZlcnJpZGUgc3R5bGUgb2JqZWN0LlxuICAgIGFkZFN0eWxlTW9kaWZpZXIobW9kaWZpZXIpIHtcbiAgICAgICAgdGhpcy5zdHlsZU1vZGlmaWVycy5wdXNoKG1vZGlmaWVyKTtcbiAgICAgICAgdGhpcy5fb25Nb2RpZmllZCgpO1xuICAgIH1cblxuICAgIHJlbW92ZVN0eWxlTW9kaWZpZXIobW9kaWZpZXIpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5zdHlsZU1vZGlmaWVycy5pbmRleE9mKG1vZGlmaWVyKTtcbiAgICAgICAgaWYgKGluZGV4ID09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdHlsZU1vZGlmaWVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB0aGlzLl9vbk1vZGlmaWVkKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIENvbnZlcnQgbGF5ZXIgY29vcmRpbmF0ZXMgdG8gY2FudmFzIGNvb3Jkcy5cbiAgICAvLyAgQHBhcmFtIHtWZWN0b3IyfFZlY3RvcjN9IFt0YXJnZXRdXG4gICAgbGF5ZXJUb0NhbnZhcyh4LCB5LCB0YXJnZXQgPSBuZXcgVEhSRUUuVmVjdG9yMigpKSB7XG5cbiAgICAgICAgLy8gZ2V0IHBvaW50IGluIExNViB3b3JsZCBjb29yZHNcbiAgICAgICAgY29uc3QgcFdvcmxkID0gdGhpcy50bXBfcFdvcmxkLnNldCh4LCB5LCAwKS5hcHBseU1hdHJpeDQodGhpcy5sYXllclRvV29ybGQpO1xuXG4gICAgICAgIC8vIEZvciBub3csIHdvcmxkQ29vcmRzLnh5IGlzIGlkZW50aWNhbCB3aXRoIGxheWVyIGNvb3Jkcy4gVGhpcyB3aWxsIGNoYW5nZSBvbmNlIHdlIGV4dGVuZCBpdCB0byBwbGFuZXMgdGhhdCBjYW4gYmUgZW1iZWRkZWQgaW50byAzRC5cbiAgICAgICAgbGV0IHJlcyA9IHRoaXMudmlld2VyLmltcGwud29ybGRUb0NsaWVudChwV29ybGQsIHRoaXMub3ZlcmxheUNhbWVyYSk7XG4gICAgICAgIHJldHVybiB0YXJnZXQuc2V0KHJlcy54LCByZXMueSwgMC4wKTsgLy8gU2V0IHogdG8gMCBpZiB0YXJnZXQgaXMgVmVjdG9yMy4gT3RoZXJ3aXNlLCB0aGUgcGFyYW0gaGFzIG5vIGVmZmVjdFxuICAgIH1cblxuICAgIC8vIE5vdGU6IFRoaXMgZnVuY3Rpb24gY3VycmVudGx5IGFzc3VtZXMgYSB1bmlmb3JtIHVuaXRQZXJQaXhlbCByYXRpby4gVGhpcyBtYXkgY2hhbmdlIGlmIHdlIGFkZCBzdXBwb3J0IGZvciBwcm9qZWN0ZWRcbiAgICAvLyAgICAgICBwbGFuZXMgaW4gM0QsIHdoZXJlIHBpeGVsUmF0aW8gbWF5IHZhcnkgYWNyb3NzIHRoZSBsYXllciBhbmQgbWF5IHJlcXVpcmUgZGlmZmVyZW50IHZhbHVlcyBpbiB4L3kgZGlyZWN0aW9uLlxuICAgIGdldFBpeGVsc1BlclVuaXQoKSB7XG4gICAgICAgIGNvbnN0IF93aW5kb3cgPSB0aGlzLmdldFdpbmRvdygpO1xuXG4gICAgICAgIC8vIGdldCBzY3JlZW4gcHJvamVjdGlvbnMgb2YgdHdvIHBvaW50cyBpbiBsYXllci1jb29yZHMgdGhhdCBoYXZlIHVuaXQtZGlzdGFuY2VcbiAgICAgICAgY29uc3QgcDAgPSB0aGlzLmxheWVyVG9DYW52YXMoMCwgMCwgdGhpcy50bXBfcDApO1xuICAgICAgICBjb25zdCBwMSA9IHRoaXMubGF5ZXJUb0NhbnZhcygxLCAwLCB0aGlzLnRtcF9wMSk7XG4gICAgICAgIHJldHVybiBwMC5kaXN0YW5jZVRvKHAxKSAvIF93aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICB9XG5cbiAgICBnZXRVbml0c1BlclBpeGVsKCkge1xuICAgICAgICByZXR1cm4gMS4wIC8gdGhpcy5nZXRQaXhlbHNQZXJVbml0KCk7XG4gICAgfVxuXG4gICAgLy8gQ29udmVydCBjYW52YXMgY29vcmRpbmF0ZXMgKGZyb20gaW5wdXQgZXZlbnRzKSB0byBsYXllciB2aWV3cG9ydCBjb29yZGluYXRlc1xuICAgIC8vICBAcGFyYW0ge1ZlY3RvcjJ8VmVjdG9yM30gW3RhcmdldF1cbiAgICBjYW52YXNUb0xheWVyKGNhbnZhc1gsIGNhbnZhc1ksIHRhcmdldCA9IG5ldyBUSFJFRS5WZWN0b3IyKCkpXG4gICAge1xuICAgICAgICAvLyBDb21wdXRlIFwicmF5IHRocm91Z2ggcGl4ZWxcIiBpbiB3b3JsZC1jb29yZHMuXG4gICAgICAgIGNvbnN0IHZwVmVjID0gdGhpcy52aWV3ZXIuaW1wbC5jbGllbnRUb1ZpZXdwb3J0KGNhbnZhc1gsIGNhbnZhc1kpO1xuICAgICAgICBjb25zdCByYXkgICA9IHRoaXMudmlld2VyLmltcGwudmlld3BvcnRUb1JheSh2cFZlYywgdGhpcy50bXBfcmF5LCB0aGlzLm92ZXJsYXlDYW1lcmEpO1xuXG4gICAgICAgIC8vIEludGVyc2VjdCByYXkgd2l0aCBwbGFuZSB0aGF0IHdlIGVkaXQgb25cbiAgICAgICAgY29uc3QgaW50ZXJzZWN0ID0gcmF5LmludGVyc2VjdFBsYW5lKHRoaXMucGxhbmUsIHRoaXMudG1wX3BXb3JsZCk7XG5cbiAgICAgICAgaWYgKCFpbnRlcnNlY3QpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IEZvciAzRCBzY2VuYXJpb3MsIHdlIG11c3QgcHJvcGVybHkgc3VwcG9ydCB0aGUgY2FzZSB0aGF0IGNhbnZhc1RvTGF5ZXIgZmFpbHMuXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0LnNldCgwLDApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29udmVydCBmcm9tIHdvcmxkIHRvIGxheWVyIGNvb3Jkc1xuICAgICAgICBpbnRlcnNlY3QuYXBwbHlNYXRyaXg0KHRoaXMud29ybGRUb0xheWVyKTtcblxuICAgICAgICAvLyBTZXQgM3JkLWNvbXBvbmVudCB0byAwIGZvciBWZWN0b3IzIHRhcmdldHMuIEZvciAyRCwgdGhlIHogcGFyYW0gaXMgaWdub3JlZFxuICAgICAgICByZXR1cm4gdGFyZ2V0LnNldChpbnRlcnNlY3QueCwgaW50ZXJzZWN0LnksIDApO1xuICAgIH1cblxuICAgIC8vIFJ1bnMgdGhlIGNhbGxiYWNrIGZvciBhbGwgc2hhcGVzIGluIHRoZSBsYXllciB0aGF0IG92ZXJsYXAgdGhlIGdpdmVuIGJib3hcbiAgICAvLyAgQHBhcmFtIHtCb3gyfSBiYm94XG4gICAgLy8gIEBwYXJhbSB7ZnVuY3Rpb24oU2hhcGUpfSBjYlxuICAgIGVudW1TaGFwZXMoYmJveCwgY2IpIHtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPHRoaXMuc2hhcGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc2hhcGUgPSB0aGlzLnNoYXBlc1tpXTtcblxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgYmJveCBpcyB1cC10by1kYXRlXG4gICAgICAgICAgICBzaGFwZS51cGRhdGVCQm94KCk7XG5cbiAgICAgICAgICAgIGlmIChiYm94LmludGVyc2VjdHNCb3goc2hhcGUuYmJveCkpIHtcbiAgICAgICAgICAgICAgICBjYihzaGFwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSdW5zIHRoZSBjYWxsYmFjayBmb3IgYWxsIHRyaWFuZ3VsYXRlZCAyRCBtZXNoZXMgY3JlYXRlZCBpbiB0aGUgbGFzdCB1cGRhdGUoKSBjYWxsLlxuICAgIGVudW1NZXNoZXMoYmJveCwgY2IpIHtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPHRoaXMuZ3JvdXAuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc2ggICAgPSB0aGlzLmdyb3VwLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgY29uc3QgbWVzaEJveCA9IG1lc2guZ2VvbWV0cnkuYm91bmRpbmdCb3g7XG5cbiAgICAgICAgICAgIC8vIE5vdGU6IFRoZSB3b3JsZE1hdHJpeCBpcyBub3QgdXNlZCBmb3IgdHJpYW5ndWxhdGVkIEVkaXQyRCBtZXNoZXMsIHNvIGl0IHdpbGwgYWx3YXlzIGJlIGlkZW50aXR5LiBPdGhlcndpc2UsXG4gICAgICAgICAgICAvLyAgICAgICB3ZSB3b3VsZCBuZWVkIHRvIGNvbXB1dGUgYSB3b3JsZC1ib3ggdXNpbmcgYXBwbHlNYXRyaXhXb3JsZCgpIGhlcmUuXG5cbiAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBtZXNoZXMgaGF2ZSBhIDNEIGJveCwgYnV0IHdlIGFyZSBvbmx5IGludGVyZXN0ZWQgaW4gMkQgY2hlY2suIFRoZXJlZm9yZSxcbiAgICAgICAgICAgIC8vIGl0J3MgaW1wb3J0YW50IHRvIGNhbGwgaW50ZXJzZWN0c0JveCBvbiB0aGUgaW5wdXQgYm94IGFuZCBub3Qgb24gdGhlIG1lc2guXG4gICAgICAgICAgICBpZiAoYmJveC5pbnRlcnNlY3RzQm94KG1lc2hCb3gpKSB7XG4gICAgICAgICAgICAgICAgY2IobWVzaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmaW5kU2hhcGVCeUlkKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNoYXBlcy5maW5kKHMgPT4gcy5pZCA9PSBpZCk7XG4gICAgfVxuXG4gICAgc2V0TWF0cml4KGxheWVyVG9Xb3JsZCkge1xuICAgICAgICB0aGlzLmxheWVyVG9Xb3JsZC5jb3B5KGxheWVyVG9Xb3JsZCk7XG4gICAgICAgIHRoaXMud29ybGRUb0xheWVyLmNvcHkobGF5ZXJUb1dvcmxkKS5pbnZlcnQoKTtcblxuICAgICAgICAvLyBVcGRhdGUgcHJvamVjdGlvbiBwbGFuZVxuICAgICAgICB0aGlzLl91cGRhdGVQbGFuZSgpO1xuICAgIH1cblxuICAgIC8vIEJ5IGRlZmF1bHQsIHRoZSB2aWV3ZXIgY3V0cGxhbmVzIGFyZSBhcHBsaWVkIHRvIEVkaXRMYXllcnMgYXMgd2VsbC4gVGhpcyBjYW4gYmUgdXNlZCwgZS5nLiwgdG8gY3JvcCB0aGVtLlxuICAgIC8vICBAcGFyYW0ge2Jvb2x9IGVuYWJsZWQgLSBJZiBmYWxzZSwgY3V0cGxhbmVzIGFyZSBpZ25vcmVkIGZvciBhbGwgbGF5ZXIgZ2VvbWV0cnkuXG4gICAgc2V0Q3V0UGxhbmVzRW5hYmxlZChlbmFibGVkID0gdHJ1ZSkge1xuICAgICAgICBpZiAoZW5hYmxlZCAhPSB0aGlzLmVuYWJsZUN1dHBsYW5lcykge1xuICAgICAgICAgICAgdGhpcy5lbmFibGVDdXRwbGFuZXMgPSBlbmFibGVkO1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vXG4gICAgLy8gLS0tIEludGVybmFsIGZ1bmN0aW9ucyAtLS1cbiAgICAvL1xuXG4gICAgLy8gcHJvY2VzcyBtZXNoRGF0YSBwcm9kdWNlZCBieSBMbXZDYW52YXNDb250ZXh0XG4gICAgX3Byb2Nlc3NNZXNoKG1lc2hEYXRhKSB7XG5cbiAgICAgICAgLy8gY3JlYXRlIEdlb21ldHJ5QnVmZmVyXG4gICAgICAgIHZhciBtZGF0YSA9IHsgbWVzaDogbWVzaERhdGEsIGlzMmQ6IHRydWUsIHBhY2tJZCA6IFwiMFwiLCBtZXNoSW5kZXg6IDAgfTtcbiAgICAgICAgdmFyIGdlb20gPSBBdXRvZGVzay5WaWV3aW5nLlByaXZhdGUuQnVmZmVyR2VvbWV0cnlVdGlscy5tZXNoVG9HZW9tZXRyeShtZGF0YSk7XG5cbiAgICAgICAgLy8gY3JlYXRlIDJEIG1hdGVyaWFsXG4gICAgICAgIC8vIE5vdGUgdGhhdCBpdCBpcyBlc3NlbnRpYWwgbm90IHRvIGFzc29jaWF0ZSB0aGUgbWF0ZXJpYWwgd2l0aGEgbW9kZWwuIE90aGVyd2lzZSxcbiAgICAgICAgLy8gdGhlIEVkaXRTaGFwZXMgd2lsbCBkaXNhcHBlYXIgaWYgbW9kZWwgbGF5ZXIgMCBpcyBzd2l0Y2hlZCBvZmYuXG4gICAgICAgIGNvbnN0IG1hdG1hbiAgID0gdGhpcy52aWV3ZXIuaW1wbC5nZXRNYXRlcmlhbHMoKTtcbiAgICAgICAgY29uc3QgbWF0TmFtZSAgPSBtYXRtYW4uY3JlYXRlMkRNYXRlcmlhbChudWxsLCBtZXNoRGF0YS5tYXRlcmlhbCk7XG4gICAgICAgIGNvbnN0IG1hdGVyaWFsID0gbWF0bWFuLmZpbmRNYXRlcmlhbChudWxsLCBtYXROYW1lKTtcblxuICAgICAgICAvLyBPcHRpb25hbDogSWdub3JlIGN1dHBsYW5lc1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlQ3V0cGxhbmVzKSB7XG4gICAgICAgICAgICAvLyBEbyBub3QgYXBwbHkgYW55IGN1dHBsYW5lcyB0byB0aGUgZ2VvbWV0cnlcbiAgICAgICAgICAgIG1hdGVyaWFsLmN1dHBsYW5lcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIG1hdGVyaWFsLmRvTm90Q3V0ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1lc2ggPSBuZXcgVEhSRUUuTWVzaChnZW9tLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgLy8gU2V0IG1lc2ggbWF0cml4XG4gICAgICAgIG1lc2gubWF0cml4ID0gdGhpcy5sYXllclRvV29ybGQ7XG4gICAgICAgIG1lc2gubWF0cml4QXV0b1VwZGF0ZSA9IGZhbHNlOyAvLyBtYWtlIHN1cmUgbWF0cml4IGlzIG5vdCBvdmVyd3JpdHRlbiB3aXRoaW4gdXBkYXRlTWF0cml4V29ybGQoKSBsYXRlclxuXG4gICAgICAgIHRoaXMuZ3JvdXAuY2hpbGRyZW4ucHVzaChtZXNoKTtcbiAgICB9XG5cbiAgICBfb25Nb2RpZmllZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuYXV0b1VwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFwcGx5IG9uZSBvciBtb3JlIHN0eWxlIG1vZGlmaWVyc1xuICAgIF9nZXRPdmVycmlkZVN0eWxlKHNoYXBlKSB7XG4gICAgICAgIGxldCBzdHlsZSA9IHNoYXBlLnN0eWxlO1xuICAgICAgICBmb3IgKGxldCBpPTA7IGk8dGhpcy5zdHlsZU1vZGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IG1vZCA9IHRoaXMuc3R5bGVNb2RpZmllcnNbaV07XG4gICAgICAgICAgICBzdHlsZSA9IG1vZChzaGFwZSwgc3R5bGUpIHx8IHN0eWxlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHlsZTtcbiAgICB9XG5cbiAgICAvLyBEaXNwb3NlIGFsbCBzaGFwZXMgZ2VuZXJhdGVkIGJ5IHRoaXMgbGF5ZXIuXG4gICAgX2NsZWFyU2NlbmUoKSB7XG5cbiAgICAgICAgLy8gRGlzcG9zZSBhbnkgR1BVIHJlc291cmNlcyBmb3IgcHJldmlvdXMgb3V0cHV0IGdlb21ldHJ5XG4gICAgICAgIC8vIE5vdGUgdGhhdCB3ZSBjb25zdHJ1Y3QgdGhlIHNjZW5lIGFzIGEgZmxhdCBsaXN0IG9mIG1lc2hlcyAoc2VlIF9wcm9jZXNzTWVzaCkuIFNvLCB3ZSBkb24ndCBuZWVkIGEgZ2VuZXJpYyB0cmF2ZXJzYWwgaGVyZS5cbiAgICAgICAgY29uc3QgbWVzaGVzID0gdGhpcy5ncm91cC5jaGlsZHJlbjtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgbWVzaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbWVzaCA9IG1lc2hlc1tpXTtcbiAgICAgICAgICAgIG1lc2guZ2VvbWV0cnkuZGlzcG9zZSgpO1xuXG4gICAgICAgICAgICAvLyBUT0RPOiBXZSBoYXZlIHRvIHRha2UgY2FyZSB0byBkaXNwb3NlIG1hdGVyaWFscyBoZXJlIGFzIHdlbGwuIEhvd2V2ZXIsIGp1c3QgZGlzcG9zaW5nIG1hdGVyaWFscyBoZXJlIGFzIHdlbGwgd291bGQgcHJvZHVjZSBhIGNvdXBsZSBvZiBpc3N1ZXM6XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gIDEuIE1hdGVyaWFsTWFuYWdlciBjYWNoZXMgbWF0ZXJpYWxzIGJhc2VkIG9uIHByb3BlcnRpZXMuIFNvLCB3ZSBjYW5ub3Qgc2FmZWx5IGFzc3VtZSB0aGF0IHRoZSBtYXRlcmlhbHMgYXJlIHNvbGVseSB1c2VkIGJ5IG91cnNlbHZlcy5cbiAgICAgICAgICAgIC8vICAgICA9PiBNYXRlcmlhbE1hbmFnZXIgY3VycmVudGx5IG9ubHkgYWxsb3dzIG1vZGVscyB0byBvd24gMkQgbWF0ZXJpYWxzLiBXZSBoYXZlIHRvIGdlbmVyYWxpemUgaXQgdG8gc3VwcG9ydCBcIm93bmVySURzXCIgc29cbiAgICAgICAgICAgIC8vICAgICAgICB0aGF0IHdlIGNhbiBlbnN1cmUgdGhhdCB0aGUgbWF0ZXJpYWxzIGFyZSBvd25lZCBieSB0aGlzIGxheWVyLlxuICAgICAgICAgICAgLy8gIDIuIFJlY29tcGlsaW5nIHNoYWRlcnMgb24gZWFjaCB1cGRhdGUgd291bGQgYmUgYSB3YXN0ZS4gU28gd2Ugd2lsbCBuZWVkIHNvbWUgY2FjaGluZy5cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdyb3VwLmNoaWxkcmVuLmxlbmd0aCA9IDA7XG4gICAgfVxuXG4gICAgLy8gT25seSBuZWVkZWQgZm9yIDNEIHNjZW5lc1xuICAgIF91cGRhdGVQbGFuZSgpIHtcbiAgICAgICAgLy8gVGhlIGxheWVyIGdlb21ldHJ5IGl0c2VsZiBpcyBpbiB0aGUge3o9MH0gcGxhbmVcbiAgICAgICAgdGhpcy5wbGFuZS5ub3JtYWwuc2V0KDAsMCwxKTtcbiAgICAgICAgdGhpcy5wbGFuZS5jb25zdGFudCA9IDAuMDtcblxuICAgICAgICAvLyBUcmFuc2Zvcm0gcGxhbmUgdG8gd29ybGQtY29vcmRzXG4gICAgICAgIHRoaXMucGxhbmUuYXBwbHlNYXRyaXg0KHRoaXMubGF5ZXJUb1dvcmxkKTtcbiAgICB9XG5cbiAgICAvLyBVc2VkIGZvciBwcm9qZWN0aW5nIC8gdW5wcm9qZWN0aW5nIG92ZXJsYXkgZWxlbWVudHMuXG4gICAgc2V0T3ZlcmxheUNhbWVyYShjYW1lcmEpIHtcbiAgICAgICAgdGhpcy5vdmVybGF5Q2FtZXJhID0gY2FtZXJhO1xuICAgIH1cbn1cblxuYXYuR2xvYmFsTWFuYWdlck1peGluLmNhbGwoRWRpdExheWVyLnByb3RvdHlwZSk7XG5cbkVkaXRMYXllci5TSEFQRV9BRERFRCA9ICdzaGFwZUFkZGVkJztcbkVkaXRMYXllci5TSEFQRV9SRU1PVkVEID0gJ3NoYXBlUmVtb3ZlZCc7XG5FZGl0TGF5ZXIuTEFZRVJfQ0xFQVJFRCA9ICdsYXllckNsZWFyZWQnO1xuIl0sIm5hbWVzIjpbIm5leHRMYXllcklkIiwiRGVmYXVsdExpbmVIaXRSYWRpdXMiLCJhdiIsIkF1dG9kZXNrIiwiVmlld2luZyIsIkVkaXRMYXllciIsImNvbnN0cnVjdG9yIiwidmlld2VyIiwib3B0aW9ucyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsIkV2ZW50RGlzcGF0Y2hlciIsInByb3RvdHlwZSIsImFwcGx5IiwiZ3JvdXAiLCJUSFJFRSIsIkdyb3VwIiwidXNlU2NlbmVBZnRlciIsInNjZW5lQWZ0ZXIiLCJhZGQiLCJzY2VuZSIsIlNjZW5lIiwic2hhcGVzIiwiY2FudmFzR2l6bW9zIiwiaWQiLCJmb250RW5naW5lIiwidG9QYWdlVW5pdHMiLCJkdW1teVZpZXdwb3J0Iiwid2lkdGgiLCJoZWlnaHQiLCJjb250ZXh0IiwiRXh0ZW5zaW9ucyIsIkNvbXBHZW9tIiwiTG12Q2FudmFzQ29udGV4dCIsIl9wcm9jZXNzTWVzaCIsImJpbmQiLCJhZGRDb250ZXh0Q3VycmVudFRyYW5zZm9ybSIsImNhbnZhc0NvbnRleHQiLCJsaW5lQ2FwIiwibGluZUpvaW4iLCJzZXRHbG9iYWxNYW5hZ2VyIiwiZ2xvYmFsTWFuYWdlciIsImF1dG9VcGRhdGUiLCJzdHlsZU1vZGlmaWVycyIsIm9uQ2FtZXJhQ2hhbmdlIiwidXBkYXRlQ2FudmFzR2l6bW9zIiwiYWRkRXZlbnRMaXN0ZW5lciIsIkNBTUVSQV9DSEFOR0VfRVZFTlQiLCJWSUVXRVJfUkVTSVpFX0VWRU5UIiwic2V0VGVzc1BhcmFtcyIsIm51bUl0ZXJhdGlvbnMiLCJtaW5TZWdMZW5GcmFjdGlvbiIsImxheWVyVG9Xb3JsZCIsIk1hdHJpeDQiLCJ3b3JsZFRvTGF5ZXIiLCJ0bXBfcFdvcmxkIiwiVmVjdG9yMyIsInRtcF9wMCIsIlZlY3RvcjIiLCJ0bXBfcDEiLCJ0bXBfcmF5IiwiUmF5IiwidG1wX2JveCIsIkJveDIiLCJpczNkIiwicGxhbmUiLCJQbGFuZSIsIl91cGRhdGVQbGFuZSIsImVuYWJsZUN1dHBsYW5lcyIsIm92ZXJsYXlDYW1lcmEiLCJkdG9yIiwiX3RoaXMkY29udGV4dCIsImRlc3Ryb3kiLCJfY2xlYXJTY2VuZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRTaGFwZSIsInNoYXBlIiwicHVzaCIsImRpc3BhdGNoRXZlbnQiLCJ0eXBlIiwiU0hBUEVfQURERUQiLCJfb25Nb2RpZmllZCIsImFkZFNoYXBlcyIsImZvckVhY2giLCJzIiwiaGFzU2hhcGUiLCJpbmRleE9mIiwicmVtb3ZlU2hhcGUiLCJpbmRleCIsInNwbGljZSIsIlNIQVBFX1JFTU9WRUQiLCJyZW1vdmVTaGFwZXMiLCJjbGVhciIsIkxBWUVSX0NMRUFSRUQiLCJ1cGRhdGUiLCJpIiwidmlzaWJsZSIsIm92ZXJyaWRlU3R5bGUiLCJfZ2V0T3ZlcnJpZGVTdHlsZSIsImRyYXciLCJmbHVzaEJ1ZmZlciIsImltcGwiLCJpbnZhbGlkYXRlIiwiYWRkQ2FudmFzR2l6bW8iLCJnaXptbyIsInJlbW92ZUNhbnZhc0dpem1vIiwiZ2V0Vmlld3BvcnQiLCJ2aWV3cG9ydCIsImhpdFRlc3QiLCJ4IiwieSIsImhpdFJhZGl1cyIsImlzTWl0ZXJsaW5lIiwic3R5bGUiLCJpc01pdGVyTGluZSIsIm1pdGVyTGluZVdpZHRoIiwiZ2V0TGluZVdpZHRoSW5MYXllckNvb3JkcyIsInJhZGl1c0xDIiwiZ2V0TGluZUhpdFJhZGl1cyIsInVuaXRzUGVyUGl4ZWwiLCJnZXRVbml0c1BlclBpeGVsIiwiYm94SGl0UmFkaXVzIiwiaGl0Qm94IiwibWFrZUVtcHR5IiwibWluIiwic2V0IiwibWF4IiwidXBkYXRlQkJveCIsImJib3giLCJpbnRlcnNlY3RzQm94IiwiI2dldExpbmVXaWR0aEluTGF5ZXJDb29yZHMiLCJpc1NjcmVlblNwYWNlIiwibGluZVdpZHRoIiwiTWF0aCIsImFkZFN0eWxlTW9kaWZpZXIiLCJtb2RpZmllciIsInJlbW92ZVN0eWxlTW9kaWZpZXIiLCJsYXllclRvQ2FudmFzIiwidGFyZ2V0IiwicFdvcmxkIiwiYXBwbHlNYXRyaXg0IiwicmVzIiwid29ybGRUb0NsaWVudCIsImdldFBpeGVsc1BlclVuaXQiLCJfd2luZG93IiwiZ2V0V2luZG93IiwicDAiLCJwMSIsImRpc3RhbmNlVG8iLCJkZXZpY2VQaXhlbFJhdGlvIiwiY2FudmFzVG9MYXllciIsImNhbnZhc1giLCJjYW52YXNZIiwidnBWZWMiLCJjbGllbnRUb1ZpZXdwb3J0IiwicmF5Iiwidmlld3BvcnRUb1JheSIsImludGVyc2VjdCIsImludGVyc2VjdFBsYW5lIiwiZW51bVNoYXBlcyIsImNiIiwiZW51bU1lc2hlcyIsImNoaWxkcmVuIiwibWVzaCIsIm1lc2hCb3giLCJnZW9tZXRyeSIsImJvdW5kaW5nQm94IiwiZmluZFNoYXBlQnlJZCIsImZpbmQiLCJzZXRNYXRyaXgiLCJjb3B5IiwiaW52ZXJ0Iiwic2V0Q3V0UGxhbmVzRW5hYmxlZCIsImVuYWJsZWQiLCJtZXNoRGF0YSIsIm1kYXRhIiwiaXMyZCIsInBhY2tJZCIsIm1lc2hJbmRleCIsImdlb20iLCJQcml2YXRlIiwiQnVmZmVyR2VvbWV0cnlVdGlscyIsIm1lc2hUb0dlb21ldHJ5IiwibWF0bWFuIiwiZ2V0TWF0ZXJpYWxzIiwibWF0TmFtZSIsImNyZWF0ZTJETWF0ZXJpYWwiLCJtYXRlcmlhbCIsImZpbmRNYXRlcmlhbCIsImN1dHBsYW5lcyIsImRvTm90Q3V0IiwiTWVzaCIsIm1hdHJpeCIsIm1hdHJpeEF1dG9VcGRhdGUiLCJtb2QiLCJtZXNoZXMiLCJkaXNwb3NlIiwibm9ybWFsIiwiY29uc3RhbnQiLCJzZXRPdmVybGF5Q2FtZXJhIiwiY2FtZXJhIiwiR2xvYmFsTWFuYWdlck1peGluIiwiY2FsbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Edit2D/EditLayer.js\n");

/***/ }),

/***/ "./extensions/Edit2D/EditShapes.js":
/*!*****************************************!*\
  !*** ./extensions/Edit2D/EditShapes.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Circle: () => (/* binding */ Circle),\n/* harmony export */   EdgeType: () => (/* binding */ EdgeType),\n/* harmony export */   EllipseArcParams: () => (/* binding */ EllipseArcParams),\n/* harmony export */   LoopType: () => (/* binding */ LoopType),\n/* harmony export */   Path: () => (/* binding */ Path),\n/* harmony export */   PolyBase: () => (/* binding */ PolyBase),\n/* harmony export */   PolyIndex: () => (/* binding */ PolyIndex),\n/* harmony export */   Polygon: () => (/* binding */ Polygon),\n/* harmony export */   PolygonPath: () => (/* binding */ PolygonPath),\n/* harmony export */   Polyline: () => (/* binding */ Polyline),\n/* harmony export */   PolylinePath: () => (/* binding */ PolylinePath),\n/* harmony export */   Shape: () => (/* binding */ Shape),\n/* harmony export */   ShapeWrapper: () => (/* binding */ ShapeWrapper),\n/* harmony export */   Style: () => (/* binding */ Style),\n/* harmony export */   runPath: () => (/* binding */ runPath)\n/* harmony export */ });\n/* harmony import */ var _Math2D_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Math2D.js */ \"./extensions/Edit2D/Math2D.js\");\n/* harmony import */ var _Svg_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Svg.js */ \"./extensions/Edit2D/Svg.js\");\n/* harmony import */ var _LoopContainment_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LoopContainment.js */ \"./extensions/Edit2D/LoopContainment.js\");\n/* harmony import */ var _MSDF_Vector2__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../MSDF/Vector2 */ \"./extensions/MSDF/Vector2.js\");\n\n\n\n\n\n\nlet nextShapeId = 1;\n\nconst av = Autodesk.Viewing;\n\nconst toColor = (r, g, b) => {\n  return \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\n};\n\nconst cloneVectorArray = (src) => {\n  return src.map((p) => {return { x: p.x, y: p.y };});\n};\n\n// Default arc tessellation params that we use for area computations. (see Bezier.js)\n// We use smaller min segment length than for drawing, because the DefaultTessParams would cause too inaccurate measurements.\n// TODO: Replace by more accurate and faster analytic computation to replace brute-force tesselation completely.\nconst AreaTessParam = {\n  numIterations: 100,\n  minSegLenFraction: 0.01\n};\n\nconst tmpVec3 = new THREE.Vector3();\nconst tmpVec3_2 = new THREE.Vector3();\nconst tmpBox2 = new THREE.Box2();\nconst tmpVec2 = new THREE.Vector2();\n\nclass Style {\n\n  /**\n   * Creates a new Style for the Edit 2D tools.\n   * @param {object}  [params]             - various style values to overwrite the default style.\n   * @param {string}  [params.color]       - sets the color for the line and fill area\n   * @param {number}  [params.alpha]       - sets the alpha value for the line and fill area\n   * @param {string}  [params.lineColor]   - sets the color for the line\n   * @param {number}  [params.lineAlpha]   - sets the alpha value for the line\n   * @param {number}  [params.lineWidth]   - sets the line width for the line.\n   * @param {boolean} [params.isMiterLine] - if true, creates miter joints instead of rounded caps.\n   * @param {number}  [params.lineStyle]   - sets the style of the line\n   * @param {string}  [params.fillColor]   - sets the color for the fill area\n   * @param {number}  [params.fillAlpha]   - sets the alpha value for the fill area\n   */\n  constructor() {let params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.lineColor = params.lineColor || params.color || \"rgb(0,0,128)\";\n    this.lineAlpha = params.lineAlpha !== undefined ? params.lineAlpha : params.alpha !== undefined ? params.alpha : 1.0;\n    this.lineWidth = params.lineWidth !== undefined ? params.lineWidth : 3.0;\n    this.isMiterLine = params.isMiterLine !== undefined && this.lineWidth > 0 && params.isMiterLine;\n\n    this.fillColor = params.fillColor || params.color || \"rgb(0,0,128)\";\n    this.fillAlpha = params.fillAlpha !== undefined ? params.fillAlpha : params.alpha !== undefined ? params.alpha : 0.2;\n\n    // lineStyle is an index into a list of dash/dot patterns defined in See LineStyleDef.js.\n    // Examples:\n    //   0:  Solid line:    ______________\n    //   10: Dashes long:   __ __ __ __ __\n    //   11: Dashes short:  _ _ _ _ _ _ _\n    //   12: Dashes longer: ___ ___ ___ ___\n    //   16: Dots:          . . . . . . .\n    //   17: Dots dense:    ..............\n    //   18: Dots sparse:   .  .  .  .  .\n    this.lineStyle = params.lineStyle || 0;\n\n    // By default, we interpret line widths in screen-space\n    this.isScreenSpace = params.isScreenSpace !== undefined ? params.isScreenSpace : true;\n    this.compositeOperation = 'source-over';\n  }\n\n  // Components r,b,g are in [0,255]\n  setFillColor(r, g, b) {\n    this.fillColor = toColor(r, g, b);\n  }\n\n  setLineColor(r, g, b) {\n    this.lineColor = toColor(r, g, b);\n  }\n\n  clone() {\n    return new Style().copy(this);\n  }\n\n  copy(from) {\n    this.lineColor = from.lineColor;\n    this.lineAlpha = from.lineAlpha;\n    this.lineWidth = from.lineWidth;\n    this.isMiterLine = from.isMiterLine;\n    this.fillColor = from.fillColor;\n    this.fillAlpha = from.fillAlpha;\n    this.lineStyle = from.lineStyle;\n    this.isScreenSpace = from.isScreenSpace;\n    this.compositeOperation = from.compositeOperation;\n    return this;\n  }\n}\n\nStyle.toColor = toColor;\n\nconst DefaultStyle = new Style();\n\n// Add all points to given bbox.\nconst addPointsToBBox = (points, dstBox) => {\n  for (let i = 0; i < points.length; i++) {\n    dstBox.expandByPoint(points[i]);\n  }\n};\n\nclass Shape extends av.EventDispatcher {\n  constructor() {let style = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DefaultStyle.clone();\n    super();\n\n    this.style = style;\n\n    // assign unique id\n    this.id = nextShapeId++;\n\n    this.bbox = new THREE.Box2();\n    this.bboxDirty = true;\n\n    // If false, it is skipped by EditLayer traversals\n    this.visible = true;\n\n    // whether users can move this shape by clicking and dragging.\n    this.movable = true;\n\n    // whether users can select this shape. If false, clicks on this shape will not select it, and by consequence it\n    // won't be editable either.\n    this.selectable = true;\n\n    // Should be set by creator by something more descriptive.\n    this.name = this.id.toString();\n  }\n\n  // Must be provided by derivaties\n  draw( /*ctx, overrideStyle*/) {}\n  hitTest( /*x, y, hitRadius*/) {} // hitRadius is a distance in layer-coords used for line feature hit-tests.\n\n  move( /*dx, dy*/) {return this;}\n\n  // Apply a transform to each point. (assuming z=0)\n  // @param {Matrix4}\n  applyMatrix4(matrix) {return this;}\n\n  clone() {\n    return new Shape().copy(this);\n  }\n\n  copy(from) {\n    this.style = from.style.clone();\n    return this;\n  }\n\n  computeBBox() {\n    console.error(\"Must be implemented by derived class.\");\n  }\n\n  modified() {\n    this.bboxDirty = true;\n    this.fireEvent({ type: Shape.Events.MODIFIED });\n  }\n\n  updateBBox() {\n    if (this.bboxDirty) {\n      this.computeBBox();\n      this.bboxDirty = false;\n    }\n  }\n\n  // Return bbox while making sure that it's up-to-date.\n  getBBox() {\n    this.updateBBox();\n    return this.bbox;\n  }\n\n  // @param {string}  svg - e.g. '<path d=\"M 13,4 L 14,4\"/>'\n  static fromSVG(svg) {\n    return _Svg_js__WEBPACK_IMPORTED_MODULE_1__.Svg.fromSvg(svg);\n  }\n\n  // Convert to SVG style string, e.g., '<path d=\"M 13,4 L 14,4\"/>'\n  // See Svg.toSvg() comment for options.\n  //\n  // Note: The digits param is deprecated and only exists for legacy reasons.\n  //       Set digits via options.digits instead.\n  toSVG(options, digits) {\n    return _Svg_js__WEBPACK_IMPORTED_MODULE_1__.Svg.toSvg(this, options, digits);\n  }\n\n  // Converts shape into a DOM element (usually a <path>).\n  //  @param {Object}\n  //  @param {bool}   [options.exportStyle=true]\n  createSvgShape(options) {\n    return _Svg_js__WEBPACK_IMPORTED_MODULE_1__.Svg.toSvgElement(this, options);\n  }\n\n  setVisible(visible) {\n    this.visible = visible;\n  }\n}\n\nShape.Events = {\n  MODIFIED: 'modified'\n};\n\nav.GlobalManagerMixin.call(Shape.prototype);\n\nconst LoopType = {\n  Empty: 0, // Loop is empty or does not exist\n  Inner: 1,\n  Outer: 2,\n  Overlapping: 3 // Loop is intersecting itself or other loops\n};\n\n// Common base class for Polygons and Polylines\nclass PolyBase extends Shape {\n\n  constructor() {let points = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;let style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DefaultStyle.clone();\n    super(style);\n\n    // Array of Array of points, each represented as an object {x, y}\n    // By default, we start with a single loop/chain\n    this._loops = points ? [points] : [];\n\n    // Set by derived classes\n    this.isClosed = undefined;\n\n    // Computed on-demand: Provides extra information about how loops are nested.\n    this._loopInfos = null;\n  }\n\n  // For backward compatibility\n  get points() {\n    // Create empty loop 0 if needed\n    return this._loops[0] || (this._loops[0] = []);\n  }\n\n  get loopCount() {\n    return this._loops.length;\n  }\n\n  // acquire a number of additional points in the given loop. Each has initial coords (0,0)\n  allocPoints(numPoints) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    for (let i = 0; i < numPoints; ++i) {\n      this.addPoint(0, 0, loopIndex);\n    }\n    return this;\n  }\n\n  isPolygon() {return this.isClosed;}\n  isPolyline() {return !this.isClosed;}\n\n  isPath() {\n    return this instanceof Path;\n  }\n\n  addPoint(x, y) {let loopIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    // get or create loop\n    const loop = this._loops[loopIndex] || (this._loops[loopIndex] = []);\n\n    // add point to loop\n    const point = { x, y };\n    loop.push(point);\n    this.modified();\n    return point;\n  }\n\n  getPoint(index) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;let target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new THREE.Vector2();\n\n    // Legacy fallback (deprecated): This can be removed as soon as no code\n    // is passing a target vector without a loop index\n    if (typeof loopIndex === 'object') {\n      target = loopIndex;\n      loopIndex = 0;\n    }\n\n    return target.copy(this._loops[loopIndex][index]);\n  }\n\n  removePoint(index) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    this._loops[loopIndex].splice(index, 1);\n  }\n\n  updatePoint(index, x, y) {let loopIndex = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    let p = this._loops[loopIndex][index];\n    p.x = x;\n    p.y = y;\n    this.modified();\n  }\n\n  insertPoint(index, p) {let loopIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    this._loops[loopIndex].splice(index, 0, p);\n  }\n\n  get length() {\n    console.warn('poly.length is deprecated and will be removed. Please use poly.vertexCount property instead.');\n    return this.points.length;\n  }\n\n  // for backwards compatibility\n  get vertexCount() {\n    return this.points.length;\n  }\n\n  // Returns 0 if a loop is empty or does not exist.\n  getVertexCount() {let loopIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    // Array may not exist yet if no vertices were added to the loop yet.\n    const loop = this._loops[loopIndex];\n    return loop ? loop.length : 0;\n  }\n\n  // Reset back to a single empty loop\n  clear() {\n    this._loops = [];\n    this.modified();\n  }\n\n  // Enumerate all edges (a,b).\n  //  @param {function(a, b, ai, bi)} cb - For each edge, we trigger cb(a, b, ai, bi), where (a,b) are the points and (ai, bi) the indices of the edge.\n  //                                       If cb() returns true, the traversal stops.\n  enumEdges(cb) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n    // get edge count\n    const edgeCount = this.getEdgeCount(loopIndex);\n\n    // check for each edge whether p is close to it.\n    for (let i = 0; i < edgeCount; i++) {\n      // get indices\n      const ai = i;\n      const bi = this.nextIndex(i, loopIndex);\n\n      // get points\n      const a = this.getPoint(ai, loopIndex);\n      const b = this.getPoint(bi, loopIndex);\n\n      // pass all to cb\n      const stop = cb(a, b, ai, bi);\n\n      // allow early out\n      if (stop) {\n        return;\n      }\n    }\n  }\n\n  /**\n   * Special-case stuff for miterLine hit-testing\n   * @param {Vector2} p         - Point to test\n   * @param {Vector2} a         - First edge point\n   * @param {Vector2} b         - Second edge point\n   * @param {number}  ai        - Index of the first edge point\n   * @param {number}  bi        - Index of the second edge point\n   * @param {number}  loopIndex - Which loop contains the edge\n   * @param {number}  precision - Tolerance for hit-testing\n   * @param {number}  lineWidth - Width of the line\n   * @returns {boolean} - Whether the point hits the line\n   */\n  #isPointOnMiterEdge(p, a, b, ai, bi, loopIndex, precision, lineWidth) {\n\n    // Check if p is on the \"inner part\" of the edge (a,b), not considering any adjacent junctions.\n    if (_Math2D_js__WEBPACK_IMPORTED_MODULE_0__.Math2D.pointOnMiterLineSegment(p, a, b, lineWidth, precision)) {\n      return true;\n    }\n\n    // check if there are points before/after the edge\n    const prevIndex = this.prevIndex(ai, loopIndex);\n    const nextIndex = this.nextIndex(bi, loopIndex);\n    const prevExist = prevIndex !== -1;\n    const nextExist = nextIndex !== -1;\n    const prevPoint = prevExist && this.getPoint(prevIndex);\n    const nextPoint = nextExist && this.getPoint(nextIndex);\n\n    const onPrevJunction = prevPoint && _Math2D_js__WEBPACK_IMPORTED_MODULE_0__.Math2D.pointOnMiterLineJunction(p, prevPoint, a, b, lineWidth, precision);\n    const onNextJunction = nextPoint && _Math2D_js__WEBPACK_IMPORTED_MODULE_0__.Math2D.pointOnMiterLineJunction(p, a, b, nextPoint, lineWidth, precision);\n    return onPrevJunction || onNextJunction;\n  }\n\n  /** Given a polyline or polygon, it checks if the position is close to any edge of the shape.\n   * If so, it returns the index of that edge, otherwise -1.\n   * All values are in layer coords.\n   *  @param {Vector2} p         - point to test\n   *  @param {number}  precision - tolerance for hit-testing\n   *  @param {number}  loopIndex - which loop to test\n   *  @param {number}  [miterLineWidth] - optional: assume miterLine width for the edges.\n   */\n  findEdgeIndex(p, precision) {let loopIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;let miterLineWidth = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n    let edgeIndex = -1;\n\n    let onEdge = (a, b) => _Math2D_js__WEBPACK_IMPORTED_MODULE_0__.Math2D.isPointOnEdge(p, a, b, precision);\n\n    // For miterLines, we need an extended special-handling hitTest that we don't want to use by default\n    const needsMiterLines = miterLineWidth > 0;\n    if (needsMiterLines) {\n      onEdge = (a, b, ai, bi) => this.#isPointOnMiterEdge(p, a, b, ai, bi, loopIndex, precision, miterLineWidth);\n    }\n\n    // Callback to find edge containing p\n    const findEdgeCb = (a, b, ai, bi) => {\n\n      // If edge contains p, store its edge index\n      const containsP = onEdge(a, b, ai, bi);\n      if (containsP) {\n        edgeIndex = ai;\n      }\n\n      // Stop on success\n      return containsP;\n    };\n\n    this.enumEdges(findEdgeCb, loopIndex);\n    return edgeIndex;\n  }\n\n  moveLoop(dx, dy, loopIndex) {\n    const points = this._loops[loopIndex];\n    for (let i = 0; i < points.length; i++) {\n      points[i].x += dx;\n      points[i].y += dy;\n    }\n    this.modified();\n  }\n\n  move(dx, dy) {\n    for (let l = 0; l < this.loopCount; l++) {\n      this.moveLoop(dx, dy, l);\n    }\n    return this;\n  }\n\n  // Note: Ellipse arcs only support simple transforms (translation, rotation, uniform scaling)\n  // @param {THREE.Matrix4}\n  applyMatrix4(matrix) {\n\n    for (let l = 0; l < this.loopCount; l++) {\n      const points = this._loops[l];\n\n      for (let i = 0; i < points.length; i++) {\n        const p = points[i];\n\n        // set target to (x,y) * matrix\n        const transformPoint = (x, y, target) => {\n          // convert to vec3, transform, and write back to target\n          const vec3 = tmpVec3.set(x, y, 0).applyMatrix4(matrix);\n          target.x = vec3.x;\n          target.y = vec3.y;\n          return target;\n        };\n\n        transformPoint(p.x, p.y, p);\n\n        // transform Bezier control points\n        if (this.isBezierArc(i, l)) {\n          let cp = transformPoint(p.cp1x, p.cp1y, tmpVec3);\n          p.cp1x = cp.x;\n          p.cp1y = cp.y;\n\n          cp = transformPoint(p.cp2x, p.cp2y, tmpVec3);\n          p.cp2x = cp.x;\n          p.cp2y = cp.y;\n        }\n\n        // Transform ellipse arcs\n        // Note: Currently, this only works for simple transforms (translate, rotate, uniform scale)\n        if (this.isEllipseArc(i, l)) {\n          p.ellipseArcParams.applyMatrix4(matrix);\n        }\n      }\n    }\n    this.modified();\n    return this;\n  }\n\n  // Copy a single loop from src poly and adds it to this one\n  //  @param {PolyBase} srcPoly\n  //  @param {number}   srcLoopIndex - must be a valid loopIndex of src\n  //  @param {number} [dstLoopIndex] Optional: index where to insert the new loop. By default, we use the first free loopIndex.\n  addLoop(srcPoly) {let srcLoopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;let dstLoopIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;\n    // copy loop points\n    const srcLoop = srcPoly._loops[srcLoopIndex];\n    const newLoop = cloneVectorArray(srcLoop);\n\n    // insert new loop\n    let newIndex;\n    if (dstLoopIndex === -1) {\n      // find a free loop index to store the new loop\n      newIndex = this.nextFreeLoop();\n      this._loops[newIndex] = newLoop;\n    } else {\n      // insert new loop at given index\n      newIndex = dstLoopIndex;\n      this._loops.splice(newIndex, 0, newLoop);\n    }\n    this.modified();\n\n    return newIndex;\n  }\n\n  copyGeometry(srcPoly) {\n    this.isClosed = srcPoly.isClosed;\n\n    // copy loops\n    this._loops = [];\n    for (let i = 0; i < srcPoly.loopCount; i++) {\n      this.addLoop(srcPoly, i);\n    }\n    return this;\n  }\n\n  copy(srcPoly) {\n    super.copy(srcPoly);\n    return this.copyGeometry(srcPoly);\n  }\n\n  computeBBox() {\n    this.bbox.makeEmpty();\n    for (let i = 0; i < this.loopCount; i++) {\n      const loop = this._loops[i];\n      if (loop) {\n        addPointsToBBox(loop, this.bbox);\n      }\n    }\n    return this.bbox;\n  }\n\n  indexValid(index) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    return index >= 0 && index < this.getVertexCount(loopIndex);\n  }\n\n  // Returns -1 if there is no next Index\n  nextIndex(index) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    // Return -1 for invalid input\n    if (!this.indexValid(index, loopIndex)) {\n      return -1;\n    }\n\n    // Handle last vertex\n    const isLast = index === this.getVertexCount(loopIndex) - 1;\n    if (isLast) {\n      // If closed, restart. Otherwise, there is no next index.\n      return this.isClosed ? 0 : -1;\n    }\n\n    return index + 1;\n  }\n\n  // Returns -1 if there is no previous vertex index\n  prevIndex(index) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    // Return -1 for invalid input\n    if (!this.indexValid(index, loopIndex)) {\n      return -1;\n    }\n\n    // Handle first vertex\n    if (index === 0) {\n      // if closed, continue at end. Otherwise, there is no previous index.\n      const vertexCount = this.getVertexCount(loopIndex);\n      return this.isClosed ? vertexCount - 1 : -1;\n    }\n\n    return index - 1;\n  }\n\n  // Returns index of the edge ending at the given vertex or -1 if it does not exist.\n  edgeBeforeVertex(index) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    return this.prevIndex(index, loopIndex);\n  }\n\n  // Returns index of the edge starting at the given vertex.\n  // Returns -1 if index is the end vertex of a polyline.\n  edgeAfterVertex(index) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    return this.edgeIndexValid(index, loopIndex) ? index : -1;\n  }\n\n  // Returns -1 if there is no previous edge.\n  nextEdgeIndex(edgeIndex) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    // Check edgeIndex validity\n    if (!this.edgeIndexValid(edgeIndex, loopIndex)) {\n      return -1;\n    }\n\n    // Return -1 for last polyline edge\n    if (!this.isClosed && edgeIndex === this.getEdgeCount(loopIndex) - 1) {\n      return -1;\n    }\n\n    return this.nextIndex(edgeIndex, loopIndex);\n  }\n\n  prevEdgeIndex(edgeIndex) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    // Check edgeindex validity\n    if (!this.edgeIndexValid(edgeIndex, loopIndex)) {\n      return -1;\n    }\n\n    // Return -1 for first polyline edge\n    if (!this.isClosed && edgeIndex === 0) {\n      return -1;\n    }\n\n    return this.prevIndex(edgeIndex, loopIndex);\n  }\n\n  edgeIndexValid(edgeIndex) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    const edgeCount = this.getEdgeCount(loopIndex);\n    return edgeIndex >= 0 && edgeIndex < edgeCount;\n  }\n\n  prevEdgeExists(edgeIndex) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    const vertexCount = this.getVertexCount(loopIndex);\n    return this.edgeIndexValid(edgeIndex, loopIndex) && vertexCount > 2 && (edgeIndex > 0 || this.isClosed);\n  }\n\n  nextEdgeExists(edgeIndex) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    const vertexCount = this.getVertexCount(loopIndex);\n    const isLastEdge = edgeIndex === vertexCount - 2;\n    return this.edgeIndexValid(edgeIndex, loopIndex) && vertexCount > 2 && (!isLastEdge || this.isClosed);\n  }\n\n  // Copy start/end of an edge into outA, outB out params (Vector2).\n  // edgeIndex must be valid.\n  getEdge(edgeIndex, outA, outB) {let loopIndex = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    const ia = edgeIndex;\n    const ib = this.nextIndex(edgeIndex, loopIndex);\n    this.getPoint(ia, loopIndex, outA);\n    this.getPoint(ib, loopIndex, outB);\n  }\n\n  getEdgeDirection(edgeIndex) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;let target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new THREE.Vector2();\n    const ia = edgeIndex;\n    const ib = this.nextIndex(edgeIndex, loopIndex);\n    const loop = this._loops[loopIndex];\n    return _Math2D_js__WEBPACK_IMPORTED_MODULE_0__.Math2D.getEdgeDirection(loop[ia], loop[ib], target);\n  }\n\n  getEdgeLength(edgeIndex) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    const ia = edgeIndex;\n    const ib = this.nextIndex(edgeIndex, loopIndex);\n    const loop = this._loops[loopIndex];\n    const a = loop[ia];\n    const b = loop[ib];\n    return _Math2D_js__WEBPACK_IMPORTED_MODULE_0__.Math2D.getEdgeLength(a, b);\n  }\n\n  getEdgeCount() {let loopIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    const vertexCount = this.getVertexCount(loopIndex);\n    return this.isClosed ? vertexCount : vertexCount - 1;\n  }\n\n  // Return the summed edge length for Polygons and Polylines.\n  //\n  //  @param {MeasureTransform} [measureTransform] - Optional: To allow doing calculation in another coordinate space\n  getLength(measureTransform) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    const a = new THREE.Vector2();\n    const b = new THREE.Vector2();\n    let sum = 0.0;\n    for (let i = 0; i < this.getEdgeCount(loopIndex); i++) {\n      this.getEdge(i, a, b, loopIndex);\n\n      // apply optional measure transform\n      if (measureTransform) {\n        measureTransform.apply(a);\n        measureTransform.apply(b);\n      }\n\n      sum += a.distanceTo(b);\n    }\n    return sum;\n  }\n\n  // Set vertices from THREE.Box2\n  fromBox2(box) {\n    this.addPoint(box.min.x, box.min.y);\n    this.addPoint(box.max.x, box.min.y);\n    this.addPoint(box.max.x, box.max.y);\n    this.addPoint(box.min.x, box.max.y);\n    return this;\n  }\n\n  // Returns a point along an edge. Note that the edge may be an arc for Paths.\n  //  @param {number} edgeIndex   - A valid edgeIndex\n  //  @param {number} t           - in [0,1]. t=0: startPoint, t=1: endPoint\n  //  @param {number} [loopIndex]\n  //  @param {Vector2} [target]\n  getPointOnEdge(edgeIndex, t) {let loopIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;let target = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : new THREE.Vector2();\n\n    const loop = this._loops[loopIndex];\n    const p0 = loop[edgeIndex];\n    const p1 = loop[this.nextIndex(edgeIndex, loopIndex)];\n    return target.lerpVectors(p0, p1, t);\n  }\n\n  // Checks if outer loop is counterclockwise. For polylines that doesn't form a loop,\n  // we assume an additional edge from end to start.\n  // @returns {bool}\n  isCCW() {let loopIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    return Autodesk.Extensions.CompGeom.polygonArea(this._loops[loopIndex]) > 0;\n  }\n\n  // Return 2D edge normal\n  getLeftEdgeNormal(edgeIndex) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;let target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new THREE.Vector2();\n    const points = this._loops[loopIndex];\n\n    // get start/end point of the edge\n    const vi1 = edgeIndex;\n    const vi2 = (edgeIndex + 1) % points.length;\n    const v1 = points[vi1];\n    const v2 = points[vi2];\n\n    // get edge direction\n    target.subVectors(v2, v1).normalize();\n\n    // rotate by 90 degrees\n    const tmp = target.x;\n    target.x = -target.y;\n    target.y = tmp;\n\n    return target;\n  }\n\n  // Get edge normal facing outside wrt. to the loop containing the edge. If the contour is not closed, we\n  // assume an additional connection between endpoint and startpoint to defined \"outside\".\n  getOuterNormal(edgeIndex) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;let target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new THREE.Vector2();\n    const normal = this.getLeftEdgeNormal(edgeIndex, loopIndex, target);\n    return this.isCCW(loopIndex) ? normal.multiplyScalar(-1) : normal;\n  }\n\n  // Returns the first loopIndex >=0 that doesn't contain any points yet.\n  //  @param {number}\n  nextFreeLoop() {\n    const isFree = (l) => !l || !l.length;\n    const index = this._loops.findIndex(isFree);\n    return index >= 0 ? index : this.loopCount;\n  }\n\n  // Seaches all loops to find a vertex for which cb(vertexIndex, loopIndex) returns true.\n  //  @{function(vertexIndex, loopIndex)=>bool} searchFilter\n  //  @returns {Object|null}                    A {vertexIndex, loopIndex} pair on success. Otherwise null.\n  findVertex(searchFilter) {\n    for (let l = 0; l < this.loopCount; l++) {\n      const len = this.getVertexCount(l);\n      for (let i = 0; i < len; i++) {\n        if (searchFilter(i, l)) {\n          return {\n            vertexIndex: i,\n            loopIndex: l\n          };\n        }\n      }\n    }\n    return null;\n  }\n\n  // Returns true if poly does not contain any (non-empty loops)\n  empty() {\n    return !this._loops.some((loop) => loop && loop.length > 0);\n  }\n\n  modified() {\n    super.modified();\n\n    // Loop containment may have changed\n    this._loopInfos = null;\n  }\n\n  // Returns true if the shape has overlapping loops\n  isSelfIntersecting() {\n\n    // Todo: Currently, we only detect overlaps between different loops. We also\n    //       have to track self-intersections within a single loop.\n\n\n    // Check if we have multiple overlapping loops\n    const loopInfos = this._getLoopInfos();\n    return loopInfos && loopInfos.some((l) => l.error);\n  }\n\n  _getLoopInfos() {\n    // Loop infos are only needed for closed paths with 2 or more loops\n    if (!this.isClosed || this.loopCount < 1) {\n      return undefined;\n    }\n\n    // Reuse if already available\n    if (!this._loopInfos) {\n      this._loopInfos = (0,_LoopContainment_js__WEBPACK_IMPORTED_MODULE_2__.computeLoopContainment)(this);\n    }\n    return this._loopInfos;\n  }\n\n  // Only works for closed loops.\n  getLoopType(loopIndex) {\n\n    if (!this.isClosed) {\n      return undefined;\n    }\n\n    if (!this.getVertexCount(loopIndex)) {\n      return LoopType.Empty;\n    }\n\n    // LoopInfo should always exist for closed non-empty loops\n    const infos = this._getLoopInfos();\n    const info = infos[loopIndex];\n\n    if (info.error) {\n      return LoopType.Overlapping;\n    }\n\n    // Even-odd-rule: Loops with even rank are outer ones.\n    return info.rank & 1 ? LoopType.Inner : LoopType.Outer;\n  }\n\n  // Get all loops (directly or indirectly) enclosed by the given one\n  getChildLoops(loopIndex) {\n    const infos = this._getLoopInfos();\n    const info = infos && infos[loopIndex];\n    return info ? info.containedLoops.slice() : [];\n  }\n\n  // Eliminiate all empty loops, so that loopCount matches the number of non-empty loops\n  cleanupLoops() {\n    this._loops = this._loops.filter((l) => l && l.length >= 0);\n  }\n\n  // Returns all loops that are not enclosed by any other one. Only for closed shapes.\n  getMainLoops() {\n    const infos = this._getLoopInfos();\n    if (!infos) {\n      return [];\n    }\n\n    // Collect all rank-0 loops\n    const loops = [];\n    for (let i = 0; i < infos.length; i++) {\n      const info = infos[i];\n\n      // Skip empty or invalid loops\n      const type = this.getLoopType(i);\n      if (type !== LoopType.Outer) {\n        continue;\n      }\n\n      if (info.rank === 0) {\n        loops.push(i);\n      }\n    }\n    return loops;\n  }\n\n  // Remove loop. Remaining loop indices are shifted back by one\n  removeLoop(loopIndex) {\n    this._loops.splice(loopIndex, 1);\n    this.modified();\n    return this;\n  }\n\n  // Remove multiple loop indices\n  // @param {number[]} \n  removeLoops(loops) {\n    this._loops = this._loops.filter((l, i) => !loops.includes(i));\n  }\n\n  // Returns true if a point contains valid (i.e. finite) numbers.\n  isPointFinite(vertex) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n    if (!this.indexValid(vertex, loopIndex)) {\n      return false;\n    }\n\n    const points = this._loops[loopIndex];\n    let p = points[vertex];\n    return isFinite(p.x) && isFinite(p.y);\n  }\n\n  isLoopFinite(loopIndex) {\n    const points = this._loops[loopIndex];\n    const count = points ? points.length : 0;\n    for (let i = 0; i < count; i++) {\n      if (!this.isPointFinite(i, loopIndex)) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n\n// Helper class to address a single vertex within a loop of a PolyBase.\n// Can also be used to address edges (by indexing its start vertex).\nclass PolyIndex {\n  constructor(_ref) {let { vertex = 0, loop = 0 } = _ref;\n    this.vertex = vertex;\n    this.loop = loop;\n  }\n  equals(v) {\n    return v && this.vertex === v.vertex && this.loop === v.loop;\n  }\n}\n\nclass Polygon extends PolyBase {\n\n  constructor() {let points = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];let style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DefaultStyle.clone();\n    super(points, style);\n    this.isClosed = true;\n  }\n\n  // Draw Polygon into LmvCanvasContext\n  draw(ctx, overrideStyle) {\n    drawPath(ctx, this, overrideStyle);\n  }\n\n  // We use even-odd rule if a polygon has multiple loops: A point is considered inside if it\n  // is enclosed by an odd number of loops.\n  hitTest(x, y) {\n    if (!this.vertexCount) {\n      return false;\n    }\n\n    // Compute number of loops that enclose (x,y)\n    let rank = 0;\n    for (let l = 0; l < this.loopCount; l++) {\n      const loop = this._loops[l];\n      if (!loop) {\n        continue;\n      }\n\n      // set current loop as points\n      const cp = new Autodesk.Extensions.CompGeom.ComplexPolygon(loop);\n\n      // create dummy contour\n      // TODO: Consider generalizing pointInCountour() to make it usable for non-indexed polygons\n      var contour = [];\n      for (let i = 0; i < loop.length; i++) {\n        contour.push(i);\n      }\n\n      if (cp.pointInContour(x, y, contour)) {\n        rank++;\n      }\n    }\n\n    // Apply even-odd-rule\n    return Boolean(rank & 1);\n  }\n\n  clone() {\n    return new Polygon().copy(this);\n  }\n\n  //  @param {MeasureTransform} [measureTransform] - Optional: To allow doing calculation in another coordinate space\n  getArea(measureTransform) {\n\n    if (!this.isClosed) {\n      return undefined;\n    }\n\n    // If there are multiple loops, we need loopInfos to distinguish inner and outer loops\n    const loopInfos = this._getLoopInfos();\n\n    let sumArea = 0;\n    for (let loopIndex = 0; loopIndex < this.loopCount; loopIndex++) {\n\n      // Skip degenerate loops\n      if (this.points.length < 3) {\n        continue;\n      }\n\n      // determine loop rank (number of other loops containing it)\n      // Note that loopInfos are null for single loops where we don't need them.\n      const loopInfo = loopInfos ? loopInfos[loopIndex] : null;\n      const rank = loopInfo ? loopInfo.rank : 0;\n\n      // Even-odd rule: Loops with odd rank are holes and contribute negatively\n      const sign = rank & 1 ? -1 : 1;\n\n      let loopArea = 0.0;\n      this.enumEdges((a, b) => {\n        // apply optional transform\n        measureTransform && measureTransform.apply(a);\n        measureTransform && measureTransform.apply(b);\n\n        // sum up signed areas\n        loopArea += a.x * b.y - b.x * a.y;\n      }, loopIndex);\n      sumArea += sign * Math.abs(0.5 * loopArea);\n    }\n    return sumArea;\n  }\n}\n\nclass Polyline extends PolyBase {\n\n  constructor() {let points = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];let style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DefaultStyle.clone();\n    super(points, style);\n    this.isClosed = false;\n  }\n\n  makeLine() {let x0 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;let y0 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;let x1 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;let y1 = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    if (this.vertexCount !== 2) {\n      this.clear();\n      this.addPoint(x0, y0);\n      this.addPoint(x1, y1);\n    } else {\n      this.updatePoint(0, x0, y0);\n      this.updatePoint(1, x1, y1);\n    }\n    return this;\n  }\n\n  // Draw Polyline into LmvCanvasContext\n  draw(ctx, overrideStyle) {\n    drawPath(ctx, this, overrideStyle);\n  }\n\n  clone() {\n    return new Polyline().copy(this);\n  }\n\n  // hitRadius is in layer-coords\n  hitTest(x, y, hitRadius) {let miterLineWidth = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    const edgeIndex = this.findEdgeIndex({ x, y }, hitRadius, 0, miterLineWidth);\n    return edgeIndex !== -1;\n  }\n}\n\nconst EdgeType = {\n  Line: 0, // Simple line segment\n  Bezier: 1, // Cubic Bezier Arc\n  Ellipse: 2 // Ellipse Arc\n};\n\n\n// Tmp objct for Ellipse Arcs. We need delayed initialization,\n// because Autodesk.Extensions.CompGeom might not be available yet at compile time.\nlet _tmpArc = null;\nlet getTmpArc = () => {\n  _tmpArc = _tmpArc || new Autodesk.Extensions.CompGeom.EllipseArc();\n  return _tmpArc;\n};\n\nlet tmpVec = new THREE.Vector2();\n\n// Helper function to run moveTo/lineTo/arcTo/closePath calls for a single loop of a path on a given context object.\n//  @param {Path2d|LmvCanvasContext|Object} ctx          - Receives the callback calls, i.e. moveTo, lineTo, bezierCurveTo, closePath etc. (see Path2D)\n//  @param {Polyline|Polygon|Path}          path\n//  @param {number}                         loopIndex    - must be a valid loop index in path\nconst runLoop = (ctx, path, loopIndex) => {\n\n  const origPoints = path._loops[loopIndex];\n  if (!origPoints || !origPoints.length) {\n    return;\n  }\n\n  // Trying to fill paths with NaN or infinite numbers may cause hangs in clipper. So, we prevent those here.\n  if (!path.isLoopFinite(loopIndex)) {\n    console.warn(`Skipped loop, because it contains Inf or NaN values. Shape ID: ${path.id}. LoopIndex: ${loopIndex}`);\n    return;\n  }\n\n  const points = origPoints;\n\n  ctx.moveTo(points[0].x, points[0].y);\n\n  const processSegment = (pStart, pEnd, edgeIndex) => {\n    switch (pStart.arcType) {\n      case EdgeType.Line:break;\n\n      case EdgeType.Bezier:{\n          ctx.bezierCurveTo(pStart.cp1x, pStart.cp1y, pStart.cp2x, pStart.cp2y, pEnd.x, pEnd.y);\n          return;\n        }\n\n      case EdgeType.Ellipse:{\n          const params = pStart.ellipseArcParams;\n          const arc = path.exportEllipseArc(edgeIndex, loopIndex, getTmpArc());\n\n          // ignore arcs with NaN values\n          if (!arc.isValid()) {\n            break;\n          }\n\n          if (ctx.ellipseArcTo) {\n            // Support SolidDef Path2D\n            ctx.ellipseArcTo(params.rx, params.ry, THREE.Math.degToRad(params.rotation), params.largeArcFlag, params.sweepFlag, pEnd.x, pEnd.y);\n          } else {\n            // For Autodesk.CompGeom (Path2D and LmvCanvasContext). Also compatible to CanvasContext and Path2D in HTML5.\n            ctx.ellipse(arc.cx, arc.cy, arc.rx, arc.ry, arc.rotation, arc.startAngle, arc.endAngle, arc.ccw);\n          }\n\n          return;\n        }\n    }\n    ctx.lineTo(pEnd.x, pEnd.y);\n  };\n\n  for (let i = 1; i < points.length; i += 1) {\n    // The segment start point defines the type (line or arc)\n    const prev = points[i - 1];\n    const p = points[i];\n\n    processSegment(prev, p, i - 1);\n  }\n\n  if (path.isClosed) {\n    // add closing segment\n    const pLast = points[points.length - 1];\n    const pFirst = points[0];\n    processSegment(pLast, pFirst, points.length - 1);\n\n    ctx.closePath();\n  }\n};\n\n// Helper function to run moveTo/lineTo/arcTo/closePath calls on a given context object.\n//  @param {Path2d|LmvCanvasContext|Object} ctx          - Receives the callback calls, i.e. moveTo, lineTo, bezierCurveTo, closePath etc. (see Path2D)\n//  @param {Polyline|Polygon|Path}          path\nconst runPath = (ctx, path) => {\n  for (let i = 0; i < path.loopCount; i++) {\n    runLoop(ctx, path, i);\n  }\n};\n\n// Draw Path to CanvasContext. Unified implementation for Path, Polyline, and Polygon\n//  @param {LmvCanvasContext}      ctx\n//  @param {Polyline|Polygon|Path} path\n//  @param {Style}                 [overrideStyle]\nconst drawPath = (ctx, path, overrideStyle) => {\n\n  if (!path.vertexCount) {\n    return;\n  }\n\n  let style = overrideStyle || path.style;\n  const c = ctx.canvasContext;\n  ctx.dbId = path.id;\n  ctx.lineStyle = style.lineStyle;\n  ctx.isScreenSpace = style.isScreenSpace;\n\n  const currentGlobalCompositeOp = c.globalCompositeOperation;\n  if (style.compositeOperation) {\n    c.globalCompositeOperation = style.compositeOperation;\n    // Make sure any previous shapes with a different blending are flushed first\n    ctx.flushBuffer(0, true);\n  }\n\n  ctx.beginPath();\n\n  if (!path.isClosed && style.isMiterLine) {\n    // if using miter lines, we'll want to match the style\n    ctx.setMiterLine(true);\n  }\n\n  // Run moveTo/lineTo/... commands on context\n  runPath(ctx, path);\n\n  // Draw fill for closed paths\n  if (path.isClosed) {\n    c.fillStyle = style.fillColor;\n    // Creates a gradient fill style.\n    if (style.fillColor.hasOwnProperty('colorStops')) {\n      const gradientData = ctx.createGradientData(style.fillColor);\n      const fillStyle = gradientData.getFillStyle(c);\n      c.fillStyle = fillStyle;\n    }\n    c.globalAlpha = style.fillAlpha;\n\n    ctx.fill();\n  }\n\n  // draw lines\n  c.strokeStyle = style.lineColor;\n  c.globalAlpha = style.lineAlpha;\n  c.lineWidth = style.lineWidth;\n\n  // Adjust lineWidth so that specified 1px widths will be drawn as 3px on screens with devicePixelRatio == 3.\n  // For human eyes the line width is then the same width.\n  if (style.isScreenSpace) c.lineWidth *= window.devicePixelRatio;\n\n  ctx.stroke();\n\n  // restore default values\n  ctx.dbId = -1;\n  ctx.lineStyle = 0;\n  ctx.isScreenSpace = false;\n  c.globalCompositeOperation = currentGlobalCompositeOp;\n};\n\n// Extra params for cubic Bezier arc edges.\nclass BezierArcParams {\n  constructor() {\n    // control point 1 that defines start tangent\n    this.cp1x = 0;\n    this.cp1y = 0;\n\n    // control point 2 that defines end tangent\n    this.cp2x = 0;\n    this.cp2y = 0;\n  }\n\n  copy(src) {\n    this.cp1x = src.cp1x;\n    this.cp1y = src.cp1y;\n    this.cp2x = src.cp2x;\n    this.cp2y = src.cp2y;\n    return this;\n  }\n\n  clone() {\n    return new BezierArcParams().copy(this);\n  }\n}\n\n// SVG compatible ellipse arc params\n// see https://www.w3.org/TR/svg-paths/#PathDataEllipticalArcCommands\nclass EllipseArcParams {\n\n  constructor() {\n    // {number} Radius along x-axis\n    this.rx = 0;\n\n    // {number} Radius along y-axis\n    this.ry = 0;\n\n    // {number} ccw rotation of x/y-axes in degrees\n    this.rotation = 0;\n\n    // {bool} whether to use shorter or longer path around ellipse.\n    this.largeArcFlag = false;\n\n    // {bool} Whether to go ccw (true) or cw (false) from startAngle. See SVG docs link above for details.\n    this.sweepFlag = false;\n  }\n\n  copy(src) {\n    this.rx = src.rx;\n    this.ry = src.ry;\n    this.rotation = src.rotation;\n    this.largeArcFlag = src.largeArcFlag;\n    this.sweepFlag = src.sweepFlag;\n    return this;\n  }\n  clone() {\n    return new EllipseArcParams().copy(this);\n  }\n\n  // @param {number} angle - counterclockwise in degrees\n  rotate(angle) {\n\n    this.rotation += angle;\n\n    // Normalize angle to keep within [0,360]\n    this.rotation -= Math.trunc(this.rotation / 360) * 360;\n  }\n\n  scale(factor) {\n    this.rx *= factor;\n    this.ry *= factor;\n  }\n\n  // updates arc params according to a given transform.\n  // Note: Transforming ellipse arcs is currently only supported for\n  //       simple transforms like translation, rotation, and uniform scaling.\n  applyMatrix4(matrix) {\n\n    // apply transform to x-axis direction\n    tmpVec3.set(1, 0, 0).applyMatrix4(matrix);\n    tmpVec3_2.set(0, 0, 0).applyMatrix4(matrix);\n    const axis = tmpVec3.sub(tmpVec3_2);\n\n    // obtain rotation angle and scale (assuming uniform scaling)\n    const rotAngle = THREE.Math.radToDeg(Math.atan2(axis.y, axis.x));\n    const scale = axis.length();\n\n    // update ellipse params\n    this.rotate(rotAngle);\n    this.scale(scale);\n\n    // If a transform changes the orientation, we have to invert sweepFlag and rotation param\n    if (_Math2D_js__WEBPACK_IMPORTED_MODULE_0__.Math2D.changesOrientation(matrix)) {\n      this.sweepFlag = !this.sweepFlag;\n      this.rotation = 360.0 - this.rotation;\n    }\n  }\n}\n\nclass Path extends PolyBase {\n\n  constructor(points) {let isClosed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;let style = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DefaultStyle.clone();\n    super(points, style);\n\n    // If true, the path is automatically closed and can be filled.\n    this.isClosed = isClosed;\n  }\n\n  // Updates ellipse arc of an edge if vertices of the edges are going to be modified\n  // @param {number} edgeIndex   - must be valid. Edge vertices must be in state _before_ modification.\n  // @param {number} loopIndex   - must be valid.\n  // @param {Vector2} newA, newB - edge vertices after modification\n  _updateEllipseArcParams(edgeIndex, loopIndex, newA, newB) {\n\n    const params = this._loops[loopIndex][edgeIndex].ellipseArcParams;\n\n    // compute angle by which the edge was rotated\n    const oldDir = this.getEdgeDirection(edgeIndex, loopIndex);\n    const newDir = _Math2D_js__WEBPACK_IMPORTED_MODULE_0__.Math2D.getEdgeDirection(newA, newB);\n    const dAngle = _Math2D_js__WEBPACK_IMPORTED_MODULE_0__.Math2D.angleBetweenDirections(newDir, oldDir);\n\n    params.rotate(THREE.Math.radToDeg(dAngle));\n\n    // get scale factor applied to the edge\n    const oldLength = this.getEdgeLength(edgeIndex, loopIndex);\n    const newLength = _Math2D_js__WEBPACK_IMPORTED_MODULE_0__.Math2D.distance2D(newA, newB); // also works for simple {x,y} pairs\n    const scale = newLength / oldLength;\n\n    // scale ellipse radii (if scaling is valid)\n    const scaleValid = isFinite(scale) && scale > 0; // zero-radii do not work\n    if (scaleValid) {\n      params.scale(scale);\n    }\n  }\n\n  updatePoint(index, x, y) {let loopIndex = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n    const points = this._loops[loopIndex];\n    let p = points[index];\n\n    let pNew = tmpVec.set(x, y);\n\n    // If p is adjacent to a BezierArc segment, the tangent should keep the same after changing the position\n    // Therefore, we change the corresponding control points as well\n    const dx = x - p.x;\n    const dy = y - p.y;\n\n    // Control point for the start tangent of the arc segment starting at p\n    if (this.isBezierArc(index, loopIndex)) {\n      p.cp1x += dx;\n      p.cp1y += dy;\n    }\n\n    // Update ellipse arc starting at p\n    if (this.isEllipseArc(index, loopIndex)) {\n      // next point must exist if index is a valid ellipse-arc edge.\n      const nextIndex = this.nextIndex(index, loopIndex);\n      const pNext = points[nextIndex];\n      this._updateEllipseArcParams(index, loopIndex, pNew, pNext);\n    }\n\n    // Update arc params of segment ending at p\n    // Note: For polylines, this edge does not exist for index==0\n    const prevEdge = this.edgeBeforeVertex(index, loopIndex);\n    if (this.edgeIndexValid(prevEdge, loopIndex)) {\n\n      // get previous vertex\n      const pPrev = points[prevEdge];\n\n      // Update bezier control point\n      if (this.isBezierArc(prevEdge, loopIndex)) {\n        pPrev.cp2x += dx;\n        pPrev.cp2y += dy;\n      }\n\n      // Update ellipse arc\n      if (this.isEllipseArc(prevEdge, loopIndex)) {\n        this._updateEllipseArcParams(prevEdge, loopIndex, pPrev, pNew);\n      }\n    }\n\n    p.x = x;\n    p.y = y;\n    this.modified();\n  }\n\n  getEdgeType(segmentIndex) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    const type = this._loops[loopIndex][segmentIndex].arcType;\n    return type ? type : EdgeType.Line;\n  }\n\n  // Change segment into a cubic Bezier arc.\n  // First and last control point are already given by the vertex positions.\n  //\n  //  @param {number}             segmentIndex - must be in [0, this.getEdgeCount(loopIndex)]\n  //  @param {BezierArcParams}    params\n  //  @param {number} [loopIndex]\n  setBezierArc(segmentIndex, params) {let loopIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n    // Legacy support:\n    // If cp1x, cp2x etc. are enlisted individually, reshape params to expected form.\n    // It's a pain that JS doesn't have function overloads.\n    const isParamObj = typeof params === 'object';\n    if (!isParamObj) {\n      params = {\n        cp1x: params,\n        cp1y: loopIndex,\n        cp2x: arguments.length <= 3 ? undefined : arguments[3],\n        cp2y: arguments.length <= 4 ? undefined : arguments[4]\n      };\n      loopIndex = (arguments.length <= 5 ? undefined : arguments[5]) || 0;\n    }\n\n    const p = this._loops[loopIndex][segmentIndex];\n    p.arcType = EdgeType.Bezier;\n    BezierArcParams.prototype.copy.call(p, params);\n\n    this.modified();\n  }\n\n  getBezierArcParams(segmentIndex) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;let target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new BezierArcParams();\n    // Find params\n    const p = this._loops[loopIndex][segmentIndex];\n    const srcParams = p && p.arcType === EdgeType.Bezier && p;\n\n    // return a copy if found, otherwise undefined\n    return srcParams && target.copy(srcParams);\n  }\n\n  // Set ellipse arc segment. Parameters are the same as for SVG ellipse arcs.\n  // see https://www.w3.org/TR/svg-paths/#PathDataEllipticalArcCommands\n  //\n  //  @param {number}   segmentIndex - must be in [0, this.getEdgeCount()]\n  //  @param {EllipseArcParams} arcParams\n  setEllipseArc(segmentIndex, arcParams) {let loopIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n    const p = this._loops[loopIndex][segmentIndex];\n\n    p.arcType = EdgeType.Ellipse;\n    p.ellipseArcParams = arcParams.clone();\n\n    this.modified();\n  }\n\n  // @param {number}           segmentIndex - must be a valid ellipse-arc edge\n  // @param {EllipseArcParams} target\n  // @returns {EllipseArcParams}\n  getEllipseArcParams(segmentIndex) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;let target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new EllipseArcParams();\n\n    // Find params\n    const p = this._loops[loopIndex][segmentIndex];\n    const srcParams = p && p.arcType === EdgeType.Ellipse && p.ellipseArcParams;\n\n    // Return a copy if found, otherwise undefined.\n    return srcParams && target.copy(srcParams);\n  }\n\n  // Configures an EllipseArc curve to match with an ellipse-arc edge. This allows for sampling the arc.\n  //  @param {number}     edgeIndex     - must be an ellipse arc\n  //  @param {number}     [loopIndex=0] - loopIndex\n  //  @param {EllipseArc} [target]      - optional\n  //  @returns {EllipseArc}\n  exportEllipseArc(edgeIndex) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;let target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new EllipseArc();\n\n    const points = this._loops[loopIndex];\n\n    // get start/end points\n    const nextIndex = this.nextIndex(edgeIndex, loopIndex);\n    const pStart = points[edgeIndex];\n    const pEnd = points[nextIndex];\n    const params = pStart.ellipseArcParams;\n\n    target.setFromSvgArc(\n      params.rx,\n      params.ry,\n      params.rotation,\n      params.largeArcFlag,\n      params.sweepFlag,\n      pStart,\n      pEnd\n    );\n    return target;\n  }\n\n  isBezierArc(segmentIndex) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    return this.edgeIndexValid(segmentIndex, loopIndex) && this._loops[loopIndex][segmentIndex].arcType === EdgeType.Bezier;\n  }\n\n  isEllipseArc(segmentIndex) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    return this.edgeIndexValid(segmentIndex, loopIndex) && this._loops[loopIndex][segmentIndex].arcType === EdgeType.Ellipse;\n  }\n\n  isArc(segmentIndex) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    return this.isBezierArc(segmentIndex, loopIndex) || this.isEllipseArc(segmentIndex, loopIndex);\n  }\n\n  // Get tangent vector pointing from start vertex to control point 1 of an arc segment.\n  // Only allowed for Bezier arcs. Result is not normalized.\n  //  @param {number} segmentIndex - must be a valid index of an arc segment.\n  //  @returns {Vector2}\n  getStartTangent(segmentIndex) {let outTarget = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    const target = outTarget || new THREE.Vector2();\n    const p = this.points[segmentIndex];\n    target.x = p.cp1x - p.x;\n    target.y = p.cp1y - p.y;\n    return target;\n  }\n\n  // Get tangent vector pointing from end vertex to control point 2 of an arc segment.\n  //  @param {number} segmentIndex - must be a valid index of an arc segment.\n  //  @returns {Vector2}\n  getEndTangent(segmentIndex) {let outTarget = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    const target = outTarget || new THREE.Vector2();\n    const endVertex = this.nextIndex(segmentIndex);\n\n    // get start/end point of the segment\n    const pStart = this.points[segmentIndex];\n    const pEnd = this.points[endVertex];\n    target.x = pStart.cp2x - pEnd.x;\n    target.y = pStart.cp2y - pEnd.y;\n    return target;\n  }\n\n  //  @param {number} segmentIndex - must be a valid index of an arc segment.\n  //  @param {Vector2} tangent\n  setStartTangent(segmentIndex, tangent) {\n    const p = this.points[segmentIndex];\n    p.cp1x = p.x + tangent.x;\n    p.cp1y = p.y + tangent.y;\n    this.modified();\n  }\n\n  //  @param {number} segmentIndex - must be a valid index of an arc segment.\n  //  @param {Vector2} tangent\n  setEndTangent(segmentIndex, tangent) {\n    const p = this.points[segmentIndex];\n    const pEnd = this.points[this.nextIndex(segmentIndex)];\n    p.cp2x = pEnd.x + tangent.x;\n    p.cp2y = pEnd.y + tangent.y;\n    this.modified();\n  }\n\n  // Change Bezier or Ellipse arc back to simple line segment\n  removeArc(segmentIndex) {let loopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    const p = this._loops[loopIndex][segmentIndex];\n\n    if (p.arcType === EdgeType.Bezier) {\n      p.cp1x = undefined;\n      p.cp1y = undefined;\n      p.cp2x = undefined;\n      p.cp2y = undefined;\n    }\n\n    if (p.ellipseArcParams) p.ellipseArcParams = undefined;\n\n    // reset type\n    p.arcType = EdgeType.Line;\n\n    this.modified();\n  }\n\n  // Return ctrl point of Bezier Arc. Only allowed if isBezierArc(segmentIndex) is true\n  // @param {number} segmentIndex\n  // @param {number} ctrlPointIndex - Must be 1 or 2. Note that ctrlPoints 0 and 3 are defined by\n  //                                  current vertex position\n  // @param {Vector2} [target]\n  // @param {number}  [loopIndex]\n  getControlPoint(segmentIndex, ctrlPointIndex) {let loopIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;let target = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : new THREE.Vector2();\n    const p = this._loops[loopIndex][segmentIndex];\n\n    if (ctrlPointIndex === 1) {\n      target.x = p.cp1x;\n      target.y = p.cp1y;\n    } else {\n      target.x = p.cp2x;\n      target.y = p.cp2y;\n    }\n    return target;\n  }\n\n  // Return ctrl point of Bezier Arc. Only allowed if isBezierArc(segmentIndex) is true\n  // @param {number} segmentIndex\n  // @param {number} ctrlPointIndex - Must be 1 or 2. Note that ctrlPoints 0 and 3 are defined by\n  //                                  current vertex position\n  updateControlPoint(segmentIndex, ctrlPoint, x, y) {let loopIndex = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n    let p = this._loops[loopIndex][segmentIndex];\n    if (ctrlPoint === 1) {\n      p.cp1x = x;\n      p.cp1y = y;\n    } else {\n      p.cp2x = x;\n      p.cp2y = y;\n    }\n    this.modified();\n  }\n\n  // Draw Polygon into LmvCanvasContext\n  draw(ctx, overrideStyle) {\n    drawPath(ctx, this, overrideStyle);\n  }\n\n  // Sample path into a Polygon or Polyline.\n  //  @returns {Polygon|Polyline}\n  toPoly() {let tessParams = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Autodesk.Extensions.CompGeom.DefaultTessParams;\n\n    const poly = this.isClosed ? new Polygon() : new Polyline();\n    for (let l = 0; l < this.loopCount; l++) {\n\n      // Build up a polygon from path commands\n      const ctx = {\n        moveTo: (x, y) => poly.addPoint(x, y, l),\n        lineTo: (x, y) => poly.addPoint(x, y, l),\n        bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\n\n          // get last added point. Note that it always exists, because runLoop() always starts with moveTo.\n          // so we know for sure that >=1 points were already added to this polygon loop.\n          const points = poly._loops[l];\n          const last = points[points.length - 1];\n\n          // compute bbox of the arc - which we use as an estimate for required accuracy\n          const arcBox = tmpBox2.makeEmpty();\n          arcBox.expandByPoint(last);\n          arcBox.expandByPoint(tmpVec2.set(x, y));\n          arcBox.expandByPoint(tmpVec2.set(cp1x, cp1y));\n          arcBox.expandByPoint(tmpVec2.set(cp2x, cp2y));\n          const sz = arcBox.getSize(tmpVec).length();\n\n          // sample arc into lineTo() segments\n          Autodesk.Extensions.CompGeom.TesselateCubic(ctx, last.x, last.y, cp1x, cp1y, cp2x, cp2y, x, y, sz, tessParams);\n        },\n        ellipse(cx, cy, rx, ry, rotation, startAngle, endAngle, ccw) {\n\n          // use ellipse maxRadius a reference for required accuracy\n          const sz = Math.max(rx, ry);\n\n          // determine tesselation params\n          const maxSegments = tessParams.numIterations;\n          const minSegmentLength = tessParams.minSegLenFraction * sz;\n\n          // tesselate arc\n          const arc = getTmpArc().set(cx, cy, rx, ry, rotation, startAngle, endAngle, ccw);\n          arc.tesselate(ctx, maxSegments, minSegmentLength);\n        },\n        closePath: () => {} // Polygon is closed anyway.\n      };\n      runLoop(ctx, this, l);\n    }\n    return poly;\n  }\n\n  computeBBox() {\n    // Compute bbox of all vertices\n    super.computeBBox();\n\n    // Consider Bezier arcs: By definition, Bezier curves are always bounded by the convex hull of their control\n    // points. Therefore, we can simply add the control points to the bbox.\n    //\n    // Note: The bboxes obtained by this simple approach are only guaranteed to contain the curve. But, they are not guaranteed to be minimal.\n    //       This is not a big issue for most uses (hitTest, drawing etc.). In case it becomes a problem anywhere, we need a better solution here, e.g.\n    //       https://stackoverflow.com/questions/24809978/calculating-the-bounding-box-of-cubic-bezier-curve\n    const cp = new THREE.Vector2();\n    for (let l = 0; l < this.loopCount; l++) {\n      for (let i = 0; i < this.getVertexCount(l); i++) {\n\n        if (this.isBezierArc(i, l)) {\n          // add control point 1\n          this.getControlPoint(i, 1, l, cp);\n          this.bbox.expandByPoint(cp);\n\n          // add control point 2\n          this.getControlPoint(i, 2, l, cp);\n          this.bbox.expandByPoint(cp);\n        } else\n        if (this.isEllipseArc(i, l)) {\n          const arc = this.exportEllipseArc(i, l, getTmpArc());\n          this.bbox.union(arc.computeBBox(tmpBox2));\n        }\n      }\n    }\n  }\n\n  hitTest(x, y, hitRadius) {let miterLineWidth = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    const poly = this.toPoly();\n    return poly.hitTest(x, y, hitRadius, miterLineWidth);\n  }\n\n  clone() {\n    return new Path().copy(this);\n  }\n\n  // @param {Path} srcPath\n  // @param {number} srcLoopIndex loop in srcPath to copy\n  // @param {number} [dstLoopIndex] Optional: index where to insert the new loop. By default, we use the first free loopIndex.\n  addLoop(srcPath) {let srcLoopIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;let dstLoopIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;\n\n    // If dstLoop is not set, it will be chosen by the super.addLoop().\n    dstLoopIndex = super.addLoop(srcPath, srcLoopIndex, dstLoopIndex);\n\n    const srcPoints = srcPath._loops[srcLoopIndex];\n    const dstPoints = this._loops[dstLoopIndex];\n\n    // Copy extra information for arcs\n    for (let i = 0; i < srcPoints.length; i++) {\n      const type = srcPath.getEdgeType(i, srcLoopIndex);\n\n      // Line segments are fully handled by the base class already\n      if (type === EdgeType.Line) {\n        continue;\n      }\n\n      const src = srcPoints[i];\n      const dst = dstPoints[i];\n\n      dst.arcType = src.arcType;\n\n      switch (type) {\n        case EdgeType.Bezier:{\n            // copy control points\n            dst.cp1x = src.cp1x;\n            dst.cp1y = src.cp1y;\n            dst.cp2x = src.cp2x;\n            dst.cp2y = src.cp2y;\n            break;\n          }\n        case EdgeType.Ellipse:{\n            // copy arc params\n            dst.ellipseArcParams = src.ellipseArcParams && src.ellipseArcParams.clone();\n            break;\n          }\n      }\n    }\n\n    this.modified();\n    return this;\n  }\n\n  moveLoop(dx, dy, loopIndex) {\n    super.moveLoop(dx, dy, loopIndex);\n\n    // Move affected control points as well\n    const points = this._loops[loopIndex];\n    for (let i = 0; i < points.length; i++) {\n      if (!this.isBezierArc(i, loopIndex)) {\n        continue;\n      }\n\n      const p = points[i];\n      p.cp1x += dx;\n      p.cp1y += dy;\n      p.cp2x += dx;\n      p.cp2y += dy;\n    }\n\n    // Note that for Ellipse arcs, it is sufficient to move start/end like for line segments.\n  }\n\n  getArea(measureTransform) {\n    if (!this.isClosed) {\n      return undefined;\n    }\n\n    // Todo: If performance becomes an issue, this can be optimized by a less brute-force way.\n    const poly = this.toPoly(AreaTessParam);\n\n    // Since poly is just temporary, we can just share the loop infos to prevent poly.getArea()\n    // from computing them again.\n    poly._loopInfos = this._getLoopInfos();\n\n    return poly.getArea(measureTransform);\n  }\n\n  getLength(measureTransform) {\n    const poly = this.toPoly();\n    return poly.getLength(measureTransform);\n  }\n\n  // Get point on segment. This refines the implementation\n  // of PolyBase by supporting arc segments.\n  getPointOnEdge(segmentIndex, t) {let loopIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;let target = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : new THREE.Vector2();\n\n    const points = this._loops[loopIndex];\n    const type = this.getEdgeType(segmentIndex, loopIndex);\n    switch (type) {\n      case EdgeType.Line:break;\n      case EdgeType.Bezier:{\n          // get segment start/end\n          const a = points[segmentIndex];\n          const b = points[this.nextIndex(segmentIndex)];\n\n          return Autodesk.Extensions.CompGeom.getCubeBezierPoint(t, a.x, a.y, a.cp1x, a.cp1y, a.cp2x, a.cp2y, b.x, b.y, target);\n        }\n      case EdgeType.Ellipse:{\n          const arc = this.exportEllipseArc(segmentIndex, loopIndex, getTmpArc());\n\n          // ignore arcs with NaN values\n          if (!arc.isValid()) {\n            break;\n          }\n          return arc.getPoint(t, target);\n        }\n      default:avp.logger.error('unexpected edge type');\n    }\n\n    return super.getPointOnEdge(segmentIndex, t, loopIndex, target);\n  }\n\n  // Run moveTo/lineTo/arcTo/closePath calls on a given context object.\n  //  @param {Path2d|LmvCanvasContext|Object} ctx    - Receives the callback calls, i.e. moveTo, lineTo, bezierCurveTo, closePath etc. (see Path2D)\n  runPathCommands(ctx) {\n    runPath(ctx, this);\n  }\n\n  // Returns false if all edges of all loops are line segments.\n  hasArcs() {\n    const filter = (vertexIndex, loopIndex) => this.isArc(vertexIndex, loopIndex);\n    return Boolean(this.findVertex(filter));\n  }\n}\n\n// Alias that can be used for Polyline/Polygon paths. Use only if you don't intend to change the isClosed prop during lifetime.\nclass PolygonPath extends Path {\n  constructor(points, style) {\n    super(points, true, style);\n  }\n};\n\nclass PolylinePath extends Path {\n  constructor(points, style) {\n    super(points, false, style);\n  }\n};\n\nclass Circle extends Shape {\n\n  // Note: The tessSegments parameter will be removed later when the implementation uses arcs from LineShader directly.\n  constructor() {let centerX = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0.0;let centerY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.0;let radius = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1.0;let style = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : DefaultStyle.clone();let tessSegments = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 20;\n    super(style);\n\n    this.polygon = new Polygon([], style);\n\n    // Force polygon.id to be the same, so that its geometry is associated with this Circle.\n    // This is a bit hacky, but can be removed as soon as we use native arcs for circle rendering.\n    this.polygon.id = this.id;\n\n    this.centerX = centerX;\n    this.centerY = centerY;\n    this.radius = radius;\n    this.tessSegments = tessSegments;\n\n    this.needsUpdate = true;\n  }\n\n  draw(ctx, overrideStyle) {\n\n    this.polygon.points.length = 0;\n\n    // angle delta in degrees\n    const stepSize = 360 / this.tessSegments;\n    for (let angle = 0; angle < 360; angle += stepSize) {\n\n      let a = angle * Math.PI / 180;\n      let x = this.radius * Math.cos(a);\n      let y = this.radius * Math.sin(a);\n\n      this.polygon.addPoint(this.centerX + x, this.centerY + y);\n    }\n\n    this.needsUpdate = false;\n\n    this.polygon.draw(ctx, overrideStyle);\n  }\n\n  setCenter(x, y) {\n    this.centerX = x;\n    this.centerY = y;\n    this.modified();\n  }\n\n  move(dx, dy) {\n    this.centerX += dx;\n    this.centerY += dy;\n    this.modified();\n    return this;\n  }\n\n  hitTest(x, y) {\n    const dx = x - this.centerX;\n    const dy = y - this.centerY;\n    return dx * dx + dy * dy < this.radius * this.radius;\n  }\n\n  clone() {\n    return new Circle().copy(this);\n  }\n\n  copy(from) {\n    super.copy(from);\n    this.polygon = from.polygon.clone();\n    this.centerX = from.centerX;\n    this.centerY = from.centerY;\n    this.radius = from.radius;\n    this.tessSegments = from.tessSegments;\n    this.modified();\n    return this;\n  }\n\n  computeBBox() {\n    this.bbox.min.set(this.centerX - this.radius, this.centerY - this.radius);\n    this.bbox.max.set(this.centerX + this.radius, this.centerY + this.radius);\n  }\n}\n\nclass ShapeWrapper extends Shape {\n\n  // @param {Shape} shape - must not be null\n  constructor(shape) {\n    super();\n    this.shape = shape;\n\n    Object.defineProperty(this, 'bbox', {\n      get: () => this.shape.bbox,\n      set: (bbox) => {this.shape.bbox = bbox;}\n    });\n\n    Object.defineProperty(this, 'id', {\n      get: () => this.shape.id,\n      set: (id) => {this.shape.id = id;}\n    });\n\n    Object.defineProperty(this, 'bboxDirty', {\n      get: () => this.shape.bboxDirty,\n      set: (dirty) => {this.shape.bboxDirty = dirty;}\n    });\n\n    Object.defineProperty(this, 'name', {\n      get: () => this.shape.name,\n      set: (name) => {this.shape.name = name;}\n    });\n  }\n\n  draw() {return this.shape.draw(...arguments);}\n  hitTest() {return this.shape.hitTest(...arguments);}\n  move() {return this.shape.move(...arguments);}\n  modified() {return this.shape.modified(...arguments);}\n  computeBBox() {return this.shape.computeBBox(...arguments);}\n  updateBBox() {return this.shape.updateBBox(...arguments);}\n\n  clone() {\n    return new ShapeWrapper(this.shape.clone());\n  }\n\n  copy(from) {\n    this.shape.copy(from.shape);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL0VkaXQyRC9FZGl0U2hhcGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ3FDO0FBQ047QUFDK0I7QUFDcEI7O0FBRTFDLElBQUlJLFdBQVcsR0FBRyxDQUFDOztBQUVuQixNQUFNQyxFQUFFLEdBQUdDLFFBQVEsQ0FBQ0MsT0FBTzs7QUFFM0IsTUFBTUMsT0FBTyxHQUFHQSxDQUFDQyxDQUFDLEVBQUVDLENBQUMsRUFBRUMsQ0FBQyxLQUFLO0VBQ3pCLE9BQU8sTUFBTSxHQUFHRixDQUFDLEdBQUcsR0FBRyxHQUFHQyxDQUFDLEdBQUcsR0FBRyxHQUFHQyxDQUFDLEdBQUcsR0FBRztBQUMvQyxDQUFDOztBQUVELE1BQU1DLGdCQUFnQixHQUFHQSxDQUFDQyxHQUFHLEtBQUs7RUFDOUIsT0FBT0EsR0FBRyxDQUFDQyxHQUFHLENBQUMsQ0FBQUMsQ0FBQyxLQUFJLENBQUUsT0FBTyxFQUFFQyxDQUFDLEVBQUVELENBQUMsQ0FBQ0MsQ0FBQyxFQUFFQyxDQUFDLEVBQUVGLENBQUMsQ0FBQ0UsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDdEQsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxNQUFNQyxhQUFhLEdBQUc7RUFDbEJDLGFBQWEsRUFBRSxHQUFHO0VBQ2xCQyxpQkFBaUIsRUFBRTtBQUN2QixDQUFDOztBQUVELE1BQU1DLE9BQU8sR0FBRyxJQUFJQyxLQUFLLENBQUNDLE9BQU8sQ0FBQyxDQUFDO0FBQ25DLE1BQU1DLFNBQVMsR0FBRyxJQUFJRixLQUFLLENBQUNDLE9BQU8sQ0FBQyxDQUFDO0FBQ3JDLE1BQU1FLE9BQU8sR0FBRyxJQUFJSCxLQUFLLENBQUNJLElBQUksQ0FBQyxDQUFDO0FBQ2hDLE1BQU1DLE9BQU8sR0FBRyxJQUFJTCxLQUFLLENBQUNuQixPQUFPLENBQUMsQ0FBQzs7QUFFNUIsTUFBTXlCLEtBQUssQ0FBQzs7RUFFZjtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNJQyxXQUFXQSxDQUFBLEVBQWMsS0FBYkMsTUFBTSxHQUFBQyxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxDQUFDLENBQUM7SUFDbkIsSUFBSSxDQUFDRyxTQUFTLEdBQUdKLE1BQU0sQ0FBQ0ksU0FBUyxJQUFJSixNQUFNLENBQUNLLEtBQUssSUFBSSxjQUFjO0lBQ25FLElBQUksQ0FBQ0MsU0FBUyxHQUFHTixNQUFNLENBQUNNLFNBQVMsS0FBS0gsU0FBUyxHQUFHSCxNQUFNLENBQUNNLFNBQVMsR0FBR04sTUFBTSxDQUFDTyxLQUFLLEtBQUtKLFNBQVMsR0FBR0gsTUFBTSxDQUFDTyxLQUFLLEdBQUcsR0FBRztJQUNwSCxJQUFJLENBQUNDLFNBQVMsR0FBR1IsTUFBTSxDQUFDUSxTQUFTLEtBQUtMLFNBQVMsR0FBR0gsTUFBTSxDQUFDUSxTQUFTLEdBQUcsR0FBRztJQUN4RSxJQUFJLENBQUNDLFdBQVcsR0FBR1QsTUFBTSxDQUFDUyxXQUFXLEtBQUtOLFNBQVMsSUFBSSxJQUFJLENBQUNLLFNBQVMsR0FBRyxDQUFDLElBQUlSLE1BQU0sQ0FBQ1MsV0FBVzs7SUFFL0YsSUFBSSxDQUFDQyxTQUFTLEdBQUdWLE1BQU0sQ0FBQ1UsU0FBUyxJQUFJVixNQUFNLENBQUNLLEtBQUssSUFBSSxjQUFjO0lBQ25FLElBQUksQ0FBQ00sU0FBUyxHQUFHWCxNQUFNLENBQUNXLFNBQVMsS0FBS1IsU0FBUyxHQUFHSCxNQUFNLENBQUNXLFNBQVMsR0FBR1gsTUFBTSxDQUFDTyxLQUFLLEtBQUtKLFNBQVMsR0FBR0gsTUFBTSxDQUFDTyxLQUFLLEdBQUcsR0FBRzs7SUFFcEg7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsSUFBSSxDQUFDSyxTQUFTLEdBQUdaLE1BQU0sQ0FBQ1ksU0FBUyxJQUFJLENBQUM7O0lBRXRDO0lBQ0EsSUFBSSxDQUFDQyxhQUFhLEdBQUdiLE1BQU0sQ0FBQ2EsYUFBYSxLQUFLVixTQUFTLEdBQUdILE1BQU0sQ0FBQ2EsYUFBYSxHQUFHLElBQUk7SUFDckYsSUFBSSxDQUFDQyxrQkFBa0IsR0FBRyxhQUFhO0VBQzNDOztFQUVBO0VBQ0FDLFlBQVlBLENBQUNwQyxDQUFDLEVBQUVDLENBQUMsRUFBRUMsQ0FBQyxFQUFFO0lBQ2xCLElBQUksQ0FBQzZCLFNBQVMsR0FBR2hDLE9BQU8sQ0FBQ0MsQ0FBQyxFQUFFQyxDQUFDLEVBQUVDLENBQUMsQ0FBQztFQUNyQzs7RUFFQW1DLFlBQVlBLENBQUNyQyxDQUFDLEVBQUVDLENBQUMsRUFBRUMsQ0FBQyxFQUFFO0lBQ2xCLElBQUksQ0FBQ3VCLFNBQVMsR0FBRzFCLE9BQU8sQ0FBQ0MsQ0FBQyxFQUFFQyxDQUFDLEVBQUVDLENBQUMsQ0FBQztFQUNyQzs7RUFFQW9DLEtBQUtBLENBQUEsRUFBRztJQUNKLE9BQU8sSUFBSW5CLEtBQUssQ0FBQyxDQUFDLENBQUNvQixJQUFJLENBQUMsSUFBSSxDQUFDO0VBQ2pDOztFQUVBQSxJQUFJQSxDQUFDQyxJQUFJLEVBQUU7SUFDUCxJQUFJLENBQUNmLFNBQVMsR0FBR2UsSUFBSSxDQUFDZixTQUFTO0lBQy9CLElBQUksQ0FBQ0UsU0FBUyxHQUFHYSxJQUFJLENBQUNiLFNBQVM7SUFDL0IsSUFBSSxDQUFDRSxTQUFTLEdBQUdXLElBQUksQ0FBQ1gsU0FBUztJQUMvQixJQUFJLENBQUNDLFdBQVcsR0FBR1UsSUFBSSxDQUFDVixXQUFXO0lBQ25DLElBQUksQ0FBQ0MsU0FBUyxHQUFHUyxJQUFJLENBQUNULFNBQVM7SUFDL0IsSUFBSSxDQUFDQyxTQUFTLEdBQUdRLElBQUksQ0FBQ1IsU0FBUztJQUMvQixJQUFJLENBQUNDLFNBQVMsR0FBR08sSUFBSSxDQUFDUCxTQUFTO0lBQy9CLElBQUksQ0FBQ0MsYUFBYSxHQUFHTSxJQUFJLENBQUNOLGFBQWE7SUFDdkMsSUFBSSxDQUFDQyxrQkFBa0IsR0FBR0ssSUFBSSxDQUFDTCxrQkFBa0I7SUFDakQsT0FBTyxJQUFJO0VBQ2Y7QUFDSjs7QUFFQWhCLEtBQUssQ0FBQ3BCLE9BQU8sR0FBR0EsT0FBTzs7QUFFdkIsTUFBTTBDLFlBQVksR0FBRyxJQUFJdEIsS0FBSyxDQUFDLENBQUM7O0FBRWhDO0FBQ0EsTUFBTXVCLGVBQWUsR0FBR0EsQ0FBQ0MsTUFBTSxFQUFFQyxNQUFNLEtBQUs7RUFDeEMsS0FBSyxJQUFJQyxDQUFDLEdBQUMsQ0FBQyxFQUFFQSxDQUFDLEdBQUNGLE1BQU0sQ0FBQ3BCLE1BQU0sRUFBRXNCLENBQUMsRUFBRSxFQUFFO0lBQ2hDRCxNQUFNLENBQUNFLGFBQWEsQ0FBQ0gsTUFBTSxDQUFDRSxDQUFDLENBQUMsQ0FBQztFQUNuQztBQUNKLENBQUM7O0FBRU0sTUFBTUUsS0FBSyxTQUFTbkQsRUFBRSxDQUFDb0QsZUFBZSxDQUFDO0VBQzFDNUIsV0FBV0EsQ0FBQSxFQUErQixLQUE5QjZCLEtBQUssR0FBQTNCLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHbUIsWUFBWSxDQUFDSCxLQUFLLENBQUMsQ0FBQztJQUNwQyxLQUFLLENBQUMsQ0FBQzs7SUFFUCxJQUFJLENBQUNXLEtBQUssR0FBR0EsS0FBSzs7SUFFbEI7SUFDQSxJQUFJLENBQUNDLEVBQUUsR0FBR3ZELFdBQVcsRUFBRTs7SUFFdkIsSUFBSSxDQUFDd0QsSUFBSSxHQUFHLElBQUl0QyxLQUFLLENBQUNJLElBQUksQ0FBQyxDQUFDO0lBQzVCLElBQUksQ0FBQ21DLFNBQVMsR0FBRyxJQUFJOztJQUVyQjtJQUNBLElBQUksQ0FBQ0MsT0FBTyxHQUFHLElBQUk7O0lBRW5CO0lBQ0EsSUFBSSxDQUFDQyxPQUFPLEdBQUcsSUFBSTs7SUFFbkI7SUFDQTtJQUNBLElBQUksQ0FBQ0MsVUFBVSxHQUFHLElBQUk7O0lBRXRCO0lBQ0EsSUFBSSxDQUFDQyxJQUFJLEdBQUcsSUFBSSxDQUFDTixFQUFFLENBQUNPLFFBQVEsQ0FBQyxDQUFDO0VBQ2xDOztFQUVBO0VBQ0FDLElBQUlBLENBQUEsQ0FBQyx3QkFBd0IsQ0FBQztFQUM5QkMsT0FBT0EsQ0FBQSxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQzs7RUFFaENDLElBQUlBLENBQUEsQ0FBQyxZQUFZLENBQUUsT0FBTyxJQUFJLENBQUU7O0VBRWhDO0VBQ0E7RUFDQUMsWUFBWUEsQ0FBQ0MsTUFBTSxFQUFFLENBQUUsT0FBTyxJQUFJLENBQUU7O0VBRXBDeEIsS0FBS0EsQ0FBQSxFQUFHO0lBQ0osT0FBTyxJQUFJUyxLQUFLLENBQUMsQ0FBQyxDQUFDUixJQUFJLENBQUMsSUFBSSxDQUFDO0VBQ2pDOztFQUVBQSxJQUFJQSxDQUFDQyxJQUFJLEVBQUU7SUFDUCxJQUFJLENBQUNTLEtBQUssR0FBR1QsSUFBSSxDQUFDUyxLQUFLLENBQUNYLEtBQUssQ0FBQyxDQUFDO0lBQy9CLE9BQU8sSUFBSTtFQUNmOztFQUVBeUIsV0FBV0EsQ0FBQSxFQUFHO0lBQ1ZDLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLHVDQUF1QyxDQUFDO0VBQzFEOztFQUVBQyxRQUFRQSxDQUFBLEVBQUc7SUFDUCxJQUFJLENBQUNkLFNBQVMsR0FBRyxJQUFJO0lBQ3JCLElBQUksQ0FBQ2UsU0FBUyxDQUFDLEVBQUVDLElBQUksRUFBRXJCLEtBQUssQ0FBQ3NCLE1BQU0sQ0FBQ0MsUUFBUSxDQUFDLENBQUMsQ0FBQztFQUNuRDs7RUFFQUMsVUFBVUEsQ0FBQSxFQUFHO0lBQ1QsSUFBSSxJQUFJLENBQUNuQixTQUFTLEVBQUU7TUFDaEIsSUFBSSxDQUFDVyxXQUFXLENBQUMsQ0FBQztNQUNsQixJQUFJLENBQUNYLFNBQVMsR0FBRyxLQUFLO0lBQzFCO0VBQ0o7O0VBRUE7RUFDQW9CLE9BQU9BLENBQUEsRUFBRztJQUNOLElBQUksQ0FBQ0QsVUFBVSxDQUFDLENBQUM7SUFDakIsT0FBTyxJQUFJLENBQUNwQixJQUFJO0VBQ3BCOztFQUVBO0VBQ0EsT0FBT3NCLE9BQU9BLENBQUNDLEdBQUcsRUFBRTtJQUNoQixPQUFPbEYsd0NBQUcsQ0FBQ21GLE9BQU8sQ0FBQ0QsR0FBRyxDQUFDO0VBQzNCOztFQUVBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQUUsS0FBS0EsQ0FBQ0MsT0FBTyxFQUFFQyxNQUFNLEVBQUU7SUFDbkIsT0FBT3RGLHdDQUFHLENBQUN1RixLQUFLLENBQUMsSUFBSSxFQUFFRixPQUFPLEVBQUVDLE1BQU0sQ0FBQztFQUMzQzs7RUFFQTtFQUNBO0VBQ0E7RUFDQUUsY0FBY0EsQ0FBQ0gsT0FBTyxFQUFFO0lBQ3BCLE9BQU9yRix3Q0FBRyxDQUFDeUYsWUFBWSxDQUFDLElBQUksRUFBRUosT0FBTyxDQUFDO0VBQzFDOztFQUVBSyxVQUFVQSxDQUFDN0IsT0FBTyxFQUFFO0lBQ2hCLElBQUksQ0FBQ0EsT0FBTyxHQUFHQSxPQUFPO0VBQzFCO0FBQ0o7O0FBRUFOLEtBQUssQ0FBQ3NCLE1BQU0sR0FBRztFQUNYQyxRQUFRLEVBQUU7QUFDZCxDQUFDOztBQUVEMUUsRUFBRSxDQUFDdUYsa0JBQWtCLENBQUNDLElBQUksQ0FBQ3JDLEtBQUssQ0FBQ3NDLFNBQVMsQ0FBQzs7QUFFcEMsTUFBTUMsUUFBUSxHQUFHO0VBQ3BCQyxLQUFLLEVBQVEsQ0FBQyxFQUFFO0VBQ2hCQyxLQUFLLEVBQVEsQ0FBQztFQUNkQyxLQUFLLEVBQVEsQ0FBQztFQUNkQyxXQUFXLEVBQUUsQ0FBQyxDQUFFO0FBQ3BCLENBQUM7O0FBRUQ7QUFDTyxNQUFNQyxRQUFRLFNBQVM1QyxLQUFLLENBQUM7O0VBRWhDM0IsV0FBV0EsQ0FBQSxFQUE4QyxLQUE3Q3VCLE1BQU0sR0FBQXJCLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLElBQUksS0FBRTJCLEtBQUssR0FBQTNCLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHbUIsWUFBWSxDQUFDSCxLQUFLLENBQUMsQ0FBQztJQUNuRCxLQUFLLENBQUNXLEtBQUssQ0FBQzs7SUFFWjtJQUNBO0lBQ0EsSUFBSSxDQUFDMkMsTUFBTSxHQUFHakQsTUFBTSxHQUFHLENBQUNBLE1BQU0sQ0FBQyxHQUFHLEVBQUU7O0lBRXBDO0lBQ0EsSUFBSSxDQUFDa0QsUUFBUSxHQUFHckUsU0FBUzs7SUFFekI7SUFDQSxJQUFJLENBQUNzRSxVQUFVLEdBQUcsSUFBSTtFQUMxQjs7RUFFQTtFQUNBLElBQUluRCxNQUFNQSxDQUFBLEVBQUc7SUFDVDtJQUNBLE9BQU8sSUFBSSxDQUFDaUQsTUFBTSxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQ0EsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztFQUNsRDs7RUFFQSxJQUFJRyxTQUFTQSxDQUFBLEVBQUc7SUFDWixPQUFPLElBQUksQ0FBQ0gsTUFBTSxDQUFDckUsTUFBTTtFQUM3Qjs7RUFFQTtFQUNBeUUsV0FBV0EsQ0FBQ0MsU0FBUyxFQUFpQixLQUFmQyxTQUFTLEdBQUE1RSxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxDQUFDO0lBQ2hDLEtBQUssSUFBSXVCLENBQUMsR0FBQyxDQUFDLEVBQUVBLENBQUMsR0FBQ29ELFNBQVMsRUFBRSxFQUFFcEQsQ0FBQyxFQUFFO01BQzVCLElBQUksQ0FBQ3NELFFBQVEsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDRCxTQUFTLENBQUM7SUFDaEM7SUFDQSxPQUFPLElBQUk7RUFDZjs7RUFFQUUsU0FBU0EsQ0FBQSxFQUFJLENBQUUsT0FBTyxJQUFJLENBQUNQLFFBQVEsQ0FBRTtFQUNyQ1EsVUFBVUEsQ0FBQSxFQUFHLENBQUUsT0FBTyxDQUFDLElBQUksQ0FBQ1IsUUFBUSxDQUFFOztFQUV0Q1MsTUFBTUEsQ0FBQSxFQUFHO0lBQ0wsT0FBTyxJQUFJLFlBQVlDLElBQUk7RUFDL0I7O0VBRUFKLFFBQVFBLENBQUM1RixDQUFDLEVBQUNDLENBQUMsRUFBaUIsS0FBZjBGLFNBQVMsR0FBQTVFLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLENBQUM7SUFDdkI7SUFDQSxNQUFNa0YsSUFBSSxHQUFHLElBQUksQ0FBQ1osTUFBTSxDQUFDTSxTQUFTLENBQUMsS0FBSyxJQUFJLENBQUNOLE1BQU0sQ0FBQ00sU0FBUyxDQUFDLEdBQUcsRUFBRSxDQUFDOztJQUVwRTtJQUNBLE1BQU1PLEtBQUssR0FBRyxFQUFDbEcsQ0FBQyxFQUFFQyxDQUFDLEVBQUM7SUFDcEJnRyxJQUFJLENBQUNFLElBQUksQ0FBQ0QsS0FBSyxDQUFDO0lBQ2hCLElBQUksQ0FBQ3ZDLFFBQVEsQ0FBQyxDQUFDO0lBQ2YsT0FBT3VDLEtBQUs7RUFDaEI7O0VBRUFFLFFBQVFBLENBQUNDLEtBQUssRUFBK0MsS0FBN0NWLFNBQVMsR0FBQTVFLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLENBQUMsS0FBRXVGLE1BQU0sR0FBQXZGLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLElBQUlULEtBQUssQ0FBQ25CLE9BQU8sQ0FBQyxDQUFDOztJQUV2RDtJQUNBO0lBQ0EsSUFBSSxPQUFPd0csU0FBUyxLQUFLLFFBQVEsRUFBRTtNQUMvQlcsTUFBTSxHQUFHWCxTQUFTO01BQ2xCQSxTQUFTLEdBQUcsQ0FBQztJQUNqQjs7SUFFQSxPQUFPVyxNQUFNLENBQUN0RSxJQUFJLENBQUMsSUFBSSxDQUFDcUQsTUFBTSxDQUFDTSxTQUFTLENBQUMsQ0FBQ1UsS0FBSyxDQUFDLENBQUM7RUFDckQ7O0VBRUFFLFdBQVdBLENBQUNGLEtBQUssRUFBaUIsS0FBZlYsU0FBUyxHQUFBNUUsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsQ0FBQztJQUM1QixJQUFJLENBQUNzRSxNQUFNLENBQUNNLFNBQVMsQ0FBQyxDQUFDYSxNQUFNLENBQUNILEtBQUssRUFBRSxDQUFDLENBQUM7RUFDM0M7O0VBRUFJLFdBQVdBLENBQUNKLEtBQUssRUFBRXJHLENBQUMsRUFBRUMsQ0FBQyxFQUFpQixLQUFmMEYsU0FBUyxHQUFBNUUsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsQ0FBQztJQUNsQyxJQUFJaEIsQ0FBQyxHQUFHLElBQUksQ0FBQ3NGLE1BQU0sQ0FBQ00sU0FBUyxDQUFDLENBQUNVLEtBQUssQ0FBQztJQUNyQ3RHLENBQUMsQ0FBQ0MsQ0FBQyxHQUFHQSxDQUFDO0lBQ1BELENBQUMsQ0FBQ0UsQ0FBQyxHQUFHQSxDQUFDO0lBQ1AsSUFBSSxDQUFDMEQsUUFBUSxDQUFDLENBQUM7RUFDbkI7O0VBRUErQyxXQUFXQSxDQUFDTCxLQUFLLEVBQUV0RyxDQUFDLEVBQWlCLEtBQWY0RixTQUFTLEdBQUE1RSxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxDQUFDO0lBQy9CLElBQUksQ0FBQ3NFLE1BQU0sQ0FBQ00sU0FBUyxDQUFDLENBQUNhLE1BQU0sQ0FBQ0gsS0FBSyxFQUFFLENBQUMsRUFBRXRHLENBQUMsQ0FBQztFQUM5Qzs7RUFFQSxJQUFJaUIsTUFBTUEsQ0FBQSxFQUFHO0lBQ1R5QyxPQUFPLENBQUNrRCxJQUFJLENBQUMsOEZBQThGLENBQUM7SUFDNUcsT0FBTyxJQUFJLENBQUN2RSxNQUFNLENBQUNwQixNQUFNO0VBQzdCOztFQUVBO0VBQ0EsSUFBSTRGLFdBQVdBLENBQUEsRUFBRztJQUNkLE9BQU8sSUFBSSxDQUFDeEUsTUFBTSxDQUFDcEIsTUFBTTtFQUM3Qjs7RUFFQTtFQUNBNkYsY0FBY0EsQ0FBQSxFQUFnQixLQUFmbEIsU0FBUyxHQUFBNUUsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsQ0FBQztJQUN4QjtJQUNBLE1BQU1rRixJQUFJLEdBQUcsSUFBSSxDQUFDWixNQUFNLENBQUNNLFNBQVMsQ0FBQztJQUNuQyxPQUFPTSxJQUFJLEdBQUdBLElBQUksQ0FBQ2pGLE1BQU0sR0FBRyxDQUFDO0VBQ2pDOztFQUVBO0VBQ0E4RixLQUFLQSxDQUFBLEVBQUc7SUFDSixJQUFJLENBQUN6QixNQUFNLEdBQUcsRUFBRTtJQUNoQixJQUFJLENBQUMxQixRQUFRLENBQUMsQ0FBQztFQUNuQjs7RUFFQTtFQUNBO0VBQ0E7RUFDQW9ELFNBQVNBLENBQUNDLEVBQUUsRUFBaUIsS0FBZnJCLFNBQVMsR0FBQTVFLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLENBQUM7O0lBRXZCO0lBQ0EsTUFBTWtHLFNBQVMsR0FBRyxJQUFJLENBQUNDLFlBQVksQ0FBQ3ZCLFNBQVMsQ0FBQzs7SUFFOUM7SUFDQSxLQUFLLElBQUlyRCxDQUFDLEdBQUMsQ0FBQyxFQUFFQSxDQUFDLEdBQUMyRSxTQUFTLEVBQUUzRSxDQUFDLEVBQUUsRUFBRTtNQUM1QjtNQUNBLE1BQU02RSxFQUFFLEdBQUc3RSxDQUFDO01BQ1osTUFBTThFLEVBQUUsR0FBRyxJQUFJLENBQUNDLFNBQVMsQ0FBQy9FLENBQUMsRUFBRXFELFNBQVMsQ0FBQzs7TUFFdkM7TUFDQSxNQUFNMkIsQ0FBQyxHQUFHLElBQUksQ0FBQ2xCLFFBQVEsQ0FBQ2UsRUFBRSxFQUFFeEIsU0FBUyxDQUFDO01BQ3RDLE1BQU1oRyxDQUFDLEdBQUcsSUFBSSxDQUFDeUcsUUFBUSxDQUFDZ0IsRUFBRSxFQUFFekIsU0FBUyxDQUFDOztNQUV0QztNQUNBLE1BQU00QixJQUFJLEdBQUdQLEVBQUUsQ0FBQ00sQ0FBQyxFQUFFM0gsQ0FBQyxFQUFFd0gsRUFBRSxFQUFFQyxFQUFFLENBQUM7O01BRTdCO01BQ0EsSUFBSUcsSUFBSSxFQUFFO1FBQ047TUFDSjtJQUNKO0VBQ0o7O0VBRUE7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0ksQ0FBQ0Msa0JBQWtCQyxDQUFDMUgsQ0FBQyxFQUFFdUgsQ0FBQyxFQUFFM0gsQ0FBQyxFQUFFd0gsRUFBRSxFQUFFQyxFQUFFLEVBQUV6QixTQUFTLEVBQUUrQixTQUFTLEVBQUVwRyxTQUFTLEVBQUU7O0lBRWxFO0lBQ0EsSUFBSXRDLDhDQUFNLENBQUMySSx1QkFBdUIsQ0FBQzVILENBQUMsRUFBRXVILENBQUMsRUFBRTNILENBQUMsRUFBRTJCLFNBQVMsRUFBRW9HLFNBQVMsQ0FBQyxFQUFFO01BQy9ELE9BQU8sSUFBSTtJQUNmOztJQUVBO0lBQ0EsTUFBTUUsU0FBUyxHQUFHLElBQUksQ0FBQ0EsU0FBUyxDQUFDVCxFQUFFLEVBQUV4QixTQUFTLENBQUM7SUFDL0MsTUFBTTBCLFNBQVMsR0FBRyxJQUFJLENBQUNBLFNBQVMsQ0FBQ0QsRUFBRSxFQUFFekIsU0FBUyxDQUFDO0lBQy9DLE1BQU1rQyxTQUFTLEdBQUlELFNBQVMsS0FBSyxDQUFDLENBQUU7SUFDcEMsTUFBTUUsU0FBUyxHQUFJVCxTQUFTLEtBQUssQ0FBQyxDQUFFO0lBQ3BDLE1BQU1VLFNBQVMsR0FBR0YsU0FBUyxJQUFJLElBQUksQ0FBQ3pCLFFBQVEsQ0FBQ3dCLFNBQVMsQ0FBQztJQUN2RCxNQUFNSSxTQUFTLEdBQUdGLFNBQVMsSUFBSSxJQUFJLENBQUMxQixRQUFRLENBQUNpQixTQUFTLENBQUM7O0lBRXZELE1BQU1ZLGNBQWMsR0FBR0YsU0FBUyxJQUFJL0ksOENBQU0sQ0FBQ2tKLHdCQUF3QixDQUFDbkksQ0FBQyxFQUFFZ0ksU0FBUyxFQUFFVCxDQUFDLEVBQUUzSCxDQUFDLEVBQUUyQixTQUFTLEVBQUVvRyxTQUFTLENBQUM7SUFDN0csTUFBTVMsY0FBYyxHQUFHSCxTQUFTLElBQUloSiw4Q0FBTSxDQUFDa0osd0JBQXdCLENBQUNuSSxDQUFDLEVBQUV1SCxDQUFDLEVBQUUzSCxDQUFDLEVBQUVxSSxTQUFTLEVBQUUxRyxTQUFTLEVBQUVvRyxTQUFTLENBQUM7SUFDN0csT0FBT08sY0FBYyxJQUFJRSxjQUFjO0VBQzNDOztFQUVBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDSUMsYUFBYUEsQ0FBQ3JJLENBQUMsRUFBRTJILFNBQVMsRUFBcUMsS0FBbkMvQixTQUFTLEdBQUE1RSxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxDQUFDLEtBQUVzSCxjQUFjLEdBQUF0SCxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxDQUFDOztJQUV6RCxJQUFJdUgsU0FBUyxHQUFHLENBQUMsQ0FBQzs7SUFFbEIsSUFBSUMsTUFBTSxHQUFHQSxDQUFDakIsQ0FBQyxFQUFFM0gsQ0FBQyxLQUFLWCw4Q0FBTSxDQUFDd0osYUFBYSxDQUFDekksQ0FBQyxFQUFFdUgsQ0FBQyxFQUFFM0gsQ0FBQyxFQUFFK0gsU0FBUyxDQUFDOztJQUUvRDtJQUNBLE1BQU1lLGVBQWUsR0FBSUosY0FBYyxHQUFHLENBQUU7SUFDNUMsSUFBSUksZUFBZSxFQUFFO01BQ2pCRixNQUFNLEdBQUdBLENBQUNqQixDQUFDLEVBQUUzSCxDQUFDLEVBQUV3SCxFQUFFLEVBQUVDLEVBQUUsS0FBSyxJQUFJLENBQUMsQ0FBQ0ksa0JBQWtCLENBQUN6SCxDQUFDLEVBQUV1SCxDQUFDLEVBQUUzSCxDQUFDLEVBQUV3SCxFQUFFLEVBQUVDLEVBQUUsRUFBRXpCLFNBQVMsRUFBRStCLFNBQVMsRUFBRVcsY0FBYyxDQUFDO0lBQzlHOztJQUVBO0lBQ0EsTUFBTUssVUFBVSxHQUFHQSxDQUFDcEIsQ0FBQyxFQUFFM0gsQ0FBQyxFQUFFd0gsRUFBRSxFQUFFQyxFQUFFLEtBQUs7O01BRWpDO01BQ0EsTUFBTXVCLFNBQVMsR0FBR0osTUFBTSxDQUFDakIsQ0FBQyxFQUFFM0gsQ0FBQyxFQUFFd0gsRUFBRSxFQUFFQyxFQUFFLENBQUM7TUFDdEMsSUFBSXVCLFNBQVMsRUFBRTtRQUNYTCxTQUFTLEdBQUduQixFQUFFO01BQ2xCOztNQUVBO01BQ0EsT0FBT3dCLFNBQVM7SUFDcEIsQ0FBQzs7SUFFRCxJQUFJLENBQUM1QixTQUFTLENBQUMyQixVQUFVLEVBQUUvQyxTQUFTLENBQUM7SUFDckMsT0FBTzJDLFNBQVM7RUFDcEI7O0VBRUFNLFFBQVFBLENBQUNDLEVBQUUsRUFBRUMsRUFBRSxFQUFFbkQsU0FBUyxFQUFFO0lBQ3hCLE1BQU12RCxNQUFNLEdBQUcsSUFBSSxDQUFDaUQsTUFBTSxDQUFDTSxTQUFTLENBQUM7SUFDckMsS0FBSyxJQUFJckQsQ0FBQyxHQUFDLENBQUMsRUFBRUEsQ0FBQyxHQUFDRixNQUFNLENBQUNwQixNQUFNLEVBQUVzQixDQUFDLEVBQUUsRUFBRTtNQUNoQ0YsTUFBTSxDQUFDRSxDQUFDLENBQUMsQ0FBQ3RDLENBQUMsSUFBSTZJLEVBQUU7TUFDakJ6RyxNQUFNLENBQUNFLENBQUMsQ0FBQyxDQUFDckMsQ0FBQyxJQUFJNkksRUFBRTtJQUNyQjtJQUNBLElBQUksQ0FBQ25GLFFBQVEsQ0FBQyxDQUFDO0VBQ25COztFQUVBTixJQUFJQSxDQUFDd0YsRUFBRSxFQUFFQyxFQUFFLEVBQUU7SUFDVCxLQUFLLElBQUlDLENBQUMsR0FBQyxDQUFDLEVBQUVBLENBQUMsR0FBQyxJQUFJLENBQUN2RCxTQUFTLEVBQUV1RCxDQUFDLEVBQUUsRUFBRTtNQUNqQyxJQUFJLENBQUNILFFBQVEsQ0FBQ0MsRUFBRSxFQUFFQyxFQUFFLEVBQUVDLENBQUMsQ0FBQztJQUM1QjtJQUNBLE9BQU8sSUFBSTtFQUNmOztFQUVBO0VBQ0E7RUFDQXpGLFlBQVlBLENBQUNDLE1BQU0sRUFBRTs7SUFFakIsS0FBSyxJQUFJd0YsQ0FBQyxHQUFDLENBQUMsRUFBRUEsQ0FBQyxHQUFDLElBQUksQ0FBQ3ZELFNBQVMsRUFBRXVELENBQUMsRUFBRSxFQUFFO01BQ2pDLE1BQU0zRyxNQUFNLEdBQUcsSUFBSSxDQUFDaUQsTUFBTSxDQUFDMEQsQ0FBQyxDQUFDOztNQUU3QixLQUFLLElBQUl6RyxDQUFDLEdBQUMsQ0FBQyxFQUFFQSxDQUFDLEdBQUNGLE1BQU0sQ0FBQ3BCLE1BQU0sRUFBRXNCLENBQUMsRUFBRSxFQUFFO1FBQ2hDLE1BQU12QyxDQUFDLEdBQUdxQyxNQUFNLENBQUNFLENBQUMsQ0FBQzs7UUFFbkI7UUFDQSxNQUFNMEcsY0FBYyxHQUFHQSxDQUFDaEosQ0FBQyxFQUFFQyxDQUFDLEVBQUVxRyxNQUFNLEtBQUs7VUFDckM7VUFDQSxNQUFNMkMsSUFBSSxHQUFHNUksT0FBTyxDQUFDNkksR0FBRyxDQUFDbEosQ0FBQyxFQUFFQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUNxRCxZQUFZLENBQUNDLE1BQU0sQ0FBQztVQUN0RCtDLE1BQU0sQ0FBQ3RHLENBQUMsR0FBR2lKLElBQUksQ0FBQ2pKLENBQUM7VUFDakJzRyxNQUFNLENBQUNyRyxDQUFDLEdBQUdnSixJQUFJLENBQUNoSixDQUFDO1VBQ2pCLE9BQU9xRyxNQUFNO1FBQ2pCLENBQUM7O1FBRUQwQyxjQUFjLENBQUNqSixDQUFDLENBQUNDLENBQUMsRUFBRUQsQ0FBQyxDQUFDRSxDQUFDLEVBQUVGLENBQUMsQ0FBQzs7UUFFM0I7UUFDQSxJQUFJLElBQUksQ0FBQ29KLFdBQVcsQ0FBQzdHLENBQUMsRUFBRXlHLENBQUMsQ0FBQyxFQUFFO1VBQ3hCLElBQUlLLEVBQUUsR0FBR0osY0FBYyxDQUFDakosQ0FBQyxDQUFDc0osSUFBSSxFQUFFdEosQ0FBQyxDQUFDdUosSUFBSSxFQUFFakosT0FBTyxDQUFDO1VBQ2hETixDQUFDLENBQUNzSixJQUFJLEdBQUdELEVBQUUsQ0FBQ3BKLENBQUM7VUFDYkQsQ0FBQyxDQUFDdUosSUFBSSxHQUFHRixFQUFFLENBQUNuSixDQUFDOztVQUVibUosRUFBRSxHQUFHSixjQUFjLENBQUNqSixDQUFDLENBQUN3SixJQUFJLEVBQUV4SixDQUFDLENBQUN5SixJQUFJLEVBQUVuSixPQUFPLENBQUM7VUFDNUNOLENBQUMsQ0FBQ3dKLElBQUksR0FBR0gsRUFBRSxDQUFDcEosQ0FBQztVQUNiRCxDQUFDLENBQUN5SixJQUFJLEdBQUdKLEVBQUUsQ0FBQ25KLENBQUM7UUFDakI7O1FBRUE7UUFDQTtRQUNBLElBQUksSUFBSSxDQUFDd0osWUFBWSxDQUFDbkgsQ0FBQyxFQUFFeUcsQ0FBQyxDQUFDLEVBQUU7VUFDekJoSixDQUFDLENBQUMySixnQkFBZ0IsQ0FBQ3BHLFlBQVksQ0FBQ0MsTUFBTSxDQUFDO1FBQzNDO01BQ0o7SUFDSjtJQUNBLElBQUksQ0FBQ0ksUUFBUSxDQUFDLENBQUM7SUFDZixPQUFPLElBQUk7RUFDZjs7RUFFQTtFQUNBO0VBQ0E7RUFDQTtFQUNBZ0csT0FBT0EsQ0FBQ0MsT0FBTyxFQUF1QyxLQUFyQ0MsWUFBWSxHQUFBOUksU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsQ0FBQyxLQUFFK0ksWUFBWSxHQUFBL0ksU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsQ0FBQyxDQUFDO0lBQ2hEO0lBQ0EsTUFBTWdKLE9BQU8sR0FBR0gsT0FBTyxDQUFDdkUsTUFBTSxDQUFDd0UsWUFBWSxDQUFDO0lBQzVDLE1BQU1HLE9BQU8sR0FBR3BLLGdCQUFnQixDQUFDbUssT0FBTyxDQUFDOztJQUV6QztJQUNBLElBQUlFLFFBQVE7SUFDWixJQUFJSCxZQUFZLEtBQUssQ0FBQyxDQUFDLEVBQUU7TUFDckI7TUFDQUcsUUFBUSxHQUFHLElBQUksQ0FBQ0MsWUFBWSxDQUFDLENBQUM7TUFDOUIsSUFBSSxDQUFDN0UsTUFBTSxDQUFDNEUsUUFBUSxDQUFDLEdBQUdELE9BQU87SUFDbkMsQ0FBQyxNQUFNO01BQ0g7TUFDQUMsUUFBUSxHQUFHSCxZQUFZO01BQ3ZCLElBQUksQ0FBQ3pFLE1BQU0sQ0FBQ21CLE1BQU0sQ0FBQ3lELFFBQVEsRUFBRSxDQUFDLEVBQUVELE9BQU8sQ0FBQztJQUM1QztJQUNBLElBQUksQ0FBQ3JHLFFBQVEsQ0FBQyxDQUFDOztJQUVmLE9BQU9zRyxRQUFRO0VBQ25COztFQUVBRSxZQUFZQSxDQUFDUCxPQUFPLEVBQUU7SUFDbEIsSUFBSSxDQUFDdEUsUUFBUSxHQUFHc0UsT0FBTyxDQUFDdEUsUUFBUTs7SUFFaEM7SUFDQSxJQUFJLENBQUNELE1BQU0sR0FBRyxFQUFFO0lBQ2hCLEtBQUssSUFBSS9DLENBQUMsR0FBQyxDQUFDLEVBQUVBLENBQUMsR0FBQ3NILE9BQU8sQ0FBQ3BFLFNBQVMsRUFBRWxELENBQUMsRUFBRSxFQUFFO01BQ3BDLElBQUksQ0FBQ3FILE9BQU8sQ0FBQ0MsT0FBTyxFQUFFdEgsQ0FBQyxDQUFDO0lBQzVCO0lBQ0EsT0FBTyxJQUFJO0VBQ2Y7O0VBRUFOLElBQUlBLENBQUM0SCxPQUFPLEVBQUU7SUFDVixLQUFLLENBQUM1SCxJQUFJLENBQUM0SCxPQUFPLENBQUM7SUFDbkIsT0FBTyxJQUFJLENBQUNPLFlBQVksQ0FBQ1AsT0FBTyxDQUFDO0VBQ3JDOztFQUVBcEcsV0FBV0EsQ0FBQSxFQUFHO0lBQ1YsSUFBSSxDQUFDWixJQUFJLENBQUN3SCxTQUFTLENBQUMsQ0FBQztJQUNyQixLQUFLLElBQUk5SCxDQUFDLEdBQUMsQ0FBQyxFQUFFQSxDQUFDLEdBQUMsSUFBSSxDQUFDa0QsU0FBUyxFQUFFbEQsQ0FBQyxFQUFFLEVBQUU7TUFDakMsTUFBTTJELElBQUksR0FBRyxJQUFJLENBQUNaLE1BQU0sQ0FBQy9DLENBQUMsQ0FBQztNQUMzQixJQUFJMkQsSUFBSSxFQUFFO1FBQ045RCxlQUFlLENBQUM4RCxJQUFJLEVBQUUsSUFBSSxDQUFDckQsSUFBSSxDQUFDO01BQ3BDO0lBQ0o7SUFDQSxPQUFPLElBQUksQ0FBQ0EsSUFBSTtFQUNwQjs7RUFFQXlILFVBQVVBLENBQUNoRSxLQUFLLEVBQWlCLEtBQWZWLFNBQVMsR0FBQTVFLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLENBQUM7SUFDM0IsT0FBT3NGLEtBQUssSUFBRSxDQUFDLElBQUlBLEtBQUssR0FBRyxJQUFJLENBQUNRLGNBQWMsQ0FBQ2xCLFNBQVMsQ0FBQztFQUM3RDs7RUFFQTtFQUNBMEIsU0FBU0EsQ0FBQ2hCLEtBQUssRUFBaUIsS0FBZlYsU0FBUyxHQUFBNUUsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsQ0FBQztJQUMxQjtJQUNBLElBQUksQ0FBQyxJQUFJLENBQUNzSixVQUFVLENBQUNoRSxLQUFLLEVBQUVWLFNBQVMsQ0FBQyxFQUFFO01BQ3BDLE9BQU8sQ0FBQyxDQUFDO0lBQ2I7O0lBRUE7SUFDQSxNQUFNMkUsTUFBTSxHQUFJakUsS0FBSyxLQUFLLElBQUksQ0FBQ1EsY0FBYyxDQUFDbEIsU0FBUyxDQUFDLEdBQUcsQ0FBRTtJQUM3RCxJQUFJMkUsTUFBTSxFQUFFO01BQ1I7TUFDQSxPQUFPLElBQUksQ0FBQ2hGLFFBQVEsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pDOztJQUVBLE9BQU9lLEtBQUssR0FBRyxDQUFDO0VBQ3BCOztFQUVBO0VBQ0F1QixTQUFTQSxDQUFDdkIsS0FBSyxFQUFpQixLQUFmVixTQUFTLEdBQUE1RSxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxDQUFDO0lBQzFCO0lBQ0EsSUFBSSxDQUFDLElBQUksQ0FBQ3NKLFVBQVUsQ0FBQ2hFLEtBQUssRUFBRVYsU0FBUyxDQUFDLEVBQUU7TUFDcEMsT0FBTyxDQUFDLENBQUM7SUFDYjs7SUFFQTtJQUNBLElBQUlVLEtBQUssS0FBSyxDQUFDLEVBQUU7TUFDYjtNQUNBLE1BQU1PLFdBQVcsR0FBRyxJQUFJLENBQUNDLGNBQWMsQ0FBQ2xCLFNBQVMsQ0FBQztNQUNsRCxPQUFPLElBQUksQ0FBQ0wsUUFBUSxHQUFJc0IsV0FBVyxHQUFHLENBQUMsR0FBSSxDQUFDLENBQUM7SUFDakQ7O0lBRUEsT0FBT1AsS0FBSyxHQUFHLENBQUM7RUFDcEI7O0VBRUE7RUFDQWtFLGdCQUFnQkEsQ0FBQ2xFLEtBQUssRUFBaUIsS0FBZlYsU0FBUyxHQUFBNUUsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsQ0FBQztJQUNqQyxPQUFPLElBQUksQ0FBQzZHLFNBQVMsQ0FBQ3ZCLEtBQUssRUFBRVYsU0FBUyxDQUFDO0VBQzNDOztFQUVBO0VBQ0E7RUFDQTZFLGVBQWVBLENBQUNuRSxLQUFLLEVBQWlCLEtBQWZWLFNBQVMsR0FBQTVFLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLENBQUM7SUFDaEMsT0FBTyxJQUFJLENBQUMwSixjQUFjLENBQUNwRSxLQUFLLEVBQUVWLFNBQVMsQ0FBQyxHQUFHVSxLQUFLLEdBQUcsQ0FBQyxDQUFDO0VBQzdEOztFQUVBO0VBQ0FxRSxhQUFhQSxDQUFDcEMsU0FBUyxFQUFpQixLQUFmM0MsU0FBUyxHQUFBNUUsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsQ0FBQztJQUNsQztJQUNBLElBQUksQ0FBQyxJQUFJLENBQUMwSixjQUFjLENBQUNuQyxTQUFTLEVBQUUzQyxTQUFTLENBQUMsRUFBRTtNQUM1QyxPQUFPLENBQUMsQ0FBQztJQUNiOztJQUVBO0lBQ0EsSUFBSSxDQUFDLElBQUksQ0FBQ0wsUUFBUSxJQUFJZ0QsU0FBUyxLQUFNLElBQUksQ0FBQ3BCLFlBQVksQ0FBQ3ZCLFNBQVMsQ0FBQyxHQUFHLENBQUUsRUFBRTtNQUNwRSxPQUFPLENBQUMsQ0FBQztJQUNiOztJQUVBLE9BQU8sSUFBSSxDQUFDMEIsU0FBUyxDQUFDaUIsU0FBUyxFQUFFM0MsU0FBUyxDQUFDO0VBQy9DOztFQUVBZ0YsYUFBYUEsQ0FBQ3JDLFNBQVMsRUFBaUIsS0FBZjNDLFNBQVMsR0FBQTVFLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLENBQUM7SUFDbEM7SUFDQSxJQUFJLENBQUMsSUFBSSxDQUFDMEosY0FBYyxDQUFDbkMsU0FBUyxFQUFFM0MsU0FBUyxDQUFDLEVBQUU7TUFDNUMsT0FBTyxDQUFDLENBQUM7SUFDYjs7SUFFQTtJQUNBLElBQUksQ0FBQyxJQUFJLENBQUNMLFFBQVEsSUFBSWdELFNBQVMsS0FBSyxDQUFDLEVBQUU7TUFDbkMsT0FBTyxDQUFDLENBQUM7SUFDYjs7SUFFQSxPQUFPLElBQUksQ0FBQ1YsU0FBUyxDQUFDVSxTQUFTLEVBQUUzQyxTQUFTLENBQUM7RUFDL0M7O0VBRUE4RSxjQUFjQSxDQUFDbkMsU0FBUyxFQUFpQixLQUFmM0MsU0FBUyxHQUFBNUUsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsQ0FBQztJQUNuQyxNQUFNa0csU0FBUyxHQUFHLElBQUksQ0FBQ0MsWUFBWSxDQUFDdkIsU0FBUyxDQUFDO0lBQzlDLE9BQU8yQyxTQUFTLElBQUksQ0FBQyxJQUFJQSxTQUFTLEdBQUdyQixTQUFTO0VBQ2xEOztFQUVBMkQsY0FBY0EsQ0FBQ3RDLFNBQVMsRUFBaUIsS0FBZjNDLFNBQVMsR0FBQTVFLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLENBQUM7SUFDbkMsTUFBTTZGLFdBQVcsR0FBRyxJQUFJLENBQUNDLGNBQWMsQ0FBQ2xCLFNBQVMsQ0FBQztJQUNsRCxPQUFPLElBQUksQ0FBQzhFLGNBQWMsQ0FBQ25DLFNBQVMsRUFBRTNDLFNBQVMsQ0FBQyxJQUFJaUIsV0FBVyxHQUFHLENBQUMsS0FBSzBCLFNBQVMsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDaEQsUUFBUSxDQUFDO0VBQzNHOztFQUVBdUYsY0FBY0EsQ0FBQ3ZDLFNBQVMsRUFBaUIsS0FBZjNDLFNBQVMsR0FBQTVFLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLENBQUM7SUFDbkMsTUFBTTZGLFdBQVcsR0FBRyxJQUFJLENBQUNDLGNBQWMsQ0FBQ2xCLFNBQVMsQ0FBQztJQUNsRCxNQUFNbUYsVUFBVSxHQUFJeEMsU0FBUyxLQUFLMUIsV0FBVyxHQUFHLENBQUU7SUFDbEQsT0FBTyxJQUFJLENBQUM2RCxjQUFjLENBQUNuQyxTQUFTLEVBQUUzQyxTQUFTLENBQUMsSUFBSWlCLFdBQVcsR0FBRyxDQUFDLEtBQUssQ0FBQ2tFLFVBQVUsSUFBSSxJQUFJLENBQUN4RixRQUFRLENBQUM7RUFDekc7O0VBRUE7RUFDQTtFQUNBeUYsT0FBT0EsQ0FBQ3pDLFNBQVMsRUFBRTBDLElBQUksRUFBRUMsSUFBSSxFQUFpQixLQUFmdEYsU0FBUyxHQUFBNUUsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsQ0FBQztJQUN4QyxNQUFNbUssRUFBRSxHQUFHNUMsU0FBUztJQUNwQixNQUFNNkMsRUFBRSxHQUFHLElBQUksQ0FBQzlELFNBQVMsQ0FBQ2lCLFNBQVMsRUFBRTNDLFNBQVMsQ0FBQztJQUMvQyxJQUFJLENBQUNTLFFBQVEsQ0FBQzhFLEVBQUUsRUFBRXZGLFNBQVMsRUFBRXFGLElBQUksQ0FBQztJQUNsQyxJQUFJLENBQUM1RSxRQUFRLENBQUMrRSxFQUFFLEVBQUV4RixTQUFTLEVBQUVzRixJQUFJLENBQUM7RUFDdEM7O0VBRUFHLGdCQUFnQkEsQ0FBQzlDLFNBQVMsRUFBK0MsS0FBN0MzQyxTQUFTLEdBQUE1RSxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxDQUFDLEtBQUV1RixNQUFNLEdBQUF2RixTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxJQUFJVCxLQUFLLENBQUNuQixPQUFPLENBQUMsQ0FBQztJQUNuRSxNQUFNK0wsRUFBRSxHQUFHNUMsU0FBUztJQUNwQixNQUFNNkMsRUFBRSxHQUFHLElBQUksQ0FBQzlELFNBQVMsQ0FBQ2lCLFNBQVMsRUFBRTNDLFNBQVMsQ0FBQztJQUMvQyxNQUFNTSxJQUFJLEdBQUcsSUFBSSxDQUFDWixNQUFNLENBQUNNLFNBQVMsQ0FBQztJQUNuQyxPQUFPM0csOENBQU0sQ0FBQ29NLGdCQUFnQixDQUFDbkYsSUFBSSxDQUFDaUYsRUFBRSxDQUFDLEVBQUVqRixJQUFJLENBQUNrRixFQUFFLENBQUMsRUFBRTdFLE1BQU0sQ0FBQztFQUM5RDs7RUFFQStFLGFBQWFBLENBQUMvQyxTQUFTLEVBQWlCLEtBQWYzQyxTQUFTLEdBQUE1RSxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxDQUFDO0lBQ2xDLE1BQU1tSyxFQUFFLEdBQUc1QyxTQUFTO0lBQ3BCLE1BQU02QyxFQUFFLEdBQUcsSUFBSSxDQUFDOUQsU0FBUyxDQUFDaUIsU0FBUyxFQUFFM0MsU0FBUyxDQUFDO0lBQy9DLE1BQU1NLElBQUksR0FBRyxJQUFJLENBQUNaLE1BQU0sQ0FBQ00sU0FBUyxDQUFDO0lBQ25DLE1BQU0yQixDQUFDLEdBQUlyQixJQUFJLENBQUNpRixFQUFFLENBQUM7SUFDbkIsTUFBTXZMLENBQUMsR0FBSXNHLElBQUksQ0FBQ2tGLEVBQUUsQ0FBQztJQUNuQixPQUFPbk0sOENBQU0sQ0FBQ3FNLGFBQWEsQ0FBQy9ELENBQUMsRUFBRTNILENBQUMsQ0FBQztFQUNyQzs7RUFFQXVILFlBQVlBLENBQUEsRUFBZ0IsS0FBZnZCLFNBQVMsR0FBQTVFLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLENBQUM7SUFDdEIsTUFBTTZGLFdBQVcsR0FBRyxJQUFJLENBQUNDLGNBQWMsQ0FBQ2xCLFNBQVMsQ0FBQztJQUNsRCxPQUFPLElBQUksQ0FBQ0wsUUFBUSxHQUFHc0IsV0FBVyxHQUFHQSxXQUFXLEdBQUMsQ0FBQztFQUN0RDs7RUFFQTtFQUNBO0VBQ0E7RUFDQTBFLFNBQVNBLENBQUNDLGdCQUFnQixFQUFpQixLQUFmNUYsU0FBUyxHQUFBNUUsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsQ0FBQztJQUNyQyxNQUFNdUcsQ0FBQyxHQUFHLElBQUloSCxLQUFLLENBQUNuQixPQUFPLENBQUMsQ0FBQztJQUM3QixNQUFNUSxDQUFDLEdBQUcsSUFBSVcsS0FBSyxDQUFDbkIsT0FBTyxDQUFDLENBQUM7SUFDN0IsSUFBSXFNLEdBQUcsR0FBRyxHQUFHO0lBQ2IsS0FBSyxJQUFJbEosQ0FBQyxHQUFDLENBQUMsRUFBRUEsQ0FBQyxHQUFDLElBQUksQ0FBQzRFLFlBQVksQ0FBQ3ZCLFNBQVMsQ0FBQyxFQUFFckQsQ0FBQyxFQUFFLEVBQUU7TUFDL0MsSUFBSSxDQUFDeUksT0FBTyxDQUFDekksQ0FBQyxFQUFFZ0YsQ0FBQyxFQUFFM0gsQ0FBQyxFQUFFZ0csU0FBUyxDQUFDOztNQUVoQztNQUNBLElBQUk0RixnQkFBZ0IsRUFBRTtRQUNsQkEsZ0JBQWdCLENBQUNFLEtBQUssQ0FBQ25FLENBQUMsQ0FBQztRQUN6QmlFLGdCQUFnQixDQUFDRSxLQUFLLENBQUM5TCxDQUFDLENBQUM7TUFDN0I7O01BRUE2TCxHQUFHLElBQUlsRSxDQUFDLENBQUNvRSxVQUFVLENBQUMvTCxDQUFDLENBQUM7SUFDMUI7SUFDQSxPQUFPNkwsR0FBRztFQUNkOztFQUVBO0VBQ0FHLFFBQVFBLENBQUNDLEdBQUcsRUFBRTtJQUNWLElBQUksQ0FBQ2hHLFFBQVEsQ0FBQ2dHLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDN0wsQ0FBQyxFQUFFNEwsR0FBRyxDQUFDQyxHQUFHLENBQUM1TCxDQUFDLENBQUM7SUFDbkMsSUFBSSxDQUFDMkYsUUFBUSxDQUFDZ0csR0FBRyxDQUFDRSxHQUFHLENBQUM5TCxDQUFDLEVBQUU0TCxHQUFHLENBQUNDLEdBQUcsQ0FBQzVMLENBQUMsQ0FBQztJQUNuQyxJQUFJLENBQUMyRixRQUFRLENBQUNnRyxHQUFHLENBQUNFLEdBQUcsQ0FBQzlMLENBQUMsRUFBRTRMLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDN0wsQ0FBQyxDQUFDO0lBQ25DLElBQUksQ0FBQzJGLFFBQVEsQ0FBQ2dHLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDN0wsQ0FBQyxFQUFFNEwsR0FBRyxDQUFDRSxHQUFHLENBQUM3TCxDQUFDLENBQUM7SUFDbkMsT0FBTyxJQUFJO0VBQ2Y7O0VBRUE7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOEwsY0FBY0EsQ0FBQ3pELFNBQVMsRUFBRTBELENBQUMsRUFBK0MsS0FBN0NyRyxTQUFTLEdBQUE1RSxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxDQUFDLEtBQUV1RixNQUFNLEdBQUF2RixTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxJQUFJVCxLQUFLLENBQUNuQixPQUFPLENBQUMsQ0FBQzs7SUFFcEUsTUFBTThHLElBQUksR0FBRyxJQUFJLENBQUNaLE1BQU0sQ0FBQ00sU0FBUyxDQUFDO0lBQ25DLE1BQU1zRyxFQUFFLEdBQUdoRyxJQUFJLENBQUNxQyxTQUFTLENBQUM7SUFDMUIsTUFBTTRELEVBQUUsR0FBR2pHLElBQUksQ0FBQyxJQUFJLENBQUNvQixTQUFTLENBQUNpQixTQUFTLEVBQUUzQyxTQUFTLENBQUMsQ0FBQztJQUNyRCxPQUFPVyxNQUFNLENBQUM2RixXQUFXLENBQUNGLEVBQUUsRUFBRUMsRUFBRSxFQUFFRixDQUFDLENBQUM7RUFDeEM7O0VBRUE7RUFDQTtFQUNBO0VBQ0FJLEtBQUtBLENBQUEsRUFBZ0IsS0FBZnpHLFNBQVMsR0FBQTVFLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLENBQUM7SUFDZixPQUFPekIsUUFBUSxDQUFDK00sVUFBVSxDQUFDQyxRQUFRLENBQUNDLFdBQVcsQ0FBQyxJQUFJLENBQUNsSCxNQUFNLENBQUNNLFNBQVMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztFQUMvRTs7RUFFQTtFQUNBNkcsaUJBQWlCQSxDQUFDbEUsU0FBUyxFQUErQyxLQUE3QzNDLFNBQVMsR0FBQTVFLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLENBQUMsS0FBRXVGLE1BQU0sR0FBQXZGLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLElBQUlULEtBQUssQ0FBQ25CLE9BQU8sQ0FBQyxDQUFDO0lBQ3BFLE1BQU1pRCxNQUFNLEdBQUcsSUFBSSxDQUFDaUQsTUFBTSxDQUFDTSxTQUFTLENBQUM7O0lBRXJDO0lBQ0EsTUFBTThHLEdBQUcsR0FBR25FLFNBQVM7SUFDckIsTUFBTW9FLEdBQUcsR0FBRyxDQUFDcEUsU0FBUyxHQUFHLENBQUMsSUFBSWxHLE1BQU0sQ0FBQ3BCLE1BQU07SUFDM0MsTUFBTTJMLEVBQUUsR0FBR3ZLLE1BQU0sQ0FBQ3FLLEdBQUcsQ0FBQztJQUN0QixNQUFNRyxFQUFFLEdBQUd4SyxNQUFNLENBQUNzSyxHQUFHLENBQUM7O0lBRXRCO0lBQ0FwRyxNQUFNLENBQUN1RyxVQUFVLENBQUNELEVBQUUsRUFBRUQsRUFBRSxDQUFDLENBQUNHLFNBQVMsQ0FBQyxDQUFDOztJQUVyQztJQUNBLE1BQU1DLEdBQUcsR0FBR3pHLE1BQU0sQ0FBQ3RHLENBQUM7SUFDcEJzRyxNQUFNLENBQUN0RyxDQUFDLEdBQUcsQ0FBQ3NHLE1BQU0sQ0FBQ3JHLENBQUM7SUFDcEJxRyxNQUFNLENBQUNyRyxDQUFDLEdBQUc4TSxHQUFHOztJQUVkLE9BQU96RyxNQUFNO0VBQ2pCOztFQUVBO0VBQ0E7RUFDQTBHLGNBQWNBLENBQUMxRSxTQUFTLEVBQStDLEtBQTdDM0MsU0FBUyxHQUFBNUUsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsQ0FBQyxLQUFFdUYsTUFBTSxHQUFBdkYsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsSUFBSVQsS0FBSyxDQUFDbkIsT0FBTyxDQUFDLENBQUM7SUFDakUsTUFBTThOLE1BQU0sR0FBRyxJQUFJLENBQUNULGlCQUFpQixDQUFDbEUsU0FBUyxFQUFFM0MsU0FBUyxFQUFFVyxNQUFNLENBQUM7SUFDbkUsT0FBTyxJQUFJLENBQUM4RixLQUFLLENBQUN6RyxTQUFTLENBQUMsR0FBR3NILE1BQU0sQ0FBQ0MsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUdELE1BQU07RUFDckU7O0VBRUE7RUFDQTtFQUNBL0MsWUFBWUEsQ0FBQSxFQUFHO0lBQ1gsTUFBTWlELE1BQU0sR0FBR0EsQ0FBQXBFLENBQUMsS0FBSSxDQUFDQSxDQUFDLElBQUksQ0FBQ0EsQ0FBQyxDQUFDL0gsTUFBTTtJQUNuQyxNQUFNcUYsS0FBSyxHQUFHLElBQUksQ0FBQ2hCLE1BQU0sQ0FBQytILFNBQVMsQ0FBQ0QsTUFBTSxDQUFDO0lBQzNDLE9BQU85RyxLQUFLLElBQUksQ0FBQyxHQUFHQSxLQUFLLEdBQUcsSUFBSSxDQUFDYixTQUFTO0VBQzlDOztFQUVBO0VBQ0E7RUFDQTtFQUNBNkgsVUFBVUEsQ0FBQ0MsWUFBWSxFQUFFO0lBQ3JCLEtBQUssSUFBSXZFLENBQUMsR0FBQyxDQUFDLEVBQUVBLENBQUMsR0FBQyxJQUFJLENBQUN2RCxTQUFTLEVBQUV1RCxDQUFDLEVBQUUsRUFBRTtNQUNqQyxNQUFNd0UsR0FBRyxHQUFHLElBQUksQ0FBQzFHLGNBQWMsQ0FBQ2tDLENBQUMsQ0FBQztNQUNsQyxLQUFLLElBQUl6RyxDQUFDLEdBQUMsQ0FBQyxFQUFFQSxDQUFDLEdBQUNpTCxHQUFHLEVBQUVqTCxDQUFDLEVBQUUsRUFBRTtRQUN0QixJQUFJZ0wsWUFBWSxDQUFDaEwsQ0FBQyxFQUFFeUcsQ0FBQyxDQUFDLEVBQUU7VUFDcEIsT0FBTztZQUNIeUUsV0FBVyxFQUFFbEwsQ0FBQztZQUNkcUQsU0FBUyxFQUFFb0Q7VUFDZixDQUFDO1FBQ0w7TUFDSjtJQUNKO0lBQ0EsT0FBTyxJQUFJO0VBQ2Y7O0VBRUE7RUFDQTBFLEtBQUtBLENBQUEsRUFBRztJQUNKLE9BQU8sQ0FBQyxJQUFJLENBQUNwSSxNQUFNLENBQUNxSSxJQUFJLENBQUMsQ0FBQXpILElBQUksS0FBSUEsSUFBSSxJQUFLQSxJQUFJLENBQUNqRixNQUFNLEdBQUksQ0FBQyxDQUFDO0VBQy9EOztFQUVBMkMsUUFBUUEsQ0FBQSxFQUFHO0lBQ1AsS0FBSyxDQUFDQSxRQUFRLENBQUMsQ0FBQzs7SUFFaEI7SUFDQSxJQUFJLENBQUM0QixVQUFVLEdBQUcsSUFBSTtFQUMxQjs7RUFFQTtFQUNBb0ksa0JBQWtCQSxDQUFBLEVBQUc7O0lBRWpCO0lBQ0E7OztJQUdBO0lBQ0EsTUFBTUMsU0FBUyxHQUFHLElBQUksQ0FBQ0MsYUFBYSxDQUFDLENBQUM7SUFDdEMsT0FBT0QsU0FBUyxJQUFJQSxTQUFTLENBQUNGLElBQUksQ0FBQyxDQUFBM0UsQ0FBQyxLQUFJQSxDQUFDLENBQUNyRixLQUFLLENBQUM7RUFDcEQ7O0VBRUFtSyxhQUFhQSxDQUFBLEVBQUc7SUFDWjtJQUNBLElBQUksQ0FBQyxJQUFJLENBQUN2SSxRQUFRLElBQUksSUFBSSxDQUFDRSxTQUFTLEdBQUcsQ0FBQyxFQUFFO01BQ3RDLE9BQU92RSxTQUFTO0lBQ3BCOztJQUVBO0lBQ0EsSUFBSSxDQUFDLElBQUksQ0FBQ3NFLFVBQVUsRUFBRTtNQUNsQixJQUFJLENBQUNBLFVBQVUsR0FBR3JHLDJFQUFzQixDQUFDLElBQUksQ0FBQztJQUNsRDtJQUNBLE9BQU8sSUFBSSxDQUFDcUcsVUFBVTtFQUMxQjs7RUFFQTtFQUNBdUksV0FBV0EsQ0FBQ25JLFNBQVMsRUFBRTs7SUFFbkIsSUFBSSxDQUFDLElBQUksQ0FBQ0wsUUFBUSxFQUFFO01BQ2hCLE9BQU9yRSxTQUFTO0lBQ3BCOztJQUVBLElBQUksQ0FBQyxJQUFJLENBQUM0RixjQUFjLENBQUNsQixTQUFTLENBQUMsRUFBRTtNQUNqQyxPQUFPWixRQUFRLENBQUNDLEtBQUs7SUFDekI7O0lBRUE7SUFDQSxNQUFNK0ksS0FBSyxHQUFHLElBQUksQ0FBQ0YsYUFBYSxDQUFDLENBQUM7SUFDbEMsTUFBTUcsSUFBSSxHQUFJRCxLQUFLLENBQUNwSSxTQUFTLENBQUM7O0lBRTlCLElBQUlxSSxJQUFJLENBQUN0SyxLQUFLLEVBQUU7TUFDWixPQUFPcUIsUUFBUSxDQUFDSSxXQUFXO0lBQy9COztJQUVBO0lBQ0EsT0FBUTZJLElBQUksQ0FBQ0MsSUFBSSxHQUFHLENBQUMsR0FBSWxKLFFBQVEsQ0FBQ0UsS0FBSyxHQUFHRixRQUFRLENBQUNHLEtBQUs7RUFDNUQ7O0VBRUE7RUFDQWdKLGFBQWFBLENBQUN2SSxTQUFTLEVBQUU7SUFDckIsTUFBTW9JLEtBQUssR0FBRyxJQUFJLENBQUNGLGFBQWEsQ0FBQyxDQUFDO0lBQ2xDLE1BQU1HLElBQUksR0FBSUQsS0FBSyxJQUFJQSxLQUFLLENBQUNwSSxTQUFTLENBQUM7SUFDdkMsT0FBT3FJLElBQUksR0FBR0EsSUFBSSxDQUFDRyxjQUFjLENBQUNDLEtBQUssQ0FBQyxDQUFDLEdBQUcsRUFBRTtFQUNsRDs7RUFFQTtFQUNBQyxZQUFZQSxDQUFBLEVBQUc7SUFDWCxJQUFJLENBQUNoSixNQUFNLEdBQUcsSUFBSSxDQUFDQSxNQUFNLENBQUNpSixNQUFNLENBQUMsQ0FBQXZGLENBQUMsS0FBSUEsQ0FBQyxJQUFJQSxDQUFDLENBQUMvSCxNQUFNLElBQUksQ0FBQyxDQUFDO0VBQzdEOztFQUVBO0VBQ0F1TixZQUFZQSxDQUFBLEVBQUc7SUFDWCxNQUFNUixLQUFLLEdBQUcsSUFBSSxDQUFDRixhQUFhLENBQUMsQ0FBQztJQUNsQyxJQUFJLENBQUNFLEtBQUssRUFBRTtNQUNSLE9BQU8sRUFBRTtJQUNiOztJQUVBO0lBQ0EsTUFBTVMsS0FBSyxHQUFHLEVBQUU7SUFDaEIsS0FBSyxJQUFJbE0sQ0FBQyxHQUFDLENBQUMsRUFBRUEsQ0FBQyxHQUFDeUwsS0FBSyxDQUFDL00sTUFBTSxFQUFFc0IsQ0FBQyxFQUFFLEVBQUU7TUFDL0IsTUFBTTBMLElBQUksR0FBR0QsS0FBSyxDQUFDekwsQ0FBQyxDQUFDOztNQUVyQjtNQUNBLE1BQU11QixJQUFJLEdBQUcsSUFBSSxDQUFDaUssV0FBVyxDQUFDeEwsQ0FBQyxDQUFDO01BQ2hDLElBQUl1QixJQUFJLEtBQUtrQixRQUFRLENBQUNHLEtBQUssRUFBRTtRQUN6QjtNQUNKOztNQUVBLElBQUk4SSxJQUFJLENBQUNDLElBQUksS0FBSyxDQUFDLEVBQUU7UUFDakJPLEtBQUssQ0FBQ3JJLElBQUksQ0FBQzdELENBQUMsQ0FBQztNQUNqQjtJQUNKO0lBQ0EsT0FBT2tNLEtBQUs7RUFDaEI7O0VBRUE7RUFDQUMsVUFBVUEsQ0FBQzlJLFNBQVMsRUFBRTtJQUNsQixJQUFJLENBQUNOLE1BQU0sQ0FBQ21CLE1BQU0sQ0FBQ2IsU0FBUyxFQUFFLENBQUMsQ0FBQztJQUNoQyxJQUFJLENBQUNoQyxRQUFRLENBQUMsQ0FBQztJQUNmLE9BQU8sSUFBSTtFQUNmOztFQUVBO0VBQ0E7RUFDQStLLFdBQVdBLENBQUNGLEtBQUssRUFBRTtJQUNmLElBQUksQ0FBQ25KLE1BQU0sR0FBRyxJQUFJLENBQUNBLE1BQU0sQ0FBQ2lKLE1BQU0sQ0FBQyxDQUFDdkYsQ0FBQyxFQUFFekcsQ0FBQyxLQUFLLENBQUNrTSxLQUFLLENBQUNHLFFBQVEsQ0FBQ3JNLENBQUMsQ0FBQyxDQUFDO0VBQ2xFOztFQUVBO0VBQ0FzTSxhQUFhQSxDQUFDQyxNQUFNLEVBQWlCLEtBQWZsSixTQUFTLEdBQUE1RSxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxDQUFDOztJQUUvQixJQUFJLENBQUMsSUFBSSxDQUFDc0osVUFBVSxDQUFDd0UsTUFBTSxFQUFFbEosU0FBUyxDQUFDLEVBQUU7TUFDckMsT0FBTyxLQUFLO0lBQ2hCOztJQUVBLE1BQU12RCxNQUFNLEdBQUcsSUFBSSxDQUFDaUQsTUFBTSxDQUFDTSxTQUFTLENBQUM7SUFDckMsSUFBSTVGLENBQUMsR0FBR3FDLE1BQU0sQ0FBQ3lNLE1BQU0sQ0FBQztJQUN0QixPQUFPQyxRQUFRLENBQUMvTyxDQUFDLENBQUNDLENBQUMsQ0FBQyxJQUFJOE8sUUFBUSxDQUFDL08sQ0FBQyxDQUFDRSxDQUFDLENBQUM7RUFDekM7O0VBRUE4TyxZQUFZQSxDQUFDcEosU0FBUyxFQUFFO0lBQ3BCLE1BQU12RCxNQUFNLEdBQUcsSUFBSSxDQUFDaUQsTUFBTSxDQUFDTSxTQUFTLENBQUM7SUFDckMsTUFBTXFKLEtBQUssR0FBRzVNLE1BQU0sR0FBR0EsTUFBTSxDQUFDcEIsTUFBTSxHQUFHLENBQUM7SUFDeEMsS0FBSyxJQUFJc0IsQ0FBQyxHQUFDLENBQUMsRUFBRUEsQ0FBQyxHQUFDME0sS0FBSyxFQUFFMU0sQ0FBQyxFQUFFLEVBQUU7TUFDeEIsSUFBSSxDQUFDLElBQUksQ0FBQ3NNLGFBQWEsQ0FBQ3RNLENBQUMsRUFBRXFELFNBQVMsQ0FBQyxFQUFFO1FBQ25DLE9BQU8sS0FBSztNQUNoQjtJQUNKO0lBQ0EsT0FBTyxJQUFJO0VBQ2Y7QUFDSjs7QUFFQTtBQUNBO0FBQ08sTUFBTXNKLFNBQVMsQ0FBQztFQUNuQnBPLFdBQVdBLENBQUFxTyxJQUFBLEVBQXlCLEtBQXhCLEVBQUNMLE1BQU0sR0FBRyxDQUFDLEVBQUU1SSxJQUFJLEdBQUcsQ0FBQyxFQUFDLEdBQUFpSixJQUFBO0lBQzlCLElBQUksQ0FBQ0wsTUFBTSxHQUFHQSxNQUFNO0lBQ3BCLElBQUksQ0FBQzVJLElBQUksR0FBR0EsSUFBSTtFQUNwQjtFQUNBa0osTUFBTUEsQ0FBQ0MsQ0FBQyxFQUFFO0lBQ04sT0FBT0EsQ0FBQyxJQUFLLElBQUksQ0FBQ1AsTUFBTSxLQUFLTyxDQUFDLENBQUNQLE1BQU0sSUFBSSxJQUFJLENBQUM1SSxJQUFJLEtBQUttSixDQUFDLENBQUNuSixJQUFLO0VBQ2xFO0FBQ0o7O0FBRU8sTUFBTW9KLE9BQU8sU0FBU2pLLFFBQVEsQ0FBQzs7RUFFbEN2RSxXQUFXQSxDQUFBLEVBQTRDLEtBQTNDdUIsTUFBTSxHQUFBckIsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsRUFBRSxLQUFFMkIsS0FBSyxHQUFBM0IsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUdtQixZQUFZLENBQUNILEtBQUssQ0FBQyxDQUFDO0lBQ2pELEtBQUssQ0FBQ0ssTUFBTSxFQUFFTSxLQUFLLENBQUM7SUFDcEIsSUFBSSxDQUFDNEMsUUFBUSxHQUFHLElBQUk7RUFDeEI7O0VBRUE7RUFDQW5DLElBQUlBLENBQUNtTSxHQUFHLEVBQUVDLGFBQWEsRUFBRTtJQUNyQkMsUUFBUSxDQUFDRixHQUFHLEVBQUUsSUFBSSxFQUFFQyxhQUFhLENBQUM7RUFDdEM7O0VBRUE7RUFDQTtFQUNBbk0sT0FBT0EsQ0FBQ3BELENBQUMsRUFBRUMsQ0FBQyxFQUFFO0lBQ1YsSUFBSSxDQUFDLElBQUksQ0FBQzJHLFdBQVcsRUFBRTtNQUNuQixPQUFPLEtBQUs7SUFDaEI7O0lBRUE7SUFDQSxJQUFJcUgsSUFBSSxHQUFHLENBQUM7SUFDWixLQUFLLElBQUlsRixDQUFDLEdBQUMsQ0FBQyxFQUFFQSxDQUFDLEdBQUMsSUFBSSxDQUFDdkQsU0FBUyxFQUFFdUQsQ0FBQyxFQUFFLEVBQUU7TUFDakMsTUFBTTlDLElBQUksR0FBRyxJQUFJLENBQUNaLE1BQU0sQ0FBQzBELENBQUMsQ0FBQztNQUMzQixJQUFJLENBQUM5QyxJQUFJLEVBQUU7UUFDUDtNQUNKOztNQUVBO01BQ0EsTUFBTW1ELEVBQUUsR0FBRyxJQUFJOUosUUFBUSxDQUFDK00sVUFBVSxDQUFDQyxRQUFRLENBQUNtRCxjQUFjLENBQUN4SixJQUFJLENBQUM7O01BRWhFO01BQ0E7TUFDQSxJQUFJeUosT0FBTyxHQUFHLEVBQUU7TUFDaEIsS0FBSyxJQUFJcE4sQ0FBQyxHQUFDLENBQUMsRUFBRUEsQ0FBQyxHQUFDMkQsSUFBSSxDQUFDakYsTUFBTSxFQUFFc0IsQ0FBQyxFQUFFLEVBQUU7UUFDOUJvTixPQUFPLENBQUN2SixJQUFJLENBQUM3RCxDQUFDLENBQUM7TUFDbkI7O01BRUEsSUFBSThHLEVBQUUsQ0FBQ3VHLGNBQWMsQ0FBQzNQLENBQUMsRUFBRUMsQ0FBQyxFQUFFeVAsT0FBTyxDQUFDLEVBQUU7UUFDbEN6QixJQUFJLEVBQUU7TUFDVjtJQUNKOztJQUVBO0lBQ0EsT0FBTzJCLE9BQU8sQ0FBQzNCLElBQUksR0FBRyxDQUFDLENBQUM7RUFDNUI7O0VBRUFsTSxLQUFLQSxDQUFBLEVBQUc7SUFDSixPQUFPLElBQUlzTixPQUFPLENBQUMsQ0FBQyxDQUFDck4sSUFBSSxDQUFDLElBQUksQ0FBQztFQUNuQzs7RUFFQTtFQUNBNk4sT0FBT0EsQ0FBQ3RFLGdCQUFnQixFQUFFOztJQUV0QixJQUFJLENBQUMsSUFBSSxDQUFDakcsUUFBUSxFQUFFO01BQ2hCLE9BQU9yRSxTQUFTO0lBQ3BCOztJQUVBO0lBQ0EsTUFBTTJNLFNBQVMsR0FBRyxJQUFJLENBQUNDLGFBQWEsQ0FBQyxDQUFDOztJQUV0QyxJQUFJaUMsT0FBTyxHQUFHLENBQUM7SUFDZixLQUFLLElBQUluSyxTQUFTLEdBQUMsQ0FBQyxFQUFFQSxTQUFTLEdBQUMsSUFBSSxDQUFDSCxTQUFTLEVBQUVHLFNBQVMsRUFBRSxFQUFFOztNQUV6RDtNQUNBLElBQUksSUFBSSxDQUFDdkQsTUFBTSxDQUFDcEIsTUFBTSxHQUFHLENBQUMsRUFBRTtRQUN4QjtNQUNKOztNQUVBO01BQ0E7TUFDQSxNQUFNK08sUUFBUSxHQUFHbkMsU0FBUyxHQUFHQSxTQUFTLENBQUNqSSxTQUFTLENBQUMsR0FBRyxJQUFJO01BQ3hELE1BQU1zSSxJQUFJLEdBQU84QixRQUFRLEdBQUlBLFFBQVEsQ0FBQzlCLElBQUksR0FBRyxDQUFDOztNQUU5QztNQUNBLE1BQU0rQixJQUFJLEdBQUkvQixJQUFJLEdBQUcsQ0FBQyxHQUFJLENBQUMsQ0FBQyxHQUFHLENBQUM7O01BRWhDLElBQUlnQyxRQUFRLEdBQUcsR0FBRztNQUNsQixJQUFJLENBQUNsSixTQUFTLENBQUMsQ0FBQ08sQ0FBQyxFQUFFM0gsQ0FBQyxLQUFLO1FBQ3JCO1FBQ0E0TCxnQkFBZ0IsSUFBSUEsZ0JBQWdCLENBQUNFLEtBQUssQ0FBQ25FLENBQUMsQ0FBQztRQUM3Q2lFLGdCQUFnQixJQUFJQSxnQkFBZ0IsQ0FBQ0UsS0FBSyxDQUFDOUwsQ0FBQyxDQUFDOztRQUU3QztRQUNBc1EsUUFBUSxJQUFJM0ksQ0FBQyxDQUFDdEgsQ0FBQyxHQUFHTCxDQUFDLENBQUNNLENBQUMsR0FBR04sQ0FBQyxDQUFDSyxDQUFDLEdBQUdzSCxDQUFDLENBQUNySCxDQUFDO01BQ3JDLENBQUMsRUFBRTBGLFNBQVMsQ0FBQztNQUNibUssT0FBTyxJQUFJRSxJQUFJLEdBQUdFLElBQUksQ0FBQ0MsR0FBRyxDQUFDLEdBQUcsR0FBR0YsUUFBUSxDQUFDO0lBQzlDO0lBQ0EsT0FBT0gsT0FBTztFQUNsQjtBQUNKOztBQUVPLE1BQU1NLFFBQVEsU0FBU2hMLFFBQVEsQ0FBQzs7RUFFbkN2RSxXQUFXQSxDQUFBLEVBQTRDLEtBQTNDdUIsTUFBTSxHQUFBckIsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsRUFBRSxLQUFFMkIsS0FBSyxHQUFBM0IsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUdtQixZQUFZLENBQUNILEtBQUssQ0FBQyxDQUFDO0lBQ2pELEtBQUssQ0FBQ0ssTUFBTSxFQUFFTSxLQUFLLENBQUM7SUFDcEIsSUFBSSxDQUFDNEMsUUFBUSxHQUFHLEtBQUs7RUFDekI7O0VBRUErSyxRQUFRQSxDQUFBLEVBQWlDLEtBQWhDQyxFQUFFLEdBQUF2UCxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxDQUFDLEtBQUV3UCxFQUFFLEdBQUF4UCxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxDQUFDLEtBQUV5UCxFQUFFLEdBQUF6UCxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxDQUFDLEtBQUUwUCxFQUFFLEdBQUExUCxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxDQUFDO0lBQ25DLElBQUksSUFBSSxDQUFDNkYsV0FBVyxLQUFLLENBQUMsRUFBRTtNQUN4QixJQUFJLENBQUNFLEtBQUssQ0FBQyxDQUFDO01BQ1osSUFBSSxDQUFDbEIsUUFBUSxDQUFDMEssRUFBRSxFQUFFQyxFQUFFLENBQUM7TUFDckIsSUFBSSxDQUFDM0ssUUFBUSxDQUFDNEssRUFBRSxFQUFFQyxFQUFFLENBQUM7SUFDekIsQ0FBQyxNQUFNO01BQ0gsSUFBSSxDQUFDaEssV0FBVyxDQUFDLENBQUMsRUFBRTZKLEVBQUUsRUFBRUMsRUFBRSxDQUFDO01BQzNCLElBQUksQ0FBQzlKLFdBQVcsQ0FBQyxDQUFDLEVBQUUrSixFQUFFLEVBQUVDLEVBQUUsQ0FBQztJQUMvQjtJQUNBLE9BQU8sSUFBSTtFQUNmOztFQUVBO0VBQ0F0TixJQUFJQSxDQUFDbU0sR0FBRyxFQUFFQyxhQUFhLEVBQUU7SUFDckJDLFFBQVEsQ0FBQ0YsR0FBRyxFQUFFLElBQUksRUFBRUMsYUFBYSxDQUFDO0VBQ3RDOztFQUVBeE4sS0FBS0EsQ0FBQSxFQUFHO0lBQ0osT0FBTyxJQUFJcU8sUUFBUSxDQUFDLENBQUMsQ0FBQ3BPLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDcEM7O0VBRUE7RUFDQW9CLE9BQU9BLENBQUNwRCxDQUFDLEVBQUVDLENBQUMsRUFBRXlRLFNBQVMsRUFBc0IsS0FBcEJySSxjQUFjLEdBQUF0SCxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxDQUFDO0lBQ3ZDLE1BQU11SCxTQUFTLEdBQUcsSUFBSSxDQUFDRixhQUFhLENBQUMsRUFBQ3BJLENBQUMsRUFBRUMsQ0FBQyxFQUFDLEVBQUV5USxTQUFTLEVBQUUsQ0FBQyxFQUFFckksY0FBYyxDQUFDO0lBQzFFLE9BQVFDLFNBQVMsS0FBSyxDQUFDLENBQUM7RUFDNUI7QUFDSjs7QUFFTyxNQUFNcUksUUFBUSxHQUFHO0VBQ3BCQyxJQUFJLEVBQUssQ0FBQyxFQUFFO0VBQ1pDLE1BQU0sRUFBRyxDQUFDLEVBQUU7RUFDWkMsT0FBTyxFQUFFLENBQUMsQ0FBRTtBQUNoQixDQUFDOzs7QUFHRDtBQUNBO0FBQ0EsSUFBSUMsT0FBTyxHQUFHLElBQUk7QUFDbEIsSUFBSUMsU0FBUyxHQUFHQSxDQUFBLEtBQU07RUFDbEJELE9BQU8sR0FBR0EsT0FBTyxJQUFJLElBQUl6UixRQUFRLENBQUMrTSxVQUFVLENBQUNDLFFBQVEsQ0FBQzJFLFVBQVUsQ0FBQyxDQUFDO0VBQ2xFLE9BQU9GLE9BQU87QUFDbEIsQ0FBQzs7QUFFRCxJQUFJRyxNQUFNLEdBQUcsSUFBSTVRLEtBQUssQ0FBQ25CLE9BQU8sQ0FBQyxDQUFDOztBQUVoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU1nUyxPQUFPLEdBQUdBLENBQUM3QixHQUFHLEVBQUU4QixJQUFJLEVBQUV6TCxTQUFTLEtBQUs7O0VBRXRDLE1BQU0wTCxVQUFVLEdBQUdELElBQUksQ0FBQy9MLE1BQU0sQ0FBQ00sU0FBUyxDQUFDO0VBQ3pDLElBQUksQ0FBQzBMLFVBQVUsSUFBSSxDQUFDQSxVQUFVLENBQUNyUSxNQUFNLEVBQUU7SUFDbkM7RUFDSjs7RUFFQTtFQUNBLElBQUksQ0FBQ29RLElBQUksQ0FBQ3JDLFlBQVksQ0FBQ3BKLFNBQVMsQ0FBQyxFQUFFO0lBQy9CbEMsT0FBTyxDQUFDa0QsSUFBSSxDQUFFLGtFQUFpRXlLLElBQUksQ0FBQ3pPLEVBQUcsZ0JBQWVnRCxTQUFVLEVBQUMsQ0FBQztJQUNsSDtFQUNKOztFQUVBLE1BQU12RCxNQUFNLEdBQUdpUCxVQUFVOztFQUV6Qi9CLEdBQUcsQ0FBQ2dDLE1BQU0sQ0FBQ2xQLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQ3BDLENBQUMsRUFBRW9DLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQ25DLENBQUMsQ0FBQzs7RUFFcEMsTUFBTXNSLGNBQWMsR0FBR0EsQ0FBQ0MsTUFBTSxFQUFFQyxJQUFJLEVBQUVuSixTQUFTLEtBQUs7SUFDaEQsUUFBT2tKLE1BQU0sQ0FBQ0UsT0FBTztNQUNqQixLQUFLZixRQUFRLENBQUNDLElBQUksQ0FBRTs7TUFFcEIsS0FBS0QsUUFBUSxDQUFDRSxNQUFNLENBQUU7VUFDbEJ2QixHQUFHLENBQUNxQyxhQUFhLENBQUNILE1BQU0sQ0FBQ25JLElBQUksRUFBRW1JLE1BQU0sQ0FBQ2xJLElBQUksRUFBRWtJLE1BQU0sQ0FBQ2pJLElBQUksRUFBRWlJLE1BQU0sQ0FBQ2hJLElBQUksRUFBRWlJLElBQUksQ0FBQ3pSLENBQUMsRUFBRXlSLElBQUksQ0FBQ3hSLENBQUMsQ0FBQztVQUNyRjtRQUNKOztNQUVBLEtBQUswUSxRQUFRLENBQUNHLE9BQU8sQ0FBRTtVQUNuQixNQUFNaFEsTUFBTSxHQUFHMFEsTUFBTSxDQUFDOUgsZ0JBQWdCO1VBQ3RDLE1BQU1rSSxHQUFHLEdBQUdSLElBQUksQ0FBQ1MsZ0JBQWdCLENBQUN2SixTQUFTLEVBQUUzQyxTQUFTLEVBQUVxTCxTQUFTLENBQUMsQ0FBQyxDQUFDOztVQUVwRTtVQUNBLElBQUksQ0FBQ1ksR0FBRyxDQUFDRSxPQUFPLENBQUMsQ0FBQyxFQUFFO1lBQ2hCO1VBQ0o7O1VBRUEsSUFBSXhDLEdBQUcsQ0FBQ3lDLFlBQVksRUFBRTtZQUNsQjtZQUNBekMsR0FBRyxDQUFDeUMsWUFBWSxDQUFDalIsTUFBTSxDQUFDa1IsRUFBRSxFQUFFbFIsTUFBTSxDQUFDbVIsRUFBRSxFQUFFM1IsS0FBSyxDQUFDNFAsSUFBSSxDQUFDZ0MsUUFBUSxDQUFDcFIsTUFBTSxDQUFDcVIsUUFBUSxDQUFDLEVBQUVyUixNQUFNLENBQUNzUixZQUFZLEVBQUV0UixNQUFNLENBQUN1UixTQUFTLEVBQUVaLElBQUksQ0FBQ3pSLENBQUMsRUFBRXlSLElBQUksQ0FBQ3hSLENBQUMsQ0FBQztVQUN2SSxDQUFDLE1BQU07WUFDSDtZQUNBcVAsR0FBRyxDQUFDZ0QsT0FBTyxDQUFDVixHQUFHLENBQUNXLEVBQUUsRUFBRVgsR0FBRyxDQUFDWSxFQUFFLEVBQUVaLEdBQUcsQ0FBQ0ksRUFBRSxFQUFFSixHQUFHLENBQUNLLEVBQUUsRUFBRUwsR0FBRyxDQUFDTyxRQUFRLEVBQUVQLEdBQUcsQ0FBQ2EsVUFBVSxFQUFFYixHQUFHLENBQUNjLFFBQVEsRUFBRWQsR0FBRyxDQUFDZSxHQUFHLENBQUM7VUFDcEc7O1VBRUE7UUFDSjtJQUNKO0lBQ0FyRCxHQUFHLENBQUNzRCxNQUFNLENBQUNuQixJQUFJLENBQUN6UixDQUFDLEVBQUV5UixJQUFJLENBQUN4UixDQUFDLENBQUM7RUFDOUIsQ0FBQzs7RUFFRCxLQUFLLElBQUlxQyxDQUFDLEdBQUMsQ0FBQyxFQUFFQSxDQUFDLEdBQUNGLE1BQU0sQ0FBQ3BCLE1BQU0sRUFBRXNCLENBQUMsSUFBRSxDQUFDLEVBQUU7SUFDakM7SUFDQSxNQUFNdVEsSUFBSSxHQUFHelEsTUFBTSxDQUFDRSxDQUFDLEdBQUMsQ0FBQyxDQUFDO0lBQ3hCLE1BQU12QyxDQUFDLEdBQU1xQyxNQUFNLENBQUNFLENBQUMsQ0FBQzs7SUFFdEJpUCxjQUFjLENBQUNzQixJQUFJLEVBQUU5UyxDQUFDLEVBQUV1QyxDQUFDLEdBQUMsQ0FBQyxDQUFDO0VBQ2hDOztFQUVBLElBQUk4TyxJQUFJLENBQUM5TCxRQUFRLEVBQUU7SUFDZjtJQUNBLE1BQU13TixLQUFLLEdBQUkxUSxNQUFNLENBQUNBLE1BQU0sQ0FBQ3BCLE1BQU0sR0FBQyxDQUFDLENBQUM7SUFDdEMsTUFBTStSLE1BQU0sR0FBRzNRLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDeEJtUCxjQUFjLENBQUN1QixLQUFLLEVBQUVDLE1BQU0sRUFBRTNRLE1BQU0sQ0FBQ3BCLE1BQU0sR0FBQyxDQUFDLENBQUM7O0lBRTlDc08sR0FBRyxDQUFDMEQsU0FBUyxDQUFDLENBQUM7RUFDbkI7QUFDSixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNPLE1BQU1DLE9BQU8sR0FBR0EsQ0FBQzNELEdBQUcsRUFBRThCLElBQUksS0FBSztFQUNsQyxLQUFLLElBQUk5TyxDQUFDLEdBQUMsQ0FBQyxFQUFFQSxDQUFDLEdBQUM4TyxJQUFJLENBQUM1TCxTQUFTLEVBQUVsRCxDQUFDLEVBQUUsRUFBRTtJQUNqQzZPLE9BQU8sQ0FBQzdCLEdBQUcsRUFBRThCLElBQUksRUFBRTlPLENBQUMsQ0FBQztFQUN6QjtBQUNKLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNa04sUUFBUSxHQUFHQSxDQUFDRixHQUFHLEVBQUU4QixJQUFJLEVBQUU3QixhQUFhLEtBQUs7O0VBRTNDLElBQUksQ0FBQzZCLElBQUksQ0FBQ3hLLFdBQVcsRUFBRTtJQUNuQjtFQUNKOztFQUVBLElBQUlsRSxLQUFLLEdBQUc2TSxhQUFhLElBQUk2QixJQUFJLENBQUMxTyxLQUFLO0VBQ3ZDLE1BQU13USxDQUFDLEdBQUc1RCxHQUFHLENBQUM2RCxhQUFhO0VBQzNCN0QsR0FBRyxDQUFDOEQsSUFBSSxHQUFHaEMsSUFBSSxDQUFDek8sRUFBRTtFQUNsQjJNLEdBQUcsQ0FBQzVOLFNBQVMsR0FBR2dCLEtBQUssQ0FBQ2hCLFNBQVM7RUFDL0I0TixHQUFHLENBQUMzTixhQUFhLEdBQUdlLEtBQUssQ0FBQ2YsYUFBYTs7RUFFdkMsTUFBTTBSLHdCQUF3QixHQUFHSCxDQUFDLENBQUNJLHdCQUF3QjtFQUMzRCxJQUFJNVEsS0FBSyxDQUFDZCxrQkFBa0IsRUFBRTtJQUMxQnNSLENBQUMsQ0FBQ0ksd0JBQXdCLEdBQUc1USxLQUFLLENBQUNkLGtCQUFrQjtJQUNyRDtJQUNBME4sR0FBRyxDQUFDaUUsV0FBVyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUM7RUFDNUI7O0VBRUFqRSxHQUFHLENBQUNrRSxTQUFTLENBQUMsQ0FBQzs7RUFFZixJQUFJLENBQUNwQyxJQUFJLENBQUM5TCxRQUFRLElBQUk1QyxLQUFLLENBQUNuQixXQUFXLEVBQUU7SUFDckM7SUFDQStOLEdBQUcsQ0FBQ21FLFlBQVksQ0FBQyxJQUFJLENBQUM7RUFDMUI7O0VBRUE7RUFDQVIsT0FBTyxDQUFDM0QsR0FBRyxFQUFFOEIsSUFBSSxDQUFDOztFQUVsQjtFQUNBLElBQUlBLElBQUksQ0FBQzlMLFFBQVEsRUFBRTtJQUNmNE4sQ0FBQyxDQUFDUSxTQUFTLEdBQUtoUixLQUFLLENBQUNsQixTQUFTO0lBQy9CO0lBQ0EsSUFBSWtCLEtBQUssQ0FBQ2xCLFNBQVMsQ0FBQ21TLGNBQWMsQ0FBQyxZQUFZLENBQUMsRUFBRTtNQUM5QyxNQUFNQyxZQUFZLEdBQUd0RSxHQUFHLENBQUN1RSxrQkFBa0IsQ0FBQ25SLEtBQUssQ0FBQ2xCLFNBQVMsQ0FBQztNQUM1RCxNQUFNa1MsU0FBUyxHQUFHRSxZQUFZLENBQUNFLFlBQVksQ0FBQ1osQ0FBQyxDQUFDO01BQzlDQSxDQUFDLENBQUNRLFNBQVMsR0FBR0EsU0FBUztJQUMzQjtJQUNBUixDQUFDLENBQUNhLFdBQVcsR0FBR3JSLEtBQUssQ0FBQ2pCLFNBQVM7O0lBRS9CNk4sR0FBRyxDQUFDMEUsSUFBSSxDQUFDLENBQUM7RUFDZDs7RUFFQTtFQUNBZCxDQUFDLENBQUNlLFdBQVcsR0FBR3ZSLEtBQUssQ0FBQ3hCLFNBQVM7RUFDL0JnUyxDQUFDLENBQUNhLFdBQVcsR0FBR3JSLEtBQUssQ0FBQ3RCLFNBQVM7RUFDL0I4UixDQUFDLENBQUM1UixTQUFTLEdBQUtvQixLQUFLLENBQUNwQixTQUFTOztFQUUvQjtFQUNBO0VBQ0EsSUFBSW9CLEtBQUssQ0FBQ2YsYUFBYSxFQUFFdVIsQ0FBQyxDQUFDNVIsU0FBUyxJQUFJNFMsTUFBTSxDQUFDQyxnQkFBZ0I7O0VBRS9EN0UsR0FBRyxDQUFDOEUsTUFBTSxDQUFDLENBQUM7O0VBRVo7RUFDQTlFLEdBQUcsQ0FBQzhELElBQUksR0FBRyxDQUFDLENBQUM7RUFDYjlELEdBQUcsQ0FBQzVOLFNBQVMsR0FBRyxDQUFDO0VBQ2pCNE4sR0FBRyxDQUFDM04sYUFBYSxHQUFHLEtBQUs7RUFDekJ1UixDQUFDLENBQUNJLHdCQUF3QixHQUFHRCx3QkFBd0I7QUFDekQsQ0FBQzs7QUFFRDtBQUNBLE1BQU1nQixlQUFlLENBQUM7RUFDbEJ4VCxXQUFXQSxDQUFBLEVBQUc7SUFDVjtJQUNBLElBQUksQ0FBQ3dJLElBQUksR0FBRyxDQUFDO0lBQ2IsSUFBSSxDQUFDQyxJQUFJLEdBQUcsQ0FBQzs7SUFFYjtJQUNBLElBQUksQ0FBQ0MsSUFBSSxHQUFHLENBQUM7SUFDYixJQUFJLENBQUNDLElBQUksR0FBRyxDQUFDO0VBQ2pCOztFQUVBeEgsSUFBSUEsQ0FBQ25DLEdBQUcsRUFBRTtJQUNOLElBQUksQ0FBQ3dKLElBQUksR0FBR3hKLEdBQUcsQ0FBQ3dKLElBQUk7SUFDcEIsSUFBSSxDQUFDQyxJQUFJLEdBQUd6SixHQUFHLENBQUN5SixJQUFJO0lBQ3BCLElBQUksQ0FBQ0MsSUFBSSxHQUFHMUosR0FBRyxDQUFDMEosSUFBSTtJQUNwQixJQUFJLENBQUNDLElBQUksR0FBRzNKLEdBQUcsQ0FBQzJKLElBQUk7SUFDcEIsT0FBTyxJQUFJO0VBQ2Y7O0VBRUF6SCxLQUFLQSxDQUFBLEVBQUc7SUFDSixPQUFPLElBQUlzUyxlQUFlLENBQUMsQ0FBQyxDQUFDclMsSUFBSSxDQUFDLElBQUksQ0FBQztFQUMzQztBQUNKOztBQUVBO0FBQ0E7QUFDTyxNQUFNc1MsZ0JBQWdCLENBQUM7O0VBRTFCelQsV0FBV0EsQ0FBQSxFQUFHO0lBQ1Y7SUFDQSxJQUFJLENBQUNtUixFQUFFLEdBQUcsQ0FBQzs7SUFFWDtJQUNBLElBQUksQ0FBQ0MsRUFBRSxHQUFHLENBQUM7O0lBRVg7SUFDQSxJQUFJLENBQUNFLFFBQVEsR0FBRyxDQUFDOztJQUVqQjtJQUNBLElBQUksQ0FBQ0MsWUFBWSxHQUFHLEtBQUs7O0lBRXpCO0lBQ0EsSUFBSSxDQUFDQyxTQUFTLEdBQUcsS0FBSztFQUMxQjs7RUFFQXJRLElBQUlBLENBQUNuQyxHQUFHLEVBQUU7SUFDTixJQUFJLENBQUNtUyxFQUFFLEdBQWFuUyxHQUFHLENBQUNtUyxFQUFFO0lBQzFCLElBQUksQ0FBQ0MsRUFBRSxHQUFhcFMsR0FBRyxDQUFDb1MsRUFBRTtJQUMxQixJQUFJLENBQUNFLFFBQVEsR0FBT3RTLEdBQUcsQ0FBQ3NTLFFBQVE7SUFDaEMsSUFBSSxDQUFDQyxZQUFZLEdBQUd2UyxHQUFHLENBQUN1UyxZQUFZO0lBQ3BDLElBQUksQ0FBQ0MsU0FBUyxHQUFNeFMsR0FBRyxDQUFDd1MsU0FBUztJQUNqQyxPQUFPLElBQUk7RUFDZjtFQUNBdFEsS0FBS0EsQ0FBQSxFQUFHO0lBQ0osT0FBTyxJQUFJdVMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDdFMsSUFBSSxDQUFDLElBQUksQ0FBQztFQUM1Qzs7RUFFQTtFQUNBdVMsTUFBTUEsQ0FBQ0MsS0FBSyxFQUFFOztJQUVWLElBQUksQ0FBQ3JDLFFBQVEsSUFBSXFDLEtBQUs7O0lBRXRCO0lBQ0EsSUFBSSxDQUFDckMsUUFBUSxJQUFJakMsSUFBSSxDQUFDdUUsS0FBSyxDQUFDLElBQUksQ0FBQ3RDLFFBQVEsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHO0VBQzFEOztFQUVBdUMsS0FBS0EsQ0FBQ0MsTUFBTSxFQUFFO0lBQ1YsSUFBSSxDQUFDM0MsRUFBRSxJQUFJMkMsTUFBTTtJQUNqQixJQUFJLENBQUMxQyxFQUFFLElBQUkwQyxNQUFNO0VBQ3JCOztFQUVBO0VBQ0E7RUFDQTtFQUNBclIsWUFBWUEsQ0FBQ0MsTUFBTSxFQUFFOztJQUVqQjtJQUNBbEQsT0FBTyxDQUFDNkksR0FBRyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM1RixZQUFZLENBQUNDLE1BQU0sQ0FBQztJQUN2Qy9DLFNBQVMsQ0FBQzBJLEdBQUcsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDNUYsWUFBWSxDQUFDQyxNQUFNLENBQUM7SUFDekMsTUFBTXFSLElBQUksR0FBR3ZVLE9BQU8sQ0FBQ3dVLEdBQUcsQ0FBQ3JVLFNBQVMsQ0FBQzs7SUFFbkM7SUFDQSxNQUFNc1UsUUFBUSxHQUFHeFUsS0FBSyxDQUFDNFAsSUFBSSxDQUFDNkUsUUFBUSxDQUFDN0UsSUFBSSxDQUFDOEUsS0FBSyxDQUFDSixJQUFJLENBQUMzVSxDQUFDLEVBQUUyVSxJQUFJLENBQUM1VSxDQUFDLENBQUMsQ0FBQztJQUNoRSxNQUFNMFUsS0FBSyxHQUFNRSxJQUFJLENBQUM1VCxNQUFNLENBQUMsQ0FBQzs7SUFFOUI7SUFDQSxJQUFJLENBQUN1VCxNQUFNLENBQUNPLFFBQVEsQ0FBQztJQUNyQixJQUFJLENBQUNKLEtBQUssQ0FBQ0EsS0FBSyxDQUFDOztJQUVqQjtJQUNBLElBQUkxViw4Q0FBTSxDQUFDaVcsa0JBQWtCLENBQUMxUixNQUFNLENBQUMsRUFBRTtNQUNuQyxJQUFJLENBQUM4TyxTQUFTLEdBQUcsQ0FBQyxJQUFJLENBQUNBLFNBQVM7TUFDaEMsSUFBSSxDQUFDRixRQUFRLEdBQUksS0FBSyxHQUFHLElBQUksQ0FBQ0EsUUFBUTtJQUMxQztFQUNKO0FBQ0o7O0FBRU8sTUFBTW5NLElBQUksU0FBU1osUUFBUSxDQUFDOztFQUUvQnZFLFdBQVdBLENBQUN1QixNQUFNLEVBQWtELEtBQWhEa0QsUUFBUSxHQUFBdkUsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsS0FBSyxLQUFFMkIsS0FBSyxHQUFBM0IsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUdtQixZQUFZLENBQUNILEtBQUssQ0FBQyxDQUFDO0lBQzlELEtBQUssQ0FBQ0ssTUFBTSxFQUFFTSxLQUFLLENBQUM7O0lBRXBCO0lBQ0EsSUFBSSxDQUFDNEMsUUFBUSxHQUFHQSxRQUFRO0VBQzVCOztFQUVEO0VBQ0E7RUFDQTtFQUNBO0VBQ0E0UCx1QkFBdUJBLENBQUM1TSxTQUFTLEVBQUUzQyxTQUFTLEVBQUV3UCxJQUFJLEVBQUVDLElBQUksRUFBRTs7SUFFckQsTUFBTXRVLE1BQU0sR0FBRyxJQUFJLENBQUN1RSxNQUFNLENBQUNNLFNBQVMsQ0FBQyxDQUFDMkMsU0FBUyxDQUFDLENBQUNvQixnQkFBZ0I7O0lBRWpFO0lBQ0EsTUFBTTJMLE1BQU0sR0FBRyxJQUFJLENBQUNqSyxnQkFBZ0IsQ0FBQzlDLFNBQVMsRUFBRTNDLFNBQVMsQ0FBQztJQUMxRCxNQUFNMlAsTUFBTSxHQUFHdFcsOENBQU0sQ0FBQ29NLGdCQUFnQixDQUFDK0osSUFBSSxFQUFFQyxJQUFJLENBQUM7SUFDbEQsTUFBTUcsTUFBTSxHQUFHdlcsOENBQU0sQ0FBQ3dXLHNCQUFzQixDQUFDRixNQUFNLEVBQUVELE1BQU0sQ0FBQzs7SUFFNUR2VSxNQUFNLENBQUN5VCxNQUFNLENBQUNqVSxLQUFLLENBQUM0UCxJQUFJLENBQUM2RSxRQUFRLENBQUNRLE1BQU0sQ0FBQyxDQUFDOztJQUUxQztJQUNBLE1BQU1FLFNBQVMsR0FBRyxJQUFJLENBQUNwSyxhQUFhLENBQUMvQyxTQUFTLEVBQUUzQyxTQUFTLENBQUM7SUFDMUQsTUFBTStQLFNBQVMsR0FBRzFXLDhDQUFNLENBQUMyVyxVQUFVLENBQUNSLElBQUksRUFBRUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUNqRCxNQUFNVixLQUFLLEdBQUdnQixTQUFTLEdBQUdELFNBQVM7O0lBRW5DO0lBQ0EsTUFBTUcsVUFBVSxHQUFHOUcsUUFBUSxDQUFDNEYsS0FBSyxDQUFDLElBQUlBLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNqRCxJQUFJa0IsVUFBVSxFQUFFO01BQ1o5VSxNQUFNLENBQUM0VCxLQUFLLENBQUNBLEtBQUssQ0FBQztJQUN2QjtFQUNKOztFQUVBak8sV0FBV0EsQ0FBQ0osS0FBSyxFQUFFckcsQ0FBQyxFQUFFQyxDQUFDLEVBQWlCLEtBQWYwRixTQUFTLEdBQUE1RSxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxDQUFDOztJQUVsQyxNQUFNcUIsTUFBTSxHQUFHLElBQUksQ0FBQ2lELE1BQU0sQ0FBQ00sU0FBUyxDQUFDO0lBQ3JDLElBQUk1RixDQUFDLEdBQUdxQyxNQUFNLENBQUNpRSxLQUFLLENBQUM7O0lBRXJCLElBQUl3UCxJQUFJLEdBQUczRSxNQUFNLENBQUNoSSxHQUFHLENBQUNsSixDQUFDLEVBQUVDLENBQUMsQ0FBQzs7SUFFM0I7SUFDQTtJQUNBLE1BQU00SSxFQUFFLEdBQUc3SSxDQUFDLEdBQUdELENBQUMsQ0FBQ0MsQ0FBQztJQUNsQixNQUFNOEksRUFBRSxHQUFHN0ksQ0FBQyxHQUFHRixDQUFDLENBQUNFLENBQUM7O0lBRWxCO0lBQ0EsSUFBSSxJQUFJLENBQUNrSixXQUFXLENBQUM5QyxLQUFLLEVBQUVWLFNBQVMsQ0FBQyxFQUFFO01BQ3BDNUYsQ0FBQyxDQUFDc0osSUFBSSxJQUFJUixFQUFFO01BQ1o5SSxDQUFDLENBQUN1SixJQUFJLElBQUlSLEVBQUU7SUFDaEI7O0lBRUE7SUFDQSxJQUFJLElBQUksQ0FBQ1csWUFBWSxDQUFDcEQsS0FBSyxFQUFFVixTQUFTLENBQUMsRUFBRTtNQUNyQztNQUNBLE1BQU0wQixTQUFTLEdBQUcsSUFBSSxDQUFDQSxTQUFTLENBQUNoQixLQUFLLEVBQUVWLFNBQVMsQ0FBQztNQUNsRCxNQUFNbVEsS0FBSyxHQUFHMVQsTUFBTSxDQUFDaUYsU0FBUyxDQUFDO01BQy9CLElBQUksQ0FBQzZOLHVCQUF1QixDQUFDN08sS0FBSyxFQUFFVixTQUFTLEVBQUVrUSxJQUFJLEVBQUVDLEtBQUssQ0FBQztJQUMvRDs7SUFFQTtJQUNBO0lBQ0EsTUFBTUMsUUFBUSxHQUFHLElBQUksQ0FBQ3hMLGdCQUFnQixDQUFDbEUsS0FBSyxFQUFFVixTQUFTLENBQUM7SUFDeEQsSUFBSSxJQUFJLENBQUM4RSxjQUFjLENBQUNzTCxRQUFRLEVBQUVwUSxTQUFTLENBQUMsRUFBRTs7TUFFMUM7TUFDQSxNQUFNcVEsS0FBSyxHQUFHNVQsTUFBTSxDQUFDMlQsUUFBUSxDQUFDOztNQUU5QjtNQUNBLElBQUksSUFBSSxDQUFDNU0sV0FBVyxDQUFDNE0sUUFBUSxFQUFFcFEsU0FBUyxDQUFDLEVBQUU7UUFDdkNxUSxLQUFLLENBQUN6TSxJQUFJLElBQUlWLEVBQUU7UUFDaEJtTixLQUFLLENBQUN4TSxJQUFJLElBQUlWLEVBQUU7TUFDcEI7O01BRUE7TUFDQSxJQUFJLElBQUksQ0FBQ1csWUFBWSxDQUFDc00sUUFBUSxFQUFFcFEsU0FBUyxDQUFDLEVBQUU7UUFDeEMsSUFBSSxDQUFDdVAsdUJBQXVCLENBQUNhLFFBQVEsRUFBRXBRLFNBQVMsRUFBRXFRLEtBQUssRUFBRUgsSUFBSSxDQUFDO01BQ2xFO0lBQ0o7O0lBRUE5VixDQUFDLENBQUNDLENBQUMsR0FBR0EsQ0FBQztJQUNQRCxDQUFDLENBQUNFLENBQUMsR0FBR0EsQ0FBQztJQUNQLElBQUksQ0FBQzBELFFBQVEsQ0FBQyxDQUFDO0VBQ25COztFQUVBc1MsV0FBV0EsQ0FBQ0MsWUFBWSxFQUFpQixLQUFmdlEsU0FBUyxHQUFBNUUsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsQ0FBQztJQUNuQyxNQUFNOEMsSUFBSSxHQUFHLElBQUksQ0FBQ3dCLE1BQU0sQ0FBQ00sU0FBUyxDQUFDLENBQUN1USxZQUFZLENBQUMsQ0FBQ3hFLE9BQU87SUFDekQsT0FBTzdOLElBQUksR0FBR0EsSUFBSSxHQUFHOE0sUUFBUSxDQUFDQyxJQUFJO0VBQ3RDOztFQUVBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBdUYsWUFBWUEsQ0FBQ0QsWUFBWSxFQUFFcFYsTUFBTSxFQUEwQixLQUF4QjZFLFNBQVMsR0FBQTVFLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLENBQUM7O0lBRTVDO0lBQ0E7SUFDQTtJQUNBLE1BQU1xVixVQUFVLEdBQUksT0FBT3RWLE1BQU0sS0FBSyxRQUFTO0lBQy9DLElBQUksQ0FBQ3NWLFVBQVUsRUFBRTtNQUNidFYsTUFBTSxHQUFHO1FBQ0x1SSxJQUFJLEVBQUV2SSxNQUFNO1FBQ1p3SSxJQUFJLEVBQUUzRCxTQUFTO1FBQ2Y0RCxJQUFJLEVBQUF4SSxTQUFBLENBQUFDLE1BQUEsUUFBQUMsU0FBQSxHQUFBRixTQUFBLEdBQVM7UUFDYnlJLElBQUksRUFBQXpJLFNBQUEsQ0FBQUMsTUFBQSxRQUFBQyxTQUFBLEdBQUFGLFNBQUE7TUFDUixDQUFDO01BQ0Q0RSxTQUFTLEdBQUcsQ0FBQTVFLFNBQUEsQ0FBQUMsTUFBQSxRQUFBQyxTQUFBLEdBQUFGLFNBQUEsUUFBVyxDQUFDO0lBQzVCOztJQUVBLE1BQU1oQixDQUFDLEdBQUcsSUFBSSxDQUFDc0YsTUFBTSxDQUFDTSxTQUFTLENBQUMsQ0FBQ3VRLFlBQVksQ0FBQztJQUM5Q25XLENBQUMsQ0FBQzJSLE9BQU8sR0FBR2YsUUFBUSxDQUFDRSxNQUFNO0lBQzNCd0QsZUFBZSxDQUFDdlAsU0FBUyxDQUFDOUMsSUFBSSxDQUFDNkMsSUFBSSxDQUFDOUUsQ0FBQyxFQUFFZSxNQUFNLENBQUM7O0lBRTlDLElBQUksQ0FBQzZDLFFBQVEsQ0FBQyxDQUFDO0VBQ25COztFQUVBMFMsa0JBQWtCQSxDQUFDSCxZQUFZLEVBQWlELEtBQS9DdlEsU0FBUyxHQUFBNUUsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsQ0FBQyxLQUFFdUYsTUFBTSxHQUFBdkYsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsSUFBSXNULGVBQWUsQ0FBQyxDQUFDO0lBQzFFO0lBQ0EsTUFBTXRVLENBQUMsR0FBRyxJQUFJLENBQUNzRixNQUFNLENBQUNNLFNBQVMsQ0FBQyxDQUFDdVEsWUFBWSxDQUFDO0lBQzlDLE1BQU1JLFNBQVMsR0FBR3ZXLENBQUMsSUFBS0EsQ0FBQyxDQUFDMlIsT0FBTyxLQUFLZixRQUFRLENBQUNFLE1BQU8sSUFBSTlRLENBQUM7O0lBRTNEO0lBQ0EsT0FBT3VXLFNBQVMsSUFBSWhRLE1BQU0sQ0FBQ3RFLElBQUksQ0FBQ3NVLFNBQVMsQ0FBQztFQUM5Qzs7RUFFQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0FDLGFBQWFBLENBQUNMLFlBQVksRUFBRU0sU0FBUyxFQUFpQixLQUFmN1EsU0FBUyxHQUFBNUUsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsQ0FBQzs7SUFFaEQsTUFBTWhCLENBQUMsR0FBRyxJQUFJLENBQUNzRixNQUFNLENBQUNNLFNBQVMsQ0FBQyxDQUFDdVEsWUFBWSxDQUFDOztJQUU5Q25XLENBQUMsQ0FBQzJSLE9BQU8sR0FBR2YsUUFBUSxDQUFDRyxPQUFPO0lBQzVCL1EsQ0FBQyxDQUFDMkosZ0JBQWdCLEdBQUc4TSxTQUFTLENBQUN6VSxLQUFLLENBQUMsQ0FBQzs7SUFFdEMsSUFBSSxDQUFDNEIsUUFBUSxDQUFDLENBQUM7RUFDbkI7O0VBRUE7RUFDQTtFQUNBO0VBQ0E4UyxtQkFBbUJBLENBQUNQLFlBQVksRUFBa0QsS0FBaER2USxTQUFTLEdBQUE1RSxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxDQUFDLEtBQUV1RixNQUFNLEdBQUF2RixTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxJQUFJdVQsZ0JBQWdCLENBQUMsQ0FBQzs7SUFFNUU7SUFDQSxNQUFNdlUsQ0FBQyxHQUFHLElBQUksQ0FBQ3NGLE1BQU0sQ0FBQ00sU0FBUyxDQUFDLENBQUN1USxZQUFZLENBQUM7SUFDOUMsTUFBTUksU0FBUyxHQUFHdlcsQ0FBQyxJQUFLQSxDQUFDLENBQUMyUixPQUFPLEtBQUtmLFFBQVEsQ0FBQ0csT0FBUSxJQUFJL1EsQ0FBQyxDQUFDMkosZ0JBQWdCOztJQUU3RTtJQUNBLE9BQU80TSxTQUFTLElBQUloUSxNQUFNLENBQUN0RSxJQUFJLENBQUNzVSxTQUFTLENBQUM7RUFDOUM7O0VBRUE7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBekUsZ0JBQWdCQSxDQUFDdkosU0FBUyxFQUE0QyxLQUExQzNDLFNBQVMsR0FBQTVFLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLENBQUMsS0FBRXVGLE1BQU0sR0FBQXZGLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLElBQUlrUSxVQUFVLENBQUMsQ0FBQzs7SUFFaEUsTUFBTTdPLE1BQU0sR0FBRyxJQUFJLENBQUNpRCxNQUFNLENBQUNNLFNBQVMsQ0FBQzs7SUFFckM7SUFDQSxNQUFNMEIsU0FBUyxHQUFHLElBQUksQ0FBQ0EsU0FBUyxDQUFDaUIsU0FBUyxFQUFFM0MsU0FBUyxDQUFDO0lBQ3RELE1BQU02TCxNQUFNLEdBQUdwUCxNQUFNLENBQUNrRyxTQUFTLENBQUM7SUFDaEMsTUFBTW1KLElBQUksR0FBS3JQLE1BQU0sQ0FBQ2lGLFNBQVMsQ0FBQztJQUNoQyxNQUFNdkcsTUFBTSxHQUFHMFEsTUFBTSxDQUFDOUgsZ0JBQWdCOztJQUV0Q3BELE1BQU0sQ0FBQ29RLGFBQWE7TUFDaEI1VixNQUFNLENBQUNrUixFQUFFO01BQ1RsUixNQUFNLENBQUNtUixFQUFFO01BQ1RuUixNQUFNLENBQUNxUixRQUFRO01BQ2ZyUixNQUFNLENBQUNzUixZQUFZO01BQ25CdFIsTUFBTSxDQUFDdVIsU0FBUztNQUNoQmIsTUFBTTtNQUNOQztJQUNKLENBQUM7SUFDRCxPQUFPbkwsTUFBTTtFQUNqQjs7RUFFQTZDLFdBQVdBLENBQUMrTSxZQUFZLEVBQWlCLEtBQWZ2USxTQUFTLEdBQUE1RSxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxDQUFDO0lBQ25DLE9BQU8sSUFBSSxDQUFDMEosY0FBYyxDQUFDeUwsWUFBWSxFQUFFdlEsU0FBUyxDQUFDLElBQUksSUFBSSxDQUFDTixNQUFNLENBQUNNLFNBQVMsQ0FBQyxDQUFDdVEsWUFBWSxDQUFDLENBQUN4RSxPQUFPLEtBQUtmLFFBQVEsQ0FBQ0UsTUFBTTtFQUMzSDs7RUFFQXBILFlBQVlBLENBQUN5TSxZQUFZLEVBQWlCLEtBQWZ2USxTQUFTLEdBQUE1RSxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxDQUFDO0lBQ3BDLE9BQU8sSUFBSSxDQUFDMEosY0FBYyxDQUFDeUwsWUFBWSxFQUFFdlEsU0FBUyxDQUFDLElBQUksSUFBSSxDQUFDTixNQUFNLENBQUNNLFNBQVMsQ0FBQyxDQUFDdVEsWUFBWSxDQUFDLENBQUN4RSxPQUFPLEtBQUtmLFFBQVEsQ0FBQ0csT0FBTztFQUM1SDs7RUFFQTZGLEtBQUtBLENBQUNULFlBQVksRUFBaUIsS0FBZnZRLFNBQVMsR0FBQTVFLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLENBQUM7SUFDN0IsT0FBTyxJQUFJLENBQUNvSSxXQUFXLENBQUMrTSxZQUFZLEVBQUV2USxTQUFTLENBQUMsSUFBSSxJQUFJLENBQUM4RCxZQUFZLENBQUN5TSxZQUFZLEVBQUV2USxTQUFTLENBQUM7RUFDbEc7O0VBRUE7RUFDQTtFQUNBO0VBQ0E7RUFDQWlSLGVBQWVBLENBQUNWLFlBQVksRUFBb0IsS0FBbEJXLFNBQVMsR0FBQTlWLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLElBQUk7SUFDMUMsTUFBTXVGLE1BQU0sR0FBR3VRLFNBQVMsSUFBSSxJQUFJdlcsS0FBSyxDQUFDbkIsT0FBTyxDQUFDLENBQUM7SUFDL0MsTUFBTVksQ0FBQyxHQUFHLElBQUksQ0FBQ3FDLE1BQU0sQ0FBQzhULFlBQVksQ0FBQztJQUNuQzVQLE1BQU0sQ0FBQ3RHLENBQUMsR0FBR0QsQ0FBQyxDQUFDc0osSUFBSSxHQUFHdEosQ0FBQyxDQUFDQyxDQUFDO0lBQ3ZCc0csTUFBTSxDQUFDckcsQ0FBQyxHQUFHRixDQUFDLENBQUN1SixJQUFJLEdBQUd2SixDQUFDLENBQUNFLENBQUM7SUFDdkIsT0FBT3FHLE1BQU07RUFDakI7O0VBRUE7RUFDQTtFQUNBO0VBQ0F3USxhQUFhQSxDQUFDWixZQUFZLEVBQW9CLEtBQWxCVyxTQUFTLEdBQUE5VixTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxJQUFJOztJQUV4QyxNQUFNdUYsTUFBTSxHQUFHdVEsU0FBUyxJQUFJLElBQUl2VyxLQUFLLENBQUNuQixPQUFPLENBQUMsQ0FBQztJQUMvQyxNQUFNNFgsU0FBUyxHQUFHLElBQUksQ0FBQzFQLFNBQVMsQ0FBQzZPLFlBQVksQ0FBQzs7SUFFOUM7SUFDQSxNQUFNMUUsTUFBTSxHQUFHLElBQUksQ0FBQ3BQLE1BQU0sQ0FBQzhULFlBQVksQ0FBQztJQUN4QyxNQUFNekUsSUFBSSxHQUFLLElBQUksQ0FBQ3JQLE1BQU0sQ0FBQzJVLFNBQVMsQ0FBQztJQUNyQ3pRLE1BQU0sQ0FBQ3RHLENBQUMsR0FBR3dSLE1BQU0sQ0FBQ2pJLElBQUksR0FBR2tJLElBQUksQ0FBQ3pSLENBQUM7SUFDL0JzRyxNQUFNLENBQUNyRyxDQUFDLEdBQUd1UixNQUFNLENBQUNoSSxJQUFJLEdBQUdpSSxJQUFJLENBQUN4UixDQUFDO0lBQy9CLE9BQU9xRyxNQUFNO0VBQ2pCOztFQUVBO0VBQ0E7RUFDQTBRLGVBQWVBLENBQUNkLFlBQVksRUFBRWUsT0FBTyxFQUFFO0lBQ25DLE1BQU1sWCxDQUFDLEdBQUcsSUFBSSxDQUFDcUMsTUFBTSxDQUFDOFQsWUFBWSxDQUFDO0lBQ25DblcsQ0FBQyxDQUFDc0osSUFBSSxHQUFHdEosQ0FBQyxDQUFDQyxDQUFDLEdBQUdpWCxPQUFPLENBQUNqWCxDQUFDO0lBQ3hCRCxDQUFDLENBQUN1SixJQUFJLEdBQUd2SixDQUFDLENBQUNFLENBQUMsR0FBR2dYLE9BQU8sQ0FBQ2hYLENBQUM7SUFDeEIsSUFBSSxDQUFDMEQsUUFBUSxDQUFDLENBQUM7RUFDbkI7O0VBRUE7RUFDQTtFQUNBdVQsYUFBYUEsQ0FBQ2hCLFlBQVksRUFBRWUsT0FBTyxFQUFFO0lBQ2pDLE1BQU1sWCxDQUFDLEdBQUcsSUFBSSxDQUFDcUMsTUFBTSxDQUFDOFQsWUFBWSxDQUFDO0lBQ25DLE1BQU16RSxJQUFJLEdBQUcsSUFBSSxDQUFDclAsTUFBTSxDQUFDLElBQUksQ0FBQ2lGLFNBQVMsQ0FBQzZPLFlBQVksQ0FBQyxDQUFDO0lBQ3REblcsQ0FBQyxDQUFDd0osSUFBSSxHQUFHa0ksSUFBSSxDQUFDelIsQ0FBQyxHQUFHaVgsT0FBTyxDQUFDalgsQ0FBQztJQUMzQkQsQ0FBQyxDQUFDeUosSUFBSSxHQUFHaUksSUFBSSxDQUFDeFIsQ0FBQyxHQUFHZ1gsT0FBTyxDQUFDaFgsQ0FBQztJQUMzQixJQUFJLENBQUMwRCxRQUFRLENBQUMsQ0FBQztFQUNuQjs7RUFFQTtFQUNBd1QsU0FBU0EsQ0FBQ2pCLFlBQVksRUFBaUIsS0FBZnZRLFNBQVMsR0FBQTVFLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLENBQUM7SUFDakMsTUFBTWhCLENBQUMsR0FBRyxJQUFJLENBQUNzRixNQUFNLENBQUNNLFNBQVMsQ0FBQyxDQUFDdVEsWUFBWSxDQUFDOztJQUU5QyxJQUFJblcsQ0FBQyxDQUFDMlIsT0FBTyxLQUFLZixRQUFRLENBQUNFLE1BQU0sRUFBRTtNQUMvQjlRLENBQUMsQ0FBQ3NKLElBQUksR0FBR3BJLFNBQVM7TUFDbEJsQixDQUFDLENBQUN1SixJQUFJLEdBQUdySSxTQUFTO01BQ2xCbEIsQ0FBQyxDQUFDd0osSUFBSSxHQUFHdEksU0FBUztNQUNsQmxCLENBQUMsQ0FBQ3lKLElBQUksR0FBR3ZJLFNBQVM7SUFDdEI7O0lBRUEsSUFBSWxCLENBQUMsQ0FBQzJKLGdCQUFnQixFQUFFM0osQ0FBQyxDQUFDMkosZ0JBQWdCLEdBQUd6SSxTQUFTOztJQUV0RDtJQUNBbEIsQ0FBQyxDQUFDMlIsT0FBTyxHQUFHZixRQUFRLENBQUNDLElBQUk7O0lBRXpCLElBQUksQ0FBQ2pOLFFBQVEsQ0FBQyxDQUFDO0VBQ25COztFQUVBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBeVQsZUFBZUEsQ0FBQ2xCLFlBQVksRUFBRW1CLGNBQWMsRUFBK0MsS0FBN0MxUixTQUFTLEdBQUE1RSxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxDQUFDLEtBQUV1RixNQUFNLEdBQUF2RixTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxJQUFJVCxLQUFLLENBQUNuQixPQUFPLENBQUMsQ0FBQztJQUNyRixNQUFNWSxDQUFDLEdBQUcsSUFBSSxDQUFDc0YsTUFBTSxDQUFDTSxTQUFTLENBQUMsQ0FBQ3VRLFlBQVksQ0FBQzs7SUFFOUMsSUFBSW1CLGNBQWMsS0FBSyxDQUFDLEVBQUU7TUFDdEIvUSxNQUFNLENBQUN0RyxDQUFDLEdBQUdELENBQUMsQ0FBQ3NKLElBQUk7TUFDakIvQyxNQUFNLENBQUNyRyxDQUFDLEdBQUdGLENBQUMsQ0FBQ3VKLElBQUk7SUFDckIsQ0FBQyxNQUFNO01BQ0hoRCxNQUFNLENBQUN0RyxDQUFDLEdBQUdELENBQUMsQ0FBQ3dKLElBQUk7TUFDakJqRCxNQUFNLENBQUNyRyxDQUFDLEdBQUdGLENBQUMsQ0FBQ3lKLElBQUk7SUFDckI7SUFDQSxPQUFPbEQsTUFBTTtFQUNqQjs7RUFFQTtFQUNBO0VBQ0E7RUFDQTtFQUNBZ1Isa0JBQWtCQSxDQUFDcEIsWUFBWSxFQUFFcUIsU0FBUyxFQUFFdlgsQ0FBQyxFQUFFQyxDQUFDLEVBQWlCLEtBQWYwRixTQUFTLEdBQUE1RSxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxDQUFDO0lBQzNELElBQUloQixDQUFDLEdBQUcsSUFBSSxDQUFDc0YsTUFBTSxDQUFDTSxTQUFTLENBQUMsQ0FBQ3VRLFlBQVksQ0FBQztJQUM1QyxJQUFJcUIsU0FBUyxLQUFLLENBQUMsRUFBRTtNQUNqQnhYLENBQUMsQ0FBQ3NKLElBQUksR0FBR3JKLENBQUM7TUFDVkQsQ0FBQyxDQUFDdUosSUFBSSxHQUFHckosQ0FBQztJQUNkLENBQUMsTUFBTTtNQUNIRixDQUFDLENBQUN3SixJQUFJLEdBQUd2SixDQUFDO01BQ1ZELENBQUMsQ0FBQ3lKLElBQUksR0FBR3ZKLENBQUM7SUFDZDtJQUNBLElBQUksQ0FBQzBELFFBQVEsQ0FBQyxDQUFDO0VBQ25COztFQUVBO0VBQ0FSLElBQUlBLENBQUNtTSxHQUFHLEVBQUVDLGFBQWEsRUFBRTtJQUNyQkMsUUFBUSxDQUFDRixHQUFHLEVBQUUsSUFBSSxFQUFFQyxhQUFhLENBQUM7RUFDdEM7O0VBRUE7RUFDQTtFQUNBaUksTUFBTUEsQ0FBQSxFQUE4RCxLQUE3REMsVUFBVSxHQUFBMVcsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUd6QixRQUFRLENBQUMrTSxVQUFVLENBQUNDLFFBQVEsQ0FBQ29MLGlCQUFpQjs7SUFFOUQsTUFBTUMsSUFBSSxHQUFHLElBQUksQ0FBQ3JTLFFBQVEsR0FBRyxJQUFJK0osT0FBTyxDQUFDLENBQUMsR0FBRyxJQUFJZSxRQUFRLENBQUMsQ0FBQztJQUMzRCxLQUFLLElBQUlySCxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUcsSUFBSSxDQUFDdkQsU0FBUyxFQUFFdUQsQ0FBQyxFQUFFLEVBQUU7O01BRXJDO01BQ0EsTUFBTXVHLEdBQUcsR0FBRztRQUNSZ0MsTUFBTSxFQUFFQSxDQUFDdFIsQ0FBQyxFQUFFQyxDQUFDLEtBQUswWCxJQUFJLENBQUMvUixRQUFRLENBQUM1RixDQUFDLEVBQUVDLENBQUMsRUFBRThJLENBQUMsQ0FBQztRQUN4QzZKLE1BQU0sRUFBRUEsQ0FBQzVTLENBQUMsRUFBRUMsQ0FBQyxLQUFLMFgsSUFBSSxDQUFDL1IsUUFBUSxDQUFDNUYsQ0FBQyxFQUFFQyxDQUFDLEVBQUU4SSxDQUFDLENBQUM7UUFDeEM0SSxhQUFhQSxDQUFDdEksSUFBSSxFQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBRUMsSUFBSSxFQUFFeEosQ0FBQyxFQUFFQyxDQUFDLEVBQUU7O1VBRXhDO1VBQ0E7VUFDQSxNQUFNbUMsTUFBTSxHQUFHdVYsSUFBSSxDQUFDdFMsTUFBTSxDQUFDMEQsQ0FBQyxDQUFDO1VBQzdCLE1BQU02TyxJQUFJLEdBQUd4VixNQUFNLENBQUNBLE1BQU0sQ0FBQ3BCLE1BQU0sR0FBRyxDQUFDLENBQUM7O1VBRXRDO1VBQ0EsTUFBTTZXLE1BQU0sR0FBR3BYLE9BQU8sQ0FBQzJKLFNBQVMsQ0FBQyxDQUFDO1VBQ2xDeU4sTUFBTSxDQUFDdFYsYUFBYSxDQUFDcVYsSUFBSSxDQUFDO1VBQzFCQyxNQUFNLENBQUN0VixhQUFhLENBQUM1QixPQUFPLENBQUN1SSxHQUFHLENBQUNsSixDQUFDLEVBQUNDLENBQUMsQ0FBQyxDQUFDO1VBQ3RDNFgsTUFBTSxDQUFDdFYsYUFBYSxDQUFDNUIsT0FBTyxDQUFDdUksR0FBRyxDQUFDRyxJQUFJLEVBQUVDLElBQUksQ0FBQyxDQUFDO1VBQzdDdU8sTUFBTSxDQUFDdFYsYUFBYSxDQUFDNUIsT0FBTyxDQUFDdUksR0FBRyxDQUFDSyxJQUFJLEVBQUVDLElBQUksQ0FBQyxDQUFDO1VBQzdDLE1BQU1zTyxFQUFFLEdBQUdELE1BQU0sQ0FBQ0UsT0FBTyxDQUFDN0csTUFBTSxDQUFDLENBQUNsUSxNQUFNLENBQUMsQ0FBQzs7VUFFMUM7VUFDQTFCLFFBQVEsQ0FBQytNLFVBQVUsQ0FBQ0MsUUFBUSxDQUFDMEwsY0FBYyxDQUFDMUksR0FBRyxFQUFFc0ksSUFBSSxDQUFDNVgsQ0FBQyxFQUFFNFgsSUFBSSxDQUFDM1gsQ0FBQyxFQUFFb0osSUFBSSxFQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBRUMsSUFBSSxFQUFFeEosQ0FBQyxFQUFFQyxDQUFDLEVBQUU2WCxFQUFFLEVBQUVMLFVBQVUsQ0FBQztRQUNsSCxDQUFDO1FBQ0RuRixPQUFPQSxDQUFDQyxFQUFFLEVBQUVDLEVBQUUsRUFBRVIsRUFBRSxFQUFFQyxFQUFFLEVBQUVFLFFBQVEsRUFBRU0sVUFBVSxFQUFFQyxRQUFRLEVBQUVDLEdBQUcsRUFBRTs7VUFFekQ7VUFDQSxNQUFNbUYsRUFBRSxHQUFHNUgsSUFBSSxDQUFDcEUsR0FBRyxDQUFDa0csRUFBRSxFQUFFQyxFQUFFLENBQUM7O1VBRTNCO1VBQ0EsTUFBTWdHLFdBQVcsR0FBR1IsVUFBVSxDQUFDdFgsYUFBYTtVQUM1QyxNQUFNK1gsZ0JBQWdCLEdBQUdULFVBQVUsQ0FBQ3JYLGlCQUFpQixHQUFHMFgsRUFBRTs7VUFFMUQ7VUFDQSxNQUFNbEcsR0FBRyxHQUFHWixTQUFTLENBQUMsQ0FBQyxDQUFDOUgsR0FBRyxDQUFDcUosRUFBRSxFQUFFQyxFQUFFLEVBQUVSLEVBQUUsRUFBRUMsRUFBRSxFQUFFRSxRQUFRLEVBQUVNLFVBQVUsRUFBRUMsUUFBUSxFQUFFQyxHQUFHLENBQUM7VUFDaEZmLEdBQUcsQ0FBQ3VHLFNBQVMsQ0FBQzdJLEdBQUcsRUFBRTJJLFdBQVcsRUFBRUMsZ0JBQWdCLENBQUM7UUFDckQsQ0FBQztRQUNEbEYsU0FBUyxFQUFFQSxDQUFBLEtBQU0sQ0FBQyxDQUFDLENBQUM7TUFDeEIsQ0FBQztNQUNEN0IsT0FBTyxDQUFDN0IsR0FBRyxFQUFFLElBQUksRUFBRXZHLENBQUMsQ0FBQztJQUN6QjtJQUNBLE9BQU80TyxJQUFJO0VBQ2Y7O0VBRUFuVSxXQUFXQSxDQUFBLEVBQUc7SUFDVjtJQUNBLEtBQUssQ0FBQ0EsV0FBVyxDQUFDLENBQUM7O0lBRW5CO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLE1BQU00RixFQUFFLEdBQUcsSUFBSTlJLEtBQUssQ0FBQ25CLE9BQU8sQ0FBQyxDQUFDO0lBQzlCLEtBQUssSUFBSTRKLENBQUMsR0FBQyxDQUFDLEVBQUVBLENBQUMsR0FBQyxJQUFJLENBQUN2RCxTQUFTLEVBQUV1RCxDQUFDLEVBQUUsRUFBRTtNQUNqQyxLQUFLLElBQUl6RyxDQUFDLEdBQUMsQ0FBQyxFQUFFQSxDQUFDLEdBQUMsSUFBSSxDQUFDdUUsY0FBYyxDQUFDa0MsQ0FBQyxDQUFDLEVBQUV6RyxDQUFDLEVBQUUsRUFBRTs7UUFFekMsSUFBSSxJQUFJLENBQUM2RyxXQUFXLENBQUM3RyxDQUFDLEVBQUV5RyxDQUFDLENBQUMsRUFBRTtVQUN4QjtVQUNBLElBQUksQ0FBQ3FPLGVBQWUsQ0FBQzlVLENBQUMsRUFBRSxDQUFDLEVBQUV5RyxDQUFDLEVBQUVLLEVBQUUsQ0FBQztVQUNqQyxJQUFJLENBQUN4RyxJQUFJLENBQUNMLGFBQWEsQ0FBQzZHLEVBQUUsQ0FBQzs7VUFFM0I7VUFDQSxJQUFJLENBQUNnTyxlQUFlLENBQUM5VSxDQUFDLEVBQUUsQ0FBQyxFQUFFeUcsQ0FBQyxFQUFFSyxFQUFFLENBQUM7VUFDakMsSUFBSSxDQUFDeEcsSUFBSSxDQUFDTCxhQUFhLENBQUM2RyxFQUFFLENBQUM7UUFDL0IsQ0FBQztRQUNJLElBQUksSUFBSSxDQUFDSyxZQUFZLENBQUNuSCxDQUFDLEVBQUV5RyxDQUFDLENBQUMsRUFBRTtVQUM5QixNQUFNNkksR0FBRyxHQUFHLElBQUksQ0FBQ0MsZ0JBQWdCLENBQUN2UCxDQUFDLEVBQUV5RyxDQUFDLEVBQUVpSSxTQUFTLENBQUMsQ0FBQyxDQUFDO1VBQ3BELElBQUksQ0FBQ3BPLElBQUksQ0FBQ3dWLEtBQUssQ0FBQ3hHLEdBQUcsQ0FBQ3BPLFdBQVcsQ0FBQy9DLE9BQU8sQ0FBQyxDQUFDO1FBQzdDO01BQ0o7SUFDSjtFQUNKOztFQUVBMkMsT0FBT0EsQ0FBQ3BELENBQUMsRUFBRUMsQ0FBQyxFQUFFeVEsU0FBUyxFQUFzQixLQUFwQnJJLGNBQWMsR0FBQXRILFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLENBQUM7SUFDdkMsTUFBTTRXLElBQUksR0FBRyxJQUFJLENBQUNILE1BQU0sQ0FBQyxDQUFDO0lBQzFCLE9BQU9HLElBQUksQ0FBQ3ZVLE9BQU8sQ0FBQ3BELENBQUMsRUFBRUMsQ0FBQyxFQUFFeVEsU0FBUyxFQUFFckksY0FBYyxDQUFDO0VBQ3hEOztFQUVBdEcsS0FBS0EsQ0FBQSxFQUFHO0lBQ0osT0FBTyxJQUFJaUUsSUFBSSxDQUFDLENBQUMsQ0FBQ2hFLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDaEM7O0VBRUE7RUFDQTtFQUNBO0VBQ0EySCxPQUFPQSxDQUFDME8sT0FBTyxFQUF1QyxLQUFyQ3hPLFlBQVksR0FBQTlJLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLENBQUMsS0FBRStJLFlBQVksR0FBQS9JLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLENBQUMsQ0FBQzs7SUFFaEQ7SUFDQStJLFlBQVksR0FBRyxLQUFLLENBQUNILE9BQU8sQ0FBQzBPLE9BQU8sRUFBRXhPLFlBQVksRUFBRUMsWUFBWSxDQUFDOztJQUVqRSxNQUFNd08sU0FBUyxHQUFHRCxPQUFPLENBQUNoVCxNQUFNLENBQUN3RSxZQUFZLENBQUM7SUFDOUMsTUFBTTBPLFNBQVMsR0FBRyxJQUFJLENBQUNsVCxNQUFNLENBQUN5RSxZQUFZLENBQUM7O0lBRTNDO0lBQ0EsS0FBSyxJQUFJeEgsQ0FBQyxHQUFDLENBQUMsRUFBRUEsQ0FBQyxHQUFDZ1csU0FBUyxDQUFDdFgsTUFBTSxFQUFFc0IsQ0FBQyxFQUFFLEVBQUU7TUFDbkMsTUFBTXVCLElBQUksR0FBR3dVLE9BQU8sQ0FBQ3BDLFdBQVcsQ0FBQzNULENBQUMsRUFBRXVILFlBQVksQ0FBQzs7TUFFakQ7TUFDQSxJQUFJaEcsSUFBSSxLQUFLOE0sUUFBUSxDQUFDQyxJQUFJLEVBQUU7UUFDeEI7TUFDSjs7TUFFQSxNQUFNL1EsR0FBRyxHQUFHeVksU0FBUyxDQUFDaFcsQ0FBQyxDQUFDO01BQ3hCLE1BQU1rVyxHQUFHLEdBQUdELFNBQVMsQ0FBQ2pXLENBQUMsQ0FBQzs7TUFFeEJrVyxHQUFHLENBQUM5RyxPQUFPLEdBQUc3UixHQUFHLENBQUM2UixPQUFPOztNQUV6QixRQUFPN04sSUFBSTtRQUNQLEtBQUs4TSxRQUFRLENBQUNFLE1BQU0sQ0FBRTtZQUNsQjtZQUNBMkgsR0FBRyxDQUFDblAsSUFBSSxHQUFHeEosR0FBRyxDQUFDd0osSUFBSTtZQUNuQm1QLEdBQUcsQ0FBQ2xQLElBQUksR0FBR3pKLEdBQUcsQ0FBQ3lKLElBQUk7WUFDbkJrUCxHQUFHLENBQUNqUCxJQUFJLEdBQUcxSixHQUFHLENBQUMwSixJQUFJO1lBQ25CaVAsR0FBRyxDQUFDaFAsSUFBSSxHQUFHM0osR0FBRyxDQUFDMkosSUFBSTtZQUNuQjtVQUNKO1FBQ0EsS0FBS21ILFFBQVEsQ0FBQ0csT0FBTyxDQUFFO1lBQ25CO1lBQ0EwSCxHQUFHLENBQUM5TyxnQkFBZ0IsR0FBRzdKLEdBQUcsQ0FBQzZKLGdCQUFnQixJQUFJN0osR0FBRyxDQUFDNkosZ0JBQWdCLENBQUMzSCxLQUFLLENBQUMsQ0FBQztZQUMzRTtVQUNKO01BQ0o7SUFDSjs7SUFFQSxJQUFJLENBQUM0QixRQUFRLENBQUMsQ0FBQztJQUNmLE9BQU8sSUFBSTtFQUNmOztFQUVBaUYsUUFBUUEsQ0FBQ0MsRUFBRSxFQUFFQyxFQUFFLEVBQUVuRCxTQUFTLEVBQUU7SUFDeEIsS0FBSyxDQUFDaUQsUUFBUSxDQUFDQyxFQUFFLEVBQUVDLEVBQUUsRUFBRW5ELFNBQVMsQ0FBQzs7SUFFakM7SUFDQSxNQUFNdkQsTUFBTSxHQUFHLElBQUksQ0FBQ2lELE1BQU0sQ0FBQ00sU0FBUyxDQUFDO0lBQ3JDLEtBQUssSUFBSXJELENBQUMsR0FBQyxDQUFDLEVBQUVBLENBQUMsR0FBQ0YsTUFBTSxDQUFDcEIsTUFBTSxFQUFFc0IsQ0FBQyxFQUFFLEVBQUU7TUFDaEMsSUFBSSxDQUFDLElBQUksQ0FBQzZHLFdBQVcsQ0FBQzdHLENBQUMsRUFBRXFELFNBQVMsQ0FBQyxFQUFFO1FBQ2pDO01BQ0o7O01BRUEsTUFBTTVGLENBQUMsR0FBR3FDLE1BQU0sQ0FBQ0UsQ0FBQyxDQUFDO01BQ25CdkMsQ0FBQyxDQUFDc0osSUFBSSxJQUFJUixFQUFFO01BQ1o5SSxDQUFDLENBQUN1SixJQUFJLElBQUlSLEVBQUU7TUFDWi9JLENBQUMsQ0FBQ3dKLElBQUksSUFBSVYsRUFBRTtNQUNaOUksQ0FBQyxDQUFDeUosSUFBSSxJQUFJVixFQUFFO0lBQ2hCOztJQUVBO0VBQ0o7O0VBRUErRyxPQUFPQSxDQUFDdEUsZ0JBQWdCLEVBQUU7SUFDdEIsSUFBSSxDQUFDLElBQUksQ0FBQ2pHLFFBQVEsRUFBRTtNQUNoQixPQUFPckUsU0FBUztJQUNwQjs7SUFFQTtJQUNBLE1BQU0wVyxJQUFJLEdBQUcsSUFBSSxDQUFDSCxNQUFNLENBQUN0WCxhQUFhLENBQUM7O0lBRXZDO0lBQ0E7SUFDQXlYLElBQUksQ0FBQ3BTLFVBQVUsR0FBRyxJQUFJLENBQUNzSSxhQUFhLENBQUMsQ0FBQzs7SUFFdEMsT0FBTzhKLElBQUksQ0FBQzlILE9BQU8sQ0FBQ3RFLGdCQUFnQixDQUFDO0VBQ3pDOztFQUVBRCxTQUFTQSxDQUFDQyxnQkFBZ0IsRUFBRTtJQUN4QixNQUFNb00sSUFBSSxHQUFHLElBQUksQ0FBQ0gsTUFBTSxDQUFDLENBQUM7SUFDMUIsT0FBT0csSUFBSSxDQUFDck0sU0FBUyxDQUFDQyxnQkFBZ0IsQ0FBQztFQUMzQzs7RUFFQTtFQUNBO0VBQ0FRLGNBQWNBLENBQUNtSyxZQUFZLEVBQUVsSyxDQUFDLEVBQStDLEtBQTdDckcsU0FBUyxHQUFBNUUsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsQ0FBQyxLQUFFdUYsTUFBTSxHQUFBdkYsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsSUFBSVQsS0FBSyxDQUFDbkIsT0FBTyxDQUFDLENBQUM7O0lBRXZFLE1BQU1pRCxNQUFNLEdBQUcsSUFBSSxDQUFDaUQsTUFBTSxDQUFDTSxTQUFTLENBQUM7SUFDckMsTUFBTTlCLElBQUksR0FBRyxJQUFJLENBQUNvUyxXQUFXLENBQUNDLFlBQVksRUFBRXZRLFNBQVMsQ0FBQztJQUN0RCxRQUFPOUIsSUFBSTtNQUNQLEtBQUs4TSxRQUFRLENBQUNDLElBQUksQ0FBRTtNQUNwQixLQUFLRCxRQUFRLENBQUNFLE1BQU0sQ0FBRTtVQUNsQjtVQUNBLE1BQU12SixDQUFDLEdBQUdsRixNQUFNLENBQUM4VCxZQUFZLENBQUM7VUFDOUIsTUFBTXZXLENBQUMsR0FBR3lDLE1BQU0sQ0FBQyxJQUFJLENBQUNpRixTQUFTLENBQUM2TyxZQUFZLENBQUMsQ0FBQzs7VUFFOUMsT0FBTzVXLFFBQVEsQ0FBQytNLFVBQVUsQ0FBQ0MsUUFBUSxDQUFDbU0sa0JBQWtCLENBQUN6TSxDQUFDLEVBQUUxRSxDQUFDLENBQUN0SCxDQUFDLEVBQUVzSCxDQUFDLENBQUNySCxDQUFDLEVBQUVxSCxDQUFDLENBQUMrQixJQUFJLEVBQUUvQixDQUFDLENBQUNnQyxJQUFJLEVBQUVoQyxDQUFDLENBQUNpQyxJQUFJLEVBQUVqQyxDQUFDLENBQUNrQyxJQUFJLEVBQUU3SixDQUFDLENBQUNLLENBQUMsRUFBRUwsQ0FBQyxDQUFDTSxDQUFDLEVBQUVxRyxNQUFNLENBQUM7UUFDekg7TUFDQSxLQUFLcUssUUFBUSxDQUFDRyxPQUFPLENBQUU7VUFDbkIsTUFBTWMsR0FBRyxHQUFHLElBQUksQ0FBQ0MsZ0JBQWdCLENBQUNxRSxZQUFZLEVBQUV2USxTQUFTLEVBQUVxTCxTQUFTLENBQUMsQ0FBQyxDQUFDOztVQUV2RTtVQUNBLElBQUksQ0FBQ1ksR0FBRyxDQUFDRSxPQUFPLENBQUMsQ0FBQyxFQUFFO1lBQ2hCO1VBQ0o7VUFDQSxPQUFPRixHQUFHLENBQUN4TCxRQUFRLENBQUM0RixDQUFDLEVBQUUxRixNQUFNLENBQUM7UUFDbEM7TUFDQSxRQUFTb1MsR0FBRyxDQUFDQyxNQUFNLENBQUNqVixLQUFLLENBQUMsc0JBQXNCLENBQUM7SUFDckQ7O0lBRUEsT0FBTyxLQUFLLENBQUNxSSxjQUFjLENBQUNtSyxZQUFZLEVBQUVsSyxDQUFDLEVBQUVyRyxTQUFTLEVBQUVXLE1BQU0sQ0FBQztFQUNuRTs7RUFFQTtFQUNBO0VBQ0FzUyxlQUFlQSxDQUFDdEosR0FBRyxFQUFFO0lBQ2pCMkQsT0FBTyxDQUFDM0QsR0FBRyxFQUFFLElBQUksQ0FBQztFQUN0Qjs7RUFFQTtFQUNBdUosT0FBT0EsQ0FBQSxFQUFHO0lBQ04sTUFBTXZLLE1BQU0sR0FBR0EsQ0FBQ2QsV0FBVyxFQUFFN0gsU0FBUyxLQUFLLElBQUksQ0FBQ2dSLEtBQUssQ0FBQ25KLFdBQVcsRUFBRTdILFNBQVMsQ0FBQztJQUM3RSxPQUFPaUssT0FBTyxDQUFDLElBQUksQ0FBQ3ZDLFVBQVUsQ0FBQ2lCLE1BQU0sQ0FBQyxDQUFDO0VBQzNDO0FBQ0o7O0FBRUE7QUFDTyxNQUFNd0ssV0FBVyxTQUFTOVMsSUFBSSxDQUFDO0VBQ2xDbkYsV0FBV0EsQ0FBQ3VCLE1BQU0sRUFBRU0sS0FBSyxFQUFFO0lBQ3ZCLEtBQUssQ0FBQ04sTUFBTSxFQUFFLElBQUksRUFBRU0sS0FBSyxDQUFDO0VBQzlCO0FBQ0osQ0FBQzs7QUFFTSxNQUFNcVcsWUFBWSxTQUFTL1MsSUFBSSxDQUFDO0VBQ25DbkYsV0FBV0EsQ0FBQ3VCLE1BQU0sRUFBRU0sS0FBSyxFQUFFO0lBQ3ZCLEtBQUssQ0FBQ04sTUFBTSxFQUFFLEtBQUssRUFBRU0sS0FBSyxDQUFDO0VBQy9CO0FBQ0osQ0FBQzs7QUFFTSxNQUFNc1csTUFBTSxTQUFTeFcsS0FBSyxDQUFDOztFQUU5QjtFQUNBM0IsV0FBV0EsQ0FBQSxFQUE4RixLQUE3Rm9ZLE9BQU8sR0FBQWxZLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLEdBQUcsS0FBRW1ZLE9BQU8sR0FBQW5ZLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLEdBQUcsS0FBRW9ZLE1BQU0sR0FBQXBZLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLEdBQUcsS0FBRTJCLEtBQUssR0FBQTNCLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHbUIsWUFBWSxDQUFDSCxLQUFLLENBQUMsQ0FBQyxLQUFFcVgsWUFBWSxHQUFBclksU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsRUFBRTtJQUNuRyxLQUFLLENBQUMyQixLQUFLLENBQUM7O0lBRVosSUFBSSxDQUFDMlcsT0FBTyxHQUFHLElBQUloSyxPQUFPLENBQUMsRUFBRSxFQUFFM00sS0FBSyxDQUFDOztJQUVyQztJQUNBO0lBQ0EsSUFBSSxDQUFDMlcsT0FBTyxDQUFDMVcsRUFBRSxHQUFHLElBQUksQ0FBQ0EsRUFBRTs7SUFFekIsSUFBSSxDQUFDc1csT0FBTyxHQUFHQSxPQUFPO0lBQ3RCLElBQUksQ0FBQ0MsT0FBTyxHQUFHQSxPQUFPO0lBQ3RCLElBQUksQ0FBQ0MsTUFBTSxHQUFHQSxNQUFNO0lBQ3BCLElBQUksQ0FBQ0MsWUFBWSxHQUFHQSxZQUFZOztJQUVoQyxJQUFJLENBQUNFLFdBQVcsR0FBRyxJQUFJO0VBQzNCOztFQUVBblcsSUFBSUEsQ0FBQ21NLEdBQUcsRUFBRUMsYUFBYSxFQUFFOztJQUVyQixJQUFJLENBQUM4SixPQUFPLENBQUNqWCxNQUFNLENBQUNwQixNQUFNLEdBQUcsQ0FBQzs7SUFFOUI7SUFDQSxNQUFNdVksUUFBUSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUNILFlBQVk7SUFDeEMsS0FBSyxJQUFJNUUsS0FBSyxHQUFHLENBQUMsRUFBRUEsS0FBSyxHQUFHLEdBQUcsRUFBRUEsS0FBSyxJQUFJK0UsUUFBUSxFQUFFOztNQUVoRCxJQUFJalMsQ0FBQyxHQUFHa04sS0FBSyxHQUFHdEUsSUFBSSxDQUFDc0osRUFBRSxHQUFHLEdBQUc7TUFDN0IsSUFBSXhaLENBQUMsR0FBRyxJQUFJLENBQUNtWixNQUFNLEdBQUdqSixJQUFJLENBQUN1SixHQUFHLENBQUNuUyxDQUFDLENBQUM7TUFDakMsSUFBSXJILENBQUMsR0FBRyxJQUFJLENBQUNrWixNQUFNLEdBQUdqSixJQUFJLENBQUN3SixHQUFHLENBQUNwUyxDQUFDLENBQUM7O01BRWpDLElBQUksQ0FBQytSLE9BQU8sQ0FBQ3pULFFBQVEsQ0FBQyxJQUFJLENBQUNxVCxPQUFPLEdBQUdqWixDQUFDLEVBQUUsSUFBSSxDQUFDa1osT0FBTyxHQUFHalosQ0FBQyxDQUFDO0lBQzdEOztJQUVBLElBQUksQ0FBQ3FaLFdBQVcsR0FBRyxLQUFLOztJQUV4QixJQUFJLENBQUNELE9BQU8sQ0FBQ2xXLElBQUksQ0FBQ21NLEdBQUcsRUFBRUMsYUFBYSxDQUFDO0VBQ3pDOztFQUVBb0ssU0FBU0EsQ0FBQzNaLENBQUMsRUFBRUMsQ0FBQyxFQUFFO0lBQ1osSUFBSSxDQUFDZ1osT0FBTyxHQUFHalosQ0FBQztJQUNoQixJQUFJLENBQUNrWixPQUFPLEdBQUdqWixDQUFDO0lBQ2hCLElBQUksQ0FBQzBELFFBQVEsQ0FBQyxDQUFDO0VBQ25COztFQUVBTixJQUFJQSxDQUFDd0YsRUFBRSxFQUFFQyxFQUFFLEVBQUU7SUFDVCxJQUFJLENBQUNtUSxPQUFPLElBQUlwUSxFQUFFO0lBQ2xCLElBQUksQ0FBQ3FRLE9BQU8sSUFBSXBRLEVBQUU7SUFDbEIsSUFBSSxDQUFDbkYsUUFBUSxDQUFDLENBQUM7SUFDZixPQUFPLElBQUk7RUFDZjs7RUFFQVAsT0FBT0EsQ0FBQ3BELENBQUMsRUFBRUMsQ0FBQyxFQUFFO0lBQ1YsTUFBTTRJLEVBQUUsR0FBRzdJLENBQUMsR0FBRyxJQUFJLENBQUNpWixPQUFPO0lBQzNCLE1BQU1uUSxFQUFFLEdBQUc3SSxDQUFDLEdBQUcsSUFBSSxDQUFDaVosT0FBTztJQUMzQixPQUFRclEsRUFBRSxHQUFHQSxFQUFFLEdBQUdDLEVBQUUsR0FBR0EsRUFBRSxHQUFJLElBQUksQ0FBQ3FRLE1BQU0sR0FBRyxJQUFJLENBQUNBLE1BQU07RUFDMUQ7O0VBRUFwWCxLQUFLQSxDQUFBLEVBQUc7SUFDSixPQUFPLElBQUlpWCxNQUFNLENBQUMsQ0FBQyxDQUFDaFgsSUFBSSxDQUFDLElBQUksQ0FBQztFQUNsQzs7RUFFQUEsSUFBSUEsQ0FBQ0MsSUFBSSxFQUFFO0lBQ1AsS0FBSyxDQUFDRCxJQUFJLENBQUNDLElBQUksQ0FBQztJQUNoQixJQUFJLENBQUNvWCxPQUFPLEdBQUdwWCxJQUFJLENBQUNvWCxPQUFPLENBQUN0WCxLQUFLLENBQUMsQ0FBQztJQUNuQyxJQUFJLENBQUNrWCxPQUFPLEdBQUdoWCxJQUFJLENBQUNnWCxPQUFPO0lBQzNCLElBQUksQ0FBQ0MsT0FBTyxHQUFHalgsSUFBSSxDQUFDaVgsT0FBTztJQUMzQixJQUFJLENBQUNDLE1BQU0sR0FBR2xYLElBQUksQ0FBQ2tYLE1BQU07SUFDekIsSUFBSSxDQUFDQyxZQUFZLEdBQUduWCxJQUFJLENBQUNtWCxZQUFZO0lBQ3JDLElBQUksQ0FBQ3pWLFFBQVEsQ0FBQyxDQUFDO0lBQ2YsT0FBTyxJQUFJO0VBQ2Y7O0VBRUFILFdBQVdBLENBQUEsRUFBRztJQUNWLElBQUksQ0FBQ1osSUFBSSxDQUFDaUosR0FBRyxDQUFDM0MsR0FBRyxDQUFDLElBQUksQ0FBQytQLE9BQU8sR0FBRyxJQUFJLENBQUNFLE1BQU0sRUFBRSxJQUFJLENBQUNELE9BQU8sR0FBRyxJQUFJLENBQUNDLE1BQU0sQ0FBQztJQUN6RSxJQUFJLENBQUN2VyxJQUFJLENBQUNrSixHQUFHLENBQUM1QyxHQUFHLENBQUMsSUFBSSxDQUFDK1AsT0FBTyxHQUFHLElBQUksQ0FBQ0UsTUFBTSxFQUFFLElBQUksQ0FBQ0QsT0FBTyxHQUFHLElBQUksQ0FBQ0MsTUFBTSxDQUFDO0VBQzdFO0FBQ0o7O0FBRU8sTUFBTVMsWUFBWSxTQUFTcFgsS0FBSyxDQUFDOztFQUVwQztFQUNBM0IsV0FBV0EsQ0FBQ2daLEtBQUssRUFBRTtJQUNmLEtBQUssQ0FBQyxDQUFDO0lBQ1AsSUFBSSxDQUFDQSxLQUFLLEdBQUdBLEtBQUs7O0lBRWxCQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFO01BQ2hDQyxHQUFHLEVBQUVBLENBQUEsS0FBVSxJQUFJLENBQUNILEtBQUssQ0FBQ2pYLElBQUk7TUFDOUJzRyxHQUFHLEVBQUVBLENBQUN0RyxJQUFJLEtBQUssQ0FBRSxJQUFJLENBQUNpWCxLQUFLLENBQUNqWCxJQUFJLEdBQUdBLElBQUksQ0FBRTtJQUM3QyxDQUFDLENBQUM7O0lBRUZrWCxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFO01BQzlCQyxHQUFHLEVBQUVBLENBQUEsS0FBVSxJQUFJLENBQUNILEtBQUssQ0FBQ2xYLEVBQUU7TUFDNUJ1RyxHQUFHLEVBQUVBLENBQUN2RyxFQUFFLEtBQUssQ0FBRSxJQUFJLENBQUNrWCxLQUFLLENBQUNsWCxFQUFFLEdBQUdBLEVBQUUsQ0FBRTtJQUN2QyxDQUFDLENBQUM7O0lBRUZtWCxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsV0FBVyxFQUFFO01BQ3JDQyxHQUFHLEVBQUVBLENBQUEsS0FBVSxJQUFJLENBQUNILEtBQUssQ0FBQ2hYLFNBQVM7TUFDbkNxRyxHQUFHLEVBQUVBLENBQUMrUSxLQUFLLEtBQUssQ0FBRSxJQUFJLENBQUNKLEtBQUssQ0FBQ2hYLFNBQVMsR0FBR29YLEtBQUssQ0FBRTtJQUNwRCxDQUFDLENBQUM7O0lBRUZILE1BQU0sQ0FBQ0MsY0FBYyxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUU7TUFDaENDLEdBQUcsRUFBRUEsQ0FBQSxLQUFVLElBQUksQ0FBQ0gsS0FBSyxDQUFDNVcsSUFBSTtNQUM5QmlHLEdBQUcsRUFBRUEsQ0FBQ2pHLElBQUksS0FBSyxDQUFFLElBQUksQ0FBQzRXLEtBQUssQ0FBQzVXLElBQUksR0FBR0EsSUFBSSxDQUFFO0lBQzdDLENBQUMsQ0FBQztFQUNOOztFQUVBRSxJQUFJQSxDQUFBLEVBQWlCLENBQUUsT0FBTyxJQUFJLENBQUMwVyxLQUFLLENBQUMxVyxJQUFJLENBQUMsR0FBQXBDLFNBQU8sQ0FBQyxDQUFTO0VBQy9EcUMsT0FBT0EsQ0FBQSxFQUFjLENBQUUsT0FBTyxJQUFJLENBQUN5VyxLQUFLLENBQUN6VyxPQUFPLENBQUMsR0FBQXJDLFNBQU8sQ0FBQyxDQUFNO0VBQy9Ec0MsSUFBSUEsQ0FBQSxFQUFpQixDQUFFLE9BQU8sSUFBSSxDQUFDd1csS0FBSyxDQUFDeFcsSUFBSSxDQUFDLEdBQUF0QyxTQUFPLENBQUMsQ0FBUztFQUMvRDRDLFFBQVFBLENBQUEsRUFBYSxDQUFFLE9BQU8sSUFBSSxDQUFDa1csS0FBSyxDQUFDbFcsUUFBUSxDQUFDLEdBQUE1QyxTQUFPLENBQUMsQ0FBSztFQUMvRHlDLFdBQVdBLENBQUEsRUFBVSxDQUFFLE9BQU8sSUFBSSxDQUFDcVcsS0FBSyxDQUFDclcsV0FBVyxDQUFDLEdBQUF6QyxTQUFPLENBQUMsQ0FBRTtFQUMvRGlELFVBQVVBLENBQUEsRUFBVyxDQUFFLE9BQU8sSUFBSSxDQUFDNlYsS0FBSyxDQUFDN1YsVUFBVSxDQUFDLEdBQUFqRCxTQUFPLENBQUMsQ0FBRzs7RUFFL0RnQixLQUFLQSxDQUFBLEVBQUc7SUFDSixPQUFPLElBQUk2WCxZQUFZLENBQUMsSUFBSSxDQUFDQyxLQUFLLENBQUM5WCxLQUFLLENBQUMsQ0FBQyxDQUFDO0VBQy9DOztFQUVBQyxJQUFJQSxDQUFDQyxJQUFJLEVBQUU7SUFDUCxJQUFJLENBQUM0WCxLQUFLLENBQUM3WCxJQUFJLENBQUNDLElBQUksQ0FBQzRYLEtBQUssQ0FBQztFQUMvQjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvRWRpdDJEL0VkaXRTaGFwZXMuanM/ZGQ3NSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IE1hdGgyRCB9IGZyb20gJy4vTWF0aDJELmpzJztcbmltcG9ydCB7IFN2ZyB9IGZyb20gJy4vU3ZnLmpzJztcbmltcG9ydCB7IGNvbXB1dGVMb29wQ29udGFpbm1lbnQgfSBmcm9tICcuL0xvb3BDb250YWlubWVudC5qcyc7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uL01TREYvVmVjdG9yMlwiO1xuXG5sZXQgbmV4dFNoYXBlSWQgPSAxO1xuXG5jb25zdCBhdiA9IEF1dG9kZXNrLlZpZXdpbmc7XG5cbmNvbnN0IHRvQ29sb3IgPSAociwgZywgYikgPT4ge1xuICAgIHJldHVybiBcInJnYihcIiArIHIgKyBcIixcIiArIGcgKyBcIixcIiArIGIgKyBcIilcIjtcbn07XG5cbmNvbnN0IGNsb25lVmVjdG9yQXJyYXkgPSAoc3JjKSA9PiB7XG4gICAgcmV0dXJuIHNyYy5tYXAocCA9PiB7IHJldHVybiB7IHg6IHAueCwgeTogcC55IH07fSk7XG59O1xuXG4vLyBEZWZhdWx0IGFyYyB0ZXNzZWxsYXRpb24gcGFyYW1zIHRoYXQgd2UgdXNlIGZvciBhcmVhIGNvbXB1dGF0aW9ucy4gKHNlZSBCZXppZXIuanMpXG4vLyBXZSB1c2Ugc21hbGxlciBtaW4gc2VnbWVudCBsZW5ndGggdGhhbiBmb3IgZHJhd2luZywgYmVjYXVzZSB0aGUgRGVmYXVsdFRlc3NQYXJhbXMgd291bGQgY2F1c2UgdG9vIGluYWNjdXJhdGUgbWVhc3VyZW1lbnRzLlxuLy8gVE9ETzogUmVwbGFjZSBieSBtb3JlIGFjY3VyYXRlIGFuZCBmYXN0ZXIgYW5hbHl0aWMgY29tcHV0YXRpb24gdG8gcmVwbGFjZSBicnV0ZS1mb3JjZSB0ZXNzZWxhdGlvbiBjb21wbGV0ZWx5LlxuY29uc3QgQXJlYVRlc3NQYXJhbSA9IHtcbiAgICBudW1JdGVyYXRpb25zOiAxMDAsXG4gICAgbWluU2VnTGVuRnJhY3Rpb246IDAuMDFcbn07XG5cbmNvbnN0IHRtcFZlYzMgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuY29uc3QgdG1wVmVjM18yID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbmNvbnN0IHRtcEJveDIgPSBuZXcgVEhSRUUuQm94MigpO1xuY29uc3QgdG1wVmVjMiA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cbmV4cG9ydCBjbGFzcyBTdHlsZSB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFN0eWxlIGZvciB0aGUgRWRpdCAyRCB0b29scy5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gIFtwYXJhbXNdICAgICAgICAgICAgIC0gdmFyaW91cyBzdHlsZSB2YWx1ZXMgdG8gb3ZlcndyaXRlIHRoZSBkZWZhdWx0IHN0eWxlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSAgW3BhcmFtcy5jb2xvcl0gICAgICAgLSBzZXRzIHRoZSBjb2xvciBmb3IgdGhlIGxpbmUgYW5kIGZpbGwgYXJlYVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSAgW3BhcmFtcy5hbHBoYV0gICAgICAgLSBzZXRzIHRoZSBhbHBoYSB2YWx1ZSBmb3IgdGhlIGxpbmUgYW5kIGZpbGwgYXJlYVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSAgW3BhcmFtcy5saW5lQ29sb3JdICAgLSBzZXRzIHRoZSBjb2xvciBmb3IgdGhlIGxpbmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gIFtwYXJhbXMubGluZUFscGhhXSAgIC0gc2V0cyB0aGUgYWxwaGEgdmFsdWUgZm9yIHRoZSBsaW5lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9ICBbcGFyYW1zLmxpbmVXaWR0aF0gICAtIHNldHMgdGhlIGxpbmUgd2lkdGggZm9yIHRoZSBsaW5lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3BhcmFtcy5pc01pdGVyTGluZV0gLSBpZiB0cnVlLCBjcmVhdGVzIG1pdGVyIGpvaW50cyBpbnN0ZWFkIG9mIHJvdW5kZWQgY2Fwcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gIFtwYXJhbXMubGluZVN0eWxlXSAgIC0gc2V0cyB0aGUgc3R5bGUgb2YgdGhlIGxpbmVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gIFtwYXJhbXMuZmlsbENvbG9yXSAgIC0gc2V0cyB0aGUgY29sb3IgZm9yIHRoZSBmaWxsIGFyZWFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gIFtwYXJhbXMuZmlsbEFscGhhXSAgIC0gc2V0cyB0aGUgYWxwaGEgdmFsdWUgZm9yIHRoZSBmaWxsIGFyZWFcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMgPSB7fSkge1xuICAgICAgICB0aGlzLmxpbmVDb2xvciA9IHBhcmFtcy5saW5lQ29sb3IgfHwgcGFyYW1zLmNvbG9yIHx8IFwicmdiKDAsMCwxMjgpXCI7XG4gICAgICAgIHRoaXMubGluZUFscGhhID0gcGFyYW1zLmxpbmVBbHBoYSAhPT0gdW5kZWZpbmVkID8gcGFyYW1zLmxpbmVBbHBoYSA6IHBhcmFtcy5hbHBoYSAhPT0gdW5kZWZpbmVkID8gcGFyYW1zLmFscGhhIDogMS4wO1xuICAgICAgICB0aGlzLmxpbmVXaWR0aCA9IHBhcmFtcy5saW5lV2lkdGggIT09IHVuZGVmaW5lZCA/IHBhcmFtcy5saW5lV2lkdGggOiAzLjA7XG4gICAgICAgIHRoaXMuaXNNaXRlckxpbmUgPSBwYXJhbXMuaXNNaXRlckxpbmUgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmxpbmVXaWR0aCA+IDAgJiYgcGFyYW1zLmlzTWl0ZXJMaW5lO1xuXG4gICAgICAgIHRoaXMuZmlsbENvbG9yID0gcGFyYW1zLmZpbGxDb2xvciB8fCBwYXJhbXMuY29sb3IgfHwgXCJyZ2IoMCwwLDEyOClcIjtcbiAgICAgICAgdGhpcy5maWxsQWxwaGEgPSBwYXJhbXMuZmlsbEFscGhhICE9PSB1bmRlZmluZWQgPyBwYXJhbXMuZmlsbEFscGhhIDogcGFyYW1zLmFscGhhICE9PSB1bmRlZmluZWQgPyBwYXJhbXMuYWxwaGEgOiAwLjI7XG5cbiAgICAgICAgLy8gbGluZVN0eWxlIGlzIGFuIGluZGV4IGludG8gYSBsaXN0IG9mIGRhc2gvZG90IHBhdHRlcm5zIGRlZmluZWQgaW4gU2VlIExpbmVTdHlsZURlZi5qcy5cbiAgICAgICAgLy8gRXhhbXBsZXM6XG4gICAgICAgIC8vICAgMDogIFNvbGlkIGxpbmU6ICAgIF9fX19fX19fX19fX19fXG4gICAgICAgIC8vICAgMTA6IERhc2hlcyBsb25nOiAgIF9fIF9fIF9fIF9fIF9fXG4gICAgICAgIC8vICAgMTE6IERhc2hlcyBzaG9ydDogIF8gXyBfIF8gXyBfIF9cbiAgICAgICAgLy8gICAxMjogRGFzaGVzIGxvbmdlcjogX19fIF9fXyBfX18gX19fXG4gICAgICAgIC8vICAgMTY6IERvdHM6ICAgICAgICAgIC4gLiAuIC4gLiAuIC5cbiAgICAgICAgLy8gICAxNzogRG90cyBkZW5zZTogICAgLi4uLi4uLi4uLi4uLi5cbiAgICAgICAgLy8gICAxODogRG90cyBzcGFyc2U6ICAgLiAgLiAgLiAgLiAgLlxuICAgICAgICB0aGlzLmxpbmVTdHlsZSA9IHBhcmFtcy5saW5lU3R5bGUgfHwgMDtcblxuICAgICAgICAvLyBCeSBkZWZhdWx0LCB3ZSBpbnRlcnByZXQgbGluZSB3aWR0aHMgaW4gc2NyZWVuLXNwYWNlXG4gICAgICAgIHRoaXMuaXNTY3JlZW5TcGFjZSA9IHBhcmFtcy5pc1NjcmVlblNwYWNlICE9PSB1bmRlZmluZWQgPyBwYXJhbXMuaXNTY3JlZW5TcGFjZSA6IHRydWU7XG4gICAgICAgIHRoaXMuY29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJztcbiAgICB9XG5cbiAgICAvLyBDb21wb25lbnRzIHIsYixnIGFyZSBpbiBbMCwyNTVdXG4gICAgc2V0RmlsbENvbG9yKHIsIGcsIGIpIHtcbiAgICAgICAgdGhpcy5maWxsQ29sb3IgPSB0b0NvbG9yKHIsIGcsIGIpO1xuICAgIH1cblxuICAgIHNldExpbmVDb2xvcihyLCBnLCBiKSB7XG4gICAgICAgIHRoaXMubGluZUNvbG9yID0gdG9Db2xvcihyLCBnLCBiKTtcbiAgICB9XG5cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdHlsZSgpLmNvcHkodGhpcyk7XG4gICAgfVxuXG4gICAgY29weShmcm9tKSB7XG4gICAgICAgIHRoaXMubGluZUNvbG9yID0gZnJvbS5saW5lQ29sb3I7XG4gICAgICAgIHRoaXMubGluZUFscGhhID0gZnJvbS5saW5lQWxwaGE7XG4gICAgICAgIHRoaXMubGluZVdpZHRoID0gZnJvbS5saW5lV2lkdGg7XG4gICAgICAgIHRoaXMuaXNNaXRlckxpbmUgPSBmcm9tLmlzTWl0ZXJMaW5lO1xuICAgICAgICB0aGlzLmZpbGxDb2xvciA9IGZyb20uZmlsbENvbG9yO1xuICAgICAgICB0aGlzLmZpbGxBbHBoYSA9IGZyb20uZmlsbEFscGhhO1xuICAgICAgICB0aGlzLmxpbmVTdHlsZSA9IGZyb20ubGluZVN0eWxlO1xuICAgICAgICB0aGlzLmlzU2NyZWVuU3BhY2UgPSBmcm9tLmlzU2NyZWVuU3BhY2U7XG4gICAgICAgIHRoaXMuY29tcG9zaXRlT3BlcmF0aW9uID0gZnJvbS5jb21wb3NpdGVPcGVyYXRpb247XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cblxuU3R5bGUudG9Db2xvciA9IHRvQ29sb3I7XG5cbmNvbnN0IERlZmF1bHRTdHlsZSA9IG5ldyBTdHlsZSgpO1xuXG4vLyBBZGQgYWxsIHBvaW50cyB0byBnaXZlbiBiYm94LlxuY29uc3QgYWRkUG9pbnRzVG9CQm94ID0gKHBvaW50cywgZHN0Qm94KSA9PiB7XG4gICAgZm9yIChsZXQgaT0wOyBpPHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBkc3RCb3guZXhwYW5kQnlQb2ludChwb2ludHNbaV0pO1xuICAgIH1cbn07XG5cbmV4cG9ydCBjbGFzcyBTaGFwZSBleHRlbmRzIGF2LkV2ZW50RGlzcGF0Y2hlciB7XG4gICAgY29uc3RydWN0b3Ioc3R5bGUgPSBEZWZhdWx0U3R5bGUuY2xvbmUoKSkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcblxuICAgICAgICAvLyBhc3NpZ24gdW5pcXVlIGlkXG4gICAgICAgIHRoaXMuaWQgPSBuZXh0U2hhcGVJZCsrO1xuXG4gICAgICAgIHRoaXMuYmJveCA9IG5ldyBUSFJFRS5Cb3gyKCk7XG4gICAgICAgIHRoaXMuYmJveERpcnR5ID0gdHJ1ZTtcblxuICAgICAgICAvLyBJZiBmYWxzZSwgaXQgaXMgc2tpcHBlZCBieSBFZGl0TGF5ZXIgdHJhdmVyc2Fsc1xuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xuXG4gICAgICAgIC8vIHdoZXRoZXIgdXNlcnMgY2FuIG1vdmUgdGhpcyBzaGFwZSBieSBjbGlja2luZyBhbmQgZHJhZ2dpbmcuXG4gICAgICAgIHRoaXMubW92YWJsZSA9IHRydWU7XG5cbiAgICAgICAgLy8gd2hldGhlciB1c2VycyBjYW4gc2VsZWN0IHRoaXMgc2hhcGUuIElmIGZhbHNlLCBjbGlja3Mgb24gdGhpcyBzaGFwZSB3aWxsIG5vdCBzZWxlY3QgaXQsIGFuZCBieSBjb25zZXF1ZW5jZSBpdFxuICAgICAgICAvLyB3b24ndCBiZSBlZGl0YWJsZSBlaXRoZXIuXG4gICAgICAgIHRoaXMuc2VsZWN0YWJsZSA9IHRydWU7XG5cbiAgICAgICAgLy8gU2hvdWxkIGJlIHNldCBieSBjcmVhdG9yIGJ5IHNvbWV0aGluZyBtb3JlIGRlc2NyaXB0aXZlLlxuICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLmlkLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgLy8gTXVzdCBiZSBwcm92aWRlZCBieSBkZXJpdmF0aWVzXG4gICAgZHJhdygvKmN0eCwgb3ZlcnJpZGVTdHlsZSovKSB7fVxuICAgIGhpdFRlc3QoLyp4LCB5LCBoaXRSYWRpdXMqLykge30gLy8gaGl0UmFkaXVzIGlzIGEgZGlzdGFuY2UgaW4gbGF5ZXItY29vcmRzIHVzZWQgZm9yIGxpbmUgZmVhdHVyZSBoaXQtdGVzdHMuXG5cbiAgICBtb3ZlKC8qZHgsIGR5Ki8pIHsgcmV0dXJuIHRoaXM7IH1cblxuICAgIC8vIEFwcGx5IGEgdHJhbnNmb3JtIHRvIGVhY2ggcG9pbnQuIChhc3N1bWluZyB6PTApXG4gICAgLy8gQHBhcmFtIHtNYXRyaXg0fVxuICAgIGFwcGx5TWF0cml4NChtYXRyaXgpIHsgcmV0dXJuIHRoaXM7IH1cblxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IFNoYXBlKCkuY29weSh0aGlzKTtcbiAgICB9XG5cbiAgICBjb3B5KGZyb20pIHtcbiAgICAgICAgdGhpcy5zdHlsZSA9IGZyb20uc3R5bGUuY2xvbmUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY29tcHV0ZUJCb3goKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJNdXN0IGJlIGltcGxlbWVudGVkIGJ5IGRlcml2ZWQgY2xhc3MuXCIpO1xuICAgIH1cblxuICAgIG1vZGlmaWVkKCkge1xuICAgICAgICB0aGlzLmJib3hEaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuZmlyZUV2ZW50KHsgdHlwZTogU2hhcGUuRXZlbnRzLk1PRElGSUVEIH0pO1xuICAgIH1cblxuICAgIHVwZGF0ZUJCb3goKSB7XG4gICAgICAgIGlmICh0aGlzLmJib3hEaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5jb21wdXRlQkJveCgpO1xuICAgICAgICAgICAgdGhpcy5iYm94RGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJldHVybiBiYm94IHdoaWxlIG1ha2luZyBzdXJlIHRoYXQgaXQncyB1cC10by1kYXRlLlxuICAgIGdldEJCb3goKSB7XG4gICAgICAgIHRoaXMudXBkYXRlQkJveCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5iYm94O1xuICAgIH1cblxuICAgIC8vIEBwYXJhbSB7c3RyaW5nfSAgc3ZnIC0gZS5nLiAnPHBhdGggZD1cIk0gMTMsNCBMIDE0LDRcIi8+J1xuICAgIHN0YXRpYyBmcm9tU1ZHKHN2Zykge1xuICAgICAgICByZXR1cm4gU3ZnLmZyb21Tdmcoc3ZnKTtcbiAgICB9XG5cbiAgICAvLyBDb252ZXJ0IHRvIFNWRyBzdHlsZSBzdHJpbmcsIGUuZy4sICc8cGF0aCBkPVwiTSAxMyw0IEwgMTQsNFwiLz4nXG4gICAgLy8gU2VlIFN2Zy50b1N2ZygpIGNvbW1lbnQgZm9yIG9wdGlvbnMuXG4gICAgLy9cbiAgICAvLyBOb3RlOiBUaGUgZGlnaXRzIHBhcmFtIGlzIGRlcHJlY2F0ZWQgYW5kIG9ubHkgZXhpc3RzIGZvciBsZWdhY3kgcmVhc29ucy5cbiAgICAvLyAgICAgICBTZXQgZGlnaXRzIHZpYSBvcHRpb25zLmRpZ2l0cyBpbnN0ZWFkLlxuICAgIHRvU1ZHKG9wdGlvbnMsIGRpZ2l0cykge1xuICAgICAgICByZXR1cm4gU3ZnLnRvU3ZnKHRoaXMsIG9wdGlvbnMsIGRpZ2l0cyk7XG4gICAgfVxuXG4gICAgLy8gQ29udmVydHMgc2hhcGUgaW50byBhIERPTSBlbGVtZW50ICh1c3VhbGx5IGEgPHBhdGg+KS5cbiAgICAvLyAgQHBhcmFtIHtPYmplY3R9XG4gICAgLy8gIEBwYXJhbSB7Ym9vbH0gICBbb3B0aW9ucy5leHBvcnRTdHlsZT10cnVlXVxuICAgIGNyZWF0ZVN2Z1NoYXBlKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIFN2Zy50b1N2Z0VsZW1lbnQodGhpcywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgc2V0VmlzaWJsZSh2aXNpYmxlKSB7XG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHZpc2libGU7XG4gICAgfVxufVxuXG5TaGFwZS5FdmVudHMgPSB7XG4gICAgTU9ESUZJRUQ6ICdtb2RpZmllZCcsXG59O1xuXG5hdi5HbG9iYWxNYW5hZ2VyTWl4aW4uY2FsbChTaGFwZS5wcm90b3R5cGUpO1xuXG5leHBvcnQgY29uc3QgTG9vcFR5cGUgPSB7XG4gICAgRW1wdHk6ICAgICAgIDAsIC8vIExvb3AgaXMgZW1wdHkgb3IgZG9lcyBub3QgZXhpc3RcbiAgICBJbm5lcjogICAgICAgMSxcbiAgICBPdXRlcjogICAgICAgMixcbiAgICBPdmVybGFwcGluZzogMyAgLy8gTG9vcCBpcyBpbnRlcnNlY3RpbmcgaXRzZWxmIG9yIG90aGVyIGxvb3BzXG59O1xuXG4vLyBDb21tb24gYmFzZSBjbGFzcyBmb3IgUG9seWdvbnMgYW5kIFBvbHlsaW5lc1xuZXhwb3J0IGNsYXNzIFBvbHlCYXNlIGV4dGVuZHMgU2hhcGUge1xuXG4gICAgY29uc3RydWN0b3IocG9pbnRzID0gbnVsbCwgc3R5bGUgPSBEZWZhdWx0U3R5bGUuY2xvbmUoKSkge1xuICAgICAgICBzdXBlcihzdHlsZSk7XG5cbiAgICAgICAgLy8gQXJyYXkgb2YgQXJyYXkgb2YgcG9pbnRzLCBlYWNoIHJlcHJlc2VudGVkIGFzIGFuIG9iamVjdCB7eCwgeX1cbiAgICAgICAgLy8gQnkgZGVmYXVsdCwgd2Ugc3RhcnQgd2l0aCBhIHNpbmdsZSBsb29wL2NoYWluXG4gICAgICAgIHRoaXMuX2xvb3BzID0gcG9pbnRzID8gW3BvaW50c10gOiBbXTtcblxuICAgICAgICAvLyBTZXQgYnkgZGVyaXZlZCBjbGFzc2VzXG4gICAgICAgIHRoaXMuaXNDbG9zZWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gQ29tcHV0ZWQgb24tZGVtYW5kOiBQcm92aWRlcyBleHRyYSBpbmZvcm1hdGlvbiBhYm91dCBob3cgbG9vcHMgYXJlIG5lc3RlZC5cbiAgICAgICAgdGhpcy5fbG9vcEluZm9zID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBGb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgIGdldCBwb2ludHMoKSB7XG4gICAgICAgIC8vIENyZWF0ZSBlbXB0eSBsb29wIDAgaWYgbmVlZGVkXG4gICAgICAgIHJldHVybiB0aGlzLl9sb29wc1swXSB8fCAodGhpcy5fbG9vcHNbMF0gPSBbXSk7XG4gICAgfVxuXG4gICAgZ2V0IGxvb3BDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvb3BzLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvLyBhY3F1aXJlIGEgbnVtYmVyIG9mIGFkZGl0aW9uYWwgcG9pbnRzIGluIHRoZSBnaXZlbiBsb29wLiBFYWNoIGhhcyBpbml0aWFsIGNvb3JkcyAoMCwwKVxuICAgIGFsbG9jUG9pbnRzKG51bVBvaW50cywgbG9vcEluZGV4ID0gMCkge1xuICAgICAgICBmb3IgKGxldCBpPTA7IGk8bnVtUG9pbnRzOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkUG9pbnQoMCwwLGxvb3BJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgaXNQb2x5Z29uKCkgIHsgcmV0dXJuIHRoaXMuaXNDbG9zZWQ7IH1cbiAgICBpc1BvbHlsaW5lKCkgeyByZXR1cm4gIXRoaXMuaXNDbG9zZWQ7IH1cblxuICAgIGlzUGF0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBQYXRoO1xuICAgIH1cblxuICAgIGFkZFBvaW50KHgseSwgbG9vcEluZGV4ID0gMCkge1xuICAgICAgICAvLyBnZXQgb3IgY3JlYXRlIGxvb3BcbiAgICAgICAgY29uc3QgbG9vcCA9IHRoaXMuX2xvb3BzW2xvb3BJbmRleF0gfHwgKHRoaXMuX2xvb3BzW2xvb3BJbmRleF0gPSBbXSk7XG5cbiAgICAgICAgLy8gYWRkIHBvaW50IHRvIGxvb3BcbiAgICAgICAgY29uc3QgcG9pbnQgPSB7eCwgeX07XG4gICAgICAgIGxvb3AucHVzaChwb2ludCk7XG4gICAgICAgIHRoaXMubW9kaWZpZWQoKTtcbiAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgIH1cblxuICAgIGdldFBvaW50KGluZGV4LCBsb29wSW5kZXggPSAwLCB0YXJnZXQgPSBuZXcgVEhSRUUuVmVjdG9yMigpKSB7XG5cbiAgICAgICAgLy8gTGVnYWN5IGZhbGxiYWNrIChkZXByZWNhdGVkKTogVGhpcyBjYW4gYmUgcmVtb3ZlZCBhcyBzb29uIGFzIG5vIGNvZGVcbiAgICAgICAgLy8gaXMgcGFzc2luZyBhIHRhcmdldCB2ZWN0b3Igd2l0aG91dCBhIGxvb3AgaW5kZXhcbiAgICAgICAgaWYgKHR5cGVvZiBsb29wSW5kZXggPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB0YXJnZXQgPSBsb29wSW5kZXg7XG4gICAgICAgICAgICBsb29wSW5kZXggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldC5jb3B5KHRoaXMuX2xvb3BzW2xvb3BJbmRleF1baW5kZXhdKTtcbiAgICB9XG5cbiAgICByZW1vdmVQb2ludChpbmRleCwgbG9vcEluZGV4ID0gMCkge1xuICAgICAgICB0aGlzLl9sb29wc1tsb29wSW5kZXhdLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuXG4gICAgdXBkYXRlUG9pbnQoaW5kZXgsIHgsIHksIGxvb3BJbmRleCA9IDApIHtcbiAgICAgICAgbGV0IHAgPSB0aGlzLl9sb29wc1tsb29wSW5kZXhdW2luZGV4XTtcbiAgICAgICAgcC54ID0geDtcbiAgICAgICAgcC55ID0geTtcbiAgICAgICAgdGhpcy5tb2RpZmllZCgpO1xuICAgIH1cblxuICAgIGluc2VydFBvaW50KGluZGV4LCBwLCBsb29wSW5kZXggPSAwKSB7XG4gICAgICAgIHRoaXMuX2xvb3BzW2xvb3BJbmRleF0uc3BsaWNlKGluZGV4LCAwLCBwKTtcbiAgICB9XG5cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ3BvbHkubGVuZ3RoIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZC4gUGxlYXNlIHVzZSBwb2x5LnZlcnRleENvdW50IHByb3BlcnR5IGluc3RlYWQuJyk7XG4gICAgICAgIHJldHVybiB0aGlzLnBvaW50cy5sZW5ndGg7XG4gICAgfVxuXG4gICAgLy8gZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gICAgZ2V0IHZlcnRleENvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb2ludHMubGVuZ3RoO1xuICAgIH1cblxuICAgIC8vIFJldHVybnMgMCBpZiBhIGxvb3AgaXMgZW1wdHkgb3IgZG9lcyBub3QgZXhpc3QuXG4gICAgZ2V0VmVydGV4Q291bnQobG9vcEluZGV4ID0gMCkge1xuICAgICAgICAvLyBBcnJheSBtYXkgbm90IGV4aXN0IHlldCBpZiBubyB2ZXJ0aWNlcyB3ZXJlIGFkZGVkIHRvIHRoZSBsb29wIHlldC5cbiAgICAgICAgY29uc3QgbG9vcCA9IHRoaXMuX2xvb3BzW2xvb3BJbmRleF07XG4gICAgICAgIHJldHVybiBsb29wID8gbG9vcC5sZW5ndGggOiAwO1xuICAgIH1cblxuICAgIC8vIFJlc2V0IGJhY2sgdG8gYSBzaW5nbGUgZW1wdHkgbG9vcFxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9sb29wcyA9IFtdO1xuICAgICAgICB0aGlzLm1vZGlmaWVkKCk7XG4gICAgfVxuXG4gICAgLy8gRW51bWVyYXRlIGFsbCBlZGdlcyAoYSxiKS5cbiAgICAvLyAgQHBhcmFtIHtmdW5jdGlvbihhLCBiLCBhaSwgYmkpfSBjYiAtIEZvciBlYWNoIGVkZ2UsIHdlIHRyaWdnZXIgY2IoYSwgYiwgYWksIGJpKSwgd2hlcmUgKGEsYikgYXJlIHRoZSBwb2ludHMgYW5kIChhaSwgYmkpIHRoZSBpbmRpY2VzIG9mIHRoZSBlZGdlLlxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgY2IoKSByZXR1cm5zIHRydWUsIHRoZSB0cmF2ZXJzYWwgc3RvcHMuXG4gICAgZW51bUVkZ2VzKGNiLCBsb29wSW5kZXggPSAwKSB7XG5cbiAgICAgICAgLy8gZ2V0IGVkZ2UgY291bnRcbiAgICAgICAgY29uc3QgZWRnZUNvdW50ID0gdGhpcy5nZXRFZGdlQ291bnQobG9vcEluZGV4KTtcblxuICAgICAgICAvLyBjaGVjayBmb3IgZWFjaCBlZGdlIHdoZXRoZXIgcCBpcyBjbG9zZSB0byBpdC5cbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPGVkZ2VDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBnZXQgaW5kaWNlc1xuICAgICAgICAgICAgY29uc3QgYWkgPSBpO1xuICAgICAgICAgICAgY29uc3QgYmkgPSB0aGlzLm5leHRJbmRleChpLCBsb29wSW5kZXgpO1xuXG4gICAgICAgICAgICAvLyBnZXQgcG9pbnRzXG4gICAgICAgICAgICBjb25zdCBhID0gdGhpcy5nZXRQb2ludChhaSwgbG9vcEluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IGIgPSB0aGlzLmdldFBvaW50KGJpLCBsb29wSW5kZXgpO1xuXG4gICAgICAgICAgICAvLyBwYXNzIGFsbCB0byBjYlxuICAgICAgICAgICAgY29uc3Qgc3RvcCA9IGNiKGEsIGIsIGFpLCBiaSk7XG5cbiAgICAgICAgICAgIC8vIGFsbG93IGVhcmx5IG91dFxuICAgICAgICAgICAgaWYgKHN0b3ApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWFsLWNhc2Ugc3R1ZmYgZm9yIG1pdGVyTGluZSBoaXQtdGVzdGluZ1xuICAgICAqIEBwYXJhbSB7VmVjdG9yMn0gcCAgICAgICAgIC0gUG9pbnQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7VmVjdG9yMn0gYSAgICAgICAgIC0gRmlyc3QgZWRnZSBwb2ludFxuICAgICAqIEBwYXJhbSB7VmVjdG9yMn0gYiAgICAgICAgIC0gU2Vjb25kIGVkZ2UgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gIGFpICAgICAgICAtIEluZGV4IG9mIHRoZSBmaXJzdCBlZGdlIHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9ICBiaSAgICAgICAgLSBJbmRleCBvZiB0aGUgc2Vjb25kIGVkZ2UgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gIGxvb3BJbmRleCAtIFdoaWNoIGxvb3AgY29udGFpbnMgdGhlIGVkZ2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gIHByZWNpc2lvbiAtIFRvbGVyYW5jZSBmb3IgaGl0LXRlc3RpbmdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gIGxpbmVXaWR0aCAtIFdpZHRoIG9mIHRoZSBsaW5lXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gV2hldGhlciB0aGUgcG9pbnQgaGl0cyB0aGUgbGluZVxuICAgICAqL1xuICAgICNpc1BvaW50T25NaXRlckVkZ2UocCwgYSwgYiwgYWksIGJpLCBsb29wSW5kZXgsIHByZWNpc2lvbiwgbGluZVdpZHRoKSB7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgcCBpcyBvbiB0aGUgXCJpbm5lciBwYXJ0XCIgb2YgdGhlIGVkZ2UgKGEsYiksIG5vdCBjb25zaWRlcmluZyBhbnkgYWRqYWNlbnQganVuY3Rpb25zLlxuICAgICAgICBpZiAoTWF0aDJELnBvaW50T25NaXRlckxpbmVTZWdtZW50KHAsIGEsIGIsIGxpbmVXaWR0aCwgcHJlY2lzaW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjaGVjayBpZiB0aGVyZSBhcmUgcG9pbnRzIGJlZm9yZS9hZnRlciB0aGUgZWRnZVxuICAgICAgICBjb25zdCBwcmV2SW5kZXggPSB0aGlzLnByZXZJbmRleChhaSwgbG9vcEluZGV4KTtcbiAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gdGhpcy5uZXh0SW5kZXgoYmksIGxvb3BJbmRleCk7XG4gICAgICAgIGNvbnN0IHByZXZFeGlzdCA9IChwcmV2SW5kZXggIT09IC0xKTtcbiAgICAgICAgY29uc3QgbmV4dEV4aXN0ID0gKG5leHRJbmRleCAhPT0gLTEpO1xuICAgICAgICBjb25zdCBwcmV2UG9pbnQgPSBwcmV2RXhpc3QgJiYgdGhpcy5nZXRQb2ludChwcmV2SW5kZXgpO1xuICAgICAgICBjb25zdCBuZXh0UG9pbnQgPSBuZXh0RXhpc3QgJiYgdGhpcy5nZXRQb2ludChuZXh0SW5kZXgpO1xuXG4gICAgICAgIGNvbnN0IG9uUHJldkp1bmN0aW9uID0gcHJldlBvaW50ICYmIE1hdGgyRC5wb2ludE9uTWl0ZXJMaW5lSnVuY3Rpb24ocCwgcHJldlBvaW50LCBhLCBiLCBsaW5lV2lkdGgsIHByZWNpc2lvbik7XG4gICAgICAgIGNvbnN0IG9uTmV4dEp1bmN0aW9uID0gbmV4dFBvaW50ICYmIE1hdGgyRC5wb2ludE9uTWl0ZXJMaW5lSnVuY3Rpb24ocCwgYSwgYiwgbmV4dFBvaW50LCBsaW5lV2lkdGgsIHByZWNpc2lvbik7XG4gICAgICAgIHJldHVybiBvblByZXZKdW5jdGlvbiB8fCBvbk5leHRKdW5jdGlvbjtcbiAgICB9XG5cbiAgICAvKiogR2l2ZW4gYSBwb2x5bGluZSBvciBwb2x5Z29uLCBpdCBjaGVja3MgaWYgdGhlIHBvc2l0aW9uIGlzIGNsb3NlIHRvIGFueSBlZGdlIG9mIHRoZSBzaGFwZS5cbiAgICAgKiBJZiBzbywgaXQgcmV0dXJucyB0aGUgaW5kZXggb2YgdGhhdCBlZGdlLCBvdGhlcndpc2UgLTEuXG4gICAgICogQWxsIHZhbHVlcyBhcmUgaW4gbGF5ZXIgY29vcmRzLlxuICAgICAqICBAcGFyYW0ge1ZlY3RvcjJ9IHAgICAgICAgICAtIHBvaW50IHRvIHRlc3RcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9ICBwcmVjaXNpb24gLSB0b2xlcmFuY2UgZm9yIGhpdC10ZXN0aW5nXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSAgbG9vcEluZGV4IC0gd2hpY2ggbG9vcCB0byB0ZXN0XG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSAgW21pdGVyTGluZVdpZHRoXSAtIG9wdGlvbmFsOiBhc3N1bWUgbWl0ZXJMaW5lIHdpZHRoIGZvciB0aGUgZWRnZXMuXG4gICAgICovXG4gICAgZmluZEVkZ2VJbmRleChwLCBwcmVjaXNpb24sIGxvb3BJbmRleCA9IDAsIG1pdGVyTGluZVdpZHRoID0gMCkge1xuXG4gICAgICAgIGxldCBlZGdlSW5kZXggPSAtMTtcblxuICAgICAgICBsZXQgb25FZGdlID0gKGEsIGIpID0+IE1hdGgyRC5pc1BvaW50T25FZGdlKHAsIGEsIGIsIHByZWNpc2lvbik7XG5cbiAgICAgICAgLy8gRm9yIG1pdGVyTGluZXMsIHdlIG5lZWQgYW4gZXh0ZW5kZWQgc3BlY2lhbC1oYW5kbGluZyBoaXRUZXN0IHRoYXQgd2UgZG9uJ3Qgd2FudCB0byB1c2UgYnkgZGVmYXVsdFxuICAgICAgICBjb25zdCBuZWVkc01pdGVyTGluZXMgPSAobWl0ZXJMaW5lV2lkdGggPiAwKTtcbiAgICAgICAgaWYgKG5lZWRzTWl0ZXJMaW5lcykge1xuICAgICAgICAgICAgb25FZGdlID0gKGEsIGIsIGFpLCBiaSkgPT4gdGhpcy4jaXNQb2ludE9uTWl0ZXJFZGdlKHAsIGEsIGIsIGFpLCBiaSwgbG9vcEluZGV4LCBwcmVjaXNpb24sIG1pdGVyTGluZVdpZHRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGxiYWNrIHRvIGZpbmQgZWRnZSBjb250YWluaW5nIHBcbiAgICAgICAgY29uc3QgZmluZEVkZ2VDYiA9IChhLCBiLCBhaSwgYmkpID0+IHtcblxuICAgICAgICAgICAgLy8gSWYgZWRnZSBjb250YWlucyBwLCBzdG9yZSBpdHMgZWRnZSBpbmRleFxuICAgICAgICAgICAgY29uc3QgY29udGFpbnNQID0gb25FZGdlKGEsIGIsIGFpLCBiaSk7XG4gICAgICAgICAgICBpZiAoY29udGFpbnNQKSB7XG4gICAgICAgICAgICAgICAgZWRnZUluZGV4ID0gYWk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFN0b3Agb24gc3VjY2Vzc1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5zUDtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmVudW1FZGdlcyhmaW5kRWRnZUNiLCBsb29wSW5kZXgpO1xuICAgICAgICByZXR1cm4gZWRnZUluZGV4O1xuICAgIH1cblxuICAgIG1vdmVMb29wKGR4LCBkeSwgbG9vcEluZGV4KSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMuX2xvb3BzW2xvb3BJbmRleF07XG4gICAgICAgIGZvciAobGV0IGk9MDsgaTxwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBvaW50c1tpXS54ICs9IGR4O1xuICAgICAgICAgICAgcG9pbnRzW2ldLnkgKz0gZHk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb2RpZmllZCgpO1xuICAgIH1cblxuICAgIG1vdmUoZHgsIGR5KSB7XG4gICAgICAgIGZvciAobGV0IGw9MDsgbDx0aGlzLmxvb3BDb3VudDsgbCsrKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVMb29wKGR4LCBkeSwgbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gTm90ZTogRWxsaXBzZSBhcmNzIG9ubHkgc3VwcG9ydCBzaW1wbGUgdHJhbnNmb3JtcyAodHJhbnNsYXRpb24sIHJvdGF0aW9uLCB1bmlmb3JtIHNjYWxpbmcpXG4gICAgLy8gQHBhcmFtIHtUSFJFRS5NYXRyaXg0fVxuICAgIGFwcGx5TWF0cml4NChtYXRyaXgpIHtcblxuICAgICAgICBmb3IgKGxldCBsPTA7IGw8dGhpcy5sb29wQ291bnQ7IGwrKykge1xuICAgICAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5fbG9vcHNbbF07XG5cbiAgICAgICAgICAgIGZvciAobGV0IGk9MDsgaTxwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gcG9pbnRzW2ldO1xuXG4gICAgICAgICAgICAgICAgLy8gc2V0IHRhcmdldCB0byAoeCx5KSAqIG1hdHJpeFxuICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybVBvaW50ID0gKHgsIHksIHRhcmdldCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBjb252ZXJ0IHRvIHZlYzMsIHRyYW5zZm9ybSwgYW5kIHdyaXRlIGJhY2sgdG8gdGFyZ2V0XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZlYzMgPSB0bXBWZWMzLnNldCh4LCB5LCAwKS5hcHBseU1hdHJpeDQobWF0cml4KTtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnggPSB2ZWMzLng7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC55ID0gdmVjMy55O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1Qb2ludChwLngsIHAueSwgcCk7XG5cbiAgICAgICAgICAgICAgICAvLyB0cmFuc2Zvcm0gQmV6aWVyIGNvbnRyb2wgcG9pbnRzXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNCZXppZXJBcmMoaSwgbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNwID0gdHJhbnNmb3JtUG9pbnQocC5jcDF4LCBwLmNwMXksIHRtcFZlYzMpO1xuICAgICAgICAgICAgICAgICAgICBwLmNwMXggPSBjcC54O1xuICAgICAgICAgICAgICAgICAgICBwLmNwMXkgPSBjcC55O1xuXG4gICAgICAgICAgICAgICAgICAgIGNwID0gdHJhbnNmb3JtUG9pbnQocC5jcDJ4LCBwLmNwMnksIHRtcFZlYzMpO1xuICAgICAgICAgICAgICAgICAgICBwLmNwMnggPSBjcC54O1xuICAgICAgICAgICAgICAgICAgICBwLmNwMnkgPSBjcC55O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFRyYW5zZm9ybSBlbGxpcHNlIGFyY3NcbiAgICAgICAgICAgICAgICAvLyBOb3RlOiBDdXJyZW50bHksIHRoaXMgb25seSB3b3JrcyBmb3Igc2ltcGxlIHRyYW5zZm9ybXMgKHRyYW5zbGF0ZSwgcm90YXRlLCB1bmlmb3JtIHNjYWxlKVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzRWxsaXBzZUFyYyhpLCBsKSkge1xuICAgICAgICAgICAgICAgICAgICBwLmVsbGlwc2VBcmNQYXJhbXMuYXBwbHlNYXRyaXg0KG1hdHJpeCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubW9kaWZpZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQ29weSBhIHNpbmdsZSBsb29wIGZyb20gc3JjIHBvbHkgYW5kIGFkZHMgaXQgdG8gdGhpcyBvbmVcbiAgICAvLyAgQHBhcmFtIHtQb2x5QmFzZX0gc3JjUG9seVxuICAgIC8vICBAcGFyYW0ge251bWJlcn0gICBzcmNMb29wSW5kZXggLSBtdXN0IGJlIGEgdmFsaWQgbG9vcEluZGV4IG9mIHNyY1xuICAgIC8vICBAcGFyYW0ge251bWJlcn0gW2RzdExvb3BJbmRleF0gT3B0aW9uYWw6IGluZGV4IHdoZXJlIHRvIGluc2VydCB0aGUgbmV3IGxvb3AuIEJ5IGRlZmF1bHQsIHdlIHVzZSB0aGUgZmlyc3QgZnJlZSBsb29wSW5kZXguXG4gICAgYWRkTG9vcChzcmNQb2x5LCBzcmNMb29wSW5kZXggPSAwLCBkc3RMb29wSW5kZXggPSAtMSkge1xuICAgICAgICAvLyBjb3B5IGxvb3AgcG9pbnRzXG4gICAgICAgIGNvbnN0IHNyY0xvb3AgPSBzcmNQb2x5Ll9sb29wc1tzcmNMb29wSW5kZXhdO1xuICAgICAgICBjb25zdCBuZXdMb29wID0gY2xvbmVWZWN0b3JBcnJheShzcmNMb29wKTtcblxuICAgICAgICAvLyBpbnNlcnQgbmV3IGxvb3BcbiAgICAgICAgbGV0IG5ld0luZGV4O1xuICAgICAgICBpZiAoZHN0TG9vcEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgLy8gZmluZCBhIGZyZWUgbG9vcCBpbmRleCB0byBzdG9yZSB0aGUgbmV3IGxvb3BcbiAgICAgICAgICAgIG5ld0luZGV4ID0gdGhpcy5uZXh0RnJlZUxvb3AoKTtcbiAgICAgICAgICAgIHRoaXMuX2xvb3BzW25ld0luZGV4XSA9IG5ld0xvb3A7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBpbnNlcnQgbmV3IGxvb3AgYXQgZ2l2ZW4gaW5kZXhcbiAgICAgICAgICAgIG5ld0luZGV4ID0gZHN0TG9vcEluZGV4O1xuICAgICAgICAgICAgdGhpcy5fbG9vcHMuc3BsaWNlKG5ld0luZGV4LCAwLCBuZXdMb29wKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vZGlmaWVkKCk7XG5cbiAgICAgICAgcmV0dXJuIG5ld0luZGV4O1xuICAgIH1cblxuICAgIGNvcHlHZW9tZXRyeShzcmNQb2x5KSB7XG4gICAgICAgIHRoaXMuaXNDbG9zZWQgPSBzcmNQb2x5LmlzQ2xvc2VkO1xuXG4gICAgICAgIC8vIGNvcHkgbG9vcHNcbiAgICAgICAgdGhpcy5fbG9vcHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPHNyY1BvbHkubG9vcENvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYWRkTG9vcChzcmNQb2x5LCBpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBjb3B5KHNyY1BvbHkpIHtcbiAgICAgICAgc3VwZXIuY29weShzcmNQb2x5KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29weUdlb21ldHJ5KHNyY1BvbHkpO1xuICAgIH1cblxuICAgIGNvbXB1dGVCQm94KCkge1xuICAgICAgICB0aGlzLmJib3gubWFrZUVtcHR5KCk7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaTx0aGlzLmxvb3BDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBsb29wID0gdGhpcy5fbG9vcHNbaV07XG4gICAgICAgICAgICBpZiAobG9vcCkge1xuICAgICAgICAgICAgICAgIGFkZFBvaW50c1RvQkJveChsb29wLCB0aGlzLmJib3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmJib3g7XG4gICAgfVxuXG4gICAgaW5kZXhWYWxpZChpbmRleCwgbG9vcEluZGV4ID0gMCkge1xuICAgICAgICByZXR1cm4gaW5kZXg+PTAgJiYgaW5kZXggPCB0aGlzLmdldFZlcnRleENvdW50KGxvb3BJbmRleCk7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJucyAtMSBpZiB0aGVyZSBpcyBubyBuZXh0IEluZGV4XG4gICAgbmV4dEluZGV4KGluZGV4LCBsb29wSW5kZXggPSAwKSB7XG4gICAgICAgIC8vIFJldHVybiAtMSBmb3IgaW52YWxpZCBpbnB1dFxuICAgICAgICBpZiAoIXRoaXMuaW5kZXhWYWxpZChpbmRleCwgbG9vcEluZGV4KSkge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIGxhc3QgdmVydGV4XG4gICAgICAgIGNvbnN0IGlzTGFzdCA9IChpbmRleCA9PT0gdGhpcy5nZXRWZXJ0ZXhDb3VudChsb29wSW5kZXgpIC0gMSk7XG4gICAgICAgIGlmIChpc0xhc3QpIHtcbiAgICAgICAgICAgIC8vIElmIGNsb3NlZCwgcmVzdGFydC4gT3RoZXJ3aXNlLCB0aGVyZSBpcyBubyBuZXh0IGluZGV4LlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNDbG9zZWQgPyAwIDogLTE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5kZXggKyAxO1xuICAgIH1cblxuICAgIC8vIFJldHVybnMgLTEgaWYgdGhlcmUgaXMgbm8gcHJldmlvdXMgdmVydGV4IGluZGV4XG4gICAgcHJldkluZGV4KGluZGV4LCBsb29wSW5kZXggPSAwKSB7XG4gICAgICAgIC8vIFJldHVybiAtMSBmb3IgaW52YWxpZCBpbnB1dFxuICAgICAgICBpZiAoIXRoaXMuaW5kZXhWYWxpZChpbmRleCwgbG9vcEluZGV4KSkge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIGZpcnN0IHZlcnRleFxuICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIC8vIGlmIGNsb3NlZCwgY29udGludWUgYXQgZW5kLiBPdGhlcndpc2UsIHRoZXJlIGlzIG5vIHByZXZpb3VzIGluZGV4LlxuICAgICAgICAgICAgY29uc3QgdmVydGV4Q291bnQgPSB0aGlzLmdldFZlcnRleENvdW50KGxvb3BJbmRleCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc0Nsb3NlZCA/ICh2ZXJ0ZXhDb3VudCAtIDEpIDogLTE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5kZXggLSAxO1xuICAgIH1cblxuICAgIC8vIFJldHVybnMgaW5kZXggb2YgdGhlIGVkZ2UgZW5kaW5nIGF0IHRoZSBnaXZlbiB2ZXJ0ZXggb3IgLTEgaWYgaXQgZG9lcyBub3QgZXhpc3QuXG4gICAgZWRnZUJlZm9yZVZlcnRleChpbmRleCwgbG9vcEluZGV4ID0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmV2SW5kZXgoaW5kZXgsIGxvb3BJbmRleCk7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJucyBpbmRleCBvZiB0aGUgZWRnZSBzdGFydGluZyBhdCB0aGUgZ2l2ZW4gdmVydGV4LlxuICAgIC8vIFJldHVybnMgLTEgaWYgaW5kZXggaXMgdGhlIGVuZCB2ZXJ0ZXggb2YgYSBwb2x5bGluZS5cbiAgICBlZGdlQWZ0ZXJWZXJ0ZXgoaW5kZXgsIGxvb3BJbmRleCA9IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWRnZUluZGV4VmFsaWQoaW5kZXgsIGxvb3BJbmRleCkgPyBpbmRleCA6IC0xO1xuICAgIH1cblxuICAgIC8vIFJldHVybnMgLTEgaWYgdGhlcmUgaXMgbm8gcHJldmlvdXMgZWRnZS5cbiAgICBuZXh0RWRnZUluZGV4KGVkZ2VJbmRleCwgbG9vcEluZGV4ID0gMCkge1xuICAgICAgICAvLyBDaGVjayBlZGdlSW5kZXggdmFsaWRpdHlcbiAgICAgICAgaWYgKCF0aGlzLmVkZ2VJbmRleFZhbGlkKGVkZ2VJbmRleCwgbG9vcEluZGV4KSkge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmV0dXJuIC0xIGZvciBsYXN0IHBvbHlsaW5lIGVkZ2VcbiAgICAgICAgaWYgKCF0aGlzLmlzQ2xvc2VkICYmIGVkZ2VJbmRleCA9PT0gKHRoaXMuZ2V0RWRnZUNvdW50KGxvb3BJbmRleCkgLSAxKSkge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dEluZGV4KGVkZ2VJbmRleCwgbG9vcEluZGV4KTtcbiAgICB9XG5cbiAgICBwcmV2RWRnZUluZGV4KGVkZ2VJbmRleCwgbG9vcEluZGV4ID0gMCkge1xuICAgICAgICAvLyBDaGVjayBlZGdlaW5kZXggdmFsaWRpdHlcbiAgICAgICAgaWYgKCF0aGlzLmVkZ2VJbmRleFZhbGlkKGVkZ2VJbmRleCwgbG9vcEluZGV4KSkge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmV0dXJuIC0xIGZvciBmaXJzdCBwb2x5bGluZSBlZGdlXG4gICAgICAgIGlmICghdGhpcy5pc0Nsb3NlZCAmJiBlZGdlSW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnByZXZJbmRleChlZGdlSW5kZXgsIGxvb3BJbmRleCk7XG4gICAgfVxuXG4gICAgZWRnZUluZGV4VmFsaWQoZWRnZUluZGV4LCBsb29wSW5kZXggPSAwKSB7XG4gICAgICAgIGNvbnN0IGVkZ2VDb3VudCA9IHRoaXMuZ2V0RWRnZUNvdW50KGxvb3BJbmRleCk7XG4gICAgICAgIHJldHVybiBlZGdlSW5kZXggPj0gMCAmJiBlZGdlSW5kZXggPCBlZGdlQ291bnQ7XG4gICAgfVxuXG4gICAgcHJldkVkZ2VFeGlzdHMoZWRnZUluZGV4LCBsb29wSW5kZXggPSAwKSB7XG4gICAgICAgIGNvbnN0IHZlcnRleENvdW50ID0gdGhpcy5nZXRWZXJ0ZXhDb3VudChsb29wSW5kZXgpO1xuICAgICAgICByZXR1cm4gdGhpcy5lZGdlSW5kZXhWYWxpZChlZGdlSW5kZXgsIGxvb3BJbmRleCkgJiYgdmVydGV4Q291bnQgPiAyICYmIChlZGdlSW5kZXggPiAwIHx8IHRoaXMuaXNDbG9zZWQpO1xuICAgIH1cblxuICAgIG5leHRFZGdlRXhpc3RzKGVkZ2VJbmRleCwgbG9vcEluZGV4ID0gMCkge1xuICAgICAgICBjb25zdCB2ZXJ0ZXhDb3VudCA9IHRoaXMuZ2V0VmVydGV4Q291bnQobG9vcEluZGV4KTtcbiAgICAgICAgY29uc3QgaXNMYXN0RWRnZSA9IChlZGdlSW5kZXggPT09IHZlcnRleENvdW50IC0gMik7XG4gICAgICAgIHJldHVybiB0aGlzLmVkZ2VJbmRleFZhbGlkKGVkZ2VJbmRleCwgbG9vcEluZGV4KSAmJiB2ZXJ0ZXhDb3VudCA+IDIgJiYgKCFpc0xhc3RFZGdlIHx8IHRoaXMuaXNDbG9zZWQpO1xuICAgIH1cblxuICAgIC8vIENvcHkgc3RhcnQvZW5kIG9mIGFuIGVkZ2UgaW50byBvdXRBLCBvdXRCIG91dCBwYXJhbXMgKFZlY3RvcjIpLlxuICAgIC8vIGVkZ2VJbmRleCBtdXN0IGJlIHZhbGlkLlxuICAgIGdldEVkZ2UoZWRnZUluZGV4LCBvdXRBLCBvdXRCLCBsb29wSW5kZXggPSAwKSB7XG4gICAgICAgIGNvbnN0IGlhID0gZWRnZUluZGV4O1xuICAgICAgICBjb25zdCBpYiA9IHRoaXMubmV4dEluZGV4KGVkZ2VJbmRleCwgbG9vcEluZGV4KTtcbiAgICAgICAgdGhpcy5nZXRQb2ludChpYSwgbG9vcEluZGV4LCBvdXRBKTtcbiAgICAgICAgdGhpcy5nZXRQb2ludChpYiwgbG9vcEluZGV4LCBvdXRCKTtcbiAgICB9XG5cbiAgICBnZXRFZGdlRGlyZWN0aW9uKGVkZ2VJbmRleCwgbG9vcEluZGV4ID0gMCwgdGFyZ2V0ID0gbmV3IFRIUkVFLlZlY3RvcjIoKSkge1xuICAgICAgICBjb25zdCBpYSA9IGVkZ2VJbmRleDtcbiAgICAgICAgY29uc3QgaWIgPSB0aGlzLm5leHRJbmRleChlZGdlSW5kZXgsIGxvb3BJbmRleCk7XG4gICAgICAgIGNvbnN0IGxvb3AgPSB0aGlzLl9sb29wc1tsb29wSW5kZXhdO1xuICAgICAgICByZXR1cm4gTWF0aDJELmdldEVkZ2VEaXJlY3Rpb24obG9vcFtpYV0sIGxvb3BbaWJdLCB0YXJnZXQpO1xuICAgIH1cblxuICAgIGdldEVkZ2VMZW5ndGgoZWRnZUluZGV4LCBsb29wSW5kZXggPSAwKSB7XG4gICAgICAgIGNvbnN0IGlhID0gZWRnZUluZGV4O1xuICAgICAgICBjb25zdCBpYiA9IHRoaXMubmV4dEluZGV4KGVkZ2VJbmRleCwgbG9vcEluZGV4KTtcbiAgICAgICAgY29uc3QgbG9vcCA9IHRoaXMuX2xvb3BzW2xvb3BJbmRleF07XG4gICAgICAgIGNvbnN0IGEgID0gbG9vcFtpYV07XG4gICAgICAgIGNvbnN0IGIgID0gbG9vcFtpYl07XG4gICAgICAgIHJldHVybiBNYXRoMkQuZ2V0RWRnZUxlbmd0aChhLCBiKTtcbiAgICB9XG5cbiAgICBnZXRFZGdlQ291bnQobG9vcEluZGV4ID0gMCkge1xuICAgICAgICBjb25zdCB2ZXJ0ZXhDb3VudCA9IHRoaXMuZ2V0VmVydGV4Q291bnQobG9vcEluZGV4KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNDbG9zZWQgPyB2ZXJ0ZXhDb3VudCA6IHZlcnRleENvdW50LTE7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIHRoZSBzdW1tZWQgZWRnZSBsZW5ndGggZm9yIFBvbHlnb25zIGFuZCBQb2x5bGluZXMuXG4gICAgLy9cbiAgICAvLyAgQHBhcmFtIHtNZWFzdXJlVHJhbnNmb3JtfSBbbWVhc3VyZVRyYW5zZm9ybV0gLSBPcHRpb25hbDogVG8gYWxsb3cgZG9pbmcgY2FsY3VsYXRpb24gaW4gYW5vdGhlciBjb29yZGluYXRlIHNwYWNlXG4gICAgZ2V0TGVuZ3RoKG1lYXN1cmVUcmFuc2Zvcm0sIGxvb3BJbmRleCA9IDApIHtcbiAgICAgICAgY29uc3QgYSA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gICAgICAgIGNvbnN0IGIgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuICAgICAgICBsZXQgc3VtID0gMC4wO1xuICAgICAgICBmb3IgKGxldCBpPTA7IGk8dGhpcy5nZXRFZGdlQ291bnQobG9vcEluZGV4KTsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmdldEVkZ2UoaSwgYSwgYiwgbG9vcEluZGV4KTtcblxuICAgICAgICAgICAgLy8gYXBwbHkgb3B0aW9uYWwgbWVhc3VyZSB0cmFuc2Zvcm1cbiAgICAgICAgICAgIGlmIChtZWFzdXJlVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgbWVhc3VyZVRyYW5zZm9ybS5hcHBseShhKTtcbiAgICAgICAgICAgICAgICBtZWFzdXJlVHJhbnNmb3JtLmFwcGx5KGIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdW0gKz0gYS5kaXN0YW5jZVRvKGIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdW07XG4gICAgfVxuXG4gICAgLy8gU2V0IHZlcnRpY2VzIGZyb20gVEhSRUUuQm94MlxuICAgIGZyb21Cb3gyKGJveCkge1xuICAgICAgICB0aGlzLmFkZFBvaW50KGJveC5taW4ueCwgYm94Lm1pbi55KTtcbiAgICAgICAgdGhpcy5hZGRQb2ludChib3gubWF4LngsIGJveC5taW4ueSk7XG4gICAgICAgIHRoaXMuYWRkUG9pbnQoYm94Lm1heC54LCBib3gubWF4LnkpO1xuICAgICAgICB0aGlzLmFkZFBvaW50KGJveC5taW4ueCwgYm94Lm1heC55KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJucyBhIHBvaW50IGFsb25nIGFuIGVkZ2UuIE5vdGUgdGhhdCB0aGUgZWRnZSBtYXkgYmUgYW4gYXJjIGZvciBQYXRocy5cbiAgICAvLyAgQHBhcmFtIHtudW1iZXJ9IGVkZ2VJbmRleCAgIC0gQSB2YWxpZCBlZGdlSW5kZXhcbiAgICAvLyAgQHBhcmFtIHtudW1iZXJ9IHQgICAgICAgICAgIC0gaW4gWzAsMV0uIHQ9MDogc3RhcnRQb2ludCwgdD0xOiBlbmRQb2ludFxuICAgIC8vICBAcGFyYW0ge251bWJlcn0gW2xvb3BJbmRleF1cbiAgICAvLyAgQHBhcmFtIHtWZWN0b3IyfSBbdGFyZ2V0XVxuICAgIGdldFBvaW50T25FZGdlKGVkZ2VJbmRleCwgdCwgbG9vcEluZGV4ID0gMCwgdGFyZ2V0ID0gbmV3IFRIUkVFLlZlY3RvcjIoKSkge1xuXG4gICAgICAgIGNvbnN0IGxvb3AgPSB0aGlzLl9sb29wc1tsb29wSW5kZXhdO1xuICAgICAgICBjb25zdCBwMCA9IGxvb3BbZWRnZUluZGV4XTtcbiAgICAgICAgY29uc3QgcDEgPSBsb29wW3RoaXMubmV4dEluZGV4KGVkZ2VJbmRleCwgbG9vcEluZGV4KV07XG4gICAgICAgIHJldHVybiB0YXJnZXQubGVycFZlY3RvcnMocDAsIHAxLCB0KTtcbiAgICB9XG5cbiAgICAvLyBDaGVja3MgaWYgb3V0ZXIgbG9vcCBpcyBjb3VudGVyY2xvY2t3aXNlLiBGb3IgcG9seWxpbmVzIHRoYXQgZG9lc24ndCBmb3JtIGEgbG9vcCxcbiAgICAvLyB3ZSBhc3N1bWUgYW4gYWRkaXRpb25hbCBlZGdlIGZyb20gZW5kIHRvIHN0YXJ0LlxuICAgIC8vIEByZXR1cm5zIHtib29sfVxuICAgIGlzQ0NXKGxvb3BJbmRleCA9IDApIHtcbiAgICAgICAgcmV0dXJuIEF1dG9kZXNrLkV4dGVuc2lvbnMuQ29tcEdlb20ucG9seWdvbkFyZWEodGhpcy5fbG9vcHNbbG9vcEluZGV4XSkgPiAwO1xuICAgIH1cblxuICAgIC8vIFJldHVybiAyRCBlZGdlIG5vcm1hbFxuICAgIGdldExlZnRFZGdlTm9ybWFsKGVkZ2VJbmRleCwgbG9vcEluZGV4ID0gMCwgdGFyZ2V0ID0gbmV3IFRIUkVFLlZlY3RvcjIoKSkge1xuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLl9sb29wc1tsb29wSW5kZXhdO1xuXG4gICAgICAgIC8vIGdldCBzdGFydC9lbmQgcG9pbnQgb2YgdGhlIGVkZ2VcbiAgICAgICAgY29uc3QgdmkxID0gZWRnZUluZGV4O1xuICAgICAgICBjb25zdCB2aTIgPSAoZWRnZUluZGV4ICsgMSkgJSBwb2ludHMubGVuZ3RoO1xuICAgICAgICBjb25zdCB2MSA9IHBvaW50c1t2aTFdO1xuICAgICAgICBjb25zdCB2MiA9IHBvaW50c1t2aTJdO1xuXG4gICAgICAgIC8vIGdldCBlZGdlIGRpcmVjdGlvblxuICAgICAgICB0YXJnZXQuc3ViVmVjdG9ycyh2MiwgdjEpLm5vcm1hbGl6ZSgpO1xuXG4gICAgICAgIC8vIHJvdGF0ZSBieSA5MCBkZWdyZWVzXG4gICAgICAgIGNvbnN0IHRtcCA9IHRhcmdldC54O1xuICAgICAgICB0YXJnZXQueCA9IC10YXJnZXQueTtcbiAgICAgICAgdGFyZ2V0LnkgPSB0bXA7XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICAvLyBHZXQgZWRnZSBub3JtYWwgZmFjaW5nIG91dHNpZGUgd3J0LiB0byB0aGUgbG9vcCBjb250YWluaW5nIHRoZSBlZGdlLiBJZiB0aGUgY29udG91ciBpcyBub3QgY2xvc2VkLCB3ZVxuICAgIC8vIGFzc3VtZSBhbiBhZGRpdGlvbmFsIGNvbm5lY3Rpb24gYmV0d2VlbiBlbmRwb2ludCBhbmQgc3RhcnRwb2ludCB0byBkZWZpbmVkIFwib3V0c2lkZVwiLlxuICAgIGdldE91dGVyTm9ybWFsKGVkZ2VJbmRleCwgbG9vcEluZGV4ID0gMCwgdGFyZ2V0ID0gbmV3IFRIUkVFLlZlY3RvcjIoKSkge1xuICAgICAgICBjb25zdCBub3JtYWwgPSB0aGlzLmdldExlZnRFZGdlTm9ybWFsKGVkZ2VJbmRleCwgbG9vcEluZGV4LCB0YXJnZXQpO1xuICAgICAgICByZXR1cm4gdGhpcy5pc0NDVyhsb29wSW5kZXgpID8gbm9ybWFsLm11bHRpcGx5U2NhbGFyKC0xKSA6IG5vcm1hbDtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm5zIHRoZSBmaXJzdCBsb29wSW5kZXggPj0wIHRoYXQgZG9lc24ndCBjb250YWluIGFueSBwb2ludHMgeWV0LlxuICAgIC8vICBAcGFyYW0ge251bWJlcn1cbiAgICBuZXh0RnJlZUxvb3AoKSB7XG4gICAgICAgIGNvbnN0IGlzRnJlZSA9IGwgPT4gIWwgfHwgIWwubGVuZ3RoO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX2xvb3BzLmZpbmRJbmRleChpc0ZyZWUpO1xuICAgICAgICByZXR1cm4gaW5kZXggPj0gMCA/IGluZGV4IDogdGhpcy5sb29wQ291bnQ7XG4gICAgfVxuXG4gICAgLy8gU2VhY2hlcyBhbGwgbG9vcHMgdG8gZmluZCBhIHZlcnRleCBmb3Igd2hpY2ggY2IodmVydGV4SW5kZXgsIGxvb3BJbmRleCkgcmV0dXJucyB0cnVlLlxuICAgIC8vICBAe2Z1bmN0aW9uKHZlcnRleEluZGV4LCBsb29wSW5kZXgpPT5ib29sfSBzZWFyY2hGaWx0ZXJcbiAgICAvLyAgQHJldHVybnMge09iamVjdHxudWxsfSAgICAgICAgICAgICAgICAgICAgQSB7dmVydGV4SW5kZXgsIGxvb3BJbmRleH0gcGFpciBvbiBzdWNjZXNzLiBPdGhlcndpc2UgbnVsbC5cbiAgICBmaW5kVmVydGV4KHNlYXJjaEZpbHRlcikge1xuICAgICAgICBmb3IgKGxldCBsPTA7IGw8dGhpcy5sb29wQ291bnQ7IGwrKykge1xuICAgICAgICAgICAgY29uc3QgbGVuID0gdGhpcy5nZXRWZXJ0ZXhDb3VudChsKTtcbiAgICAgICAgICAgIGZvciAobGV0IGk9MDsgaTxsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChzZWFyY2hGaWx0ZXIoaSwgbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRleEluZGV4OiBpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9vcEluZGV4OiBsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIFJldHVybnMgdHJ1ZSBpZiBwb2x5IGRvZXMgbm90IGNvbnRhaW4gYW55IChub24tZW1wdHkgbG9vcHMpXG4gICAgZW1wdHkoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5fbG9vcHMuc29tZShsb29wID0+IGxvb3AgJiYgKGxvb3AubGVuZ3RoKSA+IDApO1xuICAgIH1cblxuICAgIG1vZGlmaWVkKCkge1xuICAgICAgICBzdXBlci5tb2RpZmllZCgpO1xuXG4gICAgICAgIC8vIExvb3AgY29udGFpbm1lbnQgbWF5IGhhdmUgY2hhbmdlZFxuICAgICAgICB0aGlzLl9sb29wSW5mb3MgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIFJldHVybnMgdHJ1ZSBpZiB0aGUgc2hhcGUgaGFzIG92ZXJsYXBwaW5nIGxvb3BzXG4gICAgaXNTZWxmSW50ZXJzZWN0aW5nKCkge1xuXG4gICAgICAgIC8vIFRvZG86IEN1cnJlbnRseSwgd2Ugb25seSBkZXRlY3Qgb3ZlcmxhcHMgYmV0d2VlbiBkaWZmZXJlbnQgbG9vcHMuIFdlIGFsc29cbiAgICAgICAgLy8gICAgICAgaGF2ZSB0byB0cmFjayBzZWxmLWludGVyc2VjdGlvbnMgd2l0aGluIGEgc2luZ2xlIGxvb3AuXG5cblxuICAgICAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIG11bHRpcGxlIG92ZXJsYXBwaW5nIGxvb3BzXG4gICAgICAgIGNvbnN0IGxvb3BJbmZvcyA9IHRoaXMuX2dldExvb3BJbmZvcygpO1xuICAgICAgICByZXR1cm4gbG9vcEluZm9zICYmIGxvb3BJbmZvcy5zb21lKGwgPT4gbC5lcnJvcik7XG4gICAgfVxuXG4gICAgX2dldExvb3BJbmZvcygpIHtcbiAgICAgICAgLy8gTG9vcCBpbmZvcyBhcmUgb25seSBuZWVkZWQgZm9yIGNsb3NlZCBwYXRocyB3aXRoIDIgb3IgbW9yZSBsb29wc1xuICAgICAgICBpZiAoIXRoaXMuaXNDbG9zZWQgfHwgdGhpcy5sb29wQ291bnQgPCAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmV1c2UgaWYgYWxyZWFkeSBhdmFpbGFibGVcbiAgICAgICAgaWYgKCF0aGlzLl9sb29wSW5mb3MpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvb3BJbmZvcyA9IGNvbXB1dGVMb29wQ29udGFpbm1lbnQodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvb3BJbmZvcztcbiAgICB9XG5cbiAgICAvLyBPbmx5IHdvcmtzIGZvciBjbG9zZWQgbG9vcHMuXG4gICAgZ2V0TG9vcFR5cGUobG9vcEluZGV4KSB7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzQ2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmdldFZlcnRleENvdW50KGxvb3BJbmRleCkpIHtcbiAgICAgICAgICAgIHJldHVybiBMb29wVHlwZS5FbXB0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExvb3BJbmZvIHNob3VsZCBhbHdheXMgZXhpc3QgZm9yIGNsb3NlZCBub24tZW1wdHkgbG9vcHNcbiAgICAgICAgY29uc3QgaW5mb3MgPSB0aGlzLl9nZXRMb29wSW5mb3MoKTtcbiAgICAgICAgY29uc3QgaW5mbyAgPSBpbmZvc1tsb29wSW5kZXhdO1xuXG4gICAgICAgIGlmIChpbmZvLmVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gTG9vcFR5cGUuT3ZlcmxhcHBpbmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFdmVuLW9kZC1ydWxlOiBMb29wcyB3aXRoIGV2ZW4gcmFuayBhcmUgb3V0ZXIgb25lcy5cbiAgICAgICAgcmV0dXJuIChpbmZvLnJhbmsgJiAxKSA/IExvb3BUeXBlLklubmVyIDogTG9vcFR5cGUuT3V0ZXI7XG4gICAgfVxuXG4gICAgLy8gR2V0IGFsbCBsb29wcyAoZGlyZWN0bHkgb3IgaW5kaXJlY3RseSkgZW5jbG9zZWQgYnkgdGhlIGdpdmVuIG9uZVxuICAgIGdldENoaWxkTG9vcHMobG9vcEluZGV4KSB7XG4gICAgICAgIGNvbnN0IGluZm9zID0gdGhpcy5fZ2V0TG9vcEluZm9zKCk7XG4gICAgICAgIGNvbnN0IGluZm8gID0gaW5mb3MgJiYgaW5mb3NbbG9vcEluZGV4XTtcbiAgICAgICAgcmV0dXJuIGluZm8gPyBpbmZvLmNvbnRhaW5lZExvb3BzLnNsaWNlKCkgOiBbXTtcbiAgICB9XG5cbiAgICAvLyBFbGltaW5pYXRlIGFsbCBlbXB0eSBsb29wcywgc28gdGhhdCBsb29wQ291bnQgbWF0Y2hlcyB0aGUgbnVtYmVyIG9mIG5vbi1lbXB0eSBsb29wc1xuICAgIGNsZWFudXBMb29wcygpIHtcbiAgICAgICAgdGhpcy5fbG9vcHMgPSB0aGlzLl9sb29wcy5maWx0ZXIobCA9PiBsICYmIGwubGVuZ3RoID49IDApO1xuICAgIH1cblxuICAgIC8vIFJldHVybnMgYWxsIGxvb3BzIHRoYXQgYXJlIG5vdCBlbmNsb3NlZCBieSBhbnkgb3RoZXIgb25lLiBPbmx5IGZvciBjbG9zZWQgc2hhcGVzLlxuICAgIGdldE1haW5Mb29wcygpIHtcbiAgICAgICAgY29uc3QgaW5mb3MgPSB0aGlzLl9nZXRMb29wSW5mb3MoKTtcbiAgICAgICAgaWYgKCFpbmZvcykge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29sbGVjdCBhbGwgcmFuay0wIGxvb3BzXG4gICAgICAgIGNvbnN0IGxvb3BzID0gW107XG4gICAgICAgIGZvciAobGV0IGk9MDsgaTxpbmZvcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaW5mbyA9IGluZm9zW2ldO1xuXG4gICAgICAgICAgICAvLyBTa2lwIGVtcHR5IG9yIGludmFsaWQgbG9vcHNcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSB0aGlzLmdldExvb3BUeXBlKGkpO1xuICAgICAgICAgICAgaWYgKHR5cGUgIT09IExvb3BUeXBlLk91dGVyKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpbmZvLnJhbmsgPT09IDApIHtcbiAgICAgICAgICAgICAgICBsb29wcy5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb29wcztcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgbG9vcC4gUmVtYWluaW5nIGxvb3AgaW5kaWNlcyBhcmUgc2hpZnRlZCBiYWNrIGJ5IG9uZVxuICAgIHJlbW92ZUxvb3AobG9vcEluZGV4KSB7XG4gICAgICAgIHRoaXMuX2xvb3BzLnNwbGljZShsb29wSW5kZXgsIDEpO1xuICAgICAgICB0aGlzLm1vZGlmaWVkKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSBtdWx0aXBsZSBsb29wIGluZGljZXNcbiAgICAvLyBAcGFyYW0ge251bWJlcltdfcKgXG4gICAgcmVtb3ZlTG9vcHMobG9vcHMpIHtcbiAgICAgICAgdGhpcy5fbG9vcHMgPSB0aGlzLl9sb29wcy5maWx0ZXIoKGwsIGkpID0+ICFsb29wcy5pbmNsdWRlcyhpKSk7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJucyB0cnVlIGlmIGEgcG9pbnQgY29udGFpbnMgdmFsaWQgKGkuZS4gZmluaXRlKSBudW1iZXJzLlxuICAgIGlzUG9pbnRGaW5pdGUodmVydGV4LCBsb29wSW5kZXggPSAwKSB7XG5cbiAgICAgICAgaWYgKCF0aGlzLmluZGV4VmFsaWQodmVydGV4LCBsb29wSW5kZXgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLl9sb29wc1tsb29wSW5kZXhdO1xuICAgICAgICBsZXQgcCA9IHBvaW50c1t2ZXJ0ZXhdO1xuICAgICAgICByZXR1cm4gaXNGaW5pdGUocC54KSAmJiBpc0Zpbml0ZShwLnkpO1xuICAgIH1cblxuICAgIGlzTG9vcEZpbml0ZShsb29wSW5kZXgpIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5fbG9vcHNbbG9vcEluZGV4XTtcbiAgICAgICAgY29uc3QgY291bnQgPSBwb2ludHMgPyBwb2ludHMubGVuZ3RoIDogMDtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1BvaW50RmluaXRlKGksIGxvb3BJbmRleCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuXG4vLyBIZWxwZXIgY2xhc3MgdG8gYWRkcmVzcyBhIHNpbmdsZSB2ZXJ0ZXggd2l0aGluIGEgbG9vcCBvZiBhIFBvbHlCYXNlLlxuLy8gQ2FuIGFsc28gYmUgdXNlZCB0byBhZGRyZXNzIGVkZ2VzIChieSBpbmRleGluZyBpdHMgc3RhcnQgdmVydGV4KS5cbmV4cG9ydCBjbGFzcyBQb2x5SW5kZXgge1xuICAgIGNvbnN0cnVjdG9yKHt2ZXJ0ZXggPSAwLCBsb29wID0gMH0pIHtcbiAgICAgICAgdGhpcy52ZXJ0ZXggPSB2ZXJ0ZXg7XG4gICAgICAgIHRoaXMubG9vcCA9IGxvb3A7XG4gICAgfVxuICAgIGVxdWFscyh2KSB7XG4gICAgICAgIHJldHVybiB2ICYmICh0aGlzLnZlcnRleCA9PT0gdi52ZXJ0ZXggJiYgdGhpcy5sb29wID09PSB2Lmxvb3ApO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBvbHlnb24gZXh0ZW5kcyBQb2x5QmFzZSB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb2ludHMgPSBbXSwgc3R5bGUgPSBEZWZhdWx0U3R5bGUuY2xvbmUoKSkge1xuICAgICAgICBzdXBlcihwb2ludHMsIHN0eWxlKTtcbiAgICAgICAgdGhpcy5pc0Nsb3NlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gRHJhdyBQb2x5Z29uIGludG8gTG12Q2FudmFzQ29udGV4dFxuICAgIGRyYXcoY3R4LCBvdmVycmlkZVN0eWxlKSB7XG4gICAgICAgIGRyYXdQYXRoKGN0eCwgdGhpcywgb3ZlcnJpZGVTdHlsZSk7XG4gICAgfVxuXG4gICAgLy8gV2UgdXNlIGV2ZW4tb2RkIHJ1bGUgaWYgYSBwb2x5Z29uIGhhcyBtdWx0aXBsZSBsb29wczogQSBwb2ludCBpcyBjb25zaWRlcmVkIGluc2lkZSBpZiBpdFxuICAgIC8vIGlzIGVuY2xvc2VkIGJ5IGFuIG9kZCBudW1iZXIgb2YgbG9vcHMuXG4gICAgaGl0VGVzdCh4LCB5KSB7XG4gICAgICAgIGlmICghdGhpcy52ZXJ0ZXhDb3VudCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29tcHV0ZSBudW1iZXIgb2YgbG9vcHMgdGhhdCBlbmNsb3NlICh4LHkpXG4gICAgICAgIGxldCByYW5rID0gMDtcbiAgICAgICAgZm9yIChsZXQgbD0wOyBsPHRoaXMubG9vcENvdW50OyBsKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGxvb3AgPSB0aGlzLl9sb29wc1tsXTtcbiAgICAgICAgICAgIGlmICghbG9vcCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzZXQgY3VycmVudCBsb29wIGFzIHBvaW50c1xuICAgICAgICAgICAgY29uc3QgY3AgPSBuZXcgQXV0b2Rlc2suRXh0ZW5zaW9ucy5Db21wR2VvbS5Db21wbGV4UG9seWdvbihsb29wKTtcblxuICAgICAgICAgICAgLy8gY3JlYXRlIGR1bW15IGNvbnRvdXJcbiAgICAgICAgICAgIC8vIFRPRE86IENvbnNpZGVyIGdlbmVyYWxpemluZyBwb2ludEluQ291bnRvdXIoKSB0byBtYWtlIGl0IHVzYWJsZSBmb3Igbm9uLWluZGV4ZWQgcG9seWdvbnNcbiAgICAgICAgICAgIHZhciBjb250b3VyID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBpPTA7IGk8bG9vcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnRvdXIucHVzaChpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNwLnBvaW50SW5Db250b3VyKHgsIHksIGNvbnRvdXIpKSB7XG4gICAgICAgICAgICAgICAgcmFuaysrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXBwbHkgZXZlbi1vZGQtcnVsZVxuICAgICAgICByZXR1cm4gQm9vbGVhbihyYW5rICYgMSk7XG4gICAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9seWdvbigpLmNvcHkodGhpcyk7XG4gICAgfVxuXG4gICAgLy8gIEBwYXJhbSB7TWVhc3VyZVRyYW5zZm9ybX0gW21lYXN1cmVUcmFuc2Zvcm1dIC0gT3B0aW9uYWw6IFRvIGFsbG93IGRvaW5nIGNhbGN1bGF0aW9uIGluIGFub3RoZXIgY29vcmRpbmF0ZSBzcGFjZVxuICAgIGdldEFyZWEobWVhc3VyZVRyYW5zZm9ybSkge1xuXG4gICAgICAgIGlmICghdGhpcy5pc0Nsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBsb29wcywgd2UgbmVlZCBsb29wSW5mb3MgdG8gZGlzdGluZ3Vpc2ggaW5uZXIgYW5kIG91dGVyIGxvb3BzXG4gICAgICAgIGNvbnN0IGxvb3BJbmZvcyA9IHRoaXMuX2dldExvb3BJbmZvcygpO1xuXG4gICAgICAgIGxldCBzdW1BcmVhID0gMDtcbiAgICAgICAgZm9yIChsZXQgbG9vcEluZGV4PTA7IGxvb3BJbmRleDx0aGlzLmxvb3BDb3VudDsgbG9vcEluZGV4KyspIHtcblxuICAgICAgICAgICAgLy8gU2tpcCBkZWdlbmVyYXRlIGxvb3BzXG4gICAgICAgICAgICBpZiAodGhpcy5wb2ludHMubGVuZ3RoIDwgMykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBkZXRlcm1pbmUgbG9vcCByYW5rIChudW1iZXIgb2Ygb3RoZXIgbG9vcHMgY29udGFpbmluZyBpdClcbiAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBsb29wSW5mb3MgYXJlIG51bGwgZm9yIHNpbmdsZSBsb29wcyB3aGVyZSB3ZSBkb24ndCBuZWVkIHRoZW0uXG4gICAgICAgICAgICBjb25zdCBsb29wSW5mbyA9IGxvb3BJbmZvcyA/IGxvb3BJbmZvc1tsb29wSW5kZXhdIDogbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IHJhbmsgICAgID0gbG9vcEluZm8gID8gbG9vcEluZm8ucmFuayA6IDA7XG5cbiAgICAgICAgICAgIC8vIEV2ZW4tb2RkIHJ1bGU6IExvb3BzIHdpdGggb2RkIHJhbmsgYXJlIGhvbGVzIGFuZCBjb250cmlidXRlIG5lZ2F0aXZlbHlcbiAgICAgICAgICAgIGNvbnN0IHNpZ24gPSAocmFuayAmIDEpID8gLTEgOiAxO1xuXG4gICAgICAgICAgICBsZXQgbG9vcEFyZWEgPSAwLjA7XG4gICAgICAgICAgICB0aGlzLmVudW1FZGdlcygoYSwgYikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGFwcGx5IG9wdGlvbmFsIHRyYW5zZm9ybVxuICAgICAgICAgICAgICAgIG1lYXN1cmVUcmFuc2Zvcm0gJiYgbWVhc3VyZVRyYW5zZm9ybS5hcHBseShhKTtcbiAgICAgICAgICAgICAgICBtZWFzdXJlVHJhbnNmb3JtICYmIG1lYXN1cmVUcmFuc2Zvcm0uYXBwbHkoYik7XG5cbiAgICAgICAgICAgICAgICAvLyBzdW0gdXAgc2lnbmVkIGFyZWFzXG4gICAgICAgICAgICAgICAgbG9vcEFyZWEgKz0gYS54ICogYi55IC0gYi54ICogYS55O1xuICAgICAgICAgICAgfSwgbG9vcEluZGV4KTtcbiAgICAgICAgICAgIHN1bUFyZWEgKz0gc2lnbiAqIE1hdGguYWJzKDAuNSAqIGxvb3BBcmVhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VtQXJlYTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQb2x5bGluZSBleHRlbmRzIFBvbHlCYXNlIHtcblxuICAgIGNvbnN0cnVjdG9yKHBvaW50cyA9IFtdLCBzdHlsZSA9IERlZmF1bHRTdHlsZS5jbG9uZSgpKSB7XG4gICAgICAgIHN1cGVyKHBvaW50cywgc3R5bGUpO1xuICAgICAgICB0aGlzLmlzQ2xvc2VkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgbWFrZUxpbmUoeDAgPSAwLCB5MCA9IDAsIHgxID0gMCwgeTEgPSAwKSB7XG4gICAgICAgIGlmICh0aGlzLnZlcnRleENvdW50ICE9PSAyKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLmFkZFBvaW50KHgwLCB5MCk7XG4gICAgICAgICAgICB0aGlzLmFkZFBvaW50KHgxLCB5MSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBvaW50KDAsIHgwLCB5MCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBvaW50KDEsIHgxLCB5MSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gRHJhdyBQb2x5bGluZSBpbnRvIExtdkNhbnZhc0NvbnRleHRcbiAgICBkcmF3KGN0eCwgb3ZlcnJpZGVTdHlsZSkge1xuICAgICAgICBkcmF3UGF0aChjdHgsIHRoaXMsIG92ZXJyaWRlU3R5bGUpO1xuICAgIH1cblxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IFBvbHlsaW5lKCkuY29weSh0aGlzKTtcbiAgICB9XG5cbiAgICAvLyBoaXRSYWRpdXMgaXMgaW4gbGF5ZXItY29vcmRzXG4gICAgaGl0VGVzdCh4LCB5LCBoaXRSYWRpdXMsIG1pdGVyTGluZVdpZHRoID0gMCkge1xuICAgICAgICBjb25zdCBlZGdlSW5kZXggPSB0aGlzLmZpbmRFZGdlSW5kZXgoe3gsIHl9LCBoaXRSYWRpdXMsIDAsIG1pdGVyTGluZVdpZHRoKTtcbiAgICAgICAgcmV0dXJuIChlZGdlSW5kZXggIT09IC0xKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBFZGdlVHlwZSA9IHtcbiAgICBMaW5lOiAgICAwLCAvLyBTaW1wbGUgbGluZSBzZWdtZW50XG4gICAgQmV6aWVyOiAgMSwgLy8gQ3ViaWMgQmV6aWVyIEFyY1xuICAgIEVsbGlwc2U6IDIsIC8vIEVsbGlwc2UgQXJjXG59O1xuXG5cbi8vIFRtcCBvYmpjdCBmb3IgRWxsaXBzZSBBcmNzLiBXZSBuZWVkIGRlbGF5ZWQgaW5pdGlhbGl6YXRpb24sXG4vLyBiZWNhdXNlIEF1dG9kZXNrLkV4dGVuc2lvbnMuQ29tcEdlb20gbWlnaHQgbm90IGJlIGF2YWlsYWJsZSB5ZXQgYXQgY29tcGlsZSB0aW1lLlxubGV0IF90bXBBcmMgPSBudWxsO1xubGV0IGdldFRtcEFyYyA9ICgpID0+IHtcbiAgICBfdG1wQXJjID0gX3RtcEFyYyB8fCBuZXcgQXV0b2Rlc2suRXh0ZW5zaW9ucy5Db21wR2VvbS5FbGxpcHNlQXJjKCk7XG4gICAgcmV0dXJuIF90bXBBcmM7XG59O1xuXG5sZXQgdG1wVmVjID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHJ1biBtb3ZlVG8vbGluZVRvL2FyY1RvL2Nsb3NlUGF0aCBjYWxscyBmb3IgYSBzaW5nbGUgbG9vcCBvZiBhIHBhdGggb24gYSBnaXZlbiBjb250ZXh0IG9iamVjdC5cbi8vICBAcGFyYW0ge1BhdGgyZHxMbXZDYW52YXNDb250ZXh0fE9iamVjdH0gY3R4ICAgICAgICAgIC0gUmVjZWl2ZXMgdGhlIGNhbGxiYWNrIGNhbGxzLCBpLmUuIG1vdmVUbywgbGluZVRvLCBiZXppZXJDdXJ2ZVRvLCBjbG9zZVBhdGggZXRjLiAoc2VlIFBhdGgyRClcbi8vICBAcGFyYW0ge1BvbHlsaW5lfFBvbHlnb258UGF0aH0gICAgICAgICAgcGF0aFxuLy8gIEBwYXJhbSB7bnVtYmVyfSAgICAgICAgICAgICAgICAgICAgICAgICBsb29wSW5kZXggICAgLSBtdXN0IGJlIGEgdmFsaWQgbG9vcCBpbmRleCBpbiBwYXRoXG5jb25zdCBydW5Mb29wID0gKGN0eCwgcGF0aCwgbG9vcEluZGV4KSA9PiB7XG5cbiAgICBjb25zdCBvcmlnUG9pbnRzID0gcGF0aC5fbG9vcHNbbG9vcEluZGV4XTtcbiAgICBpZiAoIW9yaWdQb2ludHMgfHwgIW9yaWdQb2ludHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUcnlpbmcgdG8gZmlsbCBwYXRocyB3aXRoIE5hTiBvciBpbmZpbml0ZSBudW1iZXJzIG1heSBjYXVzZSBoYW5ncyBpbiBjbGlwcGVyLiBTbywgd2UgcHJldmVudCB0aG9zZSBoZXJlLlxuICAgIGlmICghcGF0aC5pc0xvb3BGaW5pdGUobG9vcEluZGV4KSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYFNraXBwZWQgbG9vcCwgYmVjYXVzZSBpdCBjb250YWlucyBJbmYgb3IgTmFOIHZhbHVlcy4gU2hhcGUgSUQ6ICR7cGF0aC5pZH0uIExvb3BJbmRleDogJHtsb29wSW5kZXh9YCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwb2ludHMgPSBvcmlnUG9pbnRzO1xuXG4gICAgY3R4Lm1vdmVUbyhwb2ludHNbMF0ueCwgcG9pbnRzWzBdLnkpO1xuXG4gICAgY29uc3QgcHJvY2Vzc1NlZ21lbnQgPSAocFN0YXJ0LCBwRW5kLCBlZGdlSW5kZXgpID0+IHtcbiAgICAgICAgc3dpdGNoKHBTdGFydC5hcmNUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIEVkZ2VUeXBlLkxpbmU6IGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEVkZ2VUeXBlLkJlemllcjoge1xuICAgICAgICAgICAgICAgIGN0eC5iZXppZXJDdXJ2ZVRvKHBTdGFydC5jcDF4LCBwU3RhcnQuY3AxeSwgcFN0YXJ0LmNwMngsIHBTdGFydC5jcDJ5LCBwRW5kLngsIHBFbmQueSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlIEVkZ2VUeXBlLkVsbGlwc2U6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSBwU3RhcnQuZWxsaXBzZUFyY1BhcmFtcztcbiAgICAgICAgICAgICAgICBjb25zdCBhcmMgPSBwYXRoLmV4cG9ydEVsbGlwc2VBcmMoZWRnZUluZGV4LCBsb29wSW5kZXgsIGdldFRtcEFyYygpKTtcblxuICAgICAgICAgICAgICAgIC8vIGlnbm9yZSBhcmNzIHdpdGggTmFOIHZhbHVlc1xuICAgICAgICAgICAgICAgIGlmICghYXJjLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY3R4LmVsbGlwc2VBcmNUbykge1xuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0IFNvbGlkRGVmIFBhdGgyRFxuICAgICAgICAgICAgICAgICAgICBjdHguZWxsaXBzZUFyY1RvKHBhcmFtcy5yeCwgcGFyYW1zLnJ5LCBUSFJFRS5NYXRoLmRlZ1RvUmFkKHBhcmFtcy5yb3RhdGlvbiksIHBhcmFtcy5sYXJnZUFyY0ZsYWcsIHBhcmFtcy5zd2VlcEZsYWcsIHBFbmQueCwgcEVuZC55KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgQXV0b2Rlc2suQ29tcEdlb20gKFBhdGgyRCBhbmQgTG12Q2FudmFzQ29udGV4dCkuIEFsc28gY29tcGF0aWJsZSB0byBDYW52YXNDb250ZXh0IGFuZCBQYXRoMkQgaW4gSFRNTDUuXG4gICAgICAgICAgICAgICAgICAgIGN0eC5lbGxpcHNlKGFyYy5jeCwgYXJjLmN5LCBhcmMucngsIGFyYy5yeSwgYXJjLnJvdGF0aW9uLCBhcmMuc3RhcnRBbmdsZSwgYXJjLmVuZEFuZ2xlLCBhcmMuY2N3KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmxpbmVUbyhwRW5kLngsIHBFbmQueSk7XG4gICAgfTtcblxuICAgIGZvciAobGV0IGk9MTsgaTxwb2ludHMubGVuZ3RoOyBpKz0xKSB7XG4gICAgICAgIC8vIFRoZSBzZWdtZW50IHN0YXJ0IHBvaW50IGRlZmluZXMgdGhlIHR5cGUgKGxpbmUgb3IgYXJjKVxuICAgICAgICBjb25zdCBwcmV2ID0gcG9pbnRzW2ktMV07XG4gICAgICAgIGNvbnN0IHAgICAgPSBwb2ludHNbaV07XG5cbiAgICAgICAgcHJvY2Vzc1NlZ21lbnQocHJldiwgcCwgaS0xKTtcbiAgICB9XG5cbiAgICBpZiAocGF0aC5pc0Nsb3NlZCkge1xuICAgICAgICAvLyBhZGQgY2xvc2luZyBzZWdtZW50XG4gICAgICAgIGNvbnN0IHBMYXN0ICA9IHBvaW50c1twb2ludHMubGVuZ3RoLTFdO1xuICAgICAgICBjb25zdCBwRmlyc3QgPSBwb2ludHNbMF07XG4gICAgICAgIHByb2Nlc3NTZWdtZW50KHBMYXN0LCBwRmlyc3QsIHBvaW50cy5sZW5ndGgtMSk7XG5cbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIH1cbn07XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBydW4gbW92ZVRvL2xpbmVUby9hcmNUby9jbG9zZVBhdGggY2FsbHMgb24gYSBnaXZlbiBjb250ZXh0IG9iamVjdC5cbi8vICBAcGFyYW0ge1BhdGgyZHxMbXZDYW52YXNDb250ZXh0fE9iamVjdH0gY3R4ICAgICAgICAgIC0gUmVjZWl2ZXMgdGhlIGNhbGxiYWNrIGNhbGxzLCBpLmUuIG1vdmVUbywgbGluZVRvLCBiZXppZXJDdXJ2ZVRvLCBjbG9zZVBhdGggZXRjLiAoc2VlIFBhdGgyRClcbi8vICBAcGFyYW0ge1BvbHlsaW5lfFBvbHlnb258UGF0aH0gICAgICAgICAgcGF0aFxuZXhwb3J0IGNvbnN0IHJ1blBhdGggPSAoY3R4LCBwYXRoKSA9PiB7XG4gICAgZm9yIChsZXQgaT0wOyBpPHBhdGgubG9vcENvdW50OyBpKyspIHtcbiAgICAgICAgcnVuTG9vcChjdHgsIHBhdGgsIGkpO1xuICAgIH1cbn07XG5cbi8vIERyYXcgUGF0aCB0byBDYW52YXNDb250ZXh0LiBVbmlmaWVkIGltcGxlbWVudGF0aW9uIGZvciBQYXRoLCBQb2x5bGluZSwgYW5kIFBvbHlnb25cbi8vICBAcGFyYW0ge0xtdkNhbnZhc0NvbnRleHR9ICAgICAgY3R4XG4vLyAgQHBhcmFtIHtQb2x5bGluZXxQb2x5Z29ufFBhdGh9IHBhdGhcbi8vICBAcGFyYW0ge1N0eWxlfSAgICAgICAgICAgICAgICAgW292ZXJyaWRlU3R5bGVdXG5jb25zdCBkcmF3UGF0aCA9IChjdHgsIHBhdGgsIG92ZXJyaWRlU3R5bGUpID0+IHtcblxuICAgIGlmICghcGF0aC52ZXJ0ZXhDb3VudCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHN0eWxlID0gb3ZlcnJpZGVTdHlsZSB8fCBwYXRoLnN0eWxlO1xuICAgIGNvbnN0IGMgPSBjdHguY2FudmFzQ29udGV4dDtcbiAgICBjdHguZGJJZCA9IHBhdGguaWQ7XG4gICAgY3R4LmxpbmVTdHlsZSA9IHN0eWxlLmxpbmVTdHlsZTtcbiAgICBjdHguaXNTY3JlZW5TcGFjZSA9IHN0eWxlLmlzU2NyZWVuU3BhY2U7XG5cbiAgICBjb25zdCBjdXJyZW50R2xvYmFsQ29tcG9zaXRlT3AgPSBjLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbjtcbiAgICBpZiAoc3R5bGUuY29tcG9zaXRlT3BlcmF0aW9uKSB7XG4gICAgICAgIGMuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gc3R5bGUuY29tcG9zaXRlT3BlcmF0aW9uO1xuICAgICAgICAvLyBNYWtlIHN1cmUgYW55IHByZXZpb3VzIHNoYXBlcyB3aXRoIGEgZGlmZmVyZW50IGJsZW5kaW5nIGFyZSBmbHVzaGVkIGZpcnN0XG4gICAgICAgIGN0eC5mbHVzaEJ1ZmZlcigwLCB0cnVlKTtcbiAgICB9XG5cbiAgICBjdHguYmVnaW5QYXRoKCk7XG5cbiAgICBpZiAoIXBhdGguaXNDbG9zZWQgJiYgc3R5bGUuaXNNaXRlckxpbmUpIHtcbiAgICAgICAgLy8gaWYgdXNpbmcgbWl0ZXIgbGluZXMsIHdlJ2xsIHdhbnQgdG8gbWF0Y2ggdGhlIHN0eWxlXG4gICAgICAgIGN0eC5zZXRNaXRlckxpbmUodHJ1ZSk7XG4gICAgfVxuXG4gICAgLy8gUnVuIG1vdmVUby9saW5lVG8vLi4uIGNvbW1hbmRzIG9uIGNvbnRleHRcbiAgICBydW5QYXRoKGN0eCwgcGF0aCk7XG5cbiAgICAvLyBEcmF3IGZpbGwgZm9yIGNsb3NlZCBwYXRoc1xuICAgIGlmIChwYXRoLmlzQ2xvc2VkKSB7XG4gICAgICAgIGMuZmlsbFN0eWxlICAgPSBzdHlsZS5maWxsQ29sb3I7XG4gICAgICAgIC8vIENyZWF0ZXMgYSBncmFkaWVudCBmaWxsIHN0eWxlLlxuICAgICAgICBpZiAoc3R5bGUuZmlsbENvbG9yLmhhc093blByb3BlcnR5KCdjb2xvclN0b3BzJykpIHtcbiAgICAgICAgICAgIGNvbnN0IGdyYWRpZW50RGF0YSA9IGN0eC5jcmVhdGVHcmFkaWVudERhdGEoc3R5bGUuZmlsbENvbG9yKTtcbiAgICAgICAgICAgIGNvbnN0IGZpbGxTdHlsZSA9IGdyYWRpZW50RGF0YS5nZXRGaWxsU3R5bGUoYyk7XG4gICAgICAgICAgICBjLmZpbGxTdHlsZSA9IGZpbGxTdHlsZTtcbiAgICAgICAgfVxuICAgICAgICBjLmdsb2JhbEFscGhhID0gc3R5bGUuZmlsbEFscGhhO1xuXG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgfVxuXG4gICAgLy8gZHJhdyBsaW5lc1xuICAgIGMuc3Ryb2tlU3R5bGUgPSBzdHlsZS5saW5lQ29sb3I7XG4gICAgYy5nbG9iYWxBbHBoYSA9IHN0eWxlLmxpbmVBbHBoYTtcbiAgICBjLmxpbmVXaWR0aCAgID0gc3R5bGUubGluZVdpZHRoO1xuXG4gICAgLy8gQWRqdXN0IGxpbmVXaWR0aCBzbyB0aGF0IHNwZWNpZmllZCAxcHggd2lkdGhzIHdpbGwgYmUgZHJhd24gYXMgM3B4IG9uIHNjcmVlbnMgd2l0aCBkZXZpY2VQaXhlbFJhdGlvID09IDMuXG4gICAgLy8gRm9yIGh1bWFuIGV5ZXMgdGhlIGxpbmUgd2lkdGggaXMgdGhlbiB0aGUgc2FtZSB3aWR0aC5cbiAgICBpZiAoc3R5bGUuaXNTY3JlZW5TcGFjZSkgYy5saW5lV2lkdGggKj0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG5cbiAgICBjdHguc3Ryb2tlKCk7XG5cbiAgICAvLyByZXN0b3JlIGRlZmF1bHQgdmFsdWVzXG4gICAgY3R4LmRiSWQgPSAtMTtcbiAgICBjdHgubGluZVN0eWxlID0gMDtcbiAgICBjdHguaXNTY3JlZW5TcGFjZSA9IGZhbHNlO1xuICAgIGMuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gY3VycmVudEdsb2JhbENvbXBvc2l0ZU9wO1xufTtcblxuLy8gRXh0cmEgcGFyYW1zIGZvciBjdWJpYyBCZXppZXIgYXJjIGVkZ2VzLlxuY2xhc3MgQmV6aWVyQXJjUGFyYW1zIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gY29udHJvbCBwb2ludCAxIHRoYXQgZGVmaW5lcyBzdGFydCB0YW5nZW50XG4gICAgICAgIHRoaXMuY3AxeCA9IDA7XG4gICAgICAgIHRoaXMuY3AxeSA9IDA7XG5cbiAgICAgICAgLy8gY29udHJvbCBwb2ludCAyIHRoYXQgZGVmaW5lcyBlbmQgdGFuZ2VudFxuICAgICAgICB0aGlzLmNwMnggPSAwO1xuICAgICAgICB0aGlzLmNwMnkgPSAwO1xuICAgIH1cblxuICAgIGNvcHkoc3JjKSB7XG4gICAgICAgIHRoaXMuY3AxeCA9IHNyYy5jcDF4O1xuICAgICAgICB0aGlzLmNwMXkgPSBzcmMuY3AxeTtcbiAgICAgICAgdGhpcy5jcDJ4ID0gc3JjLmNwMng7XG4gICAgICAgIHRoaXMuY3AyeSA9IHNyYy5jcDJ5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCZXppZXJBcmNQYXJhbXMoKS5jb3B5KHRoaXMpO1xuICAgIH1cbn1cblxuLy8gU1ZHIGNvbXBhdGlibGUgZWxsaXBzZSBhcmMgcGFyYW1zXG4vLyBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSL3N2Zy1wYXRocy8jUGF0aERhdGFFbGxpcHRpY2FsQXJjQ29tbWFuZHNcbmV4cG9ydCBjbGFzcyBFbGxpcHNlQXJjUGFyYW1zIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyB7bnVtYmVyfSBSYWRpdXMgYWxvbmcgeC1heGlzXG4gICAgICAgIHRoaXMucnggPSAwO1xuXG4gICAgICAgIC8vIHtudW1iZXJ9IFJhZGl1cyBhbG9uZyB5LWF4aXNcbiAgICAgICAgdGhpcy5yeSA9IDA7XG5cbiAgICAgICAgLy8ge251bWJlcn0gY2N3IHJvdGF0aW9uIG9mIHgveS1heGVzIGluIGRlZ3JlZXNcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IDA7XG5cbiAgICAgICAgLy8ge2Jvb2x9IHdoZXRoZXIgdG8gdXNlIHNob3J0ZXIgb3IgbG9uZ2VyIHBhdGggYXJvdW5kIGVsbGlwc2UuXG4gICAgICAgIHRoaXMubGFyZ2VBcmNGbGFnID0gZmFsc2U7XG5cbiAgICAgICAgLy8ge2Jvb2x9IFdoZXRoZXIgdG8gZ28gY2N3ICh0cnVlKSBvciBjdyAoZmFsc2UpIGZyb20gc3RhcnRBbmdsZS4gU2VlIFNWRyBkb2NzIGxpbmsgYWJvdmUgZm9yIGRldGFpbHMuXG4gICAgICAgIHRoaXMuc3dlZXBGbGFnID0gZmFsc2U7XG4gICAgfVxuXG4gICAgY29weShzcmMpIHtcbiAgICAgICAgdGhpcy5yeCAgICAgICAgICAgPSBzcmMucng7XG4gICAgICAgIHRoaXMucnkgICAgICAgICAgID0gc3JjLnJ5O1xuICAgICAgICB0aGlzLnJvdGF0aW9uICAgICA9IHNyYy5yb3RhdGlvbjtcbiAgICAgICAgdGhpcy5sYXJnZUFyY0ZsYWcgPSBzcmMubGFyZ2VBcmNGbGFnO1xuICAgICAgICB0aGlzLnN3ZWVwRmxhZyAgICA9IHNyYy5zd2VlcEZsYWc7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFbGxpcHNlQXJjUGFyYW1zKCkuY29weSh0aGlzKTtcbiAgICB9XG5cbiAgICAvLyBAcGFyYW0ge251bWJlcn0gYW5nbGUgLSBjb3VudGVyY2xvY2t3aXNlIGluIGRlZ3JlZXNcbiAgICByb3RhdGUoYW5nbGUpIHtcblxuICAgICAgICB0aGlzLnJvdGF0aW9uICs9IGFuZ2xlO1xuXG4gICAgICAgIC8vIE5vcm1hbGl6ZSBhbmdsZSB0byBrZWVwIHdpdGhpbiBbMCwzNjBdXG4gICAgICAgIHRoaXMucm90YXRpb24gLT0gTWF0aC50cnVuYyh0aGlzLnJvdGF0aW9uIC8gMzYwKSAqIDM2MDtcbiAgICB9XG5cbiAgICBzY2FsZShmYWN0b3IpIHtcbiAgICAgICAgdGhpcy5yeCAqPSBmYWN0b3I7XG4gICAgICAgIHRoaXMucnkgKj0gZmFjdG9yO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZXMgYXJjIHBhcmFtcyBhY2NvcmRpbmcgdG8gYSBnaXZlbiB0cmFuc2Zvcm0uXG4gICAgLy8gTm90ZTogVHJhbnNmb3JtaW5nIGVsbGlwc2UgYXJjcyBpcyBjdXJyZW50bHkgb25seSBzdXBwb3J0ZWQgZm9yXG4gICAgLy8gICAgICAgc2ltcGxlIHRyYW5zZm9ybXMgbGlrZSB0cmFuc2xhdGlvbiwgcm90YXRpb24sIGFuZCB1bmlmb3JtIHNjYWxpbmcuXG4gICAgYXBwbHlNYXRyaXg0KG1hdHJpeCkge1xuXG4gICAgICAgIC8vIGFwcGx5IHRyYW5zZm9ybSB0byB4LWF4aXMgZGlyZWN0aW9uXG4gICAgICAgIHRtcFZlYzMuc2V0KDEsMCwwKS5hcHBseU1hdHJpeDQobWF0cml4KTtcbiAgICAgICAgdG1wVmVjM18yLnNldCgwLDAsMCkuYXBwbHlNYXRyaXg0KG1hdHJpeCk7XG4gICAgICAgIGNvbnN0IGF4aXMgPSB0bXBWZWMzLnN1Yih0bXBWZWMzXzIpO1xuXG4gICAgICAgIC8vIG9idGFpbiByb3RhdGlvbiBhbmdsZSBhbmQgc2NhbGUgKGFzc3VtaW5nIHVuaWZvcm0gc2NhbGluZylcbiAgICAgICAgY29uc3Qgcm90QW5nbGUgPSBUSFJFRS5NYXRoLnJhZFRvRGVnKE1hdGguYXRhbjIoYXhpcy55LCBheGlzLngpKTtcbiAgICAgICAgY29uc3Qgc2NhbGUgICAgPSBheGlzLmxlbmd0aCgpO1xuXG4gICAgICAgIC8vIHVwZGF0ZSBlbGxpcHNlIHBhcmFtc1xuICAgICAgICB0aGlzLnJvdGF0ZShyb3RBbmdsZSk7XG4gICAgICAgIHRoaXMuc2NhbGUoc2NhbGUpO1xuXG4gICAgICAgIC8vIElmIGEgdHJhbnNmb3JtIGNoYW5nZXMgdGhlIG9yaWVudGF0aW9uLCB3ZSBoYXZlIHRvIGludmVydCBzd2VlcEZsYWcgYW5kIHJvdGF0aW9uIHBhcmFtXG4gICAgICAgIGlmIChNYXRoMkQuY2hhbmdlc09yaWVudGF0aW9uKG1hdHJpeCkpIHtcbiAgICAgICAgICAgIHRoaXMuc3dlZXBGbGFnID0gIXRoaXMuc3dlZXBGbGFnO1xuICAgICAgICAgICAgdGhpcy5yb3RhdGlvbiAgPSAzNjAuMCAtIHRoaXMucm90YXRpb247XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYXRoIGV4dGVuZHMgUG9seUJhc2Uge1xuXG4gICAgY29uc3RydWN0b3IocG9pbnRzLCBpc0Nsb3NlZCA9IGZhbHNlLCBzdHlsZSA9IERlZmF1bHRTdHlsZS5jbG9uZSgpKSB7XG4gICAgICAgIHN1cGVyKHBvaW50cywgc3R5bGUpO1xuXG4gICAgICAgIC8vIElmIHRydWUsIHRoZSBwYXRoIGlzIGF1dG9tYXRpY2FsbHkgY2xvc2VkIGFuZCBjYW4gYmUgZmlsbGVkLlxuICAgICAgICB0aGlzLmlzQ2xvc2VkID0gaXNDbG9zZWQ7XG4gICAgfVxuXG4gICAvLyBVcGRhdGVzIGVsbGlwc2UgYXJjIG9mIGFuIGVkZ2UgaWYgdmVydGljZXMgb2YgdGhlIGVkZ2VzIGFyZSBnb2luZyB0byBiZSBtb2RpZmllZFxuICAgLy8gQHBhcmFtIHtudW1iZXJ9IGVkZ2VJbmRleCAgIC0gbXVzdCBiZSB2YWxpZC4gRWRnZSB2ZXJ0aWNlcyBtdXN0IGJlIGluIHN0YXRlIF9iZWZvcmVfIG1vZGlmaWNhdGlvbi5cbiAgIC8vIEBwYXJhbSB7bnVtYmVyfSBsb29wSW5kZXggICAtIG11c3QgYmUgdmFsaWQuXG4gICAvLyBAcGFyYW0ge1ZlY3RvcjJ9IG5ld0EsIG5ld0IgLSBlZGdlIHZlcnRpY2VzIGFmdGVyIG1vZGlmaWNhdGlvblxuICAgX3VwZGF0ZUVsbGlwc2VBcmNQYXJhbXMoZWRnZUluZGV4LCBsb29wSW5kZXgsIG5ld0EsIG5ld0IpIHtcblxuICAgICAgICBjb25zdCBwYXJhbXMgPSB0aGlzLl9sb29wc1tsb29wSW5kZXhdW2VkZ2VJbmRleF0uZWxsaXBzZUFyY1BhcmFtcztcblxuICAgICAgICAvLyBjb21wdXRlIGFuZ2xlIGJ5IHdoaWNoIHRoZSBlZGdlIHdhcyByb3RhdGVkXG4gICAgICAgIGNvbnN0IG9sZERpciA9IHRoaXMuZ2V0RWRnZURpcmVjdGlvbihlZGdlSW5kZXgsIGxvb3BJbmRleCk7XG4gICAgICAgIGNvbnN0IG5ld0RpciA9IE1hdGgyRC5nZXRFZGdlRGlyZWN0aW9uKG5ld0EsIG5ld0IpO1xuICAgICAgICBjb25zdCBkQW5nbGUgPSBNYXRoMkQuYW5nbGVCZXR3ZWVuRGlyZWN0aW9ucyhuZXdEaXIsIG9sZERpcik7XG5cbiAgICAgICAgcGFyYW1zLnJvdGF0ZShUSFJFRS5NYXRoLnJhZFRvRGVnKGRBbmdsZSkpO1xuXG4gICAgICAgIC8vIGdldCBzY2FsZSBmYWN0b3IgYXBwbGllZCB0byB0aGUgZWRnZVxuICAgICAgICBjb25zdCBvbGRMZW5ndGggPSB0aGlzLmdldEVkZ2VMZW5ndGgoZWRnZUluZGV4LCBsb29wSW5kZXgpO1xuICAgICAgICBjb25zdCBuZXdMZW5ndGggPSBNYXRoMkQuZGlzdGFuY2UyRChuZXdBLCBuZXdCKTsgLy8gYWxzbyB3b3JrcyBmb3Igc2ltcGxlIHt4LHl9IHBhaXJzXG4gICAgICAgIGNvbnN0IHNjYWxlID0gbmV3TGVuZ3RoIC8gb2xkTGVuZ3RoO1xuXG4gICAgICAgIC8vIHNjYWxlIGVsbGlwc2UgcmFkaWkgKGlmIHNjYWxpbmcgaXMgdmFsaWQpXG4gICAgICAgIGNvbnN0IHNjYWxlVmFsaWQgPSBpc0Zpbml0ZShzY2FsZSkgJiYgc2NhbGUgPiAwOyAvLyB6ZXJvLXJhZGlpIGRvIG5vdCB3b3JrXG4gICAgICAgIGlmIChzY2FsZVZhbGlkKSB7XG4gICAgICAgICAgICBwYXJhbXMuc2NhbGUoc2NhbGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlUG9pbnQoaW5kZXgsIHgsIHksIGxvb3BJbmRleCA9IDApIHtcblxuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLl9sb29wc1tsb29wSW5kZXhdO1xuICAgICAgICBsZXQgcCA9IHBvaW50c1tpbmRleF07XG5cbiAgICAgICAgbGV0IHBOZXcgPSB0bXBWZWMuc2V0KHgsIHkpO1xuXG4gICAgICAgIC8vIElmIHAgaXMgYWRqYWNlbnQgdG8gYSBCZXppZXJBcmMgc2VnbWVudCwgdGhlIHRhbmdlbnQgc2hvdWxkIGtlZXAgdGhlIHNhbWUgYWZ0ZXIgY2hhbmdpbmcgdGhlIHBvc2l0aW9uXG4gICAgICAgIC8vIFRoZXJlZm9yZSwgd2UgY2hhbmdlIHRoZSBjb3JyZXNwb25kaW5nIGNvbnRyb2wgcG9pbnRzIGFzIHdlbGxcbiAgICAgICAgY29uc3QgZHggPSB4IC0gcC54O1xuICAgICAgICBjb25zdCBkeSA9IHkgLSBwLnk7XG5cbiAgICAgICAgLy8gQ29udHJvbCBwb2ludCBmb3IgdGhlIHN0YXJ0IHRhbmdlbnQgb2YgdGhlIGFyYyBzZWdtZW50IHN0YXJ0aW5nIGF0IHBcbiAgICAgICAgaWYgKHRoaXMuaXNCZXppZXJBcmMoaW5kZXgsIGxvb3BJbmRleCkpIHtcbiAgICAgICAgICAgIHAuY3AxeCArPSBkeDtcbiAgICAgICAgICAgIHAuY3AxeSArPSBkeTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSBlbGxpcHNlIGFyYyBzdGFydGluZyBhdCBwXG4gICAgICAgIGlmICh0aGlzLmlzRWxsaXBzZUFyYyhpbmRleCwgbG9vcEluZGV4KSkge1xuICAgICAgICAgICAgLy8gbmV4dCBwb2ludCBtdXN0IGV4aXN0IGlmIGluZGV4IGlzIGEgdmFsaWQgZWxsaXBzZS1hcmMgZWRnZS5cbiAgICAgICAgICAgIGNvbnN0IG5leHRJbmRleCA9IHRoaXMubmV4dEluZGV4KGluZGV4LCBsb29wSW5kZXgpO1xuICAgICAgICAgICAgY29uc3QgcE5leHQgPSBwb2ludHNbbmV4dEluZGV4XTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUVsbGlwc2VBcmNQYXJhbXMoaW5kZXgsIGxvb3BJbmRleCwgcE5ldywgcE5leHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIGFyYyBwYXJhbXMgb2Ygc2VnbWVudCBlbmRpbmcgYXQgcFxuICAgICAgICAvLyBOb3RlOiBGb3IgcG9seWxpbmVzLCB0aGlzIGVkZ2UgZG9lcyBub3QgZXhpc3QgZm9yIGluZGV4PT0wXG4gICAgICAgIGNvbnN0IHByZXZFZGdlID0gdGhpcy5lZGdlQmVmb3JlVmVydGV4KGluZGV4LCBsb29wSW5kZXgpO1xuICAgICAgICBpZiAodGhpcy5lZGdlSW5kZXhWYWxpZChwcmV2RWRnZSwgbG9vcEluZGV4KSkge1xuXG4gICAgICAgICAgICAvLyBnZXQgcHJldmlvdXMgdmVydGV4XG4gICAgICAgICAgICBjb25zdCBwUHJldiA9IHBvaW50c1twcmV2RWRnZV07XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBiZXppZXIgY29udHJvbCBwb2ludFxuICAgICAgICAgICAgaWYgKHRoaXMuaXNCZXppZXJBcmMocHJldkVkZ2UsIGxvb3BJbmRleCkpIHtcbiAgICAgICAgICAgICAgICBwUHJldi5jcDJ4ICs9IGR4O1xuICAgICAgICAgICAgICAgIHBQcmV2LmNwMnkgKz0gZHk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBlbGxpcHNlIGFyY1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNFbGxpcHNlQXJjKHByZXZFZGdlLCBsb29wSW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlRWxsaXBzZUFyY1BhcmFtcyhwcmV2RWRnZSwgbG9vcEluZGV4LCBwUHJldiwgcE5ldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwLnggPSB4O1xuICAgICAgICBwLnkgPSB5O1xuICAgICAgICB0aGlzLm1vZGlmaWVkKCk7XG4gICAgfVxuXG4gICAgZ2V0RWRnZVR5cGUoc2VnbWVudEluZGV4LCBsb29wSW5kZXggPSAwKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSB0aGlzLl9sb29wc1tsb29wSW5kZXhdW3NlZ21lbnRJbmRleF0uYXJjVHlwZTtcbiAgICAgICAgcmV0dXJuIHR5cGUgPyB0eXBlIDogRWRnZVR5cGUuTGluZTtcbiAgICB9XG5cbiAgICAvLyBDaGFuZ2Ugc2VnbWVudCBpbnRvIGEgY3ViaWMgQmV6aWVyIGFyYy5cbiAgICAvLyBGaXJzdCBhbmQgbGFzdCBjb250cm9sIHBvaW50IGFyZSBhbHJlYWR5IGdpdmVuIGJ5IHRoZSB2ZXJ0ZXggcG9zaXRpb25zLlxuICAgIC8vXG4gICAgLy8gIEBwYXJhbSB7bnVtYmVyfSAgICAgICAgICAgICBzZWdtZW50SW5kZXggLSBtdXN0IGJlIGluIFswLCB0aGlzLmdldEVkZ2VDb3VudChsb29wSW5kZXgpXVxuICAgIC8vICBAcGFyYW0ge0JlemllckFyY1BhcmFtc30gICAgcGFyYW1zXG4gICAgLy8gIEBwYXJhbSB7bnVtYmVyfSBbbG9vcEluZGV4XVxuICAgIHNldEJlemllckFyYyhzZWdtZW50SW5kZXgsIHBhcmFtcywgbG9vcEluZGV4ID0gMCwgLi4uYXJncykge1xuXG4gICAgICAgIC8vIExlZ2FjeSBzdXBwb3J0OlxuICAgICAgICAvLyBJZiBjcDF4LCBjcDJ4IGV0Yy4gYXJlIGVubGlzdGVkIGluZGl2aWR1YWxseSwgcmVzaGFwZSBwYXJhbXMgdG8gZXhwZWN0ZWQgZm9ybS5cbiAgICAgICAgLy8gSXQncyBhIHBhaW4gdGhhdCBKUyBkb2Vzbid0IGhhdmUgZnVuY3Rpb24gb3ZlcmxvYWRzLlxuICAgICAgICBjb25zdCBpc1BhcmFtT2JqID0gKHR5cGVvZiBwYXJhbXMgPT09ICdvYmplY3QnKTtcbiAgICAgICAgaWYgKCFpc1BhcmFtT2JqKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgY3AxeDogcGFyYW1zLFxuICAgICAgICAgICAgICAgIGNwMXk6IGxvb3BJbmRleCxcbiAgICAgICAgICAgICAgICBjcDJ4OiBhcmdzWzBdLFxuICAgICAgICAgICAgICAgIGNwMnk6IGFyZ3NbMV1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBsb29wSW5kZXggPSBhcmdzWzJdIHx8IDA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwID0gdGhpcy5fbG9vcHNbbG9vcEluZGV4XVtzZWdtZW50SW5kZXhdO1xuICAgICAgICBwLmFyY1R5cGUgPSBFZGdlVHlwZS5CZXppZXI7XG4gICAgICAgIEJlemllckFyY1BhcmFtcy5wcm90b3R5cGUuY29weS5jYWxsKHAsIHBhcmFtcyk7XG5cbiAgICAgICAgdGhpcy5tb2RpZmllZCgpO1xuICAgIH1cblxuICAgIGdldEJlemllckFyY1BhcmFtcyhzZWdtZW50SW5kZXgsIGxvb3BJbmRleCA9IDAsIHRhcmdldCA9IG5ldyBCZXppZXJBcmNQYXJhbXMoKSkge1xuICAgICAgICAvLyBGaW5kIHBhcmFtc1xuICAgICAgICBjb25zdCBwID0gdGhpcy5fbG9vcHNbbG9vcEluZGV4XVtzZWdtZW50SW5kZXhdO1xuICAgICAgICBjb25zdCBzcmNQYXJhbXMgPSBwICYmIChwLmFyY1R5cGUgPT09IEVkZ2VUeXBlLkJlemllcikgJiYgcDtcblxuICAgICAgICAvLyByZXR1cm4gYSBjb3B5IGlmIGZvdW5kLCBvdGhlcndpc2UgdW5kZWZpbmVkXG4gICAgICAgIHJldHVybiBzcmNQYXJhbXMgJiYgdGFyZ2V0LmNvcHkoc3JjUGFyYW1zKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgZWxsaXBzZSBhcmMgc2VnbWVudC4gUGFyYW1ldGVycyBhcmUgdGhlIHNhbWUgYXMgZm9yIFNWRyBlbGxpcHNlIGFyY3MuXG4gICAgLy8gc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9zdmctcGF0aHMvI1BhdGhEYXRhRWxsaXB0aWNhbEFyY0NvbW1hbmRzXG4gICAgLy9cbiAgICAvLyAgQHBhcmFtIHtudW1iZXJ9ICAgc2VnbWVudEluZGV4IC0gbXVzdCBiZSBpbiBbMCwgdGhpcy5nZXRFZGdlQ291bnQoKV1cbiAgICAvLyAgQHBhcmFtIHtFbGxpcHNlQXJjUGFyYW1zfSBhcmNQYXJhbXNcbiAgICBzZXRFbGxpcHNlQXJjKHNlZ21lbnRJbmRleCwgYXJjUGFyYW1zLCBsb29wSW5kZXggPSAwKSB7XG5cbiAgICAgICAgY29uc3QgcCA9IHRoaXMuX2xvb3BzW2xvb3BJbmRleF1bc2VnbWVudEluZGV4XTtcblxuICAgICAgICBwLmFyY1R5cGUgPSBFZGdlVHlwZS5FbGxpcHNlO1xuICAgICAgICBwLmVsbGlwc2VBcmNQYXJhbXMgPSBhcmNQYXJhbXMuY2xvbmUoKTtcblxuICAgICAgICB0aGlzLm1vZGlmaWVkKCk7XG4gICAgfVxuXG4gICAgLy8gQHBhcmFtIHtudW1iZXJ9ICAgICAgICAgICBzZWdtZW50SW5kZXggLSBtdXN0IGJlIGEgdmFsaWQgZWxsaXBzZS1hcmMgZWRnZVxuICAgIC8vIEBwYXJhbSB7RWxsaXBzZUFyY1BhcmFtc30gdGFyZ2V0XG4gICAgLy8gQHJldHVybnMge0VsbGlwc2VBcmNQYXJhbXN9XG4gICAgZ2V0RWxsaXBzZUFyY1BhcmFtcyhzZWdtZW50SW5kZXgsIGxvb3BJbmRleCA9IDAsIHRhcmdldCA9IG5ldyBFbGxpcHNlQXJjUGFyYW1zKCkpIHtcblxuICAgICAgICAvLyBGaW5kIHBhcmFtc1xuICAgICAgICBjb25zdCBwID0gdGhpcy5fbG9vcHNbbG9vcEluZGV4XVtzZWdtZW50SW5kZXhdO1xuICAgICAgICBjb25zdCBzcmNQYXJhbXMgPSBwICYmIChwLmFyY1R5cGUgPT09IEVkZ2VUeXBlLkVsbGlwc2UpICYmIHAuZWxsaXBzZUFyY1BhcmFtcztcblxuICAgICAgICAvLyBSZXR1cm4gYSBjb3B5IGlmIGZvdW5kLCBvdGhlcndpc2UgdW5kZWZpbmVkLlxuICAgICAgICByZXR1cm4gc3JjUGFyYW1zICYmIHRhcmdldC5jb3B5KHNyY1BhcmFtcyk7XG4gICAgfVxuXG4gICAgLy8gQ29uZmlndXJlcyBhbiBFbGxpcHNlQXJjIGN1cnZlIHRvIG1hdGNoIHdpdGggYW4gZWxsaXBzZS1hcmMgZWRnZS4gVGhpcyBhbGxvd3MgZm9yIHNhbXBsaW5nIHRoZSBhcmMuXG4gICAgLy8gIEBwYXJhbSB7bnVtYmVyfSAgICAgZWRnZUluZGV4ICAgICAtIG11c3QgYmUgYW4gZWxsaXBzZSBhcmNcbiAgICAvLyAgQHBhcmFtIHtudW1iZXJ9ICAgICBbbG9vcEluZGV4PTBdIC0gbG9vcEluZGV4XG4gICAgLy8gIEBwYXJhbSB7RWxsaXBzZUFyY30gW3RhcmdldF0gICAgICAtIG9wdGlvbmFsXG4gICAgLy8gIEByZXR1cm5zIHtFbGxpcHNlQXJjfVxuICAgIGV4cG9ydEVsbGlwc2VBcmMoZWRnZUluZGV4LCBsb29wSW5kZXggPSAwLCB0YXJnZXQgPSBuZXcgRWxsaXBzZUFyYygpKSB7XG5cbiAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5fbG9vcHNbbG9vcEluZGV4XTtcblxuICAgICAgICAvLyBnZXQgc3RhcnQvZW5kIHBvaW50c1xuICAgICAgICBjb25zdCBuZXh0SW5kZXggPSB0aGlzLm5leHRJbmRleChlZGdlSW5kZXgsIGxvb3BJbmRleCk7XG4gICAgICAgIGNvbnN0IHBTdGFydCA9IHBvaW50c1tlZGdlSW5kZXhdO1xuICAgICAgICBjb25zdCBwRW5kICAgPSBwb2ludHNbbmV4dEluZGV4XTtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gcFN0YXJ0LmVsbGlwc2VBcmNQYXJhbXM7XG5cbiAgICAgICAgdGFyZ2V0LnNldEZyb21TdmdBcmMoXG4gICAgICAgICAgICBwYXJhbXMucngsXG4gICAgICAgICAgICBwYXJhbXMucnksXG4gICAgICAgICAgICBwYXJhbXMucm90YXRpb24sXG4gICAgICAgICAgICBwYXJhbXMubGFyZ2VBcmNGbGFnLFxuICAgICAgICAgICAgcGFyYW1zLnN3ZWVwRmxhZyxcbiAgICAgICAgICAgIHBTdGFydCxcbiAgICAgICAgICAgIHBFbmRcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICBpc0JlemllckFyYyhzZWdtZW50SW5kZXgsIGxvb3BJbmRleCA9IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWRnZUluZGV4VmFsaWQoc2VnbWVudEluZGV4LCBsb29wSW5kZXgpICYmIHRoaXMuX2xvb3BzW2xvb3BJbmRleF1bc2VnbWVudEluZGV4XS5hcmNUeXBlID09PSBFZGdlVHlwZS5CZXppZXI7XG4gICAgfVxuXG4gICAgaXNFbGxpcHNlQXJjKHNlZ21lbnRJbmRleCwgbG9vcEluZGV4ID0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lZGdlSW5kZXhWYWxpZChzZWdtZW50SW5kZXgsIGxvb3BJbmRleCkgJiYgdGhpcy5fbG9vcHNbbG9vcEluZGV4XVtzZWdtZW50SW5kZXhdLmFyY1R5cGUgPT09IEVkZ2VUeXBlLkVsbGlwc2U7XG4gICAgfVxuXG4gICAgaXNBcmMoc2VnbWVudEluZGV4LCBsb29wSW5kZXggPSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzQmV6aWVyQXJjKHNlZ21lbnRJbmRleCwgbG9vcEluZGV4KSB8fCB0aGlzLmlzRWxsaXBzZUFyYyhzZWdtZW50SW5kZXgsIGxvb3BJbmRleCk7XG4gICAgfVxuXG4gICAgLy8gR2V0IHRhbmdlbnQgdmVjdG9yIHBvaW50aW5nIGZyb20gc3RhcnQgdmVydGV4IHRvIGNvbnRyb2wgcG9pbnQgMSBvZiBhbiBhcmMgc2VnbWVudC5cbiAgICAvLyBPbmx5IGFsbG93ZWQgZm9yIEJlemllciBhcmNzLiBSZXN1bHQgaXMgbm90IG5vcm1hbGl6ZWQuXG4gICAgLy8gIEBwYXJhbSB7bnVtYmVyfSBzZWdtZW50SW5kZXggLSBtdXN0IGJlIGEgdmFsaWQgaW5kZXggb2YgYW4gYXJjIHNlZ21lbnQuXG4gICAgLy8gIEByZXR1cm5zIHtWZWN0b3IyfVxuICAgIGdldFN0YXJ0VGFuZ2VudChzZWdtZW50SW5kZXgsIG91dFRhcmdldCA9IG51bGwpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gb3V0VGFyZ2V0IHx8IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gICAgICAgIGNvbnN0IHAgPSB0aGlzLnBvaW50c1tzZWdtZW50SW5kZXhdO1xuICAgICAgICB0YXJnZXQueCA9IHAuY3AxeCAtIHAueDtcbiAgICAgICAgdGFyZ2V0LnkgPSBwLmNwMXkgLSBwLnk7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLy8gR2V0IHRhbmdlbnQgdmVjdG9yIHBvaW50aW5nIGZyb20gZW5kIHZlcnRleCB0byBjb250cm9sIHBvaW50IDIgb2YgYW4gYXJjIHNlZ21lbnQuXG4gICAgLy8gIEBwYXJhbSB7bnVtYmVyfSBzZWdtZW50SW5kZXggLSBtdXN0IGJlIGEgdmFsaWQgaW5kZXggb2YgYW4gYXJjIHNlZ21lbnQuXG4gICAgLy8gIEByZXR1cm5zIHtWZWN0b3IyfVxuICAgIGdldEVuZFRhbmdlbnQoc2VnbWVudEluZGV4LCBvdXRUYXJnZXQgPSBudWxsKSB7XG5cbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gb3V0VGFyZ2V0IHx8IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gICAgICAgIGNvbnN0IGVuZFZlcnRleCA9IHRoaXMubmV4dEluZGV4KHNlZ21lbnRJbmRleCk7XG5cbiAgICAgICAgLy8gZ2V0IHN0YXJ0L2VuZCBwb2ludCBvZiB0aGUgc2VnbWVudFxuICAgICAgICBjb25zdCBwU3RhcnQgPSB0aGlzLnBvaW50c1tzZWdtZW50SW5kZXhdO1xuICAgICAgICBjb25zdCBwRW5kICAgPSB0aGlzLnBvaW50c1tlbmRWZXJ0ZXhdO1xuICAgICAgICB0YXJnZXQueCA9IHBTdGFydC5jcDJ4IC0gcEVuZC54O1xuICAgICAgICB0YXJnZXQueSA9IHBTdGFydC5jcDJ5IC0gcEVuZC55O1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIC8vICBAcGFyYW0ge251bWJlcn0gc2VnbWVudEluZGV4IC0gbXVzdCBiZSBhIHZhbGlkIGluZGV4IG9mIGFuIGFyYyBzZWdtZW50LlxuICAgIC8vICBAcGFyYW0ge1ZlY3RvcjJ9IHRhbmdlbnRcbiAgICBzZXRTdGFydFRhbmdlbnQoc2VnbWVudEluZGV4LCB0YW5nZW50KSB7XG4gICAgICAgIGNvbnN0IHAgPSB0aGlzLnBvaW50c1tzZWdtZW50SW5kZXhdO1xuICAgICAgICBwLmNwMXggPSBwLnggKyB0YW5nZW50Lng7XG4gICAgICAgIHAuY3AxeSA9IHAueSArIHRhbmdlbnQueTtcbiAgICAgICAgdGhpcy5tb2RpZmllZCgpO1xuICAgIH1cblxuICAgIC8vICBAcGFyYW0ge251bWJlcn0gc2VnbWVudEluZGV4IC0gbXVzdCBiZSBhIHZhbGlkIGluZGV4IG9mIGFuIGFyYyBzZWdtZW50LlxuICAgIC8vICBAcGFyYW0ge1ZlY3RvcjJ9IHRhbmdlbnRcbiAgICBzZXRFbmRUYW5nZW50KHNlZ21lbnRJbmRleCwgdGFuZ2VudCkge1xuICAgICAgICBjb25zdCBwID0gdGhpcy5wb2ludHNbc2VnbWVudEluZGV4XTtcbiAgICAgICAgY29uc3QgcEVuZCA9IHRoaXMucG9pbnRzW3RoaXMubmV4dEluZGV4KHNlZ21lbnRJbmRleCldO1xuICAgICAgICBwLmNwMnggPSBwRW5kLnggKyB0YW5nZW50Lng7XG4gICAgICAgIHAuY3AyeSA9IHBFbmQueSArIHRhbmdlbnQueTtcbiAgICAgICAgdGhpcy5tb2RpZmllZCgpO1xuICAgIH1cblxuICAgIC8vIENoYW5nZSBCZXppZXIgb3IgRWxsaXBzZSBhcmMgYmFjayB0byBzaW1wbGUgbGluZSBzZWdtZW50XG4gICAgcmVtb3ZlQXJjKHNlZ21lbnRJbmRleCwgbG9vcEluZGV4ID0gMCkge1xuICAgICAgICBjb25zdCBwID0gdGhpcy5fbG9vcHNbbG9vcEluZGV4XVtzZWdtZW50SW5kZXhdO1xuXG4gICAgICAgIGlmIChwLmFyY1R5cGUgPT09IEVkZ2VUeXBlLkJlemllcikge1xuICAgICAgICAgICAgcC5jcDF4ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcC5jcDF5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcC5jcDJ4ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcC5jcDJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHAuZWxsaXBzZUFyY1BhcmFtcykgcC5lbGxpcHNlQXJjUGFyYW1zID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIHJlc2V0IHR5cGVcbiAgICAgICAgcC5hcmNUeXBlID0gRWRnZVR5cGUuTGluZTtcblxuICAgICAgICB0aGlzLm1vZGlmaWVkKCk7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGN0cmwgcG9pbnQgb2YgQmV6aWVyIEFyYy4gT25seSBhbGxvd2VkIGlmIGlzQmV6aWVyQXJjKHNlZ21lbnRJbmRleCkgaXMgdHJ1ZVxuICAgIC8vIEBwYXJhbSB7bnVtYmVyfSBzZWdtZW50SW5kZXhcbiAgICAvLyBAcGFyYW0ge251bWJlcn0gY3RybFBvaW50SW5kZXggLSBNdXN0IGJlIDEgb3IgMi4gTm90ZSB0aGF0IGN0cmxQb2ludHMgMCBhbmQgMyBhcmUgZGVmaW5lZCBieVxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgdmVydGV4IHBvc2l0aW9uXG4gICAgLy8gQHBhcmFtIHtWZWN0b3IyfSBbdGFyZ2V0XVxuICAgIC8vIEBwYXJhbSB7bnVtYmVyfSAgW2xvb3BJbmRleF1cbiAgICBnZXRDb250cm9sUG9pbnQoc2VnbWVudEluZGV4LCBjdHJsUG9pbnRJbmRleCwgbG9vcEluZGV4ID0gMCwgdGFyZ2V0ID0gbmV3IFRIUkVFLlZlY3RvcjIoKSkge1xuICAgICAgICBjb25zdCBwID0gdGhpcy5fbG9vcHNbbG9vcEluZGV4XVtzZWdtZW50SW5kZXhdO1xuXG4gICAgICAgIGlmIChjdHJsUG9pbnRJbmRleCA9PT0gMSkge1xuICAgICAgICAgICAgdGFyZ2V0LnggPSBwLmNwMXg7XG4gICAgICAgICAgICB0YXJnZXQueSA9IHAuY3AxeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldC54ID0gcC5jcDJ4O1xuICAgICAgICAgICAgdGFyZ2V0LnkgPSBwLmNwMnk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gY3RybCBwb2ludCBvZiBCZXppZXIgQXJjLiBPbmx5IGFsbG93ZWQgaWYgaXNCZXppZXJBcmMoc2VnbWVudEluZGV4KSBpcyB0cnVlXG4gICAgLy8gQHBhcmFtIHtudW1iZXJ9IHNlZ21lbnRJbmRleFxuICAgIC8vIEBwYXJhbSB7bnVtYmVyfSBjdHJsUG9pbnRJbmRleCAtIE11c3QgYmUgMSBvciAyLiBOb3RlIHRoYXQgY3RybFBvaW50cyAwIGFuZCAzIGFyZSBkZWZpbmVkIGJ5XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCB2ZXJ0ZXggcG9zaXRpb25cbiAgICB1cGRhdGVDb250cm9sUG9pbnQoc2VnbWVudEluZGV4LCBjdHJsUG9pbnQsIHgsIHksIGxvb3BJbmRleCA9IDApIHtcbiAgICAgICAgbGV0IHAgPSB0aGlzLl9sb29wc1tsb29wSW5kZXhdW3NlZ21lbnRJbmRleF07XG4gICAgICAgIGlmIChjdHJsUG9pbnQgPT09IDEpIHtcbiAgICAgICAgICAgIHAuY3AxeCA9IHg7XG4gICAgICAgICAgICBwLmNwMXkgPSB5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcC5jcDJ4ID0geDtcbiAgICAgICAgICAgIHAuY3AyeSA9IHk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb2RpZmllZCgpO1xuICAgIH1cblxuICAgIC8vIERyYXcgUG9seWdvbiBpbnRvIExtdkNhbnZhc0NvbnRleHRcbiAgICBkcmF3KGN0eCwgb3ZlcnJpZGVTdHlsZSkge1xuICAgICAgICBkcmF3UGF0aChjdHgsIHRoaXMsIG92ZXJyaWRlU3R5bGUpO1xuICAgIH1cblxuICAgIC8vIFNhbXBsZSBwYXRoIGludG8gYSBQb2x5Z29uIG9yIFBvbHlsaW5lLlxuICAgIC8vICBAcmV0dXJucyB7UG9seWdvbnxQb2x5bGluZX1cbiAgICB0b1BvbHkodGVzc1BhcmFtcyA9IEF1dG9kZXNrLkV4dGVuc2lvbnMuQ29tcEdlb20uRGVmYXVsdFRlc3NQYXJhbXMpIHtcblxuICAgICAgICBjb25zdCBwb2x5ID0gdGhpcy5pc0Nsb3NlZCA/IG5ldyBQb2x5Z29uKCkgOiBuZXcgUG9seWxpbmUoKTtcbiAgICAgICAgZm9yIChsZXQgbCA9IDA7IGwgPCB0aGlzLmxvb3BDb3VudDsgbCsrKSB7XG5cbiAgICAgICAgICAgIC8vIEJ1aWxkIHVwIGEgcG9seWdvbiBmcm9tIHBhdGggY29tbWFuZHNcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHtcbiAgICAgICAgICAgICAgICBtb3ZlVG86ICh4LCB5KSA9PiBwb2x5LmFkZFBvaW50KHgsIHksIGwpLFxuICAgICAgICAgICAgICAgIGxpbmVUbzogKHgsIHkpID0+IHBvbHkuYWRkUG9pbnQoeCwgeSwgbCksXG4gICAgICAgICAgICAgICAgYmV6aWVyQ3VydmVUbyhjcDF4LCBjcDF5LCBjcDJ4LCBjcDJ5LCB4LCB5KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IGxhc3QgYWRkZWQgcG9pbnQuIE5vdGUgdGhhdCBpdCBhbHdheXMgZXhpc3RzLCBiZWNhdXNlIHJ1bkxvb3AoKSBhbHdheXMgc3RhcnRzIHdpdGggbW92ZVRvLlxuICAgICAgICAgICAgICAgICAgICAvLyBzbyB3ZSBrbm93IGZvciBzdXJlIHRoYXQgPj0xIHBvaW50cyB3ZXJlIGFscmVhZHkgYWRkZWQgdG8gdGhpcyBwb2x5Z29uIGxvb3AuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50cyA9IHBvbHkuX2xvb3BzW2xdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0ID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBjb21wdXRlIGJib3ggb2YgdGhlIGFyYyAtIHdoaWNoIHdlIHVzZSBhcyBhbiBlc3RpbWF0ZSBmb3IgcmVxdWlyZWQgYWNjdXJhY3lcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJjQm94ID0gdG1wQm94Mi5tYWtlRW1wdHkoKTtcbiAgICAgICAgICAgICAgICAgICAgYXJjQm94LmV4cGFuZEJ5UG9pbnQobGFzdCk7XG4gICAgICAgICAgICAgICAgICAgIGFyY0JveC5leHBhbmRCeVBvaW50KHRtcFZlYzIuc2V0KHgseSkpO1xuICAgICAgICAgICAgICAgICAgICBhcmNCb3guZXhwYW5kQnlQb2ludCh0bXBWZWMyLnNldChjcDF4LCBjcDF5KSk7XG4gICAgICAgICAgICAgICAgICAgIGFyY0JveC5leHBhbmRCeVBvaW50KHRtcFZlYzIuc2V0KGNwMngsIGNwMnkpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ogPSBhcmNCb3guZ2V0U2l6ZSh0bXBWZWMpLmxlbmd0aCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHNhbXBsZSBhcmMgaW50byBsaW5lVG8oKSBzZWdtZW50c1xuICAgICAgICAgICAgICAgICAgICBBdXRvZGVzay5FeHRlbnNpb25zLkNvbXBHZW9tLlRlc3NlbGF0ZUN1YmljKGN0eCwgbGFzdC54LCBsYXN0LnksIGNwMXgsIGNwMXksIGNwMngsIGNwMnksIHgsIHksIHN6LCB0ZXNzUGFyYW1zKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVsbGlwc2UoY3gsIGN5LCByeCwgcnksIHJvdGF0aW9uLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgY2N3KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdXNlIGVsbGlwc2UgbWF4UmFkaXVzIGEgcmVmZXJlbmNlIGZvciByZXF1aXJlZCBhY2N1cmFjeVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzeiA9IE1hdGgubWF4KHJ4LCByeSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIHRlc3NlbGF0aW9uIHBhcmFtc1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhTZWdtZW50cyA9IHRlc3NQYXJhbXMubnVtSXRlcmF0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWluU2VnbWVudExlbmd0aCA9IHRlc3NQYXJhbXMubWluU2VnTGVuRnJhY3Rpb24gKiBzejtcblxuICAgICAgICAgICAgICAgICAgICAvLyB0ZXNzZWxhdGUgYXJjXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFyYyA9IGdldFRtcEFyYygpLnNldChjeCwgY3ksIHJ4LCByeSwgcm90YXRpb24sIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBjY3cpO1xuICAgICAgICAgICAgICAgICAgICBhcmMudGVzc2VsYXRlKGN0eCwgbWF4U2VnbWVudHMsIG1pblNlZ21lbnRMZW5ndGgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2xvc2VQYXRoOiAoKSA9PiB7fSAvLyBQb2x5Z29uIGlzIGNsb3NlZCBhbnl3YXkuXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcnVuTG9vcChjdHgsIHRoaXMsIGwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwb2x5O1xuICAgIH1cblxuICAgIGNvbXB1dGVCQm94KCkge1xuICAgICAgICAvLyBDb21wdXRlIGJib3ggb2YgYWxsIHZlcnRpY2VzXG4gICAgICAgIHN1cGVyLmNvbXB1dGVCQm94KCk7XG5cbiAgICAgICAgLy8gQ29uc2lkZXIgQmV6aWVyIGFyY3M6IEJ5IGRlZmluaXRpb24sIEJlemllciBjdXJ2ZXMgYXJlIGFsd2F5cyBib3VuZGVkIGJ5IHRoZSBjb252ZXggaHVsbCBvZiB0aGVpciBjb250cm9sXG4gICAgICAgIC8vIHBvaW50cy4gVGhlcmVmb3JlLCB3ZSBjYW4gc2ltcGx5IGFkZCB0aGUgY29udHJvbCBwb2ludHMgdG8gdGhlIGJib3guXG4gICAgICAgIC8vXG4gICAgICAgIC8vIE5vdGU6IFRoZSBiYm94ZXMgb2J0YWluZWQgYnkgdGhpcyBzaW1wbGUgYXBwcm9hY2ggYXJlIG9ubHkgZ3VhcmFudGVlZCB0byBjb250YWluIHRoZSBjdXJ2ZS4gQnV0LCB0aGV5IGFyZSBub3QgZ3VhcmFudGVlZCB0byBiZSBtaW5pbWFsLlxuICAgICAgICAvLyAgICAgICBUaGlzIGlzIG5vdCBhIGJpZyBpc3N1ZSBmb3IgbW9zdCB1c2VzIChoaXRUZXN0LCBkcmF3aW5nIGV0Yy4pLiBJbiBjYXNlIGl0IGJlY29tZXMgYSBwcm9ibGVtIGFueXdoZXJlLCB3ZSBuZWVkIGEgYmV0dGVyIHNvbHV0aW9uIGhlcmUsIGUuZy5cbiAgICAgICAgLy8gICAgICAgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjQ4MDk5NzgvY2FsY3VsYXRpbmctdGhlLWJvdW5kaW5nLWJveC1vZi1jdWJpYy1iZXppZXItY3VydmVcbiAgICAgICAgY29uc3QgY3AgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuICAgICAgICBmb3IgKGxldCBsPTA7IGw8dGhpcy5sb29wQ291bnQ7IGwrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaT0wOyBpPHRoaXMuZ2V0VmVydGV4Q291bnQobCk7IGkrKykge1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNCZXppZXJBcmMoaSwgbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGNvbnRyb2wgcG9pbnQgMVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldENvbnRyb2xQb2ludChpLCAxLCBsLCBjcCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmJveC5leHBhbmRCeVBvaW50KGNwKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgY29udHJvbCBwb2ludCAyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q29udHJvbFBvaW50KGksIDIsIGwsIGNwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYm94LmV4cGFuZEJ5UG9pbnQoY3ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmlzRWxsaXBzZUFyYyhpLCBsKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhcmMgPSB0aGlzLmV4cG9ydEVsbGlwc2VBcmMoaSwgbCwgZ2V0VG1wQXJjKCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJib3gudW5pb24oYXJjLmNvbXB1dGVCQm94KHRtcEJveDIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoaXRUZXN0KHgsIHksIGhpdFJhZGl1cywgbWl0ZXJMaW5lV2lkdGggPSAwKSB7XG4gICAgICAgIGNvbnN0IHBvbHkgPSB0aGlzLnRvUG9seSgpO1xuICAgICAgICByZXR1cm4gcG9seS5oaXRUZXN0KHgsIHksIGhpdFJhZGl1cywgbWl0ZXJMaW5lV2lkdGgpO1xuICAgIH1cblxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IFBhdGgoKS5jb3B5KHRoaXMpO1xuICAgIH1cblxuICAgIC8vIEBwYXJhbSB7UGF0aH0gc3JjUGF0aFxuICAgIC8vIEBwYXJhbSB7bnVtYmVyfSBzcmNMb29wSW5kZXggbG9vcCBpbiBzcmNQYXRoIHRvIGNvcHlcbiAgICAvLyBAcGFyYW0ge251bWJlcn0gW2RzdExvb3BJbmRleF0gT3B0aW9uYWw6IGluZGV4IHdoZXJlIHRvIGluc2VydCB0aGUgbmV3IGxvb3AuIEJ5IGRlZmF1bHQsIHdlIHVzZSB0aGUgZmlyc3QgZnJlZSBsb29wSW5kZXguXG4gICAgYWRkTG9vcChzcmNQYXRoLCBzcmNMb29wSW5kZXggPSAwLCBkc3RMb29wSW5kZXggPSAtMSkge1xuXG4gICAgICAgIC8vIElmIGRzdExvb3AgaXMgbm90IHNldCwgaXQgd2lsbCBiZSBjaG9zZW4gYnkgdGhlIHN1cGVyLmFkZExvb3AoKS5cbiAgICAgICAgZHN0TG9vcEluZGV4ID0gc3VwZXIuYWRkTG9vcChzcmNQYXRoLCBzcmNMb29wSW5kZXgsIGRzdExvb3BJbmRleCk7XG5cbiAgICAgICAgY29uc3Qgc3JjUG9pbnRzID0gc3JjUGF0aC5fbG9vcHNbc3JjTG9vcEluZGV4XTtcbiAgICAgICAgY29uc3QgZHN0UG9pbnRzID0gdGhpcy5fbG9vcHNbZHN0TG9vcEluZGV4XTtcblxuICAgICAgICAvLyBDb3B5IGV4dHJhIGluZm9ybWF0aW9uIGZvciBhcmNzXG4gICAgICAgIGZvciAobGV0IGk9MDsgaTxzcmNQb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBzcmNQYXRoLmdldEVkZ2VUeXBlKGksIHNyY0xvb3BJbmRleCk7XG5cbiAgICAgICAgICAgIC8vIExpbmUgc2VnbWVudHMgYXJlIGZ1bGx5IGhhbmRsZWQgYnkgdGhlIGJhc2UgY2xhc3MgYWxyZWFkeVxuICAgICAgICAgICAgaWYgKHR5cGUgPT09IEVkZ2VUeXBlLkxpbmUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc3JjID0gc3JjUG9pbnRzW2ldO1xuICAgICAgICAgICAgY29uc3QgZHN0ID0gZHN0UG9pbnRzW2ldO1xuXG4gICAgICAgICAgICBkc3QuYXJjVHlwZSA9IHNyYy5hcmNUeXBlO1xuXG4gICAgICAgICAgICBzd2l0Y2godHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgRWRnZVR5cGUuQmV6aWVyOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvcHkgY29udHJvbCBwb2ludHNcbiAgICAgICAgICAgICAgICAgICAgZHN0LmNwMXggPSBzcmMuY3AxeDtcbiAgICAgICAgICAgICAgICAgICAgZHN0LmNwMXkgPSBzcmMuY3AxeTtcbiAgICAgICAgICAgICAgICAgICAgZHN0LmNwMnggPSBzcmMuY3AyeDtcbiAgICAgICAgICAgICAgICAgICAgZHN0LmNwMnkgPSBzcmMuY3AyeTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgRWRnZVR5cGUuRWxsaXBzZToge1xuICAgICAgICAgICAgICAgICAgICAvLyBjb3B5IGFyYyBwYXJhbXNcbiAgICAgICAgICAgICAgICAgICAgZHN0LmVsbGlwc2VBcmNQYXJhbXMgPSBzcmMuZWxsaXBzZUFyY1BhcmFtcyAmJiBzcmMuZWxsaXBzZUFyY1BhcmFtcy5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1vZGlmaWVkKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIG1vdmVMb29wKGR4LCBkeSwgbG9vcEluZGV4KSB7XG4gICAgICAgIHN1cGVyLm1vdmVMb29wKGR4LCBkeSwgbG9vcEluZGV4KTtcblxuICAgICAgICAvLyBNb3ZlIGFmZmVjdGVkIGNvbnRyb2wgcG9pbnRzIGFzIHdlbGxcbiAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5fbG9vcHNbbG9vcEluZGV4XTtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzQmV6aWVyQXJjKGksIGxvb3BJbmRleCkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcCA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgIHAuY3AxeCArPSBkeDtcbiAgICAgICAgICAgIHAuY3AxeSArPSBkeTtcbiAgICAgICAgICAgIHAuY3AyeCArPSBkeDtcbiAgICAgICAgICAgIHAuY3AyeSArPSBkeTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdGUgdGhhdCBmb3IgRWxsaXBzZSBhcmNzLCBpdCBpcyBzdWZmaWNpZW50IHRvIG1vdmUgc3RhcnQvZW5kIGxpa2UgZm9yIGxpbmUgc2VnbWVudHMuXG4gICAgfVxuXG4gICAgZ2V0QXJlYShtZWFzdXJlVHJhbnNmb3JtKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0Nsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRvZG86IElmIHBlcmZvcm1hbmNlIGJlY29tZXMgYW4gaXNzdWUsIHRoaXMgY2FuIGJlIG9wdGltaXplZCBieSBhIGxlc3MgYnJ1dGUtZm9yY2Ugd2F5LlxuICAgICAgICBjb25zdCBwb2x5ID0gdGhpcy50b1BvbHkoQXJlYVRlc3NQYXJhbSk7XG5cbiAgICAgICAgLy8gU2luY2UgcG9seSBpcyBqdXN0IHRlbXBvcmFyeSwgd2UgY2FuIGp1c3Qgc2hhcmUgdGhlIGxvb3AgaW5mb3MgdG8gcHJldmVudCBwb2x5LmdldEFyZWEoKVxuICAgICAgICAvLyBmcm9tIGNvbXB1dGluZyB0aGVtIGFnYWluLlxuICAgICAgICBwb2x5Ll9sb29wSW5mb3MgPSB0aGlzLl9nZXRMb29wSW5mb3MoKTtcblxuICAgICAgICByZXR1cm4gcG9seS5nZXRBcmVhKG1lYXN1cmVUcmFuc2Zvcm0pO1xuICAgIH1cblxuICAgIGdldExlbmd0aChtZWFzdXJlVHJhbnNmb3JtKSB7XG4gICAgICAgIGNvbnN0IHBvbHkgPSB0aGlzLnRvUG9seSgpO1xuICAgICAgICByZXR1cm4gcG9seS5nZXRMZW5ndGgobWVhc3VyZVRyYW5zZm9ybSk7XG4gICAgfVxuXG4gICAgLy8gR2V0IHBvaW50IG9uIHNlZ21lbnQuIFRoaXMgcmVmaW5lcyB0aGUgaW1wbGVtZW50YXRpb25cbiAgICAvLyBvZiBQb2x5QmFzZSBieSBzdXBwb3J0aW5nIGFyYyBzZWdtZW50cy5cbiAgICBnZXRQb2ludE9uRWRnZShzZWdtZW50SW5kZXgsIHQsIGxvb3BJbmRleCA9IDAsIHRhcmdldCA9IG5ldyBUSFJFRS5WZWN0b3IyKCkpIHtcblxuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLl9sb29wc1tsb29wSW5kZXhdO1xuICAgICAgICBjb25zdCB0eXBlID0gdGhpcy5nZXRFZGdlVHlwZShzZWdtZW50SW5kZXgsIGxvb3BJbmRleCk7XG4gICAgICAgIHN3aXRjaCh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIEVkZ2VUeXBlLkxpbmU6IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFZGdlVHlwZS5CZXppZXI6IHtcbiAgICAgICAgICAgICAgICAvLyBnZXQgc2VnbWVudCBzdGFydC9lbmRcbiAgICAgICAgICAgICAgICBjb25zdCBhID0gcG9pbnRzW3NlZ21lbnRJbmRleF07XG4gICAgICAgICAgICAgICAgY29uc3QgYiA9IHBvaW50c1t0aGlzLm5leHRJbmRleChzZWdtZW50SW5kZXgpXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBBdXRvZGVzay5FeHRlbnNpb25zLkNvbXBHZW9tLmdldEN1YmVCZXppZXJQb2ludCh0LCBhLngsIGEueSwgYS5jcDF4LCBhLmNwMXksIGEuY3AyeCwgYS5jcDJ5LCBiLngsIGIueSwgdGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgRWRnZVR5cGUuRWxsaXBzZToge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFyYyA9IHRoaXMuZXhwb3J0RWxsaXBzZUFyYyhzZWdtZW50SW5kZXgsIGxvb3BJbmRleCwgZ2V0VG1wQXJjKCkpO1xuXG4gICAgICAgICAgICAgICAgLy8gaWdub3JlIGFyY3Mgd2l0aCBOYU4gdmFsdWVzXG4gICAgICAgICAgICAgICAgaWYgKCFhcmMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYXJjLmdldFBvaW50KHQsIHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OiBhdnAubG9nZ2VyLmVycm9yKCd1bmV4cGVjdGVkIGVkZ2UgdHlwZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLmdldFBvaW50T25FZGdlKHNlZ21lbnRJbmRleCwgdCwgbG9vcEluZGV4LCB0YXJnZXQpO1xuICAgIH1cblxuICAgIC8vIFJ1biBtb3ZlVG8vbGluZVRvL2FyY1RvL2Nsb3NlUGF0aCBjYWxscyBvbiBhIGdpdmVuIGNvbnRleHQgb2JqZWN0LlxuICAgIC8vICBAcGFyYW0ge1BhdGgyZHxMbXZDYW52YXNDb250ZXh0fE9iamVjdH0gY3R4ICAgIC0gUmVjZWl2ZXMgdGhlIGNhbGxiYWNrIGNhbGxzLCBpLmUuIG1vdmVUbywgbGluZVRvLCBiZXppZXJDdXJ2ZVRvLCBjbG9zZVBhdGggZXRjLiAoc2VlIFBhdGgyRClcbiAgICBydW5QYXRoQ29tbWFuZHMoY3R4KSB7XG4gICAgICAgIHJ1blBhdGgoY3R4LCB0aGlzKTtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm5zIGZhbHNlIGlmIGFsbCBlZGdlcyBvZiBhbGwgbG9vcHMgYXJlIGxpbmUgc2VnbWVudHMuXG4gICAgaGFzQXJjcygpIHtcbiAgICAgICAgY29uc3QgZmlsdGVyID0gKHZlcnRleEluZGV4LCBsb29wSW5kZXgpID0+IHRoaXMuaXNBcmModmVydGV4SW5kZXgsIGxvb3BJbmRleCk7XG4gICAgICAgIHJldHVybiBCb29sZWFuKHRoaXMuZmluZFZlcnRleChmaWx0ZXIpKTtcbiAgICB9XG59XG5cbi8vIEFsaWFzIHRoYXQgY2FuIGJlIHVzZWQgZm9yIFBvbHlsaW5lL1BvbHlnb24gcGF0aHMuIFVzZSBvbmx5IGlmIHlvdSBkb24ndCBpbnRlbmQgdG8gY2hhbmdlIHRoZSBpc0Nsb3NlZCBwcm9wIGR1cmluZyBsaWZldGltZS5cbmV4cG9ydCBjbGFzcyBQb2x5Z29uUGF0aCBleHRlbmRzIFBhdGgge1xuICAgIGNvbnN0cnVjdG9yKHBvaW50cywgc3R5bGUpIHtcbiAgICAgICAgc3VwZXIocG9pbnRzLCB0cnVlLCBzdHlsZSk7XG4gICAgfVxufTtcblxuZXhwb3J0IGNsYXNzIFBvbHlsaW5lUGF0aCBleHRlbmRzIFBhdGgge1xuICAgIGNvbnN0cnVjdG9yKHBvaW50cywgc3R5bGUpIHtcbiAgICAgICAgc3VwZXIocG9pbnRzLCBmYWxzZSwgc3R5bGUpO1xuICAgIH1cbn07XG5cbmV4cG9ydCBjbGFzcyBDaXJjbGUgZXh0ZW5kcyBTaGFwZSB7XG5cbiAgICAvLyBOb3RlOiBUaGUgdGVzc1NlZ21lbnRzIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgbGF0ZXIgd2hlbiB0aGUgaW1wbGVtZW50YXRpb24gdXNlcyBhcmNzIGZyb20gTGluZVNoYWRlciBkaXJlY3RseS5cbiAgICBjb25zdHJ1Y3RvcihjZW50ZXJYID0gMC4wLCBjZW50ZXJZID0gMC4wLCByYWRpdXMgPSAxLjAsIHN0eWxlID0gRGVmYXVsdFN0eWxlLmNsb25lKCksIHRlc3NTZWdtZW50cyA9IDIwKSB7XG4gICAgICAgIHN1cGVyKHN0eWxlKTtcblxuICAgICAgICB0aGlzLnBvbHlnb24gPSBuZXcgUG9seWdvbihbXSwgc3R5bGUpO1xuXG4gICAgICAgIC8vIEZvcmNlIHBvbHlnb24uaWQgdG8gYmUgdGhlIHNhbWUsIHNvIHRoYXQgaXRzIGdlb21ldHJ5IGlzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIENpcmNsZS5cbiAgICAgICAgLy8gVGhpcyBpcyBhIGJpdCBoYWNreSwgYnV0IGNhbiBiZSByZW1vdmVkIGFzIHNvb24gYXMgd2UgdXNlIG5hdGl2ZSBhcmNzIGZvciBjaXJjbGUgcmVuZGVyaW5nLlxuICAgICAgICB0aGlzLnBvbHlnb24uaWQgPSB0aGlzLmlkO1xuXG4gICAgICAgIHRoaXMuY2VudGVyWCA9IGNlbnRlclg7XG4gICAgICAgIHRoaXMuY2VudGVyWSA9IGNlbnRlclk7XG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuICAgICAgICB0aGlzLnRlc3NTZWdtZW50cyA9IHRlc3NTZWdtZW50cztcblxuICAgICAgICB0aGlzLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBkcmF3KGN0eCwgb3ZlcnJpZGVTdHlsZSkge1xuXG4gICAgICAgIHRoaXMucG9seWdvbi5wb2ludHMubGVuZ3RoID0gMDtcblxuICAgICAgICAvLyBhbmdsZSBkZWx0YSBpbiBkZWdyZWVzXG4gICAgICAgIGNvbnN0IHN0ZXBTaXplID0gMzYwIC8gdGhpcy50ZXNzU2VnbWVudHM7XG4gICAgICAgIGZvciAobGV0IGFuZ2xlID0gMDsgYW5nbGUgPCAzNjA7IGFuZ2xlICs9IHN0ZXBTaXplKSB7XG5cbiAgICAgICAgICAgIGxldCBhID0gYW5nbGUgKiBNYXRoLlBJIC8gMTgwO1xuICAgICAgICAgICAgbGV0IHggPSB0aGlzLnJhZGl1cyAqIE1hdGguY29zKGEpO1xuICAgICAgICAgICAgbGV0IHkgPSB0aGlzLnJhZGl1cyAqIE1hdGguc2luKGEpO1xuXG4gICAgICAgICAgICB0aGlzLnBvbHlnb24uYWRkUG9pbnQodGhpcy5jZW50ZXJYICsgeCwgdGhpcy5jZW50ZXJZICsgeSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm5lZWRzVXBkYXRlID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5wb2x5Z29uLmRyYXcoY3R4LCBvdmVycmlkZVN0eWxlKTtcbiAgICB9XG5cbiAgICBzZXRDZW50ZXIoeCwgeSkge1xuICAgICAgICB0aGlzLmNlbnRlclggPSB4O1xuICAgICAgICB0aGlzLmNlbnRlclkgPSB5O1xuICAgICAgICB0aGlzLm1vZGlmaWVkKCk7XG4gICAgfVxuXG4gICAgbW92ZShkeCwgZHkpIHtcbiAgICAgICAgdGhpcy5jZW50ZXJYICs9IGR4O1xuICAgICAgICB0aGlzLmNlbnRlclkgKz0gZHk7XG4gICAgICAgIHRoaXMubW9kaWZpZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgaGl0VGVzdCh4LCB5KSB7XG4gICAgICAgIGNvbnN0IGR4ID0geCAtIHRoaXMuY2VudGVyWDtcbiAgICAgICAgY29uc3QgZHkgPSB5IC0gdGhpcy5jZW50ZXJZO1xuICAgICAgICByZXR1cm4gKGR4ICogZHggKyBkeSAqIGR5KSA8IHRoaXMucmFkaXVzICogdGhpcy5yYWRpdXM7XG4gICAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2lyY2xlKCkuY29weSh0aGlzKTtcbiAgICB9XG5cbiAgICBjb3B5KGZyb20pIHtcbiAgICAgICAgc3VwZXIuY29weShmcm9tKTtcbiAgICAgICAgdGhpcy5wb2x5Z29uID0gZnJvbS5wb2x5Z29uLmNsb25lKCk7XG4gICAgICAgIHRoaXMuY2VudGVyWCA9IGZyb20uY2VudGVyWDtcbiAgICAgICAgdGhpcy5jZW50ZXJZID0gZnJvbS5jZW50ZXJZO1xuICAgICAgICB0aGlzLnJhZGl1cyA9IGZyb20ucmFkaXVzO1xuICAgICAgICB0aGlzLnRlc3NTZWdtZW50cyA9IGZyb20udGVzc1NlZ21lbnRzO1xuICAgICAgICB0aGlzLm1vZGlmaWVkKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNvbXB1dGVCQm94KCkge1xuICAgICAgICB0aGlzLmJib3gubWluLnNldCh0aGlzLmNlbnRlclggLSB0aGlzLnJhZGl1cywgdGhpcy5jZW50ZXJZIC0gdGhpcy5yYWRpdXMpO1xuICAgICAgICB0aGlzLmJib3gubWF4LnNldCh0aGlzLmNlbnRlclggKyB0aGlzLnJhZGl1cywgdGhpcy5jZW50ZXJZICsgdGhpcy5yYWRpdXMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNoYXBlV3JhcHBlciBleHRlbmRzIFNoYXBlIHtcblxuICAgIC8vIEBwYXJhbSB7U2hhcGV9IHNoYXBlIC0gbXVzdCBub3QgYmUgbnVsbFxuICAgIGNvbnN0cnVjdG9yKHNoYXBlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc2hhcGUgPSBzaGFwZTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2Jib3gnLCB7XG4gICAgICAgICAgICBnZXQ6ICgpICAgICA9PiB0aGlzLnNoYXBlLmJib3gsXG4gICAgICAgICAgICBzZXQ6IChiYm94KSA9PiB7IHRoaXMuc2hhcGUuYmJveCA9IGJib3g7IH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdpZCcsIHtcbiAgICAgICAgICAgIGdldDogKCkgICAgID0+IHRoaXMuc2hhcGUuaWQsXG4gICAgICAgICAgICBzZXQ6IChpZCkgPT4geyB0aGlzLnNoYXBlLmlkID0gaWQ7IH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdiYm94RGlydHknLCB7XG4gICAgICAgICAgICBnZXQ6ICgpICAgICA9PiB0aGlzLnNoYXBlLmJib3hEaXJ0eSxcbiAgICAgICAgICAgIHNldDogKGRpcnR5KSA9PiB7IHRoaXMuc2hhcGUuYmJveERpcnR5ID0gZGlydHk7IH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICduYW1lJywge1xuICAgICAgICAgICAgZ2V0OiAoKSAgICAgPT4gdGhpcy5zaGFwZS5uYW1lLFxuICAgICAgICAgICAgc2V0OiAobmFtZSkgPT4geyB0aGlzLnNoYXBlLm5hbWUgPSBuYW1lOyB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGRyYXcoLi4uYXJncykgICAgICAgIHsgcmV0dXJuIHRoaXMuc2hhcGUuZHJhdyguLi5hcmdzKTsgICAgICAgIH1cbiAgICBoaXRUZXN0KC4uLmFyZ3MpICAgICB7IHJldHVybiB0aGlzLnNoYXBlLmhpdFRlc3QoLi4uYXJncyk7ICAgICB9XG4gICAgbW92ZSguLi5hcmdzKSAgICAgICAgeyByZXR1cm4gdGhpcy5zaGFwZS5tb3ZlKC4uLmFyZ3MpOyAgICAgICAgfVxuICAgIG1vZGlmaWVkKC4uLmFyZ3MpICAgIHsgcmV0dXJuIHRoaXMuc2hhcGUubW9kaWZpZWQoLi4uYXJncyk7ICAgIH1cbiAgICBjb21wdXRlQkJveCguLi5hcmdzKSB7IHJldHVybiB0aGlzLnNoYXBlLmNvbXB1dGVCQm94KC4uLmFyZ3MpOyB9XG4gICAgdXBkYXRlQkJveCguLi5hcmdzKSAgeyByZXR1cm4gdGhpcy5zaGFwZS51cGRhdGVCQm94KC4uLmFyZ3MpOyAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2hhcGVXcmFwcGVyKHRoaXMuc2hhcGUuY2xvbmUoKSk7XG4gICAgfVxuXG4gICAgY29weShmcm9tKSB7XG4gICAgICAgIHRoaXMuc2hhcGUuY29weShmcm9tLnNoYXBlKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiTWF0aDJEIiwiU3ZnIiwiY29tcHV0ZUxvb3BDb250YWlubWVudCIsIlZlY3RvcjIiLCJuZXh0U2hhcGVJZCIsImF2IiwiQXV0b2Rlc2siLCJWaWV3aW5nIiwidG9Db2xvciIsInIiLCJnIiwiYiIsImNsb25lVmVjdG9yQXJyYXkiLCJzcmMiLCJtYXAiLCJwIiwieCIsInkiLCJBcmVhVGVzc1BhcmFtIiwibnVtSXRlcmF0aW9ucyIsIm1pblNlZ0xlbkZyYWN0aW9uIiwidG1wVmVjMyIsIlRIUkVFIiwiVmVjdG9yMyIsInRtcFZlYzNfMiIsInRtcEJveDIiLCJCb3gyIiwidG1wVmVjMiIsIlN0eWxlIiwiY29uc3RydWN0b3IiLCJwYXJhbXMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJsaW5lQ29sb3IiLCJjb2xvciIsImxpbmVBbHBoYSIsImFscGhhIiwibGluZVdpZHRoIiwiaXNNaXRlckxpbmUiLCJmaWxsQ29sb3IiLCJmaWxsQWxwaGEiLCJsaW5lU3R5bGUiLCJpc1NjcmVlblNwYWNlIiwiY29tcG9zaXRlT3BlcmF0aW9uIiwic2V0RmlsbENvbG9yIiwic2V0TGluZUNvbG9yIiwiY2xvbmUiLCJjb3B5IiwiZnJvbSIsIkRlZmF1bHRTdHlsZSIsImFkZFBvaW50c1RvQkJveCIsInBvaW50cyIsImRzdEJveCIsImkiLCJleHBhbmRCeVBvaW50IiwiU2hhcGUiLCJFdmVudERpc3BhdGNoZXIiLCJzdHlsZSIsImlkIiwiYmJveCIsImJib3hEaXJ0eSIsInZpc2libGUiLCJtb3ZhYmxlIiwic2VsZWN0YWJsZSIsIm5hbWUiLCJ0b1N0cmluZyIsImRyYXciLCJoaXRUZXN0IiwibW92ZSIsImFwcGx5TWF0cml4NCIsIm1hdHJpeCIsImNvbXB1dGVCQm94IiwiY29uc29sZSIsImVycm9yIiwibW9kaWZpZWQiLCJmaXJlRXZlbnQiLCJ0eXBlIiwiRXZlbnRzIiwiTU9ESUZJRUQiLCJ1cGRhdGVCQm94IiwiZ2V0QkJveCIsImZyb21TVkciLCJzdmciLCJmcm9tU3ZnIiwidG9TVkciLCJvcHRpb25zIiwiZGlnaXRzIiwidG9TdmciLCJjcmVhdGVTdmdTaGFwZSIsInRvU3ZnRWxlbWVudCIsInNldFZpc2libGUiLCJHbG9iYWxNYW5hZ2VyTWl4aW4iLCJjYWxsIiwicHJvdG90eXBlIiwiTG9vcFR5cGUiLCJFbXB0eSIsIklubmVyIiwiT3V0ZXIiLCJPdmVybGFwcGluZyIsIlBvbHlCYXNlIiwiX2xvb3BzIiwiaXNDbG9zZWQiLCJfbG9vcEluZm9zIiwibG9vcENvdW50IiwiYWxsb2NQb2ludHMiLCJudW1Qb2ludHMiLCJsb29wSW5kZXgiLCJhZGRQb2ludCIsImlzUG9seWdvbiIsImlzUG9seWxpbmUiLCJpc1BhdGgiLCJQYXRoIiwibG9vcCIsInBvaW50IiwicHVzaCIsImdldFBvaW50IiwiaW5kZXgiLCJ0YXJnZXQiLCJyZW1vdmVQb2ludCIsInNwbGljZSIsInVwZGF0ZVBvaW50IiwiaW5zZXJ0UG9pbnQiLCJ3YXJuIiwidmVydGV4Q291bnQiLCJnZXRWZXJ0ZXhDb3VudCIsImNsZWFyIiwiZW51bUVkZ2VzIiwiY2IiLCJlZGdlQ291bnQiLCJnZXRFZGdlQ291bnQiLCJhaSIsImJpIiwibmV4dEluZGV4IiwiYSIsInN0b3AiLCJpc1BvaW50T25NaXRlckVkZ2UiLCIjaXNQb2ludE9uTWl0ZXJFZGdlIiwicHJlY2lzaW9uIiwicG9pbnRPbk1pdGVyTGluZVNlZ21lbnQiLCJwcmV2SW5kZXgiLCJwcmV2RXhpc3QiLCJuZXh0RXhpc3QiLCJwcmV2UG9pbnQiLCJuZXh0UG9pbnQiLCJvblByZXZKdW5jdGlvbiIsInBvaW50T25NaXRlckxpbmVKdW5jdGlvbiIsIm9uTmV4dEp1bmN0aW9uIiwiZmluZEVkZ2VJbmRleCIsIm1pdGVyTGluZVdpZHRoIiwiZWRnZUluZGV4Iiwib25FZGdlIiwiaXNQb2ludE9uRWRnZSIsIm5lZWRzTWl0ZXJMaW5lcyIsImZpbmRFZGdlQ2IiLCJjb250YWluc1AiLCJtb3ZlTG9vcCIsImR4IiwiZHkiLCJsIiwidHJhbnNmb3JtUG9pbnQiLCJ2ZWMzIiwic2V0IiwiaXNCZXppZXJBcmMiLCJjcCIsImNwMXgiLCJjcDF5IiwiY3AyeCIsImNwMnkiLCJpc0VsbGlwc2VBcmMiLCJlbGxpcHNlQXJjUGFyYW1zIiwiYWRkTG9vcCIsInNyY1BvbHkiLCJzcmNMb29wSW5kZXgiLCJkc3RMb29wSW5kZXgiLCJzcmNMb29wIiwibmV3TG9vcCIsIm5ld0luZGV4IiwibmV4dEZyZWVMb29wIiwiY29weUdlb21ldHJ5IiwibWFrZUVtcHR5IiwiaW5kZXhWYWxpZCIsImlzTGFzdCIsImVkZ2VCZWZvcmVWZXJ0ZXgiLCJlZGdlQWZ0ZXJWZXJ0ZXgiLCJlZGdlSW5kZXhWYWxpZCIsIm5leHRFZGdlSW5kZXgiLCJwcmV2RWRnZUluZGV4IiwicHJldkVkZ2VFeGlzdHMiLCJuZXh0RWRnZUV4aXN0cyIsImlzTGFzdEVkZ2UiLCJnZXRFZGdlIiwib3V0QSIsIm91dEIiLCJpYSIsImliIiwiZ2V0RWRnZURpcmVjdGlvbiIsImdldEVkZ2VMZW5ndGgiLCJnZXRMZW5ndGgiLCJtZWFzdXJlVHJhbnNmb3JtIiwic3VtIiwiYXBwbHkiLCJkaXN0YW5jZVRvIiwiZnJvbUJveDIiLCJib3giLCJtaW4iLCJtYXgiLCJnZXRQb2ludE9uRWRnZSIsInQiLCJwMCIsInAxIiwibGVycFZlY3RvcnMiLCJpc0NDVyIsIkV4dGVuc2lvbnMiLCJDb21wR2VvbSIsInBvbHlnb25BcmVhIiwiZ2V0TGVmdEVkZ2VOb3JtYWwiLCJ2aTEiLCJ2aTIiLCJ2MSIsInYyIiwic3ViVmVjdG9ycyIsIm5vcm1hbGl6ZSIsInRtcCIsImdldE91dGVyTm9ybWFsIiwibm9ybWFsIiwibXVsdGlwbHlTY2FsYXIiLCJpc0ZyZWUiLCJmaW5kSW5kZXgiLCJmaW5kVmVydGV4Iiwic2VhcmNoRmlsdGVyIiwibGVuIiwidmVydGV4SW5kZXgiLCJlbXB0eSIsInNvbWUiLCJpc1NlbGZJbnRlcnNlY3RpbmciLCJsb29wSW5mb3MiLCJfZ2V0TG9vcEluZm9zIiwiZ2V0TG9vcFR5cGUiLCJpbmZvcyIsImluZm8iLCJyYW5rIiwiZ2V0Q2hpbGRMb29wcyIsImNvbnRhaW5lZExvb3BzIiwic2xpY2UiLCJjbGVhbnVwTG9vcHMiLCJmaWx0ZXIiLCJnZXRNYWluTG9vcHMiLCJsb29wcyIsInJlbW92ZUxvb3AiLCJyZW1vdmVMb29wcyIsImluY2x1ZGVzIiwiaXNQb2ludEZpbml0ZSIsInZlcnRleCIsImlzRmluaXRlIiwiaXNMb29wRmluaXRlIiwiY291bnQiLCJQb2x5SW5kZXgiLCJfcmVmIiwiZXF1YWxzIiwidiIsIlBvbHlnb24iLCJjdHgiLCJvdmVycmlkZVN0eWxlIiwiZHJhd1BhdGgiLCJDb21wbGV4UG9seWdvbiIsImNvbnRvdXIiLCJwb2ludEluQ29udG91ciIsIkJvb2xlYW4iLCJnZXRBcmVhIiwic3VtQXJlYSIsImxvb3BJbmZvIiwic2lnbiIsImxvb3BBcmVhIiwiTWF0aCIsImFicyIsIlBvbHlsaW5lIiwibWFrZUxpbmUiLCJ4MCIsInkwIiwieDEiLCJ5MSIsImhpdFJhZGl1cyIsIkVkZ2VUeXBlIiwiTGluZSIsIkJlemllciIsIkVsbGlwc2UiLCJfdG1wQXJjIiwiZ2V0VG1wQXJjIiwiRWxsaXBzZUFyYyIsInRtcFZlYyIsInJ1bkxvb3AiLCJwYXRoIiwib3JpZ1BvaW50cyIsIm1vdmVUbyIsInByb2Nlc3NTZWdtZW50IiwicFN0YXJ0IiwicEVuZCIsImFyY1R5cGUiLCJiZXppZXJDdXJ2ZVRvIiwiYXJjIiwiZXhwb3J0RWxsaXBzZUFyYyIsImlzVmFsaWQiLCJlbGxpcHNlQXJjVG8iLCJyeCIsInJ5IiwiZGVnVG9SYWQiLCJyb3RhdGlvbiIsImxhcmdlQXJjRmxhZyIsInN3ZWVwRmxhZyIsImVsbGlwc2UiLCJjeCIsImN5Iiwic3RhcnRBbmdsZSIsImVuZEFuZ2xlIiwiY2N3IiwibGluZVRvIiwicHJldiIsInBMYXN0IiwicEZpcnN0IiwiY2xvc2VQYXRoIiwicnVuUGF0aCIsImMiLCJjYW52YXNDb250ZXh0IiwiZGJJZCIsImN1cnJlbnRHbG9iYWxDb21wb3NpdGVPcCIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsImZsdXNoQnVmZmVyIiwiYmVnaW5QYXRoIiwic2V0TWl0ZXJMaW5lIiwiZmlsbFN0eWxlIiwiaGFzT3duUHJvcGVydHkiLCJncmFkaWVudERhdGEiLCJjcmVhdGVHcmFkaWVudERhdGEiLCJnZXRGaWxsU3R5bGUiLCJnbG9iYWxBbHBoYSIsImZpbGwiLCJzdHJva2VTdHlsZSIsIndpbmRvdyIsImRldmljZVBpeGVsUmF0aW8iLCJzdHJva2UiLCJCZXppZXJBcmNQYXJhbXMiLCJFbGxpcHNlQXJjUGFyYW1zIiwicm90YXRlIiwiYW5nbGUiLCJ0cnVuYyIsInNjYWxlIiwiZmFjdG9yIiwiYXhpcyIsInN1YiIsInJvdEFuZ2xlIiwicmFkVG9EZWciLCJhdGFuMiIsImNoYW5nZXNPcmllbnRhdGlvbiIsIl91cGRhdGVFbGxpcHNlQXJjUGFyYW1zIiwibmV3QSIsIm5ld0IiLCJvbGREaXIiLCJuZXdEaXIiLCJkQW5nbGUiLCJhbmdsZUJldHdlZW5EaXJlY3Rpb25zIiwib2xkTGVuZ3RoIiwibmV3TGVuZ3RoIiwiZGlzdGFuY2UyRCIsInNjYWxlVmFsaWQiLCJwTmV3IiwicE5leHQiLCJwcmV2RWRnZSIsInBQcmV2IiwiZ2V0RWRnZVR5cGUiLCJzZWdtZW50SW5kZXgiLCJzZXRCZXppZXJBcmMiLCJpc1BhcmFtT2JqIiwiZ2V0QmV6aWVyQXJjUGFyYW1zIiwic3JjUGFyYW1zIiwic2V0RWxsaXBzZUFyYyIsImFyY1BhcmFtcyIsImdldEVsbGlwc2VBcmNQYXJhbXMiLCJzZXRGcm9tU3ZnQXJjIiwiaXNBcmMiLCJnZXRTdGFydFRhbmdlbnQiLCJvdXRUYXJnZXQiLCJnZXRFbmRUYW5nZW50IiwiZW5kVmVydGV4Iiwic2V0U3RhcnRUYW5nZW50IiwidGFuZ2VudCIsInNldEVuZFRhbmdlbnQiLCJyZW1vdmVBcmMiLCJnZXRDb250cm9sUG9pbnQiLCJjdHJsUG9pbnRJbmRleCIsInVwZGF0ZUNvbnRyb2xQb2ludCIsImN0cmxQb2ludCIsInRvUG9seSIsInRlc3NQYXJhbXMiLCJEZWZhdWx0VGVzc1BhcmFtcyIsInBvbHkiLCJsYXN0IiwiYXJjQm94Iiwic3oiLCJnZXRTaXplIiwiVGVzc2VsYXRlQ3ViaWMiLCJtYXhTZWdtZW50cyIsIm1pblNlZ21lbnRMZW5ndGgiLCJ0ZXNzZWxhdGUiLCJ1bmlvbiIsInNyY1BhdGgiLCJzcmNQb2ludHMiLCJkc3RQb2ludHMiLCJkc3QiLCJnZXRDdWJlQmV6aWVyUG9pbnQiLCJhdnAiLCJsb2dnZXIiLCJydW5QYXRoQ29tbWFuZHMiLCJoYXNBcmNzIiwiUG9seWdvblBhdGgiLCJQb2x5bGluZVBhdGgiLCJDaXJjbGUiLCJjZW50ZXJYIiwiY2VudGVyWSIsInJhZGl1cyIsInRlc3NTZWdtZW50cyIsInBvbHlnb24iLCJuZWVkc1VwZGF0ZSIsInN0ZXBTaXplIiwiUEkiLCJjb3MiLCJzaW4iLCJzZXRDZW50ZXIiLCJTaGFwZVdyYXBwZXIiLCJzaGFwZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwiZGlydHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Edit2D/EditShapes.js\n");

/***/ }),

/***/ "./extensions/Edit2D/EllipseArcGizmo.js":
/*!**********************************************!*\
  !*** ./extensions/Edit2D/EllipseArcGizmo.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EllipseArcGizmo: () => (/* binding */ EllipseArcGizmo),\n/* harmony export */   getEllipseArcEdgeParams: () => (/* binding */ getEllipseArcEdgeParams)\n/* harmony export */ });\n/* harmony import */ var _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditShapes.js */ \"./extensions/Edit2D/EditShapes.js\");\n/* harmony import */ var _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CanvasGizmo.js */ \"./extensions/Edit2D/CanvasGizmo.js\");\n/* harmony import */ var _Actions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Actions.js */ \"./extensions/Edit2D/Actions.js\");\n\n\n\n\n\nconst tmpVec2 = new THREE.Vector2();\n\n// Get ellipse arc params in a way that the edge is bended inside or outside wrt.\n// to the outer loop.\n//\n// @param {Path}   path       - not changed\n// @param {number} edgeIndex  - edge for which we compute the arc params\n// @param {number} loopIndex\n// @param {number} bendRadius - Signed distance between line-segment center and arc center.\n//                                 Positive values for outside, negative for inside.\n// @param {EllipseArcParams} [target]\n// @returns {EllipseArcParams}\nconst getEllipseArcEdgeParams = (path, edgeIndex, loopIndex, bendRadius, target) => {\n\n  const params = target || new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EllipseArcParams();\n\n  // compute ellipse rotation, so that ellipse x-axis is parallel to the edge\n  const dir = path.getEdgeDirection(edgeIndex, loopIndex, tmpVec2);\n  const angle = Math.atan2(dir.y, dir.x);\n  params.rotation = THREE.Math.radToDeg(angle);\n\n  // Compute radius in a way that ellipse center matches with line-segment center\n  params.rx = 0.5 * path.getEdgeLength(edgeIndex, loopIndex);\n\n  // Apply bending by varying y-radius\n  params.ry = Math.abs(bendRadius);\n\n  // Always use shortest connection\n  params.largeArcFlag = false;\n\n  // Make sure that positive bendRadius bends outside, negative inside\n  params.sweepFlag = Boolean(path.isCCW(loopIndex) ^ bendRadius < 0);\n\n  return params;\n};\n\n// Gizmo class to pull ellipse arc centers. The gizmo implements the full interaction, but\n// the owner controls when startDrag(), moveDrag(), and endDrag() are called.\nclass EllipseArcGizmo extends _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_1__.EdgeGizmo {\n\n  constructor(layer, gizmoManager, undoStack, visible) {\n    super(layer, visible);\n\n    this.container.classList.add('ellipse-arc-gizmo');\n\n    this.dragging = false;\n\n    // arc params when drag had started\n    this.dragStartParams = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EllipseArcParams();\n\n    // delta between exact dragStart position and gizmo-center at dragStart\n    this.dragOffset = new THREE.Vector2();\n\n    // tmp values\n    this.tmpVec = new THREE.Vector2();\n    this.tmpVec2 = new THREE.Vector2();\n    this.tmpVec3 = new THREE.Vector2();\n    this.tmpParams = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EllipseArcParams();\n\n    this.gizmoManager = gizmoManager;\n    this.undoStack = undoStack;\n  }\n\n  isUnderMouse() {\n    return this.visible && this.edgeValid() && this.gizmoManager.isUnderMouse(this);\n  }\n\n  startDrag(canvasX, canvasY) {\n\n    // Stop here if there is nothing to drag\n    if (!this.edgeValid() || !this.isUnderMouse()) {\n      return false;\n    }\n\n    // Usually, dragging will be false here unless in weird focus-change scenarios\n    if (this.dragging) {\n      return true;\n    }\n\n    this.dragging = true;\n\n    // Highlight in green while dragging\n    this.setSelected(true);\n\n    // Store offset between exact mouse pos and the vertex we are dragging\n    const pos = this.layerPos;\n    const posScreen = this.layer.layerToCanvas(pos.x, pos.y);\n    this.dragOffset.set(posScreen.x - canvasX, posScreen.y - canvasY);\n\n    // Backup initial arc params\n    this.poly.getEllipseArcParams(this.edgeIndex, this.loopIndex, this.dragStartParams);\n\n    return true;\n  }\n\n  moveDrag(canvasX, canvasY) {\n\n    if (!this.dragging) {\n      return false;\n    }\n\n    // Compute layer position of the gizmo after drag\n    // Note that the vertex we are dragging does not always match exactly with the mouse position.\n    // E.g., we may have picked the bottom-left boundary of a vertex gizmo at drag-start.\n    const x = canvasX + this.dragOffset.x;\n    const y = canvasY + this.dragOffset.y;\n    const p = this.layer.canvasToLayer(x, y);\n\n    // Compute vector (a => p), where a is the edge start\n    const a = this.poly.getPoint(this.edgeIndex, this.loopIndex, this.tmpVec);\n    const diff = this.tmpVec2.copy(p).sub(a); // vector from edge start towards new gizmo position\n\n    // Compute distance of the new gizmo position from edge spanned by line segment (a,b)\n    const normal = this.poly.getOuterNormal(this.edgeIndex, this.loopIndex, this.tmpVec3);\n    const signedDistance = diff.dot(normal);\n\n    // Configure ellipse arc, so that the distance of the arc midpoint is the same\n    const params = getEllipseArcEdgeParams(this.poly, this.edgeIndex, this.loopIndex, signedDistance, this.tmpParams);\n\n    // Update polygon\n    this.poly.setEllipseArc(this.edgeIndex, params, this.loopIndex);\n    this.update();\n    this.layer.update();\n\n    return true;\n  }\n\n  endDrag(canvasX, canvasY) {\n    this.moveDrag(canvasX, canvasY);\n    this.dragging = false;\n\n    const newParams = this.poly.getEllipseArcParams(this.edgeIndex, this.loopIndex, this.tmpParams);\n\n    this.restoreArc();\n    const polyIndex = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.PolyIndex({ vertex: this.edgeIndex, loop: this.loopIndex });\n    this.undoStack.run(new _Actions_js__WEBPACK_IMPORTED_MODULE_2__.Actions.ChangeEdgeType(this.layer, this.poly, polyIndex, _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EdgeType.Ellipse, null, null, newParams));\n\n    // stop highlighting\n    this.setSelected(false);\n  }\n\n  cancelDrag() {\n    this.restoreArc();\n    this.dragging = false;\n    this.layer.update();\n  }\n\n  // Restore state of the arc before dragging it\n  restoreArc() {\n    this.poly.setEllipseArc(this.edgeIndex, this.dragStartParams, this.loopIndex);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL0VkaXQyRC9FbGxpcHNlQXJjR2l6bW8uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQ3dFO0FBQzNCO0FBQ047O0FBRXZDLE1BQU1LLE9BQU8sR0FBRyxJQUFJQyxLQUFLLENBQUNDLE9BQU8sQ0FBQyxDQUFDOztBQUVuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLE1BQU1DLHVCQUF1QixHQUFHQSxDQUFDQyxJQUFJLEVBQUVDLFNBQVMsRUFBRUMsU0FBUyxFQUFFQyxVQUFVLEVBQUVDLE1BQU0sS0FBSzs7RUFFdkYsTUFBTUMsTUFBTSxHQUFHRCxNQUFNLElBQUksSUFBSWIsNERBQWdCLENBQUMsQ0FBQzs7RUFFL0M7RUFDQSxNQUFNZSxHQUFHLEdBQUdOLElBQUksQ0FBQ08sZ0JBQWdCLENBQUNOLFNBQVMsRUFBRUMsU0FBUyxFQUFFTixPQUFPLENBQUM7RUFDaEUsTUFBTVksS0FBSyxHQUFHQyxJQUFJLENBQUNDLEtBQUssQ0FBQ0osR0FBRyxDQUFDSyxDQUFDLEVBQUVMLEdBQUcsQ0FBQ00sQ0FBQyxDQUFDO0VBQ3RDUCxNQUFNLENBQUNRLFFBQVEsR0FBR2hCLEtBQUssQ0FBQ1ksSUFBSSxDQUFDSyxRQUFRLENBQUNOLEtBQUssQ0FBQzs7RUFFNUM7RUFDQUgsTUFBTSxDQUFDVSxFQUFFLEdBQUcsR0FBRyxHQUFHZixJQUFJLENBQUNnQixhQUFhLENBQUNmLFNBQVMsRUFBRUMsU0FBUyxDQUFDOztFQUUxRDtFQUNBRyxNQUFNLENBQUNZLEVBQUUsR0FBR1IsSUFBSSxDQUFDUyxHQUFHLENBQUNmLFVBQVUsQ0FBQzs7RUFFaEM7RUFDQUUsTUFBTSxDQUFDYyxZQUFZLEdBQUcsS0FBSzs7RUFFM0I7RUFDQWQsTUFBTSxDQUFDZSxTQUFTLEdBQUdDLE9BQU8sQ0FBQ3JCLElBQUksQ0FBQ3NCLEtBQUssQ0FBQ3BCLFNBQVMsQ0FBQyxHQUFJQyxVQUFVLEdBQUcsQ0FBRSxDQUFDOztFQUVwRSxPQUFPRSxNQUFNO0FBQ2pCLENBQUM7O0FBRUQ7QUFDQTtBQUNPLE1BQU1rQixlQUFlLFNBQVM3QixzREFBUyxDQUFDOztFQUUzQzhCLFdBQVdBLENBQUNDLEtBQUssRUFBRUMsWUFBWSxFQUFFQyxTQUFTLEVBQUVDLE9BQU8sRUFBRTtJQUNqRCxLQUFLLENBQUNILEtBQUssRUFBRUcsT0FBTyxDQUFDOztJQUVyQixJQUFJLENBQUNDLFNBQVMsQ0FBQ0MsU0FBUyxDQUFDQyxHQUFHLENBQUMsbUJBQW1CLENBQUM7O0lBRWpELElBQUksQ0FBQ0MsUUFBUSxHQUFHLEtBQUs7O0lBRXJCO0lBQ0EsSUFBSSxDQUFDQyxlQUFlLEdBQUcsSUFBSTFDLDREQUFnQixDQUFDLENBQUM7O0lBRTdDO0lBQ0EsSUFBSSxDQUFDMkMsVUFBVSxHQUFHLElBQUlyQyxLQUFLLENBQUNDLE9BQU8sQ0FBQyxDQUFDOztJQUVyQztJQUNBLElBQUksQ0FBQ3FDLE1BQU0sR0FBSSxJQUFJdEMsS0FBSyxDQUFDQyxPQUFPLENBQUMsQ0FBQztJQUNsQyxJQUFJLENBQUNGLE9BQU8sR0FBRyxJQUFJQyxLQUFLLENBQUNDLE9BQU8sQ0FBQyxDQUFDO0lBQ2xDLElBQUksQ0FBQ3NDLE9BQU8sR0FBRyxJQUFJdkMsS0FBSyxDQUFDQyxPQUFPLENBQUMsQ0FBQztJQUNsQyxJQUFJLENBQUN1QyxTQUFTLEdBQUcsSUFBSTlDLDREQUFnQixDQUFDLENBQUM7O0lBRXZDLElBQUksQ0FBQ21DLFlBQVksR0FBR0EsWUFBWTtJQUNoQyxJQUFJLENBQUNDLFNBQVMsR0FBR0EsU0FBUztFQUM5Qjs7RUFFQVcsWUFBWUEsQ0FBQSxFQUFHO0lBQ1gsT0FBTyxJQUFJLENBQUNWLE9BQU8sSUFBSSxJQUFJLENBQUNXLFNBQVMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDYixZQUFZLENBQUNZLFlBQVksQ0FBQyxJQUFJLENBQUM7RUFDbkY7O0VBRUFFLFNBQVNBLENBQUNDLE9BQU8sRUFBRUMsT0FBTyxFQUFFOztJQUV4QjtJQUNBLElBQUksQ0FBQyxJQUFJLENBQUNILFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUNELFlBQVksQ0FBQyxDQUFDLEVBQUU7TUFDM0MsT0FBTyxLQUFLO0lBQ2hCOztJQUVBO0lBQ0EsSUFBSSxJQUFJLENBQUNOLFFBQVEsRUFBRTtNQUNmLE9BQU8sSUFBSTtJQUNmOztJQUVBLElBQUksQ0FBQ0EsUUFBUSxHQUFHLElBQUk7O0lBRXBCO0lBQ0EsSUFBSSxDQUFDVyxXQUFXLENBQUMsSUFBSSxDQUFDOztJQUV0QjtJQUNBLE1BQU1DLEdBQUcsR0FBRyxJQUFJLENBQUNDLFFBQVE7SUFDekIsTUFBTUMsU0FBUyxHQUFHLElBQUksQ0FBQ3JCLEtBQUssQ0FBQ3NCLGFBQWEsQ0FBQ0gsR0FBRyxDQUFDaEMsQ0FBQyxFQUFFZ0MsR0FBRyxDQUFDakMsQ0FBQyxDQUFDO0lBQ3hELElBQUksQ0FBQ3VCLFVBQVUsQ0FBQ2MsR0FBRyxDQUFDRixTQUFTLENBQUNsQyxDQUFDLEdBQUc2QixPQUFPLEVBQUVLLFNBQVMsQ0FBQ25DLENBQUMsR0FBRytCLE9BQU8sQ0FBQzs7SUFFakU7SUFDQSxJQUFJLENBQUNPLElBQUksQ0FBQ0MsbUJBQW1CLENBQUMsSUFBSSxDQUFDakQsU0FBUyxFQUFFLElBQUksQ0FBQ0MsU0FBUyxFQUFFLElBQUksQ0FBQytCLGVBQWUsQ0FBQzs7SUFFbkYsT0FBTyxJQUFJO0VBQ2Y7O0VBRUFrQixRQUFRQSxDQUFDVixPQUFPLEVBQUVDLE9BQU8sRUFBRTs7SUFFdkIsSUFBSSxDQUFDLElBQUksQ0FBQ1YsUUFBUSxFQUFFO01BQ2hCLE9BQU8sS0FBSztJQUNoQjs7SUFFQTtJQUNBO0lBQ0E7SUFDQSxNQUFNcEIsQ0FBQyxHQUFHNkIsT0FBTyxHQUFHLElBQUksQ0FBQ1AsVUFBVSxDQUFDdEIsQ0FBQztJQUNyQyxNQUFNRCxDQUFDLEdBQUcrQixPQUFPLEdBQUcsSUFBSSxDQUFDUixVQUFVLENBQUN2QixDQUFDO0lBQ3JDLE1BQU15QyxDQUFDLEdBQUcsSUFBSSxDQUFDM0IsS0FBSyxDQUFDNEIsYUFBYSxDQUFDekMsQ0FBQyxFQUFFRCxDQUFDLENBQUM7O0lBRXhDO0lBQ0EsTUFBTTJDLENBQUMsR0FBTSxJQUFJLENBQUNMLElBQUksQ0FBQ00sUUFBUSxDQUFDLElBQUksQ0FBQ3RELFNBQVMsRUFBRSxJQUFJLENBQUNDLFNBQVMsRUFBRSxJQUFJLENBQUNpQyxNQUFNLENBQUM7SUFDNUUsTUFBTXFCLElBQUksR0FBRyxJQUFJLENBQUM1RCxPQUFPLENBQUM2RCxJQUFJLENBQUNMLENBQUMsQ0FBQyxDQUFDTSxHQUFHLENBQUNKLENBQUMsQ0FBQyxDQUFDLENBQUM7O0lBRTFDO0lBQ0EsTUFBTUssTUFBTSxHQUFHLElBQUksQ0FBQ1YsSUFBSSxDQUFDVyxjQUFjLENBQUMsSUFBSSxDQUFDM0QsU0FBUyxFQUFFLElBQUksQ0FBQ0MsU0FBUyxFQUFFLElBQUksQ0FBQ2tDLE9BQU8sQ0FBQztJQUNyRixNQUFNeUIsY0FBYyxHQUFHTCxJQUFJLENBQUNNLEdBQUcsQ0FBQ0gsTUFBTSxDQUFDOztJQUV2QztJQUNBLE1BQU10RCxNQUFNLEdBQUdOLHVCQUF1QixDQUFDLElBQUksQ0FBQ2tELElBQUksRUFBRSxJQUFJLENBQUNoRCxTQUFTLEVBQUUsSUFBSSxDQUFDQyxTQUFTLEVBQUUyRCxjQUFjLEVBQUUsSUFBSSxDQUFDeEIsU0FBUyxDQUFDOztJQUVqSDtJQUNBLElBQUksQ0FBQ1ksSUFBSSxDQUFDYyxhQUFhLENBQUMsSUFBSSxDQUFDOUQsU0FBUyxFQUFFSSxNQUFNLEVBQUUsSUFBSSxDQUFDSCxTQUFTLENBQUM7SUFDL0QsSUFBSSxDQUFDOEQsTUFBTSxDQUFDLENBQUM7SUFDYixJQUFJLENBQUN2QyxLQUFLLENBQUN1QyxNQUFNLENBQUMsQ0FBQzs7SUFFbkIsT0FBTyxJQUFJO0VBQ2Y7O0VBRUFDLE9BQU9BLENBQUN4QixPQUFPLEVBQUVDLE9BQU8sRUFBRTtJQUN0QixJQUFJLENBQUNTLFFBQVEsQ0FBQ1YsT0FBTyxFQUFFQyxPQUFPLENBQUM7SUFDL0IsSUFBSSxDQUFDVixRQUFRLEdBQUcsS0FBSzs7SUFFckIsTUFBTWtDLFNBQVMsR0FBRyxJQUFJLENBQUNqQixJQUFJLENBQUNDLG1CQUFtQixDQUFDLElBQUksQ0FBQ2pELFNBQVMsRUFBRSxJQUFJLENBQUNDLFNBQVMsRUFBRSxJQUFJLENBQUNtQyxTQUFTLENBQUM7O0lBRS9GLElBQUksQ0FBQzhCLFVBQVUsQ0FBQyxDQUFDO0lBQ2pCLE1BQU1DLFNBQVMsR0FBRyxJQUFJM0UscURBQVMsQ0FBQyxFQUFFNEUsTUFBTSxFQUFFLElBQUksQ0FBQ3BFLFNBQVMsRUFBRXFFLElBQUksRUFBRSxJQUFJLENBQUNwRSxTQUFTLENBQUMsQ0FBQyxDQUFDO0lBQ2pGLElBQUksQ0FBQ3lCLFNBQVMsQ0FBQzRDLEdBQUcsQ0FBQyxJQUFJNUUsZ0RBQU8sQ0FBQzZFLGNBQWMsQ0FBQyxJQUFJLENBQUMvQyxLQUFLLEVBQUUsSUFBSSxDQUFDd0IsSUFBSSxFQUFFbUIsU0FBUyxFQUFFNUUsb0RBQVEsQ0FBQ2lGLE9BQU8sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFUCxTQUFTLENBQUMsQ0FBQzs7SUFFekg7SUFDQSxJQUFJLENBQUN2QixXQUFXLENBQUMsS0FBSyxDQUFDO0VBQzNCOztFQUVBK0IsVUFBVUEsQ0FBQSxFQUFHO0lBQ1QsSUFBSSxDQUFDUCxVQUFVLENBQUMsQ0FBQztJQUNqQixJQUFJLENBQUNuQyxRQUFRLEdBQUcsS0FBSztJQUNyQixJQUFJLENBQUNQLEtBQUssQ0FBQ3VDLE1BQU0sQ0FBQyxDQUFDO0VBQ3ZCOztFQUVBO0VBQ0FHLFVBQVVBLENBQUEsRUFBRztJQUNULElBQUksQ0FBQ2xCLElBQUksQ0FBQ2MsYUFBYSxDQUFDLElBQUksQ0FBQzlELFNBQVMsRUFBRSxJQUFJLENBQUNnQyxlQUFlLEVBQUUsSUFBSSxDQUFDL0IsU0FBUyxDQUFDO0VBQ2pGO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9FZGl0MkQvRWxsaXBzZUFyY0dpem1vLmpzPzE5YWEiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgeyBFbGxpcHNlQXJjUGFyYW1zLCBFZGdlVHlwZSwgUG9seUluZGV4IH0gZnJvbSAnLi9FZGl0U2hhcGVzLmpzJztcbmltcG9ydCB7IEVkZ2VHaXptbyB9IGZyb20gJy4vQ2FudmFzR2l6bW8uanMnO1xuaW1wb3J0IHsgQWN0aW9ucyB9IGZyb20gJy4vQWN0aW9ucy5qcyc7XG5cbmNvbnN0IHRtcFZlYzIgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXG4vLyBHZXQgZWxsaXBzZSBhcmMgcGFyYW1zIGluIGEgd2F5IHRoYXQgdGhlIGVkZ2UgaXMgYmVuZGVkIGluc2lkZSBvciBvdXRzaWRlIHdydC5cbi8vIHRvIHRoZSBvdXRlciBsb29wLlxuLy9cbi8vIEBwYXJhbSB7UGF0aH0gICBwYXRoICAgICAgIC0gbm90IGNoYW5nZWRcbi8vIEBwYXJhbSB7bnVtYmVyfSBlZGdlSW5kZXggIC0gZWRnZSBmb3Igd2hpY2ggd2UgY29tcHV0ZSB0aGUgYXJjIHBhcmFtc1xuLy8gQHBhcmFtIHtudW1iZXJ9IGxvb3BJbmRleFxuLy8gQHBhcmFtIHtudW1iZXJ9IGJlbmRSYWRpdXMgLSBTaWduZWQgZGlzdGFuY2UgYmV0d2VlbiBsaW5lLXNlZ21lbnQgY2VudGVyIGFuZCBhcmMgY2VudGVyLlxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQb3NpdGl2ZSB2YWx1ZXMgZm9yIG91dHNpZGUsIG5lZ2F0aXZlIGZvciBpbnNpZGUuXG4vLyBAcGFyYW0ge0VsbGlwc2VBcmNQYXJhbXN9IFt0YXJnZXRdXG4vLyBAcmV0dXJucyB7RWxsaXBzZUFyY1BhcmFtc31cbmV4cG9ydCBjb25zdCBnZXRFbGxpcHNlQXJjRWRnZVBhcmFtcyA9IChwYXRoLCBlZGdlSW5kZXgsIGxvb3BJbmRleCwgYmVuZFJhZGl1cywgdGFyZ2V0KSA9PiB7XG5cbiAgICBjb25zdCBwYXJhbXMgPSB0YXJnZXQgfHwgbmV3IEVsbGlwc2VBcmNQYXJhbXMoKTtcblxuICAgIC8vIGNvbXB1dGUgZWxsaXBzZSByb3RhdGlvbiwgc28gdGhhdCBlbGxpcHNlIHgtYXhpcyBpcyBwYXJhbGxlbCB0byB0aGUgZWRnZVxuICAgIGNvbnN0IGRpciA9IHBhdGguZ2V0RWRnZURpcmVjdGlvbihlZGdlSW5kZXgsIGxvb3BJbmRleCwgdG1wVmVjMik7XG4gICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKGRpci55LCBkaXIueCk7XG4gICAgcGFyYW1zLnJvdGF0aW9uID0gVEhSRUUuTWF0aC5yYWRUb0RlZyhhbmdsZSk7XG5cbiAgICAvLyBDb21wdXRlIHJhZGl1cyBpbiBhIHdheSB0aGF0IGVsbGlwc2UgY2VudGVyIG1hdGNoZXMgd2l0aCBsaW5lLXNlZ21lbnQgY2VudGVyXG4gICAgcGFyYW1zLnJ4ID0gMC41ICogcGF0aC5nZXRFZGdlTGVuZ3RoKGVkZ2VJbmRleCwgbG9vcEluZGV4KTtcblxuICAgIC8vIEFwcGx5IGJlbmRpbmcgYnkgdmFyeWluZyB5LXJhZGl1c1xuICAgIHBhcmFtcy5yeSA9IE1hdGguYWJzKGJlbmRSYWRpdXMpO1xuXG4gICAgLy8gQWx3YXlzIHVzZSBzaG9ydGVzdCBjb25uZWN0aW9uXG4gICAgcGFyYW1zLmxhcmdlQXJjRmxhZyA9IGZhbHNlO1xuXG4gICAgLy8gTWFrZSBzdXJlIHRoYXQgcG9zaXRpdmUgYmVuZFJhZGl1cyBiZW5kcyBvdXRzaWRlLCBuZWdhdGl2ZSBpbnNpZGVcbiAgICBwYXJhbXMuc3dlZXBGbGFnID0gQm9vbGVhbihwYXRoLmlzQ0NXKGxvb3BJbmRleCkgXiAoYmVuZFJhZGl1cyA8IDApKTtcblxuICAgIHJldHVybiBwYXJhbXM7XG59O1xuXG4vLyBHaXptbyBjbGFzcyB0byBwdWxsIGVsbGlwc2UgYXJjIGNlbnRlcnMuIFRoZSBnaXptbyBpbXBsZW1lbnRzIHRoZSBmdWxsIGludGVyYWN0aW9uLCBidXRcbi8vIHRoZSBvd25lciBjb250cm9scyB3aGVuIHN0YXJ0RHJhZygpLCBtb3ZlRHJhZygpLCBhbmQgZW5kRHJhZygpIGFyZSBjYWxsZWQuXG5leHBvcnQgY2xhc3MgRWxsaXBzZUFyY0dpem1vIGV4dGVuZHMgRWRnZUdpem1vIHtcblxuICAgIGNvbnN0cnVjdG9yKGxheWVyLCBnaXptb01hbmFnZXIsIHVuZG9TdGFjaywgdmlzaWJsZSkge1xuICAgICAgICBzdXBlcihsYXllciwgdmlzaWJsZSk7XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnZWxsaXBzZS1hcmMtZ2l6bW8nKTtcblxuICAgICAgICB0aGlzLmRyYWdnaW5nID0gZmFsc2U7XG5cbiAgICAgICAgLy8gYXJjIHBhcmFtcyB3aGVuIGRyYWcgaGFkIHN0YXJ0ZWRcbiAgICAgICAgdGhpcy5kcmFnU3RhcnRQYXJhbXMgPSBuZXcgRWxsaXBzZUFyY1BhcmFtcygpO1xuXG4gICAgICAgIC8vIGRlbHRhIGJldHdlZW4gZXhhY3QgZHJhZ1N0YXJ0IHBvc2l0aW9uIGFuZCBnaXptby1jZW50ZXIgYXQgZHJhZ1N0YXJ0XG4gICAgICAgIHRoaXMuZHJhZ09mZnNldCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cbiAgICAgICAgLy8gdG1wIHZhbHVlc1xuICAgICAgICB0aGlzLnRtcFZlYyAgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuICAgICAgICB0aGlzLnRtcFZlYzIgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuICAgICAgICB0aGlzLnRtcFZlYzMgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuICAgICAgICB0aGlzLnRtcFBhcmFtcyA9IG5ldyBFbGxpcHNlQXJjUGFyYW1zKCk7XG5cbiAgICAgICAgdGhpcy5naXptb01hbmFnZXIgPSBnaXptb01hbmFnZXI7XG4gICAgICAgIHRoaXMudW5kb1N0YWNrID0gdW5kb1N0YWNrO1xuICAgIH1cblxuICAgIGlzVW5kZXJNb3VzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlzaWJsZSAmJiB0aGlzLmVkZ2VWYWxpZCgpICYmIHRoaXMuZ2l6bW9NYW5hZ2VyLmlzVW5kZXJNb3VzZSh0aGlzKTtcbiAgICB9XG5cbiAgICBzdGFydERyYWcoY2FudmFzWCwgY2FudmFzWSkge1xuXG4gICAgICAgIC8vIFN0b3AgaGVyZSBpZiB0aGVyZSBpcyBub3RoaW5nIHRvIGRyYWdcbiAgICAgICAgaWYgKCF0aGlzLmVkZ2VWYWxpZCgpIHx8ICF0aGlzLmlzVW5kZXJNb3VzZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVc3VhbGx5LCBkcmFnZ2luZyB3aWxsIGJlIGZhbHNlIGhlcmUgdW5sZXNzIGluIHdlaXJkIGZvY3VzLWNoYW5nZSBzY2VuYXJpb3NcbiAgICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kcmFnZ2luZyA9IHRydWU7XG5cbiAgICAgICAgLy8gSGlnaGxpZ2h0IGluIGdyZWVuIHdoaWxlIGRyYWdnaW5nXG4gICAgICAgIHRoaXMuc2V0U2VsZWN0ZWQodHJ1ZSk7XG5cbiAgICAgICAgLy8gU3RvcmUgb2Zmc2V0IGJldHdlZW4gZXhhY3QgbW91c2UgcG9zIGFuZCB0aGUgdmVydGV4IHdlIGFyZSBkcmFnZ2luZ1xuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLmxheWVyUG9zO1xuICAgICAgICBjb25zdCBwb3NTY3JlZW4gPSB0aGlzLmxheWVyLmxheWVyVG9DYW52YXMocG9zLngsIHBvcy55KTtcbiAgICAgICAgdGhpcy5kcmFnT2Zmc2V0LnNldChwb3NTY3JlZW4ueCAtIGNhbnZhc1gsIHBvc1NjcmVlbi55IC0gY2FudmFzWSk7XG5cbiAgICAgICAgLy8gQmFja3VwIGluaXRpYWwgYXJjIHBhcmFtc1xuICAgICAgICB0aGlzLnBvbHkuZ2V0RWxsaXBzZUFyY1BhcmFtcyh0aGlzLmVkZ2VJbmRleCwgdGhpcy5sb29wSW5kZXgsIHRoaXMuZHJhZ1N0YXJ0UGFyYW1zKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBtb3ZlRHJhZyhjYW52YXNYLCBjYW52YXNZKSB7XG5cbiAgICAgICAgaWYgKCF0aGlzLmRyYWdnaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb21wdXRlIGxheWVyIHBvc2l0aW9uIG9mIHRoZSBnaXptbyBhZnRlciBkcmFnXG4gICAgICAgIC8vIE5vdGUgdGhhdCB0aGUgdmVydGV4IHdlIGFyZSBkcmFnZ2luZyBkb2VzIG5vdCBhbHdheXMgbWF0Y2ggZXhhY3RseSB3aXRoIHRoZSBtb3VzZSBwb3NpdGlvbi5cbiAgICAgICAgLy8gRS5nLiwgd2UgbWF5IGhhdmUgcGlja2VkIHRoZSBib3R0b20tbGVmdCBib3VuZGFyeSBvZiBhIHZlcnRleCBnaXptbyBhdCBkcmFnLXN0YXJ0LlxuICAgICAgICBjb25zdCB4ID0gY2FudmFzWCArIHRoaXMuZHJhZ09mZnNldC54O1xuICAgICAgICBjb25zdCB5ID0gY2FudmFzWSArIHRoaXMuZHJhZ09mZnNldC55O1xuICAgICAgICBjb25zdCBwID0gdGhpcy5sYXllci5jYW52YXNUb0xheWVyKHgsIHkpO1xuXG4gICAgICAgIC8vIENvbXB1dGUgdmVjdG9yIChhID0+IHApLCB3aGVyZSBhIGlzIHRoZSBlZGdlIHN0YXJ0XG4gICAgICAgIGNvbnN0IGEgICAgPSB0aGlzLnBvbHkuZ2V0UG9pbnQodGhpcy5lZGdlSW5kZXgsIHRoaXMubG9vcEluZGV4LCB0aGlzLnRtcFZlYyk7XG4gICAgICAgIGNvbnN0IGRpZmYgPSB0aGlzLnRtcFZlYzIuY29weShwKS5zdWIoYSk7IC8vIHZlY3RvciBmcm9tIGVkZ2Ugc3RhcnQgdG93YXJkcyBuZXcgZ2l6bW8gcG9zaXRpb25cblxuICAgICAgICAvLyBDb21wdXRlIGRpc3RhbmNlIG9mIHRoZSBuZXcgZ2l6bW8gcG9zaXRpb24gZnJvbSBlZGdlIHNwYW5uZWQgYnkgbGluZSBzZWdtZW50IChhLGIpXG4gICAgICAgIGNvbnN0IG5vcm1hbCA9IHRoaXMucG9seS5nZXRPdXRlck5vcm1hbCh0aGlzLmVkZ2VJbmRleCwgdGhpcy5sb29wSW5kZXgsIHRoaXMudG1wVmVjMylcbiAgICAgICAgY29uc3Qgc2lnbmVkRGlzdGFuY2UgPSBkaWZmLmRvdChub3JtYWwpO1xuXG4gICAgICAgIC8vIENvbmZpZ3VyZSBlbGxpcHNlIGFyYywgc28gdGhhdCB0aGUgZGlzdGFuY2Ugb2YgdGhlIGFyYyBtaWRwb2ludCBpcyB0aGUgc2FtZVxuICAgICAgICBjb25zdCBwYXJhbXMgPSBnZXRFbGxpcHNlQXJjRWRnZVBhcmFtcyh0aGlzLnBvbHksIHRoaXMuZWRnZUluZGV4LCB0aGlzLmxvb3BJbmRleCwgc2lnbmVkRGlzdGFuY2UsIHRoaXMudG1wUGFyYW1zKTtcblxuICAgICAgICAvLyBVcGRhdGUgcG9seWdvblxuICAgICAgICB0aGlzLnBvbHkuc2V0RWxsaXBzZUFyYyh0aGlzLmVkZ2VJbmRleCwgcGFyYW1zLCB0aGlzLmxvb3BJbmRleCk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIHRoaXMubGF5ZXIudXBkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZW5kRHJhZyhjYW52YXNYLCBjYW52YXNZKSB7XG4gICAgICAgIHRoaXMubW92ZURyYWcoY2FudmFzWCwgY2FudmFzWSk7XG4gICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCBuZXdQYXJhbXMgPSB0aGlzLnBvbHkuZ2V0RWxsaXBzZUFyY1BhcmFtcyh0aGlzLmVkZ2VJbmRleCwgdGhpcy5sb29wSW5kZXgsIHRoaXMudG1wUGFyYW1zKTtcblxuICAgICAgICB0aGlzLnJlc3RvcmVBcmMoKTtcbiAgICAgICAgY29uc3QgcG9seUluZGV4ID0gbmV3IFBvbHlJbmRleCh7IHZlcnRleDogdGhpcy5lZGdlSW5kZXgsIGxvb3A6IHRoaXMubG9vcEluZGV4IH0pO1xuICAgICAgICB0aGlzLnVuZG9TdGFjay5ydW4obmV3IEFjdGlvbnMuQ2hhbmdlRWRnZVR5cGUodGhpcy5sYXllciwgdGhpcy5wb2x5LCBwb2x5SW5kZXgsIEVkZ2VUeXBlLkVsbGlwc2UsIG51bGwsIG51bGwsIG5ld1BhcmFtcykpO1xuXG4gICAgICAgIC8vIHN0b3AgaGlnaGxpZ2h0aW5nXG4gICAgICAgIHRoaXMuc2V0U2VsZWN0ZWQoZmFsc2UpO1xuICAgIH1cblxuICAgIGNhbmNlbERyYWcoKSB7XG4gICAgICAgIHRoaXMucmVzdG9yZUFyYygpO1xuICAgICAgICB0aGlzLmRyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMubGF5ZXIudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLy8gUmVzdG9yZSBzdGF0ZSBvZiB0aGUgYXJjIGJlZm9yZSBkcmFnZ2luZyBpdFxuICAgIHJlc3RvcmVBcmMoKSB7XG4gICAgICAgIHRoaXMucG9seS5zZXRFbGxpcHNlQXJjKHRoaXMuZWRnZUluZGV4LCB0aGlzLmRyYWdTdGFydFBhcmFtcywgdGhpcy5sb29wSW5kZXgpO1xuICAgIH1cbn0iXSwibmFtZXMiOlsiRWxsaXBzZUFyY1BhcmFtcyIsIkVkZ2VUeXBlIiwiUG9seUluZGV4IiwiRWRnZUdpem1vIiwiQWN0aW9ucyIsInRtcFZlYzIiLCJUSFJFRSIsIlZlY3RvcjIiLCJnZXRFbGxpcHNlQXJjRWRnZVBhcmFtcyIsInBhdGgiLCJlZGdlSW5kZXgiLCJsb29wSW5kZXgiLCJiZW5kUmFkaXVzIiwidGFyZ2V0IiwicGFyYW1zIiwiZGlyIiwiZ2V0RWRnZURpcmVjdGlvbiIsImFuZ2xlIiwiTWF0aCIsImF0YW4yIiwieSIsIngiLCJyb3RhdGlvbiIsInJhZFRvRGVnIiwicngiLCJnZXRFZGdlTGVuZ3RoIiwicnkiLCJhYnMiLCJsYXJnZUFyY0ZsYWciLCJzd2VlcEZsYWciLCJCb29sZWFuIiwiaXNDQ1ciLCJFbGxpcHNlQXJjR2l6bW8iLCJjb25zdHJ1Y3RvciIsImxheWVyIiwiZ2l6bW9NYW5hZ2VyIiwidW5kb1N0YWNrIiwidmlzaWJsZSIsImNvbnRhaW5lciIsImNsYXNzTGlzdCIsImFkZCIsImRyYWdnaW5nIiwiZHJhZ1N0YXJ0UGFyYW1zIiwiZHJhZ09mZnNldCIsInRtcFZlYyIsInRtcFZlYzMiLCJ0bXBQYXJhbXMiLCJpc1VuZGVyTW91c2UiLCJlZGdlVmFsaWQiLCJzdGFydERyYWciLCJjYW52YXNYIiwiY2FudmFzWSIsInNldFNlbGVjdGVkIiwicG9zIiwibGF5ZXJQb3MiLCJwb3NTY3JlZW4iLCJsYXllclRvQ2FudmFzIiwic2V0IiwicG9seSIsImdldEVsbGlwc2VBcmNQYXJhbXMiLCJtb3ZlRHJhZyIsInAiLCJjYW52YXNUb0xheWVyIiwiYSIsImdldFBvaW50IiwiZGlmZiIsImNvcHkiLCJzdWIiLCJub3JtYWwiLCJnZXRPdXRlck5vcm1hbCIsInNpZ25lZERpc3RhbmNlIiwiZG90Iiwic2V0RWxsaXBzZUFyYyIsInVwZGF0ZSIsImVuZERyYWciLCJuZXdQYXJhbXMiLCJyZXN0b3JlQXJjIiwicG9seUluZGV4IiwidmVydGV4IiwibG9vcCIsInJ1biIsIkNoYW5nZUVkZ2VUeXBlIiwiRWxsaXBzZSIsImNhbmNlbERyYWciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Edit2D/EllipseArcGizmo.js\n");

/***/ }),

/***/ "./extensions/Edit2D/LoopContainment.js":
/*!**********************************************!*\
  !*** ./extensions/Edit2D/LoopContainment.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computeLoopContainment: () => (/* binding */ computeLoopContainment),\n/* harmony export */   getFacesInsideLoop: () => (/* binding */ getFacesInsideLoop)\n/* harmony export */ });\n/* harmony import */ var _SolidDefConvert_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SolidDefConvert.js */ \"./extensions/Edit2D/SolidDefConvert.js\");\n/* harmony import */ var _adsk_solid_definition__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @adsk/solid-definition */ \"./node_modules/@adsk/solid-definition/dist/solid-definition.min.js\");\n/* harmony import */ var _adsk_solid_definition__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_adsk_solid_definition__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\n\n// Result values of classifySets\nconst SetContainment = {\n  Contains: 0, // A contains B (not vice versa)\n  IsContainedIn: 1, // B contains A (not vice versa)\n  Disjoint: 2, // No common elements\n  Overlapping: 3, // Intersecting, but not equal\n  Equal: 4 // Sets are identical\n};\n\n// @param {SketchRegionSolver} solver       - initialized with all edges of subject and cutLoop\n// @param {Edges[]}            loopEdges    - edges of the loop that we test against.\n// @returns {Face[]} subset of solver.getFaces(). All faces encludes by the loopEdges.\nconst getFacesInsideLoop = (solver, loopEdges) => {\n\n  // Get all faces that we obtained by intersecting all edges against each other\n  const regionFaces = solver.getFaces();\n\n  // Get ordered array of loop edges within solver that correspond to the cutLoop\n  const cutRegionEdges = (0,_adsk_solid_definition__WEBPACK_IMPORTED_MODULE_1__.getRegionEdges)(solver, loopEdges);\n\n  // Find all faces that are\n  return (0,_adsk_solid_definition__WEBPACK_IMPORTED_MODULE_1__.getBoundedRegionFaces)(regionFaces, cutRegionEdges);\n};\n\n// Tolerance for self-intersection tests: If intersections are very close to a shared vertex, we ignore them.\n// Note that the tolerance is not in units but a fraction of an edge.\nconst Precision = 1.e-5;\n\n// Check whether a single loop has self-intersections\n// TODO: There is one edge case that we would not detect here: If a loop passes the same vertex multiple times.\nconst hasSelfIntersections = (loopEdges) => {\n  for (let i = 0; i < loopEdges.length; i++) {\n    const edge1 = loopEdges[i];\n\n    // Check all subsequent edges.\n    for (let j = i + 1; j < loopEdges.length; j++) {\n\n      // Check intersections of both edges\n      const edge2 = loopEdges[j];\n      const cuts = (0,_adsk_solid_definition__WEBPACK_IMPORTED_MODULE_1__.computeCurveCurveIntersections)(edge1, edge2, false, true);\n\n      // Check if there are any intersections (except for shared vertices)\n      for (let i = 0; i < cuts.length; i++) {\n        const cut = cuts[i];\n\n        // Ignore intersections at a shared vertex\n        // Due to accuracy issues, the cut may also be just close to a vertex\n        const param1 = cut.cutInfo.param;\n        const param2 = cut.cutByInfo.param;\n\n        const range1 = edge1.getRange();\n        const range2 = edge2.getRange();\n\n        // Check if both parameters are very close to range start/end of an edge\n        const dist1 = Math.min(Math.abs(param1 - range1[0]), Math.abs(param1 - range1[1]));\n        const dist2 = Math.min(Math.abs(param2 - range2[0]), Math.abs(param2 - range2[1]));\n        const d = Math.max(dist1, dist2);\n\n        // If cut was not approximately equal to a shared vertex,\n        // consider it as a self-intersection.\n        if (d > Precision) {\n          return true;\n        }\n      }\n    }\n  }\n  return false;\n};\n\n// Given two sets of values, faces, each indexed by integer faceIds, this function checks how the sets are related.\nconst classifySets = (A, B) => {\n\n  // Track which kind of indices we found\n  let foundCommon = false; // >=0 elems are in both\n  let foundAOnly = false; // >=0 elems are only in set A\n  let foundBOnly = false; // >=0 elems are only in set B\n\n  const checkElems = (elemIndex) => {\n    const isInA = A.has(elemIndex);\n    const isInB = B.has(elemIndex);\n\n    if (isInA && isInB) foundCommon = true;else\n    if (isInA) foundAOnly = true;else\n    if (isInB) foundBOnly = true;\n  };\n\n  for (let elem of A) {\n    checkElems(elem);\n  }\n\n  for (let elem of B) {\n    checkElems(elem);\n  }\n\n  if (!foundCommon) {\n    return SetContainment.Disjoint;\n  }\n\n  if (foundAOnly && !foundBOnly) {\n    return SetContainment.Contains;\n  }\n\n  if (foundBOnly && !foundAOnly) {\n    return SetContainment.IsContainedIn;\n  }\n\n  if (!foundAOnly && !foundBOnly) {\n    return SetContainment.Equal;\n  }\n\n  return SetContainment.Overlapping;\n};\n\n// Contains loop containment for a path\nconst computeLoopContainment = (path) => {\n\n  // Convert to SolidDef Path\n  const pathSd = _SolidDefConvert_js__WEBPACK_IMPORTED_MODULE_0__.SolidDefConvert.toSolidDefPath(path);\n\n  // get path as wires\n  const wireBody = pathSd.getWireBody();\n  const wires = wireBody.getWires();\n\n  // get path as edge array\n  const edges = wireBody.getEdges();\n\n  // Init empty loop infos\n  const loopInfos = [];\n  for (let l = 0; l < wires.length; l++) {\n\n    // Get loop edges\n    const w = wires[l];\n    const loopEdges = w.getEdges();\n\n    loopInfos[l] = {\n      containedLoops: [],\n      rank: 0,\n\n      // Indicates if loop containment could not properly computed.\n      // This happens if\n      //   a) The loop has self-intersections\n      //   b) The loop is overlapping with another one\n      //   c) The loop is exactly matching with another one\n      error: hasSelfIntersections(loopEdges) // Initially, we detect only a)\n    };\n  }\n\n  // For only a single loop or less, we are done here.\n  if (wires.length < 2) {\n    return loopInfos;\n  }\n\n  // Feed them into solver to intersect them against each other and extract the resulting region faces.\n  const solver = new _adsk_solid_definition__WEBPACK_IMPORTED_MODULE_1__.SketchRegionSolver();\n  solver.compute(edges);\n\n  // check which of the faces are within path and cutPath\n  const faces = solver.getFaces();\n\n  // attach arrayIndex to each face\n  faces.forEach((f, index) => f.arrayIndex = index);\n\n  // for each loop l, collect a set facesPerLoop[l] that contains the array indices of all enclosed faces.\n  const facesPerLoop = [];\n  for (let l = 0; l < wires.length; l++) {\n\n    // get edges of loop i\n    const w = wires[l];\n    const loopEdges = w.getEdges();\n\n    // If a loop has self-intersections, just mark it as invalid and skip it\n    if (hasSelfIntersections(loopEdges)) {\n      loopInfos[l].error = true;\n      facesPerLoop[l] = new Set();\n      continue;\n    }\n\n    // get all faces within this loop\n    const enclosedFaceIds = new Set();\n    const faces = getFacesInsideLoop(solver, loopEdges);\n    faces.forEach((f) => {\n      enclosedFaceIds.add(f.arrayIndex);\n    });\n\n    facesPerLoop[l] = enclosedFaceIds;\n  }\n\n  // Use the faceId sets to derive which loop is contained in which other\n  for (let a = 0; a < facesPerLoop.length; a++) {\n\n    // indices of all faces enclosed by loop a\n    const A = facesPerLoop[a];\n\n    for (let b = a + 1; b < facesPerLoop.length; b++) {\n      // indices of all faces enclosed by loop i\n      const B = facesPerLoop[b];\n\n      // Check set relation between A and B\n      const cont = classifySets(A, B);\n      switch (cont) {\n        case SetContainment.Disjoint:\n          // No common faces at all. E.g., for two holes.\n          continue;\n        case SetContainment.Contains:\n          loopInfos[a].containedLoops.push(b);\n          loopInfos[b].rank++;\n          break;\n        case SetContainment.IsContainedIn:\n          loopInfos[b].containedLoops.push(b);\n          loopInfos[a].rank++;\n          break;\n        default:\n          loopInfos[a].error = true;\n          loopInfos[b].error = true;\n      }\n    }\n  }\n\n  // If the original paths contained empty loops, we may have to reindex the loopInfos,\n  // because empty loops will not produce a corresponding wire in the SolidDef representation.\n  if (wires.length !== path.loopCount) {\n    const reindexed = [];\n    const srcIndex = 0;\n    for (let l = 0; l < path.loopCount; l++) {\n      // Only non-empty loops get loopInfos\n      if (path.getVertexCount(l)) {\n        reindexed[i] = loopInfos[srcIndex++];\n      }\n    }\n    loopInfos = reindexed;\n  }\n\n  return loopInfos;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SSxDQUFDNkIsU0FBUyxFQUFFbkIsQ0FBQyxFQUFFLEVBQUU7TUFDakM7TUFDQSxJQUFJVixJQUFJLENBQUNnQyxjQUFjLENBQUN0QixDQUFDLENBQUMsRUFBRTtRQUN4Qm9CLFNBQVMsQ0FBQ2pFLENBQUMsQ0FBQyxHQUFHNEMsU0FBUyxDQUFDc0IsUUFBUSxFQUFFLENBQUM7TUFDeEM7SUFDSjtJQUNBdEIsU0FBUyxHQUFHcUIsU0FBUztFQUN6Qjs7RUFFQSxPQUFPckIsU0FBUztBQUNwQixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvRWRpdDJEL0xvb3BDb250YWlubWVudC5qcz9kNjFhIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHsgU29saWREZWZDb252ZXJ0IH0gZnJvbSAnLi9Tb2xpZERlZkNvbnZlcnQuanMnO1xuaW1wb3J0IHsgU2tldGNoUmVnaW9uU29sdmVyLCBnZXRSZWdpb25FZGdlcywgZ2V0Qm91bmRlZFJlZ2lvbkZhY2VzLCBjb21wdXRlQ3VydmVDdXJ2ZUludGVyc2VjdGlvbnMgfSBmcm9tICdAYWRzay9zb2xpZC1kZWZpbml0aW9uJztcblxuLy8gUmVzdWx0IHZhbHVlcyBvZiBjbGFzc2lmeVNldHNcbmNvbnN0IFNldENvbnRhaW5tZW50ID0ge1xuICAgIENvbnRhaW5zOiAgICAgIDAsIC8vIEEgY29udGFpbnMgQiAobm90IHZpY2UgdmVyc2EpXG4gICAgSXNDb250YWluZWRJbjogMSwgLy8gQiBjb250YWlucyBBIChub3QgdmljZSB2ZXJzYSlcbiAgICBEaXNqb2ludDogICAgICAyLCAvLyBObyBjb21tb24gZWxlbWVudHNcbiAgICBPdmVybGFwcGluZzogICAzLCAvLyBJbnRlcnNlY3RpbmcsIGJ1dCBub3QgZXF1YWxcbiAgICBFcXVhbDogICAgICAgICA0ICAvLyBTZXRzIGFyZSBpZGVudGljYWxcbn07XG5cbi8vIEBwYXJhbSB7U2tldGNoUmVnaW9uU29sdmVyfSBzb2x2ZXIgICAgICAgLSBpbml0aWFsaXplZCB3aXRoIGFsbCBlZGdlcyBvZiBzdWJqZWN0IGFuZCBjdXRMb29wXG4vLyBAcGFyYW0ge0VkZ2VzW119ICAgICAgICAgICAgbG9vcEVkZ2VzICAgIC0gZWRnZXMgb2YgdGhlIGxvb3AgdGhhdCB3ZSB0ZXN0IGFnYWluc3QuXG4vLyBAcmV0dXJucyB7RmFjZVtdfSBzdWJzZXQgb2Ygc29sdmVyLmdldEZhY2VzKCkuIEFsbCBmYWNlcyBlbmNsdWRlcyBieSB0aGUgbG9vcEVkZ2VzLlxuZXhwb3J0IGNvbnN0IGdldEZhY2VzSW5zaWRlTG9vcCA9IChzb2x2ZXIsIGxvb3BFZGdlcykgPT4ge1xuXG4gICAgLy8gR2V0IGFsbCBmYWNlcyB0aGF0IHdlIG9idGFpbmVkIGJ5IGludGVyc2VjdGluZyBhbGwgZWRnZXMgYWdhaW5zdCBlYWNoIG90aGVyXG4gICAgY29uc3QgcmVnaW9uRmFjZXMgPSBzb2x2ZXIuZ2V0RmFjZXMoKTtcblxuICAgIC8vIEdldCBvcmRlcmVkIGFycmF5IG9mIGxvb3AgZWRnZXMgd2l0aGluIHNvbHZlciB0aGF0IGNvcnJlc3BvbmQgdG8gdGhlIGN1dExvb3BcbiAgICBjb25zdCBjdXRSZWdpb25FZGdlcyA9IGdldFJlZ2lvbkVkZ2VzKHNvbHZlciwgbG9vcEVkZ2VzKTtcblxuICAgIC8vIEZpbmQgYWxsIGZhY2VzIHRoYXQgYXJlXG4gICAgcmV0dXJuIGdldEJvdW5kZWRSZWdpb25GYWNlcyhyZWdpb25GYWNlcywgY3V0UmVnaW9uRWRnZXMpO1xufTtcblxuLy8gVG9sZXJhbmNlIGZvciBzZWxmLWludGVyc2VjdGlvbiB0ZXN0czogSWYgaW50ZXJzZWN0aW9ucyBhcmUgdmVyeSBjbG9zZSB0byBhIHNoYXJlZCB2ZXJ0ZXgsIHdlIGlnbm9yZSB0aGVtLlxuLy8gTm90ZSB0aGF0IHRoZSB0b2xlcmFuY2UgaXMgbm90IGluIHVuaXRzIGJ1dCBhIGZyYWN0aW9uIG9mIGFuIGVkZ2UuXG5jb25zdCBQcmVjaXNpb24gPSAxLmUtNTtcblxuLy8gQ2hlY2sgd2hldGhlciBhIHNpbmdsZSBsb29wIGhhcyBzZWxmLWludGVyc2VjdGlvbnNcbi8vIFRPRE86IFRoZXJlIGlzIG9uZSBlZGdlIGNhc2UgdGhhdCB3ZSB3b3VsZCBub3QgZGV0ZWN0IGhlcmU6IElmIGEgbG9vcCBwYXNzZXMgdGhlIHNhbWUgdmVydGV4IG11bHRpcGxlIHRpbWVzLlxuY29uc3QgaGFzU2VsZkludGVyc2VjdGlvbnMgPSAobG9vcEVkZ2VzKSA9PiB7XG4gICAgZm9yIChsZXQgaT0wOyBpPGxvb3BFZGdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBlZGdlMSA9IGxvb3BFZGdlc1tpXTtcblxuICAgICAgICAvLyBDaGVjayBhbGwgc3Vic2VxdWVudCBlZGdlcy5cbiAgICAgICAgZm9yIChsZXQgaj1pKzE7IGo8bG9vcEVkZ2VzLmxlbmd0aDsgaisrKSB7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGludGVyc2VjdGlvbnMgb2YgYm90aCBlZGdlc1xuICAgICAgICAgICAgY29uc3QgZWRnZTIgPSBsb29wRWRnZXNbal07XG4gICAgICAgICAgICBjb25zdCBjdXRzID0gY29tcHV0ZUN1cnZlQ3VydmVJbnRlcnNlY3Rpb25zKGVkZ2UxLCBlZGdlMiwgZmFsc2UsIHRydWUpO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBhcmUgYW55IGludGVyc2VjdGlvbnMgKGV4Y2VwdCBmb3Igc2hhcmVkIHZlcnRpY2VzKVxuICAgICAgICAgICAgZm9yIChsZXQgaT0wOyBpPGN1dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXQgPSBjdXRzW2ldO1xuXG4gICAgICAgICAgICAgICAgLy8gSWdub3JlIGludGVyc2VjdGlvbnMgYXQgYSBzaGFyZWQgdmVydGV4XG4gICAgICAgICAgICAgICAgLy8gRHVlIHRvIGFjY3VyYWN5IGlzc3VlcywgdGhlIGN1dCBtYXkgYWxzbyBiZSBqdXN0IGNsb3NlIHRvIGEgdmVydGV4XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW0xID0gY3V0LmN1dEluZm8ucGFyYW07XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW0yID0gY3V0LmN1dEJ5SW5mby5wYXJhbTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlMSA9IGVkZ2UxLmdldFJhbmdlKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmFuZ2UyID0gZWRnZTIuZ2V0UmFuZ2UoKTtcblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGJvdGggcGFyYW1ldGVycyBhcmUgdmVyeSBjbG9zZSB0byByYW5nZSBzdGFydC9lbmQgb2YgYW4gZWRnZVxuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3QxID0gTWF0aC5taW4oTWF0aC5hYnMocGFyYW0xIC0gcmFuZ2UxWzBdKSwgTWF0aC5hYnMocGFyYW0xIC0gcmFuZ2UxWzFdKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdDIgPSBNYXRoLm1pbihNYXRoLmFicyhwYXJhbTIgLSByYW5nZTJbMF0pLCBNYXRoLmFicyhwYXJhbTIgLSByYW5nZTJbMV0pKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkID0gTWF0aC5tYXgoZGlzdDEsIGRpc3QyKTtcblxuICAgICAgICAgICAgICAgIC8vIElmIGN1dCB3YXMgbm90IGFwcHJveGltYXRlbHkgZXF1YWwgdG8gYSBzaGFyZWQgdmVydGV4LFxuICAgICAgICAgICAgICAgIC8vIGNvbnNpZGVyIGl0IGFzIGEgc2VsZi1pbnRlcnNlY3Rpb24uXG4gICAgICAgICAgICAgICAgaWYgKGQgPiBQcmVjaXNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8gR2l2ZW4gdHdvIHNldHMgb2YgdmFsdWVzLCBmYWNlcywgZWFjaCBpbmRleGVkIGJ5IGludGVnZXIgZmFjZUlkcywgdGhpcyBmdW5jdGlvbiBjaGVja3MgaG93IHRoZSBzZXRzIGFyZSByZWxhdGVkLlxuY29uc3QgY2xhc3NpZnlTZXRzID0gKEEsIEIpID0+IHtcblxuICAgIC8vIFRyYWNrIHdoaWNoIGtpbmQgb2YgaW5kaWNlcyB3ZSBmb3VuZFxuICAgIGxldCBmb3VuZENvbW1vbiA9IGZhbHNlOyAvLyA+PTAgZWxlbXMgYXJlIGluIGJvdGhcbiAgICBsZXQgZm91bmRBT25seSAgPSBmYWxzZTsgLy8gPj0wIGVsZW1zIGFyZSBvbmx5IGluIHNldCBBXG4gICAgbGV0IGZvdW5kQk9ubHkgID0gZmFsc2U7IC8vID49MCBlbGVtcyBhcmUgb25seSBpbiBzZXQgQlxuXG4gICAgY29uc3QgY2hlY2tFbGVtcyA9IChlbGVtSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgaXNJbkEgPSBBLmhhcyhlbGVtSW5kZXgpO1xuICAgICAgICBjb25zdCBpc0luQiA9IEIuaGFzKGVsZW1JbmRleCk7XG5cbiAgICAgICAgaWYgKGlzSW5BICYmIGlzSW5CKSBmb3VuZENvbW1vbiA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKGlzSW5BKSAgICAgZm91bmRBT25seSAgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmIChpc0luQikgICAgIGZvdW5kQk9ubHkgID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgZm9yIChsZXQgZWxlbSBvZiBBKSB7XG4gICAgICAgIGNoZWNrRWxlbXMoZWxlbSk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgZWxlbSBvZiBCKSB7XG4gICAgICAgIGNoZWNrRWxlbXMoZWxlbSk7XG4gICAgfVxuXG4gICAgaWYgKCFmb3VuZENvbW1vbikge1xuICAgICAgICByZXR1cm4gU2V0Q29udGFpbm1lbnQuRGlzam9pbnQ7XG4gICAgfVxuXG4gICAgaWYgKGZvdW5kQU9ubHkgJiYgIWZvdW5kQk9ubHkpIHtcbiAgICAgICAgcmV0dXJuIFNldENvbnRhaW5tZW50LkNvbnRhaW5zO1xuICAgIH1cblxuICAgIGlmIChmb3VuZEJPbmx5ICYmICFmb3VuZEFPbmx5KSB7XG4gICAgICAgIHJldHVybiBTZXRDb250YWlubWVudC5Jc0NvbnRhaW5lZEluO1xuICAgIH1cblxuICAgIGlmICghZm91bmRBT25seSAmJiAhZm91bmRCT25seSkge1xuICAgICAgICByZXR1cm4gU2V0Q29udGFpbm1lbnQuRXF1YWw7XG4gICAgfVxuXG4gICAgcmV0dXJuIFNldENvbnRhaW5tZW50Lk92ZXJsYXBwaW5nO1xufTtcblxuLy8gQ29udGFpbnMgbG9vcCBjb250YWlubWVudCBmb3IgYSBwYXRoXG5leHBvcnQgY29uc3QgY29tcHV0ZUxvb3BDb250YWlubWVudCA9IChwYXRoKSA9PiB7XG5cbiAgICAvLyBDb252ZXJ0IHRvIFNvbGlkRGVmIFBhdGhcbiAgICBjb25zdCBwYXRoU2QgPSBTb2xpZERlZkNvbnZlcnQudG9Tb2xpZERlZlBhdGgocGF0aCk7XG5cbiAgICAvLyBnZXQgcGF0aCBhcyB3aXJlc1xuICAgIGNvbnN0IHdpcmVCb2R5ID0gcGF0aFNkLmdldFdpcmVCb2R5KCk7XG4gICAgY29uc3Qgd2lyZXMgPSB3aXJlQm9keS5nZXRXaXJlcygpO1xuXG4gICAgLy8gZ2V0IHBhdGggYXMgZWRnZSBhcnJheVxuICAgIGNvbnN0IGVkZ2VzID0gd2lyZUJvZHkuZ2V0RWRnZXMoKTtcblxuICAgIC8vIEluaXQgZW1wdHkgbG9vcCBpbmZvc1xuICAgIGNvbnN0IGxvb3BJbmZvcyA9IFtdXG4gICAgZm9yIChsZXQgbD0wOyBsPHdpcmVzLmxlbmd0aDsgbCsrKSB7XG5cbiAgICAgICAgLy8gR2V0IGxvb3AgZWRnZXNcbiAgICAgICAgY29uc3QgdyA9IHdpcmVzW2xdO1xuICAgICAgICBjb25zdCBsb29wRWRnZXMgPSB3LmdldEVkZ2VzKCk7XG5cbiAgICAgICAgbG9vcEluZm9zW2xdID0ge1xuICAgICAgICAgICAgY29udGFpbmVkTG9vcHM6IFtdLFxuICAgICAgICAgICAgcmFuazogMCxcblxuICAgICAgICAgICAgLy8gSW5kaWNhdGVzIGlmIGxvb3AgY29udGFpbm1lbnQgY291bGQgbm90IHByb3Blcmx5IGNvbXB1dGVkLlxuICAgICAgICAgICAgLy8gVGhpcyBoYXBwZW5zIGlmXG4gICAgICAgICAgICAvLyAgIGEpIFRoZSBsb29wIGhhcyBzZWxmLWludGVyc2VjdGlvbnNcbiAgICAgICAgICAgIC8vICAgYikgVGhlIGxvb3AgaXMgb3ZlcmxhcHBpbmcgd2l0aCBhbm90aGVyIG9uZVxuICAgICAgICAgICAgLy8gICBjKSBUaGUgbG9vcCBpcyBleGFjdGx5IG1hdGNoaW5nIHdpdGggYW5vdGhlciBvbmVcbiAgICAgICAgICAgIGVycm9yOiBoYXNTZWxmSW50ZXJzZWN0aW9ucyhsb29wRWRnZXMpIC8vIEluaXRpYWxseSwgd2UgZGV0ZWN0IG9ubHkgYSlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBGb3Igb25seSBhIHNpbmdsZSBsb29wIG9yIGxlc3MsIHdlIGFyZSBkb25lIGhlcmUuXG4gICAgaWYgKHdpcmVzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGxvb3BJbmZvcztcbiAgICB9XG5cbiAgICAvLyBGZWVkIHRoZW0gaW50byBzb2x2ZXIgdG8gaW50ZXJzZWN0IHRoZW0gYWdhaW5zdCBlYWNoIG90aGVyIGFuZCBleHRyYWN0IHRoZSByZXN1bHRpbmcgcmVnaW9uIGZhY2VzLlxuICAgIGNvbnN0IHNvbHZlciA9IG5ldyBTa2V0Y2hSZWdpb25Tb2x2ZXIoKTtcbiAgICBzb2x2ZXIuY29tcHV0ZShlZGdlcyk7XG5cbiAgICAvLyBjaGVjayB3aGljaCBvZiB0aGUgZmFjZXMgYXJlIHdpdGhpbiBwYXRoIGFuZCBjdXRQYXRoXG4gICAgY29uc3QgZmFjZXMgPSBzb2x2ZXIuZ2V0RmFjZXMoKTtcblxuICAgIC8vIGF0dGFjaCBhcnJheUluZGV4IHRvIGVhY2ggZmFjZVxuICAgIGZhY2VzLmZvckVhY2goKGYsIGluZGV4KSA9PiBmLmFycmF5SW5kZXggPSBpbmRleCk7XG5cbiAgICAvLyBmb3IgZWFjaCBsb29wIGwsIGNvbGxlY3QgYSBzZXQgZmFjZXNQZXJMb29wW2xdIHRoYXQgY29udGFpbnMgdGhlIGFycmF5IGluZGljZXMgb2YgYWxsIGVuY2xvc2VkIGZhY2VzLlxuICAgIGNvbnN0IGZhY2VzUGVyTG9vcCA9IFtdO1xuICAgIGZvciAobGV0IGw9MDsgbDx3aXJlcy5sZW5ndGg7IGwrKykge1xuXG4gICAgICAgIC8vIGdldCBlZGdlcyBvZiBsb29wIGlcbiAgICAgICAgY29uc3QgdyA9IHdpcmVzW2xdO1xuICAgICAgICBjb25zdCBsb29wRWRnZXMgPSB3LmdldEVkZ2VzKCk7XG5cbiAgICAgICAgLy8gSWYgYSBsb29wIGhhcyBzZWxmLWludGVyc2VjdGlvbnMsIGp1c3QgbWFyayBpdCBhcyBpbnZhbGlkIGFuZCBza2lwIGl0XG4gICAgICAgIGlmIChoYXNTZWxmSW50ZXJzZWN0aW9ucyhsb29wRWRnZXMpKSB7XG4gICAgICAgICAgICBsb29wSW5mb3NbbF0uZXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgZmFjZXNQZXJMb29wW2xdID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgYWxsIGZhY2VzIHdpdGhpbiB0aGlzIGxvb3BcbiAgICAgICAgY29uc3QgZW5jbG9zZWRGYWNlSWRzID0gbmV3IFNldCgpO1xuICAgICAgICBjb25zdCBmYWNlcyA9IGdldEZhY2VzSW5zaWRlTG9vcChzb2x2ZXIsIGxvb3BFZGdlcyk7XG4gICAgICAgIGZhY2VzLmZvckVhY2goZiA9PiB7XG4gICAgICAgICAgICBlbmNsb3NlZEZhY2VJZHMuYWRkKGYuYXJyYXlJbmRleCk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgZmFjZXNQZXJMb29wW2xdID0gZW5jbG9zZWRGYWNlSWRzO1xuICAgIH1cblxuICAgIC8vIFVzZSB0aGUgZmFjZUlkIHNldHMgdG8gZGVyaXZlIHdoaWNoIGxvb3AgaXMgY29udGFpbmVkIGluIHdoaWNoIG90aGVyXG4gICAgZm9yIChsZXQgYT0wOyBhPGZhY2VzUGVyTG9vcC5sZW5ndGg7IGErKykge1xuXG4gICAgICAgIC8vIGluZGljZXMgb2YgYWxsIGZhY2VzIGVuY2xvc2VkIGJ5IGxvb3AgYVxuICAgICAgICBjb25zdCBBID0gZmFjZXNQZXJMb29wW2FdO1xuXG4gICAgICAgIGZvciAobGV0IGI9YSsxOyBiPGZhY2VzUGVyTG9vcC5sZW5ndGg7IGIrKykge1xuICAgICAgICAgICAgLy8gaW5kaWNlcyBvZiBhbGwgZmFjZXMgZW5jbG9zZWQgYnkgbG9vcCBpXG4gICAgICAgICAgICBjb25zdCBCID0gZmFjZXNQZXJMb29wW2JdO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBzZXQgcmVsYXRpb24gYmV0d2VlbiBBIGFuZCBCXG4gICAgICAgICAgICBjb25zdCBjb250ID0gY2xhc3NpZnlTZXRzKEEsIEIpO1xuICAgICAgICAgICAgc3dpdGNoIChjb250KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBTZXRDb250YWlubWVudC5EaXNqb2ludDpcbiAgICAgICAgICAgICAgICAgICAgLy8gTm8gY29tbW9uIGZhY2VzIGF0IGFsbC4gRS5nLiwgZm9yIHR3byBob2xlcy5cbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBTZXRDb250YWlubWVudC5Db250YWluczpcbiAgICAgICAgICAgICAgICAgICAgbG9vcEluZm9zW2FdLmNvbnRhaW5lZExvb3BzLnB1c2goYik7XG4gICAgICAgICAgICAgICAgICAgIGxvb3BJbmZvc1tiXS5yYW5rKys7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgU2V0Q29udGFpbm1lbnQuSXNDb250YWluZWRJbjpcbiAgICAgICAgICAgICAgICAgICAgbG9vcEluZm9zW2JdLmNvbnRhaW5lZExvb3BzLnB1c2goYik7XG4gICAgICAgICAgICAgICAgICAgIGxvb3BJbmZvc1thXS5yYW5rKys7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGxvb3BJbmZvc1thXS5lcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGxvb3BJbmZvc1tiXS5lcnJvciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgb3JpZ2luYWwgcGF0aHMgY29udGFpbmVkIGVtcHR5IGxvb3BzLCB3ZSBtYXkgaGF2ZSB0byByZWluZGV4IHRoZSBsb29wSW5mb3MsXG4gICAgLy8gYmVjYXVzZSBlbXB0eSBsb29wcyB3aWxsIG5vdCBwcm9kdWNlIGEgY29ycmVzcG9uZGluZyB3aXJlIGluIHRoZSBTb2xpZERlZiByZXByZXNlbnRhdGlvbi5cbiAgICBpZiAod2lyZXMubGVuZ3RoICE9PSBwYXRoLmxvb3BDb3VudCkge1xuICAgICAgICBjb25zdCByZWluZGV4ZWQgPSBbXTtcbiAgICAgICAgY29uc3Qgc3JjSW5kZXggPSAwO1xuICAgICAgICBmb3IgKGxldCBsPTA7IGw8cGF0aC5sb29wQ291bnQ7IGwrKykge1xuICAgICAgICAgICAgLy8gT25seSBub24tZW1wdHkgbG9vcHMgZ2V0IGxvb3BJbmZvc1xuICAgICAgICAgICAgaWYgKHBhdGguZ2V0VmVydGV4Q291bnQobCkpIHtcbiAgICAgICAgICAgICAgICByZWluZGV4ZWRbaV0gPSBsb29wSW5mb3Nbc3JjSW5kZXgrK107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbG9vcEluZm9zID0gcmVpbmRleGVkO1xuICAgIH1cblxuICAgIHJldHVybiBsb29wSW5mb3M7XG59O1xuIl0sIm5hbWVzIjpbIlNvbGlkRGVmQ29udmVydCIsIlNrZXRjaFJlZ2lvblNvbHZlciIsImdldFJlZ2lvbkVkZ2VzIiwiZ2V0Qm91bmRlZFJlZ2lvbkZhY2VzIiwiY29tcHV0ZUN1cnZlQ3VydmVJbnRlcnNlY3Rpb25zIiwiU2V0Q29udGFpbm1lbnQiLCJDb250YWlucyIsIklzQ29udGFpbmVkSW4iLCJEaXNqb2ludCIsIk92ZXJsYXBwaW5nIiwiRXF1YWwiLCJnZXRGYWNlc0luc2lkZUxvb3AiLCJzb2x2ZXIiLCJsb29wRWRnZXMiLCJyZWdpb25GYWNlcyIsImdldEZhY2VzIiwiY3V0UmVnaW9uRWRnZXMiLCJQcmVjaXNpb24iLCJoYXNTZWxmSW50ZXJzZWN0aW9ucyIsImkiLCJsZW5ndGgiLCJlZGdlMSIsImoiLCJlZGdlMiIsImN1dHMiLCJjdXQiLCJwYXJhbTEiLCJjdXRJbmZvIiwicGFyYW0iLCJwYXJhbTIiLCJjdXRCeUluZm8iLCJyYW5nZTEiLCJnZXRSYW5nZSIsInJhbmdlMiIsImRpc3QxIiwiTWF0aCIsIm1pbiIsImFicyIsImRpc3QyIiwiZCIsIm1heCIsImNsYXNzaWZ5U2V0cyIsIkEiLCJCIiwiZm91bmRDb21tb24iLCJmb3VuZEFPbmx5IiwiZm91bmRCT25seSIsImNoZWNrRWxlbXMiLCJlbGVtSW5kZXgiLCJpc0luQSIsImhhcyIsImlzSW5CIiwiZWxlbSIsImNvbXB1dGVMb29wQ29udGFpbm1lbnQiLCJwYXRoIiwicGF0aFNkIiwidG9Tb2xpZERlZlBhdGgiLCJ3aXJlQm9keSIsImdldFdpcmVCb2R5Iiwid2lyZXMiLCJnZXRXaXJlcyIsImVkZ2VzIiwiZ2V0RWRnZXMiLCJsb29wSW5mb3MiLCJsIiwidyIsImNvbnRhaW5lZExvb3BzIiwicmFuayIsImVycm9yIiwiY29tcHV0ZSIsImZhY2VzIiwiZm9yRWFjaCIsImYiLCJpbmRleCIsImFycmF5SW5kZXgiLCJmYWNlc1Blckxvb3AiLCJTZXQiLCJlbmNsb3NlZEZhY2VJZHMiLCJhZGQiLCJhIiwiYiIsImNvbnQiLCJwdXNoIiwibG9vcENvdW50IiwicmVpbmRleGVkIiwic3JjSW5kZXgiLCJnZXRWZXJ0ZXhDb3VudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Edit2D/LoopContainment.js\n");

/***/ }),

/***/ "./extensions/Edit2D/Math2D.js":
/*!*************************************!*\
  !*** ./extensions/Edit2D/Math2D.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Math2D: () => (/* binding */ Math2D)\n/* harmony export */ });\nconst tmpVec2d = new THREE.Vector2();\nconst tmpVec2d2 = new THREE.Vector2();\n\n// Collection of simple helper functions for 2D math functions.\n\n// Return normalized edge direction vector (b-a).normalized\nconst getEdgeDirection = (a, b, target) => {\n  target = target || new THREE.Vector2();\n\n  return target.copy(b).sub(a).normalize();\n};\n\nconst getEdgeCenter = (a, b, target) => {\n  target = target || new THREE.Vector2();\n\n  return target.set(0.5 * (a.x + b.x), 0.5 * (a.y + b.y));\n};\n\n// Get edge length. (a, b) can just be {x, y} pairs, i.e., not required to be THREE.Vector2\nconst getEdgeLength = (a, b) => {\n  const dx = b.x - a.x;\n  const dy = b.y - a.y;\n  return Math.sqrt(dx * dx + dy * dy);\n};\n\n// Rotates direction vector p 90 degrees to the left. (in-place)\nconst turnLeft = (p) => {\n  const tmp = p.x;\n  p.x = -p.y;\n  p.y = tmp;\n  return p;\n};\n\n// Projects a point p to a line. Works in-place\n//  @param {Vector2} p\n//  @param {Vector2} linePoint - point on the line\n//  @param {Vector2} lineDir   - line direction. Must be normalized\nconst projectToLine = (p, linePoint, lineDir) => {\n\n  // dp = dot(p-linePoint, lineDir)\n  const dp = (p.x - linePoint.x) * lineDir.x + (p.y - linePoint.y) * lineDir.y;\n\n  // return linePoint + lineDir * dp\n  p.set(\n    linePoint.x + dp * lineDir.x,\n    linePoint.y + dp * lineDir.y\n  );\n};\n\n// Get distance between the point p and a line given by point and direction.\n//  @param {Vector2} p\n//  @param {Vector2} linePoint - point on the line\n//  @param {Vector2} lineDir   - line direction. Must be normalized\nconst pointLineDistance = function () {\n  let pProj = new THREE.Vector2();\n  return (p, linePoint, lineDir) => {\n    projectToLine(pProj.copy(p), linePoint, lineDir);\n    return pProj.distanceTo(p);\n  };\n}();\n\n// Calculates the intersection point of both given lines\n// assumes that the lines are not parallel\n// see: http://www.paulbourke.net/geometry/pointlineplane/\nconst intersectLines = (linePoint1, lineDir1, linePoint2, lineDir2, outPoint) => {\n\n  const denom = lineDir2.y * lineDir1.x - lineDir2.x * lineDir1.y;\n  if (Math.abs(denom) < 1.0e-8) {return false;}\n\n  // diff = linePoint1 - linePoint2\n  const diffX = linePoint1.x - linePoint2.x;\n  const diffY = linePoint1.y - linePoint2.y;\n\n  const u = lineDir2.x * diffY - lineDir2.y * diffX;\n\n  if (outPoint) {\n    outPoint.x = linePoint1.x + u / denom * lineDir1.x;\n    outPoint.y = linePoint1.y + u / denom * lineDir1.y;\n  }\n  return true;\n};\n\n// Rotate a vector p around origin or a given center. Works in-place.\n//  @param {Vector2} p\n//  @param {number}  angle in radians\n//  @param [Vector2] center\nconst rotateAround = (p, angle, center) => {\n\n  let c = Math.cos(angle);\n  let s = Math.sin(angle);\n\n  if (center) {\n    p.sub(center);\n  }\n\n  let x = p.x;\n  let y = p.y;\n\n  p.x = x * c - y * s;\n  p.y = x * s + y * c;\n\n  if (center) {\n    p.add(center);\n  }\n  return p;\n};\n\n//  @param {Vector2} dir1, dir2           - No normalization required.\n//  @returns {number} result in [0, 2*Pi] - clockwise angle in radians that you have to apply to rotate dir2 into dir1.\nconst angleBetweenDirections = (dir1, dir2) => {\n\n  // get angle formed with positive x-axis.\n  // angle1/2 are in [-Pi, Pi]\n  const angle1 = Math.atan2(dir1.y, dir1.x);\n  const angle2 = Math.atan2(dir2.y, dir2.x);\n\n  // Difference is in [-2*Pi, 2*Pi]\n  let angle = angle1 - angle2;\n\n  // Map result to [0, 2*Pi] range\n  if (angle < 0) angle += 2 * Math.PI;\n\n  return angle;\n};\n\n// see isPointOnEdge\nconst isPointOnLine = (p, a, b, precision) => {\n  return isPointOnEdge(p, a, b, precision, false);\n};\n\n// Returns true if p lies close to the edge (p1, p2).\nconst isPointOnEdge = function (p, a, b, precision) {let checkInsideSegment = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n\n  // Compute edge length\n  const dx = b.x - a.x;\n  const dy = b.y - a.y;\n  const length = Math.sqrt(dx * dx + dy * dy);\n\n  let e = {\n    v1: a,\n    dx: dx,\n    dy: dy,\n    length: length,\n    length2: length * length\n  };\n  return Autodesk.Extensions.CompGeom.pointOnLine(p.x, p.y, e, checkInsideSegment, precision);\n};\n\nconst pointDelta = function (a, b) {let digits = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  let delta = { x: b.x - a.x, y: b.y - a.y };\n  if (digits)\n  {\n    let exp = Math.pow(10, digits);\n    delta.x = Math.round(delta.x * exp) / exp;\n    delta.y = Math.round(delta.y * exp) / exp;\n  }\n  if (!delta.x && !delta.y) {\n    return;\n  }\n  return delta;\n};\n\nconst edgeIsDegenerated = function (a, b) {let eps2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1.0e-10;\n  return a.distanceToSquared(b) < eps2;\n};\n\n// Compute target point resulting from mirroring point p\n// on the given center point c.\nconst mirrorPointOnPoint = function (p, c) {let target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n  target = target || new THREE.Vector2();\n  target.x = c.x - (p.x - c.x);\n  target.y = c.y - (p.y - c.y);\n  return target;\n};\n\nconst fuzzyEqual = (a, b, precision) => {\n  return Math.abs(a - b) < precision;\n};\n\n// Checks if two lines are collinear.\n//  @param {Vector2} p1, dir1 - First line, given as point and normalized direction.\n//  @param {Vector2} p2, dir2 - Second line\n//  @param {number}  precision\n//  @returns {bool}\nconst collinear = (p1, dir1, p2, dir2, precision) => {\n\n  // Directions must be either equal or opposite\n  const dirEqual = fuzzyEqual(dir1.x, dir2.x, precision) && fuzzyEqual(dir1.y, dir2.y, precision);\n  const dirOpposite = fuzzyEqual(dir1.x, -dir2.x, precision) && fuzzyEqual(dir1.y, -dir2.y, precision);\n  if (!dirEqual && !dirOpposite) {\n    return false;\n  }\n\n  // Directions are equal or opposite => Lines are collinear if and only if p2 is on line (p1, dir1).\n  const dx = p2.x - p1.x;\n  const dy = p2.y - p1.y;\n  let dot = dx * dir1.x + dy * dir1.y;\n  return Math.abs(dot) < precision;\n};\n\n// same as p1.distanceTo(p2), but working for any {x,y} object.\nconst distance2D = (p1, p2) => {\n  const dx = p2.x - p1.x;\n  const dy = p2.y - p1.y;\n  return Math.sqrt(dx * dx + dy * dy);\n};\n\n// Checks if a matrix changes the orientation.\n//  @param {Matrix4} matrix\nconst changesOrientation = (matrix) => {\n  return matrix.determinant() < 0;\n};\n\n// Compute a matrix that transforms fromBox into toBox.\n//\n//  @param {Box2}    fromBox\n//  @param {Box2}    toBox\n//  @param {Object}  [options]\n//  @param {bool}    [options.flipY]           - include y-axis flip\n//  @param {bool}    [options.preserveAspect]  - force uniform scaling (m * fromBox might be smaller than toBox in one axis)\n//  @param {Matrix4} [target]\nconst getFitToBoxTransform = function (fromBox, toBox) {let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};let target = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : new THREE.Matrix4();\n  const fromSize = fromBox.size(tmpVec2d);\n  const toSize = toBox.size(tmpVec2d2);\n\n  // compute scale\n  let sx = toSize.x / fromSize.x;\n  let sy = toSize.y / fromSize.y;\n\n  // preserveAspect\n  if (options.preserveAspect) {\n    sx = Math.min(sx, sy);\n    sy = sx;\n  }\n\n  // anchor is the point of fromBox that will be mapped to toBox.min\n  let anchorX = fromBox.min.x;\n  let anchorY = fromBox.min.y;\n\n  // apply optional y-flip\n  if (options.flipY) {\n    sy *= -1;\n    anchorY = fromBox.max.y;\n  }\n\n  // compute translation: after scaling, anchor should move to toBox.min\n  let tx = -sx * anchorX + toBox.min.x;\n  let ty = -sy * anchorY + toBox.min.y;\n\n  // Create (scale + translate)-matrix.\n  const matrix = target.makeScale(sx, sy, 1.0);\n  matrix.elements[12] = tx;\n  matrix.elements[13] = ty;\n\n  return matrix;\n};\n\n/**\n * Returns where a point p is located along a given edge (a,b).\n * More exactly, if p' is the projection of p to the line spanned by (a,b),\n * this function returns the distance between p' and a.\n * @param {Vector2} p\n * @param {Vector2} a - edge endpoint\n * @param {Vector2} b - edge endpoint\n * @returns {number} distance along the edge, e.g 0 for p=a and edgeLength for p=b.\n */\nconst getDistanceAlongEdge = (p, a, b) => {\n\n  // get normalized edge direction vector (a->b)\n  const edgeDir = getEdgeDirection(a, b, tmpVec2d);\n\n  // return dotProduct dot(p-a, edgeDir)\n  const dp = (p.x - a.x) * edgeDir.x + (p.y - a.y) * edgeDir.y;\n  return dp;\n};\n\n/**\n * Returns true if p is located on a single miterLine segment with the given lineWidth.\n *\n * A miterLine segment is only buffered towards the edge normals, but\n * the length along the edge is not affected by the lineWidth.\n *\n * @param {Vector2} p - Point to test\n * @param {Vector2} a - First edge endpoint\n * @param {Vector2} b - Second edge endpoint\n * @param {number} lineWidth - Width of the miterLine\n * @param {number} precision - Tolerance for hit-testing\n * @returns {boolean} - Whether the point hits the line\n */\nconst pointOnMiterLineSegment = (p, a, b, lineWidth, precision) => {\n\n  const bufferRadius = 0.5 * lineWidth;\n\n  // Check if the distance of p to the on the line (a, b) is below the bufferRadius.\n  const summedRadius = bufferRadius + precision;\n  if (!isPointOnLine(p, a, b, summedRadius)) {\n    // If p is not even close to the line, we can abort early.\n    return false;\n  }\n\n  // Check where p is \"along the line\"...\n  const d = getDistanceAlongEdge(p, a, b);\n\n  // Consider tolerance beyond endpoints (note that we must exclude the lineWidth in this case)\n  const edgeLength = getEdgeLength(a, b);\n  const dMin = -precision;\n  const dMax = edgeLength + precision;\n  return d >= dMin && d < dMax;\n};\n\n/**\n * A point is considered to be on a miterLine junction if it is in the intersection\n *  of the lines spanned by (a,b) and (b,c)\n *\n *  Note: This function includes a few heuristic trade-offs for special cases. Supporting these more reliably\n *        would require more complex logic to match the rendering behavior of miter joints more exactly.\n *        We ignore the miter joints in the following cases:\n *         - Collinear: If the angle formed by both edges is close colliear within a given angle tolerance\n *         - Degenerated edges: We reject joints if one of the adjacent lines is shoter than the lineWidth.\n *\n *   @param {Vector2} p\n *   @param {Vector2} a, b, c\n *   @param {number}  lineWidth - width of the miterLine\n *   @param {number}  precision\n *   @param {number} [maxCosAlpha] For close-to-collinear edges, the joint would theoretically shoot to infinity.\n *                                 We make the simplifying assumption that miter joints are not drawn if the angle becomes too small.\n *                                 The threshold is given as cos(alpha), where alpha is the threshold angle.\n */\nconst pointOnMiterLineJunction = function (\np,\na, b, c,\nlineWidth, precision)\n\n{let maxCosAlpha = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 0.985;\n\n  // get normalized edge directions for (a,b) and (b,c)\n  const dir1 = getEdgeDirection(a, b, tmpVec2d);\n  const dir2 = getEdgeDirection(b, c, tmpVec2d2);\n\n  // Block if the edges are too close to being collinear.\n  const dp = Math.abs(dir1.dot(dir2)); // = cos(alpha) where alpha is the angle formed by the two edges.\n  const tooCollinear = dp > maxCosAlpha;\n  if (tooCollinear) {\n    return false;\n  }\n\n  // Block if >1 of the edges is too short.\n  const tooShort = getEdgeLength(a, b) < lineWidth || getEdgeLength(b, c) < lineWidth;\n  if (tooShort) {\n    return false;\n  }\n\n  // get distances of p two the 2 lineSelection\n  const d1 = pointLineDistance(p, a, dir1);\n  const d2 = pointLineDistance(p, b, dir2);\n\n  const dMax = 0.5 * lineWidth + precision;\n  return d1 <= dMax && d2 < dMax;\n};\n\n\n\nconst Math2D = {\n  getEdgeDirection,\n  projectToLine,\n  pointLineDistance,\n  intersectLines,\n  rotateAround,\n  angleBetweenDirections,\n  getEdgeCenter,\n  getEdgeLength,\n  turnLeft,\n  isPointOnEdge,\n  isPointOnLine,\n  pointDelta,\n  edgeIsDegenerated,\n  mirrorPointOnPoint,\n  fuzzyEqual,\n  collinear,\n  distance2D,\n  changesOrientation,\n  getFitToBoxTransform,\n  pointOnMiterLineSegment,\n  pointOnMiterLineJunction\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZXh0ZW5zaW9ucy9FZGl0MkQvTWF0aDJELmpzP2FjMDYiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgdG1wVmVjMmQgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuY29uc3QgdG1wVmVjMmQyID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuLy8gQ29sbGVjdGlvbiBvZiBzaW1wbGUgaGVscGVyIGZ1bmN0aW9ucyBmb3IgMkQgbWF0aCBmdW5jdGlvbnMuXG5cbi8vIFJldHVybiBub3JtYWxpemVkIGVkZ2UgZGlyZWN0aW9uIHZlY3RvciAoYi1hKS5ub3JtYWxpemVkXG5jb25zdCBnZXRFZGdlRGlyZWN0aW9uID0gKGEsIGIsIHRhcmdldCkgPT4ge1xuICAgIHRhcmdldCA9IHRhcmdldCB8fCBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXG4gICAgcmV0dXJuIHRhcmdldC5jb3B5KGIpLnN1YihhKS5ub3JtYWxpemUoKTtcbn07XG5cbmNvbnN0IGdldEVkZ2VDZW50ZXIgPSAoYSwgYiwgdGFyZ2V0KSA9PiB7XG4gICAgdGFyZ2V0ID0gdGFyZ2V0IHx8IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cbiAgICByZXR1cm4gdGFyZ2V0LnNldCgwLjUgKiAoYS54ICsgYi54KSwgMC41ICogKGEueSArIGIueSkpO1xufTtcblxuLy8gR2V0IGVkZ2UgbGVuZ3RoLiAoYSwgYikgY2FuIGp1c3QgYmUge3gsIHl9IHBhaXJzLCBpLmUuLCBub3QgcmVxdWlyZWQgdG8gYmUgVEhSRUUuVmVjdG9yMlxuY29uc3QgZ2V0RWRnZUxlbmd0aCA9IChhLCBiKSA9PiB7XG4gICAgY29uc3QgZHggPSBiLnggLSBhLng7XG4gICAgY29uc3QgZHkgPSBiLnkgLSBhLnk7XG4gICAgcmV0dXJuIE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG59O1xuXG4vLyBSb3RhdGVzIGRpcmVjdGlvbiB2ZWN0b3IgcCA5MCBkZWdyZWVzIHRvIHRoZSBsZWZ0LiAoaW4tcGxhY2UpXG5jb25zdCB0dXJuTGVmdCA9IChwKSA9PiB7XG4gICAgY29uc3QgdG1wID0gcC54O1xuICAgIHAueCA9IC1wLnk7XG4gICAgcC55ID0gdG1wO1xuICAgIHJldHVybiBwO1xufTtcblxuLy8gUHJvamVjdHMgYSBwb2ludCBwIHRvIGEgbGluZS4gV29ya3MgaW4tcGxhY2Vcbi8vICBAcGFyYW0ge1ZlY3RvcjJ9IHBcbi8vICBAcGFyYW0ge1ZlY3RvcjJ9IGxpbmVQb2ludCAtIHBvaW50IG9uIHRoZSBsaW5lXG4vLyAgQHBhcmFtIHtWZWN0b3IyfSBsaW5lRGlyICAgLSBsaW5lIGRpcmVjdGlvbi4gTXVzdCBiZSBub3JtYWxpemVkXG5jb25zdCBwcm9qZWN0VG9MaW5lID0gKHAsIGxpbmVQb2ludCwgbGluZURpcikgPT4ge1xuXG4gICAgLy8gZHAgPSBkb3QocC1saW5lUG9pbnQsIGxpbmVEaXIpXG4gICAgY29uc3QgZHAgPSAocC54IC0gbGluZVBvaW50LngpICogbGluZURpci54ICsgKHAueSAtIGxpbmVQb2ludC55KSAqIGxpbmVEaXIueTtcblxuICAgIC8vIHJldHVybiBsaW5lUG9pbnQgKyBsaW5lRGlyICogZHBcbiAgICBwLnNldChcbiAgICAgICAgbGluZVBvaW50LnggKyBkcCAqIGxpbmVEaXIueCxcbiAgICAgICAgbGluZVBvaW50LnkgKyBkcCAqIGxpbmVEaXIueVxuICAgICk7XG59O1xuXG4vLyBHZXQgZGlzdGFuY2UgYmV0d2VlbiB0aGUgcG9pbnQgcCBhbmQgYSBsaW5lIGdpdmVuIGJ5IHBvaW50IGFuZCBkaXJlY3Rpb24uXG4vLyAgQHBhcmFtIHtWZWN0b3IyfSBwXG4vLyAgQHBhcmFtIHtWZWN0b3IyfSBsaW5lUG9pbnQgLSBwb2ludCBvbiB0aGUgbGluZVxuLy8gIEBwYXJhbSB7VmVjdG9yMn0gbGluZURpciAgIC0gbGluZSBkaXJlY3Rpb24uIE11c3QgYmUgbm9ybWFsaXplZFxuY29uc3QgcG9pbnRMaW5lRGlzdGFuY2UgPSBmdW5jdGlvbigpIHtcbiAgICBsZXQgcFByb2ogPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuICAgIHJldHVybiAocCwgbGluZVBvaW50LCBsaW5lRGlyKSA9PiB7XG4gICAgICAgIHByb2plY3RUb0xpbmUocFByb2ouY29weShwKSwgbGluZVBvaW50LCBsaW5lRGlyKTtcbiAgICAgICAgcmV0dXJuIHBQcm9qLmRpc3RhbmNlVG8ocCk7XG4gICAgfTtcbn0oKTtcblxuLy8gQ2FsY3VsYXRlcyB0aGUgaW50ZXJzZWN0aW9uIHBvaW50IG9mIGJvdGggZ2l2ZW4gbGluZXNcbi8vIGFzc3VtZXMgdGhhdCB0aGUgbGluZXMgYXJlIG5vdCBwYXJhbGxlbFxuLy8gc2VlOiBodHRwOi8vd3d3LnBhdWxib3Vya2UubmV0L2dlb21ldHJ5L3BvaW50bGluZXBsYW5lL1xuY29uc3QgaW50ZXJzZWN0TGluZXMgPSAobGluZVBvaW50MSwgbGluZURpcjEsIGxpbmVQb2ludDIsIGxpbmVEaXIyLCBvdXRQb2ludCkgPT4ge1xuXG4gICAgY29uc3QgZGVub20gPSAobGluZURpcjIueSAqIGxpbmVEaXIxLngpIC0gKGxpbmVEaXIyLnggKiBsaW5lRGlyMS55KTtcbiAgICBpZiAoTWF0aC5hYnMoZGVub20pIDwgMS4wZS04KSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgLy8gZGlmZiA9IGxpbmVQb2ludDEgLSBsaW5lUG9pbnQyXG4gICAgY29uc3QgZGlmZlggPSBsaW5lUG9pbnQxLnggLSBsaW5lUG9pbnQyLng7XG4gICAgY29uc3QgZGlmZlkgPSBsaW5lUG9pbnQxLnkgLSBsaW5lUG9pbnQyLnk7XG5cbiAgICBjb25zdCB1ID0gbGluZURpcjIueCAqIGRpZmZZIC0gbGluZURpcjIueSAqIGRpZmZYO1xuXG4gICAgaWYgKG91dFBvaW50KSB7XG4gICAgICAgIG91dFBvaW50LnggPSBsaW5lUG9pbnQxLnggKyB1L2Rlbm9tICogbGluZURpcjEueDtcbiAgICAgICAgb3V0UG9pbnQueSA9IGxpbmVQb2ludDEueSArIHUvZGVub20gKiBsaW5lRGlyMS55O1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8vIFJvdGF0ZSBhIHZlY3RvciBwIGFyb3VuZCBvcmlnaW4gb3IgYSBnaXZlbiBjZW50ZXIuIFdvcmtzIGluLXBsYWNlLlxuLy8gIEBwYXJhbSB7VmVjdG9yMn0gcFxuLy8gIEBwYXJhbSB7bnVtYmVyfSAgYW5nbGUgaW4gcmFkaWFuc1xuLy8gIEBwYXJhbSBbVmVjdG9yMl0gY2VudGVyXG5jb25zdCByb3RhdGVBcm91bmQgPSAocCwgYW5nbGUsIGNlbnRlcikgPT4ge1xuXG4gICAgbGV0IGMgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgbGV0IHMgPSBNYXRoLnNpbihhbmdsZSk7XG5cbiAgICBpZiAoY2VudGVyKSB7XG4gICAgICAgIHAuc3ViKGNlbnRlcik7XG4gICAgfVxuXG4gICAgbGV0IHggPSBwLng7XG4gICAgbGV0IHkgPSBwLnk7XG5cbiAgICBwLnggPSB4ICogYyAtIHkgKiBzO1xuICAgIHAueSA9IHggKiBzICsgeSAqIGM7XG5cbiAgICBpZiAoY2VudGVyKSB7XG4gICAgICAgIHAuYWRkKGNlbnRlcik7XG4gICAgfVxuICAgIHJldHVybiBwO1xufTtcblxuLy8gIEBwYXJhbSB7VmVjdG9yMn0gZGlyMSwgZGlyMiAgICAgICAgICAgLSBObyBub3JtYWxpemF0aW9uIHJlcXVpcmVkLlxuLy8gIEByZXR1cm5zIHtudW1iZXJ9IHJlc3VsdCBpbiBbMCwgMipQaV0gLSBjbG9ja3dpc2UgYW5nbGUgaW4gcmFkaWFucyB0aGF0IHlvdSBoYXZlIHRvIGFwcGx5IHRvIHJvdGF0ZSBkaXIyIGludG8gZGlyMS5cbmNvbnN0IGFuZ2xlQmV0d2VlbkRpcmVjdGlvbnMgPSAoZGlyMSwgZGlyMikgPT4ge1xuXG4gICAgLy8gZ2V0IGFuZ2xlIGZvcm1lZCB3aXRoIHBvc2l0aXZlIHgtYXhpcy5cbiAgICAvLyBhbmdsZTEvMiBhcmUgaW4gWy1QaSwgUGldXG4gICAgY29uc3QgYW5nbGUxID0gTWF0aC5hdGFuMihkaXIxLnksIGRpcjEueCk7XG4gICAgY29uc3QgYW5nbGUyID0gTWF0aC5hdGFuMihkaXIyLnksIGRpcjIueCk7XG5cbiAgICAvLyBEaWZmZXJlbmNlIGlzIGluIFstMipQaSwgMipQaV1cbiAgICBsZXQgYW5nbGUgPSBhbmdsZTEgLSBhbmdsZTI7XG5cbiAgICAvLyBNYXAgcmVzdWx0IHRvIFswLCAyKlBpXSByYW5nZVxuICAgIGlmIChhbmdsZSA8IDApIGFuZ2xlICs9IDIgKiBNYXRoLlBJO1xuXG4gICAgcmV0dXJuIGFuZ2xlO1xufTtcblxuLy8gc2VlIGlzUG9pbnRPbkVkZ2VcbmNvbnN0IGlzUG9pbnRPbkxpbmUgPSAocCwgYSwgYiwgcHJlY2lzaW9uKSA9PiB7XG4gICAgcmV0dXJuIGlzUG9pbnRPbkVkZ2UocCwgYSwgYiwgcHJlY2lzaW9uLCBmYWxzZSk7XG59O1xuXG4vLyBSZXR1cm5zIHRydWUgaWYgcCBsaWVzIGNsb3NlIHRvIHRoZSBlZGdlIChwMSwgcDIpLlxuY29uc3QgaXNQb2ludE9uRWRnZSA9IChwLCBhLCBiLCBwcmVjaXNpb24sIGNoZWNrSW5zaWRlU2VnbWVudCA9IHRydWUpID0+IHtcblxuICAgIC8vIENvbXB1dGUgZWRnZSBsZW5ndGhcbiAgICBjb25zdCBkeCA9IGIueCAtIGEueDtcbiAgICBjb25zdCBkeSA9IGIueSAtIGEueTtcbiAgICBjb25zdCBsZW5ndGggPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuXG4gICAgbGV0IGUgPSB7XG4gICAgICAgIHYxOiBhLFxuICAgICAgICBkeDogZHgsXG4gICAgICAgIGR5OiBkeSxcbiAgICAgICAgbGVuZ3RoOiBsZW5ndGgsXG4gICAgICAgIGxlbmd0aDI6IGxlbmd0aCAqIGxlbmd0aFxuICAgIH07XG4gICAgcmV0dXJuIEF1dG9kZXNrLkV4dGVuc2lvbnMuQ29tcEdlb20ucG9pbnRPbkxpbmUocC54LCBwLnksIGUsIGNoZWNrSW5zaWRlU2VnbWVudCwgcHJlY2lzaW9uKTtcbn07XG5cbmNvbnN0IHBvaW50RGVsdGEgPSAoYSwgYiwgZGlnaXRzID0gbnVsbCkgPT4ge1xuICAgIGxldCBkZWx0YSA9IHt4OiBiLnggLSBhLngsIHk6IGIueSAtIGEueX07XG4gICAgaWYgKGRpZ2l0cylcbiAgICB7XG4gICAgICAgIGxldCBleHAgPSBNYXRoLnBvdygxMCwgZGlnaXRzKTtcbiAgICAgICAgZGVsdGEueCA9IE1hdGgucm91bmQoZGVsdGEueCAqIGV4cCkgLyBleHA7XG4gICAgICAgIGRlbHRhLnkgPSBNYXRoLnJvdW5kKGRlbHRhLnkgKiBleHApIC8gZXhwO1xuICAgIH1cbiAgICBpZiAoIWRlbHRhLnggJiYgIWRlbHRhLnkpe1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBkZWx0YTtcbn07XG5cbmNvbnN0IGVkZ2VJc0RlZ2VuZXJhdGVkID0gKGEsIGIsIGVwczIgPSAxLjBlLTEwKSA9PiB7XG4gICAgcmV0dXJuIGEuZGlzdGFuY2VUb1NxdWFyZWQoYikgPCBlcHMyO1xufTtcblxuLy8gQ29tcHV0ZSB0YXJnZXQgcG9pbnQgcmVzdWx0aW5nIGZyb20gbWlycm9yaW5nIHBvaW50IHBcbi8vIG9uIHRoZSBnaXZlbiBjZW50ZXIgcG9pbnQgYy5cbmNvbnN0IG1pcnJvclBvaW50T25Qb2ludCA9IChwLCBjLCB0YXJnZXQgPSB1bmRlZmluZWQpID0+IHtcbiAgICB0YXJnZXQgPSB0YXJnZXQgfHwgbmV3IFRIUkVFLlZlY3RvcjIoKTtcbiAgICB0YXJnZXQueCA9IGMueCAtIChwLnggLSBjLngpO1xuICAgIHRhcmdldC55ID0gYy55IC0gKHAueSAtIGMueSk7XG4gICAgcmV0dXJuIHRhcmdldDtcbn07XG5cbmNvbnN0IGZ1enp5RXF1YWwgPSAoYSwgYiwgcHJlY2lzaW9uKSA9PiB7XG4gICAgcmV0dXJuIE1hdGguYWJzKGEgLSBiKSA8IHByZWNpc2lvbjtcbn07XG5cbi8vIENoZWNrcyBpZiB0d28gbGluZXMgYXJlIGNvbGxpbmVhci5cbi8vICBAcGFyYW0ge1ZlY3RvcjJ9IHAxLCBkaXIxIC0gRmlyc3QgbGluZSwgZ2l2ZW4gYXMgcG9pbnQgYW5kIG5vcm1hbGl6ZWQgZGlyZWN0aW9uLlxuLy8gIEBwYXJhbSB7VmVjdG9yMn0gcDIsIGRpcjIgLSBTZWNvbmQgbGluZVxuLy8gIEBwYXJhbSB7bnVtYmVyfSAgcHJlY2lzaW9uXG4vLyAgQHJldHVybnMge2Jvb2x9XG5jb25zdCBjb2xsaW5lYXIgPSAocDEsIGRpcjEsIHAyLCBkaXIyLCBwcmVjaXNpb24pID0+IHtcblxuICAgIC8vIERpcmVjdGlvbnMgbXVzdCBiZSBlaXRoZXIgZXF1YWwgb3Igb3Bwb3NpdGVcbiAgICBjb25zdCBkaXJFcXVhbCAgICA9IGZ1enp5RXF1YWwoZGlyMS54LCBkaXIyLngsIHByZWNpc2lvbikgICYmIGZ1enp5RXF1YWwoZGlyMS55LCBkaXIyLnksIHByZWNpc2lvbik7XG4gICAgY29uc3QgZGlyT3Bwb3NpdGUgPSBmdXp6eUVxdWFsKGRpcjEueCwgLWRpcjIueCwgcHJlY2lzaW9uKSAmJiBmdXp6eUVxdWFsKGRpcjEueSwgLWRpcjIueSwgcHJlY2lzaW9uKTtcbiAgICBpZiAoIWRpckVxdWFsICYmICFkaXJPcHBvc2l0ZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gRGlyZWN0aW9ucyBhcmUgZXF1YWwgb3Igb3Bwb3NpdGUgPT4gTGluZXMgYXJlIGNvbGxpbmVhciBpZiBhbmQgb25seSBpZiBwMiBpcyBvbiBsaW5lIChwMSwgZGlyMSkuXG4gICAgY29uc3QgZHggPSBwMi54IC0gcDEueDtcbiAgICBjb25zdCBkeSA9IHAyLnkgLSBwMS55O1xuICAgIGxldCBkb3QgPSBkeCAqIGRpcjEueCArIGR5ICogZGlyMS55O1xuICAgIHJldHVybiBNYXRoLmFicyhkb3QpIDwgcHJlY2lzaW9uO1xufTtcblxuLy8gc2FtZSBhcyBwMS5kaXN0YW5jZVRvKHAyKSwgYnV0IHdvcmtpbmcgZm9yIGFueSB7eCx5fSBvYmplY3QuXG5jb25zdCBkaXN0YW5jZTJEID0gKHAxLCBwMikgID0+IHtcbiAgICBjb25zdCBkeCA9IHAyLnggLSBwMS54O1xuICAgIGNvbnN0IGR5ID0gcDIueSAtIHAxLnk7XG4gICAgcmV0dXJuIE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG59O1xuXG4vLyBDaGVja3MgaWYgYSBtYXRyaXggY2hhbmdlcyB0aGUgb3JpZW50YXRpb24uXG4vLyAgQHBhcmFtIHtNYXRyaXg0fSBtYXRyaXhcbmNvbnN0IGNoYW5nZXNPcmllbnRhdGlvbiA9IChtYXRyaXgpID0+IHtcbiAgICByZXR1cm4gbWF0cml4LmRldGVybWluYW50KCkgPCAwO1xufTtcblxuLy8gQ29tcHV0ZSBhIG1hdHJpeCB0aGF0IHRyYW5zZm9ybXMgZnJvbUJveCBpbnRvIHRvQm94LlxuLy9cbi8vICBAcGFyYW0ge0JveDJ9ICAgIGZyb21Cb3hcbi8vICBAcGFyYW0ge0JveDJ9ICAgIHRvQm94XG4vLyAgQHBhcmFtIHtPYmplY3R9ICBbb3B0aW9uc11cbi8vICBAcGFyYW0ge2Jvb2x9ICAgIFtvcHRpb25zLmZsaXBZXSAgICAgICAgICAgLSBpbmNsdWRlIHktYXhpcyBmbGlwXG4vLyAgQHBhcmFtIHtib29sfSAgICBbb3B0aW9ucy5wcmVzZXJ2ZUFzcGVjdF0gIC0gZm9yY2UgdW5pZm9ybSBzY2FsaW5nIChtICogZnJvbUJveCBtaWdodCBiZSBzbWFsbGVyIHRoYW4gdG9Cb3ggaW4gb25lIGF4aXMpXG4vLyAgQHBhcmFtIHtNYXRyaXg0fSBbdGFyZ2V0XVxuY29uc3QgZ2V0Rml0VG9Cb3hUcmFuc2Zvcm0gPSAoZnJvbUJveCwgdG9Cb3gsIG9wdGlvbnMgPSB7fSwgdGFyZ2V0ID0gbmV3IFRIUkVFLk1hdHJpeDQoKSkgPT4ge1xuICAgIGNvbnN0IGZyb21TaXplID0gZnJvbUJveC5zaXplKHRtcFZlYzJkKTtcbiAgICBjb25zdCB0b1NpemUgICA9IHRvQm94LnNpemUodG1wVmVjMmQyKTtcblxuICAgIC8vIGNvbXB1dGUgc2NhbGVcbiAgICBsZXQgc3ggPSB0b1NpemUueCAvIGZyb21TaXplLng7XG4gICAgbGV0IHN5ID0gdG9TaXplLnkgLyBmcm9tU2l6ZS55O1xuXG4gICAgLy8gcHJlc2VydmVBc3BlY3RcbiAgICBpZiAob3B0aW9ucy5wcmVzZXJ2ZUFzcGVjdCkge1xuICAgICAgICBzeCA9IE1hdGgubWluKHN4LCBzeSk7XG4gICAgICAgIHN5ID0gc3g7XG4gICAgfVxuXG4gICAgLy8gYW5jaG9yIGlzIHRoZSBwb2ludCBvZiBmcm9tQm94IHRoYXQgd2lsbCBiZSBtYXBwZWQgdG8gdG9Cb3gubWluXG4gICAgbGV0IGFuY2hvclggPSBmcm9tQm94Lm1pbi54O1xuICAgIGxldCBhbmNob3JZID0gZnJvbUJveC5taW4ueTtcblxuICAgIC8vIGFwcGx5IG9wdGlvbmFsIHktZmxpcFxuICAgIGlmIChvcHRpb25zLmZsaXBZKSB7XG4gICAgICAgIHN5ICo9IC0xO1xuICAgICAgICBhbmNob3JZID0gZnJvbUJveC5tYXgueTtcbiAgICB9XG5cbiAgICAvLyBjb21wdXRlIHRyYW5zbGF0aW9uOiBhZnRlciBzY2FsaW5nLCBhbmNob3Igc2hvdWxkIG1vdmUgdG8gdG9Cb3gubWluXG4gICAgbGV0IHR4ID0gLXN4ICogYW5jaG9yWCArIHRvQm94Lm1pbi54O1xuICAgIGxldCB0eSA9IC1zeSAqIGFuY2hvclkgKyB0b0JveC5taW4ueTtcblxuICAgIC8vIENyZWF0ZSAoc2NhbGUgKyB0cmFuc2xhdGUpLW1hdHJpeC5cbiAgICBjb25zdCBtYXRyaXggPSB0YXJnZXQubWFrZVNjYWxlKHN4LCBzeSwgMS4wKTtcbiAgICBtYXRyaXguZWxlbWVudHNbMTJdID0gdHg7XG4gICAgbWF0cml4LmVsZW1lbnRzWzEzXSA9IHR5O1xuXG4gICAgcmV0dXJuIG1hdHJpeDtcbn07XG5cbi8qKlxuICogUmV0dXJucyB3aGVyZSBhIHBvaW50IHAgaXMgbG9jYXRlZCBhbG9uZyBhIGdpdmVuIGVkZ2UgKGEsYikuXG4gKiBNb3JlIGV4YWN0bHksIGlmIHAnIGlzIHRoZSBwcm9qZWN0aW9uIG9mIHAgdG8gdGhlIGxpbmUgc3Bhbm5lZCBieSAoYSxiKSxcbiAqIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgZGlzdGFuY2UgYmV0d2VlbiBwJyBhbmQgYS5cbiAqIEBwYXJhbSB7VmVjdG9yMn0gcFxuICogQHBhcmFtIHtWZWN0b3IyfSBhIC0gZWRnZSBlbmRwb2ludFxuICogQHBhcmFtIHtWZWN0b3IyfSBiIC0gZWRnZSBlbmRwb2ludFxuICogQHJldHVybnMge251bWJlcn0gZGlzdGFuY2UgYWxvbmcgdGhlIGVkZ2UsIGUuZyAwIGZvciBwPWEgYW5kIGVkZ2VMZW5ndGggZm9yIHA9Yi5cbiAqL1xuY29uc3QgZ2V0RGlzdGFuY2VBbG9uZ0VkZ2UgPSAocCwgYSwgYikgPT4ge1xuXG4gICAgLy8gZ2V0IG5vcm1hbGl6ZWQgZWRnZSBkaXJlY3Rpb24gdmVjdG9yIChhLT5iKVxuICAgIGNvbnN0IGVkZ2VEaXIgPSBnZXRFZGdlRGlyZWN0aW9uKGEsIGIsIHRtcFZlYzJkKTtcblxuICAgIC8vIHJldHVybiBkb3RQcm9kdWN0IGRvdChwLWEsIGVkZ2VEaXIpXG4gICAgY29uc3QgZHAgPSAocC54IC0gYS54KSAqIGVkZ2VEaXIueCArIChwLnkgLSBhLnkpICogZWRnZURpci55O1xuICAgIHJldHVybiBkcDtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHAgaXMgbG9jYXRlZCBvbiBhIHNpbmdsZSBtaXRlckxpbmUgc2VnbWVudCB3aXRoIHRoZSBnaXZlbiBsaW5lV2lkdGguXG4gKlxuICogQSBtaXRlckxpbmUgc2VnbWVudCBpcyBvbmx5IGJ1ZmZlcmVkIHRvd2FyZHMgdGhlIGVkZ2Ugbm9ybWFscywgYnV0XG4gKiB0aGUgbGVuZ3RoIGFsb25nIHRoZSBlZGdlIGlzIG5vdCBhZmZlY3RlZCBieSB0aGUgbGluZVdpZHRoLlxuICpcbiAqIEBwYXJhbSB7VmVjdG9yMn0gcCAtIFBvaW50IHRvIHRlc3RcbiAqIEBwYXJhbSB7VmVjdG9yMn0gYSAtIEZpcnN0IGVkZ2UgZW5kcG9pbnRcbiAqIEBwYXJhbSB7VmVjdG9yMn0gYiAtIFNlY29uZCBlZGdlIGVuZHBvaW50XG4gKiBAcGFyYW0ge251bWJlcn0gbGluZVdpZHRoIC0gV2lkdGggb2YgdGhlIG1pdGVyTGluZVxuICogQHBhcmFtIHtudW1iZXJ9IHByZWNpc2lvbiAtIFRvbGVyYW5jZSBmb3IgaGl0LXRlc3RpbmdcbiAqIEByZXR1cm5zIHtib29sZWFufSAtIFdoZXRoZXIgdGhlIHBvaW50IGhpdHMgdGhlIGxpbmVcbiAqL1xuY29uc3QgcG9pbnRPbk1pdGVyTGluZVNlZ21lbnQgPSAocCwgYSwgYiwgbGluZVdpZHRoLCBwcmVjaXNpb24pID0+IHtcblxuICAgIGNvbnN0IGJ1ZmZlclJhZGl1cyA9IDAuNSAqIGxpbmVXaWR0aDtcblxuICAgIC8vIENoZWNrIGlmIHRoZSBkaXN0YW5jZSBvZiBwIHRvIHRoZSBvbiB0aGUgbGluZSAoYSwgYikgaXMgYmVsb3cgdGhlIGJ1ZmZlclJhZGl1cy5cbiAgICBjb25zdCBzdW1tZWRSYWRpdXMgPSBidWZmZXJSYWRpdXMgKyBwcmVjaXNpb247XG4gICAgaWYgKCFpc1BvaW50T25MaW5lKHAsIGEsIGIsIHN1bW1lZFJhZGl1cykpIHtcbiAgICAgICAgLy8gSWYgcCBpcyBub3QgZXZlbiBjbG9zZSB0byB0aGUgbGluZSwgd2UgY2FuIGFib3J0IGVhcmx5LlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgd2hlcmUgcCBpcyBcImFsb25nIHRoZSBsaW5lXCIuLi5cbiAgICBjb25zdCBkID0gZ2V0RGlzdGFuY2VBbG9uZ0VkZ2UocCwgYSwgYik7XG5cbiAgICAvLyBDb25zaWRlciB0b2xlcmFuY2UgYmV5b25kIGVuZHBvaW50cyAobm90ZSB0aGF0IHdlIG11c3QgZXhjbHVkZSB0aGUgbGluZVdpZHRoIGluIHRoaXMgY2FzZSlcbiAgICBjb25zdCBlZGdlTGVuZ3RoID0gZ2V0RWRnZUxlbmd0aChhLCBiKTtcbiAgICBjb25zdCBkTWluID0gLXByZWNpc2lvbjtcbiAgICBjb25zdCBkTWF4ID0gZWRnZUxlbmd0aCArIHByZWNpc2lvbjtcbiAgICByZXR1cm4gKGQgPj0gZE1pbiAmJiBkIDwgZE1heCk7XG59O1xuXG4vKipcbiAqIEEgcG9pbnQgaXMgY29uc2lkZXJlZCB0byBiZSBvbiBhIG1pdGVyTGluZSBqdW5jdGlvbiBpZiBpdCBpcyBpbiB0aGUgaW50ZXJzZWN0aW9uXG4gKiAgb2YgdGhlIGxpbmVzIHNwYW5uZWQgYnkgKGEsYikgYW5kIChiLGMpXG4gKlxuICogIE5vdGU6IFRoaXMgZnVuY3Rpb24gaW5jbHVkZXMgYSBmZXcgaGV1cmlzdGljIHRyYWRlLW9mZnMgZm9yIHNwZWNpYWwgY2FzZXMuIFN1cHBvcnRpbmcgdGhlc2UgbW9yZSByZWxpYWJseVxuICogICAgICAgIHdvdWxkIHJlcXVpcmUgbW9yZSBjb21wbGV4IGxvZ2ljIHRvIG1hdGNoIHRoZSByZW5kZXJpbmcgYmVoYXZpb3Igb2YgbWl0ZXIgam9pbnRzIG1vcmUgZXhhY3RseS5cbiAqICAgICAgICBXZSBpZ25vcmUgdGhlIG1pdGVyIGpvaW50cyBpbiB0aGUgZm9sbG93aW5nIGNhc2VzOlxuICogICAgICAgICAtIENvbGxpbmVhcjogSWYgdGhlIGFuZ2xlIGZvcm1lZCBieSBib3RoIGVkZ2VzIGlzIGNsb3NlIGNvbGxpZWFyIHdpdGhpbiBhIGdpdmVuIGFuZ2xlIHRvbGVyYW5jZVxuICogICAgICAgICAtIERlZ2VuZXJhdGVkIGVkZ2VzOiBXZSByZWplY3Qgam9pbnRzIGlmIG9uZSBvZiB0aGUgYWRqYWNlbnQgbGluZXMgaXMgc2hvdGVyIHRoYW4gdGhlIGxpbmVXaWR0aC5cbiAqXG4gKiAgIEBwYXJhbSB7VmVjdG9yMn0gcFxuICogICBAcGFyYW0ge1ZlY3RvcjJ9IGEsIGIsIGNcbiAqICAgQHBhcmFtIHtudW1iZXJ9ICBsaW5lV2lkdGggLSB3aWR0aCBvZiB0aGUgbWl0ZXJMaW5lXG4gKiAgIEBwYXJhbSB7bnVtYmVyfSAgcHJlY2lzaW9uXG4gKiAgIEBwYXJhbSB7bnVtYmVyfSBbbWF4Q29zQWxwaGFdIEZvciBjbG9zZS10by1jb2xsaW5lYXIgZWRnZXMsIHRoZSBqb2ludCB3b3VsZCB0aGVvcmV0aWNhbGx5IHNob290IHRvIGluZmluaXR5LlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXZSBtYWtlIHRoZSBzaW1wbGlmeWluZyBhc3N1bXB0aW9uIHRoYXQgbWl0ZXIgam9pbnRzIGFyZSBub3QgZHJhd24gaWYgdGhlIGFuZ2xlIGJlY29tZXMgdG9vIHNtYWxsLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGUgdGhyZXNob2xkIGlzIGdpdmVuIGFzIGNvcyhhbHBoYSksIHdoZXJlIGFscGhhIGlzIHRoZSB0aHJlc2hvbGQgYW5nbGUuXG4gKi9cbmNvbnN0IHBvaW50T25NaXRlckxpbmVKdW5jdGlvbiA9IChcbiAgICBwLFxuICAgIGEsIGIsIGMsXG4gICAgbGluZVdpZHRoLCBwcmVjaXNpb24sXG4gICAgbWF4Q29zQWxwaGEgPSAwLjk4NSAvLyBjb3MoMTAgKiBkZWdUb1JhZCksIGkuZS4gbm8gbWl0ZXIgam9pbnQgZm9yIGVkZ2VzIHRoYXQgZm9ybSBhbiBhbmdsZSA8MTAgZGVncmVlcy5cbikgPT4ge1xuXG4gICAgLy8gZ2V0IG5vcm1hbGl6ZWQgZWRnZSBkaXJlY3Rpb25zIGZvciAoYSxiKSBhbmQgKGIsYylcbiAgICBjb25zdCBkaXIxID0gZ2V0RWRnZURpcmVjdGlvbihhLCBiLCB0bXBWZWMyZCk7XG4gICAgY29uc3QgZGlyMiA9IGdldEVkZ2VEaXJlY3Rpb24oYiwgYywgdG1wVmVjMmQyKTtcblxuICAgIC8vIEJsb2NrIGlmIHRoZSBlZGdlcyBhcmUgdG9vIGNsb3NlIHRvIGJlaW5nIGNvbGxpbmVhci5cbiAgICBjb25zdCBkcCA9IE1hdGguYWJzKGRpcjEuZG90KGRpcjIpKTsgLy8gPSBjb3MoYWxwaGEpIHdoZXJlIGFscGhhIGlzIHRoZSBhbmdsZSBmb3JtZWQgYnkgdGhlIHR3byBlZGdlcy5cbiAgICBjb25zdCB0b29Db2xsaW5lYXIgPSBkcCA+IG1heENvc0FscGhhO1xuICAgIGlmICh0b29Db2xsaW5lYXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIEJsb2NrIGlmID4xIG9mIHRoZSBlZGdlcyBpcyB0b28gc2hvcnQuXG4gICAgY29uc3QgdG9vU2hvcnQgPSAoZ2V0RWRnZUxlbmd0aChhLCBiKSA8IGxpbmVXaWR0aCkgfHwgKGdldEVkZ2VMZW5ndGgoYiwgYykgPCBsaW5lV2lkdGgpO1xuICAgIGlmICh0b29TaG9ydCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gZ2V0IGRpc3RhbmNlcyBvZiBwIHR3byB0aGUgMiBsaW5lU2VsZWN0aW9uXG4gICAgY29uc3QgZDEgPSBwb2ludExpbmVEaXN0YW5jZShwLCBhLCBkaXIxKTtcbiAgICBjb25zdCBkMiA9IHBvaW50TGluZURpc3RhbmNlKHAsIGIsIGRpcjIpO1xuXG4gICAgY29uc3QgZE1heCA9ICgwLjUgKiBsaW5lV2lkdGgpICsgcHJlY2lzaW9uO1xuICAgIHJldHVybiAoZDEgPD0gZE1heCkgJiYgKGQyIDwgZE1heCk7XG59O1xuXG5cblxuZXhwb3J0IGNvbnN0IE1hdGgyRCA9IHtcbiAgICBnZXRFZGdlRGlyZWN0aW9uLFxuICAgIHByb2plY3RUb0xpbmUsXG4gICAgcG9pbnRMaW5lRGlzdGFuY2UsXG4gICAgaW50ZXJzZWN0TGluZXMsXG4gICAgcm90YXRlQXJvdW5kLFxuICAgIGFuZ2xlQmV0d2VlbkRpcmVjdGlvbnMsXG4gICAgZ2V0RWRnZUNlbnRlcixcbiAgICBnZXRFZGdlTGVuZ3RoLFxuICAgIHR1cm5MZWZ0LFxuICAgIGlzUG9pbnRPbkVkZ2UsXG4gICAgaXNQb2ludE9uTGluZSxcbiAgICBwb2ludERlbHRhLFxuICAgIGVkZ2VJc0RlZ2VuZXJhdGVkLFxuICAgIG1pcnJvclBvaW50T25Qb2ludCxcbiAgICBmdXp6eUVxdWFsLFxuICAgIGNvbGxpbmVhcixcbiAgICBkaXN0YW5jZTJELFxuICAgIGNoYW5nZXNPcmllbnRhdGlvbixcbiAgICBnZXRGaXRUb0JveFRyYW5zZm9ybSxcbiAgICBwb2ludE9uTWl0ZXJMaW5lU2VnbWVudCxcbiAgICBwb2ludE9uTWl0ZXJMaW5lSnVuY3Rpb25cbn07XG4iXSwibmFtZXMiOlsidG1wVmVjMmQiLCJUSFJFRSIsIlZlY3RvcjIiLCJ0bXBWZWMyZDIiLCJnZXRFZGdlRGlyZWN0aW9uIiwiYSIsImIiLCJ0YXJnZXQiLCJjb3B5Iiwic3ViIiwibm9ybWFsaXplIiwiZ2V0RWRnZUNlbnRlciIsInNldCIsIngiLCJ5IiwiZ2V0RWRnZUxlbmd0aCIsImR4IiwiZHkiLCJNYXRoIiwic3FydCIsInR1cm5MZWZ0IiwicCIsInRtcCIsInByb2plY3RUb0xpbmUiLCJsaW5lUG9pbnQiLCJsaW5lRGlyIiwiZHAiLCJwb2ludExpbmVEaXN0YW5jZSIsInBQcm9qIiwiZGlzdGFuY2VUbyIsImludGVyc2VjdExpbmVzIiwibGluZVBvaW50MSIsImxpbmVEaXIxIiwibGluZVBvaW50MiIsImxpbmVEaXIyIiwib3V0UG9pbnQiLCJkZW5vbSIsImFicyIsImRpZmZYIiwiZGlmZlkiLCJ1Iiwicm90YXRlQXJvdW5kIiwiYW5nbGUiLCJjZW50ZXIiLCJjIiwiY29zIiwicyIsInNpbiIsImFkZCIsImFuZ2xlQmV0d2VlbkRpcmVjdGlvbnMiLCJkaXIxIiwiZGlyMiIsImFuZ2xlMSIsImF0YW4yIiwiYW5nbGUyIiwiUEkiLCJpc1BvaW50T25MaW5lIiwicHJlY2lzaW9uIiwiaXNQb2ludE9uRWRnZSIsImNoZWNrSW5zaWRlU2VnbWVudCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImUiLCJ2MSIsImxlbmd0aDIiLCJBdXRvZGVzayIsIkV4dGVuc2lvbnMiLCJDb21wR2VvbSIsInBvaW50T25MaW5lIiwicG9pbnREZWx0YSIsImRpZ2l0cyIsImRlbHRhIiwiZXhwIiwicG93Iiwicm91bmQiLCJlZGdlSXNEZWdlbmVyYXRlZCIsImVwczIiLCJkaXN0YW5jZVRvU3F1YXJlZCIsIm1pcnJvclBvaW50T25Qb2ludCIsImZ1enp5RXF1YWwiLCJjb2xsaW5lYXIiLCJwMSIsInAyIiwiZGlyRXF1YWwiLCJkaXJPcHBvc2l0ZSIsImRvdCIsImRpc3RhbmNlMkQiLCJjaGFuZ2VzT3JpZW50YXRpb24iLCJtYXRyaXgiLCJkZXRlcm1pbmFudCIsImdldEZpdFRvQm94VHJhbnNmb3JtIiwiZnJvbUJveCIsInRvQm94Iiwib3B0aW9ucyIsIk1hdHJpeDQiLCJmcm9tU2l6ZSIsInNpemUiLCJ0b1NpemUiLCJzeCIsInN5IiwicHJlc2VydmVBc3BlY3QiLCJtaW4iLCJhbmNob3JYIiwiYW5jaG9yWSIsImZsaXBZIiwibWF4IiwidHgiLCJ0eSIsIm1ha2VTY2FsZSIsImVsZW1lbnRzIiwiZ2V0RGlzdGFuY2VBbG9uZ0VkZ2UiLCJlZGdlRGlyIiwicG9pbnRPbk1pdGVyTGluZVNlZ21lbnQiLCJsaW5lV2lkdGgiLCJidWZmZXJSYWRpdXMiLCJzdW1tZWRSYWRpdXMiLCJkIiwiZWRnZUxlbmd0aCIsImRNaW4iLCJkTWF4IiwicG9pbnRPbk1pdGVyTGluZUp1bmN0aW9uIiwibWF4Q29zQWxwaGEiLCJ0b29Db2xsaW5lYXIiLCJ0b29TaG9ydCIsImQxIiwiZDIiLCJNYXRoMkQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Edit2D/Math2D.js\n");

/***/ }),

/***/ "./extensions/Edit2D/MeasureTransform.js":
/*!***********************************************!*\
  !*** ./extensions/Edit2D/MeasureTransform.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultMeasureTransform: () => (/* binding */ DefaultMeasureTransform),\n/* harmony export */   MeasureTransform: () => (/* binding */ MeasureTransform)\n/* harmony export */ });\n\n\n\n// Workaround to choose a viewport for a given 2d sheet.\n//\n// Actually, we should choose it based on 2d-position. But, F2D doesn't give us proper data to\n// do this. Also, even with proper viewport outlines, it wouldn't always unique as viewports may overlap.\n// Therefore, we have to use a workaround here to make it use for simple single-viewport sheets at least.\n//\n// @returns {number|-1} Either -1 or a valid viewportId.\nconst chooseViewportId = (model) => {\n\n  const data = model.getData();\n  const viewports = data.viewports;\n  if (!viewports) {\n    return -1;\n  }\n\n  // find viewport with maximum number of dbIds\n  let vpIndex = -1;\n  let maxDbIds = -1;\n  for (let i = 0; i < viewports.length; i++) {\n\n    // Skip viewports without transform\n    const vp = viewports[i];\n    if (!vp.transform) {\n      continue;\n    }\n\n    // Use current vp if it has most dbIds\n    const numDbIds = vp.geom_metrics.db_ids;\n    if (numDbIds > maxDbIds) {\n      vpIndex = i;\n      maxDbIds = numDbIds;\n    }\n  }\n\n  // no matching viewport found by geom info?\n  if (maxDbIds == 0 && viewports.length > 1) {\n    // viewport 0 is auto-generated by PDFLoader, so just choose the next one\n    // TODO: there can be mutiple viewports with different metrics (inch, m, cm) but also duplicate ones\n    // so we need to improve this logic to choose the appropriate one\n    vpIndex = 1;\n  }\n\n  return vpIndex;\n};\n\n// A MeasureTransform allows for doing length/area measurements in another coordinate system than the actual shape geometry.\n// The transform is applied to all points before doing calculations.\nclass MeasureTransform {\n\n  // @param {Vector2} p - Point to be transformed in-place.\n  apply(p) {}\n};\n\n\n// Sets the pageToModel transform in LMV as MeasureTransform to make measurements consistent with Measure extension.\nclass DefaultMeasureTransform extends MeasureTransform {\n\n  constructor(viewer) {\n    super();\n    this.viewer = viewer;\n  }\n\n  // Transform geometry point to the coordinate system in which measurements should be computed and displayed.\n  //\n  // @param {vector2} p\n  //\n  // Note: Currently, we do some simplifying assumptions here that may need additional\n  //       work to support scenarios with multiple viewports or multiple 2d models.\n  apply(p, vpId) {\n    // Get viewportId\n    const model = this.viewer.model;\n    if (!model) {\n      return;\n    }\n\n    vpId = vpId ?? chooseViewportId(model);\n\n    // In case there are no viewports, there still might be a pageToModelTransform,\n    // which we need to take into account. This is the case for raster PDF.\n    model.pageToModel(p, null, vpId);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL0VkaXQyRC9NZWFzdXJlVHJhbnNmb3JtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNQSxnQkFBZ0IsR0FBR0EsQ0FBQ0MsS0FBSyxLQUFLOztFQUVoQyxNQUFNQyxJQUFJLEdBQUdELEtBQUssQ0FBQ0UsT0FBTyxDQUFDLENBQUM7RUFDNUIsTUFBTUMsU0FBUyxHQUFHRixJQUFJLENBQUNFLFNBQVM7RUFDaEMsSUFBSSxDQUFDQSxTQUFTLEVBQUU7SUFDWixPQUFPLENBQUMsQ0FBQztFQUNiOztFQUVBO0VBQ0EsSUFBSUMsT0FBTyxHQUFJLENBQUMsQ0FBQztFQUNqQixJQUFJQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO0VBQ2pCLEtBQUssSUFBSUMsQ0FBQyxHQUFDLENBQUMsRUFBRUEsQ0FBQyxHQUFDSCxTQUFTLENBQUNJLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7O0lBRW5DO0lBQ0EsTUFBTUUsRUFBRSxHQUFHTCxTQUFTLENBQUNHLENBQUMsQ0FBQztJQUN2QixJQUFJLENBQUNFLEVBQUUsQ0FBQ0MsU0FBUyxFQUFFO01BQ2Y7SUFDSjs7SUFFQTtJQUNBLE1BQU1DLFFBQVEsR0FBR0YsRUFBRSxDQUFDRyxZQUFZLENBQUNDLE1BQU07SUFDdkMsSUFBSUYsUUFBUSxHQUFHTCxRQUFRLEVBQUU7TUFDckJELE9BQU8sR0FBSUUsQ0FBQztNQUNaRCxRQUFRLEdBQUdLLFFBQVE7SUFDdkI7RUFDSjs7RUFFQTtFQUNBLElBQUdMLFFBQVEsSUFBSSxDQUFDLElBQUlGLFNBQVMsQ0FBQ0ksTUFBTSxHQUFHLENBQUMsRUFBRTtJQUN0QztJQUNBO0lBQ0E7SUFDQUgsT0FBTyxHQUFHLENBQUM7RUFDZjs7RUFFQSxPQUFPQSxPQUFPO0FBQ2xCLENBQUM7O0FBRUQ7QUFDQTtBQUNPLE1BQU1TLGdCQUFnQixDQUFDOztFQUUxQjtFQUNBQyxLQUFLQSxDQUFDQyxDQUFDLEVBQUUsQ0FBQztBQUNkLENBQUM7OztBQUdEO0FBQ08sTUFBTUMsdUJBQXVCLFNBQVNILGdCQUFnQixDQUFDOztFQUUxREksV0FBV0EsQ0FBQ0MsTUFBTSxFQUFFO0lBQ2hCLEtBQUssQ0FBQyxDQUFDO0lBQ1AsSUFBSSxDQUFDQSxNQUFNLEdBQUdBLE1BQU07RUFDeEI7O0VBRUE7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0FKLEtBQUtBLENBQUNDLENBQUMsRUFBRUksSUFBSSxFQUFFO0lBQ1g7SUFDQSxNQUFNbkIsS0FBSyxHQUFHLElBQUksQ0FBQ2tCLE1BQU0sQ0FBQ2xCLEtBQUs7SUFDL0IsSUFBSSxDQUFDQSxLQUFLLEVBQUU7TUFDUjtJQUNKOztJQUVBbUIsSUFBSSxHQUFHQSxJQUFJLElBQUlwQixnQkFBZ0IsQ0FBQ0MsS0FBSyxDQUFDOztJQUV0QztJQUNBO0lBQ0FBLEtBQUssQ0FBQ29CLFdBQVcsQ0FBQ0wsQ0FBQyxFQUFFLElBQUksRUFBRUksSUFBSSxDQUFDO0VBQ3BDO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9FZGl0MkQvTWVhc3VyZVRyYW5zZm9ybS5qcz8yY2U4Il0sInNvdXJjZXNDb250ZW50IjpbIlxuXG5cbi8vIFdvcmthcm91bmQgdG8gY2hvb3NlIGEgdmlld3BvcnQgZm9yIGEgZ2l2ZW4gMmQgc2hlZXQuXG4vL1xuLy8gQWN0dWFsbHksIHdlIHNob3VsZCBjaG9vc2UgaXQgYmFzZWQgb24gMmQtcG9zaXRpb24uIEJ1dCwgRjJEIGRvZXNuJ3QgZ2l2ZSB1cyBwcm9wZXIgZGF0YSB0b1xuLy8gZG8gdGhpcy4gQWxzbywgZXZlbiB3aXRoIHByb3BlciB2aWV3cG9ydCBvdXRsaW5lcywgaXQgd291bGRuJ3QgYWx3YXlzIHVuaXF1ZSBhcyB2aWV3cG9ydHMgbWF5IG92ZXJsYXAuXG4vLyBUaGVyZWZvcmUsIHdlIGhhdmUgdG8gdXNlIGEgd29ya2Fyb3VuZCBoZXJlIHRvIG1ha2UgaXQgdXNlIGZvciBzaW1wbGUgc2luZ2xlLXZpZXdwb3J0IHNoZWV0cyBhdCBsZWFzdC5cbi8vXG4vLyBAcmV0dXJucyB7bnVtYmVyfC0xfSBFaXRoZXIgLTEgb3IgYSB2YWxpZCB2aWV3cG9ydElkLlxuY29uc3QgY2hvb3NlVmlld3BvcnRJZCA9IChtb2RlbCkgPT4ge1xuXG4gICAgY29uc3QgZGF0YSA9IG1vZGVsLmdldERhdGEoKTtcbiAgICBjb25zdCB2aWV3cG9ydHMgPSBkYXRhLnZpZXdwb3J0cztcbiAgICBpZiAoIXZpZXdwb3J0cykge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLy8gZmluZCB2aWV3cG9ydCB3aXRoIG1heGltdW0gbnVtYmVyIG9mIGRiSWRzXG4gICAgbGV0IHZwSW5kZXggID0gLTE7XG4gICAgbGV0IG1heERiSWRzID0gLTE7XG4gICAgZm9yIChsZXQgaT0wOyBpPHZpZXdwb3J0cy5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgIC8vIFNraXAgdmlld3BvcnRzIHdpdGhvdXQgdHJhbnNmb3JtXG4gICAgICAgIGNvbnN0IHZwID0gdmlld3BvcnRzW2ldO1xuICAgICAgICBpZiAoIXZwLnRyYW5zZm9ybSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVc2UgY3VycmVudCB2cCBpZiBpdCBoYXMgbW9zdCBkYklkc1xuICAgICAgICBjb25zdCBudW1EYklkcyA9IHZwLmdlb21fbWV0cmljcy5kYl9pZHM7XG4gICAgICAgIGlmIChudW1EYklkcyA+IG1heERiSWRzKSB7XG4gICAgICAgICAgICB2cEluZGV4ICA9IGk7XG4gICAgICAgICAgICBtYXhEYklkcyA9IG51bURiSWRzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gbm8gbWF0Y2hpbmcgdmlld3BvcnQgZm91bmQgYnkgZ2VvbSBpbmZvP1xuICAgIGlmKG1heERiSWRzID09IDAgJiYgdmlld3BvcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgLy8gdmlld3BvcnQgMCBpcyBhdXRvLWdlbmVyYXRlZCBieSBQREZMb2FkZXIsIHNvIGp1c3QgY2hvb3NlIHRoZSBuZXh0IG9uZVxuICAgICAgICAvLyBUT0RPOiB0aGVyZSBjYW4gYmUgbXV0aXBsZSB2aWV3cG9ydHMgd2l0aCBkaWZmZXJlbnQgbWV0cmljcyAoaW5jaCwgbSwgY20pIGJ1dCBhbHNvIGR1cGxpY2F0ZSBvbmVzXG4gICAgICAgIC8vIHNvIHdlIG5lZWQgdG8gaW1wcm92ZSB0aGlzIGxvZ2ljIHRvIGNob29zZSB0aGUgYXBwcm9wcmlhdGUgb25lXG4gICAgICAgIHZwSW5kZXggPSAxO1xuICAgIH1cblxuICAgIHJldHVybiB2cEluZGV4O1xufTtcblxuLy8gQSBNZWFzdXJlVHJhbnNmb3JtIGFsbG93cyBmb3IgZG9pbmcgbGVuZ3RoL2FyZWEgbWVhc3VyZW1lbnRzIGluIGFub3RoZXIgY29vcmRpbmF0ZSBzeXN0ZW0gdGhhbiB0aGUgYWN0dWFsIHNoYXBlIGdlb21ldHJ5LlxuLy8gVGhlIHRyYW5zZm9ybSBpcyBhcHBsaWVkIHRvIGFsbCBwb2ludHMgYmVmb3JlIGRvaW5nIGNhbGN1bGF0aW9ucy5cbmV4cG9ydCBjbGFzcyBNZWFzdXJlVHJhbnNmb3JtIHtcblxuICAgIC8vIEBwYXJhbSB7VmVjdG9yMn0gcCAtIFBvaW50IHRvIGJlIHRyYW5zZm9ybWVkIGluLXBsYWNlLlxuICAgIGFwcGx5KHApIHt9XG59O1xuXG5cbi8vIFNldHMgdGhlIHBhZ2VUb01vZGVsIHRyYW5zZm9ybSBpbiBMTVYgYXMgTWVhc3VyZVRyYW5zZm9ybSB0byBtYWtlIG1lYXN1cmVtZW50cyBjb25zaXN0ZW50IHdpdGggTWVhc3VyZSBleHRlbnNpb24uXG5leHBvcnQgY2xhc3MgRGVmYXVsdE1lYXN1cmVUcmFuc2Zvcm0gZXh0ZW5kcyBNZWFzdXJlVHJhbnNmb3JtIHtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnZpZXdlciA9IHZpZXdlcjtcbiAgICB9XG5cbiAgICAvLyBUcmFuc2Zvcm0gZ2VvbWV0cnkgcG9pbnQgdG8gdGhlIGNvb3JkaW5hdGUgc3lzdGVtIGluIHdoaWNoIG1lYXN1cmVtZW50cyBzaG91bGQgYmUgY29tcHV0ZWQgYW5kIGRpc3BsYXllZC5cbiAgICAvL1xuICAgIC8vIEBwYXJhbSB7dmVjdG9yMn0gcFxuICAgIC8vXG4gICAgLy8gTm90ZTogQ3VycmVudGx5LCB3ZSBkbyBzb21lIHNpbXBsaWZ5aW5nIGFzc3VtcHRpb25zIGhlcmUgdGhhdCBtYXkgbmVlZCBhZGRpdGlvbmFsXG4gICAgLy8gICAgICAgd29yayB0byBzdXBwb3J0IHNjZW5hcmlvcyB3aXRoIG11bHRpcGxlIHZpZXdwb3J0cyBvciBtdWx0aXBsZSAyZCBtb2RlbHMuXG4gICAgYXBwbHkocCwgdnBJZCkge1xuICAgICAgICAvLyBHZXQgdmlld3BvcnRJZFxuICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXMudmlld2VyLm1vZGVsO1xuICAgICAgICBpZiAoIW1vZGVsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2cElkID0gdnBJZCA/PyBjaG9vc2VWaWV3cG9ydElkKG1vZGVsKTtcblxuICAgICAgICAvLyBJbiBjYXNlIHRoZXJlIGFyZSBubyB2aWV3cG9ydHMsIHRoZXJlIHN0aWxsIG1pZ2h0IGJlIGEgcGFnZVRvTW9kZWxUcmFuc2Zvcm0sXG4gICAgICAgIC8vIHdoaWNoIHdlIG5lZWQgdG8gdGFrZSBpbnRvIGFjY291bnQuIFRoaXMgaXMgdGhlIGNhc2UgZm9yIHJhc3RlciBQREYuXG4gICAgICAgIG1vZGVsLnBhZ2VUb01vZGVsKHAsIG51bGwsIHZwSWQpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJjaG9vc2VWaWV3cG9ydElkIiwibW9kZWwiLCJkYXRhIiwiZ2V0RGF0YSIsInZpZXdwb3J0cyIsInZwSW5kZXgiLCJtYXhEYklkcyIsImkiLCJsZW5ndGgiLCJ2cCIsInRyYW5zZm9ybSIsIm51bURiSWRzIiwiZ2VvbV9tZXRyaWNzIiwiZGJfaWRzIiwiTWVhc3VyZVRyYW5zZm9ybSIsImFwcGx5IiwicCIsIkRlZmF1bHRNZWFzdXJlVHJhbnNmb3JtIiwiY29uc3RydWN0b3IiLCJ2aWV3ZXIiLCJ2cElkIiwicGFnZVRvTW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Edit2D/MeasureTransform.js\n");

/***/ }),

/***/ "./extensions/Edit2D/ModifierMask.js":
/*!*******************************************!*\
  !*** ./extensions/Edit2D/ModifierMask.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ModifierMask)\n/* harmony export */ });\n// Helper to check whether certain modifiers are currently hold or not.\n// See https://developer.mozilla.org/de/docs/Web/API/KeyboardEvent/getModifierState for list of supported keys.\n// E.g.:\n//  \"Control\", \"Shift\", \"Alt\", ..\nclass ModifierMask {\n\n  constructor() {\n    // By default, don't check any modifers.\n    this.checkedModifiers = {};\n  }\n\n  // Add a modifier to be checked. E.g. addCondition(\"Control\", true).\n  addCondition(modifierName, expectedState) {\n    this.checkedModifiers[modifierName] = expectedState;\n  }\n\n  // Remove condition - accept any state of this modifier\n  removeCondition(modifierName) {\n    delete this.checkedModifiers[modifierName];\n  }\n\n  // Check if current event meets all modifier conditions\n  accepts(event) {\n    for (let key in this.checkedModifiers) {\n      const state = event.getModifierState(key);\n      const expected = this.checkedModifiers[key];\n      if (state !== expected) {\n        return false;\n      }\n    }\n    return true;\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL0VkaXQyRC9Nb2RpZmllck1hc2suanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ2UsTUFBTUEsWUFBWSxDQUFDOztFQUU5QkMsV0FBV0EsQ0FBQSxFQUFHO0lBQ1Y7SUFDQSxJQUFJLENBQUNDLGdCQUFnQixHQUFHLENBQUMsQ0FBQztFQUM5Qjs7RUFFQTtFQUNBQyxZQUFZQSxDQUFDQyxZQUFZLEVBQUVDLGFBQWEsRUFBRTtJQUN0QyxJQUFJLENBQUNILGdCQUFnQixDQUFDRSxZQUFZLENBQUMsR0FBR0MsYUFBYTtFQUN2RDs7RUFFQTtFQUNBQyxlQUFlQSxDQUFDRixZQUFZLEVBQUU7SUFDMUIsT0FBTyxJQUFJLENBQUNGLGdCQUFnQixDQUFDRSxZQUFZLENBQUM7RUFDOUM7O0VBRUE7RUFDQUcsT0FBT0EsQ0FBQ0MsS0FBSyxFQUFFO0lBQ1gsS0FBSyxJQUFJQyxHQUFHLElBQUksSUFBSSxDQUFDUCxnQkFBZ0IsRUFBRTtNQUNuQyxNQUFNUSxLQUFLLEdBQU1GLEtBQUssQ0FBQ0csZ0JBQWdCLENBQUNGLEdBQUcsQ0FBQztNQUM1QyxNQUFNRyxRQUFRLEdBQUcsSUFBSSxDQUFDVixnQkFBZ0IsQ0FBQ08sR0FBRyxDQUFDO01BQzNDLElBQUlDLEtBQUssS0FBS0UsUUFBUSxFQUFFO1FBQ3BCLE9BQU8sS0FBSztNQUNoQjtJQUNKO0lBQ0EsT0FBTyxJQUFJO0VBQ2Y7QUFDSixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvRWRpdDJEL01vZGlmaWVyTWFzay5qcz9kZDVkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEhlbHBlciB0byBjaGVjayB3aGV0aGVyIGNlcnRhaW4gbW9kaWZpZXJzIGFyZSBjdXJyZW50bHkgaG9sZCBvciBub3QuXG4vLyBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZGUvZG9jcy9XZWIvQVBJL0tleWJvYXJkRXZlbnQvZ2V0TW9kaWZpZXJTdGF0ZSBmb3IgbGlzdCBvZiBzdXBwb3J0ZWQga2V5cy5cbi8vIEUuZy46XG4vLyAgXCJDb250cm9sXCIsIFwiU2hpZnRcIiwgXCJBbHRcIiwgLi5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGlmaWVyTWFzayB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gQnkgZGVmYXVsdCwgZG9uJ3QgY2hlY2sgYW55IG1vZGlmZXJzLlxuICAgICAgICB0aGlzLmNoZWNrZWRNb2RpZmllcnMgPSB7fTtcbiAgICB9XG5cbiAgICAvLyBBZGQgYSBtb2RpZmllciB0byBiZSBjaGVja2VkLiBFLmcuIGFkZENvbmRpdGlvbihcIkNvbnRyb2xcIiwgdHJ1ZSkuXG4gICAgYWRkQ29uZGl0aW9uKG1vZGlmaWVyTmFtZSwgZXhwZWN0ZWRTdGF0ZSkge1xuICAgICAgICB0aGlzLmNoZWNrZWRNb2RpZmllcnNbbW9kaWZpZXJOYW1lXSA9IGV4cGVjdGVkU3RhdGU7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGNvbmRpdGlvbiAtIGFjY2VwdCBhbnkgc3RhdGUgb2YgdGhpcyBtb2RpZmllclxuICAgIHJlbW92ZUNvbmRpdGlvbihtb2RpZmllck5hbWUpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuY2hlY2tlZE1vZGlmaWVyc1ttb2RpZmllck5hbWVdO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGN1cnJlbnQgZXZlbnQgbWVldHMgYWxsIG1vZGlmaWVyIGNvbmRpdGlvbnNcbiAgICBhY2NlcHRzKGV2ZW50KSB7XG4gICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLmNoZWNrZWRNb2RpZmllcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlICAgID0gZXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZShrZXkpO1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWQgPSB0aGlzLmNoZWNrZWRNb2RpZmllcnNba2V5XTtcbiAgICAgICAgICAgIGlmIChzdGF0ZSAhPT0gZXhwZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufTtcbiJdLCJuYW1lcyI6WyJNb2RpZmllck1hc2siLCJjb25zdHJ1Y3RvciIsImNoZWNrZWRNb2RpZmllcnMiLCJhZGRDb25kaXRpb24iLCJtb2RpZmllck5hbWUiLCJleHBlY3RlZFN0YXRlIiwicmVtb3ZlQ29uZGl0aW9uIiwiYWNjZXB0cyIsImV2ZW50Iiwia2V5Iiwic3RhdGUiLCJnZXRNb2RpZmllclN0YXRlIiwiZXhwZWN0ZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Edit2D/ModifierMask.js\n");

/***/ }),

/***/ "./extensions/Edit2D/ScreenOverlay.js":
/*!********************************************!*\
  !*** ./extensions/Edit2D/ScreenOverlay.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ScreenOverlay)\n/* harmony export */ });\n/* harmony import */ var _EditLayer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditLayer.js */ \"./extensions/Edit2D/EditLayer.js\");\n/* harmony import */ var _EditShapes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EditShapes.js */ \"./extensions/Edit2D/EditShapes.js\");\n/* harmony import */ var _Arrow_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Arrow.js */ \"./extensions/Edit2D/Arrow.js\");\n\n\n\n\nconst avp = Autodesk.Viewing.Private;\n\n//\n// Utility class for drawing vector overlays in canvas-pixel coords.\n//\n\n// Base class for line-based gizmos that can be used in screen overlays\nclass ScreenOverlayGizmo {\n\n  constructor() {\n    // current opacity value\n    this.opacity = 1.0;\n\n    // Fade-in/out transition params\n    this.fullOpacity = 1.0; // opacity after full fade-in\n    this.fadeTime = 0.5; // in seconds\n\n    // Used by parent ScreenOvelay for fade in/out\n    this.fadeAnim = null;\n  }\n\n  // Update layer (=screen) coords of the gizmo based latest camera\n  update(viewer) {}\n\n  // Return shape representing this gizmo. Used by ScreenOverlay to add/remove shapes from/to layer.\n  getShape() {}\n\n  // Opacity for fade-in/out\n  setOpacity(opacity) {\n    this.opacity = opacity;\n  }\n  getOpacity() {return this.opacity;}\n\n  stopFadeAnim() {\n    if (this.fadeAnim) {\n      this.fadeAnim.stop();\n      this.fadeAnim = null;\n    }\n  }\n}\n\n// A line that whose endpoints are attached to the screen-projections of 2 points in 3D.\nclass Line3DGizmo extends ScreenOverlayGizmo {\n\n  constructor(a, b) {\n    super();\n\n    // 2D shape in pixel coords\n    this.line2D = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_1__.Polyline().makeLine(0, 0, 0, 0);\n\n    // 3D world positions\n    this.a = a || new THREE.Vector3();\n    this.b = b || new THREE.Vector3();\n  }\n\n  update(viewer) {\n    // project points to screen\n    const p1 = viewer.impl.worldToClient(this.a);\n    const p2 = viewer.impl.worldToClient(this.b);\n\n    // update line\n    this.line2D.updatePoint(0, p1.x, p1.y);\n    this.line2D.updatePoint(1, p2.x, p2.y);\n  }\n\n  setOpacity(opacity) {\n    super.setOpacity(opacity);\n    this.line2D.style.lineAlpha = opacity;\n  }\n\n  setLine(a, b) {\n    this.a.copy(a);\n    this.b.copy(b);\n  }\n\n  getShape() {\n    return this.line2D;\n  }\n};\n\n// A line that whose endpoints are attached to the screen-projections of 2 points in 3D.\nclass Arrow3DGizmo extends ScreenOverlayGizmo {\n\n  constructor(a, b) {\n    super();\n\n    // 2D shape in pixel coords\n    this.arrow = new _Arrow_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\n    // 3D world positions\n    this.a = a || new THREE.Vector3();\n    this.b = b || new THREE.Vector3();\n  }\n\n  update(viewer) {\n    // project points to screen\n    const p1 = viewer.impl.worldToClient(this.a);\n    const p2 = viewer.impl.worldToClient(this.b);\n\n    // update line\n    this.arrow.setFrom(p1);\n    this.arrow.setTo(p2);\n  }\n\n  getOpacity() {\n    return this.arrow.style.lineAlpha;\n  }\n\n  setOpacity(opacity) {\n    this.arrow.line.style.lineAlpha = opacity;\n    this.arrow.head.style.fillAlpha = opacity;\n  }\n\n  stopFadeAnim() {\n    if (this.fadeAnim) {\n      this.fadeAnim.stop();\n      this.fadeAnim = null;\n    }\n  }\n\n  setFrom(a) {\n    this.a.copy(a);\n  }\n\n  setTo(b) {\n    this.b.copy(b);\n  }\n\n  getShape() {\n    return this.arrow;\n  }\n};\n\nclass ScreenOverlay {\n\n  // @param {Viewer3D} viewer\n  // @param {string}   overlayName - Overlay that is created/owned by this EditLayer. Note that it is also destroyed in dtor, so it should not be shared.\n  constructor(viewer) {let overlayName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'Edit2D.ScreenOverlay';\n    this.viewer = viewer;\n\n    this.overlayName = overlayName;\n    this.layer = new _EditLayer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](viewer);\n\n    // create overlay scene, with orthographic Camera\n    const canvas = viewer.canvas;\n    const canvasWidth = canvas.clientWidth;\n    const canvasHeight = canvas.clientHeight;\n    this.camera = new THREE.OrthographicCamera(0, canvasWidth, 0, canvasHeight, -1, 1);\n\n    // Create overlay with EditLayer geometry and ortho camera\n    this.viewer.impl.createOverlayScene(overlayName, null, null, this.camera);\n    this.viewer.impl.overlayScenes[overlayName].scene.add(this.layer.scene);\n\n    // Make sure that camera is updated on screen resize\n    this.onResize = this.onResize.bind(this);\n    this.viewer.addEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT, this.onResize);\n\n    // Update line gizmos on camera changes\n    this.onCameraChange = this.onCameraChange.bind(this);\n    this.viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onCameraChange);\n\n    // Gizmos whose vertices are attached to 3D world positions\n    this.gizmos = [];\n\n    // Avoid default viewer cutplanes for screenspace gizmos\n    this.layer.setCutPlanesEnabled(false);\n\n    this.layer.setOverlayCamera(this.camera);\n  }\n\n  dtor() {\n    this.gizmos.forEach((g) => g.stopFadeAnim()); // Stop so the opacity timer doesn't keep running without a layer\n\n    this.viewer.removeEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT, this.onResize);\n    this.viewer.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onCameraChange);\n    this.viewer.impl.removeOverlayScene(this.overlayName);\n\n    this.layer.dtor();\n    this.layer = null;\n\n    this.viewer = null;\n  }\n\n  onResize() {\n    // adjust ortho-camera to modified canvas\n    this.camera.right = this.viewer.canvas.clientWidth;\n    this.camera.bottom = this.viewer.canvas.clientHeight;\n    this.camera.updateProjectionMatrix();\n    this.update();\n  }\n\n  // Checks if a gizmo is currently shown in this overlay\n  gizmoVisible(gizmo) {\n    return this.gizmos.includes(gizmo);\n  }\n\n  // Add gizmo (if needed) and fade its opacity\n  fadeInGizmo(gizmo) {\n\n    // Choose start opacity\n    const startOpacity = this.gizmoVisible(gizmo) ? gizmo.getOpacity() : 0.0;\n    const endOpacity = gizmo.fullOpacity;\n\n    // Make sure gizmo is visible\n    this.setGizmoVisible(gizmo, true);\n\n    // Avoid overlapping animations\n    gizmo.stopFadeAnim();\n\n    // update gizmo opacity on timer\n    const onTimer = (t) => {\n\n      t = avp.smootherStep(t);\n\n      // blend opacity value\n      const val = avp.lerp(startOpacity, endOpacity, t);\n      gizmo.setOpacity(val);\n\n      this.layer.update();\n    };\n\n    gizmo.setOpacity(startOpacity);\n    gizmo.fadeAnim = avp.fadeValue(0, 1, gizmo.fadeTime, onTimer);\n  }\n\n  // Fade-out gizmo and sets it to invisible when done (unless interrupted by fade-In)\n  fadeOutGizmo(gizmo) {\n\n    if (!this.gizmoVisible(gizmo)) {\n      return;\n    }\n\n    // Choose start opacity\n    const startOpacity = gizmo.getOpacity();\n\n    // Avoid overlapping animations\n    gizmo.stopFadeAnim();\n\n    // update gizmo opacity on timer\n    const onTimer = (t) => {\n\n      t = avp.smootherStep(t);\n\n      // blend opacity value\n      const val = avp.lerp(startOpacity, 0.0, t);\n      gizmo.setOpacity(val);\n\n      this.layer.update();\n    };\n\n    // If animation finished without interruptions, set gizmo to invisible\n    const onEnd = () => {\n      this.setGizmoVisible(gizmo, false);\n    };\n\n    gizmo.fadeAnim = avp.fadeValue(0, 1, gizmo.fadeTime, onTimer, onEnd);\n  }\n\n  setGizmoVisible(gizmo, visible) {\n\n    // If the gizmo was fading out or faded out before, make sure that the fade-out stops\n    // and the full opacity is recovered.\n    gizmo.stopFadeAnim();\n    gizmo.setOpacity(gizmo.fullOpacity);\n\n    // Check if gizmo is currently visible\n    const index = this.gizmos.indexOf(gizmo);\n    const wasVisible = index !== -1;\n\n    if (visible == wasVisible) {\n      return;\n    }\n\n    const shape = gizmo.getShape();\n    if (visible) {\n      // add gizmo\n      this.gizmos.push(gizmo);\n      this.layer.addShape(shape);\n    } else {\n      // remove gizmo\n      this.gizmos.splice(index, 1);\n      this.layer.removeShape(shape);\n    }\n    this.update();\n  }\n\n  onCameraChange() {\n    this.update();\n  }\n\n  update() {\n    // reproject 3D gizmos\n    this.gizmos.forEach((g) => g.update(this.viewer));\n    this.layer.update();\n  }\n};\n\nScreenOverlay.Line3DGizmo = Line3DGizmo;\nScreenOverlay.Arrow3DGizmo = Arrow3DGizmo;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFXLENBQUNKLEtBQUssQ0FBQztJQUNqQztJQUNBLElBQUksQ0FBQ3JGLE1BQU0sQ0FBQyxDQUFDO0VBQ2pCOztFQUVBcUQsY0FBY0EsQ0FBQSxFQUFHO0lBQ2IsSUFBSSxDQUFDckQsTUFBTSxDQUFDLENBQUM7RUFDakI7O0VBRUFBLE1BQU1BLENBQUEsRUFBRztJQUNMO0lBQ0EsSUFBSSxDQUFDdUQsTUFBTSxDQUFDSSxPQUFPLENBQUMsQ0FBQUMsQ0FBQyxLQUFJQSxDQUFDLENBQUM1RCxNQUFNLENBQUMsSUFBSSxDQUFDQyxNQUFNLENBQUMsQ0FBQztJQUMvQyxJQUFJLENBQUNvQyxLQUFLLENBQUNyQyxNQUFNLENBQUMsQ0FBQztFQUN2QjtBQUNKLENBQUM7O0FBRURnQyxhQUFhLENBQUN6QixXQUFXLEdBQUdBLFdBQVc7QUFDdkN5QixhQUFhLENBQUNQLFlBQVksR0FBR0EsWUFBWSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL0VkaXQyRC9TY3JlZW5PdmVybGF5LmpzPzg0NTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEVkaXRMYXllciBmcm9tICcuL0VkaXRMYXllci5qcyc7XG5pbXBvcnQgeyBQb2x5bGluZSB9IGZyb20gJy4vRWRpdFNoYXBlcy5qcyc7XG5pbXBvcnQgQXJyb3cgZnJvbSAnLi9BcnJvdy5qcyc7XG5cbmNvbnN0IGF2cCA9IEF1dG9kZXNrLlZpZXdpbmcuUHJpdmF0ZTtcblxuLy9cbi8vIFV0aWxpdHkgY2xhc3MgZm9yIGRyYXdpbmcgdmVjdG9yIG92ZXJsYXlzIGluIGNhbnZhcy1waXhlbCBjb29yZHMuXG4vL1xuXG4vLyBCYXNlIGNsYXNzIGZvciBsaW5lLWJhc2VkIGdpem1vcyB0aGF0IGNhbiBiZSB1c2VkIGluIHNjcmVlbiBvdmVybGF5c1xuY2xhc3MgU2NyZWVuT3ZlcmxheUdpem1vIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBjdXJyZW50IG9wYWNpdHkgdmFsdWVcbiAgICAgICAgdGhpcy5vcGFjaXR5ID0gMS4wO1xuXG4gICAgICAgIC8vIEZhZGUtaW4vb3V0IHRyYW5zaXRpb24gcGFyYW1zXG4gICAgICAgIHRoaXMuZnVsbE9wYWNpdHkgPSAxLjA7IC8vIG9wYWNpdHkgYWZ0ZXIgZnVsbCBmYWRlLWluXG4gICAgICAgIHRoaXMuZmFkZVRpbWUgICAgPSAwLjU7ICAgIC8vIGluIHNlY29uZHNcblxuICAgICAgICAvLyBVc2VkIGJ5IHBhcmVudCBTY3JlZW5PdmVsYXkgZm9yIGZhZGUgaW4vb3V0XG4gICAgICAgIHRoaXMuZmFkZUFuaW0gPSBudWxsO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBsYXllciAoPXNjcmVlbikgY29vcmRzIG9mIHRoZSBnaXptbyBiYXNlZCBsYXRlc3QgY2FtZXJhXG4gICAgdXBkYXRlKHZpZXdlcikge31cblxuICAgIC8vIFJldHVybiBzaGFwZSByZXByZXNlbnRpbmcgdGhpcyBnaXptby4gVXNlZCBieSBTY3JlZW5PdmVybGF5IHRvIGFkZC9yZW1vdmUgc2hhcGVzIGZyb20vdG8gbGF5ZXIuXG4gICAgZ2V0U2hhcGUoKSB7fVxuXG4gICAgLy8gT3BhY2l0eSBmb3IgZmFkZS1pbi9vdXRcbiAgICBzZXRPcGFjaXR5KG9wYWNpdHkpIHtcbiAgICAgICAgdGhpcy5vcGFjaXR5ID0gb3BhY2l0eVxuICAgIH1cbiAgICBnZXRPcGFjaXR5KCkgeyByZXR1cm4gdGhpcy5vcGFjaXR5OyB9XG5cbiAgICBzdG9wRmFkZUFuaW0oKSB7XG4gICAgICAgIGlmICh0aGlzLmZhZGVBbmltKSB7XG4gICAgICAgICAgICB0aGlzLmZhZGVBbmltLnN0b3AoKTtcbiAgICAgICAgICAgIHRoaXMuZmFkZUFuaW0gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBBIGxpbmUgdGhhdCB3aG9zZSBlbmRwb2ludHMgYXJlIGF0dGFjaGVkIHRvIHRoZSBzY3JlZW4tcHJvamVjdGlvbnMgb2YgMiBwb2ludHMgaW4gM0QuXG5jbGFzcyBMaW5lM0RHaXptbyBleHRlbmRzIFNjcmVlbk92ZXJsYXlHaXptbyB7XG5cbiAgICBjb25zdHJ1Y3RvcihhLCBiKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgLy8gMkQgc2hhcGUgaW4gcGl4ZWwgY29vcmRzXG4gICAgICAgIHRoaXMubGluZTJEID0gbmV3IFBvbHlsaW5lKCkubWFrZUxpbmUoMCwwLDAsMCk7XG5cbiAgICAgICAgLy8gM0Qgd29ybGQgcG9zaXRpb25zXG4gICAgICAgIHRoaXMuYSA9IGEgfHwgbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICAgICAgdGhpcy5iID0gYiB8fCBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIH07XG5cbiAgICB1cGRhdGUodmlld2VyKSB7XG4gICAgICAgIC8vIHByb2plY3QgcG9pbnRzIHRvIHNjcmVlblxuICAgICAgICBjb25zdCBwMSA9IHZpZXdlci5pbXBsLndvcmxkVG9DbGllbnQodGhpcy5hKTtcbiAgICAgICAgY29uc3QgcDIgPSB2aWV3ZXIuaW1wbC53b3JsZFRvQ2xpZW50KHRoaXMuYik7XG5cbiAgICAgICAgLy8gdXBkYXRlIGxpbmVcbiAgICAgICAgdGhpcy5saW5lMkQudXBkYXRlUG9pbnQoMCwgcDEueCwgcDEueSk7XG4gICAgICAgIHRoaXMubGluZTJELnVwZGF0ZVBvaW50KDEsIHAyLngsIHAyLnkpO1xuICAgIH1cblxuICAgIHNldE9wYWNpdHkob3BhY2l0eSkge1xuICAgICAgICBzdXBlci5zZXRPcGFjaXR5KG9wYWNpdHkpO1xuICAgICAgICB0aGlzLmxpbmUyRC5zdHlsZS5saW5lQWxwaGEgPSBvcGFjaXR5O1xuICAgIH1cblxuICAgIHNldExpbmUoYSwgYikge1xuICAgICAgICB0aGlzLmEuY29weShhKTtcbiAgICAgICAgdGhpcy5iLmNvcHkoYik7XG4gICAgfVxuXG4gICAgZ2V0U2hhcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmUyRDtcbiAgICB9XG59O1xuXG4vLyBBIGxpbmUgdGhhdCB3aG9zZSBlbmRwb2ludHMgYXJlIGF0dGFjaGVkIHRvIHRoZSBzY3JlZW4tcHJvamVjdGlvbnMgb2YgMiBwb2ludHMgaW4gM0QuXG5jbGFzcyBBcnJvdzNER2l6bW8gZXh0ZW5kcyBTY3JlZW5PdmVybGF5R2l6bW8ge1xuXG4gICAgY29uc3RydWN0b3IoYSwgYikge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIC8vIDJEIHNoYXBlIGluIHBpeGVsIGNvb3Jkc1xuICAgICAgICB0aGlzLmFycm93ID0gbmV3IEFycm93KCk7XG5cbiAgICAgICAgLy8gM0Qgd29ybGQgcG9zaXRpb25zXG4gICAgICAgIHRoaXMuYSA9IGEgfHwgbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICAgICAgdGhpcy5iID0gYiB8fCBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIH07XG5cbiAgICB1cGRhdGUodmlld2VyKSB7XG4gICAgICAgIC8vIHByb2plY3QgcG9pbnRzIHRvIHNjcmVlblxuICAgICAgICBjb25zdCBwMSA9IHZpZXdlci5pbXBsLndvcmxkVG9DbGllbnQodGhpcy5hKTtcbiAgICAgICAgY29uc3QgcDIgPSB2aWV3ZXIuaW1wbC53b3JsZFRvQ2xpZW50KHRoaXMuYik7XG5cbiAgICAgICAgLy8gdXBkYXRlIGxpbmVcbiAgICAgICAgdGhpcy5hcnJvdy5zZXRGcm9tKHAxKTtcbiAgICAgICAgdGhpcy5hcnJvdy5zZXRUbyhwMik7XG4gICAgfVxuXG4gICAgZ2V0T3BhY2l0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJyb3cuc3R5bGUubGluZUFscGhhO1xuICAgIH1cblxuICAgIHNldE9wYWNpdHkob3BhY2l0eSkge1xuICAgICAgICB0aGlzLmFycm93LmxpbmUuc3R5bGUubGluZUFscGhhID0gb3BhY2l0eTtcbiAgICAgICAgdGhpcy5hcnJvdy5oZWFkLnN0eWxlLmZpbGxBbHBoYSA9IG9wYWNpdHk7XG4gICAgfVxuXG4gICAgc3RvcEZhZGVBbmltKCkge1xuICAgICAgICBpZiAodGhpcy5mYWRlQW5pbSkge1xuICAgICAgICAgICAgdGhpcy5mYWRlQW5pbS5zdG9wKCk7XG4gICAgICAgICAgICB0aGlzLmZhZGVBbmltID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldEZyb20oYSkge1xuICAgICAgICB0aGlzLmEuY29weShhKTtcbiAgICB9XG5cbiAgICBzZXRUbyhiKSB7XG4gICAgICAgIHRoaXMuYi5jb3B5KGIpO1xuICAgIH1cblxuICAgIGdldFNoYXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcnJvdztcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY3JlZW5PdmVybGF5IHtcblxuICAgIC8vIEBwYXJhbSB7Vmlld2VyM0R9IHZpZXdlclxuICAgIC8vIEBwYXJhbSB7c3RyaW5nfSAgIG92ZXJsYXlOYW1lIC0gT3ZlcmxheSB0aGF0IGlzIGNyZWF0ZWQvb3duZWQgYnkgdGhpcyBFZGl0TGF5ZXIuIE5vdGUgdGhhdCBpdCBpcyBhbHNvIGRlc3Ryb3llZCBpbiBkdG9yLCBzbyBpdCBzaG91bGQgbm90IGJlIHNoYXJlZC5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3ZXIsIG92ZXJsYXlOYW1lID0gJ0VkaXQyRC5TY3JlZW5PdmVybGF5Jykge1xuICAgICAgICB0aGlzLnZpZXdlciA9IHZpZXdlcjtcblxuICAgICAgICB0aGlzLm92ZXJsYXlOYW1lID0gb3ZlcmxheU5hbWU7XG4gICAgICAgIHRoaXMubGF5ZXIgPSBuZXcgRWRpdExheWVyKHZpZXdlcik7XG5cbiAgICAgICAgLy8gY3JlYXRlIG92ZXJsYXkgc2NlbmUsIHdpdGggb3J0aG9ncmFwaGljIENhbWVyYVxuICAgICAgICBjb25zdCBjYW52YXMgICAgICAgPSB2aWV3ZXIuY2FudmFzO1xuICAgICAgICBjb25zdCBjYW52YXNXaWR0aCAgPSBjYW52YXMuY2xpZW50V2lkdGg7XG4gICAgICAgIGNvbnN0IGNhbnZhc0hlaWdodCA9IGNhbnZhcy5jbGllbnRIZWlnaHQ7XG4gICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSgwLCBjYW52YXNXaWR0aCwgMCwgY2FudmFzSGVpZ2h0LCAtMSwgMSk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIG92ZXJsYXkgd2l0aCBFZGl0TGF5ZXIgZ2VvbWV0cnkgYW5kIG9ydGhvIGNhbWVyYVxuICAgICAgICB0aGlzLnZpZXdlci5pbXBsLmNyZWF0ZU92ZXJsYXlTY2VuZShvdmVybGF5TmFtZSwgbnVsbCwgbnVsbCwgdGhpcy5jYW1lcmEpO1xuICAgICAgICB0aGlzLnZpZXdlci5pbXBsLm92ZXJsYXlTY2VuZXNbb3ZlcmxheU5hbWVdLnNjZW5lLmFkZCh0aGlzLmxheWVyLnNjZW5lKTtcblxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCBjYW1lcmEgaXMgdXBkYXRlZCBvbiBzY3JlZW4gcmVzaXplXG4gICAgICAgIHRoaXMub25SZXNpemUgPSB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMudmlld2VyLmFkZEV2ZW50TGlzdGVuZXIoQXV0b2Rlc2suVmlld2luZy5WSUVXRVJfUkVTSVpFX0VWRU5ULCB0aGlzLm9uUmVzaXplKTtcblxuICAgICAgICAvLyBVcGRhdGUgbGluZSBnaXptb3Mgb24gY2FtZXJhIGNoYW5nZXNcbiAgICAgICAgdGhpcy5vbkNhbWVyYUNoYW5nZSA9IHRoaXMub25DYW1lcmFDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3ZXIuYWRkRXZlbnRMaXN0ZW5lcihBdXRvZGVzay5WaWV3aW5nLkNBTUVSQV9DSEFOR0VfRVZFTlQsIHRoaXMub25DYW1lcmFDaGFuZ2UpO1xuXG4gICAgICAgIC8vIEdpem1vcyB3aG9zZSB2ZXJ0aWNlcyBhcmUgYXR0YWNoZWQgdG8gM0Qgd29ybGQgcG9zaXRpb25zXG4gICAgICAgIHRoaXMuZ2l6bW9zID0gW107XG5cbiAgICAgICAgLy8gQXZvaWQgZGVmYXVsdCB2aWV3ZXIgY3V0cGxhbmVzIGZvciBzY3JlZW5zcGFjZSBnaXptb3NcbiAgICAgICAgdGhpcy5sYXllci5zZXRDdXRQbGFuZXNFbmFibGVkKGZhbHNlKTtcblxuICAgICAgICB0aGlzLmxheWVyLnNldE92ZXJsYXlDYW1lcmEodGhpcy5jYW1lcmEpO1xuICAgIH1cblxuICAgIGR0b3IoKSB7XG4gICAgICAgIHRoaXMuZ2l6bW9zLmZvckVhY2goZyA9PiBnLnN0b3BGYWRlQW5pbSgpKTsgLy8gU3RvcCBzbyB0aGUgb3BhY2l0eSB0aW1lciBkb2Vzbid0IGtlZXAgcnVubmluZyB3aXRob3V0IGEgbGF5ZXJcblxuICAgICAgICB0aGlzLnZpZXdlci5yZW1vdmVFdmVudExpc3RlbmVyKEF1dG9kZXNrLlZpZXdpbmcuVklFV0VSX1JFU0laRV9FVkVOVCwgdGhpcy5vblJlc2l6ZSk7XG4gICAgICAgIHRoaXMudmlld2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoQXV0b2Rlc2suVmlld2luZy5DQU1FUkFfQ0hBTkdFX0VWRU5ULCB0aGlzLm9uQ2FtZXJhQ2hhbmdlKTtcbiAgICAgICAgdGhpcy52aWV3ZXIuaW1wbC5yZW1vdmVPdmVybGF5U2NlbmUodGhpcy5vdmVybGF5TmFtZSk7XG5cbiAgICAgICAgdGhpcy5sYXllci5kdG9yKCk7XG4gICAgICAgIHRoaXMubGF5ZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMudmlld2VyID0gbnVsbDtcbiAgICB9XG5cbiAgICBvblJlc2l6ZSgpIHtcbiAgICAgICAgLy8gYWRqdXN0IG9ydGhvLWNhbWVyYSB0byBtb2RpZmllZCBjYW52YXNcbiAgICAgICAgdGhpcy5jYW1lcmEucmlnaHQgID0gdGhpcy52aWV3ZXIuY2FudmFzLmNsaWVudFdpZHRoO1xuICAgICAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSB0aGlzLnZpZXdlci5jYW52YXMuY2xpZW50SGVpZ2h0O1xuICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2tzIGlmIGEgZ2l6bW8gaXMgY3VycmVudGx5IHNob3duIGluIHRoaXMgb3ZlcmxheVxuICAgIGdpem1vVmlzaWJsZShnaXptbykge1xuICAgICAgICByZXR1cm4gdGhpcy5naXptb3MuaW5jbHVkZXMoZ2l6bW8pO1xuICAgIH1cblxuICAgIC8vIEFkZCBnaXptbyAoaWYgbmVlZGVkKSBhbmQgZmFkZSBpdHMgb3BhY2l0eVxuICAgIGZhZGVJbkdpem1vKGdpem1vKSB7XG5cbiAgICAgICAgLy8gQ2hvb3NlIHN0YXJ0IG9wYWNpdHlcbiAgICAgICAgY29uc3Qgc3RhcnRPcGFjaXR5ID0gdGhpcy5naXptb1Zpc2libGUoZ2l6bW8pID8gZ2l6bW8uZ2V0T3BhY2l0eSgpIDogMC4wO1xuICAgICAgICBjb25zdCBlbmRPcGFjaXR5ICAgPSBnaXptby5mdWxsT3BhY2l0eTtcblxuICAgICAgICAvLyBNYWtlIHN1cmUgZ2l6bW8gaXMgdmlzaWJsZVxuICAgICAgICB0aGlzLnNldEdpem1vVmlzaWJsZShnaXptbywgdHJ1ZSk7XG5cbiAgICAgICAgLy8gQXZvaWQgb3ZlcmxhcHBpbmcgYW5pbWF0aW9uc1xuICAgICAgICBnaXptby5zdG9wRmFkZUFuaW0oKTtcblxuICAgICAgICAvLyB1cGRhdGUgZ2l6bW8gb3BhY2l0eSBvbiB0aW1lclxuICAgICAgICBjb25zdCBvblRpbWVyID0gKHQpID0+IHtcblxuICAgICAgICAgICAgdCA9IGF2cC5zbW9vdGhlclN0ZXAodCk7XG5cbiAgICAgICAgICAgIC8vIGJsZW5kIG9wYWNpdHkgdmFsdWVcbiAgICAgICAgICAgIGNvbnN0IHZhbCA9IGF2cC5sZXJwKHN0YXJ0T3BhY2l0eSwgZW5kT3BhY2l0eSwgdCk7XG4gICAgICAgICAgICBnaXptby5zZXRPcGFjaXR5KHZhbCk7XG5cbiAgICAgICAgICAgIHRoaXMubGF5ZXIudXBkYXRlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZ2l6bW8uc2V0T3BhY2l0eShzdGFydE9wYWNpdHkpO1xuICAgICAgICBnaXptby5mYWRlQW5pbSA9IGF2cC5mYWRlVmFsdWUoMCwgMSwgZ2l6bW8uZmFkZVRpbWUsIG9uVGltZXIpO1xuICAgIH1cblxuICAgIC8vIEZhZGUtb3V0IGdpem1vIGFuZCBzZXRzIGl0IHRvIGludmlzaWJsZSB3aGVuIGRvbmUgKHVubGVzcyBpbnRlcnJ1cHRlZCBieSBmYWRlLUluKVxuICAgIGZhZGVPdXRHaXptbyhnaXptbykge1xuXG4gICAgICAgIGlmICghdGhpcy5naXptb1Zpc2libGUoZ2l6bW8pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaG9vc2Ugc3RhcnQgb3BhY2l0eVxuICAgICAgICBjb25zdCBzdGFydE9wYWNpdHkgPSBnaXptby5nZXRPcGFjaXR5KCk7XG5cbiAgICAgICAgLy8gQXZvaWQgb3ZlcmxhcHBpbmcgYW5pbWF0aW9uc1xuICAgICAgICBnaXptby5zdG9wRmFkZUFuaW0oKTtcblxuICAgICAgICAvLyB1cGRhdGUgZ2l6bW8gb3BhY2l0eSBvbiB0aW1lclxuICAgICAgICBjb25zdCBvblRpbWVyID0gKHQpID0+IHtcblxuICAgICAgICAgICAgdCA9IGF2cC5zbW9vdGhlclN0ZXAodCk7XG5cbiAgICAgICAgICAgIC8vIGJsZW5kIG9wYWNpdHkgdmFsdWVcbiAgICAgICAgICAgIGNvbnN0IHZhbCA9IGF2cC5sZXJwKHN0YXJ0T3BhY2l0eSwgMC4wLCB0KTtcbiAgICAgICAgICAgIGdpem1vLnNldE9wYWNpdHkodmFsKTtcblxuICAgICAgICAgICAgdGhpcy5sYXllci51cGRhdGUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBJZiBhbmltYXRpb24gZmluaXNoZWQgd2l0aG91dCBpbnRlcnJ1cHRpb25zLCBzZXQgZ2l6bW8gdG8gaW52aXNpYmxlXG4gICAgICAgIGNvbnN0IG9uRW5kID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRHaXptb1Zpc2libGUoZ2l6bW8sIGZhbHNlKTtcbiAgICAgICAgfTtcblxuICAgICAgICBnaXptby5mYWRlQW5pbSA9IGF2cC5mYWRlVmFsdWUoMCwgMSwgZ2l6bW8uZmFkZVRpbWUsIG9uVGltZXIsIG9uRW5kKTtcbiAgICB9XG5cbiAgICBzZXRHaXptb1Zpc2libGUoZ2l6bW8sIHZpc2libGUpIHtcblxuICAgICAgICAvLyBJZiB0aGUgZ2l6bW8gd2FzIGZhZGluZyBvdXQgb3IgZmFkZWQgb3V0IGJlZm9yZSwgbWFrZSBzdXJlIHRoYXQgdGhlIGZhZGUtb3V0IHN0b3BzXG4gICAgICAgIC8vIGFuZCB0aGUgZnVsbCBvcGFjaXR5IGlzIHJlY292ZXJlZC5cbiAgICAgICAgZ2l6bW8uc3RvcEZhZGVBbmltKCk7XG4gICAgICAgIGdpem1vLnNldE9wYWNpdHkoZ2l6bW8uZnVsbE9wYWNpdHkpO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGdpem1vIGlzIGN1cnJlbnRseSB2aXNpYmxlXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5naXptb3MuaW5kZXhPZihnaXptbyk7XG4gICAgICAgIGNvbnN0IHdhc1Zpc2libGUgPSAoaW5kZXggIT09IC0xKTtcblxuICAgICAgICBpZiAodmlzaWJsZSA9PSB3YXNWaXNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzaGFwZSA9IGdpem1vLmdldFNoYXBlKCk7XG4gICAgICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICAgICAgICAvLyBhZGQgZ2l6bW9cbiAgICAgICAgICAgIHRoaXMuZ2l6bW9zLnB1c2goZ2l6bW8pO1xuICAgICAgICAgICAgdGhpcy5sYXllci5hZGRTaGFwZShzaGFwZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgZ2l6bW9cbiAgICAgICAgICAgIHRoaXMuZ2l6bW9zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB0aGlzLmxheWVyLnJlbW92ZVNoYXBlKHNoYXBlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIG9uQ2FtZXJhQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgLy8gcmVwcm9qZWN0IDNEIGdpem1vc1xuICAgICAgICB0aGlzLmdpem1vcy5mb3JFYWNoKGcgPT4gZy51cGRhdGUodGhpcy52aWV3ZXIpKTtcbiAgICAgICAgdGhpcy5sYXllci51cGRhdGUoKTtcbiAgICB9XG59O1xuXG5TY3JlZW5PdmVybGF5LkxpbmUzREdpem1vID0gTGluZTNER2l6bW87XG5TY3JlZW5PdmVybGF5LkFycm93M0RHaXptbyA9IEFycm93M0RHaXptbztcbiJdLCJuYW1lcyI6WyJFZGl0TGF5ZXIiLCJQb2x5bGluZSIsIkFycm93IiwiYXZwIiwiQXV0b2Rlc2siLCJWaWV3aW5nIiwiUHJpdmF0ZSIsIlNjcmVlbk92ZXJsYXlHaXptbyIsImNvbnN0cnVjdG9yIiwib3BhY2l0eSIsImZ1bGxPcGFjaXR5IiwiZmFkZVRpbWUiLCJmYWRlQW5pbSIsInVwZGF0ZSIsInZpZXdlciIsImdldFNoYXBlIiwic2V0T3BhY2l0eSIsImdldE9wYWNpdHkiLCJzdG9wRmFkZUFuaW0iLCJzdG9wIiwiTGluZTNER2l6bW8iLCJhIiwiYiIsImxpbmUyRCIsIm1ha2VMaW5lIiwiVEhSRUUiLCJWZWN0b3IzIiwicDEiLCJpbXBsIiwid29ybGRUb0NsaWVudCIsInAyIiwidXBkYXRlUG9pbnQiLCJ4IiwieSIsInN0eWxlIiwibGluZUFscGhhIiwic2V0TGluZSIsImNvcHkiLCJBcnJvdzNER2l6bW8iLCJhcnJvdyIsInNldEZyb20iLCJzZXRUbyIsImxpbmUiLCJoZWFkIiwiZmlsbEFscGhhIiwiU2NyZWVuT3ZlcmxheSIsIm92ZXJsYXlOYW1lIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwibGF5ZXIiLCJjYW52YXMiLCJjYW52YXNXaWR0aCIsImNsaWVudFdpZHRoIiwiY2FudmFzSGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiY2FtZXJhIiwiT3J0aG9ncmFwaGljQ2FtZXJhIiwiY3JlYXRlT3ZlcmxheVNjZW5lIiwib3ZlcmxheVNjZW5lcyIsInNjZW5lIiwiYWRkIiwib25SZXNpemUiLCJiaW5kIiwiYWRkRXZlbnRMaXN0ZW5lciIsIlZJRVdFUl9SRVNJWkVfRVZFTlQiLCJvbkNhbWVyYUNoYW5nZSIsIkNBTUVSQV9DSEFOR0VfRVZFTlQiLCJnaXptb3MiLCJzZXRDdXRQbGFuZXNFbmFibGVkIiwic2V0T3ZlcmxheUNhbWVyYSIsImR0b3IiLCJmb3JFYWNoIiwiZyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZW1vdmVPdmVybGF5U2NlbmUiLCJyaWdodCIsImJvdHRvbSIsInVwZGF0ZVByb2plY3Rpb25NYXRyaXgiLCJnaXptb1Zpc2libGUiLCJnaXptbyIsImluY2x1ZGVzIiwiZmFkZUluR2l6bW8iLCJzdGFydE9wYWNpdHkiLCJlbmRPcGFjaXR5Iiwic2V0R2l6bW9WaXNpYmxlIiwib25UaW1lciIsInQiLCJzbW9vdGhlclN0ZXAiLCJ2YWwiLCJsZXJwIiwiZmFkZVZhbHVlIiwiZmFkZU91dEdpem1vIiwib25FbmQiLCJ2aXNpYmxlIiwiaW5kZXgiLCJpbmRleE9mIiwid2FzVmlzaWJsZSIsInNoYXBlIiwicHVzaCIsImFkZFNoYXBlIiwic3BsaWNlIiwicmVtb3ZlU2hhcGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Edit2D/ScreenOverlay.js\n");

/***/ }),

/***/ "./extensions/Edit2D/SegmentTree.js":
/*!******************************************!*\
  !*** ./extensions/Edit2D/SegmentTree.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SegmentTree)\n/* harmony export */ });\n/* harmony import */ var worker_loader_inline_no_fallback_SegmentTreeWorker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! worker-loader?inline=no-fallback!./SegmentTreeWorker */ \"./node_modules/worker-loader/dist/cjs.js?inline=no-fallback!./extensions/Edit2D/SegmentTreeWorker.js\");\n/* harmony import */ var lodash_set__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/set */ \"./node_modules/lodash/set.js\");\n/* harmony import */ var lodash_set__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_set__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\n//\n// SegmentTree is a spatial datastructure that helps to quickly find all segments (lines, arcs) within a given 2d bbox.\n//\n\nconst SegmentType = {\n  Line: 1,\n  CircularArc: 2,\n  EllipticalArc: 3\n};\n\n// A segment is an object that describes a single line or arc segment.\n// Properties depend on segment type (see functions below)\nconst createLineSegment = (x1, y1, x2, y2, vpId) => {return { type: SegmentType.Line, x1, y1, x2, y2, vpId };};\nconst createCircularArcSegment = (cx, cy, start, end, radius, vpId) => {return { type: SegmentType.CirularArc, cx, cy, start, end, radius, vpId };};\nconst createEllipticalArcSegment = (cx, cy, start, end, major, minor, tilt, vpId) => {return { type: SegmentType.EllipticalArc, cx, cy, start, end, major, minor, tilt, vpId };};\n\n// Triggers the corresponding callbacks (onLineSegment, onCircularArc...) from a given segment object.\n//  @param {Object} s             - Segment object whose data are sent to geomCb\n//  @param {Object} geomCallbacks - Provides handlers for different segments. Same as used by VertexBufferReader.\nconst processSegment = (s, geomCallbacks) => {\n  switch (s.type) {\n    case SegmentType.Line:geomCallbacks.onLineSegment(s.x1, s.y1, s.x2, s.y2, s.vpId);break;\n    case SegmentType.CirularArc:geomCallbacks.onCircularArc(s.cx, s.cy, s.start, s.end, s.radius, s.vpId);break;\n    case SegmentType.EllipticalArc:geomCallbacks.onEllipticalArc(s.cx, s.cy, s.tart, s.end, s.major, s.minor, s.tilt, s.vpId);break;\n  }\n};\n\n// Implements required functions to allow organizing segments in a quadtree\nclass SegmentHandler {\n\n  constructor() {\n\n    // Used BoundsCallback to get segment bboxes\n    this.boundsCb = new Autodesk.Viewing.Private.BoundsCallback(new THREE.Box2());\n\n    // Reused tmp values\n    this.queryBox = new THREE.Box2();\n    this.tmpPoint = new THREE.Vector2();\n  }\n\n  getSegmentBox(segment) {\n    this.boundsCb.bounds.makeEmpty();\n    processSegment(segment, this.boundsCb);\n    return this.boundsCb.bounds;\n  }\n\n  getQueryBox(minx, miny, maxx, maxy) {\n    // get query box\n    this.queryBox.min.set(minx, miny);\n    this.queryBox.max.set(maxx, maxy);\n    return this.queryBox;\n  }\n\n  intersectsBox(segment, minx, miny, maxx, maxy) {\n    const queryBox = this.getQueryBox(minx, miny, maxx, maxy);\n    const segmentBox = this.getSegmentBox(segment);\n    return queryBox.intersectsBox(segmentBox);\n  }\n\n  // Note that outPoint is just an {x,y} pair, not a Vector2\n  getPoint(segment, outPoint) {\n    // Just use bbox center for all segment types\n    const center = this.getSegmentBox(segment).getCenter(this.tmpPoint);\n    outPoint.x = center.x;\n    outPoint.y = center.y;\n  }\n}\n\nlet worker;\nclass SegmentTree {\n\n  // Build SegmentTree from 2D vector-data model (PDF or F2D).\n  // Note: Make sure that the model is fully loaded - otherwise, the tree will be incomplete.\n  buildFromModel(model) {\n\n    // The quadtree must know the extents in advance.\n    const box = model.getBoundingBox(true);\n\n    // Init quadtree that manages segments\n    this.tree = new Autodesk.Extensions.CompGeom.QuadTree(box.min.x, box.min.y, box.max.x, box.max.y, 0.0, new SegmentHandler());\n\n    if (!worker) {\n      worker = new worker_loader_inline_no_fallback_SegmentTreeWorker__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    }\n\n    // Add geomtry for all fragments\n    const frags = model.getFragmentList();\n    const count = frags.getCount();\n\n    this.numProcessed = 0;\n    this.totalGeoms = count;\n\n    // Notify the worker with the expected number of geometries\n    worker.postMessage({ totalGeoms: count });\n\n    for (let i = 0; i < count; i++) {\n      const geom = frags.getGeometry(i);\n      this.addGeometry(geom);\n    }\n  }\n\n  /**\n   * Adds all segments from a given 2D LineShader geometry.\n   * Precondition: Can only be called if tree has been initialized and geom is within the bbox used to initialize the tree\n   * @param {BufferGeometry} geom\n   */\n  addGeometry(geom) {var _geom$tIdColor;\n\n    // This is the required geometry data that is required by the VertexBufferReader.\n    // The real BufferGeometry instance cannot be serialized.\n    // Due to race condition on mobile platform, sometimes, geomData might include forbidden values\n    // for example functions, which cannot be passed to workers. For example: SCCOM-12577.\n    // `geom.attributes` and partially `geom.tIdColor` removed since they are not necessary for SegmentTree computations.\n    const geomData = {\n      numInstances: geom.numInstances,\n      unpackXform: geom.unpackXform\n    };\n    geomData.vb = geom.vb;\n    geomData.vbstride = geom.vbstride;\n    geomData.ib = geom.ib;\n\n    if ((_geom$tIdColor = geom.tIdColor) !== null && _geom$tIdColor !== void 0 && (_geom$tIdColor = _geom$tIdColor.image) !== null && _geom$tIdColor !== void 0 && (_geom$tIdColor = _geom$tIdColor.data) !== null && _geom$tIdColor !== void 0 && _geom$tIdColor.buffer) {\n      lodash_set__WEBPACK_IMPORTED_MODULE_1___default()(geomData, 'tIdColor.image.data.buffer', geom.tIdColor.image.data.buffer);\n    }\n\n    worker.postMessage([geomData]);\n    worker.onmessage = (e) => {\n      const batch = e.data;\n      for (let i = 0; i < batch.length; i += 9) {\n        const type = batch[i];\n        switch (type) {\n          case 1: // Line Segment\n            this.tree.addItem(createLineSegment(batch[i + 1], batch[i + 2], batch[i + 3], batch[i + 4], batch[i + 5]));\n            break;\n          case 2: // Circular Arc\n            this.tree.addItem(createCircularArcSegment(batch[i + 1], batch[i + 2], batch[i + 3], batch[i + 4], batch[i + 5], batch[i + 6]));\n            break;\n          case 3: // Elliptical Arc\n            this.tree.addItem(createEllipticalArcSegment(batch[i + 1], batch[i + 2], batch[i + 3], batch[i + 4], batch[i + 5], batch[i + 6], batch[i + 7], batch[i + 8]));\n            break;\n          case 9: // finished\n            this.numProcessed++;\n            break;\n        }\n      }\n    };\n  }\n\n  //  @param {Object} geomCallbacks - Visitor that provides callbacks to handle different segments. Same as used by VertexBufferReader.\n  enumSegments(minx, miny, maxx, maxy, geomCallbacks) {\n\n    // Find all segments in the tree and invoke corresponding call on GeometryCallback\n    this.tree.enumInBox(minx, miny, maxx, maxy, (s) => processSegment(s, geomCallbacks));\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL0VkaXQyRC9TZWdtZW50VHJlZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXFGO0FBQ3ZEOztBQUU5QjtBQUNBO0FBQ0E7O0FBRUEsTUFBTUUsV0FBVyxHQUFHO0VBQ2hCQyxJQUFJLEVBQVcsQ0FBQztFQUNoQkMsV0FBVyxFQUFJLENBQUM7RUFDaEJDLGFBQWEsRUFBRTtBQUNuQixDQUFDOztBQUVEO0FBQ0E7QUFDQSxNQUFNQyxpQkFBaUIsR0FBWUEsQ0FBQ0MsRUFBRSxFQUFFQyxFQUFFLEVBQUVDLEVBQUUsRUFBRUMsRUFBRSxFQUFFQyxJQUFJLEtBQTZCLENBQUUsT0FBTyxFQUFDQyxJQUFJLEVBQUVWLFdBQVcsQ0FBQ0MsSUFBSSxFQUFXSSxFQUFFLEVBQUVDLEVBQUUsRUFBRUMsRUFBRSxFQUFFQyxFQUFFLEVBQUVDLElBQUksRUFBQyxDQUFFLENBQUM7QUFDeEosTUFBTUUsd0JBQXdCLEdBQUtBLENBQUNDLEVBQUUsRUFBRUMsRUFBRSxFQUFFQyxLQUFLLEVBQUVDLEdBQUcsRUFBRUMsTUFBTSxFQUFFUCxJQUFJLEtBQWlCLENBQUUsT0FBTyxFQUFDQyxJQUFJLEVBQUVWLFdBQVcsQ0FBQ2lCLFVBQVUsRUFBS0wsRUFBRSxFQUFFQyxFQUFFLEVBQUVDLEtBQUssRUFBRUMsR0FBRyxFQUFFQyxNQUFNLEVBQUVQLElBQUksRUFBQyxDQUFFLENBQUM7QUFDcEssTUFBTVMsMEJBQTBCLEdBQUdBLENBQUNOLEVBQUUsRUFBRUMsRUFBRSxFQUFFQyxLQUFLLEVBQUVDLEdBQUcsRUFBRUksS0FBSyxFQUFFQyxLQUFLLEVBQUVDLElBQUksRUFBRVosSUFBSSxLQUFLLENBQUUsT0FBTyxFQUFDQyxJQUFJLEVBQUVWLFdBQVcsQ0FBQ0csYUFBYSxFQUFFUyxFQUFFLEVBQUVDLEVBQUUsRUFBRUMsS0FBSyxFQUFFQyxHQUFHLEVBQUVJLEtBQUssRUFBRUMsS0FBSyxFQUFFQyxJQUFJLEVBQUVaLElBQUksRUFBQyxDQUFFLENBQUM7O0FBRWhMO0FBQ0E7QUFDQTtBQUNBLE1BQU1hLGNBQWMsR0FBR0EsQ0FBQ0MsQ0FBQyxFQUFFQyxhQUFhLEtBQUs7RUFDekMsUUFBT0QsQ0FBQyxDQUFDYixJQUFJO0lBQ1QsS0FBS1YsV0FBVyxDQUFDQyxJQUFJLENBQVd1QixhQUFhLENBQUNDLGFBQWEsQ0FBQ0YsQ0FBQyxDQUFDbEIsRUFBRSxFQUFFa0IsQ0FBQyxDQUFDakIsRUFBRSxFQUFFaUIsQ0FBQyxDQUFDaEIsRUFBRSxFQUFFZ0IsQ0FBQyxDQUFDZixFQUFFLEVBQUVlLENBQUMsQ0FBQ2QsSUFBSSxDQUFDLENBQUU7SUFDN0YsS0FBS1QsV0FBVyxDQUFDaUIsVUFBVSxDQUFLTyxhQUFhLENBQUNFLGFBQWEsQ0FBQ0gsQ0FBQyxDQUFDWCxFQUFFLEVBQUVXLENBQUMsQ0FBQ1YsRUFBRSxFQUFFVSxDQUFDLENBQUNULEtBQUssRUFBRVMsQ0FBQyxDQUFDUixHQUFHLEVBQUVRLENBQUMsQ0FBQ1AsTUFBTSxFQUFFTyxDQUFDLENBQUNkLElBQUksQ0FBQyxDQUFFO0lBQzNHLEtBQUtULFdBQVcsQ0FBQ0csYUFBYSxDQUFFcUIsYUFBYSxDQUFDRyxlQUFlLENBQUNKLENBQUMsQ0FBQ1gsRUFBRSxFQUFFVyxDQUFDLENBQUNWLEVBQUUsRUFBRVUsQ0FBQyxDQUFDSyxJQUFJLEVBQUVMLENBQUMsQ0FBQ1IsR0FBRyxFQUFFUSxDQUFDLENBQUNKLEtBQUssRUFBRUksQ0FBQyxDQUFDSCxLQUFLLEVBQUVHLENBQUMsQ0FBQ0YsSUFBSSxFQUFFRSxDQUFDLENBQUNkLElBQUksQ0FBQyxDQUFFO0VBQ2hJO0FBQ0osQ0FBQzs7QUFFRDtBQUNBLE1BQU1vQixjQUFjLENBQUM7O0VBRWpCQyxXQUFXQSxDQUFBLEVBQUc7O0lBRVY7SUFDQSxJQUFJLENBQUNDLFFBQVEsR0FBRyxJQUFJQyxRQUFRLENBQUNDLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDQyxjQUFjLENBQUMsSUFBSUMsS0FBSyxDQUFDQyxJQUFJLENBQUMsQ0FBQyxDQUFDOztJQUU3RTtJQUNBLElBQUksQ0FBQ0MsUUFBUSxHQUFLLElBQUlGLEtBQUssQ0FBQ0MsSUFBSSxDQUFDLENBQUM7SUFDbEMsSUFBSSxDQUFDRSxRQUFRLEdBQUssSUFBSUgsS0FBSyxDQUFDSSxPQUFPLENBQUMsQ0FBQztFQUN6Qzs7RUFFQUMsYUFBYUEsQ0FBQ0MsT0FBTyxFQUFFO0lBQ25CLElBQUksQ0FBQ1gsUUFBUSxDQUFDWSxNQUFNLENBQUNDLFNBQVMsQ0FBQyxDQUFDO0lBQ2hDdEIsY0FBYyxDQUFDb0IsT0FBTyxFQUFFLElBQUksQ0FBQ1gsUUFBUSxDQUFDO0lBQ3RDLE9BQU8sSUFBSSxDQUFDQSxRQUFRLENBQUNZLE1BQU07RUFDL0I7O0VBRUFFLFdBQVdBLENBQUNDLElBQUksRUFBRUMsSUFBSSxFQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBRTtJQUNoQztJQUNBLElBQUksQ0FBQ1gsUUFBUSxDQUFDWSxHQUFHLENBQUNuRCxHQUFHLENBQUMrQyxJQUFJLEVBQUVDLElBQUksQ0FBQztJQUNqQyxJQUFJLENBQUNULFFBQVEsQ0FBQ2EsR0FBRyxDQUFDcEQsR0FBRyxDQUFDaUQsSUFBSSxFQUFFQyxJQUFJLENBQUM7SUFDakMsT0FBTyxJQUFJLENBQUNYLFFBQVE7RUFDeEI7O0VBRUFjLGFBQWFBLENBQUNWLE9BQU8sRUFBRUksSUFBSSxFQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBRUMsSUFBSSxFQUFFO0lBQzNDLE1BQU1YLFFBQVEsR0FBSyxJQUFJLENBQUNPLFdBQVcsQ0FBQ0MsSUFBSSxFQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBRUMsSUFBSSxDQUFDO0lBQzNELE1BQU1JLFVBQVUsR0FBRyxJQUFJLENBQUNaLGFBQWEsQ0FBQ0MsT0FBTyxDQUFDO0lBQzlDLE9BQU9KLFFBQVEsQ0FBQ2MsYUFBYSxDQUFDQyxVQUFVLENBQUM7RUFDNUM7O0VBRUQ7RUFDQUMsUUFBUUEsQ0FBQ1osT0FBTyxFQUFFYSxRQUFRLEVBQUU7SUFDeEI7SUFDQSxNQUFNQyxNQUFNLEdBQUcsSUFBSSxDQUFDZixhQUFhLENBQUNDLE9BQU8sQ0FBQyxDQUFDZSxTQUFTLENBQUMsSUFBSSxDQUFDbEIsUUFBUSxDQUFDO0lBQ25FZ0IsUUFBUSxDQUFDRyxDQUFDLEdBQUdGLE1BQU0sQ0FBQ0UsQ0FBQztJQUNyQkgsUUFBUSxDQUFDSSxDQUFDLEdBQUdILE1BQU0sQ0FBQ0csQ0FBQztFQUN6QjtBQUNKOztBQUVBLElBQUlDLE1BQU07QUFDSyxNQUFNQyxXQUFXLENBQUM7O0VBRTdCO0VBQ0E7RUFDQUMsY0FBY0EsQ0FBQ0MsS0FBSyxFQUFFOztJQUVsQjtJQUNBLE1BQU1DLEdBQUcsR0FBR0QsS0FBSyxDQUFDRSxjQUFjLENBQUMsSUFBSSxDQUFDOztJQUV0QztJQUNBLElBQUksQ0FBQ0MsSUFBSSxHQUFHLElBQUlsQyxRQUFRLENBQUNtQyxVQUFVLENBQUNDLFFBQVEsQ0FBQ0MsUUFBUSxDQUFDTCxHQUFHLENBQUNkLEdBQUcsQ0FBQ1EsQ0FBQyxFQUFFTSxHQUFHLENBQUNkLEdBQUcsQ0FBQ1MsQ0FBQyxFQUFFSyxHQUFHLENBQUNiLEdBQUcsQ0FBQ08sQ0FBQyxFQUFFTSxHQUFHLENBQUNiLEdBQUcsQ0FBQ1EsQ0FBQyxFQUFFLEdBQUcsRUFBRSxJQUFJOUIsY0FBYyxDQUFDLENBQUMsQ0FBQzs7SUFFNUgsSUFBSSxDQUFDK0IsTUFBTSxFQUFFO01BQ1RBLE1BQU0sR0FBRyxJQUFJOUQsMEZBQWlCLENBQUMsQ0FBQztJQUNwQzs7SUFFQTtJQUNBLE1BQU13RSxLQUFLLEdBQUdQLEtBQUssQ0FBQ1EsZUFBZSxDQUFDLENBQUM7SUFDckMsTUFBTUMsS0FBSyxHQUFHRixLQUFLLENBQUNHLFFBQVEsQ0FBQyxDQUFDOztJQUU5QixJQUFJLENBQUNDLFlBQVksR0FBRyxDQUFDO0lBQ3JCLElBQUksQ0FBQ0MsVUFBVSxHQUFHSCxLQUFLOztJQUV2QjtJQUNBWixNQUFNLENBQUNnQixXQUFXLENBQUMsRUFBQ0QsVUFBVSxFQUFFSCxLQUFLLEVBQUMsQ0FBQzs7SUFFdkMsS0FBSyxJQUFJSyxDQUFDLEdBQUMsQ0FBQyxFQUFFQSxDQUFDLEdBQUNMLEtBQUssRUFBRUssQ0FBQyxFQUFFLEVBQUU7TUFDeEIsTUFBTUMsSUFBSSxHQUFHUixLQUFLLENBQUNTLFdBQVcsQ0FBQ0YsQ0FBQyxDQUFDO01BQ2pDLElBQUksQ0FBQ0csV0FBVyxDQUFDRixJQUFJLENBQUM7SUFDMUI7RUFDSjs7RUFFQTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0VBQ0lFLFdBQVdBLENBQUNGLElBQUksRUFBRSxLQUFBRyxjQUFBOztJQUVkO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxNQUFNQyxRQUFRLEdBQUc7TUFDYkMsWUFBWSxFQUFFTCxJQUFJLENBQUNLLFlBQVk7TUFDL0JDLFdBQVcsRUFBRU4sSUFBSSxDQUFDTTtJQUN0QixDQUFDO0lBQ0RGLFFBQVEsQ0FBQ0csRUFBRSxHQUFHUCxJQUFJLENBQUNPLEVBQUU7SUFDckJILFFBQVEsQ0FBQ0ksUUFBUSxHQUFHUixJQUFJLENBQUNRLFFBQVE7SUFDakNKLFFBQVEsQ0FBQ0ssRUFBRSxHQUFHVCxJQUFJLENBQUNTLEVBQUU7O0lBRXJCLEtBQUFOLGNBQUEsR0FBSUgsSUFBSSxDQUFDVSxRQUFRLGNBQUFQLGNBQUEsZ0JBQUFBLGNBQUEsR0FBYkEsY0FBQSxDQUFlUSxLQUFLLGNBQUFSLGNBQUEsZ0JBQUFBLGNBQUEsR0FBcEJBLGNBQUEsQ0FBc0JTLElBQUksY0FBQVQsY0FBQSxlQUExQkEsY0FBQSxDQUE0QlUsTUFBTSxFQUFFO01BQ3BDNUYsaURBQUcsQ0FBQ21GLFFBQVEsRUFBRSw0QkFBNEIsRUFBRUosSUFBSSxDQUFDVSxRQUFRLENBQUNDLEtBQUssQ0FBQ0MsSUFBSSxDQUFDQyxNQUFNLENBQUM7SUFDaEY7O0lBRUEvQixNQUFNLENBQUNnQixXQUFXLENBQUMsQ0FBQ00sUUFBUSxDQUFDLENBQUM7SUFDOUJ0QixNQUFNLENBQUNnQyxTQUFTLEdBQUcsQ0FBQ0MsQ0FBQyxLQUFLO01BQ3RCLE1BQU1DLEtBQUssR0FBR0QsQ0FBQyxDQUFDSCxJQUFJO01BQ3BCLEtBQUssSUFBSWIsQ0FBQyxHQUFHLENBQUMsRUFBR0EsQ0FBQyxHQUFHaUIsS0FBSyxDQUFDQyxNQUFNLEVBQUVsQixDQUFDLElBQUUsQ0FBQyxFQUFFO1FBQ3JDLE1BQU1uRSxJQUFJLEdBQUdvRixLQUFLLENBQUNqQixDQUFDLENBQUM7UUFDckIsUUFBUW5FLElBQUk7VUFDUixLQUFLLENBQUMsRUFBRTtZQUNKLElBQUksQ0FBQ3dELElBQUksQ0FBQzhCLE9BQU8sQ0FBQzVGLGlCQUFpQixDQUFDMEYsS0FBSyxDQUFDakIsQ0FBQyxHQUFDLENBQUMsQ0FBQyxFQUFFaUIsS0FBSyxDQUFDakIsQ0FBQyxHQUFDLENBQUMsQ0FBQyxFQUFFaUIsS0FBSyxDQUFDakIsQ0FBQyxHQUFDLENBQUMsQ0FBQyxFQUFFaUIsS0FBSyxDQUFDakIsQ0FBQyxHQUFDLENBQUMsQ0FBQyxFQUFFaUIsS0FBSyxDQUFDakIsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEc7VUFDSixLQUFLLENBQUMsRUFBRTtZQUNKLElBQUksQ0FBQ1gsSUFBSSxDQUFDOEIsT0FBTyxDQUFDckYsd0JBQXdCLENBQUNtRixLQUFLLENBQUNqQixDQUFDLEdBQUMsQ0FBQyxDQUFDLEVBQUVpQixLQUFLLENBQUNqQixDQUFDLEdBQUMsQ0FBQyxDQUFDLEVBQUVpQixLQUFLLENBQUNqQixDQUFDLEdBQUMsQ0FBQyxDQUFDLEVBQUVpQixLQUFLLENBQUNqQixDQUFDLEdBQUMsQ0FBQyxDQUFDLEVBQUVpQixLQUFLLENBQUNqQixDQUFDLEdBQUMsQ0FBQyxDQUFDLEVBQUVpQixLQUFLLENBQUNqQixDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNuSDtVQUNKLEtBQUssQ0FBQyxFQUFFO1lBQ0osSUFBSSxDQUFDWCxJQUFJLENBQUM4QixPQUFPLENBQUM5RSwwQkFBMEIsQ0FBQzRFLEtBQUssQ0FBQ2pCLENBQUMsR0FBQyxDQUFDLENBQUMsRUFBRWlCLEtBQUssQ0FBQ2pCLENBQUMsR0FBQyxDQUFDLENBQUMsRUFBRWlCLEtBQUssQ0FBQ2pCLENBQUMsR0FBQyxDQUFDLENBQUMsRUFBRWlCLEtBQUssQ0FBQ2pCLENBQUMsR0FBQyxDQUFDLENBQUMsRUFBRWlCLEtBQUssQ0FBQ2pCLENBQUMsR0FBQyxDQUFDLENBQUMsRUFBRWlCLEtBQUssQ0FBQ2pCLENBQUMsR0FBQyxDQUFDLENBQUMsRUFBRWlCLEtBQUssQ0FBQ2pCLENBQUMsR0FBQyxDQUFDLENBQUMsRUFBRWlCLEtBQUssQ0FBQ2pCLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzdJO1VBQ0osS0FBSyxDQUFDLEVBQUU7WUFDSixJQUFJLENBQUNILFlBQVksRUFBRTtZQUNuQjtRQUNSO01BQ0o7SUFDSixDQUFDO0VBQ0w7O0VBRUE7RUFDQXVCLFlBQVlBLENBQUNuRCxJQUFJLEVBQUVDLElBQUksRUFBRUMsSUFBSSxFQUFFQyxJQUFJLEVBQUV6QixhQUFhLEVBQUU7O0lBRWhEO0lBQ0EsSUFBSSxDQUFDMEMsSUFBSSxDQUFDZ0MsU0FBUyxDQUFDcEQsSUFBSSxFQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBRUMsSUFBSSxFQUFFLENBQUExQixDQUFDLEtBQUlELGNBQWMsQ0FBQ0MsQ0FBQyxFQUFFQyxhQUFhLENBQUMsQ0FBQztFQUN0RjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvRWRpdDJEL1NlZ21lbnRUcmVlLmpzPzcyZjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNlZ21lbnRUcmVlV29ya2VyIGZyb20gJ3dvcmtlci1sb2FkZXI/aW5saW5lPW5vLWZhbGxiYWNrIS4vU2VnbWVudFRyZWVXb3JrZXInO1xuaW1wb3J0IHNldCBmcm9tICAnbG9kYXNoL3NldCc7XG5cbi8vXG4vLyBTZWdtZW50VHJlZSBpcyBhIHNwYXRpYWwgZGF0YXN0cnVjdHVyZSB0aGF0IGhlbHBzIHRvIHF1aWNrbHkgZmluZCBhbGwgc2VnbWVudHMgKGxpbmVzLCBhcmNzKSB3aXRoaW4gYSBnaXZlbiAyZCBiYm94LlxuLy9cblxuY29uc3QgU2VnbWVudFR5cGUgPSB7XG4gICAgTGluZTogICAgICAgICAgMSxcbiAgICBDaXJjdWxhckFyYzogICAyLFxuICAgIEVsbGlwdGljYWxBcmM6IDNcbn07XG5cbi8vIEEgc2VnbWVudCBpcyBhbiBvYmplY3QgdGhhdCBkZXNjcmliZXMgYSBzaW5nbGUgbGluZSBvciBhcmMgc2VnbWVudC5cbi8vIFByb3BlcnRpZXMgZGVwZW5kIG9uIHNlZ21lbnQgdHlwZSAoc2VlIGZ1bmN0aW9ucyBiZWxvdylcbmNvbnN0IGNyZWF0ZUxpbmVTZWdtZW50ICAgICAgICAgID0gKHgxLCB5MSwgeDIsIHkyLCB2cElkKSAgICAgICAgICAgICAgICAgICAgICAgICA9PiB7IHJldHVybiB7dHlwZTogU2VnbWVudFR5cGUuTGluZSwgICAgICAgICAgeDEsIHkxLCB4MiwgeTIsIHZwSWR9OyB9XG5jb25zdCBjcmVhdGVDaXJjdWxhckFyY1NlZ21lbnQgICA9IChjeCwgY3ksIHN0YXJ0LCBlbmQsIHJhZGl1cywgdnBJZCkgICAgICAgICAgICAgPT4geyByZXR1cm4ge3R5cGU6IFNlZ21lbnRUeXBlLkNpcnVsYXJBcmMsICAgIGN4LCBjeSwgc3RhcnQsIGVuZCwgcmFkaXVzLCB2cElkfTsgfVxuY29uc3QgY3JlYXRlRWxsaXB0aWNhbEFyY1NlZ21lbnQgPSAoY3gsIGN5LCBzdGFydCwgZW5kLCBtYWpvciwgbWlub3IsIHRpbHQsIHZwSWQpID0+IHsgcmV0dXJuIHt0eXBlOiBTZWdtZW50VHlwZS5FbGxpcHRpY2FsQXJjLCBjeCwgY3ksIHN0YXJ0LCBlbmQsIG1ham9yLCBtaW5vciwgdGlsdCwgdnBJZH07IH1cblxuLy8gVHJpZ2dlcnMgdGhlIGNvcnJlc3BvbmRpbmcgY2FsbGJhY2tzIChvbkxpbmVTZWdtZW50LCBvbkNpcmN1bGFyQXJjLi4uKSBmcm9tIGEgZ2l2ZW4gc2VnbWVudCBvYmplY3QuXG4vLyAgQHBhcmFtIHtPYmplY3R9IHMgICAgICAgICAgICAgLSBTZWdtZW50IG9iamVjdCB3aG9zZSBkYXRhIGFyZSBzZW50IHRvIGdlb21DYlxuLy8gIEBwYXJhbSB7T2JqZWN0fSBnZW9tQ2FsbGJhY2tzIC0gUHJvdmlkZXMgaGFuZGxlcnMgZm9yIGRpZmZlcmVudCBzZWdtZW50cy4gU2FtZSBhcyB1c2VkIGJ5IFZlcnRleEJ1ZmZlclJlYWRlci5cbmNvbnN0IHByb2Nlc3NTZWdtZW50ID0gKHMsIGdlb21DYWxsYmFja3MpID0+IHtcbiAgICBzd2l0Y2gocy50eXBlKSB7XG4gICAgICAgIGNhc2UgU2VnbWVudFR5cGUuTGluZTogICAgICAgICAgZ2VvbUNhbGxiYWNrcy5vbkxpbmVTZWdtZW50KHMueDEsIHMueTEsIHMueDIsIHMueTIsIHMudnBJZCk7IGJyZWFrO1xuICAgICAgICBjYXNlIFNlZ21lbnRUeXBlLkNpcnVsYXJBcmM6ICAgIGdlb21DYWxsYmFja3Mub25DaXJjdWxhckFyYyhzLmN4LCBzLmN5LCBzLnN0YXJ0LCBzLmVuZCwgcy5yYWRpdXMsIHMudnBJZCk7IGJyZWFrO1xuICAgICAgICBjYXNlIFNlZ21lbnRUeXBlLkVsbGlwdGljYWxBcmM6IGdlb21DYWxsYmFja3Mub25FbGxpcHRpY2FsQXJjKHMuY3gsIHMuY3ksIHMudGFydCwgcy5lbmQsIHMubWFqb3IsIHMubWlub3IsIHMudGlsdCwgcy52cElkKTsgYnJlYWs7XG4gICAgfVxufTtcblxuLy8gSW1wbGVtZW50cyByZXF1aXJlZCBmdW5jdGlvbnMgdG8gYWxsb3cgb3JnYW5pemluZyBzZWdtZW50cyBpbiBhIHF1YWR0cmVlXG5jbGFzcyBTZWdtZW50SGFuZGxlciB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcblxuICAgICAgICAvLyBVc2VkIEJvdW5kc0NhbGxiYWNrIHRvIGdldCBzZWdtZW50IGJib3hlc1xuICAgICAgICB0aGlzLmJvdW5kc0NiID0gbmV3IEF1dG9kZXNrLlZpZXdpbmcuUHJpdmF0ZS5Cb3VuZHNDYWxsYmFjayhuZXcgVEhSRUUuQm94MigpKTtcblxuICAgICAgICAvLyBSZXVzZWQgdG1wIHZhbHVlc1xuICAgICAgICB0aGlzLnF1ZXJ5Qm94ICAgPSBuZXcgVEhSRUUuQm94MigpO1xuICAgICAgICB0aGlzLnRtcFBvaW50ICAgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuICAgIH1cblxuICAgIGdldFNlZ21lbnRCb3goc2VnbWVudCkge1xuICAgICAgICB0aGlzLmJvdW5kc0NiLmJvdW5kcy5tYWtlRW1wdHkoKTtcbiAgICAgICAgcHJvY2Vzc1NlZ21lbnQoc2VnbWVudCwgdGhpcy5ib3VuZHNDYik7XG4gICAgICAgIHJldHVybiB0aGlzLmJvdW5kc0NiLmJvdW5kcztcbiAgICB9XG5cbiAgICBnZXRRdWVyeUJveChtaW54LCBtaW55LCBtYXh4LCBtYXh5KSB7XG4gICAgICAgIC8vIGdldCBxdWVyeSBib3hcbiAgICAgICAgdGhpcy5xdWVyeUJveC5taW4uc2V0KG1pbngsIG1pbnkpO1xuICAgICAgICB0aGlzLnF1ZXJ5Qm94Lm1heC5zZXQobWF4eCwgbWF4eSk7XG4gICAgICAgIHJldHVybiB0aGlzLnF1ZXJ5Qm94O1xuICAgIH1cblxuICAgIGludGVyc2VjdHNCb3goc2VnbWVudCwgbWlueCwgbWlueSwgbWF4eCwgbWF4eSkge1xuICAgICAgICBjb25zdCBxdWVyeUJveCAgID0gdGhpcy5nZXRRdWVyeUJveChtaW54LCBtaW55LCBtYXh4LCBtYXh5KTtcbiAgICAgICAgY29uc3Qgc2VnbWVudEJveCA9IHRoaXMuZ2V0U2VnbWVudEJveChzZWdtZW50KTtcbiAgICAgICAgcmV0dXJuIHF1ZXJ5Qm94LmludGVyc2VjdHNCb3goc2VnbWVudEJveCk7XG4gICAgIH1cblxuICAgIC8vIE5vdGUgdGhhdCBvdXRQb2ludCBpcyBqdXN0IGFuIHt4LHl9IHBhaXIsIG5vdCBhIFZlY3RvcjJcbiAgICBnZXRQb2ludChzZWdtZW50LCBvdXRQb2ludCkge1xuICAgICAgICAvLyBKdXN0IHVzZSBiYm94IGNlbnRlciBmb3IgYWxsIHNlZ21lbnQgdHlwZXNcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5nZXRTZWdtZW50Qm94KHNlZ21lbnQpLmdldENlbnRlcih0aGlzLnRtcFBvaW50KTtcbiAgICAgICAgb3V0UG9pbnQueCA9IGNlbnRlci54O1xuICAgICAgICBvdXRQb2ludC55ID0gY2VudGVyLnk7XG4gICAgfVxufVxuXG5sZXQgd29ya2VyO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VnbWVudFRyZWUge1xuXG4gICAgLy8gQnVpbGQgU2VnbWVudFRyZWUgZnJvbSAyRCB2ZWN0b3ItZGF0YSBtb2RlbCAoUERGIG9yIEYyRCkuXG4gICAgLy8gTm90ZTogTWFrZSBzdXJlIHRoYXQgdGhlIG1vZGVsIGlzIGZ1bGx5IGxvYWRlZCAtIG90aGVyd2lzZSwgdGhlIHRyZWUgd2lsbCBiZSBpbmNvbXBsZXRlLlxuICAgIGJ1aWxkRnJvbU1vZGVsKG1vZGVsKSB7XG5cbiAgICAgICAgLy8gVGhlIHF1YWR0cmVlIG11c3Qga25vdyB0aGUgZXh0ZW50cyBpbiBhZHZhbmNlLlxuICAgICAgICBjb25zdCBib3ggPSBtb2RlbC5nZXRCb3VuZGluZ0JveCh0cnVlKTtcblxuICAgICAgICAvLyBJbml0IHF1YWR0cmVlIHRoYXQgbWFuYWdlcyBzZWdtZW50c1xuICAgICAgICB0aGlzLnRyZWUgPSBuZXcgQXV0b2Rlc2suRXh0ZW5zaW9ucy5Db21wR2VvbS5RdWFkVHJlZShib3gubWluLngsIGJveC5taW4ueSwgYm94Lm1heC54LCBib3gubWF4LnksIDAuMCwgbmV3IFNlZ21lbnRIYW5kbGVyKCkpO1xuXG4gICAgICAgIGlmICghd29ya2VyKSB7XG4gICAgICAgICAgICB3b3JrZXIgPSBuZXcgU2VnbWVudFRyZWVXb3JrZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBnZW9tdHJ5IGZvciBhbGwgZnJhZ21lbnRzXG4gICAgICAgIGNvbnN0IGZyYWdzID0gbW9kZWwuZ2V0RnJhZ21lbnRMaXN0KCk7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gZnJhZ3MuZ2V0Q291bnQoKTtcblxuICAgICAgICB0aGlzLm51bVByb2Nlc3NlZCA9IDA7XG4gICAgICAgIHRoaXMudG90YWxHZW9tcyA9IGNvdW50O1xuXG4gICAgICAgIC8vIE5vdGlmeSB0aGUgd29ya2VyIHdpdGggdGhlIGV4cGVjdGVkIG51bWJlciBvZiBnZW9tZXRyaWVzXG4gICAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7dG90YWxHZW9tczogY291bnR9KTtcblxuICAgICAgICBmb3IgKGxldCBpPTA7IGk8Y291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZ2VvbSA9IGZyYWdzLmdldEdlb21ldHJ5KGkpO1xuICAgICAgICAgICAgdGhpcy5hZGRHZW9tZXRyeShnZW9tKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYWxsIHNlZ21lbnRzIGZyb20gYSBnaXZlbiAyRCBMaW5lU2hhZGVyIGdlb21ldHJ5LlxuICAgICAqIFByZWNvbmRpdGlvbjogQ2FuIG9ubHkgYmUgY2FsbGVkIGlmIHRyZWUgaGFzIGJlZW4gaW5pdGlhbGl6ZWQgYW5kIGdlb20gaXMgd2l0aGluIHRoZSBiYm94IHVzZWQgdG8gaW5pdGlhbGl6ZSB0aGUgdHJlZVxuICAgICAqIEBwYXJhbSB7QnVmZmVyR2VvbWV0cnl9IGdlb21cbiAgICAgKi9cbiAgICBhZGRHZW9tZXRyeShnZW9tKSB7XG5cbiAgICAgICAgLy8gVGhpcyBpcyB0aGUgcmVxdWlyZWQgZ2VvbWV0cnkgZGF0YSB0aGF0IGlzIHJlcXVpcmVkIGJ5IHRoZSBWZXJ0ZXhCdWZmZXJSZWFkZXIuXG4gICAgICAgIC8vIFRoZSByZWFsIEJ1ZmZlckdlb21ldHJ5IGluc3RhbmNlIGNhbm5vdCBiZSBzZXJpYWxpemVkLlxuICAgICAgICAvLyBEdWUgdG8gcmFjZSBjb25kaXRpb24gb24gbW9iaWxlIHBsYXRmb3JtLCBzb21ldGltZXMsIGdlb21EYXRhIG1pZ2h0IGluY2x1ZGUgZm9yYmlkZGVuIHZhbHVlc1xuICAgICAgICAvLyBmb3IgZXhhbXBsZSBmdW5jdGlvbnMsIHdoaWNoIGNhbm5vdCBiZSBwYXNzZWQgdG8gd29ya2Vycy4gRm9yIGV4YW1wbGU6IFNDQ09NLTEyNTc3LlxuICAgICAgICAvLyBgZ2VvbS5hdHRyaWJ1dGVzYCBhbmQgcGFydGlhbGx5IGBnZW9tLnRJZENvbG9yYCByZW1vdmVkIHNpbmNlIHRoZXkgYXJlIG5vdCBuZWNlc3NhcnkgZm9yIFNlZ21lbnRUcmVlIGNvbXB1dGF0aW9ucy5cbiAgICAgICAgY29uc3QgZ2VvbURhdGEgPSB7XG4gICAgICAgICAgICBudW1JbnN0YW5jZXM6IGdlb20ubnVtSW5zdGFuY2VzLFxuICAgICAgICAgICAgdW5wYWNrWGZvcm06IGdlb20udW5wYWNrWGZvcm1cbiAgICAgICAgfTtcbiAgICAgICAgZ2VvbURhdGEudmIgPSBnZW9tLnZiO1xuICAgICAgICBnZW9tRGF0YS52YnN0cmlkZSA9IGdlb20udmJzdHJpZGU7XG4gICAgICAgIGdlb21EYXRhLmliID0gZ2VvbS5pYjtcblxuICAgICAgICBpZiAoZ2VvbS50SWRDb2xvcj8uaW1hZ2U/LmRhdGE/LmJ1ZmZlcikge1xuICAgICAgICAgICAgc2V0KGdlb21EYXRhLCAndElkQ29sb3IuaW1hZ2UuZGF0YS5idWZmZXInLCBnZW9tLnRJZENvbG9yLmltYWdlLmRhdGEuYnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdvcmtlci5wb3N0TWVzc2FnZShbZ2VvbURhdGFdKTtcbiAgICAgICAgd29ya2VyLm9ubWVzc2FnZSA9IChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBiYXRjaCA9IGUuZGF0YTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwIDsgaSA8IGJhdGNoLmxlbmd0aDsgaSs9OSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBiYXRjaFtpXTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiAvLyBMaW5lIFNlZ21lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJlZS5hZGRJdGVtKGNyZWF0ZUxpbmVTZWdtZW50KGJhdGNoW2krMV0sIGJhdGNoW2krMl0sIGJhdGNoW2krM10sIGJhdGNoW2krNF0sIGJhdGNoW2krNV0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IC8vIENpcmN1bGFyIEFyY1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmVlLmFkZEl0ZW0oY3JlYXRlQ2lyY3VsYXJBcmNTZWdtZW50KGJhdGNoW2krMV0sIGJhdGNoW2krMl0sIGJhdGNoW2krM10sIGJhdGNoW2krNF0sIGJhdGNoW2krNV0sIGJhdGNoW2krNl0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6IC8vIEVsbGlwdGljYWwgQXJjXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyZWUuYWRkSXRlbShjcmVhdGVFbGxpcHRpY2FsQXJjU2VnbWVudChiYXRjaFtpKzFdLCBiYXRjaFtpKzJdLCBiYXRjaFtpKzNdLCBiYXRjaFtpKzRdLCBiYXRjaFtpKzVdLCBiYXRjaFtpKzZdLCBiYXRjaFtpKzddLCBiYXRjaFtpKzhdKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA5OiAvLyBmaW5pc2hlZFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5udW1Qcm9jZXNzZWQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyAgQHBhcmFtIHtPYmplY3R9IGdlb21DYWxsYmFja3MgLSBWaXNpdG9yIHRoYXQgcHJvdmlkZXMgY2FsbGJhY2tzIHRvIGhhbmRsZSBkaWZmZXJlbnQgc2VnbWVudHMuIFNhbWUgYXMgdXNlZCBieSBWZXJ0ZXhCdWZmZXJSZWFkZXIuXG4gICAgZW51bVNlZ21lbnRzKG1pbngsIG1pbnksIG1heHgsIG1heHksIGdlb21DYWxsYmFja3MpIHtcblxuICAgICAgICAvLyBGaW5kIGFsbCBzZWdtZW50cyBpbiB0aGUgdHJlZSBhbmQgaW52b2tlIGNvcnJlc3BvbmRpbmcgY2FsbCBvbiBHZW9tZXRyeUNhbGxiYWNrXG4gICAgICAgIHRoaXMudHJlZS5lbnVtSW5Cb3gobWlueCwgbWlueSwgbWF4eCwgbWF4eSwgcyA9PiBwcm9jZXNzU2VnbWVudChzLCBnZW9tQ2FsbGJhY2tzKSk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIlNlZ21lbnRUcmVlV29ya2VyIiwic2V0IiwiU2VnbWVudFR5cGUiLCJMaW5lIiwiQ2lyY3VsYXJBcmMiLCJFbGxpcHRpY2FsQXJjIiwiY3JlYXRlTGluZVNlZ21lbnQiLCJ4MSIsInkxIiwieDIiLCJ5MiIsInZwSWQiLCJ0eXBlIiwiY3JlYXRlQ2lyY3VsYXJBcmNTZWdtZW50IiwiY3giLCJjeSIsInN0YXJ0IiwiZW5kIiwicmFkaXVzIiwiQ2lydWxhckFyYyIsImNyZWF0ZUVsbGlwdGljYWxBcmNTZWdtZW50IiwibWFqb3IiLCJtaW5vciIsInRpbHQiLCJwcm9jZXNzU2VnbWVudCIsInMiLCJnZW9tQ2FsbGJhY2tzIiwib25MaW5lU2VnbWVudCIsIm9uQ2lyY3VsYXJBcmMiLCJvbkVsbGlwdGljYWxBcmMiLCJ0YXJ0IiwiU2VnbWVudEhhbmRsZXIiLCJjb25zdHJ1Y3RvciIsImJvdW5kc0NiIiwiQXV0b2Rlc2siLCJWaWV3aW5nIiwiUHJpdmF0ZSIsIkJvdW5kc0NhbGxiYWNrIiwiVEhSRUUiLCJCb3gyIiwicXVlcnlCb3giLCJ0bXBQb2ludCIsIlZlY3RvcjIiLCJnZXRTZWdtZW50Qm94Iiwic2VnbWVudCIsImJvdW5kcyIsIm1ha2VFbXB0eSIsImdldFF1ZXJ5Qm94IiwibWlueCIsIm1pbnkiLCJtYXh4IiwibWF4eSIsIm1pbiIsIm1heCIsImludGVyc2VjdHNCb3giLCJzZWdtZW50Qm94IiwiZ2V0UG9pbnQiLCJvdXRQb2ludCIsImNlbnRlciIsImdldENlbnRlciIsIngiLCJ5Iiwid29ya2VyIiwiU2VnbWVudFRyZWUiLCJidWlsZEZyb21Nb2RlbCIsIm1vZGVsIiwiYm94IiwiZ2V0Qm91bmRpbmdCb3giLCJ0cmVlIiwiRXh0ZW5zaW9ucyIsIkNvbXBHZW9tIiwiUXVhZFRyZWUiLCJmcmFncyIsImdldEZyYWdtZW50TGlzdCIsImNvdW50IiwiZ2V0Q291bnQiLCJudW1Qcm9jZXNzZWQiLCJ0b3RhbEdlb21zIiwicG9zdE1lc3NhZ2UiLCJpIiwiZ2VvbSIsImdldEdlb21ldHJ5IiwiYWRkR2VvbWV0cnkiLCJfZ2VvbSR0SWRDb2xvciIsImdlb21EYXRhIiwibnVtSW5zdGFuY2VzIiwidW5wYWNrWGZvcm0iLCJ2YiIsInZic3RyaWRlIiwiaWIiLCJ0SWRDb2xvciIsImltYWdlIiwiZGF0YSIsImJ1ZmZlciIsIm9ubWVzc2FnZSIsImUiLCJiYXRjaCIsImxlbmd0aCIsImFkZEl0ZW0iLCJlbnVtU2VnbWVudHMiLCJlbnVtSW5Cb3giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Edit2D/SegmentTree.js\n");

/***/ }),

/***/ "./extensions/Edit2D/Selection.js":
/*!****************************************!*\
  !*** ./extensions/Edit2D/Selection.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Selection)\n/* harmony export */ });\n/* harmony import */ var _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditShapes.js */ \"./extensions/Edit2D/EditShapes.js\");\n/* harmony import */ var _UndoStack_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UndoStack.js */ \"./extensions/Edit2D/UndoStack.js\");\n/* harmony import */ var _EditLayer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EditLayer.js */ \"./extensions/Edit2D/EditLayer.js\");\n\n\n\n\nconst av = Autodesk.Viewing;\n\nclass Selection {\n\n  constructor(layer, undoStack) {\n\n    av.EventDispatcher.prototype.apply(this);\n\n    // Keys: shapeIds, Values: shapes\n    this.isSelected = {};\n\n    // For mouse-over highlighting. 0 = nothing highlighted (ShapeIds start at 1)\n    this.hoveredId = 0;\n\n    // Reused as temporary override style for shapes\n    this.tmpStyle = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Style();\n\n    // Callback function that controls how to modify the style on selected shapes\n    this.modifier = (shape, style) => {\n\n      // only modify style for selected or hovered shapes\n      const isSelected = this.isSelected[shape.id];\n      const isHovered = shape.id === this.hoveredId;\n      if (!isSelected && !isHovered) {\n        return undefined;\n      }\n\n      // Create a tmp copy of the initial shape style that is modified to indicate highlighting.\n      // Note that we can reuse tmpStyle for multiple shapes, because style modifiers are applied right before drawing.\n      this.tmpStyle.copy(style);\n\n      if (isSelected) {\n        this.tmpStyle.fillAlpha = Math.min(this.tmpStyle.fillAlpha + 0.3, 1);\n        this.tmpStyle.lineWidth *= 1.5;\n      } else {\n        // hovered\n        this.tmpStyle.fillAlpha = Math.min(this.tmpStyle.fillAlpha + 0.2, 1);\n        this.tmpStyle.lineWidth *= 1.5;\n      }\n\n      return this.tmpStyle;\n    };\n\n    this.layer = layer;\n    this.onShapeRemoved = this.onShapeRemoved.bind(this);\n    this.onLayerCleared = this.onLayerCleared.bind(this);\n    this.layer.addEventListener(_EditLayer_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].SHAPE_REMOVED, this.onShapeRemoved);\n    this.layer.addEventListener(_EditLayer_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].LAYER_CLEARED, this.onLayerCleared);\n\n    this.layer.addStyleModifier(this.modifier);\n\n    // Make sure that selection doesn't keep deleted objects, e.g., if creation has undone\n    // or a RemoveShape action happened.\n    this.undoStack = undoStack;\n    this.onActionCb = (a) => this.onAction(a);\n    this.undoStack.addEventListener(_UndoStack_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].AFTER_ACTION, this.onActionCb);\n\n    this.selectionFilters = [this.defaultSelectionFilter];\n  }\n\n  dtor() {\n    this.layer.removeStyleModifier(this.modifier);\n    this.undoStack.removeEventListener(_UndoStack_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].AFTER_ACTION, this.onActionCb);\n    this.undoStack.removeEventListener(_EditLayer_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].SHAPE_REMOVED, this.onShapeRemoved);\n    this.undoStack.removeEventListener(_EditLayer_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].LAYER_CLEARED, this.onLayerCleared);\n  }\n\n  addSelectionFilter(filter) {\n    this.selectionFilters.push(filter);\n  }\n\n  removeSelectionFilter(filter) {\n    let index = this.selectionFilters.indexOf(filter);\n    if (index == -1) {\n      return false;\n    }\n    this.selectionFilters.splice(index, 1);\n    return true;\n  }\n\n  defaultSelectionFilter(shapes) {\n    return shapes.every((s) => s.selectable);\n  }\n\n  // @param {Shape[]) shapes\n  setSelection(shapes) {\n    // This works for null as well (unlike ES6 default params)\n    shapes = shapes || [];\n\n    // shapes must pass selection filters to get selected.\n    if (!this.selectionFilters.every((sf) => sf(shapes))) {\n      return;\n    }\n\n    const selected = this.getSelectedShapes();\n\n    // Check if the set of ids changed\n    let changed = false;\n    if (selected.length != shapes.length) {\n      changed = true;\n    } else {\n      // Check if any new shape was not selected before\n      for (let i = 0; i < shapes.length; i++) {\n        const shape = shapes[i];\n        if (!this.isSelected[shape.id]) {\n          changed = true;\n        }\n      }\n    }\n\n    if (!changed) {\n      return;\n    }\n\n    // Add all shapes to this.isSelected\n    this.isSelected = {};\n    for (let i = 0; i < shapes.length; i++) {\n      const shape = shapes[i];\n      this.isSelected[shape.id] = shape;\n    }\n    this.modified();\n  }\n\n  empty() {\n    return !Object.keys(this.isSelected).length;\n  }\n\n  // Set selection to a single shape. Calling with null clears the selection.\n  selectOnly(shape) {\n    this.setSelection(shape && [shape]);\n  }\n\n  shapeIsSelected(shape) {\n    return shape && Boolean(this.isSelected[shape.id]);\n  }\n\n  toggleSelection(shape) {\n    const wasSelected = Boolean(this.isSelected[shape.id]);\n    this.isSelected[shape.id] = wasSelected ? null : shape;\n\n    this.modified();\n  }\n\n  clear() {\n    this.setSelection([]);\n  }\n\n  // Passes all selected shapes to the callback\n  getSelectedShapes() {\n    return Object.values(this.isSelected).filter(Boolean);\n  }\n\n  getSelectedIds() {\n    return this.getSelectedShapes().map((s) => s.id);\n  }\n\n  modified() {\n    this.layer.update();\n    this.dispatchEvent({ type: Selection.Events.SELECTION_CHANGED });\n  }\n\n  onAction() {\n\n    if (this.empty()) {\n      return;\n    }\n\n    // Single-selection: Clear selection if selected shape has gone\n    let selected = this.getSelectedShapes();\n    if (selected.length == 1) {\n      const exists = this.layer.findShapeById(selected[0].id);\n      if (!exists) {\n        this.clear();\n      }\n      return;\n    }\n\n    // Multi-selection: Same principle, but avoiding n^2 runtime for large selections\n\n    // Create dictionary of all shapes in the layer\n    const shapeIdExists = {};\n    this.layer.shapes.forEach((s) => shapeIdExists[s.id] = true);\n\n    // Clear all shapes from selection that don't exist anymore\n    selected = selected.filter((s) => shapeIdExists[s.id]);\n    this.setSelection(selected);\n  }\n\n  onShapeRemoved(_ref) {let { shape: shape } = _ref;\n    if (this.empty()) {\n      return;\n    }\n\n    // Remove the shape from the selection if found.\n    if (this.isSelected[shape.id]) {\n      delete this.isSelected[shape.id];\n      this.modified();\n    }\n  }\n\n  onLayerCleared() {\n    if (this.empty()) {\n      return;\n    }\n\n    this.clear();\n  }\n\n  setHoveredId(id) {\n\n    if (id === this.hoveredId) {\n      return;\n    }\n\n    this.hoveredId = id;\n    this.layer.update();\n    this.dispatchEvent({ type: Selection.Events.SELECTION_HOVER_CHANGED });\n  }\n\n  // Result may be null if selection is empty\n  // @returns {Shape|null}\n  getFirstSelected() {\n    const selected = this.getSelectedShapes();\n    return selected.length ? selected[0] : null;\n  }\n}\n\nSelection.Events = {\n  SELECTION_CHANGED: 'selectionChanged',\n  SELECTION_HOVER_CHANGED: 'selectionHoverChanged'\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFVLENBQUNJLEtBQUssQ0FBQ0UsRUFBRSxDQUFDO01BQ2hDLElBQUksQ0FBQzBDLFFBQVEsQ0FBQyxDQUFDO0lBQ25CO0VBQ0o7O0VBRUFoQyxjQUFjQSxDQUFBLEVBQUc7SUFDYixJQUFJLElBQUksQ0FBQ2lDLEtBQUssQ0FBQyxDQUFDLEVBQUU7TUFDZDtJQUNKOztJQUVBLElBQUksQ0FBQ1EsS0FBSyxDQUFDLENBQUM7RUFDaEI7O0VBRUFjLFlBQVlBLENBQUNqRSxFQUFFLEVBQUU7O0lBRWIsSUFBSUEsRUFBRSxLQUFLLElBQUksQ0FBQ0wsU0FBUyxFQUFFO01BQ3ZCO0lBQ0o7O0lBRUEsSUFBSSxDQUFDQSxTQUFTLEdBQUdLLEVBQUU7SUFDbkIsSUFBSSxDQUFDWCxLQUFLLENBQUNrRSxNQUFNLENBQUMsQ0FBQztJQUNuQixJQUFJLENBQUNDLGFBQWEsQ0FBQyxFQUFDQyxJQUFJLEVBQUV0RSxTQUFTLENBQUN1RSxNQUFNLENBQUNRLHVCQUF1QixFQUFDLENBQUM7RUFDeEU7O0VBRUE7RUFDQTtFQUNBQyxnQkFBZ0JBLENBQUEsRUFBRztJQUNmLE1BQU05QixRQUFRLEdBQUcsSUFBSSxDQUFDQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQ3pDLE9BQU9ELFFBQVEsQ0FBQ0csTUFBTSxHQUFHSCxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSTtFQUMvQztBQUNKOztBQUVBbEQsU0FBUyxDQUFDdUUsTUFBTSxHQUFHO0VBQ2ZDLGlCQUFpQixFQUFRLGtCQUFrQjtFQUMzQ08sdUJBQXVCLEVBQUU7QUFDN0IsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL0VkaXQyRC9TZWxlY3Rpb24uanM/MjRjNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTdHlsZSB9IGZyb20gJy4vRWRpdFNoYXBlcy5qcyc7XG5pbXBvcnQgVW5kb1N0YWNrIGZyb20gJy4vVW5kb1N0YWNrLmpzJztcbmltcG9ydCBFZGl0TGF5ZXIgZnJvbSAnLi9FZGl0TGF5ZXIuanMnO1xuXG5jb25zdCBhdiA9IEF1dG9kZXNrLlZpZXdpbmc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlbGVjdGlvbiB7XG5cbiAgICBjb25zdHJ1Y3RvcihsYXllciwgdW5kb1N0YWNrKSB7XG5cbiAgICAgICAgYXYuRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZS5hcHBseSh0aGlzKTtcblxuICAgICAgICAvLyBLZXlzOiBzaGFwZUlkcywgVmFsdWVzOiBzaGFwZXNcbiAgICAgICAgdGhpcy5pc1NlbGVjdGVkID0ge307XG5cbiAgICAgICAgLy8gRm9yIG1vdXNlLW92ZXIgaGlnaGxpZ2h0aW5nLiAwID0gbm90aGluZyBoaWdobGlnaHRlZCAoU2hhcGVJZHMgc3RhcnQgYXQgMSlcbiAgICAgICAgdGhpcy5ob3ZlcmVkSWQgPSAwO1xuXG4gICAgICAgIC8vIFJldXNlZCBhcyB0ZW1wb3Jhcnkgb3ZlcnJpZGUgc3R5bGUgZm9yIHNoYXBlc1xuICAgICAgICB0aGlzLnRtcFN0eWxlID0gbmV3IFN0eWxlKCk7XG5cbiAgICAgICAgLy8gQ2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBjb250cm9scyBob3cgdG8gbW9kaWZ5IHRoZSBzdHlsZSBvbiBzZWxlY3RlZCBzaGFwZXNcbiAgICAgICAgdGhpcy5tb2RpZmllciA9IChzaGFwZSwgc3R5bGUpID0+IHtcblxuICAgICAgICAgICAgLy8gb25seSBtb2RpZnkgc3R5bGUgZm9yIHNlbGVjdGVkIG9yIGhvdmVyZWQgc2hhcGVzXG4gICAgICAgICAgICBjb25zdCBpc1NlbGVjdGVkID0gdGhpcy5pc1NlbGVjdGVkW3NoYXBlLmlkXTtcbiAgICAgICAgICAgIGNvbnN0IGlzSG92ZXJlZCAgPSBzaGFwZS5pZCA9PT0gdGhpcy5ob3ZlcmVkSWQ7XG4gICAgICAgICAgICBpZiAoIWlzU2VsZWN0ZWQgJiYgIWlzSG92ZXJlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIHRtcCBjb3B5IG9mIHRoZSBpbml0aWFsIHNoYXBlIHN0eWxlIHRoYXQgaXMgbW9kaWZpZWQgdG8gaW5kaWNhdGUgaGlnaGxpZ2h0aW5nLlxuICAgICAgICAgICAgLy8gTm90ZSB0aGF0IHdlIGNhbiByZXVzZSB0bXBTdHlsZSBmb3IgbXVsdGlwbGUgc2hhcGVzLCBiZWNhdXNlIHN0eWxlIG1vZGlmaWVycyBhcmUgYXBwbGllZCByaWdodCBiZWZvcmUgZHJhd2luZy5cbiAgICAgICAgICAgIHRoaXMudG1wU3R5bGUuY29weShzdHlsZSk7XG5cbiAgICAgICAgICAgIGlmIChpc1NlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50bXBTdHlsZS5maWxsQWxwaGEgPSBNYXRoLm1pbih0aGlzLnRtcFN0eWxlLmZpbGxBbHBoYSArIDAuMywgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy50bXBTdHlsZS5saW5lV2lkdGggKj0gMS41O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBob3ZlcmVkXG4gICAgICAgICAgICAgICAgdGhpcy50bXBTdHlsZS5maWxsQWxwaGEgPSBNYXRoLm1pbih0aGlzLnRtcFN0eWxlLmZpbGxBbHBoYSArIDAuMiwgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy50bXBTdHlsZS5saW5lV2lkdGggKj0gMS41O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50bXBTdHlsZTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmxheWVyID0gbGF5ZXI7XG4gICAgICAgIHRoaXMub25TaGFwZVJlbW92ZWQgPSB0aGlzLm9uU2hhcGVSZW1vdmVkLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25MYXllckNsZWFyZWQgPSB0aGlzLm9uTGF5ZXJDbGVhcmVkLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcihFZGl0TGF5ZXIuU0hBUEVfUkVNT1ZFRCwgdGhpcy5vblNoYXBlUmVtb3ZlZCk7XG4gICAgICAgIHRoaXMubGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcihFZGl0TGF5ZXIuTEFZRVJfQ0xFQVJFRCwgdGhpcy5vbkxheWVyQ2xlYXJlZCk7XG5cbiAgICAgICAgdGhpcy5sYXllci5hZGRTdHlsZU1vZGlmaWVyKHRoaXMubW9kaWZpZXIpO1xuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHNlbGVjdGlvbiBkb2Vzbid0IGtlZXAgZGVsZXRlZCBvYmplY3RzLCBlLmcuLCBpZiBjcmVhdGlvbiBoYXMgdW5kb25lXG4gICAgICAgIC8vIG9yIGEgUmVtb3ZlU2hhcGUgYWN0aW9uIGhhcHBlbmVkLlxuICAgICAgICB0aGlzLnVuZG9TdGFjayA9IHVuZG9TdGFjaztcbiAgICAgICAgdGhpcy5vbkFjdGlvbkNiID0gKGEpID0+IHRoaXMub25BY3Rpb24oYSk7XG4gICAgICAgIHRoaXMudW5kb1N0YWNrLmFkZEV2ZW50TGlzdGVuZXIoVW5kb1N0YWNrLkFGVEVSX0FDVElPTiwgdGhpcy5vbkFjdGlvbkNiKTtcblxuICAgICAgICB0aGlzLnNlbGVjdGlvbkZpbHRlcnMgPSBbdGhpcy5kZWZhdWx0U2VsZWN0aW9uRmlsdGVyXTtcbiAgICB9XG5cbiAgICBkdG9yKCkge1xuICAgICAgICB0aGlzLmxheWVyLnJlbW92ZVN0eWxlTW9kaWZpZXIodGhpcy5tb2RpZmllcik7XG4gICAgICAgIHRoaXMudW5kb1N0YWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoVW5kb1N0YWNrLkFGVEVSX0FDVElPTiwgdGhpcy5vbkFjdGlvbkNiKTtcbiAgICAgICAgdGhpcy51bmRvU3RhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcihFZGl0TGF5ZXIuU0hBUEVfUkVNT1ZFRCwgdGhpcy5vblNoYXBlUmVtb3ZlZCk7XG4gICAgICAgIHRoaXMudW5kb1N0YWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoRWRpdExheWVyLkxBWUVSX0NMRUFSRUQsIHRoaXMub25MYXllckNsZWFyZWQpO1xuICAgIH1cblxuICAgIGFkZFNlbGVjdGlvbkZpbHRlcihmaWx0ZXIpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25GaWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICB9XG5cbiAgICByZW1vdmVTZWxlY3Rpb25GaWx0ZXIoZmlsdGVyKSB7XG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuc2VsZWN0aW9uRmlsdGVycy5pbmRleE9mKGZpbHRlcik7XG4gICAgICAgIGlmIChpbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uRmlsdGVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBkZWZhdWx0U2VsZWN0aW9uRmlsdGVyKHNoYXBlcykge1xuICAgICAgICByZXR1cm4gc2hhcGVzLmV2ZXJ5KHMgPT4gcy5zZWxlY3RhYmxlKTtcbiAgICB9XG5cbiAgICAvLyBAcGFyYW0ge1NoYXBlW10pIHNoYXBlc1xuICAgIHNldFNlbGVjdGlvbihzaGFwZXMpIHtcbiAgICAgICAgLy8gVGhpcyB3b3JrcyBmb3IgbnVsbCBhcyB3ZWxsICh1bmxpa2UgRVM2IGRlZmF1bHQgcGFyYW1zKVxuICAgICAgICBzaGFwZXMgPSBzaGFwZXMgfHwgW107XG5cbiAgICAgICAgLy8gc2hhcGVzIG11c3QgcGFzcyBzZWxlY3Rpb24gZmlsdGVycyB0byBnZXQgc2VsZWN0ZWQuXG4gICAgICAgIGlmICghdGhpcy5zZWxlY3Rpb25GaWx0ZXJzLmV2ZXJ5KHNmID0+IHNmKHNoYXBlcykpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuZ2V0U2VsZWN0ZWRTaGFwZXMoKTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2V0IG9mIGlkcyBjaGFuZ2VkXG4gICAgICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGlmIChzZWxlY3RlZC5sZW5ndGggIT0gc2hhcGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiBhbnkgbmV3IHNoYXBlIHdhcyBub3Qgc2VsZWN0ZWQgYmVmb3JlXG4gICAgICAgICAgICBmb3IgKGxldCBpPTA7IGk8c2hhcGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hhcGUgPSBzaGFwZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzU2VsZWN0ZWRbc2hhcGUuaWRdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY2hhbmdlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIGFsbCBzaGFwZXMgdG8gdGhpcy5pc1NlbGVjdGVkXG4gICAgICAgIHRoaXMuaXNTZWxlY3RlZCA9IHt9O1xuICAgICAgICBmb3IgKGxldCBpPTA7IGk8c2hhcGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzaGFwZSA9IHNoYXBlc1tpXTtcbiAgICAgICAgICAgIHRoaXMuaXNTZWxlY3RlZFtzaGFwZS5pZF0gPSBzaGFwZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vZGlmaWVkKCk7XG4gICAgfVxuXG4gICAgZW1wdHkoKSB7XG4gICAgICAgIHJldHVybiAhT2JqZWN0LmtleXModGhpcy5pc1NlbGVjdGVkKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgLy8gU2V0IHNlbGVjdGlvbiB0byBhIHNpbmdsZSBzaGFwZS4gQ2FsbGluZyB3aXRoIG51bGwgY2xlYXJzIHRoZSBzZWxlY3Rpb24uXG4gICAgc2VsZWN0T25seShzaGFwZSkge1xuICAgICAgICB0aGlzLnNldFNlbGVjdGlvbihzaGFwZSAmJiBbc2hhcGVdKTtcbiAgICB9XG5cbiAgICBzaGFwZUlzU2VsZWN0ZWQoc2hhcGUpIHtcbiAgICAgICAgcmV0dXJuIHNoYXBlICYmIEJvb2xlYW4odGhpcy5pc1NlbGVjdGVkW3NoYXBlLmlkXSk7XG4gICAgfVxuXG4gICAgdG9nZ2xlU2VsZWN0aW9uKHNoYXBlKSB7XG4gICAgICAgIGNvbnN0IHdhc1NlbGVjdGVkID0gQm9vbGVhbih0aGlzLmlzU2VsZWN0ZWRbc2hhcGUuaWRdKTtcbiAgICAgICAgdGhpcy5pc1NlbGVjdGVkW3NoYXBlLmlkXSA9IHdhc1NlbGVjdGVkID8gbnVsbCA6IHNoYXBlO1xuXG4gICAgICAgIHRoaXMubW9kaWZpZWQoKTtcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb24oW10pO1xuICAgIH1cblxuICAgIC8vIFBhc3NlcyBhbGwgc2VsZWN0ZWQgc2hhcGVzIHRvIHRoZSBjYWxsYmFja1xuICAgIGdldFNlbGVjdGVkU2hhcGVzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLmlzU2VsZWN0ZWQpLmZpbHRlcihCb29sZWFuKTtcbiAgICB9XG5cbiAgICBnZXRTZWxlY3RlZElkcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2VsZWN0ZWRTaGFwZXMoKS5tYXAocyA9PiBzLmlkKTtcbiAgICB9XG5cbiAgICBtb2RpZmllZCgpIHtcbiAgICAgICAgdGhpcy5sYXllci51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOiBTZWxlY3Rpb24uRXZlbnRzLlNFTEVDVElPTl9DSEFOR0VEfSk7XG4gICAgfVxuXG4gICAgb25BY3Rpb24oKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuZW1wdHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2luZ2xlLXNlbGVjdGlvbjogQ2xlYXIgc2VsZWN0aW9uIGlmIHNlbGVjdGVkIHNoYXBlIGhhcyBnb25lXG4gICAgICAgIGxldCBzZWxlY3RlZCA9IHRoaXMuZ2V0U2VsZWN0ZWRTaGFwZXMoKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICBjb25zdCBleGlzdHMgPSB0aGlzLmxheWVyLmZpbmRTaGFwZUJ5SWQoc2VsZWN0ZWRbMF0uaWQpO1xuICAgICAgICAgICAgaWYgKCFleGlzdHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNdWx0aS1zZWxlY3Rpb246IFNhbWUgcHJpbmNpcGxlLCBidXQgYXZvaWRpbmcgbl4yIHJ1bnRpbWUgZm9yIGxhcmdlIHNlbGVjdGlvbnNcblxuICAgICAgICAvLyBDcmVhdGUgZGljdGlvbmFyeSBvZiBhbGwgc2hhcGVzIGluIHRoZSBsYXllclxuICAgICAgICBjb25zdCBzaGFwZUlkRXhpc3RzID0ge307XG4gICAgICAgIHRoaXMubGF5ZXIuc2hhcGVzLmZvckVhY2gocyA9PiBzaGFwZUlkRXhpc3RzW3MuaWRdID0gdHJ1ZSk7XG5cbiAgICAgICAgLy8gQ2xlYXIgYWxsIHNoYXBlcyBmcm9tIHNlbGVjdGlvbiB0aGF0IGRvbid0IGV4aXN0IGFueW1vcmVcbiAgICAgICAgc2VsZWN0ZWQgPSBzZWxlY3RlZC5maWx0ZXIocyA9PiBzaGFwZUlkRXhpc3RzW3MuaWRdKTtcbiAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb24oc2VsZWN0ZWQpO1xuICAgIH1cblxuICAgIG9uU2hhcGVSZW1vdmVkKHtzaGFwZTogc2hhcGV9KSB7XG4gICAgICAgIGlmICh0aGlzLmVtcHR5KCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgc2hhcGUgZnJvbSB0aGUgc2VsZWN0aW9uIGlmIGZvdW5kLlxuICAgICAgICBpZiAodGhpcy5pc1NlbGVjdGVkW3NoYXBlLmlkXSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuaXNTZWxlY3RlZFtzaGFwZS5pZF07XG4gICAgICAgICAgICB0aGlzLm1vZGlmaWVkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkxheWVyQ2xlYXJlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZW1wdHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuICAgIHNldEhvdmVyZWRJZChpZCkge1xuXG4gICAgICAgIGlmIChpZCA9PT0gdGhpcy5ob3ZlcmVkSWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaG92ZXJlZElkID0gaWQ7XG4gICAgICAgIHRoaXMubGF5ZXIudXBkYXRlKCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTogU2VsZWN0aW9uLkV2ZW50cy5TRUxFQ1RJT05fSE9WRVJfQ0hBTkdFRH0pO1xuICAgIH1cblxuICAgIC8vIFJlc3VsdCBtYXkgYmUgbnVsbCBpZiBzZWxlY3Rpb24gaXMgZW1wdHlcbiAgICAvLyBAcmV0dXJucyB7U2hhcGV8bnVsbH1cbiAgICBnZXRGaXJzdFNlbGVjdGVkKCkge1xuICAgICAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuZ2V0U2VsZWN0ZWRTaGFwZXMoKTtcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkLmxlbmd0aCA/IHNlbGVjdGVkWzBdIDogbnVsbDtcbiAgICB9XG59XG5cblNlbGVjdGlvbi5FdmVudHMgPSB7XG4gICAgU0VMRUNUSU9OX0NIQU5HRUQ6ICAgICAgICdzZWxlY3Rpb25DaGFuZ2VkJyxcbiAgICBTRUxFQ1RJT05fSE9WRVJfQ0hBTkdFRDogJ3NlbGVjdGlvbkhvdmVyQ2hhbmdlZCdcbn07XG4iXSwibmFtZXMiOlsiU3R5bGUiLCJVbmRvU3RhY2siLCJFZGl0TGF5ZXIiLCJhdiIsIkF1dG9kZXNrIiwiVmlld2luZyIsIlNlbGVjdGlvbiIsImNvbnN0cnVjdG9yIiwibGF5ZXIiLCJ1bmRvU3RhY2siLCJFdmVudERpc3BhdGNoZXIiLCJwcm90b3R5cGUiLCJhcHBseSIsImlzU2VsZWN0ZWQiLCJob3ZlcmVkSWQiLCJ0bXBTdHlsZSIsIm1vZGlmaWVyIiwic2hhcGUiLCJzdHlsZSIsImlkIiwiaXNIb3ZlcmVkIiwidW5kZWZpbmVkIiwiY29weSIsImZpbGxBbHBoYSIsIk1hdGgiLCJtaW4iLCJsaW5lV2lkdGgiLCJvblNoYXBlUmVtb3ZlZCIsImJpbmQiLCJvbkxheWVyQ2xlYXJlZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJTSEFQRV9SRU1PVkVEIiwiTEFZRVJfQ0xFQVJFRCIsImFkZFN0eWxlTW9kaWZpZXIiLCJvbkFjdGlvbkNiIiwiYSIsIm9uQWN0aW9uIiwiQUZURVJfQUNUSU9OIiwic2VsZWN0aW9uRmlsdGVycyIsImRlZmF1bHRTZWxlY3Rpb25GaWx0ZXIiLCJkdG9yIiwicmVtb3ZlU3R5bGVNb2RpZmllciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRTZWxlY3Rpb25GaWx0ZXIiLCJmaWx0ZXIiLCJwdXNoIiwicmVtb3ZlU2VsZWN0aW9uRmlsdGVyIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwic2hhcGVzIiwiZXZlcnkiLCJzIiwic2VsZWN0YWJsZSIsInNldFNlbGVjdGlvbiIsInNmIiwic2VsZWN0ZWQiLCJnZXRTZWxlY3RlZFNoYXBlcyIsImNoYW5nZWQiLCJsZW5ndGgiLCJpIiwibW9kaWZpZWQiLCJlbXB0eSIsIk9iamVjdCIsImtleXMiLCJzZWxlY3RPbmx5Iiwic2hhcGVJc1NlbGVjdGVkIiwiQm9vbGVhbiIsInRvZ2dsZVNlbGVjdGlvbiIsIndhc1NlbGVjdGVkIiwiY2xlYXIiLCJ2YWx1ZXMiLCJnZXRTZWxlY3RlZElkcyIsIm1hcCIsInVwZGF0ZSIsImRpc3BhdGNoRXZlbnQiLCJ0eXBlIiwiRXZlbnRzIiwiU0VMRUNUSU9OX0NIQU5HRUQiLCJleGlzdHMiLCJmaW5kU2hhcGVCeUlkIiwic2hhcGVJZEV4aXN0cyIsImZvckVhY2giLCJfcmVmIiwic2V0SG92ZXJlZElkIiwiU0VMRUNUSU9OX0hPVkVSX0NIQU5HRUQiLCJnZXRGaXJzdFNlbGVjdGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Edit2D/Selection.js\n");

/***/ }),

/***/ "./extensions/Edit2D/SolidDefConvert.js":
/*!**********************************************!*\
  !*** ./extensions/Edit2D/SolidDefConvert.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SolidDefConvert: () => (/* binding */ SolidDefConvert)\n/* harmony export */ });\n/* harmony import */ var _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditShapes.js */ \"./extensions/Edit2D/EditShapes.js\");\n/* harmony import */ var _adsk_solid_definition__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @adsk/solid-definition */ \"./node_modules/@adsk/solid-definition/dist/solid-definition.min.js\");\n/* harmony import */ var _adsk_solid_definition__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_adsk_solid_definition__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\n\n\nconst tmpVec1 = new THREE.Vector3();\nconst tmpVec2 = new THREE.Vector3();\n\n// Convert SolidDef float-array to THREE-Vector3\nconst toVec3 = function (ar) {let target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new THREE.Vector3();\n  return target.set(ar[0], ar[1], ar[2]);\n};\n\n// Add (directed) edge segment to an Edit2D path. If path is non-empty, it is\n// assumed that it already ends at the start point of the new edge\n//  @param {Path}                     path         - Edit2D path\n//  @param {SolidDef.Coedge|SolidDef} ce           - Directed edge from SolidDef\n//  @param {number}                   loopIndex    - index of the loop in target path where we add the edge to\n//  @param {bool}                     lastLoopEdge - For the last edge in a loop, we only copy the arc params, but don't add the end vertex.\n//                                                   This is because Edit2D shapes do not repeat the start vertex at the end.\nconst addCoedge = function (path, ce, loopIndex) {let lastLoopEdge = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n  const vertexCount = path.getVertexCount(loopIndex);\n\n  // Add start vertex on first call\n  if (vertexCount == 0) {\n    const pStart = ce.getStartVertex().getPosition();\n    path.addPoint(pStart[0], pStart[1], loopIndex);\n  }\n\n  // Add end point - unless this is the last edge of a loop.\n  if (!lastLoopEdge) {\n    const pEnd = ce.getEndVertex().getPosition();\n    path.addPoint(pEnd[0], pEnd[1], loopIndex);\n  }\n\n  // This function works for Coedges as well as edges. If ce is already an edge, we just set e=ce.\n  const isCoedge = ce instanceof _adsk_solid_definition__WEBPACK_IMPORTED_MODULE_1__.Coedge;\n  const e = isCoedge ? ce.getEdge() : ce;\n\n  // Determine whether the curve direction is flipped. For coedges, this may happen up to twice, because\n  // cedge as well as edge have their own isReversed flag.\n  const ceReversed = isCoedge ? ce.isReversed() : false;\n  const edgeReversed = e.isReversed();\n  const isReversed = ceReversed !== edgeReversed; // logical XOR (true if exactly one of both is reversed)\n\n  const type = e.getCurveType();\n\n  // For line segments, we are done\n  if (type === _adsk_solid_definition__WEBPACK_IMPORTED_MODULE_1__.GEOMETRY_TYPES.LINE) {\n    return;\n  }\n\n  // convert curve parameters for new edge\n  const edgeIndex = Math.max(vertexCount - 1, 0);\n  const curve = e.getCurve();\n\n  // Bezier case\n  if (type === _adsk_solid_definition__WEBPACK_IMPORTED_MODULE_1__.GEOMETRY_TYPES.BCURVE) {\n\n    // Note that we cannot simply copy the control points of the SolidDef bcurve. Reasons:\n    //  1. Coedge or edge may be reversed (which may invert the order of the control points)\n    //  2. The edge may not cover the whole curve, but only a part of it.\n    //\n    // Due to 2. we have to construct a new cubic Bezier here based start/end tangent of the edge.\n\n    // get params at edge start/end\n    const t0 = ce.t0();\n    const t1 = ce.t1();\n\n    // get start/end point\n    const pStart = ce.evaluatePosition(t0);\n    const pEnd = ce.evaluatePosition(t1);\n\n    // get start/end tangent\n    const tStart = ce.evaluateDt(t0);\n    const tEnd = ce.evaluateDt(t1);\n\n    // We are searching for a cubic Bezier B with the following properties:\n    //  - Its parameter domain is [0,1], i.e. B(0)=start vertex, B(1) is end vertex\n    //  - Tangents at start/end positions are the same as for the given edge.\n\n    // Note that changing from [t0, t1] to a larger parameter domain [0,1] scales down the tangent vectors accordingly.\n    const rangeScale = Math.abs(t1 - t0);\n    tStart[0] *= rangeScale;\n    tStart[1] *= rangeScale;\n    tEnd[0] *= rangeScale;\n    tEnd[1] *= rangeScale;\n\n    // The start tangent of a cubic bezier is 3 * (cp1-cp0). So, we can obtain cp1 from the start tangent.\n    // Same principle applies to cp2.\n    const cp1x = pStart[0] + tStart[0] / 3;\n    const cp1y = pStart[1] + tStart[1] / 3;\n    const cp2x = pEnd[0] - tEnd[0] / 3;\n    const cp2y = pEnd[1] - tEnd[1] / 3;\n\n    path.setBezierArc(edgeIndex, cp1x, cp1y, cp2x, cp2y, loopIndex);\n    return;\n  }\n\n  // Ellipse arcs\n  if (type === _adsk_solid_definition__WEBPACK_IMPORTED_MODULE_1__.GEOMETRY_TYPES.ELLIPSE) {\n\n    const params = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EllipseArcParams();\n    params.rx = curve.getMajorRadius();\n    params.ry = curve.getMinorRadius();\n\n    // compute axis rotation\n    const xAxis = curve.getMajorAxis();\n    const angle = Math.atan2(xAxis[1], xAxis[0]);\n    params.rotation = THREE.Math.radToDeg(angle);\n\n    // determine largeArc flag\n    // Note that the edge may only use a subset of the curve.\n    // So, it's essential to get the range from the directed edge.\n    const range = ce.getRange();\n    const startAngle = range[0];\n    const endAngle = range[1];\n    params.largeArcFlag = endAngle - startAngle > Math.PI; // Note that endAngle is always >startAngle\n\n    // determine sweep flag: Ellipse curves in SolidDef always run ccw (sweepFlag = true).\n    // But it may be inverted if the edge direction is flipped.\n    params.sweepFlag = !isReversed;\n\n    // Note: In Edit2D, the unrotated y-axis always points up. I.e. rotation=0 means xAxis = (1,0) and yAxis = (-1,0).\n    //       In SolidDef, the axes are more flexible. As long as we don't transform the curves arbitrarily, the ellipse\n    //       axes still form a 90 degree angle. However, the ellipse coordinate system may have opposite orientation.\n    //       If this happens, we have to invert the ellipse orientation.\n    const yAxis = curve.getMinorAxis();\n    const xDir = toVec3(xAxis, tmpVec1);\n    const yDir = toVec3(yAxis, tmpVec2);\n    const needsExtraFlip = xDir.cross(yDir).z < 0;\n    if (needsExtraFlip) {\n      params.sweepFlag = !params.sweepFlag;\n    }\n\n    path.setEllipseArc(edgeIndex, params, loopIndex);\n    return;\n  }\n\n  console.error(\"Unexpected curve type\");\n};\n\n// Creates an Edit2D Path loop from a given SoliDef loop. The loop is added to the target path.\n//  @param {SolidDef.Loop} loop\n//  @param {Path}          [target]\n//  @returns {Path}\nconst loopToShape = function (loop) {let target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.PolygonPath();\n\n  // start new loop in target path\n  const loopIndex = target.nextFreeLoop();\n\n  // traverse coedges of the loop\n  const coedges = loop.getCoedges();\n  for (let i = 0; i < coedges.length; i++) {\n    const ce = coedges[i];\n\n    // for the last loopEdge, we only copy the arc param, but don't repeat the start vertex\n    const lastLoopEdge = i == coedges.length - 1;\n\n    // add next edge to target\n    addCoedge(target, ce, loopIndex, lastLoopEdge);\n  }\n\n  return target;\n};\n\n// Convert SolidDef face into one or more Edit2D Paths.\n// Todo: If we support multiple loops per Path, result will be a single Path\n//  @param {SolidDef.Face} face\n//  @param {Path}          [target]\n//  @returns {Path}\nconst faceToShape = function (face) {let target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.PolygonPath();\n\n  // convert loops and collect them into target path\n  face.getLoops().forEach((l) => {\n    target = loopToShape(l, target);\n  });\n  return target;\n};\n\n// Convert array of faces to array of shapes\nconst facesToShape = function (faces) {let target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.PolygonPath();\n\n  faces.forEach((f) => {\n    target = faceToShape(f, target);\n  });\n  return target;\n};\n\n// Convert SolidDef wire to an Edit2D Path.\n//\n// Note: This function only works for wires that don't branch and have already ordered edges.\n//       This is true for wires that we get from SolidDef.Path.\n//  @param {SolidDef.Wire} wire\nconst wireToShape = (wire) => {\n\n  // create empty path\n  const path = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Path();\n  path.isClosed = wire.isClosed();\n\n  // add edges\n  const edges = wire.getOrderedEdges().edges;\n  for (let i = 0; i < edges.length; i++) {\n    const edge = edges[i];\n    const lastLoopEdge = wire.isClosed() && i == edges.length - 1;\n    addCoedge(path, edge, 0, lastLoopEdge);\n  }\n  return path;\n};\n\n// Convert SolidDef path to an array of shapes\nconst pathToShape = (path) => {\n  const body = path.getWireBody();\n  const wires = body.getWires();\n\n  if (wires.length == 0) {\n    return new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Path();\n  }\n\n  const result = wireToShape(wires[0]);\n\n  // convert additional loops (if any)\n  for (let i = 1; i < wires.length; i++) {\n    const wire = wires[i];\n    const tmp = wireToShape(wire);\n    result.addLoop(tmp, 0);\n  }\n\n  return result;\n};\n\n// Convert Edit2D Path to SolidDef Path2D\nconst toSolidDefPath = (path) => {\n  const path2D = new _adsk_solid_definition__WEBPACK_IMPORTED_MODULE_1__.Path2D();\n  (0,_EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.runPath)(path2D, path);\n  return path2D;\n};\n\nconst SolidDefConvert = {\n  addCoedge,\n  loopToShape,\n  faceToShape,\n  facesToShape,\n  wireToShape,\n  pathToShape,\n  toSolidDefPath\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL0VkaXQyRC9Tb2xpZERlZkNvbnZlcnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFDK0U7O0FBRVA7O0FBRXhFLE1BQU1PLE9BQU8sR0FBRyxJQUFJQyxLQUFLLENBQUNDLE9BQU8sQ0FBQyxDQUFDO0FBQ25DLE1BQU1DLE9BQU8sR0FBRyxJQUFJRixLQUFLLENBQUNDLE9BQU8sQ0FBQyxDQUFDOztBQUVuQztBQUNBLE1BQU1FLE1BQU0sR0FBRyxTQUFBQSxDQUFDQyxFQUFFLEVBQW1DLEtBQWpDQyxNQUFNLEdBQUFDLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLElBQUlOLEtBQUssQ0FBQ0MsT0FBTyxDQUFDLENBQUM7RUFDNUMsT0FBT0ksTUFBTSxDQUFDSSxHQUFHLENBQUNMLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRUEsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFQSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDMUMsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU1NLFNBQVMsR0FBRyxTQUFBQSxDQUFDQyxJQUFJLEVBQUVDLEVBQUUsRUFBRUMsU0FBUyxFQUEyQixLQUF6QkMsWUFBWSxHQUFBUixTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxLQUFLOztFQUV4RCxNQUFNUyxXQUFXLEdBQUdKLElBQUksQ0FBQ0ssY0FBYyxDQUFDSCxTQUFTLENBQUM7O0VBRWxEO0VBQ0EsSUFBSUUsV0FBVyxJQUFJLENBQUMsRUFBRTtJQUNsQixNQUFNRSxNQUFNLEdBQUdMLEVBQUUsQ0FBQ00sY0FBYyxDQUFDLENBQUMsQ0FBQ0MsV0FBVyxDQUFDLENBQUM7SUFDaERSLElBQUksQ0FBQ1MsUUFBUSxDQUFDSCxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUVBLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFB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O0FBRUQ7QUFDQSxNQUFNRyxjQUFjLEdBQUdBLENBQUFqRyxJQUFJLEtBQUk7RUFDM0IsTUFBTWtHLE1BQU0sR0FBRyxJQUFJakgsMERBQU0sQ0FBQyxDQUFDO0VBQzNCRCx1REFBTyxDQUFDa0gsTUFBTSxFQUFFbEcsSUFBSSxDQUFDO0VBQ3JCLE9BQU9rRyxNQUFNO0FBQ2pCLENBQUM7O0FBRU0sTUFBTUMsZUFBZSxHQUFHO0VBQzNCcEcsU0FBUztFQUNUc0UsV0FBVztFQUNYTSxXQUFXO0VBQ1hLLFlBQVk7RUFDWkcsV0FBVztFQUNYTSxXQUFXO0VBQ1hRO0FBQ0osQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL0VkaXQyRC9Tb2xpZERlZkNvbnZlcnQuanM/MTlkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IEVsbGlwc2VBcmNQYXJhbXMsIFBhdGgsIFBvbHlnb25QYXRoLCBydW5QYXRoIH0gZnJvbSAnLi9FZGl0U2hhcGVzLmpzJztcblxuaW1wb3J0IHsgUGF0aDJELCBDb2VkZ2UsIEdFT01FVFJZX1RZUEVTIH0gZnJvbSAnQGFkc2svc29saWQtZGVmaW5pdGlvbic7XG5cbmNvbnN0IHRtcFZlYzEgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuY29uc3QgdG1wVmVjMiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cbi8vIENvbnZlcnQgU29saWREZWYgZmxvYXQtYXJyYXkgdG8gVEhSRUUtVmVjdG9yM1xuY29uc3QgdG9WZWMzID0gKGFyLCB0YXJnZXQgPSBuZXcgVEhSRUUuVmVjdG9yMygpKSA9PiB7XG4gICAgcmV0dXJuIHRhcmdldC5zZXQoYXJbMF0sIGFyWzFdLCBhclsyXSk7XG59O1xuXG4vLyBBZGQgKGRpcmVjdGVkKSBlZGdlIHNlZ21lbnQgdG8gYW4gRWRpdDJEIHBhdGguIElmIHBhdGggaXMgbm9uLWVtcHR5LCBpdCBpc1xuLy8gYXNzdW1lZCB0aGF0IGl0IGFscmVhZHkgZW5kcyBhdCB0aGUgc3RhcnQgcG9pbnQgb2YgdGhlIG5ldyBlZGdlXG4vLyAgQHBhcmFtIHtQYXRofSAgICAgICAgICAgICAgICAgICAgIHBhdGggICAgICAgICAtIEVkaXQyRCBwYXRoXG4vLyAgQHBhcmFtIHtTb2xpZERlZi5Db2VkZ2V8U29saWREZWZ9IGNlICAgICAgICAgICAtIERpcmVjdGVkIGVkZ2UgZnJvbSBTb2xpZERlZlxuLy8gIEBwYXJhbSB7bnVtYmVyfSAgICAgICAgICAgICAgICAgICBsb29wSW5kZXggICAgLSBpbmRleCBvZiB0aGUgbG9vcCBpbiB0YXJnZXQgcGF0aCB3aGVyZSB3ZSBhZGQgdGhlIGVkZ2UgdG9cbi8vICBAcGFyYW0ge2Jvb2x9ICAgICAgICAgICAgICAgICAgICAgbGFzdExvb3BFZGdlIC0gRm9yIHRoZSBsYXN0IGVkZ2UgaW4gYSBsb29wLCB3ZSBvbmx5IGNvcHkgdGhlIGFyYyBwYXJhbXMsIGJ1dCBkb24ndCBhZGQgdGhlIGVuZCB2ZXJ0ZXguXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoaXMgaXMgYmVjYXVzZSBFZGl0MkQgc2hhcGVzIGRvIG5vdCByZXBlYXQgdGhlIHN0YXJ0IHZlcnRleCBhdCB0aGUgZW5kLlxuY29uc3QgYWRkQ29lZGdlID0gKHBhdGgsIGNlLCBsb29wSW5kZXgsIGxhc3RMb29wRWRnZSA9IGZhbHNlKSA9PiB7XG5cbiAgICBjb25zdCB2ZXJ0ZXhDb3VudCA9IHBhdGguZ2V0VmVydGV4Q291bnQobG9vcEluZGV4KTtcblxuICAgIC8vIEFkZCBzdGFydCB2ZXJ0ZXggb24gZmlyc3QgY2FsbFxuICAgIGlmICh2ZXJ0ZXhDb3VudCA9PSAwKSB7XG4gICAgICAgIGNvbnN0IHBTdGFydCA9IGNlLmdldFN0YXJ0VmVydGV4KCkuZ2V0UG9zaXRpb24oKTtcbiAgICAgICAgcGF0aC5hZGRQb2ludChwU3RhcnRbMF0sIHBTdGFydFsxXSwgbG9vcEluZGV4KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgZW5kIHBvaW50IC0gdW5sZXNzIHRoaXMgaXMgdGhlIGxhc3QgZWRnZSBvZiBhIGxvb3AuXG4gICAgaWYgKCFsYXN0TG9vcEVkZ2UpIHtcbiAgICAgICAgY29uc3QgcEVuZCA9IGNlLmdldEVuZFZlcnRleCgpLmdldFBvc2l0aW9uKCk7XG4gICAgICAgIHBhdGguYWRkUG9pbnQocEVuZFswXSwgcEVuZFsxXSwgbG9vcEluZGV4KTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHdvcmtzIGZvciBDb2VkZ2VzIGFzIHdlbGwgYXMgZWRnZXMuIElmIGNlIGlzIGFscmVhZHkgYW4gZWRnZSwgd2UganVzdCBzZXQgZT1jZS5cbiAgICBjb25zdCBpc0NvZWRnZSA9IGNlIGluc3RhbmNlb2YgQ29lZGdlO1xuICAgIGNvbnN0IGUgPSBpc0NvZWRnZSA/IGNlLmdldEVkZ2UoKSA6IGNlO1xuXG4gICAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGN1cnZlIGRpcmVjdGlvbiBpcyBmbGlwcGVkLiBGb3IgY29lZGdlcywgdGhpcyBtYXkgaGFwcGVuIHVwIHRvIHR3aWNlLCBiZWNhdXNlXG4gICAgLy8gY2VkZ2UgYXMgd2VsbCBhcyBlZGdlIGhhdmUgdGhlaXIgb3duIGlzUmV2ZXJzZWQgZmxhZy5cbiAgICBjb25zdCBjZVJldmVyc2VkICAgPSBpc0NvZWRnZSA/IGNlLmlzUmV2ZXJzZWQoKSA6IGZhbHNlO1xuICAgIGNvbnN0IGVkZ2VSZXZlcnNlZCA9IGUuaXNSZXZlcnNlZCgpO1xuICAgIGNvbnN0IGlzUmV2ZXJzZWQgPSAoY2VSZXZlcnNlZCAhPT0gZWRnZVJldmVyc2VkKTsgLy8gbG9naWNhbCBYT1IgKHRydWUgaWYgZXhhY3RseSBvbmUgb2YgYm90aCBpcyByZXZlcnNlZClcblxuICAgIGNvbnN0IHR5cGUgPSBlLmdldEN1cnZlVHlwZSgpO1xuXG4gICAgLy8gRm9yIGxpbmUgc2VnbWVudHMsIHdlIGFyZSBkb25lXG4gICAgaWYgKHR5cGUgPT09IEdFT01FVFJZX1RZUEVTLkxJTkUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGNvbnZlcnQgY3VydmUgcGFyYW1ldGVycyBmb3IgbmV3IGVkZ2VcbiAgICBjb25zdCBlZGdlSW5kZXggPSBNYXRoLm1heCh2ZXJ0ZXhDb3VudC0xLCAwKTtcbiAgICBjb25zdCBjdXJ2ZSA9IGUuZ2V0Q3VydmUoKTtcblxuICAgIC8vIEJlemllciBjYXNlXG4gICAgaWYgKHR5cGUgPT09IEdFT01FVFJZX1RZUEVTLkJDVVJWRSkge1xuXG4gICAgICAgIC8vIE5vdGUgdGhhdCB3ZSBjYW5ub3Qgc2ltcGx5IGNvcHkgdGhlIGNvbnRyb2wgcG9pbnRzIG9mIHRoZSBTb2xpZERlZiBiY3VydmUuIFJlYXNvbnM6XG4gICAgICAgIC8vICAxLiBDb2VkZ2Ugb3IgZWRnZSBtYXkgYmUgcmV2ZXJzZWQgKHdoaWNoIG1heSBpbnZlcnQgdGhlIG9yZGVyIG9mIHRoZSBjb250cm9sIHBvaW50cylcbiAgICAgICAgLy8gIDIuIFRoZSBlZGdlIG1heSBub3QgY292ZXIgdGhlIHdob2xlIGN1cnZlLCBidXQgb25seSBhIHBhcnQgb2YgaXQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIER1ZSB0byAyLiB3ZSBoYXZlIHRvIGNvbnN0cnVjdCBhIG5ldyBjdWJpYyBCZXppZXIgaGVyZSBiYXNlZCBzdGFydC9lbmQgdGFuZ2VudCBvZiB0aGUgZWRnZS5cblxuICAgICAgICAvLyBnZXQgcGFyYW1zIGF0IGVkZ2Ugc3RhcnQvZW5kXG4gICAgICAgIGNvbnN0IHQwID0gY2UudDAoKTtcbiAgICAgICAgY29uc3QgdDEgPSBjZS50MSgpO1xuXG4gICAgICAgIC8vIGdldCBzdGFydC9lbmQgcG9pbnRcbiAgICAgICAgY29uc3QgcFN0YXJ0ID0gY2UuZXZhbHVhdGVQb3NpdGlvbih0MCk7XG4gICAgICAgIGNvbnN0IHBFbmQgICA9IGNlLmV2YWx1YXRlUG9zaXRpb24odDEpO1xuXG4gICAgICAgIC8vIGdldCBzdGFydC9lbmQgdGFuZ2VudFxuICAgICAgICBjb25zdCB0U3RhcnQgPSBjZS5ldmFsdWF0ZUR0KHQwKTtcbiAgICAgICAgY29uc3QgdEVuZCAgID0gY2UuZXZhbHVhdGVEdCh0MSk7XG5cbiAgICAgICAgLy8gV2UgYXJlIHNlYXJjaGluZyBmb3IgYSBjdWJpYyBCZXppZXIgQiB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAgICAgLy8gIC0gSXRzIHBhcmFtZXRlciBkb21haW4gaXMgWzAsMV0sIGkuZS4gQigwKT1zdGFydCB2ZXJ0ZXgsIEIoMSkgaXMgZW5kIHZlcnRleFxuICAgICAgICAvLyAgLSBUYW5nZW50cyBhdCBzdGFydC9lbmQgcG9zaXRpb25zIGFyZSB0aGUgc2FtZSBhcyBmb3IgdGhlIGdpdmVuIGVkZ2UuXG5cbiAgICAgICAgLy8gTm90ZSB0aGF0IGNoYW5naW5nIGZyb20gW3QwLCB0MV0gdG8gYSBsYXJnZXIgcGFyYW1ldGVyIGRvbWFpbiBbMCwxXSBzY2FsZXMgZG93biB0aGUgdGFuZ2VudCB2ZWN0b3JzIGFjY29yZGluZ2x5LlxuICAgICAgICBjb25zdCByYW5nZVNjYWxlID0gTWF0aC5hYnModDEtdDApO1xuICAgICAgICB0U3RhcnRbMF0gKj0gcmFuZ2VTY2FsZTtcbiAgICAgICAgdFN0YXJ0WzFdICo9IHJhbmdlU2NhbGU7XG4gICAgICAgIHRFbmRbMF0gICAqPSByYW5nZVNjYWxlO1xuICAgICAgICB0RW5kWzFdICAgKj0gcmFuZ2VTY2FsZTtcblxuICAgICAgICAvLyBUaGUgc3RhcnQgdGFuZ2VudCBvZiBhIGN1YmljIGJlemllciBpcyAzICogKGNwMS1jcDApLiBTbywgd2UgY2FuIG9idGFpbiBjcDEgZnJvbSB0aGUgc3RhcnQgdGFuZ2VudC5cbiAgICAgICAgLy8gU2FtZSBwcmluY2lwbGUgYXBwbGllcyB0byBjcDIuXG4gICAgICAgIGNvbnN0IGNwMXggPSBwU3RhcnRbMF0gKyB0U3RhcnRbMF0gLyAzO1xuICAgICAgICBjb25zdCBjcDF5ID0gcFN0YXJ0WzFdICsgdFN0YXJ0WzFdIC8gMztcbiAgICAgICAgY29uc3QgY3AyeCA9IHBFbmRbMF0gICAtIHRFbmRbMF0gICAvIDM7XG4gICAgICAgIGNvbnN0IGNwMnkgPSBwRW5kWzFdICAgLSB0RW5kWzFdICAgLyAzO1xuXG4gICAgICAgIHBhdGguc2V0QmV6aWVyQXJjKGVkZ2VJbmRleCwgY3AxeCwgY3AxeSwgY3AyeCwgY3AyeSwgbG9vcEluZGV4KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEVsbGlwc2UgYXJjc1xuICAgIGlmICh0eXBlID09PSBHRU9NRVRSWV9UWVBFUy5FTExJUFNFKSB7XG5cbiAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IEVsbGlwc2VBcmNQYXJhbXMoKTtcbiAgICAgICAgcGFyYW1zLnJ4ID0gY3VydmUuZ2V0TWFqb3JSYWRpdXMoKTtcbiAgICAgICAgcGFyYW1zLnJ5ID0gY3VydmUuZ2V0TWlub3JSYWRpdXMoKTtcblxuICAgICAgICAvLyBjb21wdXRlIGF4aXMgcm90YXRpb25cbiAgICAgICAgY29uc3QgeEF4aXMgPSBjdXJ2ZS5nZXRNYWpvckF4aXMoKTtcbiAgICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKHhBeGlzWzFdLCB4QXhpc1swXSk7XG4gICAgICAgIHBhcmFtcy5yb3RhdGlvbiA9IFRIUkVFLk1hdGgucmFkVG9EZWcoYW5nbGUpO1xuXG4gICAgICAgIC8vIGRldGVybWluZSBsYXJnZUFyYyBmbGFnXG4gICAgICAgIC8vIE5vdGUgdGhhdCB0aGUgZWRnZSBtYXkgb25seSB1c2UgYSBzdWJzZXQgb2YgdGhlIGN1cnZlLlxuICAgICAgICAvLyBTbywgaXQncyBlc3NlbnRpYWwgdG8gZ2V0IHRoZSByYW5nZSBmcm9tIHRoZSBkaXJlY3RlZCBlZGdlLlxuICAgICAgICBjb25zdCByYW5nZSA9IGNlLmdldFJhbmdlKCk7XG4gICAgICAgIGNvbnN0IHN0YXJ0QW5nbGUgPSByYW5nZVswXTtcbiAgICAgICAgY29uc3QgZW5kQW5nbGUgICA9IHJhbmdlWzFdO1xuICAgICAgICBwYXJhbXMubGFyZ2VBcmNGbGFnID0gKGVuZEFuZ2xlIC0gc3RhcnRBbmdsZSkgPiBNYXRoLlBJOyAvLyBOb3RlIHRoYXQgZW5kQW5nbGUgaXMgYWx3YXlzID5zdGFydEFuZ2xlXG5cbiAgICAgICAgLy8gZGV0ZXJtaW5lIHN3ZWVwIGZsYWc6IEVsbGlwc2UgY3VydmVzIGluIFNvbGlkRGVmIGFsd2F5cyBydW4gY2N3IChzd2VlcEZsYWcgPSB0cnVlKS5cbiAgICAgICAgLy8gQnV0IGl0IG1heSBiZSBpbnZlcnRlZCBpZiB0aGUgZWRnZSBkaXJlY3Rpb24gaXMgZmxpcHBlZC5cbiAgICAgICAgcGFyYW1zLnN3ZWVwRmxhZyA9ICFpc1JldmVyc2VkO1xuXG4gICAgICAgIC8vIE5vdGU6IEluIEVkaXQyRCwgdGhlIHVucm90YXRlZCB5LWF4aXMgYWx3YXlzIHBvaW50cyB1cC4gSS5lLiByb3RhdGlvbj0wIG1lYW5zIHhBeGlzID0gKDEsMCkgYW5kIHlBeGlzID0gKC0xLDApLlxuICAgICAgICAvLyAgICAgICBJbiBTb2xpZERlZiwgdGhlIGF4ZXMgYXJlIG1vcmUgZmxleGlibGUuIEFzIGxvbmcgYXMgd2UgZG9uJ3QgdHJhbnNmb3JtIHRoZSBjdXJ2ZXMgYXJiaXRyYXJpbHksIHRoZSBlbGxpcHNlXG4gICAgICAgIC8vICAgICAgIGF4ZXMgc3RpbGwgZm9ybSBhIDkwIGRlZ3JlZSBhbmdsZS4gSG93ZXZlciwgdGhlIGVsbGlwc2UgY29vcmRpbmF0ZSBzeXN0ZW0gbWF5IGhhdmUgb3Bwb3NpdGUgb3JpZW50YXRpb24uXG4gICAgICAgIC8vICAgICAgIElmIHRoaXMgaGFwcGVucywgd2UgaGF2ZSB0byBpbnZlcnQgdGhlIGVsbGlwc2Ugb3JpZW50YXRpb24uXG4gICAgICAgIGNvbnN0IHlBeGlzID0gY3VydmUuZ2V0TWlub3JBeGlzKCk7XG4gICAgICAgIGNvbnN0IHhEaXIgPSB0b1ZlYzMoeEF4aXMsIHRtcFZlYzEpO1xuICAgICAgICBjb25zdCB5RGlyID0gdG9WZWMzKHlBeGlzLCB0bXBWZWMyKTtcbiAgICAgICAgY29uc3QgbmVlZHNFeHRyYUZsaXAgPSB4RGlyLmNyb3NzKHlEaXIpLnogPCAwO1xuICAgICAgICBpZiAobmVlZHNFeHRyYUZsaXApIHtcbiAgICAgICAgICAgIHBhcmFtcy5zd2VlcEZsYWcgPSAhcGFyYW1zLnN3ZWVwRmxhZztcbiAgICAgICAgfVxuXG4gICAgICAgIHBhdGguc2V0RWxsaXBzZUFyYyhlZGdlSW5kZXgsIHBhcmFtcywgbG9vcEluZGV4KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGN1cnZlIHR5cGVcIik7XG59O1xuXG4vLyBDcmVhdGVzIGFuIEVkaXQyRCBQYXRoIGxvb3AgZnJvbSBhIGdpdmVuIFNvbGlEZWYgbG9vcC4gVGhlIGxvb3AgaXMgYWRkZWQgdG8gdGhlIHRhcmdldCBwYXRoLlxuLy8gIEBwYXJhbSB7U29saWREZWYuTG9vcH0gbG9vcFxuLy8gIEBwYXJhbSB7UGF0aH0gICAgICAgICAgW3RhcmdldF1cbi8vICBAcmV0dXJucyB7UGF0aH1cbmNvbnN0IGxvb3BUb1NoYXBlID0gKGxvb3AsIHRhcmdldCA9IG5ldyBQb2x5Z29uUGF0aCgpKSA9PiB7XG5cbiAgICAvLyBzdGFydCBuZXcgbG9vcCBpbiB0YXJnZXQgcGF0aFxuICAgIGNvbnN0IGxvb3BJbmRleCA9IHRhcmdldC5uZXh0RnJlZUxvb3AoKTtcblxuICAgIC8vIHRyYXZlcnNlIGNvZWRnZXMgb2YgdGhlIGxvb3BcbiAgICBjb25zdCBjb2VkZ2VzID0gbG9vcC5nZXRDb2VkZ2VzKCk7XG4gICAgZm9yIChsZXQgaT0wOyBpPGNvZWRnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2UgPSBjb2VkZ2VzW2ldO1xuXG4gICAgICAgIC8vIGZvciB0aGUgbGFzdCBsb29wRWRnZSwgd2Ugb25seSBjb3B5IHRoZSBhcmMgcGFyYW0sIGJ1dCBkb24ndCByZXBlYXQgdGhlIHN0YXJ0IHZlcnRleFxuICAgICAgICBjb25zdCBsYXN0TG9vcEVkZ2UgPSAoaSA9PSBjb2VkZ2VzLmxlbmd0aCAtIDEpO1xuXG4gICAgICAgIC8vIGFkZCBuZXh0IGVkZ2UgdG8gdGFyZ2V0XG4gICAgICAgIGFkZENvZWRnZSh0YXJnZXQsIGNlLCBsb29wSW5kZXgsIGxhc3RMb29wRWRnZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbn07XG5cbi8vIENvbnZlcnQgU29saWREZWYgZmFjZSBpbnRvIG9uZSBvciBtb3JlIEVkaXQyRCBQYXRocy5cbi8vIFRvZG86IElmIHdlIHN1cHBvcnQgbXVsdGlwbGUgbG9vcHMgcGVyIFBhdGgsIHJlc3VsdCB3aWxsIGJlIGEgc2luZ2xlIFBhdGhcbi8vICBAcGFyYW0ge1NvbGlkRGVmLkZhY2V9IGZhY2Vcbi8vICBAcGFyYW0ge1BhdGh9ICAgICAgICAgIFt0YXJnZXRdXG4vLyAgQHJldHVybnMge1BhdGh9XG5jb25zdCBmYWNlVG9TaGFwZSA9IChmYWNlLCB0YXJnZXQgPSBuZXcgUG9seWdvblBhdGgoKSkgPT4ge1xuXG4gICAgLy8gY29udmVydCBsb29wcyBhbmQgY29sbGVjdCB0aGVtIGludG8gdGFyZ2V0IHBhdGhcbiAgICBmYWNlLmdldExvb3BzKCkuZm9yRWFjaChsID0+IHtcbiAgICAgICAgdGFyZ2V0ID0gbG9vcFRvU2hhcGUobCwgdGFyZ2V0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGFyZ2V0O1xufTtcblxuLy8gQ29udmVydCBhcnJheSBvZiBmYWNlcyB0byBhcnJheSBvZiBzaGFwZXNcbmNvbnN0IGZhY2VzVG9TaGFwZSA9IChmYWNlcywgdGFyZ2V0ID0gbmV3IFBvbHlnb25QYXRoKCkpID0+IHtcblxuICAgIGZhY2VzLmZvckVhY2goZiA9PiB7XG4gICAgICAgIHRhcmdldCA9IGZhY2VUb1NoYXBlKGYsIHRhcmdldCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRhcmdldDtcbn07XG5cbi8vIENvbnZlcnQgU29saWREZWYgd2lyZSB0byBhbiBFZGl0MkQgUGF0aC5cbi8vXG4vLyBOb3RlOiBUaGlzIGZ1bmN0aW9uIG9ubHkgd29ya3MgZm9yIHdpcmVzIHRoYXQgZG9uJ3QgYnJhbmNoIGFuZCBoYXZlIGFscmVhZHkgb3JkZXJlZCBlZGdlcy5cbi8vICAgICAgIFRoaXMgaXMgdHJ1ZSBmb3Igd2lyZXMgdGhhdCB3ZSBnZXQgZnJvbSBTb2xpZERlZi5QYXRoLlxuLy8gIEBwYXJhbSB7U29saWREZWYuV2lyZX0gd2lyZVxuY29uc3Qgd2lyZVRvU2hhcGUgPSB3aXJlID0+IHtcblxuICAgIC8vIGNyZWF0ZSBlbXB0eSBwYXRoXG4gICAgY29uc3QgcGF0aCA9IG5ldyBQYXRoKCk7XG4gICAgcGF0aC5pc0Nsb3NlZCA9IHdpcmUuaXNDbG9zZWQoKTtcblxuICAgIC8vIGFkZCBlZGdlc1xuICAgIGNvbnN0IGVkZ2VzID0gd2lyZS5nZXRPcmRlcmVkRWRnZXMoKS5lZGdlcztcbiAgICBmb3IgKGxldCBpPTA7IGk8ZWRnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZWRnZSAgICAgICAgID0gZWRnZXNbaV07XG4gICAgICAgIGNvbnN0IGxhc3RMb29wRWRnZSA9IHdpcmUuaXNDbG9zZWQoKSAmJiAoaSA9PSBlZGdlcy5sZW5ndGgtMSk7XG4gICAgICAgIGFkZENvZWRnZShwYXRoLCBlZGdlLCAwLCBsYXN0TG9vcEVkZ2UpO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aDtcbn07XG5cbi8vIENvbnZlcnQgU29saWREZWYgcGF0aCB0byBhbiBhcnJheSBvZiBzaGFwZXNcbmNvbnN0IHBhdGhUb1NoYXBlID0gcGF0aCA9PiB7XG4gICAgY29uc3QgYm9keSAgPSBwYXRoLmdldFdpcmVCb2R5KCk7XG4gICAgY29uc3Qgd2lyZXMgPSBib2R5LmdldFdpcmVzKCk7XG5cbiAgICBpZiAod2lyZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQYXRoKCk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gd2lyZVRvU2hhcGUod2lyZXNbMF0pO1xuXG4gICAgLy8gY29udmVydCBhZGRpdGlvbmFsIGxvb3BzIChpZiBhbnkpXG4gICAgZm9yIChsZXQgaT0xOyBpPHdpcmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHdpcmUgPSB3aXJlc1tpXTtcbiAgICAgICAgY29uc3QgdG1wID0gd2lyZVRvU2hhcGUod2lyZSk7XG4gICAgICAgIHJlc3VsdC5hZGRMb29wKHRtcCwgMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIENvbnZlcnQgRWRpdDJEIFBhdGggdG8gU29saWREZWYgUGF0aDJEXG5jb25zdCB0b1NvbGlkRGVmUGF0aCA9IHBhdGggPT4ge1xuICAgIGNvbnN0IHBhdGgyRCA9IG5ldyBQYXRoMkQoKTtcbiAgICBydW5QYXRoKHBhdGgyRCwgcGF0aCk7XG4gICAgcmV0dXJuIHBhdGgyRDtcbn07XG5cbmV4cG9ydCBjb25zdCBTb2xpZERlZkNvbnZlcnQgPSB7XG4gICAgYWRkQ29lZGdlLFxuICAgIGxvb3BUb1NoYXBlLFxuICAgIGZhY2VUb1NoYXBlLFxuICAgIGZhY2VzVG9TaGFwZSxcbiAgICB3aXJlVG9TaGFwZSxcbiAgICBwYXRoVG9TaGFwZSxcbiAgICB0b1NvbGlkRGVmUGF0aFxufTtcbiJdLCJuYW1lcyI6WyJFbGxpcHNlQXJjUGFyYW1zIiwiUGF0aCIsIlBvbHlnb25QYXRoIiwicnVuUGF0aCIsIlBhdGgyRCIsIkNvZWRnZSIsIkdFT01FVFJZX1RZUEVTIiwidG1wVmVjMSIsIlRIUkVFIiwiVmVjdG9yMyIsInRtcFZlYzIiLCJ0b1ZlYzMiLCJhciIsInRhcmdldCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInNldCIsImFkZENvZWRnZSIsInBhdGgiLCJjZSIsImxvb3BJbmRleCIsImxhc3RMb29wRWRnZSIsInZlcnRleENvdW50IiwiZ2V0VmVydGV4Q291bnQiLCJwU3RhcnQiLCJnZXRTdGFydFZlcnRleCIsImdldFBvc2l0aW9uIiwiYWRkUG9pbnQiLCJwRW5kIiwiZ2V0RW5kVmVydGV4IiwiaXNDb2VkZ2UiLCJlIiwiZ2V0RWRnZSIsImNlUmV2ZXJzZWQiLCJpc1JldmVyc2VkIiwiZWRnZVJldmVyc2VkIiwidHlwZSIsImdldEN1cnZlVHlwZSIsIkxJTkUiLCJlZGdlSW5kZXgiLCJNYXRoIiwibWF4IiwiY3VydmUiLCJnZXRDdXJ2ZSIsIkJDVVJWRSIsInQwIiwidDEiLCJldmFsdWF0ZVBvc2l0aW9uIiwidFN0YXJ0IiwiZXZhbHVhdGVEdCIsInRFbmQiLCJyYW5nZVNjYWxlIiwiYWJzIiwiY3AxeCIsImNwMXkiLCJjcDJ4IiwiY3AyeSIsInNldEJlemllckFyYyIsIkVMTElQU0UiLCJwYXJhbXMiLCJyeCIsImdldE1ham9yUmFkaXVzIiwicnkiLCJnZXRNaW5vclJhZGl1cyIsInhBeGlzIiwiZ2V0TWFqb3JBeGlzIiwiYW5nbGUiLCJhdGFuMiIsInJvdGF0aW9uIiwicmFkVG9EZWciLCJyYW5nZSIsImdldFJhbmdlIiwic3RhcnRBbmdsZSIsImVuZEFuZ2xlIiwibGFyZ2VBcmNGbGFnIiwiUEkiLCJzd2VlcEZsYWciLCJ5QXhpcyIsImdldE1pbm9yQXhpcyIsInhEaXIiLCJ5RGlyIiwibmVlZHNFeHRyYUZsaXAiLCJjcm9zcyIsInoiLCJzZXRFbGxpcHNlQXJjIiwiY29uc29sZSIsImVycm9yIiwibG9vcFRvU2hhcGUiLCJsb29wIiwibmV4dEZyZWVMb29wIiwiY29lZGdlcyIsImdldENvZWRnZXMiLCJpIiwiZmFjZVRvU2hhcGUiLCJmYWNlIiwiZ2V0TG9vcHMiLCJmb3JFYWNoIiwibCIsImZhY2VzVG9TaGFwZSIsImZhY2VzIiwiZiIsIndpcmVUb1NoYXBlIiwid2lyZSIsImlzQ2xvc2VkIiwiZWRnZXMiLCJnZXRPcmRlcmVkRWRnZXMiLCJlZGdlIiwicGF0aFRvU2hhcGUiLCJib2R5IiwiZ2V0V2lyZUJvZHkiLCJ3aXJlcyIsImdldFdpcmVzIiwicmVzdWx0IiwidG1wIiwiYWRkTG9vcCIsInRvU29saWREZWZQYXRoIiwicGF0aDJEIiwiU29saWREZWZDb252ZXJ0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Edit2D/SolidDefConvert.js\n");

/***/ }),

/***/ "./extensions/Edit2D/Svg.js":
/*!**********************************!*\
  !*** ./extensions/Edit2D/Svg.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Svg: () => (/* binding */ Svg)\n/* harmony export */ });\n/* harmony import */ var _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditShapes.js */ \"./extensions/Edit2D/EditShapes.js\");\n/* harmony import */ var _Math2D_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Math2D.js */ \"./extensions/Edit2D/Math2D.js\");\n\n\n\nlet domParser = null;\n\n// SVG (de)serialization for EditShapes\n\n// Url of XML-Namespace for SVG\nconst SvgNs = \"http://www.w3.org/2000/svg\";\n\nconst exp4 = Math.pow(10, 4);\nconst limitDigits = function (value) {let digits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  if (!value || digits === null) {\n    return value;\n  }\n  // like value.toFixed(), but removing trailing zeros\n  const exp = digits === 4 ? exp4 : Math.pow(10, digits);\n  return Math.round(value * exp) / exp;\n};\n\nconst domToCircle = (circleNode) => {\n\n  if (!circleNode.hasAttributes || !circleNode.hasAttributes()) {\n    throw 'No attributes available on the <circle/> node';\n  }\n  const circle = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Circle();\n  for (let i = circleNode.attributes.length - 1; i >= 0; i--) {\n    let attr = circleNode.attributes[i];\n    switch (attr.name) {\n      case 'cx':\n        circle.centerX = parseFloat(attr.value);\n        break;\n      case 'cy':\n        circle.centerY = parseFloat(attr.value);\n        break;\n      case 'r':\n        circle.radius = parseFloat(attr.value);\n        break;\n    }\n  }\n  return circle;\n};\n\nconst circleToSvg = function (circle) {let digits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;let stylePostFix = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  return `<circle cx=\"${limitDigits(circle.centerX, digits)}\" cy=\"${limitDigits(circle.centerY, digits)}\" r=\"${limitDigits(circle.radius, digits)}${stylePostFix}\"/>`;\n};\n\nconst domToPath = (pathNode) => {\n\n  const d = pathNode.getAttribute('d');\n  if (!d) {\n    return;\n  }\n\n  return parsePath(d);\n};\n\n// For closed paths, remove last point of each loop if it is just a repetition of the start vertex.\nconst removeDuplicateLoopEndPoints = (path) => {\n\n  // Bezier applied to the last point will create an additional point which is equal to the endpoint to close the path\n  // see Path.toSVGPath(). Path is always closed, therefore we can remove the duplicate end point.\n  if (path.isClosed) {\n    let pStart = new THREE.Vector2();\n    let pEnd = new THREE.Vector2();\n    const loopCount = path.loopCount;\n    for (let l = 0; l < loopCount; l++) {\n\n      // skip invalid loops\n      const lastIndex = path.getVertexCount(l) - 1;\n      if (lastIndex < 1) {\n        continue;\n      }\n\n      // get start/end\n      pStart = path.getPoint(0, l, pStart);\n      pEnd = path.getPoint(lastIndex, l, pEnd);\n\n      const delta = _Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.pointDelta(pStart, pEnd, 0);\n      if (!delta) {\n        path.removePoint(lastIndex, l);\n      }\n\n    }\n  }\n};\n\nconst parsePath = (svgPath) => {\n  // split at all chars but keep the char using positive look ahead\n  // sample payload for path d = M 13.882,4.8592 L 14.6757,4.738 L 13.9668,4.4896 L 14.005,4.4896 C 15.3211,5.4567,14.79,3.1599,14.6624,4.155 L 13.9189,3.8945 L 13.9189,3.8 L 14.6234,3.7516 Z\n  // results into list with glyph with position array:\n  // ['M 13.882,4.8592', 'L 14.6757,4.738', 'L 13.9668,4.4896', 'L 14.005,4.4896', 'C 15.3211,5.4567,14.79,3.1599,14.6624,4.155', 'L 13.9189,3.8945', 'L 13.9189,3.8', 'L 14.6234,3.7516', 'Z']\n  const pointStrings = svgPath.split(/ (?=[a-zA-Z])/gi);\n  const validChars = \"MLHVCZA\";\n\n  // Reused per cycle\n  const ellipseParams = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EllipseArcParams();\n  const nextPoint = new THREE.Vector2();\n\n  // the current loop that we are adding edges to\n  let loopIndex = 0;\n\n  const path = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Path();\n\n  for (let i = 0; i < pointStrings.length; i++) {\n\n    // Check for unexpected characters\n    const pointString = pointStrings[i];\n    if (validChars.indexOf(pointString[0]) === -1) {\n      throw `\\\"${pointString[0]}\\\" is not a supported or invalid glyph: ${pointString}`;\n    }\n\n    const segmentIndex = path.getVertexCount(loopIndex) - 1;\n\n    // Determine edge type, position, and extra params for arcs\n    let value = pointString.substring(1);\n    switch (pointString[0]) {\n      case 'M':\n        // start new loop\n        loopIndex = path.nextFreeLoop();\n      case 'L':\n        let coords = value.split(',');\n        nextPoint.x = parseFloat(coords[0]);\n        nextPoint.y = parseFloat(coords[1]);\n        break;\n      case 'H':\n        nextPoint.x = parseFloat(value);\n        break;\n      case 'V':\n        nextPoint.y = parseFloat(value);\n        break;\n      case 'C':\n\n        // tokenize params\n        const bezierCoords = value.split(',');\n\n        // get position\n        nextPoint.x = parseFloat(bezierCoords[4]);\n        nextPoint.y = parseFloat(bezierCoords[5]);\n\n        // get bezier params\n        const cp1x = parseFloat(bezierCoords[0]);\n        const cp1y = parseFloat(bezierCoords[1]);\n        const cp2x = parseFloat(bezierCoords[2]);\n        const cp2y = parseFloat(bezierCoords[3]);\n\n        if (segmentIndex >= 0) {\n          path.setBezierArc(segmentIndex, cp1x, cp1y, cp2x, cp2y, loopIndex);\n        } else {\n          console.error('SVG Parse error: Path is not expected to start with \"C\" command');\n        }\n        break;\n\n      case 'A':\n        // tokenize params\n        const src = value.split(',');\n\n        // get position\n        nextPoint.x = parseFloat(src[5]);\n        nextPoint.y = parseFloat(src[6]);\n\n        // read ellipse params.\n        ellipseParams.rx = parseFloat(src[0]);\n        ellipseParams.ry = parseFloat(src[1]);\n        ellipseParams.rotation = parseFloat(src[2]);\n        ellipseParams.largeArcFlag = Boolean(parseFloat(src[3]));\n        ellipseParams.sweepFlag = Boolean(parseFloat(src[4]));\n\n        if (segmentIndex >= 0) {\n          path.setEllipseArc(segmentIndex, ellipseParams, loopIndex);\n        } else {\n          console.error('SVG Parse error: Path is not expected to start with \"A\" command');\n        }\n        break;\n      case 'Z':\n        // we are done\n        path.isClosed = true;\n        continue;\n    }\n\n    // add next point\n    path.addPoint(nextPoint.x, nextPoint.y, loopIndex);\n  }\n\n  removeDuplicateLoopEndPoints(path);\n\n  return path;\n};\n\nconst pathToSvgPath = function (path) {let precision = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;let digits = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  if (!path.vertexCount) {\n    return [];\n  }\n\n  // Shortcut for restricting number of digits\n  const ld = (num) => limitDigits(num, digits);\n\n  let svgPath = [];\n\n  // reused per loop cycle\n  let p = new THREE.Vector2();\n  let pPrev = new THREE.Vector2();\n  let params = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EllipseArcParams();\n  let cp1 = new THREE.Vector2();\n  let cp2 = new THREE.Vector2();\n\n  const loopCount = path.loopCount;\n  for (let l = 0; l < loopCount; l++) {\n\n    // Add M command for first vertex\n    const edgeCount = path.getEdgeCount(l);\n    if (edgeCount > 0) {\n      p = path.getPoint(0, l, p);\n      svgPath.push(`M ${ld(p.x)},${ld(p.y)}`);\n    }\n\n    for (let i = 0; i < edgeCount; i++) {\n\n      // Vertex i is the end point of segment i-1, which defines edge type and arc params\n      const segmentIndex = i;\n      const edgeType = path.isPath() ? path.getEdgeType(segmentIndex, l) : _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EdgeType.Line;\n\n      // get next point. Note: If the path is closed, p will be the start vertex of the loop again.\n      const edgeEndVertex = path.nextIndex(segmentIndex, l);\n      p = path.getPoint(edgeEndVertex, l, p);\n\n      let value = '';\n      switch (edgeType) {\n\n        case _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EdgeType.Ellipse:\n          params = path.getEllipseArcParams(segmentIndex, l, params);\n\n          // Convert boolean flags to 1/0\n          const largeArc = params.largeArcFlag ? 1 : 0;\n          const sweep = params.sweepFlag ? 1 : 0;\n\n          value = `A ${params.rx},${params.ry},${params.rotation},${largeArc},${sweep},${p.x},${p.y}`;\n          break;\n\n        case _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EdgeType.Bezier:\n          cp1 = path.getControlPoint(segmentIndex, 1, l, cp1);\n          cp2 = path.getControlPoint(segmentIndex, 2, l, cp2);\n          value = `C ${ld(cp1.x, digits)},${ld(cp1.y, digits)},${ld(cp2.x, digits)},${ld(cp2.y, digits)},${ld(p.x, digits)},${ld(p.y, digits)}`;\n          break;\n\n        default:\n          {\n            // skip empty/duplicate points\n            pPrev = path.getPoint(i, l, pPrev);\n            let delta = _Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.pointDelta(pPrev, p, digits);\n            if (!delta) {\n              continue;\n            }\n\n            if (Math.abs(delta.x) <= precision) {\n              value = `V ${ld(p.y)}`;\n            } else if (Math.abs(delta.y) <= precision) {\n              value = `H ${ld(p.x)}`;\n            } else {\n              value = `L ${ld(p.x)},${ld(p.y)}`;\n            }\n          }\n      }\n\n      // For closed paths, the edge end vertex will be 0. Repeating the start vertex is only necessary if the\n      // last segment is an arc: Without repeating the start vertex at the loop end, we could not store the arc parameters in SVG.\n      const isRepeatedStartVertex = edgeEndVertex === 0;\n      if (isRepeatedStartVertex && edgeType === _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EdgeType.Line) {\n        // Last segment of the loop is a line. We don't need to repeat the start vertex in this case.\n        continue;\n      }\n\n      svgPath.push(value);\n    }\n\n    // For a closed path, repeat the end vertex. This is necessary to preserve arc params\n    if (path.isClosed) {\n      // close loop\n      svgPath.push('Z');\n    }\n  }\n\n  return svgPath;\n};\n\n// Extract dictionary of SVG style attributes from Edit2D style\n//  @param {Style} style\n//  @returns {Object}\nconst getSvgStyleAttributes = (style) => {\n\n  const target = {};\n  target[\"stroke\"] = style.lineColor;\n  target[\"fill\"] = style.fillColor;\n  target[\"stroke-width\"] = style.lineWidth;\n\n  // omit opacities if they are 1 (default)\n  if (style.lineAlpha != 1) target[\"stroke-opacity\"] = style.lineAlpha;\n  if (style.fillAlpha != 1) target[\"fill-opacity\"] = style.fillAlpha;\n\n  return target;\n};\n\n// Converts the result of getSvgStyleAttributes to a string postfix. Since we append it\n// to other attributes, it contains a preceding space.\n// Example: ' stroke=\"rgb(0,0,0)\" fill=\"rgb(0,0,255)\" ... '\nconst getAttributePostFix = (attribs) => {\n  let str = '';\n  for (let key in attribs) {\n    str += ` ${key}=\"${attribs[key]}\"`;\n  }\n  return str;\n};\n\n// Apply all given attributes to a Dom Element\nconst applyAttributes = (domElement, attribs) => {\n  for (let key in attribs) {\n    domElement.setAttribute(key, attribs[key]);\n  }\n};\n\n// Converts a shape into a string describing an SVG path. Note that (for legacy reasons),\n// style attributes are only exported if specified in options.\n//\n// @param {Shape} shape\n// @param {Object} [options]\n// @param {number} [options.precision=0]       - accuracy for unifying duplicate points\n// @param {number} [options.digis=0]           - number of digits for number strings\n// @param {bool}   [options.exportStyle=false] - If true, we also export style attributes\n//\n// Note: We currently have to use function syntax, otherwise we cannot use 'arguments' for the legacy fallback below.\nconst toSvg = function (shape, options) {\n\n  let precision = options && options.precision || 0;\n  let digits = options && options.digits || null; // means no limitation of digits\n  let exportStyle = options && options.exportStyle || false;\n\n  // add style params if wanted\n  let stylePostfix = '';\n  if (exportStyle) {\n    const attribs = getSvgStyleAttributes(shape.style);\n    stylePostfix = getAttributePostFix(attribs);\n  }\n\n  // Legacy: Keep old code using that still passes precision/digits separately\n  // Todo: Remove this when checked with clients.\n  if (typeof options !== 'object') {\n    if (typeof arguments[1] == 'number') precision = arguments[1];\n    if (typeof arguments[2] == 'number') digits = arguments[2];\n  }\n\n  if (shape instanceof _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Circle) {\n    return circleToSvg(shape, digits, stylePostfix);\n  }\n\n  if (!(shape instanceof _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.PolyBase)) {\n    console.error('SVG serialization not supported for this shape: ', shape);\n    return;\n  }\n\n  // PolyBase and Path are translated to SVG Path\n  let path = pathToSvgPath(shape, precision, digits);\n\n  return `<path d=\"${path.join(' ')}\"${stylePostfix}/>`;\n};\n\n// see toSvg for options.\nconst createSvgShape = (shape, options) => {\n  const precision = options && options.precision || 0;\n  const digits = options && options.digits || 0;\n  const exportStyle = options && options.exportStyle || true;\n\n  // Todo: support circles and other shapes if anyone needs it.\n  if (!(shape instanceof _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.PolyBase)) {\n    console.error('SVG serialization not supported for this shape: ', shape);\n    return;\n  }\n\n  const path = document.createElementNS(SvgNs, 'path');\n  path.setAttribute('d', pathToSvgPath(shape, precision, digits));\n\n  if (exportStyle) {\n    const attribs = getSvgStyleAttributes(shape.style);\n    applyAttributes(path, attribs);\n  }\n\n  return path;\n};\n\n// @param {string}  svg - e.g. '<path d=\"M 13.882,4.8592 L 14.6757,4.738\"/>'\nconst fromSvg = (svg) => {\n  if (!svg) {\n    return;\n  }\n\n  // init on first use\n  domParser = domParser || new DOMParser();\n\n  const dom = domParser.parseFromString(svg, 'application/xml');\n\n  if (dom.childNodes.length !== 1) {\n    throw 'Function does only support svg with a single element: path, circle';\n  }\n  const node = dom.firstChild;\n  if (node.nodeName === 'circle') {\n    return domToCircle(node);\n  } else\n  if (node.nodeName === 'path') {\n    return domToPath(node);\n  }\n\n  throw `Unsupported svg node type: ${node.nodeName}`;\n};\n\n// Converts several shapes to an SVG element.\n//  @param {Object} [options]\n//  @param {Box2} [dstBox] - If specified, shapes can be rescaled to fit into a destination box for the given SVG.\n//  @param {Box2} [srcBox] - By default, srcBox is the union of all shapeBoxes. Shapes are uniformly rescaled from srcBox into dstBox.\n// see toSvg() for other options\nconst createSvgElement = function (shapes) {let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // get summed box of all shapes\n  let sumBox = new THREE.Box2();\n  shapes.forEach((shape) => sumBox.union(shape.getBBox()));\n\n  let srcBox = options.srcBox || sumBox;\n  let dstBox = options.dstBox || sumBox;\n\n  // Note that we always have to swap y-axis, because the y-axis direction is flipped when\n  // converting 2D world coords in LMV to SVG.\n  const scaleOptions = {\n    preserveAspect: true,\n    flipY: true\n  };\n  const tf = _Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.getFitToBoxTransform(srcBox, dstBox, scaleOptions);\n\n  // get required size of svg\n  let width = dstBox.max.x - dstBox.min.x;\n  let height = dstBox.max.y - dstBox.min.y;\n\n  // create svg root element\n  const svg = document.createElementNS(SvgNs, 'svg');\n  svg.setAttribute('height', width);\n  svg.setAttribute('width', height);\n\n  // rescale & convert each shape\n  shapes.forEach((shape) => {\n    const scaledShape = shape.clone().applyMatrix4(tf);\n    const path = createSvgShape(scaledShape, options);\n    svg.appendChild(path);\n  });\n\n  return svg;\n};\n\nconst Svg = {\n  toSvg: toSvg,\n  fromSvg: fromSvg,\n  createSvgShape: createSvgShape,\n  createSvgElement: createSvgElement\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU0sQ0FBQ08sR0FBRyxDQUFDN0YsQ0FBQyxHQUFHc0YsTUFBTSxDQUFDUSxHQUFHLENBQUM5RixDQUFDOztFQUV4QztFQUNBLE1BQU1zRSxHQUFHLEdBQUdILFFBQVEsQ0FBQ0MsZUFBZSxDQUFDaEksS0FBSyxFQUFFLEtBQUssQ0FBQztFQUNsRGtJLEdBQUcsQ0FBQ1gsWUFBWSxDQUFDLFFBQVEsRUFBRWlDLEtBQUssQ0FBQztFQUNqQ3RCLEdBQUcsQ0FBQ1gsWUFBWSxDQUFDLE9BQU8sRUFBRW9DLE1BQU0sQ0FBQzs7RUFFakM7RUFDQWhCLE1BQU0sQ0FBQ0csT0FBTyxDQUFDLENBQUFyQixLQUFLLEtBQUk7SUFDcEIsTUFBTW1DLFdBQVcsR0FBR25DLEtBQUssQ0FBQ29DLEtBQUssQ0FBQyxDQUFDLENBQUNDLFlBQVksQ0FBQ1IsRUFBRSxDQUFDO0lBQ2xELE1BQU10SCxJQUFJLEdBQUc4RixjQUFjLENBQUM4QixXQUFXLEVBQUVsQyxPQUFPLENBQUM7SUFDakRRLEdBQUcsQ0FBQzZCLFdBQVcsQ0FBQy9ILElBQUksQ0FBQztFQUN6QixDQUFDLENBQUM7O0VBRUYsT0FBT2tHLEdBQUc7QUFDZCxDQUFDOztBQUVNLE1BQU04QixHQUFHLEdBQUc7RUFDZnhDLEtBQUssRUFBRUEsS0FBSztFQUNaUyxPQUFPLEVBQUVBLE9BQU87RUFDaEJILGNBQWMsRUFBR0EsY0FBYztFQUMvQlksZ0JBQWdCLEVBQUVBO0FBQ3RCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9FZGl0MkQvU3ZnLmpzP2I2N2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2lyY2xlLCBQb2x5QmFzZSwgUGF0aCwgRWRnZVR5cGUsIEVsbGlwc2VBcmNQYXJhbXMgfSBmcm9tICcuL0VkaXRTaGFwZXMuanMnO1xuaW1wb3J0IHsgTWF0aDJEIH0gZnJvbSAnLi9NYXRoMkQuanMnO1xuXG5sZXQgZG9tUGFyc2VyID0gbnVsbDtcblxuLy8gU1ZHIChkZSlzZXJpYWxpemF0aW9uIGZvciBFZGl0U2hhcGVzXG5cbi8vIFVybCBvZiBYTUwtTmFtZXNwYWNlIGZvciBTVkdcbmNvbnN0IFN2Z05zID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiO1xuXG5jb25zdCBleHA0ID0gTWF0aC5wb3coMTAsIDQpO1xuY29uc3QgbGltaXREaWdpdHMgPSAodmFsdWUsIGRpZ2l0cyA9IG51bGwpID0+IHtcbiAgICBpZiAoIXZhbHVlIHx8IGRpZ2l0cyA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIC8vIGxpa2UgdmFsdWUudG9GaXhlZCgpLCBidXQgcmVtb3ZpbmcgdHJhaWxpbmcgemVyb3NcbiAgICBjb25zdCBleHAgPSBkaWdpdHMgPT09IDQgPyBleHA0IDogTWF0aC5wb3coMTAsIGRpZ2l0cyk7XG4gICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUgKiBleHApIC8gZXhwO1xufTtcblxuY29uc3QgZG9tVG9DaXJjbGUgPSAoY2lyY2xlTm9kZSkgPT4ge1xuXG4gICAgaWYgKCFjaXJjbGVOb2RlLmhhc0F0dHJpYnV0ZXMgfHwgIWNpcmNsZU5vZGUuaGFzQXR0cmlidXRlcygpKSB7XG4gICAgICAgIHRocm93ICdObyBhdHRyaWJ1dGVzIGF2YWlsYWJsZSBvbiB0aGUgPGNpcmNsZS8+IG5vZGUnO1xuICAgIH1cbiAgICBjb25zdCBjaXJjbGUgPSBuZXcgQ2lyY2xlKCk7XG4gICAgZm9yIChsZXQgaSA9IGNpcmNsZU5vZGUuYXR0cmlidXRlcy5sZW5ndGggLSAxIDsgaSA+PSAwIDsgaS0tKSB7XG4gICAgICAgIGxldCBhdHRyID0gY2lyY2xlTm9kZS5hdHRyaWJ1dGVzW2ldO1xuICAgICAgICBzd2l0Y2ggKGF0dHIubmFtZSl7XG4gICAgICAgICAgICBjYXNlICdjeCc6XG4gICAgICAgICAgICAgICAgY2lyY2xlLmNlbnRlclggPSBwYXJzZUZsb2F0KGF0dHIudmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY3knOlxuICAgICAgICAgICAgICAgIGNpcmNsZS5jZW50ZXJZID0gcGFyc2VGbG9hdChhdHRyLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3InOlxuICAgICAgICAgICAgICAgIGNpcmNsZS5yYWRpdXMgPSBwYXJzZUZsb2F0KGF0dHIudmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjaXJjbGU7XG59O1xuXG5jb25zdCBjaXJjbGVUb1N2ZyA9IChjaXJjbGUsIGRpZ2l0cyA9IG51bGwsIHN0eWxlUG9zdEZpeCA9ICcnKSA9PiB7XG4gICAgcmV0dXJuIGA8Y2lyY2xlIGN4PVwiJHtsaW1pdERpZ2l0cyhjaXJjbGUuY2VudGVyWCwgZGlnaXRzKX1cIiBjeT1cIiR7bGltaXREaWdpdHMoY2lyY2xlLmNlbnRlclksIGRpZ2l0cyl9XCIgcj1cIiR7bGltaXREaWdpdHMoY2lyY2xlLnJhZGl1cywgZGlnaXRzKX0ke3N0eWxlUG9zdEZpeH1cIi8+YDtcbn07XG5cbmNvbnN0IGRvbVRvUGF0aCA9IChwYXRoTm9kZSkgPT4ge1xuXG4gICAgY29uc3QgZCA9IHBhdGhOb2RlLmdldEF0dHJpYnV0ZSgnZCcpO1xuICAgIGlmICghZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlUGF0aChkKTtcbn1cblxuLy8gRm9yIGNsb3NlZCBwYXRocywgcmVtb3ZlIGxhc3QgcG9pbnQgb2YgZWFjaCBsb29wIGlmIGl0IGlzIGp1c3QgYSByZXBldGl0aW9uIG9mIHRoZSBzdGFydCB2ZXJ0ZXguXG5jb25zdCByZW1vdmVEdXBsaWNhdGVMb29wRW5kUG9pbnRzID0gKHBhdGgpID0+IHtcblxuICAgIC8vIEJlemllciBhcHBsaWVkIHRvIHRoZSBsYXN0IHBvaW50IHdpbGwgY3JlYXRlIGFuIGFkZGl0aW9uYWwgcG9pbnQgd2hpY2ggaXMgZXF1YWwgdG8gdGhlIGVuZHBvaW50IHRvIGNsb3NlIHRoZSBwYXRoXG4gICAgLy8gc2VlIFBhdGgudG9TVkdQYXRoKCkuIFBhdGggaXMgYWx3YXlzIGNsb3NlZCwgdGhlcmVmb3JlIHdlIGNhbiByZW1vdmUgdGhlIGR1cGxpY2F0ZSBlbmQgcG9pbnQuXG4gICAgaWYgKHBhdGguaXNDbG9zZWQpIHtcbiAgICAgICAgbGV0IHBTdGFydCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gICAgICAgIGxldCBwRW5kICAgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuICAgICAgICBjb25zdCBsb29wQ291bnQgPSBwYXRoLmxvb3BDb3VudDtcbiAgICAgICAgZm9yIChsZXQgbD0wOyBsPGxvb3BDb3VudDsgbCsrKSB7XG5cbiAgICAgICAgICAgIC8vIHNraXAgaW52YWxpZCBsb29wc1xuICAgICAgICAgICAgY29uc3QgbGFzdEluZGV4ID0gcGF0aC5nZXRWZXJ0ZXhDb3VudChsKSAtIDE7XG4gICAgICAgICAgICBpZiAobGFzdEluZGV4IDwgMSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBnZXQgc3RhcnQvZW5kXG4gICAgICAgICAgICBwU3RhcnQgPSBwYXRoLmdldFBvaW50KDAsIGwsIHBTdGFydCk7XG4gICAgICAgICAgICBwRW5kICAgPSBwYXRoLmdldFBvaW50KGxhc3RJbmRleCwgbCwgcEVuZCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gTWF0aDJELnBvaW50RGVsdGEocFN0YXJ0LCBwRW5kLCAwKTtcbiAgICAgICAgICAgIGlmICghZGVsdGEpIHtcbiAgICAgICAgICAgICAgICBwYXRoLnJlbW92ZVBvaW50KGxhc3RJbmRleCwgbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH1cbn1cblxuY29uc3QgcGFyc2VQYXRoID0gKHN2Z1BhdGgpID0+IHtcbiAgICAvLyBzcGxpdCBhdCBhbGwgY2hhcnMgYnV0IGtlZXAgdGhlIGNoYXIgdXNpbmcgcG9zaXRpdmUgbG9vayBhaGVhZFxuICAgIC8vIHNhbXBsZSBwYXlsb2FkIGZvciBwYXRoIGQgPSBNIDEzLjg4Miw0Ljg1OTIgTCAxNC42NzU3LDQuNzM4IEwgMTMuOTY2OCw0LjQ4OTYgTCAxNC4wMDUsNC40ODk2IEMgMTUuMzIxMSw1LjQ1NjcsMTQuNzksMy4xNTk5LDE0LjY2MjQsNC4xNTUgTCAxMy45MTg5LDMuODk0NSBMIDEzLjkxODksMy44IEwgMTQuNjIzNCwzLjc1MTYgWlxuICAgIC8vIHJlc3VsdHMgaW50byBsaXN0IHdpdGggZ2x5cGggd2l0aCBwb3NpdGlvbiBhcnJheTpcbiAgICAvLyBbJ00gMTMuODgyLDQuODU5MicsICdMIDE0LjY3NTcsNC43MzgnLCAnTCAxMy45NjY4LDQuNDg5NicsICdMIDE0LjAwNSw0LjQ4OTYnLCAnQyAxNS4zMjExLDUuNDU2NywxNC43OSwzLjE1OTksMTQuNjYyNCw0LjE1NScsICdMIDEzLjkxODksMy44OTQ1JywgJ0wgMTMuOTE4OSwzLjgnLCAnTCAxNC42MjM0LDMuNzUxNicsICdaJ11cbiAgICBjb25zdCBwb2ludFN0cmluZ3MgPSBzdmdQYXRoLnNwbGl0KC8gKD89W2EtekEtWl0pL2dpKTtcbiAgICBjb25zdCB2YWxpZENoYXJzID0gXCJNTEhWQ1pBXCI7XG5cbiAgICAvLyBSZXVzZWQgcGVyIGN5Y2xlXG4gICAgY29uc3QgZWxsaXBzZVBhcmFtcyA9IG5ldyBFbGxpcHNlQXJjUGFyYW1zKCk7XG4gICAgY29uc3QgbmV4dFBvaW50ID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuICAgIC8vIHRoZSBjdXJyZW50IGxvb3AgdGhhdCB3ZSBhcmUgYWRkaW5nIGVkZ2VzIHRvXG4gICAgbGV0IGxvb3BJbmRleCA9IDA7XG5cbiAgICBjb25zdCBwYXRoID0gbmV3IFBhdGgoKTtcblxuICAgIGZvciAobGV0IGk9MDsgaTxwb2ludFN0cmluZ3MubGVuZ3RoOyBpKyspIHtcblxuICAgICAgICAvLyBDaGVjayBmb3IgdW5leHBlY3RlZCBjaGFyYWN0ZXJzXG4gICAgICAgIGNvbnN0IHBvaW50U3RyaW5nID0gcG9pbnRTdHJpbmdzW2ldO1xuICAgICAgICBpZiAodmFsaWRDaGFycy5pbmRleE9mKHBvaW50U3RyaW5nWzBdKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRocm93IGBcXFwiJHtwb2ludFN0cmluZ1swXX1cXFwiIGlzIG5vdCBhIHN1cHBvcnRlZCBvciBpbnZhbGlkIGdseXBoOiAke3BvaW50U3RyaW5nfWA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzZWdtZW50SW5kZXggPSBwYXRoLmdldFZlcnRleENvdW50KGxvb3BJbmRleCkgLSAxO1xuXG4gICAgICAgIC8vIERldGVybWluZSBlZGdlIHR5cGUsIHBvc2l0aW9uLCBhbmQgZXh0cmEgcGFyYW1zIGZvciBhcmNzXG4gICAgICAgIGxldCB2YWx1ZSA9IHBvaW50U3RyaW5nLnN1YnN0cmluZygxKTtcbiAgICAgICAgc3dpdGNoIChwb2ludFN0cmluZ1swXSl7XG4gICAgICAgICAgICBjYXNlICdNJzpcbiAgICAgICAgICAgICAgICAvLyBzdGFydCBuZXcgbG9vcFxuICAgICAgICAgICAgICAgIGxvb3BJbmRleCA9IHBhdGgubmV4dEZyZWVMb29wKCk7XG4gICAgICAgICAgICBjYXNlICdMJzpcbiAgICAgICAgICAgICAgICBsZXQgY29vcmRzID0gdmFsdWUuc3BsaXQoJywnKTtcbiAgICAgICAgICAgICAgICBuZXh0UG9pbnQueCA9IHBhcnNlRmxvYXQoY29vcmRzWzBdKTtcbiAgICAgICAgICAgICAgICBuZXh0UG9pbnQueSA9IHBhcnNlRmxvYXQoY29vcmRzWzFdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0gnOlxuICAgICAgICAgICAgICAgIG5leHRQb2ludC54ID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdWJzpcbiAgICAgICAgICAgICAgICBuZXh0UG9pbnQueSA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQyc6XG5cbiAgICAgICAgICAgICAgICAvLyB0b2tlbml6ZSBwYXJhbXNcbiAgICAgICAgICAgICAgICBjb25zdCBiZXppZXJDb29yZHMgPSB2YWx1ZS5zcGxpdCgnLCcpO1xuXG4gICAgICAgICAgICAgICAgLy8gZ2V0IHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgbmV4dFBvaW50LnggPSBwYXJzZUZsb2F0KGJlemllckNvb3Jkc1s0XSk7XG4gICAgICAgICAgICAgICAgbmV4dFBvaW50LnkgPSBwYXJzZUZsb2F0KGJlemllckNvb3Jkc1s1XSk7XG5cbiAgICAgICAgICAgICAgICAvLyBnZXQgYmV6aWVyIHBhcmFtc1xuICAgICAgICAgICAgICAgIGNvbnN0IGNwMXggPSBwYXJzZUZsb2F0KGJlemllckNvb3Jkc1swXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY3AxeSA9IHBhcnNlRmxvYXQoYmV6aWVyQ29vcmRzWzFdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjcDJ4ID0gcGFyc2VGbG9hdChiZXppZXJDb29yZHNbMl0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNwMnkgPSBwYXJzZUZsb2F0KGJlemllckNvb3Jkc1szXSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2VnbWVudEluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5zZXRCZXppZXJBcmMoc2VnbWVudEluZGV4LCBjcDF4LCBjcDF5LCBjcDJ4LCBjcDJ5LCBsb29wSW5kZXgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NWRyBQYXJzZSBlcnJvcjogUGF0aCBpcyBub3QgZXhwZWN0ZWQgdG8gc3RhcnQgd2l0aCBcIkNcIiBjb21tYW5kJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICAgICAgICAvLyB0b2tlbml6ZSBwYXJhbXNcbiAgICAgICAgICAgICAgICBjb25zdCBzcmMgPSB2YWx1ZS5zcGxpdCgnLCcpO1xuXG4gICAgICAgICAgICAgICAgLy8gZ2V0IHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgbmV4dFBvaW50LnggPSBwYXJzZUZsb2F0KHNyY1s1XSk7XG4gICAgICAgICAgICAgICAgbmV4dFBvaW50LnkgPSBwYXJzZUZsb2F0KHNyY1s2XSk7XG5cbiAgICAgICAgICAgICAgICAvLyByZWFkIGVsbGlwc2UgcGFyYW1zLlxuICAgICAgICAgICAgICAgIGVsbGlwc2VQYXJhbXMucnggICAgICAgICAgID0gcGFyc2VGbG9hdChzcmNbMF0pO1xuICAgICAgICAgICAgICAgIGVsbGlwc2VQYXJhbXMucnkgICAgICAgICAgID0gcGFyc2VGbG9hdChzcmNbMV0pO1xuICAgICAgICAgICAgICAgIGVsbGlwc2VQYXJhbXMucm90YXRpb24gICAgID0gcGFyc2VGbG9hdChzcmNbMl0pO1xuICAgICAgICAgICAgICAgIGVsbGlwc2VQYXJhbXMubGFyZ2VBcmNGbGFnID0gQm9vbGVhbihwYXJzZUZsb2F0KHNyY1szXSkpO1xuICAgICAgICAgICAgICAgIGVsbGlwc2VQYXJhbXMuc3dlZXBGbGFnICAgID0gQm9vbGVhbihwYXJzZUZsb2F0KHNyY1s0XSkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNlZ21lbnRJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGguc2V0RWxsaXBzZUFyYyhzZWdtZW50SW5kZXgsIGVsbGlwc2VQYXJhbXMsIGxvb3BJbmRleCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignU1ZHIFBhcnNlIGVycm9yOiBQYXRoIGlzIG5vdCBleHBlY3RlZCB0byBzdGFydCB3aXRoIFwiQVwiIGNvbW1hbmQnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1onOlxuICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBkb25lXG4gICAgICAgICAgICAgICAgcGF0aC5pc0Nsb3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgbmV4dCBwb2ludFxuICAgICAgICBwYXRoLmFkZFBvaW50KG5leHRQb2ludC54LCBuZXh0UG9pbnQueSwgbG9vcEluZGV4KTtcbiAgICB9XG5cbiAgICByZW1vdmVEdXBsaWNhdGVMb29wRW5kUG9pbnRzKHBhdGgpO1xuXG4gICAgcmV0dXJuIHBhdGg7XG59XG5cbmNvbnN0IHBhdGhUb1N2Z1BhdGggPSAocGF0aCwgcHJlY2lzaW9uID0gMCwgZGlnaXRzID0gbnVsbCkgPT4ge1xuICAgIGlmICghcGF0aC52ZXJ0ZXhDb3VudCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLy8gU2hvcnRjdXQgZm9yIHJlc3RyaWN0aW5nIG51bWJlciBvZiBkaWdpdHNcbiAgICBjb25zdCBsZCA9IChudW0pID0+IGxpbWl0RGlnaXRzKG51bSwgZGlnaXRzKTtcblxuICAgIGxldCBzdmdQYXRoID0gW107XG5cbiAgICAvLyByZXVzZWQgcGVyIGxvb3AgY3ljbGVcbiAgICBsZXQgcCAgICAgID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcbiAgICBsZXQgcFByZXYgID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcbiAgICBsZXQgcGFyYW1zID0gbmV3IEVsbGlwc2VBcmNQYXJhbXMoKTtcbiAgICBsZXQgY3AxICAgID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcbiAgICBsZXQgY3AyICAgID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuICAgIGNvbnN0IGxvb3BDb3VudCA9IHBhdGgubG9vcENvdW50O1xuICAgIGZvciAobGV0IGw9MDsgbDxsb29wQ291bnQ7IGwrKykge1xuXG4gICAgICAgIC8vIEFkZCBNIGNvbW1hbmQgZm9yIGZpcnN0IHZlcnRleFxuICAgICAgICBjb25zdCBlZGdlQ291bnQgPSBwYXRoLmdldEVkZ2VDb3VudChsKTtcbiAgICAgICAgaWYgKGVkZ2VDb3VudCA+IDApIHtcbiAgICAgICAgICAgIHAgPSBwYXRoLmdldFBvaW50KDAsIGwsIHApO1xuICAgICAgICAgICAgc3ZnUGF0aC5wdXNoKGBNICR7bGQocC54KX0sJHtsZChwLnkpfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPGVkZ2VDb3VudDsgaSsrKSB7XG5cbiAgICAgICAgICAgIC8vIFZlcnRleCBpIGlzIHRoZSBlbmQgcG9pbnQgb2Ygc2VnbWVudCBpLTEsIHdoaWNoIGRlZmluZXMgZWRnZSB0eXBlIGFuZCBhcmMgcGFyYW1zXG4gICAgICAgICAgICBjb25zdCBzZWdtZW50SW5kZXggPSBpO1xuICAgICAgICAgICAgY29uc3QgZWRnZVR5cGUgPSBwYXRoLmlzUGF0aCgpID8gcGF0aC5nZXRFZGdlVHlwZShzZWdtZW50SW5kZXgsIGwpIDogRWRnZVR5cGUuTGluZTtcblxuICAgICAgICAgICAgLy8gZ2V0IG5leHQgcG9pbnQuIE5vdGU6IElmIHRoZSBwYXRoIGlzIGNsb3NlZCwgcCB3aWxsIGJlIHRoZSBzdGFydCB2ZXJ0ZXggb2YgdGhlIGxvb3AgYWdhaW4uXG4gICAgICAgICAgICBjb25zdCBlZGdlRW5kVmVydGV4ID0gcGF0aC5uZXh0SW5kZXgoc2VnbWVudEluZGV4LCBsKTtcbiAgICAgICAgICAgIHAgPSBwYXRoLmdldFBvaW50KGVkZ2VFbmRWZXJ0ZXgsIGwsIHApO1xuXG4gICAgICAgICAgICBsZXQgdmFsdWUgPSAnJztcbiAgICAgICAgICAgIHN3aXRjaChlZGdlVHlwZSkge1xuXG4gICAgICAgICAgICAgICAgY2FzZSBFZGdlVHlwZS5FbGxpcHNlOlxuICAgICAgICAgICAgICAgICAgICBwYXJhbXMgPSBwYXRoLmdldEVsbGlwc2VBcmNQYXJhbXMoc2VnbWVudEluZGV4LCBsLCBwYXJhbXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgYm9vbGVhbiBmbGFncyB0byAxLzBcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFyZ2VBcmMgPSBwYXJhbXMubGFyZ2VBcmNGbGFnID8gMSA6IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN3ZWVwICAgID0gcGFyYW1zLnN3ZWVwRmxhZyA/IDEgOiAwO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYEEgJHtwYXJhbXMucnh9LCR7cGFyYW1zLnJ5fSwke3BhcmFtcy5yb3RhdGlvbn0sJHtsYXJnZUFyY30sJHtzd2VlcH0sJHtwLnh9LCR7cC55fWA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBFZGdlVHlwZS5CZXppZXI6XG4gICAgICAgICAgICAgICAgICAgIGNwMSA9IHBhdGguZ2V0Q29udHJvbFBvaW50KHNlZ21lbnRJbmRleCwgMSwgbCwgY3AxKTtcbiAgICAgICAgICAgICAgICAgICAgY3AyID0gcGF0aC5nZXRDb250cm9sUG9pbnQoc2VnbWVudEluZGV4LCAyLCBsLCBjcDIpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGBDICR7bGQoY3AxLngsIGRpZ2l0cyl9LCR7bGQoY3AxLnksIGRpZ2l0cyl9LCR7bGQoY3AyLngsIGRpZ2l0cyl9LCR7bGQoY3AyLnksIGRpZ2l0cyl9LCR7bGQocC54LCBkaWdpdHMpfSwke2xkKHAueSwgZGlnaXRzKX1gO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBza2lwIGVtcHR5L2R1cGxpY2F0ZSBwb2ludHNcbiAgICAgICAgICAgICAgICAgICAgcFByZXYgPSBwYXRoLmdldFBvaW50KGksIGwsIHBQcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRlbHRhID0gTWF0aDJELnBvaW50RGVsdGEocFByZXYsIHAsIGRpZ2l0cyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGVsdGEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoZGVsdGEueCkgPD0gcHJlY2lzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGBWICR7bGQocC55KX1gO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGRlbHRhLnkpIDw9IHByZWNpc2lvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBgSCAke2xkKHAueCl9YDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYEwgJHtsZChwLngpfSwke2xkKHAueSl9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRm9yIGNsb3NlZCBwYXRocywgdGhlIGVkZ2UgZW5kIHZlcnRleCB3aWxsIGJlIDAuIFJlcGVhdGluZyB0aGUgc3RhcnQgdmVydGV4IGlzIG9ubHkgbmVjZXNzYXJ5IGlmIHRoZVxuICAgICAgICAgICAgLy8gbGFzdCBzZWdtZW50IGlzIGFuIGFyYzogV2l0aG91dCByZXBlYXRpbmcgdGhlIHN0YXJ0IHZlcnRleCBhdCB0aGUgbG9vcCBlbmQsIHdlIGNvdWxkIG5vdCBzdG9yZSB0aGUgYXJjIHBhcmFtZXRlcnMgaW4gU1ZHLlxuICAgICAgICAgICAgY29uc3QgaXNSZXBlYXRlZFN0YXJ0VmVydGV4ID0gKGVkZ2VFbmRWZXJ0ZXggPT09IDApO1xuICAgICAgICAgICAgaWYgKGlzUmVwZWF0ZWRTdGFydFZlcnRleCAmJiBlZGdlVHlwZSA9PT0gRWRnZVR5cGUuTGluZSkge1xuICAgICAgICAgICAgICAgIC8vIExhc3Qgc2VnbWVudCBvZiB0aGUgbG9vcCBpcyBhIGxpbmUuIFdlIGRvbid0IG5lZWQgdG8gcmVwZWF0IHRoZSBzdGFydCB2ZXJ0ZXggaW4gdGhpcyBjYXNlLlxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdmdQYXRoLnB1c2godmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9yIGEgY2xvc2VkIHBhdGgsIHJlcGVhdCB0aGUgZW5kIHZlcnRleC4gVGhpcyBpcyBuZWNlc3NhcnkgdG8gcHJlc2VydmUgYXJjIHBhcmFtc1xuICAgICAgICBpZiAocGF0aC5pc0Nsb3NlZCkge1xuICAgICAgICAgICAgLy8gY2xvc2UgbG9vcFxuICAgICAgICAgICAgc3ZnUGF0aC5wdXNoKCdaJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3ZnUGF0aDtcbn07XG5cbi8vIEV4dHJhY3QgZGljdGlvbmFyeSBvZiBTVkcgc3R5bGUgYXR0cmlidXRlcyBmcm9tIEVkaXQyRCBzdHlsZVxuLy8gIEBwYXJhbSB7U3R5bGV9IHN0eWxlXG4vLyAgQHJldHVybnMge09iamVjdH1cbmNvbnN0IGdldFN2Z1N0eWxlQXR0cmlidXRlcyA9IChzdHlsZSkgPT4ge1xuXG4gICAgY29uc3QgdGFyZ2V0ID0ge307XG4gICAgdGFyZ2V0W1wic3Ryb2tlXCJdICAgICAgICAgPSBzdHlsZS5saW5lQ29sb3I7XG4gICAgdGFyZ2V0W1wiZmlsbFwiXSAgICAgICAgICAgPSBzdHlsZS5maWxsQ29sb3I7XG4gICAgdGFyZ2V0W1wic3Ryb2tlLXdpZHRoXCJdICAgPSBzdHlsZS5saW5lV2lkdGg7XG5cbiAgICAvLyBvbWl0IG9wYWNpdGllcyBpZiB0aGV5IGFyZSAxIChkZWZhdWx0KVxuICAgIGlmIChzdHlsZS5saW5lQWxwaGEgIT0gMSkgdGFyZ2V0W1wic3Ryb2tlLW9wYWNpdHlcIl0gPSBzdHlsZS5saW5lQWxwaGE7XG4gICAgaWYgKHN0eWxlLmZpbGxBbHBoYSAhPSAxKSB0YXJnZXRbXCJmaWxsLW9wYWNpdHlcIl0gICA9IHN0eWxlLmZpbGxBbHBoYTtcblxuICAgIHJldHVybiB0YXJnZXQ7XG59XG5cbi8vIENvbnZlcnRzIHRoZSByZXN1bHQgb2YgZ2V0U3ZnU3R5bGVBdHRyaWJ1dGVzIHRvIGEgc3RyaW5nIHBvc3RmaXguIFNpbmNlIHdlIGFwcGVuZCBpdFxuLy8gdG8gb3RoZXIgYXR0cmlidXRlcywgaXQgY29udGFpbnMgYSBwcmVjZWRpbmcgc3BhY2UuXG4vLyBFeGFtcGxlOiAnIHN0cm9rZT1cInJnYigwLDAsMClcIiBmaWxsPVwicmdiKDAsMCwyNTUpXCIgLi4uICdcbmNvbnN0IGdldEF0dHJpYnV0ZVBvc3RGaXggPSAoYXR0cmlicykgPT4ge1xuICAgIGxldCBzdHIgPSAnJztcbiAgICBmb3IgKGxldCBrZXkgaW4gYXR0cmlicykge1xuICAgICAgICBzdHIgKz0gYCAke2tleX09XCIke2F0dHJpYnNba2V5XX1cImA7XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG59O1xuXG4vLyBBcHBseSBhbGwgZ2l2ZW4gYXR0cmlidXRlcyB0byBhIERvbSBFbGVtZW50XG5jb25zdCBhcHBseUF0dHJpYnV0ZXMgPSAoZG9tRWxlbWVudCwgYXR0cmlicykgPT4ge1xuICAgIGZvciAobGV0IGtleSBpbiBhdHRyaWJzKSB7XG4gICAgICAgIGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlic1trZXldKTtcbiAgICB9XG59O1xuXG4vLyBDb252ZXJ0cyBhIHNoYXBlIGludG8gYSBzdHJpbmcgZGVzY3JpYmluZyBhbiBTVkcgcGF0aC4gTm90ZSB0aGF0IChmb3IgbGVnYWN5IHJlYXNvbnMpLFxuLy8gc3R5bGUgYXR0cmlidXRlcyBhcmUgb25seSBleHBvcnRlZCBpZiBzcGVjaWZpZWQgaW4gb3B0aW9ucy5cbi8vXG4vLyBAcGFyYW0ge1NoYXBlfSBzaGFwZVxuLy8gQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuLy8gQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnByZWNpc2lvbj0wXSAgICAgICAtIGFjY3VyYWN5IGZvciB1bmlmeWluZyBkdXBsaWNhdGUgcG9pbnRzXG4vLyBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZGlnaXM9MF0gICAgICAgICAgIC0gbnVtYmVyIG9mIGRpZ2l0cyBmb3IgbnVtYmVyIHN0cmluZ3Ncbi8vIEBwYXJhbSB7Ym9vbH0gICBbb3B0aW9ucy5leHBvcnRTdHlsZT1mYWxzZV0gLSBJZiB0cnVlLCB3ZSBhbHNvIGV4cG9ydCBzdHlsZSBhdHRyaWJ1dGVzXG4vL1xuLy8gTm90ZTogV2UgY3VycmVudGx5IGhhdmUgdG8gdXNlIGZ1bmN0aW9uIHN5bnRheCwgb3RoZXJ3aXNlIHdlIGNhbm5vdCB1c2UgJ2FyZ3VtZW50cycgZm9yIHRoZSBsZWdhY3kgZmFsbGJhY2sgYmVsb3cuXG5jb25zdCB0b1N2ZyA9IGZ1bmN0aW9uKHNoYXBlLCBvcHRpb25zKSB7XG5cbiAgICBsZXQgcHJlY2lzaW9uICAgPSAob3B0aW9ucyAmJiBvcHRpb25zLnByZWNpc2lvbikgICB8fCAwO1xuICAgIGxldCBkaWdpdHMgICAgICA9IChvcHRpb25zICYmIG9wdGlvbnMuZGlnaXRzKSAgICAgIHx8IG51bGw7IC8vIG1lYW5zIG5vIGxpbWl0YXRpb24gb2YgZGlnaXRzXG4gICAgbGV0IGV4cG9ydFN0eWxlID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5leHBvcnRTdHlsZSkgfHwgZmFsc2U7XG5cbiAgICAvLyBhZGQgc3R5bGUgcGFyYW1zIGlmIHdhbnRlZFxuICAgIGxldCBzdHlsZVBvc3RmaXggPSAnJztcbiAgICBpZiAoZXhwb3J0U3R5bGUpIHtcbiAgICAgICAgY29uc3QgYXR0cmlicyA9IGdldFN2Z1N0eWxlQXR0cmlidXRlcyhzaGFwZS5zdHlsZSk7XG4gICAgICAgIHN0eWxlUG9zdGZpeCA9IGdldEF0dHJpYnV0ZVBvc3RGaXgoYXR0cmlicyk7XG4gICAgfVxuXG4gICAgLy8gTGVnYWN5OiBLZWVwIG9sZCBjb2RlIHVzaW5nIHRoYXQgc3RpbGwgcGFzc2VzIHByZWNpc2lvbi9kaWdpdHMgc2VwYXJhdGVseVxuICAgIC8vIFRvZG86IFJlbW92ZSB0aGlzIHdoZW4gY2hlY2tlZCB3aXRoIGNsaWVudHMuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1sxXSA9PSAnbnVtYmVyJykgcHJlY2lzaW9uID0gYXJndW1lbnRzWzFdO1xuICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1syXSA9PSAnbnVtYmVyJykgZGlnaXRzID0gYXJndW1lbnRzWzJdO1xuICAgIH1cblxuICAgIGlmIChzaGFwZSBpbnN0YW5jZW9mIENpcmNsZSkge1xuICAgICAgICByZXR1cm4gY2lyY2xlVG9Tdmcoc2hhcGUsIGRpZ2l0cywgc3R5bGVQb3N0Zml4KTtcbiAgICB9XG5cbiAgICBpZiAoIShzaGFwZSBpbnN0YW5jZW9mIFBvbHlCYXNlKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdTVkcgc2VyaWFsaXphdGlvbiBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIHNoYXBlOiAnLCBzaGFwZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBQb2x5QmFzZSBhbmQgUGF0aCBhcmUgdHJhbnNsYXRlZCB0byBTVkcgUGF0aFxuICAgIGxldCBwYXRoID0gcGF0aFRvU3ZnUGF0aChzaGFwZSwgcHJlY2lzaW9uLCBkaWdpdHMpO1xuXG4gICAgcmV0dXJuIGA8cGF0aCBkPVwiJHtwYXRoLmpvaW4oJyAnKX1cIiR7c3R5bGVQb3N0Zml4fS8+YDtcbn07XG5cbi8vIHNlZSB0b1N2ZyBmb3Igb3B0aW9ucy5cbmNvbnN0IGNyZWF0ZVN2Z1NoYXBlID0gKHNoYXBlLCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgcHJlY2lzaW9uICAgPSAob3B0aW9ucyAmJiBvcHRpb25zLnByZWNpc2lvbikgICB8fCAwO1xuICAgIGNvbnN0IGRpZ2l0cyAgICAgID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5kaWdpdHMpICAgICAgfHwgMDtcbiAgICBjb25zdCBleHBvcnRTdHlsZSA9IChvcHRpb25zICYmIG9wdGlvbnMuZXhwb3J0U3R5bGUpIHx8IHRydWU7XG5cbiAgICAvLyBUb2RvOiBzdXBwb3J0IGNpcmNsZXMgYW5kIG90aGVyIHNoYXBlcyBpZiBhbnlvbmUgbmVlZHMgaXQuXG4gICAgaWYgKCEoc2hhcGUgaW5zdGFuY2VvZiBQb2x5QmFzZSkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignU1ZHIHNlcmlhbGl6YXRpb24gbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBzaGFwZTogJywgc2hhcGUpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTdmdOcywgJ3BhdGgnKTtcbiAgICBwYXRoLnNldEF0dHJpYnV0ZSgnZCcsIHBhdGhUb1N2Z1BhdGgoc2hhcGUsIHByZWNpc2lvbiwgZGlnaXRzKSk7XG5cbiAgICBpZiAoZXhwb3J0U3R5bGUpIHtcbiAgICAgICAgY29uc3QgYXR0cmlicyA9IGdldFN2Z1N0eWxlQXR0cmlidXRlcyhzaGFwZS5zdHlsZSk7XG4gICAgICAgIGFwcGx5QXR0cmlidXRlcyhwYXRoLCBhdHRyaWJzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGF0aDtcbn07XG5cbi8vIEBwYXJhbSB7c3RyaW5nfSAgc3ZnIC0gZS5nLiAnPHBhdGggZD1cIk0gMTMuODgyLDQuODU5MiBMIDE0LjY3NTcsNC43MzhcIi8+J1xuY29uc3QgZnJvbVN2ZyA9IChzdmcpID0+IHtcbiAgICBpZiAoIXN2Zykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gaW5pdCBvbiBmaXJzdCB1c2VcbiAgICBkb21QYXJzZXIgPSBkb21QYXJzZXIgfHwgbmV3IERPTVBhcnNlcigpO1xuXG4gICAgY29uc3QgZG9tID0gZG9tUGFyc2VyLnBhcnNlRnJvbVN0cmluZyhzdmcsICdhcHBsaWNhdGlvbi94bWwnKTtcblxuICAgIGlmIChkb20uY2hpbGROb2Rlcy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgdGhyb3cgJ0Z1bmN0aW9uIGRvZXMgb25seSBzdXBwb3J0IHN2ZyB3aXRoIGEgc2luZ2xlIGVsZW1lbnQ6IHBhdGgsIGNpcmNsZSc7XG4gICAgfVxuICAgIGNvbnN0IG5vZGUgPSBkb20uZmlyc3RDaGlsZDtcbiAgICBpZiAobm9kZS5ub2RlTmFtZSA9PT0gJ2NpcmNsZScpIHtcbiAgICAgICAgcmV0dXJuIGRvbVRvQ2lyY2xlKG5vZGUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlLm5vZGVOYW1lID09PSAncGF0aCcpIHtcbiAgICAgICAgcmV0dXJuIGRvbVRvUGF0aChub2RlKTtcbiAgICB9XG5cbiAgICB0aHJvdyBgVW5zdXBwb3J0ZWQgc3ZnIG5vZGUgdHlwZTogJHtub2RlLm5vZGVOYW1lfWBcbn1cblxuLy8gQ29udmVydHMgc2V2ZXJhbCBzaGFwZXMgdG8gYW4gU1ZHIGVsZW1lbnQuXG4vLyAgQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuLy8gIEBwYXJhbSB7Qm94Mn0gW2RzdEJveF0gLSBJZiBzcGVjaWZpZWQsIHNoYXBlcyBjYW4gYmUgcmVzY2FsZWQgdG8gZml0IGludG8gYSBkZXN0aW5hdGlvbiBib3ggZm9yIHRoZSBnaXZlbiBTVkcuXG4vLyAgQHBhcmFtIHtCb3gyfSBbc3JjQm94XSAtIEJ5IGRlZmF1bHQsIHNyY0JveCBpcyB0aGUgdW5pb24gb2YgYWxsIHNoYXBlQm94ZXMuIFNoYXBlcyBhcmUgdW5pZm9ybWx5IHJlc2NhbGVkIGZyb20gc3JjQm94IGludG8gZHN0Qm94LlxuLy8gc2VlIHRvU3ZnKCkgZm9yIG90aGVyIG9wdGlvbnNcbmNvbnN0IGNyZWF0ZVN2Z0VsZW1lbnQgPSAoc2hhcGVzLCBvcHRpb25zID0ge30pID0+IHtcblxuICAgIC8vIGdldCBzdW1tZWQgYm94IG9mIGFsbCBzaGFwZXNcbiAgICBsZXQgc3VtQm94ID0gbmV3IFRIUkVFLkJveDIoKTtcbiAgICBzaGFwZXMuZm9yRWFjaChzaGFwZSA9PiBzdW1Cb3gudW5pb24oc2hhcGUuZ2V0QkJveCgpKSk7XG5cbiAgICBsZXQgc3JjQm94ID0gb3B0aW9ucy5zcmNCb3ggfHwgc3VtQm94O1xuICAgIGxldCBkc3RCb3ggPSBvcHRpb25zLmRzdEJveCB8fCBzdW1Cb3g7XG5cbiAgICAvLyBOb3RlIHRoYXQgd2UgYWx3YXlzIGhhdmUgdG8gc3dhcCB5LWF4aXMsIGJlY2F1c2UgdGhlIHktYXhpcyBkaXJlY3Rpb24gaXMgZmxpcHBlZCB3aGVuXG4gICAgLy8gY29udmVydGluZyAyRCB3b3JsZCBjb29yZHMgaW4gTE1WIHRvIFNWRy5cbiAgICBjb25zdCBzY2FsZU9wdGlvbnMgPSB7XG4gICAgICAgIHByZXNlcnZlQXNwZWN0OiB0cnVlLFxuICAgICAgICBmbGlwWTogdHJ1ZVxuICAgIH07XG4gICAgY29uc3QgdGYgPSBNYXRoMkQuZ2V0Rml0VG9Cb3hUcmFuc2Zvcm0oc3JjQm94LCBkc3RCb3gsIHNjYWxlT3B0aW9ucyk7XG5cbiAgICAvLyBnZXQgcmVxdWlyZWQgc2l6ZSBvZiBzdmdcbiAgICBsZXQgd2lkdGggID0gZHN0Qm94Lm1heC54IC0gZHN0Qm94Lm1pbi54O1xuICAgIGxldCBoZWlnaHQgPSBkc3RCb3gubWF4LnkgLSBkc3RCb3gubWluLnk7XG5cbiAgICAvLyBjcmVhdGUgc3ZnIHJvb3QgZWxlbWVudFxuICAgIGNvbnN0IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTdmdOcywgJ3N2ZycpO1xuICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHdpZHRoKTtcbiAgICBzdmcuc2V0QXR0cmlidXRlKCd3aWR0aCcsIGhlaWdodCk7XG5cbiAgICAvLyByZXNjYWxlICYgY29udmVydCBlYWNoIHNoYXBlXG4gICAgc2hhcGVzLmZvckVhY2goc2hhcGUgPT4ge1xuICAgICAgICBjb25zdCBzY2FsZWRTaGFwZSA9IHNoYXBlLmNsb25lKCkuYXBwbHlNYXRyaXg0KHRmKTtcbiAgICAgICAgY29uc3QgcGF0aCA9IGNyZWF0ZVN2Z1NoYXBlKHNjYWxlZFNoYXBlLCBvcHRpb25zKTtcbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKHBhdGgpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHN2Zztcbn07XG5cbmV4cG9ydCBjb25zdCBTdmcgPSB7XG4gICAgdG9Tdmc6IHRvU3ZnLFxuICAgIGZyb21Tdmc6IGZyb21TdmcsXG4gICAgY3JlYXRlU3ZnU2hhcGUgOiBjcmVhdGVTdmdTaGFwZSxcbiAgICBjcmVhdGVTdmdFbGVtZW50OiBjcmVhdGVTdmdFbGVtZW50XG59O1xuIl0sIm5hbWVzIjpbIkNpcmNsZSIsIlBvbHlCYXNlIiwiUGF0aCIsIkVkZ2VUeXBlIiwiRWxsaXBzZUFyY1BhcmFtcyIsIk1hdGgyRCIsImRvbVBhcnNlciIsIlN2Z05zIiwiZXhwNCIsIk1hdGgiLCJwb3ciLCJsaW1pdERpZ2l0cyIsInZhbHVlIiwiZGlnaXRzIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiZXhwIiwicm91bmQiLCJkb21Ub0NpcmNsZSIsImNpcmNsZU5vZGUiLCJoYXNBdHRyaWJ1dGVzIiwiY2lyY2xlIiwiaSIsImF0dHJpYnV0ZXMiLCJhdHRyIiwibmFtZSIsImNlbnRlclgiLCJwYXJzZUZsb2F0IiwiY2VudGVyWSIsInJhZGl1cyIsImNpcmNsZVRvU3ZnIiwic3R5bGVQb3N0Rml4IiwiZG9tVG9QYXRoIiwicGF0aE5vZGUiLCJkIiwiZ2V0QXR0cmlidXRlIiwicGFyc2VQYXRoIiwicmVtb3ZlRHVwbGljYXRlTG9vcEVuZFBvaW50cyIsInBhdGgiLCJpc0Nsb3NlZCIsInBTdGFydCIsIlRIUkVFIiwiVmVjdG9yMiIsInBFbmQiLCJsb29wQ291bnQiLCJsIiwibGFzdEluZGV4IiwiZ2V0VmVydGV4Q291bnQiLCJnZXRQb2ludCIsImRlbHRhIiwicG9pbnREZWx0YSIsInJlbW92ZVBvaW50Iiwic3ZnUGF0aCIsInBvaW50U3RyaW5ncyIsInNwbGl0IiwidmFsaWRDaGFycyIsImVsbGlwc2VQYXJhbXMiLCJuZXh0UG9pbnQiLCJsb29wSW5kZXgiLCJwb2ludFN0cmluZyIsImluZGV4T2YiLCJzZWdtZW50SW5kZXgiLCJzdWJzdHJpbmciLCJuZXh0RnJlZUxvb3AiLCJjb29yZHMiLCJ4IiwieSIsImJlemllckNvb3JkcyIsImNwMXgiLCJjcDF5IiwiY3AyeCIsImNwMnkiLCJzZXRCZXppZXJBcmMiLCJjb25zb2xlIiwiZXJyb3IiLCJzcmMiLCJyeCIsInJ5Iiwicm90YXRpb24iLCJsYXJnZUFyY0ZsYWciLCJCb29sZWFuIiwic3dlZXBGbGFnIiwic2V0RWxsaXBzZUFyYyIsImFkZFBvaW50IiwicGF0aFRvU3ZnUGF0aCIsInByZWNpc2lvbiIsInZlcnRleENvdW50IiwibGQiLCJudW0iLCJwIiwicFByZXYiLCJwYXJhbXMiLCJjcDEiLCJjcDIiLCJlZGdlQ291bnQiLCJnZXRFZGdlQ291bnQiLCJwdXNoIiwiZWRnZVR5cGUiLCJpc1BhdGgiLCJnZXRFZGdlVHlwZSIsIkxpbmUiLCJlZGdlRW5kVmVydGV4IiwibmV4dEluZGV4IiwiRWxsaXBzZSIsImdldEVsbGlwc2VBcmNQYXJhbXMiLCJsYXJnZUFyYyIsInN3ZWVwIiwiQmV6aWVyIiwiZ2V0Q29udHJvbFBvaW50IiwiYWJzIiwiaXNSZXBlYXRlZFN0YXJ0VmVydGV4IiwiZ2V0U3ZnU3R5bGVBdHRyaWJ1dGVzIiwic3R5bGUiLCJ0YXJnZXQiLCJsaW5lQ29sb3IiLCJmaWxsQ29sb3IiLCJsaW5lV2lkdGgiLCJsaW5lQWxwaGEiLCJmaWxsQWxwaGEiLCJnZXRBdHRyaWJ1dGVQb3N0Rml4IiwiYXR0cmlicyIsInN0ciIsImtleSIsImFwcGx5QXR0cmlidXRlcyIsImRvbUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJ0b1N2ZyIsInNoYXBlIiwib3B0aW9ucyIsImV4cG9ydFN0eWxlIiwic3R5bGVQb3N0Zml4Iiwiam9pbiIsImNyZWF0ZVN2Z1NoYXBlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJmcm9tU3ZnIiwic3ZnIiwiRE9NUGFyc2VyIiwiZG9tIiwicGFyc2VGcm9tU3RyaW5nIiwiY2hpbGROb2RlcyIsIm5vZGUiLCJmaXJzdENoaWxkIiwibm9kZU5hbWUiLCJjcmVhdGVTdmdFbGVtZW50Iiwic2hhcGVzIiwic3VtQm94IiwiQm94MiIsImZvckVhY2giLCJ1bmlvbiIsImdldEJCb3giLCJzcmNCb3giLCJkc3RCb3giLCJzY2FsZU9wdGlvbnMiLCJwcmVzZXJ2ZUFzcGVjdCIsImZsaXBZIiwidGYiLCJnZXRGaXRUb0JveFRyYW5zZm9ybSIsIndpZHRoIiwibWF4IiwibWluIiwiaGVpZ2h0Iiwic2NhbGVkU2hhcGUiLCJjbG9uZSIsImFwcGx5TWF0cml4NCIsImFwcGVuZENoaWxkIiwiU3ZnIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Edit2D/Svg.js\n");

/***/ }),

/***/ "./extensions/Edit2D/TangentGizmo.js":
/*!*******************************************!*\
  !*** ./extensions/Edit2D/TangentGizmo.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TangentGizmo)\n/* harmony export */ });\n/* harmony import */ var _Math2D_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Math2D.js */ \"./extensions/Edit2D/Math2D.js\");\n/* harmony import */ var _EditShapes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EditShapes.js */ \"./extensions/Edit2D/EditShapes.js\");\n/* harmony import */ var _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CanvasGizmo.js */ \"./extensions/Edit2D/CanvasGizmo.js\");\n/* harmony import */ var _Actions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Actions.js */ \"./extensions/Edit2D/Actions.js\");\n// A tangent gizmo is a dashed line with two vertex gizmos at the end.\n// It is used to control tangents for Bezier arcs.\n\n\n\n\n\n\nconst tangentGizmoName = (vertexIndex, loopIndex, sideIndex) => {\n  return `TangentGizmo-$loopIndex-$vertexIndex-$sideIndex`;\n};\n\n// Indicates which endpoint of the tangent is being dragged\nconst DragIndex = {\n  None: -1, // Nothing dragged\n  Start: 0, // Dragging start point\n  End: 1 // Dragging end point\n};\n\nconst tmpVec = new THREE.Vector2();\n\nclass TangentGizmo {\n\n  constructor(path, index, loopIndex, layer, gizmoLayer, gizmoManager, undoStack) {\n\n    this.path = path;\n    this.gizmoLayer = gizmoLayer;\n    this.layer = layer;\n    this.gizmoManager = gizmoManager; // Used to track which gizmo is under mouse\n    this.undoStack = undoStack;\n\n    // index of the vertex whose tangent we control\n    this.index = index;\n    this.loopIndex = loopIndex;\n\n    // dashed tangent line\n    this.line = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_1__.Polyline();\n    this.lineVisible = false;\n\n    // configure style of dashed line\n    this.line.style.isScreenSpace = true;\n    this.line.style.lineColor = 'rgb(255, 0, 255)',\n    this.line.style.lineWidth = 1.0,\n    this.line.style.lineStyle = 10;\n    this.line.style.lineAlpha = 1.0;\n\n    // VertexGizmos at both ends of the tangent line\n    this.vertexGizmo1 = new _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_2__.VertexGizmo(this.gizmoLayer, 0, 0, tangentGizmoName(index, loopIndex, 1));\n    this.vertexGizmo2 = new _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_2__.VertexGizmo(this.gizmoLayer, 0, 0, tangentGizmoName(index, loopIndex, 2));\n\n    // Hide vertex gizmos until we have proper positions\n    this.vertexGizmo1.setVisible(false);\n    this.vertexGizmo2.setVisible(false);\n\n    // Start/end vertex of tangent Gizmo\n    this.pStart = new THREE.Vector2();\n    this.pEnd = new THREE.Vector2();\n\n    // Add this to main layer. This triggers this.update() on layer updates to respond to\n    // vertex position changes.\n    this.layer.addCanvasGizmo(this);\n\n    // 0: dragging startPoint, 1: dragging endPoint, 2: nothing dragged\n    this.dragIndex = DragIndex.None;\n\n    // Last tracked dragging position for currently dragged vertex\n    this.lastDragPos = new THREE.Vector2(); // in layer coords\n\n    // When dragging vertices, we store the offset (in layer-coords) between\n    // the accurate click position and the center of the clicked vertex gizmo\n    this.dragOffset = new THREE.Vector2(0, 0); // in pixels\n\n    // An action used during a drag operation\n    this.action = null;\n\n    this.update();\n  }\n\n  dtor() {\n    this.setVisible(false);\n    this.layer.removeCanvasGizmo(this);\n  }\n\n  setVisible(visible) {\n\n    this.vertexGizmo1.setVisible(visible);\n    this.vertexGizmo2.setVisible(visible);\n\n    // Show/Hide tangent line gizmo\n    if (visible !== this.lineVisible) {\n      if (visible) {\n        this.gizmoLayer.addShape(this.line);\n      } else {\n        this.gizmoLayer.removeShape(this.line);\n      }\n    }\n    this.lineVisible = visible;\n  }\n\n  update() {\n\n    // get index of previous edge (ending at the vertex)\n    const prevEdgeIndex = this.path.edgeBeforeVertex(this.index, this.loopIndex);\n    const nextEdgeIndex = this.path.edgeAfterVertex(this.index, this.loopIndex);\n\n    // prev/next edge may not exist in case of polyline paths\n    const prevEdgeExists = prevEdgeIndex !== -1;\n    const nextEdgeExists = nextEdgeIndex !== -1;\n\n    // Check which of the adjacent edges are arcs\n    const prevIsArc = prevEdgeExists && this.path.isBezierArc(prevEdgeIndex, this.loopIndex);\n    const nextIsArc = nextEdgeExists && this.path.isBezierArc(nextEdgeIndex, this.loopIndex);\n\n    // If none of the edges is an Arc, just hide all gizmos\n    if (!prevIsArc && !nextIsArc) {\n      this.setVisible(false);\n      return;\n    }\n\n    // Compute both endpoints of tangent gizmo\n    const p = this.path.getPoint(this.index, this.loopIndex, tmpVec);\n    if (nextIsArc) {\n\n      // End point is first control point of the arc starting at p\n      this.pEnd = this.path.getControlPoint(this.index, 1, this.loopIndex, this.pEnd);\n\n      // In general, the start point would be cp2 of the previous arc.\n      // But, we enforce tangents to be identical for previous edge and next edge.\n      // Therefore, we obtain the other endpoint by mirroring the tangent of the leaving edge\n      // on point p\n      _Math2D_js__WEBPACK_IMPORTED_MODULE_0__.Math2D.mirrorPointOnPoint(this.pEnd, p, this.pStart);\n    } else {\n      // Only previous edge is an arc: We have to obtain the tangent from\n      // control point 2 of the previous edge.\n      this.pStart = this.path.getControlPoint(prevEdgeIndex, 2, this.loopIndex, this.pStart);\n\n      _Math2D_js__WEBPACK_IMPORTED_MODULE_0__.Math2D.mirrorPointOnPoint(this.pStart, p, this.pEnd);\n    }\n\n    // update vertex gizmos\n    this.vertexGizmo1.setPosition(this.pStart.x, this.pStart.y);\n    this.vertexGizmo2.setPosition(this.pEnd.x, this.pEnd.y);\n\n    // update line gizmo\n    this.line.makeLine(this.pStart.x, this.pStart.y, this.pEnd.x, this.pEnd.y);\n    this.gizmoLayer.update();\n\n    this.setVisible(true);\n  }\n\n  // Apply modified tangent endpoints after dragging on of the tangent vertices.\n  //\n  // @param {Vector2} pStart, pEnd - Tangent start/end point in layer coords.\n  updateAction(pStart, pEnd) {\n\n    // Init action for the current drag-interaction (if needed)\n    if (!this.action) {\n      this.action = new _Actions_js__WEBPACK_IMPORTED_MODULE_3__.Actions.ChangeBezierTangent(this.layer, this.path, this.index, this.loopIndex, pStart, pEnd);\n    } else {\n      // However, for this specific action, it makes no difference.\n      this.action.setTangent(pStart, pEnd);\n    }\n\n    // In general, we need to undo() an action before calling redo() again. But, for this specific action,\n    // it does not make a difference, because we are overwriting the same control points.\n    this.action.redo();\n\n    // update gizmos\n    this.update();\n  }\n\n  // @param {Vector2} newPos - new position in layer coords\n  onStartVertexMoved(startPos) {\n    // get new tangent end point by mirroring on vertex position\n    const center = this.path.getPoint(this.index, this.loopIndex);\n    const endPos = _Math2D_js__WEBPACK_IMPORTED_MODULE_0__.Math2D.mirrorPointOnPoint(startPos, center);\n\n    this.updateAction(startPos, endPos);\n  }\n\n  // @param {Vector2} startPos - new position in layer coords\n  onEndVertexMoved(endPos) {\n    // get new tangent start point by mirroring on vertex position\n    const center = this.path.getPoint(this.index, this.loopIndex);\n    const startPos = _Math2D_js__WEBPACK_IMPORTED_MODULE_0__.Math2D.mirrorPointOnPoint(endPos, center);\n\n    this.updateAction(startPos, endPos);\n  }\n\n  // @param {DragIndex} dragIndex\n  startDrag(canvasX, canvasY, dragIndex) {\n\n    this.dragIndex = dragIndex;\n\n    // Store offset between exact mouse pos and the vertex we are dragging\n    const vpos = dragIndex === DragIndex.Start ? this.pStart : this.pEnd;\n    const vposScreen = this.layer.layerToCanvas(vpos.x, vpos.y);\n    this.dragOffset.set(vposScreen.x - canvasX, vposScreen.y - canvasY);\n\n    this.lastDragPos.copy(vpos);\n  }\n\n  // process last position and finish dragging\n  endDrag(canvasX, canvasY) {\n    this.moveDrag(canvasX, canvasY);\n\n    // Mark action as finished. It is important to do this before running the action,\n    // because PolygonEditTool cancels unfinished dragging operations on external actions.\n    this.dragIndex = DragIndex.None;\n\n    // apply the action\n    if (this.action) {\n      this.undoStack.run(this.action);\n      this.action = null;\n    }\n  }\n\n  cancelDrag() {\n    if (!this.isDragging()) {\n      return;\n    }\n\n    this.dragIndex = DragIndex.None;\n    this.action && this.action.undo();\n    this.action = null;\n  }\n\n  moveDrag(canvasX, canvasY) {\n\n    // Compute canvas position of the gizmo after drag\n    // Note that the vertex we are dragging does not always match exactly with the mouse position.\n    // E.g., we may have picked the bottom-left boundary of a vertex gizmo at drag-start.\n    const x = canvasX + this.dragOffset.x;\n    const y = canvasY + this.dragOffset.y;\n    const p = this.layer.canvasToLayer(x, y);\n\n    // Move tangent vertex by dx/dy\n    if (this.dragIndex === DragIndex.Start) {\n      this.onStartVertexMoved(p);\n    } else if (this.dragIndex === DragIndex.End) {\n      this.onEndVertexMoved(p);\n    }\n\n    this.layer.update();\n  }\n\n  // @returns {bool} true if dragging started\n  onButtonDown(canvasX, canvasY) {\n\n    const startDragged = this.gizmoManager.isUnderMouse(this.vertexGizmo1);\n    const endDragged = this.gizmoManager.isUnderMouse(this.vertexGizmo2);\n\n    if (!startDragged && !endDragged) {\n      return false;\n    }\n\n    const dragIndex = startDragged ? DragIndex.Start : DragIndex.End;\n    this.startDrag(canvasX, canvasY, dragIndex);\n\n    return true;\n  }\n\n  isDragging() {\n    return this.dragIndex !== DragIndex.None;\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUc7SUFDVCxPQUFPLElBQUksQ0FBQ2hELFNBQVMsS0FBSzdCLFNBQVMsQ0FBQ0MsSUFBSTtFQUM1QztBQUNKLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9FZGl0MkQvVGFuZ2VudEdpem1vLmpzPzc3YzkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQSB0YW5nZW50IGdpem1vIGlzIGEgZGFzaGVkIGxpbmUgd2l0aCB0d28gdmVydGV4IGdpem1vcyBhdCB0aGUgZW5kLlxuLy8gSXQgaXMgdXNlZCB0byBjb250cm9sIHRhbmdlbnRzIGZvciBCZXppZXIgYXJjcy5cblxuaW1wb3J0IHsgTWF0aDJEIH0gZnJvbSAnLi9NYXRoMkQuanMnO1xuaW1wb3J0IHsgUG9seWxpbmUgfSBmcm9tICcuL0VkaXRTaGFwZXMuanMnO1xuaW1wb3J0IHsgVmVydGV4R2l6bW8gfSBmcm9tICcuL0NhbnZhc0dpem1vLmpzJztcbmltcG9ydCB7IEFjdGlvbnMgfSBmcm9tICcuL0FjdGlvbnMuanMnO1xuXG5jb25zdCB0YW5nZW50R2l6bW9OYW1lID0gKHZlcnRleEluZGV4LCBsb29wSW5kZXgsIHNpZGVJbmRleCkgPT4ge1xuICAgIHJldHVybiBgVGFuZ2VudEdpem1vLSRsb29wSW5kZXgtJHZlcnRleEluZGV4LSRzaWRlSW5kZXhgO1xufVxuXG4vLyBJbmRpY2F0ZXMgd2hpY2ggZW5kcG9pbnQgb2YgdGhlIHRhbmdlbnQgaXMgYmVpbmcgZHJhZ2dlZFxuY29uc3QgRHJhZ0luZGV4ID0ge1xuICAgIE5vbmU6IC0xLCAvLyBOb3RoaW5nIGRyYWdnZWRcbiAgICBTdGFydDogMCwgLy8gRHJhZ2dpbmcgc3RhcnQgcG9pbnRcbiAgICBFbmQ6ICAgMSAgLy8gRHJhZ2dpbmcgZW5kIHBvaW50XG59O1xuXG5jb25zdCB0bXBWZWMgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYW5nZW50R2l6bW8ge1xuXG4gICAgY29uc3RydWN0b3IocGF0aCwgaW5kZXgsIGxvb3BJbmRleCwgbGF5ZXIsIGdpem1vTGF5ZXIsIGdpem1vTWFuYWdlciwgdW5kb1N0YWNrKSB7XG5cbiAgICAgICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICAgICAgdGhpcy5naXptb0xheWVyID0gZ2l6bW9MYXllcjtcbiAgICAgICAgdGhpcy5sYXllciA9IGxheWVyO1xuICAgICAgICB0aGlzLmdpem1vTWFuYWdlciA9IGdpem1vTWFuYWdlcjsgLy8gVXNlZCB0byB0cmFjayB3aGljaCBnaXptbyBpcyB1bmRlciBtb3VzZVxuICAgICAgICB0aGlzLnVuZG9TdGFjayA9IHVuZG9TdGFjaztcblxuICAgICAgICAvLyBpbmRleCBvZiB0aGUgdmVydGV4IHdob3NlIHRhbmdlbnQgd2UgY29udHJvbFxuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMubG9vcEluZGV4ID0gbG9vcEluZGV4O1xuXG4gICAgICAgIC8vIGRhc2hlZCB0YW5nZW50IGxpbmVcbiAgICAgICAgdGhpcy5saW5lID0gbmV3IFBvbHlsaW5lKCk7XG4gICAgICAgIHRoaXMubGluZVZpc2libGUgPSBmYWxzZTtcblxuICAgICAgICAvLyBjb25maWd1cmUgc3R5bGUgb2YgZGFzaGVkIGxpbmVcbiAgICAgICAgdGhpcy5saW5lLnN0eWxlLmlzU2NyZWVuU3BhY2UgPSB0cnVlO1xuICAgICAgICB0aGlzLmxpbmUuc3R5bGUubGluZUNvbG9yID0gJ3JnYigyNTUsIDAsIDI1NSknLFxuICAgICAgICB0aGlzLmxpbmUuc3R5bGUubGluZVdpZHRoID0gMS4wLFxuICAgICAgICB0aGlzLmxpbmUuc3R5bGUubGluZVN0eWxlID0gMTA7XG4gICAgICAgIHRoaXMubGluZS5zdHlsZS5saW5lQWxwaGEgPSAxLjA7XG5cbiAgICAgICAgLy8gVmVydGV4R2l6bW9zIGF0IGJvdGggZW5kcyBvZiB0aGUgdGFuZ2VudCBsaW5lXG4gICAgICAgIHRoaXMudmVydGV4R2l6bW8xID0gbmV3IFZlcnRleEdpem1vKHRoaXMuZ2l6bW9MYXllciwgMCwgMCwgdGFuZ2VudEdpem1vTmFtZShpbmRleCwgbG9vcEluZGV4LCAxKSk7XG4gICAgICAgIHRoaXMudmVydGV4R2l6bW8yID0gbmV3IFZlcnRleEdpem1vKHRoaXMuZ2l6bW9MYXllciwgMCwgMCwgdGFuZ2VudEdpem1vTmFtZShpbmRleCwgbG9vcEluZGV4LCAyKSk7XG5cbiAgICAgICAgLy8gSGlkZSB2ZXJ0ZXggZ2l6bW9zIHVudGlsIHdlIGhhdmUgcHJvcGVyIHBvc2l0aW9uc1xuICAgICAgICB0aGlzLnZlcnRleEdpem1vMS5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgdGhpcy52ZXJ0ZXhHaXptbzIuc2V0VmlzaWJsZShmYWxzZSk7XG5cbiAgICAgICAgLy8gU3RhcnQvZW5kIHZlcnRleCBvZiB0YW5nZW50IEdpem1vXG4gICAgICAgIHRoaXMucFN0YXJ0ID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcbiAgICAgICAgdGhpcy5wRW5kICAgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXG4gICAgICAgIC8vIEFkZCB0aGlzIHRvIG1haW4gbGF5ZXIuIFRoaXMgdHJpZ2dlcnMgdGhpcy51cGRhdGUoKSBvbiBsYXllciB1cGRhdGVzIHRvIHJlc3BvbmQgdG9cbiAgICAgICAgLy8gdmVydGV4IHBvc2l0aW9uIGNoYW5nZXMuXG4gICAgICAgIHRoaXMubGF5ZXIuYWRkQ2FudmFzR2l6bW8odGhpcyk7XG5cbiAgICAgICAgLy8gMDogZHJhZ2dpbmcgc3RhcnRQb2ludCwgMTogZHJhZ2dpbmcgZW5kUG9pbnQsIDI6IG5vdGhpbmcgZHJhZ2dlZFxuICAgICAgICB0aGlzLmRyYWdJbmRleCA9IERyYWdJbmRleC5Ob25lO1xuXG4gICAgICAgIC8vIExhc3QgdHJhY2tlZCBkcmFnZ2luZyBwb3NpdGlvbiBmb3IgY3VycmVudGx5IGRyYWdnZWQgdmVydGV4XG4gICAgICAgIHRoaXMubGFzdERyYWdQb3MgPSBuZXcgVEhSRUUuVmVjdG9yMigpOyAvLyBpbiBsYXllciBjb29yZHNcblxuICAgICAgICAvLyBXaGVuIGRyYWdnaW5nIHZlcnRpY2VzLCB3ZSBzdG9yZSB0aGUgb2Zmc2V0IChpbiBsYXllci1jb29yZHMpIGJldHdlZW5cbiAgICAgICAgLy8gdGhlIGFjY3VyYXRlIGNsaWNrIHBvc2l0aW9uIGFuZCB0aGUgY2VudGVyIG9mIHRoZSBjbGlja2VkIHZlcnRleCBnaXptb1xuICAgICAgICB0aGlzLmRyYWdPZmZzZXQgPSBuZXcgVEhSRUUuVmVjdG9yMigwLDApOyAvLyBpbiBwaXhlbHNcblxuICAgICAgICAvLyBBbiBhY3Rpb24gdXNlZCBkdXJpbmcgYSBkcmFnIG9wZXJhdGlvblxuICAgICAgICB0aGlzLmFjdGlvbiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICBkdG9yKCkge1xuICAgICAgICB0aGlzLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICB0aGlzLmxheWVyLnJlbW92ZUNhbnZhc0dpem1vKHRoaXMpO1xuICAgIH1cblxuICAgIHNldFZpc2libGUodmlzaWJsZSkge1xuXG4gICAgICAgIHRoaXMudmVydGV4R2l6bW8xLnNldFZpc2libGUodmlzaWJsZSk7XG4gICAgICAgIHRoaXMudmVydGV4R2l6bW8yLnNldFZpc2libGUodmlzaWJsZSk7XG5cbiAgICAgICAgLy8gU2hvdy9IaWRlIHRhbmdlbnQgbGluZSBnaXptb1xuICAgICAgICBpZiAodmlzaWJsZSAhPT0gdGhpcy5saW5lVmlzaWJsZSkge1xuICAgICAgICAgICAgaWYgKHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdpem1vTGF5ZXIuYWRkU2hhcGUodGhpcy5saW5lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5naXptb0xheWVyLnJlbW92ZVNoYXBlKHRoaXMubGluZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5saW5lVmlzaWJsZSA9IHZpc2libGU7XG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuXG4gICAgICAgIC8vIGdldCBpbmRleCBvZiBwcmV2aW91cyBlZGdlIChlbmRpbmcgYXQgdGhlIHZlcnRleClcbiAgICAgICAgY29uc3QgcHJldkVkZ2VJbmRleCA9IHRoaXMucGF0aC5lZGdlQmVmb3JlVmVydGV4KHRoaXMuaW5kZXgsIHRoaXMubG9vcEluZGV4KTtcbiAgICAgICAgY29uc3QgbmV4dEVkZ2VJbmRleCA9IHRoaXMucGF0aC5lZGdlQWZ0ZXJWZXJ0ZXgodGhpcy5pbmRleCwgdGhpcy5sb29wSW5kZXgpO1xuXG4gICAgICAgIC8vIHByZXYvbmV4dCBlZGdlIG1heSBub3QgZXhpc3QgaW4gY2FzZSBvZiBwb2x5bGluZSBwYXRoc1xuICAgICAgICBjb25zdCBwcmV2RWRnZUV4aXN0cyA9IChwcmV2RWRnZUluZGV4ICE9PSAtMSk7XG4gICAgICAgIGNvbnN0IG5leHRFZGdlRXhpc3RzID0gKG5leHRFZGdlSW5kZXggIT09IC0xKTtcblxuICAgICAgICAvLyBDaGVjayB3aGljaCBvZiB0aGUgYWRqYWNlbnQgZWRnZXMgYXJlIGFyY3NcbiAgICAgICAgY29uc3QgcHJldklzQXJjID0gcHJldkVkZ2VFeGlzdHMgJiYgdGhpcy5wYXRoLmlzQmV6aWVyQXJjKHByZXZFZGdlSW5kZXgsIHRoaXMubG9vcEluZGV4KTtcbiAgICAgICAgY29uc3QgbmV4dElzQXJjID0gbmV4dEVkZ2VFeGlzdHMgJiYgdGhpcy5wYXRoLmlzQmV6aWVyQXJjKG5leHRFZGdlSW5kZXgsIHRoaXMubG9vcEluZGV4KTtcblxuICAgICAgICAvLyBJZiBub25lIG9mIHRoZSBlZGdlcyBpcyBhbiBBcmMsIGp1c3QgaGlkZSBhbGwgZ2l6bW9zXG4gICAgICAgIGlmICghcHJldklzQXJjICYmICFuZXh0SXNBcmMpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb21wdXRlIGJvdGggZW5kcG9pbnRzIG9mIHRhbmdlbnQgZ2l6bW9cbiAgICAgICAgY29uc3QgcCA9IHRoaXMucGF0aC5nZXRQb2ludCh0aGlzLmluZGV4LCB0aGlzLmxvb3BJbmRleCwgdG1wVmVjKTtcbiAgICAgICAgaWYgKG5leHRJc0FyYykge1xuXG4gICAgICAgICAgICAvLyBFbmQgcG9pbnQgaXMgZmlyc3QgY29udHJvbCBwb2ludCBvZiB0aGUgYXJjIHN0YXJ0aW5nIGF0IHBcbiAgICAgICAgICAgIHRoaXMucEVuZCA9IHRoaXMucGF0aC5nZXRDb250cm9sUG9pbnQodGhpcy5pbmRleCwgMSwgdGhpcy5sb29wSW5kZXgsIHRoaXMucEVuZCk7XG5cbiAgICAgICAgICAgIC8vIEluIGdlbmVyYWwsIHRoZSBzdGFydCBwb2ludCB3b3VsZCBiZSBjcDIgb2YgdGhlIHByZXZpb3VzIGFyYy5cbiAgICAgICAgICAgIC8vIEJ1dCwgd2UgZW5mb3JjZSB0YW5nZW50cyB0byBiZSBpZGVudGljYWwgZm9yIHByZXZpb3VzIGVkZ2UgYW5kIG5leHQgZWRnZS5cbiAgICAgICAgICAgIC8vIFRoZXJlZm9yZSwgd2Ugb2J0YWluIHRoZSBvdGhlciBlbmRwb2ludCBieSBtaXJyb3JpbmcgdGhlIHRhbmdlbnQgb2YgdGhlIGxlYXZpbmcgZWRnZVxuICAgICAgICAgICAgLy8gb24gcG9pbnQgcFxuICAgICAgICAgICAgTWF0aDJELm1pcnJvclBvaW50T25Qb2ludCh0aGlzLnBFbmQsIHAsIHRoaXMucFN0YXJ0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE9ubHkgcHJldmlvdXMgZWRnZSBpcyBhbiBhcmM6IFdlIGhhdmUgdG8gb2J0YWluIHRoZSB0YW5nZW50IGZyb21cbiAgICAgICAgICAgIC8vIGNvbnRyb2wgcG9pbnQgMiBvZiB0aGUgcHJldmlvdXMgZWRnZS5cbiAgICAgICAgICAgIHRoaXMucFN0YXJ0ID0gdGhpcy5wYXRoLmdldENvbnRyb2xQb2ludChwcmV2RWRnZUluZGV4LCAyLCB0aGlzLmxvb3BJbmRleCwgdGhpcy5wU3RhcnQpO1xuXG4gICAgICAgICAgICBNYXRoMkQubWlycm9yUG9pbnRPblBvaW50KHRoaXMucFN0YXJ0LCBwLCB0aGlzLnBFbmQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIHZlcnRleCBnaXptb3NcbiAgICAgICAgdGhpcy52ZXJ0ZXhHaXptbzEuc2V0UG9zaXRpb24odGhpcy5wU3RhcnQueCwgdGhpcy5wU3RhcnQueSk7XG4gICAgICAgIHRoaXMudmVydGV4R2l6bW8yLnNldFBvc2l0aW9uKHRoaXMucEVuZC54LCAgIHRoaXMucEVuZC55KTtcblxuICAgICAgICAvLyB1cGRhdGUgbGluZSBnaXptb1xuICAgICAgICB0aGlzLmxpbmUubWFrZUxpbmUodGhpcy5wU3RhcnQueCwgdGhpcy5wU3RhcnQueSwgdGhpcy5wRW5kLngsIHRoaXMucEVuZC55KTtcbiAgICAgICAgdGhpcy5naXptb0xheWVyLnVwZGF0ZSgpO1xuXG4gICAgICAgIHRoaXMuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICB9XG5cbiAgICAvLyBBcHBseSBtb2RpZmllZCB0YW5nZW50IGVuZHBvaW50cyBhZnRlciBkcmFnZ2luZyBvbiBvZiB0aGUgdGFuZ2VudCB2ZXJ0aWNlcy5cbiAgICAvL1xuICAgIC8vIEBwYXJhbSB7VmVjdG9yMn0gcFN0YXJ0LCBwRW5kIC0gVGFuZ2VudCBzdGFydC9lbmQgcG9pbnQgaW4gbGF5ZXIgY29vcmRzLlxuICAgIHVwZGF0ZUFjdGlvbihwU3RhcnQsIHBFbmQpIHtcblxuICAgICAgICAvLyBJbml0IGFjdGlvbiBmb3IgdGhlIGN1cnJlbnQgZHJhZy1pbnRlcmFjdGlvbiAoaWYgbmVlZGVkKVxuICAgICAgICBpZiAoIXRoaXMuYWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGlvbiA9IG5ldyBBY3Rpb25zLkNoYW5nZUJlemllclRhbmdlbnQodGhpcy5sYXllciwgdGhpcy5wYXRoLCB0aGlzLmluZGV4LCB0aGlzLmxvb3BJbmRleCwgcFN0YXJ0LCBwRW5kKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEhvd2V2ZXIsIGZvciB0aGlzIHNwZWNpZmljIGFjdGlvbiwgaXQgbWFrZXMgbm8gZGlmZmVyZW5jZS5cbiAgICAgICAgICAgIHRoaXMuYWN0aW9uLnNldFRhbmdlbnQocFN0YXJ0LCBwRW5kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluIGdlbmVyYWwsIHdlIG5lZWQgdG8gdW5kbygpIGFuIGFjdGlvbiBiZWZvcmUgY2FsbGluZyByZWRvKCkgYWdhaW4uIEJ1dCwgZm9yIHRoaXMgc3BlY2lmaWMgYWN0aW9uLFxuICAgICAgICAvLyBpdCBkb2VzIG5vdCBtYWtlIGEgZGlmZmVyZW5jZSwgYmVjYXVzZSB3ZSBhcmUgb3ZlcndyaXRpbmcgdGhlIHNhbWUgY29udHJvbCBwb2ludHMuXG4gICAgICAgIHRoaXMuYWN0aW9uLnJlZG8oKTtcblxuICAgICAgICAvLyB1cGRhdGUgZ2l6bW9zXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLy8gQHBhcmFtIHtWZWN0b3IyfSBuZXdQb3MgLSBuZXcgcG9zaXRpb24gaW4gbGF5ZXIgY29vcmRzXG4gICAgb25TdGFydFZlcnRleE1vdmVkKHN0YXJ0UG9zKSB7XG4gICAgICAgIC8vIGdldCBuZXcgdGFuZ2VudCBlbmQgcG9pbnQgYnkgbWlycm9yaW5nIG9uIHZlcnRleCBwb3NpdGlvblxuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLnBhdGguZ2V0UG9pbnQodGhpcy5pbmRleCwgdGhpcy5sb29wSW5kZXgpO1xuICAgICAgICBjb25zdCBlbmRQb3MgPSBNYXRoMkQubWlycm9yUG9pbnRPblBvaW50KHN0YXJ0UG9zLCBjZW50ZXIpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlQWN0aW9uKHN0YXJ0UG9zLCBlbmRQb3MpO1xuICAgIH1cblxuICAgIC8vIEBwYXJhbSB7VmVjdG9yMn0gc3RhcnRQb3MgLSBuZXcgcG9zaXRpb24gaW4gbGF5ZXIgY29vcmRzXG4gICAgb25FbmRWZXJ0ZXhNb3ZlZChlbmRQb3MpIHtcbiAgICAgICAgLy8gZ2V0IG5ldyB0YW5nZW50IHN0YXJ0IHBvaW50IGJ5IG1pcnJvcmluZyBvbiB2ZXJ0ZXggcG9zaXRpb25cbiAgICAgICAgY29uc3QgY2VudGVyICAgPSB0aGlzLnBhdGguZ2V0UG9pbnQodGhpcy5pbmRleCwgdGhpcy5sb29wSW5kZXgpO1xuICAgICAgICBjb25zdCBzdGFydFBvcyA9IE1hdGgyRC5taXJyb3JQb2ludE9uUG9pbnQoZW5kUG9zLCBjZW50ZXIpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlQWN0aW9uKHN0YXJ0UG9zLCBlbmRQb3MpO1xuICAgIH1cblxuICAgIC8vIEBwYXJhbSB7RHJhZ0luZGV4fSBkcmFnSW5kZXhcbiAgICBzdGFydERyYWcoY2FudmFzWCwgY2FudmFzWSwgZHJhZ0luZGV4KSB7XG5cbiAgICAgICAgdGhpcy5kcmFnSW5kZXggPSBkcmFnSW5kZXg7XG5cbiAgICAgICAgLy8gU3RvcmUgb2Zmc2V0IGJldHdlZW4gZXhhY3QgbW91c2UgcG9zIGFuZCB0aGUgdmVydGV4IHdlIGFyZSBkcmFnZ2luZ1xuICAgICAgICBjb25zdCB2cG9zID0gKGRyYWdJbmRleCA9PT0gRHJhZ0luZGV4LlN0YXJ0KSA/IHRoaXMucFN0YXJ0IDogdGhpcy5wRW5kO1xuICAgICAgICBjb25zdCB2cG9zU2NyZWVuID0gdGhpcy5sYXllci5sYXllclRvQ2FudmFzKHZwb3MueCwgdnBvcy55KTtcbiAgICAgICAgdGhpcy5kcmFnT2Zmc2V0LnNldCh2cG9zU2NyZWVuLnggLSBjYW52YXNYLCB2cG9zU2NyZWVuLnkgLSBjYW52YXNZKTtcblxuICAgICAgICB0aGlzLmxhc3REcmFnUG9zLmNvcHkodnBvcyk7XG4gICAgfVxuXG4gICAgLy8gcHJvY2VzcyBsYXN0IHBvc2l0aW9uIGFuZCBmaW5pc2ggZHJhZ2dpbmdcbiAgICBlbmREcmFnKGNhbnZhc1gsIGNhbnZhc1kpIHtcbiAgICAgICAgdGhpcy5tb3ZlRHJhZyhjYW52YXNYLCBjYW52YXNZKTtcblxuICAgICAgICAvLyBNYXJrIGFjdGlvbiBhcyBmaW5pc2hlZC4gSXQgaXMgaW1wb3J0YW50IHRvIGRvIHRoaXMgYmVmb3JlIHJ1bm5pbmcgdGhlIGFjdGlvbixcbiAgICAgICAgLy8gYmVjYXVzZSBQb2x5Z29uRWRpdFRvb2wgY2FuY2VscyB1bmZpbmlzaGVkIGRyYWdnaW5nIG9wZXJhdGlvbnMgb24gZXh0ZXJuYWwgYWN0aW9ucy5cbiAgICAgICAgdGhpcy5kcmFnSW5kZXggPSBEcmFnSW5kZXguTm9uZTtcblxuICAgICAgICAvLyBhcHBseSB0aGUgYWN0aW9uXG4gICAgICAgIGlmICh0aGlzLmFjdGlvbikge1xuICAgICAgICAgICAgdGhpcy51bmRvU3RhY2sucnVuKHRoaXMuYWN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhbmNlbERyYWcoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0RyYWdnaW5nKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHJhZ0luZGV4ID0gRHJhZ0luZGV4Lk5vbmU7XG4gICAgICAgIHRoaXMuYWN0aW9uICYmIHRoaXMuYWN0aW9uLnVuZG8oKTtcbiAgICAgICAgdGhpcy5hY3Rpb24gPSBudWxsO1xuICAgIH1cblxuICAgIG1vdmVEcmFnKGNhbnZhc1gsIGNhbnZhc1kpIHtcblxuICAgICAgICAvLyBDb21wdXRlIGNhbnZhcyBwb3NpdGlvbiBvZiB0aGUgZ2l6bW8gYWZ0ZXIgZHJhZ1xuICAgICAgICAvLyBOb3RlIHRoYXQgdGhlIHZlcnRleCB3ZSBhcmUgZHJhZ2dpbmcgZG9lcyBub3QgYWx3YXlzIG1hdGNoIGV4YWN0bHkgd2l0aCB0aGUgbW91c2UgcG9zaXRpb24uXG4gICAgICAgIC8vIEUuZy4sIHdlIG1heSBoYXZlIHBpY2tlZCB0aGUgYm90dG9tLWxlZnQgYm91bmRhcnkgb2YgYSB2ZXJ0ZXggZ2l6bW8gYXQgZHJhZy1zdGFydC5cbiAgICAgICAgY29uc3QgeCA9IGNhbnZhc1ggKyB0aGlzLmRyYWdPZmZzZXQueDtcbiAgICAgICAgY29uc3QgeSA9IGNhbnZhc1kgKyB0aGlzLmRyYWdPZmZzZXQueTtcbiAgICAgICAgY29uc3QgcCA9IHRoaXMubGF5ZXIuY2FudmFzVG9MYXllcih4LCB5KTtcblxuICAgICAgICAvLyBNb3ZlIHRhbmdlbnQgdmVydGV4IGJ5IGR4L2R5XG4gICAgICAgIGlmICh0aGlzLmRyYWdJbmRleCA9PT0gRHJhZ0luZGV4LlN0YXJ0KSB7XG4gICAgICAgICAgICB0aGlzLm9uU3RhcnRWZXJ0ZXhNb3ZlZChwKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRyYWdJbmRleCA9PT0gRHJhZ0luZGV4LkVuZCkge1xuICAgICAgICAgICAgdGhpcy5vbkVuZFZlcnRleE1vdmVkKHApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sYXllci51cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvLyBAcmV0dXJucyB7Ym9vbH0gdHJ1ZSBpZiBkcmFnZ2luZyBzdGFydGVkXG4gICAgb25CdXR0b25Eb3duKGNhbnZhc1gsIGNhbnZhc1kpIHtcblxuICAgICAgICBjb25zdCBzdGFydERyYWdnZWQgPSB0aGlzLmdpem1vTWFuYWdlci5pc1VuZGVyTW91c2UodGhpcy52ZXJ0ZXhHaXptbzEpO1xuICAgICAgICBjb25zdCBlbmREcmFnZ2VkICAgPSB0aGlzLmdpem1vTWFuYWdlci5pc1VuZGVyTW91c2UodGhpcy52ZXJ0ZXhHaXptbzIpO1xuXG4gICAgICAgIGlmICghc3RhcnREcmFnZ2VkICYmICFlbmREcmFnZ2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkcmFnSW5kZXggPSBzdGFydERyYWdnZWQgPyBEcmFnSW5kZXguU3RhcnQgOiBEcmFnSW5kZXguRW5kO1xuICAgICAgICB0aGlzLnN0YXJ0RHJhZyhjYW52YXNYLCBjYW52YXNZLCBkcmFnSW5kZXgpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlzRHJhZ2dpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYWdJbmRleCAhPT0gRHJhZ0luZGV4Lk5vbmU7XG4gICAgfVxufTtcblxuIl0sIm5hbWVzIjpbIk1hdGgyRCIsIlBvbHlsaW5lIiwiVmVydGV4R2l6bW8iLCJBY3Rpb25zIiwidGFuZ2VudEdpem1vTmFtZSIsInZlcnRleEluZGV4IiwibG9vcEluZGV4Iiwic2lkZUluZGV4IiwiRHJhZ0luZGV4IiwiTm9uZSIsIlN0YXJ0IiwiRW5kIiwidG1wVmVjIiwiVEhSRUUiLCJWZWN0b3IyIiwiVGFuZ2VudEdpem1vIiwiY29uc3RydWN0b3IiLCJwYXRoIiwiaW5kZXgiLCJsYXllciIsImdpem1vTGF5ZXIiLCJnaXptb01hbmFnZXIiLCJ1bmRvU3RhY2siLCJsaW5lIiwibGluZVZpc2libGUiLCJzdHlsZSIsImlzU2NyZWVuU3BhY2UiLCJsaW5lQ29sb3IiLCJsaW5lV2lkdGgiLCJsaW5lU3R5bGUiLCJsaW5lQWxwaGEiLCJ2ZXJ0ZXhHaXptbzEiLCJ2ZXJ0ZXhHaXptbzIiLCJzZXRWaXNpYmxlIiwicFN0YXJ0IiwicEVuZCIsImFkZENhbnZhc0dpem1vIiwiZHJhZ0luZGV4IiwibGFzdERyYWdQb3MiLCJkcmFnT2Zmc2V0IiwiYWN0aW9uIiwidXBkYXRlIiwiZHRvciIsInJlbW92ZUNhbnZhc0dpem1vIiwidmlzaWJsZSIsImFkZFNoYXBlIiwicmVtb3ZlU2hhcGUiLCJwcmV2RWRnZUluZGV4IiwiZWRnZUJlZm9yZVZlcnRleCIsIm5leHRFZGdlSW5kZXgiLCJlZGdlQWZ0ZXJWZXJ0ZXgiLCJwcmV2RWRnZUV4aXN0cyIsIm5leHRFZGdlRXhpc3RzIiwicHJldklzQXJjIiwiaXNCZXppZXJBcmMiLCJuZXh0SXNBcmMiLCJwIiwiZ2V0UG9pbnQiLCJnZXRDb250cm9sUG9pbnQiLCJtaXJyb3JQb2ludE9uUG9pbnQiLCJzZXRQb3NpdGlvbiIsIngiLCJ5IiwibWFrZUxpbmUiLCJ1cGRhdGVBY3Rpb24iLCJDaGFuZ2VCZXppZXJUYW5nZW50Iiwic2V0VGFuZ2VudCIsInJlZG8iLCJvblN0YXJ0VmVydGV4TW92ZWQiLCJzdGFydFBvcyIsImNlbnRlciIsImVuZFBvcyIsIm9uRW5kVmVydGV4TW92ZWQiLCJzdGFydERyYWciLCJjYW52YXNYIiwiY2FudmFzWSIsInZwb3MiLCJ2cG9zU2NyZWVuIiwibGF5ZXJUb0NhbnZhcyIsInNldCIsImNvcHkiLCJlbmREcmFnIiwibW92ZURyYWciLCJydW4iLCJjYW5jZWxEcmFnIiwiaXNEcmFnZ2luZyIsInVuZG8iLCJjYW52YXNUb0xheWVyIiwib25CdXR0b25Eb3duIiwic3RhcnREcmFnZ2VkIiwiaXNVbmRlck1vdXNlIiwiZW5kRHJhZ2dlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Edit2D/TangentGizmo.js\n");

/***/ }),

/***/ "./extensions/Edit2D/Trackings.js":
/*!****************************************!*\
  !*** ./extensions/Edit2D/Trackings.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Trackings: () => (/* binding */ Trackings)\n/* harmony export */ });\nconst Drag = 'drag';\nconst Click = 'click';\nconst ButtonDown = 'buttonDown';\nconst ButtonUp = 'buttonUp';\n\nconst Trackings = {\n  ButtonDown,\n  ButtonUp,\n  Click,\n  Drag\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL0VkaXQyRC9UcmFja2luZ3MuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE1BQU1BLElBQUksR0FBRyxNQUFNO0FBQ25CLE1BQU1DLEtBQUssR0FBRyxPQUFPO0FBQ3JCLE1BQU1DLFVBQVUsR0FBRyxZQUFZO0FBQy9CLE1BQU1DLFFBQVEsR0FBRyxVQUFVOztBQUVwQixNQUFNQyxTQUFTLEdBQUc7RUFDckJGLFVBQVU7RUFDVkMsUUFBUTtFQUNSRixLQUFLO0VBQ0xEO0FBQ0osQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL0VkaXQyRC9UcmFja2luZ3MuanM/Zjg5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBEcmFnID0gJ2RyYWcnO1xuY29uc3QgQ2xpY2sgPSAnY2xpY2snO1xuY29uc3QgQnV0dG9uRG93biA9ICdidXR0b25Eb3duJztcbmNvbnN0IEJ1dHRvblVwID0gJ2J1dHRvblVwJztcblxuZXhwb3J0IGNvbnN0IFRyYWNraW5ncyA9IHtcbiAgICBCdXR0b25Eb3duLFxuICAgIEJ1dHRvblVwLFxuICAgIENsaWNrLFxuICAgIERyYWcsXG59O1xuXG4iXSwibmFtZXMiOlsiRHJhZyIsIkNsaWNrIiwiQnV0dG9uRG93biIsIkJ1dHRvblVwIiwiVHJhY2tpbmdzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Edit2D/Trackings.js\n");

/***/ }),

/***/ "./extensions/Edit2D/UndoStack.js":
/*!****************************************!*\
  !*** ./extensions/Edit2D/UndoStack.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ UndoStack)\n/* harmony export */ });\n\nconst av = Autodesk.Viewing;\n\nclass UndoStack {\n\n  constructor() {\n\n    av.EventDispatcher.prototype.apply(this);\n\n    // Array of action objects\n    this.stack = [];\n\n    // By default, this simply points to the end of this.stack. Only if undo has been called,\n    // it points to the next operation to be run on a redo() call\n    this.current = 0;\n  }\n\n  // Executes an action and pushes it to the undo stack\n  run(action) {\n    // If we did a couple of undos before, a new operation will clear all redo steps\n    this.stack.length = this.current;\n\n    this.dispatchEvent({ type: UndoStack.BEFORE_ACTION, action: action });\n\n    action.redo();\n\n    this.dispatchEvent({ type: UndoStack.AFTER_ACTION, action: action });\n\n    this.stack.push(action);\n    this.current = this.stack.length;\n  }\n\n  undo() {\n    if (!this.current) {\n      // We reached the beginning of the stack\n      return false;\n    }\n    this.current--;\n\n    const action = this.stack[this.current];\n\n    this.dispatchEvent({ type: UndoStack.BEFORE_ACTION, action: action, isUndo: true });\n\n    action.undo();\n\n    this.dispatchEvent({ type: UndoStack.AFTER_ACTION, action: action, isUndo: true });\n\n    action.layer.update();\n\n    return true;\n  }\n\n  redo() {\n    const action = this.stack[this.current];\n    if (!action) {\n      // Nothing to redo\n      return false;\n    }\n\n    this.dispatchEvent({ type: UndoStack.BEFORE_ACTION, action: action, isUndo: false });\n\n    action.redo();\n\n    this.dispatchEvent({ type: UndoStack.AFTER_ACTION, action: action, isUndo: false });\n\n    this.current++;\n\n    action.layer.update();\n\n    return true;\n  }\n\n  clear() {\n    this.stack.length = 0;\n    this.current = 0;\n  }\n}\n\n// Events sent before/after any action is executed by UndoStack\nUndoStack.BEFORE_ACTION = 'beforeAction';\nUndoStack.AFTER_ACTION = 'afterAction';//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNLEdBQUcsQ0FBQztJQUNyQixJQUFJLENBQUNILE9BQU8sR0FBRyxDQUFDO0VBQ3BCO0FBQ0o7O0FBRUE7QUFDQU4sU0FBUyxDQUFDWSxhQUFhLEdBQUcsY0FBYztBQUN4Q1osU0FBUyxDQUFDYyxZQUFZLEdBQUksYUFBYSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL0VkaXQyRC9VbmRvU3RhY2suanM/NmFjNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmNvbnN0IGF2ID0gQXV0b2Rlc2suVmlld2luZztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVW5kb1N0YWNrIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuXG4gICAgICAgIGF2LkV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuYXBwbHkodGhpcyk7XG5cbiAgICAgICAgLy8gQXJyYXkgb2YgYWN0aW9uIG9iamVjdHNcbiAgICAgICAgdGhpcy5zdGFjayA9IFtdO1xuXG4gICAgICAgIC8vIEJ5IGRlZmF1bHQsIHRoaXMgc2ltcGx5IHBvaW50cyB0byB0aGUgZW5kIG9mIHRoaXMuc3RhY2suIE9ubHkgaWYgdW5kbyBoYXMgYmVlbiBjYWxsZWQsXG4gICAgICAgIC8vIGl0IHBvaW50cyB0byB0aGUgbmV4dCBvcGVyYXRpb24gdG8gYmUgcnVuIG9uIGEgcmVkbygpIGNhbGxcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gMDtcbiAgICB9XG5cbiAgICAvLyBFeGVjdXRlcyBhbiBhY3Rpb24gYW5kIHB1c2hlcyBpdCB0byB0aGUgdW5kbyBzdGFja1xuICAgIHJ1bihhY3Rpb24pIHtcbiAgICAgICAgLy8gSWYgd2UgZGlkIGEgY291cGxlIG9mIHVuZG9zIGJlZm9yZSwgYSBuZXcgb3BlcmF0aW9uIHdpbGwgY2xlYXIgYWxsIHJlZG8gc3RlcHNcbiAgICAgICAgdGhpcy5zdGFjay5sZW5ndGggPSB0aGlzLmN1cnJlbnQ7XG5cbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHsgdHlwZTogVW5kb1N0YWNrLkJFRk9SRV9BQ1RJT04sIGFjdGlvbjogYWN0aW9uIH0pO1xuXG4gICAgICAgIGFjdGlvbi5yZWRvKCk7XG5cbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHsgdHlwZTogVW5kb1N0YWNrLkFGVEVSX0FDVElPTiwgYWN0aW9uOiBhY3Rpb24gfSk7XG5cbiAgICAgICAgdGhpcy5zdGFjay5wdXNoKGFjdGlvbik7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMuc3RhY2subGVuZ3RoO1xuICAgIH1cblxuICAgIHVuZG8oKSB7XG4gICAgICAgIGlmICghdGhpcy5jdXJyZW50KSB7XG4gICAgICAgICAgICAvLyBXZSByZWFjaGVkIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHN0YWNrXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50LS07XG5cbiAgICAgICAgY29uc3QgYWN0aW9uID0gdGhpcy5zdGFja1t0aGlzLmN1cnJlbnRdO1xuXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6IFVuZG9TdGFjay5CRUZPUkVfQUNUSU9OLCBhY3Rpb246IGFjdGlvbiwgaXNVbmRvOiB0cnVlIH0pO1xuXG4gICAgICAgIGFjdGlvbi51bmRvKCk7XG5cbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHsgdHlwZTogVW5kb1N0YWNrLkFGVEVSX0FDVElPTiwgYWN0aW9uOiBhY3Rpb24sIGlzVW5kbzogdHJ1ZSB9KTtcblxuICAgICAgICBhY3Rpb24ubGF5ZXIudXBkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmVkbygpIHtcbiAgICAgICAgY29uc3QgYWN0aW9uID0gdGhpcy5zdGFja1t0aGlzLmN1cnJlbnRdO1xuICAgICAgICBpZiAoIWFjdGlvbikge1xuICAgICAgICAgICAgLy8gTm90aGluZyB0byByZWRvXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoeyB0eXBlOiBVbmRvU3RhY2suQkVGT1JFX0FDVElPTiwgYWN0aW9uOiBhY3Rpb24sIGlzVW5kbzogZmFsc2UgfSk7XG5cbiAgICAgICAgYWN0aW9uLnJlZG8oKTtcblxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoeyB0eXBlOiBVbmRvU3RhY2suQUZURVJfQUNUSU9OLCAgYWN0aW9uOiBhY3Rpb24sIGlzVW5kbzogZmFsc2UgfSk7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50Kys7XG5cbiAgICAgICAgYWN0aW9uLmxheWVyLnVwZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLnN0YWNrLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IDA7XG4gICAgfVxufVxuXG4vLyBFdmVudHMgc2VudCBiZWZvcmUvYWZ0ZXIgYW55IGFjdGlvbiBpcyBleGVjdXRlZCBieSBVbmRvU3RhY2tcblVuZG9TdGFjay5CRUZPUkVfQUNUSU9OID0gJ2JlZm9yZUFjdGlvbic7XG5VbmRvU3RhY2suQUZURVJfQUNUSU9OICA9ICdhZnRlckFjdGlvbic7XG4iXSwibmFtZXMiOlsiYXYiLCJBdXRvZGVzayIsIlZpZXdpbmciLCJVbmRvU3RhY2siLCJjb25zdHJ1Y3RvciIsIkV2ZW50RGlzcGF0Y2hlciIsInByb3RvdHlwZSIsImFwcGx5Iiwic3RhY2siLCJjdXJyZW50IiwicnVuIiwiYWN0aW9uIiwibGVuZ3RoIiwiZGlzcGF0Y2hFdmVudCIsInR5cGUiLCJCRUZPUkVfQUNUSU9OIiwicmVkbyIsIkFGVEVSX0FDVElPTiIsInB1c2giLCJ1bmRvIiwiaXNVbmRvIiwibGF5ZXIiLCJ1cGRhdGUiLCJjbGVhciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Edit2D/UndoStack.js\n");

/***/ }),

/***/ "./extensions/Edit2D/UnitHandler.js":
/*!******************************************!*\
  !*** ./extensions/Edit2D/UnitHandler.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultUnitHandler: () => (/* binding */ DefaultUnitHandler),\n/* harmony export */   SimpleUnitHandler: () => (/* binding */ SimpleUnitHandler),\n/* harmony export */   UnitHandler: () => (/* binding */ UnitHandler)\n/* harmony export */ });\n/* harmony import */ var _MeasureTransform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MeasureTransform.js */ \"./extensions/Edit2D/MeasureTransform.js\");\n\n\nconst avp = Autodesk.Viewing.Private;\n\n// Interface to control display of length/area units.\nclass UnitHandler {\n\n  constructor() {\n    // Optional: Returns a transform that is applied to all points for length/area calculations.\n    //  @returns {MeasureTransform}\n    this.measureTransform = null;\n  }\n\n  // @param   {number} val - length in layer coords\n  // @returns {string} String to display, including units.\n  lengthToString(val) {\n    console.error('Not implemented');\n  }\n\n  // @param   {number} val - area in layer coords\n  // @returns {string} String to display - including units.\n  areaToString(val) {\n    console.error('Not implemented');\n  }\n};\n\n// If nothing is specified, we display with 2 digits and assume all unit in inches.\nconst DefaultPrecision = 2;\nconst DefaultUnits = \"inch\";\n\n// Format length / area strings based on:\n//  - layerUnits:  We assume the layer to be specified in these units.\n//  - displayUnit: Values are converted from layerUnits to displayUnits for display\n//  - precision:   Number of digits shown\n//  - scaleFactor: Optional scale factor applied to all values\nclass SimpleUnitHandler extends UnitHandler {\n\n  constructor(viewer) {\n    super();\n\n    this.viewer = viewer;\n\n    this.config = {\n      // {string} We assume layers to be in these units (in GNU units format)\n      layerUnits: DefaultUnits,\n\n      // {string} Units in which we display lengths/areas (in GNU units format)\n      displayUnits: DefaultUnits,\n\n      // {number} Number of digits that we display\n      precision: DefaultPrecision,\n\n      // {number} Optional scale factor applied to all values\n      scaleFactor: 1.0,\n\n      // {string} Optional area suffix to alter display unit\n      areaSuffix: '^2',\n\n      // {boolean} Optional flag for mixed unit measurements such as m-and-cm to fallback to the larger unit\n      noMixedArea: false,\n\n      // {boolean} Optional flag for inches and feet, use 'in' and 'ft' over ' and \" respectively.\n      preferLetters: false\n    };\n  }\n\n  lengthToString(val) {\n    const cfg = this.config;\n\n    // Convert length units\n    val = avp.convertUnits(cfg.layerUnits, cfg.displayUnits, cfg.scaleFactor, val);\n\n    // Format length value with unit string\n    return avp.formatValueWithUnits(val, cfg.displayUnits, 3, cfg.precision, { preferLetters: cfg.preferLetters });\n  }\n\n  areaToString(val) {\n    const cfg = this.config;\n\n    // Convert area units\n    val = avp.convertUnits(cfg.layerUnits, cfg.displayUnits, cfg.scaleFactor, val, 'square');\n\n    // Format area value with unit string\n    const units = cfg.displayUnits ? `${cfg.displayUnits}${cfg.areaSuffix}` : null;\n    return avp.formatValueWithUnits(val, units, 3, cfg.precision, { noMixedArea: cfg.noMixedArea, preferLetters: cfg.preferLetters });\n  }\n}\n\n// The DefaultUnitHandler synchronizes the unit configuration based on current viewer model\n// and current settings from MeasureToolExtension:\n//  - If MeasureExtension is loaded, it displays in the same way as Measure tools\n//  - If MeasureExtension is not loaded, it just uses units of the current model without unit conversion.\n//  - If there is not even a model, it falls back to a fixed default configuration (see SimpleUnitHandler)\nclass DefaultUnitHandler extends SimpleUnitHandler {\n\n  constructor(viewer) {\n    super(viewer);\n\n    this.measureTransform = new _MeasureTransform_js__WEBPACK_IMPORTED_MODULE_0__.DefaultMeasureTransform(viewer);\n  }\n\n  updateConfig() {\n    const cfg = this.config;\n\n    // Assume values to be in model units or default units\n    const model = this.viewer.model;\n    cfg.layerUnits = model ? model.getUnitString() : DefaultUnits;\n\n    // Set other configuration values\n    const ext = this.viewer.getExtension('Autodesk.Measure');\n    const msrCfg = ext && ext.sharedMeasureConfig;\n    if (msrCfg) {\n      // get from measure extension\n      cfg.displayUnits = msrCfg.units;\n      cfg.precision = msrCfg.precision;\n      cfg.scaleFactor = msrCfg.calibrationFactor || 1.0;\n    } else {\n      // No Measure extension available => use defaults\n      cfg.displayUnits = this.config.layerUnits;\n      cfg.precision = DefaultPrecision;\n      cfg.scaleFactor = 1.0;\n    }\n  }\n\n  lengthToString(val) {\n    this.updateConfig();\n    return super.lengthToString(val);\n  }\n\n  areaToString(val) {\n    this.updateConfig();\n    return super.areaToString(val);\n  }\n\n  getPrecision() {\n    this.updateConfig();\n    return this.config.precision;\n  }\n\n  // Convert from current display units to the given units, considering the scale factor backwards.\n  fromDisplayUnits(toUnits, value) {\n    this.updateConfig();\n    return avp.convertUnits(this.config.displayUnits, toUnits, 1.0 / this.config.scaleFactor, value);\n  }\n\n  // Same for Vec3 value\n  fromDisplayUnitsVec3(toUnits, vec) {let target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new THREE.Vector3();\n    this.updateConfig();\n    target.x = this.fromDisplayUnits(toUnits, vec.x);\n    target.y = this.fromDisplayUnits(toUnits, vec.y);\n    target.z = this.fromDisplayUnits(toUnits, vec.z);\n    return target;\n  }\n\n  // Convert from current given fromUnits to display units, considering the current scale factor.\n  toDisplayUnits(fromUnits, value) {\n    this.updateConfig();\n    return avp.convertUnits(fromUnits, this.config.displayUnits, this.config.scaleFactor, value);\n  }\n\n  // Same for Vec3 value\n  toDisplayUnitsVec3(fromUnits, vec) {let target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new THREE.Vector3();\n    this.updateConfig();\n    target.x = this.toDisplayUnits(fromUnits, vec.x);\n    target.y = this.toDisplayUnits(fromUnits, vec.y);\n    target.z = this.toDisplayUnits(fromUnits, vec.z);\n    return target;\n  }\n\n  // @returns {string} name of the display unit, e.g. \"ft\" or \"m\".\n  getDisplayUnit() {\n    this.updateConfig();\n    return this.config.displayUnits;\n  }\n\n  // @returns {string} Similar to getDisplayUnit(), but simplifies combined units like \"decimal-feet\" or \"ft-and-fractional-in\" stuff to just \"ft\".\n  getMainDisplayUnit() {\n    const unit = this.getDisplayUnit();\n    return Autodesk.Viewing.Private.getMainUnit(unit);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bnMvLi9leHRlbnNpb25zL0VkaXQyRC9Vbml0SGFuZGxlci5qcz84NjVlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERlZmF1bHRNZWFzdXJlVHJhbnNmb3JtIH0gZnJvbSAnLi9NZWFzdXJlVHJhbnNmb3JtLmpzJztcblxuY29uc3QgYXZwID0gQXV0b2Rlc2suVmlld2luZy5Qcml2YXRlO1xuXG4vLyBJbnRlcmZhY2UgdG8gY29udHJvbCBkaXNwbGF5IG9mIGxlbmd0aC9hcmVhIHVuaXRzLlxuZXhwb3J0IGNsYXNzIFVuaXRIYW5kbGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBPcHRpb25hbDogUmV0dXJucyBhIHRyYW5zZm9ybSB0aGF0IGlzIGFwcGxpZWQgdG8gYWxsIHBvaW50cyBmb3IgbGVuZ3RoL2FyZWEgY2FsY3VsYXRpb25zLlxuICAgICAgICAvLyAgQHJldHVybnMge01lYXN1cmVUcmFuc2Zvcm19XG4gICAgICAgIHRoaXMubWVhc3VyZVRyYW5zZm9ybSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gQHBhcmFtICAge251bWJlcn0gdmFsIC0gbGVuZ3RoIGluIGxheWVyIGNvb3Jkc1xuICAgIC8vIEByZXR1cm5zIHtzdHJpbmd9IFN0cmluZyB0byBkaXNwbGF5LCBpbmNsdWRpbmcgdW5pdHMuXG4gICAgbGVuZ3RoVG9TdHJpbmcodmFsKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cblxuICAgIC8vIEBwYXJhbSAgIHtudW1iZXJ9IHZhbCAtIGFyZWEgaW4gbGF5ZXIgY29vcmRzXG4gICAgLy8gQHJldHVybnMge3N0cmluZ30gU3RyaW5nIHRvIGRpc3BsYXkgLSBpbmNsdWRpbmcgdW5pdHMuXG4gICAgYXJlYVRvU3RyaW5nKHZhbCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9XG59O1xuXG4vLyBJZiBub3RoaW5nIGlzIHNwZWNpZmllZCwgd2UgZGlzcGxheSB3aXRoIDIgZGlnaXRzIGFuZCBhc3N1bWUgYWxsIHVuaXQgaW4gaW5jaGVzLlxuY29uc3QgRGVmYXVsdFByZWNpc2lvbiA9IDI7XG5jb25zdCBEZWZhdWx0VW5pdHMgICAgID0gXCJpbmNoXCI7XG5cbi8vIEZvcm1hdCBsZW5ndGggLyBhcmVhIHN0cmluZ3MgYmFzZWQgb246XG4vLyAgLSBsYXllclVuaXRzOiAgV2UgYXNzdW1lIHRoZSBsYXllciB0byBiZSBzcGVjaWZpZWQgaW4gdGhlc2UgdW5pdHMuXG4vLyAgLSBkaXNwbGF5VW5pdDogVmFsdWVzIGFyZSBjb252ZXJ0ZWQgZnJvbSBsYXllclVuaXRzIHRvIGRpc3BsYXlVbml0cyBmb3IgZGlzcGxheVxuLy8gIC0gcHJlY2lzaW9uOiAgIE51bWJlciBvZiBkaWdpdHMgc2hvd25cbi8vICAtIHNjYWxlRmFjdG9yOiBPcHRpb25hbCBzY2FsZSBmYWN0b3IgYXBwbGllZCB0byBhbGwgdmFsdWVzXG5leHBvcnQgY2xhc3MgU2ltcGxlVW5pdEhhbmRsZXIgZXh0ZW5kcyBVbml0SGFuZGxlciB7XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3ZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLnZpZXdlciA9IHZpZXdlcjtcblxuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgICAgICAgIC8vIHtzdHJpbmd9IFdlIGFzc3VtZSBsYXllcnMgdG8gYmUgaW4gdGhlc2UgdW5pdHMgKGluIEdOVSB1bml0cyBmb3JtYXQpXG4gICAgICAgICAgICBsYXllclVuaXRzOiAgIERlZmF1bHRVbml0cyxcblxuICAgICAgICAgICAgLy8ge3N0cmluZ30gVW5pdHMgaW4gd2hpY2ggd2UgZGlzcGxheSBsZW5ndGhzL2FyZWFzIChpbiBHTlUgdW5pdHMgZm9ybWF0KVxuICAgICAgICAgICAgZGlzcGxheVVuaXRzOiBEZWZhdWx0VW5pdHMsXG5cbiAgICAgICAgICAgIC8vIHtudW1iZXJ9IE51bWJlciBvZiBkaWdpdHMgdGhhdCB3ZSBkaXNwbGF5XG4gICAgICAgICAgICBwcmVjaXNpb246ICAgIERlZmF1bHRQcmVjaXNpb24sXG5cbiAgICAgICAgICAgIC8vIHtudW1iZXJ9IE9wdGlvbmFsIHNjYWxlIGZhY3RvciBhcHBsaWVkIHRvIGFsbCB2YWx1ZXNcbiAgICAgICAgICAgIHNjYWxlRmFjdG9yOiAgMS4wLFxuXG4gICAgICAgICAgICAvLyB7c3RyaW5nfSBPcHRpb25hbCBhcmVhIHN1ZmZpeCB0byBhbHRlciBkaXNwbGF5IHVuaXRcbiAgICAgICAgICAgIGFyZWFTdWZmaXg6ICAgJ14yJyxcblxuICAgICAgICAgICAgLy8ge2Jvb2xlYW59IE9wdGlvbmFsIGZsYWcgZm9yIG1peGVkIHVuaXQgbWVhc3VyZW1lbnRzIHN1Y2ggYXMgbS1hbmQtY20gdG8gZmFsbGJhY2sgdG8gdGhlIGxhcmdlciB1bml0XG4gICAgICAgICAgICBub01peGVkQXJlYTogIGZhbHNlLFxuXG4gICAgICAgICAgICAvLyB7Ym9vbGVhbn0gT3B0aW9uYWwgZmxhZyBmb3IgaW5jaGVzIGFuZCBmZWV0LCB1c2UgJ2luJyBhbmQgJ2Z0JyBvdmVyICcgYW5kIFwiIHJlc3BlY3RpdmVseS5cbiAgICAgICAgICAgIHByZWZlckxldHRlcnM6IGZhbHNlLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGxlbmd0aFRvU3RyaW5nKHZhbCkge1xuICAgICAgICBjb25zdCBjZmcgPSB0aGlzLmNvbmZpZztcblxuICAgICAgICAvLyBDb252ZXJ0IGxlbmd0aCB1bml0c1xuICAgICAgICB2YWwgPSBhdnAuY29udmVydFVuaXRzKGNmZy5sYXllclVuaXRzLCBjZmcuZGlzcGxheVVuaXRzLCBjZmcuc2NhbGVGYWN0b3IsIHZhbCk7XG5cbiAgICAgICAgLy8gRm9ybWF0IGxlbmd0aCB2YWx1ZSB3aXRoIHVuaXQgc3RyaW5nXG4gICAgICAgIHJldHVybiBhdnAuZm9ybWF0VmFsdWVXaXRoVW5pdHModmFsLCBjZmcuZGlzcGxheVVuaXRzLCAzLCBjZmcucHJlY2lzaW9uLCB7IHByZWZlckxldHRlcnM6IGNmZy5wcmVmZXJMZXR0ZXJzIH0pO1xuICAgIH1cblxuICAgIGFyZWFUb1N0cmluZyh2YWwpIHtcbiAgICAgICAgY29uc3QgY2ZnID0gdGhpcy5jb25maWc7XG5cbiAgICAgICAgLy8gQ29udmVydCBhcmVhIHVuaXRzXG4gICAgICAgIHZhbCA9IGF2cC5jb252ZXJ0VW5pdHMoY2ZnLmxheWVyVW5pdHMsIGNmZy5kaXNwbGF5VW5pdHMsIGNmZy5zY2FsZUZhY3RvciwgdmFsLCAnc3F1YXJlJyk7XG5cbiAgICAgICAgLy8gRm9ybWF0IGFyZWEgdmFsdWUgd2l0aCB1bml0IHN0cmluZ1xuICAgICAgICBjb25zdCB1bml0cyA9IGNmZy5kaXNwbGF5VW5pdHMgPyBgJHtjZmcuZGlzcGxheVVuaXRzfSR7Y2ZnLmFyZWFTdWZmaXh9YCA6IG51bGw7XG4gICAgICAgIHJldHVybiBhdnAuZm9ybWF0VmFsdWVXaXRoVW5pdHModmFsLCB1bml0cywgMywgY2ZnLnByZWNpc2lvbiwgeyBub01peGVkQXJlYTogY2ZnLm5vTWl4ZWRBcmVhLCBwcmVmZXJMZXR0ZXJzOiBjZmcucHJlZmVyTGV0dGVycyB9KTtcbiAgICB9XG59XG5cbi8vIFRoZSBEZWZhdWx0VW5pdEhhbmRsZXIgc3luY2hyb25pemVzIHRoZSB1bml0IGNvbmZpZ3VyYXRpb24gYmFzZWQgb24gY3VycmVudCB2aWV3ZXIgbW9kZWxcbi8vIGFuZCBjdXJyZW50IHNldHRpbmdzIGZyb20gTWVhc3VyZVRvb2xFeHRlbnNpb246XG4vLyAgLSBJZiBNZWFzdXJlRXh0ZW5zaW9uIGlzIGxvYWRlZCwgaXQgZGlzcGxheXMgaW4gdGhlIHNhbWUgd2F5IGFzIE1lYXN1cmUgdG9vbHNcbi8vICAtIElmIE1lYXN1cmVFeHRlbnNpb24gaXMgbm90IGxvYWRlZCwgaXQganVzdCB1c2VzIHVuaXRzIG9mIHRoZSBjdXJyZW50IG1vZGVsIHdpdGhvdXQgdW5pdCBjb252ZXJzaW9uLlxuLy8gIC0gSWYgdGhlcmUgaXMgbm90IGV2ZW4gYSBtb2RlbCwgaXQgZmFsbHMgYmFjayB0byBhIGZpeGVkIGRlZmF1bHQgY29uZmlndXJhdGlvbiAoc2VlIFNpbXBsZVVuaXRIYW5kbGVyKVxuZXhwb3J0IGNsYXNzIERlZmF1bHRVbml0SGFuZGxlciBleHRlbmRzIFNpbXBsZVVuaXRIYW5kbGVye1xuXG4gICAgY29uc3RydWN0b3Iodmlld2VyKSB7XG4gICAgICAgIHN1cGVyKHZpZXdlcik7XG5cbiAgICAgICAgdGhpcy5tZWFzdXJlVHJhbnNmb3JtID0gbmV3IERlZmF1bHRNZWFzdXJlVHJhbnNmb3JtKHZpZXdlcik7XG4gICAgfVxuXG4gICAgdXBkYXRlQ29uZmlnKCkge1xuICAgICAgICBjb25zdCBjZmcgPSB0aGlzLmNvbmZpZztcblxuICAgICAgICAvLyBBc3N1bWUgdmFsdWVzIHRvIGJlIGluIG1vZGVsIHVuaXRzIG9yIGRlZmF1bHQgdW5pdHNcbiAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLnZpZXdlci5tb2RlbDtcbiAgICAgICAgY2ZnLmxheWVyVW5pdHMgPSBtb2RlbCA/IG1vZGVsLmdldFVuaXRTdHJpbmcoKSA6IERlZmF1bHRVbml0cztcblxuICAgICAgICAvLyBTZXQgb3RoZXIgY29uZmlndXJhdGlvbiB2YWx1ZXNcbiAgICAgICAgY29uc3QgZXh0ID0gdGhpcy52aWV3ZXIuZ2V0RXh0ZW5zaW9uKCdBdXRvZGVzay5NZWFzdXJlJyk7XG4gICAgICAgIGNvbnN0IG1zckNmZyA9IGV4dCAmJiBleHQuc2hhcmVkTWVhc3VyZUNvbmZpZztcbiAgICAgICAgaWYgKG1zckNmZykge1xuICAgICAgICAgICAgLy8gZ2V0IGZyb20gbWVhc3VyZSBleHRlbnNpb25cbiAgICAgICAgICAgIGNmZy5kaXNwbGF5VW5pdHMgPSBtc3JDZmcudW5pdHM7XG4gICAgICAgICAgICBjZmcucHJlY2lzaW9uICAgID0gbXNyQ2ZnLnByZWNpc2lvbjtcbiAgICAgICAgICAgIGNmZy5zY2FsZUZhY3RvciAgPSBtc3JDZmcuY2FsaWJyYXRpb25GYWN0b3IgIHx8IDEuMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5vIE1lYXN1cmUgZXh0ZW5zaW9uIGF2YWlsYWJsZSA9PiB1c2UgZGVmYXVsdHNcbiAgICAgICAgICAgIGNmZy5kaXNwbGF5VW5pdHMgPSB0aGlzLmNvbmZpZy5sYXllclVuaXRzO1xuICAgICAgICAgICAgY2ZnLnByZWNpc2lvbiAgICA9IERlZmF1bHRQcmVjaXNpb247XG4gICAgICAgICAgICBjZmcuc2NhbGVGYWN0b3IgID0gMS4wO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGVuZ3RoVG9TdHJpbmcodmFsKSB7XG4gICAgICAgIHRoaXMudXBkYXRlQ29uZmlnKCk7XG4gICAgICAgIHJldHVybiBzdXBlci5sZW5ndGhUb1N0cmluZyh2YWwpO1xuICAgIH1cblxuICAgIGFyZWFUb1N0cmluZyh2YWwpIHtcbiAgICAgICAgdGhpcy51cGRhdGVDb25maWcoKTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmFyZWFUb1N0cmluZyh2YWwpO1xuICAgIH1cblxuICAgIGdldFByZWNpc2lvbigpIHtcbiAgICAgICAgdGhpcy51cGRhdGVDb25maWcoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLnByZWNpc2lvbjtcbiAgICB9XG5cbiAgICAvLyBDb252ZXJ0IGZyb20gY3VycmVudCBkaXNwbGF5IHVuaXRzIHRvIHRoZSBnaXZlbiB1bml0cywgY29uc2lkZXJpbmcgdGhlIHNjYWxlIGZhY3RvciBiYWNrd2FyZHMuXG4gICAgZnJvbURpc3BsYXlVbml0cyh0b1VuaXRzLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnVwZGF0ZUNvbmZpZygpO1xuICAgICAgICByZXR1cm4gYXZwLmNvbnZlcnRVbml0cyh0aGlzLmNvbmZpZy5kaXNwbGF5VW5pdHMsIHRvVW5pdHMsIDEuMCAvIHRoaXMuY29uZmlnLnNjYWxlRmFjdG9yLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLy8gU2FtZSBmb3IgVmVjMyB2YWx1ZVxuICAgIGZyb21EaXNwbGF5VW5pdHNWZWMzKHRvVW5pdHMsIHZlYywgdGFyZ2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKSkge1xuICAgICAgICB0aGlzLnVwZGF0ZUNvbmZpZygpO1xuICAgICAgICB0YXJnZXQueCA9IHRoaXMuZnJvbURpc3BsYXlVbml0cyh0b1VuaXRzLCB2ZWMueCk7XG4gICAgICAgIHRhcmdldC55ID0gdGhpcy5mcm9tRGlzcGxheVVuaXRzKHRvVW5pdHMsIHZlYy55KTtcbiAgICAgICAgdGFyZ2V0LnogPSB0aGlzLmZyb21EaXNwbGF5VW5pdHModG9Vbml0cywgdmVjLnopO1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIC8vIENvbnZlcnQgZnJvbSBjdXJyZW50IGdpdmVuIGZyb21Vbml0cyB0byBkaXNwbGF5IHVuaXRzLCBjb25zaWRlcmluZyB0aGUgY3VycmVudCBzY2FsZSBmYWN0b3IuXG4gICAgdG9EaXNwbGF5VW5pdHMoZnJvbVVuaXRzLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnVwZGF0ZUNvbmZpZygpO1xuICAgICAgICByZXR1cm4gYXZwLmNvbnZlcnRVbml0cyhmcm9tVW5pdHMsIHRoaXMuY29uZmlnLmRpc3BsYXlVbml0cywgdGhpcy5jb25maWcuc2NhbGVGYWN0b3IsIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBTYW1lIGZvciBWZWMzIHZhbHVlXG4gICAgdG9EaXNwbGF5VW5pdHNWZWMzKGZyb21Vbml0cywgdmVjLCB0YXJnZXQgPSBuZXcgVEhSRUUuVmVjdG9yMygpKSB7XG4gICAgICAgIHRoaXMudXBkYXRlQ29uZmlnKCk7XG4gICAgICAgIHRhcmdldC54ID0gdGhpcy50b0Rpc3BsYXlVbml0cyhmcm9tVW5pdHMsIHZlYy54KTtcbiAgICAgICAgdGFyZ2V0LnkgPSB0aGlzLnRvRGlzcGxheVVuaXRzKGZyb21Vbml0cywgdmVjLnkpO1xuICAgICAgICB0YXJnZXQueiA9IHRoaXMudG9EaXNwbGF5VW5pdHMoZnJvbVVuaXRzLCB2ZWMueik7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLy8gQHJldHVybnMge3N0cmluZ30gbmFtZSBvZiB0aGUgZGlzcGxheSB1bml0LCBlLmcuIFwiZnRcIiBvciBcIm1cIi5cbiAgICBnZXREaXNwbGF5VW5pdCgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVDb25maWcoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmRpc3BsYXlVbml0cztcbiAgICB9XG5cbiAgICAvLyBAcmV0dXJucyB7c3RyaW5nfSBTaW1pbGFyIHRvIGdldERpc3BsYXlVbml0KCksIGJ1dCBzaW1wbGlmaWVzIGNvbWJpbmVkIHVuaXRzIGxpa2UgXCJkZWNpbWFsLWZlZXRcIiBvciBcImZ0LWFuZC1mcmFjdGlvbmFsLWluXCIgc3R1ZmYgdG8ganVzdCBcImZ0XCIuXG4gICAgZ2V0TWFpbkRpc3BsYXlVbml0KCkge1xuICAgICAgICBjb25zdCB1bml0ID0gdGhpcy5nZXREaXNwbGF5VW5pdCgpO1xuICAgICAgICByZXR1cm4gQXV0b2Rlc2suVmlld2luZy5Qcml2YXRlLmdldE1haW5Vbml0KHVuaXQpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJEZWZhdWx0TWVhc3VyZVRyYW5zZm9ybSIsImF2cCIsIkF1dG9kZXNrIiwiVmlld2luZyIsIlByaXZhdGUiLCJVbml0SGFuZGxlciIsImNvbnN0cnVjdG9yIiwibWVhc3VyZVRyYW5zZm9ybSIsImxlbmd0aFRvU3RyaW5nIiwidmFsIiwiY29uc29sZSIsImVycm9yIiwiYXJlYVRvU3RyaW5nIiwiRGVmYXVsdFByZWNpc2lvbiIsIkRlZmF1bHRVbml0cyIsIlNpbXBsZVVuaXRIYW5kbGVyIiwidmlld2VyIiwiY29uZmlnIiwibGF5ZXJVbml0cyIsImRpc3BsYXlVbml0cyIsInByZWNpc2lvbiIsInNjYWxlRmFjdG9yIiwiYXJlYVN1ZmZpeCIsIm5vTWl4ZWRBcmVhIiwicHJlZmVyTGV0dGVycyIsImNmZyIsImNvbnZlcnRVbml0cyIsImZvcm1hdFZhbHVlV2l0aFVuaXRzIiwidW5pdHMiLCJEZWZhdWx0VW5pdEhhbmRsZXIiLCJ1cGRhdGVDb25maWciLCJtb2RlbCIsImdldFVuaXRTdHJpbmciLCJleHQiLCJnZXRFeHRlbnNpb24iLCJtc3JDZmciLCJzaGFyZWRNZWFzdXJlQ29uZmlnIiwiY2FsaWJyYXRpb25GYWN0b3IiLCJnZXRQcmVjaXNpb24iLCJmcm9tRGlzcGxheVVuaXRzIiwidG9Vbml0cyIsInZhbHVlIiwiZnJvbURpc3BsYXlVbml0c1ZlYzMiLCJ2ZWMiLCJ0YXJnZXQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJUSFJFRSIsIlZlY3RvcjMiLCJ4IiwieSIsInoiLCJ0b0Rpc3BsYXlVbml0cyIsImZyb21Vbml0cyIsInRvRGlzcGxheVVuaXRzVmVjMyIsImdldERpc3BsYXlVbml0IiwiZ2V0TWFpbkRpc3BsYXlVbml0IiwidW5pdCIsImdldE1haW5Vbml0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Edit2D/UnitHandler.js\n");

/***/ }),

/***/ "./extensions/Edit2D/locales.js":
/*!**************************************!*\
  !*** ./extensions/Edit2D/locales.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   locales: () => (/* binding */ locales)\n/* harmony export */ });\n/* harmony import */ var _res_locales_en_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../res/locales/en/nobundle-edit2d.loc */ \"./res/locales/en/nobundle-edit2d.loc.json\");\n/* harmony import */ var _res_locales_en_GB_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../res/locales/en-GB/nobundle-edit2d.loc */ \"./res/locales/en-GB/nobundle-edit2d.loc.json\");\n/* harmony import */ var _res_locales_cs_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../res/locales/cs/nobundle-edit2d.loc */ \"./res/locales/cs/nobundle-edit2d.loc.json\");\n/* harmony import */ var _res_locales_de_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../res/locales/de/nobundle-edit2d.loc */ \"./res/locales/de/nobundle-edit2d.loc.json\");\n/* harmony import */ var _res_locales_es_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../res/locales/es/nobundle-edit2d.loc */ \"./res/locales/es/nobundle-edit2d.loc.json\");\n/* harmony import */ var _res_locales_fr_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../res/locales/fr/nobundle-edit2d.loc */ \"./res/locales/fr/nobundle-edit2d.loc.json\");\n/* harmony import */ var _res_locales_fr_CA_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../res/locales/fr-CA/nobundle-edit2d.loc */ \"./res/locales/fr-CA/nobundle-edit2d.loc.json\");\n/* harmony import */ var _res_locales_it_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../res/locales/it/nobundle-edit2d.loc */ \"./res/locales/it/nobundle-edit2d.loc.json\");\n/* harmony import */ var _res_locales_ja_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../res/locales/ja/nobundle-edit2d.loc */ \"./res/locales/ja/nobundle-edit2d.loc.json\");\n/* harmony import */ var _res_locales_ko_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../res/locales/ko/nobundle-edit2d.loc */ \"./res/locales/ko/nobundle-edit2d.loc.json\");\n/* harmony import */ var _res_locales_pl_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../res/locales/pl/nobundle-edit2d.loc */ \"./res/locales/pl/nobundle-edit2d.loc.json\");\n/* harmony import */ var _res_locales_pt_BR_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../res/locales/pt-BR/nobundle-edit2d.loc */ \"./res/locales/pt-BR/nobundle-edit2d.loc.json\");\n/* harmony import */ var _res_locales_ru_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../res/locales/ru/nobundle-edit2d.loc */ \"./res/locales/ru/nobundle-edit2d.loc.json\");\n/* harmony import */ var _res_locales_tr_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../res/locales/tr/nobundle-edit2d.loc */ \"./res/locales/tr/nobundle-edit2d.loc.json\");\n/* harmony import */ var _res_locales_zh_Hans_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../res/locales/zh-Hans/nobundle-edit2d.loc */ \"./res/locales/zh-Hans/nobundle-edit2d.loc.json\");\n/* harmony import */ var _res_locales_zh_Hant_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../res/locales/zh-Hant/nobundle-edit2d.loc */ \"./res/locales/zh-Hant/nobundle-edit2d.loc.json\");\n/* harmony import */ var _res_locales_zh_HK_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../res/locales/zh-HK/nobundle-edit2d.loc */ \"./res/locales/zh-HK/nobundle-edit2d.loc.json\");\n/* harmony import */ var _res_locales_nl_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../res/locales/nl/nobundle-edit2d.loc */ \"./res/locales/nl/nobundle-edit2d.loc.json\");\n/* harmony import */ var _res_locales_sv_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../res/locales/sv/nobundle-edit2d.loc */ \"./res/locales/sv/nobundle-edit2d.loc.json\");\n/* harmony import */ var _res_locales_da_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../res/locales/da/nobundle-edit2d.loc */ \"./res/locales/da/nobundle-edit2d.loc.json\");\n/**\n * Include each locale json file and return it in an object\n * that can be consumed by i18n\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst locales = {\n  en: _res_locales_en_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_0__,\n  \"en-GB\": _res_locales_en_GB_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_1__,\n  cs: _res_locales_cs_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_2__,\n  de: _res_locales_de_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_3__,\n  es: _res_locales_es_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_4__,\n  fr: _res_locales_fr_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_5__,\n  \"fr-CA\": _res_locales_fr_CA_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_6__,\n  it: _res_locales_it_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_7__,\n  ja: _res_locales_ja_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_8__,\n  ko: _res_locales_ko_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_9__,\n  pl: _res_locales_pl_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_10__,\n  \"pt-BR\": _res_locales_pt_BR_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_11__,\n  ru: _res_locales_ru_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_12__,\n  tr: _res_locales_tr_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_13__,\n  \"zh-Hans\": _res_locales_zh_Hans_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_14__,\n  \"zh-Hant\": _res_locales_zh_Hant_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_15__,\n  \"zh-HK\": _res_locales_zh_HK_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_16__,\n  nl: _res_locales_nl_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_17__,\n  sv: _res_locales_sv_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_18__,\n  da: _res_locales_da_nobundle_edit2d_loc__WEBPACK_IMPORTED_MODULE_19__\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL0VkaXQyRC9sb2NhbGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUUrRDtBQUNNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ007QUFDTjtBQUNBO0FBQ1U7QUFDQTtBQUNKO0FBQ047QUFDQTtBQUNBOztBQUV4RCxNQUFNb0IsT0FBTyxHQUFHO0VBQ25CQyxFQUFFLEVBQUVyQixnRUFBTztFQUNYLE9BQU8sRUFBRUMsbUVBQVU7RUFDbkJxQixFQUFFLEVBQUVwQixnRUFBTztFQUNYcUIsRUFBRSxFQUFFcEIsZ0VBQU87RUFDWHFCLEVBQUUsRUFBRXBCLGdFQUFPO0VBQ1hxQixFQUFFLEVBQUVwQixnRUFBTztFQUNYLE9BQU8sRUFBRUMsbUVBQVU7RUFDbkJvQixFQUFFLEVBQUVuQixnRUFBTztFQUNYb0IsRUFBRSxFQUFFbkIsZ0VBQU87RUFDWG9CLEVBQUUsRUFBRW5CLGdFQUFPO0VBQ1hvQixFQUFFLEVBQUVuQixpRUFBTztFQUNYLE9BQU8sRUFBRUMsb0VBQVU7RUFDbkJtQixFQUFFLEVBQUVsQixpRUFBTztFQUNYbUIsRUFBRSxFQUFFbEIsaUVBQU87RUFDWCxTQUFTLEVBQUVDLHNFQUFZO0VBQ3ZCLFNBQVMsRUFBRUMsc0VBQVk7RUFDdkIsT0FBTyxFQUFFQyxvRUFBVTtFQUNuQmdCLEVBQUUsRUFBRWYsaUVBQU87RUFDWGdCLEVBQUUsRUFBRWYsaUVBQU87RUFDWGdCLEVBQUUsRUFBRWYsaUVBQU9BO0FBQ2YsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL0VkaXQyRC9sb2NhbGVzLmpzP2M4NTMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBJbmNsdWRlIGVhY2ggbG9jYWxlIGpzb24gZmlsZSBhbmQgcmV0dXJuIGl0IGluIGFuIG9iamVjdFxuICogdGhhdCBjYW4gYmUgY29uc3VtZWQgYnkgaTE4blxuICovXG5cbmltcG9ydCBqc29uX2VuIGZyb20gJy4uLy4uL3Jlcy9sb2NhbGVzL2VuL25vYnVuZGxlLWVkaXQyZC5sb2MnO1xuaW1wb3J0IGpzb25fZW5fR0IgZnJvbSAnLi4vLi4vcmVzL2xvY2FsZXMvZW4tR0Ivbm9idW5kbGUtZWRpdDJkLmxvYyc7XG5pbXBvcnQganNvbl9jcyBmcm9tICcuLi8uLi9yZXMvbG9jYWxlcy9jcy9ub2J1bmRsZS1lZGl0MmQubG9jJztcbmltcG9ydCBqc29uX2RlIGZyb20gJy4uLy4uL3Jlcy9sb2NhbGVzL2RlL25vYnVuZGxlLWVkaXQyZC5sb2MnO1xuaW1wb3J0IGpzb25fZXMgZnJvbSAnLi4vLi4vcmVzL2xvY2FsZXMvZXMvbm9idW5kbGUtZWRpdDJkLmxvYyc7XG5pbXBvcnQganNvbl9mciBmcm9tICcuLi8uLi9yZXMvbG9jYWxlcy9mci9ub2J1bmRsZS1lZGl0MmQubG9jJztcbmltcG9ydCBqc29uX2ZyX0NBIGZyb20gJy4uLy4uL3Jlcy9sb2NhbGVzL2ZyLUNBL25vYnVuZGxlLWVkaXQyZC5sb2MnO1xuaW1wb3J0IGpzb25faXQgZnJvbSAnLi4vLi4vcmVzL2xvY2FsZXMvaXQvbm9idW5kbGUtZWRpdDJkLmxvYyc7XG5pbXBvcnQganNvbl9qYSBmcm9tICcuLi8uLi9yZXMvbG9jYWxlcy9qYS9ub2J1bmRsZS1lZGl0MmQubG9jJztcbmltcG9ydCBqc29uX2tvIGZyb20gJy4uLy4uL3Jlcy9sb2NhbGVzL2tvL25vYnVuZGxlLWVkaXQyZC5sb2MnO1xuaW1wb3J0IGpzb25fcGwgZnJvbSAnLi4vLi4vcmVzL2xvY2FsZXMvcGwvbm9idW5kbGUtZWRpdDJkLmxvYyc7XG5pbXBvcnQganNvbl9wdF9CUiBmcm9tICcuLi8uLi9yZXMvbG9jYWxlcy9wdC1CUi9ub2J1bmRsZS1lZGl0MmQubG9jJztcbmltcG9ydCBqc29uX3J1IGZyb20gJy4uLy4uL3Jlcy9sb2NhbGVzL3J1L25vYnVuZGxlLWVkaXQyZC5sb2MnO1xuaW1wb3J0IGpzb25fdHIgZnJvbSAnLi4vLi4vcmVzL2xvY2FsZXMvdHIvbm9idW5kbGUtZWRpdDJkLmxvYyc7XG5pbXBvcnQganNvbl96aF9IYW5zIGZyb20gJy4uLy4uL3Jlcy9sb2NhbGVzL3poLUhhbnMvbm9idW5kbGUtZWRpdDJkLmxvYyc7XG5pbXBvcnQganNvbl96aF9IYW50IGZyb20gJy4uLy4uL3Jlcy9sb2NhbGVzL3poLUhhbnQvbm9idW5kbGUtZWRpdDJkLmxvYyc7XG5pbXBvcnQganNvbl96aF9ISyBmcm9tICcuLi8uLi9yZXMvbG9jYWxlcy96aC1ISy9ub2J1bmRsZS1lZGl0MmQubG9jJztcbmltcG9ydCBqc29uX25sIGZyb20gJy4uLy4uL3Jlcy9sb2NhbGVzL25sL25vYnVuZGxlLWVkaXQyZC5sb2MnO1xuaW1wb3J0IGpzb25fc3YgZnJvbSAnLi4vLi4vcmVzL2xvY2FsZXMvc3Yvbm9idW5kbGUtZWRpdDJkLmxvYyc7XG5pbXBvcnQganNvbl9kYSBmcm9tICcuLi8uLi9yZXMvbG9jYWxlcy9kYS9ub2J1bmRsZS1lZGl0MmQubG9jJztcblxuZXhwb3J0IGNvbnN0IGxvY2FsZXMgPSB7XG4gICAgZW46IGpzb25fZW4sXG4gICAgXCJlbi1HQlwiOiBqc29uX2VuX0dCLFxuICAgIGNzOiBqc29uX2NzLFxuICAgIGRlOiBqc29uX2RlLFxuICAgIGVzOiBqc29uX2VzLFxuICAgIGZyOiBqc29uX2ZyLFxuICAgIFwiZnItQ0FcIjoganNvbl9mcl9DQSxcbiAgICBpdDoganNvbl9pdCxcbiAgICBqYToganNvbl9qYSxcbiAgICBrbzoganNvbl9rbyxcbiAgICBwbDoganNvbl9wbCxcbiAgICBcInB0LUJSXCI6IGpzb25fcHRfQlIsXG4gICAgcnU6IGpzb25fcnUsXG4gICAgdHI6IGpzb25fdHIsXG4gICAgXCJ6aC1IYW5zXCI6IGpzb25femhfSGFucyxcbiAgICBcInpoLUhhbnRcIjoganNvbl96aF9IYW50LFxuICAgIFwiemgtSEtcIjoganNvbl96aF9ISyxcbiAgICBubDoganNvbl9ubCxcbiAgICBzdjoganNvbl9zdixcbiAgICBkYToganNvbl9kYSxcbn07XG4iXSwibmFtZXMiOlsianNvbl9lbiIsImpzb25fZW5fR0IiLCJqc29uX2NzIiwianNvbl9kZSIsImpzb25fZXMiLCJqc29uX2ZyIiwianNvbl9mcl9DQSIsImpzb25faXQiLCJqc29uX2phIiwianNvbl9rbyIsImpzb25fcGwiLCJqc29uX3B0X0JSIiwianNvbl9ydSIsImpzb25fdHIiLCJqc29uX3poX0hhbnMiLCJqc29uX3poX0hhbnQiLCJqc29uX3poX0hLIiwianNvbl9ubCIsImpzb25fc3YiLCJqc29uX2RhIiwibG9jYWxlcyIsImVuIiwiY3MiLCJkZSIsImVzIiwiZnIiLCJpdCIsImphIiwia28iLCJwbCIsInJ1IiwidHIiLCJubCIsInN2IiwiZGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Edit2D/locales.js\n");

/***/ }),

/***/ "./extensions/Edit2D/tools/CopyTool.js":
/*!*********************************************!*\
  !*** ./extensions/Edit2D/tools/CopyTool.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CopyTool)\n/* harmony export */ });\n/* harmony import */ var _Actions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Actions.js */ \"./extensions/Edit2D/Actions.js\");\n/* harmony import */ var _Clipboard_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Clipboard.js */ \"./extensions/Edit2D/Clipboard.js\");\n\n\n\nconst CopyToolName = 'Edit2_CopyTool';\n\nconst av = Autodesk.Viewing;\n\n// Apply constant offset in x/y for each paste step, so that pasted shapes are not exactly on top of the src shapes.\nconst PasteOffset = 30;\n\nclass CopyTool {\n\n  constructor(ctx) {\n\n    Autodesk.Viewing.EventDispatcher.prototype.apply(this);\n\n    this.viewer = ctx.viewer;\n    this.layer = ctx.layer;\n    this.selection = ctx.selection;\n    this.undoStack = ctx.undoStack;\n    this.clipboard = ctx.clipboard;\n    this.nameSuffix = `_${ctx.toolSetName}`;\n\n    this.enableCut = false;\n\n    // Track when this tool is posting shapes to the clipboard.\n    // Used to avoid modifying the pasteCounter when this tool is posting shapes.\n    // This is a reference to the array being posted or null. An array is used rather than\n    // a flag in case a clipboard listener posts to the clipboard during a callback.\n    this.shapesBeingPosted = null;\n    // Tracks the number of times the clipboard contents have been pasted.\n    // Pasted shapes are offset whenever the counter is greater than zero.\n    // Set the counter to a negative value to prevent offsetting for some pastes.\n    this.pasteCounter = 0;\n\n    this.onClipboardContentChanged = (event) => {\n      if (event.shapes !== this.shapesBeingPosted) {\n        // Do not apply offset to the first paste of content placed on the clipboard by other code\n        // to preserve its location\n        this.pasteCounter = -1;\n      }\n    };\n  }\n\n  register() {\n    this.clipboard.addEventListener(_Clipboard_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].CONTENT_CHANGED, this.onClipboardContentChanged);\n  }\n\n  deregister() {\n    this.clipboard.removeEventListener(_Clipboard_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].CONTENT_CHANGED, this.onClipboardContentChanged);\n  }\n\n  _postSelectedShapesToClipboard() {\n    const shapes = this.selection.getSelectedShapes();\n\n    this.shapesBeingPosted = shapes;\n    this.clipboard.postShapes(shapes);\n    this.shapesBeingPosted = null;\n\n    return shapes;\n  }\n\n\n  /**\n   * Copy the currently selected shapes to the clipboard.\n   *\n   * Each time the shapes are pasted, they will be offset from their original positions (first paste)\n   * or their last pasted positions. The offset currently doesn't change with the undo/redo of paste operations.\n   */\n  copy() {\n    this._postSelectedShapesToClipboard();\n    this.pasteCounter = 0;\n  }\n\n  /**\n   * Cut the currently selected shapes to the clipboard.\n   *\n   * Each time the shapes are pasted, they will be in their original positions (first paste)\n   * or offset from their last pasted positions. The offset currently doesn't change with the\n   * undo/redo of paste operations.\n   */\n  cut() {\n    const shapes = this._postSelectedShapesToClipboard();\n    // Do not apply offset to the first paste\n    this.pasteCounter = -1;\n\n    this.undoStack.run(new _Actions_js__WEBPACK_IMPORTED_MODULE_0__.Actions.RemoveShapes(this.layer, shapes));\n  }\n\n  /**\n   * Paste clones of the shapes from the clipboard.\n   *\n   * Pasting will not occur if the BEFORE_PASTE event is vetoed.\n   * Shapes may be offset from their original or previously pasted positions depending on\n   * how they were posted to the clipboard (whether by this tool's copy/cut operations,\n   * or application code)\n   */\n  paste() {\n    this.pasteCounter++;\n    const shapes = this.clipboard.cloneShapes();\n\n    const beforePasteEvent = { type: CopyTool.BEFORE_PASTE, veto: false };\n    this.dispatchEvent(beforePasteEvent);\n    if (beforePasteEvent.veto) {\n      return;\n    }\n\n    if (this.pasteCounter > 0) {\n      // Compute how far we want to shift the copy that we create.\n      // We shift by 30 pixels, then by 60, etc.\n      const shapeOffset = this.pasteCounter * PasteOffset * this.layer.getUnitsPerPixel();\n      shapes.forEach((shape) => shape.move(shapeOffset, shapeOffset));\n    }\n\n    this.undoStack.run(new _Actions_js__WEBPACK_IMPORTED_MODULE_0__.Actions.AddShapes(this.layer, shapes));\n    // Change selection to new shapes\n    this.selection.setSelection(shapes);\n\n    this.dispatchEvent({ type: CopyTool.AFTER_PASTE, shapes });\n  }\n\n  /**\n   * Delete all selected shapes\n   */\n  delete() {\n    const shapes = this.selection.getSelectedShapes();\n    this.undoStack.run(new _Actions_js__WEBPACK_IMPORTED_MODULE_0__.Actions.RemoveShapes(this.layer, shapes));\n    this.selection.clear();\n  }\n\n  handleKeyDown(event, keyCode) {\n\n    // Accept command key on Mac as alternative to ctrl.\n    const ctrlKey = event.ctrlKey || event.metaKey;\n\n    if (!this.selection.empty()) {\n      if (keyCode === av.KeyCode.DELETE) {\n        this.delete();\n        return true;\n      }\n\n      if (ctrlKey) {\n        if (keyCode === av.KeyCode.c) {\n          this.copy();\n          return true;\n        }\n        if (this.enableCut && keyCode === av.KeyCode.x) {\n          this.cut();\n          return true;\n        }\n      }\n    }\n\n    if (this.clipboard.hasShapes() && ctrlKey && keyCode === av.KeyCode.v) {\n      this.paste();\n      return true;\n    }\n\n    return false;\n  }\n\n  // Some paperwork for ToolController\n  getName() {\n    return CopyToolName + this.nameSuffix;\n  }\n  getNames() {\n    return [this.getName()];\n  }\n  activate() {}\n  deactivate() {}\n};\n\nCopyTool.BEFORE_PASTE = \"BEFORE_PASTE\";\nCopyTool.AFTER_PASTE = \"AFTER_PASTE\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPQSxDQUFBLEVBQUc7SUFDTixPQUFPaEUsWUFBWSxHQUFHLElBQUksQ0FBQ2dCLFVBQVU7RUFDekM7RUFDQWlELFFBQVFBLENBQUEsRUFBRztJQUNQLE9BQU8sQ0FBQyxJQUFJLENBQUNELE9BQU8sQ0FBQyxDQUFDLENBQUM7RUFDM0I7RUFDQUUsUUFBUUEsQ0FBQSxFQUFHLENBQUU7RUFDYkMsVUFBVUEsQ0FBQSxFQUFHLENBQUU7QUFDbkIsQ0FBQzs7QUFFRDlELFFBQVEsQ0FBQ21DLFlBQVksR0FBRyxjQUFjO0FBQ3RDbkMsUUFBUSxDQUFDNkMsV0FBVyxHQUFJLGFBQWEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9FZGl0MkQvdG9vbHMvQ29weVRvb2wuanM/ODMwNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY3Rpb25zIH0gZnJvbSAnLi4vQWN0aW9ucy5qcyc7XG5pbXBvcnQgQ2xpcGJvYXJkIGZyb20gJy4uL0NsaXBib2FyZC5qcyc7XG5cbmNvbnN0IENvcHlUb29sTmFtZSA9ICdFZGl0Ml9Db3B5VG9vbCc7XG5cbmNvbnN0IGF2ID0gQXV0b2Rlc2suVmlld2luZztcblxuLy8gQXBwbHkgY29uc3RhbnQgb2Zmc2V0IGluIHgveSBmb3IgZWFjaCBwYXN0ZSBzdGVwLCBzbyB0aGF0IHBhc3RlZCBzaGFwZXMgYXJlIG5vdCBleGFjdGx5IG9uIHRvcCBvZiB0aGUgc3JjIHNoYXBlcy5cbmNvbnN0IFBhc3RlT2Zmc2V0ID0gMzA7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvcHlUb29sIHtcblxuICAgIGNvbnN0cnVjdG9yKGN0eCkge1xuXG4gICAgICAgIEF1dG9kZXNrLlZpZXdpbmcuRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZS5hcHBseSh0aGlzKTtcblxuICAgICAgICB0aGlzLnZpZXdlciA9IGN0eC52aWV3ZXI7XG4gICAgICAgIHRoaXMubGF5ZXIgPSBjdHgubGF5ZXI7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uID0gY3R4LnNlbGVjdGlvbjtcbiAgICAgICAgdGhpcy51bmRvU3RhY2sgPSBjdHgudW5kb1N0YWNrO1xuICAgICAgICB0aGlzLmNsaXBib2FyZCA9IGN0eC5jbGlwYm9hcmQ7XG4gICAgICAgIHRoaXMubmFtZVN1ZmZpeCA9IGBfJHtjdHgudG9vbFNldE5hbWV9YDtcblxuICAgICAgICB0aGlzLmVuYWJsZUN1dCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIFRyYWNrIHdoZW4gdGhpcyB0b29sIGlzIHBvc3Rpbmcgc2hhcGVzIHRvIHRoZSBjbGlwYm9hcmQuXG4gICAgICAgIC8vIFVzZWQgdG8gYXZvaWQgbW9kaWZ5aW5nIHRoZSBwYXN0ZUNvdW50ZXIgd2hlbiB0aGlzIHRvb2wgaXMgcG9zdGluZyBzaGFwZXMuXG4gICAgICAgIC8vIFRoaXMgaXMgYSByZWZlcmVuY2UgdG8gdGhlIGFycmF5IGJlaW5nIHBvc3RlZCBvciBudWxsLiBBbiBhcnJheSBpcyB1c2VkIHJhdGhlciB0aGFuXG4gICAgICAgIC8vIGEgZmxhZyBpbiBjYXNlIGEgY2xpcGJvYXJkIGxpc3RlbmVyIHBvc3RzIHRvIHRoZSBjbGlwYm9hcmQgZHVyaW5nIGEgY2FsbGJhY2suXG4gICAgICAgIHRoaXMuc2hhcGVzQmVpbmdQb3N0ZWQgPSBudWxsO1xuICAgICAgICAvLyBUcmFja3MgdGhlIG51bWJlciBvZiB0aW1lcyB0aGUgY2xpcGJvYXJkIGNvbnRlbnRzIGhhdmUgYmVlbiBwYXN0ZWQuXG4gICAgICAgIC8vIFBhc3RlZCBzaGFwZXMgYXJlIG9mZnNldCB3aGVuZXZlciB0aGUgY291bnRlciBpcyBncmVhdGVyIHRoYW4gemVyby5cbiAgICAgICAgLy8gU2V0IHRoZSBjb3VudGVyIHRvIGEgbmVnYXRpdmUgdmFsdWUgdG8gcHJldmVudCBvZmZzZXR0aW5nIGZvciBzb21lIHBhc3Rlcy5cbiAgICAgICAgdGhpcy5wYXN0ZUNvdW50ZXIgPSAwO1xuXG4gICAgICAgIHRoaXMub25DbGlwYm9hcmRDb250ZW50Q2hhbmdlZCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnNoYXBlcyAhPT0gdGhpcy5zaGFwZXNCZWluZ1Bvc3RlZCkge1xuICAgICAgICAgICAgICAgIC8vIERvIG5vdCBhcHBseSBvZmZzZXQgdG8gdGhlIGZpcnN0IHBhc3RlIG9mIGNvbnRlbnQgcGxhY2VkIG9uIHRoZSBjbGlwYm9hcmQgYnkgb3RoZXIgY29kZVxuICAgICAgICAgICAgICAgIC8vIHRvIHByZXNlcnZlIGl0cyBsb2NhdGlvblxuICAgICAgICAgICAgICAgIHRoaXMucGFzdGVDb3VudGVyID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmVnaXN0ZXIoKSB7XG4gICAgICAgIHRoaXMuY2xpcGJvYXJkLmFkZEV2ZW50TGlzdGVuZXIoQ2xpcGJvYXJkLkNPTlRFTlRfQ0hBTkdFRCwgdGhpcy5vbkNsaXBib2FyZENvbnRlbnRDaGFuZ2VkKTtcbiAgICB9XG5cbiAgICBkZXJlZ2lzdGVyKCkge1xuICAgICAgICB0aGlzLmNsaXBib2FyZC5yZW1vdmVFdmVudExpc3RlbmVyKENsaXBib2FyZC5DT05URU5UX0NIQU5HRUQsIHRoaXMub25DbGlwYm9hcmRDb250ZW50Q2hhbmdlZCk7XG4gICAgfVxuXG4gICAgX3Bvc3RTZWxlY3RlZFNoYXBlc1RvQ2xpcGJvYXJkKCkge1xuICAgICAgICBjb25zdCBzaGFwZXMgPSB0aGlzLnNlbGVjdGlvbi5nZXRTZWxlY3RlZFNoYXBlcygpO1xuXG4gICAgICAgIHRoaXMuc2hhcGVzQmVpbmdQb3N0ZWQgPSBzaGFwZXM7XG4gICAgICAgIHRoaXMuY2xpcGJvYXJkLnBvc3RTaGFwZXMoc2hhcGVzKTtcbiAgICAgICAgdGhpcy5zaGFwZXNCZWluZ1Bvc3RlZCA9IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHNoYXBlcztcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIENvcHkgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBzaGFwZXMgdG8gdGhlIGNsaXBib2FyZC5cbiAgICAgKlxuICAgICAqIEVhY2ggdGltZSB0aGUgc2hhcGVzIGFyZSBwYXN0ZWQsIHRoZXkgd2lsbCBiZSBvZmZzZXQgZnJvbSB0aGVpciBvcmlnaW5hbCBwb3NpdGlvbnMgKGZpcnN0IHBhc3RlKVxuICAgICAqIG9yIHRoZWlyIGxhc3QgcGFzdGVkIHBvc2l0aW9ucy4gVGhlIG9mZnNldCBjdXJyZW50bHkgZG9lc24ndCBjaGFuZ2Ugd2l0aCB0aGUgdW5kby9yZWRvIG9mIHBhc3RlIG9wZXJhdGlvbnMuXG4gICAgICovXG4gICAgY29weSgpIHtcbiAgICAgICAgdGhpcy5fcG9zdFNlbGVjdGVkU2hhcGVzVG9DbGlwYm9hcmQoKTtcbiAgICAgICAgdGhpcy5wYXN0ZUNvdW50ZXIgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEN1dCB0aGUgY3VycmVudGx5IHNlbGVjdGVkIHNoYXBlcyB0byB0aGUgY2xpcGJvYXJkLlxuICAgICAqXG4gICAgICogRWFjaCB0aW1lIHRoZSBzaGFwZXMgYXJlIHBhc3RlZCwgdGhleSB3aWxsIGJlIGluIHRoZWlyIG9yaWdpbmFsIHBvc2l0aW9ucyAoZmlyc3QgcGFzdGUpXG4gICAgICogb3Igb2Zmc2V0IGZyb20gdGhlaXIgbGFzdCBwYXN0ZWQgcG9zaXRpb25zLiBUaGUgb2Zmc2V0IGN1cnJlbnRseSBkb2Vzbid0IGNoYW5nZSB3aXRoIHRoZVxuICAgICAqIHVuZG8vcmVkbyBvZiBwYXN0ZSBvcGVyYXRpb25zLlxuICAgICAqL1xuICAgIGN1dCgpIHtcbiAgICAgICAgY29uc3Qgc2hhcGVzID0gdGhpcy5fcG9zdFNlbGVjdGVkU2hhcGVzVG9DbGlwYm9hcmQoKTtcbiAgICAgICAgLy8gRG8gbm90IGFwcGx5IG9mZnNldCB0byB0aGUgZmlyc3QgcGFzdGVcbiAgICAgICAgdGhpcy5wYXN0ZUNvdW50ZXIgPSAtMTtcblxuICAgICAgICB0aGlzLnVuZG9TdGFjay5ydW4obmV3IEFjdGlvbnMuUmVtb3ZlU2hhcGVzKHRoaXMubGF5ZXIsIHNoYXBlcykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhc3RlIGNsb25lcyBvZiB0aGUgc2hhcGVzIGZyb20gdGhlIGNsaXBib2FyZC5cbiAgICAgKlxuICAgICAqIFBhc3Rpbmcgd2lsbCBub3Qgb2NjdXIgaWYgdGhlIEJFRk9SRV9QQVNURSBldmVudCBpcyB2ZXRvZWQuXG4gICAgICogU2hhcGVzIG1heSBiZSBvZmZzZXQgZnJvbSB0aGVpciBvcmlnaW5hbCBvciBwcmV2aW91c2x5IHBhc3RlZCBwb3NpdGlvbnMgZGVwZW5kaW5nIG9uXG4gICAgICogaG93IHRoZXkgd2VyZSBwb3N0ZWQgdG8gdGhlIGNsaXBib2FyZCAod2hldGhlciBieSB0aGlzIHRvb2wncyBjb3B5L2N1dCBvcGVyYXRpb25zLFxuICAgICAqIG9yIGFwcGxpY2F0aW9uIGNvZGUpXG4gICAgICovXG4gICAgcGFzdGUoKSB7XG4gICAgICAgIHRoaXMucGFzdGVDb3VudGVyKys7XG4gICAgICAgIGNvbnN0IHNoYXBlcyA9IHRoaXMuY2xpcGJvYXJkLmNsb25lU2hhcGVzKCk7XG5cbiAgICAgICAgY29uc3QgYmVmb3JlUGFzdGVFdmVudCA9IHsgdHlwZTogQ29weVRvb2wuQkVGT1JFX1BBU1RFLCB2ZXRvOiBmYWxzZSB9O1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoYmVmb3JlUGFzdGVFdmVudCk7XG4gICAgICAgIGlmIChiZWZvcmVQYXN0ZUV2ZW50LnZldG8pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnBhc3RlQ291bnRlciA+IDApIHtcbiAgICAgICAgICAgIC8vIENvbXB1dGUgaG93IGZhciB3ZSB3YW50IHRvIHNoaWZ0IHRoZSBjb3B5IHRoYXQgd2UgY3JlYXRlLlxuICAgICAgICAgICAgLy8gV2Ugc2hpZnQgYnkgMzAgcGl4ZWxzLCB0aGVuIGJ5IDYwLCBldGMuXG4gICAgICAgICAgICBjb25zdCBzaGFwZU9mZnNldCA9IHRoaXMucGFzdGVDb3VudGVyICogUGFzdGVPZmZzZXQgKiB0aGlzLmxheWVyLmdldFVuaXRzUGVyUGl4ZWwoKTtcbiAgICAgICAgICAgIHNoYXBlcy5mb3JFYWNoKChzaGFwZSkgPT4gc2hhcGUubW92ZShzaGFwZU9mZnNldCwgc2hhcGVPZmZzZXQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudW5kb1N0YWNrLnJ1bihuZXcgQWN0aW9ucy5BZGRTaGFwZXModGhpcy5sYXllciwgc2hhcGVzKSk7XG4gICAgICAgIC8vIENoYW5nZSBzZWxlY3Rpb24gdG8gbmV3IHNoYXBlc1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb24oc2hhcGVzKTtcblxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoeyB0eXBlOiBDb3B5VG9vbC5BRlRFUl9QQVNURSwgc2hhcGVzIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBhbGwgc2VsZWN0ZWQgc2hhcGVzXG4gICAgICovXG4gICAgZGVsZXRlKCkge1xuICAgICAgICBjb25zdCBzaGFwZXMgPSB0aGlzLnNlbGVjdGlvbi5nZXRTZWxlY3RlZFNoYXBlcygpO1xuICAgICAgICB0aGlzLnVuZG9TdGFjay5ydW4obmV3IEFjdGlvbnMuUmVtb3ZlU2hhcGVzKHRoaXMubGF5ZXIsIHNoYXBlcykpO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5jbGVhcigpO1xuICAgIH1cblxuICAgIGhhbmRsZUtleURvd24oZXZlbnQsIGtleUNvZGUpIHtcblxuICAgICAgICAvLyBBY2NlcHQgY29tbWFuZCBrZXkgb24gTWFjIGFzIGFsdGVybmF0aXZlIHRvIGN0cmwuXG4gICAgICAgIGNvbnN0IGN0cmxLZXkgPSBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXk7XG5cbiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGlvbi5lbXB0eSgpKSB7XG4gICAgICAgICAgICBpZiAoa2V5Q29kZSA9PT0gYXYuS2V5Q29kZS5ERUxFVEUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY3RybEtleSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXlDb2RlID09PSBhdi5LZXlDb2RlLmMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3B5KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbmFibGVDdXQgJiYga2V5Q29kZSA9PT0gYXYuS2V5Q29kZS54KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3V0KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNsaXBib2FyZC5oYXNTaGFwZXMoKSAmJiBjdHJsS2V5ICYmIGtleUNvZGUgPT09IGF2LktleUNvZGUudikge1xuICAgICAgICAgICAgdGhpcy5wYXN0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8vIFNvbWUgcGFwZXJ3b3JrIGZvciBUb29sQ29udHJvbGxlclxuICAgIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiBDb3B5VG9vbE5hbWUgKyB0aGlzLm5hbWVTdWZmaXg7XG4gICAgfVxuICAgIGdldE5hbWVzKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMuZ2V0TmFtZSgpXTtcbiAgICB9XG4gICAgYWN0aXZhdGUoKSB7IH1cbiAgICBkZWFjdGl2YXRlKCkgeyB9XG59O1xuXG5Db3B5VG9vbC5CRUZPUkVfUEFTVEUgPSBcIkJFRk9SRV9QQVNURVwiO1xuQ29weVRvb2wuQUZURVJfUEFTVEUgID0gXCJBRlRFUl9QQVNURVwiO1xuIl0sIm5hbWVzIjpbIkFjdGlvbnMiLCJDbGlwYm9hcmQiLCJDb3B5VG9vbE5hbWUiLCJhdiIsIkF1dG9kZXNrIiwiVmlld2luZyIsIlBhc3RlT2Zmc2V0IiwiQ29weVRvb2wiLCJjb25zdHJ1Y3RvciIsImN0eCIsIkV2ZW50RGlzcGF0Y2hlciIsInByb3RvdHlwZSIsImFwcGx5Iiwidmlld2VyIiwibGF5ZXIiLCJzZWxlY3Rpb24iLCJ1bmRvU3RhY2siLCJjbGlwYm9hcmQiLCJuYW1lU3VmZml4IiwidG9vbFNldE5hbWUiLCJlbmFibGVDdXQiLCJzaGFwZXNCZWluZ1Bvc3RlZCIsInBhc3RlQ291bnRlciIsIm9uQ2xpcGJvYXJkQ29udGVudENoYW5nZWQiLCJldmVudCIsInNoYXBlcyIsInJlZ2lzdGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsIkNPTlRFTlRfQ0hBTkdFRCIsImRlcmVnaXN0ZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX3Bvc3RTZWxlY3RlZFNoYXBlc1RvQ2xpcGJvYXJkIiwiZ2V0U2VsZWN0ZWRTaGFwZXMiLCJwb3N0U2hhcGVzIiwiY29weSIsImN1dCIsInJ1biIsIlJlbW92ZVNoYXBlcyIsInBhc3RlIiwiY2xvbmVTaGFwZXMiLCJiZWZvcmVQYXN0ZUV2ZW50IiwidHlwZSIsIkJFRk9SRV9QQVNURSIsInZldG8iLCJkaXNwYXRjaEV2ZW50Iiwic2hhcGVPZmZzZXQiLCJnZXRVbml0c1BlclBpeGVsIiwiZm9yRWFjaCIsInNoYXBlIiwibW92ZSIsIkFkZFNoYXBlcyIsInNldFNlbGVjdGlvbiIsIkFGVEVSX1BBU1RFIiwiZGVsZXRlIiwiY2xlYXIiLCJoYW5kbGVLZXlEb3duIiwia2V5Q29kZSIsImN0cmxLZXkiLCJtZXRhS2V5IiwiZW1wdHkiLCJLZXlDb2RlIiwiREVMRVRFIiwiYyIsIngiLCJoYXNTaGFwZXMiLCJ2IiwiZ2V0TmFtZSIsImdldE5hbWVzIiwiYWN0aXZhdGUiLCJkZWFjdGl2YXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Edit2D/tools/CopyTool.js\n");

/***/ }),

/***/ "./extensions/Edit2D/tools/EdgeMoveTool.js":
/*!*************************************************!*\
  !*** ./extensions/Edit2D/tools/EdgeMoveTool.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EdgeMoveTool)\n/* harmony export */ });\n/* harmony import */ var _Actions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Actions.js */ \"./extensions/Edit2D/Actions.js\");\n/* harmony import */ var _Math2D_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Math2D.js */ \"./extensions/Edit2D/Math2D.js\");\n/* harmony import */ var _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../EditShapes.js */ \"./extensions/Edit2D/EditShapes.js\");\n/* harmony import */ var _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../CanvasGizmo.js */ \"./extensions/Edit2D/CanvasGizmo.js\");\n/* harmony import */ var _EditToolBase_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./EditToolBase.js */ \"./extensions/Edit2D/tools/EditToolBase.js\");\n\n\n\n\n\n\n\nconst EdgeMoveToolName = \"Edit2_EdgeMoveTool\";\n\nconst av = Autodesk.Viewing;\n\nconst edgeGizmoName = (index) => {\n  return 'PolygonEditTool_edgeGizmo_' + index.toString();\n};\n\n// Given a Polyline/Polygon and a vertex index, check if the two edges next to 'vertex' are collinear.\n// Returns false if vertex does not have 2 different neighbor edges.\nconst edgesCollinear = (poly, vertex, loopIndex) => {\n\n  // If polygon/polyline just contains 0 or 1 edges, just return false.\n  const vertexCount = poly.getVertexCount(loopIndex);\n  if (vertexCount < 3) {\n    return false;\n  }\n\n  // check if neighbor edges exist\n  const isLine = poly.isPolyline();\n  const prevExists = !(isLine && vertex === 0);\n  const nextExists = !(isLine && vertex === vertexCount - 1);\n\n  // If poly has only 1 edge or 'vertex' is an end vertex of a polyline, stop here.\n  if (!prevExists || !nextExists) {\n    return false;\n  }\n\n  // get points before and after vertex\n  const prevIndex = poly.prevIndex(vertex, loopIndex);\n  const nextIndex = poly.nextIndex(vertex, loopIndex);\n\n  const precision = 1.e-5;\n\n  const a = poly.getPoint(prevIndex, loopIndex);\n  const b = poly.getPoint(vertex, loopIndex);\n  const c = poly.getPoint(nextIndex, loopIndex);\n  return _Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.isPointOnLine(b, a, c, precision);\n};\n\nclass EdgeMoveTool extends _EditToolBase_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"] {\n\n  constructor(ctx) {let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    super(ctx);\n\n    this.options = options;\n    this.layer = ctx.layer;\n    this.selection = ctx.selection;\n    this.nameSuffix = `_${ctx.toolSetName}`;\n\n    this.keyMap.CancelEdit = av.KeyCode.ESCAPE;\n\n    // When dragging an edge, this stores a copy of its original position\n    this.dragEdgeStartPos = {\n      a: new THREE.Vector2(),\n      b: new THREE.Vector2()\n    };\n\n    // Last drag position in layer coords\n    this.lastDragPoint = new THREE.Vector2();\n\n    // Index of the edge being dragged or -1\n    this.draggedEdge = null; // {PolyIndex}\n\n    // When dragging an edge, selectedEdge is the same as draggedEdge. After the interaction, draggedEdge is reset to -1, but\n    // the edge keeps selected until clicking somewhere else.\n    this.selectedEdge = null; // {PolyIndex}\n\n    // In some cases, we duplicate start/end vertex when beginning to drag an edge. This may shift this.draggedEdge by 1 or 2.\n    // draggedEdgeBefore stores the original edgeIndex before duplicating vertices.\n    this.draggedEdgeBefore = null; //{PolyIndex};\n\n    // Reused to store edge normal of dragged edge\n    this.draggedEdgeNormal = new THREE.Vector2();\n\n    // When dragging edges, we store the offset (in layer-coords) between the accurate click position and the center of the clicked edge gizmo\n    // Stored in pixels.\n    this.dragOffset = new THREE.Vector2(0, 0);\n\n    // Used when dragging an edge: Indicates whether we had to duplicate\n    // start/end vertex of the edge in order to move it.\n    this.duplicateStartVertex = false;\n    this.duplicateEndVertex = false;\n\n    // {EdgeGizmo[][]} Array of Gizmos per loop for moving edges.\n    this.edgeGizmos = [];\n\n    // gizmos are enabled by default.\n    this.gizmosEnabled = true;\n\n    // Used to highlight a dragged edge in a different color by drawing a single-edge overlay.\n    this.edgeGizmo = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__.Polyline();\n    this.edgeGizmoShown = false; // indicates that gizmo is currently added to gizmoLayer\n\n    // Displays dashed lines that connect start/end vertex of arc segments\n    this.arcEdgeGizmo = new _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_3__.ArcEdgeGizmo(ctx.layer, ctx.gizmoLayer);\n\n    // Create length label. Default hidden - showing is optional.\n    this.lengthLabel = new _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_3__.LengthLabel(null, this.layer, ctx.unitHandler, false);\n\n    // Constant color for highlighted edges\n    this.edgeHighlightStyle = this.options.edgeHighlightStyle || new _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__.Style({ lineColor: 'rgb(0, 255, 0)' });\n\n    this.gizmoClassName = this.options.gizmoClassName;\n  }\n\n  getName() {\n    return EdgeMoveToolName + this.nameSuffix;\n  }\n\n  deactivate() {\n    super.deactivate();\n    this.reset();\n  }\n\n  // Enable the length labels (public API)\n  setLengthLabelVisible(visible) {\n    this.lengthLabel.setVisible(visible);\n  }\n\n  handleButtonDown(event, button) {\n    // Support suppressing mouse buttons by holding a key\n    if (this.ignoreDragging) {\n      return false;\n    }\n\n    super.handleButtonDown(event, button);\n\n    // Only respond to left mouse button.\n    if (!button == 0) {\n      return false;\n    }\n\n    if (!this.poly) {\n      return;\n    }\n\n    this.setSelectedEdge(null);\n\n    // Handle Edge-Move: If we hit an EdgeGizmo, start dragging it\n    const selectedEdgeGizmo = this.getEdgeIndex();\n\n    if (this.edgeMovePossible() && selectedEdgeGizmo) {\n      this.startedDragging = true;\n      this.startDragEdge(event, selectedEdgeGizmo);\n      return true;\n    }\n\n    return false;\n  }\n\n  handleMouseMove(event) {\n    super.handleMouseMove(event);\n\n    this.updateEdgeGizmo();\n\n    if (!this.poly) {\n      return false;\n    }\n\n    if (this.draggedEdge) {\n      this.moveDragEdge(event);\n\n      return true;\n    }\n\n    return false;\n  }\n\n  handleButtonUp(event, button) {\n    super.handleButtonUp(event, button);\n\n    const wasDragging = this.startedDragging;\n    this.startedDragging = false;\n\n    if (!this.poly) {\n      return;\n    }\n\n    if (this.draggedEdge) {\n      this.endDragEdge();\n      return true;\n    }\n\n    // Consider all left-button events as handled. E.g., if dragging was cancelled using Esc,\n    // we do nothing here, but letting the mouseUp pass to navigation classes would cause camera jumps.\n    return !this.ignoreDragging && wasDragging;\n  }\n\n  handleKeyDown(event, keyCode) {\n    let handled = super.handleKeyDown(event, keyCode);\n\n    if (keyCode === this.keyMap.CancelEdit) {\n      handled = this.cancelDrag();\n    }\n\n    return handled;\n  }\n\n  getCursor() {\n\n    if (!this.poly) {\n      return;\n    }\n\n    // Note: Vertex gizmos and edge gizmos are separate DomElements and define own mouse cursors via style.\n    // Indicate: \"Moving a gizmo\". Currently, we use the same as for shape move. Note that\n    //           the cursor for gizmo dragging must be consistent with the one we have if the mouse is on the gizmo.\n    //           Otherwise, the mouse cursor would change its state when temporarily leaving the gizmo on fast moves.\n    if (this.draggedEdge) {\n      return 'move';\n    }\n\n    // => Just default cursor\n    return undefined;\n  }\n\n  // Returns the index of the edge gizmo under mouse (or -1 if no EdgeGizmo is hit)\n  // (x,y) are in layer-coords\n  //  @returns {PolyIndex}\n  getEdgeIndex() {\n    for (let l = 0; l < this.edgeGizmos.length; l++) {\n      const gizmos = this.edgeGizmos[l];\n      const index = this.gizmoManager.getGizmoIndex(gizmos);\n      if (index !== -1) {\n        return new _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__.PolyIndex({ vertex: index, loop: l });\n      }\n    }\n    return null;\n  }\n\n  cancelDrag() {\n\n    let needsUpdate = false;\n\n    if (this.draggedEdge) {\n      this.restoreDragEdge();\n      this.draggedEdge = null;\n      needsUpdate = true;\n    }\n\n    if (needsUpdate) {\n      this.updateAllGizmos();\n      this.layer.update();\n    }\n\n    this.snapper.clearSnappingGizmos();\n\n    return needsUpdate;\n  }\n\n  handleExternalAction(action, isUndo) {\n\n    // make sure that selected edge/vertex are still valid (or switched off)\n    this.updateSelectionState(action, isUndo);\n\n    // Stop any ongoing drag-operations (e.g., an undo operation might have removed the vertex that we are just dragging)\n    this.cancelDrag();\n\n    // Sync gizmos in case vertices were modified\n    this.updateAllGizmos();\n\n    this.snapper.clearSnappingGizmos();\n  }\n\n  // Updates selection of shape(s), vertex, and edge after an action\n  updateSelectionState(action, isUndo) {\n\n    // Check if the action provides a hint how we should update selection\n    const hint = action.getSelectionHint(isUndo);\n    if (hint) {\n      this.setSelectedEdge(hint.edge);\n\n      return;\n    }\n\n    // Default behavior - if we don't know anything better:\n    //  - Keep shape selected if still existing\n    //  - Reset vertex/edge selection\n\n    // If shape was removed, reset state\n    const shapeFound = Boolean(this.poly && this.layer.findShapeById(this.poly.id));\n    if (!shapeFound) {\n      this.reset();\n    }\n\n    // If poly was modified from outside, we can't know if the selected vertex or edge\n    // still exist or have the same meaning. E.g., when undo/redoing a vertex-insert, the indices may have shifted.\n    this.setSelectedEdge(null);\n  }\n\n  startDragEdge(event, draggedEdge) {\n    const edgeIndex = draggedEdge.vertex;\n    const loopIndex = draggedEdge.loop;\n\n    if (this.mouseTracker) {\n      this.mouseTracker.startTracking(this.getName(), Autodesk.Edit2D.Trackings.Drag);\n    }\n\n    // store edge normal for the edge being dragged\n    this.draggedEdgeNormal = this.poly.getLeftEdgeNormal(edgeIndex, loopIndex, this.draggedEdgeNormal);\n\n    // get edge\n    const a = new THREE.Vector2();\n    const b = new THREE.Vector2();\n    this.poly.getEdge(edgeIndex, a, b, loopIndex);\n\n    // get edge direction\n    const edgeDir = _Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.getEdgeDirection(a, b);\n\n    // compute projection of p to the line spanned by the edge\n    let pointOnEdge = this.layer.canvasToLayer(event.canvasX, event.canvasY);\n    _Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.projectToLine(pointOnEdge, a, edgeDir);\n\n    // Set inital dragging point exactly on edge\n    this.lastDragPoint.copy(pointOnEdge);\n\n    // Store offset between exact mouse pos and the edge we are dragging\n    const edgePosScreen = this.layer.layerToCanvas(pointOnEdge.x, pointOnEdge.y);\n    this.dragOffset.set(edgePosScreen.x - event.canvasX, edgePosScreen.y - event.canvasY);\n\n    // store original position of the two edge vertices\n    const ia = edgeIndex;\n    const ib = (edgeIndex + 1) % this.poly.getVertexCount(loopIndex);\n    this.dragEdgeStartPos.a.copy(this.poly.getPoint(ia, loopIndex));\n    this.dragEdgeStartPos.b.copy(this.poly.getPoint(ib, loopIndex));\n\n    // Check if we need to duplicate start and/or end vertex of the edge.\n    // This happens when the neighbor edges are collinear with the ones being moved.\n    this.duplicateStartVertex = edgesCollinear(this.poly, ia, loopIndex);\n    this.duplicateEndVertex = edgesCollinear(this.poly, ib, loopIndex);\n\n    // Duplicate start/end vertices if necessary\n    _Actions_js__WEBPACK_IMPORTED_MODULE_0__.Actions.MoveEdge.duplicateVertices(this.poly, edgeIndex, loopIndex, this.duplicateStartVertex, this.duplicateEndVertex);\n\n    // Store initial edge index (not considering any duplicated vertices)\n    this.draggedEdgeBefore = draggedEdge;\n\n    // Select the edge - using its index after duplicating vertices\n    const newEdgeIndex = _Actions_js__WEBPACK_IMPORTED_MODULE_0__.Actions.MoveEdge.getNewEdgeIndex(this.poly, edgeIndex, loopIndex, this.duplicateStartVertex, this.duplicateEndVertex);\n    const polyIndex = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__.PolyIndex({ vertex: newEdgeIndex, loop: loopIndex });\n    this.setSelectedEdge(polyIndex);\n\n    // Set the edge being dragged\n    this.draggedEdge = polyIndex;\n\n    // Make sure that all gizmos are updated if we duplicated vertices\n    if (this.duplicateStartVertex || this.duplicateEndVertex) {\n      this.updateAllGizmos();\n    }\n  }\n\n  // If selection changes (may also be triggered outside this tool), we choose the selected polyon for editing\n  onSelectionChanged() {\n    const selected = this.selection.getSelectedShapes();\n\n    // Activate if exactly one shape is selected\n    const shape = selected.length == 1 ? selected[0] : null;\n    if (shape instanceof _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__.PolyBase) {\n      this.setEditPoly(shape);\n    } else {\n      this.setEditPoly(null);\n    }\n  }\n\n  // Finishes editing of a previous polygon\n  reset() {\n\n    if (!this.poly) {\n      return;\n    }\n\n    this.poly = null;\n    this.draggedEdge = null;\n    this.selectedEdge = null;\n\n    // Clear any gizmos from previous polygon\n    this.updateAllGizmos();\n\n    this.lengthLabel.setShape(null);\n\n    this.snapper.stopAngleSnapping();\n  }\n\n  // Selects a new polygon / polyline for editing\n  setEditPoly(poly) {\n\n    this.reset();\n\n    if (poly) {\n      this.poly = poly;\n      this.updateAllGizmos();\n    }\n\n    const polyline = poly && poly.isPolyline() ? poly : null;\n    this.lengthLabel.setShape(polyline);\n  }\n\n  // Update edgeGizmos to this.poly or hide all if poly is null\n  createEdgeGizmos() {\n    // Make sure that we don't leak outdated ones\n    this.clearEdgeGizmos();\n\n    if (!this.gizmosEnabled) {\n      // gizmos not enabled, so don't add them.\n      return;\n    }\n\n    let hasEdgeMoveGizmos = false;\n\n    const loopCount = this.poly ? this.poly.loopCount : 0;\n    for (let l = 0; l < loopCount; l++) {\n\n      // Create gizmo per edge\n      const edgeCount = this.poly.getEdgeCount(l);\n\n      // For simple lines, we don't show the edge-move gizmo: It does not make sense to\n      // move an edge, because you can simply move the whole shape instead.\n      const needEdgeMoveGizmos = edgeCount >= 2;\n\n      const gizmos = [];\n      if (needEdgeMoveGizmos) {\n        for (let i = 0; i < edgeCount; i++) {\n          const gizmo = new _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_3__.EdgeMoveGizmo(this.layer, edgeGizmoName(i), undefined, this.gizmoClassName);\n          gizmo.attachToEdge(this.poly, i, l);\n          gizmos.push(gizmo);\n        }\n\n        hasEdgeMoveGizmos = true;\n      }\n\n      // add gizmos for this loop\n      this.edgeGizmos.push(gizmos);\n    }\n\n    // attach arcEdgeGizmo to current shape, so that dashed lines are displayed for its arc segments\n    this.arcEdgeGizmo.setPoly(this.poly);\n\n    this.updateEdgeGizmoHighlighting();\n\n    // Shift label a bit up to avoid it from occluding the move-edge gizmo\n    const yOffset = hasEdgeMoveGizmos ? 20 : 0;\n    this.lengthLabel.pixelOffset.set(0, yOffset);\n  }\n\n  moveDragEdge(event) {\n\n    if (!this.draggedEdge) {\n      return;\n    }\n\n    const edgeIndex = this.draggedEdge.vertex;\n    const loopIndex = this.draggedEdge.loop;\n\n    // Note that the edge we are dragging does not always match exactly with the mouse position. E.g., we may have picked the bottom-left boundary of a edge gizmo at drag-start.\n    const x = event.canvasX + this.dragOffset.x;\n    const y = event.canvasY + this.dragOffset.y;\n\n    const p = this.getSnapPosition(x, y);\n\n    // get delta between last and current position\n    const delta = p.clone().sub(this.lastDragPoint);\n\n    // get indices of prev and next edge\n    const prevEdgeIndex = this.poly.prevEdgeIndex(edgeIndex, loopIndex);\n    const nextEdgeIndex = this.poly.nextEdgeIndex(edgeIndex, loopIndex);\n\n    // prev/next edge may not exist if we are at the end of a polyline\n    const prevEdgeExists = prevEdgeIndex !== -1;\n    const nextEdgeExists = nextEdgeIndex !== -1;\n\n    // Will contain the new edge endpoints\n    let newEdgeA = new THREE.Vector2();\n    let newEdgeB = new THREE.Vector2();\n\n    // get edge vertices\n    const curEdgeA = new THREE.Vector2();\n    const curEdgeB = new THREE.Vector2();\n    this.poly.getEdge(edgeIndex, curEdgeA, curEdgeB, loopIndex);\n\n    if (!prevEdgeExists && !nextEdgeExists) {\n      // If prev/next are both missing, we are moving an isoldated line segment around.\n      // In this case, we can just allow unconstrained moving and are done here.\n      newEdgeA.copy(curEdgeA).add(delta);\n      newEdgeB.copy(curEdgeB).add(delta);\n    } else {\n\n      // get next/previous edge (if existing)\n      const prevEdgeA = new THREE.Vector2();\n      const prevEdgeB = new THREE.Vector2();\n      const nextEdgeA = new THREE.Vector2();\n      const nextEdgeB = new THREE.Vector2();\n      prevEdgeExists && this.poly.getEdge(prevEdgeIndex, prevEdgeA, prevEdgeB, loopIndex);\n      nextEdgeExists && this.poly.getEdge(nextEdgeIndex, nextEdgeA, nextEdgeB, loopIndex);\n\n      // Handle start edges of polylines: Choose some \"assumed\" previous edge if there is none.\n      if (!prevEdgeExists) {\n\n        prevEdgeB.copy(curEdgeA);\n\n        if (!this.duplicateEndVertex) {\n          // Assume previous edge to be parallel to the next one. In this\n          // way, we constrain the movement only along one direction.\n          prevEdgeA.copy(nextEdgeB).sub(curEdgeB).add(curEdgeA);\n        } else {\n          // The second edge was collinear with the first, so we had to add an extra vertex at dragStart.\n          // Therefore, nextEdge is degenerated and we cannot use it.\n          // For this case, we just assume prevEdge to be perpendicular to the current edge.\n          prevEdgeA.copy(curEdgeA).add(this.draggedEdgeNormal);\n        }\n      }\n\n      // Handle end edges of polylines: Choose some \"assumed\" next edge if there is none\n      if (!nextEdgeExists) {\n\n        nextEdgeA.copy(curEdgeB);\n\n        if (!this.duplicateStartVertex) {\n          // Assume next edge to be parallel to the previous one. In this\n          // way, we constrain the movement only along one direction.\n          nextEdgeB.copy(prevEdgeA).sub(curEdgeA).add(curEdgeB);\n        } else {\n          // The previous edge was collinear with the current one, so we had to add an extra vertex at dragStart.\n          // Therefore, prevEdge is degenerated and we cannot use it.\n          // For this case, we just assume nextEdge to be perpendicular to the current edge.\n          nextEdgeB.copy(curEdgeB).add(this.draggedEdgeNormal);\n        }\n      }\n\n      // Compute directions for each edge to intersect\n      const prevEdgeDir = _Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.getEdgeDirection(prevEdgeA, prevEdgeB);\n      const curEdgeDir = _Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.getEdgeDirection(curEdgeA, curEdgeB);\n      const nextEdgeDir = _Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.getEdgeDirection(nextEdgeA, nextEdgeB);\n\n      // Apply move offset\n      curEdgeA.add(delta);\n      curEdgeB.add(delta);\n\n      // If we added extra vertices, the (newly inserted) neighbor edges will be degenerated\n      // and the edge directions will be invalid. In this case, we choose the edge direction\n      // perpendicular to the edge that we are dragging.\n      if (this.duplicateStartVertex) prevEdgeDir.copy(this.draggedEdgeNormal);\n      if (this.duplicateEndVertex) nextEdgeDir.copy(this.draggedEdgeNormal);\n\n      // Compute new edge endpoints as intersection of prev/next edge with the moved line\n      if (!_Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.intersectLines(prevEdgeA, prevEdgeDir, curEdgeA, curEdgeDir, newEdgeA) ||\n      !_Math2D_js__WEBPACK_IMPORTED_MODULE_1__.Math2D.intersectLines(nextEdgeA, nextEdgeDir, curEdgeA, curEdgeDir, newEdgeB)) {\n        // If we don't find an intersection, reject this edge move attempt, because\n        // it's not possible to move the edge in this way by enlarging the neighbor edges.\n        return;\n      }\n    }\n\n    // get indices of the points to modify\n    const ia = edgeIndex;\n    const ib = this.poly.nextIndex(ia, loopIndex);\n\n    // The intersections gives us the new position for the edge vertices\n    this.poly.updatePoint(ia, newEdgeA.x, newEdgeA.y, loopIndex);\n    this.poly.updatePoint(ib, newEdgeB.x, newEdgeB.y, loopIndex);\n\n    this.gizmoLayer.update();\n    this.layer.update();\n\n    this.lastDragPoint.copy(p);\n\n    // We moved the edge => Keep gizmo in-sync\n    this.updateEdgeGizmo();\n  }\n\n  // While dragging an edge, this function restores the original position at drag start\n  restoreDragEdge() {\n\n    if (!this.draggedEdge) {\n      return;\n    }\n\n    const edgeIndex = this.draggedEdge.vertex;\n    const loopIndex = this.draggedEdge.loop;\n\n    const a = this.dragEdgeStartPos.a;\n    const b = this.dragEdgeStartPos.b;\n\n    const ia = edgeIndex;\n    const ib = this.poly.nextIndex(ia, loopIndex);\n\n    this.poly.updatePoint(ia, a.x, a.y, loopIndex);\n    this.poly.updatePoint(ib, b.x, b.y, loopIndex);\n\n    // Revert insertion of extra vertices\n    _Actions_js__WEBPACK_IMPORTED_MODULE_0__.Actions.MoveEdge.revertDuplicateVertices(this.poly, this.draggedEdgeBefore.vertex, loopIndex, this.duplicateStartVertex, this.duplicateEndVertex);\n\n    // If we duplicated vertices at dragStart and reverted it now,\n    // the index of the selected edge may have shifted. So, we must change it to the old one to keep to (visually) keep the same\n    // edge selected as before.\n    this.selectedEdge = this.draggedEdgeBefore;\n  }\n\n  endDragEdge() {\n    if (this.mouseTracker) {\n      this.mouseTracker.stopTracking(this.getName(), Autodesk.Edit2D.Trackings.Drag);\n    }\n\n    if (!this.draggedEdge) {\n      return;\n    }\n    const edgeIndex = this.draggedEdge.vertex;\n    const loopIndex = this.draggedEdge.loop;\n\n    // get final position of the edge vertices\n    const ia = edgeIndex;\n    const ib = this.poly.nextIndex(ia, loopIndex);\n\n    const newPos1 = this.poly.getPoint(ia, loopIndex);\n    const newPos2 = this.poly.getPoint(ib, loopIndex);\n\n    this.restoreDragEdge();\n\n    // If the edge was hardly moved at all, we drop the operation. Otherwise, the only effect would be to add invisible\n    // vertex duplicates.\n    const delta = this.dragEdgeStartPos.a.distanceTo(newPos1) * this.layer.getPixelsPerUnit();\n    if (delta >= 3) {\n      this.runAction(new _Actions_js__WEBPACK_IMPORTED_MODULE_0__.Actions.MoveEdge(this.layer, this.poly, this.draggedEdgeBefore, newPos1, newPos2, this.duplicateStartVertex, this.duplicateEndVertex));\n\n      // If the action duplicated vertices, make sure that the selected edge is updated to\n      // the index that the selected edge has after the action.\n      this.selectedEdge = this.draggedEdge;\n    }\n\n    // Reset draggedEdge, but the edge keeps selected (we don't reset this.selectedEdge)\n    this.draggedEdge = null;\n\n    // update all gizmos\n    this.updateAllGizmos();\n  }\n\n  edgeMovePossible(loopIndex) {\n    return this.poly && this.poly.getVertexCount(loopIndex) > 2;\n  }\n\n  // Make sure that EdgeGizmo is up-to-date: Its purpose is to highlight the edge being dragged.\n  updateEdgeGizmo() {\n\n    // Check if mouse is on an edge gizmo\n    const edgeUnderMouse = this.getEdgeIndex(); // {PolyIndex}\n\n    const edgeMovePossible = this.edgeMovePossible();\n\n    // Check if we need any highlight\n    const edgeSelected = Boolean(this.poly && this.selectedEdge);\n    const edgeHovered = edgeMovePossible && edgeUnderMouse;\n\n    // If edge is an arc and hovered, we just colorize the arcEdgeGizmo and don't need the extra edge-highlight gizmo\n    const arcEdgeHovered = edgeHovered && this.poly.isPath() && this.poly.isArc(edgeUnderMouse.vertex, edgeUnderMouse.loop);\n\n    // We show the gizmo if an edge is selected or a line-segment is hovered. If gizmos are not enabled, don't show it\n    // regardless of mouse position.\n    const gizmoNeeded = this.gizmosEnabled ? edgeSelected || edgeHovered && !arcEdgeHovered : false;\n\n    // Make sure that edge gizmo is shown if needed\n    if (gizmoNeeded && !this.edgeGizmoShown) {\n      this.gizmoLayer.addShape(this.edgeGizmo);\n      this.edgeGizmoShown = true;\n    } else\n    if (!gizmoNeeded && this.edgeGizmoShown) {\n      this.gizmoLayer.removeShape(this.edgeGizmo);\n      this.edgeGizmoShown = false;\n    }\n\n    // get index of the edge to be highlighted\n    const polyIndex = edgeSelected ? this.selectedEdge : edgeUnderMouse; // {PolyBase}\n    const edgeToHighlight = polyIndex ? polyIndex.vertex : -1;\n    const loopIndex = polyIndex ? polyIndex.loop : -1;\n\n    // Only for arcs: Colorize ArcEdgeGizmo if needed. For hover, this replaces the highlight gizmo. For select, we just set it to the same color to avoid color conflicts.\n    const colorizeArcEdge = this.edgeGizmoShown || arcEdgeHovered;\n    colorizeArcEdge ? this.arcEdgeGizmo.setEdgeHighlighted(edgeToHighlight, loopIndex, this.edgeHighlightStyle.lineColor) : this.arcEdgeGizmo.clearEdgeHighlighting();\n\n    // If we just had to hide it, we are done here\n    if (!gizmoNeeded) {\n      return;\n    }\n\n    // Update edge gizmo position...\n\n    // get the two vertex positions of the edge\n    const a = new THREE.Vector2();\n    const b = new THREE.Vector2();\n    this.poly.getEdge(edgeToHighlight, a, b, loopIndex);\n\n    // copy values to edge gizmo\n    this.edgeGizmo.makeLine(a.x, a.y, b.x, b.y);\n\n    this.edgeGizmo.style = this.edgeHighlightStyle;\n\n    // Adopt lineWidth from selected polygon\n    this.edgeGizmo.style.lineWidth = this.poly.style.lineWidth;\n    this.edgeGizmo.style.isScreenSpace = this.poly.style.isScreenSpace;\n\n    if (edgeSelected) {\n      this.edgeGizmo.style.lineAlpha = 1.0;\n    } else {\n      // Just make it a bit brighter using a semitransparent white overlay\n      this.edgeGizmo.style.lineAlpha = 0.5;\n    }\n\n    this.gizmoLayer.update();\n  }\n\n  // @param {PolyIndex}\n  setSelectedEdge(polyIndex) {\n    this.selectedEdge = polyIndex;\n    this.updateEdgeGizmo();\n    this.updateEdgeGizmoHighlighting();\n  }\n\n  clearEdgeGizmos() {\n    for (let l = 0; l < this.edgeGizmos.length; l++) {\n      const gizmos = this.edgeGizmos[l];\n      for (let i = 0; i < gizmos.length; i++) {\n        gizmos[i].dtor();\n      }\n    }\n    this.edgeGizmos.length = 0;\n\n    // Clear dashed lines between start/endPoint of arcs.\n    this.arcEdgeGizmo.setPoly(null);\n  }\n\n  // Exclude currently edited polygon from snapping: The polygon shouldn't snap to itself, but rather\n  // to geometry below it.\n  snappingFilter(shape) {\n    return shape !== this.poly;\n  }\n\n  // Update edge gizmos (for edge highlighting)\n  updateAllGizmos() {\n    this.updateEdgeGizmo();\n    this.createEdgeGizmos();\n    this.updateEdgeGizmoHighlighting();\n    this.snapper.clearSnappingGizmos();\n  }\n\n  setAllGizmosEnabled(enabled) {\n    this.gizmosEnabled = enabled;\n\n    this.updateAllGizmos();\n  }\n\n  // Update selection highlighting for edge gizmos\n  updateEdgeGizmoHighlighting() {\n    if (!this.gizmosEnabled) {\n      // if gizmos are not enabled, there is nothing to highlight\n      return;\n    }\n\n    const edgeIndex = this.selectedEdge ? this.selectedEdge.vertex : -1;\n    const loopIndex = this.selectedEdge ? this.selectedEdge.loop : -1;\n\n    for (let l = 0; l < this.edgeGizmos.length; l++) {\n      const gizmos = this.edgeGizmos[l];\n      for (let i = 0; i < gizmos.length; i++) {\n        const gizmo = gizmos[i];\n        const selected = i === edgeIndex && l === loopIndex;\n        gizmo.setSelected(selected);\n      }\n    }\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL0VkaXQyRC90b29scy9FZGdlTW92ZVRvb2wuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUN3QztBQUNGO0FBQ2tDO0FBQ0s7QUFDaEM7O0FBRTdDLE1BQU1VLGdCQUFnQixHQUFHLG9CQUFvQjs7QUFFN0MsTUFBTUMsRUFBRSxHQUFHQyxRQUFRLENBQUNDLE9BQU87O0FBRTNCLE1BQU1DLGFBQWEsR0FBR0EsQ0FBQ0MsS0FBSyxLQUFLO0VBQzdCLE9BQU8sNEJBQTRCLEdBQUdBLEtBQUssQ0FBQ0MsUUFBUSxDQUFDLENBQUM7QUFDMUQsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsTUFBTUMsY0FBYyxHQUFHQSxDQUFDQyxJQUFJLEVBQUVDLE1BQU0sRUFBRUMsU0FBUyxLQUFLOztFQUVoRDtFQUNBLE1BQU1DLFdBQVcsR0FBR0gsSUFBSSxDQUFDSSxjQUFjLENBQUNGLFNBQVMsQ0FBQztFQUNsRCxJQUFJQyxXQUFXLEdBQUcsQ0FBQyxFQUFFO0lBQ2pCLE9BQU8sS0FBSztFQUNoQjs7RUFFQTtFQUNBLE1BQU1FLE1BQU0sR0FBR0wsSUFBSSxDQUFDTSxVQUFVLENBQUMsQ0FBQztFQUNoQyxNQUFNQyxVQUFVLEdBQUcsRUFBRUYsTUFBTSxJQUFJSixNQUFNLEtBQUssQ0FBQyxDQUFDO0VBQzVDLE1BQU1PLFVBQVUsR0FBRyxFQUFFSCxNQUFNLElBQUlKLE1BQU0sS0FBS0UsV0FBVyxHQUFHLENBQUMsQ0FBQzs7RUFFMUQ7RUFDQSxJQUFJLENBQUNJLFVBQVUsSUFBSSxDQUFDQyxVQUFVLEVBQUU7SUFDNUIsT0FBTyxLQUFLO0VBQ2hCOztFQUVBO0VBQ0EsTUFBTUMsU0FBUyxHQUFHVCxJQUFJLENBQUNTLFNBQVMsQ0FBQ1IsTUFBTSxFQUFFQyxTQUFTLENBQUM7RUFDbkQsTUFBTVEsU0FBUyxHQUFHVixJQUFJLENBQUNVLFNBQVMsQ0FBQ1QsTUFBTSxFQUFFQyxTQUFTLENBQUM7O0VBRW5ELE1BQU1TLFNBQVMsR0FBRyxLQUFLOztFQUV2QixN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LENBQUMsRUFBRUEsQ0FBQyxHQUFHaEUsTUFBTSxDQUFDNUQsTUFBTSxFQUFFNEgsQ0FBQyxFQUFFLEVBQUU7UUFDcEMsTUFBTUMsS0FBSyxHQUFHakUsTUFBTSxDQUFDZ0UsQ0FBQyxDQUFDO1FBQ3ZCLE1BQU1kLFFBQVEsR0FBSWMsQ0FBQyxLQUFLM0MsU0FBUyxJQUFJdEIsQ0FBQyxLQUFLL0UsU0FBVTtRQUNyRGlKLEtBQUssQ0FBQzJELFdBQVcsQ0FBQzFFLFFBQVEsQ0FBQztNQUMvQjtJQUNKO0VBQ0o7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL0VkaXQyRC90b29scy9FZGdlTW92ZVRvb2wuanM/YmI4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IEFjdGlvbnMgfSBmcm9tICcuLi9BY3Rpb25zLmpzJztcbmltcG9ydCB7IE1hdGgyRCB9IGZyb20gJy4uL01hdGgyRC5qcyc7XG5pbXBvcnQgeyBQb2x5SW5kZXgsIFBvbHlCYXNlLCBQb2x5bGluZSwgU3R5bGUgfSBmcm9tICcuLi9FZGl0U2hhcGVzLmpzJztcbmltcG9ydCB7IEVkZ2VNb3ZlR2l6bW8sIEFyY0VkZ2VHaXptbywgTGVuZ3RoTGFiZWwgfSBmcm9tICcuLi9DYW52YXNHaXptby5qcyc7XG5pbXBvcnQgRWRpdFRvb2xCYXNlIGZyb20gJy4vRWRpdFRvb2xCYXNlLmpzJztcblxuY29uc3QgRWRnZU1vdmVUb29sTmFtZSA9IFwiRWRpdDJfRWRnZU1vdmVUb29sXCI7XG5cbmNvbnN0IGF2ID0gQXV0b2Rlc2suVmlld2luZztcblxuY29uc3QgZWRnZUdpem1vTmFtZSA9IChpbmRleCkgPT4ge1xuICAgIHJldHVybiAnUG9seWdvbkVkaXRUb29sX2VkZ2VHaXptb18nICsgaW5kZXgudG9TdHJpbmcoKTtcbn07XG5cbi8vIEdpdmVuIGEgUG9seWxpbmUvUG9seWdvbiBhbmQgYSB2ZXJ0ZXggaW5kZXgsIGNoZWNrIGlmIHRoZSB0d28gZWRnZXMgbmV4dCB0byAndmVydGV4JyBhcmUgY29sbGluZWFyLlxuLy8gUmV0dXJucyBmYWxzZSBpZiB2ZXJ0ZXggZG9lcyBub3QgaGF2ZSAyIGRpZmZlcmVudCBuZWlnaGJvciBlZGdlcy5cbmNvbnN0IGVkZ2VzQ29sbGluZWFyID0gKHBvbHksIHZlcnRleCwgbG9vcEluZGV4KSA9PiB7XG5cbiAgICAvLyBJZiBwb2x5Z29uL3BvbHlsaW5lIGp1c3QgY29udGFpbnMgMCBvciAxIGVkZ2VzLCBqdXN0IHJldHVybiBmYWxzZS5cbiAgICBjb25zdCB2ZXJ0ZXhDb3VudCA9IHBvbHkuZ2V0VmVydGV4Q291bnQobG9vcEluZGV4KTtcbiAgICBpZiAodmVydGV4Q291bnQgPCAzKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBjaGVjayBpZiBuZWlnaGJvciBlZGdlcyBleGlzdFxuICAgIGNvbnN0IGlzTGluZSA9IHBvbHkuaXNQb2x5bGluZSgpO1xuICAgIGNvbnN0IHByZXZFeGlzdHMgPSAhKGlzTGluZSAmJiB2ZXJ0ZXggPT09IDApO1xuICAgIGNvbnN0IG5leHRFeGlzdHMgPSAhKGlzTGluZSAmJiB2ZXJ0ZXggPT09IHZlcnRleENvdW50IC0gMSk7XG5cbiAgICAvLyBJZiBwb2x5IGhhcyBvbmx5IDEgZWRnZSBvciAndmVydGV4JyBpcyBhbiBlbmQgdmVydGV4IG9mIGEgcG9seWxpbmUsIHN0b3AgaGVyZS5cbiAgICBpZiAoIXByZXZFeGlzdHMgfHwgIW5leHRFeGlzdHMpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIGdldCBwb2ludHMgYmVmb3JlIGFuZCBhZnRlciB2ZXJ0ZXhcbiAgICBjb25zdCBwcmV2SW5kZXggPSBwb2x5LnByZXZJbmRleCh2ZXJ0ZXgsIGxvb3BJbmRleCk7XG4gICAgY29uc3QgbmV4dEluZGV4ID0gcG9seS5uZXh0SW5kZXgodmVydGV4LCBsb29wSW5kZXgpO1xuXG4gICAgY29uc3QgcHJlY2lzaW9uID0gMS5lLTU7XG5cbiAgICBjb25zdCBhID0gcG9seS5nZXRQb2ludChwcmV2SW5kZXgsIGxvb3BJbmRleCk7XG4gICAgY29uc3QgYiA9IHBvbHkuZ2V0UG9pbnQodmVydGV4LCBsb29wSW5kZXgpO1xuICAgIGNvbnN0IGMgPSBwb2x5LmdldFBvaW50KG5leHRJbmRleCwgbG9vcEluZGV4KTtcbiAgICByZXR1cm4gTWF0aDJELmlzUG9pbnRPbkxpbmUoYiwgYSwgYywgcHJlY2lzaW9uKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVkZ2VNb3ZlVG9vbCBleHRlbmRzIEVkaXRUb29sQmFzZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihjdHgsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBzdXBlcihjdHgpO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMubGF5ZXIgPSBjdHgubGF5ZXI7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uID0gY3R4LnNlbGVjdGlvbjtcbiAgICAgICAgdGhpcy5uYW1lU3VmZml4ID0gYF8ke2N0eC50b29sU2V0TmFtZX1gO1xuXG4gICAgICAgIHRoaXMua2V5TWFwLkNhbmNlbEVkaXQgPSBhdi5LZXlDb2RlLkVTQ0FQRTtcblxuICAgICAgICAvLyBXaGVuIGRyYWdnaW5nIGFuIGVkZ2UsIHRoaXMgc3RvcmVzIGEgY29weSBvZiBpdHMgb3JpZ2luYWwgcG9zaXRpb25cbiAgICAgICAgdGhpcy5kcmFnRWRnZVN0YXJ0UG9zID0ge1xuICAgICAgICAgICAgYTogbmV3IFRIUkVFLlZlY3RvcjIoKSxcbiAgICAgICAgICAgIGI6IG5ldyBUSFJFRS5WZWN0b3IyKClcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBMYXN0IGRyYWcgcG9zaXRpb24gaW4gbGF5ZXIgY29vcmRzXG4gICAgICAgIHRoaXMubGFzdERyYWdQb2ludCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cbiAgICAgICAgLy8gSW5kZXggb2YgdGhlIGVkZ2UgYmVpbmcgZHJhZ2dlZCBvciAtMVxuICAgICAgICB0aGlzLmRyYWdnZWRFZGdlID0gbnVsbDsgLy8ge1BvbHlJbmRleH1cblxuICAgICAgICAvLyBXaGVuIGRyYWdnaW5nIGFuIGVkZ2UsIHNlbGVjdGVkRWRnZSBpcyB0aGUgc2FtZSBhcyBkcmFnZ2VkRWRnZS4gQWZ0ZXIgdGhlIGludGVyYWN0aW9uLCBkcmFnZ2VkRWRnZSBpcyByZXNldCB0byAtMSwgYnV0XG4gICAgICAgIC8vIHRoZSBlZGdlIGtlZXBzIHNlbGVjdGVkIHVudGlsIGNsaWNraW5nIHNvbWV3aGVyZSBlbHNlLlxuICAgICAgICB0aGlzLnNlbGVjdGVkRWRnZSA9IG51bGw7IC8vIHtQb2x5SW5kZXh9XG5cbiAgICAgICAgLy8gSW4gc29tZSBjYXNlcywgd2UgZHVwbGljYXRlIHN0YXJ0L2VuZCB2ZXJ0ZXggd2hlbiBiZWdpbm5pbmcgdG8gZHJhZyBhbiBlZGdlLiBUaGlzIG1heSBzaGlmdCB0aGlzLmRyYWdnZWRFZGdlIGJ5IDEgb3IgMi5cbiAgICAgICAgLy8gZHJhZ2dlZEVkZ2VCZWZvcmUgc3RvcmVzIHRoZSBvcmlnaW5hbCBlZGdlSW5kZXggYmVmb3JlIGR1cGxpY2F0aW5nIHZlcnRpY2VzLlxuICAgICAgICB0aGlzLmRyYWdnZWRFZGdlQmVmb3JlID0gbnVsbDsgLy97UG9seUluZGV4fTtcblxuICAgICAgICAvLyBSZXVzZWQgdG8gc3RvcmUgZWRnZSBub3JtYWwgb2YgZHJhZ2dlZCBlZGdlXG4gICAgICAgIHRoaXMuZHJhZ2dlZEVkZ2VOb3JtYWwgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXG4gICAgICAgIC8vIFdoZW4gZHJhZ2dpbmcgZWRnZXMsIHdlIHN0b3JlIHRoZSBvZmZzZXQgKGluIGxheWVyLWNvb3JkcykgYmV0d2VlbiB0aGUgYWNjdXJhdGUgY2xpY2sgcG9zaXRpb24gYW5kIHRoZSBjZW50ZXIgb2YgdGhlIGNsaWNrZWQgZWRnZSBnaXptb1xuICAgICAgICAvLyBTdG9yZWQgaW4gcGl4ZWxzLlxuICAgICAgICB0aGlzLmRyYWdPZmZzZXQgPSBuZXcgVEhSRUUuVmVjdG9yMigwLCAwKTtcblxuICAgICAgICAvLyBVc2VkIHdoZW4gZHJhZ2dpbmcgYW4gZWRnZTogSW5kaWNhdGVzIHdoZXRoZXIgd2UgaGFkIHRvIGR1cGxpY2F0ZVxuICAgICAgICAvLyBzdGFydC9lbmQgdmVydGV4IG9mIHRoZSBlZGdlIGluIG9yZGVyIHRvIG1vdmUgaXQuXG4gICAgICAgIHRoaXMuZHVwbGljYXRlU3RhcnRWZXJ0ZXggPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kdXBsaWNhdGVFbmRWZXJ0ZXggPSBmYWxzZTtcblxuICAgICAgICAvLyB7RWRnZUdpem1vW11bXX0gQXJyYXkgb2YgR2l6bW9zIHBlciBsb29wIGZvciBtb3ZpbmcgZWRnZXMuXG4gICAgICAgIHRoaXMuZWRnZUdpem1vcyA9IFtdO1xuXG4gICAgICAgIC8vIGdpem1vcyBhcmUgZW5hYmxlZCBieSBkZWZhdWx0LlxuICAgICAgICB0aGlzLmdpem1vc0VuYWJsZWQgPSB0cnVlO1xuXG4gICAgICAgIC8vIFVzZWQgdG8gaGlnaGxpZ2h0IGEgZHJhZ2dlZCBlZGdlIGluIGEgZGlmZmVyZW50IGNvbG9yIGJ5IGRyYXdpbmcgYSBzaW5nbGUtZWRnZSBvdmVybGF5LlxuICAgICAgICB0aGlzLmVkZ2VHaXptbyA9IG5ldyBQb2x5bGluZSgpO1xuICAgICAgICB0aGlzLmVkZ2VHaXptb1Nob3duID0gZmFsc2U7IC8vIGluZGljYXRlcyB0aGF0IGdpem1vIGlzIGN1cnJlbnRseSBhZGRlZCB0byBnaXptb0xheWVyXG5cbiAgICAgICAgLy8gRGlzcGxheXMgZGFzaGVkIGxpbmVzIHRoYXQgY29ubmVjdCBzdGFydC9lbmQgdmVydGV4IG9mIGFyYyBzZWdtZW50c1xuICAgICAgICB0aGlzLmFyY0VkZ2VHaXptbyA9IG5ldyBBcmNFZGdlR2l6bW8oY3R4LmxheWVyLCBjdHguZ2l6bW9MYXllcik7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGxlbmd0aCBsYWJlbC4gRGVmYXVsdCBoaWRkZW4gLSBzaG93aW5nIGlzIG9wdGlvbmFsLlxuICAgICAgICB0aGlzLmxlbmd0aExhYmVsID0gbmV3IExlbmd0aExhYmVsKG51bGwsIHRoaXMubGF5ZXIsIGN0eC51bml0SGFuZGxlciwgZmFsc2UpO1xuXG4gICAgICAgIC8vIENvbnN0YW50IGNvbG9yIGZvciBoaWdobGlnaHRlZCBlZGdlc1xuICAgICAgICB0aGlzLmVkZ2VIaWdobGlnaHRTdHlsZSA9IHRoaXMub3B0aW9ucy5lZGdlSGlnaGxpZ2h0U3R5bGUgfHwgbmV3IFN0eWxlKHsgbGluZUNvbG9yOiAncmdiKDAsIDI1NSwgMCknIH0pO1xuXG4gICAgICAgIHRoaXMuZ2l6bW9DbGFzc05hbWUgPSB0aGlzLm9wdGlvbnMuZ2l6bW9DbGFzc05hbWU7XG4gICAgfVxuXG4gICAgZ2V0TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIEVkZ2VNb3ZlVG9vbE5hbWUgKyB0aGlzLm5hbWVTdWZmaXg7XG4gICAgfVxuXG4gICAgZGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgc3VwZXIuZGVhY3RpdmF0ZSgpO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgLy8gRW5hYmxlIHRoZSBsZW5ndGggbGFiZWxzIChwdWJsaWMgQVBJKVxuICAgIHNldExlbmd0aExhYmVsVmlzaWJsZSh2aXNpYmxlKSB7XG4gICAgICAgIHRoaXMubGVuZ3RoTGFiZWwuc2V0VmlzaWJsZSh2aXNpYmxlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVCdXR0b25Eb3duKGV2ZW50LCBidXR0b24pIHtcbiAgICAgICAgLy8gU3VwcG9ydCBzdXBwcmVzc2luZyBtb3VzZSBidXR0b25zIGJ5IGhvbGRpbmcgYSBrZXlcbiAgICAgICAgaWYgKHRoaXMuaWdub3JlRHJhZ2dpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLmhhbmRsZUJ1dHRvbkRvd24oZXZlbnQsIGJ1dHRvbik7XG5cbiAgICAgICAgLy8gT25seSByZXNwb25kIHRvIGxlZnQgbW91c2UgYnV0dG9uLlxuICAgICAgICBpZiAoIWJ1dHRvbiA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMucG9seSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRTZWxlY3RlZEVkZ2UobnVsbCk7XG5cbiAgICAgICAgLy8gSGFuZGxlIEVkZ2UtTW92ZTogSWYgd2UgaGl0IGFuIEVkZ2VHaXptbywgc3RhcnQgZHJhZ2dpbmcgaXRcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRFZGdlR2l6bW8gPSB0aGlzLmdldEVkZ2VJbmRleCgpO1xuXG4gICAgICAgIGlmICh0aGlzLmVkZ2VNb3ZlUG9zc2libGUoKSAmJiBzZWxlY3RlZEVkZ2VHaXptbykge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkRHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zdGFydERyYWdFZGdlKGV2ZW50LCBzZWxlY3RlZEVkZ2VHaXptbyk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBoYW5kbGVNb3VzZU1vdmUoZXZlbnQpIHtcbiAgICAgICAgc3VwZXIuaGFuZGxlTW91c2VNb3ZlKGV2ZW50KTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUVkZ2VHaXptbygpO1xuXG4gICAgICAgIGlmICghdGhpcy5wb2x5KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kcmFnZ2VkRWRnZSkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlRHJhZ0VkZ2UoZXZlbnQpO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBoYW5kbGVCdXR0b25VcChldmVudCwgYnV0dG9uKSB7XG4gICAgICAgIHN1cGVyLmhhbmRsZUJ1dHRvblVwKGV2ZW50LCBidXR0b24pO1xuXG4gICAgICAgIGNvbnN0IHdhc0RyYWdnaW5nID0gdGhpcy5zdGFydGVkRHJhZ2dpbmc7XG4gICAgICAgIHRoaXMuc3RhcnRlZERyYWdnaW5nID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCF0aGlzLnBvbHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRyYWdnZWRFZGdlKSB7XG4gICAgICAgICAgICB0aGlzLmVuZERyYWdFZGdlKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbnNpZGVyIGFsbCBsZWZ0LWJ1dHRvbiBldmVudHMgYXMgaGFuZGxlZC4gRS5nLiwgaWYgZHJhZ2dpbmcgd2FzIGNhbmNlbGxlZCB1c2luZyBFc2MsXG4gICAgICAgIC8vIHdlIGRvIG5vdGhpbmcgaGVyZSwgYnV0IGxldHRpbmcgdGhlIG1vdXNlVXAgcGFzcyB0byBuYXZpZ2F0aW9uIGNsYXNzZXMgd291bGQgY2F1c2UgY2FtZXJhIGp1bXBzLlxuICAgICAgICByZXR1cm4gIXRoaXMuaWdub3JlRHJhZ2dpbmcgJiYgd2FzRHJhZ2dpbmc7XG4gICAgfVxuXG4gICAgaGFuZGxlS2V5RG93bihldmVudCwga2V5Q29kZSkge1xuICAgICAgICBsZXQgaGFuZGxlZCA9IHN1cGVyLmhhbmRsZUtleURvd24oZXZlbnQsIGtleUNvZGUpO1xuXG4gICAgICAgIGlmIChrZXlDb2RlID09PSB0aGlzLmtleU1hcC5DYW5jZWxFZGl0KSB7XG4gICAgICAgICAgICBoYW5kbGVkID0gdGhpcy5jYW5jZWxEcmFnKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaGFuZGxlZDtcbiAgICB9XG5cbiAgICBnZXRDdXJzb3IoKSB7XG5cbiAgICAgICAgaWYgKCF0aGlzLnBvbHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdGU6IFZlcnRleCBnaXptb3MgYW5kIGVkZ2UgZ2l6bW9zIGFyZSBzZXBhcmF0ZSBEb21FbGVtZW50cyBhbmQgZGVmaW5lIG93biBtb3VzZSBjdXJzb3JzIHZpYSBzdHlsZS5cbiAgICAgICAgLy8gSW5kaWNhdGU6IFwiTW92aW5nIGEgZ2l6bW9cIi4gQ3VycmVudGx5LCB3ZSB1c2UgdGhlIHNhbWUgYXMgZm9yIHNoYXBlIG1vdmUuIE5vdGUgdGhhdFxuICAgICAgICAvLyAgICAgICAgICAgdGhlIGN1cnNvciBmb3IgZ2l6bW8gZHJhZ2dpbmcgbXVzdCBiZSBjb25zaXN0ZW50IHdpdGggdGhlIG9uZSB3ZSBoYXZlIGlmIHRoZSBtb3VzZSBpcyBvbiB0aGUgZ2l6bW8uXG4gICAgICAgIC8vICAgICAgICAgICBPdGhlcndpc2UsIHRoZSBtb3VzZSBjdXJzb3Igd291bGQgY2hhbmdlIGl0cyBzdGF0ZSB3aGVuIHRlbXBvcmFyaWx5IGxlYXZpbmcgdGhlIGdpem1vIG9uIGZhc3QgbW92ZXMuXG4gICAgICAgIGlmICh0aGlzLmRyYWdnZWRFZGdlKSB7XG4gICAgICAgICAgICByZXR1cm4gJ21vdmUnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gPT4gSnVzdCBkZWZhdWx0IGN1cnNvclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8vIFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBlZGdlIGdpem1vIHVuZGVyIG1vdXNlIChvciAtMSBpZiBubyBFZGdlR2l6bW8gaXMgaGl0KVxuICAgIC8vICh4LHkpIGFyZSBpbiBsYXllci1jb29yZHNcbiAgICAvLyAgQHJldHVybnMge1BvbHlJbmRleH1cbiAgICBnZXRFZGdlSW5kZXgoKSB7XG4gICAgICAgIGZvciAobGV0IGwgPSAwOyBsIDwgdGhpcy5lZGdlR2l6bW9zLmxlbmd0aDsgbCsrKSB7XG4gICAgICAgICAgICBjb25zdCBnaXptb3MgPSB0aGlzLmVkZ2VHaXptb3NbbF07XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuZ2l6bW9NYW5hZ2VyLmdldEdpem1vSW5kZXgoZ2l6bW9zKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBvbHlJbmRleCh7IHZlcnRleDogaW5kZXgsIGxvb3A6IGwgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY2FuY2VsRHJhZygpIHtcblxuICAgICAgICBsZXQgbmVlZHNVcGRhdGUgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy5kcmFnZ2VkRWRnZSkge1xuICAgICAgICAgICAgdGhpcy5yZXN0b3JlRHJhZ0VkZ2UoKTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dlZEVkZ2UgPSBudWxsO1xuICAgICAgICAgICAgbmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5lZWRzVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUFsbEdpem1vcygpO1xuICAgICAgICAgICAgdGhpcy5sYXllci51cGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc25hcHBlci5jbGVhclNuYXBwaW5nR2l6bW9zKCk7XG5cbiAgICAgICAgcmV0dXJuIG5lZWRzVXBkYXRlO1xuICAgIH1cblxuICAgIGhhbmRsZUV4dGVybmFsQWN0aW9uKGFjdGlvbiwgaXNVbmRvKSB7XG5cbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoYXQgc2VsZWN0ZWQgZWRnZS92ZXJ0ZXggYXJlIHN0aWxsIHZhbGlkIChvciBzd2l0Y2hlZCBvZmYpXG4gICAgICAgIHRoaXMudXBkYXRlU2VsZWN0aW9uU3RhdGUoYWN0aW9uLCBpc1VuZG8pO1xuXG4gICAgICAgIC8vIFN0b3AgYW55IG9uZ29pbmcgZHJhZy1vcGVyYXRpb25zIChlLmcuLCBhbiB1bmRvIG9wZXJhdGlvbiBtaWdodCBoYXZlIHJlbW92ZWQgdGhlIHZlcnRleCB0aGF0IHdlIGFyZSBqdXN0IGRyYWdnaW5nKVxuICAgICAgICB0aGlzLmNhbmNlbERyYWcoKTtcblxuICAgICAgICAvLyBTeW5jIGdpem1vcyBpbiBjYXNlIHZlcnRpY2VzIHdlcmUgbW9kaWZpZWRcbiAgICAgICAgdGhpcy51cGRhdGVBbGxHaXptb3MoKTtcblxuICAgICAgICB0aGlzLnNuYXBwZXIuY2xlYXJTbmFwcGluZ0dpem1vcygpO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZXMgc2VsZWN0aW9uIG9mIHNoYXBlKHMpLCB2ZXJ0ZXgsIGFuZCBlZGdlIGFmdGVyIGFuIGFjdGlvblxuICAgIHVwZGF0ZVNlbGVjdGlvblN0YXRlKGFjdGlvbiwgaXNVbmRvKSB7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGFjdGlvbiBwcm92aWRlcyBhIGhpbnQgaG93IHdlIHNob3VsZCB1cGRhdGUgc2VsZWN0aW9uXG4gICAgICAgIGNvbnN0IGhpbnQgPSBhY3Rpb24uZ2V0U2VsZWN0aW9uSGludChpc1VuZG8pO1xuICAgICAgICBpZiAoaGludCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZEVkZ2UoaGludC5lZGdlKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVmYXVsdCBiZWhhdmlvciAtIGlmIHdlIGRvbid0IGtub3cgYW55dGhpbmcgYmV0dGVyOlxuICAgICAgICAvLyAgLSBLZWVwIHNoYXBlIHNlbGVjdGVkIGlmIHN0aWxsIGV4aXN0aW5nXG4gICAgICAgIC8vICAtIFJlc2V0IHZlcnRleC9lZGdlIHNlbGVjdGlvblxuXG4gICAgICAgIC8vIElmIHNoYXBlIHdhcyByZW1vdmVkLCByZXNldCBzdGF0ZVxuICAgICAgICBjb25zdCBzaGFwZUZvdW5kID0gQm9vbGVhbih0aGlzLnBvbHkgJiYgdGhpcy5sYXllci5maW5kU2hhcGVCeUlkKHRoaXMucG9seS5pZCkpO1xuICAgICAgICBpZiAoIXNoYXBlRm91bmQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHBvbHkgd2FzIG1vZGlmaWVkIGZyb20gb3V0c2lkZSwgd2UgY2FuJ3Qga25vdyBpZiB0aGUgc2VsZWN0ZWQgdmVydGV4IG9yIGVkZ2VcbiAgICAgICAgLy8gc3RpbGwgZXhpc3Qgb3IgaGF2ZSB0aGUgc2FtZSBtZWFuaW5nLiBFLmcuLCB3aGVuIHVuZG8vcmVkb2luZyBhIHZlcnRleC1pbnNlcnQsIHRoZSBpbmRpY2VzIG1heSBoYXZlIHNoaWZ0ZWQuXG4gICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRFZGdlKG51bGwpO1xuICAgIH1cblxuICAgIHN0YXJ0RHJhZ0VkZ2UoZXZlbnQsIGRyYWdnZWRFZGdlKSB7XG4gICAgICAgIGNvbnN0IGVkZ2VJbmRleCA9IGRyYWdnZWRFZGdlLnZlcnRleDtcbiAgICAgICAgY29uc3QgbG9vcEluZGV4ID0gZHJhZ2dlZEVkZ2UubG9vcDtcblxuICAgICAgICBpZiAodGhpcy5tb3VzZVRyYWNrZXIpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VUcmFja2VyLnN0YXJ0VHJhY2tpbmcodGhpcy5nZXROYW1lKCksQXV0b2Rlc2suRWRpdDJELlRyYWNraW5ncy5EcmFnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0b3JlIGVkZ2Ugbm9ybWFsIGZvciB0aGUgZWRnZSBiZWluZyBkcmFnZ2VkXG4gICAgICAgIHRoaXMuZHJhZ2dlZEVkZ2VOb3JtYWwgPSB0aGlzLnBvbHkuZ2V0TGVmdEVkZ2VOb3JtYWwoZWRnZUluZGV4LCBsb29wSW5kZXgsIHRoaXMuZHJhZ2dlZEVkZ2VOb3JtYWwpO1xuXG4gICAgICAgIC8vIGdldCBlZGdlXG4gICAgICAgIGNvbnN0IGEgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuICAgICAgICBjb25zdCBiID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcbiAgICAgICAgdGhpcy5wb2x5LmdldEVkZ2UoZWRnZUluZGV4LCBhLCBiLCBsb29wSW5kZXgpO1xuXG4gICAgICAgIC8vIGdldCBlZGdlIGRpcmVjdGlvblxuICAgICAgICBjb25zdCBlZGdlRGlyID0gTWF0aDJELmdldEVkZ2VEaXJlY3Rpb24oYSwgYik7XG5cbiAgICAgICAgLy8gY29tcHV0ZSBwcm9qZWN0aW9uIG9mIHAgdG8gdGhlIGxpbmUgc3Bhbm5lZCBieSB0aGUgZWRnZVxuICAgICAgICBsZXQgcG9pbnRPbkVkZ2UgPSB0aGlzLmxheWVyLmNhbnZhc1RvTGF5ZXIoZXZlbnQuY2FudmFzWCwgZXZlbnQuY2FudmFzWSk7XG4gICAgICAgIE1hdGgyRC5wcm9qZWN0VG9MaW5lKHBvaW50T25FZGdlLCBhLCBlZGdlRGlyKTtcblxuICAgICAgICAvLyBTZXQgaW5pdGFsIGRyYWdnaW5nIHBvaW50IGV4YWN0bHkgb24gZWRnZVxuICAgICAgICB0aGlzLmxhc3REcmFnUG9pbnQuY29weShwb2ludE9uRWRnZSk7XG5cbiAgICAgICAgLy8gU3RvcmUgb2Zmc2V0IGJldHdlZW4gZXhhY3QgbW91c2UgcG9zIGFuZCB0aGUgZWRnZSB3ZSBhcmUgZHJhZ2dpbmdcbiAgICAgICAgY29uc3QgZWRnZVBvc1NjcmVlbiA9IHRoaXMubGF5ZXIubGF5ZXJUb0NhbnZhcyhwb2ludE9uRWRnZS54LCBwb2ludE9uRWRnZS55KTtcbiAgICAgICAgdGhpcy5kcmFnT2Zmc2V0LnNldChlZGdlUG9zU2NyZWVuLnggLSBldmVudC5jYW52YXNYLCBlZGdlUG9zU2NyZWVuLnkgLSBldmVudC5jYW52YXNZKTtcblxuICAgICAgICAvLyBzdG9yZSBvcmlnaW5hbCBwb3NpdGlvbiBvZiB0aGUgdHdvIGVkZ2UgdmVydGljZXNcbiAgICAgICAgY29uc3QgaWEgPSBlZGdlSW5kZXg7XG4gICAgICAgIGNvbnN0IGliID0gKGVkZ2VJbmRleCArIDEpICUgdGhpcy5wb2x5LmdldFZlcnRleENvdW50KGxvb3BJbmRleCk7XG4gICAgICAgIHRoaXMuZHJhZ0VkZ2VTdGFydFBvcy5hLmNvcHkodGhpcy5wb2x5LmdldFBvaW50KGlhLCBsb29wSW5kZXgpKTtcbiAgICAgICAgdGhpcy5kcmFnRWRnZVN0YXJ0UG9zLmIuY29weSh0aGlzLnBvbHkuZ2V0UG9pbnQoaWIsIGxvb3BJbmRleCkpO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHdlIG5lZWQgdG8gZHVwbGljYXRlIHN0YXJ0IGFuZC9vciBlbmQgdmVydGV4IG9mIHRoZSBlZGdlLlxuICAgICAgICAvLyBUaGlzIGhhcHBlbnMgd2hlbiB0aGUgbmVpZ2hib3IgZWRnZXMgYXJlIGNvbGxpbmVhciB3aXRoIHRoZSBvbmVzIGJlaW5nIG1vdmVkLlxuICAgICAgICB0aGlzLmR1cGxpY2F0ZVN0YXJ0VmVydGV4ID0gZWRnZXNDb2xsaW5lYXIodGhpcy5wb2x5LCBpYSwgbG9vcEluZGV4KTtcbiAgICAgICAgdGhpcy5kdXBsaWNhdGVFbmRWZXJ0ZXggPSBlZGdlc0NvbGxpbmVhcih0aGlzLnBvbHksIGliLCBsb29wSW5kZXgpO1xuXG4gICAgICAgIC8vIER1cGxpY2F0ZSBzdGFydC9lbmQgdmVydGljZXMgaWYgbmVjZXNzYXJ5XG4gICAgICAgIEFjdGlvbnMuTW92ZUVkZ2UuZHVwbGljYXRlVmVydGljZXModGhpcy5wb2x5LCBlZGdlSW5kZXgsIGxvb3BJbmRleCwgdGhpcy5kdXBsaWNhdGVTdGFydFZlcnRleCwgdGhpcy5kdXBsaWNhdGVFbmRWZXJ0ZXgpO1xuXG4gICAgICAgIC8vIFN0b3JlIGluaXRpYWwgZWRnZSBpbmRleCAobm90IGNvbnNpZGVyaW5nIGFueSBkdXBsaWNhdGVkIHZlcnRpY2VzKVxuICAgICAgICB0aGlzLmRyYWdnZWRFZGdlQmVmb3JlID0gZHJhZ2dlZEVkZ2U7XG5cbiAgICAgICAgLy8gU2VsZWN0IHRoZSBlZGdlIC0gdXNpbmcgaXRzIGluZGV4IGFmdGVyIGR1cGxpY2F0aW5nIHZlcnRpY2VzXG4gICAgICAgIGNvbnN0IG5ld0VkZ2VJbmRleCA9IEFjdGlvbnMuTW92ZUVkZ2UuZ2V0TmV3RWRnZUluZGV4KHRoaXMucG9seSwgZWRnZUluZGV4LCBsb29wSW5kZXgsIHRoaXMuZHVwbGljYXRlU3RhcnRWZXJ0ZXgsIHRoaXMuZHVwbGljYXRlRW5kVmVydGV4KTtcbiAgICAgICAgY29uc3QgcG9seUluZGV4ID0gbmV3IFBvbHlJbmRleCh7IHZlcnRleDogbmV3RWRnZUluZGV4LCBsb29wOiBsb29wSW5kZXggfSk7XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRFZGdlKHBvbHlJbmRleCk7XG5cbiAgICAgICAgLy8gU2V0IHRoZSBlZGdlIGJlaW5nIGRyYWdnZWRcbiAgICAgICAgdGhpcy5kcmFnZ2VkRWRnZSA9IHBvbHlJbmRleDtcblxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCBhbGwgZ2l6bW9zIGFyZSB1cGRhdGVkIGlmIHdlIGR1cGxpY2F0ZWQgdmVydGljZXNcbiAgICAgICAgaWYgKHRoaXMuZHVwbGljYXRlU3RhcnRWZXJ0ZXggfHwgdGhpcy5kdXBsaWNhdGVFbmRWZXJ0ZXgpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQWxsR2l6bW9zKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiBzZWxlY3Rpb24gY2hhbmdlcyAobWF5IGFsc28gYmUgdHJpZ2dlcmVkIG91dHNpZGUgdGhpcyB0b29sKSwgd2UgY2hvb3NlIHRoZSBzZWxlY3RlZCBwb2x5b24gZm9yIGVkaXRpbmdcbiAgICBvblNlbGVjdGlvbkNoYW5nZWQoKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRTaGFwZXMoKTtcblxuICAgICAgICAvLyBBY3RpdmF0ZSBpZiBleGFjdGx5IG9uZSBzaGFwZSBpcyBzZWxlY3RlZFxuICAgICAgICBjb25zdCBzaGFwZSA9IChzZWxlY3RlZC5sZW5ndGggPT0gMSkgPyBzZWxlY3RlZFswXSA6IG51bGw7XG4gICAgICAgIGlmIChzaGFwZSBpbnN0YW5jZW9mIFBvbHlCYXNlKSB7XG4gICAgICAgICAgICB0aGlzLnNldEVkaXRQb2x5KHNoYXBlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RWRpdFBvbHkobnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGaW5pc2hlcyBlZGl0aW5nIG9mIGEgcHJldmlvdXMgcG9seWdvblxuICAgIHJlc2V0KCkge1xuXG4gICAgICAgIGlmICghdGhpcy5wb2x5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBvbHkgPSBudWxsO1xuICAgICAgICB0aGlzLmRyYWdnZWRFZGdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEVkZ2UgPSBudWxsO1xuXG4gICAgICAgIC8vIENsZWFyIGFueSBnaXptb3MgZnJvbSBwcmV2aW91cyBwb2x5Z29uXG4gICAgICAgIHRoaXMudXBkYXRlQWxsR2l6bW9zKCk7XG5cbiAgICAgICAgdGhpcy5sZW5ndGhMYWJlbC5zZXRTaGFwZShudWxsKTtcblxuICAgICAgICB0aGlzLnNuYXBwZXIuc3RvcEFuZ2xlU25hcHBpbmcoKTtcbiAgICB9XG5cbiAgICAvLyBTZWxlY3RzIGEgbmV3IHBvbHlnb24gLyBwb2x5bGluZSBmb3IgZWRpdGluZ1xuICAgIHNldEVkaXRQb2x5KHBvbHkpIHtcblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgaWYgKHBvbHkpIHtcbiAgICAgICAgICAgIHRoaXMucG9seSA9IHBvbHk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUFsbEdpem1vcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9seWxpbmUgPSBwb2x5ICYmIHBvbHkuaXNQb2x5bGluZSgpID8gcG9seSA6IG51bGw7XG4gICAgICAgIHRoaXMubGVuZ3RoTGFiZWwuc2V0U2hhcGUocG9seWxpbmUpO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBlZGdlR2l6bW9zIHRvIHRoaXMucG9seSBvciBoaWRlIGFsbCBpZiBwb2x5IGlzIG51bGxcbiAgICBjcmVhdGVFZGdlR2l6bW9zKCkge1xuICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB3ZSBkb24ndCBsZWFrIG91dGRhdGVkIG9uZXNcbiAgICAgICAgdGhpcy5jbGVhckVkZ2VHaXptb3MoKTtcblxuICAgICAgICBpZiAoIXRoaXMuZ2l6bW9zRW5hYmxlZCkge1xuICAgICAgICAgICAgLy8gZ2l6bW9zIG5vdCBlbmFibGVkLCBzbyBkb24ndCBhZGQgdGhlbS5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoYXNFZGdlTW92ZUdpem1vcyA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IGxvb3BDb3VudCA9IHRoaXMucG9seSA/IHRoaXMucG9seS5sb29wQ291bnQgOiAwO1xuICAgICAgICBmb3IgKGxldCBsID0gMDsgbCA8IGxvb3BDb3VudDsgbCsrKSB7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBnaXptbyBwZXIgZWRnZVxuICAgICAgICAgICAgY29uc3QgZWRnZUNvdW50ID0gdGhpcy5wb2x5LmdldEVkZ2VDb3VudChsKTtcblxuICAgICAgICAgICAgLy8gRm9yIHNpbXBsZSBsaW5lcywgd2UgZG9uJ3Qgc2hvdyB0aGUgZWRnZS1tb3ZlIGdpem1vOiBJdCBkb2VzIG5vdCBtYWtlIHNlbnNlIHRvXG4gICAgICAgICAgICAvLyBtb3ZlIGFuIGVkZ2UsIGJlY2F1c2UgeW91IGNhbiBzaW1wbHkgbW92ZSB0aGUgd2hvbGUgc2hhcGUgaW5zdGVhZC5cbiAgICAgICAgICAgIGNvbnN0IG5lZWRFZGdlTW92ZUdpem1vcyA9IChlZGdlQ291bnQgPj0gMik7XG5cbiAgICAgICAgICAgIGNvbnN0IGdpem1vcyA9IFtdO1xuICAgICAgICAgICAgaWYgKG5lZWRFZGdlTW92ZUdpem1vcykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWRnZUNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2l6bW8gPSBuZXcgRWRnZU1vdmVHaXptbyh0aGlzLmxheWVyLCBlZGdlR2l6bW9OYW1lKGkpLCB1bmRlZmluZWQsIHRoaXMuZ2l6bW9DbGFzc05hbWUpO1xuICAgICAgICAgICAgICAgICAgICBnaXptby5hdHRhY2hUb0VkZ2UodGhpcy5wb2x5LCBpLCBsKTtcbiAgICAgICAgICAgICAgICAgICAgZ2l6bW9zLnB1c2goZ2l6bW8pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGhhc0VkZ2VNb3ZlR2l6bW9zID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYWRkIGdpem1vcyBmb3IgdGhpcyBsb29wXG4gICAgICAgICAgICB0aGlzLmVkZ2VHaXptb3MucHVzaChnaXptb3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYXR0YWNoIGFyY0VkZ2VHaXptbyB0byBjdXJyZW50IHNoYXBlLCBzbyB0aGF0IGRhc2hlZCBsaW5lcyBhcmUgZGlzcGxheWVkIGZvciBpdHMgYXJjIHNlZ21lbnRzXG4gICAgICAgIHRoaXMuYXJjRWRnZUdpem1vLnNldFBvbHkodGhpcy5wb2x5KTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUVkZ2VHaXptb0hpZ2hsaWdodGluZygpO1xuXG4gICAgICAgIC8vIFNoaWZ0IGxhYmVsIGEgYml0IHVwIHRvIGF2b2lkIGl0IGZyb20gb2NjbHVkaW5nIHRoZSBtb3ZlLWVkZ2UgZ2l6bW9cbiAgICAgICAgY29uc3QgeU9mZnNldCA9IGhhc0VkZ2VNb3ZlR2l6bW9zID8gMjAgOiAwO1xuICAgICAgICB0aGlzLmxlbmd0aExhYmVsLnBpeGVsT2Zmc2V0LnNldCgwLCB5T2Zmc2V0KTtcbiAgICB9XG5cbiAgICBtb3ZlRHJhZ0VkZ2UoZXZlbnQpIHtcblxuICAgICAgICBpZiAoIXRoaXMuZHJhZ2dlZEVkZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGVkZ2VJbmRleCA9IHRoaXMuZHJhZ2dlZEVkZ2UudmVydGV4O1xuICAgICAgICBjb25zdCBsb29wSW5kZXggPSB0aGlzLmRyYWdnZWRFZGdlLmxvb3A7XG5cbiAgICAgICAgLy8gTm90ZSB0aGF0IHRoZSBlZGdlIHdlIGFyZSBkcmFnZ2luZyBkb2VzIG5vdCBhbHdheXMgbWF0Y2ggZXhhY3RseSB3aXRoIHRoZSBtb3VzZSBwb3NpdGlvbi4gRS5nLiwgd2UgbWF5IGhhdmUgcGlja2VkIHRoZSBib3R0b20tbGVmdCBib3VuZGFyeSBvZiBhIGVkZ2UgZ2l6bW8gYXQgZHJhZy1zdGFydC5cbiAgICAgICAgY29uc3QgeCA9IGV2ZW50LmNhbnZhc1ggKyB0aGlzLmRyYWdPZmZzZXQueDtcbiAgICAgICAgY29uc3QgeSA9IGV2ZW50LmNhbnZhc1kgKyB0aGlzLmRyYWdPZmZzZXQueTtcblxuICAgICAgICBjb25zdCBwID0gdGhpcy5nZXRTbmFwUG9zaXRpb24oeCwgeSk7XG5cbiAgICAgICAgLy8gZ2V0IGRlbHRhIGJldHdlZW4gbGFzdCBhbmQgY3VycmVudCBwb3NpdGlvblxuICAgICAgICBjb25zdCBkZWx0YSA9IHAuY2xvbmUoKS5zdWIodGhpcy5sYXN0RHJhZ1BvaW50KTtcblxuICAgICAgICAvLyBnZXQgaW5kaWNlcyBvZiBwcmV2IGFuZCBuZXh0IGVkZ2VcbiAgICAgICAgY29uc3QgcHJldkVkZ2VJbmRleCA9IHRoaXMucG9seS5wcmV2RWRnZUluZGV4KGVkZ2VJbmRleCwgbG9vcEluZGV4KTtcbiAgICAgICAgY29uc3QgbmV4dEVkZ2VJbmRleCA9IHRoaXMucG9seS5uZXh0RWRnZUluZGV4KGVkZ2VJbmRleCwgbG9vcEluZGV4KTtcblxuICAgICAgICAvLyBwcmV2L25leHQgZWRnZSBtYXkgbm90IGV4aXN0IGlmIHdlIGFyZSBhdCB0aGUgZW5kIG9mIGEgcG9seWxpbmVcbiAgICAgICAgY29uc3QgcHJldkVkZ2VFeGlzdHMgPSAocHJldkVkZ2VJbmRleCAhPT0gLTEpO1xuICAgICAgICBjb25zdCBuZXh0RWRnZUV4aXN0cyA9IChuZXh0RWRnZUluZGV4ICE9PSAtMSk7XG5cbiAgICAgICAgLy8gV2lsbCBjb250YWluIHRoZSBuZXcgZWRnZSBlbmRwb2ludHNcbiAgICAgICAgbGV0IG5ld0VkZ2VBID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcbiAgICAgICAgbGV0IG5ld0VkZ2VCID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuICAgICAgICAvLyBnZXQgZWRnZSB2ZXJ0aWNlc1xuICAgICAgICBjb25zdCBjdXJFZGdlQSA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gICAgICAgIGNvbnN0IGN1ckVkZ2VCID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcbiAgICAgICAgdGhpcy5wb2x5LmdldEVkZ2UoZWRnZUluZGV4LCBjdXJFZGdlQSwgY3VyRWRnZUIsIGxvb3BJbmRleCk7XG5cbiAgICAgICAgaWYgKCFwcmV2RWRnZUV4aXN0cyAmJiAhbmV4dEVkZ2VFeGlzdHMpIHtcbiAgICAgICAgICAgIC8vIElmIHByZXYvbmV4dCBhcmUgYm90aCBtaXNzaW5nLCB3ZSBhcmUgbW92aW5nIGFuIGlzb2xkYXRlZCBsaW5lIHNlZ21lbnQgYXJvdW5kLlxuICAgICAgICAgICAgLy8gSW4gdGhpcyBjYXNlLCB3ZSBjYW4ganVzdCBhbGxvdyB1bmNvbnN0cmFpbmVkIG1vdmluZyBhbmQgYXJlIGRvbmUgaGVyZS5cbiAgICAgICAgICAgIG5ld0VkZ2VBLmNvcHkoY3VyRWRnZUEpLmFkZChkZWx0YSk7XG4gICAgICAgICAgICBuZXdFZGdlQi5jb3B5KGN1ckVkZ2VCKS5hZGQoZGVsdGEpO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAvLyBnZXQgbmV4dC9wcmV2aW91cyBlZGdlIChpZiBleGlzdGluZylcbiAgICAgICAgICAgIGNvbnN0IHByZXZFZGdlQSA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gICAgICAgICAgICBjb25zdCBwcmV2RWRnZUIgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuICAgICAgICAgICAgY29uc3QgbmV4dEVkZ2VBID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcbiAgICAgICAgICAgIGNvbnN0IG5leHRFZGdlQiA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gICAgICAgICAgICBwcmV2RWRnZUV4aXN0cyAmJiB0aGlzLnBvbHkuZ2V0RWRnZShwcmV2RWRnZUluZGV4LCBwcmV2RWRnZUEsIHByZXZFZGdlQiwgbG9vcEluZGV4KTtcbiAgICAgICAgICAgIG5leHRFZGdlRXhpc3RzICYmIHRoaXMucG9seS5nZXRFZGdlKG5leHRFZGdlSW5kZXgsIG5leHRFZGdlQSwgbmV4dEVkZ2VCLCBsb29wSW5kZXgpO1xuXG4gICAgICAgICAgICAvLyBIYW5kbGUgc3RhcnQgZWRnZXMgb2YgcG9seWxpbmVzOiBDaG9vc2Ugc29tZSBcImFzc3VtZWRcIiBwcmV2aW91cyBlZGdlIGlmIHRoZXJlIGlzIG5vbmUuXG4gICAgICAgICAgICBpZiAoIXByZXZFZGdlRXhpc3RzKSB7XG5cbiAgICAgICAgICAgICAgICBwcmV2RWRnZUIuY29weShjdXJFZGdlQSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZHVwbGljYXRlRW5kVmVydGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFzc3VtZSBwcmV2aW91cyBlZGdlIHRvIGJlIHBhcmFsbGVsIHRvIHRoZSBuZXh0IG9uZS4gSW4gdGhpc1xuICAgICAgICAgICAgICAgICAgICAvLyB3YXksIHdlIGNvbnN0cmFpbiB0aGUgbW92ZW1lbnQgb25seSBhbG9uZyBvbmUgZGlyZWN0aW9uLlxuICAgICAgICAgICAgICAgICAgICBwcmV2RWRnZUEuY29weShuZXh0RWRnZUIpLnN1YihjdXJFZGdlQikuYWRkKGN1ckVkZ2VBKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgc2Vjb25kIGVkZ2Ugd2FzIGNvbGxpbmVhciB3aXRoIHRoZSBmaXJzdCwgc28gd2UgaGFkIHRvIGFkZCBhbiBleHRyYSB2ZXJ0ZXggYXQgZHJhZ1N0YXJ0LlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZWZvcmUsIG5leHRFZGdlIGlzIGRlZ2VuZXJhdGVkIGFuZCB3ZSBjYW5ub3QgdXNlIGl0LlxuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgdGhpcyBjYXNlLCB3ZSBqdXN0IGFzc3VtZSBwcmV2RWRnZSB0byBiZSBwZXJwZW5kaWN1bGFyIHRvIHRoZSBjdXJyZW50IGVkZ2UuXG4gICAgICAgICAgICAgICAgICAgIHByZXZFZGdlQS5jb3B5KGN1ckVkZ2VBKS5hZGQodGhpcy5kcmFnZ2VkRWRnZU5vcm1hbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBIYW5kbGUgZW5kIGVkZ2VzIG9mIHBvbHlsaW5lczogQ2hvb3NlIHNvbWUgXCJhc3N1bWVkXCIgbmV4dCBlZGdlIGlmIHRoZXJlIGlzIG5vbmVcbiAgICAgICAgICAgIGlmICghbmV4dEVkZ2VFeGlzdHMpIHtcblxuICAgICAgICAgICAgICAgIG5leHRFZGdlQS5jb3B5KGN1ckVkZ2VCKTtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5kdXBsaWNhdGVTdGFydFZlcnRleCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBc3N1bWUgbmV4dCBlZGdlIHRvIGJlIHBhcmFsbGVsIHRvIHRoZSBwcmV2aW91cyBvbmUuIEluIHRoaXNcbiAgICAgICAgICAgICAgICAgICAgLy8gd2F5LCB3ZSBjb25zdHJhaW4gdGhlIG1vdmVtZW50IG9ubHkgYWxvbmcgb25lIGRpcmVjdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgbmV4dEVkZ2VCLmNvcHkocHJldkVkZ2VBKS5zdWIoY3VyRWRnZUEpLmFkZChjdXJFZGdlQik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHByZXZpb3VzIGVkZ2Ugd2FzIGNvbGxpbmVhciB3aXRoIHRoZSBjdXJyZW50IG9uZSwgc28gd2UgaGFkIHRvIGFkZCBhbiBleHRyYSB2ZXJ0ZXggYXQgZHJhZ1N0YXJ0LlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZWZvcmUsIHByZXZFZGdlIGlzIGRlZ2VuZXJhdGVkIGFuZCB3ZSBjYW5ub3QgdXNlIGl0LlxuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgdGhpcyBjYXNlLCB3ZSBqdXN0IGFzc3VtZSBuZXh0RWRnZSB0byBiZSBwZXJwZW5kaWN1bGFyIHRvIHRoZSBjdXJyZW50IGVkZ2UuXG4gICAgICAgICAgICAgICAgICAgIG5leHRFZGdlQi5jb3B5KGN1ckVkZ2VCKS5hZGQodGhpcy5kcmFnZ2VkRWRnZU5vcm1hbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDb21wdXRlIGRpcmVjdGlvbnMgZm9yIGVhY2ggZWRnZSB0byBpbnRlcnNlY3RcbiAgICAgICAgICAgIGNvbnN0IHByZXZFZGdlRGlyID0gTWF0aDJELmdldEVkZ2VEaXJlY3Rpb24ocHJldkVkZ2VBLCBwcmV2RWRnZUIpO1xuICAgICAgICAgICAgY29uc3QgY3VyRWRnZURpciA9IE1hdGgyRC5nZXRFZGdlRGlyZWN0aW9uKGN1ckVkZ2VBLCBjdXJFZGdlQik7XG4gICAgICAgICAgICBjb25zdCBuZXh0RWRnZURpciA9IE1hdGgyRC5nZXRFZGdlRGlyZWN0aW9uKG5leHRFZGdlQSwgbmV4dEVkZ2VCKTtcblxuICAgICAgICAgICAgLy8gQXBwbHkgbW92ZSBvZmZzZXRcbiAgICAgICAgICAgIGN1ckVkZ2VBLmFkZChkZWx0YSk7XG4gICAgICAgICAgICBjdXJFZGdlQi5hZGQoZGVsdGEpO1xuXG4gICAgICAgICAgICAvLyBJZiB3ZSBhZGRlZCBleHRyYSB2ZXJ0aWNlcywgdGhlIChuZXdseSBpbnNlcnRlZCkgbmVpZ2hib3IgZWRnZXMgd2lsbCBiZSBkZWdlbmVyYXRlZFxuICAgICAgICAgICAgLy8gYW5kIHRoZSBlZGdlIGRpcmVjdGlvbnMgd2lsbCBiZSBpbnZhbGlkLiBJbiB0aGlzIGNhc2UsIHdlIGNob29zZSB0aGUgZWRnZSBkaXJlY3Rpb25cbiAgICAgICAgICAgIC8vIHBlcnBlbmRpY3VsYXIgdG8gdGhlIGVkZ2UgdGhhdCB3ZSBhcmUgZHJhZ2dpbmcuXG4gICAgICAgICAgICBpZiAodGhpcy5kdXBsaWNhdGVTdGFydFZlcnRleCkgcHJldkVkZ2VEaXIuY29weSh0aGlzLmRyYWdnZWRFZGdlTm9ybWFsKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmR1cGxpY2F0ZUVuZFZlcnRleCkgbmV4dEVkZ2VEaXIuY29weSh0aGlzLmRyYWdnZWRFZGdlTm9ybWFsKTtcblxuICAgICAgICAgICAgLy8gQ29tcHV0ZSBuZXcgZWRnZSBlbmRwb2ludHMgYXMgaW50ZXJzZWN0aW9uIG9mIHByZXYvbmV4dCBlZGdlIHdpdGggdGhlIG1vdmVkIGxpbmVcbiAgICAgICAgICAgIGlmICghTWF0aDJELmludGVyc2VjdExpbmVzKHByZXZFZGdlQSwgcHJldkVkZ2VEaXIsIGN1ckVkZ2VBLCBjdXJFZGdlRGlyLCBuZXdFZGdlQSkgfHxcbiAgICAgICAgICAgICAgICAhTWF0aDJELmludGVyc2VjdExpbmVzKG5leHRFZGdlQSwgbmV4dEVkZ2VEaXIsIGN1ckVkZ2VBLCBjdXJFZGdlRGlyLCBuZXdFZGdlQikpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBmaW5kIGFuIGludGVyc2VjdGlvbiwgcmVqZWN0IHRoaXMgZWRnZSBtb3ZlIGF0dGVtcHQsIGJlY2F1c2VcbiAgICAgICAgICAgICAgICAvLyBpdCdzIG5vdCBwb3NzaWJsZSB0byBtb3ZlIHRoZSBlZGdlIGluIHRoaXMgd2F5IGJ5IGVubGFyZ2luZyB0aGUgbmVpZ2hib3IgZWRnZXMuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IGluZGljZXMgb2YgdGhlIHBvaW50cyB0byBtb2RpZnlcbiAgICAgICAgY29uc3QgaWEgPSBlZGdlSW5kZXg7XG4gICAgICAgIGNvbnN0IGliID0gdGhpcy5wb2x5Lm5leHRJbmRleChpYSwgbG9vcEluZGV4KTtcblxuICAgICAgICAvLyBUaGUgaW50ZXJzZWN0aW9ucyBnaXZlcyB1cyB0aGUgbmV3IHBvc2l0aW9uIGZvciB0aGUgZWRnZSB2ZXJ0aWNlc1xuICAgICAgICB0aGlzLnBvbHkudXBkYXRlUG9pbnQoaWEsIG5ld0VkZ2VBLngsIG5ld0VkZ2VBLnksIGxvb3BJbmRleCk7XG4gICAgICAgIHRoaXMucG9seS51cGRhdGVQb2ludChpYiwgbmV3RWRnZUIueCwgbmV3RWRnZUIueSwgbG9vcEluZGV4KTtcblxuICAgICAgICB0aGlzLmdpem1vTGF5ZXIudXBkYXRlKCk7XG4gICAgICAgIHRoaXMubGF5ZXIudXBkYXRlKCk7XG5cbiAgICAgICAgdGhpcy5sYXN0RHJhZ1BvaW50LmNvcHkocCk7XG5cbiAgICAgICAgLy8gV2UgbW92ZWQgdGhlIGVkZ2UgPT4gS2VlcCBnaXptbyBpbi1zeW5jXG4gICAgICAgIHRoaXMudXBkYXRlRWRnZUdpem1vKCk7XG4gICAgfVxuXG4gICAgLy8gV2hpbGUgZHJhZ2dpbmcgYW4gZWRnZSwgdGhpcyBmdW5jdGlvbiByZXN0b3JlcyB0aGUgb3JpZ2luYWwgcG9zaXRpb24gYXQgZHJhZyBzdGFydFxuICAgIHJlc3RvcmVEcmFnRWRnZSgpIHtcblxuICAgICAgICBpZiAoIXRoaXMuZHJhZ2dlZEVkZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGVkZ2VJbmRleCA9IHRoaXMuZHJhZ2dlZEVkZ2UudmVydGV4O1xuICAgICAgICBjb25zdCBsb29wSW5kZXggPSB0aGlzLmRyYWdnZWRFZGdlLmxvb3A7XG5cbiAgICAgICAgY29uc3QgYSA9IHRoaXMuZHJhZ0VkZ2VTdGFydFBvcy5hO1xuICAgICAgICBjb25zdCBiID0gdGhpcy5kcmFnRWRnZVN0YXJ0UG9zLmI7XG5cbiAgICAgICAgY29uc3QgaWEgPSBlZGdlSW5kZXg7XG4gICAgICAgIGNvbnN0IGliID0gdGhpcy5wb2x5Lm5leHRJbmRleChpYSwgbG9vcEluZGV4KTtcblxuICAgICAgICB0aGlzLnBvbHkudXBkYXRlUG9pbnQoaWEsIGEueCwgYS55LCBsb29wSW5kZXgpO1xuICAgICAgICB0aGlzLnBvbHkudXBkYXRlUG9pbnQoaWIsIGIueCwgYi55LCBsb29wSW5kZXgpO1xuXG4gICAgICAgIC8vIFJldmVydCBpbnNlcnRpb24gb2YgZXh0cmEgdmVydGljZXNcbiAgICAgICAgQWN0aW9ucy5Nb3ZlRWRnZS5yZXZlcnREdXBsaWNhdGVWZXJ0aWNlcyh0aGlzLnBvbHksIHRoaXMuZHJhZ2dlZEVkZ2VCZWZvcmUudmVydGV4LCBsb29wSW5kZXgsIHRoaXMuZHVwbGljYXRlU3RhcnRWZXJ0ZXgsIHRoaXMuZHVwbGljYXRlRW5kVmVydGV4KTtcblxuICAgICAgICAvLyBJZiB3ZSBkdXBsaWNhdGVkIHZlcnRpY2VzIGF0IGRyYWdTdGFydCBhbmQgcmV2ZXJ0ZWQgaXQgbm93LFxuICAgICAgICAvLyB0aGUgaW5kZXggb2YgdGhlIHNlbGVjdGVkIGVkZ2UgbWF5IGhhdmUgc2hpZnRlZC4gU28sIHdlIG11c3QgY2hhbmdlIGl0IHRvIHRoZSBvbGQgb25lIHRvIGtlZXAgdG8gKHZpc3VhbGx5KSBrZWVwIHRoZSBzYW1lXG4gICAgICAgIC8vIGVkZ2Ugc2VsZWN0ZWQgYXMgYmVmb3JlLlxuICAgICAgICB0aGlzLnNlbGVjdGVkRWRnZSA9IHRoaXMuZHJhZ2dlZEVkZ2VCZWZvcmU7XG4gICAgfVxuXG4gICAgZW5kRHJhZ0VkZ2UoKSB7XG4gICAgICAgIGlmICh0aGlzLm1vdXNlVHJhY2tlcikge1xuICAgICAgICAgICAgdGhpcy5tb3VzZVRyYWNrZXIuc3RvcFRyYWNraW5nKHRoaXMuZ2V0TmFtZSgpLEF1dG9kZXNrLkVkaXQyRC5UcmFja2luZ3MuRHJhZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuZHJhZ2dlZEVkZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlZGdlSW5kZXggPSB0aGlzLmRyYWdnZWRFZGdlLnZlcnRleDtcbiAgICAgICAgY29uc3QgbG9vcEluZGV4ID0gdGhpcy5kcmFnZ2VkRWRnZS5sb29wO1xuXG4gICAgICAgIC8vIGdldCBmaW5hbCBwb3NpdGlvbiBvZiB0aGUgZWRnZSB2ZXJ0aWNlc1xuICAgICAgICBjb25zdCBpYSA9IGVkZ2VJbmRleDtcbiAgICAgICAgY29uc3QgaWIgPSB0aGlzLnBvbHkubmV4dEluZGV4KGlhLCBsb29wSW5kZXgpO1xuXG4gICAgICAgIGNvbnN0IG5ld1BvczEgPSB0aGlzLnBvbHkuZ2V0UG9pbnQoaWEsIGxvb3BJbmRleCk7XG4gICAgICAgIGNvbnN0IG5ld1BvczIgPSB0aGlzLnBvbHkuZ2V0UG9pbnQoaWIsIGxvb3BJbmRleCk7XG5cbiAgICAgICAgdGhpcy5yZXN0b3JlRHJhZ0VkZ2UoKTtcblxuICAgICAgICAvLyBJZiB0aGUgZWRnZSB3YXMgaGFyZGx5IG1vdmVkIGF0IGFsbCwgd2UgZHJvcCB0aGUgb3BlcmF0aW9uLiBPdGhlcndpc2UsIHRoZSBvbmx5IGVmZmVjdCB3b3VsZCBiZSB0byBhZGQgaW52aXNpYmxlXG4gICAgICAgIC8vIHZlcnRleCBkdXBsaWNhdGVzLlxuICAgICAgICBjb25zdCBkZWx0YSA9IHRoaXMuZHJhZ0VkZ2VTdGFydFBvcy5hLmRpc3RhbmNlVG8obmV3UG9zMSkgKiB0aGlzLmxheWVyLmdldFBpeGVsc1BlclVuaXQoKTtcbiAgICAgICAgaWYgKGRlbHRhID49IDMpIHtcbiAgICAgICAgICAgIHRoaXMucnVuQWN0aW9uKG5ldyBBY3Rpb25zLk1vdmVFZGdlKHRoaXMubGF5ZXIsIHRoaXMucG9seSwgdGhpcy5kcmFnZ2VkRWRnZUJlZm9yZSwgbmV3UG9zMSwgbmV3UG9zMiwgdGhpcy5kdXBsaWNhdGVTdGFydFZlcnRleCwgdGhpcy5kdXBsaWNhdGVFbmRWZXJ0ZXgpKTtcblxuICAgICAgICAgICAgLy8gSWYgdGhlIGFjdGlvbiBkdXBsaWNhdGVkIHZlcnRpY2VzLCBtYWtlIHN1cmUgdGhhdCB0aGUgc2VsZWN0ZWQgZWRnZSBpcyB1cGRhdGVkIHRvXG4gICAgICAgICAgICAvLyB0aGUgaW5kZXggdGhhdCB0aGUgc2VsZWN0ZWQgZWRnZSBoYXMgYWZ0ZXIgdGhlIGFjdGlvbi5cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRFZGdlID0gdGhpcy5kcmFnZ2VkRWRnZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlc2V0IGRyYWdnZWRFZGdlLCBidXQgdGhlIGVkZ2Uga2VlcHMgc2VsZWN0ZWQgKHdlIGRvbid0IHJlc2V0IHRoaXMuc2VsZWN0ZWRFZGdlKVxuICAgICAgICB0aGlzLmRyYWdnZWRFZGdlID0gbnVsbDtcblxuICAgICAgICAvLyB1cGRhdGUgYWxsIGdpem1vc1xuICAgICAgICB0aGlzLnVwZGF0ZUFsbEdpem1vcygpO1xuICAgIH1cblxuICAgIGVkZ2VNb3ZlUG9zc2libGUobG9vcEluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvbHkgJiYgdGhpcy5wb2x5LmdldFZlcnRleENvdW50KGxvb3BJbmRleCkgPiAyO1xuICAgIH1cblxuICAgIC8vIE1ha2Ugc3VyZSB0aGF0IEVkZ2VHaXptbyBpcyB1cC10by1kYXRlOiBJdHMgcHVycG9zZSBpcyB0byBoaWdobGlnaHQgdGhlIGVkZ2UgYmVpbmcgZHJhZ2dlZC5cbiAgICB1cGRhdGVFZGdlR2l6bW8oKSB7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgbW91c2UgaXMgb24gYW4gZWRnZSBnaXptb1xuICAgICAgICBjb25zdCBlZGdlVW5kZXJNb3VzZSA9IHRoaXMuZ2V0RWRnZUluZGV4KCk7IC8vIHtQb2x5SW5kZXh9XG5cbiAgICAgICAgY29uc3QgZWRnZU1vdmVQb3NzaWJsZSA9IHRoaXMuZWRnZU1vdmVQb3NzaWJsZSgpO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHdlIG5lZWQgYW55IGhpZ2hsaWdodFxuICAgICAgICBjb25zdCBlZGdlU2VsZWN0ZWQgPSBCb29sZWFuKHRoaXMucG9seSAmJiB0aGlzLnNlbGVjdGVkRWRnZSk7XG4gICAgICAgIGNvbnN0IGVkZ2VIb3ZlcmVkID0gZWRnZU1vdmVQb3NzaWJsZSAmJiBlZGdlVW5kZXJNb3VzZTtcblxuICAgICAgICAvLyBJZiBlZGdlIGlzIGFuIGFyYyBhbmQgaG92ZXJlZCwgd2UganVzdCBjb2xvcml6ZSB0aGUgYXJjRWRnZUdpem1vIGFuZCBkb24ndCBuZWVkIHRoZSBleHRyYSBlZGdlLWhpZ2hsaWdodCBnaXptb1xuICAgICAgICBjb25zdCBhcmNFZGdlSG92ZXJlZCA9IGVkZ2VIb3ZlcmVkICYmIHRoaXMucG9seS5pc1BhdGgoKSAmJiB0aGlzLnBvbHkuaXNBcmMoZWRnZVVuZGVyTW91c2UudmVydGV4LCBlZGdlVW5kZXJNb3VzZS5sb29wKTtcblxuICAgICAgICAvLyBXZSBzaG93IHRoZSBnaXptbyBpZiBhbiBlZGdlIGlzIHNlbGVjdGVkIG9yIGEgbGluZS1zZWdtZW50IGlzIGhvdmVyZWQuIElmIGdpem1vcyBhcmUgbm90IGVuYWJsZWQsIGRvbid0IHNob3cgaXRcbiAgICAgICAgLy8gcmVnYXJkbGVzcyBvZiBtb3VzZSBwb3NpdGlvbi5cbiAgICAgICAgY29uc3QgZ2l6bW9OZWVkZWQgPSB0aGlzLmdpem1vc0VuYWJsZWQgPyBlZGdlU2VsZWN0ZWQgfHwgKGVkZ2VIb3ZlcmVkICYmICFhcmNFZGdlSG92ZXJlZCkgOiBmYWxzZTtcblxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCBlZGdlIGdpem1vIGlzIHNob3duIGlmIG5lZWRlZFxuICAgICAgICBpZiAoZ2l6bW9OZWVkZWQgJiYgIXRoaXMuZWRnZUdpem1vU2hvd24pIHtcbiAgICAgICAgICAgIHRoaXMuZ2l6bW9MYXllci5hZGRTaGFwZSh0aGlzLmVkZ2VHaXptbyk7XG4gICAgICAgICAgICB0aGlzLmVkZ2VHaXptb1Nob3duID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghZ2l6bW9OZWVkZWQgJiYgdGhpcy5lZGdlR2l6bW9TaG93bikge1xuICAgICAgICAgICAgdGhpcy5naXptb0xheWVyLnJlbW92ZVNoYXBlKHRoaXMuZWRnZUdpem1vKTtcbiAgICAgICAgICAgIHRoaXMuZWRnZUdpem1vU2hvd24gPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCBpbmRleCBvZiB0aGUgZWRnZSB0byBiZSBoaWdobGlnaHRlZFxuICAgICAgICBjb25zdCBwb2x5SW5kZXggPSBlZGdlU2VsZWN0ZWQgPyB0aGlzLnNlbGVjdGVkRWRnZSA6IGVkZ2VVbmRlck1vdXNlOyAvLyB7UG9seUJhc2V9XG4gICAgICAgIGNvbnN0IGVkZ2VUb0hpZ2hsaWdodCA9IHBvbHlJbmRleCA/IHBvbHlJbmRleC52ZXJ0ZXggOiAtMTtcbiAgICAgICAgY29uc3QgbG9vcEluZGV4ID0gcG9seUluZGV4ID8gcG9seUluZGV4Lmxvb3AgOiAtMTtcblxuICAgICAgICAvLyBPbmx5IGZvciBhcmNzOiBDb2xvcml6ZSBBcmNFZGdlR2l6bW8gaWYgbmVlZGVkLiBGb3IgaG92ZXIsIHRoaXMgcmVwbGFjZXMgdGhlIGhpZ2hsaWdodCBnaXptby4gRm9yIHNlbGVjdCwgd2UganVzdCBzZXQgaXQgdG8gdGhlIHNhbWUgY29sb3IgdG8gYXZvaWQgY29sb3IgY29uZmxpY3RzLlxuICAgICAgICBjb25zdCBjb2xvcml6ZUFyY0VkZ2UgPSB0aGlzLmVkZ2VHaXptb1Nob3duIHx8IGFyY0VkZ2VIb3ZlcmVkO1xuICAgICAgICBjb2xvcml6ZUFyY0VkZ2UgPyB0aGlzLmFyY0VkZ2VHaXptby5zZXRFZGdlSGlnaGxpZ2h0ZWQoZWRnZVRvSGlnaGxpZ2h0LCBsb29wSW5kZXgsIHRoaXMuZWRnZUhpZ2hsaWdodFN0eWxlLmxpbmVDb2xvcikgOiB0aGlzLmFyY0VkZ2VHaXptby5jbGVhckVkZ2VIaWdobGlnaHRpbmcoKTtcblxuICAgICAgICAvLyBJZiB3ZSBqdXN0IGhhZCB0byBoaWRlIGl0LCB3ZSBhcmUgZG9uZSBoZXJlXG4gICAgICAgIGlmICghZ2l6bW9OZWVkZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSBlZGdlIGdpem1vIHBvc2l0aW9uLi4uXG5cbiAgICAgICAgLy8gZ2V0IHRoZSB0d28gdmVydGV4IHBvc2l0aW9ucyBvZiB0aGUgZWRnZVxuICAgICAgICBjb25zdCBhID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcbiAgICAgICAgY29uc3QgYiA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gICAgICAgIHRoaXMucG9seS5nZXRFZGdlKGVkZ2VUb0hpZ2hsaWdodCwgYSwgYiwgbG9vcEluZGV4KTtcblxuICAgICAgICAvLyBjb3B5IHZhbHVlcyB0byBlZGdlIGdpem1vXG4gICAgICAgIHRoaXMuZWRnZUdpem1vLm1ha2VMaW5lKGEueCwgYS55LCBiLngsIGIueSk7XG5cbiAgICAgICAgdGhpcy5lZGdlR2l6bW8uc3R5bGUgPSB0aGlzLmVkZ2VIaWdobGlnaHRTdHlsZTtcblxuICAgICAgICAvLyBBZG9wdCBsaW5lV2lkdGggZnJvbSBzZWxlY3RlZCBwb2x5Z29uXG4gICAgICAgIHRoaXMuZWRnZUdpem1vLnN0eWxlLmxpbmVXaWR0aCA9IHRoaXMucG9seS5zdHlsZS5saW5lV2lkdGg7XG4gICAgICAgIHRoaXMuZWRnZUdpem1vLnN0eWxlLmlzU2NyZWVuU3BhY2UgPSB0aGlzLnBvbHkuc3R5bGUuaXNTY3JlZW5TcGFjZTtcblxuICAgICAgICBpZiAoZWRnZVNlbGVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmVkZ2VHaXptby5zdHlsZS5saW5lQWxwaGEgPSAxLjA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBKdXN0IG1ha2UgaXQgYSBiaXQgYnJpZ2h0ZXIgdXNpbmcgYSBzZW1pdHJhbnNwYXJlbnQgd2hpdGUgb3ZlcmxheVxuICAgICAgICAgICAgdGhpcy5lZGdlR2l6bW8uc3R5bGUubGluZUFscGhhID0gMC41O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5naXptb0xheWVyLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIC8vIEBwYXJhbSB7UG9seUluZGV4fVxuICAgIHNldFNlbGVjdGVkRWRnZShwb2x5SW5kZXgpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEVkZ2UgPSBwb2x5SW5kZXg7XG4gICAgICAgIHRoaXMudXBkYXRlRWRnZUdpem1vKCk7XG4gICAgICAgIHRoaXMudXBkYXRlRWRnZUdpem1vSGlnaGxpZ2h0aW5nKCk7XG4gICAgfVxuXG4gICAgY2xlYXJFZGdlR2l6bW9zKCkge1xuICAgICAgICBmb3IgKGxldCBsID0gMDsgbCA8IHRoaXMuZWRnZUdpem1vcy5sZW5ndGg7IGwrKykge1xuICAgICAgICAgICAgY29uc3QgZ2l6bW9zID0gdGhpcy5lZGdlR2l6bW9zW2xdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnaXptb3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBnaXptb3NbaV0uZHRvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWRnZUdpem1vcy5sZW5ndGggPSAwO1xuXG4gICAgICAgIC8vIENsZWFyIGRhc2hlZCBsaW5lcyBiZXR3ZWVuIHN0YXJ0L2VuZFBvaW50IG9mIGFyY3MuXG4gICAgICAgIHRoaXMuYXJjRWRnZUdpem1vLnNldFBvbHkobnVsbCk7XG4gICAgfVxuXG4gICAgLy8gRXhjbHVkZSBjdXJyZW50bHkgZWRpdGVkIHBvbHlnb24gZnJvbSBzbmFwcGluZzogVGhlIHBvbHlnb24gc2hvdWxkbid0IHNuYXAgdG8gaXRzZWxmLCBidXQgcmF0aGVyXG4gICAgLy8gdG8gZ2VvbWV0cnkgYmVsb3cgaXQuXG4gICAgc25hcHBpbmdGaWx0ZXIoc2hhcGUpIHtcbiAgICAgICAgcmV0dXJuIHNoYXBlICE9PSB0aGlzLnBvbHk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIGVkZ2UgZ2l6bW9zIChmb3IgZWRnZSBoaWdobGlnaHRpbmcpXG4gICAgdXBkYXRlQWxsR2l6bW9zKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZUVkZ2VHaXptbygpO1xuICAgICAgICB0aGlzLmNyZWF0ZUVkZ2VHaXptb3MoKTtcbiAgICAgICAgdGhpcy51cGRhdGVFZGdlR2l6bW9IaWdobGlnaHRpbmcoKTtcbiAgICAgICAgdGhpcy5zbmFwcGVyLmNsZWFyU25hcHBpbmdHaXptb3MoKTtcbiAgICB9XG5cbiAgICBzZXRBbGxHaXptb3NFbmFibGVkKGVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5naXptb3NFbmFibGVkID0gZW5hYmxlZDtcblxuICAgICAgICB0aGlzLnVwZGF0ZUFsbEdpem1vcygpO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBzZWxlY3Rpb24gaGlnaGxpZ2h0aW5nIGZvciBlZGdlIGdpem1vc1xuICAgIHVwZGF0ZUVkZ2VHaXptb0hpZ2hsaWdodGluZygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmdpem1vc0VuYWJsZWQpIHtcbiAgICAgICAgICAgIC8vIGlmIGdpem1vcyBhcmUgbm90IGVuYWJsZWQsIHRoZXJlIGlzIG5vdGhpbmcgdG8gaGlnaGxpZ2h0XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlZGdlSW5kZXggPSB0aGlzLnNlbGVjdGVkRWRnZSA/IHRoaXMuc2VsZWN0ZWRFZGdlLnZlcnRleCA6IC0xO1xuICAgICAgICBjb25zdCBsb29wSW5kZXggPSB0aGlzLnNlbGVjdGVkRWRnZSA/IHRoaXMuc2VsZWN0ZWRFZGdlLmxvb3AgOiAtMTtcblxuICAgICAgICBmb3IgKGxldCBsID0gMDsgbCA8IHRoaXMuZWRnZUdpem1vcy5sZW5ndGg7IGwrKykge1xuICAgICAgICAgICAgY29uc3QgZ2l6bW9zID0gdGhpcy5lZGdlR2l6bW9zW2xdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnaXptb3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBnaXptbyA9IGdpem1vc1tpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IChpID09PSBlZGdlSW5kZXggJiYgbCA9PT0gbG9vcEluZGV4KTtcbiAgICAgICAgICAgICAgICBnaXptby5zZXRTZWxlY3RlZChzZWxlY3RlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOlsiQWN0aW9ucyIsIk1hdGgyRCIsIlBvbHlJbmRleCIsIlBvbHlCYXNlIiwiUG9seWxpbmUiLCJTdHlsZSIsIkVkZ2VNb3ZlR2l6bW8iLCJBcmNFZGdlR2l6bW8iLCJMZW5ndGhMYWJlbCIsIkVkaXRUb29sQmFzZSIsIkVkZ2VNb3ZlVG9vbE5hbWUiLCJhdiIsIkF1dG9kZXNrIiwiVmlld2luZyIsImVkZ2VHaXptb05hbWUiLCJpbmRleCIsInRvU3RyaW5nIiwiZWRnZXNDb2xsaW5lYXIiLCJwb2x5IiwidmVydGV4IiwibG9vcEluZGV4IiwidmVydGV4Q291bnQiLCJnZXRWZXJ0ZXhDb3VudCIsImlzTGluZSIsImlzUG9seWxpbmUiLCJwcmV2RXhpc3RzIiwibmV4dEV4aXN0cyIsInByZXZJbmRleCIsIm5leHRJbmRleCIsInByZWNpc2lvbiIsImEiLCJnZXRQb2ludCIsImIiLCJjIiwiaXNQb2ludE9uTGluZSIsIkVkZ2VNb3ZlVG9vbCIsImNvbnN0cnVjdG9yIiwiY3R4Iiwib3B0aW9ucyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImxheWVyIiwic2VsZWN0aW9uIiwibmFtZVN1ZmZpeCIsInRvb2xTZXROYW1lIiwia2V5TWFwIiwiQ2FuY2VsRWRpdCIsIktleUNvZGUiLCJFU0NBUEUiLCJkcmFnRWRnZVN0YXJ0UG9zIiwiVEhSRUUiLCJWZWN0b3IyIiwibGFzdERyYWdQb2ludCIsImRyYWdnZWRFZGdlIiwic2VsZWN0ZWRFZGdlIiwiZHJhZ2dlZEVkZ2VCZWZvcmUiLCJkcmFnZ2VkRWRnZU5vcm1hbCIsImRyYWdPZmZzZXQiLCJkdXBsaWNhdGVTdGFydFZlcnRleCIsImR1cGxpY2F0ZUVuZFZlcnRleCIsImVkZ2VHaXptb3MiLCJnaXptb3NFbmFibGVkIiwiZWRnZUdpem1vIiwiZWRnZUdpem1vU2hvd24iLCJhcmNFZGdlR2l6bW8iLCJnaXptb0xheWVyIiwibGVuZ3RoTGFiZWwiLCJ1bml0SGFuZGxlciIsImVkZ2VIaWdobGlnaHRTdHlsZSIsImxpbmVDb2xvciIsImdpem1vQ2xhc3NOYW1lIiwiZ2V0TmFtZSIsImRlYWN0aXZhdGUiLCJyZXNldCIsInNldExlbmd0aExhYmVsVmlzaWJsZSIsInZpc2libGUiLCJzZXRWaXNpYmxlIiwiaGFuZGxlQnV0dG9uRG93biIsImV2ZW50IiwiYnV0dG9uIiwiaWdub3JlRHJhZ2dpbmciLCJzZXRTZWxlY3RlZEVkZ2UiLCJzZWxlY3RlZEVkZ2VHaXptbyIsImdldEVkZ2VJbmRleCIsImVkZ2VNb3ZlUG9zc2libGUiLCJzdGFydGVkRHJhZ2dpbmciLCJzdGFydERyYWdFZGdlIiwiaGFuZGxlTW91c2VNb3ZlIiwidXBkYXRlRWRnZUdpem1vIiwibW92ZURyYWdFZGdlIiwiaGFuZGxlQnV0dG9uVXAiLCJ3YXNEcmFnZ2luZyIsImVuZERyYWdFZGdlIiwiaGFuZGxlS2V5RG93biIsImtleUNvZGUiLCJoYW5kbGVkIiwiY2FuY2VsRHJhZyIsImdldEN1cnNvciIsImwiLCJnaXptb3MiLCJnaXptb01hbmFnZXIiLCJnZXRHaXptb0luZGV4IiwibG9vcCIsIm5lZWRzVXBkYXRlIiwicmVzdG9yZURyYWdFZGdlIiwidXBkYXRlQWxsR2l6bW9zIiwidXBkYXRlIiwic25hcHBlciIsImNsZWFyU25hcHBpbmdHaXptb3MiLCJoYW5kbGVFeHRlcm5hbEFjdGlvbiIsImFjdGlvbiIsImlzVW5kbyIsInVwZGF0ZVNlbGVjdGlvblN0YXRlIiwiaGludCIsImdldFNlbGVjdGlvbkhpbnQiLCJlZGdlIiwic2hhcGVGb3VuZCIsIkJvb2xlYW4iLCJmaW5kU2hhcGVCeUlkIiwiaWQiLCJlZGdlSW5kZXgiLCJtb3VzZVRyYWNrZXIiLCJzdGFydFRyYWNraW5nIiwiRWRpdDJEIiwiVHJhY2tpbmdzIiwiRHJhZyIsImdldExlZnRFZGdlTm9ybWFsIiwiZ2V0RWRnZSIsImVkZ2VEaXIiLCJnZXRFZGdlRGlyZWN0aW9uIiwicG9pbnRPbkVkZ2UiLCJjYW52YXNUb0xheWVyIiwiY2FudmFzWCIsImNhbnZhc1kiLCJwcm9qZWN0VG9MaW5lIiwiY29weSIsImVkZ2VQb3NTY3JlZW4iLCJsYXllclRvQ2FudmFzIiwieCIsInkiLCJzZXQiLCJpYSIsImliIiwiTW92ZUVkZ2UiLCJkdXBsaWNhdGVWZXJ0aWNlcyIsIm5ld0VkZ2VJbmRleCIsImdldE5ld0VkZ2VJbmRleCIsInBvbHlJbmRleCIsIm9uU2VsZWN0aW9uQ2hhbmdlZCIsInNlbGVjdGVkIiwiZ2V0U2VsZWN0ZWRTaGFwZXMiLCJzaGFwZSIsInNldEVkaXRQb2x5Iiwic2V0U2hhcGUiLCJzdG9wQW5nbGVTbmFwcGluZyIsInBvbHlsaW5lIiwiY3JlYXRlRWRnZUdpem1vcyIsImNsZWFyRWRnZUdpem1vcyIsImhhc0VkZ2VNb3ZlR2l6bW9zIiwibG9vcENvdW50IiwiZWRnZUNvdW50IiwiZ2V0RWRnZUNvdW50IiwibmVlZEVkZ2VNb3ZlR2l6bW9zIiwiaSIsImdpem1vIiwiYXR0YWNoVG9FZGdlIiwicHVzaCIsInNldFBvbHkiLCJ1cGRhdGVFZGdlR2l6bW9IaWdobGlnaHRpbmciLCJ5T2Zmc2V0IiwicGl4ZWxPZmZzZXQiLCJwIiwiZ2V0U25hcFBvc2l0aW9uIiwiZGVsdGEiLCJjbG9uZSIsInN1YiIsInByZXZFZGdlSW5kZXgiLCJuZXh0RWRnZUluZGV4IiwicHJldkVkZ2VFeGlzdHMiLCJuZXh0RWRnZUV4aXN0cyIsIm5ld0VkZ2VBIiwibmV3RWRnZUIiLCJjdXJFZGdlQSIsImN1ckVkZ2VCIiwiYWRkIiwicHJldkVkZ2VBIiwicHJldkVkZ2VCIiwibmV4dEVkZ2VBIiwibmV4dEVkZ2VCIiwicHJldkVkZ2VEaXIiLCJjdXJFZGdlRGlyIiwibmV4dEVkZ2VEaXIiLCJpbnRlcnNlY3RMaW5lcyIsInVwZGF0ZVBvaW50IiwicmV2ZXJ0RHVwbGljYXRlVmVydGljZXMiLCJzdG9wVHJhY2tpbmciLCJuZXdQb3MxIiwibmV3UG9zMiIsImRpc3RhbmNlVG8iLCJnZXRQaXhlbHNQZXJVbml0IiwicnVuQWN0aW9uIiwiZWRnZVVuZGVyTW91c2UiLCJlZGdlU2VsZWN0ZWQiLCJlZGdlSG92ZXJlZCIsImFyY0VkZ2VIb3ZlcmVkIiwiaXNQYXRoIiwiaXNBcmMiLCJnaXptb05lZWRlZCIsImFkZFNoYXBlIiwicmVtb3ZlU2hhcGUiLCJlZGdlVG9IaWdobGlnaHQiLCJjb2xvcml6ZUFyY0VkZ2UiLCJzZXRFZGdlSGlnaGxpZ2h0ZWQiLCJjbGVhckVkZ2VIaWdobGlnaHRpbmciLCJtYWtlTGluZSIsInN0eWxlIiwibGluZVdpZHRoIiwiaXNTY3JlZW5TcGFjZSIsImxpbmVBbHBoYSIsImR0b3IiLCJzbmFwcGluZ0ZpbHRlciIsInNldEFsbEdpem1vc0VuYWJsZWQiLCJlbmFibGVkIiwic2V0U2VsZWN0ZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Edit2D/tools/EdgeMoveTool.js\n");

/***/ }),

/***/ "./extensions/Edit2D/tools/EditToolBase.js":
/*!*************************************************!*\
  !*** ./extensions/Edit2D/tools/EditToolBase.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EditToolBase)\n/* harmony export */ });\n/* harmony import */ var _Selection_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Selection.js */ \"./extensions/Edit2D/Selection.js\");\n/* harmony import */ var _UndoStack_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../UndoStack.js */ \"./extensions/Edit2D/UndoStack.js\");\n/* harmony import */ var _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../CanvasGizmo.js */ \"./extensions/Edit2D/CanvasGizmo.js\");\n\n\n\n\n\n\nconst av = Autodesk.Viewing;\n\n\n// Utility class shared by Edit2D tools to facilitate snapping\nclass EditToolBase {\n\n  constructor(ctx) {\n\n    this.viewer = ctx.viewer;\n    this.setGlobalManager(this.viewer.globalManager);\n    this.layer = ctx.layer;\n    this.gizmoLayer = ctx.gizmoLayer;\n    this.snapper = ctx.snapper;\n    this.selection = ctx.selection;\n    this.undoStack = ctx.undoStack;\n    this.unitHandler = ctx.unitHandler;\n    this.nameSuffix = `_${ctx.toolSetName}`;\n    this.mouseTracker = ctx.mouseTracker; // needed for tracking mouse in Edit 2D\n\n    // If true, all mouse-dragging handlers just return false, so that the events are handled by LMV navigation tools instead.\n    this.ignoreDragging = false;\n\n    // This flag is used to avoid triggering handleExternalAction if we triggered an action ourselves.\n    this.ignoreActions = false;\n\n    // If another tool applies changes while this tool is active, we want to keep the tool state consistent.\n    // E.g., the UndoTool or CopyTool may be active in parallel and may modify/remove a polygon we are working on.\n    // his event listener makes sure that handleExternalAction() is called in this case so that this tool can respond.\n    this.onActionCb = (event) => {\n      if (!this.ignoreActions) {\n        this.handleExternalAction(event.action, event.isUndo);\n      }\n    };\n\n    // indicates if snapping is currently suppressed by hold modifier key\n    this.suppressSnapping = false;\n\n    this.keyMap = {\n      SnapKey: av.KeyCode.SHIFT, // Holding this key suppresses snapping\n      PanKey: av.KeyCode.SPACE // Holding space bypasses all edit tools, so that default navigation (usually panning) steps in\n    };\n\n    // When using selection, register a handler to notify about selection changed\n    if (this.selection) {\n      this.selectionCb = () => {\n\n        // Only respond if tool is activated\n        if (!this.active) {\n          return;\n        }\n\n        // Call handler if derived class defines one\n        this.onSelectionChanged && this.onSelectionChanged();\n      };\n\n      this.selection.addEventListener(_Selection_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Events.SELECTION_CHANGED, this.selectionCb);\n    }\n\n    this.active = false;\n\n    // Track last mouse position in canvas coords. Note that derived classes must call\n    // the base class mouse handlers to keep this value valid.\n    this.canvasPos = new THREE.Vector2();\n\n    // Tracks which gizmo is under mouse\n    this.gizmoManager = new _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_2__.GizmoManager();\n\n    // Track which keys are currently hold down\n    this.keyState = {\n      ctrl: false,\n      shift: false,\n      alt: false\n    };\n  }\n\n  getSnapPosition(canvasX, canvasY) {\n    const useSnapper = this.snapper && !this.suppressSnapping;\n    if (useSnapper) {\n      return this.snapper.getSnapPosition(canvasX, canvasY, (s) => this.snappingFilter(s));\n    } else {\n      // Make sure that we don't keep outdated snapping gizmos\n      this.snapper.clearSnappingGizmos();\n\n      // Just convert canvas pos to layer pos\n      return this.layer.canvasToLayer(canvasX, canvasY);\n    }\n  }\n\n  dtor() {\n    if (this.selectionCb) {\n      this.selection.removeEventListener(_Selection_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Events.SELECTION_CHANGED, this.selectionCb);\n    }\n  }\n\n  getNames() {\n    return [this.getName()];\n  }\n\n  handleKeyDown(event, keyCode) {\n\n    this.keyState[keyCode] = true;\n\n    // Hold key to suppress snapping\n    if (keyCode === this.keyMap.SnapKey && !this.suppressSnapping) {\n      this.suppressSnapping = true;\n\n      // Let tool instantly update hover-gizmos\n      this.onSnappingToggled && this.onSnappingToggled(this.canvasPos.x, this.canvasPos.y);\n    }\n\n    // While edit tools are active the BACKSPACE key should not make the browser go back in history, otherwise\n    // the customer might lose his drawings when he's in an editing session, does a invalid selection and\n    // hits backspace.\n    if (keyCode === av.KeyCode.BACKSPACE) {\n      return true;\n    }\n\n    if (keyCode === this.keyMap.PanKey) {\n      this.ignoreDragging = true;\n    }\n  }\n\n  handleKeyUp(event, keyCode) {\n\n    this.keyState[keyCode] = false;\n\n    if (keyCode === this.keyMap.SnapKey && this.suppressSnapping) {\n      this.suppressSnapping = false;\n\n      // Let tool instantly update hover-gizmos\n      this.onSnappingToggled && this.onSnappingToggled(this.canvasPos.x, this.canvasPos.y);\n    }\n\n    if (keyCode === this.keyMap.PanKey) {\n      this.ignoreDragging = false;\n    }\n  }\n\n  // Invoked whenever another tool triggered\n  handleExternalAction(action, isUndo) {}\n\n  // Run an action without triggering handleExternalAction\n  runAction(action) {\n    this.ignoreActions = true;\n    this.undoStack.run(action);\n    this.ignoreActions = false;\n  }\n\n  activate() {\n    this.active = true;\n    this.undoStack.addEventListener(_UndoStack_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].AFTER_ACTION, this.onActionCb);\n  }\n\n  deactivate() {\n    this.active = false;\n    this.undoStack.removeEventListener(_UndoStack_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].AFTER_ACTION, this.onActionCb);\n\n    // Make sure we don't keep outdated snapping indicators\n    this.snapper && this.snapper.clearSnappingGizmos();\n  }\n\n  register() {}\n\n  // Maps a key event to a function key in the key-map.\n  mapKey(event, keyMap) {\n\n    for (let key in keyMap) {\n      const assigned = keyMap[key];\n\n      // Skip disabled key commands\n      if (assigned === null) {\n        continue;\n      }\n\n      // If a single key is assigned to this function and it matches, return the function key\n      if (event.keyCode == assigned) {\n        return key;\n      }\n\n      // If multiple keys are assigned, check if one matches.\n      if (Array.isArray(assigned) && assigned.includes(event.keyCode)) {\n        return key;\n      }\n\n      // If it is an object, it may define modifiers and a custom filter\n      if (typeof assigned === 'object') {\n        const ctrl = assigned.ctrlKey === undefined ? true : assigned.ctrlKey === event.ctrlKey;\n        const shift = assigned.shiftKey === undefined ? true : assigned.shiftKey === event.shiftKey;\n        const alt = assigned.altKey === undefined ? true : assigned.altKey === event.altKey;\n        const meta = assigned.meta === undefined ? true : assigned.metaKey === event.metaKey;\n\n        // return true if code and all (assigned) modifiers match\n        const match = assigned.keyCode === event.keyCode && ctrl && shift && alt && meta;\n        if (match) {\n          return key;\n        }\n      }\n\n      // Allow generic key-handler function\n      if (typeof assigned === 'function' && assigned(event)) {\n        return key;\n      }\n    }\n    // event does not match any assigned keyCode\n    return null;\n  }\n\n  // By default, we consider all EditShapes for snapping\n  snappingFilter() {\n    return true;\n  }\n\n  // pass mouse changes to method provided to extension\n  trackMouseHook(event) {\n    if (this.mouseTracker) {\n      const p = this.layer.canvasToLayer(event.canvasX, event.canvasY);\n      this.mouseTracker.trackMouse(event, p);\n    }\n  }\n\n  // Remember last mouse position\n  trackMousePos(e) {\n    this.trackMouseHook(e);\n    this.canvasPos.set(e.canvasX, e.canvasY);\n    this.gizmoManager.update(e);\n  }\n\n  handleMouseMove(e) {this.trackMousePos(e);}\n  handleSingleClick(e) {this.trackMousePos(e);}\n  handleDoubleClick(e) {this.trackMousePos(e);}\n  handleButtonUp(e) {this.trackMousePos(e);}\n  handleButtonDown(e) {this.trackMousePos(e);}\n}\n\nav.GlobalManagerMixin.call(EditToolBase.prototype);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL0VkaXQyRC90b29scy9FZGl0VG9vbEJhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRXdDO0FBQ0E7QUFDUzs7QUFFakQsTUFBTUcsRUFBRSxHQUFHQyxRQUFRLENBQUNDLE9BQU87OztBQUczQjtBQUNlLE1BQU1DLFlBQVksQ0FBQzs7RUFFOUJDLFdBQVdBLENBQUNDLEdBQUcsRUFBRTs7SUFFYixJQUFJLENBQUNDLE1BQU0sR0FBUUQsR0FBRyxDQUFDQyxNQUFNO0lBQzdCLElBQUksQ0FBQ0MsZ0JBQWdCLENBQUMsSUFBSSxDQUFDRCxNQUFNLENBQUNFLGFBQWEsQ0FBQztJQUNoRCxJQUFJLENBQUNDLEtBQUssR0FBU0osR0FBRyxDQUFDSSxLQUFLO0lBQzVCLElBQUksQ0FBQ0MsVUFBVSxHQUFJTCxHQUFHLENBQUNLLFVBQVU7SUFDakMsSUFBSSxDQUFDQyxPQUFPLEdBQU9OLEdBQUcsQ0FBQ00sT0FBTztJQUM5QixJQUFJLENBQUNDLFNBQVMsR0FBS1AsR0FBRyxDQUFDTyxTQUFTO0lBQ2hDLElBQUksQ0FBQ0MsU0FBUyxHQUFLUixHQUFHLENBQUNRLFNBQVM7SUFDaEMsSUFBSSxDQUFDQyxXQUFXLEdBQUdULEdBQUcsQ0FBQ1MsV0FBVztJQUNsQyxJQUFJLENBQUNDLFVBQVUsR0FBSyxJQUFHVixHQUFHLENBQUNXLFdBQVksRUFBQztJQUN4QyxJQUFJLENBQUNDLFlBQVksR0FBR1osR0FBRyxDQUFDWSxZQUFZLENBQUMsQ0FBQzs7SUFFdEM7SUFDQSxJQUFJLENBQUNDLGNBQWMsR0FBRyxLQUFLOztJQUUzQjtJQUNBLElBQUksQ0FBQ0MsYUFBYSxHQUFHLEtBQUs7O0lBRTFCO0lBQ0E7SUFDQTtJQUNBLElBQUksQ0FBQ0MsVUFBVSxHQUFHLENBQUFDLEtBQUssS0FBSTtNQUN2QixJQUFJLENBQUMsSUFBSSxDQUFDRixhQUFhLEVBQUU7UUFDckIsSUFBSSxDQUFDRyxvQkFBb0IsQ0FBQ0QsS0FBSyxDQUFDRSxNQUFNLEVBQUVG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SUFBSSxDQUFDSixjQUFjLENBQUNJLENBQUMsQ0FBQztJQUN0QixJQUFJLENBQUNsRCxTQUFTLENBQUNtRCxHQUFHLENBQUNELENBQUMsQ0FBQ3pDLE9BQU8sRUFBRXlDLENBQUMsQ0FBQ3hDLE9BQU8sQ0FBQztJQUN4QyxJQUFJLENBQUNQLFlBQVksQ0FBQ2lELE1BQU0sQ0FBQ0YsQ0FBQyxDQUFDO0VBQy9COztFQUVBRyxlQUFlQSxDQUFDSCxDQUFDLEVBQUksQ0FBRSxJQUFJLENBQUNELGFBQWEsQ0FBQ0MsQ0FBQyxDQUFDLENBQUU7RUFDOUNJLGlCQUFpQkEsQ0FBQ0osQ0FBQyxFQUFFLENBQUUsSUFBSSxDQUFDRCxhQUFhLENBQUNDLENBQUMsQ0FBQyxDQUFFO0VBQzlDSyxpQkFBaUJBLENBQUNMLENBQUMsRUFBRSxDQUFFLElBQUksQ0FBQ0QsYUFBYSxDQUFDQyxDQUFDLENBQUMsQ0FBRTtFQUM5Q00sY0FBY0EsQ0FBQ04sQ0FBQyxFQUFLLENBQUUsSUFBSSxDQUFDRCxhQUFhLENBQUNDLENBQUMsQ0FBQyxDQUFFO0VBQzlDTyxnQkFBZ0JBLENBQUNQLENBQUMsRUFBRyxDQUFFLElBQUksQ0FBQ0QsYUFBYSxDQUFDQyxDQUFDLENBQUMsQ0FBRTtBQUNsRDs7QUFFQXhGLEVBQUUsQ0FBQ2dHLGtCQUFrQixDQUFDQyxJQUFJLENBQUM5RixZQUFZLENBQUMrRixTQUFTLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9FZGl0MkQvdG9vbHMvRWRpdFRvb2xCYXNlLmpzPzZiNTEiXSwic291cmNlc0NvbnRlbnQiOlsiXG5cbmltcG9ydCBTZWxlY3Rpb24gZnJvbSAnLi4vU2VsZWN0aW9uLmpzJztcbmltcG9ydCBVbmRvU3RhY2sgZnJvbSAnLi4vVW5kb1N0YWNrLmpzJztcbmltcG9ydCB7IEdpem1vTWFuYWdlciB9IGZyb20gJy4uL0NhbnZhc0dpem1vLmpzJztcblxuY29uc3QgYXYgPSBBdXRvZGVzay5WaWV3aW5nO1xuXG5cbi8vIFV0aWxpdHkgY2xhc3Mgc2hhcmVkIGJ5IEVkaXQyRCB0b29scyB0byBmYWNpbGl0YXRlIHNuYXBwaW5nXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFZGl0VG9vbEJhc2Uge1xuXG4gICAgY29uc3RydWN0b3IoY3R4KSB7XG5cbiAgICAgICAgdGhpcy52aWV3ZXIgICAgICA9IGN0eC52aWV3ZXI7XG4gICAgICAgIHRoaXMuc2V0R2xvYmFsTWFuYWdlcih0aGlzLnZpZXdlci5nbG9iYWxNYW5hZ2VyKTtcbiAgICAgICAgdGhpcy5sYXllciAgICAgICA9IGN0eC5sYXllcjtcbiAgICAgICAgdGhpcy5naXptb0xheWVyICA9IGN0eC5naXptb0xheWVyO1xuICAgICAgICB0aGlzLnNuYXBwZXIgICAgID0gY3R4LnNuYXBwZXI7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uICAgPSBjdHguc2VsZWN0aW9uO1xuICAgICAgICB0aGlzLnVuZG9TdGFjayAgID0gY3R4LnVuZG9TdGFjaztcbiAgICAgICAgdGhpcy51bml0SGFuZGxlciA9IGN0eC51bml0SGFuZGxlcjtcbiAgICAgICAgdGhpcy5uYW1lU3VmZml4ICA9IGBfJHtjdHgudG9vbFNldE5hbWV9YDtcbiAgICAgICAgdGhpcy5tb3VzZVRyYWNrZXIgPSBjdHgubW91c2VUcmFja2VyOyAvLyBuZWVkZWQgZm9yIHRyYWNraW5nIG1vdXNlIGluIEVkaXQgMkRcblxuICAgICAgICAvLyBJZiB0cnVlLCBhbGwgbW91c2UtZHJhZ2dpbmcgaGFuZGxlcnMganVzdCByZXR1cm4gZmFsc2UsIHNvIHRoYXQgdGhlIGV2ZW50cyBhcmUgaGFuZGxlZCBieSBMTVYgbmF2aWdhdGlvbiB0b29scyBpbnN0ZWFkLlxuICAgICAgICB0aGlzLmlnbm9yZURyYWdnaW5nID0gZmFsc2U7XG5cbiAgICAgICAgLy8gVGhpcyBmbGFnIGlzIHVzZWQgdG8gYXZvaWQgdHJpZ2dlcmluZyBoYW5kbGVFeHRlcm5hbEFjdGlvbiBpZiB3ZSB0cmlnZ2VyZWQgYW4gYWN0aW9uIG91cnNlbHZlcy5cbiAgICAgICAgdGhpcy5pZ25vcmVBY3Rpb25zID0gZmFsc2U7XG5cbiAgICAgICAgLy8gSWYgYW5vdGhlciB0b29sIGFwcGxpZXMgY2hhbmdlcyB3aGlsZSB0aGlzIHRvb2wgaXMgYWN0aXZlLCB3ZSB3YW50IHRvIGtlZXAgdGhlIHRvb2wgc3RhdGUgY29uc2lzdGVudC5cbiAgICAgICAgLy8gRS5nLiwgdGhlIFVuZG9Ub29sIG9yIENvcHlUb29sIG1heSBiZSBhY3RpdmUgaW4gcGFyYWxsZWwgYW5kIG1heSBtb2RpZnkvcmVtb3ZlIGEgcG9seWdvbiB3ZSBhcmUgd29ya2luZyBvbi5cbiAgICAgICAgLy8gaGlzIGV2ZW50IGxpc3RlbmVyIG1ha2VzIHN1cmUgdGhhdCBoYW5kbGVFeHRlcm5hbEFjdGlvbigpIGlzIGNhbGxlZCBpbiB0aGlzIGNhc2Ugc28gdGhhdCB0aGlzIHRvb2wgY2FuIHJlc3BvbmQuXG4gICAgICAgIHRoaXMub25BY3Rpb25DYiA9IGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZ25vcmVBY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVFeHRlcm5hbEFjdGlvbihldmVudC5hY3Rpb24sIGV2ZW50LmlzVW5kbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gaW5kaWNhdGVzIGlmIHNuYXBwaW5nIGlzIGN1cnJlbnRseSBzdXBwcmVzc2VkIGJ5IGhvbGQgbW9kaWZpZXIga2V5XG4gICAgICAgIHRoaXMuc3VwcHJlc3NTbmFwcGluZyA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMua2V5TWFwID0ge1xuICAgICAgICAgICAgU25hcEtleTogYXYuS2V5Q29kZS5TSElGVCwgLy8gSG9sZGluZyB0aGlzIGtleSBzdXBwcmVzc2VzIHNuYXBwaW5nXG4gICAgICAgICAgICBQYW5LZXk6ICBhdi5LZXlDb2RlLlNQQUNFICAvLyBIb2xkaW5nIHNwYWNlIGJ5cGFzc2VzIGFsbCBlZGl0IHRvb2xzLCBzbyB0aGF0IGRlZmF1bHQgbmF2aWdhdGlvbiAodXN1YWxseSBwYW5uaW5nKSBzdGVwcyBpblxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFdoZW4gdXNpbmcgc2VsZWN0aW9uLCByZWdpc3RlciBhIGhhbmRsZXIgdG8gbm90aWZ5IGFib3V0IHNlbGVjdGlvbiBjaGFuZ2VkXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25DYiA9ICgpID0+IHtcblxuICAgICAgICAgICAgICAgIC8vIE9ubHkgcmVzcG9uZCBpZiB0b29sIGlzIGFjdGl2YXRlZFxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENhbGwgaGFuZGxlciBpZiBkZXJpdmVkIGNsYXNzIGRlZmluZXMgb25lXG4gICAgICAgICAgICAgICAgdGhpcy5vblNlbGVjdGlvbkNoYW5nZWQgJiYgdGhpcy5vblNlbGVjdGlvbkNoYW5nZWQoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoU2VsZWN0aW9uLkV2ZW50cy5TRUxFQ1RJT05fQ0hBTkdFRCwgdGhpcy5zZWxlY3Rpb25DYik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgIC8vIFRyYWNrIGxhc3QgbW91c2UgcG9zaXRpb24gaW4gY2FudmFzIGNvb3Jkcy4gTm90ZSB0aGF0IGRlcml2ZWQgY2xhc3NlcyBtdXN0IGNhbGxcbiAgICAgICAgLy8gdGhlIGJhc2UgY2xhc3MgbW91c2UgaGFuZGxlcnMgdG8ga2VlcCB0aGlzIHZhbHVlIHZhbGlkLlxuICAgICAgICB0aGlzLmNhbnZhc1BvcyA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cbiAgICAgICAgLy8gVHJhY2tzIHdoaWNoIGdpem1vIGlzIHVuZGVyIG1vdXNlXG4gICAgICAgIHRoaXMuZ2l6bW9NYW5hZ2VyID0gbmV3IEdpem1vTWFuYWdlcigpO1xuXG4gICAgICAgIC8vIFRyYWNrIHdoaWNoIGtleXMgYXJlIGN1cnJlbnRseSBob2xkIGRvd25cbiAgICAgICAgdGhpcy5rZXlTdGF0ZSA9IHtcbiAgICAgICAgICAgIGN0cmw6ICBmYWxzZSxcbiAgICAgICAgICAgIHNoaWZ0OiBmYWxzZSxcbiAgICAgICAgICAgIGFsdDogICBmYWxzZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldFNuYXBQb3NpdGlvbihjYW52YXNYLCBjYW52YXNZKSB7XG4gICAgICAgIGNvbnN0IHVzZVNuYXBwZXIgPSB0aGlzLnNuYXBwZXIgJiYgIXRoaXMuc3VwcHJlc3NTbmFwcGluZztcbiAgICAgICAgaWYgKHVzZVNuYXBwZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNuYXBwZXIuZ2V0U25hcFBvc2l0aW9uKGNhbnZhc1gsIGNhbnZhc1ksIHM9PnRoaXMuc25hcHBpbmdGaWx0ZXIocykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgd2UgZG9uJ3Qga2VlcCBvdXRkYXRlZCBzbmFwcGluZyBnaXptb3NcbiAgICAgICAgICAgIHRoaXMuc25hcHBlci5jbGVhclNuYXBwaW5nR2l6bW9zKCk7XG5cbiAgICAgICAgICAgIC8vIEp1c3QgY29udmVydCBjYW52YXMgcG9zIHRvIGxheWVyIHBvc1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGF5ZXIuY2FudmFzVG9MYXllcihjYW52YXNYLCBjYW52YXNZKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGR0b3IoKSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbkNiKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5yZW1vdmVFdmVudExpc3RlbmVyKFNlbGVjdGlvbi5FdmVudHMuU0VMRUNUSU9OX0NIQU5HRUQsIHRoaXMuc2VsZWN0aW9uQ2IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0TmFtZXMoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy5nZXROYW1lKCldO1xuICAgIH1cblxuICAgIGhhbmRsZUtleURvd24oZXZlbnQsIGtleUNvZGUpIHtcblxuICAgICAgICB0aGlzLmtleVN0YXRlW2tleUNvZGVdID0gdHJ1ZTtcblxuICAgICAgICAvLyBIb2xkIGtleSB0byBzdXBwcmVzcyBzbmFwcGluZ1xuICAgICAgICBpZiAoa2V5Q29kZSA9PT0gdGhpcy5rZXlNYXAuU25hcEtleSAmJiAhdGhpcy5zdXBwcmVzc1NuYXBwaW5nKSB7XG4gICAgICAgICAgICB0aGlzLnN1cHByZXNzU25hcHBpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyBMZXQgdG9vbCBpbnN0YW50bHkgdXBkYXRlIGhvdmVyLWdpem1vc1xuICAgICAgICAgICAgdGhpcy5vblNuYXBwaW5nVG9nZ2xlZCAmJiB0aGlzLm9uU25hcHBpbmdUb2dnbGVkKHRoaXMuY2FudmFzUG9zLngsIHRoaXMuY2FudmFzUG9zLnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2hpbGUgZWRpdCB0b29scyBhcmUgYWN0aXZlIHRoZSBCQUNLU1BBQ0Uga2V5IHNob3VsZCBub3QgbWFrZSB0aGUgYnJvd3NlciBnbyBiYWNrIGluIGhpc3RvcnksIG90aGVyd2lzZVxuICAgICAgICAvLyB0aGUgY3VzdG9tZXIgbWlnaHQgbG9zZSBoaXMgZHJhd2luZ3Mgd2hlbiBoZSdzIGluIGFuIGVkaXRpbmcgc2Vzc2lvbiwgZG9lcyBhIGludmFsaWQgc2VsZWN0aW9uIGFuZFxuICAgICAgICAvLyBoaXRzIGJhY2tzcGFjZS5cbiAgICAgICAgaWYgKGtleUNvZGUgPT09IGF2LktleUNvZGUuQkFDS1NQQUNFKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChrZXlDb2RlID09PSB0aGlzLmtleU1hcC5QYW5LZXkpIHtcbiAgICAgICAgICAgIHRoaXMuaWdub3JlRHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlS2V5VXAoZXZlbnQsIGtleUNvZGUpIHtcblxuICAgICAgICB0aGlzLmtleVN0YXRlW2tleUNvZGVdID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGtleUNvZGUgPT09IHRoaXMua2V5TWFwLlNuYXBLZXkgJiYgdGhpcy5zdXBwcmVzc1NuYXBwaW5nKSB7XG4gICAgICAgICAgICB0aGlzLnN1cHByZXNzU25hcHBpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gTGV0IHRvb2wgaW5zdGFudGx5IHVwZGF0ZSBob3Zlci1naXptb3NcbiAgICAgICAgICAgIHRoaXMub25TbmFwcGluZ1RvZ2dsZWQgJiYgdGhpcy5vblNuYXBwaW5nVG9nZ2xlZCh0aGlzLmNhbnZhc1Bvcy54LCB0aGlzLmNhbnZhc1Bvcy55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChrZXlDb2RlID09PSB0aGlzLmtleU1hcC5QYW5LZXkpIHtcbiAgICAgICAgICAgIHRoaXMuaWdub3JlRHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEludm9rZWQgd2hlbmV2ZXIgYW5vdGhlciB0b29sIHRyaWdnZXJlZFxuICAgIGhhbmRsZUV4dGVybmFsQWN0aW9uKGFjdGlvbiwgaXNVbmRvKSB7fVxuXG4gICAgLy8gUnVuIGFuIGFjdGlvbiB3aXRob3V0IHRyaWdnZXJpbmcgaGFuZGxlRXh0ZXJuYWxBY3Rpb25cbiAgICBydW5BY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuaWdub3JlQWN0aW9ucyA9IHRydWU7XG4gICAgICAgIHRoaXMudW5kb1N0YWNrLnJ1bihhY3Rpb24pO1xuICAgICAgICB0aGlzLmlnbm9yZUFjdGlvbnMgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBhY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLnVuZG9TdGFjay5hZGRFdmVudExpc3RlbmVyKFVuZG9TdGFjay5BRlRFUl9BQ1RJT04sIHRoaXMub25BY3Rpb25DYik7XG4gICAgfVxuXG4gICAgZGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy51bmRvU3RhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcihVbmRvU3RhY2suQUZURVJfQUNUSU9OLCB0aGlzLm9uQWN0aW9uQ2IpO1xuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBkb24ndCBrZWVwIG91dGRhdGVkIHNuYXBwaW5nIGluZGljYXRvcnNcbiAgICAgICAgdGhpcy5zbmFwcGVyICYmIHRoaXMuc25hcHBlci5jbGVhclNuYXBwaW5nR2l6bW9zKCk7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXIoKSB7fVxuXG4gICAgLy8gTWFwcyBhIGtleSBldmVudCB0byBhIGZ1bmN0aW9uIGtleSBpbiB0aGUga2V5LW1hcC5cbiAgICBtYXBLZXkoZXZlbnQsIGtleU1hcCkge1xuXG4gICAgICAgIGZvciAobGV0IGtleSBpbiBrZXlNYXApIHtcbiAgICAgICAgICAgIGNvbnN0IGFzc2lnbmVkID0ga2V5TWFwW2tleV07XG5cbiAgICAgICAgICAgIC8vIFNraXAgZGlzYWJsZWQga2V5IGNvbW1hbmRzXG4gICAgICAgICAgICBpZiAoYXNzaWduZWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWYgYSBzaW5nbGUga2V5IGlzIGFzc2lnbmVkIHRvIHRoaXMgZnVuY3Rpb24gYW5kIGl0IG1hdGNoZXMsIHJldHVybiB0aGUgZnVuY3Rpb24ga2V5XG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSBhc3NpZ25lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIG11bHRpcGxlIGtleXMgYXJlIGFzc2lnbmVkLCBjaGVjayBpZiBvbmUgbWF0Y2hlcy5cbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFzc2lnbmVkKSAmJiBhc3NpZ25lZC5pbmNsdWRlcyhldmVudC5rZXlDb2RlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIGl0IGlzIGFuIG9iamVjdCwgaXQgbWF5IGRlZmluZSBtb2RpZmllcnMgYW5kIGEgY3VzdG9tIGZpbHRlclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBhc3NpZ25lZCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdHJsICA9IChhc3NpZ25lZC5jdHJsS2V5ICA9PT0gdW5kZWZpbmVkKSA/IHRydWUgOiBhc3NpZ25lZC5jdHJsS2V5ICA9PT0gZXZlbnQuY3RybEtleTtcbiAgICAgICAgICAgICAgICBjb25zdCBzaGlmdCA9IChhc3NpZ25lZC5zaGlmdEtleSA9PT0gdW5kZWZpbmVkKSA/IHRydWUgOiBhc3NpZ25lZC5zaGlmdEtleSA9PT0gZXZlbnQuc2hpZnRLZXk7XG4gICAgICAgICAgICAgICAgY29uc3QgYWx0ICAgPSAoYXNzaWduZWQuYWx0S2V5ICAgPT09IHVuZGVmaW5lZCkgPyB0cnVlIDogYXNzaWduZWQuYWx0S2V5ICAgPT09IGV2ZW50LmFsdEtleTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhICA9IChhc3NpZ25lZC5tZXRhICAgICA9PT0gdW5kZWZpbmVkKSA/IHRydWUgOiBhc3NpZ25lZC5tZXRhS2V5ICA9PT0gZXZlbnQubWV0YUtleTtcblxuICAgICAgICAgICAgICAgIC8vIHJldHVybiB0cnVlIGlmIGNvZGUgYW5kIGFsbCAoYXNzaWduZWQpIG1vZGlmaWVycyBtYXRjaFxuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gKGFzc2lnbmVkLmtleUNvZGUgPT09IGV2ZW50LmtleUNvZGUpICYmIGN0cmwgJiYgc2hpZnQgJiYgYWx0ICYmIG1ldGE7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBbGxvdyBnZW5lcmljIGtleS1oYW5kbGVyIGZ1bmN0aW9uXG4gICAgICAgICAgICBpZiAodHlwZW9mIGFzc2lnbmVkID09PSAnZnVuY3Rpb24nICYmIGFzc2lnbmVkKGV2ZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXZlbnQgZG9lcyBub3QgbWF0Y2ggYW55IGFzc2lnbmVkIGtleUNvZGVcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gQnkgZGVmYXVsdCwgd2UgY29uc2lkZXIgYWxsIEVkaXRTaGFwZXMgZm9yIHNuYXBwaW5nXG4gICAgc25hcHBpbmdGaWx0ZXIoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIHBhc3MgbW91c2UgY2hhbmdlcyB0byBtZXRob2QgcHJvdmlkZWQgdG8gZXh0ZW5zaW9uXG4gICAgdHJhY2tNb3VzZUhvb2soZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMubW91c2VUcmFja2VyKSB7XG4gICAgICAgICAgICBjb25zdCBwID0gdGhpcy5sYXllci5jYW52YXNUb0xheWVyKGV2ZW50LmNhbnZhc1gsIGV2ZW50LmNhbnZhc1kpO1xuICAgICAgICAgICAgdGhpcy5tb3VzZVRyYWNrZXIudHJhY2tNb3VzZShldmVudCxwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbWVtYmVyIGxhc3QgbW91c2UgcG9zaXRpb25cbiAgICB0cmFja01vdXNlUG9zKGUpIHtcbiAgICAgICAgdGhpcy50cmFja01vdXNlSG9vayhlKTtcbiAgICAgICAgdGhpcy5jYW52YXNQb3Muc2V0KGUuY2FudmFzWCwgZS5jYW52YXNZKTtcbiAgICAgICAgdGhpcy5naXptb01hbmFnZXIudXBkYXRlKGUpO1xuICAgIH1cblxuICAgIGhhbmRsZU1vdXNlTW92ZShlKSAgIHsgdGhpcy50cmFja01vdXNlUG9zKGUpOyB9XG4gICAgaGFuZGxlU2luZ2xlQ2xpY2soZSkgeyB0aGlzLnRyYWNrTW91c2VQb3MoZSk7IH1cbiAgICBoYW5kbGVEb3VibGVDbGljayhlKSB7IHRoaXMudHJhY2tNb3VzZVBvcyhlKTsgfVxuICAgIGhhbmRsZUJ1dHRvblVwKGUpICAgIHsgdGhpcy50cmFja01vdXNlUG9zKGUpOyB9XG4gICAgaGFuZGxlQnV0dG9uRG93bihlKSAgeyB0aGlzLnRyYWNrTW91c2VQb3MoZSk7IH1cbn1cblxuYXYuR2xvYmFsTWFuYWdlck1peGluLmNhbGwoRWRpdFRvb2xCYXNlLnByb3RvdHlwZSk7Il0sIm5hbWVzIjpbIlNlbGVjdGlvbiIsIlVuZG9TdGFjayIsIkdpem1vTWFuYWdlciIsImF2IiwiQXV0b2Rlc2siLCJWaWV3aW5nIiwiRWRpdFRvb2xCYXNlIiwiY29uc3RydWN0b3IiLCJjdHgiLCJ2aWV3ZXIiLCJzZXRHbG9iYWxNYW5hZ2VyIiwiZ2xvYmFsTWFuYWdlciIsImxheWVyIiwiZ2l6bW9MYXllciIsInNuYXBwZXIiLCJzZWxlY3Rpb24iLCJ1bmRvU3RhY2siLCJ1bml0SGFuZGxlciIsIm5hbWVTdWZmaXgiLCJ0b29sU2V0TmFtZSIsIm1vdXNlVHJhY2tlciIsImlnbm9yZURyYWdnaW5nIiwiaWdub3JlQWN0aW9ucyIsIm9uQWN0aW9uQ2IiLCJldmVudCIsImhhbmRsZUV4dGVybmFsQWN0aW9uIiwiYWN0aW9uIiwiaXNVbmRvIiwic3VwcHJlc3NTbmFwcGluZyIsImtleU1hcCIsIlNuYXBLZXkiLCJLZXlDb2RlIiwiU0hJRlQiLCJQYW5LZXkiLCJTUEFDRSIsInNlbGVjdGlvbkNiIiwiYWN0aXZlIiwib25TZWxlY3Rpb25DaGFuZ2VkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIkV2ZW50cyIsIlNFTEVDVElPTl9DSEFOR0VEIiwiY2FudmFzUG9zIiwiVEhSRUUiLCJWZWN0b3IyIiwiZ2l6bW9NYW5hZ2VyIiwia2V5U3RhdGUiLCJjdHJsIiwic2hpZnQiLCJhbHQiLCJnZXRTbmFwUG9zaXRpb24iLCJjYW52YXNYIiwiY2FudmFzWSIsInVzZVNuYXBwZXIiLCJzIiwic25hcHBpbmdGaWx0ZXIiLCJjbGVhclNuYXBwaW5nR2l6bW9zIiwiY2FudmFzVG9MYXllciIsImR0b3IiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZ2V0TmFtZXMiLCJnZXROYW1lIiwiaGFuZGxlS2V5RG93biIsImtleUNvZGUiLCJvblNuYXBwaW5nVG9nZ2xlZCIsIngiLCJ5IiwiQkFDS1NQQUNFIiwiaGFuZGxlS2V5VXAiLCJydW5BY3Rpb24iLCJydW4iLCJhY3RpdmF0ZSIsIkFGVEVSX0FDVElPTiIsImRlYWN0aXZhdGUiLCJyZWdpc3RlciIsIm1hcEtleSIsImtleSIsImFzc2lnbmVkIiwiQXJyYXkiLCJpc0FycmF5IiwiaW5jbHVkZXMiLCJjdHJsS2V5IiwidW5kZWZpbmVkIiwic2hpZnRLZXkiLCJhbHRLZXkiLCJtZXRhIiwibWV0YUtleSIsIm1hdGNoIiwidHJhY2tNb3VzZUhvb2siLCJwIiwidHJhY2tNb3VzZSIsInRyYWNrTW91c2VQb3MiLCJlIiwic2V0IiwidXBkYXRlIiwiaGFuZGxlTW91c2VNb3ZlIiwiaGFuZGxlU2luZ2xlQ2xpY2siLCJoYW5kbGVEb3VibGVDbGljayIsImhhbmRsZUJ1dHRvblVwIiwiaGFuZGxlQnV0dG9uRG93biIsIkdsb2JhbE1hbmFnZXJNaXhpbiIsImNhbGwiLCJwcm90b3R5cGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Edit2D/tools/EditToolBase.js\n");

/***/ }),

/***/ "./extensions/Edit2D/tools/InsertSymbolTool.js":
/*!*****************************************************!*\
  !*** ./extensions/Edit2D/tools/InsertSymbolTool.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ InsertSymbolTool)\n/* harmony export */ });\n/* harmony import */ var _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EditShapes.js */ \"./extensions/Edit2D/EditShapes.js\");\n/* harmony import */ var _Actions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Actions.js */ \"./extensions/Edit2D/Actions.js\");\n/* harmony import */ var _EditToolBase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EditToolBase */ \"./extensions/Edit2D/tools/EditToolBase.js\");\n\n\n\n\nconst InsertSymbolToolName = \"Edit2_InsertSymbolTool\";\n\nclass InsertSymbolTool extends _EditToolBase__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n\n  constructor(ctx) {\n    super(ctx);\n\n    Autodesk.Viewing.EventDispatcher.prototype.apply(this);\n\n    this.symbol = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Circle(0, 0,\n    0.2,\n    new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Style({\n      fillAlpha: 1.0,\n      lineWidth: 0.01,\n      fillColor: 'rgb(255, 255, 0)'\n    }));\n  }\n\n  getName() {\n    return InsertSymbolToolName + this.nameSuffix;\n  }\n\n  activate() {}\n  deactivate() {}\n  register() {}\n\n  setSymbol(symbol) {\n    this.symbol = symbol;\n  }\n\n  handleMouseMove(event) {\n  }\n\n  handleSingleClick(event) {\n\n    const res = this.layer.canvasToLayer(event.canvasX, event.canvasY);\n    let symbol = this.symbol.clone();\n    symbol.move(res.x, res.y);\n\n    this.undoStack.run(new _Actions_js__WEBPACK_IMPORTED_MODULE_1__.Actions.AddShape(this.layer, symbol));\n\n    this.dispatchEvent({ type: InsertSymbolTool.SYMBOL_INSERTED, symbol: symbol });\n\n    return true;\n  }\n\n  handleDoubleClick( /*event , button */) {\n    return true;\n  }\n\n  getCursor() {\n    return 'crosshair';\n  }\n}\n\nInsertSymbolTool.SYMBOL_INSERTED = \"symbolInserted\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL0VkaXQyRC90b29scy9JbnNlcnRTeW1ib2xUb29sLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBaUQ7QUFDVDtBQUNFOztBQUUxQyxNQUFNSSxvQkFBb0IsR0FBRyx3QkFBd0I7O0FBRXRDLE1BQU1DLGdCQUFnQixTQUFTRixxREFBWSxDQUFDOztFQUV2REcsV0FBV0EsQ0FBQ0MsR0FBRyxFQUFFO0lBQ2IsS0FBSyxDQUFDQSxHQUFHLENBQUM7O0lBRVZDLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDQyxlQUFlLENBQUNDLFNBQVMsQ0FBQ0MsS0FBSyxDQUFDLElBQUksQ0FBQzs7SUFFdEQsSUFBSSxDQUFDQyxNQUFNLEdBQUcsSUFBSVosa0RBQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUN6QixHQUFHO0lBQ0gsSUFBSUQsaURBQUssQ0FBQztNQUNOYyxTQUFTLEVBQUUsR0FBRztNQUNkQyxTQUFTLEVBQUUsSUFBSTtNQUNmQyxTQUFTLEVBQUU7SUFDZixDQUFDLENBQUMsQ0FBQztFQUNYOztFQUVBQyxPQUFPQSxDQUFBLEVBQUc7SUFDTixPQUFPYixvQkFBb0IsR0FBRyxJQUFJLENBQUNjLFVBQVU7RUFDakQ7O0VBRUFDLFFBQVFBLENBQUEsRUFBRyxDQUFDO0VBQ1pDLFVBQVVBLENBQUEsRUFBRyxDQUFDO0VBQ2RDLFFBQVFBLENBQUEsRUFBRyxDQUFDOztFQUVaQyxTQUFTQSxDQUFDVCxNQUFNLEVBQUU7SUFDZCxJQUFJLENBQUNBLE1BQU0sR0FBR0EsTUFBTTtFQUN4Qjs7RUFFQVUsZUFBZUEsQ0FBQ0MsS0FBSyxFQUFFO0VBQ3ZCOztFQUVBQyxpQkFBaUJBLENBQUNELEtBQUssRUFBRTs7SUFFckIsTUFBTUUsR0FBRyxHQUFHLElBQUksQ0FBQ0MsS0FBSyxDQUFDQyxhQUFhLENBQUNKLEtBQUssQ0FBQ0ssT0FBTyxFQUFFTCxLQUFLLENBQUNNLE9BQU8sQ0FBQztJQUNsRSxJQUFJakIsTUFBTSxHQUFHLElBQUksQ0FBQ0EsTUFBTSxDQUFDa0IsS0FBSyxDQUFDLENBQUM7SUFDaENsQixNQUFNLENBQUNtQixJQUFJLENBQUNOLEdBQUcsQ0FBQ08sQ0FBQyxFQUFFUCxHQUFHLENBQUNRLENBQUMsQ0FBQzs7SUFFekIsSUFBSSxDQUFDQyxTQUFTLENBQUNDLEdBQUcsQ0FBQyxJQUFJbEMsZ0RBQU8sQ0FBQ21DLFFBQVEsQ0FBQyxJQUFJLENBQUNWLEtBQUssRUFBRWQsTUFBTSxDQUFDLENBQUM7O0lBRTVELElBQUksQ0FBQ3lCLGFBQWEsQ0FBQyxFQUFDQyxJQUFJLEVBQUVsQyxnQkFBZ0IsQ0FBQ21DLGVBQWUsRUFBRTNCLE1BQU0sRUFBRUEsTUFBTSxFQUFDLENBQUM7O0lBRTVFLE9BQU8sSUFBSTtFQUNmOztFQUVBNEIsaUJBQWlCQSxDQUFBLENBQUMscUJBQXFCO0lBQ25DLE9BQU8sSUFBSTtFQUNmOztFQUVBQyxTQUFTQSxDQUFBLEVBQUc7SUFDUixPQUFPLFdBQVc7RUFDdEI7QUFDSjs7QUFFQXJDLGdCQUFnQixDQUFDbUMsZUFBZSxHQUFHLGdCQUFnQiIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL0VkaXQyRC90b29scy9JbnNlcnRTeW1ib2xUb29sLmpzPzE3ODgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3R5bGUsIENpcmNsZSB9IGZyb20gJy4uL0VkaXRTaGFwZXMuanMnO1xuaW1wb3J0IHsgQWN0aW9ucyB9IGZyb20gJy4uL0FjdGlvbnMuanMnO1xuaW1wb3J0IEVkaXRUb29sQmFzZSBmcm9tICcuL0VkaXRUb29sQmFzZSc7XG5cbmNvbnN0IEluc2VydFN5bWJvbFRvb2xOYW1lID0gXCJFZGl0Ml9JbnNlcnRTeW1ib2xUb29sXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEluc2VydFN5bWJvbFRvb2wgZXh0ZW5kcyBFZGl0VG9vbEJhc2Uge1xuXG4gICAgY29uc3RydWN0b3IoY3R4KSB7XG4gICAgICAgIHN1cGVyKGN0eCk7XG5cbiAgICAgICAgQXV0b2Rlc2suVmlld2luZy5FdmVudERpc3BhdGNoZXIucHJvdG90eXBlLmFwcGx5KHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc3ltYm9sID0gbmV3IENpcmNsZSgwLCAwLFxuICAgICAgICAgICAgMC4yLFxuICAgICAgICAgICAgbmV3IFN0eWxlKHtcbiAgICAgICAgICAgICAgICBmaWxsQWxwaGE6IDEuMCxcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGg6IDAuMDEsXG4gICAgICAgICAgICAgICAgZmlsbENvbG9yOiAncmdiKDI1NSwgMjU1LCAwKScsXG4gICAgICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgZ2V0TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIEluc2VydFN5bWJvbFRvb2xOYW1lICsgdGhpcy5uYW1lU3VmZml4O1xuICAgIH1cblxuICAgIGFjdGl2YXRlKCkge31cbiAgICBkZWFjdGl2YXRlKCkge31cbiAgICByZWdpc3RlcigpIHt9XG5cbiAgICBzZXRTeW1ib2woc3ltYm9sKSB7XG4gICAgICAgIHRoaXMuc3ltYm9sID0gc3ltYm9sO1xuICAgIH1cblxuICAgIGhhbmRsZU1vdXNlTW92ZShldmVudCkge1xuICAgIH1cblxuICAgIGhhbmRsZVNpbmdsZUNsaWNrKGV2ZW50KSB7XG5cbiAgICAgICAgY29uc3QgcmVzID0gdGhpcy5sYXllci5jYW52YXNUb0xheWVyKGV2ZW50LmNhbnZhc1gsIGV2ZW50LmNhbnZhc1kpO1xuICAgICAgICBsZXQgc3ltYm9sID0gdGhpcy5zeW1ib2wuY2xvbmUoKTtcbiAgICAgICAgc3ltYm9sLm1vdmUocmVzLngsIHJlcy55KTtcblxuICAgICAgICB0aGlzLnVuZG9TdGFjay5ydW4obmV3IEFjdGlvbnMuQWRkU2hhcGUodGhpcy5sYXllciwgc3ltYm9sKSk7XG5cbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOiBJbnNlcnRTeW1ib2xUb29sLlNZTUJPTF9JTlNFUlRFRCwgc3ltYm9sOiBzeW1ib2x9KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBoYW5kbGVEb3VibGVDbGljaygvKmV2ZW50ICwgYnV0dG9uICovKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGdldEN1cnNvcigpIHtcbiAgICAgICAgcmV0dXJuICdjcm9zc2hhaXInO1xuICAgIH1cbn1cblxuSW5zZXJ0U3ltYm9sVG9vbC5TWU1CT0xfSU5TRVJURUQgPSBcInN5bWJvbEluc2VydGVkXCI7XG4iXSwibmFtZXMiOlsiU3R5bGUiLCJDaXJjbGUiLCJBY3Rpb25zIiwiRWRpdFRvb2xCYXNlIiwiSW5zZXJ0U3ltYm9sVG9vbE5hbWUiLCJJbnNlcnRTeW1ib2xUb29sIiwiY29uc3RydWN0b3IiLCJjdHgiLCJBdXRvZGVzayIsIlZpZXdpbmciLCJFdmVudERpc3BhdGNoZXIiLCJwcm90b3R5cGUiLCJhcHBseSIsInN5bWJvbCIsImZpbGxBbHBoYSIsImxpbmVXaWR0aCIsImZpbGxDb2xvciIsImdldE5hbWUiLCJuYW1lU3VmZml4IiwiYWN0aXZhdGUiLCJkZWFjdGl2YXRlIiwicmVnaXN0ZXIiLCJzZXRTeW1ib2wiLCJoYW5kbGVNb3VzZU1vdmUiLCJldmVudCIsImhhbmRsZVNpbmdsZUNsaWNrIiwicmVzIiwibGF5ZXIiLCJjYW52YXNUb0xheWVyIiwiY2FudmFzWCIsImNhbnZhc1kiLCJjbG9uZSIsIm1vdmUiLCJ4IiwieSIsInVuZG9TdGFjayIsInJ1biIsIkFkZFNoYXBlIiwiZGlzcGF0Y2hFdmVudCIsInR5cGUiLCJTWU1CT0xfSU5TRVJURUQiLCJoYW5kbGVEb3VibGVDbGljayIsImdldEN1cnNvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Edit2D/tools/InsertSymbolTool.js\n");

/***/ }),

/***/ "./extensions/Edit2D/tools/LineTool.js":
/*!*********************************************!*\
  !*** ./extensions/Edit2D/tools/LineTool.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LineTool)\n/* harmony export */ });\n/* harmony import */ var _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EditShapes */ \"./extensions/Edit2D/EditShapes.js\");\n/* harmony import */ var _Actions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Actions.js */ \"./extensions/Edit2D/Actions.js\");\n/* harmony import */ var _Math2D_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Math2D.js */ \"./extensions/Edit2D/Math2D.js\");\n/* harmony import */ var _EditToolBase_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./EditToolBase.js */ \"./extensions/Edit2D/tools/EditToolBase.js\");\n/* harmony import */ var _CanvasGizmo__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../CanvasGizmo */ \"./extensions/Edit2D/CanvasGizmo.js\");\n\n\n\n\n\n\n\n\nconst LineToolName = \"Edit2_LineTool\";\n\nconst av = Autodesk.Viewing;\n\n// Draws lines with single drag\nclass LineTool extends _EditToolBase_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {\n\n  constructor(ctx) {let style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Style();\n    super(ctx);\n\n    this.style = style;\n\n    // New polyline created by dragging\n    this.line = null;\n\n    // Start/Endpoint of the line being dragged\n    this.startPoint = new THREE.Vector2();\n    this.endPoint = new THREE.Vector2();\n\n    // Indicates that we interrupted dragging with Esc. In this case, we still consume the mouse-up\n    // event to avoid inconsistencies in other tool.\n    this.dragCanceled = false;\n\n    // Create length label. Default hidden - showing is optional.\n    this.lengthLabel = new _CanvasGizmo__WEBPACK_IMPORTED_MODULE_4__.LengthLabel(null, this.layer, ctx.unitHandler, false);\n\n    // If true, create Paths instead of Polygons\n    this.enableArcs = true;\n  }\n\n  // Enable the length labels (public API)\n  setLengthLabelVisible(visible) {\n    this.lengthLabel.setVisible(visible);\n  }\n\n  getName() {\n    return LineToolName + this.nameSuffix;\n  }\n\n  activate() {}\n  deactivate() {}\n  register() {}\n\n  handleButtonDown(event, button) {\n\n    // Only respond to left button\n    if (button != 0) {\n      return;\n    }\n\n    const p = this.getSnapPosition(event.canvasX, event.canvasY);\n    this.startDrag(p);\n    return true;\n  }\n\n  handleButtonUp(event, button) {\n\n    // Only respond to left button\n    if (button != 0) {\n      return;\n    }\n\n    // Make sure that we consider latest end-coords\n    this.handleMouseMove(event);\n\n    // If drag has been interrupted, consider the endDrag() as handled\n    if (this.dragCanceled) {\n      this.dragCanceled = false;\n      return true;\n    }\n\n    return this.endDrag();\n  }\n\n  handleMouseMove(event) {\n\n    // Get snapping position. Note that this even makes sense when not dragging: In this case, we\n    // just do it to update the snapping indicator.\n    const p = this.getSnapPosition(event.canvasX, event.canvasY);\n\n    if (!this.line) {\n      return false;\n    }\n\n    this.moveDrag(p, event.shiftKey);\n\n    return true;\n  }\n\n  // Start dragging a shape\n  //  @param {Shape}   shape\n  //  @param {Vector2} startPos - in layer coords\n  startDrag(startPos) {\n    if (this.mouseTracker) {\n      this.mouseTracker.startTracking(this.getName(), Autodesk.Edit2D.Trackings.Drag);\n    }\n    const points = [startPos.clone(), startPos.clone()];\n    const style = this.style.clone();\n\n    this.line = this.enableArcs ? new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.PolylinePath(points, style) : new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Polyline(points, style);\n    this.startPoint.copy(startPos);\n    this.endPoint.copy(startPos);\n\n    this.gizmoLayer.addShape(this.line);\n  }\n\n  updateLine() {\n\n    if (!this.isDragging()) {\n      return;\n    }\n\n    this.line.updatePoint(1, this.endPoint.x, this.endPoint.y);\n    this.gizmoLayer.update();\n\n    this.lengthLabel.setShape(this.line);\n  }\n\n  // p is in layer coords\n  moveDrag(p, forceQuad) {\n\n    // update rectangle\n    this.endPoint.copy(p);\n    this.updateLine();\n  }\n\n  endDrag() {\n    if (this.mouseTracker) {\n      this.mouseTracker.stopTracking(this.getName(), Autodesk.Edit2D.Trackings.Drag);\n    }\n\n    if (!this.line) {\n      return false;\n    }\n\n    // Remove temporary gizmo shape\n    this.gizmoLayer.removeShape(this.line);\n\n    // Add line shape if valid\n    const lineValid = !_Math2D_js__WEBPACK_IMPORTED_MODULE_2__.Math2D.edgeIsDegenerated(this.startPoint, this.endPoint);\n    if (lineValid) {\n      this.undoStack.run(new _Actions_js__WEBPACK_IMPORTED_MODULE_1__.Actions.AddShape(this.layer, this.line));\n    }\n\n    this.line = null;\n\n    this.lengthLabel.setShape(null);\n\n    return true;\n  }\n\n  cancelDrag() {\n    if (this.mouseTracker) {\n      this.mouseTracker.stopTracking(this.getName(), Autodesk.Edit2D.Trackings.Drag);\n    }\n\n    if (this.line) {\n      // Remove temporary gizmo shape\n      this.gizmoLayer.removeShape(this.line);\n      this.line = null;\n\n      this.dragCanceled = true;\n\n      this.lengthLabel.setShape(null);\n    }\n  }\n\n  isDragging() {\n    return Boolean(this.line);\n  }\n\n  handleKeyDown(event, keyCode) {\n    // Update shape when toggling between rect and quad mode\n    if (keyCode == av.KeyCode.SHIFT) {\n      this.updateLine(true);\n    }\n  }\n\n  handleKeyUp(event, keyCode) {\n    // Update shape when toggling between rect and quad mode\n    if (keyCode == av.KeyCode.SHIFT) {\n      this.updateLine(false);\n    }\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUU7TUFDbkIsSUFBSSxDQUFDQSxZQUFZLENBQUNrQixZQUFZLENBQUMsSUFBSSxDQUFDckMsT0FBTyxDQUFDLENBQUMsRUFBQ3RCLFFBQVEsQ0FBQzJDLE1BQU0sQ0FBQ0MsU0FBUyxDQUFDQyxJQUFJLENBQUM7SUFDakY7O0lBRUEsSUFBSSxJQUFJLENBQUNwQyxJQUFJLEVBQUU7TUFDWDtNQUNBLElBQUksQ0FBQ3dDLFVBQVUsQ0FBQ1csV0FBVyxDQUFDLElBQUksQ0FBQ25ELElBQUksQ0FBQztNQUN0QyxJQUFJLENBQUNBLElBQUksR0FBRyxJQUFJOztNQUVoQixJQUFJLENBQUNLLFlBQVksR0FBRyxJQUFJOztNQUV4QixJQUFJLENBQUNDLFdBQVcsQ0FBQzBDLFFBQVEsQ0FBQyxJQUFJLENBQUM7SUFDbkM7RUFDSjs7RUFFQUwsVUFBVUEsQ0FBQSxFQUFHO0lBQ1QsT0FBT2UsT0FBTyxDQUFDLElBQUksQ0FBQzFELElBQUksQ0FBQztFQUM3Qjs7RUFFQTJELGFBQWFBLENBQUN4QyxLQUFLLEVBQUV5QyxPQUFPLEVBQUU7SUFDMUI7SUFDQSxJQUFJQSxPQUFPLElBQUl0RSxFQUFFLENBQUN1RSxPQUFPLENBQUNDLEtBQUssRUFBRTtNQUM3QixJQUFJLENBQUNwQixVQUFVLENBQUMsSUFBSSxDQUFDO0lBQ3pCO0VBQ0o7O0VBRUFxQixXQUFXQSxDQUFDNUMsS0FBSyxFQUFFeUMsT0FBTyxFQUFFO0lBQ3hCO0lBQ0EsSUFBSUEsT0FBTyxJQUFJdEUsRUFBRSxDQUFDdUUsT0FBTyxDQUFDQyxLQUFLLEVBQUU7TUFDN0IsSUFBSSxDQUFDcEIsVUFBVSxDQUFDLEtBQUssQ0FBQztJQUMxQjtFQUNKO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9FZGl0MkQvdG9vbHMvTGluZVRvb2wuanM/OTk2YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQb2x5bGluZSwgUG9seWxpbmVQYXRoIH0gZnJvbSAnLi4vRWRpdFNoYXBlcy5qcyc7XG5pbXBvcnQgeyBBY3Rpb25zIH0gZnJvbSAnLi4vQWN0aW9ucy5qcyc7XG5pbXBvcnQgeyBNYXRoMkQgfSBmcm9tICcuLi9NYXRoMkQuanMnO1xuXG5pbXBvcnQgRWRpdFRvb2xCYXNlIGZyb20gJy4vRWRpdFRvb2xCYXNlLmpzJztcbmltcG9ydCB7IFN0eWxlIH0gZnJvbSAnLi4vRWRpdFNoYXBlcyc7XG5pbXBvcnQgeyBMZW5ndGhMYWJlbCB9IGZyb20gJy4uL0NhbnZhc0dpem1vJztcblxuY29uc3QgTGluZVRvb2xOYW1lID0gXCJFZGl0Ml9MaW5lVG9vbFwiO1xuXG5jb25zdCBhdiA9IEF1dG9kZXNrLlZpZXdpbmc7XG5cbi8vIERyYXdzIGxpbmVzIHdpdGggc2luZ2xlIGRyYWdcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpbmVUb29sIGV4dGVuZHMgRWRpdFRvb2xCYXNlIHtcblxuICAgIGNvbnN0cnVjdG9yKGN0eCwgc3R5bGUgPSBuZXcgU3R5bGUoKSkge1xuICAgICAgICBzdXBlcihjdHgpO1xuXG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcblxuICAgICAgICAvLyBOZXcgcG9seWxpbmUgY3JlYXRlZCBieSBkcmFnZ2luZ1xuICAgICAgICB0aGlzLmxpbmUgPSBudWxsO1xuXG4gICAgICAgIC8vIFN0YXJ0L0VuZHBvaW50IG9mIHRoZSBsaW5lIGJlaW5nIGRyYWdnZWRcbiAgICAgICAgdGhpcy5zdGFydFBvaW50ID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcbiAgICAgICAgdGhpcy5lbmRQb2ludCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cbiAgICAgICAgLy8gSW5kaWNhdGVzIHRoYXQgd2UgaW50ZXJydXB0ZWQgZHJhZ2dpbmcgd2l0aCBFc2MuIEluIHRoaXMgY2FzZSwgd2Ugc3RpbGwgY29uc3VtZSB0aGUgbW91c2UtdXBcbiAgICAgICAgLy8gZXZlbnQgdG8gYXZvaWQgaW5jb25zaXN0ZW5jaWVzIGluIG90aGVyIHRvb2wuXG4gICAgICAgIHRoaXMuZHJhZ0NhbmNlbGVkID0gZmFsc2U7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGxlbmd0aCBsYWJlbC4gRGVmYXVsdCBoaWRkZW4gLSBzaG93aW5nIGlzIG9wdGlvbmFsLlxuICAgICAgICB0aGlzLmxlbmd0aExhYmVsID0gbmV3IExlbmd0aExhYmVsKG51bGwsIHRoaXMubGF5ZXIsIGN0eC51bml0SGFuZGxlciwgZmFsc2UpO1xuXG4gICAgICAgIC8vIElmIHRydWUsIGNyZWF0ZSBQYXRocyBpbnN0ZWFkIG9mIFBvbHlnb25zXG4gICAgICAgIHRoaXMuZW5hYmxlQXJjcyA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gRW5hYmxlIHRoZSBsZW5ndGggbGFiZWxzIChwdWJsaWMgQVBJKVxuICAgIHNldExlbmd0aExhYmVsVmlzaWJsZSh2aXNpYmxlKSB7XG4gICAgICAgIHRoaXMubGVuZ3RoTGFiZWwuc2V0VmlzaWJsZSh2aXNpYmxlKTtcbiAgICB9XG5cbiAgICBnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gTGluZVRvb2xOYW1lICsgdGhpcy5uYW1lU3VmZml4O1xuICAgIH1cblxuICAgIGFjdGl2YXRlKCkge31cbiAgICBkZWFjdGl2YXRlKCkge31cbiAgICByZWdpc3RlcigpIHt9XG5cbiAgICBoYW5kbGVCdXR0b25Eb3duKGV2ZW50LCBidXR0b24pIHtcblxuICAgICAgICAvLyBPbmx5IHJlc3BvbmQgdG8gbGVmdCBidXR0b25cbiAgICAgICAgaWYgKGJ1dHRvbiAhPSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwID0gdGhpcy5nZXRTbmFwUG9zaXRpb24oZXZlbnQuY2FudmFzWCwgZXZlbnQuY2FudmFzWSk7XG4gICAgICAgIHRoaXMuc3RhcnREcmFnKHApO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBoYW5kbGVCdXR0b25VcChldmVudCwgYnV0dG9uKSB7XG5cbiAgICAgICAgLy8gT25seSByZXNwb25kIHRvIGxlZnQgYnV0dG9uXG4gICAgICAgIGlmIChidXR0b24gIT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgd2UgY29uc2lkZXIgbGF0ZXN0IGVuZC1jb29yZHNcbiAgICAgICAgdGhpcy5oYW5kbGVNb3VzZU1vdmUoZXZlbnQpO1xuXG4gICAgICAgIC8vIElmIGRyYWcgaGFzIGJlZW4gaW50ZXJydXB0ZWQsIGNvbnNpZGVyIHRoZSBlbmREcmFnKCkgYXMgaGFuZGxlZFxuICAgICAgICBpZiAodGhpcy5kcmFnQ2FuY2VsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhZ0NhbmNlbGVkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmVuZERyYWcoKTtcbiAgICB9XG5cbiAgICBoYW5kbGVNb3VzZU1vdmUoZXZlbnQpIHtcblxuICAgICAgICAvLyBHZXQgc25hcHBpbmcgcG9zaXRpb24uIE5vdGUgdGhhdCB0aGlzIGV2ZW4gbWFrZXMgc2Vuc2Ugd2hlbiBub3QgZHJhZ2dpbmc6IEluIHRoaXMgY2FzZSwgd2VcbiAgICAgICAgLy8ganVzdCBkbyBpdCB0byB1cGRhdGUgdGhlIHNuYXBwaW5nIGluZGljYXRvci5cbiAgICAgICAgY29uc3QgcCA9IHRoaXMuZ2V0U25hcFBvc2l0aW9uKGV2ZW50LmNhbnZhc1gsIGV2ZW50LmNhbnZhc1kpO1xuXG4gICAgICAgIGlmICghdGhpcy5saW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1vdmVEcmFnKHAsIGV2ZW50LnNoaWZ0S2V5KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBTdGFydCBkcmFnZ2luZyBhIHNoYXBlXG4gICAgLy8gIEBwYXJhbSB7U2hhcGV9ICAgc2hhcGVcbiAgICAvLyAgQHBhcmFtIHtWZWN0b3IyfSBzdGFydFBvcyAtIGluIGxheWVyIGNvb3Jkc1xuICAgIHN0YXJ0RHJhZyhzdGFydFBvcykge1xuICAgICAgICBpZiAodGhpcy5tb3VzZVRyYWNrZXIpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VUcmFja2VyLnN0YXJ0VHJhY2tpbmcodGhpcy5nZXROYW1lKCksQXV0b2Rlc2suRWRpdDJELlRyYWNraW5ncy5EcmFnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwb2ludHMgPSBbc3RhcnRQb3MuY2xvbmUoKSwgc3RhcnRQb3MuY2xvbmUoKV07XG4gICAgICAgIGNvbnN0IHN0eWxlICA9IHRoaXMuc3R5bGUuY2xvbmUoKTtcblxuICAgICAgICB0aGlzLmxpbmUgPSB0aGlzLmVuYWJsZUFyY3MgPyBuZXcgUG9seWxpbmVQYXRoKHBvaW50cywgc3R5bGUpIDogbmV3IFBvbHlsaW5lKHBvaW50cywgc3R5bGUpO1xuICAgICAgICB0aGlzLnN0YXJ0UG9pbnQuY29weShzdGFydFBvcyk7XG4gICAgICAgIHRoaXMuZW5kUG9pbnQuY29weShzdGFydFBvcyk7XG5cbiAgICAgICAgdGhpcy5naXptb0xheWVyLmFkZFNoYXBlKHRoaXMubGluZSk7XG4gICAgfVxuXG4gICAgdXBkYXRlTGluZSgpIHtcblxuICAgICAgICBpZiAoIXRoaXMuaXNEcmFnZ2luZygpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxpbmUudXBkYXRlUG9pbnQoMSwgdGhpcy5lbmRQb2ludC54LCB0aGlzLmVuZFBvaW50LnkpO1xuICAgICAgICB0aGlzLmdpem1vTGF5ZXIudXBkYXRlKCk7XG5cbiAgICAgICAgdGhpcy5sZW5ndGhMYWJlbC5zZXRTaGFwZSh0aGlzLmxpbmUpO1xuICAgIH1cblxuICAgIC8vIHAgaXMgaW4gbGF5ZXIgY29vcmRzXG4gICAgbW92ZURyYWcocCwgZm9yY2VRdWFkKSB7XG5cbiAgICAgICAgLy8gdXBkYXRlIHJlY3RhbmdsZVxuICAgICAgICB0aGlzLmVuZFBvaW50LmNvcHkocCk7XG4gICAgICAgIHRoaXMudXBkYXRlTGluZSgpO1xuICAgIH1cblxuICAgIGVuZERyYWcoKSB7XG4gICAgICAgIGlmICh0aGlzLm1vdXNlVHJhY2tlcikge1xuICAgICAgICAgICAgdGhpcy5tb3VzZVRyYWNrZXIuc3RvcFRyYWNraW5nKHRoaXMuZ2V0TmFtZSgpLEF1dG9kZXNrLkVkaXQyRC5UcmFja2luZ3MuRHJhZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMubGluZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVtb3ZlIHRlbXBvcmFyeSBnaXptbyBzaGFwZVxuICAgICAgICB0aGlzLmdpem1vTGF5ZXIucmVtb3ZlU2hhcGUodGhpcy5saW5lKTtcblxuICAgICAgICAvLyBBZGQgbGluZSBzaGFwZSBpZiB2YWxpZFxuICAgICAgICBjb25zdCBsaW5lVmFsaWQgPSAhTWF0aDJELmVkZ2VJc0RlZ2VuZXJhdGVkKHRoaXMuc3RhcnRQb2ludCwgdGhpcy5lbmRQb2ludCk7XG4gICAgICAgIGlmIChsaW5lVmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMudW5kb1N0YWNrLnJ1bihuZXcgQWN0aW9ucy5BZGRTaGFwZSh0aGlzLmxheWVyLCB0aGlzLmxpbmUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubGluZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5sZW5ndGhMYWJlbC5zZXRTaGFwZShudWxsKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBjYW5jZWxEcmFnKCkge1xuICAgICAgICBpZiAodGhpcy5tb3VzZVRyYWNrZXIpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VUcmFja2VyLnN0b3BUcmFja2luZyh0aGlzLmdldE5hbWUoKSxBdXRvZGVzay5FZGl0MkQuVHJhY2tpbmdzLkRyYWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubGluZSkge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIHRlbXBvcmFyeSBnaXptbyBzaGFwZVxuICAgICAgICAgICAgdGhpcy5naXptb0xheWVyLnJlbW92ZVNoYXBlKHRoaXMubGluZSk7XG4gICAgICAgICAgICB0aGlzLmxpbmUgPSBudWxsO1xuXG4gICAgICAgICAgICB0aGlzLmRyYWdDYW5jZWxlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMubGVuZ3RoTGFiZWwuc2V0U2hhcGUobnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc0RyYWdnaW5nKCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbih0aGlzLmxpbmUpO1xuICAgIH1cblxuICAgIGhhbmRsZUtleURvd24oZXZlbnQsIGtleUNvZGUpIHtcbiAgICAgICAgLy8gVXBkYXRlIHNoYXBlIHdoZW4gdG9nZ2xpbmcgYmV0d2VlbiByZWN0IGFuZCBxdWFkIG1vZGVcbiAgICAgICAgaWYgKGtleUNvZGUgPT0gYXYuS2V5Q29kZS5TSElGVCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVMaW5lKHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlS2V5VXAoZXZlbnQsIGtleUNvZGUpIHtcbiAgICAgICAgLy8gVXBkYXRlIHNoYXBlIHdoZW4gdG9nZ2xpbmcgYmV0d2VlbiByZWN0IGFuZCBxdWFkIG1vZGVcbiAgICAgICAgaWYgKGtleUNvZGUgPT0gYXYuS2V5Q29kZS5TSElGVCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVMaW5lKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJQb2x5bGluZSIsIlBvbHlsaW5lUGF0aCIsIkFjdGlvbnMiLCJNYXRoMkQiLCJFZGl0VG9vbEJhc2UiLCJTdHlsZSIsIkxlbmd0aExhYmVsIiwiTGluZVRvb2xOYW1lIiwiYXYiLCJBdXRvZGVzayIsIlZpZXdpbmciLCJMaW5lVG9vbCIsImNvbnN0cnVjdG9yIiwiY3R4Iiwic3R5bGUiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJsaW5lIiwic3RhcnRQb2ludCIsIlRIUkVFIiwiVmVjdG9yMiIsImVuZFBvaW50IiwiZHJhZ0NhbmNlbGVkIiwibGVuZ3RoTGFiZWwiLCJsYXllciIsInVuaXRIYW5kbGVyIiwiZW5hYmxlQXJjcyIsInNldExlbmd0aExhYmVsVmlzaWJsZSIsInZpc2libGUiLCJzZXRWaXNpYmxlIiwiZ2V0TmFtZSIsIm5hbWVTdWZmaXgiLCJhY3RpdmF0ZSIsImRlYWN0aXZhdGUiLCJyZWdpc3RlciIsImhhbmRsZUJ1dHRvbkRvd24iLCJldmVudCIsImJ1dHRvbiIsInAiLCJnZXRTbmFwUG9zaXRpb24iLCJjYW52YXNYIiwiY2FudmFzWSIsInN0YXJ0RHJhZyIsImhhbmRsZUJ1dHRvblVwIiwiaGFuZGxlTW91c2VNb3ZlIiwiZW5kRHJhZyIsIm1vdmVEcmFnIiwic2hpZnRLZXkiLCJzdGFydFBvcyIsIm1vdXNlVHJhY2tlciIsInN0YXJ0VHJhY2tpbmciLCJFZGl0MkQiLCJUcmFja2luZ3MiLCJEcmFnIiwicG9pbnRzIiwiY2xvbmUiLCJjb3B5IiwiZ2l6bW9MYXllciIsImFkZFNoYXBlIiwidXBkYXRlTGluZSIsImlzRHJhZ2dpbmciLCJ1cGRhdGVQb2ludCIsIngiLCJ5IiwidXBkYXRlIiwic2V0U2hhcGUiLCJmb3JjZVF1YWQiLCJzdG9wVHJhY2tpbmciLCJyZW1vdmVTaGFwZSIsImxpbmVWYWxpZCIsImVkZ2VJc0RlZ2VuZXJhdGVkIiwidW5kb1N0YWNrIiwicnVuIiwiQWRkU2hhcGUiLCJjYW5jZWxEcmFnIiwiQm9vbGVhbiIsImhhbmRsZUtleURvd24iLCJrZXlDb2RlIiwiS2V5Q29kZSIsIlNISUZUIiwiaGFuZGxlS2V5VXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Edit2D/tools/LineTool.js\n");

/***/ }),

/***/ "./extensions/Edit2D/tools/MoveTool.js":
/*!*********************************************!*\
  !*** ./extensions/Edit2D/tools/MoveTool.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MoveTool)\n/* harmony export */ });\n/* harmony import */ var _Actions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Actions.js */ \"./extensions/Edit2D/Actions.js\");\n\n\n\nconst MoveToolName = \"Edit2_MoveTool\";\n\nconst av = Autodesk.Viewing;\n\nclass MoveTool {\n\n  constructor(ctx) {\n    this.layer = ctx.layer;\n    this.gizmoLayer = ctx.gizmoLayer;\n    this.selection = ctx.selection;\n    this.undoStack = ctx.undoStack;\n    this.nameSuffix = `_${ctx.toolSetName}`;\n\n    // Only set during dragging\n    this.shapes = null; // Shape[]\n\n    // Optioanl: Only move a single loop. Only supported if only a single shape is selected.\n    this.loopIndex = -1;\n\n    // drag-start position in layer coords\n    this.dragStartPoint = new THREE.Vector2();\n\n    // backup original shapes on drag-start as long as we are modifying it on-hover\n    this.backupShapes = null; // Shape[]\n\n    this.keyMap = {\n      CancelEdit: av.KeyCode.ESCAPE\n    };\n\n    // Remember last mouse-pos on mouse-move events\n    this.lastMousePos = new THREE.Vector2(); // in layer coords\n\n    this.mouseTracker = ctx.mouseTracker;\n\n    this.moveFilters = [this.defaultMoveFilter];\n  }\n\n  addMoveFilter(filter) {\n    this.moveFilters.push(filter);\n  }\n\n  removeMoveFilter(filter) {\n    let index = this.moveFilters.indexOf(filter);\n    if (index == -1) {\n      return false;\n    }\n    this.moveFilters.splice(index, 1);\n    return true;\n  }\n\n  defaultMoveFilter(shapes) {\n    return shapes.every((s) => s.movable);\n  }\n\n  getNames() {\n    return [this.getName()];\n  }\n\n  getName() {\n    return MoveToolName + this.nameSuffix;\n  }\n\n  activate() {}\n  deactivate() {}\n  register() {}\n\n  handleSingleClick( /*event , button */) {\n    const shapesToMove = this.selection.getSelectedShapes();\n    return shapesToMove && shapesToMove.length > 0;\n  }\n\n  handleDoubleClick( /*event , button */) {\n    const shapesToMove = this.selection.getSelectedShapes();\n    return shapesToMove && shapesToMove.length > 0;\n  }\n\n  handleButtonDown(event, button) {\n    // Only respond to left button\n    if (button !== 0) {\n      return;\n    }\n\n    const p = this.layer.canvasToLayer(event.canvasX, event.canvasY);\n    const hitShape = this.layer.hitTest(p.x, p.y);\n\n    if (!hitShape) {\n      this.selection.clear();\n      return false;\n    }\n\n    // If shape was not selected before, select it\n    const wasSelected = hitShape && this.selection.shapeIsSelected(hitShape);\n    if (!wasSelected) {\n      this.selection.selectOnly(hitShape);\n    }\n\n    // Move all selected shapes\n    const shapesToMove = this.selection.getSelectedShapes();\n    if (shapesToMove.length > 0) {\n      this.startDrag(shapesToMove, p);\n    }\n\n    return true;\n  }\n\n  // Start dragging one or more shapes\n  //  @param {Shape[]} shapes\n  //  @param {Vector2} startPos - in layer coords\n  startDrag(shapes, startPos) {let loopIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;\n    const allShapesCanBeMoved = this.moveFilters.every((m) => m(shapes));\n    if (!allShapesCanBeMoved) {\n      // if any of the selected shapes cannot be moved, don't allow the group to be moved.\n      return false;\n    }\n\n    if (this.mouseTracker) {\n      this.mouseTracker.startTracking(this.getName(), Autodesk.Edit2D.Trackings.Drag);\n    }\n\n    this.shapes = shapes;\n    this.loopIndex = loopIndex;\n    this.dragStartPoint.copy(startPos);\n    this.backupShapes = shapes.map((s) => s.clone());\n  }\n\n  // p is in layer coords\n  moveDrag(p) {\n    const dx = p.x - this.dragStartPoint.x;\n    const dy = p.y - this.dragStartPoint.y;\n\n    // Apply this offset to shape. We always start with the original shape as a reference\n    // to avoid accumulating delta inaccuracies.\n    this.shapes.forEach((shape, i) => {\n      shape.copy(this.backupShapes[i]);\n\n      if (this.loopIndex === -1) {\n        // Default: Move whole shape(s)\n        shape.move(dx, dy);\n      } else {\n        // Only move single loop\n        shape.moveLoop(dx, dy, this.loopIndex);\n      }\n    });\n    this.layer.update();\n    this.gizmoLayer.update();\n  }\n\n  // Clean up data hold during a drag interaction\n  resetDragging() {\n    this.shapes = null;\n    this.loopIndex = -1;\n    this.backupShapes = null;\n  }\n\n  endDrag(p) {\n    if (this.mouseTracker) {\n      this.mouseTracker.stopTracking(this.getName(), Autodesk.Edit2D.Trackings.Drag);\n    }\n\n    // No drag active\n    if (!this.shapes) {\n      return;\n    }\n\n    // Revert any temporary modifications done during mouse move\n    this.shapes.forEach((shape, i) => shape.copy(this.backupShapes[i]));\n\n    // Apply move operation\n    const dx = p.x - this.dragStartPoint.x;\n    const dy = p.y - this.dragStartPoint.y;\n\n    if (this.loopIndex === -1) {\n      this.undoStack.run(new _Actions_js__WEBPACK_IMPORTED_MODULE_0__.Actions.MoveShapes(this.layer, this.shapes, dx, dy));\n    } else {\n      this.undoStack.run(new _Actions_js__WEBPACK_IMPORTED_MODULE_0__.Actions.MoveLoop(this.layer, this.shapes[0], this.loopIndex, dx, dy));\n    }\n\n    this.shapes = null;\n    this.loopIndex = -1;\n    return true;\n  }\n\n  cancelDrag() {\n    if (this.mouseTracker) {\n      this.mouseTracker.stopTracking(this.getName(), Autodesk.Edit2D.Trackings.Drag);\n    }\n\n    if (this.isDragging()) {\n\n      // Revert shape o state when dragging was started\n      this.shapes.forEach((shape, i) => shape.copy(this.backupShapes[i]));\n      this.layer.update();\n      this.gizmoLayer.update();\n\n      this.resetDragging();\n\n      this.startedDragging = true;\n\n      return true;\n    }\n\n    return false;\n  }\n\n  isDragging() {\n    return Boolean(this.shapes);\n  }\n\n  handleMouseMove(event) {\n\n    // Get and store latest mouse position\n    const p = this.layer.canvasToLayer(event.canvasX, event.canvasY);\n    this.lastMousePos.copy(p);\n\n    if (!this.shapes) {\n      return false;\n    }\n\n    // get delta between last and current position\n    this.moveDrag(p);\n\n    return true;\n  }\n\n  handleButtonUp(event, button) {\n    // Only respond to left button\n    if (button !== 0) {\n      return;\n    }\n\n    const wasDragging = this.startedDragging;\n    this.startedDragging = false;\n\n    const p = this.layer.canvasToLayer(event.canvasX, event.canvasY);\n    return this.endDrag(p) || wasDragging;\n  }\n\n  handleKeyDown(event, keyCode) {\n    if (keyCode === this.keyMap.CancelEdit) {\n      return this.cancelDrag();\n    }\n\n    return;\n  }\n\n  // Display move cursor if a shape is under mouse or if we are dragging\n  getCursor() {\n    // this.shape is defined when we are dragging\n    if (this.shapes) {\n      return 'move';\n    }\n\n    // Show move cursor if a shape is under mouse\n    const shapeAtMouse = this.layer.hitTest(this.lastMousePos.x, this.lastMousePos.y);\n\n    if (shapeAtMouse) {\n      const canBeMoved = this.moveFilters.every((m) => m([shapeAtMouse]));\n      if (canBeMoved) {\n        // if any of the selected shapes cannot be moved, don't allow the group to be moved.\n        return 'move';\n      }\n    }\n    return undefined;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL0VkaXQyRC90b29scy9Nb3ZlVG9vbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFDd0M7O0FBRXhDLE1BQU1DLFlBQVksR0FBRyxnQkFBZ0I7O0FBRXJDLE1BQU1DLEVBQUUsR0FBR0MsUUFBUSxDQUFDQyxPQUFPOztBQUVaLE1BQU1DLFFBQVEsQ0FBQzs7RUFFMUJDLFdBQVdBLENBQUNDLEdBQUcsRUFBRTtJQUNiLElBQUksQ0FBQ0MsS0FBSyxHQUFHRCxHQUFHLENBQUNDLEtBQUs7SUFDdEIsSUFBSSxDQUFDQyxVQUFVLEdBQUdGLEdBQUcsQ0FBQ0UsVUFBVTtJQUNoQyxJQUFJLENBQUNDLFNBQVMsR0FBR0gsR0FBRyxDQUFDRyxTQUFTO0lBQzlCLElBQUksQ0FBQ0MsU0FBUyxHQUFHSixHQUFHLENBQUNJLFNBQVM7SUFDOUIsSUFBSSxDQUFDQyxVQUFVLEdBQUksSUFBR0wsR0FBRyxDQUFDTSxXQUFZLEVBQUM7O0lBRXZDO0lBQ0EsSUFBSSxDQUFDQyxNQUFNLEdBQUcsSUFBSSxDQUFDLENBQUM7O0lBRXBCO0lBQ0EsSUFBSSxDQUFDQyxTQUFTLEdBQUcsQ0FBQyxDQUFDOztJQUVuQjtJQUNBLElBQUksQ0FBQ0MsY0FBYyxHQUFHLElBQUlDLEtBQUssQ0FBQ0MsT0FBTyxDQUFDLENBQUM7O0lBRXpDO0lBQ0EsSUFBSSxDQUFDQyxZQUFZLEdBQUcsSUFBSSxDQUFDLENBQUM7O0lBRTFCLElBQUksQ0FBQ0MsTUFBTSxHQUFHO01BQ1ZDLFVBQVUsRUFBRW5CLEVBQUUsQ0FBQ29CLE9BQU8sQ0FBQ0M7SUFDM0IsQ0FBQzs7SUFFRDtJQUNBLElBQUksQ0FBQ0MsWUFBWSxHQUFHLElBQUlQLEtBQUssQ0FBQ0MsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDOztJQUV6QyxJQUFJLENBQUNPLFlBQVksR0FBR2xCLEdBQUcsQ0FBQ2tCLFlBQVk7O0lBRXBDLElBQUksQ0FBQ0MsV0FBVyxHQUFHLENBQUMsSUFBSSxDQUFDQyxpQkFBaUIsQ0FBQztFQUMv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QUNuQyxDQUFDLENBQUMsSUFBSThDLFdBQVc7RUFDekM7O0VBRUFDLGFBQWFBLENBQUNqRCxLQUFLLEVBQUVrRCxPQUFPLEVBQUU7SUFDMUIsSUFBSUEsT0FBTyxLQUFLLElBQUksQ0FBQy9FLE1BQU0sQ0FBQ0MsVUFBVSxFQUFFO01BQ3BDLE9BQU8sSUFBSSxDQUFDc0UsVUFBVSxDQUFDLENBQUM7SUFDNUI7O0lBRUE7RUFDSjs7RUFFQTtFQUNBUyxTQUFTQSxDQUFBLEVBQUc7SUFDUjtJQUNBLElBQUksSUFBSSxDQUFDdEYsTUFBTSxFQUFFO01BQ2IsT0FBTyxNQUFNO0lBQ2pCOztJQUVBO0lBQ0EsTUFBTXVGLFlBQVksR0FBRyxJQUFJLENBQUM3RixLQUFLLENBQUNnRCxPQUFPLENBQUMsSUFBSSxDQUFDaEMsWUFBWSxDQUFDaUMsQ0FBQyxFQUFFLElBQUksQ0FBQ2pDLFlBQVksQ0FBQ2tDLENBQUMsQ0FBQzs7SUFFakYsSUFBSTJDLFlBQVksRUFBRTtNQUNkLE1BQU1DLFVBQVUsR0FBRyxJQUFJLENBQUM1RSxXQUFXLENBQUNTLEtBQUssQ0FBQyxDQUFBaUMsQ0FBQyxLQUFJQSxDQUFDLENBQUMsQ0FBQ2lDLFlBQVksQ0FBQyxDQUFDLENBQUM7TUFDakUsSUFBSUMsVUFBVSxFQUFFO1FBQ1o7UUFDQSxPQUFPLE1BQU07TUFDakI7SUFDSjtJQUNBLE9BQU9wQyxTQUFTO0VBQ3BCO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9FZGl0MkQvdG9vbHMvTW92ZVRvb2wuanM/MzY4ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IEFjdGlvbnMgfSBmcm9tICcuLi9BY3Rpb25zLmpzJztcblxuY29uc3QgTW92ZVRvb2xOYW1lID0gXCJFZGl0Ml9Nb3ZlVG9vbFwiO1xuXG5jb25zdCBhdiA9IEF1dG9kZXNrLlZpZXdpbmc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vdmVUb29sIHtcblxuICAgIGNvbnN0cnVjdG9yKGN0eCkge1xuICAgICAgICB0aGlzLmxheWVyID0gY3R4LmxheWVyO1xuICAgICAgICB0aGlzLmdpem1vTGF5ZXIgPSBjdHguZ2l6bW9MYXllcjtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24gPSBjdHguc2VsZWN0aW9uO1xuICAgICAgICB0aGlzLnVuZG9TdGFjayA9IGN0eC51bmRvU3RhY2s7XG4gICAgICAgIHRoaXMubmFtZVN1ZmZpeCA9IGBfJHtjdHgudG9vbFNldE5hbWV9YDtcblxuICAgICAgICAvLyBPbmx5IHNldCBkdXJpbmcgZHJhZ2dpbmdcbiAgICAgICAgdGhpcy5zaGFwZXMgPSBudWxsOyAvLyBTaGFwZVtdXG5cbiAgICAgICAgLy8gT3B0aW9hbmw6IE9ubHkgbW92ZSBhIHNpbmdsZSBsb29wLiBPbmx5IHN1cHBvcnRlZCBpZiBvbmx5IGEgc2luZ2xlIHNoYXBlIGlzIHNlbGVjdGVkLlxuICAgICAgICB0aGlzLmxvb3BJbmRleCA9IC0xO1xuXG4gICAgICAgIC8vIGRyYWctc3RhcnQgcG9zaXRpb24gaW4gbGF5ZXIgY29vcmRzXG4gICAgICAgIHRoaXMuZHJhZ1N0YXJ0UG9pbnQgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXG4gICAgICAgIC8vIGJhY2t1cCBvcmlnaW5hbCBzaGFwZXMgb24gZHJhZy1zdGFydCBhcyBsb25nIGFzIHdlIGFyZSBtb2RpZnlpbmcgaXQgb24taG92ZXJcbiAgICAgICAgdGhpcy5iYWNrdXBTaGFwZXMgPSBudWxsOyAvLyBTaGFwZVtdXG5cbiAgICAgICAgdGhpcy5rZXlNYXAgPSB7XG4gICAgICAgICAgICBDYW5jZWxFZGl0OiBhdi5LZXlDb2RlLkVTQ0FQRVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFJlbWVtYmVyIGxhc3QgbW91c2UtcG9zIG9uIG1vdXNlLW1vdmUgZXZlbnRzXG4gICAgICAgIHRoaXMubGFzdE1vdXNlUG9zID0gbmV3IFRIUkVFLlZlY3RvcjIoKTsgLy8gaW4gbGF5ZXIgY29vcmRzXG5cbiAgICAgICAgdGhpcy5tb3VzZVRyYWNrZXIgPSBjdHgubW91c2VUcmFja2VyO1xuXG4gICAgICAgIHRoaXMubW92ZUZpbHRlcnMgPSBbdGhpcy5kZWZhdWx0TW92ZUZpbHRlcl07XG4gICAgfVxuXG4gICAgYWRkTW92ZUZpbHRlcihmaWx0ZXIpIHtcbiAgICAgICAgdGhpcy5tb3ZlRmlsdGVycy5wdXNoKGZpbHRlcik7XG4gICAgfVxuXG4gICAgcmVtb3ZlTW92ZUZpbHRlcihmaWx0ZXIpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5tb3ZlRmlsdGVycy5pbmRleE9mKGZpbHRlcik7XG4gICAgICAgIGlmIChpbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubW92ZUZpbHRlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZGVmYXVsdE1vdmVGaWx0ZXIoc2hhcGVzKSB7XG4gICAgICAgIHJldHVybiBzaGFwZXMuZXZlcnkocyA9PiBzLm1vdmFibGUpO1xuICAgIH1cblxuICAgIGdldE5hbWVzKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMuZ2V0TmFtZSgpXTtcbiAgICB9XG5cbiAgICBnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gTW92ZVRvb2xOYW1lICsgdGhpcy5uYW1lU3VmZml4O1xuICAgIH1cblxuICAgIGFjdGl2YXRlKCkge31cbiAgICBkZWFjdGl2YXRlKCkge31cbiAgICByZWdpc3RlcigpIHt9XG5cbiAgICBoYW5kbGVTaW5nbGVDbGljaygvKmV2ZW50ICwgYnV0dG9uICovKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlc1RvTW92ZSA9IHRoaXMuc2VsZWN0aW9uLmdldFNlbGVjdGVkU2hhcGVzKCk7XG4gICAgICAgIHJldHVybiBzaGFwZXNUb01vdmUgJiYgc2hhcGVzVG9Nb3ZlLmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgaGFuZGxlRG91YmxlQ2xpY2soLypldmVudCAsIGJ1dHRvbiAqLykge1xuICAgICAgICBjb25zdCBzaGFwZXNUb01vdmUgPSB0aGlzLnNlbGVjdGlvbi5nZXRTZWxlY3RlZFNoYXBlcygpO1xuICAgICAgICByZXR1cm4gc2hhcGVzVG9Nb3ZlICYmIHNoYXBlc1RvTW92ZS5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIGhhbmRsZUJ1dHRvbkRvd24oZXZlbnQsIGJ1dHRvbikge1xuICAgICAgICAvLyBPbmx5IHJlc3BvbmQgdG8gbGVmdCBidXR0b25cbiAgICAgICAgaWYgKGJ1dHRvbiAhPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcCA9IHRoaXMubGF5ZXIuY2FudmFzVG9MYXllcihldmVudC5jYW52YXNYLCBldmVudC5jYW52YXNZKTtcbiAgICAgICAgY29uc3QgaGl0U2hhcGUgPSB0aGlzLmxheWVyLmhpdFRlc3QocC54LCBwLnkpO1xuXG4gICAgICAgIGlmICghaGl0U2hhcGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLmNsZWFyKCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBzaGFwZSB3YXMgbm90IHNlbGVjdGVkIGJlZm9yZSwgc2VsZWN0IGl0XG4gICAgICAgIGNvbnN0IHdhc1NlbGVjdGVkID0gaGl0U2hhcGUgJiYgdGhpcy5zZWxlY3Rpb24uc2hhcGVJc1NlbGVjdGVkKGhpdFNoYXBlKTtcbiAgICAgICAgaWYgKCF3YXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2VsZWN0T25seShoaXRTaGFwZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNb3ZlIGFsbCBzZWxlY3RlZCBzaGFwZXNcbiAgICAgICAgY29uc3Qgc2hhcGVzVG9Nb3ZlID0gdGhpcy5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRTaGFwZXMoKTtcbiAgICAgICAgaWYgKHNoYXBlc1RvTW92ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0RHJhZyhzaGFwZXNUb01vdmUsIHApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gU3RhcnQgZHJhZ2dpbmcgb25lIG9yIG1vcmUgc2hhcGVzXG4gICAgLy8gIEBwYXJhbSB7U2hhcGVbXX0gc2hhcGVzXG4gICAgLy8gIEBwYXJhbSB7VmVjdG9yMn0gc3RhcnRQb3MgLSBpbiBsYXllciBjb29yZHNcbiAgICBzdGFydERyYWcoc2hhcGVzLCBzdGFydFBvcywgbG9vcEluZGV4ID0gLTEpIHtcbiAgICAgICAgY29uc3QgYWxsU2hhcGVzQ2FuQmVNb3ZlZCA9IHRoaXMubW92ZUZpbHRlcnMuZXZlcnkobSA9PiBtKHNoYXBlcykpO1xuICAgICAgICBpZiAoIWFsbFNoYXBlc0NhbkJlTW92ZWQpIHtcbiAgICAgICAgICAgIC8vIGlmIGFueSBvZiB0aGUgc2VsZWN0ZWQgc2hhcGVzIGNhbm5vdCBiZSBtb3ZlZCwgZG9uJ3QgYWxsb3cgdGhlIGdyb3VwIHRvIGJlIG1vdmVkLlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubW91c2VUcmFja2VyKSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlVHJhY2tlci5zdGFydFRyYWNraW5nKHRoaXMuZ2V0TmFtZSgpLCBBdXRvZGVzay5FZGl0MkQuVHJhY2tpbmdzLkRyYWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zaGFwZXMgPSBzaGFwZXM7XG4gICAgICAgIHRoaXMubG9vcEluZGV4ID0gbG9vcEluZGV4O1xuICAgICAgICB0aGlzLmRyYWdTdGFydFBvaW50LmNvcHkoc3RhcnRQb3MpO1xuICAgICAgICB0aGlzLmJhY2t1cFNoYXBlcyA9IHNoYXBlcy5tYXAocyA9PiBzLmNsb25lKCkpO1xuICAgIH1cblxuICAgIC8vIHAgaXMgaW4gbGF5ZXIgY29vcmRzXG4gICAgbW92ZURyYWcocCkge1xuICAgICAgICBjb25zdCBkeCA9IHAueCAtIHRoaXMuZHJhZ1N0YXJ0UG9pbnQueDtcbiAgICAgICAgY29uc3QgZHkgPSBwLnkgLSB0aGlzLmRyYWdTdGFydFBvaW50Lnk7XG5cbiAgICAgICAgLy8gQXBwbHkgdGhpcyBvZmZzZXQgdG8gc2hhcGUuIFdlIGFsd2F5cyBzdGFydCB3aXRoIHRoZSBvcmlnaW5hbCBzaGFwZSBhcyBhIHJlZmVyZW5jZVxuICAgICAgICAvLyB0byBhdm9pZCBhY2N1bXVsYXRpbmcgZGVsdGEgaW5hY2N1cmFjaWVzLlxuICAgICAgICB0aGlzLnNoYXBlcy5mb3JFYWNoKChzaGFwZSwgaSkgPT4ge1xuICAgICAgICAgICAgc2hhcGUuY29weSh0aGlzLmJhY2t1cFNoYXBlc1tpXSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmxvb3BJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBEZWZhdWx0OiBNb3ZlIHdob2xlIHNoYXBlKHMpXG4gICAgICAgICAgICAgICAgc2hhcGUubW92ZShkeCwgZHkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IG1vdmUgc2luZ2xlIGxvb3BcbiAgICAgICAgICAgICAgICBzaGFwZS5tb3ZlTG9vcChkeCwgZHksIHRoaXMubG9vcEluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubGF5ZXIudXBkYXRlKCk7XG4gICAgICAgIHRoaXMuZ2l6bW9MYXllci51cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvLyBDbGVhbiB1cCBkYXRhIGhvbGQgZHVyaW5nIGEgZHJhZyBpbnRlcmFjdGlvblxuICAgIHJlc2V0RHJhZ2dpbmcoKSB7XG4gICAgICAgIHRoaXMuc2hhcGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5sb29wSW5kZXggPSAtMTtcbiAgICAgICAgdGhpcy5iYWNrdXBTaGFwZXMgPSBudWxsO1xuICAgIH1cblxuICAgIGVuZERyYWcocCkge1xuICAgICAgICBpZiAodGhpcy5tb3VzZVRyYWNrZXIpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VUcmFja2VyLnN0b3BUcmFja2luZyh0aGlzLmdldE5hbWUoKSxBdXRvZGVzay5FZGl0MkQuVHJhY2tpbmdzLkRyYWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm8gZHJhZyBhY3RpdmVcbiAgICAgICAgaWYgKCF0aGlzLnNoYXBlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmV2ZXJ0IGFueSB0ZW1wb3JhcnkgbW9kaWZpY2F0aW9ucyBkb25lIGR1cmluZyBtb3VzZSBtb3ZlXG4gICAgICAgIHRoaXMuc2hhcGVzLmZvckVhY2goKHNoYXBlLCBpKSA9PiBzaGFwZS5jb3B5KHRoaXMuYmFja3VwU2hhcGVzW2ldKSk7XG5cbiAgICAgICAgLy8gQXBwbHkgbW92ZSBvcGVyYXRpb25cbiAgICAgICAgY29uc3QgZHggPSBwLnggLSB0aGlzLmRyYWdTdGFydFBvaW50Lng7XG4gICAgICAgIGNvbnN0IGR5ID0gcC55IC0gdGhpcy5kcmFnU3RhcnRQb2ludC55O1xuXG4gICAgICAgIGlmICh0aGlzLmxvb3BJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMudW5kb1N0YWNrLnJ1bihuZXcgQWN0aW9ucy5Nb3ZlU2hhcGVzKHRoaXMubGF5ZXIsIHRoaXMuc2hhcGVzLCBkeCwgZHkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudW5kb1N0YWNrLnJ1bihuZXcgQWN0aW9ucy5Nb3ZlTG9vcCh0aGlzLmxheWVyLCB0aGlzLnNoYXBlc1swXSwgdGhpcy5sb29wSW5kZXgsIGR4LCBkeSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zaGFwZXMgPSBudWxsO1xuICAgICAgICB0aGlzLmxvb3BJbmRleCA9IC0xO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBjYW5jZWxEcmFnKCkge1xuICAgICAgICBpZiAodGhpcy5tb3VzZVRyYWNrZXIpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VUcmFja2VyLnN0b3BUcmFja2luZyh0aGlzLmdldE5hbWUoKSxBdXRvZGVzay5FZGl0MkQuVHJhY2tpbmdzLkRyYWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNEcmFnZ2luZygpKSB7XG5cbiAgICAgICAgICAgIC8vIFJldmVydCBzaGFwZSBvIHN0YXRlIHdoZW4gZHJhZ2dpbmcgd2FzIHN0YXJ0ZWRcbiAgICAgICAgICAgIHRoaXMuc2hhcGVzLmZvckVhY2goKHNoYXBlLCBpKSA9PiBzaGFwZS5jb3B5KHRoaXMuYmFja3VwU2hhcGVzW2ldKSk7XG4gICAgICAgICAgICB0aGlzLmxheWVyLnVwZGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5naXptb0xheWVyLnVwZGF0ZSgpO1xuXG4gICAgICAgICAgICB0aGlzLnJlc2V0RHJhZ2dpbmcoKTtcblxuICAgICAgICAgICAgdGhpcy5zdGFydGVkRHJhZ2dpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpc0RyYWdnaW5nKCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbih0aGlzLnNoYXBlcyk7XG4gICAgfVxuXG4gICAgaGFuZGxlTW91c2VNb3ZlKGV2ZW50KSB7XG5cbiAgICAgICAgLy8gR2V0IGFuZCBzdG9yZSBsYXRlc3QgbW91c2UgcG9zaXRpb25cbiAgICAgICAgY29uc3QgcCA9IHRoaXMubGF5ZXIuY2FudmFzVG9MYXllcihldmVudC5jYW52YXNYLCBldmVudC5jYW52YXNZKTtcbiAgICAgICAgdGhpcy5sYXN0TW91c2VQb3MuY29weShwKTtcblxuICAgICAgICBpZiAoIXRoaXMuc2hhcGVzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgZGVsdGEgYmV0d2VlbiBsYXN0IGFuZCBjdXJyZW50IHBvc2l0aW9uXG4gICAgICAgIHRoaXMubW92ZURyYWcocCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaGFuZGxlQnV0dG9uVXAoZXZlbnQsIGJ1dHRvbikge1xuICAgICAgICAvLyBPbmx5IHJlc3BvbmQgdG8gbGVmdCBidXR0b25cbiAgICAgICAgaWYgKGJ1dHRvbiAhPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgd2FzRHJhZ2dpbmcgPSB0aGlzLnN0YXJ0ZWREcmFnZ2luZztcbiAgICAgICAgdGhpcy5zdGFydGVkRHJhZ2dpbmcgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCBwID0gdGhpcy5sYXllci5jYW52YXNUb0xheWVyKGV2ZW50LmNhbnZhc1gsIGV2ZW50LmNhbnZhc1kpO1xuICAgICAgICByZXR1cm4gdGhpcy5lbmREcmFnKHApIHx8IHdhc0RyYWdnaW5nO1xuICAgIH1cblxuICAgIGhhbmRsZUtleURvd24oZXZlbnQsIGtleUNvZGUpIHtcbiAgICAgICAgaWYgKGtleUNvZGUgPT09IHRoaXMua2V5TWFwLkNhbmNlbEVkaXQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbmNlbERyYWcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEaXNwbGF5IG1vdmUgY3Vyc29yIGlmIGEgc2hhcGUgaXMgdW5kZXIgbW91c2Ugb3IgaWYgd2UgYXJlIGRyYWdnaW5nXG4gICAgZ2V0Q3Vyc29yKCkge1xuICAgICAgICAvLyB0aGlzLnNoYXBlIGlzIGRlZmluZWQgd2hlbiB3ZSBhcmUgZHJhZ2dpbmdcbiAgICAgICAgaWYgKHRoaXMuc2hhcGVzKSB7XG4gICAgICAgICAgICByZXR1cm4gJ21vdmUnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2hvdyBtb3ZlIGN1cnNvciBpZiBhIHNoYXBlIGlzIHVuZGVyIG1vdXNlXG4gICAgICAgIGNvbnN0IHNoYXBlQXRNb3VzZSA9IHRoaXMubGF5ZXIuaGl0VGVzdCh0aGlzLmxhc3RNb3VzZVBvcy54LCB0aGlzLmxhc3RNb3VzZVBvcy55KTtcblxuICAgICAgICBpZiAoc2hhcGVBdE1vdXNlKSB7XG4gICAgICAgICAgICBjb25zdCBjYW5CZU1vdmVkID0gdGhpcy5tb3ZlRmlsdGVycy5ldmVyeShtID0+IG0oW3NoYXBlQXRNb3VzZV0pKTtcbiAgICAgICAgICAgIGlmIChjYW5CZU1vdmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgYW55IG9mIHRoZSBzZWxlY3RlZCBzaGFwZXMgY2Fubm90IGJlIG1vdmVkLCBkb24ndCBhbGxvdyB0aGUgZ3JvdXAgdG8gYmUgbW92ZWQuXG4gICAgICAgICAgICAgICAgcmV0dXJuICdtb3ZlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJBY3Rpb25zIiwiTW92ZVRvb2xOYW1lIiwiYXYiLCJBdXRvZGVzayIsIlZpZXdpbmciLCJNb3ZlVG9vbCIsImNvbnN0cnVjdG9yIiwiY3R4IiwibGF5ZXIiLCJnaXptb0xheWVyIiwic2VsZWN0aW9uIiwidW5kb1N0YWNrIiwibmFtZVN1ZmZpeCIsInRvb2xTZXROYW1lIiwic2hhcGVzIiwibG9vcEluZGV4IiwiZHJhZ1N0YXJ0UG9pbnQiLCJUSFJFRSIsIlZlY3RvcjIiLCJiYWNrdXBTaGFwZXMiLCJrZXlNYXAiLCJDYW5jZWxFZGl0IiwiS2V5Q29kZSIsIkVTQ0FQRSIsImxhc3RNb3VzZVBvcyIsIm1vdXNlVHJhY2tlciIsIm1vdmVGaWx0ZXJzIiwiZGVmYXVsdE1vdmVGaWx0ZXIiLCJhZGRNb3ZlRmlsdGVyIiwiZmlsdGVyIiwicHVzaCIsInJlbW92ZU1vdmVGaWx0ZXIiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJldmVyeSIsInMiLCJtb3ZhYmxlIiwiZ2V0TmFtZXMiLCJnZXROYW1lIiwiYWN0aXZhdGUiLCJkZWFjdGl2YXRlIiwicmVnaXN0ZXIiLCJoYW5kbGVTaW5nbGVDbGljayIsInNoYXBlc1RvTW92ZSIsImdldFNlbGVjdGVkU2hhcGVzIiwibGVuZ3RoIiwiaGFuZGxlRG91YmxlQ2xpY2siLCJoYW5kbGVCdXR0b25Eb3duIiwiZXZlbnQiLCJidXR0b24iLCJwIiwiY2FudmFzVG9MYXllciIsImNhbnZhc1giLCJjYW52YXNZIiwiaGl0U2hhcGUiLCJoaXRUZXN0IiwieCIsInkiLCJjbGVhciIsIndhc1NlbGVjdGVkIiwic2hhcGVJc1NlbGVjdGVkIiwic2VsZWN0T25seSIsInN0YXJ0RHJhZyIsInN0YXJ0UG9zIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwiYWxsU2hhcGVzQ2FuQmVNb3ZlZCIsIm0iLCJzdGFydFRyYWNraW5nIiwiRWRpdDJEIiwiVHJhY2tpbmdzIiwiRHJhZyIsImNvcHkiLCJtYXAiLCJjbG9uZSIsIm1vdmVEcmFnIiwiZHgiLCJkeSIsImZvckVhY2giLCJzaGFwZSIsImkiLCJtb3ZlIiwibW92ZUxvb3AiLCJ1cGRhdGUiLCJyZXNldERyYWdnaW5nIiwiZW5kRHJhZyIsInN0b3BUcmFja2luZyIsInJ1biIsIk1vdmVTaGFwZXMiLCJNb3ZlTG9vcCIsImNhbmNlbERyYWciLCJpc0RyYWdnaW5nIiwic3RhcnRlZERyYWdnaW5nIiwiQm9vbGVhbiIsImhhbmRsZU1vdXNlTW92ZSIsImhhbmRsZUJ1dHRvblVwIiwid2FzRHJhZ2dpbmciLCJoYW5kbGVLZXlEb3duIiwia2V5Q29kZSIsImdldEN1cnNvciIsInNoYXBlQXRNb3VzZSIsImNhbkJlTW92ZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Edit2D/tools/MoveTool.js\n");

/***/ }),

/***/ "./extensions/Edit2D/tools/PolygonEditTool.js":
/*!****************************************************!*\
  !*** ./extensions/Edit2D/tools/PolygonEditTool.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PolygonEditTool)\n/* harmony export */ });\n/* harmony import */ var _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EditShapes.js */ \"./extensions/Edit2D/EditShapes.js\");\n/* harmony import */ var _Actions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Actions.js */ \"./extensions/Edit2D/Actions.js\");\n/* harmony import */ var _Math2D_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Math2D.js */ \"./extensions/Edit2D/Math2D.js\");\n/* harmony import */ var _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../CanvasGizmo.js */ \"./extensions/Edit2D/CanvasGizmo.js\");\n/* harmony import */ var _TangentGizmo_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../TangentGizmo.js */ \"./extensions/Edit2D/TangentGizmo.js\");\n/* harmony import */ var _EllipseArcGizmo_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../EllipseArcGizmo.js */ \"./extensions/Edit2D/EllipseArcGizmo.js\");\n/* harmony import */ var _MoveTool_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./MoveTool.js */ \"./extensions/Edit2D/tools/MoveTool.js\");\n/* harmony import */ var _VertexMoveTool_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./VertexMoveTool.js */ \"./extensions/Edit2D/tools/VertexMoveTool.js\");\n/* harmony import */ var _EdgeMoveTool_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./EdgeMoveTool.js */ \"./extensions/Edit2D/tools/EdgeMoveTool.js\");\n/* harmony import */ var _EditToolBase_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./EditToolBase.js */ \"./extensions/Edit2D/tools/EditToolBase.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst PolygonEditToolName = 'Edit2_PolygonEditTool';\n\nconst av = Autodesk.Viewing;\n\n// Allow to pick an edge within\nconst EdgeSelectTolerance = 17;\n\nclass PolygonEditTool extends _EditToolBase_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"] {\n\n  constructor(ctx) {\n    super(ctx);\n\n    this.moveTool = new _MoveTool_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"](ctx);\n    this.edgeMoveTool = new _EdgeMoveTool_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"](ctx);\n    this.vertexMoveTool = new _VertexMoveTool_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"](ctx);\n\n    // Only set during dragging\n    this.poly = null;\n\n    this.keyMap.DeleteSelectedVertex = av.KeyCode.BACKSPACE;\n    this.keyMap.CancelEdit = av.KeyCode.ESCAPE;\n    this.keyMap.ChangeToArc = av.KeyCode.a; // Change selected edge to arc\n    this.keyMap.ChangeToLine = av.KeyCode.l; // Change selected edge to line\n    this.keyMap.ChangeToEllipse = av.KeyCode.e; // Change selected edge to ellipse arc\n\n    // Track mouse position in layer-coords\n    this.mousePos = new THREE.Vector2();\n\n    // Create area label. Default hidden - showing is optional.\n    this.areaLabel = new _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_3__.AreaLabel(null, this.layer, ctx.unitHandler, false);\n\n    // {TangentGizmo[]} Array of TangentGizmos for BezierArcs\n    this.tangentGizmos = [];\n\n    this.tangentGizmosEnabled = true;\n    this.ellipseArcGizmosEnabled = true;\n\n    // If true, we apply hover-highlight on shape under mouse.\n    this.hoverEnabled = true;\n\n    // If true, we allow changing edge type to ellipse arcs.\n    this.enableEllipseArcs = false;\n\n    // Ellipse-arc gizmo. Only shown if an ellipse-edge is selected\n    this.ellipseArcGizmo = new _EllipseArcGizmo_js__WEBPACK_IMPORTED_MODULE_5__.EllipseArcGizmo(ctx.layer, this.gizmoManager, ctx.undoStack, false);\n\n    // Used in mouseDown handler: Indicates that mouse-down has been consumed by this tool, so that\n    // other LMV tools shouldn't handle the singleClick either. This avoids unwanted LMV object selection\n    // after ctrl-click on Edit2D shapes.\n    this.clickConsumed = false;\n  }\n\n  setTangentGizmosEnabled(enabled) {\n    this.tangentGizmosEnabled = enabled;\n    if (enabled) {\n      this.updateTangentGizmos();\n    } else {\n      this.clearTangentGizmos();\n    }\n  }\n\n  setEllipseArcGizmoEnabled(enabled) {\n    this.ellipseArcGizmosEnabled = enabled;\n    this.updateEllipseArcGizmo();\n  }\n\n  setAllGizmosEnabled(enabled) {\n    this.setTangentGizmosEnabled(enabled);\n    this.setEllipseArcGizmoEnabled(enabled);\n    this.vertexMoveTool.setAllGizmosEnabled(enabled);\n    this.edgeMoveTool.setAllGizmosEnabled(enabled);\n  }\n\n  setHoverEnabled(enabled) {\n\n    // On disable, make sure that we don't leave any highlight behind\n    if (this.hoverEnabled && !enabled) {\n      this.selection.setHovered(null);\n    }\n\n    this.hoverEnabled = enabled;\n  }\n\n  // Enable the area labels (public API)\n  setAreaLabelVisible(visible) {\n    this.areaLabel.setVisible(visible);\n  }\n\n  // Enable the length labels (public API)\n  setLengthLabelVisible(visible) {\n    this.edgeMoveTool.setLengthLabelVisible(visible);\n  }\n\n  getName() {\n    return PolygonEditToolName + this.nameSuffix;\n  }\n\n  deactivate() {\n    super.deactivate();\n    this.reset();\n  }\n\n  // Update vertex-gizmos, and tangent gizmos.\n  updateAllGizmos() {\n    this.updateTangentGizmos();\n    this.updateEllipseArcGizmo();\n    this.updateMouseOverHighlights();\n    this.vertexMoveTool.updateAllGizmos();\n    this.edgeMoveTool.updateAllGizmos();\n  }\n\n  // Finishes editing of a previous polygon\n  reset() {\n\n    if (!this.poly) {\n      return;\n    }\n\n    this.poly = null;\n\n    this.vertexMoveTool.reset();\n    this.edgeMoveTool.reset();\n\n    // Clear any gizmos from previous polygon\n    this.updateAllGizmos();\n\n    // Cleanup area and length labels\n    this.areaLabel.setShape(null);\n\n    this.snapper.stopAngleSnapping();\n  }\n\n  // Selects a new polygon / polyline for editing\n  setEditPoly(poly) {\n\n    this.reset();\n\n    if (poly) {\n      this.poly = poly;\n      this.updateAllGizmos();\n    }\n\n    // Sync label with polygon or polyline. If this.poly is null, it will be hidden\n    const polygon = poly && poly.isPolygon() ? poly : null;\n    this.areaLabel.setShape(polygon);\n  }\n\n  insertPoint(polyIndex, p) {\n\n    this.runAction(new _Actions_js__WEBPACK_IMPORTED_MODULE_1__.Actions.AddVertex(this.layer, this.poly, polyIndex, p));\n\n    // removeupdate edge gizmos and tangent gizmos\n    this.updateAllGizmos();\n\n    // Display polygon change and new gizmo\n    this.layer.update();\n  }\n\n  // Remove loop (including any other loop it contains)\n  removeLoop(loopIndex) {\n\n    // Collect all loops to remove\n    const loopsToRemove = this.poly.getChildLoops(loopIndex);\n    loopsToRemove.push(loopIndex);\n\n    const action = new _Actions_js__WEBPACK_IMPORTED_MODULE_1__.Actions.RemoveLoops(this.layer, this.poly, loopsToRemove);\n    this.runAction(action);\n\n    // Reset vertex/edge selection. We cannot keep it because the meaning of loopIndices has changed.\n    this.vertexMoveTool.setSelectedVertex(null);\n    this.edgeMoveTool.setSelectedEdge(null);\n\n    this.updateAllGizmos();\n    this.layer.update();\n  }\n\n  removePoint(polyIndex) {\n\n    const { loop } = polyIndex;\n\n    // If removing a vertex would make the loop degenerate, remove it completely\n    const minVerts = this.poly.isPolygon() ? 3 : 2;\n    if (this.poly.getVertexCount(loop) <= minVerts) {\n      this.removeLoop(loop);\n      return;\n    }\n\n    this.runAction(new _Actions_js__WEBPACK_IMPORTED_MODULE_1__.Actions.RemoveVertex(this.layer, this.poly, polyIndex));\n\n    // update vertex gizmos\n    this.vertexMoveTool.updateVertexGizmos();\n\n    // update edge gizmos and tangent gizmos\n    this.updateAllGizmos();\n\n    // Make sure that this vertex is not selected anymore\n    if (polyIndex.equals(this.vertexMoveTool.selectedVertex)) {\n      this.vertexMoveTool.setSelectedVertex(null);\n    }\n\n    // Unselect edge if edgeIndex got invalid\n    this.edgeMoveTool.setSelectedEdge(null);\n\n    this.layer.update();\n  }\n\n  isSingleLine() {\n    return this.poly && this.poly.loopCount === 1 && this.poly.getVertexCount(0) === 2;\n  }\n\n  // If the given mousePos (in layerCoords) is located close to an edge (not edge gizmo),\n  // the edge index is returned, otherwise null.\n  //  @returns {PolyIndex|null}\n  findEdgeUnderMouse(pos) {\n    if (!this.poly) {\n      return null;\n    }\n\n    const precision = EdgeSelectTolerance * this.layer.getUnitsPerPixel();\n    for (let l = 0; l < this.poly.loopCount; l++) {\n      const index = this.poly.findEdgeIndex(pos, precision, l);\n      if (index !== -1) {\n        return new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.PolyIndex({ vertex: index, loop: l });\n      }\n    }\n    return null;\n  }\n\n  // Checks if a point p can be inserted to split the given edge. If so, it returns the projected\n  // position that is located exactly on edge to be split.\n  //\n  //  @param {Vector2} p           - pos in layer coords - usually close to given edge.\n  //  @param {PolyIndex} polyIndex - index of the edge to be split by this vertex\n  //  @returns {Vector2|null} Adjusted position where the new point will be added.\n  getNewVertexPosition(p, polyIndex) {\n\n    if (!this.poly || !polyIndex) {\n      return null;\n    }\n\n    const edgeIndex = polyIndex.vertex;\n    const loopIndex = polyIndex.loop;\n    if (!this.poly.edgeIndexValid(edgeIndex, loopIndex)) {\n      return null;\n    }\n\n    // get edge\n    const a = new THREE.Vector2();\n    const b = new THREE.Vector2();\n    this.poly.getEdge(edgeIndex, a, b, loopIndex);\n\n    // get edge direction\n    const edgeDir = _Math2D_js__WEBPACK_IMPORTED_MODULE_2__.Math2D.getEdgeDirection(a, b);\n\n    // compute projection of p to the line spanned by the edge\n    const newPos = p.clone();\n    _Math2D_js__WEBPACK_IMPORTED_MODULE_2__.Math2D.projectToLine(newPos, a, edgeDir);\n\n    // Reject position if the projection is outside the segment\n    if (!_Math2D_js__WEBPACK_IMPORTED_MODULE_2__.Math2D.isPointOnEdge(newPos, a, b, 0.0001)) {\n      return null;\n    }\n\n    // Return position where to insert the new vertex\n    return newPos;\n  }\n\n  handleButtonDown(event, button) {\n    // Support suppressing mouse buttons by holding a key\n    if (this.ignoreDragging) {\n      return false;\n    }\n\n    super.handleButtonDown(event, button);\n\n    // Only respond to left mouse button.\n    if (!button == 0) {\n      return false;\n    }\n\n    const p = this.layer.canvasToLayer(event.canvasX, event.canvasY);\n    this.mousePos.copy(p);\n\n    if (this.vertexMoveTool.handleButtonDown(event, button)) {\n      this.edgeMoveTool.setSelectedEdge(null);\n      return true;\n    }\n\n    // Note: In LMV, ToolController handles command key and ctrl key in the same way.\n    //       For consistency, we do the same here.\n    const ctrlHold = event.ctrlKey || event.metaKey;\n\n    // Handle Vertex-Add: Check if we hold ctrl and hit an edge\n    let newVertex = -1;\n    if (ctrlHold) {\n      // Is mouse close to an edge and can be projected onto that edge?\n      const edgeIndex = this.findEdgeUnderMouse(this.mousePos);\n      const newVertexPos = this.getNewVertexPosition(this.mousePos, edgeIndex);\n      if (newVertexPos) {\n        // We don't insert exactly at the mouse position. Instead, new vertices\n        // are always located exactly on the edge being split. Therefore, newVertexPos is\n        // usually slightly different from mousePos.\n\n        // insert new vertex after edge starting point\n        newVertex = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.PolyIndex({ vertex: edgeIndex.vertex + 1, loop: edgeIndex.loop });\n        this.insertPoint(newVertex, newVertexPos);\n\n        // Allow to drag the new vertex immediately\n        if (this.mouseTracker) {\n          this.mouseTracker.startTracking(this.getName(), Autodesk.Edit2D.Trackings.ButtonDown);\n        }\n        this.vertexMoveTool.startDragVertex(event, newVertex);\n\n        return true;\n      }\n    }\n\n    // Handle dragging of TangentGizmo control points for Bezier arcs.\n    for (let i = 0; i < this.tangentGizmos.length; i++) {\n      const gizmo = this.tangentGizmos[i];\n      if (gizmo.onButtonDown(event.canvasX, event.canvasY)) {\n        // We started dragging of a Bezier control point\n        return true;\n      }\n    }\n\n    // Handle dragging of EllipseArc gizmo\n    if (this.ellipseArcGizmo.startDrag(event.canvasX, event.canvasY)) {\n      if (this.mouseTracker) {\n        this.mouseTracker.startTracking(this.getName(), Autodesk.Edit2D.Trackings.ButtonDown);\n      }\n      // We started dragging an ellipse arc\n      return true;\n    }\n\n    // Reset selection highlighting of vertices.\n    this.vertexMoveTool.setSelectedVertex(null);\n\n    if (this.edgeMoveTool.handleButtonDown(event, button)) {\n      this.updateTangentGizmos();\n      this.updateEllipseArcGizmo();\n      return true;\n    }\n\n    // Check which polygon was hit\n    let newPolygon = this.layer.hitTest(p.x, p.y);\n\n    // Handle multiselect\n    if (this.enableMultiselection && ctrlHold && newPolygon) {\n      this.selection.toggleSelection(newPolygon);\n\n      // eat mouseUp event as well. Otherwise, LMV defaultHandler will select objects in the background in parallel\n      this.clickConsumed = true;\n      return true;\n    }\n\n    // Check if click was close to an edge of the current polygon.\n    const edgeIndex = this.poly && this.findEdgeUnderMouse(this.mousePos);\n\n    // Since tolerance for edge selection is higher, the edge shape hitTest may slightly miss\n    // the polygon, but we may be close to an edge. In this case, consider the shape as being it as well.\n    if (!newPolygon && edgeIndex) {\n      newPolygon = this.poly;\n    }\n\n    // If we just clicked inside the already selected polygon, delegate it to MoveTool.\n    if (this.selection.shapeIsSelected(newPolygon)) {\n\n      const loopIndex = edgeIndex ? edgeIndex.loop : -1;\n\n      // Allow moving loops - unless it is a single outer one\n      const mainLoops = this.poly && this.poly.getMainLoops();\n      const isOnlyMainLoop = mainLoops && mainLoops.length === 1 && mainLoops[0] === loopIndex;\n\n      // Handle single-loop move\n      const moveLoop = edgeIndex && !isOnlyMainLoop;\n      if (moveLoop) {\n        // Move single loop\n        this.moveTool.startDrag([this.poly], p, loopIndex);\n      } else {\n        // Move selected shape(s)\n        const shapesToMove = this.selection.getSelectedShapes();\n        this.moveTool.startDrag(shapesToMove, p);\n      }\n      return true;\n    }\n\n    // If the clicked object is neither polygon nor polyline, ignore it.\n    const isPolygon = newPolygon instanceof _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Polygon;\n    const isPolyline = newPolygon instanceof _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Polyline;\n    const isPath = newPolygon instanceof _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Path;\n    if (!isPolygon && !isPolyline && !isPath) {\n      newPolygon = null;\n    }\n\n    // Set selection to current polygon. This will also trigger setEditPoly()\n    // via selectionChanged event.\n    this.selection.selectOnly(newPolygon);\n\n    return false;\n  }\n\n  handleSingleClick(e) {\n    super.handleSingleClick(e);\n\n    const handled = this.clickConsumed || Boolean(this.poly);\n\n    if (this.mouseTracker) {\n      this.mouseTracker.stopTracking(this.getName(), Autodesk.Edit2D.Trackings.Click);\n    }\n\n    this.clickConsumed = false;\n    return handled;\n  }\n\n  handleMouseMove(event) {\n    super.handleMouseMove(event);\n\n    this.mousePos.copy(this.layer.canvasToLayer(event.canvasX, event.canvasY));\n    this.updateMouseOverHighlights();\n\n    if (this.moveTool.isDragging()) {\n      this.moveTool.moveDrag(this.mousePos);\n    }\n\n    if (!this.poly) {\n      return false;\n    }\n\n    if (this.vertexMoveTool.handleMouseMove(event)) {\n      return true;\n    }\n\n    if (this.edgeMoveTool.handleMouseMove(event)) {\n      return true;\n    }\n\n    // Check if we are dragging an endpoint of any tangent gizmo\n    const tangentGizmo = this.findDraggedTangentGizmo();\n    if (tangentGizmo) {\n      tangentGizmo.moveDrag(event.canvasX, event.canvasY);\n    }\n\n    // Check if we are dragging the ellipseArc gizmo\n    if (this.ellipseArcGizmo.dragging) {\n      return this.ellipseArcGizmo.moveDrag(event.canvasX, event.canvasY);\n    }\n\n    return false;\n  }\n\n  handleButtonUp(event, button) {\n    super.handleButtonUp(event, button);\n\n    // Avoid triggering the handler for external modifications, because we control the EdgeMoveTool ourselves\n    this.ignoreActions = true;\n    let handled = this.vertexMoveTool.handleButtonUp(event, button);\n    this.ignoreActions = false;\n\n    if (handled) {\n      return true;\n    }\n\n    // Avoid triggering the handler for external modifications, because we control the EdgeMoveTool ourselves\n    this.ignoreActions = true;\n    handled = this.edgeMoveTool.handleButtonUp(event, button);\n    this.ignoreActions = false;\n\n    if (handled) {\n      return true;\n    }\n\n    if (this.moveTool.isDragging()) {\n      const p = this.layer.canvasToLayer(event.canvasX, event.canvasY);\n\n      // Avoid triggering the handler for external modifications, because we control the MoveTool ourselves\n      this.ignoreActions = true;\n      this.moveTool.endDrag(p);\n      this.ignoreActions = false;\n\n      return true;\n    }\n\n    // Check if we are dragging an endpoint of any tangent gizmo\n    const tangentGizmo = this.findDraggedTangentGizmo();\n    if (tangentGizmo) {\n      if (this.mouseTracker) {\n        this.mouseTracker.stopTracking(this.getName(), Autodesk.Edit2D.Trackings.ButtonUp);\n      }\n      tangentGizmo.endDrag(event.canvasX, event.canvasY);\n    }\n\n    // Check if we are dragging the center of an ellipse arc\n    if (this.ellipseArcGizmo.dragging) {\n      if (this.mouseTracker) {\n        this.mouseTracker.stopTracking(this.getName(), Autodesk.Edit2D.Trackings.ButtonUp);\n      }\n      this.ellipseArcGizmo.endDrag(event.canvasX, event.canvasY);\n\n    }\n\n    // We let other tools down the stack such as the MoveTool and EdgeMoveTool handle the button up.\n    return false;\n  }\n\n  // Exclude currently edited polygon from snapping: The polygon shouldn't snap to itself, but rather\n  // to geometry below it.\n  snappingFilter(shape) {\n    return shape !== this.poly;\n  }\n\n  // If selection changes (may also be triggered outside this tool), we choose the selected polyon for editing\n  onSelectionChanged() {\n    const selected = this.selection.getSelectedShapes();\n\n    // Activate if exactly one shape is selected\n    const shape = selected.length == 1 ? selected[0] : null;\n    if (shape instanceof _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.PolyBase) {\n      this.setEditPoly(shape);\n    } else {\n      this.setEditPoly(null);\n    }\n\n    this.vertexMoveTool.onSelectionChanged();\n    this.edgeMoveTool.onSelectionChanged();\n  }\n\n  handleKeyDown(event, keyCode) {\n    let handled = super.handleKeyDown(event, keyCode);\n\n    // Needed in order to update suppressSnapping\n    this.vertexMoveTool.handleKeyDown(event, keyCode);\n    this.edgeMoveTool.handleKeyDown(event, keyCode);\n\n    if (keyCode === this.keyMap.DeleteSelectedVertex) {\n      if (this.poly && this.vertexMoveTool.selectedVertex) {\n        this.removePoint(this.vertexMoveTool.selectedVertex);\n        handled = true;\n      }\n    }\n\n    if (keyCode === this.keyMap.CancelEdit) {\n      this.cancelDrag();\n      return true;\n    }\n\n    // Check if we have an edge to work on\n    const targetEdge = this.isSingleLine() ? new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.PolyIndex({ vertex: 0, loop: 0 }) : this.edgeMoveTool.selectedEdge; // If we have just a single segment, we don't need edge selection.\n    const targetEdgeValid = Boolean(this.poly && targetEdge && this.poly.edgeIndexValid(targetEdge.vertex, targetEdge.loop));\n\n    if (keyCode === this.keyMap.ChangeToArc) {\n\n      // If a line segment is selected, convert it to an arc\n      const lineSegmentSelected = targetEdgeValid && !this.poly.isBezierArc(targetEdge.vertex, targetEdge.loop);\n      if (lineSegmentSelected) {\n        this.changeEdgeToBezier(targetEdge);\n      }\n      return true;\n    }\n\n    if (keyCode === this.keyMap.ChangeToEllipse) {\n\n      // If a line segment is selected, convert it to an arc\n      const segmentSelected = targetEdgeValid && !this.poly.isEllipseArc(targetEdge.vertex, targetEdge.loop);\n      if (segmentSelected) {\n        this.changeEdgeToEllipse(targetEdge);\n      }\n      return true;\n    }\n\n    if (keyCode === this.keyMap.ChangeToLine) {\n      // If an arc segment is selected, convert it to a line\n      const arcSegmentSelected = targetEdgeValid && this.poly.isArc(targetEdge.vertex, targetEdge.loop);\n      if (arcSegmentSelected) {\n        this.changeEdgeToLine(targetEdge);\n      }\n    }\n\n    return handled;\n  }\n\n  handleKeyUp(event, keyCode) {\n    const handled = super.handleKeyUp(event, keyCode);\n\n    // Needed in order to update suppressSnapping\n    this.vertexMoveTool.handleKeyUp(event, keyCode);\n    this.edgeMoveTool.handleKeyUp(event, keyCode);\n\n    return handled;\n  }\n\n  // If snapping has toggled on/off, we instantly \"replay\" hovering at current mouse position. Purpose is to\n  // give instant feedback (e.g. hide/show SnapLine gizmos and adjust position of preview edge)\n  onSnappingToggled(canvasX, canvasY) {\n    this.vertexMoveTool.onSnappingToggled(canvasX, canvasY);\n  }\n\n  cancelDrag() {\n\n    let needsUpdate = false;\n\n    if (this.vertexMoveTool.cancelDrag()) {\n      needsUpdate = true;\n    }\n\n    if (this.edgeMoveTool.cancelDrag()) {\n      needsUpdate = true;\n    }\n\n    if (this.moveTool.cancelDrag()) {\n      needsUpdate = true;\n    }\n\n    this.tangentGizmos.forEach((tg) => {\n      if (tg.isDragging()) {\n        tg.cancelDrag();\n        needsUpdate = true;\n      }\n    });\n\n    if (needsUpdate) {\n      this.updateAllGizmos();\n      this.layer.update();\n    }\n\n    if (this.ellipseArcGizmo.dragging) {\n      if (this.mouseTracker) {\n        this.mouseTracker.stopTracking(this.getName(), Autodesk.Edit2D.Trackings.Drag);\n      }\n      this.ellipseArcGizmo.cancelDrag();\n      this.updateAllGizmos();\n    }\n\n    this.snapper.clearSnappingGizmos();\n  }\n\n  // Updates selection of shape(s), vertex, and edge after an action\n  updateSelectionState(action, isUndo) {\n\n    // If the action is invoked by our own TangentGizmo, attach the currently selected item on first run.\n    // This allows us to recover later whether a vertex or an edge was selected.\n    if (action instanceof _Actions_js__WEBPACK_IMPORTED_MODULE_1__.Actions.ChangeBezierTangent) {\n      const hint = action.getSelectionHint(isUndo);\n      if (!hint) {\n        action.setSelectionItem(\n          this.vertexMoveTool.selectedVertex,\n          this.edgeMoveTool.selectedEdge\n        );\n      }\n    }\n\n    // Check if the action provides a hint how we should update selection\n    const hint = action.getSelectionHint(isUndo);\n    if (hint) {\n\n      // apply shape selection\n      const shapes = hint.shape ? [hint.shape] : hint.shapes;\n      this.selection.setSelection(shapes);\n\n      this.vertexMoveTool.setSelectedVertex(hint.vertex);\n      this.edgeMoveTool.setSelectedEdge(hint.edge);\n\n      return;\n    }\n\n    // Default behavior - if we don't know anything better:\n    //  - Keep shape selected if still existing\n    //  - Reset vertex/edge selection\n\n    // If shape was removed, reset state\n    const shapeFound = Boolean(this.poly && this.layer.findShapeById(this.poly.id));\n    if (!shapeFound) {\n      this.reset();\n    }\n\n    // If poly was modified from outside, we can't know if the selected vertex or edge\n    // still exist or have the same meaning. E.g., when undo/redoing a vertex-insert, the indices may have shifted.\n    this.vertexMoveTool.setSelectedVertex(null);\n    this.edgeMoveTool.setSelectedEdge(null);\n  }\n\n  handleExternalAction(action, isUndo) {\n\n    // make sure that selected edge/vertex are still valid (or switched off)\n    this.updateSelectionState(action, isUndo);\n\n    // Stop any ongoing drag-operations (e.g., an undo operation might have removed the vertex that we are just dragging)\n    this.cancelDrag();\n\n    // Sync gizmos in case vertices were modified\n    this.updateAllGizmos();\n\n    this.snapper.clearSnappingGizmos();\n  }\n\n\n  updateMouseOverHighlights() {\n    // Handle mouse-over highlighting for shapes\n    if (this.hoverEnabled) {\n      const shape = this.layer.hitTest(this.mousePos.x, this.mousePos.y);\n      this.selection.setHoveredId(shape ? shape.id : 0);\n    }\n  }\n\n  getCursor() {\n\n    if (!this.poly) {\n      return;\n    }\n\n    // Note: Vertex gizmos and edge gizmos are separate DomElements and define own mouse cursors via style.\n\n    const p = this.mousePos;\n\n    // Indicate: \"Moving whole shape\"\n    // While dragging, keep the move-cursor, even if the mouse is temporarily leaving polygon and gizmos\n    if (this.moveTool.isDragging()) {\n      return 'move';\n    }\n\n    // Indicate: \"Moving a gizmo\". Currently, we use the same as for shape move. Note that\n    //           the cursor for gizmo dragging must be consistent with the one we have if the mouse is on the gizmo.\n    //           Otherwise, the mouse cursor would change its state when temporarily leaving the gizmo on fast moves.\n    const vertexEdgeCursor = this.vertexMoveTool.getCursor() || this.edgeMoveTool.getCursor();\n    if (vertexEdgeCursor) {\n      return vertexEdgeCursor;\n    }\n\n    // Indicate: \"Moving a ellipse-arc gizmo\" to modify radius of an ellipse arc.\n    if (this.ellipseArcGizmo.dragging) {\n      return 'move';\n    }\n\n    // Check if mouse is close to an edge\n    const precision = EdgeSelectTolerance * this.layer.getUnitsPerPixel();\n    const edgeIndex = this.findEdgeUnderMouse(this.mousePos, precision);\n\n    // Indicate: \"Click to insert new vertex\"\n    //\n    // If we are holding down Ctrl (or command) and hover over an edge, clicking would insert a vertex.\n    const ctrlHold = this.keyState[av.KeyCode.CONTROL];\n    if (ctrlHold) {\n      if (edgeIndex) {\n        return 'copy';\n      }\n    }\n\n    // Are we about to move a shape?\n    const hitRadius = this.layer.getLineHitRadius(this.poly);\n    const moveShape = edgeIndex || this.poly.hitTest(p.x, p.y, hitRadius);\n    if (moveShape) {\n      return 'move';\n    }\n\n    // => Just default cursor\n    return undefined;\n  }\n\n  clearTangentGizmos() {\n    this.tangentGizmos.forEach((g) => g.dtor());\n    this.tangentGizmos.length = 0;\n  }\n\n  updateTangentGizmos() {\n\n    // Clear any previous gizmos (if any)\n    this.clearTangentGizmos();\n\n    if (!this.poly || !this.poly.isPath()) {\n      return;\n    }\n\n    // We only show a tangent gizmo if it has relevance for the selected vertex or edge:\n    // For a vertex v with neighbor edges prevEdge und nextEdge, we show a tangent gizmo if...\n    //  - v, prevEdge, or nextEdge is selected\n    //  - If an edge is selected, the selected edge is an arc\n    //  - If v is selected, prevEdge or nextEdge is an arc\n    for (let l = 0; l < this.poly.loopCount; l++) {\n      const vertexCount = this.poly.getVertexCount(l);\n      for (let i = 0; i < vertexCount; i++) {\n\n        const sv = this.vertexMoveTool.selectedVertex;\n        const vertexSelected = Boolean(sv && sv.vertex === i && sv.loop === l);\n\n        // get prev/next edge.\n        const prevEdge = this.poly.edgeBeforeVertex(i, l);\n        const nextEdge = this.poly.edgeAfterVertex(i, l);\n\n        // edges may not exist at polyline ends\n        const prevExists = prevEdge !== -1;\n        const nextExists = nextEdge !== -1;\n\n        // check if any neighbor edge is selected\n        const se = this.edgeMoveTool.selectedEdge;\n        const prevSelected = Boolean(prevExists && se && se.vertex === prevEdge && se.loop === l);\n        const nextSelected = Boolean(nextExists && se && se.vertex === nextEdge && se.loop === l);\n\n        // check if any neighbor edge is an arc\n        const prevIsArc = prevExists && this.poly.isBezierArc(prevEdge, l);\n        const nextIsArc = nextExists && this.poly.isBezierArc(nextEdge, l);\n\n        // If we just have a single line segment, always show the tangent gizmos\n        const isSingleLine = this.isSingleLine();\n\n        // Check if we selected an arc edge or a vertex of one\n        const arcVertexSelected = vertexSelected && (prevIsArc || nextIsArc);\n        const arcEdgeSelected = prevSelected && prevIsArc || nextSelected && nextIsArc;\n\n        // show the gizmo if anything is selected and one of the edges is an arc\n        const showTangents = isSingleLine || arcVertexSelected || arcEdgeSelected;\n        if (showTangents) {\n          this.tangentGizmos.push(new _TangentGizmo_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this.poly, i, l, this.layer, this.gizmoLayer, this.gizmoManager, this.undoStack));\n        }\n      }\n    }\n  }\n\n  updateEllipseArcGizmo() {\n    const se = this.edgeMoveTool.selectedEdge;\n\n    const edgeSelected = Boolean(se);\n\n    // if ellipse arc gizmos are enabled, check if edge is selected and we the polygon at hand is a path, as well\n    // if the selected edge's vertex and loop is an ellipse arc. If ellipse arc gizmos are not enabled, then dettach\n    // them from the edge and return.\n    const showGizmo = this.ellipseArcGizmosEnabled ?\n    edgeSelected && this.poly instanceof _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Path && this.poly.isEllipseArc(se.vertex, se.loop) :\n    false;\n\n    this.ellipseArcGizmo.setVisible(showGizmo);\n\n    if (!showGizmo) {\n      // Make sure that ellipseArcGizmo doesn't keep bound to an edge. Otherwise, it may\n      // cause an error later if that edge is removed.\n      this.ellipseArcGizmo.detachFromEdge();\n      return;\n    }\n\n    this.ellipseArcGizmo.attachToEdge(this.poly, se.vertex, se.loop);\n  }\n\n  // If any tangent gizmo is being dragged, it is returned.\n  // Result is null if nothing is dragged.\n  findDraggedTangentGizmo() {\n    return this.tangentGizmos.find((gizmo) => gizmo.isDragging());\n  }\n\n  // Heuristic for choosing the tangent length when turning a line segment into an arc.\n  // The basic idea here is\n  //  - When turning all 4 lines of a square into arcs, we should get something that approximates a circle.\n  //  - When generalizing that to more fancy cases, it should at least behave consistent and sort-of reasonable (e.g. always keep within a reasonable ratio to segment lengths)\n  //\n  // Note: It's probably cleaner to always approximate some sort of elliptical arcs for the general case. But that will make things a lot harder (and possibly slower).\n  //       So let's get away with the linear-scale cheating for now.\n  getVertexTangentLength(prevLength, nextLength) {\n\n    // Given a square of edge length sqrt(2), the circle passing through all 4 vertices can be\n    // approximated by 4 cubic bezier arc segments. The tangents for these bezier arcs all have this length:\n    // (See here: http://spencermortensen.com/articles/bezier-circle/)\n    const c = 0.551915024494;\n\n    // Scaling down the quad/beziers to a unit quad, we obtain the corresponding tangent lengths for a unit quad as:\n    const unitQuadTangentLength = c / Math.SQRT2;\n\n    // For a square of length l, the tangent length scales up accordingly.\n    // For different segment lengths, we simply use the average of both lengths.\n    const l = 0.5 * (prevLength + nextLength);\n\n    return l * unitQuadTangentLength;\n  }\n\n  // Given a corner vertex p and its previous and next neighbor, this function computes an averaged tangent\n  // vector that we use if (prev, p) and (p, next) are replaced by Bezier arcs.\n  getVertexTangent(prev, p, next) {\n\n    // get tangent direction by averaging the edge directions.\n    let tangent = new THREE.Vector2().copy(next).sub(prev).normalize();\n\n    // Scale tangent direction\n    const prevLength = p.distanceTo(prev);\n    const nextLength = p.distanceTo(next);\n    const tangentLength = this.getVertexTangentLength(prevLength, nextLength);\n\n    return tangent.multiplyScalar(tangentLength);\n  }\n\n  changeEdgeToEllipse(polyIndex) {\n\n    const edgeIndex = polyIndex.vertex;\n    const loopIndex = polyIndex.loop;\n\n    // By default, bend outsidde by half of the edge length. In this way, we get a circle centered\n    // at the line-segment midpoint.\n    const bendRadius = 0.5 * this.poly.getEdgeLength(edgeIndex, loopIndex);\n    const arcParams = (0,_EllipseArcGizmo_js__WEBPACK_IMPORTED_MODULE_5__.getEllipseArcEdgeParams)(this.poly, edgeIndex, loopIndex, bendRadius);\n    this.runAction(new _Actions_js__WEBPACK_IMPORTED_MODULE_1__.Actions.ChangeEdgeType(this.layer, this.poly, polyIndex, _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EdgeType.Ellipse, null, null, arcParams));\n\n    this.layer.update();\n    this.edgeMoveTool.setSelectedEdge(polyIndex);\n    this.updateAllGizmos();\n  }\n\n  changeEdgeToBezier(polyIndex) {\n\n    const edgeIndex = polyIndex.vertex;\n    const loopIndex = polyIndex.loop;\n\n    const path = this.poly;\n\n    // get neighbor edges\n    const prevEdgeIndex = path.prevEdgeIndex(edgeIndex, loopIndex);\n    const nextEdgeIndex = path.nextEdgeIndex(edgeIndex, loopIndex);\n\n    // check if neighbor edge exist (usually true unless at the end of a polyline)\n    const prevExists = prevEdgeIndex !== -1;\n    const nextExists = nextEdgeIndex !== -1;\n\n    // get start/end position of the segment\n    const a = new THREE.Vector2();\n    const b = new THREE.Vector2();\n    path.getEdge(edgeIndex, a, b, loopIndex);\n\n    // If previous/next edge exist, get their start/endVertex as well\n    let prevEdgeA = prevExists && path.getPoint(prevEdgeIndex, loopIndex);\n    let nextEdgeB = nextExists && path.getPoint(path.nextIndex(nextEdgeIndex, loopIndex), loopIndex);\n\n    // If prev/nextEdge do not exist, we simply assume length and angle of the missing edge to be the same as the current edge.\n    if (!prevExists) prevEdgeA = _Math2D_js__WEBPACK_IMPORTED_MODULE_2__.Math2D.mirrorPointOnPoint(b, a);\n    if (!nextExists) nextEdgeB = _Math2D_js__WEBPACK_IMPORTED_MODULE_2__.Math2D.mirrorPointOnPoint(a, b);\n\n    // Control points 0 and 3 are already given by edge a and b\n    // Below, we have to determine cp1, cp2 to define the tangents\n    let cp1 = null;\n    let cp2 = null;\n\n    // Check if previous and next edges are arcs as well\n    const prevIsArc = prevExists && path.isBezierArc(prevEdgeIndex, loopIndex);\n    const nextIsArc = nextExists && path.isBezierArc(nextEdgeIndex, loopIndex);\n\n    // Determine control point for start tangent cp1\n    if (prevIsArc) {\n      // Previous edge is an arc: Get start tangent by mirroring the end tangent of that arc.\n      const prevCp2 = path.getControlPoint(prevEdgeIndex, 2, loopIndex);\n      cp1 = _Math2D_js__WEBPACK_IMPORTED_MODULE_2__.Math2D.mirrorPointOnPoint(prevCp2, a);\n    } else {\n      // Previous edge is a line: Use average direction of both segments to choose the new tangent\n      cp1 = this.getVertexTangent(prevEdgeA, a, b).add(a);\n    }\n\n    // Analog for end tangent cp2\n    if (nextIsArc) {\n      // Next edge is an arc: Get end tangent by mirroring the start tangent of that arc.\n      const nextCp1 = path.getControlPoint(nextEdgeIndex, 1, loopIndex);\n      cp2 = _Math2D_js__WEBPACK_IMPORTED_MODULE_2__.Math2D.mirrorPointOnPoint(nextCp1, b);\n    } else {\n      // Next edge is a line: Use average direction of both segments to choose the new tangent\n      // Note that we must pass the points in backward order for the end tangent.\n      cp2 = this.getVertexTangent(nextEdgeB, b, a).add(b);\n    }\n\n    this.runAction(new _Actions_js__WEBPACK_IMPORTED_MODULE_1__.Actions.ChangeEdgeType(this.layer, this.poly, polyIndex, _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EdgeType.Bezier, cp1, cp2));\n\n    this.layer.update();\n\n    // select the edge so that you can edit its tangents\n    this.edgeMoveTool.setSelectedEdge(polyIndex);\n    this.updateAllGizmos();\n  }\n\n  changeEdgeToLine(polyIndex) {\n    this.runAction(new _Actions_js__WEBPACK_IMPORTED_MODULE_1__.Actions.ChangeEdgeType(this.layer, this.poly, polyIndex, _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.EdgeType.Line));\n    this.layer.update();\n\n    this.edgeMoveTool.setSelectedEdge(polyIndex);\n    this.updateAllGizmos();\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL0VkaXQyRC90b29scy9Qb2x5Z29uRWRpdFRvb2wuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBMEY7QUFDbEQ7QUFDRjtBQUNRO0FBQ0E7QUFDVTtBQUNROztBQUUzQjtBQUNZO0FBQ0o7QUFDQTs7QUFFN0MsTUFBTWdCLG1CQUFtQixHQUFHLHVCQUF1Qjs7QUFFbkQsTUFBTUMsRUFBRSxHQUFHQyxRQUFRLENBQUNDLE9BQU87O0FBRTNCO0FBQ0EsTUFBTUMsbUJBQW1CLEdBQUcsRUFBRTs7QUFFZixNQUFNQyxlQUFlLFNBQVNOLHdEQUFZLENBQUM7O0VBRXRETyxXQUFXQSxDQUFDQyxHQUFHLEVBQUU7SUFDYixLQUFLLENBQUNBLEdBQUcsQ0FBQzs7SUFFVixJQUFJLENBQUNDLFFBQVEsR0FBRyxJQUFJWixvREFBUSxDQUFDVyxHQUFHLENBQUM7SUFDakMsSUFBSSxDQUFDRSxZQUFZLEdBQUcsSUFBSVgsd0RBQVksQ0FBQ1MsR0FBRyxDQUFDO0lBQ3pDLElBQUksQ0FBQ0csY0FBYyxHQUFHLElBQUliLDBEQUFjLENBQUNVLEdBQUcsQ0FBQzs7SUFFN0M7SUFDQSxJQUFJLENBQUNJLElBQUksR0FBRyxJQUFJOztJQUVoQixJQUFJLENBQUNDLE1BQU0sQ0FBQ0Msb0JBQW9CLEdBQUdaLEVBQUUsQ0FBQ2EsT0FBTyxDQUFDQyxTQUFTO0lBQ3ZELElBQUksQ0FBQ0gsTUFBTSxDQUFDSSxVQUFVLEdBQUdmLEVBQUUsQ0FBQ2EsT0FBTyxDQUFDRyxNQUFNO0lBQzFDLElBQUksQ0FBQ0wsTUFBTSxDQUFDTSxXQUFXLEdBQUdqQixFQUFFLENBQUNhLE9BQU8sQ0FBQ0ssQ0FBQyxDQUFDLENBQUU7SUFDekMsSUFBSSxDQUFDUCxNQUFNLENBQUNRLFlBQVksR0FBR25CLEVBQUUsQ0FBQ2EsT0FBTyxDQUFDTyxDQUFDLENBQUMsQ0FBQztJQUN6QyxJQUFJLENBQUNULE1BQU0sQ0FBQ1UsZUFBZSxHQUFHckIsRUFBRSxDQUFDYSxPQUFPLENB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SSxDQUFDcFAsS0FBSyxDQUFDMEMsTUFBTSxDQUFDLENBQUM7O0lBRW5CLElBQUksQ0FBQzdELFlBQVksQ0FBQ3NFLGVBQWUsQ0FBQ2IsU0FBUyxDQUFDO0lBQzVDLElBQUksQ0FBQ1QsZUFBZSxDQUFDLENBQUM7RUFDMUI7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL0VkaXQyRC90b29scy9Qb2x5Z29uRWRpdFRvb2wuanM/ODZjMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYXRoLCBQb2x5QmFzZSwgUG9seWdvbiwgUG9seWxpbmUsIFBvbHlJbmRleCwgRWRnZVR5cGUgfSBmcm9tICcuLi9FZGl0U2hhcGVzLmpzJztcbmltcG9ydCB7IEFjdGlvbnMgfSBmcm9tICcuLi9BY3Rpb25zLmpzJztcbmltcG9ydCB7IE1hdGgyRCB9IGZyb20gJy4uL01hdGgyRC5qcyc7XG5pbXBvcnQgeyBBcmVhTGFiZWwgfSBmcm9tICcuLi9DYW52YXNHaXptby5qcyc7XG5pbXBvcnQgVGFuZ2VudEdpem1vIGZyb20gJy4uL1RhbmdlbnRHaXptby5qcyc7XG5pbXBvcnQgeyBFbGxpcHNlQXJjR2l6bW8gfSBmcm9tICcuLi9FbGxpcHNlQXJjR2l6bW8uanMnO1xuaW1wb3J0IHsgZ2V0RWxsaXBzZUFyY0VkZ2VQYXJhbXMgfSBmcm9tICcuLi9FbGxpcHNlQXJjR2l6bW8uanMnO1xuXG5pbXBvcnQgTW92ZVRvb2wgZnJvbSAnLi9Nb3ZlVG9vbC5qcyc7XG5pbXBvcnQgVmVydGV4TW92ZVRvb2wgZnJvbSBcIi4vVmVydGV4TW92ZVRvb2wuanNcIjtcbmltcG9ydCBFZGdlTW92ZVRvb2wgZnJvbSAnLi9FZGdlTW92ZVRvb2wuanMnO1xuaW1wb3J0IEVkaXRUb29sQmFzZSBmcm9tICcuL0VkaXRUb29sQmFzZS5qcyc7XG5cbmNvbnN0IFBvbHlnb25FZGl0VG9vbE5hbWUgPSAnRWRpdDJfUG9seWdvbkVkaXRUb29sJztcblxuY29uc3QgYXYgPSBBdXRvZGVzay5WaWV3aW5nO1xuXG4vLyBBbGxvdyB0byBwaWNrIGFuIGVkZ2Ugd2l0aGluXG5jb25zdCBFZGdlU2VsZWN0VG9sZXJhbmNlID0gMTc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvbHlnb25FZGl0VG9vbCBleHRlbmRzIEVkaXRUb29sQmFzZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihjdHgpIHtcbiAgICAgICAgc3VwZXIoY3R4KTtcblxuICAgICAgICB0aGlzLm1vdmVUb29sID0gbmV3IE1vdmVUb29sKGN0eCk7XG4gICAgICAgIHRoaXMuZWRnZU1vdmVUb29sID0gbmV3IEVkZ2VNb3ZlVG9vbChjdHgpO1xuICAgICAgICB0aGlzLnZlcnRleE1vdmVUb29sID0gbmV3IFZlcnRleE1vdmVUb29sKGN0eCk7XG5cbiAgICAgICAgLy8gT25seSBzZXQgZHVyaW5nIGRyYWdnaW5nXG4gICAgICAgIHRoaXMucG9seSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5rZXlNYXAuRGVsZXRlU2VsZWN0ZWRWZXJ0ZXggPSBhdi5LZXlDb2RlLkJBQ0tTUEFDRTtcbiAgICAgICAgdGhpcy5rZXlNYXAuQ2FuY2VsRWRpdCA9IGF2LktleUNvZGUuRVNDQVBFO1xuICAgICAgICB0aGlzLmtleU1hcC5DaGFuZ2VUb0FyYyA9IGF2LktleUNvZGUuYTsgIC8vIENoYW5nZSBzZWxlY3RlZCBlZGdlIHRvIGFyY1xuICAgICAgICB0aGlzLmtleU1hcC5DaGFuZ2VUb0xpbmUgPSBhdi5LZXlDb2RlLmw7IC8vIENoYW5nZSBzZWxlY3RlZCBlZGdlIHRvIGxpbmVcbiAgICAgICAgdGhpcy5rZXlNYXAuQ2hhbmdlVG9FbGxpcHNlID0gYXYuS2V5Q29kZS5lOyAvLyBDaGFuZ2Ugc2VsZWN0ZWQgZWRnZSB0byBlbGxpcHNlIGFyY1xuXG4gICAgICAgIC8vIFRyYWNrIG1vdXNlIHBvc2l0aW9uIGluIGxheWVyLWNvb3Jkc1xuICAgICAgICB0aGlzLm1vdXNlUG9zID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuICAgICAgICAvLyBDcmVhdGUgYXJlYSBsYWJlbC4gRGVmYXVsdCBoaWRkZW4gLSBzaG93aW5nIGlzIG9wdGlvbmFsLlxuICAgICAgICB0aGlzLmFyZWFMYWJlbCA9IG5ldyBBcmVhTGFiZWwobnVsbCwgdGhpcy5sYXllciwgY3R4LnVuaXRIYW5kbGVyLCBmYWxzZSk7XG5cbiAgICAgICAgLy8ge1RhbmdlbnRHaXptb1tdfSBBcnJheSBvZiBUYW5nZW50R2l6bW9zIGZvciBCZXppZXJBcmNzXG4gICAgICAgIHRoaXMudGFuZ2VudEdpem1vcyA9IFtdO1xuXG4gICAgICAgIHRoaXMudGFuZ2VudEdpem1vc0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmVsbGlwc2VBcmNHaXptb3NFbmFibGVkID0gdHJ1ZTtcblxuICAgICAgICAvLyBJZiB0cnVlLCB3ZSBhcHBseSBob3Zlci1oaWdobGlnaHQgb24gc2hhcGUgdW5kZXIgbW91c2UuXG4gICAgICAgIHRoaXMuaG92ZXJFbmFibGVkID0gdHJ1ZTtcblxuICAgICAgICAvLyBJZiB0cnVlLCB3ZSBhbGxvdyBjaGFuZ2luZyBlZGdlIHR5cGUgdG8gZWxsaXBzZSBhcmNzLlxuICAgICAgICB0aGlzLmVuYWJsZUVsbGlwc2VBcmNzID0gZmFsc2U7XG5cbiAgICAgICAgLy8gRWxsaXBzZS1hcmMgZ2l6bW8uIE9ubHkgc2hvd24gaWYgYW4gZWxsaXBzZS1lZGdlIGlzIHNlbGVjdGVkXG4gICAgICAgIHRoaXMuZWxsaXBzZUFyY0dpem1vID0gbmV3IEVsbGlwc2VBcmNHaXptbyhjdHgubGF5ZXIsIHRoaXMuZ2l6bW9NYW5hZ2VyLCBjdHgudW5kb1N0YWNrLCBmYWxzZSk7XG5cbiAgICAgICAgLy8gVXNlZCBpbiBtb3VzZURvd24gaGFuZGxlcjogSW5kaWNhdGVzIHRoYXQgbW91c2UtZG93biBoYXMgYmVlbiBjb25zdW1lZCBieSB0aGlzIHRvb2wsIHNvIHRoYXRcbiAgICAgICAgLy8gb3RoZXIgTE1WIHRvb2xzIHNob3VsZG4ndCBoYW5kbGUgdGhlIHNpbmdsZUNsaWNrIGVpdGhlci4gVGhpcyBhdm9pZHMgdW53YW50ZWQgTE1WIG9iamVjdCBzZWxlY3Rpb25cbiAgICAgICAgLy8gYWZ0ZXIgY3RybC1jbGljayBvbiBFZGl0MkQgc2hhcGVzLlxuICAgICAgICB0aGlzLmNsaWNrQ29uc3VtZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBzZXRUYW5nZW50R2l6bW9zRW5hYmxlZChlbmFibGVkKSB7XG4gICAgICAgIHRoaXMudGFuZ2VudEdpem1vc0VuYWJsZWQgPSBlbmFibGVkO1xuICAgICAgICBpZiAoZW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUYW5nZW50R2l6bW9zKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyVGFuZ2VudEdpem1vcygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0RWxsaXBzZUFyY0dpem1vRW5hYmxlZChlbmFibGVkKSB7XG4gICAgICAgIHRoaXMuZWxsaXBzZUFyY0dpem1vc0VuYWJsZWQgPSBlbmFibGVkO1xuICAgICAgICB0aGlzLnVwZGF0ZUVsbGlwc2VBcmNHaXptbygpO1xuICAgIH1cblxuICAgIHNldEFsbEdpem1vc0VuYWJsZWQoZW5hYmxlZCkge1xuICAgICAgICB0aGlzLnNldFRhbmdlbnRHaXptb3NFbmFibGVkKGVuYWJsZWQpO1xuICAgICAgICB0aGlzLnNldEVsbGlwc2VBcmNHaXptb0VuYWJsZWQoZW5hYmxlZCk7XG4gICAgICAgIHRoaXMudmVydGV4TW92ZVRvb2wuc2V0QWxsR2l6bW9zRW5hYmxlZChlbmFibGVkKTtcbiAgICAgICAgdGhpcy5lZGdlTW92ZVRvb2wuc2V0QWxsR2l6bW9zRW5hYmxlZChlbmFibGVkKTtcbiAgICB9XG5cbiAgICBzZXRIb3ZlckVuYWJsZWQoZW5hYmxlZCkge1xuXG4gICAgICAgIC8vIE9uIGRpc2FibGUsIG1ha2Ugc3VyZSB0aGF0IHdlIGRvbid0IGxlYXZlIGFueSBoaWdobGlnaHQgYmVoaW5kXG4gICAgICAgIGlmICh0aGlzLmhvdmVyRW5hYmxlZCAmJiAhZW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2V0SG92ZXJlZChudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaG92ZXJFbmFibGVkID0gZW5hYmxlZDtcbiAgICB9XG5cbiAgICAvLyBFbmFibGUgdGhlIGFyZWEgbGFiZWxzIChwdWJsaWMgQVBJKVxuICAgIHNldEFyZWFMYWJlbFZpc2libGUodmlzaWJsZSkge1xuICAgICAgICB0aGlzLmFyZWFMYWJlbC5zZXRWaXNpYmxlKHZpc2libGUpO1xuICAgIH1cblxuICAgIC8vIEVuYWJsZSB0aGUgbGVuZ3RoIGxhYmVscyAocHVibGljIEFQSSlcbiAgICBzZXRMZW5ndGhMYWJlbFZpc2libGUodmlzaWJsZSkge1xuICAgICAgICB0aGlzLmVkZ2VNb3ZlVG9vbC5zZXRMZW5ndGhMYWJlbFZpc2libGUodmlzaWJsZSk7XG4gICAgfVxuXG4gICAgZ2V0TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFBvbHlnb25FZGl0VG9vbE5hbWUgKyB0aGlzLm5hbWVTdWZmaXg7XG4gICAgfVxuXG4gICAgZGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgc3VwZXIuZGVhY3RpdmF0ZSgpO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHZlcnRleC1naXptb3MsIGFuZCB0YW5nZW50IGdpem1vcy5cbiAgICB1cGRhdGVBbGxHaXptb3MoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGFuZ2VudEdpem1vcygpO1xuICAgICAgICB0aGlzLnVwZGF0ZUVsbGlwc2VBcmNHaXptbygpO1xuICAgICAgICB0aGlzLnVwZGF0ZU1vdXNlT3ZlckhpZ2hsaWdodHMoKTtcbiAgICAgICAgdGhpcy52ZXJ0ZXhNb3ZlVG9vbC51cGRhdGVBbGxHaXptb3MoKTtcbiAgICAgICAgdGhpcy5lZGdlTW92ZVRvb2wudXBkYXRlQWxsR2l6bW9zKCk7XG4gICAgfVxuXG4gICAgLy8gRmluaXNoZXMgZWRpdGluZyBvZiBhIHByZXZpb3VzIHBvbHlnb25cbiAgICByZXNldCgpIHtcblxuICAgICAgICBpZiAoIXRoaXMucG9seSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wb2x5ID0gbnVsbDtcblxuICAgICAgICB0aGlzLnZlcnRleE1vdmVUb29sLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuZWRnZU1vdmVUb29sLnJlc2V0KCk7XG5cbiAgICAgICAgLy8gQ2xlYXIgYW55IGdpem1vcyBmcm9tIHByZXZpb3VzIHBvbHlnb25cbiAgICAgICAgdGhpcy51cGRhdGVBbGxHaXptb3MoKTtcblxuICAgICAgICAvLyBDbGVhbnVwIGFyZWEgYW5kIGxlbmd0aCBsYWJlbHNcbiAgICAgICAgdGhpcy5hcmVhTGFiZWwuc2V0U2hhcGUobnVsbCk7XG5cbiAgICAgICAgdGhpcy5zbmFwcGVyLnN0b3BBbmdsZVNuYXBwaW5nKCk7XG4gICAgfVxuXG4gICAgLy8gU2VsZWN0cyBhIG5ldyBwb2x5Z29uIC8gcG9seWxpbmUgZm9yIGVkaXRpbmdcbiAgICBzZXRFZGl0UG9seShwb2x5KSB7XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIGlmIChwb2x5KSB7XG4gICAgICAgICAgICB0aGlzLnBvbHkgPSBwb2x5O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBbGxHaXptb3MoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN5bmMgbGFiZWwgd2l0aCBwb2x5Z29uIG9yIHBvbHlsaW5lLiBJZiB0aGlzLnBvbHkgaXMgbnVsbCwgaXQgd2lsbCBiZSBoaWRkZW5cbiAgICAgICAgY29uc3QgcG9seWdvbiA9IHBvbHkgJiYgcG9seS5pc1BvbHlnb24oKSA/IHBvbHkgOiBudWxsO1xuICAgICAgICB0aGlzLmFyZWFMYWJlbC5zZXRTaGFwZShwb2x5Z29uKTtcbiAgICB9XG5cbiAgICBpbnNlcnRQb2ludChwb2x5SW5kZXgsIHApIHtcblxuICAgICAgICB0aGlzLnJ1bkFjdGlvbihuZXcgQWN0aW9ucy5BZGRWZXJ0ZXgodGhpcy5sYXllciwgdGhpcy5wb2x5LCBwb2x5SW5kZXgsIHApKTtcblxuICAgICAgICAvLyByZW1vdmV1cGRhdGUgZWRnZSBnaXptb3MgYW5kIHRhbmdlbnQgZ2l6bW9zXG4gICAgICAgIHRoaXMudXBkYXRlQWxsR2l6bW9zKCk7XG5cbiAgICAgICAgLy8gRGlzcGxheSBwb2x5Z29uIGNoYW5nZSBhbmQgbmV3IGdpem1vXG4gICAgICAgIHRoaXMubGF5ZXIudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGxvb3AgKGluY2x1ZGluZyBhbnkgb3RoZXIgbG9vcCBpdCBjb250YWlucylcbiAgICByZW1vdmVMb29wKGxvb3BJbmRleCkge1xuXG4gICAgICAgIC8vIENvbGxlY3QgYWxsIGxvb3BzIHRvIHJlbW92ZVxuICAgICAgICBjb25zdCBsb29wc1RvUmVtb3ZlID0gdGhpcy5wb2x5LmdldENoaWxkTG9vcHMobG9vcEluZGV4KTtcbiAgICAgICAgbG9vcHNUb1JlbW92ZS5wdXNoKGxvb3BJbmRleCk7XG5cbiAgICAgICAgY29uc3QgYWN0aW9uID0gbmV3IEFjdGlvbnMuUmVtb3ZlTG9vcHModGhpcy5sYXllciwgdGhpcy5wb2x5LCBsb29wc1RvUmVtb3ZlKTtcbiAgICAgICAgdGhpcy5ydW5BY3Rpb24oYWN0aW9uKTtcblxuICAgICAgICAvLyBSZXNldCB2ZXJ0ZXgvZWRnZSBzZWxlY3Rpb24uIFdlIGNhbm5vdCBrZWVwIGl0IGJlY2F1c2UgdGhlIG1lYW5pbmcgb2YgbG9vcEluZGljZXMgaGFzIGNoYW5nZWQuXG4gICAgICAgIHRoaXMudmVydGV4TW92ZVRvb2wuc2V0U2VsZWN0ZWRWZXJ0ZXgobnVsbCk7XG4gICAgICAgIHRoaXMuZWRnZU1vdmVUb29sLnNldFNlbGVjdGVkRWRnZShudWxsKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUFsbEdpem1vcygpO1xuICAgICAgICB0aGlzLmxheWVyLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIHJlbW92ZVBvaW50KHBvbHlJbmRleCkge1xuXG4gICAgICAgIGNvbnN0IHsgbG9vcCB9ID0gcG9seUluZGV4O1xuXG4gICAgICAgIC8vIElmIHJlbW92aW5nIGEgdmVydGV4IHdvdWxkIG1ha2UgdGhlIGxvb3AgZGVnZW5lcmF0ZSwgcmVtb3ZlIGl0IGNvbXBsZXRlbHlcbiAgICAgICAgY29uc3QgbWluVmVydHMgPSB0aGlzLnBvbHkuaXNQb2x5Z29uKCkgPyAzIDogMjtcbiAgICAgICAgaWYgKHRoaXMucG9seS5nZXRWZXJ0ZXhDb3VudChsb29wKSA8PSBtaW5WZXJ0cykge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVMb29wKGxvb3ApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ydW5BY3Rpb24obmV3IEFjdGlvbnMuUmVtb3ZlVmVydGV4KHRoaXMubGF5ZXIsIHRoaXMucG9seSwgcG9seUluZGV4KSk7XG5cbiAgICAgICAgLy8gdXBkYXRlIHZlcnRleCBnaXptb3NcbiAgICAgICAgdGhpcy52ZXJ0ZXhNb3ZlVG9vbC51cGRhdGVWZXJ0ZXhHaXptb3MoKTtcblxuICAgICAgICAvLyB1cGRhdGUgZWRnZSBnaXptb3MgYW5kIHRhbmdlbnQgZ2l6bW9zXG4gICAgICAgIHRoaXMudXBkYXRlQWxsR2l6bW9zKCk7XG5cbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgdGhpcyB2ZXJ0ZXggaXMgbm90IHNlbGVjdGVkIGFueW1vcmVcbiAgICAgICAgaWYgKHBvbHlJbmRleC5lcXVhbHModGhpcy52ZXJ0ZXhNb3ZlVG9vbC5zZWxlY3RlZFZlcnRleCkpIHtcbiAgICAgICAgICAgIHRoaXMudmVydGV4TW92ZVRvb2wuc2V0U2VsZWN0ZWRWZXJ0ZXgobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVbnNlbGVjdCBlZGdlIGlmIGVkZ2VJbmRleCBnb3QgaW52YWxpZFxuICAgICAgICB0aGlzLmVkZ2VNb3ZlVG9vbC5zZXRTZWxlY3RlZEVkZ2UobnVsbCk7XG5cbiAgICAgICAgdGhpcy5sYXllci51cGRhdGUoKTtcbiAgICB9XG5cbiAgICBpc1NpbmdsZUxpbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvbHkgJiYgdGhpcy5wb2x5Lmxvb3BDb3VudCA9PT0gMSAmJiB0aGlzLnBvbHkuZ2V0VmVydGV4Q291bnQoMCkgPT09IDI7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIGdpdmVuIG1vdXNlUG9zIChpbiBsYXllckNvb3JkcykgaXMgbG9jYXRlZCBjbG9zZSB0byBhbiBlZGdlIChub3QgZWRnZSBnaXptbyksXG4gICAgLy8gdGhlIGVkZ2UgaW5kZXggaXMgcmV0dXJuZWQsIG90aGVyd2lzZSBudWxsLlxuICAgIC8vICBAcmV0dXJucyB7UG9seUluZGV4fG51bGx9XG4gICAgZmluZEVkZ2VVbmRlck1vdXNlKHBvcykge1xuICAgICAgICBpZiAoIXRoaXMucG9seSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwcmVjaXNpb24gPSBFZGdlU2VsZWN0VG9sZXJhbmNlICogdGhpcy5sYXllci5nZXRVbml0c1BlclBpeGVsKCk7XG4gICAgICAgIGZvciAobGV0IGw9MDsgbDx0aGlzLnBvbHkubG9vcENvdW50OyBsKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gIHRoaXMucG9seS5maW5kRWRnZUluZGV4KHBvcywgcHJlY2lzaW9uLCBsKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBvbHlJbmRleCh7IHZlcnRleDogaW5kZXgsIGxvb3A6IGwgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2tzIGlmIGEgcG9pbnQgcCBjYW4gYmUgaW5zZXJ0ZWQgdG8gc3BsaXQgdGhlIGdpdmVuIGVkZ2UuIElmIHNvLCBpdCByZXR1cm5zIHRoZSBwcm9qZWN0ZWRcbiAgICAvLyBwb3NpdGlvbiB0aGF0IGlzIGxvY2F0ZWQgZXhhY3RseSBvbiBlZGdlIHRvIGJlIHNwbGl0LlxuICAgIC8vXG4gICAgLy8gIEBwYXJhbSB7VmVjdG9yMn0gcCAgICAgICAgICAgLSBwb3MgaW4gbGF5ZXIgY29vcmRzIC0gdXN1YWxseSBjbG9zZSB0byBnaXZlbiBlZGdlLlxuICAgIC8vICBAcGFyYW0ge1BvbHlJbmRleH0gcG9seUluZGV4IC0gaW5kZXggb2YgdGhlIGVkZ2UgdG8gYmUgc3BsaXQgYnkgdGhpcyB2ZXJ0ZXhcbiAgICAvLyAgQHJldHVybnMge1ZlY3RvcjJ8bnVsbH0gQWRqdXN0ZWQgcG9zaXRpb24gd2hlcmUgdGhlIG5ldyBwb2ludCB3aWxsIGJlIGFkZGVkLlxuICAgIGdldE5ld1ZlcnRleFBvc2l0aW9uKHAsIHBvbHlJbmRleCkge1xuXG4gICAgICAgIGlmICghdGhpcy5wb2x5IHx8ICFwb2x5SW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZWRnZUluZGV4ID0gcG9seUluZGV4LnZlcnRleDtcbiAgICAgICAgY29uc3QgbG9vcEluZGV4ID0gcG9seUluZGV4Lmxvb3A7XG4gICAgICAgIGlmICghdGhpcy5wb2x5LmVkZ2VJbmRleFZhbGlkKGVkZ2VJbmRleCwgbG9vcEluZGV4KSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgZWRnZVxuICAgICAgICBjb25zdCBhID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcbiAgICAgICAgY29uc3QgYiA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gICAgICAgIHRoaXMucG9seS5nZXRFZGdlKGVkZ2VJbmRleCwgYSwgYiwgbG9vcEluZGV4KTtcblxuICAgICAgICAvLyBnZXQgZWRnZSBkaXJlY3Rpb25cbiAgICAgICAgY29uc3QgZWRnZURpciA9IE1hdGgyRC5nZXRFZGdlRGlyZWN0aW9uKGEsIGIpO1xuXG4gICAgICAgIC8vIGNvbXB1dGUgcHJvamVjdGlvbiBvZiBwIHRvIHRoZSBsaW5lIHNwYW5uZWQgYnkgdGhlIGVkZ2VcbiAgICAgICAgY29uc3QgbmV3UG9zID0gcC5jbG9uZSgpO1xuICAgICAgICBNYXRoMkQucHJvamVjdFRvTGluZShuZXdQb3MsIGEsIGVkZ2VEaXIpO1xuXG4gICAgICAgIC8vIFJlamVjdCBwb3NpdGlvbiBpZiB0aGUgcHJvamVjdGlvbiBpcyBvdXRzaWRlIHRoZSBzZWdtZW50XG4gICAgICAgIGlmICghTWF0aDJELmlzUG9pbnRPbkVkZ2UobmV3UG9zLCBhLCBiLCAwLjAwMDEpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJldHVybiBwb3NpdGlvbiB3aGVyZSB0byBpbnNlcnQgdGhlIG5ldyB2ZXJ0ZXhcbiAgICAgICAgcmV0dXJuIG5ld1BvcztcbiAgICB9XG5cbiAgICBoYW5kbGVCdXR0b25Eb3duKGV2ZW50LCBidXR0b24pIHtcbiAgICAgICAgLy8gU3VwcG9ydCBzdXBwcmVzc2luZyBtb3VzZSBidXR0b25zIGJ5IGhvbGRpbmcgYSBrZXlcbiAgICAgICAgaWYgKHRoaXMuaWdub3JlRHJhZ2dpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLmhhbmRsZUJ1dHRvbkRvd24oZXZlbnQsIGJ1dHRvbik7XG5cbiAgICAgICAgLy8gT25seSByZXNwb25kIHRvIGxlZnQgbW91c2UgYnV0dG9uLlxuICAgICAgICBpZiAoIWJ1dHRvbiA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwID0gdGhpcy5sYXllci5jYW52YXNUb0xheWVyKGV2ZW50LmNhbnZhc1gsIGV2ZW50LmNhbnZhc1kpO1xuICAgICAgICB0aGlzLm1vdXNlUG9zLmNvcHkocCk7XG5cbiAgICAgICAgaWYgKHRoaXMudmVydGV4TW92ZVRvb2wuaGFuZGxlQnV0dG9uRG93bihldmVudCwgYnV0dG9uKSkge1xuICAgICAgICAgICAgdGhpcy5lZGdlTW92ZVRvb2wuc2V0U2VsZWN0ZWRFZGdlKG51bGwpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBOb3RlOiBJbiBMTVYsIFRvb2xDb250cm9sbGVyIGhhbmRsZXMgY29tbWFuZCBrZXkgYW5kIGN0cmwga2V5IGluIHRoZSBzYW1lIHdheS5cbiAgICAgICAgLy8gICAgICAgRm9yIGNvbnNpc3RlbmN5LCB3ZSBkbyB0aGUgc2FtZSBoZXJlLlxuICAgICAgICBjb25zdCBjdHJsSG9sZCA9IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleTtcblxuICAgICAgICAvLyBIYW5kbGUgVmVydGV4LUFkZDogQ2hlY2sgaWYgd2UgaG9sZCBjdHJsIGFuZCBoaXQgYW4gZWRnZVxuICAgICAgICBsZXQgbmV3VmVydGV4ID0gLTE7XG4gICAgICAgIGlmIChjdHJsSG9sZCkge1xuICAgICAgICAgICAgLy8gSXMgbW91c2UgY2xvc2UgdG8gYW4gZWRnZSBhbmQgY2FuIGJlIHByb2plY3RlZCBvbnRvIHRoYXQgZWRnZT9cbiAgICAgICAgICAgIGNvbnN0IGVkZ2VJbmRleCA9IHRoaXMuZmluZEVkZ2VVbmRlck1vdXNlKHRoaXMubW91c2VQb3MpO1xuICAgICAgICAgICAgY29uc3QgbmV3VmVydGV4UG9zID0gdGhpcy5nZXROZXdWZXJ0ZXhQb3NpdGlvbih0aGlzLm1vdXNlUG9zLCBlZGdlSW5kZXgpO1xuICAgICAgICAgICAgaWYgKG5ld1ZlcnRleFBvcykge1xuICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IGluc2VydCBleGFjdGx5IGF0IHRoZSBtb3VzZSBwb3NpdGlvbi4gSW5zdGVhZCwgbmV3IHZlcnRpY2VzXG4gICAgICAgICAgICAgICAgLy8gYXJlIGFsd2F5cyBsb2NhdGVkIGV4YWN0bHkgb24gdGhlIGVkZ2UgYmVpbmcgc3BsaXQuIFRoZXJlZm9yZSwgbmV3VmVydGV4UG9zIGlzXG4gICAgICAgICAgICAgICAgLy8gdXN1YWxseSBzbGlnaHRseSBkaWZmZXJlbnQgZnJvbSBtb3VzZVBvcy5cblxuICAgICAgICAgICAgICAgIC8vIGluc2VydCBuZXcgdmVydGV4IGFmdGVyIGVkZ2Ugc3RhcnRpbmcgcG9pbnRcbiAgICAgICAgICAgICAgICBuZXdWZXJ0ZXggPSBuZXcgUG9seUluZGV4KHt2ZXJ0ZXg6IGVkZ2VJbmRleC52ZXJ0ZXggKyAxLCBsb29wOiBlZGdlSW5kZXgubG9vcH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0UG9pbnQobmV3VmVydGV4LCBuZXdWZXJ0ZXhQb3MpO1xuXG4gICAgICAgICAgICAgICAgLy8gQWxsb3cgdG8gZHJhZyB0aGUgbmV3IHZlcnRleCBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vdXNlVHJhY2tlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdXNlVHJhY2tlci5zdGFydFRyYWNraW5nKHRoaXMuZ2V0TmFtZSgpLEF1dG9kZXNrLkVkaXQyRC5UcmFja2luZ3MuQnV0dG9uRG93bik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4TW92ZVRvb2wuc3RhcnREcmFnVmVydGV4KGV2ZW50LCBuZXdWZXJ0ZXgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgZHJhZ2dpbmcgb2YgVGFuZ2VudEdpem1vIGNvbnRyb2wgcG9pbnRzIGZvciBCZXppZXIgYXJjcy5cbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPHRoaXMudGFuZ2VudEdpem1vcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZ2l6bW8gPSB0aGlzLnRhbmdlbnRHaXptb3NbaV07XG4gICAgICAgICAgICBpZiAoZ2l6bW8ub25CdXR0b25Eb3duKGV2ZW50LmNhbnZhc1gsIGV2ZW50LmNhbnZhc1kpKSB7XG4gICAgICAgICAgICAgICAgLy8gV2Ugc3RhcnRlZCBkcmFnZ2luZyBvZiBhIEJlemllciBjb250cm9sIHBvaW50XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgZHJhZ2dpbmcgb2YgRWxsaXBzZUFyYyBnaXptb1xuICAgICAgICBpZiAodGhpcy5lbGxpcHNlQXJjR2l6bW8uc3RhcnREcmFnKGV2ZW50LmNhbnZhc1gsIGV2ZW50LmNhbnZhc1kpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tb3VzZVRyYWNrZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlVHJhY2tlci5zdGFydFRyYWNraW5nKHRoaXMuZ2V0TmFtZSgpLEF1dG9kZXNrLkVkaXQyRC5UcmFja2luZ3MuQnV0dG9uRG93bik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBXZSBzdGFydGVkIGRyYWdnaW5nIGFuIGVsbGlwc2UgYXJjXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlc2V0IHNlbGVjdGlvbiBoaWdobGlnaHRpbmcgb2YgdmVydGljZXMuXG4gICAgICAgIHRoaXMudmVydGV4TW92ZVRvb2wuc2V0U2VsZWN0ZWRWZXJ0ZXgobnVsbCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZWRnZU1vdmVUb29sLmhhbmRsZUJ1dHRvbkRvd24oZXZlbnQsIGJ1dHRvbikpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGFuZ2VudEdpem1vcygpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGxpcHNlQXJjR2l6bW8oKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgd2hpY2ggcG9seWdvbiB3YXMgaGl0XG4gICAgICAgIGxldCBuZXdQb2x5Z29uID0gdGhpcy5sYXllci5oaXRUZXN0KHAueCwgcC55KTtcblxuICAgICAgICAvLyBIYW5kbGUgbXVsdGlzZWxlY3RcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlTXVsdGlzZWxlY3Rpb24gJiYgY3RybEhvbGQgJiYgbmV3UG9seWdvbikge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24udG9nZ2xlU2VsZWN0aW9uKG5ld1BvbHlnb24pO1xuXG4gICAgICAgICAgICAvLyBlYXQgbW91c2VVcCBldmVudCBhcyB3ZWxsLiBPdGhlcndpc2UsIExNViBkZWZhdWx0SGFuZGxlciB3aWxsIHNlbGVjdCBvYmplY3RzIGluIHRoZSBiYWNrZ3JvdW5kIGluIHBhcmFsbGVsXG4gICAgICAgICAgICB0aGlzLmNsaWNrQ29uc3VtZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiBjbGljayB3YXMgY2xvc2UgdG8gYW4gZWRnZSBvZiB0aGUgY3VycmVudCBwb2x5Z29uLlxuICAgICAgICBjb25zdCBlZGdlSW5kZXggPSB0aGlzLnBvbHkgJiYgdGhpcy5maW5kRWRnZVVuZGVyTW91c2UodGhpcy5tb3VzZVBvcyk7XG5cbiAgICAgICAgLy8gU2luY2UgdG9sZXJhbmNlIGZvciBlZGdlIHNlbGVjdGlvbiBpcyBoaWdoZXIsIHRoZSBlZGdlIHNoYXBlIGhpdFRlc3QgbWF5IHNsaWdodGx5IG1pc3NcbiAgICAgICAgLy8gdGhlIHBvbHlnb24sIGJ1dCB3ZSBtYXkgYmUgY2xvc2UgdG8gYW4gZWRnZS4gSW4gdGhpcyBjYXNlLCBjb25zaWRlciB0aGUgc2hhcGUgYXMgYmVpbmcgaXQgYXMgd2VsbC5cbiAgICAgICAgaWYgKCFuZXdQb2x5Z29uICYmIGVkZ2VJbmRleCkge1xuICAgICAgICAgICAgbmV3UG9seWdvbiA9IHRoaXMucG9seTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHdlIGp1c3QgY2xpY2tlZCBpbnNpZGUgdGhlIGFscmVhZHkgc2VsZWN0ZWQgcG9seWdvbiwgZGVsZWdhdGUgaXQgdG8gTW92ZVRvb2wuXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbi5zaGFwZUlzU2VsZWN0ZWQobmV3UG9seWdvbikpIHtcblxuICAgICAgICAgICAgY29uc3QgbG9vcEluZGV4ID0gZWRnZUluZGV4ID8gZWRnZUluZGV4Lmxvb3AgOiAtMTtcblxuICAgICAgICAgICAgLy8gQWxsb3cgbW92aW5nIGxvb3BzIC0gdW5sZXNzIGl0IGlzIGEgc2luZ2xlIG91dGVyIG9uZVxuICAgICAgICAgICAgY29uc3QgbWFpbkxvb3BzID0gdGhpcy5wb2x5ICYmIHRoaXMucG9seS5nZXRNYWluTG9vcHMoKTtcbiAgICAgICAgICAgIGNvbnN0IGlzT25seU1haW5Mb29wID0gbWFpbkxvb3BzICYmIChtYWluTG9vcHMubGVuZ3RoID09PSAxKSAmJiAobWFpbkxvb3BzWzBdID09PSBsb29wSW5kZXgpO1xuXG4gICAgICAgICAgICAvLyBIYW5kbGUgc2luZ2xlLWxvb3AgbW92ZVxuICAgICAgICAgICAgY29uc3QgbW92ZUxvb3AgPSBlZGdlSW5kZXggJiYgIWlzT25seU1haW5Mb29wO1xuICAgICAgICAgICAgaWYgKG1vdmVMb29wKSB7XG4gICAgICAgICAgICAgICAgLy8gTW92ZSBzaW5nbGUgbG9vcFxuICAgICAgICAgICAgICAgIHRoaXMubW92ZVRvb2wuc3RhcnREcmFnKFt0aGlzLnBvbHldLCBwLCBsb29wSW5kZXgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIHNlbGVjdGVkIHNoYXBlKHMpXG4gICAgICAgICAgICAgICAgY29uc3Qgc2hhcGVzVG9Nb3ZlID0gdGhpcy5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRTaGFwZXMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVUb29sLnN0YXJ0RHJhZyhzaGFwZXNUb01vdmUsIHApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGUgY2xpY2tlZCBvYmplY3QgaXMgbmVpdGhlciBwb2x5Z29uIG5vciBwb2x5bGluZSwgaWdub3JlIGl0LlxuICAgICAgICBjb25zdCBpc1BvbHlnb24gID0gbmV3UG9seWdvbiBpbnN0YW5jZW9mIFBvbHlnb247XG4gICAgICAgIGNvbnN0IGlzUG9seWxpbmUgPSBuZXdQb2x5Z29uIGluc3RhbmNlb2YgUG9seWxpbmU7XG4gICAgICAgIGNvbnN0IGlzUGF0aCAgICAgPSBuZXdQb2x5Z29uIGluc3RhbmNlb2YgUGF0aDtcbiAgICAgICAgaWYgKCFpc1BvbHlnb24gJiYgIWlzUG9seWxpbmUgJiYgIWlzUGF0aCkge1xuICAgICAgICAgICAgbmV3UG9seWdvbiA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgc2VsZWN0aW9uIHRvIGN1cnJlbnQgcG9seWdvbi4gVGhpcyB3aWxsIGFsc28gdHJpZ2dlciBzZXRFZGl0UG9seSgpXG4gICAgICAgIC8vIHZpYSBzZWxlY3Rpb25DaGFuZ2VkIGV2ZW50LlxuICAgICAgICB0aGlzLnNlbGVjdGlvbi5zZWxlY3RPbmx5KG5ld1BvbHlnb24pO1xuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBoYW5kbGVTaW5nbGVDbGljayhlKSB7XG4gICAgICAgIHN1cGVyLmhhbmRsZVNpbmdsZUNsaWNrKGUpO1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZWQgPSB0aGlzLmNsaWNrQ29uc3VtZWQgfHwgQm9vbGVhbih0aGlzLnBvbHkpO1xuXG4gICAgICAgIGlmICh0aGlzLm1vdXNlVHJhY2tlcikge1xuICAgICAgICAgICAgdGhpcy5tb3VzZVRyYWNrZXIuc3RvcFRyYWNraW5nKHRoaXMuZ2V0TmFtZSgpLEF1dG9kZXNrLkVkaXQyRC5UcmFja2luZ3MuQ2xpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jbGlja0NvbnN1bWVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBoYW5kbGVkO1xuICAgIH1cblxuICAgIGhhbmRsZU1vdXNlTW92ZShldmVudCkge1xuICAgICAgICBzdXBlci5oYW5kbGVNb3VzZU1vdmUoZXZlbnQpO1xuXG4gICAgICAgIHRoaXMubW91c2VQb3MuY29weSh0aGlzLmxheWVyLmNhbnZhc1RvTGF5ZXIoZXZlbnQuY2FudmFzWCwgZXZlbnQuY2FudmFzWSkpO1xuICAgICAgICB0aGlzLnVwZGF0ZU1vdXNlT3ZlckhpZ2hsaWdodHMoKTtcblxuICAgICAgICBpZiAodGhpcy5tb3ZlVG9vbC5pc0RyYWdnaW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvb2wubW92ZURyYWcodGhpcy5tb3VzZVBvcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMucG9seSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudmVydGV4TW92ZVRvb2wuaGFuZGxlTW91c2VNb3ZlKGV2ZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5lZGdlTW92ZVRvb2wuaGFuZGxlTW91c2VNb3ZlKGV2ZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiB3ZSBhcmUgZHJhZ2dpbmcgYW4gZW5kcG9pbnQgb2YgYW55IHRhbmdlbnQgZ2l6bW9cbiAgICAgICAgY29uc3QgdGFuZ2VudEdpem1vID0gdGhpcy5maW5kRHJhZ2dlZFRhbmdlbnRHaXptbygpO1xuICAgICAgICBpZiAodGFuZ2VudEdpem1vKSB7XG4gICAgICAgICAgICB0YW5nZW50R2l6bW8ubW92ZURyYWcoZXZlbnQuY2FudmFzWCwgZXZlbnQuY2FudmFzWSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiB3ZSBhcmUgZHJhZ2dpbmcgdGhlIGVsbGlwc2VBcmMgZ2l6bW9cbiAgICAgICAgaWYgKHRoaXMuZWxsaXBzZUFyY0dpem1vLmRyYWdnaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGxpcHNlQXJjR2l6bW8ubW92ZURyYWcoZXZlbnQuY2FudmFzWCwgZXZlbnQuY2FudmFzWSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaGFuZGxlQnV0dG9uVXAoZXZlbnQsIGJ1dHRvbikge1xuICAgICAgICBzdXBlci5oYW5kbGVCdXR0b25VcChldmVudCwgYnV0dG9uKTtcblxuICAgICAgICAvLyBBdm9pZCB0cmlnZ2VyaW5nIHRoZSBoYW5kbGVyIGZvciBleHRlcm5hbCBtb2RpZmljYXRpb25zLCBiZWNhdXNlIHdlIGNvbnRyb2wgdGhlIEVkZ2VNb3ZlVG9vbCBvdXJzZWx2ZXNcbiAgICAgICAgdGhpcy5pZ25vcmVBY3Rpb25zID0gdHJ1ZTtcbiAgICAgICAgbGV0IGhhbmRsZWQgPSB0aGlzLnZlcnRleE1vdmVUb29sLmhhbmRsZUJ1dHRvblVwKGV2ZW50LCBidXR0b24pO1xuICAgICAgICB0aGlzLmlnbm9yZUFjdGlvbnMgPSBmYWxzZTtcblxuICAgICAgICBpZiAoaGFuZGxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBdm9pZCB0cmlnZ2VyaW5nIHRoZSBoYW5kbGVyIGZvciBleHRlcm5hbCBtb2RpZmljYXRpb25zLCBiZWNhdXNlIHdlIGNvbnRyb2wgdGhlIEVkZ2VNb3ZlVG9vbCBvdXJzZWx2ZXNcbiAgICAgICAgdGhpcy5pZ25vcmVBY3Rpb25zID0gdHJ1ZTtcbiAgICAgICAgaGFuZGxlZCA9IHRoaXMuZWRnZU1vdmVUb29sLmhhbmRsZUJ1dHRvblVwKGV2ZW50LCBidXR0b24pO1xuICAgICAgICB0aGlzLmlnbm9yZUFjdGlvbnMgPSBmYWxzZTtcblxuICAgICAgICBpZiAoaGFuZGxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5tb3ZlVG9vbC5pc0RyYWdnaW5nKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSB0aGlzLmxheWVyLmNhbnZhc1RvTGF5ZXIoZXZlbnQuY2FudmFzWCwgZXZlbnQuY2FudmFzWSk7XG5cbiAgICAgICAgICAgIC8vIEF2b2lkIHRyaWdnZXJpbmcgdGhlIGhhbmRsZXIgZm9yIGV4dGVybmFsIG1vZGlmaWNhdGlvbnMsIGJlY2F1c2Ugd2UgY29udHJvbCB0aGUgTW92ZVRvb2wgb3Vyc2VsdmVzXG4gICAgICAgICAgICB0aGlzLmlnbm9yZUFjdGlvbnMgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG9vbC5lbmREcmFnKHApO1xuICAgICAgICAgICAgdGhpcy5pZ25vcmVBY3Rpb25zID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UgYXJlIGRyYWdnaW5nIGFuIGVuZHBvaW50IG9mIGFueSB0YW5nZW50IGdpem1vXG4gICAgICAgIGNvbnN0IHRhbmdlbnRHaXptbyA9IHRoaXMuZmluZERyYWdnZWRUYW5nZW50R2l6bW8oKTtcbiAgICAgICAgaWYgKHRhbmdlbnRHaXptbykge1xuICAgICAgICAgICAgaWYgKHRoaXMubW91c2VUcmFja2VyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZVRyYWNrZXIuc3RvcFRyYWNraW5nKHRoaXMuZ2V0TmFtZSgpLEF1dG9kZXNrLkVkaXQyRC5UcmFja2luZ3MuQnV0dG9uVXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFuZ2VudEdpem1vLmVuZERyYWcoZXZlbnQuY2FudmFzWCwgZXZlbnQuY2FudmFzWSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiB3ZSBhcmUgZHJhZ2dpbmcgdGhlIGNlbnRlciBvZiBhbiBlbGxpcHNlIGFyY1xuICAgICAgICBpZiAodGhpcy5lbGxpcHNlQXJjR2l6bW8uZHJhZ2dpbmcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdXNlVHJhY2tlcikge1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2VUcmFja2VyLnN0b3BUcmFja2luZyh0aGlzLmdldE5hbWUoKSxBdXRvZGVzay5FZGl0MkQuVHJhY2tpbmdzLkJ1dHRvblVwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZWxsaXBzZUFyY0dpem1vLmVuZERyYWcoZXZlbnQuY2FudmFzWCwgZXZlbnQuY2FudmFzWSk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdlIGxldCBvdGhlciB0b29scyBkb3duIHRoZSBzdGFjayBzdWNoIGFzIHRoZSBNb3ZlVG9vbCBhbmQgRWRnZU1vdmVUb29sIGhhbmRsZSB0aGUgYnV0dG9uIHVwLlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gRXhjbHVkZSBjdXJyZW50bHkgZWRpdGVkIHBvbHlnb24gZnJvbSBzbmFwcGluZzogVGhlIHBvbHlnb24gc2hvdWxkbid0IHNuYXAgdG8gaXRzZWxmLCBidXQgcmF0aGVyXG4gICAgLy8gdG8gZ2VvbWV0cnkgYmVsb3cgaXQuXG4gICAgc25hcHBpbmdGaWx0ZXIoc2hhcGUpIHtcbiAgICAgICAgcmV0dXJuIHNoYXBlICE9PSB0aGlzLnBvbHk7XG4gICAgfVxuXG4gICAgLy8gSWYgc2VsZWN0aW9uIGNoYW5nZXMgKG1heSBhbHNvIGJlIHRyaWdnZXJlZCBvdXRzaWRlIHRoaXMgdG9vbCksIHdlIGNob29zZSB0aGUgc2VsZWN0ZWQgcG9seW9uIGZvciBlZGl0aW5nXG4gICAgb25TZWxlY3Rpb25DaGFuZ2VkKCkge1xuICAgICAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuc2VsZWN0aW9uLmdldFNlbGVjdGVkU2hhcGVzKCk7XG5cbiAgICAgICAgLy8gQWN0aXZhdGUgaWYgZXhhY3RseSBvbmUgc2hhcGUgaXMgc2VsZWN0ZWRcbiAgICAgICAgY29uc3Qgc2hhcGUgPSAoc2VsZWN0ZWQubGVuZ3RoID09IDEpID8gc2VsZWN0ZWRbMF0gOiBudWxsO1xuICAgICAgICBpZiAoc2hhcGUgaW5zdGFuY2VvZiBQb2x5QmFzZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRFZGl0UG9seShzaGFwZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldEVkaXRQb2x5KG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52ZXJ0ZXhNb3ZlVG9vbC5vblNlbGVjdGlvbkNoYW5nZWQoKTtcbiAgICAgICAgdGhpcy5lZGdlTW92ZVRvb2wub25TZWxlY3Rpb25DaGFuZ2VkKCk7XG4gICAgfVxuXG4gICAgaGFuZGxlS2V5RG93biggZXZlbnQsIGtleUNvZGUgKSB7XG4gICAgICAgIGxldCBoYW5kbGVkID0gc3VwZXIuaGFuZGxlS2V5RG93bihldmVudCwga2V5Q29kZSk7XG5cbiAgICAgICAgLy8gTmVlZGVkIGluIG9yZGVyIHRvIHVwZGF0ZSBzdXBwcmVzc1NuYXBwaW5nXG4gICAgICAgIHRoaXMudmVydGV4TW92ZVRvb2wuaGFuZGxlS2V5RG93bihldmVudCwga2V5Q29kZSk7XG4gICAgICAgIHRoaXMuZWRnZU1vdmVUb29sLmhhbmRsZUtleURvd24oZXZlbnQsIGtleUNvZGUpO1xuXG4gICAgICAgIGlmIChrZXlDb2RlID09PSB0aGlzLmtleU1hcC5EZWxldGVTZWxlY3RlZFZlcnRleCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucG9seSAmJiB0aGlzLnZlcnRleE1vdmVUb29sLnNlbGVjdGVkVmVydGV4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVQb2ludCh0aGlzLnZlcnRleE1vdmVUb29sLnNlbGVjdGVkVmVydGV4KTtcbiAgICAgICAgICAgICAgICBoYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChrZXlDb2RlID09PSB0aGlzLmtleU1hcC5DYW5jZWxFZGl0KSB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbERyYWcoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBhbiBlZGdlIHRvIHdvcmsgb25cbiAgICAgICAgY29uc3QgdGFyZ2V0RWRnZSA9IHRoaXMuaXNTaW5nbGVMaW5lKCkgPyBuZXcgUG9seUluZGV4KHsgdmVydGV4OiAwLCBsb29wOiAwIH0pIDogdGhpcy5lZGdlTW92ZVRvb2wuc2VsZWN0ZWRFZGdlOyAvLyBJZiB3ZSBoYXZlIGp1c3QgYSBzaW5nbGUgc2VnbWVudCwgd2UgZG9uJ3QgbmVlZCBlZGdlIHNlbGVjdGlvbi5cbiAgICAgICAgY29uc3QgdGFyZ2V0RWRnZVZhbGlkID0gQm9vbGVhbih0aGlzLnBvbHkgJiYgdGFyZ2V0RWRnZSAmJiB0aGlzLnBvbHkuZWRnZUluZGV4VmFsaWQodGFyZ2V0RWRnZS52ZXJ0ZXgsIHRhcmdldEVkZ2UubG9vcCkpO1xuXG4gICAgICAgIGlmIChrZXlDb2RlID09PSB0aGlzLmtleU1hcC5DaGFuZ2VUb0FyYykge1xuXG4gICAgICAgICAgICAvLyBJZiBhIGxpbmUgc2VnbWVudCBpcyBzZWxlY3RlZCwgY29udmVydCBpdCB0byBhbiBhcmNcbiAgICAgICAgICAgIGNvbnN0IGxpbmVTZWdtZW50U2VsZWN0ZWQgPSB0YXJnZXRFZGdlVmFsaWQgJiYgIXRoaXMucG9seS5pc0JlemllckFyYyh0YXJnZXRFZGdlLnZlcnRleCwgdGFyZ2V0RWRnZS5sb29wKTtcbiAgICAgICAgICAgIGlmIChsaW5lU2VnbWVudFNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VFZGdlVG9CZXppZXIodGFyZ2V0RWRnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChrZXlDb2RlID09PSB0aGlzLmtleU1hcC5DaGFuZ2VUb0VsbGlwc2UpIHtcblxuICAgICAgICAgICAgLy8gSWYgYSBsaW5lIHNlZ21lbnQgaXMgc2VsZWN0ZWQsIGNvbnZlcnQgaXQgdG8gYW4gYXJjXG4gICAgICAgICAgICBjb25zdCBzZWdtZW50U2VsZWN0ZWQgPSB0YXJnZXRFZGdlVmFsaWQgJiYgIXRoaXMucG9seS5pc0VsbGlwc2VBcmModGFyZ2V0RWRnZS52ZXJ0ZXgsIHRhcmdldEVkZ2UubG9vcCk7XG4gICAgICAgICAgICBpZiAoc2VnbWVudFNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VFZGdlVG9FbGxpcHNlKHRhcmdldEVkZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoa2V5Q29kZSA9PT0gdGhpcy5rZXlNYXAuQ2hhbmdlVG9MaW5lKSB7XG4gICAgICAgICAgICAvLyBJZiBhbiBhcmMgc2VnbWVudCBpcyBzZWxlY3RlZCwgY29udmVydCBpdCB0byBhIGxpbmVcbiAgICAgICAgICAgIGNvbnN0IGFyY1NlZ21lbnRTZWxlY3RlZCA9IHRhcmdldEVkZ2VWYWxpZCAmJiB0aGlzLnBvbHkuaXNBcmModGFyZ2V0RWRnZS52ZXJ0ZXgsIHRhcmdldEVkZ2UubG9vcCk7XG4gICAgICAgICAgICBpZiAoYXJjU2VnbWVudFNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VFZGdlVG9MaW5lKHRhcmdldEVkZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGhhbmRsZWQ7XG4gICAgfVxuXG4gICAgaGFuZGxlS2V5VXAoZXZlbnQsIGtleUNvZGUpIHtcbiAgICAgICAgY29uc3QgaGFuZGxlZCA9IHN1cGVyLmhhbmRsZUtleVVwKGV2ZW50LCBrZXlDb2RlKTtcblxuICAgICAgICAvLyBOZWVkZWQgaW4gb3JkZXIgdG8gdXBkYXRlIHN1cHByZXNzU25hcHBpbmdcbiAgICAgICAgdGhpcy52ZXJ0ZXhNb3ZlVG9vbC5oYW5kbGVLZXlVcChldmVudCwga2V5Q29kZSk7XG4gICAgICAgIHRoaXMuZWRnZU1vdmVUb29sLmhhbmRsZUtleVVwKGV2ZW50LCBrZXlDb2RlKTtcblxuICAgICAgICByZXR1cm4gaGFuZGxlZDtcbiAgICB9XG5cbiAgICAvLyBJZiBzbmFwcGluZyBoYXMgdG9nZ2xlZCBvbi9vZmYsIHdlIGluc3RhbnRseSBcInJlcGxheVwiIGhvdmVyaW5nIGF0IGN1cnJlbnQgbW91c2UgcG9zaXRpb24uIFB1cnBvc2UgaXMgdG9cbiAgICAvLyBnaXZlIGluc3RhbnQgZmVlZGJhY2sgKGUuZy4gaGlkZS9zaG93IFNuYXBMaW5lIGdpem1vcyBhbmQgYWRqdXN0IHBvc2l0aW9uIG9mIHByZXZpZXcgZWRnZSlcbiAgICBvblNuYXBwaW5nVG9nZ2xlZChjYW52YXNYLCBjYW52YXNZKSB7XG4gICAgICAgIHRoaXMudmVydGV4TW92ZVRvb2wub25TbmFwcGluZ1RvZ2dsZWQoY2FudmFzWCwgY2FudmFzWSk7XG4gICAgfVxuXG4gICAgY2FuY2VsRHJhZygpIHtcblxuICAgICAgICBsZXQgbmVlZHNVcGRhdGUgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy52ZXJ0ZXhNb3ZlVG9vbC5jYW5jZWxEcmFnKCkpIHtcbiAgICAgICAgICAgIG5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmVkZ2VNb3ZlVG9vbC5jYW5jZWxEcmFnKCkpIHtcbiAgICAgICAgICAgIG5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm1vdmVUb29sLmNhbmNlbERyYWcoKSkge1xuICAgICAgICAgICAgbmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50YW5nZW50R2l6bW9zLmZvckVhY2godGcgPT4ge1xuICAgICAgICAgICAgaWYgKHRnLmlzRHJhZ2dpbmcoKSkge1xuICAgICAgICAgICAgICAgIHRnLmNhbmNlbERyYWcoKTtcbiAgICAgICAgICAgICAgICBuZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChuZWVkc1VwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBbGxHaXptb3MoKTtcbiAgICAgICAgICAgIHRoaXMubGF5ZXIudXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5lbGxpcHNlQXJjR2l6bW8uZHJhZ2dpbmcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdXNlVHJhY2tlcikge1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2VUcmFja2VyLnN0b3BUcmFja2luZyh0aGlzLmdldE5hbWUoKSxBdXRvZGVzay5FZGl0MkQuVHJhY2tpbmdzLkRyYWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbGxpcHNlQXJjR2l6bW8uY2FuY2VsRHJhZygpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBbGxHaXptb3MoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc25hcHBlci5jbGVhclNuYXBwaW5nR2l6bW9zKCk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlcyBzZWxlY3Rpb24gb2Ygc2hhcGUocyksIHZlcnRleCwgYW5kIGVkZ2UgYWZ0ZXIgYW4gYWN0aW9uXG4gICAgdXBkYXRlU2VsZWN0aW9uU3RhdGUoYWN0aW9uLCBpc1VuZG8pIHtcblxuICAgICAgICAvLyBJZiB0aGUgYWN0aW9uIGlzIGludm9rZWQgYnkgb3VyIG93biBUYW5nZW50R2l6bW8sIGF0dGFjaCB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGl0ZW0gb24gZmlyc3QgcnVuLlxuICAgICAgICAvLyBUaGlzIGFsbG93cyB1cyB0byByZWNvdmVyIGxhdGVyIHdoZXRoZXIgYSB2ZXJ0ZXggb3IgYW4gZWRnZSB3YXMgc2VsZWN0ZWQuXG4gICAgICAgIGlmIChhY3Rpb24gaW5zdGFuY2VvZiBBY3Rpb25zLkNoYW5nZUJlemllclRhbmdlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGhpbnQgPSBhY3Rpb24uZ2V0U2VsZWN0aW9uSGludChpc1VuZG8pO1xuICAgICAgICAgICAgaWYgKCFoaW50KSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uLnNldFNlbGVjdGlvbkl0ZW0oXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmVydGV4TW92ZVRvb2wuc2VsZWN0ZWRWZXJ0ZXgsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWRnZU1vdmVUb29sLnNlbGVjdGVkRWRnZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgYWN0aW9uIHByb3ZpZGVzIGEgaGludCBob3cgd2Ugc2hvdWxkIHVwZGF0ZSBzZWxlY3Rpb25cbiAgICAgICAgY29uc3QgaGludCA9IGFjdGlvbi5nZXRTZWxlY3Rpb25IaW50KGlzVW5kbyk7XG4gICAgICAgIGlmIChoaW50KSB7XG5cbiAgICAgICAgICAgIC8vIGFwcGx5IHNoYXBlIHNlbGVjdGlvblxuICAgICAgICAgICAgY29uc3Qgc2hhcGVzID0gaGludC5zaGFwZSA/IFtoaW50LnNoYXBlXSA6IGhpbnQuc2hhcGVzO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uKHNoYXBlcyk7XG5cbiAgICAgICAgICAgIHRoaXMudmVydGV4TW92ZVRvb2wuc2V0U2VsZWN0ZWRWZXJ0ZXgoaGludC52ZXJ0ZXgpO1xuICAgICAgICAgICAgdGhpcy5lZGdlTW92ZVRvb2wuc2V0U2VsZWN0ZWRFZGdlKGhpbnQuZWRnZSk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERlZmF1bHQgYmVoYXZpb3IgLSBpZiB3ZSBkb24ndCBrbm93IGFueXRoaW5nIGJldHRlcjpcbiAgICAgICAgLy8gIC0gS2VlcCBzaGFwZSBzZWxlY3RlZCBpZiBzdGlsbCBleGlzdGluZ1xuICAgICAgICAvLyAgLSBSZXNldCB2ZXJ0ZXgvZWRnZSBzZWxlY3Rpb25cblxuICAgICAgICAvLyBJZiBzaGFwZSB3YXMgcmVtb3ZlZCwgcmVzZXQgc3RhdGVcbiAgICAgICAgY29uc3Qgc2hhcGVGb3VuZCA9IEJvb2xlYW4odGhpcy5wb2x5ICYmIHRoaXMubGF5ZXIuZmluZFNoYXBlQnlJZCh0aGlzLnBvbHkuaWQpKTtcbiAgICAgICAgaWYgKCFzaGFwZUZvdW5kKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBwb2x5IHdhcyBtb2RpZmllZCBmcm9tIG91dHNpZGUsIHdlIGNhbid0IGtub3cgaWYgdGhlIHNlbGVjdGVkIHZlcnRleCBvciBlZGdlXG4gICAgICAgIC8vIHN0aWxsIGV4aXN0IG9yIGhhdmUgdGhlIHNhbWUgbWVhbmluZy4gRS5nLiwgd2hlbiB1bmRvL3JlZG9pbmcgYSB2ZXJ0ZXgtaW5zZXJ0LCB0aGUgaW5kaWNlcyBtYXkgaGF2ZSBzaGlmdGVkLlxuICAgICAgICB0aGlzLnZlcnRleE1vdmVUb29sLnNldFNlbGVjdGVkVmVydGV4KG51bGwpO1xuICAgICAgICB0aGlzLmVkZ2VNb3ZlVG9vbC5zZXRTZWxlY3RlZEVkZ2UobnVsbCk7XG4gICAgfVxuXG4gICAgaGFuZGxlRXh0ZXJuYWxBY3Rpb24oYWN0aW9uLCBpc1VuZG8pIHtcblxuICAgICAgICAvLyBtYWtlIHN1cmUgdGhhdCBzZWxlY3RlZCBlZGdlL3ZlcnRleCBhcmUgc3RpbGwgdmFsaWQgKG9yIHN3aXRjaGVkIG9mZilcbiAgICAgICAgdGhpcy51cGRhdGVTZWxlY3Rpb25TdGF0ZShhY3Rpb24sIGlzVW5kbyk7XG5cbiAgICAgICAgLy8gU3RvcCBhbnkgb25nb2luZyBkcmFnLW9wZXJhdGlvbnMgKGUuZy4sIGFuIHVuZG8gb3BlcmF0aW9uIG1pZ2h0IGhhdmUgcmVtb3ZlZCB0aGUgdmVydGV4IHRoYXQgd2UgYXJlIGp1c3QgZHJhZ2dpbmcpXG4gICAgICAgIHRoaXMuY2FuY2VsRHJhZygpO1xuXG4gICAgICAgIC8vIFN5bmMgZ2l6bW9zIGluIGNhc2UgdmVydGljZXMgd2VyZSBtb2RpZmllZFxuICAgICAgICB0aGlzLnVwZGF0ZUFsbEdpem1vcygpO1xuXG4gICAgICAgIHRoaXMuc25hcHBlci5jbGVhclNuYXBwaW5nR2l6bW9zKCk7XG4gICAgfVxuXG5cbiAgICB1cGRhdGVNb3VzZU92ZXJIaWdobGlnaHRzKCkge1xuICAgICAgICAvLyBIYW5kbGUgbW91c2Utb3ZlciBoaWdobGlnaHRpbmcgZm9yIHNoYXBlc1xuICAgICAgICBpZiAodGhpcy5ob3ZlckVuYWJsZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlID0gdGhpcy5sYXllci5oaXRUZXN0KHRoaXMubW91c2VQb3MueCwgdGhpcy5tb3VzZVBvcy55KTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNldEhvdmVyZWRJZChzaGFwZSA/IHNoYXBlLmlkIDogMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRDdXJzb3IoKSB7XG5cbiAgICAgICAgaWYgKCF0aGlzLnBvbHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdGU6IFZlcnRleCBnaXptb3MgYW5kIGVkZ2UgZ2l6bW9zIGFyZSBzZXBhcmF0ZSBEb21FbGVtZW50cyBhbmQgZGVmaW5lIG93biBtb3VzZSBjdXJzb3JzIHZpYSBzdHlsZS5cblxuICAgICAgICBjb25zdCBwID0gdGhpcy5tb3VzZVBvcztcblxuICAgICAgICAvLyBJbmRpY2F0ZTogXCJNb3Zpbmcgd2hvbGUgc2hhcGVcIlxuICAgICAgICAvLyBXaGlsZSBkcmFnZ2luZywga2VlcCB0aGUgbW92ZS1jdXJzb3IsIGV2ZW4gaWYgdGhlIG1vdXNlIGlzIHRlbXBvcmFyaWx5IGxlYXZpbmcgcG9seWdvbiBhbmQgZ2l6bW9zXG4gICAgICAgIGlmICh0aGlzLm1vdmVUb29sLmlzRHJhZ2dpbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuICdtb3ZlJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluZGljYXRlOiBcIk1vdmluZyBhIGdpem1vXCIuIEN1cnJlbnRseSwgd2UgdXNlIHRoZSBzYW1lIGFzIGZvciBzaGFwZSBtb3ZlLiBOb3RlIHRoYXRcbiAgICAgICAgLy8gICAgICAgICAgIHRoZSBjdXJzb3IgZm9yIGdpem1vIGRyYWdnaW5nIG11c3QgYmUgY29uc2lzdGVudCB3aXRoIHRoZSBvbmUgd2UgaGF2ZSBpZiB0aGUgbW91c2UgaXMgb24gdGhlIGdpem1vLlxuICAgICAgICAvLyAgICAgICAgICAgT3RoZXJ3aXNlLCB0aGUgbW91c2UgY3Vyc29yIHdvdWxkIGNoYW5nZSBpdHMgc3RhdGUgd2hlbiB0ZW1wb3JhcmlseSBsZWF2aW5nIHRoZSBnaXptbyBvbiBmYXN0IG1vdmVzLlxuICAgICAgICBjb25zdCB2ZXJ0ZXhFZGdlQ3Vyc29yID0gdGhpcy52ZXJ0ZXhNb3ZlVG9vbC5nZXRDdXJzb3IoKSB8fCB0aGlzLmVkZ2VNb3ZlVG9vbC5nZXRDdXJzb3IoKTtcbiAgICAgICAgaWYgKHZlcnRleEVkZ2VDdXJzb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB2ZXJ0ZXhFZGdlQ3Vyc29yO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5kaWNhdGU6IFwiTW92aW5nIGEgZWxsaXBzZS1hcmMgZ2l6bW9cIiB0byBtb2RpZnkgcmFkaXVzIG9mIGFuIGVsbGlwc2UgYXJjLlxuICAgICAgICBpZiAodGhpcy5lbGxpcHNlQXJjR2l6bW8uZHJhZ2dpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiAnbW92ZSc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiBtb3VzZSBpcyBjbG9zZSB0byBhbiBlZGdlXG4gICAgICAgIGNvbnN0IHByZWNpc2lvbiA9IEVkZ2VTZWxlY3RUb2xlcmFuY2UgKiB0aGlzLmxheWVyLmdldFVuaXRzUGVyUGl4ZWwoKTtcbiAgICAgICAgY29uc3QgZWRnZUluZGV4ID0gdGhpcy5maW5kRWRnZVVuZGVyTW91c2UodGhpcy5tb3VzZVBvcywgcHJlY2lzaW9uKTtcblxuICAgICAgICAvLyBJbmRpY2F0ZTogXCJDbGljayB0byBpbnNlcnQgbmV3IHZlcnRleFwiXG4gICAgICAgIC8vXG4gICAgICAgIC8vIElmIHdlIGFyZSBob2xkaW5nIGRvd24gQ3RybCAob3IgY29tbWFuZCkgYW5kIGhvdmVyIG92ZXIgYW4gZWRnZSwgY2xpY2tpbmcgd291bGQgaW5zZXJ0IGEgdmVydGV4LlxuICAgICAgICBjb25zdCBjdHJsSG9sZCA9IHRoaXMua2V5U3RhdGVbYXYuS2V5Q29kZS5DT05UUk9MXTtcbiAgICAgICAgaWYgKGN0cmxIb2xkKSB7XG4gICAgICAgICAgICBpZiAoZWRnZUluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdjb3B5JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFyZSB3ZSBhYm91dCB0byBtb3ZlIGEgc2hhcGU/XG4gICAgICAgIGNvbnN0IGhpdFJhZGl1cyA9IHRoaXMubGF5ZXIuZ2V0TGluZUhpdFJhZGl1cyh0aGlzLnBvbHkpO1xuICAgICAgICBjb25zdCBtb3ZlU2hhcGUgPSBlZGdlSW5kZXggfHwgdGhpcy5wb2x5LmhpdFRlc3QocC54LCBwLnksIGhpdFJhZGl1cyk7XG4gICAgICAgIGlmIChtb3ZlU2hhcGUpIHtcbiAgICAgICAgICAgIHJldHVybiAnbW92ZSc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyA9PiBKdXN0IGRlZmF1bHQgY3Vyc29yXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgY2xlYXJUYW5nZW50R2l6bW9zKCkge1xuICAgICAgICB0aGlzLnRhbmdlbnRHaXptb3MuZm9yRWFjaChnID0+IGcuZHRvcigpKTtcbiAgICAgICAgdGhpcy50YW5nZW50R2l6bW9zLmxlbmd0aCA9IDA7XG4gICAgfVxuXG4gICAgdXBkYXRlVGFuZ2VudEdpem1vcygpIHtcblxuICAgICAgICAvLyBDbGVhciBhbnkgcHJldmlvdXMgZ2l6bW9zIChpZiBhbnkpXG4gICAgICAgIHRoaXMuY2xlYXJUYW5nZW50R2l6bW9zKCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLnBvbHkgfHwgIXRoaXMucG9seS5pc1BhdGgoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2Ugb25seSBzaG93IGEgdGFuZ2VudCBnaXptbyBpZiBpdCBoYXMgcmVsZXZhbmNlIGZvciB0aGUgc2VsZWN0ZWQgdmVydGV4IG9yIGVkZ2U6XG4gICAgICAgIC8vIEZvciBhIHZlcnRleCB2IHdpdGggbmVpZ2hib3IgZWRnZXMgcHJldkVkZ2UgdW5kIG5leHRFZGdlLCB3ZSBzaG93IGEgdGFuZ2VudCBnaXptbyBpZi4uLlxuICAgICAgICAvLyAgLSB2LCBwcmV2RWRnZSwgb3IgbmV4dEVkZ2UgaXMgc2VsZWN0ZWRcbiAgICAgICAgLy8gIC0gSWYgYW4gZWRnZSBpcyBzZWxlY3RlZCwgdGhlIHNlbGVjdGVkIGVkZ2UgaXMgYW4gYXJjXG4gICAgICAgIC8vICAtIElmIHYgaXMgc2VsZWN0ZWQsIHByZXZFZGdlIG9yIG5leHRFZGdlIGlzIGFuIGFyY1xuICAgICAgICBmb3IgKGxldCBsID0gMDsgbCA8IHRoaXMucG9seS5sb29wQ291bnQ7IGwrKykge1xuICAgICAgICAgICAgY29uc3QgdmVydGV4Q291bnQgPSB0aGlzLnBvbHkuZ2V0VmVydGV4Q291bnQobCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRleENvdW50OyBpKyspIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHN2ID0gdGhpcy52ZXJ0ZXhNb3ZlVG9vbC5zZWxlY3RlZFZlcnRleDtcbiAgICAgICAgICAgICAgICBjb25zdCB2ZXJ0ZXhTZWxlY3RlZCA9IEJvb2xlYW4oc3YgJiYgc3YudmVydGV4ID09PSBpICYmIHN2Lmxvb3AgPT09IGwpO1xuXG4gICAgICAgICAgICAgICAgLy8gZ2V0IHByZXYvbmV4dCBlZGdlLlxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZFZGdlID0gdGhpcy5wb2x5LmVkZ2VCZWZvcmVWZXJ0ZXgoaSwgbCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dEVkZ2UgPSB0aGlzLnBvbHkuZWRnZUFmdGVyVmVydGV4KGksIGwpO1xuXG4gICAgICAgICAgICAgICAgLy8gZWRnZXMgbWF5IG5vdCBleGlzdCBhdCBwb2x5bGluZSBlbmRzXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldkV4aXN0cyA9IChwcmV2RWRnZSAhPT0gLTEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRFeGlzdHMgPSAobmV4dEVkZ2UgIT09IC0xKTtcblxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGFueSBuZWlnaGJvciBlZGdlIGlzIHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgY29uc3Qgc2UgPSB0aGlzLmVkZ2VNb3ZlVG9vbC5zZWxlY3RlZEVkZ2U7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldlNlbGVjdGVkID0gQm9vbGVhbihwcmV2RXhpc3RzICYmIHNlICYmIHNlLnZlcnRleCA9PT0gcHJldkVkZ2UgJiYgc2UubG9vcCA9PT0gbCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFNlbGVjdGVkID0gQm9vbGVhbihuZXh0RXhpc3RzICYmIHNlICYmIHNlLnZlcnRleCA9PT0gbmV4dEVkZ2UgJiYgc2UubG9vcCA9PT0gbCk7XG5cbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBhbnkgbmVpZ2hib3IgZWRnZSBpcyBhbiBhcmNcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2SXNBcmMgPSBwcmV2RXhpc3RzICYmIHRoaXMucG9seS5pc0JlemllckFyYyhwcmV2RWRnZSwgbCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dElzQXJjID0gbmV4dEV4aXN0cyAmJiB0aGlzLnBvbHkuaXNCZXppZXJBcmMobmV4dEVkZ2UsIGwpO1xuXG4gICAgICAgICAgICAgICAgLy8gSWYgd2UganVzdCBoYXZlIGEgc2luZ2xlIGxpbmUgc2VnbWVudCwgYWx3YXlzIHNob3cgdGhlIHRhbmdlbnQgZ2l6bW9zXG4gICAgICAgICAgICAgICAgY29uc3QgaXNTaW5nbGVMaW5lID0gdGhpcy5pc1NpbmdsZUxpbmUoKTtcblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHdlIHNlbGVjdGVkIGFuIGFyYyBlZGdlIG9yIGEgdmVydGV4IG9mIG9uZVxuICAgICAgICAgICAgICAgIGNvbnN0IGFyY1ZlcnRleFNlbGVjdGVkID0gdmVydGV4U2VsZWN0ZWQgJiYgKHByZXZJc0FyYyB8fCBuZXh0SXNBcmMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFyY0VkZ2VTZWxlY3RlZCA9IChwcmV2U2VsZWN0ZWQgJiYgcHJldklzQXJjKSB8fCAobmV4dFNlbGVjdGVkICYmIG5leHRJc0FyYyk7XG5cbiAgICAgICAgICAgICAgICAvLyBzaG93IHRoZSBnaXptbyBpZiBhbnl0aGluZyBpcyBzZWxlY3RlZCBhbmQgb25lIG9mIHRoZSBlZGdlcyBpcyBhbiBhcmNcbiAgICAgICAgICAgICAgICBjb25zdCBzaG93VGFuZ2VudHMgPSBpc1NpbmdsZUxpbmUgfHwgYXJjVmVydGV4U2VsZWN0ZWQgfHwgYXJjRWRnZVNlbGVjdGVkO1xuICAgICAgICAgICAgICAgIGlmIChzaG93VGFuZ2VudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YW5nZW50R2l6bW9zLnB1c2gobmV3IFRhbmdlbnRHaXptbyh0aGlzLnBvbHksIGksIGwsIHRoaXMubGF5ZXIsIHRoaXMuZ2l6bW9MYXllciwgdGhpcy5naXptb01hbmFnZXIsIHRoaXMudW5kb1N0YWNrKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlRWxsaXBzZUFyY0dpem1vKCkge1xuICAgICAgICBjb25zdCBzZSA9IHRoaXMuZWRnZU1vdmVUb29sLnNlbGVjdGVkRWRnZTtcblxuICAgICAgICBjb25zdCBlZGdlU2VsZWN0ZWQgPSBCb29sZWFuKHNlKTtcblxuICAgICAgICAvLyBpZiBlbGxpcHNlIGFyYyBnaXptb3MgYXJlIGVuYWJsZWQsIGNoZWNrIGlmIGVkZ2UgaXMgc2VsZWN0ZWQgYW5kIHdlIHRoZSBwb2x5Z29uIGF0IGhhbmQgaXMgYSBwYXRoLCBhcyB3ZWxsXG4gICAgICAgIC8vIGlmIHRoZSBzZWxlY3RlZCBlZGdlJ3MgdmVydGV4IGFuZCBsb29wIGlzIGFuIGVsbGlwc2UgYXJjLiBJZiBlbGxpcHNlIGFyYyBnaXptb3MgYXJlIG5vdCBlbmFibGVkLCB0aGVuIGRldHRhY2hcbiAgICAgICAgLy8gdGhlbSBmcm9tIHRoZSBlZGdlIGFuZCByZXR1cm4uXG4gICAgICAgIGNvbnN0IHNob3dHaXptbyA9IHRoaXMuZWxsaXBzZUFyY0dpem1vc0VuYWJsZWRcbiAgICAgICAgICAgID8gZWRnZVNlbGVjdGVkICYmICh0aGlzLnBvbHkgaW5zdGFuY2VvZiBQYXRoKSAmJiB0aGlzLnBvbHkuaXNFbGxpcHNlQXJjKHNlLnZlcnRleCwgc2UubG9vcClcbiAgICAgICAgICAgIDogZmFsc2U7XG5cbiAgICAgICAgdGhpcy5lbGxpcHNlQXJjR2l6bW8uc2V0VmlzaWJsZShzaG93R2l6bW8pO1xuXG4gICAgICAgIGlmICghc2hvd0dpem1vKSB7XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCBlbGxpcHNlQXJjR2l6bW8gZG9lc24ndCBrZWVwIGJvdW5kIHRvIGFuIGVkZ2UuIE90aGVyd2lzZSwgaXQgbWF5XG4gICAgICAgICAgICAvLyBjYXVzZSBhbiBlcnJvciBsYXRlciBpZiB0aGF0IGVkZ2UgaXMgcmVtb3ZlZC5cbiAgICAgICAgICAgIHRoaXMuZWxsaXBzZUFyY0dpem1vLmRldGFjaEZyb21FZGdlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVsbGlwc2VBcmNHaXptby5hdHRhY2hUb0VkZ2UodGhpcy5wb2x5LCBzZS52ZXJ0ZXgsIHNlLmxvb3ApO1xuICAgIH1cblxuICAgIC8vIElmIGFueSB0YW5nZW50IGdpem1vIGlzIGJlaW5nIGRyYWdnZWQsIGl0IGlzIHJldHVybmVkLlxuICAgIC8vIFJlc3VsdCBpcyBudWxsIGlmIG5vdGhpbmcgaXMgZHJhZ2dlZC5cbiAgICBmaW5kRHJhZ2dlZFRhbmdlbnRHaXptbygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGFuZ2VudEdpem1vcy5maW5kKGdpem1vID0+IGdpem1vLmlzRHJhZ2dpbmcoKSk7XG4gICAgfVxuXG4gICAgLy8gSGV1cmlzdGljIGZvciBjaG9vc2luZyB0aGUgdGFuZ2VudCBsZW5ndGggd2hlbiB0dXJuaW5nIGEgbGluZSBzZWdtZW50IGludG8gYW4gYXJjLlxuICAgIC8vIFRoZSBiYXNpYyBpZGVhIGhlcmUgaXNcbiAgICAvLyAgLSBXaGVuIHR1cm5pbmcgYWxsIDQgbGluZXMgb2YgYSBzcXVhcmUgaW50byBhcmNzLCB3ZSBzaG91bGQgZ2V0IHNvbWV0aGluZyB0aGF0IGFwcHJveGltYXRlcyBhIGNpcmNsZS5cbiAgICAvLyAgLSBXaGVuIGdlbmVyYWxpemluZyB0aGF0IHRvIG1vcmUgZmFuY3kgY2FzZXMsIGl0IHNob3VsZCBhdCBsZWFzdCBiZWhhdmUgY29uc2lzdGVudCBhbmQgc29ydC1vZiByZWFzb25hYmxlIChlLmcuIGFsd2F5cyBrZWVwIHdpdGhpbiBhIHJlYXNvbmFibGUgcmF0aW8gdG8gc2VnbWVudCBsZW5ndGhzKVxuICAgIC8vXG4gICAgLy8gTm90ZTogSXQncyBwcm9iYWJseSBjbGVhbmVyIHRvIGFsd2F5cyBhcHByb3hpbWF0ZSBzb21lIHNvcnQgb2YgZWxsaXB0aWNhbCBhcmNzIGZvciB0aGUgZ2VuZXJhbCBjYXNlLiBCdXQgdGhhdCB3aWxsIG1ha2UgdGhpbmdzIGEgbG90IGhhcmRlciAoYW5kIHBvc3NpYmx5IHNsb3dlcikuXG4gICAgLy8gICAgICAgU28gbGV0J3MgZ2V0IGF3YXkgd2l0aCB0aGUgbGluZWFyLXNjYWxlIGNoZWF0aW5nIGZvciBub3cuXG4gICAgZ2V0VmVydGV4VGFuZ2VudExlbmd0aChwcmV2TGVuZ3RoLCBuZXh0TGVuZ3RoKSB7XG5cbiAgICAgICAgLy8gR2l2ZW4gYSBzcXVhcmUgb2YgZWRnZSBsZW5ndGggc3FydCgyKSwgdGhlIGNpcmNsZSBwYXNzaW5nIHRocm91Z2ggYWxsIDQgdmVydGljZXMgY2FuIGJlXG4gICAgICAgIC8vIGFwcHJveGltYXRlZCBieSA0IGN1YmljIGJlemllciBhcmMgc2VnbWVudHMuIFRoZSB0YW5nZW50cyBmb3IgdGhlc2UgYmV6aWVyIGFyY3MgYWxsIGhhdmUgdGhpcyBsZW5ndGg6XG4gICAgICAgIC8vIChTZWUgaGVyZTogaHR0cDovL3NwZW5jZXJtb3J0ZW5zZW4uY29tL2FydGljbGVzL2Jlemllci1jaXJjbGUvKVxuICAgICAgICBjb25zdCBjID0gMC41NTE5MTUwMjQ0OTQ7XG5cbiAgICAgICAgLy8gU2NhbGluZyBkb3duIHRoZSBxdWFkL2JlemllcnMgdG8gYSB1bml0IHF1YWQsIHdlIG9idGFpbiB0aGUgY29ycmVzcG9uZGluZyB0YW5nZW50IGxlbmd0aHMgZm9yIGEgdW5pdCBxdWFkIGFzOlxuICAgICAgICBjb25zdCB1bml0UXVhZFRhbmdlbnRMZW5ndGggPSBjIC8gTWF0aC5TUVJUMjtcblxuICAgICAgICAvLyBGb3IgYSBzcXVhcmUgb2YgbGVuZ3RoIGwsIHRoZSB0YW5nZW50IGxlbmd0aCBzY2FsZXMgdXAgYWNjb3JkaW5nbHkuXG4gICAgICAgIC8vIEZvciBkaWZmZXJlbnQgc2VnbWVudCBsZW5ndGhzLCB3ZSBzaW1wbHkgdXNlIHRoZSBhdmVyYWdlIG9mIGJvdGggbGVuZ3Rocy5cbiAgICAgICAgY29uc3QgbCA9IDAuNSAqIChwcmV2TGVuZ3RoICsgbmV4dExlbmd0aCk7XG5cbiAgICAgICAgcmV0dXJuIGwgKiB1bml0UXVhZFRhbmdlbnRMZW5ndGg7XG4gICAgfVxuXG4gICAgLy8gR2l2ZW4gYSBjb3JuZXIgdmVydGV4IHAgYW5kIGl0cyBwcmV2aW91cyBhbmQgbmV4dCBuZWlnaGJvciwgdGhpcyBmdW5jdGlvbiBjb21wdXRlcyBhbiBhdmVyYWdlZCB0YW5nZW50XG4gICAgLy8gdmVjdG9yIHRoYXQgd2UgdXNlIGlmIChwcmV2LCBwKSBhbmQgKHAsIG5leHQpIGFyZSByZXBsYWNlZCBieSBCZXppZXIgYXJjcy5cbiAgICBnZXRWZXJ0ZXhUYW5nZW50KHByZXYsIHAsIG5leHQpIHtcblxuICAgICAgICAvLyBnZXQgdGFuZ2VudCBkaXJlY3Rpb24gYnkgYXZlcmFnaW5nIHRoZSBlZGdlIGRpcmVjdGlvbnMuXG4gICAgICAgIGxldCB0YW5nZW50ID0gbmV3IFRIUkVFLlZlY3RvcjIoKS5jb3B5KG5leHQpLnN1YihwcmV2KS5ub3JtYWxpemUoKTtcblxuICAgICAgICAvLyBTY2FsZSB0YW5nZW50IGRpcmVjdGlvblxuICAgICAgICBjb25zdCBwcmV2TGVuZ3RoID0gcC5kaXN0YW5jZVRvKHByZXYpO1xuICAgICAgICBjb25zdCBuZXh0TGVuZ3RoID0gcC5kaXN0YW5jZVRvKG5leHQpO1xuICAgICAgICBjb25zdCB0YW5nZW50TGVuZ3RoID0gdGhpcy5nZXRWZXJ0ZXhUYW5nZW50TGVuZ3RoKHByZXZMZW5ndGgsIG5leHRMZW5ndGgpO1xuXG4gICAgICAgIHJldHVybiB0YW5nZW50Lm11bHRpcGx5U2NhbGFyKHRhbmdlbnRMZW5ndGgpO1xuICAgIH1cblxuICAgIGNoYW5nZUVkZ2VUb0VsbGlwc2UocG9seUluZGV4KSB7XG5cbiAgICAgICAgY29uc3QgZWRnZUluZGV4ID0gcG9seUluZGV4LnZlcnRleDtcbiAgICAgICAgY29uc3QgbG9vcEluZGV4ID0gcG9seUluZGV4Lmxvb3A7XG5cbiAgICAgICAgLy8gQnkgZGVmYXVsdCwgYmVuZCBvdXRzaWRkZSBieSBoYWxmIG9mIHRoZSBlZGdlIGxlbmd0aC4gSW4gdGhpcyB3YXksIHdlIGdldCBhIGNpcmNsZSBjZW50ZXJlZFxuICAgICAgICAvLyBhdCB0aGUgbGluZS1zZWdtZW50IG1pZHBvaW50LlxuICAgICAgICBjb25zdCBiZW5kUmFkaXVzID0gMC41ICogdGhpcy5wb2x5LmdldEVkZ2VMZW5ndGgoZWRnZUluZGV4LCBsb29wSW5kZXgpO1xuICAgICAgICBjb25zdCBhcmNQYXJhbXMgPSBnZXRFbGxpcHNlQXJjRWRnZVBhcmFtcyh0aGlzLnBvbHksIGVkZ2VJbmRleCwgbG9vcEluZGV4LCBiZW5kUmFkaXVzKTtcbiAgICAgICAgdGhpcy5ydW5BY3Rpb24obmV3IEFjdGlvbnMuQ2hhbmdlRWRnZVR5cGUodGhpcy5sYXllciwgdGhpcy5wb2x5LCBwb2x5SW5kZXgsIEVkZ2VUeXBlLkVsbGlwc2UsIG51bGwsIG51bGwsIGFyY1BhcmFtcykpO1xuXG4gICAgICAgIHRoaXMubGF5ZXIudXBkYXRlKCk7XG4gICAgICAgIHRoaXMuZWRnZU1vdmVUb29sLnNldFNlbGVjdGVkRWRnZShwb2x5SW5kZXgpO1xuICAgICAgICB0aGlzLnVwZGF0ZUFsbEdpem1vcygpO1xuICAgIH1cblxuICAgIGNoYW5nZUVkZ2VUb0Jlemllcihwb2x5SW5kZXgpIHtcblxuICAgICAgICBjb25zdCBlZGdlSW5kZXggPSBwb2x5SW5kZXgudmVydGV4O1xuICAgICAgICBjb25zdCBsb29wSW5kZXggPSBwb2x5SW5kZXgubG9vcDtcblxuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5wb2x5O1xuXG4gICAgICAgIC8vIGdldCBuZWlnaGJvciBlZGdlc1xuICAgICAgICBjb25zdCBwcmV2RWRnZUluZGV4ID0gcGF0aC5wcmV2RWRnZUluZGV4KGVkZ2VJbmRleCwgbG9vcEluZGV4KTtcbiAgICAgICAgY29uc3QgbmV4dEVkZ2VJbmRleCA9IHBhdGgubmV4dEVkZ2VJbmRleChlZGdlSW5kZXgsIGxvb3BJbmRleCk7XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgbmVpZ2hib3IgZWRnZSBleGlzdCAodXN1YWxseSB0cnVlIHVubGVzcyBhdCB0aGUgZW5kIG9mIGEgcG9seWxpbmUpXG4gICAgICAgIGNvbnN0IHByZXZFeGlzdHMgPSAocHJldkVkZ2VJbmRleCAhPT0gLTEpO1xuICAgICAgICBjb25zdCBuZXh0RXhpc3RzID0gKG5leHRFZGdlSW5kZXggIT09IC0xKTtcblxuICAgICAgICAvLyBnZXQgc3RhcnQvZW5kIHBvc2l0aW9uIG9mIHRoZSBzZWdtZW50XG4gICAgICAgIGNvbnN0IGEgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuICAgICAgICBjb25zdCBiID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcbiAgICAgICAgcGF0aC5nZXRFZGdlKGVkZ2VJbmRleCwgYSwgYiwgbG9vcEluZGV4KTtcblxuICAgICAgICAvLyBJZiBwcmV2aW91cy9uZXh0IGVkZ2UgZXhpc3QsIGdldCB0aGVpciBzdGFydC9lbmRWZXJ0ZXggYXMgd2VsbFxuICAgICAgICBsZXQgcHJldkVkZ2VBID0gcHJldkV4aXN0cyAmJiBwYXRoLmdldFBvaW50KHByZXZFZGdlSW5kZXgsIGxvb3BJbmRleCk7XG4gICAgICAgIGxldCBuZXh0RWRnZUIgPSBuZXh0RXhpc3RzICYmIHBhdGguZ2V0UG9pbnQocGF0aC5uZXh0SW5kZXgobmV4dEVkZ2VJbmRleCwgbG9vcEluZGV4KSwgbG9vcEluZGV4KTtcblxuICAgICAgICAvLyBJZiBwcmV2L25leHRFZGdlIGRvIG5vdCBleGlzdCwgd2Ugc2ltcGx5IGFzc3VtZSBsZW5ndGggYW5kIGFuZ2xlIG9mIHRoZSBtaXNzaW5nIGVkZ2UgdG8gYmUgdGhlIHNhbWUgYXMgdGhlIGN1cnJlbnQgZWRnZS5cbiAgICAgICAgaWYgKCFwcmV2RXhpc3RzKSBwcmV2RWRnZUEgPSBNYXRoMkQubWlycm9yUG9pbnRPblBvaW50KGIsIGEpO1xuICAgICAgICBpZiAoIW5leHRFeGlzdHMpIG5leHRFZGdlQiA9IE1hdGgyRC5taXJyb3JQb2ludE9uUG9pbnQoYSwgYik7XG5cbiAgICAgICAgLy8gQ29udHJvbCBwb2ludHMgMCBhbmQgMyBhcmUgYWxyZWFkeSBnaXZlbiBieSBlZGdlIGEgYW5kIGJcbiAgICAgICAgLy8gQmVsb3csIHdlIGhhdmUgdG8gZGV0ZXJtaW5lIGNwMSwgY3AyIHRvIGRlZmluZSB0aGUgdGFuZ2VudHNcbiAgICAgICAgbGV0IGNwMSA9IG51bGw7XG4gICAgICAgIGxldCBjcDIgPSBudWxsO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHByZXZpb3VzIGFuZCBuZXh0IGVkZ2VzIGFyZSBhcmNzIGFzIHdlbGxcbiAgICAgICAgY29uc3QgcHJldklzQXJjID0gcHJldkV4aXN0cyAmJiBwYXRoLmlzQmV6aWVyQXJjKHByZXZFZGdlSW5kZXgsIGxvb3BJbmRleCk7XG4gICAgICAgIGNvbnN0IG5leHRJc0FyYyA9IG5leHRFeGlzdHMgJiYgcGF0aC5pc0JlemllckFyYyhuZXh0RWRnZUluZGV4LCBsb29wSW5kZXgpO1xuXG4gICAgICAgIC8vIERldGVybWluZSBjb250cm9sIHBvaW50IGZvciBzdGFydCB0YW5nZW50IGNwMVxuICAgICAgICBpZiAocHJldklzQXJjKSB7XG4gICAgICAgICAgICAvLyBQcmV2aW91cyBlZGdlIGlzIGFuIGFyYzogR2V0IHN0YXJ0IHRhbmdlbnQgYnkgbWlycm9yaW5nIHRoZSBlbmQgdGFuZ2VudCBvZiB0aGF0IGFyYy5cbiAgICAgICAgICAgIGNvbnN0IHByZXZDcDIgPSBwYXRoLmdldENvbnRyb2xQb2ludChwcmV2RWRnZUluZGV4LCAyLCBsb29wSW5kZXgpO1xuICAgICAgICAgICAgY3AxID0gTWF0aDJELm1pcnJvclBvaW50T25Qb2ludChwcmV2Q3AyLCBhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFByZXZpb3VzIGVkZ2UgaXMgYSBsaW5lOiBVc2UgYXZlcmFnZSBkaXJlY3Rpb24gb2YgYm90aCBzZWdtZW50cyB0byBjaG9vc2UgdGhlIG5ldyB0YW5nZW50XG4gICAgICAgICAgICBjcDEgPSB0aGlzLmdldFZlcnRleFRhbmdlbnQocHJldkVkZ2VBLCBhLCBiKS5hZGQoYSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBbmFsb2cgZm9yIGVuZCB0YW5nZW50IGNwMlxuICAgICAgICBpZiAobmV4dElzQXJjKSB7XG4gICAgICAgICAgICAvLyBOZXh0IGVkZ2UgaXMgYW4gYXJjOiBHZXQgZW5kIHRhbmdlbnQgYnkgbWlycm9yaW5nIHRoZSBzdGFydCB0YW5nZW50IG9mIHRoYXQgYXJjLlxuICAgICAgICAgICAgY29uc3QgbmV4dENwMSA9IHBhdGguZ2V0Q29udHJvbFBvaW50KG5leHRFZGdlSW5kZXgsIDEsIGxvb3BJbmRleCk7XG4gICAgICAgICAgICBjcDIgPSBNYXRoMkQubWlycm9yUG9pbnRPblBvaW50KG5leHRDcDEsIGIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTmV4dCBlZGdlIGlzIGEgbGluZTogVXNlIGF2ZXJhZ2UgZGlyZWN0aW9uIG9mIGJvdGggc2VnbWVudHMgdG8gY2hvb3NlIHRoZSBuZXcgdGFuZ2VudFxuICAgICAgICAgICAgLy8gTm90ZSB0aGF0IHdlIG11c3QgcGFzcyB0aGUgcG9pbnRzIGluIGJhY2t3YXJkIG9yZGVyIGZvciB0aGUgZW5kIHRhbmdlbnQuXG4gICAgICAgICAgICBjcDIgPSB0aGlzLmdldFZlcnRleFRhbmdlbnQobmV4dEVkZ2VCLCBiLCBhKS5hZGQoYik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJ1bkFjdGlvbihuZXcgQWN0aW9ucy5DaGFuZ2VFZGdlVHlwZSh0aGlzLmxheWVyLCB0aGlzLnBvbHksIHBvbHlJbmRleCwgRWRnZVR5cGUuQmV6aWVyLCBjcDEsIGNwMikpO1xuXG4gICAgICAgIHRoaXMubGF5ZXIudXBkYXRlKCk7XG5cbiAgICAgICAgLy8gc2VsZWN0IHRoZSBlZGdlIHNvIHRoYXQgeW91IGNhbiBlZGl0IGl0cyB0YW5nZW50c1xuICAgICAgICB0aGlzLmVkZ2VNb3ZlVG9vbC5zZXRTZWxlY3RlZEVkZ2UocG9seUluZGV4KTtcbiAgICAgICAgdGhpcy51cGRhdGVBbGxHaXptb3MoKTtcbiAgICB9XG5cbiAgICBjaGFuZ2VFZGdlVG9MaW5lKHBvbHlJbmRleCkge1xuICAgICAgICB0aGlzLnJ1bkFjdGlvbihuZXcgQWN0aW9ucy5DaGFuZ2VFZGdlVHlwZSh0aGlzLmxheWVyLCB0aGlzLnBvbHksIHBvbHlJbmRleCwgRWRnZVR5cGUuTGluZSkpO1xuICAgICAgICB0aGlzLmxheWVyLnVwZGF0ZSgpO1xuXG4gICAgICAgIHRoaXMuZWRnZU1vdmVUb29sLnNldFNlbGVjdGVkRWRnZShwb2x5SW5kZXgpO1xuICAgICAgICB0aGlzLnVwZGF0ZUFsbEdpem1vcygpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJQYXRoIiwiUG9seUJhc2UiLCJQb2x5Z29uIiwiUG9seWxpbmUiLCJQb2x5SW5kZXgiLCJFZGdlVHlwZSIsIkFjdGlvbnMiLCJNYXRoMkQiLCJBcmVhTGFiZWwiLCJUYW5nZW50R2l6bW8iLCJFbGxpcHNlQXJjR2l6bW8iLCJnZXRFbGxpcHNlQXJjRWRnZVBhcmFtcyIsIk1vdmVUb29sIiwiVmVydGV4TW92ZVRvb2wiLCJFZGdlTW92ZVRvb2wiLCJFZGl0VG9vbEJhc2UiLCJQb2x5Z29uRWRpdFRvb2xOYW1lIiwiYXYiLCJBdXRvZGVzayIsIlZpZXdpbmciLCJFZGdlU2VsZWN0VG9sZXJhbmNlIiwiUG9seWdvbkVkaXRUb29sIiwiY29uc3RydWN0b3IiLCJjdHgiLCJtb3ZlVG9vbCIsImVkZ2VNb3ZlVG9vbCIsInZlcnRleE1vdmVUb29sIiwicG9seSIsImtleU1hcCIsIkRlbGV0ZVNlbGVjdGVkVmVydGV4IiwiS2V5Q29kZSIsIkJBQ0tTUEFDRSIsIkNhbmNlbEVkaXQiLCJFU0NBUEUiLCJDaGFuZ2VUb0FyYyIsImEiLCJDaGFuZ2VUb0xpbmUiLCJsIiwiQ2hhbmdlVG9FbGxpcHNlIiwiZSIsIm1vdXNlUG9zIiwiVEhSRUUiLCJWZWN0b3IyIiwiYXJlYUxhYmVsIiwibGF5ZXIiLCJ1bml0SGFuZGxlciIsInRhbmdlbnRHaXptb3MiLCJ0YW5nZW50R2l6bW9zRW5hYmxlZCIsImVsbGlwc2VBcmNHaXptb3NFbmFibGVkIiwiaG92ZXJFbmFibGVkIiwiZW5hYmxlRWxsaXBzZUFyY3MiLCJlbGxpcHNlQXJjR2l6bW8iLCJnaXptb01hbmFnZXIiLCJ1bmRvU3RhY2siLCJjbGlja0NvbnN1bWVkIiwic2V0VGFuZ2VudEdpem1vc0VuYWJsZWQiLCJlbmFibGVkIiwidXBkYXRlVGFuZ2VudEdpem1vcyIsImNsZWFyVGFuZ2VudEdpem1vcyIsInNldEVsbGlwc2VBcmNHaXptb0VuYWJsZWQiLCJ1cGRhdGVFbGxpcHNlQXJjR2l6bW8iLCJzZXRBbGxHaXptb3NFbmFibGVkIiwic2V0SG92ZXJFbmFibGVkIiwic2VsZWN0aW9uIiwic2V0SG92ZXJlZCIsInNldEFyZWFMYWJlbFZpc2libGUiLCJ2aXNpYmxlIiwic2V0VmlzaWJsZSIsInNldExlbmd0aExhYmVsVmlzaWJsZSIsImdldE5hbWUiLCJuYW1lU3VmZml4IiwiZGVhY3RpdmF0ZSIsInJlc2V0IiwidXBkYXRlQWxsR2l6bW9zIiwidXBkYXRlTW91c2VPdmVySGlnaGxpZ2h0cyIsInNldFNoYXBlIiwic25hcHBlciIsInN0b3BBbmdsZVNuYXBwaW5nIiwic2V0RWRpdFBvbHkiLCJwb2x5Z29uIiwiaXNQb2x5Z29uIiwiaW5zZXJ0UG9pbnQiLCJwb2x5SW5kZXgiLCJwIiwicnVuQWN0aW9uIiwiQWRkVmVydGV4IiwidXBkYXRlIiwicmVtb3ZlTG9vcCIsImxvb3BJbmRleCIsImxvb3BzVG9SZW1vdmUiLCJnZXRDaGlsZExvb3BzIiwicHVzaCIsImFjdGlvbiIsIlJlbW92ZUxvb3BzIiwic2V0U2VsZWN0ZWRWZXJ0ZXgiLCJzZXRTZWxlY3RlZEVkZ2UiLCJyZW1vdmVQb2ludCIsImxvb3AiLCJtaW5WZXJ0cyIsImdldFZlcnRleENvdW50IiwiUmVtb3ZlVmVydGV4IiwidXBkYXRlVmVydGV4R2l6bW9zIiwiZXF1YWxzIiwic2VsZWN0ZWRWZXJ0ZXgiLCJpc1NpbmdsZUxpbmUiLCJsb29wQ291bnQiLCJmaW5kRWRnZVVuZGVyTW91c2UiLCJwb3MiLCJwcmVjaXNpb24iLCJnZXRVbml0c1BlclBpeGVsIiwiaW5kZXgiLCJmaW5kRWRnZUluZGV4IiwidmVydGV4IiwiZ2V0TmV3VmVydGV4UG9zaXRpb24iLCJlZGdlSW5kZXgiLCJlZGdlSW5kZXhWYWxpZCIsImIiLCJnZXRFZGdlIiwiZWRnZURpciIsImdldEVkZ2VEaXJlY3Rpb24iLCJuZXdQb3MiLCJjbG9uZSIsInByb2plY3RUb0xpbmUiLCJpc1BvaW50T25FZGdlIiwiaGFuZGxlQnV0dG9uRG93biIsImV2ZW50IiwiYnV0dG9uIiwiaWdub3JlRHJhZ2dpbmciLCJjYW52YXNUb0xheWVyIiwiY2FudmFzWCIsImNhbnZhc1kiLCJjb3B5IiwiY3RybEhvbGQiLCJjdHJsS2V5IiwibWV0YUtleSIsIm5ld1ZlcnRleCIsIm5ld1ZlcnRleFBvcyIsIm1vdXNlVHJhY2tlciIsInN0YXJ0VHJhY2tpbmciLCJFZGl0MkQiLCJUcmFja2luZ3MiLCJCdXR0b25Eb3duIiwic3RhcnREcmFnVmVydGV4IiwiaSIsImxlbmd0aCIsImdpem1vIiwib25CdXR0b25Eb3duIiwic3RhcnREcmFnIiwibmV3UG9seWdvbiIsImhpdFRlc3QiLCJ4IiwieSIsImVuYWJsZU11bHRpc2VsZWN0aW9uIiwidG9nZ2xlU2VsZWN0aW9uIiwic2hhcGVJc1NlbGVjdGVkIiwibWFpbkxvb3BzIiwiZ2V0TWFpbkxvb3BzIiwiaXNPbmx5TWFpbkxvb3AiLCJtb3ZlTG9vcCIsInNoYXBlc1RvTW92ZSIsImdldFNlbGVjdGVkU2hhcGVzIiwiaXNQb2x5bGluZSIsImlzUGF0aCIsInNlbGVjdE9ubHkiLCJoYW5kbGVTaW5nbGVDbGljayIsImhhbmRsZWQiLCJCb29sZWFuIiwic3RvcFRyYWNraW5nIiwiQ2xpY2siLCJoYW5kbGVNb3VzZU1vdmUiLCJpc0RyYWdnaW5nIiwibW92ZURyYWciLCJ0YW5nZW50R2l6bW8iLCJmaW5kRHJhZ2dlZFRhbmdlbnRHaXptbyIsImRyYWdnaW5nIiwiaGFuZGxlQnV0dG9uVXAiLCJpZ25vcmVBY3Rpb25zIiwiZW5kRHJhZyIsIkJ1dHRvblVwIiwic25hcHBpbmdGaWx0ZXIiLCJzaGFwZSIsIm9uU2VsZWN0aW9uQ2hhbmdlZCIsInNlbGVjdGVkIiwiaGFuZGxlS2V5RG93biIsImtleUNvZGUiLCJjYW5jZWxEcmFnIiwidGFyZ2V0RWRnZSIsInNlbGVjdGVkRWRnZSIsInRhcmdldEVkZ2VWYWxpZCIsImxpbmVTZWdtZW50U2VsZWN0ZWQiLCJpc0JlemllckFyYyIsImNoYW5nZUVkZ2VUb0JlemllciIsInNlZ21lbnRTZWxlY3RlZCIsImlzRWxsaXBzZUFyYyIsImNoYW5nZUVkZ2VUb0VsbGlwc2UiLCJhcmNTZWdtZW50U2VsZWN0ZWQiLCJpc0FyYyIsImNoYW5nZUVkZ2VUb0xpbmUiLCJoYW5kbGVLZXlVcCIsIm9uU25hcHBpbmdUb2dnbGVkIiwibmVlZHNVcGRhdGUiLCJmb3JFYWNoIiwidGciLCJEcmFnIiwiY2xlYXJTbmFwcGluZ0dpem1vcyIsInVwZGF0ZVNlbGVjdGlvblN0YXRlIiwiaXNVbmRvIiwiQ2hhbmdlQmV6aWVyVGFuZ2VudCIsImhpbnQiLCJnZXRTZWxlY3Rpb25IaW50Iiwic2V0U2VsZWN0aW9uSXRlbSIsInNoYXBlcyIsInNldFNlbGVjdGlvbiIsImVkZ2UiLCJzaGFwZUZvdW5kIiwiZmluZFNoYXBlQnlJZCIsImlkIiwiaGFuZGxlRXh0ZXJuYWxBY3Rpb24iLCJzZXRIb3ZlcmVkSWQiLCJnZXRDdXJzb3IiLCJ2ZXJ0ZXhFZGdlQ3Vyc29yIiwia2V5U3RhdGUiLCJDT05UUk9MIiwiaGl0UmFkaXVzIiwiZ2V0TGluZUhpdFJhZGl1cyIsIm1vdmVTaGFwZSIsInVuZGVmaW5lZCIsImciLCJkdG9yIiwidmVydGV4Q291bnQiLCJzdiIsInZlcnRleFNlbGVjdGVkIiwicHJldkVkZ2UiLCJlZGdlQmVmb3JlVmVydGV4IiwibmV4dEVkZ2UiLCJlZGdlQWZ0ZXJWZXJ0ZXgiLCJwcmV2RXhpc3RzIiwibmV4dEV4aXN0cyIsInNlIiwicHJldlNlbGVjdGVkIiwibmV4dFNlbGVjdGVkIiwicHJldklzQXJjIiwibmV4dElzQXJjIiwiYXJjVmVydGV4U2VsZWN0ZWQiLCJhcmNFZGdlU2VsZWN0ZWQiLCJzaG93VGFuZ2VudHMiLCJnaXptb0xheWVyIiwiZWRnZVNlbGVjdGVkIiwic2hvd0dpem1vIiwiZGV0YWNoRnJvbUVkZ2UiLCJhdHRhY2hUb0VkZ2UiLCJmaW5kIiwiZ2V0VmVydGV4VGFuZ2VudExlbmd0aCIsInByZXZMZW5ndGgiLCJuZXh0TGVuZ3RoIiwiYyIsInVuaXRRdWFkVGFuZ2VudExlbmd0aCIsIk1hdGgiLCJTUVJUMiIsImdldFZlcnRleFRhbmdlbnQiLCJwcmV2IiwibmV4dCIsInRhbmdlbnQiLCJzdWIiLCJub3JtYWxpemUiLCJkaXN0YW5jZVRvIiwidGFuZ2VudExlbmd0aCIsIm11bHRpcGx5U2NhbGFyIiwiYmVuZFJhZGl1cyIsImdldEVkZ2VMZW5ndGgiLCJhcmNQYXJhbXMiLCJDaGFuZ2VFZGdlVHlwZSIsIkVsbGlwc2UiLCJwYXRoIiwicHJldkVkZ2VJbmRleCIsIm5leHRFZGdlSW5kZXgiLCJwcmV2RWRnZUEiLCJnZXRQb2ludCIsIm5leHRFZGdlQiIsIm5leHRJbmRleCIsIm1pcnJvclBvaW50T25Qb2ludCIsImNwMSIsImNwMiIsInByZXZDcDIiLCJnZXRDb250cm9sUG9pbnQiLCJhZGQiLCJuZXh0Q3AxIiwiQmV6aWVyIiwiTGluZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Edit2D/tools/PolygonEditTool.js\n");

/***/ }),

/***/ "./extensions/Edit2D/tools/PolygonTool.js":
/*!************************************************!*\
  !*** ./extensions/Edit2D/tools/PolygonTool.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PolygonTool)\n/* harmony export */ });\n/* harmony import */ var _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EditShapes.js */ \"./extensions/Edit2D/EditShapes.js\");\n/* harmony import */ var _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../CanvasGizmo.js */ \"./extensions/Edit2D/CanvasGizmo.js\");\n/* harmony import */ var _Actions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Actions.js */ \"./extensions/Edit2D/Actions.js\");\n/* harmony import */ var _EditToolBase_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./EditToolBase.js */ \"./extensions/Edit2D/tools/EditToolBase.js\");\n/* harmony import */ var _RectangleTool_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./RectangleTool.js */ \"./extensions/Edit2D/tools/RectangleTool.js\");\n/* harmony import */ var _LineTool_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./LineTool.js */ \"./extensions/Edit2D/tools/LineTool.js\");\n\n\n\n\n\n\n\n\nconst Mode = {\n  Polyline: 1,\n  Polygon: 2\n};\n\nconst PolygonToolName = \"Edit2_PolygonTool\";\nconst PolylineToolName = \"Edit2_PolylineTool\";\n\nconst av = Autodesk.Viewing;\nconst DefaultStyle = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Style();\n\nclass PolygonTool extends _EditToolBase_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {\n\n  constructor(ctx) {let mode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Mode.Polygon;let style = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Style();\n    super(ctx);\n\n    // Delegate single-drag interactions:\n    this.lineRectTool = mode === Mode.Polygon ?\n    new _RectangleTool_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"](ctx, style) : // PolygonMode: Draw rect/quad on drag\n    new _LineTool_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"](ctx, style) // PolylineMode: Draw simple line on drag\n    ;\n\n    Autodesk.Viewing.EventDispatcher.prototype.apply(this);\n\n    // Circle shapes per vertex\n    this.vertexGizmos = [];\n\n    // The polygon/polyline we are currently creating (if tool is active)\n    this.poly = undefined;\n\n    // Style used for polygon creation\n    this.style = style;\n\n    // Style used to display the thin line to connect last added vertex with current mouse position.\n    this.edgePreviewStyle = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Style({\n      lineWidth: 2,\n      isScreenSpace: true,\n      lineStyle: 11 // dashed line\n    });\n\n    // whether editing Polylines or Polygons\n    this.mode = mode;\n\n    // last canvas position where we added a vertex\n    this.lastClickX = undefined;\n    this.lastClickY = undefined;\n\n    this.keyMap.CANCEL_EDIT = av.KeyCode.ESCAPE;\n    this.keyMap.REMOVE_LAST_VERTEX = av.KeyCode.BACKSPACE;\n    this.keyMap.FINISH_EDIT = [av.KeyCode.ENTER, av.KeyCode.c];\n\n    // FillGizmo: When editing a polygon, fillGizmo displays the polygon formed by all vertices + mousePos\n    this.fillGizmo = null;\n\n    // OutlineGizmo: Polyline that connects all added vertices\n    this.outlineGizmo = null;\n\n    // Line to connect last added vertex with mouse position\n    this.edgePreviewGizmo = null;\n\n    // Last tracked mouse-pos in layer-coords (after considering snapping)\n    this.mousePos = new THREE.Vector2();\n\n    // Label to display polygon area - hidden by default\n    // Note that the polygon preview is in the gizmoLayer. So we add the areaLabel there as well to keep it in sync.\n    this.areaLabel = new _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_1__.AreaLabel(null, this.gizmoLayer, this.unitHandler, false);\n\n    // Label to display polyline length\n    this.lengthLabel = new _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_1__.EdgeLabel(this.gizmoLayer, false);\n\n    // If true, we always create Paths instead of Polygons\n    this.enableArcs = true;\n  }\n\n  // Enable the area labels (public API)\n  setAreaLabelVisible(visible) {\n    this.areaLabel.setVisible(visible);\n  }\n\n  setLengthLabelVisible(visible) {\n    this.lengthLabel.setVisible(visible);\n  }\n\n  // If true, all new shapes are Paths instead of Polygons/Polylines.\n  setArcsEnabled(enable) {\n    this.enableArcs = enable;\n    this.lineRectTool.enableArcs = enable;\n  }\n\n  deactivate() {\n    super.deactivate();\n    this.cancelEdit();\n  }\n\n  // Returns true when editing a Polygon, false when editing a Polyline or nothing.\n  isPolygon() {\n    return this.poly && this.poly.isPolygon();\n  }\n\n  /**\n   * Set depending styles for the polygon / polyline tool. It will also set most of the styles to the temporary lines\n   * that appear during drawing. Style.isScreenSpace won't be considered.\n   * @param {Style} style         - a Style instance\n   * @param {boolean} skipDefault - If set (default) just apply the style that differ from the default Style\n   */\n  setStyles(style) {let skipDefault = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    if (style.lineColor !== DefaultStyle.lineColor || !skipDefault) {\n      this.style.lineColor = style.lineColor;\n    }\n    if (style.lineAlpha !== DefaultStyle.lineAlpha || !skipDefault) {\n      this.style.lineAlpha = style.lineAlpha;\n    }\n    if (style.lineWidth !== DefaultStyle.lineWidth || !skipDefault) {\n      this.style.lineWidth = style.lineWidth;\n      this.lineRectTool.style.lineWidth = style.lineWidth;\n      this.edgePreviewStyle.lineWidth = style.lineWidth * 2 / 3;\n    }\n    if (style.lineStyle !== DefaultStyle.lineStyle || !skipDefault) {\n      this.style.lineStyle = style.lineStyle;\n      this.lineRectTool.style.lineStyle = style.lineStyle;\n      // skip this.edgePreviewStyle.lineStyle\n    }\n\n    if (style.fillColor !== DefaultStyle.fillColor || !skipDefault) {\n      this.style.fillColor = style.fillColor;\n    }\n    if (style.fillAlpha !== DefaultStyle.fillAlpha || !skipDefault) {\n      this.style.fillAlpha = style.fillAlpha;\n    }\n\n    if (style.isMiterLine !== DefaultStyle.isMiterLine || !skipDefault) {\n      this.style.isMiterLine = style.isMiterLine;\n    }\n\n    // skip isScreenSpace\n  }\n\n  // Initialize all gizmos when starting to edit a Polygon/Polyline\n  initGizmos() {\n\n    // FillGizmo: Draw fill of polygon formed by added vertices + mousePos\n    if (this.isPolygon()) {\n      this.fillGizmo = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Polygon([], this.style.clone());\n      this.fillGizmo.style.lineAlpha = 0;\n      this.gizmoLayer.addShape(this.fillGizmo);\n    }\n\n    // OutlineGizmo: Connect added vertices\n    this.outlineGizmo = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Polyline([], this.style.clone());\n    this.gizmoLayer.addShape(this.outlineGizmo);\n\n    // CurrentEdgeGizmo: Draw dashed line from last vertex to mousePos.\n    this.edgePreviewGizmo = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Polyline([], this.edgePreviewStyle);\n    this.edgePreviewGizmo.style.lineColor = this.poly.style.lineColor;\n    this.gizmoLayer.addShape(this.edgePreviewGizmo);\n\n    this.areaLabel.setShape(this.fillGizmo);\n\n    // For Polylines, attach label to preview edge that displays the summed length\n    if (this.poly && this.poly.isPolyline()) {\n      this.lengthLabel.attachToEdge(this.edgePreviewGizmo, 0);\n    }\n  }\n\n  clearGizmos() {\n    if (this.fillGizmo) {\n      this.gizmoLayer.removeShape(this.fillGizmo);\n      this.fillGizmo = null;\n    }\n\n    this.areaLabel.setShape(null);\n    this.lengthLabel.detachFromEdge();\n\n    if (this.outlineGizmo) {\n      this.gizmoLayer.removeShape(this.outlineGizmo);\n      this.outlineGizmo = null;\n    }\n\n    if (this.edgePreviewGizmo) {\n      this.gizmoLayer.removeShape(this.edgePreviewGizmo);\n      this.edgePreviewGizmo = null;\n    }\n\n    // clear vertex gizmos\n    for (let i = 0; i < this.vertexGizmos.length; i++) {\n      this.vertexGizmos[i].dtor();\n    }\n    this.vertexGizmos.length = 0;\n  }\n\n  // Update gizmos and snapping if polygon was modified\n  polyModified() {\n    this.updateGizmos();\n\n    // Configure angle snapping to consider latest state of the polygon\n    // Note that angleSnapper requires the shape including \"vertex under mouse\", while\n    // this.poly only contains the already added/clicked vertices.\n    // Note that we cannot use fillGizmo here, because it does not exist for polylines.\n    const snapGeom = this.poly.clone();\n    snapGeom.addPoint(this.mousePos.x, this.mousePos.y);\n    this.snapper.startAngleSnapping(snapGeom, this.poly.vertexCount, 0); // For new polygons, loopIndex is always 0\n  }\n\n  // Update gizmos if vertices of current polygon/polyline have changed\n  updateGizmos() {\n\n    // FillGizmo: Show fill without outline for the polygon formed by all added\n    // vertices + current mousePos\n    if (this.fillGizmo) {\n      // copy vertices of main polygon (not geom, not style)\n      this.fillGizmo.clear();\n      for (let i = 0; i < this.poly.vertexCount; i++) {\n        const p = this.poly.getPoint(i);\n        this.fillGizmo.addPoint(p.x, p.y);\n      }\n      // add additional point that traces mouse-pos\n      this.fillGizmo.addPoint(this.mousePos.x, this.mousePos.y);\n    }\n\n    // OutlineGizmo: Solid polyline that connects all added vertices\n    this.outlineGizmo.clear();\n    if (this.poly.vertexCount >= 2) {\n      for (let i = 0; i < this.poly.vertexCount; i++) {\n        const p = this.poly.getPoint(i);\n        this.outlineGizmo.addPoint(p.x, p.y);\n      }\n    }\n\n    // currentEdgeGizmo: Dashed line to connect last added vertex with mouse position\n    this.edgePreviewGizmo.clear();\n    if (this.poly.vertexCount >= 1) {\n      const pLast = this.poly.getPoint(this.poly.vertexCount - 1);\n      this.edgePreviewGizmo.addPoint(pLast.x, pLast.y);\n      this.edgePreviewGizmo.addPoint(this.mousePos.x, this.mousePos.y);\n\n      this.updateLengthLabel();\n    }\n\n    this.gizmoLayer.update();\n  }\n\n  updateLengthLabel() {\n    // Compute resulting length of polyline including previewEdge\n    if (this.poly && this.poly.isPolyline()) {\n      // get transform from geometry coords to measure coordinate system\n      const transform = this.unitHandler.measureTransform;\n\n      let length = this.poly.getLength(transform) + this.edgePreviewGizmo.getLength(transform);\n      let lengthStr = this.unitHandler.lengthToString(length);\n      this.lengthLabel.setText(lengthStr);\n    }\n  }\n\n  getName() {\n    return (this.mode === Mode.Polygon ? PolygonToolName : PolylineToolName) + this.nameSuffix;\n  }\n\n  handleMouseMove(event) {\n    super.handleMouseMove(event);\n\n    if (!event.buttons) {\n      // When not dragging, we always return false here. Otherwise, the event will not propagated\n      // to navigation tools, so that the zoom focus is not updated properly.\n      this.onHover(event.canvasX, event.canvasY);\n      return false;\n    }\n    return this.lineRectTool.handleMouseMove(event);\n  }\n\n  onHover(canvasX, canvasY) {\n    // Check if shape editing is already in progress\n    if (!this.poly) {\n\n      // Perform snapping check, so that SnappingIndicator reflects if the start point would be snapped.\n      this.getSnapPosition(canvasX, canvasY);\n      return;\n    }\n\n    let pLayer = this.layer.canvasToLayer(canvasX, canvasY);\n\n    // When hovering the start vertex that will close the polygon (or line-loop), don't show any snapping indicators\n    const closingAllowed = this.poly.vertexCount >= 3;\n    const startVertexHit = closingAllowed && this.gizmoManager.isUnderMouse(this.vertexGizmos[0]);\n    this.setStartVertexHighlighted(startVertexHit); // indicate when hoving closing-vertex\n    if (startVertexHit) {\n      // Remove snapping indicators\n      this.snapper.clearSnappingGizmos();\n\n      // snap position to vertex center\n      pLayer.copy(this.vertexGizmos[0].layerPos);\n    } else {\n      // Standard case: If mouse is not on start vertex, allow standard snapping\n      pLayer = this.getSnapPosition(canvasX, canvasY);\n    }\n\n    // track last mouse pos\n    this.mousePos.copy(pLayer);\n\n    // Just hover: Only update vertex-positions for fillGizmo, edgePreview and alignmentGizmo\n    this.edgePreviewGizmo.updatePoint(1, pLayer.x, pLayer.y);\n    this.fillGizmo && this.fillGizmo.updatePoint(this.fillGizmo.vertexCount - 1, pLayer.x, pLayer.y); // will be null if this.poly is a Polyline\n    this.gizmoLayer.update();\n    this.updateLengthLabel();\n  }\n\n  // If we have enough vertices, clicking on the first vertex gizmo again will finish the shape.\n  handleStartVertexClicked(event) {\n\n    if (!this.poly && this.poly.vertexCount < 3) {\n      return;\n    }\n\n    // For polylines, we have to repeat the first vertex to close it\n    if (this.poly.isPolyline()) {\n      const pStart = this.poly.getPoint(0);\n      this.addVertex(pStart.x, pStart.y);\n    }\n\n    // Finish editing\n    this.finishPolygon();\n\n    // Make sure that the event is not passed on to ToolManager. Otherwise,\n    // we would evaluate it a second time in handleSingleClick()\n    event.stopPropagation();\n  }\n\n  // Add vertex on single-click\n  handleSingleClick(event, button) {\n    super.handleSingleClick(event, button);\n\n    // Only respond to left mouse button.\n    if (!button == 0) {\n      return false;\n    }\n\n    // Avoid duplicate vertices on double-clicks\n    if (this.vertexGizmos.length > 0 && event.canvasX === this.lastClickX && event.canvasY === this.lastClickY) {\n      return true;\n    }\n\n    this.lastClickX = event.canvasX;\n    this.lastClickY = event.canvasY;\n\n    this.mousePos.copy(this.getSnapPosition(event.canvasX, event.canvasY));\n\n    if (this.mouseTracker) {\n      this.mouseTracker.startTracking(this.getName(), Autodesk.Edit2D.Trackings.Click);\n    }\n\n    // Init polygon on first click\n    if (!this.poly) {\n      this.startPoly(this.mousePos.x, this.mousePos.y);\n    }\n\n    this.addVertex(this.mousePos.x, this.mousePos.y);\n    return true;\n  }\n\n  handleButtonDown(event, button) {\n    // Support suppressing mouse buttons by holding a key. Note that we only need that for dragging operations.\n    if (this.ignoreDragging) {\n      return false;\n    }\n\n    // If no clicks have been made so far, allow to drag line/rectangle.\n    if (!this.poly) {\n      // Clear the selection, this will make sure all other gizmos get removed\n      this.selection.clear();\n\n      return this.lineRectTool.handleButtonDown(event, button);\n    }\n\n    return false;\n  }\n\n  handleButtonUp(event, button) {\n    return this.lineRectTool.handleButtonUp(event, button);\n  }\n\n  handleDoubleClick(event, button) {\n    super.handleDoubleClick(event, button);\n\n    // Only respond to left mouse button.\n    if (!button == 0) {\n      return false;\n    }\n\n    this.finishPolygon();\n    return true;\n  }\n\n  // Start new polyline or polygon\n  startPoly(x, y) {\n\n    if (this.enableArcs) {\n      // Arcs enabled: Always create Paths\n      const isClosed = this.mode === Mode.Polygon;\n      this.poly = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Path([], isClosed, this.style.clone());\n    } else {\n      // No arcs enabled: Create Polygons or Polylines\n      if (this.mode === Mode.Polygon) {\n        this.poly = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Polygon([], this.style.clone());\n      } else {\n        this.poly = new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Polyline([], this.style.clone());\n      }\n    }\n\n    this.initGizmos();\n  }\n\n  addVertex(x, y) {\n\n    // add \"next\" point - which will follow the mouse motion\n    // until next click\n    this.poly.addPoint(x, y);\n\n    // add vertex-gizmo\n    const name = 'PolygonTool_vertexGizmo_' + this.vertexGizmos.length;\n    const vertex = new _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_1__.VertexGizmo(this.gizmoLayer, x, y, name);\n    this.vertexGizmos.push(vertex);\n\n    // For the start vertex-gizmo, we register a handler to finish the polygon when clicking it again\n    const isStartVertex = this.vertexGizmos.length === 1;\n    if (isStartVertex) {\n      vertex.container.addEventListener('click', (e) => this.handleStartVertexClicked(e));\n    }\n\n    this.polyModified();\n  }\n\n  removeLastVertex() {\n    if (!this.poly || !this.poly.vertexCount) {\n      return;\n    }\n\n    // Cancel edit if there was only the starting point.\n    if (this.poly.vertexCount <= 1) {\n      this.cancelEdit();\n      return;\n    }\n\n    if (this.mouseTracker) {\n      this.mouseTracker.stopTracking(this.getName(), Autodesk.Edit2D.Trackings.Click);\n    }\n\n    this.poly.removePoint(this.poly.vertexCount - 1);\n\n    // remove last added vertex gizmo\n    const lastGizmo = this.vertexGizmos[this.vertexGizmos.length - 1];\n    lastGizmo.dtor();\n    this.vertexGizmos.pop();\n\n    this.polyModified();\n  }\n\n  finishPolygon() {\n    if (this.mouseTracker) {\n      this.mouseTracker.stopTracking(this.getName(), Autodesk.Edit2D.Trackings.Click);\n    }\n\n    // remove all vertex gizmos\n    this.clearGizmos();\n\n    // Stop snapping to edges of this polygon\n    this.snapper.stopAngleSnapping();\n\n    // move polygon to main layer\n    this.runAction(new _Actions_js__WEBPACK_IMPORTED_MODULE_2__.Actions.AddShape(this.layer, this.poly));\n\n    this.dispatchEvent({ type: PolygonTool.POLYGON_ADDED, polygon: this.poly });\n\n    // Start another polygon on next click\n    this.poly = null;\n  }\n\n  cancelEdit() {\n    if (this.mouseTracker) {\n      this.mouseTracker.stopTracking(this.getName(), Autodesk.Edit2D.Trackings.Click);\n    }\n\n    if (this.lineRectTool.isDragging()) {\n      this.lineRectTool.cancelDrag();\n    }\n\n    if (this.poly) {\n      this.gizmoLayer.removeShape(this.poly);\n      this.poly = null;\n    }\n\n    this.clearGizmos();\n    this.snapper.stopAngleSnapping();\n  }\n\n  handleFinishKey(event) {\n    if (!this.poly) {\n      return false;\n    }\n\n    // Avoid closing if it would result in a polygon that is degenerated to a line.\n    if (this.isPolygon() && this.poly.vertexCount < 3) {\n      return false;\n    }\n\n    this.finishPolygon();\n    return true;\n  }\n\n  handleKeyDown(event, keyCode) {\n    let handled = super.handleKeyDown(event, keyCode);\n\n    // delegate to rectTool\n    handled = this.lineRectTool.handleKeyDown(event, keyCode) || handled;\n\n    // Map event to any known key in this.keyMap\n    let funcKey = this.mapKey(event, this.keyMap);\n    switch (funcKey) {\n      case 'CANCEL_EDIT':this.cancelEdit();handled = true;break;\n      case 'REMOVE_LAST_VERTEX':this.removeLastVertex();handled = true;break;\n      case 'FINISH_EDIT':handled = this.handleFinishKey(event);break;\n    }\n    return handled;\n  }\n\n  handleKeyUp(event, keyCode) {\n    super.handleKeyUp(event, keyCode);\n    this.lineRectTool.handleKeyUp(event, keyCode);\n  }\n\n  // If snapping has toggled on/off, we instantly \"replay\" hovering at current mouse position. Purpose is to\n  // give instant feedback (e.g. hide/show SnapLine gizmos and adjust position of preview edge)\n  onSnappingToggled(canvasX, canvasY) {\n    this.onHover(canvasX, canvasY);\n  }\n\n  mouseOnStartVertex() {\n    if (!this.vertexGizmos[0]) {\n      return false;\n    }\n\n    // Check if start vertex was clicked\n    return this.gizmoManager(this.this.vertexGizmos[0]);\n  }\n\n  setStartVertexHighlighted(enable) {\n    if (this.vertexGizmos[0]) {\n      this.vertexGizmos[0].setSelected(enable);\n    }\n  }\n\n  getCursor() {\n    return 'crosshair';\n  }\n}\n\nPolygonTool.POLYGON_ADDED = \"polygonAdded\";\nPolygonTool.Mode = Mode;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL0VkaXQyRC90b29scy9Qb2x5Z29uVG9vbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWtFO0FBQ0k7QUFDOUI7O0FBRUs7QUFDRTtBQUNWOztBQUVyQyxNQUFNVyxJQUFJLEdBQUc7RUFDVFYsUUFBUSxFQUFFLENBQUM7RUFDWEQsT0FBTyxFQUFHO0FBQ2QsQ0FBQzs7QUFFRCxNQUFNWSxlQUFlLEdBQUcsbUJBQW1CO0FBQzNDLE1BQU1DLGdCQUFnQixHQUFHLG9CQUFvQjs7QUFFN0MsTUFBTUMsRUFBRSxHQUFHQyxRQUFRLENBQUNDLE9BQU87QUFDM0IsTUFBTUMsWUFBWSxHQUFHLElBQUlkLGlEQUFLLENBQUMsQ0FBQzs7QUFFakIsTUFBTWUsV0FBVyxTQUFTVix3REFBWSxDQUFDOztFQUVsRFcsV0FBV0EsQ0FBQ0MsR0FBRyxFQUE0QyxLQUExQ0MsSUFBSSxHQUFBQyxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBR1gsSUFBSSxDQUFDWCxPQUFPLEtBQUV5QixLQUFLLEdBQUFILFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLElBQUluQixpREFBSyxDQUFDLENBQUM7SUFDckQsS0FBSyxDQUFDaUIsR0FBRyxDQUFDOztJQUVWO0lBQ0EsSUFBSSxDQUFDTSxZQUFZLEdBQUlMLElBQUksS0FBS1YsSUFBSSxDQUFDWCxPQUFPO0lBQ3RDLElBQUlTLHlEQUFhLENBQUNXLEdBQUcsRUFBRUssS0FBSyxDQUFDLEdBQUc7SUFDaEMsSUFBSWYsb0RBQVEsQ0FBQ1UsR0FBRyxFQUFFSyxLQUFLLENBQUMsQ0FBUTtJQUNuQzs7SUFFRFYsUUFBUSxDQUFDQyxPQUFPLENBQUNXLGVBQWUsQ0FBQ0MsU0FBUyxDQUFDQyxLQUFLLENBQUMsSUFBSSxDQUFDOztJQUV0RDtJQUNBLElBQUksQ0FBQ0MsWUFBWSxHQUFHLEVBQUU7O0lBRXRCO0lBQ0EsSUFB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QUNsSCxNQUFNLENBQUM7SUFDNUM7RUFDSjs7RUFFQW1ILFNBQVNBLENBQUEsRUFBRztJQUNSLE9BQU8sV0FBVztFQUN0QjtBQUNKOztBQUVBaEssV0FBVyxDQUFDaUosYUFBYSxHQUFHLGNBQWM7QUFDMUNqSixXQUFXLENBQUNQLElBQUksR0FBR0EsSUFBSSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL0VkaXQyRC90b29scy9Qb2x5Z29uVG9vbC5qcz81Y2RmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBvbHlnb24sIFBvbHlsaW5lLCBQYXRoLCBTdHlsZSB9IGZyb20gJy4uL0VkaXRTaGFwZXMuanMnO1xuaW1wb3J0IHsgQXJlYUxhYmVsLCBWZXJ0ZXhHaXptbywgRWRnZUxhYmVsIH0gZnJvbSAnLi4vQ2FudmFzR2l6bW8uanMnO1xuaW1wb3J0IHsgQWN0aW9ucyB9IGZyb20gJy4uL0FjdGlvbnMuanMnO1xuXG5pbXBvcnQgRWRpdFRvb2xCYXNlIGZyb20gJy4vRWRpdFRvb2xCYXNlLmpzJztcbmltcG9ydCBSZWN0YW5nbGVUb29sIGZyb20gJy4vUmVjdGFuZ2xlVG9vbC5qcyc7XG5pbXBvcnQgTGluZVRvb2wgZnJvbSAnLi9MaW5lVG9vbC5qcyc7XG5cbmNvbnN0IE1vZGUgPSB7XG4gICAgUG9seWxpbmU6IDEsXG4gICAgUG9seWdvbjogIDJcbn07XG5cbmNvbnN0IFBvbHlnb25Ub29sTmFtZSA9IFwiRWRpdDJfUG9seWdvblRvb2xcIjtcbmNvbnN0IFBvbHlsaW5lVG9vbE5hbWUgPSBcIkVkaXQyX1BvbHlsaW5lVG9vbFwiO1xuXG5jb25zdCBhdiA9IEF1dG9kZXNrLlZpZXdpbmc7XG5jb25zdCBEZWZhdWx0U3R5bGUgPSBuZXcgU3R5bGUoKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9seWdvblRvb2wgZXh0ZW5kcyBFZGl0VG9vbEJhc2Uge1xuXG4gICAgY29uc3RydWN0b3IoY3R4LCBtb2RlID0gTW9kZS5Qb2x5Z29uLCBzdHlsZSA9IG5ldyBTdHlsZSgpKSB7XG4gICAgICAgIHN1cGVyKGN0eCk7XG5cbiAgICAgICAgLy8gRGVsZWdhdGUgc2luZ2xlLWRyYWcgaW50ZXJhY3Rpb25zOlxuICAgICAgICB0aGlzLmxpbmVSZWN0VG9vbCA9IChtb2RlID09PSBNb2RlLlBvbHlnb24gID9cbiAgICAgICAgICAgIG5ldyBSZWN0YW5nbGVUb29sKGN0eCwgc3R5bGUpIDogLy8gUG9seWdvbk1vZGU6IERyYXcgcmVjdC9xdWFkIG9uIGRyYWdcbiAgICAgICAgICAgIG5ldyBMaW5lVG9vbChjdHgsIHN0eWxlKSAgICAgICAgLy8gUG9seWxpbmVNb2RlOiBEcmF3IHNpbXBsZSBsaW5lIG9uIGRyYWdcbiAgICAgICAgKTtcblxuICAgICAgICBBdXRvZGVzay5WaWV3aW5nLkV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuYXBwbHkodGhpcyk7XG5cbiAgICAgICAgLy8gQ2lyY2xlIHNoYXBlcyBwZXIgdmVydGV4XG4gICAgICAgIHRoaXMudmVydGV4R2l6bW9zID0gW107XG5cbiAgICAgICAgLy8gVGhlIHBvbHlnb24vcG9seWxpbmUgd2UgYXJlIGN1cnJlbnRseSBjcmVhdGluZyAoaWYgdG9vbCBpcyBhY3RpdmUpXG4gICAgICAgIHRoaXMucG9seSA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBTdHlsZSB1c2VkIGZvciBwb2x5Z29uIGNyZWF0aW9uXG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcblxuICAgICAgICAvLyBTdHlsZSB1c2VkIHRvIGRpc3BsYXkgdGhlIHRoaW4gbGluZSB0byBjb25uZWN0IGxhc3QgYWRkZWQgdmVydGV4IHdpdGggY3VycmVudCBtb3VzZSBwb3NpdGlvbi5cbiAgICAgICAgdGhpcy5lZGdlUHJldmlld1N0eWxlID0gbmV3IFN0eWxlKHtcbiAgICAgICAgICAgIGxpbmVXaWR0aDogMixcbiAgICAgICAgICAgIGlzU2NyZWVuU3BhY2U6IHRydWUsXG4gICAgICAgICAgICBsaW5lU3R5bGU6IDExIC8vIGRhc2hlZCBsaW5lXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHdoZXRoZXIgZWRpdGluZyBQb2x5bGluZXMgb3IgUG9seWdvbnNcbiAgICAgICAgdGhpcy5tb2RlID0gbW9kZTtcblxuICAgICAgICAvLyBsYXN0IGNhbnZhcyBwb3NpdGlvbiB3aGVyZSB3ZSBhZGRlZCBhIHZlcnRleFxuICAgICAgICB0aGlzLmxhc3RDbGlja1ggPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubGFzdENsaWNrWSA9IHVuZGVmaW5lZDtcblxuICAgICAgICB0aGlzLmtleU1hcC5DQU5DRUxfRURJVCA9IGF2LktleUNvZGUuRVNDQVBFO1xuICAgICAgICB0aGlzLmtleU1hcC5SRU1PVkVfTEFTVF9WRVJURVggPSBhdi5LZXlDb2RlLkJBQ0tTUEFDRTtcbiAgICAgICAgdGhpcy5rZXlNYXAuRklOSVNIX0VESVQgPSBbYXYuS2V5Q29kZS5FTlRFUiwgYXYuS2V5Q29kZS5jXTtcblxuICAgICAgICAvLyBGaWxsR2l6bW86IFdoZW4gZWRpdGluZyBhIHBvbHlnb24sIGZpbGxHaXptbyBkaXNwbGF5cyB0aGUgcG9seWdvbiBmb3JtZWQgYnkgYWxsIHZlcnRpY2VzICsgbW91c2VQb3NcbiAgICAgICAgdGhpcy5maWxsR2l6bW8gPSBudWxsO1xuXG4gICAgICAgIC8vIE91dGxpbmVHaXptbzogUG9seWxpbmUgdGhhdCBjb25uZWN0cyBhbGwgYWRkZWQgdmVydGljZXNcbiAgICAgICAgdGhpcy5vdXRsaW5lR2l6bW8gPSBudWxsO1xuXG4gICAgICAgIC8vIExpbmUgdG8gY29ubmVjdCBsYXN0IGFkZGVkIHZlcnRleCB3aXRoIG1vdXNlIHBvc2l0aW9uXG4gICAgICAgIHRoaXMuZWRnZVByZXZpZXdHaXptbyA9IG51bGw7XG5cbiAgICAgICAgLy8gTGFzdCB0cmFja2VkIG1vdXNlLXBvcyBpbiBsYXllci1jb29yZHMgKGFmdGVyIGNvbnNpZGVyaW5nIHNuYXBwaW5nKVxuICAgICAgICB0aGlzLm1vdXNlUG9zID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuICAgICAgICAvLyBMYWJlbCB0byBkaXNwbGF5IHBvbHlnb24gYXJlYSAtIGhpZGRlbiBieSBkZWZhdWx0XG4gICAgICAgIC8vIE5vdGUgdGhhdCB0aGUgcG9seWdvbiBwcmV2aWV3IGlzIGluIHRoZSBnaXptb0xheWVyLiBTbyB3ZSBhZGQgdGhlIGFyZWFMYWJlbCB0aGVyZSBhcyB3ZWxsIHRvIGtlZXAgaXQgaW4gc3luYy5cbiAgICAgICAgdGhpcy5hcmVhTGFiZWwgPSBuZXcgQXJlYUxhYmVsKG51bGwsIHRoaXMuZ2l6bW9MYXllciwgdGhpcy51bml0SGFuZGxlciwgZmFsc2UpO1xuXG4gICAgICAgIC8vIExhYmVsIHRvIGRpc3BsYXkgcG9seWxpbmUgbGVuZ3RoXG4gICAgICAgIHRoaXMubGVuZ3RoTGFiZWwgPSBuZXcgRWRnZUxhYmVsKHRoaXMuZ2l6bW9MYXllciwgZmFsc2UpO1xuXG4gICAgICAgIC8vIElmIHRydWUsIHdlIGFsd2F5cyBjcmVhdGUgUGF0aHMgaW5zdGVhZCBvZiBQb2x5Z29uc1xuICAgICAgICB0aGlzLmVuYWJsZUFyY3MgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIEVuYWJsZSB0aGUgYXJlYSBsYWJlbHMgKHB1YmxpYyBBUEkpXG4gICAgc2V0QXJlYUxhYmVsVmlzaWJsZSh2aXNpYmxlKSB7XG4gICAgICAgIHRoaXMuYXJlYUxhYmVsLnNldFZpc2libGUodmlzaWJsZSk7XG4gICAgfVxuXG4gICAgc2V0TGVuZ3RoTGFiZWxWaXNpYmxlKHZpc2libGUpIHtcbiAgICAgICAgdGhpcy5sZW5ndGhMYWJlbC5zZXRWaXNpYmxlKHZpc2libGUpO1xuICAgIH1cblxuICAgIC8vIElmIHRydWUsIGFsbCBuZXcgc2hhcGVzIGFyZSBQYXRocyBpbnN0ZWFkIG9mIFBvbHlnb25zL1BvbHlsaW5lcy5cbiAgICBzZXRBcmNzRW5hYmxlZChlbmFibGUpIHtcbiAgICAgICAgdGhpcy5lbmFibGVBcmNzID0gZW5hYmxlO1xuICAgICAgICB0aGlzLmxpbmVSZWN0VG9vbC5lbmFibGVBcmNzID0gZW5hYmxlO1xuICAgIH1cblxuICAgIGRlYWN0aXZhdGUoKSB7XG4gICAgICAgIHN1cGVyLmRlYWN0aXZhdGUoKTtcbiAgICAgICAgdGhpcy5jYW5jZWxFZGl0KCk7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJucyB0cnVlIHdoZW4gZWRpdGluZyBhIFBvbHlnb24sIGZhbHNlIHdoZW4gZWRpdGluZyBhIFBvbHlsaW5lIG9yIG5vdGhpbmcuXG4gICAgaXNQb2x5Z29uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb2x5ICYmIHRoaXMucG9seS5pc1BvbHlnb24oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgZGVwZW5kaW5nIHN0eWxlcyBmb3IgdGhlIHBvbHlnb24gLyBwb2x5bGluZSB0b29sLiBJdCB3aWxsIGFsc28gc2V0IG1vc3Qgb2YgdGhlIHN0eWxlcyB0byB0aGUgdGVtcG9yYXJ5IGxpbmVzXG4gICAgICogdGhhdCBhcHBlYXIgZHVyaW5nIGRyYXdpbmcuIFN0eWxlLmlzU2NyZWVuU3BhY2Ugd29uJ3QgYmUgY29uc2lkZXJlZC5cbiAgICAgKiBAcGFyYW0ge1N0eWxlfSBzdHlsZSAgICAgICAgIC0gYSBTdHlsZSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2tpcERlZmF1bHQgLSBJZiBzZXQgKGRlZmF1bHQpIGp1c3QgYXBwbHkgdGhlIHN0eWxlIHRoYXQgZGlmZmVyIGZyb20gdGhlIGRlZmF1bHQgU3R5bGVcbiAgICAgKi9cbiAgICBzZXRTdHlsZXMoc3R5bGUsIHNraXBEZWZhdWx0ID0gdHJ1ZSkge1xuICAgICAgICBpZiAoc3R5bGUubGluZUNvbG9yICE9PSBEZWZhdWx0U3R5bGUubGluZUNvbG9yIHx8ICFza2lwRGVmYXVsdCkge1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5saW5lQ29sb3IgPSBzdHlsZS5saW5lQ29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlLmxpbmVBbHBoYSAhPT0gRGVmYXVsdFN0eWxlLmxpbmVBbHBoYSB8fCAhc2tpcERlZmF1bHQpIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUubGluZUFscGhhID0gc3R5bGUubGluZUFscGhhO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHlsZS5saW5lV2lkdGggIT09IERlZmF1bHRTdHlsZS5saW5lV2lkdGggfHwgIXNraXBEZWZhdWx0KSB7XG4gICAgICAgICAgICB0aGlzLnN0eWxlLmxpbmVXaWR0aCA9IHN0eWxlLmxpbmVXaWR0aDtcbiAgICAgICAgICAgIHRoaXMubGluZVJlY3RUb29sLnN0eWxlLmxpbmVXaWR0aCA9IHN0eWxlLmxpbmVXaWR0aDtcbiAgICAgICAgICAgIHRoaXMuZWRnZVByZXZpZXdTdHlsZS5saW5lV2lkdGggPSBzdHlsZS5saW5lV2lkdGggKiAyIC8gMztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3R5bGUubGluZVN0eWxlICE9PSBEZWZhdWx0U3R5bGUubGluZVN0eWxlIHx8ICFza2lwRGVmYXVsdCkge1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5saW5lU3R5bGUgPSBzdHlsZS5saW5lU3R5bGU7XG4gICAgICAgICAgICB0aGlzLmxpbmVSZWN0VG9vbC5zdHlsZS5saW5lU3R5bGUgPSBzdHlsZS5saW5lU3R5bGU7XG4gICAgICAgICAgICAvLyBza2lwIHRoaXMuZWRnZVByZXZpZXdTdHlsZS5saW5lU3R5bGVcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdHlsZS5maWxsQ29sb3IgIT09IERlZmF1bHRTdHlsZS5maWxsQ29sb3IgfHwgIXNraXBEZWZhdWx0KSB7XG4gICAgICAgICAgICB0aGlzLnN0eWxlLmZpbGxDb2xvciA9IHN0eWxlLmZpbGxDb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3R5bGUuZmlsbEFscGhhICE9PSBEZWZhdWx0U3R5bGUuZmlsbEFscGhhIHx8ICFza2lwRGVmYXVsdCkge1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5maWxsQWxwaGEgPSBzdHlsZS5maWxsQWxwaGE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3R5bGUuaXNNaXRlckxpbmUgIT09IERlZmF1bHRTdHlsZS5pc01pdGVyTGluZSB8fCAhc2tpcERlZmF1bHQpIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuaXNNaXRlckxpbmUgPSBzdHlsZS5pc01pdGVyTGluZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2tpcCBpc1NjcmVlblNwYWNlXG4gICAgfVxuXG4gICAgLy8gSW5pdGlhbGl6ZSBhbGwgZ2l6bW9zIHdoZW4gc3RhcnRpbmcgdG8gZWRpdCBhIFBvbHlnb24vUG9seWxpbmVcbiAgICBpbml0R2l6bW9zKCkge1xuXG4gICAgICAgIC8vIEZpbGxHaXptbzogRHJhdyBmaWxsIG9mIHBvbHlnb24gZm9ybWVkIGJ5IGFkZGVkIHZlcnRpY2VzICsgbW91c2VQb3NcbiAgICAgICAgaWYgKHRoaXMuaXNQb2x5Z29uKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZmlsbEdpem1vID0gbmV3IFBvbHlnb24oW10sIHRoaXMuc3R5bGUuY2xvbmUoKSk7XG4gICAgICAgICAgICB0aGlzLmZpbGxHaXptby5zdHlsZS5saW5lQWxwaGEgPSAwO1xuICAgICAgICAgICAgdGhpcy5naXptb0xheWVyLmFkZFNoYXBlKHRoaXMuZmlsbEdpem1vKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE91dGxpbmVHaXptbzogQ29ubmVjdCBhZGRlZCB2ZXJ0aWNlc1xuICAgICAgICB0aGlzLm91dGxpbmVHaXptbyA9IG5ldyBQb2x5bGluZShbXSwgdGhpcy5zdHlsZS5jbG9uZSgpKTtcbiAgICAgICAgdGhpcy5naXptb0xheWVyLmFkZFNoYXBlKHRoaXMub3V0bGluZUdpem1vKTtcblxuICAgICAgICAvLyBDdXJyZW50RWRnZUdpem1vOiBEcmF3IGRhc2hlZCBsaW5lIGZyb20gbGFzdCB2ZXJ0ZXggdG8gbW91c2VQb3MuXG4gICAgICAgIHRoaXMuZWRnZVByZXZpZXdHaXptbyA9IG5ldyBQb2x5bGluZShbXSwgdGhpcy5lZGdlUHJldmlld1N0eWxlKTtcbiAgICAgICAgdGhpcy5lZGdlUHJldmlld0dpem1vLnN0eWxlLmxpbmVDb2xvciA9IHRoaXMucG9seS5zdHlsZS5saW5lQ29sb3I7XG4gICAgICAgIHRoaXMuZ2l6bW9MYXllci5hZGRTaGFwZSh0aGlzLmVkZ2VQcmV2aWV3R2l6bW8pO1xuXG4gICAgICAgIHRoaXMuYXJlYUxhYmVsLnNldFNoYXBlKHRoaXMuZmlsbEdpem1vKTtcblxuICAgICAgICAvLyBGb3IgUG9seWxpbmVzLCBhdHRhY2ggbGFiZWwgdG8gcHJldmlldyBlZGdlIHRoYXQgZGlzcGxheXMgdGhlIHN1bW1lZCBsZW5ndGhcbiAgICAgICAgaWYgKHRoaXMucG9seSAmJiB0aGlzLnBvbHkuaXNQb2x5bGluZSgpKSB7XG4gICAgICAgICAgICB0aGlzLmxlbmd0aExhYmVsLmF0dGFjaFRvRWRnZSh0aGlzLmVkZ2VQcmV2aWV3R2l6bW8sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xlYXJHaXptb3MoKSB7XG4gICAgICAgIGlmICh0aGlzLmZpbGxHaXptbykge1xuICAgICAgICAgICAgdGhpcy5naXptb0xheWVyLnJlbW92ZVNoYXBlKHRoaXMuZmlsbEdpem1vKTtcbiAgICAgICAgICAgIHRoaXMuZmlsbEdpem1vID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXJlYUxhYmVsLnNldFNoYXBlKG51bGwpO1xuICAgICAgICB0aGlzLmxlbmd0aExhYmVsLmRldGFjaEZyb21FZGdlKCk7XG5cbiAgICAgICAgaWYgKHRoaXMub3V0bGluZUdpem1vKSB7XG4gICAgICAgICAgICB0aGlzLmdpem1vTGF5ZXIucmVtb3ZlU2hhcGUodGhpcy5vdXRsaW5lR2l6bW8pO1xuICAgICAgICAgICAgdGhpcy5vdXRsaW5lR2l6bW8gPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZWRnZVByZXZpZXdHaXptbykge1xuICAgICAgICAgICAgdGhpcy5naXptb0xheWVyLnJlbW92ZVNoYXBlKHRoaXMuZWRnZVByZXZpZXdHaXptbyk7XG4gICAgICAgICAgICB0aGlzLmVkZ2VQcmV2aWV3R2l6bW8gPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xlYXIgdmVydGV4IGdpem1vc1xuICAgICAgICBmb3IgKGxldCBpPTA7IGk8dGhpcy52ZXJ0ZXhHaXptb3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMudmVydGV4R2l6bW9zW2ldLmR0b3IoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZlcnRleEdpem1vcy5sZW5ndGggPSAwO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBnaXptb3MgYW5kIHNuYXBwaW5nIGlmIHBvbHlnb24gd2FzIG1vZGlmaWVkXG4gICAgcG9seU1vZGlmaWVkKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZUdpem1vcygpO1xuXG4gICAgICAgIC8vIENvbmZpZ3VyZSBhbmdsZSBzbmFwcGluZyB0byBjb25zaWRlciBsYXRlc3Qgc3RhdGUgb2YgdGhlIHBvbHlnb25cbiAgICAgICAgLy8gTm90ZSB0aGF0IGFuZ2xlU25hcHBlciByZXF1aXJlcyB0aGUgc2hhcGUgaW5jbHVkaW5nIFwidmVydGV4IHVuZGVyIG1vdXNlXCIsIHdoaWxlXG4gICAgICAgIC8vIHRoaXMucG9seSBvbmx5IGNvbnRhaW5zIHRoZSBhbHJlYWR5IGFkZGVkL2NsaWNrZWQgdmVydGljZXMuXG4gICAgICAgIC8vIE5vdGUgdGhhdCB3ZSBjYW5ub3QgdXNlIGZpbGxHaXptbyBoZXJlLCBiZWNhdXNlIGl0IGRvZXMgbm90IGV4aXN0IGZvciBwb2x5bGluZXMuXG4gICAgICAgIGNvbnN0IHNuYXBHZW9tID0gdGhpcy5wb2x5LmNsb25lKCk7XG4gICAgICAgIHNuYXBHZW9tLmFkZFBvaW50KHRoaXMubW91c2VQb3MueCwgdGhpcy5tb3VzZVBvcy55KTtcbiAgICAgICAgdGhpcy5zbmFwcGVyLnN0YXJ0QW5nbGVTbmFwcGluZyhzbmFwR2VvbSwgdGhpcy5wb2x5LnZlcnRleENvdW50LCAwKTsgLy8gRm9yIG5ldyBwb2x5Z29ucywgbG9vcEluZGV4IGlzIGFsd2F5cyAwXG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIGdpem1vcyBpZiB2ZXJ0aWNlcyBvZiBjdXJyZW50IHBvbHlnb24vcG9seWxpbmUgaGF2ZSBjaGFuZ2VkXG4gICAgdXBkYXRlR2l6bW9zKCkge1xuXG4gICAgICAgIC8vIEZpbGxHaXptbzogU2hvdyBmaWxsIHdpdGhvdXQgb3V0bGluZSBmb3IgdGhlIHBvbHlnb24gZm9ybWVkIGJ5IGFsbCBhZGRlZFxuICAgICAgICAvLyB2ZXJ0aWNlcyArIGN1cnJlbnQgbW91c2VQb3NcbiAgICAgICAgaWYgKHRoaXMuZmlsbEdpem1vKSB7XG4gICAgICAgICAgICAvLyBjb3B5IHZlcnRpY2VzIG9mIG1haW4gcG9seWdvbiAobm90IGdlb20sIG5vdCBzdHlsZSlcbiAgICAgICAgICAgIHRoaXMuZmlsbEdpem1vLmNsZWFyKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpPTA7IGk8dGhpcy5wb2x5LnZlcnRleENvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gdGhpcy5wb2x5LmdldFBvaW50KGkpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsbEdpem1vLmFkZFBvaW50KHAueCwgcC55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFkZCBhZGRpdGlvbmFsIHBvaW50IHRoYXQgdHJhY2VzIG1vdXNlLXBvc1xuICAgICAgICAgICAgdGhpcy5maWxsR2l6bW8uYWRkUG9pbnQodGhpcy5tb3VzZVBvcy54LCB0aGlzLm1vdXNlUG9zLnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT3V0bGluZUdpem1vOiBTb2xpZCBwb2x5bGluZSB0aGF0IGNvbm5lY3RzIGFsbCBhZGRlZCB2ZXJ0aWNlc1xuICAgICAgICB0aGlzLm91dGxpbmVHaXptby5jbGVhcigpO1xuICAgICAgICBpZiAodGhpcy5wb2x5LnZlcnRleENvdW50ID49IDIpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGk9MDsgaTx0aGlzLnBvbHkudmVydGV4Q291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSB0aGlzLnBvbHkuZ2V0UG9pbnQoaSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vdXRsaW5lR2l6bW8uYWRkUG9pbnQocC54LCBwLnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY3VycmVudEVkZ2VHaXptbzogRGFzaGVkIGxpbmUgdG8gY29ubmVjdCBsYXN0IGFkZGVkIHZlcnRleCB3aXRoIG1vdXNlIHBvc2l0aW9uXG4gICAgICAgIHRoaXMuZWRnZVByZXZpZXdHaXptby5jbGVhcigpO1xuICAgICAgICBpZiAodGhpcy5wb2x5LnZlcnRleENvdW50ID49IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHBMYXN0ID0gdGhpcy5wb2x5LmdldFBvaW50KHRoaXMucG9seS52ZXJ0ZXhDb3VudC0xKTtcbiAgICAgICAgICAgIHRoaXMuZWRnZVByZXZpZXdHaXptby5hZGRQb2ludChwTGFzdC54LCBwTGFzdC55KTtcbiAgICAgICAgICAgIHRoaXMuZWRnZVByZXZpZXdHaXptby5hZGRQb2ludCh0aGlzLm1vdXNlUG9zLngsIHRoaXMubW91c2VQb3MueSk7XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGVuZ3RoTGFiZWwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2l6bW9MYXllci51cGRhdGUoKTtcbiAgICB9XG5cbiAgICB1cGRhdGVMZW5ndGhMYWJlbCgpIHtcbiAgICAgICAgLy8gQ29tcHV0ZSByZXN1bHRpbmcgbGVuZ3RoIG9mIHBvbHlsaW5lIGluY2x1ZGluZyBwcmV2aWV3RWRnZVxuICAgICAgICBpZiAodGhpcy5wb2x5ICYmIHRoaXMucG9seS5pc1BvbHlsaW5lKCkpIHtcbiAgICAgICAgICAgIC8vIGdldCB0cmFuc2Zvcm0gZnJvbSBnZW9tZXRyeSBjb29yZHMgdG8gbWVhc3VyZSBjb29yZGluYXRlIHN5c3RlbVxuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gdGhpcy51bml0SGFuZGxlci5tZWFzdXJlVHJhbnNmb3JtO1xuXG4gICAgICAgICAgICBsZXQgbGVuZ3RoID0gdGhpcy5wb2x5LmdldExlbmd0aCh0cmFuc2Zvcm0pICsgdGhpcy5lZGdlUHJldmlld0dpem1vLmdldExlbmd0aCh0cmFuc2Zvcm0pO1xuICAgICAgICAgICAgbGV0IGxlbmd0aFN0ciA9IHRoaXMudW5pdEhhbmRsZXIubGVuZ3RoVG9TdHJpbmcobGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMubGVuZ3RoTGFiZWwuc2V0VGV4dChsZW5ndGhTdHIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm1vZGUgPT09IE1vZGUuUG9seWdvbiA/IFBvbHlnb25Ub29sTmFtZSA6IFBvbHlsaW5lVG9vbE5hbWUpICsgdGhpcy5uYW1lU3VmZml4O1xuICAgIH1cblxuICAgIGhhbmRsZU1vdXNlTW92ZShldmVudCkge1xuICAgICAgICBzdXBlci5oYW5kbGVNb3VzZU1vdmUoZXZlbnQpO1xuXG4gICAgICAgIGlmICghZXZlbnQuYnV0dG9ucykge1xuICAgICAgICAgICAgLy8gV2hlbiBub3QgZHJhZ2dpbmcsIHdlIGFsd2F5cyByZXR1cm4gZmFsc2UgaGVyZS4gT3RoZXJ3aXNlLCB0aGUgZXZlbnQgd2lsbCBub3QgcHJvcGFnYXRlZFxuICAgICAgICAgICAgLy8gdG8gbmF2aWdhdGlvbiB0b29scywgc28gdGhhdCB0aGUgem9vbSBmb2N1cyBpcyBub3QgdXBkYXRlZCBwcm9wZXJseS5cbiAgICAgICAgICAgIHRoaXMub25Ib3ZlcihldmVudC5jYW52YXNYLCBldmVudC5jYW52YXNZKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5saW5lUmVjdFRvb2wuaGFuZGxlTW91c2VNb3ZlKGV2ZW50KTtcbiAgICB9XG5cbiAgICBvbkhvdmVyKGNhbnZhc1gsIGNhbnZhc1kpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgc2hhcGUgZWRpdGluZyBpcyBhbHJlYWR5IGluIHByb2dyZXNzXG4gICAgICAgIGlmICghdGhpcy5wb2x5KSB7XG5cbiAgICAgICAgICAgIC8vIFBlcmZvcm0gc25hcHBpbmcgY2hlY2ssIHNvIHRoYXQgU25hcHBpbmdJbmRpY2F0b3IgcmVmbGVjdHMgaWYgdGhlIHN0YXJ0IHBvaW50IHdvdWxkIGJlIHNuYXBwZWQuXG4gICAgICAgICAgICB0aGlzLmdldFNuYXBQb3NpdGlvbihjYW52YXNYLCBjYW52YXNZKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwTGF5ZXIgPSB0aGlzLmxheWVyLmNhbnZhc1RvTGF5ZXIoY2FudmFzWCwgY2FudmFzWSk7XG5cbiAgICAgICAgLy8gV2hlbiBob3ZlcmluZyB0aGUgc3RhcnQgdmVydGV4IHRoYXQgd2lsbCBjbG9zZSB0aGUgcG9seWdvbiAob3IgbGluZS1sb29wKSwgZG9uJ3Qgc2hvdyBhbnkgc25hcHBpbmcgaW5kaWNhdG9yc1xuICAgICAgICBjb25zdCBjbG9zaW5nQWxsb3dlZCA9IHRoaXMucG9seS52ZXJ0ZXhDb3VudCA+PSAzO1xuICAgICAgICBjb25zdCBzdGFydFZlcnRleEhpdCA9IGNsb3NpbmdBbGxvd2VkICYmIHRoaXMuZ2l6bW9NYW5hZ2VyLmlzVW5kZXJNb3VzZSh0aGlzLnZlcnRleEdpem1vc1swXSk7XG4gICAgICAgIHRoaXMuc2V0U3RhcnRWZXJ0ZXhIaWdobGlnaHRlZChzdGFydFZlcnRleEhpdCk7IC8vIGluZGljYXRlIHdoZW4gaG92aW5nIGNsb3NpbmctdmVydGV4XG4gICAgICAgIGlmIChzdGFydFZlcnRleEhpdCkge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIHNuYXBwaW5nIGluZGljYXRvcnNcbiAgICAgICAgICAgIHRoaXMuc25hcHBlci5jbGVhclNuYXBwaW5nR2l6bW9zKCk7XG5cbiAgICAgICAgICAgIC8vIHNuYXAgcG9zaXRpb24gdG8gdmVydGV4IGNlbnRlclxuICAgICAgICAgICAgcExheWVyLmNvcHkodGhpcy52ZXJ0ZXhHaXptb3NbMF0ubGF5ZXJQb3MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gU3RhbmRhcmQgY2FzZTogSWYgbW91c2UgaXMgbm90IG9uIHN0YXJ0IHZlcnRleCwgYWxsb3cgc3RhbmRhcmQgc25hcHBpbmdcbiAgICAgICAgICAgIHBMYXllciA9IHRoaXMuZ2V0U25hcFBvc2l0aW9uKGNhbnZhc1gsIGNhbnZhc1kpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdHJhY2sgbGFzdCBtb3VzZSBwb3NcbiAgICAgICAgdGhpcy5tb3VzZVBvcy5jb3B5KHBMYXllcik7XG5cbiAgICAgICAgLy8gSnVzdCBob3ZlcjogT25seSB1cGRhdGUgdmVydGV4LXBvc2l0aW9ucyBmb3IgZmlsbEdpem1vLCBlZGdlUHJldmlldyBhbmQgYWxpZ25tZW50R2l6bW9cbiAgICAgICAgdGhpcy5lZGdlUHJldmlld0dpem1vLnVwZGF0ZVBvaW50KDEsIHBMYXllci54LCBwTGF5ZXIueSk7XG4gICAgICAgIHRoaXMuZmlsbEdpem1vICYmIHRoaXMuZmlsbEdpem1vLnVwZGF0ZVBvaW50KHRoaXMuZmlsbEdpem1vLnZlcnRleENvdW50LTEsIHBMYXllci54LCBwTGF5ZXIueSk7IC8vIHdpbGwgYmUgbnVsbCBpZiB0aGlzLnBvbHkgaXMgYSBQb2x5bGluZVxuICAgICAgICB0aGlzLmdpem1vTGF5ZXIudXBkYXRlKCk7XG4gICAgICAgIHRoaXMudXBkYXRlTGVuZ3RoTGFiZWwoKTtcbiAgICB9XG5cbiAgICAvLyBJZiB3ZSBoYXZlIGVub3VnaCB2ZXJ0aWNlcywgY2xpY2tpbmcgb24gdGhlIGZpcnN0IHZlcnRleCBnaXptbyBhZ2FpbiB3aWxsIGZpbmlzaCB0aGUgc2hhcGUuXG4gICAgaGFuZGxlU3RhcnRWZXJ0ZXhDbGlja2VkKGV2ZW50KSB7XG5cbiAgICAgICAgaWYgKCF0aGlzLnBvbHkgJiYgdGhpcy5wb2x5LnZlcnRleENvdW50IDwgMykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9yIHBvbHlsaW5lcywgd2UgaGF2ZSB0byByZXBlYXQgdGhlIGZpcnN0IHZlcnRleCB0byBjbG9zZSBpdFxuICAgICAgICBpZiAodGhpcy5wb2x5LmlzUG9seWxpbmUoKSkge1xuICAgICAgICAgICAgY29uc3QgcFN0YXJ0ID0gdGhpcy5wb2x5LmdldFBvaW50KDApO1xuICAgICAgICAgICAgdGhpcy5hZGRWZXJ0ZXgocFN0YXJ0LngsIHBTdGFydC55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpbmlzaCBlZGl0aW5nXG4gICAgICAgIHRoaXMuZmluaXNoUG9seWdvbigpO1xuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBldmVudCBpcyBub3QgcGFzc2VkIG9uIHRvIFRvb2xNYW5hZ2VyLiBPdGhlcndpc2UsXG4gICAgICAgIC8vIHdlIHdvdWxkIGV2YWx1YXRlIGl0IGEgc2Vjb25kIHRpbWUgaW4gaGFuZGxlU2luZ2xlQ2xpY2soKVxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgdmVydGV4IG9uIHNpbmdsZS1jbGlja1xuICAgIGhhbmRsZVNpbmdsZUNsaWNrKGV2ZW50LCBidXR0b24pIHtcbiAgICAgICAgc3VwZXIuaGFuZGxlU2luZ2xlQ2xpY2soZXZlbnQsIGJ1dHRvbik7XG5cbiAgICAgICAgLy8gT25seSByZXNwb25kIHRvIGxlZnQgbW91c2UgYnV0dG9uLlxuICAgICAgICBpZiAoIWJ1dHRvbiA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBdm9pZCBkdXBsaWNhdGUgdmVydGljZXMgb24gZG91YmxlLWNsaWNrc1xuICAgICAgICBpZiAodGhpcy52ZXJ0ZXhHaXptb3MubGVuZ3RoID4gMCAmJiBldmVudC5jYW52YXNYID09PSB0aGlzLmxhc3RDbGlja1ggJiYgZXZlbnQuY2FudmFzWSA9PT0gdGhpcy5sYXN0Q2xpY2tZKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubGFzdENsaWNrWCA9IGV2ZW50LmNhbnZhc1g7XG4gICAgICAgIHRoaXMubGFzdENsaWNrWSA9IGV2ZW50LmNhbnZhc1k7XG5cbiAgICAgICAgdGhpcy5tb3VzZVBvcy5jb3B5KHRoaXMuZ2V0U25hcFBvc2l0aW9uKGV2ZW50LmNhbnZhc1gsIGV2ZW50LmNhbnZhc1kpKTtcblxuICAgICAgICBpZiAodGhpcy5tb3VzZVRyYWNrZXIpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VUcmFja2VyLnN0YXJ0VHJhY2tpbmcodGhpcy5nZXROYW1lKCksQXV0b2Rlc2suRWRpdDJELlRyYWNraW5ncy5DbGljayk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbml0IHBvbHlnb24gb24gZmlyc3QgY2xpY2tcbiAgICAgICAgaWYgKCF0aGlzLnBvbHkpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRQb2x5KHRoaXMubW91c2VQb3MueCwgdGhpcy5tb3VzZVBvcy55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWRkVmVydGV4KHRoaXMubW91c2VQb3MueCwgdGhpcy5tb3VzZVBvcy55KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaGFuZGxlQnV0dG9uRG93bihldmVudCwgYnV0dG9uKSB7XG4gICAgICAgIC8vIFN1cHBvcnQgc3VwcHJlc3NpbmcgbW91c2UgYnV0dG9ucyBieSBob2xkaW5nIGEga2V5LiBOb3RlIHRoYXQgd2Ugb25seSBuZWVkIHRoYXQgZm9yIGRyYWdnaW5nIG9wZXJhdGlvbnMuXG4gICAgICAgIGlmICh0aGlzLmlnbm9yZURyYWdnaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBubyBjbGlja3MgaGF2ZSBiZWVuIG1hZGUgc28gZmFyLCBhbGxvdyB0byBkcmFnIGxpbmUvcmVjdGFuZ2xlLlxuICAgICAgICBpZiAoIXRoaXMucG9seSkge1xuICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIHNlbGVjdGlvbiwgdGhpcyB3aWxsIG1ha2Ugc3VyZSBhbGwgb3RoZXIgZ2l6bW9zIGdldCByZW1vdmVkXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5jbGVhcigpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saW5lUmVjdFRvb2wuaGFuZGxlQnV0dG9uRG93bihldmVudCwgYnV0dG9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBoYW5kbGVCdXR0b25VcChldmVudCwgYnV0dG9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVSZWN0VG9vbC5oYW5kbGVCdXR0b25VcChldmVudCwgYnV0dG9uKTtcbiAgICB9XG5cbiAgICBoYW5kbGVEb3VibGVDbGljayhldmVudCwgYnV0dG9uKSB7XG4gICAgICAgIHN1cGVyLmhhbmRsZURvdWJsZUNsaWNrKGV2ZW50LCBidXR0b24pO1xuXG4gICAgICAgIC8vIE9ubHkgcmVzcG9uZCB0byBsZWZ0IG1vdXNlIGJ1dHRvbi5cbiAgICAgICAgaWYgKCFidXR0b24gPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5maW5pc2hQb2x5Z29uKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIFN0YXJ0IG5ldyBwb2x5bGluZSBvciBwb2x5Z29uXG4gICAgc3RhcnRQb2x5KHgsIHkpIHtcblxuICAgICAgICBpZiAodGhpcy5lbmFibGVBcmNzKSB7XG4gICAgICAgICAgICAvLyBBcmNzIGVuYWJsZWQ6IEFsd2F5cyBjcmVhdGUgUGF0aHNcbiAgICAgICAgICAgIGNvbnN0IGlzQ2xvc2VkID0gKHRoaXMubW9kZSA9PT0gTW9kZS5Qb2x5Z29uKTtcbiAgICAgICAgICAgIHRoaXMucG9seSA9IG5ldyBQYXRoKFtdLCBpc0Nsb3NlZCwgdGhpcy5zdHlsZS5jbG9uZSgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5vIGFyY3MgZW5hYmxlZDogQ3JlYXRlIFBvbHlnb25zIG9yIFBvbHlsaW5lc1xuICAgICAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gTW9kZS5Qb2x5Z29uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wb2x5ID0gbmV3IFBvbHlnb24oW10sIHRoaXMuc3R5bGUuY2xvbmUoKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucG9seSA9IG5ldyBQb2x5bGluZShbXSwgdGhpcy5zdHlsZS5jbG9uZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW5pdEdpem1vcygpO1xuICAgIH1cblxuICAgIGFkZFZlcnRleCh4LCB5KSB7XG5cbiAgICAgICAgLy8gYWRkIFwibmV4dFwiIHBvaW50IC0gd2hpY2ggd2lsbCBmb2xsb3cgdGhlIG1vdXNlIG1vdGlvblxuICAgICAgICAvLyB1bnRpbCBuZXh0IGNsaWNrXG4gICAgICAgIHRoaXMucG9seS5hZGRQb2ludCh4LCB5KTtcblxuICAgICAgICAvLyBhZGQgdmVydGV4LWdpem1vXG4gICAgICAgIGNvbnN0IG5hbWUgPSAnUG9seWdvblRvb2xfdmVydGV4R2l6bW9fJyArIHRoaXMudmVydGV4R2l6bW9zLmxlbmd0aDtcbiAgICAgICAgY29uc3QgdmVydGV4ID0gbmV3IFZlcnRleEdpem1vKHRoaXMuZ2l6bW9MYXllciwgeCwgeSwgbmFtZSk7XG4gICAgICAgIHRoaXMudmVydGV4R2l6bW9zLnB1c2godmVydGV4KTtcblxuICAgICAgICAvLyBGb3IgdGhlIHN0YXJ0IHZlcnRleC1naXptbywgd2UgcmVnaXN0ZXIgYSBoYW5kbGVyIHRvIGZpbmlzaCB0aGUgcG9seWdvbiB3aGVuIGNsaWNraW5nIGl0IGFnYWluXG4gICAgICAgIGNvbnN0IGlzU3RhcnRWZXJ0ZXggPSB0aGlzLnZlcnRleEdpem1vcy5sZW5ndGggPT09IDE7XG4gICAgICAgIGlmIChpc1N0YXJ0VmVydGV4KSB7XG4gICAgICAgICAgICB2ZXJ0ZXguY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHRoaXMuaGFuZGxlU3RhcnRWZXJ0ZXhDbGlja2VkKGUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucG9seU1vZGlmaWVkKCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlTGFzdFZlcnRleCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBvbHkgfHwgIXRoaXMucG9seS52ZXJ0ZXhDb3VudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FuY2VsIGVkaXQgaWYgdGhlcmUgd2FzIG9ubHkgdGhlIHN0YXJ0aW5nIHBvaW50LlxuICAgICAgICBpZiAodGhpcy5wb2x5LnZlcnRleENvdW50IDw9IDEpIHtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsRWRpdCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubW91c2VUcmFja2VyKSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlVHJhY2tlci5zdG9wVHJhY2tpbmcodGhpcy5nZXROYW1lKCksQXV0b2Rlc2suRWRpdDJELlRyYWNraW5ncy5DbGljayk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBvbHkucmVtb3ZlUG9pbnQodGhpcy5wb2x5LnZlcnRleENvdW50LTEpO1xuXG4gICAgICAgIC8vIHJlbW92ZSBsYXN0IGFkZGVkIHZlcnRleCBnaXptb1xuICAgICAgICBjb25zdCBsYXN0R2l6bW8gPSB0aGlzLnZlcnRleEdpem1vc1t0aGlzLnZlcnRleEdpem1vcy5sZW5ndGgtMV07XG4gICAgICAgIGxhc3RHaXptby5kdG9yKCk7XG4gICAgICAgIHRoaXMudmVydGV4R2l6bW9zLnBvcCgpO1xuXG4gICAgICAgIHRoaXMucG9seU1vZGlmaWVkKCk7XG4gICAgfVxuXG4gICAgZmluaXNoUG9seWdvbigpIHtcbiAgICAgICAgaWYgKHRoaXMubW91c2VUcmFja2VyKSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlVHJhY2tlci5zdG9wVHJhY2tpbmcodGhpcy5nZXROYW1lKCksQXV0b2Rlc2suRWRpdDJELlRyYWNraW5ncy5DbGljayk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgYWxsIHZlcnRleCBnaXptb3NcbiAgICAgICAgdGhpcy5jbGVhckdpem1vcygpO1xuXG4gICAgICAgIC8vIFN0b3Agc25hcHBpbmcgdG8gZWRnZXMgb2YgdGhpcyBwb2x5Z29uXG4gICAgICAgIHRoaXMuc25hcHBlci5zdG9wQW5nbGVTbmFwcGluZygpO1xuXG4gICAgICAgIC8vIG1vdmUgcG9seWdvbiB0byBtYWluIGxheWVyXG4gICAgICAgIHRoaXMucnVuQWN0aW9uKG5ldyBBY3Rpb25zLkFkZFNoYXBlKHRoaXMubGF5ZXIsIHRoaXMucG9seSkpO1xuXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTogUG9seWdvblRvb2wuUE9MWUdPTl9BRERFRCwgcG9seWdvbjogdGhpcy5wb2x5fSk7XG5cbiAgICAgICAgLy8gU3RhcnQgYW5vdGhlciBwb2x5Z29uIG9uIG5leHQgY2xpY2tcbiAgICAgICAgdGhpcy5wb2x5ID0gbnVsbDtcbiAgICB9XG5cbiAgICBjYW5jZWxFZGl0KCkge1xuICAgICAgICBpZiAodGhpcy5tb3VzZVRyYWNrZXIpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VUcmFja2VyLnN0b3BUcmFja2luZyh0aGlzLmdldE5hbWUoKSxBdXRvZGVzay5FZGl0MkQuVHJhY2tpbmdzLkNsaWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmxpbmVSZWN0VG9vbC5pc0RyYWdnaW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMubGluZVJlY3RUb29sLmNhbmNlbERyYWcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnBvbHkpIHtcbiAgICAgICAgICAgIHRoaXMuZ2l6bW9MYXllci5yZW1vdmVTaGFwZSh0aGlzLnBvbHkpO1xuICAgICAgICAgICAgdGhpcy5wb2x5ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2xlYXJHaXptb3MoKTtcbiAgICAgICAgdGhpcy5zbmFwcGVyLnN0b3BBbmdsZVNuYXBwaW5nKCk7XG4gICAgfVxuXG4gICAgaGFuZGxlRmluaXNoS2V5KGV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5wb2x5KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBdm9pZCBjbG9zaW5nIGlmIGl0IHdvdWxkIHJlc3VsdCBpbiBhIHBvbHlnb24gdGhhdCBpcyBkZWdlbmVyYXRlZCB0byBhIGxpbmUuXG4gICAgICAgIGlmICh0aGlzLmlzUG9seWdvbigpICYmIHRoaXMucG9seS52ZXJ0ZXhDb3VudCA8IDMpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmluaXNoUG9seWdvbigpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBoYW5kbGVLZXlEb3duKGV2ZW50LCBrZXlDb2RlKSB7XG4gICAgICAgIGxldCBoYW5kbGVkID0gc3VwZXIuaGFuZGxlS2V5RG93bihldmVudCwga2V5Q29kZSk7XG5cbiAgICAgICAgLy8gZGVsZWdhdGUgdG8gcmVjdFRvb2xcbiAgICAgICAgaGFuZGxlZCA9IHRoaXMubGluZVJlY3RUb29sLmhhbmRsZUtleURvd24oZXZlbnQsIGtleUNvZGUpIHx8IGhhbmRsZWQ7XG5cbiAgICAgICAgLy8gTWFwIGV2ZW50IHRvIGFueSBrbm93biBrZXkgaW4gdGhpcy5rZXlNYXBcbiAgICAgICAgbGV0IGZ1bmNLZXkgPSB0aGlzLm1hcEtleShldmVudCwgdGhpcy5rZXlNYXApO1xuICAgICAgICBzd2l0Y2goZnVuY0tleSkge1xuICAgICAgICAgICAgY2FzZSAnQ0FOQ0VMX0VESVQnOiAgICAgICAgdGhpcy5jYW5jZWxFZGl0KCk7ICAgICAgIGhhbmRsZWQgPSB0cnVlOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1JFTU9WRV9MQVNUX1ZFUlRFWCc6IHRoaXMucmVtb3ZlTGFzdFZlcnRleCgpOyBoYW5kbGVkID0gdHJ1ZTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdGSU5JU0hfRURJVCc6ICAgICAgICBoYW5kbGVkID0gdGhpcy5oYW5kbGVGaW5pc2hLZXkoZXZlbnQpOyBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFuZGxlZDtcbiAgICB9O1xuXG4gICAgaGFuZGxlS2V5VXAoZXZlbnQsIGtleUNvZGUpIHtcbiAgICAgICAgc3VwZXIuaGFuZGxlS2V5VXAoZXZlbnQsIGtleUNvZGUpO1xuICAgICAgICB0aGlzLmxpbmVSZWN0VG9vbC5oYW5kbGVLZXlVcChldmVudCwga2V5Q29kZSk7XG4gICAgfVxuXG4gICAgLy8gSWYgc25hcHBpbmcgaGFzIHRvZ2dsZWQgb24vb2ZmLCB3ZSBpbnN0YW50bHkgXCJyZXBsYXlcIiBob3ZlcmluZyBhdCBjdXJyZW50IG1vdXNlIHBvc2l0aW9uLiBQdXJwb3NlIGlzIHRvXG4gICAgLy8gZ2l2ZSBpbnN0YW50IGZlZWRiYWNrIChlLmcuIGhpZGUvc2hvdyBTbmFwTGluZSBnaXptb3MgYW5kIGFkanVzdCBwb3NpdGlvbiBvZiBwcmV2aWV3IGVkZ2UpXG4gICAgb25TbmFwcGluZ1RvZ2dsZWQoY2FudmFzWCwgY2FudmFzWSkge1xuICAgICAgICB0aGlzLm9uSG92ZXIoY2FudmFzWCwgY2FudmFzWSk7XG4gICAgfVxuXG4gICAgbW91c2VPblN0YXJ0VmVydGV4KCkge1xuICAgICAgICBpZiAoIXRoaXMudmVydGV4R2l6bW9zWzBdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiBzdGFydCB2ZXJ0ZXggd2FzIGNsaWNrZWRcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2l6bW9NYW5hZ2VyKHRoaXMudGhpcy52ZXJ0ZXhHaXptb3NbMF0pO1xuICAgIH1cblxuICAgIHNldFN0YXJ0VmVydGV4SGlnaGxpZ2h0ZWQoZW5hYmxlKSB7XG4gICAgICAgIGlmICh0aGlzLnZlcnRleEdpem1vc1swXSkge1xuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhHaXptb3NbMF0uc2V0U2VsZWN0ZWQoZW5hYmxlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEN1cnNvcigpIHtcbiAgICAgICAgcmV0dXJuICdjcm9zc2hhaXInO1xuICAgIH1cbn1cblxuUG9seWdvblRvb2wuUE9MWUdPTl9BRERFRCA9IFwicG9seWdvbkFkZGVkXCI7XG5Qb2x5Z29uVG9vbC5Nb2RlID0gTW9kZTtcbiJdLCJuYW1lcyI6WyJQb2x5Z29uIiwiUG9seWxpbmUiLCJQYXRoIiwiU3R5bGUiLCJBcmVhTGFiZWwiLCJWZXJ0ZXhHaXptbyIsIkVkZ2VMYWJlbCIsIkFjdGlvbnMiLCJFZGl0VG9vbEJhc2UiLCJSZWN0YW5nbGVUb29sIiwiTGluZVRvb2wiLCJNb2RlIiwiUG9seWdvblRvb2xOYW1lIiwiUG9seWxpbmVUb29sTmFtZSIsImF2IiwiQXV0b2Rlc2siLCJWaWV3aW5nIiwiRGVmYXVsdFN0eWxlIiwiUG9seWdvblRvb2wiLCJjb25zdHJ1Y3RvciIsImN0eCIsIm1vZGUiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJzdHlsZSIsImxpbmVSZWN0VG9vbCIsIkV2ZW50RGlzcGF0Y2hlciIsInByb3RvdHlwZSIsImFwcGx5IiwidmVydGV4R2l6bW9zIiwicG9seSIsImVkZ2VQcmV2aWV3U3R5bGUiLCJsaW5lV2lkdGgiLCJpc1NjcmVlblNwYWNlIiwibGluZVN0eWxlIiwibGFzdENsaWNrWCIsImxhc3RDbGlja1kiLCJrZXlNYXAiLCJDQU5DRUxfRURJVCIsIktleUNvZGUiLCJFU0NBUEUiLCJSRU1PVkVfTEFTVF9WRVJURVgiLCJCQUNLU1BBQ0UiLCJGSU5JU0hfRURJVCIsIkVOVEVSIiwiYyIsImZpbGxHaXptbyIsIm91dGxpbmVHaXptbyIsImVkZ2VQcmV2aWV3R2l6bW8iLCJtb3VzZVBvcyIsIlRIUkVFIiwiVmVjdG9yMiIsImFyZWFMYWJlbCIsImdpem1vTGF5ZXIiLCJ1bml0SGFuZGxlciIsImxlbmd0aExhYmVsIiwiZW5hYmxlQXJjcyIsInNldEFyZWFMYWJlbFZpc2libGUiLCJ2aXNpYmxlIiwic2V0VmlzaWJsZSIsInNldExlbmd0aExhYmVsVmlzaWJsZSIsInNldEFyY3NFbmFibGVkIiwiZW5hYmxlIiwiZGVhY3RpdmF0ZSIsImNhbmNlbEVkaXQiLCJpc1BvbHlnb24iLCJzZXRTdHlsZXMiLCJza2lwRGVmYXVsdCIsImxpbmVDb2xvciIsImxpbmVBbHBoYSIsImZpbGxDb2xvciIsImZpbGxBbHBoYSIsImlzTWl0ZXJMaW5lIiwiaW5pdEdpem1vcyIsImNsb25lIiwiYWRkU2hhcGUiLCJzZXRTaGFwZSIsImlzUG9seWxpbmUiLCJhdHRhY2hUb0VkZ2UiLCJjbGVhckdpem1vcyIsInJlbW92ZVNoYXBlIiwiZGV0YWNoRnJvbUVkZ2UiLCJpIiwiZHRvciIsInBvbHlNb2RpZmllZCIsInVwZGF0ZUdpem1vcyIsInNuYXBHZW9tIiwiYWRkUG9pbnQiLCJ4IiwieSIsInNuYXBwZXIiLCJzdGFydEFuZ2xlU25hcHBpbmciLCJ2ZXJ0ZXhDb3VudCIsImNsZWFyIiwicCIsImdldFBvaW50IiwicExhc3QiLCJ1cGRhdGVMZW5ndGhMYWJlbCIsInVwZGF0ZSIsInRyYW5zZm9ybSIsIm1lYXN1cmVUcmFuc2Zvcm0iLCJnZXRMZW5ndGgiLCJsZW5ndGhTdHIiLCJsZW5ndGhUb1N0cmluZyIsInNldFRleHQiLCJnZXROYW1lIiwibmFtZVN1ZmZpeCIsImhhbmRsZU1vdXNlTW92ZSIsImV2ZW50IiwiYnV0dG9ucyIsIm9uSG92ZXIiLCJjYW52YXNYIiwiY2FudmFzWSIsImdldFNuYXBQb3NpdGlvbiIsInBMYXllciIsImxheWVyIiwiY2FudmFzVG9MYXllciIsImNsb3NpbmdBbGxvd2VkIiwic3RhcnRWZXJ0ZXhIaXQiLCJnaXptb01hbmFnZXIiLCJpc1VuZGVyTW91c2UiLCJzZXRTdGFydFZlcnRleEhpZ2hsaWdodGVkIiwiY2xlYXJTbmFwcGluZ0dpem1vcyIsImNvcHkiLCJsYXllclBvcyIsInVwZGF0ZVBvaW50IiwiaGFuZGxlU3RhcnRWZXJ0ZXhDbGlja2VkIiwicFN0YXJ0IiwiYWRkVmVydGV4IiwiZmluaXNoUG9seWdvbiIsInN0b3BQcm9wYWdhdGlvbiIsImhhbmRsZVNpbmdsZUNsaWNrIiwiYnV0dG9uIiwibW91c2VUcmFja2VyIiwic3RhcnRUcmFja2luZyIsIkVkaXQyRCIsIlRyYWNraW5ncyIsIkNsaWNrIiwic3RhcnRQb2x5IiwiaGFuZGxlQnV0dG9uRG93biIsImlnbm9yZURyYWdnaW5nIiwic2VsZWN0aW9uIiwiaGFuZGxlQnV0dG9uVXAiLCJoYW5kbGVEb3VibGVDbGljayIsImlzQ2xvc2VkIiwibmFtZSIsInZlcnRleCIsInB1c2giLCJpc1N0YXJ0VmVydGV4IiwiY29udGFpbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJyZW1vdmVMYXN0VmVydGV4Iiwic3RvcFRyYWNraW5nIiwicmVtb3ZlUG9pbnQiLCJsYXN0R2l6bW8iLCJwb3AiLCJzdG9wQW5nbGVTbmFwcGluZyIsInJ1bkFjdGlvbiIsIkFkZFNoYXBlIiwiZGlzcGF0Y2hFdmVudCIsInR5cGUiLCJQT0xZR09OX0FEREVEIiwicG9seWdvbiIsImlzRHJhZ2dpbmciLCJjYW5jZWxEcmFnIiwiaGFuZGxlRmluaXNoS2V5IiwiaGFuZGxlS2V5RG93biIsImtleUNvZGUiLCJoYW5kbGVkIiwiZnVuY0tleSIsIm1hcEtleSIsImhhbmRsZUtleVVwIiwib25TbmFwcGluZ1RvZ2dsZWQiLCJtb3VzZU9uU3RhcnRWZXJ0ZXgiLCJ0aGlzIiwic2V0U2VsZWN0ZWQiLCJnZXRDdXJzb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Edit2D/tools/PolygonTool.js\n");

/***/ }),

/***/ "./extensions/Edit2D/tools/RectangleTool.js":
/*!**************************************************!*\
  !*** ./extensions/Edit2D/tools/RectangleTool.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RectangleTool)\n/* harmony export */ });\n/* harmony import */ var _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EditShapes.js */ \"./extensions/Edit2D/EditShapes.js\");\n/* harmony import */ var _Actions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Actions.js */ \"./extensions/Edit2D/Actions.js\");\n/* harmony import */ var _EditToolBase_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EditToolBase.js */ \"./extensions/Edit2D/tools/EditToolBase.js\");\n/* harmony import */ var _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../CanvasGizmo.js */ \"./extensions/Edit2D/CanvasGizmo.js\");\n/* harmony import */ var _ModifierMask_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ModifierMask.js */ \"./extensions/Edit2D/ModifierMask.js\");\n\n\n\n\n\n\n\n\n\nconst RectangleToolName = \"Edit2_RectangleTool\";\n\nconst av = Autodesk.Viewing;\n\n// Creates rectangles by dragging\nclass RectangleTool extends _EditToolBase_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n\n  constructor(ctx) {let style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Style();\n    super(ctx);\n\n    Autodesk.Viewing.EventDispatcher.prototype.apply(this);\n\n    this.style = style;\n\n    // New polygon created by dragging\n    this.rect = null;\n\n    // First corner of the new rectangle\n    this.startPoint = new THREE.Vector2();\n    this.endPoint = new THREE.Vector2();\n\n    // Indicates that we interrupted dragging with Esc. In this case, we still consume the mouse-up\n    // event to avoid inconsistencies in other tool.\n    this.dragCanceled = false;\n\n    // Create area label. Default hidden - showing is optional.\n    this.areaLabel = new _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_3__.AreaLabel(null, this.layer, ctx.unitHandler, false);\n\n    // Allow to enable/disable tool based on modifiers\n    this.modifiers = new _ModifierMask_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\n    // If true, create Paths instead of Polygons\n    this.enableArcs = true;\n  }\n\n  // Enable the area labels (public API)\n  setAreaLabelVisible(visible) {\n    this.areaLabel.setVisible(visible);\n  }\n\n  getName() {\n    return RectangleToolName + this.nameSuffix;\n  }\n\n  activate() {}\n  deactivate() {}\n  register() {}\n\n  handleButtonDown(event, button) {\n\n    // Check if modifers allow starting an interaction\n    if (!this.modifiers.accepts(event)) {\n      return false;\n    }\n\n    // Only respond to left button\n    if (button != 0) {\n      return;\n    }\n\n    const p = this.getSnapPosition(event.canvasX, event.canvasY);\n    this.startDrag(p);\n    return true;\n  }\n\n  handleButtonUp(event, button) {\n\n    // Only respond to left button\n    if (button != 0) {\n      return false;\n    }\n\n    // If drag has been interrupted, consider the endDrag() as handled\n    if (this.dragCanceled) {\n      this.dragCanceled = false;\n      return true;\n    }\n\n    // Make sure that we consider latest mouse position\n    this.handleMouseMove(event);\n\n    return this.endDrag();\n  }\n\n  handleMouseMove(event) {\n\n    // Get snapping position. Note that this even makes sense when not dragging: In this case, we\n    // just do it to update the snapping indicator.\n    const p = this.getSnapPosition(event.canvasX, event.canvasY);\n\n    if (!this.rect) {\n      return false;\n    }\n\n    this.moveDrag(p, event.shiftKey);\n\n    return true;\n  }\n\n  // Start dragging a shape\n  //  @param {Shape}   shape\n  //  @param {Vector2} startPos - in layer coords\n  startDrag(startPos) {\n    if (this.mouseTracker) {\n      this.mouseTracker.startTracking(this.getName(), Autodesk.Edit2D.Trackings.Drag);\n    }\n    let points = [startPos.clone(), startPos.clone(), startPos.clone(), startPos.clone()];\n    let style = this.style.clone();\n\n    this.rect = this.enableArcs ? new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.PolygonPath(points, style) : new _EditShapes_js__WEBPACK_IMPORTED_MODULE_0__.Polygon(points, style);\n\n    this.startPoint.copy(startPos);\n    this.endPoint.copy(startPos);\n\n    this.gizmoLayer.addShape(this.rect);\n  }\n\n  updateRect(forceQuad) {\n\n    if (!this.isDragging()) {\n      return;\n    }\n\n    const p0 = this.startPoint;\n    const p1 = this.endPoint;\n\n    if (forceQuad) {\n\n      // Use maximum of dx/dy as edge length\n      const dx = p1.x - p0.x;\n      const dy = p1.y - p0.y;\n\n      const edgeLength = Math.max(Math.abs(dx), Math.abs(dy));\n\n      // Consider drag direction to span quad right/left resp. up/down\n      const sx = Math.sign(dx);\n      const sy = Math.sign(dy);\n\n      this.rect.updatePoint(1, p0.x + edgeLength * sx, p0.y);\n      this.rect.updatePoint(2, p0.x + edgeLength * sx, p0.y + edgeLength * sy);\n      this.rect.updatePoint(3, p0.x, p0.y + edgeLength * sy);\n\n    } else {\n      this.rect.updatePoint(1, p1.x, p0.y);\n      this.rect.updatePoint(2, p1.x, p1.y);\n      this.rect.updatePoint(3, p0.x, p1.y);\n    }\n\n    this.gizmoLayer.update();\n\n    this.areaLabel.setShape(this.rect);\n  }\n\n  // p is in layer coords\n  moveDrag(p, forceQuad) {\n\n    // update rectangle\n    this.endPoint.copy(p);\n    this.updateRect(forceQuad);\n  }\n\n  endDrag() {\n    if (this.mouseTracker) {\n      this.mouseTracker.stopTracking(this.getName(), Autodesk.Edit2D.Trackings.Drag);\n    }\n\n    if (!this.rect) {\n      return false;\n    }\n\n    // Check if rect is valid\n    const dx = this.endPoint.x - this.startPoint.x;\n    const dy = this.endPoint.y - this.startPoint.y;\n    const Eps = 1.e-10;\n    const rectValid = Math.abs(dx) > Eps && Math.abs(dy) > Eps;\n\n    // Move shape to main layer (or just remove if invalid)\n    this.gizmoLayer.removeShape(this.rect);\n    if (rectValid) {\n      this.undoStack.run(new _Actions_js__WEBPACK_IMPORTED_MODULE_1__.Actions.AddShape(this.layer, this.rect));\n    }\n\n    this.rect = null;\n\n    this.areaLabel.setShape(null);\n\n    return true;\n  }\n\n  cancelDrag() {\n    if (this.mouseTracker) {\n      this.mouseTracker.stopTracking(this.getName(), Autodesk.Edit2D.Trackings.Drag);\n    }\n\n    if (this.rect) {\n      // Remove temporary gizmo shape\n      this.gizmoLayer.removeShape(this.rect);\n      this.rect = null;\n\n      this.dragCanceled = true;\n\n      this.areaLabel.setShape(null);\n    }\n  }\n\n  isDragging() {\n    return Boolean(this.rect);\n  }\n\n  handleKeyDown(event, keyCode) {\n    // Update shape when toggling between rect and quad mode\n    if (keyCode == av.KeyCode.SHIFT) {\n      this.updateRect(true);\n    }\n  }\n\n  handleKeyUp(event, keyCode) {\n    // Update shape when toggling between rect and quad mode\n    if (keyCode == av.KeyCode.SHIFT) {\n      this.updateRect(false);\n    }\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL0VkaXQyRC90b29scy9SZWN0YW5nbGVUb29sLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFDd0Q7QUFDaEI7O0FBRUs7QUFDSjtBQUNLO0FBQ0E7O0FBRTlDLE1BQU1PLGlCQUFpQixHQUFHLHFCQUFxQjs7QUFFL0MsTUFBTUMsRUFBRSxHQUFHQyxRQUFRLENBQUNDLE9BQU87O0FBRTNCO0FBQ2UsTUFBTUMsYUFBYSxTQUFTUix3REFBWSxDQUFDOztFQUVwRFMsV0FBV0EsQ0FBQ0MsR0FBRyxFQUF1QixLQUFyQkMsS0FBSyxHQUFBQyxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxJQUFJWCxpREFBSyxDQUFDLENBQUM7SUFDaEMsS0FBSyxDQUFDUyxHQUFHLENBQUM7O0lBRVZKLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDUSxlQUFlLENBQUNDLFNBQVMsQ0FBQ0MsS0FBSyxDQUFDLElBQUksQ0FBQzs7SUFFdEQsSUFBSSxDQUFDTixLQUFLLEdBQUdBLEtBQUs7O0lBRWxCO0lBQ0EsSUFBSSxDQUFDTyxJQUFJLEdBQUcsSUFBSTs7SUFFaEI7SUFDQSxJQUFJLENBQUNDLFVBQVUsR0FBRyxJQUFJQyxLQUFLLENBQUNDLE9BQU8sQ0FBQyxDQUFDO0lBQ3JDLElBQUksQ0FBQ0MsUUFBUSxHQUFHLElBQUlGLEtBQUssQ0FBQ0MsT0FBTyxDQUFDLENBQUM7O0lBRW5DO0lBQ0E7SUFDQSxJQUFJLENBQUNFLFlBQVksR0FBRyxLQUFLOztJQUV6QjtJQUNBLElBQUksQ0FBQ0MsU0FBUyxHQUFHLElBQUl0QixzREFBUyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUN1QixLQUFLLEVBQUVmLEdBQUcsQ0FBQ2dCLFdBQVcsRUFBRSxLQUFLLENBQUM7O0lBRXhFO0lBQ0EsSUFBSSxDQUFDQyxTQUFTLEdBQUcsSUFBSXhCLHdEQUFZLENBQUMsQ0FBQzs7SUFFbkM7SUFDQSxJQUFJLENBQUN5QixVQUFVLEdBQUcs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SSxDQUFDQSxJQUFJLEdBQUcsSUFBSTs7TUFFaEIsSUFBSSxDQUFDSyxZQUFZLEdBQUcsSUFBSTs7TUFFeEIsSUFBSSxDQUFDQyxTQUFTLENBQUN3RCxRQUFRLENBQUMsSUFBSSxDQUFDO0lBQ2pDO0VBQ0o7O0VBRUFoQixVQUFVQSxDQUFBLEVBQUc7SUFDVCxPQUFPeUIsT0FBTyxDQUFDLElBQUksQ0FBQ3ZFLElBQUksQ0FBQztFQUM3Qjs7RUFFQXdFLGFBQWFBLENBQUNwRCxLQUFLLEVBQUVxRCxPQUFPLEVBQUU7SUFDMUI7SUFDQSxJQUFJQSxPQUFPLElBQUl0RixFQUFFLENBQUN1RixPQUFPLENBQUNDLEtBQUssRUFBRTtNQUM3QixJQUFJLENBQUMvQixVQUFVLENBQUMsSUFBSSxDQUFDO0lBQ3pCO0VBQ0o7O0VBRUFnQyxXQUFXQSxDQUFDeEQsS0FBSyxFQUFFcUQsT0FBTyxFQUFFO0lBQ3hCO0lBQ0EsSUFBSUEsT0FBTyxJQUFJdEYsRUFBRSxDQUFDdUYsT0FBTyxDQUFDQyxLQUFLLEVBQUU7TUFDN0IsSUFBSSxDQUFDL0IsVUFBVSxDQUFDLEtBQUssQ0FBQztJQUMxQjtFQUNKO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9FZGl0MkQvdG9vbHMvUmVjdGFuZ2xlVG9vbC5qcz9iMzY3Il0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHsgUG9seWdvbiwgUG9seWdvblBhdGggfSBmcm9tICcuLi9FZGl0U2hhcGVzLmpzJztcbmltcG9ydCB7IEFjdGlvbnMgfSBmcm9tICcuLi9BY3Rpb25zLmpzJztcblxuaW1wb3J0IEVkaXRUb29sQmFzZSBmcm9tICcuL0VkaXRUb29sQmFzZS5qcyc7XG5pbXBvcnQgeyBTdHlsZSB9IGZyb20gJy4uL0VkaXRTaGFwZXMuanMnO1xuaW1wb3J0IHsgQXJlYUxhYmVsIH0gZnJvbSAnLi4vQ2FudmFzR2l6bW8uanMnO1xuaW1wb3J0IE1vZGlmaWVyTWFzayBmcm9tICcuLi9Nb2RpZmllck1hc2suanMnO1xuXG5jb25zdCBSZWN0YW5nbGVUb29sTmFtZSA9IFwiRWRpdDJfUmVjdGFuZ2xlVG9vbFwiO1xuXG5jb25zdCBhdiA9IEF1dG9kZXNrLlZpZXdpbmc7XG5cbi8vIENyZWF0ZXMgcmVjdGFuZ2xlcyBieSBkcmFnZ2luZ1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVjdGFuZ2xlVG9vbCBleHRlbmRzIEVkaXRUb29sQmFzZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihjdHgsIHN0eWxlID0gbmV3IFN0eWxlKCkpIHtcbiAgICAgICAgc3VwZXIoY3R4KTtcblxuICAgICAgICBBdXRvZGVzay5WaWV3aW5nLkV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuYXBwbHkodGhpcyk7XG5cbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuXG4gICAgICAgIC8vIE5ldyBwb2x5Z29uIGNyZWF0ZWQgYnkgZHJhZ2dpbmdcbiAgICAgICAgdGhpcy5yZWN0ID0gbnVsbDtcblxuICAgICAgICAvLyBGaXJzdCBjb3JuZXIgb2YgdGhlIG5ldyByZWN0YW5nbGVcbiAgICAgICAgdGhpcy5zdGFydFBvaW50ID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcbiAgICAgICAgdGhpcy5lbmRQb2ludCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cbiAgICAgICAgLy8gSW5kaWNhdGVzIHRoYXQgd2UgaW50ZXJydXB0ZWQgZHJhZ2dpbmcgd2l0aCBFc2MuIEluIHRoaXMgY2FzZSwgd2Ugc3RpbGwgY29uc3VtZSB0aGUgbW91c2UtdXBcbiAgICAgICAgLy8gZXZlbnQgdG8gYXZvaWQgaW5jb25zaXN0ZW5jaWVzIGluIG90aGVyIHRvb2wuXG4gICAgICAgIHRoaXMuZHJhZ0NhbmNlbGVkID0gZmFsc2U7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGFyZWEgbGFiZWwuIERlZmF1bHQgaGlkZGVuIC0gc2hvd2luZyBpcyBvcHRpb25hbC5cbiAgICAgICAgdGhpcy5hcmVhTGFiZWwgPSBuZXcgQXJlYUxhYmVsKG51bGwsIHRoaXMubGF5ZXIsIGN0eC51bml0SGFuZGxlciwgZmFsc2UpO1xuXG4gICAgICAgIC8vIEFsbG93IHRvIGVuYWJsZS9kaXNhYmxlIHRvb2wgYmFzZWQgb24gbW9kaWZpZXJzXG4gICAgICAgIHRoaXMubW9kaWZpZXJzID0gbmV3IE1vZGlmaWVyTWFzaygpO1xuXG4gICAgICAgIC8vIElmIHRydWUsIGNyZWF0ZSBQYXRocyBpbnN0ZWFkIG9mIFBvbHlnb25zXG4gICAgICAgIHRoaXMuZW5hYmxlQXJjcyA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gRW5hYmxlIHRoZSBhcmVhIGxhYmVscyAocHVibGljIEFQSSlcbiAgICBzZXRBcmVhTGFiZWxWaXNpYmxlKHZpc2libGUpIHtcbiAgICAgICAgdGhpcy5hcmVhTGFiZWwuc2V0VmlzaWJsZSh2aXNpYmxlKTtcbiAgICB9XG5cbiAgICBnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gUmVjdGFuZ2xlVG9vbE5hbWUgKyB0aGlzLm5hbWVTdWZmaXg7XG4gICAgfVxuXG4gICAgYWN0aXZhdGUoKSB7fVxuICAgIGRlYWN0aXZhdGUoKSB7fVxuICAgIHJlZ2lzdGVyKCkge31cblxuICAgIGhhbmRsZUJ1dHRvbkRvd24oZXZlbnQsIGJ1dHRvbikge1xuXG4gICAgICAgIC8vIENoZWNrIGlmIG1vZGlmZXJzIGFsbG93IHN0YXJ0aW5nIGFuIGludGVyYWN0aW9uXG4gICAgICAgIGlmICghdGhpcy5tb2RpZmllcnMuYWNjZXB0cyhldmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9ubHkgcmVzcG9uZCB0byBsZWZ0IGJ1dHRvblxuICAgICAgICBpZiAoYnV0dG9uICE9IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHAgPSB0aGlzLmdldFNuYXBQb3NpdGlvbihldmVudC5jYW52YXNYLCBldmVudC5jYW52YXNZKTtcbiAgICAgICAgdGhpcy5zdGFydERyYWcocCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGhhbmRsZUJ1dHRvblVwKGV2ZW50LCBidXR0b24pIHtcblxuICAgICAgICAvLyBPbmx5IHJlc3BvbmQgdG8gbGVmdCBidXR0b25cbiAgICAgICAgaWYgKGJ1dHRvbiAhPSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBkcmFnIGhhcyBiZWVuIGludGVycnVwdGVkLCBjb25zaWRlciB0aGUgZW5kRHJhZygpIGFzIGhhbmRsZWRcbiAgICAgICAgaWYgKHRoaXMuZHJhZ0NhbmNlbGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRyYWdDYW5jZWxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB3ZSBjb25zaWRlciBsYXRlc3QgbW91c2UgcG9zaXRpb25cbiAgICAgICAgdGhpcy5oYW5kbGVNb3VzZU1vdmUoZXZlbnQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmVuZERyYWcoKTtcbiAgICB9XG5cbiAgICBoYW5kbGVNb3VzZU1vdmUoZXZlbnQpIHtcblxuICAgICAgICAvLyBHZXQgc25hcHBpbmcgcG9zaXRpb24uIE5vdGUgdGhhdCB0aGlzIGV2ZW4gbWFrZXMgc2Vuc2Ugd2hlbiBub3QgZHJhZ2dpbmc6IEluIHRoaXMgY2FzZSwgd2VcbiAgICAgICAgLy8ganVzdCBkbyBpdCB0byB1cGRhdGUgdGhlIHNuYXBwaW5nIGluZGljYXRvci5cbiAgICAgICAgY29uc3QgcCA9IHRoaXMuZ2V0U25hcFBvc2l0aW9uKGV2ZW50LmNhbnZhc1gsIGV2ZW50LmNhbnZhc1kpO1xuXG4gICAgICAgIGlmICghdGhpcy5yZWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1vdmVEcmFnKHAsIGV2ZW50LnNoaWZ0S2V5KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBTdGFydCBkcmFnZ2luZyBhIHNoYXBlXG4gICAgLy8gIEBwYXJhbSB7U2hhcGV9ICAgc2hhcGVcbiAgICAvLyAgQHBhcmFtIHtWZWN0b3IyfSBzdGFydFBvcyAtIGluIGxheWVyIGNvb3Jkc1xuICAgIHN0YXJ0RHJhZyhzdGFydFBvcykge1xuICAgICAgICBpZiAodGhpcy5tb3VzZVRyYWNrZXIpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VUcmFja2VyLnN0YXJ0VHJhY2tpbmcodGhpcy5nZXROYW1lKCksQXV0b2Rlc2suRWRpdDJELlRyYWNraW5ncy5EcmFnKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcG9pbnRzID0gW3N0YXJ0UG9zLmNsb25lKCksIHN0YXJ0UG9zLmNsb25lKCksIHN0YXJ0UG9zLmNsb25lKCksIHN0YXJ0UG9zLmNsb25lKCldO1xuICAgICAgICBsZXQgc3R5bGUgID0gdGhpcy5zdHlsZS5jbG9uZSgpO1xuXG4gICAgICAgIHRoaXMucmVjdCA9IHRoaXMuZW5hYmxlQXJjcyA/IG5ldyBQb2x5Z29uUGF0aChwb2ludHMsIHN0eWxlKSA6IG5ldyBQb2x5Z29uKHBvaW50cywgc3R5bGUpO1xuXG4gICAgICAgIHRoaXMuc3RhcnRQb2ludC5jb3B5KHN0YXJ0UG9zKTtcbiAgICAgICAgdGhpcy5lbmRQb2ludC5jb3B5KHN0YXJ0UG9zKTtcblxuICAgICAgICB0aGlzLmdpem1vTGF5ZXIuYWRkU2hhcGUodGhpcy5yZWN0KTtcbiAgICB9XG5cbiAgICB1cGRhdGVSZWN0KGZvcmNlUXVhZCkge1xuXG4gICAgICAgIGlmICghdGhpcy5pc0RyYWdnaW5nKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHAwID0gdGhpcy5zdGFydFBvaW50O1xuICAgICAgICBjb25zdCBwMSA9IHRoaXMuZW5kUG9pbnQ7XG5cbiAgICAgICAgaWYgKGZvcmNlUXVhZCkge1xuXG4gICAgICAgICAgICAvLyBVc2UgbWF4aW11bSBvZiBkeC9keSBhcyBlZGdlIGxlbmd0aFxuICAgICAgICAgICAgY29uc3QgZHggPSBwMS54IC0gcDAueDtcbiAgICAgICAgICAgIGNvbnN0IGR5ID0gcDEueSAtIHAwLnk7XG5cbiAgICAgICAgICAgIGNvbnN0IGVkZ2VMZW5ndGggPSBNYXRoLm1heChNYXRoLmFicyhkeCksIE1hdGguYWJzKGR5KSk7XG5cbiAgICAgICAgICAgIC8vIENvbnNpZGVyIGRyYWcgZGlyZWN0aW9uIHRvIHNwYW4gcXVhZCByaWdodC9sZWZ0IHJlc3AuIHVwL2Rvd25cbiAgICAgICAgICAgIGNvbnN0IHN4ID0gTWF0aC5zaWduKGR4KTtcbiAgICAgICAgICAgIGNvbnN0IHN5ID0gTWF0aC5zaWduKGR5KTtcblxuICAgICAgICAgICAgdGhpcy5yZWN0LnVwZGF0ZVBvaW50KDEsIHAwLnggKyBlZGdlTGVuZ3RoICogc3gsIHAwLnkgICAgICk7XG4gICAgICAgICAgICB0aGlzLnJlY3QudXBkYXRlUG9pbnQoMiwgcDAueCArIGVkZ2VMZW5ndGggKiBzeCwgcDAueSArIGVkZ2VMZW5ndGggKiBzeSk7XG4gICAgICAgICAgICB0aGlzLnJlY3QudXBkYXRlUG9pbnQoMywgcDAueCAgICAgICAgICAgICAgICAgICwgcDAueSArIGVkZ2VMZW5ndGggKiBzeSk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVjdC51cGRhdGVQb2ludCgxLCBwMS54LCBwMC55KTtcbiAgICAgICAgICAgIHRoaXMucmVjdC51cGRhdGVQb2ludCgyLCBwMS54LCBwMS55KTtcbiAgICAgICAgICAgIHRoaXMucmVjdC51cGRhdGVQb2ludCgzLCBwMC54LCBwMS55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2l6bW9MYXllci51cGRhdGUoKTtcblxuICAgICAgICB0aGlzLmFyZWFMYWJlbC5zZXRTaGFwZSh0aGlzLnJlY3QpO1xuICAgIH1cblxuICAgIC8vIHAgaXMgaW4gbGF5ZXIgY29vcmRzXG4gICAgbW92ZURyYWcocCwgZm9yY2VRdWFkKSB7XG5cbiAgICAgICAgLy8gdXBkYXRlIHJlY3RhbmdsZVxuICAgICAgICB0aGlzLmVuZFBvaW50LmNvcHkocCk7XG4gICAgICAgIHRoaXMudXBkYXRlUmVjdChmb3JjZVF1YWQpO1xuICAgIH1cblxuICAgIGVuZERyYWcoKSB7XG4gICAgICAgIGlmICh0aGlzLm1vdXNlVHJhY2tlcikge1xuICAgICAgICAgICAgdGhpcy5tb3VzZVRyYWNrZXIuc3RvcFRyYWNraW5nKHRoaXMuZ2V0TmFtZSgpLEF1dG9kZXNrLkVkaXQyRC5UcmFja2luZ3MuRHJhZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMucmVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgcmVjdCBpcyB2YWxpZFxuICAgICAgICBjb25zdCBkeCA9IHRoaXMuZW5kUG9pbnQueCAtIHRoaXMuc3RhcnRQb2ludC54O1xuICAgICAgICBjb25zdCBkeSA9IHRoaXMuZW5kUG9pbnQueSAtIHRoaXMuc3RhcnRQb2ludC55O1xuICAgICAgICBjb25zdCBFcHMgPSAxLmUtMTA7XG4gICAgICAgIGNvbnN0IHJlY3RWYWxpZCA9IE1hdGguYWJzKGR4KSA+IEVwcyAmJiBNYXRoLmFicyhkeSkgPiBFcHM7XG5cbiAgICAgICAgLy8gTW92ZSBzaGFwZSB0byBtYWluIGxheWVyIChvciBqdXN0IHJlbW92ZSBpZiBpbnZhbGlkKVxuICAgICAgICB0aGlzLmdpem1vTGF5ZXIucmVtb3ZlU2hhcGUodGhpcy5yZWN0KTtcbiAgICAgICAgaWYgKHJlY3RWYWxpZCkge1xuICAgICAgICAgICAgdGhpcy51bmRvU3RhY2sucnVuKG5ldyBBY3Rpb25zLkFkZFNoYXBlKHRoaXMubGF5ZXIsIHRoaXMucmVjdCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWN0ID0gbnVsbDtcblxuICAgICAgICB0aGlzLmFyZWFMYWJlbC5zZXRTaGFwZShudWxsKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBjYW5jZWxEcmFnKCkge1xuICAgICAgICBpZiAodGhpcy5tb3VzZVRyYWNrZXIpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VUcmFja2VyLnN0b3BUcmFja2luZyh0aGlzLmdldE5hbWUoKSxBdXRvZGVzay5FZGl0MkQuVHJhY2tpbmdzLkRyYWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucmVjdCkge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIHRlbXBvcmFyeSBnaXptbyBzaGFwZVxuICAgICAgICAgICAgdGhpcy5naXptb0xheWVyLnJlbW92ZVNoYXBlKHRoaXMucmVjdCk7XG4gICAgICAgICAgICB0aGlzLnJlY3QgPSBudWxsO1xuXG4gICAgICAgICAgICB0aGlzLmRyYWdDYW5jZWxlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMuYXJlYUxhYmVsLnNldFNoYXBlKG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNEcmFnZ2luZygpIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4odGhpcy5yZWN0KTtcbiAgICB9XG5cbiAgICBoYW5kbGVLZXlEb3duKGV2ZW50LCBrZXlDb2RlKSB7XG4gICAgICAgIC8vIFVwZGF0ZSBzaGFwZSB3aGVuIHRvZ2dsaW5nIGJldHdlZW4gcmVjdCBhbmQgcXVhZCBtb2RlXG4gICAgICAgIGlmIChrZXlDb2RlID09IGF2LktleUNvZGUuU0hJRlQpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUmVjdCh0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZUtleVVwKGV2ZW50LCBrZXlDb2RlKSB7XG4gICAgICAgIC8vIFVwZGF0ZSBzaGFwZSB3aGVuIHRvZ2dsaW5nIGJldHdlZW4gcmVjdCBhbmQgcXVhZCBtb2RlXG4gICAgICAgIGlmIChrZXlDb2RlID09IGF2LktleUNvZGUuU0hJRlQpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUmVjdChmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOlsiUG9seWdvbiIsIlBvbHlnb25QYXRoIiwiQWN0aW9ucyIsIkVkaXRUb29sQmFzZSIsIlN0eWxlIiwiQXJlYUxhYmVsIiwiTW9kaWZpZXJNYXNrIiwiUmVjdGFuZ2xlVG9vbE5hbWUiLCJhdiIsIkF1dG9kZXNrIiwiVmlld2luZyIsIlJlY3RhbmdsZVRvb2wiLCJjb25zdHJ1Y3RvciIsImN0eCIsInN0eWxlIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiRXZlbnREaXNwYXRjaGVyIiwicHJvdG90eXBlIiwiYXBwbHkiLCJyZWN0Iiwic3RhcnRQb2ludCIsIlRIUkVFIiwiVmVjdG9yMiIsImVuZFBvaW50IiwiZHJhZ0NhbmNlbGVkIiwiYXJlYUxhYmVsIiwibGF5ZXIiLCJ1bml0SGFuZGxlciIsIm1vZGlmaWVycyIsImVuYWJsZUFyY3MiLCJzZXRBcmVhTGFiZWxWaXNpYmxlIiwidmlzaWJsZSIsInNldFZpc2libGUiLCJnZXROYW1lIiwibmFtZVN1ZmZpeCIsImFjdGl2YXRlIiwiZGVhY3RpdmF0ZSIsInJlZ2lzdGVyIiwiaGFuZGxlQnV0dG9uRG93biIsImV2ZW50IiwiYnV0dG9uIiwiYWNjZXB0cyIsInAiLCJnZXRTbmFwUG9zaXRpb24iLCJjYW52YXNYIiwiY2FudmFzWSIsInN0YXJ0RHJhZyIsImhhbmRsZUJ1dHRvblVwIiwiaGFuZGxlTW91c2VNb3ZlIiwiZW5kRHJhZyIsIm1vdmVEcmFnIiwic2hpZnRLZXkiLCJzdGFydFBvcyIsIm1vdXNlVHJhY2tlciIsInN0YXJ0VHJhY2tpbmciLCJFZGl0MkQiLCJUcmFja2luZ3MiLCJEcmFnIiwicG9pbnRzIiwiY2xvbmUiLCJjb3B5IiwiZ2l6bW9MYXllciIsImFkZFNoYXBlIiwidXBkYXRlUmVjdCIsImZvcmNlUXVhZCIsImlzRHJhZ2dpbmciLCJwMCIsInAxIiwiZHgiLCJ4IiwiZHkiLCJ5IiwiZWRnZUxlbmd0aCIsIk1hdGgiLCJtYXgiLCJhYnMiLCJzeCIsInNpZ24iLCJzeSIsInVwZGF0ZVBvaW50IiwidXBkYXRlIiwic2V0U2hhcGUiLCJzdG9wVHJhY2tpbmciLCJFcHMiLCJyZWN0VmFsaWQiLCJyZW1vdmVTaGFwZSIsInVuZG9TdGFjayIsInJ1biIsIkFkZFNoYXBlIiwiY2FuY2VsRHJhZyIsIkJvb2xlYW4iLCJoYW5kbGVLZXlEb3duIiwia2V5Q29kZSIsIktleUNvZGUiLCJTSElGVCIsImhhbmRsZUtleVVwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Edit2D/tools/RectangleTool.js\n");

/***/ }),

/***/ "./extensions/Edit2D/tools/UndoTool.js":
/*!*********************************************!*\
  !*** ./extensions/Edit2D/tools/UndoTool.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ UndoTool)\n/* harmony export */ });\nconst UndoToolName = 'Edit2_UndoTool';\n\nconst av = Autodesk.Viewing;\n\n// Simple tool that triggers undo/redo in response to a keyboard shortcut\nclass UndoTool {\n\n  constructor(undoStack) {\n    this.undoStack = undoStack;\n  }\n\n  handleKeyDown(event, keyCode) {\n    // Undo\n    //  - Ctrl + Z (Windows)\n    //  - Command + Z (Mac)\n    // Redo\n    // - Ctrl + Shift + Z (Windows)\n    // - Command + Shift + Z (Mac)\n    // - Ctrl + Y (Used on Windows but not Mac)\n\n    if ((event.ctrlKey || event.metaKey) && keyCode === av.KeyCode.z) {\n      if (event.shiftKey) {\n        this.undoStack.redo();\n      } else {\n        this.undoStack.undo();\n      }\n\n      return true;\n    }\n\n    if (event.ctrlKey && keyCode === av.KeyCode.y) {\n      this.undoStack.redo();\n      return true;\n    }\n\n    return false;\n  }\n\n  // Some paperwork for ToolController\n  getName() {\n    return UndoToolName;\n  }\n  getNames() {\n    return [this.getName()];\n  }\n  activate() {}\n  deactivate() {}\n  register() {}\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL0VkaXQyRC90b29scy9VbmRvVG9vbC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsTUFBTUEsWUFBWSxHQUFHLGdCQUFnQjs7QUFFckMsTUFBTUMsRUFBRSxHQUFHQyxRQUFRLENBQUNDLE9BQU87O0FBRTNCO0FBQ2UsTUFBTUMsUUFBUSxDQUFDOztFQUUxQkMsV0FBV0EsQ0FBQ0MsU0FBUyxFQUFFO0lBQ25CLElBQUksQ0FBQ0EsU0FBUyxHQUFHQSxTQUFTO0VBQzlCOztFQUVBQyxhQUFhQSxDQUFDQyxLQUFLLEVBQUVDLE9BQU8sRUFBRTtJQUMxQjtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTs7SUFFQSxJQUFJLENBQUNELEtBQUssQ0FBQ0UsT0FBTyxJQUFJRixLQUFLLENBQUNHLE9BQU8sS0FBS0YsT0FBTyxLQUFLUixFQUFFLENBQUNXLE9BQU8sQ0FBQ0MsQ0FBQyxFQUFFO01BQzlELElBQUlMLEtBQUssQ0FBQ00sUUFBUSxFQUFFO1FBQ2hCLElBQUksQ0FBQ1IsU0FBUyxDQUFDUyxJQUFJLENBQUMsQ0FBQztNQUN6QixDQUFDLE1BQU07UUFDSCxJQUFJLENBQUNULFNBQVMsQ0FBQ1UsSUFBSSxDQUFDLENBQUM7TUFDekI7O01BRUEsT0FBTyxJQUFJO0lBQ2Y7O0lBRUEsSUFBSVIsS0FBSyxDQUFDRSxPQUFPLElBQUlELE9BQU8sS0FBS1IsRUFBRSxDQUFDVyxPQUFPLENBQUNLLENBQUMsRUFBRTtNQUMzQyxJQUFJLENBQUNYLFNBQVMsQ0FBQ1MsSUFBSSxDQUFDLENBQUM7TUFDckIsT0FBTyxJQUFJO0lBQ2Y7O0lBRUEsT0FBTyxLQUFLO0VBQ2hCOztFQUVBO0VBQ0FHLE9BQU9BLENBQUEsRUFBRztJQUNOLE9BQU9sQixZQUFZO0VBQ3ZCO0VBQ0FtQixRQUFRQSxDQUFBLEVBQUc7SUFDUCxPQUFPLENBQUMsSUFBSSxDQUFDRCxPQUFPLENBQUMsQ0FBQyxDQUFDO0VBQzNCO0VBQ0FFLFFBQVFBLENBQUEsRUFBRyxDQUFFO0VBQ2JDLFVBQVVBLENBQUEsRUFBRyxDQUFFO0VBQ2ZDLFFBQVFBLENBQUEsRUFBRyxDQUFFO0FBQ2pCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9FZGl0MkQvdG9vbHMvVW5kb1Rvb2wuanM/YTU4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBVbmRvVG9vbE5hbWUgPSAnRWRpdDJfVW5kb1Rvb2wnO1xuXG5jb25zdCBhdiA9IEF1dG9kZXNrLlZpZXdpbmc7XG5cbi8vIFNpbXBsZSB0b29sIHRoYXQgdHJpZ2dlcnMgdW5kby9yZWRvIGluIHJlc3BvbnNlIHRvIGEga2V5Ym9hcmQgc2hvcnRjdXRcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVuZG9Ub29sIHtcblxuICAgIGNvbnN0cnVjdG9yKHVuZG9TdGFjaykge1xuICAgICAgICB0aGlzLnVuZG9TdGFjayA9IHVuZG9TdGFjaztcbiAgICB9XG5cbiAgICBoYW5kbGVLZXlEb3duKGV2ZW50LCBrZXlDb2RlKSB7XG4gICAgICAgIC8vIFVuZG9cbiAgICAgICAgLy8gIC0gQ3RybCArIFogKFdpbmRvd3MpXG4gICAgICAgIC8vICAtIENvbW1hbmQgKyBaIChNYWMpXG4gICAgICAgIC8vIFJlZG9cbiAgICAgICAgLy8gLSBDdHJsICsgU2hpZnQgKyBaIChXaW5kb3dzKVxuICAgICAgICAvLyAtIENvbW1hbmQgKyBTaGlmdCArIFogKE1hYylcbiAgICAgICAgLy8gLSBDdHJsICsgWSAoVXNlZCBvbiBXaW5kb3dzIGJ1dCBub3QgTWFjKVxuXG4gICAgICAgIGlmICgoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5KSAmJiBrZXlDb2RlID09PSBhdi5LZXlDb2RlLnopIHtcbiAgICAgICAgICAgIGlmIChldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5kb1N0YWNrLnJlZG8oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmRvU3RhY2sudW5kbygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudC5jdHJsS2V5ICYmIGtleUNvZGUgPT09IGF2LktleUNvZGUueSkge1xuICAgICAgICAgICAgdGhpcy51bmRvU3RhY2sucmVkbygpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8vIFNvbWUgcGFwZXJ3b3JrIGZvciBUb29sQ29udHJvbGxlclxuICAgIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiBVbmRvVG9vbE5hbWU7XG4gICAgfVxuICAgIGdldE5hbWVzKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMuZ2V0TmFtZSgpXTtcbiAgICB9XG4gICAgYWN0aXZhdGUoKSB7IH1cbiAgICBkZWFjdGl2YXRlKCkgeyB9XG4gICAgcmVnaXN0ZXIoKSB7IH1cbn07XG4iXSwibmFtZXMiOlsiVW5kb1Rvb2xOYW1lIiwiYXYiLCJBdXRvZGVzayIsIlZpZXdpbmciLCJVbmRvVG9vbCIsImNvbnN0cnVjdG9yIiwidW5kb1N0YWNrIiwiaGFuZGxlS2V5RG93biIsImV2ZW50Iiwia2V5Q29kZSIsImN0cmxLZXkiLCJtZXRhS2V5IiwiS2V5Q29kZSIsInoiLCJzaGlmdEtleSIsInJlZG8iLCJ1bmRvIiwieSIsImdldE5hbWUiLCJnZXROYW1lcyIsImFjdGl2YXRlIiwiZGVhY3RpdmF0ZSIsInJlZ2lzdGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Edit2D/tools/UndoTool.js\n");

/***/ }),

/***/ "./extensions/Edit2D/tools/VertexMoveTool.js":
/*!***************************************************!*\
  !*** ./extensions/Edit2D/tools/VertexMoveTool.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ VertexMoveTool)\n/* harmony export */ });\n/* harmony import */ var _Actions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Actions.js */ \"./extensions/Edit2D/Actions.js\");\n/* harmony import */ var _Math2D_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Math2D.js */ \"./extensions/Edit2D/Math2D.js\");\n/* harmony import */ var _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../EditShapes.js */ \"./extensions/Edit2D/EditShapes.js\");\n/* harmony import */ var _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../CanvasGizmo.js */ \"./extensions/Edit2D/CanvasGizmo.js\");\n/* harmony import */ var _EditToolBase_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./EditToolBase.js */ \"./extensions/Edit2D/tools/EditToolBase.js\");\n\n\n\n\n\n\n\nconst VertexMoveToolName = \"Edit2_VertexMoveTool\";\n\nconst av = Autodesk.Viewing;\n\nconst vertexGizmoName = (index, loopIndex) => {\n  return 'PolygonEditTool_vertexGizmo_' + loopIndex.toString() + '_' + index.toString();\n};\n\nclass VertexMoveTool extends _EditToolBase_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"] {\n\n  constructor(ctx) {\n    super(ctx);\n\n    this.layer = ctx.layer;\n    this.selection = ctx.selection;\n    this.nameSuffix = `_${ctx.toolSetName}`;\n\n    this.keyMap.CancelEdit = av.KeyCode.ESCAPE;\n    this.keyMap.DeleteSelectedVertex = av.KeyCode.BACKSPACE;\n\n    // Track mouse position in layer-coords\n    this.mousePos = new THREE.Vector2();\n\n    // Array of VertexGizmo per loop\n    this.vertexGizmos = []; // VertexGizmo[][]\n\n    // Index of the vertex currently being dragged (or -1 if no dragging is active)\n    this.draggedVertex = null; // {PolyIndex}\n\n    // When dragging a vertex, this stores a copy of its original position\n    this.dragVertexStartPos = new THREE.Vector2();\n\n    // gizmos are enabled by default.\n    this.gizmosEnabled = true;\n\n    // selectedVertex is the one that was last clicked on. It is set together with draggedVertex,\n    // but (unlike draggedVertex) keeps the same after dragEnd.\n    // selectedVertex is the one that is highlighted and which will be deleted when pressing backspace.\n    this.selectedVertex = null; // {PolyIndex}\n\n    // When dragging vertices, we store the offset (in layer-coords) between the accurate click position and the center of the clicked vertex gizmo\n    // Stored in pixels.\n    this.dragOffset = new THREE.Vector2(0, 0);\n\n    // Last drag position in layer coords\n    this.lastDragPoint = new THREE.Vector2();\n  }\n\n  getName() {\n    return VertexMoveToolName + this.nameSuffix;\n  }\n\n  deactivate() {\n    super.deactivate();\n    this.reset();\n  }\n\n  setAllGizmosEnabled(enabled) {\n    this.gizmosEnabled = enabled;\n\n    this.updateVertexGizmos();\n  }\n\n  // create VertexGizmos for a single loop\n  updateVertexGizmoLoop(loopIndex) {\n\n    const gizmos = [];\n    const vertexCount = this.poly.getVertexCount(loopIndex);\n    for (let i = 0; i < vertexCount; i++) {\n\n      // create new vertex gizmo\n      let p = this.poly.getPoint(i, loopIndex);\n      let vertex = new _CanvasGizmo_js__WEBPACK_IMPORTED_MODULE_3__.VertexGizmo(this.gizmoLayer, p.x, p.y, vertexGizmoName(i, loopIndex));\n      vertex.attachToVertex(this.poly, i, loopIndex);\n      gizmos.push(vertex);\n\n      // We implement drag-behavior, so we want hover-highlight\n      vertex.setHoverEnabled(true);\n    }\n\n    this.vertexGizmos[loopIndex] = gizmos;\n  }\n\n  // Create VertexGizmos for all loops\n  updateVertexGizmos() {\n    // clear any outdated ones\n    this.clearVertexGizmos();\n\n    if (!this.gizmosEnabled) {\n      return;\n    }\n\n    if (this.poly) {\n      for (let l = 0; l < this.poly.loopCount; l++) {\n        this.updateVertexGizmoLoop(l);\n      }\n    }\n\n    // Make sure that vertex-highlighting is up to date\n    this.updateVertexHighlighting();\n  }\n\n  clearVertexGizmos() {\n    for (let l = 0; l < this.vertexGizmos.length; l++) {\n      const gizmos = this.vertexGizmos[l];\n      for (let i = 0; i < gizmos.length; i++) {\n        gizmos[i].dtor();\n      }\n    }\n    this.vertexGizmos.length = 0;\n  }\n\n  // Make sure that only the vertexGizmo is only highlighted for the selectedVertex (if any)\n  updateVertexHighlighting() {\n    const selected = this.selectedVertex;\n    for (let l = 0; l < this.vertexGizmos.length; l++) {\n      const gizmos = this.vertexGizmos[l];\n      for (let i = 0; i < gizmos.length; i++) {\n        gizmos[i].setSelected(selected && selected.vertex === i && selected.loop === l);\n      }\n    }\n  }\n\n  // Update vertex-gizmos, and tangent gizmos.\n  updateAllGizmos() {\n    this.updateVertexGizmos();\n  }\n\n  // @param{PolyIndex} polyIndex\n  setSelectedVertex(polyIndex) {\n    this.selectedVertex = this.poly ? polyIndex : null;\n    this.updateVertexHighlighting();\n  }\n\n  // Return index of the vertex gizmo under mouse. (or null if no vertexGizmo is hit)\n  // returns {PolyIndex}\n  findVertexUnderMouse() {\n    let vertexIndex = -1;\n    for (let l = 0; l < this.vertexGizmos.length; l++) {\n      const gizmos = this.vertexGizmos[l];\n      vertexIndex = this.gizmoManager.getGizmoIndex(gizmos);\n\n      // Return vertex index if we found one.\n      if (vertexIndex >= 0) {\n        return new _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__.PolyIndex({\n          loop: l,\n          vertex: vertexIndex\n        });\n      }\n    }\n    return null;\n  }\n\n  // Finishes editing of a previous polygon\n  reset() {\n\n    if (!this.poly) {\n      return;\n    }\n\n    this.poly = null;\n    this.draggedVertex = null;\n    this.selectedVertex = null;\n\n    // Clear any gizmos from previous polygon\n    this.updateAllGizmos();\n\n    this.snapper.stopAngleSnapping();\n  }\n\n  // Selects a new polygon / polyline for editing\n  setEditPoly(poly) {\n\n    this.reset();\n\n    if (poly) {\n      this.poly = poly;\n      this.updateAllGizmos();\n    }\n  }\n\n  // If selection changes (may also be triggered outside this tool), we choose the selected polyon for editing\n  onSelectionChanged() {\n    const selected = this.selection.getSelectedShapes();\n\n    // Activate if exactly one shape is selected\n    const shape = selected.length == 1 ? selected[0] : null;\n    if (shape instanceof _EditShapes_js__WEBPACK_IMPORTED_MODULE_2__.PolyBase) {\n      this.setEditPoly(shape);\n    } else {\n      this.setEditPoly(null);\n    }\n  }\n\n  handleButtonDown(event, button) {\n    // Support suppressing mouse buttons by holding a key\n    if (this.ignoreDragging) {\n      return false;\n    }\n\n    super.handleButtonDown(event, button);\n\n    // Only respond to left mouse button.\n    if (!button == 0) {\n      return false;\n    }\n\n    const p = this.layer.canvasToLayer(event.canvasX, event.canvasY);\n    this.mousePos.copy(p);\n\n    // If we hit an existing vertex, start dragging it\n    const draggedVertex = this.findVertexUnderMouse();\n    if (draggedVertex) {\n      this.startDragVertex(event, draggedVertex);\n      this.startedDragging = true;\n      return true;\n    }\n\n    return false;\n  }\n\n\n  // @param {Event} event\n  // @param {PolyIndex} draggedVertex\n  startDragVertex(event, draggedVertex) {\n    if (this.mouseTracker) {\n      this.mouseTracker.startTracking(this.getName(), Autodesk.Edit2D.Trackings.Drag);\n    }\n\n    // Configure angle snapping to consider latest state of the polygon\n    this.snapper.startAngleSnapping(this.poly.clone(), draggedVertex.vertex, draggedVertex.loop);\n\n    this.draggedVertex = draggedVertex;\n\n    // Store offset between exact mouse pos and the vertex we are dragging\n    const vpos = this.poly.getPoint(this.draggedVertex.vertex, this.draggedVertex.loop);\n    const vposScreen = this.layer.layerToCanvas(vpos.x, vpos.y);\n    this.dragOffset.set(vposScreen.x - event.canvasX, vposScreen.y - event.canvasY);\n\n    // highlight the vertex we clicked on\n    this.setSelectedVertex(this.draggedVertex);\n\n    this.lastDragPoint.copy(vpos);\n    this.dragVertexStartPos.copy(vpos);\n  }\n\n  moveDragVertex(canvasX, canvasY) {\n\n    const { loop, vertex } = this.draggedVertex;\n\n    // Note that the vertex we are dragging does not always match exactly with the mouse position. E.g., we may have picked the bottom-left boundary of a vertex gizmo at drag-start.\n    const x = canvasX + this.dragOffset.x;\n    const y = canvasY + this.dragOffset.y;\n\n    // get delta between last and current position\n    const p = this.getSnapPosition(x, y);\n    const dx = p.x - this.lastDragPoint.x;\n    const dy = p.y - this.lastDragPoint.y;\n\n    // apply this offset to polygon point\n    let point = this.poly.getPoint(vertex, loop);\n    this.poly.updatePoint(vertex, point.x + dx, point.y + dy, loop);\n\n    // re-center gizmo at new point position\n    const vertexGizmo = this.vertexGizmos[loop][vertex];\n    vertexGizmo.setPosition(point.x, point.y);\n\n    this.gizmoLayer.update(); // we moved the vertex gizmo\n    this.layer.update(); // we changed the main polygon\n\n    this.lastDragPoint.copy(p);\n  }\n\n  restoreDragVertex() {\n    this.poly.updatePoint(this.draggedVertex.vertex, this.dragVertexStartPos.x, this.dragVertexStartPos.y, this.draggedVertex.loop);\n  }\n\n  endDragVertex() {\n    if (this.mouseTracker) {\n      this.mouseTracker.stopTracking(this.getName(), Autodesk.Edit2D.Trackings.Drag);\n    }\n\n    // First, restore \"before move\" position of the vertex\n    this.restoreDragVertex();\n\n    const pBefore = this.dragVertexStartPos;\n    const pAfter = this.lastDragPoint;\n\n    // don't add extra undo-operation if the vertex was hardly moved at all\n    const minDist = this.layer.getUnitsPerPixel() * 0.5;\n    const moved = pBefore.distanceTo(pAfter) > minDist;\n\n    if (moved) {\n      // Finalize vertex-move\n      this.runAction(new _Actions_js__WEBPACK_IMPORTED_MODULE_0__.Actions.MoveVertex(this.layer, this.poly, this.draggedVertex, pAfter));\n    }\n\n    this.draggedVertex = null;\n    this.snapper.clearSnappingGizmos();\n  }\n\n  handleMouseMove(event) {\n    super.handleMouseMove(event);\n\n    this.mousePos.copy(this.layer.canvasToLayer(event.canvasX, event.canvasY));\n\n    if (!this.poly) {\n      return false;\n    }\n\n    if (this.draggedVertex) {\n      this.moveDragVertex(event.canvasX, event.canvasY);\n      return true;\n    }\n\n    return false;\n  }\n\n  handleButtonUp(event, button) {\n    super.handleButtonUp(event, button);\n\n    const wasDragging = this.startedDragging;\n    this.startedDragging = false;\n\n    if (this.draggedVertex) {\n      this.endDragVertex();\n      return true;\n    }\n\n    // Consider all left-button events as handled. E.g., if dragging was cancelled using Esc,\n    // we do nothing here, but letting the mouseUp pass to navigation classes would cause camera jumps.\n    return !this.ignoreDragging && wasDragging;\n  }\n\n  // Exclude currently edited polygon from snapping: The polygon shouldn't snap to itself, but rather\n  // to geometry below it.\n  snappingFilter(shape) {\n    return shape !== this.poly;\n  }\n\n  handleKeyDown(event, keyCode) {\n    let handled = super.handleKeyDown(event, keyCode);\n\n    if (keyCode === this.keyMap.CancelEdit) {\n      handled = this.cancelDrag();\n    }\n\n    return handled;\n  }\n\n  cancelDrag() {\n\n    let needsUpdate = false;\n\n    if (this.draggedVertex) {\n      this.restoreDragVertex();\n      this.draggedVertex = null;\n      needsUpdate = true;\n    }\n\n    if (needsUpdate) {\n      this.updateAllGizmos();\n      this.layer.update();\n    }\n\n    this.snapper.clearSnappingGizmos();\n\n    return needsUpdate;\n  }\n\n  // If snapping has toggled on/off, we instantly \"replay\" hovering at current mouse position. Purpose is to\n  // give instant feedback (e.g. hide/show SnapLine gizmos and adjust position of preview edge)\n  onSnappingToggled(canvasX, canvasY) {\n\n    // If we are dragging a vertex, toggling snapping will affect the result and\n    // we should update line gizmos and snapping lines.\n    if (this.draggedVertex) {\n      this.moveDragVertex(canvasX, canvasY);\n    }\n  }\n\n  // Updates selection of shape(s), vertex, and edge after an action\n  updateSelectionState(action, isUndo) {\n    // Check if the action provides a hint how we should update selection\n    const hint = action.getSelectionHint(isUndo);\n    if (hint) {\n      this.setSelectedVertex(hint.vertex);\n      return;\n    }\n\n    // Default behavior - if we don't know anything better:\n    //  - Keep shape selected if still existing\n    //  - Reset vertex/edge selection\n\n    // If shape was removed, reset state\n    const shapeFound = Boolean(this.poly && this.layer.findShapeById(this.poly.id));\n    if (!shapeFound) {\n      this.reset();\n    }\n\n    this.setSelectedVertex(null);\n  }\n\n  handleExternalAction(action, isUndo) {\n\n    // make sure that selected edge/vertex are still valid (or switched off)\n    this.updateSelectionState(action, isUndo);\n\n    // Stop any ongoing drag-operations (e.g., an undo operation might have removed the vertex that we are just dragging)\n    this.cancelDrag();\n\n    // Sync gizmos in case vertices were modified\n    this.updateAllGizmos();\n\n    this.snapper.clearSnappingGizmos();\n  }\n\n  getCursor() {\n\n    if (!this.poly) {\n      return;\n    }\n\n    // Note: Vertex gizmos and edge gizmos are separate DomElements and define own mouse cursors via style.\n    // Indicate: \"Moving a gizmo\". Currently, we use the same as for shape move. Note that\n    //           the cursor for gizmo dragging must be consistent with the one we have if the mouse is on the gizmo.\n    //           Otherwise, the mouse cursor would change its state when temporarily leaving the gizmo on fast moves.\n    if (this.draggedVertex) {\n      return 'move';\n    }\n\n    // => Just default cursor\n    return undefined;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL0VkaXQyRC90b29scy9WZXJ0ZXhNb3ZlVG9vbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQ3dDO0FBQ0Y7QUFDMkI7QUFDakI7QUFDSDs7QUFFN0MsTUFBTU8sa0JBQWtCLEdBQUcsc0JBQXNCOztBQUVqRCxNQUFNQyxFQUFFLEdBQUdDLFFBQVEsQ0FBQ0MsT0FBTzs7QUFFM0IsTUFBTUMsZUFBZSxHQUFHQSxDQUFDQyxLQUFLLEVBQUVDLFNBQVMsS0FBSztFQUMxQyxPQUFPLDhCQUE4QixHQUFHQSxTQUFTLENBQUNDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHRixLQUFLLENBQUNFLFFBQVEsQ0FBQyxDQUFDO0FBQ3pGLENBQUM7O0FBRWMsTUFBTUMsY0FBYyxTQUFTVCx3REFBWSxDQUFDOztFQUVyRFUsV0FBV0EsQ0FBQ0MsR0FBRyxFQUFFO0lBQ2IsS0FBSyxDQUFDQSxHQUFHLENBQUM7O0lBRVYsSUFBSSxDQUFDQyxLQUFLLEdBQUdELEdBQUcsQ0FBQ0MsS0FBSztJQUN0QixJQUFJLENBQUNDLFNBQVMsR0FBR0YsR0FBRyxDQUFDRSxTQUFTO0lBQzlCLElBQUksQ0FBQ0MsVUFBVSxHQUFJLElBQUdILEdBQUcsQ0FBQ0ksV0FBWSxFQUFDOztJQUV2QyxJQUFJLENBQUNDLE1BQU0sQ0FBQ0MsVUFBVSxHQUFHZixFQUFFLENBQUNnQixPQUFPLENBQUNDLE1BQU07SUFDMUMsSUFBSSxDQUFDSCxNQUFNLENBQUNJLG9CQUFvQixHQUFHbEIsRUFBRSxDQUFDZ0IsT0FBTyxDQUFDRyxTQUFTOztJQUV2RDtJQUNBLElBQUksQ0FBQ0MsUUFBUSxHQUFHLElBQUlDLEtBQUssQ0FBQ0MsT0FBTyxDQUFDLENBQUM7O0lBRW5DO0lBQ0EsSUFBSSxDQUFDQyxZQUFZLEdBQUcsRUFBRSxDQUFDLENBQUM7O0lBRXhCO0lBQ0EsSUFBSSxDQUFDQyxhQUFhLEdBQUcsSUFBSSxDQUFDLENBQUM7O0lBRTNCO0lBQ0EsSUFBSSxDQUFDQyxrQkFB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TyxDQUFDLElBQUksQ0FBQzVGLElBQUksSUFBSSxJQUFJLENBQUM3QixLQUFLLENBQUMwSCxhQUFhLENBQUMsSUFBSSxDQUFDN0YsSUFBSSxDQUFDOEYsRUFBRSxDQUFDLENBQUM7SUFDL0UsSUFBSSxDQUFDSCxVQUFVLEVBQUU7TUFDYixJQUFJLENBQUNsRyxLQUFLLENBQUMsQ0FBQztJQUNoQjs7SUFFQSxJQUFJLENBQUM2QixpQkFBaUIsQ0FBQyxJQUFJLENBQUM7RUFDaEM7O0VBRUF5RSxvQkFBb0JBLENBQUNSLE1BQU0sRUFBRUMsTUFBTSxFQUFFOztJQUVqQztJQUNBLElBQUksQ0FBQ0Ysb0JBQW9CLENBQUNDLE1BQU0sRUFBRUMsTUFBTSxDQUFDOztJQUV6QztJQUNBLElBQUksQ0FBQ0wsVUFBVSxDQUFDLENBQUM7O0lBRWpCO0lBQ0EsSUFBSSxDQUFDOUQsZUFBZSxDQUFDLENBQUM7O0lBRXRCLElBQUksQ0FBQ08sT0FBTyxDQUFDK0MsbUJBQW1CLENBQUMsQ0FBQztFQUN0Qzs7RUFFQXFCLFNBQVNBLENBQUEsRUFBRzs7SUFFUixJQUFJLENBQUMsSUFBSSxDQUFDaEcsSUFBSSxFQUFFO01BQ1o7SUFDSjs7SUFFQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLElBQUksSUFBSSxDQUFDZixhQUFhLEVBQUU7TUFDcEIsT0FBTyxNQUFNO0lBQ2pCOztJQUVBO0lBQ0EsT0FBT2dILFNBQVM7RUFDcEI7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL0VkaXQyRC90b29scy9WZXJ0ZXhNb3ZlVG9vbC5qcz8xYTkzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHsgQWN0aW9ucyB9IGZyb20gJy4uL0FjdGlvbnMuanMnO1xuaW1wb3J0IHsgTWF0aDJEIH0gZnJvbSAnLi4vTWF0aDJELmpzJztcbmltcG9ydCB7IFBvbHlJbmRleCwgUG9seUJhc2UsIFBvbHlsaW5lIH0gZnJvbSAnLi4vRWRpdFNoYXBlcy5qcyc7XG5pbXBvcnQgeyBWZXJ0ZXhHaXptbyB9IGZyb20gJy4uL0NhbnZhc0dpem1vLmpzJztcbmltcG9ydCBFZGl0VG9vbEJhc2UgZnJvbSAnLi9FZGl0VG9vbEJhc2UuanMnO1xuXG5jb25zdCBWZXJ0ZXhNb3ZlVG9vbE5hbWUgPSBcIkVkaXQyX1ZlcnRleE1vdmVUb29sXCI7XG5cbmNvbnN0IGF2ID0gQXV0b2Rlc2suVmlld2luZztcblxuY29uc3QgdmVydGV4R2l6bW9OYW1lID0gKGluZGV4LCBsb29wSW5kZXgpID0+IHtcbiAgICByZXR1cm4gJ1BvbHlnb25FZGl0VG9vbF92ZXJ0ZXhHaXptb18nICsgbG9vcEluZGV4LnRvU3RyaW5nKCkgKyAnXycgKyBpbmRleC50b1N0cmluZygpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVydGV4TW92ZVRvb2wgZXh0ZW5kcyBFZGl0VG9vbEJhc2Uge1xuXG4gICAgY29uc3RydWN0b3IoY3R4KSB7XG4gICAgICAgIHN1cGVyKGN0eCk7XG5cbiAgICAgICAgdGhpcy5sYXllciA9IGN0eC5sYXllcjtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24gPSBjdHguc2VsZWN0aW9uO1xuICAgICAgICB0aGlzLm5hbWVTdWZmaXggPSBgXyR7Y3R4LnRvb2xTZXROYW1lfWA7XG5cbiAgICAgICAgdGhpcy5rZXlNYXAuQ2FuY2VsRWRpdCA9IGF2LktleUNvZGUuRVNDQVBFO1xuICAgICAgICB0aGlzLmtleU1hcC5EZWxldGVTZWxlY3RlZFZlcnRleCA9IGF2LktleUNvZGUuQkFDS1NQQUNFO1xuXG4gICAgICAgIC8vIFRyYWNrIG1vdXNlIHBvc2l0aW9uIGluIGxheWVyLWNvb3Jkc1xuICAgICAgICB0aGlzLm1vdXNlUG9zID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuICAgICAgICAvLyBBcnJheSBvZiBWZXJ0ZXhHaXptbyBwZXIgbG9vcFxuICAgICAgICB0aGlzLnZlcnRleEdpem1vcyA9IFtdOyAvLyBWZXJ0ZXhHaXptb1tdW11cblxuICAgICAgICAvLyBJbmRleCBvZiB0aGUgdmVydGV4IGN1cnJlbnRseSBiZWluZyBkcmFnZ2VkIChvciAtMSBpZiBubyBkcmFnZ2luZyBpcyBhY3RpdmUpXG4gICAgICAgIHRoaXMuZHJhZ2dlZFZlcnRleCA9IG51bGw7IC8vIHtQb2x5SW5kZXh9XG5cbiAgICAgICAgLy8gV2hlbiBkcmFnZ2luZyBhIHZlcnRleCwgdGhpcyBzdG9yZXMgYSBjb3B5IG9mIGl0cyBvcmlnaW5hbCBwb3NpdGlvblxuICAgICAgICB0aGlzLmRyYWdWZXJ0ZXhTdGFydFBvcyA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cbiAgICAgICAgLy8gZ2l6bW9zIGFyZSBlbmFibGVkIGJ5IGRlZmF1bHQuXG4gICAgICAgIHRoaXMuZ2l6bW9zRW5hYmxlZCA9IHRydWU7XG5cbiAgICAgICAgLy8gc2VsZWN0ZWRWZXJ0ZXggaXMgdGhlIG9uZSB0aGF0IHdhcyBsYXN0IGNsaWNrZWQgb24uIEl0IGlzIHNldCB0b2dldGhlciB3aXRoIGRyYWdnZWRWZXJ0ZXgsXG4gICAgICAgIC8vIGJ1dCAodW5saWtlIGRyYWdnZWRWZXJ0ZXgpIGtlZXBzIHRoZSBzYW1lIGFmdGVyIGRyYWdFbmQuXG4gICAgICAgIC8vIHNlbGVjdGVkVmVydGV4IGlzIHRoZSBvbmUgdGhhdCBpcyBoaWdobGlnaHRlZCBhbmQgd2hpY2ggd2lsbCBiZSBkZWxldGVkIHdoZW4gcHJlc3NpbmcgYmFja3NwYWNlLlxuICAgICAgICB0aGlzLnNlbGVjdGVkVmVydGV4ID0gbnVsbDsgLy8ge1BvbHlJbmRleH1cblxuICAgICAgICAvLyBXaGVuIGRyYWdnaW5nIHZlcnRpY2VzLCB3ZSBzdG9yZSB0aGUgb2Zmc2V0IChpbiBsYXllci1jb29yZHMpIGJldHdlZW4gdGhlIGFjY3VyYXRlIGNsaWNrIHBvc2l0aW9uIGFuZCB0aGUgY2VudGVyIG9mIHRoZSBjbGlja2VkIHZlcnRleCBnaXptb1xuICAgICAgICAvLyBTdG9yZWQgaW4gcGl4ZWxzLlxuICAgICAgICB0aGlzLmRyYWdPZmZzZXQgPSBuZXcgVEhSRUUuVmVjdG9yMigwLCAwKTtcblxuICAgICAgICAvLyBMYXN0IGRyYWcgcG9zaXRpb24gaW4gbGF5ZXIgY29vcmRzXG4gICAgICAgIHRoaXMubGFzdERyYWdQb2ludCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gICAgfVxuXG4gICAgZ2V0TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFZlcnRleE1vdmVUb29sTmFtZSArIHRoaXMubmFtZVN1ZmZpeDtcbiAgICB9XG5cbiAgICBkZWFjdGl2YXRlKCkge1xuICAgICAgICBzdXBlci5kZWFjdGl2YXRlKCk7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICBzZXRBbGxHaXptb3NFbmFibGVkKGVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5naXptb3NFbmFibGVkID0gZW5hYmxlZDtcblxuICAgICAgICB0aGlzLnVwZGF0ZVZlcnRleEdpem1vcygpO1xuICAgIH1cblxuICAgIC8vIGNyZWF0ZSBWZXJ0ZXhHaXptb3MgZm9yIGEgc2luZ2xlIGxvb3BcbiAgICB1cGRhdGVWZXJ0ZXhHaXptb0xvb3AobG9vcEluZGV4KSB7XG5cbiAgICAgICAgY29uc3QgZ2l6bW9zID0gW107XG4gICAgICAgIGNvbnN0IHZlcnRleENvdW50ID0gdGhpcy5wb2x5LmdldFZlcnRleENvdW50KGxvb3BJbmRleCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydGV4Q291bnQ7IGkrKykge1xuXG4gICAgICAgICAgICAvLyBjcmVhdGUgbmV3IHZlcnRleCBnaXptb1xuICAgICAgICAgICAgbGV0IHAgPSB0aGlzLnBvbHkuZ2V0UG9pbnQoaSwgbG9vcEluZGV4KTtcbiAgICAgICAgICAgIGxldCB2ZXJ0ZXggPSBuZXcgVmVydGV4R2l6bW8odGhpcy5naXptb0xheWVyLCBwLngsIHAueSwgdmVydGV4R2l6bW9OYW1lKGksIGxvb3BJbmRleCkpO1xuICAgICAgICAgICAgdmVydGV4LmF0dGFjaFRvVmVydGV4KHRoaXMucG9seSwgaSwgbG9vcEluZGV4KTtcbiAgICAgICAgICAgIGdpem1vcy5wdXNoKHZlcnRleCk7XG5cbiAgICAgICAgICAgIC8vIFdlIGltcGxlbWVudCBkcmFnLWJlaGF2aW9yLCBzbyB3ZSB3YW50IGhvdmVyLWhpZ2hsaWdodFxuICAgICAgICAgICAgdmVydGV4LnNldEhvdmVyRW5hYmxlZCh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmVydGV4R2l6bW9zW2xvb3BJbmRleF0gPSBnaXptb3M7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIFZlcnRleEdpem1vcyBmb3IgYWxsIGxvb3BzXG4gICAgdXBkYXRlVmVydGV4R2l6bW9zKCkge1xuICAgICAgICAvLyBjbGVhciBhbnkgb3V0ZGF0ZWQgb25lc1xuICAgICAgICB0aGlzLmNsZWFyVmVydGV4R2l6bW9zKCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmdpem1vc0VuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnBvbHkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGwgPSAwOyBsIDwgdGhpcy5wb2x5Lmxvb3BDb3VudDsgbCsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVWZXJ0ZXhHaXptb0xvb3AobCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB2ZXJ0ZXgtaGlnaGxpZ2h0aW5nIGlzIHVwIHRvIGRhdGVcbiAgICAgICAgdGhpcy51cGRhdGVWZXJ0ZXhIaWdobGlnaHRpbmcoKTtcbiAgICB9XG5cbiAgICBjbGVhclZlcnRleEdpem1vcygpIHtcbiAgICAgICAgZm9yIChsZXQgbCA9IDA7IGwgPCB0aGlzLnZlcnRleEdpem1vcy5sZW5ndGg7IGwrKykge1xuICAgICAgICAgICAgY29uc3QgZ2l6bW9zID0gdGhpcy52ZXJ0ZXhHaXptb3NbbF07XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdpem1vcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGdpem1vc1tpXS5kdG9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52ZXJ0ZXhHaXptb3MubGVuZ3RoID0gMDtcbiAgICB9XG5cbiAgICAvLyBNYWtlIHN1cmUgdGhhdCBvbmx5IHRoZSB2ZXJ0ZXhHaXptbyBpcyBvbmx5IGhpZ2hsaWdodGVkIGZvciB0aGUgc2VsZWN0ZWRWZXJ0ZXggKGlmIGFueSlcbiAgICB1cGRhdGVWZXJ0ZXhIaWdobGlnaHRpbmcoKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZFZlcnRleDtcbiAgICAgICAgZm9yIChsZXQgbCA9IDA7IGwgPCB0aGlzLnZlcnRleEdpem1vcy5sZW5ndGg7IGwrKykge1xuICAgICAgICAgICAgY29uc3QgZ2l6bW9zID0gdGhpcy52ZXJ0ZXhHaXptb3NbbF07XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdpem1vcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGdpem1vc1tpXS5zZXRTZWxlY3RlZChzZWxlY3RlZCAmJiBzZWxlY3RlZC52ZXJ0ZXggPT09IGkgJiYgc2VsZWN0ZWQubG9vcCA9PT0gbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdmVydGV4LWdpem1vcywgYW5kIHRhbmdlbnQgZ2l6bW9zLlxuICAgIHVwZGF0ZUFsbEdpem1vcygpIHtcbiAgICAgICAgdGhpcy51cGRhdGVWZXJ0ZXhHaXptb3MoKTtcbiAgICB9XG5cbiAgICAvLyBAcGFyYW17UG9seUluZGV4fSBwb2x5SW5kZXhcbiAgICBzZXRTZWxlY3RlZFZlcnRleChwb2x5SW5kZXgpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZFZlcnRleCA9IHRoaXMucG9seSA/IHBvbHlJbmRleCA6IG51bGw7XG4gICAgICAgIHRoaXMudXBkYXRlVmVydGV4SGlnaGxpZ2h0aW5nKCk7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGluZGV4IG9mIHRoZSB2ZXJ0ZXggZ2l6bW8gdW5kZXIgbW91c2UuIChvciBudWxsIGlmIG5vIHZlcnRleEdpem1vIGlzIGhpdClcbiAgICAvLyByZXR1cm5zIHtQb2x5SW5kZXh9XG4gICAgZmluZFZlcnRleFVuZGVyTW91c2UoKSB7XG4gICAgICAgIGxldCB2ZXJ0ZXhJbmRleCA9IC0xO1xuICAgICAgICBmb3IgKGxldCBsID0gMDsgbCA8IHRoaXMudmVydGV4R2l6bW9zLmxlbmd0aDsgbCsrKSB7XG4gICAgICAgICAgICBjb25zdCBnaXptb3MgPSB0aGlzLnZlcnRleEdpem1vc1tsXTtcbiAgICAgICAgICAgIHZlcnRleEluZGV4ID0gdGhpcy5naXptb01hbmFnZXIuZ2V0R2l6bW9JbmRleChnaXptb3MpO1xuXG4gICAgICAgICAgICAvLyBSZXR1cm4gdmVydGV4IGluZGV4IGlmIHdlIGZvdW5kIG9uZS5cbiAgICAgICAgICAgIGlmICh2ZXJ0ZXhJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2x5SW5kZXgoe1xuICAgICAgICAgICAgICAgICAgICBsb29wOiBsLFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0ZXg6IHZlcnRleEluZGV4XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gRmluaXNoZXMgZWRpdGluZyBvZiBhIHByZXZpb3VzIHBvbHlnb25cbiAgICByZXNldCgpIHtcblxuICAgICAgICBpZiAoIXRoaXMucG9seSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wb2x5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5kcmFnZ2VkVmVydGV4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zZWxlY3RlZFZlcnRleCA9IG51bGw7XG5cbiAgICAgICAgLy8gQ2xlYXIgYW55IGdpem1vcyBmcm9tIHByZXZpb3VzIHBvbHlnb25cbiAgICAgICAgdGhpcy51cGRhdGVBbGxHaXptb3MoKTtcblxuICAgICAgICB0aGlzLnNuYXBwZXIuc3RvcEFuZ2xlU25hcHBpbmcoKTtcbiAgICB9XG5cbiAgICAvLyBTZWxlY3RzIGEgbmV3IHBvbHlnb24gLyBwb2x5bGluZSBmb3IgZWRpdGluZ1xuICAgIHNldEVkaXRQb2x5KHBvbHkpIHtcblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgaWYgKHBvbHkpIHtcbiAgICAgICAgICAgIHRoaXMucG9seSA9IHBvbHk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUFsbEdpem1vcygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgc2VsZWN0aW9uIGNoYW5nZXMgKG1heSBhbHNvIGJlIHRyaWdnZXJlZCBvdXRzaWRlIHRoaXMgdG9vbCksIHdlIGNob29zZSB0aGUgc2VsZWN0ZWQgcG9seW9uIGZvciBlZGl0aW5nXG4gICAgb25TZWxlY3Rpb25DaGFuZ2VkKCkge1xuICAgICAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuc2VsZWN0aW9uLmdldFNlbGVjdGVkU2hhcGVzKCk7XG5cbiAgICAgICAgLy8gQWN0aXZhdGUgaWYgZXhhY3RseSBvbmUgc2hhcGUgaXMgc2VsZWN0ZWRcbiAgICAgICAgY29uc3Qgc2hhcGUgPSAoc2VsZWN0ZWQubGVuZ3RoID09IDEpID8gc2VsZWN0ZWRbMF0gOiBudWxsO1xuICAgICAgICBpZiAoc2hhcGUgaW5zdGFuY2VvZiBQb2x5QmFzZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRFZGl0UG9seShzaGFwZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldEVkaXRQb2x5KG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlQnV0dG9uRG93bihldmVudCwgYnV0dG9uKSB7XG4gICAgICAgIC8vIFN1cHBvcnQgc3VwcHJlc3NpbmcgbW91c2UgYnV0dG9ucyBieSBob2xkaW5nIGEga2V5XG4gICAgICAgIGlmICh0aGlzLmlnbm9yZURyYWdnaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5oYW5kbGVCdXR0b25Eb3duKGV2ZW50LCBidXR0b24pO1xuXG4gICAgICAgIC8vIE9ubHkgcmVzcG9uZCB0byBsZWZ0IG1vdXNlIGJ1dHRvbi5cbiAgICAgICAgaWYgKCFidXR0b24gPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcCA9IHRoaXMubGF5ZXIuY2FudmFzVG9MYXllcihldmVudC5jYW52YXNYLCBldmVudC5jYW52YXNZKTtcbiAgICAgICAgdGhpcy5tb3VzZVBvcy5jb3B5KHApO1xuXG4gICAgICAgIC8vIElmIHdlIGhpdCBhbiBleGlzdGluZyB2ZXJ0ZXgsIHN0YXJ0IGRyYWdnaW5nIGl0XG4gICAgICAgIGNvbnN0IGRyYWdnZWRWZXJ0ZXggPSB0aGlzLmZpbmRWZXJ0ZXhVbmRlck1vdXNlKCk7XG4gICAgICAgIGlmIChkcmFnZ2VkVmVydGV4KSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0RHJhZ1ZlcnRleChldmVudCwgZHJhZ2dlZFZlcnRleCk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWREcmFnZ2luZyA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cblxuICAgIC8vIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gICAgLy8gQHBhcmFtIHtQb2x5SW5kZXh9IGRyYWdnZWRWZXJ0ZXhcbiAgICBzdGFydERyYWdWZXJ0ZXgoZXZlbnQsIGRyYWdnZWRWZXJ0ZXgpIHtcbiAgICAgICAgaWYgKHRoaXMubW91c2VUcmFja2VyKSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlVHJhY2tlci5zdGFydFRyYWNraW5nKHRoaXMuZ2V0TmFtZSgpLCBBdXRvZGVzay5FZGl0MkQuVHJhY2tpbmdzLkRyYWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29uZmlndXJlIGFuZ2xlIHNuYXBwaW5nIHRvIGNvbnNpZGVyIGxhdGVzdCBzdGF0ZSBvZiB0aGUgcG9seWdvblxuICAgICAgICB0aGlzLnNuYXBwZXIuc3RhcnRBbmdsZVNuYXBwaW5nKHRoaXMucG9seS5jbG9uZSgpLCBkcmFnZ2VkVmVydGV4LnZlcnRleCwgZHJhZ2dlZFZlcnRleC5sb29wKTtcblxuICAgICAgICB0aGlzLmRyYWdnZWRWZXJ0ZXggPSBkcmFnZ2VkVmVydGV4O1xuXG4gICAgICAgIC8vIFN0b3JlIG9mZnNldCBiZXR3ZWVuIGV4YWN0IG1vdXNlIHBvcyBhbmQgdGhlIHZlcnRleCB3ZSBhcmUgZHJhZ2dpbmdcbiAgICAgICAgY29uc3QgdnBvcyA9IHRoaXMucG9seS5nZXRQb2ludCh0aGlzLmRyYWdnZWRWZXJ0ZXgudmVydGV4LCB0aGlzLmRyYWdnZWRWZXJ0ZXgubG9vcCk7XG4gICAgICAgIGNvbnN0IHZwb3NTY3JlZW4gPSB0aGlzLmxheWVyLmxheWVyVG9DYW52YXModnBvcy54LCB2cG9zLnkpO1xuICAgICAgICB0aGlzLmRyYWdPZmZzZXQuc2V0KHZwb3NTY3JlZW4ueCAtIGV2ZW50LmNhbnZhc1gsIHZwb3NTY3JlZW4ueSAtIGV2ZW50LmNhbnZhc1kpO1xuXG4gICAgICAgIC8vIGhpZ2hsaWdodCB0aGUgdmVydGV4IHdlIGNsaWNrZWQgb25cbiAgICAgICAgdGhpcy5zZXRTZWxlY3RlZFZlcnRleCh0aGlzLmRyYWdnZWRWZXJ0ZXgpO1xuXG4gICAgICAgIHRoaXMubGFzdERyYWdQb2ludC5jb3B5KHZwb3MpO1xuICAgICAgICB0aGlzLmRyYWdWZXJ0ZXhTdGFydFBvcy5jb3B5KHZwb3MpO1xuICAgIH1cblxuICAgIG1vdmVEcmFnVmVydGV4KGNhbnZhc1gsIGNhbnZhc1kpIHtcblxuICAgICAgICBjb25zdCB7IGxvb3AsIHZlcnRleCB9ID0gdGhpcy5kcmFnZ2VkVmVydGV4O1xuXG4gICAgICAgIC8vIE5vdGUgdGhhdCB0aGUgdmVydGV4IHdlIGFyZSBkcmFnZ2luZyBkb2VzIG5vdCBhbHdheXMgbWF0Y2ggZXhhY3RseSB3aXRoIHRoZSBtb3VzZSBwb3NpdGlvbi4gRS5nLiwgd2UgbWF5IGhhdmUgcGlja2VkIHRoZSBib3R0b20tbGVmdCBib3VuZGFyeSBvZiBhIHZlcnRleCBnaXptbyBhdCBkcmFnLXN0YXJ0LlxuICAgICAgICBjb25zdCB4ID0gY2FudmFzWCArIHRoaXMuZHJhZ09mZnNldC54O1xuICAgICAgICBjb25zdCB5ID0gY2FudmFzWSArIHRoaXMuZHJhZ09mZnNldC55O1xuXG4gICAgICAgIC8vIGdldCBkZWx0YSBiZXR3ZWVuIGxhc3QgYW5kIGN1cnJlbnQgcG9zaXRpb25cbiAgICAgICAgY29uc3QgcCA9IHRoaXMuZ2V0U25hcFBvc2l0aW9uKHgsIHkpO1xuICAgICAgICBjb25zdCBkeCA9IHAueCAtIHRoaXMubGFzdERyYWdQb2ludC54O1xuICAgICAgICBjb25zdCBkeSA9IHAueSAtIHRoaXMubGFzdERyYWdQb2ludC55O1xuXG4gICAgICAgIC8vIGFwcGx5IHRoaXMgb2Zmc2V0IHRvIHBvbHlnb24gcG9pbnRcbiAgICAgICAgbGV0IHBvaW50ID0gdGhpcy5wb2x5LmdldFBvaW50KHZlcnRleCwgbG9vcCk7XG4gICAgICAgIHRoaXMucG9seS51cGRhdGVQb2ludCh2ZXJ0ZXgsIHBvaW50LnggKyBkeCwgcG9pbnQueSArIGR5LCBsb29wKTtcblxuICAgICAgICAvLyByZS1jZW50ZXIgZ2l6bW8gYXQgbmV3IHBvaW50IHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IHZlcnRleEdpem1vID0gdGhpcy52ZXJ0ZXhHaXptb3NbbG9vcF1bdmVydGV4XTtcbiAgICAgICAgdmVydGV4R2l6bW8uc2V0UG9zaXRpb24ocG9pbnQueCwgcG9pbnQueSk7XG5cbiAgICAgICAgdGhpcy5naXptb0xheWVyLnVwZGF0ZSgpOyAvLyB3ZSBtb3ZlZCB0aGUgdmVydGV4IGdpem1vXG4gICAgICAgIHRoaXMubGF5ZXIudXBkYXRlKCk7ICAgICAgLy8gd2UgY2hhbmdlZCB0aGUgbWFpbiBwb2x5Z29uXG5cbiAgICAgICAgdGhpcy5sYXN0RHJhZ1BvaW50LmNvcHkocCk7XG4gICAgfVxuXG4gICAgcmVzdG9yZURyYWdWZXJ0ZXgoKSB7XG4gICAgICAgIHRoaXMucG9seS51cGRhdGVQb2ludCh0aGlzLmRyYWdnZWRWZXJ0ZXgudmVydGV4LCB0aGlzLmRyYWdWZXJ0ZXhTdGFydFBvcy54LCB0aGlzLmRyYWdWZXJ0ZXhTdGFydFBvcy55LCB0aGlzLmRyYWdnZWRWZXJ0ZXgubG9vcCk7XG4gICAgfVxuXG4gICAgZW5kRHJhZ1ZlcnRleCgpIHtcbiAgICAgICAgaWYgKHRoaXMubW91c2VUcmFja2VyKSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlVHJhY2tlci5zdG9wVHJhY2tpbmcodGhpcy5nZXROYW1lKCksIEF1dG9kZXNrLkVkaXQyRC5UcmFja2luZ3MuRHJhZyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaXJzdCwgcmVzdG9yZSBcImJlZm9yZSBtb3ZlXCIgcG9zaXRpb24gb2YgdGhlIHZlcnRleFxuICAgICAgICB0aGlzLnJlc3RvcmVEcmFnVmVydGV4KCk7XG5cbiAgICAgICAgY29uc3QgcEJlZm9yZSA9IHRoaXMuZHJhZ1ZlcnRleFN0YXJ0UG9zO1xuICAgICAgICBjb25zdCBwQWZ0ZXIgPSB0aGlzLmxhc3REcmFnUG9pbnQ7XG5cbiAgICAgICAgLy8gZG9uJ3QgYWRkIGV4dHJhIHVuZG8tb3BlcmF0aW9uIGlmIHRoZSB2ZXJ0ZXggd2FzIGhhcmRseSBtb3ZlZCBhdCBhbGxcbiAgICAgICAgY29uc3QgbWluRGlzdCA9IHRoaXMubGF5ZXIuZ2V0VW5pdHNQZXJQaXhlbCgpICogMC41O1xuICAgICAgICBjb25zdCBtb3ZlZCA9IHBCZWZvcmUuZGlzdGFuY2VUbyhwQWZ0ZXIpID4gbWluRGlzdDtcblxuICAgICAgICBpZiAobW92ZWQpIHtcbiAgICAgICAgICAgIC8vIEZpbmFsaXplIHZlcnRleC1tb3ZlXG4gICAgICAgICAgICB0aGlzLnJ1bkFjdGlvbihuZXcgQWN0aW9ucy5Nb3ZlVmVydGV4KHRoaXMubGF5ZXIsIHRoaXMucG9seSwgdGhpcy5kcmFnZ2VkVmVydGV4LCBwQWZ0ZXIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHJhZ2dlZFZlcnRleCA9IG51bGw7XG4gICAgICAgIHRoaXMuc25hcHBlci5jbGVhclNuYXBwaW5nR2l6bW9zKCk7XG4gICAgfVxuXG4gICAgaGFuZGxlTW91c2VNb3ZlKGV2ZW50KSB7XG4gICAgICAgIHN1cGVyLmhhbmRsZU1vdXNlTW92ZShldmVudCk7XG5cbiAgICAgICAgdGhpcy5tb3VzZVBvcy5jb3B5KHRoaXMubGF5ZXIuY2FudmFzVG9MYXllcihldmVudC5jYW52YXNYLCBldmVudC5jYW52YXNZKSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLnBvbHkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRyYWdnZWRWZXJ0ZXgpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZURyYWdWZXJ0ZXgoZXZlbnQuY2FudmFzWCwgZXZlbnQuY2FudmFzWSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBoYW5kbGVCdXR0b25VcChldmVudCwgYnV0dG9uKSB7XG4gICAgICAgIHN1cGVyLmhhbmRsZUJ1dHRvblVwKGV2ZW50LCBidXR0b24pO1xuXG4gICAgICAgIGNvbnN0IHdhc0RyYWdnaW5nID0gdGhpcy5zdGFydGVkRHJhZ2dpbmc7XG4gICAgICAgIHRoaXMuc3RhcnRlZERyYWdnaW5nID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRoaXMuZHJhZ2dlZFZlcnRleCkge1xuICAgICAgICAgICAgdGhpcy5lbmREcmFnVmVydGV4KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbnNpZGVyIGFsbCBsZWZ0LWJ1dHRvbiBldmVudHMgYXMgaGFuZGxlZC4gRS5nLiwgaWYgZHJhZ2dpbmcgd2FzIGNhbmNlbGxlZCB1c2luZyBFc2MsXG4gICAgICAgIC8vIHdlIGRvIG5vdGhpbmcgaGVyZSwgYnV0IGxldHRpbmcgdGhlIG1vdXNlVXAgcGFzcyB0byBuYXZpZ2F0aW9uIGNsYXNzZXMgd291bGQgY2F1c2UgY2FtZXJhIGp1bXBzLlxuICAgICAgICByZXR1cm4gIXRoaXMuaWdub3JlRHJhZ2dpbmcgJiYgd2FzRHJhZ2dpbmc7XG4gICAgfVxuXG4gICAgLy8gRXhjbHVkZSBjdXJyZW50bHkgZWRpdGVkIHBvbHlnb24gZnJvbSBzbmFwcGluZzogVGhlIHBvbHlnb24gc2hvdWxkbid0IHNuYXAgdG8gaXRzZWxmLCBidXQgcmF0aGVyXG4gICAgLy8gdG8gZ2VvbWV0cnkgYmVsb3cgaXQuXG4gICAgc25hcHBpbmdGaWx0ZXIoc2hhcGUpIHtcbiAgICAgICAgcmV0dXJuIHNoYXBlICE9PSB0aGlzLnBvbHk7XG4gICAgfVxuXG4gICAgaGFuZGxlS2V5RG93bihldmVudCwga2V5Q29kZSkge1xuICAgICAgICBsZXQgaGFuZGxlZCA9IHN1cGVyLmhhbmRsZUtleURvd24oZXZlbnQsIGtleUNvZGUpO1xuXG4gICAgICAgIGlmIChrZXlDb2RlID09PSB0aGlzLmtleU1hcC5DYW5jZWxFZGl0KSB7XG4gICAgICAgICAgICBoYW5kbGVkID0gdGhpcy5jYW5jZWxEcmFnKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaGFuZGxlZDtcbiAgICB9XG5cbiAgICBjYW5jZWxEcmFnKCkge1xuXG4gICAgICAgIGxldCBuZWVkc1VwZGF0ZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0aGlzLmRyYWdnZWRWZXJ0ZXgpIHtcbiAgICAgICAgICAgIHRoaXMucmVzdG9yZURyYWdWZXJ0ZXgoKTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dlZFZlcnRleCA9IG51bGw7XG4gICAgICAgICAgICBuZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmVlZHNVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQWxsR2l6bW9zKCk7XG4gICAgICAgICAgICB0aGlzLmxheWVyLnVwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zbmFwcGVyLmNsZWFyU25hcHBpbmdHaXptb3MoKTtcblxuICAgICAgICByZXR1cm4gbmVlZHNVcGRhdGU7XG4gICAgfVxuXG4gICAgLy8gSWYgc25hcHBpbmcgaGFzIHRvZ2dsZWQgb24vb2ZmLCB3ZSBpbnN0YW50bHkgXCJyZXBsYXlcIiBob3ZlcmluZyBhdCBjdXJyZW50IG1vdXNlIHBvc2l0aW9uLiBQdXJwb3NlIGlzIHRvXG4gICAgLy8gZ2l2ZSBpbnN0YW50IGZlZWRiYWNrIChlLmcuIGhpZGUvc2hvdyBTbmFwTGluZSBnaXptb3MgYW5kIGFkanVzdCBwb3NpdGlvbiBvZiBwcmV2aWV3IGVkZ2UpXG4gICAgb25TbmFwcGluZ1RvZ2dsZWQoY2FudmFzWCwgY2FudmFzWSkge1xuXG4gICAgICAgIC8vIElmIHdlIGFyZSBkcmFnZ2luZyBhIHZlcnRleCwgdG9nZ2xpbmcgc25hcHBpbmcgd2lsbCBhZmZlY3QgdGhlIHJlc3VsdCBhbmRcbiAgICAgICAgLy8gd2Ugc2hvdWxkIHVwZGF0ZSBsaW5lIGdpem1vcyBhbmQgc25hcHBpbmcgbGluZXMuXG4gICAgICAgIGlmICh0aGlzLmRyYWdnZWRWZXJ0ZXgpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZURyYWdWZXJ0ZXgoY2FudmFzWCwgY2FudmFzWSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBVcGRhdGVzIHNlbGVjdGlvbiBvZiBzaGFwZShzKSwgdmVydGV4LCBhbmQgZWRnZSBhZnRlciBhbiBhY3Rpb25cbiAgICB1cGRhdGVTZWxlY3Rpb25TdGF0ZShhY3Rpb24sIGlzVW5kbykge1xuICAgICAgICAvLyBDaGVjayBpZiB0aGUgYWN0aW9uIHByb3ZpZGVzIGEgaGludCBob3cgd2Ugc2hvdWxkIHVwZGF0ZSBzZWxlY3Rpb25cbiAgICAgICAgY29uc3QgaGludCA9IGFjdGlvbi5nZXRTZWxlY3Rpb25IaW50KGlzVW5kbyk7XG4gICAgICAgIGlmIChoaW50KSB7XG4gICAgICAgICAgICB0aGlzLnNldFNlbGVjdGVkVmVydGV4KGhpbnQudmVydGV4KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERlZmF1bHQgYmVoYXZpb3IgLSBpZiB3ZSBkb24ndCBrbm93IGFueXRoaW5nIGJldHRlcjpcbiAgICAgICAgLy8gIC0gS2VlcCBzaGFwZSBzZWxlY3RlZCBpZiBzdGlsbCBleGlzdGluZ1xuICAgICAgICAvLyAgLSBSZXNldCB2ZXJ0ZXgvZWRnZSBzZWxlY3Rpb25cblxuICAgICAgICAvLyBJZiBzaGFwZSB3YXMgcmVtb3ZlZCwgcmVzZXQgc3RhdGVcbiAgICAgICAgY29uc3Qgc2hhcGVGb3VuZCA9IEJvb2xlYW4odGhpcy5wb2x5ICYmIHRoaXMubGF5ZXIuZmluZFNoYXBlQnlJZCh0aGlzLnBvbHkuaWQpKTtcbiAgICAgICAgaWYgKCFzaGFwZUZvdW5kKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFNlbGVjdGVkVmVydGV4KG51bGwpO1xuICAgIH1cblxuICAgIGhhbmRsZUV4dGVybmFsQWN0aW9uKGFjdGlvbiwgaXNVbmRvKSB7XG5cbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoYXQgc2VsZWN0ZWQgZWRnZS92ZXJ0ZXggYXJlIHN0aWxsIHZhbGlkIChvciBzd2l0Y2hlZCBvZmYpXG4gICAgICAgIHRoaXMudXBkYXRlU2VsZWN0aW9uU3RhdGUoYWN0aW9uLCBpc1VuZG8pO1xuXG4gICAgICAgIC8vIFN0b3AgYW55IG9uZ29pbmcgZHJhZy1vcGVyYXRpb25zIChlLmcuLCBhbiB1bmRvIG9wZXJhdGlvbiBtaWdodCBoYXZlIHJlbW92ZWQgdGhlIHZlcnRleCB0aGF0IHdlIGFyZSBqdXN0IGRyYWdnaW5nKVxuICAgICAgICB0aGlzLmNhbmNlbERyYWcoKTtcblxuICAgICAgICAvLyBTeW5jIGdpem1vcyBpbiBjYXNlIHZlcnRpY2VzIHdlcmUgbW9kaWZpZWRcbiAgICAgICAgdGhpcy51cGRhdGVBbGxHaXptb3MoKTtcblxuICAgICAgICB0aGlzLnNuYXBwZXIuY2xlYXJTbmFwcGluZ0dpem1vcygpO1xuICAgIH1cblxuICAgIGdldEN1cnNvcigpIHtcblxuICAgICAgICBpZiAoIXRoaXMucG9seSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm90ZTogVmVydGV4IGdpem1vcyBhbmQgZWRnZSBnaXptb3MgYXJlIHNlcGFyYXRlIERvbUVsZW1lbnRzIGFuZCBkZWZpbmUgb3duIG1vdXNlIGN1cnNvcnMgdmlhIHN0eWxlLlxuICAgICAgICAvLyBJbmRpY2F0ZTogXCJNb3ZpbmcgYSBnaXptb1wiLiBDdXJyZW50bHksIHdlIHVzZSB0aGUgc2FtZSBhcyBmb3Igc2hhcGUgbW92ZS4gTm90ZSB0aGF0XG4gICAgICAgIC8vICAgICAgICAgICB0aGUgY3Vyc29yIGZvciBnaXptbyBkcmFnZ2luZyBtdXN0IGJlIGNvbnNpc3RlbnQgd2l0aCB0aGUgb25lIHdlIGhhdmUgaWYgdGhlIG1vdXNlIGlzIG9uIHRoZSBnaXptby5cbiAgICAgICAgLy8gICAgICAgICAgIE90aGVyd2lzZSwgdGhlIG1vdXNlIGN1cnNvciB3b3VsZCBjaGFuZ2UgaXRzIHN0YXRlIHdoZW4gdGVtcG9yYXJpbHkgbGVhdmluZyB0aGUgZ2l6bW8gb24gZmFzdCBtb3Zlcy5cbiAgICAgICAgaWYgKHRoaXMuZHJhZ2dlZFZlcnRleCkge1xuICAgICAgICAgICAgcmV0dXJuICdtb3ZlJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vID0+IEp1c3QgZGVmYXVsdCBjdXJzb3JcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiQWN0aW9ucyIsIk1hdGgyRCIsIlBvbHlJbmRleCIsIlBvbHlCYXNlIiwiUG9seWxpbmUiLCJWZXJ0ZXhHaXptbyIsIkVkaXRUb29sQmFzZSIsIlZlcnRleE1vdmVUb29sTmFtZSIsImF2IiwiQXV0b2Rlc2siLCJWaWV3aW5nIiwidmVydGV4R2l6bW9OYW1lIiwiaW5kZXgiLCJsb29wSW5kZXgiLCJ0b1N0cmluZyIsIlZlcnRleE1vdmVUb29sIiwiY29uc3RydWN0b3IiLCJjdHgiLCJsYXllciIsInNlbGVjdGlvbiIsIm5hbWVTdWZmaXgiLCJ0b29sU2V0TmFtZSIsImtleU1hcCIsIkNhbmNlbEVkaXQiLCJLZXlDb2RlIiwiRVNDQVBFIiwiRGVsZXRlU2VsZWN0ZWRWZXJ0ZXgiLCJCQUNLU1BBQ0UiLCJtb3VzZVBvcyIsIlRIUkVFIiwiVmVjdG9yMiIsInZlcnRleEdpem1vcyIsImRyYWdnZWRWZXJ0ZXgiLCJkcmFnVmVydGV4U3RhcnRQb3MiLCJnaXptb3NFbmFibGVkIiwic2VsZWN0ZWRWZXJ0ZXgiLCJkcmFnT2Zmc2V0IiwibGFzdERyYWdQb2ludCIsImdldE5hbWUiLCJkZWFjdGl2YXRlIiwicmVzZXQiLCJzZXRBbGxHaXptb3NFbmFibGVkIiwiZW5hYmxlZCIsInVwZGF0ZVZlcnRleEdpem1vcyIsInVwZGF0ZVZlcnRleEdpem1vTG9vcCIsImdpem1vcyIsInZlcnRleENvdW50IiwicG9seSIsImdldFZlcnRleENvdW50IiwiaSIsInAiLCJnZXRQb2ludCIsInZlcnRleCIsImdpem1vTGF5ZXIiLCJ4IiwieSIsImF0dGFjaFRvVmVydGV4IiwicHVzaCIsInNldEhvdmVyRW5hYmxlZCIsImNsZWFyVmVydGV4R2l6bW9zIiwibCIsImxvb3BDb3VudCIsInVwZGF0ZVZlcnRleEhpZ2hsaWdodGluZyIsImxlbmd0aCIsImR0b3IiLCJzZWxlY3RlZCIsInNldFNlbGVjdGVkIiwibG9vcCIsInVwZGF0ZUFsbEdpem1vcyIsInNldFNlbGVjdGVkVmVydGV4IiwicG9seUluZGV4IiwiZmluZFZlcnRleFVuZGVyTW91c2UiLCJ2ZXJ0ZXhJbmRleCIsImdpem1vTWFuYWdlciIsImdldEdpem1vSW5kZXgiLCJzbmFwcGVyIiwic3RvcEFuZ2xlU25hcHBpbmciLCJzZXRFZGl0UG9seSIsIm9uU2VsZWN0aW9uQ2hhbmdlZCIsImdldFNlbGVjdGVkU2hhcGVzIiwic2hhcGUiLCJoYW5kbGVCdXR0b25Eb3duIiwiZXZlbnQiLCJidXR0b24iLCJpZ25vcmVEcmFnZ2luZyIsImNhbnZhc1RvTGF5ZXIiLCJjYW52YXNYIiwiY2FudmFzWSIsImNvcHkiLCJzdGFydERyYWdWZXJ0ZXgiLCJzdGFydGVkRHJhZ2dpbmciLCJtb3VzZVRyYWNrZXIiLCJzdGFydFRyYWNraW5nIiwiRWRpdDJEIiwiVHJhY2tpbmdzIiwiRHJhZyIsInN0YXJ0QW5nbGVTbmFwcGluZyIsImNsb25lIiwidnBvcyIsInZwb3NTY3JlZW4iLCJsYXllclRvQ2FudmFzIiwic2V0IiwibW92ZURyYWdWZXJ0ZXgiLCJnZXRTbmFwUG9zaXRpb24iLCJkeCIsImR5IiwicG9pbnQiLCJ1cGRhdGVQb2ludCIsInZlcnRleEdpem1vIiwic2V0UG9zaXRpb24iLCJ1cGRhdGUiLCJyZXN0b3JlRHJhZ1ZlcnRleCIsImVuZERyYWdWZXJ0ZXgiLCJzdG9wVHJhY2tpbmciLCJwQmVmb3JlIiwicEFmdGVyIiwibWluRGlzdCIsImdldFVuaXRzUGVyUGl4ZWwiLCJtb3ZlZCIsImRpc3RhbmNlVG8iLCJydW5BY3Rpb24iLCJNb3ZlVmVydGV4IiwiY2xlYXJTbmFwcGluZ0dpem1vcyIsImhhbmRsZU1vdXNlTW92ZSIsImhhbmRsZUJ1dHRvblVwIiwid2FzRHJhZ2dpbmciLCJzbmFwcGluZ0ZpbHRlciIsImhhbmRsZUtleURvd24iLCJrZXlDb2RlIiwiaGFuZGxlZCIsImNhbmNlbERyYWciLCJuZWVkc1VwZGF0ZSIsIm9uU25hcHBpbmdUb2dnbGVkIiwidXBkYXRlU2VsZWN0aW9uU3RhdGUiLCJhY3Rpb24iLCJpc1VuZG8iLCJoaW50IiwiZ2V0U2VsZWN0aW9uSGludCIsInNoYXBlRm91bmQiLCJCb29sZWFuIiwiZmluZFNoYXBlQnlJZCIsImlkIiwiaGFuZGxlRXh0ZXJuYWxBY3Rpb24iLCJnZXRDdXJzb3IiLCJ1bmRlZmluZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Edit2D/tools/VertexMoveTool.js\n");

/***/ }),

/***/ "./extensions/MSDF/Vector2.js":
/*!************************************!*\
  !*** ./extensions/MSDF/Vector2.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Vector2: () => (/* binding */ Vector2)\n/* harmony export */ });\n/**\n * Vector2D copied from THREEJS\n * IT will reduce the bundle size when we put it into worker\n */\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author philogb / http://blog.thejit.org/\n * @author egraether / http://egraether.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nfunction Vector2(x, y) {\n\n  this.x = x || 0;\n  this.y = y || 0;\n\n}\n\nObject.defineProperties(Vector2.prototype, {\n\n  \"width\": {\n\n    get: function () {\n\n      return this.x;\n\n    },\n\n    set: function (value) {\n\n      this.x = value;\n\n    }\n\n  },\n\n  \"height\": {\n\n    get: function () {\n\n      return this.y;\n\n    },\n\n    set: function (value) {\n\n      this.y = value;\n\n    }\n\n  }\n\n});\n\nObject.assign(Vector2.prototype, {\n\n  isVector2: true,\n\n  set: function (x, y) {\n\n    this.x = x;\n    this.y = y;\n\n    return this;\n\n  },\n\n  setScalar: function (scalar) {\n\n    this.x = scalar;\n    this.y = scalar;\n\n    return this;\n\n  },\n\n  setX: function (x) {\n\n    this.x = x;\n\n    return this;\n\n  },\n\n  setY: function (y) {\n\n    this.y = y;\n\n    return this;\n\n  },\n\n  setComponent: function (index, value) {\n\n    switch (index) {\n\n      case 0:this.x = value;break;\n      case 1:this.y = value;break;\n      default:throw new Error('index is out of range: ' + index);\n\n    }\n\n    return this;\n\n  },\n\n  getComponent: function (index) {\n\n    switch (index) {\n\n      case 0:return this.x;\n      case 1:return this.y;\n      default:throw new Error('index is out of range: ' + index);\n\n    }\n\n  },\n\n  clone: function () {\n\n    return new this.constructor(this.x, this.y);\n\n  },\n\n  copy: function (v) {\n\n    this.x = v.x;\n    this.y = v.y;\n\n    return this;\n\n  },\n\n  add: function (v, w) {\n\n    if (w !== undefined) {\n\n      console.warn('THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');\n      return this.addVectors(v, w);\n\n    }\n\n    this.x += v.x;\n    this.y += v.y;\n\n    return this;\n\n  },\n\n  addScalar: function (s) {\n\n    this.x += s;\n    this.y += s;\n\n    return this;\n\n  },\n\n  addVectors: function (a, b) {\n\n    this.x = a.x + b.x;\n    this.y = a.y + b.y;\n\n    return this;\n\n  },\n\n  addScaledVector: function (v, s) {\n\n    this.x += v.x * s;\n    this.y += v.y * s;\n\n    return this;\n\n  },\n\n  sub: function (v, w) {\n\n    if (w !== undefined) {\n\n      console.warn('THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');\n      return this.subVectors(v, w);\n\n    }\n\n    this.x -= v.x;\n    this.y -= v.y;\n\n    return this;\n\n  },\n\n  subScalar: function (s) {\n\n    this.x -= s;\n    this.y -= s;\n\n    return this;\n\n  },\n\n  subVectors: function (a, b) {\n\n    this.x = a.x - b.x;\n    this.y = a.y - b.y;\n\n    return this;\n\n  },\n\n  multiply: function (v) {\n\n    this.x *= v.x;\n    this.y *= v.y;\n\n    return this;\n\n  },\n\n  multiplyScalar: function (scalar) {\n\n    this.x *= scalar;\n    this.y *= scalar;\n\n    return this;\n\n  },\n\n  divide: function (v) {\n\n    this.x /= v.x;\n    this.y /= v.y;\n\n    return this;\n\n  },\n\n  divideScalar: function (scalar) {\n\n    return this.multiplyScalar(1 / scalar);\n\n  },\n\n  applyMatrix3: function (m) {\n\n    var x = this.x,y = this.y;\n    var e = m.elements;\n\n    this.x = e[0] * x + e[3] * y + e[6];\n    this.y = e[1] * x + e[4] * y + e[7];\n\n    return this;\n\n  },\n\n  min: function (v) {\n\n    this.x = Math.min(this.x, v.x);\n    this.y = Math.min(this.y, v.y);\n\n    return this;\n\n  },\n\n  max: function (v) {\n\n    this.x = Math.max(this.x, v.x);\n    this.y = Math.max(this.y, v.y);\n\n    return this;\n\n  },\n\n  clamp: function (min, max) {\n\n    // assumes min < max, componentwise\n\n    this.x = Math.max(min.x, Math.min(max.x, this.x));\n    this.y = Math.max(min.y, Math.min(max.y, this.y));\n\n    return this;\n\n  },\n\n  clampScalar: function (minVal, maxVal) {\n\n    this.x = Math.max(minVal, Math.min(maxVal, this.x));\n    this.y = Math.max(minVal, Math.min(maxVal, this.y));\n\n    return this;\n\n  },\n\n  clampLength: function (min, max) {\n\n    var length = this.length();\n\n    return this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));\n\n  },\n\n  floor: function () {\n\n    this.x = Math.floor(this.x);\n    this.y = Math.floor(this.y);\n\n    return this;\n\n  },\n\n  ceil: function () {\n\n    this.x = Math.ceil(this.x);\n    this.y = Math.ceil(this.y);\n\n    return this;\n\n  },\n\n  round: function () {\n\n    this.x = Math.round(this.x);\n    this.y = Math.round(this.y);\n\n    return this;\n\n  },\n\n  roundToZero: function () {\n\n    this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);\n    this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);\n\n    return this;\n\n  },\n\n  negate: function () {\n\n    this.x = -this.x;\n    this.y = -this.y;\n\n    return this;\n\n  },\n\n  dot: function (v) {\n\n    return this.x * v.x + this.y * v.y;\n\n  },\n\n  cross: function (v) {\n\n    return this.x * v.y - this.y * v.x;\n\n  },\n\n  lengthSq: function () {\n\n    return this.x * this.x + this.y * this.y;\n\n  },\n\n  length: function () {\n\n    return Math.sqrt(this.x * this.x + this.y * this.y);\n\n  },\n\n  manhattanLength: function () {\n\n    return Math.abs(this.x) + Math.abs(this.y);\n\n  },\n\n  normalize: function () {\n\n    return this.divideScalar(this.length() || 1);\n\n  },\n\n  angle: function () {\n\n    // computes the angle in radians with respect to the positive x-axis\n\n    var angle = Math.atan2(this.y, this.x);\n\n    if (angle < 0) angle += 2 * Math.PI;\n\n    return angle;\n\n  },\n\n  distanceTo: function (v) {\n\n    return Math.sqrt(this.distanceToSquared(v));\n\n  },\n\n  distanceToSquared: function (v) {\n\n    var dx = this.x - v.x,dy = this.y - v.y;\n    return dx * dx + dy * dy;\n\n  },\n\n  manhattanDistanceTo: function (v) {\n\n    return Math.abs(this.x - v.x) + Math.abs(this.y - v.y);\n\n  },\n\n  setLength: function (length) {\n\n    return this.normalize().multiplyScalar(length);\n\n  },\n\n  lerp: function (v, alpha) {\n\n    this.x += (v.x - this.x) * alpha;\n    this.y += (v.y - this.y) * alpha;\n\n    return this;\n\n  },\n\n  lerpVectors: function (v1, v2, alpha) {\n\n    return this.subVectors(v2, v1).multiplyScalar(alpha).add(v1);\n\n  },\n\n  equals: function (v) {\n\n    return v.x === this.x && v.y === this.y;\n\n  },\n\n  fromArray: function (array, offset) {\n\n    if (offset === undefined) offset = 0;\n\n    this.x = array[offset];\n    this.y = array[offset + 1];\n\n    return this;\n\n  },\n\n  toArray: function (array, offset) {\n\n    if (array === undefined) array = [];\n    if (offset === undefined) offset = 0;\n\n    array[offset] = this.x;\n    array[offset + 1] = this.y;\n\n    return array;\n\n  },\n\n  fromBufferAttribute: function (attribute, index, offset) {\n\n    if (offset !== undefined) {\n\n      console.warn('THREE.Vector2: offset has been removed from .fromBufferAttribute().');\n\n    }\n\n    this.x = attribute.getX(index);\n    this.y = attribute.getY(index);\n\n    return this;\n\n  },\n\n  rotateAround: function (center, angle) {\n\n    var c = Math.cos(angle),s = Math.sin(angle);\n\n    var x = this.x - center.x;\n    var y = this.y - center.y;\n\n    this.x = x * c - y * s + center.x;\n    this.y = x * s + y * c + center.y;\n\n    return this;\n\n  }\n\n});\n\nVector2.prototype.isEmtpy = function () {\n  return !this.x && !this.y;\n};\n\nVector2.prototype.getOrthogonal = function (polarity) {\n  return polarity ? new Vector2(-this.y, this.x) : new Vector2(this.y, this.x);\n};\n\nVector2.prototype.getOrthonormal = function (polarity) {let allowZero = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  let len = this.length();\n  if (len == 0) {\n    let y = !allowZero ? 1 : 0;\n    return polarity ? new Vector2(0, y) : new Vector2(0, -y);\n  }\n  return polarity ? new Vector2(-this.y / len, this.x / len) : new Vector2(this.y / len, -this.x / len);\n};\n\nVector2.prototype.cross = function (v) {\n  return this.x * v.y - this.y * v.x;\n};\n\n\nVector2.prototype.normalizeExt = function (allowZero) {\n  let len = this.length();\n  if (Math.abs(len) <= 0.0000001)\n  return new Vector2(0, allowZero ? 0 : 1);\n  return new Vector2(this.x / len, this.y / len);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJLENBQUNuRyxDQUFDLEdBQUdtRyxHQUFHLENBQUMsR0FBRyxJQUFJcEcsT0FBTyxDQUFDLElBQUksQ0FBQ0UsQ0FBQyxHQUFHa0csR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDbkcsQ0FBQyxHQUFHbUcsR0FBRyxDQUFDO0FBQ3pHLENBQUM7O0FBRURwRyxPQUFPLENBQUNLLFNBQVMsQ0FBQ3VELEtBQUssR0FBRyxVQUFVdEMsQ0FBQyxFQUFFO0VBQ25DLE9BQU8sSUFBSSxDQUFDckIsQ0FBQyxHQUFHcUIsQ0FBQyxDQUFDcEIsQ0FBQyxHQUFHLElBQUksQ0FBQ0EsQ0FBQyxHQUFHb0IsQ0FBQyxDQUFDckIsQ0FBQztBQUN0QyxDQUFDOzs7QUFHREQsT0FBTyxDQUFDSyxTQUFTLENBQUNnRyxZQUFZLEdBQUcsVUFBVUgsU0FBUyxFQUFFO0VBQ2xELElBQUlFLEdBQUcsR0FBRyxJQUFJLENBQUMvQyxNQUFNLENBQUMsQ0FBQztFQUN2QixJQUFJUCxJQUFJLENBQUNrQixHQUFHLENBQUNvQyxHQUFHLENBQUMsSUFBSSxTQUFTO0VBQzFCLE9BQU8sSUFBSXBHLE9BQU8sQ0FBQyxDQUFDLEVBQUVrRyxTQUFTLEdBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztFQUMzQyxPQUFPLElBQUlsRyxPQUFPLENBQUMsSUFBSSxDQUFDQyxDQUFDLEdBQUNtRyxHQUFHLEVBQUUsSUFBSSxDQUFDbEcsQ0FBQyxHQUFDa0csR0FBRyxDQUFDO0FBQzlDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NU0RGL1ZlY3RvcjIuanM/MGVlNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFZlY3RvcjJEIGNvcGllZCBmcm9tIFRIUkVFSlNcbiAqIElUIHdpbGwgcmVkdWNlIHRoZSBidW5kbGUgc2l6ZSB3aGVuIHdlIHB1dCBpdCBpbnRvIHdvcmtlclxuICovXG5cbi8qKlxuICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS9cbiAqIEBhdXRob3IgcGhpbG9nYiAvIGh0dHA6Ly9ibG9nLnRoZWppdC5vcmcvXG4gKiBAYXV0aG9yIGVncmFldGhlciAvIGh0dHA6Ly9lZ3JhZXRoZXIuY29tL1xuICogQGF1dGhvciB6ejg1IC8gaHR0cDovL3d3dy5sYWI0Z2FtZXMubmV0L3p6ODUvYmxvZ1xuICovXG5cbmZ1bmN0aW9uIFZlY3RvcjIoIHgsIHkgKSB7XG5cbiAgICB0aGlzLnggPSB4IHx8IDA7XG4gICAgdGhpcy55ID0geSB8fCAwO1xuXG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBWZWN0b3IyLnByb3RvdHlwZSwge1xuXG4gICAgXCJ3aWR0aFwiOiB7XG5cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLng7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cbiAgICAgICAgICAgIHRoaXMueCA9IHZhbHVlO1xuXG4gICAgICAgIH1cblxuICAgIH0sXG5cbiAgICBcImhlaWdodFwiOiB7XG5cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cbiAgICAgICAgICAgIHRoaXMueSA9IHZhbHVlO1xuXG4gICAgICAgIH1cblxuICAgIH1cblxufSApO1xuXG5PYmplY3QuYXNzaWduKCBWZWN0b3IyLnByb3RvdHlwZSwge1xuXG4gICAgaXNWZWN0b3IyOiB0cnVlLFxuXG4gICAgc2V0OiBmdW5jdGlvbiAoIHgsIHkgKSB7XG5cbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcblxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgIH0sXG5cbiAgICBzZXRTY2FsYXI6IGZ1bmN0aW9uICggc2NhbGFyICkge1xuXG4gICAgICAgIHRoaXMueCA9IHNjYWxhcjtcbiAgICAgICAgdGhpcy55ID0gc2NhbGFyO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgfSxcblxuICAgIHNldFg6IGZ1bmN0aW9uICggeCApIHtcblxuICAgICAgICB0aGlzLnggPSB4O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgfSxcblxuICAgIHNldFk6IGZ1bmN0aW9uICggeSApIHtcblxuICAgICAgICB0aGlzLnkgPSB5O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgfSxcblxuICAgIHNldENvbXBvbmVudDogZnVuY3Rpb24gKCBpbmRleCwgdmFsdWUgKSB7XG5cbiAgICAgICAgc3dpdGNoICggaW5kZXggKSB7XG5cbiAgICAgICAgICAgIGNhc2UgMDogdGhpcy54ID0gdmFsdWU7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOiB0aGlzLnkgPSB2YWx1ZTsgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoICdpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICcgKyBpbmRleCApO1xuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgIH0sXG5cbiAgICBnZXRDb21wb25lbnQ6IGZ1bmN0aW9uICggaW5kZXggKSB7XG5cbiAgICAgICAgc3dpdGNoICggaW5kZXggKSB7XG5cbiAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIHRoaXMueDtcbiAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIHRoaXMueTtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvciggJ2luZGV4IGlzIG91dCBvZiByYW5nZTogJyArIGluZGV4ICk7XG5cbiAgICAgICAgfVxuXG4gICAgfSxcblxuICAgIGNsb25lOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCB0aGlzLngsIHRoaXMueSApO1xuXG4gICAgfSxcblxuICAgIGNvcHk6IGZ1bmN0aW9uICggdiApIHtcblxuICAgICAgICB0aGlzLnggPSB2Lng7XG4gICAgICAgIHRoaXMueSA9IHYueTtcblxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgIH0sXG5cbiAgICBhZGQ6IGZ1bmN0aW9uICggdiwgdyApIHtcblxuICAgICAgICBpZiAoIHcgIT09IHVuZGVmaW5lZCApIHtcblxuICAgICAgICAgICAgY29uc29sZS53YXJuKCAnVEhSRUUuVmVjdG9yMjogLmFkZCgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLmFkZFZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLicgKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZFZlY3RvcnMoIHYsIHcgKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy54ICs9IHYueDtcbiAgICAgICAgdGhpcy55ICs9IHYueTtcblxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgIH0sXG5cbiAgICBhZGRTY2FsYXI6IGZ1bmN0aW9uICggcyApIHtcblxuICAgICAgICB0aGlzLnggKz0gcztcbiAgICAgICAgdGhpcy55ICs9IHM7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICB9LFxuXG4gICAgYWRkVmVjdG9yczogZnVuY3Rpb24gKCBhLCBiICkge1xuXG4gICAgICAgIHRoaXMueCA9IGEueCArIGIueDtcbiAgICAgICAgdGhpcy55ID0gYS55ICsgYi55O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgfSxcblxuICAgIGFkZFNjYWxlZFZlY3RvcjogZnVuY3Rpb24gKCB2LCBzICkge1xuXG4gICAgICAgIHRoaXMueCArPSB2LnggKiBzO1xuICAgICAgICB0aGlzLnkgKz0gdi55ICogcztcblxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgIH0sXG5cbiAgICBzdWI6IGZ1bmN0aW9uICggdiwgdyApIHtcblxuICAgICAgICBpZiAoIHcgIT09IHVuZGVmaW5lZCApIHtcblxuICAgICAgICAgICAgY29uc29sZS53YXJuKCAnVEhSRUUuVmVjdG9yMjogLnN1YigpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLnN1YlZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLicgKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN1YlZlY3RvcnMoIHYsIHcgKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy54IC09IHYueDtcbiAgICAgICAgdGhpcy55IC09IHYueTtcblxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgIH0sXG5cbiAgICBzdWJTY2FsYXI6IGZ1bmN0aW9uICggcyApIHtcblxuICAgICAgICB0aGlzLnggLT0gcztcbiAgICAgICAgdGhpcy55IC09IHM7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICB9LFxuXG4gICAgc3ViVmVjdG9yczogZnVuY3Rpb24gKCBhLCBiICkge1xuXG4gICAgICAgIHRoaXMueCA9IGEueCAtIGIueDtcbiAgICAgICAgdGhpcy55ID0gYS55IC0gYi55O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgfSxcblxuICAgIG11bHRpcGx5OiBmdW5jdGlvbiAoIHYgKSB7XG5cbiAgICAgICAgdGhpcy54ICo9IHYueDtcbiAgICAgICAgdGhpcy55ICo9IHYueTtcblxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgIH0sXG5cbiAgICBtdWx0aXBseVNjYWxhcjogZnVuY3Rpb24gKCBzY2FsYXIgKSB7XG5cbiAgICAgICAgdGhpcy54ICo9IHNjYWxhcjtcbiAgICAgICAgdGhpcy55ICo9IHNjYWxhcjtcblxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgIH0sXG5cbiAgICBkaXZpZGU6IGZ1bmN0aW9uICggdiApIHtcblxuICAgICAgICB0aGlzLnggLz0gdi54O1xuICAgICAgICB0aGlzLnkgLz0gdi55O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgfSxcblxuICAgIGRpdmlkZVNjYWxhcjogZnVuY3Rpb24gKCBzY2FsYXIgKSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHlTY2FsYXIoIDEgLyBzY2FsYXIgKTtcblxuICAgIH0sXG5cbiAgICBhcHBseU1hdHJpeDM6IGZ1bmN0aW9uICggbSApIHtcblxuICAgICAgICB2YXIgeCA9IHRoaXMueCwgeSA9IHRoaXMueTtcbiAgICAgICAgdmFyIGUgPSBtLmVsZW1lbnRzO1xuXG4gICAgICAgIHRoaXMueCA9IGVbIDAgXSAqIHggKyBlWyAzIF0gKiB5ICsgZVsgNiBdO1xuICAgICAgICB0aGlzLnkgPSBlWyAxIF0gKiB4ICsgZVsgNCBdICogeSArIGVbIDcgXTtcblxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgIH0sXG5cbiAgICBtaW46IGZ1bmN0aW9uICggdiApIHtcblxuICAgICAgICB0aGlzLnggPSBNYXRoLm1pbiggdGhpcy54LCB2LnggKTtcbiAgICAgICAgdGhpcy55ID0gTWF0aC5taW4oIHRoaXMueSwgdi55ICk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICB9LFxuXG4gICAgbWF4OiBmdW5jdGlvbiAoIHYgKSB7XG5cbiAgICAgICAgdGhpcy54ID0gTWF0aC5tYXgoIHRoaXMueCwgdi54ICk7XG4gICAgICAgIHRoaXMueSA9IE1hdGgubWF4KCB0aGlzLnksIHYueSApO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgfSxcblxuICAgIGNsYW1wOiBmdW5jdGlvbiAoIG1pbiwgbWF4ICkge1xuXG4gICAgICAgIC8vIGFzc3VtZXMgbWluIDwgbWF4LCBjb21wb25lbnR3aXNlXG5cbiAgICAgICAgdGhpcy54ID0gTWF0aC5tYXgoIG1pbi54LCBNYXRoLm1pbiggbWF4LngsIHRoaXMueCApICk7XG4gICAgICAgIHRoaXMueSA9IE1hdGgubWF4KCBtaW4ueSwgTWF0aC5taW4oIG1heC55LCB0aGlzLnkgKSApO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgfSxcblxuICAgIGNsYW1wU2NhbGFyOiBmdW5jdGlvbiAoIG1pblZhbCwgbWF4VmFsICkge1xuXG4gICAgICAgIHRoaXMueCA9IE1hdGgubWF4KCBtaW5WYWwsIE1hdGgubWluKCBtYXhWYWwsIHRoaXMueCApICk7XG4gICAgICAgIHRoaXMueSA9IE1hdGgubWF4KCBtaW5WYWwsIE1hdGgubWluKCBtYXhWYWwsIHRoaXMueSApICk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICB9LFxuXG4gICAgY2xhbXBMZW5ndGg6IGZ1bmN0aW9uICggbWluLCBtYXggKSB7XG5cbiAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKCBsZW5ndGggfHwgMSApLm11bHRpcGx5U2NhbGFyKCBNYXRoLm1heCggbWluLCBNYXRoLm1pbiggbWF4LCBsZW5ndGggKSApICk7XG5cbiAgICB9LFxuXG4gICAgZmxvb3I6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB0aGlzLnggPSBNYXRoLmZsb29yKCB0aGlzLnggKTtcbiAgICAgICAgdGhpcy55ID0gTWF0aC5mbG9vciggdGhpcy55ICk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICB9LFxuXG4gICAgY2VpbDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHRoaXMueCA9IE1hdGguY2VpbCggdGhpcy54ICk7XG4gICAgICAgIHRoaXMueSA9IE1hdGguY2VpbCggdGhpcy55ICk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICB9LFxuXG4gICAgcm91bmQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB0aGlzLnggPSBNYXRoLnJvdW5kKCB0aGlzLnggKTtcbiAgICAgICAgdGhpcy55ID0gTWF0aC5yb3VuZCggdGhpcy55ICk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICB9LFxuXG4gICAgcm91bmRUb1plcm86IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB0aGlzLnggPSAoIHRoaXMueCA8IDAgKSA/IE1hdGguY2VpbCggdGhpcy54ICkgOiBNYXRoLmZsb29yKCB0aGlzLnggKTtcbiAgICAgICAgdGhpcy55ID0gKCB0aGlzLnkgPCAwICkgPyBNYXRoLmNlaWwoIHRoaXMueSApIDogTWF0aC5mbG9vciggdGhpcy55ICk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICB9LFxuXG4gICAgbmVnYXRlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdGhpcy54ID0gLSB0aGlzLng7XG4gICAgICAgIHRoaXMueSA9IC0gdGhpcy55O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgfSxcblxuICAgIGRvdDogZnVuY3Rpb24gKCB2ICkge1xuXG4gICAgICAgIHJldHVybiB0aGlzLnggKiB2LnggKyB0aGlzLnkgKiB2Lnk7XG5cbiAgICB9LFxuXG4gICAgY3Jvc3M6IGZ1bmN0aW9uICggdiApIHtcblxuICAgICAgICByZXR1cm4gdGhpcy54ICogdi55IC0gdGhpcy55ICogdi54O1xuXG4gICAgfSxcblxuICAgIGxlbmd0aFNxOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueTtcblxuICAgIH0sXG5cbiAgICBsZW5ndGg6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KCB0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKTtcblxuICAgIH0sXG5cbiAgICBtYW5oYXR0YW5MZW5ndGg6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICByZXR1cm4gTWF0aC5hYnMoIHRoaXMueCApICsgTWF0aC5hYnMoIHRoaXMueSApO1xuXG4gICAgfSxcblxuICAgIG5vcm1hbGl6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHJldHVybiB0aGlzLmRpdmlkZVNjYWxhciggdGhpcy5sZW5ndGgoKSB8fCAxICk7XG5cbiAgICB9LFxuXG4gICAgYW5nbGU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAvLyBjb21wdXRlcyB0aGUgYW5nbGUgaW4gcmFkaWFucyB3aXRoIHJlc3BlY3QgdG8gdGhlIHBvc2l0aXZlIHgtYXhpc1xuXG4gICAgICAgIHZhciBhbmdsZSA9IE1hdGguYXRhbjIoIHRoaXMueSwgdGhpcy54ICk7XG5cbiAgICAgICAgaWYgKCBhbmdsZSA8IDAgKSBhbmdsZSArPSAyICogTWF0aC5QSTtcblxuICAgICAgICByZXR1cm4gYW5nbGU7XG5cbiAgICB9LFxuXG4gICAgZGlzdGFuY2VUbzogZnVuY3Rpb24gKCB2ICkge1xuXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoIHRoaXMuZGlzdGFuY2VUb1NxdWFyZWQoIHYgKSApO1xuXG4gICAgfSxcblxuICAgIGRpc3RhbmNlVG9TcXVhcmVkOiBmdW5jdGlvbiAoIHYgKSB7XG5cbiAgICAgICAgdmFyIGR4ID0gdGhpcy54IC0gdi54LCBkeSA9IHRoaXMueSAtIHYueTtcbiAgICAgICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xuXG4gICAgfSxcblxuICAgIG1hbmhhdHRhbkRpc3RhbmNlVG86IGZ1bmN0aW9uICggdiApIHtcblxuICAgICAgICByZXR1cm4gTWF0aC5hYnMoIHRoaXMueCAtIHYueCApICsgTWF0aC5hYnMoIHRoaXMueSAtIHYueSApO1xuXG4gICAgfSxcblxuICAgIHNldExlbmd0aDogZnVuY3Rpb24gKCBsZW5ndGggKSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubm9ybWFsaXplKCkubXVsdGlwbHlTY2FsYXIoIGxlbmd0aCApO1xuXG4gICAgfSxcblxuICAgIGxlcnA6IGZ1bmN0aW9uICggdiwgYWxwaGEgKSB7XG5cbiAgICAgICAgdGhpcy54ICs9ICggdi54IC0gdGhpcy54ICkgKiBhbHBoYTtcbiAgICAgICAgdGhpcy55ICs9ICggdi55IC0gdGhpcy55ICkgKiBhbHBoYTtcblxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgIH0sXG5cbiAgICBsZXJwVmVjdG9yczogZnVuY3Rpb24gKCB2MSwgdjIsIGFscGhhICkge1xuXG4gICAgICAgIHJldHVybiB0aGlzLnN1YlZlY3RvcnMoIHYyLCB2MSApLm11bHRpcGx5U2NhbGFyKCBhbHBoYSApLmFkZCggdjEgKTtcblxuICAgIH0sXG5cbiAgICBlcXVhbHM6IGZ1bmN0aW9uICggdiApIHtcblxuICAgICAgICByZXR1cm4gKCAoIHYueCA9PT0gdGhpcy54ICkgJiYgKCB2LnkgPT09IHRoaXMueSApICk7XG5cbiAgICB9LFxuXG4gICAgZnJvbUFycmF5OiBmdW5jdGlvbiAoIGFycmF5LCBvZmZzZXQgKSB7XG5cbiAgICAgICAgaWYgKCBvZmZzZXQgPT09IHVuZGVmaW5lZCApIG9mZnNldCA9IDA7XG5cbiAgICAgICAgdGhpcy54ID0gYXJyYXlbIG9mZnNldCBdO1xuICAgICAgICB0aGlzLnkgPSBhcnJheVsgb2Zmc2V0ICsgMSBdO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgfSxcblxuICAgIHRvQXJyYXk6IGZ1bmN0aW9uICggYXJyYXksIG9mZnNldCApIHtcblxuICAgICAgICBpZiAoIGFycmF5ID09PSB1bmRlZmluZWQgKSBhcnJheSA9IFtdO1xuICAgICAgICBpZiAoIG9mZnNldCA9PT0gdW5kZWZpbmVkICkgb2Zmc2V0ID0gMDtcblxuICAgICAgICBhcnJheVsgb2Zmc2V0IF0gPSB0aGlzLng7XG4gICAgICAgIGFycmF5WyBvZmZzZXQgKyAxIF0gPSB0aGlzLnk7XG5cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuXG4gICAgfSxcblxuICAgIGZyb21CdWZmZXJBdHRyaWJ1dGU6IGZ1bmN0aW9uICggYXR0cmlidXRlLCBpbmRleCwgb2Zmc2V0ICkge1xuXG4gICAgICAgIGlmICggb2Zmc2V0ICE9PSB1bmRlZmluZWQgKSB7XG5cbiAgICAgICAgICAgIGNvbnNvbGUud2FybiggJ1RIUkVFLlZlY3RvcjI6IG9mZnNldCBoYXMgYmVlbiByZW1vdmVkIGZyb20gLmZyb21CdWZmZXJBdHRyaWJ1dGUoKS4nICk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMueCA9IGF0dHJpYnV0ZS5nZXRYKCBpbmRleCApO1xuICAgICAgICB0aGlzLnkgPSBhdHRyaWJ1dGUuZ2V0WSggaW5kZXggKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgIH0sXG5cbiAgICByb3RhdGVBcm91bmQ6IGZ1bmN0aW9uICggY2VudGVyLCBhbmdsZSApIHtcblxuICAgICAgICB2YXIgYyA9IE1hdGguY29zKCBhbmdsZSApLCBzID0gTWF0aC5zaW4oIGFuZ2xlICk7XG5cbiAgICAgICAgdmFyIHggPSB0aGlzLnggLSBjZW50ZXIueDtcbiAgICAgICAgdmFyIHkgPSB0aGlzLnkgLSBjZW50ZXIueTtcblxuICAgICAgICB0aGlzLnggPSB4ICogYyAtIHkgKiBzICsgY2VudGVyLng7XG4gICAgICAgIHRoaXMueSA9IHggKiBzICsgeSAqIGMgKyBjZW50ZXIueTtcblxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgIH1cblxufSApO1xuXG5WZWN0b3IyLnByb3RvdHlwZS5pc0VtdHB5ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAhdGhpcy54ICYmICF0aGlzLnk7XG59O1xuXG5WZWN0b3IyLnByb3RvdHlwZS5nZXRPcnRob2dvbmFsID0gZnVuY3Rpb24gKHBvbGFyaXR5KSB7XG4gICAgcmV0dXJuIHBvbGFyaXR5ID8gbmV3IFZlY3RvcjIoLXRoaXMueSwgdGhpcy54KSA6IG5ldyBWZWN0b3IyKHRoaXMueSwgdGhpcy54KTtcbn07XG5cblZlY3RvcjIucHJvdG90eXBlLmdldE9ydGhvbm9ybWFsID0gZnVuY3Rpb24gKHBvbGFyaXR5LCBhbGxvd1plcm8gPSBmYWxzZSkge1xuICAgIGxldCBsZW4gPSB0aGlzLmxlbmd0aCgpO1xuICAgIGlmIChsZW4gPT0gMCkge1xuICAgICAgICBsZXQgeSA9ICFhbGxvd1plcm8gPyAxIDogMDtcbiAgICAgICAgcmV0dXJuIHBvbGFyaXR5ID8gbmV3IFZlY3RvcjIoMCwgeSkgOiBuZXcgVmVjdG9yMigwLCAteSk7XG4gICAgfVxuICAgIHJldHVybiBwb2xhcml0eSA/IG5ldyBWZWN0b3IyKC10aGlzLnkgLyBsZW4sIHRoaXMueCAvIGxlbikgOiBuZXcgVmVjdG9yMih0aGlzLnkgLyBsZW4sIC10aGlzLnggLyBsZW4pO1xufTtcblxuVmVjdG9yMi5wcm90b3R5cGUuY3Jvc3MgPSBmdW5jdGlvbiAodikge1xuICAgIHJldHVybiB0aGlzLnggKiB2LnkgLSB0aGlzLnkgKiB2Lng7XG59O1xuXG5cblZlY3RvcjIucHJvdG90eXBlLm5vcm1hbGl6ZUV4dCA9IGZ1bmN0aW9uIChhbGxvd1plcm8pIHtcbiAgICBsZXQgbGVuID0gdGhpcy5sZW5ndGgoKTtcbiAgICBpZiAoTWF0aC5hYnMobGVuKSA8PSAwLjAwMDAwMDEpXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMigwLCBhbGxvd1plcm8/IDAgOiAxKTtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy54L2xlbiwgdGhpcy55L2xlbik7XG59O1xuXG5leHBvcnQgeyBWZWN0b3IyIH07Il0sIm5hbWVzIjpbIlZlY3RvcjIiLCJ4IiwieSIsIk9iamVjdCIsImRlZmluZVByb3BlcnRpZXMiLCJwcm90b3R5cGUiLCJnZXQiLCJzZXQiLCJ2YWx1ZSIsImFzc2lnbiIsImlzVmVjdG9yMiIsInNldFNjYWxhciIsInNjYWxhciIsInNldFgiLCJzZXRZIiwic2V0Q29tcG9uZW50IiwiaW5kZXgiLCJFcnJvciIsImdldENvbXBvbmVudCIsImNsb25lIiwiY29uc3RydWN0b3IiLCJjb3B5IiwidiIsImFkZCIsInciLCJ1bmRlZmluZWQiLCJjb25zb2xlIiwid2FybiIsImFkZFZlY3RvcnMiLCJhZGRTY2FsYXIiLCJzIiwiYSIsImIiLCJhZGRTY2FsZWRWZWN0b3IiLCJzdWIiLCJzdWJWZWN0b3JzIiwic3ViU2NhbGFyIiwibXVsdGlwbHkiLCJtdWx0aXBseVNjYWxhciIsImRpdmlkZSIsImRpdmlkZVNjYWxhciIsImFwcGx5TWF0cml4MyIsIm0iLCJlIiwiZWxlbWVudHMiLCJtaW4iLCJNYXRoIiwibWF4IiwiY2xhbXAiLCJjbGFtcFNjYWxhciIsIm1pblZhbCIsIm1heFZhbCIsImNsYW1wTGVuZ3RoIiwibGVuZ3RoIiwiZmxvb3IiLCJjZWlsIiwicm91bmQiLCJyb3VuZFRvWmVybyIsIm5lZ2F0ZSIsImRvdCIsImNyb3NzIiwibGVuZ3RoU3EiLCJzcXJ0IiwibWFuaGF0dGFuTGVuZ3RoIiwiYWJzIiwibm9ybWFsaXplIiwiYW5nbGUiLCJhdGFuMiIsIlBJIiwiZGlzdGFuY2VUbyIsImRpc3RhbmNlVG9TcXVhcmVkIiwiZHgiLCJkeSIsIm1hbmhhdHRhbkRpc3RhbmNlVG8iLCJzZXRMZW5ndGgiLCJsZXJwIiwiYWxwaGEiLCJsZXJwVmVjdG9ycyIsInYxIiwidjIiLCJlcXVhbHMiLCJmcm9tQXJyYXkiLCJhcnJheSIsIm9mZnNldCIsInRvQXJyYXkiLCJmcm9tQnVmZmVyQXR0cmlidXRlIiwiYXR0cmlidXRlIiwiZ2V0WCIsImdldFkiLCJyb3RhdGVBcm91bmQiLCJjZW50ZXIiLCJjIiwiY29zIiwic2luIiwiaXNFbXRweSIsImdldE9ydGhvZ29uYWwiLCJwb2xhcml0eSIsImdldE9ydGhvbm9ybWFsIiwiYWxsb3daZXJvIiwiYXJndW1lbnRzIiwibGVuIiwibm9ybWFsaXplRXh0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/MSDF/Vector2.js\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[6].use[2]!./node_modules/css-unicode-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./extensions/Edit2D/Edit2D.css":
/*!****************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[6].use[2]!./node_modules/css-unicode-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./extensions/Edit2D/Edit2D.css ***!
  \****************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ \"./node_modules/css-loader/dist/runtime/sourceMaps.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.adsk-viewing-viewer .edge-gizmo:hover {\n  background-color: rgb(0, 255, 0);\n}\n\n.adsk-viewing-viewer .edge-gizmo {\n  position: absolute;\n  background-color: #009bff;\n  box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.25);\n  border-radius: 8px;\n  cursor: move;\n  z-index: 1; /* Place above the viewer but below the measure labels, which are at 2 */\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.adsk-viewing-viewer .edge-gizmo.selected {\n  background-color: rgb(0, 255, 0);\n}\n\n.adsk-viewing-viewer .vertex-gizmo:hover.vertex-gizmo.enable-hover {\n  border-color: rgb(0, 255, 0);\n}\n\n.adsk-viewing-viewer .vertex-gizmo {\n  display: inline-block;\n  position: absolute;\n  width: 7px;\n  height: 7px;\n  left: -2px;\n  top: -2px;\n  background-color: #009bff;\n  border-style: solid;\n  border-width: 2px;\n  border-color: #FFFFFF;\n  border-radius: 100px;\n  box-shadow: 0 2px 5px 0 #182A3D;\n  z-index: 1; /* Place above the viewer but below the measure labels, which are at 2 */\n  cursor: move;\n}\n\n.adsk-viewing-viewer .ellipse-arc-gizmo {\n  display: inline-block;\n  position: absolute;\n  width: 5px;\n  height: 5px;\n  left: -1px;\n  top: -1px;\n  background-color: #ff00ff;\n  border-style: solid;\n  border-width: 1px;\n  border-color: #000000;\n  border-radius: 100px;\n  box-shadow: 0 2px 5px 0 #182A3D;\n  z-index: 2; /* Must always be in front of the EdgeMove gizmo. Otherwise it would become unreachable on low radii.*/\n  cursor: move;\n}\n\n.adsk-viewing-viewer .vertex-gizmo.selected {\n  border-color: rgb(0, 255, 0);\n}\n\n.adsk-viewing-viewer .edge-move-gizmo {\n  width: 20px; /* width along the edge */\n  height: 6px; /* height vertical to the edge */\n}\n\n.adsk-viewing-viewer .edit2d-label {\n  display: none;\n  position: absolute;\n  height: 19px;\n  left: 0px;\n  top: 0px;\n  padding: 2px 0 2px 0;\n  background-color: #009bff;\n  box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.25);\n  color: #f4f4f4;\n  font-size: 12px;\n  text-align: center;\n  line-height: 1.2;\n  white-space: nowrap;\n  border-radius: 8px;\n  pointer-events: none;\n  cursor: pointer;\n  z-index: 2;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.adsk-viewing-viewer .edit2d-label.visible {\n  display: block;\n}\n\n.adsk-viewing-viewer .edit2d-label-text {\n  display: inline-block;\n  margin: 0 5px 0 5px;\n  vertical-align: middle;\n  font-size: 16px;\n  pointer-events: none;\n}\n\n/* Mark area labels for invalid shapes with red background */\n.adsk-viewing-viewer .edit2d-label.error-indicator {\n  background-color: red;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./extensions/Edit2D/Edit2D.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,gCAAgC;AAClC;;AAEA;EACE,kBAAkB;EAClB,yBAAyB;EACzB,+CAA+C;EAC/C,kBAAkB;EAClB,YAAY;EACZ,UAAU,EAAE,wEAAwE;EACpF,6CAA6C;AAC/C;;AAEA;EACE,gCAAgC;AAClC;;AAEA;EACE,4BAA4B;AAC9B;;AAEA;EACE,qBAAqB;EACrB,kBAAkB;EAClB,UAAU;EACV,WAAW;EACX,UAAU;EACV,SAAS;EACT,yBAAyB;EACzB,mBAAmB;EACnB,iBAAiB;EACjB,qBAAqB;EACrB,oBAAoB;EACpB,+BAA+B;EAC/B,UAAU,EAAE,wEAAwE;EACpF,YAAY;AACd;;AAEA;EACE,qBAAqB;EACrB,kBAAkB;EAClB,UAAU;EACV,WAAW;EACX,UAAU;EACV,SAAS;EACT,yBAAyB;EACzB,mBAAmB;EACnB,iBAAiB;EACjB,qBAAqB;EACrB,oBAAoB;EACpB,+BAA+B;EAC/B,UAAU,EAAE,sGAAsG;EAClH,YAAY;AACd;;AAEA;EACE,4BAA4B;AAC9B;;AAEA;EACE,WAAW,EAAE,yBAAyB;EACtC,WAAW,EAAE,gCAAgC;AAC/C;;AAEA;EACE,aAAa;EACb,kBAAkB;EAClB,YAAY;EACZ,SAAS;EACT,QAAQ;EACR,oBAAoB;EACpB,yBAAyB;EACzB,+CAA+C;EAC/C,cAAc;EACd,eAAe;EACf,kBAAkB;EAClB,gBAAgB;EAChB,mBAAmB;EACnB,kBAAkB;EAClB,oBAAoB;EACpB,eAAe;EACf,UAAU;EACV,6CAA6C;AAC/C;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,qBAAqB;EACrB,mBAAmB;EACnB,sBAAsB;EACtB,eAAe;EACf,oBAAoB;AACtB;;AAEA,4DAA4D;AAC5D;EACE,qBAAqB;AACvB\",\"sourcesContent\":[\".adsk-viewing-viewer .edge-gizmo:hover {\\n  background-color: rgb(0, 255, 0);\\n}\\n\\n.adsk-viewing-viewer .edge-gizmo {\\n  position: absolute;\\n  background-color: #009bff;\\n  box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.25);\\n  border-radius: 8px;\\n  cursor: move;\\n  z-index: 1; /* Place above the viewer but below the measure labels, which are at 2 */\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n\\n.adsk-viewing-viewer .edge-gizmo.selected {\\n  background-color: rgb(0, 255, 0);\\n}\\n\\n.adsk-viewing-viewer .vertex-gizmo:hover.vertex-gizmo.enable-hover {\\n  border-color: rgb(0, 255, 0);\\n}\\n\\n.adsk-viewing-viewer .vertex-gizmo {\\n  display: inline-block;\\n  position: absolute;\\n  width: 7px;\\n  height: 7px;\\n  left: -2px;\\n  top: -2px;\\n  background-color: #009bff;\\n  border-style: solid;\\n  border-width: 2px;\\n  border-color: #FFFFFF;\\n  border-radius: 100px;\\n  box-shadow: 0 2px 5px 0 #182A3D;\\n  z-index: 1; /* Place above the viewer but below the measure labels, which are at 2 */\\n  cursor: move;\\n}\\n\\n.adsk-viewing-viewer .ellipse-arc-gizmo {\\n  display: inline-block;\\n  position: absolute;\\n  width: 5px;\\n  height: 5px;\\n  left: -1px;\\n  top: -1px;\\n  background-color: #ff00ff;\\n  border-style: solid;\\n  border-width: 1px;\\n  border-color: #000000;\\n  border-radius: 100px;\\n  box-shadow: 0 2px 5px 0 #182A3D;\\n  z-index: 2; /* Must always be in front of the EdgeMove gizmo. Otherwise it would become unreachable on low radii.*/\\n  cursor: move;\\n}\\n\\n.adsk-viewing-viewer .vertex-gizmo.selected {\\n  border-color: rgb(0, 255, 0);\\n}\\n\\n.adsk-viewing-viewer .edge-move-gizmo {\\n  width: 20px; /* width along the edge */\\n  height: 6px; /* height vertical to the edge */\\n}\\n\\n.adsk-viewing-viewer .edit2d-label {\\n  display: none;\\n  position: absolute;\\n  height: 19px;\\n  left: 0px;\\n  top: 0px;\\n  padding: 2px 0 2px 0;\\n  background-color: #009bff;\\n  box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.25);\\n  color: #f4f4f4;\\n  font-size: 12px;\\n  text-align: center;\\n  line-height: 1.2;\\n  white-space: nowrap;\\n  border-radius: 8px;\\n  pointer-events: none;\\n  cursor: pointer;\\n  z-index: 2;\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n\\n.adsk-viewing-viewer .edit2d-label.visible {\\n  display: block;\\n}\\n\\n.adsk-viewing-viewer .edit2d-label-text {\\n  display: inline-block;\\n  margin: 0 5px 0 5px;\\n  vertical-align: middle;\\n  font-size: 16px;\\n  pointer-events: none;\\n}\\n\\n/* Mark area labels for invalid shapes with red background */\\n.adsk-viewing-viewer .edit2d-label.error-indicator {\\n  background-color: red;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1s2XS51c2VbMV0hLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbNl0udXNlWzJdIS4vbm9kZV9tb2R1bGVzL2Nzcy11bmljb2RlLWxvYWRlci9pbmRleC5qcyEuL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2V4dGVuc2lvbnMvRWRpdDJEL0VkaXQyRC5jc3MiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUM2RztBQUNqQjtBQUM1Riw4QkFBOEIsbUZBQTJCLENBQUMsNEZBQXFDO0FBQy9GO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGVBQWU7QUFDZixlQUFlO0FBQ2Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxPQUFPLCtGQUErRixZQUFZLE9BQU8sS0FBSyxZQUFZLGFBQWEsYUFBYSxhQUFhLFdBQVcsc0JBQXNCLGFBQWEsT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksYUFBYSxXQUFXLFVBQVUsVUFBVSxVQUFVLFlBQVksYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLHVCQUF1QixXQUFXLE1BQU0sS0FBSyxZQUFZLGFBQWEsV0FBVyxVQUFVLFVBQVUsVUFBVSxZQUFZLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSx1QkFBdUIsV0FBVyxNQUFNLEtBQUssWUFBWSxPQUFPLEtBQUssc0JBQXNCLHVCQUF1QixPQUFPLEtBQUssVUFBVSxZQUFZLFdBQVcsVUFBVSxVQUFVLFlBQVksYUFBYSxhQUFhLFdBQVcsVUFBVSxZQUFZLGFBQWEsYUFBYSxhQUFhLGFBQWEsV0FBVyxVQUFVLFlBQVksT0FBTyxLQUFLLFVBQVUsT0FBTyxLQUFLLFlBQVksYUFBYSxhQUFhLFdBQVcsWUFBWSxPQUFPLFlBQVksTUFBTSxZQUFZLGtFQUFrRSxxQ0FBcUMsR0FBRyxzQ0FBc0MsdUJBQXVCLDhCQUE4QixvREFBb0QsdUJBQXVCLGlCQUFpQixnQkFBZ0IsMkhBQTJILEdBQUcsK0NBQStDLHFDQUFxQyxHQUFHLHdFQUF3RSxpQ0FBaUMsR0FBRyx3Q0FBd0MsMEJBQTBCLHVCQUF1QixlQUFlLGdCQUFnQixlQUFlLGNBQWMsOEJBQThCLHdCQUF3QixzQkFBc0IsMEJBQTBCLHlCQUF5QixvQ0FBb0MsZ0JBQWdCLDBGQUEwRixHQUFHLDZDQUE2QywwQkFBMEIsdUJBQXVCLGVBQWUsZ0JBQWdCLGVBQWUsY0FBYyw4QkFBOEIsd0JBQXdCLHNCQUFzQiwwQkFBMEIseUJBQXlCLG9DQUFvQyxnQkFBZ0Isd0hBQXdILEdBQUcsaURBQWlELGlDQUFpQyxHQUFHLDJDQUEyQyxpQkFBaUIsMkNBQTJDLG9DQUFvQyx3Q0FBd0Msa0JBQWtCLHVCQUF1QixpQkFBaUIsY0FBYyxhQUFhLHlCQUF5Qiw4QkFBOEIsb0RBQW9ELG1CQUFtQixvQkFBb0IsdUJBQXVCLHFCQUFxQix3QkFBd0IsdUJBQXVCLHlCQUF5QixvQkFBb0IsZUFBZSxrREFBa0QsR0FBRyxnREFBZ0QsbUJBQW1CLEdBQUcsNkNBQTZDLDBCQUEwQix3QkFBd0IsMkJBQTJCLG9CQUFvQix5QkFBeUIsR0FBRyx1SEFBdUgsMEJBQTBCLEdBQUcsbUJBQW1CO0FBQzNtSDtBQUNBLGlFQUFlLHVCQUF1QixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvRWRpdDJEL0VkaXQyRC5jc3M/YTU0YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgLmFkc2stdmlld2luZy12aWV3ZXIgLmVkZ2UtZ2l6bW86aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMCwgMjU1LCAwKTtcbn1cblxuLmFkc2stdmlld2luZy12aWV3ZXIgLmVkZ2UtZ2l6bW8ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDliZmY7XG4gIGJveC1zaGFkb3c6IDBweCAxcHggM3B4IDFweCByZ2JhKDAsIDAsIDAsIDAuMjUpO1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIGN1cnNvcjogbW92ZTtcbiAgei1pbmRleDogMTsgLyogUGxhY2UgYWJvdmUgdGhlIHZpZXdlciBidXQgYmVsb3cgdGhlIG1lYXN1cmUgbGFiZWxzLCB3aGljaCBhcmUgYXQgMiAqL1xuICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMCk7XG59XG5cbi5hZHNrLXZpZXdpbmctdmlld2VyIC5lZGdlLWdpem1vLnNlbGVjdGVkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDAsIDI1NSwgMCk7XG59XG5cbi5hZHNrLXZpZXdpbmctdmlld2VyIC52ZXJ0ZXgtZ2l6bW86aG92ZXIudmVydGV4LWdpem1vLmVuYWJsZS1ob3ZlciB7XG4gIGJvcmRlci1jb2xvcjogcmdiKDAsIDI1NSwgMCk7XG59XG5cbi5hZHNrLXZpZXdpbmctdmlld2VyIC52ZXJ0ZXgtZ2l6bW8ge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgd2lkdGg6IDdweDtcbiAgaGVpZ2h0OiA3cHg7XG4gIGxlZnQ6IC0ycHg7XG4gIHRvcDogLTJweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwOWJmZjtcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgYm9yZGVyLXdpZHRoOiAycHg7XG4gIGJvcmRlci1jb2xvcjogI0ZGRkZGRjtcbiAgYm9yZGVyLXJhZGl1czogMTAwcHg7XG4gIGJveC1zaGFkb3c6IDAgMnB4IDVweCAwICMxODJBM0Q7XG4gIHotaW5kZXg6IDE7IC8qIFBsYWNlIGFib3ZlIHRoZSB2aWV3ZXIgYnV0IGJlbG93IHRoZSBtZWFzdXJlIGxhYmVscywgd2hpY2ggYXJlIGF0IDIgKi9cbiAgY3Vyc29yOiBtb3ZlO1xufVxuXG4uYWRzay12aWV3aW5nLXZpZXdlciAuZWxsaXBzZS1hcmMtZ2l6bW8ge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgd2lkdGg6IDVweDtcbiAgaGVpZ2h0OiA1cHg7XG4gIGxlZnQ6IC0xcHg7XG4gIHRvcDogLTFweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmMDBmZjtcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgYm9yZGVyLXdpZHRoOiAxcHg7XG4gIGJvcmRlci1jb2xvcjogIzAwMDAwMDtcbiAgYm9yZGVyLXJhZGl1czogMTAwcHg7XG4gIGJveC1zaGFkb3c6IDAgMnB4IDVweCAwICMxODJBM0Q7XG4gIHotaW5kZXg6IDI7IC8qIE11c3QgYWx3YXlzIGJlIGluIGZyb250IG9mIHRoZSBFZGdlTW92ZSBnaXptby4gT3RoZXJ3aXNlIGl0IHdvdWxkIGJlY29tZSB1bnJlYWNoYWJsZSBvbiBsb3cgcmFkaWkuKi9cbiAgY3Vyc29yOiBtb3ZlO1xufVxuXG4uYWRzay12aWV3aW5nLXZpZXdlciAudmVydGV4LWdpem1vLnNlbGVjdGVkIHtcbiAgYm9yZGVyLWNvbG9yOiByZ2IoMCwgMjU1LCAwKTtcbn1cblxuLmFkc2stdmlld2luZy12aWV3ZXIgLmVkZ2UtbW92ZS1naXptbyB7XG4gIHdpZHRoOiAyMHB4OyAvKiB3aWR0aCBhbG9uZyB0aGUgZWRnZSAqL1xuICBoZWlnaHQ6IDZweDsgLyogaGVpZ2h0IHZlcnRpY2FsIHRvIHRoZSBlZGdlICovXG59XG5cbi5hZHNrLXZpZXdpbmctdmlld2VyIC5lZGl0MmQtbGFiZWwge1xuICBkaXNwbGF5OiBub25lO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGhlaWdodDogMTlweDtcbiAgbGVmdDogMHB4O1xuICB0b3A6IDBweDtcbiAgcGFkZGluZzogMnB4IDAgMnB4IDA7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDliZmY7XG4gIGJveC1zaGFkb3c6IDBweCAxcHggM3B4IDFweCByZ2JhKDAsIDAsIDAsIDAuMjUpO1xuICBjb2xvcjogI2Y0ZjRmNDtcbiAgZm9udC1zaXplOiAxMnB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGxpbmUtaGVpZ2h0OiAxLjI7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgei1pbmRleDogMjtcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsIDAsIDAsIDApO1xufVxuXG4uYWRzay12aWV3aW5nLXZpZXdlciAuZWRpdDJkLWxhYmVsLnZpc2libGUge1xuICBkaXNwbGF5OiBibG9jaztcbn1cblxuLmFkc2stdmlld2luZy12aWV3ZXIgLmVkaXQyZC1sYWJlbC10ZXh0IHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBtYXJnaW46IDAgNXB4IDAgNXB4O1xuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICBmb250LXNpemU6IDE2cHg7XG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xufVxuXG4vKiBNYXJrIGFyZWEgbGFiZWxzIGZvciBpbnZhbGlkIHNoYXBlcyB3aXRoIHJlZCBiYWNrZ3JvdW5kICovXG4uYWRzay12aWV3aW5nLXZpZXdlciAuZWRpdDJkLWxhYmVsLmVycm9yLWluZGljYXRvciB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJlZDtcbn1gLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL2V4dGVuc2lvbnMvRWRpdDJEL0VkaXQyRC5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7RUFDRSxnQ0FBZ0M7QUFDbEM7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIseUJBQXlCO0VBQ3pCLCtDQUErQztFQUMvQyxrQkFBa0I7RUFDbEIsWUFBWTtFQUNaLFVBQVUsRUFBRSx3RUFBd0U7RUFDcEYsNkNBQTZDO0FBQy9DOztBQUVBO0VBQ0UsZ0NBQWdDO0FBQ2xDOztBQUVBO0VBQ0UsNEJBQTRCO0FBQzlCOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLGtCQUFrQjtFQUNsQixVQUFVO0VBQ1YsV0FBVztFQUNYLFVBQVU7RUFDVixTQUFTO0VBQ1QseUJBQXlCO0VBQ3pCLG1CQUFtQjtFQUNuQixpQkFBaUI7RUFDakIscUJBQXFCO0VBQ3JCLG9CQUFvQjtFQUNwQiwrQkFBK0I7RUFDL0IsVUFBVSxFQUFFLHdFQUF3RTtFQUNwRixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxxQkFBcUI7RUFDckIsa0JBQWtCO0VBQ2xCLFVBQVU7RUFDVixXQUFXO0VBQ1gsVUFBVTtFQUNWLFNBQVM7RUFDVCx5QkFBeUI7RUFDekIsbUJBQW1CO0VBQ25CLGlCQUFpQjtFQUNqQixxQkFBcUI7RUFDckIsb0JBQW9CO0VBQ3BCLCtCQUErQjtFQUMvQixVQUFVLEVBQUUsc0dBQXNHO0VBQ2xILFlBQVk7QUFDZDs7QUFFQTtFQUNFLDRCQUE0QjtBQUM5Qjs7QUFFQTtFQUNFLFdBQVcsRUFBRSx5QkFBeUI7RUFDdEMsV0FBVyxFQUFFLGdDQUFnQztBQUMvQzs7QUFFQTtFQUNFLGFBQWE7RUFDYixrQkFBa0I7RUFDbEIsWUFBWTtFQUNaLFNBQVM7RUFDVCxRQUFRO0VBQ1Isb0JBQW9CO0VBQ3BCLHlCQUF5QjtFQUN6QiwrQ0FBK0M7RUFDL0MsY0FBYztFQUNkLGVBQWU7RUFDZixrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLG1CQUFtQjtFQUNuQixrQkFBa0I7RUFDbEIsb0JBQW9CO0VBQ3BCLGVBQWU7RUFDZixVQUFVO0VBQ1YsNkNBQTZDO0FBQy9DOztBQUVBO0VBQ0UsY0FBYztBQUNoQjs7QUFFQTtFQUNFLHFCQUFxQjtFQUNyQixtQkFBbUI7RUFDbkIsc0JBQXNCO0VBQ3RCLGVBQWU7RUFDZixvQkFBb0I7QUFDdEI7O0FBRUEsNERBQTREO0FBQzVEO0VBQ0UscUJBQXFCO0FBQ3ZCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi5hZHNrLXZpZXdpbmctdmlld2VyIC5lZGdlLWdpem1vOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYigwLCAyNTUsIDApO1xcbn1cXG5cXG4uYWRzay12aWV3aW5nLXZpZXdlciAuZWRnZS1naXptbyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA5YmZmO1xcbiAgYm94LXNoYWRvdzogMHB4IDFweCAzcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4yNSk7XFxuICBib3JkZXItcmFkaXVzOiA4cHg7XFxuICBjdXJzb3I6IG1vdmU7XFxuICB6LWluZGV4OiAxOyAvKiBQbGFjZSBhYm92ZSB0aGUgdmlld2VyIGJ1dCBiZWxvdyB0aGUgbWVhc3VyZSBsYWJlbHMsIHdoaWNoIGFyZSBhdCAyICovXFxuICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMCk7XFxufVxcblxcbi5hZHNrLXZpZXdpbmctdmlld2VyIC5lZGdlLWdpem1vLnNlbGVjdGVkIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYigwLCAyNTUsIDApO1xcbn1cXG5cXG4uYWRzay12aWV3aW5nLXZpZXdlciAudmVydGV4LWdpem1vOmhvdmVyLnZlcnRleC1naXptby5lbmFibGUtaG92ZXIge1xcbiAgYm9yZGVyLWNvbG9yOiByZ2IoMCwgMjU1LCAwKTtcXG59XFxuXFxuLmFkc2stdmlld2luZy12aWV3ZXIgLnZlcnRleC1naXptbyB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB3aWR0aDogN3B4O1xcbiAgaGVpZ2h0OiA3cHg7XFxuICBsZWZ0OiAtMnB4O1xcbiAgdG9wOiAtMnB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwOWJmZjtcXG4gIGJvcmRlci1zdHlsZTogc29saWQ7XFxuICBib3JkZXItd2lkdGg6IDJweDtcXG4gIGJvcmRlci1jb2xvcjogI0ZGRkZGRjtcXG4gIGJvcmRlci1yYWRpdXM6IDEwMHB4O1xcbiAgYm94LXNoYWRvdzogMCAycHggNXB4IDAgIzE4MkEzRDtcXG4gIHotaW5kZXg6IDE7IC8qIFBsYWNlIGFib3ZlIHRoZSB2aWV3ZXIgYnV0IGJlbG93IHRoZSBtZWFzdXJlIGxhYmVscywgd2hpY2ggYXJlIGF0IDIgKi9cXG4gIGN1cnNvcjogbW92ZTtcXG59XFxuXFxuLmFkc2stdmlld2luZy12aWV3ZXIgLmVsbGlwc2UtYXJjLWdpem1vIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHdpZHRoOiA1cHg7XFxuICBoZWlnaHQ6IDVweDtcXG4gIGxlZnQ6IC0xcHg7XFxuICB0b3A6IC0xcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmYwMGZmO1xcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcXG4gIGJvcmRlci13aWR0aDogMXB4O1xcbiAgYm9yZGVyLWNvbG9yOiAjMDAwMDAwO1xcbiAgYm9yZGVyLXJhZGl1czogMTAwcHg7XFxuICBib3gtc2hhZG93OiAwIDJweCA1cHggMCAjMTgyQTNEO1xcbiAgei1pbmRleDogMjsgLyogTXVzdCBhbHdheXMgYmUgaW4gZnJvbnQgb2YgdGhlIEVkZ2VNb3ZlIGdpem1vLiBPdGhlcndpc2UgaXQgd291bGQgYmVjb21lIHVucmVhY2hhYmxlIG9uIGxvdyByYWRpaS4qL1xcbiAgY3Vyc29yOiBtb3ZlO1xcbn1cXG5cXG4uYWRzay12aWV3aW5nLXZpZXdlciAudmVydGV4LWdpem1vLnNlbGVjdGVkIHtcXG4gIGJvcmRlci1jb2xvcjogcmdiKDAsIDI1NSwgMCk7XFxufVxcblxcbi5hZHNrLXZpZXdpbmctdmlld2VyIC5lZGdlLW1vdmUtZ2l6bW8ge1xcbiAgd2lkdGg6IDIwcHg7IC8qIHdpZHRoIGFsb25nIHRoZSBlZGdlICovXFxuICBoZWlnaHQ6IDZweDsgLyogaGVpZ2h0IHZlcnRpY2FsIHRvIHRoZSBlZGdlICovXFxufVxcblxcbi5hZHNrLXZpZXdpbmctdmlld2VyIC5lZGl0MmQtbGFiZWwge1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGhlaWdodDogMTlweDtcXG4gIGxlZnQ6IDBweDtcXG4gIHRvcDogMHB4O1xcbiAgcGFkZGluZzogMnB4IDAgMnB4IDA7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA5YmZmO1xcbiAgYm94LXNoYWRvdzogMHB4IDFweCAzcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4yNSk7XFxuICBjb2xvcjogI2Y0ZjRmNDtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGxpbmUtaGVpZ2h0OiAxLjI7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICB6LWluZGV4OiAyO1xcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsIDAsIDAsIDApO1xcbn1cXG5cXG4uYWRzay12aWV3aW5nLXZpZXdlciAuZWRpdDJkLWxhYmVsLnZpc2libGUge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcblxcbi5hZHNrLXZpZXdpbmctdmlld2VyIC5lZGl0MmQtbGFiZWwtdGV4dCB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBtYXJnaW46IDAgNXB4IDAgNXB4O1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gIGZvbnQtc2l6ZTogMTZweDtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbn1cXG5cXG4vKiBNYXJrIGFyZWEgbGFiZWxzIGZvciBpbnZhbGlkIHNoYXBlcyB3aXRoIHJlZCBiYWNrZ3JvdW5kICovXFxuLmFkc2stdmlld2luZy12aWV3ZXIgLmVkaXQyZC1sYWJlbC5lcnJvci1pbmRpY2F0b3Ige1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[6].use[2]!./node_modules/css-unicode-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./extensions/Edit2D/Edit2D.css\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQ7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0EscUZBQXFGO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixpQkFBaUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHFCQUFxQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixzRkFBc0YscUJBQXFCO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixpREFBaUQscUJBQXFCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixzREFBc0QscUJBQXFCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcz8yNGZiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/runtime/api.js\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/sourceMaps.js":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELGNBQWM7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcz9hZjEyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xuICB9XG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/runtime/sourceMaps.js\n");

/***/ }),

/***/ "./node_modules/lodash/_Hash.js":
/*!**************************************!*\
  !*** ./node_modules/lodash/_Hash.js ***!
  \**************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var hashClear = __webpack_require__(/*! ./_hashClear */ \"./node_modules/lodash/_hashClear.js\"),\n    hashDelete = __webpack_require__(/*! ./_hashDelete */ \"./node_modules/lodash/_hashDelete.js\"),\n    hashGet = __webpack_require__(/*! ./_hashGet */ \"./node_modules/lodash/_hashGet.js\"),\n    hashHas = __webpack_require__(/*! ./_hashHas */ \"./node_modules/lodash/_hashHas.js\"),\n    hashSet = __webpack_require__(/*! ./_hashSet */ \"./node_modules/lodash/_hashSet.js\");\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19IYXNoLmpzIiwibWFwcGluZ3MiOiJBQUFBLGdCQUFnQixtQkFBTyxDQUFDLHlEQUFjO0FBQ3RDLGlCQUFpQixtQkFBTyxDQUFDLDJEQUFlO0FBQ3hDLGNBQWMsbUJBQU8sQ0FBQyxxREFBWTtBQUNsQyxjQUFjLG1CQUFPLENBQUMscURBQVk7QUFDbEMsY0FBYyxtQkFBTyxDQUFDLHFEQUFZOztBQUVsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fSGFzaC5qcz9lMjRiIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBoYXNoQ2xlYXIgPSByZXF1aXJlKCcuL19oYXNoQ2xlYXInKSxcbiAgICBoYXNoRGVsZXRlID0gcmVxdWlyZSgnLi9faGFzaERlbGV0ZScpLFxuICAgIGhhc2hHZXQgPSByZXF1aXJlKCcuL19oYXNoR2V0JyksXG4gICAgaGFzaEhhcyA9IHJlcXVpcmUoJy4vX2hhc2hIYXMnKSxcbiAgICBoYXNoU2V0ID0gcmVxdWlyZSgnLi9faGFzaFNldCcpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbkhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyO1xuSGFzaC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gaGFzaERlbGV0ZTtcbkhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG5IYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzO1xuSGFzaC5wcm90b3R5cGUuc2V0ID0gaGFzaFNldDtcblxubW9kdWxlLmV4cG9ydHMgPSBIYXNoO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_Hash.js\n");

/***/ }),

/***/ "./node_modules/lodash/_ListCache.js":
/*!*******************************************!*\
  !*** ./node_modules/lodash/_ListCache.js ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var listCacheClear = __webpack_require__(/*! ./_listCacheClear */ \"./node_modules/lodash/_listCacheClear.js\"),\n    listCacheDelete = __webpack_require__(/*! ./_listCacheDelete */ \"./node_modules/lodash/_listCacheDelete.js\"),\n    listCacheGet = __webpack_require__(/*! ./_listCacheGet */ \"./node_modules/lodash/_listCacheGet.js\"),\n    listCacheHas = __webpack_require__(/*! ./_listCacheHas */ \"./node_modules/lodash/_listCacheHas.js\"),\n    listCacheSet = __webpack_require__(/*! ./_listCacheSet */ \"./node_modules/lodash/_listCacheSet.js\");\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19MaXN0Q2FjaGUuanMiLCJtYXBwaW5ncyI6IkFBQUEscUJBQXFCLG1CQUFPLENBQUMsbUVBQW1CO0FBQ2hELHNCQUFzQixtQkFBTyxDQUFDLHFFQUFvQjtBQUNsRCxtQkFBbUIsbUJBQU8sQ0FBQywrREFBaUI7QUFDNUMsbUJBQW1CLG1CQUFPLENBQUMsK0RBQWlCO0FBQzVDLG1CQUFtQixtQkFBTyxDQUFDLCtEQUFpQjs7QUFFNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX0xpc3RDYWNoZS5qcz81ZTJlIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBsaXN0Q2FjaGVDbGVhciA9IHJlcXVpcmUoJy4vX2xpc3RDYWNoZUNsZWFyJyksXG4gICAgbGlzdENhY2hlRGVsZXRlID0gcmVxdWlyZSgnLi9fbGlzdENhY2hlRGVsZXRlJyksXG4gICAgbGlzdENhY2hlR2V0ID0gcmVxdWlyZSgnLi9fbGlzdENhY2hlR2V0JyksXG4gICAgbGlzdENhY2hlSGFzID0gcmVxdWlyZSgnLi9fbGlzdENhY2hlSGFzJyksXG4gICAgbGlzdENhY2hlU2V0ID0gcmVxdWlyZSgnLi9fbGlzdENhY2hlU2V0Jyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG5MaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG5MaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbkxpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG5MaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxubW9kdWxlLmV4cG9ydHMgPSBMaXN0Q2FjaGU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_ListCache.js\n");

/***/ }),

/***/ "./node_modules/lodash/_Map.js":
/*!*************************************!*\
  !*** ./node_modules/lodash/_Map.js ***!
  \*************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var getNative = __webpack_require__(/*! ./_getNative */ \"./node_modules/lodash/_getNative.js\"),\n    root = __webpack_require__(/*! ./_root */ \"./node_modules/lodash/_root.js\");\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19NYXAuanMiLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCLG1CQUFPLENBQUMseURBQWM7QUFDdEMsV0FBVyxtQkFBTyxDQUFDLCtDQUFTOztBQUU1QjtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX01hcC5qcz83OWJjIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBnZXROYXRpdmUgPSByZXF1aXJlKCcuL19nZXROYXRpdmUnKSxcbiAgICByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdNYXAnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBNYXA7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_Map.js\n");

/***/ }),

/***/ "./node_modules/lodash/_MapCache.js":
/*!******************************************!*\
  !*** ./node_modules/lodash/_MapCache.js ***!
  \******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var mapCacheClear = __webpack_require__(/*! ./_mapCacheClear */ \"./node_modules/lodash/_mapCacheClear.js\"),\n    mapCacheDelete = __webpack_require__(/*! ./_mapCacheDelete */ \"./node_modules/lodash/_mapCacheDelete.js\"),\n    mapCacheGet = __webpack_require__(/*! ./_mapCacheGet */ \"./node_modules/lodash/_mapCacheGet.js\"),\n    mapCacheHas = __webpack_require__(/*! ./_mapCacheHas */ \"./node_modules/lodash/_mapCacheHas.js\"),\n    mapCacheSet = __webpack_require__(/*! ./_mapCacheSet */ \"./node_modules/lodash/_mapCacheSet.js\");\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19NYXBDYWNoZS5qcyIsIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0IsbUJBQU8sQ0FBQyxpRUFBa0I7QUFDOUMscUJBQXFCLG1CQUFPLENBQUMsbUVBQW1CO0FBQ2hELGtCQUFrQixtQkFBTyxDQUFDLDZEQUFnQjtBQUMxQyxrQkFBa0IsbUJBQU8sQ0FBQyw2REFBZ0I7QUFDMUMsa0JBQWtCLG1CQUFPLENBQUMsNkRBQWdCOztBQUUxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fTWFwQ2FjaGUuanM/N2I4MyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbWFwQ2FjaGVDbGVhciA9IHJlcXVpcmUoJy4vX21hcENhY2hlQ2xlYXInKSxcbiAgICBtYXBDYWNoZURlbGV0ZSA9IHJlcXVpcmUoJy4vX21hcENhY2hlRGVsZXRlJyksXG4gICAgbWFwQ2FjaGVHZXQgPSByZXF1aXJlKCcuL19tYXBDYWNoZUdldCcpLFxuICAgIG1hcENhY2hlSGFzID0gcmVxdWlyZSgnLi9fbWFwQ2FjaGVIYXMnKSxcbiAgICBtYXBDYWNoZVNldCA9IHJlcXVpcmUoJy4vX21hcENhY2hlU2V0Jyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBNYXBDYWNoZWAuXG5NYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuTWFwQ2FjaGUucHJvdG90eXBlLmdldCA9IG1hcENhY2hlR2V0O1xuTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1hcENhY2hlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_MapCache.js\n");

/***/ }),

/***/ "./node_modules/lodash/_Symbol.js":
/*!****************************************!*\
  !*** ./node_modules/lodash/_Symbol.js ***!
  \****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var root = __webpack_require__(/*! ./_root */ \"./node_modules/lodash/_root.js\");\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19TeW1ib2wuanMiLCJtYXBwaW5ncyI6IkFBQUEsV0FBVyxtQkFBTyxDQUFDLCtDQUFTOztBQUU1QjtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX1N5bWJvbC5qcz85ZTY5Il0sInNvdXJjZXNDb250ZW50IjpbInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxubW9kdWxlLmV4cG9ydHMgPSBTeW1ib2w7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_Symbol.js\n");

/***/ }),

/***/ "./node_modules/lodash/_arrayMap.js":
/*!******************************************!*\
  !*** ./node_modules/lodash/_arrayMap.js ***!
  \******************************************/
/***/ ((module) => {

eval("/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hcnJheU1hcC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsVUFBVTtBQUNyQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2FycmF5TWFwLmpzPzc5NDgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWFwYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAqIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFycmF5TWFwKGFycmF5LCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhcnJheU1hcDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/_arrayMap.js\n");

/***/ }),

/***/ "./node_modules/lodash/_assignValue.js":
/*!*********************************************!*\
  !*** ./node_modules/lodash/_assignValue.js ***!
  \*********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var baseAssignValue = __webpack_require__(/*! ./_baseAssignValue */ \"./node_modules/lodash/_baseAssignValue.js\"),\n    eq = __webpack_require__(/*! ./eq */ \"./node_modules/lodash/eq.js\");\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hc3NpZ25WYWx1ZS5qcyIsIm1hcHBpbmdzIjoiQUFBQSxzQkFBc0IsbUJBQU8sQ0FBQyxxRUFBb0I7QUFDbEQsU0FBUyxtQkFBTyxDQUFDLHlDQUFNOztBQUV2QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLEdBQUc7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Fzc2lnblZhbHVlLmpzPzMyYjMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGJhc2VBc3NpZ25WYWx1ZSA9IHJlcXVpcmUoJy4vX2Jhc2VBc3NpZ25WYWx1ZScpLFxuICAgIGVxID0gcmVxdWlyZSgnLi9lcScpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIEFzc2lnbnMgYHZhbHVlYCB0byBga2V5YCBvZiBgb2JqZWN0YCBpZiB0aGUgZXhpc3RpbmcgdmFsdWUgaXMgbm90IGVxdWl2YWxlbnRcbiAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldO1xuICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fFxuICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFzc2lnblZhbHVlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_assignValue.js\n");

/***/ }),

/***/ "./node_modules/lodash/_assocIndexOf.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash/_assocIndexOf.js ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var eq = __webpack_require__(/*! ./eq */ \"./node_modules/lodash/eq.js\");\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hc3NvY0luZGV4T2YuanMiLCJtYXBwaW5ncyI6IkFBQUEsU0FBUyxtQkFBTyxDQUFDLHlDQUFNOztBQUV2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLEdBQUc7QUFDZCxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYXNzb2NJbmRleE9mLmpzP2NiNWEiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGVxID0gcmVxdWlyZSgnLi9lcScpO1xuXG4vKipcbiAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFzc29jSW5kZXhPZjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/_assocIndexOf.js\n");

/***/ }),

/***/ "./node_modules/lodash/_baseAssignValue.js":
/*!*************************************************!*\
  !*** ./node_modules/lodash/_baseAssignValue.js ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var defineProperty = __webpack_require__(/*! ./_defineProperty */ \"./node_modules/lodash/_defineProperty.js\");\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlQXNzaWduVmFsdWUuanMiLCJtYXBwaW5ncyI6IkFBQUEscUJBQXFCLG1CQUFPLENBQUMsbUVBQW1COztBQUVoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLEdBQUc7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUFzc2lnblZhbHVlLmpzPzg3MmEiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9fZGVmaW5lUHJvcGVydHknKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYXNzaWduVmFsdWVgIGFuZCBgYXNzaWduTWVyZ2VWYWx1ZWAgd2l0aG91dFxuICogdmFsdWUgY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSA9PSAnX19wcm90b19fJyAmJiBkZWZpbmVQcm9wZXJ0eSkge1xuICAgIGRlZmluZVByb3BlcnR5KG9iamVjdCwga2V5LCB7XG4gICAgICAnY29uZmlndXJhYmxlJzogdHJ1ZSxcbiAgICAgICdlbnVtZXJhYmxlJzogdHJ1ZSxcbiAgICAgICd2YWx1ZSc6IHZhbHVlLFxuICAgICAgJ3dyaXRhYmxlJzogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlQXNzaWduVmFsdWU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_baseAssignValue.js\n");

/***/ }),

/***/ "./node_modules/lodash/_baseGetTag.js":
/*!********************************************!*\
  !*** ./node_modules/lodash/_baseGetTag.js ***!
  \********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var Symbol = __webpack_require__(/*! ./_Symbol */ \"./node_modules/lodash/_Symbol.js\"),\n    getRawTag = __webpack_require__(/*! ./_getRawTag */ \"./node_modules/lodash/_getRawTag.js\"),\n    objectToString = __webpack_require__(/*! ./_objectToString */ \"./node_modules/lodash/_objectToString.js\");\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlR2V0VGFnLmpzIiwibWFwcGluZ3MiOiJBQUFBLGFBQWEsbUJBQU8sQ0FBQyxtREFBVztBQUNoQyxnQkFBZ0IsbUJBQU8sQ0FBQyx5REFBYztBQUN0QyxxQkFBcUIsbUJBQU8sQ0FBQyxtRUFBbUI7O0FBRWhEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlR2V0VGFnLmpzPzM3MjkiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpLFxuICAgIGdldFJhd1RhZyA9IHJlcXVpcmUoJy4vX2dldFJhd1RhZycpLFxuICAgIG9iamVjdFRvU3RyaW5nID0gcmVxdWlyZSgnLi9fb2JqZWN0VG9TdHJpbmcnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXSc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUdldFRhZztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/_baseGetTag.js\n");

/***/ }),

/***/ "./node_modules/lodash/_baseIsNative.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash/_baseIsNative.js ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var isFunction = __webpack_require__(/*! ./isFunction */ \"./node_modules/lodash/isFunction.js\"),\n    isMasked = __webpack_require__(/*! ./_isMasked */ \"./node_modules/lodash/_isMasked.js\"),\n    isObject = __webpack_require__(/*! ./isObject */ \"./node_modules/lodash/isObject.js\"),\n    toSource = __webpack_require__(/*! ./_toSource */ \"./node_modules/lodash/_toSource.js\");\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlSXNOYXRpdmUuanMiLCJtYXBwaW5ncyI6IkFBQUEsaUJBQWlCLG1CQUFPLENBQUMseURBQWM7QUFDdkMsZUFBZSxtQkFBTyxDQUFDLHVEQUFhO0FBQ3BDLGVBQWUsbUJBQU8sQ0FBQyxxREFBWTtBQUNuQyxlQUFlLG1CQUFPLENBQUMsdURBQWE7O0FBRXBDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DOztBQUVwQztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzTmF0aXZlLmpzPzM0YWMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGlzRnVuY3Rpb24gPSByZXF1aXJlKCcuL2lzRnVuY3Rpb24nKSxcbiAgICBpc01hc2tlZCA9IHJlcXVpcmUoJy4vX2lzTWFza2VkJyksXG4gICAgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0JyksXG4gICAgdG9Tb3VyY2UgPSByZXF1aXJlKCcuL190b1NvdXJjZScpO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICovXG52YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VJc05hdGl2ZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/_baseIsNative.js\n");

/***/ }),

/***/ "./node_modules/lodash/_baseSet.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/_baseSet.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var assignValue = __webpack_require__(/*! ./_assignValue */ \"./node_modules/lodash/_assignValue.js\"),\n    castPath = __webpack_require__(/*! ./_castPath */ \"./node_modules/lodash/_castPath.js\"),\n    isIndex = __webpack_require__(/*! ./_isIndex */ \"./node_modules/lodash/_isIndex.js\"),\n    isObject = __webpack_require__(/*! ./isObject */ \"./node_modules/lodash/isObject.js\"),\n    toKey = __webpack_require__(/*! ./_toKey */ \"./node_modules/lodash/_toKey.js\");\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n      return object;\n    }\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlU2V0LmpzIiwibWFwcGluZ3MiOiJBQUFBLGtCQUFrQixtQkFBTyxDQUFDLDZEQUFnQjtBQUMxQyxlQUFlLG1CQUFPLENBQUMsdURBQWE7QUFDcEMsY0FBYyxtQkFBTyxDQUFDLHFEQUFZO0FBQ2xDLGVBQWUsbUJBQU8sQ0FBQyxxREFBWTtBQUNuQyxZQUFZLG1CQUFPLENBQUMsaURBQVU7O0FBRTlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsY0FBYztBQUN6QixXQUFXLEdBQUc7QUFDZCxXQUFXLFVBQVU7QUFDckIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlU2V0LmpzPzE1OWEiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGFzc2lnblZhbHVlID0gcmVxdWlyZSgnLi9fYXNzaWduVmFsdWUnKSxcbiAgICBjYXN0UGF0aCA9IHJlcXVpcmUoJy4vX2Nhc3RQYXRoJyksXG4gICAgaXNJbmRleCA9IHJlcXVpcmUoJy4vX2lzSW5kZXgnKSxcbiAgICBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKSxcbiAgICB0b0tleSA9IHJlcXVpcmUoJy4vX3RvS2V5Jyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2V0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cbiAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDEsXG4gICAgICBuZXN0ZWQgPSBvYmplY3Q7XG5cbiAgd2hpbGUgKG5lc3RlZCAhPSBudWxsICYmICsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pLFxuICAgICAgICBuZXdWYWx1ZSA9IHZhbHVlO1xuXG4gICAgaWYgKGtleSA9PT0gJ19fcHJvdG9fXycgfHwga2V5ID09PSAnY29uc3RydWN0b3InIHx8IGtleSA9PT0gJ3Byb3RvdHlwZScpIHtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgaWYgKGluZGV4ICE9IGxhc3RJbmRleCkge1xuICAgICAgdmFyIG9ialZhbHVlID0gbmVzdGVkW2tleV07XG4gICAgICBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKG9ialZhbHVlLCBrZXksIG5lc3RlZCkgOiB1bmRlZmluZWQ7XG4gICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBuZXdWYWx1ZSA9IGlzT2JqZWN0KG9ialZhbHVlKVxuICAgICAgICAgID8gb2JqVmFsdWVcbiAgICAgICAgICA6IChpc0luZGV4KHBhdGhbaW5kZXggKyAxXSkgPyBbXSA6IHt9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgYXNzaWduVmFsdWUobmVzdGVkLCBrZXksIG5ld1ZhbHVlKTtcbiAgICBuZXN0ZWQgPSBuZXN0ZWRba2V5XTtcbiAgfVxuICByZXR1cm4gb2JqZWN0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VTZXQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_baseSet.js\n");

/***/ }),

/***/ "./node_modules/lodash/_baseToString.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash/_baseToString.js ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var Symbol = __webpack_require__(/*! ./_Symbol */ \"./node_modules/lodash/_Symbol.js\"),\n    arrayMap = __webpack_require__(/*! ./_arrayMap */ \"./node_modules/lodash/_arrayMap.js\"),\n    isArray = __webpack_require__(/*! ./isArray */ \"./node_modules/lodash/isArray.js\"),\n    isSymbol = __webpack_require__(/*! ./isSymbol */ \"./node_modules/lodash/isSymbol.js\");\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlVG9TdHJpbmcuanMiLCJtYXBwaW5ncyI6IkFBQUEsYUFBYSxtQkFBTyxDQUFDLG1EQUFXO0FBQ2hDLGVBQWUsbUJBQU8sQ0FBQyx1REFBYTtBQUNwQyxjQUFjLG1CQUFPLENBQUMsbURBQVc7QUFDakMsZUFBZSxtQkFBTyxDQUFDLHFEQUFZOztBQUVuQztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VUb1N0cmluZy5qcz9jZTg2Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19TeW1ib2wnKSxcbiAgICBhcnJheU1hcCA9IHJlcXVpcmUoJy4vX2FycmF5TWFwJyksXG4gICAgaXNBcnJheSA9IHJlcXVpcmUoJy4vaXNBcnJheScpLFxuICAgIGlzU3ltYm9sID0gcmVxdWlyZSgnLi9pc1N5bWJvbCcpO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwO1xuXG4vKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbnZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgc3ltYm9sVG9TdHJpbmcgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnRvU3RyaW5nIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvU3RyaW5nYCB3aGljaCBkb2Vzbid0IGNvbnZlcnQgbnVsbGlzaFxuICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbnZlcnQgdmFsdWVzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCBiYXNlVG9TdHJpbmcpICsgJyc7XG4gIH1cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBzeW1ib2xUb1N0cmluZyA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIH1cbiAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VUb1N0cmluZztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/_baseToString.js\n");

/***/ }),

/***/ "./node_modules/lodash/_castPath.js":
/*!******************************************!*\
  !*** ./node_modules/lodash/_castPath.js ***!
  \******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var isArray = __webpack_require__(/*! ./isArray */ \"./node_modules/lodash/isArray.js\"),\n    isKey = __webpack_require__(/*! ./_isKey */ \"./node_modules/lodash/_isKey.js\"),\n    stringToPath = __webpack_require__(/*! ./_stringToPath */ \"./node_modules/lodash/_stringToPath.js\"),\n    toString = __webpack_require__(/*! ./toString */ \"./node_modules/lodash/toString.js\");\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19jYXN0UGF0aC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxjQUFjLG1CQUFPLENBQUMsbURBQVc7QUFDakMsWUFBWSxtQkFBTyxDQUFDLGlEQUFVO0FBQzlCLG1CQUFtQixtQkFBTyxDQUFDLCtEQUFpQjtBQUM1QyxlQUFlLG1CQUFPLENBQUMscURBQVk7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsV0FBVyxRQUFRO0FBQ25CLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19jYXN0UGF0aC5qcz9lMmU0Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBpc0FycmF5ID0gcmVxdWlyZSgnLi9pc0FycmF5JyksXG4gICAgaXNLZXkgPSByZXF1aXJlKCcuL19pc0tleScpLFxuICAgIHN0cmluZ1RvUGF0aCA9IHJlcXVpcmUoJy4vX3N0cmluZ1RvUGF0aCcpLFxuICAgIHRvU3RyaW5nID0gcmVxdWlyZSgnLi90b1N0cmluZycpO1xuXG4vKipcbiAqIENhc3RzIGB2YWx1ZWAgdG8gYSBwYXRoIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gY2FzdFBhdGgodmFsdWUsIG9iamVjdCkge1xuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIGlzS2V5KHZhbHVlLCBvYmplY3QpID8gW3ZhbHVlXSA6IHN0cmluZ1RvUGF0aCh0b1N0cmluZyh2YWx1ZSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNhc3RQYXRoO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_castPath.js\n");

/***/ }),

/***/ "./node_modules/lodash/_coreJsData.js":
/*!********************************************!*\
  !*** ./node_modules/lodash/_coreJsData.js ***!
  \********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var root = __webpack_require__(/*! ./_root */ \"./node_modules/lodash/_root.js\");\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19jb3JlSnNEYXRhLmpzIiwibWFwcGluZ3MiOiJBQUFBLFdBQVcsbUJBQU8sQ0FBQywrQ0FBUzs7QUFFNUI7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19jb3JlSnNEYXRhLmpzP2RhMDMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbm1vZHVsZS5leHBvcnRzID0gY29yZUpzRGF0YTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/_coreJsData.js\n");

/***/ }),

/***/ "./node_modules/lodash/_defineProperty.js":
/*!************************************************!*\
  !*** ./node_modules/lodash/_defineProperty.js ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var getNative = __webpack_require__(/*! ./_getNative */ \"./node_modules/lodash/_getNative.js\");\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19kZWZpbmVQcm9wZXJ0eS5qcyIsIm1hcHBpbmdzIjoiQUFBQSxnQkFBZ0IsbUJBQU8sQ0FBQyx5REFBYzs7QUFFdEM7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsSUFBSTtBQUNKLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZGVmaW5lUHJvcGVydHkuanM/M2I0YSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2V0TmF0aXZlID0gcmVxdWlyZSgnLi9fZ2V0TmF0aXZlJyk7XG5cbnZhciBkZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICB2YXIgZnVuYyA9IGdldE5hdGl2ZShPYmplY3QsICdkZWZpbmVQcm9wZXJ0eScpO1xuICAgIGZ1bmMoe30sICcnLCB7fSk7XG4gICAgcmV0dXJuIGZ1bmM7XG4gIH0gY2F0Y2ggKGUpIHt9XG59KCkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmluZVByb3BlcnR5O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_defineProperty.js\n");

/***/ }),

/***/ "./node_modules/lodash/_freeGlobal.js":
/*!********************************************!*\
  !*** ./node_modules/lodash/_freeGlobal.js ***!
  \********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof __webpack_require__.g == 'object' && __webpack_require__.g && __webpack_require__.g.Object === Object && __webpack_require__.g;\n\nmodule.exports = freeGlobal;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19mcmVlR2xvYmFsLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0Esd0JBQXdCLHFCQUFNLGdCQUFnQixxQkFBTSxJQUFJLHFCQUFNLHNCQUFzQixxQkFBTTs7QUFFMUYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZnJlZUdsb2JhbC5qcz81ODVhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbm1vZHVsZS5leHBvcnRzID0gZnJlZUdsb2JhbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/_freeGlobal.js\n");

/***/ }),

/***/ "./node_modules/lodash/_getMapData.js":
/*!********************************************!*\
  !*** ./node_modules/lodash/_getMapData.js ***!
  \********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var isKeyable = __webpack_require__(/*! ./_isKeyable */ \"./node_modules/lodash/_isKeyable.js\");\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRNYXBEYXRhLmpzIiwibWFwcGluZ3MiOiJBQUFBLGdCQUFnQixtQkFBTyxDQUFDLHlEQUFjOztBQUV0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxHQUFHO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2dldE1hcERhdGEuanM/NDI0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaXNLZXlhYmxlID0gcmVxdWlyZSgnLi9faXNLZXlhYmxlJyk7XG5cbi8qKlxuICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gKi9cbmZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgOiBkYXRhLm1hcDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRNYXBEYXRhO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_getMapData.js\n");

/***/ }),

/***/ "./node_modules/lodash/_getNative.js":
/*!*******************************************!*\
  !*** ./node_modules/lodash/_getNative.js ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var baseIsNative = __webpack_require__(/*! ./_baseIsNative */ \"./node_modules/lodash/_baseIsNative.js\"),\n    getValue = __webpack_require__(/*! ./_getValue */ \"./node_modules/lodash/_getValue.js\");\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXROYXRpdmUuanMiLCJtYXBwaW5ncyI6IkFBQUEsbUJBQW1CLG1CQUFPLENBQUMsK0RBQWlCO0FBQzVDLGVBQWUsbUJBQU8sQ0FBQyx1REFBYTs7QUFFcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsR0FBRztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2dldE5hdGl2ZS5qcz8wYjA3Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBiYXNlSXNOYXRpdmUgPSByZXF1aXJlKCcuL19iYXNlSXNOYXRpdmUnKSxcbiAgICBnZXRWYWx1ZSA9IHJlcXVpcmUoJy4vX2dldFZhbHVlJyk7XG5cbi8qKlxuICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0TmF0aXZlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_getNative.js\n");

/***/ }),

/***/ "./node_modules/lodash/_getRawTag.js":
/*!*******************************************!*\
  !*** ./node_modules/lodash/_getRawTag.js ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var Symbol = __webpack_require__(/*! ./_Symbol */ \"./node_modules/lodash/_Symbol.js\");\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRSYXdUYWcuanMiLCJtYXBwaW5ncyI6IkFBQUEsYUFBYSxtQkFBTyxDQUFDLG1EQUFXOztBQUVoQztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2dldFJhd1RhZy5qcz8wMGZkIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19TeW1ib2wnKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgdHJ5IHtcbiAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh1bm1hc2tlZCkge1xuICAgIGlmIChpc093bikge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFJhd1RhZztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/_getRawTag.js\n");

/***/ }),

/***/ "./node_modules/lodash/_getValue.js":
/*!******************************************!*\
  !*** ./node_modules/lodash/_getValue.js ***!
  \******************************************/
/***/ ((module) => {

eval("/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRWYWx1ZS5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxHQUFHO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2dldFZhbHVlLmpzPzM2OTgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0VmFsdWU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_getValue.js\n");

/***/ }),

/***/ "./node_modules/lodash/_hashClear.js":
/*!*******************************************!*\
  !*** ./node_modules/lodash/_hashClear.js ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var nativeCreate = __webpack_require__(/*! ./_nativeCreate */ \"./node_modules/lodash/_nativeCreate.js\");\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19oYXNoQ2xlYXIuanMiLCJtYXBwaW5ncyI6IkFBQUEsbUJBQW1CLG1CQUFPLENBQUMsK0RBQWlCOztBQUU1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2hhc2hDbGVhci5qcz80OWY0Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBuYXRpdmVDcmVhdGUgPSByZXF1aXJlKCcuL19uYXRpdmVDcmVhdGUnKTtcblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIEhhc2hcbiAqL1xuZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaGFzaENsZWFyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_hashClear.js\n");

/***/ }),

/***/ "./node_modules/lodash/_hashDelete.js":
/*!********************************************!*\
  !*** ./node_modules/lodash/_hashDelete.js ***!
  \********************************************/
/***/ ((module) => {

eval("/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19oYXNoRGVsZXRlLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19oYXNoRGVsZXRlLmpzPzFlZmMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBoYXNoRGVsZXRlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_hashDelete.js\n");

/***/ }),

/***/ "./node_modules/lodash/_hashGet.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/_hashGet.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var nativeCreate = __webpack_require__(/*! ./_nativeCreate */ \"./node_modules/lodash/_nativeCreate.js\");\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19oYXNoR2V0LmpzIiwibWFwcGluZ3MiOiJBQUFBLG1CQUFtQixtQkFBTyxDQUFDLCtEQUFpQjs7QUFFNUM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsR0FBRztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faGFzaEdldC5qcz9iYmMwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBuYXRpdmVDcmVhdGUgPSByZXF1aXJlKCcuL19uYXRpdmVDcmVhdGUnKTtcblxuLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgfVxuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhhc2hHZXQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_hashGet.js\n");

/***/ }),

/***/ "./node_modules/lodash/_hashHas.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/_hashHas.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var nativeCreate = __webpack_require__(/*! ./_nativeCreate */ \"./node_modules/lodash/_nativeCreate.js\");\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19oYXNoSGFzLmpzIiwibWFwcGluZ3MiOiJBQUFBLG1CQUFtQixtQkFBTyxDQUFDLCtEQUFpQjs7QUFFNUM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19oYXNoSGFzLmpzPzdhNDgiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIG5hdGl2ZUNyZWF0ZSA9IHJlcXVpcmUoJy4vX25hdGl2ZUNyZWF0ZScpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaGFzaEhhcztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/_hashHas.js\n");

/***/ }),

/***/ "./node_modules/lodash/_hashSet.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/_hashSet.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var nativeCreate = __webpack_require__(/*! ./_nativeCreate */ \"./node_modules/lodash/_nativeCreate.js\");\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19oYXNoU2V0LmpzIiwibWFwcGluZ3MiOiJBQUFBLG1CQUFtQixtQkFBTyxDQUFDLCtEQUFpQjs7QUFFNUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxHQUFHO0FBQ2QsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2hhc2hTZXQuanM/MjUyNCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbmF0aXZlQ3JlYXRlID0gcmVxdWlyZSgnLi9fbmF0aXZlQ3JlYXRlJyk7XG5cbi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqXG4gKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gIHJldHVybiB0aGlzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhhc2hTZXQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_hashSet.js\n");

/***/ }),

/***/ "./node_modules/lodash/_isIndex.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/_isIndex.js ***!
  \*****************************************/
/***/ ((module) => {

eval("/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19pc0luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLFdBQVcsUUFBUTtBQUNuQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19pc0luZGV4LmpzP2MwOTgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbnZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG5cbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGUgPT0gJ251bWJlcicgfHxcbiAgICAgICh0eXBlICE9ICdzeW1ib2wnICYmIHJlSXNVaW50LnRlc3QodmFsdWUpKSkgJiZcbiAgICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzSW5kZXg7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_isIndex.js\n");

/***/ }),

/***/ "./node_modules/lodash/_isKey.js":
/*!***************************************!*\
  !*** ./node_modules/lodash/_isKey.js ***!
  \***************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var isArray = __webpack_require__(/*! ./isArray */ \"./node_modules/lodash/isArray.js\"),\n    isSymbol = __webpack_require__(/*! ./isSymbol */ \"./node_modules/lodash/isSymbol.js\");\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19pc0tleS5qcyIsIm1hcHBpbmdzIjoiQUFBQSxjQUFjLG1CQUFPLENBQUMsbURBQVc7QUFDakMsZUFBZSxtQkFBTyxDQUFDLHFEQUFZOztBQUVuQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLFFBQVE7QUFDbkIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzS2V5LmpzP2Y2MDgiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGlzQXJyYXkgPSByZXF1aXJlKCcuL2lzQXJyYXknKSxcbiAgICBpc1N5bWJvbCA9IHJlcXVpcmUoJy4vaXNTeW1ib2wnKTtcblxuLyoqIFVzZWQgdG8gbWF0Y2ggcHJvcGVydHkgbmFtZXMgd2l0aGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHJlSXNEZWVwUHJvcCA9IC9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFwuKSo/XFwxKVxcXS8sXG4gICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSBhbmQgbm90IGEgcHJvcGVydHkgcGF0aC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5KHZhbHVlLCBvYmplY3QpIHtcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBpZiAodHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nIHx8XG4gICAgICB2YWx1ZSA9PSBudWxsIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiByZUlzUGxhaW5Qcm9wLnRlc3QodmFsdWUpIHx8ICFyZUlzRGVlcFByb3AudGVzdCh2YWx1ZSkgfHxcbiAgICAob2JqZWN0ICE9IG51bGwgJiYgdmFsdWUgaW4gT2JqZWN0KG9iamVjdCkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzS2V5O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_isKey.js\n");

/***/ }),

/***/ "./node_modules/lodash/_isKeyable.js":
/*!*******************************************!*\
  !*** ./node_modules/lodash/_isKeyable.js ***!
  \*******************************************/
/***/ ((module) => {

eval("/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19pc0tleWFibGUuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faXNLZXlhYmxlLmpzPzEyOTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgOiAodmFsdWUgPT09IG51bGwpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzS2V5YWJsZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/_isKeyable.js\n");

/***/ }),

/***/ "./node_modules/lodash/_isMasked.js":
/*!******************************************!*\
  !*** ./node_modules/lodash/_isMasked.js ***!
  \******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var coreJsData = __webpack_require__(/*! ./_coreJsData */ \"./node_modules/lodash/_coreJsData.js\");\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19pc01hc2tlZC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxpQkFBaUIsbUJBQU8sQ0FBQywyREFBZTs7QUFFeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19pc01hc2tlZC5qcz8xMzY4Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBjb3JlSnNEYXRhID0gcmVxdWlyZSgnLi9fY29yZUpzRGF0YScpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xudmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbn0oKSk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzTWFza2VkO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_isMasked.js\n");

/***/ }),

/***/ "./node_modules/lodash/_listCacheClear.js":
/*!************************************************!*\
  !*** ./node_modules/lodash/_listCacheClear.js ***!
  \************************************************/
/***/ ((module) => {

eval("/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19saXN0Q2FjaGVDbGVhci5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2xpc3RDYWNoZUNsZWFyLmpzPzI4YzkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IFtdO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxpc3RDYWNoZUNsZWFyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_listCacheClear.js\n");

/***/ }),

/***/ "./node_modules/lodash/_listCacheDelete.js":
/*!*************************************************!*\
  !*** ./node_modules/lodash/_listCacheDelete.js ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var assocIndexOf = __webpack_require__(/*! ./_assocIndexOf */ \"./node_modules/lodash/_assocIndexOf.js\");\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19saXN0Q2FjaGVEZWxldGUuanMiLCJtYXBwaW5ncyI6IkFBQUEsbUJBQW1CLG1CQUFPLENBQUMsK0RBQWlCOztBQUU1QztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19saXN0Q2FjaGVEZWxldGUuanM/NjlkNSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXNzb2NJbmRleE9mID0gcmVxdWlyZSgnLi9fYXNzb2NJbmRleE9mJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZTtcblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgIGRhdGEucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICB9XG4gIC0tdGhpcy5zaXplO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBsaXN0Q2FjaGVEZWxldGU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_listCacheDelete.js\n");

/***/ }),

/***/ "./node_modules/lodash/_listCacheGet.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash/_listCacheGet.js ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var assocIndexOf = __webpack_require__(/*! ./_assocIndexOf */ \"./node_modules/lodash/_assocIndexOf.js\");\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19saXN0Q2FjaGVHZXQuanMiLCJtYXBwaW5ncyI6IkFBQUEsbUJBQW1CLG1CQUFPLENBQUMsK0RBQWlCOztBQUU1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxHQUFHO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbGlzdENhY2hlR2V0LmpzP2I0YzAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGFzc29jSW5kZXhPZiA9IHJlcXVpcmUoJy4vX2Fzc29jSW5kZXhPZicpO1xuXG4vKipcbiAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxpc3RDYWNoZUdldDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/_listCacheGet.js\n");

/***/ }),

/***/ "./node_modules/lodash/_listCacheHas.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash/_listCacheHas.js ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var assocIndexOf = __webpack_require__(/*! ./_assocIndexOf */ \"./node_modules/lodash/_assocIndexOf.js\");\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19saXN0Q2FjaGVIYXMuanMiLCJtYXBwaW5ncyI6IkFBQUEsbUJBQW1CLG1CQUFPLENBQUMsK0RBQWlCOztBQUU1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2xpc3RDYWNoZUhhcy5qcz9mYmE1Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBhc3NvY0luZGV4T2YgPSByZXF1aXJlKCcuL19hc3NvY0luZGV4T2YnKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbGlzdENhY2hlSGFzO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_listCacheHas.js\n");

/***/ }),

/***/ "./node_modules/lodash/_listCacheSet.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash/_listCacheSet.js ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var assocIndexOf = __webpack_require__(/*! ./_assocIndexOf */ \"./node_modules/lodash/_assocIndexOf.js\");\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19saXN0Q2FjaGVTZXQuanMiLCJtYXBwaW5ncyI6IkFBQUEsbUJBQW1CLG1CQUFPLENBQUMsK0RBQWlCOztBQUU1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxHQUFHO0FBQ2QsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19saXN0Q2FjaGVTZXQuanM/NjdjYSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXNzb2NJbmRleE9mID0gcmVxdWlyZSgnLi9fYXNzb2NJbmRleE9mJyk7XG5cbi8qKlxuICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgKyt0aGlzLnNpemU7XG4gICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBsaXN0Q2FjaGVTZXQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_listCacheSet.js\n");

/***/ }),

/***/ "./node_modules/lodash/_mapCacheClear.js":
/*!***********************************************!*\
  !*** ./node_modules/lodash/_mapCacheClear.js ***!
  \***********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var Hash = __webpack_require__(/*! ./_Hash */ \"./node_modules/lodash/_Hash.js\"),\n    ListCache = __webpack_require__(/*! ./_ListCache */ \"./node_modules/lodash/_ListCache.js\"),\n    Map = __webpack_require__(/*! ./_Map */ \"./node_modules/lodash/_Map.js\");\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19tYXBDYWNoZUNsZWFyLmpzIiwibWFwcGluZ3MiOiJBQUFBLFdBQVcsbUJBQU8sQ0FBQywrQ0FBUztBQUM1QixnQkFBZ0IsbUJBQU8sQ0FBQyx5REFBYztBQUN0QyxVQUFVLG1CQUFPLENBQUMsNkNBQVE7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19tYXBDYWNoZUNsZWFyLmpzPzdjNjQiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIEhhc2ggPSByZXF1aXJlKCcuL19IYXNoJyksXG4gICAgTGlzdENhY2hlID0gcmVxdWlyZSgnLi9fTGlzdENhY2hlJyksXG4gICAgTWFwID0gcmVxdWlyZSgnLi9fTWFwJyk7XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuc2l6ZSA9IDA7XG4gIHRoaXMuX19kYXRhX18gPSB7XG4gICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtYXBDYWNoZUNsZWFyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_mapCacheClear.js\n");

/***/ }),

/***/ "./node_modules/lodash/_mapCacheDelete.js":
/*!************************************************!*\
  !*** ./node_modules/lodash/_mapCacheDelete.js ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var getMapData = __webpack_require__(/*! ./_getMapData */ \"./node_modules/lodash/_getMapData.js\");\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19tYXBDYWNoZURlbGV0ZS5qcyIsIm1hcHBpbmdzIjoiQUFBQSxpQkFBaUIsbUJBQU8sQ0FBQywyREFBZTs7QUFFeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbWFwQ2FjaGVEZWxldGUuanM/OTNlZCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2V0TWFwRGF0YSA9IHJlcXVpcmUoJy4vX2dldE1hcERhdGEnKTtcblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgcmVzdWx0ID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xuICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWFwQ2FjaGVEZWxldGU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_mapCacheDelete.js\n");

/***/ }),

/***/ "./node_modules/lodash/_mapCacheGet.js":
/*!*********************************************!*\
  !*** ./node_modules/lodash/_mapCacheGet.js ***!
  \*********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var getMapData = __webpack_require__(/*! ./_getMapData */ \"./node_modules/lodash/_getMapData.js\");\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19tYXBDYWNoZUdldC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxpQkFBaUIsbUJBQU8sQ0FBQywyREFBZTs7QUFFeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsR0FBRztBQUNoQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19tYXBDYWNoZUdldC5qcz8yNDc4Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBnZXRNYXBEYXRhID0gcmVxdWlyZSgnLi9fZ2V0TWFwRGF0YScpO1xuXG4vKipcbiAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWFwQ2FjaGVHZXQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_mapCacheGet.js\n");

/***/ }),

/***/ "./node_modules/lodash/_mapCacheHas.js":
/*!*********************************************!*\
  !*** ./node_modules/lodash/_mapCacheHas.js ***!
  \*********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var getMapData = __webpack_require__(/*! ./_getMapData */ \"./node_modules/lodash/_getMapData.js\");\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19tYXBDYWNoZUhhcy5qcyIsIm1hcHBpbmdzIjoiQUFBQSxpQkFBaUIsbUJBQU8sQ0FBQywyREFBZTs7QUFFeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19tYXBDYWNoZUhhcy5qcz9hNTI0Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBnZXRNYXBEYXRhID0gcmVxdWlyZSgnLi9fZ2V0TWFwRGF0YScpO1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcENhY2hlSGFzO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_mapCacheHas.js\n");

/***/ }),

/***/ "./node_modules/lodash/_mapCacheSet.js":
/*!*********************************************!*\
  !*** ./node_modules/lodash/_mapCacheSet.js ***!
  \*********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var getMapData = __webpack_require__(/*! ./_getMapData */ \"./node_modules/lodash/_getMapData.js\");\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19tYXBDYWNoZVNldC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxpQkFBaUIsbUJBQU8sQ0FBQywyREFBZTs7QUFFeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsR0FBRztBQUNkLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19tYXBDYWNoZVNldC5qcz8xZmM4Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBnZXRNYXBEYXRhID0gcmVxdWlyZSgnLi9fZ2V0TWFwRGF0YScpO1xuXG4vKipcbiAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSksXG4gICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgKz0gZGF0YS5zaXplID09IHNpemUgPyAwIDogMTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWFwQ2FjaGVTZXQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_mapCacheSet.js\n");

/***/ }),

/***/ "./node_modules/lodash/_memoizeCapped.js":
/*!***********************************************!*\
  !*** ./node_modules/lodash/_memoizeCapped.js ***!
  \***********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var memoize = __webpack_require__(/*! ./memoize */ \"./node_modules/lodash/memoize.js\");\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19tZW1vaXplQ2FwcGVkLmpzIiwibWFwcGluZ3MiOiJBQUFBLGNBQWMsbUJBQU8sQ0FBQyxtREFBVzs7QUFFakM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX21lbW9pemVDYXBwZWQuanM/MjM0ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbWVtb2l6ZSA9IHJlcXVpcmUoJy4vbWVtb2l6ZScpO1xuXG4vKiogVXNlZCBhcyB0aGUgbWF4aW11bSBtZW1vaXplIGNhY2hlIHNpemUuICovXG52YXIgTUFYX01FTU9JWkVfU0laRSA9IDUwMDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWVtb2l6ZWAgd2hpY2ggY2xlYXJzIHRoZSBtZW1vaXplZCBmdW5jdGlvbidzXG4gKiBjYWNoZSB3aGVuIGl0IGV4Y2VlZHMgYE1BWF9NRU1PSVpFX1NJWkVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gbWVtb2l6ZUNhcHBlZChmdW5jKSB7XG4gIHZhciByZXN1bHQgPSBtZW1vaXplKGZ1bmMsIGZ1bmN0aW9uKGtleSkge1xuICAgIGlmIChjYWNoZS5zaXplID09PSBNQVhfTUVNT0laRV9TSVpFKSB7XG4gICAgICBjYWNoZS5jbGVhcigpO1xuICAgIH1cbiAgICByZXR1cm4ga2V5O1xuICB9KTtcblxuICB2YXIgY2FjaGUgPSByZXN1bHQuY2FjaGU7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWVtb2l6ZUNhcHBlZDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/_memoizeCapped.js\n");

/***/ }),

/***/ "./node_modules/lodash/_nativeCreate.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash/_nativeCreate.js ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var getNative = __webpack_require__(/*! ./_getNative */ \"./node_modules/lodash/_getNative.js\");\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19uYXRpdmVDcmVhdGUuanMiLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCLG1CQUFPLENBQUMseURBQWM7O0FBRXRDO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbmF0aXZlQ3JlYXRlLmpzPzYwNDQiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGdldE5hdGl2ZSA9IHJlcXVpcmUoJy4vX2dldE5hdGl2ZScpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG5hdGl2ZUNyZWF0ZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/_nativeCreate.js\n");

/***/ }),

/***/ "./node_modules/lodash/_objectToString.js":
/*!************************************************!*\
  !*** ./node_modules/lodash/_objectToString.js ***!
  \************************************************/
/***/ ((module) => {

eval("/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19vYmplY3RUb1N0cmluZy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19vYmplY3RUb1N0cmluZy5qcz8yOWYzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG9iamVjdFRvU3RyaW5nO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_objectToString.js\n");

/***/ }),

/***/ "./node_modules/lodash/_root.js":
/*!**************************************!*\
  !*** ./node_modules/lodash/_root.js ***!
  \**************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var freeGlobal = __webpack_require__(/*! ./_freeGlobal */ \"./node_modules/lodash/_freeGlobal.js\");\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19yb290LmpzIiwibWFwcGluZ3MiOiJBQUFBLGlCQUFpQixtQkFBTyxDQUFDLDJEQUFlOztBQUV4QztBQUNBOztBQUVBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fcm9vdC5qcz8yYjNlIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBmcmVlR2xvYmFsID0gcmVxdWlyZSgnLi9fZnJlZUdsb2JhbCcpO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm9vdDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/_root.js\n");

/***/ }),

/***/ "./node_modules/lodash/_stringToPath.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash/_stringToPath.js ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var memoizeCapped = __webpack_require__(/*! ./_memoizeCapped */ \"./node_modules/lodash/_memoizeCapped.js\");\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19zdHJpbmdUb1BhdGguanMiLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CLG1CQUFPLENBQUMsaUVBQWtCOztBQUU5QztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3N0cmluZ1RvUGF0aC5qcz8xOGQ4Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBtZW1vaXplQ2FwcGVkID0gcmVxdWlyZSgnLi9fbWVtb2l6ZUNhcHBlZCcpO1xuXG4vKiogVXNlZCB0byBtYXRjaCBwcm9wZXJ0eSBuYW1lcyB3aXRoaW4gcHJvcGVydHkgcGF0aHMuICovXG52YXIgcmVQcm9wTmFtZSA9IC9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwkKSkvZztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggYmFja3NsYXNoZXMgaW4gcHJvcGVydHkgcGF0aHMuICovXG52YXIgcmVFc2NhcGVDaGFyID0gL1xcXFwoXFxcXCk/L2c7XG5cbi8qKlxuICogQ29udmVydHMgYHN0cmluZ2AgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAqL1xudmFyIHN0cmluZ1RvUGF0aCA9IG1lbW9pemVDYXBwZWQoZnVuY3Rpb24oc3RyaW5nKSB7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgaWYgKHN0cmluZy5jaGFyQ29kZUF0KDApID09PSA0NiAvKiAuICovKSB7XG4gICAgcmVzdWx0LnB1c2goJycpO1xuICB9XG4gIHN0cmluZy5yZXBsYWNlKHJlUHJvcE5hbWUsIGZ1bmN0aW9uKG1hdGNoLCBudW1iZXIsIHF1b3RlLCBzdWJTdHJpbmcpIHtcbiAgICByZXN1bHQucHVzaChxdW90ZSA/IHN1YlN0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhciwgJyQxJykgOiAobnVtYmVyIHx8IG1hdGNoKSk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gc3RyaW5nVG9QYXRoO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_stringToPath.js\n");

/***/ }),

/***/ "./node_modules/lodash/_toKey.js":
/*!***************************************!*\
  !*** ./node_modules/lodash/_toKey.js ***!
  \***************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var isSymbol = __webpack_require__(/*! ./isSymbol */ \"./node_modules/lodash/isSymbol.js\");\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL190b0tleS5qcyIsIm1hcHBpbmdzIjoiQUFBQSxlQUFlLG1CQUFPLENBQUMscURBQVk7O0FBRW5DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxhQUFhLGVBQWU7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvbG9kYXNoL190b0tleS5qcz9mNGQ2Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBpc1N5bWJvbCA9IHJlcXVpcmUoJy4vaXNTeW1ib2wnKTtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgSU5GSU5JVFkgPSAxIC8gMDtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIGtleSBpZiBpdCdzIG5vdCBhIHN0cmluZyBvciBzeW1ib2wuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7c3RyaW5nfHN5bWJvbH0gUmV0dXJucyB0aGUga2V5LlxuICovXG5mdW5jdGlvbiB0b0tleSh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9LZXk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_toKey.js\n");

/***/ }),

/***/ "./node_modules/lodash/_toSource.js":
/*!******************************************!*\
  !*** ./node_modules/lodash/_toSource.js ***!
  \******************************************/
/***/ ((module) => {

eval("/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL190b1NvdXJjZS5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fdG9Tb3VyY2UuanM/ZGM1NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKipcbiAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAqL1xuZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9Tb3VyY2U7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_toSource.js\n");

/***/ }),

/***/ "./node_modules/lodash/eq.js":
/*!***********************************!*\
  !*** ./node_modules/lodash/eq.js ***!
  \***********************************/
/***/ ((module) => {

eval("/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL2VxLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLFdBQVcsR0FBRztBQUNkLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvbG9kYXNoL2VxLmpzPzk2MzgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBQZXJmb3JtcyBhXG4gKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoJ2EnLCAnYScpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoTmFOLCBOYU4pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXE7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/eq.js\n");

/***/ }),

/***/ "./node_modules/lodash/isArray.js":
/*!****************************************!*\
  !*** ./node_modules/lodash/isArray.js ***!
  \****************************************/
/***/ ((module) => {

eval("/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQXJyYXkuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNBcnJheS5qcz82NzQ3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheSgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQXJyYXk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/isArray.js\n");

/***/ }),

/***/ "./node_modules/lodash/isFunction.js":
/*!*******************************************!*\
  !*** ./node_modules/lodash/isFunction.js ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var baseGetTag = __webpack_require__(/*! ./_baseGetTag */ \"./node_modules/lodash/_baseGetTag.js\"),\n    isObject = __webpack_require__(/*! ./isObject */ \"./node_modules/lodash/isObject.js\");\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzRnVuY3Rpb24uanMiLCJtYXBwaW5ncyI6IkFBQUEsaUJBQWlCLG1CQUFPLENBQUMsMkRBQWU7QUFDeEMsZUFBZSxtQkFBTyxDQUFDLHFEQUFZOztBQUVuQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0Z1bmN0aW9uLmpzPzk1MjAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGJhc2VHZXRUYWcgPSByZXF1aXJlKCcuL19iYXNlR2V0VGFnJyksXG4gICAgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0Jyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNGdW5jdGlvbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/isFunction.js\n");

/***/ }),

/***/ "./node_modules/lodash/isObject.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/isObject.js ***!
  \*****************************************/
/***/ ((module) => {

eval("/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzT2JqZWN0LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzT2JqZWN0LmpzPzFhOGMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3Q7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/isObject.js\n");

/***/ }),

/***/ "./node_modules/lodash/isObjectLike.js":
/*!*********************************************!*\
  !*** ./node_modules/lodash/isObjectLike.js ***!
  \*********************************************/
/***/ ((module) => {

eval("/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzT2JqZWN0TGlrZS5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzT2JqZWN0TGlrZS5qcz8xMzEwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzT2JqZWN0TGlrZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/isObjectLike.js\n");

/***/ }),

/***/ "./node_modules/lodash/isSymbol.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/isSymbol.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var baseGetTag = __webpack_require__(/*! ./_baseGetTag */ \"./node_modules/lodash/_baseGetTag.js\"),\n    isObjectLike = __webpack_require__(/*! ./isObjectLike */ \"./node_modules/lodash/isObjectLike.js\");\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzU3ltYm9sLmpzIiwibWFwcGluZ3MiOiJBQUFBLGlCQUFpQixtQkFBTyxDQUFDLDJEQUFlO0FBQ3hDLG1CQUFtQixtQkFBTyxDQUFDLDZEQUFnQjs7QUFFM0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc1N5bWJvbC5qcz9mZmQ2Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1N5bWJvbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/isSymbol.js\n");

/***/ }),

/***/ "./node_modules/lodash/memoize.js":
/*!****************************************!*\
  !*** ./node_modules/lodash/memoize.js ***!
  \****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var MapCache = __webpack_require__(/*! ./_MapCache */ \"./node_modules/lodash/_MapCache.js\");\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL21lbW9pemUuanMiLCJtYXBwaW5ncyI6IkFBQUEsZUFBZSxtQkFBTyxDQUFDLHVEQUFhOztBQUVwQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxVQUFVO0FBQ3JCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvbWVtb2l6ZS5qcz9lMzgwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBNYXBDYWNoZSA9IHJlcXVpcmUoJy4vX01hcENhY2hlJyk7XG5cbi8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbWVtb2l6ZXMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuIElmIGByZXNvbHZlcmAgaXNcbiAqIHByb3ZpZGVkLCBpdCBkZXRlcm1pbmVzIHRoZSBjYWNoZSBrZXkgZm9yIHN0b3JpbmcgdGhlIHJlc3VsdCBiYXNlZCBvbiB0aGVcbiAqIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZSBmaXJzdCBhcmd1bWVudFxuICogcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uIGlzIHVzZWQgYXMgdGhlIG1hcCBjYWNoZSBrZXkuIFRoZSBgZnVuY2BcbiAqIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICpcbiAqICoqTm90ZToqKiBUaGUgY2FjaGUgaXMgZXhwb3NlZCBhcyB0aGUgYGNhY2hlYCBwcm9wZXJ0eSBvbiB0aGUgbWVtb2l6ZWRcbiAqIGZ1bmN0aW9uLiBJdHMgY3JlYXRpb24gbWF5IGJlIGN1c3RvbWl6ZWQgYnkgcmVwbGFjaW5nIHRoZSBgXy5tZW1vaXplLkNhY2hlYFxuICogY29uc3RydWN0b3Igd2l0aCBvbmUgd2hvc2UgaW5zdGFuY2VzIGltcGxlbWVudCB0aGVcbiAqIFtgTWFwYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcHJvcGVydGllcy1vZi10aGUtbWFwLXByb3RvdHlwZS1vYmplY3QpXG4gKiBtZXRob2QgaW50ZXJmYWNlIG9mIGBjbGVhcmAsIGBkZWxldGVgLCBgZ2V0YCwgYGhhc2AsIGFuZCBgc2V0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICogdmFyIG90aGVyID0geyAnYyc6IDMsICdkJzogNCB9O1xuICpcbiAqIHZhciB2YWx1ZXMgPSBfLm1lbW9pemUoXy52YWx1ZXMpO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbMSwgMl1cbiAqXG4gKiB2YWx1ZXMob3RoZXIpO1xuICogLy8gPT4gWzMsIDRdXG4gKlxuICogb2JqZWN0LmEgPSAyO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbMSwgMl1cbiAqXG4gKiAvLyBNb2RpZnkgdGhlIHJlc3VsdCBjYWNoZS5cbiAqIHZhbHVlcy5jYWNoZS5zZXQob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWydhJywgJ2InXVxuICpcbiAqIC8vIFJlcGxhY2UgYF8ubWVtb2l6ZS5DYWNoZWAuXG4gKiBfLm1lbW9pemUuQ2FjaGUgPSBXZWFrTWFwO1xuICovXG5mdW5jdGlvbiBtZW1vaXplKGZ1bmMsIHJlc29sdmVyKSB7XG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nIHx8IChyZXNvbHZlciAhPSBudWxsICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseSh0aGlzLCBhcmdzKSA6IGFyZ3NbMF0sXG4gICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgbWVtb2l6ZWQuY2FjaGUgPSBjYWNoZS5zZXQoa2V5LCByZXN1bHQpIHx8IGNhY2hlO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIG1lbW9pemVkLmNhY2hlID0gbmV3IChtZW1vaXplLkNhY2hlIHx8IE1hcENhY2hlKTtcbiAgcmV0dXJuIG1lbW9pemVkO1xufVxuXG4vLyBFeHBvc2UgYE1hcENhY2hlYC5cbm1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxubW9kdWxlLmV4cG9ydHMgPSBtZW1vaXplO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/memoize.js\n");

/***/ }),

/***/ "./node_modules/lodash/set.js":
/*!************************************!*\
  !*** ./node_modules/lodash/set.js ***!
  \************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var baseSet = __webpack_require__(/*! ./_baseSet */ \"./node_modules/lodash/_baseSet.js\");\n\n/**\n * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n * it's created. Arrays are created for missing index properties while objects\n * are created for all other missing properties. Use `_.setWith` to customize\n * `path` creation.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.set(object, 'a[0].b.c', 4);\n * console.log(object.a[0].b.c);\n * // => 4\n *\n * _.set(object, ['x', '0', 'y', 'z'], 5);\n * console.log(object.x[0].y.z);\n * // => 5\n */\nfunction set(object, path, value) {\n  return object == null ? object : baseSet(object, path, value);\n}\n\nmodule.exports = set;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL3NldC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxjQUFjLG1CQUFPLENBQUMscURBQVk7O0FBRWxDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLGNBQWM7QUFDekIsV0FBVyxHQUFHO0FBQ2QsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQSxrQkFBa0IsUUFBUSxPQUFPLFVBQVU7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvc2V0LmpzPzBmNWMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGJhc2VTZXQgPSByZXF1aXJlKCcuL19iYXNlU2V0Jyk7XG5cbi8qKlxuICogU2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiBhIHBvcnRpb24gb2YgYHBhdGhgIGRvZXNuJ3QgZXhpc3QsXG4gKiBpdCdzIGNyZWF0ZWQuIEFycmF5cyBhcmUgY3JlYXRlZCBmb3IgbWlzc2luZyBpbmRleCBwcm9wZXJ0aWVzIHdoaWxlIG9iamVjdHNcbiAqIGFyZSBjcmVhdGVkIGZvciBhbGwgb3RoZXIgbWlzc2luZyBwcm9wZXJ0aWVzLiBVc2UgYF8uc2V0V2l0aGAgdG8gY3VzdG9taXplXG4gKiBgcGF0aGAgY3JlYXRpb24uXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjcuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICpcbiAqIF8uc2V0KG9iamVjdCwgJ2FbMF0uYi5jJywgNCk7XG4gKiBjb25zb2xlLmxvZyhvYmplY3QuYVswXS5iLmMpO1xuICogLy8gPT4gNFxuICpcbiAqIF8uc2V0KG9iamVjdCwgWyd4JywgJzAnLCAneScsICd6J10sIDUpO1xuICogY29uc29sZS5sb2cob2JqZWN0LnhbMF0ueS56KTtcbiAqIC8vID0+IDVcbiAqL1xuZnVuY3Rpb24gc2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/set.js\n");

/***/ }),

/***/ "./node_modules/lodash/toString.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/toString.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var baseToString = __webpack_require__(/*! ./_baseToString */ \"./node_modules/lodash/_baseToString.js\");\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL3RvU3RyaW5nLmpzIiwibWFwcGluZ3MiOiJBQUFBLG1CQUFtQixtQkFBTyxDQUFDLCtEQUFpQjs7QUFFNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvdG9TdHJpbmcuanM/NzZkZCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYmFzZVRvU3RyaW5nID0gcmVxdWlyZSgnLi9fYmFzZVRvU3RyaW5nJyk7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZy4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkIGZvciBgbnVsbGBcbiAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b1N0cmluZyhudWxsKTtcbiAqIC8vID0+ICcnXG4gKlxuICogXy50b1N0cmluZygtMCk7XG4gKiAvLyA9PiAnLTAnXG4gKlxuICogXy50b1N0cmluZyhbMSwgMiwgM10pO1xuICogLy8gPT4gJzEsMiwzJ1xuICovXG5mdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b1N0cmluZztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/toString.js\n");

/***/ }),

/***/ "./extensions/Edit2D/Edit2D.css":
/*!**************************************!*\
  !*** ./extensions/Edit2D/Edit2D.css ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ \"./node_modules/style-loader/dist/runtime/styleDomAPI.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ \"./node_modules/style-loader/dist/runtime/styleTagTransform.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_6_use_1_node_modules_postcss_loader_dist_cjs_js_ruleSet_1_rules_6_use_2_node_modules_css_unicode_loader_index_js_node_modules_sass_loader_dist_cjs_js_Edit2D_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[6].use[2]!../../node_modules/css-unicode-loader/index.js!../../node_modules/sass-loader/dist/cjs.js!./Edit2D.css */ \"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[6].use[2]!./node_modules/css-unicode-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./extensions/Edit2D/Edit2D.css\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\n\n      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\n    \noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_6_use_1_node_modules_postcss_loader_dist_cjs_js_ruleSet_1_rules_6_use_2_node_modules_css_unicode_loader_index_js_node_modules_sass_loader_dist_cjs_js_Edit2D_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"], options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_6_use_1_node_modules_postcss_loader_dist_cjs_js_ruleSet_1_rules_6_use_2_node_modules_css_unicode_loader_index_js_node_modules_sass_loader_dist_cjs_js_Edit2D_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"] && _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_6_use_1_node_modules_postcss_loader_dist_cjs_js_ruleSet_1_rules_6_use_2_node_modules_css_unicode_loader_index_js_node_modules_sass_loader_dist_cjs_js_Edit2D_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals ? _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_6_use_1_node_modules_postcss_loader_dist_cjs_js_ruleSet_1_rules_6_use_2_node_modules_css_unicode_loader_index_js_node_modules_sass_loader_dist_cjs_js_Edit2D_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals : undefined);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL0VkaXQyRC9FZGl0MkQuY3NzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLE1BQWtHO0FBQ2xHLE1BQXdGO0FBQ3hGLE1BQStGO0FBQy9GLE1BQWtIO0FBQ2xILE1BQTJHO0FBQzNHLE1BQTJHO0FBQzNHLE1BQXVTO0FBQ3ZTO0FBQ0E7O0FBRUE7O0FBRUEsNEJBQTRCLHFHQUFtQjtBQUMvQyx3QkFBd0Isa0hBQWE7O0FBRXJDLHVCQUF1Qix1R0FBYTtBQUNwQztBQUNBLGlCQUFpQiwrRkFBTTtBQUN2Qiw2QkFBNkIsc0dBQWtCOztBQUUvQyxhQUFhLDBHQUFHLENBQUMsNlBBQU87Ozs7QUFJaVA7QUFDelEsT0FBTyxpRUFBZSw2UEFBTyxJQUFJLDZQQUFPLFVBQVUsNlBBQU8sbUJBQW1CLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9FZGl0MkQvRWRpdDJELmNzcz9iN2Y4Il0sInNvdXJjZXNDb250ZW50IjpbIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbNl0udXNlWzFdIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1s2XS51c2VbMl0hLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy11bmljb2RlLWxvYWRlci9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi9FZGl0MkQuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbNl0udXNlWzFdIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1s2XS51c2VbMl0hLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy11bmljb2RlLWxvYWRlci9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi9FZGl0MkQuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Edit2D/Edit2D.css\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHdCQUF3QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixpQkFBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0QkFBNEI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw2QkFBNkI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzPzJkYmEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5ET00ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5ET01baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleEJ5SWRlbnRpZmllciA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXSxcbiAgICAgIHN1cHBvcnRzOiBpdGVtWzRdLFxuICAgICAgbGF5ZXI6IGl0ZW1bNV1cbiAgICB9O1xuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG4gIHZhciB1cGRhdGVyID0gZnVuY3Rpb24gdXBkYXRlcihuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwICYmIG5ld09iai5zdXBwb3J0cyA9PT0gb2JqLnN1cHBvcnRzICYmIG5ld09iai5sYXllciA9PT0gb2JqLmxheWVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG4gICAgICAgIHN0eWxlc0luRE9NLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzP2IyMTQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/insertBySelector.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanM/ZGU2YyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgb3B0aW9ucy5zZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIG9wdGlvbnMuYXR0cmlidXRlcyk7XG4gIG9wdGlvbnMuaW5zZXJ0KGVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG4gIHJldHVybiBlbGVtZW50O1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/insertStyleElement.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce =  true ? __webpack_require__.nc : 0;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBLGNBQWMsS0FBd0MsR0FBRyxzQkFBaUIsR0FBRyxDQUFJO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzP2RkY2UiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzKHN0eWxlRWxlbWVudCkge1xuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRjtBQUNqRjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RDtBQUN6RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcz9lNDc5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBcIlwiO1xuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQob2JqLnN1cHBvcnRzLCBcIikge1wiKTtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIik7XG4gIH1cbiAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBvYmoubGF5ZXIgIT09IFwidW5kZWZpbmVkXCI7XG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJAbGF5ZXJcIi5jb25jYXQob2JqLmxheWVyLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQob2JqLmxheWVyKSA6IFwiXCIsIFwiIHtcIik7XG4gIH1cbiAgY3NzICs9IG9iai5jc3M7XG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH1cblxuICAvLyBGb3Igb2xkIElFXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cbiAgb3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZUVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGRvbUFQSShvcHRpb25zKSB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7fSxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cbiAgICB9O1xuICB9XG4gIHZhciBzdHlsZUVsZW1lbnQgPSBvcHRpb25zLmluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgcmV0dXJuIHtcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShvYmopIHtcbiAgICAgIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG4gICAgfVxuICB9O1xufVxubW9kdWxlLmV4cG9ydHMgPSBkb21BUEk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/styleDomAPI.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcz8xZGRlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/styleTagTransform.js\n");

/***/ }),

/***/ "./node_modules/worker-loader/dist/cjs.js?inline=no-fallback!./extensions/Edit2D/SegmentTreeWorker.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/worker-loader/dist/cjs.js?inline=no-fallback!./extensions/Edit2D/SegmentTreeWorker.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Worker_fn)\n/* harmony export */ });\n/* harmony import */ var _node_modules_worker_loader_dist_runtime_inline_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !!../../node_modules/worker-loader/dist/runtime/inline.js */ \"./node_modules/worker-loader/dist/runtime/inline.js\");\n/* harmony import */ var _node_modules_worker_loader_dist_runtime_inline_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_worker_loader_dist_runtime_inline_js__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\nfunction Worker_fn() {\n  return _node_modules_worker_loader_dist_runtime_inline_js__WEBPACK_IMPORTED_MODULE_0___default()(\"/*!\\n * LMV v7.105.0\\n *\\n * Copyright 2025 Autodesk, Inc.\\n * All rights reserved.\\n *\\n * This computer source code and related instructions and comments are the\\n * unpublished confidential and proprietary information of Autodesk, Inc.\\n * and are protected under Federal copyright and state trade secret law.\\n * They may not be disclosed to, copied or used by any third party without\\n * the prior written consent of Autodesk, Inc.\\n *\\n * Autodesk Viewer SDK Usage Limitations:\\n *\\n * The Autodesk Viewer SDK JavaScript must be delivered from an\\n * Autodesk-hosted URL.\\n */\\n/*\\n * ATTENTION: An \\\"eval-source-map\\\" devtool has been used.\\n * This devtool is neither made for production nor for readable output files.\\n * It uses \\\"eval()\\\" calls to create a separate source file with attached SourceMaps in the browser devtools.\\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\\n * or disable the default devtool with \\\"devtool: false\\\".\\n * If you are looking for production-ready output files, see mode: \\\"production\\\" (https://webpack.js.org/configuration/mode/).\\n */\\n/******/ (() => { // webpackBootstrap\\n/******/ \\t\\\"use strict\\\";\\n/******/ \\tvar __webpack_modules__ = ({\\n\\n/***/ \\\"./node_modules/babel-loader/lib/index.js??ruleSet[1].rules[0].use[0]!./extensions/Edit2D/SegmentTreeWorker.js\\\":\\n/*!*********************************************************************************************************************!*\\\\\\n  !*** ./node_modules/babel-loader/lib/index.js??ruleSet[1].rules[0].use[0]!./extensions/Edit2D/SegmentTreeWorker.js ***!\\n  \\\\*********************************************************************************************************************/\\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\\n\\neval(\\\"__webpack_require__.r(__webpack_exports__);\\\\n/* harmony import */ var _src_wgs_scene_VertexBufferReader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../src/wgs/scene/VertexBufferReader */ \\\\\\\"./src/wgs/scene/VertexBufferReader.js\\\\\\\");\\\\n\\\\n\\\\nconst primCountPerBatch = 5000; // The number of primitives per batch.\\\\nconst numOfArgs = 8; // Number of arguments per primitive\\\\nconst stride = numOfArgs + 1; // Number of arguments plus the position for the primitive type.\\\\nconst size = stride * primCountPerBatch; // Size for the Float64Array\\\\n\\\\n// Allocate the number of arguments per primitive plus a position for the primitive type and multiply it by the batch count.\\\\n// Float64Array is required because there were float arguments that contained more than 7 digits.\\\\nlet primitiveBatch = new Float64Array(size);\\\\n\\\\nlet numGeoms = 0; // Number of geometries processed\\\\nlet totalGeoms = 0; // Total number of geometries to process. This is passed in from the main thread.\\\\nlet batchIndex = 0; // Keeps track of the batch index. When the limit is reached this will be reset.\\\\n\\\\n// Integers to write into the TypeArray for each primitive type\\\\nconst primitiveTypes = {\\\\n  onLineSegment: 1,\\\\n  onCircularArc: 2,\\\\n  onEllipticalArc: 3,\\\\n  finished: 9\\\\n};\\\\n\\\\n/**\\\\n * Batches geom primitives and sends it to the main thread once the primCountPerBatch is reached.\\\\n * @param {String} type - Geometry Primitive type string\\\\n * @param {Number[]} args - An array of arguments that are returned from the VertexBufferBuilder callbacks\\\\n */\\\\nfunction post(type) {let args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\\\\n  // The first entry will be the primitive type\\\\n  primitiveBatch[batchIndex++] = primitiveTypes[type];\\\\n\\\\n  // Add the arguments to the batch\\\\n  for (let i = 0; i < numOfArgs; i++) {\\\\n    primitiveBatch[batchIndex++] = i < args.length ? args[i] : 0;\\\\n  }\\\\n\\\\n  // Message the main thread once the primitive count was reached or once the number of processed geometries reaches the total number of geometries\\\\n  if (batchIndex >= primCountPerBatch * stride || numGeoms === totalGeoms) {\\\\n    // Send existing batch and create a new batch\\\\n    postMessage(primitiveBatch, [primitiveBatch.buffer]);\\\\n\\\\n    primitiveBatch = new Float64Array(size);\\\\n    batchIndex = 0;\\\\n  }\\\\n}\\\\n\\\\nonmessage = function (e) {\\\\n  // First call from the SegementTree.js\\\\n  // This will initialize the geometry count and other global variables.\\\\n  if (e.data.hasOwnProperty('totalGeoms')) {\\\\n    totalGeoms = e.data.totalGeoms;\\\\n    primitiveBatch = new Float64Array(size);\\\\n    numGeoms = 0;\\\\n    batchIndex = 0;\\\\n    return;\\\\n  }\\\\n\\\\n  // Iterate over an array of geometry objects.\\\\n  // A geometry object contains information from the FragmentList that will be used by the VertexBufferReader.\\\\n  for (let i = 0; i < e.data.length; i++) {\\\\n    const geom = e.data[i];\\\\n    const collectSegment = {\\\\n      onLineSegment: function () {for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {args[_key] = arguments[_key];}return post('onLineSegment', args);},\\\\n      onCircularArc: function () {for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {args[_key2] = arguments[_key2];}return post('onCircularArc', args);},\\\\n      onEllipticalArc: function () {for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {args[_key3] = arguments[_key3];}return post('onEllipticalArc', args);}\\\\n    };\\\\n    const vbr = new _src_wgs_scene_VertexBufferReader__WEBPACK_IMPORTED_MODULE_0__.VertexBufferReader(geom);\\\\n\\\\n    vbr.enumGeoms(null, collectSegment);\\\\n    numGeoms++;\\\\n  }\\\\n\\\\n  // Notify the main thread that a geometry was processed.\\\\n  post('finished');\\\\n};//# sourceURL=[module]\\\\n\\\");\\n\\n/***/ }),\\n\\n/***/ \\\"./src/wgs/scene/VertexBufferReader.js\\\":\\n/*!*********************************************!*\\\\\\n  !*** ./src/wgs/scene/VertexBufferReader.js ***!\\n  \\\\*********************************************/\\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\\n\\neval(\\\"__webpack_require__.r(__webpack_exports__);\\\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\\\n/* harmony export */   VertexBufferReader: () => (/* binding */ VertexBufferReader)\\\\n/* harmony export */ });\\\\n\\\\n\\\\n\\\\nvar TAU = Math.PI * 2;\\\\n\\\\n//Constants duplicated from src/lmvtk/VertexBufferBuilder.js\\\\nvar VBB_GT_TRIANGLE_INDEXED = 0,\\\\n  VBB_GT_LINE_SEGMENT = 1,\\\\n  VBB_GT_ARC_CIRCULAR = 2,\\\\n  VBB_GT_ARC_ELLIPTICAL = 3,\\\\n  VBB_GT_TEX_QUAD = 4,\\\\n  VBB_GT_ONE_TRIANGLE = 5,\\\\n  VBB_GT_LINE_SEGMENT_CAPPED = 8,\\\\n  VBB_GT_LINE_SEGMENT_CAPPED_START = 9,\\\\n  VBB_GT_LINE_SEGMENT_CAPPED_END = 10,\\\\n  VBB_GT_LINE_SEGMENT_MITER = 11;\\\\n\\\\nvar VBB_COLOR_OFFSET = 6,\\\\n  VBB_DBID_OFFSET = 7,\\\\n  VBB_FLAGS_OFFSET = 8,\\\\n  VBB_LAYER_VP_OFFSET = 9;\\\\n\\\\n/**\\\\n * Initializes a \\\\\\\"view\\\\\\\" into a compacted interleaved vertex buffer array using our custom 2D vertex layout.\\\\n * See src/lmvtk/VertexBufferBuilder.js for more details.\\\\n * @param {BufferGeometry|MeshData} geometry\\\\n */\\\\nfunction VertexBufferReader(geometry)\\\\n{var _geometry$tIdColor;\\\\n  this.vb = geometry.vb.buffer;\\\\n  this.stride = geometry.vbstride;\\\\n\\\\n  this.vbf = new Float32Array(this.vb);\\\\n  this.vbi = new Int32Array(this.vb);\\\\n  this.vbs = new Uint16Array(this.vb);\\\\n\\\\n  this.ib = geometry.ib;\\\\n\\\\n  this.vcount = this.vbf.length / this.stride;\\\\n\\\\n  this.useInstancing = geometry.numInstances > 0;\\\\n  this.useCompactBuffers = geometry.unpackXform;\\\\n  this.texData = this.useCompactBuffers && ((_geometry$tIdColor = geometry.tIdColor) === null || _geometry$tIdColor === void 0 || (_geometry$tIdColor = _geometry$tIdColor.image) === null || _geometry$tIdColor === void 0 ? void 0 : _geometry$tIdColor.data) && new Uint32Array(geometry.tIdColor.image.data.buffer);\\\\n\\\\n  // Does the geom use interleaved vb?\\\\n  // Used by FragmentList.updateVertexBufferForThemingAndGhosting which only\\\\n  // workes with interleaved vb\\\\n  this.isInterleavedVb = (() => {\\\\n    const attr = geometry.attributes;\\\\n    if (!attr) return false;\\\\n\\\\n    const atLayerVp = attr.layerVp4b;\\\\n    const atFlags = attr.flags4b;\\\\n\\\\n    if (this.useCompactBuffers) {\\\\n      const atIdColors = attr.uvIdColor;\\\\n      return atIdColors && atLayerVp && atFlags;\\\\n    } else {\\\\n      const atColors = attr.color4b;\\\\n      const atIds = attr.dbId4b;\\\\n      return atColors && atIds && atLayerVp && atFlags;\\\\n    }\\\\n  })();\\\\n};\\\\n\\\\nVertexBufferReader.prototype.getDbIdAt = function (vindex) {\\\\n  if (this.texData) {\\\\n    return this.texData[this.vbs[vindex * this.stride * 2 + VBB_DBID_OFFSET]];\\\\n  }\\\\n  return this.vbi[vindex * this.stride + VBB_DBID_OFFSET];\\\\n};\\\\n\\\\nVertexBufferReader.prototype.getColorAt = function (vindex) {\\\\n  if (this.texData) {\\\\n    return this.texData[this.vbs[vindex * this.stride * 2 + VBB_COLOR_OFFSET]];\\\\n  }\\\\n  return this.vbi[vindex * this.stride + VBB_COLOR_OFFSET];\\\\n};\\\\n\\\\nVertexBufferReader.prototype.getVertexFlagsAt = function (vindex) {\\\\n  if (this.texData) {\\\\n    return this.vbi[vindex * this.stride + 4];\\\\n  }\\\\n  return this.vbi[vindex * this.stride + VBB_FLAGS_OFFSET];\\\\n};\\\\n\\\\nVertexBufferReader.prototype.getLayerIndexAt = function (vindex) {\\\\n  if (this.texData) {\\\\n    return this.vbi[vindex * this.stride + 5] & 0xffff;\\\\n  }\\\\n  return this.vbi[vindex * this.stride + VBB_LAYER_VP_OFFSET] & 0xffff;\\\\n};\\\\n\\\\nVertexBufferReader.prototype.getViewportIndexAt = function (vindex) {\\\\n  if (this.texData) {\\\\n    return this.vbi[vindex * this.stride + 5] >> 16 & 0xffff;\\\\n  }\\\\n  return this.vbi[vindex * this.stride + VBB_LAYER_VP_OFFSET] >> 16 & 0xffff;\\\\n};\\\\n\\\\nVertexBufferReader.prototype.decodeLineAt = function (vindex, layer, vpId, callback)\\\\n{\\\\n  if (!callback.onLineSegment) {return;}\\\\n\\\\n  if (this.useCompactBuffers) {\\\\n    var vertexOffset = this.stride * vindex * 2;\\\\n    var x0 = this.useCompactBuffers.x * this.vbs[vertexOffset] / 65535 + this.useCompactBuffers.z;\\\\n    var y0 = this.useCompactBuffers.y * this.vbs[vertexOffset + 1] / 65535 + this.useCompactBuffers.w;\\\\n    var angle = this.vbs[vertexOffset + 2] / 65535 * TAU - Math.PI;\\\\n    var distAlong = this.vbs[vertexOffset + 3] / 65535 * Math.max(this.useCompactBuffers.x, this.useCompactBuffers.y);\\\\n    var lineWidth = this.vbs[vertexOffset + 4] / 32767 * Math.max(this.useCompactBuffers.x, this.useCompactBuffers.y) * 2.0;\\\\n  } else {\\\\n    var baseOffset = this.stride * vindex;\\\\n    var x0 = this.vbf[baseOffset];\\\\n    var y0 = this.vbf[baseOffset + 1];\\\\n    var angle = this.vbf[baseOffset + 2] * TAU - Math.PI; // decode angle: see VertexBufferBuilder.addVertexLine\\\\n    var distAlong = this.vbf[baseOffset + 3];\\\\n    var lineWidth = this.vbf[baseOffset + 4] * 2.0;\\\\n  }\\\\n\\\\n  var x1 = x0 + distAlong * Math.cos(angle);\\\\n  var y1 = y0 + distAlong * Math.sin(angle);\\\\n\\\\n  callback.onLineSegment(x0, y0, x1, y1, vpId, lineWidth);\\\\n};\\\\n\\\\nVertexBufferReader.prototype.decodeCircularArcAt = function (vindex, layer, vpId, callback)\\\\n{\\\\n  if (!callback.onCircularArc) {return;}\\\\n\\\\n  if (this.useCompactBuffers) {\\\\n    var vertexOffset = this.stride * vindex * 2;\\\\n    var cx = this.useCompactBuffers.x * this.vbs[vertexOffset] / 65535 + this.useCompactBuffers.z;\\\\n    var cy = this.useCompactBuffers.y * this.vbs[vertexOffset + 1] / 65535 + this.useCompactBuffers.w;\\\\n    var start = this.vbs[vertexOffset + 2] / 65535 * TAU;\\\\n    var end = this.vbs[vertexOffset + 3] / 65535 * TAU;\\\\n    var radius = this.vbs[vertexOffset + 5] / 65535 * Math.max(this.useCompactBuffers.x, this.useCompactBuffers.y);\\\\n  } else {\\\\n    var baseOffset = this.stride * vindex;\\\\n    var cx = this.vbf[baseOffset];\\\\n    var cy = this.vbf[baseOffset + 1];\\\\n    var start = this.vbf[baseOffset + 2] * TAU;\\\\n    var end = this.vbf[baseOffset + 3] * TAU;\\\\n    var radius = this.vbf[baseOffset + 5];\\\\n  }\\\\n\\\\n  callback.onCircularArc(cx, cy, start, end, radius, vpId);\\\\n};\\\\n\\\\nVertexBufferReader.prototype.decodeEllipticalArcAt = function (vindex, layer, vpId, callback)\\\\n{\\\\n  if (!callback.onEllipticalArc) {return;}\\\\n\\\\n  // Note: compaction will not happen for the VBB_GT_ARC_ELLIPTICAL\\\\n  var baseOffset = this.stride * vindex;\\\\n  var cx = this.vbf[baseOffset];\\\\n  var cy = this.vbf[baseOffset + 1];\\\\n  var start = this.vbf[baseOffset + 2] * TAU;\\\\n  var end = this.vbf[baseOffset + 3] * TAU;\\\\n  var major = this.vbf[baseOffset + 5];\\\\n  var minor = this.vbf[baseOffset + 10];\\\\n  var tilt = this.vbf[baseOffset + 11];\\\\n\\\\n  callback.onEllipticalArc(cx, cy, start, end, major, minor, tilt, vpId);\\\\n};\\\\n\\\\nVertexBufferReader.prototype.decodeTexQuadAt = function (vindex, layer, vpId, callback)\\\\n{\\\\n  if (!callback.onTexQuad) {return;}\\\\n\\\\n  if (this.useCompactBuffers) {\\\\n    var vertexOffset = this.stride * vindex * 2;\\\\n    var centerX = this.useCompactBuffers.x * this.vbs[vertexOffset] / 65535 + this.useCompactBuffers.z;\\\\n    var centerY = this.useCompactBuffers.y * this.vbs[vertexOffset + 1] / 65535 + this.useCompactBuffers.w;\\\\n    var rotation = this.vbs[vertexOffset + 2] / 65535 * TAU;\\\\n    var width = this.vbs[vertexOffset + 3] / 65535 * Math.max(this.useCompactBuffers.x, this.useCompactBuffers.y);\\\\n    var height = this.vbs[vertexOffset + 4] / 65535 * Math.max(this.useCompactBuffers.x, this.useCompactBuffers.y);\\\\n  } else {\\\\n    var baseOffset = this.stride * vindex;\\\\n    var centerX = this.vbf[baseOffset];\\\\n    var centerY = this.vbf[baseOffset + 1];\\\\n    // yes, this is in a different order than output, following VertexBufferBuilder's order\\\\n    var rotation = this.vbf[baseOffset + 2] * TAU;\\\\n    var width = this.vbf[baseOffset + 3];\\\\n    var height = this.vbf[baseOffset + 4];\\\\n  }\\\\n\\\\n  callback.onTexQuad(centerX, centerY, width, height, rotation, vpId);\\\\n};\\\\n\\\\nVertexBufferReader.prototype.decodeOneTriangleAt = function (vindex, layer, vpId, callback)\\\\n{\\\\n  if (!callback.onOneTriangle) {return;}\\\\n\\\\n  if (this.useCompactBuffers) {\\\\n    var vertexOffset = this.stride * vindex * 2;\\\\n    var x1 = this.useCompactBuffers.x * this.vbs[vertexOffset] / 65535 + this.useCompactBuffers.z;\\\\n    var y1 = this.useCompactBuffers.y * this.vbs[vertexOffset + 1] / 65535 + this.useCompactBuffers.w;\\\\n    var x2 = this.useCompactBuffers.x * this.vbs[vertexOffset + 2] / 65535 + this.useCompactBuffers.z;\\\\n    var y2 = this.useCompactBuffers.y * this.vbs[vertexOffset + 3] / 65535 + this.useCompactBuffers.w;\\\\n    var x3 = this.useCompactBuffers.x * this.vbs[vertexOffset + 4] / 65535 + this.useCompactBuffers.z;\\\\n    var y3 = this.useCompactBuffers.y * this.vbs[vertexOffset + 5] / 65535 + this.useCompactBuffers.w;\\\\n  } else {\\\\n    var baseOffset = this.stride * vindex;\\\\n    var x1 = this.vbf[baseOffset];\\\\n    var y1 = this.vbf[baseOffset + 1];\\\\n    var x2 = this.vbf[baseOffset + 2];\\\\n    var y2 = this.vbf[baseOffset + 3];\\\\n    var x3 = this.vbf[baseOffset + 4];\\\\n    var y3 = this.vbf[baseOffset + 5];\\\\n  }\\\\n\\\\n  callback.onOneTriangle(x1, y1, x2, y2, x3, y3, vpId);\\\\n};\\\\n\\\\n\\\\nVertexBufferReader.prototype.decodeTriangleIndexed = function (vi0, vi1, vi2, layer, vpId, callback)\\\\n{\\\\n  if (!callback.onOneTriangle) {return;}\\\\n\\\\n  if (this.useCompactBuffers) {\\\\n    var vertexOffset = this.stride * vi0 * 2;\\\\n    var x1 = this.useCompactBuffers.x * this.vbs[vertexOffset] / 65535 + this.useCompactBuffers.z;\\\\n    var y1 = this.useCompactBuffers.y * this.vbs[vertexOffset + 1] / 65535 + this.useCompactBuffers.w;\\\\n\\\\n    vertexOffset = this.stride * vi1 * 2;\\\\n    var x2 = this.useCompactBuffers.x * this.vbs[vertexOffset] / 65535 + this.useCompactBuffers.z;\\\\n    var y2 = this.useCompactBuffers.y * this.vbs[vertexOffset + 1] / 65535 + this.useCompactBuffers.w;\\\\n\\\\n    vertexOffset = this.stride * vi2 * 2;\\\\n    var x3 = this.useCompactBuffers.x * this.vbs[vertexOffset] / 65535 + this.useCompactBuffers.z;\\\\n    var y3 = this.useCompactBuffers.y * this.vbs[vertexOffset + 1] / 65535 + this.useCompactBuffers.w;\\\\n  } else {\\\\n    var baseOffset = this.stride * vi0;\\\\n    var x1 = this.vbf[baseOffset];\\\\n    var y1 = this.vbf[baseOffset + 1];\\\\n\\\\n    baseOffset = this.stride * vi1;\\\\n    var x2 = this.vbf[baseOffset];\\\\n    var y2 = this.vbf[baseOffset + 1];\\\\n\\\\n    baseOffset = this.stride * vi2;\\\\n    var x3 = this.vbf[baseOffset];\\\\n    var y3 = this.vbf[baseOffset + 1];\\\\n  }\\\\n\\\\n  callback.onOneTriangle(x1, y1, x2, y2, x3, y3, vpId);\\\\n};\\\\n\\\\nVertexBufferReader.prototype.decodeByType = function (geomType, vindex, layer, vpId, callback) {\\\\n  switch (geomType) {\\\\n    case VBB_GT_LINE_SEGMENT_MITER:\\\\n    case VBB_GT_LINE_SEGMENT_CAPPED:\\\\n    case VBB_GT_LINE_SEGMENT_CAPPED_START:\\\\n    case VBB_GT_LINE_SEGMENT_CAPPED_END:\\\\n    case VBB_GT_LINE_SEGMENT:this.decodeLineAt(vindex, layer, vpId, callback);break;\\\\n    case VBB_GT_ARC_CIRCULAR:this.decodeCircularArcAt(vindex, layer, vpId, callback);break;\\\\n    case VBB_GT_ARC_ELLIPTICAL:this.decodeEllipticalArcAt(vindex, layer, vpId, callback);break; //  compaction is not performed\\\\n    case VBB_GT_TEX_QUAD:this.decodeTexQuadAt(vindex, layer, vpId, callback);break;\\\\n    case VBB_GT_ONE_TRIANGLE:this.decodeOneTriangleAt(vindex, layer, vpId, callback);break;\\\\n    default:break;\\\\n  }\\\\n\\\\n};\\\\n\\\\n// used by the snapper and by the bounds finder\\\\nVertexBufferReader.prototype.enumGeomsForObject = function (dbId, callback)\\\\n{\\\\n  if (this.useInstancing) {\\\\n\\\\n    //When instancing is used, each geometry primitive is encoded into a single vertex\\\\n    //and there is no index buffer.\\\\n\\\\n    var i = 0;\\\\n    while (i < this.vcount) {\\\\n      var flag = this.getVertexFlagsAt(i);\\\\n\\\\n      //var vertexId  = (flag >>  0) & 0xff;        //  8 bit\\\\n      var geomType = flag >> 8 & 0xff; //  8 bit\\\\n      //var linePattern = (flag >> 16) & 0xff;      //  8 bit\\\\n      var layerId = this.getLayerIndexAt(i); // 16 bit\\\\n      var vpId = this.getViewportIndexAt(i); // 16 bit\\\\n      var visible = this.getDbIdAt(i) === dbId;\\\\n      if (visible) {\\\\n        this.decodeByType(geomType, i, layerId, vpId, callback);\\\\n      }\\\\n\\\\n      //In the case of instancing, there is no vertex duplication and no index buffer, we just\\\\n      //move to the next vertex\\\\n      i += 1;\\\\n    }\\\\n  } else {\\\\n\\\\n    var i = 0;\\\\n    while (i < this.ib.length) {\\\\n      var vi = this.ib[i];\\\\n      var flag = this.getVertexFlagsAt(vi);\\\\n\\\\n      //var vertexId    = (flag >>  0) & 0xff;        //  8 bit\\\\n      var geomType = flag >> 8 & 0xff; //  8 bit\\\\n      //var linePattern = (flag >> 16) & 0xff;        //  8 bit\\\\n      var layerId = this.getLayerIndexAt(vi); // 16 bit\\\\n      var vpId = this.getViewportIndexAt(vi); // 16 bit\\\\n\\\\n      var visible = this.getDbIdAt(vi) === dbId;\\\\n\\\\n      if (geomType === VBB_GT_TRIANGLE_INDEXED) {\\\\n\\\\n        //Triangles are encoded in three vertices (like a simple mesh) instead of 4 like everything else\\\\n\\\\n        if (visible) {\\\\n          this.decodeTriangleIndexed(this.ib[i], this.ib[i + 1], this.ib[i + 2], layerId, vpId, callback);\\\\n        }\\\\n\\\\n        //Advance to the next primitive\\\\n        i += 3;\\\\n\\\\n      } else {\\\\n\\\\n        if (visible) {\\\\n          this.decodeByType(geomType, vi, layerId, vpId, callback);\\\\n        }\\\\n\\\\n        //Skip duplicate vertices (when not using instancing and the geometry is not a simple polytriangle,\\\\n        //each vertex is listed four times with a different vertexId flag\\\\n        i += 6;\\\\n      }\\\\n\\\\n\\\\n    }\\\\n  }\\\\n\\\\n};\\\\n\\\\n\\\\n/**\\\\n * Used by the bounds finder.\\\\n * @param {array[number]} layerIdsVisible - list of layer ids that are visible\\\\n * @param {function} callback\\\\n * @private\\\\n */\\\\nVertexBufferReader.prototype.enumGeomsForVisibleLayer = function (layerIdsVisible, callback)\\\\n{\\\\n  var filter = function (dbId, layerId, viewportId) {\\\\n    return !layerIdsVisible || layerId !== 0 && layerIdsVisible.indexOf(layerId) !== -1;\\\\n  };\\\\n  this.enumGeoms(filter, callback);\\\\n};\\\\n\\\\n\\\\n/**\\\\n * Enumerate all geometric primitives that match the given filter.\\\\n * @param {function} [filter] - function(dbId, layerId, viewportId): Filter function to define a subset of primitives to include. By default, all geometry is included.\\\\n * @param {function} callback\\\\n * @private\\\\n */\\\\nVertexBufferReader.prototype.enumGeoms = function (filter, callback)\\\\n{\\\\n  if (this.useInstancing) {\\\\n\\\\n    //When instancing is used, each geometry primitive is encoded into a single vertex\\\\n    //and there is no index buffer.\\\\n\\\\n    var i = 0;\\\\n    while (i < this.vcount) {\\\\n      var flag = this.getVertexFlagsAt(i);\\\\n\\\\n      //var vertexId    = (flag >>  0) & 0xff;        //  8 bit\\\\n      var geomType = flag >> 8 & 0xff; //  8 bit\\\\n      //var linePattern = (flag >> 16) & 0xff;        //  8 bit\\\\n      var layerId = this.getLayerIndexAt(i); // 16 bit\\\\n      var vpId = this.getViewportIndexAt(i); // 16 bit\\\\n      var dbId = this.getDbIdAt(i);\\\\n\\\\n      // Get the bounds of only the visible layers. Ignore layer 0, which is always the page.\\\\n      // If layerId visibility is not set, consider the layer visible.\\\\n      var visible = !filter || filter(dbId, layerId, vpId);\\\\n      if (visible) {\\\\n        this.decodeByType(geomType, i, layerId, vpId, callback);\\\\n      }\\\\n\\\\n      //In the case of instancing, there is no vertex duplication and no index buffer, we just\\\\n      //move to the next vertex\\\\n      i += 1;\\\\n    }\\\\n  } else {\\\\n\\\\n    var i = 0;\\\\n    while (i < this.ib.length) {\\\\n      var vi = this.ib[i];\\\\n      var flag = this.getVertexFlagsAt(vi);\\\\n\\\\n      //var vertexId    = (flag >>  0) & 0xff;        //  8 bit\\\\n      var geomType = flag >> 8 & 0xff; //  8 bit\\\\n      //var linePattern = (flag >> 16) & 0xff;        //  8 bit\\\\n      var layerId = this.getLayerIndexAt(vi); // 16 bit\\\\n      var vpId = this.getViewportIndexAt(vi); // 16 bit\\\\n      var dbId = this.getDbIdAt(vi);\\\\n\\\\n      // Get the bounds of only the visible layers. Ignore layer 0, which is always the page.\\\\n      // If layerId visibility is not set, consider the layer visible.\\\\n      var visible = !filter || filter(dbId, layerId, vpId);\\\\n\\\\n      if (geomType === VBB_GT_TRIANGLE_INDEXED) {\\\\n\\\\n        //Triangles are encoded in three vertices (like a simple mesh) instead of 4 like everything else\\\\n\\\\n        if (visible) {\\\\n          this.decodeTriangleIndexed(this.ib[i], this.ib[i + 1], this.ib[i + 2], layerId, vpId, callback);\\\\n        }\\\\n\\\\n        //Advance to the next primitive\\\\n        i += 3;\\\\n\\\\n      } else {\\\\n        if (visible) {\\\\n          this.decodeByType(geomType, vi, layerId, vpId, callback);\\\\n        }\\\\n        //Skip duplicate vertices (when not using instancing and the geometry is not a simple polytriangle,\\\\n        //each vertex is listed four times with a different vertexId flag\\\\n        i += 6;\\\\n      }\\\\n\\\\n    }\\\\n  }\\\\n\\\\n};//# sourceURL=[module]\\\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM7TUFDL0MsSUFBSUwsSUFBSSxHQUFVLElBQUksQ0FBQzNELFNBQVMsQ0FBQ2dFLEVBQUUsQ0FBQzs7TUFFcEM7TUFDQTtNQUNBLElBQUlELE9BQU8sR0FBRyxDQUFDSSxNQUFNLElBQUlBLE1BQU0sQ0FBQ1IsSUFBSSxFQUFFRyxPQUFPLEVBQUV0RCxJQUFJLENBQUM7O01BRXBELElBQUlpRCxRQUFRLEtBQUs5Ryx1QkFBdUIsRUFBRTs7UUFFdEM7O1FBRUEsSUFBSW9ILE9BQU8sRUFBRTtVQUNULElBQUksQ0FBQ1gscUJBQXFCLENBQUMsSUFBSSxDQUFDOUUsRUFBRSxDQUFDc0YsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDdEYsRUFBRSxDQUFDc0YsQ0FBQyxHQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQ3RGLEVBQUUsQ0FBQ3NGLENBQUMsR0FBQyxDQUFDLENBQUMsRUFBRUUsT0FBTyxFQUFFdEQsSUFBSSxFQUFFQyxRQUFRLENBQUM7UUFDL0Y7O1FBRUE7UUFDQW1ELENBQUMsSUFBSSxDQUFDOztNQUVWLENBQUMsTUFBTTtRQUNILElBQUlHLE9BQU8sRUFBRTtVQUNULElBQUksQ0FBQ1AsWUFBWSxDQUFDQyxRQUFRLEVBQUVPLEVBQUUsRUFBRUYsT0FBTyxFQUFFdEQsSUFBSSxFQUFFQyxRQUFRLENBQUM7UUFDNUQ7UUFDQTtRQUNBO1FBQ0FtRCxDQUFDLElBQUksQ0FBQztNQUNWOztJQUVKO0VBQ0o7O0FBRUosQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9zcmMvd2dzL3NjZW5lL1ZlcnRleEJ1ZmZlclJlYWRlci5qcz82YzI2Il0sInNvdXJjZXNDb250ZW50IjpbIlxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBUQVUgPSBNYXRoLlBJICogMjtcblxuLy9Db25zdGFudHMgZHVwbGljYXRlZCBmcm9tIHNyYy9sbXZ0ay9WZXJ0ZXhCdWZmZXJCdWlsZGVyLmpzXG52YXIgVkJCX0dUX1RSSUFOR0xFX0lOREVYRUQgICA9IDAsXG4gICAgVkJCX0dUX0xJTkVfU0VHTUVOVCAgICAgICA9IDEsXG4gICAgVkJCX0dUX0FSQ19DSVJDVUxBUiAgICAgICA9IDIsXG4gICAgVkJCX0dUX0FSQ19FTExJUFRJQ0FMICAgICA9IDMsXG4gICAgVkJCX0dUX1RFWF9RVUFEICAgICAgICAgICA9IDQsXG4gICAgVkJCX0dUX09ORV9UUklBTkdMRSAgICAgICA9IDUsXG4gICAgVkJCX0dUX0xJTkVfU0VHTUVOVF9DQVBQRUQgPSA4LFxuICAgIFZCQl9HVF9MSU5FX1NFR01FTlRfQ0FQUEVEX1NUQVJUID0gOSxcbiAgICBWQkJfR1RfTElORV9TRUdNRU5UX0NBUFBFRF9FTkQgPSAxMCxcbiAgICBWQkJfR1RfTElORV9TRUdNRU5UX01JVEVSID0gMTE7XG5cbnZhciBWQkJfQ09MT1JfT0ZGU0VUICAgID0gNixcbiAgICBWQkJfREJJRF9PRkZTRVQgICAgID0gNyxcbiAgICBWQkJfRkxBR1NfT0ZGU0VUICAgID0gOCxcbiAgICBWQkJfTEFZRVJfVlBfT0ZGU0VUID0gOTtcblxuLyoqXG4gKiBJbml0aWFsaXplcyBhIFwidmlld1wiIGludG8gYSBjb21wYWN0ZWQgaW50ZXJsZWF2ZWQgdmVydGV4IGJ1ZmZlciBhcnJheSB1c2luZyBvdXIgY3VzdG9tIDJEIHZlcnRleCBsYXlvdXQuXG4gKiBTZWUgc3JjL2xtdnRrL1ZlcnRleEJ1ZmZlckJ1aWxkZXIuanMgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7QnVmZmVyR2VvbWV0cnl8TWVzaERhdGF9IGdlb21ldHJ5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBWZXJ0ZXhCdWZmZXJSZWFkZXIoZ2VvbWV0cnkpXG57XG4gICAgdGhpcy52YiAgPSBnZW9tZXRyeS52Yi5idWZmZXI7XG4gICAgdGhpcy5zdHJpZGUgPSBnZW9tZXRyeS52YnN0cmlkZTtcblxuICAgIHRoaXMudmJmID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnZiKTtcbiAgICB0aGlzLnZiaSA9IG5ldyBJbnQzMkFycmF5KHRoaXMudmIpO1xuICAgIHRoaXMudmJzID0gbmV3IFVpbnQxNkFycmF5KHRoaXMudmIpO1xuXG4gICAgdGhpcy5pYiA9IGdlb21ldHJ5LmliO1xuXG4gICAgdGhpcy52Y291bnQgPSB0aGlzLnZiZi5sZW5ndGggLyB0aGlzLnN0cmlkZTtcblxuICAgIHRoaXMudXNlSW5zdGFuY2luZyA9IGdlb21ldHJ5Lm51bUluc3RhbmNlcyA+IDA7XG4gICAgdGhpcy51c2VDb21wYWN0QnVmZmVycyA9IGdlb21ldHJ5LnVucGFja1hmb3JtO1xuICAgIHRoaXMudGV4RGF0YSA9IHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMgJiYgZ2VvbWV0cnkudElkQ29sb3I/LmltYWdlPy5kYXRhICYmIG5ldyBVaW50MzJBcnJheShnZW9tZXRyeS50SWRDb2xvci5pbWFnZS5kYXRhLmJ1ZmZlcik7XG5cbiAgICAvLyBEb2VzIHRoZSBnZW9tIHVzZSBpbnRlcmxlYXZlZCB2Yj9cbiAgICAvLyBVc2VkIGJ5IEZyYWdtZW50TGlzdC51cGRhdGVWZXJ0ZXhCdWZmZXJGb3JUaGVtaW5nQW5kR2hvc3Rpbmcgd2hpY2ggb25seVxuICAgIC8vIHdvcmtlcyB3aXRoIGludGVybGVhdmVkIHZiXG4gICAgdGhpcy5pc0ludGVybGVhdmVkVmIgPSAoKCkgPT4ge1xuICAgICAgICBjb25zdCBhdHRyID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgaWYgKCFhdHRyKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgYXRMYXllclZwID0gYXR0ci5sYXllclZwNGI7XG4gICAgICAgIGNvbnN0IGF0RmxhZ3MgICA9IGF0dHIuZmxhZ3M0YjtcblxuICAgICAgICBpZiAodGhpcy51c2VDb21wYWN0QnVmZmVycykge1xuICAgICAgICAgICAgY29uc3QgYXRJZENvbG9ycyAgPSBhdHRyLnV2SWRDb2xvcjtcbiAgICAgICAgICAgIHJldHVybiBhdElkQ29sb3JzICYmIGF0TGF5ZXJWcCAmJiBhdEZsYWdzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgYXRDb2xvcnMgID0gYXR0ci5jb2xvcjRiO1xuICAgICAgICAgICAgY29uc3QgYXRJZHMgICAgID0gYXR0ci5kYklkNGI7XG4gICAgICAgICAgICByZXR1cm4gYXRDb2xvcnMgJiYgYXRJZHMgJiYgYXRMYXllclZwICYmIGF0RmxhZ3M7XG4gICAgICAgIH1cbiAgICB9KSgpO1xufTtcblxuVmVydGV4QnVmZmVyUmVhZGVyLnByb3RvdHlwZS5nZXREYklkQXQgPSBmdW5jdGlvbih2aW5kZXgpIHtcbiAgICBpZih0aGlzLnRleERhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4RGF0YVt0aGlzLnZic1t2aW5kZXgqdGhpcy5zdHJpZGUgKiAyICsgVkJCX0RCSURfT0ZGU0VUXV07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnZiaVt2aW5kZXgqdGhpcy5zdHJpZGUgKyBWQkJfREJJRF9PRkZTRVRdO1xufTtcblxuVmVydGV4QnVmZmVyUmVhZGVyLnByb3RvdHlwZS5nZXRDb2xvckF0ID0gZnVuY3Rpb24odmluZGV4KSB7XG4gICAgaWYodGhpcy50ZXhEYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleERhdGFbdGhpcy52YnNbdmluZGV4KnRoaXMuc3RyaWRlICogMiArIFZCQl9DT0xPUl9PRkZTRVRdXTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudmJpW3ZpbmRleCp0aGlzLnN0cmlkZSArIFZCQl9DT0xPUl9PRkZTRVRdO1xufTtcblxuVmVydGV4QnVmZmVyUmVhZGVyLnByb3RvdHlwZS5nZXRWZXJ0ZXhGbGFnc0F0ID0gZnVuY3Rpb24odmluZGV4KSB7XG4gICAgaWYodGhpcy50ZXhEYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZiaVt2aW5kZXgqdGhpcy5zdHJpZGUgKyA0XTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudmJpW3ZpbmRleCp0aGlzLnN0cmlkZSArIFZCQl9GTEFHU19PRkZTRVRdO1xufTtcblxuVmVydGV4QnVmZmVyUmVhZGVyLnByb3RvdHlwZS5nZXRMYXllckluZGV4QXQgPSBmdW5jdGlvbih2aW5kZXgpIHtcbiAgICBpZih0aGlzLnRleERhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmJpW3ZpbmRleCp0aGlzLnN0cmlkZSArIDVdICYgMHhmZmZmO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy52YmlbdmluZGV4KnRoaXMuc3RyaWRlICsgVkJCX0xBWUVSX1ZQX09GRlNFVF0gJiAweGZmZmY7XG59O1xuXG5WZXJ0ZXhCdWZmZXJSZWFkZXIucHJvdG90eXBlLmdldFZpZXdwb3J0SW5kZXhBdCA9IGZ1bmN0aW9uKHZpbmRleCkge1xuICAgIGlmKHRoaXMudGV4RGF0YSkge1xuICAgICAgICByZXR1cm4gKHRoaXMudmJpW3ZpbmRleCp0aGlzLnN0cmlkZSArIDVdID4+IDE2KSAmIDB4ZmZmZjtcbiAgICB9XG4gICAgcmV0dXJuICh0aGlzLnZiaVt2aW5kZXgqdGhpcy5zdHJpZGUgKyBWQkJfTEFZRVJfVlBfT0ZGU0VUXSA+PiAxNikgJiAweGZmZmY7XG59O1xuXG5WZXJ0ZXhCdWZmZXJSZWFkZXIucHJvdG90eXBlLmRlY29kZUxpbmVBdCA9IGZ1bmN0aW9uKHZpbmRleCwgbGF5ZXIsIHZwSWQsIGNhbGxiYWNrKVxue1xuICAgIGlmICghY2FsbGJhY2sub25MaW5lU2VnbWVudCkgeyByZXR1cm47IH1cblxuICAgIGlmKHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMpIHtcbiAgICAgICAgdmFyIHZlcnRleE9mZnNldCA9IHRoaXMuc3RyaWRlICogdmluZGV4ICogMjtcbiAgICAgICAgdmFyIHgwICAgICAgICAgPSAoKHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMueCAqIHRoaXMudmJzW3ZlcnRleE9mZnNldF0pIC8gNjU1MzUpICsgdGhpcy51c2VDb21wYWN0QnVmZmVycy56O1xuICAgICAgICB2YXIgeTAgICAgICAgICA9ICgodGhpcy51c2VDb21wYWN0QnVmZmVycy55ICogdGhpcy52YnNbdmVydGV4T2Zmc2V0KzFdKSAvIDY1NTM1KSArIHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMudztcbiAgICAgICAgdmFyIGFuZ2xlICAgICAgPSAoKHRoaXMudmJzW3ZlcnRleE9mZnNldCsyXSAvIDY1NTM1KSAqIFRBVSkgLSBNYXRoLlBJO1xuICAgICAgICB2YXIgZGlzdEFsb25nICA9ICh0aGlzLnZic1t2ZXJ0ZXhPZmZzZXQrM10gLyA2NTUzNSkgKiBNYXRoLm1heCh0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLngsIHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMueSk7XG4gICAgICAgIHZhciBsaW5lV2lkdGggID0gKCgodGhpcy52YnNbdmVydGV4T2Zmc2V0KzRdKSAvIDMyNzY3KSAqIE1hdGgubWF4KHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMueCwgdGhpcy51c2VDb21wYWN0QnVmZmVycy55KSkgKiAyLjA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGJhc2VPZmZzZXQgPSB0aGlzLnN0cmlkZSAqIHZpbmRleDtcbiAgICAgICAgdmFyIHgwICAgICAgICAgPSB0aGlzLnZiZltiYXNlT2Zmc2V0XTtcbiAgICAgICAgdmFyIHkwICAgICAgICAgPSB0aGlzLnZiZltiYXNlT2Zmc2V0KzFdO1xuICAgICAgICB2YXIgYW5nbGUgICAgICA9IHRoaXMudmJmW2Jhc2VPZmZzZXQrMl0gKiBUQVUgLSBNYXRoLlBJOyAvLyBkZWNvZGUgYW5nbGU6IHNlZSBWZXJ0ZXhCdWZmZXJCdWlsZGVyLmFkZFZlcnRleExpbmVcbiAgICAgICAgdmFyIGRpc3RBbG9uZyAgPSB0aGlzLnZiZltiYXNlT2Zmc2V0KzNdO1xuICAgICAgICB2YXIgbGluZVdpZHRoICA9IHRoaXMudmJmW2Jhc2VPZmZzZXQrNF0gKiAyLjA7XG4gICAgfVxuXG4gICAgdmFyIHgxID0geDAgKyBkaXN0QWxvbmcgKiBNYXRoLmNvcyhhbmdsZSk7XG4gICAgdmFyIHkxID0geTAgKyBkaXN0QWxvbmcgKiBNYXRoLnNpbihhbmdsZSk7XG5cbiAgICBjYWxsYmFjay5vbkxpbmVTZWdtZW50KHgwLCB5MCwgeDEsIHkxLCB2cElkLCBsaW5lV2lkdGgpO1xufTtcblxuVmVydGV4QnVmZmVyUmVhZGVyLnByb3RvdHlwZS5kZWNvZGVDaXJjdWxhckFyY0F0ID0gZnVuY3Rpb24odmluZGV4LCBsYXllciwgdnBJZCwgY2FsbGJhY2spXG57XG4gICAgaWYgKCFjYWxsYmFjay5vbkNpcmN1bGFyQXJjKSB7IHJldHVybjsgfVxuXG4gICAgaWYodGhpcy51c2VDb21wYWN0QnVmZmVycykge1xuICAgICAgICB2YXIgdmVydGV4T2Zmc2V0ID0gdGhpcy5zdHJpZGUgKiB2aW5kZXggKiAyO1xuICAgICAgICB2YXIgY3ggICAgICAgICA9ICgodGhpcy51c2VDb21wYWN0QnVmZmVycy54ICogdGhpcy52YnNbdmVydGV4T2Zmc2V0XSkgLyA2NTUzNSkgKyB0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLno7XG4gICAgICAgIHZhciBjeSAgICAgICAgID0gKCh0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLnkgKiB0aGlzLnZic1t2ZXJ0ZXhPZmZzZXQrMV0pIC8gNjU1MzUpICsgdGhpcy51c2VDb21wYWN0QnVmZmVycy53O1xuICAgICAgICB2YXIgc3RhcnQgICAgICA9ICh0aGlzLnZic1t2ZXJ0ZXhPZmZzZXQrMl0gLyA2NTUzNSkgKiBUQVU7XG4gICAgICAgIHZhciBlbmQgICAgICAgID0gKHRoaXMudmJzW3ZlcnRleE9mZnNldCszXSAvIDY1NTM1KSAqIFRBVTtcbiAgICAgICAgdmFyIHJhZGl1cyAgICAgPSAodGhpcy52YnNbdmVydGV4T2Zmc2V0KzVdIC8gNjU1MzUpICogTWF0aC5tYXgodGhpcy51c2VDb21wYWN0QnVmZmVycy54LCB0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBiYXNlT2Zmc2V0ID0gdGhpcy5zdHJpZGUgKiB2aW5kZXg7XG4gICAgICAgIHZhciBjeCAgICAgICAgID0gdGhpcy52YmZbYmFzZU9mZnNldF07XG4gICAgICAgIHZhciBjeSAgICAgICAgID0gdGhpcy52YmZbYmFzZU9mZnNldCsxXTtcbiAgICAgICAgdmFyIHN0YXJ0ICAgICAgPSB0aGlzLnZiZltiYXNlT2Zmc2V0KzJdICogVEFVO1xuICAgICAgICB2YXIgZW5kICAgICAgICA9IHRoaXMudmJmW2Jhc2VPZmZzZXQrM10gKiBUQVU7XG4gICAgICAgIHZhciByYWRpdXMgICAgID0gdGhpcy52YmZbYmFzZU9mZnNldCs1XTtcbiAgICB9XG5cbiAgICBjYWxsYmFjay5vbkNpcmN1bGFyQXJjKGN4LCBjeSwgc3RhcnQsIGVuZCwgcmFkaXVzLCB2cElkKTtcbn07XG5cblZlcnRleEJ1ZmZlclJlYWRlci5wcm90b3R5cGUuZGVjb2RlRWxsaXB0aWNhbEFyY0F0ID0gZnVuY3Rpb24odmluZGV4LCBsYXllciwgdnBJZCwgY2FsbGJhY2spXG57XG4gICAgaWYgKCFjYWxsYmFjay5vbkVsbGlwdGljYWxBcmMpIHsgcmV0dXJuOyB9XG5cbiAgICAvLyBOb3RlOiBjb21wYWN0aW9uIHdpbGwgbm90IGhhcHBlbiBmb3IgdGhlIFZCQl9HVF9BUkNfRUxMSVBUSUNBTFxuICAgIHZhciBiYXNlT2Zmc2V0ID0gdGhpcy5zdHJpZGUgKiB2aW5kZXg7XG4gICAgdmFyIGN4ICAgICAgICAgPSB0aGlzLnZiZltiYXNlT2Zmc2V0XTtcbiAgICB2YXIgY3kgICAgICAgICA9IHRoaXMudmJmW2Jhc2VPZmZzZXQrMV07XG4gICAgdmFyIHN0YXJ0ICAgICAgPSB0aGlzLnZiZltiYXNlT2Zmc2V0KzJdICogVEFVO1xuICAgIHZhciBlbmQgICAgICAgID0gdGhpcy52YmZbYmFzZU9mZnNldCszXSAqIFRBVTtcbiAgICB2YXIgbWFqb3IgICAgICA9IHRoaXMudmJmW2Jhc2VPZmZzZXQrNV07XG4gICAgdmFyIG1pbm9yICAgICAgPSB0aGlzLnZiZltiYXNlT2Zmc2V0KzEwXTtcbiAgICB2YXIgdGlsdCAgICAgICA9IHRoaXMudmJmW2Jhc2VPZmZzZXQrMTFdO1xuXG4gICAgY2FsbGJhY2sub25FbGxpcHRpY2FsQXJjKGN4LCBjeSwgc3RhcnQsIGVuZCwgbWFqb3IsIG1pbm9yLCB0aWx0LCB2cElkKTtcbn07XG5cblZlcnRleEJ1ZmZlclJlYWRlci5wcm90b3R5cGUuZGVjb2RlVGV4UXVhZEF0ID0gZnVuY3Rpb24odmluZGV4LCBsYXllciwgdnBJZCwgY2FsbGJhY2spXG57XG4gICAgaWYgKCFjYWxsYmFjay5vblRleFF1YWQpIHsgcmV0dXJuOyB9XG5cbiAgICBpZih0aGlzLnVzZUNvbXBhY3RCdWZmZXJzKSB7XG4gICAgICAgIHZhciB2ZXJ0ZXhPZmZzZXQgPSB0aGlzLnN0cmlkZSAqIHZpbmRleCAqIDI7XG4gICAgICAgIHZhciBjZW50ZXJYICAgID0gKCh0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLnggKiB0aGlzLnZic1t2ZXJ0ZXhPZmZzZXRdKSAvIDY1NTM1KSArIHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMuejtcbiAgICAgICAgdmFyIGNlbnRlclkgICAgPSAoKHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMueSAqIHRoaXMudmJzW3ZlcnRleE9mZnNldCsxXSkgLyA2NTUzNSkgKyB0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLnc7XG4gICAgICAgIHZhciByb3RhdGlvbiAgID0gKHRoaXMudmJzW3ZlcnRleE9mZnNldCsyXSAvIDY1NTM1KSAqIFRBVTtcbiAgICAgICAgdmFyIHdpZHRoICAgICAgPSAodGhpcy52YnNbdmVydGV4T2Zmc2V0KzNdIC8gNjU1MzUpICogTWF0aC5tYXgodGhpcy51c2VDb21wYWN0QnVmZmVycy54LCB0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLnkpO1xuICAgICAgICB2YXIgaGVpZ2h0ICAgICA9ICh0aGlzLnZic1t2ZXJ0ZXhPZmZzZXQrNF0gLyA2NTUzNSkgKiBNYXRoLm1heCh0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLngsIHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMueSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGJhc2VPZmZzZXQgPSB0aGlzLnN0cmlkZSAqIHZpbmRleDtcbiAgICAgICAgdmFyIGNlbnRlclggICAgPSB0aGlzLnZiZltiYXNlT2Zmc2V0XTtcbiAgICAgICAgdmFyIGNlbnRlclkgICAgPSB0aGlzLnZiZltiYXNlT2Zmc2V0KzFdO1xuICAgICAgICAvLyB5ZXMsIHRoaXMgaXMgaW4gYSBkaWZmZXJlbnQgb3JkZXIgdGhhbiBvdXRwdXQsIGZvbGxvd2luZyBWZXJ0ZXhCdWZmZXJCdWlsZGVyJ3Mgb3JkZXJcbiAgICAgICAgdmFyIHJvdGF0aW9uICAgPSB0aGlzLnZiZltiYXNlT2Zmc2V0KzJdICogVEFVO1xuICAgICAgICB2YXIgd2lkdGggICAgICA9IHRoaXMudmJmW2Jhc2VPZmZzZXQrM107XG4gICAgICAgIHZhciBoZWlnaHQgICAgID0gdGhpcy52YmZbYmFzZU9mZnNldCs0XTtcbiAgICB9XG5cbiAgICBjYWxsYmFjay5vblRleFF1YWQoY2VudGVyWCwgY2VudGVyWSwgd2lkdGgsIGhlaWdodCwgcm90YXRpb24sIHZwSWQpO1xufTtcblxuVmVydGV4QnVmZmVyUmVhZGVyLnByb3RvdHlwZS5kZWNvZGVPbmVUcmlhbmdsZUF0ID0gZnVuY3Rpb24odmluZGV4LCBsYXllciwgdnBJZCwgY2FsbGJhY2spXG57XG4gICAgaWYgKCFjYWxsYmFjay5vbk9uZVRyaWFuZ2xlKSB7IHJldHVybjsgfVxuXG4gICAgaWYodGhpcy51c2VDb21wYWN0QnVmZmVycykge1xuICAgICAgICB2YXIgdmVydGV4T2Zmc2V0ID0gdGhpcy5zdHJpZGUgKiB2aW5kZXggKiAyO1xuICAgICAgICB2YXIgeDEgICAgICAgICA9ICgodGhpcy51c2VDb21wYWN0QnVmZmVycy54ICogdGhpcy52YnNbdmVydGV4T2Zmc2V0XSkgLyA2NTUzNSkgKyB0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLno7XG4gICAgICAgIHZhciB5MSAgICAgICAgID0gKCh0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLnkgKiB0aGlzLnZic1t2ZXJ0ZXhPZmZzZXQrMV0pIC8gNjU1MzUpICsgdGhpcy51c2VDb21wYWN0QnVmZmVycy53O1xuICAgICAgICB2YXIgeDIgICAgICAgICA9ICgodGhpcy51c2VDb21wYWN0QnVmZmVycy54ICogdGhpcy52YnNbdmVydGV4T2Zmc2V0KzJdKSAvIDY1NTM1KSArIHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMuejtcbiAgICAgICAgdmFyIHkyICAgICAgICAgPSAoKHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMueSAqIHRoaXMudmJzW3ZlcnRleE9mZnNldCszXSkgLyA2NTUzNSkgKyB0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLnc7XG4gICAgICAgIHZhciB4MyAgICAgICAgID0gKCh0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLnggKiB0aGlzLnZic1t2ZXJ0ZXhPZmZzZXQrNF0pIC8gNjU1MzUpICsgdGhpcy51c2VDb21wYWN0QnVmZmVycy56O1xuICAgICAgICB2YXIgeTMgICAgICAgICA9ICgodGhpcy51c2VDb21wYWN0QnVmZmVycy55ICogdGhpcy52YnNbdmVydGV4T2Zmc2V0KzVdKSAvIDY1NTM1KSArIHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMudztcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYmFzZU9mZnNldCA9IHRoaXMuc3RyaWRlICogdmluZGV4O1xuICAgICAgICB2YXIgeDEgICAgICAgICA9IHRoaXMudmJmW2Jhc2VPZmZzZXRdO1xuICAgICAgICB2YXIgeTEgICAgICAgICA9IHRoaXMudmJmW2Jhc2VPZmZzZXQrMV07XG4gICAgICAgIHZhciB4MiAgICAgICAgID0gdGhpcy52YmZbYmFzZU9mZnNldCsyXTtcbiAgICAgICAgdmFyIHkyICAgICAgICAgPSB0aGlzLnZiZltiYXNlT2Zmc2V0KzNdO1xuICAgICAgICB2YXIgeDMgICAgICAgICA9IHRoaXMudmJmW2Jhc2VPZmZzZXQrNF07XG4gICAgICAgIHZhciB5MyAgICAgICAgID0gdGhpcy52YmZbYmFzZU9mZnNldCs1XTtcbiAgICB9XG5cbiAgICBjYWxsYmFjay5vbk9uZVRyaWFuZ2xlKHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHZwSWQpO1xufTtcblxuXG5WZXJ0ZXhCdWZmZXJSZWFkZXIucHJvdG90eXBlLmRlY29kZVRyaWFuZ2xlSW5kZXhlZCA9IGZ1bmN0aW9uKHZpMCwgdmkxLCB2aTIsIGxheWVyLCB2cElkLCBjYWxsYmFjaylcbntcbiAgICBpZiAoIWNhbGxiYWNrLm9uT25lVHJpYW5nbGUpIHsgcmV0dXJuOyB9XG5cbiAgICBpZih0aGlzLnVzZUNvbXBhY3RCdWZmZXJzKSB7XG4gICAgICAgIHZhciB2ZXJ0ZXhPZmZzZXQgPSB0aGlzLnN0cmlkZSAqIHZpMCAqIDI7XG4gICAgICAgIHZhciB4MSAgICAgICAgID0gKCh0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLnggKiB0aGlzLnZic1t2ZXJ0ZXhPZmZzZXRdKSAvIDY1NTM1KSArIHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMuejtcbiAgICAgICAgdmFyIHkxICAgICAgICAgPSAoKHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMueSAqIHRoaXMudmJzW3ZlcnRleE9mZnNldCsxXSkgLyA2NTUzNSkgKyB0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLnc7XG5cbiAgICAgICAgdmVydGV4T2Zmc2V0ICAgPSB0aGlzLnN0cmlkZSAqIHZpMSAqIDI7XG4gICAgICAgIHZhciB4MiAgICAgICAgID0gKCh0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLnggKiB0aGlzLnZic1t2ZXJ0ZXhPZmZzZXRdKSAvIDY1NTM1KSArIHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMuejtcbiAgICAgICAgdmFyIHkyICAgICAgICAgPSAoKHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMueSAqIHRoaXMudmJzW3ZlcnRleE9mZnNldCsxXSkgLyA2NTUzNSkgKyB0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLnc7XG5cbiAgICAgICAgdmVydGV4T2Zmc2V0ICAgPSB0aGlzLnN0cmlkZSAqIHZpMiAqIDI7XG4gICAgICAgIHZhciB4MyAgICAgICAgID0gKCh0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLnggKiB0aGlzLnZic1t2ZXJ0ZXhPZmZzZXRdKSAvIDY1NTM1KSArIHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMuejtcbiAgICAgICAgdmFyIHkzICAgICAgICAgPSAoKHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMueSAqIHRoaXMudmJzW3ZlcnRleE9mZnNldCsxXSkgLyA2NTUzNSkgKyB0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLnc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGJhc2VPZmZzZXQgPSB0aGlzLnN0cmlkZSAqIHZpMDtcbiAgICAgICAgdmFyIHgxICAgICAgICAgPSB0aGlzLnZiZltiYXNlT2Zmc2V0XTtcbiAgICAgICAgdmFyIHkxICAgICAgICAgPSB0aGlzLnZiZltiYXNlT2Zmc2V0KzFdO1xuXG4gICAgICAgIGJhc2VPZmZzZXQgICAgID0gdGhpcy5zdHJpZGUgKiB2aTE7XG4gICAgICAgIHZhciB4MiAgICAgICAgID0gdGhpcy52YmZbYmFzZU9mZnNldF07XG4gICAgICAgIHZhciB5MiAgICAgICAgID0gdGhpcy52YmZbYmFzZU9mZnNldCsxXTtcblxuICAgICAgICBiYXNlT2Zmc2V0ICAgICA9IHRoaXMuc3RyaWRlICogdmkyO1xuICAgICAgICB2YXIgeDMgICAgICAgICA9IHRoaXMudmJmW2Jhc2VPZmZzZXRdO1xuICAgICAgICB2YXIgeTMgICAgICAgICA9IHRoaXMudmJmW2Jhc2VPZmZzZXQrMV07XG4gICAgfVxuXG4gICAgY2FsbGJhY2sub25PbmVUcmlhbmdsZSh4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB2cElkKTtcbn07XG5cblZlcnRleEJ1ZmZlclJlYWRlci5wcm90b3R5cGUuZGVjb2RlQnlUeXBlID0gZnVuY3Rpb24oZ2VvbVR5cGUsIHZpbmRleCwgbGF5ZXIsIHZwSWQsIGNhbGxiYWNrKSB7XG4gICAgc3dpdGNoIChnZW9tVHlwZSkge1xuICAgICAgICBjYXNlIFZCQl9HVF9MSU5FX1NFR01FTlRfTUlURVI6XG4gICAgICAgIGNhc2UgVkJCX0dUX0xJTkVfU0VHTUVOVF9DQVBQRUQ6XG4gICAgICAgIGNhc2UgVkJCX0dUX0xJTkVfU0VHTUVOVF9DQVBQRURfU1RBUlQ6XG4gICAgICAgIGNhc2UgVkJCX0dUX0xJTkVfU0VHTUVOVF9DQVBQRURfRU5EOlxuICAgICAgICBjYXNlIFZCQl9HVF9MSU5FX1NFR01FTlQ6ICAgICAgICB0aGlzLmRlY29kZUxpbmVBdCggICAgICAgICB2aW5kZXgsIGxheWVyLCB2cElkLCBjYWxsYmFjayk7IGJyZWFrO1xuICAgICAgICBjYXNlIFZCQl9HVF9BUkNfQ0lSQ1VMQVI6ICAgICAgICB0aGlzLmRlY29kZUNpcmN1bGFyQXJjQXQoICB2aW5kZXgsIGxheWVyLCB2cElkLCBjYWxsYmFjayk7IGJyZWFrO1xuICAgICAgICBjYXNlIFZCQl9HVF9BUkNfRUxMSVBUSUNBTDogICAgICB0aGlzLmRlY29kZUVsbGlwdGljYWxBcmNBdCh2aW5kZXgsIGxheWVyLCB2cElkLCBjYWxsYmFjayk7IGJyZWFrOyAvLyAgY29tcGFjdGlvbiBpcyBub3QgcGVyZm9ybWVkXG4gICAgICAgIGNhc2UgVkJCX0dUX1RFWF9RVUFEOiAgICAgICAgICAgIHRoaXMuZGVjb2RlVGV4UXVhZEF0KCAgICAgIHZpbmRleCwgbGF5ZXIsIHZwSWQsIGNhbGxiYWNrKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgVkJCX0dUX09ORV9UUklBTkdMRTogICAgICAgIHRoaXMuZGVjb2RlT25lVHJpYW5nbGVBdCggIHZpbmRleCwgbGF5ZXIsIHZwSWQsIGNhbGxiYWNrKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6ICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cblxufVxuXG4vLyB1c2VkIGJ5IHRoZSBzbmFwcGVyIGFuZCBieSB0aGUgYm91bmRzIGZpbmRlclxuVmVydGV4QnVmZmVyUmVhZGVyLnByb3RvdHlwZS5lbnVtR2VvbXNGb3JPYmplY3QgPSBmdW5jdGlvbihkYklkLCBjYWxsYmFjaylcbntcbiAgICBpZiAodGhpcy51c2VJbnN0YW5jaW5nKSB7XG5cbiAgICAgICAgLy9XaGVuIGluc3RhbmNpbmcgaXMgdXNlZCwgZWFjaCBnZW9tZXRyeSBwcmltaXRpdmUgaXMgZW5jb2RlZCBpbnRvIGEgc2luZ2xlIHZlcnRleFxuICAgICAgICAvL2FuZCB0aGVyZSBpcyBubyBpbmRleCBidWZmZXIuXG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHRoaXMudmNvdW50KSB7XG4gICAgICAgICAgICB2YXIgZmxhZyA9IHRoaXMuZ2V0VmVydGV4RmxhZ3NBdChpKTtcblxuICAgICAgICAgICAgLy92YXIgdmVydGV4SWQgID0gKGZsYWcgPj4gIDApICYgMHhmZjsgICAgICAgIC8vICA4IGJpdFxuICAgICAgICAgICAgdmFyIGdlb21UeXBlICAgID0gKGZsYWcgPj4gIDgpICYgMHhmZjsgICAgICAgIC8vICA4IGJpdFxuICAgICAgICAgICAgLy92YXIgbGluZVBhdHRlcm4gPSAoZmxhZyA+PiAxNikgJiAweGZmOyAgICAgIC8vICA4IGJpdFxuICAgICAgICAgICAgdmFyIGxheWVySWQgICAgID0gdGhpcy5nZXRMYXllckluZGV4QXQoaSk7ICAgIC8vIDE2IGJpdFxuICAgICAgICAgICAgdmFyIHZwSWQgICAgICAgID0gdGhpcy5nZXRWaWV3cG9ydEluZGV4QXQoaSk7IC8vIDE2IGJpdFxuICAgICAgICAgICAgdmFyIHZpc2libGUgICAgID0gdGhpcy5nZXREYklkQXQoaSkgPT09IGRiSWQ7XG4gICAgICAgICAgICBpZiAodmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVjb2RlQnlUeXBlKGdlb21UeXBlLCBpLCBsYXllcklkLCB2cElkLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vSW4gdGhlIGNhc2Ugb2YgaW5zdGFuY2luZywgdGhlcmUgaXMgbm8gdmVydGV4IGR1cGxpY2F0aW9uIGFuZCBubyBpbmRleCBidWZmZXIsIHdlIGp1c3RcbiAgICAgICAgICAgIC8vbW92ZSB0byB0aGUgbmV4dCB2ZXJ0ZXhcbiAgICAgICAgICAgIGkgKz0gMTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHRoaXMuaWIubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgdmkgPSB0aGlzLmliW2ldO1xuICAgICAgICAgICAgdmFyIGZsYWcgPSB0aGlzLmdldFZlcnRleEZsYWdzQXQodmkpO1xuXG4gICAgICAgICAgICAvL3ZhciB2ZXJ0ZXhJZCAgICA9IChmbGFnID4+ICAwKSAmIDB4ZmY7ICAgICAgICAvLyAgOCBiaXRcbiAgICAgICAgICAgIHZhciBnZW9tVHlwZSAgICA9IChmbGFnID4+ICA4KSAmIDB4ZmY7ICAgICAgICAvLyAgOCBiaXRcbiAgICAgICAgICAgIC8vdmFyIGxpbmVQYXR0ZXJuID0gKGZsYWcgPj4gMTYpICYgMHhmZjsgICAgICAgIC8vICA4IGJpdFxuICAgICAgICAgICAgdmFyIGxheWVySWQgICAgID0gdGhpcy5nZXRMYXllckluZGV4QXQodmkpOyAgICAvLyAxNiBiaXRcbiAgICAgICAgICAgIHZhciB2cElkICAgICAgICA9IHRoaXMuZ2V0Vmlld3BvcnRJbmRleEF0KHZpKTsgLy8gMTYgYml0XG5cbiAgICAgICAgICAgIHZhciB2aXNpYmxlID0gdGhpcy5nZXREYklkQXQodmkpID09PSBkYklkO1xuXG4gICAgICAgICAgICBpZiAoZ2VvbVR5cGUgPT09IFZCQl9HVF9UUklBTkdMRV9JTkRFWEVEKSB7XG5cbiAgICAgICAgICAgICAgICAvL1RyaWFuZ2xlcyBhcmUgZW5jb2RlZCBpbiB0aHJlZSB2ZXJ0aWNlcyAobGlrZSBhIHNpbXBsZSBtZXNoKSBpbnN0ZWFkIG9mIDQgbGlrZSBldmVyeXRoaW5nIGVsc2VcblxuICAgICAgICAgICAgICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVjb2RlVHJpYW5nbGVJbmRleGVkKHRoaXMuaWJbaV0sIHRoaXMuaWJbaSsxXSwgdGhpcy5pYltpKzJdLCBsYXllcklkLCB2cElkLCBjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy9BZHZhbmNlIHRvIHRoZSBuZXh0IHByaW1pdGl2ZVxuICAgICAgICAgICAgICAgIGkgKz0gMztcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVjb2RlQnlUeXBlKGdlb21UeXBlLCB2aSwgbGF5ZXJJZCwgdnBJZCwgY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vU2tpcCBkdXBsaWNhdGUgdmVydGljZXMgKHdoZW4gbm90IHVzaW5nIGluc3RhbmNpbmcgYW5kIHRoZSBnZW9tZXRyeSBpcyBub3QgYSBzaW1wbGUgcG9seXRyaWFuZ2xlLFxuICAgICAgICAgICAgICAgIC8vZWFjaCB2ZXJ0ZXggaXMgbGlzdGVkIGZvdXIgdGltZXMgd2l0aCBhIGRpZmZlcmVudCB2ZXJ0ZXhJZCBmbGFnXG4gICAgICAgICAgICAgICAgaSArPSA2O1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgfVxuICAgIH1cblxufTtcblxuXG4vKipcbiAqIFVzZWQgYnkgdGhlIGJvdW5kcyBmaW5kZXIuXG4gKiBAcGFyYW0ge2FycmF5W251bWJlcl19IGxheWVySWRzVmlzaWJsZSAtIGxpc3Qgb2YgbGF5ZXIgaWRzIHRoYXQgYXJlIHZpc2libGVcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcHJpdmF0ZVxuICovXG5WZXJ0ZXhCdWZmZXJSZWFkZXIucHJvdG90eXBlLmVudW1HZW9tc0ZvclZpc2libGVMYXllciA9IGZ1bmN0aW9uKGxheWVySWRzVmlzaWJsZSwgY2FsbGJhY2spXG57XG4gICAgdmFyIGZpbHRlciA9IGZ1bmN0aW9uKGRiSWQsIGxheWVySWQsIHZpZXdwb3J0SWQpIHtcbiAgICAgICAgcmV0dXJuICFsYXllcklkc1Zpc2libGUgfHwgKGxheWVySWQgIT09IDAgJiYgbGF5ZXJJZHNWaXNpYmxlLmluZGV4T2YobGF5ZXJJZCkgIT09IC0xKTtcbiAgICB9O1xuICAgIHRoaXMuZW51bUdlb21zKGZpbHRlciwgY2FsbGJhY2spO1xufTtcblxuXG4vKipcbiAqIEVudW1lcmF0ZSBhbGwgZ2VvbWV0cmljIHByaW1pdGl2ZXMgdGhhdCBtYXRjaCB0aGUgZ2l2ZW4gZmlsdGVyLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gW2ZpbHRlcl0gLSBmdW5jdGlvbihkYklkLCBsYXllcklkLCB2aWV3cG9ydElkKTogRmlsdGVyIGZ1bmN0aW9uIHRvIGRlZmluZSBhIHN1YnNldCBvZiBwcmltaXRpdmVzIHRvIGluY2x1ZGUuIEJ5IGRlZmF1bHQsIGFsbCBnZW9tZXRyeSBpcyBpbmNsdWRlZC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcHJpdmF0ZVxuICovXG5WZXJ0ZXhCdWZmZXJSZWFkZXIucHJvdG90eXBlLmVudW1HZW9tcyA9IGZ1bmN0aW9uKGZpbHRlciwgY2FsbGJhY2spXG57XG4gICAgaWYgKHRoaXMudXNlSW5zdGFuY2luZykge1xuXG4gICAgICAgIC8vV2hlbiBpbnN0YW5jaW5nIGlzIHVzZWQsIGVhY2ggZ2VvbWV0cnkgcHJpbWl0aXZlIGlzIGVuY29kZWQgaW50byBhIHNpbmdsZSB2ZXJ0ZXhcbiAgICAgICAgLy9hbmQgdGhlcmUgaXMgbm8gaW5kZXggYnVmZmVyLlxuXG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCB0aGlzLnZjb3VudCkge1xuICAgICAgICAgICAgdmFyIGZsYWcgPSB0aGlzLmdldFZlcnRleEZsYWdzQXQoaSk7XG5cbiAgICAgICAgICAgIC8vdmFyIHZlcnRleElkICAgID0gKGZsYWcgPj4gIDApICYgMHhmZjsgICAgICAgIC8vICA4IGJpdFxuICAgICAgICAgICAgdmFyIGdlb21UeXBlICAgID0gKGZsYWcgPj4gIDgpICYgMHhmZjsgICAgICAgIC8vICA4IGJpdFxuICAgICAgICAgICAgLy92YXIgbGluZVBhdHRlcm4gPSAoZmxhZyA+PiAxNikgJiAweGZmOyAgICAgICAgLy8gIDggYml0XG4gICAgICAgICAgICB2YXIgbGF5ZXJJZCAgICAgPSB0aGlzLmdldExheWVySW5kZXhBdChpKTsgICAgLy8gMTYgYml0XG4gICAgICAgICAgICB2YXIgdnBJZCAgICAgICAgPSB0aGlzLmdldFZpZXdwb3J0SW5kZXhBdChpKTsgLy8gMTYgYml0XG4gICAgICAgICAgICB2YXIgZGJJZCAgICAgICAgPSB0aGlzLmdldERiSWRBdChpKTtcblxuICAgICAgICAgICAgLy8gR2V0IHRoZSBib3VuZHMgb2Ygb25seSB0aGUgdmlzaWJsZSBsYXllcnMuIElnbm9yZSBsYXllciAwLCB3aGljaCBpcyBhbHdheXMgdGhlIHBhZ2UuXG4gICAgICAgICAgICAvLyBJZiBsYXllcklkIHZpc2liaWxpdHkgaXMgbm90IHNldCwgY29uc2lkZXIgdGhlIGxheWVyIHZpc2libGUuXG4gICAgICAgICAgICB2YXIgdmlzaWJsZSA9ICFmaWx0ZXIgfHwgZmlsdGVyKGRiSWQsIGxheWVySWQsIHZwSWQpO1xuICAgICAgICAgICAgaWYgKHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlY29kZUJ5VHlwZShnZW9tVHlwZSwgaSwgbGF5ZXJJZCwgdnBJZCwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL0luIHRoZSBjYXNlIG9mIGluc3RhbmNpbmcsIHRoZXJlIGlzIG5vIHZlcnRleCBkdXBsaWNhdGlvbiBhbmQgbm8gaW5kZXggYnVmZmVyLCB3ZSBqdXN0XG4gICAgICAgICAgICAvL21vdmUgdG8gdGhlIG5leHQgdmVydGV4XG4gICAgICAgICAgICBpICs9IDE7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCB0aGlzLmliLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHZpID0gdGhpcy5pYltpXTtcbiAgICAgICAgICAgIHZhciBmbGFnID0gdGhpcy5nZXRWZXJ0ZXhGbGFnc0F0KHZpKTtcblxuICAgICAgICAgICAgLy92YXIgdmVydGV4SWQgICAgPSAoZmxhZyA+PiAgMCkgJiAweGZmOyAgICAgICAgLy8gIDggYml0XG4gICAgICAgICAgICB2YXIgZ2VvbVR5cGUgICAgPSAoZmxhZyA+PiAgOCkgJiAweGZmOyAgICAgICAgLy8gIDggYml0XG4gICAgICAgICAgICAvL3ZhciBsaW5lUGF0dGVybiA9IChmbGFnID4+IDE2KSAmIDB4ZmY7ICAgICAgICAvLyAgOCBiaXRcbiAgICAgICAgICAgIHZhciBsYXllcklkICAgICA9IHRoaXMuZ2V0TGF5ZXJJbmRleEF0KHZpKTsgICAgLy8gMTYgYml0XG4gICAgICAgICAgICB2YXIgdnBJZCAgICAgICAgPSB0aGlzLmdldFZpZXdwb3J0SW5kZXhBdCh2aSk7IC8vIDE2IGJpdFxuICAgICAgICAgICAgdmFyIGRiSWQgICAgICAgID0gdGhpcy5nZXREYklkQXQodmkpO1xuXG4gICAgICAgICAgICAvLyBHZXQgdGhlIGJvdW5kcyBvZiBvbmx5IHRoZSB2aXNpYmxlIGxheWVycy4gSWdub3JlIGxheWVyIDAsIHdoaWNoIGlzIGFsd2F5cyB0aGUgcGFnZS5cbiAgICAgICAgICAgIC8vIElmIGxheWVySWQgdmlzaWJpbGl0eSBpcyBub3Qgc2V0LCBjb25zaWRlciB0aGUgbGF5ZXIgdmlzaWJsZS5cbiAgICAgICAgICAgIHZhciB2aXNpYmxlID0gIWZpbHRlciB8fCBmaWx0ZXIoZGJJZCwgbGF5ZXJJZCwgdnBJZCk7XG5cbiAgICAgICAgICAgIGlmIChnZW9tVHlwZSA9PT0gVkJCX0dUX1RSSUFOR0xFX0lOREVYRUQpIHtcblxuICAgICAgICAgICAgICAgIC8vVHJpYW5nbGVzIGFyZSBlbmNvZGVkIGluIHRocmVlIHZlcnRpY2VzIChsaWtlIGEgc2ltcGxlIG1lc2gpIGluc3RlYWQgb2YgNCBsaWtlIGV2ZXJ5dGhpbmcgZWxzZVxuXG4gICAgICAgICAgICAgICAgaWYgKHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWNvZGVUcmlhbmdsZUluZGV4ZWQodGhpcy5pYltpXSwgdGhpcy5pYltpKzFdLCB0aGlzLmliW2krMl0sIGxheWVySWQsIHZwSWQsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvL0FkdmFuY2UgdG8gdGhlIG5leHQgcHJpbWl0aXZlXG4gICAgICAgICAgICAgICAgaSArPSAzO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVjb2RlQnlUeXBlKGdlb21UeXBlLCB2aSwgbGF5ZXJJZCwgdnBJZCwgY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL1NraXAgZHVwbGljYXRlIHZlcnRpY2VzICh3aGVuIG5vdCB1c2luZyBpbnN0YW5jaW5nIGFuZCB0aGUgZ2VvbWV0cnkgaXMgbm90IGEgc2ltcGxlIHBvbHl0cmlhbmdsZSxcbiAgICAgICAgICAgICAgICAvL2VhY2ggdmVydGV4IGlzIGxpc3RlZCBmb3VyIHRpbWVzIHdpdGggYSBkaWZmZXJlbnQgdmVydGV4SWQgZmxhZ1xuICAgICAgICAgICAgICAgIGkgKz0gNjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfVxuXG59O1xuIl0sIm5hbWVzIjpbIlRBVSIsIk1hdGgiLCJQSSIsIlZCQl9HVF9UUklBTkdMRV9JTkRFWEVEIiwiVkJCX0dUX0xJTkVfU0VHTUVOVCIsIlZCQl9HVF9BUkNfQ0lSQ1VMQVIiLCJWQkJfR1RfQVJDX0VMTElQVElDQUwiLCJWQkJfR1RfVEVYX1FVQUQiLCJWQkJfR1RfT05FX1RSSUFOR0xFIiwiVkJCX0dUX0xJTkVfU0VHTUVOVF9DQVBQRUQiLCJWQkJfR1RfTElORV9TRUdNRU5UX0NBUFBFRF9TVEFSVCIsIlZCQl9HVF9MSU5FX1NFR01FTlRfQ0FQUEVEX0VORCIsIlZCQl9HVF9MSU5FX1NFR01FTlRfTUlURVIiLCJWQkJfQ09MT1JfT0ZGU0VUIiwiVkJCX0RCSURfT0ZGU0VUIiwiVkJCX0ZMQUdTX09GRlNFVCIsIlZCQl9MQVlFUl9WUF9PRkZTRVQiLCJWZXJ0ZXhCdWZmZXJSZWFkZXIiLCJnZW9tZXRyeSIsIl9nZW9tZXRyeSR0SWRDb2xvciIsInZiIiwiYnVmZmVyIiwic3RyaWRlIiwidmJzdHJpZGUiLCJ2YmYiLCJGbG9hdDMyQXJyYXkiLCJ2YmkiLCJJbnQzMkFycmF5IiwidmJzIiwiVWludDE2QXJyYXkiLCJpYiIsInZjb3VudCIsImxlbmd0aCIsInVzZUluc3RhbmNpbmciLCJudW1JbnN0YW5jZXMiLCJ1c2VDb21wYWN0QnVmZmVycyIsInVucGFja1hmb3JtIiwidGV4RGF0YSIsInRJZENvbG9yIiwiaW1hZ2UiLCJkYXRhIiwiVWludDMyQXJyYXkiLCJpc0ludGVybGVhdmVkVmIiLCJhdHRyIiwiYXR0cmlidXRlcyIsImF0TGF5ZXJWcCIsImxheWVyVnA0YiIsImF0RmxhZ3MiLCJmbGFnczRiIiwiYXRJZENvbG9ycyIsInV2SWRDb2xvciIsImF0Q29sb3JzIiwiY29sb3I0YiIsImF0SWRzIiwiZGJJZDRiIiwicHJvdG90eXBlIiwiZ2V0RGJJZEF0IiwidmluZGV4IiwiZ2V0Q29sb3JBdCIsImdldFZlcnRleEZsYWdzQXQiLCJnZXRMYXllckluZGV4QXQiLCJnZXRWaWV3cG9ydEluZGV4QXQiLCJkZWNvZGVMaW5lQXQiLCJsYXllciIsInZwSWQiLCJjYWxsYmFjayIsIm9uTGluZVNlZ21lbnQiLCJ2ZXJ0ZXhPZmZzZXQiLCJ4MCIsIngiLCJ6IiwieTAiLCJ5IiwidyIsImFuZ2xlIiwiZGlzdEFsb25nIiwibWF4IiwibGluZVdpZHRoIiwiYmFzZU9mZnNldCIsIngxIiwiY29zIiwieTEiLCJzaW4iLCJkZWNvZGVDaXJjdWxhckFyY0F0Iiwib25DaXJjdWxhckFyYyIsImN4IiwiY3kiLCJzdGFydCIsImVuZCIsInJhZGl1cyIsImRlY29kZUVsbGlwdGljYWxBcmNBdCIsIm9uRWxsaXB0aWNhbEFyYyIsIm1ham9yIiwibWlub3IiLCJ0aWx0IiwiZGVjb2RlVGV4UXVhZEF0Iiwib25UZXhRdWFkIiwiY2VudGVyWCIsImNlbnRlclkiLCJyb3RhdGlvbiIsIndpZHRoIiwiaGVpZ2h0IiwiZGVjb2RlT25lVHJpYW5nbGVBdCIsIm9uT25lVHJpYW5nbGUiLCJ4MiIsInkyIiwieDMiLCJ5MyIsImRlY29kZVRyaWFuZ2xlSW5kZXhlZCIsInZpMCIsInZpMSIsInZpMiIsImRlY29kZUJ5VHlwZSIsImdlb21UeXBlIiwiZW51bUdlb21zRm9yT2JqZWN0IiwiZGJJZCIsImkiLCJmbGFnIiwibGF5ZXJJZCIsInZpc2libGUiLCJ2aSIsImVudW1HZW9tc0ZvclZpc2libGVMYXllciIsImxheWVySWRzVmlzaWJsZSIsImZpbHRlciIsInZpZXdwb3J0SWQiLCJpbmRleE9mIiwiZW51bUdlb21zIl0sInNvdXJjZVJvb3QiOiIifQ==\\\\n//# sourceURL=webpack-internal:///./src/wgs/scene/VertexBufferReader.js\\\\n\\\");\\n\\n/***/ })\\n\\n/******/ \\t});\\n/************************************************************************/\\n/******/ \\t// The module cache\\n/******/ \\tvar __webpack_module_cache__ = {};\\n/******/ \\t\\n/******/ \\t// The require function\\n/******/ \\tfunction __webpack_require__(moduleId) {\\n/******/ \\t\\t// Check if module is in cache\\n/******/ \\t\\tvar cachedModule = __webpack_module_cache__[moduleId];\\n/******/ \\t\\tif (cachedModule !== undefined) {\\n/******/ \\t\\t\\treturn cachedModule.exports;\\n/******/ \\t\\t}\\n/******/ \\t\\t// Create a new module (and put it into the cache)\\n/******/ \\t\\tvar module = __webpack_module_cache__[moduleId] = {\\n/******/ \\t\\t\\t// no module.id needed\\n/******/ \\t\\t\\t// no module.loaded needed\\n/******/ \\t\\t\\texports: {}\\n/******/ \\t\\t};\\n/******/ \\t\\n/******/ \\t\\t// Execute the module function\\n/******/ \\t\\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\\n/******/ \\t\\n/******/ \\t\\t// Return the exports of the module\\n/******/ \\t\\treturn module.exports;\\n/******/ \\t}\\n/******/ \\t\\n/************************************************************************/\\n/******/ \\t/* webpack/runtime/define property getters */\\n/******/ \\t(() => {\\n/******/ \\t\\t// define getter functions for harmony exports\\n/******/ \\t\\t__webpack_require__.d = (exports, definition) => {\\n/******/ \\t\\t\\tfor(var key in definition) {\\n/******/ \\t\\t\\t\\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\\n/******/ \\t\\t\\t\\t\\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\\n/******/ \\t\\t\\t\\t}\\n/******/ \\t\\t\\t}\\n/******/ \\t\\t};\\n/******/ \\t})();\\n/******/ \\t\\n/******/ \\t/* webpack/runtime/hasOwnProperty shorthand */\\n/******/ \\t(() => {\\n/******/ \\t\\t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\\n/******/ \\t})();\\n/******/ \\t\\n/******/ \\t/* webpack/runtime/make namespace object */\\n/******/ \\t(() => {\\n/******/ \\t\\t// define __esModule on exports\\n/******/ \\t\\t__webpack_require__.r = (exports) => {\\n/******/ \\t\\t\\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\\n/******/ \\t\\t\\t\\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\\n/******/ \\t\\t\\t}\\n/******/ \\t\\t\\tObject.defineProperty(exports, '__esModule', { value: true });\\n/******/ \\t\\t};\\n/******/ \\t})();\\n/******/ \\t\\n/************************************************************************/\\n/******/ \\t\\n/******/ \\t// startup\\n/******/ \\t// Load entry module and return exports\\n/******/ \\t// This entry module can't be inlined because the eval-source-map devtool is used.\\n/******/ \\tvar __webpack_exports__ = __webpack_require__(\\\"./node_modules/babel-loader/lib/index.js??ruleSet[1].rules[0].use[0]!./extensions/Edit2D/SegmentTreeWorker.js\\\");\\n/******/ \\t\\n/******/ })()\\n;\", \"Worker\", undefined, undefined);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd29ya2VyLWxvYWRlci9kaXN0L2Nqcy5qcz9pbmxpbmU9bm8tZmFsbGJhY2shLi9leHRlbnNpb25zL0VkaXQyRC9TZWdtZW50VHJlZVdvcmtlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQytFOztBQUVoRTtBQUNmLFNBQVMseUZBQU0sd3BDQUF3cEMsK0NBQStDLHlDQUF5Qyxra0JBQWtrQixzREFBc0QsOE1BQThNLHlDQUF5Qyw4REFBOEQscUVBQXFFLDRHQUE0RyxpVEFBaVQsd0JBQXdCLHdEQUF3RCx3R0FBd0csZ0xBQWdMLHlGQUF5RiwySEFBMkgsUUFBUSxtREFBbUQsVUFBVSxtSEFBbUgsa0ZBQWtGLDJHQUEyRyw4REFBOEQsZUFBZSxNQUFNLG9FQUFvRSxNQUFNLHdPQUF3TyxnSEFBZ0gsa0RBQWtELHNCQUFzQixNQUFNLElBQUksZ0NBQWdDLHFLQUFxSyxzQ0FBc0MsK0NBQStDLG9CQUFvQixzQkFBc0IsY0FBYyxNQUFNLDJMQUEyTCxtQkFBbUIsTUFBTSw4QkFBOEIsK0JBQStCLHFDQUFxQyxvRUFBb0UsYUFBYSxTQUFTLDhCQUE4QixvQ0FBb0Msc0NBQXNDLHVFQUF1RSxlQUFlLFVBQVUsZ0NBQWdDLG9DQUFvQyx3Q0FBd0MsdUVBQXVFLGVBQWUsVUFBVSxnQ0FBZ0Msc0NBQXNDLFNBQVMsK0dBQStHLDhDQUE4QyxrQkFBa0IsTUFBTSxzRkFBc0YsS0FBSyw2QkFBNkIsV0FBVyxvU0FBb1Msc0RBQXNELG9FQUFvRSwrR0FBK0csRUFBRSxrQ0FBa0MsK1lBQStZLCtHQUErRyx1TUFBdU0seUJBQXlCLDBEQUEwRCx1QkFBdUIsa0NBQWtDLHFDQUFxQyw2Q0FBNkMsd0NBQXdDLHlDQUF5Qyw4QkFBOEIsb0RBQW9ELHVEQUF1RCxtREFBbUQsMlRBQTJULGlNQUFpTSx3Q0FBd0MsK0JBQStCLDJDQUEyQyxvQ0FBb0MsdUNBQXVDLDJDQUEyQyxtREFBbUQsU0FBUyxNQUFNLHVDQUF1QyxtQ0FBbUMsMERBQTBELFFBQVEsTUFB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LGc3K0NBQWc3K0MsV0FBVyxpQkFBaUIsRUFBRSwySkFBMkosc0dBQXNHLGtIQUFrSCxnREFBZ0QsNkNBQTZDLGdCQUFnQixtSUFBbUksOEdBQThHLGlCQUFpQixvSkFBb0osb0dBQW9HLGNBQWMsd0tBQXdLLDhIQUE4SCw2Q0FBNkMsdUdBQXVHLDJEQUEyRCx3Q0FBd0MsRUFBRSxvQkFBb0Isa0JBQWtCLGlCQUFpQixjQUFjLElBQUksNkZBQTZGLHFIQUFxSCxJQUFJLDBGQUEwRixtR0FBbUcsMEVBQTBFLHdFQUF3RSxpQkFBaUIsRUFBRSxrQkFBa0IsZ0VBQWdFLGFBQWEsRUFBRSxpQkFBaUIsY0FBYyxJQUFJLDhiQUE4Yix5QkFBeUIsTUFBTTtBQUMvcHhFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvRWRpdDJEL1NlZ21lbnRUcmVlV29ya2VyLmpzP2FlYmEiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgd29ya2VyIGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy93b3JrZXItbG9hZGVyL2Rpc3QvcnVudGltZS9pbmxpbmUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gV29ya2VyX2ZuKCkge1xuICByZXR1cm4gd29ya2VyKFwiLyohXFxuICogTE1WIHY3LjEwNS4wXFxuICpcXG4gKiBDb3B5cmlnaHQgMjAyNSBBdXRvZGVzaywgSW5jLlxcbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXFxuICpcXG4gKiBUaGlzIGNvbXB1dGVyIHNvdXJjZSBjb2RlIGFuZCByZWxhdGVkIGluc3RydWN0aW9ucyBhbmQgY29tbWVudHMgYXJlIHRoZVxcbiAqIHVucHVibGlzaGVkIGNvbmZpZGVudGlhbCBhbmQgcHJvcHJpZXRhcnkgaW5mb3JtYXRpb24gb2YgQXV0b2Rlc2ssIEluYy5cXG4gKiBhbmQgYXJlIHByb3RlY3RlZCB1bmRlciBGZWRlcmFsIGNvcHlyaWdodCBhbmQgc3RhdGUgdHJhZGUgc2VjcmV0IGxhdy5cXG4gKiBUaGV5IG1heSBub3QgYmUgZGlzY2xvc2VkIHRvLCBjb3BpZWQgb3IgdXNlZCBieSBhbnkgdGhpcmQgcGFydHkgd2l0aG91dFxcbiAqIHRoZSBwcmlvciB3cml0dGVuIGNvbnNlbnQgb2YgQXV0b2Rlc2ssIEluYy5cXG4gKlxcbiAqIEF1dG9kZXNrIFZpZXdlciBTREsgVXNhZ2UgTGltaXRhdGlvbnM6XFxuICpcXG4gKiBUaGUgQXV0b2Rlc2sgVmlld2VyIFNESyBKYXZhU2NyaXB0IG11c3QgYmUgZGVsaXZlcmVkIGZyb20gYW5cXG4gKiBBdXRvZGVzay1ob3N0ZWQgVVJMLlxcbiAqL1xcbi8qXFxuICogQVRURU5USU9OOiBBbiBcXFwiZXZhbC1zb3VyY2UtbWFwXFxcIiBkZXZ0b29sIGhhcyBiZWVuIHVzZWQuXFxuICogVGhpcyBkZXZ0b29sIGlzIG5laXRoZXIgbWFkZSBmb3IgcHJvZHVjdGlvbiBub3IgZm9yIHJlYWRhYmxlIG91dHB1dCBmaWxlcy5cXG4gKiBJdCB1c2VzIFxcXCJldmFsKClcXFwiIGNhbGxzIHRvIGNyZWF0ZSBhIHNlcGFyYXRlIHNvdXJjZSBmaWxlIHdpdGggYXR0YWNoZWQgU291cmNlTWFwcyBpbiB0aGUgYnJvd3NlciBkZXZ0b29scy5cXG4gKiBJZiB5b3UgYXJlIHRyeWluZyB0byByZWFkIHRoZSBvdXRwdXQgZmlsZSwgc2VsZWN0IGEgZGlmZmVyZW50IGRldnRvb2wgKGh0dHBzOi8vd2VicGFjay5qcy5vcmcvY29uZmlndXJhdGlvbi9kZXZ0b29sLylcXG4gKiBvciBkaXNhYmxlIHRoZSBkZWZhdWx0IGRldnRvb2wgd2l0aCBcXFwiZGV2dG9vbDogZmFsc2VcXFwiLlxcbiAqIElmIHlvdSBhcmUgbG9va2luZyBmb3IgcHJvZHVjdGlvbi1yZWFkeSBvdXRwdXQgZmlsZXMsIHNlZSBtb2RlOiBcXFwicHJvZHVjdGlvblxcXCIgKGh0dHBzOi8vd2VicGFjay5qcy5vcmcvY29uZmlndXJhdGlvbi9tb2RlLykuXFxuICovXFxuLyoqKioqKi8gKCgpID0+IHsgLy8gd2VicGFja0Jvb3RzdHJhcFxcbi8qKioqKiovIFxcdFxcXCJ1c2Ugc3RyaWN0XFxcIjtcXG4vKioqKioqLyBcXHR2YXIgX193ZWJwYWNrX21vZHVsZXNfXyA9ICh7XFxuXFxuLyoqKi8gXFxcIi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbMF0udXNlWzBdIS4vZXh0ZW5zaW9ucy9FZGl0MkQvU2VnbWVudFRyZWVXb3JrZXIuanNcXFwiOlxcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzBdLnVzZVswXSEuL2V4dGVuc2lvbnMvRWRpdDJEL1NlZ21lbnRUcmVlV29ya2VyLmpzICoqKiFcXG4gIFxcXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXFxuLyoqKi8gKChfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykgPT4ge1xcblxcbmV2YWwoXFxcIl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcXFxcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc3JjX3dnc19zY2VuZV9WZXJ0ZXhCdWZmZXJSZWFkZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3NyYy93Z3Mvc2NlbmUvVmVydGV4QnVmZmVyUmVhZGVyICovIFxcXFxcXFwiLi9zcmMvd2dzL3NjZW5lL1ZlcnRleEJ1ZmZlclJlYWRlci5qc1xcXFxcXFwiKTtcXFxcblxcXFxuXFxcXG5jb25zdCBwcmltQ291bnRQZXJCYXRjaCA9IDUwMDA7IC8vIFRoZSBudW1iZXIgb2YgcHJpbWl0aXZlcyBwZXIgYmF0Y2guXFxcXG5jb25zdCBudW1PZkFyZ3MgPSA4OyAvLyBOdW1iZXIgb2YgYXJndW1lbnRzIHBlciBwcmltaXRpdmVcXFxcbmNvbnN0IHN0cmlkZSA9IG51bU9mQXJncyArIDE7IC8vIE51bWJlciBvZiBhcmd1bWVudHMgcGx1cyB0aGUgcG9zaXRpb24gZm9yIHRoZSBwcmltaXRpdmUgdHlwZS5cXFxcbmNvbnN0IHNpemUgPSBzdHJpZGUgKiBwcmltQ291bnRQZXJCYXRjaDsgLy8gU2l6ZSBmb3IgdGhlIEZsb2F0NjRBcnJheVxcXFxuXFxcXG4vLyBBbGxvY2F0ZSB0aGUgbnVtYmVyIG9mIGFyZ3VtZW50cyBwZXIgcHJpbWl0aXZlIHBsdXMgYSBwb3NpdGlvbiBmb3IgdGhlIHByaW1pdGl2ZSB0eXBlIGFuZCBtdWx0aXBseSBpdCBieSB0aGUgYmF0Y2ggY291bnQuXFxcXG4vLyBGbG9hdDY0QXJyYXkgaXMgcmVxdWlyZWQgYmVjYXVzZSB0aGVyZSB3ZXJlIGZsb2F0IGFyZ3VtZW50cyB0aGF0IGNvbnRhaW5lZCBtb3JlIHRoYW4gNyBkaWdpdHMuXFxcXG5sZXQgcHJpbWl0aXZlQmF0Y2ggPSBuZXcgRmxvYXQ2NEFycmF5KHNpemUpO1xcXFxuXFxcXG5sZXQgbnVtR2VvbXMgPSAwOyAvLyBOdW1iZXIgb2YgZ2VvbWV0cmllcyBwcm9jZXNzZWRcXFxcbmxldCB0b3RhbEdlb21zID0gMDsgLy8gVG90YWwgbnVtYmVyIG9mIGdlb21ldHJpZXMgdG8gcHJvY2Vzcy4gVGhpcyBpcyBwYXNzZWQgaW4gZnJvbSB0aGUgbWFpbiB0aHJlYWQuXFxcXG5sZXQgYmF0Y2hJbmRleCA9IDA7IC8vIEtlZXBzIHRyYWNrIG9mIHRoZSBiYXRjaCBpbmRleC4gV2hlbiB0aGUgbGltaXQgaXMgcmVhY2hlZCB0aGlzIHdpbGwgYmUgcmVzZXQuXFxcXG5cXFxcbi8vIEludGVnZXJzIHRvIHdyaXRlIGludG8gdGhlIFR5cGVBcnJheSBmb3IgZWFjaCBwcmltaXRpdmUgdHlwZVxcXFxuY29uc3QgcHJpbWl0aXZlVHlwZXMgPSB7XFxcXG4gIG9uTGluZVNlZ21lbnQ6IDEsXFxcXG4gIG9uQ2lyY3VsYXJBcmM6IDIsXFxcXG4gIG9uRWxsaXB0aWNhbEFyYzogMyxcXFxcbiAgZmluaXNoZWQ6IDlcXFxcbn07XFxcXG5cXFxcbi8qKlxcXFxuICogQmF0Y2hlcyBnZW9tIHByaW1pdGl2ZXMgYW5kIHNlbmRzIGl0IHRvIHRoZSBtYWluIHRocmVhZCBvbmNlIHRoZSBwcmltQ291bnRQZXJCYXRjaCBpcyByZWFjaGVkLlxcXFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgLSBHZW9tZXRyeSBQcmltaXRpdmUgdHlwZSBzdHJpbmdcXFxcbiAqIEBwYXJhbSB7TnVtYmVyW119IGFyZ3MgLSBBbiBhcnJheSBvZiBhcmd1bWVudHMgdGhhdCBhcmUgcmV0dXJuZWQgZnJvbSB0aGUgVmVydGV4QnVmZmVyQnVpbGRlciBjYWxsYmFja3NcXFxcbiAqL1xcXFxuZnVuY3Rpb24gcG9zdCh0eXBlKSB7bGV0IGFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFtdO1xcXFxuICAvLyBUaGUgZmlyc3QgZW50cnkgd2lsbCBiZSB0aGUgcHJpbWl0aXZlIHR5cGVcXFxcbiAgcHJpbWl0aXZlQmF0Y2hbYmF0Y2hJbmRleCsrXSA9IHByaW1pdGl2ZVR5cGVzW3R5cGVdO1xcXFxuXFxcXG4gIC8vIEFkZCB0aGUgYXJndW1lbnRzIHRvIHRoZSBiYXRjaFxcXFxuICBmb3IgKGxldCBpID0gMDsgaSA8IG51bU9mQXJnczsgaSsrKSB7XFxcXG4gICAgcHJpbWl0aXZlQmF0Y2hbYmF0Y2hJbmRleCsrXSA9IGkgPCBhcmdzLmxlbmd0aCA/IGFyZ3NbaV0gOiAwO1xcXFxuICB9XFxcXG5cXFxcbiAgLy8gTWVzc2FnZSB0aGUgbWFpbiB0aHJlYWQgb25jZSB0aGUgcHJpbWl0aXZlIGNvdW50IHdhcyByZWFjaGVkIG9yIG9uY2UgdGhlIG51bWJlciBvZiBwcm9jZXNzZWQgZ2VvbWV0cmllcyByZWFjaGVzIHRoZSB0b3RhbCBudW1iZXIgb2YgZ2VvbWV0cmllc1xcXFxuICBpZiAoYmF0Y2hJbmRleCA+PSBwcmltQ291bnRQZXJCYXRjaCAqIHN0cmlkZSB8fCBudW1HZW9tcyA9PT0gdG90YWxHZW9tcykge1xcXFxuICAgIC8vIFNlbmQgZXhpc3RpbmcgYmF0Y2ggYW5kIGNyZWF0ZSBhIG5ldyBiYXRjaFxcXFxuICAgIHBvc3RNZXNzYWdlKHByaW1pdGl2ZUJhdGNoLCBbcHJpbWl0aXZlQmF0Y2guYnVmZmVyXSk7XFxcXG5cXFxcbiAgICBwcmltaXRpdmVCYXRjaCA9IG5ldyBGbG9hdDY0QXJyYXkoc2l6ZSk7XFxcXG4gICAgYmF0Y2hJbmRleCA9IDA7XFxcXG4gIH1cXFxcbn1cXFxcblxcXFxub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHtcXFxcbiAgLy8gRmlyc3QgY2FsbCBmcm9tIHRoZSBTZWdlbWVudFRyZWUuanNcXFxcbiAgLy8gVGhpcyB3aWxsIGluaXRpYWxpemUgdGhlIGdlb21ldHJ5IGNvdW50IGFuZCBvdGhlciBnbG9iYWwgdmFyaWFibGVzLlxcXFxuICBpZiAoZS5kYXRhLmhhc093blByb3BlcnR5KCd0b3RhbEdlb21zJykpIHtcXFxcbiAgICB0b3RhbEdlb21zID0gZS5kYXRhLnRvdGFsR2VvbXM7XFxcXG4gICAgcHJpbWl0aXZlQmF0Y2ggPSBuZXcgRmxvYXQ2NEFycmF5KHNpemUpO1xcXFxuICAgIG51bUdlb21zID0gMDtcXFxcbiAgICBiYXRjaEluZGV4ID0gMDtcXFxcbiAgICByZXR1cm47XFxcXG4gIH1cXFxcblxcXFxuICAvLyBJdGVyYXRlIG92ZXIgYW4gYXJyYXkgb2YgZ2VvbWV0cnkgb2JqZWN0cy5cXFxcbiAgLy8gQSBnZW9tZXRyeSBvYmplY3QgY29udGFpbnMgaW5mb3JtYXRpb24gZnJvbSB0aGUgRnJhZ21lbnRMaXN0IHRoYXQgd2lsbCBiZSB1c2VkIGJ5IHRoZSBWZXJ0ZXhCdWZmZXJSZWFkZXIuXFxcXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZS5kYXRhLmxlbmd0aDsgaSsrKSB7XFxcXG4gICAgY29uc3QgZ2VvbSA9IGUuZGF0YVtpXTtcXFxcbiAgICBjb25zdCBjb2xsZWN0U2VnbWVudCA9IHtcXFxcbiAgICAgIG9uTGluZVNlZ21lbnQ6IGZ1bmN0aW9uICgpIHtmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHthcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO31yZXR1cm4gcG9zdCgnb25MaW5lU2VnbWVudCcsIGFyZ3MpO30sXFxcXG4gICAgICBvbkNpcmN1bGFyQXJjOiBmdW5jdGlvbiAoKSB7Zm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7YXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO31yZXR1cm4gcG9zdCgnb25DaXJjdWxhckFyYycsIGFyZ3MpO30sXFxcXG4gICAgICBvbkVsbGlwdGljYWxBcmM6IGZ1bmN0aW9uICgpIHtmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHthcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107fXJldHVybiBwb3N0KCdvbkVsbGlwdGljYWxBcmMnLCBhcmdzKTt9XFxcXG4gICAgfTtcXFxcbiAgICBjb25zdCB2YnIgPSBuZXcgX3NyY193Z3Nfc2NlbmVfVmVydGV4QnVmZmVyUmVhZGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18uVmVydGV4QnVmZmVyUmVhZGVyKGdlb20pO1xcXFxuXFxcXG4gICAgdmJyLmVudW1HZW9tcyhudWxsLCBjb2xsZWN0U2VnbWVudCk7XFxcXG4gICAgbnVtR2VvbXMrKztcXFxcbiAgfVxcXFxuXFxcXG4gIC8vIE5vdGlmeSB0aGUgbWFpbiB0aHJlYWQgdGhhdCBhIGdlb21ldHJ5IHdhcyBwcm9jZXNzZWQuXFxcXG4gIHBvc3QoJ2ZpbmlzaGVkJyk7XFxcXG59Oy8vIyBzb3VyY2VVUkw9W21vZHVsZV1cXFxcblxcXCIpO1xcblxcbi8qKiovIH0pLFxcblxcbi8qKiovIFxcXCIuL3NyYy93Z3Mvc2NlbmUvVmVydGV4QnVmZmVyUmVhZGVyLmpzXFxcIjpcXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXFxcXG4gICEqKiogLi9zcmMvd2dzL3NjZW5lL1ZlcnRleEJ1ZmZlclJlYWRlci5qcyAqKiohXFxuICBcXFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xcbi8qKiovICgoX191bnVzZWRfd2VicGFja19tb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pID0+IHtcXG5cXG5ldmFsKFxcXCJfX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XFxcXG4vKiBoYXJtb255IGV4cG9ydCAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywge1xcXFxuLyogaGFybW9ueSBleHBvcnQgKi8gICBWZXJ0ZXhCdWZmZXJSZWFkZXI6ICgpID0+ICgvKiBiaW5kaW5nICovIFZlcnRleEJ1ZmZlclJlYWRlcilcXFxcbi8qIGhhcm1vbnkgZXhwb3J0ICovIH0pO1xcXFxuXFxcXG5cXFxcblxcXFxudmFyIFRBVSA9IE1hdGguUEkgKiAyO1xcXFxuXFxcXG4vL0NvbnN0YW50cyBkdXBsaWNhdGVkIGZyb20gc3JjL2xtdnRrL1ZlcnRleEJ1ZmZlckJ1aWxkZXIuanNcXFxcbnZhciBWQkJfR1RfVFJJQU5HTEVfSU5ERVhFRCA9IDAsXFxcXG4gIFZCQl9HVF9MSU5FX1NFR01FTlQgPSAxLFxcXFxuICBWQkJfR1RfQVJDX0NJUkNVTEFSID0gMixcXFxcbiAgVkJCX0dUX0FSQ19FTExJUFRJQ0FMID0gMyxcXFxcbiAgVkJCX0dUX1RFWF9RVUFEID0gNCxcXFxcbiAgVkJCX0dUX09ORV9UUklBTkdMRSA9IDUsXFxcXG4gIFZCQl9HVF9MSU5FX1NFR01FTlRfQ0FQUEVEID0gOCxcXFxcbiAgVkJCX0dUX0xJTkVfU0VHTUVOVF9DQVBQRURfU1RBUlQgPSA5LFxcXFxuICBWQkJfR1RfTElORV9TRUdNRU5UX0NBUFBFRF9FTkQgPSAxMCxcXFxcbiAgVkJCX0dUX0xJTkVfU0VHTUVOVF9NSVRFUiA9IDExO1xcXFxuXFxcXG52YXIgVkJCX0NPTE9SX09GRlNFVCA9IDYsXFxcXG4gIFZCQl9EQklEX09GRlNFVCA9IDcsXFxcXG4gIFZCQl9GTEFHU19PRkZTRVQgPSA4LFxcXFxuICBWQkJfTEFZRVJfVlBfT0ZGU0VUID0gOTtcXFxcblxcXFxuLyoqXFxcXG4gKiBJbml0aWFsaXplcyBhIFxcXFxcXFwidmlld1xcXFxcXFwiIGludG8gYSBjb21wYWN0ZWQgaW50ZXJsZWF2ZWQgdmVydGV4IGJ1ZmZlciBhcnJheSB1c2luZyBvdXIgY3VzdG9tIDJEIHZlcnRleCBsYXlvdXQuXFxcXG4gKiBTZWUgc3JjL2xtdnRrL1ZlcnRleEJ1ZmZlckJ1aWxkZXIuanMgZm9yIG1vcmUgZGV0YWlscy5cXFxcbiAqIEBwYXJhbSB7QnVmZmVyR2VvbWV0cnl8TWVzaERhdGF9IGdlb21ldHJ5XFxcXG4gKi9cXFxcbmZ1bmN0aW9uIFZlcnRleEJ1ZmZlclJlYWRlcihnZW9tZXRyeSlcXFxcbnt2YXIgX2dlb21ldHJ5JHRJZENvbG9yO1xcXFxuICB0aGlzLnZiID0gZ2VvbWV0cnkudmIuYnVmZmVyO1xcXFxuICB0aGlzLnN0cmlkZSA9IGdlb21ldHJ5LnZic3RyaWRlO1xcXFxuXFxcXG4gIHRoaXMudmJmID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnZiKTtcXFxcbiAgdGhpcy52YmkgPSBuZXcgSW50MzJBcnJheSh0aGlzLnZiKTtcXFxcbiAgdGhpcy52YnMgPSBuZXcgVWludDE2QXJyYXkodGhpcy52Yik7XFxcXG5cXFxcbiAgdGhpcy5pYiA9IGdlb21ldHJ5LmliO1xcXFxuXFxcXG4gIHRoaXMudmNvdW50ID0gdGhpcy52YmYubGVuZ3RoIC8gdGhpcy5zdHJpZGU7XFxcXG5cXFxcbiAgdGhpcy51c2VJbnN0YW5jaW5nID0gZ2VvbWV0cnkubnVtSW5zdGFuY2VzID4gMDtcXFxcbiAgdGhpcy51c2VDb21wYWN0QnVmZmVycyA9IGdlb21ldHJ5LnVucGFja1hmb3JtO1xcXFxuICB0aGlzLnRleERhdGEgPSB0aGlzLnVzZUNvbXBhY3RCdWZmZXJzICYmICgoX2dlb21ldHJ5JHRJZENvbG9yID0gZ2VvbWV0cnkudElkQ29sb3IpID09PSBudWxsIHx8IF9nZW9tZXRyeSR0SWRDb2xvciA9PT0gdm9pZCAwIHx8IChfZ2VvbWV0cnkkdElkQ29sb3IgPSBfZ2VvbWV0cnkkdElkQ29sb3IuaW1hZ2UpID09PSBudWxsIHx8IF9nZW9tZXRyeSR0SWRDb2xvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2dlb21ldHJ5JHRJZENvbG9yLmRhdGEpICYmIG5ldyBVaW50MzJBcnJheShnZW9tZXRyeS50SWRDb2xvci5pbWFnZS5kYXRhLmJ1ZmZlcik7XFxcXG5cXFxcbiAgLy8gRG9lcyB0aGUgZ2VvbSB1c2UgaW50ZXJsZWF2ZWQgdmI/XFxcXG4gIC8vIFVzZWQgYnkgRnJhZ21lbnRMaXN0LnVwZGF0ZVZlcnRleEJ1ZmZlckZvclRoZW1pbmdBbmRHaG9zdGluZyB3aGljaCBvbmx5XFxcXG4gIC8vIHdvcmtlcyB3aXRoIGludGVybGVhdmVkIHZiXFxcXG4gIHRoaXMuaXNJbnRlcmxlYXZlZFZiID0gKCgpID0+IHtcXFxcbiAgICBjb25zdCBhdHRyID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcXFxcbiAgICBpZiAoIWF0dHIpIHJldHVybiBmYWxzZTtcXFxcblxcXFxuICAgIGNvbnN0IGF0TGF5ZXJWcCA9IGF0dHIubGF5ZXJWcDRiO1xcXFxuICAgIGNvbnN0IGF0RmxhZ3MgPSBhdHRyLmZsYWdzNGI7XFxcXG5cXFxcbiAgICBpZiAodGhpcy51c2VDb21wYWN0QnVmZmVycykge1xcXFxuICAgICAgY29uc3QgYXRJZENvbG9ycyA9IGF0dHIudXZJZENvbG9yO1xcXFxuICAgICAgcmV0dXJuIGF0SWRDb2xvcnMgJiYgYXRMYXllclZwICYmIGF0RmxhZ3M7XFxcXG4gICAgfSBlbHNlIHtcXFxcbiAgICAgIGNvbnN0IGF0Q29sb3JzID0gYXR0ci5jb2xvcjRiO1xcXFxuICAgICAgY29uc3QgYXRJZHMgPSBhdHRyLmRiSWQ0YjtcXFxcbiAgICAgIHJldHVybiBhdENvbG9ycyAmJiBhdElkcyAmJiBhdExheWVyVnAgJiYgYXRGbGFncztcXFxcbiAgICB9XFxcXG4gIH0pKCk7XFxcXG59O1xcXFxuXFxcXG5WZXJ0ZXhCdWZmZXJSZWFkZXIucHJvdG90eXBlLmdldERiSWRBdCA9IGZ1bmN0aW9uICh2aW5kZXgpIHtcXFxcbiAgaWYgKHRoaXMudGV4RGF0YSkge1xcXFxuICAgIHJldHVybiB0aGlzLnRleERhdGFbdGhpcy52YnNbdmluZGV4ICogdGhpcy5zdHJpZGUgKiAyICsgVkJCX0RCSURfT0ZGU0VUXV07XFxcXG4gIH1cXFxcbiAgcmV0dXJuIHRoaXMudmJpW3ZpbmRleCAqIHRoaXMuc3RyaWRlICsgVkJCX0RCSURfT0ZGU0VUXTtcXFxcbn07XFxcXG5cXFxcblZlcnRleEJ1ZmZlclJlYWRlci5wcm90b3R5cGUuZ2V0Q29sb3JBdCA9IGZ1bmN0aW9uICh2aW5kZXgpIHtcXFxcbiAgaWYgKHRoaXMudGV4RGF0YSkge1xcXFxuICAgIHJldHVybiB0aGlzLnRleERhdGFbdGhpcy52YnNbdmluZGV4ICogdGhpcy5zdHJpZGUgKiAyICsgVkJCX0NPTE9SX09GRlNFVF1dO1xcXFxuICB9XFxcXG4gIHJldHVybiB0aGlzLnZiaVt2aW5kZXggKiB0aGlzLnN0cmlkZSArIFZCQl9DT0xPUl9PRkZTRVRdO1xcXFxufTtcXFxcblxcXFxuVmVydGV4QnVmZmVyUmVhZGVyLnByb3RvdHlwZS5nZXRWZXJ0ZXhGbGFnc0F0ID0gZnVuY3Rpb24gKHZpbmRleCkge1xcXFxuICBpZiAodGhpcy50ZXhEYXRhKSB7XFxcXG4gICAgcmV0dXJuIHRoaXMudmJpW3ZpbmRleCAqIHRoaXMuc3RyaWRlICsgNF07XFxcXG4gIH1cXFxcbiAgcmV0dXJuIHRoaXMudmJpW3ZpbmRleCAqIHRoaXMuc3RyaWRlICsgVkJCX0ZMQUdTX09GRlNFVF07XFxcXG59O1xcXFxuXFxcXG5WZXJ0ZXhCdWZmZXJSZWFkZXIucHJvdG90eXBlLmdldExheWVySW5kZXhBdCA9IGZ1bmN0aW9uICh2aW5kZXgpIHtcXFxcbiAgaWYgKHRoaXMudGV4RGF0YSkge1xcXFxuICAgIHJldHVybiB0aGlzLnZiaVt2aW5kZXggKiB0aGlzLnN0cmlkZSArIDVdICYgMHhmZmZmO1xcXFxuICB9XFxcXG4gIHJldHVybiB0aGlzLnZiaVt2aW5kZXggKiB0aGlzLnN0cmlkZSArIFZCQl9MQVlFUl9WUF9PRkZTRVRdICYgMHhmZmZmO1xcXFxufTtcXFxcblxcXFxuVmVydGV4QnVmZmVyUmVhZGVyLnByb3RvdHlwZS5nZXRWaWV3cG9ydEluZGV4QXQgPSBmdW5jdGlvbiAodmluZGV4KSB7XFxcXG4gIGlmICh0aGlzLnRleERhdGEpIHtcXFxcbiAgICByZXR1cm4gdGhpcy52YmlbdmluZGV4ICogdGhpcy5zdHJpZGUgKyA1XSA+PiAxNiAmIDB4ZmZmZjtcXFxcbiAgfVxcXFxuICByZXR1cm4gdGhpcy52YmlbdmluZGV4ICogdGhpcy5zdHJpZGUgKyBWQkJfTEFZRVJfVlBfT0ZGU0VUXSA+PiAxNiAmIDB4ZmZmZjtcXFxcbn07XFxcXG5cXFxcblZlcnRleEJ1ZmZlclJlYWRlci5wcm90b3R5cGUuZGVjb2RlTGluZUF0ID0gZnVuY3Rpb24gKHZpbmRleCwgbGF5ZXIsIHZwSWQsIGNhbGxiYWNrKVxcXFxue1xcXFxuICBpZiAoIWNhbGxiYWNrLm9uTGluZVNlZ21lbnQpIHtyZXR1cm47fVxcXFxuXFxcXG4gIGlmICh0aGlzLnVzZUNvbXBhY3RCdWZmZXJzKSB7XFxcXG4gICAgdmFyIHZlcnRleE9mZnNldCA9IHRoaXMuc3RyaWRlICogdmluZGV4ICogMjtcXFxcbiAgICB2YXIgeDAgPSB0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLnggKiB0aGlzLnZic1t2ZXJ0ZXhPZmZzZXRdIC8gNjU1MzUgKyB0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLno7XFxcXG4gICAgdmFyIHkwID0gdGhpcy51c2VDb21wYWN0QnVmZmVycy55ICogdGhpcy52YnNbdmVydGV4T2Zmc2V0ICsgMV0gLyA2NTUzNSArIHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMudztcXFxcbiAgICB2YXIgYW5nbGUgPSB0aGlzLnZic1t2ZXJ0ZXhPZmZzZXQgKyAyXSAvIDY1NTM1ICogVEFVIC0gTWF0aC5QSTtcXFxcbiAgICB2YXIgZGlzdEFsb25nID0gdGhpcy52YnNbdmVydGV4T2Zmc2V0ICsgM10gLyA2NTUzNSAqIE1hdGgubWF4KHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMueCwgdGhpcy51c2VDb21wYWN0QnVmZmVycy55KTtcXFxcbiAgICB2YXIgbGluZVdpZHRoID0gdGhpcy52YnNbdmVydGV4T2Zmc2V0ICsgNF0gLyAzMjc2NyAqIE1hdGgubWF4KHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMueCwgdGhpcy51c2VDb21wYWN0QnVmZmVycy55KSAqIDIuMDtcXFxcbiAgfSBlbHNlIHtcXFxcbiAgICB2YXIgYmFzZU9mZnNldCA9IHRoaXMuc3RyaWRlICogdmluZGV4O1xcXFxuICAgIHZhciB4MCA9IHRoaXMudmJmW2Jhc2VPZmZzZXRdO1xcXFxuICAgIHZhciB5MCA9IHRoaXMudmJmW2Jhc2VPZmZzZXQgKyAxXTtcXFxcbiAgICB2YXIgYW5nbGUgPSB0aGlzLnZiZltiYXNlT2Zmc2V0ICsgMl0gKiBUQVUgLSBNYXRoLlBJOyAvLyBkZWNvZGUgYW5nbGU6IHNlZSBWZXJ0ZXhCdWZmZXJCdWlsZGVyLmFkZFZlcnRleExpbmVcXFxcbiAgICB2YXIgZGlzdEFsb25nID0gdGhpcy52YmZbYmFzZU9mZnNldCArIDNdO1xcXFxuICAgIHZhciBsaW5lV2lkdGggPSB0aGlzLnZiZltiYXNlT2Zmc2V0ICsgNF0gKiAyLjA7XFxcXG4gIH1cXFxcblxcXFxuICB2YXIgeDEgPSB4MCArIGRpc3RBbG9uZyAqIE1hdGguY29zKGFuZ2xlKTtcXFxcbiAgdmFyIHkxID0geTAgKyBkaXN0QWxvbmcgKiBNYXRoLnNpbihhbmdsZSk7XFxcXG5cXFxcbiAgY2FsbGJhY2sub25MaW5lU2VnbWVudCh4MCwgeTAsIHgxLCB5MSwgdnBJZCwgbGluZVdpZHRoKTtcXFxcbn07XFxcXG5cXFxcblZlcnRleEJ1ZmZlclJlYWRlci5wcm90b3R5cGUuZGVjb2RlQ2lyY3VsYXJBcmNBdCA9IGZ1bmN0aW9uICh2aW5kZXgsIGxheWVyLCB2cElkLCBjYWxsYmFjaylcXFxcbntcXFxcbiAgaWYgKCFjYWxsYmFjay5vbkNpcmN1bGFyQXJjKSB7cmV0dXJuO31cXFxcblxcXFxuICBpZiAodGhpcy51c2VDb21wYWN0QnVmZmVycykge1xcXFxuICAgIHZhciB2ZXJ0ZXhPZmZzZXQgPSB0aGlzLnN0cmlkZSAqIHZpbmRleCAqIDI7XFxcXG4gICAgdmFyIGN4ID0gdGhpcy51c2VDb21wYWN0QnVmZmVycy54ICogdGhpcy52YnNbdmVydGV4T2Zmc2V0XSAvIDY1NTM1ICsgdGhpcy51c2VDb21wYWN0QnVmZmVycy56O1xcXFxuICAgIHZhciBjeSA9IHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMueSAqIHRoaXMudmJzW3ZlcnRleE9mZnNldCArIDFdIC8gNjU1MzUgKyB0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLnc7XFxcXG4gICAgdmFyIHN0YXJ0ID0gdGhpcy52YnNbdmVydGV4T2Zmc2V0ICsgMl0gLyA2NTUzNSAqIFRBVTtcXFxcbiAgICB2YXIgZW5kID0gdGhpcy52YnNbdmVydGV4T2Zmc2V0ICsgM10gLyA2NTUzNSAqIFRBVTtcXFxcbiAgICB2YXIgcmFkaXVzID0gdGhpcy52YnNbdmVydGV4T2Zmc2V0ICsgNV0gLyA2NTUzNSAqIE1hdGgubWF4KHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMueCwgdGhpcy51c2VDb21wYWN0QnVmZmVycy55KTtcXFxcbiAgfSBlbHNlIHtcXFxcbiAgICB2YXIgYmFzZU9mZnNldCA9IHRoaXMuc3RyaWRlICogdmluZGV4O1xcXFxuICAgIHZhciBjeCA9IHRoaXMudmJmW2Jhc2VPZmZzZXRdO1xcXFxuICAgIHZhciBjeSA9IHRoaXMudmJmW2Jhc2VPZmZzZXQgKyAxXTtcXFxcbiAgICB2YXIgc3RhcnQgPSB0aGlzLnZiZltiYXNlT2Zmc2V0ICsgMl0gKiBUQVU7XFxcXG4gICAgdmFyIGVuZCA9IHRoaXMudmJmW2Jhc2VPZmZzZXQgKyAzXSAqIFRBVTtcXFxcbiAgICB2YXIgcmFkaXVzID0gdGhpcy52YmZbYmFzZU9mZnNldCArIDVdO1xcXFxuICB9XFxcXG5cXFxcbiAgY2FsbGJhY2sub25DaXJjdWxhckFyYyhjeCwgY3ksIHN0YXJ0LCBlbmQsIHJhZGl1cywgdnBJZCk7XFxcXG59O1xcXFxuXFxcXG5WZXJ0ZXhCdWZmZXJSZWFkZXIucHJvdG90eXBlLmRlY29kZUVsbGlwdGljYWxBcmNBdCA9IGZ1bmN0aW9uICh2aW5kZXgsIGxheWVyLCB2cElkLCBjYWxsYmFjaylcXFxcbntcXFxcbiAgaWYgKCFjYWxsYmFjay5vbkVsbGlwdGljYWxBcmMpIHtyZXR1cm47fVxcXFxuXFxcXG4gIC8vIE5vdGU6IGNvbXBhY3Rpb24gd2lsbCBub3QgaGFwcGVuIGZvciB0aGUgVkJCX0dUX0FSQ19FTExJUFRJQ0FMXFxcXG4gIHZhciBiYXNlT2Zmc2V0ID0gdGhpcy5zdHJpZGUgKiB2aW5kZXg7XFxcXG4gIHZhciBjeCA9IHRoaXMudmJmW2Jhc2VPZmZzZXRdO1xcXFxuICB2YXIgY3kgPSB0aGlzLnZiZltiYXNlT2Zmc2V0ICsgMV07XFxcXG4gIHZhciBzdGFydCA9IHRoaXMudmJmW2Jhc2VPZmZzZXQgKyAyXSAqIFRBVTtcXFxcbiAgdmFyIGVuZCA9IHRoaXMudmJmW2Jhc2VPZmZzZXQgKyAzXSAqIFRBVTtcXFxcbiAgdmFyIG1ham9yID0gdGhpcy52YmZbYmFzZU9mZnNldCArIDVdO1xcXFxuICB2YXIgbWlub3IgPSB0aGlzLnZiZltiYXNlT2Zmc2V0ICsgMTBdO1xcXFxuICB2YXIgdGlsdCA9IHRoaXMudmJmW2Jhc2VPZmZzZXQgKyAxMV07XFxcXG5cXFxcbiAgY2FsbGJhY2sub25FbGxpcHRpY2FsQXJjKGN4LCBjeSwgc3RhcnQsIGVuZCwgbWFqb3IsIG1pbm9yLCB0aWx0LCB2cElkKTtcXFxcbn07XFxcXG5cXFxcblZlcnRleEJ1ZmZlclJlYWRlci5wcm90b3R5cGUuZGVjb2RlVGV4UXVhZEF0ID0gZnVuY3Rpb24gKHZpbmRleCwgbGF5ZXIsIHZwSWQsIGNhbGxiYWNrKVxcXFxue1xcXFxuICBpZiAoIWNhbGxiYWNrLm9uVGV4UXVhZCkge3JldHVybjt9XFxcXG5cXFxcbiAgaWYgKHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMpIHtcXFxcbiAgICB2YXIgdmVydGV4T2Zmc2V0ID0gdGhpcy5zdHJpZGUgKiB2aW5kZXggKiAyO1xcXFxuICAgIHZhciBjZW50ZXJYID0gdGhpcy51c2VDb21wYWN0QnVmZmVycy54ICogdGhpcy52YnNbdmVydGV4T2Zmc2V0XSAvIDY1NTM1ICsgdGhpcy51c2VDb21wYWN0QnVmZmVycy56O1xcXFxuICAgIHZhciBjZW50ZXJZID0gdGhpcy51c2VDb21wYWN0QnVmZmVycy55ICogdGhpcy52YnNbdmVydGV4T2Zmc2V0ICsgMV0gLyA2NTUzNSArIHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMudztcXFxcbiAgICB2YXIgcm90YXRpb24gPSB0aGlzLnZic1t2ZXJ0ZXhPZmZzZXQgKyAyXSAvIDY1NTM1ICogVEFVO1xcXFxuICAgIHZhciB3aWR0aCA9IHRoaXMudmJzW3ZlcnRleE9mZnNldCArIDNdIC8gNjU1MzUgKiBNYXRoLm1heCh0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLngsIHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMueSk7XFxcXG4gICAgdmFyIGhlaWdodCA9IHRoaXMudmJzW3ZlcnRleE9mZnNldCArIDRdIC8gNjU1MzUgKiBNYXRoLm1heCh0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLngsIHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMueSk7XFxcXG4gIH0gZWxzZSB7XFxcXG4gICAgdmFyIGJhc2VPZmZzZXQgPSB0aGlzLnN0cmlkZSAqIHZpbmRleDtcXFxcbiAgICB2YXIgY2VudGVyWCA9IHRoaXMudmJmW2Jhc2VPZmZzZXRdO1xcXFxuICAgIHZhciBjZW50ZXJZID0gdGhpcy52YmZbYmFzZU9mZnNldCArIDFdO1xcXFxuICAgIC8vIHllcywgdGhpcyBpcyBpbiBhIGRpZmZlcmVudCBvcmRlciB0aGFuIG91dHB1dCwgZm9sbG93aW5nIFZlcnRleEJ1ZmZlckJ1aWxkZXIncyBvcmRlclxcXFxuICAgIHZhciByb3RhdGlvbiA9IHRoaXMudmJmW2Jhc2VPZmZzZXQgKyAyXSAqIFRBVTtcXFxcbiAgICB2YXIgd2lkdGggPSB0aGlzLnZiZltiYXNlT2Zmc2V0ICsgM107XFxcXG4gICAgdmFyIGhlaWdodCA9IHRoaXMudmJmW2Jhc2VPZmZzZXQgKyA0XTtcXFxcbiAgfVxcXFxuXFxcXG4gIGNhbGxiYWNrLm9uVGV4UXVhZChjZW50ZXJYLCBjZW50ZXJZLCB3aWR0aCwgaGVpZ2h0LCByb3RhdGlvbiwgdnBJZCk7XFxcXG59O1xcXFxuXFxcXG5WZXJ0ZXhCdWZmZXJSZWFkZXIucHJvdG90eXBlLmRlY29kZU9uZVRyaWFuZ2xlQXQgPSBmdW5jdGlvbiAodmluZGV4LCBsYXllciwgdnBJZCwgY2FsbGJhY2spXFxcXG57XFxcXG4gIGlmICghY2FsbGJhY2sub25PbmVUcmlhbmdsZSkge3JldHVybjt9XFxcXG5cXFxcbiAgaWYgKHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMpIHtcXFxcbiAgICB2YXIgdmVydGV4T2Zmc2V0ID0gdGhpcy5zdHJpZGUgKiB2aW5kZXggKiAyO1xcXFxuICAgIHZhciB4MSA9IHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMueCAqIHRoaXMudmJzW3ZlcnRleE9mZnNldF0gLyA2NTUzNSArIHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMuejtcXFxcbiAgICB2YXIgeTEgPSB0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLnkgKiB0aGlzLnZic1t2ZXJ0ZXhPZmZzZXQgKyAxXSAvIDY1NTM1ICsgdGhpcy51c2VDb21wYWN0QnVmZmVycy53O1xcXFxuICAgIHZhciB4MiA9IHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMueCAqIHRoaXMudmJzW3ZlcnRleE9mZnNldCArIDJdIC8gNjU1MzUgKyB0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLno7XFxcXG4gICAgdmFyIHkyID0gdGhpcy51c2VDb21wYWN0QnVmZmVycy55ICogdGhpcy52YnNbdmVydGV4T2Zmc2V0ICsgM10gLyA2NTUzNSArIHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMudztcXFxcbiAgICB2YXIgeDMgPSB0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLnggKiB0aGlzLnZic1t2ZXJ0ZXhPZmZzZXQgKyA0XSAvIDY1NTM1ICsgdGhpcy51c2VDb21wYWN0QnVmZmVycy56O1xcXFxuICAgIHZhciB5MyA9IHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMueSAqIHRoaXMudmJzW3ZlcnRleE9mZnNldCArIDVdIC8gNjU1MzUgKyB0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLnc7XFxcXG4gIH0gZWxzZSB7XFxcXG4gICAgdmFyIGJhc2VPZmZzZXQgPSB0aGlzLnN0cmlkZSAqIHZpbmRleDtcXFxcbiAgICB2YXIgeDEgPSB0aGlzLnZiZltiYXNlT2Zmc2V0XTtcXFxcbiAgICB2YXIgeTEgPSB0aGlzLnZiZltiYXNlT2Zmc2V0ICsgMV07XFxcXG4gICAgdmFyIHgyID0gdGhpcy52YmZbYmFzZU9mZnNldCArIDJdO1xcXFxuICAgIHZhciB5MiA9IHRoaXMudmJmW2Jhc2VPZmZzZXQgKyAzXTtcXFxcbiAgICB2YXIgeDMgPSB0aGlzLnZiZltiYXNlT2Zmc2V0ICsgNF07XFxcXG4gICAgdmFyIHkzID0gdGhpcy52YmZbYmFzZU9mZnNldCArIDVdO1xcXFxuICB9XFxcXG5cXFxcbiAgY2FsbGJhY2sub25PbmVUcmlhbmdsZSh4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB2cElkKTtcXFxcbn07XFxcXG5cXFxcblxcXFxuVmVydGV4QnVmZmVyUmVhZGVyLnByb3RvdHlwZS5kZWNvZGVUcmlhbmdsZUluZGV4ZWQgPSBmdW5jdGlvbiAodmkwLCB2aTEsIHZpMiwgbGF5ZXIsIHZwSWQsIGNhbGxiYWNrKVxcXFxue1xcXFxuICBpZiAoIWNhbGxiYWNrLm9uT25lVHJpYW5nbGUpIHtyZXR1cm47fVxcXFxuXFxcXG4gIGlmICh0aGlzLnVzZUNvbXBhY3RCdWZmZXJzKSB7XFxcXG4gICAgdmFyIHZlcnRleE9mZnNldCA9IHRoaXMuc3RyaWRlICogdmkwICogMjtcXFxcbiAgICB2YXIgeDEgPSB0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLnggKiB0aGlzLnZic1t2ZXJ0ZXhPZmZzZXRdIC8gNjU1MzUgKyB0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLno7XFxcXG4gICAgdmFyIHkxID0gdGhpcy51c2VDb21wYWN0QnVmZmVycy55ICogdGhpcy52YnNbdmVydGV4T2Zmc2V0ICsgMV0gLyA2NTUzNSArIHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMudztcXFxcblxcXFxuICAgIHZlcnRleE9mZnNldCA9IHRoaXMuc3RyaWRlICogdmkxICogMjtcXFxcbiAgICB2YXIgeDIgPSB0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLnggKiB0aGlzLnZic1t2ZXJ0ZXhPZmZzZXRdIC8gNjU1MzUgKyB0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLno7XFxcXG4gICAgdmFyIHkyID0gdGhpcy51c2VDb21wYWN0QnVmZmVycy55ICogdGhpcy52YnNbdmVydGV4T2Zmc2V0ICsgMV0gLyA2NTUzNSArIHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMudztcXFxcblxcXFxuICAgIHZlcnRleE9mZnNldCA9IHRoaXMuc3RyaWRlICogdmkyICogMjtcXFxcbiAgICB2YXIgeDMgPSB0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLnggKiB0aGlzLnZic1t2ZXJ0ZXhPZmZzZXRdIC8gNjU1MzUgKyB0aGlzLnVzZUNvbXBhY3RCdWZmZXJzLno7XFxcXG4gICAgdmFyIHkzID0gdGhpcy51c2VDb21wYWN0QnVmZmVycy55ICogdGhpcy52YnNbdmVydGV4T2Zmc2V0ICsgMV0gLyA2NTUzNSArIHRoaXMudXNlQ29tcGFjdEJ1ZmZlcnMudztcXFxcbiAgfSBlbHNlIHtcXFxcbiAgICB2YXIgYmFzZU9mZnNldCA9IHRoaXMuc3RyaWRlICogdmkwO1xcXFxuICAgIHZhciB4MSA9IHRoaXMudmJmW2Jhc2VPZmZzZXRdO1xcXFxuICAgIHZhciB5MSA9IHRoaXMudmJmW2Jhc2VPZmZzZXQgKyAxXTtcXFxcblxcXFxuICAgIGJhc2VPZmZzZXQgPSB0aGlzLnN0cmlkZSAqIHZpMTtcXFxcbiAgICB2YXIgeDIgPSB0aGlzLnZiZltiYXNlT2Zmc2V0XTtcXFxcbiAgICB2YXIgeTIgPSB0aGlzLnZiZltiYXNlT2Zmc2V0ICsgMV07XFxcXG5cXFxcbiAgICBiYXNlT2Zmc2V0ID0gdGhpcy5zdHJpZGUgKiB2aTI7XFxcXG4gICAgdmFyIHgzID0gdGhpcy52YmZbYmFzZU9mZnNldF07XFxcXG4gICAgdmFyIHkzID0gdGhpcy52YmZbYmFzZU9mZnNldCArIDFdO1xcXFxuICB9XFxcXG5cXFxcbiAgY2FsbGJhY2sub25PbmVUcmlhbmdsZSh4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB2cElkKTtcXFxcbn07XFxcXG5cXFxcblZlcnRleEJ1ZmZlclJlYWRlci5wcm90b3R5cGUuZGVjb2RlQnlUeXBlID0gZnVuY3Rpb24gKGdlb21UeXBlLCB2aW5kZXgsIGxheWVyLCB2cElkLCBjYWxsYmFjaykge1xcXFxuICBzd2l0Y2ggKGdlb21UeXBlKSB7XFxcXG4gICAgY2FzZSBWQkJfR1RfTElORV9TRUdNRU5UX01JVEVSOlxcXFxuICAgIGNhc2UgVkJCX0dUX0xJTkVfU0VHTUVOVF9DQVBQRUQ6XFxcXG4gICAgY2FzZSBWQkJfR1RfTElORV9TRUdNRU5UX0NBUFBFRF9TVEFSVDpcXFxcbiAgICBjYXNlIFZCQl9HVF9MSU5FX1NFR01FTlRfQ0FQUEVEX0VORDpcXFxcbiAgICBjYXNlIFZCQl9HVF9MSU5FX1NFR01FTlQ6dGhpcy5kZWNvZGVMaW5lQXQodmluZGV4LCBsYXllciwgdnBJZCwgY2FsbGJhY2spO2JyZWFrO1xcXFxuICAgIGNhc2UgVkJCX0dUX0FSQ19DSVJDVUxBUjp0aGlzLmRlY29kZUNpcmN1bGFyQXJjQXQodmluZGV4LCBsYXllciwgdnBJZCwgY2FsbGJhY2spO2JyZWFrO1xcXFxuICAgIGNhc2UgVkJCX0dUX0FSQ19FTExJUFRJQ0FMOnRoaXMuZGVjb2RlRWxsaXB0aWNhbEFyY0F0KHZpbmRleCwgbGF5ZXIsIHZwSWQsIGNhbGxiYWNrKTticmVhazsgLy8gIGNvbXBhY3Rpb24gaXMgbm90IHBlcmZvcm1lZFxcXFxuICAgIGNhc2UgVkJCX0dUX1RFWF9RVUFEOnRoaXMuZGVjb2RlVGV4UXVhZEF0KHZpbmRleCwgbGF5ZXIsIHZwSWQsIGNhbGxiYWNrKTticmVhaztcXFxcbiAgICBjYXNlIFZCQl9HVF9PTkVfVFJJQU5HTEU6dGhpcy5kZWNvZGVPbmVUcmlhbmdsZUF0KHZpbmRleCwgbGF5ZXIsIHZwSWQsIGNhbGxiYWNrKTticmVhaztcXFxcbiAgICBkZWZhdWx0OmJyZWFrO1xcXFxuICB9XFxcXG5cXFxcbn07XFxcXG5cXFxcbi8vIHVzZWQgYnkgdGhlIHNuYXBwZXIgYW5kIGJ5IHRoZSBib3VuZHMgZmluZGVyXFxcXG5WZXJ0ZXhCdWZmZXJSZWFkZXIucHJvdG90eXBlLmVudW1HZW9tc0Zvck9iamVjdCA9IGZ1bmN0aW9uIChkYklkLCBjYWxsYmFjaylcXFxcbntcXFxcbiAgaWYgKHRoaXMudXNlSW5zdGFuY2luZykge1xcXFxuXFxcXG4gICAgLy9XaGVuIGluc3RhbmNpbmcgaXMgdXNlZCwgZWFjaCBnZW9tZXRyeSBwcmltaXRpdmUgaXMgZW5jb2RlZCBpbnRvIGEgc2luZ2xlIHZlcnRleFxcXFxuICAgIC8vYW5kIHRoZXJlIGlzIG5vIGluZGV4IGJ1ZmZlci5cXFxcblxcXFxuICAgIHZhciBpID0gMDtcXFxcbiAgICB3aGlsZSAoaSA8IHRoaXMudmNvdW50KSB7XFxcXG4gICAgICB2YXIgZmxhZyA9IHRoaXMuZ2V0VmVydGV4RmxhZ3NBdChpKTtcXFxcblxcXFxuICAgICAgLy92YXIgdmVydGV4SWQgID0gKGZsYWcgPj4gIDApICYgMHhmZjsgICAgICAgIC8vICA4IGJpdFxcXFxuICAgICAgdmFyIGdlb21UeXBlID0gZmxhZyA+PiA4ICYgMHhmZjsgLy8gIDggYml0XFxcXG4gICAgICAvL3ZhciBsaW5lUGF0dGVybiA9IChmbGFnID4+IDE2KSAmIDB4ZmY7ICAgICAgLy8gIDggYml0XFxcXG4gICAgICB2YXIgbGF5ZXJJZCA9IHRoaXMuZ2V0TGF5ZXJJbmRleEF0KGkpOyAvLyAxNiBiaXRcXFxcbiAgICAgIHZhciB2cElkID0gdGhpcy5nZXRWaWV3cG9ydEluZGV4QXQoaSk7IC8vIDE2IGJpdFxcXFxuICAgICAgdmFyIHZpc2libGUgPSB0aGlzLmdldERiSWRBdChpKSA9PT0gZGJJZDtcXFxcbiAgICAgIGlmICh2aXNpYmxlKSB7XFxcXG4gICAgICAgIHRoaXMuZGVjb2RlQnlUeXBlKGdlb21UeXBlLCBpLCBsYXllcklkLCB2cElkLCBjYWxsYmFjayk7XFxcXG4gICAgICB9XFxcXG5cXFxcbiAgICAgIC8vSW4gdGhlIGNhc2Ugb2YgaW5zdGFuY2luZywgdGhlcmUgaXMgbm8gdmVydGV4IGR1cGxpY2F0aW9uIGFuZCBubyBpbmRleCBidWZmZXIsIHdlIGp1c3RcXFxcbiAgICAgIC8vbW92ZSB0byB0aGUgbmV4dCB2ZXJ0ZXhcXFxcbiAgICAgIGkgKz0gMTtcXFxcbiAgICB9XFxcXG4gIH0gZWxzZSB7XFxcXG5cXFxcbiAgICB2YXIgaSA9IDA7XFxcXG4gICAgd2hpbGUgKGkgPCB0aGlzLmliLmxlbmd0aCkge1xcXFxuICAgICAgdmFyIHZpID0gdGhpcy5pYltpXTtcXFxcbiAgICAgIHZhciBmbGFnID0gdGhpcy5nZXRWZXJ0ZXhGbGFnc0F0KHZpKTtcXFxcblxcXFxuICAgICAgLy92YXIgdmVydGV4SWQgICAgPSAoZmxhZyA+PiAgMCkgJiAweGZmOyAgICAgICAgLy8gIDggYml0XFxcXG4gICAgICB2YXIgZ2VvbVR5cGUgPSBmbGFnID4+IDggJiAweGZmOyAvLyAgOCBiaXRcXFxcbiAgICAgIC8vdmFyIGxpbmVQYXR0ZXJuID0gKGZsYWcgPj4gMTYpICYgMHhmZjsgICAgICAgIC8vICA4IGJpdFxcXFxuICAgICAgdmFyIGxheWVySWQgPSB0aGlzLmdldExheWVySW5kZXhBdCh2aSk7IC8vIDE2IGJpdFxcXFxuICAgICAgdmFyIHZwSWQgPSB0aGlzLmdldFZpZXdwb3J0SW5kZXhBdCh2aSk7IC8vIDE2IGJpdFxcXFxuXFxcXG4gICAgICB2YXIgdmlzaWJsZSA9IHRoaXMuZ2V0RGJJZEF0KHZpKSA9PT0gZGJJZDtcXFxcblxcXFxuICAgICAgaWYgKGdlb21UeXBlID09PSBWQkJfR1RfVFJJQU5HTEVfSU5ERVhFRCkge1xcXFxuXFxcXG4gICAgICAgIC8vVHJpYW5nbGVzIGFyZSBlbmNvZGVkIGluIHRocmVlIHZlcnRpY2VzIChsaWtlIGEgc2ltcGxlIG1lc2gpIGluc3RlYWQgb2YgNCBsaWtlIGV2ZXJ5dGhpbmcgZWxzZVxcXFxuXFxcXG4gICAgICAgIGlmICh2aXNpYmxlKSB7XFxcXG4gICAgICAgICAgdGhpcy5kZWNvZGVUcmlhbmdsZUluZGV4ZWQodGhpcy5pYltpXSwgdGhpcy5pYltpICsgMV0sIHRoaXMuaWJbaSArIDJdLCBsYXllcklkLCB2cElkLCBjYWxsYmFjayk7XFxcXG4gICAgICAgIH1cXFxcblxcXFxuICAgICAgICAvL0FkdmFuY2UgdG8gdGhlIG5leHQgcHJpbWl0aXZlXFxcXG4gICAgICAgIGkgKz0gMztcXFxcblxcXFxuICAgICAgfSBlbHNlIHtcXFxcblxcXFxuICAgICAgICBpZiAodmlzaWJsZSkge1xcXFxuICAgICAgICAgIHRoaXMuZGVjb2RlQnlUeXBlKGdlb21UeXBlLCB2aSwgbGF5ZXJJZCwgdnBJZCwgY2FsbGJhY2spO1xcXFxuICAgICAgICB9XFxcXG5cXFxcbiAgICAgICAgLy9Ta2lwIGR1cGxpY2F0ZSB2ZXJ0aWNlcyAod2hlbiBub3QgdXNpbmcgaW5zdGFuY2luZyBhbmQgdGhlIGdlb21ldHJ5IGlzIG5vdCBhIHNpbXBsZSBwb2x5dHJpYW5nbGUsXFxcXG4gICAgICAgIC8vZWFjaCB2ZXJ0ZXggaXMgbGlzdGVkIGZvdXIgdGltZXMgd2l0aCBhIGRpZmZlcmVudCB2ZXJ0ZXhJZCBmbGFnXFxcXG4gICAgICAgIGkgKz0gNjtcXFxcbiAgICAgIH1cXFxcblxcXFxuXFxcXG4gICAgfVxcXFxuICB9XFxcXG5cXFxcbn07XFxcXG5cXFxcblxcXFxuLyoqXFxcXG4gKiBVc2VkIGJ5IHRoZSBib3VuZHMgZmluZGVyLlxcXFxuICogQHBhcmFtIHthcnJheVtudW1iZXJdfSBsYXllcklkc1Zpc2libGUgLSBsaXN0IG9mIGxheWVyIGlkcyB0aGF0IGFyZSB2aXNpYmxlXFxcXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xcXFxuICogQHByaXZhdGVcXFxcbiAqL1xcXFxuVmVydGV4QnVmZmVyUmVhZGVyLnByb3RvdHlwZS5lbnVtR2VvbXNGb3JWaXNpYmxlTGF5ZXIgPSBmdW5jdGlvbiAobGF5ZXJJZHNWaXNpYmxlLCBjYWxsYmFjaylcXFxcbntcXFxcbiAgdmFyIGZpbHRlciA9IGZ1bmN0aW9uIChkYklkLCBsYXllcklkLCB2aWV3cG9ydElkKSB7XFxcXG4gICAgcmV0dXJuICFsYXllcklkc1Zpc2libGUgfHwgbGF5ZXJJZCAhPT0gMCAmJiBsYXllcklkc1Zpc2libGUuaW5kZXhPZihsYXllcklkKSAhPT0gLTE7XFxcXG4gIH07XFxcXG4gIHRoaXMuZW51bUdlb21zKGZpbHRlciwgY2FsbGJhY2spO1xcXFxufTtcXFxcblxcXFxuXFxcXG4vKipcXFxcbiAqIEVudW1lcmF0ZSBhbGwgZ2VvbWV0cmljIHByaW1pdGl2ZXMgdGhhdCBtYXRjaCB0aGUgZ2l2ZW4gZmlsdGVyLlxcXFxuICogQHBhcmFtIHtmdW5jdGlvbn0gW2ZpbHRlcl0gLSBmdW5jdGlvbihkYklkLCBsYXllcklkLCB2aWV3cG9ydElkKTogRmlsdGVyIGZ1bmN0aW9uIHRvIGRlZmluZSBhIHN1YnNldCBvZiBwcmltaXRpdmVzIHRvIGluY2x1ZGUuIEJ5IGRlZmF1bHQsIGFsbCBnZW9tZXRyeSBpcyBpbmNsdWRlZC5cXFxcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXFxcXG4gKiBAcHJpdmF0ZVxcXFxuICovXFxcXG5WZXJ0ZXhCdWZmZXJSZWFkZXIucHJvdG90eXBlLmVudW1HZW9tcyA9IGZ1bmN0aW9uIChmaWx0ZXIsIGNhbGxiYWNrKVxcXFxue1xcXFxuICBpZiAodGhpcy51c2VJbnN0YW5jaW5nKSB7XFxcXG5cXFxcbiAgICAvL1doZW4gaW5zdGFuY2luZyBpcyB1c2VkLCBlYWNoIGdlb21ldHJ5IHByaW1pdGl2ZSBpcyBlbmNvZGVkIGludG8gYSBzaW5nbGUgdmVydGV4XFxcXG4gICAgLy9hbmQgdGhlcmUgaXMgbm8gaW5kZXggYnVmZmVyLlxcXFxuXFxcXG4gICAgdmFyIGkgPSAwO1xcXFxuICAgIHdoaWxlIChpIDwgdGhpcy52Y291bnQpIHtcXFxcbiAgICAgIHZhciBmbGFnID0gdGhpcy5nZXRWZXJ0ZXhGbGFnc0F0KGkpO1xcXFxuXFxcXG4gICAgICAvL3ZhciB2ZXJ0ZXhJZCAgICA9IChmbGFnID4+ICAwKSAmIDB4ZmY7ICAgICAgICAvLyAgOCBiaXRcXFxcbiAgICAgIHZhciBnZW9tVHlwZSA9IGZsYWcgPj4gOCAmIDB4ZmY7IC8vICA4IGJpdFxcXFxuICAgICAgLy92YXIgbGluZVBhdHRlcm4gPSAoZmxhZyA+PiAxNikgJiAweGZmOyAgICAgICAgLy8gIDggYml0XFxcXG4gICAgICB2YXIgbGF5ZXJJZCA9IHRoaXMuZ2V0TGF5ZXJJbmRleEF0KGkpOyAvLyAxNiBiaXRcXFxcbiAgICAgIHZhciB2cElkID0gdGhpcy5nZXRWaWV3cG9ydEluZGV4QXQoaSk7IC8vIDE2IGJpdFxcXFxuICAgICAgdmFyIGRiSWQgPSB0aGlzLmdldERiSWRBdChpKTtcXFxcblxcXFxuICAgICAgLy8gR2V0IHRoZSBib3VuZHMgb2Ygb25seSB0aGUgdmlzaWJsZSBsYXllcnMuIElnbm9yZSBsYXllciAwLCB3aGljaCBpcyBhbHdheXMgdGhlIHBhZ2UuXFxcXG4gICAgICAvLyBJZiBsYXllcklkIHZpc2liaWxpdHkgaXMgbm90IHNldCwgY29uc2lkZXIgdGhlIGxheWVyIHZpc2libGUuXFxcXG4gICAgICB2YXIgdmlzaWJsZSA9ICFmaWx0ZXIgfHwgZmlsdGVyKGRiSWQsIGxheWVySWQsIHZwSWQpO1xcXFxuICAgICAgaWYgKHZpc2libGUpIHtcXFxcbiAgICAgICAgdGhpcy5kZWNvZGVCeVR5cGUoZ2VvbVR5cGUsIGksIGxheWVySWQsIHZwSWQsIGNhbGxiYWNrKTtcXFxcbiAgICAgIH1cXFxcblxcXFxuICAgICAgLy9JbiB0aGUgY2FzZSBvZiBpbnN0YW5jaW5nLCB0aGVyZSBpcyBubyB2ZXJ0ZXggZHVwbGljYXRpb24gYW5kIG5vIGluZGV4IGJ1ZmZlciwgd2UganVzdFxcXFxuICAgICAgLy9tb3ZlIHRvIHRoZSBuZXh0IHZlcnRleFxcXFxuICAgICAgaSArPSAxO1xcXFxuICAgIH1cXFxcbiAgfSBlbHNlIHtcXFxcblxcXFxuICAgIHZhciBpID0gMDtcXFxcbiAgICB3aGlsZSAoaSA8IHRoaXMuaWIubGVuZ3RoKSB7XFxcXG4gICAgICB2YXIgdmkgPSB0aGlzLmliW2ldO1xcXFxuICAgICAgdmFyIGZsYWcgPSB0aGlzLmdldFZlcnRleEZsYWdzQXQodmkpO1xcXFxuXFxcXG4gICAgICAvL3ZhciB2ZXJ0ZXhJZCAgICA9IChmbGFnID4+ICAwKSAmIDB4ZmY7ICAgICAgICAvLyAgOCBiaXRcXFxcbiAgICAgIHZhciBnZW9tVHlwZSA9IGZsYWcgPj4gOCAmIDB4ZmY7IC8vICA4IGJpdFxcXFxuICAgICAgLy92YXIgbGluZVBhdHRlcm4gPSAoZmxhZyA+PiAxNikgJiAweGZmOyAgICAgICAgLy8gIDggYml0XFxcXG4gICAgICB2YXIgbGF5ZXJJZCA9IHRoaXMuZ2V0TGF5ZXJJbmRleEF0KHZpKTsgLy8gMTYgYml0XFxcXG4gICAgICB2YXIgdnBJZCA9IHRoaXMuZ2V0Vmlld3BvcnRJbmRleEF0KHZpKTsgLy8gMTYgYml0XFxcXG4gICAgICB2YXIgZGJJZCA9IHRoaXMuZ2V0RGJJZEF0KHZpKTtcXFxcblxcXFxuICAgICAgLy8gR2V0IHRoZSBib3VuZHMgb2Ygb25seSB0aGUgdmlzaWJsZSBsYXllcnMuIElnbm9yZSBsYXllciAwLCB3aGljaCBpcyBhbHdheXMgdGhlIHBhZ2UuXFxcXG4gICAgICAvLyBJZiBsYXllcklkIHZpc2liaWxpdHkgaXMgbm90IHNldCwgY29uc2lkZXIgdGhlIGxheWVyIHZpc2libGUuXFxcXG4gICAgICB2YXIgdmlzaWJsZSA9ICFmaWx0ZXIgfHwgZmlsdGVyKGRiSWQsIGxheWVySWQsIHZwSWQpO1xcXFxuXFxcXG4gICAgICBpZiAoZ2VvbVR5cGUgPT09IFZCQl9HVF9UUklBTkdMRV9JTkRFWEVEKSB7XFxcXG5cXFxcbiAgICAgICAgLy9UcmlhbmdsZXMgYXJlIGVuY29kZWQgaW4gdGhyZWUgdmVydGljZXMgKGxpa2UgYSBzaW1wbGUgbWVzaCkgaW5zdGVhZCBvZiA0IGxpa2UgZXZlcnl0aGluZyBlbHNlXFxcXG5cXFxcbiAgICAgICAgaWYgKHZpc2libGUpIHtcXFxcbiAgICAgICAgICB0aGlzLmRlY29kZVRyaWFuZ2xlSW5kZXhlZCh0aGlzLmliW2ldLCB0aGlzLmliW2kgKyAxXSwgdGhpcy5pYltpICsgMl0sIGxheWVySWQsIHZwSWQsIGNhbGxiYWNrKTtcXFxcbiAgICAgICAgfVxcXFxuXFxcXG4gICAgICAgIC8vQWR2YW5jZSB0byB0aGUgbmV4dCBwcmltaXRpdmVcXFxcbiAgICAgICAgaSArPSAzO1xcXFxuXFxcXG4gICAgICB9IGVsc2Uge1xcXFxuICAgICAgICBpZiAodmlzaWJsZSkge1xcXFxuICAgICAgICAgIHRoaXMuZGVjb2RlQnlUeXBlKGdlb21UeXBlLCB2aSwgbGF5ZXJJZCwgdnBJZCwgY2FsbGJhY2spO1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIC8vU2tpcCBkdXBsaWNhdGUgdmVydGljZXMgKHdoZW4gbm90IHVzaW5nIGluc3RhbmNpbmcgYW5kIHRoZSBnZW9tZXRyeSBpcyBub3QgYSBzaW1wbGUgcG9seXRyaWFuZ2xlLFxcXFxuICAgICAgICAvL2VhY2ggdmVydGV4IGlzIGxpc3RlZCBmb3VyIHRpbWVzIHdpdGggYSBkaWZmZXJlbnQgdmVydGV4SWQgZmxhZ1xcXFxuICAgICAgICBpICs9IDY7XFxcXG4gICAgICB9XFxcXG5cXFxcbiAgICB9XFxcXG4gIH1cXFxcblxcXFxufTsvLyMgc291cmNlVVJMPVttb2R1bGVdXFxcXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaUxpOXpjbU12ZDJkekwzTmpaVzVsTDFabGNuUmxlRUoxWm1abGNsSmxZV1JsY2k1cWN5SXNJbTFoY0hCcGJtZHpJam9pT3pzN096dEJRVU5oT3p0QlFVVmlMRWxCUVVsQkxFZEJRVWNzUjBGQlIwTXNTVUZCU1N4RFFVRkRReXhGUVVGRkxFZEJRVWNzUTBGQlF6czdRVUZGY2tJN1FVRkRRU3hKUVVGSlF5eDFRa0ZCZFVJc1IwRkJTeXhEUVVGRE8wVkJRemRDUXl4dFFrRkJiVUlzUjBGQlV5eERRVUZETzBWQlF6ZENReXh0UWtGQmJVSXNSMEZCVXl4RFFVRkRPMFZCUXpkQ1F5eHhRa0ZCY1VJc1IwRkJUeXhEUVVGRE8wVkJRemRDUXl4bFFVRmxMRWRCUVdFc1EwRkJRenRGUVVNM1FrTXNiVUpCUVcxQ0xFZEJRVk1zUTBGQlF6dEZRVU0zUWtNc01FSkJRVEJDTEVkQlFVY3NRMEZCUXp0RlFVTTVRa01zWjBOQlFXZERMRWRCUVVjc1EwRkJRenRGUVVOd1EwTXNPRUpCUVRoQ0xFZEJRVWNzUlVGQlJUdEZRVU51UTBNc2VVSkJRWGxDTEVkQlFVY3NSVUZCUlRzN1FVRkZiRU1zU1VGQlNVTXNaMEpCUVdkQ0xFZEJRVTBzUTBGQlF6dEZRVU4yUWtNc1pVRkJaU3hIUVVGUExFTkJRVU03UlVGRGRrSkRMR2RDUVVGblFpeEhRVUZOTEVOQlFVTTdSVUZEZGtKRExHMUNRVUZ0UWl4SFFVRkhMRU5CUVVNN08wRkJSVE5DTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRUeXhUUVVGVFF5eHJRa0ZCYTBKQkxFTkJRVU5ETEZGQlFWRTdRVUZETTBNc1MwRkJRVU1zYTBKQlFVRTdSVUZEU1N4SlFVRkpMRU5CUVVORExFVkJRVVVzUjBGQlNVWXNVVUZCVVN4RFFVRkRSU3hGUVVGRkxFTkJRVU5ETEUxQlFVMDdSVUZETjBJc1NVRkJTU3hEUVVGRFF5eE5RVUZOTEVkQlFVZEtMRkZCUVZFc1EwRkJRMHNzVVVGQlVUczdSVUZGTDBJc1NVRkJTU3hEUVVGRFF5eEhRVUZITEVkQlFVY3NTVUZCU1VNc1dVRkJXU3hEUVVGRExFbEJRVWtzUTBGQlEwd3NSVUZCUlN4RFFVRkRPMFZCUTNCRExFbEJRVWtzUTBGQlEwMHNSMEZCUnl4SFFVRkhMRWxCUVVsRExGVkJRVlVzUTBGQlF5eEpRVUZKTEVOQlFVTlFMRVZCUVVVc1EwRkJRenRGUVVOc1F5eEpRVUZKTEVOQlFVTlJMRWRCUVVjc1IwRkJSeXhKUVVGSlF5eFhRVUZYTEVOQlFVTXNTVUZCU1N4RFFVRkRWQ3hGUVVGRkxFTkJRVU03TzBWQlJXNURMRWxCUVVrc1EwRkJRMVVzUlVGQlJTeEhRVUZIV2l4UlFVRlJMRU5CUVVOWkxFVkJRVVU3TzBWQlJYSkNMRWxCUVVrc1EwRkJRME1zVFVGQlRTeEhRVUZITEVsQlFVa3NRMEZCUTFBc1IwRkJSeXhEUVVGRFVTeE5RVUZOTEVkQlFVY3NTVUZCU1N4RFFVRkRWaXhOUVVGTk96dEZRVVV6UXl4SlFVRkpMRU5CUVVOWExHRkJRV0VzUjBGQlIyWXNVVUZCVVN4RFFVRkRaMElzV1VGQldTeEhRVUZITEVOQlFVTTdSVUZET1VNc1NVRkJTU3hEUVVGRFF5eHBRa0ZCYVVJc1IwRkJSMnBDTEZGQlFWRXNRMEZCUTJ0Q0xGZEJRVmM3UlVGRE4wTXNTVUZCU1N4RFFVRkRReXhQUVVGUExFZEJRVWNzU1VGQlNTeERRVUZEUml4cFFrRkJhVUlzVFVGQlFXaENMR3RDUVVGQkxFZEJRVWxFTEZGQlFWRXNRMEZCUTI5Q0xGRkJRVkVzWTBGQlFXNUNMR3RDUVVGQkxHZENRVUZCUVN4clFrRkJRU3hIUVVGcVFrRXNhMEpCUVVFc1EwRkJiVUp2UWl4TFFVRkxMR05CUVVGd1FpeHJRa0ZCUVN4MVFrRkJlRUpCTEd0Q1FVRkJMRU5CUVRCQ2NVSXNTVUZCU1N4TFFVRkpMRWxCUVVsRExGZEJRVmNzUTBGQlEzWkNMRkZCUVZFc1EwRkJRMjlDTEZGQlFWRXNRMEZCUTBNc1MwRkJTeXhEUVVGRFF5eEpRVUZKTEVOQlFVTnVRaXhOUVVGTkxFTkJRVU03TzBWQlJTOUlPMFZCUTBFN1JVRkRRVHRGUVVOQkxFbEJRVWtzUTBGQlEzRkNMR1ZCUVdVc1IwRkJSeXhEUVVGRExFMUJRVTA3U1VGRE1VSXNUVUZCVFVNc1NVRkJTU3hIUVVGSGVrSXNVVUZCVVN4RFFVRkRNRUlzVlVGQlZUdEpRVU5vUXl4SlFVRkpMRU5CUVVORUxFbEJRVWtzUlVGQlJTeFBRVUZQTEV0QlFVczdPMGxCUlhaQ0xFMUJRVTFGTEZOQlFWTXNSMEZCUjBZc1NVRkJTU3hEUVVGRFJ5eFRRVUZUTzBsQlEyaERMRTFCUVUxRExFOUJRVThzUjBGQlMwb3NTVUZCU1N4RFFVRkRTeXhQUVVGUE96dEpRVVU1UWl4SlFVRkpMRWxCUVVrc1EwRkJRMklzYVVKQlFXbENMRVZCUVVVN1RVRkRlRUlzVFVGQlRXTXNWVUZCVlN4SFFVRkpUaXhKUVVGSkxFTkJRVU5QTEZOQlFWTTdUVUZEYkVNc1QwRkJUMFFzVlVGQlZTeEpRVUZKU2l4VFFVRlRMRWxCUVVsRkxFOUJRVTg3U1VGRE4wTXNRMEZCUXl4TlFVRk5PMDFCUTBnc1RVRkJUVWtzVVVGQlVTeEhRVUZKVWl4SlFVRkpMRU5CUVVOVExFOUJRVTg3VFVGRE9VSXNUVUZCVFVNc1MwRkJTeXhIUVVGUFZpeEpRVUZKTEVOQlFVTlhMRTFCUVUwN1RVRkROMElzVDBGQlQwZ3NVVUZCVVN4SlFVRkpSU3hMUVVGTExFbEJRVWxTTEZOQlFWTXNTVUZCU1VVc1QwRkJUenRKUVVOd1JEdEZRVU5LTEVOQlFVTXNSVUZCUlN4RFFVRkRPMEZCUTFJc1EwRkJRenM3UVVGRlJEbENMR3RDUVVGclFpeERRVUZEYzBNc1UwRkJVeXhEUVVGRFF5eFRRVUZUTEVkQlFVY3NWVUZCVTBNc1RVRkJUU3hGUVVGRk8wVkJRM1JFTEVsQlFVY3NTVUZCU1N4RFFVRkRjRUlzVDBGQlR5eEZRVUZGTzBsQlEySXNUMEZCVHl4SlFVRkpMRU5CUVVOQkxFOUJRVThzUTBGQlF5eEpRVUZKTEVOQlFVTlVMRWRCUVVjc1EwRkJRelpDTEUxQlFVMHNSMEZCUXl4SlFVRkpMRU5CUVVOdVF5eE5RVUZOTEVkQlFVY3NRMEZCUXl4SFFVRkhVaXhsUVVGbExFTkJRVU1zUTBGQlF6dEZRVU16UlR0RlFVTkJMRTlCUVU4c1NVRkJTU3hEUVVGRFdTeEhRVUZITEVOQlFVTXJRaXhOUVVGTkxFZEJRVU1zU1VGQlNTeERRVUZEYmtNc1RVRkJUU3hIUVVGSFVpeGxRVUZsTEVOQlFVTTdRVUZEZWtRc1EwRkJRenM3UVVGRlJFY3NhMEpCUVd0Q0xFTkJRVU56UXl4VFFVRlRMRU5CUVVOSExGVkJRVlVzUjBGQlJ5eFZRVUZUUkN4TlFVRk5MRVZCUVVVN1JVRkRka1FzU1VGQlJ5eEpRVUZKTEVOQlFVTndRaXhQUVVGUExFVkJRVVU3U1VGRFlpeFBRVUZQTEVsQlFVa3NRMEZCUTBFc1QwRkJUeXhEUVVGRExFbEJRVWtzUTBGQlExUXNSMEZCUnl4RFFVRkROa0lzVFVGQlRTeEhRVUZETEVsQlFVa3NRMEZCUTI1RExFMUJRVTBzUjBGQlJ5eERRVUZETEVkQlFVZFVMR2RDUVVGblFpeERRVUZETEVOQlFVTTdSVUZETlVVN1JVRkRRU3hQUVVGUExFbEJRVWtzUTBGQlEyRXNSMEZCUnl4RFFVRkRLMElzVFVGQlRTeEhRVUZETEVsQlFVa3NRMEZCUTI1RExFMUJRVTBzUjBGQlIxUXNaMEpCUVdkQ0xFTkJRVU03UVVGRE1VUXNRMEZCUXpzN1FVRkZSRWtzYTBKQlFXdENMRU5CUVVOelF5eFRRVUZUTEVOQlFVTkpMR2RDUVVGblFpeEhRVUZITEZWQlFWTkdMRTFCUVUwc1JVRkJSVHRGUVVNM1JDeEpRVUZITEVsQlFVa3NRMEZCUTNCQ0xFOUJRVThzUlVGQlJUdEpRVU5pTEU5QlFVOHNTVUZCU1N4RFFVRkRXQ3hIUVVGSExFTkJRVU1yUWl4TlFVRk5MRWRCUVVNc1NVRkJTU3hEUVVGRGJrTXNUVUZCVFN4SFFVRkhMRU5CUVVNc1EwRkJRenRGUVVNelF6dEZRVU5CTEU5QlFVOHNTVUZCU1N4RFFVRkRTU3hIUVVGSExFTkJRVU1yUWl4TlFVRk5MRWRCUVVNc1NVRkJTU3hEUVVGRGJrTXNUVUZCVFN4SFFVRkhVQ3huUWtGQlowSXNRMEZCUXp0QlFVTXhSQ3hEUVVGRE96dEJRVVZFUlN4clFrRkJhMElzUTBGQlEzTkRMRk5CUVZNc1EwRkJRMHNzWlVGQlpTeEhRVUZITEZWQlFWTklMRTFCUVUwc1JVRkJSVHRGUVVNMVJDeEpRVUZITEVsQlFVa3NRMEZCUTNCQ0xFOUJRVThzUlVGQlJUdEpRVU5pTEU5QlFVOHNTVUZCU1N4RFFVRkRXQ3hIUVVGSExFTkJRVU1yUWl4TlFVRk5MRWRCUVVNc1NVRkJTU3hEUVVGRGJrTXNUVUZCVFN4SFFVRkhMRU5CUVVNc1EwRkJReXhIUVVGSExFMUJRVTA3UlVGRGNFUTdSVUZEUVN4UFFVRlBMRWxCUVVrc1EwRkJRMGtzUjBGQlJ5eERRVUZESzBJc1RVRkJUU3hIUVVGRExFbEJRVWtzUTBGQlEyNURMRTFCUVUwc1IwRkJSMDRzYlVKQlFXMUNMRU5CUVVNc1IwRkJSeXhOUVVGTk8wRkJRM1JGTEVOQlFVTTdPMEZCUlVSRExHdENRVUZyUWl4RFFVRkRjME1zVTBGQlV5eERRVUZEVFN4clFrRkJhMElzUjBGQlJ5eFZRVUZUU2l4TlFVRk5MRVZCUVVVN1JVRkRMMFFzU1VGQlJ5eEpRVUZKTEVOQlFVTndRaXhQUVVGUExFVkJRVVU3U1VGRFlpeFBRVUZSTEVsQlFVa3NRMEZCUTFnc1IwRkJSeXhEUVVGREswSXNUVUZCVFN4SFFVRkRMRWxCUVVrc1EwRkJRMjVETEUxQlFVMHNSMEZCUnl4RFFVRkRMRU5CUVVNc1NVRkJTU3hGUVVGRkxFZEJRVWtzVFVGQlRUdEZRVU0xUkR0RlFVTkJMRTlCUVZFc1NVRkJTU3hEUVVGRFNTeEhRVUZITEVOQlFVTXJRaXhOUVVGTkxFZEJRVU1zU1VGQlNTeERRVUZEYmtNc1RVRkJUU3hIUVVGSFRpeHRRa0ZCYlVJc1EwRkJReXhKUVVGSkxFVkJRVVVzUjBGQlNTeE5RVUZOTzBGQlF6bEZMRU5CUVVNN08wRkJSVVJETEd0Q1FVRnJRaXhEUVVGRGMwTXNVMEZCVXl4RFFVRkRUeXhaUVVGWkxFZEJRVWNzVlVGQlUwd3NUVUZCVFN4RlFVRkZUU3hMUVVGTExFVkJRVVZETEVsQlFVa3NSVUZCUlVNc1VVRkJVVHRCUVVOc1JqdEZRVU5KTEVsQlFVa3NRMEZCUTBFc1VVRkJVU3hEUVVGRFF5eGhRVUZoTEVWQlFVVXNRMEZCUlN4UFFVRlJPenRGUVVWMlF5eEpRVUZITEVsQlFVa3NRMEZCUXk5Q0xHbENRVUZwUWl4RlFVRkZPMGxCUTNaQ0xFbEJRVWxuUXl4WlFVRlpMRWRCUVVjc1NVRkJTU3hEUVVGRE4wTXNUVUZCVFN4SFFVRkhiVU1zVFVGQlRTeEhRVUZITEVOQlFVTTdTVUZETTBNc1NVRkJTVmNzUlVGQlJTeEhRVUZoTEVsQlFVa3NRMEZCUTJwRExHbENRVUZwUWl4RFFVRkRhME1zUTBGQlF5eEhRVUZITEVsQlFVa3NRMEZCUTNwRExFZEJRVWNzUTBGQlEzVkRMRmxCUVZrc1EwRkJReXhIUVVGSkxFdEJRVXNzUjBGQlNTeEpRVUZKTEVOQlFVTm9ReXhwUWtGQmFVSXNRMEZCUTIxRExFTkJRVU03U1VGRGVrY3NTVUZCU1VNc1JVRkJSU3hIUVVGaExFbEJRVWtzUTBGQlEzQkRMR2xDUVVGcFFpeERRVUZEY1VNc1EwRkJReXhIUVVGSExFbEJRVWtzUTBGQlF6VkRMRWRCUVVjc1EwRkJRM1ZETEZsQlFWa3NSMEZCUXl4RFFVRkRMRU5CUVVNc1IwRkJTU3hMUVVGTExFZEJRVWtzU1VGQlNTeERRVUZEYUVNc2FVSkJRV2xDTEVOQlFVTnpReXhEUVVGRE8wbEJRek5ITEVsQlFVbERMRXRCUVVzc1IwRkJWU3hKUVVGSkxFTkJRVU01UXl4SFFVRkhMRU5CUVVOMVF5eFpRVUZaTEVkQlFVTXNRMEZCUXl4RFFVRkRMRWRCUVVjc1MwRkJTeXhIUVVGSmJrVXNSMEZCUnl4SFFVRkpReXhKUVVGSkxFTkJRVU5ETEVWQlFVVTdTVUZEY2tVc1NVRkJTWGxGTEZOQlFWTXNSMEZCU3l4SlFVRkpMRU5CUVVNdlF5eEhRVUZITEVOQlFVTjFReXhaUVVGWkxFZEJRVU1zUTBGQlF5eERRVUZETEVkQlFVY3NTMEZCU3l4SFFVRkpiRVVzU1VGQlNTeERRVUZETWtVc1IwRkJSeXhEUVVGRExFbEJRVWtzUTBGQlEzcERMR2xDUVVGcFFpeERRVUZEYTBNc1EwRkJReXhGUVVGRkxFbEJRVWtzUTBGQlEyeERMR2xDUVVGcFFpeERRVUZEY1VNc1EwRkJReXhEUVVGRE8wbEJRMnhJTEVsQlFVbExMRk5CUVZNc1IwRkJUeXhKUVVGSkxFTkJRVU5xUkN4SFFVRkhMRU5CUVVOMVF5eFpRVUZaTEVkQlFVTXNRMEZCUXl4RFFVRkRMRWRCUVVrc1MwRkJTeXhIUVVGSmJFVXNTVUZCU1N4RFFVRkRNa1VzUjBGQlJ5eERRVUZETEVsQlFVa3NRMEZCUTNwRExHbENRVUZwUWl4RFFVRkRhME1zUTBGQlF5eEZRVUZGTEVsQlFVa3NRMEZCUTJ4RExHbENRVUZwUWl4RFFVRkRjVU1zUTBGQlF5eERRVUZETEVkQlFVa3NSMEZCUnp0RlFVTm9TU3hEUVVGRExFMUJRVTA3U1VGRFNDeEpRVUZKVFN4VlFVRlZMRWRCUVVjc1NVRkJTU3hEUVVGRGVFUXNUVUZCVFN4SFFVRkhiVU1zVFVGQlRUdEpRVU55UXl4SlFVRkpWeXhGUVVGRkxFZEJRVmNzU1VGQlNTeERRVUZETlVNc1IwRkJSeXhEUVVGRGMwUXNWVUZCVlN4RFFVRkRPMGxCUTNKRExFbEJRVWxRTEVWQlFVVXNSMEZCVnl4SlFVRkpMRU5CUVVNdlF5eEhRVUZITEVOQlFVTnpSQ3hWUVVGVkxFZEJRVU1zUTBGQlF5eERRVUZETzBsQlEzWkRMRWxCUVVsS0xFdEJRVXNzUjBGQlVTeEpRVUZKTEVOQlFVTnNSQ3hIUVVGSExFTkJRVU56UkN4VlFVRlZMRWRCUVVNc1EwRkJReXhEUVVGRExFZEJRVWM1UlN4SFFVRkhMRWRCUVVkRExFbEJRVWtzUTBGQlEwTXNSVUZCUlN4RFFVRkRMRU5CUVVNN1NVRkRla1FzU1VGQlNYbEZMRk5CUVZNc1IwRkJTU3hKUVVGSkxFTkJRVU51UkN4SFFVRkhMRU5CUVVOelJDeFZRVUZWTEVkQlFVTXNRMEZCUXl4RFFVRkRPMGxCUTNaRExFbEJRVWxFTEZOQlFWTXNSMEZCU1N4SlFVRkpMRU5CUVVOeVJDeEhRVUZITEVOQlFVTnpSQ3hWUVVGVkxFZEJRVU1zUTBGQlF5eERRVUZETEVkQlFVY3NSMEZCUnp0RlFVTnFSRHM3UlVGRlFTeEpRVUZKUXl4RlFVRkZMRWRCUVVkWUxFVkJRVVVzUjBGQlIwOHNVMEZCVXl4SFFVRkhNVVVzU1VGQlNTeERRVUZESzBVc1IwRkJSeXhEUVVGRFRpeExRVUZMTEVOQlFVTTdSVUZEZWtNc1NVRkJTVThzUlVGQlJTeEhRVUZIVml4RlFVRkZMRWRCUVVkSkxGTkJRVk1zUjBGQlJ6RkZMRWxCUVVrc1EwRkJRMmxHTEVkQlFVY3NRMEZCUTFJc1MwRkJTeXhEUVVGRE96dEZRVVY2UTFRc1VVRkJVU3hEUVVGRFF5eGhRVUZoTEVOQlFVTkZMRVZCUVVVc1JVRkJSVWNzUlVGQlJTeEZRVUZGVVN4RlFVRkZMRVZCUVVWRkxFVkJRVVVzUlVGQlJXcENMRWxCUVVrc1JVRkJSV0VzVTBGQlV5eERRVUZETzBGQlF6TkVMRU5CUVVNN08wRkJSVVExUkN4clFrRkJhMElzUTBGQlEzTkRMRk5CUVZNc1EwRkJRelJDTEcxQ1FVRnRRaXhIUVVGSExGVkJRVk14UWl4TlFVRk5MRVZCUVVWTkxFdEJRVXNzUlVGQlJVTXNTVUZCU1N4RlFVRkZReXhSUVVGUk8wRkJRM3BHTzBWQlEwa3NTVUZCU1N4RFFVRkRRU3hSUVVGUkxFTkJRVU50UWl4aFFVRmhMRVZCUVVVc1EwRkJSU3hQUVVGUk96dEZRVVYyUXl4SlFVRkhMRWxCUVVrc1EwRkJRMnBFTEdsQ1FVRnBRaXhGUVVGRk8wbEJRM1pDTEVsQlFVbG5ReXhaUVVGWkxFZEJRVWNzU1VGQlNTeERRVUZETjBNc1RVRkJUU3hIUVVGSGJVTXNUVUZCVFN4SFFVRkhMRU5CUVVNN1NVRkRNME1zU1VGQlNUUkNMRVZCUVVVc1IwRkJZU3hKUVVGSkxFTkJRVU5zUkN4cFFrRkJhVUlzUTBGQlEydERMRU5CUVVNc1IwRkJSeXhKUVVGSkxFTkJRVU42UXl4SFFVRkhMRU5CUVVOMVF5eFpRVUZaTEVOQlFVTXNSMEZCU1N4TFFVRkxMRWRCUVVrc1NVRkJTU3hEUVVGRGFFTXNhVUpCUVdsQ0xFTkJRVU50UXl4RFFVRkRPMGxCUTNwSExFbEJRVWxuUWl4RlFVRkZMRWRCUVdFc1NVRkJTU3hEUVVGRGJrUXNhVUpCUVdsQ0xFTkJRVU54UXl4RFFVRkRMRWRCUVVjc1NVRkJTU3hEUVVGRE5VTXNSMEZCUnl4RFFVRkRkVU1zV1VGQldTeEhRVUZETEVOQlFVTXNRMEZCUXl4SFFVRkpMRXRCUVVzc1IwRkJTU3hKUVVGSkxFTkJRVU5vUXl4cFFrRkJhVUlzUTBGQlEzTkRMRU5CUVVNN1NVRkRNMGNzU1VGQlNXTXNTMEZCU3l4SFFVRlRMRWxCUVVrc1EwRkJRek5FTEVkQlFVY3NRMEZCUTNWRExGbEJRVmtzUjBGQlF5eERRVUZETEVOQlFVTXNSMEZCUnl4TFFVRkxMRWRCUVVsdVJTeEhRVUZITzBsQlEzcEVMRWxCUVVsM1JpeEhRVUZITEVkQlFWY3NTVUZCU1N4RFFVRkROVVFzUjBGQlJ5eERRVUZEZFVNc1dVRkJXU3hIUVVGRExFTkJRVU1zUTBGQlF5eEhRVUZITEV0QlFVc3NSMEZCU1c1RkxFZEJRVWM3U1VGRGVrUXNTVUZCU1hsR0xFMUJRVTBzUjBGQlVTeEpRVUZKTEVOQlFVTTNSQ3hIUVVGSExFTkJRVU4xUXl4WlFVRlpMRWRCUVVNc1EwRkJReXhEUVVGRExFZEJRVWNzUzBGQlN5eEhRVUZKYkVVc1NVRkJTU3hEUVVGRE1rVXNSMEZCUnl4RFFVRkRMRWxCUVVrc1EwRkJRM3BETEdsQ1FVRnBRaXhEUVVGRGEwTXNRMEZCUXl4RlFVRkZMRWxCUVVrc1EwRkJRMnhETEdsQ1FVRnBRaXhEUVVGRGNVTXNRMEZCUXl4RFFVRkRPMFZCUTNSSUxFTkJRVU1zVFVGQlRUdEpRVU5JTEVsQlFVbE5MRlZCUVZVc1IwRkJSeXhKUVVGSkxFTkJRVU40UkN4TlFVRk5MRWRCUVVkdFF5eE5RVUZOTzBsQlEzSkRMRWxCUVVrMFFpeEZRVUZGTEVkQlFWY3NTVUZCU1N4RFFVRkROMFFzUjBGQlJ5eERRVUZEYzBRc1ZVRkJWU3hEUVVGRE8wbEJRM0pETEVsQlFVbFJMRVZCUVVVc1IwRkJWeXhKUVVGSkxFTkJRVU01UkN4SFFVRkhMRU5CUVVOelJDeFZRVUZWTEVkQlFVTXNRMEZCUXl4RFFVRkRPMGxCUTNaRExFbEJRVWxUTEV0QlFVc3NSMEZCVVN4SlFVRkpMRU5CUVVNdlJDeEhRVUZITEVOQlFVTnpSQ3hWUVVGVkxFZEJRVU1zUTBGQlF5eERRVUZETEVkQlFVYzVSU3hIUVVGSE8wbEJRemRETEVsQlFVbDNSaXhIUVVGSExFZEJRVlVzU1VGQlNTeERRVUZEYUVVc1IwRkJSeXhEUVVGRGMwUXNWVUZCVlN4SFFVRkRMRU5CUVVNc1EwRkJReXhIUVVGSE9VVXNSMEZCUnp0SlFVTTNReXhKUVVGSmVVWXNUVUZCVFN4SFFVRlBMRWxCUVVrc1EwRkJRMnBGTEVkQlFVY3NRMEZCUTNORUxGVkJRVlVzUjBGQlF5eERRVUZETEVOQlFVTTdSVUZETTBNN08wVkJSVUZpTEZGQlFWRXNRMEZCUTIxQ0xHRkJRV0VzUTBGQlEwTXNSVUZCUlN4RlFVRkZReXhGUVVGRkxFVkJRVVZETEV0QlFVc3NSVUZCUlVNc1IwRkJSeXhGUVVGRlF5eE5RVUZOTEVWQlFVVjZRaXhKUVVGSkxFTkJRVU03UVVGRE5VUXNRMEZCUXpzN1FVRkZSQzlETEd0Q1FVRnJRaXhEUVVGRGMwTXNVMEZCVXl4RFFVRkRiVU1zY1VKQlFYRkNMRWRCUVVjc1ZVRkJVMnBETEUxQlFVMHNSVUZCUlUwc1MwRkJTeXhGUVVGRlF5eEpRVUZKTEVWQlFVVkRMRkZCUVZFN1FVRkRNMFk3UlVGRFNTeEpRVUZKTEVOQlFVTkJMRkZCUVZFc1EwRkJRekJDTEdWQlFXVXNSVUZCUlN4RFFVRkZMRTlCUVZFN08wVkJSWHBETzBWQlEwRXNTVUZCU1dJc1ZVRkJWU3hIUVVGSExFbEJRVWtzUTBGQlEzaEVMRTFCUVUwc1IwRkJSMjFETEUxQlFVMDdSVUZEY2tNc1NVRkJTVFJDTEVWQlFVVXNSMEZCVnl4SlFVRkpMRU5CUVVNM1JDeEhRVUZITEVOQlFVTnpSQ3hWUVVGVkxFTkJRVU03UlVGRGNrTXNTVUZCU1ZFc1JVRkJSU3hIUVVGWExFbEJRVWtzUTBGQlF6bEVMRWRCUVVjc1EwRkJRM05FTEZWQlFWVXNSMEZCUXl4RFFVRkRMRU5CUVVNN1JVRkRka01zU1VGQlNWTXNTMEZCU3l4SFFVRlJMRWxCUVVrc1EwRkJReTlFTEVkQlFVY3NRMEZCUTNORUxGVkJRVlVzUjBGQlF5eERRVUZETEVOQlFVTXNSMEZCUnpsRkxFZEJRVWM3UlVGRE4wTXNTVUZCU1hkR0xFZEJRVWNzUjBGQlZTeEpRVUZKTEVOQlFVTm9SU3hIUVVGSExFTkJRVU56UkN4VlFVRlZMRWRCUVVNc1EwRkJReXhEUVVGRExFZEJRVWM1UlN4SFFVRkhPMFZCUXpkRExFbEJRVWswUml4TFFVRkxMRWRCUVZFc1NVRkJTU3hEUVVGRGNFVXNSMEZCUnl4RFFVRkRjMFFzVlVGQlZTeEhRVUZETEVOQlFVTXNRMEZCUXp0RlFVTjJReXhKUVVGSlpTeExRVUZMTEVkQlFWRXNTVUZCU1N4RFFVRkRja1VzUjBGQlJ5eERRVUZEYzBRc1ZVRkJWU3hIUVVGRExFVkJRVVVzUTBGQlF6dEZRVU40UXl4SlFVRkpaMElzU1VGQlNTeEhRVUZUTEVsQlFVa3NRMEZCUTNSRkxFZEJRVWNzUTBGQlEzTkVMRlZCUVZVc1IwRkJReXhGUVVGRkxFTkJRVU03TzBWQlJYaERZaXhSUVVGUkxFTkJRVU13UWl4bFFVRmxMRU5CUVVOT0xFVkJRVVVzUlVGQlJVTXNSVUZCUlN4RlFVRkZReXhMUVVGTExFVkJRVVZETEVkQlFVY3NSVUZCUlVrc1MwRkJTeXhGUVVGRlF5eExRVUZMTEVWQlFVVkRMRWxCUVVrc1JVRkJSVGxDTEVsQlFVa3NRMEZCUXp0QlFVTXhSU3hEUVVGRE96dEJRVVZFTDBNc2EwSkJRV3RDTEVOQlFVTnpReXhUUVVGVExFTkJRVU4zUXl4bFFVRmxMRWRCUVVjc1ZVRkJVM1JETEUxQlFVMHNSVUZCUlUwc1MwRkJTeXhGUVVGRlF5eEpRVUZKTEVWQlFVVkRMRkZCUVZFN1FVRkRja1k3UlVGRFNTeEpRVUZKTEVOQlFVTkJMRkZCUVZFc1EwRkJReXRDTEZOQlFWTXNSVUZCUlN4RFFVRkZMRTlCUVZFN08wVkJSVzVETEVsQlFVY3NTVUZCU1N4RFFVRkROMFFzYVVKQlFXbENMRVZCUVVVN1NVRkRka0lzU1VGQlNXZERMRmxCUVZrc1IwRkJSeXhKUVVGSkxFTkJRVU0zUXl4TlFVRk5MRWRCUVVkdFF5eE5RVUZOTEVkQlFVY3NRMEZCUXp0SlFVTXpReXhKUVVGSmQwTXNUMEZCVHl4SFFVRlJMRWxCUVVrc1EwRkJRemxFTEdsQ1FVRnBRaXhEUVVGRGEwTXNRMEZCUXl4SFFVRkhMRWxCUVVrc1EwRkJRM3BETEVkQlFVY3NRMEZCUTNWRExGbEJRVmtzUTBGQlF5eEhRVUZKTEV0QlFVc3NSMEZCU1N4SlFVRkpMRU5CUVVOb1F5eHBRa0ZCYVVJc1EwRkJRMjFETEVOQlFVTTdTVUZEZWtjc1NVRkJTVFJDTEU5QlFVOHNSMEZCVVN4SlFVRkpMRU5CUVVNdlJDeHBRa0ZCYVVJc1EwRkJRM0ZETEVOQlFVTXNSMEZCUnl4SlFVRkpMRU5CUVVNMVF5eEhRVUZITEVOQlFVTjFReXhaUVVGWkxFZEJRVU1zUTBGQlF5eERRVUZETEVkQlFVa3NTMEZCU3l4SFFVRkpMRWxCUVVrc1EwRkJRMmhETEdsQ1FVRnBRaXhEUVVGRGMwTXNRMEZCUXp0SlFVTXpSeXhKUVVGSk1FSXNVVUZCVVN4SFFVRk5MRWxCUVVrc1EwRkJRM1pGTEVkQlFVY3NRMEZCUTNWRExGbEJRVmtzUjBGQlF5eERRVUZETEVOQlFVTXNSMEZCUnl4TFFVRkxMRWRCUVVsdVJTeEhRVUZITzBsQlEzcEVMRWxCUVVsdlJ5eExRVUZMTEVkQlFWTXNTVUZCU1N4RFFVRkRlRVVzUjBGQlJ5eERRVUZEZFVNc1dVRkJXU3hIUVVGRExFTkJRVU1zUTBGQlF5eEhRVUZITEV0QlFVc3NSMEZCU1d4RkxFbEJRVWtzUTBGQlF6SkZMRWRCUVVjc1EwRkJReXhKUVVGSkxFTkJRVU42UXl4cFFrRkJhVUlzUTBGQlEydERMRU5CUVVNc1JVRkJSU3hKUVVGSkxFTkJRVU5zUXl4cFFrRkJhVUlzUTBGQlEzRkRMRU5CUVVNc1EwRkJRenRKUVVOc1NDeEpRVUZKTmtJc1RVRkJUU3hIUVVGUkxFbEJRVWtzUTBGQlEzcEZMRWRCUVVjc1EwRkJRM1ZETEZsQlFWa3NSMEZCUXl4RFFVRkRMRU5CUVVNc1IwRkJSeXhMUVVGTExFZEJRVWxzUlN4SlFVRkpMRU5CUVVNeVJTeEhRVUZITEVOQlFVTXNTVUZCU1N4RFFVRkRla01zYVVKQlFXbENMRU5CUVVOclF5eERRVUZETEVWQlFVVXNTVUZCU1N4RFFVRkRiRU1zYVVKQlFXbENMRU5CUVVOeFF5eERRVUZETEVOQlFVTTdSVUZEZEVnc1EwRkJReXhOUVVGTk8wbEJRMGdzU1VGQlNVMHNWVUZCVlN4SFFVRkhMRWxCUVVrc1EwRkJRM2hFTEUxQlFVMHNSMEZCUjIxRExFMUJRVTA3U1VGRGNrTXNTVUZCU1hkRExFOUJRVThzUjBGQlRTeEpRVUZKTEVOQlFVTjZSU3hIUVVGSExFTkJRVU56UkN4VlFVRlZMRU5CUVVNN1NVRkRja01zU1VGQlNXOUNMRTlCUVU4c1IwRkJUU3hKUVVGSkxFTkJRVU14UlN4SFFVRkhMRU5CUVVOelJDeFZRVUZWTEVkQlFVTXNRMEZCUXl4RFFVRkRPMGxCUTNaRE8wbEJRMEVzU1VGQlNYRkNMRkZCUVZFc1IwRkJTeXhKUVVGSkxFTkJRVU16UlN4SFFVRkhMRU5CUVVOelJDeFZRVUZWTEVkQlFVTXNRMEZCUXl4RFFVRkRMRWRCUVVjNVJTeEhRVUZITzBsQlF6ZERMRWxCUVVsdlJ5eExRVUZMTEVkQlFWRXNTVUZCU1N4RFFVRkROVVVzUjBGQlJ5eERRVUZEYzBRc1ZVRkJWU3hIUVVGRExFTkJRVU1zUTBGQlF6dEpRVU4yUXl4SlFVRkpkVUlzVFVGQlRTeEhRVUZQTEVsQlFVa3NRMEZCUXpkRkxFZEJRVWNzUTBGQlEzTkVMRlZCUVZVc1IwRkJReXhEUVVGRExFTkJRVU03UlVGRE0wTTdPMFZCUlVGaUxGRkJRVkVzUTBGQlF5dENMRk5CUVZNc1EwRkJRME1zVDBGQlR5eEZRVUZGUXl4UFFVRlBMRVZCUVVWRkxFdEJRVXNzUlVGQlJVTXNUVUZCVFN4RlFVRkZSaXhSUVVGUkxFVkJRVVZ1UXl4SlFVRkpMRU5CUVVNN1FVRkRka1VzUTBGQlF6czdRVUZGUkM5RExHdENRVUZyUWl4RFFVRkRjME1zVTBGQlV5eERRVUZESzBNc2JVSkJRVzFDTEVkQlFVY3NWVUZCVXpkRExFMUJRVTBzUlVGQlJVMHNTMEZCU3l4RlFVRkZReXhKUVVGSkxFVkJRVVZETEZGQlFWRTdRVUZEZWtZN1JVRkRTU3hKUVVGSkxFTkJRVU5CTEZGQlFWRXNRMEZCUTNORExHRkJRV0VzUlVGQlJTeERRVUZGTEU5QlFWRTdPMFZCUlhaRExFbEJRVWNzU1VGQlNTeERRVUZEY0VVc2FVSkJRV2xDTEVWQlFVVTdTVUZEZGtJc1NVRkJTV2RETEZsQlFWa3NSMEZCUnl4SlFVRkpMRU5CUVVNM1F5eE5RVUZOTEVkQlFVZHRReXhOUVVGTkxFZEJRVWNzUTBGQlF6dEpRVU16UXl4SlFVRkpjMElzUlVGQlJTeEhRVUZoTEVsQlFVa3NRMEZCUXpWRExHbENRVUZwUWl4RFFVRkRhME1zUTBGQlF5eEhRVUZITEVsQlFVa3NRMEZCUTNwRExFZEJRVWNzUTBGQlEzVkRMRmxCUVZrc1EwRkJReXhIUVVGSkxFdEJRVXNzUjBGQlNTeEpRVUZKTEVOQlFVTm9ReXhwUWtGQmFVSXNRMEZCUTIxRExFTkJRVU03U1VGRGVrY3NTVUZCU1Zjc1JVRkJSU3hIUVVGaExFbEJRVWtzUTBGQlF6bERMR2xDUVVGcFFpeERRVUZEY1VNc1EwRkJReXhIUVVGSExFbEJRVWtzUTBGQlF6VkRMRWRCUVVjc1EwRkJRM1ZETEZsQlFWa3NSMEZCUXl4RFFVRkRMRU5CUVVNc1IwRkJTU3hMUVVGTExFZEJRVWtzU1VGQlNTeERRVUZEYUVNc2FVSkJRV2xDTEVOQlFVTnpReXhEUVVGRE8wbEJRek5ITEVsQlFVa3JRaXhGUVVGRkxFZEJRV0VzU1VGQlNTeERRVUZEY2tVc2FVSkJRV2xDTEVOQlFVTnJReXhEUVVGRExFZEJRVWNzU1VGQlNTeERRVUZEZWtNc1IwRkJSeXhEUVVGRGRVTXNXVUZCV1N4SFFVRkRMRU5CUVVNc1EwRkJReXhIUVVGSkxFdEJRVXNzUjBGQlNTeEpRVUZKTEVOQlFVTm9ReXhwUWtGQmFVSXNRMEZCUTIxRExFTkJRVU03U1VGRE0wY3NTVUZCU1cxRExFVkJRVVVzUjBGQllTeEpRVUZKTEVOQlFVTjBSU3hwUWtGQmFVSXNRMEZCUTNGRExFTkJRVU1zUjBGQlJ5eEpRVUZKTEVOQlFVTTFReXhIUVVGSExFTkJRVU4xUXl4WlFVRlpMRWRCUVVNc1EwRkJReXhEUVVGRExFZEJRVWtzUzBGQlN5eEhRVUZKTEVsQlFVa3NRMEZCUTJoRExHbENRVUZwUWl4RFFVRkRjME1zUTBGQlF6dEpRVU16Unl4SlFVRkphVU1zUlVGQlJTeEhRVUZoTEVsQlFVa3NRMEZCUTNaRkxHbENRVUZwUWl4RFFVRkRhME1zUTBGQlF5eEhRVUZITEVsQlFVa3NRMEZCUTNwRExFZEJRVWNzUTBGQlEzVkRMRmxCUVZrc1IwRkJReXhEUVVGRExFTkJRVU1zUjBGQlNTeExRVUZMTEVkQlFVa3NTVUZCU1N4RFFVRkRhRU1zYVVKQlFXbENMRU5CUVVOdFF5eERRVUZETzBsQlF6TkhMRWxCUVVseFF5eEZRVUZGTEVkQlFXRXNTVUZCU1N4RFFVRkRlRVVzYVVKQlFXbENMRU5CUVVOeFF5eERRVUZETEVkQlFVY3NTVUZCU1N4RFFVRkROVU1zUjBGQlJ5eERRVUZEZFVNc1dVRkJXU3hIUVVGRExFTkJRVU1zUTBGQlF5eEhRVUZKTEV0QlFVc3NSMEZCU1N4SlFVRkpMRU5CUVVOb1F5eHBRa0ZCYVVJc1EwRkJRM05ETEVOQlFVTTdSVUZETDBjc1EwRkJReXhOUVVGTk8wbEJRMGdzU1VGQlNVc3NWVUZCVlN4SFFVRkhMRWxCUVVrc1EwRkJRM2hFTEUxQlFVMHNSMEZCUjIxRExFMUJRVTA3U1VGRGNrTXNTVUZCU1hOQ0xFVkJRVVVzUjBGQlZ5eEpRVUZKTEVOQlFVTjJSQ3hIUVVGSExFTkJRVU56UkN4VlFVRlZMRU5CUVVNN1NVRkRja01zU1VGQlNVY3NSVUZCUlN4SFFVRlhMRWxCUVVrc1EwRkJRM3BFTEVkQlFVY3NRMEZCUTNORUxGVkJRVlVzUjBGQlF5eERRVUZETEVOQlFVTTdTVUZEZGtNc1NVRkJTVEJDTEVWQlFVVXNSMEZCVnl4SlFVRkpMRU5CUVVOb1JpeEhRVUZITEVOQlFVTnpSQ3hWUVVGVkxFZEJRVU1zUTBGQlF5eERRVUZETzBsQlEzWkRMRWxCUVVreVFpeEZRVUZGTEVkQlFWY3NTVUZCU1N4RFFVRkRha1lzUjBGQlJ5eERRVUZEYzBRc1ZVRkJWU3hIUVVGRExFTkJRVU1zUTBGQlF6dEpRVU4yUXl4SlFVRkpORUlzUlVGQlJTeEhRVUZYTEVsQlFVa3NRMEZCUTJ4R0xFZEJRVWNzUTBGQlEzTkVMRlZCUVZVc1IwRkJReXhEUVVGRExFTkJRVU03U1VGRGRrTXNTVUZCU1RaQ0xFVkJRVVVzUjBGQlZ5eEpRVUZKTEVOQlFVTnVSaXhIUVVGSExFTkJRVU56UkN4VlFVRlZMRWRCUVVNc1EwRkJReXhEUVVGRE8wVkJRek5ET3p0RlFVVkJZaXhSUVVGUkxFTkJRVU56UXl4aFFVRmhMRU5CUVVONFFpeEZRVUZGTEVWQlFVVkZMRVZCUVVVc1JVRkJSWFZDTEVWQlFVVXNSVUZCUlVNc1JVRkJSU3hGUVVGRlF5eEZRVUZGTEVWQlFVVkRMRVZCUVVVc1JVRkJSVE5ETEVsQlFVa3NRMEZCUXp0QlFVTjRSQ3hEUVVGRE96czdRVUZIUkM5RExHdENRVUZyUWl4RFFVRkRjME1zVTBGQlV5eERRVUZEY1VRc2NVSkJRWEZDTEVkQlFVY3NWVUZCVTBNc1IwRkJSeXhGUVVGRlF5eEhRVUZITEVWQlFVVkRMRWRCUVVjc1JVRkJSV2hFTEV0QlFVc3NSVUZCUlVNc1NVRkJTU3hGUVVGRlF5eFJRVUZSTzBGQlEyeEhPMFZCUTBrc1NVRkJTU3hEUVVGRFFTeFJRVUZSTEVOQlFVTnpReXhoUVVGaExFVkJRVVVzUTBGQlJTeFBRVUZST3p0RlFVVjJReXhKUVVGSExFbEJRVWtzUTBGQlEzQkZMR2xDUVVGcFFpeEZRVUZGTzBsQlEzWkNMRWxCUVVsblF5eFpRVUZaTEVkQlFVY3NTVUZCU1N4RFFVRkROME1zVFVGQlRTeEhRVUZIZFVZc1IwRkJSeXhIUVVGSExFTkJRVU03U1VGRGVFTXNTVUZCU1RsQ0xFVkJRVVVzUjBGQllTeEpRVUZKTEVOQlFVTTFReXhwUWtGQmFVSXNRMEZCUTJ0RExFTkJRVU1zUjBGQlJ5eEpRVUZKTEVOQlFVTjZReXhIUVVGSExFTkJRVU4xUXl4WlFVRlpMRU5CUVVNc1IwRkJTU3hMUVVGTExFZEJRVWtzU1VGQlNTeERRVUZEYUVNc2FVSkJRV2xDTEVOQlFVTnRReXhEUVVGRE8wbEJRM3BITEVsQlFVbFhMRVZCUVVVc1IwRkJZU3hKUVVGSkxFTkJRVU01UXl4cFFrRkJhVUlzUTBGQlEzRkRMRU5CUVVNc1IwRkJSeXhKUVVGSkxFTkJRVU0xUXl4SFFVRkhMRU5CUVVOMVF5eFpRVUZaTEVkQlFVTXNRMEZCUXl4RFFVRkRMRWRCUVVrc1MwRkJTeXhIUVVGSkxFbEJRVWtzUTBGQlEyaERMR2xDUVVGcFFpeERRVUZEYzBNc1EwRkJRenM3U1VGRk0wZE9MRmxCUVZrc1IwRkJTeXhKUVVGSkxFTkJRVU0zUXl4TlFVRk5MRWRCUVVkM1JpeEhRVUZITEVkQlFVY3NRMEZCUXp0SlFVTjBReXhKUVVGSlRpeEZRVUZGTEVkQlFXRXNTVUZCU1N4RFFVRkRja1VzYVVKQlFXbENMRU5CUVVOclF5eERRVUZETEVkQlFVY3NTVUZCU1N4RFFVRkRla01zUjBGQlJ5eERRVUZEZFVNc1dVRkJXU3hEUVVGRExFZEJRVWtzUzBGQlN5eEhRVUZKTEVsQlFVa3NRMEZCUTJoRExHbENRVUZwUWl4RFFVRkRiVU1zUTBGQlF6dEpRVU42Unl4SlFVRkpiVU1zUlVGQlJTeEhRVUZoTEVsQlFVa3NRMEZCUTNSRkxHbENRVUZwUWl4RFFVRkRjVU1zUTBGQlF5eEhRVUZITEVsQlFVa3NRMEZCUXpWRExFZEJRVWNzUTBGQlEzVkRMRmxCUVZrc1IwRkJReXhEUVVGRExFTkJRVU1zUjBGQlNTeExRVUZMTEVkQlFVa3NTVUZCU1N4RFFVRkRhRU1zYVVKQlFXbENMRU5CUVVOelF5eERRVUZET3p0SlFVVXpSMDRzV1VGQldTeEhRVUZMTEVsQlFVa3NRMEZCUXpkRExFMUJRVTBzUjBGQlIzbEdMRWRCUVVjc1IwRkJSeXhEUVVGRE8wbEJRM1JETEVsQlFVbE1MRVZCUVVVc1IwRkJZU3hKUVVGSkxFTkJRVU4yUlN4cFFrRkJhVUlzUTBGQlEydERMRU5CUVVNc1IwRkJSeXhKUVVGSkxFTkJRVU42UXl4SFFVRkhMRU5CUVVOMVF5eFpRVUZaTEVOQlFVTXNSMEZCU1N4TFFVRkxMRWRCUVVrc1NVRkJTU3hEUVVGRGFFTXNhVUpCUVdsQ0xFTkJRVU50UXl4RFFVRkRPMGxCUTNwSExFbEJRVWx4UXl4RlFVRkZMRWRCUVdFc1NVRkJTU3hEUVVGRGVFVXNhVUpCUVdsQ0xFTkJRVU54UXl4RFFVRkRMRWRCUVVjc1NVRkJTU3hEUVVGRE5VTXNSMEZCUnl4RFFVRkRkVU1zV1VGQldTeEhRVUZETEVOQlFVTXNRMEZCUXl4SFFVRkpMRXRCUVVzc1IwRkJTU3hKUVVGSkxFTkJRVU5vUXl4cFFrRkJhVUlzUTBGQlEzTkRMRU5CUVVNN1JVRkRMMGNzUTBGQlF5eE5RVUZOTzBsQlEwZ3NTVUZCU1Vzc1ZVRkJWU3hIUVVGSExFbEJRVWtzUTBGQlEzaEVMRTFCUVUwc1IwRkJSM1ZHTEVkQlFVYzdTVUZEYkVNc1NVRkJTVGxDTEVWQlFVVXNSMEZCVnl4SlFVRkpMRU5CUVVOMlJDeEhRVUZITEVOQlFVTnpSQ3hWUVVGVkxFTkJRVU03U1VGRGNrTXNTVUZCU1Vjc1JVRkJSU3hIUVVGWExFbEJRVWtzUTBGQlEzcEVMRWRCUVVjc1EwRkJRM05FTEZWQlFWVXNSMEZCUXl4RFFVRkRMRU5CUVVNN08wbEJSWFpEUVN4VlFVRlZMRWRCUVU4c1NVRkJTU3hEUVVGRGVFUXNUVUZCVFN4SFFVRkhkMFlzUjBGQlJ6dEpRVU5zUXl4SlFVRkpUaXhGUVVGRkxFZEJRVmNzU1VGQlNTeERRVUZEYUVZc1IwRkJSeXhEUVVGRGMwUXNWVUZCVlN4RFFVRkRPMGxCUTNKRExFbEJRVWt5UWl4RlFVRkZMRWRCUVZjc1NVRkJTU3hEUVVGRGFrWXNSMEZCUnl4RFFVRkRjMFFzVlVGQlZTeEhRVUZETEVOQlFVTXNRMEZCUXpzN1NVRkZka05CTEZWQlFWVXNSMEZCVHl4SlFVRkpMRU5CUVVONFJDeE5RVUZOTEVkQlFVZDVSaXhIUVVGSE8wbEJRMnhETEVsQlFVbE1MRVZCUVVVc1IwRkJWeXhKUVVGSkxFTkJRVU5zUml4SFFVRkhMRU5CUVVOelJDeFZRVUZWTEVOQlFVTTdTVUZEY2tNc1NVRkJTVFpDTEVWQlFVVXNSMEZCVnl4SlFVRkpMRU5CUVVOdVJpeEhRVUZITEVOQlFVTnpSQ3hWUVVGVkxFZEJRVU1zUTBGQlF5eERRVUZETzBWQlF6TkRPenRGUVVWQllpeFJRVUZSTEVOQlFVTnpReXhoUVVGaExFTkJRVU40UWl4RlFVRkZMRVZCUVVWRkxFVkJRVVVzUlVGQlJYVkNMRVZCUVVVc1JVRkJSVU1zUlVGQlJTeEZRVUZGUXl4RlFVRkZMRVZCUVVWRExFVkJRVVVzUlVGQlJUTkRMRWxCUVVrc1EwRkJRenRCUVVONFJDeERRVUZET3p0QlFVVkVMME1zYTBKQlFXdENMRU5CUVVOelF5eFRRVUZUTEVOQlFVTjVSQ3haUVVGWkxFZEJRVWNzVlVGQlUwTXNVVUZCVVN4RlFVRkZlRVFzVFVGQlRTeEZRVUZGVFN4TFFVRkxMRVZCUVVWRExFbEJRVWtzUlVGQlJVTXNVVUZCVVN4RlFVRkZPMFZCUXpGR0xGRkJRVkZuUkN4UlFVRlJPMGxCUTFvc1MwRkJTM0pITEhsQ1FVRjVRanRKUVVNNVFpeExRVUZMU0N3d1FrRkJNRUk3U1VGREwwSXNTMEZCUzBNc1owTkJRV2RETzBsQlEzSkRMRXRCUVV0RExEaENRVUU0UWp0SlFVTnVReXhMUVVGTFVDeHRRa0ZCYlVJc1EwRkJVeXhKUVVGSkxFTkJRVU13UkN4WlFVRlpMRU5CUVZWTUxFMUJRVTBzUlVGQlJVMHNTMEZCU3l4RlFVRkZReXhKUVVGSkxFVkJRVVZETEZGQlFWRXNRMEZCUXl4RFFVRkZPMGxCUXpWR0xFdEJRVXMxUkN4dFFrRkJiVUlzUTBGQlV5eEpRVUZKTEVOQlFVTTRSU3h0UWtGQmJVSXNRMEZCUnpGQ0xFMUJRVTBzUlVGQlJVMHNTMEZCU3l4RlFVRkZReXhKUVVGSkxFVkJRVVZETEZGQlFWRXNRMEZCUXl4RFFVRkZPMGxCUXpWR0xFdEJRVXN6UkN4eFFrRkJjVUlzUTBGQlR5eEpRVUZKTEVOQlFVTnZSaXh4UWtGQmNVSXNRMEZCUTJwRExFMUJRVTBzUlVGQlJVMHNTMEZCU3l4RlFVRkZReXhKUVVGSkxFVkJRVVZETEZGQlFWRXNRMEZCUXl4RFFVRkZMRTFCUVUwc1EwRkJRenRKUVVOdVJ5eExRVUZMTVVRc1pVRkJaU3hEUVVGaExFbEJRVWtzUTBGQlEzZEdMR1ZCUVdVc1EwRkJUM1JETEUxQlFVMHNSVUZCUlUwc1MwRkJTeXhGUVVGRlF5eEpRVUZKTEVWQlFVVkRMRkZCUVZFc1EwRkJReXhEUVVGRk8wbEJRelZHTEV0QlFVdDZSQ3h0UWtGQmJVSXNRMEZCVXl4SlFVRkpMRU5CUVVNNFJpeHRRa0ZCYlVJc1EwRkJSemRETEUxQlFVMHNSVUZCUlUwc1MwRkJTeXhGUVVGRlF5eEpRVUZKTEVWQlFVVkRMRkZCUVZFc1EwRkJReXhEUVVGRk8wbEJRelZHTEZGQlFXbERPMFZCUTNKRE96dEJRVVZLTEVOQlFVTTdPMEZCUlVRN1FVRkRRV2hFTEd0Q1FVRnJRaXhEUVVGRGMwTXNVMEZCVXl4RFFVRkRNa1FzYTBKQlFXdENMRWRCUVVjc1ZVRkJVME1zU1VGQlNTeEZRVUZGYkVRc1VVRkJVVHRCUVVONlJUdEZRVU5KTEVsQlFVa3NTVUZCU1N4RFFVRkRhRU1zWVVGQllTeEZRVUZGT3p0SlFVVndRanRKUVVOQk96dEpRVVZCTEVsQlFVbHRSaXhEUVVGRExFZEJRVWNzUTBGQlF6dEpRVU5VTEU5QlFVOUJMRU5CUVVNc1IwRkJSeXhKUVVGSkxFTkJRVU55Uml4TlFVRk5MRVZCUVVVN1RVRkRjRUlzU1VGQlNYTkdMRWxCUVVrc1IwRkJSeXhKUVVGSkxFTkJRVU14UkN4blFrRkJaMElzUTBGQlEzbEVMRU5CUVVNc1EwRkJRenM3VFVGRmJrTTdUVUZEUVN4SlFVRkpTQ3hSUVVGUkxFZEJRVTlKTEVsQlFVa3NTVUZCU3l4RFFVRkRMRWRCUVVrc1NVRkJTU3hEUVVGRExFTkJRVkU3VFVGRE9VTTdUVUZEUVN4SlFVRkpReXhQUVVGUExFZEJRVThzU1VGQlNTeERRVUZETVVRc1pVRkJaU3hEUVVGRGQwUXNRMEZCUXl4RFFVRkRMRU5CUVVNc1EwRkJTVHROUVVNNVF5eEpRVUZKY0VRc1NVRkJTU3hIUVVGVkxFbEJRVWtzUTBGQlEwZ3NhMEpCUVd0Q0xFTkJRVU4xUkN4RFFVRkRMRU5CUVVNc1EwRkJReXhEUVVGRE8wMUJRemxETEVsQlFVbEhMRTlCUVU4c1IwRkJUeXhKUVVGSkxFTkJRVU12UkN4VFFVRlRMRU5CUVVNMFJDeERRVUZETEVOQlFVTXNTMEZCUzBRc1NVRkJTVHROUVVNMVF5eEpRVUZKU1N4UFFVRlBMRVZCUVVVN1VVRkRWQ3hKUVVGSkxFTkJRVU5RTEZsQlFWa3NRMEZCUTBNc1VVRkJVU3hGUVVGRlJ5eERRVUZETEVWQlFVVkZMRTlCUVU4c1JVRkJSWFJFTEVsQlFVa3NSVUZCUlVNc1VVRkJVU3hEUVVGRE8wMUJRek5FT3p0TlFVVkJPMDFCUTBFN1RVRkRRVzFFTEVOQlFVTXNTVUZCU1N4RFFVRkRPMGxCUTFZN1JVRkRTaXhEUVVGRExFMUJRVTA3TzBsQlJVZ3NTVUZCU1VFc1EwRkJReXhIUVVGSExFTkJRVU03U1VGRFZDeFBRVUZQUVN4RFFVRkRMRWRCUVVjc1NVRkJTU3hEUVVGRGRFWXNSVUZCUlN4RFFVRkRSU3hOUVVGTkxFVkJRVVU3VFVGRGRrSXNTVUZCU1hkR0xFVkJRVVVzUjBGQlJ5eEpRVUZKTEVOQlFVTXhSaXhGUVVGRkxFTkJRVU56Uml4RFFVRkRMRU5CUVVNN1RVRkRia0lzU1VGQlNVTXNTVUZCU1N4SFFVRkhMRWxCUVVrc1EwRkJRekZFTEdkQ1FVRm5RaXhEUVVGRE5rUXNSVUZCUlN4RFFVRkRPenROUVVWd1F6dE5RVU5CTEVsQlFVbFFMRkZCUVZFc1IwRkJUMGtzU1VGQlNTeEpRVUZMTEVOQlFVTXNSMEZCU1N4SlFVRkpMRU5CUVVNc1EwRkJVVHROUVVNNVF6dE5RVU5CTEVsQlFVbERMRTlCUVU4c1IwRkJUeXhKUVVGSkxFTkJRVU14UkN4bFFVRmxMRU5CUVVNMFJDeEZRVUZGTEVOQlFVTXNRMEZCUXl4RFFVRkpPMDFCUXk5RExFbEJRVWw0UkN4SlFVRkpMRWRCUVZVc1NVRkJTU3hEUVVGRFNDeHJRa0ZCYTBJc1EwRkJRekpFTEVWQlFVVXNRMEZCUXl4RFFVRkRMRU5CUVVNN08wMUJSUzlETEVsQlFVbEVMRTlCUVU4c1IwRkJSeXhKUVVGSkxFTkJRVU12UkN4VFFVRlRMRU5CUVVOblJTeEZRVUZGTEVOQlFVTXNTMEZCUzB3c1NVRkJTVHM3VFVGRmVrTXNTVUZCU1VZc1VVRkJVU3hMUVVGTE9VY3NkVUpCUVhWQ0xFVkJRVVU3TzFGQlJYUkRPenRSUVVWQkxFbEJRVWx2U0N4UFFVRlBMRVZCUVVVN1ZVRkRWQ3hKUVVGSkxFTkJRVU5ZTEhGQ1FVRnhRaXhEUVVGRExFbEJRVWtzUTBGQlF6bEZMRVZCUVVVc1EwRkJRM05HTEVOQlFVTXNRMEZCUXl4RlFVRkZMRWxCUVVrc1EwRkJRM1JHTEVWQlFVVXNRMEZCUTNOR0xFTkJRVU1zUjBGQlF5eERRVUZETEVOQlFVTXNSVUZCUlN4SlFVRkpMRU5CUVVOMFJpeEZRVUZGTEVOQlFVTnpSaXhEUVVGRExFZEJRVU1zUTBGQlF5eERRVUZETEVWQlFVVkZMRTlCUVU4c1JVRkJSWFJFTEVsQlFVa3NSVUZCUlVNc1VVRkJVU3hEUVVGRE8xRkJReTlHT3p0UlFVVkJPMUZCUTBGdFJDeERRVUZETEVsQlFVa3NRMEZCUXpzN1RVRkZWaXhEUVVGRExFMUJRVTA3TzFGQlJVZ3NTVUZCU1Vjc1QwRkJUeXhGUVVGRk8xVkJRMVFzU1VGQlNTeERRVUZEVUN4WlFVRlpMRU5CUVVORExGRkJRVkVzUlVGQlJVOHNSVUZCUlN4RlFVRkZSaXhQUVVGUExFVkJRVVYwUkN4SlFVRkpMRVZCUVVWRExGRkJRVkVzUTBGQlF6dFJRVU0xUkRzN1VVRkZRVHRSUVVOQk8xRkJRMEZ0UkN4RFFVRkRMRWxCUVVrc1EwRkJRenROUVVOV096czdTVUZIU2p0RlFVTktPenRCUVVWS0xFTkJRVU03T3p0QlFVZEVPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CYmtjc2EwSkJRV3RDTEVOQlFVTnpReXhUUVVGVExFTkJRVU5yUlN4M1FrRkJkMElzUjBGQlJ5eFZRVUZUUXl4bFFVRmxMRVZCUVVWNlJDeFJRVUZSTzBGQlF6RkdPMFZCUTBrc1NVRkJTVEJFTEUxQlFVMHNSMEZCUnl4VFFVRkJRU3hEUVVGVFVpeEpRVUZKTEVWQlFVVkhMRTlCUVU4c1JVRkJSVTBzVlVGQlZTeEZRVUZGTzBsQlF6ZERMRTlCUVU4c1EwRkJRMFlzWlVGQlpTeEpRVUZMU2l4UFFVRlBMRXRCUVVzc1EwRkJReXhKUVVGSlNTeGxRVUZsTEVOQlFVTkhMRTlCUVU4c1EwRkJRMUFzVDBGQlR5eERRVUZETEV0QlFVc3NRMEZCUXl4RFFVRkZPMFZCUTNwR0xFTkJRVU03UlVGRFJDeEpRVUZKTEVOQlFVTlJMRk5CUVZNc1EwRkJRMGdzVFVGQlRTeEZRVUZGTVVRc1VVRkJVU3hEUVVGRE8wRkJRM0JETEVOQlFVTTdPenRCUVVkRU8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJhRVFzYTBKQlFXdENMRU5CUVVOelF5eFRRVUZUTEVOQlFVTjFSU3hUUVVGVExFZEJRVWNzVlVGQlUwZ3NUVUZCVFN4RlFVRkZNVVFzVVVGQlVUdEJRVU5zUlR0RlFVTkpMRWxCUVVrc1NVRkJTU3hEUVVGRGFFTXNZVUZCWVN4RlFVRkZPenRKUVVWd1FqdEpRVU5CT3p0SlFVVkJMRWxCUVVsdFJpeERRVUZETEVkQlFVY3NRMEZCUXp0SlFVTlVMRTlCUVU5QkxFTkJRVU1zUjBGQlJ5eEpRVUZKTEVOQlFVTnlSaXhOUVVGTkxFVkJRVVU3VFVGRGNFSXNTVUZCU1hOR0xFbEJRVWtzUjBGQlJ5eEpRVUZKTEVOQlFVTXhSQ3huUWtGQlowSXNRMEZCUTNsRUxFTkJRVU1zUTBGQlF6czdUVUZGYmtNN1RVRkRRU3hKUVVGSlNDeFJRVUZSTEVkQlFVOUpMRWxCUVVrc1NVRkJTeXhEUVVGRExFZEJRVWtzU1VGQlNTeERRVUZETEVOQlFWRTdUVUZET1VNN1RVRkRRU3hKUVVGSlF5eFBRVUZQTEVkQlFVOHNTVUZCU1N4RFFVRkRNVVFzWlVGQlpTeERRVUZEZDBRc1EwRkJReXhEUVVGRExFTkJRVU1zUTBGQlNUdE5RVU01UXl4SlFVRkpjRVFzU1VGQlNTeEhRVUZWTEVsQlFVa3NRMEZCUTBnc2EwSkJRV3RDTEVOQlFVTjFSQ3hEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZETzAxQlF6bERMRWxCUVVsRUxFbEJRVWtzUjBGQlZTeEpRVUZKTEVOQlFVTXpSQ3hUUVVGVExFTkJRVU0wUkN4RFFVRkRMRU5CUVVNN08wMUJSVzVETzAxQlEwRTdUVUZEUVN4SlFVRkpSeXhQUVVGUExFZEJRVWNzUTBGQlEwa3NUVUZCVFN4SlFVRkpRU3hOUVVGTkxFTkJRVU5TTEVsQlFVa3NSVUZCUlVjc1QwRkJUeXhGUVVGRmRFUXNTVUZCU1N4RFFVRkRPMDFCUTNCRUxFbEJRVWwxUkN4UFFVRlBMRVZCUVVVN1VVRkRWQ3hKUVVGSkxFTkJRVU5RTEZsQlFWa3NRMEZCUTBNc1VVRkJVU3hGUVVGRlJ5eERRVUZETEVWQlFVVkZMRTlCUVU4c1JVRkJSWFJFTEVsQlFVa3NSVUZCUlVNc1VVRkJVU3hEUVVGRE8wMUJRek5FT3p0TlFVVkJPMDFCUTBFN1RVRkRRVzFFTEVOQlFVTXNTVUZCU1N4RFFVRkRPMGxCUTFZN1JVRkRTaXhEUVVGRExFMUJRVTA3TzBsQlJVZ3NTVUZCU1VFc1EwRkJReXhIUVVGSExFTkJRVU03U1VGRFZDeFBRVUZQUVN4RFFVRkRMRWRCUVVjc1NVRkJTU3hEUVVGRGRFWXNSVUZCUlN4RFFVRkRSU3hOUVVGTkxFVkJRVVU3VFVGRGRrSXNTVUZCU1hkR0xFVkJRVVVzUjBGQlJ5eEpRVUZKTEVOQlFVTXhSaXhGUVVGRkxFTkJRVU56Uml4RFFVRkRMRU5CUVVNN1RVRkRia0lzU1VGQlNVTXNTVUZCU1N4SFFVRkhMRWxCUVVrc1EwRkJRekZFTEdkQ1FVRm5RaXhEUVVGRE5rUXNSVUZCUlN4RFFVRkRPenROUVVWd1F6dE5RVU5CTEVsQlFVbFFMRkZCUVZFc1IwRkJUMGtzU1VGQlNTeEpRVUZMTEVOQlFVTXNSMEZCU1N4SlFVRkpMRU5CUVVNc1EwRkJVVHROUVVNNVF6dE5RVU5CTEVsQlFVbERMRTlCUVU4c1IwRkJUeXhKUVVGSkxFTkJRVU14UkN4bFFVRmxMRU5CUVVNMFJDeEZRVUZGTEVOQlFVTXNRMEZCUXl4RFFVRkpPMDFCUXk5RExFbEJRVWw0UkN4SlFVRkpMRWRCUVZVc1NVRkJTU3hEUVVGRFNDeHJRa0ZCYTBJc1EwRkJRekpFTEVWQlFVVXNRMEZCUXl4RFFVRkRMRU5CUVVNN1RVRkRMME1zU1VGQlNVd3NTVUZCU1N4SFFVRlZMRWxCUVVrc1EwRkJRek5FTEZOQlFWTXNRMEZCUTJkRkxFVkJRVVVzUTBGQlF6czdUVUZGY0VNN1RVRkRRVHROUVVOQkxFbEJRVWxFTEU5QlFVOHNSMEZCUnl4RFFVRkRTU3hOUVVGTkxFbEJRVWxCTEUxQlFVMHNRMEZCUTFJc1NVRkJTU3hGUVVGRlJ5eFBRVUZQTEVWQlFVVjBSQ3hKUVVGSkxFTkJRVU03TzAxQlJYQkVMRWxCUVVscFJDeFJRVUZSTEV0QlFVczVSeXgxUWtGQmRVSXNSVUZCUlRzN1VVRkZkRU03TzFGQlJVRXNTVUZCU1c5SUxFOUJRVThzUlVGQlJUdFZRVU5VTEVsQlFVa3NRMEZCUTFnc2NVSkJRWEZDTEVOQlFVTXNTVUZCU1N4RFFVRkRPVVVzUlVGQlJTeERRVUZEYzBZc1EwRkJReXhEUVVGRExFVkJRVVVzU1VGQlNTeERRVUZEZEVZc1JVRkJSU3hEUVVGRGMwWXNRMEZCUXl4SFFVRkRMRU5CUVVNc1EwRkJReXhGUVVGRkxFbEJRVWtzUTBGQlEzUkdMRVZCUVVVc1EwRkJRM05HTEVOQlFVTXNSMEZCUXl4RFFVRkRMRU5CUVVNc1JVRkJSVVVzVDBGQlR5eEZRVUZGZEVRc1NVRkJTU3hGUVVGRlF5eFJRVUZSTEVOQlFVTTdVVUZETDBZN08xRkJSVUU3VVVGRFFXMUVMRU5CUVVNc1NVRkJTU3hEUVVGRE96dE5RVVZXTEVOQlFVTXNUVUZCVFR0UlFVTklMRWxCUVVsSExFOUJRVThzUlVGQlJUdFZRVU5VTEVsQlFVa3NRMEZCUTFBc1dVRkJXU3hEUVVGRFF5eFJRVUZSTEVWQlFVVlBMRVZCUVVVc1JVRkJSVVlzVDBGQlR5eEZRVUZGZEVRc1NVRkJTU3hGUVVGRlF5eFJRVUZSTEVOQlFVTTdVVUZETlVRN1VVRkRRVHRSUVVOQk8xRkJRMEZ0UkN4RFFVRkRMRWxCUVVrc1EwRkJRenROUVVOV096dEpRVVZLTzBWQlEwbzdPMEZCUlVvc1EwRkJReUlzSW5OdmRYSmpaWE1pT2xzaWQyVmljR0ZqYXpvdkwwRjFkRzlrWlhOckxrVjRkR1Z1YzJsdmJuTXZMaTl6Y21NdmQyZHpMM05qWlc1bEwxWmxjblJsZUVKMVptWmxjbEpsWVdSbGNpNXFjejgyWXpJMklsMHNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJbHh1WENKMWMyVWdjM1J5YVdOMFhDSTdYRzVjYm5aaGNpQlVRVlVnUFNCTllYUm9MbEJKSUNvZ01qdGNibHh1THk5RGIyNXpkR0Z1ZEhNZ1pIVndiR2xqWVhSbFpDQm1jbTl0SUhOeVl5OXNiWFowYXk5V1pYSjBaWGhDZFdabVpYSkNkV2xzWkdWeUxtcHpYRzUyWVhJZ1ZrSkNYMGRVWDFSU1NVRk9SMHhGWDBsT1JFVllSVVFnSUNBOUlEQXNYRzRnSUNBZ1ZrSkNYMGRVWDB4SlRrVmZVMFZIVFVWT1ZDQWdJQ0FnSUNBOUlERXNYRzRnSUNBZ1ZrSkNYMGRVWDBGU1ExOURTVkpEVlV4QlVpQWdJQ0FnSUNBOUlESXNYRzRnSUNBZ1ZrSkNYMGRVWDBGU1ExOUZURXhKVUZSSlEwRk1JQ0FnSUNBOUlETXNYRzRnSUNBZ1ZrSkNYMGRVWDFSRldGOVJWVUZFSUNBZ0lDQWdJQ0FnSUNBOUlEUXNYRzRnSUNBZ1ZrSkNYMGRVWDA5T1JWOVVVa2xCVGtkTVJTQWdJQ0FnSUNBOUlEVXNYRzRnSUNBZ1ZrSkNYMGRVWDB4SlRrVmZVMFZIVFVWT1ZGOURRVkJRUlVRZ1BTQTRMRnh1SUNBZ0lGWkNRbDlIVkY5TVNVNUZYMU5GUjAxRlRsUmZRMEZRVUVWRVgxTlVRVkpVSUQwZ09TeGNiaUFnSUNCV1FrSmZSMVJmVEVsT1JWOVRSVWROUlU1VVgwTkJVRkJGUkY5RlRrUWdQU0F4TUN4Y2JpQWdJQ0JXUWtKZlIxUmZURWxPUlY5VFJVZE5SVTVVWDAxSlZFVlNJRDBnTVRFN1hHNWNiblpoY2lCV1FrSmZRMDlNVDFKZlQwWkdVMFZVSUNBZ0lEMGdOaXhjYmlBZ0lDQldRa0pmUkVKSlJGOVBSa1pUUlZRZ0lDQWdJRDBnTnl4Y2JpQWdJQ0JXUWtKZlJreEJSMU5mVDBaR1UwVlVJQ0FnSUQwZ09DeGNiaUFnSUNCV1FrSmZURUZaUlZKZlZsQmZUMFpHVTBWVUlEMGdPVHRjYmx4dUx5b3FYRzRnS2lCSmJtbDBhV0ZzYVhwbGN5QmhJRndpZG1sbGQxd2lJR2x1ZEc4Z1lTQmpiMjF3WVdOMFpXUWdhVzUwWlhKc1pXRjJaV1FnZG1WeWRHVjRJR0oxWm1abGNpQmhjbkpoZVNCMWMybHVaeUJ2ZFhJZ1kzVnpkRzl0SURKRUlIWmxjblJsZUNCc1lYbHZkWFF1WEc0Z0tpQlRaV1VnYzNKakwyeHRkblJyTDFabGNuUmxlRUoxWm1abGNrSjFhV3hrWlhJdWFuTWdabTl5SUcxdmNtVWdaR1YwWVdsc2N5NWNiaUFxSUVCd1lYSmhiU0I3UW5WbVptVnlSMlZ2YldWMGNubDhUV1Z6YUVSaGRHRjlJR2RsYjIxbGRISjVYRzRnS2k5Y2JtVjRjRzl5ZENCbWRXNWpkR2x2YmlCV1pYSjBaWGhDZFdabVpYSlNaV0ZrWlhJb1oyVnZiV1YwY25rcFhHNTdYRzRnSUNBZ2RHaHBjeTUyWWlBZ1BTQm5aVzl0WlhSeWVTNTJZaTVpZFdabVpYSTdYRzRnSUNBZ2RHaHBjeTV6ZEhKcFpHVWdQU0JuWlc5dFpYUnllUzUyWW5OMGNtbGtaVHRjYmx4dUlDQWdJSFJvYVhNdWRtSm1JRDBnYm1WM0lFWnNiMkYwTXpKQmNuSmhlU2gwYUdsekxuWmlLVHRjYmlBZ0lDQjBhR2x6TG5aaWFTQTlJRzVsZHlCSmJuUXpNa0Z5Y21GNUtIUm9hWE11ZG1JcE8xeHVJQ0FnSUhSb2FYTXVkbUp6SUQwZ2JtVjNJRlZwYm5ReE5rRnljbUY1S0hSb2FYTXVkbUlwTzF4dVhHNGdJQ0FnZEdocGN5NXBZaUE5SUdkbGIyMWxkSEo1TG1saU8xeHVYRzRnSUNBZ2RHaHBjeTUyWTI5MWJuUWdQU0IwYUdsekxuWmlaaTVzWlc1bmRHZ2dMeUIwYUdsekxuTjBjbWxrWlR0Y2JseHVJQ0FnSUhSb2FYTXVkWE5sU1c1emRHRnVZMmx1WnlBOUlHZGxiMjFsZEhKNUxtNTFiVWx1YzNSaGJtTmxjeUErSURBN1hHNGdJQ0FnZEdocGN5NTFjMlZEYjIxd1lXTjBRblZtWm1WeWN5QTlJR2RsYjIxbGRISjVMblZ1Y0dGamExaG1iM0p0TzF4dUlDQWdJSFJvYVhNdWRHVjRSR0YwWVNBOUlIUm9hWE11ZFhObFEyOXRjR0ZqZEVKMVptWmxjbk1nSmlZZ1oyVnZiV1YwY25rdWRFbGtRMjlzYjNJL0xtbHRZV2RsUHk1a1lYUmhJQ1ltSUc1bGR5QlZhVzUwTXpKQmNuSmhlU2huWlc5dFpYUnllUzUwU1dSRGIyeHZjaTVwYldGblpTNWtZWFJoTG1KMVptWmxjaWs3WEc1Y2JpQWdJQ0F2THlCRWIyVnpJSFJvWlNCblpXOXRJSFZ6WlNCcGJuUmxjbXhsWVhabFpDQjJZajljYmlBZ0lDQXZMeUJWYzJWa0lHSjVJRVp5WVdkdFpXNTBUR2x6ZEM1MWNHUmhkR1ZXWlhKMFpYaENkV1ptWlhKR2IzSlVhR1Z0YVc1blFXNWtSMmh2YzNScGJtY2dkMmhwWTJnZ2IyNXNlVnh1SUNBZ0lDOHZJSGR2Y210bGN5QjNhWFJvSUdsdWRHVnliR1ZoZG1Wa0lIWmlYRzRnSUNBZ2RHaHBjeTVwYzBsdWRHVnliR1ZoZG1Wa1ZtSWdQU0FvS0NrZ1BUNGdlMXh1SUNBZ0lDQWdJQ0JqYjI1emRDQmhkSFJ5SUQwZ1oyVnZiV1YwY25rdVlYUjBjbWxpZFhSbGN6dGNiaUFnSUNBZ0lDQWdhV1lnS0NGaGRIUnlLU0J5WlhSMWNtNGdabUZzYzJVN1hHNWNiaUFnSUNBZ0lDQWdZMjl1YzNRZ1lYUk1ZWGxsY2xad0lEMGdZWFIwY2k1c1lYbGxjbFp3TkdJN1hHNGdJQ0FnSUNBZ0lHTnZibk4wSUdGMFJteGhaM01nSUNBOUlHRjBkSEl1Wm14aFozTTBZanRjYmx4dUlDQWdJQ0FnSUNCcFppQW9kR2hwY3k1MWMyVkRiMjF3WVdOMFFuVm1abVZ5Y3lrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnWTI5dWMzUWdZWFJKWkVOdmJHOXljeUFnUFNCaGRIUnlMblYyU1dSRGIyeHZjanRjYmlBZ0lDQWdJQ0FnSUNBZ0lISmxkSFZ5YmlCaGRFbGtRMjlzYjNKeklDWW1JR0YwVEdGNVpYSldjQ0FtSmlCaGRFWnNZV2R6TzF4dUlDQWdJQ0FnSUNCOUlHVnNjMlVnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdZMjl1YzNRZ1lYUkRiMnh2Y25NZ0lEMGdZWFIwY2k1amIyeHZjalJpTzF4dUlDQWdJQ0FnSUNBZ0lDQWdZMjl1YzNRZ1lYUkpaSE1nSUNBZ0lEMGdZWFIwY2k1a1lrbGtOR0k3WEc0Z0lDQWdJQ0FnSUNBZ0lDQnlaWFIxY200Z1lYUkRiMnh2Y25NZ0ppWWdZWFJKWkhNZ0ppWWdZWFJNWVhsbGNsWndJQ1ltSUdGMFJteGhaM003WEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0I5S1NncE8xeHVmVHRjYmx4dVZtVnlkR1Y0UW5WbVptVnlVbVZoWkdWeUxuQnliM1J2ZEhsd1pTNW5aWFJFWWtsa1FYUWdQU0JtZFc1amRHbHZiaWgyYVc1a1pYZ3BJSHRjYmlBZ0lDQnBaaWgwYUdsekxuUmxlRVJoZEdFcElIdGNiaUFnSUNBZ0lDQWdjbVYwZFhKdUlIUm9hWE11ZEdWNFJHRjBZVnQwYUdsekxuWmljMXQyYVc1a1pYZ3FkR2hwY3k1emRISnBaR1VnS2lBeUlDc2dWa0pDWDBSQ1NVUmZUMFpHVTBWVVhWMDdYRzRnSUNBZ2ZWeHVJQ0FnSUhKbGRIVnliaUIwYUdsekxuWmlhVnQyYVc1a1pYZ3FkR2hwY3k1emRISnBaR1VnS3lCV1FrSmZSRUpKUkY5UFJrWlRSVlJkTzF4dWZUdGNibHh1Vm1WeWRHVjRRblZtWm1WeVVtVmhaR1Z5TG5CeWIzUnZkSGx3WlM1blpYUkRiMnh2Y2tGMElEMGdablZ1WTNScGIyNG9kbWx1WkdWNEtTQjdYRzRnSUNBZ2FXWW9kR2hwY3k1MFpYaEVZWFJoS1NCN1hHNGdJQ0FnSUNBZ0lISmxkSFZ5YmlCMGFHbHpMblJsZUVSaGRHRmJkR2hwY3k1MlluTmJkbWx1WkdWNEtuUm9hWE11YzNSeWFXUmxJQ29nTWlBcklGWkNRbDlEVDB4UFVsOVBSa1pUUlZSZFhUdGNiaUFnSUNCOVhHNGdJQ0FnY21WMGRYSnVJSFJvYVhNdWRtSnBXM1pwYm1SbGVDcDBhR2x6TG5OMGNtbGtaU0FySUZaQ1FsOURUMHhQVWw5UFJrWlRSVlJkTzF4dWZUdGNibHh1Vm1WeWRHVjRRblZtWm1WeVVtVmhaR1Z5TG5CeWIzUnZkSGx3WlM1blpYUldaWEowWlhoR2JHRm5jMEYwSUQwZ1puVnVZM1JwYjI0b2RtbHVaR1Y0S1NCN1hHNGdJQ0FnYVdZb2RHaHBjeTUwWlhoRVlYUmhLU0I3WEc0Z0lDQWdJQ0FnSUhKbGRIVnliaUIwYUdsekxuWmlhVnQyYVc1a1pYZ3FkR2hwY3k1emRISnBaR1VnS3lBMFhUdGNiaUFnSUNCOVhHNGdJQ0FnY21WMGRYSnVJSFJvYVhNdWRtSnBXM1pwYm1SbGVDcDBhR2x6TG5OMGNtbGtaU0FySUZaQ1FsOUdURUZIVTE5UFJrWlRSVlJkTzF4dWZUdGNibHh1Vm1WeWRHVjRRblZtWm1WeVVtVmhaR1Z5TG5CeWIzUnZkSGx3WlM1blpYUk1ZWGxsY2tsdVpHVjRRWFFnUFNCbWRXNWpkR2x2YmloMmFXNWtaWGdwSUh0Y2JpQWdJQ0JwWmloMGFHbHpMblJsZUVSaGRHRXBJSHRjYmlBZ0lDQWdJQ0FnY21WMGRYSnVJSFJvYVhNdWRtSnBXM1pwYm1SbGVDcDBhR2x6TG5OMGNtbGtaU0FySURWZElDWWdNSGhtWm1abU8xeHVJQ0FnSUgxY2JpQWdJQ0J5WlhSMWNtNGdkR2hwY3k1MlltbGJkbWx1WkdWNEtuUm9hWE11YzNSeWFXUmxJQ3NnVmtKQ1gweEJXVVZTWDFaUVgwOUdSbE5GVkYwZ0ppQXdlR1ptWm1ZN1hHNTlPMXh1WEc1V1pYSjBaWGhDZFdabVpYSlNaV0ZrWlhJdWNISnZkRzkwZVhCbExtZGxkRlpwWlhkd2IzSjBTVzVrWlhoQmRDQTlJR1oxYm1OMGFXOXVLSFpwYm1SbGVDa2dlMXh1SUNBZ0lHbG1LSFJvYVhNdWRHVjRSR0YwWVNrZ2UxeHVJQ0FnSUNBZ0lDQnlaWFIxY200Z0tIUm9hWE11ZG1KcFczWnBibVJsZUNwMGFHbHpMbk4wY21sa1pTQXJJRFZkSUQ0K0lERTJLU0FtSURCNFptWm1aanRjYmlBZ0lDQjlYRzRnSUNBZ2NtVjBkWEp1SUNoMGFHbHpMblppYVZ0MmFXNWtaWGdxZEdocGN5NXpkSEpwWkdVZ0t5QldRa0pmVEVGWlJWSmZWbEJmVDBaR1UwVlVYU0ErUGlBeE5pa2dKaUF3ZUdabVptWTdYRzU5TzF4dVhHNVdaWEowWlhoQ2RXWm1aWEpTWldGa1pYSXVjSEp2ZEc5MGVYQmxMbVJsWTI5a1pVeHBibVZCZENBOUlHWjFibU4wYVc5dUtIWnBibVJsZUN3Z2JHRjVaWElzSUhad1NXUXNJR05oYkd4aVlXTnJLVnh1ZTF4dUlDQWdJR2xtSUNnaFkyRnNiR0poWTJzdWIyNU1hVzVsVTJWbmJXVnVkQ2tnZXlCeVpYUjFjbTQ3SUgxY2JseHVJQ0FnSUdsbUtIUm9hWE11ZFhObFEyOXRjR0ZqZEVKMVptWmxjbk1wSUh0Y2JpQWdJQ0FnSUNBZ2RtRnlJSFpsY25SbGVFOW1abk5sZENBOUlIUm9hWE11YzNSeWFXUmxJQ29nZG1sdVpHVjRJQ29nTWp0Y2JpQWdJQ0FnSUNBZ2RtRnlJSGd3SUNBZ0lDQWdJQ0FnUFNBb0tIUm9hWE11ZFhObFEyOXRjR0ZqZEVKMVptWmxjbk11ZUNBcUlIUm9hWE11ZG1KelczWmxjblJsZUU5bVpuTmxkRjBwSUM4Z05qVTFNelVwSUNzZ2RHaHBjeTUxYzJWRGIyMXdZV04wUW5WbVptVnljeTU2TzF4dUlDQWdJQ0FnSUNCMllYSWdlVEFnSUNBZ0lDQWdJQ0E5SUNnb2RHaHBjeTUxYzJWRGIyMXdZV04wUW5WbVptVnljeTU1SUNvZ2RHaHBjeTUyWW5OYmRtVnlkR1Y0VDJabWMyVjBLekZkS1NBdklEWTFOVE0xS1NBcklIUm9hWE11ZFhObFEyOXRjR0ZqZEVKMVptWmxjbk11ZHp0Y2JpQWdJQ0FnSUNBZ2RtRnlJR0Z1WjJ4bElDQWdJQ0FnUFNBb0tIUm9hWE11ZG1KelczWmxjblJsZUU5bVpuTmxkQ3N5WFNBdklEWTFOVE0xS1NBcUlGUkJWU2tnTFNCTllYUm9MbEJKTzF4dUlDQWdJQ0FnSUNCMllYSWdaR2x6ZEVGc2IyNW5JQ0E5SUNoMGFHbHpMblppYzF0MlpYSjBaWGhQWm1aelpYUXJNMTBnTHlBMk5UVXpOU2tnS2lCTllYUm9MbTFoZUNoMGFHbHpMblZ6WlVOdmJYQmhZM1JDZFdabVpYSnpMbmdzSUhSb2FYTXVkWE5sUTI5dGNHRmpkRUoxWm1abGNuTXVlU2s3WEc0Z0lDQWdJQ0FnSUhaaGNpQnNhVzVsVjJsa2RHZ2dJRDBnS0Nnb2RHaHBjeTUyWW5OYmRtVnlkR1Y0VDJabWMyVjBLelJkS1NBdklETXlOelkzS1NBcUlFMWhkR2d1YldGNEtIUm9hWE11ZFhObFEyOXRjR0ZqZEVKMVptWmxjbk11ZUN3Z2RHaHBjeTUxYzJWRGIyMXdZV04wUW5WbVptVnljeTU1S1NrZ0tpQXlMakE3WEc0Z0lDQWdmU0JsYkhObElIdGNiaUFnSUNBZ0lDQWdkbUZ5SUdKaGMyVlBabVp6WlhRZ1BTQjBhR2x6TG5OMGNtbGtaU0FxSUhacGJtUmxlRHRjYmlBZ0lDQWdJQ0FnZG1GeUlIZ3dJQ0FnSUNBZ0lDQWdQU0IwYUdsekxuWmlabHRpWVhObFQyWm1jMlYwWFR0Y2JpQWdJQ0FnSUNBZ2RtRnlJSGt3SUNBZ0lDQWdJQ0FnUFNCMGFHbHpMblppWmx0aVlYTmxUMlptYzJWMEt6RmRPMXh1SUNBZ0lDQWdJQ0IyWVhJZ1lXNW5iR1VnSUNBZ0lDQTlJSFJvYVhNdWRtSm1XMkpoYzJWUFptWnpaWFFyTWwwZ0tpQlVRVlVnTFNCTllYUm9MbEJKT3lBdkx5QmtaV052WkdVZ1lXNW5iR1U2SUhObFpTQldaWEowWlhoQ2RXWm1aWEpDZFdsc1pHVnlMbUZrWkZabGNuUmxlRXhwYm1WY2JpQWdJQ0FnSUNBZ2RtRnlJR1JwYzNSQmJHOXVaeUFnUFNCMGFHbHpMblppWmx0aVlYTmxUMlptYzJWMEt6TmRPMXh1SUNBZ0lDQWdJQ0IyWVhJZ2JHbHVaVmRwWkhSb0lDQTlJSFJvYVhNdWRtSm1XMkpoYzJWUFptWnpaWFFyTkYwZ0tpQXlMakE3WEc0Z0lDQWdmVnh1WEc0Z0lDQWdkbUZ5SUhneElEMGdlREFnS3lCa2FYTjBRV3h2Ym1jZ0tpQk5ZWFJvTG1OdmN5aGhibWRzWlNrN1hHNGdJQ0FnZG1GeUlIa3hJRDBnZVRBZ0t5QmthWE4wUVd4dmJtY2dLaUJOWVhSb0xuTnBiaWhoYm1kc1pTazdYRzVjYmlBZ0lDQmpZV3hzWW1GamF5NXZia3hwYm1WVFpXZHRaVzUwS0hnd0xDQjVNQ3dnZURFc0lIa3hMQ0IyY0Vsa0xDQnNhVzVsVjJsa2RHZ3BPMXh1ZlR0Y2JseHVWbVZ5ZEdWNFFuVm1abVZ5VW1WaFpHVnlMbkJ5YjNSdmRIbHdaUzVrWldOdlpHVkRhWEpqZFd4aGNrRnlZMEYwSUQwZ1puVnVZM1JwYjI0b2RtbHVaR1Y0TENCc1lYbGxjaXdnZG5CSlpDd2dZMkZzYkdKaFkyc3BYRzU3WEc0Z0lDQWdhV1lnS0NGallXeHNZbUZqYXk1dmJrTnBjbU4xYkdGeVFYSmpLU0I3SUhKbGRIVnlianNnZlZ4dVhHNGdJQ0FnYVdZb2RHaHBjeTUxYzJWRGIyMXdZV04wUW5WbVptVnljeWtnZTF4dUlDQWdJQ0FnSUNCMllYSWdkbVZ5ZEdWNFQyWm1jMlYwSUQwZ2RHaHBjeTV6ZEhKcFpHVWdLaUIyYVc1a1pYZ2dLaUF5TzF4dUlDQWdJQ0FnSUNCMllYSWdZM2dnSUNBZ0lDQWdJQ0E5SUNnb2RHaHBjeTUxYzJWRGIyMXdZV04wUW5WbVptVnljeTU0SUNvZ2RHaHBjeTUyWW5OYmRtVnlkR1Y0VDJabWMyVjBYU2tnTHlBMk5UVXpOU2tnS3lCMGFHbHpMblZ6WlVOdmJYQmhZM1JDZFdabVpYSnpMbm83WEc0Z0lDQWdJQ0FnSUhaaGNpQmplU0FnSUNBZ0lDQWdJRDBnS0NoMGFHbHpMblZ6WlVOdmJYQmhZM1JDZFdabVpYSnpMbmtnS2lCMGFHbHpMblppYzF0MlpYSjBaWGhQWm1aelpYUXJNVjBwSUM4Z05qVTFNelVwSUNzZ2RHaHBjeTUxYzJWRGIyMXdZV04wUW5WbVptVnljeTUzTzF4dUlDQWdJQ0FnSUNCMllYSWdjM1JoY25RZ0lDQWdJQ0E5SUNoMGFHbHpMblppYzF0MlpYSjBaWGhQWm1aelpYUXJNbDBnTHlBMk5UVXpOU2tnS2lCVVFWVTdYRzRnSUNBZ0lDQWdJSFpoY2lCbGJtUWdJQ0FnSUNBZ0lEMGdLSFJvYVhNdWRtSnpXM1psY25SbGVFOW1abk5sZENzelhTQXZJRFkxTlRNMUtTQXFJRlJCVlR0Y2JpQWdJQ0FnSUNBZ2RtRnlJSEpoWkdsMWN5QWdJQ0FnUFNBb2RHaHBjeTUyWW5OYmRtVnlkR1Y0VDJabWMyVjBLelZkSUM4Z05qVTFNelVwSUNvZ1RXRjBhQzV0WVhnb2RHaHBjeTUxYzJWRGIyMXdZV04wUW5WbVptVnljeTU0TENCMGFHbHpMblZ6WlVOdmJYQmhZM1JDZFdabVpYSnpMbmtwTzF4dUlDQWdJSDBnWld4elpTQjdYRzRnSUNBZ0lDQWdJSFpoY2lCaVlYTmxUMlptYzJWMElEMGdkR2hwY3k1emRISnBaR1VnS2lCMmFXNWtaWGc3WEc0Z0lDQWdJQ0FnSUhaaGNpQmplQ0FnSUNBZ0lDQWdJRDBnZEdocGN5NTJZbVpiWW1GelpVOW1abk5sZEYwN1hHNGdJQ0FnSUNBZ0lIWmhjaUJqZVNBZ0lDQWdJQ0FnSUQwZ2RHaHBjeTUyWW1aYlltRnpaVTltWm5ObGRDc3hYVHRjYmlBZ0lDQWdJQ0FnZG1GeUlITjBZWEowSUNBZ0lDQWdQU0IwYUdsekxuWmlabHRpWVhObFQyWm1jMlYwS3pKZElDb2dWRUZWTzF4dUlDQWdJQ0FnSUNCMllYSWdaVzVrSUNBZ0lDQWdJQ0E5SUhSb2FYTXVkbUptVzJKaGMyVlBabVp6WlhRck0xMGdLaUJVUVZVN1hHNGdJQ0FnSUNBZ0lIWmhjaUJ5WVdScGRYTWdJQ0FnSUQwZ2RHaHBjeTUyWW1aYlltRnpaVTltWm5ObGRDczFYVHRjYmlBZ0lDQjlYRzVjYmlBZ0lDQmpZV3hzWW1GamF5NXZia05wY21OMWJHRnlRWEpqS0dONExDQmplU3dnYzNSaGNuUXNJR1Z1WkN3Z2NtRmthWFZ6TENCMmNFbGtLVHRjYm4wN1hHNWNibFpsY25SbGVFSjFabVpsY2xKbFlXUmxjaTV3Y205MGIzUjVjR1V1WkdWamIyUmxSV3hzYVhCMGFXTmhiRUZ5WTBGMElEMGdablZ1WTNScGIyNG9kbWx1WkdWNExDQnNZWGxsY2l3Z2RuQkpaQ3dnWTJGc2JHSmhZMnNwWEc1N1hHNGdJQ0FnYVdZZ0tDRmpZV3hzWW1GamF5NXZia1ZzYkdsd2RHbGpZV3hCY21NcElIc2djbVYwZFhKdU95QjlYRzVjYmlBZ0lDQXZMeUJPYjNSbE9pQmpiMjF3WVdOMGFXOXVJSGRwYkd3Z2JtOTBJR2hoY0hCbGJpQm1iM0lnZEdobElGWkNRbDlIVkY5QlVrTmZSVXhNU1ZCVVNVTkJURnh1SUNBZ0lIWmhjaUJpWVhObFQyWm1jMlYwSUQwZ2RHaHBjeTV6ZEhKcFpHVWdLaUIyYVc1a1pYZzdYRzRnSUNBZ2RtRnlJR040SUNBZ0lDQWdJQ0FnUFNCMGFHbHpMblppWmx0aVlYTmxUMlptYzJWMFhUdGNiaUFnSUNCMllYSWdZM2tnSUNBZ0lDQWdJQ0E5SUhSb2FYTXVkbUptVzJKaGMyVlBabVp6WlhRck1WMDdYRzRnSUNBZ2RtRnlJSE4wWVhKMElDQWdJQ0FnUFNCMGFHbHpMblppWmx0aVlYTmxUMlptYzJWMEt6SmRJQ29nVkVGVk8xeHVJQ0FnSUhaaGNpQmxibVFnSUNBZ0lDQWdJRDBnZEdocGN5NTJZbVpiWW1GelpVOW1abk5sZENzelhTQXFJRlJCVlR0Y2JpQWdJQ0IyWVhJZ2JXRnFiM0lnSUNBZ0lDQTlJSFJvYVhNdWRtSm1XMkpoYzJWUFptWnpaWFFyTlYwN1hHNGdJQ0FnZG1GeUlHMXBibTl5SUNBZ0lDQWdQU0IwYUdsekxuWmlabHRpWVhObFQyWm1jMlYwS3pFd1hUdGNiaUFnSUNCMllYSWdkR2xzZENBZ0lDQWdJQ0E5SUhSb2FYTXVkbUptVzJKaGMyVlBabVp6WlhRck1URmRPMXh1WEc0Z0lDQWdZMkZzYkdKaFkyc3ViMjVGYkd4cGNIUnBZMkZzUVhKaktHTjRMQ0JqZVN3Z2MzUmhjblFzSUdWdVpDd2diV0ZxYjNJc0lHMXBibTl5TENCMGFXeDBMQ0IyY0Vsa0tUdGNibjA3WEc1Y2JsWmxjblJsZUVKMVptWmxjbEpsWVdSbGNpNXdjbTkwYjNSNWNHVXVaR1ZqYjJSbFZHVjRVWFZoWkVGMElEMGdablZ1WTNScGIyNG9kbWx1WkdWNExDQnNZWGxsY2l3Z2RuQkpaQ3dnWTJGc2JHSmhZMnNwWEc1N1hHNGdJQ0FnYVdZZ0tDRmpZV3hzWW1GamF5NXZibFJsZUZGMVlXUXBJSHNnY21WMGRYSnVPeUI5WEc1Y2JpQWdJQ0JwWmloMGFHbHpMblZ6WlVOdmJYQmhZM1JDZFdabVpYSnpLU0I3WEc0Z0lDQWdJQ0FnSUhaaGNpQjJaWEowWlhoUFptWnpaWFFnUFNCMGFHbHpMbk4wY21sa1pTQXFJSFpwYm1SbGVDQXFJREk3WEc0Z0lDQWdJQ0FnSUhaaGNpQmpaVzUwWlhKWUlDQWdJRDBnS0NoMGFHbHpMblZ6WlVOdmJYQmhZM1JDZFdabVpYSnpMbmdnS2lCMGFHbHpMblppYzF0MlpYSjBaWGhQWm1aelpYUmRLU0F2SURZMU5UTTFLU0FySUhSb2FYTXVkWE5sUTI5dGNHRmpkRUoxWm1abGNuTXVlanRjYmlBZ0lDQWdJQ0FnZG1GeUlHTmxiblJsY2xrZ0lDQWdQU0FvS0hSb2FYTXVkWE5sUTI5dGNHRmpkRUoxWm1abGNuTXVlU0FxSUhSb2FYTXVkbUp6VzNabGNuUmxlRTltWm5ObGRDc3hYU2tnTHlBMk5UVXpOU2tnS3lCMGFHbHpMblZ6WlVOdmJYQmhZM1JDZFdabVpYSnpMbmM3WEc0Z0lDQWdJQ0FnSUhaaGNpQnliM1JoZEdsdmJpQWdJRDBnS0hSb2FYTXVkbUp6VzNabGNuUmxlRTltWm5ObGRDc3lYU0F2SURZMU5UTTFLU0FxSUZSQlZUdGNiaUFnSUNBZ0lDQWdkbUZ5SUhkcFpIUm9JQ0FnSUNBZ1BTQW9kR2hwY3k1MlluTmJkbVZ5ZEdWNFQyWm1jMlYwS3pOZElDOGdOalUxTXpVcElDb2dUV0YwYUM1dFlYZ29kR2hwY3k1MWMyVkRiMjF3WVdOMFFuVm1abVZ5Y3k1NExDQjBhR2x6TG5WelpVTnZiWEJoWTNSQ2RXWm1aWEp6TG5rcE8xeHVJQ0FnSUNBZ0lDQjJZWElnYUdWcFoyaDBJQ0FnSUNBOUlDaDBhR2x6TG5aaWMxdDJaWEowWlhoUFptWnpaWFFyTkYwZ0x5QTJOVFV6TlNrZ0tpQk5ZWFJvTG0xaGVDaDBhR2x6TG5WelpVTnZiWEJoWTNSQ2RXWm1aWEp6TG5nc0lIUm9hWE11ZFhObFEyOXRjR0ZqZEVKMVptWmxjbk11ZVNrN1hHNGdJQ0FnZlNCbGJITmxJSHRjYmlBZ0lDQWdJQ0FnZG1GeUlHSmhjMlZQWm1aelpYUWdQU0IwYUdsekxuTjBjbWxrWlNBcUlIWnBibVJsZUR0Y2JpQWdJQ0FnSUNBZ2RtRnlJR05sYm5SbGNsZ2dJQ0FnUFNCMGFHbHpMblppWmx0aVlYTmxUMlptYzJWMFhUdGNiaUFnSUNBZ0lDQWdkbUZ5SUdObGJuUmxjbGtnSUNBZ1BTQjBhR2x6TG5aaVpsdGlZWE5sVDJabWMyVjBLekZkTzF4dUlDQWdJQ0FnSUNBdkx5QjVaWE1zSUhSb2FYTWdhWE1nYVc0Z1lTQmthV1ptWlhKbGJuUWdiM0prWlhJZ2RHaGhiaUJ2ZFhSd2RYUXNJR1p2Ykd4dmQybHVaeUJXWlhKMFpYaENkV1ptWlhKQ2RXbHNaR1Z5SjNNZ2IzSmtaWEpjYmlBZ0lDQWdJQ0FnZG1GeUlISnZkR0YwYVc5dUlDQWdQU0IwYUdsekxuWmlabHRpWVhObFQyWm1jMlYwS3pKZElDb2dWRUZWTzF4dUlDQWdJQ0FnSUNCMllYSWdkMmxrZEdnZ0lDQWdJQ0E5SUhSb2FYTXVkbUptVzJKaGMyVlBabVp6WlhRck0xMDdYRzRnSUNBZ0lDQWdJSFpoY2lCb1pXbG5hSFFnSUNBZ0lEMGdkR2hwY3k1MlltWmJZbUZ6WlU5bVpuTmxkQ3MwWFR0Y2JpQWdJQ0I5WEc1Y2JpQWdJQ0JqWVd4c1ltRmpheTV2YmxSbGVGRjFZV1FvWTJWdWRHVnlXQ3dnWTJWdWRHVnlXU3dnZDJsa2RHZ3NJR2hsYVdkb2RDd2djbTkwWVhScGIyNHNJSFp3U1dRcE8xeHVmVHRjYmx4dVZtVnlkR1Y0UW5WbVptVnlVbVZoWkdWeUxuQnliM1J2ZEhsd1pTNWtaV052WkdWUGJtVlVjbWxoYm1kc1pVRjBJRDBnWm5WdVkzUnBiMjRvZG1sdVpHVjRMQ0JzWVhsbGNpd2dkbkJKWkN3Z1kyRnNiR0poWTJzcFhHNTdYRzRnSUNBZ2FXWWdLQ0ZqWVd4c1ltRmpheTV2Yms5dVpWUnlhV0Z1WjJ4bEtTQjdJSEpsZEhWeWJqc2dmVnh1WEc0Z0lDQWdhV1lvZEdocGN5NTFjMlZEYjIxd1lXTjBRblZtWm1WeWN5a2dlMXh1SUNBZ0lDQWdJQ0IyWVhJZ2RtVnlkR1Y0VDJabWMyVjBJRDBnZEdocGN5NXpkSEpwWkdVZ0tpQjJhVzVrWlhnZ0tpQXlPMXh1SUNBZ0lDQWdJQ0IyWVhJZ2VERWdJQ0FnSUNBZ0lDQTlJQ2dvZEdocGN5NTFjMlZEYjIxd1lXTjBRblZtWm1WeWN5NTRJQ29nZEdocGN5NTJZbk5iZG1WeWRHVjRUMlptYzJWMFhTa2dMeUEyTlRVek5Ta2dLeUIwYUdsekxuVnpaVU52YlhCaFkzUkNkV1ptWlhKekxubzdYRzRnSUNBZ0lDQWdJSFpoY2lCNU1TQWdJQ0FnSUNBZ0lEMGdLQ2gwYUdsekxuVnpaVU52YlhCaFkzUkNkV1ptWlhKekxua2dLaUIwYUdsekxuWmljMXQyWlhKMFpYaFBabVp6WlhRck1WMHBJQzhnTmpVMU16VXBJQ3NnZEdocGN5NTFjMlZEYjIxd1lXTjBRblZtWm1WeWN5NTNPMXh1SUNBZ0lDQWdJQ0IyWVhJZ2VESWdJQ0FnSUNBZ0lDQTlJQ2dvZEdocGN5NTFjMlZEYjIxd1lXTjBRblZtWm1WeWN5NTRJQ29nZEdocGN5NTJZbk5iZG1WeWRHVjRUMlptYzJWMEt6SmRLU0F2SURZMU5UTTFLU0FySUhSb2FYTXVkWE5sUTI5dGNHRmpkRUoxWm1abGNuTXVlanRjYmlBZ0lDQWdJQ0FnZG1GeUlIa3lJQ0FnSUNBZ0lDQWdQU0FvS0hSb2FYTXVkWE5sUTI5dGNHRmpkRUoxWm1abGNuTXVlU0FxSUhSb2FYTXVkbUp6VzNabGNuUmxlRTltWm5ObGRDc3pYU2tnTHlBMk5UVXpOU2tnS3lCMGFHbHpMblZ6WlVOdmJYQmhZM1JDZFdabVpYSnpMbmM3WEc0Z0lDQWdJQ0FnSUhaaGNpQjRNeUFnSUNBZ0lDQWdJRDBnS0NoMGFHbHpMblZ6WlVOdmJYQmhZM1JDZFdabVpYSnpMbmdnS2lCMGFHbHpMblppYzF0MlpYSjBaWGhQWm1aelpYUXJORjBwSUM4Z05qVTFNelVwSUNzZ2RHaHBjeTUxYzJWRGIyMXdZV04wUW5WbVptVnljeTU2TzF4dUlDQWdJQ0FnSUNCMllYSWdlVE1nSUNBZ0lDQWdJQ0E5SUNnb2RHaHBjeTUxYzJWRGIyMXdZV04wUW5WbVptVnljeTU1SUNvZ2RHaHBjeTUyWW5OYmRtVnlkR1Y0VDJabWMyVjBLelZkS1NBdklEWTFOVE0xS1NBcklIUm9hWE11ZFhObFEyOXRjR0ZqZEVKMVptWmxjbk11ZHp0Y2JpQWdJQ0I5SUdWc2MyVWdlMXh1SUNBZ0lDQWdJQ0IyWVhJZ1ltRnpaVTltWm5ObGRDQTlJSFJvYVhNdWMzUnlhV1JsSUNvZ2RtbHVaR1Y0TzF4dUlDQWdJQ0FnSUNCMllYSWdlREVnSUNBZ0lDQWdJQ0E5SUhSb2FYTXVkbUptVzJKaGMyVlBabVp6WlhSZE8xeHVJQ0FnSUNBZ0lDQjJZWElnZVRFZ0lDQWdJQ0FnSUNBOUlIUm9hWE11ZG1KbVcySmhjMlZQWm1aelpYUXJNVjA3WEc0Z0lDQWdJQ0FnSUhaaGNpQjRNaUFnSUNBZ0lDQWdJRDBnZEdocGN5NTJZbVpiWW1GelpVOW1abk5sZENzeVhUdGNiaUFnSUNBZ0lDQWdkbUZ5SUhreUlDQWdJQ0FnSUNBZ1BTQjBhR2x6TG5aaVpsdGlZWE5sVDJabWMyVjBLek5kTzF4dUlDQWdJQ0FnSUNCMllYSWdlRE1nSUNBZ0lDQWdJQ0E5SUhSb2FYTXVkbUptVzJKaGMyVlBabVp6WlhRck5GMDdYRzRnSUNBZ0lDQWdJSFpoY2lCNU15QWdJQ0FnSUNBZ0lEMGdkR2hwY3k1MlltWmJZbUZ6WlU5bVpuTmxkQ3MxWFR0Y2JpQWdJQ0I5WEc1Y2JpQWdJQ0JqWVd4c1ltRmpheTV2Yms5dVpWUnlhV0Z1WjJ4bEtIZ3hMQ0I1TVN3Z2VESXNJSGt5TENCNE15d2dlVE1zSUhad1NXUXBPMXh1ZlR0Y2JseHVYRzVXWlhKMFpYaENkV1ptWlhKU1pXRmtaWEl1Y0hKdmRHOTBlWEJsTG1SbFkyOWtaVlJ5YVdGdVoyeGxTVzVrWlhobFpDQTlJR1oxYm1OMGFXOXVLSFpwTUN3Z2Rta3hMQ0IyYVRJc0lHeGhlV1Z5TENCMmNFbGtMQ0JqWVd4c1ltRmpheWxjYm50Y2JpQWdJQ0JwWmlBb0lXTmhiR3hpWVdOckxtOXVUMjVsVkhKcFlXNW5iR1VwSUhzZ2NtVjBkWEp1T3lCOVhHNWNiaUFnSUNCcFppaDBhR2x6TG5WelpVTnZiWEJoWTNSQ2RXWm1aWEp6S1NCN1hHNGdJQ0FnSUNBZ0lIWmhjaUIyWlhKMFpYaFBabVp6WlhRZ1BTQjBhR2x6TG5OMGNtbGtaU0FxSUhacE1DQXFJREk3WEc0Z0lDQWdJQ0FnSUhaaGNpQjRNU0FnSUNBZ0lDQWdJRDBnS0NoMGFHbHpMblZ6WlVOdmJYQmhZM1JDZFdabVpYSnpMbmdnS2lCMGFHbHpMblppYzF0MlpYSjBaWGhQWm1aelpYUmRLU0F2SURZMU5UTTFLU0FySUhSb2FYTXVkWE5sUTI5dGNHRmpkRUoxWm1abGNuTXVlanRjYmlBZ0lDQWdJQ0FnZG1GeUlIa3hJQ0FnSUNBZ0lDQWdQU0FvS0hSb2FYTXVkWE5sUTI5dGNHRmpkRUoxWm1abGNuTXVlU0FxSUhSb2FYTXVkbUp6VzNabGNuUmxlRTltWm5ObGRDc3hYU2tnTHlBMk5UVXpOU2tnS3lCMGFHbHpMblZ6WlVOdmJYQmhZM1JDZFdabVpYSnpMbmM3WEc1Y2JpQWdJQ0FnSUNBZ2RtVnlkR1Y0VDJabWMyVjBJQ0FnUFNCMGFHbHpMbk4wY21sa1pTQXFJSFpwTVNBcUlESTdYRzRnSUNBZ0lDQWdJSFpoY2lCNE1pQWdJQ0FnSUNBZ0lEMGdLQ2gwYUdsekxuVnpaVU52YlhCaFkzUkNkV1ptWlhKekxuZ2dLaUIwYUdsekxuWmljMXQyWlhKMFpYaFBabVp6WlhSZEtTQXZJRFkxTlRNMUtTQXJJSFJvYVhNdWRYTmxRMjl0Y0dGamRFSjFabVpsY25NdWVqdGNiaUFnSUNBZ0lDQWdkbUZ5SUhreUlDQWdJQ0FnSUNBZ1BTQW9LSFJvYVhNdWRYTmxRMjl0Y0dGamRFSjFabVpsY25NdWVTQXFJSFJvYVhNdWRtSnpXM1psY25SbGVFOW1abk5sZENzeFhTa2dMeUEyTlRVek5Ta2dLeUIwYUdsekxuVnpaVU52YlhCaFkzUkNkV1ptWlhKekxuYzdYRzVjYmlBZ0lDQWdJQ0FnZG1WeWRHVjRUMlptYzJWMElDQWdQU0IwYUdsekxuTjBjbWxrWlNBcUlIWnBNaUFxSURJN1hHNGdJQ0FnSUNBZ0lIWmhjaUI0TXlBZ0lDQWdJQ0FnSUQwZ0tDaDBhR2x6TG5WelpVTnZiWEJoWTNSQ2RXWm1aWEp6TG5nZ0tpQjBhR2x6TG5aaWMxdDJaWEowWlhoUFptWnpaWFJkS1NBdklEWTFOVE0xS1NBcklIUm9hWE11ZFhObFEyOXRjR0ZqZEVKMVptWmxjbk11ZWp0Y2JpQWdJQ0FnSUNBZ2RtRnlJSGt6SUNBZ0lDQWdJQ0FnUFNBb0tIUm9hWE11ZFhObFEyOXRjR0ZqZEVKMVptWmxjbk11ZVNBcUlIUm9hWE11ZG1KelczWmxjblJsZUU5bVpuTmxkQ3N4WFNrZ0x5QTJOVFV6TlNrZ0t5QjBhR2x6TG5WelpVTnZiWEJoWTNSQ2RXWm1aWEp6TG5jN1hHNGdJQ0FnZlNCbGJITmxJSHRjYmlBZ0lDQWdJQ0FnZG1GeUlHSmhjMlZQWm1aelpYUWdQU0IwYUdsekxuTjBjbWxrWlNBcUlIWnBNRHRjYmlBZ0lDQWdJQ0FnZG1GeUlIZ3hJQ0FnSUNBZ0lDQWdQU0IwYUdsekxuWmlabHRpWVhObFQyWm1jMlYwWFR0Y2JpQWdJQ0FnSUNBZ2RtRnlJSGt4SUNBZ0lDQWdJQ0FnUFNCMGFHbHpMblppWmx0aVlYTmxUMlptYzJWMEt6RmRPMXh1WEc0Z0lDQWdJQ0FnSUdKaGMyVlBabVp6WlhRZ0lDQWdJRDBnZEdocGN5NXpkSEpwWkdVZ0tpQjJhVEU3WEc0Z0lDQWdJQ0FnSUhaaGNpQjRNaUFnSUNBZ0lDQWdJRDBnZEdocGN5NTJZbVpiWW1GelpVOW1abk5sZEYwN1hHNGdJQ0FnSUNBZ0lIWmhjaUI1TWlBZ0lDQWdJQ0FnSUQwZ2RHaHBjeTUyWW1aYlltRnpaVTltWm5ObGRDc3hYVHRjYmx4dUlDQWdJQ0FnSUNCaVlYTmxUMlptYzJWMElDQWdJQ0E5SUhSb2FYTXVjM1J5YVdSbElDb2dkbWt5TzF4dUlDQWdJQ0FnSUNCMllYSWdlRE1nSUNBZ0lDQWdJQ0E5SUhSb2FYTXVkbUptVzJKaGMyVlBabVp6WlhSZE8xeHVJQ0FnSUNBZ0lDQjJZWElnZVRNZ0lDQWdJQ0FnSUNBOUlIUm9hWE11ZG1KbVcySmhjMlZQWm1aelpYUXJNVjA3WEc0Z0lDQWdmVnh1WEc0Z0lDQWdZMkZzYkdKaFkyc3ViMjVQYm1WVWNtbGhibWRzWlNoNE1Td2dlVEVzSUhneUxDQjVNaXdnZURNc0lIa3pMQ0IyY0Vsa0tUdGNibjA3WEc1Y2JsWmxjblJsZUVKMVptWmxjbEpsWVdSbGNpNXdjbTkwYjNSNWNHVXVaR1ZqYjJSbFFubFVlWEJsSUQwZ1puVnVZM1JwYjI0b1oyVnZiVlI1Y0dVc0lIWnBibVJsZUN3Z2JHRjVaWElzSUhad1NXUXNJR05oYkd4aVlXTnJLU0I3WEc0Z0lDQWdjM2RwZEdOb0lDaG5aVzl0Vkhsd1pTa2dlMXh1SUNBZ0lDQWdJQ0JqWVhObElGWkNRbDlIVkY5TVNVNUZYMU5GUjAxRlRsUmZUVWxVUlZJNlhHNGdJQ0FnSUNBZ0lHTmhjMlVnVmtKQ1gwZFVYMHhKVGtWZlUwVkhUVVZPVkY5RFFWQlFSVVE2WEc0Z0lDQWdJQ0FnSUdOaGMyVWdWa0pDWDBkVVgweEpUa1ZmVTBWSFRVVk9WRjlEUVZCUVJVUmZVMVJCVWxRNlhHNGdJQ0FnSUNBZ0lHTmhjMlVnVmtKQ1gwZFVYMHhKVGtWZlUwVkhUVVZPVkY5RFFWQlFSVVJmUlU1RU9seHVJQ0FnSUNBZ0lDQmpZWE5sSUZaQ1FsOUhWRjlNU1U1RlgxTkZSMDFGVGxRNklDQWdJQ0FnSUNCMGFHbHpMbVJsWTI5a1pVeHBibVZCZENnZ0lDQWdJQ0FnSUNCMmFXNWtaWGdzSUd4aGVXVnlMQ0IyY0Vsa0xDQmpZV3hzWW1GamF5azdJR0p5WldGck8xeHVJQ0FnSUNBZ0lDQmpZWE5sSUZaQ1FsOUhWRjlCVWtOZlEwbFNRMVZNUVZJNklDQWdJQ0FnSUNCMGFHbHpMbVJsWTI5a1pVTnBjbU4xYkdGeVFYSmpRWFFvSUNCMmFXNWtaWGdzSUd4aGVXVnlMQ0IyY0Vsa0xDQmpZV3hzWW1GamF5azdJR0p5WldGck8xeHVJQ0FnSUNBZ0lDQmpZWE5sSUZaQ1FsOUhWRjlCVWtOZlJVeE1TVkJVU1VOQlREb2dJQ0FnSUNCMGFHbHpMbVJsWTI5a1pVVnNiR2x3ZEdsallXeEJjbU5CZENoMmFXNWtaWGdzSUd4aGVXVnlMQ0IyY0Vsa0xDQmpZV3hzWW1GamF5azdJR0p5WldGck95QXZMeUFnWTI5dGNHRmpkR2x2YmlCcGN5QnViM1FnY0dWeVptOXliV1ZrWEc0Z0lDQWdJQ0FnSUdOaGMyVWdWa0pDWDBkVVgxUkZXRjlSVlVGRU9pQWdJQ0FnSUNBZ0lDQWdJSFJvYVhNdVpHVmpiMlJsVkdWNFVYVmhaRUYwS0NBZ0lDQWdJSFpwYm1SbGVDd2diR0Y1WlhJc0lIWndTV1FzSUdOaGJHeGlZV05yS1RzZ1luSmxZV3M3WEc0Z0lDQWdJQ0FnSUdOaGMyVWdWa0pDWDBkVVgwOU9SVjlVVWtsQlRrZE1SVG9nSUNBZ0lDQWdJSFJvYVhNdVpHVmpiMlJsVDI1bFZISnBZVzVuYkdWQmRDZ2dJSFpwYm1SbGVDd2diR0Y1WlhJc0lIWndTV1FzSUdOaGJHeGlZV05yS1RzZ1luSmxZV3M3WEc0Z0lDQWdJQ0FnSUdSbFptRjFiSFE2SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJR0p5WldGck8xeHVJQ0FnSUgxY2JseHVmVnh1WEc0dkx5QjFjMlZrSUdKNUlIUm9aU0J6Ym1Gd2NHVnlJR0Z1WkNCaWVTQjBhR1VnWW05MWJtUnpJR1pwYm1SbGNseHVWbVZ5ZEdWNFFuVm1abVZ5VW1WaFpHVnlMbkJ5YjNSdmRIbHdaUzVsYm5WdFIyVnZiWE5HYjNKUFltcGxZM1FnUFNCbWRXNWpkR2x2Ymloa1lrbGtMQ0JqWVd4c1ltRmpheWxjYm50Y2JpQWdJQ0JwWmlBb2RHaHBjeTUxYzJWSmJuTjBZVzVqYVc1bktTQjdYRzVjYmlBZ0lDQWdJQ0FnTHk5WGFHVnVJR2x1YzNSaGJtTnBibWNnYVhNZ2RYTmxaQ3dnWldGamFDQm5aVzl0WlhSeWVTQndjbWx0YVhScGRtVWdhWE1nWlc1amIyUmxaQ0JwYm5SdklHRWdjMmx1WjJ4bElIWmxjblJsZUZ4dUlDQWdJQ0FnSUNBdkwyRnVaQ0IwYUdWeVpTQnBjeUJ1YnlCcGJtUmxlQ0JpZFdabVpYSXVYRzVjYmlBZ0lDQWdJQ0FnZG1GeUlHa2dQU0F3TzF4dUlDQWdJQ0FnSUNCM2FHbHNaU0FvYVNBOElIUm9hWE11ZG1OdmRXNTBLU0I3WEc0Z0lDQWdJQ0FnSUNBZ0lDQjJZWElnWm14aFp5QTlJSFJvYVhNdVoyVjBWbVZ5ZEdWNFJteGhaM05CZENocEtUdGNibHh1SUNBZ0lDQWdJQ0FnSUNBZ0x5OTJZWElnZG1WeWRHVjRTV1FnSUQwZ0tHWnNZV2NnUGo0Z0lEQXBJQ1lnTUhobVpqc2dJQ0FnSUNBZ0lDOHZJQ0E0SUdKcGRGeHVJQ0FnSUNBZ0lDQWdJQ0FnZG1GeUlHZGxiMjFVZVhCbElDQWdJRDBnS0dac1lXY2dQajRnSURncElDWWdNSGhtWmpzZ0lDQWdJQ0FnSUM4dklDQTRJR0pwZEZ4dUlDQWdJQ0FnSUNBZ0lDQWdMeTkyWVhJZ2JHbHVaVkJoZEhSbGNtNGdQU0FvWm14aFp5QStQaUF4TmlrZ0ppQXdlR1ptT3lBZ0lDQWdJQzh2SUNBNElHSnBkRnh1SUNBZ0lDQWdJQ0FnSUNBZ2RtRnlJR3hoZVdWeVNXUWdJQ0FnSUQwZ2RHaHBjeTVuWlhSTVlYbGxja2x1WkdWNFFYUW9hU2s3SUNBZ0lDOHZJREUySUdKcGRGeHVJQ0FnSUNBZ0lDQWdJQ0FnZG1GeUlIWndTV1FnSUNBZ0lDQWdJRDBnZEdocGN5NW5aWFJXYVdWM2NHOXlkRWx1WkdWNFFYUW9hU2s3SUM4dklERTJJR0pwZEZ4dUlDQWdJQ0FnSUNBZ0lDQWdkbUZ5SUhacGMybGliR1VnSUNBZ0lEMGdkR2hwY3k1blpYUkVZa2xrUVhRb2FTa2dQVDA5SUdSaVNXUTdYRzRnSUNBZ0lDQWdJQ0FnSUNCcFppQW9kbWx6YVdKc1pTa2dlMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJSFJvYVhNdVpHVmpiMlJsUW5sVWVYQmxLR2RsYjIxVWVYQmxMQ0JwTENCc1lYbGxja2xrTENCMmNFbGtMQ0JqWVd4c1ltRmpheWs3WEc0Z0lDQWdJQ0FnSUNBZ0lDQjlYRzVjYmlBZ0lDQWdJQ0FnSUNBZ0lDOHZTVzRnZEdobElHTmhjMlVnYjJZZ2FXNXpkR0Z1WTJsdVp5d2dkR2hsY21VZ2FYTWdibThnZG1WeWRHVjRJR1IxY0d4cFkyRjBhVzl1SUdGdVpDQnVieUJwYm1SbGVDQmlkV1ptWlhJc0lIZGxJR3AxYzNSY2JpQWdJQ0FnSUNBZ0lDQWdJQzh2Ylc5MlpTQjBieUIwYUdVZ2JtVjRkQ0IyWlhKMFpYaGNiaUFnSUNBZ0lDQWdJQ0FnSUdrZ0t6MGdNVHRjYmlBZ0lDQWdJQ0FnZlZ4dUlDQWdJSDBnWld4elpTQjdYRzVjYmlBZ0lDQWdJQ0FnZG1GeUlHa2dQU0F3TzF4dUlDQWdJQ0FnSUNCM2FHbHNaU0FvYVNBOElIUm9hWE11YVdJdWJHVnVaM1JvS1NCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0IyWVhJZ2Rta2dQU0IwYUdsekxtbGlXMmxkTzF4dUlDQWdJQ0FnSUNBZ0lDQWdkbUZ5SUdac1lXY2dQU0IwYUdsekxtZGxkRlpsY25SbGVFWnNZV2R6UVhRb2Rta3BPMXh1WEc0Z0lDQWdJQ0FnSUNBZ0lDQXZMM1poY2lCMlpYSjBaWGhKWkNBZ0lDQTlJQ2htYkdGbklENCtJQ0F3S1NBbUlEQjRabVk3SUNBZ0lDQWdJQ0F2THlBZ09DQmlhWFJjYmlBZ0lDQWdJQ0FnSUNBZ0lIWmhjaUJuWlc5dFZIbHdaU0FnSUNBOUlDaG1iR0ZuSUQ0K0lDQTRLU0FtSURCNFptWTdJQ0FnSUNBZ0lDQXZMeUFnT0NCaWFYUmNiaUFnSUNBZ0lDQWdJQ0FnSUM4dmRtRnlJR3hwYm1WUVlYUjBaWEp1SUQwZ0tHWnNZV2NnUGo0Z01UWXBJQ1lnTUhobVpqc2dJQ0FnSUNBZ0lDOHZJQ0E0SUdKcGRGeHVJQ0FnSUNBZ0lDQWdJQ0FnZG1GeUlHeGhlV1Z5U1dRZ0lDQWdJRDBnZEdocGN5NW5aWFJNWVhsbGNrbHVaR1Y0UVhRb2Rta3BPeUFnSUNBdkx5QXhOaUJpYVhSY2JpQWdJQ0FnSUNBZ0lDQWdJSFpoY2lCMmNFbGtJQ0FnSUNBZ0lDQTlJSFJvYVhNdVoyVjBWbWxsZDNCdmNuUkpibVJsZUVGMEtIWnBLVHNnTHk4Z01UWWdZbWwwWEc1Y2JpQWdJQ0FnSUNBZ0lDQWdJSFpoY2lCMmFYTnBZbXhsSUQwZ2RHaHBjeTVuWlhSRVlrbGtRWFFvZG1rcElEMDlQU0JrWWtsa08xeHVYRzRnSUNBZ0lDQWdJQ0FnSUNCcFppQW9aMlZ2YlZSNWNHVWdQVDA5SUZaQ1FsOUhWRjlVVWtsQlRrZE1SVjlKVGtSRldFVkVLU0I3WEc1Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBdkwxUnlhV0Z1WjJ4bGN5QmhjbVVnWlc1amIyUmxaQ0JwYmlCMGFISmxaU0IyWlhKMGFXTmxjeUFvYkdsclpTQmhJSE5wYlhCc1pTQnRaWE5vS1NCcGJuTjBaV0ZrSUc5bUlEUWdiR2xyWlNCbGRtVnllWFJvYVc1bklHVnNjMlZjYmx4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUdsbUlDaDJhWE5wWW14bEtTQjdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUhSb2FYTXVaR1ZqYjJSbFZISnBZVzVuYkdWSmJtUmxlR1ZrS0hSb2FYTXVhV0piYVYwc0lIUm9hWE11YVdKYmFTc3hYU3dnZEdocGN5NXBZbHRwS3pKZExDQnNZWGxsY2tsa0xDQjJjRWxrTENCallXeHNZbUZqYXlrN1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ2ZWeHVYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdMeTlCWkhaaGJtTmxJSFJ2SUhSb1pTQnVaWGgwSUhCeWFXMXBkR2wyWlZ4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUdrZ0t6MGdNenRjYmx4dUlDQWdJQ0FnSUNBZ0lDQWdmU0JsYkhObElIdGNibHh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJR2xtSUNoMmFYTnBZbXhsS1NCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJSFJvYVhNdVpHVmpiMlJsUW5sVWVYQmxLR2RsYjIxVWVYQmxMQ0IyYVN3Z2JHRjVaWEpKWkN3Z2RuQkpaQ3dnWTJGc2JHSmhZMnNwTzF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDOHZVMnRwY0NCa2RYQnNhV05oZEdVZ2RtVnlkR2xqWlhNZ0tIZG9aVzRnYm05MElIVnphVzVuSUdsdWMzUmhibU5wYm1jZ1lXNWtJSFJvWlNCblpXOXRaWFJ5ZVNCcGN5QnViM1FnWVNCemFXMXdiR1VnY0c5c2VYUnlhV0Z1WjJ4bExGeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDOHZaV0ZqYUNCMlpYSjBaWGdnYVhNZ2JHbHpkR1ZrSUdadmRYSWdkR2x0WlhNZ2QybDBhQ0JoSUdScFptWmxjbVZ1ZENCMlpYSjBaWGhKWkNCbWJHRm5YRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdhU0FyUFNBMk8xeHVJQ0FnSUNBZ0lDQWdJQ0FnZlZ4dVhHNWNiaUFnSUNBZ0lDQWdmVnh1SUNBZ0lIMWNibHh1ZlR0Y2JseHVYRzR2S2lwY2JpQXFJRlZ6WldRZ1lua2dkR2hsSUdKdmRXNWtjeUJtYVc1a1pYSXVYRzRnS2lCQWNHRnlZVzBnZTJGeWNtRjVXMjUxYldKbGNsMTlJR3hoZVdWeVNXUnpWbWx6YVdKc1pTQXRJR3hwYzNRZ2IyWWdiR0Y1WlhJZ2FXUnpJSFJvWVhRZ1lYSmxJSFpwYzJsaWJHVmNiaUFxSUVCd1lYSmhiU0I3Wm5WdVkzUnBiMjU5SUdOaGJHeGlZV05yWEc0Z0tpQkFjSEpwZG1GMFpWeHVJQ292WEc1V1pYSjBaWGhDZFdabVpYSlNaV0ZrWlhJdWNISnZkRzkwZVhCbExtVnVkVzFIWlc5dGMwWnZjbFpwYzJsaWJHVk1ZWGxsY2lBOUlHWjFibU4wYVc5dUtHeGhlV1Z5U1dSelZtbHphV0pzWlN3Z1kyRnNiR0poWTJzcFhHNTdYRzRnSUNBZ2RtRnlJR1pwYkhSbGNpQTlJR1oxYm1OMGFXOXVLR1JpU1dRc0lHeGhlV1Z5U1dRc0lIWnBaWGR3YjNKMFNXUXBJSHRjYmlBZ0lDQWdJQ0FnY21WMGRYSnVJQ0ZzWVhsbGNrbGtjMVpwYzJsaWJHVWdmSHdnS0d4aGVXVnlTV1FnSVQwOUlEQWdKaVlnYkdGNVpYSkpaSE5XYVhOcFlteGxMbWx1WkdWNFQyWW9iR0Y1WlhKSlpDa2dJVDA5SUMweEtUdGNiaUFnSUNCOU8xeHVJQ0FnSUhSb2FYTXVaVzUxYlVkbGIyMXpLR1pwYkhSbGNpd2dZMkZzYkdKaFkyc3BPMXh1ZlR0Y2JseHVYRzR2S2lwY2JpQXFJRVZ1ZFcxbGNtRjBaU0JoYkd3Z1oyVnZiV1YwY21saklIQnlhVzFwZEdsMlpYTWdkR2hoZENCdFlYUmphQ0IwYUdVZ1oybDJaVzRnWm1sc2RHVnlMbHh1SUNvZ1FIQmhjbUZ0SUh0bWRXNWpkR2x2Ym4wZ1cyWnBiSFJsY2wwZ0xTQm1kVzVqZEdsdmJpaGtZa2xrTENCc1lYbGxja2xrTENCMmFXVjNjRzl5ZEVsa0tUb2dSbWxzZEdWeUlHWjFibU4wYVc5dUlIUnZJR1JsWm1sdVpTQmhJSE4xWW5ObGRDQnZaaUJ3Y21sdGFYUnBkbVZ6SUhSdklHbHVZMngxWkdVdUlFSjVJR1JsWm1GMWJIUXNJR0ZzYkNCblpXOXRaWFJ5ZVNCcGN5QnBibU5zZFdSbFpDNWNiaUFxSUVCd1lYSmhiU0I3Wm5WdVkzUnBiMjU5SUdOaGJHeGlZV05yWEc0Z0tpQkFjSEpwZG1GMFpWeHVJQ292WEc1V1pYSjBaWGhDZFdabVpYSlNaV0ZrWlhJdWNISnZkRzkwZVhCbExtVnVkVzFIWlc5dGN5QTlJR1oxYm1OMGFXOXVLR1pwYkhSbGNpd2dZMkZzYkdKaFkyc3BYRzU3WEc0Z0lDQWdhV1lnS0hSb2FYTXVkWE5sU1c1emRHRnVZMmx1WnlrZ2UxeHVYRzRnSUNBZ0lDQWdJQzh2VjJobGJpQnBibk4wWVc1amFXNW5JR2x6SUhWelpXUXNJR1ZoWTJnZ1oyVnZiV1YwY25rZ2NISnBiV2wwYVhabElHbHpJR1Z1WTI5a1pXUWdhVzUwYnlCaElITnBibWRzWlNCMlpYSjBaWGhjYmlBZ0lDQWdJQ0FnTHk5aGJtUWdkR2hsY21VZ2FYTWdibThnYVc1a1pYZ2dZblZtWm1WeUxseHVYRzRnSUNBZ0lDQWdJSFpoY2lCcElEMGdNRHRjYmlBZ0lDQWdJQ0FnZDJocGJHVWdLR2tnUENCMGFHbHpMblpqYjNWdWRDa2dlMXh1SUNBZ0lDQWdJQ0FnSUNBZ2RtRnlJR1pzWVdjZ1BTQjBhR2x6TG1kbGRGWmxjblJsZUVac1lXZHpRWFFvYVNrN1hHNWNiaUFnSUNBZ0lDQWdJQ0FnSUM4dmRtRnlJSFpsY25SbGVFbGtJQ0FnSUQwZ0tHWnNZV2NnUGo0Z0lEQXBJQ1lnTUhobVpqc2dJQ0FnSUNBZ0lDOHZJQ0E0SUdKcGRGeHVJQ0FnSUNBZ0lDQWdJQ0FnZG1GeUlHZGxiMjFVZVhCbElDQWdJRDBnS0dac1lXY2dQajRnSURncElDWWdNSGhtWmpzZ0lDQWdJQ0FnSUM4dklDQTRJR0pwZEZ4dUlDQWdJQ0FnSUNBZ0lDQWdMeTkyWVhJZ2JHbHVaVkJoZEhSbGNtNGdQU0FvWm14aFp5QStQaUF4TmlrZ0ppQXdlR1ptT3lBZ0lDQWdJQ0FnTHk4Z0lEZ2dZbWwwWEc0Z0lDQWdJQ0FnSUNBZ0lDQjJZWElnYkdGNVpYSkpaQ0FnSUNBZ1BTQjBhR2x6TG1kbGRFeGhlV1Z5U1c1a1pYaEJkQ2hwS1RzZ0lDQWdMeThnTVRZZ1ltbDBYRzRnSUNBZ0lDQWdJQ0FnSUNCMllYSWdkbkJKWkNBZ0lDQWdJQ0FnUFNCMGFHbHpMbWRsZEZacFpYZHdiM0owU1c1a1pYaEJkQ2hwS1RzZ0x5OGdNVFlnWW1sMFhHNGdJQ0FnSUNBZ0lDQWdJQ0IyWVhJZ1pHSkpaQ0FnSUNBZ0lDQWdQU0IwYUdsekxtZGxkRVJpU1dSQmRDaHBLVHRjYmx4dUlDQWdJQ0FnSUNBZ0lDQWdMeThnUjJWMElIUm9aU0JpYjNWdVpITWdiMllnYjI1c2VTQjBhR1VnZG1semFXSnNaU0JzWVhsbGNuTXVJRWxuYm05eVpTQnNZWGxsY2lBd0xDQjNhR2xqYUNCcGN5QmhiSGRoZVhNZ2RHaGxJSEJoWjJVdVhHNGdJQ0FnSUNBZ0lDQWdJQ0F2THlCSlppQnNZWGxsY2tsa0lIWnBjMmxpYVd4cGRIa2dhWE1nYm05MElITmxkQ3dnWTI5dWMybGtaWElnZEdobElHeGhlV1Z5SUhacGMybGliR1V1WEc0Z0lDQWdJQ0FnSUNBZ0lDQjJZWElnZG1semFXSnNaU0E5SUNGbWFXeDBaWElnZkh3Z1ptbHNkR1Z5S0dSaVNXUXNJR3hoZVdWeVNXUXNJSFp3U1dRcE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnYVdZZ0tIWnBjMmxpYkdVcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQjBhR2x6TG1SbFkyOWtaVUo1Vkhsd1pTaG5aVzl0Vkhsd1pTd2dhU3dnYkdGNVpYSkpaQ3dnZG5CSlpDd2dZMkZzYkdKaFkyc3BPMXh1SUNBZ0lDQWdJQ0FnSUNBZ2ZWeHVYRzRnSUNBZ0lDQWdJQ0FnSUNBdkwwbHVJSFJvWlNCallYTmxJRzltSUdsdWMzUmhibU5wYm1jc0lIUm9aWEpsSUdseklHNXZJSFpsY25SbGVDQmtkWEJzYVdOaGRHbHZiaUJoYm1RZ2JtOGdhVzVrWlhnZ1luVm1abVZ5TENCM1pTQnFkWE4wWEc0Z0lDQWdJQ0FnSUNBZ0lDQXZMMjF2ZG1VZ2RHOGdkR2hsSUc1bGVIUWdkbVZ5ZEdWNFhHNGdJQ0FnSUNBZ0lDQWdJQ0JwSUNzOUlERTdYRzRnSUNBZ0lDQWdJSDFjYmlBZ0lDQjlJR1ZzYzJVZ2UxeHVYRzRnSUNBZ0lDQWdJSFpoY2lCcElEMGdNRHRjYmlBZ0lDQWdJQ0FnZDJocGJHVWdLR2tnUENCMGFHbHpMbWxpTG14bGJtZDBhQ2tnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdkbUZ5SUhacElEMGdkR2hwY3k1cFlsdHBYVHRjYmlBZ0lDQWdJQ0FnSUNBZ0lIWmhjaUJtYkdGbklEMGdkR2hwY3k1blpYUldaWEowWlhoR2JHRm5jMEYwS0hacEtUdGNibHh1SUNBZ0lDQWdJQ0FnSUNBZ0x5OTJZWElnZG1WeWRHVjRTV1FnSUNBZ1BTQW9abXhoWnlBK1BpQWdNQ2tnSmlBd2VHWm1PeUFnSUNBZ0lDQWdMeThnSURnZ1ltbDBYRzRnSUNBZ0lDQWdJQ0FnSUNCMllYSWdaMlZ2YlZSNWNHVWdJQ0FnUFNBb1pteGhaeUErUGlBZ09Da2dKaUF3ZUdabU95QWdJQ0FnSUNBZ0x5OGdJRGdnWW1sMFhHNGdJQ0FnSUNBZ0lDQWdJQ0F2TDNaaGNpQnNhVzVsVUdGMGRHVnliaUE5SUNobWJHRm5JRDQrSURFMktTQW1JREI0Wm1ZN0lDQWdJQ0FnSUNBdkx5QWdPQ0JpYVhSY2JpQWdJQ0FnSUNBZ0lDQWdJSFpoY2lCc1lYbGxja2xrSUNBZ0lDQTlJSFJvYVhNdVoyVjBUR0Y1WlhKSmJtUmxlRUYwS0hacEtUc2dJQ0FnTHk4Z01UWWdZbWwwWEc0Z0lDQWdJQ0FnSUNBZ0lDQjJZWElnZG5CSlpDQWdJQ0FnSUNBZ1BTQjBhR2x6TG1kbGRGWnBaWGR3YjNKMFNXNWtaWGhCZENoMmFTazdJQzh2SURFMklHSnBkRnh1SUNBZ0lDQWdJQ0FnSUNBZ2RtRnlJR1JpU1dRZ0lDQWdJQ0FnSUQwZ2RHaHBjeTVuWlhSRVlrbGtRWFFvZG1rcE8xeHVYRzRnSUNBZ0lDQWdJQ0FnSUNBdkx5QkhaWFFnZEdobElHSnZkVzVrY3lCdlppQnZibXg1SUhSb1pTQjJhWE5wWW14bElHeGhlV1Z5Y3k0Z1NXZHViM0psSUd4aGVXVnlJREFzSUhkb2FXTm9JR2x6SUdGc2QyRjVjeUIwYUdVZ2NHRm5aUzVjYmlBZ0lDQWdJQ0FnSUNBZ0lDOHZJRWxtSUd4aGVXVnlTV1FnZG1semFXSnBiR2wwZVNCcGN5QnViM1FnYzJWMExDQmpiMjV6YVdSbGNpQjBhR1VnYkdGNVpYSWdkbWx6YVdKc1pTNWNiaUFnSUNBZ0lDQWdJQ0FnSUhaaGNpQjJhWE5wWW14bElEMGdJV1pwYkhSbGNpQjhmQ0JtYVd4MFpYSW9aR0pKWkN3Z2JHRjVaWEpKWkN3Z2RuQkpaQ2s3WEc1Y2JpQWdJQ0FnSUNBZ0lDQWdJR2xtSUNoblpXOXRWSGx3WlNBOVBUMGdWa0pDWDBkVVgxUlNTVUZPUjB4RlgwbE9SRVZZUlVRcElIdGNibHh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQzh2VkhKcFlXNW5iR1Z6SUdGeVpTQmxibU52WkdWa0lHbHVJSFJvY21WbElIWmxjblJwWTJWeklDaHNhV3RsSUdFZ2MybHRjR3hsSUcxbGMyZ3BJR2x1YzNSbFlXUWdiMllnTkNCc2FXdGxJR1YyWlhKNWRHaHBibWNnWld4elpWeHVYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdhV1lnS0hacGMybGliR1VwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1a1pXTnZaR1ZVY21saGJtZHNaVWx1WkdWNFpXUW9kR2hwY3k1cFlsdHBYU3dnZEdocGN5NXBZbHRwS3pGZExDQjBhR2x6TG1saVcya3JNbDBzSUd4aGVXVnlTV1FzSUhad1NXUXNJR05oYkd4aVlXTnJLVHRjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0I5WEc1Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBdkwwRmtkbUZ1WTJVZ2RHOGdkR2hsSUc1bGVIUWdjSEpwYldsMGFYWmxYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdhU0FyUFNBek8xeHVYRzRnSUNBZ0lDQWdJQ0FnSUNCOUlHVnNjMlVnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUdsbUlDaDJhWE5wWW14bEtTQjdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUhSb2FYTXVaR1ZqYjJSbFFubFVlWEJsS0dkbGIyMVVlWEJsTENCMmFTd2diR0Y1WlhKSlpDd2dkbkJKWkN3Z1kyRnNiR0poWTJzcE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQXZMMU5yYVhBZ1pIVndiR2xqWVhSbElIWmxjblJwWTJWeklDaDNhR1Z1SUc1dmRDQjFjMmx1WnlCcGJuTjBZVzVqYVc1bklHRnVaQ0IwYUdVZ1oyVnZiV1YwY25rZ2FYTWdibTkwSUdFZ2MybHRjR3hsSUhCdmJIbDBjbWxoYm1kc1pTeGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQXZMMlZoWTJnZ2RtVnlkR1Y0SUdseklHeHBjM1JsWkNCbWIzVnlJSFJwYldWeklIZHBkR2dnWVNCa2FXWm1aWEpsYm5RZ2RtVnlkR1Y0U1dRZ1pteGhaMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJR2tnS3owZ05qdGNiaUFnSUNBZ0lDQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ0lDQjlYRzRnSUNBZ2ZWeHVYRzU5TzF4dUlsMHNJbTVoYldWeklqcGJJbFJCVlNJc0lrMWhkR2dpTENKUVNTSXNJbFpDUWw5SFZGOVVVa2xCVGtkTVJWOUpUa1JGV0VWRUlpd2lWa0pDWDBkVVgweEpUa1ZmVTBWSFRVVk9WQ0lzSWxaQ1FsOUhWRjlCVWtOZlEwbFNRMVZNUVZJaUxDSldRa0pmUjFSZlFWSkRYMFZNVEVsUVZFbERRVXdpTENKV1FrSmZSMVJmVkVWWVgxRlZRVVFpTENKV1FrSmZSMVJmVDA1RlgxUlNTVUZPUjB4Rklpd2lWa0pDWDBkVVgweEpUa1ZmVTBWSFRVVk9WRjlEUVZCUVJVUWlMQ0pXUWtKZlIxUmZURWxPUlY5VFJVZE5SVTVVWDBOQlVGQkZSRjlUVkVGU1ZDSXNJbFpDUWw5SFZGOU1TVTVGWDFORlIwMUZUbFJmUTBGUVVFVkVYMFZPUkNJc0lsWkNRbDlIVkY5TVNVNUZYMU5GUjAxRlRsUmZUVWxVUlZJaUxDSldRa0pmUTA5TVQxSmZUMFpHVTBWVUlpd2lWa0pDWDBSQ1NVUmZUMFpHVTBWVUlpd2lWa0pDWDBaTVFVZFRYMDlHUmxORlZDSXNJbFpDUWw5TVFWbEZVbDlXVUY5UFJrWlRSVlFpTENKV1pYSjBaWGhDZFdabVpYSlNaV0ZrWlhJaUxDSm5aVzl0WlhSeWVTSXNJbDluWlc5dFpYUnllU1IwU1dSRGIyeHZjaUlzSW5aaUlpd2lZblZtWm1WeUlpd2ljM1J5YVdSbElpd2lkbUp6ZEhKcFpHVWlMQ0oyWW1ZaUxDSkdiRzloZERNeVFYSnlZWGtpTENKMllta2lMQ0pKYm5Rek1rRnljbUY1SWl3aWRtSnpJaXdpVldsdWRERTJRWEp5WVhraUxDSnBZaUlzSW5aamIzVnVkQ0lzSW14bGJtZDBhQ0lzSW5WelpVbHVjM1JoYm1OcGJtY2lMQ0p1ZFcxSmJuTjBZVzVqWlhNaUxDSjFjMlZEYjIxd1lXTjBRblZtWm1WeWN5SXNJblZ1Y0dGamExaG1iM0p0SWl3aWRHVjRSR0YwWVNJc0luUkpaRU52Ykc5eUlpd2lhVzFoWjJVaUxDSmtZWFJoSWl3aVZXbHVkRE15UVhKeVlYa2lMQ0pwYzBsdWRHVnliR1ZoZG1Wa1ZtSWlMQ0poZEhSeUlpd2lZWFIwY21saWRYUmxjeUlzSW1GMFRHRjVaWEpXY0NJc0lteGhlV1Z5Vm5BMFlpSXNJbUYwUm14aFozTWlMQ0ptYkdGbmN6UmlJaXdpWVhSSlpFTnZiRzl5Y3lJc0luVjJTV1JEYjJ4dmNpSXNJbUYwUTI5c2IzSnpJaXdpWTI5c2IzSTBZaUlzSW1GMFNXUnpJaXdpWkdKSlpEUmlJaXdpY0hKdmRHOTBlWEJsSWl3aVoyVjBSR0pKWkVGMElpd2lkbWx1WkdWNElpd2laMlYwUTI5c2IzSkJkQ0lzSW1kbGRGWmxjblJsZUVac1lXZHpRWFFpTENKblpYUk1ZWGxsY2tsdVpHVjRRWFFpTENKblpYUldhV1YzY0c5eWRFbHVaR1Y0UVhRaUxDSmtaV052WkdWTWFXNWxRWFFpTENKc1lYbGxjaUlzSW5ad1NXUWlMQ0pqWVd4c1ltRmpheUlzSW05dVRHbHVaVk5sWjIxbGJuUWlMQ0oyWlhKMFpYaFBabVp6WlhRaUxDSjRNQ0lzSW5naUxDSjZJaXdpZVRBaUxDSjVJaXdpZHlJc0ltRnVaMnhsSWl3aVpHbHpkRUZzYjI1bklpd2liV0Y0SWl3aWJHbHVaVmRwWkhSb0lpd2lZbUZ6WlU5bVpuTmxkQ0lzSW5neElpd2lZMjl6SWl3aWVURWlMQ0p6YVc0aUxDSmtaV052WkdWRGFYSmpkV3hoY2tGeVkwRjBJaXdpYjI1RGFYSmpkV3hoY2tGeVl5SXNJbU40SWl3aVkza2lMQ0p6ZEdGeWRDSXNJbVZ1WkNJc0luSmhaR2wxY3lJc0ltUmxZMjlrWlVWc2JHbHdkR2xqWVd4QmNtTkJkQ0lzSW05dVJXeHNhWEIwYVdOaGJFRnlZeUlzSW0xaGFtOXlJaXdpYldsdWIzSWlMQ0owYVd4MElpd2laR1ZqYjJSbFZHVjRVWFZoWkVGMElpd2liMjVVWlhoUmRXRmtJaXdpWTJWdWRHVnlXQ0lzSW1ObGJuUmxjbGtpTENKeWIzUmhkR2x2YmlJc0luZHBaSFJvSWl3aWFHVnBaMmgwSWl3aVpHVmpiMlJsVDI1bFZISnBZVzVuYkdWQmRDSXNJbTl1VDI1bFZISnBZVzVuYkdVaUxDSjRNaUlzSW5reUlpd2llRE1pTENKNU15SXNJbVJsWTI5a1pWUnlhV0Z1WjJ4bFNXNWtaWGhsWkNJc0luWnBNQ0lzSW5acE1TSXNJblpwTWlJc0ltUmxZMjlrWlVKNVZIbHdaU0lzSW1kbGIyMVVlWEJsSWl3aVpXNTFiVWRsYjIxelJtOXlUMkpxWldOMElpd2laR0pKWkNJc0lta2lMQ0ptYkdGbklpd2liR0Y1WlhKSlpDSXNJblpwYzJsaWJHVWlMQ0oyYVNJc0ltVnVkVzFIWlc5dGMwWnZjbFpwYzJsaWJHVk1ZWGxsY2lJc0lteGhlV1Z5U1dSelZtbHphV0pzWlNJc0ltWnBiSFJsY2lJc0luWnBaWGR3YjNKMFNXUWlMQ0pwYm1SbGVFOW1JaXdpWlc1MWJVZGxiMjF6SWwwc0luTnZkWEpqWlZKdmIzUWlPaUlpZlE9PVxcXFxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrLWludGVybmFsOi8vLy4vc3JjL3dncy9zY2VuZS9WZXJ0ZXhCdWZmZXJSZWFkZXIuanNcXFxcblxcXCIpO1xcblxcbi8qKiovIH0pXFxuXFxuLyoqKioqKi8gXFx0fSk7XFxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cXG4vKioqKioqLyBcXHQvLyBUaGUgbW9kdWxlIGNhY2hlXFxuLyoqKioqKi8gXFx0dmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xcbi8qKioqKiovIFxcdFxcbi8qKioqKiovIFxcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXFxuLyoqKioqKi8gXFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xcbi8qKioqKiovIFxcdFxcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxcbi8qKioqKiovIFxcdFxcdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xcbi8qKioqKiovIFxcdFxcdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xcbi8qKioqKiovIFxcdFxcdFxcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcXG4vKioqKioqLyBcXHRcXHR9XFxuLyoqKioqKi8gXFx0XFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcXG4vKioqKioqLyBcXHRcXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcXG4vKioqKioqLyBcXHRcXHRcXHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXFxuLyoqKioqKi8gXFx0XFx0XFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcXG4vKioqKioqLyBcXHRcXHRcXHRleHBvcnRzOiB7fVxcbi8qKioqKiovIFxcdFxcdH07XFxuLyoqKioqKi8gXFx0XFxuLyoqKioqKi8gXFx0XFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXFxuLyoqKioqKi8gXFx0XFx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XFxuLyoqKioqKi8gXFx0XFxuLyoqKioqKi8gXFx0XFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcXG4vKioqKioqLyBcXHRcXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XFxuLyoqKioqKi8gXFx0fVxcbi8qKioqKiovIFxcdFxcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXFxuLyoqKioqKi8gXFx0Lyogd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzICovXFxuLyoqKioqKi8gXFx0KCgpID0+IHtcXG4vKioqKioqLyBcXHRcXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXFxuLyoqKioqKi8gXFx0XFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcXG4vKioqKioqLyBcXHRcXHRcXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XFxuLyoqKioqKi8gXFx0XFx0XFx0XFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XFxuLyoqKioqKi8gXFx0XFx0XFx0XFx0XFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcXG4vKioqKioqLyBcXHRcXHRcXHRcXHR9XFxuLyoqKioqKi8gXFx0XFx0XFx0fVxcbi8qKioqKiovIFxcdFxcdH07XFxuLyoqKioqKi8gXFx0fSkoKTtcXG4vKioqKioqLyBcXHRcXG4vKioqKioqLyBcXHQvKiB3ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kICovXFxuLyoqKioqKi8gXFx0KCgpID0+IHtcXG4vKioqKioqLyBcXHRcXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpXFxuLyoqKioqKi8gXFx0fSkoKTtcXG4vKioqKioqLyBcXHRcXG4vKioqKioqLyBcXHQvKiB3ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0ICovXFxuLyoqKioqKi8gXFx0KCgpID0+IHtcXG4vKioqKioqLyBcXHRcXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXFxuLyoqKioqKi8gXFx0XFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcXG4vKioqKioqLyBcXHRcXHRcXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcXG4vKioqKioqLyBcXHRcXHRcXHRcXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcXG4vKioqKioqLyBcXHRcXHRcXHR9XFxuLyoqKioqKi8gXFx0XFx0XFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcXG4vKioqKioqLyBcXHRcXHR9O1xcbi8qKioqKiovIFxcdH0pKCk7XFxuLyoqKioqKi8gXFx0XFxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cXG4vKioqKioqLyBcXHRcXG4vKioqKioqLyBcXHQvLyBzdGFydHVwXFxuLyoqKioqKi8gXFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXFxuLyoqKioqKi8gXFx0Ly8gVGhpcyBlbnRyeSBtb2R1bGUgY2FuJ3QgYmUgaW5saW5lZCBiZWNhdXNlIHRoZSBldmFsLXNvdXJjZS1tYXAgZGV2dG9vbCBpcyB1c2VkLlxcbi8qKioqKiovIFxcdHZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcXFwiLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1swXS51c2VbMF0hLi9leHRlbnNpb25zL0VkaXQyRC9TZWdtZW50VHJlZVdvcmtlci5qc1xcXCIpO1xcbi8qKioqKiovIFxcdFxcbi8qKioqKiovIH0pKClcXG47XCIsIFwiV29ya2VyXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/worker-loader/dist/cjs.js?inline=no-fallback!./extensions/Edit2D/SegmentTreeWorker.js\n");

/***/ }),

/***/ "./node_modules/worker-loader/dist/runtime/inline.js":
/*!***********************************************************!*\
  !*** ./node_modules/worker-loader/dist/runtime/inline.js ***!
  \***********************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* eslint-env browser */\n\n/* eslint-disable no-undef, no-use-before-define, new-cap */\nmodule.exports = function (content, workerConstructor, workerOptions, url) {\n  var globalScope = self || window;\n\n  try {\n    try {\n      var blob;\n\n      try {\n        // New API\n        blob = new globalScope.Blob([content]);\n      } catch (e) {\n        // BlobBuilder = Deprecated, but widely implemented\n        var BlobBuilder = globalScope.BlobBuilder || globalScope.WebKitBlobBuilder || globalScope.MozBlobBuilder || globalScope.MSBlobBuilder;\n        blob = new BlobBuilder();\n        blob.append(content);\n        blob = blob.getBlob();\n      }\n\n      var URL = globalScope.URL || globalScope.webkitURL;\n      var objectURL = URL.createObjectURL(blob);\n      var worker = new globalScope[workerConstructor](objectURL, workerOptions);\n      URL.revokeObjectURL(objectURL);\n      return worker;\n    } catch (e) {\n      return new globalScope[workerConstructor](\"data:application/javascript,\".concat(encodeURIComponent(content)), workerOptions);\n    }\n  } catch (e) {\n    if (!url) {\n      throw Error(\"Inline worker is not supported\");\n    }\n\n    return new globalScope[workerConstructor](url, workerOptions);\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd29ya2VyLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5saW5lLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvd29ya2VyLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5saW5lLmpzP2VjZDYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiwgbm8tdXNlLWJlZm9yZS1kZWZpbmUsIG5ldy1jYXAgKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNvbnRlbnQsIHdvcmtlckNvbnN0cnVjdG9yLCB3b3JrZXJPcHRpb25zLCB1cmwpIHtcbiAgdmFyIGdsb2JhbFNjb3BlID0gc2VsZiB8fCB3aW5kb3c7XG5cbiAgdHJ5IHtcbiAgICB0cnkge1xuICAgICAgdmFyIGJsb2I7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIE5ldyBBUElcbiAgICAgICAgYmxvYiA9IG5ldyBnbG9iYWxTY29wZS5CbG9iKFtjb250ZW50XSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIEJsb2JCdWlsZGVyID0gRGVwcmVjYXRlZCwgYnV0IHdpZGVseSBpbXBsZW1lbnRlZFxuICAgICAgICB2YXIgQmxvYkJ1aWxkZXIgPSBnbG9iYWxTY29wZS5CbG9iQnVpbGRlciB8fCBnbG9iYWxTY29wZS5XZWJLaXRCbG9iQnVpbGRlciB8fCBnbG9iYWxTY29wZS5Nb3pCbG9iQnVpbGRlciB8fCBnbG9iYWxTY29wZS5NU0Jsb2JCdWlsZGVyO1xuICAgICAgICBibG9iID0gbmV3IEJsb2JCdWlsZGVyKCk7XG4gICAgICAgIGJsb2IuYXBwZW5kKGNvbnRlbnQpO1xuICAgICAgICBibG9iID0gYmxvYi5nZXRCbG9iKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBVUkwgPSBnbG9iYWxTY29wZS5VUkwgfHwgZ2xvYmFsU2NvcGUud2Via2l0VVJMO1xuICAgICAgdmFyIG9iamVjdFVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICB2YXIgd29ya2VyID0gbmV3IGdsb2JhbFNjb3BlW3dvcmtlckNvbnN0cnVjdG9yXShvYmplY3RVUkwsIHdvcmtlck9wdGlvbnMpO1xuICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChvYmplY3RVUkwpO1xuICAgICAgcmV0dXJuIHdvcmtlcjtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gbmV3IGdsb2JhbFNjb3BlW3dvcmtlckNvbnN0cnVjdG9yXShcImRhdGE6YXBwbGljYXRpb24vamF2YXNjcmlwdCxcIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGNvbnRlbnQpKSwgd29ya2VyT3B0aW9ucyk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKCF1cmwpIHtcbiAgICAgIHRocm93IEVycm9yKFwiSW5saW5lIHdvcmtlciBpcyBub3Qgc3VwcG9ydGVkXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgZ2xvYmFsU2NvcGVbd29ya2VyQ29uc3RydWN0b3JdKHVybCwgd29ya2VyT3B0aW9ucyk7XG4gIH1cbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/worker-loader/dist/runtime/inline.js\n");

/***/ }),

/***/ "./res/locales/cs/nobundle-edit2d.loc.json":
/*!*************************************************!*\
  !*** ./res/locales/cs/nobundle-edit2d.loc.json ***!
  \*************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"@@locale":"cs","@@context":"Rozšíření Edit2D","Apply as Cutout":"Použít jako výřez","Remove Shapes":"Odebrat tvary","Unify Shapes":"Sjednotit tvary","Remove Vertex":"Odebrat vrchol","Insert Vertex":"Vložit vrchol","Change to Line Segment":"Změnit na úsečkový segment","Change to Arc Segment":"Změnit na obloukový segment","Change to Ellipse Segment":"Změnit na segment elipsy","Remove Shape":"Odebrat tvar","Remove Shape Part":"Odebrat součást tvaru","Remove Hole":"Odebrat díru","Remove Loop":"Odebrat smyčku","Invalid shape":"Chyba: Neplatný tvar"}');

/***/ }),

/***/ "./res/locales/da/nobundle-edit2d.loc.json":
/*!*************************************************!*\
  !*** ./res/locales/da/nobundle-edit2d.loc.json ***!
  \*************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"@@locale":"da","@@context":"Edit2D-udvidelse","Apply as Cutout":"Anvend som udskæring","Remove Shapes":"Fjern former","Unify Shapes":"Ensret former","Remove Vertex":"Fjern toppunkt","Insert Vertex":"Indsæt toppunkt","Change to Line Segment":"Skift til linjesegment","Change to Arc Segment":"Skift til buesegment","Change to Ellipse Segment":"Skift til ellipsesegment","Remove Shape":"Fjern form","Remove Shape Part":"Fjern formdel","Remove Hole":"Fjern hul","Remove Loop":"Fjern loop","Invalid shape":"Fejl: Ugyldig form"}');

/***/ }),

/***/ "./res/locales/de/nobundle-edit2d.loc.json":
/*!*************************************************!*\
  !*** ./res/locales/de/nobundle-edit2d.loc.json ***!
  \*************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"@@locale":"de","@@context":"2D-Erweiterung bearbeiten","Apply as Cutout":"Als Aussparung anwenden","Remove Shapes":"Konturen entfernen","Unify Shapes":"Konturen vereinigen","Remove Vertex":"Scheitelpunkt entfernen","Insert Vertex":"Scheitelpunkt einfügen","Change to Line Segment":"In Liniensegment ändern","Change to Arc Segment":"In Bogensegment ändern","Change to Ellipse Segment":"In Ellipsensegment ändern","Remove Shape":"Kontur entfernen","Remove Shape Part":"Formteil entfernen","Remove Hole":"Aussparung entfernen","Remove Loop":"Schleife entfernen","Invalid shape":"Fehler: Ungültige Form"}');

/***/ }),

/***/ "./res/locales/en-GB/nobundle-edit2d.loc.json":
/*!****************************************************!*\
  !*** ./res/locales/en-GB/nobundle-edit2d.loc.json ***!
  \****************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"@@locale":"en","@@context":"Edit2D Extension","Apply as Cutout":"Apply as Cutout","Remove Shapes":"Remove Shapes","Unify Shapes":"Unify Shapes","Remove Vertex":"Remove Vertex","Insert Vertex":"Insert Vertex","Change to Line Segment":"Change to Line Segment","Change to Arc Segment":"Change to Arc Segment","Change to Ellipse Segment":"Change to Ellipse Segment","Remove Shape":"Remove Shape","Remove Shape Part":"Remove Shape Part","Remove Hole":"Remove Hole","Remove Loop":"Remove Loop","Invalid shape":"Error: Invalid shape"}');

/***/ }),

/***/ "./res/locales/en/nobundle-edit2d.loc.json":
/*!*************************************************!*\
  !*** ./res/locales/en/nobundle-edit2d.loc.json ***!
  \*************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"@@locale":"en","@@context":"Edit2D Extension","Apply as Cutout":"Apply as Cutout","Remove Shapes":"Remove Shapes","Unify Shapes":"Unify Shapes","Remove Vertex":"Remove Vertex","Insert Vertex":"Insert Vertex","Change to Line Segment":"Change to Line Segment","Change to Arc Segment":"Change to Arc Segment","Change to Ellipse Segment":"Change to Ellipse Segment","Remove Shape":"Remove Shape","Remove Shape Part":"Remove Shape Part","Remove Hole":"Remove Hole","Remove Loop":"Remove Loop","Invalid shape":"Error: Invalid shape"}');

/***/ }),

/***/ "./res/locales/es/nobundle-edit2d.loc.json":
/*!*************************************************!*\
  !*** ./res/locales/es/nobundle-edit2d.loc.json ***!
  \*************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"@@locale":"es","@@context":"Edit2D Extension","Apply as Cutout":"Aplicar como corte","Remove Shapes":"Eliminar formas","Unify Shapes":"Unificar formas","Remove Vertex":"Eliminar vértice","Insert Vertex":"Insertar vértice","Change to Line Segment":"Cambiar a segmento de línea","Change to Arc Segment":"Cambiar a segmento de arco","Change to Ellipse Segment":"Cambiar a segmento de elipse","Remove Shape":"Eliminar forma","Remove Shape Part":"Eliminar parte de forma","Remove Hole":"Eliminar agujero","Remove Loop":"Eliminar bucle","Invalid shape":"Error: forma no válida"}');

/***/ }),

/***/ "./res/locales/fr-CA/nobundle-edit2d.loc.json":
/*!****************************************************!*\
  !*** ./res/locales/fr-CA/nobundle-edit2d.loc.json ***!
  \****************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"@@locale":"fr-CA","@@context":"Extension Edit2D","Apply as Cutout":"Appliquer en tant que découpe","Remove Shapes":"Supprimer les formes","Unify Shapes":"Unifier les formes","Remove Vertex":"Supprimer le sommet","Insert Vertex":"Insérer un sommet","Change to Line Segment":"Modifier en segment de ligne","Change to Arc Segment":"Modifier en segment d\'arc","Change to Ellipse Segment":"Modifier en segment d\'ellipse","Remove Shape":"Supprimer la forme","Remove Shape Part":"Supprimer la partie de la forme","Remove Hole":"Supprimer le trou","Remove Loop":"Supprimer la boucle","Invalid shape":"Erreur : forme incorrecte"}');

/***/ }),

/***/ "./res/locales/fr/nobundle-edit2d.loc.json":
/*!*************************************************!*\
  !*** ./res/locales/fr/nobundle-edit2d.loc.json ***!
  \*************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"@@locale":"fr_fr","@@context":"Modifier l\'extension 2D","Apply as Cutout":"Appliquer comme découpe","Remove Shapes":"Supprimer les formes","Unify Shapes":"Unifier les formes","Remove Vertex":"Supprimer le sommet","Insert Vertex":"Insérer un sommet","Change to Line Segment":"Changer en segment de ligne","Change to Arc Segment":"Changer en segment d\'arc","Change to Ellipse Segment":"Changer en segment d\'ellipse","Remove Shape":"Supprimer la forme","Remove Shape Part":"Supprimer la pièce de forme","Remove Hole":"Supprimer le perçage","Remove Loop":"Supprimer la boucle","Invalid shape":"Erreur: forme incorrecte"}');

/***/ }),

/***/ "./res/locales/it/nobundle-edit2d.loc.json":
/*!*************************************************!*\
  !*** ./res/locales/it/nobundle-edit2d.loc.json ***!
  \*************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"@@locale":"it","@@context":"Modifica estensione 2D","Apply as Cutout":"Applica come ritaglio","Remove Shapes":"Rimuovi forme","Unify Shapes":"Unifica forme","Remove Vertex":"Rimuovi vertice","Insert Vertex":"Inserisci vertice","Change to Line Segment":"Cambia in segmento di linea","Change to Arc Segment":"Cambia in segmento di arco","Change to Ellipse Segment":"Cambia in segmento di ellisse","Remove Shape":"Rimuovi forma","Remove Shape Part":"Rimuovi parte forma","Remove Hole":"Rimuovi foro","Remove Loop":"Rimuovi linea chiusa","Invalid shape":"Errore: forma non valida"}');

/***/ }),

/***/ "./res/locales/ja/nobundle-edit2d.loc.json":
/*!*************************************************!*\
  !*** ./res/locales/ja/nobundle-edit2d.loc.json ***!
  \*************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"@@locale":"ja","@@context":"2D Extension を編集","Apply as Cutout":"カットアウトとして適用","Remove Shapes":"シェイプを除去","Unify Shapes":"シェイプを統一","Remove Vertex":"頂点を除去","Insert Vertex":"頂点を挿入","Change to Line Segment":"線分セグメントに変更","Change to Arc Segment":"円弧セグメントに変更","Change to Ellipse Segment":"楕円セグメントに変更","Remove Shape":"シェイプを除去","Remove Shape Part":"シェイプ パーツを除去","Remove Hole":"穴を除去","Remove Loop":"ループを除去","Invalid shape":"エラー: 無効なシェイプ"}');

/***/ }),

/***/ "./res/locales/ko/nobundle-edit2d.loc.json":
/*!*************************************************!*\
  !*** ./res/locales/ko/nobundle-edit2d.loc.json ***!
  \*************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"@@locale":"ko","@@context":"Edit2D 확장","Apply as Cutout":"절단부로 적용","Remove Shapes":"모양 제거","Unify Shapes":"쉐이프 통합","Remove Vertex":"정점 제거","Insert Vertex":"정점 삽입","Change to Line Segment":"선 세그먼트로 변경","Change to Arc Segment":"호 세그먼트로 변경","Change to Ellipse Segment":"타원 세그먼트로 변경","Remove Shape":"모양 제거","Remove Shape Part":"쉐이프 부품 제거","Remove Hole":"구멍 제거","Remove Loop":"루프 제거","Invalid shape":"오류: 잘못된 쉐이프"}');

/***/ }),

/***/ "./res/locales/nl/nobundle-edit2d.loc.json":
/*!*************************************************!*\
  !*** ./res/locales/nl/nobundle-edit2d.loc.json ***!
  \*************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"@@locale":"nl","@@context":"Edit2D-uitbreiding","Apply as Cutout":"Toepassen als uitsnijding","Remove Shapes":"Vormen verwijderen","Unify Shapes":"Vormen uniform maken","Remove Vertex":"Vertex verwijderen","Insert Vertex":"Vertex invoegen","Change to Line Segment":"Wijzigen in lijnsegment","Change to Arc Segment":"Wijzigen in boogsegment","Change to Ellipse Segment":"Wijzigen in ellipssegment","Remove Shape":"Vorm verwijderen","Remove Shape Part":"Vormgedeelte verwijderen","Remove Hole":"Gat verwijderen","Remove Loop":"Lus verwijderen","Invalid shape":"Fout: Ongeldige vorm"}');

/***/ }),

/***/ "./res/locales/pl/nobundle-edit2d.loc.json":
/*!*************************************************!*\
  !*** ./res/locales/pl/nobundle-edit2d.loc.json ***!
  \*************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"@@locale":"pl","@@context":"Rozszerzenie Edit2D","Apply as Cutout":"Zastosuj jako wycięcie","Remove Shapes":"Usuń kształty","Unify Shapes":"Ujednolić kształty","Remove Vertex":"Usuń wierzchołek","Insert Vertex":"Wstaw wierzchołek","Change to Line Segment":"Zmień na segment linii","Change to Arc Segment":"Zmień na segment łuku","Change to Ellipse Segment":"Zmień na segment elipsy","Remove Shape":"Usuń kształt","Remove Shape Part":"Usuń część kształtu","Remove Hole":"Usuń otwór","Remove Loop":"Usuń pętlę","Invalid shape":"Błąd: nieprawidłowy kształt"}');

/***/ }),

/***/ "./res/locales/pt-BR/nobundle-edit2d.loc.json":
/*!****************************************************!*\
  !*** ./res/locales/pt-BR/nobundle-edit2d.loc.json ***!
  \****************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"@@locale":"ptb","@@context":"Extensão Edit2D","Apply as Cutout":"Aplicar como corte","Remove Shapes":"Remover formas","Unify Shapes":"Unificar formas","Remove Vertex":"Remover vértice","Insert Vertex":"Inserir vértice","Change to Line Segment":"Alterar para segmento de linha","Change to Arc Segment":"Alterar para segmento de arco","Change to Ellipse Segment":"Alterar para segmento de elipse","Remove Shape":"Remover forma","Remove Shape Part":"Remover peça de forma","Remove Hole":"Remover furo","Remove Loop":"Remover loop","Invalid shape":"Erro: Forma inválida"}');

/***/ }),

/***/ "./res/locales/ru/nobundle-edit2d.loc.json":
/*!*************************************************!*\
  !*** ./res/locales/ru/nobundle-edit2d.loc.json ***!
  \*************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"@@locale":"ru","@@context":"Расширение Edit2D","Apply as Cutout":"Применить как вырез","Remove Shapes":"Удалить формы","Unify Shapes":"Объединить формы","Remove Vertex":"Удалить вершину","Insert Vertex":"Вставить вершину","Change to Line Segment":"Изменить на сегмент линии","Change to Arc Segment":"Изменить на сегмент дуги","Change to Ellipse Segment":"Изменить на сегмент эллипса","Remove Shape":"Удалить форму","Remove Shape Part":"Удалить деталь формы","Remove Hole":"Удалить отверстие","Remove Loop":"Удалить контур","Invalid shape":"Ошибка: недопустимая форма"}');

/***/ }),

/***/ "./res/locales/sv/nobundle-edit2d.loc.json":
/*!*************************************************!*\
  !*** ./res/locales/sv/nobundle-edit2d.loc.json ***!
  \*************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"@@locale":"sv","@@context":"Edit2D-tillägg","Apply as Cutout":"Använd som utsnitt","Remove Shapes":"Ta bort former","Unify Shapes":"Unifiera former","Remove Vertex":"Ta bort Vertex","Insert Vertex":"Infoga Vertex","Change to Line Segment":"Ändra till linjesegment","Change to Arc Segment":"Ändra till bågsegment","Change to Ellipse Segment":"Ändra till ellipssegment","Remove Shape":"Ta bort form","Remove Shape Part":"Ta bort del av form","Remove Hole":"Ta bort hål","Remove Loop":"Ta bort slinga","Invalid shape":"Fel: felaktig form"}');

/***/ }),

/***/ "./res/locales/tr/nobundle-edit2d.loc.json":
/*!*************************************************!*\
  !*** ./res/locales/tr/nobundle-edit2d.loc.json ***!
  \*************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"@@locale":"tr","@@context":"Edit2D Uzantısı","Apply as Cutout":"Kesim Olarak Uygula","Remove Shapes":"Şekilleri Kaldır","Unify Shapes":"Şekilleri Birleştir","Remove Vertex":"Tepe Noktayı Kaldır","Insert Vertex":"Tepe Nokta Ekle","Change to Line Segment":"Çizgi Segmetine Değiştir","Change to Arc Segment":"Yay Segmentine Değiştir","Change to Ellipse Segment":"Elips Segmentine Değiştir","Remove Shape":"Şekli Kaldır","Remove Shape Part":"Şekil Parçasını Kaldır","Remove Hole":"Deliği Kaldır","Remove Loop":"Döngüyü Kaldır","Invalid shape":"Hata: Geçersiz şekil"}');

/***/ }),

/***/ "./res/locales/zh-HK/nobundle-edit2d.loc.json":
/*!****************************************************!*\
  !*** ./res/locales/zh-HK/nobundle-edit2d.loc.json ***!
  \****************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"@@locale":"zh-hk","@@context":"編輯 2D 擴充程式","Apply as Cutout":"套用為剪裁圖樣","Remove Shapes":"移除形狀","Unify Shapes":"統一形狀","Remove Vertex":"移除頂點","Insert Vertex":"插入頂點","Change to Line Segment":"變更至線區段","Change to Arc Segment":"變更至弧形區段","Change to Ellipse Segment":"變更至橢圓形區段","Remove Shape":"移除形狀","Remove Shape Part":"移除形狀部分","Remove Hole":"移除洞孔","Remove Loop":"移除迴圈","Invalid shape":"錯誤: 無效形狀"}');

/***/ }),

/***/ "./res/locales/zh-Hans/nobundle-edit2d.loc.json":
/*!******************************************************!*\
  !*** ./res/locales/zh-Hans/nobundle-edit2d.loc.json ***!
  \******************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"@@locale":"zh-Hans","@@context":"编辑二维扩展","Apply as Cutout":"应用为裁切","Remove Shapes":"删除形状","Unify Shapes":"统一形状","Remove Vertex":"删除顶点","Insert Vertex":"插入顶点","Change to Line Segment":"更改为线段","Change to Arc Segment":"更改为圆弧段","Change to Ellipse Segment":"更改为椭圆段","Remove Shape":"删除形状","Remove Shape Part":"删除形状部件","Remove Hole":"删除孔","Remove Loop":"删除回路","Invalid shape":"错误: 形状无效"}');

/***/ }),

/***/ "./res/locales/zh-Hant/nobundle-edit2d.loc.json":
/*!******************************************************!*\
  !*** ./res/locales/zh-Hant/nobundle-edit2d.loc.json ***!
  \******************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"@@locale":"zh-Hant","@@context":"Edit2D 延伸","Apply as Cutout":"套用為凹口","Remove Shapes":"移除造型","Unify Shapes":"統一造型","Remove Vertex":"移除頂點","Insert Vertex":"插入頂點","Change to Line Segment":"變更為線段","Change to Arc Segment":"變更為弧線段","Change to Ellipse Segment":"變更為橢圓線段","Remove Shape":"移除造型","Remove Shape Part":"移除造型零件","Remove Hole":"移除孔","Remove Loop":"移除迴路","Invalid shape":"錯誤: 造型無效"}');

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./extensions/Edit2D/Edit2D.js");
/******/ 	Autodesk.Extensions.Edit2D = __webpack_exports__;
/******/ 	
/******/ })()
;