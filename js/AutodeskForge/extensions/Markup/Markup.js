/*!
 * LMV v7.105.0
 *
 * Copyright 2025 Autodesk, Inc.
 * All rights reserved.
 *
 * This computer source code and related instructions and comments are the
 * unpublished confidential and proprietary information of Autodesk, Inc.
 * and are protected under Federal copyright and state trade secret law.
 * They may not be disclosed to, copied or used by any third party without
 * the prior written consent of Autodesk, Inc.
 *
 * Autodesk Viewer SDK Usage Limitations:
 *
 * The Autodesk Viewer SDK JavaScript must be delivered from an
 * Autodesk-hosted URL.
 */
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	// runtime can't be in strict mode because a global variable is assign and maybe created.
/******/ 	var __webpack_modules__ = ({

/***/ "./extensions/Markup/Markup.js":
/*!*************************************!*\
  !*** ./extensions/Markup/Markup.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Core: () => (/* binding */ Core),\n/* harmony export */   Gui: () => (/* binding */ Gui)\n/* harmony export */ });\n/* harmony import */ var _core_MarkupsCore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core/MarkupsCore */ \"./extensions/Markup/core/MarkupsCore.js\");\n/* harmony import */ var _gui_MarkupsGui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gui/MarkupsGui */ \"./extensions/Markup/gui/MarkupsGui.js\");\n/* harmony import */ var _core_edit_clipboard_Clipboard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core/edit-clipboard/Clipboard */ \"./extensions/Markup/core/edit-clipboard/Clipboard.js\");\n/* harmony import */ var _core_edit_actions_CloneMarkup__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core/edit-actions/CloneMarkup */ \"./extensions/Markup/core/edit-actions/CloneMarkup.js\");\n/* harmony import */ var _core_edit_actions_CreateArrow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./core/edit-actions/CreateArrow */ \"./extensions/Markup/core/edit-actions/CreateArrow.js\");\n/* harmony import */ var _core_edit_actions_CreateCallout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./core/edit-actions/CreateCallout */ \"./extensions/Markup/core/edit-actions/CreateCallout.js\");\n/* harmony import */ var _core_edit_actions_CreateCircle__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./core/edit-actions/CreateCircle */ \"./extensions/Markup/core/edit-actions/CreateCircle.js\");\n/* harmony import */ var _core_edit_actions_CreateCloud__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./core/edit-actions/CreateCloud */ \"./extensions/Markup/core/edit-actions/CreateCloud.js\");\n/* harmony import */ var _core_edit_actions_CreateDimension__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./core/edit-actions/CreateDimension */ \"./extensions/Markup/core/edit-actions/CreateDimension.js\");\n/* harmony import */ var _core_edit_actions_CreateFreehand__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./core/edit-actions/CreateFreehand */ \"./extensions/Markup/core/edit-actions/CreateFreehand.js\");\n/* harmony import */ var _core_edit_actions_CreateHighlight__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./core/edit-actions/CreateHighlight */ \"./extensions/Markup/core/edit-actions/CreateHighlight.js\");\n/* harmony import */ var _core_edit_actions_CreatePolycloud__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./core/edit-actions/CreatePolycloud */ \"./extensions/Markup/core/edit-actions/CreatePolycloud.js\");\n/* harmony import */ var _core_edit_actions_CreatePolyline__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./core/edit-actions/CreatePolyline */ \"./extensions/Markup/core/edit-actions/CreatePolyline.js\");\n/* harmony import */ var _core_edit_actions_CreateRectangle__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./core/edit-actions/CreateRectangle */ \"./extensions/Markup/core/edit-actions/CreateRectangle.js\");\n/* harmony import */ var _core_edit_actions_CreateText__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./core/edit-actions/CreateText */ \"./extensions/Markup/core/edit-actions/CreateText.js\");\n/* harmony import */ var _core_edit_actions_DeleteArrow__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./core/edit-actions/DeleteArrow */ \"./extensions/Markup/core/edit-actions/DeleteArrow.js\");\n/* harmony import */ var _core_edit_actions_DeleteCallout__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./core/edit-actions/DeleteCallout */ \"./extensions/Markup/core/edit-actions/DeleteCallout.js\");\n/* harmony import */ var _core_edit_actions_DeleteCircle__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./core/edit-actions/DeleteCircle */ \"./extensions/Markup/core/edit-actions/DeleteCircle.js\");\n/* harmony import */ var _core_edit_actions_DeleteCloud__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./core/edit-actions/DeleteCloud */ \"./extensions/Markup/core/edit-actions/DeleteCloud.js\");\n/* harmony import */ var _core_edit_actions_DeleteStamp__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./core/edit-actions/DeleteStamp */ \"./extensions/Markup/core/edit-actions/DeleteStamp.js\");\n/* harmony import */ var _core_edit_actions_DeleteDimension__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./core/edit-actions/DeleteDimension */ \"./extensions/Markup/core/edit-actions/DeleteDimension.js\");\n/* harmony import */ var _core_edit_actions_DeleteFreehand__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./core/edit-actions/DeleteFreehand */ \"./extensions/Markup/core/edit-actions/DeleteFreehand.js\");\n/* harmony import */ var _core_edit_actions_DeleteHighlight__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./core/edit-actions/DeleteHighlight */ \"./extensions/Markup/core/edit-actions/DeleteHighlight.js\");\n/* harmony import */ var _core_edit_actions_DeletePolycloud__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./core/edit-actions/DeletePolycloud */ \"./extensions/Markup/core/edit-actions/DeletePolycloud.js\");\n/* harmony import */ var _core_edit_actions_DeletePolyline__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./core/edit-actions/DeletePolyline */ \"./extensions/Markup/core/edit-actions/DeletePolyline.js\");\n/* harmony import */ var _core_edit_actions_DeleteRectangle__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./core/edit-actions/DeleteRectangle */ \"./extensions/Markup/core/edit-actions/DeleteRectangle.js\");\n/* harmony import */ var _core_edit_actions_DeleteText__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./core/edit-actions/DeleteText */ \"./extensions/Markup/core/edit-actions/DeleteText.js\");\n/* harmony import */ var _core_edit_actions_EditAction__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./core/edit-actions/EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _core_edit_actions_EditActionGroup__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./core/edit-actions/EditActionGroup */ \"./extensions/Markup/core/edit-actions/EditActionGroup.js\");\n/* harmony import */ var _core_edit_actions_EditActionManager__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./core/edit-actions/EditActionManager */ \"./extensions/Markup/core/edit-actions/EditActionManager.js\");\n/* harmony import */ var _core_EditFrame__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./core/EditFrame */ \"./extensions/Markup/core/EditFrame.js\");\n/* harmony import */ var _core_edit_modes_EditMode__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./core/edit-modes/EditMode */ \"./extensions/Markup/core/edit-modes/EditMode.js\");\n/* harmony import */ var _core_edit_modes_EditModeArrow__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./core/edit-modes/EditModeArrow */ \"./extensions/Markup/core/edit-modes/EditModeArrow.js\");\n/* harmony import */ var _core_edit_modes_EditModeCallout__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./core/edit-modes/EditModeCallout */ \"./extensions/Markup/core/edit-modes/EditModeCallout.js\");\n/* harmony import */ var _core_edit_modes_EditModeCircle__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./core/edit-modes/EditModeCircle */ \"./extensions/Markup/core/edit-modes/EditModeCircle.js\");\n/* harmony import */ var _core_edit_modes_EditModeCloud__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./core/edit-modes/EditModeCloud */ \"./extensions/Markup/core/edit-modes/EditModeCloud.js\");\n/* harmony import */ var _core_edit_modes_EditModeStamp__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./core/edit-modes/EditModeStamp */ \"./extensions/Markup/core/edit-modes/EditModeStamp.js\");\n/* harmony import */ var _core_edit_modes_EditModeDimension__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./core/edit-modes/EditModeDimension */ \"./extensions/Markup/core/edit-modes/EditModeDimension.js\");\n/* harmony import */ var _core_edit_modes_EditModeFreehand__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./core/edit-modes/EditModeFreehand */ \"./extensions/Markup/core/edit-modes/EditModeFreehand.js\");\n/* harmony import */ var _core_edit_modes_EditModeHighlight__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./core/edit-modes/EditModeHighlight */ \"./extensions/Markup/core/edit-modes/EditModeHighlight.js\");\n/* harmony import */ var _core_edit_modes_EditModePen__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./core/edit-modes/EditModePen */ \"./extensions/Markup/core/edit-modes/EditModePen.js\");\n/* harmony import */ var _core_edit_modes_EditModePolycloud__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./core/edit-modes/EditModePolycloud */ \"./extensions/Markup/core/edit-modes/EditModePolycloud.js\");\n/* harmony import */ var _core_edit_modes_EditModePolyline__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./core/edit-modes/EditModePolyline */ \"./extensions/Markup/core/edit-modes/EditModePolyline.js\");\n/* harmony import */ var _core_edit_modes_EditModeRectangle__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./core/edit-modes/EditModeRectangle */ \"./extensions/Markup/core/edit-modes/EditModeRectangle.js\");\n/* harmony import */ var _core_edit_modes_EditModeText__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./core/edit-modes/EditModeText */ \"./extensions/Markup/core/edit-modes/EditModeText.js\");\n/* harmony import */ var _core_edit_modes_EditorTextInput__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./core/edit-modes/EditorTextInput */ \"./extensions/Markup/core/edit-modes/EditorTextInput.js\");\n/* harmony import */ var _core_Markup__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./core/Markup */ \"./extensions/Markup/core/Markup.js\");\n/* harmony import */ var _core_MarkupArrow__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./core/MarkupArrow */ \"./extensions/Markup/core/MarkupArrow.js\");\n/* harmony import */ var _core_MarkupCallout__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./core/MarkupCallout */ \"./extensions/Markup/core/MarkupCallout.js\");\n/* harmony import */ var _core_MarkupCircle__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./core/MarkupCircle */ \"./extensions/Markup/core/MarkupCircle.js\");\n/* harmony import */ var _core_MarkupCloud__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./core/MarkupCloud */ \"./extensions/Markup/core/MarkupCloud.js\");\n/* harmony import */ var _core_MarkupDimension__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./core/MarkupDimension */ \"./extensions/Markup/core/MarkupDimension.js\");\n/* harmony import */ var _core_MarkupFreehand__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./core/MarkupFreehand */ \"./extensions/Markup/core/MarkupFreehand.js\");\n/* harmony import */ var _core_MarkupHighlight__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./core/MarkupHighlight */ \"./extensions/Markup/core/MarkupHighlight.js\");\n/* harmony import */ var _core_MarkupPen__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./core/MarkupPen */ \"./extensions/Markup/core/MarkupPen.js\");\n/* harmony import */ var _core_MarkupPolycloud__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./core/MarkupPolycloud */ \"./extensions/Markup/core/MarkupPolycloud.js\");\n/* harmony import */ var _core_MarkupPolyLine__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./core/MarkupPolyLine */ \"./extensions/Markup/core/MarkupPolyLine.js\");\n/* harmony import */ var _core_MarkupRectangle__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./core/MarkupRectangle */ \"./extensions/Markup/core/MarkupRectangle.js\");\n/* harmony import */ var _core_MarkupText__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./core/MarkupText */ \"./extensions/Markup/core/MarkupText.js\");\n/* harmony import */ var _core_MarkupStamp__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ./core/MarkupStamp */ \"./extensions/Markup/core/MarkupStamp.js\");\n/* harmony import */ var _core_MarkupTool__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ./core/MarkupTool */ \"./extensions/Markup/core/MarkupTool.js\");\n/* harmony import */ var _core_edit_actions_SetArrow__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ./core/edit-actions/SetArrow */ \"./extensions/Markup/core/edit-actions/SetArrow.js\");\n/* harmony import */ var _core_edit_actions_SetCallout__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ./core/edit-actions/SetCallout */ \"./extensions/Markup/core/edit-actions/SetCallout.js\");\n/* harmony import */ var _core_edit_actions_SetCircle__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ./core/edit-actions/SetCircle */ \"./extensions/Markup/core/edit-actions/SetCircle.js\");\n/* harmony import */ var _core_edit_actions_SetCloud__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ./core/edit-actions/SetCloud */ \"./extensions/Markup/core/edit-actions/SetCloud.js\");\n/* harmony import */ var _core_edit_actions_SetDimension__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ./core/edit-actions/SetDimension */ \"./extensions/Markup/core/edit-actions/SetDimension.js\");\n/* harmony import */ var _core_edit_actions_SetFreehand__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ./core/edit-actions/SetFreehand */ \"./extensions/Markup/core/edit-actions/SetFreehand.js\");\n/* harmony import */ var _core_edit_actions_SetHighlight__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ./core/edit-actions/SetHighlight */ \"./extensions/Markup/core/edit-actions/SetHighlight.js\");\n/* harmony import */ var _core_edit_actions_SetPolycloud__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ./core/edit-actions/SetPolycloud */ \"./extensions/Markup/core/edit-actions/SetPolycloud.js\");\n/* harmony import */ var _core_edit_actions_SetPolyline__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ./core/edit-actions/SetPolyline */ \"./extensions/Markup/core/edit-actions/SetPolyline.js\");\n/* harmony import */ var _core_edit_actions_SetPosition__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ./core/edit-actions/SetPosition */ \"./extensions/Markup/core/edit-actions/SetPosition.js\");\n/* harmony import */ var _core_edit_actions_SetRectangle__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! ./core/edit-actions/SetRectangle */ \"./extensions/Markup/core/edit-actions/SetRectangle.js\");\n/* harmony import */ var _core_edit_actions_SetRotation__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! ./core/edit-actions/SetRotation */ \"./extensions/Markup/core/edit-actions/SetRotation.js\");\n/* harmony import */ var _core_edit_actions_SetSize__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! ./core/edit-actions/SetSize */ \"./extensions/Markup/core/edit-actions/SetSize.js\");\n/* harmony import */ var _core_edit_actions_SetStyle__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! ./core/edit-actions/SetStyle */ \"./extensions/Markup/core/edit-actions/SetStyle.js\");\n/* harmony import */ var _core_edit_actions_SetText__WEBPACK_IMPORTED_MODULE_75__ = __webpack_require__(/*! ./core/edit-actions/SetText */ \"./extensions/Markup/core/edit-actions/SetText.js\");\n/* harmony import */ var _core_edit_actions_SetStamp__WEBPACK_IMPORTED_MODULE_76__ = __webpack_require__(/*! ./core/edit-actions/SetStamp */ \"./extensions/Markup/core/edit-actions/SetStamp.js\");\n/* harmony import */ var _core_MarkupEvents__WEBPACK_IMPORTED_MODULE_77__ = __webpack_require__(/*! ./core/MarkupEvents */ \"./extensions/Markup/core/MarkupEvents.js\");\n/* harmony import */ var _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_78__ = __webpack_require__(/*! ./core/MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n/* harmony import */ var _core_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_79__ = __webpack_require__(/*! ./core/MarkupsCoreUtils */ \"./extensions/Markup/core/MarkupsCoreUtils.js\");\n/* harmony import */ var _core_StyleUtils__WEBPACK_IMPORTED_MODULE_80__ = __webpack_require__(/*! ./core/StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n/* harmony import */ var _core_EditModeManager__WEBPACK_IMPORTED_MODULE_81__ = __webpack_require__(/*! ./core/EditModeManager */ \"./extensions/Markup/core/EditModeManager.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// All the things\nconst Core = {\n  Clipboard: _core_edit_clipboard_Clipboard__WEBPACK_IMPORTED_MODULE_2__.Clipboard,\n  CloneMarkup: _core_edit_actions_CloneMarkup__WEBPACK_IMPORTED_MODULE_3__.CloneMarkup,\n  CreateArrow: _core_edit_actions_CreateArrow__WEBPACK_IMPORTED_MODULE_4__.CreateArrow,\n  CreateCallout: _core_edit_actions_CreateCallout__WEBPACK_IMPORTED_MODULE_5__.CreateCallout,\n  CreateCircle: _core_edit_actions_CreateCircle__WEBPACK_IMPORTED_MODULE_6__.CreateCircle,\n  CreateCloud: _core_edit_actions_CreateCloud__WEBPACK_IMPORTED_MODULE_7__.CreateCloud,\n  CreateDimension: _core_edit_actions_CreateDimension__WEBPACK_IMPORTED_MODULE_8__.CreateDimension,\n  CreateFreehand: _core_edit_actions_CreateFreehand__WEBPACK_IMPORTED_MODULE_9__.CreateFreehand,\n  CreateHighlight: _core_edit_actions_CreateHighlight__WEBPACK_IMPORTED_MODULE_10__.CreateHighlight,\n  CreatePolycloud: _core_edit_actions_CreatePolycloud__WEBPACK_IMPORTED_MODULE_11__.CreatePolycloud,\n  CreatePolyline: _core_edit_actions_CreatePolyline__WEBPACK_IMPORTED_MODULE_12__.CreatePolyline,\n  CreateRectangle: _core_edit_actions_CreateRectangle__WEBPACK_IMPORTED_MODULE_13__.CreateRectangle,\n  CreateText: _core_edit_actions_CreateText__WEBPACK_IMPORTED_MODULE_14__.CreateText,\n  DeleteArrow: _core_edit_actions_DeleteArrow__WEBPACK_IMPORTED_MODULE_15__.DeleteArrow,\n  DeleteCallout: _core_edit_actions_DeleteCallout__WEBPACK_IMPORTED_MODULE_16__.DeleteCallout,\n  DeleteCircle: _core_edit_actions_DeleteCircle__WEBPACK_IMPORTED_MODULE_17__.DeleteCircle,\n  DeleteCloud: _core_edit_actions_DeleteCloud__WEBPACK_IMPORTED_MODULE_18__.DeleteCloud,\n  DeleteDimension: _core_edit_actions_DeleteDimension__WEBPACK_IMPORTED_MODULE_20__.DeleteDimension,\n  DeleteFreehand: _core_edit_actions_DeleteFreehand__WEBPACK_IMPORTED_MODULE_21__.DeleteFreehand,\n  DeleteHighlight: _core_edit_actions_DeleteHighlight__WEBPACK_IMPORTED_MODULE_22__.DeleteHighlight,\n  DeletePolycloud: _core_edit_actions_DeletePolycloud__WEBPACK_IMPORTED_MODULE_23__.DeletePolycloud,\n  DeletePolyline: _core_edit_actions_DeletePolyline__WEBPACK_IMPORTED_MODULE_24__.DeletePolyline,\n  DeleteRectangle: _core_edit_actions_DeleteRectangle__WEBPACK_IMPORTED_MODULE_25__.DeleteRectangle,\n  DeleteText: _core_edit_actions_DeleteText__WEBPACK_IMPORTED_MODULE_26__.DeleteText,\n  DeleteStamp: _core_edit_actions_DeleteStamp__WEBPACK_IMPORTED_MODULE_19__.DeleteStamp,\n\n  EditAction: _core_edit_actions_EditAction__WEBPACK_IMPORTED_MODULE_27__.EditAction,\n  EditActionGroup: _core_edit_actions_EditActionGroup__WEBPACK_IMPORTED_MODULE_28__.EditActionGroup,\n  EditActionManager: _core_edit_actions_EditActionManager__WEBPACK_IMPORTED_MODULE_29__.EditActionManager,\n  EditFrame: _core_EditFrame__WEBPACK_IMPORTED_MODULE_30__.EditFrame,\n\n  EditMode: _core_edit_modes_EditMode__WEBPACK_IMPORTED_MODULE_31__.EditMode,\n  EditModeArrow: _core_edit_modes_EditModeArrow__WEBPACK_IMPORTED_MODULE_32__.EditModeArrow,\n  EditModeCallout: _core_edit_modes_EditModeCallout__WEBPACK_IMPORTED_MODULE_33__.EditModeCallout,\n  EditModeCircle: _core_edit_modes_EditModeCircle__WEBPACK_IMPORTED_MODULE_34__.EditModeCircle,\n  EditModeCloud: _core_edit_modes_EditModeCloud__WEBPACK_IMPORTED_MODULE_35__.EditModeCloud,\n  EditModeDimension: _core_edit_modes_EditModeDimension__WEBPACK_IMPORTED_MODULE_37__.EditModeDimension,\n  EditModeFreehand: _core_edit_modes_EditModeFreehand__WEBPACK_IMPORTED_MODULE_38__.EditModeFreehand,\n  EditModeHighlight: _core_edit_modes_EditModeHighlight__WEBPACK_IMPORTED_MODULE_39__.EditModeHighlight,\n  EditModePen: _core_edit_modes_EditModePen__WEBPACK_IMPORTED_MODULE_40__.EditModePen,\n  EditModePolycloud: _core_edit_modes_EditModePolycloud__WEBPACK_IMPORTED_MODULE_41__.EditModePolycloud,\n  EditModePolyline: _core_edit_modes_EditModePolyline__WEBPACK_IMPORTED_MODULE_42__.EditModePolyline,\n  EditModeRectangle: _core_edit_modes_EditModeRectangle__WEBPACK_IMPORTED_MODULE_43__.EditModeRectangle,\n  EditModeText: _core_edit_modes_EditModeText__WEBPACK_IMPORTED_MODULE_44__.EditModeText,\n  EditModeStamp: _core_edit_modes_EditModeStamp__WEBPACK_IMPORTED_MODULE_36__.EditModeStamp,\n  EditorTextInput: _core_edit_modes_EditorTextInput__WEBPACK_IMPORTED_MODULE_45__.EditorTextInput,\n\n  Markup: _core_Markup__WEBPACK_IMPORTED_MODULE_46__.Markup,\n  MarkupArrow: _core_MarkupArrow__WEBPACK_IMPORTED_MODULE_47__.MarkupArrow,\n  MarkupCallout: _core_MarkupCallout__WEBPACK_IMPORTED_MODULE_48__.MarkupCallout,\n  MarkupCircle: _core_MarkupCircle__WEBPACK_IMPORTED_MODULE_49__.MarkupCircle,\n  MarkupCloud: _core_MarkupCloud__WEBPACK_IMPORTED_MODULE_50__.MarkupCloud,\n  MarkupDimension: _core_MarkupDimension__WEBPACK_IMPORTED_MODULE_51__.MarkupDimension,\n  MarkupFreehand: _core_MarkupFreehand__WEBPACK_IMPORTED_MODULE_52__.MarkupFreehand,\n  MarkupHighlight: _core_MarkupHighlight__WEBPACK_IMPORTED_MODULE_53__.MarkupHighlight,\n  MarkupPen: _core_MarkupPen__WEBPACK_IMPORTED_MODULE_54__.MarkupPen,\n  MarkupPolycloud: _core_MarkupPolycloud__WEBPACK_IMPORTED_MODULE_55__.MarkupPolycloud,\n  MarkupPolyline: _core_MarkupPolyLine__WEBPACK_IMPORTED_MODULE_56__.MarkupPolyline,\n  MarkupRectangle: _core_MarkupRectangle__WEBPACK_IMPORTED_MODULE_57__.MarkupRectangle,\n  MarkupText: _core_MarkupText__WEBPACK_IMPORTED_MODULE_58__.MarkupText,\n  MarkupStamp: _core_MarkupStamp__WEBPACK_IMPORTED_MODULE_59__.MarkupStamp,\n  MarkupTool: _core_MarkupTool__WEBPACK_IMPORTED_MODULE_60__.MarkupTool,\n\n  MarkupsCore: _core_MarkupsCore__WEBPACK_IMPORTED_MODULE_0__.MarkupsCore,\n\n  SetArrow: _core_edit_actions_SetArrow__WEBPACK_IMPORTED_MODULE_61__.SetArrow,\n  SetCallout: _core_edit_actions_SetCallout__WEBPACK_IMPORTED_MODULE_62__.SetCallout,\n  SetCircle: _core_edit_actions_SetCircle__WEBPACK_IMPORTED_MODULE_63__.SetCircle,\n  SetCloud: _core_edit_actions_SetCloud__WEBPACK_IMPORTED_MODULE_64__.SetCloud,\n  SetDimension: _core_edit_actions_SetDimension__WEBPACK_IMPORTED_MODULE_65__.SetDimension,\n  SetFreehand: _core_edit_actions_SetFreehand__WEBPACK_IMPORTED_MODULE_66__.SetFreehand,\n  SetHighlight: _core_edit_actions_SetHighlight__WEBPACK_IMPORTED_MODULE_67__.SetHighlight,\n  SetPolycloud: _core_edit_actions_SetPolycloud__WEBPACK_IMPORTED_MODULE_68__.SetPolycloud,\n  SetPolyline: _core_edit_actions_SetPolyline__WEBPACK_IMPORTED_MODULE_69__.SetPolyline,\n  SetPosition: _core_edit_actions_SetPosition__WEBPACK_IMPORTED_MODULE_70__.SetPosition,\n  SetRectangle: _core_edit_actions_SetRectangle__WEBPACK_IMPORTED_MODULE_71__.SetRectangle,\n  SetRotation: _core_edit_actions_SetRotation__WEBPACK_IMPORTED_MODULE_72__.SetRotation,\n  SetSize: _core_edit_actions_SetSize__WEBPACK_IMPORTED_MODULE_73__.SetSize,\n  SetStyle: _core_edit_actions_SetStyle__WEBPACK_IMPORTED_MODULE_74__.SetStyle,\n  SetText: _core_edit_actions_SetText__WEBPACK_IMPORTED_MODULE_75__.SetText,\n  SetStamp: _core_edit_actions_SetStamp__WEBPACK_IMPORTED_MODULE_76__.SetStamp,\n\n\n  MarkupEvents: _core_MarkupEvents__WEBPACK_IMPORTED_MODULE_77__,\n  MarkupTypes: _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_78__,\n  theEditModeManager: _core_EditModeManager__WEBPACK_IMPORTED_MODULE_81__.theEditModeManager,\n  Utils: _core_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_79__\n};\n\n// Spread the markup types to minimize breaking changes (sigh)\nfor (var markupType in _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_78__) {\n  Core[markupType] = _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_78__[markupType];\n}\n\n// Spread the event ids to minimize breaking changes (sigh)\nfor (var eventType in _core_MarkupEvents__WEBPACK_IMPORTED_MODULE_77__) {\n  Core[eventType] = _core_MarkupEvents__WEBPACK_IMPORTED_MODULE_77__[eventType];\n}\n\n// Merge StyleUtils with utils (because those methods used to live in Utils)\nfor (var thing in _core_StyleUtils__WEBPACK_IMPORTED_MODULE_80__) {\n  if (thing in Core.Utils)\n  throw new Error(`Property ${thing} from StyleUtils already present in MarkupsCoreUtils.`);\n\n  Core.Utils[thing] = _core_StyleUtils__WEBPACK_IMPORTED_MODULE_80__[thing];\n}\n\n\nconst Gui = {\n  MarkupsGui: _gui_MarkupsGui__WEBPACK_IMPORTED_MODULE_1__.MarkupsGui\n};\n\n\n// Also map back to legacy namespace\nAutodesk.Viewing.Extensions.Markups = {\n  Core\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QzFCLElBQUlLLEtBQUssSUFBSUgsSUFBSSxDQUFDSCxLQUFLO0VBQ25CLE1BQU0sSUFBSU8sS0FBSyxDQUFFLFlBQVdELEtBQU0sdURBQXNELENBQUM7O0VBRTdGSCxJQUFJLENBQUNILEtBQUssQ0FBQ00sS0FBSyxDQUFDLEdBQUdMLDhDQUFVLENBQUNLLEtBQUssQ0FBQztBQUN6Qzs7O0FBR08sTUFBTUUsR0FBRyxHQUFHO0VBQ2Z0RixVQUFVQSx5REFBQUE7QUFDZCxDQUFDOzs7QUFHRDtBQUNBdUYsUUFBUSxDQUFDQyxPQUFPLENBQUNDLFVBQVUsQ0FBQ0MsT0FBTyxHQUFHO0VBQ2xDVDtBQUNKLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvTWFya3VwLmpzPzA2ZjAiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBNYXJrdXBzQ29yZSB9IGZyb20gJy4vY29yZS9NYXJrdXBzQ29yZSc7XG5pbXBvcnQgeyBNYXJrdXBzR3VpIH0gZnJvbSAnLi9ndWkvTWFya3Vwc0d1aSc7XG5cbmltcG9ydCB7IENsaXBib2FyZCB9IGZyb20gJy4vY29yZS9lZGl0LWNsaXBib2FyZC9DbGlwYm9hcmQnO1xuaW1wb3J0IHsgQ2xvbmVNYXJrdXAgfSBmcm9tICcuL2NvcmUvZWRpdC1hY3Rpb25zL0Nsb25lTWFya3VwJztcbmltcG9ydCB7IENyZWF0ZUFycm93IH0gZnJvbSAnLi9jb3JlL2VkaXQtYWN0aW9ucy9DcmVhdGVBcnJvdyc7XG5pbXBvcnQgeyBDcmVhdGVDYWxsb3V0IH0gZnJvbSAnLi9jb3JlL2VkaXQtYWN0aW9ucy9DcmVhdGVDYWxsb3V0JztcbmltcG9ydCB7IENyZWF0ZUNpcmNsZSB9IGZyb20gJy4vY29yZS9lZGl0LWFjdGlvbnMvQ3JlYXRlQ2lyY2xlJztcbmltcG9ydCB7IENyZWF0ZUNsb3VkIH0gZnJvbSAnLi9jb3JlL2VkaXQtYWN0aW9ucy9DcmVhdGVDbG91ZCc7XG5pbXBvcnQgeyBDcmVhdGVEaW1lbnNpb24gfSBmcm9tICcuL2NvcmUvZWRpdC1hY3Rpb25zL0NyZWF0ZURpbWVuc2lvbic7XG5pbXBvcnQgeyBDcmVhdGVGcmVlaGFuZCB9IGZyb20gJy4vY29yZS9lZGl0LWFjdGlvbnMvQ3JlYXRlRnJlZWhhbmQnO1xuaW1wb3J0IHsgQ3JlYXRlSGlnaGxpZ2h0IH0gZnJvbSAnLi9jb3JlL2VkaXQtYWN0aW9ucy9DcmVhdGVIaWdobGlnaHQnO1xuaW1wb3J0IHsgQ3JlYXRlUG9seWNsb3VkIH0gZnJvbSAnLi9jb3JlL2VkaXQtYWN0aW9ucy9DcmVhdGVQb2x5Y2xvdWQnO1xuaW1wb3J0IHsgQ3JlYXRlUG9seWxpbmUgfSBmcm9tICcuL2NvcmUvZWRpdC1hY3Rpb25zL0NyZWF0ZVBvbHlsaW5lJztcbmltcG9ydCB7IENyZWF0ZVJlY3RhbmdsZSB9IGZyb20gJy4vY29yZS9lZGl0LWFjdGlvbnMvQ3JlYXRlUmVjdGFuZ2xlJztcbmltcG9ydCB7IENyZWF0ZVRleHQgfSBmcm9tICcuL2NvcmUvZWRpdC1hY3Rpb25zL0NyZWF0ZVRleHQnO1xuaW1wb3J0IHsgRGVsZXRlQXJyb3cgfSBmcm9tICcuL2NvcmUvZWRpdC1hY3Rpb25zL0RlbGV0ZUFycm93JztcbmltcG9ydCB7IERlbGV0ZUNhbGxvdXQgfSBmcm9tICcuL2NvcmUvZWRpdC1hY3Rpb25zL0RlbGV0ZUNhbGxvdXQnO1xuaW1wb3J0IHsgRGVsZXRlQ2lyY2xlIH0gZnJvbSAnLi9jb3JlL2VkaXQtYWN0aW9ucy9EZWxldGVDaXJjbGUnO1xuaW1wb3J0IHsgRGVsZXRlQ2xvdWQgfSBmcm9tICcuL2NvcmUvZWRpdC1hY3Rpb25zL0RlbGV0ZUNsb3VkJztcbmltcG9ydCB7IERlbGV0ZVN0YW1wIH0gZnJvbSAnLi9jb3JlL2VkaXQtYWN0aW9ucy9EZWxldGVTdGFtcCc7XG5pbXBvcnQgeyBEZWxldGVEaW1lbnNpb24gfSBmcm9tICcuL2NvcmUvZWRpdC1hY3Rpb25zL0RlbGV0ZURpbWVuc2lvbic7XG5pbXBvcnQgeyBEZWxldGVGcmVlaGFuZCB9IGZyb20gJy4vY29yZS9lZGl0LWFjdGlvbnMvRGVsZXRlRnJlZWhhbmQnO1xuaW1wb3J0IHsgRGVsZXRlSGlnaGxpZ2h0IH0gZnJvbSAnLi9jb3JlL2VkaXQtYWN0aW9ucy9EZWxldGVIaWdobGlnaHQnO1xuaW1wb3J0IHsgRGVsZXRlUG9seWNsb3VkIH0gZnJvbSAnLi9jb3JlL2VkaXQtYWN0aW9ucy9EZWxldGVQb2x5Y2xvdWQnO1xuaW1wb3J0IHsgRGVsZXRlUG9seWxpbmUgfSBmcm9tICcuL2NvcmUvZWRpdC1hY3Rpb25zL0RlbGV0ZVBvbHlsaW5lJztcbmltcG9ydCB7IERlbGV0ZVJlY3RhbmdsZSB9IGZyb20gJy4vY29yZS9lZGl0LWFjdGlvbnMvRGVsZXRlUmVjdGFuZ2xlJztcbmltcG9ydCB7IERlbGV0ZVRleHQgfSBmcm9tICcuL2NvcmUvZWRpdC1hY3Rpb25zL0RlbGV0ZVRleHQnO1xuXG5pbXBvcnQgeyBFZGl0QWN0aW9uIH0gZnJvbSAnLi9jb3JlL2VkaXQtYWN0aW9ucy9FZGl0QWN0aW9uJztcbmltcG9ydCB7IEVkaXRBY3Rpb25Hcm91cCB9IGZyb20gJy4vY29yZS9lZGl0LWFjdGlvbnMvRWRpdEFjdGlvbkdyb3VwJztcbmltcG9ydCB7IEVkaXRBY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi9jb3JlL2VkaXQtYWN0aW9ucy9FZGl0QWN0aW9uTWFuYWdlcic7XG5pbXBvcnQgeyBFZGl0RnJhbWUgfSBmcm9tICcuL2NvcmUvRWRpdEZyYW1lJztcblxuaW1wb3J0IHsgRWRpdE1vZGUgfSBmcm9tICcuL2NvcmUvZWRpdC1tb2Rlcy9FZGl0TW9kZSc7XG5pbXBvcnQgeyBFZGl0TW9kZUFycm93IH0gZnJvbSAnLi9jb3JlL2VkaXQtbW9kZXMvRWRpdE1vZGVBcnJvdyc7XG5pbXBvcnQgeyBFZGl0TW9kZUNhbGxvdXQgfSBmcm9tICcuL2NvcmUvZWRpdC1tb2Rlcy9FZGl0TW9kZUNhbGxvdXQnO1xuaW1wb3J0IHsgRWRpdE1vZGVDaXJjbGUgfSBmcm9tICcuL2NvcmUvZWRpdC1tb2Rlcy9FZGl0TW9kZUNpcmNsZSc7XG5pbXBvcnQgeyBFZGl0TW9kZUNsb3VkIH0gZnJvbSAnLi9jb3JlL2VkaXQtbW9kZXMvRWRpdE1vZGVDbG91ZCc7XG5pbXBvcnQgeyBFZGl0TW9kZVN0YW1wIH0gZnJvbSAnLi9jb3JlL2VkaXQtbW9kZXMvRWRpdE1vZGVTdGFtcCc7XG5pbXBvcnQgeyBFZGl0TW9kZURpbWVuc2lvbiB9IGZyb20gJy4vY29yZS9lZGl0LW1vZGVzL0VkaXRNb2RlRGltZW5zaW9uJztcbmltcG9ydCB7IEVkaXRNb2RlRnJlZWhhbmQgfSBmcm9tICcuL2NvcmUvZWRpdC1tb2Rlcy9FZGl0TW9kZUZyZWVoYW5kJztcbmltcG9ydCB7IEVkaXRNb2RlSGlnaGxpZ2h0IH0gZnJvbSAnLi9jb3JlL2VkaXQtbW9kZXMvRWRpdE1vZGVIaWdobGlnaHQnO1xuaW1wb3J0IHsgRWRpdE1vZGVQZW4gfSBmcm9tICcuL2NvcmUvZWRpdC1tb2Rlcy9FZGl0TW9kZVBlbic7XG5pbXBvcnQgeyBFZGl0TW9kZVBvbHljbG91ZCB9IGZyb20gJy4vY29yZS9lZGl0LW1vZGVzL0VkaXRNb2RlUG9seWNsb3VkJztcbmltcG9ydCB7IEVkaXRNb2RlUG9seWxpbmUgfSBmcm9tICcuL2NvcmUvZWRpdC1tb2Rlcy9FZGl0TW9kZVBvbHlsaW5lJztcbmltcG9ydCB7IEVkaXRNb2RlUmVjdGFuZ2xlIH0gZnJvbSAnLi9jb3JlL2VkaXQtbW9kZXMvRWRpdE1vZGVSZWN0YW5nbGUnO1xuaW1wb3J0IHsgRWRpdE1vZGVUZXh0IH0gZnJvbSAnLi9jb3JlL2VkaXQtbW9kZXMvRWRpdE1vZGVUZXh0JztcbmltcG9ydCB7IEVkaXRvclRleHRJbnB1dCB9IGZyb20gJy4vY29yZS9lZGl0LW1vZGVzL0VkaXRvclRleHRJbnB1dCc7XG5cblxuaW1wb3J0IHsgTWFya3VwIH0gZnJvbSAnLi9jb3JlL01hcmt1cCc7XG5pbXBvcnQgeyBNYXJrdXBBcnJvdyB9IGZyb20gJy4vY29yZS9NYXJrdXBBcnJvdyc7XG5pbXBvcnQgeyBNYXJrdXBDYWxsb3V0IH0gZnJvbSAnLi9jb3JlL01hcmt1cENhbGxvdXQnO1xuaW1wb3J0IHsgTWFya3VwQ2lyY2xlIH0gZnJvbSAnLi9jb3JlL01hcmt1cENpcmNsZSc7XG5pbXBvcnQgeyBNYXJrdXBDbG91ZCB9IGZyb20gJy4vY29yZS9NYXJrdXBDbG91ZCc7XG5pbXBvcnQgeyBNYXJrdXBEaW1lbnNpb24gfSBmcm9tICcuL2NvcmUvTWFya3VwRGltZW5zaW9uJztcbmltcG9ydCB7IE1hcmt1cEZyZWVoYW5kIH0gZnJvbSAnLi9jb3JlL01hcmt1cEZyZWVoYW5kJztcbmltcG9ydCB7IE1hcmt1cEhpZ2hsaWdodCB9IGZyb20gJy4vY29yZS9NYXJrdXBIaWdobGlnaHQnO1xuaW1wb3J0IHsgTWFya3VwUGVuIH0gZnJvbSAnLi9jb3JlL01hcmt1cFBlbic7XG5pbXBvcnQgeyBNYXJrdXBQb2x5Y2xvdWQgfSBmcm9tICcuL2NvcmUvTWFya3VwUG9seWNsb3VkJztcbmltcG9ydCB7IE1hcmt1cFBvbHlsaW5lIH0gZnJvbSAnLi9jb3JlL01hcmt1cFBvbHlMaW5lJztcbmltcG9ydCB7IE1hcmt1cFJlY3RhbmdsZSB9IGZyb20gJy4vY29yZS9NYXJrdXBSZWN0YW5nbGUnO1xuaW1wb3J0IHsgTWFya3VwVGV4dCB9IGZyb20gJy4vY29yZS9NYXJrdXBUZXh0JztcbmltcG9ydCB7IE1hcmt1cFN0YW1wIH0gZnJvbSAnLi9jb3JlL01hcmt1cFN0YW1wJztcbmltcG9ydCB7IE1hcmt1cFRvb2wgfSBmcm9tICcuL2NvcmUvTWFya3VwVG9vbCc7XG5cbmltcG9ydCB7IFNldEFycm93IH0gZnJvbSAnLi9jb3JlL2VkaXQtYWN0aW9ucy9TZXRBcnJvdyc7XG5pbXBvcnQgeyBTZXRDYWxsb3V0IH0gZnJvbSAnLi9jb3JlL2VkaXQtYWN0aW9ucy9TZXRDYWxsb3V0JztcbmltcG9ydCB7IFNldENpcmNsZSB9IGZyb20gJy4vY29yZS9lZGl0LWFjdGlvbnMvU2V0Q2lyY2xlJztcbmltcG9ydCB7IFNldENsb3VkIH0gZnJvbSAnLi9jb3JlL2VkaXQtYWN0aW9ucy9TZXRDbG91ZCc7XG5pbXBvcnQgeyBTZXREaW1lbnNpb24gfSBmcm9tICcuL2NvcmUvZWRpdC1hY3Rpb25zL1NldERpbWVuc2lvbic7XG5pbXBvcnQgeyBTZXRGcmVlaGFuZCB9IGZyb20gJy4vY29yZS9lZGl0LWFjdGlvbnMvU2V0RnJlZWhhbmQnO1xuaW1wb3J0IHsgU2V0SGlnaGxpZ2h0IH0gZnJvbSAnLi9jb3JlL2VkaXQtYWN0aW9ucy9TZXRIaWdobGlnaHQnO1xuaW1wb3J0IHsgU2V0UG9seWNsb3VkIH0gZnJvbSAnLi9jb3JlL2VkaXQtYWN0aW9ucy9TZXRQb2x5Y2xvdWQnO1xuaW1wb3J0IHsgU2V0UG9seWxpbmUgfSBmcm9tICcuL2NvcmUvZWRpdC1hY3Rpb25zL1NldFBvbHlsaW5lJztcbmltcG9ydCB7IFNldFBvc2l0aW9uIH0gZnJvbSAnLi9jb3JlL2VkaXQtYWN0aW9ucy9TZXRQb3NpdGlvbic7XG5pbXBvcnQgeyBTZXRSZWN0YW5nbGUgfSBmcm9tICcuL2NvcmUvZWRpdC1hY3Rpb25zL1NldFJlY3RhbmdsZSc7XG5pbXBvcnQgeyBTZXRSb3RhdGlvbiB9IGZyb20gJy4vY29yZS9lZGl0LWFjdGlvbnMvU2V0Um90YXRpb24nO1xuaW1wb3J0IHsgU2V0U2l6ZSB9IGZyb20gJy4vY29yZS9lZGl0LWFjdGlvbnMvU2V0U2l6ZSc7XG5pbXBvcnQgeyBTZXRTdHlsZSB9IGZyb20gJy4vY29yZS9lZGl0LWFjdGlvbnMvU2V0U3R5bGUnO1xuaW1wb3J0IHsgU2V0VGV4dCB9IGZyb20gJy4vY29yZS9lZGl0LWFjdGlvbnMvU2V0VGV4dCc7XG5pbXBvcnQgeyBTZXRTdGFtcCB9IGZyb20gJy4vY29yZS9lZGl0LWFjdGlvbnMvU2V0U3RhbXAnO1xuXG5cbmltcG9ydCAqIGFzIE1hcmt1cEV2ZW50cyBmcm9tICcuL2NvcmUvTWFya3VwRXZlbnRzJztcbmltcG9ydCAqIGFzIE1hcmt1cFR5cGVzIGZyb20gJy4vY29yZS9NYXJrdXBUeXBlcyc7XG5cbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gJy4vY29yZS9NYXJrdXBzQ29yZVV0aWxzJztcbmltcG9ydCAqIGFzIFN0eWxlVXRpbHMgZnJvbSAnLi9jb3JlL1N0eWxlVXRpbHMnO1xuXG5pbXBvcnQgeyB0aGVFZGl0TW9kZU1hbmFnZXIgfSBmcm9tICcuL2NvcmUvRWRpdE1vZGVNYW5hZ2VyJztcblxuLy8gQWxsIHRoZSB0aGluZ3NcbmV4cG9ydCBjb25zdCBDb3JlID0ge1xuICAgIENsaXBib2FyZCxcbiAgICBDbG9uZU1hcmt1cCxcbiAgICBDcmVhdGVBcnJvdyxcbiAgICBDcmVhdGVDYWxsb3V0LFxuICAgIENyZWF0ZUNpcmNsZSxcbiAgICBDcmVhdGVDbG91ZCxcbiAgICBDcmVhdGVEaW1lbnNpb24sXG4gICAgQ3JlYXRlRnJlZWhhbmQsXG4gICAgQ3JlYXRlSGlnaGxpZ2h0LFxuICAgIENyZWF0ZVBvbHljbG91ZCxcbiAgICBDcmVhdGVQb2x5bGluZSxcbiAgICBDcmVhdGVSZWN0YW5nbGUsXG4gICAgQ3JlYXRlVGV4dCxcbiAgICBEZWxldGVBcnJvdyxcbiAgICBEZWxldGVDYWxsb3V0LFxuICAgIERlbGV0ZUNpcmNsZSxcbiAgICBEZWxldGVDbG91ZCxcbiAgICBEZWxldGVEaW1lbnNpb24sXG4gICAgRGVsZXRlRnJlZWhhbmQsXG4gICAgRGVsZXRlSGlnaGxpZ2h0LFxuICAgIERlbGV0ZVBvbHljbG91ZCxcbiAgICBEZWxldGVQb2x5bGluZSxcbiAgICBEZWxldGVSZWN0YW5nbGUsXG4gICAgRGVsZXRlVGV4dCxcbiAgICBEZWxldGVTdGFtcCxcblxuICAgIEVkaXRBY3Rpb24sXG4gICAgRWRpdEFjdGlvbkdyb3VwLFxuICAgIEVkaXRBY3Rpb25NYW5hZ2VyLFxuICAgIEVkaXRGcmFtZSxcblxuICAgIEVkaXRNb2RlLFxuICAgIEVkaXRNb2RlQXJyb3csXG4gICAgRWRpdE1vZGVDYWxsb3V0LFxuICAgIEVkaXRNb2RlQ2lyY2xlLFxuICAgIEVkaXRNb2RlQ2xvdWQsXG4gICAgRWRpdE1vZGVEaW1lbnNpb24sXG4gICAgRWRpdE1vZGVGcmVlaGFuZCxcbiAgICBFZGl0TW9kZUhpZ2hsaWdodCxcbiAgICBFZGl0TW9kZVBlbixcbiAgICBFZGl0TW9kZVBvbHljbG91ZCxcbiAgICBFZGl0TW9kZVBvbHlsaW5lLFxuICAgIEVkaXRNb2RlUmVjdGFuZ2xlLFxuICAgIEVkaXRNb2RlVGV4dCxcbiAgICBFZGl0TW9kZVN0YW1wLFxuICAgIEVkaXRvclRleHRJbnB1dCxcblxuICAgIE1hcmt1cCxcbiAgICBNYXJrdXBBcnJvdyxcbiAgICBNYXJrdXBDYWxsb3V0LFxuICAgIE1hcmt1cENpcmNsZSxcbiAgICBNYXJrdXBDbG91ZCxcbiAgICBNYXJrdXBEaW1lbnNpb24sXG4gICAgTWFya3VwRnJlZWhhbmQsXG4gICAgTWFya3VwSGlnaGxpZ2h0LFxuICAgIE1hcmt1cFBlbixcbiAgICBNYXJrdXBQb2x5Y2xvdWQsXG4gICAgTWFya3VwUG9seWxpbmUsXG4gICAgTWFya3VwUmVjdGFuZ2xlLFxuICAgIE1hcmt1cFRleHQsXG4gICAgTWFya3VwU3RhbXAsXG4gICAgTWFya3VwVG9vbCxcblxuICAgIE1hcmt1cHNDb3JlLFxuXG4gICAgU2V0QXJyb3csXG4gICAgU2V0Q2FsbG91dCxcbiAgICBTZXRDaXJjbGUsXG4gICAgU2V0Q2xvdWQsXG4gICAgU2V0RGltZW5zaW9uLFxuICAgIFNldEZyZWVoYW5kLFxuICAgIFNldEhpZ2hsaWdodCxcbiAgICBTZXRQb2x5Y2xvdWQsXG4gICAgU2V0UG9seWxpbmUsXG4gICAgU2V0UG9zaXRpb24sXG4gICAgU2V0UmVjdGFuZ2xlLFxuICAgIFNldFJvdGF0aW9uLFxuICAgIFNldFNpemUsXG4gICAgU2V0U3R5bGUsXG4gICAgU2V0VGV4dCxcbiAgICBTZXRTdGFtcCxcblxuXG4gICAgTWFya3VwRXZlbnRzLFxuICAgIE1hcmt1cFR5cGVzLFxuICAgIHRoZUVkaXRNb2RlTWFuYWdlcixcbiAgICBVdGlscyxcbn07XG5cbi8vIFNwcmVhZCB0aGUgbWFya3VwIHR5cGVzIHRvIG1pbmltaXplIGJyZWFraW5nIGNoYW5nZXMgKHNpZ2gpXG5mb3IgKHZhciBtYXJrdXBUeXBlIGluIE1hcmt1cFR5cGVzKSB7XG4gICAgQ29yZVttYXJrdXBUeXBlXSA9IE1hcmt1cFR5cGVzW21hcmt1cFR5cGVdO1xufVxuXG4vLyBTcHJlYWQgdGhlIGV2ZW50IGlkcyB0byBtaW5pbWl6ZSBicmVha2luZyBjaGFuZ2VzIChzaWdoKVxuZm9yICh2YXIgZXZlbnRUeXBlIGluIE1hcmt1cEV2ZW50cykge1xuICAgIENvcmVbZXZlbnRUeXBlXSA9IE1hcmt1cEV2ZW50c1tldmVudFR5cGVdO1xufVxuXG4vLyBNZXJnZSBTdHlsZVV0aWxzIHdpdGggdXRpbHMgKGJlY2F1c2UgdGhvc2UgbWV0aG9kcyB1c2VkIHRvIGxpdmUgaW4gVXRpbHMpXG5mb3IgKHZhciB0aGluZyBpbiBTdHlsZVV0aWxzKSB7XG4gICAgaWYgKHRoaW5nIGluIENvcmUuVXRpbHMpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgUHJvcGVydHkgJHt0aGluZ30gZnJvbSBTdHlsZVV0aWxzIGFscmVhZHkgcHJlc2VudCBpbiBNYXJrdXBzQ29yZVV0aWxzLmApO1xuXG4gICAgQ29yZS5VdGlsc1t0aGluZ10gPSBTdHlsZVV0aWxzW3RoaW5nXTtcbn1cblxuXG5leHBvcnQgY29uc3QgR3VpID0ge1xuICAgIE1hcmt1cHNHdWlcbn07XG5cblxuLy8gQWxzbyBtYXAgYmFjayB0byBsZWdhY3kgbmFtZXNwYWNlXG5BdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3VwcyA9IHtcbiAgICBDb3JlXG59O1xuIl0sIm5hbWVzIjpbIk1hcmt1cHNDb3JlIiwiTWFya3Vwc0d1aSIsIkNsaXBib2FyZCIsIkNsb25lTWFya3VwIiwiQ3JlYXRlQXJyb3ciLCJDcmVhdGVDYWxsb3V0IiwiQ3JlYXRlQ2lyY2xlIiwiQ3JlYXRlQ2xvdWQiLCJDcmVhdGVEaW1lbnNpb24iLCJDcmVhdGVGcmVlaGFuZCIsIkNyZWF0ZUhpZ2hsaWdodCIsIkNyZWF0ZVBvbHljbG91ZCIsIkNyZWF0ZVBvbHlsaW5lIiwiQ3JlYXRlUmVjdGFuZ2xlIiwiQ3JlYXRlVGV4dCIsIkRlbGV0ZUFycm93IiwiRGVsZXRlQ2FsbG91dCIsIkRlbGV0ZUNpcmNsZSIsIkRlbGV0ZUNsb3VkIiwiRGVsZXRlU3RhbXAiLCJEZWxldGVEaW1lbnNpb24iLCJEZWxldGVGcmVlaGFuZCIsIkRlbGV0ZUhpZ2hsaWdodCIsIkRlbGV0ZVBvbHljbG91ZCIsIkRlbGV0ZVBvbHlsaW5lIiwiRGVsZXRlUmVjdGFuZ2xlIiwiRGVsZXRlVGV4dCIsIkVkaXRBY3Rpb24iLCJFZGl0QWN0aW9uR3JvdXAiLCJFZGl0QWN0aW9uTWFuYWdlciIsIkVkaXRGcmFtZSIsIkVkaXRNb2RlIiwiRWRpdE1vZGVBcnJvdyIsIkVkaXRNb2RlQ2FsbG91dCIsIkVkaXRNb2RlQ2lyY2xlIiwiRWRpdE1vZGVDbG91ZCIsIkVkaXRNb2RlU3RhbXAiLCJFZGl0TW9kZURpbWVuc2lvbiIsIkVkaXRNb2RlRnJlZWhhbmQiLCJFZGl0TW9kZUhpZ2hsaWdodCIsIkVkaXRNb2RlUGVuIiwiRWRpdE1vZGVQb2x5Y2xvdWQiLCJFZGl0TW9kZVBvbHlsaW5lIiwiRWRpdE1vZGVSZWN0YW5nbGUiLCJFZGl0TW9kZVRleHQiLCJFZGl0b3JUZXh0SW5wdXQiLCJNYXJrdXAiLCJNYXJrdXBBcnJvdyIsIk1hcmt1cENhbGxvdXQiLCJNYXJrdXBDaXJjbGUiLCJNYXJrdXBDbG91ZCIsIk1hcmt1cERpbWVuc2lvbiIsIk1hcmt1cEZyZWVoYW5kIiwiTWFya3VwSGlnaGxpZ2h0IiwiTWFya3VwUGVuIiwiTWFya3VwUG9seWNsb3VkIiwiTWFya3VwUG9seWxpbmUiLCJNYXJrdXBSZWN0YW5nbGUiLCJNYXJrdXBUZXh0IiwiTWFya3VwU3RhbXAiLCJNYXJrdXBUb29sIiwiU2V0QXJyb3ciLCJTZXRDYWxsb3V0IiwiU2V0Q2lyY2xlIiwiU2V0Q2xvdWQiLCJTZXREaW1lbnNpb24iLCJTZXRGcmVlaGFuZCIsIlNldEhpZ2hsaWdodCIsIlNldFBvbHljbG91ZCIsIlNldFBvbHlsaW5lIiwiU2V0UG9zaXRpb24iLCJTZXRSZWN0YW5nbGUiLCJTZXRSb3RhdGlvbiIsIlNldFNpemUiLCJTZXRTdHlsZSIsIlNldFRleHQiLCJTZXRTdGFtcCIsIk1hcmt1cEV2ZW50cyIsIk1hcmt1cFR5cGVzIiwiVXRpbHMiLCJTdHlsZVV0aWxzIiwidGhlRWRpdE1vZGVNYW5hZ2VyIiwiQ29yZSIsIm1hcmt1cFR5cGUiLCJldmVudFR5cGUiLCJ0aGluZyIsIkVycm9yIiwiR3VpIiwiQXV0b2Rlc2siLCJWaWV3aW5nIiwiRXh0ZW5zaW9ucyIsIk1hcmt1cHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/Markup.js\n");

/***/ }),

/***/ "./extensions/Markup/core/DomElementStyle.js":
/*!***************************************************!*\
  !*** ./extensions/Markup/core/DomElementStyle.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DomElementStyle: () => (/* binding */ DomElementStyle)\n/* harmony export */ });\n\n\n/**\n * Curring object which generate a string that can be used\n * as a Dom element's 'style' value.\n *\n * @constructor\n */\nfunction DomElementStyle() {\n\n  this.reset();\n}\n\n/*\n * Constants\n */\nvar BROWSER_PREFIXES = ['-ms-', '-webkit-', '-moz-', '-o-'];\n\nvar proto = DomElementStyle.prototype;\n\nproto.reset = function () {\n\n  this.attributes = {};\n  this.dirty = false;\n  this.styleString = '';\n\n  return this;\n};\n\n/**\n *\n * @param {String} key\n * @param {*} value\n * @param {Object} [options]\n * @param {Boolean} [options.allBrowsers] - Whether to add browser prefix to key\n * @returns {Autodesk.Viewing.Extensions.Markups.Core.Utils.DomeElemStyle}\n */\nproto.setAttribute = function (key, value, options) {\n\n  this.attributes[key] = value;\n\n  if (options && options.allBrowsers) {\n    var that = this;\n    BROWSER_PREFIXES.forEach(function (prefix) {\n      that.attributes[prefix + key] = value;\n    });\n  }\n  this.dirty = true; // Could be optimized\n  return this;\n};\n\n/**\n * Removes one or more attributes\n * @param {String|Array} key - Key or Keys to be removed\n * @returns {Autodesk.Viewing.Extensions.Markups.Core.Utils.DomElemStyle} this\n */\nproto.removeAttribute = function (key) {\n\n  if (!Array.isArray(key)) {\n    key = [key];\n  }\n\n  var self = this;\n  key.forEach(function (k) {\n    if (k in self.attributes) {\n      delete self.attributes[k];\n      self.dirty = true;\n    }\n  });\n  return this;\n};\n\n/**\n * Gets the String representation of this style object\n * @returns {string}\n */\nproto.getStyleString = function () {\n\n  if (this.dirty) {\n    this.styleString = generateStyle(this.attributes);\n    this.dirty = false;\n  }\n  return this.styleString;\n};\n\n/**\n * Clones the current Object\n *\n * @returns {Autodesk.Viewing.Extensions.Markups.Core.Utils.DomElemStyle}\n */\nproto.clone = function () {\n\n  var clone = new DomElementStyle();\n  var attributes = this.attributes;\n\n  for (var key in attributes) {\n    clone.setAttribute(key, attributes[key]);\n  }\n  return clone;\n};\n\n/**\n * Generates the style value string. Non mutable function.\n *\n * @param {Object} attributes\n * @private\n */\nfunction generateStyle(attributes) {\n\n  var elements = [];\n  for (var key in attributes) {\n    var val = attributes[key];\n    elements.push(key);\n    elements.push(':');\n    elements.push(val);\n    elements.push('; ');\n  }\n  return elements.join('');\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL0RvbUVsZW1lbnRTdHlsZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQWE7O0FBRVQ7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ1csU0FBU0EsZUFBZUEsQ0FBQSxFQUFHOztFQUU5QixJQUFJLENBQUNDLEtBQUssQ0FBQyxDQUFDO0FBQ2hCOztBQUVBO0FBQ0o7QUFDQTtBQUNJLElBQUlDLGdCQUFnQixHQUFHLENBQUMsTUFBTSxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDOztBQUUzRCxJQUFJQyxLQUFLLEdBQUdILGVBQWUsQ0FBQ0ksU0FBUzs7QUFFckNELEtBQUssQ0FBQ0YsS0FBSyxHQUFHLFlBQVc7O0VBRXJCLElBQUksQ0FBQ0ksVUFBVSxHQUFHLENBQUMsQ0FBQztFQUNwQixJQUFJLENBQUNDLEtBQUssR0FBRyxLQUFLO0VBQ2xCLElBQUksQ0FBQ0MsV0FBVyxHQUFHLEVBQUU7O0VBRXJCLE9BQU8sSUFBSTtBQUNmLENBQUM7O0FBRUQ7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNJSixLQUFLLENBQUNLLFlBQVksR0FBRyxVQUFTQyxHQUFHLEVBQUVDLEtBQUssRUFBRUMsT0FBTyxFQUFFOztFQUUvQyxJQUFJLENBQUNOLFVBQVUsQ0FBQ0ksR0FBRyxDQUFDLEdBQUdDLEtBQUs7O0VBRTVCLElBQUlDLE9BQU8sSUFBSUEsT0FBTyxDQUFDQyxXQUFXLEVBQUU7SUFDaEMsSUFBSUMsSUFBSSxHQUFHLElBQUk7SUFDZlgsZ0JBQWdCLENBQUNZLE9BQU8sQ0FBQyxVQUFTQyxNQUFNLEVBQUM7TUFDckNGLElBQUksQ0FBQ1IsVUFBVSxDQUFFVSxNQUFNLEdBQUNOLEdBQUcsQ0FBRSxHQUFHQyxLQUFLO0lBQ3pDLENBQUMsQ0FBQztFQUNOO0VBQ0EsSUFBSSxDQUFDSixLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUM7RUFDbkIsT0FBTyxJQUFJO0FBQ2YsQ0FBQzs7QUFFRDtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0lILEtBQUssQ0FBQ2EsZUFBZSxHQUFHLFVBQVNQLEdBQUcsRUFBRTs7RUFFbEMsSUFBSSxDQUFDUSxLQUFLLENBQUNDLE9BQU8sQ0FBQ1QsR0FBRyxDQUFDLEVBQUU7SUFDckJBLEdBQUcsR0FBRyxDQUFDQSxHQUFHLENBQUM7RUFDZjs7RUFFQSxJQUFJVSxJQUFJLEdBQUcsSUFBSTtFQUNmVixHQUFHLENBQUNLLE9BQU8sQ0FBQyxVQUFTTSxDQUFDLEVBQUU7SUFDcEIsSUFBSUEsQ0FBQyxJQUFJRCxJQUFJLENBQUNkLFVBQVUsRUFBRTtNQUN0QixPQUFPYyxJQUFJLENBQUNkLFVBQVUsQ0FBQ2UsQ0FBQyxDQUFDO01BQ3pCRCxJQUFJLENBQUNiLEtBQUssR0FBRyxJQUFJO0lBQ3JCO0VBQ0osQ0FBQyxDQUFDO0VBQ0YsT0FBTyxJQUFJO0FBQ2YsQ0FBQzs7QUFFRDtBQUNKO0FBQ0E7QUFDQTtBQUNJSCxLQUFLLENBQUNrQixjQUFjLEdBQUcsWUFBVzs7RUFFOUIsSUFBSSxJQUFJLENBQUNmLEtBQUssRUFBRTtJQUNaLElBQUksQ0FBQ0MsV0FBVyxHQUFHZSxhQUFhLENBQUMsSUFBSSxDQUFDakIsVUFBVSxDQUFDO0lBQ2pELElBQUksQ0FBQ0MsS0FBSyxHQUFHLEtBQUs7RUFDdEI7RUFDQSxPQUFPLElBQUksQ0FBQ0MsV0FBVztBQUMzQixDQUFDOztBQUVEO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDSUosS0FBSyxDQUFDb0IsS0FBSyxHQUFHLFlBQVc7O0VBRXJCLElBQUlBLEtBQUssR0FBRyxJQUFJdkIsZUFBZSxDQUFDLENBQUM7RUFDakMsSUFBSUssVUFBVSxHQUFHLElBQUksQ0FBQ0EsVUFBVTs7RUFFaEMsS0FBSyxJQUFJSSxHQUFHLElBQUlKLFVBQVUsRUFBRTtJQUN4QmtCLEtBQUssQ0FBQ2YsWUFBWSxDQUFDQyxHQUFHLEVBQUVKLFVBQVUsQ0FBQ0ksR0FBRyxDQUFDLENBQUM7RUFDNUM7RUFDQSxPQUFPYyxLQUFLO0FBQ2hCLENBQUM7O0FBRUQ7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0ksU0FBU0QsYUFBYUEsQ0FBQ2pCLFVBQVUsRUFBRTs7RUFFL0IsSUFBSW1CLFFBQVEsR0FBRyxFQUFFO0VBQ2pCLEtBQUssSUFBSWYsR0FBRyxJQUFJSixVQUFVLEVBQUU7SUFDeEIsSUFBSW9CLEdBQUcsR0FBR3BCLFVBQVUsQ0FBQ0ksR0FBRyxDQUFDO0lBQ3pCZSxRQUFRLENBQUNFLElBQUksQ0FBQ2pCLEdBQUcsQ0FBQztJQUNsQmUsUUFBUSxDQUFDRSxJQUFJLENBQUMsR0FBRyxDQUFDO0lBQ2xCRixRQUFRLENBQUNFLElBQUksQ0FBQ0QsR0FBRyxDQUFDO0lBQ2xCRCxRQUFRLENBQUNFLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDdkI7RUFDQSxPQUFPRixRQUFRLENBQUNHLElBQUksQ0FBQyxFQUFFLENBQUM7QUFDNUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9Eb21FbGVtZW50U3R5bGUuanM/ODFiNiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBDdXJyaW5nIG9iamVjdCB3aGljaCBnZW5lcmF0ZSBhIHN0cmluZyB0aGF0IGNhbiBiZSB1c2VkXG4gICAgICogYXMgYSBEb20gZWxlbWVudCdzICdzdHlsZScgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gRG9tRWxlbWVudFN0eWxlKCkge1xuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIENvbnN0YW50c1xuICAgICAqL1xuICAgIHZhciBCUk9XU0VSX1BSRUZJWEVTID0gWyctbXMtJywgJy13ZWJraXQtJywgJy1tb3otJywgJy1vLSddO1xuXG4gICAgdmFyIHByb3RvID0gRG9tRWxlbWVudFN0eWxlLnByb3RvdHlwZTtcblxuICAgIHByb3RvLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0ge307XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdHlsZVN0cmluZyA9ICcnO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuYWxsQnJvd3NlcnNdIC0gV2hldGhlciB0byBhZGQgYnJvd3NlciBwcmVmaXggdG8ga2V5XG4gICAgICogQHJldHVybnMge0F1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzLkNvcmUuVXRpbHMuRG9tZUVsZW1TdHlsZX1cbiAgICAgKi9cbiAgICBwcm90by5zZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbihrZXksIHZhbHVlLCBvcHRpb25zKSB7XG5cbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzW2tleV0gPSB2YWx1ZTtcblxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmFsbEJyb3dzZXJzKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICBCUk9XU0VSX1BSRUZJWEVTLmZvckVhY2goZnVuY3Rpb24ocHJlZml4KXtcbiAgICAgICAgICAgICAgICB0aGF0LmF0dHJpYnV0ZXNbKHByZWZpeCtrZXkpXSA9IHZhbHVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7IC8vIENvdWxkIGJlIG9wdGltaXplZFxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBvbmUgb3IgbW9yZSBhdHRyaWJ1dGVzXG4gICAgICogQHBhcmFtIHtTdHJpbmd8QXJyYXl9IGtleSAtIEtleSBvciBLZXlzIHRvIGJlIHJlbW92ZWRcbiAgICAgKiBAcmV0dXJucyB7QXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZS5VdGlscy5Eb21FbGVtU3R5bGV9IHRoaXNcbiAgICAgKi9cbiAgICBwcm90by5yZW1vdmVBdHRyaWJ1dGUgPSBmdW5jdGlvbihrZXkpIHtcblxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoa2V5KSkge1xuICAgICAgICAgICAga2V5ID0gW2tleV07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGtleS5mb3JFYWNoKGZ1bmN0aW9uKGspIHtcbiAgICAgICAgICAgIGlmIChrIGluIHNlbGYuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBzZWxmLmF0dHJpYnV0ZXNba107XG4gICAgICAgICAgICAgICAgc2VsZi5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgU3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgc3R5bGUgb2JqZWN0XG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBwcm90by5nZXRTdHlsZVN0cmluZyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLnN0eWxlU3RyaW5nID0gZ2VuZXJhdGVTdHlsZSh0aGlzLmF0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlU3RyaW5nO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIGN1cnJlbnQgT2JqZWN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7QXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZS5VdGlscy5Eb21FbGVtU3R5bGV9XG4gICAgICovXG4gICAgcHJvdG8uY2xvbmUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgY2xvbmUgPSBuZXcgRG9tRWxlbWVudFN0eWxlKCk7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVzID0gdGhpcy5hdHRyaWJ1dGVzO1xuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBjbG9uZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHRoZSBzdHlsZSB2YWx1ZSBzdHJpbmcuIE5vbiBtdXRhYmxlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGF0dHJpYnV0ZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdlbmVyYXRlU3R5bGUoYXR0cmlidXRlcykge1xuXG4gICAgICAgIHZhciBlbGVtZW50cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gYXR0cmlidXRlcykge1xuICAgICAgICAgICAgdmFyIHZhbCA9IGF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgICAgIGVsZW1lbnRzLnB1c2goa2V5KTtcbiAgICAgICAgICAgIGVsZW1lbnRzLnB1c2goJzonKTtcbiAgICAgICAgICAgIGVsZW1lbnRzLnB1c2godmFsKTtcbiAgICAgICAgICAgIGVsZW1lbnRzLnB1c2goJzsgJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzLmpvaW4oJycpO1xuICAgIH1cbiJdLCJuYW1lcyI6WyJEb21FbGVtZW50U3R5bGUiLCJyZXNldCIsIkJST1dTRVJfUFJFRklYRVMiLCJwcm90byIsInByb3RvdHlwZSIsImF0dHJpYnV0ZXMiLCJkaXJ0eSIsInN0eWxlU3RyaW5nIiwic2V0QXR0cmlidXRlIiwia2V5IiwidmFsdWUiLCJvcHRpb25zIiwiYWxsQnJvd3NlcnMiLCJ0aGF0IiwiZm9yRWFjaCIsInByZWZpeCIsInJlbW92ZUF0dHJpYnV0ZSIsIkFycmF5IiwiaXNBcnJheSIsInNlbGYiLCJrIiwiZ2V0U3R5bGVTdHJpbmciLCJnZW5lcmF0ZVN0eWxlIiwiY2xvbmUiLCJlbGVtZW50cyIsInZhbCIsInB1c2giLCJqb2luIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/DomElementStyle.js\n");

/***/ }),

/***/ "./extensions/Markup/core/EditFrame.js":
/*!*********************************************!*\
  !*** ./extensions/Markup/core/EditFrame.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditFrame: () => (/* binding */ EditFrame)\n/* harmony export */ });\n/* harmony import */ var _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MarkupsCoreUtils */ \"./extensions/Markup/core/MarkupsCoreUtils.js\");\n/* harmony import */ var _MarkupEvents__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupEvents */ \"./extensions/Markup/core/MarkupEvents.js\");\n/* harmony import */ var _edit_actions_CloneMarkup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./edit-actions/CloneMarkup */ \"./extensions/Markup/core/edit-actions/CloneMarkup.js\");\n/* harmony import */ var _edit_actions_SetPosition__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./edit-actions/SetPosition */ \"./extensions/Markup/core/edit-actions/SetPosition.js\");\n/* harmony import */ var _edit_actions_SetSize__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./edit-actions/SetSize */ \"./extensions/Markup/core/edit-actions/SetSize.js\");\n/* harmony import */ var _edit_actions_SetRotation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./edit-actions/SetRotation */ \"./extensions/Markup/core/edit-actions/SetRotation.js\");\n\n\n\n\n\n\n\n\n\nvar av = Autodesk.Viewing;\nvar avp = Autodesk.Viewing.Private;\n\n/**\n * A component to handle the selection of markups.\n *\n *\n *      Sample\n *\n *      var containingDiv = document.getElementById('containingDiv3d-app-wrapper');\n *      var selectionComponent = new EditFrame(containingDiv);\n *      selectionComponent.setSelection(100, 100, 300, 150, 0);\n *\n * @param {HTMLElement} containingDiv The container where the selection layer will live.\n * @param {Object} editor\n * @constructor\n */\nfunction EditFrame(containingDiv, editor) {\n\n  this.containingDiv = containingDiv;\n  this.editor = editor;\n  this.setGlobalManager(this.editor.viewer.globalManager);\n  this.selectionLayer = createSelectionLayer.bind(this)();\n\n  this.frameMargin = _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_0__.EDIT_FRAME_DEFAULT_MARGIN;\n\n  this.selection = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n    rotation: 0,\n    element: null,\n    active: false,\n    dragging: false,\n    resizing: false,\n    //a dictionary of all the drag points\n    //the key for each drag point will be its cardinal/ordinal direction\n    handle: {}\n  };\n\n  createSelectorBox.bind(this)();\n\n  if ((0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_0__.isTouchDevice)()) {\n    this.hammer = new av.Hammer.Manager(this.selectionLayer, {\n      recognizers: [\n      av.GestureRecognizers.drag,\n      av.GestureRecognizers.doubletap,\n      av.GestureRecognizers.doubletap2,\n      av.GestureRecognizers.pan,\n      av.GestureRecognizers.pinch],\n\n      handlePointerEventMouse: false,\n      inputClass: av.Hammer.TouchInput\n    });\n\n    this.onHammerDragBinded = this.onHammerDrag.bind(this);\n    this.onHammerDoubleTapBinded = this.onHammerDoubleTap.bind(this);\n    this.onTouchPanBinded = this.onTouchPan.bind(this);\n    this.onTouchPinchBinded = this.onTouchPinch.bind(this);\n\n    this.hammer.on(\"dragstart dragmove dragend\", this.onHammerDragBinded);\n    this.hammer.on(\"doubletap\", this.onHammerDoubleTapBinded);\n    this.hammer.on(\"doubletap2\", this.onHammerDoubleTapBinded);\n    this.hammer.on(\"panstart panmove panend\", this.onTouchPanBinded);\n    this.hammer.on(\"pinchstart pinchmove pinchend\", this.onTouchPinchBinded);\n\n    this.hammer.get('drag').requireFailure('pinch');\n    this.hammer.get('drag').requireFailure('pan');\n  }\n\n  handleSelectionBoxDragging.bind(this)();\n  handleSelectionBoxResizing.bind(this)();\n  handleSelectionDoubleClick.bind(this)();\n  handleSelectionBoxRotating.bind(this)();\n\n  //add the selection into the container given to us\n  this.containingDiv.appendChild(this.selectionLayer);\n\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_0__.addTraitEventDispatcher)(this);\n}\n\nav.GlobalManagerMixin.call(EditFrame.prototype);\nvar proto = EditFrame.prototype;\n\nproto.unload = function () {\n\n  this.containingDiv.removeChild(this.selectionLayer);\n  this.selectionLayer = null;\n};\n/**\n * Draws a selection box with the given attributes\n *\n * @param {number} x - The x coordinate to place the selection box\n * @param {number} y - The y coordinate to place the selection box\n * @param {number} width - The width of the selection box\n * @param {number} height - The height of the selection box\n * @param {number} rotation - The amount of degrees to rotate the selection box\n */\nproto.setSelection = function (x, y, width, height, rotation) {\n\n  var margin = this.frameMargin;\n  var doubleMargin = margin * 2;\n\n  updateSelectorBoxDimensions.bind(this)(width + doubleMargin, height + doubleMargin);\n  updateSelectorBoxPosition.bind(this)(x - margin, y - margin, rotation);\n  updateSelectionBoxState.bind(this)(true); //activate the selection box\n  this.selectionLayer.style.visibility = 'visible';\n};\n\n/**\n * Displays the selection box based on the position, dimension, and rotation of a given markup\n *\n * @param {Autodesk.Viewing.Extensions.Markups.Core.Markup} markup - the markup that should appear as selected\n */\nproto.setMarkup = function (markup) {\n\n  this.hammer && this.hammer.set({ enable: markup !== null });\n  this.markup = markup;\n\n  updateSelectionBoxState.bind(this)(false);\n\n  if (markup) {\n    var boundingBox = markup.getBoundingRect();\n    var rotation = markup.getRotation();\n    this.frameMargin = boundingBox.margin !== undefined ? boundingBox.margin : _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_0__.EDIT_FRAME_DEFAULT_MARGIN;\n\n    this.setSelection(boundingBox.x, boundingBox.y, boundingBox.width, boundingBox.height, rotation);\n\n    this.enableResizeHandles();\n    this.enableRotationHandle();\n\n    if (markup.preventReposition) {\n      this.selectionLayer.firstChild.style.cursor = '';\n    } else\n    {\n      this.selectionLayer.firstChild.style.cursor = 'move';\n    }\n  }\n};\n\nproto.startDrag = function (event) {\n\n  if (this.markup && this.markup.preventReposition) return;\n\n  this.onMouseMove = this._onRepositionMouseMove.bind(this);\n  this.onMouseUp = this._onRepositionMouseUp.bind(this);\n  this._onRepositionMouseDown(event, this.editor.getMousePosition());\n};\n\nproto.isActive = function () {\n  return this.selection.active;\n};\n\nproto.isDragging = function () {\n\n  return this.selection.dragging;\n};\n\nproto.isResizing = function () {\n\n  return this.selection.resizing;\n};\n\nproto.isRotating = function () {\n\n  return this.selection.rotating;\n};\n\nproto.onMouseMove = function (event) {\n\n\n  //dummy fn\n};\nproto.onMouseUp = function (event) {\n\n  //dummy fn\n};\nproto.onWheel = function (event) {\n  this.editor.viewer.toolController.mousewheel(event);\n};\n\nproto.onTouchPan = function (event) {\n  var gestureHandler = this.editor.viewer.toolController.getTool(\"gestures\");\n  gestureHandler.distributeGesture(event);\n  event.preventDefault();\n};\n\nproto.onTouchPinch = function (event) {\n  var gestureHandler = this.editor.viewer.toolController.getTool(\"gestures\");\n  gestureHandler.distributeGesture(event);\n  event.preventDefault();\n};\n\nproto.onHammerDrag = function (event) {\n\n  function updateEditorInput(input, parent, event) {\n\n    //TODO: Change this when refactoring input in edit frame.\n    var rect = parent.getBoundingClientRect();\n    input.mousePosition.x = event.pageX - rect.left;\n    input.mousePosition.y = event.pageY - rect.top;\n  }\n\n  //console.log('EditFrame drag ' + event.type);\n  convertEventHammerToMouse(event);\n  switch (event.type) {\n    case 'dragstart':\n      updateEditorInput(this.editor.input, this.editor.svg, event);\n      this.editor.callSnapperMouseDown();\n      // Check whether to translate, rotate or resize\n      if (isRotatePoint(event.target)) {\n        // Rotate\n        this._onRotationMouseDown(event);\n      } else if (isDragPoint(event.target)) {\n        // Resize\n        this._onResizeMouseDown(event);\n      } else {\n        this.startDrag(event);\n      }\n      event.preventDefault();\n      break;\n    case 'dragmove':\n      updateEditorInput(this.editor.input, this.editor.svg, event);\n      this.editor.callSnapperMouseMove();\n      this.onMouseMove(event);\n      event.preventDefault();\n      break;\n    case 'dragend':\n      updateEditorInput(this.editor.input, this.editor.svg, event);\n      this.onMouseUp(event);\n      event.preventDefault();\n      break;\n  }\n};\n\nproto.onHammerDoubleTap = function (event) {\n\n  function updateEditorInput(input, parent, event) {\n\n    //TODO: Change this when refactoring input in edit frame.\n    var rect = parent.getBoundingClientRect();\n    input.mousePosition.x = event.pageX - rect.left;\n    input.mousePosition.y = event.pageY - rect.top;\n  }\n\n  convertEventHammerToMouse(event);\n  updateEditorInput(this.editor.input, this.editor.svg, event);\n\n  this.selection.dragging = false;\n  this.editor.editMode && this.editor.editMode.onMouseDoubleClick(this.markup);\n};\n\nproto.enableResizeHandles = function () {\n\n  var markup = this.markup;\n  var handle;\n\n  if (markup.isHeightConstrained() || markup.isWidthConstrained()) {\n    //hide all the handles\n    for (var direction in this.selection.handle) {\n      handle = this.selection.handle[direction];\n      if (handle) handle.style.display = 'none';\n    }\n\n    //show only the resize points that are allowed\n    if (!markup.isHeightConstrained()) {\n      this.selection.handle['n'].style.display = 'block';\n      this.selection.handle['s'].style.display = 'block';\n    }\n    if (!markup.isWidthConstrained()) {\n      this.selection.handle['w'].style.display = 'block';\n      this.selection.handle['e'].style.display = 'block';\n    }\n  } else {\n    //no constraints, show all resize handles\n    for (let direction in this.selection.handle) {\n      handle = this.selection.handle[direction];\n      if (handle) handle.style.display = 'block';\n    }\n  }\n};\n\nproto.enableRotationHandle = function () {\n\n  var markup = this.markup;\n  var display = markup.isRotationConstrained() ? 'none' : 'block';\n  this.selection.rotationHandle.style.display = display;\n  this.selection.rotationBridge.style.display = display;\n};\n\nfunction convertEventHammerToMouse(event) {\n  // Convert Hammer touch-event X,Y into mouse-event X,Y.\n  event.pageX = event.pointers[0].clientX;\n  event.pageY = event.pointers[0].clientY;\n}\n\n/**\n * Creates an element spanning the full height and width of its parent.\n * It serves as our surface to draw the selection box.\n *\n * @return {HTMLElement}\n */\nfunction createSelectionLayer() {\n\n  const _document = this.getDocument();\n  var selectionLayer = _document.createElement('div');\n  selectionLayer.style.position = 'absolute';\n  selectionLayer.style.top = 0;\n  selectionLayer.style.bottom = 0;\n  selectionLayer.style.left = 0;\n  selectionLayer.style.right = 0;\n  //don't let the selection box be visible outside the selection layer\n  selectionLayer.style.overflow = 'hidden';\n  selectionLayer.style.visibility = 'hidden';\n  togglePointerEvents(selectionLayer, false);\n  return selectionLayer;\n}\n\n/**\n * Creates a single drag point with the corresponding styles\n *\n * @param {number} diameter - The size of the drag point\n * @param {string} position - The cardinal(n, s, w, e) or ordinal(nw, nw, sw, se) direction of the point\n * @return {HTMLElement}\n */\nfunction createDragPoint(position) {\n\n  const _document = this.getDocument();\n  var point = _document.createElement('div');\n\n  setResizeCursor(point, position);\n  point.className = 'selector-drag-point autodesk-markups-extension-core-make-me-bigger sdp-handle-' + position;\n  point.classList.add('adsk-viewing-viewer');\n  point.setAttribute('data-sdp-handle', position);\n\n  return point;\n}\n\nfunction createRotatePoint() {\n  const _document = this.getDocument();\n  var point = _document.createElement('div');\n  point.classList.add('adsk-viewing-viewer');\n  point.classList.add('selector-rotate-point');\n  point.classList.add('autodesk-markups-extension-core-make-me-bigger');\n  setResizeCursor(point, 'w');\n\n  return point;\n}\n\nfunction createRotationBridge() {\n  const _document = this.getDocument();\n  var rotationBridge = _document.createElement('div');\n  rotationBridge.classList.add('adsk-viewing-viewer');\n  rotationBridge.classList.add('selector-rotate-point');\n  rotationBridge.classList.add('autodesk-markups-extension-core-make-me-bigger');\n  rotationBridge.classList.add('rotation-bridge');\n  setResizeCursor(rotationBridge, 'w');\n\n  return rotationBridge;\n}\n\nfunction setResizeCursor(element, direction) {\n\n  var cursor;\n  switch (direction) {\n    case 'n':\n    case 's':\n      cursor = 'ns-resize';\n      break;\n    case 'w':\n    case 'e':\n      cursor = 'ew-resize';\n      break;\n    case 'ne':\n    case 'sw':\n      cursor = 'nesw-resize';\n      break;\n    case 'nw':\n    case 'se':\n      cursor = 'nwse-resize';\n      break;\n  }\n  element.style.cursor = cursor;\n}\n\n/**\n * Creates the 8 drag points of the selection box.\n *\n * @this EditFrame\n */\nfunction createDragPoints(selector) {\n\n  ['n', 's', 'w', 'e', 'nw', 'ne', 'sw', 'se'].forEach(function (direction) {\n    //store the drag point and put it in the DOM\n    this.selection.handle[direction] = createDragPoint.call(this, direction);\n    selector.appendChild(this.selection.handle[direction]);\n  }.bind(this));\n}\n\n/**\n * Determines if an element is a drag point\n *\n * @return {boolean}\n */\nfunction isDragPoint(element) {\n\n  return matchesSelectorAux(element, '.selector-drag-point');\n}\n\n/**\n * Determines if an element is a rotate point\n *\n * @return {boolean}\n */\nfunction isRotatePoint(element) {\n\n  return matchesSelectorAux(element, '.selector-rotate-point');\n}\n\n/**\n * Creates the element that will be used as the selection box. It also\n * takes care of adding the drag handles\n *\n * @return {HTMLElement} - the selection box\n * @this EditFrame\n */\nfunction createSelectorBox() {\n\n  const _document = this.getDocument();\n  var selectorBox = _document.createElement('div');\n  togglePointerEvents(selectorBox, true);\n  selectorBox.classList.add('selector-box');\n\n  this.selection.rotationBridge = createRotationBridge.bind(this)();\n  selectorBox.appendChild(this.selection.rotationBridge);\n\n  this.selection.rotationHandle = createRotatePoint.bind(this)();\n  selectorBox.appendChild(this.selection.rotationHandle);\n\n  createDragPoints.bind(this)(selectorBox);\n\n  //store the selector box\n  this.selection.element = selectorBox;\n\n  if (!av.isMobileDevice()) {\n    this.onWheelBinded = this.onWheel.bind(this);\n    this.selection.element.addEventListener('wheel', this.onWheelBinded);\n    this.selection.element.addEventListener('DOMMouseScroll', this.onWheelBinded); // firefox\n  }\n\n  //add the selection box to the selection layer\n  this.selectionLayer.appendChild(this.selection.element);\n\n  //we are just creating the box, start it out hidden\n  updateSelectionBoxState.bind(this)(false);\n\n  return selectorBox;\n}\n\n/**\n * Utility to create the CSS translate3d value from a given 2d point\n *\n * @param {number} x - coordinate\n * @param {number} y - coordinate\n * @return {string}\n */\nfunction toTranslate3d(x, y) {\n\n  return 'translate3d(' + x + 'px,' + y + 'px,0)';\n}\n\n\n/**\n * Updates the display state of the selection box\n *\n * @param {boolean} active - The new state of the the selection box\n * @this EditFrame\n */\nfunction updateSelectionBoxState(active) {\n\n  this.selection.active = active;\n  this.selection.element.style.display = active ? 'block' : 'none';\n}\n\n/**\n * Updates the position and rotation of the selection box.\n *\n * @param {number} x - The x coordinate to place the selection box\n * @param {number} y - The y coordinate to place the selection box\n * @param {number} rotation - The amount of degrees to rotate the selection box\n * @this EditFrame\n */\nfunction updateSelectorBoxPosition(x, y, rotation) {\n\n  this.selection.x = x;\n  this.selection.y = y;\n  this.selection.rotation = rotation;\n  var size = this.markup.getBoundingRect();\n  //TODO: consider DomElementStyle\n\n  size.width += this.frameMargin * 2;\n  size.height += this.frameMargin * 2;\n\n  var transform = toTranslate3d(x, y) + ' rotate(' + rotation + 'rad)';\n  var transformOrigin = size.width / 2 + 'px ' + size.height / 2 + 'px';\n\n  this.selection.element.style.msTransform =\n  this.selection.element.style.webkitTransform =\n  this.selection.element.style.transform = transform;\n  this.selection.element.style.msTransformOrigin =\n  this.selection.element.style.webkitTransformOrigin =\n  this.selection.element.style.transformOrigin = transformOrigin;\n}\n\n/**\n * Updates the dimensions of the selection box (width and height).\n *\n * @param {number} width - The new width of the selection box\n * @param {number} height - The new height of the selection box\n * @this EditFrame\n */\nfunction updateSelectorBoxDimensions(width, height) {\n\n  this.selection.width = width;\n  this.selection.height = height;\n  this.selection.element.style.width = width + 'px';\n  this.selection.element.style.height = height + 'px';\n}\n\n/**\n * Attaches all the necessary listeners to handle a drag action.\n *\n * @this EditFrame\n */\nfunction handleSelectionBoxDragging() {\n\n  this.selection.element.addEventListener('mousedown', this._onRepositionMouseDown.bind(this));\n}\n\n/**\n * Handles panning when right clicking down\n * @param event\n * @returns {boolean} returns true if the event was handled\n * @private\n */\nproto._handleRightClickDown = function (event) {\n\n  if (!av.isMobileDevice() && (avp.isRightClick(event, this.editor.viewer.navigation) || avp.isMiddleClick(event))) {\n    this.editor.input.onMouseDownRightClick(event);\n    return true;\n  }\n\n  return false;\n};\n\nvar ignoreFirstMouseMove = false;\nproto._onRepositionMouseDown = function (event, cursor) {\n\n  if (this._handleRightClickDown(event))\n  return;\n\n  // Return for markups that are not allowed to be repositioned.\n  if (this.markup && this.markup.preventReposition) return;\n\n  // ignore the first mouse move for the Microsoft Surface\n  ignoreFirstMouseMove = !av.isMobileDevice() && av.isTouchDevice();\n  //a synthetic start means that the event was triggered manually and not as a\n  //result of a mousedown on the edit frame\n  const _window = this.getWindow();\n  var syntheticStart = !(event instanceof _window.MouseEvent);\n\n  //during a real mousedown, ignore events originating from a resizing handle\n  if (!syntheticStart && (isDragPoint(event.target) || isRotatePoint(event.target))) return;\n\n  //get the cursor position\n  cursor = syntheticStart ? cursor : this.editor.getMousePosition();\n\n  //store the initial cursor and axis constrains\n  this.initialCursor = cursor;\n  this.initialPosition = this.markup.getClientPosition();\n  this.areAxisConstrained = false;\n  this.axisConstrains = new THREE.Vector2(1, 1);\n\n  //update the function that will handle the mousemove and mouseup events\n  this.onMouseMove = this._onRepositionMouseMove.bind(this);\n  this.onMouseUp = this._onRepositionMouseUp.bind(this);\n\n  if (this.selection.dragging)\n  return;\n\n  this.selection.dragging = true;\n  this.editor.beginActionGroup();\n\n  //if alt down I drop a clone.\n  if (event && event.altKey) {\n    var editor = this.editor;\n    var cloneMarkup = new _edit_actions_CloneMarkup__WEBPACK_IMPORTED_MODULE_2__.CloneMarkup(editor, editor.getId(), this.markup, this.markup.position);\n    cloneMarkup.execute();\n  }\n\n  this.dispatchEvent({ type: _MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_EDITFRAME_EDITION_START }); // Moving around\n};\n\nproto._onRepositionMouseMove = function (event) {\n\n  // This check is needed for selecting markups on devices that have touch screen + mouse (eg: Microsoft Surface)\n  if (ignoreFirstMouseMove) {\n    ignoreFirstMouseMove = false;\n    return false;\n  }\n  //ignore mousemove events if the dragging state hasn't been activated\n  if (!this.selection.dragging || !this.markup || this.markup.preventReposition) return false;\n\n  //get the position of the cursor relative to selection layer\n  var cursor = this.editor.getMousePosition();\n\n  //constrain axis if shift key is down.\n  var constrainAxis = this.editor.input.constrainAxis;\n  if (this.areAxisConstrained !== constrainAxis) {\n    this.areAxisConstrained = constrainAxis;\n    this.axisConstrains = constrainAxis ? new THREE.Vector2(0, 0) : new THREE.Vector2(1, 1);\n\n    this.initialPosition.x += cursor.x - this.initialCursor.x;\n    this.initialPosition.y += cursor.y - this.initialCursor.y;\n\n    this.initialCursor.x = cursor.x;\n    this.initialCursor.y = cursor.y;\n  }\n\n  //determine how many pixel we have to shift the\n  //selection box to keep the cursor on the drag point\n  var movement = {\n    x: cursor.x - this.initialCursor.x,\n    y: cursor.y - this.initialCursor.y\n  };\n\n  var deadZone = 15;\n  if (this.axisConstrains.x === 0 && this.axisConstrains.y === 0) {\n\n    if (Math.abs(movement.x) > deadZone) {\n      this.axisConstrains.x = 1;\n      movement.x += movement.x < 0 ? deadZone : -deadZone;\n    } else\n    if (Math.abs(movement.y) > deadZone) {\n      this.axisConstrains.y = 1;\n      movement.y += movement.y < 0 ? deadZone : -deadZone;\n    }\n  }\n\n  var x = this.initialPosition.x + movement.x * this.axisConstrains.x;\n  var y = this.initialPosition.y + movement.y * this.axisConstrains.y;\n\n  updateSelectorBoxPosition.bind(this)(x, y, this.selection.rotation);\n\n  //tell the markup to start transforming\n  //the markup expects an (x, y) coordinate that\n  //uses an origin at the center, adjust our x, y because\n  //our origin starts at the top left\n  var position = this.editor.positionFromClientToMarkups(x, y);\n  var setPosition = new _edit_actions_SetPosition__WEBPACK_IMPORTED_MODULE_3__.SetPosition(this.editor, this.markup, position);\n  setPosition.execute();\n  return true;\n};\n\nproto._onRepositionMouseUp = function () {\n\n  if (this.markup && this.markup.preventReposition) return;\n\n  this.last = null;\n\n  //this should never be called after the mouse up because we are no longer repositioning\n  this.onMouseMove = function () {/*do nothing*/};\n  this.onMouseUp = function () {/*do nothing*/};\n\n  if (!this.selection.dragging) {\n    return;\n  }\n\n  this.editor.closeActionGroup();\n  this.selection.dragging = false;\n  this.dispatchEvent({ type: _MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_EDITFRAME_EDITION_END }); // Moving around\n};\n\nproto._onResizeMouseDown = function (event) {\n\n  if (this._handleRightClickDown(event))\n  return;\n\n  var target = event.target;\n\n  //is the target where the mousedown occurred a drag point\n  if (!isDragPoint(target)) {\n    return;\n  }\n\n  //keep a reference to the point where the drag started\n  this.selection.handle.resizing = target;\n  //figure out which direction this point should resize\n  var direction = this.selection.handle.resizing.getAttribute('data-sdp-handle');\n  //set the cursor position for the entire layer\n  this.containingDiv.style.cursor = direction + '-resize';\n\n  var cursor = this.editor.getMousePosition();\n\n  var position = this.markup.getClientPosition();\n  var size = this.markup.getBoundingRect();\n\n  //store the center\n  this.initial = {\n    x: position.x,\n    y: position.y,\n    width: size.width,\n    height: size.height,\n    mouseX: cursor.x,\n    mouseY: cursor.y\n  };\n\n  this.onMouseMove = this._onResizeMouseMove.bind(this);\n  this.onMouseUp = this._onResizeMouseUp.bind(this);\n\n  if (this.selection.resizing) {\n    return;\n  }\n\n  this.selection.resizing = true;\n  this.editor.beginActionGroup();\n\n  setHandleSelected(event.target, true);\n\n  //notify the markup that dragging has started\n  this.dispatchEvent({ type: _MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_EDITFRAME_EDITION_START }); // Resizing\n};\n\nproto._onResizeMouseMove = function (event) {\n\n  if (!this.selection.resizing) return false;\n\n  var cursor = this.editor.getMousePosition();\n  var initial = this.initial;\n\n  var movement = {\n    x: cursor.x - initial.mouseX,\n    y: cursor.y - initial.mouseY\n  };\n\n  // Skip resize if there is no movement\n  if (movement.x === 0 && movement.y === 0) return;\n\n  var vector = new THREE.Vector3(movement.x, movement.y, 0);\n  var undoRotation = new THREE.Matrix4().makeRotationZ(-this.selection.rotation);\n  movement = vector.applyMatrix4(undoRotation);\n\n  var x = initial.x,\n    y = initial.y,\n    width = initial.width,\n    height = initial.height;\n\n  var localSpaceDelta = new THREE.Vector3();\n\n  //get the direction of the arrow being dragged\n  var direction = this.selection.handle.resizing.getAttribute('data-sdp-handle');\n\n  // TODO: Make a mechanism to configure and use this feature from Markups Core.\n  // If shift is pressed, figure aspect ratio is maintained.\n  if (this.editor.input.keepAspectRatio && ['nw', 'ne', 'sw', 'se'].indexOf(direction) !== -1) {\n\n    var delta = new THREE.Vector3(movement.x, movement.y, 0);\n    switch (direction) {\n      case 'nw':movement.set(-initial.width, -initial.height, 0);break;\n      case 'ne':movement.set(initial.width, -initial.height, 0);break;\n      case 'sw':movement.set(initial.width, -initial.height, 0);break;\n      case 'se':movement.set(initial.width, initial.height, 0);break;\n    }\n    movement.normalize();\n    movement = delta.projectOnVector(movement);\n  }\n\n  var translations = {\n    n: function () {\n      height -= movement.y;\n      localSpaceDelta.y = movement.y;\n    },\n    s: function () {\n      height += movement.y;\n      localSpaceDelta.y = movement.y;\n    },\n    w: function () {\n      width -= movement.x;\n      localSpaceDelta.x = movement.x;\n    },\n    e: function () {\n      width += movement.x;\n      localSpaceDelta.x = movement.x;\n    },\n    nw: function () {\n      this.n();\n      this.w();\n    },\n    ne: function () {\n      this.n();\n      this.e();\n    },\n    sw: function () {\n      this.s();\n      this.w();\n    },\n    se: function () {\n      this.s();\n      this.e();\n    }\n  };\n\n  translations[direction]();\n\n  // Check if new size is smaller than min width or height\n  if (width <= this.markup.getMinWidth() || height <= this.markup.getMinHeight()) return;\n\n  var redoRotation = new THREE.Matrix4().makeRotationZ(this.selection.rotation);\n  var actualDelta = localSpaceDelta.applyMatrix4(redoRotation);\n\n  var newPos = this.editor.positionFromClientToMarkups(\n    x + actualDelta.x * 0.5,\n    y + actualDelta.y * 0.5);\n\n  var newSize = this.editor.sizeFromClientToMarkups(width, height);\n\n  var setSize = new _edit_actions_SetSize__WEBPACK_IMPORTED_MODULE_4__.SetSize(this.editor, this.markup, newPos, newSize.x, newSize.y);\n  setSize.execute();\n  return true;\n};\n\nfunction setHandleSelected(handle, isSelected) {\n  if (isSelected) {\n    handle.classList.add('selected');\n  } else {\n    handle.classList.remove('selected');\n  }\n}\n\nproto._onResizeMouseUp = function (event) {\n  this.selection.resizing = false;\n  this.selection.handle.resizing = null;\n  this.containingDiv.style.cursor = '';\n\n  for (var direction in this.selection.handle) {\n    if (this.selection.handle[direction]) {\n      setHandleSelected(this.selection.handle[direction], false);\n    }\n  }\n\n\n  this.editor.closeActionGroup();\n  this.dispatchEvent({ type: _MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_EDITFRAME_EDITION_END }); // Resizing\n\n  //this should never be called after the mouse up because we are no longer resizing\n  this.onMouseMove = function () {\n    /*do nothing*/};\n  this.onMouseUp = function () {\n    /*do nothing*/};\n};\n\n\n/**\n * Attaches all the necessary listeners to handle a resizing action.\n *\n * @this EditFrame\n */\nfunction handleSelectionBoxResizing() {\n  this.selectionLayer.addEventListener('mousedown', this._onResizeMouseDown.bind(this));\n}\n\nfunction handleSelectionBoxRotating() {\n\n  this.selection.element.addEventListener('mousedown', this._onRotationMouseDown.bind(this));\n}\n\nvar initialRotation;\nvar initialHandlePosition;\n\nproto._onRotationMouseDown = function (event) {\n\n  if (this._handleRightClickDown(event))\n  return;\n\n  //ignore anything not coming from the rotation point\n  if (!isRotatePoint(event.target)) return;\n\n  this.editor.beginActionGroup();\n  this.selection.rotating = true;\n\n  //store the initial cursor\n  initialHandlePosition = this.editor.getMousePosition();\n\n  initialRotation = this.selection.rotation || 0;\n\n  //update the function that will handle the mousemove and mouseup events\n  this.onMouseMove = this._onRotationMouseMove.bind(this);\n  this.onMouseUp = this._onRotationMouseUp.bind(this);\n\n  setHandleSelected(event.target, true);\n\n  this.dispatchEvent({ type: _MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_EDITFRAME_EDITION_START }); // Rotating\n};\n\nproto._onRotationMouseMove = function (event) {\n\n  //ignore mousemove events if the dragging state hasn't been activated\n  if (!this.selection.rotating) return false;\n\n  var cursor = this.editor.getMousePosition();\n  var position = this.markup.getClientPosition();\n\n  var r = getAngleBetweenPoints(position, cursor);\n  var r2 = getAngleBetweenPoints(position, initialHandlePosition);\n  var rotation = r - r2 + initialRotation;\n\n  // TODO: Make a mechanism to configure and use this feature from Markups Core.\n  if (this.editor.input.snapRotations) {\n    var snap = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_0__.degreesToRadians)(22.5);\n    rotation = Math.ceil(rotation / snap) * snap;\n  }\n\n  //pass rotation as degrees\n  updateSelectorBoxPosition.bind(this)(this.selection.x, this.selection.y, rotation);\n\n  //convert to radians\n  var setRotation = new _edit_actions_SetRotation__WEBPACK_IMPORTED_MODULE_5__.SetRotation(this.editor, this.markup, rotation);\n  setRotation.execute();\n  return true;\n};\n\nproto._onRotationMouseUp = function (event) {\n\n  this.selection.rotating = false;\n  initialRotation = null;\n  initialHandlePosition = null;\n  setHandleSelected(this.selection.rotationHandle, false);\n  this.editor.closeActionGroup();\n  this.dispatchEvent({ type: _MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_EDITFRAME_EDITION_END }); // Rotating\n};\n\n/**\n * Attaches double click listener and pass events to markup, markups such as text use it to enter text edit\n * mode.\n *\n * @this EditFrame\n */\nfunction handleSelectionDoubleClick() {\n\n  var doubleClick = function (event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n    this.selection.dragging = false;\n    var editMode = this.editor.editMode;\n    editMode && editMode.onMouseDoubleClick(this.markup);\n  }.bind(this);\n\n  var selectorBoxWrapper = this.selectionLayer;\n  selectorBoxWrapper.addEventListener('dblclick', doubleClick);\n}\n\nfunction togglePointerEvents(element, state) {\n\n  element.style.pointerEvents = state ? 'auto' : 'none';\n}\n\nfunction getAngleBetweenPoints(p1, p2) {\n\n  return Math.atan2(p2.y - p1.y, p2.x - p1.x);\n}\n\nfunction matchesSelectorAux(domElem, selector) {\n  if (domElem.matches) return domElem.matches(selector); //Un-prefixed\n  if (domElem.msMatchesSelector) return domElem.msMatchesSelector(selector); //IE\n  if (domElem.mozMatchesSelector) return domElem.mozMatchesSelector(selector); //Firefox (Gecko)\n  if (domElem.webkitMatchesSelector) return domElem.webkitMatchesSelector(selector); // Opera, Safari, Chrome\n  return false;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL0VkaXRGcmFtZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWE7O0FBR2lGO0FBQy9DO0FBQ1U7QUFDQTtBQUNSO0FBQ1E7O0FBRXBELElBQUlTLEVBQUUsR0FBR0MsUUFBUSxDQUFDQyxPQUFPO0FBQ3pCLElBQUlDLEdBQUcsR0FBR0YsUUFBUSxDQUFDQyxPQUFPLENBQUNFLE9BQU87O0FBRW5DO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTQyxTQUFTQSxDQUFDQyxhQUFhLEVBQUVDLE1BQU0sRUFBRTs7RUFFN0MsSUFBSSxDQUFDRCxhQUFhLEdBQUdBLGFBQWE7RUFDbEMsSUFBSSxDQUFDQyxNQUFNLEdBQUdBLE1BQU07RUFDcEIsSUFBSSxDQUFDQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUNELE1BQU0sQ0FBQ0UsTUFBTSxDQUFDQyxhQUFhLENBQUM7RUFDdkQsSUFBSSxDQUFDQyxjQUFjLEdBQUdDLG9CQUFvQixDQUFDQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQzs7RUFFdkQsSUFBSSxDQUFDQyxXQUFXLEdBQUd2Qix3RUFBeUI7O0VBRTVDLElBQUksQ0FBQ3dCLFNBQVMsR0FBRztJQUNiQyxDQUFDLEVBQUUsQ0FBQztJQUNKQyxDQUFDLEVBQUUsQ0FBQztJQUNKQyxLQUFLLEVBQUUsQ0FBQztJQUNSQyxNQUFNLEVBQUUsQ0FBQztJQUNUQyxRQUFRLEVBQUUsQ0FBQztJQUNYQyxPQUFPLEVBQUUsSUFBSTtJQUNiQyxNQUFNLEVBQUUsS0FBSztJQUNiQyxRQUFRLEVBQUUsS0FBSztJQUNmQyxRQUFRLEVBQUUsS0FBSztJQUNmO0lBQ0E7SUFDQUMsTUFBTSxFQUFFLENBQUM7RUFDYixDQUFDOztFQUVEQyxpQkFBaUIsQ0FBQ2IsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7O0VBRTlCLElBQUlwQixnRUFB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S0FBSyxHQUFHLE1BQU0sR0FBRyxNQUFNO0FBQ3pEOztBQUVBLFNBQVNULHFCQUFxQkEsQ0FBRVcsRUFBRSxFQUFFQyxFQUFFLEVBQUU7O0VBRXBDLE9BQU85RCxJQUFJLENBQUMrRCxLQUFLLENBQUNELEVBQUUsQ0FBQ2hQLENBQUMsR0FBRytPLEVBQUUsQ0FBQy9PLENBQUMsRUFBRWdQLEVBQUUsQ0FBQ2pQLENBQUMsR0FBR2dQLEVBQUUsQ0FBQ2hQLENBQUMsQ0FBQztBQUMvQzs7QUFFQyxTQUFTMkksa0JBQWtCQSxDQUFDd0csT0FBTyxFQUFFMUcsUUFBUSxFQUFFO0VBQzNDLElBQUkwRyxPQUFPLENBQUNDLE9BQU8sRUFBRSxPQUFPRCxPQUFPLENBQUNDLE9BQU8sQ0FBQzNHLFFBQVEsQ0FBQyxDQUFDLENBQUM7RUFDdkQsSUFBSTBHLE9BQU8sQ0FBQ0UsaUJBQWlCLEVBQUUsT0FBT0YsT0FBTyxDQUFDRSxpQkFBaUIsQ0FBQzVHLFFBQVEsQ0FBQyxDQUFDLENBQUU7RUFDNUUsSUFBSTBHLE9BQU8sQ0FBQ0csa0JBQWtCLEVBQUUsT0FBT0gsT0FBTyxDQUFDRyxrQkFBa0IsQ0FBQzdHLFFBQVEsQ0FBQyxDQUFDLENBQUM7RUFDN0UsSUFBSTBHLE9BQU8sQ0FBQ0kscUJBQXFCLEVBQUUsT0FBT0osT0FBTyxDQUFDSSxxQkFBcUIsQ0FBQzlHLFFBQVEsQ0FBQyxDQUFDLENBQUM7RUFDbkYsT0FBTyxLQUFLO0FBQ2hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvRWRpdEZyYW1lLmpzPzU4NDYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBFRElUX0ZSQU1FX0RFRkFVTFRfTUFSR0lOLFxuICAgICAgICAgYWRkVHJhaXRFdmVudERpc3BhdGNoZXIsIGlzVG91Y2hEZXZpY2UsIGRlZ3JlZXNUb1JhZGlhbnMgfSBmcm9tICcuL01hcmt1cHNDb3JlVXRpbHMnO1xuaW1wb3J0ICogYXMgTWFya3VwRXZlbnRzIGZyb20gJy4vTWFya3VwRXZlbnRzJztcbmltcG9ydCB7IENsb25lTWFya3VwIH0gZnJvbSAnLi9lZGl0LWFjdGlvbnMvQ2xvbmVNYXJrdXAnO1xuaW1wb3J0IHsgU2V0UG9zaXRpb24gfSBmcm9tICcuL2VkaXQtYWN0aW9ucy9TZXRQb3NpdGlvbic7XG5pbXBvcnQgeyBTZXRTaXplIH0gZnJvbSAnLi9lZGl0LWFjdGlvbnMvU2V0U2l6ZSc7XG5pbXBvcnQgeyBTZXRSb3RhdGlvbiB9IGZyb20gJy4vZWRpdC1hY3Rpb25zL1NldFJvdGF0aW9uJztcblxuICAgICB2YXIgYXYgPSBBdXRvZGVzay5WaWV3aW5nO1xuICAgICB2YXIgYXZwID0gQXV0b2Rlc2suVmlld2luZy5Qcml2YXRlO1xuXG4gICAgLyoqXG4gICAgICogQSBjb21wb25lbnQgdG8gaGFuZGxlIHRoZSBzZWxlY3Rpb24gb2YgbWFya3Vwcy5cbiAgICAgKlxuICAgICAqXG4gICAgICogICAgICBTYW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIGNvbnRhaW5pbmdEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmluZ0RpdjNkLWFwcC13cmFwcGVyJyk7XG4gICAgICogICAgICB2YXIgc2VsZWN0aW9uQ29tcG9uZW50ID0gbmV3IEVkaXRGcmFtZShjb250YWluaW5nRGl2KTtcbiAgICAgKiAgICAgIHNlbGVjdGlvbkNvbXBvbmVudC5zZXRTZWxlY3Rpb24oMTAwLCAxMDAsIDMwMCwgMTUwLCAwKTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNvbnRhaW5pbmdEaXYgVGhlIGNvbnRhaW5lciB3aGVyZSB0aGUgc2VsZWN0aW9uIGxheWVyIHdpbGwgbGl2ZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZWRpdG9yXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIEVkaXRGcmFtZShjb250YWluaW5nRGl2LCBlZGl0b3IpIHtcblxuICAgICAgICB0aGlzLmNvbnRhaW5pbmdEaXYgPSBjb250YWluaW5nRGl2O1xuICAgICAgICB0aGlzLmVkaXRvciA9IGVkaXRvcjtcbiAgICAgICAgdGhpcy5zZXRHbG9iYWxNYW5hZ2VyKHRoaXMuZWRpdG9yLnZpZXdlci5nbG9iYWxNYW5hZ2VyKTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25MYXllciA9IGNyZWF0ZVNlbGVjdGlvbkxheWVyLmJpbmQodGhpcykoKTtcblxuICAgICAgICB0aGlzLmZyYW1lTWFyZ2luID0gRURJVF9GUkFNRV9ERUZBVUxUX01BUkdJTjtcblxuICAgICAgICB0aGlzLnNlbGVjdGlvbiA9IHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgICAgICByb3RhdGlvbjogMCxcbiAgICAgICAgICAgIGVsZW1lbnQ6IG51bGwsXG4gICAgICAgICAgICBhY3RpdmU6IGZhbHNlLFxuICAgICAgICAgICAgZHJhZ2dpbmc6IGZhbHNlLFxuICAgICAgICAgICAgcmVzaXppbmc6IGZhbHNlLFxuICAgICAgICAgICAgLy9hIGRpY3Rpb25hcnkgb2YgYWxsIHRoZSBkcmFnIHBvaW50c1xuICAgICAgICAgICAgLy90aGUga2V5IGZvciBlYWNoIGRyYWcgcG9pbnQgd2lsbCBiZSBpdHMgY2FyZGluYWwvb3JkaW5hbCBkaXJlY3Rpb25cbiAgICAgICAgICAgIGhhbmRsZToge31cbiAgICAgICAgfTtcblxuICAgICAgICBjcmVhdGVTZWxlY3RvckJveC5iaW5kKHRoaXMpKCk7XG5cbiAgICAgICAgaWYgKGlzVG91Y2hEZXZpY2UoKSkge1xuICAgICAgICAgICAgdGhpcy5oYW1tZXIgPSBuZXcgYXYuSGFtbWVyLk1hbmFnZXIodGhpcy5zZWxlY3Rpb25MYXllciwge1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXJzOiBbXG4gICAgICAgICAgICAgICAgICAgIGF2Lkdlc3R1cmVSZWNvZ25pemVycy5kcmFnLFxuICAgICAgICAgICAgICAgICAgICBhdi5HZXN0dXJlUmVjb2duaXplcnMuZG91YmxldGFwLFxuICAgICAgICAgICAgICAgICAgICBhdi5HZXN0dXJlUmVjb2duaXplcnMuZG91YmxldGFwMixcbiAgICAgICAgICAgICAgICAgICAgYXYuR2VzdHVyZVJlY29nbml6ZXJzLnBhbixcbiAgICAgICAgICAgICAgICAgICAgYXYuR2VzdHVyZVJlY29nbml6ZXJzLnBpbmNoXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBoYW5kbGVQb2ludGVyRXZlbnRNb3VzZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgaW5wdXRDbGFzczogYXYuSGFtbWVyLlRvdWNoSW5wdXRcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLm9uSGFtbWVyRHJhZ0JpbmRlZCA9IHRoaXMub25IYW1tZXJEcmFnLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLm9uSGFtbWVyRG91YmxlVGFwQmluZGVkID0gdGhpcy5vbkhhbW1lckRvdWJsZVRhcC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5vblRvdWNoUGFuQmluZGVkID0gdGhpcy5vblRvdWNoUGFuLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLm9uVG91Y2hQaW5jaEJpbmRlZCA9IHRoaXMub25Ub3VjaFBpbmNoLmJpbmQodGhpcyk7XG5cbiAgICAgICAgICAgIHRoaXMuaGFtbWVyLm9uKFwiZHJhZ3N0YXJ0IGRyYWdtb3ZlIGRyYWdlbmRcIiwgdGhpcy5vbkhhbW1lckRyYWdCaW5kZWQpO1xuICAgICAgICAgICAgdGhpcy5oYW1tZXIub24oXCJkb3VibGV0YXBcIiwgdGhpcy5vbkhhbW1lckRvdWJsZVRhcEJpbmRlZCk7XG4gICAgICAgICAgICB0aGlzLmhhbW1lci5vbihcImRvdWJsZXRhcDJcIiwgdGhpcy5vbkhhbW1lckRvdWJsZVRhcEJpbmRlZCk7XG4gICAgICAgICAgICB0aGlzLmhhbW1lci5vbihcInBhbnN0YXJ0IHBhbm1vdmUgcGFuZW5kXCIsIHRoaXMub25Ub3VjaFBhbkJpbmRlZCk7XG4gICAgICAgICAgICB0aGlzLmhhbW1lci5vbihcInBpbmNoc3RhcnQgcGluY2htb3ZlIHBpbmNoZW5kXCIsIHRoaXMub25Ub3VjaFBpbmNoQmluZGVkKTtcblxuICAgICAgICAgICAgdGhpcy5oYW1tZXIuZ2V0KCdkcmFnJykucmVxdWlyZUZhaWx1cmUoJ3BpbmNoJyk7XG4gICAgICAgICAgICB0aGlzLmhhbW1lci5nZXQoJ2RyYWcnKS5yZXF1aXJlRmFpbHVyZSgncGFuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBoYW5kbGVTZWxlY3Rpb25Cb3hEcmFnZ2luZy5iaW5kKHRoaXMpKCk7XG4gICAgICAgIGhhbmRsZVNlbGVjdGlvbkJveFJlc2l6aW5nLmJpbmQodGhpcykoKTtcbiAgICAgICAgaGFuZGxlU2VsZWN0aW9uRG91YmxlQ2xpY2suYmluZCh0aGlzKSgpO1xuICAgICAgICBoYW5kbGVTZWxlY3Rpb25Cb3hSb3RhdGluZy5iaW5kKHRoaXMpKCk7XG5cbiAgICAgICAgLy9hZGQgdGhlIHNlbGVjdGlvbiBpbnRvIHRoZSBjb250YWluZXIgZ2l2ZW4gdG8gdXNcbiAgICAgICAgdGhpcy5jb250YWluaW5nRGl2LmFwcGVuZENoaWxkKHRoaXMuc2VsZWN0aW9uTGF5ZXIpO1xuXG4gICAgICAgIGFkZFRyYWl0RXZlbnREaXNwYXRjaGVyKHRoaXMpO1xuICAgIH1cblxuICAgIGF2Lkdsb2JhbE1hbmFnZXJNaXhpbi5jYWxsKEVkaXRGcmFtZS5wcm90b3R5cGUpO1xuICAgIHZhciBwcm90byA9IEVkaXRGcmFtZS5wcm90b3R5cGU7XG5cbiAgICBwcm90by51bmxvYWQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB0aGlzLmNvbnRhaW5pbmdEaXYucmVtb3ZlQ2hpbGQodGhpcy5zZWxlY3Rpb25MYXllcik7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uTGF5ZXIgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBzZWxlY3Rpb24gYm94IHdpdGggdGhlIGdpdmVuIGF0dHJpYnV0ZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIHggY29vcmRpbmF0ZSB0byBwbGFjZSB0aGUgc2VsZWN0aW9uIGJveFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIHkgY29vcmRpbmF0ZSB0byBwbGFjZSB0aGUgc2VsZWN0aW9uIGJveFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgc2VsZWN0aW9uIGJveFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSBzZWxlY3Rpb24gYm94XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gVGhlIGFtb3VudCBvZiBkZWdyZWVzIHRvIHJvdGF0ZSB0aGUgc2VsZWN0aW9uIGJveFxuICAgICAqL1xuICAgIHByb3RvLnNldFNlbGVjdGlvbiA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByb3RhdGlvbikge1xuXG4gICAgICAgIHZhciBtYXJnaW4gPSB0aGlzLmZyYW1lTWFyZ2luO1xuICAgICAgICB2YXIgZG91YmxlTWFyZ2luID0gbWFyZ2luICogMjtcblxuICAgICAgICB1cGRhdGVTZWxlY3RvckJveERpbWVuc2lvbnMuYmluZCh0aGlzKSh3aWR0aCArIGRvdWJsZU1hcmdpbiwgaGVpZ2h0ICsgZG91YmxlTWFyZ2luKTtcbiAgICAgICAgdXBkYXRlU2VsZWN0b3JCb3hQb3NpdGlvbi5iaW5kKHRoaXMpKHggLSBtYXJnaW4sIHkgLSBtYXJnaW4sIHJvdGF0aW9uKTtcbiAgICAgICAgdXBkYXRlU2VsZWN0aW9uQm94U3RhdGUuYmluZCh0aGlzKSh0cnVlKTsgLy9hY3RpdmF0ZSB0aGUgc2VsZWN0aW9uIGJveFxuICAgICAgICB0aGlzLnNlbGVjdGlvbkxheWVyLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERpc3BsYXlzIHRoZSBzZWxlY3Rpb24gYm94IGJhc2VkIG9uIHRoZSBwb3NpdGlvbiwgZGltZW5zaW9uLCBhbmQgcm90YXRpb24gb2YgYSBnaXZlbiBtYXJrdXBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZS5NYXJrdXB9IG1hcmt1cCAtIHRoZSBtYXJrdXAgdGhhdCBzaG91bGQgYXBwZWFyIGFzIHNlbGVjdGVkXG4gICAgICovXG4gICAgcHJvdG8uc2V0TWFya3VwID0gZnVuY3Rpb24gKG1hcmt1cCkge1xuXG4gICAgICAgIHRoaXMuaGFtbWVyICYmIHRoaXMuaGFtbWVyLnNldCh7ZW5hYmxlOiBtYXJrdXAgIT09IG51bGx9KTtcbiAgICAgICAgdGhpcy5tYXJrdXAgPSBtYXJrdXA7XG5cbiAgICAgICAgdXBkYXRlU2VsZWN0aW9uQm94U3RhdGUuYmluZCh0aGlzKShmYWxzZSk7XG5cbiAgICAgICAgaWYgKG1hcmt1cCkge1xuICAgICAgICAgICAgdmFyIGJvdW5kaW5nQm94ID0gbWFya3VwLmdldEJvdW5kaW5nUmVjdCgpO1xuICAgICAgICAgICAgdmFyIHJvdGF0aW9uID0gbWFya3VwLmdldFJvdGF0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmZyYW1lTWFyZ2luID0gYm91bmRpbmdCb3gubWFyZ2luICE9PSB1bmRlZmluZWQgPyBib3VuZGluZ0JveC5tYXJnaW4gOiBFRElUX0ZSQU1FX0RFRkFVTFRfTUFSR0lOO1xuXG4gICAgICAgICAgICB0aGlzLnNldFNlbGVjdGlvbihib3VuZGluZ0JveC54LCBib3VuZGluZ0JveC55LCBib3VuZGluZ0JveC53aWR0aCwgYm91bmRpbmdCb3guaGVpZ2h0LCByb3RhdGlvbik7XG5cbiAgICAgICAgICAgIHRoaXMuZW5hYmxlUmVzaXplSGFuZGxlcygpO1xuICAgICAgICAgICAgdGhpcy5lbmFibGVSb3RhdGlvbkhhbmRsZSgpO1xuXG4gICAgICAgICAgICBpZiAobWFya3VwLnByZXZlbnRSZXBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25MYXllci5maXJzdENoaWxkLnN0eWxlLmN1cnNvciA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25MYXllci5maXJzdENoaWxkLnN0eWxlLmN1cnNvciA9ICdtb3ZlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwcm90by5zdGFydERyYWcgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblxuICAgICAgICBpZiAodGhpcy5tYXJrdXAgJiYgdGhpcy5tYXJrdXAucHJldmVudFJlcG9zaXRpb24pIHJldHVybjtcblxuICAgICAgICB0aGlzLm9uTW91c2VNb3ZlID0gdGhpcy5fb25SZXBvc2l0aW9uTW91c2VNb3ZlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25Nb3VzZVVwID0gdGhpcy5fb25SZXBvc2l0aW9uTW91c2VVcC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9vblJlcG9zaXRpb25Nb3VzZURvd24oZXZlbnQsIHRoaXMuZWRpdG9yLmdldE1vdXNlUG9zaXRpb24oKSk7XG4gICAgfTtcblxuICAgICBwcm90by5pc0FjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3Rpb24uYWN0aXZlO1xuICAgICB9O1xuXG4gICAgcHJvdG8uaXNEcmFnZ2luZyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3Rpb24uZHJhZ2dpbmc7XG4gICAgfTtcblxuICAgIHByb3RvLmlzUmVzaXppbmcgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uLnJlc2l6aW5nO1xuICAgIH07XG5cbiAgICBwcm90by5pc1JvdGF0aW5nID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGlvbi5yb3RhdGluZztcbiAgICB9O1xuXG4gICAgcHJvdG8ub25Nb3VzZU1vdmUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblxuICAgICAgICAvL2R1bW15IGZuXG4gICAgfTtcblxuICAgIHByb3RvLm9uTW91c2VVcCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvL2R1bW15IGZuXG4gICAgfTtcblxuICAgIHByb3RvLm9uV2hlZWwgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5lZGl0b3Iudmlld2VyLnRvb2xDb250cm9sbGVyLm1vdXNld2hlZWwoZXZlbnQpO1xuICAgIH07XG5cbiAgICBwcm90by5vblRvdWNoUGFuID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdmFyIGdlc3R1cmVIYW5kbGVyID0gdGhpcy5lZGl0b3Iudmlld2VyLnRvb2xDb250cm9sbGVyLmdldFRvb2woXCJnZXN0dXJlc1wiKTtcbiAgICAgICAgZ2VzdHVyZUhhbmRsZXIuZGlzdHJpYnV0ZUdlc3R1cmUoZXZlbnQpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICBwcm90by5vblRvdWNoUGluY2ggPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICB2YXIgZ2VzdHVyZUhhbmRsZXIgPSB0aGlzLmVkaXRvci52aWV3ZXIudG9vbENvbnRyb2xsZXIuZ2V0VG9vbChcImdlc3R1cmVzXCIpO1xuICAgICAgICBnZXN0dXJlSGFuZGxlci5kaXN0cmlidXRlR2VzdHVyZShldmVudCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgICBwcm90by5vbkhhbW1lckRyYWcgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgICBmdW5jdGlvbiB1cGRhdGVFZGl0b3JJbnB1dChpbnB1dCwgcGFyZW50LCBldmVudCkge1xuXG4gICAgICAgICAgICAgLy9UT0RPOiBDaGFuZ2UgdGhpcyB3aGVuIHJlZmFjdG9yaW5nIGlucHV0IGluIGVkaXQgZnJhbWUuXG4gICAgICAgICAgICAgdmFyIHJlY3QgPSBwYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgaW5wdXQubW91c2VQb3NpdGlvbi54ID0gZXZlbnQucGFnZVggLSByZWN0LmxlZnQ7XG4gICAgICAgICAgICAgaW5wdXQubW91c2VQb3NpdGlvbi55ID0gZXZlbnQucGFnZVkgLSByZWN0LnRvcDtcbiAgICAgICAgIH1cblxuICAgICAgICAvL2NvbnNvbGUubG9nKCdFZGl0RnJhbWUgZHJhZyAnICsgZXZlbnQudHlwZSk7XG4gICAgICAgICBjb252ZXJ0RXZlbnRIYW1tZXJUb01vdXNlKGV2ZW50KTtcbiAgICAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgICAgICAgIGNhc2UgJ2RyYWdzdGFydCc6XG4gICAgICAgICAgICAgICAgIHVwZGF0ZUVkaXRvcklucHV0KHRoaXMuZWRpdG9yLmlucHV0LCB0aGlzLmVkaXRvci5zdmcsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgdGhpcy5lZGl0b3IuY2FsbFNuYXBwZXJNb3VzZURvd24oKTtcbiAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgd2hldGhlciB0byB0cmFuc2xhdGUsIHJvdGF0ZSBvciByZXNpemVcbiAgICAgICAgICAgICAgICAgaWYgKGlzUm90YXRlUG9pbnQoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgLy8gUm90YXRlXG4gICAgICAgICAgICAgICAgICAgICB0aGlzLl9vblJvdGF0aW9uTW91c2VEb3duKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc0RyYWdQb2ludChldmVudC50YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAvLyBSZXNpemVcbiAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uUmVzaXplTW91c2VEb3duKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnREcmFnKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICBjYXNlICdkcmFnbW92ZSc6XG4gICAgICAgICAgICAgICAgIHVwZGF0ZUVkaXRvcklucHV0KHRoaXMuZWRpdG9yLmlucHV0LCB0aGlzLmVkaXRvci5zdmcsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgdGhpcy5lZGl0b3IuY2FsbFNuYXBwZXJNb3VzZU1vdmUoKTtcbiAgICAgICAgICAgICAgICAgdGhpcy5vbk1vdXNlTW92ZShldmVudCk7XG4gICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgIGNhc2UgJ2RyYWdlbmQnOlxuICAgICAgICAgICAgICAgICB1cGRhdGVFZGl0b3JJbnB1dCh0aGlzLmVkaXRvci5pbnB1dCwgdGhpcy5lZGl0b3Iuc3ZnLCBldmVudCk7XG4gICAgICAgICAgICAgICAgIHRoaXMub25Nb3VzZVVwKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICB9XG4gICAgIH07XG5cbiAgICBwcm90by5vbkhhbW1lckRvdWJsZVRhcCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlRWRpdG9ySW5wdXQoaW5wdXQsIHBhcmVudCwgZXZlbnQpIHtcblxuICAgICAgICAgICAgLy9UT0RPOiBDaGFuZ2UgdGhpcyB3aGVuIHJlZmFjdG9yaW5nIGlucHV0IGluIGVkaXQgZnJhbWUuXG4gICAgICAgICAgICB2YXIgcmVjdCA9IHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIGlucHV0Lm1vdXNlUG9zaXRpb24ueCA9IGV2ZW50LnBhZ2VYIC0gcmVjdC5sZWZ0O1xuICAgICAgICAgICAgaW5wdXQubW91c2VQb3NpdGlvbi55ID0gZXZlbnQucGFnZVkgLSByZWN0LnRvcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnZlcnRFdmVudEhhbW1lclRvTW91c2UoZXZlbnQpO1xuICAgICAgICB1cGRhdGVFZGl0b3JJbnB1dCh0aGlzLmVkaXRvci5pbnB1dCwgdGhpcy5lZGl0b3Iuc3ZnLCBldmVudCk7XG5cbiAgICAgICAgdGhpcy5zZWxlY3Rpb24uZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lZGl0b3IuZWRpdE1vZGUgJiYgdGhpcy5lZGl0b3IuZWRpdE1vZGUub25Nb3VzZURvdWJsZUNsaWNrKHRoaXMubWFya3VwKTtcbiAgICB9O1xuXG4gICAgcHJvdG8uZW5hYmxlUmVzaXplSGFuZGxlcyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgbWFya3VwID0gdGhpcy5tYXJrdXA7XG4gICAgICAgIHZhciBoYW5kbGU7XG5cbiAgICAgICAgaWYgKG1hcmt1cC5pc0hlaWdodENvbnN0cmFpbmVkKCkgfHwgbWFya3VwLmlzV2lkdGhDb25zdHJhaW5lZCgpKSB7XG4gICAgICAgICAgICAvL2hpZGUgYWxsIHRoZSBoYW5kbGVzXG4gICAgICAgICAgICBmb3IgKHZhciBkaXJlY3Rpb24gaW4gdGhpcy5zZWxlY3Rpb24uaGFuZGxlKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlID0gdGhpcy5zZWxlY3Rpb24uaGFuZGxlW2RpcmVjdGlvbl07XG4gICAgICAgICAgICAgICAgaWYoaGFuZGxlKSBoYW5kbGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9zaG93IG9ubHkgdGhlIHJlc2l6ZSBwb2ludHMgdGhhdCBhcmUgYWxsb3dlZFxuICAgICAgICAgICAgaWYgKCFtYXJrdXAuaXNIZWlnaHRDb25zdHJhaW5lZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uaGFuZGxlWyduJ10uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uaGFuZGxlWydzJ10uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW1hcmt1cC5pc1dpZHRoQ29uc3RyYWluZWQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLmhhbmRsZVsndyddLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLmhhbmRsZVsnZSddLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9ubyBjb25zdHJhaW50cywgc2hvdyBhbGwgcmVzaXplIGhhbmRsZXNcbiAgICAgICAgICAgIGZvciAobGV0IGRpcmVjdGlvbiBpbiB0aGlzLnNlbGVjdGlvbi5oYW5kbGUpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGUgPSB0aGlzLnNlbGVjdGlvbi5oYW5kbGVbZGlyZWN0aW9uXTtcbiAgICAgICAgICAgICAgICBpZihoYW5kbGUpIGhhbmRsZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwcm90by5lbmFibGVSb3RhdGlvbkhhbmRsZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgbWFya3VwID0gdGhpcy5tYXJrdXA7XG4gICAgICAgIHZhciBkaXNwbGF5ID0gbWFya3VwLmlzUm90YXRpb25Db25zdHJhaW5lZCgpID8gJ25vbmUnIDogJ2Jsb2NrJztcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24ucm90YXRpb25IYW5kbGUuc3R5bGUuZGlzcGxheSA9IGRpc3BsYXk7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLnJvdGF0aW9uQnJpZGdlLnN0eWxlLmRpc3BsYXkgPSBkaXNwbGF5O1xuICAgIH07XG5cbiAgICAgZnVuY3Rpb24gY29udmVydEV2ZW50SGFtbWVyVG9Nb3VzZShldmVudCkge1xuICAgICAgICAgLy8gQ29udmVydCBIYW1tZXIgdG91Y2gtZXZlbnQgWCxZIGludG8gbW91c2UtZXZlbnQgWCxZLlxuICAgICAgICAgZXZlbnQucGFnZVggPSBldmVudC5wb2ludGVyc1swXS5jbGllbnRYO1xuICAgICAgICAgZXZlbnQucGFnZVkgPSBldmVudC5wb2ludGVyc1swXS5jbGllbnRZO1xuICAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGVsZW1lbnQgc3Bhbm5pbmcgdGhlIGZ1bGwgaGVpZ2h0IGFuZCB3aWR0aCBvZiBpdHMgcGFyZW50LlxuICAgICAqIEl0IHNlcnZlcyBhcyBvdXIgc3VyZmFjZSB0byBkcmF3IHRoZSBzZWxlY3Rpb24gYm94LlxuICAgICAqXG4gICAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlU2VsZWN0aW9uTGF5ZXIoKSB7XG5cbiAgICAgICAgY29uc3QgX2RvY3VtZW50ID0gdGhpcy5nZXREb2N1bWVudCgpO1xuICAgICAgICB2YXIgc2VsZWN0aW9uTGF5ZXIgPSBfZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHNlbGVjdGlvbkxheWVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgc2VsZWN0aW9uTGF5ZXIuc3R5bGUudG9wID0gMDtcbiAgICAgICAgc2VsZWN0aW9uTGF5ZXIuc3R5bGUuYm90dG9tID0gMDtcbiAgICAgICAgc2VsZWN0aW9uTGF5ZXIuc3R5bGUubGVmdCA9IDA7XG4gICAgICAgIHNlbGVjdGlvbkxheWVyLnN0eWxlLnJpZ2h0ID0gMDtcbiAgICAgICAgLy9kb24ndCBsZXQgdGhlIHNlbGVjdGlvbiBib3ggYmUgdmlzaWJsZSBvdXRzaWRlIHRoZSBzZWxlY3Rpb24gbGF5ZXJcbiAgICAgICAgc2VsZWN0aW9uTGF5ZXIuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgICAgc2VsZWN0aW9uTGF5ZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgICB0b2dnbGVQb2ludGVyRXZlbnRzKHNlbGVjdGlvbkxheWVyLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBzZWxlY3Rpb25MYXllcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2luZ2xlIGRyYWcgcG9pbnQgd2l0aCB0aGUgY29ycmVzcG9uZGluZyBzdHlsZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaWFtZXRlciAtIFRoZSBzaXplIG9mIHRoZSBkcmFnIHBvaW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBvc2l0aW9uIC0gVGhlIGNhcmRpbmFsKG4sIHMsIHcsIGUpIG9yIG9yZGluYWwobncsIG53LCBzdywgc2UpIGRpcmVjdGlvbiBvZiB0aGUgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVEcmFnUG9pbnQocG9zaXRpb24pIHtcblxuICAgICAgICBjb25zdCBfZG9jdW1lbnQgPSB0aGlzLmdldERvY3VtZW50KCk7XG4gICAgICAgIHZhciBwb2ludCA9IF9kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICBzZXRSZXNpemVDdXJzb3IocG9pbnQsIHBvc2l0aW9uKTtcbiAgICAgICAgcG9pbnQuY2xhc3NOYW1lID0gJ3NlbGVjdG9yLWRyYWctcG9pbnQgYXV0b2Rlc2stbWFya3Vwcy1leHRlbnNpb24tY29yZS1tYWtlLW1lLWJpZ2dlciBzZHAtaGFuZGxlLScgKyBwb3NpdGlvbjtcbiAgICAgICAgcG9pbnQuY2xhc3NMaXN0LmFkZCgnYWRzay12aWV3aW5nLXZpZXdlcicpO1xuICAgICAgICBwb2ludC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2RwLWhhbmRsZScsIHBvc2l0aW9uKTtcblxuICAgICAgICByZXR1cm4gcG9pbnQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlUm90YXRlUG9pbnQgKCkge1xuICAgICAgICBjb25zdCBfZG9jdW1lbnQgPSB0aGlzLmdldERvY3VtZW50KCk7XG4gICAgICAgIHZhciBwb2ludCA9IF9kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgcG9pbnQuY2xhc3NMaXN0LmFkZCgnYWRzay12aWV3aW5nLXZpZXdlcicpO1xuICAgICAgICBwb2ludC5jbGFzc0xpc3QuYWRkKCdzZWxlY3Rvci1yb3RhdGUtcG9pbnQnKTtcbiAgICAgICAgcG9pbnQuY2xhc3NMaXN0LmFkZCgnYXV0b2Rlc2stbWFya3Vwcy1leHRlbnNpb24tY29yZS1tYWtlLW1lLWJpZ2dlcicpO1xuICAgICAgICBzZXRSZXNpemVDdXJzb3IocG9pbnQsICd3Jyk7XG5cbiAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVJvdGF0aW9uQnJpZGdlKCkge1xuICAgICAgICBjb25zdCBfZG9jdW1lbnQgPSB0aGlzLmdldERvY3VtZW50KCk7XG4gICAgICAgIHZhciByb3RhdGlvbkJyaWRnZSA9IF9kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgcm90YXRpb25CcmlkZ2UuY2xhc3NMaXN0LmFkZCgnYWRzay12aWV3aW5nLXZpZXdlcicpO1xuICAgICAgICByb3RhdGlvbkJyaWRnZS5jbGFzc0xpc3QuYWRkKCdzZWxlY3Rvci1yb3RhdGUtcG9pbnQnKTtcbiAgICAgICAgcm90YXRpb25CcmlkZ2UuY2xhc3NMaXN0LmFkZCgnYXV0b2Rlc2stbWFya3Vwcy1leHRlbnNpb24tY29yZS1tYWtlLW1lLWJpZ2dlcicpO1xuICAgICAgICByb3RhdGlvbkJyaWRnZS5jbGFzc0xpc3QuYWRkKCdyb3RhdGlvbi1icmlkZ2UnKTtcbiAgICAgICAgc2V0UmVzaXplQ3Vyc29yKHJvdGF0aW9uQnJpZGdlLCAndycpO1xuXG4gICAgICAgIHJldHVybiByb3RhdGlvbkJyaWRnZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRSZXNpemVDdXJzb3IgKGVsZW1lbnQsIGRpcmVjdGlvbikge1xuXG4gICAgICAgIHZhciBjdXJzb3I7XG4gICAgICAgIHN3aXRjaChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGNhc2UgJ24nOlxuICAgICAgICAgICAgY2FzZSAncyc6XG4gICAgICAgICAgICAgICAgY3Vyc29yID0gJ25zLXJlc2l6ZSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd3JzpcbiAgICAgICAgICAgIGNhc2UgJ2UnOlxuICAgICAgICAgICAgICAgIGN1cnNvciA9ICdldy1yZXNpemUnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbmUnOlxuICAgICAgICAgICAgY2FzZSAnc3cnOlxuICAgICAgICAgICAgICAgIGN1cnNvciA9ICduZXN3LXJlc2l6ZSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdudyc6XG4gICAgICAgICAgICBjYXNlICdzZSc6XG4gICAgICAgICAgICAgICAgY3Vyc29yID0gJ253c2UtcmVzaXplJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50LnN0eWxlLmN1cnNvciA9IGN1cnNvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSA4IGRyYWcgcG9pbnRzIG9mIHRoZSBzZWxlY3Rpb24gYm94LlxuICAgICAqXG4gICAgICogQHRoaXMgRWRpdEZyYW1lXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlRHJhZ1BvaW50cyhzZWxlY3Rvcikge1xuXG4gICAgICAgIFsnbicsICdzJywgJ3cnLCAnZScsICdudycsICduZScsICdzdycsICdzZSddLmZvckVhY2goZnVuY3Rpb24gKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgLy9zdG9yZSB0aGUgZHJhZyBwb2ludCBhbmQgcHV0IGl0IGluIHRoZSBET01cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLmhhbmRsZVtkaXJlY3Rpb25dID0gY3JlYXRlRHJhZ1BvaW50LmNhbGwodGhpcywgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIHNlbGVjdG9yLmFwcGVuZENoaWxkKHRoaXMuc2VsZWN0aW9uLmhhbmRsZVtkaXJlY3Rpb25dKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIGFuIGVsZW1lbnQgaXMgYSBkcmFnIHBvaW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRHJhZ1BvaW50KGVsZW1lbnQpIHtcblxuICAgICAgICByZXR1cm4gbWF0Y2hlc1NlbGVjdG9yQXV4KGVsZW1lbnQsICcuc2VsZWN0b3ItZHJhZy1wb2ludCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgYW4gZWxlbWVudCBpcyBhIHJvdGF0ZSBwb2ludFxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1JvdGF0ZVBvaW50KGVsZW1lbnQpIHtcblxuICAgICAgICByZXR1cm4gbWF0Y2hlc1NlbGVjdG9yQXV4KGVsZW1lbnQsICcuc2VsZWN0b3Itcm90YXRlLXBvaW50Jyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgZWxlbWVudCB0aGF0IHdpbGwgYmUgdXNlZCBhcyB0aGUgc2VsZWN0aW9uIGJveC4gSXQgYWxzb1xuICAgICAqIHRha2VzIGNhcmUgb2YgYWRkaW5nIHRoZSBkcmFnIGhhbmRsZXNcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSAtIHRoZSBzZWxlY3Rpb24gYm94XG4gICAgICogQHRoaXMgRWRpdEZyYW1lXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlU2VsZWN0b3JCb3goKSB7XG5cbiAgICAgICAgY29uc3QgX2RvY3VtZW50ID0gdGhpcy5nZXREb2N1bWVudCgpO1xuICAgICAgICB2YXIgc2VsZWN0b3JCb3ggPSBfZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRvZ2dsZVBvaW50ZXJFdmVudHMoc2VsZWN0b3JCb3gsIHRydWUpO1xuICAgICAgICBzZWxlY3RvckJveC5jbGFzc0xpc3QuYWRkKCdzZWxlY3Rvci1ib3gnKTtcblxuICAgICAgICB0aGlzLnNlbGVjdGlvbi5yb3RhdGlvbkJyaWRnZSA9IGNyZWF0ZVJvdGF0aW9uQnJpZGdlLmJpbmQodGhpcykoKTtcbiAgICAgICAgc2VsZWN0b3JCb3guYXBwZW5kQ2hpbGQodGhpcy5zZWxlY3Rpb24ucm90YXRpb25CcmlkZ2UpO1xuXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLnJvdGF0aW9uSGFuZGxlID0gY3JlYXRlUm90YXRlUG9pbnQuYmluZCh0aGlzKSgpO1xuICAgICAgICBzZWxlY3RvckJveC5hcHBlbmRDaGlsZCh0aGlzLnNlbGVjdGlvbi5yb3RhdGlvbkhhbmRsZSk7XG5cbiAgICAgICAgY3JlYXRlRHJhZ1BvaW50cy5iaW5kKHRoaXMpKHNlbGVjdG9yQm94KTtcblxuICAgICAgICAvL3N0b3JlIHRoZSBzZWxlY3RvciBib3hcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24uZWxlbWVudCA9IHNlbGVjdG9yQm94O1xuXG4gICAgICAgIGlmICghYXYuaXNNb2JpbGVEZXZpY2UoKSkge1xuICAgICAgICAgICAgdGhpcy5vbldoZWVsQmluZGVkID0gdGhpcy5vbldoZWVsLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy5vbldoZWVsQmluZGVkKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NTW91c2VTY3JvbGwnLCB0aGlzLm9uV2hlZWxCaW5kZWQpOyAvLyBmaXJlZm94XG4gICAgICAgIH1cblxuICAgICAgICAvL2FkZCB0aGUgc2VsZWN0aW9uIGJveCB0byB0aGUgc2VsZWN0aW9uIGxheWVyXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uTGF5ZXIuYXBwZW5kQ2hpbGQodGhpcy5zZWxlY3Rpb24uZWxlbWVudCk7XG5cbiAgICAgICAgLy93ZSBhcmUganVzdCBjcmVhdGluZyB0aGUgYm94LCBzdGFydCBpdCBvdXQgaGlkZGVuXG4gICAgICAgIHVwZGF0ZVNlbGVjdGlvbkJveFN0YXRlLmJpbmQodGhpcykoZmFsc2UpO1xuXG4gICAgICAgIHJldHVybiBzZWxlY3RvckJveDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVdGlsaXR5IHRvIGNyZWF0ZSB0aGUgQ1NTIHRyYW5zbGF0ZTNkIHZhbHVlIGZyb20gYSBnaXZlbiAyZCBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBjb29yZGluYXRlXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvVHJhbnNsYXRlM2QoeCwgeSkge1xuXG4gICAgICAgIHJldHVybiAndHJhbnNsYXRlM2QoJyArIHggKyAncHgsJyArIHkgKyAncHgsMCknO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZGlzcGxheSBzdGF0ZSBvZiB0aGUgc2VsZWN0aW9uIGJveFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBhY3RpdmUgLSBUaGUgbmV3IHN0YXRlIG9mIHRoZSB0aGUgc2VsZWN0aW9uIGJveFxuICAgICAqIEB0aGlzIEVkaXRGcmFtZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGlvbkJveFN0YXRlKGFjdGl2ZSkge1xuXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLmFjdGl2ZSA9IGFjdGl2ZTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24uZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gYWN0aXZlID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBwb3NpdGlvbiBhbmQgcm90YXRpb24gb2YgdGhlIHNlbGVjdGlvbiBib3guXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSB4IGNvb3JkaW5hdGUgdG8gcGxhY2UgdGhlIHNlbGVjdGlvbiBib3hcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSB5IGNvb3JkaW5hdGUgdG8gcGxhY2UgdGhlIHNlbGVjdGlvbiBib3hcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBUaGUgYW1vdW50IG9mIGRlZ3JlZXMgdG8gcm90YXRlIHRoZSBzZWxlY3Rpb24gYm94XG4gICAgICogQHRoaXMgRWRpdEZyYW1lXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlU2VsZWN0b3JCb3hQb3NpdGlvbih4LCB5LCByb3RhdGlvbikge1xuXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLnggPSB4O1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi55ID0geTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24ucm90YXRpb24gPSByb3RhdGlvbjtcbiAgICAgICAgdmFyIHNpemUgPSB0aGlzLm1hcmt1cC5nZXRCb3VuZGluZ1JlY3QoKTtcbiAgICAgICAgLy9UT0RPOiBjb25zaWRlciBEb21FbGVtZW50U3R5bGVcblxuICAgICAgICBzaXplLndpZHRoICs9IHRoaXMuZnJhbWVNYXJnaW4gKiAyO1xuICAgICAgICBzaXplLmhlaWdodCArPSB0aGlzLmZyYW1lTWFyZ2luICogMjtcblxuICAgICAgICB2YXIgdHJhbnNmb3JtID0gdG9UcmFuc2xhdGUzZCh4LCB5KSArICcgcm90YXRlKCcgKyByb3RhdGlvbiArICdyYWQpJztcbiAgICAgICAgdmFyIHRyYW5zZm9ybU9yaWdpbiA9IChzaXplLndpZHRoIC8gMikgKyAncHggJyArIChzaXplLmhlaWdodCAvIDIpICsgJ3B4JztcblxuICAgICAgICB0aGlzLnNlbGVjdGlvbi5lbGVtZW50LnN0eWxlLm1zVHJhbnNmb3JtID1cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLmVsZW1lbnQuc3R5bGUud2Via2l0VHJhbnNmb3JtID1cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5lbGVtZW50LnN0eWxlLm1zVHJhbnNmb3JtT3JpZ2luID1cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLmVsZW1lbnQuc3R5bGUud2Via2l0VHJhbnNmb3JtT3JpZ2luID1cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gdHJhbnNmb3JtT3JpZ2luO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIHNlbGVjdGlvbiBib3ggKHdpZHRoIGFuZCBoZWlnaHQpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIG5ldyB3aWR0aCBvZiB0aGUgc2VsZWN0aW9uIGJveFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgbmV3IGhlaWdodCBvZiB0aGUgc2VsZWN0aW9uIGJveFxuICAgICAqIEB0aGlzIEVkaXRGcmFtZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZVNlbGVjdG9yQm94RGltZW5zaW9ucyh3aWR0aCwgaGVpZ2h0KSB7XG5cbiAgICAgICAgdGhpcy5zZWxlY3Rpb24ud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24uaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5lbGVtZW50LnN0eWxlLndpZHRoID0gd2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5lbGVtZW50LnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgYWxsIHRoZSBuZWNlc3NhcnkgbGlzdGVuZXJzIHRvIGhhbmRsZSBhIGRyYWcgYWN0aW9uLlxuICAgICAqXG4gICAgICogQHRoaXMgRWRpdEZyYW1lXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFuZGxlU2VsZWN0aW9uQm94RHJhZ2dpbmcgKCkge1xuXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fb25SZXBvc2l0aW9uTW91c2VEb3duLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgcGFubmluZyB3aGVuIHJpZ2h0IGNsaWNraW5nIGRvd25cbiAgICAgKiBAcGFyYW0gZXZlbnRcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gcmV0dXJucyB0cnVlIGlmIHRoZSBldmVudCB3YXMgaGFuZGxlZFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJvdG8uX2hhbmRsZVJpZ2h0Q2xpY2tEb3duID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICBpZiAoIWF2LmlzTW9iaWxlRGV2aWNlKCkgJiYgKGF2cC5pc1JpZ2h0Q2xpY2soZXZlbnQsIHRoaXMuZWRpdG9yLnZpZXdlci5uYXZpZ2F0aW9uKSB8fCBhdnAuaXNNaWRkbGVDbGljayhldmVudCkpKSB7XG4gICAgICAgICAgICB0aGlzLmVkaXRvci5pbnB1dC5vbk1vdXNlRG93blJpZ2h0Q2xpY2soZXZlbnQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIHZhciBpZ25vcmVGaXJzdE1vdXNlTW92ZSA9IGZhbHNlO1xuICAgIHByb3RvLl9vblJlcG9zaXRpb25Nb3VzZURvd24gPSBmdW5jdGlvbiAoZXZlbnQsIGN1cnNvcikge1xuXG4gICAgICAgIGlmICh0aGlzLl9oYW5kbGVSaWdodENsaWNrRG93bihldmVudCkpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgLy8gUmV0dXJuIGZvciBtYXJrdXBzIHRoYXQgYXJlIG5vdCBhbGxvd2VkIHRvIGJlIHJlcG9zaXRpb25lZC5cbiAgICAgICAgaWYgKHRoaXMubWFya3VwICYmIHRoaXMubWFya3VwLnByZXZlbnRSZXBvc2l0aW9uKSByZXR1cm47XG5cbiAgICAgICAgLy8gaWdub3JlIHRoZSBmaXJzdCBtb3VzZSBtb3ZlIGZvciB0aGUgTWljcm9zb2Z0IFN1cmZhY2VcbiAgICAgICAgaWdub3JlRmlyc3RNb3VzZU1vdmUgPSAhYXYuaXNNb2JpbGVEZXZpY2UoKSAmJiBhdi5pc1RvdWNoRGV2aWNlKCk7XG4gICAgICAgIC8vYSBzeW50aGV0aWMgc3RhcnQgbWVhbnMgdGhhdCB0aGUgZXZlbnQgd2FzIHRyaWdnZXJlZCBtYW51YWxseSBhbmQgbm90IGFzIGFcbiAgICAgICAgLy9yZXN1bHQgb2YgYSBtb3VzZWRvd24gb24gdGhlIGVkaXQgZnJhbWVcbiAgICAgICAgY29uc3QgX3dpbmRvdyA9IHRoaXMuZ2V0V2luZG93KCk7XG4gICAgICAgIHZhciBzeW50aGV0aWNTdGFydCA9ICEoZXZlbnQgaW5zdGFuY2VvZiBfd2luZG93Lk1vdXNlRXZlbnQpO1xuXG4gICAgICAgIC8vZHVyaW5nIGEgcmVhbCBtb3VzZWRvd24sIGlnbm9yZSBldmVudHMgb3JpZ2luYXRpbmcgZnJvbSBhIHJlc2l6aW5nIGhhbmRsZVxuICAgICAgICBpZiAoIXN5bnRoZXRpY1N0YXJ0ICYmIChpc0RyYWdQb2ludChldmVudC50YXJnZXQpIHx8IGlzUm90YXRlUG9pbnQoZXZlbnQudGFyZ2V0KSkpIHJldHVybjtcblxuICAgICAgICAvL2dldCB0aGUgY3Vyc29yIHBvc2l0aW9uXG4gICAgICAgIGN1cnNvciA9IHN5bnRoZXRpY1N0YXJ0ID8gIGN1cnNvciA6IHRoaXMuZWRpdG9yLmdldE1vdXNlUG9zaXRpb24oKTtcblxuICAgICAgICAvL3N0b3JlIHRoZSBpbml0aWFsIGN1cnNvciBhbmQgYXhpcyBjb25zdHJhaW5zXG4gICAgICAgIHRoaXMuaW5pdGlhbEN1cnNvciA9IGN1cnNvcjtcbiAgICAgICAgdGhpcy5pbml0aWFsUG9zaXRpb24gPSB0aGlzLm1hcmt1cC5nZXRDbGllbnRQb3NpdGlvbigpO1xuICAgICAgICB0aGlzLmFyZUF4aXNDb25zdHJhaW5lZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmF4aXNDb25zdHJhaW5zID0gbmV3IFRIUkVFLlZlY3RvcjIoMSwxKTtcblxuICAgICAgICAvL3VwZGF0ZSB0aGUgZnVuY3Rpb24gdGhhdCB3aWxsIGhhbmRsZSB0aGUgbW91c2Vtb3ZlIGFuZCBtb3VzZXVwIGV2ZW50c1xuICAgICAgICB0aGlzLm9uTW91c2VNb3ZlID0gdGhpcy5fb25SZXBvc2l0aW9uTW91c2VNb3ZlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25Nb3VzZVVwID0gdGhpcy5fb25SZXBvc2l0aW9uTW91c2VVcC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbi5kcmFnZ2luZylcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB0aGlzLnNlbGVjdGlvbi5kcmFnZ2luZyA9IHRydWU7XG4gICAgICAgIHRoaXMuZWRpdG9yLmJlZ2luQWN0aW9uR3JvdXAoKTtcblxuICAgICAgICAvL2lmIGFsdCBkb3duIEkgZHJvcCBhIGNsb25lLlxuICAgICAgICBpZiAoZXZlbnQgJiYgZXZlbnQuYWx0S2V5KSB7XG4gICAgICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgICAgICB2YXIgY2xvbmVNYXJrdXAgPSBuZXcgQ2xvbmVNYXJrdXAoZWRpdG9yLCBlZGl0b3IuZ2V0SWQoKSwgdGhpcy5tYXJrdXAsIHRoaXMubWFya3VwLnBvc2l0aW9uKTtcbiAgICAgICAgICAgIGNsb25lTWFya3VwLmV4ZWN1dGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6IE1hcmt1cEV2ZW50cy5FVkVOVF9FRElURlJBTUVfRURJVElPTl9TVEFSVCB9KTsgLy8gTW92aW5nIGFyb3VuZFxuICAgIH07XG5cbiAgICBwcm90by5fb25SZXBvc2l0aW9uTW91c2VNb3ZlID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICAvLyBUaGlzIGNoZWNrIGlzIG5lZWRlZCBmb3Igc2VsZWN0aW5nIG1hcmt1cHMgb24gZGV2aWNlcyB0aGF0IGhhdmUgdG91Y2ggc2NyZWVuICsgbW91c2UgKGVnOiBNaWNyb3NvZnQgU3VyZmFjZSlcbiAgICAgICAgaWYgKGlnbm9yZUZpcnN0TW91c2VNb3ZlKSB7XG4gICAgICAgICAgICBpZ25vcmVGaXJzdE1vdXNlTW92ZSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vaWdub3JlIG1vdXNlbW92ZSBldmVudHMgaWYgdGhlIGRyYWdnaW5nIHN0YXRlIGhhc24ndCBiZWVuIGFjdGl2YXRlZFxuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0aW9uLmRyYWdnaW5nIHx8ICF0aGlzLm1hcmt1cCB8fCB0aGlzLm1hcmt1cC5wcmV2ZW50UmVwb3NpdGlvbikgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIC8vZ2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgY3Vyc29yIHJlbGF0aXZlIHRvIHNlbGVjdGlvbiBsYXllclxuICAgICAgICB2YXIgY3Vyc29yID0gdGhpcy5lZGl0b3IuZ2V0TW91c2VQb3NpdGlvbigpO1xuXG4gICAgICAgIC8vY29uc3RyYWluIGF4aXMgaWYgc2hpZnQga2V5IGlzIGRvd24uXG4gICAgICAgIHZhciBjb25zdHJhaW5BeGlzID0gdGhpcy5lZGl0b3IuaW5wdXQuY29uc3RyYWluQXhpcztcbiAgICAgICAgaWYgKHRoaXMuYXJlQXhpc0NvbnN0cmFpbmVkICE9PSBjb25zdHJhaW5BeGlzKSB7XG4gICAgICAgICAgICB0aGlzLmFyZUF4aXNDb25zdHJhaW5lZCA9IGNvbnN0cmFpbkF4aXM7XG4gICAgICAgICAgICB0aGlzLmF4aXNDb25zdHJhaW5zID0gY29uc3RyYWluQXhpcyA/IG5ldyBUSFJFRS5WZWN0b3IyKDAsIDApIDogbmV3IFRIUkVFLlZlY3RvcjIoMSwxKTtcblxuICAgICAgICAgICAgdGhpcy5pbml0aWFsUG9zaXRpb24ueCArPSBjdXJzb3IueCAtIHRoaXMuaW5pdGlhbEN1cnNvci54O1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsUG9zaXRpb24ueSArPSBjdXJzb3IueSAtIHRoaXMuaW5pdGlhbEN1cnNvci55O1xuXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxDdXJzb3IueCA9IGN1cnNvci54O1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsQ3Vyc29yLnkgPSBjdXJzb3IueTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vZGV0ZXJtaW5lIGhvdyBtYW55IHBpeGVsIHdlIGhhdmUgdG8gc2hpZnQgdGhlXG4gICAgICAgIC8vc2VsZWN0aW9uIGJveCB0byBrZWVwIHRoZSBjdXJzb3Igb24gdGhlIGRyYWcgcG9pbnRcbiAgICAgICAgdmFyIG1vdmVtZW50ID0ge1xuICAgICAgICAgICAgeDogY3Vyc29yLnggLSB0aGlzLmluaXRpYWxDdXJzb3IueCxcbiAgICAgICAgICAgIHk6IGN1cnNvci55IC0gdGhpcy5pbml0aWFsQ3Vyc29yLnlcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZGVhZFpvbmUgPSAxNTtcbiAgICAgICAgaWYgKHRoaXMuYXhpc0NvbnN0cmFpbnMueCA9PT0gMCAmJiB0aGlzLmF4aXNDb25zdHJhaW5zLnkgPT09IDApIHtcblxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKG1vdmVtZW50LngpID4gZGVhZFpvbmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF4aXNDb25zdHJhaW5zLnggPSAxO1xuICAgICAgICAgICAgICAgIG1vdmVtZW50LnggKz0gbW92ZW1lbnQueCA8IDAgPyAgZGVhZFpvbmUgOiAtZGVhZFpvbmU7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhtb3ZlbWVudC55KSA+IGRlYWRab25lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5heGlzQ29uc3RyYWlucy55ID0gMTtcbiAgICAgICAgICAgICAgICBtb3ZlbWVudC55ICs9IG1vdmVtZW50LnkgPCAwID8gIGRlYWRab25lIDogLWRlYWRab25lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHggPSB0aGlzLmluaXRpYWxQb3NpdGlvbi54ICsgbW92ZW1lbnQueCAqIHRoaXMuYXhpc0NvbnN0cmFpbnMueDtcbiAgICAgICAgdmFyIHkgPSB0aGlzLmluaXRpYWxQb3NpdGlvbi55ICsgbW92ZW1lbnQueSAqIHRoaXMuYXhpc0NvbnN0cmFpbnMueTtcblxuICAgICAgICB1cGRhdGVTZWxlY3RvckJveFBvc2l0aW9uLmJpbmQodGhpcykoeCwgeSwgdGhpcy5zZWxlY3Rpb24ucm90YXRpb24pO1xuXG4gICAgICAgIC8vdGVsbCB0aGUgbWFya3VwIHRvIHN0YXJ0IHRyYW5zZm9ybWluZ1xuICAgICAgICAvL3RoZSBtYXJrdXAgZXhwZWN0cyBhbiAoeCwgeSkgY29vcmRpbmF0ZSB0aGF0XG4gICAgICAgIC8vdXNlcyBhbiBvcmlnaW4gYXQgdGhlIGNlbnRlciwgYWRqdXN0IG91ciB4LCB5IGJlY2F1c2VcbiAgICAgICAgLy9vdXIgb3JpZ2luIHN0YXJ0cyBhdCB0aGUgdG9wIGxlZnRcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5lZGl0b3IucG9zaXRpb25Gcm9tQ2xpZW50VG9NYXJrdXBzKHgsIHkpO1xuICAgICAgICB2YXIgc2V0UG9zaXRpb24gPSBuZXcgU2V0UG9zaXRpb24odGhpcy5lZGl0b3IsIHRoaXMubWFya3VwLCBwb3NpdGlvbik7XG4gICAgICAgIHNldFBvc2l0aW9uLmV4ZWN1dGUoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHByb3RvLl9vblJlcG9zaXRpb25Nb3VzZVVwID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGlmICh0aGlzLm1hcmt1cCAmJiB0aGlzLm1hcmt1cC5wcmV2ZW50UmVwb3NpdGlvbikgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMubGFzdCA9IG51bGw7XG5cbiAgICAgICAgLy90aGlzIHNob3VsZCBuZXZlciBiZSBjYWxsZWQgYWZ0ZXIgdGhlIG1vdXNlIHVwIGJlY2F1c2Ugd2UgYXJlIG5vIGxvbmdlciByZXBvc2l0aW9uaW5nXG4gICAgICAgIHRoaXMub25Nb3VzZU1vdmUgPSBmdW5jdGlvbiAoKSB7LypkbyBub3RoaW5nKi99O1xuICAgICAgICB0aGlzLm9uTW91c2VVcCA9IGZ1bmN0aW9uICgpIHsvKmRvIG5vdGhpbmcqL307XG5cbiAgICAgICAgaWYoIXRoaXMuc2VsZWN0aW9uLmRyYWdnaW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVkaXRvci5jbG9zZUFjdGlvbkdyb3VwKCk7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLmRyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6IE1hcmt1cEV2ZW50cy5FVkVOVF9FRElURlJBTUVfRURJVElPTl9FTkQgfSk7IC8vIE1vdmluZyBhcm91bmRcbiAgICB9O1xuXG4gICAgcHJvdG8uX29uUmVzaXplTW91c2VEb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cbiAgICAgICAgaWYgKHRoaXMuX2hhbmRsZVJpZ2h0Q2xpY2tEb3duKGV2ZW50KSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuXG4gICAgICAgIC8vaXMgdGhlIHRhcmdldCB3aGVyZSB0aGUgbW91c2Vkb3duIG9jY3VycmVkIGEgZHJhZyBwb2ludFxuICAgICAgICBpZiAoIWlzRHJhZ1BvaW50KHRhcmdldCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8va2VlcCBhIHJlZmVyZW5jZSB0byB0aGUgcG9pbnQgd2hlcmUgdGhlIGRyYWcgc3RhcnRlZFxuICAgICAgICB0aGlzLnNlbGVjdGlvbi5oYW5kbGUucmVzaXppbmcgPSB0YXJnZXQ7XG4gICAgICAgIC8vZmlndXJlIG91dCB3aGljaCBkaXJlY3Rpb24gdGhpcyBwb2ludCBzaG91bGQgcmVzaXplXG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSB0aGlzLnNlbGVjdGlvbi5oYW5kbGUucmVzaXppbmcuZ2V0QXR0cmlidXRlKCdkYXRhLXNkcC1oYW5kbGUnKTtcbiAgICAgICAgLy9zZXQgdGhlIGN1cnNvciBwb3NpdGlvbiBmb3IgdGhlIGVudGlyZSBsYXllclxuICAgICAgICB0aGlzLmNvbnRhaW5pbmdEaXYuc3R5bGUuY3Vyc29yID0gZGlyZWN0aW9uICsgJy1yZXNpemUnO1xuXG4gICAgICAgIHZhciBjdXJzb3IgPSB0aGlzLmVkaXRvci5nZXRNb3VzZVBvc2l0aW9uKCk7XG5cbiAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5tYXJrdXAuZ2V0Q2xpZW50UG9zaXRpb24oKTtcbiAgICAgICAgdmFyIHNpemUgPSB0aGlzLm1hcmt1cC5nZXRCb3VuZGluZ1JlY3QoKTtcblxuICAgICAgICAvL3N0b3JlIHRoZSBjZW50ZXJcbiAgICAgICAgdGhpcy5pbml0aWFsID0ge1xuICAgICAgICAgICAgeDogcG9zaXRpb24ueCxcbiAgICAgICAgICAgIHk6IHBvc2l0aW9uLnksXG4gICAgICAgICAgICB3aWR0aDogc2l6ZS53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogc2l6ZS5oZWlnaHQsXG4gICAgICAgICAgICBtb3VzZVg6IGN1cnNvci54LFxuICAgICAgICAgICAgbW91c2VZOiBjdXJzb3IueVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMub25Nb3VzZU1vdmUgPSB0aGlzLl9vblJlc2l6ZU1vdXNlTW92ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uTW91c2VVcCA9IHRoaXMuX29uUmVzaXplTW91c2VVcC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbi5yZXNpemluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZWxlY3Rpb24ucmVzaXppbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmVkaXRvci5iZWdpbkFjdGlvbkdyb3VwKCk7XG5cbiAgICAgICAgc2V0SGFuZGxlU2VsZWN0ZWQoZXZlbnQudGFyZ2V0LCB0cnVlKTtcblxuICAgICAgICAvL25vdGlmeSB0aGUgbWFya3VwIHRoYXQgZHJhZ2dpbmcgaGFzIHN0YXJ0ZWRcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHsgdHlwZTogTWFya3VwRXZlbnRzLkVWRU5UX0VESVRGUkFNRV9FRElUSU9OX1NUQVJUIH0pOyAvLyBSZXNpemluZ1xuICAgIH07XG5cbiAgICBwcm90by5fb25SZXNpemVNb3VzZU1vdmUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblxuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0aW9uLnJlc2l6aW5nKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgdmFyIGN1cnNvciA9IHRoaXMuZWRpdG9yLmdldE1vdXNlUG9zaXRpb24oKTtcbiAgICAgICAgdmFyIGluaXRpYWwgPSB0aGlzLmluaXRpYWw7XG5cbiAgICAgICAgdmFyIG1vdmVtZW50ID0ge1xuICAgICAgICAgICAgeDogY3Vyc29yLnggLSBpbml0aWFsLm1vdXNlWCxcbiAgICAgICAgICAgIHk6IGN1cnNvci55IC0gaW5pdGlhbC5tb3VzZVlcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBTa2lwIHJlc2l6ZSBpZiB0aGVyZSBpcyBubyBtb3ZlbWVudFxuICAgICAgICBpZiAobW92ZW1lbnQueCA9PT0gMCAmJiBtb3ZlbWVudC55ID09PSAwKSByZXR1cm47XG5cbiAgICAgICAgdmFyIHZlY3RvciA9IG5ldyBUSFJFRS5WZWN0b3IzKG1vdmVtZW50LngsIG1vdmVtZW50LnksIDApO1xuICAgICAgICB2YXIgdW5kb1JvdGF0aW9uID0gbmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25aKC10aGlzLnNlbGVjdGlvbi5yb3RhdGlvbik7XG4gICAgICAgIG1vdmVtZW50ID0gdmVjdG9yLmFwcGx5TWF0cml4NCh1bmRvUm90YXRpb24pO1xuXG4gICAgICAgIHZhciB4ID0gaW5pdGlhbC54LFxuICAgICAgICAgICAgeSA9IGluaXRpYWwueSxcbiAgICAgICAgICAgIHdpZHRoID0gaW5pdGlhbC53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCA9IGluaXRpYWwuaGVpZ2h0O1xuXG4gICAgICAgIHZhciBsb2NhbFNwYWNlRGVsdGEgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuXG4gICAgICAgIC8vZ2V0IHRoZSBkaXJlY3Rpb24gb2YgdGhlIGFycm93IGJlaW5nIGRyYWdnZWRcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMuc2VsZWN0aW9uLmhhbmRsZS5yZXNpemluZy5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2RwLWhhbmRsZScpO1xuXG4gICAgICAgIC8vIFRPRE86IE1ha2UgYSBtZWNoYW5pc20gdG8gY29uZmlndXJlIGFuZCB1c2UgdGhpcyBmZWF0dXJlIGZyb20gTWFya3VwcyBDb3JlLlxuICAgICAgICAvLyBJZiBzaGlmdCBpcyBwcmVzc2VkLCBmaWd1cmUgYXNwZWN0IHJhdGlvIGlzIG1haW50YWluZWQuXG4gICAgICAgIGlmICh0aGlzLmVkaXRvci5pbnB1dC5rZWVwQXNwZWN0UmF0aW8gJiYgWydudycsICduZScsICdzdycsICdzZSddLmluZGV4T2YoZGlyZWN0aW9uKSAhPT0gLTEpIHtcblxuICAgICAgICAgICAgdmFyIGRlbHRhID0gbmV3IFRIUkVFLlZlY3RvcjMobW92ZW1lbnQueCwgbW92ZW1lbnQueSwgMCk7XG4gICAgICAgICAgICBzd2l0Y2ggKGRpcmVjdGlvbil7XG4gICAgICAgICAgICAgICAgY2FzZSAnbncnOiBtb3ZlbWVudC5zZXQoLWluaXRpYWwud2lkdGgsLWluaXRpYWwuaGVpZ2h0LCAwKTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnbmUnOiBtb3ZlbWVudC5zZXQoIGluaXRpYWwud2lkdGgsLWluaXRpYWwuaGVpZ2h0LCAwKTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnc3cnOiBtb3ZlbWVudC5zZXQoIGluaXRpYWwud2lkdGgsLWluaXRpYWwuaGVpZ2h0LCAwKTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnc2UnOiBtb3ZlbWVudC5zZXQoIGluaXRpYWwud2lkdGgsIGluaXRpYWwuaGVpZ2h0LCAwKTsgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtb3ZlbWVudC5ub3JtYWxpemUoKTtcbiAgICAgICAgICAgIG1vdmVtZW50ID0gZGVsdGEucHJvamVjdE9uVmVjdG9yKG1vdmVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0cmFuc2xhdGlvbnMgPSB7XG4gICAgICAgICAgICBuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaGVpZ2h0IC09IG1vdmVtZW50Lnk7XG4gICAgICAgICAgICAgICAgbG9jYWxTcGFjZURlbHRhLnkgPSBtb3ZlbWVudC55O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBoZWlnaHQgKz0gbW92ZW1lbnQueTtcbiAgICAgICAgICAgICAgICBsb2NhbFNwYWNlRGVsdGEueSA9IG1vdmVtZW50Lnk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHdpZHRoIC09IG1vdmVtZW50Lng7XG4gICAgICAgICAgICAgICAgbG9jYWxTcGFjZURlbHRhLnggPSBtb3ZlbWVudC54O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB3aWR0aCArPSBtb3ZlbWVudC54O1xuICAgICAgICAgICAgICAgIGxvY2FsU3BhY2VEZWx0YS54ID0gbW92ZW1lbnQueDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBudzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMubigpO1xuICAgICAgICAgICAgICAgIHRoaXMudygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5lOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3c6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLncoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMucygpO1xuICAgICAgICAgICAgICAgIHRoaXMuZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRyYW5zbGF0aW9uc1tkaXJlY3Rpb25dKCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgbmV3IHNpemUgaXMgc21hbGxlciB0aGFuIG1pbiB3aWR0aCBvciBoZWlnaHRcbiAgICAgICAgaWYgKHdpZHRoIDw9IHRoaXMubWFya3VwLmdldE1pbldpZHRoKCkgfHwgaGVpZ2h0IDw9IHRoaXMubWFya3VwLmdldE1pbkhlaWdodCgpKSByZXR1cm47XG5cbiAgICAgICAgdmFyIHJlZG9Sb3RhdGlvbiA9IG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWih0aGlzLnNlbGVjdGlvbi5yb3RhdGlvbik7XG4gICAgICAgIHZhciBhY3R1YWxEZWx0YSA9IGxvY2FsU3BhY2VEZWx0YS5hcHBseU1hdHJpeDQocmVkb1JvdGF0aW9uKTtcblxuICAgICAgICB2YXIgbmV3UG9zID0gdGhpcy5lZGl0b3IucG9zaXRpb25Gcm9tQ2xpZW50VG9NYXJrdXBzKFxuICAgICAgICAgICAgeCArIChhY3R1YWxEZWx0YS54ICogMC41KSxcbiAgICAgICAgICAgIHkgKyAoYWN0dWFsRGVsdGEueSAqIDAuNSkpO1xuXG4gICAgICAgIHZhciBuZXdTaXplID0gdGhpcy5lZGl0b3Iuc2l6ZUZyb21DbGllbnRUb01hcmt1cHMod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgdmFyIHNldFNpemUgPSBuZXcgU2V0U2l6ZSh0aGlzLmVkaXRvciwgdGhpcy5tYXJrdXAsIG5ld1BvcywgbmV3U2l6ZS54LCBuZXdTaXplLnkpO1xuICAgICAgICBzZXRTaXplLmV4ZWN1dGUoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHNldEhhbmRsZVNlbGVjdGVkIChoYW5kbGUsIGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGFuZGxlLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90by5fb25SZXNpemVNb3VzZVVwID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLnJlc2l6aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLmhhbmRsZS5yZXNpemluZyA9IG51bGw7XG4gICAgICAgIHRoaXMuY29udGFpbmluZ0Rpdi5zdHlsZS5jdXJzb3IgPSAnJztcblxuICAgICAgICBmb3IgKHZhciBkaXJlY3Rpb24gaW4gdGhpcy5zZWxlY3Rpb24uaGFuZGxlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb24uaGFuZGxlW2RpcmVjdGlvbl0pIHtcbiAgICAgICAgICAgICAgICBzZXRIYW5kbGVTZWxlY3RlZCh0aGlzLnNlbGVjdGlvbi5oYW5kbGVbZGlyZWN0aW9uXSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuICAgICAgICB0aGlzLmVkaXRvci5jbG9zZUFjdGlvbkdyb3VwKCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6IE1hcmt1cEV2ZW50cy5FVkVOVF9FRElURlJBTUVfRURJVElPTl9FTkQgfSk7IC8vIFJlc2l6aW5nXG5cbiAgICAgICAgLy90aGlzIHNob3VsZCBuZXZlciBiZSBjYWxsZWQgYWZ0ZXIgdGhlIG1vdXNlIHVwIGJlY2F1c2Ugd2UgYXJlIG5vIGxvbmdlciByZXNpemluZ1xuICAgICAgICB0aGlzLm9uTW91c2VNb3ZlID0gZnVuY3Rpb24gKCkgey8qZG8gbm90aGluZyovXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25Nb3VzZVVwID0gZnVuY3Rpb24gKCkgey8qZG8gbm90aGluZyovXG4gICAgICAgIH07XG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgYWxsIHRoZSBuZWNlc3NhcnkgbGlzdGVuZXJzIHRvIGhhbmRsZSBhIHJlc2l6aW5nIGFjdGlvbi5cbiAgICAgKlxuICAgICAqIEB0aGlzIEVkaXRGcmFtZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkJveFJlc2l6aW5nKCkge1xuICAgICAgICB0aGlzLnNlbGVjdGlvbkxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX29uUmVzaXplTW91c2VEb3duLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkJveFJvdGF0aW5nICgpIHtcblxuICAgICAgICB0aGlzLnNlbGVjdGlvbi5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX29uUm90YXRpb25Nb3VzZURvd24uYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgdmFyIGluaXRpYWxSb3RhdGlvbjtcbiAgICB2YXIgaW5pdGlhbEhhbmRsZVBvc2l0aW9uO1xuXG4gICAgcHJvdG8uX29uUm90YXRpb25Nb3VzZURvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcblxuICAgICAgICBpZiAodGhpcy5faGFuZGxlUmlnaHRDbGlja0Rvd24oZXZlbnQpKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIC8vaWdub3JlIGFueXRoaW5nIG5vdCBjb21pbmcgZnJvbSB0aGUgcm90YXRpb24gcG9pbnRcbiAgICAgICAgaWYgKCFpc1JvdGF0ZVBvaW50KGV2ZW50LnRhcmdldCkpIHJldHVybjtcblxuICAgICAgICB0aGlzLmVkaXRvci5iZWdpbkFjdGlvbkdyb3VwKCk7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLnJvdGF0aW5nID0gdHJ1ZTtcblxuICAgICAgICAvL3N0b3JlIHRoZSBpbml0aWFsIGN1cnNvclxuICAgICAgICBpbml0aWFsSGFuZGxlUG9zaXRpb24gPSB0aGlzLmVkaXRvci5nZXRNb3VzZVBvc2l0aW9uKCk7XG5cbiAgICAgICAgaW5pdGlhbFJvdGF0aW9uID0gdGhpcy5zZWxlY3Rpb24ucm90YXRpb24gfHwgMDtcblxuICAgICAgICAvL3VwZGF0ZSB0aGUgZnVuY3Rpb24gdGhhdCB3aWxsIGhhbmRsZSB0aGUgbW91c2Vtb3ZlIGFuZCBtb3VzZXVwIGV2ZW50c1xuICAgICAgICB0aGlzLm9uTW91c2VNb3ZlID0gdGhpcy5fb25Sb3RhdGlvbk1vdXNlTW92ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uTW91c2VVcCA9IHRoaXMuX29uUm90YXRpb25Nb3VzZVVwLmJpbmQodGhpcyk7XG5cbiAgICAgICAgc2V0SGFuZGxlU2VsZWN0ZWQoZXZlbnQudGFyZ2V0LCB0cnVlKTtcblxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoeyB0eXBlOiBNYXJrdXBFdmVudHMuRVZFTlRfRURJVEZSQU1FX0VESVRJT05fU1RBUlQgfSk7IC8vIFJvdGF0aW5nXG4gICAgfTtcblxuICAgICBwcm90by5fb25Sb3RhdGlvbk1vdXNlTW92ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuXG4gICAgICAgIC8vaWdub3JlIG1vdXNlbW92ZSBldmVudHMgaWYgdGhlIGRyYWdnaW5nIHN0YXRlIGhhc24ndCBiZWVuIGFjdGl2YXRlZFxuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0aW9uLnJvdGF0aW5nKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgdmFyIGN1cnNvciA9IHRoaXMuZWRpdG9yLmdldE1vdXNlUG9zaXRpb24oKTtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5tYXJrdXAuZ2V0Q2xpZW50UG9zaXRpb24oKTtcblxuICAgICAgICB2YXIgciA9IGdldEFuZ2xlQmV0d2VlblBvaW50cyhwb3NpdGlvbiwgY3Vyc29yKTtcbiAgICAgICAgdmFyIHIyID0gZ2V0QW5nbGVCZXR3ZWVuUG9pbnRzKHBvc2l0aW9uLCBpbml0aWFsSGFuZGxlUG9zaXRpb24pO1xuICAgICAgICB2YXIgcm90YXRpb24gPSByIC0gcjIgKyBpbml0aWFsUm90YXRpb247XG5cbiAgICAgICAgLy8gVE9ETzogTWFrZSBhIG1lY2hhbmlzbSB0byBjb25maWd1cmUgYW5kIHVzZSB0aGlzIGZlYXR1cmUgZnJvbSBNYXJrdXBzIENvcmUuXG4gICAgICAgIGlmICh0aGlzLmVkaXRvci5pbnB1dC5zbmFwUm90YXRpb25zKSB7XG4gICAgICAgICAgICB2YXIgc25hcCA9IGRlZ3JlZXNUb1JhZGlhbnMoMjIuNSk7XG4gICAgICAgICAgICByb3RhdGlvbiA9IE1hdGguY2VpbChyb3RhdGlvbiAvIHNuYXApICogc25hcDtcbiAgICAgICAgfVxuXG4gICAgICAgICAvL3Bhc3Mgcm90YXRpb24gYXMgZGVncmVlc1xuICAgICAgICAgdXBkYXRlU2VsZWN0b3JCb3hQb3NpdGlvbi5iaW5kKHRoaXMpKHRoaXMuc2VsZWN0aW9uLngsIHRoaXMuc2VsZWN0aW9uLnksIHJvdGF0aW9uKTtcblxuICAgICAgICAvL2NvbnZlcnQgdG8gcmFkaWFuc1xuICAgICAgICB2YXIgc2V0Um90YXRpb24gPSBuZXcgU2V0Um90YXRpb24odGhpcy5lZGl0b3IsIHRoaXMubWFya3VwLCByb3RhdGlvbik7XG4gICAgICAgIHNldFJvdGF0aW9uLmV4ZWN1dGUoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHByb3RvLl9vblJvdGF0aW9uTW91c2VVcCA9IGZ1bmN0aW9uIChldmVudCkge1xuXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLnJvdGF0aW5nID0gZmFsc2U7XG4gICAgICAgIGluaXRpYWxSb3RhdGlvbiA9IG51bGw7XG4gICAgICAgIGluaXRpYWxIYW5kbGVQb3NpdGlvbiA9IG51bGw7XG4gICAgICAgIHNldEhhbmRsZVNlbGVjdGVkKHRoaXMuc2VsZWN0aW9uLnJvdGF0aW9uSGFuZGxlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZWRpdG9yLmNsb3NlQWN0aW9uR3JvdXAoKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHsgdHlwZTogTWFya3VwRXZlbnRzLkVWRU5UX0VESVRGUkFNRV9FRElUSU9OX0VORCB9KTsgLy8gUm90YXRpbmdcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgZG91YmxlIGNsaWNrIGxpc3RlbmVyIGFuZCBwYXNzIGV2ZW50cyB0byBtYXJrdXAsIG1hcmt1cHMgc3VjaCBhcyB0ZXh0IHVzZSBpdCB0byBlbnRlciB0ZXh0IGVkaXRcbiAgICAgKiBtb2RlLlxuICAgICAqXG4gICAgICogQHRoaXMgRWRpdEZyYW1lXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFuZGxlU2VsZWN0aW9uRG91YmxlQ2xpY2soKSB7XG5cbiAgICAgICAgdmFyIGRvdWJsZUNsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLmRyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgZWRpdE1vZGUgPSB0aGlzLmVkaXRvci5lZGl0TW9kZTtcbiAgICAgICAgICAgIGVkaXRNb2RlICYmIGVkaXRNb2RlLm9uTW91c2VEb3VibGVDbGljayh0aGlzLm1hcmt1cCk7XG4gICAgICAgIH0uYmluZCh0aGlzKTtcblxuICAgICAgICB2YXIgc2VsZWN0b3JCb3hXcmFwcGVyID0gdGhpcy5zZWxlY3Rpb25MYXllcjtcbiAgICAgICAgc2VsZWN0b3JCb3hXcmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgZG91YmxlQ2xpY2spO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvZ2dsZVBvaW50ZXJFdmVudHMoZWxlbWVudCwgc3RhdGUpIHtcblxuICAgICAgICBlbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBzdGF0ZSA/ICdhdXRvJyA6ICdub25lJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRBbmdsZUJldHdlZW5Qb2ludHMgKHAxLCBwMikge1xuXG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHAyLnkgLSBwMS55LCBwMi54IC0gcDEueCk7XG4gICAgfVxuXG4gICAgIGZ1bmN0aW9uIG1hdGNoZXNTZWxlY3RvckF1eChkb21FbGVtLCBzZWxlY3Rvcikge1xuICAgICAgICAgaWYgKGRvbUVsZW0ubWF0Y2hlcykgcmV0dXJuIGRvbUVsZW0ubWF0Y2hlcyhzZWxlY3Rvcik7IC8vVW4tcHJlZml4ZWRcbiAgICAgICAgIGlmIChkb21FbGVtLm1zTWF0Y2hlc1NlbGVjdG9yKSByZXR1cm4gZG9tRWxlbS5tc01hdGNoZXNTZWxlY3RvcihzZWxlY3Rvcik7ICAvL0lFXG4gICAgICAgICBpZiAoZG9tRWxlbS5tb3pNYXRjaGVzU2VsZWN0b3IpIHJldHVybiBkb21FbGVtLm1vek1hdGNoZXNTZWxlY3RvcihzZWxlY3Rvcik7IC8vRmlyZWZveCAoR2Vja28pXG4gICAgICAgICBpZiAoZG9tRWxlbS53ZWJraXRNYXRjaGVzU2VsZWN0b3IpIHJldHVybiBkb21FbGVtLndlYmtpdE1hdGNoZXNTZWxlY3RvcihzZWxlY3Rvcik7IC8vIE9wZXJhLCBTYWZhcmksIENocm9tZVxuICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICB9XG4iXSwibmFtZXMiOlsiRURJVF9GUkFNRV9ERUZBVUxUX01BUkdJTiIsImFkZFRyYWl0RXZlbnREaXNwYXRjaGVyIiwiaXNUb3VjaERldmljZSIsImRlZ3JlZXNUb1JhZGlhbnMiLCJNYXJrdXBFdmVudHMiLCJDbG9uZU1hcmt1cCIsIlNldFBvc2l0aW9uIiwiU2V0U2l6ZSIsIlNldFJvdGF0aW9uIiwiYXYiLCJBdXRvZGVzayIsIlZpZXdpbmciLCJhdnAiLCJQcml2YXRlIiwiRWRpdEZyYW1lIiwiY29udGFpbmluZ0RpdiIsImVkaXRvciIsInNldEdsb2JhbE1hbmFnZXIiLCJ2aWV3ZXIiLCJnbG9iYWxNYW5hZ2VyIiwic2VsZWN0aW9uTGF5ZXIiLCJjcmVhdGVTZWxlY3Rpb25MYXllciIsImJpbmQiLCJmcmFtZU1hcmdpbiIsInNlbGVjdGlvbiIsIngiLCJ5Iiwid2lkdGgiLCJoZWlnaHQiLCJyb3RhdGlvbiIsImVsZW1lbnQiLCJhY3RpdmUiLCJkcmFnZ2luZyIsInJlc2l6aW5nIiwiaGFuZGxlIiwiY3JlYXRlU2VsZWN0b3JCb3giLCJoYW1tZXIiLCJIYW1tZXIiLCJNYW5hZ2VyIiwicmVjb2duaXplcnMiLCJHZXN0dXJlUmVjb2duaXplcnMiLCJkcmFnIiwiZG91YmxldGFwIiwiZG91YmxldGFwMiIsInBhbiIsInBpbmNoIiwiaGFuZGxlUG9pbnRlckV2ZW50TW91c2UiLCJpbnB1dENsYXNzIiwiVG91Y2hJbnB1dCIsIm9uSGFtbWVyRHJhZ0JpbmRlZCIsIm9uSGFtbWVyRHJhZyIsIm9uSGFtbWVyRG91YmxlVGFwQmluZGVkIiwib25IYW1tZXJEb3VibGVUYXAiLCJvblRvdWNoUGFuQmluZGVkIiwib25Ub3VjaFBhbiIsIm9uVG91Y2hQaW5jaEJpbmRlZCIsIm9uVG91Y2hQaW5jaCIsIm9uIiwiZ2V0IiwicmVxdWlyZUZhaWx1cmUiLCJoYW5kbGVTZWxlY3Rpb25Cb3hEcmFnZ2luZyIsImhhbmRsZVNlbGVjdGlvbkJveFJlc2l6aW5nIiwiaGFuZGxlU2VsZWN0aW9uRG91YmxlQ2xpY2siLCJoYW5kbGVTZWxlY3Rpb25Cb3hSb3RhdGluZyIsImFwcGVuZENoaWxkIiwiR2xvYmFsTWFuYWdlck1peGluIiwiY2FsbCIsInByb3RvdHlwZSIsInByb3RvIiwidW5sb2FkIiwicmVtb3ZlQ2hpbGQiLCJzZXRTZWxlY3Rpb24iLCJtYXJnaW4iLCJkb3VibGVNYXJnaW4iLCJ1cGRhdGVTZWxlY3RvckJveERpbWVuc2lvbnMiLCJ1cGRhdGVTZWxlY3RvckJveFBvc2l0aW9uIiwidXBkYXRlU2VsZWN0aW9uQm94U3RhdGUiLCJzdHlsZSIsInZpc2liaWxpdHkiLCJzZXRNYXJrdXAiLCJtYXJrdXAiLCJzZXQiLCJlbmFibGUiLCJib3VuZGluZ0JveCIsImdldEJvdW5kaW5nUmVjdCIsImdldFJvdGF0aW9uIiwidW5kZWZpbmVkIiwiZW5hYmxlUmVzaXplSGFuZGxlcyIsImVuYWJsZVJvdGF0aW9uSGFuZGxlIiwicHJldmVudFJlcG9zaXRpb24iLCJmaXJzdENoaWxkIiwiY3Vyc29yIiwic3RhcnREcmFnIiwiZXZlbnQiLCJvbk1vdXNlTW92ZSIsIl9vblJlcG9zaXRpb25Nb3VzZU1vdmUiLCJvbk1vdXNlVXAiLCJfb25SZXBvc2l0aW9uTW91c2VVcCIsIl9vblJlcG9zaXRpb25Nb3VzZURvd24iLCJnZXRNb3VzZVBvc2l0aW9uIiwiaXNBY3RpdmUiLCJpc0RyYWdnaW5nIiwiaXNSZXNpemluZyIsImlzUm90YXRpbmciLCJyb3RhdGluZyIsIm9uV2hlZWwiLCJ0b29sQ29udHJvbGxlciIsIm1vdXNld2hlZWwiLCJnZXN0dXJlSGFuZGxlciIsImdldFRvb2wiLCJkaXN0cmlidXRlR2VzdHVyZSIsInByZXZlbnREZWZhdWx0IiwidXBkYXRlRWRpdG9ySW5wdXQiLCJpbnB1dCIsInBhcmVudCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJtb3VzZVBvc2l0aW9uIiwicGFnZVgiLCJsZWZ0IiwicGFnZVkiLCJ0b3AiLCJjb252ZXJ0RXZlbnRIYW1tZXJUb01vdXNlIiwidHlwZSIsInN2ZyIsImNhbGxTbmFwcGVyTW91c2VEb3duIiwiaXNSb3RhdGVQb2ludCIsInRhcmdldCIsIl9vblJvdGF0aW9uTW91c2VEb3duIiwiaXNEcmFnUG9pbnQiLCJfb25SZXNpemVNb3VzZURvd24iLCJjYWxsU25hcHBlck1vdXNlTW92ZSIsImVkaXRNb2RlIiwib25Nb3VzZURvdWJsZUNsaWNrIiwiaXNIZWlnaHRDb25zdHJhaW5lZCIsImlzV2lkdGhDb25zdHJhaW5lZCIsImRpcmVjdGlvbiIsImRpc3BsYXkiLCJpc1JvdGF0aW9uQ29uc3RyYWluZWQiLCJyb3RhdGlvbkhhbmRsZSIsInJvdGF0aW9uQnJpZGdlIiwicG9pbnRlcnMiLCJjbGllbnRYIiwiY2xpZW50WSIsIl9kb2N1bWVudCIsImdldERvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInBvc2l0aW9uIiwiYm90dG9tIiwicmlnaHQiLCJvdmVyZmxvdyIsInRvZ2dsZVBvaW50ZXJFdmVudHMiLCJjcmVhdGVEcmFnUG9pbnQiLCJwb2ludCIsInNldFJlc2l6ZUN1cnNvciIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsImFkZCIsInNldEF0dHJpYnV0ZSIsImNyZWF0ZVJvdGF0ZVBvaW50IiwiY3JlYXRlUm90YXRpb25CcmlkZ2UiLCJjcmVhdGVEcmFnUG9pbnRzIiwic2VsZWN0b3IiLCJmb3JFYWNoIiwibWF0Y2hlc1NlbGVjdG9yQXV4Iiwic2VsZWN0b3JCb3giLCJpc01vYmlsZURldmljZSIsIm9uV2hlZWxCaW5kZWQiLCJhZGRFdmVudExpc3RlbmVyIiwidG9UcmFuc2xhdGUzZCIsInNpemUiLCJ0cmFuc2Zvcm0iLCJ0cmFuc2Zvcm1PcmlnaW4iLCJtc1RyYW5zZm9ybSIsIndlYmtpdFRyYW5zZm9ybSIsIm1zVHJhbnNmb3JtT3JpZ2luIiwid2Via2l0VHJhbnNmb3JtT3JpZ2luIiwiX2hhbmRsZVJpZ2h0Q2xpY2tEb3duIiwiaXNSaWdodENsaWNrIiwibmF2aWdhdGlvbiIsImlzTWlkZGxlQ2xpY2siLCJvbk1vdXNlRG93blJpZ2h0Q2xpY2siLCJpZ25vcmVGaXJzdE1vdXNlTW92ZSIsIl93aW5kb3ciLCJnZXRXaW5kb3ciLCJzeW50aGV0aWNTdGFydCIsIk1vdXNlRXZlbnQiLCJpbml0aWFsQ3Vyc29yIiwiaW5pdGlhbFBvc2l0aW9uIiwiZ2V0Q2xpZW50UG9zaXRpb24iLCJhcmVBeGlzQ29uc3RyYWluZWQiLCJheGlzQ29uc3RyYWlucyIsIlRIUkVFIiwiVmVjdG9yMiIsImJlZ2luQWN0aW9uR3JvdXAiLCJhbHRLZXkiLCJjbG9uZU1hcmt1cCIsImdldElkIiwiZXhlY3V0ZSIsImRpc3BhdGNoRXZlbnQiLCJFVkVOVF9FRElURlJBTUVfRURJVElPTl9TVEFSVCIsImNvbnN0cmFpbkF4aXMiLCJtb3ZlbWVudCIsImRlYWRab25lIiwiTWF0aCIsImFicyIsInBvc2l0aW9uRnJvbUNsaWVudFRvTWFya3VwcyIsInNldFBvc2l0aW9uIiwibGFzdCIsImNsb3NlQWN0aW9uR3JvdXAiLCJFVkVOVF9FRElURlJBTUVfRURJVElPTl9FTkQiLCJnZXRBdHRyaWJ1dGUiLCJpbml0aWFsIiwibW91c2VYIiwibW91c2VZIiwiX29uUmVzaXplTW91c2VNb3ZlIiwiX29uUmVzaXplTW91c2VVcCIsInNldEhhbmRsZVNlbGVjdGVkIiwidmVjdG9yIiwiVmVjdG9yMyIsInVuZG9Sb3RhdGlvbiIsIk1hdHJpeDQiLCJtYWtlUm90YXRpb25aIiwiYXBwbHlNYXRyaXg0IiwibG9jYWxTcGFjZURlbHRhIiwia2VlcEFzcGVjdFJhdGlvIiwiaW5kZXhPZiIsImRlbHRhIiwibm9ybWFsaXplIiwicHJvamVjdE9uVmVjdG9yIiwidHJhbnNsYXRpb25zIiwibiIsInMiLCJ3IiwiZSIsIm53IiwibmUiLCJzdyIsInNlIiwiZ2V0TWluV2lkdGgiLCJnZXRNaW5IZWlnaHQiLCJyZWRvUm90YXRpb24iLCJhY3R1YWxEZWx0YSIsIm5ld1BvcyIsIm5ld1NpemUiLCJzaXplRnJvbUNsaWVudFRvTWFya3VwcyIsInNldFNpemUiLCJpc1NlbGVjdGVkIiwicmVtb3ZlIiwiaW5pdGlhbFJvdGF0aW9uIiwiaW5pdGlhbEhhbmRsZVBvc2l0aW9uIiwiX29uUm90YXRpb25Nb3VzZU1vdmUiLCJfb25Sb3RhdGlvbk1vdXNlVXAiLCJyIiwiZ2V0QW5nbGVCZXR3ZWVuUG9pbnRzIiwicjIiLCJzbmFwUm90YXRpb25zIiwic25hcCIsImNlaWwiLCJzZXRSb3RhdGlvbiIsImRvdWJsZUNsaWNrIiwiZGVmYXVsdFByZXZlbnRlZCIsInNlbGVjdG9yQm94V3JhcHBlciIsInN0YXRlIiwicG9pbnRlckV2ZW50cyIsInAxIiwicDIiLCJhdGFuMiIsImRvbUVsZW0iLCJtYXRjaGVzIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/EditFrame.js\n");

/***/ }),

/***/ "./extensions/Markup/core/EditModeManager.js":
/*!***************************************************!*\
  !*** ./extensions/Markup/core/EditModeManager.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   theEditModeManager: () => (/* binding */ theEditModeManager)\n/* harmony export */ });\n\n// Maps EditMode id (string) into a contructor/class\nvar _editModes = {};\n\nclass EditModeManager {\n  constructor() {\n\n    // nothing //\n  }\n  register(id, clazz) {\n    if (id in _editModes)\n    throw new Error(`EditMode with id (${id}) already registered.`);\n\n    _editModes[id] = clazz;\n  }\n\n  unregister(id) {\n    if (id in _editModes)\n    delete _editModes[id];\n  }\n\n  getClass(id) {\n    return _editModes[id] || null;\n  }\n\n  getRegistered() {\n    var ret = {};\n    for (var id in _editModes) {\n      if (Object.prototype.hasOwnProperty.call(_editModes, id)) {\n        ret[id] = _editModes[id];\n      }\n    }\n    return ret; // shallow copy.\n  }\n}\n\n\nvar theEditModeManager = new EditModeManager();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL0VkaXRNb2RlTWFuYWdlci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUNBO0FBQ0EsSUFBSUEsVUFBVSxHQUFHLENBQUMsQ0FBQzs7QUFFbkIsTUFBTUMsZUFBZSxDQUFDO0VBQ2xCQyxXQUFXQSxDQUFBLEVBQUU7O0lBQ1Q7RUFBQTtFQUdKQyxRQUFRQSxDQUFDQyxFQUFFLEVBQUVDLEtBQUssRUFBRTtJQUNoQixJQUFJRCxFQUFFLElBQUlKLFVBQVU7SUFDaEIsTUFBTSxJQUFJTSxLQUFLLENBQUUscUJBQW9CRixFQUFHLHVCQUFzQixDQUFDOztJQUUvREosVUFBVSxDQUFDSSxFQUFFLENBQUMsR0FBR0MsS0FBSztFQUM5Qjs7RUFFQUUsVUFBVUEsQ0FBQ0gsRUFBRSxFQUFFO0lBQ1gsSUFBSUEsRUFBRSxJQUFJSixVQUFVO0lBQ2hCLE9BQU9BLFVBQVUsQ0FBQ0ksRUFBRSxDQUFDO0VBQzdCOztFQUVBSSxRQUFRQSxDQUFDSixFQUFFLEVBQUU7SUFDVCxPQUFPSixVQUFVLENBQUNJLEVBQUUsQ0FBQyxJQUFJLElBQUk7RUFDakM7O0VBRUFLLGFBQWFBLENBQUEsRUFBRztJQUNaLElBQUlDLEdBQUcsR0FBRyxDQUFDLENBQUM7SUFDWixLQUFLLElBQUlOLEVBQUUsSUFBSUosVUFBVSxFQUFFO01BQ3ZCLElBQUlXLE1BQU0sQ0FBQ0MsU0FBUyxDQUFDQyxjQUFjLENBQUNDLElBQUksQ0FBQ2QsVUFBVSxFQUFFSSxFQUFFLENBQUMsRUFBRTtRQUN0RE0sR0FBRyxDQUFDTixFQUFFLENBQUMsR0FBR0osVUFBVSxDQUFDSSxFQUFFLENBQUM7TUFDNUI7SUFDSjtJQUNBLE9BQU9NLEdBQUcsQ0FBQyxDQUFDO0VBQ2hCO0FBQ0o7OztBQUdPLElBQUlLLGtCQUFrQixHQUFJLElBQUlkLGVBQWUsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvRWRpdE1vZGVNYW5hZ2VyLmpzP2VkYzAiXSwic291cmNlc0NvbnRlbnQiOlsiXG4vLyBNYXBzIEVkaXRNb2RlIGlkIChzdHJpbmcpIGludG8gYSBjb250cnVjdG9yL2NsYXNzXG52YXIgX2VkaXRNb2RlcyA9IHt9O1xuXG5jbGFzcyBFZGl0TW9kZU1hbmFnZXIge1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIC8vIG5vdGhpbmcgLy9cbiAgICB9XG5cbiAgICByZWdpc3RlcihpZCwgY2xhenopIHtcbiAgICAgICAgaWYgKGlkIGluIF9lZGl0TW9kZXMpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVkaXRNb2RlIHdpdGggaWQgKCR7aWR9KSBhbHJlYWR5IHJlZ2lzdGVyZWQuYCk7XG5cbiAgICAgICAgICAgIF9lZGl0TW9kZXNbaWRdID0gY2xheno7XG4gICAgfVxuXG4gICAgdW5yZWdpc3RlcihpZCkge1xuICAgICAgICBpZiAoaWQgaW4gX2VkaXRNb2RlcylcbiAgICAgICAgICAgIGRlbGV0ZSBfZWRpdE1vZGVzW2lkXTtcbiAgICB9XG5cbiAgICBnZXRDbGFzcyhpZCkge1xuICAgICAgICByZXR1cm4gX2VkaXRNb2Rlc1tpZF0gfHwgbnVsbDtcbiAgICB9XG5cbiAgICBnZXRSZWdpc3RlcmVkKCkge1xuICAgICAgICB2YXIgcmV0ID0ge307XG4gICAgICAgIGZvciAodmFyIGlkIGluIF9lZGl0TW9kZXMpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX2VkaXRNb2RlcywgaWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0W2lkXSA9IF9lZGl0TW9kZXNbaWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXQ7IC8vIHNoYWxsb3cgY29weS5cbiAgICB9XG59XG5cblxuZXhwb3J0IHZhciB0aGVFZGl0TW9kZU1hbmFnZXIgPSAgbmV3IEVkaXRNb2RlTWFuYWdlcigpOyJdLCJuYW1lcyI6WyJfZWRpdE1vZGVzIiwiRWRpdE1vZGVNYW5hZ2VyIiwiY29uc3RydWN0b3IiLCJyZWdpc3RlciIsImlkIiwiY2xhenoiLCJFcnJvciIsInVucmVnaXN0ZXIiLCJnZXRDbGFzcyIsImdldFJlZ2lzdGVyZWQiLCJyZXQiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJ0aGVFZGl0TW9kZU1hbmFnZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/EditModeManager.js\n");

/***/ }),

/***/ "./extensions/Markup/core/Markup.js":
/*!******************************************!*\
  !*** ./extensions/Markup/core/Markup.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Markup: () => (/* binding */ Markup)\n/* harmony export */ });\n/* harmony import */ var _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MarkupsCoreUtils */ \"./extensions/Markup/core/MarkupsCoreUtils.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n/* harmony import */ var _MarkupEvents__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MarkupEvents */ \"./extensions/Markup/core/MarkupEvents.js\");\n\n\n\n\n\n\nvar av = Autodesk.Viewing;\n\n/**\n * Base class for all markups.\n *\n * A Markup is a class that is capable of rendering itself as an Svg node.<br>\n * It can also render itself into a canvas-2d context.\n * Component within {@link Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore MarkupsCore} extension.\n *\n * Any class extending Markup should contain at least the following methods:\n * - getEditMode()\n * - set()\n * - updateStyle()\n * - setParent()\n * - setRotation()\n * - setSize()\n * - setPosition()\n * - renderToCanvas()\n * - setMetadata()\n *\n * A good reference is the rectangle markup implementation available in\n * {@link Autodesk.Viewing.Extensions.Markups.Core.MarkupRectangle|MarkupRectangle}.\n *\n * @tutorial feature_markup\n * @constructor\n * @memberof Autodesk.Viewing.Extensions.Markups.Core\n *\n * @param {number} id - Identifier, populated with return value of {@link Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore#getId getId()}.\n * @param {Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore} editor - Markups extension\n * @param {Array} styleAttributes - Attributes for customization. Related to {@link Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore#setStyle setStyle()}.\n * @constructor\n */\nfunction Markup(id, editor, styleAttributes) {\n\n  this.id = id;\n  this.type = \"\";\n  this.editor = editor;\n  this.viewer = editor.viewer;\n  this.setGlobalManager(this.viewer.globalManager);\n  this.position = { x: 0, y: 0 };\n  this.size = { x: 0, y: 0 };\n  this.rotation = 0;\n  this.style = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_1__.createStyle)(styleAttributes, this.editor);\n  this.style = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_1__.copyStyle)(editor.getDefaultStyle(), this.style);\n  this.highlightColor = '#0696D7';\n  this.constraintWidth = false;\n  this.constraintHeight = false;\n  this.constraintRotation = false;\n  this.minWidth = -10000;\n  this.minHeight = -10000;\n  this.highlighted = false;\n  this.selected = false;\n\n  // bind to this to pass this.globalManager\n  this.checkLineSegment = _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_0__.checkLineSegment.bind(this);\n  this.checkPolygon = _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_0__.checkPolygon.bind(this);\n  this.renderToCanvasX = _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_0__.renderToCanvas.bind(this);\n\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_0__.addTraitEventDispatcher)(this);\n}\n\nav.GlobalManagerMixin.call(Markup.prototype);\nvar proto = Markup.prototype;\n\nproto.destroy = function () {\n\n  this.unselect();\n  this.setParent(null);\n};\n\n/**\n * Specifies the parent layer which will contain the markup.\n * @param {HTMLElement} parent\n */\nproto.setParent = function (parent) {\n\n  var div = this.shape;\n  div.parentNode && div.parentNode.removeChild(div);\n  parent && parent.appendChild(div);\n};\n\n/**\n * Clones (deep-copy) the markup. Used internally by the copy/cut/paste mechanism in\n * {@link Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore MarkupsCore}.\n *\n * @returns {Autodesk.Viewing.Extensions.Markups.Core.Markup} clone of the current markup\n */\nproto.clone = function () {\n\n  var clone = Object.create(this.__proto__);\n  var overrides = this.getCloneOverrides();\n\n  for (var name in this) {\n\n    if (!Object.prototype.hasOwnProperty.call(this, name)) {\n      continue;\n    }\n\n    var member = this[name];\n\n    // Is there an override for this member?\n    if (Object.prototype.hasOwnProperty.call(overrides, name)) {\n      clone[name] = overrides[name];\n      continue;\n    }\n\n    // Member is null or undefined?\n    if (member === null || member === undefined) {\n      clone[name] = member;\n      continue;\n    }\n\n    // Member has a clone function?\n    if (member['clone'] instanceof Function) {\n      clone[name] = member.clone();\n      continue;\n    }\n\n    // Is it a function?\n    if (member instanceof Function) {\n      clone[name] = member.bind(clone);\n      continue;\n    }\n\n    // Is it an html node?\n    if (member.nodeType) {\n      clone[name] = member.cloneNode(true);\n      continue;\n    }\n\n    // Is it the globalManager?\n    if (member instanceof av.GlobalManager) {\n      av.GlobalManagerMixin.call(clone);\n      clone.setGlobalManager(member);\n      continue;\n    }\n\n    // Just a plain object?\n    if (member instanceof Object) {\n      clone[name] = JSON.parse(JSON.stringify(member));\n      continue;\n    }\n\n    // Ok, it seems it's just a primitive type.\n    clone[name] = member;\n  }\n\n  this.cloneShape(clone);\n  return clone;\n};\n\nproto.cloneShape = function (clone) {\n\n  clone.shape.markup = clone.shape.childNodes.item(0);\n  clone.shape.hitarea = clone.shape.childNodes.item(1);\n  clone.bindDomEvents();\n};\n\n/**\n * Used internally by\n * {@link Autodesk.Viewing.Extensions.Markups.Core.Markup#clone clone()},\n * provides a mechanism to avoid cloning specific attributes.<br>\n * Developers only need to override this method when creating new Markup types.\n * When overriding, first call the super() implementation and then include additional attribute/value pairs to it.\n * @returns {Object} containing attributes that need not to be cloned.\n */\nproto.getCloneOverrides = function () {\n\n  return {\n    viewer: this.viewer,\n    editor: this.editor,\n    hammer: null,\n    listeners: {}\n  };\n};\n\n/**\n * Used internally to select a markup.<br>\n * Fires event Autodesk.Viewing.Extensions.Markups.Core.EVENT_MARKUP_SELECTED.\n */\nproto.select = function () {\n\n  if (this.selected) {\n    return;\n  }\n\n  this.selected = true;\n  this.highlighted = false;\n  this.updateStyle();\n  this.dispatchEvent({ type: _MarkupEvents__WEBPACK_IMPORTED_MODULE_2__.EVENT_MARKUP_SELECTED, markup: this });\n};\n\n/**\n * Used internally to signal that the current markup has been unselected.<br>\n * No event is fired.\n */\nproto.unselect = function () {\n\n  this.selected = false;\n};\n\nproto.highlight = function (highlight) {\n\n  if (this.interactionsDisabled) {\n    return;\n  }\n\n  this.highlighted = highlight;\n  this.updateStyle();\n};\n\n/**\n * Returns a copy of the markup's style.\n * @returns {Object}\n */\nproto.getStyle = function () {\n\n  return (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_1__.cloneStyle)(this.style);\n};\n\n/**\n * Used internally to set the style object. Triggers a re-render of the markup (Svg)\n * @param {Object} style - Dictionary with key/value pairs\n */\nproto.setStyle = function (style) {\n\n  (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_1__.copyStyle)(style, this.style);\n  this.updateStyle();\n};\n\n/**\n * Used internally and implemented by specific Markup types to render themselves as Svg.\n */\nproto.updateStyle = function () {\n\n};\n\n/**\n * Used internally to notify the markup that it is now being edited.<br>\n * Fires event Autodesk.Viewing.Extensions.Markups.Core.EVENT_MARKUP_ENTER_EDITION.\n */\nproto.edit = function () {\n\n  this.dispatchEvent({ type: _MarkupEvents__WEBPACK_IMPORTED_MODULE_2__.EVENT_MARKUP_ENTER_EDITION, markup: this });\n};\n\n/**\n * Used internally to signal that it is no longer being edited.<br>\n * Fires event Autodesk.Viewing.Extensions.Markups.Core.EVENT_MARKUP_CANCEL_EDITION.\n */\nproto.cancel = function () {\n\n  this.dispatchEvent({ type: _MarkupEvents__WEBPACK_IMPORTED_MODULE_2__.EVENT_MARKUP_CANCEL_EDITION, markup: this });\n};\n\n/**\n * Used internally to signal that the markup is being deleted.<br>\n * Fires event Autodesk.Viewing.Extensions.Markups.Core.EVENT_MARKUP_DELETE_EDITION.\n */\nproto.deleteMarkup = function () {\n\n  this.dispatchEvent({ type: _MarkupEvents__WEBPACK_IMPORTED_MODULE_2__.EVENT_MARKUP_DELETE_EDITION, markup: this });\n};\n\n/**\n * Used internally to get the {@link Autodesk.Viewing.Extensions.Markups.Core.EditMode EditMode}\n * associated with the current Markup.<br>\n * Implemented by classes extending this one.\n * @returns {Autodesk.Viewing.Extensions.Markups.Core.EditMode}\n */\nproto.getEditMode = function () {\n\n  console.warn('EditMode of markup type' + this.type + ' not defined.');\n  return null;\n};\n\n/**\n * Used internally to get the markup's position in browser pixel space.<br>\n * Notice that (0,0) is top left.<br>\n * See also\n * {@link Autodesk.Viewing.Extensions.Markups.Core.Markup#getClientSize|getClientSize()}.\n * @returns {*}\n */\nproto.getClientPosition = function () {\n\n  var position = this.position;\n  return this.editor.positionFromMarkupsToClient(position.x, position.y);\n};\n\n/**\n * Used internally to get the markup's bounding rect in browser pixel space.<br>\n * See also\n * {@link Autodesk.Viewing.Extensions.Markups.Core.Markup#getClientPosition|getClientPosition()}.\n * @returns {*}\n */\nproto.getClientSize = function () {\n\n  var size = this.size;\n  return this.editor.sizeFromMarkupsToClient(size.x, size.y);\n};\n\n/**\n * Used internally to get the markup's bounding rect in browser pixel space, including the stroke width.<br>\n * @returns {Object} a rectangle with right, top, left, bottom attributes\n */\nproto.getBoundingRect = function () {\n\n  var rotation = this.rotation;\n\n  if (rotation !== 0) {// Undo rotation to find a tight bounding rect\n    this.setRotation(0);\n  }\n\n  var parentRect = this.viewer.impl.getCanvasBoundingClientRect();\n\n  var boundRect = this.shape.markup.getBoundingClientRect();\n  var top = boundRect.top - parentRect.top;\n\n  var strokeWidth = this.style['stroke-width'] || 0;\n  var offset = this.editor.sizeFromMarkupsToClient(strokeWidth, 0).x;\n\n  if (rotation !== 0) {\n    this.setRotation(rotation);\n  }\n\n  return {\n    x: boundRect.left - parentRect.left - offset,\n    y: top - offset,\n    width: boundRect.width + 2 * offset,\n    height: boundRect.height + 2 * offset\n  };\n};\n\n/**\n * Changes the rotation of the markup to the given angle.\n * This gets called by the Autodesk.Viewing.Extensions.Markups.Core.SetRotation edit action\n *\n * @param {Number} angle\n */\nproto.setRotation = function (angle) {\n\n  this.rotation = angle;\n  this.updateStyle();\n};\n\nproto.getRotation = function () {\n\n  return this.rotation;\n};\n\n/**\n * Used by the EditFrame to move the markup in Client Space coordinates\n * @param {Number} x - New X location for the markup. Notice that markups are centered on this value.\n * @param {Number} y - New Y location for the markup. Notice that markups are centered on this value.\n */\nproto.setPosition = function (x, y) {\n\n  this.position.x = x;\n  this.position.y = y;\n\n  this.updateStyle();\n};\n\n/**\n * Changes the position and size of the markup.\n * This gets called by the Autodesk.Viewing.Extensions.Markups.Core.SetSize edit action\n * @param {{x: Number, y: Number}} position\n * @param {Number} width\n * @param {Number} height\n */\nproto.setSize = function (position, width, height) {\n\n  this.position.x = position.x;\n  this.position.y = position.y;\n  this.size.x = width;\n  this.size.y = height;\n\n  this.updateStyle();\n};\n\nproto.isWidthConstrained = function () {\n\n  return this.constraintWidth;\n};\n\nproto.isHeightConstrained = function () {\n\n  return this.constraintHeight;\n};\n\nproto.isRotationConstrained = function () {\n\n  return this.constraintRotation;\n};\n\nproto.setMinWidth = function (minWidth) {\n  this.minWidth = minWidth;\n};\n\nproto.setMinHeight = function (minHeight) {\n  this.minHeight = minHeight;\n};\n\nproto.getMinWidth = function () {\n  return this.minWidth;\n};\n\nproto.getMinHeight = function () {\n  return this.minHeight;\n};\n\n/**\n * Used to disable highlight on annotations while a new annotation is being created.\n * @param {Boolean} disable - Whether (mouse) interactions are enable.\n */\nproto.disableInteractions = function (disable) {\n\n  this.interactionsDisabled = disable;\n};\n\n/**\n *\n * @param width\n */\nproto.setStrokeWidth = function (width) {\n\n};\n\nproto.constrainsToBounds = function (bounds) {\n\n};\n\nproto.onMouseDown = function (event) {\n\n  if (this.interactionsDisabled) {\n    return;\n  }\n\n  this.select();\n  this.editor.editFrame.startDrag(event);\n};\n\n/**\n *\n * @param idTarget\n * @returns *\n */\nproto.generatePoint3d = function (idTarget) {\n\n  var viewer = this.viewer;\n  var polygon = this.generateBoundingPolygon();\n  var self = this;\n\n  function checkLineSegmentAux(a, b) {\n\n    var point2d = self.checkLineSegment(a.x, a.y, b.x, b.y, idTarget);\n    var point3d = point2d && viewer.clientToWorld(point2d.x, point2d.y);\n    return point3d && point3d.point;\n  }\n\n  function checkPolygonAux(polygon) {\n\n    var point2d = self.checkPolygon(polygon, idTarget);\n    var point3d = point2d && viewer.clientToWorld(point2d.x, point2d.y);\n    return point3d && point3d.point;\n  }\n\n  // Try to avoid expensive calculations by checking some lines segments first.\n  // If line check cannot find a point the costly one by area is used.\n  // A ----midAB---- B\n  // |               |\n  // |     center    |\n  // |               |\n  // C --------------D\n\n  var xVertices = polygon.xVertices;\n  var yVertices = polygon.yVertices;\n\n  var midAB = new THREE.Vector2(xVertices[0] + xVertices[1], yVertices[0] + yVertices[1]).multiplyScalar(0.5);\n  var midAC = new THREE.Vector2(xVertices[0] + xVertices[3], yVertices[0] + yVertices[3]).multiplyScalar(0.5);\n  var midDB = new THREE.Vector2(xVertices[2] + xVertices[1], yVertices[2] + yVertices[1]).multiplyScalar(0.5);\n  var midDC = new THREE.Vector2(xVertices[2] + xVertices[3], yVertices[2] + yVertices[3]).multiplyScalar(0.5);\n  var center = midAC.clone().add(midDB).multiplyScalar(0.5);\n\n  var point3d =\n  checkLineSegmentAux(center, midDB) ||\n  checkLineSegmentAux(center, midAC) ||\n  checkLineSegmentAux(center, midAB) ||\n  checkLineSegmentAux(center, midDC);\n\n  return point3d || checkPolygonAux(polygon);\n};\n\n/**\n *\n * @returns {{min: {x: number, y: number}, max: {x: number, y: number}}}\n */\nproto.generateBoundingBox = function () {\n\n  var boundingBox = { min: { x: 0, y: 0 }, max: { x: 0, y: 0 } };\n\n  // Get bounding box from markup bounding polygon.\n  var polygon = this.generateBoundingPolygon();\n\n  var vertexCount = polygon.vertexCount;\n  var xVertices = polygon.xVertices;\n  var yVertices = polygon.yVertices;\n\n  var bbX0 = Number.POSITIVE_INFINITY;\n  var bbY0 = Number.POSITIVE_INFINITY;\n  var bbX1 = Number.NEGATIVE_INFINITY;\n  var bbY1 = Number.NEGATIVE_INFINITY;\n\n  for (var i = 0; i < vertexCount; ++i) {\n\n    var bbX = xVertices[i];\n    var bbY = yVertices[i];\n\n    bbX0 = Math.min(bbX0, bbX);\n    bbY0 = Math.min(bbY0, bbY);\n    bbX1 = Math.max(bbX1, bbX);\n    bbY1 = Math.max(bbY1, bbY);\n  }\n\n  boundingBox.min.x = bbX0;\n  boundingBox.min.y = bbY0;\n  boundingBox.max.x = bbX1;\n  boundingBox.max.y = bbY1;\n\n  return boundingBox;\n};\n\n/**\n *\n * @returns {{vertexCount: number, xVertices: Float32Array, yVertices: Float32Array}}\n */\nproto.generateBoundingPolygon = function () {\n\n  var position = this.getClientPosition();\n  var halfSize = this.getClientSize();\n\n  halfSize.x *= 0.5;\n  halfSize.y *= 0.5;\n\n  var lt = new THREE.Vector3(-halfSize.x, -halfSize.y).add(position);\n  var rt = new THREE.Vector3(halfSize.x, -halfSize.y).add(position);\n  var rb = new THREE.Vector3(halfSize.x, halfSize.y).add(position);\n  var lb = new THREE.Vector3(-halfSize.x, halfSize.y).add(position);\n\n  if (this.rotation !== 0) {\n\n    var m1 = new THREE.Matrix4().makeTranslation(-position.x, -position.y, 0);\n    var m2 = new THREE.Matrix4().makeRotationZ(this.rotation);\n    var m3 = new THREE.Matrix4().makeTranslation(position.x, position.y, 0);\n    var transform = m3.multiply(m2).multiply(m1);\n\n    lt.applyMatrix4(transform);\n    rt.applyMatrix4(transform);\n    rb.applyMatrix4(transform);\n    lb.applyMatrix4(transform);\n  }\n\n  return { // packed for fast access in test algorithm.\n    vertexCount: 4,\n    xVertices: new Float32Array([lt.x, rt.x, rb.x, lb.x]),\n    yVertices: new Float32Array([lt.y, rt.y, rb.y, lb.y])\n  };\n};\n\n/**\n * Implemented by extending classes.<br>\n * Gets called automatically when\n * {@link Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore#generateData|generateData()}\n * @returns {null|Element} - Either null (default) or the metadata Svg node\n */\nproto.setMetadata = function () {\n\n  return null; // No metadata is injected by default.\n};\n\nproto.setMouseDisabledWhenTouching = function (event) {\n\n  if (event.isFirst) {\n    this.shape.removeEventListener('mousedown', this.onMouseDownBinded);\n  } else if (event.isFinal) {\n    var _this = this;\n    setTimeout(function () {\n      _this.shape.addEventListener('mousedown', _this.onMouseDownBinded);\n    }, 10);\n  }\n};\n\nproto.bindDomEvents = function () {\n\n  if ((0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_0__.isTouchDevice)()) {\n\n    this.hammer = new av.Hammer.Manager(this.shape, {\n      recognizers: [\n      av.GestureRecognizers.singletap],\n\n      handlePointerEventMouse: false,\n      inputClass: av.Hammer.TouchInput\n    });\n\n    this.onSingleTapBinded = function (event) {\n\n      this.onMouseDown(event);\n    }.bind(this);\n\n    this.onHammerInputBinded = function (event) {\n\n      this.setMouseDisabledWhenTouching(event);\n    }.bind(this);\n\n    this.hammer.on('singletap', this.onSingleTapBinded);\n    this.hammer.on('hammer.input', this.onHammerInputBinded);\n  }\n\n  this.onMouseDownBinded = this.onMouseDown.bind(this);\n  this.onMouseOutBinded = function () {\n\n    this.highlight(false);\n  }.bind(this);\n\n  this.onMouseOverBinded = function () {\n\n    this.highlight(true);\n  }.bind(this);\n\n  this.shape.addEventListener('mousedown', this.onMouseDownBinded);\n  this.shape.addEventListener('mouseout', this.onMouseOutBinded);\n  this.shape.addEventListener('mouseover', this.onMouseOverBinded);\n};\n\nproto.renderToCanvas = function (ctx, viewBox, width, height, callback) {\n\n  this.renderToCanvasX(this.shape, viewBox, width, height, ctx, callback);\n};\n\nproto.getPath = function () {\n\n};\n\nproto.getTransform = function () {\n\n  return [\n  'translate(', this.position.x, ',', this.position.y, ')',\n  'rotate(', (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_0__.radiansToDegrees)(-this.rotation), ')'].\n  join(' ');\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFlBQVksRUFBRSxJQUFJLENBQUMvTCxRQUFRLENBQUNDLENBQUMsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDRCxRQUFRLENBQUNFLENBQUMsRUFBRSxHQUFHO0VBQ3hELFNBQVMsRUFBRXJCLG1FQUFnQixDQUFDLENBQUMsSUFBSSxDQUFDdUIsUUFBUSxDQUFDLEVBQUUsR0FBRyxDQUNuRDtFQUFDNEwsSUFBSSxDQUFDLEdBQUcsQ0FBQztBQUNmLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9NYXJrdXAuanM/NTg5YiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IGFkZFRyYWl0RXZlbnREaXNwYXRjaGVyLCByZW5kZXJUb0NhbnZhcywgcmFkaWFuc1RvRGVncmVlcyxcbiAgICAgICAgIGNoZWNrUG9seWdvbiwgY2hlY2tMaW5lU2VnbWVudCwgaXNUb3VjaERldmljZSB9IGZyb20gJy4vTWFya3Vwc0NvcmVVdGlscyc7XG5pbXBvcnQgeyBjcmVhdGVTdHlsZSwgY29weVN0eWxlLCBjbG9uZVN0eWxlIH0gZnJvbSAnLi9TdHlsZVV0aWxzJztcbmltcG9ydCAqIGFzIE1hcmt1cEV2ZW50cyBmcm9tICcuL01hcmt1cEV2ZW50cyc7XG5cbiAgICB2YXIgYXYgPSBBdXRvZGVzay5WaWV3aW5nO1xuXG4gICAgLyoqXG4gICAgICogQmFzZSBjbGFzcyBmb3IgYWxsIG1hcmt1cHMuXG4gICAgICpcbiAgICAgKiBBIE1hcmt1cCBpcyBhIGNsYXNzIHRoYXQgaXMgY2FwYWJsZSBvZiByZW5kZXJpbmcgaXRzZWxmIGFzIGFuIFN2ZyBub2RlLjxicj5cbiAgICAgKiBJdCBjYW4gYWxzbyByZW5kZXIgaXRzZWxmIGludG8gYSBjYW52YXMtMmQgY29udGV4dC5cbiAgICAgKiBDb21wb25lbnQgd2l0aGluIHtAbGluayBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlLk1hcmt1cHNDb3JlIE1hcmt1cHNDb3JlfSBleHRlbnNpb24uXG4gICAgICpcbiAgICAgKiBBbnkgY2xhc3MgZXh0ZW5kaW5nIE1hcmt1cCBzaG91bGQgY29udGFpbiBhdCBsZWFzdCB0aGUgZm9sbG93aW5nIG1ldGhvZHM6XG4gICAgICogLSBnZXRFZGl0TW9kZSgpXG4gICAgICogLSBzZXQoKVxuICAgICAqIC0gdXBkYXRlU3R5bGUoKVxuICAgICAqIC0gc2V0UGFyZW50KClcbiAgICAgKiAtIHNldFJvdGF0aW9uKClcbiAgICAgKiAtIHNldFNpemUoKVxuICAgICAqIC0gc2V0UG9zaXRpb24oKVxuICAgICAqIC0gcmVuZGVyVG9DYW52YXMoKVxuICAgICAqIC0gc2V0TWV0YWRhdGEoKVxuICAgICAqXG4gICAgICogQSBnb29kIHJlZmVyZW5jZSBpcyB0aGUgcmVjdGFuZ2xlIG1hcmt1cCBpbXBsZW1lbnRhdGlvbiBhdmFpbGFibGUgaW5cbiAgICAgKiB7QGxpbmsgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZS5NYXJrdXBSZWN0YW5nbGV8TWFya3VwUmVjdGFuZ2xlfS5cbiAgICAgKlxuICAgICAqIEB0dXRvcmlhbCBmZWF0dXJlX21hcmt1cFxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJvZiBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaWQgLSBJZGVudGlmaWVyLCBwb3B1bGF0ZWQgd2l0aCByZXR1cm4gdmFsdWUgb2Yge0BsaW5rIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzLkNvcmUuTWFya3Vwc0NvcmUjZ2V0SWQgZ2V0SWQoKX0uXG4gICAgICogQHBhcmFtIHtBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlLk1hcmt1cHNDb3JlfSBlZGl0b3IgLSBNYXJrdXBzIGV4dGVuc2lvblxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHN0eWxlQXR0cmlidXRlcyAtIEF0dHJpYnV0ZXMgZm9yIGN1c3RvbWl6YXRpb24uIFJlbGF0ZWQgdG8ge0BsaW5rIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzLkNvcmUuTWFya3Vwc0NvcmUjc2V0U3R5bGUgc2V0U3R5bGUoKX0uXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIE1hcmt1cChpZCwgZWRpdG9yLCBzdHlsZUF0dHJpYnV0ZXMpIHtcblxuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMudHlwZSA9IFwiXCI7XG4gICAgICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuICAgICAgICB0aGlzLnZpZXdlciA9IGVkaXRvci52aWV3ZXI7XG4gICAgICAgIHRoaXMuc2V0R2xvYmFsTWFuYWdlcih0aGlzLnZpZXdlci5nbG9iYWxNYW5hZ2VyKTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHt4OiAwLCB5OiAwfTtcbiAgICAgICAgdGhpcy5zaXplID0ge3g6MCwgeTowfTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IDA7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBjcmVhdGVTdHlsZShzdHlsZUF0dHJpYnV0ZXMsIHRoaXMuZWRpdG9yKTtcbiAgICAgICAgdGhpcy5zdHlsZSA9IGNvcHlTdHlsZShlZGl0b3IuZ2V0RGVmYXVsdFN0eWxlKCksIHRoaXMuc3R5bGUpO1xuICAgICAgICB0aGlzLmhpZ2hsaWdodENvbG9yID0gJyMwNjk2RDcnO1xuICAgICAgICB0aGlzLmNvbnN0cmFpbnRXaWR0aCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbnN0cmFpbnRIZWlnaHQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb25zdHJhaW50Um90YXRpb24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5taW5XaWR0aCA9IC0xMDAwMDtcbiAgICAgICAgdGhpcy5taW5IZWlnaHQgPSAtMTAwMDA7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGJpbmQgdG8gdGhpcyB0byBwYXNzIHRoaXMuZ2xvYmFsTWFuYWdlclxuICAgICAgICB0aGlzLmNoZWNrTGluZVNlZ21lbnQgPSBjaGVja0xpbmVTZWdtZW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuY2hlY2tQb2x5Z29uID0gY2hlY2tQb2x5Z29uLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVuZGVyVG9DYW52YXNYID0gcmVuZGVyVG9DYW52YXMuYmluZCh0aGlzKTtcblxuICAgICAgICBhZGRUcmFpdEV2ZW50RGlzcGF0Y2hlcih0aGlzKTtcbiAgICB9XG5cbiAgICBhdi5HbG9iYWxNYW5hZ2VyTWl4aW4uY2FsbChNYXJrdXAucHJvdG90eXBlKTtcbiAgICB2YXIgcHJvdG8gPSBNYXJrdXAucHJvdG90eXBlO1xuXG4gICAgcHJvdG8uZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB0aGlzLnVuc2VsZWN0KCk7XG4gICAgICAgIHRoaXMuc2V0UGFyZW50KG51bGwpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgdGhlIHBhcmVudCBsYXllciB3aGljaCB3aWxsIGNvbnRhaW4gdGhlIG1hcmt1cC5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnRcbiAgICAgKi9cbiAgICBwcm90by5zZXRQYXJlbnQgPSBmdW5jdGlvbihwYXJlbnQpIHtcblxuICAgICAgICB2YXIgZGl2ID0gdGhpcy5zaGFwZTtcbiAgICAgICAgZGl2LnBhcmVudE5vZGUgJiYgZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZGl2KTtcbiAgICAgICAgcGFyZW50ICYmIHBhcmVudC5hcHBlbmRDaGlsZChkaXYpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgKGRlZXAtY29weSkgdGhlIG1hcmt1cC4gVXNlZCBpbnRlcm5hbGx5IGJ5IHRoZSBjb3B5L2N1dC9wYXN0ZSBtZWNoYW5pc20gaW5cbiAgICAgKiB7QGxpbmsgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZS5NYXJrdXBzQ29yZSBNYXJrdXBzQ29yZX0uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7QXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZS5NYXJrdXB9IGNsb25lIG9mIHRoZSBjdXJyZW50IG1hcmt1cFxuICAgICAqL1xuICAgIHByb3RvLmNsb25lID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIGNsb25lID0gT2JqZWN0LmNyZWF0ZSh0aGlzLl9fcHJvdG9fXyk7XG4gICAgICAgIHZhciBvdmVycmlkZXMgPSB0aGlzLmdldENsb25lT3ZlcnJpZGVzKCk7XG5cbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG5cbiAgICAgICAgICAgIGlmKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcywgbmFtZSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG1lbWJlciA9IHRoaXNbbmFtZV07XG5cbiAgICAgICAgICAgIC8vIElzIHRoZXJlIGFuIG92ZXJyaWRlIGZvciB0aGlzIG1lbWJlcj9cbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3ZlcnJpZGVzLCBuYW1lKSkge1xuICAgICAgICAgICAgICAgIGNsb25lW25hbWVdID0gb3ZlcnJpZGVzW25hbWVdO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBNZW1iZXIgaXMgbnVsbCBvciB1bmRlZmluZWQ/XG4gICAgICAgICAgICBpZiAobWVtYmVyID09PSBudWxsIHx8IG1lbWJlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY2xvbmVbbmFtZV0gPSBtZW1iZXI7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE1lbWJlciBoYXMgYSBjbG9uZSBmdW5jdGlvbj9cbiAgICAgICAgICAgIGlmIChtZW1iZXJbJ2Nsb25lJ10gaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgIGNsb25lW25hbWVdID0gbWVtYmVyLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElzIGl0IGEgZnVuY3Rpb24/XG4gICAgICAgICAgICBpZiAobWVtYmVyIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjbG9uZVtuYW1lXSA9IG1lbWJlci5iaW5kKGNsb25lKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSXMgaXQgYW4gaHRtbCBub2RlP1xuICAgICAgICAgICAgaWYgKG1lbWJlci5ub2RlVHlwZSkge1xuICAgICAgICAgICAgICAgIGNsb25lW25hbWVdID0gbWVtYmVyLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSXMgaXQgdGhlIGdsb2JhbE1hbmFnZXI/XG4gICAgICAgICAgICBpZiAobWVtYmVyIGluc3RhbmNlb2YgYXYuR2xvYmFsTWFuYWdlcikge1xuICAgICAgICAgICAgICAgIGF2Lkdsb2JhbE1hbmFnZXJNaXhpbi5jYWxsKGNsb25lKTtcbiAgICAgICAgICAgICAgICBjbG9uZS5zZXRHbG9iYWxNYW5hZ2VyKG1lbWJlcik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEp1c3QgYSBwbGFpbiBvYmplY3Q/XG4gICAgICAgICAgICBpZiAobWVtYmVyIGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgY2xvbmVbbmFtZV0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1lbWJlcikpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBPaywgaXQgc2VlbXMgaXQncyBqdXN0IGEgcHJpbWl0aXZlIHR5cGUuXG4gICAgICAgICAgICBjbG9uZVtuYW1lXSA9IG1lbWJlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2xvbmVTaGFwZShjbG9uZSk7XG4gICAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9O1xuXG4gICAgcHJvdG8uY2xvbmVTaGFwZSA9IGZ1bmN0aW9uKGNsb25lKSB7XG5cbiAgICAgICAgY2xvbmUuc2hhcGUubWFya3VwID0gY2xvbmUuc2hhcGUuY2hpbGROb2Rlcy5pdGVtKDApO1xuICAgICAgICBjbG9uZS5zaGFwZS5oaXRhcmVhID0gY2xvbmUuc2hhcGUuY2hpbGROb2Rlcy5pdGVtKDEpO1xuICAgICAgICBjbG9uZS5iaW5kRG9tRXZlbnRzKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgaW50ZXJuYWxseSBieVxuICAgICAqIHtAbGluayBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlLk1hcmt1cCNjbG9uZSBjbG9uZSgpfSxcbiAgICAgKiBwcm92aWRlcyBhIG1lY2hhbmlzbSB0byBhdm9pZCBjbG9uaW5nIHNwZWNpZmljIGF0dHJpYnV0ZXMuPGJyPlxuICAgICAqIERldmVsb3BlcnMgb25seSBuZWVkIHRvIG92ZXJyaWRlIHRoaXMgbWV0aG9kIHdoZW4gY3JlYXRpbmcgbmV3IE1hcmt1cCB0eXBlcy5cbiAgICAgKiBXaGVuIG92ZXJyaWRpbmcsIGZpcnN0IGNhbGwgdGhlIHN1cGVyKCkgaW1wbGVtZW50YXRpb24gYW5kIHRoZW4gaW5jbHVkZSBhZGRpdGlvbmFsIGF0dHJpYnV0ZS92YWx1ZSBwYWlycyB0byBpdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBjb250YWluaW5nIGF0dHJpYnV0ZXMgdGhhdCBuZWVkIG5vdCB0byBiZSBjbG9uZWQuXG4gICAgICovXG4gICAgcHJvdG8uZ2V0Q2xvbmVPdmVycmlkZXMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmlld2VyOiB0aGlzLnZpZXdlcixcbiAgICAgICAgICAgIGVkaXRvcjogdGhpcy5lZGl0b3IsXG4gICAgICAgICAgICBoYW1tZXI6IG51bGwsXG4gICAgICAgICAgICBsaXN0ZW5lcnM6IHt9XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgaW50ZXJuYWxseSB0byBzZWxlY3QgYSBtYXJrdXAuPGJyPlxuICAgICAqIEZpcmVzIGV2ZW50IEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzLkNvcmUuRVZFTlRfTUFSS1VQX1NFTEVDVEVELlxuICAgICAqL1xuICAgIHByb3RvLnNlbGVjdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy51cGRhdGVTdHlsZSgpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6IE1hcmt1cEV2ZW50cy5FVkVOVF9NQVJLVVBfU0VMRUNURUQsIG1hcmt1cDogdGhpc30pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGludGVybmFsbHkgdG8gc2lnbmFsIHRoYXQgdGhlIGN1cnJlbnQgbWFya3VwIGhhcyBiZWVuIHVuc2VsZWN0ZWQuPGJyPlxuICAgICAqIE5vIGV2ZW50IGlzIGZpcmVkLlxuICAgICAqL1xuICAgIHByb3RvLnVuc2VsZWN0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IGZhbHNlO1xuICAgIH07XG5cbiAgICBwcm90by5oaWdobGlnaHQgPSBmdW5jdGlvbihoaWdobGlnaHQpIHtcblxuICAgICAgICBpZiAodGhpcy5pbnRlcmFjdGlvbnNEaXNhYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5oaWdobGlnaHRlZCA9IGhpZ2hsaWdodDtcbiAgICAgICAgdGhpcy51cGRhdGVTdHlsZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgY29weSBvZiB0aGUgbWFya3VwJ3Mgc3R5bGUuXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICBwcm90by5nZXRTdHlsZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHJldHVybiBjbG9uZVN0eWxlKHRoaXMuc3R5bGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGludGVybmFsbHkgdG8gc2V0IHRoZSBzdHlsZSBvYmplY3QuIFRyaWdnZXJzIGEgcmUtcmVuZGVyIG9mIHRoZSBtYXJrdXAgKFN2ZylcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3R5bGUgLSBEaWN0aW9uYXJ5IHdpdGgga2V5L3ZhbHVlIHBhaXJzXG4gICAgICovXG4gICAgcHJvdG8uc2V0U3R5bGUgPSBmdW5jdGlvbihzdHlsZSkge1xuXG4gICAgICAgIGNvcHlTdHlsZShzdHlsZSwgdGhpcy5zdHlsZSk7XG4gICAgICAgIHRoaXMudXBkYXRlU3R5bGUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXNlZCBpbnRlcm5hbGx5IGFuZCBpbXBsZW1lbnRlZCBieSBzcGVjaWZpYyBNYXJrdXAgdHlwZXMgdG8gcmVuZGVyIHRoZW1zZWx2ZXMgYXMgU3ZnLlxuICAgICAqL1xuICAgIHByb3RvLnVwZGF0ZVN0eWxlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgaW50ZXJuYWxseSB0byBub3RpZnkgdGhlIG1hcmt1cCB0aGF0IGl0IGlzIG5vdyBiZWluZyBlZGl0ZWQuPGJyPlxuICAgICAqIEZpcmVzIGV2ZW50IEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzLkNvcmUuRVZFTlRfTUFSS1VQX0VOVEVSX0VESVRJT04uXG4gICAgICovXG4gICAgcHJvdG8uZWRpdCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTogTWFya3VwRXZlbnRzLkVWRU5UX01BUktVUF9FTlRFUl9FRElUSU9OLCBtYXJrdXA6IHRoaXN9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXNlZCBpbnRlcm5hbGx5IHRvIHNpZ25hbCB0aGF0IGl0IGlzIG5vIGxvbmdlciBiZWluZyBlZGl0ZWQuPGJyPlxuICAgICAqIEZpcmVzIGV2ZW50IEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzLkNvcmUuRVZFTlRfTUFSS1VQX0NBTkNFTF9FRElUSU9OLlxuICAgICAqL1xuICAgIHByb3RvLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTogTWFya3VwRXZlbnRzLkVWRU5UX01BUktVUF9DQU5DRUxfRURJVElPTiwgbWFya3VwOiB0aGlzfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgaW50ZXJuYWxseSB0byBzaWduYWwgdGhhdCB0aGUgbWFya3VwIGlzIGJlaW5nIGRlbGV0ZWQuPGJyPlxuICAgICAqIEZpcmVzIGV2ZW50IEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzLkNvcmUuRVZFTlRfTUFSS1VQX0RFTEVURV9FRElUSU9OLlxuICAgICAqL1xuICAgIHByb3RvLmRlbGV0ZU1hcmt1cCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTogTWFya3VwRXZlbnRzLkVWRU5UX01BUktVUF9ERUxFVEVfRURJVElPTiwgbWFya3VwOiB0aGlzfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgaW50ZXJuYWxseSB0byBnZXQgdGhlIHtAbGluayBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlLkVkaXRNb2RlIEVkaXRNb2RlfVxuICAgICAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBNYXJrdXAuPGJyPlxuICAgICAqIEltcGxlbWVudGVkIGJ5IGNsYXNzZXMgZXh0ZW5kaW5nIHRoaXMgb25lLlxuICAgICAqIEByZXR1cm5zIHtBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlLkVkaXRNb2RlfVxuICAgICAqL1xuICAgIHByb3RvLmdldEVkaXRNb2RlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgY29uc29sZS53YXJuKCdFZGl0TW9kZSBvZiBtYXJrdXAgdHlwZScgKyB0aGlzLnR5cGUgKyAnIG5vdCBkZWZpbmVkLicgKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgaW50ZXJuYWxseSB0byBnZXQgdGhlIG1hcmt1cCdzIHBvc2l0aW9uIGluIGJyb3dzZXIgcGl4ZWwgc3BhY2UuPGJyPlxuICAgICAqIE5vdGljZSB0aGF0ICgwLDApIGlzIHRvcCBsZWZ0Ljxicj5cbiAgICAgKiBTZWUgYWxzb1xuICAgICAqIHtAbGluayBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlLk1hcmt1cCNnZXRDbGllbnRTaXplfGdldENsaWVudFNpemUoKX0uXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgcHJvdG8uZ2V0Q2xpZW50UG9zaXRpb24gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgcG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uO1xuICAgICAgICByZXR1cm4gdGhpcy5lZGl0b3IucG9zaXRpb25Gcm9tTWFya3Vwc1RvQ2xpZW50KHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGludGVybmFsbHkgdG8gZ2V0IHRoZSBtYXJrdXAncyBib3VuZGluZyByZWN0IGluIGJyb3dzZXIgcGl4ZWwgc3BhY2UuPGJyPlxuICAgICAqIFNlZSBhbHNvXG4gICAgICoge0BsaW5rIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzLkNvcmUuTWFya3VwI2dldENsaWVudFBvc2l0aW9ufGdldENsaWVudFBvc2l0aW9uKCl9LlxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIHByb3RvLmdldENsaWVudFNpemUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdmFyIHNpemUgPSB0aGlzLnNpemU7XG4gICAgICAgIHJldHVybiB0aGlzLmVkaXRvci5zaXplRnJvbU1hcmt1cHNUb0NsaWVudChzaXplLngsIHNpemUueSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgaW50ZXJuYWxseSB0byBnZXQgdGhlIG1hcmt1cCdzIGJvdW5kaW5nIHJlY3QgaW4gYnJvd3NlciBwaXhlbCBzcGFjZSwgaW5jbHVkaW5nIHRoZSBzdHJva2Ugd2lkdGguPGJyPlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IGEgcmVjdGFuZ2xlIHdpdGggcmlnaHQsIHRvcCwgbGVmdCwgYm90dG9tIGF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBwcm90by5nZXRCb3VuZGluZ1JlY3QgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdmFyIHJvdGF0aW9uID0gdGhpcy5yb3RhdGlvbjtcblxuICAgICAgICBpZiAocm90YXRpb24gIT09IDApIHsgLy8gVW5kbyByb3RhdGlvbiB0byBmaW5kIGEgdGlnaHQgYm91bmRpbmcgcmVjdFxuICAgICAgICAgICAgdGhpcy5zZXRSb3RhdGlvbigwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXJlbnRSZWN0ID0gdGhpcy52aWV3ZXIuaW1wbC5nZXRDYW52YXNCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICB2YXIgYm91bmRSZWN0ID0gdGhpcy5zaGFwZS5tYXJrdXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciB0b3AgPSBib3VuZFJlY3QudG9wIC0gcGFyZW50UmVjdC50b3A7XG5cbiAgICAgICAgdmFyIHN0cm9rZVdpZHRoID0gdGhpcy5zdHlsZVsnc3Ryb2tlLXdpZHRoJ10gfHwgMDtcbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMuZWRpdG9yLnNpemVGcm9tTWFya3Vwc1RvQ2xpZW50KHN0cm9rZVdpZHRoLCAwKS54O1xuXG4gICAgICAgIGlmIChyb3RhdGlvbiAhPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zZXRSb3RhdGlvbihyb3RhdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogYm91bmRSZWN0LmxlZnQgLSBwYXJlbnRSZWN0LmxlZnQgLSBvZmZzZXQsXG4gICAgICAgICAgICB5OiB0b3AgLSBvZmZzZXQsXG4gICAgICAgICAgICB3aWR0aDogYm91bmRSZWN0LndpZHRoICsgMipvZmZzZXQsXG4gICAgICAgICAgICBoZWlnaHQ6IGJvdW5kUmVjdC5oZWlnaHQgKyAyKm9mZnNldFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSByb3RhdGlvbiBvZiB0aGUgbWFya3VwIHRvIHRoZSBnaXZlbiBhbmdsZS5cbiAgICAgKiBUaGlzIGdldHMgY2FsbGVkIGJ5IHRoZSBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlLlNldFJvdGF0aW9uIGVkaXQgYWN0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYW5nbGVcbiAgICAgKi9cbiAgICBwcm90by5zZXRSb3RhdGlvbiA9IGZ1bmN0aW9uKGFuZ2xlKSB7XG5cbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IGFuZ2xlO1xuICAgICAgICB0aGlzLnVwZGF0ZVN0eWxlKCk7XG4gICAgfTtcblxuICAgIHByb3RvLmdldFJvdGF0aW9uID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHJldHVybiB0aGlzLnJvdGF0aW9uO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IHRoZSBFZGl0RnJhbWUgdG8gbW92ZSB0aGUgbWFya3VwIGluIENsaWVudCBTcGFjZSBjb29yZGluYXRlc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IC0gTmV3IFggbG9jYXRpb24gZm9yIHRoZSBtYXJrdXAuIE5vdGljZSB0aGF0IG1hcmt1cHMgYXJlIGNlbnRlcmVkIG9uIHRoaXMgdmFsdWUuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgLSBOZXcgWSBsb2NhdGlvbiBmb3IgdGhlIG1hcmt1cC4gTm90aWNlIHRoYXQgbWFya3VwcyBhcmUgY2VudGVyZWQgb24gdGhpcyB2YWx1ZS5cbiAgICAgKi9cbiAgICBwcm90by5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKHgseSkge1xuXG4gICAgICAgIHRoaXMucG9zaXRpb24ueCA9IHg7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA9IHk7XG5cbiAgICAgICAgdGhpcy51cGRhdGVTdHlsZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBwb3NpdGlvbiBhbmQgc2l6ZSBvZiB0aGUgbWFya3VwLlxuICAgICAqIFRoaXMgZ2V0cyBjYWxsZWQgYnkgdGhlIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzLkNvcmUuU2V0U2l6ZSBlZGl0IGFjdGlvblxuICAgICAqIEBwYXJhbSB7e3g6IE51bWJlciwgeTogTnVtYmVyfX0gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0XG4gICAgICovXG4gICAgcHJvdG8uc2V0U2l6ZSA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgd2lkdGgsIGhlaWdodCkge1xuXG4gICAgICAgIHRoaXMucG9zaXRpb24ueCA9IHBvc2l0aW9uLng7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA9IHBvc2l0aW9uLnk7XG4gICAgICAgIHRoaXMuc2l6ZS54ID0gd2lkdGg7XG4gICAgICAgIHRoaXMuc2l6ZS55ID0gaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMudXBkYXRlU3R5bGUoKTtcbiAgICB9O1xuXG4gICAgcHJvdG8uaXNXaWR0aENvbnN0cmFpbmVkID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RyYWludFdpZHRoO1xuICAgIH07XG5cbiAgICBwcm90by5pc0hlaWdodENvbnN0cmFpbmVkID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RyYWludEhlaWdodDtcbiAgICB9O1xuXG4gICAgcHJvdG8uaXNSb3RhdGlvbkNvbnN0cmFpbmVkID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RyYWludFJvdGF0aW9uO1xuICAgIH07XG5cbiAgICBwcm90by5zZXRNaW5XaWR0aCA9IGZ1bmN0aW9uKG1pbldpZHRoKSB7XG4gICAgICAgIHRoaXMubWluV2lkdGggPSBtaW5XaWR0aDtcbiAgICB9O1xuXG4gICAgcHJvdG8uc2V0TWluSGVpZ2h0ID0gZnVuY3Rpb24obWluSGVpZ2h0KSB7XG4gICAgICAgIHRoaXMubWluSGVpZ2h0ID0gbWluSGVpZ2h0O1xuICAgIH07XG5cbiAgICBwcm90by5nZXRNaW5XaWR0aCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW5XaWR0aDtcbiAgICB9O1xuXG4gICAgcHJvdG8uZ2V0TWluSGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbkhlaWdodDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBkaXNhYmxlIGhpZ2hsaWdodCBvbiBhbm5vdGF0aW9ucyB3aGlsZSBhIG5ldyBhbm5vdGF0aW9uIGlzIGJlaW5nIGNyZWF0ZWQuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBkaXNhYmxlIC0gV2hldGhlciAobW91c2UpIGludGVyYWN0aW9ucyBhcmUgZW5hYmxlLlxuICAgICAqL1xuICAgIHByb3RvLmRpc2FibGVJbnRlcmFjdGlvbnMgPSBmdW5jdGlvbihkaXNhYmxlKSB7XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbnNEaXNhYmxlZCA9IGRpc2FibGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHdpZHRoXG4gICAgICovXG4gICAgcHJvdG8uc2V0U3Ryb2tlV2lkdGggPSBmdW5jdGlvbih3aWR0aCkge1xuXG4gICAgfTtcblxuICAgIHByb3RvLmNvbnN0cmFpbnNUb0JvdW5kcyA9IGZ1bmN0aW9uKGJvdW5kcykge1xuXG4gICAgfTtcblxuICAgIHByb3RvLm9uTW91c2VEb3duID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICBpZiAodGhpcy5pbnRlcmFjdGlvbnNEaXNhYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZWxlY3QoKTtcbiAgICAgICAgdGhpcy5lZGl0b3IuZWRpdEZyYW1lLnN0YXJ0RHJhZyhldmVudCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGlkVGFyZ2V0XG4gICAgICogQHJldHVybnMgKlxuICAgICAqL1xuICAgIHByb3RvLmdlbmVyYXRlUG9pbnQzZCA9IGZ1bmN0aW9uKGlkVGFyZ2V0KSB7XG5cbiAgICAgICAgdmFyIHZpZXdlciA9IHRoaXMudmlld2VyO1xuICAgICAgICB2YXIgcG9seWdvbiA9IHRoaXMuZ2VuZXJhdGVCb3VuZGluZ1BvbHlnb24oKTtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrTGluZVNlZ21lbnRBdXgoYSwgYikge1xuXG4gICAgICAgICAgICB2YXIgcG9pbnQyZCA9IHNlbGYuY2hlY2tMaW5lU2VnbWVudChhLngsIGEueSwgYi54LCBiLnksIGlkVGFyZ2V0KTtcbiAgICAgICAgICAgIHZhciBwb2ludDNkID0gcG9pbnQyZCAmJiB2aWV3ZXIuY2xpZW50VG9Xb3JsZChwb2ludDJkLngsIHBvaW50MmQueSk7XG4gICAgICAgICAgICByZXR1cm4gcG9pbnQzZCAmJiBwb2ludDNkLnBvaW50O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY2hlY2tQb2x5Z29uQXV4KHBvbHlnb24pIHtcblxuICAgICAgICAgICAgdmFyIHBvaW50MmQgPSBzZWxmLmNoZWNrUG9seWdvbihwb2x5Z29uLCBpZFRhcmdldCk7XG4gICAgICAgICAgICB2YXIgcG9pbnQzZCA9IHBvaW50MmQgJiYgdmlld2VyLmNsaWVudFRvV29ybGQocG9pbnQyZC54LCBwb2ludDJkLnkpO1xuICAgICAgICAgICAgcmV0dXJuIHBvaW50M2QgJiYgcG9pbnQzZC5wb2ludDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRyeSB0byBhdm9pZCBleHBlbnNpdmUgY2FsY3VsYXRpb25zIGJ5IGNoZWNraW5nIHNvbWUgbGluZXMgc2VnbWVudHMgZmlyc3QuXG4gICAgICAgIC8vIElmIGxpbmUgY2hlY2sgY2Fubm90IGZpbmQgYSBwb2ludCB0aGUgY29zdGx5IG9uZSBieSBhcmVhIGlzIHVzZWQuXG4gICAgICAgIC8vIEEgLS0tLW1pZEFCLS0tLSBCXG4gICAgICAgIC8vIHwgICAgICAgICAgICAgICB8XG4gICAgICAgIC8vIHwgICAgIGNlbnRlciAgICB8XG4gICAgICAgIC8vIHwgICAgICAgICAgICAgICB8XG4gICAgICAgIC8vIEMgLS0tLS0tLS0tLS0tLS1EXG5cbiAgICAgICAgdmFyIHhWZXJ0aWNlcyA9IHBvbHlnb24ueFZlcnRpY2VzO1xuICAgICAgICB2YXIgeVZlcnRpY2VzID0gcG9seWdvbi55VmVydGljZXM7XG5cbiAgICAgICAgdmFyIG1pZEFCID0gbmV3IFRIUkVFLlZlY3RvcjIoeFZlcnRpY2VzWzBdICsgeFZlcnRpY2VzWzFdLCB5VmVydGljZXNbMF0gKyB5VmVydGljZXNbMV0pLm11bHRpcGx5U2NhbGFyKDAuNSk7XG4gICAgICAgIHZhciBtaWRBQyA9IG5ldyBUSFJFRS5WZWN0b3IyKHhWZXJ0aWNlc1swXSArIHhWZXJ0aWNlc1szXSwgeVZlcnRpY2VzWzBdICsgeVZlcnRpY2VzWzNdKS5tdWx0aXBseVNjYWxhcigwLjUpO1xuICAgICAgICB2YXIgbWlkREIgPSBuZXcgVEhSRUUuVmVjdG9yMih4VmVydGljZXNbMl0gKyB4VmVydGljZXNbMV0sIHlWZXJ0aWNlc1syXSArIHlWZXJ0aWNlc1sxXSkubXVsdGlwbHlTY2FsYXIoMC41KTtcbiAgICAgICAgdmFyIG1pZERDID0gbmV3IFRIUkVFLlZlY3RvcjIoeFZlcnRpY2VzWzJdICsgeFZlcnRpY2VzWzNdLCB5VmVydGljZXNbMl0gKyB5VmVydGljZXNbM10pLm11bHRpcGx5U2NhbGFyKDAuNSk7XG4gICAgICAgIHZhciBjZW50ZXIgPSBtaWRBQy5jbG9uZSgpLmFkZChtaWREQikubXVsdGlwbHlTY2FsYXIoMC41KTtcblxuICAgICAgICB2YXIgcG9pbnQzZCA9XG4gICAgICAgICAgICBjaGVja0xpbmVTZWdtZW50QXV4KGNlbnRlciwgbWlkREIpIHx8XG4gICAgICAgICAgICBjaGVja0xpbmVTZWdtZW50QXV4KGNlbnRlciwgbWlkQUMpIHx8XG4gICAgICAgICAgICBjaGVja0xpbmVTZWdtZW50QXV4KGNlbnRlciwgbWlkQUIpIHx8XG4gICAgICAgICAgICBjaGVja0xpbmVTZWdtZW50QXV4KGNlbnRlciwgbWlkREMpO1xuXG4gICAgICAgIHJldHVybiBwb2ludDNkIHx8IGNoZWNrUG9seWdvbkF1eChwb2x5Z29uKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7e21pbjoge3g6IG51bWJlciwgeTogbnVtYmVyfSwgbWF4OiB7eDogbnVtYmVyLCB5OiBudW1iZXJ9fX1cbiAgICAgKi9cbiAgICBwcm90by5nZW5lcmF0ZUJvdW5kaW5nQm94ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIGJvdW5kaW5nQm94ID0ge21pbjoge3g6IDAseTogMH0sIG1heDoge3g6IDAsIHk6IDB9fTtcblxuICAgICAgICAvLyBHZXQgYm91bmRpbmcgYm94IGZyb20gbWFya3VwIGJvdW5kaW5nIHBvbHlnb24uXG4gICAgICAgIHZhciBwb2x5Z29uID0gdGhpcy5nZW5lcmF0ZUJvdW5kaW5nUG9seWdvbigpO1xuXG4gICAgICAgIHZhciB2ZXJ0ZXhDb3VudCA9IHBvbHlnb24udmVydGV4Q291bnQ7XG4gICAgICAgIHZhciB4VmVydGljZXMgPSBwb2x5Z29uLnhWZXJ0aWNlcztcbiAgICAgICAgdmFyIHlWZXJ0aWNlcyA9IHBvbHlnb24ueVZlcnRpY2VzO1xuXG4gICAgICAgIHZhciBiYlgwID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICB2YXIgYmJZMCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgdmFyIGJiWDEgPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIHZhciBiYlkxID0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO1xuXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXhDb3VudDsgKytpKSB7XG5cbiAgICAgICAgICAgIHZhciBiYlggPSB4VmVydGljZXNbaV07XG4gICAgICAgICAgICB2YXIgYmJZID0geVZlcnRpY2VzW2ldO1xuXG4gICAgICAgICAgICBiYlgwID0gTWF0aC5taW4oYmJYMCwgYmJYKTtcbiAgICAgICAgICAgIGJiWTAgPSBNYXRoLm1pbihiYlkwLCBiYlkpO1xuICAgICAgICAgICAgYmJYMSA9IE1hdGgubWF4KGJiWDEsIGJiWCk7XG4gICAgICAgICAgICBiYlkxID0gTWF0aC5tYXgoYmJZMSwgYmJZKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJvdW5kaW5nQm94Lm1pbi54ID0gYmJYMDtcbiAgICAgICAgYm91bmRpbmdCb3gubWluLnkgPSBiYlkwO1xuICAgICAgICBib3VuZGluZ0JveC5tYXgueCA9IGJiWDE7XG4gICAgICAgIGJvdW5kaW5nQm94Lm1heC55ID0gYmJZMTtcblxuICAgICAgICByZXR1cm4gYm91bmRpbmdCb3g7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHJldHVybnMge3t2ZXJ0ZXhDb3VudDogbnVtYmVyLCB4VmVydGljZXM6IEZsb2F0MzJBcnJheSwgeVZlcnRpY2VzOiBGbG9hdDMyQXJyYXl9fVxuICAgICAqL1xuICAgIHByb3RvLmdlbmVyYXRlQm91bmRpbmdQb2x5Z29uID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5nZXRDbGllbnRQb3NpdGlvbigpO1xuICAgICAgICB2YXIgaGFsZlNpemUgPSB0aGlzLmdldENsaWVudFNpemUoKTtcblxuICAgICAgICBoYWxmU2l6ZS54ICo9IDAuNTtcbiAgICAgICAgaGFsZlNpemUueSAqPSAwLjU7XG5cbiAgICAgICAgdmFyIGx0ID0gbmV3IFRIUkVFLlZlY3RvcjMoLWhhbGZTaXplLngsLWhhbGZTaXplLnkpLmFkZChwb3NpdGlvbik7XG4gICAgICAgIHZhciBydCA9IG5ldyBUSFJFRS5WZWN0b3IzKCBoYWxmU2l6ZS54LC1oYWxmU2l6ZS55KS5hZGQocG9zaXRpb24pO1xuICAgICAgICB2YXIgcmIgPSBuZXcgVEhSRUUuVmVjdG9yMyggaGFsZlNpemUueCwgaGFsZlNpemUueSkuYWRkKHBvc2l0aW9uKTtcbiAgICAgICAgdmFyIGxiID0gbmV3IFRIUkVFLlZlY3RvcjMoLWhhbGZTaXplLngsIGhhbGZTaXplLnkpLmFkZChwb3NpdGlvbik7XG5cbiAgICAgICAgaWYgKHRoaXMucm90YXRpb24gIT09IDApIHtcblxuICAgICAgICAgICAgdmFyIG0xID0gbmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oLXBvc2l0aW9uLngsIC1wb3NpdGlvbi55LCAwKTtcbiAgICAgICAgICAgIHZhciBtMiA9IG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWih0aGlzLnJvdGF0aW9uKTtcbiAgICAgICAgICAgIHZhciBtMyA9IG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIDApO1xuICAgICAgICAgICAgdmFyIHRyYW5zZm9ybSA9IG0zLm11bHRpcGx5KG0yKS5tdWx0aXBseShtMSk7XG5cbiAgICAgICAgICAgIGx0LmFwcGx5TWF0cml4NCh0cmFuc2Zvcm0pO1xuICAgICAgICAgICAgcnQuYXBwbHlNYXRyaXg0KHRyYW5zZm9ybSk7XG4gICAgICAgICAgICByYi5hcHBseU1hdHJpeDQodHJhbnNmb3JtKTtcbiAgICAgICAgICAgIGxiLmFwcGx5TWF0cml4NCh0cmFuc2Zvcm0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgLy8gcGFja2VkIGZvciBmYXN0IGFjY2VzcyBpbiB0ZXN0IGFsZ29yaXRobS5cbiAgICAgICAgICAgIHZlcnRleENvdW50OiA0LFxuICAgICAgICAgICAgeFZlcnRpY2VzIDogbmV3IEZsb2F0MzJBcnJheShbbHQueCwgcnQueCwgcmIueCwgbGIueF0pLFxuICAgICAgICAgICAgeVZlcnRpY2VzIDogbmV3IEZsb2F0MzJBcnJheShbbHQueSwgcnQueSwgcmIueSwgbGIueV0pXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEltcGxlbWVudGVkIGJ5IGV4dGVuZGluZyBjbGFzc2VzLjxicj5cbiAgICAgKiBHZXRzIGNhbGxlZCBhdXRvbWF0aWNhbGx5IHdoZW5cbiAgICAgKiB7QGxpbmsgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZS5NYXJrdXBzQ29yZSNnZW5lcmF0ZURhdGF8Z2VuZXJhdGVEYXRhKCl9XG4gICAgICogQHJldHVybnMge251bGx8RWxlbWVudH0gLSBFaXRoZXIgbnVsbCAoZGVmYXVsdCkgb3IgdGhlIG1ldGFkYXRhIFN2ZyBub2RlXG4gICAgICovXG4gICAgcHJvdG8uc2V0TWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICByZXR1cm4gbnVsbDsgLy8gTm8gbWV0YWRhdGEgaXMgaW5qZWN0ZWQgYnkgZGVmYXVsdC5cbiAgICB9O1xuXG4gICAgcHJvdG8uc2V0TW91c2VEaXNhYmxlZFdoZW5Ub3VjaGluZyA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgaWYgKGV2ZW50LmlzRmlyc3QpIHtcbiAgICAgICAgICAgIHRoaXMuc2hhcGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbk1vdXNlRG93bkJpbmRlZCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuaXNGaW5hbCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2hhcGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgX3RoaXMub25Nb3VzZURvd25CaW5kZWQpO1xuICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByb3RvLmJpbmREb21FdmVudHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICBpZiAoaXNUb3VjaERldmljZSgpKSB7XG5cbiAgICAgICAgICAgIHRoaXMuaGFtbWVyID0gbmV3IGF2LkhhbW1lci5NYW5hZ2VyKHRoaXMuc2hhcGUsIHtcbiAgICAgICAgICAgICAgICByZWNvZ25pemVyczogW1xuICAgICAgICAgICAgICAgICAgICBhdi5HZXN0dXJlUmVjb2duaXplcnMuc2luZ2xldGFwXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBoYW5kbGVQb2ludGVyRXZlbnRNb3VzZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgaW5wdXRDbGFzczogYXYuSGFtbWVyLlRvdWNoSW5wdXRcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLm9uU2luZ2xlVGFwQmluZGVkID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMub25Nb3VzZURvd24oZXZlbnQpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgICAgICAgICB0aGlzLm9uSGFtbWVySW5wdXRCaW5kZWQgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRNb3VzZURpc2FibGVkV2hlblRvdWNoaW5nKGV2ZW50KTtcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5oYW1tZXIub24oJ3NpbmdsZXRhcCcsIHRoaXMub25TaW5nbGVUYXBCaW5kZWQpO1xuICAgICAgICAgICAgdGhpcy5oYW1tZXIub24oJ2hhbW1lci5pbnB1dCcsIHRoaXMub25IYW1tZXJJbnB1dEJpbmRlZCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9uTW91c2VEb3duQmluZGVkID0gdGhpcy5vbk1vdXNlRG93bi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uTW91c2VPdXRCaW5kZWQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgdGhpcy5oaWdobGlnaHQoZmFsc2UpO1xuICAgICAgICB9LmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5vbk1vdXNlT3ZlckJpbmRlZCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICB0aGlzLmhpZ2hsaWdodCh0cnVlKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc2hhcGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbk1vdXNlRG93bkJpbmRlZCk7XG4gICAgICAgIHRoaXMuc2hhcGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLm9uTW91c2VPdXRCaW5kZWQpO1xuICAgICAgICB0aGlzLnNoYXBlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMub25Nb3VzZU92ZXJCaW5kZWQpO1xuICAgIH07XG5cbiAgICBwcm90by5yZW5kZXJUb0NhbnZhcyA9IGZ1bmN0aW9uKGN0eCwgdmlld0JveCwgd2lkdGgsIGhlaWdodCwgY2FsbGJhY2spIHtcblxuICAgICAgICB0aGlzLnJlbmRlclRvQ2FudmFzWCh0aGlzLnNoYXBlLCB2aWV3Qm94LCB3aWR0aCwgaGVpZ2h0LCBjdHgsIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgcHJvdG8uZ2V0UGF0aCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgfTtcblxuICAgIHByb3RvLmdldFRyYW5zZm9ybSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAndHJhbnNsYXRlKCcsIHRoaXMucG9zaXRpb24ueCwgJywnLCB0aGlzLnBvc2l0aW9uLnksICcpJyxcbiAgICAgICAgICAgICdyb3RhdGUoJywgcmFkaWFuc1RvRGVncmVlcygtdGhpcy5yb3RhdGlvbiksICcpJ1xuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICB9O1xuXG4iXSwibmFtZXMiOlsiYWRkVHJhaXRFdmVudERpc3BhdGNoZXIiLCJyZW5kZXJUb0NhbnZhcyIsInJhZGlhbnNUb0RlZ3JlZXMiLCJjaGVja1BvbHlnb24iLCJjaGVja0xpbmVTZWdtZW50IiwiaXNUb3VjaERldmljZSIsImNyZWF0ZVN0eWxlIiwiY29weVN0eWxlIiwiY2xvbmVTdHlsZSIsIk1hcmt1cEV2ZW50cyIsImF2IiwiQXV0b2Rlc2siLCJWaWV3aW5nIiwiTWFya3VwIiwiaWQiLCJlZGl0b3IiLCJzdHlsZUF0dHJpYnV0ZXMiLCJ0eXBlIiwidmlld2VyIiwic2V0R2xvYmFsTWFuYWdlciIsImdsb2JhbE1hbmFnZXIiLCJwb3NpdGlvbiIsIngiLCJ5Iiwic2l6ZSIsInJvdGF0aW9uIiwic3R5bGUiLCJnZXREZWZhdWx0U3R5bGUiLCJoaWdobGlnaHRDb2xvciIsImNvbnN0cmFpbnRXaWR0aCIsImNvbnN0cmFpbnRIZWlnaHQiLCJjb25zdHJhaW50Um90YXRpb24iLCJtaW5XaWR0aCIsIm1pbkhlaWdodCIsImhpZ2hsaWdodGVkIiwic2VsZWN0ZWQiLCJiaW5kIiwicmVuZGVyVG9DYW52YXNYIiwiR2xvYmFsTWFuYWdlck1peGluIiwiY2FsbCIsInByb3RvdHlwZSIsInByb3RvIiwiZGVzdHJveSIsInVuc2VsZWN0Iiwic2V0UGFyZW50IiwicGFyZW50IiwiZGl2Iiwic2hhcGUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJhcHBlbmRDaGlsZCIsImNsb25lIiwiT2JqZWN0IiwiY3JlYXRlIiwiX19wcm90b19fIiwib3ZlcnJpZGVzIiwiZ2V0Q2xvbmVPdmVycmlkZXMiLCJuYW1lIiwiaGFzT3duUHJvcGVydHkiLCJtZW1iZXIiLCJ1bmRlZmluZWQiLCJGdW5jdGlvbiIsIm5vZGVUeXBlIiwiY2xvbmVOb2RlIiwiR2xvYmFsTWFuYWdlciIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImNsb25lU2hhcGUiLCJtYXJrdXAiLCJjaGlsZE5vZGVzIiwiaXRlbSIsImhpdGFyZWEiLCJiaW5kRG9tRXZlbnRzIiwiaGFtbWVyIiwibGlzdGVuZXJzIiwic2VsZWN0IiwidXBkYXRlU3R5bGUiLCJkaXNwYXRjaEV2ZW50IiwiRVZFTlRfTUFSS1VQX1NFTEVDVEVEIiwiaGlnaGxpZ2h0IiwiaW50ZXJhY3Rpb25zRGlzYWJsZWQiLCJnZXRTdHlsZSIsInNldFN0eWxlIiwiZWRpdCIsIkVWRU5UX01BUktVUF9FTlRFUl9FRElUSU9OIiwiY2FuY2VsIiwiRVZFTlRfTUFSS1VQX0NBTkNFTF9FRElUSU9OIiwiZGVsZXRlTWFya3VwIiwiRVZFTlRfTUFSS1VQX0RFTEVURV9FRElUSU9OIiwiZ2V0RWRpdE1vZGUiLCJjb25zb2xlIiwid2FybiIsImdldENsaWVudFBvc2l0aW9uIiwicG9zaXRpb25Gcm9tTWFya3Vwc1RvQ2xpZW50IiwiZ2V0Q2xpZW50U2l6ZSIsInNpemVGcm9tTWFya3Vwc1RvQ2xpZW50IiwiZ2V0Qm91bmRpbmdSZWN0Iiwic2V0Um90YXRpb24iLCJwYXJlbnRSZWN0IiwiaW1wbCIsImdldENhbnZhc0JvdW5kaW5nQ2xpZW50UmVjdCIsImJvdW5kUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsInN0cm9rZVdpZHRoIiwib2Zmc2V0IiwibGVmdCIsIndpZHRoIiwiaGVpZ2h0IiwiYW5nbGUiLCJnZXRSb3RhdGlvbiIsInNldFBvc2l0aW9uIiwic2V0U2l6ZSIsImlzV2lkdGhDb25zdHJhaW5lZCIsImlzSGVpZ2h0Q29uc3RyYWluZWQiLCJpc1JvdGF0aW9uQ29uc3RyYWluZWQiLCJzZXRNaW5XaWR0aCIsInNldE1pbkhlaWdodCIsImdldE1pbldpZHRoIiwiZ2V0TWluSGVpZ2h0IiwiZGlzYWJsZUludGVyYWN0aW9ucyIsImRpc2FibGUiLCJzZXRTdHJva2VXaWR0aCIsImNvbnN0cmFpbnNUb0JvdW5kcyIsImJvdW5kcyIsIm9uTW91c2VEb3duIiwiZXZlbnQiLCJlZGl0RnJhbWUiLCJzdGFydERyYWciLCJnZW5lcmF0ZVBvaW50M2QiLCJpZFRhcmdldCIsInBvbHlnb24iLCJnZW5lcmF0ZUJvdW5kaW5nUG9seWdvbiIsInNlbGYiLCJjaGVja0xpbmVTZWdtZW50QXV4IiwiYSIsImIiLCJwb2ludDJkIiwicG9pbnQzZCIsImNsaWVudFRvV29ybGQiLCJwb2ludCIsImNoZWNrUG9seWdvbkF1eCIsInhWZXJ0aWNlcyIsInlWZXJ0aWNlcyIsIm1pZEFCIiwiVEhSRUUiLCJWZWN0b3IyIiwibXVsdGlwbHlTY2FsYXIiLCJtaWRBQyIsIm1pZERCIiwibWlkREMiLCJjZW50ZXIiLCJhZGQiLCJnZW5lcmF0ZUJvdW5kaW5nQm94IiwiYm91bmRpbmdCb3giLCJtaW4iLCJtYXgiLCJ2ZXJ0ZXhDb3VudCIsImJiWDAiLCJOdW1iZXIiLCJQT1NJVElWRV9JTkZJTklUWSIsImJiWTAiLCJiYlgxIiwiTkVHQVRJVkVfSU5GSU5JVFkiLCJiYlkxIiwiaSIsImJiWCIsImJiWSIsIk1hdGgiLCJoYWxmU2l6ZSIsImx0IiwiVmVjdG9yMyIsInJ0IiwicmIiLCJsYiIsIm0xIiwiTWF0cml4NCIsIm1ha2VUcmFuc2xhdGlvbiIsIm0yIiwibWFrZVJvdGF0aW9uWiIsIm0zIiwidHJhbnNmb3JtIiwibXVsdGlwbHkiLCJhcHBseU1hdHJpeDQiLCJGbG9hdDMyQXJyYXkiLCJzZXRNZXRhZGF0YSIsInNldE1vdXNlRGlzYWJsZWRXaGVuVG91Y2hpbmciLCJpc0ZpcnN0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm9uTW91c2VEb3duQmluZGVkIiwiaXNGaW5hbCIsIl90aGlzIiwic2V0VGltZW91dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJIYW1tZXIiLCJNYW5hZ2VyIiwicmVjb2duaXplcnMiLCJHZXN0dXJlUmVjb2duaXplcnMiLCJzaW5nbGV0YXAiLCJoYW5kbGVQb2ludGVyRXZlbnRNb3VzZSIsImlucHV0Q2xhc3MiLCJUb3VjaElucHV0Iiwib25TaW5nbGVUYXBCaW5kZWQiLCJvbkhhbW1lcklucHV0QmluZGVkIiwib24iLCJvbk1vdXNlT3V0QmluZGVkIiwib25Nb3VzZU92ZXJCaW5kZWQiLCJjdHgiLCJ2aWV3Qm94IiwiY2FsbGJhY2siLCJnZXRQYXRoIiwiZ2V0VHJhbnNmb3JtIiwiam9pbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Markup/core/Markup.js\n");

/***/ }),

/***/ "./extensions/Markup/core/MarkupArrow.js":
/*!***********************************************!*\
  !*** ./extensions/Markup/core/MarkupArrow.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MarkupArrow: () => (/* binding */ MarkupArrow)\n/* harmony export */ });\n/* harmony import */ var _Markup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Markup */ \"./extensions/Markup/core/Markup.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n/* harmony import */ var _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MarkupsCoreUtils */ \"./extensions/Markup/core/MarkupsCoreUtils.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n/* harmony import */ var _edit_modes_EditModeArrow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./edit-modes/EditModeArrow */ \"./extensions/Markup/core/edit-modes/EditModeArrow.js\");\n\n\n\n\n\n\n\n\n/**\n *\n * @param id\n * @param editor\n * @constructor\n */\nfunction MarkupArrow(id, editor) {\n\n  var styleAttributes = ['stroke-width', 'stroke-color', 'stroke-opacity'];\n  _Markup__WEBPACK_IMPORTED_MODULE_0__.Markup.call(this, id, editor, styleAttributes);\n\n  // bind to this to pass this.globalManager\n  this.addMarkupMetadata = _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.addMarkupMetadata.bind(this);\n  this.checkLineSegment = _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.checkLineSegment.bind(this);\n\n  this.type = _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__.MARKUP_TYPE_ARROW;\n  this.constraintHeight = true;\n\n  // Create head and tail.\n  this.head = new THREE.Vector3();\n  this.tail = new THREE.Vector3();\n  this.size.y = this.style['stroke-width'] * 3;\n  this.shape = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createMarkupPathSvg)();\n\n  this.bindDomEvents();\n}\n\nMarkupArrow.prototype = Object.create(_Markup__WEBPACK_IMPORTED_MODULE_0__.Markup.prototype);\nMarkupArrow.prototype.constructor = MarkupArrow;\n\nvar proto = MarkupArrow.prototype;\n\nproto.getEditMode = function () {\n\n  return new _edit_modes_EditModeArrow__WEBPACK_IMPORTED_MODULE_4__.EditModeArrow(this.editor);\n};\n\n/**\n * Sets top-left and bottom-right values in client space coordinates (2d).\n * Notice that for the arrow, the top left is the \"tail\" of the arrow and\n * the bottom right is the \"head\" of it.\n *\n * @param {Number} xO - tail\n * @param {Number} yO - tail\n * @param {Number} xF - head\n * @param {Number} yF - head\n */\nproto.set = function (xO, yO, xF, yF) {\n\n  var vO = new THREE.Vector2(xO, yO);\n  var vF = new THREE.Vector2(xF, yF);\n  var vDir = vF.clone().sub(vO).normalize();\n\n  this.size.x = vO.distanceTo(vF); // TODO: Clamp min length\n  this.rotation = Math.acos(vDir.dot(new THREE.Vector2(1, 0)));\n  this.rotation = yF > yO ? Math.PI * 2 - this.rotation : this.rotation;\n\n  var head = this.head;\n  var tail = this.tail;\n\n  head.set(xF, yF, 0);\n  tail.set(xO, yO, 0);\n\n  this.position.x = tail.x + (head.x - tail.x) * 0.5;\n  this.position.y = tail.y + (head.y - tail.y) * 0.5;\n\n  this.updateStyle();\n};\n\n/**\n * Changes the rotation of the markup to the given angle.\n * This gets called by the Autodesk.Viewing.Extensions.Markups.Core.SetRotation edit action\n *\n * @param {Number} angle\n */\nproto.setRotation = function (angle) {\n\n  this.rotation = angle;\n\n  var xF = Math.cos(-angle);\n  var yF = Math.sin(-angle);\n  var vFDir = new THREE.Vector2(xF, yF); // already normalized\n  vFDir.multiplyScalar(this.size.x * 0.5);\n\n  var vCenter = new THREE.Vector2(this.position.x, this.position.y);\n  var vO = vCenter.clone().sub(vFDir);\n  var vF = vCenter.clone().add(vFDir);\n\n  this.head.set(vF.x, vF.y, 0);\n  this.tail.set(vO.x, vO.y, 0);\n\n  this.updateStyle();\n};\n\n/**\n * Changes the position and size of the markup.\n * This gets called by the namespace.SetSize edit action\n * @param {{x: Number, y: Number}} position - arrow's center\n * @param {Number} width - Arrow's length\n * @param {Number} height - We ignore this one because we use the arrow's stroke width instead\n */\nproto.setSize = function (position, width, height) {\n\n  var xF = Math.cos(-this.rotation);\n  var yF = Math.sin(-this.rotation);\n  var vFDir = new THREE.Vector2(xF, yF); // already normalized\n  vFDir.multiplyScalar(width * 0.5);\n\n  var vCenter = new THREE.Vector2(position.x, position.y);\n  var vO = vCenter.clone().sub(vFDir);\n  var vF = vCenter.clone().add(vFDir);\n\n  this.head.set(vF.x, vF.y, 0);\n  this.tail.set(vO.x, vO.y, 0);\n\n  this.position.x = position.x;\n  this.position.y = position.y;\n  this.size.x = width;\n\n  this.updateStyle();\n};\n\nproto.updateStyle = function () {\n\n  var style = this.style;\n  var shape = this.shape;\n  var strokeWidth = style['stroke-width'];\n  var strokeColor = this.highlighted ? this.highlightColor : (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.composeRGBAString)(style['stroke-color'], style['stroke-opacity']);\n  var transform = this.getTransform();\n\n  this.size.y = strokeWidth * 3;\n  this.style['fill-color'] = style['stroke-color'];\n  this.style['fill-opacity'] = style['stroke-opacity'];\n\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'd', this.getPath().join(' '));\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'stroke-width', strokeWidth);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'stroke', strokeColor);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'fill', strokeColor);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'transform', transform);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.updateMarkupPathSvgHitarea)(shape, this.editor);\n};\n\n/**\n * Used by the EditFrame to move the markup in Client Space coordinates\n * @param {Number} x - New X location for the markup. Notice that markups are centered on this value.\n * @param {Number} y - New Y location for the markup. Notice that markups are centered on this value.\n */\nproto.setPosition = function (x, y) {\n\n  var head = this.head;\n  var tail = this.tail;\n\n  var dx = head.x - tail.x;\n  var dy = head.y - tail.y;\n\n  var xo = x + dx * 0.5;\n  var yo = y + dy * 0.5;\n\n  head.x = xo;\n  head.y = yo;\n\n  tail.x = xo - dx;\n  tail.y = yo - dy;\n\n  this.position.x = tail.x + (head.x - tail.x) * 0.5;\n  this.position.y = tail.y + (head.y - tail.y) * 0.5;\n\n  this.updateStyle();\n};\n\nproto.generatePoint3d = function (idTarget) {\n\n  var head = this.editor.positionFromMarkupsToClient(this.head.x, this.head.y);\n  var tail = this.editor.positionFromMarkupsToClient(this.tail.x, this.tail.y);\n\n  var direction = head.clone().sub(tail).normalize();\n\n  var point2d = this.checkLineSegment(head.x, head.y, head.x + direction.x * 200, head.y + direction.y * 200, idTarget);\n  var point3d = point2d && this.viewer.clientToWorld(point2d.x, point2d.y);\n\n  return point3d && point3d.point;\n};\n\nproto.setMetadata = function () {\n\n  var metadata = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_3__.cloneStyle)(this.style);\n\n  metadata.type = this.type;\n  metadata.head = [this.head.x, this.head.y].join(\" \");\n  metadata.tail = [this.tail.x, this.tail.y].join(\" \");\n  metadata.rotation = String(this.rotation);\n\n  return this.addMarkupMetadata(this.shape, metadata);\n};\n\nproto.getPath = function () {\n\n  // To build the arrow we need 7 points in total\n  // The 'default' arrow built here has the following characteristics:\n  //\n  // 1. It is built horizontally facing right\n  // 2. It's bounding rectangle has length: this.size.x\n  // 3. It's bounding rectangle has height: 2 * this.strokeWidth\n  // 4. The arrow tail's thickness is: this.strokeWidth\n  // 5. The arrow head's length is: 2/3 of (point 3)\n  // 6. The arrow head's thickness is: (point 3)\n  // 7. The arrow generated is centered in its local (0,0), meaning that\n  //    two points are placed with negative x values, and all other have\n  //    positive x values:\n  //\n  //                            (3)\\\n  //                              \\  \\\n  //             (1)-------------(2)   \\\n  //              |         (0)        (4)\n  //             (7)-------------(6)   /\n  //                              /  /\n  //                            (5)/\n  //\n\n  var sizeX = this.size.x;\n  var sizeY = this.size.y;\n  var sizeYOver3 = sizeY / 3;\n  var strokeWidth = this.style['stroke-width'];\n  var tailW = sizeX - strokeWidth * 3;\n  var headW = sizeX - tailW;\n  var spikeOffset = strokeWidth * 0.3;\n\n  return [\n  'M', -sizeX * 0.5, -sizeY * 0.5 + sizeYOver3, // (1)\n  'l', tailW, 0, // (2)\n  'l', -spikeOffset, -sizeYOver3, // (3)\n  'l', headW + spikeOffset, sizeYOver3 * 1.5, // (4)\n  'l', -headW - spikeOffset, sizeYOver3 * 1.5, // (5)\n  'l', spikeOffset, -sizeYOver3, // (6)\n  'l', -tailW, 0, // (7)\n  'z'];\n\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0MsS0FBSyxFQUFpQixDQUFDLEVBQTRCO0VBQ3pELEdBQUcsQ0FDTjs7QUFDTCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvTWFya3VwQXJyb3cuanM/YTA5YSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IE1hcmt1cCB9IGZyb20gJy4vTWFya3VwJztcbmltcG9ydCAqIGFzIE1hcmt1cFR5cGVzIGZyb20gJy4vTWFya3VwVHlwZXMnO1xuaW1wb3J0IHsgY3JlYXRlTWFya3VwUGF0aFN2ZywgY29tcG9zZVJHQkFTdHJpbmcsIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnLFxuICAgIHVwZGF0ZU1hcmt1cFBhdGhTdmdIaXRhcmVhLCBjaGVja0xpbmVTZWdtZW50LCBhZGRNYXJrdXBNZXRhZGF0YSB9IGZyb20gJy4vTWFya3Vwc0NvcmVVdGlscyc7XG5pbXBvcnQgeyBjbG9uZVN0eWxlIH0gZnJvbSAnLi9TdHlsZVV0aWxzJztcbmltcG9ydCB7IEVkaXRNb2RlQXJyb3cgfSBmcm9tICcuL2VkaXQtbW9kZXMvRWRpdE1vZGVBcnJvdyc7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZFxuICAgICAqIEBwYXJhbSBlZGl0b3JcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gTWFya3VwQXJyb3coaWQsIGVkaXRvcikge1xuXG4gICAgICAgIHZhciBzdHlsZUF0dHJpYnV0ZXMgPSBbJ3N0cm9rZS13aWR0aCcsICdzdHJva2UtY29sb3InLCAnc3Ryb2tlLW9wYWNpdHknXTtcbiAgICAgICAgTWFya3VwLmNhbGwodGhpcywgaWQsIGVkaXRvciwgc3R5bGVBdHRyaWJ1dGVzKTtcblxuICAgICAgICAvLyBiaW5kIHRvIHRoaXMgdG8gcGFzcyB0aGlzLmdsb2JhbE1hbmFnZXJcbiAgICAgICAgdGhpcy5hZGRNYXJrdXBNZXRhZGF0YSA9IGFkZE1hcmt1cE1ldGFkYXRhLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuY2hlY2tMaW5lU2VnbWVudCA9IGNoZWNrTGluZVNlZ21lbnQuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLnR5cGUgPSBNYXJrdXBUeXBlcy5NQVJLVVBfVFlQRV9BUlJPVztcbiAgICAgICAgdGhpcy5jb25zdHJhaW50SGVpZ2h0ID0gdHJ1ZTtcblxuICAgICAgICAvLyBDcmVhdGUgaGVhZCBhbmQgdGFpbC5cbiAgICAgICAgdGhpcy5oZWFkID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICAgICAgdGhpcy50YWlsID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICAgICAgdGhpcy5zaXplLnkgPSB0aGlzLnN0eWxlWydzdHJva2Utd2lkdGgnXSAqIDM7XG4gICAgICAgIHRoaXMuc2hhcGUgPSBjcmVhdGVNYXJrdXBQYXRoU3ZnKCk7XG5cbiAgICAgICAgdGhpcy5iaW5kRG9tRXZlbnRzKCk7XG4gICAgfVxuXG4gICAgTWFya3VwQXJyb3cucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNYXJrdXAucHJvdG90eXBlKTtcbiAgICBNYXJrdXBBcnJvdy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNYXJrdXBBcnJvdztcblxuICAgIHZhciBwcm90byA9IE1hcmt1cEFycm93LnByb3RvdHlwZTtcblxuICAgIHByb3RvLmdldEVkaXRNb2RlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBFZGl0TW9kZUFycm93KHRoaXMuZWRpdG9yKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0b3AtbGVmdCBhbmQgYm90dG9tLXJpZ2h0IHZhbHVlcyBpbiBjbGllbnQgc3BhY2UgY29vcmRpbmF0ZXMgKDJkKS5cbiAgICAgKiBOb3RpY2UgdGhhdCBmb3IgdGhlIGFycm93LCB0aGUgdG9wIGxlZnQgaXMgdGhlIFwidGFpbFwiIG9mIHRoZSBhcnJvdyBhbmRcbiAgICAgKiB0aGUgYm90dG9tIHJpZ2h0IGlzIHRoZSBcImhlYWRcIiBvZiBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4TyAtIHRhaWxcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geU8gLSB0YWlsXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHhGIC0gaGVhZFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5RiAtIGhlYWRcbiAgICAgKi9cbiAgICBwcm90by5zZXQgPSBmdW5jdGlvbih4TywgeU8sIHhGLCB5Rikge1xuXG4gICAgICAgIHZhciB2TyA9IG5ldyBUSFJFRS5WZWN0b3IyKHhPLCB5Tyk7XG4gICAgICAgIHZhciB2RiA9IG5ldyBUSFJFRS5WZWN0b3IyKHhGLCB5Rik7XG4gICAgICAgIHZhciB2RGlyID0gdkYuY2xvbmUoKS5zdWIodk8pLm5vcm1hbGl6ZSgpO1xuXG4gICAgICAgIHRoaXMuc2l6ZS54ID0gdk8uZGlzdGFuY2VUbyh2Rik7IC8vIFRPRE86IENsYW1wIG1pbiBsZW5ndGhcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IE1hdGguYWNvcyh2RGlyLmRvdChuZXcgVEhSRUUuVmVjdG9yMigxLDApKSk7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSB5RiA+IHlPID8gKE1hdGguUEkqMiktdGhpcy5yb3RhdGlvbiA6IHRoaXMucm90YXRpb247XG5cbiAgICAgICAgdmFyIGhlYWQgPSB0aGlzLmhlYWQ7XG4gICAgICAgIHZhciB0YWlsID0gdGhpcy50YWlsO1xuXG4gICAgICAgIGhlYWQuc2V0KHhGLCB5RiwgMCk7XG4gICAgICAgIHRhaWwuc2V0KHhPLCB5TywgMCk7XG5cbiAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0gdGFpbC54ICsgKGhlYWQueCAtIHRhaWwueCkgKiAwLjU7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA9IHRhaWwueSArIChoZWFkLnkgLSB0YWlsLnkpICogMC41O1xuXG4gICAgICAgIHRoaXMudXBkYXRlU3R5bGUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgcm90YXRpb24gb2YgdGhlIG1hcmt1cCB0byB0aGUgZ2l2ZW4gYW5nbGUuXG4gICAgICogVGhpcyBnZXRzIGNhbGxlZCBieSB0aGUgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZS5TZXRSb3RhdGlvbiBlZGl0IGFjdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGFuZ2xlXG4gICAgICovXG4gICAgcHJvdG8uc2V0Um90YXRpb24gPSBmdW5jdGlvbihhbmdsZSkge1xuXG4gICAgICAgIHRoaXMucm90YXRpb24gPSBhbmdsZTtcblxuICAgICAgICB2YXIgeEYgPSBNYXRoLmNvcygtYW5nbGUpO1xuICAgICAgICB2YXIgeUYgPSBNYXRoLnNpbigtYW5nbGUpO1xuICAgICAgICB2YXIgdkZEaXIgPSBuZXcgVEhSRUUuVmVjdG9yMih4RiwgeUYpOyAvLyBhbHJlYWR5IG5vcm1hbGl6ZWRcbiAgICAgICAgdkZEaXIubXVsdGlwbHlTY2FsYXIodGhpcy5zaXplLngqMC41KTtcblxuICAgICAgICB2YXIgdkNlbnRlciA9IG5ldyBUSFJFRS5WZWN0b3IyKHRoaXMucG9zaXRpb24ueCwgdGhpcy5wb3NpdGlvbi55KTtcbiAgICAgICAgdmFyIHZPID0gdkNlbnRlci5jbG9uZSgpLnN1Yih2RkRpcik7XG4gICAgICAgIHZhciB2RiA9IHZDZW50ZXIuY2xvbmUoKS5hZGQodkZEaXIpO1xuXG4gICAgICAgIHRoaXMuaGVhZC5zZXQodkYueCwgdkYueSwgMCk7XG4gICAgICAgIHRoaXMudGFpbC5zZXQodk8ueCwgdk8ueSwgMCk7XG5cbiAgICAgICAgdGhpcy51cGRhdGVTdHlsZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBwb3NpdGlvbiBhbmQgc2l6ZSBvZiB0aGUgbWFya3VwLlxuICAgICAqIFRoaXMgZ2V0cyBjYWxsZWQgYnkgdGhlIG5hbWVzcGFjZS5TZXRTaXplIGVkaXQgYWN0aW9uXG4gICAgICogQHBhcmFtIHt7eDogTnVtYmVyLCB5OiBOdW1iZXJ9fSBwb3NpdGlvbiAtIGFycm93J3MgY2VudGVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIC0gQXJyb3cncyBsZW5ndGhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0IC0gV2UgaWdub3JlIHRoaXMgb25lIGJlY2F1c2Ugd2UgdXNlIHRoZSBhcnJvdydzIHN0cm9rZSB3aWR0aCBpbnN0ZWFkXG4gICAgICovXG4gICAgcHJvdG8uc2V0U2l6ZSA9IGZ1bmN0aW9uKHBvc2l0aW9uLCB3aWR0aCwgaGVpZ2h0KSB7XG5cbiAgICAgICAgdmFyIHhGID0gTWF0aC5jb3MoLXRoaXMucm90YXRpb24pO1xuICAgICAgICB2YXIgeUYgPSBNYXRoLnNpbigtdGhpcy5yb3RhdGlvbik7XG4gICAgICAgIHZhciB2RkRpciA9IG5ldyBUSFJFRS5WZWN0b3IyKHhGLCB5Rik7IC8vIGFscmVhZHkgbm9ybWFsaXplZFxuICAgICAgICB2RkRpci5tdWx0aXBseVNjYWxhcih3aWR0aCowLjUpO1xuXG4gICAgICAgIHZhciB2Q2VudGVyID0gbmV3IFRIUkVFLlZlY3RvcjIocG9zaXRpb24ueCwgcG9zaXRpb24ueSk7XG4gICAgICAgIHZhciB2TyA9IHZDZW50ZXIuY2xvbmUoKS5zdWIodkZEaXIpO1xuICAgICAgICB2YXIgdkYgPSB2Q2VudGVyLmNsb25lKCkuYWRkKHZGRGlyKTtcblxuICAgICAgICB0aGlzLmhlYWQuc2V0KHZGLngsIHZGLnksIDApO1xuICAgICAgICB0aGlzLnRhaWwuc2V0KHZPLngsIHZPLnksIDApO1xuXG4gICAgICAgIHRoaXMucG9zaXRpb24ueCA9IHBvc2l0aW9uLng7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA9IHBvc2l0aW9uLnk7XG4gICAgICAgIHRoaXMuc2l6ZS54ID0gd2lkdGg7XG5cbiAgICAgICAgdGhpcy51cGRhdGVTdHlsZSgpO1xuICAgIH07XG5cbiAgICBwcm90by51cGRhdGVTdHlsZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuc3R5bGU7XG4gICAgICAgIHZhciBzaGFwZSA9IHRoaXMuc2hhcGU7XG4gICAgICAgIHZhciBzdHJva2VXaWR0aCA9IHN0eWxlWydzdHJva2Utd2lkdGgnXTtcbiAgICAgICAgdmFyIHN0cm9rZUNvbG9yID0gdGhpcy5oaWdobGlnaHRlZCA/IHRoaXMuaGlnaGxpZ2h0Q29sb3IgOiBjb21wb3NlUkdCQVN0cmluZyhzdHlsZVsnc3Ryb2tlLWNvbG9yJ10sIHN0eWxlWydzdHJva2Utb3BhY2l0eSddKTtcbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9IHRoaXMuZ2V0VHJhbnNmb3JtKCk7XG5cbiAgICAgICAgdGhpcy5zaXplLnkgPSBzdHJva2VXaWR0aCAqIDM7XG4gICAgICAgIHRoaXMuc3R5bGVbJ2ZpbGwtY29sb3InXSA9IHN0eWxlWydzdHJva2UtY29sb3InXTtcbiAgICAgICAgdGhpcy5zdHlsZVsnZmlsbC1vcGFjaXR5J10gPSBzdHlsZVsnc3Ryb2tlLW9wYWNpdHknXTtcblxuICAgICAgICBzZXRBdHRyaWJ1dGVUb01hcmt1cFN2ZyhzaGFwZSwgJ2QnLCB0aGlzLmdldFBhdGgoKS5qb2luKCcgJykpO1xuICAgICAgICBzZXRBdHRyaWJ1dGVUb01hcmt1cFN2ZyhzaGFwZSwgJ3N0cm9rZS13aWR0aCcsIHN0cm9rZVdpZHRoKTtcbiAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcoc2hhcGUsICdzdHJva2UnLCBzdHJva2VDb2xvcik7XG4gICAgICAgIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnKHNoYXBlLCAnZmlsbCcsIHN0cm9rZUNvbG9yKTtcbiAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcoc2hhcGUsICd0cmFuc2Zvcm0nLCB0cmFuc2Zvcm0pO1xuICAgICAgICB1cGRhdGVNYXJrdXBQYXRoU3ZnSGl0YXJlYShzaGFwZSwgdGhpcy5lZGl0b3IpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IHRoZSBFZGl0RnJhbWUgdG8gbW92ZSB0aGUgbWFya3VwIGluIENsaWVudCBTcGFjZSBjb29yZGluYXRlc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IC0gTmV3IFggbG9jYXRpb24gZm9yIHRoZSBtYXJrdXAuIE5vdGljZSB0aGF0IG1hcmt1cHMgYXJlIGNlbnRlcmVkIG9uIHRoaXMgdmFsdWUuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgLSBOZXcgWSBsb2NhdGlvbiBmb3IgdGhlIG1hcmt1cC4gTm90aWNlIHRoYXQgbWFya3VwcyBhcmUgY2VudGVyZWQgb24gdGhpcyB2YWx1ZS5cbiAgICAgKi9cbiAgICBwcm90by5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICh4LCB5KSB7XG5cbiAgICAgICAgdmFyIGhlYWQgPSB0aGlzLmhlYWQ7XG4gICAgICAgIHZhciB0YWlsID0gdGhpcy50YWlsO1xuXG4gICAgICAgIHZhciBkeCA9IGhlYWQueCAtIHRhaWwueDtcbiAgICAgICAgdmFyIGR5ID0gaGVhZC55IC0gdGFpbC55O1xuXG4gICAgICAgIHZhciB4byA9IHggKyBkeCAqIDAuNTtcbiAgICAgICAgdmFyIHlvID0geSArIGR5ICogMC41O1xuXG4gICAgICAgIGhlYWQueCA9IHhvO1xuICAgICAgICBoZWFkLnkgPSB5bztcblxuICAgICAgICB0YWlsLnggPSB4byAtIGR4O1xuICAgICAgICB0YWlsLnkgPSB5byAtIGR5O1xuXG4gICAgICAgIHRoaXMucG9zaXRpb24ueCA9IHRhaWwueCArIChoZWFkLnggLSB0YWlsLngpICogMC41O1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSB0YWlsLnkgKyAoaGVhZC55IC0gdGFpbC55KSAqIDAuNTtcblxuICAgICAgICB0aGlzLnVwZGF0ZVN0eWxlKCk7XG4gICAgfTtcblxuICAgIHByb3RvLmdlbmVyYXRlUG9pbnQzZCA9IGZ1bmN0aW9uKGlkVGFyZ2V0KSB7XG5cbiAgICAgICAgdmFyIGhlYWQgPSB0aGlzLmVkaXRvci5wb3NpdGlvbkZyb21NYXJrdXBzVG9DbGllbnQodGhpcy5oZWFkLngsIHRoaXMuaGVhZC55KTtcbiAgICAgICAgdmFyIHRhaWwgPSB0aGlzLmVkaXRvci5wb3NpdGlvbkZyb21NYXJrdXBzVG9DbGllbnQodGhpcy50YWlsLngsIHRoaXMudGFpbC55KTtcblxuICAgICAgICB2YXIgZGlyZWN0aW9uID0gaGVhZC5jbG9uZSgpLnN1Yih0YWlsKS5ub3JtYWxpemUoKTtcblxuICAgICAgICB2YXIgcG9pbnQyZCA9IHRoaXMuY2hlY2tMaW5lU2VnbWVudChoZWFkLngsIGhlYWQueSwgaGVhZC54ICsgZGlyZWN0aW9uLnggKiAyMDAsIGhlYWQueSArIGRpcmVjdGlvbi55ICogMjAwLCBpZFRhcmdldCk7XG4gICAgICAgIHZhciBwb2ludDNkID0gcG9pbnQyZCAmJiB0aGlzLnZpZXdlci5jbGllbnRUb1dvcmxkKHBvaW50MmQueCwgcG9pbnQyZC55KTtcblxuICAgICAgICByZXR1cm4gcG9pbnQzZCAmJiBwb2ludDNkLnBvaW50O1xuICAgIH07XG5cbiAgICBwcm90by5zZXRNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBtZXRhZGF0YSA9IGNsb25lU3R5bGUodGhpcy5zdHlsZSk7XG5cbiAgICAgICAgbWV0YWRhdGEudHlwZSA9IHRoaXMudHlwZTtcbiAgICAgICAgbWV0YWRhdGEuaGVhZCA9IFt0aGlzLmhlYWQueCwgdGhpcy5oZWFkLnldLmpvaW4oXCIgXCIpO1xuICAgICAgICBtZXRhZGF0YS50YWlsID0gW3RoaXMudGFpbC54LCB0aGlzLnRhaWwueV0uam9pbihcIiBcIik7XG4gICAgICAgIG1ldGFkYXRhLnJvdGF0aW9uID0gU3RyaW5nKHRoaXMucm90YXRpb24pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmFkZE1hcmt1cE1ldGFkYXRhKHRoaXMuc2hhcGUsIG1ldGFkYXRhKTtcbiAgICB9O1xuXG4gICAgcHJvdG8uZ2V0UGF0aCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIC8vIFRvIGJ1aWxkIHRoZSBhcnJvdyB3ZSBuZWVkIDcgcG9pbnRzIGluIHRvdGFsXG4gICAgICAgIC8vIFRoZSAnZGVmYXVsdCcgYXJyb3cgYnVpbHQgaGVyZSBoYXMgdGhlIGZvbGxvd2luZyBjaGFyYWN0ZXJpc3RpY3M6XG4gICAgICAgIC8vXG4gICAgICAgIC8vIDEuIEl0IGlzIGJ1aWx0IGhvcml6b250YWxseSBmYWNpbmcgcmlnaHRcbiAgICAgICAgLy8gMi4gSXQncyBib3VuZGluZyByZWN0YW5nbGUgaGFzIGxlbmd0aDogdGhpcy5zaXplLnhcbiAgICAgICAgLy8gMy4gSXQncyBib3VuZGluZyByZWN0YW5nbGUgaGFzIGhlaWdodDogMiAqIHRoaXMuc3Ryb2tlV2lkdGhcbiAgICAgICAgLy8gNC4gVGhlIGFycm93IHRhaWwncyB0aGlja25lc3MgaXM6IHRoaXMuc3Ryb2tlV2lkdGhcbiAgICAgICAgLy8gNS4gVGhlIGFycm93IGhlYWQncyBsZW5ndGggaXM6IDIvMyBvZiAocG9pbnQgMylcbiAgICAgICAgLy8gNi4gVGhlIGFycm93IGhlYWQncyB0aGlja25lc3MgaXM6IChwb2ludCAzKVxuICAgICAgICAvLyA3LiBUaGUgYXJyb3cgZ2VuZXJhdGVkIGlzIGNlbnRlcmVkIGluIGl0cyBsb2NhbCAoMCwwKSwgbWVhbmluZyB0aGF0XG4gICAgICAgIC8vICAgIHR3byBwb2ludHMgYXJlIHBsYWNlZCB3aXRoIG5lZ2F0aXZlIHggdmFsdWVzLCBhbmQgYWxsIG90aGVyIGhhdmVcbiAgICAgICAgLy8gICAgcG9zaXRpdmUgeCB2YWx1ZXM6XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICgzKVxcXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFwgIFxcXG4gICAgICAgIC8vICAgICAgICAgICAgICgxKS0tLS0tLS0tLS0tLS0oMikgICBcXFxuICAgICAgICAvLyAgICAgICAgICAgICAgfCAgICAgICAgICgwKSAgICAgICAgKDQpXG4gICAgICAgIC8vICAgICAgICAgICAgICg3KS0tLS0tLS0tLS0tLS0oNikgICAvXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyAgL1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAoNSkvXG4gICAgICAgIC8vXG5cbiAgICAgICAgdmFyIHNpemVYID0gdGhpcy5zaXplLng7XG4gICAgICAgIHZhciBzaXplWSA9IHRoaXMuc2l6ZS55O1xuICAgICAgICB2YXIgc2l6ZVlPdmVyMyA9IHNpemVZLzM7XG4gICAgICAgIHZhciBzdHJva2VXaWR0aCA9IHRoaXMuc3R5bGVbJ3N0cm9rZS13aWR0aCddO1xuICAgICAgICB2YXIgdGFpbFcgPSBzaXplWCAtIHN0cm9rZVdpZHRoICogMztcbiAgICAgICAgdmFyIGhlYWRXID0gc2l6ZVggLSB0YWlsVztcbiAgICAgICAgdmFyIHNwaWtlT2Zmc2V0ID0gc3Ryb2tlV2lkdGggKiAwLjM7XG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICdNJywgLXNpemVYICogMC41ICAgICAgICAsIC1zaXplWSAqIDAuNSArIHNpemVZT3ZlcjMsICAgIC8vICgxKVxuICAgICAgICAgICAgJ2wnLCAgdGFpbFcgICAgICAgICAgICAgICwgIDAsICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gKDIpXG4gICAgICAgICAgICAnbCcsIC1zcGlrZU9mZnNldCAgICAgICAgLCAtc2l6ZVlPdmVyMywgICAgICAgICAgICAgICAgICAvLyAoMylcbiAgICAgICAgICAgICdsJywgIGhlYWRXICsgc3Bpa2VPZmZzZXQsICBzaXplWU92ZXIzICogMS41LCAgICAgICAgICAgIC8vICg0KVxuICAgICAgICAgICAgJ2wnLCAtaGVhZFcgLSBzcGlrZU9mZnNldCwgIHNpemVZT3ZlcjMgKiAxLjUsICAgICAgICAgICAgLy8gKDUpXG4gICAgICAgICAgICAnbCcsICBzcGlrZU9mZnNldCAgICAgICAgLCAtc2l6ZVlPdmVyMywgICAgICAgICAgICAgICAgICAvLyAoNilcbiAgICAgICAgICAgICdsJywgLXRhaWxXICAgICAgICAgICAgICAsICAwLCAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICg3KVxuICAgICAgICAgICAgJ3onXG4gICAgICAgIF07XG4gICAgfTtcblxuIl0sIm5hbWVzIjpbIk1hcmt1cCIsIk1hcmt1cFR5cGVzIiwiY3JlYXRlTWFya3VwUGF0aFN2ZyIsImNvbXBvc2VSR0JBU3RyaW5nIiwic2V0QXR0cmlidXRlVG9NYXJrdXBTdmciLCJ1cGRhdGVNYXJrdXBQYXRoU3ZnSGl0YXJlYSIsImNoZWNrTGluZVNlZ21lbnQiLCJhZGRNYXJrdXBNZXRhZGF0YSIsImNsb25lU3R5bGUiLCJFZGl0TW9kZUFycm93IiwiTWFya3VwQXJyb3ciLCJpZCIsImVkaXRvciIsInN0eWxlQXR0cmlidXRlcyIsImNhbGwiLCJiaW5kIiwidHlwZSIsIk1BUktVUF9UWVBFX0FSUk9XIiwiY29uc3RyYWludEhlaWdodCIsImhlYWQiLCJUSFJFRSIsIlZlY3RvcjMiLCJ0YWlsIiwic2l6ZSIsInkiLCJzdHlsZSIsInNoYXBlIiwiYmluZERvbUV2ZW50cyIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwicHJvdG8iLCJnZXRFZGl0TW9kZSIsInNldCIsInhPIiwieU8iLCJ4RiIsInlGIiwidk8iLCJWZWN0b3IyIiwidkYiLCJ2RGlyIiwiY2xvbmUiLCJzdWIiLCJub3JtYWxpemUiLCJ4IiwiZGlzdGFuY2VUbyIsInJvdGF0aW9uIiwiTWF0aCIsImFjb3MiLCJkb3QiLCJQSSIsInBvc2l0aW9uIiwidXBkYXRlU3R5bGUiLCJzZXRSb3RhdGlvbiIsImFuZ2xlIiwiY29zIiwic2luIiwidkZEaXIiLCJtdWx0aXBseVNjYWxhciIsInZDZW50ZXIiLCJhZGQiLCJzZXRTaXplIiwid2lkdGgiLCJoZWlnaHQiLCJzdHJva2VXaWR0aCIsInN0cm9rZUNvbG9yIiwiaGlnaGxpZ2h0ZWQiLCJoaWdobGlnaHRDb2xvciIsInRyYW5zZm9ybSIsImdldFRyYW5zZm9ybSIsImdldFBhdGgiLCJqb2luIiwic2V0UG9zaXRpb24iLCJkeCIsImR5IiwieG8iLCJ5byIsImdlbmVyYXRlUG9pbnQzZCIsImlkVGFyZ2V0IiwicG9zaXRpb25Gcm9tTWFya3Vwc1RvQ2xpZW50IiwiZGlyZWN0aW9uIiwicG9pbnQyZCIsInBvaW50M2QiLCJ2aWV3ZXIiLCJjbGllbnRUb1dvcmxkIiwicG9pbnQiLCJzZXRNZXRhZGF0YSIsIm1ldGFkYXRhIiwiU3RyaW5nIiwic2l6ZVgiLCJzaXplWSIsInNpemVZT3ZlcjMiLCJ0YWlsVyIsImhlYWRXIiwic3Bpa2VPZmZzZXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/MarkupArrow.js\n");

/***/ }),

/***/ "./extensions/Markup/core/MarkupCallout.js":
/*!*************************************************!*\
  !*** ./extensions/Markup/core/MarkupCallout.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MarkupCallout: () => (/* binding */ MarkupCallout)\n/* harmony export */ });\n/* harmony import */ var _Markup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Markup */ \"./extensions/Markup/core/Markup.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n/* harmony import */ var _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MarkupsCoreUtils */ \"./extensions/Markup/core/MarkupsCoreUtils.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n/* harmony import */ var _edit_modes_EditModeCallout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./edit-modes/EditModeCallout */ \"./extensions/Markup/core/edit-modes/EditModeCallout.js\");\n\n\n\n\n\n\n\n\n// LMV ViewerLMV-2170 [Markup] [PDF] Text markup missing/cutoff for normal sized text.\n// If the font size of an SVG text is too small, the text is not rendered independently of its final screen size.\n// To solve the issue we multiply font size by 100 and scale down the text in its transform.\nvar FONT_SIZE_SCALE = 100;\n\nvar STARTING_WIDTH_FACTOR = 6;\n\n/**\n * Callout Markup.\n * @constructor\n */\nfunction MarkupCallout(id, editor, size) {\n\n  var styleAttributes = [\n  'font-size',\n  'stroke-width',\n  'stroke-color',\n  'stroke-opacity',\n  'fill-color',\n  'fill-opacity',\n  'font-family',\n  'font-style',\n  'font-weight'];\n\n\n  _Markup__WEBPACK_IMPORTED_MODULE_0__.Markup.call(this, id, editor, styleAttributes);\n\n  // bind to this to pass this.globalManager\n  this.addMarkupMetadata = _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.addMarkupMetadata.bind(this);\n  this.createSvgElement = _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createSvgElement.bind(this);\n\n\n  this.type = _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__.MARKUP_TYPE_CALLOUT;\n  this.textShape = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createMarkupTextSvg)();\n  this.rectShape = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createMarkupPathSvg)();\n  this.shape = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createMarkupGroupSvg)([this.rectShape, this.textShape]);\n  this.isFrameUsed = true;\n  this.constraintRotation = true;\n  this.constraintHeight = true;\n  this.constraintWidth = false;\n  this.size.x = size.x;\n  this.size.y = size.y;\n  this.currentText = \"\";\n  this.currentTextLines = [\"\"];\n  this.prevHighlight = false;\n  this.isHelperTextActive = false;\n\n  // Note: We could have this property be a style property.\n  // However, there is no need for this property to be exposed to the user for alteration\n  // This value is a percentage of the font size used to offset vertically 2 text lines\n  // of the same paragraph.\n  // Notice that this value is used by EditorTextInput.js\n  this.lineHeight = 130;\n\n  this.minWidth = this.getClientFontSize() * STARTING_WIDTH_FACTOR;\n\n  this.bindDomEvents();\n}\n\nMarkupCallout.prototype = Object.create(_Markup__WEBPACK_IMPORTED_MODULE_0__.Markup.prototype);\nMarkupCallout.prototype.constructor = MarkupCallout;\n\nvar proto = MarkupCallout.prototype;\n\nproto.getEditMode = function () {\n\n  return new _edit_modes_EditModeCallout__WEBPACK_IMPORTED_MODULE_4__.EditModeCallout(this.editor);\n};\n\n/**\n *\n * @param {Object} position\n * @param {Object} size\n * @param {String} textString\n */\nproto.set = function (position, size, textString, isFrameUsed) {\n\n  this.position.x = position.x;\n  this.position.y = position.y;\n  this.size.x = size.x;\n  this.size.y = size.y;\n  this.setIsFilledFrameUsed(isFrameUsed);\n  this.setText(textString);\n};\n\nproto.setSize = function (position, width, height) {\n\n  this.position.x = position.x;\n  this.position.y = position.y;\n  this.size.x = width;\n  this.size.y = height;\n\n  var sizeUpdateRequired = true;\n\n  if (this.isHelperTextActive) {\n    this.updateTextBoxStyle();\n  } else {\n    this.updateStyle(sizeUpdateRequired);\n  }\n};\n\nproto.setPosition = function (x, y) {\n\n  this.position.x = x;\n  this.position.y = y;\n\n  if (this.isHelperTextActive) {\n    this.updateTextBoxStyle();\n  } else {\n    this.updateStyle();\n  }\n};\n\nproto.setStyle = function (style) {\n  var stylesEqual = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_3__.isStyleEqual)(style, this.style);\n\n  if (!stylesEqual) {\n    (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_3__.copyStyle)(style, this.style);\n  }\n\n  this.updateStyle(!stylesEqual);\n};\n\nproto.setText = function (text) {\n\n  this.currentText = text;\n};\n\n/**\n * Returns the raw string value\n * @returns {String}\n */\nproto.getText = function () {\n\n  return this.currentText;\n};\n\n/**\n * Returns a shallow copy of the text lines used for rendering SVG text\n * @returns {Array.<String>}\n */\nproto.getTextLines = function () {\n\n  return this.currentTextLines.concat();\n};\n\nproto.highlightChanged = function () {\n\n  if (this.highlighted && this.highlighted !== this.prevHighlight) {\n    var rect = this.rectShape;\n    var text = this.textShape;\n    var strokeColor = this.highlightColor;\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(text, 'fill', strokeColor);\n\n    if (this.isFrameUsed) {\n      (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(rect, 'stroke', strokeColor);\n    }\n\n    this.prevHighlight = true;\n    return false;\n  }\n\n  return true;\n};\n\nproto.updateTextBoxStyle = function () {\n  var editMode = this.editor.duringEditMode && this.editor.editMode;\n\n  if (!editMode || editMode.type !== this.type) {\n    editMode = this.getEditMode();\n  }\n\n  editMode.updateTextBoxStyle();\n};\n\nproto.setIsHelperTextActive = function (isActive) {\n  this.isHelperTextActive = isActive;\n};\n\n/**\n * Applies data values into DOM element style/attribute(s)\n *\n */\nproto.updateStyle = function (sizeUpdateRequired) {\n\n  if (this.highlightChanged()) {\n    this.prevHighlight = false;\n    var style = this.style;\n    var rect = this.rectShape;\n    var text = this.textShape;\n    var fontSize = this.style['font-size'];\n    var fontFamily = this.style['font-family'];\n    var fontWeight = this.style['font-weight'];\n    var fontStyle = this.style['font-style'];\n    var strokeColor = this.highlighted ? this.highlightColor : (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.composeRGBAString)(style['stroke-color'], style['stroke-opacity']);\n    var strokeWidth = this.style['stroke-width'];\n\n    // FONT_SIZE_SCALE is used to scale up fontSize, but it is only needed in cases where the font size is too small\n    FONT_SIZE_SCALE = fontSize > 1 ? 1 : 100;\n\n    this.rebuildTextSvg(sizeUpdateRequired);\n\n    var editor = this.editor;\n    var textContainerTransform = this.getTextContainerTransform();\n    var textTransform = this.getTextTransform();\n\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(text, 'font-family', fontFamily);\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(text, 'font-size', fontSize * FONT_SIZE_SCALE);\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(text, 'fill', strokeColor);\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(text, 'font-weight', fontWeight);\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(text, 'font-style', fontStyle);\n\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setMarkupTextSvgTransform)(text, textContainerTransform, textTransform);\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.updateMarkupTextSvgClipper)(text, this.size.x, this.size.y);\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.updateMarkupTextSvgHitarea)(text, this.size.x, this.size.y, editor);\n\n    var path = this.getPath().join(' ');\n    var transform = this.getTransform();\n    var fillColor = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.composeRGBAString)(style['fill-color'], style['fill-opacity']);\n\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(rect, 'd', path);\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(rect, 'stroke-width', strokeWidth);\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(rect, 'stroke', strokeColor);\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(rect, 'transform', transform);\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(rect, 'fill', fillColor);\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.updateMarkupPathSvgHitarea)(rect, editor);\n  }\n};\n\n/**\n * Re-creates SVG tags that render SVG text.\n * Each line is placed around tspan tags which are vertically offset to each other.\n */\nproto.rebuildTextSvg = function (sizeUpdateRequired) {\n\n  // TODO: Remove the need to get text values from an object in edit mode, should be a function.\n  // editMode needs to be set to load markups in view mode\n  var editMode = this.editor.duringEditMode && this.editor.editMode;\n\n  if (!editMode || editMode.type !== this.type) {\n    editMode = this.getEditMode();\n    editMode.textInputHelper.textArea.value = this.currentText;\n    editMode.textInputHelper.setStyle(this.style);\n  }\n\n  if (editMode.textInputHelper.textMarkup && editMode.textInputHelper.textMarkup !== this) {\n    return;\n  }\n\n  var style = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_3__.cloneStyle)(editMode.textInputHelper.style);\n  var text = editMode.textInputHelper.textArea.value;\n\n  var textHelperValues = editMode.textInputHelper.getTextValuesForMarkup(this, sizeUpdateRequired);\n\n  this.currentTextLines = textHelperValues.textValues.lines;\n\n  if (textHelperValues.newPos) {\n    var position = this.editor.positionFromClientToMarkups(textHelperValues.newPos.x, textHelperValues.newPos.y);\n    var size = this.editor.sizeFromClientToMarkups(textHelperValues.width, textHelperValues.height);\n\n    this.position.x = position.x;\n    this.position.y = position.y;\n    this.size.x = size.x;\n    this.size.y = size.y;\n  }\n\n  if (editMode.selectedMarkup !== this && !editMode.textInputHelper.firstEdit) {\n    editMode.textInputHelper.textArea.value = text;\n    editMode.textInputHelper.setStyle(style);\n  }\n\n  var markup = this.createSvgElement('text');\n  markup.setAttribute('id', 'markup');\n  markup.setAttribute('alignment-baseline', 'middle');\n\n  this.textShape.childNodes[0].removeChild(this.textShape.markup);\n  this.textShape.childNodes[0].appendChild(markup);\n  this.textShape.markup = markup;\n\n  // For each line, create a tspan, add as child and offset it vertically.\n  var yOffset = this.getLineHeight() * FONT_SIZE_SCALE * (this.lineHeight / 100);\n\n  var padding = this.getLineHeight() * FONT_SIZE_SCALE / 2;\n  var dx = padding;\n  var dy = padding;\n\n  this.currentTextLines.forEach(function (line) {\n\n    var tspan = this.createSvgElement('tspan');\n\n    tspan.setAttribute('x', dx);\n    tspan.setAttribute('y', dy);\n    tspan.textContent = line;\n\n    markup.appendChild(tspan);\n    dy += yOffset;\n  }.bind(this));\n};\n\nproto.setIsFilledFrameUsed = function (isFrameUsed) {\n\n  this.isFrameUsed = isFrameUsed;\n\n  var hasRectShape = this.rectShape.parentNode === this.shape;\n  if (isFrameUsed && !hasRectShape) {\n    this.shape.insertBefore(this.rectShape, this.shape.firstChild);\n  } else if (!isFrameUsed && hasRectShape) {\n    this.shape.removeChild(this.rectShape);\n  }\n};\n\nproto.setIsFilledFrameVisible = function (isVisible) {\n\n  this.rectShape.markup.style.display = isVisible && this.isFrameUsed ? 'block' : 'none';\n};\n\nproto.setIsShapeVisible = function (isVisible) {\n\n  this.shape.style.display = isVisible ? 'block' : 'none';\n};\n\nproto.setMetadata = function () {\n  var metadata = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_3__.cloneStyle)(this.style);\n\n  metadata.type = this.type;\n  metadata.position = [this.position.x, this.position.y].join(\" \");\n  metadata.size = [this.size.x, this.size.y].join(\" \");\n  metadata.text = String(this.currentText);\n  metadata.isframeused = this.isFrameUsed ? 1 : 0;\n\n  return this.addMarkupMetadata(this.shape, metadata);\n};\n\n/**\n * Helper method that returns the font size in client space coords.\n * @returns {Number}\n */\nproto.getClientFontSize = function () {\n\n  return this.editor.sizeFromMarkupsToClient(0, this.style['font-size']).y;\n};\n\nproto.getLineHeight = function () {\n  return this.style['font-size'];\n};\n\nproto.getTextContainerTransform = function () {\n\n  var x = this.position.x - this.size.x * 0.5;\n  var y = this.position.y + this.size.y * 0.5;\n\n  return [\n  'translate(', x, ',', y, ')',\n  'rotate(', (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.radiansToDegrees)(-this.rotation), ')',\n  'scale(1,-1)'].\n  join(' ');\n};\n\nproto.getTextTransform = function () {\n\n  var lineHeight = this.getLineHeight();\n\n  var x = this.position.x - this.size.x * 0.5;\n  var y = this.position.y + this.size.y * 0.5 - lineHeight;\n\n  return [\n  'translate(', x, ',', y, ')',\n  'rotate(', (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.radiansToDegrees)(-this.rotation), ')',\n  'scale(' + 1 / FONT_SIZE_SCALE + ',' + -1 / FONT_SIZE_SCALE + ')'].\n  join(' ');\n};\n\nproto.cloneShape = function (clone) {\n\n  clone.textShape = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createMarkupTextSvg)();\n  clone.rectShape = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createMarkupPathSvg)();\n  clone.shape = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createMarkupGroupSvg)([clone.rectShape, clone.textShape]);\n  clone.bindDomEvents();\n};\n\nproto.getPath = function () {\n  var strokeWidth = this.style['stroke-width'];\n\n  var w = this.size.x + strokeWidth;\n  var h = this.size.y + strokeWidth;\n  var x = -w * 0.5;\n  var y = -h * 0.5;\n\n  var path = [];\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createRectanglePath)(x, y, w, h, false, path);\n\n  return path;\n};\n\nproto.getBoundingRect = function () {\n\n  var pos = this.getClientPosition();\n  var size = this.getClientSize();\n  var strokeWidth = this.style['stroke-width'];\n  var width = this.editor.sizeFromMarkupsToClient(strokeWidth, 0).x;\n  var margin = width + _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.EDIT_FRAME_DEFAULT_MARGIN;\n\n  return {\n    x: pos.x - size.x / 2,\n    y: pos.y - size.y / 2,\n    width: size.x,\n    height: size.y,\n    margin: margin\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL01hcmt1cENhbGxvdXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWE7O0FBRXFCO0FBQ1c7QUFLYTtBQUNTO0FBQ0o7O0FBRTNEO0FBQ0E7QUFDQTtBQUNBLElBQUlvQixlQUFlLEdBQUcsR0FBRzs7QUFFekIsSUFBSUMscUJBQXFCLEdBQUcsQ0FBQzs7QUFFN0I7QUFDSjtBQUNBO0FBQ0E7QUFDVyxTQUFTQyxhQUFhQSxDQUFDQyxFQUFFLEVBQUVDLE1BQU0sRUFBRUMsSUFBSSxFQUFFOztFQUU1QyxJQUFJQyxlQUFlLEdBQUc7RUFDbEIsV0FBVztFQUNYLGNBQWM7RUFDZCxjQUFjO0VBQ2QsZ0JBQWdCO0VBQ2hCLFlBQVk7RUFDWixjQUFjO0VBQ2QsYUFBYTtFQUNiLFlBQVk7RUFDWixhQUFhLENBQ2hCOzs7RUFFRDFCLDJDQUFNLENBQUMyQixJQUFJLENBQUMsSUFBSSxFQUFFSixFQUFFLEVBQUVDLE1BQU0sRUFBRUUsZUFBZSxDQUFDOztFQUU5QztFQUNBLElBQUksQ0FBQ2QsaUJBQWlCLEdBQUdBLGdFQUFpQixDQUFDZ0IsSUFBSSxDQUFDLElBQUksQ0FBQztFQUNyRCxJQUFJLENBQUNqQixnQkFBZ0IsR0FBR0EsK0RBQWdCLENBQUNpQixJQUFJLENBQUMsSUFBSSxDQUFDOzs7RUFHbkQsSUFBSSxDQUFDQyxJQUFJLEdBQUc1Qiw2REFBK0I7RUFDM0MsSUFBSSxDQUFDOEIsU0FBUyxHQUFHN0Isc0VBQW1CLENBQUMsQ0FBQztFQUN0QyxJQUFJLENBQUM4QixTQUFTLEdBQUc3QixzRUFBbUIsQ0FBQyxDQUFDO0VBQ3RDLElBQUksQ0FBQzhCLEtBQUssR0FBRzdCLHVFQUFvQixDQUFDLENBQUMsSUFBSSxDQUFDNEIsU0FBUyxFQUFFLElBQUksQ0FBQ0QsU0FBUyxDQUFDLENBQUM7RUFDbkUsSUFBSSxDQUFDRyxXQUFXLEdBQUcsSUFBSTtFQUN2QixJQUFJLENBQUNDLGtCQUFrQixHQUFHLElBQUk7RUFDOUIsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBRyxJQUFJO0VBQzVCLElBQUksQ0FBQ0MsZUFBZSxHQUFHLEtBQUs7RUFDNUIsSUFBSSxDQUFDWixJQUFJLENBQUNhLENBQUMsR0FBR2IsSUFBSSxDQUFDYSxDQUFDO0VBQ3BCLElBQUksQ0FBQ2IsSUFBSSxDQUFDYyxDQUFDLEdBQUdkLElBQUksQ0FBQ2MsQ0FBQztFQUNwQixJQUFJLENBQUNDLFdBQVcsR0FBRyxFQUFFO0VBQ3JCLElBQUksQ0FBQ0MsZ0JBQWdCLEdBQUcsQ0FBQyxFQUFFLENBQUM7RUFDNUIsSUFBSSxDQUFDQyxhQUFhLEdBQUcsS0FBSztFQUMxQixJQUFJLENBQUNDLGtCQUFrQixHQUFHLEtBQUs7O0VBRS9CO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQSxJQUFJLENBQUNDLFVBQVUsR0FBRyxHQUFHOztFQUVyQixJQUFJLENBQUNDLFFBQVEsR0FBRyxJQUFJLENBQUNDLGlCQUFpQixDQUFDLENBQUMsR0FBR3pCLHFCQUFxQjs7RUFFaEUsSUFBSSxDQUFDMEIsYUFBYSxDQUFDLENBQUM7QUFDeEI7O0FBRUF6QixhQUFhLENBQUMwQixTQUFTLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDbEQsMkNBQU0sQ0FBQ2dELFNBQVMsQ0FBQztBQUN6RDFCLGFBQWEsQ0FBQzBCLFNBQVMsQ0FBQ0csV0FBVyxHQUFHN0IsYUFBYTs7QUFFbkQsSUFBSThCLEtBQUssR0FBRzlCLGFBQWEsQ0FBQzBCLFNBQVM7O0FBRW5DSSxLQUFLLENBQUNDLFdBQVcsR0FBRyxZQUFXOztFQUUzQixPQUFPLElBQUlsQyx3RUFBZSxDQUFDLElBQUksQ0FBQ0ssTUFBTSxDQUFDO0FBQzNDLENBQUM7O0FBRUQ7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0k0QixLQUFLLENBQUNFLEdBQUcsR0FBRyxVQUFTQyxRQUFRLEVBQUU5QixJQUFJLEVBQUUrQixVQUFVLEVBQUV0QixXQUFXLEVBQUU7O0VBRTFELElBQUksQ0FBQ3FCLFFBQVEsQ0FBQ2pCLENBQUMsR0FBR2lCLFFBQVEsQ0FBQ2pCLENBQUM7RUFDNUIsSUFBSSxDQUFDaUIsUUFBUSxDQUFDaEIsQ0FBQyxHQUFHZ0IsUUFBUSxDQUFDaEIsQ0FBQztFQUM1QixJQUFJLENBQUNkLElBQUksQ0FBQ2EsQ0FBQyxHQUFHYixJQUFJLENBQUNhLENBQUM7RUFDcEIsSUFBSSxDQUFDYixJQUFJLENBQUNjLENBQUMsR0FBR2QsSUFBSSxDQUFDYyxDQUFDO0VBQ3BCLElBQUksQ0FBQ2tCLG9CQUFvQixDQUFDdkIsV0FBVyxDQUFDO0VBQ3RDLElBQUksQ0FBQ3dCLE9BQU8sQ0FBQ0YsVUFBVSxDQUFDO0FBQzVCLENBQUM7O0FBRURKLEtBQUssQ0FBQ08sT0FBTyxHQUFHLFVBQVNKLFFBQVEsRUFBRUssS0FBSyxFQUFFQyxNQUFNLEVBQUU7O0VBRTlDLElBQUksQ0FBQ04sUUFBUSxDQUFDakIsQ0FBQyxHQUFHaUIsUUFBUSxDQUFDakIsQ0FBQztFQUM1QixJQUFJLENBQUNpQixRQUFRLENBQUNoQixDQUFDLEdBQUdnQixRQUFRLENBQUNoQixDQUFDO0VBQzVCLElBQUksQ0FBQ2QsSUFBSSxDQUFDYSxDQUFDLEdBQUdzQixLQUFLO0VBQ25CLElBQUksQ0FBQ25DLElBQUksQ0FBQ2MsQ0FBQyxHQUFHc0IsTUFBTTs7RUFFcEIsSUFBSUMsa0JBQWtCLEdBQUcsSUFBSTs7RUFFN0IsSUFBSSxJQUFJLENBQUNuQixrQkFBa0IsRUFBRTtJQUN6QixJQUFJLENBQUNvQixrQkFBa0IsQ0FBQyxDQUFDO0VBQzdCLENBQUMsTUFBTTtJQUNILElBQUksQ0FBQ0MsV0FBVyxDQUFDRixrQkFBa0IsQ0FBQztFQUN4QztBQUNKLENBQUM7O0FBRURWLEtBQUssQ0FBQ2EsV0FBVyxHQUFHLFVBQVMzQixDQUFDLEVBQUVDLENBQUMsRUFBRTs7RUFFL0IsSUFBSSxDQUFDZ0IsUUFBUSxDQUFDakIsQ0FBQyxHQUFHQSxDQUFDO0VBQ25CLElBQUksQ0FBQ2lCLFFBQVEsQ0FBQ2hCLENBQUMsR0FBR0EsQ0FBQzs7RUFFbkIsSUFBSSxJQUFJLENBQUNJLGtCQUFrQixFQUFFO0lBQ3pCLElBQUksQ0FBQ29CLGtCQUFrQixDQUFDLENBQUM7RUFDN0IsQ0FBQyxNQUFNO0lBQ0gsSUFBSSxDQUFDQyxXQUFXLENBQUMsQ0FBQztFQUN0QjtBQUNKLENBQUM7O0FBRURaLEtBQUssQ0FBQ2MsUUFBUSxHQUFHLFVBQVNDLEtBQUssRUFBRTtFQUM3QixJQUFJQyxXQUFXLEdBQUdsRCx5REFBWSxDQUFDaUQsS0FBSyxFQUFFLElBQUksQ0FBQ0EsS0FBSyxDQUFDOztFQUVqRCxJQUFJLENBQUNDLFdBQVcsRUFBRTtJQUNkbkQsc0RBQVMsQ0FBQ2tELEtBQUssRUFBRSxJQUFJLENBQUNBLEtBQUssQ0FBQztFQUNoQzs7RUFFQSxJQUFJLENBQUNILFdBQVcsQ0FBQyxDQUFDSSxXQUFXLENBQUM7QUFDbEMsQ0FBQzs7QUFFRGhCLEtBQUssQ0FBQ00sT0FBTyxHQUFHLFVBQVNXLElBQUksRUFBRTs7RUFFM0IsSUFBSSxDQUFDN0IsV0FBVyxHQUFHNkIsSUFBSTtBQUMzQixDQUFDOztBQUVEO0FBQ0o7QUFDQTtBQUNBO0FBQ0lqQixLQUFLLENBQUNrQixPQUFPLEdBQUcsWUFBVzs7RUFFdkIsT0FBTyxJQUFJLENBQUM5QixXQUFXO0FBQzNCLENBQUM7O0FBRUQ7QUFDSjtBQUNBO0FBQ0E7QUFDSVksS0FBSyxDQUFDbUIsWUFBWSxHQUFHLFlBQVc7O0VBRTVCLE9BQU8sSUFBSSxDQUFDOUIsZ0JBQWdCLENBQUMrQixNQUFNLENBQUMsQ0FBQztBQUN6QyxDQUFDOztBQUVEcEIsS0FBSyxDQUFDcUIsZ0JBQWdCLEdBQUcsWUFBVzs7RUFFaEMsSUFBSSxJQUFJLENBQUNDLFdBQVcsSUFBSSxJQUFJLENBQUNBLFdBQVcsS0FBSyxJQUFJLENBQUNoQyxhQUFhLEVBQUU7SUFDN0QsSUFBSWlDLElBQUksR0FBRyxJQUFJLENBQUMzQyxTQUFTO0lBQ3pCLElBQUlxQyxJQUFJLEdBQUcsSUFBSSxDQUFDdEMsU0FBUztJQUN6QixJQUFJNkMsV0FBVyxHQUFHLElBQUksQ0FBQ0MsY0FBYztJQUNyQ3ZFLDBFQUF1QixDQUFDK0QsSUFBSSxFQUFFLE1BQU0sRUFBRU8sV0FBVyxDQUFDOztJQUVsRCxJQUFJLElBQUksQ0FBQzFDLFdBQVcsRUFBRTtNQUNsQjVCLDBFQUF1QixDQUFDcUUsSUFBSSxFQUFFLFFBQVEsRUFBRUMsV0FBVyxDQUFDO0lBQ3hEOztJQUVBLElBQUksQ0FBQ2xDLGFBQWEsR0FBRyxJQUFJO0lBQ3pCLE9BQU8sS0FBSztFQUNoQjs7RUFFQSxPQUFPLElBQUk7QUFDZixDQUFDOztBQUVEVSxLQUFLLENBQUNXLGtCQUFrQixHQUFHLFlBQVc7RUFDbEMsSUFBSWUsUUFBUSxHQUFHLElBQUksQ0FBQ3RELE1BQU0sQ0FBQ3VELGNBQWMsSUFBSSxJQUFJLENBQUN2RCxNQUFNLENBQUNzRCxRQUFROztFQUVqRSxJQUFJLENBQUNBLFFBQVEsSUFBSUEsUUFBUSxDQUFDakQsSUFBSSxLQUFLLElBQUksQ0FBQ0EsSUFBSSxFQUFFO0lBQzFDaUQsUUFBUSxHQUFHLElBQUksQ0FBQ3pCLFdBQVcsQ0FBQyxDQUFDO0VBQ2pDOztFQUVBeUIsUUFBUSxDQUFDZixrQkFBa0IsQ0FBQyxDQUFDO0FBQ2pDLENBQUM7O0FBRURYLEtBQUssQ0FBQzRCLHFCQUFxQixHQUFHLFVBQVNDLFFBQVEsRUFBRTtFQUM3QyxJQUFJLENBQUN0QyxrQkFBa0IsR0FBR3NDLFFBQVE7QUFDdEMsQ0FBQzs7QUFFRDtBQUNKO0FBQ0E7QUFDQTtBQUNJN0IsS0FBSyxDQUFDWSxXQUFXLEdBQUcsVUFBU0Ysa0JBQWtCLEVBQUU7O0VBRTdDLElBQUksSUFBSSxDQUFDVyxnQkFBZ0IsQ0FBQyxDQUFDLEVBQUU7SUFDekIsSUFBSSxDQUFDL0IsYUFBYSxHQUFHLEtBQUs7SUFDMUIsSUFBSXlCLEtBQUssR0FBRyxJQUFJLENBQUNBLEtBQUs7SUFDdEIsSUFBSVEsSUFBSSxHQUFHLElBQUksQ0FBQzNDLFNBQVM7SUFDekIsSUFBSXFDLElBQUksR0FBRyxJQUFJLENBQUN0QyxTQUFTO0lBQ3pCLElBQUltRCxRQUFRLEdBQUcsSUFBSSxDQUFDZixLQUFLLENBQUMsV0FBVyxDQUFDO0lBQ3RDLElBQUlnQixVQUFVLEdBQUcsSUFBSSxDQUFDaEIsS0FBSyxDQUFDLGFBQWEsQ0FBQztJQUMxQyxJQUFJaUIsVUFBVSxHQUFHLElBQUksQ0FBQ2pCLEtBQUssQ0FBQyxhQUFhLENBQUM7SUFDMUMsSUFBSWtCLFNBQVMsR0FBSSxJQUFJLENBQUNsQixLQUFLLENBQUMsWUFBWSxDQUFDO0lBQ3pDLElBQUlTLFdBQVcsR0FBRyxJQUFJLENBQUNGLFdBQVcsR0FBRyxJQUFJLENBQUNHLGNBQWMsR0FBR3hFLG9FQUFpQixDQUFDOEQsS0FBSyxDQUFDLGNBQWMsQ0FBQyxFQUFFQSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUM1SCxJQUFJbUIsV0FBVyxHQUFHLElBQUksQ0FBQ25CLEtBQUssQ0FBQyxjQUFjLENBQUM7O0lBRTVDO0lBQ0EvQyxlQUFlLEdBQUk4RCxRQUFRLEdBQUcsQ0FBQyxHQUFJLENBQUMsR0FBRyxHQUFHOztJQUUxQyxJQUFJLENBQUNLLGNBQWMsQ0FBQ3pCLGtCQUFrQixDQUFDOztJQUV2QyxJQUFJdEMsTUFBTSxHQUFHLElBQUksQ0FBQ0EsTUFBTTtJQUN4QixJQUFJZ0Usc0JBQXNCLEdBQUcsSUFBSSxDQUFDQyx5QkFBeUIsQ0FBQyxDQUFDO0lBQzdELElBQUlDLGFBQWEsR0FBRyxJQUFJLENBQUNDLGdCQUFnQixDQUFDLENBQUM7O0lBRTNDckYsMEVBQXVCLENBQUMrRCxJQUFJLEVBQUUsYUFBYSxFQUFFYyxVQUFVLENBQUM7SUFDeEQ3RSwwRUFBdUIsQ0FBQytELElBQUksRUFBRSxXQUFXLEVBQUVhLFFBQVEsR0FBRzlELGVBQWUsQ0FBQztJQUN0RWQsMEVBQXVCLENBQUMrRCxJQUFJLEVBQUUsTUFBTSxFQUFFTyxXQUFXLENBQUM7SUFDbER0RSwwRUFBdUIsQ0FBQytELElBQUksRUFBRSxhQUFhLEVBQUVlLFVBQVUsQ0FBQztJQUN4RDlFLDBFQUF1QixDQUFDK0QsSUFBSSxFQUFFLFlBQVksRUFBRWdCLFNBQVMsQ0FBQzs7SUFFdEQ5RSw0RUFBeUIsQ0FBQzhELElBQUksRUFBRW1CLHNCQUFzQixFQUFFRSxhQUFhLENBQUM7SUFDdEVsRiw2RUFBMEIsQ0FBQzZELElBQUksRUFBRSxJQUFJLENBQUM1QyxJQUFJLENBQUNhLENBQUMsRUFBRSxJQUFJLENBQUNiLElBQUksQ0FBQ2MsQ0FBQyxDQUFDO0lBQzFEOUIsNkVBQTBCLENBQUM0RCxJQUFJLEVBQUUsSUFBSSxDQUFDNUMsSUFBSSxDQUFDYSxDQUFDLEVBQUUsSUFBSSxDQUFDYixJQUFJLENBQUNjLENBQUMsRUFBRWYsTUFBTSxDQUFDOztJQUVsRSxJQUFJb0UsSUFBSSxHQUFHLElBQUksQ0FBQ0MsT0FBTyxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLEdBQUcsQ0FBQztJQUNuQyxJQUFJQyxTQUFTLEdBQUcsSUFBSSxDQUFDQyxZQUFZLENBQUMsQ0FBQztJQUNuQyxJQUFJQyxTQUFTLEdBQUc1RixvRUFBaUIsQ0FBQzhELEtBQUssQ0FBQyxZQUFZLENBQUMsRUFBRUEsS0FBSyxDQUFDLGNBQWMsQ0FBQyxDQUFDOztJQUU3RTdELDBFQUF1QixDQUFDcUUsSUFBSSxFQUFFLEdBQUcsRUFBRWlCLElBQUksQ0FBQztJQUN4Q3RGLDBFQUF1QixDQUFDcUUsSUFBSSxFQUFFLGNBQWMsRUFBRVcsV0FBVyxDQUFDO0lBQzFEaEYsMEVBQXVCLENBQUNxRSxJQUFJLEVBQUUsUUFBUSxFQUFFQyxXQUFXLENBQUM7SUFDcER0RSwwRUFBdUIsQ0FBQ3FFLElBQUksRUFBRSxXQUFXLEVBQUVvQixTQUFTLENBQUM7SUFDckR6RiwwRUFBdUIsQ0FBQ3FFLElBQUksRUFBRSxNQUFNLEVBQUVzQixTQUFTLENBQUM7SUFDaER2Riw2RUFBMEIsQ0FBQ2lFLElBQUksRUFBRW5ELE1BQU0sQ0FBQztFQUM1QztBQUNKLENBQUM7O0FBRUQ7QUFDSjtBQUNBO0FBQ0E7QUFDSTRCLEtBQUssQ0FBQ21DLGNBQWMsR0FBRyxVQUFTekIsa0JBQWtCLEVBQUU7O0VBRWhEO0VBQ0E7RUFDQSxJQUFJZ0IsUUFBUSxHQUFHLElBQUksQ0FBQ3RELE1BQU0sQ0FBQ3VELGNBQWMsSUFBSSxJQUFJLENBQUN2RCxNQUFNLENBQUNzRCxRQUFROztFQUVqRSxJQUFJLENBQUNBLFFBQVEsSUFBSUEsUUFBUSxDQUFDakQsSUFBSSxLQUFLLElBQUksQ0FBQ0EsSUFBSSxFQUFFO0lBQzFDaUQsUUFBUSxHQUFHLElBQUksQ0FBQ3pCLFdBQVcsQ0FBQyxDQUFDO0lBQzdCeUIsUUFBUSxDQUFDb0IsZUFBZSxDQUFDQyxRQUFRLENBQUNDLEtBQUssR0FBRyxJQUFJLENBQUM1RCxXQUFXO0lBQzFEc0MsUUFBUSxDQUFDb0IsZUFBZSxDQUFDaEMsUUFBUSxDQUFDLElBQUksQ0FBQ0MsS0FBSyxDQUFDO0VBQ2pEOztFQUVBLElBQUlXLFFBQVEsQ0FBQ29CLGVBQWUsQ0FBQ0csVUFBVSxJQUFJdkIsUUFBUSxDQUFDb0IsZUFBZSxDQUFDRyxVQUFVLEtBQUssSUFBSSxFQUFFO0lBQ3JGO0VBQ0o7O0VBRUEsSUFBSWxDLEtBQUssR0FBR25ELHVEQUFVLENBQUM4RCxRQUFRLENBQUNvQixlQUFlLENBQUMvQixLQUFLLENBQUM7RUFDdEQsSUFBSUUsSUFBSSxHQUFHUyxRQUFRLENBQUNvQixlQUFlLENBQUNDLFFBQVEsQ0FBQ0MsS0FBSzs7RUFFbEQsSUFBSUUsZ0JBQWdCLEdBQUd4QixRQUFRLENBQUNvQixlQUFlLENBQUNLLHNCQUFzQixDQUFDLElBQUksRUFBRXpDLGtCQUFrQixDQUFDOztFQUVoRyxJQUFJLENBQUNyQixnQkFBZ0IsR0FBRzZELGdCQUFnQixDQUFDRSxVQUFVLENBQUNDLEtBQUs7O0VBRXpELElBQUlILGdCQUFnQixDQUFDSSxNQUFNLEVBQUU7SUFDekIsSUFBSW5ELFFBQVEsR0FBRyxJQUFJLENBQUMvQixNQUFNLENBQUNtRiwyQkFBMkIsQ0FBQ0wsZ0JBQWdCLENBQUNJLE1BQU0sQ0FBQ3BFLENBQUMsRUFBRWdFLGdCQUFnQixDQUFDSSxNQUFNLENBQUNuRSxDQUFDLENBQUM7SUFDNUcsSUFBSWQsSUFBSSxHQUFHLElBQUksQ0FBQ0QsTUFBTSxDQUFDb0YsdUJBQXVCLENBQUNOLGdCQUFnQixDQUFDMUMsS0FBSyxFQUFFMEMsZ0JBQWdCLENBQUN6QyxNQUFNLENBQUM7O0lBRS9GLElBQUksQ0FBQ04sUUFBUSxDQUFDakIsQ0FBQyxHQUFHaUIsUUFBUSxDQUFDakIsQ0FBQztJQUM1QixJQUFJLENBQUNpQixRQUFRLENBQUNoQixDQUFDLEdBQUdnQixRQUFRLENBQUNoQixDQUFDO0lBQzVCLElBQUksQ0FBQ2QsSUFBSSxDQUFDYSxDQUFDLEdBQUdiLElBQUksQ0FBQ2EsQ0FBQztJQUNwQixJQUFJLENBQUNiLElBQUksQ0FBQ2MsQ0FBQyxHQUFHZCxJQUFJLENBQUNjLENBQUM7RUFDeEI7O0VBRUEsSUFBSXVDLFFBQVEsQ0FBQytCLGNBQWMsS0FBSyxJQUFJLElBQUksQ0FBQy9CLFFBQVEsQ0FBQ29CLGVBQWUsQ0FBQ1ksU0FBUyxFQUFFO0lBQ3pFaEMsUUFBUSxDQUFDb0IsZUFBZSxDQUFDQyxRQUFRLENBQUNDLEtBQUssR0FBRy9CLElBQUk7SUFDOUNTLFFBQVEsQ0FBQ29CLGVBQWUsQ0FBQ2hDLFFBQVEsQ0FBQ0MsS0FBSyxDQUFDO0VBQzVDOztFQUVBLElBQUk0QyxNQUFNLEdBQUcsSUFBSSxDQUFDcEcsZ0JBQWdCLENBQUMsTUFBTSxDQUFDO0VBQzFDb0csTUFBTSxDQUFDQyxZQUFZLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQztFQUNuQ0QsTUFBTSxDQUFDQyxZQUFZLENBQUMsb0JBQW9CLEVBQUUsUUFBUSxDQUFDOztFQUVuRCxJQUFJLENBQUNqRixTQUFTLENBQUNrRixVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUNDLFdBQVcsQ0FBQyxJQUFJLENBQUNuRixTQUFTLENBQUNnRixNQUFNLENBQUM7RUFDL0QsSUFBSSxDQUFDaEYsU0FBUyxDQUFDa0YsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDRSxXQUFXLENBQUNKLE1BQU0sQ0FBQztFQUNoRCxJQUFJLENBQUNoRixTQUFTLENBQUNnRixNQUFNLEdBQUdBLE1BQU07O0VBRTlCO0VBQ0EsSUFBSUssT0FBTyxHQUFHLElBQUksQ0FBQ0MsYUFBYSxDQUFDLENBQUMsR0FBR2pHLGVBQWUsSUFBSSxJQUFJLENBQUN3QixVQUFVLEdBQUcsR0FBRyxDQUFDOztFQUU5RSxJQUFJMEUsT0FBTyxHQUFJLElBQUksQ0FBQ0QsYUFBYSxDQUFDLENBQUMsR0FBR2pHLGVBQWUsR0FBSSxDQUFDO0VBQzFELElBQUltRyxFQUFFLEdBQUdELE9BQU87RUFDaEIsSUFBSUUsRUFBRSxHQUFHRixPQUFPOztFQUVoQixJQUFJLENBQUM3RSxnQkFBZ0IsQ0FBQ2dGLE9BQU8sQ0FBQyxVQUFTQyxJQUFJLEVBQUM7O0lBRXhDLElBQUlDLEtBQUssR0FBRyxJQUFJLENBQUNoSCxnQkFBZ0IsQ0FBQyxPQUFPLENBQUM7O0lBRTFDZ0gsS0FBSyxDQUFDWCxZQUFZLENBQUMsR0FBRyxFQUFFTyxFQUFFLENBQUM7SUFDM0JJLEtBQUssQ0FBQ1gsWUFBWSxDQUFDLEdBQUcsRUFBRVEsRUFBRSxDQUFDO0lBQzNCRyxLQUFLLENBQUNDLFdBQVcsR0FBR0YsSUFBSTs7SUFFeEJYLE1BQU0sQ0FBQ0ksV0FBVyxDQUFDUSxLQUFLLENBQUM7SUFDekJILEVBQUUsSUFBSUosT0FBTztFQUNqQixDQUFDLENBQUN4RixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDakIsQ0FBQzs7QUFFRHdCLEtBQUssQ0FBQ0ssb0JBQW9CLEdBQUcsVUFBU3ZCLFdBQVcsRUFBRTs7RUFFL0MsSUFBSSxDQUFDQSxXQUFXLEdBQUdBLFdBQVc7O0VBRTlCLElBQUkyRixZQUFZLEdBQUcsSUFBSSxDQUFDN0YsU0FBUyxDQUFDOEYsVUFBVSxLQUFLLElBQUksQ0FBQzdGLEtBQUs7RUFDM0QsSUFBSUMsV0FBVyxJQUFJLENBQUMyRixZQUFZLEVBQUU7SUFDOUIsSUFBSSxDQUFDNUYsS0FBSyxDQUFDOEYsWUFBWSxDQUFDLElBQUksQ0FBQy9GLFNBQVMsRUFBRSxJQUFJLENBQUNDLEtBQUssQ0FBQytGLFVBQVUsQ0FBQztFQUNsRSxDQUFDLE1BQU0sSUFBSSxDQUFDOUYsV0FBVyxJQUFJMkYsWUFBWSxFQUFFO0lBQ3JDLElBQUksQ0FBQzVGLEtBQUssQ0FBQ2lGLFdBQVcsQ0FBQyxJQUFJLENBQUNsRixTQUFTLENBQUM7RUFDMUM7QUFDSixDQUFDOztBQUVEb0IsS0FBSyxDQUFDNkUsdUJBQXVCLEdBQUcsVUFBU0MsU0FBUyxFQUFFOztFQUVoRCxJQUFJLENBQUNsRyxTQUFTLENBQUMrRSxNQUFNLENBQUM1QyxLQUFLLENBQUNnRSxPQUFPLEdBQUlELFNBQVMsSUFBSSxJQUFJLENBQUNoRyxXQUFXLEdBQUksT0FBTyxHQUFHLE1BQU07QUFDNUYsQ0FBQzs7QUFFRGtCLEtBQUssQ0FBQ2dGLGlCQUFpQixHQUFHLFVBQVNGLFNBQVMsRUFBRTs7RUFFMUMsSUFBSSxDQUFDakcsS0FBSyxDQUFDa0MsS0FBSyxDQUFDZ0UsT0FBTyxHQUFJRCxTQUFTLEdBQUksT0FBTyxHQUFHLE1BQU07QUFDN0QsQ0FBQzs7QUFFRDlFLEtBQUssQ0FBQ2lGLFdBQVcsR0FBRyxZQUFXO0VBQzNCLElBQUlDLFFBQVEsR0FBR3RILHVEQUFVLENBQUMsSUFBSSxDQUFDbUQsS0FBSyxDQUFDOztFQUVyQ21FLFFBQVEsQ0FBQ3pHLElBQUksR0FBRyxJQUFJLENBQUNBLElBQUk7RUFDekJ5RyxRQUFRLENBQUMvRSxRQUFRLEdBQUcsQ0FBQyxJQUFJLENBQUNBLFFBQVEsQ0FBQ2pCLENBQUMsRUFBRSxJQUFJLENBQUNpQixRQUFRLENBQUNoQixDQUFDLENBQUMsQ0FBQ3VELElBQUksQ0FBQyxHQUFHLENBQUM7RUFDaEV3QyxRQUFRLENBQUM3RyxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUNBLElBQUksQ0FBQ2EsQ0FBQyxFQUFFLElBQUksQ0FBQ2IsSUFBSSxDQUFDYyxDQUFDLENBQUMsQ0FBQ3VELElBQUksQ0FBQyxHQUFHLENBQUM7RUFDcER3QyxRQUFRLENBQUNqRSxJQUFJLEdBQUdrRSxNQUFNLENBQUMsSUFBSSxDQUFDL0YsV0FBVyxDQUFDO0VBQ3hDOEYsUUFBUSxDQUFDRSxXQUFXLEdBQUcsSUFBSSxDQUFDdEcsV0FBVyxHQUFHLENBQUMsR0FBRyxDQUFDOztFQUUvQyxPQUFPLElBQUksQ0FBQ3RCLGlCQUFpQixDQUFDLElBQUksQ0FBQ3FCLEtBQUssRUFBRXFHLFFBQVEsQ0FBQztBQUN2RCxDQUFDOztBQUVEO0FBQ0o7QUFDQTtBQUNBO0FBQ0lsRixLQUFLLENBQUNOLGlCQUFpQixHQUFHLFlBQVc7O0VBRWpDLE9BQU8sSUFBSSxDQUFDdEIsTUFBTSxDQUFDaUgsdUJBQXVCLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQ3RFLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDNUIsQ0FBQztBQUM1RSxDQUFDOztBQUVEYSxLQUFLLENBQUNpRSxhQUFhLEdBQUcsWUFBVztFQUM3QixPQUFPLElBQUksQ0FBQ2xELEtBQUssQ0FBQyxXQUFXLENBQUM7QUFDbEMsQ0FBQzs7QUFFRGYsS0FBSyxDQUFDcUMseUJBQXlCLEdBQUcsWUFBVzs7RUFFekMsSUFBSW5ELENBQUMsR0FBRyxJQUFJLENBQUNpQixRQUFRLENBQUNqQixDQUFDLEdBQUcsSUFBSSxDQUFDYixJQUFJLENBQUNhLENBQUMsR0FBRyxHQUFHO0VBQzNDLElBQUlDLENBQUMsR0FBRyxJQUFJLENBQUNnQixRQUFRLENBQUNoQixDQUFDLEdBQUcsSUFBSSxDQUFDZCxJQUFJLENBQUNjLENBQUMsR0FBRyxHQUFHOztFQUUzQyxPQUFPO0VBQ0gsWUFBWSxFQUFFRCxDQUFDLEVBQUUsR0FBRyxFQUFFQyxDQUFDLEVBQUUsR0FBRztFQUM1QixTQUFTLEVBQUUxQixtRUFBZ0IsQ0FBQyxDQUFDLElBQUksQ0FBQzZILFFBQVEsQ0FBQyxFQUFFLEdBQUc7RUFDaEQsYUFBYSxDQUNoQjtFQUFDNUMsSUFBSSxDQUFDLEdBQUcsQ0FBQztBQUNmLENBQUM7O0FBRUQxQyxLQUFLLENBQUN1QyxnQkFBZ0IsR0FBRyxZQUFXOztFQUVoQyxJQUFJL0MsVUFBVSxHQUFHLElBQUksQ0FBQ3lFLGFBQWEsQ0FBQyxDQUFDOztFQUVyQyxJQUFJL0UsQ0FBQyxHQUFHLElBQUksQ0FBQ2lCLFFBQVEsQ0FBQ2pCLENBQUMsR0FBRyxJQUFJLENBQUNiLElBQUksQ0FBQ2EsQ0FBQyxHQUFHLEdBQUc7RUFDM0MsSUFBSUMsQ0FBQyxHQUFHLElBQUksQ0FBQ2dCLFFBQVEsQ0FBQ2hCLENBQUMsR0FBRyxJQUFJLENBQUNkLElBQUksQ0FBQ2MsQ0FBQyxHQUFHLEdBQUcsR0FBR0ssVUFBVTs7RUFFeEQsT0FBTztFQUNILFlBQVksRUFBRU4sQ0FBQyxFQUFFLEdBQUcsRUFBRUMsQ0FBQyxFQUFFLEdBQUc7RUFDNUIsU0FBUyxFQUFFMUIsbUVBQWdCLENBQUMsQ0FBQyxJQUFJLENBQUM2SCxRQUFRLENBQUMsRUFBRSxHQUFHO0VBQ2hELFFBQVEsR0FBSSxDQUFDLEdBQUN0SCxlQUFnQixHQUFHLEdBQUcsR0FBSSxDQUFDLENBQUMsR0FBQ0EsZUFBZ0IsR0FBRyxHQUFHLENBQ3BFO0VBQUMwRSxJQUFJLENBQUMsR0FBRyxDQUFDO0FBQ2YsQ0FBQzs7QUFFRDFDLEtBQUssQ0FBQ3VGLFVBQVUsR0FBRyxVQUFTQyxLQUFLLEVBQUU7O0VBRS9CQSxLQUFLLENBQUM3RyxTQUFTLEdBQUc3QixzRUFBbUIsQ0FBQyxDQUFDO0VBQ3ZDMEksS0FBSyxDQUFDNUcsU0FBUyxHQUFHN0Isc0VBQW1CLENBQUMsQ0FBQztFQUN2Q3lJLEtBQUssQ0FBQzNHLEtBQUssR0FBRzdCLHVFQUFvQixDQUFDLENBQUN3SSxLQUFLLENBQUM1RyxTQUFTLEVBQUU0RyxLQUFLLENBQUM3RyxTQUFTLENBQUMsQ0FBQztFQUN0RTZHLEtBQUssQ0FBQzdGLGFBQWEsQ0FBQyxDQUFDO0FBQ3pCLENBQUM7O0FBRURLLEtBQUssQ0FBQ3lDLE9BQU8sR0FBRyxZQUFXO0VBQ3ZCLElBQUlQLFdBQVcsR0FBRyxJQUFJLENBQUNuQixLQUFLLENBQUMsY0FBYyxDQUFDOztFQUU1QyxJQUFJMEUsQ0FBQyxHQUFHLElBQUksQ0FBQ3BILElBQUksQ0FBQ2EsQ0FBQyxHQUFHZ0QsV0FBVztFQUNqQyxJQUFJd0QsQ0FBQyxHQUFHLElBQUksQ0FBQ3JILElBQUksQ0FBQ2MsQ0FBQyxHQUFHK0MsV0FBVztFQUNqQyxJQUFJaEQsQ0FBQyxHQUFHLENBQUN1RyxDQUFDLEdBQUcsR0FBRztFQUNoQixJQUFJdEcsQ0FBQyxHQUFHLENBQUN1RyxDQUFDLEdBQUcsR0FBRzs7RUFFaEIsSUFBSWxELElBQUksR0FBRyxFQUFFO0VBQ2I5RSxzRUFBbUIsQ0FBQ3dCLENBQUMsRUFBRUMsQ0FBQyxFQUFFc0csQ0FBQyxFQUFFQyxDQUFDLEVBQUUsS0FBSyxFQUFFbEQsSUFBSSxDQUFDOztFQUU1QyxPQUFPQSxJQUFJO0FBQ2YsQ0FBQzs7QUFFRHhDLEtBQUssQ0FBQzJGLGVBQWUsR0FBRyxZQUFXOztFQUUvQixJQUFJQyxHQUFHLEdBQUcsSUFBSSxDQUFDQyxpQkFBaUIsQ0FBQyxDQUFDO0VBQ2xDLElBQUl4SCxJQUFJLEdBQUcsSUFBSSxDQUFDeUgsYUFBYSxDQUFDLENBQUM7RUFDL0IsSUFBSTVELFdBQVcsR0FBRyxJQUFJLENBQUNuQixLQUFLLENBQUMsY0FBYyxDQUFDO0VBQzVDLElBQUlQLEtBQUssR0FBRyxJQUFJLENBQUNwQyxNQUFNLENBQUNpSCx1QkFBdUIsQ0FBQ25ELFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQ2hELENBQUM7RUFDakUsSUFBSTZHLE1BQU0sR0FBR3ZGLEtBQUssR0FBRzdDLHdFQUF5Qjs7RUFFOUMsT0FBTztJQUNIdUIsQ0FBQyxFQUFFMEcsR0FBRyxDQUFDMUcsQ0FBQyxHQUFHYixJQUFJLENBQUNhLENBQUMsR0FBRyxDQUFDO0lBQ3JCQyxDQUFDLEVBQUV5RyxHQUFHLENBQUN6RyxDQUFDLEdBQUdkLElBQUksQ0FBQ2MsQ0FBQyxHQUFHLENBQUM7SUFDckJxQixLQUFLLEVBQUVuQyxJQUFJLENBQUNhLENBQUM7SUFDYnVCLE1BQU0sRUFBRXBDLElBQUksQ0FBQ2MsQ0FBQztJQUNkNEcsTUFBTSxFQUFFQTtFQUNaLENBQUM7QUFDTCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvTWFya3VwQ2FsbG91dC5qcz9mM2VkIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgTWFya3VwIH0gZnJvbSAnLi9NYXJrdXAnO1xuaW1wb3J0ICogYXMgTWFya3VwVHlwZXMgZnJvbSAnLi9NYXJrdXBUeXBlcyc7XG5pbXBvcnQgeyBjcmVhdGVNYXJrdXBUZXh0U3ZnLCBjcmVhdGVNYXJrdXBQYXRoU3ZnLCBjcmVhdGVNYXJrdXBHcm91cFN2ZyxcbiAgICBjb21wb3NlUkdCQVN0cmluZywgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcsIHNldE1hcmt1cFRleHRTdmdUcmFuc2Zvcm0sXG4gICAgdXBkYXRlTWFya3VwVGV4dFN2Z0NsaXBwZXIsIHVwZGF0ZU1hcmt1cFRleHRTdmdIaXRhcmVhLCB1cGRhdGVNYXJrdXBQYXRoU3ZnSGl0YXJlYSxcbiAgICBjcmVhdGVTdmdFbGVtZW50LCBhZGRNYXJrdXBNZXRhZGF0YSwgcmFkaWFuc1RvRGVncmVlcywgY3JlYXRlUmVjdGFuZ2xlUGF0aCxcbiAgICBFRElUX0ZSQU1FX0RFRkFVTFRfTUFSR0lOIH0gZnJvbSAnLi9NYXJrdXBzQ29yZVV0aWxzJztcbmltcG9ydCB7IGNsb25lU3R5bGUsIGNvcHlTdHlsZSwgaXNTdHlsZUVxdWFsIH0gZnJvbSAnLi9TdHlsZVV0aWxzJztcbmltcG9ydCB7IEVkaXRNb2RlQ2FsbG91dCB9IGZyb20gJy4vZWRpdC1tb2Rlcy9FZGl0TW9kZUNhbGxvdXQnO1xuXG4gICAgLy8gTE1WIFZpZXdlckxNVi0yMTcwIFtNYXJrdXBdIFtQREZdIFRleHQgbWFya3VwIG1pc3NpbmcvY3V0b2ZmIGZvciBub3JtYWwgc2l6ZWQgdGV4dC5cbiAgICAvLyBJZiB0aGUgZm9udCBzaXplIG9mIGFuIFNWRyB0ZXh0IGlzIHRvbyBzbWFsbCwgdGhlIHRleHQgaXMgbm90IHJlbmRlcmVkIGluZGVwZW5kZW50bHkgb2YgaXRzIGZpbmFsIHNjcmVlbiBzaXplLlxuICAgIC8vIFRvIHNvbHZlIHRoZSBpc3N1ZSB3ZSBtdWx0aXBseSBmb250IHNpemUgYnkgMTAwIGFuZCBzY2FsZSBkb3duIHRoZSB0ZXh0IGluIGl0cyB0cmFuc2Zvcm0uXG4gICAgdmFyIEZPTlRfU0laRV9TQ0FMRSA9IDEwMDtcblxuICAgIHZhciBTVEFSVElOR19XSURUSF9GQUNUT1IgPSA2O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbG91dCBNYXJrdXAuXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIE1hcmt1cENhbGxvdXQoaWQsIGVkaXRvciwgc2l6ZSkge1xuXG4gICAgICAgIHZhciBzdHlsZUF0dHJpYnV0ZXMgPSBbXG4gICAgICAgICAgICAnZm9udC1zaXplJyxcbiAgICAgICAgICAgICdzdHJva2Utd2lkdGgnLFxuICAgICAgICAgICAgJ3N0cm9rZS1jb2xvcicsXG4gICAgICAgICAgICAnc3Ryb2tlLW9wYWNpdHknLFxuICAgICAgICAgICAgJ2ZpbGwtY29sb3InLFxuICAgICAgICAgICAgJ2ZpbGwtb3BhY2l0eScsXG4gICAgICAgICAgICAnZm9udC1mYW1pbHknLFxuICAgICAgICAgICAgJ2ZvbnQtc3R5bGUnLFxuICAgICAgICAgICAgJ2ZvbnQtd2VpZ2h0J1xuICAgICAgICBdO1xuXG4gICAgICAgIE1hcmt1cC5jYWxsKHRoaXMsIGlkLCBlZGl0b3IsIHN0eWxlQXR0cmlidXRlcyk7XG5cbiAgICAgICAgLy8gYmluZCB0byB0aGlzIHRvIHBhc3MgdGhpcy5nbG9iYWxNYW5hZ2VyXG4gICAgICAgIHRoaXMuYWRkTWFya3VwTWV0YWRhdGEgPSBhZGRNYXJrdXBNZXRhZGF0YS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNyZWF0ZVN2Z0VsZW1lbnQgPSBjcmVhdGVTdmdFbGVtZW50LmJpbmQodGhpcyk7XG5cblxuICAgICAgICB0aGlzLnR5cGUgPSBNYXJrdXBUeXBlcy5NQVJLVVBfVFlQRV9DQUxMT1VUO1xuICAgICAgICB0aGlzLnRleHRTaGFwZSA9IGNyZWF0ZU1hcmt1cFRleHRTdmcoKTtcbiAgICAgICAgdGhpcy5yZWN0U2hhcGUgPSBjcmVhdGVNYXJrdXBQYXRoU3ZnKCk7XG4gICAgICAgIHRoaXMuc2hhcGUgPSBjcmVhdGVNYXJrdXBHcm91cFN2ZyhbdGhpcy5yZWN0U2hhcGUsIHRoaXMudGV4dFNoYXBlXSk7XG4gICAgICAgIHRoaXMuaXNGcmFtZVVzZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmNvbnN0cmFpbnRSb3RhdGlvbiA9IHRydWU7XG4gICAgICAgIHRoaXMuY29uc3RyYWludEhlaWdodCA9IHRydWU7XG4gICAgICAgIHRoaXMuY29uc3RyYWludFdpZHRoID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2l6ZS54ID0gc2l6ZS54O1xuICAgICAgICB0aGlzLnNpemUueSA9IHNpemUueTtcbiAgICAgICAgdGhpcy5jdXJyZW50VGV4dCA9IFwiXCI7XG4gICAgICAgIHRoaXMuY3VycmVudFRleHRMaW5lcyA9IFtcIlwiXTtcbiAgICAgICAgdGhpcy5wcmV2SGlnaGxpZ2h0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNIZWxwZXJUZXh0QWN0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgLy8gTm90ZTogV2UgY291bGQgaGF2ZSB0aGlzIHByb3BlcnR5IGJlIGEgc3R5bGUgcHJvcGVydHkuXG4gICAgICAgIC8vIEhvd2V2ZXIsIHRoZXJlIGlzIG5vIG5lZWQgZm9yIHRoaXMgcHJvcGVydHkgdG8gYmUgZXhwb3NlZCB0byB0aGUgdXNlciBmb3IgYWx0ZXJhdGlvblxuICAgICAgICAvLyBUaGlzIHZhbHVlIGlzIGEgcGVyY2VudGFnZSBvZiB0aGUgZm9udCBzaXplIHVzZWQgdG8gb2Zmc2V0IHZlcnRpY2FsbHkgMiB0ZXh0IGxpbmVzXG4gICAgICAgIC8vIG9mIHRoZSBzYW1lIHBhcmFncmFwaC5cbiAgICAgICAgLy8gTm90aWNlIHRoYXQgdGhpcyB2YWx1ZSBpcyB1c2VkIGJ5IEVkaXRvclRleHRJbnB1dC5qc1xuICAgICAgICB0aGlzLmxpbmVIZWlnaHQgPSAxMzA7XG5cbiAgICAgICAgdGhpcy5taW5XaWR0aCA9IHRoaXMuZ2V0Q2xpZW50Rm9udFNpemUoKSAqIFNUQVJUSU5HX1dJRFRIX0ZBQ1RPUjtcblxuICAgICAgICB0aGlzLmJpbmREb21FdmVudHMoKTtcbiAgICB9XG5cbiAgICBNYXJrdXBDYWxsb3V0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTWFya3VwLnByb3RvdHlwZSk7XG4gICAgTWFya3VwQ2FsbG91dC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNYXJrdXBDYWxsb3V0O1xuXG4gICAgdmFyIHByb3RvID0gTWFya3VwQ2FsbG91dC5wcm90b3R5cGU7XG5cbiAgICBwcm90by5nZXRFZGl0TW9kZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHJldHVybiBuZXcgRWRpdE1vZGVDYWxsb3V0KHRoaXMuZWRpdG9yKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc2l6ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0U3RyaW5nXG4gICAgICovXG4gICAgcHJvdG8uc2V0ID0gZnVuY3Rpb24ocG9zaXRpb24sIHNpemUsIHRleHRTdHJpbmcsIGlzRnJhbWVVc2VkKSB7XG5cbiAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0gcG9zaXRpb24ueDtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0gcG9zaXRpb24ueTtcbiAgICAgICAgdGhpcy5zaXplLnggPSBzaXplLng7XG4gICAgICAgIHRoaXMuc2l6ZS55ID0gc2l6ZS55O1xuICAgICAgICB0aGlzLnNldElzRmlsbGVkRnJhbWVVc2VkKGlzRnJhbWVVc2VkKTtcbiAgICAgICAgdGhpcy5zZXRUZXh0KHRleHRTdHJpbmcpO1xuICAgIH07XG5cbiAgICBwcm90by5zZXRTaXplID0gZnVuY3Rpb24ocG9zaXRpb24sIHdpZHRoLCBoZWlnaHQpIHtcblxuICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSBwb3NpdGlvbi54O1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSBwb3NpdGlvbi55O1xuICAgICAgICB0aGlzLnNpemUueCA9IHdpZHRoO1xuICAgICAgICB0aGlzLnNpemUueSA9IGhlaWdodDtcblxuICAgICAgICB2YXIgc2l6ZVVwZGF0ZVJlcXVpcmVkID0gdHJ1ZTtcblxuICAgICAgICBpZiAodGhpcy5pc0hlbHBlclRleHRBY3RpdmUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dEJveFN0eWxlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0eWxlKHNpemVVcGRhdGVSZXF1aXJlZCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvdG8uc2V0UG9zaXRpb24gPSBmdW5jdGlvbih4LCB5KSB7XG5cbiAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0geDtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0geTtcblxuICAgICAgICBpZiAodGhpcy5pc0hlbHBlclRleHRBY3RpdmUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dEJveFN0eWxlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0eWxlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvdG8uc2V0U3R5bGUgPSBmdW5jdGlvbihzdHlsZSkge1xuICAgICAgICB2YXIgc3R5bGVzRXF1YWwgPSBpc1N0eWxlRXF1YWwoc3R5bGUsIHRoaXMuc3R5bGUpO1xuXG4gICAgICAgIGlmICghc3R5bGVzRXF1YWwpIHtcbiAgICAgICAgICAgIGNvcHlTdHlsZShzdHlsZSwgdGhpcy5zdHlsZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZVN0eWxlKCFzdHlsZXNFcXVhbCk7XG4gICAgfTtcblxuICAgIHByb3RvLnNldFRleHQgPSBmdW5jdGlvbih0ZXh0KSB7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50VGV4dCA9IHRleHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHJhdyBzdHJpbmcgdmFsdWVcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgICAqL1xuICAgIHByb3RvLmdldFRleHQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50VGV4dDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHNoYWxsb3cgY29weSBvZiB0aGUgdGV4dCBsaW5lcyB1c2VkIGZvciByZW5kZXJpbmcgU1ZHIHRleHRcbiAgICAgKiBAcmV0dXJucyB7QXJyYXkuPFN0cmluZz59XG4gICAgICovXG4gICAgcHJvdG8uZ2V0VGV4dExpbmVzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFRleHRMaW5lcy5jb25jYXQoKTtcbiAgICB9O1xuXG4gICAgcHJvdG8uaGlnaGxpZ2h0Q2hhbmdlZCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIGlmICh0aGlzLmhpZ2hsaWdodGVkICYmIHRoaXMuaGlnaGxpZ2h0ZWQgIT09IHRoaXMucHJldkhpZ2hsaWdodCkge1xuICAgICAgICAgICAgdmFyIHJlY3QgPSB0aGlzLnJlY3RTaGFwZTtcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gdGhpcy50ZXh0U2hhcGU7XG4gICAgICAgICAgICB2YXIgc3Ryb2tlQ29sb3IgPSB0aGlzLmhpZ2hsaWdodENvbG9yO1xuICAgICAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcodGV4dCwgJ2ZpbGwnLCBzdHJva2VDb2xvcik7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzRnJhbWVVc2VkKSB7XG4gICAgICAgICAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcocmVjdCwgJ3N0cm9rZScsIHN0cm9rZUNvbG9yKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5wcmV2SGlnaGxpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICBwcm90by51cGRhdGVUZXh0Qm94U3R5bGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGVkaXRNb2RlID0gdGhpcy5lZGl0b3IuZHVyaW5nRWRpdE1vZGUgJiYgdGhpcy5lZGl0b3IuZWRpdE1vZGU7XG5cbiAgICAgICAgaWYgKCFlZGl0TW9kZSB8fCBlZGl0TW9kZS50eXBlICE9PSB0aGlzLnR5cGUpIHtcbiAgICAgICAgICAgIGVkaXRNb2RlID0gdGhpcy5nZXRFZGl0TW9kZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWRpdE1vZGUudXBkYXRlVGV4dEJveFN0eWxlKCk7XG4gICAgfTtcblxuICAgIHByb3RvLnNldElzSGVscGVyVGV4dEFjdGl2ZSA9IGZ1bmN0aW9uKGlzQWN0aXZlKSB7XG4gICAgICAgIHRoaXMuaXNIZWxwZXJUZXh0QWN0aXZlID0gaXNBY3RpdmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgZGF0YSB2YWx1ZXMgaW50byBET00gZWxlbWVudCBzdHlsZS9hdHRyaWJ1dGUocylcbiAgICAgKlxuICAgICAqL1xuICAgIHByb3RvLnVwZGF0ZVN0eWxlID0gZnVuY3Rpb24oc2l6ZVVwZGF0ZVJlcXVpcmVkKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuaGlnaGxpZ2h0Q2hhbmdlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLnByZXZIaWdobGlnaHQgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuc3R5bGU7XG4gICAgICAgICAgICB2YXIgcmVjdCA9IHRoaXMucmVjdFNoYXBlO1xuICAgICAgICAgICAgdmFyIHRleHQgPSB0aGlzLnRleHRTaGFwZTtcbiAgICAgICAgICAgIHZhciBmb250U2l6ZSA9IHRoaXMuc3R5bGVbJ2ZvbnQtc2l6ZSddO1xuICAgICAgICAgICAgdmFyIGZvbnRGYW1pbHkgPSB0aGlzLnN0eWxlWydmb250LWZhbWlseSddO1xuICAgICAgICAgICAgdmFyIGZvbnRXZWlnaHQgPSB0aGlzLnN0eWxlWydmb250LXdlaWdodCddO1xuICAgICAgICAgICAgdmFyIGZvbnRTdHlsZSA9ICB0aGlzLnN0eWxlWydmb250LXN0eWxlJ107XG4gICAgICAgICAgICB2YXIgc3Ryb2tlQ29sb3IgPSB0aGlzLmhpZ2hsaWdodGVkID8gdGhpcy5oaWdobGlnaHRDb2xvciA6IGNvbXBvc2VSR0JBU3RyaW5nKHN0eWxlWydzdHJva2UtY29sb3InXSwgc3R5bGVbJ3N0cm9rZS1vcGFjaXR5J10pO1xuICAgICAgICAgICAgdmFyIHN0cm9rZVdpZHRoID0gdGhpcy5zdHlsZVsnc3Ryb2tlLXdpZHRoJ107XG5cbiAgICAgICAgICAgIC8vIEZPTlRfU0laRV9TQ0FMRSBpcyB1c2VkIHRvIHNjYWxlIHVwIGZvbnRTaXplLCBidXQgaXQgaXMgb25seSBuZWVkZWQgaW4gY2FzZXMgd2hlcmUgdGhlIGZvbnQgc2l6ZSBpcyB0b28gc21hbGxcbiAgICAgICAgICAgIEZPTlRfU0laRV9TQ0FMRSA9IChmb250U2l6ZSA+IDEpID8gMSA6IDEwMDtcblxuICAgICAgICAgICAgdGhpcy5yZWJ1aWxkVGV4dFN2ZyhzaXplVXBkYXRlUmVxdWlyZWQpO1xuXG4gICAgICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgICAgICB2YXIgdGV4dENvbnRhaW5lclRyYW5zZm9ybSA9IHRoaXMuZ2V0VGV4dENvbnRhaW5lclRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgdmFyIHRleHRUcmFuc2Zvcm0gPSB0aGlzLmdldFRleHRUcmFuc2Zvcm0oKTtcblxuICAgICAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcodGV4dCwgJ2ZvbnQtZmFtaWx5JywgZm9udEZhbWlseSk7XG4gICAgICAgICAgICBzZXRBdHRyaWJ1dGVUb01hcmt1cFN2Zyh0ZXh0LCAnZm9udC1zaXplJywgZm9udFNpemUgKiBGT05UX1NJWkVfU0NBTEUpO1xuICAgICAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcodGV4dCwgJ2ZpbGwnLCBzdHJva2VDb2xvcik7XG4gICAgICAgICAgICBzZXRBdHRyaWJ1dGVUb01hcmt1cFN2Zyh0ZXh0LCAnZm9udC13ZWlnaHQnLCBmb250V2VpZ2h0KTtcbiAgICAgICAgICAgIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnKHRleHQsICdmb250LXN0eWxlJywgZm9udFN0eWxlKTtcblxuICAgICAgICAgICAgc2V0TWFya3VwVGV4dFN2Z1RyYW5zZm9ybSh0ZXh0LCB0ZXh0Q29udGFpbmVyVHJhbnNmb3JtLCB0ZXh0VHJhbnNmb3JtKTtcbiAgICAgICAgICAgIHVwZGF0ZU1hcmt1cFRleHRTdmdDbGlwcGVyKHRleHQsIHRoaXMuc2l6ZS54LCB0aGlzLnNpemUueSk7XG4gICAgICAgICAgICB1cGRhdGVNYXJrdXBUZXh0U3ZnSGl0YXJlYSh0ZXh0LCB0aGlzLnNpemUueCwgdGhpcy5zaXplLnksIGVkaXRvcik7XG5cbiAgICAgICAgICAgIHZhciBwYXRoID0gdGhpcy5nZXRQYXRoKCkuam9pbignICcpO1xuICAgICAgICAgICAgdmFyIHRyYW5zZm9ybSA9IHRoaXMuZ2V0VHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB2YXIgZmlsbENvbG9yID0gY29tcG9zZVJHQkFTdHJpbmcoc3R5bGVbJ2ZpbGwtY29sb3InXSwgc3R5bGVbJ2ZpbGwtb3BhY2l0eSddKTtcblxuICAgICAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcocmVjdCwgJ2QnLCBwYXRoKTtcbiAgICAgICAgICAgIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnKHJlY3QsICdzdHJva2Utd2lkdGgnLCBzdHJva2VXaWR0aCk7XG4gICAgICAgICAgICBzZXRBdHRyaWJ1dGVUb01hcmt1cFN2ZyhyZWN0LCAnc3Ryb2tlJywgc3Ryb2tlQ29sb3IpO1xuICAgICAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcocmVjdCwgJ3RyYW5zZm9ybScsIHRyYW5zZm9ybSk7XG4gICAgICAgICAgICBzZXRBdHRyaWJ1dGVUb01hcmt1cFN2ZyhyZWN0LCAnZmlsbCcsIGZpbGxDb2xvcik7XG4gICAgICAgICAgICB1cGRhdGVNYXJrdXBQYXRoU3ZnSGl0YXJlYShyZWN0LCBlZGl0b3IpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlLWNyZWF0ZXMgU1ZHIHRhZ3MgdGhhdCByZW5kZXIgU1ZHIHRleHQuXG4gICAgICogRWFjaCBsaW5lIGlzIHBsYWNlZCBhcm91bmQgdHNwYW4gdGFncyB3aGljaCBhcmUgdmVydGljYWxseSBvZmZzZXQgdG8gZWFjaCBvdGhlci5cbiAgICAgKi9cbiAgICBwcm90by5yZWJ1aWxkVGV4dFN2ZyA9IGZ1bmN0aW9uKHNpemVVcGRhdGVSZXF1aXJlZCkge1xuXG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSB0aGUgbmVlZCB0byBnZXQgdGV4dCB2YWx1ZXMgZnJvbSBhbiBvYmplY3QgaW4gZWRpdCBtb2RlLCBzaG91bGQgYmUgYSBmdW5jdGlvbi5cbiAgICAgICAgLy8gZWRpdE1vZGUgbmVlZHMgdG8gYmUgc2V0IHRvIGxvYWQgbWFya3VwcyBpbiB2aWV3IG1vZGVcbiAgICAgICAgdmFyIGVkaXRNb2RlID0gdGhpcy5lZGl0b3IuZHVyaW5nRWRpdE1vZGUgJiYgdGhpcy5lZGl0b3IuZWRpdE1vZGU7XG5cbiAgICAgICAgaWYgKCFlZGl0TW9kZSB8fCBlZGl0TW9kZS50eXBlICE9PSB0aGlzLnR5cGUpIHtcbiAgICAgICAgICAgIGVkaXRNb2RlID0gdGhpcy5nZXRFZGl0TW9kZSgpO1xuICAgICAgICAgICAgZWRpdE1vZGUudGV4dElucHV0SGVscGVyLnRleHRBcmVhLnZhbHVlID0gdGhpcy5jdXJyZW50VGV4dDtcbiAgICAgICAgICAgIGVkaXRNb2RlLnRleHRJbnB1dEhlbHBlci5zZXRTdHlsZSh0aGlzLnN0eWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlZGl0TW9kZS50ZXh0SW5wdXRIZWxwZXIudGV4dE1hcmt1cCAmJiBlZGl0TW9kZS50ZXh0SW5wdXRIZWxwZXIudGV4dE1hcmt1cCAhPT0gdGhpcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0eWxlID0gY2xvbmVTdHlsZShlZGl0TW9kZS50ZXh0SW5wdXRIZWxwZXIuc3R5bGUpO1xuICAgICAgICB2YXIgdGV4dCA9IGVkaXRNb2RlLnRleHRJbnB1dEhlbHBlci50ZXh0QXJlYS52YWx1ZTtcblxuICAgICAgICB2YXIgdGV4dEhlbHBlclZhbHVlcyA9IGVkaXRNb2RlLnRleHRJbnB1dEhlbHBlci5nZXRUZXh0VmFsdWVzRm9yTWFya3VwKHRoaXMsIHNpemVVcGRhdGVSZXF1aXJlZCk7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50VGV4dExpbmVzID0gdGV4dEhlbHBlclZhbHVlcy50ZXh0VmFsdWVzLmxpbmVzO1xuXG4gICAgICAgIGlmICh0ZXh0SGVscGVyVmFsdWVzLm5ld1Bvcykge1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5lZGl0b3IucG9zaXRpb25Gcm9tQ2xpZW50VG9NYXJrdXBzKHRleHRIZWxwZXJWYWx1ZXMubmV3UG9zLngsIHRleHRIZWxwZXJWYWx1ZXMubmV3UG9zLnkpO1xuICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLmVkaXRvci5zaXplRnJvbUNsaWVudFRvTWFya3Vwcyh0ZXh0SGVscGVyVmFsdWVzLndpZHRoLCB0ZXh0SGVscGVyVmFsdWVzLmhlaWdodCk7XG5cbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24ueCA9IHBvc2l0aW9uLng7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSBwb3NpdGlvbi55O1xuICAgICAgICAgICAgdGhpcy5zaXplLnggPSBzaXplLng7XG4gICAgICAgICAgICB0aGlzLnNpemUueSA9IHNpemUueTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlZGl0TW9kZS5zZWxlY3RlZE1hcmt1cCAhPT0gdGhpcyAmJiAhZWRpdE1vZGUudGV4dElucHV0SGVscGVyLmZpcnN0RWRpdCkge1xuICAgICAgICAgICAgZWRpdE1vZGUudGV4dElucHV0SGVscGVyLnRleHRBcmVhLnZhbHVlID0gdGV4dDtcbiAgICAgICAgICAgIGVkaXRNb2RlLnRleHRJbnB1dEhlbHBlci5zZXRTdHlsZShzdHlsZSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWFya3VwID0gdGhpcy5jcmVhdGVTdmdFbGVtZW50KCd0ZXh0Jyk7XG4gICAgICAgIG1hcmt1cC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ21hcmt1cCcpO1xuICAgICAgICBtYXJrdXAuc2V0QXR0cmlidXRlKCdhbGlnbm1lbnQtYmFzZWxpbmUnLCAnbWlkZGxlJyk7XG5cbiAgICAgICAgdGhpcy50ZXh0U2hhcGUuY2hpbGROb2Rlc1swXS5yZW1vdmVDaGlsZCh0aGlzLnRleHRTaGFwZS5tYXJrdXApO1xuICAgICAgICB0aGlzLnRleHRTaGFwZS5jaGlsZE5vZGVzWzBdLmFwcGVuZENoaWxkKG1hcmt1cCk7XG4gICAgICAgIHRoaXMudGV4dFNoYXBlLm1hcmt1cCA9IG1hcmt1cDtcblxuICAgICAgICAvLyBGb3IgZWFjaCBsaW5lLCBjcmVhdGUgYSB0c3BhbiwgYWRkIGFzIGNoaWxkIGFuZCBvZmZzZXQgaXQgdmVydGljYWxseS5cbiAgICAgICAgdmFyIHlPZmZzZXQgPSB0aGlzLmdldExpbmVIZWlnaHQoKSAqIEZPTlRfU0laRV9TQ0FMRSAqICh0aGlzLmxpbmVIZWlnaHQgLyAxMDApO1xuXG4gICAgICAgIHZhciBwYWRkaW5nID0gKHRoaXMuZ2V0TGluZUhlaWdodCgpICogRk9OVF9TSVpFX1NDQUxFKSAvIDI7XG4gICAgICAgIHZhciBkeCA9IHBhZGRpbmc7XG4gICAgICAgIHZhciBkeSA9IHBhZGRpbmc7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50VGV4dExpbmVzLmZvckVhY2goZnVuY3Rpb24obGluZSl7XG5cbiAgICAgICAgICAgIHZhciB0c3BhbiA9IHRoaXMuY3JlYXRlU3ZnRWxlbWVudCgndHNwYW4nKTtcblxuICAgICAgICAgICAgdHNwYW4uc2V0QXR0cmlidXRlKCd4JywgZHgpO1xuICAgICAgICAgICAgdHNwYW4uc2V0QXR0cmlidXRlKCd5JywgZHkpO1xuICAgICAgICAgICAgdHNwYW4udGV4dENvbnRlbnQgPSBsaW5lO1xuXG4gICAgICAgICAgICBtYXJrdXAuYXBwZW5kQ2hpbGQodHNwYW4pO1xuICAgICAgICAgICAgZHkgKz0geU9mZnNldDtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9O1xuXG4gICAgcHJvdG8uc2V0SXNGaWxsZWRGcmFtZVVzZWQgPSBmdW5jdGlvbihpc0ZyYW1lVXNlZCkge1xuXG4gICAgICAgIHRoaXMuaXNGcmFtZVVzZWQgPSBpc0ZyYW1lVXNlZDtcblxuICAgICAgICB2YXIgaGFzUmVjdFNoYXBlID0gdGhpcy5yZWN0U2hhcGUucGFyZW50Tm9kZSA9PT0gdGhpcy5zaGFwZTtcbiAgICAgICAgaWYgKGlzRnJhbWVVc2VkICYmICFoYXNSZWN0U2hhcGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2hhcGUuaW5zZXJ0QmVmb3JlKHRoaXMucmVjdFNoYXBlLCB0aGlzLnNoYXBlLmZpcnN0Q2hpbGQpO1xuICAgICAgICB9IGVsc2UgaWYgKCFpc0ZyYW1lVXNlZCAmJiBoYXNSZWN0U2hhcGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2hhcGUucmVtb3ZlQ2hpbGQodGhpcy5yZWN0U2hhcGUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByb3RvLnNldElzRmlsbGVkRnJhbWVWaXNpYmxlID0gZnVuY3Rpb24oaXNWaXNpYmxlKSB7XG5cbiAgICAgICAgdGhpcy5yZWN0U2hhcGUubWFya3VwLnN0eWxlLmRpc3BsYXkgPSAoaXNWaXNpYmxlICYmIHRoaXMuaXNGcmFtZVVzZWQpID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICB9O1xuXG4gICAgcHJvdG8uc2V0SXNTaGFwZVZpc2libGUgPSBmdW5jdGlvbihpc1Zpc2libGUpIHtcblxuICAgICAgICB0aGlzLnNoYXBlLnN0eWxlLmRpc3BsYXkgPSAoaXNWaXNpYmxlKSA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgfTtcblxuICAgIHByb3RvLnNldE1ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtZXRhZGF0YSA9IGNsb25lU3R5bGUodGhpcy5zdHlsZSk7XG5cbiAgICAgICAgbWV0YWRhdGEudHlwZSA9IHRoaXMudHlwZTtcbiAgICAgICAgbWV0YWRhdGEucG9zaXRpb24gPSBbdGhpcy5wb3NpdGlvbi54LCB0aGlzLnBvc2l0aW9uLnldLmpvaW4oXCIgXCIpO1xuICAgICAgICBtZXRhZGF0YS5zaXplID0gW3RoaXMuc2l6ZS54LCB0aGlzLnNpemUueV0uam9pbihcIiBcIik7XG4gICAgICAgIG1ldGFkYXRhLnRleHQgPSBTdHJpbmcodGhpcy5jdXJyZW50VGV4dCk7XG4gICAgICAgIG1ldGFkYXRhLmlzZnJhbWV1c2VkID0gdGhpcy5pc0ZyYW1lVXNlZCA/IDEgOiAwO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmFkZE1hcmt1cE1ldGFkYXRhKHRoaXMuc2hhcGUsIG1ldGFkYXRhKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIG1ldGhvZCB0aGF0IHJldHVybnMgdGhlIGZvbnQgc2l6ZSBpbiBjbGllbnQgc3BhY2UgY29vcmRzLlxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG8uZ2V0Q2xpZW50Rm9udFNpemUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICByZXR1cm4gdGhpcy5lZGl0b3Iuc2l6ZUZyb21NYXJrdXBzVG9DbGllbnQoMCwgdGhpcy5zdHlsZVsnZm9udC1zaXplJ10pLnk7XG4gICAgfTtcblxuICAgIHByb3RvLmdldExpbmVIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGVbJ2ZvbnQtc2l6ZSddO1xuICAgIH07XG5cbiAgICBwcm90by5nZXRUZXh0Q29udGFpbmVyVHJhbnNmb3JtID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIHggPSB0aGlzLnBvc2l0aW9uLnggLSB0aGlzLnNpemUueCAqIDAuNTtcbiAgICAgICAgdmFyIHkgPSB0aGlzLnBvc2l0aW9uLnkgKyB0aGlzLnNpemUueSAqIDAuNTtcblxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgJ3RyYW5zbGF0ZSgnLCB4LCAnLCcsIHksICcpJyxcbiAgICAgICAgICAgICdyb3RhdGUoJywgcmFkaWFuc1RvRGVncmVlcygtdGhpcy5yb3RhdGlvbiksICcpJyxcbiAgICAgICAgICAgICdzY2FsZSgxLC0xKSdcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgfTtcblxuICAgIHByb3RvLmdldFRleHRUcmFuc2Zvcm0gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgbGluZUhlaWdodCA9IHRoaXMuZ2V0TGluZUhlaWdodCgpO1xuXG4gICAgICAgIHZhciB4ID0gdGhpcy5wb3NpdGlvbi54IC0gdGhpcy5zaXplLnggKiAwLjU7XG4gICAgICAgIHZhciB5ID0gdGhpcy5wb3NpdGlvbi55ICsgdGhpcy5zaXplLnkgKiAwLjUgLSBsaW5lSGVpZ2h0O1xuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAndHJhbnNsYXRlKCcsIHgsICcsJywgeSwgJyknLFxuICAgICAgICAgICAgJ3JvdGF0ZSgnLCByYWRpYW5zVG9EZWdyZWVzKC10aGlzLnJvdGF0aW9uKSwgJyknLFxuICAgICAgICAgICAgJ3NjYWxlKCcgKyAoMS9GT05UX1NJWkVfU0NBTEUpICsgJywnICsgKC0xL0ZPTlRfU0laRV9TQ0FMRSkgKyAnKSdcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgfTtcblxuICAgIHByb3RvLmNsb25lU2hhcGUgPSBmdW5jdGlvbihjbG9uZSkge1xuXG4gICAgICAgIGNsb25lLnRleHRTaGFwZSA9IGNyZWF0ZU1hcmt1cFRleHRTdmcoKTtcbiAgICAgICAgY2xvbmUucmVjdFNoYXBlID0gY3JlYXRlTWFya3VwUGF0aFN2ZygpO1xuICAgICAgICBjbG9uZS5zaGFwZSA9IGNyZWF0ZU1hcmt1cEdyb3VwU3ZnKFtjbG9uZS5yZWN0U2hhcGUsIGNsb25lLnRleHRTaGFwZV0pO1xuICAgICAgICBjbG9uZS5iaW5kRG9tRXZlbnRzKCk7XG4gICAgfTtcblxuICAgIHByb3RvLmdldFBhdGggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0cm9rZVdpZHRoID0gdGhpcy5zdHlsZVsnc3Ryb2tlLXdpZHRoJ107XG5cbiAgICAgICAgdmFyIHcgPSB0aGlzLnNpemUueCArIHN0cm9rZVdpZHRoO1xuICAgICAgICB2YXIgaCA9IHRoaXMuc2l6ZS55ICsgc3Ryb2tlV2lkdGg7XG4gICAgICAgIHZhciB4ID0gLXcgKiAwLjU7XG4gICAgICAgIHZhciB5ID0gLWggKiAwLjU7XG5cbiAgICAgICAgdmFyIHBhdGggPSBbXTtcbiAgICAgICAgY3JlYXRlUmVjdGFuZ2xlUGF0aCh4LCB5LCB3LCBoLCBmYWxzZSwgcGF0aCk7XG5cbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfTtcblxuICAgIHByb3RvLmdldEJvdW5kaW5nUmVjdCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBwb3MgPSB0aGlzLmdldENsaWVudFBvc2l0aW9uKCk7XG4gICAgICAgIHZhciBzaXplID0gdGhpcy5nZXRDbGllbnRTaXplKCk7XG4gICAgICAgIHZhciBzdHJva2VXaWR0aCA9IHRoaXMuc3R5bGVbJ3N0cm9rZS13aWR0aCddO1xuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmVkaXRvci5zaXplRnJvbU1hcmt1cHNUb0NsaWVudChzdHJva2VXaWR0aCwgMCkueDtcbiAgICAgICAgdmFyIG1hcmdpbiA9IHdpZHRoICsgRURJVF9GUkFNRV9ERUZBVUxUX01BUkdJTjtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogcG9zLnggLSBzaXplLnggLyAyLFxuICAgICAgICAgICAgeTogcG9zLnkgLSBzaXplLnkgLyAyLFxuICAgICAgICAgICAgd2lkdGg6IHNpemUueCxcbiAgICAgICAgICAgIGhlaWdodDogc2l6ZS55LFxuICAgICAgICAgICAgbWFyZ2luOiBtYXJnaW5cbiAgICAgICAgfTtcbiAgICB9O1xuIl0sIm5hbWVzIjpbIk1hcmt1cCIsIk1hcmt1cFR5cGVzIiwiY3JlYXRlTWFya3VwVGV4dFN2ZyIsImNyZWF0ZU1hcmt1cFBhdGhTdmciLCJjcmVhdGVNYXJrdXBHcm91cFN2ZyIsImNvbXBvc2VSR0JBU3RyaW5nIiwic2V0QXR0cmlidXRlVG9NYXJrdXBTdmciLCJzZXRNYXJrdXBUZXh0U3ZnVHJhbnNmb3JtIiwidXBkYXRlTWFya3VwVGV4dFN2Z0NsaXBwZXIiLCJ1cGRhdGVNYXJrdXBUZXh0U3ZnSGl0YXJlYSIsInVwZGF0ZU1hcmt1cFBhdGhTdmdIaXRhcmVhIiwiY3JlYXRlU3ZnRWxlbWVudCIsImFkZE1hcmt1cE1ldGFkYXRhIiwicmFkaWFuc1RvRGVncmVlcyIsImNyZWF0ZVJlY3RhbmdsZVBhdGgiLCJFRElUX0ZSQU1FX0RFRkFVTFRfTUFSR0lOIiwiY2xvbmVTdHlsZSIsImNvcHlTdHlsZSIsImlzU3R5bGVFcXVhbCIsIkVkaXRNb2RlQ2FsbG91dCIsIkZPTlRfU0laRV9TQ0FMRSIsIlNUQVJUSU5HX1dJRFRIX0ZBQ1RPUiIsIk1hcmt1cENhbGxvdXQiLCJpZCIsImVkaXRvciIsInNpemUiLCJzdHlsZUF0dHJpYnV0ZXMiLCJjYWxsIiwiYmluZCIsInR5cGUiLCJNQVJLVVBfVFlQRV9DQUxMT1VUIiwidGV4dFNoYXBlIiwicmVjdFNoYXBlIiwic2hhcGUiLCJpc0ZyYW1lVXNlZCIsImNvbnN0cmFpbnRSb3RhdGlvbiIsImNvbnN0cmFpbnRIZWlnaHQiLCJjb25zdHJhaW50V2lkdGgiLCJ4IiwieSIsImN1cnJlbnRUZXh0IiwiY3VycmVudFRleHRMaW5lcyIsInByZXZIaWdobGlnaHQiLCJpc0hlbHBlclRleHRBY3RpdmUiLCJsaW5lSGVpZ2h0IiwibWluV2lkdGgiLCJnZXRDbGllbnRGb250U2l6ZSIsImJpbmREb21FdmVudHMiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwiZ2V0RWRpdE1vZGUiLCJzZXQiLCJwb3NpdGlvbiIsInRleHRTdHJpbmciLCJzZXRJc0ZpbGxlZEZyYW1lVXNlZCIsInNldFRleHQiLCJzZXRTaXplIiwid2lkdGgiLCJoZWlnaHQiLCJzaXplVXBkYXRlUmVxdWlyZWQiLCJ1cGRhdGVUZXh0Qm94U3R5bGUiLCJ1cGRhdGVTdHlsZSIsInNldFBvc2l0aW9uIiwic2V0U3R5bGUiLCJzdHlsZSIsInN0eWxlc0VxdWFsIiwidGV4dCIsImdldFRleHQiLCJnZXRUZXh0TGluZXMiLCJjb25jYXQiLCJoaWdobGlnaHRDaGFuZ2VkIiwiaGlnaGxpZ2h0ZWQiLCJyZWN0Iiwic3Ryb2tlQ29sb3IiLCJoaWdobGlnaHRDb2xvciIsImVkaXRNb2RlIiwiZHVyaW5nRWRpdE1vZGUiLCJzZXRJc0hlbHBlclRleHRBY3RpdmUiLCJpc0FjdGl2ZSIsImZvbnRTaXplIiwiZm9udEZhbWlseSIsImZvbnRXZWlnaHQiLCJmb250U3R5bGUiLCJzdHJva2VXaWR0aCIsInJlYnVpbGRUZXh0U3ZnIiwidGV4dENvbnRhaW5lclRyYW5zZm9ybSIsImdldFRleHRDb250YWluZXJUcmFuc2Zvcm0iLCJ0ZXh0VHJhbnNmb3JtIiwiZ2V0VGV4dFRyYW5zZm9ybSIsInBhdGgiLCJnZXRQYXRoIiwiam9pbiIsInRyYW5zZm9ybSIsImdldFRyYW5zZm9ybSIsImZpbGxDb2xvciIsInRleHRJbnB1dEhlbHBlciIsInRleHRBcmVhIiwidmFsdWUiLCJ0ZXh0TWFya3VwIiwidGV4dEhlbHBlclZhbHVlcyIsImdldFRleHRWYWx1ZXNGb3JNYXJrdXAiLCJ0ZXh0VmFsdWVzIiwibGluZXMiLCJuZXdQb3MiLCJwb3NpdGlvbkZyb21DbGllbnRUb01hcmt1cHMiLCJzaXplRnJvbUNsaWVudFRvTWFya3VwcyIsInNlbGVjdGVkTWFya3VwIiwiZmlyc3RFZGl0IiwibWFya3VwIiwic2V0QXR0cmlidXRlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiYXBwZW5kQ2hpbGQiLCJ5T2Zmc2V0IiwiZ2V0TGluZUhlaWdodCIsInBhZGRpbmciLCJkeCIsImR5IiwiZm9yRWFjaCIsImxpbmUiLCJ0c3BhbiIsInRleHRDb250ZW50IiwiaGFzUmVjdFNoYXBlIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJzZXRJc0ZpbGxlZEZyYW1lVmlzaWJsZSIsImlzVmlzaWJsZSIsImRpc3BsYXkiLCJzZXRJc1NoYXBlVmlzaWJsZSIsInNldE1ldGFkYXRhIiwibWV0YWRhdGEiLCJTdHJpbmciLCJpc2ZyYW1ldXNlZCIsInNpemVGcm9tTWFya3Vwc1RvQ2xpZW50Iiwicm90YXRpb24iLCJjbG9uZVNoYXBlIiwiY2xvbmUiLCJ3IiwiaCIsImdldEJvdW5kaW5nUmVjdCIsInBvcyIsImdldENsaWVudFBvc2l0aW9uIiwiZ2V0Q2xpZW50U2l6ZSIsIm1hcmdpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Markup/core/MarkupCallout.js\n");

/***/ }),

/***/ "./extensions/Markup/core/MarkupCircle.js":
/*!************************************************!*\
  !*** ./extensions/Markup/core/MarkupCircle.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MarkupCircle: () => (/* binding */ MarkupCircle)\n/* harmony export */ });\n/* harmony import */ var _Markup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Markup */ \"./extensions/Markup/core/Markup.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n/* harmony import */ var _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MarkupsCoreUtils */ \"./extensions/Markup/core/MarkupsCoreUtils.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n/* harmony import */ var _edit_modes_EditModeCircle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./edit-modes/EditModeCircle */ \"./extensions/Markup/core/edit-modes/EditModeCircle.js\");\n\n\n\n\n\n\n\n\n/**\n *\n * @param id\n * @param editor\n * @constructor\n */\nfunction MarkupCircle(id, editor) {\n\n  var styleAttributes = ['stroke-width', 'stroke-color', 'stroke-opacity', 'fill-color', 'fill-opacity'];\n  _Markup__WEBPACK_IMPORTED_MODULE_0__.Markup.call(this, id, editor, styleAttributes);\n\n  // bind to this to pass this.globalManager\n  this.addMarkupMetadata = _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.addMarkupMetadata.bind(this);\n\n  this.type = _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__.MARKUP_TYPE_CIRCLE;\n  this.shape = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createMarkupPathSvg)();\n\n  this.bindDomEvents();\n}\n\nMarkupCircle.prototype = Object.create(_Markup__WEBPACK_IMPORTED_MODULE_0__.Markup.prototype);\nMarkupCircle.prototype.constructor = MarkupCircle;\n\nvar proto = MarkupCircle.prototype;\n\nproto.getEditMode = function () {\n\n  return new _edit_modes_EditModeCircle__WEBPACK_IMPORTED_MODULE_4__.EditModeCircle(this.editor);\n};\n\nproto.set = function (position, size) {\n\n  this.setSize(position, size.x, size.y);\n};\n\n/**\n * Applies data values into DOM element style/attribute(s)\n *\n */\nproto.updateStyle = function () {\n\n  var style = this.style;\n  var shape = this.shape;\n  var path = this.getPath().join(' ');\n\n  var strokeWidth = this.style['stroke-width'];\n  var strokeColor = this.highlighted ? this.highlightColor : (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.composeRGBAString)(style['stroke-color'], style['stroke-opacity']);\n  var fillColor = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.composeRGBAString)(style['fill-color'], style['fill-opacity']);\n  var transform = this.getTransform();\n\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'd', path);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'stroke-width', strokeWidth);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'stroke', strokeColor);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'fill', fillColor);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'transform', transform);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.updateMarkupPathSvgHitarea)(shape, this.editor);\n};\n\nproto.setMetadata = function () {\n\n  var metadata = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_3__.cloneStyle)(this.style);\n\n  metadata.type = this.type;\n  metadata.position = [this.position.x, this.position.y].join(\" \");\n  metadata.size = [this.size.x, this.size.y].join(\" \");\n  metadata.rotation = String(this.rotation);\n\n  return this.addMarkupMetadata(this.shape, metadata);\n};\n\nproto.getPath = function () {\n\n  var size = this.size;\n  if (size.x === 1 || size.y === 1) {\n    return [''];\n  }\n\n  var strokeWidth = this.style['stroke-width'];\n\n  var ellipseW = size.x - strokeWidth;\n  var ellipseH = size.y - strokeWidth;\n\n  var ellipseX = -0.5 * ellipseW;\n  var ellipseY = 0;\n\n  var path = [];\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createEllipsePath)(ellipseX, ellipseY, ellipseW, ellipseH, false, path);\n\n  return path;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0YsUUFBUTtFQUM1QixJQUFJRyxRQUFRLEdBQUcsQ0FBQzs7RUFFaEIsSUFBSWpCLElBQUksR0FBRyxFQUFFO0VBQ2IzQixvRUFBaUIsQ0FBQzJDLFFBQVEsRUFBRUMsUUFBUSxFQUFFSCxRQUFRLEVBQUVDLFFBQVEsRUFBRSxLQUFLLEVBQUVmLElBQUksQ0FBQzs7RUFFdEUsT0FBT0EsSUFBSTtBQUNmLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9NYXJrdXBDaXJjbGUuanM/YzM3NiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IE1hcmt1cCB9IGZyb20gJy4vTWFya3VwJztcbmltcG9ydCAqIGFzIE1hcmt1cFR5cGVzIGZyb20gJy4vTWFya3VwVHlwZXMnO1xuaW1wb3J0IHsgY3JlYXRlTWFya3VwUGF0aFN2ZywgY29tcG9zZVJHQkFTdHJpbmcsIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnLFxuICAgICAgICB1cGRhdGVNYXJrdXBQYXRoU3ZnSGl0YXJlYSwgYWRkTWFya3VwTWV0YWRhdGEsIGNyZWF0ZUVsbGlwc2VQYXRoIH0gZnJvbSAnLi9NYXJrdXBzQ29yZVV0aWxzJztcbmltcG9ydCB7IGNsb25lU3R5bGUgfSBmcm9tICcuL1N0eWxlVXRpbHMnO1xuaW1wb3J0IHsgRWRpdE1vZGVDaXJjbGUgfSBmcm9tICcuL2VkaXQtbW9kZXMvRWRpdE1vZGVDaXJjbGUnO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaWRcbiAgICAgKiBAcGFyYW0gZWRpdG9yXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIE1hcmt1cENpcmNsZShpZCwgZWRpdG9yKSB7XG5cbiAgICAgICAgdmFyIHN0eWxlQXR0cmlidXRlcyA9IFsnc3Ryb2tlLXdpZHRoJywgJ3N0cm9rZS1jb2xvcicsICdzdHJva2Utb3BhY2l0eScsICdmaWxsLWNvbG9yJywgJ2ZpbGwtb3BhY2l0eSddO1xuICAgICAgICBNYXJrdXAuY2FsbCh0aGlzLCBpZCwgZWRpdG9yLCBzdHlsZUF0dHJpYnV0ZXMpO1xuXG4gICAgICAgIC8vIGJpbmQgdG8gdGhpcyB0byBwYXNzIHRoaXMuZ2xvYmFsTWFuYWdlclxuICAgICAgICB0aGlzLmFkZE1hcmt1cE1ldGFkYXRhID0gYWRkTWFya3VwTWV0YWRhdGEuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLnR5cGUgPSBNYXJrdXBUeXBlcy5NQVJLVVBfVFlQRV9DSVJDTEU7XG4gICAgICAgIHRoaXMuc2hhcGUgPSBjcmVhdGVNYXJrdXBQYXRoU3ZnKCk7XG5cbiAgICAgICAgdGhpcy5iaW5kRG9tRXZlbnRzKCk7XG4gICAgfVxuXG4gICAgTWFya3VwQ2lyY2xlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTWFya3VwLnByb3RvdHlwZSk7XG4gICAgTWFya3VwQ2lyY2xlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE1hcmt1cENpcmNsZTtcblxuICAgIHZhciBwcm90byA9IE1hcmt1cENpcmNsZS5wcm90b3R5cGU7XG5cbiAgICBwcm90by5nZXRFZGl0TW9kZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHJldHVybiBuZXcgRWRpdE1vZGVDaXJjbGUodGhpcy5lZGl0b3IpO1xuICAgIH07XG5cbiAgICBwcm90by5zZXQgPSBmdW5jdGlvbihwb3NpdGlvbiwgc2l6ZSkge1xuXG4gICAgICAgIHRoaXMuc2V0U2l6ZShwb3NpdGlvbiwgc2l6ZS54LCBzaXplLnkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGRhdGEgdmFsdWVzIGludG8gRE9NIGVsZW1lbnQgc3R5bGUvYXR0cmlidXRlKHMpXG4gICAgICpcbiAgICAgKi9cbiAgICBwcm90by51cGRhdGVTdHlsZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuc3R5bGU7XG4gICAgICAgIHZhciBzaGFwZSA9IHRoaXMuc2hhcGU7XG4gICAgICAgIHZhciBwYXRoID0gdGhpcy5nZXRQYXRoKCkuam9pbignICcpO1xuXG4gICAgICAgIHZhciBzdHJva2VXaWR0aCA9IHRoaXMuc3R5bGVbJ3N0cm9rZS13aWR0aCddO1xuICAgICAgICB2YXIgc3Ryb2tlQ29sb3IgPSB0aGlzLmhpZ2hsaWdodGVkID8gdGhpcy5oaWdobGlnaHRDb2xvciA6IGNvbXBvc2VSR0JBU3RyaW5nKHN0eWxlWydzdHJva2UtY29sb3InXSwgc3R5bGVbJ3N0cm9rZS1vcGFjaXR5J10pO1xuICAgICAgICB2YXIgZmlsbENvbG9yID0gY29tcG9zZVJHQkFTdHJpbmcoc3R5bGVbJ2ZpbGwtY29sb3InXSwgc3R5bGVbJ2ZpbGwtb3BhY2l0eSddKTtcbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9IHRoaXMuZ2V0VHJhbnNmb3JtKCk7XG5cbiAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcoc2hhcGUsICdkJywgcGF0aCk7XG4gICAgICAgIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnKHNoYXBlLCAnc3Ryb2tlLXdpZHRoJywgc3Ryb2tlV2lkdGgpO1xuICAgICAgICBzZXRBdHRyaWJ1dGVUb01hcmt1cFN2ZyhzaGFwZSwgJ3N0cm9rZScsIHN0cm9rZUNvbG9yKTtcbiAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcoc2hhcGUsICdmaWxsJywgZmlsbENvbG9yKTtcbiAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcoc2hhcGUsICd0cmFuc2Zvcm0nLCB0cmFuc2Zvcm0pO1xuICAgICAgICB1cGRhdGVNYXJrdXBQYXRoU3ZnSGl0YXJlYShzaGFwZSwgdGhpcy5lZGl0b3IpO1xuICAgIH07XG5cbiAgICBwcm90by5zZXRNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBtZXRhZGF0YSA9IGNsb25lU3R5bGUodGhpcy5zdHlsZSk7XG5cbiAgICAgICAgbWV0YWRhdGEudHlwZSA9IHRoaXMudHlwZTtcbiAgICAgICAgbWV0YWRhdGEucG9zaXRpb24gPSBbdGhpcy5wb3NpdGlvbi54LCB0aGlzLnBvc2l0aW9uLnldLmpvaW4oXCIgXCIpO1xuICAgICAgICBtZXRhZGF0YS5zaXplID0gW3RoaXMuc2l6ZS54LCB0aGlzLnNpemUueV0uam9pbihcIiBcIik7XG4gICAgICAgIG1ldGFkYXRhLnJvdGF0aW9uID0gU3RyaW5nKHRoaXMucm90YXRpb24pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmFkZE1hcmt1cE1ldGFkYXRhKHRoaXMuc2hhcGUsIG1ldGFkYXRhKTtcbiAgICB9O1xuXG4gICAgcHJvdG8uZ2V0UGF0aCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBzaXplID0gdGhpcy5zaXplO1xuICAgICAgICBpZiAoc2l6ZS54ID09PSAxIHx8IHNpemUueSA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIFsnJ107XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3Ryb2tlV2lkdGggPSB0aGlzLnN0eWxlWydzdHJva2Utd2lkdGgnXTtcblxuICAgICAgICB2YXIgZWxsaXBzZVcgPSBzaXplLnggLSBzdHJva2VXaWR0aDtcbiAgICAgICAgdmFyIGVsbGlwc2VIID0gc2l6ZS55IC0gc3Ryb2tlV2lkdGg7XG5cbiAgICAgICAgdmFyIGVsbGlwc2VYID0gLTAuNSplbGxpcHNlVztcbiAgICAgICAgdmFyIGVsbGlwc2VZID0gMDtcblxuICAgICAgICB2YXIgcGF0aCA9IFtdO1xuICAgICAgICBjcmVhdGVFbGxpcHNlUGF0aChlbGxpcHNlWCwgZWxsaXBzZVksIGVsbGlwc2VXLCBlbGxpcHNlSCwgZmFsc2UsIHBhdGgpO1xuXG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgIH07XG4iXSwibmFtZXMiOlsiTWFya3VwIiwiTWFya3VwVHlwZXMiLCJjcmVhdGVNYXJrdXBQYXRoU3ZnIiwiY29tcG9zZVJHQkFTdHJpbmciLCJzZXRBdHRyaWJ1dGVUb01hcmt1cFN2ZyIsInVwZGF0ZU1hcmt1cFBhdGhTdmdIaXRhcmVhIiwiYWRkTWFya3VwTWV0YWRhdGEiLCJjcmVhdGVFbGxpcHNlUGF0aCIsImNsb25lU3R5bGUiLCJFZGl0TW9kZUNpcmNsZSIsIk1hcmt1cENpcmNsZSIsImlkIiwiZWRpdG9yIiwic3R5bGVBdHRyaWJ1dGVzIiwiY2FsbCIsImJpbmQiLCJ0eXBlIiwiTUFSS1VQX1RZUEVfQ0lSQ0xFIiwic2hhcGUiLCJiaW5kRG9tRXZlbnRzIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJwcm90byIsImdldEVkaXRNb2RlIiwic2V0IiwicG9zaXRpb24iLCJzaXplIiwic2V0U2l6ZSIsIngiLCJ5IiwidXBkYXRlU3R5bGUiLCJzdHlsZSIsInBhdGgiLCJnZXRQYXRoIiwiam9pbiIsInN0cm9rZVdpZHRoIiwic3Ryb2tlQ29sb3IiLCJoaWdobGlnaHRlZCIsImhpZ2hsaWdodENvbG9yIiwiZmlsbENvbG9yIiwidHJhbnNmb3JtIiwiZ2V0VHJhbnNmb3JtIiwic2V0TWV0YWRhdGEiLCJtZXRhZGF0YSIsInJvdGF0aW9uIiwiU3RyaW5nIiwiZWxsaXBzZVciLCJlbGxpcHNlSCIsImVsbGlwc2VYIiwiZWxsaXBzZVkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/MarkupCircle.js\n");

/***/ }),

/***/ "./extensions/Markup/core/MarkupCloud.js":
/*!***********************************************!*\
  !*** ./extensions/Markup/core/MarkupCloud.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MarkupCloud: () => (/* binding */ MarkupCloud)\n/* harmony export */ });\n/* harmony import */ var _Markup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Markup */ \"./extensions/Markup/core/Markup.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n/* harmony import */ var _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MarkupsCoreUtils */ \"./extensions/Markup/core/MarkupsCoreUtils.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n/* harmony import */ var _edit_modes_EditModeCloud__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./edit-modes/EditModeCloud */ \"./extensions/Markup/core/edit-modes/EditModeCloud.js\");\n\n\n\n\n\n\n\n\n/**\n *\n * @param id\n * @param editor\n * @constructor\n */\nfunction MarkupCloud(id, editor) {\n\n  var styleAttributes = ['stroke-width', 'stroke-linejoin', 'stroke-color', 'stroke-opacity', 'fill-color', 'fill-opacity'];\n  _Markup__WEBPACK_IMPORTED_MODULE_0__.Markup.call(this, id, editor, styleAttributes);\n\n  // bind to this to pass this.globalManager\n  this.addMarkupMetadata = _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.addMarkupMetadata.bind(this);\n\n  this.type = _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__.MARKUP_TYPE_CLOUD;\n  this.shape = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createMarkupPathSvg)();\n\n  this.bindDomEvents();\n}\n\nMarkupCloud.prototype = Object.create(_Markup__WEBPACK_IMPORTED_MODULE_0__.Markup.prototype);\nMarkupCloud.prototype.constructor = MarkupCloud;\n\nvar proto = MarkupCloud.prototype;\n\nproto.getEditMode = function () {\n\n  return new _edit_modes_EditModeCloud__WEBPACK_IMPORTED_MODULE_4__.EditModeCloud(this.editor);\n};\n\n/**\n * Sets position and size in markup space coordinates.\n * @param {Object} position\n * @param {Object} size\n */\nproto.set = function (position, size) {\n\n  this.setSize(position, size.x, size.y);\n};\n\n/**\n * Applies data values into DOM element style/attribute(s)\n *\n */\nproto.updateStyle = function () {\n\n  var style = this.style;\n  var shape = this.shape;\n  var path = this.getPath().join(' ');\n\n  var strokeWidth = this.style['stroke-width'];\n  var strokeColor = this.highlighted ? this.highlightColor : (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.composeRGBAString)(style['stroke-color'], style['stroke-opacity']);\n  var fillColor = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.composeRGBAString)(style['fill-color'], style['fill-opacity']);\n  var transform = this.getTransform();\n\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'd', path);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'stroke-width', strokeWidth);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'stroke', strokeColor);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'fill', fillColor);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'transform', transform);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.updateMarkupPathSvgHitarea)(shape, this.editor);\n};\n\nproto.setMetadata = function () {\n\n  var metadata = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_3__.cloneStyle)(this.style);\n\n  metadata.type = this.type;\n  metadata.position = [this.position.x, this.position.y].join(\" \");\n  metadata.size = [this.size.x, this.size.y].join(\" \");\n  metadata.rotation = String(this.rotation);\n\n  return this.addMarkupMetadata(this.shape, metadata);\n};\n\n/**\n * Helper function that creates intermediate points given the\n * current position and size.\n * @returns {Array}\n */\nproto.getPath = function () {\n\n  var position = this.position;\n  var size = this.size;\n  var strokeWidth = this.style['stroke-width'];\n  var radius = strokeWidth * 2;\n\n  function createArcTo(x, y, xRadius, yRadius, path) {\n\n    path.push('a');\n    path.push(xRadius);\n    path.push(yRadius);\n    path.push(0);\n    path.push(1);\n    path.push(1);\n    path.push(x);\n    path.push(y);\n\n    return path;\n  }\n\n  function createCorner(corner, xRadius, yRadius, strokeWidth, path) {\n\n    switch (corner) {\n\n      case 'LT':\n        return createArcTo(xRadius, -yRadius, xRadius, yRadius, path);\n\n      case 'RT':\n        return createArcTo(xRadius, yRadius, xRadius, yRadius, path);\n\n      case 'RB':\n        return createArcTo(-xRadius, yRadius, xRadius, yRadius, path);\n\n      case 'LB':\n        return createArcTo(-xRadius, -yRadius, xRadius, yRadius, path);\n    }\n  }\n\n  function getSideParameters(x1, x2, radius, strokeWidth) {\n\n    var diameter = radius * 2;\n    var length = Math.abs(x2 - x1 - strokeWidth);\n    var count = Math.round(length / diameter);\n\n    diameter += (length - diameter * count) / count;\n    radius = diameter * 0.5;\n\n    var xValueInset = diameter * 0.05;\n    var yValueOffset = radius * 3.5 / 3.0;\n\n    return {\n      count: count,\n      radius: radius,\n      diameter: diameter,\n      p1: { x: xValueInset, y: -yValueOffset },\n      p2: { x: diameter - xValueInset, y: -yValueOffset },\n      p3: { x: diameter, y: 0 }\n    };\n  }\n\n  function createTSide(hSidesParameters, path) {\n\n    var sp = hSidesParameters;\n    for (var i = 0; i < sp.count; ++i) {\n\n      path.push('c');\n      path.push(sp.p1.x);\n      path.push(sp.p1.y);\n      path.push(sp.p2.x);\n      path.push(sp.p2.y);\n      path.push(sp.p3.x);\n      path.push(sp.p3.y);\n    }\n\n    return path;\n  }\n\n  function createRSide(vSidesParameters, path) {\n\n    var sp = vSidesParameters;\n    for (var i = 0; i < sp.count; ++i) {\n      path.push('c');\n      path.push(-sp.p1.y);\n      path.push(sp.p1.x);\n      path.push(-sp.p2.y);\n      path.push(sp.p2.x);\n      path.push(-sp.p3.y);\n      path.push(sp.p3.x);\n    }\n\n    return path;\n  }\n\n  function createBSide(hSidesParameters, path) {\n\n    var sp = hSidesParameters;\n    for (var i = 0; i < sp.count; ++i) {\n      path.push('c');\n      path.push(-sp.p1.x);\n      path.push(-sp.p1.y);\n      path.push(-sp.p2.x);\n      path.push(-sp.p2.y);\n      path.push(-sp.p3.x);\n      path.push(-sp.p3.y);\n    }\n\n    return path;\n  }\n\n  function createLSide(vSidesParameters, path) {\n\n    var sp = vSidesParameters;\n    for (var i = 0; i < sp.count; ++i) {\n      path.push('c');\n      path.push(sp.p1.y);\n      path.push(-sp.p1.x);\n      path.push(sp.p2.y);\n      path.push(-sp.p2.x);\n      path.push(sp.p3.y);\n      path.push(-sp.p3.x);\n    }\n\n    return path;\n  }\n\n  var l = position.x;\n  var t = position.y;\n  var r = position.x + size.x;\n  var b = position.y + size.y;\n\n  var minSize = radius * 5;\n  var path = [];\n\n  if (size.x < minSize || size.y < minSize) {\n\n    var w = size.x - strokeWidth;\n    var h = size.y - strokeWidth;\n    var x = -w * 0.5;\n    var y = 0;\n\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createEllipsePath)(x, y, w, h, false, path);\n  } else {\n\n    var hSidesParameters = getSideParameters(l, r, radius, strokeWidth);\n    var vSidesParameters = getSideParameters(t, b, radius, strokeWidth);\n\n    var cornerSizeX = hSidesParameters.diameter;\n    var cornerSizeY = vSidesParameters.diameter;\n    var cornerRadiusX = hSidesParameters.radius;\n    var cornerRadiusY = vSidesParameters.radius;\n\n    hSidesParameters = getSideParameters(l + cornerSizeX, r - cornerSizeX, radius, strokeWidth);\n    vSidesParameters = getSideParameters(t + cornerSizeY, b - cornerSizeY, radius, strokeWidth);\n\n    var halfStrokeWidth = strokeWidth * 0.5;\n    let x = -size.x * 0.5 + halfStrokeWidth + cornerRadiusX;\n    let y = -size.y * 0.5 + halfStrokeWidth + cornerRadiusY * 2;\n\n    path.push('M');\n    path.push(x);\n    path.push(y);\n\n    createCorner('LT', cornerRadiusX, cornerRadiusY, strokeWidth, path);\n    createTSide(hSidesParameters, path);\n    createCorner('RT', cornerRadiusX, cornerRadiusY, strokeWidth, path);\n    createRSide(vSidesParameters, path);\n    createCorner('RB', cornerRadiusX, cornerRadiusY, strokeWidth, path);\n    createBSide(hSidesParameters, path);\n    createCorner('LB', cornerRadiusX, cornerRadiusY, strokeWidth, path);\n    createLSide(vSidesParameters, path);\n  }\n\n  path.push('z');\n  return path;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL01hcmt1cENsb3VkLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFhOztBQUVxQjtBQUNXO0FBRW9EO0FBQ3ZEO0FBQ2lCOztBQUV2RDtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTVSxXQUFXQSxDQUFDQyxFQUFFLEVBQUVDLE1BQU0sRUFBRTs7RUFFcEMsSUFBSUMsZUFBZSxHQUFHLENBQUMsY0FBYyxFQUFFLGlCQUFpQixFQUFFLGNBQWMsRUFBRSxnQkFBZ0IsRUFBRSxZQUFZLEVBQUUsY0FBYyxDQUFDO0VBQ3pIYiwyQ0FBTSxDQUFDYyxJQUFJLENBQUMsSUFBSSxFQUFFSCxFQUFFLEVBQUVDLE1BQU0sRUFBRUMsZUFBZSxDQUFDOztFQUU5QztFQUNBLElBQUksQ0FBQ1AsaUJBQWlCLEdBQUdBLGdFQUFpQixDQUFDUyxJQUFJLENBQUMsSUFBSSxDQUFDOztFQUVyRCxJQUFJLENBQUNDLElBQUksR0FBR2YsMkRBQTZCO0VBQ3pDLElBQUksQ0FBQ2lCLEtBQUssR0FBR2hCLHNFQUFtQixDQUFDLENBQUM7O0VBRWxDLElBQUksQ0FBQ2lCLGFBQWEsQ0FBQyxDQUFDO0FBQ3hCOztBQUVBVCxXQUFXLENBQUNVLFNBQVMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUN0QiwyQ0FBTSxDQUFDb0IsU0FBUyxDQUFDO0FBQ3ZEVixXQUFXLENBQUNVLFNBQVMsQ0FBQ0csV0FBVyxHQUFHYixXQUFXOztBQUUvQyxJQUFJYyxLQUFLLEdBQUdkLFdBQVcsQ0FBQ1UsU0FBUzs7QUFFakNJLEtBQUssQ0FBQ0MsV0FBVyxHQUFHLFlBQVc7O0VBRTNCLE9BQU8sSUFBSWhCLG9FQUFhLENBQUMsSUFBSSxDQUFDRyxNQUFNLENBQUM7QUFDekMsQ0FBQzs7QUFFRDtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0lZLEtBQUssQ0FBQ0UsR0FBRyxHQUFHLFVBQVNDLFFBQVEsRUFBRUMsSUFBSSxFQUFFOztFQUVqQyxJQUFJLENB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RCxlQUFlLEdBQUdGLGFBQWE7SUFDdEQsSUFBSXZELENBQUMsR0FBRSxDQUFDSCxJQUFJLENBQUNHLENBQUMsR0FBRyxHQUFHLEdBQUd5RCxlQUFlLEdBQUdELGFBQWEsR0FBRyxDQUFDOztJQUUxRHJELElBQUksQ0FBQ2tCLElBQUksQ0FBQyxHQUFHLENBQUM7SUFDZGxCLElBQUksQ0FBQ2tCLElBQUksQ0FBQ3RCLENBQUMsQ0FBQztJQUNaSSxJQUFJLENBQUNrQixJQUFJLENBQUNyQixDQUFDLENBQUM7O0lBRVpzQixZQUFZLENBQUMsSUFBSSxFQUFFaUMsYUFBYSxFQUFFQyxhQUFhLEVBQUVsRCxXQUFXLEVBQUVILElBQUksQ0FBQztJQUNuRW1DLFdBQVcsQ0FBQ0MsZ0JBQWdCLEVBQUVwQyxJQUFJLENBQUM7SUFDbkNtQixZQUFZLENBQUMsSUFBSSxFQUFFaUMsYUFBYSxFQUFFQyxhQUFhLEVBQUVsRCxXQUFXLEVBQUVILElBQUksQ0FBQztJQUNuRXVDLFdBQVcsQ0FBQ0MsZ0JBQWdCLEVBQUV4QyxJQUFJLENBQUM7SUFDbkNtQixZQUFZLENBQUMsSUFBSSxFQUFFaUMsYUFBYSxFQUFFQyxhQUFhLEVBQUVsRCxXQUFXLEVBQUVILElBQUksQ0FBQztJQUNuRXlDLFdBQVcsQ0FBQ0wsZ0JBQWdCLEVBQUVwQyxJQUFJLENBQUM7SUFDbkNtQixZQUFZLENBQUMsSUFBSSxFQUFFaUMsYUFBYSxFQUFFQyxhQUFhLEVBQUVsRCxXQUFXLEVBQUVILElBQUksQ0FBQztJQUNuRTBDLFdBQVcsQ0FBQ0YsZ0JBQWdCLEVBQUV4QyxJQUFJLENBQUM7RUFDdkM7O0VBRUFBLElBQUksQ0FBQ2tCLElBQUksQ0FBQyxHQUFHLENBQUM7RUFDZCxPQUFPbEIsSUFBSTtBQUNmLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9NYXJrdXBDbG91ZC5qcz84NmI5Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgTWFya3VwIH0gZnJvbSAnLi9NYXJrdXAnO1xuaW1wb3J0ICogYXMgTWFya3VwVHlwZXMgZnJvbSAnLi9NYXJrdXBUeXBlcyc7XG5pbXBvcnQgeyBjcmVhdGVNYXJrdXBQYXRoU3ZnLCBjb21wb3NlUkdCQVN0cmluZywgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcsXG4gICAgdXBkYXRlTWFya3VwUGF0aFN2Z0hpdGFyZWEsIGFkZE1hcmt1cE1ldGFkYXRhLCBjcmVhdGVFbGxpcHNlUGF0aCB9IGZyb20gJy4vTWFya3Vwc0NvcmVVdGlscyc7XG5pbXBvcnQgeyBjbG9uZVN0eWxlIH0gZnJvbSAnLi9TdHlsZVV0aWxzJztcbmltcG9ydCB7IEVkaXRNb2RlQ2xvdWQgfSBmcm9tICcuL2VkaXQtbW9kZXMvRWRpdE1vZGVDbG91ZCc7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZFxuICAgICAqIEBwYXJhbSBlZGl0b3JcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gTWFya3VwQ2xvdWQoaWQsIGVkaXRvcikge1xuXG4gICAgICAgIHZhciBzdHlsZUF0dHJpYnV0ZXMgPSBbJ3N0cm9rZS13aWR0aCcsICdzdHJva2UtbGluZWpvaW4nLCAnc3Ryb2tlLWNvbG9yJywgJ3N0cm9rZS1vcGFjaXR5JywgJ2ZpbGwtY29sb3InLCAnZmlsbC1vcGFjaXR5J107XG4gICAgICAgIE1hcmt1cC5jYWxsKHRoaXMsIGlkLCBlZGl0b3IsIHN0eWxlQXR0cmlidXRlcyk7XG5cbiAgICAgICAgLy8gYmluZCB0byB0aGlzIHRvIHBhc3MgdGhpcy5nbG9iYWxNYW5hZ2VyXG4gICAgICAgIHRoaXMuYWRkTWFya3VwTWV0YWRhdGEgPSBhZGRNYXJrdXBNZXRhZGF0YS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMudHlwZSA9IE1hcmt1cFR5cGVzLk1BUktVUF9UWVBFX0NMT1VEO1xuICAgICAgICB0aGlzLnNoYXBlID0gY3JlYXRlTWFya3VwUGF0aFN2ZygpO1xuXG4gICAgICAgIHRoaXMuYmluZERvbUV2ZW50cygpO1xuICAgIH1cblxuICAgIE1hcmt1cENsb3VkLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTWFya3VwLnByb3RvdHlwZSk7XG4gICAgTWFya3VwQ2xvdWQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTWFya3VwQ2xvdWQ7XG5cbiAgICB2YXIgcHJvdG8gPSBNYXJrdXBDbG91ZC5wcm90b3R5cGU7XG5cbiAgICBwcm90by5nZXRFZGl0TW9kZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHJldHVybiBuZXcgRWRpdE1vZGVDbG91ZCh0aGlzLmVkaXRvcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgcG9zaXRpb24gYW5kIHNpemUgaW4gbWFya3VwIHNwYWNlIGNvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzaXplXG4gICAgICovXG4gICAgcHJvdG8uc2V0ID0gZnVuY3Rpb24ocG9zaXRpb24sIHNpemUpIHtcblxuICAgICAgICB0aGlzLnNldFNpemUocG9zaXRpb24sIHNpemUueCwgc2l6ZS55KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBkYXRhIHZhbHVlcyBpbnRvIERPTSBlbGVtZW50IHN0eWxlL2F0dHJpYnV0ZShzKVxuICAgICAqXG4gICAgICovXG4gICAgcHJvdG8udXBkYXRlU3R5bGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLnN0eWxlO1xuICAgICAgICB2YXIgc2hhcGUgPSB0aGlzLnNoYXBlO1xuICAgICAgICB2YXIgcGF0aCA9IHRoaXMuZ2V0UGF0aCgpLmpvaW4oJyAnKTtcblxuICAgICAgICB2YXIgc3Ryb2tlV2lkdGggPSB0aGlzLnN0eWxlWydzdHJva2Utd2lkdGgnXTtcbiAgICAgICAgdmFyIHN0cm9rZUNvbG9yID0gdGhpcy5oaWdobGlnaHRlZCA/IHRoaXMuaGlnaGxpZ2h0Q29sb3IgOiBjb21wb3NlUkdCQVN0cmluZyhzdHlsZVsnc3Ryb2tlLWNvbG9yJ10sIHN0eWxlWydzdHJva2Utb3BhY2l0eSddKTtcbiAgICAgICAgdmFyIGZpbGxDb2xvciA9IGNvbXBvc2VSR0JBU3RyaW5nKHN0eWxlWydmaWxsLWNvbG9yJ10sIHN0eWxlWydmaWxsLW9wYWNpdHknXSk7XG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSB0aGlzLmdldFRyYW5zZm9ybSgpO1xuXG4gICAgICAgIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnKHNoYXBlLCAnZCcsIHBhdGgpO1xuICAgICAgICBzZXRBdHRyaWJ1dGVUb01hcmt1cFN2ZyhzaGFwZSwgJ3N0cm9rZS13aWR0aCcsIHN0cm9rZVdpZHRoKTtcbiAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcoc2hhcGUsICdzdHJva2UnLCBzdHJva2VDb2xvcik7XG4gICAgICAgIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnKHNoYXBlLCAnZmlsbCcsIGZpbGxDb2xvcik7XG4gICAgICAgIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnKHNoYXBlLCAndHJhbnNmb3JtJywgdHJhbnNmb3JtKTtcbiAgICAgICAgdXBkYXRlTWFya3VwUGF0aFN2Z0hpdGFyZWEoc2hhcGUsIHRoaXMuZWRpdG9yKTtcbiAgICB9O1xuXG4gICAgcHJvdG8uc2V0TWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgbWV0YWRhdGEgPSBjbG9uZVN0eWxlKHRoaXMuc3R5bGUpO1xuXG4gICAgICAgIG1ldGFkYXRhLnR5cGUgPSB0aGlzLnR5cGU7XG4gICAgICAgIG1ldGFkYXRhLnBvc2l0aW9uID0gW3RoaXMucG9zaXRpb24ueCwgdGhpcy5wb3NpdGlvbi55XS5qb2luKFwiIFwiKTtcbiAgICAgICAgbWV0YWRhdGEuc2l6ZSA9IFt0aGlzLnNpemUueCwgdGhpcy5zaXplLnldLmpvaW4oXCIgXCIpO1xuICAgICAgICBtZXRhZGF0YS5yb3RhdGlvbiA9IFN0cmluZyh0aGlzLnJvdGF0aW9uKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5hZGRNYXJrdXBNZXRhZGF0YSh0aGlzLnNoYXBlLCBtZXRhZGF0YSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgaW50ZXJtZWRpYXRlIHBvaW50cyBnaXZlbiB0aGVcbiAgICAgKiBjdXJyZW50IHBvc2l0aW9uIGFuZCBzaXplLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgKi9cbiAgICBwcm90by5nZXRQYXRoID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbjtcbiAgICAgICAgdmFyIHNpemUgPSB0aGlzLnNpemU7XG4gICAgICAgIHZhciBzdHJva2VXaWR0aCA9IHRoaXMuc3R5bGVbJ3N0cm9rZS13aWR0aCddO1xuICAgICAgICB2YXIgcmFkaXVzID0gc3Ryb2tlV2lkdGggKiAyO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUFyY1RvKHgsIHksIHhSYWRpdXMsIHlSYWRpdXMsIHBhdGgpIHtcblxuICAgICAgICAgICAgcGF0aC5wdXNoKCdhJyk7XG4gICAgICAgICAgICBwYXRoLnB1c2goeFJhZGl1cyk7XG4gICAgICAgICAgICBwYXRoLnB1c2goeVJhZGl1cyk7XG4gICAgICAgICAgICBwYXRoLnB1c2goMCk7XG4gICAgICAgICAgICBwYXRoLnB1c2goMSk7XG4gICAgICAgICAgICBwYXRoLnB1c2goMSk7XG4gICAgICAgICAgICBwYXRoLnB1c2goeCk7XG4gICAgICAgICAgICBwYXRoLnB1c2goeSk7XG5cbiAgICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQ29ybmVyKGNvcm5lciwgeFJhZGl1cywgeVJhZGl1cywgc3Ryb2tlV2lkdGgsIHBhdGgpIHtcblxuICAgICAgICAgICAgc3dpdGNoKGNvcm5lcikge1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnTFQnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQXJjVG8oIHhSYWRpdXMsLXlSYWRpdXMsIHhSYWRpdXMsIHlSYWRpdXMsIHBhdGgpO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnUlQnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQXJjVG8oIHhSYWRpdXMsIHlSYWRpdXMsIHhSYWRpdXMsIHlSYWRpdXMsIHBhdGgpO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnUkInOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQXJjVG8oLXhSYWRpdXMsIHlSYWRpdXMsIHhSYWRpdXMsIHlSYWRpdXMsIHBhdGgpO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnTEInOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQXJjVG8oLXhSYWRpdXMsLXlSYWRpdXMsIHhSYWRpdXMsIHlSYWRpdXMsIHBhdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0U2lkZVBhcmFtZXRlcnMoeDEsIHgyLCByYWRpdXMsIHN0cm9rZVdpZHRoKSB7XG5cbiAgICAgICAgICAgIHZhciBkaWFtZXRlciA9IHJhZGl1cyAqIDI7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gTWF0aC5hYnMoeDIgLSB4MSAtIHN0cm9rZVdpZHRoKTtcbiAgICAgICAgICAgIHZhciBjb3VudCA9IE1hdGgucm91bmQobGVuZ3RoIC8gZGlhbWV0ZXIpO1xuXG4gICAgICAgICAgICBkaWFtZXRlciArPSAobGVuZ3RoIC0gZGlhbWV0ZXIgKiBjb3VudCkgLyBjb3VudDtcbiAgICAgICAgICAgIHJhZGl1cyA9IGRpYW1ldGVyICogMC41O1xuXG4gICAgICAgICAgICB2YXIgeFZhbHVlSW5zZXQgPSBkaWFtZXRlciAqIDAuMDU7XG4gICAgICAgICAgICB2YXIgeVZhbHVlT2Zmc2V0ID0gcmFkaXVzICogMy41IC8gMy4wO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNvdW50OiBjb3VudCxcbiAgICAgICAgICAgICAgICByYWRpdXM6IHJhZGl1cyxcbiAgICAgICAgICAgICAgICBkaWFtZXRlcjogZGlhbWV0ZXIsXG4gICAgICAgICAgICAgICAgcDE6IHt4OiB4VmFsdWVJbnNldCwgeTogLXlWYWx1ZU9mZnNldCB9LFxuICAgICAgICAgICAgICAgIHAyOiB7eDogZGlhbWV0ZXIgLSB4VmFsdWVJbnNldCwgeTogLXlWYWx1ZU9mZnNldH0sXG4gICAgICAgICAgICAgICAgcDM6IHt4OiBkaWFtZXRlciwgeTogMH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVUU2lkZShoU2lkZXNQYXJhbWV0ZXJzLCBwYXRoKXtcblxuICAgICAgICAgICAgdmFyIHNwID0gaFNpZGVzUGFyYW1ldGVycztcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBzcC5jb3VudDsgKytpKSB7XG5cbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goJ2MnKTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goc3AucDEueCk7XG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKHNwLnAxLnkpO1xuICAgICAgICAgICAgICAgIHBhdGgucHVzaChzcC5wMi54KTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goc3AucDIueSk7XG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKHNwLnAzLngpO1xuICAgICAgICAgICAgICAgIHBhdGgucHVzaChzcC5wMy55KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVSU2lkZSh2U2lkZXNQYXJhbWV0ZXJzLCBwYXRoKXtcblxuICAgICAgICAgICAgdmFyIHNwID0gdlNpZGVzUGFyYW1ldGVycztcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBzcC5jb3VudDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKCdjJyk7XG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKC1zcC5wMS55KTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goc3AucDEueCk7XG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKC1zcC5wMi55KTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goc3AucDIueCk7XG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKC1zcC5wMy55KTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goc3AucDMueCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQlNpZGUoaFNpZGVzUGFyYW1ldGVycywgcGF0aCl7XG5cbiAgICAgICAgICAgIHZhciBzcCA9IGhTaWRlc1BhcmFtZXRlcnM7XG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgc3AuY291bnQ7ICsraSkge1xuICAgICAgICAgICAgICAgIHBhdGgucHVzaCgnYycpO1xuICAgICAgICAgICAgICAgIHBhdGgucHVzaCgtc3AucDEueCk7XG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKC1zcC5wMS55KTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goLXNwLnAyLngpO1xuICAgICAgICAgICAgICAgIHBhdGgucHVzaCgtc3AucDIueSk7XG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKC1zcC5wMy54KTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goLXNwLnAzLnkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUxTaWRlKHZTaWRlc1BhcmFtZXRlcnMsIHBhdGgpe1xuXG4gICAgICAgICAgICB2YXIgc3AgPSB2U2lkZXNQYXJhbWV0ZXJzO1xuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHNwLmNvdW50OyArK2kpIHtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goJ2MnKTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goc3AucDEueSk7XG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKC1zcC5wMS54KTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goc3AucDIueSk7XG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKC1zcC5wMi54KTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goc3AucDMueSk7XG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKC1zcC5wMy54KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbCA9IHBvc2l0aW9uLng7XG4gICAgICAgIHZhciB0ID0gcG9zaXRpb24ueTtcbiAgICAgICAgdmFyIHIgPSBwb3NpdGlvbi54ICsgc2l6ZS54O1xuICAgICAgICB2YXIgYiA9IHBvc2l0aW9uLnkgKyBzaXplLnk7XG5cbiAgICAgICAgdmFyIG1pblNpemUgPSByYWRpdXMgKiA1O1xuICAgICAgICB2YXIgcGF0aCA9IFtdO1xuXG4gICAgICAgIGlmIChzaXplLnggPCBtaW5TaXplIHx8IHNpemUueSA8IG1pblNpemUpIHtcblxuICAgICAgICAgICAgdmFyIHcgPSBzaXplLnggLSBzdHJva2VXaWR0aDtcbiAgICAgICAgICAgIHZhciBoID0gc2l6ZS55IC0gc3Ryb2tlV2lkdGg7XG4gICAgICAgICAgICB2YXIgeCA9IC13ICogMC41O1xuICAgICAgICAgICAgdmFyIHkgPSAwO1xuXG4gICAgICAgICAgICBjcmVhdGVFbGxpcHNlUGF0aCh4LCB5LCB3LCBoLCBmYWxzZSwgcGF0aCk7XG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHZhciBoU2lkZXNQYXJhbWV0ZXJzID0gZ2V0U2lkZVBhcmFtZXRlcnMobCwgciwgcmFkaXVzLCBzdHJva2VXaWR0aCk7XG4gICAgICAgICAgICB2YXIgdlNpZGVzUGFyYW1ldGVycyA9IGdldFNpZGVQYXJhbWV0ZXJzKHQsIGIsIHJhZGl1cywgc3Ryb2tlV2lkdGgpO1xuXG4gICAgICAgICAgICB2YXIgY29ybmVyU2l6ZVggPSBoU2lkZXNQYXJhbWV0ZXJzLmRpYW1ldGVyO1xuICAgICAgICAgICAgdmFyIGNvcm5lclNpemVZID0gdlNpZGVzUGFyYW1ldGVycy5kaWFtZXRlcjtcbiAgICAgICAgICAgIHZhciBjb3JuZXJSYWRpdXNYID0gaFNpZGVzUGFyYW1ldGVycy5yYWRpdXM7XG4gICAgICAgICAgICB2YXIgY29ybmVyUmFkaXVzWSA9IHZTaWRlc1BhcmFtZXRlcnMucmFkaXVzO1xuXG4gICAgICAgICAgICBoU2lkZXNQYXJhbWV0ZXJzID0gZ2V0U2lkZVBhcmFtZXRlcnMobCArIGNvcm5lclNpemVYLCByIC0gY29ybmVyU2l6ZVgsIHJhZGl1cywgc3Ryb2tlV2lkdGgpO1xuICAgICAgICAgICAgdlNpZGVzUGFyYW1ldGVycyA9IGdldFNpZGVQYXJhbWV0ZXJzKHQgKyBjb3JuZXJTaXplWSwgYiAtIGNvcm5lclNpemVZLCByYWRpdXMsIHN0cm9rZVdpZHRoKTtcblxuICAgICAgICAgICAgdmFyIGhhbGZTdHJva2VXaWR0aCA9IHN0cm9rZVdpZHRoICogMC41O1xuICAgICAgICAgICAgbGV0IHggPS1zaXplLnggKiAwLjUgKyBoYWxmU3Ryb2tlV2lkdGggKyBjb3JuZXJSYWRpdXNYO1xuICAgICAgICAgICAgbGV0IHkgPS1zaXplLnkgKiAwLjUgKyBoYWxmU3Ryb2tlV2lkdGggKyBjb3JuZXJSYWRpdXNZICogMjtcblxuICAgICAgICAgICAgcGF0aC5wdXNoKCdNJyk7XG4gICAgICAgICAgICBwYXRoLnB1c2goeCk7XG4gICAgICAgICAgICBwYXRoLnB1c2goeSk7XG5cbiAgICAgICAgICAgIGNyZWF0ZUNvcm5lcignTFQnLCBjb3JuZXJSYWRpdXNYLCBjb3JuZXJSYWRpdXNZLCBzdHJva2VXaWR0aCwgcGF0aCk7XG4gICAgICAgICAgICBjcmVhdGVUU2lkZShoU2lkZXNQYXJhbWV0ZXJzLCBwYXRoKTtcbiAgICAgICAgICAgIGNyZWF0ZUNvcm5lcignUlQnLCBjb3JuZXJSYWRpdXNYLCBjb3JuZXJSYWRpdXNZLCBzdHJva2VXaWR0aCwgcGF0aCk7XG4gICAgICAgICAgICBjcmVhdGVSU2lkZSh2U2lkZXNQYXJhbWV0ZXJzLCBwYXRoKTtcbiAgICAgICAgICAgIGNyZWF0ZUNvcm5lcignUkInLCBjb3JuZXJSYWRpdXNYLCBjb3JuZXJSYWRpdXNZLCBzdHJva2VXaWR0aCwgcGF0aCk7XG4gICAgICAgICAgICBjcmVhdGVCU2lkZShoU2lkZXNQYXJhbWV0ZXJzLCBwYXRoKTtcbiAgICAgICAgICAgIGNyZWF0ZUNvcm5lcignTEInLCBjb3JuZXJSYWRpdXNYLCBjb3JuZXJSYWRpdXNZLCBzdHJva2VXaWR0aCwgcGF0aCk7XG4gICAgICAgICAgICBjcmVhdGVMU2lkZSh2U2lkZXNQYXJhbWV0ZXJzLCBwYXRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhdGgucHVzaCgneicpO1xuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9O1xuIl0sIm5hbWVzIjpbIk1hcmt1cCIsIk1hcmt1cFR5cGVzIiwiY3JlYXRlTWFya3VwUGF0aFN2ZyIsImNvbXBvc2VSR0JBU3RyaW5nIiwic2V0QXR0cmlidXRlVG9NYXJrdXBTdmciLCJ1cGRhdGVNYXJrdXBQYXRoU3ZnSGl0YXJlYSIsImFkZE1hcmt1cE1ldGFkYXRhIiwiY3JlYXRlRWxsaXBzZVBhdGgiLCJjbG9uZVN0eWxlIiwiRWRpdE1vZGVDbG91ZCIsIk1hcmt1cENsb3VkIiwiaWQiLCJlZGl0b3IiLCJzdHlsZUF0dHJpYnV0ZXMiLCJjYWxsIiwiYmluZCIsInR5cGUiLCJNQVJLVVBfVFlQRV9DTE9VRCIsInNoYXBlIiwiYmluZERvbUV2ZW50cyIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwicHJvdG8iLCJnZXRFZGl0TW9kZSIsInNldCIsInBvc2l0aW9uIiwic2l6ZSIsInNldFNpemUiLCJ4IiwieSIsInVwZGF0ZVN0eWxlIiwic3R5bGUiLCJwYXRoIiwiZ2V0UGF0aCIsImpvaW4iLCJzdHJva2VXaWR0aCIsInN0cm9rZUNvbG9yIiwiaGlnaGxpZ2h0ZWQiLCJoaWdobGlnaHRDb2xvciIsImZpbGxDb2xvciIsInRyYW5zZm9ybSIsImdldFRyYW5zZm9ybSIsInNldE1ldGFkYXRhIiwibWV0YWRhdGEiLCJyb3RhdGlvbiIsIlN0cmluZyIsInJhZGl1cyIsImNyZWF0ZUFyY1RvIiwieFJhZGl1cyIsInlSYWRpdXMiLCJwdXNoIiwiY3JlYXRlQ29ybmVyIiwiY29ybmVyIiwiZ2V0U2lkZVBhcmFtZXRlcnMiLCJ4MSIsIngyIiwiZGlhbWV0ZXIiLCJsZW5ndGgiLCJNYXRoIiwiYWJzIiwiY291bnQiLCJyb3VuZCIsInhWYWx1ZUluc2V0IiwieVZhbHVlT2Zmc2V0IiwicDEiLCJwMiIsInAzIiwiY3JlYXRlVFNpZGUiLCJoU2lkZXNQYXJhbWV0ZXJzIiwic3AiLCJpIiwiY3JlYXRlUlNpZGUiLCJ2U2lkZXNQYXJhbWV0ZXJzIiwiY3JlYXRlQlNpZGUiLCJjcmVhdGVMU2lkZSIsImwiLCJ0IiwiciIsImIiLCJtaW5TaXplIiwidyIsImgiLCJjb3JuZXJTaXplWCIsImNvcm5lclNpemVZIiwiY29ybmVyUmFkaXVzWCIsImNvcm5lclJhZGl1c1kiLCJoYWxmU3Ryb2tlV2lkdGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/MarkupCloud.js\n");

/***/ }),

/***/ "./extensions/Markup/core/MarkupDimension.js":
/*!***************************************************!*\
  !*** ./extensions/Markup/core/MarkupDimension.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MarkupDimension: () => (/* binding */ MarkupDimension)\n/* harmony export */ });\n/* harmony import */ var _Markup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Markup */ \"./extensions/Markup/core/Markup.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n/* harmony import */ var _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MarkupsCoreUtils */ \"./extensions/Markup/core/MarkupsCoreUtils.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n/* harmony import */ var _edit_modes_EditModeDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./edit-modes/EditModeDimension */ \"./extensions/Markup/core/edit-modes/EditModeDimension.js\");\n\n\n\n\n\n\n\n\nvar DIMENSION_MARKUP_HEIGHT = 10;\nvar TEXT_OFFSET = 2;\nvar DEFAULT_TEXT = 'Add Length';\nvar BACKGROUND_COLOR = 'none'; //'#ffffff';\n\n/**\n *\n * @param id\n * @param editor\n * @constructor\n */\nfunction MarkupDimension(id, editor) {\n\n  var styleAttributes = ['stroke-width', 'stroke-color', 'stroke-opacity', 'font-size', 'font-family', 'font-style', 'font-weight'];\n  _Markup__WEBPACK_IMPORTED_MODULE_0__.Markup.call(this, id, editor, styleAttributes);\n\n  this.type = _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__.MARKUP_TYPE_DIMENSION;\n  this.constraintHeight = true;\n  this.constraintWidth = true;\n\n  // bind to this to pass this.globalManager\n  this.addMarkupMetadata = _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.addMarkupMetadata.bind(this);\n  this.createSvgElement = _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createSvgElement.bind(this);\n  this.checkLineSegment = _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.checkLineSegment.bind(this);\n  this.measureTextLines = _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.measureTextLines.bind(this);\n\n\n  this.firstAnchor = new THREE.Vector3();\n  this.secondAnchor = new THREE.Vector3();\n  this.shape = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createMarkupPathSvg)();\n  this.text = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createMarkupTextSvg)();\n  this.shape.appendChild(this.text);\n  this.textSize = { x: 0, y: 0 };\n  this.initialText = DEFAULT_TEXT;\n  this.currentText = ' ';\n\n  if (!this.viewer.model.is2d()) {\n    this.preventReposition = true;\n    this.constraintRotation = true;\n  }\n\n  this.bindDomEvents();\n}\n\nMarkupDimension.prototype = Object.create(_Markup__WEBPACK_IMPORTED_MODULE_0__.Markup.prototype);\nMarkupDimension.prototype.constructor = MarkupDimension;\n\nvar proto = MarkupDimension.prototype;\n\nproto.getEditMode = function () {\n\n  return new _edit_modes_EditModeDimension__WEBPACK_IMPORTED_MODULE_4__.EditModeDimension(this.editor);\n};\n\n/**\n * Sets top-left and bottom-right values in client space coordinates (2d).\n * Notice that for the Dimension, the top left is the \"secondAnchor\" of the Dimension and\n * the bottom right is the \"firstAnchor\" of it.\n *\n * @param {Number} xO - secondAnchor\n * @param {Number} yO - secondAnchor\n * @param {Number} xF - firstAnchor\n * @param {Number} yF - firstAnchor\n */\nproto.set = function (xO, yO, xF, yF, text) {\n\n  var vO = new THREE.Vector2(xO, yO);\n  var vF = new THREE.Vector2(xF, yF);\n  var vDir = vF.clone().sub(vO).normalize();\n\n  this.size.x = vO.distanceTo(vF); // TODO: Clamp min length\n  this.rotation = Math.acos(vDir.dot(new THREE.Vector2(1, 0)));\n  this.rotation = yF > yO ? Math.PI * 2 - this.rotation : this.rotation;\n\n  var firstAnchor = this.firstAnchor;\n  var secondAnchor = this.secondAnchor;\n\n  firstAnchor.set(xF, yF, 0);\n  secondAnchor.set(xO, yO, 0);\n\n  this.position.x = secondAnchor.x + (firstAnchor.x - secondAnchor.x) * 0.5;\n  this.position.y = secondAnchor.y + (firstAnchor.y - secondAnchor.y) * 0.5;\n\n  this.currentText = text;\n  this.updateStyle();\n};\n\n/**\n * Changes the rotation of the markup to the given angle.\n * This gets called by the Autodesk.Viewing.Extensions.Markups.Core.SetRotation edit action\n *\n * @param {Number} angle\n */\nproto.setRotation = function (angle) {\n\n  if ((0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.radiansToDegrees)(angle) === 90) {\n    angle = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.degreesToRadians)(-90);\n  }\n\n  this.rotation = angle;\n\n  var xF = Math.cos(-angle);\n  var yF = Math.sin(-angle);\n  var vFDir = new THREE.Vector2(xF, yF); // already normalized\n  vFDir.multiplyScalar(this.size.x * 0.5);\n\n  var vCenter = new THREE.Vector2(this.position.x, this.position.y);\n  var vO = vCenter.clone().sub(vFDir);\n  var vF = vCenter.clone().add(vFDir);\n\n  this.firstAnchor.set(vF.x, vF.y, 0);\n  this.secondAnchor.set(vO.x, vO.y, 0);\n\n  this.updateStyle();\n};\n\n/**\n * Changes the position and size of the markup.\n * This gets called by the namespace.SetSize edit action\n * @param {{x: Number, y: Number}} position - Dimension's center\n * @param {Number} width - Dimension's length\n * @param {Number} height - We ignore this one because we use the Dimension's stroke width instead\n */\nproto.setSize = function (position, width, height) {\n\n  var xF = Math.cos(-this.rotation);\n  var yF = Math.sin(-this.rotation);\n  var vFDir = new THREE.Vector2(xF, yF); // already normalized\n  vFDir.multiplyScalar(width * 0.5);\n\n  var vCenter = new THREE.Vector2(position.x, position.y);\n  var vO = vCenter.clone().sub(vFDir);\n  var vF = vCenter.clone().add(vFDir);\n\n  this.firstAnchor.set(vF.x, vF.y, 0);\n  this.secondAnchor.set(vO.x, vO.y, 0);\n\n  this.position.x = position.x;\n  this.position.y = position.y;\n  this.size.x = width;\n\n  this.updateStyle();\n};\n\n/**\n * Helper method that returns the font size in client space coords.\n * @returns {Number}\n */\nproto.getClientFontSize = function () {\n\n  return this.editor.sizeFromMarkupsToClient(0, this.style['font-size']).y;\n};\n\nproto.updateStyle = function () {\n\n  var style = this.style;\n  var shape = this.shape;\n  var strokeWidth = style['stroke-width'];\n  var strokeColor = this.highlighted ? this.highlightColor : (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.composeRGBAString)(style['stroke-color'], style['stroke-opacity']);\n  var transform = this.getTransform();\n\n  this.rebuildTextSvg(this.currentText);\n\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'd', this.getPath().join(' '));\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'stroke-width', strokeWidth / 2);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'stroke', strokeColor);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'fill', strokeColor);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'transform', transform);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.updateMarkupPathSvgHitarea)(shape, this.editor);\n};\n\nproto.rebuildTextSvg = function (value) {\n  var style = this.style;\n  var strokeColor = this.highlighted ? this.highlightColor : (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.composeRGBAString)(style['stroke-color'], style['stroke-opacity']);\n  var strokeWidth = style['stroke-width'];\n  var backgroundColor = value === ' ' ? 'none' : BACKGROUND_COLOR;\n\n  var markup = this.createSvgElement('text');\n  markup.setAttribute('id', 'markup');\n  markup.setAttribute('alignment-baseline', 'middle');\n\n  var text = this.text;\n  var editor = this.editor;\n\n  text.childNodes[0].removeChild(text.markup);\n  text.childNodes[0].appendChild(markup);\n  text.markup = markup;\n\n  var tspan = this.createSvgElement('tspan');\n  tspan.textContent = value;\n  markup.appendChild(tspan);\n\n  var lineSize = this.measureTextLines([value], style, editor)[0]; // Only one line for measurement\n  var textSize = this.textSize = editor.sizeFromClientToMarkups(lineSize.width, lineSize.height);\n\n  var edgeH = DIMENSION_MARKUP_HEIGHT * strokeWidth / 2;\n  var textOffset = TEXT_OFFSET * strokeWidth / 2;\n  var offset = textSize.x + 2 * strokeWidth >= this.size.x ? textOffset + edgeH / 2 : textOffset; // If the line is too short for the given text, put it under.\n\n  this.size.y = edgeH + textSize.y + offset;\n\n  var textTransform = this.getTextTransform(4 / 5 * textSize.y + offset, true); // Text height is Always 4/5 of the entire label height.\n  var backgroundTransform = this.getTextTransform(textSize.y + offset, false);\n\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(text, 'font-family', style['font-family']);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(text, 'font-size', style['font-size']);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(text, 'font-weight', style['font-weight']);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(text, 'font-style', style['font-style']);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(text, 'text-rendering', 'auto');\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(text, 'fill', strokeColor);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setMarkupTextSvgTransform)(text, backgroundTransform, textTransform);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.updateMarkupTextSvgBackground)(text, textSize.x, textSize.y, backgroundColor);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.updateMarkupTextSvgClipper)(text, textSize.x, textSize.y);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.updateMarkupTextSvgHitarea)(text, textSize.x, textSize.y, editor);\n};\n\nproto.shouldFlip = function () {\n  return this.firstAnchor.x < this.secondAnchor.x;\n};\n\nproto.getTextTransform = function (offset, inverse) {\n\n  var flip = this.shouldFlip() ? -1 : 1;\n\n  inverse = inverse ? -1 : 1;\n\n  if ((0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.radiansToDegrees)(this.rotation) === 90) {\n    this.rotation = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.degreesToRadians)(-90);\n  }\n\n  return [\n  'translate(', this.position.x, ',', this.position.y, ')',\n  'rotate(', (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.radiansToDegrees)(-this.rotation), ')',\n  'translate(', -flip * this.textSize.x / 2, ',', -flip * offset, ')',\n  'scale(' + flip + ',' + flip * inverse + ')'].\n  join(' ');\n};\n\n/**\n * Used by the EditFrame to move the markup in Client Space coordinates\n * @param {Number} x - New X location for the markup. Notice that markups are centered on this value.\n * @param {Number} y - New Y location for the markup. Notice that markups are centered on this value.\n */\nproto.setPosition = function (x, y) {\n\n  var firstAnchor = this.firstAnchor;\n  var secondAnchor = this.secondAnchor;\n\n  var dx = firstAnchor.x - secondAnchor.x;\n  var dy = firstAnchor.y - secondAnchor.y;\n\n  var xo = x + dx * 0.5;\n  var yo = y + dy * 0.5;\n\n  firstAnchor.x = xo;\n  firstAnchor.y = yo;\n\n  secondAnchor.x = xo - dx;\n  secondAnchor.y = yo - dy;\n\n  this.position.x = secondAnchor.x + (firstAnchor.x - secondAnchor.x) * 0.5;\n  this.position.y = secondAnchor.y + (firstAnchor.y - secondAnchor.y) * 0.5;\n\n  this.updateStyle();\n};\n\nproto.generatePoint3d = function (idTarget) {\n\n  var firstAnchor = this.editor.positionFromMarkupsToClient(this.firstAnchor.x, this.firstAnchor.y);\n  var secondAnchor = this.editor.positionFromMarkupsToClient(this.secondAnchor.x, this.secondAnchor.y);\n\n  var direction = firstAnchor.clone().sub(secondAnchor).normalize();\n\n  var point2d = this.checkLineSegment(firstAnchor.x, firstAnchor.y, firstAnchor.x + direction.x * 200, firstAnchor.y + direction.y * 200, idTarget);\n  var point3d = point2d && this.viewer.clientToWorld(point2d.x, point2d.y);\n\n  return point3d && point3d.point;\n};\n\nproto.setMetadata = function () {\n\n  this.text.setAttribute('pointer-events', 'none');\n\n  var metadata = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_3__.cloneStyle)(this.style);\n\n  metadata.type = this.type;\n  metadata.firstAnchor = [this.firstAnchor.x, this.firstAnchor.y].join(\" \");\n  metadata.secondAnchor = [this.secondAnchor.x, this.secondAnchor.y].join(\" \");\n  metadata.text = String(this.currentText);\n\n  return this.addMarkupMetadata(this.shape, metadata);\n};\n\n\n/**\n * Returns the raw string value\n * @returns {String}\n */\nproto.getText = function () {\n\n  // if the current text is 'Add Length', you want the textbox will be empty when the user open it.\n  return this.currentText === this.initialText ? '' : this.currentText;\n};\n\nproto.getPath = function () {\n\n  //   1_                            _4\n  //   | |                          | |\n  //   | |2                        3| |\n  //  0|  --------------------------  |\n  //   |  --------------------------  |\n  //   | |7                       6 | |\n  //   |_|          TEXT            |_|\n  //   8                             5\n\n  var strokeWidth = this.style['stroke-width'];\n  var segmentLength = this.size.x - strokeWidth / 2; // segment length (p2 to p3 length)\n  var edgeH = DIMENSION_MARKUP_HEIGHT * strokeWidth / 2; // Edge height (p1 to p8 length)\n\n  return [\n  'M', -segmentLength * 0.5, 0, // 0\n  'l', 0, edgeH / 2, // 1\n  'l', 0, -edgeH / 2, // 2\n  'l', segmentLength, 0, // 3\n  'l', 0, edgeH / 2, // 4\n  'l', 0, -edgeH, // 5\n  'l', 0, edgeH / 2, // 6\n  'l', -segmentLength, 0, // 7\n  'l', 0, -edgeH / 2, // 8\n  'z'];\n\n};\n\nproto.cloneShape = function (clone) {\n\n  clone.shape = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createMarkupPathSvg)();\n  clone.text = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createMarkupTextSvg)();\n  clone.shape.appendChild(clone.text);\n  clone.bindDomEvents();\n};\n\nproto.getBoundingRect = function () {\n  var pos = this.getClientPosition();\n  var size = this.getClientSize();\n  return {\n    x: pos.x - size.x / 2,\n    y: pos.y - size.y / 2,\n    width: size.x,\n    height: size.y\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL01hcmt1cERpbWVuc2lvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBYTs7QUFFcUI7QUFDVztBQUtqQjtBQUNjO0FBQ3lCOztBQUUvRCxJQUFJbUIsdUJBQXVCLEdBQUcsRUFBRTtBQUNoQyxJQUFJQyxXQUFXLEdBQUcsQ0FBQztBQUNuQixJQUFJQyxZQUFZLEdBQUcsWUFBWTtBQUMvQixJQUFJQyxnQkFBZ0IsR0FBRyxNQUFNLENBQUM7O0FBRTlCO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNXLFNBQVNDLGVBQWVBLENBQUNDLEVBQUUsRUFBRUMsTUFBTSxFQUFFOztFQUV4QyxJQUFJQyxlQUFlLEdBQUcsQ0FBQyxjQUFjLEVBQUUsY0FBYyxFQUFFLGdCQUFnQixFQUFFLFdBQVcsRUFBRSxhQUFhLEVBQUUsWUFBWSxFQUFFLGFBQWEsQ0FBQztFQUNqSTFCLDJDQUFNLENBQUMyQixJQUFJLENBQUMsSUFBSSxFQUFFSCxFQUFFLEVBQUVDLE1BQU0sRUFBRUMsZUFBZSxDQUFDOztFQUU5QyxJQUFJLENBQUNFLElBQUksR0FBRzNCLCtEQUFpQztFQUM3QyxJQUFJLENBQUM2QixnQkFBZ0IsR0FBRyxJQUFJO0VBQzVCLElBQUksQ0FBQ0MsZUFBZSxHQUFHLElBQUk7O0VBRTNCO0VBQ0EsSUFBSSxDQUFDMUIsaUJBQWlCLEdBQUdBLGdFQUFpQixDQUFDMkIsSUFBSSxDQUFDLElBQUksQ0FBQztFQUNyRCxJQUFJLENBQUNwQixnQkFBZ0IsR0FBR0EsK0RBQWdCLENBQUNvQixJQUFJLENBQUMsSUFBSSxDQUFDO0VBQ25ELElBQUksQ0FBQ25CLGdCQUFnQixHQUFHQSwrREFBZ0IsQ0FBQ21CLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDbkQsSUFBSSxDQUFDeEIsZ0JBQWdCLEdBQUdBLCtEQUFnQixDQUFDd0IsSUFBSSxDQUFDLElBQUksQ0FBQzs7O0VBR25ELElBQUksQ0FBQ0MsV0FBVyxHQUFHLElBQUlDLEtBQUss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Q0FBQztFQUNsQyxJQUFJeEUsSUFBSSxHQUFHLElBQUksQ0FBQ3lFLGFBQWEsQ0FBQyxDQUFDO0VBQy9CLE9BQU87SUFDSHJHLENBQUMsRUFBRW1HLEdBQUcsQ0FBQ25HLENBQUMsR0FBRzRCLElBQUksQ0FBQzVCLENBQUMsR0FBRyxDQUFDO0lBQ3JCQyxDQUFDLEVBQUVrRyxHQUFHLENBQUNsRyxDQUFDLEdBQUcyQixJQUFJLENBQUMzQixDQUFDLEdBQUcsQ0FBQztJQUNyQjZDLEtBQUssRUFBRWxCLElBQUksQ0FBQzVCLENBQUM7SUFDYitDLE1BQU0sRUFBRW5CLElBQUksQ0FBQzNCO0VBQ2pCLENBQUM7QUFDTCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvTWFya3VwRGltZW5zaW9uLmpzPzJjYTMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBNYXJrdXAgfSBmcm9tICcuL01hcmt1cCc7XG5pbXBvcnQgKiBhcyBNYXJrdXBUeXBlcyBmcm9tICcuL01hcmt1cFR5cGVzJztcbmltcG9ydCB7IGNyZWF0ZU1hcmt1cFBhdGhTdmcsIGNyZWF0ZU1hcmt1cFRleHRTdmcsIGNvbXBvc2VSR0JBU3RyaW5nLCBhZGRNYXJrdXBNZXRhZGF0YSxcbiAgICByYWRpYW5zVG9EZWdyZWVzLCBkZWdyZWVzVG9SYWRpYW5zLCBtZWFzdXJlVGV4dExpbmVzLCBzZXRNYXJrdXBUZXh0U3ZnVHJhbnNmb3JtLFxuICAgIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnLCB1cGRhdGVNYXJrdXBQYXRoU3ZnSGl0YXJlYSwgY3JlYXRlU3ZnRWxlbWVudCwgY2hlY2tMaW5lU2VnbWVudCxcbiAgICB1cGRhdGVNYXJrdXBUZXh0U3ZnQmFja2dyb3VuZCwgdXBkYXRlTWFya3VwVGV4dFN2Z0NsaXBwZXIsIHVwZGF0ZU1hcmt1cFRleHRTdmdIaXRhcmVhXG59IGZyb20gJy4vTWFya3Vwc0NvcmVVdGlscyc7XG5pbXBvcnQgeyBjbG9uZVN0eWxlIH0gZnJvbSAnLi9TdHlsZVV0aWxzJztcbmltcG9ydCB7IEVkaXRNb2RlRGltZW5zaW9uIH0gZnJvbSAnLi9lZGl0LW1vZGVzL0VkaXRNb2RlRGltZW5zaW9uJztcblxuICAgIHZhciBESU1FTlNJT05fTUFSS1VQX0hFSUdIVCA9IDEwO1xuICAgIHZhciBURVhUX09GRlNFVCA9IDI7XG4gICAgdmFyIERFRkFVTFRfVEVYVCA9ICdBZGQgTGVuZ3RoJztcbiAgICB2YXIgQkFDS0dST1VORF9DT0xPUiA9ICdub25lJzsvLycjZmZmZmZmJztcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGlkXG4gICAgICogQHBhcmFtIGVkaXRvclxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBNYXJrdXBEaW1lbnNpb24oaWQsIGVkaXRvcikge1xuXG4gICAgICAgIHZhciBzdHlsZUF0dHJpYnV0ZXMgPSBbJ3N0cm9rZS13aWR0aCcsICdzdHJva2UtY29sb3InLCAnc3Ryb2tlLW9wYWNpdHknLCAnZm9udC1zaXplJywgJ2ZvbnQtZmFtaWx5JywgJ2ZvbnQtc3R5bGUnLCAnZm9udC13ZWlnaHQnXTtcbiAgICAgICAgTWFya3VwLmNhbGwodGhpcywgaWQsIGVkaXRvciwgc3R5bGVBdHRyaWJ1dGVzKTtcblxuICAgICAgICB0aGlzLnR5cGUgPSBNYXJrdXBUeXBlcy5NQVJLVVBfVFlQRV9ESU1FTlNJT047XG4gICAgICAgIHRoaXMuY29uc3RyYWludEhlaWdodCA9IHRydWU7XG4gICAgICAgIHRoaXMuY29uc3RyYWludFdpZHRoID0gdHJ1ZTtcblxuICAgICAgICAvLyBiaW5kIHRvIHRoaXMgdG8gcGFzcyB0aGlzLmdsb2JhbE1hbmFnZXJcbiAgICAgICAgdGhpcy5hZGRNYXJrdXBNZXRhZGF0YSA9IGFkZE1hcmt1cE1ldGFkYXRhLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuY3JlYXRlU3ZnRWxlbWVudCA9IGNyZWF0ZVN2Z0VsZW1lbnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5jaGVja0xpbmVTZWdtZW50ID0gY2hlY2tMaW5lU2VnbWVudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm1lYXN1cmVUZXh0TGluZXMgPSBtZWFzdXJlVGV4dExpbmVzLmJpbmQodGhpcyk7XG5cblxuICAgICAgICB0aGlzLmZpcnN0QW5jaG9yID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICAgICAgdGhpcy5zZWNvbmRBbmNob3IgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgICAgICB0aGlzLnNoYXBlID0gY3JlYXRlTWFya3VwUGF0aFN2ZygpO1xuICAgICAgICB0aGlzLnRleHQgPSBjcmVhdGVNYXJrdXBUZXh0U3ZnKCk7XG4gICAgICAgIHRoaXMuc2hhcGUuYXBwZW5kQ2hpbGQodGhpcy50ZXh0KTtcbiAgICAgICAgdGhpcy50ZXh0U2l6ZSA9IHt4OiAwLCB5OiAwfTtcbiAgICAgICAgdGhpcy5pbml0aWFsVGV4dCA9IERFRkFVTFRfVEVYVDtcbiAgICAgICAgdGhpcy5jdXJyZW50VGV4dCA9ICcgJztcblxuICAgICAgICBpZiAoIXRoaXMudmlld2VyLm1vZGVsLmlzMmQoKSkge1xuICAgICAgICAgICAgdGhpcy5wcmV2ZW50UmVwb3NpdGlvbiA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnRSb3RhdGlvbiA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJpbmREb21FdmVudHMoKTtcbiAgICB9XG5cbiAgICBNYXJrdXBEaW1lbnNpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNYXJrdXAucHJvdG90eXBlKTtcbiAgICBNYXJrdXBEaW1lbnNpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTWFya3VwRGltZW5zaW9uO1xuXG4gICAgdmFyIHByb3RvID0gTWFya3VwRGltZW5zaW9uLnByb3RvdHlwZTtcblxuICAgIHByb3RvLmdldEVkaXRNb2RlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBFZGl0TW9kZURpbWVuc2lvbih0aGlzLmVkaXRvcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdG9wLWxlZnQgYW5kIGJvdHRvbS1yaWdodCB2YWx1ZXMgaW4gY2xpZW50IHNwYWNlIGNvb3JkaW5hdGVzICgyZCkuXG4gICAgICogTm90aWNlIHRoYXQgZm9yIHRoZSBEaW1lbnNpb24sIHRoZSB0b3AgbGVmdCBpcyB0aGUgXCJzZWNvbmRBbmNob3JcIiBvZiB0aGUgRGltZW5zaW9uIGFuZFxuICAgICAqIHRoZSBib3R0b20gcmlnaHQgaXMgdGhlIFwiZmlyc3RBbmNob3JcIiBvZiBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4TyAtIHNlY29uZEFuY2hvclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5TyAtIHNlY29uZEFuY2hvclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4RiAtIGZpcnN0QW5jaG9yXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHlGIC0gZmlyc3RBbmNob3JcbiAgICAgKi9cbiAgICBwcm90by5zZXQgPSBmdW5jdGlvbih4TywgeU8sIHhGLCB5RiwgdGV4dCkge1xuXG4gICAgICAgIHZhciB2TyA9IG5ldyBUSFJFRS5WZWN0b3IyKHhPLCB5Tyk7XG4gICAgICAgIHZhciB2RiA9IG5ldyBUSFJFRS5WZWN0b3IyKHhGLCB5Rik7XG4gICAgICAgIHZhciB2RGlyID0gdkYuY2xvbmUoKS5zdWIodk8pLm5vcm1hbGl6ZSgpO1xuXG4gICAgICAgIHRoaXMuc2l6ZS54ID0gdk8uZGlzdGFuY2VUbyh2Rik7IC8vIFRPRE86IENsYW1wIG1pbiBsZW5ndGhcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IE1hdGguYWNvcyh2RGlyLmRvdChuZXcgVEhSRUUuVmVjdG9yMigxLDApKSk7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSB5RiA+IHlPID8gKE1hdGguUEkqMiktdGhpcy5yb3RhdGlvbiA6IHRoaXMucm90YXRpb247XG5cbiAgICAgICAgdmFyIGZpcnN0QW5jaG9yID0gdGhpcy5maXJzdEFuY2hvcjtcbiAgICAgICAgdmFyIHNlY29uZEFuY2hvciA9IHRoaXMuc2Vjb25kQW5jaG9yO1xuXG4gICAgICAgIGZpcnN0QW5jaG9yLnNldCh4RiwgeUYsIDApO1xuICAgICAgICBzZWNvbmRBbmNob3Iuc2V0KHhPLCB5TywgMCk7XG5cbiAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0gc2Vjb25kQW5jaG9yLnggKyAoZmlyc3RBbmNob3IueCAtIHNlY29uZEFuY2hvci54KSAqIDAuNTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0gc2Vjb25kQW5jaG9yLnkgKyAoZmlyc3RBbmNob3IueSAtIHNlY29uZEFuY2hvci55KSAqIDAuNTtcblxuICAgICAgICB0aGlzLmN1cnJlbnRUZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy51cGRhdGVTdHlsZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSByb3RhdGlvbiBvZiB0aGUgbWFya3VwIHRvIHRoZSBnaXZlbiBhbmdsZS5cbiAgICAgKiBUaGlzIGdldHMgY2FsbGVkIGJ5IHRoZSBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlLlNldFJvdGF0aW9uIGVkaXQgYWN0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYW5nbGVcbiAgICAgKi9cbiAgICBwcm90by5zZXRSb3RhdGlvbiA9IGZ1bmN0aW9uKGFuZ2xlKSB7XG5cbiAgICAgICAgaWYgKHJhZGlhbnNUb0RlZ3JlZXMoYW5nbGUpID09PSA5MCkge1xuICAgICAgICAgICAgYW5nbGUgPSBkZWdyZWVzVG9SYWRpYW5zKC05MCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJvdGF0aW9uID0gYW5nbGU7XG5cbiAgICAgICAgdmFyIHhGID0gTWF0aC5jb3MoLWFuZ2xlKTtcbiAgICAgICAgdmFyIHlGID0gTWF0aC5zaW4oLWFuZ2xlKTtcbiAgICAgICAgdmFyIHZGRGlyID0gbmV3IFRIUkVFLlZlY3RvcjIoeEYsIHlGKTsgLy8gYWxyZWFkeSBub3JtYWxpemVkXG4gICAgICAgIHZGRGlyLm11bHRpcGx5U2NhbGFyKHRoaXMuc2l6ZS54KjAuNSk7XG5cbiAgICAgICAgdmFyIHZDZW50ZXIgPSBuZXcgVEhSRUUuVmVjdG9yMih0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueSk7XG4gICAgICAgIHZhciB2TyA9IHZDZW50ZXIuY2xvbmUoKS5zdWIodkZEaXIpO1xuICAgICAgICB2YXIgdkYgPSB2Q2VudGVyLmNsb25lKCkuYWRkKHZGRGlyKTtcblxuICAgICAgICB0aGlzLmZpcnN0QW5jaG9yLnNldCh2Ri54LCB2Ri55LCAwKTtcbiAgICAgICAgdGhpcy5zZWNvbmRBbmNob3Iuc2V0KHZPLngsIHZPLnksIDApO1xuXG4gICAgICAgIHRoaXMudXBkYXRlU3R5bGUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgcG9zaXRpb24gYW5kIHNpemUgb2YgdGhlIG1hcmt1cC5cbiAgICAgKiBUaGlzIGdldHMgY2FsbGVkIGJ5IHRoZSBuYW1lc3BhY2UuU2V0U2l6ZSBlZGl0IGFjdGlvblxuICAgICAqIEBwYXJhbSB7e3g6IE51bWJlciwgeTogTnVtYmVyfX0gcG9zaXRpb24gLSBEaW1lbnNpb24ncyBjZW50ZXJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGggLSBEaW1lbnNpb24ncyBsZW5ndGhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0IC0gV2UgaWdub3JlIHRoaXMgb25lIGJlY2F1c2Ugd2UgdXNlIHRoZSBEaW1lbnNpb24ncyBzdHJva2Ugd2lkdGggaW5zdGVhZFxuICAgICAqL1xuICAgIHByb3RvLnNldFNpemUgPSBmdW5jdGlvbihwb3NpdGlvbiwgd2lkdGgsIGhlaWdodCkge1xuXG4gICAgICAgIHZhciB4RiA9IE1hdGguY29zKC10aGlzLnJvdGF0aW9uKTtcbiAgICAgICAgdmFyIHlGID0gTWF0aC5zaW4oLXRoaXMucm90YXRpb24pO1xuICAgICAgICB2YXIgdkZEaXIgPSBuZXcgVEhSRUUuVmVjdG9yMih4RiwgeUYpOyAvLyBhbHJlYWR5IG5vcm1hbGl6ZWRcbiAgICAgICAgdkZEaXIubXVsdGlwbHlTY2FsYXIod2lkdGgqMC41KTtcblxuICAgICAgICB2YXIgdkNlbnRlciA9IG5ldyBUSFJFRS5WZWN0b3IyKHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpO1xuICAgICAgICB2YXIgdk8gPSB2Q2VudGVyLmNsb25lKCkuc3ViKHZGRGlyKTtcbiAgICAgICAgdmFyIHZGID0gdkNlbnRlci5jbG9uZSgpLmFkZCh2RkRpcik7XG5cbiAgICAgICAgdGhpcy5maXJzdEFuY2hvci5zZXQodkYueCwgdkYueSwgMCk7XG4gICAgICAgIHRoaXMuc2Vjb25kQW5jaG9yLnNldCh2Ty54LCB2Ty55LCAwKTtcblxuICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSBwb3NpdGlvbi54O1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSBwb3NpdGlvbi55O1xuICAgICAgICB0aGlzLnNpemUueCA9IHdpZHRoO1xuXG4gICAgICAgIHRoaXMudXBkYXRlU3R5bGUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIG1ldGhvZCB0aGF0IHJldHVybnMgdGhlIGZvbnQgc2l6ZSBpbiBjbGllbnQgc3BhY2UgY29vcmRzLlxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG8uZ2V0Q2xpZW50Rm9udFNpemUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICByZXR1cm4gdGhpcy5lZGl0b3Iuc2l6ZUZyb21NYXJrdXBzVG9DbGllbnQoMCwgdGhpcy5zdHlsZVsnZm9udC1zaXplJ10pLnk7XG4gICAgfTtcblxuICAgIHByb3RvLnVwZGF0ZVN0eWxlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5zdHlsZTtcbiAgICAgICAgdmFyIHNoYXBlID0gdGhpcy5zaGFwZTtcbiAgICAgICAgdmFyIHN0cm9rZVdpZHRoID0gc3R5bGVbJ3N0cm9rZS13aWR0aCddO1xuICAgICAgICB2YXIgc3Ryb2tlQ29sb3IgPSB0aGlzLmhpZ2hsaWdodGVkID8gdGhpcy5oaWdobGlnaHRDb2xvciA6IGNvbXBvc2VSR0JBU3RyaW5nKHN0eWxlWydzdHJva2UtY29sb3InXSwgc3R5bGVbJ3N0cm9rZS1vcGFjaXR5J10pO1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy5nZXRUcmFuc2Zvcm0oKTtcblxuICAgICAgICB0aGlzLnJlYnVpbGRUZXh0U3ZnKHRoaXMuY3VycmVudFRleHQpO1xuXG4gICAgICAgIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnKHNoYXBlLCAnZCcsIHRoaXMuZ2V0UGF0aCgpLmpvaW4oJyAnKSk7XG4gICAgICAgIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnKHNoYXBlLCAnc3Ryb2tlLXdpZHRoJywgc3Ryb2tlV2lkdGggLyAyKTtcbiAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcoc2hhcGUsICdzdHJva2UnLCBzdHJva2VDb2xvcik7XG4gICAgICAgIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnKHNoYXBlLCAnZmlsbCcsIHN0cm9rZUNvbG9yKTtcbiAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcoc2hhcGUsICd0cmFuc2Zvcm0nLCB0cmFuc2Zvcm0pO1xuICAgICAgICB1cGRhdGVNYXJrdXBQYXRoU3ZnSGl0YXJlYShzaGFwZSwgdGhpcy5lZGl0b3IpO1xuICAgIH07XG5cbiAgICBwcm90by5yZWJ1aWxkVGV4dFN2ZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuc3R5bGU7XG4gICAgICAgIHZhciBzdHJva2VDb2xvciA9IHRoaXMuaGlnaGxpZ2h0ZWQgPyB0aGlzLmhpZ2hsaWdodENvbG9yIDogY29tcG9zZVJHQkFTdHJpbmcoc3R5bGVbJ3N0cm9rZS1jb2xvciddLCBzdHlsZVsnc3Ryb2tlLW9wYWNpdHknXSk7XG4gICAgICAgIHZhciBzdHJva2VXaWR0aCA9IHN0eWxlWydzdHJva2Utd2lkdGgnXTtcbiAgICAgICAgdmFyIGJhY2tncm91bmRDb2xvciA9ICh2YWx1ZSA9PT0gJyAnKSA/ICdub25lJyA6IEJBQ0tHUk9VTkRfQ09MT1I7XG5cbiAgICAgICAgdmFyIG1hcmt1cCA9IHRoaXMuY3JlYXRlU3ZnRWxlbWVudCgndGV4dCcpO1xuICAgICAgICBtYXJrdXAuc2V0QXR0cmlidXRlKCdpZCcsICdtYXJrdXAnKTtcbiAgICAgICAgbWFya3VwLnNldEF0dHJpYnV0ZSgnYWxpZ25tZW50LWJhc2VsaW5lJywgJ21pZGRsZScpO1xuXG4gICAgICAgIHZhciB0ZXh0ID0gdGhpcy50ZXh0O1xuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG5cbiAgICAgICAgdGV4dC5jaGlsZE5vZGVzWzBdLnJlbW92ZUNoaWxkKHRleHQubWFya3VwKTtcbiAgICAgICAgdGV4dC5jaGlsZE5vZGVzWzBdLmFwcGVuZENoaWxkKG1hcmt1cCk7XG4gICAgICAgIHRleHQubWFya3VwID0gbWFya3VwO1xuXG4gICAgICAgIHZhciB0c3BhbiA9IHRoaXMuY3JlYXRlU3ZnRWxlbWVudCgndHNwYW4nKTtcbiAgICAgICAgdHNwYW4udGV4dENvbnRlbnQgPSB2YWx1ZTtcbiAgICAgICAgbWFya3VwLmFwcGVuZENoaWxkKHRzcGFuKTtcblxuICAgICAgICB2YXIgbGluZVNpemUgPSB0aGlzLm1lYXN1cmVUZXh0TGluZXMoW3ZhbHVlXSwgc3R5bGUsIGVkaXRvcilbMF07IC8vIE9ubHkgb25lIGxpbmUgZm9yIG1lYXN1cmVtZW50XG4gICAgICAgIHZhciB0ZXh0U2l6ZSA9IHRoaXMudGV4dFNpemUgPSBlZGl0b3Iuc2l6ZUZyb21DbGllbnRUb01hcmt1cHMobGluZVNpemUud2lkdGgsIGxpbmVTaXplLmhlaWdodCk7XG5cbiAgICAgICAgdmFyIGVkZ2VIID0gRElNRU5TSU9OX01BUktVUF9IRUlHSFQgKiBzdHJva2VXaWR0aCAvIDI7XG4gICAgICAgIHZhciB0ZXh0T2Zmc2V0ID0gVEVYVF9PRkZTRVQgKiBzdHJva2VXaWR0aCAvIDI7XG4gICAgICAgIHZhciBvZmZzZXQgPSAodGV4dFNpemUueCArICgyICogc3Ryb2tlV2lkdGgpID49IHRoaXMuc2l6ZS54KSA/IHRleHRPZmZzZXQgKyBlZGdlSCAvIDIgOiB0ZXh0T2Zmc2V0OyAvLyBJZiB0aGUgbGluZSBpcyB0b28gc2hvcnQgZm9yIHRoZSBnaXZlbiB0ZXh0LCBwdXQgaXQgdW5kZXIuXG5cbiAgICAgICAgdGhpcy5zaXplLnkgPSBlZGdlSCArIHRleHRTaXplLnkgKyBvZmZzZXQ7XG5cbiAgICAgICAgdmFyIHRleHRUcmFuc2Zvcm0gPSB0aGlzLmdldFRleHRUcmFuc2Zvcm0oKDQvNSAqIHRleHRTaXplLnkpICsgIG9mZnNldCwgdHJ1ZSk7IC8vIFRleHQgaGVpZ2h0IGlzIEFsd2F5cyA0LzUgb2YgdGhlIGVudGlyZSBsYWJlbCBoZWlnaHQuXG4gICAgICAgIHZhciBiYWNrZ3JvdW5kVHJhbnNmb3JtID0gdGhpcy5nZXRUZXh0VHJhbnNmb3JtKHRleHRTaXplLnkgKyBvZmZzZXQsIGZhbHNlKTtcblxuICAgICAgICBzZXRBdHRyaWJ1dGVUb01hcmt1cFN2Zyh0ZXh0LCAnZm9udC1mYW1pbHknLCBzdHlsZVsnZm9udC1mYW1pbHknXSk7XG4gICAgICAgIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnKHRleHQsICdmb250LXNpemUnLCBzdHlsZVsnZm9udC1zaXplJ10pO1xuICAgICAgICBzZXRBdHRyaWJ1dGVUb01hcmt1cFN2Zyh0ZXh0LCAnZm9udC13ZWlnaHQnLCBzdHlsZVsnZm9udC13ZWlnaHQnXSk7XG4gICAgICAgIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnKHRleHQsICdmb250LXN0eWxlJywgc3R5bGVbJ2ZvbnQtc3R5bGUnXSk7XG4gICAgICAgIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnKHRleHQsICd0ZXh0LXJlbmRlcmluZycsICdhdXRvJyk7XG4gICAgICAgIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnKHRleHQsICdmaWxsJywgc3Ryb2tlQ29sb3IpO1xuICAgICAgICBzZXRNYXJrdXBUZXh0U3ZnVHJhbnNmb3JtKHRleHQsIGJhY2tncm91bmRUcmFuc2Zvcm0sIHRleHRUcmFuc2Zvcm0pO1xuICAgICAgICB1cGRhdGVNYXJrdXBUZXh0U3ZnQmFja2dyb3VuZCh0ZXh0LCB0ZXh0U2l6ZS54LCB0ZXh0U2l6ZS55LCBiYWNrZ3JvdW5kQ29sb3IpO1xuICAgICAgICB1cGRhdGVNYXJrdXBUZXh0U3ZnQ2xpcHBlcih0ZXh0LCB0ZXh0U2l6ZS54LCB0ZXh0U2l6ZS55KTtcbiAgICAgICAgdXBkYXRlTWFya3VwVGV4dFN2Z0hpdGFyZWEodGV4dCwgdGV4dFNpemUueCwgdGV4dFNpemUueSwgZWRpdG9yKTtcbiAgICB9O1xuXG4gICAgcHJvdG8uc2hvdWxkRmxpcCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiAodGhpcy5maXJzdEFuY2hvci54IDwgdGhpcy5zZWNvbmRBbmNob3IueCk7XG4gICAgfTtcblxuICAgIHByb3RvLmdldFRleHRUcmFuc2Zvcm0gPSBmdW5jdGlvbihvZmZzZXQsIGludmVyc2UpIHtcblxuICAgICAgICB2YXIgZmxpcCA9IHRoaXMuc2hvdWxkRmxpcCgpID8gLTEgOiAxO1xuXG4gICAgICAgIGludmVyc2UgPSBpbnZlcnNlID8gLTEgOiAxO1xuXG4gICAgICAgIGlmIChyYWRpYW5zVG9EZWdyZWVzKHRoaXMucm90YXRpb24pID09PSA5MCkge1xuICAgICAgICAgICAgdGhpcy5yb3RhdGlvbiA9IGRlZ3JlZXNUb1JhZGlhbnMoLTkwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAndHJhbnNsYXRlKCcsIHRoaXMucG9zaXRpb24ueCAsICcsJywgdGhpcy5wb3NpdGlvbi55LCAnKScsXG4gICAgICAgICAgICAncm90YXRlKCcsIHJhZGlhbnNUb0RlZ3JlZXMoLXRoaXMucm90YXRpb24pLCAnKScsXG4gICAgICAgICAgICAndHJhbnNsYXRlKCcsIC1mbGlwICogdGhpcy50ZXh0U2l6ZS54IC8gMiwgJywnLCAtZmxpcCpvZmZzZXQsICcpJyxcbiAgICAgICAgICAgICdzY2FsZSgnICsgZmxpcCArICcsJyArIGZsaXAqaW52ZXJzZSArICcpJ1xuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSB0aGUgRWRpdEZyYW1lIHRvIG1vdmUgdGhlIG1hcmt1cCBpbiBDbGllbnQgU3BhY2UgY29vcmRpbmF0ZXNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geCAtIE5ldyBYIGxvY2F0aW9uIGZvciB0aGUgbWFya3VwLiBOb3RpY2UgdGhhdCBtYXJrdXBzIGFyZSBjZW50ZXJlZCBvbiB0aGlzIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5IC0gTmV3IFkgbG9jYXRpb24gZm9yIHRoZSBtYXJrdXAuIE5vdGljZSB0aGF0IG1hcmt1cHMgYXJlIGNlbnRlcmVkIG9uIHRoaXMgdmFsdWUuXG4gICAgICovXG4gICAgcHJvdG8uc2V0UG9zaXRpb24gPSBmdW5jdGlvbiAoeCwgeSkge1xuXG4gICAgICAgIHZhciBmaXJzdEFuY2hvciA9IHRoaXMuZmlyc3RBbmNob3I7XG4gICAgICAgIHZhciBzZWNvbmRBbmNob3IgPSB0aGlzLnNlY29uZEFuY2hvcjtcblxuICAgICAgICB2YXIgZHggPSBmaXJzdEFuY2hvci54IC0gc2Vjb25kQW5jaG9yLng7XG4gICAgICAgIHZhciBkeSA9IGZpcnN0QW5jaG9yLnkgLSBzZWNvbmRBbmNob3IueTtcblxuICAgICAgICB2YXIgeG8gPSB4ICsgZHggKiAwLjU7XG4gICAgICAgIHZhciB5byA9IHkgKyBkeSAqIDAuNTtcblxuICAgICAgICBmaXJzdEFuY2hvci54ID0geG87XG4gICAgICAgIGZpcnN0QW5jaG9yLnkgPSB5bztcblxuICAgICAgICBzZWNvbmRBbmNob3IueCA9IHhvIC0gZHg7XG4gICAgICAgIHNlY29uZEFuY2hvci55ID0geW8gLSBkeTtcblxuICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSBzZWNvbmRBbmNob3IueCArIChmaXJzdEFuY2hvci54IC0gc2Vjb25kQW5jaG9yLngpICogMC41O1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSBzZWNvbmRBbmNob3IueSArIChmaXJzdEFuY2hvci55IC0gc2Vjb25kQW5jaG9yLnkpICogMC41O1xuXG4gICAgICAgIHRoaXMudXBkYXRlU3R5bGUoKTtcbiAgICB9O1xuXG4gICAgcHJvdG8uZ2VuZXJhdGVQb2ludDNkID0gZnVuY3Rpb24oaWRUYXJnZXQpIHtcblxuICAgICAgICB2YXIgZmlyc3RBbmNob3IgPSB0aGlzLmVkaXRvci5wb3NpdGlvbkZyb21NYXJrdXBzVG9DbGllbnQodGhpcy5maXJzdEFuY2hvci54LCB0aGlzLmZpcnN0QW5jaG9yLnkpO1xuICAgICAgICB2YXIgc2Vjb25kQW5jaG9yID0gdGhpcy5lZGl0b3IucG9zaXRpb25Gcm9tTWFya3Vwc1RvQ2xpZW50KHRoaXMuc2Vjb25kQW5jaG9yLngsIHRoaXMuc2Vjb25kQW5jaG9yLnkpO1xuXG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBmaXJzdEFuY2hvci5jbG9uZSgpLnN1YihzZWNvbmRBbmNob3IpLm5vcm1hbGl6ZSgpO1xuXG4gICAgICAgIHZhciBwb2ludDJkID0gdGhpcy5jaGVja0xpbmVTZWdtZW50KGZpcnN0QW5jaG9yLngsIGZpcnN0QW5jaG9yLnksIGZpcnN0QW5jaG9yLnggKyBkaXJlY3Rpb24ueCAqIDIwMCwgZmlyc3RBbmNob3IueSArIGRpcmVjdGlvbi55ICogMjAwLCBpZFRhcmdldCk7XG4gICAgICAgIHZhciBwb2ludDNkID0gcG9pbnQyZCAmJiB0aGlzLnZpZXdlci5jbGllbnRUb1dvcmxkKHBvaW50MmQueCwgcG9pbnQyZC55KTtcblxuICAgICAgICByZXR1cm4gcG9pbnQzZCAmJiBwb2ludDNkLnBvaW50O1xuICAgIH07XG5cbiAgICBwcm90by5zZXRNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHRoaXMudGV4dC5zZXRBdHRyaWJ1dGUoJ3BvaW50ZXItZXZlbnRzJywgJ25vbmUnKTtcblxuICAgICAgICB2YXIgbWV0YWRhdGEgPSBjbG9uZVN0eWxlKHRoaXMuc3R5bGUpO1xuXG4gICAgICAgIG1ldGFkYXRhLnR5cGUgPSB0aGlzLnR5cGU7XG4gICAgICAgIG1ldGFkYXRhLmZpcnN0QW5jaG9yID0gW3RoaXMuZmlyc3RBbmNob3IueCwgdGhpcy5maXJzdEFuY2hvci55XS5qb2luKFwiIFwiKTtcbiAgICAgICAgbWV0YWRhdGEuc2Vjb25kQW5jaG9yID0gW3RoaXMuc2Vjb25kQW5jaG9yLngsIHRoaXMuc2Vjb25kQW5jaG9yLnldLmpvaW4oXCIgXCIpO1xuICAgICAgICBtZXRhZGF0YS50ZXh0ID0gU3RyaW5nKHRoaXMuY3VycmVudFRleHQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmFkZE1hcmt1cE1ldGFkYXRhKHRoaXMuc2hhcGUsIG1ldGFkYXRhKTtcbiAgICB9O1xuXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSByYXcgc3RyaW5nIHZhbHVlXG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKi9cbiAgICBwcm90by5nZXRUZXh0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgLy8gaWYgdGhlIGN1cnJlbnQgdGV4dCBpcyAnQWRkIExlbmd0aCcsIHlvdSB3YW50IHRoZSB0ZXh0Ym94IHdpbGwgYmUgZW1wdHkgd2hlbiB0aGUgdXNlciBvcGVuIGl0LlxuICAgICAgICByZXR1cm4gKHRoaXMuY3VycmVudFRleHQgPT09IHRoaXMuaW5pdGlhbFRleHQpID8gJycgOiB0aGlzLmN1cnJlbnRUZXh0O1xuICAgIH07XG5cbiAgICBwcm90by5nZXRQYXRoID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgLy8gICAxXyAgICAgICAgICAgICAgICAgICAgICAgICAgICBfNFxuICAgICAgICAvLyAgIHwgfCAgICAgICAgICAgICAgICAgICAgICAgICAgfCB8XG4gICAgICAgIC8vICAgfCB8MiAgICAgICAgICAgICAgICAgICAgICAgIDN8IHxcbiAgICAgICAgLy8gIDB8ICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgfFxuICAgICAgICAvLyAgIHwgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICB8XG4gICAgICAgIC8vICAgfCB8NyAgICAgICAgICAgICAgICAgICAgICAgNiB8IHxcbiAgICAgICAgLy8gICB8X3wgICAgICAgICAgVEVYVCAgICAgICAgICAgIHxffFxuICAgICAgICAvLyAgIDggICAgICAgICAgICAgICAgICAgICAgICAgICAgIDVcblxuICAgICAgICB2YXIgc3Ryb2tlV2lkdGggPSB0aGlzLnN0eWxlWydzdHJva2Utd2lkdGgnXTtcbiAgICAgICAgdmFyIHNlZ21lbnRMZW5ndGggPSB0aGlzLnNpemUueCAtIHN0cm9rZVdpZHRoIC8gMjsgLy8gc2VnbWVudCBsZW5ndGggKHAyIHRvIHAzIGxlbmd0aClcbiAgICAgICAgdmFyIGVkZ2VIID0gRElNRU5TSU9OX01BUktVUF9IRUlHSFQgKiBzdHJva2VXaWR0aCAvIDI7IC8vIEVkZ2UgaGVpZ2h0IChwMSB0byBwOCBsZW5ndGgpXG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICdNJywgLXNlZ21lbnRMZW5ndGggKiAwLjUgICAgICAgICAgICwgICAgMCAgICAgICAgICAgICAgLCAgIC8vIDBcbiAgICAgICAgICAgICdsJywgMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgICAgZWRnZUggLyAyICAgICAgLCAgIC8vIDFcbiAgICAgICAgICAgICdsJywgMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgICAgLWVkZ2VIIC8gMiAgICAgLCAgIC8vIDJcbiAgICAgICAgICAgICdsJywgc2VnbWVudExlbmd0aCAgICAgICAgICAgICAgICAgICwgICAgMCAgICAgICAgICAgICAgLCAgIC8vIDNcbiAgICAgICAgICAgICdsJywgMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgICAgZWRnZUggLyAyICAgICAgLCAgIC8vIDRcbiAgICAgICAgICAgICdsJywgMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgICAgLWVkZ2VIICAgICAgICAgLCAgIC8vIDVcbiAgICAgICAgICAgICdsJywgMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgICAgZWRnZUggLyAyICAgICAgLCAgIC8vIDZcbiAgICAgICAgICAgICdsJywgLXNlZ21lbnRMZW5ndGggICAgICAgICAgICAgICAgICwgICAgMCAgICAgICAgICAgICAgLCAgIC8vIDdcbiAgICAgICAgICAgICdsJywgMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgICAgLWVkZ2VIIC8gMiAgICAgLCAgIC8vIDhcbiAgICAgICAgICAgICd6J1xuICAgICAgICBdO1xuICAgIH07XG5cbiAgICBwcm90by5jbG9uZVNoYXBlID0gZnVuY3Rpb24oY2xvbmUpIHtcblxuICAgICAgICBjbG9uZS5zaGFwZSA9IGNyZWF0ZU1hcmt1cFBhdGhTdmcoKTtcbiAgICAgICAgY2xvbmUudGV4dCA9IGNyZWF0ZU1hcmt1cFRleHRTdmcoKTtcbiAgICAgICAgY2xvbmUuc2hhcGUuYXBwZW5kQ2hpbGQoY2xvbmUudGV4dCk7XG4gICAgICAgIGNsb25lLmJpbmREb21FdmVudHMoKTtcbiAgICB9O1xuXG4gICAgcHJvdG8uZ2V0Qm91bmRpbmdSZWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBwb3MgPSB0aGlzLmdldENsaWVudFBvc2l0aW9uKCk7XG4gICAgICAgIHZhciBzaXplID0gdGhpcy5nZXRDbGllbnRTaXplKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBwb3MueCAtIHNpemUueCAvIDIsXG4gICAgICAgICAgICB5OiBwb3MueSAtIHNpemUueSAvIDIsXG4gICAgICAgICAgICB3aWR0aDogc2l6ZS54LFxuICAgICAgICAgICAgaGVpZ2h0OiBzaXplLnlcbiAgICAgICAgfTtcbiAgICB9O1xuIl0sIm5hbWVzIjpbIk1hcmt1cCIsIk1hcmt1cFR5cGVzIiwiY3JlYXRlTWFya3VwUGF0aFN2ZyIsImNyZWF0ZU1hcmt1cFRleHRTdmciLCJjb21wb3NlUkdCQVN0cmluZyIsImFkZE1hcmt1cE1ldGFkYXRhIiwicmFkaWFuc1RvRGVncmVlcyIsImRlZ3JlZXNUb1JhZGlhbnMiLCJtZWFzdXJlVGV4dExpbmVzIiwic2V0TWFya3VwVGV4dFN2Z1RyYW5zZm9ybSIsInNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnIiwidXBkYXRlTWFya3VwUGF0aFN2Z0hpdGFyZWEiLCJjcmVhdGVTdmdFbGVtZW50IiwiY2hlY2tMaW5lU2VnbWVudCIsInVwZGF0ZU1hcmt1cFRleHRTdmdCYWNrZ3JvdW5kIiwidXBkYXRlTWFya3VwVGV4dFN2Z0NsaXBwZXIiLCJ1cGRhdGVNYXJrdXBUZXh0U3ZnSGl0YXJlYSIsImNsb25lU3R5bGUiLCJFZGl0TW9kZURpbWVuc2lvbiIsIkRJTUVOU0lPTl9NQVJLVVBfSEVJR0hUIiwiVEVYVF9PRkZTRVQiLCJERUZBVUxUX1RFWFQiLCJCQUNLR1JPVU5EX0NPTE9SIiwiTWFya3VwRGltZW5zaW9uIiwiaWQiLCJlZGl0b3IiLCJzdHlsZUF0dHJpYnV0ZXMiLCJjYWxsIiwidHlwZSIsIk1BUktVUF9UWVBFX0RJTUVOU0lPTiIsImNvbnN0cmFpbnRIZWlnaHQiLCJjb25zdHJhaW50V2lkdGgiLCJiaW5kIiwiZmlyc3RBbmNob3IiLCJUSFJFRSIsIlZlY3RvcjMiLCJzZWNvbmRBbmNob3IiLCJzaGFwZSIsInRleHQiLCJhcHBlbmRDaGlsZCIsInRleHRTaXplIiwieCIsInkiLCJpbml0aWFsVGV4dCIsImN1cnJlbnRUZXh0Iiwidmlld2VyIiwibW9kZWwiLCJpczJkIiwicHJldmVudFJlcG9zaXRpb24iLCJjb25zdHJhaW50Um90YXRpb24iLCJiaW5kRG9tRXZlbnRzIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJwcm90byIsImdldEVkaXRNb2RlIiwic2V0IiwieE8iLCJ5TyIsInhGIiwieUYiLCJ2TyIsIlZlY3RvcjIiLCJ2RiIsInZEaXIiLCJjbG9uZSIsInN1YiIsIm5vcm1hbGl6ZSIsInNpemUiLCJkaXN0YW5jZVRvIiwicm90YXRpb24iLCJNYXRoIiwiYWNvcyIsImRvdCIsIlBJIiwicG9zaXRpb24iLCJ1cGRhdGVTdHlsZSIsInNldFJvdGF0aW9uIiwiYW5nbGUiLCJjb3MiLCJzaW4iLCJ2RkRpciIsIm11bHRpcGx5U2NhbGFyIiwidkNlbnRlciIsImFkZCIsInNldFNpemUiLCJ3aWR0aCIsImhlaWdodCIsImdldENsaWVudEZvbnRTaXplIiwic2l6ZUZyb21NYXJrdXBzVG9DbGllbnQiLCJzdHlsZSIsInN0cm9rZVdpZHRoIiwic3Ryb2tlQ29sb3IiLCJoaWdobGlnaHRlZCIsImhpZ2hsaWdodENvbG9yIiwidHJhbnNmb3JtIiwiZ2V0VHJhbnNmb3JtIiwicmVidWlsZFRleHRTdmciLCJnZXRQYXRoIiwiam9pbiIsInZhbHVlIiwiYmFja2dyb3VuZENvbG9yIiwibWFya3VwIiwic2V0QXR0cmlidXRlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwidHNwYW4iLCJ0ZXh0Q29udGVudCIsImxpbmVTaXplIiwic2l6ZUZyb21DbGllbnRUb01hcmt1cHMiLCJlZGdlSCIsInRleHRPZmZzZXQiLCJvZmZzZXQiLCJ0ZXh0VHJhbnNmb3JtIiwiZ2V0VGV4dFRyYW5zZm9ybSIsImJhY2tncm91bmRUcmFuc2Zvcm0iLCJzaG91bGRGbGlwIiwiaW52ZXJzZSIsImZsaXAiLCJzZXRQb3NpdGlvbiIsImR4IiwiZHkiLCJ4byIsInlvIiwiZ2VuZXJhdGVQb2ludDNkIiwiaWRUYXJnZXQiLCJwb3NpdGlvbkZyb21NYXJrdXBzVG9DbGllbnQiLCJkaXJlY3Rpb24iLCJwb2ludDJkIiwicG9pbnQzZCIsImNsaWVudFRvV29ybGQiLCJwb2ludCIsInNldE1ldGFkYXRhIiwibWV0YWRhdGEiLCJTdHJpbmciLCJnZXRUZXh0Iiwic2VnbWVudExlbmd0aCIsImNsb25lU2hhcGUiLCJnZXRCb3VuZGluZ1JlY3QiLCJwb3MiLCJnZXRDbGllbnRQb3NpdGlvbiIsImdldENsaWVudFNpemUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/MarkupDimension.js\n");

/***/ }),

/***/ "./extensions/Markup/core/MarkupEvents.js":
/*!************************************************!*\
  !*** ./extensions/Markup/core/MarkupEvents.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EVENT_EDITFRAME_EDITION_END: () => (/* binding */ EVENT_EDITFRAME_EDITION_END),\n/* harmony export */   EVENT_EDITFRAME_EDITION_START: () => (/* binding */ EVENT_EDITFRAME_EDITION_START),\n/* harmony export */   EVENT_EDITMODE_CHANGED: () => (/* binding */ EVENT_EDITMODE_CHANGED),\n/* harmony export */   EVENT_EDITMODE_CREATION_BEGIN: () => (/* binding */ EVENT_EDITMODE_CREATION_BEGIN),\n/* harmony export */   EVENT_EDITMODE_CREATION_END: () => (/* binding */ EVENT_EDITMODE_CREATION_END),\n/* harmony export */   EVENT_EDITMODE_ENTER: () => (/* binding */ EVENT_EDITMODE_ENTER),\n/* harmony export */   EVENT_EDITMODE_LEAVE: () => (/* binding */ EVENT_EDITMODE_LEAVE),\n/* harmony export */   EVENT_HISTORY_CHANGED: () => (/* binding */ EVENT_HISTORY_CHANGED),\n/* harmony export */   EVENT_MARKUP_CANCEL_EDITION: () => (/* binding */ EVENT_MARKUP_CANCEL_EDITION),\n/* harmony export */   EVENT_MARKUP_DELETE_EDITION: () => (/* binding */ EVENT_MARKUP_DELETE_EDITION),\n/* harmony export */   EVENT_MARKUP_DESELECT: () => (/* binding */ EVENT_MARKUP_DESELECT),\n/* harmony export */   EVENT_MARKUP_DRAGGING: () => (/* binding */ EVENT_MARKUP_DRAGGING),\n/* harmony export */   EVENT_MARKUP_ENTER_EDITION: () => (/* binding */ EVENT_MARKUP_ENTER_EDITION),\n/* harmony export */   EVENT_MARKUP_SELECTED: () => (/* binding */ EVENT_MARKUP_SELECTED)\n/* harmony export */ });\n\n\n/**\n * Fired whenever the drawing tool changes. For example, when the Arrow drawing\n * tool changes into the Rectangle drawing tool.\n *\n * @event Autodesk.Viewing.Extensions.MarkupsCore#EVENT_EDITMODE_CHANGED\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @type {string}\n */\nconst EVENT_EDITMODE_CHANGED = \"EVENT_EDITMODE_CHANGED\";\n\n/**\n * Fired when Edit mode has been enabled, which allows the end user to start\n * drawing markups over the Viewer canvas.\n *\n * @event Autodesk.Viewing.Extensions.MarkupsCore#EVENT_EDITMODE_ENTER\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @type {string}\n */\nconst EVENT_EDITMODE_ENTER = \"EVENT_EDITMODE_ENTER\";\n\n/**\n * Fired when Edit mode has been disabled, preventing the end user from\n * drawing markups over the Viewer canvas.\n *\n * @event Autodesk.Viewing.Extensions.MarkupsCore#EVENT_EDITMODE_LEAVE\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @type {string}\n */\nconst EVENT_EDITMODE_LEAVE = \"EVENT_EDITMODE_LEAVE\";\n\n/**\n * Fired when a drawn markup has been selected by the end user with a click command.\n *\n * @event Autodesk.Viewing.Extensions.MarkupsCore#EVENT_MARKUP_SELECTED\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @type {object}\n * @property {Markup} markup The selected markup\n */\nconst EVENT_MARKUP_SELECTED = \"EVENT_MARKUP_SELECTED\";\n\n/**\n * Fired when a drawn markup is being dragged over the Viewer canvas.\n *\n * @event Autodesk.Viewing.Extensions.MarkupsCore#EVENT_MARKUP_DRAGGING\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @type {string}\n */\nconst EVENT_MARKUP_DRAGGING = \"EVENT_MARKUP_DRAGGING\";\n\n/**\n * Internal usage only.\n *\n * @event Autodesk.Viewing.Extensions.MarkupsCore#EVENT_MARKUP_ENTER_EDITION\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @type {string}\n * @private\n */\nconst EVENT_MARKUP_ENTER_EDITION = \"EVENT_MARKUP_ENTER_EDITION\";\n\n/**\n * Internal usage only.\n *\n * @event Autodesk.Viewing.Extensions.MarkupsCore#EVENT_MARKUP_CANCEL_EDITION\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @type {string}\n * @private\n */\nconst EVENT_MARKUP_CANCEL_EDITION = \"EVENT_MARKUP_CANCEL_EDITION\";\n\n/**\n * Internal usage only.\n *\n * @event Autodesk.Viewing.Extensions.MarkupsCore#EVENT_MARKUP_DELETE_EDITION\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @type {string}\n * @private\n */\nconst EVENT_MARKUP_DELETE_EDITION = \"EVENT_MARKUP_DELETE_EDITION\";\n\n/**\n * @typedef {object} EventHistoryChangedData\n The event data to identify the action and target for MarkupCore.EVENT_HISTORY_CHANGED event.\n * @property {string} action A string identifier for the action taken, like redo, undo, cancel, execute, clear\n * @property {number} targetId A number targetId based on the action.\n */\n\n/**\n * Fired whenever a new undo or redo action is available.\n * @event Autodesk.Viewing.Extensions.MarkupsCore#EVENT_HISTORY_CHANGED\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @type {object}\n * @property {EventHistoryChangedData} data The event data to identify the action and target\n *\n */\nconst EVENT_HISTORY_CHANGED = \"EVENT_HISTORY_CHANGED\";\n\n/**\n * Fired when a markup creation begins.\n * For example, as soon as the user starts dragging with the mouse\n * to draw an arrow on the screen.\n * @event Autodesk.Viewing.Extensions.MarkupsCore#EVENT_EDITMODE_CREATION_BEGIN\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @type {string}\n */\nconst EVENT_EDITMODE_CREATION_BEGIN = \"EVENT_EDITMODE_CREATION_BEGIN\";\n\n/**\n * Fired when a markup has been created.\n * For example, as soon as the user stops dragging and releases the\n * mouse button to finish drawing an arrow on the screen\n * @event Autodesk.Viewing.Extensions.MarkupsCore#EVENT_EDITMODE_CREATION_END\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @type {string}\n */\nconst EVENT_EDITMODE_CREATION_END = \"EVENT_EDITMODE_CREATION_END\";\n\n/**\n * Fired when a markup is no longer selected.\n * @event Autodesk.Viewing.Extensions.MarkupsCore#EVENT_MARKUP_DESELECT\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @type {object}\n * @property {number} markupId The id of the selected markup\n */\nconst EVENT_MARKUP_DESELECT = \"EVENT_MARKUP_DESELECT\";\n\n/**\n * The selected markup is being modified, i.e, resizing, rotating, moving around\n * @event Autodesk.Viewing.Extensions.MarkupsCore#EVENT_EDITFRAME_EDITION_START\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @type {string}\n */\nconst EVENT_EDITFRAME_EDITION_START = \"EVENT_EDITFRAME_EDITION_START\";\n\n/**\n * The selected markup is no longer being modified\n * @event Autodesk.Viewing.Extensions.MarkupsCore#EVENT_EDITFRAME_EDITION_END\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @type {string}\n */\nconst EVENT_EDITFRAME_EDITION_END = \"EVENT_EDITFRAME_EDITION_END\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL01hcmt1cEV2ZW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxNQUFNQSxzQkFBc0IsR0FBRyx3QkFBd0I7O0FBRTlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxNQUFNQyxvQkFBb0IsR0FBRyxzQkFBc0I7O0FBRTFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxNQUFNQyxvQkFBb0IsR0FBRyxzQkFBc0I7O0FBRTFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxNQUFNQyxxQkFBcUIsR0FBRyx1QkFBdUI7O0FBRTVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sTUFBTUMscUJBQXFCLEdBQUcsdUJBQXVCOztBQUU1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sTUFBTUMsMEJBQTBCLEdBQUcsNEJBQTRCOztBQUV0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sTUFBTUMsMkJBQTJCLEdBQUcsNkJBQTZCOztBQUV4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sTUFBTUMsMkJBQTJCLEdBQUcsNkJBQTZCOztBQUV4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLE1BQU1DLHFCQUFxQixHQUFHLHVCQUF1Qjs7QUFFNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLE1BQU1DLDZCQUE2QixHQUFHLCtCQUErQjs7QUFFNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLE1BQU1DLDJCQUEyQixHQUFHLDZCQUE2Qjs7QUFFeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxNQUFNQyxxQkFBcUIsR0FBRyx1QkFBdUI7O0FBRTVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLE1BQU1DLDZCQUE2QixHQUFHLCtCQUErQjs7QUFFNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sTUFBTUMsMkJBQTJCLEdBQUcsNkJBQTZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvTWFya3VwRXZlbnRzLmpzPzgzYTAiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEZpcmVkIHdoZW5ldmVyIHRoZSBkcmF3aW5nIHRvb2wgY2hhbmdlcy4gRm9yIGV4YW1wbGUsIHdoZW4gdGhlIEFycm93IGRyYXdpbmdcbiAqIHRvb2wgY2hhbmdlcyBpbnRvIHRoZSBSZWN0YW5nbGUgZHJhd2luZyB0b29sLlxuICpcbiAqIEBldmVudCBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwc0NvcmUjRVZFTlRfRURJVE1PREVfQ0hBTkdFRFxuICogQG1lbWJlcm9mIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZVxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IEVWRU5UX0VESVRNT0RFX0NIQU5HRUQgPSBcIkVWRU5UX0VESVRNT0RFX0NIQU5HRURcIjtcblxuLyoqXG4gKiBGaXJlZCB3aGVuIEVkaXQgbW9kZSBoYXMgYmVlbiBlbmFibGVkLCB3aGljaCBhbGxvd3MgdGhlIGVuZCB1c2VyIHRvIHN0YXJ0XG4gKiBkcmF3aW5nIG1hcmt1cHMgb3ZlciB0aGUgVmlld2VyIGNhbnZhcy5cbiAqXG4gKiBAZXZlbnQgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlI0VWRU5UX0VESVRNT0RFX0VOVEVSXG4gKiBAbWVtYmVyb2YgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgRVZFTlRfRURJVE1PREVfRU5URVIgPSBcIkVWRU5UX0VESVRNT0RFX0VOVEVSXCI7XG5cbi8qKlxuICogRmlyZWQgd2hlbiBFZGl0IG1vZGUgaGFzIGJlZW4gZGlzYWJsZWQsIHByZXZlbnRpbmcgdGhlIGVuZCB1c2VyIGZyb21cbiAqIGRyYXdpbmcgbWFya3VwcyBvdmVyIHRoZSBWaWV3ZXIgY2FudmFzLlxuICpcbiAqIEBldmVudCBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwc0NvcmUjRVZFTlRfRURJVE1PREVfTEVBVkVcbiAqIEBtZW1iZXJvZiBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwc0NvcmVcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBFVkVOVF9FRElUTU9ERV9MRUFWRSA9IFwiRVZFTlRfRURJVE1PREVfTEVBVkVcIjtcblxuLyoqXG4gKiBGaXJlZCB3aGVuIGEgZHJhd24gbWFya3VwIGhhcyBiZWVuIHNlbGVjdGVkIGJ5IHRoZSBlbmQgdXNlciB3aXRoIGEgY2xpY2sgY29tbWFuZC5cbiAqXG4gKiBAZXZlbnQgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlI0VWRU5UX01BUktVUF9TRUxFQ1RFRFxuICogQG1lbWJlcm9mIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7TWFya3VwfSBtYXJrdXAgVGhlIHNlbGVjdGVkIG1hcmt1cFxuICovXG5leHBvcnQgY29uc3QgRVZFTlRfTUFSS1VQX1NFTEVDVEVEID0gXCJFVkVOVF9NQVJLVVBfU0VMRUNURURcIjtcblxuLyoqXG4gKiBGaXJlZCB3aGVuIGEgZHJhd24gbWFya3VwIGlzIGJlaW5nIGRyYWdnZWQgb3ZlciB0aGUgVmlld2VyIGNhbnZhcy5cbiAqXG4gKiBAZXZlbnQgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlI0VWRU5UX01BUktVUF9EUkFHR0lOR1xuICogQG1lbWJlcm9mIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZVxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IEVWRU5UX01BUktVUF9EUkFHR0lORyA9IFwiRVZFTlRfTUFSS1VQX0RSQUdHSU5HXCI7XG5cbi8qKlxuICogSW50ZXJuYWwgdXNhZ2Ugb25seS5cbiAqXG4gKiBAZXZlbnQgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlI0VWRU5UX01BUktVUF9FTlRFUl9FRElUSU9OXG4gKiBAbWVtYmVyb2YgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IEVWRU5UX01BUktVUF9FTlRFUl9FRElUSU9OID0gXCJFVkVOVF9NQVJLVVBfRU5URVJfRURJVElPTlwiO1xuXG4vKipcbiAqIEludGVybmFsIHVzYWdlIG9ubHkuXG4gKlxuICogQGV2ZW50IEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZSNFVkVOVF9NQVJLVVBfQ0FOQ0VMX0VESVRJT05cbiAqIEBtZW1iZXJvZiBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwc0NvcmVcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgY29uc3QgRVZFTlRfTUFSS1VQX0NBTkNFTF9FRElUSU9OID0gXCJFVkVOVF9NQVJLVVBfQ0FOQ0VMX0VESVRJT05cIjtcblxuLyoqXG4gKiBJbnRlcm5hbCB1c2FnZSBvbmx5LlxuICpcbiAqIEBldmVudCBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwc0NvcmUjRVZFTlRfTUFSS1VQX0RFTEVURV9FRElUSU9OXG4gKiBAbWVtYmVyb2YgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IEVWRU5UX01BUktVUF9ERUxFVEVfRURJVElPTiA9IFwiRVZFTlRfTUFSS1VQX0RFTEVURV9FRElUSU9OXCI7XG5cbi8qKlxuICogQHR5cGVkZWYge29iamVjdH0gRXZlbnRIaXN0b3J5Q2hhbmdlZERhdGFcbiBUaGUgZXZlbnQgZGF0YSB0byBpZGVudGlmeSB0aGUgYWN0aW9uIGFuZCB0YXJnZXQgZm9yIE1hcmt1cENvcmUuRVZFTlRfSElTVE9SWV9DSEFOR0VEIGV2ZW50LlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGFjdGlvbiBBIHN0cmluZyBpZGVudGlmaWVyIGZvciB0aGUgYWN0aW9uIHRha2VuLCBsaWtlIHJlZG8sIHVuZG8sIGNhbmNlbCwgZXhlY3V0ZSwgY2xlYXJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0YXJnZXRJZCBBIG51bWJlciB0YXJnZXRJZCBiYXNlZCBvbiB0aGUgYWN0aW9uLlxuICovXG5cbi8qKlxuICogRmlyZWQgd2hlbmV2ZXIgYSBuZXcgdW5kbyBvciByZWRvIGFjdGlvbiBpcyBhdmFpbGFibGUuXG4gKiBAZXZlbnQgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlI0VWRU5UX0hJU1RPUllfQ0hBTkdFRFxuICogQG1lbWJlcm9mIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7RXZlbnRIaXN0b3J5Q2hhbmdlZERhdGF9IGRhdGEgVGhlIGV2ZW50IGRhdGEgdG8gaWRlbnRpZnkgdGhlIGFjdGlvbiBhbmQgdGFyZ2V0XG4gKlxuICovXG5leHBvcnQgY29uc3QgRVZFTlRfSElTVE9SWV9DSEFOR0VEID0gXCJFVkVOVF9ISVNUT1JZX0NIQU5HRURcIjtcblxuLyoqXG4gKiBGaXJlZCB3aGVuIGEgbWFya3VwIGNyZWF0aW9uIGJlZ2lucy5cbiAqIEZvciBleGFtcGxlLCBhcyBzb29uIGFzIHRoZSB1c2VyIHN0YXJ0cyBkcmFnZ2luZyB3aXRoIHRoZSBtb3VzZVxuICogdG8gZHJhdyBhbiBhcnJvdyBvbiB0aGUgc2NyZWVuLlxuICogQGV2ZW50IEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZSNFVkVOVF9FRElUTU9ERV9DUkVBVElPTl9CRUdJTlxuICogQG1lbWJlcm9mIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZVxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IEVWRU5UX0VESVRNT0RFX0NSRUFUSU9OX0JFR0lOID0gXCJFVkVOVF9FRElUTU9ERV9DUkVBVElPTl9CRUdJTlwiO1xuXG4vKipcbiAqIEZpcmVkIHdoZW4gYSBtYXJrdXAgaGFzIGJlZW4gY3JlYXRlZC5cbiAqIEZvciBleGFtcGxlLCBhcyBzb29uIGFzIHRoZSB1c2VyIHN0b3BzIGRyYWdnaW5nIGFuZCByZWxlYXNlcyB0aGVcbiAqIG1vdXNlIGJ1dHRvbiB0byBmaW5pc2ggZHJhd2luZyBhbiBhcnJvdyBvbiB0aGUgc2NyZWVuXG4gKiBAZXZlbnQgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlI0VWRU5UX0VESVRNT0RFX0NSRUFUSU9OX0VORFxuICogQG1lbWJlcm9mIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZVxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IEVWRU5UX0VESVRNT0RFX0NSRUFUSU9OX0VORCA9IFwiRVZFTlRfRURJVE1PREVfQ1JFQVRJT05fRU5EXCI7XG5cbi8qKlxuICogRmlyZWQgd2hlbiBhIG1hcmt1cCBpcyBubyBsb25nZXIgc2VsZWN0ZWQuXG4gKiBAZXZlbnQgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlI0VWRU5UX01BUktVUF9ERVNFTEVDVFxuICogQG1lbWJlcm9mIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXJrdXBJZCBUaGUgaWQgb2YgdGhlIHNlbGVjdGVkIG1hcmt1cFxuICovXG5leHBvcnQgY29uc3QgRVZFTlRfTUFSS1VQX0RFU0VMRUNUID0gXCJFVkVOVF9NQVJLVVBfREVTRUxFQ1RcIjtcblxuLyoqXG4gKiBUaGUgc2VsZWN0ZWQgbWFya3VwIGlzIGJlaW5nIG1vZGlmaWVkLCBpLmUsIHJlc2l6aW5nLCByb3RhdGluZywgbW92aW5nIGFyb3VuZFxuICogQGV2ZW50IEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZSNFVkVOVF9FRElURlJBTUVfRURJVElPTl9TVEFSVFxuICogQG1lbWJlcm9mIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZVxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IEVWRU5UX0VESVRGUkFNRV9FRElUSU9OX1NUQVJUID0gXCJFVkVOVF9FRElURlJBTUVfRURJVElPTl9TVEFSVFwiO1xuXG4vKipcbiAqIFRoZSBzZWxlY3RlZCBtYXJrdXAgaXMgbm8gbG9uZ2VyIGJlaW5nIG1vZGlmaWVkXG4gKiBAZXZlbnQgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlI0VWRU5UX0VESVRGUkFNRV9FRElUSU9OX0VORFxuICogQG1lbWJlcm9mIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZVxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IEVWRU5UX0VESVRGUkFNRV9FRElUSU9OX0VORCA9IFwiRVZFTlRfRURJVEZSQU1FX0VESVRJT05fRU5EXCI7Il0sIm5hbWVzIjpbIkVWRU5UX0VESVRNT0RFX0NIQU5HRUQiLCJFVkVOVF9FRElUTU9ERV9FTlRFUiIsIkVWRU5UX0VESVRNT0RFX0xFQVZFIiwiRVZFTlRfTUFSS1VQX1NFTEVDVEVEIiwiRVZFTlRfTUFSS1VQX0RSQUdHSU5HIiwiRVZFTlRfTUFSS1VQX0VOVEVSX0VESVRJT04iLCJFVkVOVF9NQVJLVVBfQ0FOQ0VMX0VESVRJT04iLCJFVkVOVF9NQVJLVVBfREVMRVRFX0VESVRJT04iLCJFVkVOVF9ISVNUT1JZX0NIQU5HRUQiLCJFVkVOVF9FRElUTU9ERV9DUkVBVElPTl9CRUdJTiIsIkVWRU5UX0VESVRNT0RFX0NSRUFUSU9OX0VORCIsIkVWRU5UX01BUktVUF9ERVNFTEVDVCIsIkVWRU5UX0VESVRGUkFNRV9FRElUSU9OX1NUQVJUIiwiRVZFTlRfRURJVEZSQU1FX0VESVRJT05fRU5EIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/MarkupEvents.js\n");

/***/ }),

/***/ "./extensions/Markup/core/MarkupFreehand.js":
/*!**************************************************!*\
  !*** ./extensions/Markup/core/MarkupFreehand.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MarkupFreehand: () => (/* binding */ MarkupFreehand)\n/* harmony export */ });\n/* harmony import */ var _MarkupPen__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MarkupPen */ \"./extensions/Markup/core/MarkupPen.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n/* harmony import */ var _edit_modes_EditModeFreehand__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./edit-modes/EditModeFreehand */ \"./extensions/Markup/core/edit-modes/EditModeFreehand.js\");\n\n\n\n\n\n\n\n/**\n *\n * @param id\n * @param editor\n * @constructor\n */\nfunction MarkupFreehand(id, editor) {\n\n  _MarkupPen__WEBPACK_IMPORTED_MODULE_0__.MarkupPen.call(this, id, editor);\n  this.type = _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__.MARKUP_TYPE_FREEHAND;\n}\n\nMarkupFreehand.prototype = Object.create(_MarkupPen__WEBPACK_IMPORTED_MODULE_0__.MarkupPen.prototype);\nMarkupFreehand.prototype.constructor = MarkupFreehand;\n\nvar proto = MarkupFreehand.prototype;\n\nproto.getEditMode = function () {\n\n  return new _edit_modes_EditModeFreehand__WEBPACK_IMPORTED_MODULE_2__.EditModeFreehand(this.editor);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL01hcmt1cEZyZWVoYW5kLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBYTs7QUFFMkI7QUFDSztBQUNvQjs7O0FBRzdEO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNXLFNBQVNHLGNBQWNBLENBQUNDLEVBQUUsRUFBRUMsTUFBTSxFQUFFOztFQUV2Q0wsaURBQVMsQ0FBQ00sSUFBSSxDQUFDLElBQUksRUFBRUYsRUFBRSxFQUFFQyxNQUFNLENBQUM7RUFDaEMsSUFBSSxDQUFDRSxJQUFJLEdBQUdOLDhEQUFnQztBQUNoRDs7QUFFQUUsY0FBYyxDQUFDTSxTQUFTLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDWCxpREFBUyxDQUFDUyxTQUFTLENBQUM7QUFDN0ROLGNBQWMsQ0FBQ00sU0FBUyxDQUFDRyxXQUFXLEdBQUdULGNBQWM7O0FBRXJELElBQUlVLEtBQUssR0FBR1YsY0FBYyxDQUFDTSxTQUFTOztBQUVwQ0ksS0FBSyxDQUFDQyxXQUFXLEdBQUcsWUFBVzs7RUFFM0IsT0FBTyxJQUFJWiwwRUFBZ0IsQ0FBQyxJQUFJLENBQUNHLE1BQU0sQ0FBQztBQUM1QyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvTWFya3VwRnJlZWhhbmQuanM/NjUzYiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IE1hcmt1cFBlbiB9IGZyb20gJy4vTWFya3VwUGVuJztcbmltcG9ydCAqIGFzIE1hcmt1cFR5cGVzIGZyb20gJy4vTWFya3VwVHlwZXMnO1xuaW1wb3J0IHsgRWRpdE1vZGVGcmVlaGFuZCB9IGZyb20gJy4vZWRpdC1tb2Rlcy9FZGl0TW9kZUZyZWVoYW5kJztcblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaWRcbiAgICAgKiBAcGFyYW0gZWRpdG9yXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIE1hcmt1cEZyZWVoYW5kKGlkLCBlZGl0b3IpIHtcblxuICAgICAgICBNYXJrdXBQZW4uY2FsbCh0aGlzLCBpZCwgZWRpdG9yKTtcbiAgICAgICAgdGhpcy50eXBlID0gTWFya3VwVHlwZXMuTUFSS1VQX1RZUEVfRlJFRUhBTkQ7XG4gICAgfVxuXG4gICAgTWFya3VwRnJlZWhhbmQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNYXJrdXBQZW4ucHJvdG90eXBlKTtcbiAgICBNYXJrdXBGcmVlaGFuZC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNYXJrdXBGcmVlaGFuZDtcblxuICAgIHZhciBwcm90byA9IE1hcmt1cEZyZWVoYW5kLnByb3RvdHlwZTtcblxuICAgIHByb3RvLmdldEVkaXRNb2RlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBFZGl0TW9kZUZyZWVoYW5kKHRoaXMuZWRpdG9yKTtcbiAgICB9O1xuXG4iXSwibmFtZXMiOlsiTWFya3VwUGVuIiwiTWFya3VwVHlwZXMiLCJFZGl0TW9kZUZyZWVoYW5kIiwiTWFya3VwRnJlZWhhbmQiLCJpZCIsImVkaXRvciIsImNhbGwiLCJ0eXBlIiwiTUFSS1VQX1RZUEVfRlJFRUhBTkQiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwiZ2V0RWRpdE1vZGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/MarkupFreehand.js\n");

/***/ }),

/***/ "./extensions/Markup/core/MarkupHighlight.js":
/*!***************************************************!*\
  !*** ./extensions/Markup/core/MarkupHighlight.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MarkupHighlight: () => (/* binding */ MarkupHighlight)\n/* harmony export */ });\n/* harmony import */ var _MarkupPen__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MarkupPen */ \"./extensions/Markup/core/MarkupPen.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n/* harmony import */ var _edit_modes_EditModeHighlight__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./edit-modes/EditModeHighlight */ \"./extensions/Markup/core/edit-modes/EditModeHighlight.js\");\n\n\n\n\n\n\n/**\n *\n * @param id\n * @param editor\n * @constructor\n */\nfunction MarkupHighlight(id, editor) {\n\n  _MarkupPen__WEBPACK_IMPORTED_MODULE_0__.MarkupPen.call(this, id, editor);\n  this.type = _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__.MARKUP_TYPE_HIGHLIGHT;\n}\n\nMarkupHighlight.prototype = Object.create(_MarkupPen__WEBPACK_IMPORTED_MODULE_0__.MarkupPen.prototype);\nMarkupHighlight.prototype.constructor = MarkupHighlight;\n\nvar proto = MarkupHighlight.prototype;\n\nproto.getEditMode = function () {\n\n  return new _edit_modes_EditModeHighlight__WEBPACK_IMPORTED_MODULE_2__.EditModeHighlight(this.editor);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL01hcmt1cEhpZ2hsaWdodC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWE7O0FBRTJCO0FBQ0s7QUFDc0I7O0FBRS9EO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNXLFNBQVNHLGVBQWVBLENBQUNDLEVBQUUsRUFBRUMsTUFBTSxFQUFFOztFQUV4Q0wsaURBQVMsQ0FBQ00sSUFBSSxDQUFDLElBQUksRUFBRUYsRUFBRSxFQUFFQyxNQUFNLENBQUM7RUFDaEMsSUFBSSxDQUFDRSxJQUFJLEdBQUdOLCtEQUFpQztBQUNqRDs7QUFFQUUsZUFBZSxDQUFDTSxTQUFTLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDWCxpREFBUyxDQUFDUyxTQUFTLENBQUM7QUFDOUROLGVBQWUsQ0FBQ00sU0FBUyxDQUFDRyxXQUFXLEdBQUdULGVBQWU7O0FBRXZELElBQUlVLEtBQUssR0FBR1YsZUFBZSxDQUFDTSxTQUFTOztBQUVyQ0ksS0FBSyxDQUFDQyxXQUFXLEdBQUcsWUFBVzs7RUFFM0IsT0FBTyxJQUFJWiw0RUFBaUIsQ0FBQyxJQUFJLENBQUNHLE1BQU0sQ0FBQztBQUM3QyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvTWFya3VwSGlnaGxpZ2h0LmpzPzY2ODgiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBNYXJrdXBQZW4gfSBmcm9tICcuL01hcmt1cFBlbic7XG5pbXBvcnQgKiBhcyBNYXJrdXBUeXBlcyBmcm9tICcuL01hcmt1cFR5cGVzJztcbmltcG9ydCB7IEVkaXRNb2RlSGlnaGxpZ2h0IH0gZnJvbSAnLi9lZGl0LW1vZGVzL0VkaXRNb2RlSGlnaGxpZ2h0JztcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGlkXG4gICAgICogQHBhcmFtIGVkaXRvclxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBNYXJrdXBIaWdobGlnaHQoaWQsIGVkaXRvcikge1xuXG4gICAgICAgIE1hcmt1cFBlbi5jYWxsKHRoaXMsIGlkLCBlZGl0b3IpO1xuICAgICAgICB0aGlzLnR5cGUgPSBNYXJrdXBUeXBlcy5NQVJLVVBfVFlQRV9ISUdITElHSFQ7XG4gICAgfVxuXG4gICAgTWFya3VwSGlnaGxpZ2h0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTWFya3VwUGVuLnByb3RvdHlwZSk7XG4gICAgTWFya3VwSGlnaGxpZ2h0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE1hcmt1cEhpZ2hsaWdodDtcblxuICAgIHZhciBwcm90byA9IE1hcmt1cEhpZ2hsaWdodC5wcm90b3R5cGU7XG5cbiAgICBwcm90by5nZXRFZGl0TW9kZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHJldHVybiBuZXcgRWRpdE1vZGVIaWdobGlnaHQodGhpcy5lZGl0b3IpO1xuICAgIH07XG5cbiJdLCJuYW1lcyI6WyJNYXJrdXBQZW4iLCJNYXJrdXBUeXBlcyIsIkVkaXRNb2RlSGlnaGxpZ2h0IiwiTWFya3VwSGlnaGxpZ2h0IiwiaWQiLCJlZGl0b3IiLCJjYWxsIiwidHlwZSIsIk1BUktVUF9UWVBFX0hJR0hMSUdIVCIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwicHJvdG8iLCJnZXRFZGl0TW9kZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Markup/core/MarkupHighlight.js\n");

/***/ }),

/***/ "./extensions/Markup/core/MarkupPen.js":
/*!*********************************************!*\
  !*** ./extensions/Markup/core/MarkupPen.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MarkupPen: () => (/* binding */ MarkupPen)\n/* harmony export */ });\n/* harmony import */ var _Markup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Markup */ \"./extensions/Markup/core/Markup.js\");\n/* harmony import */ var _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupsCoreUtils */ \"./extensions/Markup/core/MarkupsCoreUtils.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n\n\n\n\n\n\n/**\n * Base class for Pen Markup rendering (currently freehand and highlighter)\n *\n * Derived classes must implement getEditMode()\n * @param id\n * @param editor\n * @constructor\n */\nfunction MarkupPen(id, editor) {\n\n  var styleAttributes = ['stroke-width', 'stroke-color', 'stroke-opacity'];\n  _Markup__WEBPACK_IMPORTED_MODULE_0__.Markup.call(this, id, editor, styleAttributes);\n\n  // bind to this to pass this.globalManager\n  this.addMarkupMetadata = _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_1__.addMarkupMetadata.bind(this);\n\n  this.shape = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_1__.createMarkupPathSvg)();\n\n  this.bindDomEvents();\n}\n\nMarkupPen.prototype = Object.create(_Markup__WEBPACK_IMPORTED_MODULE_0__.Markup.prototype);\nMarkupPen.prototype.constructor = MarkupPen;\n\nvar proto = MarkupPen.prototype;\n\n/**\n * Sets top-left and bottom-right values in client space coordinates (2d).\n *\n * @param position\n * @param size\n * @param locations\n */\nproto.set = function (position, size, locations, isAbsoluteCoords) {\n\n  this.rotation = 0; // Reset angle //\n  this.isAbsoluteCoords = isAbsoluteCoords;\n  if (this.isAbsoluteCoords) {\n    this.updatePath(locations);\n  } else {\n    this.locations = locations.slice(0);\n\n    this.size.x = size.x === 0 ? 1 : size.x;\n    this.size.y = size.y === 0 ? 1 : size.y;\n\n    this.setSize(position, size.x, size.y);\n    this.updateStyle();\n  }\n};\n\nproto.setPosition = function (x, y) {\n\n  this.position.x = x;\n  this.position.y = y;\n\n  var shape = this.shape;\n  var transform = this.getTransform();\n\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_1__.setAttributeToMarkupSvg)(shape, 'transform', transform);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_1__.updateMarkupPathSvgHitarea)(shape, this.editor);\n};\n\n/**\n * Applies data values into DOM element style/attribute(s)\n *\n */\nproto.updateStyle = function () {\n\n  var style = this.style;\n  var shape = this.shape;\n  var path = this.getPath().join(' ');\n\n  var strokeWidth = this.style['stroke-width'];\n  var strokeColor = this.highlighted ? this.highlightColor : (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_1__.composeRGBAString)(style['stroke-color'], style['stroke-opacity']);\n  var fillColor = 'none';\n\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_1__.setAttributeToMarkupSvg)(shape, 'stroke-width', strokeWidth);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_1__.setAttributeToMarkupSvg)(shape, 'stroke-linejoin', 'round');\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_1__.setAttributeToMarkupSvg)(shape, 'stroke-linecap', 'round');\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_1__.setAttributeToMarkupSvg)(shape, 'stroke', strokeColor);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_1__.setAttributeToMarkupSvg)(shape, 'fill', fillColor);\n\n  this.updatePath(path);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_1__.updateMarkupPathSvgHitarea)(shape, this.editor);\n};\n\nproto.updatePath = function (path) {\n  var shape = this.shape;\n  var transform = this.isAbsoluteCoords ? 'scale(1)' : this.getTransform();\n\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_1__.setAttributeToMarkupSvg)(shape, 'transform', transform);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_1__.setAttributeToMarkupSvg)(shape, 'd', path);\n};\n\n/**\n * Changes the position and size of the markup.\n * This gets called by the Autodesk.Viewing.Extensions.Markups.Core.SetSize edit action\n * @param {{x: Number, y: Number}} position\n * @param {Number} width\n * @param {Number} height\n */\nproto.setSize = function (position, width, height) {\n\n  width = width === 0 ? 1 : width;\n  height = height === 0 ? 1 : height;\n\n  var locations = this.locations;\n  var locationsCount = locations.length;\n\n  var scaleX = width / this.size.x;\n  var scaleY = height / this.size.y;\n\n  for (var i = 0; i < locationsCount; ++i) {\n\n    var point = locations[i];\n\n    point.x *= scaleX;\n    point.y *= scaleY;\n  }\n\n  this.position.x = position.x;\n  this.position.y = position.y;\n\n  this.size.x = width;\n  this.size.y = height;\n\n  this.updateStyle();\n};\n\nproto.setMetadata = function () {\n\n  var metadata = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_2__.cloneStyle)(this.style);\n\n  metadata.type = this.type;\n  metadata.position = [this.position.x, this.position.y].join(\" \");\n  metadata.size = [this.size.x, this.size.y].join(\" \");\n  metadata.rotation = String(this.rotation);\n  metadata.locations = this.locations.map(function (point) {\n    return [point.x, point.y].join(\" \");\n  }).join(\" \");\n\n  return this.addMarkupMetadata(this.shape, metadata);\n};\n\nproto.getPath = function () {\n\n  var path = [];\n  var locations = this.locations;\n  var locationsCount = locations.length;\n\n  if (locationsCount > 1) {\n\n    path.push('M');\n    path.push(+locations[0].x.toFixed(6));\n    path.push(+locations[0].y.toFixed(6));\n\n    for (var i = 1; i < locationsCount; ++i) {\n\n      var locationA = locations[i - 1];\n      var locationB = locations[i];\n\n      path.push('l');\n      path.push(+(locationB.x - locationA.x).toFixed(6));\n      path.push(+(locationB.y - locationA.y).toFixed(6));\n    }\n  }\n\n  return path;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RTs7SUFFcEJWLElBQUksQ0FBQ3FCLElBQUksQ0FBQyxHQUFHLENBQUM7SUFDZHJCLElBQUksQ0FBQ3FCLElBQUksQ0FBQyxDQUFFbEMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDSyxDQUFDLENBQUU4QixPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkN0QixJQUFJLENBQUNxQixJQUFJLENBQUMsQ0FBRWxDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQ00sQ0FBQyxDQUFFNkIsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDOztJQUV2QyxLQUFLLElBQUlSLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR0osY0FBYyxFQUFFLEVBQUVJLENBQUMsRUFBRTs7TUFFckMsSUFBSVMsU0FBUyxHQUFHcEMsU0FBUyxDQUFDMkIsQ0FBQyxHQUFHLENBQUMsQ0FBQztNQUNoQyxJQUFJVSxTQUFTLEdBQUdyQyxTQUFTLENBQUMyQixDQUFDLENBQUM7O01BRTVCZCxJQUFJLENBQUNxQixJQUFJLENBQUMsR0FBRyxDQUFDO01BQ2RyQixJQUFJLENBQUNxQixJQUFJLENBQUMsQ0FBQyxDQUFDRyxTQUFTLENBQUNoQyxDQUFDLEdBQUcrQixTQUFTLENBQUMvQixDQUFDLEVBQUU4QixPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDbER0QixJQUFJLENBQUNxQixJQUFJLENBQUMsQ0FBQyxDQUFDRyxTQUFTLENBQUMvQixDQUFDLEdBQUc4QixTQUFTLENBQUM5QixDQUFDLEVBQUU2QixPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdEQ7RUFDSjs7RUFFQSxPQUFPdEIsSUFBSTtBQUNmLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9NYXJrdXBQZW4uanM/NTdkOCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IE1hcmt1cCB9IGZyb20gJy4vTWFya3VwJztcbmltcG9ydCB7IGNyZWF0ZU1hcmt1cFBhdGhTdmcsIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnLCB1cGRhdGVNYXJrdXBQYXRoU3ZnSGl0YXJlYSxcbiAgICBjb21wb3NlUkdCQVN0cmluZywgYWRkTWFya3VwTWV0YWRhdGEgfSBmcm9tICcuL01hcmt1cHNDb3JlVXRpbHMnO1xuaW1wb3J0IHsgY2xvbmVTdHlsZSB9IGZyb20gJy4vU3R5bGVVdGlscyc7XG5cbiAgICAvKipcbiAgICAgKiBCYXNlIGNsYXNzIGZvciBQZW4gTWFya3VwIHJlbmRlcmluZyAoY3VycmVudGx5IGZyZWVoYW5kIGFuZCBoaWdobGlnaHRlcilcbiAgICAgKlxuICAgICAqIERlcml2ZWQgY2xhc3NlcyBtdXN0IGltcGxlbWVudCBnZXRFZGl0TW9kZSgpXG4gICAgICogQHBhcmFtIGlkXG4gICAgICogQHBhcmFtIGVkaXRvclxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBNYXJrdXBQZW4oaWQsIGVkaXRvcikge1xuXG4gICAgICAgIHZhciBzdHlsZUF0dHJpYnV0ZXMgPSBbJ3N0cm9rZS13aWR0aCcsICdzdHJva2UtY29sb3InLCdzdHJva2Utb3BhY2l0eSddO1xuICAgICAgICBNYXJrdXAuY2FsbCh0aGlzLCBpZCwgZWRpdG9yLCBzdHlsZUF0dHJpYnV0ZXMpO1xuXG4gICAgICAgIC8vIGJpbmQgdG8gdGhpcyB0byBwYXNzIHRoaXMuZ2xvYmFsTWFuYWdlclxuICAgICAgICB0aGlzLmFkZE1hcmt1cE1ldGFkYXRhID0gYWRkTWFya3VwTWV0YWRhdGEuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLnNoYXBlID0gY3JlYXRlTWFya3VwUGF0aFN2ZygpO1xuXG4gICAgICAgIHRoaXMuYmluZERvbUV2ZW50cygpO1xuICAgIH1cblxuICAgIE1hcmt1cFBlbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE1hcmt1cC5wcm90b3R5cGUpO1xuICAgIE1hcmt1cFBlbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNYXJrdXBQZW47XG5cbiAgICB2YXIgcHJvdG8gPSBNYXJrdXBQZW4ucHJvdG90eXBlO1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0b3AtbGVmdCBhbmQgYm90dG9tLXJpZ2h0IHZhbHVlcyBpbiBjbGllbnQgc3BhY2UgY29vcmRpbmF0ZXMgKDJkKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwb3NpdGlvblxuICAgICAqIEBwYXJhbSBzaXplXG4gICAgICogQHBhcmFtIGxvY2F0aW9uc1xuICAgICAqL1xuICAgIHByb3RvLnNldCA9IGZ1bmN0aW9uKHBvc2l0aW9uLCBzaXplLCBsb2NhdGlvbnMsIGlzQWJzb2x1dGVDb29yZHMpIHtcblxuICAgICAgICB0aGlzLnJvdGF0aW9uID0gMDsgLy8gUmVzZXQgYW5nbGUgLy9cbiAgICAgICAgdGhpcy5pc0Fic29sdXRlQ29vcmRzID0gaXNBYnNvbHV0ZUNvb3JkcztcbiAgICAgICAgaWYgKHRoaXMuaXNBYnNvbHV0ZUNvb3Jkcykge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQYXRoKGxvY2F0aW9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxvY2F0aW9ucyA9IGxvY2F0aW9ucy5zbGljZSgwKTtcblxuICAgICAgICAgICAgdGhpcy5zaXplLnggPSAoc2l6ZS54ID09PSAwKSA/IDEgOiBzaXplLng7XG4gICAgICAgICAgICB0aGlzLnNpemUueSA9IChzaXplLnkgPT09IDApID8gMSA6IHNpemUueTtcblxuICAgICAgICAgICAgdGhpcy5zZXRTaXplKHBvc2l0aW9uLCBzaXplLngsIHNpemUueSk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0eWxlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvdG8uc2V0UG9zaXRpb24gPSBmdW5jdGlvbih4LHkpIHtcblxuICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSB4O1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSB5O1xuXG4gICAgICAgIHZhciBzaGFwZSA9IHRoaXMuc2hhcGU7XG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSB0aGlzLmdldFRyYW5zZm9ybSgpO1xuXG4gICAgICAgIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnKHNoYXBlLCAndHJhbnNmb3JtJywgdHJhbnNmb3JtKTtcbiAgICAgICAgdXBkYXRlTWFya3VwUGF0aFN2Z0hpdGFyZWEoc2hhcGUsIHRoaXMuZWRpdG9yKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBkYXRhIHZhbHVlcyBpbnRvIERPTSBlbGVtZW50IHN0eWxlL2F0dHJpYnV0ZShzKVxuICAgICAqXG4gICAgICovXG4gICAgcHJvdG8udXBkYXRlU3R5bGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLnN0eWxlO1xuICAgICAgICB2YXIgc2hhcGUgPSB0aGlzLnNoYXBlO1xuICAgICAgICB2YXIgcGF0aCA9IHRoaXMuZ2V0UGF0aCgpLmpvaW4oJyAnKTtcblxuICAgICAgICB2YXIgc3Ryb2tlV2lkdGggPSB0aGlzLnN0eWxlWydzdHJva2Utd2lkdGgnXTtcbiAgICAgICAgdmFyIHN0cm9rZUNvbG9yID0gdGhpcy5oaWdobGlnaHRlZCA/IHRoaXMuaGlnaGxpZ2h0Q29sb3IgOiBjb21wb3NlUkdCQVN0cmluZyhzdHlsZVsnc3Ryb2tlLWNvbG9yJ10sIHN0eWxlWydzdHJva2Utb3BhY2l0eSddKTtcbiAgICAgICAgdmFyIGZpbGxDb2xvciA9ICdub25lJztcblxuICAgICAgICBzZXRBdHRyaWJ1dGVUb01hcmt1cFN2ZyhzaGFwZSwgJ3N0cm9rZS13aWR0aCcsIHN0cm9rZVdpZHRoKTtcbiAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcoc2hhcGUsICdzdHJva2UtbGluZWpvaW4nLCAncm91bmQnKTtcbiAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcoc2hhcGUsICdzdHJva2UtbGluZWNhcCcsICdyb3VuZCcpO1xuICAgICAgICBzZXRBdHRyaWJ1dGVUb01hcmt1cFN2ZyhzaGFwZSwgJ3N0cm9rZScsIHN0cm9rZUNvbG9yKTtcbiAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcoc2hhcGUsICdmaWxsJywgZmlsbENvbG9yKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZVBhdGgocGF0aCk7XG4gICAgICAgIHVwZGF0ZU1hcmt1cFBhdGhTdmdIaXRhcmVhKHNoYXBlLCB0aGlzLmVkaXRvcik7XG4gICAgfTtcblxuICAgIHByb3RvLnVwZGF0ZVBhdGggPSBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHZhciBzaGFwZSA9IHRoaXMuc2hhcGU7XG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSB0aGlzLmlzQWJzb2x1dGVDb29yZHMgPyAnc2NhbGUoMSknIDogdGhpcy5nZXRUcmFuc2Zvcm0oKTtcblxuICAgICAgICBzZXRBdHRyaWJ1dGVUb01hcmt1cFN2ZyhzaGFwZSwgJ3RyYW5zZm9ybScsIHRyYW5zZm9ybSk7XG4gICAgICAgIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnKHNoYXBlLCAnZCcsIHBhdGgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBwb3NpdGlvbiBhbmQgc2l6ZSBvZiB0aGUgbWFya3VwLlxuICAgICAqIFRoaXMgZ2V0cyBjYWxsZWQgYnkgdGhlIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzLkNvcmUuU2V0U2l6ZSBlZGl0IGFjdGlvblxuICAgICAqIEBwYXJhbSB7e3g6IE51bWJlciwgeTogTnVtYmVyfX0gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0XG4gICAgICovXG4gICAgcHJvdG8uc2V0U2l6ZSA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgd2lkdGgsIGhlaWdodCkge1xuXG4gICAgICAgIHdpZHRoID0gKHdpZHRoID09PSAwID8gMSA6IHdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ID0gKGhlaWdodCA9PT0gMCA/IDEgOiBoZWlnaHQpO1xuXG4gICAgICAgIHZhciBsb2NhdGlvbnMgPSB0aGlzLmxvY2F0aW9ucztcbiAgICAgICAgdmFyIGxvY2F0aW9uc0NvdW50ID0gbG9jYXRpb25zLmxlbmd0aDtcblxuICAgICAgICB2YXIgc2NhbGVYID0gd2lkdGggLyB0aGlzLnNpemUueDtcbiAgICAgICAgdmFyIHNjYWxlWSA9IGhlaWdodCAvIHRoaXMuc2l6ZS55O1xuXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBsb2NhdGlvbnNDb3VudDsgKytpKSB7XG5cbiAgICAgICAgICAgIHZhciBwb2ludCA9IGxvY2F0aW9uc1tpXTtcblxuICAgICAgICAgICAgcG9pbnQueCAqPSBzY2FsZVg7XG4gICAgICAgICAgICBwb2ludC55ICo9IHNjYWxlWTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucG9zaXRpb24ueCA9IHBvc2l0aW9uLng7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA9IHBvc2l0aW9uLnk7XG5cbiAgICAgICAgdGhpcy5zaXplLnggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5zaXplLnkgPSBoZWlnaHQ7XG5cbiAgICAgICAgdGhpcy51cGRhdGVTdHlsZSgpO1xuICAgIH07XG5cbiAgICBwcm90by5zZXRNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBtZXRhZGF0YSA9IGNsb25lU3R5bGUodGhpcy5zdHlsZSk7XG5cbiAgICAgICAgbWV0YWRhdGEudHlwZSA9IHRoaXMudHlwZTtcbiAgICAgICAgbWV0YWRhdGEucG9zaXRpb24gPSBbdGhpcy5wb3NpdGlvbi54LCB0aGlzLnBvc2l0aW9uLnldLmpvaW4oXCIgXCIpO1xuICAgICAgICBtZXRhZGF0YS5zaXplID0gW3RoaXMuc2l6ZS54LCB0aGlzLnNpemUueV0uam9pbihcIiBcIik7XG4gICAgICAgIG1ldGFkYXRhLnJvdGF0aW9uID0gU3RyaW5nKHRoaXMucm90YXRpb24pO1xuICAgICAgICBtZXRhZGF0YS5sb2NhdGlvbnMgPSB0aGlzLmxvY2F0aW9ucy5tYXAoZnVuY3Rpb24ocG9pbnQpe1xuICAgICAgICAgICAgcmV0dXJuIFtwb2ludC54LCBwb2ludC55XS5qb2luKFwiIFwiKTtcbiAgICAgICAgfSkuam9pbihcIiBcIik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkTWFya3VwTWV0YWRhdGEodGhpcy5zaGFwZSwgbWV0YWRhdGEpO1xuICAgIH07XG5cbiAgICBwcm90by5nZXRQYXRoID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIHBhdGggPSBbXTtcbiAgICAgICAgdmFyIGxvY2F0aW9ucyA9IHRoaXMubG9jYXRpb25zO1xuICAgICAgICB2YXIgbG9jYXRpb25zQ291bnQgPSBsb2NhdGlvbnMubGVuZ3RoO1xuXG4gICAgICAgIGlmIChsb2NhdGlvbnNDb3VudCA+IDEpIHtcblxuICAgICAgICAgICAgcGF0aC5wdXNoKCdNJyk7XG4gICAgICAgICAgICBwYXRoLnB1c2goKyhsb2NhdGlvbnNbMF0ueCkudG9GaXhlZCg2KSk7XG4gICAgICAgICAgICBwYXRoLnB1c2goKyhsb2NhdGlvbnNbMF0ueSkudG9GaXhlZCg2KSk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbG9jYXRpb25zQ291bnQ7ICsraSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uQSA9IGxvY2F0aW9uc1tpIC0gMV07XG4gICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uQiA9IGxvY2F0aW9uc1tpXTtcblxuICAgICAgICAgICAgICAgIHBhdGgucHVzaCgnbCcpO1xuICAgICAgICAgICAgICAgIHBhdGgucHVzaCgrKGxvY2F0aW9uQi54IC0gbG9jYXRpb25BLngpLnRvRml4ZWQoNikpO1xuICAgICAgICAgICAgICAgIHBhdGgucHVzaCgrKGxvY2F0aW9uQi55IC0gbG9jYXRpb25BLnkpLnRvRml4ZWQoNikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfTtcblxuIl0sIm5hbWVzIjpbIk1hcmt1cCIsImNyZWF0ZU1hcmt1cFBhdGhTdmciLCJzZXRBdHRyaWJ1dGVUb01hcmt1cFN2ZyIsInVwZGF0ZU1hcmt1cFBhdGhTdmdIaXRhcmVhIiwiY29tcG9zZVJHQkFTdHJpbmciLCJhZGRNYXJrdXBNZXRhZGF0YSIsImNsb25lU3R5bGUiLCJNYXJrdXBQZW4iLCJpZCIsImVkaXRvciIsInN0eWxlQXR0cmlidXRlcyIsImNhbGwiLCJiaW5kIiwic2hhcGUiLCJiaW5kRG9tRXZlbnRzIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJwcm90byIsInNldCIsInBvc2l0aW9uIiwic2l6ZSIsImxvY2F0aW9ucyIsImlzQWJzb2x1dGVDb29yZHMiLCJyb3RhdGlvbiIsInVwZGF0ZVBhdGgiLCJzbGljZSIsIngiLCJ5Iiwic2V0U2l6ZSIsInVwZGF0ZVN0eWxlIiwic2V0UG9zaXRpb24iLCJ0cmFuc2Zvcm0iLCJnZXRUcmFuc2Zvcm0iLCJzdHlsZSIsInBhdGgiLCJnZXRQYXRoIiwiam9pbiIsInN0cm9rZVdpZHRoIiwic3Ryb2tlQ29sb3IiLCJoaWdobGlnaHRlZCIsImhpZ2hsaWdodENvbG9yIiwiZmlsbENvbG9yIiwid2lkdGgiLCJoZWlnaHQiLCJsb2NhdGlvbnNDb3VudCIsImxlbmd0aCIsInNjYWxlWCIsInNjYWxlWSIsImkiLCJwb2ludCIsInNldE1ldGFkYXRhIiwibWV0YWRhdGEiLCJ0eXBlIiwiU3RyaW5nIiwibWFwIiwicHVzaCIsInRvRml4ZWQiLCJsb2NhdGlvbkEiLCJsb2NhdGlvbkIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/MarkupPen.js\n");

/***/ }),

/***/ "./extensions/Markup/core/MarkupPolyLine.js":
/*!**************************************************!*\
  !*** ./extensions/Markup/core/MarkupPolyLine.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MarkupPolyline: () => (/* binding */ MarkupPolyline)\n/* harmony export */ });\n/* harmony import */ var _Markup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Markup */ \"./extensions/Markup/core/Markup.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n/* harmony import */ var _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MarkupsCoreUtils */ \"./extensions/Markup/core/MarkupsCoreUtils.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n/* harmony import */ var _edit_modes_EditModePolyline__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./edit-modes/EditModePolyline */ \"./extensions/Markup/core/edit-modes/EditModePolyline.js\");\n\n\n\n\n\n\n\n\n/**\n *\n * @param id\n * @param editor\n * @constructor\n */\nfunction MarkupPolyline(id, editor) {\n\n  var styleAttributes = ['stroke-width', 'stroke-color', 'stroke-opacity', 'fill-color', 'fill-opacity'];\n  _Markup__WEBPACK_IMPORTED_MODULE_0__.Markup.call(this, id, editor, styleAttributes);\n\n  // bind to this to pass this.globalManager\n  this.addMarkupMetadata = _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.addMarkupMetadata.bind(this);\n\n  this.type = _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__.MARKUP_TYPE_POLYLINE;\n  this.shape = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createMarkupPathSvg)('path');\n\n  this.bindDomEvents();\n}\n\nMarkupPolyline.prototype = Object.create(_Markup__WEBPACK_IMPORTED_MODULE_0__.Markup.prototype);\nMarkupPolyline.prototype.constructor = MarkupPolyline;\n\nvar proto = MarkupPolyline.prototype;\n\nproto.getEditMode = function () {\n\n  return new _edit_modes_EditModePolyline__WEBPACK_IMPORTED_MODULE_4__.EditModePolyline(this.editor);\n};\n\n/**\n * Sets top-left and bottom-right values in client space coordinates (2d).\n *\n * @param position\n * @param size\n * @param locations\n * @param closed\n */\nproto.set = function (position, size, locations, closed) {\n\n  this.rotation = 0; // Reset angle //\n  this.locations = locations.concat();\n\n  this.size.x = size.x === 0 ? 1 : size.x;\n  this.size.y = size.y === 0 ? 1 : size.y;\n\n  this.closed = closed;\n\n  this.setSize(position, size.x, size.y);\n  this.updateStyle();\n};\n\n\n/**\n * Applies data values into DOM element style/attribute(s)\n *\n */\nproto.updateStyle = function () {\n\n  var style = this.style;\n  var shape = this.shape;\n\n  var strokeWidth = this.style['stroke-width'];\n  var strokeColor = this.highlighted ? this.highlightColor : (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.composeRGBAString)(style['stroke-color'], style['stroke-opacity']);\n  var fillColor = this.closed ? (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.composeRGBAString)(style['fill-color'], style['fill-opacity']) : 'none';\n  var transform = this.getTransform();\n\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'd', this.getPath().join(' '));\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'stroke-width', strokeWidth);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'stroke', strokeColor);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'fill', fillColor);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'transform', transform);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.updateMarkupPathSvgHitarea)(shape, this.editor);\n};\n\n/**\n * Changes the position and size of the markup.\n * This gets called by the Autodesk.Viewing.Extensions.Markups.Core.SetSize edit action\n * @param {{x: Number, y: Number}} position\n * @param {Number} width\n * @param {Number} height\n */\nproto.setSize = function (position, width, height) {\n\n  width = width === 0 ? 1 : width;\n  height = height === 0 ? 1 : height;\n\n  var locations = this.locations;\n  var locationsCount = locations.length;\n\n  var scaleX = width / this.size.x;\n  var scaleY = height / this.size.y;\n\n  for (var i = 0; i < locationsCount; ++i) {\n\n    var point = locations[i];\n\n    point.x *= scaleX;\n    point.y *= scaleY;\n  }\n\n  this.position.x = position.x;\n  this.position.y = position.y;\n\n  this.size.x = width;\n  this.size.y = height;\n\n  this.updateStyle();\n};\n\nproto.setMetadata = function () {\n\n  var metadata = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_3__.cloneStyle)(this.style);\n\n  metadata.type = this.type;\n  metadata.position = [this.position.x, this.position.y].join(\" \");\n  metadata.size = [this.size.x, this.size.y].join(\" \");\n  metadata.rotation = String(this.rotation);\n  metadata.locations = this.locations.map(function (point) {\n    return [point.x, point.y].join(\" \");\n  }).join(\" \");\n\n  return this.addMarkupMetadata(this.shape, metadata);\n};\n\nproto.getPath = function () {\n\n  var path = [];\n  var locations = this.locations;\n  var locationsCount = locations.length;\n\n  if (locationsCount === 0) {\n    return ' ';\n  }\n\n  path.push('M');\n  path.push(locations[0].x);\n  path.push(locations[0].y);\n\n  for (var i = 1; i < locationsCount; ++i) {\n\n    var locationA = locations[i - 1];\n    var locationB = locations[i];\n\n    path.push('l');\n    path.push(locationB.x - locationA.x);\n    path.push(locationB.y - locationA.y);\n  }\n\n  this.closed && path.push('z');\n  return path;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL01hcmt1cFBvbHlMaW5lLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFhOztBQUVxQjtBQUNXO0FBRTBEO0FBQzdEO0FBQ3VCOztBQUU3RDtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTUyxjQUFjQSxDQUFDQyxFQUFFLEVBQUVDLE1BQU0sRUFBRTs7RUFFdkMsSUFBSUMsZUFBZSxHQUFHLENBQUMsY0FBYyxFQUFFLGNBQWMsRUFBQyxnQkFBZ0IsRUFBRSxZQUFZLEVBQUUsY0FBYyxDQUFDO0VBQ3JHWiwyQ0FBTSxDQUFDYSxJQUFJLENBQUMsSUFBSSxFQUFFSCxFQUFFLEVBQUVDLE1BQU0sRUFBRUMsZUFBZSxDQUFDOztFQUU5QztFQUNBLElBQUksQ0FBQ04saUJBQWlCLEdBQUdBLGdFQUFpQixDQUFDUSxJQUFJLENBQUMsSUFBSSxDQUFDOztFQUVyRCxJQUFJLENBQUNDLElBQUksR0FBR2QsOERBQWdDO0VBQzVDLElBQUksQ0FBQ2dCLEtBQUssR0FBR2Ysc0VBQW1CLENBQUMsTUFBTSxDQUFDOztFQUV4QyxJQUFJLENBQUNnQixhQUFhLENBQUMsQ0FBQztBQUN4Qjs7QUFFQVQsY0FBYyxDQUFDVSxTQUFTLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDckIsMkNBQU0sQ0FBQ21CLFNBQVMsQ0FBQztBQUMxRFYsY0FBYyxDQUFDVSxTQUFTLENBQUNHLFdBQVcsR0FBR2IsY0FBYzs7QUFFckQsSUFBSWMsS0FBSyxHQUFHZCxjQUFjLENBQUNVLFNBQVM7O0FBRXBDSSxLQUFLLENBQUNDLFdBQVcsR0FBRyxZQUFXOztFQUUzQixPQUFPLElBQUloQiwwRUFBZ0IsQ0FBQyxJQUFJLENBQUNHLE1BQU0sQ0FBQztBQUM1QyxDQUFDOztBQUVEO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDSVksS0FBSyxDQUFDRSxHQUFHLEdBQUcsVUFBU0MsUUFBUSxFQUFFQyxJQUFJLEVBQUVDLFNB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QUNwQzBCLElBQUksQ0FBQ0MsSUFBSSxDQUFDRSxTQUFTLENBQUM1QixDQUFDLEdBQUcyQixTQUFTLENBQUMzQixDQUFDLENBQUM7RUFDeEM7O0VBRUEsSUFBSSxDQUFDSixNQUFNLElBQUk2QixJQUFJLENBQUNDLElBQUksQ0FBQyxHQUFHLENBQUM7RUFDN0IsT0FBT0QsSUFBSTtBQUNmLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9NYXJrdXBQb2x5TGluZS5qcz82YzQ3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgTWFya3VwIH0gZnJvbSAnLi9NYXJrdXAnO1xuaW1wb3J0ICogYXMgTWFya3VwVHlwZXMgZnJvbSAnLi9NYXJrdXBUeXBlcyc7XG5pbXBvcnQgeyBjcmVhdGVNYXJrdXBQYXRoU3ZnLCBjb21wb3NlUkdCQVN0cmluZyxcbiAgICBzZXRBdHRyaWJ1dGVUb01hcmt1cFN2ZywgdXBkYXRlTWFya3VwUGF0aFN2Z0hpdGFyZWEsIGFkZE1hcmt1cE1ldGFkYXRhIH0gZnJvbSAnLi9NYXJrdXBzQ29yZVV0aWxzJztcbmltcG9ydCB7IGNsb25lU3R5bGUgfSBmcm9tICcuL1N0eWxlVXRpbHMnO1xuaW1wb3J0IHsgRWRpdE1vZGVQb2x5bGluZSB9IGZyb20gJy4vZWRpdC1tb2Rlcy9FZGl0TW9kZVBvbHlsaW5lJztcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGlkXG4gICAgICogQHBhcmFtIGVkaXRvclxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBNYXJrdXBQb2x5bGluZShpZCwgZWRpdG9yKSB7XG5cbiAgICAgICAgdmFyIHN0eWxlQXR0cmlidXRlcyA9IFsnc3Ryb2tlLXdpZHRoJywgJ3N0cm9rZS1jb2xvcicsJ3N0cm9rZS1vcGFjaXR5JywgJ2ZpbGwtY29sb3InLCAnZmlsbC1vcGFjaXR5J107XG4gICAgICAgIE1hcmt1cC5jYWxsKHRoaXMsIGlkLCBlZGl0b3IsIHN0eWxlQXR0cmlidXRlcyk7XG5cbiAgICAgICAgLy8gYmluZCB0byB0aGlzIHRvIHBhc3MgdGhpcy5nbG9iYWxNYW5hZ2VyXG4gICAgICAgIHRoaXMuYWRkTWFya3VwTWV0YWRhdGEgPSBhZGRNYXJrdXBNZXRhZGF0YS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMudHlwZSA9IE1hcmt1cFR5cGVzLk1BUktVUF9UWVBFX1BPTFlMSU5FO1xuICAgICAgICB0aGlzLnNoYXBlID0gY3JlYXRlTWFya3VwUGF0aFN2ZygncGF0aCcpO1xuXG4gICAgICAgIHRoaXMuYmluZERvbUV2ZW50cygpO1xuICAgIH1cblxuICAgIE1hcmt1cFBvbHlsaW5lLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTWFya3VwLnByb3RvdHlwZSk7XG4gICAgTWFya3VwUG9seWxpbmUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTWFya3VwUG9seWxpbmU7XG5cbiAgICB2YXIgcHJvdG8gPSBNYXJrdXBQb2x5bGluZS5wcm90b3R5cGU7XG5cbiAgICBwcm90by5nZXRFZGl0TW9kZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHJldHVybiBuZXcgRWRpdE1vZGVQb2x5bGluZSh0aGlzLmVkaXRvcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdG9wLWxlZnQgYW5kIGJvdHRvbS1yaWdodCB2YWx1ZXMgaW4gY2xpZW50IHNwYWNlIGNvb3JkaW5hdGVzICgyZCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0gc2l6ZVxuICAgICAqIEBwYXJhbSBsb2NhdGlvbnNcbiAgICAgKiBAcGFyYW0gY2xvc2VkXG4gICAgICovXG4gICAgcHJvdG8uc2V0ID0gZnVuY3Rpb24ocG9zaXRpb24sIHNpemUsIGxvY2F0aW9ucywgY2xvc2VkKSB7XG5cbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IDA7IC8vIFJlc2V0IGFuZ2xlIC8vXG4gICAgICAgIHRoaXMubG9jYXRpb25zID0gbG9jYXRpb25zLmNvbmNhdCgpO1xuXG4gICAgICAgIHRoaXMuc2l6ZS54ID0gKHNpemUueCA9PT0gMCkgPyAxIDogc2l6ZS54O1xuICAgICAgICB0aGlzLnNpemUueSA9IChzaXplLnkgPT09IDApID8gMSA6IHNpemUueTtcblxuICAgICAgICB0aGlzLmNsb3NlZCA9IGNsb3NlZDtcblxuICAgICAgICB0aGlzLnNldFNpemUocG9zaXRpb24sIHNpemUueCwgc2l6ZS55KTtcbiAgICAgICAgdGhpcy51cGRhdGVTdHlsZSgpO1xuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgZGF0YSB2YWx1ZXMgaW50byBET00gZWxlbWVudCBzdHlsZS9hdHRyaWJ1dGUocylcbiAgICAgKlxuICAgICAqL1xuICAgIHByb3RvLnVwZGF0ZVN0eWxlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5zdHlsZTtcbiAgICAgICAgdmFyIHNoYXBlID0gdGhpcy5zaGFwZTtcblxuICAgICAgICB2YXIgc3Ryb2tlV2lkdGggPSB0aGlzLnN0eWxlWydzdHJva2Utd2lkdGgnXTtcbiAgICAgICAgdmFyIHN0cm9rZUNvbG9yID0gdGhpcy5oaWdobGlnaHRlZCA/IHRoaXMuaGlnaGxpZ2h0Q29sb3IgOiBjb21wb3NlUkdCQVN0cmluZyhzdHlsZVsnc3Ryb2tlLWNvbG9yJ10sIHN0eWxlWydzdHJva2Utb3BhY2l0eSddKTtcbiAgICAgICAgdmFyIGZpbGxDb2xvciA9IHRoaXMuY2xvc2VkID8gY29tcG9zZVJHQkFTdHJpbmcoc3R5bGVbJ2ZpbGwtY29sb3InXSwgc3R5bGVbJ2ZpbGwtb3BhY2l0eSddKSA6ICdub25lJztcbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9IHRoaXMuZ2V0VHJhbnNmb3JtKCk7XG5cbiAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcoc2hhcGUsICdkJywgIHRoaXMuZ2V0UGF0aCgpLmpvaW4oJyAnKSk7XG4gICAgICAgIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnKHNoYXBlLCAnc3Ryb2tlLXdpZHRoJywgc3Ryb2tlV2lkdGgpO1xuICAgICAgICBzZXRBdHRyaWJ1dGVUb01hcmt1cFN2ZyhzaGFwZSwgJ3N0cm9rZScsIHN0cm9rZUNvbG9yKTtcbiAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcoc2hhcGUsICdmaWxsJywgZmlsbENvbG9yKTtcbiAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcoc2hhcGUsICd0cmFuc2Zvcm0nLCB0cmFuc2Zvcm0pO1xuICAgICAgICB1cGRhdGVNYXJrdXBQYXRoU3ZnSGl0YXJlYShzaGFwZSwgdGhpcy5lZGl0b3IpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBwb3NpdGlvbiBhbmQgc2l6ZSBvZiB0aGUgbWFya3VwLlxuICAgICAqIFRoaXMgZ2V0cyBjYWxsZWQgYnkgdGhlIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzLkNvcmUuU2V0U2l6ZSBlZGl0IGFjdGlvblxuICAgICAqIEBwYXJhbSB7e3g6IE51bWJlciwgeTogTnVtYmVyfX0gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0XG4gICAgICovXG4gICAgcHJvdG8uc2V0U2l6ZSA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgd2lkdGgsIGhlaWdodCkge1xuXG4gICAgICAgIHdpZHRoID0gKHdpZHRoID09PSAwID8gMSA6IHdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ID0gKGhlaWdodCA9PT0gMCA/IDEgOiBoZWlnaHQpO1xuXG4gICAgICAgIHZhciBsb2NhdGlvbnMgPSB0aGlzLmxvY2F0aW9ucztcbiAgICAgICAgdmFyIGxvY2F0aW9uc0NvdW50ID0gbG9jYXRpb25zLmxlbmd0aDtcblxuICAgICAgICB2YXIgc2NhbGVYID0gd2lkdGggLyB0aGlzLnNpemUueDtcbiAgICAgICAgdmFyIHNjYWxlWSA9IGhlaWdodCAvIHRoaXMuc2l6ZS55O1xuXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBsb2NhdGlvbnNDb3VudDsgKytpKSB7XG5cbiAgICAgICAgICAgIHZhciBwb2ludCA9IGxvY2F0aW9uc1tpXTtcblxuICAgICAgICAgICAgcG9pbnQueCAqPSBzY2FsZVg7XG4gICAgICAgICAgICBwb2ludC55ICo9IHNjYWxlWTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucG9zaXRpb24ueCA9IHBvc2l0aW9uLng7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA9IHBvc2l0aW9uLnk7XG5cbiAgICAgICAgdGhpcy5zaXplLnggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5zaXplLnkgPSBoZWlnaHQ7XG5cbiAgICAgICAgdGhpcy51cGRhdGVTdHlsZSgpO1xuICAgIH07XG5cbiAgICBwcm90by5zZXRNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBtZXRhZGF0YSA9IGNsb25lU3R5bGUodGhpcy5zdHlsZSk7XG5cbiAgICAgICAgbWV0YWRhdGEudHlwZSA9IHRoaXMudHlwZTtcbiAgICAgICAgbWV0YWRhdGEucG9zaXRpb24gPSBbdGhpcy5wb3NpdGlvbi54LCB0aGlzLnBvc2l0aW9uLnldLmpvaW4oXCIgXCIpO1xuICAgICAgICBtZXRhZGF0YS5zaXplID0gW3RoaXMuc2l6ZS54LCB0aGlzLnNpemUueV0uam9pbihcIiBcIik7XG4gICAgICAgIG1ldGFkYXRhLnJvdGF0aW9uID0gU3RyaW5nKHRoaXMucm90YXRpb24pO1xuICAgICAgICBtZXRhZGF0YS5sb2NhdGlvbnMgPSB0aGlzLmxvY2F0aW9ucy5tYXAoZnVuY3Rpb24ocG9pbnQpe1xuICAgICAgICAgICAgcmV0dXJuIFtwb2ludC54LCBwb2ludC55XS5qb2luKFwiIFwiKTtcbiAgICAgICAgfSkuam9pbihcIiBcIik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkTWFya3VwTWV0YWRhdGEodGhpcy5zaGFwZSwgbWV0YWRhdGEpO1xuICAgIH07XG5cbiAgICBwcm90by5nZXRQYXRoID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIHBhdGggPSBbXTtcbiAgICAgICAgdmFyIGxvY2F0aW9ucyA9IHRoaXMubG9jYXRpb25zO1xuICAgICAgICB2YXIgbG9jYXRpb25zQ291bnQgPSBsb2NhdGlvbnMubGVuZ3RoO1xuXG4gICAgICAgIGlmIChsb2NhdGlvbnNDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICcgJztcbiAgICAgICAgfVxuXG4gICAgICAgIHBhdGgucHVzaCgnTScpO1xuICAgICAgICBwYXRoLnB1c2gobG9jYXRpb25zWzBdLngpO1xuICAgICAgICBwYXRoLnB1c2gobG9jYXRpb25zWzBdLnkpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbG9jYXRpb25zQ291bnQ7ICsraSkge1xuXG4gICAgICAgICAgICB2YXIgbG9jYXRpb25BID0gbG9jYXRpb25zW2kgLSAxXTtcbiAgICAgICAgICAgIHZhciBsb2NhdGlvbkIgPSBsb2NhdGlvbnNbaV07XG5cbiAgICAgICAgICAgIHBhdGgucHVzaCgnbCcpO1xuICAgICAgICAgICAgcGF0aC5wdXNoKGxvY2F0aW9uQi54IC0gbG9jYXRpb25BLngpO1xuICAgICAgICAgICAgcGF0aC5wdXNoKGxvY2F0aW9uQi55IC0gbG9jYXRpb25BLnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jbG9zZWQgJiYgcGF0aC5wdXNoKCd6Jyk7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgIH07XG4iXSwibmFtZXMiOlsiTWFya3VwIiwiTWFya3VwVHlwZXMiLCJjcmVhdGVNYXJrdXBQYXRoU3ZnIiwiY29tcG9zZVJHQkFTdHJpbmciLCJzZXRBdHRyaWJ1dGVUb01hcmt1cFN2ZyIsInVwZGF0ZU1hcmt1cFBhdGhTdmdIaXRhcmVhIiwiYWRkTWFya3VwTWV0YWRhdGEiLCJjbG9uZVN0eWxlIiwiRWRpdE1vZGVQb2x5bGluZSIsIk1hcmt1cFBvbHlsaW5lIiwiaWQiLCJlZGl0b3IiLCJzdHlsZUF0dHJpYnV0ZXMiLCJjYWxsIiwiYmluZCIsInR5cGUiLCJNQVJLVVBfVFlQRV9QT0xZTElORSIsInNoYXBlIiwiYmluZERvbUV2ZW50cyIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwicHJvdG8iLCJnZXRFZGl0TW9kZSIsInNldCIsInBvc2l0aW9uIiwic2l6ZSIsImxvY2F0aW9ucyIsImNsb3NlZCIsInJvdGF0aW9uIiwiY29uY2F0IiwieCIsInkiLCJzZXRTaXplIiwidXBkYXRlU3R5bGUiLCJzdHlsZSIsInN0cm9rZVdpZHRoIiwic3Ryb2tlQ29sb3IiLCJoaWdobGlnaHRlZCIsImhpZ2hsaWdodENvbG9yIiwiZmlsbENvbG9yIiwidHJhbnNmb3JtIiwiZ2V0VHJhbnNmb3JtIiwiZ2V0UGF0aCIsImpvaW4iLCJ3aWR0aCIsImhlaWdodCIsImxvY2F0aW9uc0NvdW50IiwibGVuZ3RoIiwic2NhbGVYIiwic2NhbGVZIiwiaSIsInBvaW50Iiwic2V0TWV0YWRhdGEiLCJtZXRhZGF0YSIsIlN0cmluZyIsIm1hcCIsInBhdGgiLCJwdXNoIiwibG9jYXRpb25BIiwibG9jYXRpb25CIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/MarkupPolyLine.js\n");

/***/ }),

/***/ "./extensions/Markup/core/MarkupPolycloud.js":
/*!***************************************************!*\
  !*** ./extensions/Markup/core/MarkupPolycloud.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MarkupPolycloud: () => (/* binding */ MarkupPolycloud)\n/* harmony export */ });\n/* harmony import */ var _Markup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Markup */ \"./extensions/Markup/core/Markup.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n/* harmony import */ var _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MarkupsCoreUtils */ \"./extensions/Markup/core/MarkupsCoreUtils.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n/* harmony import */ var _edit_modes_EditModePolycloud__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./edit-modes/EditModePolycloud */ \"./extensions/Markup/core/edit-modes/EditModePolycloud.js\");\n\n\n\n\n\n\n\n\n/**\n *\n * @param id\n * @param editor\n * @constructor\n */\nfunction MarkupPolycloud(id, editor) {\n\n  var styleAttributes = ['stroke-width', 'stroke-color', 'stroke-opacity', 'fill-color', 'fill-opacity'];\n  _Markup__WEBPACK_IMPORTED_MODULE_0__.Markup.call(this, id, editor, styleAttributes);\n\n  // bind to this to pass this.globalManager\n  this.addMarkupMetadata = _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.addMarkupMetadata.bind(this);\n\n  this.type = _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__.MARKUP_TYPE_POLYCLOUD;\n  this.locations = [];\n  this.shape = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createMarkupPathSvg)();\n\n  this.bindDomEvents();\n}\n\nMarkupPolycloud.prototype = Object.create(_Markup__WEBPACK_IMPORTED_MODULE_0__.Markup.prototype);\nMarkupPolycloud.prototype.constructor = MarkupPolycloud;\n\nvar proto = MarkupPolycloud.prototype;\n\nproto.getEditMode = function () {\n\n  return new _edit_modes_EditModePolycloud__WEBPACK_IMPORTED_MODULE_4__.EditModePolycloud(this.editor);\n};\n\n/**\n *\n * Sets top-left and bottom-right values in client space coordinates (2d).\n * @param position\n * @param size\n * @param locations\n * @param closed\n */\nproto.set = function (position, size, locations, closed) {\n\n  this.rotation = 0; // Reset angle //\n  this.locations = locations.concat();\n\n  this.size.x = size.x === 0 ? 1 : size.x;\n  this.size.y = size.y === 0 ? 1 : size.y;\n\n  this.closed = closed;\n\n  this.setSize(position, size.x, size.y);\n  this.updateStyle();\n};\n\n/**\n * Applies data values into DOM element style/attribute(s)\n *\n */\nproto.updateStyle = function () {\n\n  var style = this.style;\n  var shape = this.shape;\n  var path = this.getPath().join(' ');\n\n  var strokeWidth = this.style['stroke-width'];\n  var strokeColor = this.highlighted ? this.highlightColor : (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.composeRGBAString)(style['stroke-color'], style['stroke-opacity']);\n  var fillColor = this.closed ? (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.composeRGBAString)(style['fill-color'], style['fill-opacity']) : 'none';\n  var transform = this.getTransform();\n\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'd', path);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'stroke-width', strokeWidth);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'stroke', strokeColor);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'fill', fillColor);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'transform', transform);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.updateMarkupPathSvgHitarea)(shape, this.editor);\n};\n\n/**\n * Changes the position and size of the markup.\n * This gets called by the Autodesk.Viewing.Extensions.Markups.Core.SetSize edit action\n * @param {{x: Number, y: Number}} position\n * @param {Number} width\n * @param {Number} height\n */\nproto.setSize = function (position, width, height) {\n\n  width = width === 0 ? 1 : width;\n  height = height === 0 ? 1 : height;\n\n  var locations = this.locations;\n  var locationsCount = locations.length;\n\n  var scaleX = width / this.size.x;\n  var scaleY = height / this.size.y;\n\n  for (var i = 0; i < locationsCount; ++i) {\n\n    var point = locations[i];\n\n    point.x *= scaleX;\n    point.y *= scaleY;\n  }\n\n  this.position.x = position.x;\n  this.position.y = position.y;\n\n  this.size.x = width;\n  this.size.y = height;\n\n  this.updateStyle();\n};\n\nproto.setMetadata = function () {\n\n  var metadata = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_3__.cloneStyle)(this.style);\n\n  metadata.type = this.type;\n  metadata.position = [this.position.x, this.position.y].join(\" \");\n  metadata.size = [this.size.x, this.size.y].join(\" \");\n  metadata.rotation = String(this.rotation);\n  metadata.locations = this.locations.map(function (point) {\n    return [point.x, point.y].join(\" \");\n  }).join(\" \");\n\n  return this.addMarkupMetadata(this.shape, metadata);\n};\n\nproto.getPath = function () {\n\n  function getOrientation(locations) {\n\n    switch (locations.length) {\n\n      case 0:\n      case 1:\n        return 1;\n      case 2:\n\n        var fstPoint = locations[0];\n        var sndPoint = locations[1];\n\n        return fstPoint.y > sndPoint.y ? 1 : -1;\n      default:\n\n        var pointA = locations[0];\n        var pointB = locations[1];\n        var pointC = locations[2];\n\n        var orientation =\n        (pointB.x - pointA.x) * (pointB.y + pointA.y) +\n        (pointC.x - pointB.x) * (pointC.y + pointB.y);\n\n        return orientation < 0 ? 1 : -1;\n    }\n  }\n\n  function getSides(locations, closed) {\n\n    var locationsCount = locations.length;\n\n    var sides = [];\n    var sidesCount = locationsCount - (closed ? 0 : 1);\n\n    for (var i = 0; i < sidesCount; ++i) {\n\n      var locationA = locations[i];\n      var locationB = locations[(i + 1) % locationsCount];\n\n      var dx = locationB.x - locationA.x;\n      var dy = locationB.y - locationA.y;\n\n      var length = Math.sqrt(dx * dx + dy * dy);\n\n      sides.push({\n        index: i,\n        pointA: new THREE.Vector3(locationA.x, locationA.y, 0),\n        pointB: new THREE.Vector3(locationB.x, locationB.y, 0),\n        vecAB: new THREE.Vector3(dx / length, dy / length, 0),\n        vecBA: new THREE.Vector3(-dx / length, -dy / length, 0),\n        length: length\n      });\n    }\n\n    return sides;\n  }\n\n  function updateCorners(side, cornerA, cornerB, orientation) {\n    var rA = cornerA.radius;\n    var rB = cornerB.radius;\n    var D = side.length;\n\n    if (rA > 0 && rB > 0 && rA + rB > D && Math.abs(rA - rB) < D) {\n      // Corner arcs overlap, so correct them by finding the circle-circle intersection\n      var a = side.pointA.x;\n      var b = side.pointA.y;\n      var c = side.pointB.x;\n      var d = side.pointB.y;\n\n      var delta = 0.25 * Math.sqrt((D + rA + rB) * (D + rA - rB) * (D - rA + rB) * (-D + rA + rB));\n      var xS = (a + c) / 2 + (c - a) * (rA * rA - rB * rB) / (2 * D * D);\n      var xT = 2 * (b - d) / (D * D) * delta;\n      var yS = (b + d) / 2 + (d - b) * (rA * rA - rB * rB) / (2 * D * D);\n      var yT = 2 * (a - c) / (D * D) * delta;\n      var x1 = xS + xT;\n      var x2 = xS - xT;\n      var y1 = yS - yT;\n      var y2 = yS + yT;\n      var testPointOnCircle = Math.abs((x1 - a) * (x1 - a) + (y1 - b) * (y1 - b) - rA * rA);\n      if (testPointOnCircle > 0.0000001) {\n        var tmp = y1;\n        y1 = y2;\n        y2 = tmp;\n      }\n\n      var intersec = new THREE.Vector3(x1, y1, 0);\n      var intersecSide = Math.sign(intersec.clone().sub(side.pointA).cross(side.vecAB).z);\n      if (intersecSide !== orientation) {\n        intersec.set(x2, y2, 0);\n      }\n\n      cornerA.pointB = intersec.clone();\n      cornerB.pointA = intersec.clone();\n\n      return true;\n    }\n\n    return false;\n  }\n\n  function updateSides(sides, corners, radius, orientation) {\n\n    var diameter = radius * 2;\n    var sidesCount = sides.length;\n\n    for (var i = 0; i < sidesCount; ++i) {\n\n      var side = sides[i];\n      var cornerA = corners[i];\n      var cornerB = corners[(i + 1) % sidesCount];\n\n      side.bodyA = side.vecAB.clone().multiplyScalar(cornerA.radius).add(side.pointA);\n      side.bodyB = side.vecBA.clone().multiplyScalar(cornerB.radius).add(side.pointB);\n\n      if (updateCorners(side, cornerA, cornerB, orientation)) {\n        side.body = 0;\n        side.bodyDiameter = side.bodyCount = 0;\n      } else {\n        side.body = side.bodyB.clone().sub(side.bodyA).length();\n        side.bodyCount = Math.round(side.body / diameter);\n        if (side.bodyCount === 0 && side.body > 0.5 * radius) {\n          side.bodyCount = 1;\n        }\n        side.bodyDiameter = diameter + (side.body - diameter * side.bodyCount) / side.bodyCount;\n      }\n\n      side.bodyRadius = side.bodyDiameter * 0.5;\n    }\n  }\n\n  function getCorners(sides, radius, closed) {\n\n    var corners = [];\n    var sidesCount = sides.length;\n\n    for (var i = 0; i < sidesCount; ++i) {\n\n      var sideA = sides[i !== 0 ? i - 1 : sidesCount - 1];\n      var sideB = sides[i];\n      var large = sideA.vecBA.clone().cross(sideB.vecAB).z < 0;\n\n      var sidesTooShort = sideA.length < radius || sideB.length < radius;\n      if (sidesTooShort || i === 0 && !closed) {\n\n        corners.push({\n          pointA: sideB.pointA.clone(),\n          pointB: sideB.pointA.clone(),\n          radius: 0,\n          large: false\n        });\n      } else {\n\n        corners.push({\n          pointA: sideB.pointA.clone().add(sideA.vecBA.clone().multiplyScalar(radius)),\n          pointB: sideB.pointA.clone().add(sideB.vecAB.clone().multiplyScalar(radius)),\n          radius: radius,\n          large: large\n        });\n      }\n    }\n\n    return corners;\n  }\n\n  function createSidePath(side, orientation, path) {\n\n    var count = side.bodyCount;\n    if (count === 0) {\n      return;\n    }\n\n    var radius = side.bodyRadius;\n    var diameter = side.bodyDiameter;\n\n    var xValueInset = diameter * 0.05;\n    var yValueOffset = radius * 3.5 / 3.0;\n\n    var p1 = new THREE.Vector3(xValueInset, orientation * -yValueOffset);\n    var p2 = new THREE.Vector3(diameter - xValueInset, orientation * -yValueOffset);\n    var p3 = new THREE.Vector3(diameter, 0);\n\n    var angle = Math.acos(side.vecAB.x) * (side.vecAB.y < 0 ? -1 : 1);\n    var rotation = new THREE.Matrix4().makeRotationZ(angle);\n\n    p1.applyMatrix4(rotation);\n    p2.applyMatrix4(rotation);\n    p3.applyMatrix4(rotation);\n\n    for (var i = 0; i < count; ++i) {\n\n      path.push('c');\n      path.push(p1.x);\n      path.push(p1.y);\n      path.push(p2.x);\n      path.push(p2.y);\n      path.push(p3.x);\n      path.push(p3.y);\n    }\n  }\n\n  function createCornerPath(corner, first, orientation, path) {\n\n    if (first) {\n\n      path.push('M');\n      path.push(corner.pointA.x);\n      path.push(corner.pointA.y);\n    }\n\n    var large = orientation === 1 ? corner.large : !corner.large;\n\n    if (corner.radius !== 0) {\n\n      path.push('a');\n      path.push(corner.radius);\n      path.push(corner.radius);\n      path.push(0);\n      path.push(large ? 1 : 0);\n      path.push(orientation === 1 ? 1 : 0);\n      path.push(corner.pointB.x - corner.pointA.x);\n      path.push(corner.pointB.y - corner.pointA.y);\n    }\n    return path;\n  }\n\n\n  var strokeWidth = this.style['stroke-width'];\n  var radius = strokeWidth * 2;\n  var orientation = getOrientation(this.locations);\n  var closed = this.closed;\n  var path = [];\n\n  var sides = getSides(this.locations, closed);\n  var corners = getCorners(sides, radius, closed);\n  var cornersCount = corners.length;\n\n  updateSides(sides, corners, radius, orientation);\n\n  for (var i = 0; i < cornersCount; ++i) {\n\n    createCornerPath(corners[i], i === 0, orientation, path);\n    createSidePath(sides[i], orientation, path);\n  }\n\n  closed && path.push('z');\n  return path;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL01hcmt1cFBvbHljbG91ZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBYTs7QUFFcUI7QUFDVztBQUVpQztBQUNwQztBQUN5Qjs7QUFFL0Q7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ1csU0FBU1MsZUFBZUEsQ0FBQ0MsRUFBRSxFQUFFQyxNQUFNLEVBQUU7O0VBRXhDLElBQUlDLGVBQWUsR0FBRyxDQUFDLGNBQWMsRUFBRSxjQUFjLEVBQUMsZ0JBQWdCLEVBQUUsWUFBWSxFQUFFLGNBQWMsQ0FBQztFQUNyR1osMkNBQU0sQ0FBQ2EsSUFBSSxDQUFDLElBQUksRUFBRUgsRUFBRSxFQUFFQyxNQUFNLEVBQUVDLGVBQWUsQ0FBQzs7RUFFOUM7RUFDQSxJQUFJLENBQUNOLGlCQUFpQixHQUFHQSxnRUFBaUIsQ0FBQ1EsSUFBSSxDQUFDLElBQUksQ0FBQzs7RUFFckQsSUFBSSxDQUFDQyxJQUFJLEdBQUdkLCtEQUFpQztFQUM3QyxJQUFJLENBQUNnQixTQUFTLEdBQUcsRUFBRTtFQUNuQixJQUFJLENBQUNDLEtBQUssR0FBR2hCLHNFQUFtQixDQUFDLENBQUM7O0VBRWxDLElBQUksQ0FBQ2lCLGFBQWEsQ0FBQyxDQUFDO0FBQ3hCOztBQUVBVixlQUFlLENBQUNXLFNBQVMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUN0QiwyQ0FBTSxDQUFDb0IsU0FBUyxDQUFDO0FBQzNEWCxlQUFlLENBQUNXLFNBQVMsQ0FBQ0csV0FBVyxHQUFHZCxlQUFlOztBQUV2RCxJQUFJZSxLQUFLLEdBQUdmLGVBQWUsQ0FBQ1csU0FBUzs7QUFFckNJLEtBQUssQ0FBQ0MsV0FBVyxHQUFHLFlBQVc7O0VBRTNCLE9BQU8sSUFBSWpCLDRFQUFpQixDQUFDLElBQUksQ0FBQ0csTUFBTSxDQUFDO0FBQzdDLENBQUM7O0FBRUQ7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNJYSxLQUFLLENBQUNFLEdBQUcsR0FBRyxV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QUFFOEMsT0FBTyxFQUFFM0IsTUFBTSxFQUFFckIsV0FBVyxDQUFDOztFQUVoRCxLQUFJLElBQUlaLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBRzJGLFlBQVksRUFBRSxFQUFFM0YsQ0FBQyxFQUFFOztJQUVsQ3dGLGdCQUFnQixDQUFDNUIsT0FBTyxDQUFDNUQsQ0FBQyxDQUFDLEVBQUVBLENBQUMsS0FBSyxDQUFDLEVBQUVZLFdBQVcsRUFBRTVCLElBQUksQ0FBQztJQUN4RDRGLGNBQWMsQ0FBQzlELEtBQUssQ0FBQ2QsQ0FBQyxDQUFDLEVBQUVZLFdBQVcsRUFBRTVCLElBQUksQ0FBQztFQUMvQzs7RUFFQVIsTUFBTSxJQUFJUSxJQUFJLENBQUNzQyxJQUFJLENBQUMsR0FBRyxDQUFDO0VBQ3hCLE9BQU90QyxJQUFJO0FBQ2YsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL01hcmt1cFBvbHljbG91ZC5qcz9iYTE1Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgTWFya3VwIH0gZnJvbSAnLi9NYXJrdXAnO1xuaW1wb3J0ICogYXMgTWFya3VwVHlwZXMgZnJvbSAnLi9NYXJrdXBUeXBlcyc7XG5pbXBvcnQgeyBjcmVhdGVNYXJrdXBQYXRoU3ZnLCBjb21wb3NlUkdCQVN0cmluZywgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcsXG4gICAgdXBkYXRlTWFya3VwUGF0aFN2Z0hpdGFyZWEsIGFkZE1hcmt1cE1ldGFkYXRhIH0gZnJvbSAnLi9NYXJrdXBzQ29yZVV0aWxzJztcbmltcG9ydCB7IGNsb25lU3R5bGUgfSBmcm9tICcuL1N0eWxlVXRpbHMnO1xuaW1wb3J0IHsgRWRpdE1vZGVQb2x5Y2xvdWQgfSBmcm9tICcuL2VkaXQtbW9kZXMvRWRpdE1vZGVQb2x5Y2xvdWQnO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaWRcbiAgICAgKiBAcGFyYW0gZWRpdG9yXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIE1hcmt1cFBvbHljbG91ZChpZCwgZWRpdG9yKSB7XG5cbiAgICAgICAgdmFyIHN0eWxlQXR0cmlidXRlcyA9IFsnc3Ryb2tlLXdpZHRoJywgJ3N0cm9rZS1jb2xvcicsJ3N0cm9rZS1vcGFjaXR5JywgJ2ZpbGwtY29sb3InLCAnZmlsbC1vcGFjaXR5J107XG4gICAgICAgIE1hcmt1cC5jYWxsKHRoaXMsIGlkLCBlZGl0b3IsIHN0eWxlQXR0cmlidXRlcyk7XG5cbiAgICAgICAgLy8gYmluZCB0byB0aGlzIHRvIHBhc3MgdGhpcy5nbG9iYWxNYW5hZ2VyXG4gICAgICAgIHRoaXMuYWRkTWFya3VwTWV0YWRhdGEgPSBhZGRNYXJrdXBNZXRhZGF0YS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMudHlwZSA9IE1hcmt1cFR5cGVzLk1BUktVUF9UWVBFX1BPTFlDTE9VRDtcbiAgICAgICAgdGhpcy5sb2NhdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5zaGFwZSA9IGNyZWF0ZU1hcmt1cFBhdGhTdmcoKTtcblxuICAgICAgICB0aGlzLmJpbmREb21FdmVudHMoKTtcbiAgICB9XG5cbiAgICBNYXJrdXBQb2x5Y2xvdWQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNYXJrdXAucHJvdG90eXBlKTtcbiAgICBNYXJrdXBQb2x5Y2xvdWQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTWFya3VwUG9seWNsb3VkO1xuXG4gICAgdmFyIHByb3RvID0gTWFya3VwUG9seWNsb3VkLnByb3RvdHlwZTtcblxuICAgIHByb3RvLmdldEVkaXRNb2RlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBFZGl0TW9kZVBvbHljbG91ZCh0aGlzLmVkaXRvcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogU2V0cyB0b3AtbGVmdCBhbmQgYm90dG9tLXJpZ2h0IHZhbHVlcyBpbiBjbGllbnQgc3BhY2UgY29vcmRpbmF0ZXMgKDJkKS5cbiAgICAgKiBAcGFyYW0gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0gc2l6ZVxuICAgICAqIEBwYXJhbSBsb2NhdGlvbnNcbiAgICAgKiBAcGFyYW0gY2xvc2VkXG4gICAgICovXG4gICAgcHJvdG8uc2V0ID0gZnVuY3Rpb24ocG9zaXRpb24sIHNpemUsIGxvY2F0aW9ucywgY2xvc2VkKSB7XG5cbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IDA7IC8vIFJlc2V0IGFuZ2xlIC8vXG4gICAgICAgIHRoaXMubG9jYXRpb25zID0gbG9jYXRpb25zLmNvbmNhdCgpO1xuXG4gICAgICAgIHRoaXMuc2l6ZS54ID0gKHNpemUueCA9PT0gMCkgPyAxIDogc2l6ZS54O1xuICAgICAgICB0aGlzLnNpemUueSA9IChzaXplLnkgPT09IDApID8gMSA6IHNpemUueTtcblxuICAgICAgICB0aGlzLmNsb3NlZCA9IGNsb3NlZDtcblxuICAgICAgICB0aGlzLnNldFNpemUocG9zaXRpb24sIHNpemUueCwgc2l6ZS55KTtcbiAgICAgICAgdGhpcy51cGRhdGVTdHlsZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGRhdGEgdmFsdWVzIGludG8gRE9NIGVsZW1lbnQgc3R5bGUvYXR0cmlidXRlKHMpXG4gICAgICpcbiAgICAgKi9cbiAgICBwcm90by51cGRhdGVTdHlsZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuc3R5bGU7XG4gICAgICAgIHZhciBzaGFwZSA9IHRoaXMuc2hhcGU7XG4gICAgICAgIHZhciBwYXRoID0gdGhpcy5nZXRQYXRoKCkuam9pbignICcpO1xuXG4gICAgICAgIHZhciBzdHJva2VXaWR0aCA9IHRoaXMuc3R5bGVbJ3N0cm9rZS13aWR0aCddO1xuICAgICAgICB2YXIgc3Ryb2tlQ29sb3IgPSB0aGlzLmhpZ2hsaWdodGVkID8gdGhpcy5oaWdobGlnaHRDb2xvciA6IGNvbXBvc2VSR0JBU3RyaW5nKHN0eWxlWydzdHJva2UtY29sb3InXSwgc3R5bGVbJ3N0cm9rZS1vcGFjaXR5J10pO1xuICAgICAgICB2YXIgZmlsbENvbG9yID0gdGhpcy5jbG9zZWQgPyBjb21wb3NlUkdCQVN0cmluZyhzdHlsZVsnZmlsbC1jb2xvciddLCBzdHlsZVsnZmlsbC1vcGFjaXR5J10pIDogJ25vbmUnO1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy5nZXRUcmFuc2Zvcm0oKTtcblxuICAgICAgICBzZXRBdHRyaWJ1dGVUb01hcmt1cFN2ZyhzaGFwZSwgJ2QnLCBwYXRoKTtcbiAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcoc2hhcGUsICdzdHJva2Utd2lkdGgnLCBzdHJva2VXaWR0aCk7XG4gICAgICAgIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnKHNoYXBlLCAnc3Ryb2tlJywgc3Ryb2tlQ29sb3IpO1xuICAgICAgICBzZXRBdHRyaWJ1dGVUb01hcmt1cFN2ZyhzaGFwZSwgJ2ZpbGwnLCBmaWxsQ29sb3IpO1xuICAgICAgICBzZXRBdHRyaWJ1dGVUb01hcmt1cFN2ZyhzaGFwZSwgJ3RyYW5zZm9ybScsIHRyYW5zZm9ybSk7XG4gICAgICAgIHVwZGF0ZU1hcmt1cFBhdGhTdmdIaXRhcmVhKHNoYXBlLCB0aGlzLmVkaXRvcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHBvc2l0aW9uIGFuZCBzaXplIG9mIHRoZSBtYXJrdXAuXG4gICAgICogVGhpcyBnZXRzIGNhbGxlZCBieSB0aGUgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZS5TZXRTaXplIGVkaXQgYWN0aW9uXG4gICAgICogQHBhcmFtIHt7eDogTnVtYmVyLCB5OiBOdW1iZXJ9fSBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHRcbiAgICAgKi9cbiAgICBwcm90by5zZXRTaXplID0gZnVuY3Rpb24gKHBvc2l0aW9uLCB3aWR0aCwgaGVpZ2h0KSB7XG5cbiAgICAgICAgd2lkdGggPSAod2lkdGggPT09IDAgPyAxIDogd2lkdGgpO1xuICAgICAgICBoZWlnaHQgPSAoaGVpZ2h0ID09PSAwID8gMSA6IGhlaWdodCk7XG5cbiAgICAgICAgdmFyIGxvY2F0aW9ucyA9IHRoaXMubG9jYXRpb25zO1xuICAgICAgICB2YXIgbG9jYXRpb25zQ291bnQgPSBsb2NhdGlvbnMubGVuZ3RoO1xuXG4gICAgICAgIHZhciBzY2FsZVggPSB3aWR0aCAvIHRoaXMuc2l6ZS54O1xuICAgICAgICB2YXIgc2NhbGVZID0gaGVpZ2h0IC8gdGhpcy5zaXplLnk7XG5cbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGxvY2F0aW9uc0NvdW50OyArK2kpIHtcblxuICAgICAgICAgICAgdmFyIHBvaW50ID0gbG9jYXRpb25zW2ldO1xuXG4gICAgICAgICAgICBwb2ludC54ICo9IHNjYWxlWDtcbiAgICAgICAgICAgIHBvaW50LnkgKj0gc2NhbGVZO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0gcG9zaXRpb24ueDtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0gcG9zaXRpb24ueTtcblxuICAgICAgICB0aGlzLnNpemUueCA9IHdpZHRoO1xuICAgICAgICB0aGlzLnNpemUueSA9IGhlaWdodDtcblxuICAgICAgICB0aGlzLnVwZGF0ZVN0eWxlKCk7XG4gICAgfTtcblxuICAgIHByb3RvLnNldE1ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIG1ldGFkYXRhID0gY2xvbmVTdHlsZSh0aGlzLnN0eWxlKTtcblxuICAgICAgICBtZXRhZGF0YS50eXBlID0gdGhpcy50eXBlO1xuICAgICAgICBtZXRhZGF0YS5wb3NpdGlvbiA9IFt0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueV0uam9pbihcIiBcIik7XG4gICAgICAgIG1ldGFkYXRhLnNpemUgPSBbdGhpcy5zaXplLngsIHRoaXMuc2l6ZS55XS5qb2luKFwiIFwiKTtcbiAgICAgICAgbWV0YWRhdGEucm90YXRpb24gPSBTdHJpbmcodGhpcy5yb3RhdGlvbik7XG4gICAgICAgIG1ldGFkYXRhLmxvY2F0aW9ucyA9IHRoaXMubG9jYXRpb25zLm1hcChmdW5jdGlvbihwb2ludCl7XG4gICAgICAgICAgICByZXR1cm4gW3BvaW50LngsIHBvaW50LnldLmpvaW4oXCIgXCIpO1xuICAgICAgICB9KS5qb2luKFwiIFwiKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5hZGRNYXJrdXBNZXRhZGF0YSh0aGlzLnNoYXBlLCBtZXRhZGF0YSk7XG4gICAgfTtcblxuICAgIHByb3RvLmdldFBhdGggPSBmdW5jdGlvbigpIHtcblxuICAgICAgICBmdW5jdGlvbiBnZXRPcmllbnRhdGlvbihsb2NhdGlvbnMpIHtcblxuICAgICAgICAgICAgc3dpdGNoIChsb2NhdGlvbnMubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGZzdFBvaW50ID0gbG9jYXRpb25zWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc25kUG9pbnQgPSBsb2NhdGlvbnNbMV07XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZzdFBvaW50LnkgPiBzbmRQb2ludC55ID8gMSA6IC0xO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvaW50QSA9IGxvY2F0aW9uc1swXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvaW50QiA9IGxvY2F0aW9uc1sxXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvaW50QyA9IGxvY2F0aW9uc1syXTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZW50YXRpb24gPVxuICAgICAgICAgICAgICAgICAgICAgICAgKHBvaW50Qi54IC0gcG9pbnRBLngpICogKHBvaW50Qi55ICsgcG9pbnRBLnkpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIChwb2ludEMueCAtIHBvaW50Qi54KSAqIChwb2ludEMueSArIHBvaW50Qi55KTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3JpZW50YXRpb24gPCAwID8gMSA6IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0U2lkZXMobG9jYXRpb25zLCBjbG9zZWQpIHtcblxuICAgICAgICAgICAgdmFyIGxvY2F0aW9uc0NvdW50ID0gbG9jYXRpb25zLmxlbmd0aDtcblxuICAgICAgICAgICAgdmFyIHNpZGVzID0gW107XG4gICAgICAgICAgICB2YXIgc2lkZXNDb3VudCA9IGxvY2F0aW9uc0NvdW50IC0gKGNsb3NlZCA/IDAgOiAxKTtcblxuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHNpZGVzQ291bnQ7ICsraSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uQSA9IGxvY2F0aW9uc1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb25CID0gbG9jYXRpb25zWyhpKzEpJWxvY2F0aW9uc0NvdW50XTtcblxuICAgICAgICAgICAgICAgIHZhciBkeCA9IGxvY2F0aW9uQi54IC0gbG9jYXRpb25BLng7XG4gICAgICAgICAgICAgICAgdmFyIGR5ID0gbG9jYXRpb25CLnkgLSBsb2NhdGlvbkEueTtcblxuICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuXG4gICAgICAgICAgICAgICAgc2lkZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBpLFxuICAgICAgICAgICAgICAgICAgICBwb2ludEE6IG5ldyBUSFJFRS5WZWN0b3IzKGxvY2F0aW9uQS54LCBsb2NhdGlvbkEueSwgMCksXG4gICAgICAgICAgICAgICAgICAgIHBvaW50QjogbmV3IFRIUkVFLlZlY3RvcjMobG9jYXRpb25CLngsIGxvY2F0aW9uQi55LCAwKSxcbiAgICAgICAgICAgICAgICAgICAgdmVjQUI6ICBuZXcgVEhSRUUuVmVjdG9yMyhkeCAvIGxlbmd0aCwgZHkgLyBsZW5ndGgsIDApLFxuICAgICAgICAgICAgICAgICAgICB2ZWNCQTogIG5ldyBUSFJFRS5WZWN0b3IzKC1keCAvIGxlbmd0aCwgLWR5IC8gbGVuZ3RoLCAwKSxcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoOiBsZW5ndGhcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHNpZGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlQ29ybmVycyhzaWRlLCBjb3JuZXJBLCBjb3JuZXJCLCBvcmllbnRhdGlvbikge1xuICAgICAgICAgICAgdmFyIHJBID0gY29ybmVyQS5yYWRpdXM7XG4gICAgICAgICAgICB2YXIgckIgPSBjb3JuZXJCLnJhZGl1cztcbiAgICAgICAgICAgIHZhciBEID0gc2lkZS5sZW5ndGg7XG5cbiAgICAgICAgICAgIGlmIChyQSA+IDAgJiYgckIgPiAwICYmIHJBICsgckIgPiBEICYmIE1hdGguYWJzKHJBIC0gckIpIDwgRCkge1xuICAgICAgICAgICAgICAgIC8vIENvcm5lciBhcmNzIG92ZXJsYXAsIHNvIGNvcnJlY3QgdGhlbSBieSBmaW5kaW5nIHRoZSBjaXJjbGUtY2lyY2xlIGludGVyc2VjdGlvblxuICAgICAgICAgICAgICAgIHZhciBhID0gc2lkZS5wb2ludEEueDtcbiAgICAgICAgICAgICAgICB2YXIgYiA9IHNpZGUucG9pbnRBLnk7XG4gICAgICAgICAgICAgICAgdmFyIGMgPSBzaWRlLnBvaW50Qi54O1xuICAgICAgICAgICAgICAgIHZhciBkID0gc2lkZS5wb2ludEIueTtcblxuICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IDAuMjUgKiBNYXRoLnNxcnQoKEQgKyByQSArIHJCKSAqIChEICsgckEgLSByQikgKiAoRCAtIHJBICsgckIpICogKC1EICsgckEgKyByQikpO1xuICAgICAgICAgICAgICAgIHZhciB4UyA9IChhICsgYykgLyAyICsgKGMgLSBhKSAqIChyQSpyQSAtIHJCKnJCKSAvICgyKkQqRCk7XG4gICAgICAgICAgICAgICAgdmFyIHhUID0gMiooYiAtIGQpIC8gKEQqRCkgKiBkZWx0YTtcbiAgICAgICAgICAgICAgICB2YXIgeVMgPSAoYiArIGQpIC8gMiArIChkIC0gYikgKiAockEqckEgLSByQipyQikgLyAoMipEKkQpO1xuICAgICAgICAgICAgICAgIHZhciB5VCA9IDIqKGEgLSBjKSAvIChEKkQpICogZGVsdGE7XG4gICAgICAgICAgICAgICAgdmFyIHgxID0geFMgKyB4VDtcbiAgICAgICAgICAgICAgICB2YXIgeDIgPSB4UyAtIHhUO1xuICAgICAgICAgICAgICAgIHZhciB5MSA9IHlTIC0geVQ7XG4gICAgICAgICAgICAgICAgdmFyIHkyID0geVMgKyB5VDtcbiAgICAgICAgICAgICAgICB2YXIgdGVzdFBvaW50T25DaXJjbGUgPSBNYXRoLmFicygoeDEgLSBhKSAqICh4MSAtIGEpICsgKHkxIC0gYikgKiAoeTEgLSBiKSAtIHJBICogckEpO1xuICAgICAgICAgICAgICAgIGlmICh0ZXN0UG9pbnRPbkNpcmNsZSA+IDAuMDAwMDAwMSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG1wID0geTE7XG4gICAgICAgICAgICAgICAgICAgIHkxID0geTI7XG4gICAgICAgICAgICAgICAgICAgIHkyID0gdG1wO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBpbnRlcnNlYyA9IG5ldyBUSFJFRS5WZWN0b3IzKHgxLCB5MSwgMCk7XG4gICAgICAgICAgICAgICAgdmFyIGludGVyc2VjU2lkZSA9IE1hdGguc2lnbihpbnRlcnNlYy5jbG9uZSgpLnN1YihzaWRlLnBvaW50QSkuY3Jvc3Moc2lkZS52ZWNBQikueik7XG4gICAgICAgICAgICAgICAgaWYgKGludGVyc2VjU2lkZSAhPT0gb3JpZW50YXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWMuc2V0KHgyLCB5MiwgMCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29ybmVyQS5wb2ludEIgPSBpbnRlcnNlYy5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIGNvcm5lckIucG9pbnRBID0gaW50ZXJzZWMuY2xvbmUoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVTaWRlcyhzaWRlcywgY29ybmVycywgcmFkaXVzLCBvcmllbnRhdGlvbikge1xuXG4gICAgICAgICAgICB2YXIgZGlhbWV0ZXIgPSByYWRpdXMgKiAyO1xuICAgICAgICAgICAgdmFyIHNpZGVzQ291bnQgPSBzaWRlcy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBzaWRlc0NvdW50OyArK2kpIHtcblxuICAgICAgICAgICAgICAgIHZhciBzaWRlID0gc2lkZXNbaV07XG4gICAgICAgICAgICAgICAgdmFyIGNvcm5lckEgPSBjb3JuZXJzW2ldO1xuICAgICAgICAgICAgICAgIHZhciBjb3JuZXJCID0gY29ybmVyc1soaSsxKSVzaWRlc0NvdW50XTtcblxuICAgICAgICAgICAgICAgIHNpZGUuYm9keUEgPSBzaWRlLnZlY0FCLmNsb25lKCkubXVsdGlwbHlTY2FsYXIoY29ybmVyQS5yYWRpdXMpLmFkZChzaWRlLnBvaW50QSk7XG4gICAgICAgICAgICAgICAgc2lkZS5ib2R5QiA9IHNpZGUudmVjQkEuY2xvbmUoKS5tdWx0aXBseVNjYWxhcihjb3JuZXJCLnJhZGl1cykuYWRkKHNpZGUucG9pbnRCKTtcblxuICAgICAgICAgICAgICAgIGlmICh1cGRhdGVDb3JuZXJzKHNpZGUsIGNvcm5lckEsIGNvcm5lckIsIG9yaWVudGF0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBzaWRlLmJvZHkgPSAwO1xuICAgICAgICAgICAgICAgICAgICBzaWRlLmJvZHlEaWFtZXRlciA9IHNpZGUuYm9keUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzaWRlLmJvZHkgPSBzaWRlLmJvZHlCLmNsb25lKCkuc3ViKHNpZGUuYm9keUEpLmxlbmd0aCgpO1xuICAgICAgICAgICAgICAgICAgICBzaWRlLmJvZHlDb3VudCA9IE1hdGgucm91bmQoc2lkZS5ib2R5IC8gZGlhbWV0ZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2lkZS5ib2R5Q291bnQgPT09IDAgJiYgc2lkZS5ib2R5ID4gMC41KnJhZGl1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2lkZS5ib2R5Q291bnQgPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNpZGUuYm9keURpYW1ldGVyID0gZGlhbWV0ZXIgKyAoc2lkZS5ib2R5IC0gZGlhbWV0ZXIgKiBzaWRlLmJvZHlDb3VudCkgLyBzaWRlLmJvZHlDb3VudDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzaWRlLmJvZHlSYWRpdXMgPSBzaWRlLmJvZHlEaWFtZXRlciAqIDAuNTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldENvcm5lcnMoc2lkZXMsIHJhZGl1cywgY2xvc2VkKSB7XG5cbiAgICAgICAgICAgIHZhciBjb3JuZXJzID0gW107XG4gICAgICAgICAgICB2YXIgc2lkZXNDb3VudCA9IHNpZGVzLmxlbmd0aDtcblxuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHNpZGVzQ291bnQ7ICsraSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHNpZGVBID0gc2lkZXNbaSAhPT0gMCA/IGktMSA6IHNpZGVzQ291bnQtMV07XG4gICAgICAgICAgICAgICAgdmFyIHNpZGVCID0gc2lkZXNbaV07XG4gICAgICAgICAgICAgICAgdmFyIGxhcmdlID0gc2lkZUEudmVjQkEuY2xvbmUoKS5jcm9zcyhzaWRlQi52ZWNBQikueiA8IDA7XG5cbiAgICAgICAgICAgICAgICB2YXIgc2lkZXNUb29TaG9ydCA9IHNpZGVBLmxlbmd0aCA8IHJhZGl1cyB8fCBzaWRlQi5sZW5ndGggPCByYWRpdXM7XG4gICAgICAgICAgICAgICAgaWYgKHNpZGVzVG9vU2hvcnQgfHwgKGkgPT09IDAgJiYgIWNsb3NlZCkpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb3JuZXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRBOiBzaWRlQi5wb2ludEEuY2xvbmUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50Qjogc2lkZUIucG9pbnRBLmNsb25lKCksXG4gICAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXJnZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBjb3JuZXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRBOiBzaWRlQi5wb2ludEEuY2xvbmUoKS5hZGQoc2lkZUEudmVjQkEuY2xvbmUoKS5tdWx0aXBseVNjYWxhcihyYWRpdXMpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50Qjogc2lkZUIucG9pbnRBLmNsb25lKCkuYWRkKHNpZGVCLnZlY0FCLmNsb25lKCkubXVsdGlwbHlTY2FsYXIocmFkaXVzKSksXG4gICAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IHJhZGl1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhcmdlOiBsYXJnZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjb3JuZXJzO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlU2lkZVBhdGgoc2lkZSwgb3JpZW50YXRpb24sIHBhdGgpIHtcblxuICAgICAgICAgICAgdmFyIGNvdW50ID0gc2lkZS5ib2R5Q291bnQ7XG4gICAgICAgICAgICBpZiAoY291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciByYWRpdXMgPSBzaWRlLmJvZHlSYWRpdXM7XG4gICAgICAgICAgICB2YXIgZGlhbWV0ZXIgPSBzaWRlLmJvZHlEaWFtZXRlcjtcblxuICAgICAgICAgICAgdmFyIHhWYWx1ZUluc2V0ID0gZGlhbWV0ZXIgKiAwLjA1O1xuICAgICAgICAgICAgdmFyIHlWYWx1ZU9mZnNldCA9IHJhZGl1cyAqIDMuNSAvIDMuMDtcblxuICAgICAgICAgICAgdmFyIHAxID0gbmV3IFRIUkVFLlZlY3RvcjMoeFZhbHVlSW5zZXQsIG9yaWVudGF0aW9uICogLXlWYWx1ZU9mZnNldCk7XG4gICAgICAgICAgICB2YXIgcDIgPSBuZXcgVEhSRUUuVmVjdG9yMyhkaWFtZXRlciAtIHhWYWx1ZUluc2V0LCBvcmllbnRhdGlvbiAqIC15VmFsdWVPZmZzZXQpO1xuICAgICAgICAgICAgdmFyIHAzID0gbmV3IFRIUkVFLlZlY3RvcjMoZGlhbWV0ZXIsIDApO1xuXG4gICAgICAgICAgICB2YXIgYW5nbGUgPSBNYXRoLmFjb3Moc2lkZS52ZWNBQi54KSAqIChzaWRlLnZlY0FCLnkgPCAwID8gLTEgOiAxKTtcbiAgICAgICAgICAgIHZhciByb3RhdGlvbiA9IG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWihhbmdsZSk7XG5cbiAgICAgICAgICAgIHAxLmFwcGx5TWF0cml4NChyb3RhdGlvbik7XG4gICAgICAgICAgICBwMi5hcHBseU1hdHJpeDQocm90YXRpb24pO1xuICAgICAgICAgICAgcDMuYXBwbHlNYXRyaXg0KHJvdGF0aW9uKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgKytpKSB7XG5cbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goJ2MnKTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2gocDEueCk7XG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKHAxLnkpO1xuICAgICAgICAgICAgICAgIHBhdGgucHVzaChwMi54KTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2gocDIueSk7XG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKHAzLngpO1xuICAgICAgICAgICAgICAgIHBhdGgucHVzaChwMy55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNvcm5lclBhdGgoY29ybmVyLCBmaXJzdCwgb3JpZW50YXRpb24sIHBhdGgpIHtcblxuICAgICAgICAgICAgaWYgKGZpcnN0KSB7XG5cbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goJ00nKTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goY29ybmVyLnBvaW50QS54KTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goY29ybmVyLnBvaW50QS55KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGxhcmdlID0gb3JpZW50YXRpb24gPT09IDEgPyBjb3JuZXIubGFyZ2UgOiAhY29ybmVyLmxhcmdlO1xuXG4gICAgICAgICAgICBpZiAoY29ybmVyLnJhZGl1cyAhPT0gMCkge1xuXG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKCdhJyk7XG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKGNvcm5lci5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIHBhdGgucHVzaChjb3JuZXIucmFkaXVzKTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goMCk7XG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKGxhcmdlID8gMSA6IDApO1xuICAgICAgICAgICAgICAgIHBhdGgucHVzaChvcmllbnRhdGlvbiA9PT0gMSA/IDEgOiAwKTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goY29ybmVyLnBvaW50Qi54IC0gY29ybmVyLnBvaW50QS54KTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goY29ybmVyLnBvaW50Qi55IC0gY29ybmVyLnBvaW50QS55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICB9XG5cblxuICAgICAgICB2YXIgc3Ryb2tlV2lkdGggPSB0aGlzLnN0eWxlWydzdHJva2Utd2lkdGgnXTtcbiAgICAgICAgdmFyIHJhZGl1cyA9IHN0cm9rZVdpZHRoICogMjtcbiAgICAgICAgdmFyIG9yaWVudGF0aW9uID0gZ2V0T3JpZW50YXRpb24odGhpcy5sb2NhdGlvbnMpO1xuICAgICAgICB2YXIgY2xvc2VkID0gdGhpcy5jbG9zZWQ7XG4gICAgICAgIHZhciBwYXRoID0gW107XG5cbiAgICAgICAgdmFyIHNpZGVzID0gZ2V0U2lkZXModGhpcy5sb2NhdGlvbnMsIGNsb3NlZCk7XG4gICAgICAgIHZhciBjb3JuZXJzID0gZ2V0Q29ybmVycyhzaWRlcywgcmFkaXVzLCBjbG9zZWQpO1xuICAgICAgICB2YXIgY29ybmVyc0NvdW50ID0gY29ybmVycy5sZW5ndGg7XG5cbiAgICAgICAgdXBkYXRlU2lkZXMoc2lkZXMsIGNvcm5lcnMsIHJhZGl1cywgb3JpZW50YXRpb24pO1xuXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBjb3JuZXJzQ291bnQ7ICsraSkge1xuXG4gICAgICAgICAgICBjcmVhdGVDb3JuZXJQYXRoKGNvcm5lcnNbaV0sIGkgPT09IDAsIG9yaWVudGF0aW9uLCBwYXRoKTtcbiAgICAgICAgICAgIGNyZWF0ZVNpZGVQYXRoKHNpZGVzW2ldLCBvcmllbnRhdGlvbiwgcGF0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBjbG9zZWQgJiYgcGF0aC5wdXNoKCd6Jyk7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgIH07XG4iXSwibmFtZXMiOlsiTWFya3VwIiwiTWFya3VwVHlwZXMiLCJjcmVhdGVNYXJrdXBQYXRoU3ZnIiwiY29tcG9zZVJHQkFTdHJpbmciLCJzZXRBdHRyaWJ1dGVUb01hcmt1cFN2ZyIsInVwZGF0ZU1hcmt1cFBhdGhTdmdIaXRhcmVhIiwiYWRkTWFya3VwTWV0YWRhdGEiLCJjbG9uZVN0eWxlIiwiRWRpdE1vZGVQb2x5Y2xvdWQiLCJNYXJrdXBQb2x5Y2xvdWQiLCJpZCIsImVkaXRvciIsInN0eWxlQXR0cmlidXRlcyIsImNhbGwiLCJiaW5kIiwidHlwZSIsIk1BUktVUF9UWVBFX1BPTFlDTE9VRCIsImxvY2F0aW9ucyIsInNoYXBlIiwiYmluZERvbUV2ZW50cyIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwicHJvdG8iLCJnZXRFZGl0TW9kZSIsInNldCIsInBvc2l0aW9uIiwic2l6ZSIsImNsb3NlZCIsInJvdGF0aW9uIiwiY29uY2F0IiwieCIsInkiLCJzZXRTaXplIiwidXBkYXRlU3R5bGUiLCJzdHlsZSIsInBhdGgiLCJnZXRQYXRoIiwiam9pbiIsInN0cm9rZVdpZHRoIiwic3Ryb2tlQ29sb3IiLCJoaWdobGlnaHRlZCIsImhpZ2hsaWdodENvbG9yIiwiZmlsbENvbG9yIiwidHJhbnNmb3JtIiwiZ2V0VHJhbnNmb3JtIiwid2lkdGgiLCJoZWlnaHQiLCJsb2NhdGlvbnNDb3VudCIsImxlbmd0aCIsInNjYWxlWCIsInNjYWxlWSIsImkiLCJwb2ludCIsInNldE1ldGFkYXRhIiwibWV0YWRhdGEiLCJTdHJpbmciLCJtYXAiLCJnZXRPcmllbnRhdGlvbiIsImZzdFBvaW50Iiwic25kUG9pbnQiLCJwb2ludEEiLCJwb2ludEIiLCJwb2ludEMiLCJvcmllbnRhdGlvbiIsImdldFNpZGVzIiwic2lkZXMiLCJzaWRlc0NvdW50IiwibG9jYXRpb25BIiwibG9jYXRpb25CIiwiZHgiLCJkeSIsIk1hdGgiLCJzcXJ0IiwicHVzaCIsImluZGV4IiwiVEhSRUUiLCJWZWN0b3IzIiwidmVjQUIiLCJ2ZWNCQSIsInVwZGF0ZUNvcm5lcnMiLCJzaWRlIiwiY29ybmVyQSIsImNvcm5lckIiLCJyQSIsInJhZGl1cyIsInJCIiwiRCIsImFicyIsImEiLCJiIiwiYyIsImQiLCJkZWx0YSIsInhTIiwieFQiLCJ5UyIsInlUIiwieDEiLCJ4MiIsInkxIiwieTIiLCJ0ZXN0UG9pbnRPbkNpcmNsZSIsInRtcCIsImludGVyc2VjIiwiaW50ZXJzZWNTaWRlIiwic2lnbiIsImNsb25lIiwic3ViIiwiY3Jvc3MiLCJ6IiwidXBkYXRlU2lkZXMiLCJjb3JuZXJzIiwiZGlhbWV0ZXIiLCJib2R5QSIsIm11bHRpcGx5U2NhbGFyIiwiYWRkIiwiYm9keUIiLCJib2R5IiwiYm9keURpYW1ldGVyIiwiYm9keUNvdW50Iiwicm91bmQiLCJib2R5UmFkaXVzIiwiZ2V0Q29ybmVycyIsInNpZGVBIiwic2lkZUIiLCJsYXJnZSIsInNpZGVzVG9vU2hvcnQiLCJjcmVhdGVTaWRlUGF0aCIsImNvdW50IiwieFZhbHVlSW5zZXQiLCJ5VmFsdWVPZmZzZXQiLCJwMSIsInAyIiwicDMiLCJhbmdsZSIsImFjb3MiLCJNYXRyaXg0IiwibWFrZVJvdGF0aW9uWiIsImFwcGx5TWF0cml4NCIsImNyZWF0ZUNvcm5lclBhdGgiLCJjb3JuZXIiLCJmaXJzdCIsImNvcm5lcnNDb3VudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Markup/core/MarkupPolycloud.js\n");

/***/ }),

/***/ "./extensions/Markup/core/MarkupRectangle.js":
/*!***************************************************!*\
  !*** ./extensions/Markup/core/MarkupRectangle.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MarkupRectangle: () => (/* binding */ MarkupRectangle)\n/* harmony export */ });\n/* harmony import */ var _Markup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Markup */ \"./extensions/Markup/core/Markup.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n/* harmony import */ var _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MarkupsCoreUtils */ \"./extensions/Markup/core/MarkupsCoreUtils.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n/* harmony import */ var _edit_modes_EditModeRectangle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./edit-modes/EditModeRectangle */ \"./extensions/Markup/core/edit-modes/EditModeRectangle.js\");\n\n\n\n\n\n\n\n\n/**\n * Rectangle markup.\n *\n * Implements a Rectangle {@link Autodesk.Viewing.Extensions.Markups.Core.Markup|Markup}.\n * Included in documentation as an example of how to create\n * a specific markup type. Developers are encourage to look into this class's source code and copy\n * as much code as they need. Find link to source code below.\n *\n * @tutorial feature_markup\n * @constructor\n * @memberof Autodesk.Viewing.Extensions.Markups.Core\n * @extends Autodesk.Viewing.Extensions.Markups.Core.Markup\n *\n * @param {number} id\n * @param {Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore} editor\n * @constructor\n */\nfunction MarkupRectangle(id, editor) {\n\n  var styleAttributes = ['stroke-width', 'stroke-color', 'stroke-opacity', 'fill-color', 'fill-opacity'];\n  _Markup__WEBPACK_IMPORTED_MODULE_0__.Markup.call(this, id, editor, styleAttributes);\n\n  // Bind to this to pass this.globalManager\n  this.addMarkupMetadata = _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.addMarkupMetadata.bind(this);\n\n  this.type = _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__.MARKUP_TYPE_RECTANGLE;\n  this.shape = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createMarkupPathSvg)();\n\n  this.bindDomEvents();\n}\n\nMarkupRectangle.prototype = Object.create(_Markup__WEBPACK_IMPORTED_MODULE_0__.Markup.prototype);\nMarkupRectangle.prototype.constructor = MarkupRectangle;\n\nvar proto = MarkupRectangle.prototype;\n\nproto.getEditMode = function () {\n\n  return new _edit_modes_EditModeRectangle__WEBPACK_IMPORTED_MODULE_4__.EditModeRectangle(this.editor);\n};\n\n/**\n * Sets position and size in markup space coordinates\n * @param {Object} position\n * @param {Object} size\n */\nproto.set = function (position, size) {\n\n  this.position.x = position.x;\n  this.position.y = position.y;\n  this.size.x = size.x;\n  this.size.y = size.y;\n\n  this.updateStyle();\n};\n\n/**\n * Applies data values into DOM element style/attribute(s)\n *\n */\nproto.updateStyle = function () {\n\n  var style = this.style;\n  var shape = this.shape;\n  var path = this.getPath().join(' ');\n\n  var strokeWidth = this.style['stroke-width'];\n  var strokeColor = this.highlighted ? this.highlightColor : (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.composeRGBAString)(style['stroke-color'], style['stroke-opacity']);\n  var fillColor = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.composeRGBAString)(style['fill-color'], style['fill-opacity']);\n  var transform = this.getTransform();\n\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'd', path);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'stroke-width', strokeWidth);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'stroke', strokeColor);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'fill', fillColor);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'transform', transform);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.updateMarkupPathSvgHitarea)(shape, this.editor);\n};\n\nproto.setMetadata = function () {\n\n  var metadata = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_3__.cloneStyle)(this.style);\n\n  metadata.type = this.type;\n  metadata.position = [this.position.x, this.position.y].join(\" \");\n  metadata.size = [this.size.x, this.size.y].join(\" \");\n  metadata.rotation = String(this.rotation);\n\n  return this.addMarkupMetadata(this.shape, metadata);\n};\n\nproto.getPath = function () {\n\n  var strokeWidth = this.style['stroke-width'];\n\n  var w = this.size.x - strokeWidth;\n  var h = this.size.y - strokeWidth;\n  var x = -w * 0.5;\n  var y = -h * 0.5;\n\n  var path = [];\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createRectanglePath)(x, y, w, h, false, path);\n\n  return path;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL01hcmt1cFJlY3RhbmdsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBYTs7QUFFcUI7QUFDVztBQUUwRDtBQUM3RDtBQUN5Qjs7QUFFL0Q7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNXLFNBQVNVLGVBQWVBLENBQUNDLEVBQUUsRUFBRUMsTUFBTSxFQUFFOztFQUV4QyxJQUFJQyxlQUFlLEdBQUcsQ0FBQyxjQUFjLEVBQUUsY0FBYyxFQUFFLGdCQUFnQixFQUFFLFlBQVksRUFBRSxjQUFjLENBQUM7RUFDdEdiLDJDQUFNLENBQUNjLElBQUksQ0FBQyxJQUFJLEVBQUVILEVBQUUsRUFBRUMsTUFBTSxFQUFFQyxlQUFlLENBQUM7O0VBRTlDO0VBQ0EsSUFBSSxDQUFDTixpQkFBaUIsR0FBR0EsZ0VBQWlCLENBQUNRLElBQUksQ0FBQyxJQUFJLENBQUM7O0VBRXJELElBQUksQ0FBQ0MsSUFBSSxHQUFHZiwrREFBaUM7RUFDN0MsSUFBSSxDQUFDaUIsS0FBSyxHQUFHaEIsc0VBQW1CLENBQUMsQ0FBQzs7RUFFbEMsSUFBSSxDQUFDaUIsYUFBYSxDQUFDLENBQUM7QUFDeEI7O0FBRUFULGVBQWUsQ0FBQ1UsU0FBUyxHQUFHQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ3RCLDJDQUFNLENBQUNvQixTQUFTLENBQUM7QUFDM0RWLGVBQWUsQ0FBQ1UsU0FBUyxDQUFDRyxXQUFXLEdBQUdiLGVBQWU7O0FBRXZELElBQUljLEtBQUssR0FBR2QsZUFBZSxDQUFDVSxTQUFTOztBQUVyQ0ksS0FBSyxDQUFDQyxXQUFXLEdBQUcsWUFBVzs7RUFFM0IsT0FBTyxJQUFJaEIsNEVBQWlCLENBQUMsSUFBSSxDQUFDRyxNQUFNLENBQUM7QUFDN0MsQ0FBQzs7QUFFRDtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0lZLEtBQUssQ0FBQ0UsR0FB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QUNuQixJQUFJLENBQUNDLENBQUMsR0FBR08sV0FBVztFQUNqQyxJQUFJWSxDQUFDLEdBQUcsSUFBSSxDQUFDcEIsSUFBSSxDQUFDRSxDQUFDLEdBQUdNLFdBQVc7RUFDakMsSUFBSVAsQ0FBQyxHQUFFLENBQUNrQixDQUFDLEdBQUcsR0FBRztFQUNmLElBQUlqQixDQUFDLEdBQUUsQ0FBQ2tCLENBQUMsR0FBRyxHQUFHOztFQUVmLElBQUlmLElBQUksR0FBRyxFQUFFO0VBQ2I3QixzRUFBbUIsQ0FBQ3lCLENBQUMsRUFBRUMsQ0FBQyxFQUFFaUIsQ0FBQyxFQUFFQyxDQUFDLEVBQUUsS0FBSyxFQUFFZixJQUFJLENBQUM7O0VBRTVDLE9BQU9BLElBQUk7QUFDZixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvTWFya3VwUmVjdGFuZ2xlLmpzP2YwZDMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBNYXJrdXAgfSBmcm9tICcuL01hcmt1cCc7XG5pbXBvcnQgKiBhcyBNYXJrdXBUeXBlcyBmcm9tICcuL01hcmt1cFR5cGVzJztcbmltcG9ydCB7IGNyZWF0ZU1hcmt1cFBhdGhTdmcsIGNvbXBvc2VSR0JBU3RyaW5nLCBjcmVhdGVSZWN0YW5nbGVQYXRoLFxuICAgIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnLCB1cGRhdGVNYXJrdXBQYXRoU3ZnSGl0YXJlYSwgYWRkTWFya3VwTWV0YWRhdGEgfSBmcm9tICcuL01hcmt1cHNDb3JlVXRpbHMnO1xuaW1wb3J0IHsgY2xvbmVTdHlsZSB9IGZyb20gJy4vU3R5bGVVdGlscyc7XG5pbXBvcnQgeyBFZGl0TW9kZVJlY3RhbmdsZSB9IGZyb20gJy4vZWRpdC1tb2Rlcy9FZGl0TW9kZVJlY3RhbmdsZSc7XG5cbiAgICAvKipcbiAgICAgKiBSZWN0YW5nbGUgbWFya3VwLlxuICAgICAqXG4gICAgICogSW1wbGVtZW50cyBhIFJlY3RhbmdsZSB7QGxpbmsgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZS5NYXJrdXB8TWFya3VwfS5cbiAgICAgKiBJbmNsdWRlZCBpbiBkb2N1bWVudGF0aW9uIGFzIGFuIGV4YW1wbGUgb2YgaG93IHRvIGNyZWF0ZVxuICAgICAqIGEgc3BlY2lmaWMgbWFya3VwIHR5cGUuIERldmVsb3BlcnMgYXJlIGVuY291cmFnZSB0byBsb29rIGludG8gdGhpcyBjbGFzcydzIHNvdXJjZSBjb2RlIGFuZCBjb3B5XG4gICAgICogYXMgbXVjaCBjb2RlIGFzIHRoZXkgbmVlZC4gRmluZCBsaW5rIHRvIHNvdXJjZSBjb2RlIGJlbG93LlxuICAgICAqXG4gICAgICogQHR1dG9yaWFsIGZlYXR1cmVfbWFya3VwXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlcm9mIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzLkNvcmVcbiAgICAgKiBAZXh0ZW5kcyBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlLk1hcmt1cFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlkXG4gICAgICogQHBhcmFtIHtBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlLk1hcmt1cHNDb3JlfSBlZGl0b3JcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gTWFya3VwUmVjdGFuZ2xlKGlkLCBlZGl0b3IpIHtcblxuICAgICAgICB2YXIgc3R5bGVBdHRyaWJ1dGVzID0gWydzdHJva2Utd2lkdGgnLCAnc3Ryb2tlLWNvbG9yJywgJ3N0cm9rZS1vcGFjaXR5JywgJ2ZpbGwtY29sb3InLCAnZmlsbC1vcGFjaXR5J107XG4gICAgICAgIE1hcmt1cC5jYWxsKHRoaXMsIGlkLCBlZGl0b3IsIHN0eWxlQXR0cmlidXRlcyk7XG5cbiAgICAgICAgLy8gQmluZCB0byB0aGlzIHRvIHBhc3MgdGhpcy5nbG9iYWxNYW5hZ2VyXG4gICAgICAgIHRoaXMuYWRkTWFya3VwTWV0YWRhdGEgPSBhZGRNYXJrdXBNZXRhZGF0YS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMudHlwZSA9IE1hcmt1cFR5cGVzLk1BUktVUF9UWVBFX1JFQ1RBTkdMRTtcbiAgICAgICAgdGhpcy5zaGFwZSA9IGNyZWF0ZU1hcmt1cFBhdGhTdmcoKTtcblxuICAgICAgICB0aGlzLmJpbmREb21FdmVudHMoKTtcbiAgICB9XG5cbiAgICBNYXJrdXBSZWN0YW5nbGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNYXJrdXAucHJvdG90eXBlKTtcbiAgICBNYXJrdXBSZWN0YW5nbGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTWFya3VwUmVjdGFuZ2xlO1xuXG4gICAgdmFyIHByb3RvID0gTWFya3VwUmVjdGFuZ2xlLnByb3RvdHlwZTtcblxuICAgIHByb3RvLmdldEVkaXRNb2RlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBFZGl0TW9kZVJlY3RhbmdsZSh0aGlzLmVkaXRvcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgcG9zaXRpb24gYW5kIHNpemUgaW4gbWFya3VwIHNwYWNlIGNvb3JkaW5hdGVzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNpemVcbiAgICAgKi9cbiAgICBwcm90by5zZXQgPSBmdW5jdGlvbihwb3NpdGlvbiwgc2l6ZSkge1xuXG4gICAgICAgIHRoaXMucG9zaXRpb24ueCA9IHBvc2l0aW9uLng7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA9IHBvc2l0aW9uLnk7XG4gICAgICAgIHRoaXMuc2l6ZS54ID0gc2l6ZS54O1xuICAgICAgICB0aGlzLnNpemUueSA9IHNpemUueTtcblxuICAgICAgICB0aGlzLnVwZGF0ZVN0eWxlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgZGF0YSB2YWx1ZXMgaW50byBET00gZWxlbWVudCBzdHlsZS9hdHRyaWJ1dGUocylcbiAgICAgKlxuICAgICAqL1xuICAgIHByb3RvLnVwZGF0ZVN0eWxlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5zdHlsZTtcbiAgICAgICAgdmFyIHNoYXBlID0gdGhpcy5zaGFwZTtcbiAgICAgICAgdmFyIHBhdGggPSB0aGlzLmdldFBhdGgoKS5qb2luKCcgJyk7XG5cbiAgICAgICAgdmFyIHN0cm9rZVdpZHRoID0gdGhpcy5zdHlsZVsnc3Ryb2tlLXdpZHRoJ107XG4gICAgICAgIHZhciBzdHJva2VDb2xvciA9IHRoaXMuaGlnaGxpZ2h0ZWQgPyB0aGlzLmhpZ2hsaWdodENvbG9yIDogY29tcG9zZVJHQkFTdHJpbmcoc3R5bGVbJ3N0cm9rZS1jb2xvciddLCBzdHlsZVsnc3Ryb2tlLW9wYWNpdHknXSk7XG4gICAgICAgIHZhciBmaWxsQ29sb3IgPSBjb21wb3NlUkdCQVN0cmluZyhzdHlsZVsnZmlsbC1jb2xvciddLCBzdHlsZVsnZmlsbC1vcGFjaXR5J10pO1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy5nZXRUcmFuc2Zvcm0oKTtcblxuICAgICAgICBzZXRBdHRyaWJ1dGVUb01hcmt1cFN2ZyhzaGFwZSwgJ2QnLCBwYXRoKTtcbiAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcoc2hhcGUsICdzdHJva2Utd2lkdGgnLCBzdHJva2VXaWR0aCk7XG4gICAgICAgIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnKHNoYXBlLCAnc3Ryb2tlJywgc3Ryb2tlQ29sb3IpO1xuICAgICAgICBzZXRBdHRyaWJ1dGVUb01hcmt1cFN2ZyhzaGFwZSwgJ2ZpbGwnLCBmaWxsQ29sb3IpO1xuICAgICAgICBzZXRBdHRyaWJ1dGVUb01hcmt1cFN2ZyhzaGFwZSwgJ3RyYW5zZm9ybScsIHRyYW5zZm9ybSk7XG4gICAgICAgIHVwZGF0ZU1hcmt1cFBhdGhTdmdIaXRhcmVhKHNoYXBlLCB0aGlzLmVkaXRvcik7XG4gICAgfTtcblxuICAgIHByb3RvLnNldE1ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIG1ldGFkYXRhID0gY2xvbmVTdHlsZSh0aGlzLnN0eWxlKTtcblxuICAgICAgICBtZXRhZGF0YS50eXBlID0gdGhpcy50eXBlO1xuICAgICAgICBtZXRhZGF0YS5wb3NpdGlvbiA9IFt0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueV0uam9pbihcIiBcIik7XG4gICAgICAgIG1ldGFkYXRhLnNpemUgPSBbdGhpcy5zaXplLngsIHRoaXMuc2l6ZS55XS5qb2luKFwiIFwiKTtcbiAgICAgICAgbWV0YWRhdGEucm90YXRpb24gPSBTdHJpbmcodGhpcy5yb3RhdGlvbik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkTWFya3VwTWV0YWRhdGEodGhpcy5zaGFwZSwgbWV0YWRhdGEpO1xuICAgIH07XG5cbiAgICBwcm90by5nZXRQYXRoID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIHN0cm9rZVdpZHRoID0gdGhpcy5zdHlsZVsnc3Ryb2tlLXdpZHRoJ107XG5cbiAgICAgICAgdmFyIHcgPSB0aGlzLnNpemUueCAtIHN0cm9rZVdpZHRoO1xuICAgICAgICB2YXIgaCA9IHRoaXMuc2l6ZS55IC0gc3Ryb2tlV2lkdGg7XG4gICAgICAgIHZhciB4ID0tdyAqIDAuNTtcbiAgICAgICAgdmFyIHkgPS1oICogMC41O1xuXG4gICAgICAgIHZhciBwYXRoID0gW107XG4gICAgICAgIGNyZWF0ZVJlY3RhbmdsZVBhdGgoeCwgeSwgdywgaCwgZmFsc2UsIHBhdGgpO1xuXG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgIH07XG4iXSwibmFtZXMiOlsiTWFya3VwIiwiTWFya3VwVHlwZXMiLCJjcmVhdGVNYXJrdXBQYXRoU3ZnIiwiY29tcG9zZVJHQkFTdHJpbmciLCJjcmVhdGVSZWN0YW5nbGVQYXRoIiwic2V0QXR0cmlidXRlVG9NYXJrdXBTdmciLCJ1cGRhdGVNYXJrdXBQYXRoU3ZnSGl0YXJlYSIsImFkZE1hcmt1cE1ldGFkYXRhIiwiY2xvbmVTdHlsZSIsIkVkaXRNb2RlUmVjdGFuZ2xlIiwiTWFya3VwUmVjdGFuZ2xlIiwiaWQiLCJlZGl0b3IiLCJzdHlsZUF0dHJpYnV0ZXMiLCJjYWxsIiwiYmluZCIsInR5cGUiLCJNQVJLVVBfVFlQRV9SRUNUQU5HTEUiLCJzaGFwZSIsImJpbmREb21FdmVudHMiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwiZ2V0RWRpdE1vZGUiLCJzZXQiLCJwb3NpdGlvbiIsInNpemUiLCJ4IiwieSIsInVwZGF0ZVN0eWxlIiwic3R5bGUiLCJwYXRoIiwiZ2V0UGF0aCIsImpvaW4iLCJzdHJva2VXaWR0aCIsInN0cm9rZUNvbG9yIiwiaGlnaGxpZ2h0ZWQiLCJoaWdobGlnaHRDb2xvciIsImZpbGxDb2xvciIsInRyYW5zZm9ybSIsImdldFRyYW5zZm9ybSIsInNldE1ldGFkYXRhIiwibWV0YWRhdGEiLCJyb3RhdGlvbiIsIlN0cmluZyIsInciLCJoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/MarkupRectangle.js\n");

/***/ }),

/***/ "./extensions/Markup/core/MarkupStamp.js":
/*!***********************************************!*\
  !*** ./extensions/Markup/core/MarkupStamp.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MarkupStamp: () => (/* binding */ MarkupStamp)\n/* harmony export */ });\n/* harmony import */ var _Markup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Markup */ \"./extensions/Markup/core/Markup.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n/* harmony import */ var _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MarkupsCoreUtils */ \"./extensions/Markup/core/MarkupsCoreUtils.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n/* harmony import */ var _edit_modes_EditModeStamp__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./edit-modes/EditModeStamp */ \"./extensions/Markup/core/edit-modes/EditModeStamp.js\");\n\n\n\n\n\n\n\n\n\n\nclass MarkupStamp extends _Markup__WEBPACK_IMPORTED_MODULE_0__.Markup {\n  /**\n   * @param {number} id\n   * @param {Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore} editor\n   */\n  constructor(id, editor, svgData) {\n    const styleAttributes = [\n    'text-data'];\n\n    super(id, editor, styleAttributes);\n    this.type = _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__.MARKUP_TYPE_STAMP;\n    this.addMarkupMetadata = _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.addMarkupMetadata.bind(this);\n\n    this.createShapeGroup();\n\n    this.scriptSvgData = svgData;\n    this.loadSvgData();\n\n    this.bindDomEvents();\n  }\n\n  createShapeGroup() {\n    /*\n    * shape\n    *    group\n    *      customSvg\n    *    hitarea (aka markup)\n    */\n    this.shape = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createSvgElement)('g');\n    this.shape.group = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createSvgElement)('g');\n    this.shape.appendChild(this.shape.group);\n\n    let hitarea = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createSvgElement)('path');\n    hitarea.setAttribute('id', \"hitarea\");\n    hitarea.setAttribute('fill', \"none\");\n    this.shape.appendChild(hitarea);\n\n    this.shape.hitarea = hitarea;\n    this.shape.markup = hitarea;\n  }\n\n  loadSvgData() {\n    let svgString = this.scriptSvgData || this.style['text-data'];\n    let svgNode = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.stringToSvgNode)(svgString);\n\n    // null if parsing fails, so exit\n    if (svgNode === null) {\n      console.warn(\"SVG data \" + svgString + \" is invalid, skipping shape update\");\n      return;\n    }\n\n    let [width, height] = this.getDimensions(svgNode);\n\n    // update the bounding box when the SVG is changed\n    let path = `M 0 0 l ${width} 0 l 0 ${height} l ${-width} 0 z`;\n    this.shape.hitarea.setAttribute('d', path);\n\n    this.shape.group.innerHTML = svgNode.innerHTML;\n\n    // This is to standardize things:\n    // width and height are 1 unit\n    // position is in the centre\n    // have to flip things because of y axis going upwards\n    this.shape.group.setAttribute('transform', `translate( -0.5 , 0.5 ) scale( ${1 / width} , ${-1 / height} )`);\n    // then copy to the hitarea because it's outside the SVG\n    this.shape.hitarea.setAttribute('transform', this.shape.group.getAttribute('transform'));\n  }\n\n  getEditMode() {\n    return new _edit_modes_EditModeStamp__WEBPACK_IMPORTED_MODULE_4__.EditModeStamp(this.editor);\n  }\n\n  set(position, size) {\n    this.setSize(position, size.x, size.y);\n    this.updateStyle();\n  }\n\n  updateStyle(styleChanged) {\n    const strokeColor = this.highlighted ? this.highlightColor : (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.composeRGBAString)(this.style['stroke-color'], this.style['stroke-opacity']);\n    this.shape.hitarea.setAttribute('stroke', strokeColor);\n\n    // This only provides translation and rotation, not scale\n    const transform = this.getTransform() + ` scale( ${this.size.x} , ${this.size.y} )`;\n    this.shape.setAttribute('transform', transform);\n\n    if (styleChanged) {\n      this.loadSvgData();\n    }\n  }\n\n  getDimensions(customSvg) {\n    let vb = customSvg.getAttribute('viewBox');\n    if (!vb) {\n      // if no viewbox is specified, check for width and height\n      let width = customSvg.getAttribute('width') || 100;\n      let height = customSvg.getAttribute('height') || 100;\n      return [width, height];\n    }\n    let strings = vb.split(' ');\n    let width = parseInt(strings[2]);\n    let height = parseInt(strings[3]);\n\n    return [width, height];\n  }\n\n  setMetadata() {\n\n    var metadata = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_3__.cloneStyle)(this.style);\n\n    metadata.type = this.type;\n    metadata.position = [this.position.x, this.position.y].join(\" \");\n    metadata.size = [this.size.x, this.size.y].join(\" \");\n    metadata.rotation = String(this.rotation);\n\n    return this.addMarkupMetadata(this.shape, metadata);\n  }\n\n  setStyle(style) {\n    let stylesEqual = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_3__.isStyleEqual)(style, this.style);\n    if (!stylesEqual) {\n      (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_3__.copyStyle)(style, this.style);\n    }\n\n    this.updateStyle(!stylesEqual);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMzRCxpQkFBaUIsQ0FBQyxJQUFJLENBQUNvQixLQUFLLEVBQUVxQyxRQUFRLENBQUM7RUFDdkQ7O0VBRUFJLFFBQVFBLENBQUNsQyxLQUFLLEVBQUU7SUFDWixJQUFJbUMsV0FBVyxHQUFHekQseURBQVksQ0FBQ3NCLEtBQUssRUFBRSxJQUFJLENBQUNBLEtBQUssQ0FBQztJQUNqRCxJQUFJLENBQUNtQyxXQUFXLEVBQUU7TUFDZDFELHNEQUFTLENBQUN1QixLQUFLLEVBQUUsSUFBSSxDQUFDQSxLQUFLLENBQUM7SUFDaEM7O0lBRUEsSUFBSSxDQUFDaUIsV0FBVyxDQUFDLENBQUNrQixXQUFXLENBQUM7RUFDbEM7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL01hcmt1cFN0YW1wLmpzP2RiOWMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBNYXJrdXAgfSBmcm9tICcuL01hcmt1cCc7XG5pbXBvcnQgKiBhcyBNYXJrdXBUeXBlcyBmcm9tICcuL01hcmt1cFR5cGVzJztcbmltcG9ydCB7IGNvbXBvc2VSR0JBU3RyaW5nLCBhZGRNYXJrdXBNZXRhZGF0YSxcbiAgICBzdHJpbmdUb1N2Z05vZGUsIGNyZWF0ZVN2Z0VsZW1lbnR9IGZyb20gJy4vTWFya3Vwc0NvcmVVdGlscyc7XG5pbXBvcnQgeyBjbG9uZVN0eWxlLCBjb3B5U3R5bGUsIGlzU3R5bGVFcXVhbCB9IGZyb20gJy4vU3R5bGVVdGlscyc7XG5pbXBvcnQgeyBFZGl0TW9kZVN0YW1wIH0gZnJvbSAnLi9lZGl0LW1vZGVzL0VkaXRNb2RlU3RhbXAnO1xuXG5leHBvcnQgeyBNYXJrdXBTdGFtcCB9O1xuXG5jbGFzcyBNYXJrdXBTdGFtcCBleHRlbmRzIE1hcmt1cCB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlkXG4gICAgICogQHBhcmFtIHtBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlLk1hcmt1cHNDb3JlfSBlZGl0b3JcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihpZCwgZWRpdG9yLCBzdmdEYXRhKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlQXR0cmlidXRlcyA9IFtcbiAgICAgICAgICAgICd0ZXh0LWRhdGEnXG4gICAgICAgIF07XG4gICAgICAgIHN1cGVyKGlkLCBlZGl0b3IsIHN0eWxlQXR0cmlidXRlcyk7XG4gICAgICAgIHRoaXMudHlwZSA9IE1hcmt1cFR5cGVzLk1BUktVUF9UWVBFX1NUQU1QO1xuICAgICAgICB0aGlzLmFkZE1hcmt1cE1ldGFkYXRhID0gYWRkTWFya3VwTWV0YWRhdGEuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZVNoYXBlR3JvdXAoKTtcblxuICAgICAgICB0aGlzLnNjcmlwdFN2Z0RhdGEgPSBzdmdEYXRhO1xuICAgICAgICB0aGlzLmxvYWRTdmdEYXRhKCk7XG5cbiAgICAgICAgdGhpcy5iaW5kRG9tRXZlbnRzKCk7XG4gICAgfVxuXG4gICAgY3JlYXRlU2hhcGVHcm91cCgpIHtcbiAgICAgICAgLypcbiAgICAgICAgKiBzaGFwZVxuICAgICAgICAqICAgIGdyb3VwXG4gICAgICAgICogICAgICBjdXN0b21TdmdcbiAgICAgICAgKiAgICBoaXRhcmVhIChha2EgbWFya3VwKVxuICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYXBlID0gY3JlYXRlU3ZnRWxlbWVudCgnZycpO1xuICAgICAgICB0aGlzLnNoYXBlLmdyb3VwID0gY3JlYXRlU3ZnRWxlbWVudCgnZycpO1xuICAgICAgICB0aGlzLnNoYXBlLmFwcGVuZENoaWxkKHRoaXMuc2hhcGUuZ3JvdXApO1xuXG4gICAgICAgIGxldCBoaXRhcmVhID0gY3JlYXRlU3ZnRWxlbWVudCgncGF0aCcpO1xuICAgICAgICBoaXRhcmVhLnNldEF0dHJpYnV0ZSgnaWQnLCBcImhpdGFyZWFcIik7XG4gICAgICAgIGhpdGFyZWEuc2V0QXR0cmlidXRlKCdmaWxsJywgXCJub25lXCIpO1xuICAgICAgICB0aGlzLnNoYXBlLmFwcGVuZENoaWxkKGhpdGFyZWEpO1xuXG4gICAgICAgIHRoaXMuc2hhcGUuaGl0YXJlYSA9IGhpdGFyZWE7XG4gICAgICAgIHRoaXMuc2hhcGUubWFya3VwID0gaGl0YXJlYTtcbiAgICB9XG5cbiAgICBsb2FkU3ZnRGF0YSgpIHtcbiAgICAgICAgbGV0IHN2Z1N0cmluZyA9IHRoaXMuc2NyaXB0U3ZnRGF0YSB8fCB0aGlzLnN0eWxlWyd0ZXh0LWRhdGEnXTtcbiAgICAgICAgbGV0IHN2Z05vZGUgPSBzdHJpbmdUb1N2Z05vZGUoc3ZnU3RyaW5nKTtcblxuICAgICAgICAvLyBudWxsIGlmIHBhcnNpbmcgZmFpbHMsIHNvIGV4aXRcbiAgICAgICAgaWYgKHN2Z05vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlNWRyBkYXRhIFwiICsgc3ZnU3RyaW5nICsgXCIgaXMgaW52YWxpZCwgc2tpcHBpbmcgc2hhcGUgdXBkYXRlXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IFt3aWR0aCwgaGVpZ2h0XSA9IHRoaXMuZ2V0RGltZW5zaW9ucyhzdmdOb2RlKTtcblxuICAgICAgICAvLyB1cGRhdGUgdGhlIGJvdW5kaW5nIGJveCB3aGVuIHRoZSBTVkcgaXMgY2hhbmdlZFxuICAgICAgICBsZXQgcGF0aCA9IGBNIDAgMCBsICR7d2lkdGh9IDAgbCAwICR7aGVpZ2h0fSBsICR7LXdpZHRofSAwIHpgO1xuICAgICAgICB0aGlzLnNoYXBlLmhpdGFyZWEuc2V0QXR0cmlidXRlKCdkJywgcGF0aCk7XG5cbiAgICAgICAgdGhpcy5zaGFwZS5ncm91cC5pbm5lckhUTUwgPSBzdmdOb2RlLmlubmVySFRNTDtcblxuICAgICAgICAvLyBUaGlzIGlzIHRvIHN0YW5kYXJkaXplIHRoaW5nczpcbiAgICAgICAgLy8gd2lkdGggYW5kIGhlaWdodCBhcmUgMSB1bml0XG4gICAgICAgIC8vIHBvc2l0aW9uIGlzIGluIHRoZSBjZW50cmVcbiAgICAgICAgLy8gaGF2ZSB0byBmbGlwIHRoaW5ncyBiZWNhdXNlIG9mIHkgYXhpcyBnb2luZyB1cHdhcmRzXG4gICAgICAgIHRoaXMuc2hhcGUuZ3JvdXAuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCAtMC41ICwgMC41ICkgc2NhbGUoICR7MS93aWR0aH0gLCAkey0xL2hlaWdodH0gKWApO1xuICAgICAgICAvLyB0aGVuIGNvcHkgdG8gdGhlIGhpdGFyZWEgYmVjYXVzZSBpdCdzIG91dHNpZGUgdGhlIFNWR1xuICAgICAgICB0aGlzLnNoYXBlLmhpdGFyZWEuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCB0aGlzLnNoYXBlLmdyb3VwLmdldEF0dHJpYnV0ZSgndHJhbnNmb3JtJykpO1xuICAgIH1cblxuICAgIGdldEVkaXRNb2RlKCkge1xuICAgICAgICByZXR1cm4gbmV3IEVkaXRNb2RlU3RhbXAodGhpcy5lZGl0b3IpO1xuICAgIH1cblxuICAgIHNldChwb3NpdGlvbiwgc2l6ZSkge1xuICAgICAgICB0aGlzLnNldFNpemUocG9zaXRpb24sIHNpemUueCwgc2l6ZS55KTtcbiAgICAgICAgdGhpcy51cGRhdGVTdHlsZSgpO1xuICAgIH1cblxuICAgIHVwZGF0ZVN0eWxlKHN0eWxlQ2hhbmdlZCkge1xuICAgICAgICBjb25zdCBzdHJva2VDb2xvciA9IHRoaXMuaGlnaGxpZ2h0ZWQgPyB0aGlzLmhpZ2hsaWdodENvbG9yIDogY29tcG9zZVJHQkFTdHJpbmcodGhpcy5zdHlsZVsnc3Ryb2tlLWNvbG9yJ10sIHRoaXMuc3R5bGVbJ3N0cm9rZS1vcGFjaXR5J10pO1xuICAgICAgICB0aGlzLnNoYXBlLmhpdGFyZWEuc2V0QXR0cmlidXRlKCdzdHJva2UnLCBzdHJva2VDb2xvcik7XG5cbiAgICAgICAgLy8gVGhpcyBvbmx5IHByb3ZpZGVzIHRyYW5zbGF0aW9uIGFuZCByb3RhdGlvbiwgbm90IHNjYWxlXG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IHRoaXMuZ2V0VHJhbnNmb3JtKCkgKyBgIHNjYWxlKCAke3RoaXMuc2l6ZS54fSAsICR7dGhpcy5zaXplLnl9IClgO1xuICAgICAgICB0aGlzLnNoYXBlLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgdHJhbnNmb3JtKTtcblxuICAgICAgICBpZiAoc3R5bGVDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRTdmdEYXRhKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXREaW1lbnNpb25zKGN1c3RvbVN2Zykge1xuICAgICAgICBsZXQgdmIgPSBjdXN0b21TdmcuZ2V0QXR0cmlidXRlKCd2aWV3Qm94Jyk7XG4gICAgICAgIGlmICghdmIpIHtcbiAgICAgICAgICAgIC8vIGlmIG5vIHZpZXdib3ggaXMgc3BlY2lmaWVkLCBjaGVjayBmb3Igd2lkdGggYW5kIGhlaWdodFxuICAgICAgICAgICAgbGV0IHdpZHRoID0gY3VzdG9tU3ZnLmdldEF0dHJpYnV0ZSgnd2lkdGgnKSB8fCAxMDA7XG4gICAgICAgICAgICBsZXQgaGVpZ2h0ID0gY3VzdG9tU3ZnLmdldEF0dHJpYnV0ZSgnaGVpZ2h0JykgfHwgMTAwO1xuICAgICAgICAgICAgcmV0dXJuIFt3aWR0aCwgaGVpZ2h0XTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3RyaW5ncyA9IHZiLnNwbGl0KCcgJyk7XG4gICAgICAgIGxldCB3aWR0aCA9IHBhcnNlSW50KHN0cmluZ3NbMl0pO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gcGFyc2VJbnQoc3RyaW5nc1szXSk7XG5cbiAgICAgICAgcmV0dXJuIFt3aWR0aCwgaGVpZ2h0XTtcbiAgICB9XG5cbiAgICBzZXRNZXRhZGF0YSgpIHtcblxuICAgICAgICB2YXIgbWV0YWRhdGEgPSBjbG9uZVN0eWxlKHRoaXMuc3R5bGUpO1xuXG4gICAgICAgIG1ldGFkYXRhLnR5cGUgPSB0aGlzLnR5cGU7XG4gICAgICAgIG1ldGFkYXRhLnBvc2l0aW9uID0gW3RoaXMucG9zaXRpb24ueCwgdGhpcy5wb3NpdGlvbi55XS5qb2luKFwiIFwiKTtcbiAgICAgICAgbWV0YWRhdGEuc2l6ZSA9IFt0aGlzLnNpemUueCwgdGhpcy5zaXplLnldLmpvaW4oXCIgXCIpO1xuICAgICAgICBtZXRhZGF0YS5yb3RhdGlvbiA9IFN0cmluZyh0aGlzLnJvdGF0aW9uKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5hZGRNYXJrdXBNZXRhZGF0YSh0aGlzLnNoYXBlLCBtZXRhZGF0YSk7XG4gICAgfVxuXG4gICAgc2V0U3R5bGUoc3R5bGUpIHtcbiAgICAgICAgbGV0IHN0eWxlc0VxdWFsID0gaXNTdHlsZUVxdWFsKHN0eWxlLCB0aGlzLnN0eWxlKTtcbiAgICAgICAgaWYgKCFzdHlsZXNFcXVhbCkge1xuICAgICAgICAgICAgY29weVN0eWxlKHN0eWxlLCB0aGlzLnN0eWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlU3R5bGUoIXN0eWxlc0VxdWFsKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiTWFya3VwIiwiTWFya3VwVHlwZXMiLCJjb21wb3NlUkdCQVN0cmluZyIsImFkZE1hcmt1cE1ldGFkYXRhIiwic3RyaW5nVG9TdmdOb2RlIiwiY3JlYXRlU3ZnRWxlbWVudCIsImNsb25lU3R5bGUiLCJjb3B5U3R5bGUiLCJpc1N0eWxlRXF1YWwiLCJFZGl0TW9kZVN0YW1wIiwiTWFya3VwU3RhbXAiLCJjb25zdHJ1Y3RvciIsImlkIiwiZWRpdG9yIiwic3ZnRGF0YSIsInN0eWxlQXR0cmlidXRlcyIsInR5cGUiLCJNQVJLVVBfVFlQRV9TVEFNUCIsImJpbmQiLCJjcmVhdGVTaGFwZUdyb3VwIiwic2NyaXB0U3ZnRGF0YSIsImxvYWRTdmdEYXRhIiwiYmluZERvbUV2ZW50cyIsInNoYXBlIiwiZ3JvdXAiLCJhcHBlbmRDaGlsZCIsImhpdGFyZWEiLCJzZXRBdHRyaWJ1dGUiLCJtYXJrdXAiLCJzdmdTdHJpbmciLCJzdHlsZSIsInN2Z05vZGUiLCJjb25zb2xlIiwid2FybiIsIndpZHRoIiwiaGVpZ2h0IiwiZ2V0RGltZW5zaW9ucyIsInBhdGgiLCJpbm5lckhUTUwiLCJnZXRBdHRyaWJ1dGUiLCJnZXRFZGl0TW9kZSIsInNldCIsInBvc2l0aW9uIiwic2l6ZSIsInNldFNpemUiLCJ4IiwieSIsInVwZGF0ZVN0eWxlIiwic3R5bGVDaGFuZ2VkIiwic3Ryb2tlQ29sb3IiLCJoaWdobGlnaHRlZCIsImhpZ2hsaWdodENvbG9yIiwidHJhbnNmb3JtIiwiZ2V0VHJhbnNmb3JtIiwiY3VzdG9tU3ZnIiwidmIiLCJzdHJpbmdzIiwic3BsaXQiLCJwYXJzZUludCIsInNldE1ldGFkYXRhIiwibWV0YWRhdGEiLCJqb2luIiwicm90YXRpb24iLCJTdHJpbmciLCJzZXRTdHlsZSIsInN0eWxlc0VxdWFsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/MarkupStamp.js\n");

/***/ }),

/***/ "./extensions/Markup/core/MarkupText.js":
/*!**********************************************!*\
  !*** ./extensions/Markup/core/MarkupText.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MarkupText: () => (/* binding */ MarkupText)\n/* harmony export */ });\n/* harmony import */ var _Markup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Markup */ \"./extensions/Markup/core/Markup.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n/* harmony import */ var _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MarkupsCoreUtils */ \"./extensions/Markup/core/MarkupsCoreUtils.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n/* harmony import */ var _edit_modes_EditModeText__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./edit-modes/EditModeText */ \"./extensions/Markup/core/edit-modes/EditModeText.js\");\n\n\n\n\n\n\n\n\n// LMV ViewerLMV-2170 [Markup] [PDF] Text markup missing/cutoff for normal sized text.\n// If the font size of an SVG text is too small, the text is not rendered independently of its final screen size.\n// To solve the issue we multiply font size by 100 and scale down the text in its transform.\nvar FONT_SIZE_SCALE = 100;\n\nvar STARTING_WIDTH_FACTOR = 6;\n\n/**\n * Text Markup.\n * @constructor\n */\nfunction MarkupText(id, editor, size) {\n\n  var styleAttributes = [\n  'font-size',\n  'stroke-color',\n  'stroke-opacity',\n  'fill-color',\n  'fill-opacity',\n  'font-family',\n  'font-style',\n  'font-weight'];\n\n\n  _Markup__WEBPACK_IMPORTED_MODULE_0__.Markup.call(this, id, editor, styleAttributes);\n\n  // Bind to this to pass globalManager\n  this.createSvgElement = _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createSvgElement.bind(this);\n  this.addMarkupMetadata = _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.addMarkupMetadata.bind(this);\n\n  this.type = _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__.MARKUP_TYPE_TEXT;\n  this.shape = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createMarkupTextSvg)();\n  this.constraintRotation = true;\n  this.constraintHeight = true;\n  this.constraintWidth = false;\n  this.size.x = size.x;\n  this.size.y = size.y;\n  this.currentText = \"\";\n  this.currentTextLines = [\"\"];\n  this.textDirty = true;\n  this.textSize = { x: 0, y: 0 };\n  this.prevHighlight = false;\n  this.isHelperTextActive = false;\n\n  // Note: We could have this property be a style property.\n  // However, there is no need for this property to be exposed to the user for alteration\n  // This value is a percentage of the font size used to offset vertically 2 text lines\n  // of the same paragraph.\n  // Notice that this value is used by EditorTextInput.js\n  this.lineHeight = 130;\n\n  this.minWidth = this.getClientFontSize() * STARTING_WIDTH_FACTOR;\n\n  this.bindDomEvents();\n}\n\nMarkupText.prototype = Object.create(_Markup__WEBPACK_IMPORTED_MODULE_0__.Markup.prototype);\nMarkupText.prototype.constructor = MarkupText;\n\nvar proto = MarkupText.prototype;\n\nproto.getEditMode = function () {\n\n  return new _edit_modes_EditModeText__WEBPACK_IMPORTED_MODULE_4__.EditModeText(this.editor);\n};\n\n/**\n *\n * @param {String} position\n * @param {String} size\n * @param {String} textString\n */\nproto.set = function (position, size, textString) {\n\n  this.position.x = position.x;\n  this.position.y = position.y;\n  this.size.x = size.x;\n  this.size.y = size.y;\n\n  this.setText(textString);\n};\n\nproto.setSize = function (position, width, height) {\n\n  this.position.x = position.x;\n  this.position.y = position.y;\n  this.size.x = width;\n  this.size.y = height;\n\n  var sizeUpdateRequired = true;\n\n  if (this.isHelperTextActive) {\n    this.updateTextBoxStyle();\n  } else {\n    this.updateStyle(sizeUpdateRequired);\n  }\n};\n\nproto.setPosition = function (x, y) {\n\n  this.position.x = x;\n  this.position.y = y;\n\n  if (this.isHelperTextActive) {\n    this.updateTextBoxStyle();\n  } else {\n    this.updateStyle();\n  }\n};\n\nproto.setStyle = function (style) {\n\n  var stylesEqual = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_3__.isStyleEqual)(style, this.style);\n\n  if (!stylesEqual) {\n    (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_3__.copyStyle)(style, this.style);\n  }\n\n  this.updateStyle(!stylesEqual);\n};\n\n/**\n *\n * @param {String} text\n */\nproto.setText = function (text) {\n\n  this.currentText = text;\n};\n\n/**\n * Returns the raw string value\n * @returns {String}\n */\nproto.getText = function () {\n\n  return this.currentText;\n};\n\n/**\n * Returns a shallow copy of the text lines used for rendering SVG text\n * @returns {Array.<String>}\n */\nproto.getTextLines = function () {\n\n  return this.currentTextLines.concat();\n};\n\nproto.highlightChanged = function () {\n\n  if (this.highlighted && this.highlighted !== this.prevHighlight) {\n    var shape = this.shape;\n    var strokeColor = this.highlightColor;\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'fill', strokeColor);\n\n    this.prevHighlight = true;\n    return false;\n  }\n\n  return true;\n};\n\nproto.updateTextBoxStyle = function () {\n  var editMode = this.editor.duringEditMode && this.editor.editMode;\n\n  if (!editMode || editMode.type !== this.type) {\n    editMode = this.getEditMode();\n  }\n\n  editMode.updateTextBoxStyle();\n};\n\nproto.setIsHelperTextActive = function (isActive) {\n  this.isHelperTextActive = isActive;\n};\n\n/**\n * Applies data values into DOM element style/attribute(s)\n *\n */\nproto.updateStyle = function (sizeUpdateRequired) {\n\n  if (this.highlightChanged()) {\n    this.prevHighlight = false;\n    var style = this.style;\n    var shape = this.shape;\n    var fontSize = this.style['font-size'];\n    var fontFamily = this.style['font-family'];\n    var fontWeight = this.style['font-weight'];\n    var fontStyle = this.style['font-style'];\n    var strokeColor = this.highlighted ? this.highlightColor : (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.composeRGBAString)(style['stroke-color'], style['stroke-opacity']);\n    var fillColor = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.composeRGBAString)(style['fill-color'], style['fill-opacity']);\n\n    // FONT_SIZE_SCALE is used to scale up fontSize, but it is only needed in cases where the font size is too small\n    FONT_SIZE_SCALE = fontSize > 1 ? 1 : 100;\n\n    this.rebuildTextSvg(sizeUpdateRequired);\n\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'font-family', fontFamily);\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'font-size', fontSize * FONT_SIZE_SCALE);\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'fill', strokeColor);\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'font-weight', fontWeight);\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setAttributeToMarkupSvg)(shape, 'font-style', fontStyle);\n\n    var editor = this.editor;\n    var transform = this.getTransform();\n    var textTransform = this.getTextTransform();\n\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.setMarkupTextSvgTransform)(shape, transform, textTransform);\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.updateMarkupTextSvgBackground)(shape, this.size.x, this.size.y, fillColor);\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.updateMarkupTextSvgClipper)(shape, this.size.x, this.size.y);\n    (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.updateMarkupTextSvgHitarea)(shape, this.size.x, this.size.y, editor);\n  }\n};\n\n/**\n * Re-creates SVG tags that render SVG text.\n * Each line is placed around tspan tags which are vertically offset to each other.\n */\nproto.rebuildTextSvg = function (sizeUpdateRequired) {\n\n  // TODO: Remove the need to get text values from an object in edit mode, should be a function.\n  // editMode needs to be set to load markups in view mode\n  var editMode = this.editor.duringEditMode && this.editor.editMode;\n\n  if (!editMode || editMode.type !== this.type) {\n    editMode = this.getEditMode();\n    editMode.textInputHelper.textArea.value = this.currentText;\n    editMode.textInputHelper.setStyle(this.style);\n  }\n\n  if (editMode.textInputHelper.textMarkup && editMode.textInputHelper.textMarkup !== this) {\n    return;\n  }\n\n  var style = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_3__.cloneStyle)(editMode.textInputHelper.style);\n  var text = editMode.textInputHelper.textArea.value;\n\n  var textHelperValues = editMode.textInputHelper.getTextValuesForMarkup(this, sizeUpdateRequired);\n\n  this.currentTextLines = textHelperValues.textValues.lines;\n\n  if (textHelperValues.newPos) {\n    var position = this.editor.positionFromClientToMarkups(textHelperValues.newPos.x, textHelperValues.newPos.y);\n    var size = this.editor.sizeFromClientToMarkups(textHelperValues.width, textHelperValues.height);\n\n    this.position.x = position.x;\n    this.position.y = position.y;\n    this.size.x = size.x;\n    this.size.y = size.y;\n  }\n\n  if (editMode.selectedMarkup !== this && !editMode.textInputHelper.firstEdit) {\n    editMode.textInputHelper.textArea.value = text;\n    editMode.textInputHelper.setStyle(style);\n  }\n\n  var markup = this.createSvgElement('text');\n  markup.setAttribute('id', 'markup');\n  markup.setAttribute('alignment-baseline', 'middle');\n\n  this.shape.childNodes[0].removeChild(this.shape.markup);\n  this.shape.childNodes[0].appendChild(markup);\n  this.shape.markup = markup;\n\n  // For each line, create a tspan, add as child and offset it vertically.\n  var yOffset = this.getLineHeight() * FONT_SIZE_SCALE * (this.lineHeight / 100);\n\n  var padding = this.getLineHeight() * FONT_SIZE_SCALE / 2;\n  var dx = padding;\n  var dy = padding;\n\n  this.currentTextLines.forEach(function (line) {\n\n    var tspan = this.createSvgElement('tspan');\n\n    tspan.setAttribute('x', dx);\n    tspan.setAttribute('y', dy);\n    tspan.textContent = line;\n\n    markup.appendChild(tspan);\n    dy += yOffset;\n  }.bind(this));\n};\n\nproto.setIsShapeVisible = function (isVisible) {\n\n  this.shape.style.display = isVisible ? 'block' : 'none';\n};\n\nproto.setMetadata = function () {\n\n  var metadata = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_3__.cloneStyle)(this.style);\n\n  metadata.type = this.type;\n  metadata.position = [this.position.x, this.position.y].join(\" \");\n  metadata.size = [this.size.x, this.size.y].join(\" \");\n  metadata.text = String(this.currentText);\n\n  return this.addMarkupMetadata(this.shape, metadata);\n};\n\n/**\n * Helper method that returns the font size in client space coords.\n * @returns {Number}\n */\nproto.getClientFontSize = function () {\n\n  return this.editor.sizeFromMarkupsToClient(0, this.style['font-size']).y;\n};\n\nproto.getLineHeight = function () {\n\n  return this.style['font-size'];\n};\n\nproto.getTransform = function () {\n\n  var x = this.position.x - this.size.x * 0.5;\n  var y = this.position.y + this.size.y * 0.5;\n\n  return [\n  'translate(', x, ',', y, ')',\n  'rotate(', (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.radiansToDegrees)(-this.rotation), ')',\n  'scale(1,-1)'].\n  join(' ');\n};\n\nproto.getTextTransform = function () {\n\n  var lineHeight = this.getLineHeight();\n\n  var x = this.position.x - this.size.x * 0.5;\n  var y = this.position.y + this.size.y * 0.5 - lineHeight;\n\n  return [\n  'translate(', x, ',', y, ')',\n  'rotate(', (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.radiansToDegrees)(-this.rotation), ')',\n  'scale(' + 1 / FONT_SIZE_SCALE + ',' + -1 / FONT_SIZE_SCALE + ')'].\n  join(' ');\n};\n\nproto.cloneShape = function (clone) {\n\n  clone.shape = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.createMarkupTextSvg)();\n  clone.bindDomEvents();\n};\n\nproto.getBoundingRect = function () {\n  var pos = this.getClientPosition();\n  var size = this.getClientSize();\n  return {\n    x: pos.x - size.x / 2,\n    y: pos.y - size.y / 2,\n    width: size.x,\n    height: size.y\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFRHRFLEtBQUssQ0FBQzBFLFVBQVUsR0FBRyxVQUFTQyxLQUFLLEVBQUU7O0VBRS9CQSxLQUFLLENBQUMvRixLQUFLLEdBQUdyQixzRUFBbUIsQ0FBQyxDQUFDO0VBQ25Db0gsS0FBSyxDQUFDaEYsYUFBYSxDQUFDLENBQUM7QUFDekIsQ0FBQzs7QUFFREssS0FBSyxDQUFDNEUsZUFBZSxHQUFHLFlBQVc7RUFDL0IsSUFBSUMsR0FBRyxHQUFHLElBQUksQ0FBQ0MsaUJBQWlCLENBQUMsQ0FBQztFQUNsQyxJQUFJeEcsSUFBSSxHQUFHLElBQUksQ0FBQ3lHLGFBQWEsQ0FBQyxDQUFDO0VBQy9CLE9BQU87SUFDSC9GLENBQUMsRUFBRTZGLEdBQUcsQ0FBQzdGLENBQUMsR0FBR1YsSUFBSSxDQUFDVSxDQUFDLEdBQUcsQ0FBQztJQUNyQkMsQ0FBQyxFQUFFNEYsR0FBRyxDQUFDNUYsQ0FBQyxHQUFHWCxJQUFJLENBQUNXLENBQUMsR0FBRyxDQUFDO0lBQ3JCc0IsS0FBSyxFQUFFakMsSUFBSSxDQUFDVSxDQUFDO0lBQ2J3QixNQUFNLEVBQUVsQyxJQUFJLENBQUNXO0VBQ2pCLENBQUM7QUFDTCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvTWFya3VwVGV4dC5qcz83ZjQ1Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgTWFya3VwIH0gZnJvbSAnLi9NYXJrdXAnO1xuaW1wb3J0ICogYXMgTWFya3VwVHlwZXMgZnJvbSAnLi9NYXJrdXBUeXBlcyc7XG5pbXBvcnQgeyBjb21wb3NlUkdCQVN0cmluZywgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcsIGFkZE1hcmt1cE1ldGFkYXRhLCByYWRpYW5zVG9EZWdyZWVzLFxuICAgIGNyZWF0ZU1hcmt1cFRleHRTdmcsIHNldE1hcmt1cFRleHRTdmdUcmFuc2Zvcm0sIHVwZGF0ZU1hcmt1cFRleHRTdmdCYWNrZ3JvdW5kLFxuICAgIHVwZGF0ZU1hcmt1cFRleHRTdmdDbGlwcGVyLCB1cGRhdGVNYXJrdXBUZXh0U3ZnSGl0YXJlYSwgY3JlYXRlU3ZnRWxlbWVudCB9IGZyb20gJy4vTWFya3Vwc0NvcmVVdGlscyc7XG5pbXBvcnQgeyBjbG9uZVN0eWxlLCBpc1N0eWxlRXF1YWwsIGNvcHlTdHlsZSB9IGZyb20gJy4vU3R5bGVVdGlscyc7XG5pbXBvcnQgeyBFZGl0TW9kZVRleHQgfSBmcm9tICcuL2VkaXQtbW9kZXMvRWRpdE1vZGVUZXh0JztcblxuICAgIC8vIExNViBWaWV3ZXJMTVYtMjE3MCBbTWFya3VwXSBbUERGXSBUZXh0IG1hcmt1cCBtaXNzaW5nL2N1dG9mZiBmb3Igbm9ybWFsIHNpemVkIHRleHQuXG4gICAgLy8gSWYgdGhlIGZvbnQgc2l6ZSBvZiBhbiBTVkcgdGV4dCBpcyB0b28gc21hbGwsIHRoZSB0ZXh0IGlzIG5vdCByZW5kZXJlZCBpbmRlcGVuZGVudGx5IG9mIGl0cyBmaW5hbCBzY3JlZW4gc2l6ZS5cbiAgICAvLyBUbyBzb2x2ZSB0aGUgaXNzdWUgd2UgbXVsdGlwbHkgZm9udCBzaXplIGJ5IDEwMCBhbmQgc2NhbGUgZG93biB0aGUgdGV4dCBpbiBpdHMgdHJhbnNmb3JtLlxuICAgIHZhciBGT05UX1NJWkVfU0NBTEUgPSAxMDA7XG5cbiAgICB2YXIgU1RBUlRJTkdfV0lEVEhfRkFDVE9SID0gNjtcblxuICAgIC8qKlxuICAgICAqIFRleHQgTWFya3VwLlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBNYXJrdXBUZXh0KGlkLCBlZGl0b3IsIHNpemUpIHtcblxuICAgICAgICB2YXIgc3R5bGVBdHRyaWJ1dGVzID0gW1xuICAgICAgICAgICAgJ2ZvbnQtc2l6ZScsXG4gICAgICAgICAgICAnc3Ryb2tlLWNvbG9yJyxcbiAgICAgICAgICAgICdzdHJva2Utb3BhY2l0eScsXG4gICAgICAgICAgICAnZmlsbC1jb2xvcicsXG4gICAgICAgICAgICAnZmlsbC1vcGFjaXR5JyxcbiAgICAgICAgICAgICdmb250LWZhbWlseScsXG4gICAgICAgICAgICAnZm9udC1zdHlsZScsXG4gICAgICAgICAgICAnZm9udC13ZWlnaHQnXG4gICAgICAgIF07XG5cbiAgICAgICAgTWFya3VwLmNhbGwodGhpcywgaWQsIGVkaXRvciwgc3R5bGVBdHRyaWJ1dGVzKTtcblxuICAgICAgICAvLyBCaW5kIHRvIHRoaXMgdG8gcGFzcyBnbG9iYWxNYW5hZ2VyXG4gICAgICAgIHRoaXMuY3JlYXRlU3ZnRWxlbWVudCA9IGNyZWF0ZVN2Z0VsZW1lbnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hZGRNYXJrdXBNZXRhZGF0YSA9IGFkZE1hcmt1cE1ldGFkYXRhLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy50eXBlID0gTWFya3VwVHlwZXMuTUFSS1VQX1RZUEVfVEVYVDtcbiAgICAgICAgdGhpcy5zaGFwZSA9IGNyZWF0ZU1hcmt1cFRleHRTdmcoKTtcbiAgICAgICAgdGhpcy5jb25zdHJhaW50Um90YXRpb24gPSB0cnVlO1xuICAgICAgICB0aGlzLmNvbnN0cmFpbnRIZWlnaHQgPSB0cnVlO1xuICAgICAgICB0aGlzLmNvbnN0cmFpbnRXaWR0aCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNpemUueCA9IHNpemUueDtcbiAgICAgICAgdGhpcy5zaXplLnkgPSBzaXplLnk7XG4gICAgICAgIHRoaXMuY3VycmVudFRleHQgPSBcIlwiO1xuICAgICAgICB0aGlzLmN1cnJlbnRUZXh0TGluZXMgPSBbXCJcIl07XG4gICAgICAgIHRoaXMudGV4dERpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50ZXh0U2l6ZSA9IHt4OiAwLCB5OiAwfTtcbiAgICAgICAgdGhpcy5wcmV2SGlnaGxpZ2h0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNIZWxwZXJUZXh0QWN0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgLy8gTm90ZTogV2UgY291bGQgaGF2ZSB0aGlzIHByb3BlcnR5IGJlIGEgc3R5bGUgcHJvcGVydHkuXG4gICAgICAgIC8vIEhvd2V2ZXIsIHRoZXJlIGlzIG5vIG5lZWQgZm9yIHRoaXMgcHJvcGVydHkgdG8gYmUgZXhwb3NlZCB0byB0aGUgdXNlciBmb3IgYWx0ZXJhdGlvblxuICAgICAgICAvLyBUaGlzIHZhbHVlIGlzIGEgcGVyY2VudGFnZSBvZiB0aGUgZm9udCBzaXplIHVzZWQgdG8gb2Zmc2V0IHZlcnRpY2FsbHkgMiB0ZXh0IGxpbmVzXG4gICAgICAgIC8vIG9mIHRoZSBzYW1lIHBhcmFncmFwaC5cbiAgICAgICAgLy8gTm90aWNlIHRoYXQgdGhpcyB2YWx1ZSBpcyB1c2VkIGJ5IEVkaXRvclRleHRJbnB1dC5qc1xuICAgICAgICB0aGlzLmxpbmVIZWlnaHQgPSAxMzA7XG5cbiAgICAgICAgdGhpcy5taW5XaWR0aCA9IHRoaXMuZ2V0Q2xpZW50Rm9udFNpemUoKSAqIFNUQVJUSU5HX1dJRFRIX0ZBQ1RPUjtcblxuICAgICAgICB0aGlzLmJpbmREb21FdmVudHMoKTtcbiAgICB9XG5cbiAgICBNYXJrdXBUZXh0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTWFya3VwLnByb3RvdHlwZSk7XG4gICAgTWFya3VwVGV4dC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNYXJrdXBUZXh0O1xuXG4gICAgdmFyIHByb3RvID0gTWFya3VwVGV4dC5wcm90b3R5cGU7XG5cbiAgICBwcm90by5nZXRFZGl0TW9kZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHJldHVybiBuZXcgRWRpdE1vZGVUZXh0KHRoaXMuZWRpdG9yKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc2l6ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0U3RyaW5nXG4gICAgICovXG4gICAgcHJvdG8uc2V0ID0gZnVuY3Rpb24ocG9zaXRpb24sIHNpemUsIHRleHRTdHJpbmcpIHtcblxuICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSBwb3NpdGlvbi54O1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSBwb3NpdGlvbi55O1xuICAgICAgICB0aGlzLnNpemUueCA9IHNpemUueDtcbiAgICAgICAgdGhpcy5zaXplLnkgPSBzaXplLnk7XG5cbiAgICAgICAgdGhpcy5zZXRUZXh0KHRleHRTdHJpbmcpO1xuICAgIH07XG5cbiAgICBwcm90by5zZXRTaXplID0gZnVuY3Rpb24ocG9zaXRpb24sIHdpZHRoLCBoZWlnaHQpIHtcblxuICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSBwb3NpdGlvbi54O1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSBwb3NpdGlvbi55O1xuICAgICAgICB0aGlzLnNpemUueCA9IHdpZHRoO1xuICAgICAgICB0aGlzLnNpemUueSA9IGhlaWdodDtcblxuICAgICAgICB2YXIgc2l6ZVVwZGF0ZVJlcXVpcmVkID0gdHJ1ZTtcblxuICAgICAgICBpZiAodGhpcy5pc0hlbHBlclRleHRBY3RpdmUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dEJveFN0eWxlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0eWxlKHNpemVVcGRhdGVSZXF1aXJlZCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvdG8uc2V0UG9zaXRpb24gPSBmdW5jdGlvbih4LCB5KSB7XG5cbiAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0geDtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0geTtcblxuICAgICAgICBpZiAodGhpcy5pc0hlbHBlclRleHRBY3RpdmUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dEJveFN0eWxlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0eWxlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvdG8uc2V0U3R5bGUgPSBmdW5jdGlvbihzdHlsZSkge1xuXG4gICAgICAgIHZhciBzdHlsZXNFcXVhbCA9IGlzU3R5bGVFcXVhbChzdHlsZSwgdGhpcy5zdHlsZSk7XG5cbiAgICAgICAgaWYgKCFzdHlsZXNFcXVhbCkge1xuICAgICAgICAgICAgY29weVN0eWxlKHN0eWxlLCB0aGlzLnN0eWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlU3R5bGUoIXN0eWxlc0VxdWFsKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dFxuICAgICAqL1xuICAgIHByb3RvLnNldFRleHQgPSBmdW5jdGlvbih0ZXh0KSB7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50VGV4dCA9IHRleHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHJhdyBzdHJpbmcgdmFsdWVcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgICAqL1xuICAgIHByb3RvLmdldFRleHQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50VGV4dDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHNoYWxsb3cgY29weSBvZiB0aGUgdGV4dCBsaW5lcyB1c2VkIGZvciByZW5kZXJpbmcgU1ZHIHRleHRcbiAgICAgKiBAcmV0dXJucyB7QXJyYXkuPFN0cmluZz59XG4gICAgICovXG4gICAgcHJvdG8uZ2V0VGV4dExpbmVzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFRleHRMaW5lcy5jb25jYXQoKTtcbiAgICB9O1xuXG4gICAgcHJvdG8uaGlnaGxpZ2h0Q2hhbmdlZCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIGlmICh0aGlzLmhpZ2hsaWdodGVkICYmIHRoaXMuaGlnaGxpZ2h0ZWQgIT09IHRoaXMucHJldkhpZ2hsaWdodCkge1xuICAgICAgICAgICAgdmFyIHNoYXBlID0gdGhpcy5zaGFwZTtcbiAgICAgICAgICAgIHZhciBzdHJva2VDb2xvciA9IHRoaXMuaGlnaGxpZ2h0Q29sb3I7XG4gICAgICAgICAgICBzZXRBdHRyaWJ1dGVUb01hcmt1cFN2ZyhzaGFwZSwgJ2ZpbGwnLCBzdHJva2VDb2xvcik7XG5cbiAgICAgICAgICAgIHRoaXMucHJldkhpZ2hsaWdodCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgcHJvdG8udXBkYXRlVGV4dEJveFN0eWxlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBlZGl0TW9kZSA9IHRoaXMuZWRpdG9yLmR1cmluZ0VkaXRNb2RlICYmIHRoaXMuZWRpdG9yLmVkaXRNb2RlO1xuXG4gICAgICAgIGlmICghZWRpdE1vZGUgfHwgZWRpdE1vZGUudHlwZSAhPT0gdGhpcy50eXBlKSB7XG4gICAgICAgICAgICBlZGl0TW9kZSA9IHRoaXMuZ2V0RWRpdE1vZGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVkaXRNb2RlLnVwZGF0ZVRleHRCb3hTdHlsZSgpO1xuICAgIH07XG5cbiAgICBwcm90by5zZXRJc0hlbHBlclRleHRBY3RpdmUgPSBmdW5jdGlvbihpc0FjdGl2ZSkge1xuICAgICAgICB0aGlzLmlzSGVscGVyVGV4dEFjdGl2ZSA9IGlzQWN0aXZlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGRhdGEgdmFsdWVzIGludG8gRE9NIGVsZW1lbnQgc3R5bGUvYXR0cmlidXRlKHMpXG4gICAgICpcbiAgICAgKi9cbiAgICBwcm90by51cGRhdGVTdHlsZSA9IGZ1bmN0aW9uKHNpemVVcGRhdGVSZXF1aXJlZCkge1xuXG4gICAgICAgIGlmICh0aGlzLmhpZ2hsaWdodENoYW5nZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5wcmV2SGlnaGxpZ2h0ID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLnN0eWxlO1xuICAgICAgICAgICAgdmFyIHNoYXBlID0gdGhpcy5zaGFwZTtcbiAgICAgICAgICAgIHZhciBmb250U2l6ZSA9IHRoaXMuc3R5bGVbJ2ZvbnQtc2l6ZSddO1xuICAgICAgICAgICAgdmFyIGZvbnRGYW1pbHkgPSB0aGlzLnN0eWxlWydmb250LWZhbWlseSddO1xuICAgICAgICAgICAgdmFyIGZvbnRXZWlnaHQgPSB0aGlzLnN0eWxlWydmb250LXdlaWdodCddO1xuICAgICAgICAgICAgdmFyIGZvbnRTdHlsZSA9IHRoaXMuc3R5bGVbJ2ZvbnQtc3R5bGUnXTtcbiAgICAgICAgICAgIHZhciBzdHJva2VDb2xvciA9IHRoaXMuaGlnaGxpZ2h0ZWQgPyB0aGlzLmhpZ2hsaWdodENvbG9yIDogY29tcG9zZVJHQkFTdHJpbmcoc3R5bGVbJ3N0cm9rZS1jb2xvciddLCBzdHlsZVsnc3Ryb2tlLW9wYWNpdHknXSk7XG4gICAgICAgICAgICB2YXIgZmlsbENvbG9yID0gY29tcG9zZVJHQkFTdHJpbmcoc3R5bGVbJ2ZpbGwtY29sb3InXSwgc3R5bGVbJ2ZpbGwtb3BhY2l0eSddKTtcblxuICAgICAgICAgICAgLy8gRk9OVF9TSVpFX1NDQUxFIGlzIHVzZWQgdG8gc2NhbGUgdXAgZm9udFNpemUsIGJ1dCBpdCBpcyBvbmx5IG5lZWRlZCBpbiBjYXNlcyB3aGVyZSB0aGUgZm9udCBzaXplIGlzIHRvbyBzbWFsbFxuICAgICAgICAgICAgRk9OVF9TSVpFX1NDQUxFID0gKGZvbnRTaXplID4gMSkgPyAxIDogMTAwO1xuXG4gICAgICAgICAgICB0aGlzLnJlYnVpbGRUZXh0U3ZnKHNpemVVcGRhdGVSZXF1aXJlZCk7XG5cbiAgICAgICAgICAgIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnKHNoYXBlLCAnZm9udC1mYW1pbHknLCBmb250RmFtaWx5KTtcbiAgICAgICAgICAgIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnKHNoYXBlLCAnZm9udC1zaXplJywgZm9udFNpemUgKiBGT05UX1NJWkVfU0NBTEUpO1xuICAgICAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcoc2hhcGUsICdmaWxsJywgc3Ryb2tlQ29sb3IpO1xuICAgICAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcoc2hhcGUsICdmb250LXdlaWdodCcsIGZvbnRXZWlnaHQpO1xuICAgICAgICAgICAgc2V0QXR0cmlidXRlVG9NYXJrdXBTdmcoc2hhcGUsICdmb250LXN0eWxlJywgZm9udFN0eWxlKTtcblxuICAgICAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgICAgICAgICAgdmFyIHRyYW5zZm9ybSA9IHRoaXMuZ2V0VHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB2YXIgdGV4dFRyYW5zZm9ybSA9IHRoaXMuZ2V0VGV4dFRyYW5zZm9ybSgpO1xuXG4gICAgICAgICAgICBzZXRNYXJrdXBUZXh0U3ZnVHJhbnNmb3JtKHNoYXBlLCB0cmFuc2Zvcm0sIHRleHRUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgdXBkYXRlTWFya3VwVGV4dFN2Z0JhY2tncm91bmQoc2hhcGUsIHRoaXMuc2l6ZS54LCB0aGlzLnNpemUueSwgZmlsbENvbG9yKTtcbiAgICAgICAgICAgIHVwZGF0ZU1hcmt1cFRleHRTdmdDbGlwcGVyKHNoYXBlLCB0aGlzLnNpemUueCwgdGhpcy5zaXplLnkpO1xuICAgICAgICAgICAgdXBkYXRlTWFya3VwVGV4dFN2Z0hpdGFyZWEoc2hhcGUsIHRoaXMuc2l6ZS54LCB0aGlzLnNpemUueSwgZWRpdG9yKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZS1jcmVhdGVzIFNWRyB0YWdzIHRoYXQgcmVuZGVyIFNWRyB0ZXh0LlxuICAgICAqIEVhY2ggbGluZSBpcyBwbGFjZWQgYXJvdW5kIHRzcGFuIHRhZ3Mgd2hpY2ggYXJlIHZlcnRpY2FsbHkgb2Zmc2V0IHRvIGVhY2ggb3RoZXIuXG4gICAgICovXG4gICAgcHJvdG8ucmVidWlsZFRleHRTdmcgPSBmdW5jdGlvbihzaXplVXBkYXRlUmVxdWlyZWQpIHtcblxuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgdGhlIG5lZWQgdG8gZ2V0IHRleHQgdmFsdWVzIGZyb20gYW4gb2JqZWN0IGluIGVkaXQgbW9kZSwgc2hvdWxkIGJlIGEgZnVuY3Rpb24uXG4gICAgICAgIC8vIGVkaXRNb2RlIG5lZWRzIHRvIGJlIHNldCB0byBsb2FkIG1hcmt1cHMgaW4gdmlldyBtb2RlXG4gICAgICAgIHZhciBlZGl0TW9kZSA9IHRoaXMuZWRpdG9yLmR1cmluZ0VkaXRNb2RlICYmIHRoaXMuZWRpdG9yLmVkaXRNb2RlO1xuXG4gICAgICAgIGlmICghZWRpdE1vZGUgfHwgZWRpdE1vZGUudHlwZSAhPT0gdGhpcy50eXBlKSB7XG4gICAgICAgICAgICBlZGl0TW9kZSA9IHRoaXMuZ2V0RWRpdE1vZGUoKTtcbiAgICAgICAgICAgIGVkaXRNb2RlLnRleHRJbnB1dEhlbHBlci50ZXh0QXJlYS52YWx1ZSA9IHRoaXMuY3VycmVudFRleHQ7XG4gICAgICAgICAgICBlZGl0TW9kZS50ZXh0SW5wdXRIZWxwZXIuc2V0U3R5bGUodGhpcy5zdHlsZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWRpdE1vZGUudGV4dElucHV0SGVscGVyLnRleHRNYXJrdXAgJiYgZWRpdE1vZGUudGV4dElucHV0SGVscGVyLnRleHRNYXJrdXAgIT09IHRoaXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdHlsZSA9IGNsb25lU3R5bGUoZWRpdE1vZGUudGV4dElucHV0SGVscGVyLnN0eWxlKTtcbiAgICAgICAgdmFyIHRleHQgPSBlZGl0TW9kZS50ZXh0SW5wdXRIZWxwZXIudGV4dEFyZWEudmFsdWU7XG5cbiAgICAgICAgdmFyIHRleHRIZWxwZXJWYWx1ZXMgPSBlZGl0TW9kZS50ZXh0SW5wdXRIZWxwZXIuZ2V0VGV4dFZhbHVlc0Zvck1hcmt1cCh0aGlzLCBzaXplVXBkYXRlUmVxdWlyZWQpO1xuXG4gICAgICAgIHRoaXMuY3VycmVudFRleHRMaW5lcyA9IHRleHRIZWxwZXJWYWx1ZXMudGV4dFZhbHVlcy5saW5lcztcblxuICAgICAgICBpZiAodGV4dEhlbHBlclZhbHVlcy5uZXdQb3MpIHtcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHRoaXMuZWRpdG9yLnBvc2l0aW9uRnJvbUNsaWVudFRvTWFya3Vwcyh0ZXh0SGVscGVyVmFsdWVzLm5ld1Bvcy54LCB0ZXh0SGVscGVyVmFsdWVzLm5ld1Bvcy55KTtcbiAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5lZGl0b3Iuc2l6ZUZyb21DbGllbnRUb01hcmt1cHModGV4dEhlbHBlclZhbHVlcy53aWR0aCwgdGV4dEhlbHBlclZhbHVlcy5oZWlnaHQpO1xuXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSBwb3NpdGlvbi54O1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0gcG9zaXRpb24ueTtcbiAgICAgICAgICAgIHRoaXMuc2l6ZS54ID0gc2l6ZS54O1xuICAgICAgICAgICAgdGhpcy5zaXplLnkgPSBzaXplLnk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWRpdE1vZGUuc2VsZWN0ZWRNYXJrdXAgIT09IHRoaXMgJiYgIWVkaXRNb2RlLnRleHRJbnB1dEhlbHBlci5maXJzdEVkaXQpIHtcbiAgICAgICAgICAgIGVkaXRNb2RlLnRleHRJbnB1dEhlbHBlci50ZXh0QXJlYS52YWx1ZSA9IHRleHQ7XG4gICAgICAgICAgICBlZGl0TW9kZS50ZXh0SW5wdXRIZWxwZXIuc2V0U3R5bGUoc3R5bGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1hcmt1cCA9IHRoaXMuY3JlYXRlU3ZnRWxlbWVudCgndGV4dCcpO1xuICAgICAgICBtYXJrdXAuc2V0QXR0cmlidXRlKCdpZCcsICdtYXJrdXAnKTtcbiAgICAgICAgbWFya3VwLnNldEF0dHJpYnV0ZSgnYWxpZ25tZW50LWJhc2VsaW5lJywgJ21pZGRsZScpO1xuXG4gICAgICAgIHRoaXMuc2hhcGUuY2hpbGROb2Rlc1swXS5yZW1vdmVDaGlsZCh0aGlzLnNoYXBlLm1hcmt1cCk7XG4gICAgICAgIHRoaXMuc2hhcGUuY2hpbGROb2Rlc1swXS5hcHBlbmRDaGlsZChtYXJrdXApO1xuICAgICAgICB0aGlzLnNoYXBlLm1hcmt1cCA9IG1hcmt1cDtcblxuICAgICAgICAvLyBGb3IgZWFjaCBsaW5lLCBjcmVhdGUgYSB0c3BhbiwgYWRkIGFzIGNoaWxkIGFuZCBvZmZzZXQgaXQgdmVydGljYWxseS5cbiAgICAgICAgdmFyIHlPZmZzZXQgPSB0aGlzLmdldExpbmVIZWlnaHQoKSAqIEZPTlRfU0laRV9TQ0FMRSAqICh0aGlzLmxpbmVIZWlnaHQgLyAxMDApO1xuXG4gICAgICAgIHZhciBwYWRkaW5nID0gKHRoaXMuZ2V0TGluZUhlaWdodCgpICogRk9OVF9TSVpFX1NDQUxFKSAvIDI7XG4gICAgICAgIHZhciBkeCA9IHBhZGRpbmc7XG4gICAgICAgIHZhciBkeSA9IHBhZGRpbmc7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50VGV4dExpbmVzLmZvckVhY2goZnVuY3Rpb24obGluZSl7XG5cbiAgICAgICAgICAgIHZhciB0c3BhbiA9IHRoaXMuY3JlYXRlU3ZnRWxlbWVudCgndHNwYW4nKTtcblxuICAgICAgICAgICAgdHNwYW4uc2V0QXR0cmlidXRlKCd4JywgZHgpO1xuICAgICAgICAgICAgdHNwYW4uc2V0QXR0cmlidXRlKCd5JywgZHkpO1xuICAgICAgICAgICAgdHNwYW4udGV4dENvbnRlbnQgPSBsaW5lO1xuXG4gICAgICAgICAgICBtYXJrdXAuYXBwZW5kQ2hpbGQodHNwYW4pO1xuICAgICAgICAgICAgZHkgKz0geU9mZnNldDtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9O1xuXG4gICAgcHJvdG8uc2V0SXNTaGFwZVZpc2libGUgPSBmdW5jdGlvbihpc1Zpc2libGUpIHtcblxuICAgICAgICB0aGlzLnNoYXBlLnN0eWxlLmRpc3BsYXkgPSAoaXNWaXNpYmxlKSA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgfTtcblxuICAgIHByb3RvLnNldE1ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIG1ldGFkYXRhID0gY2xvbmVTdHlsZSh0aGlzLnN0eWxlKTtcblxuICAgICAgICBtZXRhZGF0YS50eXBlID0gdGhpcy50eXBlO1xuICAgICAgICBtZXRhZGF0YS5wb3NpdGlvbiA9IFt0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueV0uam9pbihcIiBcIik7XG4gICAgICAgIG1ldGFkYXRhLnNpemUgPSBbdGhpcy5zaXplLngsIHRoaXMuc2l6ZS55XS5qb2luKFwiIFwiKTtcbiAgICAgICAgbWV0YWRhdGEudGV4dCA9IFN0cmluZyh0aGlzLmN1cnJlbnRUZXh0KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5hZGRNYXJrdXBNZXRhZGF0YSh0aGlzLnNoYXBlLCBtZXRhZGF0YSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBtZXRob2QgdGhhdCByZXR1cm5zIHRoZSBmb250IHNpemUgaW4gY2xpZW50IHNwYWNlIGNvb3Jkcy5cbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvLmdldENsaWVudEZvbnRTaXplID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZWRpdG9yLnNpemVGcm9tTWFya3Vwc1RvQ2xpZW50KDAsIHRoaXMuc3R5bGVbJ2ZvbnQtc2l6ZSddKS55O1xuICAgIH07XG5cbiAgICBwcm90by5nZXRMaW5lSGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGVbJ2ZvbnQtc2l6ZSddO1xuICAgIH07XG5cbiAgICBwcm90by5nZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgeCA9IHRoaXMucG9zaXRpb24ueCAtIHRoaXMuc2l6ZS54ICogMC41O1xuICAgICAgICB2YXIgeSA9IHRoaXMucG9zaXRpb24ueSArIHRoaXMuc2l6ZS55ICogMC41O1xuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAndHJhbnNsYXRlKCcsIHgsICcsJywgeSwgJyknLFxuICAgICAgICAgICAgJ3JvdGF0ZSgnLCByYWRpYW5zVG9EZWdyZWVzKC10aGlzLnJvdGF0aW9uKSwgJyknLFxuICAgICAgICAgICAgJ3NjYWxlKDEsLTEpJ1xuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICB9O1xuXG4gICAgcHJvdG8uZ2V0VGV4dFRyYW5zZm9ybSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBsaW5lSGVpZ2h0ID0gdGhpcy5nZXRMaW5lSGVpZ2h0KCk7XG5cbiAgICAgICAgdmFyIHggPSB0aGlzLnBvc2l0aW9uLnggLSB0aGlzLnNpemUueCAqIDAuNTtcbiAgICAgICAgdmFyIHkgPSB0aGlzLnBvc2l0aW9uLnkgKyB0aGlzLnNpemUueSAqIDAuNSAtIGxpbmVIZWlnaHQ7XG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICd0cmFuc2xhdGUoJywgeCwgJywnLCB5LCAnKScsXG4gICAgICAgICAgICAncm90YXRlKCcsIHJhZGlhbnNUb0RlZ3JlZXMoLXRoaXMucm90YXRpb24pLCAnKScsXG4gICAgICAgICAgICAnc2NhbGUoJyArICgxL0ZPTlRfU0laRV9TQ0FMRSkgKyAnLCcgKyAoLTEvRk9OVF9TSVpFX1NDQUxFKSArICcpJ1xuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICB9O1xuXG4gICAgcHJvdG8uY2xvbmVTaGFwZSA9IGZ1bmN0aW9uKGNsb25lKSB7XG5cbiAgICAgICAgY2xvbmUuc2hhcGUgPSBjcmVhdGVNYXJrdXBUZXh0U3ZnKCk7XG4gICAgICAgIGNsb25lLmJpbmREb21FdmVudHMoKTtcbiAgICB9O1xuXG4gICAgcHJvdG8uZ2V0Qm91bmRpbmdSZWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBwb3MgPSB0aGlzLmdldENsaWVudFBvc2l0aW9uKCk7XG4gICAgICAgIHZhciBzaXplID0gdGhpcy5nZXRDbGllbnRTaXplKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBwb3MueCAtIHNpemUueCAvIDIsXG4gICAgICAgICAgICB5OiBwb3MueSAtIHNpemUueSAvIDIsXG4gICAgICAgICAgICB3aWR0aDogc2l6ZS54LFxuICAgICAgICAgICAgaGVpZ2h0OiBzaXplLnlcbiAgICAgICAgfTtcbiAgICB9O1xuIl0sIm5hbWVzIjpbIk1hcmt1cCIsIk1hcmt1cFR5cGVzIiwiY29tcG9zZVJHQkFTdHJpbmciLCJzZXRBdHRyaWJ1dGVUb01hcmt1cFN2ZyIsImFkZE1hcmt1cE1ldGFkYXRhIiwicmFkaWFuc1RvRGVncmVlcyIsImNyZWF0ZU1hcmt1cFRleHRTdmciLCJzZXRNYXJrdXBUZXh0U3ZnVHJhbnNmb3JtIiwidXBkYXRlTWFya3VwVGV4dFN2Z0JhY2tncm91bmQiLCJ1cGRhdGVNYXJrdXBUZXh0U3ZnQ2xpcHBlciIsInVwZGF0ZU1hcmt1cFRleHRTdmdIaXRhcmVhIiwiY3JlYXRlU3ZnRWxlbWVudCIsImNsb25lU3R5bGUiLCJpc1N0eWxlRXF1YWwiLCJjb3B5U3R5bGUiLCJFZGl0TW9kZVRleHQiLCJGT05UX1NJWkVfU0NBTEUiLCJTVEFSVElOR19XSURUSF9GQUNUT1IiLCJNYXJrdXBUZXh0IiwiaWQiLCJlZGl0b3IiLCJzaXplIiwic3R5bGVBdHRyaWJ1dGVzIiwiY2FsbCIsImJpbmQiLCJ0eXBlIiwiTUFSS1VQX1RZUEVfVEVYVCIsInNoYXBlIiwiY29uc3RyYWludFJvdGF0aW9uIiwiY29uc3RyYWludEhlaWdodCIsImNvbnN0cmFpbnRXaWR0aCIsIngiLCJ5IiwiY3VycmVudFRleHQiLCJjdXJyZW50VGV4dExpbmVzIiwidGV4dERpcnR5IiwidGV4dFNpemUiLCJwcmV2SGlnaGxpZ2h0IiwiaXNIZWxwZXJUZXh0QWN0aXZlIiwibGluZUhlaWdodCIsIm1pbldpZHRoIiwiZ2V0Q2xpZW50Rm9udFNpemUiLCJiaW5kRG9tRXZlbnRzIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJwcm90byIsImdldEVkaXRNb2RlIiwic2V0IiwicG9zaXRpb24iLCJ0ZXh0U3RyaW5nIiwic2V0VGV4dCIsInNldFNpemUiLCJ3aWR0aCIsImhlaWdodCIsInNpemVVcGRhdGVSZXF1aXJlZCIsInVwZGF0ZVRleHRCb3hTdHlsZSIsInVwZGF0ZVN0eWxlIiwic2V0UG9zaXRpb24iLCJzZXRTdHlsZSIsInN0eWxlIiwic3R5bGVzRXF1YWwiLCJ0ZXh0IiwiZ2V0VGV4dCIsImdldFRleHRMaW5lcyIsImNvbmNhdCIsImhpZ2hsaWdodENoYW5nZWQiLCJoaWdobGlnaHRlZCIsInN0cm9rZUNvbG9yIiwiaGlnaGxpZ2h0Q29sb3IiLCJlZGl0TW9kZSIsImR1cmluZ0VkaXRNb2RlIiwic2V0SXNIZWxwZXJUZXh0QWN0aXZlIiwiaXNBY3RpdmUiLCJmb250U2l6ZSIsImZvbnRGYW1pbHkiLCJmb250V2VpZ2h0IiwiZm9udFN0eWxlIiwiZmlsbENvbG9yIiwicmVidWlsZFRleHRTdmciLCJ0cmFuc2Zvcm0iLCJnZXRUcmFuc2Zvcm0iLCJ0ZXh0VHJhbnNmb3JtIiwiZ2V0VGV4dFRyYW5zZm9ybSIsInRleHRJbnB1dEhlbHBlciIsInRleHRBcmVhIiwidmFsdWUiLCJ0ZXh0TWFya3VwIiwidGV4dEhlbHBlclZhbHVlcyIsImdldFRleHRWYWx1ZXNGb3JNYXJrdXAiLCJ0ZXh0VmFsdWVzIiwibGluZXMiLCJuZXdQb3MiLCJwb3NpdGlvbkZyb21DbGllbnRUb01hcmt1cHMiLCJzaXplRnJvbUNsaWVudFRvTWFya3VwcyIsInNlbGVjdGVkTWFya3VwIiwiZmlyc3RFZGl0IiwibWFya3VwIiwic2V0QXR0cmlidXRlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiYXBwZW5kQ2hpbGQiLCJ5T2Zmc2V0IiwiZ2V0TGluZUhlaWdodCIsInBhZGRpbmciLCJkeCIsImR5IiwiZm9yRWFjaCIsImxpbmUiLCJ0c3BhbiIsInRleHRDb250ZW50Iiwic2V0SXNTaGFwZVZpc2libGUiLCJpc1Zpc2libGUiLCJkaXNwbGF5Iiwic2V0TWV0YWRhdGEiLCJtZXRhZGF0YSIsImpvaW4iLCJTdHJpbmciLCJzaXplRnJvbU1hcmt1cHNUb0NsaWVudCIsInJvdGF0aW9uIiwiY2xvbmVTaGFwZSIsImNsb25lIiwiZ2V0Qm91bmRpbmdSZWN0IiwicG9zIiwiZ2V0Q2xpZW50UG9zaXRpb24iLCJnZXRDbGllbnRTaXplIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/MarkupText.js\n");

/***/ }),

/***/ "./extensions/Markup/core/MarkupTool.js":
/*!**********************************************!*\
  !*** ./extensions/Markup/core/MarkupTool.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MarkupTool: () => (/* binding */ MarkupTool)\n/* harmony export */ });\n\n\nvar avp = Autodesk.Viewing.Private;\n\nfunction MarkupTool() {\n\n  Autodesk.Viewing.ToolInterface.call(this);\n  this.names = [\"markups.core\"];\n  this.panTool = null;\n  this.allowNav = false;\n  this.is2d = false;\n\n  this.coreExt = null;\n  this.hotkeysEnabled = true;\n\n  var _ctrlDown = false;\n  var _shiftDown = false;\n\n  // Non-ToolInterface methods //\n\n  this.allowNavigation = function (allow) {\n    this.allowNav = allow;\n  };\n  this.setCoreExtension = function (coreExt) {\n    this.coreExt = coreExt;\n  };\n  this.setHotkeysEnabled = function (enabled) {\n    this.hotkeysEnabled = enabled;\n  };\n\n\n  // ToolInterface methods //\n\n  this.activate = function (name, viewerApi) {\n    this.panTool = viewerApi.toolController.getTool(\"pan\");\n    if (this.panTool) {\n      this.panTool.activate(\"pan\"); // TODO: What if we want \"zoom\" here?\n    }\n\n    this.is2d = viewerApi.model.is2d();\n    this.viewer = viewerApi;\n  };\n\n  this.deactivate = function (name) {\n    if (this.panTool) {\n      this.panTool.deactivate(\"pan\");\n    }\n  };\n\n  this.handleKeyDown = function (event, keyCode) {\n\n    if (!this.coreExt.editMode) {\n      return false;\n    }\n\n    if (!this.hotkeysEnabled) {\n      return true; // Consume event\n    }\n\n    // Don't propagate key handling down to tool //\n\n    switch (keyCode) {\n      case Autodesk.Viewing.KeyCode.CONTROL:_ctrlDown = true;break;\n      case Autodesk.Viewing.KeyCode.SHIFT:_shiftDown = true;break;\n\n      case Autodesk.Viewing.KeyCode.x:_ctrlDown && !this.allowNav && this.coreExt.cut();break;\n      case Autodesk.Viewing.KeyCode.c:_ctrlDown && !this.allowNav && this.coreExt.copy();break;\n      case Autodesk.Viewing.KeyCode.v:_ctrlDown && !this.allowNav && this.coreExt.paste();break;\n      case Autodesk.Viewing.KeyCode.d:\n        if (_ctrlDown && !this.allowNav) {\n          // Duplicate\n          this.coreExt.copy();\n          this.coreExt.paste();\n        }\n        break;\n      case Autodesk.Viewing.KeyCode.z:\n        if (_ctrlDown && !_shiftDown && !this.allowNav) {\n          this.coreExt.undo();\n        } else\n        if (_ctrlDown && _shiftDown && !this.allowNav) {\n          this.coreExt.redo(); // Also support Ctrl+Y\n        }\n        break;\n      case Autodesk.Viewing.KeyCode.y:_ctrlDown && !this.allowNav && this.coreExt.redo();break; // Also support ctrl+shift+z\n      case Autodesk.Viewing.KeyCode.ESCAPE:this.coreExt.onUserCancel();break;\n\n      case Autodesk.Viewing.KeyCode.BACKSPACE: // Fall through\n      case Autodesk.Viewing.KeyCode.DELETE:\n        var selectedMarkup = this.coreExt.getSelection();\n        if (selectedMarkup) {\n          this.coreExt.deleteMarkup(selectedMarkup);\n        }\n        break;\n      case Autodesk.Viewing.KeyCode.F12:\n        return false; // To allow opening developer console.\n      default:break;\n    }\n\n    return true; // Consume event\n  };\n  this.handleKeyUp = function (event, keyCode) {\n\n    if (!this.coreExt.editMode) {\n      return false;\n    }\n\n    if (!this.hotkeysEnabled) {\n      return true; // Consume event\n    }\n\n    // Don't propagate key handling down to tool\n\n    switch (keyCode) {\n      case Autodesk.Viewing.KeyCode.CONTROL:_ctrlDown = false;break;\n      case Autodesk.Viewing.KeyCode.SHIFT:_shiftDown = false;break;\n      default:break;\n    }\n\n    return true; // Consume event ONLY\n  };\n\n  this.update = function () {\n    if (this.allowNav && this.panTool && this.panTool.update) {\n      return this.panTool.update();\n    }\n    return false;\n  };\n\n  this.handleSingleClick = function (event, button) {\n    if (this.allowNav) {\n      // If pan tool won't handle single click, then pass over the event.\n      if (this.panTool && this.panTool.handleSingleClick)\n      return this.panTool.handleSingleClick(event, button);else\n\n      return false;\n    }\n    return true; // Consume event\n  };\n  this.handleDoubleClick = function (event, button) {\n    if (this.allowNav) {\n      // If pan tool won't handle double click, then pass over the event\n      if (this.panTool && this.panTool.handleDoubleClick) {\n        return this.panTool.handleDoubleClick(event, button);\n      } else\n\n      return false;\n    }\n    return true; // Consume event\n  };\n  this.handleSingleTap = function (event) {\n    if (this.allowNav) {\n      // If pan tool won't handle single tap, then pass over the event\n      if (this.panTool && this.panTool.handleSingleTap) {\n        return this.panTool.handleSingleTap(event);\n      } else\n\n      return false;\n    }\n    return true; // Consume event\n  };\n  this.handleDoubleTap = function (event) {\n    if (this.allowNav) {\n      // If pan tool won't handle double tap, then pass over the event\n      if (this.panTool && this.panTool.handleDoubleTap) {\n        return this.panTool.handleDoubleTap(event);\n      } else\n\n      return false;\n    }\n    return true; // Consume event\n  };\n  this.handleWheelInput = function (delta, event) {\n    if (this.allowNav || this.is2d) {\n      // If pan tool won't handle wheel input, then pass over the event\n      if (this.panTool && this.panTool.handleWheelInput) {\n        this.coreExt.callSnapperMouseMove();\n        return this.panTool.handleWheelInput(delta, event);\n      } else\n\n      return false;\n    }\n    return true; // Consume event\n  };\n  this.handleButtonDown = function (event, button) {\n    if (this.allowNav || this.is2d && (avp.isRightClick(event, this.viewer.navigation) || avp.isMiddleClick(event))) {\n      // If pan tool won't handle button down, then pass over the event\n      if (this.panTool && this.panTool.handleButtonDown) {\n        return this.panTool.handleButtonDown(event, button);\n      } else\n\n      return false;\n    }\n    return true; // Consume event\n  };\n  this.handleButtonUp = function (event, button) {\n    if (this.allowNav || this.is2d && (avp.isRightClick(event, this.viewer.navigation) || avp.isMiddleClick(event))) {\n      // If pan tool won't handle button up, then pass over the event\n      if (this.panTool && this.panTool.handleButtonUp) {\n        return this.panTool.handleButtonUp(event, button);\n      } else\n\n      return false;\n    }\n    return true; // Consume event\n  };\n  this.handleMouseMove = function (event) {\n    if (this.allowNav || this.is2d) {\n      // If pan tool won't handle button move, then pass over the event\n      if (this.panTool && this.panTool.handleMouseMove) {\n        return this.panTool.handleMouseMove(event);\n      } else\n\n      return false;\n    }\n    return true; // Consume event\n  };\n  this.handleGesture = function (event) {\n    if (this.allowNav || this.is2d) {\n      // If pan tool won't handle gesture, then pass over the event\n      if (this.panTool && this.panTool.handleGesture) {\n        return this.panTool.handleGesture(event);\n      } else\n\n      return false;\n    }\n    return true; // Consume event\n  };\n  this.handleBlur = function (event) {\n    if (this.allowNav) {\n      // If pan tool won't handle blur, then pass over the event\n      if (this.panTool && this.panTool.handleBlur) {\n        return this.panTool.handleBlur(event);\n      } else\n\n      return false;\n    }\n    return true; // Consume event\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL01hcmt1cFRvb2wuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFhOztBQUVULElBQUlBLEdBQUcsR0FBR0MsUUFBUSxDQUFDQyxPQUFPLENBQUNDLE9BQU87O0FBRTNCLFNBQVNDLFVBQVVBLENBQUEsRUFBRzs7RUFFekJILFFBQVEsQ0FBQ0MsT0FBTyxDQUFDRyxhQUFhLENBQUNDLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDekMsSUFBSSxDQUFDQyxLQUFLLEdBQUcsQ0FBQyxjQUFjLENBQUM7RUFDN0IsSUFBSSxDQUFDQyxPQUFPLEdBQUcsSUFBSTtFQUNuQixJQUFJLENBQUNDLFFBQVEsR0FBRyxLQUFLO0VBQ3JCLElBQUksQ0FBQ0MsSUFBSSxHQUFHLEtBQUs7O0VBRWpCLElBQUksQ0FBQ0MsT0FBTyxHQUFHLElBQUk7RUFDbkIsSUFBSSxDQUFDQyxjQUFjLEdBQUcsSUFBSTs7RUFFMUIsSUFBSUMsU0FBUyxHQUFHLEtBQUs7RUFDckIsSUFBSUMsVUFBVSxHQUFHLEtBQUs7O0VBRXRCOztFQUVBLElBQUksQ0FBQ0MsZUFBZSxHQUFHLFVBQVNDLEtBQUssRUFBRTtJQUNuQyxJQUFJLENBQUNQLFFBQVEsR0FBR08sS0FBSztFQUN6QixDQUFDO0VBQ0QsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBRyxVQUFTTixPQUFPLEVBQUU7SUFDdEMsSUFBSSxDQUFDQSxPQUFPLEdBQUdBLE9BQU87RUFDMUIsQ0FBQztFQUNELElBQUksQ0FBQ08saUJBQWlCLEdBQUcsVUFBU0MsT0FBTyxFQUFFO0lBQ3ZDLElBQUksQ0FBQ1AsY0FBYyxHQUFHTyxPQUFPO0VBQ2pDLENBQUM7OztFQUdEOztFQUVBLElBQUksQ0FBQ0MsUUFBUSxHQUFHLFVBQVNDLElBQUksRUFBRUMsU0FBUyxFQUFFO0lBQ3RDLElBQUksQ0FBQ2QsT0FBTyxHQUFHYyxTQUFTLENBQUNDLGNBQWMsQ0FBQ0MsT0FBTyxDQUFDLEtBQUssQ0FBQztJQUN0RCxJQUFJLElBQUksQ0FB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LE9BQU8sSUFBSSxJQUFJLENBQUNBLE9BQU8sQ0FBQzZELGVBQWUsRUFBRTtRQUM5QyxPQUFPLElBQUksQ0FBQzdELE9BQU8sQ0FBQzZELGVBQWUsQ0FBQ3hDLEtBQUssQ0FBQztNQUM5QyxDQUFDOztNQUVHLE9BQU8sS0FBSztJQUNwQjtJQUNBLE9BQU8sSUFBSSxDQUFDLENBQUM7RUFDakIsQ0FBQztFQUNELElBQUksQ0FBQ3lDLGFBQWEsR0FBRyxVQUFTekMsS0FBSyxFQUFFO0lBQ2pDLElBQUksSUFBSSxDQUFDcEIsUUFBUSxJQUFJLElBQUksQ0FBQ0MsSUFBSSxFQUFFO01BQzVCO01BQ0EsSUFBSSxJQUFJLENBQUNGLE9BQU8sSUFBSSxJQUFJLENBQUNBLE9BQU8sQ0FBQzhELGFBQWEsRUFBRTtRQUM1QyxPQUFPLElBQUksQ0FBQzlELE9BQU8sQ0FBQzhELGFBQWEsQ0FBQ3pDLEtBQUssQ0FBQztNQUM1QyxDQUFDOztNQUVHLE9BQU8sS0FBSztJQUNwQjtJQUNBLE9BQU8sSUFBSSxDQUFDLENBQUM7RUFDakIsQ0FBQztFQUNELElBQUksQ0FBQzBDLFVBQVUsR0FBRyxVQUFTMUMsS0FBSyxFQUFFO0lBQzlCLElBQUksSUFBSSxDQUFDcEIsUUFBUSxFQUFFO01BQ2Y7TUFDQSxJQUFJLElBQUksQ0FBQ0QsT0FBTyxJQUFJLElBQUksQ0FBQ0EsT0FBTyxDQUFDK0QsVUFBVSxFQUFFO1FBQ3pDLE9BQU8sSUFBSSxDQUFDL0QsT0FBTyxDQUFDK0QsVUFBVSxDQUFDMUMsS0FBSyxDQUFDO01BQ3pDLENBQUM7O01BRUcsT0FBTyxLQUFLO0lBQ3BCO0lBQ0EsT0FBTyxJQUFJLENBQUMsQ0FBQztFQUNqQixDQUFDO0FBQ0wiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9NYXJrdXBUb29sLmpzPzhmNDAiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGF2cCA9IEF1dG9kZXNrLlZpZXdpbmcuUHJpdmF0ZTtcblxuICAgIGV4cG9ydCBmdW5jdGlvbiBNYXJrdXBUb29sKCkge1xuXG4gICAgICAgIEF1dG9kZXNrLlZpZXdpbmcuVG9vbEludGVyZmFjZS5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLm5hbWVzID0gW1wibWFya3Vwcy5jb3JlXCJdO1xuICAgICAgICB0aGlzLnBhblRvb2wgPSBudWxsO1xuICAgICAgICB0aGlzLmFsbG93TmF2ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXMyZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuY29yZUV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuaG90a2V5c0VuYWJsZWQgPSB0cnVlO1xuXG4gICAgICAgIHZhciBfY3RybERvd24gPSBmYWxzZTtcbiAgICAgICAgdmFyIF9zaGlmdERvd24gPSBmYWxzZTtcblxuICAgICAgICAvLyBOb24tVG9vbEludGVyZmFjZSBtZXRob2RzIC8vXG5cbiAgICAgICAgdGhpcy5hbGxvd05hdmlnYXRpb24gPSBmdW5jdGlvbihhbGxvdykge1xuICAgICAgICAgICAgdGhpcy5hbGxvd05hdiA9IGFsbG93O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldENvcmVFeHRlbnNpb24gPSBmdW5jdGlvbihjb3JlRXh0KSB7XG4gICAgICAgICAgICB0aGlzLmNvcmVFeHQgPSBjb3JlRXh0O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldEhvdGtleXNFbmFibGVkID0gZnVuY3Rpb24oZW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5ob3RrZXlzRW5hYmxlZCA9IGVuYWJsZWQ7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvLyBUb29sSW50ZXJmYWNlIG1ldGhvZHMgLy9cblxuICAgICAgICB0aGlzLmFjdGl2YXRlID0gZnVuY3Rpb24obmFtZSwgdmlld2VyQXBpKSB7XG4gICAgICAgICAgICB0aGlzLnBhblRvb2wgPSB2aWV3ZXJBcGkudG9vbENvbnRyb2xsZXIuZ2V0VG9vbChcInBhblwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhblRvb2wpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhblRvb2wuYWN0aXZhdGUoXCJwYW5cIik7IC8vIFRPRE86IFdoYXQgaWYgd2Ugd2FudCBcInpvb21cIiBoZXJlP1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmlzMmQgPSB2aWV3ZXJBcGkubW9kZWwuaXMyZCgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIgPSB2aWV3ZXJBcGk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlID0gZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucGFuVG9vbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFuVG9vbC5kZWFjdGl2YXRlKFwicGFuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uKGV2ZW50LCBrZXlDb2RlKSB7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5jb3JlRXh0LmVkaXRNb2RlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRoaXMuaG90a2V5c0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gQ29uc3VtZSBldmVudFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBEb24ndCBwcm9wYWdhdGUga2V5IGhhbmRsaW5nIGRvd24gdG8gdG9vbCAvL1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGtleUNvZGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIEF1dG9kZXNrLlZpZXdpbmcuS2V5Q29kZS5DT05UUk9MOiBfY3RybERvd24gPSB0cnVlOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEF1dG9kZXNrLlZpZXdpbmcuS2V5Q29kZS5TSElGVDogX3NoaWZ0RG93biA9IHRydWU7IGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBBdXRvZGVzay5WaWV3aW5nLktleUNvZGUueDogX2N0cmxEb3duICYmICF0aGlzLmFsbG93TmF2ICYmIHRoaXMuY29yZUV4dC5jdXQoKTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBBdXRvZGVzay5WaWV3aW5nLktleUNvZGUuYzogX2N0cmxEb3duICYmICF0aGlzLmFsbG93TmF2ICYmIHRoaXMuY29yZUV4dC5jb3B5KCk7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQXV0b2Rlc2suVmlld2luZy5LZXlDb2RlLnY6IF9jdHJsRG93biAmJiAhdGhpcy5hbGxvd05hdiAmJiB0aGlzLmNvcmVFeHQucGFzdGUoKTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBBdXRvZGVzay5WaWV3aW5nLktleUNvZGUuZDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9jdHJsRG93biAmJiAhdGhpcy5hbGxvd05hdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRHVwbGljYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvcmVFeHQuY29weSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3JlRXh0LnBhc3RlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBBdXRvZGVzay5WaWV3aW5nLktleUNvZGUuejpcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9jdHJsRG93biAmJiAhX3NoaWZ0RG93biAmJiAhdGhpcy5hbGxvd05hdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3JlRXh0LnVuZG8oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChfY3RybERvd24gJiYgX3NoaWZ0RG93biAmJiAhdGhpcy5hbGxvd05hdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3JlRXh0LnJlZG8oKTsgLy8gQWxzbyBzdXBwb3J0IEN0cmwrWVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQXV0b2Rlc2suVmlld2luZy5LZXlDb2RlLnk6IF9jdHJsRG93biAmJiAhdGhpcy5hbGxvd05hdiAmJiB0aGlzLmNvcmVFeHQucmVkbygpOyBicmVhazsgLy8gQWxzbyBzdXBwb3J0IGN0cmwrc2hpZnQrelxuICAgICAgICAgICAgICAgIGNhc2UgQXV0b2Rlc2suVmlld2luZy5LZXlDb2RlLkVTQ0FQRTogdGhpcy5jb3JlRXh0Lm9uVXNlckNhbmNlbCgpOyBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgQXV0b2Rlc2suVmlld2luZy5LZXlDb2RlLkJBQ0tTUEFDRTogLy8gRmFsbCB0aHJvdWdoXG4gICAgICAgICAgICAgICAgY2FzZSBBdXRvZGVzay5WaWV3aW5nLktleUNvZGUuREVMRVRFOlxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRNYXJrdXAgPSB0aGlzLmNvcmVFeHQuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZE1hcmt1cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3JlRXh0LmRlbGV0ZU1hcmt1cChzZWxlY3RlZE1hcmt1cCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBBdXRvZGVzay5WaWV3aW5nLktleUNvZGUuRjEyOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIFRvIGFsbG93IG9wZW5pbmcgZGV2ZWxvcGVyIGNvbnNvbGUuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBDb25zdW1lIGV2ZW50XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlS2V5VXAgPSBmdW5jdGlvbihldmVudCwga2V5Q29kZSkge1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuY29yZUV4dC5lZGl0TW9kZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF0aGlzLmhvdGtleXNFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIENvbnN1bWUgZXZlbnRcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRG9uJ3QgcHJvcGFnYXRlIGtleSBoYW5kbGluZyBkb3duIHRvIHRvb2xcblxuICAgICAgICAgICAgc3dpdGNoIChrZXlDb2RlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBBdXRvZGVzay5WaWV3aW5nLktleUNvZGUuQ09OVFJPTDogX2N0cmxEb3duID0gZmFsc2U7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQXV0b2Rlc2suVmlld2luZy5LZXlDb2RlLlNISUZUOiBfc2hpZnREb3duID0gZmFsc2U7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gQ29uc3VtZSBldmVudCBPTkxZXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFsbG93TmF2ICYmIHRoaXMucGFuVG9vbCAmJiB0aGlzLnBhblRvb2wudXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFuVG9vbC51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmhhbmRsZVNpbmdsZUNsaWNrID0gZnVuY3Rpb24oIGV2ZW50LCBidXR0b24gKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hbGxvd05hdikge1xuICAgICAgICAgICAgICAgIC8vIElmIHBhbiB0b29sIHdvbid0IGhhbmRsZSBzaW5nbGUgY2xpY2ssIHRoZW4gcGFzcyBvdmVyIHRoZSBldmVudC5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYW5Ub29sICYmIHRoaXMucGFuVG9vbC5oYW5kbGVTaW5nbGVDbGljaylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFuVG9vbC5oYW5kbGVTaW5nbGVDbGljayhldmVudCwgYnV0dG9uKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBDb25zdW1lIGV2ZW50XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlRG91YmxlQ2xpY2sgPSBmdW5jdGlvbiggZXZlbnQsIGJ1dHRvbiApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFsbG93TmF2KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFuIHRvb2wgd29uJ3QgaGFuZGxlIGRvdWJsZSBjbGljaywgdGhlbiBwYXNzIG92ZXIgdGhlIGV2ZW50XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFuVG9vbCAmJiB0aGlzLnBhblRvb2wuaGFuZGxlRG91YmxlQ2xpY2spIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFuVG9vbC5oYW5kbGVEb3VibGVDbGljayhldmVudCwgYnV0dG9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gQ29uc3VtZSBldmVudFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZVNpbmdsZVRhcCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFsbG93TmF2KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFuIHRvb2wgd29uJ3QgaGFuZGxlIHNpbmdsZSB0YXAsIHRoZW4gcGFzcyBvdmVyIHRoZSBldmVudFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhblRvb2wgJiYgdGhpcy5wYW5Ub29sLmhhbmRsZVNpbmdsZVRhcCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYW5Ub29sLmhhbmRsZVNpbmdsZVRhcChldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIENvbnN1bWUgZXZlbnRcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVEb3VibGVUYXAgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hbGxvd05hdikge1xuICAgICAgICAgICAgICAgIC8vIElmIHBhbiB0b29sIHdvbid0IGhhbmRsZSBkb3VibGUgdGFwLCB0aGVuIHBhc3Mgb3ZlciB0aGUgZXZlbnRcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYW5Ub29sICYmIHRoaXMucGFuVG9vbC5oYW5kbGVEb3VibGVUYXApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFuVG9vbC5oYW5kbGVEb3VibGVUYXAoZXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBDb25zdW1lIGV2ZW50XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlV2hlZWxJbnB1dCA9IGZ1bmN0aW9uKGRlbHRhLCBldmVudCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWxsb3dOYXYgfHwgdGhpcy5pczJkKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFuIHRvb2wgd29uJ3QgaGFuZGxlIHdoZWVsIGlucHV0LCB0aGVuIHBhc3Mgb3ZlciB0aGUgZXZlbnRcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYW5Ub29sICYmIHRoaXMucGFuVG9vbC5oYW5kbGVXaGVlbElucHV0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29yZUV4dC5jYWxsU25hcHBlck1vdXNlTW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYW5Ub29sLmhhbmRsZVdoZWVsSW5wdXQoZGVsdGEsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gQ29uc3VtZSBldmVudFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZUJ1dHRvbkRvd24gPSBmdW5jdGlvbihldmVudCwgYnV0dG9uKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hbGxvd05hdiB8fCAodGhpcy5pczJkICYmIChhdnAuaXNSaWdodENsaWNrKGV2ZW50LCB0aGlzLnZpZXdlci5uYXZpZ2F0aW9uKSB8fCBhdnAuaXNNaWRkbGVDbGljayhldmVudCkpKSkge1xuICAgICAgICAgICAgICAgIC8vIElmIHBhbiB0b29sIHdvbid0IGhhbmRsZSBidXR0b24gZG93biwgdGhlbiBwYXNzIG92ZXIgdGhlIGV2ZW50XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFuVG9vbCAmJiB0aGlzLnBhblRvb2wuaGFuZGxlQnV0dG9uRG93bikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYW5Ub29sLmhhbmRsZUJ1dHRvbkRvd24oZXZlbnQsIGJ1dHRvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIENvbnN1bWUgZXZlbnRcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVCdXR0b25VcCA9IGZ1bmN0aW9uKGV2ZW50LCBidXR0b24pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFsbG93TmF2IHx8ICh0aGlzLmlzMmQgJiYgKGF2cC5pc1JpZ2h0Q2xpY2soZXZlbnQsIHRoaXMudmlld2VyLm5hdmlnYXRpb24pIHx8IGF2cC5pc01pZGRsZUNsaWNrKGV2ZW50KSkpKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFuIHRvb2wgd29uJ3QgaGFuZGxlIGJ1dHRvbiB1cCwgdGhlbiBwYXNzIG92ZXIgdGhlIGV2ZW50XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFuVG9vbCAmJiB0aGlzLnBhblRvb2wuaGFuZGxlQnV0dG9uVXApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFuVG9vbC5oYW5kbGVCdXR0b25VcChldmVudCwgYnV0dG9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gQ29uc3VtZSBldmVudFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZU1vdXNlTW92ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hbGxvd05hdiB8fCB0aGlzLmlzMmQpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBwYW4gdG9vbCB3b24ndCBoYW5kbGUgYnV0dG9uIG1vdmUsIHRoZW4gcGFzcyBvdmVyIHRoZSBldmVudFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhblRvb2wgJiYgdGhpcy5wYW5Ub29sLmhhbmRsZU1vdXNlTW92ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYW5Ub29sLmhhbmRsZU1vdXNlTW92ZShldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIENvbnN1bWUgZXZlbnRcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVHZXN0dXJlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFsbG93TmF2IHx8IHRoaXMuaXMyZCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHBhbiB0b29sIHdvbid0IGhhbmRsZSBnZXN0dXJlLCB0aGVuIHBhc3Mgb3ZlciB0aGUgZXZlbnRcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYW5Ub29sICYmIHRoaXMucGFuVG9vbC5oYW5kbGVHZXN0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhblRvb2wuaGFuZGxlR2VzdHVyZShldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIENvbnN1bWUgZXZlbnRcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVCbHVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFsbG93TmF2KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFuIHRvb2wgd29uJ3QgaGFuZGxlIGJsdXIsIHRoZW4gcGFzcyBvdmVyIHRoZSBldmVudFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhblRvb2wgJiYgdGhpcy5wYW5Ub29sLmhhbmRsZUJsdXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFuVG9vbC5oYW5kbGVCbHVyKGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gQ29uc3VtZSBldmVudFxuICAgICAgICB9O1xuICAgIH1cbiJdLCJuYW1lcyI6WyJhdnAiLCJBdXRvZGVzayIsIlZpZXdpbmciLCJQcml2YXRlIiwiTWFya3VwVG9vbCIsIlRvb2xJbnRlcmZhY2UiLCJjYWxsIiwibmFtZXMiLCJwYW5Ub29sIiwiYWxsb3dOYXYiLCJpczJkIiwiY29yZUV4dCIsImhvdGtleXNFbmFibGVkIiwiX2N0cmxEb3duIiwiX3NoaWZ0RG93biIsImFsbG93TmF2aWdhdGlvbiIsImFsbG93Iiwic2V0Q29yZUV4dGVuc2lvbiIsInNldEhvdGtleXNFbmFibGVkIiwiZW5hYmxlZCIsImFjdGl2YXRlIiwibmFtZSIsInZpZXdlckFwaSIsInRvb2xDb250cm9sbGVyIiwiZ2V0VG9vbCIsIm1vZGVsIiwidmlld2VyIiwiZGVhY3RpdmF0ZSIsImhhbmRsZUtleURvd24iLCJldmVudCIsImtleUNvZGUiLCJlZGl0TW9kZSIsIktleUNvZGUiLCJDT05UUk9MIiwiU0hJRlQiLCJ4IiwiY3V0IiwiYyIsImNvcHkiLCJ2IiwicGFzdGUiLCJkIiwieiIsInVuZG8iLCJyZWRvIiwieSIsIkVTQ0FQRSIsIm9uVXNlckNhbmNlbCIsIkJBQ0tTUEFDRSIsIkRFTEVURSIsInNlbGVjdGVkTWFya3VwIiwiZ2V0U2VsZWN0aW9uIiwiZGVsZXRlTWFya3VwIiwiRjEyIiwiaGFuZGxlS2V5VXAiLCJ1cGRhdGUiLCJoYW5kbGVTaW5nbGVDbGljayIsImJ1dHRvbiIsImhhbmRsZURvdWJsZUNsaWNrIiwiaGFuZGxlU2luZ2xlVGFwIiwiaGFuZGxlRG91YmxlVGFwIiwiaGFuZGxlV2hlZWxJbnB1dCIsImRlbHRhIiwiY2FsbFNuYXBwZXJNb3VzZU1vdmUiLCJoYW5kbGVCdXR0b25Eb3duIiwiaXNSaWdodENsaWNrIiwibmF2aWdhdGlvbiIsImlzTWlkZGxlQ2xpY2siLCJoYW5kbGVCdXR0b25VcCIsImhhbmRsZU1vdXNlTW92ZSIsImhhbmRsZUdlc3R1cmUiLCJoYW5kbGVCbHVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/MarkupTool.js\n");

/***/ }),

/***/ "./extensions/Markup/core/MarkupTypes.js":
/*!***********************************************!*\
  !*** ./extensions/Markup/core/MarkupTypes.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MARKUP_TYPE_ARROW: () => (/* binding */ MARKUP_TYPE_ARROW),\n/* harmony export */   MARKUP_TYPE_CALLOUT: () => (/* binding */ MARKUP_TYPE_CALLOUT),\n/* harmony export */   MARKUP_TYPE_CIRCLE: () => (/* binding */ MARKUP_TYPE_CIRCLE),\n/* harmony export */   MARKUP_TYPE_CLOUD: () => (/* binding */ MARKUP_TYPE_CLOUD),\n/* harmony export */   MARKUP_TYPE_DIMENSION: () => (/* binding */ MARKUP_TYPE_DIMENSION),\n/* harmony export */   MARKUP_TYPE_FREEHAND: () => (/* binding */ MARKUP_TYPE_FREEHAND),\n/* harmony export */   MARKUP_TYPE_HIGHLIGHT: () => (/* binding */ MARKUP_TYPE_HIGHLIGHT),\n/* harmony export */   MARKUP_TYPE_POLYCLOUD: () => (/* binding */ MARKUP_TYPE_POLYCLOUD),\n/* harmony export */   MARKUP_TYPE_POLYLINE: () => (/* binding */ MARKUP_TYPE_POLYLINE),\n/* harmony export */   MARKUP_TYPE_RECTANGLE: () => (/* binding */ MARKUP_TYPE_RECTANGLE),\n/* harmony export */   MARKUP_TYPE_STAMP: () => (/* binding */ MARKUP_TYPE_STAMP),\n/* harmony export */   MARKUP_TYPE_TEXT: () => (/* binding */ MARKUP_TYPE_TEXT)\n/* harmony export */ });\n\n// These are all the supported markup types.\n\nconst MARKUP_TYPE_ARROW = \"arrow\";\nconst MARKUP_TYPE_TEXT = \"label\";\nconst MARKUP_TYPE_RECTANGLE = \"rectangle\";\nconst MARKUP_TYPE_CIRCLE = \"ellipse\";\nconst MARKUP_TYPE_CLOUD = \"cloud\";\nconst MARKUP_TYPE_FREEHAND = \"freehand\";\nconst MARKUP_TYPE_HIGHLIGHT = \"highlight\";\nconst MARKUP_TYPE_POLYLINE = \"polyline\";\nconst MARKUP_TYPE_POLYCLOUD = \"polycloud\";\nconst MARKUP_TYPE_CALLOUT = \"callout\";\nconst MARKUP_TYPE_DIMENSION = \"dimension\";\nconst MARKUP_TYPE_STAMP = \"stamp\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL01hcmt1cFR5cGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTs7QUFFVyxNQUFNQSxpQkFBaUIsR0FBRyxPQUFPO0FBQ2pDLE1BQU1DLGdCQUFnQixHQUFHLE9BQU87QUFDaEMsTUFBTUMscUJBQXFCLEdBQUcsV0FBVztBQUN6QyxNQUFNQyxrQkFBa0IsR0FBRyxTQUFTO0FBQ3BDLE1BQU1DLGlCQUFpQixHQUFHLE9BQU87QUFDakMsTUFBTUMsb0JBQW9CLEdBQUcsVUFBVTtBQUN2QyxNQUFNQyxxQkFBcUIsR0FBRyxXQUFXO0FBQ3pDLE1BQU1DLG9CQUFvQixHQUFHLFVBQVU7QUFDdkMsTUFBTUMscUJBQXFCLEdBQUcsV0FBVztBQUN6QyxNQUFNQyxtQkFBbUIsR0FBRyxTQUFTO0FBQ3JDLE1BQU1DLHFCQUFxQixHQUFHLFdBQVc7QUFDekMsTUFBTUMsaUJBQWlCLEdBQUcsT0FBTyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL01hcmt1cFR5cGVzLmpzP2E5MmEiXSwic291cmNlc0NvbnRlbnQiOlsiXG4vLyBUaGVzZSBhcmUgYWxsIHRoZSBzdXBwb3J0ZWQgbWFya3VwIHR5cGVzLlxuXG4gICAgZXhwb3J0IGNvbnN0IE1BUktVUF9UWVBFX0FSUk9XID0gXCJhcnJvd1wiO1xuICAgIGV4cG9ydCBjb25zdCBNQVJLVVBfVFlQRV9URVhUID0gXCJsYWJlbFwiO1xuICAgIGV4cG9ydCBjb25zdCBNQVJLVVBfVFlQRV9SRUNUQU5HTEUgPSBcInJlY3RhbmdsZVwiO1xuICAgIGV4cG9ydCBjb25zdCBNQVJLVVBfVFlQRV9DSVJDTEUgPSBcImVsbGlwc2VcIjtcbiAgICBleHBvcnQgY29uc3QgTUFSS1VQX1RZUEVfQ0xPVUQgPSBcImNsb3VkXCI7XG4gICAgZXhwb3J0IGNvbnN0IE1BUktVUF9UWVBFX0ZSRUVIQU5EID0gXCJmcmVlaGFuZFwiO1xuICAgIGV4cG9ydCBjb25zdCBNQVJLVVBfVFlQRV9ISUdITElHSFQgPSBcImhpZ2hsaWdodFwiO1xuICAgIGV4cG9ydCBjb25zdCBNQVJLVVBfVFlQRV9QT0xZTElORSA9IFwicG9seWxpbmVcIjtcbiAgICBleHBvcnQgY29uc3QgTUFSS1VQX1RZUEVfUE9MWUNMT1VEID0gXCJwb2x5Y2xvdWRcIjtcbiAgICBleHBvcnQgY29uc3QgTUFSS1VQX1RZUEVfQ0FMTE9VVCA9IFwiY2FsbG91dFwiO1xuICAgIGV4cG9ydCBjb25zdCBNQVJLVVBfVFlQRV9ESU1FTlNJT04gPSBcImRpbWVuc2lvblwiO1xuICAgIGV4cG9ydCBjb25zdCBNQVJLVVBfVFlQRV9TVEFNUCA9IFwic3RhbXBcIjsiXSwibmFtZXMiOlsiTUFSS1VQX1RZUEVfQVJST1ciLCJNQVJLVVBfVFlQRV9URVhUIiwiTUFSS1VQX1RZUEVfUkVDVEFOR0xFIiwiTUFSS1VQX1RZUEVfQ0lSQ0xFIiwiTUFSS1VQX1RZUEVfQ0xPVUQiLCJNQVJLVVBfVFlQRV9GUkVFSEFORCIsIk1BUktVUF9UWVBFX0hJR0hMSUdIVCIsIk1BUktVUF9UWVBFX1BPTFlMSU5FIiwiTUFSS1VQX1RZUEVfUE9MWUNMT1VEIiwiTUFSS1VQX1RZUEVfQ0FMTE9VVCIsIk1BUktVUF9UWVBFX0RJTUVOU0lPTiIsIk1BUktVUF9UWVBFX1NUQU1QIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/MarkupTypes.js\n");

/***/ }),

/***/ "./extensions/Markup/core/MarkupsCore.js":
/*!***********************************************!*\
  !*** ./extensions/Markup/core/MarkupsCore.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MarkupsCore: () => (/* binding */ MarkupsCore)\n/* harmony export */ });\n/* harmony import */ var _edit_actions_EditActionManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./edit-actions/EditActionManager */ \"./extensions/Markup/core/edit-actions/EditActionManager.js\");\n/* harmony import */ var _MarkupEvents__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupEvents */ \"./extensions/Markup/core/MarkupEvents.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n/* harmony import */ var _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MarkupsCoreUtils */ \"./extensions/Markup/core/MarkupsCoreUtils.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n/* harmony import */ var _edit_clipboard_Clipboard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./edit-clipboard/Clipboard */ \"./extensions/Markup/core/edit-clipboard/Clipboard.js\");\n/* harmony import */ var _edit_input_InputHandler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./edit-input/InputHandler */ \"./extensions/Markup/core/edit-input/InputHandler.js\");\n/* harmony import */ var _EditFrame__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./EditFrame */ \"./extensions/Markup/core/EditFrame.js\");\n/* harmony import */ var _MarkupTool__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./MarkupTool */ \"./extensions/Markup/core/MarkupTool.js\");\n/* harmony import */ var _edit_modes_EditModeArrow__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./edit-modes/EditModeArrow */ \"./extensions/Markup/core/edit-modes/EditModeArrow.js\");\n/* harmony import */ var _edit_modes_BuiltinEditModes__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./edit-modes/BuiltinEditModes */ \"./extensions/Markup/core/edit-modes/BuiltinEditModes.js\");\n/* harmony import */ var _Markups_css__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Markups.css */ \"./extensions/Markup/core/Markups.css\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n // IMPORTANT!! HAS SIDE EFFECTS\n // IMPORTANT!!\n\n\nvar MeasureCommon = Autodesk.Viewing.MeasureCommon;\n\nvar PERSPECTIVE_MODE_SCALE = 1000;\n\n\n/**\n * Extension that allows end users to draw 2D markups on top of 2D and 3D models.\n *\n * @tutorial feature_markup\n * @param {Autodesk.Viewing.Viewer3D} viewer - Viewer instance used to operate on.\n * @param {object} options - Same Dictionary object passed into {@link Autodesk.Viewing.Viewer3D|Viewer3D}'s constructor.\n * @param {boolean} [options.markupDisableHotkeys] - Disables hotkeys for copy, cut, paste, duplicate, undo, redo and deselect.\n * @param {Autodesk.Viewing.ToolInterface} [options.markupToolClass] - Class override for input handling.\n * Use it to override/extend default hotkeys and/or mouse/gesture input.\n * @memberof Autodesk.Viewing.Extensions\n * @alias Autodesk.Viewing.Extensions.MarkupsCore\n * @see {@link Autodesk.Viewing.Extension} for common inherited methods.\n * @class\n */\nfunction MarkupsCore(viewer, options) {\n\n  Autodesk.Viewing.Extension.call(this, viewer, options);\n\n  this.options = this.options || {};\n  this.markups = [];\n  this.styles = {};\n\n  this.activeLayer = '';\n  this.duringViewMode = false;\n  this.duringEditMode = false;\n\n  this.svgLayersMap = {};\n\n  // Add action manager.\n  this.actionManager = new _edit_actions_EditActionManager__WEBPACK_IMPORTED_MODULE_0__.EditActionManager(50); // history of 50 actions.\n  this.actionManager.addEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_HISTORY_CHANGED, this.onEditActionHistoryChanged.bind(this));\n\n  this.nextId = 0; // Used to identify markups by id during an edit session.\n\n  // Clipboard.\n  this.clipboard = new _edit_clipboard_Clipboard__WEBPACK_IMPORTED_MODULE_5__.Clipboard(this);\n\n  // Default Input handler.\n  this.input = new _edit_input_InputHandler__WEBPACK_IMPORTED_MODULE_6__.InputHandler();\n  this.input.setGlobalManager(this.globalManager);\n\n  // Bind functions so they have access to globalManager\n  this.createSvgElement = _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_3__.createSvgElement.bind(this);\n  this.addSvgMetadata = _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_3__.addSvgMetadata.bind(this);\n  this.checkPolygon = _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_3__.checkPolygon.bind(this);\n\n  // Extension will dispatch events.\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_3__.addTraitEventDispatcher)(this);\n\n  const initStrokeAndFontWidths = (model) => {\n    // For 2d, set these widths once, and not recalculate again\n    if (model.is2d()) {\n      this.getStrokeWidth();\n      this.getFontWidth();\n    }\n  };\n\n  if (viewer.model) {\n    initStrokeAndFontWidths(viewer.model);\n  } else {\n    // Camera is reset right after a model load\n    // This is the right camera to use for widths initialization\n    viewer.addEventListener(Autodesk.Viewing.MODEL_ADDED_EVENT, (_ref) => {let { model } = _ref;\n      viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, () => {\n        initStrokeAndFontWidths(model);\n      }, { once: true });\n    }, { once: true });\n  }\n\n  // Handled events.\n  this.onCameraChangeBinded = this.onCameraChange.bind(this);\n  this.onViewerResizeBinded = function (event) {\n    // This is ugly, but we need to do this twice\n    var self = this;\n    // First usage is to avoid a blinking scenario\n    self.onViewerResize(event);\n    requestAnimationFrame(function () {\n      // Second one is to actually make it work on some resize scenarios.\n      // Check the unlikely scenario that we are no longer in view mode.\n      if (self.duringViewMode) {\n        self.onViewerResize(event);\n      }\n    });\n  }.bind(this);\n\n  this.onMarkupSelectedBinded = this.onMarkupSelected.bind(this);\n  this.onMarkupEnterEditionBinded = this.onMarkupEnterEdition.bind(this);\n  this.onMarkupCancelEditionBinded = this.onMarkupCancelEdition.bind(this);\n  this.onMarkupDeleteEditionBinded = this.onMarkupDeleteEdition.bind(this);\n  this.onToolChangeBinded = this.onToolChange.bind(this);\n  this.onUnitsCalibrationStartsBinded = this.onUnitsCalibrationStarts.bind(this);\n\n  viewer.addEventListener(MeasureCommon.Events.UNITS_CALIBRATION_STARTS_EVENT, this.onUnitsCalibrationStartsBinded);\n}\n\nMarkupsCore.prototype = Object.create(Autodesk.Viewing.Extension.prototype);\nMarkupsCore.prototype.constructor = MarkupsCore;\n\nvar proto = MarkupsCore.prototype;\n\nproto.load = async function () {\n\n  // Add layer where annotations will actually live\n  var svg = this.svg = this.createSvgElement('svg');\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_3__.setSvgParentAttributes)(svg);\n\n  // NOTE: Required since LMV renders Y coordinates upwards,\n  // while browser's Y coordinates goes downwards.\n  // SVG has 0 0 as default transform-origin: https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/transform-origin\n  const svgStyle = svg.style;\n  svgStyle.position = 'absolute';\n  svgStyle.left = '0';\n  svgStyle.top = '0';\n  svgStyle.transform = 'scale(1, -1)';\n  svgStyle.transformOrigin = 'center center';\n\n  this.bounds = { x: 0, y: 0, width: 0, height: 0 };\n\n  this.input.attachTo(this);\n\n  //Instantiate edit frame.\n  this.editFrame = new _EditFrame__WEBPACK_IMPORTED_MODULE_7__.EditFrame(this.viewer.container, this);\n  this.editFrame.addEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_EDITFRAME_EDITION_START, function () {this.disableMarkupInteractions(true);}.bind(this));\n  this.editFrame.addEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_EDITFRAME_EDITION_END, function () {this.disableMarkupInteractions(false);}.bind(this));\n\n  // Register tool\n  var toolClass = this.options.markupToolClass || _MarkupTool__WEBPACK_IMPORTED_MODULE_8__.MarkupTool;\n  this.changeMarkupTool(toolClass, !this.options.markupDisableHotkeys);\n\n  await this.viewer.loadExtension('Autodesk.Snapping');\n\n  this.snapper = new Autodesk.Viewing.Extensions.Snapping.Snapper(this.viewer, { markupMode: true });\n  this.viewer.toolController.registerTool(this.snapper);\n\n  return true;\n};\n\n/**\n * Change the markup tool's class in order to implement a different behaviour to the UI.\n *\n * @param {Autodesk.Viewing.Extensions.Markups.Core.MarkupTool} toolClass - Implementation or extension of MarkupTool's class.\n * @param {boolean} enableHotKeys - Whether to enable markup's hot-keys or not.\n */\nproto.changeMarkupTool = function (toolClass, enableHotKeys) {\n  if (this.markupTool) {\n    this.viewer.toolController.deregisterTool(this.markupTool);\n    this.markupTool = null;\n  }\n\n  this.markupTool = new toolClass();\n  this.markupTool.setCoreExtension(this);\n  this.markupTool.setHotkeysEnabled(enableHotKeys);\n  this.viewer.toolController.registerTool(this.markupTool);\n};\n\nproto.unload = function () {\n\n  this.hide();\n\n  this.input.detachFrom(this);\n\n  this.editFrame.unload();\n\n  if (this.markupTool) {\n    this.viewer.toolController.deregisterTool(this.markupTool);\n    this.markupTool = null;\n  }\n\n  if (this.snapper) {\n    this.viewer.toolController.deregisterTool(this.snapper);\n    this.snapper = null;\n  }\n\n  var svg = this.svg;\n  if (svg && this.onMouseDownBinded) {\n    svg.removeEventListener(\"mousedown\", this.onMouseDownBinded);\n    this.onMouseDownBinded = null;\n  }\n  if (svg.parentNode) {\n    svg.parentNode.removeChild(svg);\n  }\n  this.editModeSvgLayerNode = null;\n  this.svg = null;\n\n  return true;\n};\n\nMarkupsCore.prototype.getStrokeWidth = function () {\n\n  if (!this.initialStrokeWidth || this.viewer.model && !this.viewer.model.is2d()) {\n    this.initialStrokeWidth = this.sizeFromClientToMarkups(0, _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_3__.MARKUP_DEFAULT_STROKE_WIDTH_IN_PIXELS).y;\n  }\n\n  return this.initialStrokeWidth;\n};\n\nMarkupsCore.prototype.getFontWidth = function () {\n\n  if (!this.initialFontWidth || this.viewer.model && !this.viewer.model.is2d()) {\n    this.initialFontWidth = this.sizeFromClientToMarkups(0, _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_3__.MARKUP_DEFAULT_FONT_WIDTH_IN_PIXELS).y;\n  }\n\n  return this.initialFontWidth;\n};\n\n/**\n * Toggle in and out of Edit mode. In Edit mode the user is able to draw markups on the canvas.\n *\n * See also\n * {@link Autodesk.Viewing.Extensions.MarkupsCore/#enterEditMode|enterEditMode()} and\n * {@link Autodesk.Viewing.Extensions.MarkupsCore/#leaveEditMode|leaveEditMode()}\n */\nMarkupsCore.prototype.toggleEditMode = function () {\n\n  if (this.duringEditMode) {\n    this.leaveEditMode();\n  } else {\n    this.enterEditMode();\n  }\n};\n\n/**\n * Enables mouse interactions and mobile device gestures over the Viewer canvas to create or draw markups.\n *\n * Exit Edit mode by calling {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#leaveeditmode-1|leaveEditMode()}.\n *\n * See also\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#show|show()}\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore#enterEditMode\n * @param {string} layerId - [optional] Identifier for the layer of markups to be edited. Example \"Layer1\".\n * @returns {boolean} Returns true if editMode is active\n */\nMarkupsCore.prototype.enterEditMode = function (layerId) {\n\n  /**\n   * @param layer\n   * @param disable\n   * @private\n   */\n  function disableLayerMarkups(layer, disable) {\n    if (layer) {\n      var layerMarkups = layer.markups;\n      for (var k = 0; k < layerMarkups.length; k++) {\n        var m = layerMarkups[k];\n        m.disableInteractions(disable);\n      }\n    }\n  }\n  if (layerId) {\n    if (!this.svgLayersMap[layerId]) {\n      // if layerId is supplied but it does not exist in the svgLayerMap then create the new layer\n      console.warn(\"No such layer exists.\");\n      return false;\n    }\n  }\n\n  // If not currently shown, then show\n  if (!this.duringViewMode) {\n    if (!this.show()) {\n      return false; // Failed to enter view mode.\n    }\n  }\n\n  // Initialize the edit mode layer if it does not exist\n  if (!this.editModeSvgLayerNode) {\n    var parSvg = this.createSvgElement('g');\n    this.editModeSvgLayerNode = {\n      markups: [],\n      svg: parSvg\n    };\n    this.editModeSvgLayerNode.svg.setAttribute('cursor', 'default');\n  }\n\n\n  if (this.editModeSvgLayerNode.svg.parentNode != this.svg || !layerId) {\n    this.svg.appendChild(this.editModeSvgLayerNode.svg);\n  }\n  this.svg.setAttribute('cursor', 'crosshair');\n\n\n  if (layerId) {\n    var layer = this.svgLayersMap[layerId];\n    // If the layer exists in the layer map, use the information stored for that specific layer.\n    if (layer) {\n      // Remove the edit layer when entering edit mode of a specific edit mode.\n      var editModeLayerParentNode = this.editModeSvgLayerNode.svg.parentNode;\n      editModeLayerParentNode && editModeLayerParentNode.removeChild(this.editModeSvgLayerNode.svg);\n\n      // disable the markups in the editModeLayer\n      disableLayerMarkups(this.editModeSvgLayerNode, true);\n\n      // Enable interactions for markups in the current edit layer and disable interactions for markups in\n      // the other layers.\n      for (var key in this.svgLayersMap) {\n        var markups = this.svgLayersMap[key].markups;\n        for (var i = 0; i < markups.length; i++) {\n          var markup = markups[i];\n          if (key !== layerId.toString()) {\n            // disable all not in the current layer.\n            markup.disableInteractions(true);\n          } else {\n            // enable all markups in current layer.\n            markup.disableInteractions(false);\n          }\n        }\n      }\n\n      // assign the current layer to the global active layer\n      this.activeLayer = layerId;\n      this.editingLayer = layerId;\n      var svgParent = layer.svg;\n\n      // remove previous svg layer child from svg\n      svgParent.parentNode && this.svg.removeChild(svgParent);\n\n      // reassign the markups in that layer to the global markups list\n      this.markups = layer.markups.slice();\n\n      // re-append svg layer child to svg to make it the top most layer\n      this.svg.appendChild(svgParent);\n    }\n  } else {\n    // disable interactions for the previous markups\n    // Example: enterEditMode(layer) -> enterEditMode()\n    if (this.editingLayer) {\n      for (var k = 0; k < this.markups.length; k++) {\n        var m = this.markups[k];\n        m.disableInteractions(true);\n      }\n      disableLayerMarkups(this.editModeSvgLayerNode, false);\n    }\n    this.editingLayer = '';\n    if (!this.editModeSvgLayerNode) {\n      this.markups = [];\n    } else {\n      this.markups = this.editModeSvgLayerNode.markups.slice();\n    }\n    this.activeLayer = '';\n  }\n\n  this.input.enterEditMode();\n  this.activateTool(true);\n  this.styles = {}; // Clear EditMode styles.\n  this.defaultStyle = null;\n  this.duringEditMode = true;\n  this.changeEditMode(new _edit_modes_EditModeArrow__WEBPACK_IMPORTED_MODULE_9__.EditModeArrow(this));\n  this.actionManager.clear();\n  this.dispatchEvent({ type: _MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_EDITMODE_ENTER });\n  this.allowNavigation(false);\n  return true;\n};\n\n/**\n * Exits Edit mode.\n *\n * See also {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#entereditmode-layerid|enterEditMode()}.\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore#leaveEditMode\n *\n * @returns {boolean} Returns true if Edit mode has been deactivated\n */\nMarkupsCore.prototype.leaveEditMode = function () {\n\n  var NOT_IN_EDIT_MODE = true;\n  var WE_ARE_STILL_IN_EDIT_MODE = false;\n\n  if (!this.duringEditMode || !this.duringViewMode) {\n    return NOT_IN_EDIT_MODE;\n  }\n\n  var viewer = this.viewer;\n  if (!viewer) {\n    return WE_ARE_STILL_IN_EDIT_MODE; // something is very wrong...\n  }\n\n  this.editMode.destroy();\n  this.editMode = null;\n  this.duringEditMode = false;\n\n  if (this.snapper) {\n    this.snapper.indicator.clearOverlays();\n    this.snapper.clearSnapped();\n  }\n\n  // Remove the edit layer\n  if (this.editModeSvgLayerNode && this.editModeSvgLayerNode.svg.parentNode) {\n    this.svg.removeChild(this.editModeSvgLayerNode.svg);\n  }\n  this.svg.setAttribute('cursor', 'default');\n\n  this.input.leaveEditMode();\n  this.editFrame.setMarkup(null);\n  this.activateTool(true);\n\n  this.allowNavigation(true);\n  this.dispatchEvent({ type: _MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_EDITMODE_LEAVE });\n  return NOT_IN_EDIT_MODE;\n};\n\n/**\n * Toggle between visible markups, i.e., show() and hidden markups, i.e., hide().\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore.toggle\n * @method toggle\n */\nMarkupsCore.prototype.toggle = function () {\n\n  if (this.duringViewMode) {\n    this.hide();\n  } else {\n    this.show();\n  }\n};\n\n/**\n * Enables loading of previously saved markups.\n * Exit Edit mode by calling {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#hide|hide()}.\n *\n * See also {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#entereditmode-layerid|enterEditMode()}.\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore#show\n * @method show\n *\n * @returns {boolean} Whether it successfully entered view mode or not.\n */\nMarkupsCore.prototype.show = function () {\n\n  var viewer = this.viewer;\n  if (!viewer || !viewer.model || !this.svg) {\n    return false;\n  }\n\n  // Return if already showing or in edit-mode.\n  // Notice that edit mode requires that we are currently show()-ing.\n  if (this.duringViewMode || this.duringEditMode) {\n    return true;\n  }\n\n  viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onCameraChangeBinded);\n  viewer.addEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT, this.onViewerResizeBinded);\n\n  // Add parent svg of all markups.\n  viewer.container.appendChild(this.svg);\n  viewer.reorderElements(this.svg);\n\n  this.input.enterViewMode();\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_3__.hideLmvUi)(viewer);\n\n  // TODO: Nasty hack, currently there is no API to disable mouse highlighting in 3d models.\n  // TODO: We nuke rollover function in viewer, for now, public api will be added soon.\n  this.onViewerRolloverObject = viewer.impl.rolloverObject;\n  viewer.impl.rolloverObject = function () {};\n\n  this.activateTool(true);\n  var camera = viewer.impl.camera;\n  this.onViewerResize({ width: camera.clientWidth, height: camera.clientHeight });\n\n  // See function loadMarkups() for when the actual SVG gets added onstage //\n  this.svgLayersMap = {};\n  this.duringViewMode = true;\n  this.allowNavigation(true);\n  return true;\n};\n\n/**\n * Removes any markup currently overlaid on the viewer. It exits Edit mode if it is active.\n *\n * See also {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#show|show()}\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore#hide\n * @method hide\n *\n * @returns {boolean} Whether it successfully left view mode or not.\n */\nMarkupsCore.prototype.hide = function () {\n\n  var RESULT_HIDE_OK = true;\n  var RESULT_HIDE_FAIL = false;\n\n  var viewer = this.viewer;\n  if (!viewer || !this.duringViewMode) {\n    return RESULT_HIDE_OK;\n  }\n\n  if (this.duringEditMode) {\n    if (!this.leaveEditMode()) {\n      return RESULT_HIDE_FAIL;\n    }\n  }\n\n  viewer.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onCameraChangeBinded);\n  viewer.removeEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT, this.onViewerResizeBinded);\n\n  var svg = this.svg;\n  svg.parentNode && svg.parentNode.removeChild(svg);\n\n  // Remove all Markups and metadata (if any)\n  this.unloadMarkupsAllLayers();\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_3__.removeAllMetadata)(svg);\n\n  this.input.leaveViewMode();\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_3__.restoreLmvUi)(viewer);\n  this.viewer.impl.rolloverObject = this.onViewerRolloverObject;\n\n  this.activateTool(false);\n  this.duringViewMode = false;\n  return RESULT_HIDE_OK;\n};\n\n/**\n * Removes newly created markups in the current editing layer.\n * Markups that were created in a specific layer will not be removed.\n *\n * Markups should have been added while in\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#entereditmode-layerid|enterEditMode()}.\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore.clear\n * @method clear\n */\nMarkupsCore.prototype.clear = function () {\n  // Can only clear specific layers when in the edit mode of that layer.\n  if (!this.duringEditMode) {\n    console.warn(\"Clear only removes markups when in Edit Mode.\");\n    return;\n  }\n  var editModeLayer = this.editingLayer ? this.svgLayersMap[this.editingLayer] : this.editModeSvgLayerNode;\n  if (editModeLayer) {\n    var markups = editModeLayer.markups;\n    var svg = editModeLayer.svg;\n    if (svg && svg.childNodes.length > 0) {\n      while (svg.childNodes.length) {\n        svg.removeChild(svg.childNodes[0]);\n      }\n    }\n    while (markups.length > 0) {\n      var markup = markups[0];\n      this.removeMarkup(markup);\n      markup.destroy();\n    }\n  }\n};\n\n/**\n * Returns an SVG string with the markups created so far.\n * The SVG string can be reloaded using {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#loadmarkups-markupstring-layerid|loadMarkups()}.\n *\n * Markups should have been added while in {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#entereditmode-layerid|enterEditMode()}.\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore.generateData\n * @method generateData\n *\n * @returns {string} Returns an SVG element with all of the created markups in a string format.\n */\nMarkupsCore.prototype.generateData = function () {\n\n  var defaultLayer = this.editModeSvgLayerNode.svg;\n\n  if (this.editMode) {\n    this.editMode.onSave();\n  }\n\n  // Sanity check, remove any lingering metadata nodes\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_3__.removeAllMetadata)(this.svg);\n\n  if (this.activeLayer) {\n    defaultLayer = this.svgLayersMap[this.activeLayer].svg;\n  }\n\n  var tmpNode = this.createSvgElement(\"svg\");\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_3__.transferChildNodes)(this.svg, tmpNode); // Transfer includes this.editModeSvgLayerNode\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_3__.transferChildNodes)(defaultLayer, this.svg);\n\n  // version 1: first implementation.\n  // version 2: added global offset to markup positions.\n  // version 3: change node structure to include hitareas, hit areas are not exported.\n  // version 4: scale perspective markups space by PERSPECTIVE_MODE_SCALE because bug in firefox. LMV-1150\n  var metadataObject = {\n    \"data-model-version\": \"4\"\n  };\n  var metadataNode = this.addSvgMetadata(this.svg, metadataObject);\n  var metadataNodes = [metadataNode];\n\n  // Notify each markup to inject metadata\n  this.markups.forEach(function (markup) {\n    var addedNode = markup.setMetadata();\n    if (addedNode) {\n      metadataNodes.push(addedNode);\n    }\n  });\n\n  // Generate the data!\n  var data = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_3__.svgNodeToString)(this.svg);\n\n  // Remove metadataObject before returning\n  metadataNodes.forEach(function (metadataNode) {\n    metadataNode.parentNode.removeChild(metadataNode);\n  });\n\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_3__.transferChildNodes)(this.svg, defaultLayer);\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_3__.transferChildNodes)(tmpNode, this.svg);\n  tmpNode = null; // get rid of it.\n\n  return data;\n};\n\n/**\n * @private\n */\nMarkupsCore.prototype.generatePoints3d = function () {\n\n  var result = { markups: [], main: null };\n  var markups = this.markups;\n  var markupsCount = markups.length;\n\n  if (markupsCount === 0) {\n    return result;\n  }\n\n  // Gather a 3d point for markup.\n  var idTarget = this.viewer.impl.renderer().readbackTargetId();\n  for (let i = 0; i < markupsCount; ++i) {\n\n    var markup = markups[i];\n    var point = markup.generatePoint3d(idTarget) || null;\n    result.markups.push(\n      {\n        id: markup.id,\n        type: markup.type,\n        point: point || null\n      });\n  }\n\n\n  // If there is 3d point associated with an arrow, we use that as main point.\n  if (markupsCount === 1) {\n\n    var main = result.markups[0].point;\n    result.main = main && main.clone();\n    return result;\n  }\n\n  for (let i = 0; i < markupsCount; ++i) {\n\n    var collision = result.markups[i];\n    if (collision.type === _MarkupTypes__WEBPACK_IMPORTED_MODULE_2__.MARKUP_TYPE_ARROW && collision.point !== null) {\n\n      result.main = collision.point.clone();\n      return result;\n    }\n  }\n\n  // If there is no arrows, we average bounding boxes and get a 3d point inside it.\n  var bbX0 = Number.POSITIVE_INFINITY;\n  var bbY0 = Number.POSITIVE_INFINITY;\n  var bbX1 = Number.NEGATIVE_INFINITY;\n  var bbY1 = Number.NEGATIVE_INFINITY;\n\n  for (let i = 0; i < markupsCount; ++i) {\n\n    var boundingBox = markups[i].generateBoundingBox();\n\n    bbX0 = Math.min(bbX0, boundingBox.min.x);\n    bbY0 = Math.min(bbY0, boundingBox.min.y);\n    bbX1 = Math.max(bbX1, boundingBox.max.x);\n    bbY1 = Math.max(bbY1, boundingBox.max.y);\n  }\n\n  var polygon = {};\n\n  polygon.vertexCount = 4;\n  polygon.xVertices = new Float32Array([bbX0, bbX1, bbX1, bbX0]);\n  polygon.yVertices = new Float32Array([bbY0, bbY0, bbY1, bbY1]);\n\n  var point2d = this.checkPolygon(polygon, idTarget);\n  var point3d = point2d && this.viewer.clientToWorld(point2d.x, point2d.y);\n  result.main = point3d && point3d.point;\n\n  return result;\n};\n\n/**\n * Renders the markups onto a 2D canvas context to generate an image.\n *\n * @param {CanvasRenderingContext2D} context - Markups are drawn using the context provided\n * @param callback\n * @param renderAllMarkups\n * @private\n */\nMarkupsCore.prototype.renderToCanvas = function (context, callback, renderAllMarkups) {\n\n  var width = this.bounds.width;\n  var height = this.bounds.height;\n  var viewBox = this.getSvgViewBox(width, height);\n  var numberOfScreenshotsTaken = 0;\n  var markups = [];\n  var layer;\n\n  var onMarkupScreenshotTaken = function () {\n    if (callback && ++numberOfScreenshotsTaken === markups.length) {\n      callback();\n    }\n  }.bind(this);\n\n  if (renderAllMarkups) {\n    var svgKeys = Object.keys(this.svg.childNodes);\n    var layersKeys = Object.keys(this.svgLayersMap);\n\n    // Append only markups that their parent layer is contained inside the svg main container.\n    for (var i = 0; i < svgKeys.length; i++) {\n      for (var j = 0; j < layersKeys.length; j++) {\n        layer = this.svgLayersMap[layersKeys[j]];\n        if (this.svg.childNodes[svgKeys[i]] === layer.svg) {\n          markups = markups.concat(layer.markups);\n        }\n      }\n    }\n  } else {\n    layer = this.svgLayersMap[this.activeLayer] || this.editModeSvgLayerNode;\n    markups = layer.markups;\n  }\n\n  if (markups.length === 0) {\n    callback();\n  } else {\n    markups.forEach(function (markup) {\n      markup.renderToCanvas(context, viewBox, width, height, onMarkupScreenshotTaken);\n    });\n  }\n};\n\n/**\n * Changes the active drawing tool. For example, from the Arrow drawing tool to the Rectangle drawing tool.\n * Only applicable while in {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#entereditmode-layerid|Edit Mode}.\n *\n * Supported values are:\n * - `new Autodesk.Viewing.Extensions.Markups.Core.EditModeArrow(MarkupsCoreInstance)`\n * - `new Autodesk.Viewing.Extensions.Markups.Core.EditModeRectangle(MarkupsCoreInstance)`\n * - `new Autodesk.Viewing.Extensions.Markups.Core.EditModeCircle(MarkupsCoreInstance)`\n * - `new Autodesk.Viewing.Extensions.Markups.Core.EditModeCloud(MarkupsCoreInstance)`\n * - `new Autodesk.Viewing.Extensions.Markups.Core.EditModeText(MarkupsCoreInstance)`\n * - `new Autodesk.Viewing.Extensions.Markups.Core.EditModeFreehand(MarkupsCoreInstance)`\n * - `new Autodesk.Viewing.Extensions.Markups.Core.EditModePolyline(MarkupsCoreInstance)`\n * - `new Autodesk.Viewing.Extensions.Markups.Core.EditModePolycloud(MarkupsCoreInstance)`\n *\n * This function fires event `Autodesk.Viewing.Extensions.MarkupsCore.EVENT_EDITMODE_CHANGED`.\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore#changeEditMode\n * @method changeEditMode\n *\n * @param {object} editMode - Object instance for the drawing tool\n * @fires Autodesk.Viewing.Extensions.MarkupsCore.EVENT_EDITMODE_CHANGED\n */\nMarkupsCore.prototype.changeEditMode = function (editMode) {\n\n  var oldEditMode = this.editMode;\n  oldEditMode && oldEditMode.destroy();\n\n  editMode.addEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_EDITMODE_CREATION_BEGIN, function () {this.disableMarkupInteractions(true);}.bind(this));\n  editMode.addEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_EDITMODE_CREATION_END, function () {this.disableMarkupInteractions(false);}.bind(this));\n  editMode.addEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_MARKUP_DESELECT, function (event) {this.dispatchEvent(event);}.bind(this));\n\n  this.editMode = editMode;\n  this.styles[editMode.type] = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_4__.cloneStyle)(editMode.getStyle());\n\n  this.dispatchEvent({ type: _MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_EDITMODE_CHANGED, target: editMode });\n};\n\n/**\n * Check whether a user can perform camera navigation operations on the current loaded model.\n * While the extension is active, the user can still draw markups.\n * Panning and zooming are only supported for orthographic cameras.\n *\n * @returns {boolean} Whether {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#allownavigation-allow|allowNavigation()} can succeed.\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore.isNavigationAllowed\n * @method isNavigationAllowed\n */\nMarkupsCore.prototype.isNavigationAllowed = function () {\n\n  return !this.viewer.impl.camera.isPerspective;\n};\n\n/**\n * Enables click, tap, and swipe behavior to allow camera zoom and panning operations. It is only available in\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#entereditmode-layerid|Edit mode}.\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore.allowNavigation\n * @method allowNavigation\n *\n * @param {boolean} allow - Whether camera navigation interactions are active or not.\n */\nMarkupsCore.prototype.allowNavigation = function (allow) {\n\n  //we will still need to update the markup styles even if in perspective mode\n  var editMode = this.editMode;\n  this.navigating = allow;\n\n  if (allow) {\n    this.svg.setAttribute(\"pointer-events\", \"none\");\n    editMode && this.selectMarkup(null);\n  } else {\n    this.svg.setAttribute(\"pointer-events\", \"painted\");\n  }\n\n  // Update pointer events for all markups.\n  var markups = this.markups;\n  var markupsCount = markups.length;\n\n  for (var i = 0; i < markupsCount; ++i) {\n    markups[i].updateStyle();\n  }\n  editMode && editMode.notifyAllowNavigation(allow);\n\n  // Navigation is not allowed while in perspective mode.\n  if (allow && (this.duringEditMode || this.duringViewMode) && !this.isNavigationAllowed()) {\n    return false;\n  }\n\n  // Clear snapper.\n  if (allow && this.snapper) {\n    this.snapper.indicator.clearOverlays();\n    this.snapper.clearSnapped();\n  }\n\n  this.markupTool.allowNavigation(allow);\n\n};\n\n/**\n * Sets mouse interactions and mobile device gestures with markups. Only applicable in\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#entereditmode-layerid|Edit mode}.\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore.disableMarkupInteractions\n * @method disableMarkupInteractions\n *\n * @param {boolean} disable - true to disable interactions with markups; false to enable interactions with markups; default false.\n */\nMarkupsCore.prototype.disableMarkupInteractions = function (disable) {\n\n  if (this.editModeSvgLayerNode) {\n    this.editModeSvgLayerNode.svg.setAttribute('cursor', disable ? 'inherit' : 'default');\n  }\n  this.markups.forEach(function (markup) {markup.disableInteractions(disable);});\n};\n\n/**\n *\n * @param isActive\n * @private\n */\nMarkupsCore.prototype.activateTool = function (isActive) {\n  if (isActive) {\n    if (!this.cachedNavigationTool) {\n      this.cachedNavigationTool = this.viewer.getActiveNavigationTool();\n      this.viewer.addEventListener(Autodesk.Viewing.TOOL_CHANGE_EVENT, this.onToolChangeBinded);\n    }\n    this.viewer.setActiveNavigationTool(this.markupTool.getName());\n  } else {\n\n    if (this.cachedNavigationTool) {\n      this.viewer.setActiveNavigationTool(this.cachedNavigationTool);\n      this.cachedNavigationTool = null;\n    } else {\n      var defaultToolName = this.viewer.getDefaultNavigationToolName();\n      this.viewer.setActiveNavigationTool(defaultToolName);\n    }\n\n    this.viewer.removeEventListener(Autodesk.Viewing.TOOL_CHANGE_EVENT, this.onToolChangeBinded);\n  }\n};\n\n/**\n *\n * @param event\n * @private\n */\nMarkupsCore.prototype.onToolChange = function (event) {\n\n  if (event.toolName !== this.markupTool.getName())\n  return;\n\n  if (event.active) {\n    var navAllowed = this.isNavigationAllowed();\n    this.viewer.setNavigationLockSettings({\n      pan: navAllowed,\n      zoom: navAllowed,\n      orbit: false,\n      roll: false,\n      fov: false,\n      walk: false,\n      gotoview: false\n    });\n  }\n  this.viewer.setNavigationLock(event.active);\n};\n\nMarkupsCore.prototype.onUnitsCalibrationStarts = function () {\n  if (this.duringEditMode) {\n    this.hide();\n  }\n};\n\n//// Input /////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nproto.changeInputHandler = function (inputHandler) {\n\n  this.input.detachFrom(this);\n  inputHandler.attachTo(this);\n  this.input = inputHandler;\n\n  if (this.duringEditMode) {\n    inputHandler.enterEditMode();\n  }\n\n  if (this.duringViewMode) {\n    inputHandler.enterViewMode();\n  }\n};\n\n//// Copy and Paste System /////////////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Standard copy operation. Applies to any selected markup.<br>\n * See also {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#cut-1|cut()} and\n *{@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#paste-2|paste()}.\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore#copy\n * @method copy\n */\nMarkupsCore.prototype.copy = function () {\n\n  this.clipboard.copy();\n};\n\n/**\n * Standard cut operation. Applies to any selected markup, which gets removed from the screen at call time.<br>\n * See also {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#copy|copy()} and\n *{@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#paste-2|paste()}.\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore#cut\n * @method cut\n */\nMarkupsCore.prototype.cut = function () {\n\n  this.clipboard.cut();\n};\n\n/**\n * Standard paste operation. This function will paste any previously copied or cut markup.\n * Can be called repeatedly after a single copy or cut operation.<br>\n * See also {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#copy|copy()} and\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#cut-1|cut()}.\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore#paste\n * @method paste\n */\nMarkupsCore.prototype.paste = function () {\n\n  this.clipboard.paste();\n};\n\n//// Undo and Redo System //////////////////////////////////////////////////////////////////////////////////////////\n/**\n * Will undo the previous operation.<br>\n * The Undo/Redo stacks will track any change done to the existing markups.<br>\n * See also {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#redo-1|redo()} and\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#isUndoStackEmpty|isUndoStackEmpty()}.\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore#undo\n * @method undo\n */\nMarkupsCore.prototype.undo = function () {\n\n  this.actionManager.undo();\n};\n\n/**\n * Will redo any previously undo operation.<br>\n * See also {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#undo|undo()},\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#isRedoStackEmpty|isRedoStackEmpty()}.\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore#redo\n * @method redo\n */\nMarkupsCore.prototype.redo = function () {\n\n  this.actionManager.redo();\n};\n\n/**\n * Returns true when {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#undo|undo()} produces no changes.\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore#isUndoStackEmpty\n * @method isUndoStackEmpty\n *\n * @returns {boolean} true if there are no changes to undo; false if there are changes to undo.\n */\nMarkupsCore.prototype.isUndoStackEmpty = function () {\n\n  return this.actionManager.isUndoStackEmpty();\n};\n\n/**\n * Returns true when {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#redo-1|redo()} produces no changes.\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore#isRedoStackEmpty\n * @method isRedoStackEmpty\n *\n * @returns {boolean} true if there are no changes to redo; false if there are changes to redo.\n */\nMarkupsCore.prototype.isRedoStackEmpty = function () {\n\n  return this.actionManager.isRedoStackEmpty();\n};\n\nproto.beginActionGroup = function () {\n\n  this.actionManager.beginActionGroup();\n};\n\nproto.closeActionGroup = function () {\n\n  this.actionManager.closeActionGroup();\n};\n\nproto.cancelActionGroup = function () {\n\n  this.actionManager.cancelActionGroup();\n};\n\n/**\n * Helper function for generating unique markup ids.\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore#getId\n * @method getId\n *\n * @returns {number}\n */\nproto.getId = function () {\n\n  return ++this.nextId;\n};\n\n/**\n * @param event\n * @private\n */\nproto.onEditActionHistoryChanged = function (event) {\n\n  var data = event.data;\n  if (data.action !== 'undo' && data.targetId !== -1) {\n\n    // Markup can be null when deleting, that's ok, we unselect in that case.\n    let markup = this.getMarkup(data.targetId);\n    this.selectMarkup(markup);\n  }\n  if (data.action === 'undo' && !this.isUndoStackEmpty()) {\n\n    let markup = this.getMarkup(this.actionManager.getLastElementInUndoStack().getTargetId());\n    this.selectMarkup(markup);\n  }\n\n  this.dispatchEvent(event);\n};\n\n/**\n * Returns a markup with the specified ID. Returns null when not found.\n * The ID can be retrieved from the return value of getSelection(). <br>\n * See also\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#getselection-1|getSelection()}.\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore#getMarkup\n * @method getMarkup\n *\n * @param {string} id Markup identifier.\n * @returns {Autodesk.Viewing.Extensions.Markups.Core.Markup} Returns markup object.\n */\nMarkupsCore.prototype.getMarkup = function (id) {\n\n  var markups = this.markups;\n  var markupsCount = markups.length;\n\n  for (var i = 0; i < markupsCount; ++i) {\n    if (markups[i].id == id) {\n      return markups[i];\n    }\n  }\n\n  return null;\n};\n\n\n/**\n * Selects or deselects a markup. A selected markup gets an overlayed UI that allows you to perform transformations\n * such as resizing, rotations, and translations. To deselect a markup, send a null value. <br>\n * See also {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#getmarkup-id|getMarkup()}.\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore#selectMarkup\n * @method selectMarkup\n *\n * @param {Autodesk.Viewing.Extensions.Markups.Core.Markup|null} markup The markup instance to select. Set the value to null to deselect a markup.\n */\nMarkupsCore.prototype.selectMarkup = function (markup) {\n\n  if (markup) {\n\n    if (this.editMode.type === markup.type) {\n      this.editMode.setSelection(markup);\n    } else {\n\n      var editMode = markup.getEditMode();\n      editMode.setSelection(null);\n\n      this.changeEditMode(editMode);\n      this.setStyle(markup.getStyle());\n      this.editMode.setSelection(markup);\n    }\n  } else {\n    // fix for text markup in view mode\n    if (this.editMode) {\n      this.editMode.setSelection(null);\n    }\n  }\n};\n\n/**\n * Returns the currently selected markup. A selected markup has a custom UI overlayed that allows you to perform\n * resizing, rotations and translations.<br>\n * See also\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#selectmarkup-markup|selectMarkup()}.\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore#getSelection\n * @method getSelection\n *\n * @returns {Autodesk.Viewing.Extensions.Markups.Core.Markup|null} Returns selected markup object; null if no markup is selected.\n */\nMarkupsCore.prototype.getSelection = function () {\n\n  return this.editMode.getSelection();\n};\n\n/**\n * Deletes a markup from the canvas. Only applies while in\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#entereditmode-layerid|Edit mode}.\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore#deleteMarkup\n * @method deleteMarkup\n *\n * @param {Autodesk.Viewing.Extensions.Markups.Core.Markup} markup - Markup object.\n * @param {boolean} [dontAddToHistory] Whether delete action can be {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#undo|undone}.\n */\nMarkupsCore.prototype.deleteMarkup = function (markup, dontAddToHistory) {\n\n  if (!this.editMode || this.editMode && this.editMode.selectedMarkup.id !== markup.id) {\n    this.editMode = markup.getEditMode();\n  }\n  this.editMode.deleteMarkup(markup, dontAddToHistory);\n};\n\nproto.addMarkup = function (markup) {\n\n  var markups;\n  var layer = this.activeLayer;\n  var layerObject = this.svgLayersMap[layer] || '';\n\n  if (layerObject) {\n    var svgParent = layerObject.svg;\n    // append markup svg to layer svg\n    markup.setParent(svgParent);\n    // Add markup to layer markups if it does not exist\n    layerObject.markups.push(markup);\n    markups = layerObject.markups.slice();\n  } else {\n    // if layer is undefined create a edit mode svg layer\n    markup.setParent(this.editModeSvgLayerNode.svg);\n    this.editModeSvgLayerNode.markups.push(markup);\n    markups = this.editModeSvgLayerNode.markups.slice();\n  }\n\n  markup.addEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_MARKUP_SELECTED, this.onMarkupSelectedBinded);\n  markup.addEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_MARKUP_ENTER_EDITION, this.onMarkupEnterEditionBinded);\n  markup.addEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_MARKUP_CANCEL_EDITION, this.onMarkupCancelEditionBinded);\n  markup.addEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_MARKUP_DELETE_EDITION, this.onMarkupDeleteEditionBinded);\n  // Only set the global markups array when in edit mode\n  if (this.duringEditMode) {\n    this.markups = markups;\n  }\n};\n\n/**\n *\n * @param markup\n * @private\n */\nproto.removeMarkup = function (markup) {\n\n  if (!markup) {\n    return false;\n  }\n  var self = this;\n\n  /**\n   * Get the layer markups in which the markup exists.\n   * This function will remove the markup if it exists in the corresponding layer markups array.\n   *\n   * @param markup\n   * @returns {number} returns -1 if the markup does not exist in a layer markups array\n   */\n  function removeMarkupIfExists(markup) {\n    var markupIndex;\n    var layerMarkups = -1;\n    // check if the markup exists in the edit layer\n    if (self.editModeSvgLayerNode) {\n      var editLayerMarkups = self.editModeSvgLayerNode.markups;\n      markupIndex = editLayerMarkups.indexOf(markup);\n      if (markupIndex !== -1) {\n        // remove the markup from the corresponding markup array\n        editLayerMarkups.splice(markupIndex, 1);\n        layerMarkups = editLayerMarkups.slice();\n        // update the global markups array if the markup is in the active layer\n        if (self.activeLayer === '') {\n          self.markups = layerMarkups;\n        }\n        return layerMarkups;\n      }\n    }\n    // check if the markup exists in a layer\n    if (self.svgLayersMap) {\n      for (var layer in self.svgLayersMap) {\n        var markups = self.svgLayersMap[layer].markups;\n        markupIndex = markups.indexOf(markup);\n        if (markupIndex !== -1) {\n          // remove the markup from the corresponding markup array\n          markups.splice(markupIndex, 1);\n          layerMarkups = markups.slice();\n          // update the global markups array if the markup is in the active layer\n          if (self.activeLayer === layer) {\n            self.markups = layerMarkups;\n          }\n          return layerMarkups;\n        }\n      }\n    }\n    return layerMarkups;\n  }\n\n  var layerMarkups = removeMarkupIfExists(markup);\n  if (layerMarkups === -1)\n  return false;\n\n  markup.setParent(null);\n\n  markup.removeEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_MARKUP_SELECTED, this.onMarkupSelectedBinded);\n  markup.removeEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_MARKUP_ENTER_EDITION, this.onMarkupEnterEditionBinded);\n  markup.removeEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_MARKUP_CANCEL_EDITION, this.onMarkupCancelEditionBinded);\n  markup.removeEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_MARKUP_DELETE_EDITION, this.onMarkupDeleteEditionBinded);\n\n  var editMode = this.editMode;\n  if (editMode) {\n    var selectedMarkup = editMode.getSelection();\n    if (selectedMarkup === markup) {\n      this.selectMarkup(null);\n    }\n  }\n};\n\n//// Markups style /////////////////////////////////////////////////////////////////////////////////////////////////\n\nMarkupsCore.prototype.setStyle = function (style) {\n\n  var styles = this.styles;\n  var editMode = this.editMode;\n\n  (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_4__.copyStyle)(style, styles[editMode.type]);\n  // copyStyle(styles[editMode.type], style);\n  editMode.setStyle(styles[editMode.type]);\n};\n\nMarkupsCore.prototype.getStyle = function () {\n\n  return (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_4__.cloneStyle)(this.styles[this.editMode.type]);\n};\n\nMarkupsCore.prototype.getDefaultStyle = function () {\n\n  var defaultStyleAttributes = [\n  'stroke-width',\n  'font-size',\n  'font-family',\n  'font-style',\n  'font-weight',\n  'stroke-color',\n  'stroke-opacity',\n  'fill-color',\n  'text-data',\n  'fill-opacity'];\n  this.defaultStyle = this.defaultStyle || (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_4__.createStyle)(defaultStyleAttributes, this);\n\n  return this.defaultStyle;\n};\n\n//// Markups depth order ///////////////////////////////////////////////////////////////////////////////////////////\n\n/**\n *\n * @param markup\n * @private\n */\nproto.bringToFront = function (markup) {\n\n  this.sendMarkupTo(markup, this.markups.length - 1);\n};\n\n/**\n *\n * @param markup\n * @private\n */\nproto.sendToBack = function (markup) {\n\n  this.sendMarkupTo(markup, 0);\n};\n\n/**\n *\n * @param markup\n * @private\n */\nproto.bringForward = function (markup) {\n\n  var markupIndex = this.markups.indexOf(markup);\n  this.sendMarkupTo(markup, markupIndex + 1);\n};\n\n/**\n *\n * @param markup\n * @private\n */\nproto.bringBackward = function (markup) {\n\n  var markupIndex = this.markups.indexOf(markup);\n  this.sendMarkupTo(markup, markupIndex - 1);\n};\n\n/**\n *\n * @param markup\n * @param index\n * @private\n */\nproto.sendMarkupTo = function (markup, index) {\n\n  var markups = this.markups;\n  var markupIndex = markups.indexOf(markup);\n\n  if (markupIndex === -1 || index < 0 || index >= markups.length) {\n    return;\n  }\n\n  markups.splice(markupIndex, 1);\n  index = markupIndex > index ? index - 1 : index;\n  markups.splice(index, 0, markup);\n\n  // TODO: Add markup in right position not always at the end.\n  markup.setParent(null);\n  if (this.activeLayer) {\n    var parent = this.svgLayersMap[this.activeLayer].svg;\n    markup.setParent(parent);\n  } else {\n    markup.setParent(this.editModeSvgLayerNode.svg);\n  }\n};\n\n\n/**\n * Loads data (SVG string) for all markups in a specified layer (layerId) to the Viewer's canvas.<br>\n *\n * See also\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#unloadmarkups-layerid|unloadMarkups()}, and\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#hidemarkups-layerid|hideMarkups()}.\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore.loadMarkups\n * @method loadMarkups\n *\n * @param {string} markupString - SVG string with markups. See also {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#generatedata|generateData()}.\n * @param {string} layerId - Identifier for the layer where the markup should be loaded to. Example \"Layer1\".\n * @returns {boolean} Whether the markup string was able to be loaded successfully\n */\nMarkupsCore.prototype.loadMarkups = function (markupString, layerId) {\n\n  if (this.duringEditMode) {\n    console.warn(\"Markups will not be loaded during the edit mode\");\n    return false;\n  }\n\n  if (!this.duringViewMode) {\n    return false;\n  }\n\n  if (!layerId) {\n    console.warn(\"loadMarkups failed; missing 2nd argument 'layerId'\");\n    return false;\n  }\n\n  // Can it be parsed into SVG?\n  var parent = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_3__.stringToSvgNode)(markupString);\n  if (!parent) {\n    return false;\n  }\n\n  // If the supplied layerId exists in the svg layers map and there are children in the svg then return false.\n  if (layerId in this.svgLayersMap && this.svg.childNodes.length > 0) {\n    console.warn(\"This layer is already loaded, will not load again.\");\n    return false;\n  }\n  this.activeLayer = layerId;\n  var svgLayerNode = this.svgLayersMap[layerId];\n\n  // if the layer exists, delete it\n  if (svgLayerNode)\n  delete this.svgLayersMap[layerId];\n\n  // create an empty parent svg layer node for layerId\n  // Child markups will get added to th parent svg layer node in the addMarkup function\n  var newSvg = this.createLayerNode();\n\n  svgLayerNode = {\n    markups: [],\n    svgString: markupString,\n    svg: newSvg\n  };\n  this.svgLayersMap[layerId] = svgLayerNode;\n\n  var children = parent.childNodes;\n  for (var i = 0; i < children.length; i++) {\n    var child = children[i];\n    var markup = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_3__.createMarkupFromSVG)(child, this);\n    // Disable markups if already in edit mode and the active layer is different\n    if (markup && this.duringEditMode && this.editingLayer !== this.activeLayer) {\n      markup.disableInteractions(true);\n    }\n\n    if (!markup && child.localName !== \"metadata\") {\n      // Append child removes it from parent and copies it over to the new svg layer node,\n      // so we need to reduce index by 1 to continue proper iteration\n      svgLayerNode.svg.appendChild(child);\n      i--;\n      if (typeof child.setAttribute === 'function') {\n        child.setAttribute(\"pointer-events\", \"none\");\n      }\n    }\n  }\n\n  var svgParentNode = this.svgLayersMap[this.activeLayer].svg;\n\n  this.svg.appendChild(svgParentNode);\n  // If already in an edit mode layer then reassign active layer to edit layer\n  if (this.duringEditMode && this.editingLayer !== this.activeLayer) {\n    this.activeLayer = this.editingLayer;\n    if (this.editingLayer)\n    this.markups = this.svgLayersMap[this.activeLayer].markups.slice();\n  }\n  return true;\n};\n\n/**\n * TODO: Probably this function needs to be moved to MarkupCoreUtils.js\n * Creates a new layer node\n * */\n\nproto.createLayerNode = function () {\n\n  var newSvgLayerNode = this.createSvgElement('g');\n  newSvgLayerNode.setAttribute('cursor', 'default');\n  return newSvgLayerNode;\n};\n\n/**\n * Revert any changes made to the specific layer.\n *\n * See also {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#loadmarkups-markupstring-layerid|loadMarkups()} and\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#entereditmode-layerid|enterEditMode()}.\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore.revertLayer\n * @method revertLayer\n *\n * @param {string} layerId - ID of the layer to revert any changes that were made to it.\n * @returns {boolean} true if the layer was unloaded, false if the layer was not unloaded.\n */\nMarkupsCore.prototype.revertLayer = function (layerId) {\n  if (!layerId) {\n    console.warn(\"revertLayer failed because no layerId was supplied.\");\n    return false;\n  }\n  var svgLayerNode = this.svgLayersMap[layerId];\n  if (!svgLayerNode) {\n    console.warn(\"The supplied layer does not exist.\");\n    return false;\n  }\n  var inEditMode = this.duringEditMode;\n  // Leave editMode to revert a layer\n  if (inEditMode)\n  this.leaveEditMode();\n\n  // keep track of previous global markups.\n  var currentMarkups = this.markups.slice();\n  // Set the global markups to the markups in the current layer. These ones get removed in the unloadMarkups\n  this.markups = svgLayerNode.markups;\n  var layerSvg = svgLayerNode.svgString;\n  this.unloadMarkups(layerId);\n  this.loadMarkups(layerSvg, layerId);\n  // Assign markups\n  if (this.editingLayer) {\n    if (this.editingLayer !== layerId) {\n      this.markups = currentMarkups;\n      var layerObject = this.svgLayersMap[this.editingLayer];\n      if (layerObject) {\n        layerObject.markups = currentMarkups;\n      }\n    }\n  } else {\n    if (this.editModeSvgLayerNode) {\n      this.editModeSvgLayerNode.markups = currentMarkups;\n    }\n  }\n\n  if (this.editingLayer || this.editingLayer.length === 0) {\n    var svg = this.editingLayer.length === 0 ? this.editModeSvgLayerNode.svg : this.svgLayersMap[this.editingLayer].svg;\n    if (svg.parentNode == this.svg) {\n      this.svg.removeChild(svg);\n      this.svg.appendChild(svg);\n    }\n  }\n  return true;\n};\n\n/**\n * Removes markups from the DOM (Document Object Model). This is helpful for freeing up memory.<br>\n *\n * See also\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#loadmarkups-markupstring-layerid|loadMarkups()},\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#unloadmarkupsalllayers-1|unloadMarkupsAllLayers()},\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#clear|clear()},\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#hide-1|hide()}, and\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#hidemarkups-layerid|hideMarkups()}.\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore.unloadMarkups\n * @method unloadMarkups\n *\n * @param {string} layerId - ID of the layer containing all markups to unload (from the DOM).\n * @returns {boolean} Whether the operation succeeded or not.\n */\nMarkupsCore.prototype.unloadMarkups = function (layerId) {\n\n  if (!layerId) {\n    console.warn(\"unloadMarkups failed; No layerId provided.\");\n    return false;\n  }\n\n  var svgLayerNode = this.svgLayersMap[layerId];\n  if (!svgLayerNode) {\n    // TODO: Do we need to log anything here?\n    console.warn('No such layer exists to unload.');\n    return false;\n  }\n\n  var layerMarkups = svgLayerNode.markups.slice();\n  var numMarkups = layerMarkups.length;\n  for (var i = 0; i < numMarkups; i++) {\n    var markup = layerMarkups[i];\n    this.removeMarkup(markup);\n    markup.destroy();\n  }\n\n  // Remove the markups in the layer from the svg canvas\n  if (svgLayerNode.svg.parentNode === this.svg)\n  this.svg.removeChild(svgLayerNode.svg);\n\n  // Delete the layer from the layer map.\n  delete this.svgLayersMap[layerId];\n  // Reset the active layer if the supplied layer id is the same as the active layer\n  if (this.activeLayer.toString() === layerId.toString()) {\n    this.activeLayer = '';\n  }\n  // Leave edit mode and reset the editing layer if the supplied layer is the same as the current editing layer\n  if (this.editingLayer && this.editingLayer.toString() === layerId.toString()) {\n    this.editingLayer = '';\n    this.duringEditMode && this.leaveEditMode();\n  }\n\n  return true;\n};\n\n/**\n * Removes all markups loaded so far. Great for freeing up memory.\n *\n * See also\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#loadmarkups-markupstring-layerid|loadMarkups()},\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#unloadmarkups-layerid|unloadMarkups()},\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#clear|clear()},\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#hide-1|hide()}, and\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#hidemarkups-layerid|hideMarkups()}.\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore.unloadMarkupsAllLayers\n * @method unloadMarkupsAllLayers\n */\nMarkupsCore.prototype.unloadMarkupsAllLayers = function () {\n  this.activeLayer = '';\n  var self = this;\n\n  //this is specific to the editModeSvgLayerNode, enterEditMode().\n  var unloadSvgLayerNode = function () {\n    if (self.editModeSvgLayerNode) {\n      var layerMarkups = self.editModeSvgLayerNode.markups.slice();\n      var numMarkups = layerMarkups.length;\n      for (var i = 0; i < numMarkups; i++) {\n        var markup = layerMarkups[i];\n        self.removeMarkup(markup);\n        markup.destroy();\n      }\n    }\n  };\n\n  // Unload the markups in the editModeSvgLayerNode\n  unloadSvgLayerNode();\n  var layerId;\n  for (layerId in this.svgLayersMap) {\n    this.unloadMarkups(layerId);\n  }\n};\n\n/**\n * Hides all markups in a specified layer. Note that hidden markups will not be unloaded.\n * Use the {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#showmarkups-layerid|showMarkups()} method to make\n * them visible again; no additional parsing is required.\n *\n * See also\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#showmarkups-layerid|showMarkups()},\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#unloadmarkups-layerid|unloadMarkups()}, and\n * {@link /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#loadmarkups-markupstring-layerid|loadMarkups()}.\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore.hideMarkups\n * @method hideMarkups\n *\n * @param {string} layerId - ID of the layer containing all markups that should be hidden (in the DOM).\n * @returns {boolean} Whether the operation succeeded or not.\n */\nMarkupsCore.prototype.hideMarkups = function (layerId) {\n\n  if (!layerId) {\n    console.warn(\"hideMarkups failed; No layerId provided.\");\n    return false;\n  }\n\n  var svgLayerNode = this.svgLayersMap[layerId];\n  if (!svgLayerNode) {\n    // TODO: Do we need to log anything here?\n    return false;\n  }\n  var layerSvg = svgLayerNode.svg;\n\n  // Return false if the layer svg is not present in the main svg\n  if (layerSvg.parentNode != this.svg) {\n    console.warn(\"Layer is already hidden.\");\n    return false;\n  }\n  // remove the layer svg from the main svg\n  this.svg.removeChild(layerSvg);\n  return true;\n};\n\n/**\n * Unhides a layer of hidden markups\n * ({@link  /en/docs/viewer/v7/reference/Extensions/MarkupsCore/#hidemarkups-layerid|hideMarkups()}).\n *\n * @memberof Autodesk.Viewing.Extensions.MarkupsCore\n * @alias Autodesk.Viewing.Extensions.MarkupsCore.showMarkups\n * @method showMarkups\n *\n * @param {string} layerId - ID of the layer containing all markups to unload (from the DOM).\n * @returns {boolean} Whether the operation succeeded or not.\n */\nMarkupsCore.prototype.showMarkups = function (layerId) {\n\n  if (!layerId) {\n    console.warn(\"showMarkups failed; No layerId provided.\");\n    return false;\n  }\n\n  var svgLayerNode = this.svgLayersMap[layerId];\n  if (!svgLayerNode) {\n    // TODO: Do we need to log anything here?\n    return false;\n  }\n  // Append the layer svg to the main svg\n  var layerSvg = svgLayerNode.svg;\n  this.svg.appendChild(layerSvg);\n};\n\n//// Client Space <-> Markup Space /////////////////////////////////////////////////////////////////////////////////\n\nproto.positionFromClientToMarkups = function (x, y) {\n\n  return this.clientToMarkups(x, y);\n};\n\nproto.positionFromMarkupsToClient = function (x, y) {\n\n  return this.markupsToClient(x, y);\n};\n\nproto.vectorFromClientToMarkups = function (x, y) {\n\n  var a = this.clientToMarkups(0, 0);\n  var b = this.clientToMarkups(x, y);\n\n  return { x: b.x - a.x, y: b.y - a.y };\n};\n\nproto.vectorFromMarkupsToClient = function (x, y) {\n\n  var a = this.markupsToClient(0, 0);\n  var b = this.markupsToClient(x, y);\n\n  return { x: b.x - a.x, y: b.y - a.y };\n};\n\nproto.sizeFromClientToMarkups = function (w, h) {\n\n  var a = this.clientToMarkups(0, 0);\n  var b = this.clientToMarkups(w, h);\n\n  return { x: Math.abs(b.x - a.x), y: Math.abs(b.y - a.y) };\n};\n\nproto.sizeFromMarkupsToClient = function (w, h) {\n\n  var a = this.markupsToClient(0, 0);\n  var b = this.markupsToClient(w, h);\n\n  return { x: Math.abs(b.x - a.x), y: Math.abs(b.y - a.y) };\n};\n\nproto.markupsToClient = function (x, y) {\n\n  var camera = this.viewer.impl.camera;\n  var point = new THREE.Vector3(x, y, 0);\n\n  if (camera.isPerspective) {\n\n    var bb = this.viewer.impl.getCanvasBoundingClientRect();\n\n    point.x = point.x / PERSPECTIVE_MODE_SCALE * (bb.height * 0.5) + bb.width * 0.5;\n    point.y = -point.y / PERSPECTIVE_MODE_SCALE * (bb.height * 0.5) + bb.height * 0.5;\n  } else {\n\n    point.applyMatrix4(camera.matrixWorld);\n    point.sub(camera.position);\n\n    // In LMV model is offset by a global offset, we correct this offset when transforming to markups space, so\n    // exported markups don't have the offset.\n    var globalOffset = this.viewer.model && this.viewer.model.getData().globalOffset;\n    if (globalOffset) {\n      point.sub(globalOffset);\n    }\n\n    point = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_3__.worldToClient)(point, this.viewer, false);\n    point.z = 0;\n  }\n\n  return point;\n};\n\nproto.clientToMarkups = function (x, y) {\n\n  var camera = this.viewer.impl.camera;\n  var point = new THREE.Vector3(x, y, 0);\n\n  if (camera.isPerspective) {\n\n    var bb = this.viewer.impl.getCanvasBoundingClientRect();\n\n    // Multiply by PERSPECTIVE_MODE_SCALE because Firfox on Windows machines have problems to deal with very small paths.\n    point.x = (point.x - bb.width * 0.5) / (bb.height * 0.5) * PERSPECTIVE_MODE_SCALE;\n    point.y = -(point.y - bb.height * 0.5) / (bb.height * 0.5) * PERSPECTIVE_MODE_SCALE;\n  } else {\n\n    point = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_3__.clientToWorld)(point.x, point.y, 0, this.viewer);\n\n    // In LMV model is offset by a global offset, we correct this offset when transforming to markups space, so\n    // exported markups don't have the offset.\n    var globalOffset = this.viewer.model && this.viewer.model.getData().globalOffset;\n    if (globalOffset) {\n      point.add(globalOffset);\n    }\n\n    point.add(camera.position);\n    point.applyMatrix4(camera.matrixWorldInverse);\n    point.z = 0;\n  }\n\n  return point;\n};\n\nproto.getSvgViewBox = function (clientWidth, clientHeight) {\n\n  // Get pan offset.\n  var lt = this.clientToMarkups(0, 0);\n  var rb = this.clientToMarkups(clientWidth, clientHeight);\n\n  var l = Math.min(lt.x, rb.x);\n  var t = Math.min(lt.y, rb.y);\n  var r = Math.max(lt.x, rb.x);\n  var b = Math.max(lt.y, rb.y);\n\n  return [l, t, r - l, b - t].join(' ');\n};\n\nproto.getBounds = function () {\n\n  return this.bounds;\n};\n\nproto.getMousePosition = function () {\n\n  // When snapping, use the snap position instead of the mouse position\n  // as the start point of the markup drawing.\n  // For now only works for 2D.\n  if (this.editMode.useWithSnapping() && this.snapper && this.snapper.isSnapped()) {\n    return this.getSnapPosition();\n  }\n  return this.input.getMousePosition();\n};\n\nproto.getSnapPosition = function () {\n\n  var point = MeasureCommon.getSnapResultPosition(this.snapper.getSnapResult(), this.viewer);\n  var p = this.project(point);\n  return { x: p.x, y: p.y };\n};\n\nproto.project = function (position) {\n  var camera = this.viewer.navigation.getCamera();\n  var containerBounds = this.viewer.navigation.getScreenViewport();\n\n  var p = new THREE.Vector3().copy(position);\n  p.project(camera);\n\n  return new THREE.Vector3(Math.round((p.x + 1) / 2 * containerBounds.width),\n  Math.round((-p.y + 1) / 2 * containerBounds.height), p.z);\n};\n\n//// Handled Events ////////////////////////////////////////////////////////////////////////////////////////////////\n\nproto.onCameraChange = function () {\n\n  // Update annotations' parent transform.\n  var viewBox = this.getSvgViewBox(this.bounds.width, this.bounds.height);\n\n  // HACK, for some reason the 2nd frame returns an empty canvas.\n  // The reason why this happens is that the code above calls into the viewer\n  // and a division by zero occurs due to LMV canvas having zero width and height\n  // When we detect this case, avoid setting the viewBox value and rely on one\n  // previously set.\n  if (viewBox === \"NaN NaN NaN NaN\") {\n    return;\n  }\n\n  if (this.svg) {\n    this.svg.setAttribute('viewBox', viewBox);\n  }\n\n\n  var editMode = this.editMode;\n\n  if (editMode) {\n    // Edit frame has to be updated, re-setting the selected markup does the job.\n    if (this.editFrame.isActive()) {\n      var selectedMarkup = editMode.getSelection();\n      this.editFrame.setMarkup(selectedMarkup);\n    }\n\n    if (editMode.updateTextBoxStyle) {\n      editMode.updateTextBoxStyle();\n    }\n\n    if (this.snapper && editMode.useWithSnapping()) {\n      this.snapper.indicator.render();\n    }\n  }\n};\n\nproto.onViewerResize = function (event) {\n\n  this.bounds.x = 0;\n  this.bounds.y = 0;\n  this.bounds.width = event.width;\n  this.bounds.height = event.height;\n\n  if (this.svg) {\n    this.svg.setAttribute('width', this.bounds.width);\n    this.svg.setAttribute('height', this.bounds.height);\n  }\n\n  this.onCameraChange();\n};\n\nproto.callSnapperMouseDown = function () {\n\n  // Disable snapper in freehand mode\n  if (this.editMode && this.editMode.useWithSnapping()) {\n    var mousePosition = this.input.getMousePosition();\n    if (this.snapper) {\n      this.snapper.onMouseDown(mousePosition);\n      this.snapper.indicator.render();\n    }\n  } else {\n    // Clear the snapper when selecting a markup that does not allow snapping.\n    if (this.snapper) {\n      this.snapper.clearSnapped();\n      this.snapper.indicator.clearOverlays();\n    }\n  }\n};\n\nproto.callSnapperMouseMove = function () {\n\n  if (this.editMode && this.editMode.useWithSnapping()) {\n    var mousePosition = this.input.getMousePosition();\n    if (this.snapper) {\n      this.snapper.onMouseMove(mousePosition);\n      this.snapper.indicator.render();\n    }\n  }\n};\n\n/**\n * Handler to mouse move events, used to create markups.\n *\n * @param event\n * @returns {boolean} - if the event was handed by the editor\n * @private\n */\nproto.onMouseMove = function (event) {\n\n  if (this.navigating) {\n    return false;\n  }\n\n  let eventHandled = false;\n  if (this.editFrame.isActive() && event.type === 'mousemove') {\n    eventHandled = this.editFrame.onMouseMove(event);\n  }\n\n  this.callSnapperMouseMove();\n\n  eventHandled = this.editMode && this.editMode.onMouseMove(event) || eventHandled;\n\n  return eventHandled;\n};\n\n/**\n * Handler to mouse down events, used to start creation markups.\n *\n * @param event\n * @private\n */\nproto.onMouseDown = function (event) {\n\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_3__.dismissLmvHudMessage)();\n\n  this.callSnapperMouseDown();\n\n  var bounds = this.getBounds();\n  var mousePosition = this.getMousePosition();\n\n  if (mousePosition.x >= bounds.x && mousePosition.x <= bounds.x + bounds.width &&\n  mousePosition.y >= bounds.y && mousePosition.y <= bounds.y + bounds.height) {\n    this.editMode.onMouseDown(event);\n  }\n\n  // TODO: There is a better way to do this, implement when undo/redo group.\n  if (!this.editMode.creating && event.target === this.svg) {\n    this.selectMarkup(null);\n  }\n  this.ignoreNextMouseUp = false;\n};\n\n/**\n *\n * @param {*} event\n * @returns {boolean} - true / false means the editor did / didn't handle the event\n * @private\n */\nproto.onMouseUp = function (event) {\n\n  if (this.navigating) {\n    return false;\n  }\n\n  if (this.editFrame.isActive()) {\n    this.editFrame.onMouseUp(event);\n    return true;\n  }\n\n  if (!this.ignoreNextMouseUp) {\n    return this.editMode.onMouseUp(event);\n  }\n};\n\nproto.onMouseDoubleClick = function (event) {\n\n  if (this.navigating) {\n    return;\n  }\n\n  if (this.editFrame.isActive()) {\n    return;\n  }\n\n  this.editMode.onMouseDoubleClick(event);\n};\n\nproto.onUserCancel = function () {\n  if (!this.editMode) {\n    return;\n  } else\n  if (this.editMode.creating) {\n    this.editMode.creationCancel();\n  } else {\n    this.editMode.unselect();\n  }\n};\n\n/**\n *\n * @param event\n * @private\n */\nproto.onMarkupSelected = function (event) {\n\n  this.selectMarkup(event.markup);\n  this.dispatchEvent(event);\n};\n\nproto.onMarkupEnterEdition = function () {\n\n};\n\nproto.onMarkupCancelEdition = function () {\n\n  this.onUserCancel();\n};\n\nproto.onMarkupDeleteEdition = function (event) {\n\n  this.removeMarkup(event.markup);\n  this.editMode.deleteMarkup();\n};\n\nAutodesk.Viewing.theExtensionManager.registerExtension('Autodesk.Viewing.MarkupsCore', MarkupsCore);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL01hcmt1cHNDb3JlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBYTs7QUFFd0Q7QUFDdEI7QUFDRjtBQU1nQjtBQUNLO0FBQ1g7QUFDRTtBQUNqQjtBQUNFO0FBQ2lCOztBQUVwQixDQUFDO0FBQ2pCLENBQUM7OztBQUd4QixJQUFJNEIsYUFBYSxHQUFHQyxRQUFRLENBQUNDLE9BQU8sQ0FBQ0YsYUFBYTs7QUFFbEQsSUFBSUcsc0JBQXNCLEdBQUcsSUFBSTs7O0FBR2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxTQUFTQyxXQUFXQSxDQUFDQyxNQUFNLEVBQUVDLE9BQU8sRUFBRTs7RUFFekNMLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDSyxTQUFTLENBQUNDLElBQUksQ0FBQyxJQUFJLEVBQUVILE1BQU0sRUFBRUMsT0FBTyxDQUFDOztFQUV0RCxJQUFJLENBQUNBLE9BQU8sR0FBRyxJQUFJLENBQUNBLE9BQU8sSUFBSSxDQUFDLENBQUM7RUFDakMsSUFBSSxDQUFDRyxPQUFPLEdBQUcsRUFBRTtFQUNqQixJQUFJLENBQUNDLE1BQU0sR0FBRyxDQUFDLENBQUM7O0VBRWhCLElBQUksQ0FBQ0MsV0FBVyxHQUFHLEVBQUU7RUFDckIsSUFBSSxDQUFDQyxjQUFjLEdBQUcsS0FBSztFQUMzQixJQUFJLENBQUNDLGNBQWMsR0FBRyxLQUFLOztFQUUzQixJQUFJLENBQUNDLFlBQVksR0FBRyxDQUFDLENBQUM7O0VBRXRCO0VBQ0EsSUFBSSxDQUFDQyxhQUFhLEdBQUcsSUFBSTNDLDhFQUFpQixDQUFFLEVBQUcsQ0FBQyxDQUFDLENBQUM7RUFDbEQsSUFBSSxDQUFDMkMsYUFBYSxDQUFDQyxnQkFBZ0IsQ0FBQzNDLGdFQUFrQyxFQUFFLElBQUksQ0FBQzZDLDBCQUEwQixDQUFDQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7O0VB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QUFvQixHQUFHLFlBQVc7O0FBRXhDLENBQUM7O0FBRURlLEtBQUssQ0FBQ2IscUJBQXFCLEdBQUcsWUFBVzs7RUFFckMsSUFBSSxDQUFDK1UsWUFBWSxDQUFDLENBQUM7QUFDdkIsQ0FBQzs7QUFFRGxVLEtBQUssQ0FBQ1gscUJBQXFCLEdBQUcsVUFBU1gsS0FBSyxFQUFFOztFQUUxQyxJQUFJLENBQUNrSSxZQUFZLENBQUNsSSxLQUFLLENBQUM0RixNQUFNLENBQUM7RUFDL0IsSUFBSSxDQUFDZSxRQUFRLENBQUN5SSxZQUFZLENBQUMsQ0FBQztBQUNoQyxDQUFDOztBQUVEeFIsUUFBUSxDQUFDQyxPQUFPLENBQUM4WCxtQkFBbUIsQ0FBQ0MsaUJBQWlCLENBQUMsOEJBQThCLEVBQUU3WCxXQUFXLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9NYXJrdXBzQ29yZS5qcz9lMjQ4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRWRpdEFjdGlvbk1hbmFnZXIgfSBmcm9tICcuL2VkaXQtYWN0aW9ucy9FZGl0QWN0aW9uTWFuYWdlcic7XG5pbXBvcnQgKiBhcyBNYXJrdXBFdmVudHMgZnJvbSAnLi9NYXJrdXBFdmVudHMnO1xuaW1wb3J0ICogYXMgTWFya3VwVHlwZXMgZnJvbSAnLi9NYXJrdXBUeXBlcyc7XG5pbXBvcnQgeyBhZGRUcmFpdEV2ZW50RGlzcGF0Y2hlciwgY3JlYXRlU3ZnRWxlbWVudCwgc2V0U3ZnUGFyZW50QXR0cmlidXRlcyxcbiAgICBNQVJLVVBfREVGQVVMVF9TVFJPS0VfV0lEVEhfSU5fUElYRUxTLCBNQVJLVVBfREVGQVVMVF9GT05UX1dJRFRIX0lOX1BJWEVMUyxcbiAgICBoaWRlTG12VWksIHJlc3RvcmVMbXZVaSwgZGlzbWlzc0xtdkh1ZE1lc3NhZ2UsXG4gICAgcmVtb3ZlQWxsTWV0YWRhdGEsIHRyYW5zZmVyQ2hpbGROb2RlcywgYWRkU3ZnTWV0YWRhdGEsXG4gICAgc3ZnTm9kZVRvU3RyaW5nLCBjaGVja1BvbHlnb24sIHN0cmluZ1RvU3ZnTm9kZSwgY3JlYXRlTWFya3VwRnJvbVNWRyxcbiAgICB3b3JsZFRvQ2xpZW50LCBjbGllbnRUb1dvcmxkIH0gZnJvbSAnLi9NYXJrdXBzQ29yZVV0aWxzJztcbmltcG9ydCB7IGNsb25lU3R5bGUsIGNvcHlTdHlsZSwgY3JlYXRlU3R5bGUgfSBmcm9tICcuL1N0eWxlVXRpbHMnO1xuaW1wb3J0IHsgQ2xpcGJvYXJkIH0gZnJvbSAnLi9lZGl0LWNsaXBib2FyZC9DbGlwYm9hcmQnO1xuaW1wb3J0IHsgSW5wdXRIYW5kbGVyIH0gZnJvbSAnLi9lZGl0LWlucHV0L0lucHV0SGFuZGxlcic7XG5pbXBvcnQgeyBFZGl0RnJhbWUgfSBmcm9tICcuL0VkaXRGcmFtZSc7XG5pbXBvcnQgeyBNYXJrdXBUb29sIH0gZnJvbSAnLi9NYXJrdXBUb29sJztcbmltcG9ydCB7IEVkaXRNb2RlQXJyb3cgfSBmcm9tICcuL2VkaXQtbW9kZXMvRWRpdE1vZGVBcnJvdyc7XG5cbmltcG9ydCAnLi9lZGl0LW1vZGVzL0J1aWx0aW5FZGl0TW9kZXMnOyAvLyBJTVBPUlRBTlQhISBIQVMgU0lERSBFRkZFQ1RTXG5pbXBvcnQgJy4vTWFya3Vwcy5jc3MnOyAvLyBJTVBPUlRBTlQhIVxuXG5cbnZhciBNZWFzdXJlQ29tbW9uID0gQXV0b2Rlc2suVmlld2luZy5NZWFzdXJlQ29tbW9uO1xuXG52YXIgUEVSU1BFQ1RJVkVfTU9ERV9TQ0FMRSA9IDEwMDA7XG5cblxuLyoqXG4gKiBFeHRlbnNpb24gdGhhdCBhbGxvd3MgZW5kIHVzZXJzIHRvIGRyYXcgMkQgbWFya3VwcyBvbiB0b3Agb2YgMkQgYW5kIDNEIG1vZGVscy5cbiAqXG4gKiBAdHV0b3JpYWwgZmVhdHVyZV9tYXJrdXBcbiAqIEBwYXJhbSB7QXV0b2Rlc2suVmlld2luZy5WaWV3ZXIzRH0gdmlld2VyIC0gVmlld2VyIGluc3RhbmNlIHVzZWQgdG8gb3BlcmF0ZSBvbi5cbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gU2FtZSBEaWN0aW9uYXJ5IG9iamVjdCBwYXNzZWQgaW50byB7QGxpbmsgQXV0b2Rlc2suVmlld2luZy5WaWV3ZXIzRHxWaWV3ZXIzRH0ncyBjb25zdHJ1Y3Rvci5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubWFya3VwRGlzYWJsZUhvdGtleXNdIC0gRGlzYWJsZXMgaG90a2V5cyBmb3IgY29weSwgY3V0LCBwYXN0ZSwgZHVwbGljYXRlLCB1bmRvLCByZWRvIGFuZCBkZXNlbGVjdC5cbiAqIEBwYXJhbSB7QXV0b2Rlc2suVmlld2luZy5Ub29sSW50ZXJmYWNlfSBbb3B0aW9ucy5tYXJrdXBUb29sQ2xhc3NdIC0gQ2xhc3Mgb3ZlcnJpZGUgZm9yIGlucHV0IGhhbmRsaW5nLlxuICogVXNlIGl0IHRvIG92ZXJyaWRlL2V4dGVuZCBkZWZhdWx0IGhvdGtleXMgYW5kL29yIG1vdXNlL2dlc3R1cmUgaW5wdXQuXG4gKiBAbWVtYmVyb2YgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zXG4gKiBAYWxpYXMgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlXG4gKiBAc2VlIHtAbGluayBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbn0gZm9yIGNvbW1vbiBpbmhlcml0ZWQgbWV0aG9kcy5cbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZnVuY3Rpb24gTWFya3Vwc0NvcmUodmlld2VyLCBvcHRpb25zKSB7XG5cbiAgICBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbi5jYWxsKHRoaXMsIHZpZXdlciwgb3B0aW9ucyk7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSB0aGlzLm9wdGlvbnMgfHwge307XG4gICAgdGhpcy5tYXJrdXBzID0gW107XG4gICAgdGhpcy5zdHlsZXMgPSB7fTtcblxuICAgIHRoaXMuYWN0aXZlTGF5ZXIgPSAnJztcbiAgICB0aGlzLmR1cmluZ1ZpZXdNb2RlID0gZmFsc2U7XG4gICAgdGhpcy5kdXJpbmdFZGl0TW9kZSA9IGZhbHNlO1xuXG4gICAgdGhpcy5zdmdMYXllcnNNYXAgPSB7fTtcblxuICAgIC8vIEFkZCBhY3Rpb24gbWFuYWdlci5cbiAgICB0aGlzLmFjdGlvbk1hbmFnZXIgPSBuZXcgRWRpdEFjdGlvbk1hbmFnZXIoIDUwICk7IC8vIGhpc3Rvcnkgb2YgNTAgYWN0aW9ucy5cbiAgICB0aGlzLmFjdGlvbk1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihNYXJrdXBFdmVudHMuRVZFTlRfSElTVE9SWV9DSEFOR0VELCB0aGlzLm9uRWRpdEFjdGlvbkhpc3RvcnlDaGFuZ2VkLmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5uZXh0SWQgPSAwOyAvLyBVc2VkIHRvIGlkZW50aWZ5IG1hcmt1cHMgYnkgaWQgZHVyaW5nIGFuIGVkaXQgc2Vzc2lvbi5cblxuICAgIC8vIENsaXBib2FyZC5cbiAgICB0aGlzLmNsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmQodGhpcyk7XG5cbiAgICAvLyBEZWZhdWx0IElucHV0IGhhbmRsZXIuXG4gICAgdGhpcy5pbnB1dCA9IG5ldyBJbnB1dEhhbmRsZXIoKTtcbiAgICB0aGlzLmlucHV0LnNldEdsb2JhbE1hbmFnZXIodGhpcy5nbG9iYWxNYW5hZ2VyKTtcblxuICAgIC8vIEJpbmQgZnVuY3Rpb25zIHNvIHRoZXkgaGF2ZSBhY2Nlc3MgdG8gZ2xvYmFsTWFuYWdlclxuICAgIHRoaXMuY3JlYXRlU3ZnRWxlbWVudCA9IGNyZWF0ZVN2Z0VsZW1lbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLmFkZFN2Z01ldGFkYXRhID0gYWRkU3ZnTWV0YWRhdGEuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNoZWNrUG9seWdvbiA9IGNoZWNrUG9seWdvbi5iaW5kKHRoaXMpO1xuXG4gICAgLy8gRXh0ZW5zaW9uIHdpbGwgZGlzcGF0Y2ggZXZlbnRzLlxuICAgIGFkZFRyYWl0RXZlbnREaXNwYXRjaGVyKHRoaXMpO1xuXG4gICAgY29uc3QgaW5pdFN0cm9rZUFuZEZvbnRXaWR0aHMgPSAobW9kZWwpID0+IHtcbiAgICAgICAgLy8gRm9yIDJkLCBzZXQgdGhlc2Ugd2lkdGhzIG9uY2UsIGFuZCBub3QgcmVjYWxjdWxhdGUgYWdhaW5cbiAgICAgICAgaWYgKG1vZGVsLmlzMmQoKSkge1xuICAgICAgICAgICAgdGhpcy5nZXRTdHJva2VXaWR0aCgpO1xuICAgICAgICAgICAgdGhpcy5nZXRGb250V2lkdGgoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAodmlld2VyLm1vZGVsKSB7XG4gICAgICAgIGluaXRTdHJva2VBbmRGb250V2lkdGhzKHZpZXdlci5tb2RlbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ2FtZXJhIGlzIHJlc2V0IHJpZ2h0IGFmdGVyIGEgbW9kZWwgbG9hZFxuICAgICAgICAvLyBUaGlzIGlzIHRoZSByaWdodCBjYW1lcmEgdG8gdXNlIGZvciB3aWR0aHMgaW5pdGlhbGl6YXRpb25cbiAgICAgICAgdmlld2VyLmFkZEV2ZW50TGlzdGVuZXIoQXV0b2Rlc2suVmlld2luZy5NT0RFTF9BRERFRF9FVkVOVCwgKHsgbW9kZWwgfSkgPT4ge1xuICAgICAgICAgICAgdmlld2VyLmFkZEV2ZW50TGlzdGVuZXIoQXV0b2Rlc2suVmlld2luZy5DQU1FUkFfQ0hBTkdFX0VWRU5ULCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaW5pdFN0cm9rZUFuZEZvbnRXaWR0aHMobW9kZWwpO1xuICAgICAgICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgICAgICB9LCB7IG9uY2U6IHRydWUgfSk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlZCBldmVudHMuXG4gICAgdGhpcy5vbkNhbWVyYUNoYW5nZUJpbmRlZCA9IHRoaXMub25DYW1lcmFDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uVmlld2VyUmVzaXplQmluZGVkID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgLy8gVGhpcyBpcyB1Z2x5LCBidXQgd2UgbmVlZCB0byBkbyB0aGlzIHR3aWNlXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgLy8gRmlyc3QgdXNhZ2UgaXMgdG8gYXZvaWQgYSBibGlua2luZyBzY2VuYXJpb1xuICAgICAgICBzZWxmLm9uVmlld2VyUmVzaXplKGV2ZW50KTtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAvLyBTZWNvbmQgb25lIGlzIHRvIGFjdHVhbGx5IG1ha2UgaXQgd29yayBvbiBzb21lIHJlc2l6ZSBzY2VuYXJpb3MuXG4gICAgICAgICAgICAvLyBDaGVjayB0aGUgdW5saWtlbHkgc2NlbmFyaW8gdGhhdCB3ZSBhcmUgbm8gbG9uZ2VyIGluIHZpZXcgbW9kZS5cbiAgICAgICAgICAgIGlmIChzZWxmLmR1cmluZ1ZpZXdNb2RlKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5vblZpZXdlclJlc2l6ZShldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0uYmluZCh0aGlzKTtcblxuICAgIHRoaXMub25NYXJrdXBTZWxlY3RlZEJpbmRlZCA9IHRoaXMub25NYXJrdXBTZWxlY3RlZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25NYXJrdXBFbnRlckVkaXRpb25CaW5kZWQgPSB0aGlzLm9uTWFya3VwRW50ZXJFZGl0aW9uLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbk1hcmt1cENhbmNlbEVkaXRpb25CaW5kZWQgPSB0aGlzLm9uTWFya3VwQ2FuY2VsRWRpdGlvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25NYXJrdXBEZWxldGVFZGl0aW9uQmluZGVkID0gdGhpcy5vbk1hcmt1cERlbGV0ZUVkaXRpb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uVG9vbENoYW5nZUJpbmRlZCA9IHRoaXMub25Ub29sQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblVuaXRzQ2FsaWJyYXRpb25TdGFydHNCaW5kZWQgPSB0aGlzLm9uVW5pdHNDYWxpYnJhdGlvblN0YXJ0cy5iaW5kKHRoaXMpO1xuXG4gICAgdmlld2VyLmFkZEV2ZW50TGlzdGVuZXIoTWVhc3VyZUNvbW1vbi5FdmVudHMuVU5JVFNfQ0FMSUJSQVRJT05fU1RBUlRTX0VWRU5ULCB0aGlzLm9uVW5pdHNDYWxpYnJhdGlvblN0YXJ0c0JpbmRlZCk7XG59XG5cbk1hcmt1cHNDb3JlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb24ucHJvdG90eXBlKTtcbk1hcmt1cHNDb3JlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE1hcmt1cHNDb3JlO1xuXG52YXIgcHJvdG8gPSBNYXJrdXBzQ29yZS5wcm90b3R5cGU7XG5cbnByb3RvLmxvYWQgPSBhc3luYyBmdW5jdGlvbiAoKSB7XG5cbiAgICAvLyBBZGQgbGF5ZXIgd2hlcmUgYW5ub3RhdGlvbnMgd2lsbCBhY3R1YWxseSBsaXZlXG4gICAgdmFyIHN2ZyA9IHRoaXMuc3ZnID0gdGhpcy5jcmVhdGVTdmdFbGVtZW50KCdzdmcnKTtcbiAgICBzZXRTdmdQYXJlbnRBdHRyaWJ1dGVzKHN2Zyk7XG5cbiAgICAvLyBOT1RFOiBSZXF1aXJlZCBzaW5jZSBMTVYgcmVuZGVycyBZIGNvb3JkaW5hdGVzIHVwd2FyZHMsXG4gICAgLy8gd2hpbGUgYnJvd3NlcidzIFkgY29vcmRpbmF0ZXMgZ29lcyBkb3dud2FyZHMuXG4gICAgLy8gU1ZHIGhhcyAwIDAgYXMgZGVmYXVsdCB0cmFuc2Zvcm0tb3JpZ2luOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9TVkcvQXR0cmlidXRlL3RyYW5zZm9ybS1vcmlnaW5cbiAgICBjb25zdCBzdmdTdHlsZSA9IHN2Zy5zdHlsZTtcbiAgICBzdmdTdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgc3ZnU3R5bGUubGVmdCA9ICcwJztcbiAgICBzdmdTdHlsZS50b3AgPSAnMCc7XG4gICAgc3ZnU3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlKDEsIC0xKSc7XG4gICAgc3ZnU3R5bGUudHJhbnNmb3JtT3JpZ2luID0gJ2NlbnRlciBjZW50ZXInO1xuXG4gICAgdGhpcy5ib3VuZHMgPSB7eDowLCB5OjAsIHdpZHRoOjAsIGhlaWdodDowfTtcblxuICAgIHRoaXMuaW5wdXQuYXR0YWNoVG8odGhpcyk7XG5cbiAgICAvL0luc3RhbnRpYXRlIGVkaXQgZnJhbWUuXG4gICAgdGhpcy5lZGl0RnJhbWUgPSBuZXcgRWRpdEZyYW1lKHRoaXMudmlld2VyLmNvbnRhaW5lciwgdGhpcyk7XG4gICAgdGhpcy5lZGl0RnJhbWUuYWRkRXZlbnRMaXN0ZW5lcihNYXJrdXBFdmVudHMuRVZFTlRfRURJVEZSQU1FX0VESVRJT05fU1RBUlQsIGZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlTWFya3VwSW50ZXJhY3Rpb25zKHRydWUpO30uYmluZCh0aGlzKSk7XG4gICAgdGhpcy5lZGl0RnJhbWUuYWRkRXZlbnRMaXN0ZW5lcihNYXJrdXBFdmVudHMuRVZFTlRfRURJVEZSQU1FX0VESVRJT05fRU5ELCBmdW5jdGlvbigpe3RoaXMuZGlzYWJsZU1hcmt1cEludGVyYWN0aW9ucyhmYWxzZSk7fS5iaW5kKHRoaXMpKTtcblxuICAgIC8vIFJlZ2lzdGVyIHRvb2xcbiAgICB2YXIgdG9vbENsYXNzID0gdGhpcy5vcHRpb25zLm1hcmt1cFRvb2xDbGFzcyB8fCBNYXJrdXBUb29sO1xuICAgIHRoaXMuY2hhbmdlTWFya3VwVG9vbCh0b29sQ2xhc3MsICF0aGlzLm9wdGlvbnMubWFya3VwRGlzYWJsZUhvdGtleXMpO1xuXG4gICAgYXdhaXQgdGhpcy52aWV3ZXIubG9hZEV4dGVuc2lvbignQXV0b2Rlc2suU25hcHBpbmcnKTtcblxuICAgIHRoaXMuc25hcHBlciA9IG5ldyBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuU25hcHBpbmcuU25hcHBlcih0aGlzLnZpZXdlciwge21hcmt1cE1vZGU6dHJ1ZX0pO1xuICAgIHRoaXMudmlld2VyLnRvb2xDb250cm9sbGVyLnJlZ2lzdGVyVG9vbCh0aGlzLnNuYXBwZXIpO1xuXG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIENoYW5nZSB0aGUgbWFya3VwIHRvb2wncyBjbGFzcyBpbiBvcmRlciB0byBpbXBsZW1lbnQgYSBkaWZmZXJlbnQgYmVoYXZpb3VyIHRvIHRoZSBVSS5cbiAqXG4gKiBAcGFyYW0ge0F1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzLkNvcmUuTWFya3VwVG9vbH0gdG9vbENsYXNzIC0gSW1wbGVtZW50YXRpb24gb3IgZXh0ZW5zaW9uIG9mIE1hcmt1cFRvb2wncyBjbGFzcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZW5hYmxlSG90S2V5cyAtIFdoZXRoZXIgdG8gZW5hYmxlIG1hcmt1cCdzIGhvdC1rZXlzIG9yIG5vdC5cbiAqL1xucHJvdG8uY2hhbmdlTWFya3VwVG9vbCA9IGZ1bmN0aW9uKHRvb2xDbGFzcywgZW5hYmxlSG90S2V5cykge1xuICAgIGlmICh0aGlzLm1hcmt1cFRvb2wpIHtcbiAgICAgICAgdGhpcy52aWV3ZXIudG9vbENvbnRyb2xsZXIuZGVyZWdpc3RlclRvb2wodGhpcy5tYXJrdXBUb29sKTtcbiAgICAgICAgdGhpcy5tYXJrdXBUb29sID0gbnVsbDtcbiAgICB9XG5cbiAgICB0aGlzLm1hcmt1cFRvb2wgPSBuZXcgdG9vbENsYXNzKCk7XG4gICAgdGhpcy5tYXJrdXBUb29sLnNldENvcmVFeHRlbnNpb24odGhpcyk7XG4gICAgdGhpcy5tYXJrdXBUb29sLnNldEhvdGtleXNFbmFibGVkKGVuYWJsZUhvdEtleXMpO1xuICAgIHRoaXMudmlld2VyLnRvb2xDb250cm9sbGVyLnJlZ2lzdGVyVG9vbCh0aGlzLm1hcmt1cFRvb2wpO1xufTtcblxucHJvdG8udW5sb2FkID0gZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLmhpZGUoKTtcblxuICAgIHRoaXMuaW5wdXQuZGV0YWNoRnJvbSh0aGlzKTtcblxuICAgIHRoaXMuZWRpdEZyYW1lLnVubG9hZCgpO1xuXG4gICAgaWYgKHRoaXMubWFya3VwVG9vbCkge1xuICAgICAgICB0aGlzLnZpZXdlci50b29sQ29udHJvbGxlci5kZXJlZ2lzdGVyVG9vbCh0aGlzLm1hcmt1cFRvb2wpO1xuICAgICAgICB0aGlzLm1hcmt1cFRvb2wgPSBudWxsO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnNuYXBwZXIpIHtcbiAgICAgICAgdGhpcy52aWV3ZXIudG9vbENvbnRyb2xsZXIuZGVyZWdpc3RlclRvb2wodGhpcy5zbmFwcGVyKTtcbiAgICAgICAgdGhpcy5zbmFwcGVyID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgc3ZnID0gdGhpcy5zdmc7XG4gICAgaWYgKHN2ZyAmJiB0aGlzLm9uTW91c2VEb3duQmluZGVkKSB7XG4gICAgICAgIHN2Zy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMub25Nb3VzZURvd25CaW5kZWQpO1xuICAgICAgICB0aGlzLm9uTW91c2VEb3duQmluZGVkID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHN2Zy5wYXJlbnROb2RlKSB7XG4gICAgICAgIHN2Zy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN2Zyk7XG4gICAgfVxuICAgIHRoaXMuZWRpdE1vZGVTdmdMYXllck5vZGUgPSBudWxsO1xuICAgIHRoaXMuc3ZnID0gbnVsbDtcblxuICAgIHJldHVybiB0cnVlO1xufTtcblxuTWFya3Vwc0NvcmUucHJvdG90eXBlLmdldFN0cm9rZVdpZHRoID0gZnVuY3Rpb24oKSB7XG5cbiAgICBpZiAoIXRoaXMuaW5pdGlhbFN0cm9rZVdpZHRoIHx8ICh0aGlzLnZpZXdlci5tb2RlbCAmJiAhdGhpcy52aWV3ZXIubW9kZWwuaXMyZCgpKSkge1xuICAgICAgICB0aGlzLmluaXRpYWxTdHJva2VXaWR0aCA9IHRoaXMuc2l6ZUZyb21DbGllbnRUb01hcmt1cHMoMCwgTUFSS1VQX0RFRkFVTFRfU1RST0tFX1dJRFRIX0lOX1BJWEVMUykueTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5pbml0aWFsU3Ryb2tlV2lkdGg7XG59O1xuXG5NYXJrdXBzQ29yZS5wcm90b3R5cGUuZ2V0Rm9udFdpZHRoID0gZnVuY3Rpb24oKSB7XG5cbiAgICBpZiAoIXRoaXMuaW5pdGlhbEZvbnRXaWR0aCB8fCAodGhpcy52aWV3ZXIubW9kZWwgJiYgIXRoaXMudmlld2VyLm1vZGVsLmlzMmQoKSkpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsRm9udFdpZHRoID0gdGhpcy5zaXplRnJvbUNsaWVudFRvTWFya3VwcygwLCBNQVJLVVBfREVGQVVMVF9GT05UX1dJRFRIX0lOX1BJWEVMUykueTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5pbml0aWFsRm9udFdpZHRoO1xufTtcblxuLyoqXG4gKiBUb2dnbGUgaW4gYW5kIG91dCBvZiBFZGl0IG1vZGUuIEluIEVkaXQgbW9kZSB0aGUgdXNlciBpcyBhYmxlIHRvIGRyYXcgbWFya3VwcyBvbiB0aGUgY2FudmFzLlxuICpcbiAqIFNlZSBhbHNvXG4gKiB7QGxpbmsgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlLyNlbnRlckVkaXRNb2RlfGVudGVyRWRpdE1vZGUoKX0gYW5kXG4gKiB7QGxpbmsgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlLyNsZWF2ZUVkaXRNb2RlfGxlYXZlRWRpdE1vZGUoKX1cbiAqL1xuTWFya3Vwc0NvcmUucHJvdG90eXBlLnRvZ2dsZUVkaXRNb2RlID0gZnVuY3Rpb24oKSB7XG5cbiAgICBpZiAodGhpcy5kdXJpbmdFZGl0TW9kZSkge1xuICAgICAgICB0aGlzLmxlYXZlRWRpdE1vZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVudGVyRWRpdE1vZGUoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEVuYWJsZXMgbW91c2UgaW50ZXJhY3Rpb25zIGFuZCBtb2JpbGUgZGV2aWNlIGdlc3R1cmVzIG92ZXIgdGhlIFZpZXdlciBjYW52YXMgdG8gY3JlYXRlIG9yIGRyYXcgbWFya3Vwcy5cbiAqXG4gKiBFeGl0IEVkaXQgbW9kZSBieSBjYWxsaW5nIHtAbGluayAvZW4vZG9jcy92aWV3ZXIvdjcvcmVmZXJlbmNlL0V4dGVuc2lvbnMvTWFya3Vwc0NvcmUvI2xlYXZlZWRpdG1vZGUtMXxsZWF2ZUVkaXRNb2RlKCl9LlxuICpcbiAqIFNlZSBhbHNvXG4gKiB7QGxpbmsgL2VuL2RvY3Mvdmlld2VyL3Y3L3JlZmVyZW5jZS9FeHRlbnNpb25zL01hcmt1cHNDb3JlLyNzaG93fHNob3coKX1cbiAqXG4gKiBAbWVtYmVyb2YgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlXG4gKiBAYWxpYXMgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlI2VudGVyRWRpdE1vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBsYXllcklkIC0gW29wdGlvbmFsXSBJZGVudGlmaWVyIGZvciB0aGUgbGF5ZXIgb2YgbWFya3VwcyB0byBiZSBlZGl0ZWQuIEV4YW1wbGUgXCJMYXllcjFcIi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgZWRpdE1vZGUgaXMgYWN0aXZlXG4gKi9cbk1hcmt1cHNDb3JlLnByb3RvdHlwZS5lbnRlckVkaXRNb2RlID0gZnVuY3Rpb24obGF5ZXJJZCkge1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIGxheWVyXG4gICAgICogQHBhcmFtIGRpc2FibGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRpc2FibGVMYXllck1hcmt1cHMobGF5ZXIsIGRpc2FibGUpe1xuICAgICAgICBpZiAobGF5ZXIpe1xuICAgICAgICAgICAgdmFyIGxheWVyTWFya3VwcyA9IGxheWVyLm1hcmt1cHM7XG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGxheWVyTWFya3Vwcy5sZW5ndGg7IGsrKyl7XG4gICAgICAgICAgICAgICAgdmFyIG0gPSBsYXllck1hcmt1cHNba107XG4gICAgICAgICAgICAgICAgbS5kaXNhYmxlSW50ZXJhY3Rpb25zKGRpc2FibGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChsYXllcklkKSB7XG4gICAgICAgIGlmICghdGhpcy5zdmdMYXllcnNNYXBbbGF5ZXJJZF0pIHtcbiAgICAgICAgICAgIC8vIGlmIGxheWVySWQgaXMgc3VwcGxpZWQgYnV0IGl0IGRvZXMgbm90IGV4aXN0IGluIHRoZSBzdmdMYXllck1hcCB0aGVuIGNyZWF0ZSB0aGUgbmV3IGxheWVyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJObyBzdWNoIGxheWVyIGV4aXN0cy5cIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiBub3QgY3VycmVudGx5IHNob3duLCB0aGVuIHNob3dcbiAgICBpZiAoIXRoaXMuZHVyaW5nVmlld01vZGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNob3coKSl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIEZhaWxlZCB0byBlbnRlciB2aWV3IG1vZGUuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJbml0aWFsaXplIHRoZSBlZGl0IG1vZGUgbGF5ZXIgaWYgaXQgZG9lcyBub3QgZXhpc3RcbiAgICBpZighdGhpcy5lZGl0TW9kZVN2Z0xheWVyTm9kZSkge1xuICAgICAgICB2YXIgcGFyU3ZnID0gdGhpcy5jcmVhdGVTdmdFbGVtZW50KCdnJyk7XG4gICAgICAgIHRoaXMuZWRpdE1vZGVTdmdMYXllck5vZGUgPSB7XG4gICAgICAgICAgICBtYXJrdXBzOiBbXSxcbiAgICAgICAgICAgIHN2ZzogcGFyU3ZnXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZWRpdE1vZGVTdmdMYXllck5vZGUuc3ZnLnNldEF0dHJpYnV0ZSgnY3Vyc29yJywgJ2RlZmF1bHQnKTtcbiAgICB9XG5cblxuICAgIGlmICgodGhpcy5lZGl0TW9kZVN2Z0xheWVyTm9kZS5zdmcucGFyZW50Tm9kZSAhPSB0aGlzLnN2ZykgfHwgIWxheWVySWQpIHtcbiAgICAgICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQodGhpcy5lZGl0TW9kZVN2Z0xheWVyTm9kZS5zdmcpO1xuICAgIH1cbiAgICB0aGlzLnN2Zy5zZXRBdHRyaWJ1dGUoJ2N1cnNvcicsICdjcm9zc2hhaXInKTtcblxuXG4gICAgaWYgKGxheWVySWQpIHtcbiAgICAgICAgdmFyIGxheWVyID0gdGhpcy5zdmdMYXllcnNNYXBbbGF5ZXJJZF07XG4gICAgICAgIC8vIElmIHRoZSBsYXllciBleGlzdHMgaW4gdGhlIGxheWVyIG1hcCwgdXNlIHRoZSBpbmZvcm1hdGlvbiBzdG9yZWQgZm9yIHRoYXQgc3BlY2lmaWMgbGF5ZXIuXG4gICAgICAgIGlmIChsYXllcikge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBlZGl0IGxheWVyIHdoZW4gZW50ZXJpbmcgZWRpdCBtb2RlIG9mIGEgc3BlY2lmaWMgZWRpdCBtb2RlLlxuICAgICAgICAgICAgdmFyIGVkaXRNb2RlTGF5ZXJQYXJlbnROb2RlID0gdGhpcy5lZGl0TW9kZVN2Z0xheWVyTm9kZS5zdmcucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIGVkaXRNb2RlTGF5ZXJQYXJlbnROb2RlICYmIGVkaXRNb2RlTGF5ZXJQYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZWRpdE1vZGVTdmdMYXllck5vZGUuc3ZnKTtcblxuICAgICAgICAgICAgLy8gZGlzYWJsZSB0aGUgbWFya3VwcyBpbiB0aGUgZWRpdE1vZGVMYXllclxuICAgICAgICAgICAgZGlzYWJsZUxheWVyTWFya3Vwcyh0aGlzLmVkaXRNb2RlU3ZnTGF5ZXJOb2RlLCB0cnVlKTtcblxuICAgICAgICAgICAgLy8gRW5hYmxlIGludGVyYWN0aW9ucyBmb3IgbWFya3VwcyBpbiB0aGUgY3VycmVudCBlZGl0IGxheWVyIGFuZCBkaXNhYmxlIGludGVyYWN0aW9ucyBmb3IgbWFya3VwcyBpblxuICAgICAgICAgICAgLy8gdGhlIG90aGVyIGxheWVycy5cbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnN2Z0xheWVyc01hcCl7XG4gICAgICAgICAgICAgICAgdmFyIG1hcmt1cHMgPSB0aGlzLnN2Z0xheWVyc01hcFtrZXldLm1hcmt1cHM7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrdXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXJrdXAgPSBtYXJrdXBzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ICE9PSBsYXllcklkLnRvU3RyaW5nKCkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGlzYWJsZSBhbGwgbm90IGluIHRoZSBjdXJyZW50IGxheWVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya3VwLmRpc2FibGVJbnRlcmFjdGlvbnModHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbmFibGUgYWxsIG1hcmt1cHMgaW4gY3VycmVudCBsYXllci5cbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmt1cC5kaXNhYmxlSW50ZXJhY3Rpb25zKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYXNzaWduIHRoZSBjdXJyZW50IGxheWVyIHRvIHRoZSBnbG9iYWwgYWN0aXZlIGxheWVyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUxheWVyID0gbGF5ZXJJZDtcbiAgICAgICAgICAgIHRoaXMuZWRpdGluZ0xheWVyID0gbGF5ZXJJZDtcbiAgICAgICAgICAgIHZhciBzdmdQYXJlbnQgPSBsYXllci5zdmc7XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSBwcmV2aW91cyBzdmcgbGF5ZXIgY2hpbGQgZnJvbSBzdmdcbiAgICAgICAgICAgIHN2Z1BhcmVudC5wYXJlbnROb2RlICYmIHRoaXMuc3ZnLnJlbW92ZUNoaWxkKHN2Z1BhcmVudCk7XG5cbiAgICAgICAgICAgIC8vIHJlYXNzaWduIHRoZSBtYXJrdXBzIGluIHRoYXQgbGF5ZXIgdG8gdGhlIGdsb2JhbCBtYXJrdXBzIGxpc3RcbiAgICAgICAgICAgIHRoaXMubWFya3VwcyA9IGxheWVyLm1hcmt1cHMuc2xpY2UoKTtcblxuICAgICAgICAgICAgLy8gcmUtYXBwZW5kIHN2ZyBsYXllciBjaGlsZCB0byBzdmcgdG8gbWFrZSBpdCB0aGUgdG9wIG1vc3QgbGF5ZXJcbiAgICAgICAgICAgIHRoaXMuc3ZnLmFwcGVuZENoaWxkKHN2Z1BhcmVudCk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBkaXNhYmxlIGludGVyYWN0aW9ucyBmb3IgdGhlIHByZXZpb3VzIG1hcmt1cHNcbiAgICAgICAgLy8gRXhhbXBsZTogZW50ZXJFZGl0TW9kZShsYXllcikgLT4gZW50ZXJFZGl0TW9kZSgpXG4gICAgICAgIGlmICh0aGlzLmVkaXRpbmdMYXllcikge1xuICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLm1hcmt1cHMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbSA9IHRoaXMubWFya3Vwc1trXTtcbiAgICAgICAgICAgICAgICBtLmRpc2FibGVJbnRlcmFjdGlvbnModHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXNhYmxlTGF5ZXJNYXJrdXBzKHRoaXMuZWRpdE1vZGVTdmdMYXllck5vZGUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVkaXRpbmdMYXllciA9ICcnO1xuICAgICAgICBpZiAoIXRoaXMuZWRpdE1vZGVTdmdMYXllck5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMubWFya3VwcyA9IFtdO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMubWFya3VwcyA9IHRoaXMuZWRpdE1vZGVTdmdMYXllck5vZGUubWFya3Vwcy5zbGljZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlTGF5ZXIgPSAnJztcbiAgICB9XG5cbiAgICB0aGlzLmlucHV0LmVudGVyRWRpdE1vZGUoKTtcbiAgICB0aGlzLmFjdGl2YXRlVG9vbCh0cnVlKTtcbiAgICB0aGlzLnN0eWxlcyA9IHt9OyAvLyBDbGVhciBFZGl0TW9kZSBzdHlsZXMuXG4gICAgdGhpcy5kZWZhdWx0U3R5bGUgPSBudWxsO1xuICAgIHRoaXMuZHVyaW5nRWRpdE1vZGUgPSB0cnVlO1xuICAgIHRoaXMuY2hhbmdlRWRpdE1vZGUobmV3IEVkaXRNb2RlQXJyb3codGhpcykpO1xuICAgIHRoaXMuYWN0aW9uTWFuYWdlci5jbGVhcigpO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6IE1hcmt1cEV2ZW50cy5FVkVOVF9FRElUTU9ERV9FTlRFUiB9KTtcbiAgICB0aGlzLmFsbG93TmF2aWdhdGlvbihmYWxzZSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIEV4aXRzIEVkaXQgbW9kZS5cbiAqXG4gKiBTZWUgYWxzbyB7QGxpbmsgL2VuL2RvY3Mvdmlld2VyL3Y3L3JlZmVyZW5jZS9FeHRlbnNpb25zL01hcmt1cHNDb3JlLyNlbnRlcmVkaXRtb2RlLWxheWVyaWR8ZW50ZXJFZGl0TW9kZSgpfS5cbiAqIEBtZW1iZXJvZiBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwc0NvcmVcbiAqIEBhbGlhcyBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwc0NvcmUjbGVhdmVFZGl0TW9kZVxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgRWRpdCBtb2RlIGhhcyBiZWVuIGRlYWN0aXZhdGVkXG4gKi9cbk1hcmt1cHNDb3JlLnByb3RvdHlwZS5sZWF2ZUVkaXRNb2RlID0gZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgTk9UX0lOX0VESVRfTU9ERSA9IHRydWU7XG4gICAgdmFyIFdFX0FSRV9TVElMTF9JTl9FRElUX01PREUgPSBmYWxzZTtcblxuICAgIGlmICghdGhpcy5kdXJpbmdFZGl0TW9kZSB8fCAhdGhpcy5kdXJpbmdWaWV3TW9kZSkge1xuICAgICAgICByZXR1cm4gTk9UX0lOX0VESVRfTU9ERTtcbiAgICB9XG5cbiAgICB2YXIgdmlld2VyID0gdGhpcy52aWV3ZXI7XG4gICAgaWYgKCF2aWV3ZXIpIHtcbiAgICAgICAgcmV0dXJuIFdFX0FSRV9TVElMTF9JTl9FRElUX01PREU7IC8vIHNvbWV0aGluZyBpcyB2ZXJ5IHdyb25nLi4uXG4gICAgfVxuXG4gICAgdGhpcy5lZGl0TW9kZS5kZXN0cm95KCk7XG4gICAgdGhpcy5lZGl0TW9kZSA9IG51bGw7XG4gICAgdGhpcy5kdXJpbmdFZGl0TW9kZSA9IGZhbHNlO1xuXG4gICAgaWYgKHRoaXMuc25hcHBlcikge1xuICAgICAgICB0aGlzLnNuYXBwZXIuaW5kaWNhdG9yLmNsZWFyT3ZlcmxheXMoKTtcbiAgICAgICAgdGhpcy5zbmFwcGVyLmNsZWFyU25hcHBlZCgpO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSB0aGUgZWRpdCBsYXllclxuICAgIGlmICh0aGlzLmVkaXRNb2RlU3ZnTGF5ZXJOb2RlICYmIHRoaXMuZWRpdE1vZGVTdmdMYXllck5vZGUuc3ZnLnBhcmVudE5vZGUpe1xuICAgICAgICB0aGlzLnN2Zy5yZW1vdmVDaGlsZCh0aGlzLmVkaXRNb2RlU3ZnTGF5ZXJOb2RlLnN2Zyk7XG4gICAgfVxuICAgIHRoaXMuc3ZnLnNldEF0dHJpYnV0ZSgnY3Vyc29yJywgJ2RlZmF1bHQnKTtcblxuICAgIHRoaXMuaW5wdXQubGVhdmVFZGl0TW9kZSgpO1xuICAgIHRoaXMuZWRpdEZyYW1lLnNldE1hcmt1cChudWxsKTtcbiAgICB0aGlzLmFjdGl2YXRlVG9vbCh0cnVlKTtcblxuICAgIHRoaXMuYWxsb3dOYXZpZ2F0aW9uKHRydWUpO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6IE1hcmt1cEV2ZW50cy5FVkVOVF9FRElUTU9ERV9MRUFWRSB9KTtcbiAgICByZXR1cm4gTk9UX0lOX0VESVRfTU9ERTtcbn07XG5cbi8qKlxuICogVG9nZ2xlIGJldHdlZW4gdmlzaWJsZSBtYXJrdXBzLCBpLmUuLCBzaG93KCkgYW5kIGhpZGRlbiBtYXJrdXBzLCBpLmUuLCBoaWRlKCkuXG4gKlxuICogQG1lbWJlcm9mIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZVxuICogQGFsaWFzIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZS50b2dnbGVcbiAqIEBtZXRob2QgdG9nZ2xlXG4gKi9cbk1hcmt1cHNDb3JlLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbigpIHtcblxuICAgIGlmICh0aGlzLmR1cmluZ1ZpZXdNb2RlKSB7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2hvdygpO1xuICAgIH1cbn07XG5cbi8qKlxuICogRW5hYmxlcyBsb2FkaW5nIG9mIHByZXZpb3VzbHkgc2F2ZWQgbWFya3Vwcy5cbiAqIEV4aXQgRWRpdCBtb2RlIGJ5IGNhbGxpbmcge0BsaW5rIC9lbi9kb2NzL3ZpZXdlci92Ny9yZWZlcmVuY2UvRXh0ZW5zaW9ucy9NYXJrdXBzQ29yZS8jaGlkZXxoaWRlKCl9LlxuICpcbiAqIFNlZSBhbHNvIHtAbGluayAvZW4vZG9jcy92aWV3ZXIvdjcvcmVmZXJlbmNlL0V4dGVuc2lvbnMvTWFya3Vwc0NvcmUvI2VudGVyZWRpdG1vZGUtbGF5ZXJpZHxlbnRlckVkaXRNb2RlKCl9LlxuICpcbiAqIEBtZW1iZXJvZiBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwc0NvcmVcbiAqIEBhbGlhcyBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwc0NvcmUjc2hvd1xuICogQG1ldGhvZCBzaG93XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgaXQgc3VjY2Vzc2Z1bGx5IGVudGVyZWQgdmlldyBtb2RlIG9yIG5vdC5cbiAqL1xuTWFya3Vwc0NvcmUucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbigpIHtcblxuICAgIHZhciB2aWV3ZXIgPSB0aGlzLnZpZXdlcjtcbiAgICBpZiAoIXZpZXdlciB8fCAhdmlld2VyLm1vZGVsIHx8ICF0aGlzLnN2Zykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGlmIGFscmVhZHkgc2hvd2luZyBvciBpbiBlZGl0LW1vZGUuXG4gICAgLy8gTm90aWNlIHRoYXQgZWRpdCBtb2RlIHJlcXVpcmVzIHRoYXQgd2UgYXJlIGN1cnJlbnRseSBzaG93KCktaW5nLlxuICAgIGlmICh0aGlzLmR1cmluZ1ZpZXdNb2RlIHx8IHRoaXMuZHVyaW5nRWRpdE1vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdmlld2VyLmFkZEV2ZW50TGlzdGVuZXIoQXV0b2Rlc2suVmlld2luZy5DQU1FUkFfQ0hBTkdFX0VWRU5ULCB0aGlzLm9uQ2FtZXJhQ2hhbmdlQmluZGVkKTtcbiAgICB2aWV3ZXIuYWRkRXZlbnRMaXN0ZW5lcihBdXRvZGVzay5WaWV3aW5nLlZJRVdFUl9SRVNJWkVfRVZFTlQsIHRoaXMub25WaWV3ZXJSZXNpemVCaW5kZWQpO1xuXG4gICAgLy8gQWRkIHBhcmVudCBzdmcgb2YgYWxsIG1hcmt1cHMuXG4gICAgdmlld2VyLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnN2Zyk7XG4gICAgdmlld2VyLnJlb3JkZXJFbGVtZW50cyh0aGlzLnN2Zyk7XG5cbiAgICB0aGlzLmlucHV0LmVudGVyVmlld01vZGUoKTtcbiAgICBoaWRlTG12VWkodmlld2VyKTtcblxuICAgIC8vIFRPRE86IE5hc3R5IGhhY2ssIGN1cnJlbnRseSB0aGVyZSBpcyBubyBBUEkgdG8gZGlzYWJsZSBtb3VzZSBoaWdobGlnaHRpbmcgaW4gM2QgbW9kZWxzLlxuICAgIC8vIFRPRE86IFdlIG51a2Ugcm9sbG92ZXIgZnVuY3Rpb24gaW4gdmlld2VyLCBmb3Igbm93LCBwdWJsaWMgYXBpIHdpbGwgYmUgYWRkZWQgc29vbi5cbiAgICB0aGlzLm9uVmlld2VyUm9sbG92ZXJPYmplY3QgPSB2aWV3ZXIuaW1wbC5yb2xsb3Zlck9iamVjdDtcbiAgICB2aWV3ZXIuaW1wbC5yb2xsb3Zlck9iamVjdCA9IGZ1bmN0aW9uKCl7fTtcblxuICAgIHRoaXMuYWN0aXZhdGVUb29sKHRydWUpO1xuICAgIHZhciBjYW1lcmEgPSB2aWV3ZXIuaW1wbC5jYW1lcmE7XG4gICAgdGhpcy5vblZpZXdlclJlc2l6ZSh7IHdpZHRoOiBjYW1lcmEuY2xpZW50V2lkdGgsIGhlaWdodDogY2FtZXJhLmNsaWVudEhlaWdodCB9KTtcblxuICAgIC8vIFNlZSBmdW5jdGlvbiBsb2FkTWFya3VwcygpIGZvciB3aGVuIHRoZSBhY3R1YWwgU1ZHIGdldHMgYWRkZWQgb25zdGFnZSAvL1xuICAgIHRoaXMuc3ZnTGF5ZXJzTWFwID0ge307XG4gICAgdGhpcy5kdXJpbmdWaWV3TW9kZSA9IHRydWU7XG4gICAgdGhpcy5hbGxvd05hdmlnYXRpb24odHJ1ZSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgYW55IG1hcmt1cCBjdXJyZW50bHkgb3ZlcmxhaWQgb24gdGhlIHZpZXdlci4gSXQgZXhpdHMgRWRpdCBtb2RlIGlmIGl0IGlzIGFjdGl2ZS5cbiAqXG4gKiBTZWUgYWxzbyB7QGxpbmsgL2VuL2RvY3Mvdmlld2VyL3Y3L3JlZmVyZW5jZS9FeHRlbnNpb25zL01hcmt1cHNDb3JlLyNzaG93fHNob3coKX1cbiAqXG4gKiBAbWVtYmVyb2YgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlXG4gKiBAYWxpYXMgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlI2hpZGVcbiAqIEBtZXRob2QgaGlkZVxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIGl0IHN1Y2Nlc3NmdWxseSBsZWZ0IHZpZXcgbW9kZSBvciBub3QuXG4gKi9cbk1hcmt1cHNDb3JlLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgUkVTVUxUX0hJREVfT0sgPSB0cnVlO1xuICAgIHZhciBSRVNVTFRfSElERV9GQUlMID0gZmFsc2U7XG5cbiAgICB2YXIgdmlld2VyID0gdGhpcy52aWV3ZXI7XG4gICAgaWYgKCF2aWV3ZXIgfHwgIXRoaXMuZHVyaW5nVmlld01vZGUpIHtcbiAgICAgICAgcmV0dXJuIFJFU1VMVF9ISURFX09LO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmR1cmluZ0VkaXRNb2RlKSB7XG4gICAgICAgIGlmICghdGhpcy5sZWF2ZUVkaXRNb2RlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBSRVNVTFRfSElERV9GQUlMO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmlld2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoQXV0b2Rlc2suVmlld2luZy5DQU1FUkFfQ0hBTkdFX0VWRU5ULCB0aGlzLm9uQ2FtZXJhQ2hhbmdlQmluZGVkKTtcbiAgICB2aWV3ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihBdXRvZGVzay5WaWV3aW5nLlZJRVdFUl9SRVNJWkVfRVZFTlQsIHRoaXMub25WaWV3ZXJSZXNpemVCaW5kZWQpO1xuXG4gICAgdmFyIHN2ZyA9IHRoaXMuc3ZnO1xuICAgIHN2Zy5wYXJlbnROb2RlICYmIHN2Zy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN2Zyk7XG5cbiAgICAvLyBSZW1vdmUgYWxsIE1hcmt1cHMgYW5kIG1ldGFkYXRhIChpZiBhbnkpXG4gICAgdGhpcy51bmxvYWRNYXJrdXBzQWxsTGF5ZXJzKCk7XG4gICAgcmVtb3ZlQWxsTWV0YWRhdGEoc3ZnKTtcblxuICAgIHRoaXMuaW5wdXQubGVhdmVWaWV3TW9kZSgpO1xuICAgIHJlc3RvcmVMbXZVaSh2aWV3ZXIpO1xuICAgIHRoaXMudmlld2VyLmltcGwucm9sbG92ZXJPYmplY3QgPSB0aGlzLm9uVmlld2VyUm9sbG92ZXJPYmplY3Q7XG5cbiAgICB0aGlzLmFjdGl2YXRlVG9vbChmYWxzZSk7XG4gICAgdGhpcy5kdXJpbmdWaWV3TW9kZSA9IGZhbHNlO1xuICAgIHJldHVybiBSRVNVTFRfSElERV9PSztcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBuZXdseSBjcmVhdGVkIG1hcmt1cHMgaW4gdGhlIGN1cnJlbnQgZWRpdGluZyBsYXllci5cbiAqIE1hcmt1cHMgdGhhdCB3ZXJlIGNyZWF0ZWQgaW4gYSBzcGVjaWZpYyBsYXllciB3aWxsIG5vdCBiZSByZW1vdmVkLlxuICpcbiAqIE1hcmt1cHMgc2hvdWxkIGhhdmUgYmVlbiBhZGRlZCB3aGlsZSBpblxuICoge0BsaW5rIC9lbi9kb2NzL3ZpZXdlci92Ny9yZWZlcmVuY2UvRXh0ZW5zaW9ucy9NYXJrdXBzQ29yZS8jZW50ZXJlZGl0bW9kZS1sYXllcmlkfGVudGVyRWRpdE1vZGUoKX0uXG4gKlxuICogQG1lbWJlcm9mIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZVxuICogQGFsaWFzIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZS5jbGVhclxuICogQG1ldGhvZCBjbGVhclxuICovXG5NYXJrdXBzQ29yZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBDYW4gb25seSBjbGVhciBzcGVjaWZpYyBsYXllcnMgd2hlbiBpbiB0aGUgZWRpdCBtb2RlIG9mIHRoYXQgbGF5ZXIuXG4gICAgaWYgKCF0aGlzLmR1cmluZ0VkaXRNb2RlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIkNsZWFyIG9ubHkgcmVtb3ZlcyBtYXJrdXBzIHdoZW4gaW4gRWRpdCBNb2RlLlwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZWRpdE1vZGVMYXllciA9IHRoaXMuZWRpdGluZ0xheWVyID8gdGhpcy5zdmdMYXllcnNNYXBbdGhpcy5lZGl0aW5nTGF5ZXJdIDogdGhpcy5lZGl0TW9kZVN2Z0xheWVyTm9kZTtcbiAgICBpZiAoZWRpdE1vZGVMYXllcikge1xuICAgICAgICB2YXIgbWFya3VwcyA9IGVkaXRNb2RlTGF5ZXIubWFya3VwcztcbiAgICAgICAgdmFyIHN2ZyA9IGVkaXRNb2RlTGF5ZXIuc3ZnO1xuICAgICAgICBpZiAoc3ZnICYmIHN2Zy5jaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHdoaWxlIChzdmcuY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzdmcucmVtb3ZlQ2hpbGQoc3ZnLmNoaWxkTm9kZXNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChtYXJrdXBzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBtYXJrdXAgPSBtYXJrdXBzWzBdO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVNYXJrdXAobWFya3VwKTtcbiAgICAgICAgICAgIG1hcmt1cC5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gU1ZHIHN0cmluZyB3aXRoIHRoZSBtYXJrdXBzIGNyZWF0ZWQgc28gZmFyLlxuICogVGhlIFNWRyBzdHJpbmcgY2FuIGJlIHJlbG9hZGVkIHVzaW5nIHtAbGluayAvZW4vZG9jcy92aWV3ZXIvdjcvcmVmZXJlbmNlL0V4dGVuc2lvbnMvTWFya3Vwc0NvcmUvI2xvYWRtYXJrdXBzLW1hcmt1cHN0cmluZy1sYXllcmlkfGxvYWRNYXJrdXBzKCl9LlxuICpcbiAqIE1hcmt1cHMgc2hvdWxkIGhhdmUgYmVlbiBhZGRlZCB3aGlsZSBpbiB7QGxpbmsgL2VuL2RvY3Mvdmlld2VyL3Y3L3JlZmVyZW5jZS9FeHRlbnNpb25zL01hcmt1cHNDb3JlLyNlbnRlcmVkaXRtb2RlLWxheWVyaWR8ZW50ZXJFZGl0TW9kZSgpfS5cbiAqXG4gKiBAbWVtYmVyb2YgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlXG4gKiBAYWxpYXMgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlLmdlbmVyYXRlRGF0YVxuICogQG1ldGhvZCBnZW5lcmF0ZURhdGFcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIGFuIFNWRyBlbGVtZW50IHdpdGggYWxsIG9mIHRoZSBjcmVhdGVkIG1hcmt1cHMgaW4gYSBzdHJpbmcgZm9ybWF0LlxuICovXG5NYXJrdXBzQ29yZS5wcm90b3R5cGUuZ2VuZXJhdGVEYXRhID0gZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgZGVmYXVsdExheWVyID0gdGhpcy5lZGl0TW9kZVN2Z0xheWVyTm9kZS5zdmc7XG5cbiAgICBpZiAodGhpcy5lZGl0TW9kZSkge1xuICAgICAgICB0aGlzLmVkaXRNb2RlLm9uU2F2ZSgpO1xuICAgIH1cblxuICAgIC8vIFNhbml0eSBjaGVjaywgcmVtb3ZlIGFueSBsaW5nZXJpbmcgbWV0YWRhdGEgbm9kZXNcbiAgICByZW1vdmVBbGxNZXRhZGF0YSh0aGlzLnN2Zyk7XG5cbiAgICBpZiAodGhpcy5hY3RpdmVMYXllcil7XG4gICAgICAgIGRlZmF1bHRMYXllciA9IHRoaXMuc3ZnTGF5ZXJzTWFwW3RoaXMuYWN0aXZlTGF5ZXJdLnN2ZztcbiAgICB9XG5cbiAgICB2YXIgdG1wTm9kZSA9IHRoaXMuY3JlYXRlU3ZnRWxlbWVudChcInN2Z1wiKTtcbiAgICB0cmFuc2ZlckNoaWxkTm9kZXModGhpcy5zdmcsIHRtcE5vZGUpOyAvLyBUcmFuc2ZlciBpbmNsdWRlcyB0aGlzLmVkaXRNb2RlU3ZnTGF5ZXJOb2RlXG4gICAgdHJhbnNmZXJDaGlsZE5vZGVzKGRlZmF1bHRMYXllciwgdGhpcy5zdmcpO1xuXG4gICAgLy8gdmVyc2lvbiAxOiBmaXJzdCBpbXBsZW1lbnRhdGlvbi5cbiAgICAvLyB2ZXJzaW9uIDI6IGFkZGVkIGdsb2JhbCBvZmZzZXQgdG8gbWFya3VwIHBvc2l0aW9ucy5cbiAgICAvLyB2ZXJzaW9uIDM6IGNoYW5nZSBub2RlIHN0cnVjdHVyZSB0byBpbmNsdWRlIGhpdGFyZWFzLCBoaXQgYXJlYXMgYXJlIG5vdCBleHBvcnRlZC5cbiAgICAvLyB2ZXJzaW9uIDQ6IHNjYWxlIHBlcnNwZWN0aXZlIG1hcmt1cHMgc3BhY2UgYnkgUEVSU1BFQ1RJVkVfTU9ERV9TQ0FMRSBiZWNhdXNlIGJ1ZyBpbiBmaXJlZm94LiBMTVYtMTE1MFxuICAgIHZhciBtZXRhZGF0YU9iamVjdCA9IHtcbiAgICAgICAgXCJkYXRhLW1vZGVsLXZlcnNpb25cIjogXCI0XCJcbiAgICB9O1xuICAgIHZhciBtZXRhZGF0YU5vZGUgPSB0aGlzLmFkZFN2Z01ldGFkYXRhKHRoaXMuc3ZnLCBtZXRhZGF0YU9iamVjdCk7XG4gICAgdmFyIG1ldGFkYXRhTm9kZXMgPSBbIG1ldGFkYXRhTm9kZSBdO1xuXG4gICAgLy8gTm90aWZ5IGVhY2ggbWFya3VwIHRvIGluamVjdCBtZXRhZGF0YVxuICAgIHRoaXMubWFya3Vwcy5mb3JFYWNoKGZ1bmN0aW9uKG1hcmt1cCl7XG4gICAgICAgIHZhciBhZGRlZE5vZGUgPSBtYXJrdXAuc2V0TWV0YWRhdGEoKTtcbiAgICAgICAgaWYgKGFkZGVkTm9kZSkge1xuICAgICAgICAgICAgbWV0YWRhdGFOb2Rlcy5wdXNoKGFkZGVkTm9kZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEdlbmVyYXRlIHRoZSBkYXRhIVxuICAgIHZhciBkYXRhID0gc3ZnTm9kZVRvU3RyaW5nKHRoaXMuc3ZnKTtcblxuICAgIC8vIFJlbW92ZSBtZXRhZGF0YU9iamVjdCBiZWZvcmUgcmV0dXJuaW5nXG4gICAgbWV0YWRhdGFOb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKG1ldGFkYXRhTm9kZSl7XG4gICAgICAgIG1ldGFkYXRhTm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG1ldGFkYXRhTm9kZSk7XG4gICAgfSk7XG5cbiAgICB0cmFuc2ZlckNoaWxkTm9kZXModGhpcy5zdmcsIGRlZmF1bHRMYXllcik7XG4gICAgdHJhbnNmZXJDaGlsZE5vZGVzKHRtcE5vZGUsIHRoaXMuc3ZnKTtcbiAgICB0bXBOb2RlID0gbnVsbDsgLy8gZ2V0IHJpZCBvZiBpdC5cblxuICAgIHJldHVybiAgZGF0YTtcbn07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuTWFya3Vwc0NvcmUucHJvdG90eXBlLmdlbmVyYXRlUG9pbnRzM2QgPSBmdW5jdGlvbigpIHtcblxuICAgIHZhciByZXN1bHQgPSB7bWFya3VwczogW10sIG1haW46IG51bGx9O1xuICAgIHZhciBtYXJrdXBzID0gdGhpcy5tYXJrdXBzO1xuICAgIHZhciBtYXJrdXBzQ291bnQgPSBtYXJrdXBzLmxlbmd0aDtcblxuICAgIGlmIChtYXJrdXBzQ291bnQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBHYXRoZXIgYSAzZCBwb2ludCBmb3IgbWFya3VwLlxuICAgIHZhciBpZFRhcmdldCA9IHRoaXMudmlld2VyLmltcGwucmVuZGVyZXIoKS5yZWFkYmFja1RhcmdldElkKCk7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IG1hcmt1cHNDb3VudDsgKytpKSB7XG5cbiAgICAgICAgdmFyIG1hcmt1cCA9IG1hcmt1cHNbaV07XG4gICAgICAgIHZhciBwb2ludCA9IG1hcmt1cC5nZW5lcmF0ZVBvaW50M2QoaWRUYXJnZXQpIHx8IG51bGw7XG4gICAgICAgIHJlc3VsdC5tYXJrdXBzLnB1c2goXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6IG1hcmt1cC5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiBtYXJrdXAudHlwZSxcbiAgICAgICAgICAgICAgICBwb2ludDogcG9pbnQgfHwgbnVsbFxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvLyBJZiB0aGVyZSBpcyAzZCBwb2ludCBhc3NvY2lhdGVkIHdpdGggYW4gYXJyb3csIHdlIHVzZSB0aGF0IGFzIG1haW4gcG9pbnQuXG4gICAgaWYgKG1hcmt1cHNDb3VudCA9PT0gMSkge1xuXG4gICAgICAgIHZhciBtYWluID0gcmVzdWx0Lm1hcmt1cHNbMF0ucG9pbnQ7XG4gICAgICAgIHJlc3VsdC5tYWluID0gbWFpbiAmJiBtYWluLmNsb25lKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IG1hcmt1cHNDb3VudDsgKytpKSB7XG5cbiAgICAgICAgdmFyIGNvbGxpc2lvbiA9IHJlc3VsdC5tYXJrdXBzW2ldO1xuICAgICAgICBpZiAoY29sbGlzaW9uLnR5cGUgPT09IE1hcmt1cFR5cGVzLk1BUktVUF9UWVBFX0FSUk9XICYmIGNvbGxpc2lvbi5wb2ludCAhPT0gbnVsbCkge1xuXG4gICAgICAgICAgICByZXN1bHQubWFpbiA9IGNvbGxpc2lvbi5wb2ludC5jbG9uZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHRoZXJlIGlzIG5vIGFycm93cywgd2UgYXZlcmFnZSBib3VuZGluZyBib3hlcyBhbmQgZ2V0IGEgM2QgcG9pbnQgaW5zaWRlIGl0LlxuICAgIHZhciBiYlgwID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIHZhciBiYlkwID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIHZhciBiYlgxID0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO1xuICAgIHZhciBiYlkxID0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO1xuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IG1hcmt1cHNDb3VudDsgKytpKSB7XG5cbiAgICAgICAgdmFyIGJvdW5kaW5nQm94ID0gbWFya3Vwc1tpXS5nZW5lcmF0ZUJvdW5kaW5nQm94KCk7XG5cbiAgICAgICAgYmJYMCA9IE1hdGgubWluKGJiWDAsIGJvdW5kaW5nQm94Lm1pbi54KTtcbiAgICAgICAgYmJZMCA9IE1hdGgubWluKGJiWTAsIGJvdW5kaW5nQm94Lm1pbi55KTtcbiAgICAgICAgYmJYMSA9IE1hdGgubWF4KGJiWDEsIGJvdW5kaW5nQm94Lm1heC54KTtcbiAgICAgICAgYmJZMSA9IE1hdGgubWF4KGJiWTEsIGJvdW5kaW5nQm94Lm1heC55KTtcbiAgICB9XG5cbiAgICB2YXIgcG9seWdvbiA9IHt9O1xuXG4gICAgcG9seWdvbi52ZXJ0ZXhDb3VudCA9IDQ7XG4gICAgcG9seWdvbi54VmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KFtiYlgwLCBiYlgxLCBiYlgxLCBiYlgwXSk7XG4gICAgcG9seWdvbi55VmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KFtiYlkwLCBiYlkwLCBiYlkxLCBiYlkxXSk7XG5cbiAgICB2YXIgcG9pbnQyZCA9IHRoaXMuY2hlY2tQb2x5Z29uKHBvbHlnb24sIGlkVGFyZ2V0KTtcbiAgICB2YXIgcG9pbnQzZCA9IHBvaW50MmQgJiYgdGhpcy52aWV3ZXIuY2xpZW50VG9Xb3JsZChwb2ludDJkLngsIHBvaW50MmQueSk7XG4gICAgcmVzdWx0Lm1haW4gPSBwb2ludDNkICYmIHBvaW50M2QucG9pbnQ7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBSZW5kZXJzIHRoZSBtYXJrdXBzIG9udG8gYSAyRCBjYW52YXMgY29udGV4dCB0byBnZW5lcmF0ZSBhbiBpbWFnZS5cbiAqXG4gKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCAtIE1hcmt1cHMgYXJlIGRyYXduIHVzaW5nIHRoZSBjb250ZXh0IHByb3ZpZGVkXG4gKiBAcGFyYW0gY2FsbGJhY2tcbiAqIEBwYXJhbSByZW5kZXJBbGxNYXJrdXBzXG4gKiBAcHJpdmF0ZVxuICovXG5NYXJrdXBzQ29yZS5wcm90b3R5cGUucmVuZGVyVG9DYW52YXMgPSBmdW5jdGlvbihjb250ZXh0LCBjYWxsYmFjaywgcmVuZGVyQWxsTWFya3Vwcykge1xuXG4gICAgdmFyIHdpZHRoID0gdGhpcy5ib3VuZHMud2lkdGg7XG4gICAgdmFyIGhlaWdodCA9IHRoaXMuYm91bmRzLmhlaWdodDtcbiAgICB2YXIgdmlld0JveCA9IHRoaXMuZ2V0U3ZnVmlld0JveCh3aWR0aCwgaGVpZ2h0KTtcbiAgICB2YXIgbnVtYmVyT2ZTY3JlZW5zaG90c1Rha2VuID0gMDtcbiAgICB2YXIgbWFya3VwcyA9IFtdO1xuICAgIHZhciBsYXllcjtcblxuICAgIHZhciBvbk1hcmt1cFNjcmVlbnNob3RUYWtlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrICYmICgrK251bWJlck9mU2NyZWVuc2hvdHNUYWtlbiA9PT0gbWFya3Vwcy5sZW5ndGgpKSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgaWYgKHJlbmRlckFsbE1hcmt1cHMpIHtcbiAgICAgICAgdmFyIHN2Z0tleXMgPSBPYmplY3Qua2V5cyh0aGlzLnN2Zy5jaGlsZE5vZGVzKTtcbiAgICAgICAgdmFyIGxheWVyc0tleXMgPSBPYmplY3Qua2V5cyh0aGlzLnN2Z0xheWVyc01hcCk7XG5cbiAgICAgICAgLy8gQXBwZW5kIG9ubHkgbWFya3VwcyB0aGF0IHRoZWlyIHBhcmVudCBsYXllciBpcyBjb250YWluZWQgaW5zaWRlIHRoZSBzdmcgbWFpbiBjb250YWluZXIuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3ZnS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsYXllcnNLZXlzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgbGF5ZXIgPSB0aGlzLnN2Z0xheWVyc01hcFtsYXllcnNLZXlzW2pdXTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdmcuY2hpbGROb2Rlc1tzdmdLZXlzW2ldXSA9PT0gbGF5ZXIuc3ZnKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmt1cHMgPSBtYXJrdXBzLmNvbmNhdChsYXllci5tYXJrdXBzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBsYXllciA9IHRoaXMuc3ZnTGF5ZXJzTWFwW3RoaXMuYWN0aXZlTGF5ZXJdIHx8IHRoaXMuZWRpdE1vZGVTdmdMYXllck5vZGU7XG4gICAgICAgIG1hcmt1cHMgPSBsYXllci5tYXJrdXBzO1xuICAgIH1cblxuICAgIGlmIChtYXJrdXBzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG1hcmt1cHMuZm9yRWFjaChmdW5jdGlvbihtYXJrdXApIHtcbiAgICAgICAgICAgIG1hcmt1cC5yZW5kZXJUb0NhbnZhcyhjb250ZXh0LCB2aWV3Qm94LCB3aWR0aCwgaGVpZ2h0LCBvbk1hcmt1cFNjcmVlbnNob3RUYWtlbik7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbi8qKlxuICogQ2hhbmdlcyB0aGUgYWN0aXZlIGRyYXdpbmcgdG9vbC4gRm9yIGV4YW1wbGUsIGZyb20gdGhlIEFycm93IGRyYXdpbmcgdG9vbCB0byB0aGUgUmVjdGFuZ2xlIGRyYXdpbmcgdG9vbC5cbiAqIE9ubHkgYXBwbGljYWJsZSB3aGlsZSBpbiB7QGxpbmsgL2VuL2RvY3Mvdmlld2VyL3Y3L3JlZmVyZW5jZS9FeHRlbnNpb25zL01hcmt1cHNDb3JlLyNlbnRlcmVkaXRtb2RlLWxheWVyaWR8RWRpdCBNb2RlfS5cbiAqXG4gKiBTdXBwb3J0ZWQgdmFsdWVzIGFyZTpcbiAqIC0gYG5ldyBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlLkVkaXRNb2RlQXJyb3coTWFya3Vwc0NvcmVJbnN0YW5jZSlgXG4gKiAtIGBuZXcgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZS5FZGl0TW9kZVJlY3RhbmdsZShNYXJrdXBzQ29yZUluc3RhbmNlKWBcbiAqIC0gYG5ldyBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlLkVkaXRNb2RlQ2lyY2xlKE1hcmt1cHNDb3JlSW5zdGFuY2UpYFxuICogLSBgbmV3IEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzLkNvcmUuRWRpdE1vZGVDbG91ZChNYXJrdXBzQ29yZUluc3RhbmNlKWBcbiAqIC0gYG5ldyBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlLkVkaXRNb2RlVGV4dChNYXJrdXBzQ29yZUluc3RhbmNlKWBcbiAqIC0gYG5ldyBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlLkVkaXRNb2RlRnJlZWhhbmQoTWFya3Vwc0NvcmVJbnN0YW5jZSlgXG4gKiAtIGBuZXcgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZS5FZGl0TW9kZVBvbHlsaW5lKE1hcmt1cHNDb3JlSW5zdGFuY2UpYFxuICogLSBgbmV3IEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzLkNvcmUuRWRpdE1vZGVQb2x5Y2xvdWQoTWFya3Vwc0NvcmVJbnN0YW5jZSlgXG4gKlxuICogVGhpcyBmdW5jdGlvbiBmaXJlcyBldmVudCBgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlLkVWRU5UX0VESVRNT0RFX0NIQU5HRURgLlxuICpcbiAqIEBtZW1iZXJvZiBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwc0NvcmVcbiAqIEBhbGlhcyBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwc0NvcmUjY2hhbmdlRWRpdE1vZGVcbiAqIEBtZXRob2QgY2hhbmdlRWRpdE1vZGVcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gZWRpdE1vZGUgLSBPYmplY3QgaW5zdGFuY2UgZm9yIHRoZSBkcmF3aW5nIHRvb2xcbiAqIEBmaXJlcyBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwc0NvcmUuRVZFTlRfRURJVE1PREVfQ0hBTkdFRFxuICovXG5NYXJrdXBzQ29yZS5wcm90b3R5cGUuY2hhbmdlRWRpdE1vZGUgPSBmdW5jdGlvbihlZGl0TW9kZSkge1xuXG4gICAgdmFyIG9sZEVkaXRNb2RlID0gdGhpcy5lZGl0TW9kZTtcbiAgICBvbGRFZGl0TW9kZSAmJiBvbGRFZGl0TW9kZS5kZXN0cm95KCk7XG5cbiAgICBlZGl0TW9kZS5hZGRFdmVudExpc3RlbmVyKE1hcmt1cEV2ZW50cy5FVkVOVF9FRElUTU9ERV9DUkVBVElPTl9CRUdJTiwgZnVuY3Rpb24oKSB7dGhpcy5kaXNhYmxlTWFya3VwSW50ZXJhY3Rpb25zKHRydWUpO30uYmluZCh0aGlzKSk7XG4gICAgZWRpdE1vZGUuYWRkRXZlbnRMaXN0ZW5lcihNYXJrdXBFdmVudHMuRVZFTlRfRURJVE1PREVfQ1JFQVRJT05fRU5ELCBmdW5jdGlvbigpe3RoaXMuZGlzYWJsZU1hcmt1cEludGVyYWN0aW9ucyhmYWxzZSk7fS5iaW5kKHRoaXMpKTtcbiAgICBlZGl0TW9kZS5hZGRFdmVudExpc3RlbmVyKE1hcmt1cEV2ZW50cy5FVkVOVF9NQVJLVVBfREVTRUxFQ1QsIGZ1bmN0aW9uKGV2ZW50KXt0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO30uYmluZCh0aGlzKSk7XG5cbiAgICB0aGlzLmVkaXRNb2RlID0gZWRpdE1vZGU7XG4gICAgdGhpcy5zdHlsZXNbZWRpdE1vZGUudHlwZV0gPSBjbG9uZVN0eWxlKGVkaXRNb2RlLmdldFN0eWxlKCkpO1xuXG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOk1hcmt1cEV2ZW50cy5FVkVOVF9FRElUTU9ERV9DSEFOR0VELCB0YXJnZXQ6IGVkaXRNb2RlfSk7XG59O1xuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgYSB1c2VyIGNhbiBwZXJmb3JtIGNhbWVyYSBuYXZpZ2F0aW9uIG9wZXJhdGlvbnMgb24gdGhlIGN1cnJlbnQgbG9hZGVkIG1vZGVsLlxuICogV2hpbGUgdGhlIGV4dGVuc2lvbiBpcyBhY3RpdmUsIHRoZSB1c2VyIGNhbiBzdGlsbCBkcmF3IG1hcmt1cHMuXG4gKiBQYW5uaW5nIGFuZCB6b29taW5nIGFyZSBvbmx5IHN1cHBvcnRlZCBmb3Igb3J0aG9ncmFwaGljIGNhbWVyYXMuXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIge0BsaW5rIC9lbi9kb2NzL3ZpZXdlci92Ny9yZWZlcmVuY2UvRXh0ZW5zaW9ucy9NYXJrdXBzQ29yZS8jYWxsb3duYXZpZ2F0aW9uLWFsbG93fGFsbG93TmF2aWdhdGlvbigpfSBjYW4gc3VjY2VlZC5cbiAqXG4gKiBAbWVtYmVyb2YgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlXG4gKiBAYWxpYXMgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlLmlzTmF2aWdhdGlvbkFsbG93ZWRcbiAqIEBtZXRob2QgaXNOYXZpZ2F0aW9uQWxsb3dlZFxuICovXG5NYXJrdXBzQ29yZS5wcm90b3R5cGUuaXNOYXZpZ2F0aW9uQWxsb3dlZCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgcmV0dXJuICF0aGlzLnZpZXdlci5pbXBsLmNhbWVyYS5pc1BlcnNwZWN0aXZlO1xufTtcblxuLyoqXG4gKiBFbmFibGVzIGNsaWNrLCB0YXAsIGFuZCBzd2lwZSBiZWhhdmlvciB0byBhbGxvdyBjYW1lcmEgem9vbSBhbmQgcGFubmluZyBvcGVyYXRpb25zLiBJdCBpcyBvbmx5IGF2YWlsYWJsZSBpblxuICoge0BsaW5rIC9lbi9kb2NzL3ZpZXdlci92Ny9yZWZlcmVuY2UvRXh0ZW5zaW9ucy9NYXJrdXBzQ29yZS8jZW50ZXJlZGl0bW9kZS1sYXllcmlkfEVkaXQgbW9kZX0uXG4gKlxuICogQG1lbWJlcm9mIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZVxuICogQGFsaWFzIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZS5hbGxvd05hdmlnYXRpb25cbiAqIEBtZXRob2QgYWxsb3dOYXZpZ2F0aW9uXG4gKlxuICogQHBhcmFtIHtib29sZWFufSBhbGxvdyAtIFdoZXRoZXIgY2FtZXJhIG5hdmlnYXRpb24gaW50ZXJhY3Rpb25zIGFyZSBhY3RpdmUgb3Igbm90LlxuICovXG5NYXJrdXBzQ29yZS5wcm90b3R5cGUuYWxsb3dOYXZpZ2F0aW9uID0gZnVuY3Rpb24oYWxsb3cpIHtcblxuICAgIC8vd2Ugd2lsbCBzdGlsbCBuZWVkIHRvIHVwZGF0ZSB0aGUgbWFya3VwIHN0eWxlcyBldmVuIGlmIGluIHBlcnNwZWN0aXZlIG1vZGVcbiAgICB2YXIgZWRpdE1vZGUgPSB0aGlzLmVkaXRNb2RlO1xuICAgIHRoaXMubmF2aWdhdGluZyA9IGFsbG93O1xuXG4gICAgaWYgKGFsbG93KXtcbiAgICAgICAgdGhpcy5zdmcuc2V0QXR0cmlidXRlKFwicG9pbnRlci1ldmVudHNcIiwgXCJub25lXCIpO1xuICAgICAgICBlZGl0TW9kZSAmJiB0aGlzLnNlbGVjdE1hcmt1cChudWxsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN2Zy5zZXRBdHRyaWJ1dGUoXCJwb2ludGVyLWV2ZW50c1wiLCBcInBhaW50ZWRcIik7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHBvaW50ZXIgZXZlbnRzIGZvciBhbGwgbWFya3Vwcy5cbiAgICB2YXIgbWFya3VwcyA9IHRoaXMubWFya3VwcztcbiAgICB2YXIgbWFya3Vwc0NvdW50ID0gbWFya3Vwcy5sZW5ndGg7XG5cbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgbWFya3Vwc0NvdW50OyArK2kpIHtcbiAgICAgICAgbWFya3Vwc1tpXS51cGRhdGVTdHlsZSgpO1xuICAgIH1cbiAgICBlZGl0TW9kZSAmJiBlZGl0TW9kZS5ub3RpZnlBbGxvd05hdmlnYXRpb24oYWxsb3cpO1xuXG4gICAgLy8gTmF2aWdhdGlvbiBpcyBub3QgYWxsb3dlZCB3aGlsZSBpbiBwZXJzcGVjdGl2ZSBtb2RlLlxuICAgIGlmIChhbGxvdyAmJiAodGhpcy5kdXJpbmdFZGl0TW9kZSB8fCB0aGlzLmR1cmluZ1ZpZXdNb2RlKSAmJiAhdGhpcy5pc05hdmlnYXRpb25BbGxvd2VkKCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIENsZWFyIHNuYXBwZXIuXG4gICAgaWYgKGFsbG93ICYmIHRoaXMuc25hcHBlcikge1xuICAgICAgICB0aGlzLnNuYXBwZXIuaW5kaWNhdG9yLmNsZWFyT3ZlcmxheXMoKTtcbiAgICAgICAgdGhpcy5zbmFwcGVyLmNsZWFyU25hcHBlZCgpO1xuICAgIH1cblxuICAgIHRoaXMubWFya3VwVG9vbC5hbGxvd05hdmlnYXRpb24oYWxsb3cpO1xuXG59O1xuXG4vKipcbiAqIFNldHMgbW91c2UgaW50ZXJhY3Rpb25zIGFuZCBtb2JpbGUgZGV2aWNlIGdlc3R1cmVzIHdpdGggbWFya3Vwcy4gT25seSBhcHBsaWNhYmxlIGluXG4gKiB7QGxpbmsgL2VuL2RvY3Mvdmlld2VyL3Y3L3JlZmVyZW5jZS9FeHRlbnNpb25zL01hcmt1cHNDb3JlLyNlbnRlcmVkaXRtb2RlLWxheWVyaWR8RWRpdCBtb2RlfS5cbiAqXG4gKiBAbWVtYmVyb2YgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlXG4gKiBAYWxpYXMgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlLmRpc2FibGVNYXJrdXBJbnRlcmFjdGlvbnNcbiAqIEBtZXRob2QgZGlzYWJsZU1hcmt1cEludGVyYWN0aW9uc1xuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZGlzYWJsZSAtIHRydWUgdG8gZGlzYWJsZSBpbnRlcmFjdGlvbnMgd2l0aCBtYXJrdXBzOyBmYWxzZSB0byBlbmFibGUgaW50ZXJhY3Rpb25zIHdpdGggbWFya3VwczsgZGVmYXVsdCBmYWxzZS5cbiAqL1xuTWFya3Vwc0NvcmUucHJvdG90eXBlLmRpc2FibGVNYXJrdXBJbnRlcmFjdGlvbnMgPSBmdW5jdGlvbihkaXNhYmxlKSB7XG5cbiAgICBpZiAodGhpcy5lZGl0TW9kZVN2Z0xheWVyTm9kZSkge1xuICAgICAgICB0aGlzLmVkaXRNb2RlU3ZnTGF5ZXJOb2RlLnN2Zy5zZXRBdHRyaWJ1dGUoJ2N1cnNvcicsIGRpc2FibGUgPyAnaW5oZXJpdCcgOiAnZGVmYXVsdCcpO1xuICAgIH1cbiAgICB0aGlzLm1hcmt1cHMuZm9yRWFjaChmdW5jdGlvbihtYXJrdXApIHttYXJrdXAuZGlzYWJsZUludGVyYWN0aW9ucyhkaXNhYmxlKTt9KTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBpc0FjdGl2ZVxuICogQHByaXZhdGVcbiAqL1xuTWFya3Vwc0NvcmUucHJvdG90eXBlLmFjdGl2YXRlVG9vbCA9IGZ1bmN0aW9uKGlzQWN0aXZlKSB7XG4gICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgIGlmICghdGhpcy5jYWNoZWROYXZpZ2F0aW9uVG9vbCkge1xuICAgICAgICAgICAgdGhpcy5jYWNoZWROYXZpZ2F0aW9uVG9vbCA9IHRoaXMudmlld2VyLmdldEFjdGl2ZU5hdmlnYXRpb25Ub29sKCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdlci5hZGRFdmVudExpc3RlbmVyKEF1dG9kZXNrLlZpZXdpbmcuVE9PTF9DSEFOR0VfRVZFTlQsIHRoaXMub25Ub29sQ2hhbmdlQmluZGVkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdlci5zZXRBY3RpdmVOYXZpZ2F0aW9uVG9vbCh0aGlzLm1hcmt1cFRvb2wuZ2V0TmFtZSgpKTtcbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIGlmICh0aGlzLmNhY2hlZE5hdmlnYXRpb25Ub29sKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlci5zZXRBY3RpdmVOYXZpZ2F0aW9uVG9vbCh0aGlzLmNhY2hlZE5hdmlnYXRpb25Ub29sKTtcbiAgICAgICAgICAgIHRoaXMuY2FjaGVkTmF2aWdhdGlvblRvb2wgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRUb29sTmFtZSA9IHRoaXMudmlld2VyLmdldERlZmF1bHROYXZpZ2F0aW9uVG9vbE5hbWUoKTtcbiAgICAgICAgICAgIHRoaXMudmlld2VyLnNldEFjdGl2ZU5hdmlnYXRpb25Ub29sKGRlZmF1bHRUb29sTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZpZXdlci5yZW1vdmVFdmVudExpc3RlbmVyKEF1dG9kZXNrLlZpZXdpbmcuVE9PTF9DSEFOR0VfRVZFTlQsIHRoaXMub25Ub29sQ2hhbmdlQmluZGVkKTtcbiAgICB9XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0gZXZlbnRcbiAqIEBwcml2YXRlXG4gKi9cbk1hcmt1cHNDb3JlLnByb3RvdHlwZS5vblRvb2xDaGFuZ2UgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgaWYgKGV2ZW50LnRvb2xOYW1lICE9PSB0aGlzLm1hcmt1cFRvb2wuZ2V0TmFtZSgpKVxuICAgICAgICByZXR1cm47XG5cbiAgICBpZiAoZXZlbnQuYWN0aXZlKSB7XG4gICAgICAgIHZhciBuYXZBbGxvd2VkID0gdGhpcy5pc05hdmlnYXRpb25BbGxvd2VkKCk7XG4gICAgICAgIHRoaXMudmlld2VyLnNldE5hdmlnYXRpb25Mb2NrU2V0dGluZ3Moe1xuICAgICAgICAgICAgcGFuICAgICAgOiBuYXZBbGxvd2VkLFxuICAgICAgICAgICAgem9vbSAgICAgOiBuYXZBbGxvd2VkLFxuICAgICAgICAgICAgb3JiaXQgICAgOiBmYWxzZSxcbiAgICAgICAgICAgIHJvbGwgICAgIDogZmFsc2UsXG4gICAgICAgICAgICBmb3YgICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgd2FsayAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgIGdvdG92aWV3IDogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMudmlld2VyLnNldE5hdmlnYXRpb25Mb2NrKGV2ZW50LmFjdGl2ZSk7XG59O1xuXG5NYXJrdXBzQ29yZS5wcm90b3R5cGUub25Vbml0c0NhbGlicmF0aW9uU3RhcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuZHVyaW5nRWRpdE1vZGUpIHtcbiAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfVxufTtcblxuLy8vLyBJbnB1dCAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxucHJvdG8uY2hhbmdlSW5wdXRIYW5kbGVyID0gZnVuY3Rpb24oaW5wdXRIYW5kbGVyKSB7XG5cbiAgICB0aGlzLmlucHV0LmRldGFjaEZyb20odGhpcyk7XG4gICAgaW5wdXRIYW5kbGVyLmF0dGFjaFRvKHRoaXMpO1xuICAgIHRoaXMuaW5wdXQgPSBpbnB1dEhhbmRsZXI7XG5cbiAgICBpZiAodGhpcy5kdXJpbmdFZGl0TW9kZSkge1xuICAgICAgICBpbnB1dEhhbmRsZXIuZW50ZXJFZGl0TW9kZSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmR1cmluZ1ZpZXdNb2RlKSB7XG4gICAgICAgIGlucHV0SGFuZGxlci5lbnRlclZpZXdNb2RlKCk7XG4gICAgfVxufTtcblxuLy8vLyBDb3B5IGFuZCBQYXN0ZSBTeXN0ZW0gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBTdGFuZGFyZCBjb3B5IG9wZXJhdGlvbi4gQXBwbGllcyB0byBhbnkgc2VsZWN0ZWQgbWFya3VwLjxicj5cbiAqIFNlZSBhbHNvIHtAbGluayAvZW4vZG9jcy92aWV3ZXIvdjcvcmVmZXJlbmNlL0V4dGVuc2lvbnMvTWFya3Vwc0NvcmUvI2N1dC0xfGN1dCgpfSBhbmRcbiAqe0BsaW5rIC9lbi9kb2NzL3ZpZXdlci92Ny9yZWZlcmVuY2UvRXh0ZW5zaW9ucy9NYXJrdXBzQ29yZS8jcGFzdGUtMnxwYXN0ZSgpfS5cbiAqXG4gKiBAbWVtYmVyb2YgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlXG4gKiBAYWxpYXMgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlI2NvcHlcbiAqIEBtZXRob2QgY29weVxuICovXG5NYXJrdXBzQ29yZS5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5jbGlwYm9hcmQuY29weSgpO1xufTtcblxuLyoqXG4gKiBTdGFuZGFyZCBjdXQgb3BlcmF0aW9uLiBBcHBsaWVzIHRvIGFueSBzZWxlY3RlZCBtYXJrdXAsIHdoaWNoIGdldHMgcmVtb3ZlZCBmcm9tIHRoZSBzY3JlZW4gYXQgY2FsbCB0aW1lLjxicj5cbiAqIFNlZSBhbHNvIHtAbGluayAvZW4vZG9jcy92aWV3ZXIvdjcvcmVmZXJlbmNlL0V4dGVuc2lvbnMvTWFya3Vwc0NvcmUvI2NvcHl8Y29weSgpfSBhbmRcbiAqe0BsaW5rIC9lbi9kb2NzL3ZpZXdlci92Ny9yZWZlcmVuY2UvRXh0ZW5zaW9ucy9NYXJrdXBzQ29yZS8jcGFzdGUtMnxwYXN0ZSgpfS5cbiAqXG4gKiBAbWVtYmVyb2YgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlXG4gKiBAYWxpYXMgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlI2N1dFxuICogQG1ldGhvZCBjdXRcbiAqL1xuTWFya3Vwc0NvcmUucHJvdG90eXBlLmN1dCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5jbGlwYm9hcmQuY3V0KCk7XG59O1xuXG4vKipcbiAqIFN0YW5kYXJkIHBhc3RlIG9wZXJhdGlvbi4gVGhpcyBmdW5jdGlvbiB3aWxsIHBhc3RlIGFueSBwcmV2aW91c2x5IGNvcGllZCBvciBjdXQgbWFya3VwLlxuICogQ2FuIGJlIGNhbGxlZCByZXBlYXRlZGx5IGFmdGVyIGEgc2luZ2xlIGNvcHkgb3IgY3V0IG9wZXJhdGlvbi48YnI+XG4gKiBTZWUgYWxzbyB7QGxpbmsgL2VuL2RvY3Mvdmlld2VyL3Y3L3JlZmVyZW5jZS9FeHRlbnNpb25zL01hcmt1cHNDb3JlLyNjb3B5fGNvcHkoKX0gYW5kXG4gKiB7QGxpbmsgL2VuL2RvY3Mvdmlld2VyL3Y3L3JlZmVyZW5jZS9FeHRlbnNpb25zL01hcmt1cHNDb3JlLyNjdXQtMXxjdXQoKX0uXG4gKlxuICogQG1lbWJlcm9mIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZVxuICogQGFsaWFzIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZSNwYXN0ZVxuICogQG1ldGhvZCBwYXN0ZVxuICovXG5NYXJrdXBzQ29yZS5wcm90b3R5cGUucGFzdGUgPSBmdW5jdGlvbigpIHtcblxuICAgIHRoaXMuY2xpcGJvYXJkLnBhc3RlKCk7XG59O1xuXG4vLy8vIFVuZG8gYW5kIFJlZG8gU3lzdGVtIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLyoqXG4gKiBXaWxsIHVuZG8gdGhlIHByZXZpb3VzIG9wZXJhdGlvbi48YnI+XG4gKiBUaGUgVW5kby9SZWRvIHN0YWNrcyB3aWxsIHRyYWNrIGFueSBjaGFuZ2UgZG9uZSB0byB0aGUgZXhpc3RpbmcgbWFya3Vwcy48YnI+XG4gKiBTZWUgYWxzbyB7QGxpbmsgL2VuL2RvY3Mvdmlld2VyL3Y3L3JlZmVyZW5jZS9FeHRlbnNpb25zL01hcmt1cHNDb3JlLyNyZWRvLTF8cmVkbygpfSBhbmRcbiAqIHtAbGluayAvZW4vZG9jcy92aWV3ZXIvdjcvcmVmZXJlbmNlL0V4dGVuc2lvbnMvTWFya3Vwc0NvcmUvI2lzVW5kb1N0YWNrRW1wdHl8aXNVbmRvU3RhY2tFbXB0eSgpfS5cbiAqXG4gKiBAbWVtYmVyb2YgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlXG4gKiBAYWxpYXMgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlI3VuZG9cbiAqIEBtZXRob2QgdW5kb1xuICovXG5NYXJrdXBzQ29yZS5wcm90b3R5cGUudW5kbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5hY3Rpb25NYW5hZ2VyLnVuZG8oKTtcbn07XG5cbi8qKlxuICogV2lsbCByZWRvIGFueSBwcmV2aW91c2x5IHVuZG8gb3BlcmF0aW9uLjxicj5cbiAqIFNlZSBhbHNvIHtAbGluayAvZW4vZG9jcy92aWV3ZXIvdjcvcmVmZXJlbmNlL0V4dGVuc2lvbnMvTWFya3Vwc0NvcmUvI3VuZG98dW5kbygpfSxcbiAqIHtAbGluayAvZW4vZG9jcy92aWV3ZXIvdjcvcmVmZXJlbmNlL0V4dGVuc2lvbnMvTWFya3Vwc0NvcmUvI2lzUmVkb1N0YWNrRW1wdHl8aXNSZWRvU3RhY2tFbXB0eSgpfS5cbiAqXG4gKiBAbWVtYmVyb2YgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlXG4gKiBAYWxpYXMgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlI3JlZG9cbiAqIEBtZXRob2QgcmVkb1xuICovXG5NYXJrdXBzQ29yZS5wcm90b3R5cGUucmVkbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5hY3Rpb25NYW5hZ2VyLnJlZG8oKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIHdoZW4ge0BsaW5rIC9lbi9kb2NzL3ZpZXdlci92Ny9yZWZlcmVuY2UvRXh0ZW5zaW9ucy9NYXJrdXBzQ29yZS8jdW5kb3x1bmRvKCl9IHByb2R1Y2VzIG5vIGNoYW5nZXMuXG4gKlxuICogQG1lbWJlcm9mIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZVxuICogQGFsaWFzIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZSNpc1VuZG9TdGFja0VtcHR5XG4gKiBAbWV0aG9kIGlzVW5kb1N0YWNrRW1wdHlcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGVyZSBhcmUgbm8gY2hhbmdlcyB0byB1bmRvOyBmYWxzZSBpZiB0aGVyZSBhcmUgY2hhbmdlcyB0byB1bmRvLlxuICovXG5NYXJrdXBzQ29yZS5wcm90b3R5cGUuaXNVbmRvU3RhY2tFbXB0eSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgcmV0dXJuIHRoaXMuYWN0aW9uTWFuYWdlci5pc1VuZG9TdGFja0VtcHR5KCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSB3aGVuIHtAbGluayAvZW4vZG9jcy92aWV3ZXIvdjcvcmVmZXJlbmNlL0V4dGVuc2lvbnMvTWFya3Vwc0NvcmUvI3JlZG8tMXxyZWRvKCl9IHByb2R1Y2VzIG5vIGNoYW5nZXMuXG4gKlxuICogQG1lbWJlcm9mIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZVxuICogQGFsaWFzIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZSNpc1JlZG9TdGFja0VtcHR5XG4gKiBAbWV0aG9kIGlzUmVkb1N0YWNrRW1wdHlcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGVyZSBhcmUgbm8gY2hhbmdlcyB0byByZWRvOyBmYWxzZSBpZiB0aGVyZSBhcmUgY2hhbmdlcyB0byByZWRvLlxuICovXG5NYXJrdXBzQ29yZS5wcm90b3R5cGUuaXNSZWRvU3RhY2tFbXB0eSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgcmV0dXJuIHRoaXMuYWN0aW9uTWFuYWdlci5pc1JlZG9TdGFja0VtcHR5KCk7XG59O1xuXG5wcm90by5iZWdpbkFjdGlvbkdyb3VwID0gZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLmFjdGlvbk1hbmFnZXIuYmVnaW5BY3Rpb25Hcm91cCgpO1xufTtcblxucHJvdG8uY2xvc2VBY3Rpb25Hcm91cCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5hY3Rpb25NYW5hZ2VyLmNsb3NlQWN0aW9uR3JvdXAoKTtcbn07XG5cbnByb3RvLmNhbmNlbEFjdGlvbkdyb3VwID0gZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLmFjdGlvbk1hbmFnZXIuY2FuY2VsQWN0aW9uR3JvdXAoKTtcbn07XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIGZvciBnZW5lcmF0aW5nIHVuaXF1ZSBtYXJrdXAgaWRzLlxuICpcbiAqIEBtZW1iZXJvZiBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwc0NvcmVcbiAqIEBhbGlhcyBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwc0NvcmUjZ2V0SWRcbiAqIEBtZXRob2QgZ2V0SWRcbiAqXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5wcm90by5nZXRJZCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgcmV0dXJuICsrdGhpcy5uZXh0SWQ7XG59O1xuXG4vKipcbiAqIEBwYXJhbSBldmVudFxuICogQHByaXZhdGVcbiAqL1xucHJvdG8ub25FZGl0QWN0aW9uSGlzdG9yeUNoYW5nZWQgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGRhdGEgPSBldmVudC5kYXRhO1xuICAgIGlmKChkYXRhLmFjdGlvbiAhPT0gJ3VuZG8nICYmIGRhdGEudGFyZ2V0SWQgIT09IC0xKSkge1xuXG4gICAgICAgIC8vIE1hcmt1cCBjYW4gYmUgbnVsbCB3aGVuIGRlbGV0aW5nLCB0aGF0J3Mgb2ssIHdlIHVuc2VsZWN0IGluIHRoYXQgY2FzZS5cbiAgICAgICAgbGV0IG1hcmt1cCA9IHRoaXMuZ2V0TWFya3VwKGRhdGEudGFyZ2V0SWQpO1xuICAgICAgICB0aGlzLnNlbGVjdE1hcmt1cChtYXJrdXApO1xuICAgIH1cbiAgICBpZihkYXRhLmFjdGlvbiA9PT0gJ3VuZG8nICYmICF0aGlzLmlzVW5kb1N0YWNrRW1wdHkoKSkge1xuXG4gICAgICAgIGxldCBtYXJrdXAgPSB0aGlzLmdldE1hcmt1cCh0aGlzLmFjdGlvbk1hbmFnZXIuZ2V0TGFzdEVsZW1lbnRJblVuZG9TdGFjaygpLmdldFRhcmdldElkKCkpO1xuICAgICAgICB0aGlzLnNlbGVjdE1hcmt1cChtYXJrdXApO1xuICAgIH1cblxuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSBtYXJrdXAgd2l0aCB0aGUgc3BlY2lmaWVkIElELiBSZXR1cm5zIG51bGwgd2hlbiBub3QgZm91bmQuXG4gKiBUaGUgSUQgY2FuIGJlIHJldHJpZXZlZCBmcm9tIHRoZSByZXR1cm4gdmFsdWUgb2YgZ2V0U2VsZWN0aW9uKCkuIDxicj5cbiAqIFNlZSBhbHNvXG4gKiB7QGxpbmsgL2VuL2RvY3Mvdmlld2VyL3Y3L3JlZmVyZW5jZS9FeHRlbnNpb25zL01hcmt1cHNDb3JlLyNnZXRzZWxlY3Rpb24tMXxnZXRTZWxlY3Rpb24oKX0uXG4gKlxuICogQG1lbWJlcm9mIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZVxuICogQGFsaWFzIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZSNnZXRNYXJrdXBcbiAqIEBtZXRob2QgZ2V0TWFya3VwXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkIE1hcmt1cCBpZGVudGlmaWVyLlxuICogQHJldHVybnMge0F1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzLkNvcmUuTWFya3VwfSBSZXR1cm5zIG1hcmt1cCBvYmplY3QuXG4gKi9cbk1hcmt1cHNDb3JlLnByb3RvdHlwZS5nZXRNYXJrdXAgPSBmdW5jdGlvbihpZCkge1xuXG4gICAgdmFyIG1hcmt1cHMgPSB0aGlzLm1hcmt1cHM7XG4gICAgdmFyIG1hcmt1cHNDb3VudCA9IG1hcmt1cHMubGVuZ3RoO1xuXG4gICAgZm9yKHZhciBpID0gMDsgaSA8IG1hcmt1cHNDb3VudDsgKytpKSB7XG4gICAgICAgIGlmIChtYXJrdXBzW2ldLmlkID09IGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFya3Vwc1tpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufTtcblxuXG4vKipcbiAqIFNlbGVjdHMgb3IgZGVzZWxlY3RzIGEgbWFya3VwLiBBIHNlbGVjdGVkIG1hcmt1cCBnZXRzIGFuIG92ZXJsYXllZCBVSSB0aGF0IGFsbG93cyB5b3UgdG8gcGVyZm9ybSB0cmFuc2Zvcm1hdGlvbnNcbiAqIHN1Y2ggYXMgcmVzaXppbmcsIHJvdGF0aW9ucywgYW5kIHRyYW5zbGF0aW9ucy4gVG8gZGVzZWxlY3QgYSBtYXJrdXAsIHNlbmQgYSBudWxsIHZhbHVlLiA8YnI+XG4gKiBTZWUgYWxzbyB7QGxpbmsgL2VuL2RvY3Mvdmlld2VyL3Y3L3JlZmVyZW5jZS9FeHRlbnNpb25zL01hcmt1cHNDb3JlLyNnZXRtYXJrdXAtaWR8Z2V0TWFya3VwKCl9LlxuICpcbiAqIEBtZW1iZXJvZiBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwc0NvcmVcbiAqIEBhbGlhcyBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwc0NvcmUjc2VsZWN0TWFya3VwXG4gKiBAbWV0aG9kIHNlbGVjdE1hcmt1cFxuICpcbiAqIEBwYXJhbSB7QXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZS5NYXJrdXB8bnVsbH0gbWFya3VwIFRoZSBtYXJrdXAgaW5zdGFuY2UgdG8gc2VsZWN0LiBTZXQgdGhlIHZhbHVlIHRvIG51bGwgdG8gZGVzZWxlY3QgYSBtYXJrdXAuXG4gKi9cbk1hcmt1cHNDb3JlLnByb3RvdHlwZS5zZWxlY3RNYXJrdXAgPSBmdW5jdGlvbihtYXJrdXApIHtcblxuICAgIGlmIChtYXJrdXApIHtcblxuICAgICAgICBpZiAodGhpcy5lZGl0TW9kZS50eXBlID09PSBtYXJrdXAudHlwZSkge1xuICAgICAgICAgICAgdGhpcy5lZGl0TW9kZS5zZXRTZWxlY3Rpb24obWFya3VwKTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgdmFyIGVkaXRNb2RlID0gbWFya3VwLmdldEVkaXRNb2RlKCk7XG4gICAgICAgICAgICBlZGl0TW9kZS5zZXRTZWxlY3Rpb24obnVsbCk7XG5cbiAgICAgICAgICAgIHRoaXMuY2hhbmdlRWRpdE1vZGUoZWRpdE1vZGUpO1xuICAgICAgICAgICAgdGhpcy5zZXRTdHlsZShtYXJrdXAuZ2V0U3R5bGUoKSk7XG4gICAgICAgICAgICB0aGlzLmVkaXRNb2RlLnNldFNlbGVjdGlvbihtYXJrdXApO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZml4IGZvciB0ZXh0IG1hcmt1cCBpbiB2aWV3IG1vZGVcbiAgICAgICAgaWYgKHRoaXMuZWRpdE1vZGUpe1xuICAgICAgICAgICAgdGhpcy5lZGl0TW9kZS5zZXRTZWxlY3Rpb24obnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBtYXJrdXAuIEEgc2VsZWN0ZWQgbWFya3VwIGhhcyBhIGN1c3RvbSBVSSBvdmVybGF5ZWQgdGhhdCBhbGxvd3MgeW91IHRvIHBlcmZvcm1cbiAqIHJlc2l6aW5nLCByb3RhdGlvbnMgYW5kIHRyYW5zbGF0aW9ucy48YnI+XG4gKiBTZWUgYWxzb1xuICoge0BsaW5rIC9lbi9kb2NzL3ZpZXdlci92Ny9yZWZlcmVuY2UvRXh0ZW5zaW9ucy9NYXJrdXBzQ29yZS8jc2VsZWN0bWFya3VwLW1hcmt1cHxzZWxlY3RNYXJrdXAoKX0uXG4gKlxuICogQG1lbWJlcm9mIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZVxuICogQGFsaWFzIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZSNnZXRTZWxlY3Rpb25cbiAqIEBtZXRob2QgZ2V0U2VsZWN0aW9uXG4gKlxuICogQHJldHVybnMge0F1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzLkNvcmUuTWFya3VwfG51bGx9IFJldHVybnMgc2VsZWN0ZWQgbWFya3VwIG9iamVjdDsgbnVsbCBpZiBubyBtYXJrdXAgaXMgc2VsZWN0ZWQuXG4gKi9cbk1hcmt1cHNDb3JlLnByb3RvdHlwZS5nZXRTZWxlY3Rpb24gPSBmdW5jdGlvbigpIHtcblxuICAgIHJldHVybiB0aGlzLmVkaXRNb2RlLmdldFNlbGVjdGlvbigpO1xufTtcblxuLyoqXG4gKiBEZWxldGVzIGEgbWFya3VwIGZyb20gdGhlIGNhbnZhcy4gT25seSBhcHBsaWVzIHdoaWxlIGluXG4gKiB7QGxpbmsgL2VuL2RvY3Mvdmlld2VyL3Y3L3JlZmVyZW5jZS9FeHRlbnNpb25zL01hcmt1cHNDb3JlLyNlbnRlcmVkaXRtb2RlLWxheWVyaWR8RWRpdCBtb2RlfS5cbiAqXG4gKiBAbWVtYmVyb2YgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlXG4gKiBAYWxpYXMgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlI2RlbGV0ZU1hcmt1cFxuICogQG1ldGhvZCBkZWxldGVNYXJrdXBcbiAqXG4gKiBAcGFyYW0ge0F1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzLkNvcmUuTWFya3VwfSBtYXJrdXAgLSBNYXJrdXAgb2JqZWN0LlxuICogQHBhcmFtIHtib29sZWFufSBbZG9udEFkZFRvSGlzdG9yeV0gV2hldGhlciBkZWxldGUgYWN0aW9uIGNhbiBiZSB7QGxpbmsgL2VuL2RvY3Mvdmlld2VyL3Y3L3JlZmVyZW5jZS9FeHRlbnNpb25zL01hcmt1cHNDb3JlLyN1bmRvfHVuZG9uZX0uXG4gKi9cbk1hcmt1cHNDb3JlLnByb3RvdHlwZS5kZWxldGVNYXJrdXAgPSBmdW5jdGlvbihtYXJrdXAsIGRvbnRBZGRUb0hpc3RvcnkpIHtcblxuICAgIGlmICghdGhpcy5lZGl0TW9kZSB8fCAodGhpcy5lZGl0TW9kZSAmJiB0aGlzLmVkaXRNb2RlLnNlbGVjdGVkTWFya3VwLmlkICE9PSBtYXJrdXAuaWQpKSB7XG4gICAgICAgIHRoaXMuZWRpdE1vZGUgPSBtYXJrdXAuZ2V0RWRpdE1vZGUoKTtcbiAgICB9XG4gICAgdGhpcy5lZGl0TW9kZS5kZWxldGVNYXJrdXAobWFya3VwLCBkb250QWRkVG9IaXN0b3J5KTtcbn07XG5cbnByb3RvLmFkZE1hcmt1cCA9IGZ1bmN0aW9uKG1hcmt1cCkge1xuXG4gICAgdmFyIG1hcmt1cHM7XG4gICAgdmFyIGxheWVyID0gdGhpcy5hY3RpdmVMYXllcjtcbiAgICB2YXIgbGF5ZXJPYmplY3QgPSB0aGlzLnN2Z0xheWVyc01hcFtsYXllcl0gfHwgJyc7XG5cbiAgICBpZiAobGF5ZXJPYmplY3QpIHtcbiAgICAgICAgdmFyIHN2Z1BhcmVudCA9IGxheWVyT2JqZWN0LnN2ZztcbiAgICAgICAgLy8gYXBwZW5kIG1hcmt1cCBzdmcgdG8gbGF5ZXIgc3ZnXG4gICAgICAgIG1hcmt1cC5zZXRQYXJlbnQoc3ZnUGFyZW50KTtcbiAgICAgICAgLy8gQWRkIG1hcmt1cCB0byBsYXllciBtYXJrdXBzIGlmIGl0IGRvZXMgbm90IGV4aXN0XG4gICAgICAgIGxheWVyT2JqZWN0Lm1hcmt1cHMucHVzaChtYXJrdXApO1xuICAgICAgICBtYXJrdXBzID0gbGF5ZXJPYmplY3QubWFya3Vwcy5zbGljZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGlmIGxheWVyIGlzIHVuZGVmaW5lZCBjcmVhdGUgYSBlZGl0IG1vZGUgc3ZnIGxheWVyXG4gICAgICAgIG1hcmt1cC5zZXRQYXJlbnQodGhpcy5lZGl0TW9kZVN2Z0xheWVyTm9kZS5zdmcpO1xuICAgICAgICB0aGlzLmVkaXRNb2RlU3ZnTGF5ZXJOb2RlLm1hcmt1cHMucHVzaChtYXJrdXApO1xuICAgICAgICBtYXJrdXBzID0gdGhpcy5lZGl0TW9kZVN2Z0xheWVyTm9kZS5tYXJrdXBzLnNsaWNlKCk7XG4gICAgfVxuXG4gICAgbWFya3VwLmFkZEV2ZW50TGlzdGVuZXIoTWFya3VwRXZlbnRzLkVWRU5UX01BUktVUF9TRUxFQ1RFRCwgdGhpcy5vbk1hcmt1cFNlbGVjdGVkQmluZGVkKTtcbiAgICBtYXJrdXAuYWRkRXZlbnRMaXN0ZW5lcihNYXJrdXBFdmVudHMuRVZFTlRfTUFSS1VQX0VOVEVSX0VESVRJT04sIHRoaXMub25NYXJrdXBFbnRlckVkaXRpb25CaW5kZWQpO1xuICAgIG1hcmt1cC5hZGRFdmVudExpc3RlbmVyKE1hcmt1cEV2ZW50cy5FVkVOVF9NQVJLVVBfQ0FOQ0VMX0VESVRJT04sIHRoaXMub25NYXJrdXBDYW5jZWxFZGl0aW9uQmluZGVkKTtcbiAgICBtYXJrdXAuYWRkRXZlbnRMaXN0ZW5lcihNYXJrdXBFdmVudHMuRVZFTlRfTUFSS1VQX0RFTEVURV9FRElUSU9OLCB0aGlzLm9uTWFya3VwRGVsZXRlRWRpdGlvbkJpbmRlZCk7XG4gICAgLy8gT25seSBzZXQgdGhlIGdsb2JhbCBtYXJrdXBzIGFycmF5IHdoZW4gaW4gZWRpdCBtb2RlXG4gICAgaWYgKHRoaXMuZHVyaW5nRWRpdE1vZGUpIHtcbiAgICAgICAgdGhpcy5tYXJrdXBzID0gbWFya3VwcztcbiAgICB9XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0gbWFya3VwXG4gKiBAcHJpdmF0ZVxuICovXG5wcm90by5yZW1vdmVNYXJrdXAgPSBmdW5jdGlvbihtYXJrdXApIHtcblxuICAgIGlmICghbWFya3VwKXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxheWVyIG1hcmt1cHMgaW4gd2hpY2ggdGhlIG1hcmt1cCBleGlzdHMuXG4gICAgICogVGhpcyBmdW5jdGlvbiB3aWxsIHJlbW92ZSB0aGUgbWFya3VwIGlmIGl0IGV4aXN0cyBpbiB0aGUgY29ycmVzcG9uZGluZyBsYXllciBtYXJrdXBzIGFycmF5LlxuICAgICAqXG4gICAgICogQHBhcmFtIG1hcmt1cFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IHJldHVybnMgLTEgaWYgdGhlIG1hcmt1cCBkb2VzIG5vdCBleGlzdCBpbiBhIGxheWVyIG1hcmt1cHMgYXJyYXlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW1vdmVNYXJrdXBJZkV4aXN0cyhtYXJrdXApe1xuICAgICAgICB2YXIgbWFya3VwSW5kZXg7XG4gICAgICAgIHZhciBsYXllck1hcmt1cHMgPSAtMTtcbiAgICAgICAgLy8gY2hlY2sgaWYgdGhlIG1hcmt1cCBleGlzdHMgaW4gdGhlIGVkaXQgbGF5ZXJcbiAgICAgICAgaWYgKHNlbGYuZWRpdE1vZGVTdmdMYXllck5vZGUpe1xuICAgICAgICAgICAgdmFyIGVkaXRMYXllck1hcmt1cHMgPSBzZWxmLmVkaXRNb2RlU3ZnTGF5ZXJOb2RlLm1hcmt1cHM7XG4gICAgICAgICAgICBtYXJrdXBJbmRleCA9IGVkaXRMYXllck1hcmt1cHMuaW5kZXhPZihtYXJrdXApO1xuICAgICAgICAgICAgaWYgKG1hcmt1cEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgbWFya3VwIGZyb20gdGhlIGNvcnJlc3BvbmRpbmcgbWFya3VwIGFycmF5XG4gICAgICAgICAgICAgICAgZWRpdExheWVyTWFya3Vwcy5zcGxpY2UobWFya3VwSW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIGxheWVyTWFya3VwcyA9IGVkaXRMYXllck1hcmt1cHMuc2xpY2UoKTtcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGdsb2JhbCBtYXJrdXBzIGFycmF5IGlmIHRoZSBtYXJrdXAgaXMgaW4gdGhlIGFjdGl2ZSBsYXllclxuICAgICAgICAgICAgICAgIGlmIChzZWxmLmFjdGl2ZUxheWVyID09PSAnJyl7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubWFya3VwcyA9IGxheWVyTWFya3VwcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxheWVyTWFya3VwcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayBpZiB0aGUgbWFya3VwIGV4aXN0cyBpbiBhIGxheWVyXG4gICAgICAgIGlmIChzZWxmLnN2Z0xheWVyc01hcCkge1xuICAgICAgICAgICAgZm9yICh2YXIgbGF5ZXIgaW4gc2VsZi5zdmdMYXllcnNNYXApIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFya3VwcyA9IHNlbGYuc3ZnTGF5ZXJzTWFwW2xheWVyXS5tYXJrdXBzO1xuICAgICAgICAgICAgICAgIG1hcmt1cEluZGV4ID0gbWFya3Vwcy5pbmRleE9mKG1hcmt1cCk7XG4gICAgICAgICAgICAgICAgaWYgKG1hcmt1cEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgdGhlIG1hcmt1cCBmcm9tIHRoZSBjb3JyZXNwb25kaW5nIG1hcmt1cCBhcnJheVxuICAgICAgICAgICAgICAgICAgICBtYXJrdXBzLnNwbGljZShtYXJrdXBJbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGxheWVyTWFya3VwcyA9IG1hcmt1cHMuc2xpY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBnbG9iYWwgbWFya3VwcyBhcnJheSBpZiB0aGUgbWFya3VwIGlzIGluIHRoZSBhY3RpdmUgbGF5ZXJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuYWN0aXZlTGF5ZXIgPT09IGxheWVyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWFya3VwcyA9IGxheWVyTWFya3VwcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGF5ZXJNYXJrdXBzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGF5ZXJNYXJrdXBzO1xuICAgIH1cblxuICAgIHZhciBsYXllck1hcmt1cHMgPSByZW1vdmVNYXJrdXBJZkV4aXN0cyhtYXJrdXApO1xuICAgIGlmIChsYXllck1hcmt1cHMgPT09IC0xKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICBtYXJrdXAuc2V0UGFyZW50KG51bGwpO1xuXG4gICAgbWFya3VwLnJlbW92ZUV2ZW50TGlzdGVuZXIoTWFya3VwRXZlbnRzLkVWRU5UX01BUktVUF9TRUxFQ1RFRCwgdGhpcy5vbk1hcmt1cFNlbGVjdGVkQmluZGVkKTtcbiAgICBtYXJrdXAucmVtb3ZlRXZlbnRMaXN0ZW5lcihNYXJrdXBFdmVudHMuRVZFTlRfTUFSS1VQX0VOVEVSX0VESVRJT04sIHRoaXMub25NYXJrdXBFbnRlckVkaXRpb25CaW5kZWQpO1xuICAgIG1hcmt1cC5yZW1vdmVFdmVudExpc3RlbmVyKE1hcmt1cEV2ZW50cy5FVkVOVF9NQVJLVVBfQ0FOQ0VMX0VESVRJT04sIHRoaXMub25NYXJrdXBDYW5jZWxFZGl0aW9uQmluZGVkKTtcbiAgICBtYXJrdXAucmVtb3ZlRXZlbnRMaXN0ZW5lcihNYXJrdXBFdmVudHMuRVZFTlRfTUFSS1VQX0RFTEVURV9FRElUSU9OLCB0aGlzLm9uTWFya3VwRGVsZXRlRWRpdGlvbkJpbmRlZCk7XG5cbiAgICB2YXIgZWRpdE1vZGUgPSB0aGlzLmVkaXRNb2RlO1xuICAgIGlmIChlZGl0TW9kZSkge1xuICAgICAgICB2YXIgc2VsZWN0ZWRNYXJrdXAgPSBlZGl0TW9kZS5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkTWFya3VwID09PSBtYXJrdXApIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0TWFya3VwKG51bGwpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLy8vLyBNYXJrdXBzIHN0eWxlIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuTWFya3Vwc0NvcmUucHJvdG90eXBlLnNldFN0eWxlID0gZnVuY3Rpb24oc3R5bGUpIHtcblxuICAgIHZhciBzdHlsZXMgPSB0aGlzLnN0eWxlcztcbiAgICB2YXIgZWRpdE1vZGUgPSB0aGlzLmVkaXRNb2RlO1xuXG4gICAgY29weVN0eWxlKHN0eWxlLCBzdHlsZXNbZWRpdE1vZGUudHlwZV0pO1xuICAgIC8vIGNvcHlTdHlsZShzdHlsZXNbZWRpdE1vZGUudHlwZV0sIHN0eWxlKTtcbiAgICBlZGl0TW9kZS5zZXRTdHlsZShzdHlsZXNbZWRpdE1vZGUudHlwZV0pO1xufTtcblxuTWFya3Vwc0NvcmUucHJvdG90eXBlLmdldFN0eWxlID0gZnVuY3Rpb24oKSB7XG5cbiAgICByZXR1cm4gY2xvbmVTdHlsZSh0aGlzLnN0eWxlc1t0aGlzLmVkaXRNb2RlLnR5cGVdKTtcbn07XG5cbk1hcmt1cHNDb3JlLnByb3RvdHlwZS5nZXREZWZhdWx0U3R5bGUgPSBmdW5jdGlvbigpIHtcblxuICAgIHZhciBkZWZhdWx0U3R5bGVBdHRyaWJ1dGVzID0gW1xuICAgICAgICAnc3Ryb2tlLXdpZHRoJyxcbiAgICAgICAgJ2ZvbnQtc2l6ZScsXG4gICAgICAgICdmb250LWZhbWlseScsXG4gICAgICAgICdmb250LXN0eWxlJyxcbiAgICAgICAgJ2ZvbnQtd2VpZ2h0JyxcbiAgICAgICAgJ3N0cm9rZS1jb2xvcicsXG4gICAgICAgICdzdHJva2Utb3BhY2l0eScsXG4gICAgICAgICdmaWxsLWNvbG9yJyxcbiAgICAgICAgJ3RleHQtZGF0YScsXG4gICAgICAgICdmaWxsLW9wYWNpdHknXTtcbiAgICB0aGlzLmRlZmF1bHRTdHlsZSA9IHRoaXMuZGVmYXVsdFN0eWxlIHx8IGNyZWF0ZVN0eWxlKGRlZmF1bHRTdHlsZUF0dHJpYnV0ZXMsIHRoaXMpO1xuXG4gICAgcmV0dXJuIHRoaXMuZGVmYXVsdFN0eWxlO1xufTtcblxuLy8vLyBNYXJrdXBzIGRlcHRoIG9yZGVyIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKlxuICogQHBhcmFtIG1hcmt1cFxuICogQHByaXZhdGVcbiAqL1xucHJvdG8uYnJpbmdUb0Zyb250ID0gZnVuY3Rpb24obWFya3VwKSB7XG5cbiAgICB0aGlzLnNlbmRNYXJrdXBUbyhtYXJrdXAsIHRoaXMubWFya3Vwcy5sZW5ndGgtMSk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0gbWFya3VwXG4gKiBAcHJpdmF0ZVxuICovXG5wcm90by5zZW5kVG9CYWNrID0gZnVuY3Rpb24obWFya3VwKSB7XG5cbiAgICB0aGlzLnNlbmRNYXJrdXBUbyhtYXJrdXAsIDApO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIG1hcmt1cFxuICogQHByaXZhdGVcbiAqL1xucHJvdG8uYnJpbmdGb3J3YXJkID0gZnVuY3Rpb24obWFya3VwKSB7XG5cbiAgICB2YXIgbWFya3VwSW5kZXggPSB0aGlzLm1hcmt1cHMuaW5kZXhPZihtYXJrdXApO1xuICAgIHRoaXMuc2VuZE1hcmt1cFRvKG1hcmt1cCwgbWFya3VwSW5kZXgrMSk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0gbWFya3VwXG4gKiBAcHJpdmF0ZVxuICovXG5wcm90by5icmluZ0JhY2t3YXJkID0gZnVuY3Rpb24obWFya3VwKSB7XG5cbiAgICB2YXIgbWFya3VwSW5kZXggPSB0aGlzLm1hcmt1cHMuaW5kZXhPZihtYXJrdXApO1xuICAgIHRoaXMuc2VuZE1hcmt1cFRvKG1hcmt1cCwgbWFya3VwSW5kZXgtMSk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0gbWFya3VwXG4gKiBAcGFyYW0gaW5kZXhcbiAqIEBwcml2YXRlXG4gKi9cbnByb3RvLnNlbmRNYXJrdXBUbyA9IGZ1bmN0aW9uKG1hcmt1cCwgaW5kZXgpIHtcblxuICAgIHZhciBtYXJrdXBzID0gdGhpcy5tYXJrdXBzO1xuICAgIHZhciBtYXJrdXBJbmRleCA9IG1hcmt1cHMuaW5kZXhPZihtYXJrdXApO1xuXG4gICAgaWYgKG1hcmt1cEluZGV4ID09PSAtMSB8fCBpbmRleCA8IDAgfHwgaW5kZXggPj0gbWFya3Vwcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG1hcmt1cHMuc3BsaWNlKG1hcmt1cEluZGV4LCAxKTtcbiAgICBpbmRleCA9IG1hcmt1cEluZGV4ID4gaW5kZXggPyBpbmRleCAtMSA6IGluZGV4O1xuICAgIG1hcmt1cHMuc3BsaWNlKGluZGV4LCAwLCBtYXJrdXApO1xuXG4gICAgLy8gVE9ETzogQWRkIG1hcmt1cCBpbiByaWdodCBwb3NpdGlvbiBub3QgYWx3YXlzIGF0IHRoZSBlbmQuXG4gICAgbWFya3VwLnNldFBhcmVudChudWxsKTtcbiAgICBpZiAodGhpcy5hY3RpdmVMYXllcil7XG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLnN2Z0xheWVyc01hcFt0aGlzLmFjdGl2ZUxheWVyXS5zdmc7XG4gICAgICAgIG1hcmt1cC5zZXRQYXJlbnQocGFyZW50KTtcbiAgICB9ZWxzZSB7XG4gICAgICAgIG1hcmt1cC5zZXRQYXJlbnQodGhpcy5lZGl0TW9kZVN2Z0xheWVyTm9kZS5zdmcpO1xuICAgIH1cbn07XG5cblxuLyoqXG4gKiBMb2FkcyBkYXRhIChTVkcgc3RyaW5nKSBmb3IgYWxsIG1hcmt1cHMgaW4gYSBzcGVjaWZpZWQgbGF5ZXIgKGxheWVySWQpIHRvIHRoZSBWaWV3ZXIncyBjYW52YXMuPGJyPlxuICpcbiAqIFNlZSBhbHNvXG4gKiB7QGxpbmsgL2VuL2RvY3Mvdmlld2VyL3Y3L3JlZmVyZW5jZS9FeHRlbnNpb25zL01hcmt1cHNDb3JlLyN1bmxvYWRtYXJrdXBzLWxheWVyaWR8dW5sb2FkTWFya3VwcygpfSwgYW5kXG4gKiB7QGxpbmsgL2VuL2RvY3Mvdmlld2VyL3Y3L3JlZmVyZW5jZS9FeHRlbnNpb25zL01hcmt1cHNDb3JlLyNoaWRlbWFya3Vwcy1sYXllcmlkfGhpZGVNYXJrdXBzKCl9LlxuICpcbiAqIEBtZW1iZXJvZiBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwc0NvcmVcbiAqIEBhbGlhcyBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwc0NvcmUubG9hZE1hcmt1cHNcbiAqIEBtZXRob2QgbG9hZE1hcmt1cHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFya3VwU3RyaW5nIC0gU1ZHIHN0cmluZyB3aXRoIG1hcmt1cHMuIFNlZSBhbHNvIHtAbGluayAvZW4vZG9jcy92aWV3ZXIvdjcvcmVmZXJlbmNlL0V4dGVuc2lvbnMvTWFya3Vwc0NvcmUvI2dlbmVyYXRlZGF0YXxnZW5lcmF0ZURhdGEoKX0uXG4gKiBAcGFyYW0ge3N0cmluZ30gbGF5ZXJJZCAtIElkZW50aWZpZXIgZm9yIHRoZSBsYXllciB3aGVyZSB0aGUgbWFya3VwIHNob3VsZCBiZSBsb2FkZWQgdG8uIEV4YW1wbGUgXCJMYXllcjFcIi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBtYXJrdXAgc3RyaW5nIHdhcyBhYmxlIHRvIGJlIGxvYWRlZCBzdWNjZXNzZnVsbHlcbiAqL1xuTWFya3Vwc0NvcmUucHJvdG90eXBlLmxvYWRNYXJrdXBzID0gZnVuY3Rpb24gKG1hcmt1cFN0cmluZywgbGF5ZXJJZCkge1xuXG4gICAgaWYgKHRoaXMuZHVyaW5nRWRpdE1vZGUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiTWFya3VwcyB3aWxsIG5vdCBiZSBsb2FkZWQgZHVyaW5nIHRoZSBlZGl0IG1vZGVcIik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuZHVyaW5nVmlld01vZGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghbGF5ZXJJZCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJsb2FkTWFya3VwcyBmYWlsZWQ7IG1pc3NpbmcgMm5kIGFyZ3VtZW50ICdsYXllcklkJ1wiKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIENhbiBpdCBiZSBwYXJzZWQgaW50byBTVkc/XG4gICAgdmFyIHBhcmVudCA9IHN0cmluZ1RvU3ZnTm9kZShtYXJrdXBTdHJpbmcpO1xuICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgc3VwcGxpZWQgbGF5ZXJJZCBleGlzdHMgaW4gdGhlIHN2ZyBsYXllcnMgbWFwIGFuZCB0aGVyZSBhcmUgY2hpbGRyZW4gaW4gdGhlIHN2ZyB0aGVuIHJldHVybiBmYWxzZS5cbiAgICBpZiAobGF5ZXJJZCBpbiB0aGlzLnN2Z0xheWVyc01hcCAmJiB0aGlzLnN2Zy5jaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVGhpcyBsYXllciBpcyBhbHJlYWR5IGxvYWRlZCwgd2lsbCBub3QgbG9hZCBhZ2Fpbi5cIik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5hY3RpdmVMYXllciA9IGxheWVySWQ7XG4gICAgdmFyIHN2Z0xheWVyTm9kZSA9IHRoaXMuc3ZnTGF5ZXJzTWFwW2xheWVySWRdO1xuXG4gICAgLy8gaWYgdGhlIGxheWVyIGV4aXN0cywgZGVsZXRlIGl0XG4gICAgaWYgKHN2Z0xheWVyTm9kZSlcbiAgICAgICAgZGVsZXRlIHRoaXMuc3ZnTGF5ZXJzTWFwW2xheWVySWRdO1xuXG4gICAgLy8gY3JlYXRlIGFuIGVtcHR5IHBhcmVudCBzdmcgbGF5ZXIgbm9kZSBmb3IgbGF5ZXJJZFxuICAgIC8vIENoaWxkIG1hcmt1cHMgd2lsbCBnZXQgYWRkZWQgdG8gdGggcGFyZW50IHN2ZyBsYXllciBub2RlIGluIHRoZSBhZGRNYXJrdXAgZnVuY3Rpb25cbiAgICB2YXIgbmV3U3ZnID0gdGhpcy5jcmVhdGVMYXllck5vZGUoKTtcblxuICAgIHN2Z0xheWVyTm9kZSA9IHtcbiAgICAgICAgbWFya3VwczogW10sXG4gICAgICAgIHN2Z1N0cmluZzogbWFya3VwU3RyaW5nLFxuICAgICAgICBzdmc6IG5ld1N2Z1xuICAgIH07XG4gICAgdGhpcy5zdmdMYXllcnNNYXBbbGF5ZXJJZF0gPSBzdmdMYXllck5vZGU7XG5cbiAgICB2YXIgY2hpbGRyZW4gPSBwYXJlbnQuY2hpbGROb2RlcztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICB2YXIgbWFya3VwID0gY3JlYXRlTWFya3VwRnJvbVNWRyhjaGlsZCwgdGhpcyk7XG4gICAgICAgIC8vIERpc2FibGUgbWFya3VwcyBpZiBhbHJlYWR5IGluIGVkaXQgbW9kZSBhbmQgdGhlIGFjdGl2ZSBsYXllciBpcyBkaWZmZXJlbnRcbiAgICAgICAgaWYgKG1hcmt1cCAmJiB0aGlzLmR1cmluZ0VkaXRNb2RlICYmIHRoaXMuZWRpdGluZ0xheWVyICE9PSB0aGlzLmFjdGl2ZUxheWVyKSB7XG4gICAgICAgICAgICBtYXJrdXAuZGlzYWJsZUludGVyYWN0aW9ucyh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbWFya3VwICYmIGNoaWxkLmxvY2FsTmFtZSAhPT0gXCJtZXRhZGF0YVwiKSB7XG4gICAgICAgICAgICAvLyBBcHBlbmQgY2hpbGQgcmVtb3ZlcyBpdCBmcm9tIHBhcmVudCBhbmQgY29waWVzIGl0IG92ZXIgdG8gdGhlIG5ldyBzdmcgbGF5ZXIgbm9kZSxcbiAgICAgICAgICAgIC8vIHNvIHdlIG5lZWQgdG8gcmVkdWNlIGluZGV4IGJ5IDEgdG8gY29udGludWUgcHJvcGVyIGl0ZXJhdGlvblxuICAgICAgICAgICAgc3ZnTGF5ZXJOb2RlLnN2Zy5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNoaWxkLnNldEF0dHJpYnV0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZShcInBvaW50ZXItZXZlbnRzXCIsIFwibm9uZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBzdmdQYXJlbnROb2RlID0gdGhpcy5zdmdMYXllcnNNYXBbdGhpcy5hY3RpdmVMYXllcl0uc3ZnO1xuXG4gICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQoc3ZnUGFyZW50Tm9kZSk7XG4gICAgLy8gSWYgYWxyZWFkeSBpbiBhbiBlZGl0IG1vZGUgbGF5ZXIgdGhlbiByZWFzc2lnbiBhY3RpdmUgbGF5ZXIgdG8gZWRpdCBsYXllclxuICAgIGlmKHRoaXMuZHVyaW5nRWRpdE1vZGUgJiYgdGhpcy5lZGl0aW5nTGF5ZXIgIT09IHRoaXMuYWN0aXZlTGF5ZXIpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVMYXllciA9IHRoaXMuZWRpdGluZ0xheWVyO1xuICAgICAgICBpZiAodGhpcy5lZGl0aW5nTGF5ZXIpXG4gICAgICAgICAgICB0aGlzLm1hcmt1cHMgPSB0aGlzLnN2Z0xheWVyc01hcFt0aGlzLmFjdGl2ZUxheWVyXS5tYXJrdXBzLnNsaWNlKCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBUT0RPOiBQcm9iYWJseSB0aGlzIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIG1vdmVkIHRvIE1hcmt1cENvcmVVdGlscy5qc1xuICogQ3JlYXRlcyBhIG5ldyBsYXllciBub2RlXG4gKiAqL1xuXG5wcm90by5jcmVhdGVMYXllck5vZGUgPSBmdW5jdGlvbigpIHtcblxuICAgIHZhciBuZXdTdmdMYXllck5vZGUgPSB0aGlzLmNyZWF0ZVN2Z0VsZW1lbnQoJ2cnKTtcbiAgICBuZXdTdmdMYXllck5vZGUuc2V0QXR0cmlidXRlKCdjdXJzb3InLCAnZGVmYXVsdCcpO1xuICAgIHJldHVybiBuZXdTdmdMYXllck5vZGU7XG59O1xuXG4vKipcbiAqIFJldmVydCBhbnkgY2hhbmdlcyBtYWRlIHRvIHRoZSBzcGVjaWZpYyBsYXllci5cbiAqXG4gKiBTZWUgYWxzbyB7QGxpbmsgL2VuL2RvY3Mvdmlld2VyL3Y3L3JlZmVyZW5jZS9FeHRlbnNpb25zL01hcmt1cHNDb3JlLyNsb2FkbWFya3Vwcy1tYXJrdXBzdHJpbmctbGF5ZXJpZHxsb2FkTWFya3VwcygpfSBhbmRcbiAqIHtAbGluayAvZW4vZG9jcy92aWV3ZXIvdjcvcmVmZXJlbmNlL0V4dGVuc2lvbnMvTWFya3Vwc0NvcmUvI2VudGVyZWRpdG1vZGUtbGF5ZXJpZHxlbnRlckVkaXRNb2RlKCl9LlxuICpcbiAqIEBtZW1iZXJvZiBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwc0NvcmVcbiAqIEBhbGlhcyBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwc0NvcmUucmV2ZXJ0TGF5ZXJcbiAqIEBtZXRob2QgcmV2ZXJ0TGF5ZXJcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbGF5ZXJJZCAtIElEIG9mIHRoZSBsYXllciB0byByZXZlcnQgYW55IGNoYW5nZXMgdGhhdCB3ZXJlIG1hZGUgdG8gaXQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgbGF5ZXIgd2FzIHVubG9hZGVkLCBmYWxzZSBpZiB0aGUgbGF5ZXIgd2FzIG5vdCB1bmxvYWRlZC5cbiAqL1xuTWFya3Vwc0NvcmUucHJvdG90eXBlLnJldmVydExheWVyID0gZnVuY3Rpb24obGF5ZXJJZCl7XG4gICAgaWYgKCFsYXllcklkKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcInJldmVydExheWVyIGZhaWxlZCBiZWNhdXNlIG5vIGxheWVySWQgd2FzIHN1cHBsaWVkLlwiKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgc3ZnTGF5ZXJOb2RlID0gdGhpcy5zdmdMYXllcnNNYXBbbGF5ZXJJZF07XG4gICAgaWYgKCFzdmdMYXllck5vZGUpe1xuICAgICAgICBjb25zb2xlLndhcm4oXCJUaGUgc3VwcGxpZWQgbGF5ZXIgZG9lcyBub3QgZXhpc3QuXCIpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBpbkVkaXRNb2RlID0gdGhpcy5kdXJpbmdFZGl0TW9kZTtcbiAgICAvLyBMZWF2ZSBlZGl0TW9kZSB0byByZXZlcnQgYSBsYXllclxuICAgIGlmIChpbkVkaXRNb2RlKVxuICAgICAgICB0aGlzLmxlYXZlRWRpdE1vZGUoKTtcblxuICAgIC8vIGtlZXAgdHJhY2sgb2YgcHJldmlvdXMgZ2xvYmFsIG1hcmt1cHMuXG4gICAgdmFyIGN1cnJlbnRNYXJrdXBzID0gdGhpcy5tYXJrdXBzLnNsaWNlKCk7XG4gICAgLy8gU2V0IHRoZSBnbG9iYWwgbWFya3VwcyB0byB0aGUgbWFya3VwcyBpbiB0aGUgY3VycmVudCBsYXllci4gVGhlc2Ugb25lcyBnZXQgcmVtb3ZlZCBpbiB0aGUgdW5sb2FkTWFya3Vwc1xuICAgIHRoaXMubWFya3VwcyA9IHN2Z0xheWVyTm9kZS5tYXJrdXBzO1xuICAgIHZhciBsYXllclN2ZyA9IHN2Z0xheWVyTm9kZS5zdmdTdHJpbmc7XG4gICAgdGhpcy51bmxvYWRNYXJrdXBzKGxheWVySWQpO1xuICAgIHRoaXMubG9hZE1hcmt1cHMobGF5ZXJTdmcsIGxheWVySWQpO1xuICAgIC8vIEFzc2lnbiBtYXJrdXBzXG4gICAgaWYgKHRoaXMuZWRpdGluZ0xheWVyKXtcbiAgICAgICAgaWYodGhpcy5lZGl0aW5nTGF5ZXIgIT09IGxheWVySWQpIHtcbiAgICAgICAgICAgIHRoaXMubWFya3VwcyA9IGN1cnJlbnRNYXJrdXBzO1xuICAgICAgICAgICAgdmFyIGxheWVyT2JqZWN0ID0gdGhpcy5zdmdMYXllcnNNYXBbdGhpcy5lZGl0aW5nTGF5ZXJdO1xuICAgICAgICAgICAgaWYgKGxheWVyT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgbGF5ZXJPYmplY3QubWFya3VwcyA9IGN1cnJlbnRNYXJrdXBzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfWVsc2V7XG4gICAgICAgIGlmKHRoaXMuZWRpdE1vZGVTdmdMYXllck5vZGUpe1xuICAgICAgICAgICAgdGhpcy5lZGl0TW9kZVN2Z0xheWVyTm9kZS5tYXJrdXBzID0gY3VycmVudE1hcmt1cHM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZih0aGlzLmVkaXRpbmdMYXllciB8fCB0aGlzLmVkaXRpbmdMYXllci5sZW5ndGggPT09IDApe1xuICAgICAgICB2YXIgc3ZnID0gdGhpcy5lZGl0aW5nTGF5ZXIubGVuZ3RoID09PSAwID8gdGhpcy5lZGl0TW9kZVN2Z0xheWVyTm9kZS5zdmcgOiB0aGlzLnN2Z0xheWVyc01hcFt0aGlzLmVkaXRpbmdMYXllcl0uc3ZnO1xuICAgICAgICBpZiAoc3ZnLnBhcmVudE5vZGUgPT0gdGhpcy5zdmcpIHtcbiAgICAgICAgICAgIHRoaXMuc3ZnLnJlbW92ZUNoaWxkKHN2Zyk7XG4gICAgICAgICAgICB0aGlzLnN2Zy5hcHBlbmRDaGlsZChzdmcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBSZW1vdmVzIG1hcmt1cHMgZnJvbSB0aGUgRE9NIChEb2N1bWVudCBPYmplY3QgTW9kZWwpLiBUaGlzIGlzIGhlbHBmdWwgZm9yIGZyZWVpbmcgdXAgbWVtb3J5Ljxicj5cbiAqXG4gKiBTZWUgYWxzb1xuICoge0BsaW5rIC9lbi9kb2NzL3ZpZXdlci92Ny9yZWZlcmVuY2UvRXh0ZW5zaW9ucy9NYXJrdXBzQ29yZS8jbG9hZG1hcmt1cHMtbWFya3Vwc3RyaW5nLWxheWVyaWR8bG9hZE1hcmt1cHMoKX0sXG4gKiB7QGxpbmsgL2VuL2RvY3Mvdmlld2VyL3Y3L3JlZmVyZW5jZS9FeHRlbnNpb25zL01hcmt1cHNDb3JlLyN1bmxvYWRtYXJrdXBzYWxsbGF5ZXJzLTF8dW5sb2FkTWFya3Vwc0FsbExheWVycygpfSxcbiAqIHtAbGluayAvZW4vZG9jcy92aWV3ZXIvdjcvcmVmZXJlbmNlL0V4dGVuc2lvbnMvTWFya3Vwc0NvcmUvI2NsZWFyfGNsZWFyKCl9LFxuICoge0BsaW5rIC9lbi9kb2NzL3ZpZXdlci92Ny9yZWZlcmVuY2UvRXh0ZW5zaW9ucy9NYXJrdXBzQ29yZS8jaGlkZS0xfGhpZGUoKX0sIGFuZFxuICoge0BsaW5rIC9lbi9kb2NzL3ZpZXdlci92Ny9yZWZlcmVuY2UvRXh0ZW5zaW9ucy9NYXJrdXBzQ29yZS8jaGlkZW1hcmt1cHMtbGF5ZXJpZHxoaWRlTWFya3VwcygpfS5cbiAqXG4gKiBAbWVtYmVyb2YgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlXG4gKiBAYWxpYXMgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHNDb3JlLnVubG9hZE1hcmt1cHNcbiAqIEBtZXRob2QgdW5sb2FkTWFya3Vwc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBsYXllcklkIC0gSUQgb2YgdGhlIGxheWVyIGNvbnRhaW5pbmcgYWxsIG1hcmt1cHMgdG8gdW5sb2FkIChmcm9tIHRoZSBET00pLlxuICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIG9wZXJhdGlvbiBzdWNjZWVkZWQgb3Igbm90LlxuICovXG5NYXJrdXBzQ29yZS5wcm90b3R5cGUudW5sb2FkTWFya3VwcyA9IGZ1bmN0aW9uKGxheWVySWQpIHtcblxuICAgIGlmICghbGF5ZXJJZCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJ1bmxvYWRNYXJrdXBzIGZhaWxlZDsgTm8gbGF5ZXJJZCBwcm92aWRlZC5cIik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgc3ZnTGF5ZXJOb2RlID0gdGhpcy5zdmdMYXllcnNNYXBbbGF5ZXJJZF07XG4gICAgaWYgKCFzdmdMYXllck5vZGUpIHtcbiAgICAgICAgLy8gVE9ETzogRG8gd2UgbmVlZCB0byBsb2cgYW55dGhpbmcgaGVyZT9cbiAgICAgICAgY29uc29sZS53YXJuKCdObyBzdWNoIGxheWVyIGV4aXN0cyB0byB1bmxvYWQuJyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgbGF5ZXJNYXJrdXBzID0gc3ZnTGF5ZXJOb2RlLm1hcmt1cHMuc2xpY2UoKTtcbiAgICB2YXIgbnVtTWFya3VwcyA9IGxheWVyTWFya3Vwcy5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1NYXJrdXBzOyBpKyspIHtcbiAgICAgICAgdmFyIG1hcmt1cCA9IGxheWVyTWFya3Vwc1tpXTtcbiAgICAgICAgdGhpcy5yZW1vdmVNYXJrdXAobWFya3VwKTtcbiAgICAgICAgbWFya3VwLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgdGhlIG1hcmt1cHMgaW4gdGhlIGxheWVyIGZyb20gdGhlIHN2ZyBjYW52YXNcbiAgICBpZiAoc3ZnTGF5ZXJOb2RlLnN2Zy5wYXJlbnROb2RlID09PSB0aGlzLnN2ZylcbiAgICAgICAgdGhpcy5zdmcucmVtb3ZlQ2hpbGQoc3ZnTGF5ZXJOb2RlLnN2Zyk7XG5cbiAgICAvLyBEZWxldGUgdGhlIGxheWVyIGZyb20gdGhlIGxheWVyIG1hcC5cbiAgICBkZWxldGUgdGhpcy5zdmdMYXllcnNNYXBbbGF5ZXJJZF07XG4gICAgLy8gUmVzZXQgdGhlIGFjdGl2ZSBsYXllciBpZiB0aGUgc3VwcGxpZWQgbGF5ZXIgaWQgaXMgdGhlIHNhbWUgYXMgdGhlIGFjdGl2ZSBsYXllclxuICAgIGlmICh0aGlzLmFjdGl2ZUxheWVyLnRvU3RyaW5nKCkgPT09IGxheWVySWQudG9TdHJpbmcoKSkge1xuICAgICAgICB0aGlzLmFjdGl2ZUxheWVyID0gJyc7XG4gICAgfVxuICAgIC8vIExlYXZlIGVkaXQgbW9kZSBhbmQgcmVzZXQgdGhlIGVkaXRpbmcgbGF5ZXIgaWYgdGhlIHN1cHBsaWVkIGxheWVyIGlzIHRoZSBzYW1lIGFzIHRoZSBjdXJyZW50IGVkaXRpbmcgbGF5ZXJcbiAgICBpZiAodGhpcy5lZGl0aW5nTGF5ZXIgJiYgdGhpcy5lZGl0aW5nTGF5ZXIudG9TdHJpbmcoKSA9PT0gbGF5ZXJJZC50b1N0cmluZygpKXtcbiAgICAgICAgdGhpcy5lZGl0aW5nTGF5ZXIgPSAnJztcbiAgICAgICAgdGhpcy5kdXJpbmdFZGl0TW9kZSAmJiB0aGlzLmxlYXZlRWRpdE1vZGUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwgbWFya3VwcyBsb2FkZWQgc28gZmFyLiBHcmVhdCBmb3IgZnJlZWluZyB1cCBtZW1vcnkuXG4gKlxuICogU2VlIGFsc29cbiAqIHtAbGluayAvZW4vZG9jcy92aWV3ZXIvdjcvcmVmZXJlbmNlL0V4dGVuc2lvbnMvTWFya3Vwc0NvcmUvI2xvYWRtYXJrdXBzLW1hcmt1cHN0cmluZy1sYXllcmlkfGxvYWRNYXJrdXBzKCl9LFxuICoge0BsaW5rIC9lbi9kb2NzL3ZpZXdlci92Ny9yZWZlcmVuY2UvRXh0ZW5zaW9ucy9NYXJrdXBzQ29yZS8jdW5sb2FkbWFya3Vwcy1sYXllcmlkfHVubG9hZE1hcmt1cHMoKX0sXG4gKiB7QGxpbmsgL2VuL2RvY3Mvdmlld2VyL3Y3L3JlZmVyZW5jZS9FeHRlbnNpb25zL01hcmt1cHNDb3JlLyNjbGVhcnxjbGVhcigpfSxcbiAqIHtAbGluayAvZW4vZG9jcy92aWV3ZXIvdjcvcmVmZXJlbmNlL0V4dGVuc2lvbnMvTWFya3Vwc0NvcmUvI2hpZGUtMXxoaWRlKCl9LCBhbmRcbiAqIHtAbGluayAvZW4vZG9jcy92aWV3ZXIvdjcvcmVmZXJlbmNlL0V4dGVuc2lvbnMvTWFya3Vwc0NvcmUvI2hpZGVtYXJrdXBzLWxheWVyaWR8aGlkZU1hcmt1cHMoKX0uXG4gKlxuICogQG1lbWJlcm9mIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZVxuICogQGFsaWFzIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzQ29yZS51bmxvYWRNYXJrdXBzQWxsTGF5ZXJzXG4gKiBAbWV0aG9kIHVubG9hZE1hcmt1cHNBbGxMYXllcnNcbiAqL1xuTWFya3Vwc0NvcmUucHJvdG90eXBlLnVubG9hZE1hcmt1cHNBbGxMYXllcnMgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmFjdGl2ZUxheWVyID0gJyc7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy90aGlzIGlzIHNwZWNpZmljIHRvIHRoZSBlZGl0TW9kZVN2Z0xheWVyTm9kZSwgZW50ZXJFZGl0TW9kZSgpLlxuICAgIHZhciB1bmxvYWRTdmdMYXllck5vZGUgPSBmdW5jdGlvbigpe1xuICAgICAgICBpZiAoc2VsZi5lZGl0TW9kZVN2Z0xheWVyTm9kZSl7XG4gICAgICAgICAgICB2YXIgbGF5ZXJNYXJrdXBzID0gc2VsZi5lZGl0TW9kZVN2Z0xheWVyTm9kZS5tYXJrdXBzLnNsaWNlKCk7XG4gICAgICAgICAgICB2YXIgbnVtTWFya3VwcyA9IGxheWVyTWFya3Vwcy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bU1hcmt1cHM7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBtYXJrdXAgPSBsYXllck1hcmt1cHNbaV07XG4gICAgICAgICAgICAgICAgc2VsZi5yZW1vdmVNYXJrdXAobWFya3VwKTtcbiAgICAgICAgICAgICAgICBtYXJrdXAuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIFVubG9hZCB0aGUgbWFya3VwcyBpbiB0aGUgZWRpdE1vZGVTdmdMYXllck5vZGVcbiAgICB1bmxvYWRTdmdMYXllck5vZGUoKTtcbiAgICB2YXIgbGF5ZXJJZDtcbiAgICBmb3IgKGxheWVySWQgaW4gdGhpcy5zdmdMYXllcnNNYXApe1xuICAgICAgICB0aGlzLnVubG9hZE1hcmt1cHMobGF5ZXJJZCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBIaWRlcyBhbGwgbWFya3VwcyBpbiBhIHNwZWNpZmllZCBsYXllci4gTm90ZSB0aGF0IGhpZGRlbiBtYXJrdXBzIHdpbGwgbm90IGJlIHVubG9hZGVkLlxuICogVXNlIHRoZSB7QGxpbmsgL2VuL2RvY3Mvdmlld2VyL3Y3L3JlZmVyZW5jZS9FeHRlbnNpb25zL01hcmt1cHNDb3JlLyNzaG93bWFya3Vwcy1sYXllcmlkfHNob3dNYXJrdXBzKCl9IG1ldGhvZCB0byBtYWtlXG4gKiB0aGVtIHZpc2libGUgYWdhaW47IG5vIGFkZGl0aW9uYWwgcGFyc2luZyBpcyByZXF1aXJlZC5cbiAqXG4gKiBTZWUgYWxzb1xuICoge0BsaW5rIC9lbi9kb2NzL3ZpZXdlci92Ny9yZWZlcmVuY2UvRXh0ZW5zaW9ucy9NYXJrdXBzQ29yZS8jc2hvd21hcmt1cHMtbGF5ZXJpZHxzaG93TWFya3VwcygpfSxcbiAqIHtAbGluayAvZW4vZG9jcy92aWV3ZXIvdjcvcmVmZXJlbmNlL0V4dGVuc2lvbnMvTWFya3Vwc0NvcmUvI3VubG9hZG1hcmt1cHMtbGF5ZXJpZHx1bmxvYWRNYXJrdXBzKCl9LCBhbmRcbiAqIHtAbGluayAvZW4vZG9jcy92aWV3ZXIvdjcvcmVmZXJlbmNlL0V4dGVuc2lvbnMvTWFya3Vwc0NvcmUvI2xvYWRtYXJrdXBzLW1hcmt1cHN0cmluZy1sYXllcmlkfGxvYWRNYXJrdXBzKCl9LlxuICpcbiAqIEBtZW1iZXJvZiBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwc0NvcmVcbiAqIEBhbGlhcyBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwc0NvcmUuaGlkZU1hcmt1cHNcbiAqIEBtZXRob2QgaGlkZU1hcmt1cHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbGF5ZXJJZCAtIElEIG9mIHRoZSBsYXllciBjb250YWluaW5nIGFsbCBtYXJrdXBzIHRoYXQgc2hvdWxkIGJlIGhpZGRlbiAoaW4gdGhlIERPTSkuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgb3BlcmF0aW9uIHN1Y2NlZWRlZCBvciBub3QuXG4gKi9cbk1hcmt1cHNDb3JlLnByb3RvdHlwZS5oaWRlTWFya3VwcyA9IGZ1bmN0aW9uKGxheWVySWQpIHtcblxuICAgIGlmICghbGF5ZXJJZCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJoaWRlTWFya3VwcyBmYWlsZWQ7IE5vIGxheWVySWQgcHJvdmlkZWQuXCIpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHN2Z0xheWVyTm9kZSA9IHRoaXMuc3ZnTGF5ZXJzTWFwW2xheWVySWRdO1xuICAgIGlmICghc3ZnTGF5ZXJOb2RlKSB7XG4gICAgICAgIC8vIFRPRE86IERvIHdlIG5lZWQgdG8gbG9nIGFueXRoaW5nIGhlcmU/XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGxheWVyU3ZnID0gc3ZnTGF5ZXJOb2RlLnN2ZztcblxuICAgIC8vIFJldHVybiBmYWxzZSBpZiB0aGUgbGF5ZXIgc3ZnIGlzIG5vdCBwcmVzZW50IGluIHRoZSBtYWluIHN2Z1xuICAgIGlmIChsYXllclN2Zy5wYXJlbnROb2RlICE9IHRoaXMuc3ZnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIkxheWVyIGlzIGFscmVhZHkgaGlkZGVuLlwiKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyByZW1vdmUgdGhlIGxheWVyIHN2ZyBmcm9tIHRoZSBtYWluIHN2Z1xuICAgIHRoaXMuc3ZnLnJlbW92ZUNoaWxkKGxheWVyU3ZnKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogVW5oaWRlcyBhIGxheWVyIG9mIGhpZGRlbiBtYXJrdXBzXG4gKiAoe0BsaW5rICAvZW4vZG9jcy92aWV3ZXIvdjcvcmVmZXJlbmNlL0V4dGVuc2lvbnMvTWFya3Vwc0NvcmUvI2hpZGVtYXJrdXBzLWxheWVyaWR8aGlkZU1hcmt1cHMoKX0pLlxuICpcbiAqIEBtZW1iZXJvZiBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwc0NvcmVcbiAqIEBhbGlhcyBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwc0NvcmUuc2hvd01hcmt1cHNcbiAqIEBtZXRob2Qgc2hvd01hcmt1cHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbGF5ZXJJZCAtIElEIG9mIHRoZSBsYXllciBjb250YWluaW5nIGFsbCBtYXJrdXBzIHRvIHVubG9hZCAoZnJvbSB0aGUgRE9NKS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBvcGVyYXRpb24gc3VjY2VlZGVkIG9yIG5vdC5cbiAqL1xuTWFya3Vwc0NvcmUucHJvdG90eXBlLnNob3dNYXJrdXBzID0gZnVuY3Rpb24obGF5ZXJJZCkge1xuXG4gICAgaWYgKCFsYXllcklkKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcInNob3dNYXJrdXBzIGZhaWxlZDsgTm8gbGF5ZXJJZCBwcm92aWRlZC5cIik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgc3ZnTGF5ZXJOb2RlID0gdGhpcy5zdmdMYXllcnNNYXBbbGF5ZXJJZF07XG4gICAgaWYgKCFzdmdMYXllck5vZGUpIHtcbiAgICAgICAgLy8gVE9ETzogRG8gd2UgbmVlZCB0byBsb2cgYW55dGhpbmcgaGVyZT9cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBBcHBlbmQgdGhlIGxheWVyIHN2ZyB0byB0aGUgbWFpbiBzdmdcbiAgICB2YXIgbGF5ZXJTdmcgPSBzdmdMYXllck5vZGUuc3ZnO1xuICAgIHRoaXMuc3ZnLmFwcGVuZENoaWxkKGxheWVyU3ZnKTtcbn07XG5cbi8vLy8gQ2xpZW50IFNwYWNlIDwtPiBNYXJrdXAgU3BhY2UgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbnByb3RvLnBvc2l0aW9uRnJvbUNsaWVudFRvTWFya3VwcyA9IGZ1bmN0aW9uKHgsIHkpIHtcblxuICAgIHJldHVybiB0aGlzLmNsaWVudFRvTWFya3Vwcyh4LCB5KTtcbn07XG5cbnByb3RvLnBvc2l0aW9uRnJvbU1hcmt1cHNUb0NsaWVudCA9IGZ1bmN0aW9uKHgsIHkpIHtcblxuICAgIHJldHVybiB0aGlzLm1hcmt1cHNUb0NsaWVudCh4LCB5KTtcbn07XG5cbnByb3RvLnZlY3RvckZyb21DbGllbnRUb01hcmt1cHMgPSBmdW5jdGlvbih4LCB5KSB7XG5cbiAgICB2YXIgYSA9IHRoaXMuY2xpZW50VG9NYXJrdXBzKDAsIDApO1xuICAgIHZhciBiID0gdGhpcy5jbGllbnRUb01hcmt1cHMoeCwgeSk7XG5cbiAgICByZXR1cm4ge3g6IGIueCAtIGEueCwgeTogYi55IC0gYS55fTtcbn07XG5cbnByb3RvLnZlY3RvckZyb21NYXJrdXBzVG9DbGllbnQgPSBmdW5jdGlvbih4LCB5KSB7XG5cbiAgICB2YXIgYSA9IHRoaXMubWFya3Vwc1RvQ2xpZW50KDAsIDApO1xuICAgIHZhciBiID0gdGhpcy5tYXJrdXBzVG9DbGllbnQoeCwgeSk7XG5cbiAgICByZXR1cm4ge3g6IGIueCAtIGEueCwgeTogYi55IC0gYS55fTtcbn07XG5cbnByb3RvLnNpemVGcm9tQ2xpZW50VG9NYXJrdXBzID0gZnVuY3Rpb24odywgaCkge1xuXG4gICAgdmFyIGEgPSB0aGlzLmNsaWVudFRvTWFya3VwcygwLCAwKTtcbiAgICB2YXIgYiA9IHRoaXMuY2xpZW50VG9NYXJrdXBzKHcsIGgpO1xuXG4gICAgcmV0dXJuIHt4OiBNYXRoLmFicyhiLnggLSBhLngpLCB5OiBNYXRoLmFicyhiLnkgLSBhLnkpfTtcbn07XG5cbnByb3RvLnNpemVGcm9tTWFya3Vwc1RvQ2xpZW50ID0gZnVuY3Rpb24odywgaCkge1xuXG4gICAgdmFyIGEgPSB0aGlzLm1hcmt1cHNUb0NsaWVudCgwLCAwKTtcbiAgICB2YXIgYiA9IHRoaXMubWFya3Vwc1RvQ2xpZW50KHcsIGgpO1xuXG4gICAgcmV0dXJuIHt4OiBNYXRoLmFicyhiLnggLSBhLngpLCB5OiBNYXRoLmFicyhiLnkgLSBhLnkpfTtcbn07XG5cbnByb3RvLm1hcmt1cHNUb0NsaWVudCA9IGZ1bmN0aW9uKHgsIHkpIHtcblxuICAgIHZhciBjYW1lcmEgPSB0aGlzLnZpZXdlci5pbXBsLmNhbWVyYTtcbiAgICB2YXIgcG9pbnQgPSBuZXcgVEhSRUUuVmVjdG9yMyh4LCB5LCAwKTtcblxuICAgIGlmIChjYW1lcmEuaXNQZXJzcGVjdGl2ZSkge1xuXG4gICAgICAgIHZhciBiYiA9IHRoaXMudmlld2VyLmltcGwuZ2V0Q2FudmFzQm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgcG9pbnQueCA9KCBwb2ludC54IC8gUEVSU1BFQ1RJVkVfTU9ERV9TQ0FMRSAqIChiYi5oZWlnaHQgKiAwLjUpICsgYmIud2lkdGggICogMC41KTtcbiAgICAgICAgcG9pbnQueSA9KC1wb2ludC55IC8gUEVSU1BFQ1RJVkVfTU9ERV9TQ0FMRSAqIChiYi5oZWlnaHQgKiAwLjUpICsgYmIuaGVpZ2h0ICogMC41KTtcbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIHBvaW50LmFwcGx5TWF0cml4NChjYW1lcmEubWF0cml4V29ybGQpO1xuICAgICAgICBwb2ludC5zdWIoY2FtZXJhLnBvc2l0aW9uKTtcblxuICAgICAgICAvLyBJbiBMTVYgbW9kZWwgaXMgb2Zmc2V0IGJ5IGEgZ2xvYmFsIG9mZnNldCwgd2UgY29ycmVjdCB0aGlzIG9mZnNldCB3aGVuIHRyYW5zZm9ybWluZyB0byBtYXJrdXBzIHNwYWNlLCBzb1xuICAgICAgICAvLyBleHBvcnRlZCBtYXJrdXBzIGRvbid0IGhhdmUgdGhlIG9mZnNldC5cbiAgICAgICAgdmFyIGdsb2JhbE9mZnNldCA9IHRoaXMudmlld2VyLm1vZGVsICYmIHRoaXMudmlld2VyLm1vZGVsLmdldERhdGEoKS5nbG9iYWxPZmZzZXQ7XG4gICAgICAgIGlmIChnbG9iYWxPZmZzZXQpIHtcbiAgICAgICAgICAgIHBvaW50LnN1YihnbG9iYWxPZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcG9pbnQgPSB3b3JsZFRvQ2xpZW50KHBvaW50LCB0aGlzLnZpZXdlciwgZmFsc2UpO1xuICAgICAgICBwb2ludC56ID0gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9pbnQ7XG59O1xuXG5wcm90by5jbGllbnRUb01hcmt1cHMgPSBmdW5jdGlvbih4LCB5KSB7XG5cbiAgICB2YXIgY2FtZXJhID0gdGhpcy52aWV3ZXIuaW1wbC5jYW1lcmE7XG4gICAgdmFyIHBvaW50ID0gbmV3IFRIUkVFLlZlY3RvcjMoeCwgeSwgMCk7XG5cbiAgICBpZiAoY2FtZXJhLmlzUGVyc3BlY3RpdmUpIHtcblxuICAgICAgICB2YXIgYmIgPSB0aGlzLnZpZXdlci5pbXBsLmdldENhbnZhc0JvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIC8vIE11bHRpcGx5IGJ5IFBFUlNQRUNUSVZFX01PREVfU0NBTEUgYmVjYXVzZSBGaXJmb3ggb24gV2luZG93cyBtYWNoaW5lcyBoYXZlIHByb2JsZW1zIHRvIGRlYWwgd2l0aCB2ZXJ5IHNtYWxsIHBhdGhzLlxuICAgICAgICBwb2ludC54ID0gKHBvaW50LnggLSBiYi53aWR0aCAgKiAwLjUpIC8gKGJiLmhlaWdodCAqIDAuNSkgKiBQRVJTUEVDVElWRV9NT0RFX1NDQUxFO1xuICAgICAgICBwb2ludC55ID0tKHBvaW50LnkgLSBiYi5oZWlnaHQgKiAwLjUpIC8gKGJiLmhlaWdodCAqIDAuNSkgKiBQRVJTUEVDVElWRV9NT0RFX1NDQUxFO1xuICAgIH0gZWxzZSB7XG5cbiAgICAgICAgcG9pbnQgPSBjbGllbnRUb1dvcmxkKHBvaW50LngsIHBvaW50LnksIDAsIHRoaXMudmlld2VyKTtcblxuICAgICAgICAvLyBJbiBMTVYgbW9kZWwgaXMgb2Zmc2V0IGJ5IGEgZ2xvYmFsIG9mZnNldCwgd2UgY29ycmVjdCB0aGlzIG9mZnNldCB3aGVuIHRyYW5zZm9ybWluZyB0byBtYXJrdXBzIHNwYWNlLCBzb1xuICAgICAgICAvLyBleHBvcnRlZCBtYXJrdXBzIGRvbid0IGhhdmUgdGhlIG9mZnNldC5cbiAgICAgICAgdmFyIGdsb2JhbE9mZnNldCA9IHRoaXMudmlld2VyLm1vZGVsICYmIHRoaXMudmlld2VyLm1vZGVsLmdldERhdGEoKS5nbG9iYWxPZmZzZXQ7XG4gICAgICAgIGlmIChnbG9iYWxPZmZzZXQpIHtcbiAgICAgICAgICAgIHBvaW50LmFkZChnbG9iYWxPZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcG9pbnQuYWRkKGNhbWVyYS5wb3NpdGlvbik7XG4gICAgICAgIHBvaW50LmFwcGx5TWF0cml4NChjYW1lcmEubWF0cml4V29ybGRJbnZlcnNlKTtcbiAgICAgICAgcG9pbnQueiA9IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvaW50O1xufTtcblxucHJvdG8uZ2V0U3ZnVmlld0JveCA9IGZ1bmN0aW9uKGNsaWVudFdpZHRoLCBjbGllbnRIZWlnaHQpIHtcblxuICAgIC8vIEdldCBwYW4gb2Zmc2V0LlxuICAgIHZhciBsdCA9IHRoaXMuY2xpZW50VG9NYXJrdXBzKDAsIDApO1xuICAgIHZhciByYiA9IHRoaXMuY2xpZW50VG9NYXJrdXBzKGNsaWVudFdpZHRoLCBjbGllbnRIZWlnaHQpO1xuXG4gICAgdmFyIGwgPSBNYXRoLm1pbihsdC54LCByYi54KTtcbiAgICB2YXIgdCA9IE1hdGgubWluKGx0LnksIHJiLnkpO1xuICAgIHZhciByID0gTWF0aC5tYXgobHQueCwgcmIueCk7XG4gICAgdmFyIGIgPSBNYXRoLm1heChsdC55LCByYi55KTtcblxuICAgIHJldHVybiBbbCAsIHQsIHItbCwgYi10XS5qb2luKCcgJyk7XG59O1xuXG5wcm90by5nZXRCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4gdGhpcy5ib3VuZHM7XG59O1xuXG5wcm90by5nZXRNb3VzZVBvc2l0aW9uID0gZnVuY3Rpb24oKSB7XG5cbiAgICAvLyBXaGVuIHNuYXBwaW5nLCB1c2UgdGhlIHNuYXAgcG9zaXRpb24gaW5zdGVhZCBvZiB0aGUgbW91c2UgcG9zaXRpb25cbiAgICAvLyBhcyB0aGUgc3RhcnQgcG9pbnQgb2YgdGhlIG1hcmt1cCBkcmF3aW5nLlxuICAgIC8vIEZvciBub3cgb25seSB3b3JrcyBmb3IgMkQuXG4gICAgaWYgKHRoaXMuZWRpdE1vZGUudXNlV2l0aFNuYXBwaW5nKCkgJiYgdGhpcy5zbmFwcGVyICYmIHRoaXMuc25hcHBlci5pc1NuYXBwZWQoKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTbmFwUG9zaXRpb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuaW5wdXQuZ2V0TW91c2VQb3NpdGlvbigpO1xufTtcblxucHJvdG8uZ2V0U25hcFBvc2l0aW9uID0gZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgcG9pbnQgPSBNZWFzdXJlQ29tbW9uLmdldFNuYXBSZXN1bHRQb3NpdGlvbih0aGlzLnNuYXBwZXIuZ2V0U25hcFJlc3VsdCgpLCB0aGlzLnZpZXdlcik7XG4gICAgdmFyIHAgPSB0aGlzLnByb2plY3QocG9pbnQpO1xuICAgIHJldHVybiB7eDogcC54LCB5OiBwLnl9O1xufTtcblxucHJvdG8ucHJvamVjdCA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgdmFyIGNhbWVyYSA9IHRoaXMudmlld2VyLm5hdmlnYXRpb24uZ2V0Q2FtZXJhKCk7XG4gICAgdmFyIGNvbnRhaW5lckJvdW5kcyA9IHRoaXMudmlld2VyLm5hdmlnYXRpb24uZ2V0U2NyZWVuVmlld3BvcnQoKTtcblxuICAgIHZhciBwID0gbmV3IFRIUkVFLlZlY3RvcjMoKS5jb3B5KHBvc2l0aW9uKTtcbiAgICBwLnByb2plY3QoY2FtZXJhKTtcblxuICAgIHJldHVybiBuZXcgVEhSRUUuVmVjdG9yMyhNYXRoLnJvdW5kKChwLnggKyAxKSAvIDIgKiBjb250YWluZXJCb3VuZHMud2lkdGgpLFxuICAgICAgICBNYXRoLnJvdW5kKCgtcC55ICsgMSkgLyAyICogY29udGFpbmVyQm91bmRzLmhlaWdodCksIHAueik7XG59O1xuXG4vLy8vIEhhbmRsZWQgRXZlbnRzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5wcm90by5vbkNhbWVyYUNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgLy8gVXBkYXRlIGFubm90YXRpb25zJyBwYXJlbnQgdHJhbnNmb3JtLlxuICAgIHZhciB2aWV3Qm94ID0gdGhpcy5nZXRTdmdWaWV3Qm94KHRoaXMuYm91bmRzLndpZHRoLCB0aGlzLmJvdW5kcy5oZWlnaHQpO1xuXG4gICAgLy8gSEFDSywgZm9yIHNvbWUgcmVhc29uIHRoZSAybmQgZnJhbWUgcmV0dXJucyBhbiBlbXB0eSBjYW52YXMuXG4gICAgLy8gVGhlIHJlYXNvbiB3aHkgdGhpcyBoYXBwZW5zIGlzIHRoYXQgdGhlIGNvZGUgYWJvdmUgY2FsbHMgaW50byB0aGUgdmlld2VyXG4gICAgLy8gYW5kIGEgZGl2aXNpb24gYnkgemVybyBvY2N1cnMgZHVlIHRvIExNViBjYW52YXMgaGF2aW5nIHplcm8gd2lkdGggYW5kIGhlaWdodFxuICAgIC8vIFdoZW4gd2UgZGV0ZWN0IHRoaXMgY2FzZSwgYXZvaWQgc2V0dGluZyB0aGUgdmlld0JveCB2YWx1ZSBhbmQgcmVseSBvbiBvbmVcbiAgICAvLyBwcmV2aW91c2x5IHNldC5cbiAgICBpZiAodmlld0JveCA9PT0gXCJOYU4gTmFOIE5hTiBOYU5cIikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3ZnKSB7XG4gICAgICAgIHRoaXMuc3ZnLnNldEF0dHJpYnV0ZSgndmlld0JveCcsIHZpZXdCb3gpO1xuICAgIH1cblxuXG4gICAgdmFyIGVkaXRNb2RlID0gdGhpcy5lZGl0TW9kZTtcblxuICAgIGlmIChlZGl0TW9kZSkge1xuICAgICAgICAvLyBFZGl0IGZyYW1lIGhhcyB0byBiZSB1cGRhdGVkLCByZS1zZXR0aW5nIHRoZSBzZWxlY3RlZCBtYXJrdXAgZG9lcyB0aGUgam9iLlxuICAgICAgICBpZiAodGhpcy5lZGl0RnJhbWUuaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkTWFya3VwID0gZWRpdE1vZGUuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmVkaXRGcmFtZS5zZXRNYXJrdXAoc2VsZWN0ZWRNYXJrdXApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVkaXRNb2RlLnVwZGF0ZVRleHRCb3hTdHlsZSkge1xuICAgICAgICAgICAgZWRpdE1vZGUudXBkYXRlVGV4dEJveFN0eWxlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zbmFwcGVyICYmIGVkaXRNb2RlLnVzZVdpdGhTbmFwcGluZygpKSB7XG4gICAgICAgICAgICB0aGlzLnNuYXBwZXIuaW5kaWNhdG9yLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxucHJvdG8ub25WaWV3ZXJSZXNpemUgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdGhpcy5ib3VuZHMueCA9IDA7XG4gICAgdGhpcy5ib3VuZHMueSA9IDA7XG4gICAgdGhpcy5ib3VuZHMud2lkdGggPSBldmVudC53aWR0aDtcbiAgICB0aGlzLmJvdW5kcy5oZWlnaHQgPSBldmVudC5oZWlnaHQ7XG5cbiAgICBpZiAodGhpcy5zdmcpIHtcbiAgICAgICAgdGhpcy5zdmcuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHRoaXMuYm91bmRzLndpZHRoKTtcbiAgICAgICAgdGhpcy5zdmcuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCB0aGlzLmJvdW5kcy5oZWlnaHQpO1xuICAgIH1cblxuICAgIHRoaXMub25DYW1lcmFDaGFuZ2UoKTtcbn07XG5cbnByb3RvLmNhbGxTbmFwcGVyTW91c2VEb3duID0gZnVuY3Rpb24oKSB7XG5cbiAgICAvLyBEaXNhYmxlIHNuYXBwZXIgaW4gZnJlZWhhbmQgbW9kZVxuICAgIGlmICh0aGlzLmVkaXRNb2RlICYmIHRoaXMuZWRpdE1vZGUudXNlV2l0aFNuYXBwaW5nKCkpe1xuICAgICAgICB2YXIgbW91c2VQb3NpdGlvbiA9IHRoaXMuaW5wdXQuZ2V0TW91c2VQb3NpdGlvbigpO1xuICAgICAgICBpZiAodGhpcy5zbmFwcGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNuYXBwZXIub25Nb3VzZURvd24obW91c2VQb3NpdGlvbik7XG4gICAgICAgICAgICB0aGlzLnNuYXBwZXIuaW5kaWNhdG9yLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgfWVsc2V7XG4gICAgICAgIC8vIENsZWFyIHRoZSBzbmFwcGVyIHdoZW4gc2VsZWN0aW5nIGEgbWFya3VwIHRoYXQgZG9lcyBub3QgYWxsb3cgc25hcHBpbmcuXG4gICAgICAgIGlmICh0aGlzLnNuYXBwZXIpe1xuICAgICAgICAgICAgdGhpcy5zbmFwcGVyLmNsZWFyU25hcHBlZCgpO1xuICAgICAgICAgICAgdGhpcy5zbmFwcGVyLmluZGljYXRvci5jbGVhck92ZXJsYXlzKCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5wcm90by5jYWxsU25hcHBlck1vdXNlTW92ZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgaWYgKHRoaXMuZWRpdE1vZGUgJiYgdGhpcy5lZGl0TW9kZS51c2VXaXRoU25hcHBpbmcoKSkge1xuICAgICAgICB2YXIgbW91c2VQb3NpdGlvbiA9IHRoaXMuaW5wdXQuZ2V0TW91c2VQb3NpdGlvbigpO1xuICAgICAgICBpZiAodGhpcy5zbmFwcGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNuYXBwZXIub25Nb3VzZU1vdmUobW91c2VQb3NpdGlvbik7XG4gICAgICAgICAgICB0aGlzLnNuYXBwZXIuaW5kaWNhdG9yLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLyoqXG4gKiBIYW5kbGVyIHRvIG1vdXNlIG1vdmUgZXZlbnRzLCB1c2VkIHRvIGNyZWF0ZSBtYXJrdXBzLlxuICpcbiAqIEBwYXJhbSBldmVudFxuICogQHJldHVybnMge2Jvb2xlYW59IC0gaWYgdGhlIGV2ZW50IHdhcyBoYW5kZWQgYnkgdGhlIGVkaXRvclxuICogQHByaXZhdGVcbiAqL1xucHJvdG8ub25Nb3VzZU1vdmUgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgaWYgKHRoaXMubmF2aWdhdGluZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbGV0IGV2ZW50SGFuZGxlZCA9IGZhbHNlO1xuICAgIGlmICh0aGlzLmVkaXRGcmFtZS5pc0FjdGl2ZSgpICYmIGV2ZW50LnR5cGUgPT09ICdtb3VzZW1vdmUnKSB7XG4gICAgICAgIGV2ZW50SGFuZGxlZCA9IHRoaXMuZWRpdEZyYW1lLm9uTW91c2VNb3ZlKGV2ZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLmNhbGxTbmFwcGVyTW91c2VNb3ZlKCk7XG5cbiAgICBldmVudEhhbmRsZWQgPSAodGhpcy5lZGl0TW9kZSAmJiB0aGlzLmVkaXRNb2RlLm9uTW91c2VNb3ZlKGV2ZW50KSkgfHwgZXZlbnRIYW5kbGVkO1xuXG4gICAgcmV0dXJuIGV2ZW50SGFuZGxlZDtcbn07XG5cbi8qKlxuICogSGFuZGxlciB0byBtb3VzZSBkb3duIGV2ZW50cywgdXNlZCB0byBzdGFydCBjcmVhdGlvbiBtYXJrdXBzLlxuICpcbiAqIEBwYXJhbSBldmVudFxuICogQHByaXZhdGVcbiAqL1xucHJvdG8ub25Nb3VzZURvd24gPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgZGlzbWlzc0xtdkh1ZE1lc3NhZ2UoKTtcblxuICAgIHRoaXMuY2FsbFNuYXBwZXJNb3VzZURvd24oKTtcblxuICAgIHZhciBib3VuZHMgPSB0aGlzLmdldEJvdW5kcygpO1xuICAgIHZhciBtb3VzZVBvc2l0aW9uID0gdGhpcy5nZXRNb3VzZVBvc2l0aW9uKCk7XG5cbiAgICBpZiAobW91c2VQb3NpdGlvbi54ID49IGJvdW5kcy54ICYmIG1vdXNlUG9zaXRpb24ueCA8PSBib3VuZHMueCArIGJvdW5kcy53aWR0aCAmJlxuICAgICAgICBtb3VzZVBvc2l0aW9uLnkgPj0gYm91bmRzLnkgJiYgbW91c2VQb3NpdGlvbi55IDw9IGJvdW5kcy55ICsgYm91bmRzLmhlaWdodCkge1xuICAgICAgICB0aGlzLmVkaXRNb2RlLm9uTW91c2VEb3duKGV2ZW50KTtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBUaGVyZSBpcyBhIGJldHRlciB3YXkgdG8gZG8gdGhpcywgaW1wbGVtZW50IHdoZW4gdW5kby9yZWRvIGdyb3VwLlxuICAgIGlmKCF0aGlzLmVkaXRNb2RlLmNyZWF0aW5nICYmIGV2ZW50LnRhcmdldCA9PT0gdGhpcy5zdmcpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RNYXJrdXAobnVsbCk7XG4gICAgfVxuICAgIHRoaXMuaWdub3JlTmV4dE1vdXNlVXAgPSBmYWxzZTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7Kn0gZXZlbnRcbiAqIEByZXR1cm5zIHtib29sZWFufSAtIHRydWUgLyBmYWxzZSBtZWFucyB0aGUgZWRpdG9yIGRpZCAvIGRpZG4ndCBoYW5kbGUgdGhlIGV2ZW50XG4gKiBAcHJpdmF0ZVxuICovXG5wcm90by5vbk1vdXNlVXAgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgaWYgKHRoaXMubmF2aWdhdGluZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZWRpdEZyYW1lLmlzQWN0aXZlKCkpIHtcbiAgICAgICAgdGhpcy5lZGl0RnJhbWUub25Nb3VzZVVwKGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYoIXRoaXMuaWdub3JlTmV4dE1vdXNlVXApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWRpdE1vZGUub25Nb3VzZVVwKGV2ZW50KTtcbiAgICB9XG59O1xuXG5wcm90by5vbk1vdXNlRG91YmxlQ2xpY2sgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgaWYgKHRoaXMubmF2aWdhdGluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZWRpdEZyYW1lLmlzQWN0aXZlKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZWRpdE1vZGUub25Nb3VzZURvdWJsZUNsaWNrKGV2ZW50KTtcbn07XG5cbnByb3RvLm9uVXNlckNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghdGhpcy5lZGl0TW9kZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMuZWRpdE1vZGUuY3JlYXRpbmcpIHtcbiAgICAgICAgdGhpcy5lZGl0TW9kZS5jcmVhdGlvbkNhbmNlbCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZWRpdE1vZGUudW5zZWxlY3QoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0gZXZlbnRcbiAqIEBwcml2YXRlXG4gKi9cbnByb3RvLm9uTWFya3VwU2VsZWN0ZWQgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdGhpcy5zZWxlY3RNYXJrdXAoZXZlbnQubWFya3VwKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xufTtcblxucHJvdG8ub25NYXJrdXBFbnRlckVkaXRpb24gPSBmdW5jdGlvbigpIHtcblxufTtcblxucHJvdG8ub25NYXJrdXBDYW5jZWxFZGl0aW9uID0gZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLm9uVXNlckNhbmNlbCgpO1xufTtcblxucHJvdG8ub25NYXJrdXBEZWxldGVFZGl0aW9uID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHRoaXMucmVtb3ZlTWFya3VwKGV2ZW50Lm1hcmt1cCk7XG4gICAgdGhpcy5lZGl0TW9kZS5kZWxldGVNYXJrdXAoKTtcbn07XG5cbkF1dG9kZXNrLlZpZXdpbmcudGhlRXh0ZW5zaW9uTWFuYWdlci5yZWdpc3RlckV4dGVuc2lvbignQXV0b2Rlc2suVmlld2luZy5NYXJrdXBzQ29yZScsIE1hcmt1cHNDb3JlKTtcbiJdLCJuYW1lcyI6WyJFZGl0QWN0aW9uTWFuYWdlciIsIk1hcmt1cEV2ZW50cyIsIk1hcmt1cFR5cGVzIiwiYWRkVHJhaXRFdmVudERpc3BhdGNoZXIiLCJjcmVhdGVTdmdFbGVtZW50Iiwic2V0U3ZnUGFyZW50QXR0cmlidXRlcyIsIk1BUktVUF9ERUZBVUxUX1NUUk9LRV9XSURUSF9JTl9QSVhFTFMiLCJNQVJLVVBfREVGQVVMVF9GT05UX1dJRFRIX0lOX1BJWEVMUyIsImhpZGVMbXZVaSIsInJlc3RvcmVMbXZVaSIsImRpc21pc3NMbXZIdWRNZXNzYWdlIiwicmVtb3ZlQWxsTWV0YWRhdGEiLCJ0cmFuc2ZlckNoaWxkTm9kZXMiLCJhZGRTdmdNZXRhZGF0YSIsInN2Z05vZGVUb1N0cmluZyIsImNoZWNrUG9seWdvbiIsInN0cmluZ1RvU3ZnTm9kZSIsImNyZWF0ZU1hcmt1cEZyb21TVkciLCJ3b3JsZFRvQ2xpZW50IiwiY2xpZW50VG9Xb3JsZCIsImNsb25lU3R5bGUiLCJjb3B5U3R5bGUiLCJjcmVhdGVTdHlsZSIsIkNsaXBib2FyZCIsIklucHV0SGFuZGxlciIsIkVkaXRGcmFtZSIsIk1hcmt1cFRvb2wiLCJFZGl0TW9kZUFycm93IiwiTWVhc3VyZUNvbW1vbiIsIkF1dG9kZXNrIiwiVmlld2luZyIsIlBFUlNQRUNUSVZFX01PREVfU0NBTEUiLCJNYXJrdXBzQ29yZSIsInZpZXdlciIsIm9wdGlvbnMiLCJFeHRlbnNpb24iLCJjYWxsIiwibWFya3VwcyIsInN0eWxlcyIsImFjdGl2ZUxheWVyIiwiZHVyaW5nVmlld01vZGUiLCJkdXJpbmdFZGl0TW9kZSIsInN2Z0xheWVyc01hcCIsImFjdGlvbk1hbmFnZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiRVZFTlRfSElTVE9SWV9DSEFOR0VEIiwib25FZGl0QWN0aW9uSGlzdG9yeUNoYW5nZWQiLCJiaW5kIiwibmV4dElkIiwiY2xpcGJvYXJkIiwiaW5wdXQiLCJzZXRHbG9iYWxNYW5hZ2VyIiwiZ2xvYmFsTWFuYWdlciIsImluaXRTdHJva2VBbmRGb250V2lkdGhzIiwibW9kZWwiLCJpczJkIiwiZ2V0U3Ryb2tlV2lkdGgiLCJnZXRGb250V2lkdGgiLCJNT0RFTF9BRERFRF9FVkVOVCIsIl9yZWYiLCJDQU1FUkFfQ0hBTkdFX0VWRU5UIiwib25jZSIsIm9uQ2FtZXJhQ2hhbmdlQmluZGVkIiwib25DYW1lcmFDaGFuZ2UiLCJvblZpZXdlclJlc2l6ZUJpbmRlZCIsImV2ZW50Iiwic2VsZiIsIm9uVmlld2VyUmVzaXplIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwib25NYXJrdXBTZWxlY3RlZEJpbmRlZCIsIm9uTWFya3VwU2VsZWN0ZWQiLCJvbk1hcmt1cEVudGVyRWRpdGlvbkJpbmRlZCIsIm9uTWFya3VwRW50ZXJFZGl0aW9uIiwib25NYXJrdXBDYW5jZWxFZGl0aW9uQmluZGVkIiwib25NYXJrdXBDYW5jZWxFZGl0aW9uIiwib25NYXJrdXBEZWxldGVFZGl0aW9uQmluZGVkIiwib25NYXJrdXBEZWxldGVFZGl0aW9uIiwib25Ub29sQ2hhbmdlQmluZGVkIiwib25Ub29sQ2hhbmdlIiwib25Vbml0c0NhbGlicmF0aW9uU3RhcnRzQmluZGVkIiwib25Vbml0c0NhbGlicmF0aW9uU3RhcnRzIiwiRXZlbnRzIiwiVU5JVFNfQ0FMSUJSQVRJT05fU1RBUlRTX0VWRU5UIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJwcm90byIsImxvYWQiLCJzdmciLCJzdmdTdHlsZSIsInN0eWxlIiwicG9zaXRpb24iLCJsZWZ0IiwidG9wIiwidHJhbnNmb3JtIiwidHJhbnNmb3JtT3JpZ2luIiwiYm91bmRzIiwieCIsInkiLCJ3aWR0aCIsImhlaWdodCIsImF0dGFjaFRvIiwiZWRpdEZyYW1lIiwiY29udGFpbmVyIiwiRVZFTlRfRURJVEZSQU1FX0VESVRJT05fU1RBUlQiLCJkaXNhYmxlTWFya3VwSW50ZXJhY3Rpb25zIiwiRVZFTlRfRURJVEZSQU1FX0VESVRJT05fRU5EIiwidG9vbENsYXNzIiwibWFya3VwVG9vbENsYXNzIiwiY2hhbmdlTWFya3VwVG9vbCIsIm1hcmt1cERpc2FibGVIb3RrZXlzIiwibG9hZEV4dGVuc2lvbiIsInNuYXBwZXIiLCJFeHRlbnNpb25zIiwiU25hcHBpbmciLCJTbmFwcGVyIiwibWFya3VwTW9kZSIsInRvb2xDb250cm9sbGVyIiwicmVnaXN0ZXJUb29sIiwiZW5hYmxlSG90S2V5cyIsIm1hcmt1cFRvb2wiLCJkZXJlZ2lzdGVyVG9vbCIsInNldENvcmVFeHRlbnNpb24iLCJzZXRIb3RrZXlzRW5hYmxlZCIsInVubG9hZCIsImhpZGUiLCJkZXRhY2hGcm9tIiwib25Nb3VzZURvd25CaW5kZWQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiZWRpdE1vZGVTdmdMYXllck5vZGUiLCJpbml0aWFsU3Ryb2tlV2lkdGgiLCJzaXplRnJvbUNsaWVudFRvTWFya3VwcyIsImluaXRpYWxGb250V2lkdGgiLCJ0b2dnbGVFZGl0TW9kZSIsImxlYXZlRWRpdE1vZGUiLCJlbnRlckVkaXRNb2RlIiwibGF5ZXJJZCIsImRpc2FibGVMYXllck1hcmt1cHMiLCJsYXllciIsImRpc2FibGUiLCJsYXllck1hcmt1cHMiLCJrIiwibGVuZ3RoIiwibSIsImRpc2FibGVJbnRlcmFjdGlvbnMiLCJjb25zb2xlIiwid2FybiIsInNob3ciLCJwYXJTdmciLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsImVkaXRNb2RlTGF5ZXJQYXJlbnROb2RlIiwia2V5IiwiaSIsIm1hcmt1cCIsInRvU3RyaW5nIiwiZWRpdGluZ0xheWVyIiwic3ZnUGFyZW50Iiwic2xpY2UiLCJhY3RpdmF0ZVRvb2wiLCJkZWZhdWx0U3R5bGUiLCJjaGFuZ2VFZGl0TW9kZSIsImNsZWFyIiwiZGlzcGF0Y2hFdmVudCIsInR5cGUiLCJFVkVOVF9FRElUTU9ERV9FTlRFUiIsImFsbG93TmF2aWdhdGlvbiIsIk5PVF9JTl9FRElUX01PREUiLCJXRV9BUkVfU1RJTExfSU5fRURJVF9NT0RFIiwiZWRpdE1vZGUiLCJkZXN0cm95IiwiaW5kaWNhdG9yIiwiY2xlYXJPdmVybGF5cyIsImNsZWFyU25hcHBlZCIsInNldE1hcmt1cCIsIkVWRU5UX0VESVRNT0RFX0xFQVZFIiwidG9nZ2xlIiwiVklFV0VSX1JFU0laRV9FVkVOVCIsInJlb3JkZXJFbGVtZW50cyIsImVudGVyVmlld01vZGUiLCJvblZpZXdlclJvbGxvdmVyT2JqZWN0IiwiaW1wbCIsInJvbGxvdmVyT2JqZWN0IiwiY2FtZXJhIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJSRVNVTFRfSElERV9PSyIsIlJFU1VMVF9ISURFX0ZBSUwiLCJ1bmxvYWRNYXJrdXBzQWxsTGF5ZXJzIiwibGVhdmVWaWV3TW9kZSIsImVkaXRNb2RlTGF5ZXIiLCJjaGlsZE5vZGVzIiwicmVtb3ZlTWFya3VwIiwiZ2VuZXJhdGVEYXRhIiwiZGVmYXVsdExheWVyIiwib25TYXZlIiwidG1wTm9kZSIsIm1ldGFkYXRhT2JqZWN0IiwibWV0YWRhdGFOb2RlIiwibWV0YWRhdGFOb2RlcyIsImZvckVhY2giLCJhZGRlZE5vZGUiLCJzZXRNZXRhZGF0YSIsInB1c2giLCJkYXRhIiwiZ2VuZXJhdGVQb2ludHMzZCIsInJlc3VsdCIsIm1haW4iLCJtYXJrdXBzQ291bnQiLCJpZFRhcmdldCIsInJlbmRlcmVyIiwicmVhZGJhY2tUYXJnZXRJZCIsInBvaW50IiwiZ2VuZXJhdGVQb2ludDNkIiwiaWQiLCJjbG9uZSIsImNvbGxpc2lvbiIsIk1BUktVUF9UWVBFX0FSUk9XIiwiYmJYMCIsIk51bWJlciIsIlBPU0lUSVZFX0lORklOSVRZIiwiYmJZMCIsImJiWDEiLCJORUdBVElWRV9JTkZJTklUWSIsImJiWTEiLCJib3VuZGluZ0JveCIsImdlbmVyYXRlQm91bmRpbmdCb3giLCJNYXRoIiwibWluIiwibWF4IiwicG9seWdvbiIsInZlcnRleENvdW50IiwieFZlcnRpY2VzIiwiRmxvYXQzMkFycmF5IiwieVZlcnRpY2VzIiwicG9pbnQyZCIsInBvaW50M2QiLCJyZW5kZXJUb0NhbnZhcyIsImNvbnRleHQiLCJjYWxsYmFjayIsInJlbmRlckFsbE1hcmt1cHMiLCJ2aWV3Qm94IiwiZ2V0U3ZnVmlld0JveCIsIm51bWJlck9mU2NyZWVuc2hvdHNUYWtlbiIsIm9uTWFya3VwU2NyZWVuc2hvdFRha2VuIiwic3ZnS2V5cyIsImtleXMiLCJsYXllcnNLZXlzIiwiaiIsImNvbmNhdCIsIm9sZEVkaXRNb2RlIiwiRVZFTlRfRURJVE1PREVfQ1JFQVRJT05fQkVHSU4iLCJFVkVOVF9FRElUTU9ERV9DUkVBVElPTl9FTkQiLCJFVkVOVF9NQVJLVVBfREVTRUxFQ1QiLCJnZXRTdHlsZSIsIkVWRU5UX0VESVRNT0RFX0NIQU5HRUQiLCJ0YXJnZXQiLCJpc05hdmlnYXRpb25BbGxvd2VkIiwiaXNQZXJzcGVjdGl2ZSIsImFsbG93IiwibmF2aWdhdGluZyIsInNlbGVjdE1hcmt1cCIsInVwZGF0ZVN0eWxlIiwibm90aWZ5QWxsb3dOYXZpZ2F0aW9uIiwiaXNBY3RpdmUiLCJjYWNoZWROYXZpZ2F0aW9uVG9vbCIsImdldEFjdGl2ZU5hdmlnYXRpb25Ub29sIiwiVE9PTF9DSEFOR0VfRVZFTlQiLCJzZXRBY3RpdmVOYXZpZ2F0aW9uVG9vbCIsImdldE5hbWUiLCJkZWZhdWx0VG9vbE5hbWUiLCJnZXREZWZhdWx0TmF2aWdhdGlvblRvb2xOYW1lIiwidG9vbE5hbWUiLCJhY3RpdmUiLCJuYXZBbGxvd2VkIiwic2V0TmF2aWdhdGlvbkxvY2tTZXR0aW5ncyIsInBhbiIsInpvb20iLCJvcmJpdCIsInJvbGwiLCJmb3YiLCJ3YWxrIiwiZ290b3ZpZXciLCJzZXROYXZpZ2F0aW9uTG9jayIsImNoYW5nZUlucHV0SGFuZGxlciIsImlucHV0SGFuZGxlciIsImNvcHkiLCJjdXQiLCJwYXN0ZSIsInVuZG8iLCJyZWRvIiwiaXNVbmRvU3RhY2tFbXB0eSIsImlzUmVkb1N0YWNrRW1wdHkiLCJiZWdpbkFjdGlvbkdyb3VwIiwiY2xvc2VBY3Rpb25Hcm91cCIsImNhbmNlbEFjdGlvbkdyb3VwIiwiZ2V0SWQiLCJhY3Rpb24iLCJ0YXJnZXRJZCIsImdldE1hcmt1cCIsImdldExhc3RFbGVtZW50SW5VbmRvU3RhY2siLCJnZXRUYXJnZXRJZCIsInNldFNlbGVjdGlvbiIsImdldEVkaXRNb2RlIiwic2V0U3R5bGUiLCJnZXRTZWxlY3Rpb24iLCJkZWxldGVNYXJrdXAiLCJkb250QWRkVG9IaXN0b3J5Iiwic2VsZWN0ZWRNYXJrdXAiLCJhZGRNYXJrdXAiLCJsYXllck9iamVjdCIsInNldFBhcmVudCIsIkVWRU5UX01BUktVUF9TRUxFQ1RFRCIsIkVWRU5UX01BUktVUF9FTlRFUl9FRElUSU9OIiwiRVZFTlRfTUFSS1VQX0NBTkNFTF9FRElUSU9OIiwiRVZFTlRfTUFSS1VQX0RFTEVURV9FRElUSU9OIiwicmVtb3ZlTWFya3VwSWZFeGlzdHMiLCJtYXJrdXBJbmRleCIsImVkaXRMYXllck1hcmt1cHMiLCJpbmRleE9mIiwic3BsaWNlIiwiZ2V0RGVmYXVsdFN0eWxlIiwiZGVmYXVsdFN0eWxlQXR0cmlidXRlcyIsImJyaW5nVG9Gcm9udCIsInNlbmRNYXJrdXBUbyIsInNlbmRUb0JhY2siLCJicmluZ0ZvcndhcmQiLCJicmluZ0JhY2t3YXJkIiwiaW5kZXgiLCJwYXJlbnQiLCJsb2FkTWFya3VwcyIsIm1hcmt1cFN0cmluZyIsInN2Z0xheWVyTm9kZSIsIm5ld1N2ZyIsImNyZWF0ZUxheWVyTm9kZSIsInN2Z1N0cmluZyIsImNoaWxkcmVuIiwiY2hpbGQiLCJsb2NhbE5hbWUiLCJzdmdQYXJlbnROb2RlIiwibmV3U3ZnTGF5ZXJOb2RlIiwicmV2ZXJ0TGF5ZXIiLCJpbkVkaXRNb2RlIiwiY3VycmVudE1hcmt1cHMiLCJsYXllclN2ZyIsInVubG9hZE1hcmt1cHMiLCJudW1NYXJrdXBzIiwidW5sb2FkU3ZnTGF5ZXJOb2RlIiwiaGlkZU1hcmt1cHMiLCJzaG93TWFya3VwcyIsInBvc2l0aW9uRnJvbUNsaWVudFRvTWFya3VwcyIsImNsaWVudFRvTWFya3VwcyIsInBvc2l0aW9uRnJvbU1hcmt1cHNUb0NsaWVudCIsIm1hcmt1cHNUb0NsaWVudCIsInZlY3RvckZyb21DbGllbnRUb01hcmt1cHMiLCJhIiwiYiIsInZlY3RvckZyb21NYXJrdXBzVG9DbGllbnQiLCJ3IiwiaCIsImFicyIsInNpemVGcm9tTWFya3Vwc1RvQ2xpZW50IiwiVEhSRUUiLCJWZWN0b3IzIiwiYmIiLCJnZXRDYW52YXNCb3VuZGluZ0NsaWVudFJlY3QiLCJhcHBseU1hdHJpeDQiLCJtYXRyaXhXb3JsZCIsInN1YiIsImdsb2JhbE9mZnNldCIsImdldERhdGEiLCJ6IiwiYWRkIiwibWF0cml4V29ybGRJbnZlcnNlIiwibHQiLCJyYiIsImwiLCJ0IiwiciIsImpvaW4iLCJnZXRCb3VuZHMiLCJnZXRNb3VzZVBvc2l0aW9uIiwidXNlV2l0aFNuYXBwaW5nIiwiaXNTbmFwcGVkIiwiZ2V0U25hcFBvc2l0aW9uIiwiZ2V0U25hcFJlc3VsdFBvc2l0aW9uIiwiZ2V0U25hcFJlc3VsdCIsInAiLCJwcm9qZWN0IiwibmF2aWdhdGlvbiIsImdldENhbWVyYSIsImNvbnRhaW5lckJvdW5kcyIsImdldFNjcmVlblZpZXdwb3J0Iiwicm91bmQiLCJ1cGRhdGVUZXh0Qm94U3R5bGUiLCJyZW5kZXIiLCJjYWxsU25hcHBlck1vdXNlRG93biIsIm1vdXNlUG9zaXRpb24iLCJvbk1vdXNlRG93biIsImNhbGxTbmFwcGVyTW91c2VNb3ZlIiwib25Nb3VzZU1vdmUiLCJldmVudEhhbmRsZWQiLCJjcmVhdGluZyIsImlnbm9yZU5leHRNb3VzZVVwIiwib25Nb3VzZVVwIiwib25Nb3VzZURvdWJsZUNsaWNrIiwib25Vc2VyQ2FuY2VsIiwiY3JlYXRpb25DYW5jZWwiLCJ1bnNlbGVjdCIsInRoZUV4dGVuc2lvbk1hbmFnZXIiLCJyZWdpc3RlckV4dGVuc2lvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Markup/core/MarkupsCore.js\n");

/***/ }),

/***/ "./extensions/Markup/core/MarkupsCoreUtils.js":
/*!****************************************************!*\
  !*** ./extensions/Markup/core/MarkupsCoreUtils.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EDIT_FRAME_DEFAULT_MARGIN: () => (/* binding */ EDIT_FRAME_DEFAULT_MARGIN),\n/* harmony export */   MARKUP_DEFAULT_FONT_WIDTH_IN_PIXELS: () => (/* binding */ MARKUP_DEFAULT_FONT_WIDTH_IN_PIXELS),\n/* harmony export */   MARKUP_DEFAULT_HITAREAS_MARGIN_IN_PIXELS: () => (/* binding */ MARKUP_DEFAULT_HITAREAS_MARGIN_IN_PIXELS),\n/* harmony export */   MARKUP_DEFAULT_STROKE_WIDTH_IN_PIXELS: () => (/* binding */ MARKUP_DEFAULT_STROKE_WIDTH_IN_PIXELS),\n/* harmony export */   addMarkupMetadata: () => (/* binding */ addMarkupMetadata),\n/* harmony export */   addRuleToStyleSheet: () => (/* binding */ addRuleToStyleSheet),\n/* harmony export */   addSvgMetadata: () => (/* binding */ addSvgMetadata),\n/* harmony export */   addTraitEventDispatcher: () => (/* binding */ addTraitEventDispatcher),\n/* harmony export */   areMarkupsPointsInClientRange: () => (/* binding */ areMarkupsPointsInClientRange),\n/* harmony export */   checkLineSegment: () => (/* binding */ checkLineSegment),\n/* harmony export */   checkPolygon: () => (/* binding */ checkPolygon),\n/* harmony export */   clientToViewport: () => (/* binding */ clientToViewport),\n/* harmony export */   clientToWorld: () => (/* binding */ clientToWorld),\n/* harmony export */   composeRGBAString: () => (/* binding */ composeRGBAString),\n/* harmony export */   createArcTo: () => (/* binding */ createArcTo),\n/* harmony export */   createEllipsePath: () => (/* binding */ createEllipsePath),\n/* harmony export */   createMarkupFromSVG: () => (/* binding */ createMarkupFromSVG),\n/* harmony export */   createMarkupGroupSvg: () => (/* binding */ createMarkupGroupSvg),\n/* harmony export */   createMarkupPathSvg: () => (/* binding */ createMarkupPathSvg),\n/* harmony export */   createMarkupTextSvg: () => (/* binding */ createMarkupTextSvg),\n/* harmony export */   createRectanglePath: () => (/* binding */ createRectanglePath),\n/* harmony export */   createStyleSheet: () => (/* binding */ createStyleSheet),\n/* harmony export */   createSvgElement: () => (/* binding */ createSvgElement),\n/* harmony export */   degreesToRadians: () => (/* binding */ degreesToRadians),\n/* harmony export */   dismissLmvHudMessage: () => (/* binding */ dismissLmvHudMessage),\n/* harmony export */   getStrokeWidth: () => (/* binding */ getStrokeWidth),\n/* harmony export */   getUniqueID: () => (/* binding */ getUniqueID),\n/* harmony export */   hideLmvPanels: () => (/* binding */ hideLmvPanels),\n/* harmony export */   hideLmvToolsAndPanels: () => (/* binding */ hideLmvToolsAndPanels),\n/* harmony export */   hideLmvUi: () => (/* binding */ hideLmvUi),\n/* harmony export */   isTouchDevice: () => (/* binding */ isTouchDevice),\n/* harmony export */   measureTextLines: () => (/* binding */ measureTextLines),\n/* harmony export */   metersToModel: () => (/* binding */ metersToModel),\n/* harmony export */   radiansToDegrees: () => (/* binding */ radiansToDegrees),\n/* harmony export */   removeAllMetadata: () => (/* binding */ removeAllMetadata),\n/* harmony export */   removeTraitEventDispatcher: () => (/* binding */ removeTraitEventDispatcher),\n/* harmony export */   renderToCanvas: () => (/* binding */ renderToCanvas),\n/* harmony export */   restoreLmvUi: () => (/* binding */ restoreLmvUi),\n/* harmony export */   setAttributeToMarkupSvg: () => (/* binding */ setAttributeToMarkupSvg),\n/* harmony export */   setMarkupTextSvgTransform: () => (/* binding */ setMarkupTextSvgTransform),\n/* harmony export */   setSvgParentAttributes: () => (/* binding */ setSvgParentAttributes),\n/* harmony export */   showLmvToolsAndPanels: () => (/* binding */ showLmvToolsAndPanels),\n/* harmony export */   sign: () => (/* binding */ sign),\n/* harmony export */   simplify: () => (/* binding */ simplify),\n/* harmony export */   stringToSvgNode: () => (/* binding */ stringToSvgNode),\n/* harmony export */   svgNodeToString: () => (/* binding */ svgNodeToString),\n/* harmony export */   transferChildNodes: () => (/* binding */ transferChildNodes),\n/* harmony export */   updateMarkupPathSvgHitarea: () => (/* binding */ updateMarkupPathSvgHitarea),\n/* harmony export */   updateMarkupTextSvgBackground: () => (/* binding */ updateMarkupTextSvgBackground),\n/* harmony export */   updateMarkupTextSvgClipper: () => (/* binding */ updateMarkupTextSvgClipper),\n/* harmony export */   updateMarkupTextSvgHitarea: () => (/* binding */ updateMarkupTextSvgHitarea),\n/* harmony export */   viewportToClient: () => (/* binding */ viewportToClient),\n/* harmony export */   worldToClient: () => (/* binding */ worldToClient),\n/* harmony export */   worldToViewport: () => (/* binding */ worldToViewport)\n/* harmony export */ });\n/* harmony import */ var _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n/* harmony import */ var _edit_actions_CreateArrow__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./edit-actions/CreateArrow */ \"./extensions/Markup/core/edit-actions/CreateArrow.js\");\n/* harmony import */ var _edit_actions_CreateRectangle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./edit-actions/CreateRectangle */ \"./extensions/Markup/core/edit-actions/CreateRectangle.js\");\n/* harmony import */ var _edit_actions_CreateText__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./edit-actions/CreateText */ \"./extensions/Markup/core/edit-actions/CreateText.js\");\n/* harmony import */ var _edit_actions_CreateCallout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./edit-actions/CreateCallout */ \"./extensions/Markup/core/edit-actions/CreateCallout.js\");\n/* harmony import */ var _edit_actions_CreateCircle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./edit-actions/CreateCircle */ \"./extensions/Markup/core/edit-actions/CreateCircle.js\");\n/* harmony import */ var _edit_actions_CreateCloud__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./edit-actions/CreateCloud */ \"./extensions/Markup/core/edit-actions/CreateCloud.js\");\n/* harmony import */ var _edit_actions_CreateFreehand__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./edit-actions/CreateFreehand */ \"./extensions/Markup/core/edit-actions/CreateFreehand.js\");\n/* harmony import */ var _edit_actions_CreatePolyline__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./edit-actions/CreatePolyline */ \"./extensions/Markup/core/edit-actions/CreatePolyline.js\");\n/* harmony import */ var _edit_actions_CreatePolycloud__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./edit-actions/CreatePolycloud */ \"./extensions/Markup/core/edit-actions/CreatePolycloud.js\");\n/* harmony import */ var _edit_actions_CreateHighlight__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./edit-actions/CreateHighlight */ \"./extensions/Markup/core/edit-actions/CreateHighlight.js\");\n/* harmony import */ var _edit_actions_CreateDimension__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./edit-actions/CreateDimension */ \"./extensions/Markup/core/edit-actions/CreateDimension.js\");\n/* harmony import */ var _DomElementStyle__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./DomElementStyle */ \"./extensions/Markup/core/DomElementStyle.js\");\n/* harmony import */ var _edit_actions_CreateStamp__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./edit-actions/CreateStamp */ \"./extensions/Markup/core/edit-actions/CreateStamp.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar av = Autodesk.Viewing;\nvar avp = Autodesk.Viewing.Private;\n\nconst _gWindow = av.getGlobal();\nconst _gDocument = _gWindow.document;\n\n// Change these constants to alter the default sizes in pixels of strokes and fonts.\nvar MARKUP_DEFAULT_STROKE_WIDTH_IN_PIXELS = 1;\nvar MARKUP_DEFAULT_FONT_WIDTH_IN_PIXELS = 10;\nvar MARKUP_DEFAULT_HITAREAS_MARGIN_IN_PIXELS = 15;\nvar EDIT_FRAME_DEFAULT_MARGIN = 7;\n\n/**\n * // isTouchDevice is an LMV function. Hammer is included by LMV as well\n * @returns {boolean}\n */\nvar isTouchDevice = function () {\n  // isTouchDevice() is an LMV function.\n  // Hammer (a touch detection lib) is packaged with LMV as well\n  if (av.isTouchDevice && typeof Hammer === \"function\") {\n    return av.isTouchDevice();\n  }\n  return false;\n};\n\n//// SVG  //////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n/**\n *\n * @param type\n * @returns {Element}\n */\nvar createSvgElement = function (type) {\n\n  const _document = this && this.getDocument && this.getDocument() || _gDocument;\n  // See https://developer.mozilla.org/en-US/docs/Web/API/Document/createElementNS\n  var namespace = 'http://www.w3.org/2000/svg';\n  return _document.createElementNS(namespace, type);\n};\n\n/**\n *\n * @param {Element} svg - an SVGElement\n * @returns {Element} svg param is returned back\n */\nvar setSvgParentAttributes = function (svg) {\n\n  // See: https://developer.mozilla.org/en-US/docs/Web/SVG/Namespaces_Crash_Course\n  svg.setAttribute('version', '1.1'); // Notice that this is the SVG version, not the \"MARKUP DATA VERSION\"!\n  svg.setAttribute('baseProfile', 'full');\n  svg.setAttribute('layer-order-id', 'markups-svg');\n  return svg;\n};\n\nvar createMarkupGroupSvg = function (children) {\n  children = children || [];\n  var svg = createSvgElement('g');\n  svg.setAttribute('cursor', 'default');\n  svg.setAttribute('pointer-events', 'none');\n\n  for (var i = 0; i < children.length; i++) {\n    svg.appendChild(children[i]);\n  }\n\n  return svg;\n};\n\nvar createMarkupPathSvg = function () {\n\n  var svg = createSvgElement('g');\n  svg.setAttribute('cursor', 'inherit');\n  svg.setAttribute('pointer-events', 'none');\n\n  var markup = createSvgElement('path');\n  markup.setAttribute('id', 'markup');\n\n  var hitarea = createSvgElement('path');\n  hitarea.setAttribute('id', 'hitarea');\n  hitarea.setAttribute('fill', 'transparent');\n  hitarea.setAttribute('stroke', 'transparent');\n\n  svg.markup = markup;\n  svg.hitarea = hitarea;\n\n  svg.appendChild(markup);\n  svg.appendChild(hitarea);\n\n  return svg;\n};\n\nvar setAttributeToMarkupSvg = function (svg, attribute, value) {\n\n  svg.markup.setAttribute(attribute, value);\n};\n\nvar updateMarkupPathSvgHitarea = function (svg, editor) {\n\n  var markup = svg.markup;\n  var hitarea = svg.hitarea;\n\n  var hitareaMargin = editor.sizeFromClientToMarkups(0, MARKUP_DEFAULT_HITAREAS_MARGIN_IN_PIXELS).y;\n  hitareaMargin += parseFloat(markup.getAttribute('stroke-width')) + hitareaMargin;\n\n  var markupFill = markup.getAttribute('fill');\n  var markupStroke = markup.getAttribute('stroke');\n  var strokeEnabled = markupStroke !== '' && markupStroke !== 'none';\n  var fillEnabled = markupFill !== '' && markupFill !== 'none';\n\n  hitarea.setAttribute('d', markup.getAttribute('d'));\n  hitarea.setAttribute('stroke-width', hitareaMargin);\n  hitarea.setAttribute('transform', markup.getAttribute('transform'));\n\n  if (editor.duringEditMode && !editor.navigating) {\n    if (strokeEnabled && fillEnabled) {\n      svg.setAttribute('pointer-events', 'painted');\n      return;\n    }\n\n    if (strokeEnabled) {\n      svg.setAttribute('pointer-events', 'stroke');\n      return;\n    }\n\n    if (fillEnabled) {\n      svg.setAttribute('pointer-events', 'fill');\n      return;\n    }\n  }\n\n  svg.setAttribute('pointer-events', 'none');\n};\n\nvar createMarkupTextSvg = function () {\n\n  var svg = createSvgElement('g');\n  svg.setAttribute('cursor', 'default');\n\n  var clipperId = 'markup-clipper-' + getUniqueID();\n  var clipperUrl = 'url(#' + clipperId + ')';\n\n  var clipper = createSvgElement('clipPath');\n  clipper.setAttribute('id', clipperId);\n  clipper.removeAttribute('pointer-events');\n  clipper.rect = createSvgElement('rect');\n  clipper.appendChild(clipper.rect);\n\n  var background = createSvgElement('rect');\n  background.setAttribute('id', 'markup-background');\n  background.removeAttribute('pointer-events');\n\n  var markup = createSvgElement('text');\n  markup.setAttribute('id', 'markup');\n\n  var hitarea = createSvgElement('rect');\n  hitarea.setAttribute('id', 'hitarea');\n  hitarea.setAttribute('fill', 'transparent');\n  hitarea.setAttribute('stroke', 'none');\n  hitarea.setAttribute('stroke-width', '0');\n\n  var clippedArea = createSvgElement('g');\n  clippedArea.setAttribute('clip-path', clipperUrl);\n  clippedArea.appendChild(clipper);\n  clippedArea.appendChild(background);\n  clippedArea.appendChild(markup);\n\n  svg.appendChild(clippedArea);\n  svg.appendChild(hitarea);\n\n  svg.clipper = clipper;\n  svg.background = background;\n  svg.markup = markup;\n  svg.hitarea = hitarea;\n\n  return svg;\n};\n\nvar setMarkupTextSvgTransform = function (svg, transform, textTransform) {\n\n  svg.clipper.rect.setAttribute('transform', transform);\n  svg.background.setAttribute('transform', transform);\n  svg.markup.setAttribute('transform', textTransform);\n  svg.hitarea.setAttribute('transform', transform);\n};\n\nvar updateMarkupTextSvgHitarea = function (svg, w, h, editor) {\n\n  var hitarea = svg.hitarea;\n  var hitareaMargin = editor.sizeFromClientToMarkups(0, MARKUP_DEFAULT_HITAREAS_MARGIN_IN_PIXELS).y;\n\n  hitarea.setAttribute('x', -hitareaMargin);\n  hitarea.setAttribute('y', -hitareaMargin);\n  hitarea.setAttribute('width', w + hitareaMargin * 2);\n  hitarea.setAttribute('height', h + hitareaMargin * 2);\n  svg.setAttribute(\"pointer-events\", editor.navigating ? \"none\" : \"painted\");\n};\n\nvar updateMarkupTextSvgBackground = function (svg, w, h, color) {\n\n  var background = svg.background;\n\n  background.setAttribute('x', 0);\n  background.setAttribute('y', 0);\n  background.setAttribute('width', w);\n  background.setAttribute('height', h);\n  background.setAttribute('fill', color);\n};\n\nvar updateMarkupTextSvgClipper = function (svg, w, h) {\n\n  var clipper = svg.clipper;\n\n  clipper.rect.setAttribute('x', 0);\n  clipper.rect.setAttribute('y', 0);\n  clipper.rect.setAttribute('width', w);\n  clipper.rect.setAttribute('height', h);\n};\n\n/**\n * Helper function that injects metadata for the whole Markup document.\n * Metadata includes: version.\n * @param {Element} svg - an SVGElement\n * @param {Object} metadata - Dictionary with attributes\n */\nvar addSvgMetadata = function (svg, metadata) {\n\n  const _document = this && this.getDocument && this.getDocument() || _gDocument;\n\n  var metadataNode = _document.createElementNS('http://www.w3.org/2000/svg', 'metadata');\n  var dataVersionNode = _document.createElement('markup_document');\n\n  metadataNode.appendChild(dataVersionNode);\n\n  // NOTE: We could iterate over the properties, but we don't because these are the only ones supported\n  dataVersionNode.setAttribute(\"data-model-version\", metadata[\"data-model-version\"]); // Version. For example: \"1\"\n\n  svg.insertBefore(metadataNode, svg.firstChild);\n  return metadataNode;\n};\n\n/**\n * Helper function that injects metadata for specific markup svg nodes.\n * @param {Element} markupNode - an SVGElement for the markup\n * @param {Object} metadata - Dictionary where all key/value pairs are added as metadata entries.\n * @returns {Element}\n */\nvar addMarkupMetadata = function (markupNode, metadata) {\n\n  const _document = this && this.getDocument && this.getDocument() || _gDocument;\n\n  var metadataNode = _document.createElementNS('http://www.w3.org/2000/svg', 'metadata');\n  var dataVersionNode = _document.createElement('markup_element');\n\n  metadataNode.appendChild(dataVersionNode);\n  for (var key in metadata) {\n    if (Object.prototype.hasOwnProperty.call(metadata, key)) {\n      dataVersionNode.setAttribute(key, metadata[key]);\n    }\n  }\n\n  markupNode.insertBefore(metadataNode, markupNode.firstChild);\n  return metadataNode;\n};\n\n/**\n * Removes al metadata nodes from an Svg node structure.\n * Method will remove all metadata nodes from children nodes as well.\n * @param svgNode\n */\nvar removeAllMetadata = function (svgNode) {\n\n  if (svgNode.getElementsByTagName) {\n    var nodes = svgNode.getElementsByTagName(\"metadata\");\n    for (var i = 0; i < nodes.length; ++i) {\n      var metadataNode = nodes[i];\n      metadataNode.parentNode && metadataNode.parentNode.removeChild(metadataNode);\n    }\n  }\n\n  // Transverse children nodes\n  var svgChildren = svgNode.children || svgNode.childNodes;\n  if (svgChildren) {\n    for (i = 0; i < svgChildren.length; ++i) {\n      removeAllMetadata(svgChildren[i]);\n    }\n  }\n};\n\n/**\n * Utility function that transfers children from an Html/Svg node into another one.\n * @param nodeFrom - The node instance from where children will be taken.\n * @param nodeInto - The node that's going to parent the transferred children.\n */\nvar transferChildNodes = function (nodeFrom, nodeInto) {\n\n  var svgChildren = nodeFrom.children || nodeFrom.childNodes;\n  var tmpArray = [];\n  for (var i = 0; i < svgChildren.length; ++i) {\n    tmpArray.push(svgChildren[i]); // Avoid appendChild\n  }\n  tmpArray.forEach(function (node) {\n    nodeInto.appendChild(node);\n  });\n};\n\n/**\n * Generate a unique id.\n * @returns {string}\n */\nvar getUniqueID = function () {\n  return THREE.Math.generateUUID();\n};\n\n\n/**\n * Serializes an SVG node into a String.\n * @param domNode\n * @returns {string}\n */\nvar svgNodeToString = function (domNode) {\n\n  function removeHitareas(svg, hitareas) {\n\n    var hitarea = svg.hitarea;\n    var hitareaParent = hitarea && hitarea.parentNode;\n\n    if (hitareaParent) {\n\n      hitareas.push({ hitarea: hitarea, parent: hitareaParent });\n      hitareaParent.removeChild(hitarea);\n    }\n\n    var children = svg.childNodes;\n    var childrenCount = children.length;\n\n    for (var i = 0; i < childrenCount; ++i) {\n      removeHitareas(children.item(i), hitareas);\n    }\n  }\n\n  function addHitareas(hitareas) {\n\n    var hitareasCount = hitareas.length;\n    for (var i = 0; i < hitareasCount; ++i) {\n\n      var hitarea = hitareas[i];\n      hitarea.parent.appendChild(hitarea.hitarea);\n    }\n  }\n\n  var result;\n  try {\n    var hitareas = [];\n    removeHitareas(domNode, hitareas);\n\n    var xmlSerializer = new XMLSerializer();\n    result = xmlSerializer.serializeToString(domNode);\n\n    addHitareas(hitareas);\n\n  } catch (err) {\n    result = '';\n    console.warn('svgNodeToString failed to generate string representation of domNode.');\n  }\n  return result;\n};\n\nvar stringToSvgNode = function (stringNode) {\n\n  var node = null;\n  try {\n    var domParser = new DOMParser();\n    var doc = domParser.parseFromString(stringNode, \"text/xml\");\n    node = doc.firstChild; // We should only be getting 1 child anyway.\n  } catch (err) {\n    node = null;\n    console.warn('stringToSvgNode failed to generate an HTMLElement from its string representation.');\n  }\n  return node;\n};\n\n/**\n * Injects functions and members to a client object which will\n * receive the ability to dispatch events.\n * Mechanism is the same as in Autodesk.Viewing.Viewer.\n *\n * Note: All of the code here comes from Autodesk.Viewing.Viewer\n *\n * @param {Object} client - Object that will become an event dispatcher.\n */\nvar addTraitEventDispatcher = function (client) {\n\n  // Inject member variable\n  client.listeners = {};\n\n  // Inject functions\n  client.addEventListener = function (type, listener) {\n    if (typeof this.listeners[type] == \"undefined\") {\n      this.listeners[type] = [];\n    }\n    this.listeners[type].push(listener);\n  };\n  client.hasEventListener = function (type, listener) {\n    if (this.listeners === undefined) return false;\n    var listeners = this.listeners;\n    if (listeners[type] !== undefined && listeners[type].indexOf(listener) !== -1) {\n      return true;\n    }\n    return false;\n  };\n  client.removeEventListener = function (type, listener) {\n    if (this.listeners[type] instanceof Array) {\n      var li = this.listeners[type];\n      for (var i = 0, len = li.length; i < len; i++) {\n        if (li[i] === listener) {\n          li.splice(i, 1);\n          break;\n        }\n      }\n    }\n  };\n  client.dispatchEvent = function (event) {\n    if (typeof event == \"string\") {\n      event = { type: event };\n    }\n    if (!event.target) {\n      event.target = this;\n    }\n\n    if (!event.type) {\n      throw new Error(\"event type unknown.\");\n    }\n\n    if (this.listeners[event.type] instanceof Array) {\n      var typeListeners = this.listeners[event.type].slice();\n      for (var i = 0; i < typeListeners.length; i++) {\n        typeListeners[i].call(this, event);\n      }\n    }\n  };\n};\n\n/**\n * Removes the EventDispatcher trait\n *\n * @param {Object} client\n */\nvar removeTraitEventDispatcher = function (client) {\n\n  try {\n    delete client.listeners;\n    delete client.addEventListener;\n    delete client.hasEventListener;\n    delete client.removeEventListener;\n    delete client.dispatchEvent;\n  } catch (e) {\n\n    // nothing\n  }};\n\n//// Math  /////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Calculates the pixel position in client space coordinates of a point in world space.\n * @param {THREE.Vector3} point Point in world space coordinates.\n * @param viewer\n * @param snap Round values to closest pixel center.\n * @returns {THREE.Vector3} Point transformed and projected into client space coordinates.\n */\nvar worldToClient = function (point, viewer, snap) {\n\n  var p = worldToViewport(point, viewer);\n  var result = viewportToClient(p.x, p.y, viewer);\n  result.z = 0;\n\n  // snap to the center of the\n  if (snap) {\n    result.x = Math.floor(result.x) + 0.5;\n    result.y = Math.floor(result.y) + 0.5;\n  }\n\n  return result;\n};\n\nvar clientToWorld = function (clientX, clientY, depth, viewer) {\n\n  var point = clientToViewport(clientX, clientY, viewer);\n  point.z = depth;\n\n  point.unproject(viewer.impl.camera);\n  return point;\n};\n\nvar clientToViewport = function (clientX, clientY, viewer) {\n\n  return viewer.impl.clientToViewport(clientX, clientY);\n};\n\nvar viewportToClient = function (viewportX, viewportY, viewer) {\n\n  return viewer.impl.viewportToClient(viewportX, viewportY);\n};\n\n/**\n * Calculates the world position of a point in client space coordinates.\n * @param {Object} point - { x:Number, y:Number, z:Number }\n * @param {Object} viewer - LMV instance\n * @returns {THREE.Vector3}\n */\nvar worldToViewport = function (point, viewer) {\n\n  var p = new THREE.Vector3();\n\n  p.x = point.x;\n  p.y = point.y;\n  p.z = point.z;\n\n  p.project(viewer.impl.camera);\n  return p;\n};\n\nvar metersToModel = function (meters, viewer) {\n\n  var modelToMeter = viewer.model.getUnitScale();\n  var meterToModel = 1 / modelToMeter;\n\n  return meterToModel * meters;\n};\n\nvar radiansToDegrees = function (radians) {\n\n  return radians * (180 / Math.PI);\n};\n\nvar degreesToRadians = function (degrees) {\n\n  return degrees * (Math.PI / 180);\n};\n\n/**\n *\n * @param value\n * @returns {number}\n */\nvar sign = function (value) {\n\n  return value >= 0 ? 1 : -1;\n};\n\n/**\n *\n * @param pointA\n * @param pointB\n * @param range\n * @param editor\n * @returns {boolean}\n */\nvar areMarkupsPointsInClientRange = function (pointA, pointB, range, editor) {\n\n  range = editor.sizeFromClientToMarkups(0, range).y;\n\n  var dx = pointA.x - pointB.x;\n  var dy = pointA.y - pointB.y;\n\n  return range * range >= dx * dx + dy * dy;\n};\n\n//// LMV ui ////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nvar hideLmvUi = function (viewer) {\n\n  // If the viewer is no gui, then there is nothing to hide\n  if (!viewer.toolbar) {\n    return;\n  }\n\n  // Exit other tools and hide HudMessages.\n  viewer.setActiveNavigationTool();\n\n  dismissLmvHudMessage();\n  hideLmvPanels(true, viewer);\n  hideLmvToolsAndPanels(viewer);\n};\n\nvar restoreLmvUi = function (viewer) {\n\n  // If the viewer is no gui, then there is nothing to hide\n  if (!viewer.toolbar) {\n    return;\n  }\n\n  dismissLmvHudMessage();\n  hideLmvPanels(false, viewer);\n  showLmvToolsAndPanels(viewer);\n};\n\n/**\n *\n * @param hide\n * @param viewer\n */\nvar hideLmvPanels = function (hide, viewer) {\n\n  var dockingPanels = viewer.dockingPanels;\n\n  // Panels may not be present when dealing with an instance of Viewer3D.js\n  // (as opposed to an instance of GuiViewer3D.js)\n  if (!dockingPanels) return;\n\n  for (var i = 0; i < dockingPanels.length; ++i) {\n\n    var panel = dockingPanels[i];\n    var panelContainer = panel.container;\n\n    if (panelContainer.classList.contains(\"dockingPanelVisible\")) {\n      panelContainer.style.display = hide ? \"none\" : \"block\";\n\n      // Call the visibility changed notification if any additional\n      // stuff needs to be done (update the date i.e. PropertyPanel, etc).\n      panel.visibilityChanged();\n    }\n  }\n};\n\n/**\n * Shows panels and tools in the viewer.\n * @param viewer\n */\nvar showLmvToolsAndPanels = function (viewer) {\n\n  // Restore view cube.\n  if (viewer && viewer.model && !viewer.model.is2d()) {\n    viewer.getExtension(\"Autodesk.ViewCubeUi\", function (ext) {\n      ext.displayViewCube(true, false);\n      ext.displayHomeButton(true);\n    });\n  }\n\n  // TODO: Find or ask for a better way to restore this buttons.\n  const _document = viewer.getDocument();\n  var anim = _document.getElementsByClassName('toolbar-animation-subtoolbar');\n\n  if (anim.length > 0) {\n    anim[0].style.display = '';\n  }\n\n  // toolbar is absent when dealing with an instance of Viewer3D (instead of GuiViewer3D)\n  if (viewer.toolbar) {\n    var viewerContainer = viewer.toolbar.container;\n    var viewerContainerChildrenCount = viewerContainer.children.length;\n    for (var i = 0; i < viewerContainerChildrenCount; ++i) {\n      viewerContainer.children[i].style.display = \"\";\n    }\n  }\n};\n\n/**\n * Hides panels and tools in the viewer.\n * @param viewer\n */\nvar hideLmvToolsAndPanels = function (viewer) {\n\n  // Hide Panels and tools.\n  if (viewer && viewer.model && !viewer.model.is2d()) {\n    viewer.getExtension(\"Autodesk.ViewCubeUi\", function (ext) {\n      ext.displayViewCube(false, false);\n      ext.displayHomeButton(false);\n    });\n\n  }\n\n  const _document = viewer.getDocument();\n  // TODO: Find or ask for a better way to hide this buttons.\n  var anim = _document.getElementsByClassName('toolbar-animation-subtoolbar');\n\n  if (anim.length > 0) {\n    anim[0].style.display = 'none';\n\n    var animator = viewer.impl.keyFrameAnimator;\n    if (animator && !animator.isPaused) {\n      animator.pauseCameraAnimations();\n      animator.pause();\n\n      var playButton = viewer.modelTools.getControl('toolbar-animationPlay');\n      if (playButton) {\n        playButton.setIcon('toolbar-animation-pause-icon');\n        playButton.setToolTip('Pause');\n      }\n    }\n  }\n\n  // toolbar is absent when dealing with an instance of Viewer3D (instead of GuiViewer3D)\n  if (viewer.toolbar) {\n    var viewerContainer = viewer.toolbar.container;\n    var viewerContainerChildrenCount = viewerContainer.children.length;\n    for (var i = 0; i < viewerContainerChildrenCount; ++i) {\n      viewerContainer.children[i].style.display = \"none\";\n    }\n  }\n};\n\n/**\n * Dismisses all LMV HudMessages\n */\nvar dismissLmvHudMessage = function () {\n\n  // Using try/catch block since we are accessing the Private namespace of LMV.\n  try {\n    var keepDismissing = true;\n    while (keepDismissing) {\n      keepDismissing = Autodesk.Viewing.Private.HudMessage.dismiss();\n    }\n  } catch (ignore) {\n    // Failing to show the message is an okay fallback scenario\n    console.warn(\"[CO2]Failed to dismiss LMV HudMessage\");\n  }\n};\n\n//// Styles ////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nvar getStrokeWidth = function (widthInPixels, editor) {\n\n  var size = editor.sizeFromClientToMarkups(0, widthInPixels);\n  return size.y;\n};\n\n/**\n * Creates markups from a parsed svg string child\n * @param child - child of a parsed SVG string\n * @param editor - MarkupsCore\n * @returns {*} Markup Object\n */\nvar createMarkupFromSVG = function (child, editor) {\n  // var self = this;\n  if (!child.childNodes[0]) {\n    return null;\n  }\n\n  var meta = child.childNodes[0].childNodes[0] || '';\n\n  var getCurrentStyle = function (editor, metadata) {\n\n    var source = ['stroke-width', 'stroke-color', 'stroke-opacity', 'fill-color', 'fill-opacity',\n    'font-family', 'font-size', 'font-style', 'font-weight', 'stroke-linejoin'];\n    var style = {};\n    for (var i = 0; i < source.length; i++) {\n      var value = metadata.getAttribute(source[i]);\n      if (value == null) {\n        continue;\n      }\n      switch (source[i]) {\n        case 'font-size':\n        case 'stroke-width':\n        case 'stroke-opacity':\n        case 'fill-opacity':\n          style[source[i]] = parseFloat(value);\n          break;\n        case 'stroke-linejoin':\n          break;\n        case 'font-family':\n        case 'font-style':\n        case 'font-weight':\n        case 'stroke-color':\n        case 'text-data':\n        case 'fill-color':\n          style[source[i]] = value;\n          break;\n        default:\n          avp.logger.warn('Style not recognized.');\n          break;\n      }\n    }\n    return style;\n  };\n\n  var isClosed = function () {\n    var path = child.childNodes[1] || '';\n    var closed = false;\n    if (typeof path !== 'string') {\n      var d = path.getAttribute('d').split(' ');\n      if (d[d.length - 1].toLowerCase() === 'z') {\n        closed = true;\n      }\n    }\n    return closed;\n  };\n\n  var getLocations = function () {\n    var locations = [];\n    var locStr = meta.getAttribute('locations').split(\" \") || '';\n\n    for (var i = 0; i < locStr.length; i += 2) {\n      var pointPair = { x: parseFloat(locStr[i]), y: parseFloat(locStr[i + 1]) };\n      locations.push(pointPair);\n    }\n    return locations;\n  };\n\n  var getAttributeVector = function (attribute) {\n    var posVec = new THREE.Vector3();\n    var value = meta.getAttribute(attribute) || meta.getAttribute(attribute.toLowerCase());\n    var strPos = value.split(\" \");\n    posVec.x = parseFloat(strPos[0]);\n    posVec.y = parseFloat(strPos[1]);\n    return posVec;\n  };\n\n  var getPosition = function () {\n    return getAttributeVector('position');\n  };\n\n  var getSize = function () {\n    return getAttributeVector('size');\n  };\n\n  var getRotation = function () {\n    var strRot = meta.getAttribute('rotation') || '';\n    return parseFloat(strRot);\n  };\n\n  var getText = function () {\n    return meta.getAttribute('text') || '';\n  };\n\n  var getIsFrameUsed = function () {\n    return !!parseInt(meta.getAttribute('isframeused'));\n  };\n\n  if (typeof meta !== 'string') {\n    // get the type of the child\n    var position, size, rotation, locations, tail, head, closed, text, firstAnchor, secondAnchor;\n    var id = editor.getId();\n    var style = getCurrentStyle(editor, meta);\n    var type = meta.getAttribute('type') || '';\n    var createMarkup;\n    switch (type) {\n      case _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_0__.MARKUP_TYPE_ARROW:\n        tail = getAttributeVector('tail');\n        head = getAttributeVector('head');\n        createMarkup = new _edit_actions_CreateArrow__WEBPACK_IMPORTED_MODULE_1__.CreateArrow(editor, id, tail, head, style);\n        break;\n\n      case _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_0__.MARKUP_TYPE_RECTANGLE:\n        position = getPosition();\n        size = getSize();\n        rotation = getRotation();\n        createMarkup = new _edit_actions_CreateRectangle__WEBPACK_IMPORTED_MODULE_2__.CreateRectangle(editor, id, position, size, rotation, style);\n        break;\n\n      case _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_0__.MARKUP_TYPE_TEXT:\n        position = getPosition();\n        size = getSize();\n        text = getText();\n        createMarkup = new _edit_actions_CreateText__WEBPACK_IMPORTED_MODULE_3__.CreateText(editor, id, position, size, text, style);\n        break;\n\n      case _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_0__.MARKUP_TYPE_CALLOUT:\n        position = getPosition();\n        size = getSize();\n        text = getText();\n        var isFrameUsed = getIsFrameUsed();\n        createMarkup = new _edit_actions_CreateCallout__WEBPACK_IMPORTED_MODULE_4__.CreateCallout(editor, id, position, size, text, style, isFrameUsed);\n        break;\n\n      case _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_0__.MARKUP_TYPE_CIRCLE:\n        position = getPosition();\n        size = getSize();\n        rotation = getRotation();\n        createMarkup = new _edit_actions_CreateCircle__WEBPACK_IMPORTED_MODULE_5__.CreateCircle(editor, id, position, size, rotation, style);\n        break;\n\n      case _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_0__.MARKUP_TYPE_CLOUD:\n        position = getPosition();\n        size = getSize();\n        rotation = getRotation();\n        createMarkup = new _edit_actions_CreateCloud__WEBPACK_IMPORTED_MODULE_6__.CreateCloud(editor, id, position, size, rotation, style);\n        break;\n\n      case _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_0__.MARKUP_TYPE_FREEHAND:\n        position = getPosition();\n        size = getSize();\n        rotation = getRotation();\n        locations = getLocations();\n        createMarkup = new _edit_actions_CreateFreehand__WEBPACK_IMPORTED_MODULE_7__.CreateFreehand(editor, id, position, size, rotation, locations, style);\n        break;\n\n      case _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_0__.MARKUP_TYPE_POLYLINE:\n        position = getPosition();\n        size = getSize();\n        rotation = getRotation();\n        locations = getLocations();\n        closed = isClosed();\n        createMarkup = new _edit_actions_CreatePolyline__WEBPACK_IMPORTED_MODULE_8__.CreatePolyline(editor, id, position, size, rotation, locations, style, closed);\n        break;\n\n      case _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_0__.MARKUP_TYPE_POLYCLOUD:\n        position = getPosition();\n        size = getSize();\n        rotation = getRotation();\n        locations = getLocations();\n        closed = isClosed();\n        createMarkup = new _edit_actions_CreatePolycloud__WEBPACK_IMPORTED_MODULE_9__.CreatePolycloud(editor, id, position, size, rotation, locations, style, closed);\n        break;\n\n      case _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_0__.MARKUP_TYPE_HIGHLIGHT:\n        position = getPosition();\n        size = getSize();\n        rotation = getRotation();\n        locations = getLocations();\n        createMarkup = new _edit_actions_CreateHighlight__WEBPACK_IMPORTED_MODULE_10__.CreateHighlight(editor, id, position, size, rotation, locations, style);\n        break;\n\n      case _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_0__.MARKUP_TYPE_DIMENSION:\n        firstAnchor = getAttributeVector('firstAnchor');\n        secondAnchor = getAttributeVector('secondAnchor');\n        text = getText();\n        createMarkup = new _edit_actions_CreateDimension__WEBPACK_IMPORTED_MODULE_11__.CreateDimension(editor, id, firstAnchor, secondAnchor, text, style);\n        break;\n\n      case _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_0__.MARKUP_TYPE_STAMP:\n        position = getPosition();\n        size = getSize();\n        rotation = getRotation();\n        createMarkup = new _edit_actions_CreateStamp__WEBPACK_IMPORTED_MODULE_13__.CreateStamp(editor, id, position, size, rotation, style, child);\n        break;\n\n      default:\n        createMarkup = null;\n        break;\n    }\n    if (createMarkup) {\n      createMarkup.addToHistory = false;\n      createMarkup.execute();\n      var markupList = editor.svgLayersMap[editor.activeLayer].markups;\n\n      for (var i = 0; i < markupList.length; ++i) {\n        if (markupList[i].id === id) {\n          return markupList[i];\n        }\n      }\n    }\n    return null;\n  }\n};\n\n\nvar composeRGBAString = function (hexRGBString, opacity) {\n\n  if (!hexRGBString || !opacity || opacity <= 0) {\n    return 'none';\n  }\n\n  return ['rgba(' +\n  parseInt('0x' + hexRGBString.substr(1, 2)), ',',\n  parseInt('0x' + hexRGBString.substr(3, 2)), ',',\n  parseInt('0x' + hexRGBString.substr(5, 2)), ',', opacity, ')'].join('');\n};\n\n//// Id Target Collision ///////////////////////////////////////////////////////////////////////////////////////////\n\n/**\n *\n * @param x0\n * @param y0\n * @param x1\n * @param y1\n * @param idTarget\n */\nvar checkLineSegment = function (x0, y0, x1, y1, idTarget) {\n\n  const _window = this && this.getWindow && this.getWindow() || _gWindow;\n  var deviceRatio = _window.devicePixelRatio || 1;\n\n  x0 *= deviceRatio;\n  y0 *= deviceRatio;\n  x1 *= deviceRatio;\n  y1 *= deviceRatio;\n\n  var idTargetWidth = idTarget.width;\n  var idTargetHeight = idTarget.height;\n  var idTargetBuffer = idTarget.buffer;\n\n  x0 = Math.round(x0);\n  x1 = Math.round(x1);\n  y0 = Math.round(idTargetHeight - y0);\n  y1 = Math.round(idTargetHeight - y1);\n\n  function point(x, y) {\n\n    x = Math.round(x);\n    y = Math.round(y);\n\n    var dx = 0;\n    var dy = 0;\n\n    for (var j = -deviceRatio; j <= deviceRatio; j += deviceRatio * 2) {\n      dy += check(x, y + j) ? j : 0;\n    }\n\n    for (var i = -deviceRatio; i <= deviceRatio; i += deviceRatio * 2) {\n      dx += check(x + i, y) ? i : 0;\n    }\n\n    return {\n      x: Math.round(x / deviceRatio + dx),\n      y: Math.round((idTargetHeight - y) / deviceRatio - dy) };\n  }\n\n  function check(x, y) {\n\n    // Probably better to clip line at the beginning.\n    if (x < 0 || x >= idTargetWidth ||\n    y < 0 || y >= idTargetHeight) {\n      return false;\n    }\n\n    var index = (y * idTargetWidth + x) * 4;\n    return (\n      idTargetBuffer[index] !== 0xFF ||\n      idTargetBuffer[index + 1] !== 0xFF ||\n      idTargetBuffer[index + 2] !== 0xFF);\n  }\n\n  // DDA Line algorithm\n  var dx = x1 - x0;\n  var dy = y1 - y0;\n\n  var m = dx !== 0 ? dy / dx : 1;\n  var x = x0;\n  var y = y0;\n\n  if (dx !== 0 && Math.abs(m) <= 1) {\n\n    if (x0 <= x1) {\n      for (; x <= x1; ++x, y += m) {\n        if (check(x, Math.round(y))) {\n          return point(x, y);\n        }\n      }\n    } else {\n      for (; x >= x1; --x, y -= m) {\n        if (check(x, Math.round(y))) {\n          return point(x, y);\n        }\n      }\n    }\n  } else {\n\n    m = dx !== 0 ? 1 / m : 0;\n    if (y0 <= y1) {\n      for (; y <= y1; ++y, x += m) {\n        if (check(Math.round(x), y)) {\n          return point(x, y);\n        }\n      }\n    } else {\n      for (; y >= y1; --y, x -= m) {\n        if (check(Math.round(x), y)) {\n          return point(x, y);\n        }\n      }\n    }\n  }\n};\n\n/**\n *\n * @param polygon\n * @param idTarget\n */\nvar checkPolygon = function (polygon, idTarget) {\n\n  // Return if incorrect parameters.\n  if (!polygon || polygon.verxtexCount < 3 || !idTarget) {\n    return null;\n  }\n\n  const _window = this && this.getWindow && this.getWindow() || _gWindow;\n  var deviceRatio = _window.devicePixelRatio || 1;\n\n  var idTargetWidth = idTarget.width;\n  var idTargetHeight = idTarget.height;\n  var idTargetBuffer = idTarget.buffer;\n\n  var vertexCount = polygon.vertexCount;\n  var xVertices = Float32Array.from(polygon.xVertices); // Clone to scale by device pixel ratio and to\n  var yVertices = Float32Array.from(polygon.yVertices); // change y coordinates to OpenGL style.\n\n  function point(x, y) {\n\n    var dx = 0;\n    var dy = 0;\n\n    for (var j = -deviceRatio; j <= deviceRatio; j += deviceRatio * 2) {\n      dy += check(x, y + j) ? j : 0;\n    }\n\n    for (var i = -deviceRatio; i <= deviceRatio; i += deviceRatio * 2) {\n      dx += check(x + i, y) ? i : 0;\n    }\n\n    return {\n      x: Math.round(x / deviceRatio) + dx,\n      y: Math.round((idTargetHeight - y) / deviceRatio - dy) };\n  }\n\n  function check(x, y) {\n\n    if (x < 0 || x >= idTargetWidth ||\n    y < 0 || y >= idTargetHeight) {\n      return false;\n    }\n\n    var index = (y * idTargetWidth + x) * 4;\n    return (\n    idTargetBuffer[index] !== 0xFF ||\n    idTargetBuffer[index + 1] !== 0xFF ||\n    idTargetBuffer[index + 2] !== 0xFF) && isInsidePolygon(x, y);\n  }\n\n  function isInsidePolygon(x, y) {\n\n    var result = false;\n    var vertexCount = polygon.vertexCount;\n    for (var i = 0, j = vertexCount - 1; i < vertexCount; j = i++) {\n\n      if (yVertices[i] > y != yVertices[j] > y &&\n      x < (xVertices[j] - xVertices[i]) * (y - yVertices[i]) / (yVertices[j] - yVertices[i]) + xVertices[i]) {\n        result = !result;\n      }\n    }\n    return result;\n  }\n\n  // Change coordinates to OpenGL style and calculate polygon's bounding box.\n  var bbX0 = Number.POSITIVE_INFINITY;\n  var bbY0 = Number.POSITIVE_INFINITY;\n  var bbX1 = Number.NEGATIVE_INFINITY;\n  var bbY1 = Number.NEGATIVE_INFINITY;\n\n  for (var i = 0; i < vertexCount; ++i) {\n\n    var bbX = xVertices[i] = xVertices[i] * deviceRatio;\n    var bbY = yVertices[i] = idTargetHeight - yVertices[i] * deviceRatio;\n\n    bbX0 = Math.min(bbX0, bbX);\n    bbY0 = Math.min(bbY0, bbY);\n    bbX1 = Math.max(bbX1, bbX);\n    bbY1 = Math.max(bbY1, bbY);\n  }\n\n  if (bbX1 < 0 || bbX0 > idTargetWidth ||\n  bbY1 < 0 || bbY0 > idTargetHeight) {\n    return null;\n  }\n\n  var bbW = Math.round(bbX1 - bbX0);\n  var bbH = Math.round(bbY1 - bbY0);\n\n  var bbCenterX = Math.round((bbX0 + bbX1) * 0.5);\n  var bbCenterY = Math.round((bbY0 + bbY1) * 0.5);\n\n  // Check\n  var x = bbCenterX;\n  var y = bbCenterY;\n\n  var w = 1;\n  var h = 1;\n\n  do {\n\n    var endX = x + w;\n    var endY = y + h;\n\n    for (; x < endX; ++x) {\n      if (check(x, y)) {\n        return point(x, y);\n      }\n    }\n\n    for (; y < endY; ++y) {\n      if (check(x, y)) {\n        return point(x, y);\n      }\n    }\n\n    if (w < bbW) {\n      endX = x - ++w;++w;\n    } else {\n      endX = x - w;\n    }\n\n    if (h < bbH) {\n      endY = y - ++h;++h;\n    } else {\n      endY = y - h;\n    }\n\n    for (; x > endX; --x) {\n      if (check(x, y)) {\n        return point(x, y);\n      }\n    }\n\n    for (; y > endY; --y) {\n      if (check(x, y)) {\n        return point(x, y);\n      }\n    }\n  } while (w < bbW || h < bbH);\n};\n\n//// CSS ///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n/**\n *\n * @returns {*}\n */\nvar createStyleSheet = function () {\n\n  const _document = this && this.getDocument && this.getDocument() || _gDocument;\n  var style = _document.createElement(\"style\");\n\n  // This is WebKit hack.\n  style.appendChild(_document.createTextNode(\"\"));\n  _document.head.appendChild(style);\n\n  return style.sheet;\n};\n\n/**\n *\n * @param styleSheet\n * @param selector\n * @param styles\n * @param index\n */\nvar addRuleToStyleSheet = function (styleSheet, selector, styles, index) {\n\n  if (\"insertRule\" in styleSheet) {\n    styleSheet.insertRule(selector + \"{\" + styles + \"}\", index);\n  } else\n  if (\"addRule\" in styleSheet) {\n    styleSheet.addRule(selector, styles, index);\n  }\n};\n\n//// SVG ///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n/**\n *\n * @param lines\n * @param style\n * @param editor\n */\nvar measureTextLines = function (lines, style, editor) {\n\n  // Measure div style is line style with some custom layout properties.\n  var fontSize = editor.sizeFromMarkupsToClient(0, style['font-size']).y;\n\n  var measureStyle = new _DomElementStyle__WEBPACK_IMPORTED_MODULE_12__.DomElementStyle().\n  setAttribute('font-family', style['font-family']).\n  setAttribute('font-size', fontSize + 'px').\n  setAttribute('font-weight', style['font-weight'] ? 'bold' : '').\n  setAttribute('font-style', style['font-style'] ? 'italic' : '').\n\n  removeAttribute(['top', 'left', 'width', 'height', 'overflow-y']).\n  setAttribute('position', 'absolute').\n  setAttribute('white-space', 'nowrap').\n  setAttribute('float', 'left').\n  setAttribute('visibility', 'hidden').\n  getStyleString();\n\n  const _document = this && this.getDocument && this.getDocument() || _gDocument;\n  // Create measure div.\n  var measure = _document.createElement('div');\n\n  measure.setAttribute('style', measureStyle);\n  editor.viewer.container.appendChild(measure);\n\n  // Measure.\n  var result = [];\n\n  var linesCount = lines.length;\n  for (var i = 0; i < linesCount; ++i) {\n\n    measure.innerText = lines[i];\n    result.push({\n      line: lines[i],\n      width: measure.clientWidth,\n      height: measure.clientHeight\n    });\n  }\n\n  // Remove measure div and return result.\n  editor.viewer.container.removeChild(measure);\n  return result;\n};\n\nvar createArcTo = function (x, y, xRadius, yRadius, relative, path) {\n\n  path.push(relative ? 'a' : 'A');\n  path.push(xRadius);\n  path.push(yRadius);\n  path.push(0);\n  path.push(1);\n  path.push(1);\n  path.push(x);\n  path.push(y);\n\n  return path;\n};\n\nvar createEllipsePath = function (x, y, w, h, relative, path) {\n\n  var halfW = w * 0.5;\n  var halfH = h * 0.5;\n\n  path.push(relative ? 'm' : 'M');\n  path.push(x);\n  path.push(y);\n\n  createArcTo(w, 0, halfW, halfH, true, path);\n  createArcTo(-w, 0, halfW, halfH, true, path);\n\n  path.push('z');\n};\n\nvar createRectanglePath = function (x, y, w, h, relative, path) {\n\n  path.push(relative ? 'm' : 'M');\n  path.push(x);\n  path.push(y);\n  path.push('l');\n  path.push(w);\n  path.push(0);\n  path.push('l');\n  path.push(0);\n  path.push(h);\n  path.push('l');\n  path.push(-w);\n  path.push(0);\n  path.push('z');\n};\n\nvar renderToCanvas = function (svg, viewBox, width, height, ctx, callback) {\n\n  const svgMarkup = svg.outerHTML;\n\n  // Apply y-invert due to markups being defined in the LMV coordinate system. CSS is used here due to\n  // poor Safari support: https://bugs.webkit.org/show_bug.cgi?id=201854\n  const style = 'transform: scale(1, -1); transform-origin: center center';\n\n  // Creating a new svg element, that will be drawn into the canvas.\n  const tmpSvg = `\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${width}\" height=\"${height}\" viewBox=\"${viewBox}\" style=\"${style}\">\n          ${svgMarkup}\n        </svg>\n        `;\n\n  const blob = new Blob([tmpSvg], { type: 'image/svg+xml' });\n  const url = URL.createObjectURL(blob);\n\n  const img = new Image();\n\n  img.onload = function () {\n    ctx.drawImage(img, 0, 0);\n    callback();\n  };\n\n  img.src = url;\n};\n\n/*\n Taken from Simplify.js, a high-performance JS polyline simplification library\n (c) 2013, Vladimir Agafonkin\n mourner.github.io/simplify-js\n*/\nvar simplify = function (points, tolerance, highestQuality) {\n\n  if (points.length <= 2) return points;\n\n  // square distance between 2 points\n  function getSqDist(p1, p2) {\n\n    var dx = p1.x - p2.x,\n      dy = p1.y - p2.y;\n\n    return dx * dx + dy * dy;\n  }\n\n  // square distance from a point to a segment\n  function getSqSegDist(p, p1, p2) {\n\n    var x = p1.x,\n      y = p1.y,\n      dx = p2.x - x,\n      dy = p2.y - y;\n\n    if (dx !== 0 || dy !== 0) {\n\n      var t = ((p.x - x) * dx + (p.y - y) * dy) / (dx * dx + dy * dy);\n\n      if (t > 1) {\n        x = p2.x;\n        y = p2.y;\n\n      } else if (t > 0) {\n        x += dx * t;\n        y += dy * t;\n      }\n    }\n\n    dx = p.x - x;\n    dy = p.y - y;\n\n    return dx * dx + dy * dy;\n  }\n  // rest of the code doesn't care about point format\n\n  // basic distance-based simplification\n  function simplifyRadialDist(points, sqTolerance) {\n\n    var prevPoint = points[0],\n      newPoints = [prevPoint],\n      point;\n\n    for (var i = 1, len = points.length; i < len; i++) {\n      point = points[i];\n\n      if (getSqDist(point, prevPoint) > sqTolerance) {\n        newPoints.push(point);\n        prevPoint = point;\n      }\n    }\n\n    if (prevPoint !== point) newPoints.push(point);\n\n    return newPoints;\n  }\n\n  function simplifyDPStep(points, first, last, sqTolerance, simplified) {\n    var maxSqDist = sqTolerance,\n      index;\n\n    for (var i = first + 1; i < last; i++) {\n      var sqDist = getSqSegDist(points[i], points[first], points[last]);\n\n      if (sqDist > maxSqDist) {\n        index = i;\n        maxSqDist = sqDist;\n      }\n    }\n\n    if (maxSqDist > sqTolerance) {\n      if (index - first > 1) simplifyDPStep(points, first, index, sqTolerance, simplified);\n      simplified.push(points[index]);\n      if (last - index > 1) simplifyDPStep(points, index, last, sqTolerance, simplified);\n    }\n  }\n\n  // simplification using Ramer-Douglas-Peucker algorithm\n  function simplifyDouglasPeucker(points, sqTolerance) {\n    var last = points.length - 1;\n\n    var simplified = [points[0]];\n    simplifyDPStep(points, 0, last, sqTolerance, simplified);\n    simplified.push(points[last]);\n\n    return simplified;\n  }\n\n  // both algorithms combined for awesome performance\n  var sqTolerance = tolerance !== undefined ? tolerance * tolerance : 1;\n\n  points = highestQuality ? points : simplifyRadialDist(points, sqTolerance);\n  points = simplifyDouglasPeucker(points, sqTolerance);\n\n  return points;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL01hcmt1cHNDb3JlVXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBa0Q7QUFDTztBQUNRO0FBQ1Y7QUFDTTtBQUNGO0FBQ0Y7QUFDTTtBQUNBO0FBQ0U7QUFDQTtBQUNBO0FBQ2I7QUFDSzs7O0FBR3JELElBQUljLEVBQUUsR0FBR0MsUUFBUSxDQUFDQyxPQUFPO0FBQ3pCLElBQUlDLEdBQUcsR0FBR0YsUUFBUSxDQUFDQyxPQUFPLENBQUNFLE9BQU87O0FBRWxDLE1BQU1DLFFBQVEsR0FBR0wsRUFBRSxDQUFDTSxTQUFTLENBQUMsQ0FBQztBQUMvQixNQUFNQyxVQUFVLEdBQUdGLFFBQVEsQ0FBQ0csUUFBUTs7QUFFcEM7QUFDTyxJQUFJQyxxQ0FBcUMsR0FBRyxDQUFDO0FBQzdDLElBQUlDLG1DQUFtQyxHQUFHLEVBQUU7QUFDNUMsSUFBSUMsd0NBQXdDLEdBQUcsRUFBRTtBQUNqRCxJQUFJQyx5QkFBeUIsR0FBRyxDQUFDOztBQUV4QztBQUNKO0FBQ0E7QUFDQTtBQUNXLElBQUlDLGFBQWEsR0FBRyxTQUFBQSxDQUFBLEVBQVc7RUFDbEM7RUFDQTtFQUNBLElBQUliLEVBQUUsQ0FBQ2EsYUFBYSxJQUFJLE9BQU9DLE1BQU0sS0FBSyxVQUFVLEVBQUU7SUFDbEQsT0FBT2QsRUFBRSxDQUFDYSxhQUFhLENBQUMsQ0FBQztFQUM3QjtFQUNBLE9BQU8sS0FBSztBQUNoQixDQUFDOztBQUVEOztBQUVBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDVyxJQUFJRSxnQkFBZ0IsR0FBRyxTQUFBQSxDQUFTQyxJQUFJLEVBQUU7O0VBRXpDLE1BQU1DLFNBQVMsR0FBSSxJQUFJLElBQUksSUFBSSxDQUFDQyxXQUFXLElBQUksSUFBSSxDQUFDQSxXQUFXLENBQUMsQ0FBQyxJQUFLWCxVQUFVO0VBQ2hGO0VBQ0Es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QUFFLENBQUMsRUFBRWMsSUFBSSxFQUFFTCxXQUFXLEVBQUVNLFVBQVUsQ0FBQztJQUN4REEsVUFBVSxDQUFDaFQsSUFBSSxDQUFDaVMsTUFBTSxDQUFDYyxJQUFJLENBQUMsQ0FBQzs7SUFFN0IsT0FBT0MsVUFBVTtFQUNyQjs7RUFFQTtFQUNBLElBQUlOLFdBQVcsR0FBR1IsU0FBUyxLQUFLL1AsU0FBUyxHQUFHK1AsU0FBUyxHQUFHQSxTQUFTLEdBQUcsQ0FBQzs7RUFFckVELE1BQU0sR0FBR0UsY0FBYyxHQUFHRixNQUFNLEdBQUdRLGtCQUFrQixDQUFDUixNQUFNLEVBQUVTLFdBQVcsQ0FBQztFQUMxRVQsTUFBTSxHQUFHa0Isc0JBQXNCLENBQUNsQixNQUFNLEVBQUVTLFdBQVcsQ0FBQzs7RUFFcEQsT0FBT1QsTUFBTTtBQUNqQixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvTWFya3Vwc0NvcmVVdGlscy5qcz81NjZmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIE1hcmt1cFR5cGUgZnJvbSAnLi4vY29yZS9NYXJrdXBUeXBlcyc7XG5pbXBvcnQgeyBDcmVhdGVBcnJvdyB9IGZyb20gJy4vZWRpdC1hY3Rpb25zL0NyZWF0ZUFycm93JztcbmltcG9ydCB7IENyZWF0ZVJlY3RhbmdsZSB9IGZyb20gJy4vZWRpdC1hY3Rpb25zL0NyZWF0ZVJlY3RhbmdsZSc7XG5pbXBvcnQgeyBDcmVhdGVUZXh0IH0gZnJvbSAnLi9lZGl0LWFjdGlvbnMvQ3JlYXRlVGV4dCc7XG5pbXBvcnQgeyBDcmVhdGVDYWxsb3V0IH0gZnJvbSAnLi9lZGl0LWFjdGlvbnMvQ3JlYXRlQ2FsbG91dCc7XG5pbXBvcnQgeyBDcmVhdGVDaXJjbGUgfSBmcm9tICcuL2VkaXQtYWN0aW9ucy9DcmVhdGVDaXJjbGUnO1xuaW1wb3J0IHsgQ3JlYXRlQ2xvdWQgfSBmcm9tICcuL2VkaXQtYWN0aW9ucy9DcmVhdGVDbG91ZCc7XG5pbXBvcnQgeyBDcmVhdGVGcmVlaGFuZCB9IGZyb20gJy4vZWRpdC1hY3Rpb25zL0NyZWF0ZUZyZWVoYW5kJztcbmltcG9ydCB7IENyZWF0ZVBvbHlsaW5lIH0gZnJvbSAnLi9lZGl0LWFjdGlvbnMvQ3JlYXRlUG9seWxpbmUnO1xuaW1wb3J0IHsgQ3JlYXRlUG9seWNsb3VkIH0gZnJvbSAnLi9lZGl0LWFjdGlvbnMvQ3JlYXRlUG9seWNsb3VkJztcbmltcG9ydCB7IENyZWF0ZUhpZ2hsaWdodCB9IGZyb20gJy4vZWRpdC1hY3Rpb25zL0NyZWF0ZUhpZ2hsaWdodCc7XG5pbXBvcnQgeyBDcmVhdGVEaW1lbnNpb24gfSBmcm9tICcuL2VkaXQtYWN0aW9ucy9DcmVhdGVEaW1lbnNpb24nO1xuaW1wb3J0IHsgRG9tRWxlbWVudFN0eWxlIH0gZnJvbSAnLi9Eb21FbGVtZW50U3R5bGUnO1xuaW1wb3J0IHsgQ3JlYXRlU3RhbXAgfSBmcm9tICcuL2VkaXQtYWN0aW9ucy9DcmVhdGVTdGFtcCc7XG5cblxuICAgIHZhciBhdiA9IEF1dG9kZXNrLlZpZXdpbmc7XG4gICAgdmFyIGF2cCA9IEF1dG9kZXNrLlZpZXdpbmcuUHJpdmF0ZTtcblxuICAgIGNvbnN0IF9nV2luZG93ID0gYXYuZ2V0R2xvYmFsKCk7XG4gICAgY29uc3QgX2dEb2N1bWVudCA9IF9nV2luZG93LmRvY3VtZW50O1xuXG4gICAgLy8gQ2hhbmdlIHRoZXNlIGNvbnN0YW50cyB0byBhbHRlciB0aGUgZGVmYXVsdCBzaXplcyBpbiBwaXhlbHMgb2Ygc3Ryb2tlcyBhbmQgZm9udHMuXG4gICAgZXhwb3J0IHZhciBNQVJLVVBfREVGQVVMVF9TVFJPS0VfV0lEVEhfSU5fUElYRUxTID0gMTtcbiAgICBleHBvcnQgdmFyIE1BUktVUF9ERUZBVUxUX0ZPTlRfV0lEVEhfSU5fUElYRUxTID0gMTA7XG4gICAgZXhwb3J0IHZhciBNQVJLVVBfREVGQVVMVF9ISVRBUkVBU19NQVJHSU5fSU5fUElYRUxTID0gMTU7XG4gICAgZXhwb3J0IHZhciBFRElUX0ZSQU1FX0RFRkFVTFRfTUFSR0lOID0gNztcblxuICAgIC8qKlxuICAgICAqIC8vIGlzVG91Y2hEZXZpY2UgaXMgYW4gTE1WIGZ1bmN0aW9uLiBIYW1tZXIgaXMgaW5jbHVkZWQgYnkgTE1WIGFzIHdlbGxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBleHBvcnQgdmFyIGlzVG91Y2hEZXZpY2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gaXNUb3VjaERldmljZSgpIGlzIGFuIExNViBmdW5jdGlvbi5cbiAgICAgICAgLy8gSGFtbWVyIChhIHRvdWNoIGRldGVjdGlvbiBsaWIpIGlzIHBhY2thZ2VkIHdpdGggTE1WIGFzIHdlbGxcbiAgICAgICAgaWYgKGF2LmlzVG91Y2hEZXZpY2UgJiYgdHlwZW9mIEhhbW1lciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gYXYuaXNUb3VjaERldmljZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLy8vLyBTVkcgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHR5cGVcbiAgICAgKiBAcmV0dXJucyB7RWxlbWVudH1cbiAgICAgKi9cbiAgICBleHBvcnQgdmFyIGNyZWF0ZVN2Z0VsZW1lbnQgPSBmdW5jdGlvbih0eXBlKSB7XG5cbiAgICAgICAgY29uc3QgX2RvY3VtZW50ID0gKHRoaXMgJiYgdGhpcy5nZXREb2N1bWVudCAmJiB0aGlzLmdldERvY3VtZW50KCkpIHx8IF9nRG9jdW1lbnQ7XG4gICAgICAgIC8vIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRG9jdW1lbnQvY3JlYXRlRWxlbWVudE5TXG4gICAgICAgIHZhciBuYW1lc3BhY2UgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuICAgICAgICByZXR1cm4gIF9kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlLCB0eXBlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IHN2ZyAtIGFuIFNWR0VsZW1lbnRcbiAgICAgKiBAcmV0dXJucyB7RWxlbWVudH0gc3ZnIHBhcmFtIGlzIHJldHVybmVkIGJhY2tcbiAgICAgKi9cbiAgICBleHBvcnQgdmFyIHNldFN2Z1BhcmVudEF0dHJpYnV0ZXMgPSBmdW5jdGlvbihzdmcpIHtcblxuICAgICAgICAvLyBTZWU6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1NWRy9OYW1lc3BhY2VzX0NyYXNoX0NvdXJzZVxuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCd2ZXJzaW9uJywgJzEuMScpOyAvLyBOb3RpY2UgdGhhdCB0aGlzIGlzIHRoZSBTVkcgdmVyc2lvbiwgbm90IHRoZSBcIk1BUktVUCBEQVRBIFZFUlNJT05cIiFcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZSgnYmFzZVByb2ZpbGUnLCAnZnVsbCcpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCdsYXllci1vcmRlci1pZCcsICdtYXJrdXBzLXN2ZycpO1xuICAgICAgICByZXR1cm4gc3ZnO1xuICAgIH07XG5cbiAgICBleHBvcnQgdmFyIGNyZWF0ZU1hcmt1cEdyb3VwU3ZnID0gZnVuY3Rpb24oY2hpbGRyZW4pIHtcbiAgICAgICAgY2hpbGRyZW4gPSBjaGlsZHJlbiB8fCBbXTtcbiAgICAgICAgdmFyIHN2ZyA9IGNyZWF0ZVN2Z0VsZW1lbnQoJ2cnKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZSgnY3Vyc29yJywgJ2RlZmF1bHQnKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZSgncG9pbnRlci1ldmVudHMnLCAnbm9uZScpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHN2Zy5hcHBlbmRDaGlsZChjaGlsZHJlbltpXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3ZnO1xuICAgIH07XG5cbiAgICBleHBvcnQgdmFyIGNyZWF0ZU1hcmt1cFBhdGhTdmcgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgc3ZnID0gY3JlYXRlU3ZnRWxlbWVudCgnZycpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCdjdXJzb3InLCAnaW5oZXJpdCcpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCdwb2ludGVyLWV2ZW50cycsICdub25lJyk7XG5cbiAgICAgICAgdmFyIG1hcmt1cCA9IGNyZWF0ZVN2Z0VsZW1lbnQoJ3BhdGgnKTtcbiAgICAgICAgbWFya3VwLnNldEF0dHJpYnV0ZSgnaWQnLCAnbWFya3VwJyk7XG5cbiAgICAgICAgdmFyIGhpdGFyZWEgPSBjcmVhdGVTdmdFbGVtZW50KCdwYXRoJyk7XG4gICAgICAgIGhpdGFyZWEuc2V0QXR0cmlidXRlKCdpZCcsICdoaXRhcmVhJyk7XG4gICAgICAgIGhpdGFyZWEuc2V0QXR0cmlidXRlKCdmaWxsJywgJ3RyYW5zcGFyZW50Jyk7XG4gICAgICAgIGhpdGFyZWEuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAndHJhbnNwYXJlbnQnKTtcblxuICAgICAgICBzdmcubWFya3VwID0gbWFya3VwO1xuICAgICAgICBzdmcuaGl0YXJlYSA9IGhpdGFyZWE7XG5cbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKG1hcmt1cCk7XG4gICAgICAgIHN2Zy5hcHBlbmRDaGlsZChoaXRhcmVhKTtcblxuICAgICAgICByZXR1cm4gc3ZnO1xuICAgIH07XG5cbiAgICBleHBvcnQgdmFyIHNldEF0dHJpYnV0ZVRvTWFya3VwU3ZnID0gZnVuY3Rpb24oc3ZnLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG5cbiAgICAgICAgc3ZnLm1hcmt1cC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIGV4cG9ydCB2YXIgdXBkYXRlTWFya3VwUGF0aFN2Z0hpdGFyZWEgPSBmdW5jdGlvbihzdmcsIGVkaXRvcikge1xuXG4gICAgICAgIHZhciBtYXJrdXAgPSBzdmcubWFya3VwO1xuICAgICAgICB2YXIgaGl0YXJlYSA9IHN2Zy5oaXRhcmVhO1xuXG4gICAgICAgIHZhciBoaXRhcmVhTWFyZ2luID0gZWRpdG9yLnNpemVGcm9tQ2xpZW50VG9NYXJrdXBzKDAsIE1BUktVUF9ERUZBVUxUX0hJVEFSRUFTX01BUkdJTl9JTl9QSVhFTFMpLnk7XG4gICAgICAgIGhpdGFyZWFNYXJnaW4gKz0gcGFyc2VGbG9hdChtYXJrdXAuZ2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnKSkgKyBoaXRhcmVhTWFyZ2luO1xuXG4gICAgICAgIHZhciBtYXJrdXBGaWxsID0gbWFya3VwLmdldEF0dHJpYnV0ZSgnZmlsbCcpO1xuICAgICAgICB2YXIgbWFya3VwU3Ryb2tlID0gbWFya3VwLmdldEF0dHJpYnV0ZSgnc3Ryb2tlJyk7XG4gICAgICAgIHZhciBzdHJva2VFbmFibGVkID0gbWFya3VwU3Ryb2tlICE9PSAnJyAmJiBtYXJrdXBTdHJva2UgIT09ICdub25lJztcbiAgICAgICAgdmFyIGZpbGxFbmFibGVkID0gbWFya3VwRmlsbCAhPT0gJycgJiYgbWFya3VwRmlsbCAhPT0gJ25vbmUnO1xuXG4gICAgICAgIGhpdGFyZWEuc2V0QXR0cmlidXRlKCdkJywgbWFya3VwLmdldEF0dHJpYnV0ZSgnZCcpKTtcbiAgICAgICAgaGl0YXJlYS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsIGhpdGFyZWFNYXJnaW4pO1xuICAgICAgICBoaXRhcmVhLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgbWFya3VwLmdldEF0dHJpYnV0ZSgndHJhbnNmb3JtJykpO1xuXG4gICAgICAgIGlmIChlZGl0b3IuZHVyaW5nRWRpdE1vZGUgJiYgIWVkaXRvci5uYXZpZ2F0aW5nKSB7XG4gICAgICAgICAgICBpZiAoc3Ryb2tlRW5hYmxlZCAmJiBmaWxsRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ3BvaW50ZXItZXZlbnRzJywgJ3BhaW50ZWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdHJva2VFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZSgncG9pbnRlci1ldmVudHMnLCAnc3Ryb2tlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZmlsbEVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCdwb2ludGVyLWV2ZW50cycsICdmaWxsJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZSgncG9pbnRlci1ldmVudHMnLCAnbm9uZScpO1xuICAgIH07XG5cbiAgICBleHBvcnQgdmFyIGNyZWF0ZU1hcmt1cFRleHRTdmcgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgc3ZnID0gY3JlYXRlU3ZnRWxlbWVudCgnZycpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCdjdXJzb3InLCAnZGVmYXVsdCcpO1xuXG4gICAgICAgIHZhciBjbGlwcGVySWQgPSAnbWFya3VwLWNsaXBwZXItJyArIGdldFVuaXF1ZUlEKCk7XG4gICAgICAgIHZhciBjbGlwcGVyVXJsID0gJ3VybCgjJyArIGNsaXBwZXJJZCArICcpJztcblxuICAgICAgICB2YXIgY2xpcHBlciA9IGNyZWF0ZVN2Z0VsZW1lbnQoJ2NsaXBQYXRoJyk7XG4gICAgICAgIGNsaXBwZXIuc2V0QXR0cmlidXRlKCdpZCcsIGNsaXBwZXJJZCk7XG4gICAgICAgIGNsaXBwZXIucmVtb3ZlQXR0cmlidXRlKCdwb2ludGVyLWV2ZW50cycpO1xuICAgICAgICBjbGlwcGVyLnJlY3QgPSBjcmVhdGVTdmdFbGVtZW50KCdyZWN0Jyk7XG4gICAgICAgIGNsaXBwZXIuYXBwZW5kQ2hpbGQoY2xpcHBlci5yZWN0KTtcblxuICAgICAgICB2YXIgYmFja2dyb3VuZCA9IGNyZWF0ZVN2Z0VsZW1lbnQoJ3JlY3QnKTtcbiAgICAgICAgYmFja2dyb3VuZC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ21hcmt1cC1iYWNrZ3JvdW5kJyk7XG4gICAgICAgIGJhY2tncm91bmQucmVtb3ZlQXR0cmlidXRlKCdwb2ludGVyLWV2ZW50cycpO1xuXG4gICAgICAgIHZhciBtYXJrdXAgPSBjcmVhdGVTdmdFbGVtZW50KCd0ZXh0Jyk7XG4gICAgICAgIG1hcmt1cC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ21hcmt1cCcpO1xuXG4gICAgICAgIHZhciBoaXRhcmVhID0gY3JlYXRlU3ZnRWxlbWVudCgncmVjdCcpO1xuICAgICAgICBoaXRhcmVhLnNldEF0dHJpYnV0ZSgnaWQnLCAnaGl0YXJlYScpO1xuICAgICAgICBoaXRhcmVhLnNldEF0dHJpYnV0ZSgnZmlsbCcsICd0cmFuc3BhcmVudCcpO1xuICAgICAgICBoaXRhcmVhLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ25vbmUnKTtcbiAgICAgICAgaGl0YXJlYS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICcwJyk7XG5cbiAgICAgICAgdmFyIGNsaXBwZWRBcmVhID0gY3JlYXRlU3ZnRWxlbWVudCgnZycpO1xuICAgICAgICBjbGlwcGVkQXJlYS5zZXRBdHRyaWJ1dGUoJ2NsaXAtcGF0aCcsIGNsaXBwZXJVcmwpO1xuICAgICAgICBjbGlwcGVkQXJlYS5hcHBlbmRDaGlsZChjbGlwcGVyKTtcbiAgICAgICAgY2xpcHBlZEFyZWEuYXBwZW5kQ2hpbGQoYmFja2dyb3VuZCk7XG4gICAgICAgIGNsaXBwZWRBcmVhLmFwcGVuZENoaWxkKG1hcmt1cCk7XG5cbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKGNsaXBwZWRBcmVhKTtcbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKGhpdGFyZWEpO1xuXG4gICAgICAgIHN2Zy5jbGlwcGVyID0gY2xpcHBlcjtcbiAgICAgICAgc3ZnLmJhY2tncm91bmQgPSBiYWNrZ3JvdW5kO1xuICAgICAgICBzdmcubWFya3VwID0gbWFya3VwO1xuICAgICAgICBzdmcuaGl0YXJlYSA9IGhpdGFyZWE7XG5cbiAgICAgICAgcmV0dXJuIHN2ZztcbiAgICB9O1xuXG4gICAgZXhwb3J0IHZhciBzZXRNYXJrdXBUZXh0U3ZnVHJhbnNmb3JtID0gZnVuY3Rpb24oc3ZnLCB0cmFuc2Zvcm0sIHRleHRUcmFuc2Zvcm0pIHtcblxuICAgICAgICBzdmcuY2xpcHBlci5yZWN0LnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgdHJhbnNmb3JtKTtcbiAgICAgICAgc3ZnLmJhY2tncm91bmQuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCB0cmFuc2Zvcm0pO1xuICAgICAgICBzdmcubWFya3VwLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgdGV4dFRyYW5zZm9ybSk7XG4gICAgICAgIHN2Zy5oaXRhcmVhLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgdHJhbnNmb3JtKTtcbiAgICB9O1xuXG4gICAgZXhwb3J0IHZhciB1cGRhdGVNYXJrdXBUZXh0U3ZnSGl0YXJlYSA9IGZ1bmN0aW9uKHN2ZywgdywgaCwgZWRpdG9yKSB7XG5cbiAgICAgICAgdmFyIGhpdGFyZWEgPSBzdmcuaGl0YXJlYTtcbiAgICAgICAgdmFyIGhpdGFyZWFNYXJnaW4gPSBlZGl0b3Iuc2l6ZUZyb21DbGllbnRUb01hcmt1cHMoMCwgTUFSS1VQX0RFRkFVTFRfSElUQVJFQVNfTUFSR0lOX0lOX1BJWEVMUykueTtcblxuICAgICAgICBoaXRhcmVhLnNldEF0dHJpYnV0ZSgneCcsIC1oaXRhcmVhTWFyZ2luKTtcbiAgICAgICAgaGl0YXJlYS5zZXRBdHRyaWJ1dGUoJ3knLCAtaGl0YXJlYU1hcmdpbik7XG4gICAgICAgIGhpdGFyZWEuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHcgKyBoaXRhcmVhTWFyZ2luICogMik7XG4gICAgICAgIGhpdGFyZWEuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBoICsgaGl0YXJlYU1hcmdpbiAqIDIpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKFwicG9pbnRlci1ldmVudHNcIiwgZWRpdG9yLm5hdmlnYXRpbmcgPyBcIm5vbmVcIiA6IFwicGFpbnRlZFwiKTtcbiAgICB9O1xuXG4gICAgZXhwb3J0IHZhciB1cGRhdGVNYXJrdXBUZXh0U3ZnQmFja2dyb3VuZCA9IGZ1bmN0aW9uKHN2ZywgdywgaCwgY29sb3IpIHtcblxuICAgICAgICB2YXIgYmFja2dyb3VuZCA9IHN2Zy5iYWNrZ3JvdW5kO1xuXG4gICAgICAgIGJhY2tncm91bmQuc2V0QXR0cmlidXRlKCd4JywgMCk7XG4gICAgICAgIGJhY2tncm91bmQuc2V0QXR0cmlidXRlKCd5JywgMCk7XG4gICAgICAgIGJhY2tncm91bmQuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHcpO1xuICAgICAgICBiYWNrZ3JvdW5kLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgaCk7XG4gICAgICAgIGJhY2tncm91bmQuc2V0QXR0cmlidXRlKCdmaWxsJywgY29sb3IpO1xuICAgIH07XG5cbiAgICBleHBvcnQgdmFyIHVwZGF0ZU1hcmt1cFRleHRTdmdDbGlwcGVyID0gZnVuY3Rpb24oc3ZnLCB3LCBoKSB7XG5cbiAgICAgICAgdmFyIGNsaXBwZXIgPSBzdmcuY2xpcHBlcjtcblxuICAgICAgICBjbGlwcGVyLnJlY3Quc2V0QXR0cmlidXRlKCd4JywgMCk7XG4gICAgICAgIGNsaXBwZXIucmVjdC5zZXRBdHRyaWJ1dGUoJ3knLCAwKTtcbiAgICAgICAgY2xpcHBlci5yZWN0LnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB3KTtcbiAgICAgICAgY2xpcHBlci5yZWN0LnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgaCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGluamVjdHMgbWV0YWRhdGEgZm9yIHRoZSB3aG9sZSBNYXJrdXAgZG9jdW1lbnQuXG4gICAgICogTWV0YWRhdGEgaW5jbHVkZXM6IHZlcnNpb24uXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBzdmcgLSBhbiBTVkdFbGVtZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1ldGFkYXRhIC0gRGljdGlvbmFyeSB3aXRoIGF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBleHBvcnQgdmFyIGFkZFN2Z01ldGFkYXRhID0gZnVuY3Rpb24oc3ZnICxtZXRhZGF0YSkge1xuXG4gICAgICAgIGNvbnN0IF9kb2N1bWVudCA9ICh0aGlzICYmIHRoaXMuZ2V0RG9jdW1lbnQgJiYgdGhpcy5nZXREb2N1bWVudCgpKSB8fCBfZ0RvY3VtZW50O1xuXG4gICAgICAgIHZhciBtZXRhZGF0YU5vZGUgPSBfZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdtZXRhZGF0YScpO1xuICAgICAgICB2YXIgZGF0YVZlcnNpb25Ob2RlID0gX2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ21hcmt1cF9kb2N1bWVudCcpO1xuXG4gICAgICAgIG1ldGFkYXRhTm9kZS5hcHBlbmRDaGlsZChkYXRhVmVyc2lvbk5vZGUpO1xuXG4gICAgICAgIC8vIE5PVEU6IFdlIGNvdWxkIGl0ZXJhdGUgb3ZlciB0aGUgcHJvcGVydGllcywgYnV0IHdlIGRvbid0IGJlY2F1c2UgdGhlc2UgYXJlIHRoZSBvbmx5IG9uZXMgc3VwcG9ydGVkXG4gICAgICAgIGRhdGFWZXJzaW9uTm9kZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLW1vZGVsLXZlcnNpb25cIiwgbWV0YWRhdGFbXCJkYXRhLW1vZGVsLXZlcnNpb25cIl0pOyAvLyBWZXJzaW9uLiBGb3IgZXhhbXBsZTogXCIxXCJcblxuICAgICAgICBzdmcuaW5zZXJ0QmVmb3JlKG1ldGFkYXRhTm9kZSwgc3ZnLmZpcnN0Q2hpbGQpO1xuICAgICAgICByZXR1cm4gbWV0YWRhdGFOb2RlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBpbmplY3RzIG1ldGFkYXRhIGZvciBzcGVjaWZpYyBtYXJrdXAgc3ZnIG5vZGVzLlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gbWFya3VwTm9kZSAtIGFuIFNWR0VsZW1lbnQgZm9yIHRoZSBtYXJrdXBcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWV0YWRhdGEgLSBEaWN0aW9uYXJ5IHdoZXJlIGFsbCBrZXkvdmFsdWUgcGFpcnMgYXJlIGFkZGVkIGFzIG1ldGFkYXRhIGVudHJpZXMuXG4gICAgICogQHJldHVybnMge0VsZW1lbnR9XG4gICAgICovXG4gICAgZXhwb3J0IHZhciBhZGRNYXJrdXBNZXRhZGF0YSA9IGZ1bmN0aW9uKG1hcmt1cE5vZGUsIG1ldGFkYXRhKSB7XG5cbiAgICAgICAgY29uc3QgX2RvY3VtZW50ID0gKHRoaXMgJiYgdGhpcy5nZXREb2N1bWVudCAmJiB0aGlzLmdldERvY3VtZW50KCkpIHx8IF9nRG9jdW1lbnQ7XG5cbiAgICAgICAgdmFyIG1ldGFkYXRhTm9kZSA9IF9kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ21ldGFkYXRhJyk7XG4gICAgICAgIHZhciBkYXRhVmVyc2lvbk5vZGUgPSBfZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbWFya3VwX2VsZW1lbnQnKTtcblxuICAgICAgICBtZXRhZGF0YU5vZGUuYXBwZW5kQ2hpbGQoZGF0YVZlcnNpb25Ob2RlKTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG1ldGFkYXRhKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1ldGFkYXRhLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgZGF0YVZlcnNpb25Ob2RlLnNldEF0dHJpYnV0ZShrZXksIG1ldGFkYXRhW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbWFya3VwTm9kZS5pbnNlcnRCZWZvcmUobWV0YWRhdGFOb2RlLCBtYXJrdXBOb2RlLmZpcnN0Q2hpbGQpO1xuICAgICAgICByZXR1cm4gbWV0YWRhdGFOb2RlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsIG1ldGFkYXRhIG5vZGVzIGZyb20gYW4gU3ZnIG5vZGUgc3RydWN0dXJlLlxuICAgICAqIE1ldGhvZCB3aWxsIHJlbW92ZSBhbGwgbWV0YWRhdGEgbm9kZXMgZnJvbSBjaGlsZHJlbiBub2RlcyBhcyB3ZWxsLlxuICAgICAqIEBwYXJhbSBzdmdOb2RlXG4gICAgICovXG4gICAgZXhwb3J0IHZhciByZW1vdmVBbGxNZXRhZGF0YSA9IGZ1bmN0aW9uKHN2Z05vZGUpIHtcblxuICAgICAgICBpZiAoc3ZnTm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZSkge1xuICAgICAgICAgICAgdmFyIG5vZGVzID0gc3ZnTm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcIm1ldGFkYXRhXCIpO1xuICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPG5vZGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1ldGFkYXRhTm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhTm9kZS5wYXJlbnROb2RlICYmIG1ldGFkYXRhTm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG1ldGFkYXRhTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUcmFuc3ZlcnNlIGNoaWxkcmVuIG5vZGVzXG4gICAgICAgIHZhciBzdmdDaGlsZHJlbiA9IHN2Z05vZGUuY2hpbGRyZW4gfHwgc3ZnTm9kZS5jaGlsZE5vZGVzO1xuICAgICAgICBpZiAoc3ZnQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGZvciAoaT0wOyBpPHN2Z0NoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQWxsTWV0YWRhdGEoc3ZnQ2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFV0aWxpdHkgZnVuY3Rpb24gdGhhdCB0cmFuc2ZlcnMgY2hpbGRyZW4gZnJvbSBhbiBIdG1sL1N2ZyBub2RlIGludG8gYW5vdGhlciBvbmUuXG4gICAgICogQHBhcmFtIG5vZGVGcm9tIC0gVGhlIG5vZGUgaW5zdGFuY2UgZnJvbSB3aGVyZSBjaGlsZHJlbiB3aWxsIGJlIHRha2VuLlxuICAgICAqIEBwYXJhbSBub2RlSW50byAtIFRoZSBub2RlIHRoYXQncyBnb2luZyB0byBwYXJlbnQgdGhlIHRyYW5zZmVycmVkIGNoaWxkcmVuLlxuICAgICAqL1xuICAgIGV4cG9ydCB2YXIgdHJhbnNmZXJDaGlsZE5vZGVzID0gZnVuY3Rpb24obm9kZUZyb20sIG5vZGVJbnRvKSB7XG5cbiAgICAgICAgdmFyIHN2Z0NoaWxkcmVuID0gbm9kZUZyb20uY2hpbGRyZW4gfHwgbm9kZUZyb20uY2hpbGROb2RlcztcbiAgICAgICAgdmFyIHRtcEFycmF5ID0gW107XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxzdmdDaGlsZHJlbi5sZW5ndGg7ICsraSl7XG4gICAgICAgICAgICB0bXBBcnJheS5wdXNoKHN2Z0NoaWxkcmVuW2ldKTsgLy8gQXZvaWQgYXBwZW5kQ2hpbGRcbiAgICAgICAgfVxuICAgICAgICB0bXBBcnJheS5mb3JFYWNoKGZ1bmN0aW9uKG5vZGUpe1xuICAgICAgICAgICAgbm9kZUludG8uYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhIHVuaXF1ZSBpZC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGV4cG9ydCB2YXIgZ2V0VW5pcXVlSUQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFRIUkVFLk1hdGguZ2VuZXJhdGVVVUlEKCk7XG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplcyBhbiBTVkcgbm9kZSBpbnRvIGEgU3RyaW5nLlxuICAgICAqIEBwYXJhbSBkb21Ob2RlXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBleHBvcnQgdmFyIHN2Z05vZGVUb1N0cmluZyA9IGZ1bmN0aW9uKGRvbU5vZGUpe1xuXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUhpdGFyZWFzKHN2ZywgaGl0YXJlYXMpIHtcblxuICAgICAgICAgICAgdmFyIGhpdGFyZWEgPSBzdmcuaGl0YXJlYTtcbiAgICAgICAgICAgIHZhciBoaXRhcmVhUGFyZW50ID0gaGl0YXJlYSAmJiBoaXRhcmVhLnBhcmVudE5vZGU7XG5cbiAgICAgICAgICAgIGlmIChoaXRhcmVhUGFyZW50KSB7XG5cbiAgICAgICAgICAgICAgICBoaXRhcmVhcy5wdXNoKHtoaXRhcmVhOiBoaXRhcmVhLCBwYXJlbnQ6IGhpdGFyZWFQYXJlbnR9KTtcbiAgICAgICAgICAgICAgICBoaXRhcmVhUGFyZW50LnJlbW92ZUNoaWxkKGhpdGFyZWEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBzdmcuY2hpbGROb2RlcztcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbkNvdW50ID0gY2hpbGRyZW4ubGVuZ3RoO1xuXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5Db3VudDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlSGl0YXJlYXMoY2hpbGRyZW4uaXRlbShpKSwgaGl0YXJlYXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkSGl0YXJlYXMoaGl0YXJlYXMpIHtcblxuICAgICAgICAgICAgdmFyIGhpdGFyZWFzQ291bnQgPSBoaXRhcmVhcy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgaGl0YXJlYXNDb3VudDsgKytpKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgaGl0YXJlYSA9IGhpdGFyZWFzW2ldO1xuICAgICAgICAgICAgICAgIGhpdGFyZWEucGFyZW50LmFwcGVuZENoaWxkKGhpdGFyZWEuaGl0YXJlYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGhpdGFyZWFzID0gW107XG4gICAgICAgICAgICByZW1vdmVIaXRhcmVhcyhkb21Ob2RlLCBoaXRhcmVhcyk7XG5cbiAgICAgICAgICAgIHZhciB4bWxTZXJpYWxpemVyID0gbmV3IFhNTFNlcmlhbGl6ZXIoKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IHhtbFNlcmlhbGl6ZXIuc2VyaWFsaXplVG9TdHJpbmcoZG9tTm9kZSk7XG5cbiAgICAgICAgICAgIGFkZEhpdGFyZWFzKGhpdGFyZWFzKTtcblxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9ICcnO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdzdmdOb2RlVG9TdHJpbmcgZmFpbGVkIHRvIGdlbmVyYXRlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBkb21Ob2RlLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIGV4cG9ydCB2YXIgc3RyaW5nVG9TdmdOb2RlID0gZnVuY3Rpb24oc3RyaW5nTm9kZSl7XG5cbiAgICAgICAgdmFyIG5vZGUgPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGRvbVBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICAgICAgICAgIHZhciBkb2MgPSBkb21QYXJzZXIucGFyc2VGcm9tU3RyaW5nKHN0cmluZ05vZGUsIFwidGV4dC94bWxcIik7XG4gICAgICAgICAgICBub2RlID0gZG9jLmZpcnN0Q2hpbGQ7IC8vIFdlIHNob3VsZCBvbmx5IGJlIGdldHRpbmcgMSBjaGlsZCBhbnl3YXkuXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgbm9kZSA9IG51bGw7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ3N0cmluZ1RvU3ZnTm9kZSBmYWlsZWQgdG8gZ2VuZXJhdGUgYW4gSFRNTEVsZW1lbnQgZnJvbSBpdHMgc3RyaW5nIHJlcHJlc2VudGF0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbmplY3RzIGZ1bmN0aW9ucyBhbmQgbWVtYmVycyB0byBhIGNsaWVudCBvYmplY3Qgd2hpY2ggd2lsbFxuICAgICAqIHJlY2VpdmUgdGhlIGFiaWxpdHkgdG8gZGlzcGF0Y2ggZXZlbnRzLlxuICAgICAqIE1lY2hhbmlzbSBpcyB0aGUgc2FtZSBhcyBpbiBBdXRvZGVzay5WaWV3aW5nLlZpZXdlci5cbiAgICAgKlxuICAgICAqIE5vdGU6IEFsbCBvZiB0aGUgY29kZSBoZXJlIGNvbWVzIGZyb20gQXV0b2Rlc2suVmlld2luZy5WaWV3ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjbGllbnQgLSBPYmplY3QgdGhhdCB3aWxsIGJlY29tZSBhbiBldmVudCBkaXNwYXRjaGVyLlxuICAgICAqL1xuICAgIGV4cG9ydCB2YXIgYWRkVHJhaXRFdmVudERpc3BhdGNoZXIgPSBmdW5jdGlvbihjbGllbnQpIHtcblxuICAgICAgICAvLyBJbmplY3QgbWVtYmVyIHZhcmlhYmxlXG4gICAgICAgIGNsaWVudC5saXN0ZW5lcnMgPSB7fTtcblxuICAgICAgICAvLyBJbmplY3QgZnVuY3Rpb25zXG4gICAgICAgIGNsaWVudC5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5saXN0ZW5lcnNbdHlwZV0gPT0gXCJ1bmRlZmluZWRcIil7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnNbdHlwZV0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuICAgICAgICB9O1xuICAgICAgICBjbGllbnQuaGFzRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgICAgICAgaWYgKHRoaXMubGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycztcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lcnNbIHR5cGUgXSAhPT0gdW5kZWZpbmVkICYmIGxpc3RlbmVyc1sgdHlwZSBdLmluZGV4T2YobGlzdGVuZXIpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICBjbGllbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5saXN0ZW5lcnNbdHlwZV0gaW5zdGFuY2VvZiBBcnJheSl7XG4gICAgICAgICAgICAgICAgdmFyIGxpID0gdGhpcy5saXN0ZW5lcnNbdHlwZV07XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaT0wLCBsZW49bGkubGVuZ3RoOyBpIDwgbGVuOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlbaV0gPT09IGxpc3RlbmVyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjbGllbnQuZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50ID09IFwic3RyaW5nXCIpe1xuICAgICAgICAgICAgICAgIGV2ZW50ID0geyB0eXBlOiBldmVudCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFldmVudC50YXJnZXQpe1xuICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldCA9IHRoaXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghZXZlbnQudHlwZSl7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZXZlbnQgdHlwZSB1bmtub3duLlwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMubGlzdGVuZXJzW2V2ZW50LnR5cGVdIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHlwZUxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzW2V2ZW50LnR5cGVdLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpIDwgdHlwZUxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB0eXBlTGlzdGVuZXJzW2ldLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgRXZlbnREaXNwYXRjaGVyIHRyYWl0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY2xpZW50XG4gICAgICovXG4gICAgZXhwb3J0IHZhciByZW1vdmVUcmFpdEV2ZW50RGlzcGF0Y2hlciA9IGZ1bmN0aW9uKGNsaWVudCkge1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkZWxldGUgY2xpZW50Lmxpc3RlbmVycztcbiAgICAgICAgICAgIGRlbGV0ZSBjbGllbnQuYWRkRXZlbnRMaXN0ZW5lcjtcbiAgICAgICAgICAgIGRlbGV0ZSBjbGllbnQuaGFzRXZlbnRMaXN0ZW5lcjtcbiAgICAgICAgICAgIGRlbGV0ZSBjbGllbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcjtcbiAgICAgICAgICAgIGRlbGV0ZSBjbGllbnQuZGlzcGF0Y2hFdmVudDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gbm90aGluZ1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vLy8gTWF0aCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBwaXhlbCBwb3NpdGlvbiBpbiBjbGllbnQgc3BhY2UgY29vcmRpbmF0ZXMgb2YgYSBwb2ludCBpbiB3b3JsZCBzcGFjZS5cbiAgICAgKiBAcGFyYW0ge1RIUkVFLlZlY3RvcjN9IHBvaW50IFBvaW50IGluIHdvcmxkIHNwYWNlIGNvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB2aWV3ZXJcbiAgICAgKiBAcGFyYW0gc25hcCBSb3VuZCB2YWx1ZXMgdG8gY2xvc2VzdCBwaXhlbCBjZW50ZXIuXG4gICAgICogQHJldHVybnMge1RIUkVFLlZlY3RvcjN9IFBvaW50IHRyYW5zZm9ybWVkIGFuZCBwcm9qZWN0ZWQgaW50byBjbGllbnQgc3BhY2UgY29vcmRpbmF0ZXMuXG4gICAgICovXG4gICAgZXhwb3J0IHZhciB3b3JsZFRvQ2xpZW50ID0gZnVuY3Rpb24ocG9pbnQsIHZpZXdlciwgc25hcCkge1xuXG4gICAgICAgIHZhciBwID0gd29ybGRUb1ZpZXdwb3J0KHBvaW50LCB2aWV3ZXIpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gdmlld3BvcnRUb0NsaWVudChwLngsIHAueSwgdmlld2VyKTtcbiAgICAgICAgcmVzdWx0LnogPSAwO1xuXG4gICAgICAgIC8vIHNuYXAgdG8gdGhlIGNlbnRlciBvZiB0aGVcbiAgICAgICAgaWYgKHNuYXApIHtcbiAgICAgICAgICAgIHJlc3VsdC54ID0gTWF0aC5mbG9vcihyZXN1bHQueCkgKyAwLjU7XG4gICAgICAgICAgICByZXN1bHQueSA9IE1hdGguZmxvb3IocmVzdWx0LnkpICsgMC41O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgZXhwb3J0IHZhciBjbGllbnRUb1dvcmxkID0gZnVuY3Rpb24oY2xpZW50WCwgY2xpZW50WSwgZGVwdGgsIHZpZXdlcikge1xuXG4gICAgICAgIHZhciBwb2ludCA9IGNsaWVudFRvVmlld3BvcnQoY2xpZW50WCwgY2xpZW50WSwgdmlld2VyKTtcbiAgICAgICAgcG9pbnQueiA9IGRlcHRoO1xuXG4gICAgICAgIHBvaW50LnVucHJvamVjdCh2aWV3ZXIuaW1wbC5jYW1lcmEpO1xuICAgICAgICByZXR1cm4gcG9pbnQ7XG4gICAgfTtcblxuICAgIGV4cG9ydCB2YXIgY2xpZW50VG9WaWV3cG9ydCA9IGZ1bmN0aW9uKGNsaWVudFgsIGNsaWVudFksIHZpZXdlcikge1xuXG4gICAgICAgIHJldHVybiB2aWV3ZXIuaW1wbC5jbGllbnRUb1ZpZXdwb3J0KGNsaWVudFgsIGNsaWVudFkpO1xuICAgIH07XG5cbiAgICBleHBvcnQgdmFyIHZpZXdwb3J0VG9DbGllbnQgPSBmdW5jdGlvbih2aWV3cG9ydFgsIHZpZXdwb3J0WSwgdmlld2VyKSB7XG5cbiAgICAgICAgcmV0dXJuIHZpZXdlci5pbXBsLnZpZXdwb3J0VG9DbGllbnQodmlld3BvcnRYLCB2aWV3cG9ydFkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSB3b3JsZCBwb3NpdGlvbiBvZiBhIHBvaW50IGluIGNsaWVudCBzcGFjZSBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgLSB7IHg6TnVtYmVyLCB5Ok51bWJlciwgejpOdW1iZXIgfVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2aWV3ZXIgLSBMTVYgaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJucyB7VEhSRUUuVmVjdG9yM31cbiAgICAgKi9cbiAgICBleHBvcnQgdmFyIHdvcmxkVG9WaWV3cG9ydCA9IGZ1bmN0aW9uKHBvaW50LCB2aWV3ZXIpIHtcblxuICAgICAgICB2YXIgcCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cbiAgICAgICAgcC54ID0gcG9pbnQueDtcbiAgICAgICAgcC55ID0gcG9pbnQueTtcbiAgICAgICAgcC56ID0gcG9pbnQuejtcblxuICAgICAgICBwLnByb2plY3Qodmlld2VyLmltcGwuY2FtZXJhKTtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfTtcblxuICAgIGV4cG9ydCB2YXIgbWV0ZXJzVG9Nb2RlbCA9IGZ1bmN0aW9uKG1ldGVycywgdmlld2VyKSB7XG5cbiAgICAgICAgdmFyIG1vZGVsVG9NZXRlciA9IHZpZXdlci5tb2RlbC5nZXRVbml0U2NhbGUoKTtcbiAgICAgICAgdmFyIG1ldGVyVG9Nb2RlbCA9IDEgLyBtb2RlbFRvTWV0ZXI7XG5cbiAgICAgICAgcmV0dXJuIG1ldGVyVG9Nb2RlbCAqIG1ldGVycztcbiAgICB9O1xuXG4gICAgZXhwb3J0IHZhciByYWRpYW5zVG9EZWdyZWVzID0gZnVuY3Rpb24gKHJhZGlhbnMpIHtcblxuICAgICAgICByZXR1cm4gcmFkaWFucyAqICgxODAgLyBNYXRoLlBJKTtcbiAgICB9O1xuXG4gICAgZXhwb3J0IHZhciBkZWdyZWVzVG9SYWRpYW5zID0gZnVuY3Rpb24oZGVncmVlcykge1xuXG4gICAgICAgIHJldHVybiBkZWdyZWVzICogKE1hdGguUEkgLyAxODApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWx1ZVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgZXhwb3J0IHZhciBzaWduID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cbiAgICAgICAgcmV0dXJuICh2YWx1ZSA+PSAwKSA/IDEgOiAtMTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcG9pbnRBXG4gICAgICogQHBhcmFtIHBvaW50QlxuICAgICAqIEBwYXJhbSByYW5nZVxuICAgICAqIEBwYXJhbSBlZGl0b3JcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBleHBvcnQgdmFyIGFyZU1hcmt1cHNQb2ludHNJbkNsaWVudFJhbmdlID0gZnVuY3Rpb24ocG9pbnRBLCBwb2ludEIsIHJhbmdlLCBlZGl0b3Ipe1xuXG4gICAgICAgIHJhbmdlID0gZWRpdG9yLnNpemVGcm9tQ2xpZW50VG9NYXJrdXBzKDAsIHJhbmdlKS55O1xuXG4gICAgICAgIHZhciBkeCA9IHBvaW50QS54IC0gcG9pbnRCLng7XG4gICAgICAgIHZhciBkeSA9IHBvaW50QS55IC0gcG9pbnRCLnk7XG5cbiAgICAgICAgcmV0dXJuIHJhbmdlICogcmFuZ2UgPj0gZHggKiBkeCArIGR5ICogZHk7XG4gICAgfTtcblxuICAgIC8vLy8gTE1WIHVpIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICBleHBvcnQgdmFyIGhpZGVMbXZVaSA9IGZ1bmN0aW9uKHZpZXdlcikge1xuXG4gICAgICAgIC8vIElmIHRoZSB2aWV3ZXIgaXMgbm8gZ3VpLCB0aGVuIHRoZXJlIGlzIG5vdGhpbmcgdG8gaGlkZVxuICAgICAgICBpZighdmlld2VyLnRvb2xiYXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEV4aXQgb3RoZXIgdG9vbHMgYW5kIGhpZGUgSHVkTWVzc2FnZXMuXG4gICAgICAgIHZpZXdlci5zZXRBY3RpdmVOYXZpZ2F0aW9uVG9vbCgpO1xuXG4gICAgICAgIGRpc21pc3NMbXZIdWRNZXNzYWdlKCk7XG4gICAgICAgIGhpZGVMbXZQYW5lbHModHJ1ZSwgdmlld2VyKTtcbiAgICAgICAgaGlkZUxtdlRvb2xzQW5kUGFuZWxzKHZpZXdlcik7XG4gICAgfTtcblxuICAgIGV4cG9ydCB2YXIgcmVzdG9yZUxtdlVpID0gZnVuY3Rpb24odmlld2VyKSB7XG5cbiAgICAgICAgLy8gSWYgdGhlIHZpZXdlciBpcyBubyBndWksIHRoZW4gdGhlcmUgaXMgbm90aGluZyB0byBoaWRlXG4gICAgICAgIGlmKCF2aWV3ZXIudG9vbGJhcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlzbWlzc0xtdkh1ZE1lc3NhZ2UoKTtcbiAgICAgICAgaGlkZUxtdlBhbmVscyhmYWxzZSwgdmlld2VyKTtcbiAgICAgICAgc2hvd0xtdlRvb2xzQW5kUGFuZWxzKHZpZXdlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGhpZGVcbiAgICAgKiBAcGFyYW0gdmlld2VyXG4gICAgICovXG4gICAgZXhwb3J0IHZhciBoaWRlTG12UGFuZWxzID0gZnVuY3Rpb24oaGlkZSwgdmlld2VyKSB7XG5cbiAgICAgICAgdmFyIGRvY2tpbmdQYW5lbHMgPSB2aWV3ZXIuZG9ja2luZ1BhbmVscztcblxuICAgICAgICAvLyBQYW5lbHMgbWF5IG5vdCBiZSBwcmVzZW50IHdoZW4gZGVhbGluZyB3aXRoIGFuIGluc3RhbmNlIG9mIFZpZXdlcjNELmpzXG4gICAgICAgIC8vIChhcyBvcHBvc2VkIHRvIGFuIGluc3RhbmNlIG9mIEd1aVZpZXdlcjNELmpzKVxuICAgICAgICBpZiAoIWRvY2tpbmdQYW5lbHMpIHJldHVybjtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRvY2tpbmdQYW5lbHMubGVuZ3RoOyArK2kpIHtcblxuICAgICAgICAgICAgdmFyIHBhbmVsID0gZG9ja2luZ1BhbmVsc1tpXTtcbiAgICAgICAgICAgIHZhciBwYW5lbENvbnRhaW5lciA9IHBhbmVsLmNvbnRhaW5lcjtcblxuICAgICAgICAgICAgaWYgKHBhbmVsQ29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucyhcImRvY2tpbmdQYW5lbFZpc2libGVcIikpIHtcbiAgICAgICAgICAgICAgICBwYW5lbENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gaGlkZSA/IFwibm9uZVwiIDogXCJibG9ja1wiO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2FsbCB0aGUgdmlzaWJpbGl0eSBjaGFuZ2VkIG5vdGlmaWNhdGlvbiBpZiBhbnkgYWRkaXRpb25hbFxuICAgICAgICAgICAgICAgIC8vIHN0dWZmIG5lZWRzIHRvIGJlIGRvbmUgKHVwZGF0ZSB0aGUgZGF0ZSBpLmUuIFByb3BlcnR5UGFuZWwsIGV0YykuXG4gICAgICAgICAgICAgICAgcGFuZWwudmlzaWJpbGl0eUNoYW5nZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTaG93cyBwYW5lbHMgYW5kIHRvb2xzIGluIHRoZSB2aWV3ZXIuXG4gICAgICogQHBhcmFtIHZpZXdlclxuICAgICAqL1xuICAgIGV4cG9ydCB2YXIgc2hvd0xtdlRvb2xzQW5kUGFuZWxzID0gZnVuY3Rpb24odmlld2VyKSB7XG5cbiAgICAgICAgLy8gUmVzdG9yZSB2aWV3IGN1YmUuXG4gICAgICAgIGlmKHZpZXdlciAmJiB2aWV3ZXIubW9kZWwgJiYgIXZpZXdlci5tb2RlbC5pczJkKCkpIHtcbiAgICAgICAgICAgIHZpZXdlci5nZXRFeHRlbnNpb24oXCJBdXRvZGVzay5WaWV3Q3ViZVVpXCIsIGZ1bmN0aW9uKGV4dCkge1xuICAgICAgICAgICAgICAgIGV4dC5kaXNwbGF5Vmlld0N1YmUodHJ1ZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGV4dC5kaXNwbGF5SG9tZUJ1dHRvbih0cnVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogRmluZCBvciBhc2sgZm9yIGEgYmV0dGVyIHdheSB0byByZXN0b3JlIHRoaXMgYnV0dG9ucy5cbiAgICAgICAgY29uc3QgX2RvY3VtZW50ID0gdmlld2VyLmdldERvY3VtZW50KCk7XG4gICAgICAgIHZhciBhbmltID0gX2RvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Rvb2xiYXItYW5pbWF0aW9uLXN1YnRvb2xiYXInKTtcblxuICAgICAgICBpZiAoYW5pbS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBhbmltWzBdLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvb2xiYXIgaXMgYWJzZW50IHdoZW4gZGVhbGluZyB3aXRoIGFuIGluc3RhbmNlIG9mIFZpZXdlcjNEIChpbnN0ZWFkIG9mIEd1aVZpZXdlcjNEKVxuICAgICAgICBpZiAodmlld2VyLnRvb2xiYXIpIHtcbiAgICAgICAgICAgIHZhciB2aWV3ZXJDb250YWluZXIgPSB2aWV3ZXIudG9vbGJhci5jb250YWluZXI7XG4gICAgICAgICAgICB2YXIgdmlld2VyQ29udGFpbmVyQ2hpbGRyZW5Db3VudCA9IHZpZXdlckNvbnRhaW5lci5jaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdmlld2VyQ29udGFpbmVyQ2hpbGRyZW5Db3VudDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmlld2VyQ29udGFpbmVyLmNoaWxkcmVuW2ldLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhpZGVzIHBhbmVscyBhbmQgdG9vbHMgaW4gdGhlIHZpZXdlci5cbiAgICAgKiBAcGFyYW0gdmlld2VyXG4gICAgICovXG4gICAgZXhwb3J0IHZhciBoaWRlTG12VG9vbHNBbmRQYW5lbHMgPSBmdW5jdGlvbih2aWV3ZXIpIHtcblxuICAgICAgICAvLyBIaWRlIFBhbmVscyBhbmQgdG9vbHMuXG4gICAgICAgIGlmICh2aWV3ZXIgJiYgdmlld2VyLm1vZGVsICYmICF2aWV3ZXIubW9kZWwuaXMyZCgpKSB7XG4gICAgICAgICAgICB2aWV3ZXIuZ2V0RXh0ZW5zaW9uKFwiQXV0b2Rlc2suVmlld0N1YmVVaVwiLCBmdW5jdGlvbihleHQpIHtcbiAgICAgICAgICAgICAgICBleHQuZGlzcGxheVZpZXdDdWJlKGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgZXh0LmRpc3BsYXlIb21lQnV0dG9uKGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBfZG9jdW1lbnQgPSB2aWV3ZXIuZ2V0RG9jdW1lbnQoKTtcbiAgICAgICAgLy8gVE9ETzogRmluZCBvciBhc2sgZm9yIGEgYmV0dGVyIHdheSB0byBoaWRlIHRoaXMgYnV0dG9ucy5cbiAgICAgICAgdmFyIGFuaW0gPSBfZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndG9vbGJhci1hbmltYXRpb24tc3VidG9vbGJhcicpO1xuXG4gICAgICAgIGlmIChhbmltLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGFuaW1bMF0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICAgICAgdmFyIGFuaW1hdG9yID0gdmlld2VyLmltcGwua2V5RnJhbWVBbmltYXRvcjtcbiAgICAgICAgICAgIGlmIChhbmltYXRvciAmJiAhYW5pbWF0b3IuaXNQYXVzZWQpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRvci5wYXVzZUNhbWVyYUFuaW1hdGlvbnMoKTtcbiAgICAgICAgICAgICAgICBhbmltYXRvci5wYXVzZSgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHBsYXlCdXR0b24gPSB2aWV3ZXIubW9kZWxUb29scy5nZXRDb250cm9sKCd0b29sYmFyLWFuaW1hdGlvblBsYXknKTtcbiAgICAgICAgICAgICAgICBpZiAocGxheUJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICBwbGF5QnV0dG9uLnNldEljb24oJ3Rvb2xiYXItYW5pbWF0aW9uLXBhdXNlLWljb24nKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheUJ1dHRvbi5zZXRUb29sVGlwKCdQYXVzZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvb2xiYXIgaXMgYWJzZW50IHdoZW4gZGVhbGluZyB3aXRoIGFuIGluc3RhbmNlIG9mIFZpZXdlcjNEIChpbnN0ZWFkIG9mIEd1aVZpZXdlcjNEKVxuICAgICAgICBpZiAodmlld2VyLnRvb2xiYXIpIHtcbiAgICAgICAgICAgIHZhciB2aWV3ZXJDb250YWluZXIgPSB2aWV3ZXIudG9vbGJhci5jb250YWluZXI7XG4gICAgICAgICAgICB2YXIgdmlld2VyQ29udGFpbmVyQ2hpbGRyZW5Db3VudCA9IHZpZXdlckNvbnRhaW5lci5jaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdmlld2VyQ29udGFpbmVyQ2hpbGRyZW5Db3VudDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmlld2VyQ29udGFpbmVyLmNoaWxkcmVuW2ldLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEaXNtaXNzZXMgYWxsIExNViBIdWRNZXNzYWdlc1xuICAgICAqL1xuICAgIGV4cG9ydCB2YXIgZGlzbWlzc0xtdkh1ZE1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAvLyBVc2luZyB0cnkvY2F0Y2ggYmxvY2sgc2luY2Ugd2UgYXJlIGFjY2Vzc2luZyB0aGUgUHJpdmF0ZSBuYW1lc3BhY2Ugb2YgTE1WLlxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGtlZXBEaXNtaXNzaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHdoaWxlIChrZWVwRGlzbWlzc2luZykge1xuICAgICAgICAgICAgICAgIGtlZXBEaXNtaXNzaW5nID0gQXV0b2Rlc2suVmlld2luZy5Qcml2YXRlLkh1ZE1lc3NhZ2UuZGlzbWlzcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChpZ25vcmUpIHtcbiAgICAgICAgICAgIC8vIEZhaWxpbmcgdG8gc2hvdyB0aGUgbWVzc2FnZSBpcyBhbiBva2F5IGZhbGxiYWNrIHNjZW5hcmlvXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJbQ08yXUZhaWxlZCB0byBkaXNtaXNzIExNViBIdWRNZXNzYWdlXCIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vLy8gU3R5bGVzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICBleHBvcnQgdmFyIGdldFN0cm9rZVdpZHRoID0gZnVuY3Rpb24od2lkdGhJblBpeGVscywgZWRpdG9yKSB7XG5cbiAgICAgICAgdmFyIHNpemUgPSBlZGl0b3Iuc2l6ZUZyb21DbGllbnRUb01hcmt1cHMoMCwgd2lkdGhJblBpeGVscyk7XG4gICAgICAgIHJldHVybiBzaXplLnk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgbWFya3VwcyBmcm9tIGEgcGFyc2VkIHN2ZyBzdHJpbmcgY2hpbGRcbiAgICAgKiBAcGFyYW0gY2hpbGQgLSBjaGlsZCBvZiBhIHBhcnNlZCBTVkcgc3RyaW5nXG4gICAgICogQHBhcmFtIGVkaXRvciAtIE1hcmt1cHNDb3JlXG4gICAgICogQHJldHVybnMgeyp9IE1hcmt1cCBPYmplY3RcbiAgICAgKi9cbiAgICBleHBvcnQgdmFyIGNyZWF0ZU1hcmt1cEZyb21TVkcgPSBmdW5jdGlvbihjaGlsZCwgZWRpdG9yKSB7XG4gICAgICAgIC8vIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKCFjaGlsZC5jaGlsZE5vZGVzWzBdKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtZXRhID0gY2hpbGQuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzBdIHx8ICcnO1xuXG4gICAgICAgIHZhciBnZXRDdXJyZW50U3R5bGUgPSBmdW5jdGlvbihlZGl0b3IsIG1ldGFkYXRhKSB7XG5cbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBbJ3N0cm9rZS13aWR0aCcsICdzdHJva2UtY29sb3InLCAnc3Ryb2tlLW9wYWNpdHknLCAnZmlsbC1jb2xvcicsICdmaWxsLW9wYWNpdHknLFxuICAgICAgICAgICAgICAgICdmb250LWZhbWlseScsICdmb250LXNpemUnLCdmb250LXN0eWxlJywnZm9udC13ZWlnaHQnLCdzdHJva2UtbGluZWpvaW4nXTtcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gbWV0YWRhdGEuZ2V0QXR0cmlidXRlKHNvdXJjZVtpXSk7XG4gICAgICAgICAgICAgICAgaWYodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3dpdGNoIChzb3VyY2VbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZm9udC1zaXplJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc3Ryb2tlLXdpZHRoJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc3Ryb2tlLW9wYWNpdHknOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdmaWxsLW9wYWNpdHknOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVbc291cmNlW2ldXSA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N0cm9rZS1saW5lam9pbic6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZm9udC1mYW1pbHknOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdmb250LXN0eWxlJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZm9udC13ZWlnaHQnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdzdHJva2UtY29sb3InOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICd0ZXh0LWRhdGEnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdmaWxsLWNvbG9yJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlW3NvdXJjZVtpXV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgYXZwLmxvZ2dlci53YXJuKCdTdHlsZSBub3QgcmVjb2duaXplZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdHlsZTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgaXNDbG9zZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBwYXRoID0gY2hpbGQuY2hpbGROb2Rlc1sxXSB8fCAnJztcbiAgICAgICAgICAgIHZhciBjbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpe1xuICAgICAgICAgICAgICAgIHZhciBkID0gcGF0aC5nZXRBdHRyaWJ1dGUoJ2QnKS5zcGxpdCgnICcpO1xuICAgICAgICAgICAgICAgIGlmIChkW2QubGVuZ3RoLTFdLnRvTG93ZXJDYXNlKCkgPT09ICd6Jyl7XG4gICAgICAgICAgICAgICAgICAgIGNsb3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNsb3NlZDtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2V0TG9jYXRpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgbG9jYXRpb25zID0gW107XG4gICAgICAgICAgICB2YXIgbG9jU3RyID0gbWV0YS5nZXRBdHRyaWJ1dGUoJ2xvY2F0aW9ucycpLnNwbGl0KFwiIFwiKSB8fCAnJztcblxuICAgICAgICAgICAgZm9yKHZhciBpPTA7IGk8IGxvY1N0ci5sZW5ndGg7IGkrPTIpIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9pbnRQYWlyID0ge3g6cGFyc2VGbG9hdChsb2NTdHJbaV0pLCB5OnBhcnNlRmxvYXQobG9jU3RyW2krMV0pfTtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbnMucHVzaCggcG9pbnRQYWlyICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbG9jYXRpb25zO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRBdHRyaWJ1dGVWZWN0b3IgPSBmdW5jdGlvbihhdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgIHZhciBwb3NWZWMgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gbWV0YS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKSB8fCBtZXRhLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICB2YXIgc3RyUG9zID0gdmFsdWUuc3BsaXQoXCIgXCIpO1xuICAgICAgICAgICAgcG9zVmVjLnggPSBwYXJzZUZsb2F0KHN0clBvc1swXSk7XG4gICAgICAgICAgICBwb3NWZWMueSA9IHBhcnNlRmxvYXQoc3RyUG9zWzFdKTtcbiAgICAgICAgICAgIHJldHVybiBwb3NWZWM7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldFBvc2l0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0QXR0cmlidXRlVmVjdG9yKCdwb3NpdGlvbicpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRTaXplID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0QXR0cmlidXRlVmVjdG9yKCdzaXplJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldFJvdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc3RyUm90ID0gbWV0YS5nZXRBdHRyaWJ1dGUoJ3JvdGF0aW9uJykgfHwgJyc7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChzdHJSb3QpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRUZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gbWV0YS5nZXRBdHRyaWJ1dGUoJ3RleHQnKSB8fCAnJztcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2V0SXNGcmFtZVVzZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAhIXBhcnNlSW50KG1ldGEuZ2V0QXR0cmlidXRlKCdpc2ZyYW1ldXNlZCcpKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodHlwZW9mIG1ldGEgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIHR5cGUgb2YgdGhlIGNoaWxkXG4gICAgICAgICAgICB2YXIgcG9zaXRpb24sIHNpemUsIHJvdGF0aW9uLCBsb2NhdGlvbnMsIHRhaWwsIGhlYWQsIGNsb3NlZCwgdGV4dCwgZmlyc3RBbmNob3IsIHNlY29uZEFuY2hvcjtcbiAgICAgICAgICAgIHZhciBpZCA9IGVkaXRvci5nZXRJZCgpO1xuICAgICAgICAgICAgdmFyIHN0eWxlID0gZ2V0Q3VycmVudFN0eWxlKGVkaXRvciwgbWV0YSk7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IG1ldGEuZ2V0QXR0cmlidXRlKCd0eXBlJykgfHwgJyc7XG4gICAgICAgICAgICB2YXIgY3JlYXRlTWFya3VwO1xuICAgICAgICAgICAgc3dpdGNoKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIE1hcmt1cFR5cGUuTUFSS1VQX1RZUEVfQVJST1c6XG4gICAgICAgICAgICAgICAgICAgIHRhaWwgPSBnZXRBdHRyaWJ1dGVWZWN0b3IoJ3RhaWwnKTtcbiAgICAgICAgICAgICAgICAgICAgaGVhZCA9IGdldEF0dHJpYnV0ZVZlY3RvcignaGVhZCcpO1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVNYXJrdXAgPSBuZXcgQ3JlYXRlQXJyb3coZWRpdG9yLCBpZCwgdGFpbCwgaGVhZCwgc3R5bGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgTWFya3VwVHlwZS5NQVJLVVBfVFlQRV9SRUNUQU5HTEU6XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gZ2V0UG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IGdldFNpemUoKTtcbiAgICAgICAgICAgICAgICAgICAgcm90YXRpb24gPSBnZXRSb3RhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVNYXJrdXAgPSBuZXcgQ3JlYXRlUmVjdGFuZ2xlKGVkaXRvciwgaWQsIHBvc2l0aW9uLCBzaXplLCByb3RhdGlvbiwgc3R5bGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgTWFya3VwVHlwZS5NQVJLVVBfVFlQRV9URVhUOlxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGdldFBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHNpemUgPSBnZXRTaXplKCk7XG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSBnZXRUZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZU1hcmt1cCA9IG5ldyBDcmVhdGVUZXh0KGVkaXRvciwgaWQsIHBvc2l0aW9uLCBzaXplLCB0ZXh0LCBzdHlsZSApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgTWFya3VwVHlwZS5NQVJLVVBfVFlQRV9DQUxMT1VUOlxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGdldFBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHNpemUgPSBnZXRTaXplKCk7XG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSBnZXRUZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc0ZyYW1lVXNlZCA9IGdldElzRnJhbWVVc2VkKCk7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZU1hcmt1cCA9IG5ldyBDcmVhdGVDYWxsb3V0KGVkaXRvciwgaWQsIHBvc2l0aW9uLCBzaXplLCB0ZXh0LCBzdHlsZSwgaXNGcmFtZVVzZWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgTWFya3VwVHlwZS5NQVJLVVBfVFlQRV9DSVJDTEU6XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gZ2V0UG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IGdldFNpemUoKTtcbiAgICAgICAgICAgICAgICAgICAgcm90YXRpb24gPSBnZXRSb3RhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVNYXJrdXAgPSBuZXcgQ3JlYXRlQ2lyY2xlKGVkaXRvciwgaWQsIHBvc2l0aW9uLCBzaXplLCByb3RhdGlvbiwgc3R5bGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgTWFya3VwVHlwZS5NQVJLVVBfVFlQRV9DTE9VRDpcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSBnZXRQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBzaXplID0gZ2V0U2l6ZSgpO1xuICAgICAgICAgICAgICAgICAgICByb3RhdGlvbiA9IGdldFJvdGF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZU1hcmt1cCA9IG5ldyBDcmVhdGVDbG91ZChlZGl0b3IsIGlkLCBwb3NpdGlvbiwgc2l6ZSwgcm90YXRpb24sIHN0eWxlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIE1hcmt1cFR5cGUuTUFSS1VQX1RZUEVfRlJFRUhBTkQ6XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gZ2V0UG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IGdldFNpemUoKTtcbiAgICAgICAgICAgICAgICAgICAgcm90YXRpb24gPSBnZXRSb3RhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbnMgPSBnZXRMb2NhdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlTWFya3VwID0gbmV3IENyZWF0ZUZyZWVoYW5kKGVkaXRvciwgaWQsIHBvc2l0aW9uLCBzaXplLCByb3RhdGlvbiwgbG9jYXRpb25zLCBzdHlsZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBNYXJrdXBUeXBlLk1BUktVUF9UWVBFX1BPTFlMSU5FOlxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGdldFBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHNpemUgPSBnZXRTaXplKCk7XG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uID0gZ2V0Um90YXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25zID0gZ2V0TG9jYXRpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgIGNsb3NlZCA9IGlzQ2xvc2VkKCk7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZU1hcmt1cCA9IG5ldyBDcmVhdGVQb2x5bGluZShlZGl0b3IsIGlkLCBwb3NpdGlvbiwgc2l6ZSwgcm90YXRpb24sIGxvY2F0aW9ucywgc3R5bGUsIGNsb3NlZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBNYXJrdXBUeXBlLk1BUktVUF9UWVBFX1BPTFlDTE9VRDpcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSBnZXRQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBzaXplID0gZ2V0U2l6ZSgpO1xuICAgICAgICAgICAgICAgICAgICByb3RhdGlvbiA9IGdldFJvdGF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9ucyA9IGdldExvY2F0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICBjbG9zZWQgPSBpc0Nsb3NlZCgpO1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVNYXJrdXAgPSBuZXcgQ3JlYXRlUG9seWNsb3VkKGVkaXRvciwgaWQsIHBvc2l0aW9uLCBzaXplLCByb3RhdGlvbiwgbG9jYXRpb25zLCBzdHlsZSwgY2xvc2VkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIE1hcmt1cFR5cGUuTUFSS1VQX1RZUEVfSElHSExJR0hUOlxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGdldFBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHNpemUgPSBnZXRTaXplKCk7XG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uID0gZ2V0Um90YXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25zID0gZ2V0TG9jYXRpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZU1hcmt1cCA9IG5ldyBDcmVhdGVIaWdobGlnaHQoZWRpdG9yLCBpZCwgcG9zaXRpb24sIHNpemUsIHJvdGF0aW9uLCBsb2NhdGlvbnMsIHN0eWxlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIE1hcmt1cFR5cGUuTUFSS1VQX1RZUEVfRElNRU5TSU9OOlxuICAgICAgICAgICAgICAgICAgICBmaXJzdEFuY2hvciA9IGdldEF0dHJpYnV0ZVZlY3RvcignZmlyc3RBbmNob3InKTtcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kQW5jaG9yID0gZ2V0QXR0cmlidXRlVmVjdG9yKCdzZWNvbmRBbmNob3InKTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IGdldFRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlTWFya3VwID0gbmV3IENyZWF0ZURpbWVuc2lvbihlZGl0b3IsIGlkLCBmaXJzdEFuY2hvciwgc2Vjb25kQW5jaG9yLCB0ZXh0LCBzdHlsZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBNYXJrdXBUeXBlLk1BUktVUF9UWVBFX1NUQU1QOlxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGdldFBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHNpemUgPSBnZXRTaXplKCk7XG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uID0gZ2V0Um90YXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlTWFya3VwID0gbmV3IENyZWF0ZVN0YW1wKGVkaXRvciwgaWQsIHBvc2l0aW9uLCBzaXplLCByb3RhdGlvbiwgc3R5bGUsIGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVNYXJrdXAgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjcmVhdGVNYXJrdXApe1xuICAgICAgICAgICAgICAgIGNyZWF0ZU1hcmt1cC5hZGRUb0hpc3RvcnkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjcmVhdGVNYXJrdXAuZXhlY3V0ZSgpO1xuICAgICAgICAgICAgICAgIHZhciBtYXJrdXBMaXN0ID0gZWRpdG9yLnN2Z0xheWVyc01hcFtlZGl0b3IuYWN0aXZlTGF5ZXJdLm1hcmt1cHM7XG5cbiAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgbWFya3VwTGlzdC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWFya3VwTGlzdFtpXS5pZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXJrdXBMaXN0W2ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuXG5cbiAgICBleHBvcnQgdmFyIGNvbXBvc2VSR0JBU3RyaW5nID0gZnVuY3Rpb24oaGV4UkdCU3RyaW5nLCBvcGFjaXR5KSB7XG5cbiAgICAgICAgaWYoIWhleFJHQlN0cmluZyB8fCAhb3BhY2l0eSB8fCBvcGFjaXR5IDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiAnbm9uZSc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gWydyZ2JhKCcgK1xuICAgICAgICAgICAgcGFyc2VJbnQoJzB4JyArIGhleFJHQlN0cmluZy5zdWJzdHIoMSwyKSksICcsJyxcbiAgICAgICAgICAgIHBhcnNlSW50KCcweCcgKyBoZXhSR0JTdHJpbmcuc3Vic3RyKDMsMikpLCAnLCcsXG4gICAgICAgICAgICBwYXJzZUludCgnMHgnICsgaGV4UkdCU3RyaW5nLnN1YnN0cig1LDIpKSwgJywnLCBvcGFjaXR5LCAnKSddLmpvaW4oJycpO1xuICAgIH07XG5cbiAgICAvLy8vIElkIFRhcmdldCBDb2xsaXNpb24gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0geDBcbiAgICAgKiBAcGFyYW0geTBcbiAgICAgKiBAcGFyYW0geDFcbiAgICAgKiBAcGFyYW0geTFcbiAgICAgKiBAcGFyYW0gaWRUYXJnZXRcbiAgICAgKi9cbiAgICBleHBvcnQgdmFyIGNoZWNrTGluZVNlZ21lbnQgPSBmdW5jdGlvbih4MCwgeTAsIHgxLCB5MSwgaWRUYXJnZXQpIHtcblxuICAgICAgICBjb25zdCBfd2luZG93ID0gKHRoaXMgJiYgdGhpcy5nZXRXaW5kb3cgJiYgdGhpcy5nZXRXaW5kb3coKSkgfHwgX2dXaW5kb3c7XG4gICAgICAgIHZhciBkZXZpY2VSYXRpbyA9IF93aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuXG4gICAgICAgIHgwICo9IGRldmljZVJhdGlvO1xuICAgICAgICB5MCAqPSBkZXZpY2VSYXRpbztcbiAgICAgICAgeDEgKj0gZGV2aWNlUmF0aW87XG4gICAgICAgIHkxICo9IGRldmljZVJhdGlvO1xuXG4gICAgICAgIHZhciBpZFRhcmdldFdpZHRoID0gaWRUYXJnZXQud2lkdGg7XG4gICAgICAgIHZhciBpZFRhcmdldEhlaWdodCA9IGlkVGFyZ2V0LmhlaWdodDtcbiAgICAgICAgdmFyIGlkVGFyZ2V0QnVmZmVyID0gaWRUYXJnZXQuYnVmZmVyO1xuXG4gICAgICAgIHgwID0gTWF0aC5yb3VuZCh4MCk7XG4gICAgICAgIHgxID0gTWF0aC5yb3VuZCh4MSk7XG4gICAgICAgIHkwID0gTWF0aC5yb3VuZChpZFRhcmdldEhlaWdodCAtIHkwKTtcbiAgICAgICAgeTEgPSBNYXRoLnJvdW5kKGlkVGFyZ2V0SGVpZ2h0IC0geTEpO1xuXG4gICAgICAgIGZ1bmN0aW9uIHBvaW50KHgsIHkpIHtcblxuICAgICAgICAgICAgeCA9IE1hdGgucm91bmQoeCk7XG4gICAgICAgICAgICB5ID0gTWF0aC5yb3VuZCh5KTtcblxuICAgICAgICAgICAgdmFyIGR4ID0gMDtcbiAgICAgICAgICAgIHZhciBkeSA9IDA7XG5cbiAgICAgICAgICAgIGZvcih2YXIgaiA9IC1kZXZpY2VSYXRpbzsgaiA8PSBkZXZpY2VSYXRpbzsgais9ZGV2aWNlUmF0aW8qMil7XG4gICAgICAgICAgICAgICAgZHkgKz0gY2hlY2soeCx5K2opID8gaiA6IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvcih2YXIgaSA9IC1kZXZpY2VSYXRpbzsgaSA8PSBkZXZpY2VSYXRpbzsgaSs9ZGV2aWNlUmF0aW8qMil7XG4gICAgICAgICAgICAgICAgZHggKz0gY2hlY2soeCtpLHkpID8gaSA6IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgeDogTWF0aC5yb3VuZCh4IC8gZGV2aWNlUmF0aW8gKyBkeCksXG4gICAgICAgICAgICAgICAgeTogTWF0aC5yb3VuZCgoaWRUYXJnZXRIZWlnaHQgLSB5KSAvIGRldmljZVJhdGlvIC0gZHkpfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrKHgsIHkpIHtcblxuICAgICAgICAgICAgLy8gUHJvYmFibHkgYmV0dGVyIHRvIGNsaXAgbGluZSBhdCB0aGUgYmVnaW5uaW5nLlxuICAgICAgICAgICAgaWYgKHggPCAwIHx8IHggPj0gaWRUYXJnZXRXaWR0aCB8fFxuICAgICAgICAgICAgICAgIHkgPCAwIHx8IHkgPj0gaWRUYXJnZXRIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBpbmRleCA9ICh5ICogaWRUYXJnZXRXaWR0aCArIHgpICo0O1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICBpZFRhcmdldEJ1ZmZlcltpbmRleCAgXSAhPT0gMHhGRiB8fFxuICAgICAgICAgICAgICAgIGlkVGFyZ2V0QnVmZmVyW2luZGV4KzFdICE9PSAweEZGIHx8XG4gICAgICAgICAgICAgICAgaWRUYXJnZXRCdWZmZXJbaW5kZXgrMl0gIT09IDB4RkYpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRERBIExpbmUgYWxnb3JpdGhtXG4gICAgICAgIHZhciBkeCA9ICh4MSAtIHgwKTtcbiAgICAgICAgdmFyIGR5ID0gKHkxIC0geTApO1xuXG4gICAgICAgIHZhciBtID0gZHggIT09IDAgPyBkeSAvIGR4IDogMTtcbiAgICAgICAgdmFyIHggPSB4MDtcbiAgICAgICAgdmFyIHkgPSB5MDtcblxuICAgICAgICBpZiAoZHggIT09IDAgJiYgTWF0aC5hYnMobSkgPD0gMSkge1xuXG4gICAgICAgICAgICBpZiAoeDAgPD0geDEpIHtcbiAgICAgICAgICAgICAgICBmb3IgKDsgeCA8PSB4MTsgKyt4LCB5ICs9IG0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrKHgsIE1hdGgucm91bmQoeSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9pbnQoeCwgeSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAoOyB4ID49IHgxOyAtLXgsIHkgLT0gbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2soeCwgTWF0aC5yb3VuZCh5KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwb2ludCh4LCB5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgbSA9IGR4ICE9PSAwID8gMS9tIDogMDtcbiAgICAgICAgICAgIGlmICh5MCA8PSB5MSkge1xuICAgICAgICAgICAgICAgIGZvciAoOyB5IDw9IHkxOyArK3ksIHggKz0gbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2soTWF0aC5yb3VuZCh4KSwgeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwb2ludCh4LCB5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yICg7IHkgPj0geTE7IC0teSwgeCAtPSBtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjayhNYXRoLnJvdW5kKHgpLCB5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50KHgsIHkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHBvbHlnb25cbiAgICAgKiBAcGFyYW0gaWRUYXJnZXRcbiAgICAgKi9cbiAgICBleHBvcnQgdmFyIGNoZWNrUG9seWdvbiA9IGZ1bmN0aW9uKHBvbHlnb24sIGlkVGFyZ2V0KSB7XG5cbiAgICAgICAgLy8gUmV0dXJuIGlmIGluY29ycmVjdCBwYXJhbWV0ZXJzLlxuICAgICAgICBpZighcG9seWdvbiB8fCBwb2x5Z29uLnZlcnh0ZXhDb3VudCA8IDMgfHwgIWlkVGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IF93aW5kb3cgPSAodGhpcyAmJiB0aGlzLmdldFdpbmRvdyAmJiB0aGlzLmdldFdpbmRvdygpKSB8fCBfZ1dpbmRvdztcbiAgICAgICAgdmFyIGRldmljZVJhdGlvID0gX3dpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG5cbiAgICAgICAgdmFyIGlkVGFyZ2V0V2lkdGggPSBpZFRhcmdldC53aWR0aDtcbiAgICAgICAgdmFyIGlkVGFyZ2V0SGVpZ2h0ID0gaWRUYXJnZXQuaGVpZ2h0O1xuICAgICAgICB2YXIgaWRUYXJnZXRCdWZmZXIgPSBpZFRhcmdldC5idWZmZXI7XG5cbiAgICAgICAgdmFyIHZlcnRleENvdW50ID0gcG9seWdvbi52ZXJ0ZXhDb3VudDtcbiAgICAgICAgdmFyIHhWZXJ0aWNlcyA9IEZsb2F0MzJBcnJheS5mcm9tKHBvbHlnb24ueFZlcnRpY2VzKTsgLy8gQ2xvbmUgdG8gc2NhbGUgYnkgZGV2aWNlIHBpeGVsIHJhdGlvIGFuZCB0b1xuICAgICAgICB2YXIgeVZlcnRpY2VzID0gRmxvYXQzMkFycmF5LmZyb20ocG9seWdvbi55VmVydGljZXMpOyAvLyBjaGFuZ2UgeSBjb29yZGluYXRlcyB0byBPcGVuR0wgc3R5bGUuXG5cbiAgICAgICAgZnVuY3Rpb24gcG9pbnQoeCwgeSkge1xuXG4gICAgICAgICAgICB2YXIgZHggPSAwO1xuICAgICAgICAgICAgdmFyIGR5ID0gMDtcblxuICAgICAgICAgICAgZm9yKHZhciBqID0gLWRldmljZVJhdGlvOyBqIDw9IGRldmljZVJhdGlvOyBqKz1kZXZpY2VSYXRpbyoyKXtcbiAgICAgICAgICAgICAgICBkeSArPSBjaGVjayh4LHkraikgPyBqIDogMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yKHZhciBpID0gLWRldmljZVJhdGlvOyBpIDw9IGRldmljZVJhdGlvOyBpKz1kZXZpY2VSYXRpbyoyKXtcbiAgICAgICAgICAgICAgICBkeCArPSBjaGVjayh4K2kseSkgPyBpIDogMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB4OiBNYXRoLnJvdW5kKHggLyBkZXZpY2VSYXRpbykgKyBkeCxcbiAgICAgICAgICAgICAgICB5OiBNYXRoLnJvdW5kKChpZFRhcmdldEhlaWdodCAtIHkpIC8gZGV2aWNlUmF0aW8gLSBkeSl9O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY2hlY2soeCwgeSkge1xuXG4gICAgICAgICAgICBpZiAoeCA8IDAgfHwgeCA+PSBpZFRhcmdldFdpZHRoIHx8XG4gICAgICAgICAgICAgICAgeSA8IDAgfHwgeSA+PSBpZFRhcmdldEhlaWdodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGluZGV4ID0gKHkgKiBpZFRhcmdldFdpZHRoICsgeCkgKiA0O1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICBpZFRhcmdldEJ1ZmZlcltpbmRleCAgXSAhPT0gMHhGRiB8fFxuICAgICAgICAgICAgICAgIGlkVGFyZ2V0QnVmZmVyW2luZGV4KzFdICE9PSAweEZGIHx8XG4gICAgICAgICAgICAgICAgaWRUYXJnZXRCdWZmZXJbaW5kZXgrMl0gIT09IDB4RkYpICYmIGlzSW5zaWRlUG9seWdvbih4LCB5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGlzSW5zaWRlUG9seWdvbih4LCB5KSB7XG5cbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciB2ZXJ0ZXhDb3VudCA9IHBvbHlnb24udmVydGV4Q291bnQ7XG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwLCBqID0gdmVydGV4Q291bnQtMTsgaSA8IHZlcnRleENvdW50OyBqID0gaSsrKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoKCh5VmVydGljZXNbaV0gPiB5KSAhPSAoeVZlcnRpY2VzW2pdID4geSkpICYmXG4gICAgICAgICAgICAgICAgICAgICAoeCA8ICh4VmVydGljZXNbal0gLSB4VmVydGljZXNbaV0pICogKHkgLSB5VmVydGljZXNbaV0pIC8gKHlWZXJ0aWNlc1tqXSAtIHlWZXJ0aWNlc1tpXSkgKyB4VmVydGljZXNbaV0pICkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAhcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGFuZ2UgY29vcmRpbmF0ZXMgdG8gT3BlbkdMIHN0eWxlIGFuZCBjYWxjdWxhdGUgcG9seWdvbidzIGJvdW5kaW5nIGJveC5cbiAgICAgICAgdmFyIGJiWDAgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIHZhciBiYlkwID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICB2YXIgYmJYMSA9IE51bWJlci5ORUdBVElWRV9JTkZJTklUWTtcbiAgICAgICAgdmFyIGJiWTEgPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG5cbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHZlcnRleENvdW50OyArK2kpIHtcblxuICAgICAgICAgICAgdmFyIGJiWCA9IHhWZXJ0aWNlc1tpXSA9IHhWZXJ0aWNlc1tpXSAqIGRldmljZVJhdGlvO1xuICAgICAgICAgICAgdmFyIGJiWSA9IHlWZXJ0aWNlc1tpXSA9IGlkVGFyZ2V0SGVpZ2h0IC0geVZlcnRpY2VzW2ldICogZGV2aWNlUmF0aW87XG5cbiAgICAgICAgICAgIGJiWDAgPSBNYXRoLm1pbihiYlgwLCBiYlgpO1xuICAgICAgICAgICAgYmJZMCA9IE1hdGgubWluKGJiWTAsIGJiWSk7XG4gICAgICAgICAgICBiYlgxID0gTWF0aC5tYXgoYmJYMSwgYmJYKTtcbiAgICAgICAgICAgIGJiWTEgPSBNYXRoLm1heChiYlkxLCBiYlkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJiWDEgPCAwIHx8IGJiWDAgPiBpZFRhcmdldFdpZHRoIHx8XG4gICAgICAgICAgICBiYlkxIDwgMCB8fCBiYlkwID4gaWRUYXJnZXRIZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJiVyA9IE1hdGgucm91bmQoYmJYMSAtIGJiWDApO1xuICAgICAgICB2YXIgYmJIID0gTWF0aC5yb3VuZChiYlkxIC0gYmJZMCk7XG5cbiAgICAgICAgdmFyIGJiQ2VudGVyWCA9IE1hdGgucm91bmQoKGJiWDAgKyBiYlgxKSowLjUpO1xuICAgICAgICB2YXIgYmJDZW50ZXJZID0gTWF0aC5yb3VuZCgoYmJZMCArIGJiWTEpKjAuNSk7XG5cbiAgICAgICAgLy8gQ2hlY2tcbiAgICAgICAgdmFyIHggPSBiYkNlbnRlclg7XG4gICAgICAgIHZhciB5ID0gYmJDZW50ZXJZO1xuXG4gICAgICAgIHZhciB3ID0gMTtcbiAgICAgICAgdmFyIGggPSAxO1xuXG4gICAgICAgIGRvIHtcblxuICAgICAgICAgICAgdmFyIGVuZFggPSB4ICsgdztcbiAgICAgICAgICAgIHZhciBlbmRZID0geSArIGg7XG5cbiAgICAgICAgICAgIGZvcig7IHggPCBlbmRYOyArK3gpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2soeCx5KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9pbnQoeCx5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvcig7IHkgPCBlbmRZOyArK3kpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2soeCx5KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9pbnQoeCx5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh3IDwgYmJXKSB7XG4gICAgICAgICAgICAgICAgZW5kWCA9IHggLSArK3c7ICsrdztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZW5kWCA9IHggLSB3O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaCA8IGJiSCkge1xuICAgICAgICAgICAgICAgIGVuZFkgPSB5IC0gKytoOyArK2g7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVuZFkgPSB5IC0gaDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yKDsgeCA+IGVuZFg7IC0teCkge1xuICAgICAgICAgICAgICAgIGlmIChjaGVjayh4LHkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb2ludCh4LHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yKDsgeSA+IGVuZFk7IC0teSkge1xuICAgICAgICAgICAgICAgIGlmIChjaGVjayh4LHkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb2ludCh4LHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSh3IDwgYmJXIHx8IGggPCBiYkgpO1xuICAgICB9O1xuXG4gICAgLy8vLyBDU1MgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgZXhwb3J0IHZhciBjcmVhdGVTdHlsZVNoZWV0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgY29uc3QgX2RvY3VtZW50ID0gKHRoaXMgJiYgdGhpcy5nZXREb2N1bWVudCAmJiB0aGlzLmdldERvY3VtZW50KCkpIHx8IF9nRG9jdW1lbnQ7XG4gICAgICAgIHZhciBzdHlsZSA9IF9kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cbiAgICAgICAgLy8gVGhpcyBpcyBXZWJLaXQgaGFjay5cbiAgICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoX2RvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpKTtcbiAgICAgICAgX2RvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXG4gICAgICAgIHJldHVybiBzdHlsZS5zaGVldDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3R5bGVTaGVldFxuICAgICAqIEBwYXJhbSBzZWxlY3RvclxuICAgICAqIEBwYXJhbSBzdHlsZXNcbiAgICAgKiBAcGFyYW0gaW5kZXhcbiAgICAgKi9cbiAgICBleHBvcnQgdmFyIGFkZFJ1bGVUb1N0eWxlU2hlZXQgPSBmdW5jdGlvbihzdHlsZVNoZWV0LCBzZWxlY3Rvciwgc3R5bGVzLCBpbmRleCkge1xuXG4gICAgICAgIGlmKFwiaW5zZXJ0UnVsZVwiIGluIHN0eWxlU2hlZXQpIHtcbiAgICAgICAgICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZShzZWxlY3RvciArIFwie1wiICsgc3R5bGVzICsgXCJ9XCIsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKFwiYWRkUnVsZVwiIGluIHN0eWxlU2hlZXQpIHtcbiAgICAgICAgICAgIHN0eWxlU2hlZXQuYWRkUnVsZShzZWxlY3Rvciwgc3R5bGVzLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8vLyBTVkcgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGxpbmVzXG4gICAgICogQHBhcmFtIHN0eWxlXG4gICAgICogQHBhcmFtIGVkaXRvclxuICAgICAqL1xuICAgIGV4cG9ydCB2YXIgbWVhc3VyZVRleHRMaW5lcyA9IGZ1bmN0aW9uKGxpbmVzLCBzdHlsZSwgZWRpdG9yKSB7XG5cbiAgICAgICAgLy8gTWVhc3VyZSBkaXYgc3R5bGUgaXMgbGluZSBzdHlsZSB3aXRoIHNvbWUgY3VzdG9tIGxheW91dCBwcm9wZXJ0aWVzLlxuICAgICAgICB2YXIgZm9udFNpemUgPSBlZGl0b3Iuc2l6ZUZyb21NYXJrdXBzVG9DbGllbnQoMCwgc3R5bGVbJ2ZvbnQtc2l6ZSddKS55O1xuXG4gICAgICAgIHZhciBtZWFzdXJlU3R5bGUgPSBuZXcgRG9tRWxlbWVudFN0eWxlKClcbiAgICAgICAgICAgIC5zZXRBdHRyaWJ1dGUoJ2ZvbnQtZmFtaWx5Jywgc3R5bGVbJ2ZvbnQtZmFtaWx5J10pXG4gICAgICAgICAgICAuc2V0QXR0cmlidXRlKCdmb250LXNpemUnLCBmb250U2l6ZSArICdweCcpXG4gICAgICAgICAgICAuc2V0QXR0cmlidXRlKCdmb250LXdlaWdodCcsIHN0eWxlWydmb250LXdlaWdodCddID8gJ2JvbGQnIDogJycpXG4gICAgICAgICAgICAuc2V0QXR0cmlidXRlKCdmb250LXN0eWxlJywgc3R5bGVbJ2ZvbnQtc3R5bGUnXSA/ICdpdGFsaWMnIDogJycpXG5cbiAgICAgICAgICAgIC5yZW1vdmVBdHRyaWJ1dGUoWyd0b3AnLCAnbGVmdCcsICd3aWR0aCcsICdoZWlnaHQnLCAnb3ZlcmZsb3cteSddKVxuICAgICAgICAgICAgLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCdhYnNvbHV0ZScpXG4gICAgICAgICAgICAuc2V0QXR0cmlidXRlKCd3aGl0ZS1zcGFjZScsJ25vd3JhcCcpXG4gICAgICAgICAgICAuc2V0QXR0cmlidXRlKCdmbG9hdCcsJ2xlZnQnKVxuICAgICAgICAgICAgLnNldEF0dHJpYnV0ZSgndmlzaWJpbGl0eScsJ2hpZGRlbicpXG4gICAgICAgICAgICAuZ2V0U3R5bGVTdHJpbmcoKTtcblxuICAgICAgICBjb25zdCBfZG9jdW1lbnQgPSAodGhpcyAmJiB0aGlzLmdldERvY3VtZW50ICYmIHRoaXMuZ2V0RG9jdW1lbnQoKSkgfHwgX2dEb2N1bWVudDtcbiAgICAgICAgLy8gQ3JlYXRlIG1lYXN1cmUgZGl2LlxuICAgICAgICB2YXIgbWVhc3VyZSA9IF9kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICBtZWFzdXJlLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBtZWFzdXJlU3R5bGUpO1xuICAgICAgICBlZGl0b3Iudmlld2VyLmNvbnRhaW5lci5hcHBlbmRDaGlsZChtZWFzdXJlKTtcblxuICAgICAgICAvLyBNZWFzdXJlLlxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgICAgdmFyIGxpbmVzQ291bnQgPSBsaW5lcy5sZW5ndGg7XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBsaW5lc0NvdW50OyArK2kpIHtcblxuICAgICAgICAgICAgbWVhc3VyZS5pbm5lclRleHQgPSBsaW5lc1tpXTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICBsaW5lOiBsaW5lc1tpXSxcbiAgICAgICAgICAgICAgICB3aWR0aDogbWVhc3VyZS5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IG1lYXN1cmUuY2xpZW50SGVpZ2h0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSBtZWFzdXJlIGRpdiBhbmQgcmV0dXJuIHJlc3VsdC5cbiAgICAgICAgZWRpdG9yLnZpZXdlci5jb250YWluZXIucmVtb3ZlQ2hpbGQobWVhc3VyZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIGV4cG9ydCB2YXIgY3JlYXRlQXJjVG8gPSBmdW5jdGlvbih4LCB5LCB4UmFkaXVzLCB5UmFkaXVzLCByZWxhdGl2ZSwgcGF0aCkge1xuXG4gICAgICAgIHBhdGgucHVzaChyZWxhdGl2ZSA/ICdhJyA6ICdBJyk7XG4gICAgICAgIHBhdGgucHVzaCh4UmFkaXVzKTtcbiAgICAgICAgcGF0aC5wdXNoKHlSYWRpdXMpO1xuICAgICAgICBwYXRoLnB1c2goMCk7XG4gICAgICAgIHBhdGgucHVzaCgxKTtcbiAgICAgICAgcGF0aC5wdXNoKDEpO1xuICAgICAgICBwYXRoLnB1c2goeCk7XG4gICAgICAgIHBhdGgucHVzaCh5KTtcblxuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9O1xuXG4gICAgZXhwb3J0IHZhciBjcmVhdGVFbGxpcHNlUGF0aCA9IGZ1bmN0aW9uICh4LCB5LCB3LCBoLCByZWxhdGl2ZSwgcGF0aCkge1xuXG4gICAgICAgIHZhciBoYWxmVyA9IHcgKiAwLjU7XG4gICAgICAgIHZhciBoYWxmSCA9IGggKiAwLjU7XG5cbiAgICAgICAgcGF0aC5wdXNoKHJlbGF0aXZlID8gJ20nIDogJ00nKTtcbiAgICAgICAgcGF0aC5wdXNoKHgpO1xuICAgICAgICBwYXRoLnB1c2goeSk7XG5cbiAgICAgICAgY3JlYXRlQXJjVG8odywgMCwgaGFsZlcsIGhhbGZILCB0cnVlLCBwYXRoKTtcbiAgICAgICAgY3JlYXRlQXJjVG8oLXcsIDAsIGhhbGZXLCBoYWxmSCwgdHJ1ZSwgcGF0aCk7XG5cbiAgICAgICAgcGF0aC5wdXNoKCd6Jyk7XG4gICAgfTtcblxuICAgIGV4cG9ydCB2YXIgY3JlYXRlUmVjdGFuZ2xlUGF0aCA9IGZ1bmN0aW9uICh4LCB5LCB3LCBoLCByZWxhdGl2ZSwgcGF0aCkge1xuXG4gICAgICAgIHBhdGgucHVzaChyZWxhdGl2ZSA/ICdtJyA6ICdNJyk7XG4gICAgICAgIHBhdGgucHVzaCh4KTtcbiAgICAgICAgcGF0aC5wdXNoKHkpO1xuICAgICAgICBwYXRoLnB1c2goJ2wnKTtcbiAgICAgICAgcGF0aC5wdXNoKHcpO1xuICAgICAgICBwYXRoLnB1c2goMCk7XG4gICAgICAgIHBhdGgucHVzaCgnbCcpO1xuICAgICAgICBwYXRoLnB1c2goMCk7XG4gICAgICAgIHBhdGgucHVzaChoKTtcbiAgICAgICAgcGF0aC5wdXNoKCdsJyk7XG4gICAgICAgIHBhdGgucHVzaCgtdyk7XG4gICAgICAgIHBhdGgucHVzaCgwKTtcbiAgICAgICAgcGF0aC5wdXNoKCd6Jyk7XG4gICAgfTtcblxuICAgIGV4cG9ydCB2YXIgcmVuZGVyVG9DYW52YXMgPSBmdW5jdGlvbihzdmcsIHZpZXdCb3gsIHdpZHRoLCBoZWlnaHQsIGN0eCwgY2FsbGJhY2spIHtcblxuICAgICAgICBjb25zdCBzdmdNYXJrdXAgPSBzdmcub3V0ZXJIVE1MO1xuXG4gICAgICAgIC8vIEFwcGx5IHktaW52ZXJ0IGR1ZSB0byBtYXJrdXBzIGJlaW5nIGRlZmluZWQgaW4gdGhlIExNViBjb29yZGluYXRlIHN5c3RlbS4gQ1NTIGlzIHVzZWQgaGVyZSBkdWUgdG9cbiAgICAgICAgLy8gcG9vciBTYWZhcmkgc3VwcG9ydDogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTIwMTg1NFxuICAgICAgICBjb25zdCBzdHlsZSA9ICd0cmFuc2Zvcm06IHNjYWxlKDEsIC0xKTsgdHJhbnNmb3JtLW9yaWdpbjogY2VudGVyIGNlbnRlcic7XG5cbiAgICAgICAgLy8gQ3JlYXRpbmcgYSBuZXcgc3ZnIGVsZW1lbnQsIHRoYXQgd2lsbCBiZSBkcmF3biBpbnRvIHRoZSBjYW52YXMuXG4gICAgICAgIGNvbnN0IHRtcFN2ZyA9IGBcbiAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIke3dpZHRofVwiIGhlaWdodD1cIiR7aGVpZ2h0fVwiIHZpZXdCb3g9XCIke3ZpZXdCb3h9XCIgc3R5bGU9XCIke3N0eWxlfVwiPlxuICAgICAgICAgICR7c3ZnTWFya3VwfVxuICAgICAgICA8L3N2Zz5cbiAgICAgICAgYDtcblxuICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW3RtcFN2Z10sIHsgdHlwZTogJ2ltYWdlL3N2Zyt4bWwnIH0pO1xuICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG4gICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaW1nLnNyYyA9IHVybDtcbiAgICB9O1xuXG4gICAgLypcbiAgICAgVGFrZW4gZnJvbSBTaW1wbGlmeS5qcywgYSBoaWdoLXBlcmZvcm1hbmNlIEpTIHBvbHlsaW5lIHNpbXBsaWZpY2F0aW9uIGxpYnJhcnlcbiAgICAgKGMpIDIwMTMsIFZsYWRpbWlyIEFnYWZvbmtpblxuICAgICBtb3VybmVyLmdpdGh1Yi5pby9zaW1wbGlmeS1qc1xuICAgICovXG4gICBleHBvcnQgdmFyIHNpbXBsaWZ5ID0gZnVuY3Rpb24ocG9pbnRzLCB0b2xlcmFuY2UsIGhpZ2hlc3RRdWFsaXR5KSB7XG5cbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPD0gMikgcmV0dXJuIHBvaW50cztcblxuICAgICAgICAvLyBzcXVhcmUgZGlzdGFuY2UgYmV0d2VlbiAyIHBvaW50c1xuICAgICAgICBmdW5jdGlvbiBnZXRTcURpc3QocDEsIHAyKSB7XG5cbiAgICAgICAgICAgIHZhciBkeCA9IHAxLnggLSBwMi54LFxuICAgICAgICAgICAgICAgIGR5ID0gcDEueSAtIHAyLnk7XG5cbiAgICAgICAgICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNxdWFyZSBkaXN0YW5jZSBmcm9tIGEgcG9pbnQgdG8gYSBzZWdtZW50XG4gICAgICAgIGZ1bmN0aW9uIGdldFNxU2VnRGlzdChwLCBwMSwgcDIpIHtcblxuICAgICAgICAgICAgdmFyIHggPSBwMS54LFxuICAgICAgICAgICAgICAgIHkgPSBwMS55LFxuICAgICAgICAgICAgICAgIGR4ID0gcDIueCAtIHgsXG4gICAgICAgICAgICAgICAgZHkgPSBwMi55IC0geTtcblxuICAgICAgICAgICAgaWYgKGR4ICE9PSAwIHx8IGR5ICE9PSAwKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgdCA9ICgocC54IC0geCkgKiBkeCArIChwLnkgLSB5KSAqIGR5KSAvIChkeCAqIGR4ICsgZHkgKiBkeSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9IHAyLng7XG4gICAgICAgICAgICAgICAgICAgIHkgPSBwMi55O1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB4ICs9IGR4ICogdDtcbiAgICAgICAgICAgICAgICAgICAgeSArPSBkeSAqIHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkeCA9IHAueCAtIHg7XG4gICAgICAgICAgICBkeSA9IHAueSAtIHk7XG5cbiAgICAgICAgICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZXN0IG9mIHRoZSBjb2RlIGRvZXNuJ3QgY2FyZSBhYm91dCBwb2ludCBmb3JtYXRcblxuICAgICAgICAvLyBiYXNpYyBkaXN0YW5jZS1iYXNlZCBzaW1wbGlmaWNhdGlvblxuICAgICAgICBmdW5jdGlvbiBzaW1wbGlmeVJhZGlhbERpc3QocG9pbnRzLCBzcVRvbGVyYW5jZSkge1xuXG4gICAgICAgICAgICB2YXIgcHJldlBvaW50ID0gcG9pbnRzWzBdLFxuICAgICAgICAgICAgICAgIG5ld1BvaW50cyA9IFtwcmV2UG9pbnRdLFxuICAgICAgICAgICAgICAgIHBvaW50O1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMSwgbGVuID0gcG9pbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcG9pbnQgPSBwb2ludHNbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAoZ2V0U3FEaXN0KHBvaW50LCBwcmV2UG9pbnQpID4gc3FUb2xlcmFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3UG9pbnRzLnB1c2gocG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICBwcmV2UG9pbnQgPSBwb2ludDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwcmV2UG9pbnQgIT09IHBvaW50KSBuZXdQb2ludHMucHVzaChwb2ludCk7XG5cbiAgICAgICAgICAgIHJldHVybiBuZXdQb2ludHM7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzaW1wbGlmeURQU3RlcChwb2ludHMsIGZpcnN0LCBsYXN0LCBzcVRvbGVyYW5jZSwgc2ltcGxpZmllZCkge1xuICAgICAgICAgICAgdmFyIG1heFNxRGlzdCA9IHNxVG9sZXJhbmNlLFxuICAgICAgICAgICAgICAgIGluZGV4O1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gZmlyc3QgKyAxOyBpIDwgbGFzdDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNxRGlzdCA9IGdldFNxU2VnRGlzdChwb2ludHNbaV0sIHBvaW50c1tmaXJzdF0sIHBvaW50c1tsYXN0XSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3FEaXN0ID4gbWF4U3FEaXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgbWF4U3FEaXN0ID0gc3FEaXN0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1heFNxRGlzdCA+IHNxVG9sZXJhbmNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4IC0gZmlyc3QgPiAxKSBzaW1wbGlmeURQU3RlcChwb2ludHMsIGZpcnN0LCBpbmRleCwgc3FUb2xlcmFuY2UsIHNpbXBsaWZpZWQpO1xuICAgICAgICAgICAgICAgIHNpbXBsaWZpZWQucHVzaChwb2ludHNbaW5kZXhdKTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdCAtIGluZGV4ID4gMSkgc2ltcGxpZnlEUFN0ZXAocG9pbnRzLCBpbmRleCwgbGFzdCwgc3FUb2xlcmFuY2UsIHNpbXBsaWZpZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2ltcGxpZmljYXRpb24gdXNpbmcgUmFtZXItRG91Z2xhcy1QZXVja2VyIGFsZ29yaXRobVxuICAgICAgICBmdW5jdGlvbiBzaW1wbGlmeURvdWdsYXNQZXVja2VyKHBvaW50cywgc3FUb2xlcmFuY2UpIHtcbiAgICAgICAgICAgIHZhciBsYXN0ID0gcG9pbnRzLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgICAgIHZhciBzaW1wbGlmaWVkID0gW3BvaW50c1swXV07XG4gICAgICAgICAgICBzaW1wbGlmeURQU3RlcChwb2ludHMsIDAsIGxhc3QsIHNxVG9sZXJhbmNlLCBzaW1wbGlmaWVkKTtcbiAgICAgICAgICAgIHNpbXBsaWZpZWQucHVzaChwb2ludHNbbGFzdF0pO1xuXG4gICAgICAgICAgICByZXR1cm4gc2ltcGxpZmllZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJvdGggYWxnb3JpdGhtcyBjb21iaW5lZCBmb3IgYXdlc29tZSBwZXJmb3JtYW5jZVxuICAgICAgICB2YXIgc3FUb2xlcmFuY2UgPSB0b2xlcmFuY2UgIT09IHVuZGVmaW5lZCA/IHRvbGVyYW5jZSAqIHRvbGVyYW5jZSA6IDE7XG5cbiAgICAgICAgcG9pbnRzID0gaGlnaGVzdFF1YWxpdHkgPyBwb2ludHMgOiBzaW1wbGlmeVJhZGlhbERpc3QocG9pbnRzLCBzcVRvbGVyYW5jZSk7XG4gICAgICAgIHBvaW50cyA9IHNpbXBsaWZ5RG91Z2xhc1BldWNrZXIocG9pbnRzLCBzcVRvbGVyYW5jZSk7XG5cbiAgICAgICAgcmV0dXJuIHBvaW50cztcbiAgICB9O1xuXG4iXSwibmFtZXMiOlsiTWFya3VwVHlwZSIsIkNyZWF0ZUFycm93IiwiQ3JlYXRlUmVjdGFuZ2xlIiwiQ3JlYXRlVGV4dCIsIkNyZWF0ZUNhbGxvdXQiLCJDcmVhdGVDaXJjbGUiLCJDcmVhdGVDbG91ZCIsIkNyZWF0ZUZyZWVoYW5kIiwiQ3JlYXRlUG9seWxpbmUiLCJDcmVhdGVQb2x5Y2xvdWQiLCJDcmVhdGVIaWdobGlnaHQiLCJDcmVhdGVEaW1lbnNpb24iLCJEb21FbGVtZW50U3R5bGUiLCJDcmVhdGVTdGFtcCIsImF2IiwiQXV0b2Rlc2siLCJWaWV3aW5nIiwiYXZwIiwiUHJpdmF0ZSIsIl9nV2luZG93IiwiZ2V0R2xvYmFsIiwiX2dEb2N1bWVudCIsImRvY3VtZW50IiwiTUFSS1VQX0RFRkFVTFRfU1RST0tFX1dJRFRIX0lOX1BJWEVMUyIsIk1BUktVUF9ERUZBVUxUX0ZPTlRfV0lEVEhfSU5fUElYRUxTIiwiTUFSS1VQX0RFRkFVTFRfSElUQVJFQVNfTUFSR0lOX0lOX1BJWEVMUyIsIkVESVRfRlJBTUVfREVGQVVMVF9NQVJHSU4iLCJpc1RvdWNoRGV2aWNlIiwiSGFtbWVyIiwiY3JlYXRlU3ZnRWxlbWVudCIsInR5cGUiLCJfZG9jdW1lbnQiLCJnZXREb2N1bWVudCIsIm5hbWVzcGFjZSIsImNyZWF0ZUVsZW1lbnROUyIsInNldFN2Z1BhcmVudEF0dHJpYnV0ZXMiLCJzdmciLCJzZXRBdHRyaWJ1dGUiLCJjcmVhdGVNYXJrdXBHcm91cFN2ZyIsImNoaWxkcmVuIiwiaSIsImxlbmd0aCIsImFwcGVuZENoaWxkIiwiY3JlYXRlTWFya3VwUGF0aFN2ZyIsIm1hcmt1cCIsImhpdGFyZWEiLCJzZXRBdHRyaWJ1dGVUb01hcmt1cFN2ZyIsImF0dHJpYnV0ZSIsInZhbHVlIiwidXBkYXRlTWFya3VwUGF0aFN2Z0hpdGFyZWEiLCJlZGl0b3IiLCJoaXRhcmVhTWFyZ2luIiwic2l6ZUZyb21DbGllbnRUb01hcmt1cHMiLCJ5IiwicGFyc2VGbG9hdCIsImdldEF0dHJpYnV0ZSIsIm1hcmt1cEZpbGwiLCJtYXJrdXBTdHJva2UiLCJzdHJva2VFbmFibGVkIiwiZmlsbEVuYWJsZWQiLCJkdXJpbmdFZGl0TW9kZSIsIm5hdmlnYXRpbmciLCJjcmVhdGVNYXJrdXBUZXh0U3ZnIiwiY2xpcHBlcklkIiwiZ2V0VW5pcXVlSUQiLCJjbGlwcGVyVXJsIiwiY2xpcHBlciIsInJlbW92ZUF0dHJpYnV0ZSIsInJlY3QiLCJiYWNrZ3JvdW5kIiwiY2xpcHBlZEFyZWEiLCJzZXRNYXJrdXBUZXh0U3ZnVHJhbnNmb3JtIiwidHJhbnNmb3JtIiwidGV4dFRyYW5zZm9ybSIsInVwZGF0ZU1hcmt1cFRleHRTdmdIaXRhcmVhIiwidyIsImgiLCJ1cGRhdGVNYXJrdXBUZXh0U3ZnQmFja2dyb3VuZCIsImNvbG9yIiwidXBkYXRlTWFya3VwVGV4dFN2Z0NsaXBwZXIiLCJhZGRTdmdNZXRhZGF0YSIsIm1ldGFkYXRhIiwibWV0YWRhdGFOb2RlIiwiZGF0YVZlcnNpb25Ob2RlIiwiY3JlYXRlRWxlbWVudCIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJhZGRNYXJrdXBNZXRhZGF0YSIsIm1hcmt1cE5vZGUiLCJrZXkiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJyZW1vdmVBbGxNZXRhZGF0YSIsInN2Z05vZGUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIm5vZGVzIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwic3ZnQ2hpbGRyZW4iLCJjaGlsZE5vZGVzIiwidHJhbnNmZXJDaGlsZE5vZGVzIiwibm9kZUZyb20iLCJub2RlSW50byIsInRtcEFycmF5IiwicHVzaCIsImZvckVhY2giLCJub2RlIiwiVEhSRUUiLCJNYXRoIiwiZ2VuZXJhdGVVVUlEIiwic3ZnTm9kZVRvU3RyaW5nIiwiZG9tTm9kZSIsInJlbW92ZUhpdGFyZWFzIiwiaGl0YXJlYXMiLCJoaXRhcmVhUGFyZW50IiwicGFyZW50IiwiY2hpbGRyZW5Db3VudCIsIml0ZW0iLCJhZGRIaXRhcmVhcyIsImhpdGFyZWFzQ291bnQiLCJyZXN1bHQiLCJ4bWxTZXJpYWxpemVyIiwiWE1MU2VyaWFsaXplciIsInNlcmlhbGl6ZVRvU3RyaW5nIiwiZXJyIiwiY29uc29sZSIsIndhcm4iLCJzdHJpbmdUb1N2Z05vZGUiLCJzdHJpbmdOb2RlIiwiZG9tUGFyc2VyIiwiRE9NUGFyc2VyIiwiZG9jIiwicGFyc2VGcm9tU3RyaW5nIiwiYWRkVHJhaXRFdmVudERpc3BhdGNoZXIiLCJjbGllbnQiLCJsaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwibGlzdGVuZXIiLCJoYXNFdmVudExpc3RlbmVyIiwidW5kZWZpbmVkIiwiaW5kZXhPZiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJBcnJheSIsImxpIiwibGVuIiwic3BsaWNlIiwiZGlzcGF0Y2hFdmVudCIsImV2ZW50IiwidGFyZ2V0IiwiRXJyb3IiLCJ0eXBlTGlzdGVuZXJzIiwic2xpY2UiLCJyZW1vdmVUcmFpdEV2ZW50RGlzcGF0Y2hlciIsImUiLCJ3b3JsZFRvQ2xpZW50IiwicG9pbnQiLCJ2aWV3ZXIiLCJzbmFwIiwicCIsIndvcmxkVG9WaWV3cG9ydCIsInZpZXdwb3J0VG9DbGllbnQiLCJ4IiwieiIsImZsb29yIiwiY2xpZW50VG9Xb3JsZCIsImNsaWVudFgiLCJjbGllbnRZIiwiZGVwdGgiLCJjbGllbnRUb1ZpZXdwb3J0IiwidW5wcm9qZWN0IiwiaW1wbCIsImNhbWVyYSIsInZpZXdwb3J0WCIsInZpZXdwb3J0WSIsIlZlY3RvcjMiLCJwcm9qZWN0IiwibWV0ZXJzVG9Nb2RlbCIsIm1ldGVycyIsIm1vZGVsVG9NZXRlciIsIm1vZGVsIiwiZ2V0VW5pdFNjYWxlIiwibWV0ZXJUb01vZGVsIiwicmFkaWFuc1RvRGVncmVlcyIsInJhZGlhbnMiLCJQSSIsImRlZ3JlZXNUb1JhZGlhbnMiLCJkZWdyZWVzIiwic2lnbiIsImFyZU1hcmt1cHNQb2ludHNJbkNsaWVudFJhbmdlIiwicG9pbnRBIiwicG9pbnRCIiwicmFuZ2UiLCJkeCIsImR5IiwiaGlkZUxtdlVpIiwidG9vbGJhciIsInNldEFjdGl2ZU5hdmlnYXRpb25Ub29sIiwiZGlzbWlzc0xtdkh1ZE1lc3NhZ2UiLCJoaWRlTG12UGFuZWxzIiwiaGlkZUxtdlRvb2xzQW5kUGFuZWxzIiwicmVzdG9yZUxtdlVpIiwic2hvd0xtdlRvb2xzQW5kUGFuZWxzIiwiaGlkZSIsImRvY2tpbmdQYW5lbHMiLCJwYW5lbCIsInBhbmVsQ29udGFpbmVyIiwiY29udGFpbmVyIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJzdHlsZSIsImRpc3BsYXkiLCJ2aXNpYmlsaXR5Q2hhbmdlZCIsImlzMmQiLCJnZXRFeHRlbnNpb24iLCJleHQiLCJkaXNwbGF5Vmlld0N1YmUiLCJkaXNwbGF5SG9tZUJ1dHRvbiIsImFuaW0iLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwidmlld2VyQ29udGFpbmVyIiwidmlld2VyQ29udGFpbmVyQ2hpbGRyZW5Db3VudCIsImFuaW1hdG9yIiwia2V5RnJhbWVBbmltYXRvciIsImlzUGF1c2VkIiwicGF1c2VDYW1lcmFBbmltYXRpb25zIiwicGF1c2UiLCJwbGF5QnV0dG9uIiwibW9kZWxUb29scyIsImdldENvbnRyb2wiLCJzZXRJY29uIiwic2V0VG9vbFRpcCIsImtlZXBEaXNtaXNzaW5nIiwiSHVkTWVzc2FnZSIsImRpc21pc3MiLCJpZ25vcmUiLCJnZXRTdHJva2VXaWR0aCIsIndpZHRoSW5QaXhlbHMiLCJzaXplIiwiY3JlYXRlTWFya3VwRnJvbVNWRyIsImNoaWxkIiwibWV0YSIsImdldEN1cnJlbnRTdHlsZSIsInNvdXJjZSIsImxvZ2dlciIsImlzQ2xvc2VkIiwicGF0aCIsImNsb3NlZCIsImQiLCJzcGxpdCIsInRvTG93ZXJDYXNlIiwiZ2V0TG9jYXRpb25zIiwibG9jYXRpb25zIiwibG9jU3RyIiwicG9pbnRQYWlyIiwiZ2V0QXR0cmlidXRlVmVjdG9yIiwicG9zVmVjIiwic3RyUG9zIiwiZ2V0UG9zaXRpb24iLCJnZXRTaXplIiwiZ2V0Um90YXRpb24iLCJzdHJSb3QiLCJnZXRUZXh0IiwiZ2V0SXNGcmFtZVVzZWQiLCJwYXJzZUludCIsInBvc2l0aW9uIiwicm90YXRpb24iLCJ0YWlsIiwiaGVhZCIsInRleHQiLCJmaXJzdEFuY2hvciIsInNlY29uZEFuY2hvciIsImlkIiwiZ2V0SWQiLCJjcmVhdGVNYXJrdXAiLCJNQVJLVVBfVFlQRV9BUlJPVyIsIk1BUktVUF9UWVBFX1JFQ1RBTkdMRSIsIk1BUktVUF9UWVBFX1RFWFQiLCJNQVJLVVBfVFlQRV9DQUxMT1VUIiwiaXNGcmFtZVVzZWQiLCJNQVJLVVBfVFlQRV9DSVJDTEUiLCJNQVJLVVBfVFlQRV9DTE9VRCIsIk1BUktVUF9UWVBFX0ZSRUVIQU5EIiwiTUFSS1VQX1RZUEVfUE9MWUxJTkUiLCJNQVJLVVBfVFlQRV9QT0xZQ0xPVUQiLCJNQVJLVVBfVFlQRV9ISUdITElHSFQiLCJNQVJLVVBfVFlQRV9ESU1FTlNJT04iLCJNQVJLVVBfVFlQRV9TVEFNUCIsImFkZFRvSGlzdG9yeSIsImV4ZWN1dGUiLCJtYXJrdXBMaXN0Iiwic3ZnTGF5ZXJzTWFwIiwiYWN0aXZlTGF5ZXIiLCJtYXJrdXBzIiwiY29tcG9zZVJHQkFTdHJpbmciLCJoZXhSR0JTdHJpbmciLCJvcGFjaXR5Iiwic3Vic3RyIiwiam9pbiIsImNoZWNrTGluZVNlZ21lbnQiLCJ4MCIsInkwIiwieDEiLCJ5MSIsImlkVGFyZ2V0IiwiX3dpbmRvdyIsImdldFdpbmRvdyIsImRldmljZVJhdGlvIiwiZGV2aWNlUGl4ZWxSYXRpbyIsImlkVGFyZ2V0V2lkdGgiLCJ3aWR0aCIsImlkVGFyZ2V0SGVpZ2h0IiwiaGVpZ2h0IiwiaWRUYXJnZXRCdWZmZXIiLCJidWZmZXIiLCJyb3VuZCIsImoiLCJjaGVjayIsImluZGV4IiwibSIsImFicyIsImNoZWNrUG9seWdvbiIsInBvbHlnb24iLCJ2ZXJ4dGV4Q291bnQiLCJ2ZXJ0ZXhDb3VudCIsInhWZXJ0aWNlcyIsIkZsb2F0MzJBcnJheSIsImZyb20iLCJ5VmVydGljZXMiLCJpc0luc2lkZVBvbHlnb24iLCJiYlgwIiwiTnVtYmVyIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJiYlkwIiwiYmJYMSIsIk5FR0FUSVZFX0lORklOSVRZIiwiYmJZMSIsImJiWCIsImJiWSIsIm1pbiIsIm1heCIsImJiVyIsImJiSCIsImJiQ2VudGVyWCIsImJiQ2VudGVyWSIsImVuZFgiLCJlbmRZIiwiY3JlYXRlU3R5bGVTaGVldCIsImNyZWF0ZVRleHROb2RlIiwic2hlZXQiLCJhZGRSdWxlVG9TdHlsZVNoZWV0Iiwic3R5bGVTaGVldCIsInNlbGVjdG9yIiwic3R5bGVzIiwiaW5zZXJ0UnVsZSIsImFkZFJ1bGUiLCJtZWFzdXJlVGV4dExpbmVzIiwibGluZXMiLCJmb250U2l6ZSIsInNpemVGcm9tTWFya3Vwc1RvQ2xpZW50IiwibWVhc3VyZVN0eWxlIiwiZ2V0U3R5bGVTdHJpbmciLCJtZWFzdXJlIiwibGluZXNDb3VudCIsImlubmVyVGV4dCIsImxpbmUiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsImNyZWF0ZUFyY1RvIiwieFJhZGl1cyIsInlSYWRpdXMiLCJyZWxhdGl2ZSIsImNyZWF0ZUVsbGlwc2VQYXRoIiwiaGFsZlciLCJoYWxmSCIsImNyZWF0ZVJlY3RhbmdsZVBhdGgiLCJyZW5kZXJUb0NhbnZhcyIsInZpZXdCb3giLCJjdHgiLCJjYWxsYmFjayIsInN2Z01hcmt1cCIsIm91dGVySFRNTCIsInRtcFN2ZyIsImJsb2IiLCJCbG9iIiwidXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiaW1nIiwiSW1hZ2UiLCJvbmxvYWQiLCJkcmF3SW1hZ2UiLCJzcmMiLCJzaW1wbGlmeSIsInBvaW50cyIsInRvbGVyYW5jZSIsImhpZ2hlc3RRdWFsaXR5IiwiZ2V0U3FEaXN0IiwicDEiLCJwMiIsImdldFNxU2VnRGlzdCIsInQiLCJzaW1wbGlmeVJhZGlhbERpc3QiLCJzcVRvbGVyYW5jZSIsInByZXZQb2ludCIsIm5ld1BvaW50cyIsInNpbXBsaWZ5RFBTdGVwIiwiZmlyc3QiLCJsYXN0Iiwic2ltcGxpZmllZCIsIm1heFNxRGlzdCIsInNxRGlzdCIsInNpbXBsaWZ5RG91Z2xhc1BldWNrZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/MarkupsCoreUtils.js\n");

/***/ }),

/***/ "./extensions/Markup/core/StyleUtils.js":
/*!**********************************************!*\
  !*** ./extensions/Markup/core/StyleUtils.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cloneStyle: () => (/* binding */ cloneStyle),\n/* harmony export */   copyStyle: () => (/* binding */ copyStyle),\n/* harmony export */   createStyle: () => (/* binding */ createStyle),\n/* harmony export */   getStyleDefaultValues: () => (/* binding */ getStyleDefaultValues),\n/* harmony export */   isStyleEqual: () => (/* binding */ isStyleEqual)\n/* harmony export */ });\n\n/**\n *\n * @param {*} attributes\n * @param {*} editor\n */\nvar createStyle = function (attributes, editor) {\n\n  var style = {};\n\n  for (var i = 0; i < attributes.length; ++i) {\n\n    style[attributes[i]] = null;\n  }\n\n  var defaults = getStyleDefaultValues(style, editor);\n\n  for (let i = 0; i < attributes.length; ++i) {\n\n    var attribute = attributes[i];\n    style[attribute] = defaults[attribute].values[defaults[attribute].default].value;\n  }\n\n  return style;\n};\n\n/**\n *\n * @param source\n * @param destination\n * @returns {*}\n */\nvar copyStyle = function (source, destination) {\n\n  for (var attribute in destination) {\n    if (Object.prototype.hasOwnProperty.call(source, attribute)) {\n      destination[attribute] = source[attribute];\n    }\n  }\n\n  return destination;\n};\n\n/**\n *\n * @param source\n * @param destination\n * @returns {*}\n */\nvar isStyleEqual = function (source, destination) {\n\n  for (var attribute in destination) {\n    if (Object.prototype.hasOwnProperty.call(source, attribute) && source[attribute] !== destination[attribute]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n *\n * @param source\n * @returns {{}}\n */\nvar cloneStyle = function (source) {\n\n  var clone = {};\n\n  for (var attribute in source) {\n    clone[attribute] = source[attribute];\n  }\n\n  return clone;\n};\n\n/**\n *\n * @param style\n * @param editor\n * @returns {{}}\n */\nvar getStyleDefaultValues = function (style, editor) {\n\n  function getWidths(normalWidth) {\n\n    return {\n      values: [\n      { name: 'Thin', value: normalWidth / 3 },\n      { name: 'Normal', value: normalWidth },\n      { name: 'Thick', value: normalWidth * 3 },\n      { name: 'Very Thick', value: normalWidth * 9 }],\n      default: 1\n    };\n  }\n\n  function getLineJoins() {\n\n    return {\n      values: [\n      { name: 'Miter', value: 'miter' },\n      { name: 'Round', value: 'round' },\n      { name: 'Bevel', value: 'bevel' }],\n      default: 0\n    };\n  }\n\n  function getFontSizes(normalWidth) {\n\n    return {\n      values: [\n      { name: 'Thin', value: normalWidth / 2 },\n      { name: 'Normal', value: normalWidth },\n      { name: 'Thick', value: normalWidth * 4 }],\n      default: 1\n    };\n  }\n\n  function getColors() {\n\n    return {\n      values: [\n      { name: 'red', value: '#ff0000' },\n      { name: 'green', value: '#00ff00' },\n      { name: 'blue', value: '#0000ff' },\n      { name: 'white', value: '#ffffff' },\n      { name: 'black', value: '#000000' },\n      { name: 'yellow', value: '#ffff00' }],\n      default: 0\n    };\n  }\n\n  function getOpacities(defaultTransparent) {\n\n    return {\n      values: [\n      { name: '100%', value: 1.00 },\n      { name: '75%', value: 0.75 },\n      { name: '50%', value: 0.50 },\n      { name: '25%', value: 0.25 },\n      { name: '0%', value: 0.00 }],\n      default: defaultTransparent ? 4 : 0\n    };\n  }\n\n  function getFontFamilies() {\n\n    // TODO: Localize?\n    // TODO: Validate fonts with design\n    // Source: http://www.webdesigndev.com/web-development/16-gorgeous-web-safe-fonts-to-use-with-css\n    return {\n      values: [\n      { name: 'Arial', value: 'Arial' },\n      { name: 'Arial Black', value: 'Arial Black' },\n      { name: 'Arial Narrow', value: 'Arial Narrow' },\n      { name: 'Century Gothic', value: 'Century Gothic' },\n      { name: 'Courier New', value: 'Courier New' },\n      { name: 'Georgia', value: 'Georgia' },\n      { name: 'Impact', value: 'Impact' },\n      { name: 'Lucida Console', value: 'Lucida Console' },\n      { name: 'Tahoma', value: 'Tahoma' },\n      { name: 'Verdana', value: 'Verdana' }],\n\n      default: 0\n    };\n  }\n\n  function getFontStyles() {\n    return {\n      values: [\n      { name: 'Normal', value: 'normal' },\n      { name: 'Italic', value: 'italic' }],\n      default: 0\n    };\n  }\n\n  function getFontWeights() {\n    return {\n      values: [\n      { name: 'Normal', value: 'normal' },\n      { name: 'Bold', value: 'bold' }],\n      default: 0 };\n  }\n\n  function getSvgString() {\n    return {\n      values: [\n      {\n        name: 'DefaultValue',\n        value: '<svg height=\"100\" width=\"100\" viewBox=\"0 0 100 100\"><circle cx=\"50\" cy=\"50\" r=\"40\" stroke=\"black\" stroke-width=\"3\" fill=\"red\" /></svg>'\n      }],\n\n      default: 0\n    };\n  }\n\n  var values = cloneStyle(style);\n  var normaStrokeWidth = editor.getStrokeWidth();\n  var normaFontWidth = editor.getFontWidth();\n\n  for (var attribute in values) {\n\n    switch (attribute) {\n      case 'stroke-width':\n        values[attribute] = getWidths(normaStrokeWidth);\n        break;\n\n      case 'stroke-linejoin':\n        values[attribute] = getLineJoins();\n        break;\n\n      case 'font-size':\n        values[attribute] = getFontSizes(normaFontWidth);\n        break;\n\n      case 'font-family':\n        values[attribute] = getFontFamilies();\n        break;\n\n      case 'font-style':\n        values[attribute] = getFontStyles();\n        break;\n\n      case 'font-weight':\n        values[attribute] = getFontWeights();\n        break;\n\n      case 'stroke-color':\n      case 'fill-color':\n        values[attribute] = getColors();\n        break;\n\n      case 'stroke-opacity':{\n          let defaultTransparent = false;\n          values[attribute] = getOpacities(defaultTransparent);\n          break;\n        }\n\n      case 'fill-opacity':{\n          let defaultTransparent = true;\n          values[attribute] = getOpacities(defaultTransparent);\n          break;\n        }\n\n      case 'text-data':\n        values[attribute] = getSvgString();\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  return values;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL1N0eWxlVXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLElBQUlBLFdBQVcsR0FBRyxTQUFBQSxDQUFTQyxVQUFVLEVBQUVDLE1BQU0sRUFBRTs7RUFFbEQsSUFBSUMsS0FBSyxHQUFHLENBQUMsQ0FBQzs7RUFFZCxLQUFJLElBQUlDLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR0gsVUFBVSxDQUFDSSxNQUFNLEVBQUUsRUFBRUQsQ0FBQyxFQUFFOztJQUV2Q0QsS0FBSyxDQUFDRixVQUFVLENBQUNHLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSTtFQUMvQjs7RUFFQSxJQUFJRSxRQUFRLEdBQUdDLHFCQUFxQixDQUFDSixLQUFLLEVBQUVELE1BQU0sQ0FBQzs7RUFFbkQsS0FBSSxJQUFJRSxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdILFVBQVUsQ0FBQ0ksTUFBTSxFQUFFLEVBQUVELENBQUMsRUFBRTs7SUFFdkMsSUFBSUksU0FBUyxHQUFHUCxVQUFVLENBQUNHLENBQUMsQ0FBQztJQUM3QkQsS0FBSyxDQUFDSyxTQUFTLENBQUMsR0FBR0YsUUFBUSxDQUFDRSxTQUFTLENBQUMsQ0FBQ0MsTUFBTSxDQUFDSCxRQUFRLENBQUNFLFNBQVMsQ0FBQyxDQUFDRSxPQUFPLENBQUMsQ0FBQ0MsS0FBSztFQUNwRjs7RUFFQSxPQUFPUixLQUFLO0FBQ2hCLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sSUFBSVMsU0FBUyxHQUFHLFNBQUFBLENBQVNDLE1BQU0sRUFBRUMsV0FBVyxFQUFFOztFQUVqRCxLQUFJLElBQUlOLFNBQVMsSUFBSU0sV0FBVyxFQUFFO0lBQzlCLElBQUlDLE1BQU0sQ0FBQ0MsU0FBUyxDQUFDQyxjQUFjLENBQUNDLElBQUksQ0FBQ0wsTUFBTSxFQUFFTCxTQUFTLENBQUMsRUFBRTtNQUN6RE0sV0FBVyxDQUFDTixTQUFTLENBQUMsR0FBR0ssTUFBTSxDQUFDTCxTQUFTLENBQUM7SUFDOUM7RUFDSjs7RUFFQSxPQUFPTSxXQUFXO0FBQ3RCLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sSUFBSUssWUFBWSxHQUFHLFNBQUFBLENBQVNOLE1BQU0sRUFBRUMsV0FBVyxFQUFFOztFQUVwRCxLQUFJLElBQUlOLFNBQVMsSUFBSU0sV0FBVyxFQUFFO0lBQzlCLElBQUlDLE1BQU0sQ0FBQ0MsU0FBUyxDQUFDQyxjQUFjLENBQUNDLElBQUksQ0FBQ0wsTUFBTSxFQUFFTCxTQUFTLENBQUMsSUFBS0ssTUFBTSxDQUFDTCxTQUFTLENBQUMsS0FBS00sV0FBVyxDQUFDTixTQUFTLENBQUMsRUFBRTtNQUMxRyxPQUFPLEtBQUs7SUFDaEI7RUFDSjs7RUFFQSxPQUFPLElBQUk7QUFDZixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxJQUFJWSxVQUFVLEdBQUcsU0FBQUEsQ0FBU1AsTUFBTSxFQUFFOztFQUVyQyxJQUFJUSxLQUFLLEdBQUcsQ0FBQyxDQUFDOztFQUVkLEtBQUksSUFBSWIsU0FBUyxJQUFJSyxNQUFNLEVBQUU7SUFDekJRLEtBQUssQ0FBQ2IsU0FBUyxDQUFDLEdBQUdLLE1BQU0sQ0FBQ0wsU0FBUyxDQUFDO0VBQ3hDOztFQUVBLE9BQU9hLEtBQUs7QUFDaEIsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxJQUFJZCxxQkFBcUIsR0FBRyxTQUFBQSxDQUFTSixLQUFLLEVBQUVELE1BQU0sRUFBRTs7RUFFdkQsU0FBU29CLFNBQVNBLENBQUNDLFdBQVcsRUFBRTs7SUFFNUIsT0FBTztNQUNIZCxNQUFNLEVBQUU7TUFDSixFQUFDZSxJQUFJLEVBQUMsTUFBTSxFQUFFYixLQUFLLEVBQUVZLFdBQVcsR0FBRyxDQUFDLEVBQUM7TUFDckMsRUFBQ0MsSUFBSSxFQUFDLFFBQVEsRUFBRWIsS0FBSyxFQUFFWSxXQUFXLEVBQUM7TUFDbkMsRUFBQ0MsSUFBSSxFQUFDLE9BQU8sRUFBRWIsS0FBSyxFQUFFWSxXQUFXLEdBQUcsQ0FBQyxFQUFDO01BQ3RDLEVBQUNDLElBQUksRUFBQyxZQUFZLEVBQUViLEtBQUssRUFBRVksV0FBVyxHQUFHLENBQUMsRUFBQyxDQUFDO01BQ2hEYixPQUFPLEVBQUU7SUFDYixDQUFDO0VBQ0w7O0VBRUEsU0FBU2UsWUFBWUEsQ0FBQSxFQUFHOztJQUVwQixPQUFPO01BQ0hoQixNQUFNLEVBQUU7TUFDSixFQUFDZSxJQUFJLEVBQUMsT0FBTyxFQUFFYixLQUFLLEVBQUUsT0FBTyxFQUFDO01BQzlCLEVBQUNhLElBQUksRUFBQyxPQUFPLEVBQUViLEtBQUssRUFBRSxPQUFPLEVBQUM7TUFDOUIsRUFBQ2EsSUFBSSxFQUFDLE9BQU8sRUFBRWIsS0FBSyxFQUFFLE9BQU8sRUFBQyxDQUFDO01BQ25DRCxPQUFPLEVBQUU7SUFDYixDQUFDO0VBQ0w7O0VBRUEsU0FBU2dCLFlBQVlBLENBQUNILFdBQVcsRUFBRTs7SUFFL0IsT0FBTztNQUNIZCxNQUFNLEVBQUU7TUFDSixFQUFDZSxJQUFJLEVBQUMsTUFBTSxFQUFFYixLQUFLLEVBQUVZLFdBQVcsR0FBRyxDQUFDLEVBQUM7TUFDckMsRUFBQ0MsSUFBSSxFQUFDLFFBQVEsRUFBRWIsS0FBSyxFQUFFWSxXQUFXLEVBQUM7TUFDbkMsRUFBQ0MsSUFBSSxFQUFDLE9BQU8sRUFBRWIsS0FBSyxFQUFFWSxXQUFXLEdBQUcsQ0FBQyxFQUFDLENBQUM7TUFDM0NiLE9BQU8sRUFBRTtJQUNiLENBQUM7RUFDTDs7RUFFQSxTQUFTaUIsU0FBU0EsQ0FBQSxFQUFHOztJQUVqQixPQUFPO01BQ0hsQixNQUFNLEVBQUU7TUFDSixFQUFDZSxJQUFJLEVBQUMsS0FBSyxFQUFFYixLQUFLLEVBQUUsU0FBUyxFQUFDO01BQzlCLEVBQUNhLElBQUksRUFBQyxPQUFPLEVBQUViLEtBQUssRUFBRSxTQUFTLEVBQUM7TUFDaEMsRUFBQ2EsSUFBSSxFQUFDLE1BQU0sRUFBRWIsS0FBSyxFQUFFLFNBQVMsRUFBQztNQUMvQixFQUFDYSxJQUFJLEVBQUMsT0FBTyxFQUFFYixLQUFLLEVBQUUsU0FBUyxFQUFDO01BQ2hDLEVBQUNhLElBQUksRUFBQyxPQUFPLEVBQUViLEtBQUssRUFBRSxTQUFTLEVBQUM7TUFDaEMsRUFBQ2EsSUFBSSxFQUFDLFFBQVEsRUFBRWIsS0FBSyxFQUFFLFNBQVMsRUFBQyxDQUFDO01BQ3RDRCxPQUFPLEVBQUU7SUFDYixDQUFDO0VBQ0w7O0VBRUEsU0FBU2tCLFlBQVlBLENBQUNDLGtCQUFrQixFQUFFOztJQUV0QyxPQUFPO01BQ0hwQixNQUFNLEVBQUU7TUFDSixFQUFDZSxJQUFJLEVBQUMsTUFBTSxFQUFFYixLQUFLLEVBQUUsSUFBSSxFQUFDO01BQzFCLEVBQUNhLElBQUksRUFBQyxLQUFLLEVBQUViLEtBQUssRUFBRyxJQUFJLEVBQUM7TUFDMUIsRUFBQ2EsSUFBSSxFQUFDLEtBQUssRUFBRWIsS0FBSyxFQUFFLElBQUksRUFBQztNQUN6QixFQUFDYSxJQUFJLEVBQUMsS0FBSyxFQUFFYixLQUFLLEVBQUUsSUFBSSxFQUFDO01BQ3pCLEVBQUNhLElBQUksRUFBQyxJQUFJLEVBQUViLEtBQUssRUFBRSxJQUFJLEVBQUMsQ0FBQztNQUM3QkQsT0FBTyxFQUFHbUIsa0JBQWtCLEdBQUcsQ0FBQyxHQUFHO0lBQ3ZDLENBQUM7RUFDTDs7RUFFQSxTQUFTQyxlQUFlQSxDQUFBLEVBQUc7O0lBRXZCO0lBQ0E7SUFDQTtJQUNBLE9BQU87TUFDSHJCLE1BQU0sRUFBQztNQUNILEVBQUNlLElBQUksRUFBQyxPQUFPLEVBQUViLEtBQUssRUFBRSxPQUFPLEVBQUM7TUFDOUIsRUFBQ2EsSUFBSSxFQUFDLGFBQWEsRUFBRWIsS0FBSyxFQUFFLGFBQWEsRUFBQztNQUMxQyxFQUFDYSxJQUFJLEVBQUMsY0FBYyxFQUFFYixLQUFLLEVBQUUsY0FBYyxFQUFDO01BQzVDLEVBQUNhLElBQUksRUFBQyxnQkFBZ0IsRUFBRWIsS0FBSyxFQUFFLGdCQUFnQixFQUFDO01BQ2hELEVBQUNhLElBQUksRUFBQyxhQUFhLEVBQUViLEtBQUssRUFBRSxhQUFhLEVBQUM7TUFDMUMsRUFBQ2EsSUFBSSxFQUFDLFNBQVMsRUFBRWIsS0FBSyxFQUFFLFNBQVMsRUFBQztNQUNsQyxFQUFDYSxJQUFJLEVBQUMsUUFBUSxFQUFFYixLQUFLLEVBQUUsUUFBUSxFQUFDO01BQ2hDLEVBQUNhLElBQUksRUFBQyxnQkFBZ0IsRUFBRWIsS0FBSyxFQUFFLGdCQUFnQixFQUFDO01BQ2hELEVBQUNhLElBQUksRUFBQyxRQUFRLEVBQUViLEtBQUssRUFBRSxRQUFRLEVBQUM7TUFDaEMsRUFBQ2EsSUFBSSxFQUFDLFNBQVMsRUFBRWIsS0FBSyxFQUFFLFNBQVMsRUFBQyxDQUNyQzs7TUFDREQsT0FBTyxFQUFFO0lBQ2IsQ0FBQztFQUNMOztFQUVBLFNBQVNxQixhQUFhQSxDQUFBLEVBQUc7SUFDckIsT0FBTztNQUNIdEIsTUFBTSxFQUFDO01BQ0gsRUFBQ2UsSUFBSSxFQUFDLFFBQVEsRUFBRWIsS0FBSyxFQUFFLFFBQVEsRUFBQztNQUNoQyxFQUFDYSxJQUFJLEVBQUMsUUFBUSxFQUFFYixLQUFLLEVBQUUsUUFBUSxFQUFDLENBQUM7TUFDckNELE9BQU8sRUFBRTtJQUNiLENBQUM7RUFDTDs7RUFFQSxTQUFTc0IsY0FBY0EsQ0FBQSxFQUFHO0lBQ3RCLE9BQU87TUFDSHZCLE1BQU0sRUFBQztNQUNILEVBQUNlLElBQUksRUFBQyxRQUFRLEVBQUViLEtBQUssRUFBRSxRQUFRLEVBQUM7TUFDaEMsRUFBQ2EsSUFBSSxFQUFDLE1BQU0sRUFBRWIsS0FBSyxFQUFFLE1BQU0sRUFBQyxDQUFDO01BQ2pDRCxPQUFPLEVBQUUsQ0FBQyxFQUFDO0VBQ25COztFQUVBLFNBQVN1QixZQUFZQSxDQUFBLEVBQUc7SUFDcEIsT0FBTztNQUNIeEIsTUFBTSxFQUFFO01BQ0o7UUFDSWUsSUFBSSxFQUFFLGNBQWM7UUFDcEJiLEtBQUssRUFBRTtNQUNYLENBQUMsQ0FDSjs7TUFDREQsT0FBTyxFQUFFO0lBQ2IsQ0FBQztFQUNMOztFQUVBLElBQUlELE1BQU0sR0FBR1csVUFBVSxDQUFDakIsS0FBSyxDQUFDO0VBQzlCLElBQUkrQixnQkFBZ0IsR0FBR2hDLE1BQU0sQ0FBQ2lDLGNBQWMsQ0FBQyxDQUFDO0VBQzlDLElBQUlDLGNBQWMsR0FBR2xDLE1BQU0sQ0FBQ21DLFlBQVksQ0FBQyxDQUFDOztFQUUxQyxLQUFJLElBQUk3QixTQUFTLElBQUlDLE1BQU0sRUFBRTs7SUFFekIsUUFBT0QsU0FBUztNQUNaLEtBQUssY0FBYztRQUNmQyxNQUFNLENBQUNELFNBQVMsQ0FBQyxHQUFHYyxTQUFTLENBQUNZLGdCQUFnQixDQUFDO1FBQy9DOztNQUVKLEtBQUssaUJBQWlCO1FBQ2xCekIsTUFBTSxDQUFDRCxTQUFTLENBQUMsR0FBR2lCLFlBQVksQ0FBQyxDQUFDO1FBQ2xDOztNQUVKLEtBQUssV0FBVztRQUNaaEIsTUFBTSxDQUFDRCxTQUFTLENBQUMsR0FBR2tCLFlBQVksQ0FBQ1UsY0FBYyxDQUFDO1FBQ2hEOztNQUVKLEtBQUssYUFBYTtRQUNkM0IsTUFBTSxDQUFDRCxTQUFTLENBQUMsR0FBR3NCLGVBQWUsQ0FBQyxDQUFDO1FBQ3JDOztNQUVKLEtBQUssWUFBWTtRQUNickIsTUFBTSxDQUFDRCxTQUFTLENBQUMsR0FBR3VCLGFBQWEsQ0FBQyxDQUFDO1FBQ25DOztNQUVKLEtBQUssYUFBYTtRQUNkdEIsTUFBTSxDQUFDRCxTQUFTLENBQUMsR0FBR3dCLGNBQWMsQ0FBQyxDQUFDO1FBQ3BDOztNQUVKLEtBQUssY0FBYztNQUNuQixLQUFLLFlBQVk7UUFDYnZCLE1BQU0sQ0FBQ0QsU0FBUyxDQUFDLEdBQUdtQixTQUFTLENBQUMsQ0FBQztRQUMvQjs7TUFFSixLQUFLLGdCQUFnQixDQUFFO1VBQ25CLElBQUlFLGtCQUFrQixHQUFHLEtBQUs7VUFDOUJwQixNQUFNLENBQUNELFNBQVMsQ0FBQyxHQUFHb0IsWUFBWSxDQUFDQyxrQkFBa0IsQ0FBQztVQUNwRDtRQUNKOztNQUVBLEtBQUssY0FBYyxDQUFFO1VBQ2pCLElBQUlBLGtCQUFrQixHQUFHLElBQUk7VUFDN0JwQixNQUFNLENBQUNELFNBQVMsQ0FBQyxHQUFHb0IsWUFBWSxDQUFDQyxrQkFBa0IsQ0FBQztVQUNwRDtRQUNKOztNQUVBLEtBQUssV0FBVztRQUNacEIsTUFBTSxDQUFDRCxTQUFTLENBQUMsR0FBR3lCLFlBQVksQ0FBQyxDQUFDO1FBQ2xDOztNQUVKO1FBQ0k7SUFDUjtFQUNKOztFQUVBLE9BQU94QixNQUFNO0FBQ2pCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9TdHlsZVV0aWxzLmpzPzM5MjIiXSwic291cmNlc0NvbnRlbnQiOlsiXG4vKipcbiAqXG4gKiBAcGFyYW0geyp9IGF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7Kn0gZWRpdG9yXG4gKi9cbmV4cG9ydCB2YXIgY3JlYXRlU3R5bGUgPSBmdW5jdGlvbihhdHRyaWJ1dGVzLCBlZGl0b3IpIHtcblxuICAgIHZhciBzdHlsZSA9IHt9O1xuXG4gICAgZm9yKHZhciBpID0gMDsgaSA8IGF0dHJpYnV0ZXMubGVuZ3RoOyArK2kpIHtcblxuICAgICAgICBzdHlsZVthdHRyaWJ1dGVzW2ldXSA9IG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRzID0gZ2V0U3R5bGVEZWZhdWx0VmFsdWVzKHN0eWxlLCBlZGl0b3IpO1xuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGF0dHJpYnV0ZXMubGVuZ3RoOyArK2kpIHtcblxuICAgICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1tpXTtcbiAgICAgICAgc3R5bGVbYXR0cmlidXRlXSA9IGRlZmF1bHRzW2F0dHJpYnV0ZV0udmFsdWVzW2RlZmF1bHRzW2F0dHJpYnV0ZV0uZGVmYXVsdF0udmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0eWxlO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHNvdXJjZVxuICogQHBhcmFtIGRlc3RpbmF0aW9uXG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZXhwb3J0IHZhciBjb3B5U3R5bGUgPSBmdW5jdGlvbihzb3VyY2UsIGRlc3RpbmF0aW9uKSB7XG5cbiAgICBmb3IodmFyIGF0dHJpYnV0ZSBpbiBkZXN0aW5hdGlvbikge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwgYXR0cmlidXRlKSkge1xuICAgICAgICAgICAgZGVzdGluYXRpb25bYXR0cmlidXRlXSA9IHNvdXJjZVthdHRyaWJ1dGVdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlc3RpbmF0aW9uO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHNvdXJjZVxuICogQHBhcmFtIGRlc3RpbmF0aW9uXG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZXhwb3J0IHZhciBpc1N0eWxlRXF1YWwgPSBmdW5jdGlvbihzb3VyY2UsIGRlc3RpbmF0aW9uKSB7XG5cbiAgICBmb3IodmFyIGF0dHJpYnV0ZSBpbiBkZXN0aW5hdGlvbikge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwgYXR0cmlidXRlKSAgJiYgc291cmNlW2F0dHJpYnV0ZV0gIT09IGRlc3RpbmF0aW9uW2F0dHJpYnV0ZV0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHNvdXJjZVxuICogQHJldHVybnMge3t9fVxuICovXG5leHBvcnQgdmFyIGNsb25lU3R5bGUgPSBmdW5jdGlvbihzb3VyY2UpIHtcblxuICAgIHZhciBjbG9uZSA9IHt9O1xuXG4gICAgZm9yKHZhciBhdHRyaWJ1dGUgaW4gc291cmNlKSB7XG4gICAgICAgIGNsb25lW2F0dHJpYnV0ZV0gPSBzb3VyY2VbYXR0cmlidXRlXTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xvbmU7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0gc3R5bGVcbiAqIEBwYXJhbSBlZGl0b3JcbiAqIEByZXR1cm5zIHt7fX1cbiAqL1xuZXhwb3J0IHZhciBnZXRTdHlsZURlZmF1bHRWYWx1ZXMgPSBmdW5jdGlvbihzdHlsZSwgZWRpdG9yKSB7XG5cbiAgICBmdW5jdGlvbiBnZXRXaWR0aHMobm9ybWFsV2lkdGgpIHtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWVzOiBbXG4gICAgICAgICAgICAgICAge25hbWU6J1RoaW4nLCB2YWx1ZTogbm9ybWFsV2lkdGggLyAzfSxcbiAgICAgICAgICAgICAgICB7bmFtZTonTm9ybWFsJywgdmFsdWU6IG5vcm1hbFdpZHRofSxcbiAgICAgICAgICAgICAgICB7bmFtZTonVGhpY2snLCB2YWx1ZTogbm9ybWFsV2lkdGggKiAzfSxcbiAgICAgICAgICAgICAgICB7bmFtZTonVmVyeSBUaGljaycsIHZhbHVlOiBub3JtYWxXaWR0aCAqIDl9XSxcbiAgICAgICAgICAgIGRlZmF1bHQ6IDFcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRMaW5lSm9pbnMoKSB7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlczogW1xuICAgICAgICAgICAgICAgIHtuYW1lOidNaXRlcicsIHZhbHVlOiAnbWl0ZXInfSxcbiAgICAgICAgICAgICAgICB7bmFtZTonUm91bmQnLCB2YWx1ZTogJ3JvdW5kJ30sXG4gICAgICAgICAgICAgICAge25hbWU6J0JldmVsJywgdmFsdWU6ICdiZXZlbCd9XSxcbiAgICAgICAgICAgIGRlZmF1bHQ6IDBcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRGb250U2l6ZXMobm9ybWFsV2lkdGgpIHtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWVzOiBbXG4gICAgICAgICAgICAgICAge25hbWU6J1RoaW4nLCB2YWx1ZTogbm9ybWFsV2lkdGggLyAyfSxcbiAgICAgICAgICAgICAgICB7bmFtZTonTm9ybWFsJywgdmFsdWU6IG5vcm1hbFdpZHRofSxcbiAgICAgICAgICAgICAgICB7bmFtZTonVGhpY2snLCB2YWx1ZTogbm9ybWFsV2lkdGggKiA0fV0sXG4gICAgICAgICAgICBkZWZhdWx0OiAxXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Q29sb3JzKCkge1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZXM6IFtcbiAgICAgICAgICAgICAgICB7bmFtZToncmVkJywgdmFsdWU6ICcjZmYwMDAwJ30sXG4gICAgICAgICAgICAgICAge25hbWU6J2dyZWVuJywgdmFsdWU6ICcjMDBmZjAwJ30sXG4gICAgICAgICAgICAgICAge25hbWU6J2JsdWUnLCB2YWx1ZTogJyMwMDAwZmYnfSxcbiAgICAgICAgICAgICAgICB7bmFtZTond2hpdGUnLCB2YWx1ZTogJyNmZmZmZmYnfSxcbiAgICAgICAgICAgICAgICB7bmFtZTonYmxhY2snLCB2YWx1ZTogJyMwMDAwMDAnfSxcbiAgICAgICAgICAgICAgICB7bmFtZToneWVsbG93JywgdmFsdWU6ICcjZmZmZjAwJ31dLFxuICAgICAgICAgICAgZGVmYXVsdDogMFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldE9wYWNpdGllcyhkZWZhdWx0VHJhbnNwYXJlbnQpIHtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWVzOiBbXG4gICAgICAgICAgICAgICAge25hbWU6JzEwMCUnLCB2YWx1ZTogMS4wMH0sXG4gICAgICAgICAgICAgICAge25hbWU6Jzc1JScsIHZhbHVlOiAgMC43NX0sXG4gICAgICAgICAgICAgICAge25hbWU6JzUwJScsIHZhbHVlOiAwLjUwfSxcbiAgICAgICAgICAgICAgICB7bmFtZTonMjUlJywgdmFsdWU6IDAuMjV9LFxuICAgICAgICAgICAgICAgIHtuYW1lOicwJScsIHZhbHVlOiAwLjAwfV0sXG4gICAgICAgICAgICBkZWZhdWx0OiAoZGVmYXVsdFRyYW5zcGFyZW50ID8gNCA6IDApXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Rm9udEZhbWlsaWVzKCkge1xuXG4gICAgICAgIC8vIFRPRE86IExvY2FsaXplP1xuICAgICAgICAvLyBUT0RPOiBWYWxpZGF0ZSBmb250cyB3aXRoIGRlc2lnblxuICAgICAgICAvLyBTb3VyY2U6IGh0dHA6Ly93d3cud2ViZGVzaWduZGV2LmNvbS93ZWItZGV2ZWxvcG1lbnQvMTYtZ29yZ2VvdXMtd2ViLXNhZmUtZm9udHMtdG8tdXNlLXdpdGgtY3NzXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZXM6W1xuICAgICAgICAgICAgICAgIHtuYW1lOidBcmlhbCcsIHZhbHVlOiAnQXJpYWwnfSxcbiAgICAgICAgICAgICAgICB7bmFtZTonQXJpYWwgQmxhY2snLCB2YWx1ZTogJ0FyaWFsIEJsYWNrJ30sXG4gICAgICAgICAgICAgICAge25hbWU6J0FyaWFsIE5hcnJvdycsIHZhbHVlOiAnQXJpYWwgTmFycm93J30sXG4gICAgICAgICAgICAgICAge25hbWU6J0NlbnR1cnkgR290aGljJywgdmFsdWU6ICdDZW50dXJ5IEdvdGhpYyd9LFxuICAgICAgICAgICAgICAgIHtuYW1lOidDb3VyaWVyIE5ldycsIHZhbHVlOiAnQ291cmllciBOZXcnfSxcbiAgICAgICAgICAgICAgICB7bmFtZTonR2VvcmdpYScsIHZhbHVlOiAnR2VvcmdpYSd9LFxuICAgICAgICAgICAgICAgIHtuYW1lOidJbXBhY3QnLCB2YWx1ZTogJ0ltcGFjdCd9LFxuICAgICAgICAgICAgICAgIHtuYW1lOidMdWNpZGEgQ29uc29sZScsIHZhbHVlOiAnTHVjaWRhIENvbnNvbGUnfSxcbiAgICAgICAgICAgICAgICB7bmFtZTonVGFob21hJywgdmFsdWU6ICdUYWhvbWEnfSxcbiAgICAgICAgICAgICAgICB7bmFtZTonVmVyZGFuYScsIHZhbHVlOiAnVmVyZGFuYSd9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgZGVmYXVsdDogMFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEZvbnRTdHlsZXMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZXM6W1xuICAgICAgICAgICAgICAgIHtuYW1lOidOb3JtYWwnLCB2YWx1ZTogJ25vcm1hbCd9LFxuICAgICAgICAgICAgICAgIHtuYW1lOidJdGFsaWMnLCB2YWx1ZTogJ2l0YWxpYyd9XSxcbiAgICAgICAgICAgIGRlZmF1bHQ6IDBcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRGb250V2VpZ2h0cygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlczpbXG4gICAgICAgICAgICAgICAge25hbWU6J05vcm1hbCcsIHZhbHVlOiAnbm9ybWFsJ30sXG4gICAgICAgICAgICAgICAge25hbWU6J0JvbGQnLCB2YWx1ZTogJ2JvbGQnfV0sXG4gICAgICAgICAgICBkZWZhdWx0OiAwfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTdmdTdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdEZWZhdWx0VmFsdWUnLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJzxzdmcgaGVpZ2h0PVwiMTAwXCIgd2lkdGg9XCIxMDBcIiB2aWV3Qm94PVwiMCAwIDEwMCAxMDBcIj48Y2lyY2xlIGN4PVwiNTBcIiBjeT1cIjUwXCIgcj1cIjQwXCIgc3Ryb2tlPVwiYmxhY2tcIiBzdHJva2Utd2lkdGg9XCIzXCIgZmlsbD1cInJlZFwiIC8+PC9zdmc+J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBkZWZhdWx0OiAwXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlcyA9IGNsb25lU3R5bGUoc3R5bGUpO1xuICAgIHZhciBub3JtYVN0cm9rZVdpZHRoID0gZWRpdG9yLmdldFN0cm9rZVdpZHRoKCk7XG4gICAgdmFyIG5vcm1hRm9udFdpZHRoID0gZWRpdG9yLmdldEZvbnRXaWR0aCgpO1xuXG4gICAgZm9yKHZhciBhdHRyaWJ1dGUgaW4gdmFsdWVzKSB7XG5cbiAgICAgICAgc3dpdGNoKGF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgY2FzZSAnc3Ryb2tlLXdpZHRoJzpcbiAgICAgICAgICAgICAgICB2YWx1ZXNbYXR0cmlidXRlXSA9IGdldFdpZHRocyhub3JtYVN0cm9rZVdpZHRoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnc3Ryb2tlLWxpbmVqb2luJzpcbiAgICAgICAgICAgICAgICB2YWx1ZXNbYXR0cmlidXRlXSA9IGdldExpbmVKb2lucygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdmb250LXNpemUnOlxuICAgICAgICAgICAgICAgIHZhbHVlc1thdHRyaWJ1dGVdID0gZ2V0Rm9udFNpemVzKG5vcm1hRm9udFdpZHRoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnZm9udC1mYW1pbHknOlxuICAgICAgICAgICAgICAgIHZhbHVlc1thdHRyaWJ1dGVdID0gZ2V0Rm9udEZhbWlsaWVzKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ2ZvbnQtc3R5bGUnOlxuICAgICAgICAgICAgICAgIHZhbHVlc1thdHRyaWJ1dGVdID0gZ2V0Rm9udFN0eWxlcygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdmb250LXdlaWdodCc6XG4gICAgICAgICAgICAgICAgdmFsdWVzW2F0dHJpYnV0ZV0gPSBnZXRGb250V2VpZ2h0cygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdzdHJva2UtY29sb3InOlxuICAgICAgICAgICAgY2FzZSAnZmlsbC1jb2xvcic6XG4gICAgICAgICAgICAgICAgdmFsdWVzW2F0dHJpYnV0ZV0gPSBnZXRDb2xvcnMoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnc3Ryb2tlLW9wYWNpdHknOiB7XG4gICAgICAgICAgICAgICAgbGV0IGRlZmF1bHRUcmFuc3BhcmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhbHVlc1thdHRyaWJ1dGVdID0gZ2V0T3BhY2l0aWVzKGRlZmF1bHRUcmFuc3BhcmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ2ZpbGwtb3BhY2l0eSc6IHtcbiAgICAgICAgICAgICAgICBsZXQgZGVmYXVsdFRyYW5zcGFyZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbYXR0cmlidXRlXSA9IGdldE9wYWNpdGllcyhkZWZhdWx0VHJhbnNwYXJlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICd0ZXh0LWRhdGEnOlxuICAgICAgICAgICAgICAgIHZhbHVlc1thdHRyaWJ1dGVdID0gZ2V0U3ZnU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWVzO1xufTtcbiJdLCJuYW1lcyI6WyJjcmVhdGVTdHlsZSIsImF0dHJpYnV0ZXMiLCJlZGl0b3IiLCJzdHlsZSIsImkiLCJsZW5ndGgiLCJkZWZhdWx0cyIsImdldFN0eWxlRGVmYXVsdFZhbHVlcyIsImF0dHJpYnV0ZSIsInZhbHVlcyIsImRlZmF1bHQiLCJ2YWx1ZSIsImNvcHlTdHlsZSIsInNvdXJjZSIsImRlc3RpbmF0aW9uIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaXNTdHlsZUVxdWFsIiwiY2xvbmVTdHlsZSIsImNsb25lIiwiZ2V0V2lkdGhzIiwibm9ybWFsV2lkdGgiLCJuYW1lIiwiZ2V0TGluZUpvaW5zIiwiZ2V0Rm9udFNpemVzIiwiZ2V0Q29sb3JzIiwiZ2V0T3BhY2l0aWVzIiwiZGVmYXVsdFRyYW5zcGFyZW50IiwiZ2V0Rm9udEZhbWlsaWVzIiwiZ2V0Rm9udFN0eWxlcyIsImdldEZvbnRXZWlnaHRzIiwiZ2V0U3ZnU3RyaW5nIiwibm9ybWFTdHJva2VXaWR0aCIsImdldFN0cm9rZVdpZHRoIiwibm9ybWFGb250V2lkdGgiLCJnZXRGb250V2lkdGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/StyleUtils.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/CloneMarkup.js":
/*!************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/CloneMarkup.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CloneMarkup: () => (/* binding */ CloneMarkup)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n\n\n\n\n/**\n *\n * @param editor\n * @param id\n * @param markup\n * @param position\n * @constructor\n */\nfunction CloneMarkup(editor, id, markup, position) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'CLONE-MARKUP', id);\n\n  this.clone = markup.clone();\n  this.clone.id = id;\n  this.position = { x: position.x, y: position.y };\n}\n\nCloneMarkup.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nCloneMarkup.prototype.constructor = CloneMarkup;\n\nvar proto = CloneMarkup.prototype;\n\nproto.redo = function () {\n\n  var editor = this.editor;\n  var clone = this.clone;\n  var position = this.position;\n\n  if (editor.getMarkup(this.targetId)) {\n    return;\n  }\n\n  var markup = clone.clone();\n  markup.setPosition(position.x, position.y);\n\n  editor.addMarkup(markup);\n};\n\nproto.undo = function () {\n\n  var markup = this.editor.getMarkup(this.targetId);\n  markup && this.editor.removeMarkup(markup);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9DbG9uZU1hcmt1cC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFhOztBQUU2Qjs7QUFFdEM7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNXLFNBQVNDLFdBQVdBLENBQUNDLE1BQU0sRUFBRUMsRUFBRSxFQUFFQyxNQUFNLEVBQUVDLFFBQVEsRUFBRTs7RUFFdERMLG1EQUFVLENBQUNNLElBQUksQ0FBQyxJQUFJLEVBQUVKLE1BQU0sRUFBRSxjQUFjLEVBQUVDLEVBQUUsQ0FBQzs7RUFFakQsSUFBSSxDQUFDSSxLQUFLLEdBQUdILE1BQU0sQ0FBQ0csS0FBSyxDQUFDLENBQUM7RUFDM0IsSUFBSSxDQUFDQSxLQUFLLENBQUNKLEVBQUUsR0FBR0EsRUFBRTtFQUNsQixJQUFJLENBQUNFLFFBQVEsR0FBRyxFQUFDRyxDQUFDLEVBQUVILFFBQVEsQ0FBQ0csQ0FBQyxFQUFFQyxDQUFDLEVBQUVKLFFBQVEsQ0FBQ0ksQ0FBQyxFQUFDO0FBQ2xEOztBQUVBUixXQUFXLENBQUNTLFNBQVMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUNaLG1EQUFVLENBQUNVLFNBQVMsQ0FBQztBQUMzRFQsV0FBVyxDQUFDUyxTQUFTLENBQUNHLFdBQVcsR0FBR1osV0FBVzs7QUFFL0MsSUFBSWEsS0FBSyxHQUFHYixXQUFXLENBQUNTLFNBQVM7O0FBRWpDSSxLQUFLLENBQUNDLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFJYixNQUFNLEdBQUcsSUFBSSxDQUFDQSxNQUFNO0VBQ3hCLElBQUlLLEtBQUssR0FBRyxJQUFJLENBQUNBLEtBQUs7RUFDdEIsSUFBSUYsUUFBUSxHQUFHLElBQUksQ0FBQ0EsUUFBUTs7RUFFNUIsSUFBSUgsTUFBTSxDQUFDYyxTQUFTLENBQUMsSUFBSSxDQUFDQyxRQUFRLENBQUMsRUFBRTtJQUNqQztFQUNKOztFQUVBLElBQUliLE1BQU0sR0FBR0csS0FBSyxDQUFDQSxLQUFLLENBQUMsQ0FBQztFQUMxQkgsTUFBTSxDQUFDYyxXQUFXLENBQUNiLFFBQVEsQ0FBQ0csQ0FBQyxFQUFFSCxRQUFRLENBQUNJLENBQUMsQ0FBQzs7RUFFMUNQLE1BQU0sQ0FBQ2lCLFNBQVMsQ0FBQ2YsTUFBTSxDQUFDO0FBQzVCLENBQUM7O0FBRURVLEtBQUssQ0FBQ00sSUFBSSxHQUFHLFlBQVc7O0VBRXBCLElBQUloQixNQUFNLEdBQUcsSUFBSSxDQUFDRixNQUFNLENBQUNjLFNBQVMsQ0FBQyxJQUFJLENBQUNDLFFBQVEsQ0FBQztFQUNqRGIsTUFBTSxJQUFJLElBQUksQ0FBQ0YsTUFBTSxDQUFDbUIsWUFBWSxDQUFDakIsTUFBTSxDQUFDO0FBQzlDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9lZGl0LWFjdGlvbnMvQ2xvbmVNYXJrdXAuanM/ZjU2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IEVkaXRBY3Rpb24gfSBmcm9tICcuL0VkaXRBY3Rpb24nO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWRpdG9yXG4gICAgICogQHBhcmFtIGlkXG4gICAgICogQHBhcmFtIG1hcmt1cFxuICAgICAqIEBwYXJhbSBwb3NpdGlvblxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBDbG9uZU1hcmt1cChlZGl0b3IsIGlkLCBtYXJrdXAsIHBvc2l0aW9uKSB7XG5cbiAgICAgICAgRWRpdEFjdGlvbi5jYWxsKHRoaXMsIGVkaXRvciwgJ0NMT05FLU1BUktVUCcsIGlkKTtcblxuICAgICAgICB0aGlzLmNsb25lID0gbWFya3VwLmNsb25lKCk7XG4gICAgICAgIHRoaXMuY2xvbmUuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHt4OiBwb3NpdGlvbi54LCB5OiBwb3NpdGlvbi55fTtcbiAgICB9XG5cbiAgICBDbG9uZU1hcmt1cC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVkaXRBY3Rpb24ucHJvdG90eXBlKTtcbiAgICBDbG9uZU1hcmt1cC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDbG9uZU1hcmt1cDtcblxuICAgIHZhciBwcm90byA9IENsb25lTWFya3VwLnByb3RvdHlwZTtcblxuICAgIHByb3RvLnJlZG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgIHZhciBjbG9uZSA9IHRoaXMuY2xvbmU7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IHRoaXMucG9zaXRpb247XG5cbiAgICAgICAgaWYgKGVkaXRvci5nZXRNYXJrdXAodGhpcy50YXJnZXRJZCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtYXJrdXAgPSBjbG9uZS5jbG9uZSgpO1xuICAgICAgICBtYXJrdXAuc2V0UG9zaXRpb24ocG9zaXRpb24ueCwgcG9zaXRpb24ueSk7XG5cbiAgICAgICAgZWRpdG9yLmFkZE1hcmt1cChtYXJrdXApO1xuICAgIH07XG5cbiAgICBwcm90by51bmRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIG1hcmt1cCA9IHRoaXMuZWRpdG9yLmdldE1hcmt1cCh0aGlzLnRhcmdldElkKTtcbiAgICAgICAgbWFya3VwICYmIHRoaXMuZWRpdG9yLnJlbW92ZU1hcmt1cChtYXJrdXApO1xuICAgIH07XG5cblxuIl0sIm5hbWVzIjpbIkVkaXRBY3Rpb24iLCJDbG9uZU1hcmt1cCIsImVkaXRvciIsImlkIiwibWFya3VwIiwicG9zaXRpb24iLCJjYWxsIiwiY2xvbmUiLCJ4IiwieSIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwicHJvdG8iLCJyZWRvIiwiZ2V0TWFya3VwIiwidGFyZ2V0SWQiLCJzZXRQb3NpdGlvbiIsImFkZE1hcmt1cCIsInVuZG8iLCJyZW1vdmVNYXJrdXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/CloneMarkup.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/CreateArrow.js":
/*!************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/CreateArrow.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CreateArrow: () => (/* binding */ CreateArrow)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _MarkupArrow__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MarkupArrow */ \"./extensions/Markup/core/MarkupArrow.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n\n\n\n\n\n\n/**\n * @constructor\n */\nfunction CreateArrow(editor, id, head, tail, style) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'CREATE-ARROW', id);\n\n  this.selectOnExecution = false;\n  this.tail = tail;\n  this.head = head;\n  this.style = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_2__.cloneStyle)(style);\n}\n\nCreateArrow.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nCreateArrow.prototype.constructor = CreateArrow;\n\nvar proto = CreateArrow.prototype;\n\nproto.redo = function () {\n\n  var editor = this.editor;\n  var arrow = new _MarkupArrow__WEBPACK_IMPORTED_MODULE_1__.MarkupArrow(this.targetId, editor);\n\n  editor.addMarkup(arrow);\n\n  // Confusing naming here. in arrow.set the first two numbers are\n  // the point you drag from and the second two are the point you\n  // drag to. So the head point is actually where the tail of the\n  // arrow is positioned and the tail point is the head is positioned.\n\n  //TODO: In MarkupArrow \"set\" function has tail x, tail y, head x, head y but used here in the opposite way\n  arrow.set(this.head.x, this.head.y, this.tail.x, this.tail.y);\n  arrow.setStyle(this.style);\n};\n\nproto.undo = function () {\n\n  var markup = this.editor.getMarkup(this.targetId);\n  markup && this.editor.removeMarkup(markup);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9DcmVhdGVBcnJvdy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWE7O0FBRTZCO0FBQ0c7QUFDRjs7QUFFdkM7QUFDSjtBQUNBO0FBQ1csU0FBU0csV0FBV0EsQ0FBQ0MsTUFBTSxFQUFFQyxFQUFFLEVBQUVDLElBQUksRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUU7O0VBRXZEUixtREFBVSxDQUFDUyxJQUFJLENBQUMsSUFBSSxFQUFFTCxNQUFNLEVBQUUsY0FBYyxFQUFFQyxFQUFFLENBQUM7O0VBRWpELElBQUksQ0FBQ0ssaUJBQWlCLEdBQUcsS0FBSztFQUM5QixJQUFJLENBQUNILElBQUksR0FBR0EsSUFBSTtFQUNoQixJQUFJLENBQUNELElBQUksR0FBR0EsSUFBSTtFQUNoQixJQUFJLENBQUNFLEtBQUssR0FBR04sdURBQVUsQ0FBQ00sS0FBSyxDQUFDO0FBQ2xDOztBQUVBTCxXQUFXLENBQUNRLFNBQVMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUNiLG1EQUFVLENBQUNXLFNBQVMsQ0FBQztBQUMzRFIsV0FBVyxDQUFDUSxTQUFTLENBQUNHLFdBQVcsR0FBR1gsV0FBVzs7QUFFL0MsSUFBSVksS0FBSyxHQUFHWixXQUFXLENBQUNRLFNBQVM7O0FBRWpDSSxLQUFLLENBQUNDLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFJWixNQUFNLEdBQUcsSUFBSSxDQUFDQSxNQUFNO0VBQ3hCLElBQUlhLEtBQUssR0FBRyxJQUFJaEIscURBQVcsQ0FBQyxJQUFJLENBQUNpQixRQUFRLEVBQUVkLE1BQU0sQ0FBQzs7RUFFbERBLE1BQU0sQ0FBQ2UsU0FBUyxDQUFDRixLQUFLLENBQUM7O0VBRXZCO0VBQ0E7RUFDQTtFQUNBOztFQUVBO0VBQ0FBLEtBQUssQ0FBQ0csR0FBRyxDQUFDLElBQUksQ0FBQ2QsSUFBSSxDQUFDZSxDQUFDLEVBQUUsSUFBSSxDQUFDZixJQUFJLENBQUNnQixDQUFDLEVBQUUsSUFBSSxDQUFDZixJQUFJLENBQUNjLENBQUMsRUFBRSxJQUFJLENBQUNkLElBQUksQ0FBQ2UsQ0FBQyxDQUFDO0VBQzdETCxLQUFLLENBQUNNLFFBQVEsQ0FBQyxJQUFJLENBQUNmLEtBQUssQ0FBQztBQUM5QixDQUFDOztBQUVETyxLQUFLLENBQUNTLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFJQyxNQUFNLEdBQUcsSUFBSSxDQUFDckIsTUFBTSxDQUFDc0IsU0FBUyxDQUFDLElBQUksQ0FBQ1IsUUFBUSxDQUFDO0VBQ2pETyxNQUFNLElBQUksSUFBSSxDQUFDckIsTUFBTSxDQUFDdUIsWUFBWSxDQUFDRixNQUFNLENBQUM7QUFDOUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9DcmVhdGVBcnJvdy5qcz81OTNlIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRWRpdEFjdGlvbiB9IGZyb20gJy4vRWRpdEFjdGlvbic7XG5pbXBvcnQgeyBNYXJrdXBBcnJvdyB9IGZyb20gJy4uL01hcmt1cEFycm93JztcbmltcG9ydCB7IGNsb25lU3R5bGUgfSBmcm9tICcuLi9TdHlsZVV0aWxzJztcblxuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBDcmVhdGVBcnJvdyhlZGl0b3IsIGlkLCBoZWFkLCB0YWlsLCBzdHlsZSkge1xuXG4gICAgICAgIEVkaXRBY3Rpb24uY2FsbCh0aGlzLCBlZGl0b3IsICdDUkVBVEUtQVJST1cnLCBpZCk7XG5cbiAgICAgICAgdGhpcy5zZWxlY3RPbkV4ZWN1dGlvbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRhaWwgPSB0YWlsO1xuICAgICAgICB0aGlzLmhlYWQgPSBoZWFkO1xuICAgICAgICB0aGlzLnN0eWxlID0gY2xvbmVTdHlsZShzdHlsZSk7XG4gICAgfVxuXG4gICAgQ3JlYXRlQXJyb3cucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFZGl0QWN0aW9uLnByb3RvdHlwZSk7XG4gICAgQ3JlYXRlQXJyb3cucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ3JlYXRlQXJyb3c7XG5cbiAgICB2YXIgcHJvdG8gPSBDcmVhdGVBcnJvdy5wcm90b3R5cGU7XG5cbiAgICBwcm90by5yZWRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgICAgICB2YXIgYXJyb3cgPSBuZXcgTWFya3VwQXJyb3codGhpcy50YXJnZXRJZCwgZWRpdG9yKTtcblxuICAgICAgICBlZGl0b3IuYWRkTWFya3VwKGFycm93KTtcblxuICAgICAgICAvLyBDb25mdXNpbmcgbmFtaW5nIGhlcmUuIGluIGFycm93LnNldCB0aGUgZmlyc3QgdHdvIG51bWJlcnMgYXJlXG4gICAgICAgIC8vIHRoZSBwb2ludCB5b3UgZHJhZyBmcm9tIGFuZCB0aGUgc2Vjb25kIHR3byBhcmUgdGhlIHBvaW50IHlvdVxuICAgICAgICAvLyBkcmFnIHRvLiBTbyB0aGUgaGVhZCBwb2ludCBpcyBhY3R1YWxseSB3aGVyZSB0aGUgdGFpbCBvZiB0aGVcbiAgICAgICAgLy8gYXJyb3cgaXMgcG9zaXRpb25lZCBhbmQgdGhlIHRhaWwgcG9pbnQgaXMgdGhlIGhlYWQgaXMgcG9zaXRpb25lZC5cblxuICAgICAgICAvL1RPRE86IEluIE1hcmt1cEFycm93IFwic2V0XCIgZnVuY3Rpb24gaGFzIHRhaWwgeCwgdGFpbCB5LCBoZWFkIHgsIGhlYWQgeSBidXQgdXNlZCBoZXJlIGluIHRoZSBvcHBvc2l0ZSB3YXlcbiAgICAgICAgYXJyb3cuc2V0KHRoaXMuaGVhZC54LCB0aGlzLmhlYWQueSwgdGhpcy50YWlsLngsIHRoaXMudGFpbC55KTtcbiAgICAgICAgYXJyb3cuc2V0U3R5bGUodGhpcy5zdHlsZSk7XG4gICAgfTtcblxuICAgIHByb3RvLnVuZG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgbWFya3VwID0gdGhpcy5lZGl0b3IuZ2V0TWFya3VwKHRoaXMudGFyZ2V0SWQpO1xuICAgICAgICBtYXJrdXAgJiYgdGhpcy5lZGl0b3IucmVtb3ZlTWFya3VwKG1hcmt1cCk7XG4gICAgfTtcblxuIl0sIm5hbWVzIjpbIkVkaXRBY3Rpb24iLCJNYXJrdXBBcnJvdyIsImNsb25lU3R5bGUiLCJDcmVhdGVBcnJvdyIsImVkaXRvciIsImlkIiwiaGVhZCIsInRhaWwiLCJzdHlsZSIsImNhbGwiLCJzZWxlY3RPbkV4ZWN1dGlvbiIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwicHJvdG8iLCJyZWRvIiwiYXJyb3ciLCJ0YXJnZXRJZCIsImFkZE1hcmt1cCIsInNldCIsIngiLCJ5Iiwic2V0U3R5bGUiLCJ1bmRvIiwibWFya3VwIiwiZ2V0TWFya3VwIiwicmVtb3ZlTWFya3VwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/CreateArrow.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/CreateCallout.js":
/*!**************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/CreateCallout.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CreateCallout: () => (/* binding */ CreateCallout)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _MarkupCallout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MarkupCallout */ \"./extensions/Markup/core/MarkupCallout.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n\n\n\n\n\n\n/**\n *\n * @param editor\n * @param id\n * @param position\n * @param size\n * @param text\n * @param style\n * @constructor\n */\nfunction CreateCallout(editor, id, position, size, text, style, isFrameUsed) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'CREATE-CALLOUT', id);\n\n  this.text = text;\n  this.position = { x: position.x, y: position.y };\n  this.size = { x: size.x, y: size.y };\n  this.style = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_2__.cloneStyle)(style);\n  this.isFrameUsed = isFrameUsed;\n}\n\nCreateCallout.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nCreateCallout.prototype.constructor = CreateCallout;\n\nvar proto = CreateCallout.prototype;\n\nproto.redo = function () {\n\n  var editor = this.editor;\n  var position = this.position;\n  var size = this.size;\n\n  var callout = new _MarkupCallout__WEBPACK_IMPORTED_MODULE_1__.MarkupCallout(this.targetId, editor, size);\n\n  editor.addMarkup(callout);\n\n  callout.setIsFilledFrameUsed(this.isFrameUsed);\n  callout.setText(this.text);\n  callout.setSize(position, size.x, size.y);\n  callout.setStyle(this.style);\n};\n\nproto.undo = function () {\n\n  var markup = this.editor.getMarkup(this.targetId);\n  if (markup) {\n    this.editor.removeMarkup(markup);\n    markup.destroy();\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9DcmVhdGVDYWxsb3V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBYTs7QUFFNkI7QUFDTztBQUNOOztBQUV2QztBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNXLFNBQVNHLGFBQWFBLENBQUNDLE1BQU0sRUFBRUMsRUFBRSxFQUFFQyxRQUFRLEVBQUVDLElBQUksRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUVDLFdBQVcsRUFBRTs7RUFFaEZWLG1EQUFVLENBQUNXLElBQUksQ0FBQyxJQUFJLEVBQUVQLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRUMsRUFBRSxDQUFDOztFQUVuRCxJQUFJLENBQUNHLElBQUksR0FBR0EsSUFBSTtFQUNoQixJQUFJLENBQUNGLFFBQVEsR0FBRyxFQUFDTSxDQUFDLEVBQUVOLFFBQVEsQ0FBQ00sQ0FBQyxFQUFFQyxDQUFDLEVBQUVQLFFBQVEsQ0FBQ08sQ0FBQyxFQUFDO0VBQzlDLElBQUksQ0FBQ04sSUFBSSxHQUFHLEVBQUNLLENBQUMsRUFBRUwsSUFBSSxDQUFDSyxDQUFDLEVBQUVDLENBQUMsRUFBRU4sSUFBSSxDQUFDTSxDQUFDLEVBQUM7RUFDbEMsSUFBSSxDQUFDSixLQUFLLEdBQUdQLHVEQUFVLENBQUNPLEtBQUssQ0FBQztFQUM5QixJQUFJLENBQUNDLFdBQVcsR0FBR0EsV0FBVztBQUNsQzs7QUFFQVAsYUFBYSxDQUFDVyxTQUFTLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDaEIsbURBQVUsQ0FBQ2MsU0FBUyxDQUFDO0FBQzdEWCxhQUFhLENBQUNXLFNBQVMsQ0FBQ0csV0FBVyxHQUFHZCxhQUFhOztBQUVuRCxJQUFJZSxLQUFLLEdBQUdmLGFBQWEsQ0FBQ1csU0FBUzs7QUFFbkNJLEtBQUssQ0FBQ0MsSUFBSSxHQUFHLFlBQVk7O0VBRXJCLElBQUlmLE1BQU0sR0FBRyxJQUFJLENBQUNBLE1BQU07RUFDeEIsSUFBSUUsUUFBUSxHQUFHLElBQUksQ0FBQ0EsUUFBUTtFQUM1QixJQUFJQyxJQUFJLEdBQUcsSUFBSSxDQUFDQSxJQUFJOztFQUVwQixJQUFJYSxPQUFPLEdBQUcsSUFBSW5CLHlEQUFhLENBQUMsSUFBSSxDQUFDb0IsUUFBUSxFQUFFakIsTUFBTSxFQUFFRyxJQUFJLENBQUM7O0VBRTVESCxNQUFNLENBQUNrQixTQUFTLENBQUNGLE9BQU8sQ0FBQzs7RUFFekJBLE9BQU8sQ0FBQ0csb0JBQW9CLENBQUMsSUFBSSxDQUFDYixXQUFXLENBQUM7RUFDOUNVLE9BQU8sQ0FBQ0ksT0FBTyxDQUFDLElBQUksQ0FBQ2hCLElBQUksQ0FBQztFQUMxQlksT0FBTyxDQUFDSyxPQUFPLENBQUNuQixRQUFRLEVBQUVDLElBQUksQ0FBQ0ssQ0FBQyxFQUFFTCxJQUFJLENBQUNNLENBQUMsQ0FBQztFQUN6Q08sT0FBTyxDQUFDTSxRQUFRLENBQUMsSUFBSSxDQUFDakIsS0FBSyxDQUFDO0FBQ2hDLENBQUM7O0FBRURTLEtBQUssQ0FBQ1MsSUFBSSxHQUFHLFlBQVk7O0VBRXJCLElBQUlDLE1BQU0sR0FBRyxJQUFJLENBQUN4QixNQUFNLENBQUN5QixTQUFTLENBQUMsSUFBSSxDQUFDUixRQUFRLENBQUM7RUFDakQsSUFBSU8sTUFBTSxFQUFFO0lBQ1IsSUFBSSxDQUFDeEIsTUFBTSxDQUFDMEIsWUFBWSxDQUFDRixNQUFNLENBQUM7SUFDaENBLE1BQU0sQ0FBQ0csT0FBTyxDQUFDLENBQUM7RUFDcEI7QUFDSixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvZWRpdC1hY3Rpb25zL0NyZWF0ZUNhbGxvdXQuanM/Y2MwMSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IEVkaXRBY3Rpb24gfSBmcm9tICcuL0VkaXRBY3Rpb24nO1xuaW1wb3J0IHsgTWFya3VwQ2FsbG91dCB9IGZyb20gJy4uL01hcmt1cENhbGxvdXQnO1xuaW1wb3J0IHsgY2xvbmVTdHlsZSB9IGZyb20gJy4uL1N0eWxlVXRpbHMnO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWRpdG9yXG4gICAgICogQHBhcmFtIGlkXG4gICAgICogQHBhcmFtIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHNpemVcbiAgICAgKiBAcGFyYW0gdGV4dFxuICAgICAqIEBwYXJhbSBzdHlsZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBDcmVhdGVDYWxsb3V0KGVkaXRvciwgaWQsIHBvc2l0aW9uLCBzaXplLCB0ZXh0LCBzdHlsZSwgaXNGcmFtZVVzZWQpIHtcblxuICAgICAgICBFZGl0QWN0aW9uLmNhbGwodGhpcywgZWRpdG9yLCAnQ1JFQVRFLUNBTExPVVQnLCBpZCk7XG5cbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHt4OiBwb3NpdGlvbi54LCB5OiBwb3NpdGlvbi55fTtcbiAgICAgICAgdGhpcy5zaXplID0ge3g6IHNpemUueCwgeTogc2l6ZS55fTtcbiAgICAgICAgdGhpcy5zdHlsZSA9IGNsb25lU3R5bGUoc3R5bGUpO1xuICAgICAgICB0aGlzLmlzRnJhbWVVc2VkID0gaXNGcmFtZVVzZWQ7XG4gICAgfVxuXG4gICAgQ3JlYXRlQ2FsbG91dC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVkaXRBY3Rpb24ucHJvdG90eXBlKTtcbiAgICBDcmVhdGVDYWxsb3V0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENyZWF0ZUNhbGxvdXQ7XG5cbiAgICB2YXIgcHJvdG8gPSBDcmVhdGVDYWxsb3V0LnByb3RvdHlwZTtcblxuICAgIHByb3RvLnJlZG8gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgICAgICB2YXIgcG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uO1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZTtcblxuICAgICAgICB2YXIgY2FsbG91dCA9IG5ldyBNYXJrdXBDYWxsb3V0KHRoaXMudGFyZ2V0SWQsIGVkaXRvciwgc2l6ZSk7XG5cbiAgICAgICAgZWRpdG9yLmFkZE1hcmt1cChjYWxsb3V0KTtcblxuICAgICAgICBjYWxsb3V0LnNldElzRmlsbGVkRnJhbWVVc2VkKHRoaXMuaXNGcmFtZVVzZWQpO1xuICAgICAgICBjYWxsb3V0LnNldFRleHQodGhpcy50ZXh0KTtcbiAgICAgICAgY2FsbG91dC5zZXRTaXplKHBvc2l0aW9uLCBzaXplLngsIHNpemUueSk7XG4gICAgICAgIGNhbGxvdXQuc2V0U3R5bGUodGhpcy5zdHlsZSk7XG4gICAgfTtcblxuICAgIHByb3RvLnVuZG8gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdmFyIG1hcmt1cCA9IHRoaXMuZWRpdG9yLmdldE1hcmt1cCh0aGlzLnRhcmdldElkKTtcbiAgICAgICAgaWYgKG1hcmt1cCkge1xuICAgICAgICAgICAgdGhpcy5lZGl0b3IucmVtb3ZlTWFya3VwKG1hcmt1cCk7XG4gICAgICAgICAgICBtYXJrdXAuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuIl0sIm5hbWVzIjpbIkVkaXRBY3Rpb24iLCJNYXJrdXBDYWxsb3V0IiwiY2xvbmVTdHlsZSIsIkNyZWF0ZUNhbGxvdXQiLCJlZGl0b3IiLCJpZCIsInBvc2l0aW9uIiwic2l6ZSIsInRleHQiLCJzdHlsZSIsImlzRnJhbWVVc2VkIiwiY2FsbCIsIngiLCJ5IiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJwcm90byIsInJlZG8iLCJjYWxsb3V0IiwidGFyZ2V0SWQiLCJhZGRNYXJrdXAiLCJzZXRJc0ZpbGxlZEZyYW1lVXNlZCIsInNldFRleHQiLCJzZXRTaXplIiwic2V0U3R5bGUiLCJ1bmRvIiwibWFya3VwIiwiZ2V0TWFya3VwIiwicmVtb3ZlTWFya3VwIiwiZGVzdHJveSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/CreateCallout.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/CreateCircle.js":
/*!*************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/CreateCircle.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CreateCircle: () => (/* binding */ CreateCircle)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _MarkupCircle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MarkupCircle */ \"./extensions/Markup/core/MarkupCircle.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n\n\n\n\n\n\n/**\n * Markup create circle action.\n *\n * Implements an {@link Autodesk.Viewing.Extensions.Markups.Core.EditAction|EditAction}\n * for creating a Circle {@link Autodesk.Viewing.Extensions.Markups.Core.Markup|Markup}.\n * Included in documentation as an example of how to create\n * a specific EditAction that deals with Markup creation.\n * Developers are encourage to look into this class's source code and copy\n * as much code as they need. Find link to source code below.\n *\n * @tutorial feature_markup\n * @constructor\n * @memberof Autodesk.Viewing.Extensions.Markups.Core\n * @extends Autodesk.Viewing.Extensions.Markups.Core.EditAction\n *\n * @param editor\n * @param id\n * @param position\n * @param size\n * @param rotation\n * @param style\n */\nfunction CreateCircle(editor, id, position, size, rotation, style) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'CREATE-CIRCLE', id);\n\n  this.selectOnExecution = false;\n  this.position = { x: position.x, y: position.y };\n  this.size = { x: size.x, y: size.y };\n  this.rotation = rotation;\n  this.style = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_2__.cloneStyle)(style);\n}\n\nCreateCircle.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nCreateCircle.prototype.constructor = CreateCircle;\n\nvar proto = CreateCircle.prototype;\n\nproto.redo = function () {\n\n  var editor = this.editor;\n  var circle = new _MarkupCircle__WEBPACK_IMPORTED_MODULE_1__.MarkupCircle(this.targetId, editor);\n\n  editor.addMarkup(circle);\n\n  circle.setSize(this.position, this.size.x, this.size.y);\n  circle.setRotation(this.rotation);\n  circle.setStyle(this.style);\n};\n\nproto.undo = function () {\n\n  var markup = this.editor.getMarkup(this.targetId);\n  markup && this.editor.removeMarkup(markup);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9DcmVhdGVDaXJjbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFhOztBQUU2QjtBQUNLO0FBQ0o7O0FBRXZDO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ1csU0FBU0csWUFBWUEsQ0FBQ0MsTUFBTSxFQUFFQyxFQUFFLEVBQUVDLFFBQVEsRUFBRUMsSUFBSSxFQUFFQyxRQUFRLEVBQUVDLEtBQUssRUFBRTs7RUFFdEVULG1EQUFVLENBQUNVLElBQUksQ0FBQyxJQUFJLEVBQUVOLE1BQU0sRUFBRSxlQUFlLEVBQUVDLEVBQUUsQ0FBQzs7RUFFbEQsSUFBSSxDQUFDTSxpQkFBaUIsR0FBRyxLQUFLO0VBQzlCLElBQUksQ0FBQ0wsUUFBUSxHQUFHLEVBQUNNLENBQUMsRUFBRU4sUUFBUSxDQUFDTSxDQUFDLEVBQUVDLENBQUMsRUFBRVAsUUFBUSxDQUFDTyxDQUFDLEVBQUM7RUFDOUMsSUFBSSxDQUFDTixJQUFJLEdBQUcsRUFBQ0ssQ0FBQyxFQUFFTCxJQUFJLENBQUNLLENBQUMsRUFBRUMsQ0FBQyxFQUFFTixJQUFJLENBQUNNLENBQUMsRUFBQztFQUNsQyxJQUFJLENBQUNMLFFBQVEsR0FBR0EsUUFBUTtFQUN4QixJQUFJLENBQUNDLEtBQUssR0FBR1AsdURBQVUsQ0FBQ08sS0FBSyxDQUFDO0FBQ2xDOztBQUVBTixZQUFZLENBQUNXLFNBQVMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUNoQixtREFBVSxDQUFDYyxTQUFTLENBQUM7QUFDNURYLFlBQVksQ0FBQ1csU0FBUyxDQUFDRyxXQUFXLEdBQUdkLFlBQVk7O0FBRWpELElBQUllLEtBQUssR0FBR2YsWUFBWSxDQUFDVyxTQUFTOztBQUVsQ0ksS0FBSyxDQUFDQyxJQUFJLEdBQUcsWUFBVzs7RUFFcEIsSUFBSWYsTUFBTSxHQUFHLElBQUksQ0FBQ0EsTUFBTTtFQUN4QixJQUFJZ0IsTUFBTSxHQUFHLElBQUluQix1REFBWSxDQUFDLElBQUksQ0FBQ29CLFFBQVEsRUFBRWpCLE1BQU0sQ0FBQzs7RUFFcERBLE1BQU0sQ0FBQ2tCLFNBQVMsQ0FBQ0YsTUFBTSxDQUFDOztFQUV4QkEsTUFBTSxDQUFDRyxPQUFPLENBQUMsSUFBSSxDQUFDakIsUUFBUSxFQUFFLElBQUksQ0FBQ0MsSUFBSSxDQUFDSyxDQUFDLEVBQUUsSUFBSSxDQUFDTCxJQUFJLENBQUNNLENBQUMsQ0FBQztFQUN2RE8sTUFBTSxDQUFDSSxXQUFXLENBQUMsSUFBSSxDQUFDaEIsUUFBUSxDQUFDO0VBQ2pDWSxNQUFNLENBQUNLLFFBQVEsQ0FBQyxJQUFJLENBQUNoQixLQUFLLENBQUM7QUFDL0IsQ0FBQzs7QUFFRFMsS0FBSyxDQUFDUSxJQUFJLEdBQUcsWUFBVzs7RUFFcEIsSUFBSUMsTUFBTSxHQUFHLElBQUksQ0FBQ3ZCLE1BQU0sQ0FBQ3dCLFNBQVMsQ0FBQyxJQUFJLENBQUNQLFFBQVEsQ0FBQztFQUNqRE0sTUFBTSxJQUFJLElBQUksQ0FBQ3ZCLE1BQU0sQ0FBQ3lCLFlBQVksQ0FBQ0YsTUFBTSxDQUFDO0FBQzlDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9lZGl0LWFjdGlvbnMvQ3JlYXRlQ2lyY2xlLmpzP2RkZGUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBFZGl0QWN0aW9uIH0gZnJvbSAnLi9FZGl0QWN0aW9uJztcbmltcG9ydCB7IE1hcmt1cENpcmNsZSB9IGZyb20gJy4uL01hcmt1cENpcmNsZSc7XG5pbXBvcnQgeyBjbG9uZVN0eWxlIH0gZnJvbSAnLi4vU3R5bGVVdGlscyc7XG5cbiAgICAvKipcbiAgICAgKiBNYXJrdXAgY3JlYXRlIGNpcmNsZSBhY3Rpb24uXG4gICAgICpcbiAgICAgKiBJbXBsZW1lbnRzIGFuIHtAbGluayBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlLkVkaXRBY3Rpb258RWRpdEFjdGlvbn1cbiAgICAgKiBmb3IgY3JlYXRpbmcgYSBDaXJjbGUge0BsaW5rIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzLkNvcmUuTWFya3VwfE1hcmt1cH0uXG4gICAgICogSW5jbHVkZWQgaW4gZG9jdW1lbnRhdGlvbiBhcyBhbiBleGFtcGxlIG9mIGhvdyB0byBjcmVhdGVcbiAgICAgKiBhIHNwZWNpZmljIEVkaXRBY3Rpb24gdGhhdCBkZWFscyB3aXRoIE1hcmt1cCBjcmVhdGlvbi5cbiAgICAgKiBEZXZlbG9wZXJzIGFyZSBlbmNvdXJhZ2UgdG8gbG9vayBpbnRvIHRoaXMgY2xhc3MncyBzb3VyY2UgY29kZSBhbmQgY29weVxuICAgICAqIGFzIG11Y2ggY29kZSBhcyB0aGV5IG5lZWQuIEZpbmQgbGluayB0byBzb3VyY2UgY29kZSBiZWxvdy5cbiAgICAgKlxuICAgICAqIEB0dXRvcmlhbCBmZWF0dXJlX21hcmt1cFxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJvZiBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlXG4gICAgICogQGV4dGVuZHMgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZS5FZGl0QWN0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWRpdG9yXG4gICAgICogQHBhcmFtIGlkXG4gICAgICogQHBhcmFtIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHNpemVcbiAgICAgKiBAcGFyYW0gcm90YXRpb25cbiAgICAgKiBAcGFyYW0gc3R5bGVcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gQ3JlYXRlQ2lyY2xlKGVkaXRvciwgaWQsIHBvc2l0aW9uLCBzaXplLCByb3RhdGlvbiwgc3R5bGUpIHtcblxuICAgICAgICBFZGl0QWN0aW9uLmNhbGwodGhpcywgZWRpdG9yLCAnQ1JFQVRFLUNJUkNMRScsIGlkKTtcblxuICAgICAgICB0aGlzLnNlbGVjdE9uRXhlY3V0aW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSB7eDogcG9zaXRpb24ueCwgeTogcG9zaXRpb24ueX07XG4gICAgICAgIHRoaXMuc2l6ZSA9IHt4OiBzaXplLngsIHk6IHNpemUueX07XG4gICAgICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcbiAgICAgICAgdGhpcy5zdHlsZSA9IGNsb25lU3R5bGUoc3R5bGUpO1xuICAgIH1cblxuICAgIENyZWF0ZUNpcmNsZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVkaXRBY3Rpb24ucHJvdG90eXBlKTtcbiAgICBDcmVhdGVDaXJjbGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ3JlYXRlQ2lyY2xlO1xuXG4gICAgdmFyIHByb3RvID0gQ3JlYXRlQ2lyY2xlLnByb3RvdHlwZTtcblxuICAgIHByb3RvLnJlZG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgIHZhciBjaXJjbGUgPSBuZXcgTWFya3VwQ2lyY2xlKHRoaXMudGFyZ2V0SWQsIGVkaXRvcik7XG5cbiAgICAgICAgZWRpdG9yLmFkZE1hcmt1cChjaXJjbGUpO1xuXG4gICAgICAgIGNpcmNsZS5zZXRTaXplKHRoaXMucG9zaXRpb24sIHRoaXMuc2l6ZS54LCB0aGlzLnNpemUueSk7XG4gICAgICAgIGNpcmNsZS5zZXRSb3RhdGlvbih0aGlzLnJvdGF0aW9uKTtcbiAgICAgICAgY2lyY2xlLnNldFN0eWxlKHRoaXMuc3R5bGUpO1xuICAgIH07XG5cbiAgICBwcm90by51bmRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIG1hcmt1cCA9IHRoaXMuZWRpdG9yLmdldE1hcmt1cCh0aGlzLnRhcmdldElkKTtcbiAgICAgICAgbWFya3VwICYmIHRoaXMuZWRpdG9yLnJlbW92ZU1hcmt1cChtYXJrdXApO1xuICAgIH07XG5cbiJdLCJuYW1lcyI6WyJFZGl0QWN0aW9uIiwiTWFya3VwQ2lyY2xlIiwiY2xvbmVTdHlsZSIsIkNyZWF0ZUNpcmNsZSIsImVkaXRvciIsImlkIiwicG9zaXRpb24iLCJzaXplIiwicm90YXRpb24iLCJzdHlsZSIsImNhbGwiLCJzZWxlY3RPbkV4ZWN1dGlvbiIsIngiLCJ5IiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJwcm90byIsInJlZG8iLCJjaXJjbGUiLCJ0YXJnZXRJZCIsImFkZE1hcmt1cCIsInNldFNpemUiLCJzZXRSb3RhdGlvbiIsInNldFN0eWxlIiwidW5kbyIsIm1hcmt1cCIsImdldE1hcmt1cCIsInJlbW92ZU1hcmt1cCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/CreateCircle.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/CreateCloud.js":
/*!************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/CreateCloud.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CreateCloud: () => (/* binding */ CreateCloud)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _MarkupCloud__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MarkupCloud */ \"./extensions/Markup/core/MarkupCloud.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n\n\n\n\n\n\n/**\n *\n * @param editor\n * @param id\n * @param position\n * @param size\n * @param rotation\n * @param style\n * @constructor\n */\nfunction CreateCloud(editor, id, position, size, rotation, style) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'CREATE-CLOUD', id);\n\n  this.selectOnExecution = false;\n  this.position = { x: position.x, y: position.y };\n  this.size = { x: size.x, y: size.y };\n  this.rotation = rotation;\n  this.style = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_2__.cloneStyle)(style);\n}\n\nCreateCloud.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nCreateCloud.prototype.constructor = CreateCloud;\n\nvar proto = CreateCloud.prototype;\n\nproto.redo = function () {\n\n  var editor = this.editor;\n  var cloud = new _MarkupCloud__WEBPACK_IMPORTED_MODULE_1__.MarkupCloud(this.targetId, editor);\n\n  editor.addMarkup(cloud);\n\n  cloud.set(this.position, this.size);\n  cloud.setRotation(this.rotation);\n  cloud.setStyle(this.style);\n};\n\nproto.undo = function () {\n\n  var markup = this.editor.getMarkup(this.targetId);\n  markup && this.editor.removeMarkup(markup);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9DcmVhdGVDbG91ZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWE7O0FBRTZCO0FBQ0c7QUFDRjs7QUFFdkM7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTRyxXQUFXQSxDQUFDQyxNQUFNLEVBQUVDLEVBQUUsRUFBRUMsUUFBUSxFQUFFQyxJQUFJLEVBQUVDLFFBQVEsRUFBRUMsS0FBSyxFQUFFOztFQUVyRVQsbURBQVUsQ0FBQ1UsSUFBSSxDQUFDLElBQUksRUFBRU4sTUFBTSxFQUFFLGNBQWMsRUFBRUMsRUFBRSxDQUFDOztFQUVqRCxJQUFJLENBQUNNLGlCQUFpQixHQUFHLEtBQUs7RUFDOUIsSUFBSSxDQUFDTCxRQUFRLEdBQUcsRUFBQ00sQ0FBQyxFQUFFTixRQUFRLENBQUNNLENBQUMsRUFBRUMsQ0FBQyxFQUFFUCxRQUFRLENBQUNPLENBQUMsRUFBQztFQUM5QyxJQUFJLENBQUNOLElBQUksR0FBRyxFQUFDSyxDQUFDLEVBQUVMLElBQUksQ0FBQ0ssQ0FBQyxFQUFFQyxDQUFDLEVBQUVOLElBQUksQ0FBQ00sQ0FBQyxFQUFDO0VBQ2xDLElBQUksQ0FBQ0wsUUFBUSxHQUFHQSxRQUFRO0VBQ3hCLElBQUksQ0FBQ0MsS0FBSyxHQUFHUCx1REFBVSxDQUFDTyxLQUFLLENBQUM7QUFDbEM7O0FBRUFOLFdBQVcsQ0FBQ1csU0FBUyxHQUFHQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ2hCLG1EQUFVLENBQUNjLFNBQVMsQ0FBQztBQUMzRFgsV0FBVyxDQUFDVyxTQUFTLENBQUNHLFdBQVcsR0FBR2QsV0FBVzs7QUFFL0MsSUFBSWUsS0FBSyxHQUFHZixXQUFXLENBQUNXLFNBQVM7O0FBRWpDSSxLQUFLLENBQUNDLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFJZixNQUFNLEdBQUcsSUFBSSxDQUFDQSxNQUFNO0VBQ3hCLElBQUlnQixLQUFLLEdBQUcsSUFBSW5CLHFEQUFXLENBQUMsSUFBSSxDQUFDb0IsUUFBUSxFQUFFakIsTUFBTSxDQUFDOztFQUVsREEsTUFBTSxDQUFDa0IsU0FBUyxDQUFDRixLQUFLLENBQUM7O0VBRXZCQSxLQUFLLENBQUNHLEdBQUcsQ0FBQyxJQUFJLENBQUNqQixRQUFRLEVBQUUsSUFBSSxDQUFDQyxJQUFJLENBQUM7RUFDbkNhLEtBQUssQ0FBQ0ksV0FBVyxDQUFDLElBQUksQ0FBQ2hCLFFBQVEsQ0FBQztFQUNoQ1ksS0FBSyxDQUFDSyxRQUFRLENBQUMsSUFBSSxDQUFDaEIsS0FBSyxDQUFDO0FBQzlCLENBQUM7O0FBRURTLEtBQUssQ0FBQ1EsSUFBSSxHQUFHLFlBQVc7O0VBRXBCLElBQUlDLE1BQU0sR0FBRyxJQUFJLENBQUN2QixNQUFNLENBQUN3QixTQUFTLENBQUMsSUFBSSxDQUFDUCxRQUFRLENBQUM7RUFDakRNLE1BQU0sSUFBSSxJQUFJLENBQUN2QixNQUFNLENBQUN5QixZQUFZLENBQUNGLE1BQU0sQ0FBQztBQUM5QyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvZWRpdC1hY3Rpb25zL0NyZWF0ZUNsb3VkLmpzP2QzMmIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBFZGl0QWN0aW9uIH0gZnJvbSAnLi9FZGl0QWN0aW9uJztcbmltcG9ydCB7IE1hcmt1cENsb3VkIH0gZnJvbSAnLi4vTWFya3VwQ2xvdWQnO1xuaW1wb3J0IHsgY2xvbmVTdHlsZSB9IGZyb20gJy4uL1N0eWxlVXRpbHMnO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWRpdG9yXG4gICAgICogQHBhcmFtIGlkXG4gICAgICogQHBhcmFtIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHNpemVcbiAgICAgKiBAcGFyYW0gcm90YXRpb25cbiAgICAgKiBAcGFyYW0gc3R5bGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gQ3JlYXRlQ2xvdWQoZWRpdG9yLCBpZCwgcG9zaXRpb24sIHNpemUsIHJvdGF0aW9uLCBzdHlsZSkge1xuXG4gICAgICAgIEVkaXRBY3Rpb24uY2FsbCh0aGlzLCBlZGl0b3IsICdDUkVBVEUtQ0xPVUQnLCBpZCk7XG5cbiAgICAgICAgdGhpcy5zZWxlY3RPbkV4ZWN1dGlvbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0ge3g6IHBvc2l0aW9uLngsIHk6IHBvc2l0aW9uLnl9O1xuICAgICAgICB0aGlzLnNpemUgPSB7eDogc2l6ZS54LCB5OiBzaXplLnl9O1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XG4gICAgICAgIHRoaXMuc3R5bGUgPSBjbG9uZVN0eWxlKHN0eWxlKTtcbiAgICB9XG5cbiAgICBDcmVhdGVDbG91ZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVkaXRBY3Rpb24ucHJvdG90eXBlKTtcbiAgICBDcmVhdGVDbG91ZC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDcmVhdGVDbG91ZDtcblxuICAgIHZhciBwcm90byA9IENyZWF0ZUNsb3VkLnByb3RvdHlwZTtcblxuICAgIHByb3RvLnJlZG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgIHZhciBjbG91ZCA9IG5ldyBNYXJrdXBDbG91ZCh0aGlzLnRhcmdldElkLCBlZGl0b3IpO1xuXG4gICAgICAgIGVkaXRvci5hZGRNYXJrdXAoY2xvdWQpO1xuXG4gICAgICAgIGNsb3VkLnNldCh0aGlzLnBvc2l0aW9uLCB0aGlzLnNpemUpO1xuICAgICAgICBjbG91ZC5zZXRSb3RhdGlvbih0aGlzLnJvdGF0aW9uKTtcbiAgICAgICAgY2xvdWQuc2V0U3R5bGUodGhpcy5zdHlsZSk7XG4gICAgfTtcblxuICAgIHByb3RvLnVuZG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgbWFya3VwID0gdGhpcy5lZGl0b3IuZ2V0TWFya3VwKHRoaXMudGFyZ2V0SWQpO1xuICAgICAgICBtYXJrdXAgJiYgdGhpcy5lZGl0b3IucmVtb3ZlTWFya3VwKG1hcmt1cCk7XG4gICAgfTtcbiJdLCJuYW1lcyI6WyJFZGl0QWN0aW9uIiwiTWFya3VwQ2xvdWQiLCJjbG9uZVN0eWxlIiwiQ3JlYXRlQ2xvdWQiLCJlZGl0b3IiLCJpZCIsInBvc2l0aW9uIiwic2l6ZSIsInJvdGF0aW9uIiwic3R5bGUiLCJjYWxsIiwic2VsZWN0T25FeGVjdXRpb24iLCJ4IiwieSIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwicHJvdG8iLCJyZWRvIiwiY2xvdWQiLCJ0YXJnZXRJZCIsImFkZE1hcmt1cCIsInNldCIsInNldFJvdGF0aW9uIiwic2V0U3R5bGUiLCJ1bmRvIiwibWFya3VwIiwiZ2V0TWFya3VwIiwicmVtb3ZlTWFya3VwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/CreateCloud.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/CreateDimension.js":
/*!****************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/CreateDimension.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CreateDimension: () => (/* binding */ CreateDimension)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _MarkupDimension__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MarkupDimension */ \"./extensions/Markup/core/MarkupDimension.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n\n\n\n\n\n\n/**\n * @constructor\n */\nfunction CreateDimension(editor, id, firstAnchor, secondAnchor, text, style) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'CREATE-DIMENSION', id);\n\n  this.selectOnExecution = false;\n  this.secondAnchor = secondAnchor;\n  this.firstAnchor = firstAnchor;\n  this.text = text;\n  this.style = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_2__.cloneStyle)(style);\n}\n\nCreateDimension.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nCreateDimension.prototype.constructor = CreateDimension;\n\nvar proto = CreateDimension.prototype;\n\nproto.redo = function () {\n\n  var editor = this.editor;\n  var dimension = new _MarkupDimension__WEBPACK_IMPORTED_MODULE_1__.MarkupDimension(this.targetId, editor);\n\n  editor.addMarkup(dimension);\n\n  // Don't display the dimension markup when there is only one Anchor (First click, before mouse move).\n  if (this.secondAnchor) {\n    dimension.set(this.firstAnchor.x, this.firstAnchor.y, this.secondAnchor.x, this.secondAnchor.y, this.text);\n    dimension.setStyle(this.style);\n  }\n};\n\nproto.undo = function () {\n\n  var markup = this.editor.getMarkup(this.targetId);\n  markup && this.editor.removeMarkup(markup);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9DcmVhdGVEaW1lbnNpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFhOztBQUU2QjtBQUNXO0FBQ1Y7O0FBRXZDO0FBQ0o7QUFDQTtBQUNXLFNBQVNHLGVBQWVBLENBQUNDLE1BQU0sRUFBRUMsRUFBRSxFQUFFQyxXQUFXLEVBQUVDLFlBQVksRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUU7O0VBRWhGVCxtREFBVSxDQUFDVSxJQUFJLENBQUMsSUFBSSxFQUFFTixNQUFNLEVBQUUsa0JBQWtCLEVBQUVDLEVBQUUsQ0FBQzs7RUFFckQsSUFBSSxDQUFDTSxpQkFBaUIsR0FBRyxLQUFLO0VBQzlCLElBQUksQ0FBQ0osWUFBWSxHQUFHQSxZQUFZO0VBQ2hDLElBQUksQ0FBQ0QsV0FBVyxHQUFHQSxXQUFXO0VBQzlCLElBQUksQ0FBQ0UsSUFBSSxHQUFHQSxJQUFJO0VBQ2hCLElBQUksQ0FBQ0MsS0FBSyxHQUFHUCx1REFBVSxDQUFDTyxLQUFLLENBQUM7QUFDbEM7O0FBRUFOLGVBQWUsQ0FBQ1MsU0FBUyxHQUFHQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ2QsbURBQVUsQ0FBQ1ksU0FBUyxDQUFDO0FBQy9EVCxlQUFlLENBQUNTLFNBQVMsQ0FBQ0csV0FBVyxHQUFHWixlQUFlOztBQUV2RCxJQUFJYSxLQUFLLEdBQUdiLGVBQWUsQ0FBQ1MsU0FBUzs7QUFFckNJLEtBQUssQ0FBQ0MsSUFBSSxHQUFHLFlBQVc7O0VBRXBCLElBQUliLE1BQU0sR0FBRyxJQUFJLENBQUNBLE1BQU07RUFDeEIsSUFBSWMsU0FBUyxHQUFHLElBQUlqQiw2REFBZSxDQUFDLElBQUksQ0FBQ2tCLFFBQVEsRUFBRWYsTUFBTSxDQUFDOztFQUUxREEsTUFBTSxDQUFDZ0IsU0FBUyxDQUFDRixTQUFTLENBQUM7O0VBRTNCO0VBQ0EsSUFBSSxJQUFJLENBQUNYLFlBQVksRUFBRTtJQUNuQlcsU0FBUyxDQUFDRyxHQUFHLENBQUMsSUFBSSxDQUFDZixXQUFXLENBQUNnQixDQUFDLEVBQUUsSUFBSSxDQUFDaEIsV0FBVyxDQUFDaUIsQ0FBQyxFQUFFLElBQUksQ0FBQ2hCLFlBQVksQ0FBQ2UsQ0FBQyxFQUFFLElBQUksQ0FBQ2YsWUFBWSxDQUFDZ0IsQ0FBQyxFQUFFLElBQUksQ0FBQ2YsSUFBSSxDQUFDO0lBQzFHVSxTQUFTLENBQUNNLFFBQVEsQ0FBQyxJQUFJLENBQUNmLEtBQUssQ0FBQztFQUNsQztBQUNKLENBQUM7O0FBRURPLEtBQUssQ0FBQ1MsSUFBSSxHQUFHLFlBQVc7O0VBRXBCLElBQUlDLE1BQU0sR0FBRyxJQUFJLENBQUN0QixNQUFNLENBQUN1QixTQUFTLENBQUMsSUFBSSxDQUFDUixRQUFRLENBQUM7RUFDakRPLE1BQU0sSUFBSSxJQUFJLENBQUN0QixNQUFNLENBQUN3QixZQUFZLENBQUNGLE1BQU0sQ0FBQztBQUM5QyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvZWRpdC1hY3Rpb25zL0NyZWF0ZURpbWVuc2lvbi5qcz9jNjZlIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRWRpdEFjdGlvbiB9IGZyb20gJy4vRWRpdEFjdGlvbic7XG5pbXBvcnQgeyBNYXJrdXBEaW1lbnNpb24gfSBmcm9tICcuLi9NYXJrdXBEaW1lbnNpb24nO1xuaW1wb3J0IHsgY2xvbmVTdHlsZSB9IGZyb20gJy4uL1N0eWxlVXRpbHMnO1xuXG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIENyZWF0ZURpbWVuc2lvbihlZGl0b3IsIGlkLCBmaXJzdEFuY2hvciwgc2Vjb25kQW5jaG9yLCB0ZXh0LCBzdHlsZSkge1xuXG4gICAgICAgIEVkaXRBY3Rpb24uY2FsbCh0aGlzLCBlZGl0b3IsICdDUkVBVEUtRElNRU5TSU9OJywgaWQpO1xuXG4gICAgICAgIHRoaXMuc2VsZWN0T25FeGVjdXRpb24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZWNvbmRBbmNob3IgPSBzZWNvbmRBbmNob3I7XG4gICAgICAgIHRoaXMuZmlyc3RBbmNob3IgPSBmaXJzdEFuY2hvcjtcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5zdHlsZSA9IGNsb25lU3R5bGUoc3R5bGUpO1xuICAgIH1cblxuICAgIENyZWF0ZURpbWVuc2lvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVkaXRBY3Rpb24ucHJvdG90eXBlKTtcbiAgICBDcmVhdGVEaW1lbnNpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ3JlYXRlRGltZW5zaW9uO1xuXG4gICAgdmFyIHByb3RvID0gQ3JlYXRlRGltZW5zaW9uLnByb3RvdHlwZTtcblxuICAgIHByb3RvLnJlZG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgIHZhciBkaW1lbnNpb24gPSBuZXcgTWFya3VwRGltZW5zaW9uKHRoaXMudGFyZ2V0SWQsIGVkaXRvcik7XG5cbiAgICAgICAgZWRpdG9yLmFkZE1hcmt1cChkaW1lbnNpb24pO1xuXG4gICAgICAgIC8vIERvbid0IGRpc3BsYXkgdGhlIGRpbWVuc2lvbiBtYXJrdXAgd2hlbiB0aGVyZSBpcyBvbmx5IG9uZSBBbmNob3IgKEZpcnN0IGNsaWNrLCBiZWZvcmUgbW91c2UgbW92ZSkuXG4gICAgICAgIGlmICh0aGlzLnNlY29uZEFuY2hvcikge1xuICAgICAgICAgICAgZGltZW5zaW9uLnNldCh0aGlzLmZpcnN0QW5jaG9yLngsIHRoaXMuZmlyc3RBbmNob3IueSwgdGhpcy5zZWNvbmRBbmNob3IueCwgdGhpcy5zZWNvbmRBbmNob3IueSwgdGhpcy50ZXh0KTtcbiAgICAgICAgICAgIGRpbWVuc2lvbi5zZXRTdHlsZSh0aGlzLnN0eWxlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwcm90by51bmRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIG1hcmt1cCA9IHRoaXMuZWRpdG9yLmdldE1hcmt1cCh0aGlzLnRhcmdldElkKTtcbiAgICAgICAgbWFya3VwICYmIHRoaXMuZWRpdG9yLnJlbW92ZU1hcmt1cChtYXJrdXApO1xuICAgIH07XG5cblxuIl0sIm5hbWVzIjpbIkVkaXRBY3Rpb24iLCJNYXJrdXBEaW1lbnNpb24iLCJjbG9uZVN0eWxlIiwiQ3JlYXRlRGltZW5zaW9uIiwiZWRpdG9yIiwiaWQiLCJmaXJzdEFuY2hvciIsInNlY29uZEFuY2hvciIsInRleHQiLCJzdHlsZSIsImNhbGwiLCJzZWxlY3RPbkV4ZWN1dGlvbiIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwicHJvdG8iLCJyZWRvIiwiZGltZW5zaW9uIiwidGFyZ2V0SWQiLCJhZGRNYXJrdXAiLCJzZXQiLCJ4IiwieSIsInNldFN0eWxlIiwidW5kbyIsIm1hcmt1cCIsImdldE1hcmt1cCIsInJlbW92ZU1hcmt1cCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/CreateDimension.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/CreateFreehand.js":
/*!***************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/CreateFreehand.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CreateFreehand: () => (/* binding */ CreateFreehand)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _MarkupFreehand__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MarkupFreehand */ \"./extensions/Markup/core/MarkupFreehand.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n\n\n\n\n\n\n/**\n *\n * @param editor\n * @param id\n * @param position\n * @param size\n * @param rotation\n * @param locations\n * @param style\n * @constructor\n */\nfunction CreateFreehand(editor, id, position, size, rotation, locations, style) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'CREATE-FREEHAND', id);\n\n  this.selectOnExecution = false;\n  this.position = position;\n  this.size = size;\n  this.rotation = rotation;\n  this.movements = locations.slice(0);\n  this.style = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_2__.cloneStyle)(style);\n}\n\nCreateFreehand.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nCreateFreehand.prototype.constructor = CreateFreehand;\n\nvar proto = CreateFreehand.prototype;\n\nproto.redo = function () {\n\n  var editor = this.editor;\n  var freehand = new _MarkupFreehand__WEBPACK_IMPORTED_MODULE_1__.MarkupFreehand(this.targetId, editor);\n\n  editor.addMarkup(freehand);\n\n  freehand.set(this.position, this.size, this.movements, false);\n  freehand.setRotation(this.rotation);\n  freehand.setStyle(this.style);\n};\n\nproto.undo = function () {\n\n  var markup = this.editor.getMarkup(this.targetId);\n  markup && this.editor.removeMarkup(markup);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9DcmVhdGVGcmVlaGFuZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWE7O0FBRTZCO0FBQ1M7QUFDUjs7QUFFdkM7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNXLFNBQVNHLGNBQWNBLENBQUNDLE1BQU0sRUFBRUMsRUFBRSxFQUFFQyxRQUFRLEVBQUVDLElBQUksRUFBRUMsUUFBUSxFQUFFQyxTQUFTLEVBQUVDLEtBQUssRUFBRTs7RUFFbkZWLG1EQUFVLENBQUNXLElBQUksQ0FBQyxJQUFJLEVBQUVQLE1BQU0sRUFBRSxpQkFBaUIsRUFBRUMsRUFBRSxDQUFDOztFQUVwRCxJQUFJLENBQUNPLGlCQUFpQixHQUFHLEtBQUs7RUFDOUIsSUFBSSxDQUFDTixRQUFRLEdBQUdBLFFBQVE7RUFDeEIsSUFBSSxDQUFDQyxJQUFJLEdBQUdBLElBQUk7RUFDaEIsSUFBSSxDQUFDQyxRQUFRLEdBQUdBLFFBQVE7RUFDeEIsSUFBSSxDQUFDSyxTQUFTLEdBQUdKLFNBQVMsQ0FBQ0ssS0FBSyxDQUFDLENBQUMsQ0FBQztFQUNuQyxJQUFJLENBQUNKLEtBQUssR0FBR1IsdURBQVUsQ0FBQ1EsS0FBSyxDQUFDO0FBQ2xDOztBQUVBUCxjQUFjLENBQUNZLFNBQVMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUNqQixtREFBVSxDQUFDZSxTQUFTLENBQUM7QUFDOURaLGNBQWMsQ0FBQ1ksU0FBUyxDQUFDRyxXQUFXLEdBQUdmLGNBQWM7O0FBRXJELElBQUlnQixLQUFLLEdBQUdoQixjQUFjLENBQUNZLFNBQVM7O0FBRXBDSSxLQUFLLENBQUNDLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFJaEIsTUFBTSxHQUFHLElBQUksQ0FBQ0EsTUFBTTtFQUN4QixJQUFJaUIsUUFBUSxHQUFHLElBQUlwQiwyREFBYyxDQUFDLElBQUksQ0FBQ3FCLFFBQVEsRUFBRWxCLE1BQU0sQ0FBQzs7RUFFeERBLE1BQU0sQ0FBQ21CLFNBQVMsQ0FBQ0YsUUFBUSxDQUFDOztFQUUxQkEsUUFBUSxDQUFDRyxHQUFHLENBQUMsSUFBSSxDQUFDbEIsUUFBUSxFQUFFLElBQUksQ0FBQ0MsSUFBSSxFQUFFLElBQUksQ0FBQ00sU0FBUyxFQUFFLEtBQUssQ0FBQztFQUM3RFEsUUFBUSxDQUFDSSxXQUFXLENBQUMsSUFBSSxDQUFDakIsUUFBUSxDQUFDO0VBQ25DYSxRQUFRLENBQUNLLFFBQVEsQ0FBQyxJQUFJLENBQUNoQixLQUFLLENBQUM7QUFDakMsQ0FBQzs7QUFFRFMsS0FBSyxDQUFDUSxJQUFJLEdBQUcsWUFBVzs7RUFFcEIsSUFBSUMsTUFBTSxHQUFHLElBQUksQ0FBQ3hCLE1BQU0sQ0FBQ3lCLFNBQVMsQ0FBQyxJQUFJLENBQUNQLFFBQVEsQ0FBQztFQUNqRE0sTUFBTSxJQUFJLElBQUksQ0FBQ3hCLE1BQU0sQ0FBQzBCLFlBQVksQ0FBQ0YsTUFBTSxDQUFDO0FBQzlDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9lZGl0LWFjdGlvbnMvQ3JlYXRlRnJlZWhhbmQuanM/MjU3NSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IEVkaXRBY3Rpb24gfSBmcm9tICcuL0VkaXRBY3Rpb24nO1xuaW1wb3J0IHsgTWFya3VwRnJlZWhhbmQgfSBmcm9tICcuLi9NYXJrdXBGcmVlaGFuZCc7XG5pbXBvcnQgeyBjbG9uZVN0eWxlIH0gZnJvbSAnLi4vU3R5bGVVdGlscyc7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlZGl0b3JcbiAgICAgKiBAcGFyYW0gaWRcbiAgICAgKiBAcGFyYW0gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0gc2l6ZVxuICAgICAqIEBwYXJhbSByb3RhdGlvblxuICAgICAqIEBwYXJhbSBsb2NhdGlvbnNcbiAgICAgKiBAcGFyYW0gc3R5bGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gQ3JlYXRlRnJlZWhhbmQoZWRpdG9yLCBpZCwgcG9zaXRpb24sIHNpemUsIHJvdGF0aW9uLCBsb2NhdGlvbnMsIHN0eWxlKSB7XG5cbiAgICAgICAgRWRpdEFjdGlvbi5jYWxsKHRoaXMsIGVkaXRvciwgJ0NSRUFURS1GUkVFSEFORCcsIGlkKTtcblxuICAgICAgICB0aGlzLnNlbGVjdE9uRXhlY3V0aW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgICAgICB0aGlzLm1vdmVtZW50cyA9IGxvY2F0aW9ucy5zbGljZSgwKTtcbiAgICAgICAgdGhpcy5zdHlsZSA9IGNsb25lU3R5bGUoc3R5bGUpO1xuICAgIH1cblxuICAgIENyZWF0ZUZyZWVoYW5kLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRWRpdEFjdGlvbi5wcm90b3R5cGUpO1xuICAgIENyZWF0ZUZyZWVoYW5kLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENyZWF0ZUZyZWVoYW5kO1xuXG4gICAgdmFyIHByb3RvID0gQ3JlYXRlRnJlZWhhbmQucHJvdG90eXBlO1xuXG4gICAgcHJvdG8ucmVkbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICAgICAgdmFyIGZyZWVoYW5kID0gbmV3IE1hcmt1cEZyZWVoYW5kKHRoaXMudGFyZ2V0SWQsIGVkaXRvcik7XG5cbiAgICAgICAgZWRpdG9yLmFkZE1hcmt1cChmcmVlaGFuZCk7XG5cbiAgICAgICAgZnJlZWhhbmQuc2V0KHRoaXMucG9zaXRpb24sIHRoaXMuc2l6ZSwgdGhpcy5tb3ZlbWVudHMsIGZhbHNlKTtcbiAgICAgICAgZnJlZWhhbmQuc2V0Um90YXRpb24odGhpcy5yb3RhdGlvbik7XG4gICAgICAgIGZyZWVoYW5kLnNldFN0eWxlKHRoaXMuc3R5bGUpO1xuICAgIH07XG5cbiAgICBwcm90by51bmRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIG1hcmt1cCA9IHRoaXMuZWRpdG9yLmdldE1hcmt1cCh0aGlzLnRhcmdldElkKTtcbiAgICAgICAgbWFya3VwICYmIHRoaXMuZWRpdG9yLnJlbW92ZU1hcmt1cChtYXJrdXApO1xuICAgIH07XG5cbiJdLCJuYW1lcyI6WyJFZGl0QWN0aW9uIiwiTWFya3VwRnJlZWhhbmQiLCJjbG9uZVN0eWxlIiwiQ3JlYXRlRnJlZWhhbmQiLCJlZGl0b3IiLCJpZCIsInBvc2l0aW9uIiwic2l6ZSIsInJvdGF0aW9uIiwibG9jYXRpb25zIiwic3R5bGUiLCJjYWxsIiwic2VsZWN0T25FeGVjdXRpb24iLCJtb3ZlbWVudHMiLCJzbGljZSIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwicHJvdG8iLCJyZWRvIiwiZnJlZWhhbmQiLCJ0YXJnZXRJZCIsImFkZE1hcmt1cCIsInNldCIsInNldFJvdGF0aW9uIiwic2V0U3R5bGUiLCJ1bmRvIiwibWFya3VwIiwiZ2V0TWFya3VwIiwicmVtb3ZlTWFya3VwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/CreateFreehand.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/CreateHighlight.js":
/*!****************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/CreateHighlight.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CreateHighlight: () => (/* binding */ CreateHighlight)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _MarkupHighlight__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MarkupHighlight */ \"./extensions/Markup/core/MarkupHighlight.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n\n\n\n\n\n\n/**\n *\n * @param editor\n * @param id\n * @param position\n * @param size\n * @param rotation\n * @param locations\n * @param style\n * @constructor\n */\nfunction CreateHighlight(editor, id, position, size, rotation, locations, style) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'CREATE-HIGHLIGHT', id);\n\n  this.selectOnExecution = false;\n  this.position = position;\n  this.size = size;\n  this.rotation = rotation;\n  this.movements = locations.slice(0);\n  this.style = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_2__.cloneStyle)(style);\n}\n\nCreateHighlight.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nCreateHighlight.prototype.constructor = CreateHighlight;\n\nvar proto = CreateHighlight.prototype;\n\nproto.redo = function () {\n\n  var editor = this.editor;\n  var highlight = new _MarkupHighlight__WEBPACK_IMPORTED_MODULE_1__.MarkupHighlight(this.targetId, editor);\n\n  editor.addMarkup(highlight);\n\n  highlight.set(this.position, this.size, this.movements, false);\n  highlight.setRotation(this.rotation);\n  highlight.setStyle(this.style);\n};\n\nproto.undo = function () {\n\n  var markup = this.editor.getMarkup(this.targetId);\n  markup && this.editor.removeMarkup(markup);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9DcmVhdGVIaWdobGlnaHQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFhOztBQUU2QjtBQUNXO0FBQ1Y7O0FBRXZDO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTRyxlQUFlQSxDQUFDQyxNQUFNLEVBQUVDLEVBQUUsRUFBRUMsUUFBUSxFQUFFQyxJQUFJLEVBQUVDLFFBQVEsRUFBRUMsU0FBUyxFQUFFQyxLQUFLLEVBQUU7O0VBRXBGVixtREFBVSxDQUFDVyxJQUFJLENBQUMsSUFBSSxFQUFFUCxNQUFNLEVBQUUsa0JBQWtCLEVBQUVDLEVBQUUsQ0FBQzs7RUFFckQsSUFBSSxDQUFDTyxpQkFBaUIsR0FBRyxLQUFLO0VBQzlCLElBQUksQ0FBQ04sUUFBUSxHQUFHQSxRQUFRO0VBQ3hCLElBQUksQ0FBQ0MsSUFBSSxHQUFHQSxJQUFJO0VBQ2hCLElBQUksQ0FBQ0MsUUFBUSxHQUFHQSxRQUFRO0VBQ3hCLElBQUksQ0FBQ0ssU0FBUyxHQUFHSixTQUFTLENBQUNLLEtBQUssQ0FBQyxDQUFDLENBQUM7RUFDbkMsSUFBSSxDQUFDSixLQUFLLEdBQUdSLHVEQUFVLENBQUNRLEtBQUssQ0FBQztBQUNsQzs7QUFFQVAsZUFBZSxDQUFDWSxTQUFTLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDakIsbURBQVUsQ0FBQ2UsU0FBUyxDQUFDO0FBQy9EWixlQUFlLENBQUNZLFNBQVMsQ0FBQ0csV0FBVyxHQUFHZixlQUFlOztBQUV2RCxJQUFJZ0IsS0FBSyxHQUFHaEIsZUFBZSxDQUFDWSxTQUFTOztBQUVyQ0ksS0FBSyxDQUFDQyxJQUFJLEdBQUcsWUFBVzs7RUFFcEIsSUFBSWhCLE1BQU0sR0FBRyxJQUFJLENBQUNBLE1BQU07RUFDeEIsSUFBSWlCLFNBQVMsR0FBRyxJQUFJcEIsNkRBQWUsQ0FBQyxJQUFJLENBQUNxQixRQUFRLEVBQUVsQixNQUFNLENBQUM7O0VBRTFEQSxNQUFNLENBQUNtQixTQUFTLENBQUNGLFNBQVMsQ0FBQzs7RUFFM0JBLFNBQVMsQ0FBQ0csR0FBRyxDQUFDLElBQUksQ0FBQ2xCLFFBQVEsRUFBRSxJQUFJLENBQUNDLElBQUksRUFBRSxJQUFJLENBQUNNLFNBQVMsRUFBRSxLQUFLLENBQUM7RUFDOURRLFNBQVMsQ0FBQ0ksV0FBVyxDQUFDLElBQUksQ0FBQ2pCLFFBQVEsQ0FBQztFQUNwQ2EsU0FBUyxDQUFDSyxRQUFRLENBQUMsSUFBSSxDQUFDaEIsS0FBSyxDQUFDO0FBQ2xDLENBQUM7O0FBRURTLEtBQUssQ0FBQ1EsSUFBSSxHQUFHLFlBQVc7O0VBRXBCLElBQUlDLE1BQU0sR0FBRyxJQUFJLENBQUN4QixNQUFNLENBQUN5QixTQUFTLENBQUMsSUFBSSxDQUFDUCxRQUFRLENBQUM7RUFDakRNLE1BQU0sSUFBSSxJQUFJLENBQUN4QixNQUFNLENBQUMwQixZQUFZLENBQUNGLE1BQU0sQ0FBQztBQUM5QyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvZWRpdC1hY3Rpb25zL0NyZWF0ZUhpZ2hsaWdodC5qcz9mOWZjIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRWRpdEFjdGlvbiB9IGZyb20gJy4vRWRpdEFjdGlvbic7XG5pbXBvcnQgeyBNYXJrdXBIaWdobGlnaHQgfSBmcm9tICcuLi9NYXJrdXBIaWdobGlnaHQnO1xuaW1wb3J0IHsgY2xvbmVTdHlsZSB9IGZyb20gJy4uL1N0eWxlVXRpbHMnO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWRpdG9yXG4gICAgICogQHBhcmFtIGlkXG4gICAgICogQHBhcmFtIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHNpemVcbiAgICAgKiBAcGFyYW0gcm90YXRpb25cbiAgICAgKiBAcGFyYW0gbG9jYXRpb25zXG4gICAgICogQHBhcmFtIHN0eWxlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIENyZWF0ZUhpZ2hsaWdodChlZGl0b3IsIGlkLCBwb3NpdGlvbiwgc2l6ZSwgcm90YXRpb24sIGxvY2F0aW9ucywgc3R5bGUpIHtcblxuICAgICAgICBFZGl0QWN0aW9uLmNhbGwodGhpcywgZWRpdG9yLCAnQ1JFQVRFLUhJR0hMSUdIVCcsIGlkKTtcblxuICAgICAgICB0aGlzLnNlbGVjdE9uRXhlY3V0aW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgICAgICB0aGlzLm1vdmVtZW50cyA9IGxvY2F0aW9ucy5zbGljZSgwKTtcbiAgICAgICAgdGhpcy5zdHlsZSA9IGNsb25lU3R5bGUoc3R5bGUpO1xuICAgIH1cblxuICAgIENyZWF0ZUhpZ2hsaWdodC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVkaXRBY3Rpb24ucHJvdG90eXBlKTtcbiAgICBDcmVhdGVIaWdobGlnaHQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ3JlYXRlSGlnaGxpZ2h0O1xuXG4gICAgdmFyIHByb3RvID0gQ3JlYXRlSGlnaGxpZ2h0LnByb3RvdHlwZTtcblxuICAgIHByb3RvLnJlZG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgIHZhciBoaWdobGlnaHQgPSBuZXcgTWFya3VwSGlnaGxpZ2h0KHRoaXMudGFyZ2V0SWQsIGVkaXRvcik7XG5cbiAgICAgICAgZWRpdG9yLmFkZE1hcmt1cChoaWdobGlnaHQpO1xuXG4gICAgICAgIGhpZ2hsaWdodC5zZXQodGhpcy5wb3NpdGlvbiwgdGhpcy5zaXplLCB0aGlzLm1vdmVtZW50cywgZmFsc2UpO1xuICAgICAgICBoaWdobGlnaHQuc2V0Um90YXRpb24odGhpcy5yb3RhdGlvbik7XG4gICAgICAgIGhpZ2hsaWdodC5zZXRTdHlsZSh0aGlzLnN0eWxlKTtcbiAgICB9O1xuXG4gICAgcHJvdG8udW5kbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBtYXJrdXAgPSB0aGlzLmVkaXRvci5nZXRNYXJrdXAodGhpcy50YXJnZXRJZCk7XG4gICAgICAgIG1hcmt1cCAmJiB0aGlzLmVkaXRvci5yZW1vdmVNYXJrdXAobWFya3VwKTtcbiAgICB9O1xuXG5cbiJdLCJuYW1lcyI6WyJFZGl0QWN0aW9uIiwiTWFya3VwSGlnaGxpZ2h0IiwiY2xvbmVTdHlsZSIsIkNyZWF0ZUhpZ2hsaWdodCIsImVkaXRvciIsImlkIiwicG9zaXRpb24iLCJzaXplIiwicm90YXRpb24iLCJsb2NhdGlvbnMiLCJzdHlsZSIsImNhbGwiLCJzZWxlY3RPbkV4ZWN1dGlvbiIsIm1vdmVtZW50cyIsInNsaWNlIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJwcm90byIsInJlZG8iLCJoaWdobGlnaHQiLCJ0YXJnZXRJZCIsImFkZE1hcmt1cCIsInNldCIsInNldFJvdGF0aW9uIiwic2V0U3R5bGUiLCJ1bmRvIiwibWFya3VwIiwiZ2V0TWFya3VwIiwicmVtb3ZlTWFya3VwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/CreateHighlight.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/CreatePolycloud.js":
/*!****************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/CreatePolycloud.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CreatePolycloud: () => (/* binding */ CreatePolycloud)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _MarkupPolycloud__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MarkupPolycloud */ \"./extensions/Markup/core/MarkupPolycloud.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n\n\n\n\n\n\n/**\n *\n * @param editor\n * @param id\n * @param position\n * @param size\n * @param rotation\n * @param locations\n * @param closed\n * @param style\n * @constructor\n */\nfunction CreatePolycloud(editor, id, position, size, rotation, locations, style, closed) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'CREATE-POLYCLOUD', id);\n\n  this.selectOnExecution = false;\n  this.position = position;\n  this.size = size;\n  this.rotation = rotation;\n  this.movements = locations.concat();\n  this.style = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_2__.cloneStyle)(style);\n  this.closed = closed;\n}\n\nCreatePolycloud.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nCreatePolycloud.prototype.constructor = CreatePolycloud;\n\nvar proto = CreatePolycloud.prototype;\n\nproto.redo = function () {\n\n  var editor = this.editor;\n  var polyline = new _MarkupPolycloud__WEBPACK_IMPORTED_MODULE_1__.MarkupPolycloud(this.targetId, editor);\n\n  editor.addMarkup(polyline);\n\n  polyline.set(this.position, this.size, this.movements, this.closed);\n  polyline.setRotation(this.rotation);\n  polyline.setStyle(this.style);\n};\n\nproto.undo = function () {\n\n  var markup = this.editor.getMarkup(this.targetId);\n  markup && this.editor.removeMarkup(markup);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9DcmVhdGVQb2x5Y2xvdWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFhOztBQUU2QjtBQUNXO0FBQ1Y7O0FBRXZDO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNXLFNBQVNHLGVBQWVBLENBQUNDLE1BQU0sRUFBRUMsRUFBRSxFQUFFQyxRQUFRLEVBQUVDLElBQUksRUFBRUMsUUFBUSxFQUFFQyxTQUFTLEVBQUVDLEtBQUssRUFBRUMsTUFBTSxFQUFFOztFQUU1RlgsbURBQVUsQ0FBQ1ksSUFBSSxDQUFDLElBQUksRUFBRVIsTUFBTSxFQUFFLGtCQUFrQixFQUFFQyxFQUFFLENBQUM7O0VBRXJELElBQUksQ0FBQ1EsaUJBQWlCLEdBQUcsS0FBSztFQUM5QixJQUFJLENBQUNQLFFBQVEsR0FBR0EsUUFBUTtFQUN4QixJQUFJLENBQUNDLElBQUksR0FBR0EsSUFBSTtFQUNoQixJQUFJLENBQUNDLFFBQVEsR0FBR0EsUUFBUTtFQUN4QixJQUFJLENBQUNNLFNBQVMsR0FBR0wsU0FBUyxDQUFDTSxNQUFNLENBQUMsQ0FBQztFQUNuQyxJQUFJLENBQUNMLEtBQUssR0FBR1IsdURBQVUsQ0FBQ1EsS0FBSyxDQUFDO0VBQzlCLElBQUksQ0FBQ0MsTUFBTSxHQUFHQSxNQUFNO0FBQ3hCOztBQUVBUixlQUFlLENBQUNhLFNBQVMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUNsQixtREFBVSxDQUFDZ0IsU0FBUyxDQUFDO0FBQy9EYixlQUFlLENBQUNhLFNBQVMsQ0FBQ0csV0FBVyxHQUFHaEIsZUFBZTs7QUFFdkQsSUFBSWlCLEtBQUssR0FBR2pCLGVBQWUsQ0FBQ2EsU0FBUzs7QUFFckNJLEtBQUssQ0FBQ0MsSUFBSSxHQUFHLFlBQVc7O0VBRXBCLElBQUlqQixNQUFNLEdBQUcsSUFBSSxDQUFDQSxNQUFNO0VBQ3hCLElBQUlrQixRQUFRLEdBQUcsSUFBSXJCLDZEQUFlLENBQUMsSUFBSSxDQUFDc0IsUUFBUSxFQUFFbkIsTUFBTSxDQUFDOztFQUV6REEsTUFBTSxDQUFDb0IsU0FBUyxDQUFDRixRQUFRLENBQUM7O0VBRTFCQSxRQUFRLENBQUNHLEdBQUcsQ0FBQyxJQUFJLENBQUNuQixRQUFRLEVBQUUsSUFBSSxDQUFDQyxJQUFJLEVBQUUsSUFBSSxDQUFDTyxTQUFTLEVBQUUsSUFBSSxDQUFDSCxNQUFNLENBQUM7RUFDbkVXLFFBQVEsQ0FBQ0ksV0FBVyxDQUFDLElBQUksQ0FBQ2xCLFFBQVEsQ0FBQztFQUNuQ2MsUUFBUSxDQUFDSyxRQUFRLENBQUMsSUFBSSxDQUFDakIsS0FBSyxDQUFDO0FBQ2pDLENBQUM7O0FBRURVLEtBQUssQ0FBQ1EsSUFBSSxHQUFHLFlBQVc7O0VBRXBCLElBQUlDLE1BQU0sR0FBRyxJQUFJLENBQUN6QixNQUFNLENBQUMwQixTQUFTLENBQUMsSUFBSSxDQUFDUCxRQUFRLENBQUM7RUFDakRNLE1BQU0sSUFBSSxJQUFJLENBQUN6QixNQUFNLENBQUMyQixZQUFZLENBQUNGLE1BQU0sQ0FBQztBQUM5QyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvZWRpdC1hY3Rpb25zL0NyZWF0ZVBvbHljbG91ZC5qcz9iZDE5Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRWRpdEFjdGlvbiB9IGZyb20gJy4vRWRpdEFjdGlvbic7XG5pbXBvcnQgeyBNYXJrdXBQb2x5Y2xvdWQgfSBmcm9tICcuLi9NYXJrdXBQb2x5Y2xvdWQnO1xuaW1wb3J0IHsgY2xvbmVTdHlsZSB9IGZyb20gJy4uL1N0eWxlVXRpbHMnO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWRpdG9yXG4gICAgICogQHBhcmFtIGlkXG4gICAgICogQHBhcmFtIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHNpemVcbiAgICAgKiBAcGFyYW0gcm90YXRpb25cbiAgICAgKiBAcGFyYW0gbG9jYXRpb25zXG4gICAgICogQHBhcmFtIGNsb3NlZFxuICAgICAqIEBwYXJhbSBzdHlsZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBDcmVhdGVQb2x5Y2xvdWQoZWRpdG9yLCBpZCwgcG9zaXRpb24sIHNpemUsIHJvdGF0aW9uLCBsb2NhdGlvbnMsIHN0eWxlLCBjbG9zZWQpIHtcblxuICAgICAgICBFZGl0QWN0aW9uLmNhbGwodGhpcywgZWRpdG9yLCAnQ1JFQVRFLVBPTFlDTE9VRCcsIGlkKTtcblxuICAgICAgICB0aGlzLnNlbGVjdE9uRXhlY3V0aW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgICAgICB0aGlzLm1vdmVtZW50cyA9IGxvY2F0aW9ucy5jb25jYXQoKTtcbiAgICAgICAgdGhpcy5zdHlsZSA9IGNsb25lU3R5bGUoc3R5bGUpO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGNsb3NlZDtcbiAgICB9XG5cbiAgICBDcmVhdGVQb2x5Y2xvdWQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFZGl0QWN0aW9uLnByb3RvdHlwZSk7XG4gICAgQ3JlYXRlUG9seWNsb3VkLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENyZWF0ZVBvbHljbG91ZDtcblxuICAgIHZhciBwcm90byA9IENyZWF0ZVBvbHljbG91ZC5wcm90b3R5cGU7XG5cbiAgICBwcm90by5yZWRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgICAgICB2YXIgcG9seWxpbmUgPSBuZXcgTWFya3VwUG9seWNsb3VkKHRoaXMudGFyZ2V0SWQsIGVkaXRvcik7XG5cbiAgICAgICAgZWRpdG9yLmFkZE1hcmt1cChwb2x5bGluZSk7XG5cbiAgICAgICAgcG9seWxpbmUuc2V0KHRoaXMucG9zaXRpb24sIHRoaXMuc2l6ZSwgdGhpcy5tb3ZlbWVudHMsIHRoaXMuY2xvc2VkKTtcbiAgICAgICAgcG9seWxpbmUuc2V0Um90YXRpb24odGhpcy5yb3RhdGlvbik7XG4gICAgICAgIHBvbHlsaW5lLnNldFN0eWxlKHRoaXMuc3R5bGUpO1xuICAgIH07XG5cbiAgICBwcm90by51bmRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIG1hcmt1cCA9IHRoaXMuZWRpdG9yLmdldE1hcmt1cCh0aGlzLnRhcmdldElkKTtcbiAgICAgICAgbWFya3VwICYmIHRoaXMuZWRpdG9yLnJlbW92ZU1hcmt1cChtYXJrdXApO1xuICAgIH07XG5cbiJdLCJuYW1lcyI6WyJFZGl0QWN0aW9uIiwiTWFya3VwUG9seWNsb3VkIiwiY2xvbmVTdHlsZSIsIkNyZWF0ZVBvbHljbG91ZCIsImVkaXRvciIsImlkIiwicG9zaXRpb24iLCJzaXplIiwicm90YXRpb24iLCJsb2NhdGlvbnMiLCJzdHlsZSIsImNsb3NlZCIsImNhbGwiLCJzZWxlY3RPbkV4ZWN1dGlvbiIsIm1vdmVtZW50cyIsImNvbmNhdCIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwicHJvdG8iLCJyZWRvIiwicG9seWxpbmUiLCJ0YXJnZXRJZCIsImFkZE1hcmt1cCIsInNldCIsInNldFJvdGF0aW9uIiwic2V0U3R5bGUiLCJ1bmRvIiwibWFya3VwIiwiZ2V0TWFya3VwIiwicmVtb3ZlTWFya3VwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/CreatePolycloud.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/CreatePolyline.js":
/*!***************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/CreatePolyline.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CreatePolyline: () => (/* binding */ CreatePolyline)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _MarkupPolyLine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MarkupPolyLine */ \"./extensions/Markup/core/MarkupPolyLine.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n\n\n\n\n\n\n/**\n *\n * @param editor\n * @param id\n * @param position\n * @param size\n * @param rotation\n * @param locations\n * @param closed\n * @param style\n * @constructor\n */\nfunction CreatePolyline(editor, id, position, size, rotation, locations, style, closed) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'CREATE-POLYLINE', id);\n\n  this.selectOnExecution = false;\n  this.position = position;\n  this.size = size;\n  this.rotation = rotation;\n  this.movements = locations.concat();\n  this.closed = closed;\n  this.style = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_2__.cloneStyle)(style);\n}\n\nCreatePolyline.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nCreatePolyline.prototype.constructor = CreatePolyline;\n\nvar proto = CreatePolyline.prototype;\n\nproto.redo = function () {\n\n  var editor = this.editor;\n  var polyline = new _MarkupPolyLine__WEBPACK_IMPORTED_MODULE_1__.MarkupPolyline(this.targetId, editor);\n\n  editor.addMarkup(polyline);\n\n  polyline.set(this.position, this.size, this.movements, this.closed);\n  polyline.setRotation(this.rotation);\n  polyline.setStyle(this.style);\n};\n\nproto.undo = function () {\n\n  var markup = this.editor.getMarkup(this.targetId);\n  markup && this.editor.removeMarkup(markup);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9DcmVhdGVQb2x5bGluZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWE7O0FBRTZCO0FBQ1M7QUFDUjs7QUFFdkM7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ1csU0FBU0csY0FBY0EsQ0FBQ0MsTUFBTSxFQUFFQyxFQUFFLEVBQUVDLFFBQVEsRUFBRUMsSUFBSSxFQUFFQyxRQUFRLEVBQUVDLFNBQVMsRUFBRUMsS0FBSyxFQUFFQyxNQUFNLEVBQUU7O0VBRTNGWCxtREFBVSxDQUFDWSxJQUFJLENBQUMsSUFBSSxFQUFFUixNQUFNLEVBQUUsaUJBQWlCLEVBQUVDLEVBQUUsQ0FBQzs7RUFFcEQsSUFBSSxDQUFDUSxpQkFBaUIsR0FBRyxLQUFLO0VBQzlCLElBQUksQ0FBQ1AsUUFBUSxHQUFHQSxRQUFRO0VBQ3hCLElBQUksQ0FBQ0MsSUFBSSxHQUFHQSxJQUFJO0VBQ2hCLElBQUksQ0FBQ0MsUUFBUSxHQUFHQSxRQUFRO0VBQ3hCLElBQUksQ0FBQ00sU0FBUyxHQUFHTCxTQUFTLENBQUNNLE1BQU0sQ0FBQyxDQUFDO0VBQ25DLElBQUksQ0FBQ0osTUFBTSxHQUFHQSxNQUFNO0VBQ3BCLElBQUksQ0FBQ0QsS0FBSyxHQUFHUix1REFBVSxDQUFDUSxLQUFLLENBQUM7QUFDbEM7O0FBRUFQLGNBQWMsQ0FBQ2EsU0FBUyxHQUFHQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ2xCLG1EQUFVLENBQUNnQixTQUFTLENBQUM7QUFDOURiLGNBQWMsQ0FBQ2EsU0FBUyxDQUFDRyxXQUFXLEdBQUdoQixjQUFjOztBQUVyRCxJQUFJaUIsS0FBSyxHQUFHakIsY0FBYyxDQUFDYSxTQUFTOztBQUVwQ0ksS0FBSyxDQUFDQyxJQUFJLEdBQUcsWUFBVzs7RUFFcEIsSUFBSWpCLE1BQU0sR0FBRyxJQUFJLENBQUNBLE1BQU07RUFDeEIsSUFBSWtCLFFBQVEsR0FBRyxJQUFJckIsMkRBQWMsQ0FBQyxJQUFJLENBQUNzQixRQUFRLEVBQUVuQixNQUFNLENBQUM7O0VBRXhEQSxNQUFNLENBQUNvQixTQUFTLENBQUNGLFFBQVEsQ0FBQzs7RUFFMUJBLFFBQVEsQ0FBQ0csR0FBRyxDQUFDLElBQUksQ0FBQ25CLFFBQVEsRUFBRSxJQUFJLENBQUNDLElBQUksRUFBRSxJQUFJLENBQUNPLFNBQVMsRUFBRSxJQUFJLENBQUNILE1BQU0sQ0FBQztFQUNuRVcsUUFBUSxDQUFDSSxXQUFXLENBQUMsSUFBSSxDQUFDbEIsUUFBUSxDQUFDO0VBQ25DYyxRQUFRLENBQUNLLFFBQVEsQ0FBQyxJQUFJLENBQUNqQixLQUFLLENBQUM7QUFDakMsQ0FBQzs7QUFFRFUsS0FBSyxDQUFDUSxJQUFJLEdBQUcsWUFBVzs7RUFFcEIsSUFBSUMsTUFBTSxHQUFHLElBQUksQ0FBQ3pCLE1BQU0sQ0FBQzBCLFNBQVMsQ0FBQyxJQUFJLENBQUNQLFFBQVEsQ0FBQztFQUNqRE0sTUFBTSxJQUFJLElBQUksQ0FBQ3pCLE1BQU0sQ0FBQzJCLFlBQVksQ0FBQ0YsTUFBTSxDQUFDO0FBQzlDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9lZGl0LWFjdGlvbnMvQ3JlYXRlUG9seWxpbmUuanM/YjU4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IEVkaXRBY3Rpb24gfSBmcm9tICcuL0VkaXRBY3Rpb24nO1xuaW1wb3J0IHsgTWFya3VwUG9seWxpbmUgfSBmcm9tICcuLi9NYXJrdXBQb2x5TGluZSc7XG5pbXBvcnQgeyBjbG9uZVN0eWxlIH0gZnJvbSAnLi4vU3R5bGVVdGlscyc7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlZGl0b3JcbiAgICAgKiBAcGFyYW0gaWRcbiAgICAgKiBAcGFyYW0gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0gc2l6ZVxuICAgICAqIEBwYXJhbSByb3RhdGlvblxuICAgICAqIEBwYXJhbSBsb2NhdGlvbnNcbiAgICAgKiBAcGFyYW0gY2xvc2VkXG4gICAgICogQHBhcmFtIHN0eWxlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIENyZWF0ZVBvbHlsaW5lKGVkaXRvciwgaWQsIHBvc2l0aW9uLCBzaXplLCByb3RhdGlvbiwgbG9jYXRpb25zLCBzdHlsZSwgY2xvc2VkKSB7XG5cbiAgICAgICAgRWRpdEFjdGlvbi5jYWxsKHRoaXMsIGVkaXRvciwgJ0NSRUFURS1QT0xZTElORScsIGlkKTtcblxuICAgICAgICB0aGlzLnNlbGVjdE9uRXhlY3V0aW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgICAgICB0aGlzLm1vdmVtZW50cyA9IGxvY2F0aW9ucy5jb25jYXQoKTtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBjbG9zZWQ7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBjbG9uZVN0eWxlKHN0eWxlKTtcbiAgICB9XG5cbiAgICBDcmVhdGVQb2x5bGluZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVkaXRBY3Rpb24ucHJvdG90eXBlKTtcbiAgICBDcmVhdGVQb2x5bGluZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDcmVhdGVQb2x5bGluZTtcblxuICAgIHZhciBwcm90byA9IENyZWF0ZVBvbHlsaW5lLnByb3RvdHlwZTtcblxuICAgIHByb3RvLnJlZG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgIHZhciBwb2x5bGluZSA9IG5ldyBNYXJrdXBQb2x5bGluZSh0aGlzLnRhcmdldElkLCBlZGl0b3IpO1xuXG4gICAgICAgIGVkaXRvci5hZGRNYXJrdXAocG9seWxpbmUpO1xuXG4gICAgICAgIHBvbHlsaW5lLnNldCh0aGlzLnBvc2l0aW9uLCB0aGlzLnNpemUsIHRoaXMubW92ZW1lbnRzLCB0aGlzLmNsb3NlZCk7XG4gICAgICAgIHBvbHlsaW5lLnNldFJvdGF0aW9uKHRoaXMucm90YXRpb24pO1xuICAgICAgICBwb2x5bGluZS5zZXRTdHlsZSh0aGlzLnN0eWxlKTtcbiAgICB9O1xuXG4gICAgcHJvdG8udW5kbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBtYXJrdXAgPSB0aGlzLmVkaXRvci5nZXRNYXJrdXAodGhpcy50YXJnZXRJZCk7XG4gICAgICAgIG1hcmt1cCAmJiB0aGlzLmVkaXRvci5yZW1vdmVNYXJrdXAobWFya3VwKTtcbiAgICB9O1xuXG4iXSwibmFtZXMiOlsiRWRpdEFjdGlvbiIsIk1hcmt1cFBvbHlsaW5lIiwiY2xvbmVTdHlsZSIsIkNyZWF0ZVBvbHlsaW5lIiwiZWRpdG9yIiwiaWQiLCJwb3NpdGlvbiIsInNpemUiLCJyb3RhdGlvbiIsImxvY2F0aW9ucyIsInN0eWxlIiwiY2xvc2VkIiwiY2FsbCIsInNlbGVjdE9uRXhlY3V0aW9uIiwibW92ZW1lbnRzIiwiY29uY2F0IiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJwcm90byIsInJlZG8iLCJwb2x5bGluZSIsInRhcmdldElkIiwiYWRkTWFya3VwIiwic2V0Iiwic2V0Um90YXRpb24iLCJzZXRTdHlsZSIsInVuZG8iLCJtYXJrdXAiLCJnZXRNYXJrdXAiLCJyZW1vdmVNYXJrdXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/CreatePolyline.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/CreateRectangle.js":
/*!****************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/CreateRectangle.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CreateRectangle: () => (/* binding */ CreateRectangle)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _MarkupRectangle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MarkupRectangle */ \"./extensions/Markup/core/MarkupRectangle.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n\n\n\n\n\n\n/**\n *\n * @param editor\n * @param id\n * @param position\n * @param size\n * @param rotation\n * @param style\n * @constructor\n */\nfunction CreateRectangle(editor, id, position, size, rotation, style) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'CREATE-RECTANGLE', id);\n\n  this.selectOnExecution = false;\n  this.position = { x: position.x, y: position.y };\n  this.size = { x: size.x, y: size.y };\n  this.rotation = rotation;\n  this.style = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_2__.cloneStyle)(style);\n}\n\nCreateRectangle.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nCreateRectangle.prototype.constructor = CreateRectangle;\n\nvar proto = CreateRectangle.prototype;\n\nproto.redo = function () {\n\n  var editor = this.editor;\n  var rectangle = new _MarkupRectangle__WEBPACK_IMPORTED_MODULE_1__.MarkupRectangle(this.targetId, editor);\n\n  editor.addMarkup(rectangle);\n\n  rectangle.set(this.position, this.size);\n  rectangle.setRotation(this.rotation);\n  rectangle.setStyle(this.style);\n};\n\nproto.undo = function () {\n\n  var markup = this.editor.getMarkup(this.targetId);\n  markup && this.editor.removeMarkup(markup);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9DcmVhdGVSZWN0YW5nbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFhOztBQUU2QjtBQUNXO0FBQ1Y7O0FBRXZDO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ1csU0FBU0csZUFBZUEsQ0FBQ0MsTUFBTSxFQUFFQyxFQUFFLEVBQUVDLFFBQVEsRUFBRUMsSUFBSSxFQUFFQyxRQUFRLEVBQUVDLEtBQUssRUFBRTs7RUFFekVULG1EQUFVLENBQUNVLElBQUksQ0FBQyxJQUFJLEVBQUVOLE1BQU0sRUFBRSxrQkFBa0IsRUFBRUMsRUFBRSxDQUFDOztFQUVyRCxJQUFJLENBQUNNLGlCQUFpQixHQUFHLEtBQUs7RUFDOUIsSUFBSSxDQUFDTCxRQUFRLEdBQUcsRUFBQ00sQ0FBQyxFQUFFTixRQUFRLENBQUNNLENBQUMsRUFBRUMsQ0FBQyxFQUFFUCxRQUFRLENBQUNPLENBQUMsRUFBQztFQUM5QyxJQUFJLENBQUNOLElBQUksR0FBRyxFQUFDSyxDQUFDLEVBQUVMLElBQUksQ0FBQ0ssQ0FBQyxFQUFFQyxDQUFDLEVBQUVOLElBQUksQ0FBQ00sQ0FBQyxFQUFDO0VBQ2xDLElBQUksQ0FBQ0wsUUFBUSxHQUFHQSxRQUFRO0VBQ3hCLElBQUksQ0FBQ0MsS0FBSyxHQUFHUCx1REFBVSxDQUFDTyxLQUFLLENBQUM7QUFDbEM7O0FBRUFOLGVBQWUsQ0FBQ1csU0FBUyxHQUFHQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ2hCLG1EQUFVLENBQUNjLFNBQVMsQ0FBQztBQUMvRFgsZUFBZSxDQUFDVyxTQUFTLENBQUNHLFdBQVcsR0FBR2QsZUFBZTs7QUFFdkQsSUFBSWUsS0FBSyxHQUFHZixlQUFlLENBQUNXLFNBQVM7O0FBRXJDSSxLQUFLLENBQUNDLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFJZixNQUFNLEdBQUcsSUFBSSxDQUFDQSxNQUFNO0VBQ3hCLElBQUlnQixTQUFTLEdBQUcsSUFBSW5CLDZEQUFlLENBQUMsSUFBSSxDQUFDb0IsUUFBUSxFQUFFakIsTUFBTSxDQUFDOztFQUUxREEsTUFBTSxDQUFDa0IsU0FBUyxDQUFDRixTQUFTLENBQUM7O0VBRTNCQSxTQUFTLENBQUNHLEdBQUcsQ0FBQyxJQUFJLENBQUNqQixRQUFRLEVBQUUsSUFBSSxDQUFDQyxJQUFJLENBQUM7RUFDdkNhLFNBQVMsQ0FBQ0ksV0FBVyxDQUFDLElBQUksQ0FBQ2hCLFFBQVEsQ0FBQztFQUNwQ1ksU0FBUyxDQUFDSyxRQUFRLENBQUMsSUFBSSxDQUFDaEIsS0FBSyxDQUFDO0FBQ2xDLENBQUM7O0FBRURTLEtBQUssQ0FBQ1EsSUFBSSxHQUFHLFlBQVc7O0VBRXBCLElBQUlDLE1BQU0sR0FBRyxJQUFJLENBQUN2QixNQUFNLENBQUN3QixTQUFTLENBQUMsSUFBSSxDQUFDUCxRQUFRLENBQUM7RUFDakRNLE1BQU0sSUFBSSxJQUFJLENBQUN2QixNQUFNLENBQUN5QixZQUFZLENBQUNGLE1BQU0sQ0FBQztBQUM5QyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvZWRpdC1hY3Rpb25zL0NyZWF0ZVJlY3RhbmdsZS5qcz83NWE3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRWRpdEFjdGlvbiB9IGZyb20gJy4vRWRpdEFjdGlvbic7XG5pbXBvcnQgeyBNYXJrdXBSZWN0YW5nbGUgfSBmcm9tICcuLi9NYXJrdXBSZWN0YW5nbGUnO1xuaW1wb3J0IHsgY2xvbmVTdHlsZSB9IGZyb20gJy4uL1N0eWxlVXRpbHMnO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWRpdG9yXG4gICAgICogQHBhcmFtIGlkXG4gICAgICogQHBhcmFtIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHNpemVcbiAgICAgKiBAcGFyYW0gcm90YXRpb25cbiAgICAgKiBAcGFyYW0gc3R5bGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gQ3JlYXRlUmVjdGFuZ2xlKGVkaXRvciwgaWQsIHBvc2l0aW9uLCBzaXplLCByb3RhdGlvbiwgc3R5bGUpIHtcblxuICAgICAgICBFZGl0QWN0aW9uLmNhbGwodGhpcywgZWRpdG9yLCAnQ1JFQVRFLVJFQ1RBTkdMRScsIGlkKTtcblxuICAgICAgICB0aGlzLnNlbGVjdE9uRXhlY3V0aW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSB7eDogcG9zaXRpb24ueCwgeTogcG9zaXRpb24ueX07XG4gICAgICAgIHRoaXMuc2l6ZSA9IHt4OiBzaXplLngsIHk6IHNpemUueX07XG4gICAgICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcbiAgICAgICAgdGhpcy5zdHlsZSA9IGNsb25lU3R5bGUoc3R5bGUpO1xuICAgIH1cblxuICAgIENyZWF0ZVJlY3RhbmdsZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVkaXRBY3Rpb24ucHJvdG90eXBlKTtcbiAgICBDcmVhdGVSZWN0YW5nbGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ3JlYXRlUmVjdGFuZ2xlO1xuXG4gICAgdmFyIHByb3RvID0gQ3JlYXRlUmVjdGFuZ2xlLnByb3RvdHlwZTtcblxuICAgIHByb3RvLnJlZG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgIHZhciByZWN0YW5nbGUgPSBuZXcgTWFya3VwUmVjdGFuZ2xlKHRoaXMudGFyZ2V0SWQsIGVkaXRvcik7XG5cbiAgICAgICAgZWRpdG9yLmFkZE1hcmt1cChyZWN0YW5nbGUpO1xuXG4gICAgICAgIHJlY3RhbmdsZS5zZXQodGhpcy5wb3NpdGlvbiwgdGhpcy5zaXplKTtcbiAgICAgICAgcmVjdGFuZ2xlLnNldFJvdGF0aW9uKHRoaXMucm90YXRpb24pO1xuICAgICAgICByZWN0YW5nbGUuc2V0U3R5bGUodGhpcy5zdHlsZSk7XG4gICAgfTtcblxuICAgIHByb3RvLnVuZG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgbWFya3VwID0gdGhpcy5lZGl0b3IuZ2V0TWFya3VwKHRoaXMudGFyZ2V0SWQpO1xuICAgICAgICBtYXJrdXAgJiYgdGhpcy5lZGl0b3IucmVtb3ZlTWFya3VwKG1hcmt1cCk7XG4gICAgfTtcblxuIl0sIm5hbWVzIjpbIkVkaXRBY3Rpb24iLCJNYXJrdXBSZWN0YW5nbGUiLCJjbG9uZVN0eWxlIiwiQ3JlYXRlUmVjdGFuZ2xlIiwiZWRpdG9yIiwiaWQiLCJwb3NpdGlvbiIsInNpemUiLCJyb3RhdGlvbiIsInN0eWxlIiwiY2FsbCIsInNlbGVjdE9uRXhlY3V0aW9uIiwieCIsInkiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwicmVkbyIsInJlY3RhbmdsZSIsInRhcmdldElkIiwiYWRkTWFya3VwIiwic2V0Iiwic2V0Um90YXRpb24iLCJzZXRTdHlsZSIsInVuZG8iLCJtYXJrdXAiLCJnZXRNYXJrdXAiLCJyZW1vdmVNYXJrdXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/CreateRectangle.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/CreateStamp.js":
/*!************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/CreateStamp.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CreateStamp: () => (/* binding */ CreateStamp)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _MarkupStamp__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MarkupStamp */ \"./extensions/Markup/core/MarkupStamp.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n\n\n\n\n\n\n\n\n/**\n * @constructor\n *\n * @param editor\n * @param id\n * @param position\n * @param size\n * @param style\n * @param {string} svg\n */\n\nclass CreateStamp extends _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction {\n  constructor(editor, id, position, size, rotation, style, svgData) {\n    super(editor, 'CREATE-STAMP', id);\n\n    this.selectOnExecution = false;\n    this.position = { x: position.x, y: position.y };\n    this.size = { x: size.x, y: size.y };\n    this.rotation = rotation;\n    this.style = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_2__.cloneStyle)(style);\n    this.svgData = svgData;\n  }\n\n  redo() {\n    const stamp = new _MarkupStamp__WEBPACK_IMPORTED_MODULE_1__.MarkupStamp(this.targetId, this.editor, this.svgData);\n\n    this.editor.addMarkup(stamp);\n\n    stamp.setSize(this.position, this.size.x, this.size.y);\n    stamp.setRotation(this.rotation);\n    stamp.setStyle(this.style);\n  }\n\n  undo() {\n    const markup = this.editor.getMarkup(this.targetId);\n    this.editor.removeMarkup(markup);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9DcmVhdGVTdGFtcC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWE7O0FBRTZCO0FBQ0c7QUFDRjs7QUFFcEI7O0FBRW5CO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU1HLFdBQVcsU0FBU0gsbURBQVUsQ0FBQztFQUNqQ0ksV0FBV0EsQ0FBQ0MsTUFBTSxFQUFFQyxFQUFFLEVBQUVDLFFBQVEsRUFBRUMsSUFBSSxFQUFFQyxRQUFRLEVBQUVDLEtBQUssRUFBRUMsT0FBTyxFQUFFO0lBQzlELEtBQUssQ0FBQ04sTUFBTSxFQUFFLGNBQWMsRUFBRUMsRUFBRSxDQUFDOztJQUVqQyxJQUFJLENBQUNNLGlCQUFpQixHQUFHLEtBQUs7SUFDOUIsSUFBSSxDQUFDTCxRQUFRLEdBQUcsRUFBQ00sQ0FBQyxFQUFFTixRQUFRLENBQUNNLENBQUMsRUFBRUMsQ0FBQyxFQUFFUCxRQUFRLENBQUNPLENBQUMsRUFBQztJQUM5QyxJQUFJLENBQUNOLElBQUksR0FBRyxFQUFDSyxDQUFDLEVBQUVMLElBQUksQ0FBQ0ssQ0FBQyxFQUFFQyxDQUFDLEVBQUVOLElBQUksQ0FBQ00sQ0FBQyxFQUFDO0lBQ2xDLElBQUksQ0FBQ0wsUUFBUSxHQUFHQSxRQUFRO0lBQ3hCLElBQUksQ0FBQ0MsS0FBSyxHQUFHUix1REFBVSxDQUFDUSxLQUFLLENBQUM7SUFDOUIsSUFBSSxDQUFDQyxPQUFPLEdBQUdBLE9BQU87RUFDMUI7O0VBRUFJLElBQUlBLENBQUEsRUFBRztJQUNILE1BQU1DLEtBQUssR0FBRyxJQUFJZixxREFBVyxDQUFDLElBQUksQ0FBQ2dCLFFBQVEsRUFBRSxJQUFJLENBQUNaLE1BQU0sRUFBRSxJQUFJLENBQUNNLE9BQU8sQ0FBQzs7SUFFdkUsSUFBSSxDQUFDTixNQUFNLENBQUNhLFNBQVMsQ0FBQ0YsS0FBSyxDQUFDOztJQUU1QkEsS0FBSyxDQUFDRyxPQUFPLENBQUMsSUFBSSxDQUFDWixRQUFRLEVBQUUsSUFBSSxDQUFDQyxJQUFJLENBQUNLLENBQUMsRUFBRSxJQUFJLENBQUNMLElBQUksQ0FBQ00sQ0FBQyxDQUFDO0lBQ3RERSxLQUFLLENBQUNJLFdBQVcsQ0FBQyxJQUFJLENBQUNYLFFBQVEsQ0FBQztJQUNoQ08sS0FBSyxDQUFDSyxRQUFRLENBQUMsSUFBSSxDQUFDWCxLQUFLLENBQUM7RUFDOUI7O0VBRUFZLElBQUlBLENBQUEsRUFBRztJQUNILE1BQU1DLE1BQU0sR0FBRyxJQUFJLENBQUNsQixNQUFNLENBQUNtQixTQUFTLENBQUMsSUFBSSxDQUFDUCxRQUFRLENBQUM7SUFDbkQsSUFBSSxDQUFDWixNQUFNLENBQUNvQixZQUFZLENBQUNGLE1BQU0sQ0FBQztFQUNwQztBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvZWRpdC1hY3Rpb25zL0NyZWF0ZVN0YW1wLmpzP2MxMmIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBFZGl0QWN0aW9uIH0gZnJvbSAnLi9FZGl0QWN0aW9uJztcbmltcG9ydCB7IE1hcmt1cFN0YW1wIH0gZnJvbSAnLi4vTWFya3VwU3RhbXAnO1xuaW1wb3J0IHsgY2xvbmVTdHlsZSB9IGZyb20gJy4uL1N0eWxlVXRpbHMnO1xuXG5leHBvcnQgeyBDcmVhdGVTdGFtcCB9O1xuXG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWRpdG9yXG4gICAgICogQHBhcmFtIGlkXG4gICAgICogQHBhcmFtIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHNpemVcbiAgICAgKiBAcGFyYW0gc3R5bGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3ZnXG4gICAgICovXG5cbmNsYXNzIENyZWF0ZVN0YW1wIGV4dGVuZHMgRWRpdEFjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZWRpdG9yLCBpZCwgcG9zaXRpb24sIHNpemUsIHJvdGF0aW9uLCBzdHlsZSwgc3ZnRGF0YSkge1xuICAgICAgICBzdXBlcihlZGl0b3IsICdDUkVBVEUtU1RBTVAnLCBpZCk7XG5cbiAgICAgICAgdGhpcy5zZWxlY3RPbkV4ZWN1dGlvbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0ge3g6IHBvc2l0aW9uLngsIHk6IHBvc2l0aW9uLnl9O1xuICAgICAgICB0aGlzLnNpemUgPSB7eDogc2l6ZS54LCB5OiBzaXplLnl9O1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XG4gICAgICAgIHRoaXMuc3R5bGUgPSBjbG9uZVN0eWxlKHN0eWxlKTtcbiAgICAgICAgdGhpcy5zdmdEYXRhID0gc3ZnRGF0YTtcbiAgICB9XG5cbiAgICByZWRvKCkge1xuICAgICAgICBjb25zdCBzdGFtcCA9IG5ldyBNYXJrdXBTdGFtcCh0aGlzLnRhcmdldElkLCB0aGlzLmVkaXRvciwgdGhpcy5zdmdEYXRhKTtcblxuICAgICAgICB0aGlzLmVkaXRvci5hZGRNYXJrdXAoc3RhbXApO1xuXG4gICAgICAgIHN0YW1wLnNldFNpemUodGhpcy5wb3NpdGlvbiwgdGhpcy5zaXplLngsIHRoaXMuc2l6ZS55KTtcbiAgICAgICAgc3RhbXAuc2V0Um90YXRpb24odGhpcy5yb3RhdGlvbik7XG4gICAgICAgIHN0YW1wLnNldFN0eWxlKHRoaXMuc3R5bGUpO1xuICAgIH1cblxuICAgIHVuZG8oKSB7XG4gICAgICAgIGNvbnN0IG1hcmt1cCA9IHRoaXMuZWRpdG9yLmdldE1hcmt1cCh0aGlzLnRhcmdldElkKTtcbiAgICAgICAgdGhpcy5lZGl0b3IucmVtb3ZlTWFya3VwKG1hcmt1cCk7XG4gICAgfVxufVxuXG4iXSwibmFtZXMiOlsiRWRpdEFjdGlvbiIsIk1hcmt1cFN0YW1wIiwiY2xvbmVTdHlsZSIsIkNyZWF0ZVN0YW1wIiwiY29uc3RydWN0b3IiLCJlZGl0b3IiLCJpZCIsInBvc2l0aW9uIiwic2l6ZSIsInJvdGF0aW9uIiwic3R5bGUiLCJzdmdEYXRhIiwic2VsZWN0T25FeGVjdXRpb24iLCJ4IiwieSIsInJlZG8iLCJzdGFtcCIsInRhcmdldElkIiwiYWRkTWFya3VwIiwic2V0U2l6ZSIsInNldFJvdGF0aW9uIiwic2V0U3R5bGUiLCJ1bmRvIiwibWFya3VwIiwiZ2V0TWFya3VwIiwicmVtb3ZlTWFya3VwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/CreateStamp.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/CreateText.js":
/*!***********************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/CreateText.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CreateText: () => (/* binding */ CreateText)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _MarkupText__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MarkupText */ \"./extensions/Markup/core/MarkupText.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n\n\n\n\n\n\n/**\n *\n * @param editor\n * @param id\n * @param position\n * @param size\n * @param text\n * @param style\n * @constructor\n */\nfunction CreateText(editor, id, position, size, text, style) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'CREATE-TEXT', id);\n\n  this.text = text;\n  this.position = { x: position.x, y: position.y };\n  this.size = { x: size.x, y: size.y };\n  this.style = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_2__.cloneStyle)(style);\n}\n\nCreateText.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nCreateText.prototype.constructor = CreateText;\n\nvar proto = CreateText.prototype;\n\nproto.redo = function () {\n\n  var editor = this.editor;\n  var position = this.position;\n  var size = this.size;\n\n  var text = new _MarkupText__WEBPACK_IMPORTED_MODULE_1__.MarkupText(this.targetId, editor, size);\n\n  editor.addMarkup(text);\n\n  text.set(position, size, this.text);\n  text.setStyle(this.style);\n};\n\nproto.undo = function () {\n\n  var markup = this.editor.getMarkup(this.targetId);\n  if (markup) {\n    this.editor.removeMarkup(markup);\n    markup.destroy();\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9DcmVhdGVUZXh0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBYTs7QUFFNkI7QUFDQztBQUNBOztBQUV2QztBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNXLFNBQVNHLFVBQVVBLENBQUNDLE1BQU0sRUFBRUMsRUFBRSxFQUFFQyxRQUFRLEVBQUVDLElBQUksRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUc7O0VBRWpFVCxtREFBVSxDQUFDVSxJQUFJLENBQUMsSUFBSSxFQUFFTixNQUFNLEVBQUUsYUFBYSxFQUFFQyxFQUFFLENBQUM7O0VBRWhELElBQUksQ0FBQ0csSUFBSSxHQUFHQSxJQUFJO0VBQ2hCLElBQUksQ0FBQ0YsUUFBUSxHQUFHLEVBQUNLLENBQUMsRUFBRUwsUUFBUSxDQUFDSyxDQUFDLEVBQUVDLENBQUMsRUFBRU4sUUFBUSxDQUFDTSxDQUFDLEVBQUM7RUFDOUMsSUFBSSxDQUFDTCxJQUFJLEdBQUcsRUFBQ0ksQ0FBQyxFQUFFSixJQUFJLENBQUNJLENBQUMsRUFBRUMsQ0FBQyxFQUFFTCxJQUFJLENBQUNLLENBQUMsRUFBQztFQUNsQyxJQUFJLENBQUNILEtBQUssR0FBR1AsdURBQVUsQ0FBQ08sS0FBSyxDQUFDO0FBQ2xDOztBQUVBTixVQUFVLENBQUNVLFNBQVMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUNmLG1EQUFVLENBQUNhLFNBQVMsQ0FBQztBQUMxRFYsVUFBVSxDQUFDVSxTQUFTLENBQUNHLFdBQVcsR0FBR2IsVUFBVTs7QUFFN0MsSUFBSWMsS0FBSyxHQUFHZCxVQUFVLENBQUNVLFNBQVM7O0FBRWhDSSxLQUFLLENBQUNDLElBQUksR0FBRyxZQUFZOztFQUVyQixJQUFJZCxNQUFNLEdBQUcsSUFBSSxDQUFDQSxNQUFNO0VBQ3hCLElBQUlFLFFBQVEsR0FBRyxJQUFJLENBQUNBLFFBQVE7RUFDNUIsSUFBSUMsSUFBSSxHQUFHLElBQUksQ0FBQ0EsSUFBSTs7RUFFcEIsSUFBSUMsSUFBSSxHQUFHLElBQUlQLG1EQUFVLENBQUMsSUFBSSxDQUFDa0IsUUFBUSxFQUFFZixNQUFNLEVBQUVHLElBQUksQ0FBQzs7RUFFdERILE1BQU0sQ0FBQ2dCLFNBQVMsQ0FBQ1osSUFBSSxDQUFDOztFQUV0QkEsSUFBSSxDQUFDYSxHQUFHLENBQUNmLFFBQVEsRUFBRUMsSUFBSSxFQUFFLElBQUksQ0FBQ0MsSUFBSSxDQUFDO0VBQ25DQSxJQUFJLENBQUNjLFFBQVEsQ0FBQyxJQUFJLENBQUNiLEtBQUssQ0FBQztBQUM3QixDQUFDOztBQUVEUSxLQUFLLENBQUNNLElBQUksR0FBRyxZQUFZOztFQUVyQixJQUFJQyxNQUFNLEdBQUcsSUFBSSxDQUFDcEIsTUFBTSxDQUFDcUIsU0FBUyxDQUFDLElBQUksQ0FBQ04sUUFBUSxDQUFDO0VBQ2pELElBQUlLLE1BQU0sRUFBRTtJQUNSLElBQUksQ0FBQ3BCLE1BQU0sQ0FBQ3NCLFlBQVksQ0FBQ0YsTUFBTSxDQUFDO0lBQ2hDQSxNQUFNLENBQUNHLE9BQU8sQ0FBQyxDQUFDO0VBQ3BCO0FBQ0osQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9DcmVhdGVUZXh0LmpzPzA2MzQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBFZGl0QWN0aW9uIH0gZnJvbSAnLi9FZGl0QWN0aW9uJztcbmltcG9ydCB7IE1hcmt1cFRleHQgfSBmcm9tICcuLi9NYXJrdXBUZXh0JztcbmltcG9ydCB7IGNsb25lU3R5bGUgfSBmcm9tICcuLi9TdHlsZVV0aWxzJztcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGVkaXRvclxuICAgICAqIEBwYXJhbSBpZFxuICAgICAqIEBwYXJhbSBwb3NpdGlvblxuICAgICAqIEBwYXJhbSBzaXplXG4gICAgICogQHBhcmFtIHRleHRcbiAgICAgKiBAcGFyYW0gc3R5bGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gQ3JlYXRlVGV4dChlZGl0b3IsIGlkLCBwb3NpdGlvbiwgc2l6ZSwgdGV4dCwgc3R5bGUgKSB7XG5cbiAgICAgICAgRWRpdEFjdGlvbi5jYWxsKHRoaXMsIGVkaXRvciwgJ0NSRUFURS1URVhUJywgaWQpO1xuXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSB7eDogcG9zaXRpb24ueCwgeTogcG9zaXRpb24ueX07XG4gICAgICAgIHRoaXMuc2l6ZSA9IHt4OiBzaXplLngsIHk6IHNpemUueX07XG4gICAgICAgIHRoaXMuc3R5bGUgPSBjbG9uZVN0eWxlKHN0eWxlKTtcbiAgICB9XG5cbiAgICBDcmVhdGVUZXh0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRWRpdEFjdGlvbi5wcm90b3R5cGUpO1xuICAgIENyZWF0ZVRleHQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ3JlYXRlVGV4dDtcblxuICAgIHZhciBwcm90byA9IENyZWF0ZVRleHQucHJvdG90eXBlO1xuXG4gICAgcHJvdG8ucmVkbyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IHRoaXMucG9zaXRpb247XG4gICAgICAgIHZhciBzaXplID0gdGhpcy5zaXplO1xuXG4gICAgICAgIHZhciB0ZXh0ID0gbmV3IE1hcmt1cFRleHQodGhpcy50YXJnZXRJZCwgZWRpdG9yLCBzaXplKTtcblxuICAgICAgICBlZGl0b3IuYWRkTWFya3VwKHRleHQpO1xuXG4gICAgICAgIHRleHQuc2V0KHBvc2l0aW9uLCBzaXplLCB0aGlzLnRleHQpO1xuICAgICAgICB0ZXh0LnNldFN0eWxlKHRoaXMuc3R5bGUpO1xuICAgIH07XG5cbiAgICBwcm90by51bmRvID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBtYXJrdXAgPSB0aGlzLmVkaXRvci5nZXRNYXJrdXAodGhpcy50YXJnZXRJZCk7XG4gICAgICAgIGlmIChtYXJrdXApIHtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLnJlbW92ZU1hcmt1cChtYXJrdXApO1xuICAgICAgICAgICAgbWFya3VwLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH07XG5cblxuIl0sIm5hbWVzIjpbIkVkaXRBY3Rpb24iLCJNYXJrdXBUZXh0IiwiY2xvbmVTdHlsZSIsIkNyZWF0ZVRleHQiLCJlZGl0b3IiLCJpZCIsInBvc2l0aW9uIiwic2l6ZSIsInRleHQiLCJzdHlsZSIsImNhbGwiLCJ4IiwieSIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwicHJvdG8iLCJyZWRvIiwidGFyZ2V0SWQiLCJhZGRNYXJrdXAiLCJzZXQiLCJzZXRTdHlsZSIsInVuZG8iLCJtYXJrdXAiLCJnZXRNYXJrdXAiLCJyZW1vdmVNYXJrdXAiLCJkZXN0cm95Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/CreateText.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/DeleteArrow.js":
/*!************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/DeleteArrow.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DeleteArrow: () => (/* binding */ DeleteArrow)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _CreateArrow__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CreateArrow */ \"./extensions/Markup/core/edit-actions/CreateArrow.js\");\n\n\n\n\n\n/**\n *\n * @param editor\n * @param arrow\n * @constructor\n */\nfunction DeleteArrow(editor, arrow) {\n\n  // Confusing naming here. Arrow.tail is the starting point of the arrow,\n  // and arrow.head is the final point. In CreateArrow the head argument\n  // is the first point of the arrow and the tail argument is the second\n  // point of the argument. So construct CreateArrow with the tail before\n  // the head.\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'DELETE-ARROW', arrow.id);\n  this.createArrow = new _CreateArrow__WEBPACK_IMPORTED_MODULE_1__.CreateArrow(\n    editor,\n    arrow.id,\n    arrow.tail,\n    arrow.head,\n    arrow.getStyle());\n}\n\nDeleteArrow.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nDeleteArrow.prototype.constructor = DeleteArrow;\n\nvar proto = DeleteArrow.prototype;\n\nproto.redo = function () {\n\n  this.createArrow.undo();\n};\n\nproto.undo = function () {\n\n  this.createArrow.redo();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9EZWxldGVBcnJvdy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBYTs7QUFFNkI7QUFDRTs7QUFFeEM7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ1csU0FBU0UsV0FBV0EsQ0FBQ0MsTUFBTSxFQUFFQyxLQUFLLEVBQUU7O0VBRXZDO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQUosbURBQVUsQ0FBQ0ssSUFBSSxDQUFDLElBQUksRUFBRUYsTUFBTSxFQUFFLGNBQWMsRUFBRUMsS0FBSyxDQUFDRSxFQUFFLENBQUM7RUFDdkQsSUFBSSxDQUFDQyxXQUFXLEdBQUcsSUFBSU4scURBQVc7SUFDOUJFLE1BQU07SUFDTkMsS0FBSyxDQUFDRSxFQUFFO0lBQ1JGLEtBQUssQ0FBQ0ksSUFBSTtJQUNWSixLQUFLLENBQUNLLElBQUk7SUFDVkwsS0FBSyxDQUFDTSxRQUFRLENBQUMsQ0FBQyxDQUFDO0FBQ3pCOztBQUVBUixXQUFXLENBQUNTLFNBQVMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUNiLG1EQUFVLENBQUNXLFNBQVMsQ0FBQztBQUMzRFQsV0FBVyxDQUFDUyxTQUFTLENBQUNHLFdBQVcsR0FBR1osV0FBVzs7QUFFL0MsSUFBSWEsS0FBSyxHQUFHYixXQUFXLENBQUNTLFNBQVM7O0FBRWpDSSxLQUFLLENBQUNDLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFJLENBQUNULFdBQVcsQ0FBQ1UsSUFBSSxDQUFDLENBQUM7QUFDM0IsQ0FBQzs7QUFFREYsS0FBSyxDQUFDRSxJQUFJLEdBQUcsWUFBVzs7RUFFcEIsSUFBSSxDQUFDVixXQUFXLENBQUNTLElBQUksQ0FBQyxDQUFDO0FBQzNCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9lZGl0LWFjdGlvbnMvRGVsZXRlQXJyb3cuanM/ZDM1YyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IEVkaXRBY3Rpb24gfSBmcm9tICcuL0VkaXRBY3Rpb24nO1xuaW1wb3J0IHsgQ3JlYXRlQXJyb3cgfSBmcm9tICcuL0NyZWF0ZUFycm93JztcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGVkaXRvclxuICAgICAqIEBwYXJhbSBhcnJvd1xuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBEZWxldGVBcnJvdyhlZGl0b3IsIGFycm93KSB7XG5cbiAgICAgICAgLy8gQ29uZnVzaW5nIG5hbWluZyBoZXJlLiBBcnJvdy50YWlsIGlzIHRoZSBzdGFydGluZyBwb2ludCBvZiB0aGUgYXJyb3csXG4gICAgICAgIC8vIGFuZCBhcnJvdy5oZWFkIGlzIHRoZSBmaW5hbCBwb2ludC4gSW4gQ3JlYXRlQXJyb3cgdGhlIGhlYWQgYXJndW1lbnRcbiAgICAgICAgLy8gaXMgdGhlIGZpcnN0IHBvaW50IG9mIHRoZSBhcnJvdyBhbmQgdGhlIHRhaWwgYXJndW1lbnQgaXMgdGhlIHNlY29uZFxuICAgICAgICAvLyBwb2ludCBvZiB0aGUgYXJndW1lbnQuIFNvIGNvbnN0cnVjdCBDcmVhdGVBcnJvdyB3aXRoIHRoZSB0YWlsIGJlZm9yZVxuICAgICAgICAvLyB0aGUgaGVhZC5cbiAgICAgICAgRWRpdEFjdGlvbi5jYWxsKHRoaXMsIGVkaXRvciwgJ0RFTEVURS1BUlJPVycsIGFycm93LmlkKTtcbiAgICAgICAgdGhpcy5jcmVhdGVBcnJvdyA9IG5ldyBDcmVhdGVBcnJvdyhcbiAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgIGFycm93LmlkLFxuICAgICAgICAgICAgYXJyb3cudGFpbCxcbiAgICAgICAgICAgIGFycm93LmhlYWQsXG4gICAgICAgICAgICBhcnJvdy5nZXRTdHlsZSgpKTtcbiAgICB9XG5cbiAgICBEZWxldGVBcnJvdy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVkaXRBY3Rpb24ucHJvdG90eXBlKTtcbiAgICBEZWxldGVBcnJvdy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBEZWxldGVBcnJvdztcblxuICAgIHZhciBwcm90byA9IERlbGV0ZUFycm93LnByb3RvdHlwZTtcblxuICAgIHByb3RvLnJlZG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB0aGlzLmNyZWF0ZUFycm93LnVuZG8oKTtcbiAgICB9O1xuXG4gICAgcHJvdG8udW5kbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHRoaXMuY3JlYXRlQXJyb3cucmVkbygpO1xuICAgIH07XG4iXSwibmFtZXMiOlsiRWRpdEFjdGlvbiIsIkNyZWF0ZUFycm93IiwiRGVsZXRlQXJyb3ciLCJlZGl0b3IiLCJhcnJvdyIsImNhbGwiLCJpZCIsImNyZWF0ZUFycm93IiwidGFpbCIsImhlYWQiLCJnZXRTdHlsZSIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwicHJvdG8iLCJyZWRvIiwidW5kbyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/DeleteArrow.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/DeleteCallout.js":
/*!**************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/DeleteCallout.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DeleteCallout: () => (/* binding */ DeleteCallout)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _CreateCallout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CreateCallout */ \"./extensions/Markup/core/edit-actions/CreateCallout.js\");\n\n\n\n\n\n/**\n *\n * @param editor\n * @param text\n * @constructor\n */\nfunction DeleteCallout(editor, callout) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'DELETE-CALLOUT', callout.id);\n\n  var position = { x: callout.position.x, y: callout.position.y };\n  var size = { x: callout.size.x, y: callout.size.y };\n\n  this.createCallout = new _CreateCallout__WEBPACK_IMPORTED_MODULE_1__.CreateCallout(\n    editor,\n    callout.id,\n    position,\n    size,\n    callout.getText(),\n    callout.getStyle(),\n    callout.isFrameUsed);\n}\n\nDeleteCallout.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nDeleteCallout.prototype.constructor = DeleteCallout;\n\nvar proto = DeleteCallout.prototype;\n\nproto.redo = function () {\n\n  this.createCallout.undo();\n};\n\nproto.undo = function () {\n\n  this.createCallout.redo();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9EZWxldGVDYWxsb3V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFhOztBQUU2QjtBQUNNOztBQUU1QztBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTRSxhQUFhQSxDQUFDQyxNQUFNLEVBQUVDLE9BQU8sRUFBRTs7RUFFM0NKLG1EQUFVLENBQUNLLElBQUksQ0FBQyxJQUFJLEVBQUVGLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRUMsT0FBTyxDQUFDRSxFQUFFLENBQUM7O0VBRTNELElBQUlDLFFBQVEsR0FBRyxFQUFDQyxDQUFDLEVBQUVKLE9BQU8sQ0FBQ0csUUFBUSxDQUFDQyxDQUFDLEVBQUVDLENBQUMsRUFBRUwsT0FBTyxDQUFDRyxRQUFRLENBQUNFLENBQUMsRUFBQztFQUM3RCxJQUFJQyxJQUFJLEdBQUcsRUFBQ0YsQ0FBQyxFQUFFSixPQUFPLENBQUNNLElBQUksQ0FBQ0YsQ0FBQyxFQUFFQyxDQUFDLEVBQUVMLE9BQU8sQ0FBQ00sSUFBSSxDQUFDRCxDQUFDLEVBQUM7O0VBRWpELElBQUksQ0FBQ0UsYUFBYSxHQUFHLElBQUlWLHlEQUFhO0lBQ2xDRSxNQUFNO0lBQ05DLE9BQU8sQ0FBQ0UsRUFBRTtJQUNWQyxRQUFRO0lBQ1JHLElBQUk7SUFDSk4sT0FBTyxDQUFDUSxPQUFPLENBQUMsQ0FBQztJQUNqQlIsT0FBTyxDQUFDUyxRQUFRLENBQUMsQ0FBQztJQUNsQlQsT0FBTyxDQUFDVSxXQUFXLENBQUM7QUFDNUI7O0FBRUFaLGFBQWEsQ0FBQ2EsU0FBUyxHQUFHQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ2pCLG1EQUFVLENBQUNlLFNBQVMsQ0FBQztBQUM3RGIsYUFBYSxDQUFDYSxTQUFTLENBQUNHLFdBQVcsR0FBR2hCLGFBQWE7O0FBRW5ELElBQUlpQixLQUFLLEdBQUdqQixhQUFhLENBQUNhLFNBQVM7O0FBRW5DSSxLQUFLLENBQUNDLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFJLENBQUNULGFBQWEsQ0FBQ1UsSUFBSSxDQUFDLENBQUM7QUFDN0IsQ0FBQzs7QUFFREYsS0FBSyxDQUFDRSxJQUFJLEdBQUcsWUFBVzs7RUFFcEIsSUFBSSxDQUFDVixhQUFhLENBQUNTLElBQUksQ0FBQyxDQUFDO0FBQzdCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9lZGl0LWFjdGlvbnMvRGVsZXRlQ2FsbG91dC5qcz8xN2RkIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRWRpdEFjdGlvbiB9IGZyb20gJy4vRWRpdEFjdGlvbic7XG5pbXBvcnQgeyBDcmVhdGVDYWxsb3V0IH0gZnJvbSAnLi9DcmVhdGVDYWxsb3V0JztcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGVkaXRvclxuICAgICAqIEBwYXJhbSB0ZXh0XG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIERlbGV0ZUNhbGxvdXQoZWRpdG9yLCBjYWxsb3V0KSB7XG5cbiAgICAgICAgRWRpdEFjdGlvbi5jYWxsKHRoaXMsIGVkaXRvciwgJ0RFTEVURS1DQUxMT1VUJywgY2FsbG91dC5pZCk7XG5cbiAgICAgICAgdmFyIHBvc2l0aW9uID0ge3g6IGNhbGxvdXQucG9zaXRpb24ueCwgeTogY2FsbG91dC5wb3NpdGlvbi55fTtcbiAgICAgICAgdmFyIHNpemUgPSB7eDogY2FsbG91dC5zaXplLngsIHk6IGNhbGxvdXQuc2l6ZS55fTtcblxuICAgICAgICB0aGlzLmNyZWF0ZUNhbGxvdXQgPSBuZXcgQ3JlYXRlQ2FsbG91dChcbiAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgIGNhbGxvdXQuaWQsXG4gICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgIHNpemUsXG4gICAgICAgICAgICBjYWxsb3V0LmdldFRleHQoKSxcbiAgICAgICAgICAgIGNhbGxvdXQuZ2V0U3R5bGUoKSxcbiAgICAgICAgICAgIGNhbGxvdXQuaXNGcmFtZVVzZWQpO1xuICAgIH1cblxuICAgIERlbGV0ZUNhbGxvdXQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFZGl0QWN0aW9uLnByb3RvdHlwZSk7XG4gICAgRGVsZXRlQ2FsbG91dC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBEZWxldGVDYWxsb3V0O1xuXG4gICAgdmFyIHByb3RvID0gRGVsZXRlQ2FsbG91dC5wcm90b3R5cGU7XG5cbiAgICBwcm90by5yZWRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVDYWxsb3V0LnVuZG8oKTtcbiAgICB9O1xuXG4gICAgcHJvdG8udW5kbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHRoaXMuY3JlYXRlQ2FsbG91dC5yZWRvKCk7XG4gICAgfTtcblxuIl0sIm5hbWVzIjpbIkVkaXRBY3Rpb24iLCJDcmVhdGVDYWxsb3V0IiwiRGVsZXRlQ2FsbG91dCIsImVkaXRvciIsImNhbGxvdXQiLCJjYWxsIiwiaWQiLCJwb3NpdGlvbiIsIngiLCJ5Iiwic2l6ZSIsImNyZWF0ZUNhbGxvdXQiLCJnZXRUZXh0IiwiZ2V0U3R5bGUiLCJpc0ZyYW1lVXNlZCIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwicHJvdG8iLCJyZWRvIiwidW5kbyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/DeleteCallout.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/DeleteCircle.js":
/*!*************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/DeleteCircle.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DeleteCircle: () => (/* binding */ DeleteCircle)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _CreateCircle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CreateCircle */ \"./extensions/Markup/core/edit-actions/CreateCircle.js\");\n\n\n\n\n\n/**\n * Markup delete circle action.\n *\n * Implements an {@link Autodesk.Viewing.Extensions.Markups.Core.EditAction|EditAction}\n * for deleting a Circle {@link Autodesk.Viewing.Extensions.Markups.Core.Markup|Markup}.\n * Included in documentation as an example of how to create\n * a specific EditAction that deals with Markup deletion.\n * Developers are encourage to look into this class's source code and copy\n * as much code as they need. Find link to source code below.\n *\n * @tutorial feature_markup\n * @constructor\n * @memberof Autodesk.Viewing.Extensions.Markups.Core\n * @extends Autodesk.Viewing.Extensions.Markups.Core.EditAction\n *\n * @param editor\n * @param circle\n */\nfunction DeleteCircle(editor, circle) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'DELETE-CIRCLE', circle.id);\n  this.createCircle = new _CreateCircle__WEBPACK_IMPORTED_MODULE_1__.CreateCircle(\n    editor,\n    circle.id,\n    circle.position,\n    circle.size,\n    circle.rotation,\n    circle.getStyle());\n}\n\nDeleteCircle.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nDeleteCircle.prototype.constructor = DeleteCircle;\n\nvar proto = DeleteCircle.prototype;\n\nproto.redo = function () {\n\n  this.createCircle.undo();\n};\n\nproto.undo = function () {\n\n  this.createCircle.redo();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9EZWxldGVDaXJjbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWE7O0FBRTZCO0FBQ0k7O0FBRTFDO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNXLFNBQVNFLFlBQVlBLENBQUNDLE1BQU0sRUFBRUMsTUFBTSxFQUFFOztFQUV6Q0osbURBQVUsQ0FBQ0ssSUFBSSxDQUFDLElBQUksRUFBRUYsTUFBTSxFQUFFLGVBQWUsRUFBRUMsTUFBTSxDQUFDRSxFQUFFLENBQUM7RUFDekQsSUFBSSxDQUFDQyxZQUFZLEdBQUcsSUFBSU4sdURBQVk7SUFDaENFLE1BQU07SUFDTkMsTUFBTSxDQUFDRSxFQUFFO0lBQ1RGLE1BQU0sQ0FBQ0ksUUFBUTtJQUNmSixNQUFNLENBQUNLLElBQUk7SUFDWEwsTUFBTSxDQUFDTSxRQUFRO0lBQ2ZOLE1BQU0sQ0FBQ08sUUFBUSxDQUFDLENBQUMsQ0FBQztBQUMxQjs7QUFFQVQsWUFBWSxDQUFDVSxTQUFTLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDZCxtREFBVSxDQUFDWSxTQUFTLENBQUM7QUFDNURWLFlBQVksQ0FBQ1UsU0FBUyxDQUFDRyxXQUFXLEdBQUdiLFlBQVk7O0FBRWpELElBQUljLEtBQUssR0FBR2QsWUFBWSxDQUFDVSxTQUFTOztBQUVsQ0ksS0FBSyxDQUFDQyxJQUFJLEdBQUcsWUFBVzs7RUFFcEIsSUFBSSxDQUFDVixZQUFZLENBQUNXLElBQUksQ0FBQyxDQUFDO0FBQzVCLENBQUM7O0FBRURGLEtBQUssQ0FBQ0UsSUFBSSxHQUFHLFlBQVc7O0VBRXBCLElBQUksQ0FBQ1gsWUFBWSxDQUFDVSxJQUFJLENBQUMsQ0FBQztBQUM1QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvZWRpdC1hY3Rpb25zL0RlbGV0ZUNpcmNsZS5qcz82MDI0Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRWRpdEFjdGlvbiB9IGZyb20gJy4vRWRpdEFjdGlvbic7XG5pbXBvcnQgeyBDcmVhdGVDaXJjbGUgfSBmcm9tICcuL0NyZWF0ZUNpcmNsZSc7XG5cbiAgICAvKipcbiAgICAgKiBNYXJrdXAgZGVsZXRlIGNpcmNsZSBhY3Rpb24uXG4gICAgICpcbiAgICAgKiBJbXBsZW1lbnRzIGFuIHtAbGluayBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlLkVkaXRBY3Rpb258RWRpdEFjdGlvbn1cbiAgICAgKiBmb3IgZGVsZXRpbmcgYSBDaXJjbGUge0BsaW5rIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzLkNvcmUuTWFya3VwfE1hcmt1cH0uXG4gICAgICogSW5jbHVkZWQgaW4gZG9jdW1lbnRhdGlvbiBhcyBhbiBleGFtcGxlIG9mIGhvdyB0byBjcmVhdGVcbiAgICAgKiBhIHNwZWNpZmljIEVkaXRBY3Rpb24gdGhhdCBkZWFscyB3aXRoIE1hcmt1cCBkZWxldGlvbi5cbiAgICAgKiBEZXZlbG9wZXJzIGFyZSBlbmNvdXJhZ2UgdG8gbG9vayBpbnRvIHRoaXMgY2xhc3MncyBzb3VyY2UgY29kZSBhbmQgY29weVxuICAgICAqIGFzIG11Y2ggY29kZSBhcyB0aGV5IG5lZWQuIEZpbmQgbGluayB0byBzb3VyY2UgY29kZSBiZWxvdy5cbiAgICAgKlxuICAgICAqIEB0dXRvcmlhbCBmZWF0dXJlX21hcmt1cFxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJvZiBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlXG4gICAgICogQGV4dGVuZHMgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZS5FZGl0QWN0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWRpdG9yXG4gICAgICogQHBhcmFtIGNpcmNsZVxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBEZWxldGVDaXJjbGUoZWRpdG9yLCBjaXJjbGUpIHtcblxuICAgICAgICBFZGl0QWN0aW9uLmNhbGwodGhpcywgZWRpdG9yLCAnREVMRVRFLUNJUkNMRScsIGNpcmNsZS5pZCk7XG4gICAgICAgIHRoaXMuY3JlYXRlQ2lyY2xlID0gbmV3IENyZWF0ZUNpcmNsZShcbiAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgIGNpcmNsZS5pZCxcbiAgICAgICAgICAgIGNpcmNsZS5wb3NpdGlvbixcbiAgICAgICAgICAgIGNpcmNsZS5zaXplLFxuICAgICAgICAgICAgY2lyY2xlLnJvdGF0aW9uLFxuICAgICAgICAgICAgY2lyY2xlLmdldFN0eWxlKCkpO1xuICAgIH1cblxuICAgIERlbGV0ZUNpcmNsZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVkaXRBY3Rpb24ucHJvdG90eXBlKTtcbiAgICBEZWxldGVDaXJjbGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRGVsZXRlQ2lyY2xlO1xuXG4gICAgdmFyIHByb3RvID0gRGVsZXRlQ2lyY2xlLnByb3RvdHlwZTtcblxuICAgIHByb3RvLnJlZG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB0aGlzLmNyZWF0ZUNpcmNsZS51bmRvKCk7XG4gICAgfTtcblxuICAgIHByb3RvLnVuZG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB0aGlzLmNyZWF0ZUNpcmNsZS5yZWRvKCk7XG4gICAgfTtcblxuXG4iXSwibmFtZXMiOlsiRWRpdEFjdGlvbiIsIkNyZWF0ZUNpcmNsZSIsIkRlbGV0ZUNpcmNsZSIsImVkaXRvciIsImNpcmNsZSIsImNhbGwiLCJpZCIsImNyZWF0ZUNpcmNsZSIsInBvc2l0aW9uIiwic2l6ZSIsInJvdGF0aW9uIiwiZ2V0U3R5bGUiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwicmVkbyIsInVuZG8iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/DeleteCircle.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/DeleteCloud.js":
/*!************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/DeleteCloud.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DeleteCloud: () => (/* binding */ DeleteCloud)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _CreateCloud__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CreateCloud */ \"./extensions/Markup/core/edit-actions/CreateCloud.js\");\n\n\n\n\n\n/**\n *\n * @param editor\n * @param cloud\n * @constructor\n */\nfunction DeleteCloud(editor, cloud) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'DELETE-CLOUD', cloud.id);\n  this.createCloud = new _CreateCloud__WEBPACK_IMPORTED_MODULE_1__.CreateCloud(\n    editor,\n    cloud.id,\n    cloud.position,\n    cloud.size,\n    cloud.rotation,\n    cloud.getStyle());\n}\n\nDeleteCloud.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nDeleteCloud.prototype.constructor = DeleteCloud;\n\nvar proto = DeleteCloud.prototype;\n\nproto.redo = function () {\n\n  this.createCloud.undo();\n};\n\nproto.undo = function () {\n\n  this.createCloud.redo();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9EZWxldGVDbG91ZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBYTs7QUFFNkI7QUFDRTs7QUFFeEM7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ1csU0FBU0UsV0FBV0EsQ0FBQ0MsTUFBTSxFQUFFQyxLQUFLLEVBQUU7O0VBRXZDSixtREFBVSxDQUFDSyxJQUFJLENBQUMsSUFBSSxFQUFFRixNQUFNLEVBQUUsY0FBYyxFQUFFQyxLQUFLLENBQUNFLEVBQUUsQ0FBQztFQUN2RCxJQUFJLENBQUNDLFdBQVcsR0FBRyxJQUFJTixxREFBVztJQUM5QkUsTUFBTTtJQUNOQyxLQUFLLENBQUNFLEVBQUU7SUFDUkYsS0FBSyxDQUFDSSxRQUFRO0lBQ2RKLEtBQUssQ0FBQ0ssSUFBSTtJQUNWTCxLQUFLLENBQUNNLFFBQVE7SUFDZE4sS0FBSyxDQUFDTyxRQUFRLENBQUMsQ0FBQyxDQUFDO0FBQ3pCOztBQUVBVCxXQUFXLENBQUNVLFNBQVMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUNkLG1EQUFVLENBQUNZLFNBQVMsQ0FBQztBQUMzRFYsV0FBVyxDQUFDVSxTQUFTLENBQUNHLFdBQVcsR0FBR2IsV0FBVzs7QUFFL0MsSUFBSWMsS0FBSyxHQUFHZCxXQUFXLENBQUNVLFNBQVM7O0FBRWpDSSxLQUFLLENBQUNDLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFJLENBQUNWLFdBQVcsQ0FBQ1csSUFBSSxDQUFDLENBQUM7QUFDM0IsQ0FBQzs7QUFFREYsS0FBSyxDQUFDRSxJQUFJLEdBQUcsWUFBVzs7RUFFcEIsSUFBSSxDQUFDWCxXQUFXLENBQUNVLElBQUksQ0FBQyxDQUFDO0FBQzNCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9lZGl0LWFjdGlvbnMvRGVsZXRlQ2xvdWQuanM/ZjNiYiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IEVkaXRBY3Rpb24gfSBmcm9tICcuL0VkaXRBY3Rpb24nO1xuaW1wb3J0IHsgQ3JlYXRlQ2xvdWQgfSBmcm9tICcuL0NyZWF0ZUNsb3VkJztcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGVkaXRvclxuICAgICAqIEBwYXJhbSBjbG91ZFxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBEZWxldGVDbG91ZChlZGl0b3IsIGNsb3VkKSB7XG5cbiAgICAgICAgRWRpdEFjdGlvbi5jYWxsKHRoaXMsIGVkaXRvciwgJ0RFTEVURS1DTE9VRCcsIGNsb3VkLmlkKTtcbiAgICAgICAgdGhpcy5jcmVhdGVDbG91ZCA9IG5ldyBDcmVhdGVDbG91ZChcbiAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgIGNsb3VkLmlkLFxuICAgICAgICAgICAgY2xvdWQucG9zaXRpb24sXG4gICAgICAgICAgICBjbG91ZC5zaXplLFxuICAgICAgICAgICAgY2xvdWQucm90YXRpb24sXG4gICAgICAgICAgICBjbG91ZC5nZXRTdHlsZSgpKTtcbiAgICB9XG5cbiAgICBEZWxldGVDbG91ZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVkaXRBY3Rpb24ucHJvdG90eXBlKTtcbiAgICBEZWxldGVDbG91ZC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBEZWxldGVDbG91ZDtcblxuICAgIHZhciBwcm90byA9IERlbGV0ZUNsb3VkLnByb3RvdHlwZTtcblxuICAgIHByb3RvLnJlZG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB0aGlzLmNyZWF0ZUNsb3VkLnVuZG8oKTtcbiAgICB9O1xuXG4gICAgcHJvdG8udW5kbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHRoaXMuY3JlYXRlQ2xvdWQucmVkbygpO1xuICAgIH07XG5cbiJdLCJuYW1lcyI6WyJFZGl0QWN0aW9uIiwiQ3JlYXRlQ2xvdWQiLCJEZWxldGVDbG91ZCIsImVkaXRvciIsImNsb3VkIiwiY2FsbCIsImlkIiwiY3JlYXRlQ2xvdWQiLCJwb3NpdGlvbiIsInNpemUiLCJyb3RhdGlvbiIsImdldFN0eWxlIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJwcm90byIsInJlZG8iLCJ1bmRvIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/DeleteCloud.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/DeleteDimension.js":
/*!****************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/DeleteDimension.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DeleteDimension: () => (/* binding */ DeleteDimension)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _CreateDimension__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CreateDimension */ \"./extensions/Markup/core/edit-actions/CreateDimension.js\");\n\n\n\n\n\n/**\n *\n * @param editor\n * @param dimension\n * @constructor\n */\nfunction DeleteDimension(editor, dimension) {\n\n  // Confusing naming here. Dimension.secondAnchor is the starting point of the dimension,\n  // and dimension.firstAnchor is the final point. In CreateDimension the firstAnchor argument\n  // is the first point of the dimension and the secondAnchor argument is the second\n  // point of the argument. So construct CreateDimension with the secondAnchor before\n  // the firstAnchor.\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'DELETE-DIMENSION', dimension.id);\n  this.createDimension = new _CreateDimension__WEBPACK_IMPORTED_MODULE_1__.CreateDimension(\n    editor,\n    dimension.id,\n    dimension.secondAnchor,\n    dimension.firstAnchor,\n    dimension.currentText,\n    dimension.getStyle());\n}\n\nDeleteDimension.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nDeleteDimension.prototype.constructor = DeleteDimension;\n\nvar proto = DeleteDimension.prototype;\n\nproto.redo = function () {\n\n  this.createDimension.undo();\n};\n\nproto.undo = function () {\n\n  this.createDimension.redo();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9EZWxldGVEaW1lbnNpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWE7O0FBRTZCO0FBQ1U7O0FBRWhEO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNXLFNBQVNFLGVBQWVBLENBQUNDLE1BQU0sRUFBRUMsU0FBUyxFQUFFOztFQUUvQztFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0FKLG1EQUFVLENBQUNLLElBQUksQ0FBQyxJQUFJLEVBQUVGLE1BQU0sRUFBRSxrQkFBa0IsRUFBRUMsU0FBUyxDQUFDRSxFQUFFLENBQUM7RUFDL0QsSUFBSSxDQUFDQyxlQUFlLEdBQUcsSUFBSU4sNkRBQWU7SUFDdENFLE1BQU07SUFDTkMsU0FBUyxDQUFDRSxFQUFFO0lBQ1pGLFNBQVMsQ0FBQ0ksWUFBWTtJQUN0QkosU0FBUyxDQUFDSyxXQUFXO0lBQ3JCTCxTQUFTLENBQUNNLFdBQVc7SUFDckJOLFNBQVMsQ0FBQ08sUUFBUSxDQUFDLENBQUMsQ0FBQztBQUM3Qjs7QUFFQVQsZUFBZSxDQUFDVSxTQUFTLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDZCxtREFBVSxDQUFDWSxTQUFTLENBQUM7QUFDL0RWLGVBQWUsQ0FBQ1UsU0FBUyxDQUFDRyxXQUFXLEdBQUdiLGVBQWU7O0FBRXZELElBQUljLEtBQUssR0FBR2QsZUFBZSxDQUFDVSxTQUFTOztBQUVyQ0ksS0FBSyxDQUFDQyxJQUFJLEdBQUcsWUFBVzs7RUFFcEIsSUFBSSxDQUFDVixlQUFlLENBQUNXLElBQUksQ0FBQyxDQUFDO0FBQy9CLENBQUM7O0FBRURGLEtBQUssQ0FBQ0UsSUFBSSxHQUFHLFlBQVc7O0VBRXBCLElBQUksQ0FBQ1gsZUFBZSxDQUFDVSxJQUFJLENBQUMsQ0FBQztBQUMvQixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvZWRpdC1hY3Rpb25zL0RlbGV0ZURpbWVuc2lvbi5qcz80YTQ4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRWRpdEFjdGlvbiB9IGZyb20gJy4vRWRpdEFjdGlvbic7XG5pbXBvcnQgeyBDcmVhdGVEaW1lbnNpb24gfSBmcm9tICcuL0NyZWF0ZURpbWVuc2lvbic7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlZGl0b3JcbiAgICAgKiBAcGFyYW0gZGltZW5zaW9uXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIERlbGV0ZURpbWVuc2lvbihlZGl0b3IsIGRpbWVuc2lvbikge1xuXG4gICAgICAgIC8vIENvbmZ1c2luZyBuYW1pbmcgaGVyZS4gRGltZW5zaW9uLnNlY29uZEFuY2hvciBpcyB0aGUgc3RhcnRpbmcgcG9pbnQgb2YgdGhlIGRpbWVuc2lvbixcbiAgICAgICAgLy8gYW5kIGRpbWVuc2lvbi5maXJzdEFuY2hvciBpcyB0aGUgZmluYWwgcG9pbnQuIEluIENyZWF0ZURpbWVuc2lvbiB0aGUgZmlyc3RBbmNob3IgYXJndW1lbnRcbiAgICAgICAgLy8gaXMgdGhlIGZpcnN0IHBvaW50IG9mIHRoZSBkaW1lbnNpb24gYW5kIHRoZSBzZWNvbmRBbmNob3IgYXJndW1lbnQgaXMgdGhlIHNlY29uZFxuICAgICAgICAvLyBwb2ludCBvZiB0aGUgYXJndW1lbnQuIFNvIGNvbnN0cnVjdCBDcmVhdGVEaW1lbnNpb24gd2l0aCB0aGUgc2Vjb25kQW5jaG9yIGJlZm9yZVxuICAgICAgICAvLyB0aGUgZmlyc3RBbmNob3IuXG4gICAgICAgIEVkaXRBY3Rpb24uY2FsbCh0aGlzLCBlZGl0b3IsICdERUxFVEUtRElNRU5TSU9OJywgZGltZW5zaW9uLmlkKTtcbiAgICAgICAgdGhpcy5jcmVhdGVEaW1lbnNpb24gPSBuZXcgQ3JlYXRlRGltZW5zaW9uKFxuICAgICAgICAgICAgZWRpdG9yLFxuICAgICAgICAgICAgZGltZW5zaW9uLmlkLFxuICAgICAgICAgICAgZGltZW5zaW9uLnNlY29uZEFuY2hvcixcbiAgICAgICAgICAgIGRpbWVuc2lvbi5maXJzdEFuY2hvcixcbiAgICAgICAgICAgIGRpbWVuc2lvbi5jdXJyZW50VGV4dCxcbiAgICAgICAgICAgIGRpbWVuc2lvbi5nZXRTdHlsZSgpKTtcbiAgICB9XG5cbiAgICBEZWxldGVEaW1lbnNpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFZGl0QWN0aW9uLnByb3RvdHlwZSk7XG4gICAgRGVsZXRlRGltZW5zaW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERlbGV0ZURpbWVuc2lvbjtcblxuICAgIHZhciBwcm90byA9IERlbGV0ZURpbWVuc2lvbi5wcm90b3R5cGU7XG5cbiAgICBwcm90by5yZWRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVEaW1lbnNpb24udW5kbygpO1xuICAgIH07XG5cbiAgICBwcm90by51bmRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVEaW1lbnNpb24ucmVkbygpO1xuICAgIH07XG5cblxuIl0sIm5hbWVzIjpbIkVkaXRBY3Rpb24iLCJDcmVhdGVEaW1lbnNpb24iLCJEZWxldGVEaW1lbnNpb24iLCJlZGl0b3IiLCJkaW1lbnNpb24iLCJjYWxsIiwiaWQiLCJjcmVhdGVEaW1lbnNpb24iLCJzZWNvbmRBbmNob3IiLCJmaXJzdEFuY2hvciIsImN1cnJlbnRUZXh0IiwiZ2V0U3R5bGUiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwicmVkbyIsInVuZG8iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/DeleteDimension.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/DeleteFreehand.js":
/*!***************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/DeleteFreehand.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DeleteFreehand: () => (/* binding */ DeleteFreehand)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _CreateFreehand__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CreateFreehand */ \"./extensions/Markup/core/edit-actions/CreateFreehand.js\");\n\n\n\n\n\n/**\n *\n * @param editor\n * @param freehand\n * @constructor\n */\nfunction DeleteFreehand(editor, freehand) {\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'DELETE-FREEHAND', freehand.id);\n  this.createFreehand = new _CreateFreehand__WEBPACK_IMPORTED_MODULE_1__.CreateFreehand(\n    editor,\n    freehand.id,\n    freehand.position,\n    freehand.size,\n    freehand.rotation,\n    freehand.locations,\n    freehand.getStyle());\n}\n\nDeleteFreehand.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nDeleteFreehand.prototype.constructor = DeleteFreehand;\n\nvar proto = DeleteFreehand.prototype;\n\nproto.redo = function () {\n\n  this.createFreehand.undo();\n};\n\nproto.undo = function () {\n\n  this.createFreehand.redo();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9EZWxldGVGcmVlaGFuZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBYTs7QUFFNkI7QUFDUTs7QUFFOUM7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ1csU0FBU0UsY0FBY0EsQ0FBQ0MsTUFBTSxFQUFFQyxRQUFRLEVBQUU7RUFDN0NKLG1EQUFVLENBQUNLLElBQUksQ0FBQyxJQUFJLEVBQUVGLE1BQU0sRUFBRSxpQkFBaUIsRUFBRUMsUUFBUSxDQUFDRSxFQUFFLENBQUM7RUFDN0QsSUFBSSxDQUFDQyxjQUFjLEdBQUcsSUFBSU4sMkRBQWM7SUFDcENFLE1BQU07SUFDTkMsUUFBUSxDQUFDRSxFQUFFO0lBQ1hGLFFBQVEsQ0FBQ0ksUUFBUTtJQUNqQkosUUFBUSxDQUFDSyxJQUFJO0lBQ2JMLFFBQVEsQ0FBQ00sUUFBUTtJQUNqQk4sUUFBUSxDQUFDTyxTQUFTO0lBQ2xCUCxRQUFRLENBQUNRLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDNUI7O0FBRUFWLGNBQWMsQ0FBQ1csU0FBUyxHQUFHQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ2YsbURBQVUsQ0FBQ2EsU0FBUyxDQUFDO0FBQzlEWCxjQUFjLENBQUNXLFNBQVMsQ0FBQ0csV0FBVyxHQUFHZCxjQUFjOztBQUVyRCxJQUFJZSxLQUFLLEdBQUdmLGNBQWMsQ0FBQ1csU0FBUzs7QUFFcENJLEtBQUssQ0FBQ0MsSUFBSSxHQUFHLFlBQVc7O0VBRXBCLElBQUksQ0FBQ1gsY0FBYyxDQUFDWSxJQUFJLENBQUMsQ0FBQztBQUM5QixDQUFDOztBQUVERixLQUFLLENBQUNFLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFJLENBQUNaLGNBQWMsQ0FBQ1csSUFBSSxDQUFDLENBQUM7QUFDOUIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9EZWxldGVGcmVlaGFuZC5qcz84YmJlIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRWRpdEFjdGlvbiB9IGZyb20gJy4vRWRpdEFjdGlvbic7XG5pbXBvcnQgeyBDcmVhdGVGcmVlaGFuZCB9IGZyb20gJy4vQ3JlYXRlRnJlZWhhbmQnO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWRpdG9yXG4gICAgICogQHBhcmFtIGZyZWVoYW5kXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIERlbGV0ZUZyZWVoYW5kKGVkaXRvciwgZnJlZWhhbmQpIHtcbiAgICAgICAgRWRpdEFjdGlvbi5jYWxsKHRoaXMsIGVkaXRvciwgJ0RFTEVURS1GUkVFSEFORCcsIGZyZWVoYW5kLmlkKTtcbiAgICAgICAgdGhpcy5jcmVhdGVGcmVlaGFuZCA9IG5ldyBDcmVhdGVGcmVlaGFuZChcbiAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgIGZyZWVoYW5kLmlkLFxuICAgICAgICAgICAgZnJlZWhhbmQucG9zaXRpb24sXG4gICAgICAgICAgICBmcmVlaGFuZC5zaXplLFxuICAgICAgICAgICAgZnJlZWhhbmQucm90YXRpb24sXG4gICAgICAgICAgICBmcmVlaGFuZC5sb2NhdGlvbnMsXG4gICAgICAgICAgICBmcmVlaGFuZC5nZXRTdHlsZSgpKTtcbiAgICB9XG5cbiAgICBEZWxldGVGcmVlaGFuZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVkaXRBY3Rpb24ucHJvdG90eXBlKTtcbiAgICBEZWxldGVGcmVlaGFuZC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBEZWxldGVGcmVlaGFuZDtcblxuICAgIHZhciBwcm90byA9IERlbGV0ZUZyZWVoYW5kLnByb3RvdHlwZTtcblxuICAgIHByb3RvLnJlZG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB0aGlzLmNyZWF0ZUZyZWVoYW5kLnVuZG8oKTtcbiAgICB9O1xuXG4gICAgcHJvdG8udW5kbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHRoaXMuY3JlYXRlRnJlZWhhbmQucmVkbygpO1xuICAgIH07XG4iXSwibmFtZXMiOlsiRWRpdEFjdGlvbiIsIkNyZWF0ZUZyZWVoYW5kIiwiRGVsZXRlRnJlZWhhbmQiLCJlZGl0b3IiLCJmcmVlaGFuZCIsImNhbGwiLCJpZCIsImNyZWF0ZUZyZWVoYW5kIiwicG9zaXRpb24iLCJzaXplIiwicm90YXRpb24iLCJsb2NhdGlvbnMiLCJnZXRTdHlsZSIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwicHJvdG8iLCJyZWRvIiwidW5kbyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/DeleteFreehand.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/DeleteHighlight.js":
/*!****************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/DeleteHighlight.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DeleteHighlight: () => (/* binding */ DeleteHighlight)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _CreateHighlight__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CreateHighlight */ \"./extensions/Markup/core/edit-actions/CreateHighlight.js\");\n\n\n\n\n\n/**\n *\n * @param editor\n * @param highlight\n * @constructor\n */\nfunction DeleteHighlight(editor, highlight) {\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'DELETE-HIGHLIGHT', highlight.id);\n  this.createHighlight = new _CreateHighlight__WEBPACK_IMPORTED_MODULE_1__.CreateHighlight(\n    editor,\n    highlight.id,\n    highlight.position,\n    highlight.size,\n    highlight.rotation,\n    highlight.locations,\n    highlight.getStyle());\n}\n\nDeleteHighlight.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nDeleteHighlight.prototype.constructor = DeleteHighlight;\n\nvar proto = DeleteHighlight.prototype;\n\nproto.redo = function () {\n\n  this.createHighlight.undo();\n};\n\nproto.undo = function () {\n\n  this.createHighlight.redo();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9EZWxldGVIaWdobGlnaHQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWE7O0FBRTZCO0FBQ1U7O0FBRWhEO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNXLFNBQVNFLGVBQWVBLENBQUNDLE1BQU0sRUFBRUMsU0FBUyxFQUFFO0VBQy9DSixtREFBVSxDQUFDSyxJQUFJLENBQUMsSUFBSSxFQUFFRixNQUFNLEVBQUUsa0JBQWtCLEVBQUVDLFNBQVMsQ0FBQ0UsRUFBRSxDQUFDO0VBQy9ELElBQUksQ0FBQ0MsZUFBZSxHQUFHLElBQUlOLDZEQUFlO0lBQ3RDRSxNQUFNO0lBQ05DLFNBQVMsQ0FBQ0UsRUFBRTtJQUNaRixTQUFTLENBQUNJLFFBQVE7SUFDbEJKLFNBQVMsQ0FBQ0ssSUFBSTtJQUNkTCxTQUFTLENBQUNNLFFBQVE7SUFDbEJOLFNBQVMsQ0FBQ08sU0FBUztJQUNuQlAsU0FBUyxDQUFDUSxRQUFRLENBQUMsQ0FBQyxDQUFDO0FBQzdCOztBQUVBVixlQUFlLENBQUNXLFNBQVMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUNmLG1EQUFVLENBQUNhLFNBQVMsQ0FBQztBQUMvRFgsZUFBZSxDQUFDVyxTQUFTLENBQUNHLFdBQVcsR0FBR2QsZUFBZTs7QUFFdkQsSUFBSWUsS0FBSyxHQUFHZixlQUFlLENBQUNXLFNBQVM7O0FBRXJDSSxLQUFLLENBQUNDLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFJLENBQUNYLGVBQWUsQ0FBQ1ksSUFBSSxDQUFDLENBQUM7QUFDL0IsQ0FBQzs7QUFFREYsS0FBSyxDQUFDRSxJQUFJLEdBQUcsWUFBVzs7RUFFcEIsSUFBSSxDQUFDWixlQUFlLENBQUNXLElBQUksQ0FBQyxDQUFDO0FBQy9CLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9lZGl0LWFjdGlvbnMvRGVsZXRlSGlnaGxpZ2h0LmpzP2E1MzYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBFZGl0QWN0aW9uIH0gZnJvbSAnLi9FZGl0QWN0aW9uJztcbmltcG9ydCB7IENyZWF0ZUhpZ2hsaWdodCB9IGZyb20gJy4vQ3JlYXRlSGlnaGxpZ2h0JztcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGVkaXRvclxuICAgICAqIEBwYXJhbSBoaWdobGlnaHRcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gRGVsZXRlSGlnaGxpZ2h0KGVkaXRvciwgaGlnaGxpZ2h0KSB7XG4gICAgICAgIEVkaXRBY3Rpb24uY2FsbCh0aGlzLCBlZGl0b3IsICdERUxFVEUtSElHSExJR0hUJywgaGlnaGxpZ2h0LmlkKTtcbiAgICAgICAgdGhpcy5jcmVhdGVIaWdobGlnaHQgPSBuZXcgQ3JlYXRlSGlnaGxpZ2h0KFxuICAgICAgICAgICAgZWRpdG9yLFxuICAgICAgICAgICAgaGlnaGxpZ2h0LmlkLFxuICAgICAgICAgICAgaGlnaGxpZ2h0LnBvc2l0aW9uLFxuICAgICAgICAgICAgaGlnaGxpZ2h0LnNpemUsXG4gICAgICAgICAgICBoaWdobGlnaHQucm90YXRpb24sXG4gICAgICAgICAgICBoaWdobGlnaHQubG9jYXRpb25zLFxuICAgICAgICAgICAgaGlnaGxpZ2h0LmdldFN0eWxlKCkpO1xuICAgIH1cblxuICAgIERlbGV0ZUhpZ2hsaWdodC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVkaXRBY3Rpb24ucHJvdG90eXBlKTtcbiAgICBEZWxldGVIaWdobGlnaHQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRGVsZXRlSGlnaGxpZ2h0O1xuXG4gICAgdmFyIHByb3RvID0gRGVsZXRlSGlnaGxpZ2h0LnByb3RvdHlwZTtcblxuICAgIHByb3RvLnJlZG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB0aGlzLmNyZWF0ZUhpZ2hsaWdodC51bmRvKCk7XG4gICAgfTtcblxuICAgIHByb3RvLnVuZG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB0aGlzLmNyZWF0ZUhpZ2hsaWdodC5yZWRvKCk7XG4gICAgfTtcbiJdLCJuYW1lcyI6WyJFZGl0QWN0aW9uIiwiQ3JlYXRlSGlnaGxpZ2h0IiwiRGVsZXRlSGlnaGxpZ2h0IiwiZWRpdG9yIiwiaGlnaGxpZ2h0IiwiY2FsbCIsImlkIiwiY3JlYXRlSGlnaGxpZ2h0IiwicG9zaXRpb24iLCJzaXplIiwicm90YXRpb24iLCJsb2NhdGlvbnMiLCJnZXRTdHlsZSIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwicHJvdG8iLCJyZWRvIiwidW5kbyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/DeleteHighlight.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/DeletePolycloud.js":
/*!****************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/DeletePolycloud.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DeletePolycloud: () => (/* binding */ DeletePolycloud)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _CreatePolycloud__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CreatePolycloud */ \"./extensions/Markup/core/edit-actions/CreatePolycloud.js\");\n\n\n\n\n\n/**\n *\n * @param editor\n * @param polycloud\n * @constructor\n */\nfunction DeletePolycloud(editor, polycloud) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'DELETE-POLYCLOUD', polycloud.id);\n  this.createPolycloud = new _CreatePolycloud__WEBPACK_IMPORTED_MODULE_1__.CreatePolycloud(\n    editor,\n    polycloud.id,\n    polycloud.position,\n    polycloud.size,\n    polycloud.rotation,\n    polycloud.locations,\n    polycloud.getStyle(),\n    polycloud.closed);\n}\n\nDeletePolycloud.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nDeletePolycloud.prototype.constructor = DeletePolycloud;\n\nvar proto = DeletePolycloud.prototype;\n\nproto.redo = function () {\n\n  this.createPolycloud.undo();\n};\n\nproto.undo = function () {\n\n  this.createPolycloud.redo();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9EZWxldGVQb2x5Y2xvdWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWE7O0FBRTZCO0FBQ1U7O0FBRWhEO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNXLFNBQVNFLGVBQWVBLENBQUNDLE1BQU0sRUFBRUMsU0FBUyxFQUFFOztFQUUvQ0osbURBQVUsQ0FBQ0ssSUFBSSxDQUFDLElBQUksRUFBRUYsTUFBTSxFQUFFLGtCQUFrQixFQUFFQyxTQUFTLENBQUNFLEVBQUUsQ0FBQztFQUMvRCxJQUFJLENBQUNDLGVBQWUsR0FBRyxJQUFJTiw2REFBZTtJQUN0Q0UsTUFBTTtJQUNOQyxTQUFTLENBQUNFLEVBQUU7SUFDWkYsU0FBUyxDQUFDSSxRQUFRO0lBQ2xCSixTQUFTLENBQUNLLElBQUk7SUFDZEwsU0FBUyxDQUFDTSxRQUFRO0lBQ2xCTixTQUFTLENBQUNPLFNBQVM7SUFDbkJQLFNBQVMsQ0FBQ1EsUUFBUSxDQUFDLENBQUM7SUFDcEJSLFNBQVMsQ0FBQ1MsTUFBTSxDQUFDO0FBQ3pCOztBQUVBWCxlQUFlLENBQUNZLFNBQVMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUNoQixtREFBVSxDQUFDYyxTQUFTLENBQUM7QUFDL0RaLGVBQWUsQ0FBQ1ksU0FBUyxDQUFDRyxXQUFXLEdBQUdmLGVBQWU7O0FBRXZELElBQUlnQixLQUFLLEdBQUloQixlQUFlLENBQUNZLFNBQVM7O0FBRXRDSSxLQUFLLENBQUNDLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFJLENBQUNaLGVBQWUsQ0FBQ2EsSUFBSSxDQUFDLENBQUM7QUFDL0IsQ0FBQzs7QUFFREYsS0FBSyxDQUFDRSxJQUFJLEdBQUcsWUFBVzs7RUFFcEIsSUFBSSxDQUFDYixlQUFlLENBQUNZLElBQUksQ0FBQyxDQUFDO0FBQy9CLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9lZGl0LWFjdGlvbnMvRGVsZXRlUG9seWNsb3VkLmpzPzE4OGYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBFZGl0QWN0aW9uIH0gZnJvbSAnLi9FZGl0QWN0aW9uJztcbmltcG9ydCB7IENyZWF0ZVBvbHljbG91ZCB9IGZyb20gJy4vQ3JlYXRlUG9seWNsb3VkJztcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGVkaXRvclxuICAgICAqIEBwYXJhbSBwb2x5Y2xvdWRcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gRGVsZXRlUG9seWNsb3VkKGVkaXRvciwgcG9seWNsb3VkKSB7XG5cbiAgICAgICAgRWRpdEFjdGlvbi5jYWxsKHRoaXMsIGVkaXRvciwgJ0RFTEVURS1QT0xZQ0xPVUQnLCBwb2x5Y2xvdWQuaWQpO1xuICAgICAgICB0aGlzLmNyZWF0ZVBvbHljbG91ZCA9IG5ldyBDcmVhdGVQb2x5Y2xvdWQoXG4gICAgICAgICAgICBlZGl0b3IsXG4gICAgICAgICAgICBwb2x5Y2xvdWQuaWQsXG4gICAgICAgICAgICBwb2x5Y2xvdWQucG9zaXRpb24sXG4gICAgICAgICAgICBwb2x5Y2xvdWQuc2l6ZSxcbiAgICAgICAgICAgIHBvbHljbG91ZC5yb3RhdGlvbixcbiAgICAgICAgICAgIHBvbHljbG91ZC5sb2NhdGlvbnMsXG4gICAgICAgICAgICBwb2x5Y2xvdWQuZ2V0U3R5bGUoKSxcbiAgICAgICAgICAgIHBvbHljbG91ZC5jbG9zZWQpO1xuICAgIH1cblxuICAgIERlbGV0ZVBvbHljbG91ZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVkaXRBY3Rpb24ucHJvdG90eXBlKTtcbiAgICBEZWxldGVQb2x5Y2xvdWQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRGVsZXRlUG9seWNsb3VkO1xuXG4gICAgdmFyIHByb3RvID0gIERlbGV0ZVBvbHljbG91ZC5wcm90b3R5cGU7XG5cbiAgICBwcm90by5yZWRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVQb2x5Y2xvdWQudW5kbygpO1xuICAgIH07XG5cbiAgICBwcm90by51bmRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVQb2x5Y2xvdWQucmVkbygpO1xuICAgIH07XG4iXSwibmFtZXMiOlsiRWRpdEFjdGlvbiIsIkNyZWF0ZVBvbHljbG91ZCIsIkRlbGV0ZVBvbHljbG91ZCIsImVkaXRvciIsInBvbHljbG91ZCIsImNhbGwiLCJpZCIsImNyZWF0ZVBvbHljbG91ZCIsInBvc2l0aW9uIiwic2l6ZSIsInJvdGF0aW9uIiwibG9jYXRpb25zIiwiZ2V0U3R5bGUiLCJjbG9zZWQiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwicmVkbyIsInVuZG8iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/DeletePolycloud.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/DeletePolyline.js":
/*!***************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/DeletePolyline.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DeletePolyline: () => (/* binding */ DeletePolyline)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _CreatePolyline__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CreatePolyline */ \"./extensions/Markup/core/edit-actions/CreatePolyline.js\");\n\n\n\n\n\n/**\n *\n * @param editor\n * @param polyline\n * @constructor\n */\nfunction DeletePolyline(editor, polyline) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'DELETE-POLYLINE', polyline.id);\n  this.createPolyline = new _CreatePolyline__WEBPACK_IMPORTED_MODULE_1__.CreatePolyline(\n    editor,\n    polyline.id,\n    polyline.position,\n    polyline.size,\n    polyline.rotation,\n    polyline.locations,\n    polyline.getStyle(),\n    polyline.closed);\n}\n\nDeletePolyline.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nDeletePolyline.prototype.constructor = DeletePolyline;\n\nvar proto = DeletePolyline.prototype;\n\nproto.redo = function () {\n\n  this.createPolyline.undo();\n};\n\nproto.undo = function () {\n\n  this.createPolyline.redo();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9EZWxldGVQb2x5bGluZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBYTs7QUFFNkI7QUFDUTs7QUFFOUM7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ1csU0FBU0UsY0FBY0EsQ0FBQ0MsTUFBTSxFQUFFQyxRQUFRLEVBQUU7O0VBRTdDSixtREFBVSxDQUFDSyxJQUFJLENBQUMsSUFBSSxFQUFFRixNQUFNLEVBQUUsaUJBQWlCLEVBQUVDLFFBQVEsQ0FBQ0UsRUFBRSxDQUFDO0VBQzdELElBQUksQ0FBQ0MsY0FBYyxHQUFHLElBQUlOLDJEQUFjO0lBQ3BDRSxNQUFNO0lBQ05DLFFBQVEsQ0FBQ0UsRUFBRTtJQUNYRixRQUFRLENBQUNJLFFBQVE7SUFDakJKLFFBQVEsQ0FBQ0ssSUFBSTtJQUNiTCxRQUFRLENBQUNNLFFBQVE7SUFDakJOLFFBQVEsQ0FBQ08sU0FBUztJQUNsQlAsUUFBUSxDQUFDUSxRQUFRLENBQUMsQ0FBQztJQUNuQlIsUUFBUSxDQUFDUyxNQUFNLENBQUM7QUFDeEI7O0FBRUFYLGNBQWMsQ0FBQ1ksU0FBUyxHQUFHQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ2hCLG1EQUFVLENBQUNjLFNBQVMsQ0FBQztBQUM5RFosY0FBYyxDQUFDWSxTQUFTLENBQUNHLFdBQVcsR0FBR2YsY0FBYzs7QUFFckQsSUFBSWdCLEtBQUssR0FBSWhCLGNBQWMsQ0FBQ1ksU0FBUzs7QUFFckNJLEtBQUssQ0FBQ0MsSUFBSSxHQUFHLFlBQVc7O0VBRXBCLElBQUksQ0FBQ1osY0FBYyxDQUFDYSxJQUFJLENBQUMsQ0FBQztBQUM5QixDQUFDOztBQUVERixLQUFLLENBQUNFLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFJLENBQUNiLGNBQWMsQ0FBQ1ksSUFBSSxDQUFDLENBQUM7QUFDOUIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9EZWxldGVQb2x5bGluZS5qcz9mYjIzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRWRpdEFjdGlvbiB9IGZyb20gJy4vRWRpdEFjdGlvbic7XG5pbXBvcnQgeyBDcmVhdGVQb2x5bGluZSB9IGZyb20gJy4vQ3JlYXRlUG9seWxpbmUnO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWRpdG9yXG4gICAgICogQHBhcmFtIHBvbHlsaW5lXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIERlbGV0ZVBvbHlsaW5lKGVkaXRvciwgcG9seWxpbmUpIHtcblxuICAgICAgICBFZGl0QWN0aW9uLmNhbGwodGhpcywgZWRpdG9yLCAnREVMRVRFLVBPTFlMSU5FJywgcG9seWxpbmUuaWQpO1xuICAgICAgICB0aGlzLmNyZWF0ZVBvbHlsaW5lID0gbmV3IENyZWF0ZVBvbHlsaW5lKFxuICAgICAgICAgICAgZWRpdG9yLFxuICAgICAgICAgICAgcG9seWxpbmUuaWQsXG4gICAgICAgICAgICBwb2x5bGluZS5wb3NpdGlvbixcbiAgICAgICAgICAgIHBvbHlsaW5lLnNpemUsXG4gICAgICAgICAgICBwb2x5bGluZS5yb3RhdGlvbixcbiAgICAgICAgICAgIHBvbHlsaW5lLmxvY2F0aW9ucyxcbiAgICAgICAgICAgIHBvbHlsaW5lLmdldFN0eWxlKCksXG4gICAgICAgICAgICBwb2x5bGluZS5jbG9zZWQpO1xuICAgIH1cblxuICAgIERlbGV0ZVBvbHlsaW5lLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRWRpdEFjdGlvbi5wcm90b3R5cGUpO1xuICAgIERlbGV0ZVBvbHlsaW5lLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERlbGV0ZVBvbHlsaW5lO1xuXG4gICAgdmFyIHByb3RvID0gIERlbGV0ZVBvbHlsaW5lLnByb3RvdHlwZTtcblxuICAgIHByb3RvLnJlZG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB0aGlzLmNyZWF0ZVBvbHlsaW5lLnVuZG8oKTtcbiAgICB9O1xuXG4gICAgcHJvdG8udW5kbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHRoaXMuY3JlYXRlUG9seWxpbmUucmVkbygpO1xuICAgIH07XG4iXSwibmFtZXMiOlsiRWRpdEFjdGlvbiIsIkNyZWF0ZVBvbHlsaW5lIiwiRGVsZXRlUG9seWxpbmUiLCJlZGl0b3IiLCJwb2x5bGluZSIsImNhbGwiLCJpZCIsImNyZWF0ZVBvbHlsaW5lIiwicG9zaXRpb24iLCJzaXplIiwicm90YXRpb24iLCJsb2NhdGlvbnMiLCJnZXRTdHlsZSIsImNsb3NlZCIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwicHJvdG8iLCJyZWRvIiwidW5kbyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/DeletePolyline.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/DeleteRectangle.js":
/*!****************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/DeleteRectangle.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DeleteRectangle: () => (/* binding */ DeleteRectangle)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _CreateRectangle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CreateRectangle */ \"./extensions/Markup/core/edit-actions/CreateRectangle.js\");\n\n\n\n\n\n/**\n *\n * @param editor\n * @param rectangle\n * @constructor\n */\nvar DeleteRectangle = function (editor, rectangle) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'DELETE-RECTANGLE', rectangle.id);\n  this.createRectangle = new _CreateRectangle__WEBPACK_IMPORTED_MODULE_1__.CreateRectangle(\n    editor,\n    rectangle.id,\n    rectangle.position,\n    rectangle.size,\n    rectangle.rotation,\n    rectangle.getStyle());\n};\n\nDeleteRectangle.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nDeleteRectangle.prototype.constructor = DeleteRectangle;\n\nvar proto = DeleteRectangle.prototype;\n\nproto.redo = function () {\n\n  this.createRectangle.undo();\n};\n\nproto.undo = function () {\n\n  this.createRectangle.redo();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9EZWxldGVSZWN0YW5nbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWE7O0FBRTZCO0FBQ1U7O0FBRWhEO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNXLElBQUlFLGVBQWUsR0FBRyxTQUFBQSxDQUFTQyxNQUFNLEVBQUVDLFNBQVMsRUFBRTs7RUFFckRKLG1EQUFVLENBQUNLLElBQUksQ0FBQyxJQUFJLEVBQUVGLE1BQU0sRUFBRSxrQkFBa0IsRUFBRUMsU0FBUyxDQUFDRSxFQUFFLENBQUM7RUFDL0QsSUFBSSxDQUFDQyxlQUFlLEdBQUcsSUFBSU4sNkRBQWU7SUFDdENFLE1BQU07SUFDTkMsU0FBUyxDQUFDRSxFQUFFO0lBQ1pGLFNBQVMsQ0FBQ0ksUUFBUTtJQUNsQkosU0FBUyxDQUFDSyxJQUFJO0lBQ2RMLFNBQVMsQ0FBQ00sUUFBUTtJQUNsQk4sU0FBUyxDQUFDTyxRQUFRLENBQUMsQ0FBQyxDQUFDO0FBQzdCLENBQUM7O0FBRURULGVBQWUsQ0FBQ1UsU0FBUyxHQUFHQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ2QsbURBQVUsQ0FBQ1ksU0FBUyxDQUFDO0FBQy9EVixlQUFlLENBQUNVLFNBQVMsQ0FBQ0csV0FBVyxHQUFHYixlQUFlOztBQUV2RCxJQUFJYyxLQUFLLEdBQUdkLGVBQWUsQ0FBQ1UsU0FBUzs7QUFFckNJLEtBQUssQ0FBQ0MsSUFBSSxHQUFHLFlBQVc7O0VBRXBCLElBQUksQ0FBQ1YsZUFBZSxDQUFDVyxJQUFJLENBQUMsQ0FBQztBQUMvQixDQUFDOztBQUVERixLQUFLLENBQUNFLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFJLENBQUNYLGVBQWUsQ0FBQ1UsSUFBSSxDQUFDLENBQUM7QUFDL0IsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9EZWxldGVSZWN0YW5nbGUuanM/ODkwOCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IEVkaXRBY3Rpb24gfSBmcm9tICcuL0VkaXRBY3Rpb24nO1xuaW1wb3J0IHsgQ3JlYXRlUmVjdGFuZ2xlIH0gZnJvbSAnLi9DcmVhdGVSZWN0YW5nbGUnO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWRpdG9yXG4gICAgICogQHBhcmFtIHJlY3RhbmdsZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGV4cG9ydCB2YXIgRGVsZXRlUmVjdGFuZ2xlID0gZnVuY3Rpb24oZWRpdG9yLCByZWN0YW5nbGUpIHtcblxuICAgICAgICBFZGl0QWN0aW9uLmNhbGwodGhpcywgZWRpdG9yLCAnREVMRVRFLVJFQ1RBTkdMRScsIHJlY3RhbmdsZS5pZCk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVjdGFuZ2xlID0gbmV3IENyZWF0ZVJlY3RhbmdsZShcbiAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgIHJlY3RhbmdsZS5pZCxcbiAgICAgICAgICAgIHJlY3RhbmdsZS5wb3NpdGlvbixcbiAgICAgICAgICAgIHJlY3RhbmdsZS5zaXplLFxuICAgICAgICAgICAgcmVjdGFuZ2xlLnJvdGF0aW9uLFxuICAgICAgICAgICAgcmVjdGFuZ2xlLmdldFN0eWxlKCkpO1xuICAgIH07XG5cbiAgICBEZWxldGVSZWN0YW5nbGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFZGl0QWN0aW9uLnByb3RvdHlwZSk7XG4gICAgRGVsZXRlUmVjdGFuZ2xlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERlbGV0ZVJlY3RhbmdsZTtcblxuICAgIHZhciBwcm90byA9IERlbGV0ZVJlY3RhbmdsZS5wcm90b3R5cGU7XG5cbiAgICBwcm90by5yZWRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVSZWN0YW5nbGUudW5kbygpO1xuICAgIH07XG5cbiAgICBwcm90by51bmRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVSZWN0YW5nbGUucmVkbygpO1xuICAgIH07XG4iXSwibmFtZXMiOlsiRWRpdEFjdGlvbiIsIkNyZWF0ZVJlY3RhbmdsZSIsIkRlbGV0ZVJlY3RhbmdsZSIsImVkaXRvciIsInJlY3RhbmdsZSIsImNhbGwiLCJpZCIsImNyZWF0ZVJlY3RhbmdsZSIsInBvc2l0aW9uIiwic2l6ZSIsInJvdGF0aW9uIiwiZ2V0U3R5bGUiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwicmVkbyIsInVuZG8iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/DeleteRectangle.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/DeleteStamp.js":
/*!************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/DeleteStamp.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DeleteStamp: () => (/* binding */ DeleteStamp)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _CreateStamp__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CreateStamp */ \"./extensions/Markup/core/edit-actions/CreateStamp.js\");\n\n\n\n\n\n\n\nclass DeleteStamp extends _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction {\n  constructor(editor, stamp) {\n    super(editor, 'DELETE-STAMP', stamp.id);\n\n    this.createStamp = new _CreateStamp__WEBPACK_IMPORTED_MODULE_1__.CreateStamp(\n      editor,\n      stamp.id,\n      stamp.position,\n      stamp.size,\n      stamp.rotation,\n      stamp.getStyle()\n    );\n  }\n\n  redo() {\n    this.createStamp.undo();\n  }\n\n  undo() {\n    this.createStamp.redo();\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9EZWxldGVTdGFtcC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBYTs7QUFFNkI7QUFDRTs7QUFFckI7O0FBRXZCLE1BQU1FLFdBQVcsU0FBU0YsbURBQVUsQ0FBQztFQUNoQ0csV0FBV0EsQ0FBQ0MsTUFBTSxFQUFFQyxLQUFLLEVBQUU7SUFDeEIsS0FBSyxDQUFDRCxNQUFNLEVBQUUsY0FBYyxFQUFFQyxLQUFLLENBQUNDLEVBQUUsQ0FBQzs7SUFFdkMsSUFBSSxDQUFDQyxXQUFXLEdBQUcsSUFBSU4scURBQVc7TUFDOUJHLE1BQU07TUFDTkMsS0FBSyxDQUFDQyxFQUFFO01BQ1JELEtBQUssQ0FBQ0csUUFBUTtNQUNkSCxLQUFLLENBQUNJLElBQUk7TUFDVkosS0FBSyxDQUFDSyxRQUFRO01BQ2RMLEtBQUssQ0FBQ00sUUFBUSxDQUFDO0lBQ25CLENBQUM7RUFDTDs7RUFFQUMsSUFBSUEsQ0FBQSxFQUFHO0lBQ0gsSUFBSSxDQUFDTCxXQUFXLENBQUNNLElBQUksQ0FBQyxDQUFDO0VBQzNCOztFQUVBQSxJQUFJQSxDQUFBLEVBQUc7SUFDSCxJQUFJLENBQUNOLFdBQVcsQ0FBQ0ssSUFBSSxDQUFDLENBQUM7RUFDM0I7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9EZWxldGVTdGFtcC5qcz83ZmM3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRWRpdEFjdGlvbiB9IGZyb20gJy4vRWRpdEFjdGlvbic7XG5pbXBvcnQgeyBDcmVhdGVTdGFtcCB9IGZyb20gJy4vQ3JlYXRlU3RhbXAnO1xuXG5leHBvcnQgeyBEZWxldGVTdGFtcCB9O1xuXG5jbGFzcyBEZWxldGVTdGFtcCBleHRlbmRzIEVkaXRBY3Rpb24ge1xuICAgICBjb25zdHJ1Y3RvcihlZGl0b3IsIHN0YW1wKSB7XG4gICAgICAgIHN1cGVyKGVkaXRvciwgJ0RFTEVURS1TVEFNUCcsIHN0YW1wLmlkKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZVN0YW1wID0gbmV3IENyZWF0ZVN0YW1wKFxuICAgICAgICAgICAgZWRpdG9yLFxuICAgICAgICAgICAgc3RhbXAuaWQsXG4gICAgICAgICAgICBzdGFtcC5wb3NpdGlvbixcbiAgICAgICAgICAgIHN0YW1wLnNpemUsXG4gICAgICAgICAgICBzdGFtcC5yb3RhdGlvbixcbiAgICAgICAgICAgIHN0YW1wLmdldFN0eWxlKClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZWRvKCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVN0YW1wLnVuZG8oKTtcbiAgICB9XG5cbiAgICB1bmRvKCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVN0YW1wLnJlZG8oKTtcbiAgICB9XG59Il0sIm5hbWVzIjpbIkVkaXRBY3Rpb24iLCJDcmVhdGVTdGFtcCIsIkRlbGV0ZVN0YW1wIiwiY29uc3RydWN0b3IiLCJlZGl0b3IiLCJzdGFtcCIsImlkIiwiY3JlYXRlU3RhbXAiLCJwb3NpdGlvbiIsInNpemUiLCJyb3RhdGlvbiIsImdldFN0eWxlIiwicmVkbyIsInVuZG8iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/DeleteStamp.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/DeleteText.js":
/*!***********************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/DeleteText.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DeleteText: () => (/* binding */ DeleteText)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _CreateText__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CreateText */ \"./extensions/Markup/core/edit-actions/CreateText.js\");\n\n\n\n\n\n/**\n *\n * @param editor\n * @param text\n * @constructor\n */\nfunction DeleteText(editor, text) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'DELETE-TEXT', text.id);\n\n  var position = { x: text.position.x, y: text.position.y };\n  var size = { x: text.size.x, y: text.size.y };\n\n  this.createText = new _CreateText__WEBPACK_IMPORTED_MODULE_1__.CreateText(\n    editor,\n    text.id,\n    position,\n    size,\n    text.getText(),\n    text.getStyle());\n}\n\nDeleteText.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nDeleteText.prototype.constructor = DeleteText;\n\nvar proto = DeleteText.prototype;\n\nproto.redo = function () {\n\n  this.createText.undo();\n};\n\nproto.undo = function () {\n\n  this.createText.redo();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9EZWxldGVUZXh0LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFhOztBQUU2QjtBQUNBOztBQUV0QztBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTRSxVQUFVQSxDQUFDQyxNQUFNLEVBQUVDLElBQUksRUFBRTs7RUFFckNKLG1EQUFVLENBQUNLLElBQUksQ0FBQyxJQUFJLEVBQUVGLE1BQU0sRUFBRSxhQUFhLEVBQUVDLElBQUksQ0FBQ0UsRUFBRSxDQUFDOztFQUVyRCxJQUFJQyxRQUFRLEdBQUcsRUFBQ0MsQ0FBQyxFQUFFSixJQUFJLENBQUNHLFFBQVEsQ0FBQ0MsQ0FBQyxFQUFFQyxDQUFDLEVBQUVMLElBQUksQ0FBQ0csUUFBUSxDQUFDRSxDQUFDLEVBQUM7RUFDdkQsSUFBSUMsSUFBSSxHQUFHLEVBQUNGLENBQUMsRUFBRUosSUFBSSxDQUFDTSxJQUFJLENBQUNGLENBQUMsRUFBRUMsQ0FBQyxFQUFFTCxJQUFJLENBQUNNLElBQUksQ0FBQ0QsQ0FBQyxFQUFDOztFQUUzQyxJQUFJLENBQUNFLFVBQVUsR0FBRyxJQUFJVixtREFBVTtJQUM1QkUsTUFBTTtJQUNOQyxJQUFJLENBQUNFLEVBQUU7SUFDUEMsUUFBUTtJQUNSRyxJQUFJO0lBQ0pOLElBQUksQ0FBQ1EsT0FBTyxDQUFDLENBQUM7SUFDZFIsSUFBSSxDQUFDUyxRQUFRLENBQUMsQ0FBQyxDQUFDO0FBQ3hCOztBQUVBWCxVQUFVLENBQUNZLFNBQVMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUNoQixtREFBVSxDQUFDYyxTQUFTLENBQUM7QUFDMURaLFVBQVUsQ0FBQ1ksU0FBUyxDQUFDRyxXQUFXLEdBQUdmLFVBQVU7O0FBRTdDLElBQUlnQixLQUFLLEdBQUdoQixVQUFVLENBQUNZLFNBQVM7O0FBRWhDSSxLQUFLLENBQUNDLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFJLENBQUNSLFVBQVUsQ0FBQ1MsSUFBSSxDQUFDLENBQUM7QUFDMUIsQ0FBQzs7QUFFREYsS0FBSyxDQUFDRSxJQUFJLEdBQUcsWUFBVzs7RUFFcEIsSUFBSSxDQUFDVCxVQUFVLENBQUNRLElBQUksQ0FBQyxDQUFDO0FBQzFCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9lZGl0LWFjdGlvbnMvRGVsZXRlVGV4dC5qcz9lYTg2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRWRpdEFjdGlvbiB9IGZyb20gJy4vRWRpdEFjdGlvbic7XG5pbXBvcnQgeyBDcmVhdGVUZXh0IH0gZnJvbSAnLi9DcmVhdGVUZXh0JztcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGVkaXRvclxuICAgICAqIEBwYXJhbSB0ZXh0XG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIERlbGV0ZVRleHQoZWRpdG9yLCB0ZXh0KSB7XG5cbiAgICAgICAgRWRpdEFjdGlvbi5jYWxsKHRoaXMsIGVkaXRvciwgJ0RFTEVURS1URVhUJywgdGV4dC5pZCk7XG5cbiAgICAgICAgdmFyIHBvc2l0aW9uID0ge3g6IHRleHQucG9zaXRpb24ueCwgeTogdGV4dC5wb3NpdGlvbi55fTtcbiAgICAgICAgdmFyIHNpemUgPSB7eDogdGV4dC5zaXplLngsIHk6IHRleHQuc2l6ZS55fTtcblxuICAgICAgICB0aGlzLmNyZWF0ZVRleHQgPSBuZXcgQ3JlYXRlVGV4dChcbiAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgIHRleHQuaWQsXG4gICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgIHNpemUsXG4gICAgICAgICAgICB0ZXh0LmdldFRleHQoKSxcbiAgICAgICAgICAgIHRleHQuZ2V0U3R5bGUoKSk7XG4gICAgfVxuXG4gICAgRGVsZXRlVGV4dC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVkaXRBY3Rpb24ucHJvdG90eXBlKTtcbiAgICBEZWxldGVUZXh0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERlbGV0ZVRleHQ7XG5cbiAgICB2YXIgcHJvdG8gPSBEZWxldGVUZXh0LnByb3RvdHlwZTtcblxuICAgIHByb3RvLnJlZG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB0aGlzLmNyZWF0ZVRleHQudW5kbygpO1xuICAgIH07XG5cbiAgICBwcm90by51bmRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVUZXh0LnJlZG8oKTtcbiAgICB9O1xuIl0sIm5hbWVzIjpbIkVkaXRBY3Rpb24iLCJDcmVhdGVUZXh0IiwiRGVsZXRlVGV4dCIsImVkaXRvciIsInRleHQiLCJjYWxsIiwiaWQiLCJwb3NpdGlvbiIsIngiLCJ5Iiwic2l6ZSIsImNyZWF0ZVRleHQiLCJnZXRUZXh0IiwiZ2V0U3R5bGUiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwicmVkbyIsInVuZG8iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/DeleteText.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/EditAction.js":
/*!***********************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/EditAction.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditAction: () => (/* binding */ EditAction)\n/* harmony export */ });\n\n\n/**\n * Base class for all markup edit actions.\n *\n * EditActions encapsulate {@link Autodesk.Viewing.Extensions.Markups.Core.Markup|Markup}\n * operations (such as creation, edition and deletion) that hook into the undo/redo system.\n *\n * The minimum set of methods to implement on an EditAction extension are:\n * - execute()\n * - undo()\n * - redo()\n *\n * A good set of classes to check their implementation are:\n * {@link Autodesk.Viewing.Extensions.Markups.Core.CreateCircle|CreateCircle}.\n * {@link Autodesk.Viewing.Extensions.Markups.Core.DeleteCircle|DeleteCircle}.\n * {@link Autodesk.Viewing.Extensions.Markups.Core.SetCircle|SetCircle}.\n *\n * @tutorial feature_markup\n * @constructor\n * @memberof Autodesk.Viewing.Extensions.Markups.Core\n *\n * @param {Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore} editor\n * @param {String} type - An identifier for the EditAction.\n * @param {number} targetId - The id of the markup being affected.\n */\nfunction EditAction(editor, type, targetId) {\n\n  this.type = type;\n  this.editor = editor;\n  this.targetId = targetId;\n  this.addToHistory = true;\n  this.selectOnExecution = true;\n}\n\n/**\n * Performs the action.\n */\nEditAction.prototype.execute = function () {\n\n  this.editor.actionManager.execute(this);\n};\n\n/**\n * @abstract\n */\nEditAction.prototype.redo = function () {\n\n};\n\n/**\n * @abstract\n */\nEditAction.prototype.undo = function () {\n\n};\n\n/**\n * Provides a mechanism to merge consecutive actions of the same type.\n * @param {Autodesk.Viewing.Extensions.Markups.Core.EditAction} action - Action to check if it can be merged with 'this'.\n * @returns {boolean} Returns true if merge has been applied. Parameter will be discarded.\n */\nEditAction.prototype.merge = function (action) {\n\n  return false;\n};\n\n/**\n * Provides a mechanism to check whether the action yields no results.\n * @returns {boolean} Returns true if no changes happen with this action.\n */\nEditAction.prototype.isIdentity = function () {\n\n  return false;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9FZGl0QWN0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBYTs7QUFFVDtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTQSxVQUFVQSxDQUFDQyxNQUFNLEVBQUVDLElBQUksRUFBRUMsUUFBUSxFQUFFOztFQUUvQyxJQUFJLENBQUNELElBQUksR0FBSUEsSUFBSTtFQUNqQixJQUFJLENBQUNELE1BQU0sR0FBR0EsTUFBTTtFQUNwQixJQUFJLENBQUNFLFFBQVEsR0FBR0EsUUFBUTtFQUN4QixJQUFJLENBQUNDLFlBQVksR0FBRyxJQUFJO0VBQ3hCLElBQUksQ0FBQ0MsaUJBQWlCLEdBQUcsSUFBSTtBQUNqQzs7QUFFQTtBQUNKO0FBQ0E7QUFDSUwsVUFBVSxDQUFDTSxTQUFTLENBQUNDLE9BQU8sR0FBRyxZQUFXOztFQUV0QyxJQUFJLENBQUNOLE1BQU0sQ0FBQ08sYUFBYSxDQUFDRCxPQUFPLENBQUMsSUFBSSxDQUFDO0FBQzNDLENBQUM7O0FBRUQ7QUFDSjtBQUNBO0FBQ0lQLFVBQVUsQ0FBQ00sU0FBUyxDQUFDRyxJQUFJLEdBQUcsWUFBVzs7QUFFdkMsQ0FBQzs7QUFFRDtBQUNKO0FBQ0E7QUFDSVQsVUFBVSxDQUFDTSxTQUFTLENBQUNJLElBQUksR0FBRyxZQUFXOztBQUV2QyxDQUFDOztBQUVEO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDSVYsVUFBVSxDQUFDTSxTQUFTLENBQUNLLEtBQUssR0FBRyxVQUFTQyxNQUFNLEVBQUU7O0VBRTFDLE9BQU8sS0FBSztBQUNoQixDQUFDOztBQUVEO0FBQ0o7QUFDQTtBQUNBO0FBQ0laLFVBQVUsQ0FBQ00sU0FBUyxDQUFDTyxVQUFVLEdBQUcsWUFBVzs7RUFFekMsT0FBTyxLQUFLO0FBQ2hCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9lZGl0LWFjdGlvbnMvRWRpdEFjdGlvbi5qcz80YTkwIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuICAgIC8qKlxuICAgICAqIEJhc2UgY2xhc3MgZm9yIGFsbCBtYXJrdXAgZWRpdCBhY3Rpb25zLlxuICAgICAqXG4gICAgICogRWRpdEFjdGlvbnMgZW5jYXBzdWxhdGUge0BsaW5rIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzLkNvcmUuTWFya3VwfE1hcmt1cH1cbiAgICAgKiBvcGVyYXRpb25zIChzdWNoIGFzIGNyZWF0aW9uLCBlZGl0aW9uIGFuZCBkZWxldGlvbikgdGhhdCBob29rIGludG8gdGhlIHVuZG8vcmVkbyBzeXN0ZW0uXG4gICAgICpcbiAgICAgKiBUaGUgbWluaW11bSBzZXQgb2YgbWV0aG9kcyB0byBpbXBsZW1lbnQgb24gYW4gRWRpdEFjdGlvbiBleHRlbnNpb24gYXJlOlxuICAgICAqIC0gZXhlY3V0ZSgpXG4gICAgICogLSB1bmRvKClcbiAgICAgKiAtIHJlZG8oKVxuICAgICAqXG4gICAgICogQSBnb29kIHNldCBvZiBjbGFzc2VzIHRvIGNoZWNrIHRoZWlyIGltcGxlbWVudGF0aW9uIGFyZTpcbiAgICAgKiB7QGxpbmsgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZS5DcmVhdGVDaXJjbGV8Q3JlYXRlQ2lyY2xlfS5cbiAgICAgKiB7QGxpbmsgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZS5EZWxldGVDaXJjbGV8RGVsZXRlQ2lyY2xlfS5cbiAgICAgKiB7QGxpbmsgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZS5TZXRDaXJjbGV8U2V0Q2lyY2xlfS5cbiAgICAgKlxuICAgICAqIEB0dXRvcmlhbCBmZWF0dXJlX21hcmt1cFxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJvZiBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0F1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzLkNvcmUuTWFya3Vwc0NvcmV9IGVkaXRvclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIC0gQW4gaWRlbnRpZmllciBmb3IgdGhlIEVkaXRBY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRhcmdldElkIC0gVGhlIGlkIG9mIHRoZSBtYXJrdXAgYmVpbmcgYWZmZWN0ZWQuXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIEVkaXRBY3Rpb24oZWRpdG9yLCB0eXBlLCB0YXJnZXRJZCkge1xuXG4gICAgICAgIHRoaXMudHlwZSA9ICB0eXBlO1xuICAgICAgICB0aGlzLmVkaXRvciA9IGVkaXRvcjtcbiAgICAgICAgdGhpcy50YXJnZXRJZCA9IHRhcmdldElkO1xuICAgICAgICB0aGlzLmFkZFRvSGlzdG9yeSA9IHRydWU7XG4gICAgICAgIHRoaXMuc2VsZWN0T25FeGVjdXRpb24gPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIHRoZSBhY3Rpb24uXG4gICAgICovXG4gICAgRWRpdEFjdGlvbi5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHRoaXMuZWRpdG9yLmFjdGlvbk1hbmFnZXIuZXhlY3V0ZSh0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICovXG4gICAgRWRpdEFjdGlvbi5wcm90b3R5cGUucmVkbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqL1xuICAgIEVkaXRBY3Rpb24ucHJvdG90eXBlLnVuZG8gPSBmdW5jdGlvbigpIHtcblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyBhIG1lY2hhbmlzbSB0byBtZXJnZSBjb25zZWN1dGl2ZSBhY3Rpb25zIG9mIHRoZSBzYW1lIHR5cGUuXG4gICAgICogQHBhcmFtIHtBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlLkVkaXRBY3Rpb259IGFjdGlvbiAtIEFjdGlvbiB0byBjaGVjayBpZiBpdCBjYW4gYmUgbWVyZ2VkIHdpdGggJ3RoaXMnLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgbWVyZ2UgaGFzIGJlZW4gYXBwbGllZC4gUGFyYW1ldGVyIHdpbGwgYmUgZGlzY2FyZGVkLlxuICAgICAqL1xuICAgIEVkaXRBY3Rpb24ucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24oYWN0aW9uKSB7XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyBhIG1lY2hhbmlzbSB0byBjaGVjayB3aGV0aGVyIHRoZSBhY3Rpb24geWllbGRzIG5vIHJlc3VsdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiBubyBjaGFuZ2VzIGhhcHBlbiB3aXRoIHRoaXMgYWN0aW9uLlxuICAgICAqL1xuICAgIEVkaXRBY3Rpb24ucHJvdG90eXBlLmlzSWRlbnRpdHkgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuIl0sIm5hbWVzIjpbIkVkaXRBY3Rpb24iLCJlZGl0b3IiLCJ0eXBlIiwidGFyZ2V0SWQiLCJhZGRUb0hpc3RvcnkiLCJzZWxlY3RPbkV4ZWN1dGlvbiIsInByb3RvdHlwZSIsImV4ZWN1dGUiLCJhY3Rpb25NYW5hZ2VyIiwicmVkbyIsInVuZG8iLCJtZXJnZSIsImFjdGlvbiIsImlzSWRlbnRpdHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/EditAction.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/EditActionGroup.js":
/*!****************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/EditActionGroup.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditActionGroup: () => (/* binding */ EditActionGroup)\n/* harmony export */ });\n\n\n/**\n * This class will group actions edit actions that should be executed as a whole.\n * When a group is open actions can be added to it, similar actions will be merged into one during this process.\n * This class is not intended to be used by users, it's a helper class of EditActionManager.\n * @constructor\n */\nfunction EditActionGroup() {\n\n  this.actions = [];\n  this.closed = true;\n}\n\nvar proto = EditActionGroup.prototype;\n\n/**\n *\n * @returns {boolean}\n */\nproto.open = function () {\n\n  if (!this.closed) {\n    return false;\n  }\n\n  this.closed = false;\n  return true;\n};\n\n/**\n *\n * @returns {boolean}\n */\nproto.close = function () {\n\n  if (this.closed) {\n    return false;\n  }\n\n  this.closed = true;\n  return true;\n};\n\n/**\n *\n * @returns {number} targetId\n */\nproto.undo = function () {\n\n  var actions = this.actions;\n  var actionsMaxIndex = actions.length - 1;\n\n  var targetId = -1;\n  for (var i = actionsMaxIndex; i >= 0; --i) {\n\n    var action = actions[i];\n    action.undo();\n\n    if (action.targetId !== -1) {\n      targetId = action.targetId;\n    }\n  }\n\n  return targetId;\n};\n\n/**\n *\n * @returns {number} targetId\n */\nproto.redo = function () {\n\n  var actions = this.actions;\n  var actionsCount = actions.length;\n\n  var targetId = -1;\n  for (var i = 0; i < actionsCount; ++i) {\n\n    var action = actions[i];\n    action.redo();\n\n    if (action.targetId !== -1) {\n      targetId = action.targetId;\n    }\n  }\n\n  return targetId;\n};\n\n/**\n *\n * @returns {boolean}\n */\nproto.isOpen = function () {\n\n  return !this.closed;\n};\n\n/**\n *\n * @returns {boolean}\n */\nproto.isClosed = function () {\n\n  return this.closed;\n};\n\n/**\n *\n * @returns {boolean}\n */\nproto.isEmpty = function () {\n\n  return this.actions.length === 0;\n};\n\n/**\n *\n * @param {EditAction} action\n */\nproto.addAction = function (action) {\n\n  if (this.closed) {\n    return false;\n  }\n\n  this.actions.push(action);\n  this.compact();\n\n  return true;\n};\n\n/**\n * @private\n */\nproto.compact = function () {\n\n  var actions = this.actions;\n  var actionsCount = actions.length;\n\n  for (var i = 0; i < actionsCount; ++i) {\n\n    // If an action does nothing, remove it.\n    var actionA = actions[i];\n    if (actionA.isIdentity()) {\n      actions.splice(i, 1);\n      --actionsCount;\n      --i;\n      continue;\n    }\n\n    // If an action can be merged, merge it.\n    for (var j = i + 1; j < actionsCount; ++j) {\n\n      var actionB = actions[j];\n      if (actionA.type === actionB.type &&\n      actionA.merge(actionB)) {\n        actions.splice(j, 1);\n        --actionsCount;\n        --i;\n        break;\n      }\n    }\n  }\n};\n\nproto.getTargetId = function () {\n  var actions = this.actions;\n  var actionsCount = actions.length;\n  var targetId = -1;\n  for (var i = 0; i < actionsCount; ++i) {\n    var action = actions[i];\n    if (action.targetId !== -1) {\n      targetId = action.targetId;\n    }\n  }\n  return targetId;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9FZGl0QWN0aW9uR3JvdXAuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFhOztBQUVUO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNXLFNBQVNBLGVBQWVBLENBQUEsRUFBRzs7RUFFOUIsSUFBSSxDQUFDQyxPQUFPLEdBQUcsRUFBRTtFQUNqQixJQUFJLENBQUNDLE1BQU0sR0FBRyxJQUFJO0FBQ3RCOztBQUVBLElBQUlDLEtBQUssR0FBR0gsZUFBZSxDQUFDSSxTQUFTOztBQUVyQztBQUNKO0FBQ0E7QUFDQTtBQUNJRCxLQUFLLENBQUNFLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFHLENBQUMsSUFBSSxDQUFDSCxNQUFNLEVBQUU7SUFDYixPQUFPLEtBQUs7RUFDaEI7O0VBRUEsSUFBSSxDQUFDQSxNQUFNLEdBQUcsS0FBSztFQUNuQixPQUFPLElBQUk7QUFDZixDQUFDOztBQUVEO0FBQ0o7QUFDQTtBQUNBO0FBQ0lDLEtBQUssQ0FBQ0csS0FBSyxHQUFHLFlBQVc7O0VBRXJCLElBQUksSUFBSSxDQUFDSixNQUFNLEVBQUU7SUFDYixPQUFPLEtBQUs7RUFDaEI7O0VBRUEsSUFBSSxDQUFDQSxNQUFNLEdBQUcsSUFBSTtFQUNsQixPQUFPLElBQUk7QUFDZixDQUFDOztBQUVEO0FBQ0o7QUFDQTtBQUNBO0FBQ0lDLEtBQUssQ0FBQ0ksSUFBSSxHQUFHLFlBQVc7O0VBRXBCLElBQUlOLE9BQU8sR0FBRyxJQUFJLENBQUNBLE9BQU87RUFDMUIsSUFBSU8sZUFBZSxHQUFHUCxPQUFPLENBQUNRLE1BQU0sR0FBRyxDQUFDOztFQUV4QyxJQUFJQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO0VBQ2pCLEtBQUksSUFBSUMsQ0FBQyxHQUFHSCxlQUFlLEVBQUVHLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRUEsQ0FBQyxFQUFFOztJQUV0QyxJQUFJQyxNQUFNLEdBQUlYLE9BQU8sQ0FBQ1UsQ0FBQyxDQUFDO0lB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LEVBQUVWLFlBQVk7UUFDZCxFQUFFSCxDQUFDO1FBQ0g7TUFDSjtJQUNKO0VBQ0o7QUFDSixDQUFDOztBQUVEUixLQUFLLENBQUN5QixXQUFXLEdBQUcsWUFBVztFQUM3QixJQUFJM0IsT0FBTyxHQUFHLElBQUksQ0FBQ0EsT0FBTztFQUMxQixJQUFJYSxZQUFZLEdBQUdiLE9BQU8sQ0FBQ1EsTUFBTTtFQUNqQyxJQUFJQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO0VBQ2pCLEtBQUksSUFBSUMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHRyxZQUFZLEVBQUUsRUFBRUgsQ0FBQyxFQUFFO0lBQ3BDLElBQUlDLE1BQU0sR0FBSVgsT0FBTyxDQUFDVSxDQUFDLENBQUM7SUFDeEIsSUFBSUMsTUFBTSxDQUFDRixRQUFRLEtBQUssQ0FBQyxDQUFDLEVBQUU7TUFDMUJBLFFBQVEsR0FBR0UsTUFBTSxDQUFDRixRQUFRO0lBQzVCO0VBQ0Y7RUFDQSxPQUFPQSxRQUFRO0FBQ2pCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9lZGl0LWFjdGlvbnMvRWRpdEFjdGlvbkdyb3VwLmpzPzgxODMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBjbGFzcyB3aWxsIGdyb3VwIGFjdGlvbnMgZWRpdCBhY3Rpb25zIHRoYXQgc2hvdWxkIGJlIGV4ZWN1dGVkIGFzIGEgd2hvbGUuXG4gICAgICogV2hlbiBhIGdyb3VwIGlzIG9wZW4gYWN0aW9ucyBjYW4gYmUgYWRkZWQgdG8gaXQsIHNpbWlsYXIgYWN0aW9ucyB3aWxsIGJlIG1lcmdlZCBpbnRvIG9uZSBkdXJpbmcgdGhpcyBwcm9jZXNzLlxuICAgICAqIFRoaXMgY2xhc3MgaXMgbm90IGludGVuZGVkIHRvIGJlIHVzZWQgYnkgdXNlcnMsIGl0J3MgYSBoZWxwZXIgY2xhc3Mgb2YgRWRpdEFjdGlvbk1hbmFnZXIuXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIEVkaXRBY3Rpb25Hcm91cCgpIHtcblxuICAgICAgICB0aGlzLmFjdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHZhciBwcm90byA9IEVkaXRBY3Rpb25Hcm91cC5wcm90b3R5cGU7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHByb3RvLm9wZW4gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICBpZighdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHByb3RvLmNsb3NlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IHRhcmdldElkXG4gICAgICovXG4gICAgcHJvdG8udW5kbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBhY3Rpb25zID0gdGhpcy5hY3Rpb25zO1xuICAgICAgICB2YXIgYWN0aW9uc01heEluZGV4ID0gYWN0aW9ucy5sZW5ndGggLSAxO1xuXG4gICAgICAgIHZhciB0YXJnZXRJZCA9IC0xO1xuICAgICAgICBmb3IodmFyIGkgPSBhY3Rpb25zTWF4SW5kZXg7IGkgPj0gMDsgLS1pKSB7XG5cbiAgICAgICAgICAgIHZhciBhY3Rpb24gPSAgYWN0aW9uc1tpXTtcbiAgICAgICAgICAgIGFjdGlvbi51bmRvKCk7XG5cbiAgICAgICAgICAgIGlmIChhY3Rpb24udGFyZ2V0SWQgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0SWQgPSBhY3Rpb24udGFyZ2V0SWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0SWQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHJldHVybnMge251bWJlcn0gdGFyZ2V0SWRcbiAgICAgKi9cbiAgICBwcm90by5yZWRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIGFjdGlvbnMgPSB0aGlzLmFjdGlvbnM7XG4gICAgICAgIHZhciBhY3Rpb25zQ291bnQgPSBhY3Rpb25zLmxlbmd0aDtcblxuICAgICAgICB2YXIgdGFyZ2V0SWQgPSAtMTtcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGFjdGlvbnNDb3VudDsgKytpKSB7XG5cbiAgICAgICAgICAgIHZhciBhY3Rpb24gPSAgYWN0aW9uc1tpXTtcbiAgICAgICAgICAgIGFjdGlvbi5yZWRvKCk7XG5cbiAgICAgICAgICAgIGlmIChhY3Rpb24udGFyZ2V0SWQgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0SWQgPSBhY3Rpb24udGFyZ2V0SWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0SWQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgcHJvdG8uaXNPcGVuID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgcmV0dXJuICF0aGlzLmNsb3NlZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBwcm90by5pc0Nsb3NlZCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNsb3NlZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBwcm90by5pc0VtcHR5ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aW9ucy5sZW5ndGggPT09IDA7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFZGl0QWN0aW9ufSBhY3Rpb25cbiAgICAgKi9cbiAgICBwcm90by5hZGRBY3Rpb24gPSBmdW5jdGlvbihhY3Rpb24pIHtcblxuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWN0aW9ucy5wdXNoKGFjdGlvbik7XG4gICAgICAgIHRoaXMuY29tcGFjdCgpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByb3RvLmNvbXBhY3QgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgdmFyIGFjdGlvbnNDb3VudCA9IGFjdGlvbnMubGVuZ3RoO1xuXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBhY3Rpb25zQ291bnQ7ICsraSkge1xuXG4gICAgICAgICAgICAvLyBJZiBhbiBhY3Rpb24gZG9lcyBub3RoaW5nLCByZW1vdmUgaXQuXG4gICAgICAgICAgICB2YXIgYWN0aW9uQSA9IGFjdGlvbnNbaV07XG4gICAgICAgICAgICBpZiAoYWN0aW9uQS5pc0lkZW50aXR5KCkpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25zLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAtLWFjdGlvbnNDb3VudDtcbiAgICAgICAgICAgICAgICAtLWk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIGFuIGFjdGlvbiBjYW4gYmUgbWVyZ2VkLCBtZXJnZSBpdC5cbiAgICAgICAgICAgIGZvciAodmFyIGogPSBpICsgMTsgaiA8IGFjdGlvbnNDb3VudDsgKytqKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgYWN0aW9uQiA9IGFjdGlvbnNbal07XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbkEudHlwZSA9PT0gYWN0aW9uQi50eXBlICYmXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbkEubWVyZ2UoYWN0aW9uQikpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9ucy5zcGxpY2UoaiwgMSk7XG4gICAgICAgICAgICAgICAgICAgIC0tYWN0aW9uc0NvdW50O1xuICAgICAgICAgICAgICAgICAgICAtLWk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwcm90by5nZXRUYXJnZXRJZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGFjdGlvbnMgPSB0aGlzLmFjdGlvbnM7XG4gICAgICB2YXIgYWN0aW9uc0NvdW50ID0gYWN0aW9ucy5sZW5ndGg7XG4gICAgICB2YXIgdGFyZ2V0SWQgPSAtMTtcbiAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBhY3Rpb25zQ291bnQ7ICsraSkge1xuICAgICAgICB2YXIgYWN0aW9uID0gIGFjdGlvbnNbaV07XG4gICAgICAgIGlmIChhY3Rpb24udGFyZ2V0SWQgIT09IC0xKSB7XG4gICAgICAgICAgdGFyZ2V0SWQgPSBhY3Rpb24udGFyZ2V0SWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0YXJnZXRJZDtcbiAgICB9OyJdLCJuYW1lcyI6WyJFZGl0QWN0aW9uR3JvdXAiLCJhY3Rpb25zIiwiY2xvc2VkIiwicHJvdG8iLCJwcm90b3R5cGUiLCJvcGVuIiwiY2xvc2UiLCJ1bmRvIiwiYWN0aW9uc01heEluZGV4IiwibGVuZ3RoIiwidGFyZ2V0SWQiLCJpIiwiYWN0aW9uIiwicmVkbyIsImFjdGlvbnNDb3VudCIsImlzT3BlbiIsImlzQ2xvc2VkIiwiaXNFbXB0eSIsImFkZEFjdGlvbiIsInB1c2giLCJjb21wYWN0IiwiYWN0aW9uQSIsImlzSWRlbnRpdHkiLCJzcGxpY2UiLCJqIiwiYWN0aW9uQiIsInR5cGUiLCJtZXJnZSIsImdldFRhcmdldElkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/EditActionGroup.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/EditActionManager.js":
/*!******************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/EditActionManager.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditActionManager: () => (/* binding */ EditActionManager)\n/* harmony export */ });\n/* harmony import */ var _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../MarkupsCoreUtils */ \"./extensions/Markup/core/MarkupsCoreUtils.js\");\n/* harmony import */ var _MarkupEvents__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MarkupEvents */ \"./extensions/Markup/core/MarkupEvents.js\");\n/* harmony import */ var _EditActionGroup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EditActionGroup */ \"./extensions/Markup/core/edit-actions/EditActionGroup.js\");\n\n\n\n\n\n\n/**\n *\n * @param historySize\n * @constructor\n */\nfunction EditActionManager(historySize) {\n\n  this.historySize = historySize;\n\n  this.undoStack = [];\n  this.redoStack = [];\n\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_0__.addTraitEventDispatcher)(this);\n}\n\nvar proto = EditActionManager.prototype;\n\n/**\n *\n * @param action\n */\nproto.execute = function (action) {\n\n  var redoStack = this.redoStack;\n  var undoStack = this.undoStack;\n\n  redoStack.splice(0, redoStack.length);\n\n  action.redo();\n\n  var group = this.getEditActionGroup();\n  if (group.isOpen()) {\n    group.addAction(action);\n  } else {\n    group.open();\n    group.addAction(action);\n    group.close();\n  }\n\n  if (undoStack.length > this.historySize) {\n    undoStack.splice(0, 1);\n  }\n\n  var targetId = action.selectOnExecution ? action.targetId : -1;\n  this.dispatchEvent(\n    { type: _MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_HISTORY_CHANGED, data: { action: 'execute', targetId: targetId } });\n};\n\nproto.beginActionGroup = function () {\n\n  var undoStack = this.undoStack;\n  var undoStackCount = undoStack.length;\n  var group = null;\n\n  if (undoStackCount === 0 || undoStack[undoStackCount - 1].isClosed()) {\n\n    group = this.getEditActionGroup();\n    group.open();\n  } else {\n    console.warn('Markups - Undo/Redo - Action edit group already open.');\n  }\n};\n\nproto.closeActionGroup = function () {\n\n  var undoStack = this.undoStack;\n  var undoStackCount = undoStack.length;\n\n  if (undoStackCount === 0) {\n\n    console.warn('Markups - Undo/Redo - There is no action edit group to close.');\n    return;\n  }\n\n  var group = undoStack[undoStackCount - 1];\n  if (!group.close()) {\n    console.warn('Markups - Undo/Redo - Action edit group already closed.');\n  }\n\n  if (group.isEmpty()) {\n    undoStack.pop();\n  }\n};\n\nproto.cancelActionGroup = function () {\n\n  var undoStack = this.undoStack;\n  var undoStackCount = undoStack.length;\n\n  if (undoStackCount === 0) {\n\n    console.warn('Markups - Undo/Redo - There is no action edit group to close.');\n    return;\n  }\n\n  var group = undoStack[undoStackCount - 1];\n  if (!group.close()) {\n    console.warn('Markups - Undo/Redo - Action edit group already closed.');\n    return;\n  }\n\n  group.undo();\n  undoStack.pop();\n\n  this.dispatchEvent(\n    { type: _MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_HISTORY_CHANGED, data: { action: 'cancel', targetId: -1 } });\n};\n\nproto.undo = function () {\n\n  var undoStack = this.undoStack;\n  var redoStack = this.redoStack;\n\n  if (undoStack.length === 0) {\n    return;\n  }\n\n  var group = undoStack.pop();\n  var targetId = group.undo();\n\n  redoStack.push(group);\n\n  this.dispatchEvent(\n    { type: _MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_HISTORY_CHANGED, data: { action: 'undo', targetId: targetId } });\n};\n\nproto.redo = function () {\n\n  var undoStack = this.undoStack;\n  var redoStack = this.redoStack;\n\n  if (redoStack.length === 0) {\n    return;\n  }\n\n  var group = redoStack.pop();\n  var targetId = group.redo();\n\n  undoStack.push(group);\n\n  this.dispatchEvent(\n    { type: _MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_HISTORY_CHANGED, data: { action: 'redo', targetId: targetId } });\n};\n\nproto.clear = function () {\n\n  this.undoStack.splice(0, this.undoStack.length);\n  this.redoStack.splice(0, this.redoStack.length);\n\n  this.dispatchEvent(\n    { type: _MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_HISTORY_CHANGED, data: { action: 'clear', targetId: -1 } });\n};\n\nproto.isUndoStackEmpty = function () {\n\n  return this.undoStack.length === 0;\n};\n\nproto.isRedoStackEmpty = function () {\n\n  return this.redoStack.length === 0;\n};\n\nproto.getLastElementInUndoStack = function () {\n\n  var undoStack = this.undoStack;\n  var undoStackCount = undoStack.length;\n  return undoStack[undoStackCount - 1];\n};\n\n/**\n *\n * @return action\n * @private\n */\nproto.getEditActionGroup = function () {\n\n  var undoStack = this.undoStack;\n  var undoStackCount = this.undoStack.length;\n\n  var group = null;\n\n  if (undoStackCount === 0 || undoStack[undoStackCount - 1].isClosed()) {\n    group = new _EditActionGroup__WEBPACK_IMPORTED_MODULE_2__.EditActionGroup();\n    undoStack.push(group);\n  } else {\n    group = undoStack[undoStackCount - 1];\n  }\n\n  return group;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9FZGl0QWN0aW9uTWFuYWdlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWE7O0FBRWlEO0FBQ2Q7QUFDSTs7QUFFaEQ7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNXLFNBQVNHLGlCQUFpQkEsQ0FBQ0MsV0FBVyxFQUFFOztFQUUzQyxJQUFJLENBQUNBLFdBQVcsR0FBR0EsV0FBVzs7RUFFOUIsSUFBSSxDQUFDQyxTQUFTLEdBQUcsRUFBRTtFQUNuQixJQUFJLENBQUNDLFNBQVMsR0FBRyxFQUFFOztFQUVuQk4sMEVBQXVCLENBQUMsSUFBSSxDQUFDO0FBQ2pDOztBQUVBLElBQUlPLEtBQUssR0FBR0osaUJBQWlCLENBQUNLLFNBQVM7O0FBRXZDO0FBQ0o7QUFDQTtBQUNBO0FBQ0lELEtBQUssQ0FBQ0UsT0FBTyxHQUFHLFVBQVNDLE1BQU0sRUFBRTs7RUFFN0IsSUFBSUosU0FBUyxHQUFHLElBQUksQ0FBQ0EsU0FBUztFQUM5QixJQUFJRCxTQUFTLEdBQUcsSUFBSSxDQUFDQSxTQUFTOztFQUU5QkMsU0FBUyxDQUFDSyxNQUFNLENBQUMsQ0FBQyxFQUFFTCxTQUFTLENBQUNNLE1BQU0sQ0FBQzs7RUFFckNGLE1BQU0sQ0FBQ0csSUFBSSxDQUFDLENBQUM7O0VBRWIsSUFBSUMsS0FBSyxHQUFHLElBQUksQ0FBQ0Msa0JBQWtCLENBQUMsQ0FBQztFQUNyQyxJQUFJRCxLQUFLLENBQUNFLE1BQU0sQ0FBQyxDQUFDLEVBQUU7SUFDaEJGLEtBQUssQ0FBQ0csU0FBUyxDQUFDUCxNQUFNLENBQUM7RUFDM0IsQ0FBQyxNQUFNO0lBQ0hJLEtBQUssQ0FBQ0ksSUFBSSxDQUFDLENBQUM7SUFDWkosS0FBSyxDQUFDRyxTQUFTLENBQUNQLE1BQU0sQ0FBQztJQUN2QkksS0FBSyxDQUFDSyxLQUFLLENBQUMsQ0FBQztFQUNqQjs7RUFFQSxJQUFJZCxTQUFTLENBQUNPLE1BQU0sR0FBRyxJQUFJLENBQUNSLFdB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QVMsQ0FBQytCLElBQUksQ0FBQ3RCLEtBQUssQ0FBQztFQUN6QixDQUFDLE1BQU07SUFDSEEsS0FBSyxHQUFHVCxTQUFTLENBQUNzQixjQUFjLEdBQUMsQ0FBQyxDQUFDO0VBQ3ZDOztFQUVBLE9BQU9iLEtBQUs7QUFDaEIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9FZGl0QWN0aW9uTWFuYWdlci5qcz80NTUwIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgYWRkVHJhaXRFdmVudERpc3BhdGNoZXIgfSBmcm9tICcuLi9NYXJrdXBzQ29yZVV0aWxzJztcbmltcG9ydCAqIGFzIE1hcmt1cEV2ZW50cyBmcm9tICcuLi9NYXJrdXBFdmVudHMnO1xuaW1wb3J0IHsgRWRpdEFjdGlvbkdyb3VwIH0gZnJvbSAnLi9FZGl0QWN0aW9uR3JvdXAnO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaGlzdG9yeVNpemVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gRWRpdEFjdGlvbk1hbmFnZXIoaGlzdG9yeVNpemUpIHtcblxuICAgICAgICB0aGlzLmhpc3RvcnlTaXplID0gaGlzdG9yeVNpemU7XG5cbiAgICAgICAgdGhpcy51bmRvU3RhY2sgPSBbXTtcbiAgICAgICAgdGhpcy5yZWRvU3RhY2sgPSBbXTtcblxuICAgICAgICBhZGRUcmFpdEV2ZW50RGlzcGF0Y2hlcih0aGlzKTtcbiAgICB9XG5cbiAgICB2YXIgcHJvdG8gPSBFZGl0QWN0aW9uTWFuYWdlci5wcm90b3R5cGU7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBhY3Rpb25cbiAgICAgKi9cbiAgICBwcm90by5leGVjdXRlID0gZnVuY3Rpb24oYWN0aW9uKSB7XG5cbiAgICAgICAgdmFyIHJlZG9TdGFjayA9IHRoaXMucmVkb1N0YWNrO1xuICAgICAgICB2YXIgdW5kb1N0YWNrID0gdGhpcy51bmRvU3RhY2s7XG5cbiAgICAgICAgcmVkb1N0YWNrLnNwbGljZSgwLCByZWRvU3RhY2subGVuZ3RoKTtcblxuICAgICAgICBhY3Rpb24ucmVkbygpO1xuXG4gICAgICAgIHZhciBncm91cCA9IHRoaXMuZ2V0RWRpdEFjdGlvbkdyb3VwKCk7XG4gICAgICAgIGlmIChncm91cC5pc09wZW4oKSkge1xuICAgICAgICAgICAgZ3JvdXAuYWRkQWN0aW9uKGFjdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBncm91cC5vcGVuKCk7XG4gICAgICAgICAgICBncm91cC5hZGRBY3Rpb24oYWN0aW9uKTtcbiAgICAgICAgICAgIGdyb3VwLmNsb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodW5kb1N0YWNrLmxlbmd0aCA+IHRoaXMuaGlzdG9yeVNpemUpIHtcbiAgICAgICAgICAgIHVuZG9TdGFjay5zcGxpY2UoMCwxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0YXJnZXRJZCA9IGFjdGlvbi5zZWxlY3RPbkV4ZWN1dGlvbiA/IGFjdGlvbi50YXJnZXRJZCA6IC0xO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXG4gICAgICAgICAgICB7dHlwZTogTWFya3VwRXZlbnRzLkVWRU5UX0hJU1RPUllfQ0hBTkdFRCwgZGF0YToge2FjdGlvbjogJ2V4ZWN1dGUnLCB0YXJnZXRJZDogdGFyZ2V0SWR9fSk7XG4gICAgfTtcblxuICAgIHByb3RvLmJlZ2luQWN0aW9uR3JvdXAgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgdW5kb1N0YWNrID0gdGhpcy51bmRvU3RhY2s7XG4gICAgICAgIHZhciB1bmRvU3RhY2tDb3VudCA9IHVuZG9TdGFjay5sZW5ndGg7XG4gICAgICAgIHZhciBncm91cCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHVuZG9TdGFja0NvdW50ID09PSAwIHx8IHVuZG9TdGFja1t1bmRvU3RhY2tDb3VudC0xXS5pc0Nsb3NlZCgpKSB7XG5cbiAgICAgICAgICAgIGdyb3VwID0gdGhpcy5nZXRFZGl0QWN0aW9uR3JvdXAoKTtcbiAgICAgICAgICAgIGdyb3VwLm9wZW4oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignTWFya3VwcyAtIFVuZG8vUmVkbyAtIEFjdGlvbiBlZGl0IGdyb3VwIGFscmVhZHkgb3Blbi4nKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwcm90by5jbG9zZUFjdGlvbkdyb3VwID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIHVuZG9TdGFjayA9IHRoaXMudW5kb1N0YWNrO1xuICAgICAgICB2YXIgdW5kb1N0YWNrQ291bnQgPSB1bmRvU3RhY2subGVuZ3RoO1xuXG4gICAgICAgIGlmICh1bmRvU3RhY2tDb3VudCA9PT0gMCkge1xuXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ01hcmt1cHMgLSBVbmRvL1JlZG8gLSBUaGVyZSBpcyBubyBhY3Rpb24gZWRpdCBncm91cCB0byBjbG9zZS4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBncm91cCA9IHVuZG9TdGFja1t1bmRvU3RhY2tDb3VudC0xXTtcbiAgICAgICAgaWYoIWdyb3VwLmNsb3NlKCkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignTWFya3VwcyAtIFVuZG8vUmVkbyAtIEFjdGlvbiBlZGl0IGdyb3VwIGFscmVhZHkgY2xvc2VkLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdyb3VwLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgdW5kb1N0YWNrLnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByb3RvLmNhbmNlbEFjdGlvbkdyb3VwID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIHVuZG9TdGFjayA9IHRoaXMudW5kb1N0YWNrO1xuICAgICAgICB2YXIgdW5kb1N0YWNrQ291bnQgPSB1bmRvU3RhY2subGVuZ3RoO1xuXG4gICAgICAgIGlmICh1bmRvU3RhY2tDb3VudCA9PT0gMCkge1xuXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ01hcmt1cHMgLSBVbmRvL1JlZG8gLSBUaGVyZSBpcyBubyBhY3Rpb24gZWRpdCBncm91cCB0byBjbG9zZS4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBncm91cCA9IHVuZG9TdGFja1t1bmRvU3RhY2tDb3VudC0xXTtcbiAgICAgICAgaWYoIWdyb3VwLmNsb3NlKCkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignTWFya3VwcyAtIFVuZG8vUmVkbyAtIEFjdGlvbiBlZGl0IGdyb3VwIGFscmVhZHkgY2xvc2VkLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZ3JvdXAudW5kbygpO1xuICAgICAgICB1bmRvU3RhY2sucG9wKCk7XG5cbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgICAge3R5cGU6IE1hcmt1cEV2ZW50cy5FVkVOVF9ISVNUT1JZX0NIQU5HRUQsIGRhdGE6IHthY3Rpb246ICdjYW5jZWwnLCB0YXJnZXRJZDogLTF9fSk7XG4gICAgfTtcblxuICAgIHByb3RvLnVuZG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgdW5kb1N0YWNrID0gdGhpcy51bmRvU3RhY2s7XG4gICAgICAgIHZhciByZWRvU3RhY2sgPSB0aGlzLnJlZG9TdGFjaztcblxuICAgICAgICBpZiAodW5kb1N0YWNrLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGdyb3VwID0gdW5kb1N0YWNrLnBvcCgpO1xuICAgICAgICB2YXIgdGFyZ2V0SWQgPSBncm91cC51bmRvKCk7XG5cbiAgICAgICAgcmVkb1N0YWNrLnB1c2goZ3JvdXApO1xuXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgICAgIHt0eXBlOiBNYXJrdXBFdmVudHMuRVZFTlRfSElTVE9SWV9DSEFOR0VELCBkYXRhOiB7YWN0aW9uOid1bmRvJywgdGFyZ2V0SWQ6IHRhcmdldElkfX0pO1xuICAgIH07XG5cbiAgICBwcm90by5yZWRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIHVuZG9TdGFjayA9IHRoaXMudW5kb1N0YWNrO1xuICAgICAgICB2YXIgcmVkb1N0YWNrID0gdGhpcy5yZWRvU3RhY2s7XG5cbiAgICAgICAgaWYgKHJlZG9TdGFjay5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBncm91cCA9IHJlZG9TdGFjay5wb3AoKTtcbiAgICAgICAgdmFyIHRhcmdldElkID0gZ3JvdXAucmVkbygpO1xuXG4gICAgICAgIHVuZG9TdGFjay5wdXNoKGdyb3VwKTtcblxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXG4gICAgICAgICAgICB7dHlwZTogTWFya3VwRXZlbnRzLkVWRU5UX0hJU1RPUllfQ0hBTkdFRCwgZGF0YToge2FjdGlvbjoncmVkbycsIHRhcmdldElkOiB0YXJnZXRJZH19KTtcbiAgICB9O1xuXG4gICAgcHJvdG8uY2xlYXIgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB0aGlzLnVuZG9TdGFjay5zcGxpY2UoMCwgdGhpcy51bmRvU3RhY2subGVuZ3RoKTtcbiAgICAgICAgdGhpcy5yZWRvU3RhY2suc3BsaWNlKDAsIHRoaXMucmVkb1N0YWNrLmxlbmd0aCk7XG5cbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgICAge3R5cGU6IE1hcmt1cEV2ZW50cy5FVkVOVF9ISVNUT1JZX0NIQU5HRUQsIGRhdGE6IHthY3Rpb246J2NsZWFyJywgdGFyZ2V0SWQ6IC0xfX0pO1xuICAgIH07XG5cbiAgICBwcm90by5pc1VuZG9TdGFja0VtcHR5ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMudW5kb1N0YWNrLmxlbmd0aCA9PT0gMDtcbiAgICB9O1xuXG4gICAgcHJvdG8uaXNSZWRvU3RhY2tFbXB0eSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHJldHVybiB0aGlzLnJlZG9TdGFjay5sZW5ndGggPT09IDA7XG4gICAgfTtcblxuICAgIHByb3RvLmdldExhc3RFbGVtZW50SW5VbmRvU3RhY2sgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgdW5kb1N0YWNrID0gdGhpcy51bmRvU3RhY2s7XG4gICAgICAgIHZhciB1bmRvU3RhY2tDb3VudCA9IHVuZG9TdGFjay5sZW5ndGg7XG4gICAgICAgIHJldHVybiB1bmRvU3RhY2tbdW5kb1N0YWNrQ291bnQtMV07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHJldHVybiBhY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByb3RvLmdldEVkaXRBY3Rpb25Hcm91cCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciB1bmRvU3RhY2sgPSB0aGlzLnVuZG9TdGFjaztcbiAgICAgICAgdmFyIHVuZG9TdGFja0NvdW50ID0gdGhpcy51bmRvU3RhY2subGVuZ3RoO1xuXG4gICAgICAgIHZhciBncm91cCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHVuZG9TdGFja0NvdW50ID09PSAwIHx8IHVuZG9TdGFja1t1bmRvU3RhY2tDb3VudC0xXS5pc0Nsb3NlZCgpKSB7XG4gICAgICAgICAgICBncm91cCA9IG5ldyBFZGl0QWN0aW9uR3JvdXAoKTtcbiAgICAgICAgICAgIHVuZG9TdGFjay5wdXNoKGdyb3VwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdyb3VwID0gdW5kb1N0YWNrW3VuZG9TdGFja0NvdW50LTFdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH07XG4iXSwibmFtZXMiOlsiYWRkVHJhaXRFdmVudERpc3BhdGNoZXIiLCJNYXJrdXBFdmVudHMiLCJFZGl0QWN0aW9uR3JvdXAiLCJFZGl0QWN0aW9uTWFuYWdlciIsImhpc3RvcnlTaXplIiwidW5kb1N0YWNrIiwicmVkb1N0YWNrIiwicHJvdG8iLCJwcm90b3R5cGUiLCJleGVjdXRlIiwiYWN0aW9uIiwic3BsaWNlIiwibGVuZ3RoIiwicmVkbyIsImdyb3VwIiwiZ2V0RWRpdEFjdGlvbkdyb3VwIiwiaXNPcGVuIiwiYWRkQWN0aW9uIiwib3BlbiIsImNsb3NlIiwidGFyZ2V0SWQiLCJzZWxlY3RPbkV4ZWN1dGlvbiIsImRpc3BhdGNoRXZlbnQiLCJ0eXBlIiwiRVZFTlRfSElTVE9SWV9DSEFOR0VEIiwiZGF0YSIsImJlZ2luQWN0aW9uR3JvdXAiLCJ1bmRvU3RhY2tDb3VudCIsImlzQ2xvc2VkIiwiY29uc29sZSIsIndhcm4iLCJjbG9zZUFjdGlvbkdyb3VwIiwiaXNFbXB0eSIsInBvcCIsImNhbmNlbEFjdGlvbkdyb3VwIiwidW5kbyIsInB1c2giLCJjbGVhciIsImlzVW5kb1N0YWNrRW1wdHkiLCJpc1JlZG9TdGFja0VtcHR5IiwiZ2V0TGFzdEVsZW1lbnRJblVuZG9TdGFjayJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/EditActionManager.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/SetArrow.js":
/*!*********************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/SetArrow.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SetArrow: () => (/* binding */ SetArrow)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n\n\n\n\n/**\n *\n * @param editor\n * @param arrow\n * @param head\n * @param tail\n * @constructor\n */\nfunction SetArrow(editor, arrow, head, tail) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'SET-ARROW', arrow.id);\n\n  this.newHead = { x: head.x, y: head.y };\n  this.newTail = { x: tail.x, y: tail.y };\n  this.oldHead = { x: arrow.head.x, y: arrow.head.y };\n  this.oldTail = { x: arrow.tail.x, y: arrow.tail.y };\n}\n\nSetArrow.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nSetArrow.prototype.constructor = SetArrow;\n\nvar proto = SetArrow.prototype;\n\nproto.redo = function () {\n\n  this.applyState(this.targetId, this.newHead, this.newTail);\n};\n\nproto.undo = function () {\n\n  this.applyState(this.targetId, this.oldHead, this.oldTail);\n};\n\nproto.merge = function (action) {\n\n  if (this.targetId === action.targetId &&\n  this.type === action.type) {\n\n    this.newHead = action.newHead;\n    this.newTail = action.newTail;\n    return true;\n  }\n  return false;\n};\n\n/**\n *\n * @private\n */\nproto.applyState = function (targetId, head, tail) {\n\n  var arrow = this.editor.getMarkup(targetId);\n  if (!arrow) {\n    return;\n  }\n\n  // Different stroke widths make positions differ at sub-pixel level.\n  var epsilon = 0.0001;\n\n  if (Math.abs(arrow.head.x - head.x) >= epsilon || Math.abs(arrow.head.y - head.y) >= epsilon ||\n  Math.abs(arrow.tail.x - tail.x) >= epsilon || Math.abs(arrow.tail.y - tail.y) >= epsilon) {\n\n    // Confusing naming here. in arrow.set the first two numbers are\n    // the point you drag from and the second two are the point you\n    // drag to. So the head point is actually where the tail of the\n    // arrow is positioned and the tail point is the head is positioned.\n    arrow.set(head.x, head.y, tail.x, tail.y);\n  }\n};\n\n/**\n * @returns {boolean}\n */\nproto.isIdentity = function () {\n\n  return (\n    this.newHead.x === this.oldHead.x &&\n    this.newHead.y === this.oldHead.y &&\n    this.newTail.x === this.oldTail.x &&\n    this.newTail.y === this.oldTail.y);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9TZXRBcnJvdy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFhOztBQUU2Qjs7QUFFdEM7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNXLFNBQVNDLFFBQVFBLENBQUNDLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBRTs7RUFFaERMLG1EQUFVLENBQUNNLElBQUksQ0FBQyxJQUFJLEVBQUVKLE1BQU0sRUFBRSxXQUFXLEVBQUVDLEtBQUssQ0FBQ0ksRUFBRSxDQUFDOztFQUVwRCxJQUFJLENBQUNDLE9BQU8sR0FBRyxFQUFDQyxDQUFDLEVBQUVMLElBQUksQ0FBQ0ssQ0FBQyxFQUFFQyxDQUFDLEVBQUVOLElBQUksQ0FBQ00sQ0FBQyxFQUFDO0VBQ3JDLElBQUksQ0FBQ0MsT0FBTyxHQUFHLEVBQUNGLENBQUMsRUFBRUosSUFBSSxDQUFDSSxDQUFDLEVBQUVDLENBQUMsRUFBRUwsSUFBSSxDQUFDSyxDQUFDLEVBQUM7RUFDckMsSUFBSSxDQUFDRSxPQUFPLEdBQUcsRUFBQ0gsQ0FBQyxFQUFFTixLQUFLLENBQUNDLElBQUksQ0FBQ0ssQ0FBQyxFQUFFQyxDQUFDLEVBQUVQLEtBQUssQ0FBQ0MsSUFBSSxDQUFDTSxDQUFDLEVBQUM7RUFDakQsSUFBSSxDQUFDRyxPQUFPLEdBQUcsRUFBQ0osQ0FBQyxFQUFFTixLQUFLLENBQUNFLElBQUksQ0FBQ0ksQ0FBQyxFQUFFQyxDQUFDLEVBQUVQLEtBQUssQ0FBQ0UsSUFBSSxDQUFDSyxDQUFDLEVBQUM7QUFDckQ7O0FBRUFULFFBQVEsQ0FBQ2EsU0FBUyxHQUFHQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ2hCLG1EQUFVLENBQUNjLFNBQVMsQ0FBQztBQUN4RGIsUUFBUSxDQUFDYSxTQUFTLENBQUNHLFdBQVcsR0FBR2hCLFFBQVE7O0FBRXpDLElBQUlpQixLQUFLLEdBQUdqQixRQUFRLENBQUNhLFNBQVM7O0FBRTlCSSxLQUFLLENBQUNDLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFJLENBQUNDLFVBQVUsQ0FBQyxJQUFJLENBQUNDLFFBQVEsRUFBRSxJQUFJLENBQUNiLE9BQU8sRUFBRSxJQUFJLENBQUNHLE9BQU8sQ0FBQztBQUM5RCxDQUFDOztBQUVETyxLQUFLLENBQUNJLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFJLENBQUNGLFVBQVUsQ0FBQyxJQUFJLENBQUNDLFFBQVEsRUFBRSxJQUFJLENBQUNULE9BQU8sRUFBRSxJQUFJLENBQUNDLE9BQU8sQ0FBQztBQUM5RCxDQUFDOztBQUVESyxLQUFLLENBQUNLLEtBQUssR0FBRyxVQUFTQyxNQUFNLEVBQUU7O0VBRTNCLElBQUksSUFBSSxDQUFDSCxRQUFRLEtBQUtHLE1BQU0sQ0FBQ0gsUUFBUTtFQUNqQyxJQUFJLENBQUNJLElBQUksS0FBS0QsTUFBTSxDQUFDQyxJQUFJLEVBQUU7O0lBRTNCLElBQUksQ0FBQ2pCLE9BQU8sR0FBR2dCLE1BQU0sQ0FBQ2hCLE9BQU87SUFDN0IsSUFBSSxDQUFDRyxPQUFPLEdBQUdhLE1BQU0sQ0FBQ2IsT0FBTztJQUM3QixPQUFPLElBQUk7RUFDZjtFQUNBLE9BQU8sS0FBSztBQUNoQixDQUFDOztBQUVEO0FBQ0o7QUFDQTtBQUNBO0FBQ0lPLEtBQUssQ0FBQ0UsVUFBVSxHQUFHLFVBQVNDLFFBQVEsRUFBRWpCLElBQUksRUFBRUMsSUFBSSxFQUFFOztFQUU5QyxJQUFJRixLQUFLLEdBQUcsSUFBSSxDQUFDRCxNQUFNLENBQUN3QixTQUFTLENBQUNMLFFBQVEsQ0FBQztFQUMzQyxJQUFHLENBQUNsQixLQUFLLEVBQUU7SUFDUDtFQUNKOztFQUVBO0VBQ0EsSUFBSXdCLE9BQU8sR0FBRyxNQUFNOztFQUVwQixJQUFJQyxJQUFJLENBQUNDLEdBQUcsQ0FBQzFCLEtBQUssQ0FBQ0MsSUFBSSxDQUFDSyxDQUFDLEdBQUdMLElBQUksQ0FBQ0ssQ0FBQyxDQUFDLElBQUlrQixPQUFPLElBQUlDLElBQUksQ0FBQ0MsR0FBRyxDQUFDMUIsS0FBSyxDQUFDQyxJQUFJLENBQUNNLENBQUMsR0FBR04sSUFBSSxDQUFDTSxDQUFDLENBQUMsSUFBSWlCLE9BQU87RUFDeEZDLElBQUksQ0FBQ0MsR0FBRyxDQUFDMUIsS0FBSyxDQUFDRSxJQUFJLENBQUNJLENBQUMsR0FBR0osSUFBSSxDQUFDSSxDQUFDLENBQUMsSUFBSWtCLE9BQU8sSUFBSUMsSUFBSSxDQUFDQyxHQUFHLENBQUMxQixLQUFLLENBQUNFLElBQUksQ0FBQ0ssQ0FBQyxHQUFHTCxJQUFJLENBQUNLLENBQUMsQ0FBQyxJQUFJaUIsT0FBTyxFQUFFOztJQUUxRjtJQUNBO0lBQ0E7SUFDQTtJQUNBeEIsS0FBSyxDQUFDMkIsR0FBRyxDQUFDMUIsSUFBSSxDQUFDSyxDQUFDLEVBQUVMLElBQUksQ0FBQ00sQ0FBQyxFQUFFTCxJQUFJLENBQUNJLENBQUMsRUFBRUosSUFBSSxDQUFDSyxDQUFDLENBQUM7RUFDN0M7QUFDSixDQUFDOztBQUVEO0FBQ0o7QUFDQTtBQUNJUSxLQUFLLENBQUNhLFVBQVUsR0FBRyxZQUFXOztFQUUxQjtJQUNJLElBQUksQ0FBQ3ZCLE9BQU8sQ0FBQ0MsQ0FBQyxLQUFLLElBQUksQ0FBQ0csT0FBTyxDQUFDSCxDQUFDO0lBQ2pDLElBQUksQ0FBQ0QsT0FBTyxDQUFDRSxDQUFDLEtBQUssSUFBSSxDQUFDRSxPQUFPLENBQUNGLENBQUM7SUFDakMsSUFBSSxDQUFDQyxPQUFPLENBQUNGLENBQUMsS0FBSyxJQUFJLENBQUNJLE9BQU8sQ0FBQ0osQ0FBQztJQUNqQyxJQUFJLENBQUNFLE9BQU8sQ0FBQ0QsQ0FBQyxLQUFLLElBQUksQ0FBQ0csT0FBTyxDQUFDSCxDQUFDO0FBQ3pDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9lZGl0LWFjdGlvbnMvU2V0QXJyb3cuanM/NzBmYiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IEVkaXRBY3Rpb24gfSBmcm9tICcuL0VkaXRBY3Rpb24nO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWRpdG9yXG4gICAgICogQHBhcmFtIGFycm93XG4gICAgICogQHBhcmFtIGhlYWRcbiAgICAgKiBAcGFyYW0gdGFpbFxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBTZXRBcnJvdyhlZGl0b3IsIGFycm93LCBoZWFkLCB0YWlsKSB7XG5cbiAgICAgICAgRWRpdEFjdGlvbi5jYWxsKHRoaXMsIGVkaXRvciwgJ1NFVC1BUlJPVycsIGFycm93LmlkKTtcblxuICAgICAgICB0aGlzLm5ld0hlYWQgPSB7eDogaGVhZC54LCB5OiBoZWFkLnl9O1xuICAgICAgICB0aGlzLm5ld1RhaWwgPSB7eDogdGFpbC54LCB5OiB0YWlsLnl9O1xuICAgICAgICB0aGlzLm9sZEhlYWQgPSB7eDogYXJyb3cuaGVhZC54LCB5OiBhcnJvdy5oZWFkLnl9O1xuICAgICAgICB0aGlzLm9sZFRhaWwgPSB7eDogYXJyb3cudGFpbC54LCB5OiBhcnJvdy50YWlsLnl9O1xuICAgIH1cblxuICAgIFNldEFycm93LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRWRpdEFjdGlvbi5wcm90b3R5cGUpO1xuICAgIFNldEFycm93LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNldEFycm93O1xuXG4gICAgdmFyIHByb3RvID0gU2V0QXJyb3cucHJvdG90eXBlO1xuXG4gICAgcHJvdG8ucmVkbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHRoaXMuYXBwbHlTdGF0ZSh0aGlzLnRhcmdldElkLCB0aGlzLm5ld0hlYWQsIHRoaXMubmV3VGFpbCk7XG4gICAgfTtcblxuICAgIHByb3RvLnVuZG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB0aGlzLmFwcGx5U3RhdGUodGhpcy50YXJnZXRJZCwgdGhpcy5vbGRIZWFkLCB0aGlzLm9sZFRhaWwpO1xuICAgIH07XG5cbiAgICBwcm90by5tZXJnZSA9IGZ1bmN0aW9uKGFjdGlvbikge1xuXG4gICAgICAgIGlmICh0aGlzLnRhcmdldElkID09PSBhY3Rpb24udGFyZ2V0SWQgJiZcbiAgICAgICAgICAgIHRoaXMudHlwZSA9PT0gYWN0aW9uLnR5cGUpIHtcblxuICAgICAgICAgICAgdGhpcy5uZXdIZWFkID0gYWN0aW9uLm5ld0hlYWQ7XG4gICAgICAgICAgICB0aGlzLm5ld1RhaWwgPSBhY3Rpb24ubmV3VGFpbDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByb3RvLmFwcGx5U3RhdGUgPSBmdW5jdGlvbih0YXJnZXRJZCwgaGVhZCwgdGFpbCkge1xuXG4gICAgICAgIHZhciBhcnJvdyA9IHRoaXMuZWRpdG9yLmdldE1hcmt1cCh0YXJnZXRJZCk7XG4gICAgICAgIGlmKCFhcnJvdykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGlmZmVyZW50IHN0cm9rZSB3aWR0aHMgbWFrZSBwb3NpdGlvbnMgZGlmZmVyIGF0IHN1Yi1waXhlbCBsZXZlbC5cbiAgICAgICAgdmFyIGVwc2lsb24gPSAwLjAwMDE7XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKGFycm93LmhlYWQueCAtIGhlYWQueCkgPj0gZXBzaWxvbiB8fCBNYXRoLmFicyhhcnJvdy5oZWFkLnkgLSBoZWFkLnkpID49IGVwc2lsb24gfHxcbiAgICAgICAgICAgIE1hdGguYWJzKGFycm93LnRhaWwueCAtIHRhaWwueCkgPj0gZXBzaWxvbiB8fCBNYXRoLmFicyhhcnJvdy50YWlsLnkgLSB0YWlsLnkpID49IGVwc2lsb24pIHtcblxuICAgICAgICAgICAgLy8gQ29uZnVzaW5nIG5hbWluZyBoZXJlLiBpbiBhcnJvdy5zZXQgdGhlIGZpcnN0IHR3byBudW1iZXJzIGFyZVxuICAgICAgICAgICAgLy8gdGhlIHBvaW50IHlvdSBkcmFnIGZyb20gYW5kIHRoZSBzZWNvbmQgdHdvIGFyZSB0aGUgcG9pbnQgeW91XG4gICAgICAgICAgICAvLyBkcmFnIHRvLiBTbyB0aGUgaGVhZCBwb2ludCBpcyBhY3R1YWxseSB3aGVyZSB0aGUgdGFpbCBvZiB0aGVcbiAgICAgICAgICAgIC8vIGFycm93IGlzIHBvc2l0aW9uZWQgYW5kIHRoZSB0YWlsIHBvaW50IGlzIHRoZSBoZWFkIGlzIHBvc2l0aW9uZWQuXG4gICAgICAgICAgICBhcnJvdy5zZXQoaGVhZC54LCBoZWFkLnksIHRhaWwueCwgdGFpbC55KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBwcm90by5pc0lkZW50aXR5ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHRoaXMubmV3SGVhZC54ID09PSB0aGlzLm9sZEhlYWQueCAmJlxuICAgICAgICAgICAgdGhpcy5uZXdIZWFkLnkgPT09IHRoaXMub2xkSGVhZC55ICYmXG4gICAgICAgICAgICB0aGlzLm5ld1RhaWwueCA9PT0gdGhpcy5vbGRUYWlsLnggJiZcbiAgICAgICAgICAgIHRoaXMubmV3VGFpbC55ID09PSB0aGlzLm9sZFRhaWwueSk7XG4gICAgfTtcblxuIl0sIm5hbWVzIjpbIkVkaXRBY3Rpb24iLCJTZXRBcnJvdyIsImVkaXRvciIsImFycm93IiwiaGVhZCIsInRhaWwiLCJjYWxsIiwiaWQiLCJuZXdIZWFkIiwieCIsInkiLCJuZXdUYWlsIiwib2xkSGVhZCIsIm9sZFRhaWwiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwicmVkbyIsImFwcGx5U3RhdGUiLCJ0YXJnZXRJZCIsInVuZG8iLCJtZXJnZSIsImFjdGlvbiIsInR5cGUiLCJnZXRNYXJrdXAiLCJlcHNpbG9uIiwiTWF0aCIsImFicyIsInNldCIsImlzSWRlbnRpdHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/SetArrow.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/SetCallout.js":
/*!***********************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/SetCallout.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SetCallout: () => (/* binding */ SetCallout)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n\n\n\n\n/**\n *\n * @param editor\n * @param markup\n * @param position\n * @param size\n * @param text\n * @constructor\n */\nfunction SetCallout(editor, markup, position, size, text, isFrameUsed) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'SET-CALLOUT', markup.id);\n\n  this.newPosition = { x: position.x, y: position.y };\n  this.oldPosition = { x: markup.position.x, y: markup.position.y };\n  this.newSize = { x: size.x, y: size.y };\n  this.oldSize = { x: markup.size.x, y: markup.size.y };\n  this.newText = text;\n  this.oldText = markup.getText();\n  this.newIsFrameUsed = isFrameUsed;\n  this.oldIsFrameUsed = markup.isFrameUsed;\n}\n\nSetCallout.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nSetCallout.prototype.constructor = SetCallout;\n\nvar proto = SetCallout.prototype;\n\nproto.redo = function () {\n\n  var callout = this.editor.getMarkup(this.targetId);\n  callout && callout.set(this.newPosition, this.newSize, this.newText, this.newIsFrameUsed);\n};\n\nproto.undo = function () {\n\n  var callout = this.editor.getMarkup(this.targetId);\n  callout && callout.set(this.oldPosition, this.oldSize, this.oldText, this.oldIsFrameUsed);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9TZXRDYWxsb3V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWE7O0FBRTZCOztBQUV0QztBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTQyxVQUFVQSxDQUFDQyxNQUFNLEVBQUVDLE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBRUMsV0FBVyxFQUFFOztFQUUxRVAsbURBQVUsQ0FBQ1EsSUFBSSxDQUFDLElBQUksRUFBRU4sTUFBTSxFQUFFLGFBQWEsRUFBRUMsTUFBTSxDQUFDTSxFQUFFLENBQUM7O0VBRXZELElBQUksQ0FBQ0MsV0FBVyxHQUFHLEVBQUNDLENBQUMsRUFBRVAsUUFBUSxDQUFDTyxDQUFDLEVBQUVDLENBQUMsRUFBRVIsUUFBUSxDQUFDUSxDQUFDLEVBQUM7RUFDakQsSUFBSSxDQUFDQyxXQUFXLEdBQUcsRUFBQ0YsQ0FBQyxFQUFFUixNQUFNLENBQUNDLFFBQVEsQ0FBQ08sQ0FBQyxFQUFFQyxDQUFDLEVBQUVULE1BQU0sQ0FBQ0MsUUFBUSxDQUFDUSxDQUFDLEVBQUM7RUFDL0QsSUFBSSxDQUFDRSxPQUFPLEdBQUcsRUFBQ0gsQ0FBQyxFQUFFTixJQUFJLENBQUNNLENBQUMsRUFBRUMsQ0FBQyxFQUFFUCxJQUFJLENBQUNPLENBQUMsRUFBQztFQUNyQyxJQUFJLENBQUNHLE9BQU8sR0FBRyxFQUFDSixDQUFDLEVBQUVSLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDTSxDQUFDLEVBQUVDLENBQUMsRUFBRVQsTUFBTSxDQUFDRSxJQUFJLENBQUNPLENBQUMsRUFBQztFQUNuRCxJQUFJLENBQUNJLE9BQU8sR0FBR1YsSUFBSTtFQUNuQixJQUFJLENBQUNXLE9BQU8sR0FBR2QsTUFBTSxDQUFDZSxPQUFPLENBQUMsQ0FBQztFQUMvQixJQUFJLENBQUNDLGNBQWMsR0FBR1osV0FBVztFQUNqQyxJQUFJLENBQUNhLGNBQWMsR0FBR2pCLE1BQU0sQ0FBQ0ksV0FBVztBQUM1Qzs7QUFFQU4sVUFBVSxDQUFDb0IsU0FBUyxHQUFHQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ3ZCLG1EQUFVLENBQUNxQixTQUFTLENBQUM7QUFDMURwQixVQUFVLENBQUNvQixTQUFTLENBQUNHLFdBQVcsR0FBR3ZCLFVBQVU7O0FBRTdDLElBQUl3QixLQUFLLEdBQUd4QixVQUFVLENBQUNvQixTQUFTOztBQUVoQ0ksS0FBSyxDQUFDQyxJQUFJLEdBQUcsWUFBVzs7RUFFcEIsSUFBSUMsT0FBTyxHQUFHLElBQUksQ0FBQ3pCLE1BQU0sQ0FBQzBCLFNBQVMsQ0FBQyxJQUFJLENBQUNDLFFBQVEsQ0FBQztFQUNsREYsT0FBTyxJQUFJQSxPQUFPLENBQUNHLEdBQUcsQ0FBQyxJQUFJLENBQUNwQixXQUFXLEVBQUUsSUFBSSxDQUFDSSxPQUFPLEVBQUUsSUFBSSxDQUFDRSxPQUFPLEVBQUUsSUFBSSxDQUFDRyxjQUFjLENBQUM7QUFDN0YsQ0FBQzs7QUFFRE0sS0FBSyxDQUFDTSxJQUFJLEdBQUcsWUFBVzs7RUFFcEIsSUFBSUosT0FBTyxHQUFHLElBQUksQ0FBQ3pCLE1BQU0sQ0FBQzBCLFNBQVMsQ0FBQyxJQUFJLENBQUNDLFFBQVEsQ0FBQztFQUNsREYsT0FBTyxJQUFJQSxPQUFPLENBQUNHLEdBQUcsQ0FBQyxJQUFJLENBQUNqQixXQUFXLEVBQUUsSUFBSSxDQUFDRSxPQUFPLEVBQUUsSUFBSSxDQUFDRSxPQUFPLEVBQUUsSUFBSSxDQUFDRyxjQUFjLENBQUM7QUFDN0YsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9TZXRDYWxsb3V0LmpzPzU4NjIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBFZGl0QWN0aW9uIH0gZnJvbSAnLi9FZGl0QWN0aW9uJztcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGVkaXRvclxuICAgICAqIEBwYXJhbSBtYXJrdXBcbiAgICAgKiBAcGFyYW0gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0gc2l6ZVxuICAgICAqIEBwYXJhbSB0ZXh0XG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIFNldENhbGxvdXQoZWRpdG9yLCBtYXJrdXAsIHBvc2l0aW9uLCBzaXplLCB0ZXh0LCBpc0ZyYW1lVXNlZCkge1xuXG4gICAgICAgIEVkaXRBY3Rpb24uY2FsbCh0aGlzLCBlZGl0b3IsICdTRVQtQ0FMTE9VVCcsIG1hcmt1cC5pZCk7XG5cbiAgICAgICAgdGhpcy5uZXdQb3NpdGlvbiA9IHt4OiBwb3NpdGlvbi54LCB5OiBwb3NpdGlvbi55fTtcbiAgICAgICAgdGhpcy5vbGRQb3NpdGlvbiA9IHt4OiBtYXJrdXAucG9zaXRpb24ueCwgeTogbWFya3VwLnBvc2l0aW9uLnl9O1xuICAgICAgICB0aGlzLm5ld1NpemUgPSB7eDogc2l6ZS54LCB5OiBzaXplLnl9O1xuICAgICAgICB0aGlzLm9sZFNpemUgPSB7eDogbWFya3VwLnNpemUueCwgeTogbWFya3VwLnNpemUueX07XG4gICAgICAgIHRoaXMubmV3VGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMub2xkVGV4dCA9IG1hcmt1cC5nZXRUZXh0KCk7XG4gICAgICAgIHRoaXMubmV3SXNGcmFtZVVzZWQgPSBpc0ZyYW1lVXNlZDtcbiAgICAgICAgdGhpcy5vbGRJc0ZyYW1lVXNlZCA9IG1hcmt1cC5pc0ZyYW1lVXNlZDtcbiAgICB9XG5cbiAgICBTZXRDYWxsb3V0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRWRpdEFjdGlvbi5wcm90b3R5cGUpO1xuICAgIFNldENhbGxvdXQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2V0Q2FsbG91dDtcblxuICAgIHZhciBwcm90byA9IFNldENhbGxvdXQucHJvdG90eXBlO1xuXG4gICAgcHJvdG8ucmVkbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBjYWxsb3V0ID0gdGhpcy5lZGl0b3IuZ2V0TWFya3VwKHRoaXMudGFyZ2V0SWQpO1xuICAgICAgICBjYWxsb3V0ICYmIGNhbGxvdXQuc2V0KHRoaXMubmV3UG9zaXRpb24sIHRoaXMubmV3U2l6ZSwgdGhpcy5uZXdUZXh0LCB0aGlzLm5ld0lzRnJhbWVVc2VkKTtcbiAgICB9O1xuXG4gICAgcHJvdG8udW5kbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBjYWxsb3V0ID0gdGhpcy5lZGl0b3IuZ2V0TWFya3VwKHRoaXMudGFyZ2V0SWQpO1xuICAgICAgICBjYWxsb3V0ICYmIGNhbGxvdXQuc2V0KHRoaXMub2xkUG9zaXRpb24sIHRoaXMub2xkU2l6ZSwgdGhpcy5vbGRUZXh0LCB0aGlzLm9sZElzRnJhbWVVc2VkKTtcbiAgICB9O1xuIl0sIm5hbWVzIjpbIkVkaXRBY3Rpb24iLCJTZXRDYWxsb3V0IiwiZWRpdG9yIiwibWFya3VwIiwicG9zaXRpb24iLCJzaXplIiwidGV4dCIsImlzRnJhbWVVc2VkIiwiY2FsbCIsImlkIiwibmV3UG9zaXRpb24iLCJ4IiwieSIsIm9sZFBvc2l0aW9uIiwibmV3U2l6ZSIsIm9sZFNpemUiLCJuZXdUZXh0Iiwib2xkVGV4dCIsImdldFRleHQiLCJuZXdJc0ZyYW1lVXNlZCIsIm9sZElzRnJhbWVVc2VkIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJwcm90byIsInJlZG8iLCJjYWxsb3V0IiwiZ2V0TWFya3VwIiwidGFyZ2V0SWQiLCJzZXQiLCJ1bmRvIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/SetCallout.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/SetCircle.js":
/*!**********************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/SetCircle.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SetCircle: () => (/* binding */ SetCircle)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n\n\n\n\n/**\n * Markup set circle action.\n *\n * Implements an {@link Autodesk.Viewing.Extensions.Markups.Core.EditAction|EditAction}\n * for editing properties of a Circle {@link Autodesk.Viewing.Extensions.Markups.Core.Markup|Markup}.\n * Included in documentation as an example of how to create\n * a specific EditAction that deals with Markup edition.\n * Developers are encourage to look into this class's source code and copy\n * as much code as they need. Find link to source code below.\n *\n * @tutorial feature_markup\n * @constructor\n * @memberof Autodesk.Viewing.Extensions.Markups.Core\n * @extends Autodesk.Viewing.Extensions.Markups.Core.EditAction\n *\n * @param editor\n * @param circle\n * @param position\n * @param size\n */\nfunction SetCircle(editor, circle, position, size) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'SET-CIRCLE', circle.id);\n\n  this.newPosition = { x: position.x, y: position.y };\n  this.newSize = { x: size.x, y: size.y };\n  this.oldPosition = { x: circle.position.x, y: circle.position.y };\n  this.oldSize = { x: circle.size.x, y: circle.size.y };\n}\n\nSetCircle.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nSetCircle.prototype.constructor = SetCircle;\n\nvar proto = SetCircle.prototype;\n\nproto.redo = function () {\n\n  this.applyState(this.targetId, this.newPosition, this.newSize);\n};\n\nproto.undo = function () {\n\n  this.applyState(this.targetId, this.oldPosition, this.oldSize);\n};\n\nproto.merge = function (action) {\n\n  if (this.targetId === action.targetId &&\n  this.type === action.type) {\n\n    this.newPosition = action.newPosition;\n    this.newSize = action.newSize;\n    return true;\n  }\n  return false;\n};\n\n/**\n *\n * @private\n */\nproto.applyState = function (targetId, position, size) {\n\n  var circle = this.editor.getMarkup(targetId);\n  if (!circle) {\n    return;\n  }\n\n  // Different stroke widths make positions differ at sub-pixel level.\n  var epsilon = 0.0001;\n\n  if (Math.abs(circle.position.x - position.x) > epsilon || Math.abs(circle.size.y - size.y) > epsilon ||\n  Math.abs(circle.position.y - position.y) > epsilon || Math.abs(circle.size.y - size.y) > epsilon) {\n\n    circle.set(position, size);\n  }\n};\n\n/**\n * @returns {boolean}\n */\nproto.isIdentity = function () {\n\n  return (\n    this.newPosition.x === this.oldPosition.x &&\n    this.newPosition.y === this.oldPosition.y &&\n    this.newSize.x === this.oldSize.x &&\n    this.newSize.y === this.oldSize.y);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9TZXRDaXJjbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBYTs7QUFFNkI7O0FBRXRDO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTQyxTQUFTQSxDQUFDQyxNQUFNLEVBQUVDLE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxJQUFJLEVBQUU7O0VBRXRETCxtREFBVSxDQUFDTSxJQUFJLENBQUMsSUFBSSxFQUFFSixNQUFNLEVBQUUsWUFBWSxFQUFFQyxNQUFNLENBQUNJLEVBQUUsQ0FBQzs7RUFFdEQsSUFBSSxDQUFDQyxXQUFXLEdBQUcsRUFBQ0MsQ0FBQyxFQUFFTCxRQUFRLENBQUNLLENBQUMsRUFBRUMsQ0FBQyxFQUFFTixRQUFRLENBQUNNLENBQUMsRUFBQztFQUNqRCxJQUFJLENBQUNDLE9BQU8sR0FBRyxFQUFDRixDQUFDLEVBQUVKLElBQUksQ0FBQ0ksQ0FBQyxFQUFFQyxDQUFDLEVBQUVMLElBQUksQ0FBQ0ssQ0FBQyxFQUFDO0VBQ3JDLElBQUksQ0FBQ0UsV0FBVyxHQUFHLEVBQUNILENBQUMsRUFBRU4sTUFBTSxDQUFDQyxRQUFRLENBQUNLLENBQUMsRUFBRUMsQ0FBQyxFQUFFUCxNQUFNLENBQUNDLFFBQVEsQ0FBQ00sQ0FBQyxFQUFDO0VBQy9ELElBQUksQ0FBQ0csT0FBTyxHQUFHLEVBQUNKLENBQUMsRUFBRU4sTUFBTSxDQUFDRSxJQUFJLENBQUNJLENBQUMsRUFBRUMsQ0FBQyxFQUFFUCxNQUFNLENBQUNFLElBQUksQ0FBQ0ssQ0FBQyxFQUFDO0FBQ3ZEOztBQUVBVCxTQUFTLENBQUNhLFNBQVMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUNoQixtREFBVSxDQUFDYyxTQUFTLENBQUM7QUFDekRiLFNBQVMsQ0FBQ2EsU0FBUyxDQUFDRyxXQUFXLEdBQUdoQixTQUFTOztBQUUzQyxJQUFJaUIsS0FBSyxHQUFHakIsU0FBUyxDQUFDYSxTQUFTOztBQUUvQkksS0FBSyxDQUFDQyxJQUFJLEdBQUcsWUFBVzs7RUFFcEIsSUFBSSxDQUFDQyxVQUFVLENBQUMsSUFBSSxDQUFDQyxRQUFRLEVBQUUsSUFBSSxDQUFDYixXQUFXLEVBQUUsSUFBSSxDQUFDRyxPQUFPLENBQUM7QUFDbEUsQ0FBQzs7QUFFRE8sS0FBSyxDQUFDSSxJQUFJLEdBQUcsWUFBVzs7RUFFcEIsSUFBSSxDQUFDRixVQUFVLENBQUMsSUFBSSxDQUFDQyxRQUFRLEVBQUUsSUFBSSxDQUFDVCxXQUFXLEVBQUUsSUFBSSxDQUFDQyxPQUFPLENBQUM7QUFDbEUsQ0FBQzs7QUFFREssS0FBSyxDQUFDSyxLQUFLLEdBQUcsVUFBU0MsTUFBTSxFQUFFOztFQUUzQixJQUFJLElBQUksQ0FBQ0gsUUFBUSxLQUFLRyxNQUFNLENBQUNILFFBQVE7RUFDakMsSUFBSSxDQUFDSSxJQUFJLEtBQUtELE1BQU0sQ0FBQ0MsSUFBSSxFQUFFOztJQUUzQixJQUFJLENBQUNqQixXQUFXLEdBQUdnQixNQUFNLENBQUNoQixXQUFXO0lBQ3JDLElBQUksQ0FBQ0csT0FBTyxHQUFHYSxNQUFNLENBQUNiLE9BQU87SUFDN0IsT0FBTyxJQUFJO0VBQ2Y7RUFDQSxPQUFPLEtBQUs7QUFDaEIsQ0FBQzs7QUFFRDtBQUNKO0FBQ0E7QUFDQTtBQUNJTyxLQUFLLENBQUNFLFVBQVUsR0FBRyxVQUFTQyxRQUFRLEVBQUVqQixRQUFRLEVBQUVDLElBQUksRUFBRTs7RUFFbEQsSUFBSUYsTUFBTSxHQUFHLElBQUksQ0FBQ0QsTUFBTSxDQUFDd0IsU0FBUyxDQUFDTCxRQUFRLENBQUM7RUFDNUMsSUFBRyxDQUFDbEIsTUFBTSxFQUFFO0lBQ1I7RUFDSjs7RUFFQTtFQUNBLElBQUl3QixPQUFPLEdBQUcsTUFBTTs7RUFFcEIsSUFBSUMsSUFBSSxDQUFDQyxHQUFHLENBQUMxQixNQUFNLENBQUNDLFFBQVEsQ0FBQ0ssQ0FBQyxHQUFHTCxRQUFRLENBQUNLLENBQUMsQ0FBQyxHQUFHa0IsT0FBTyxJQUFJQyxJQUFJLENBQUNDLEdBQUcsQ0FBQzFCLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDSyxDQUFDLEdBQUdMLElBQUksQ0FBQ0ssQ0FBQyxDQUFDLEdBQUdpQixPQUFPO0VBQ2hHQyxJQUFJLENBQUNDLEdBQUcsQ0FBQzFCLE1BQU0sQ0FBQ0MsUUFBUSxDQUFDTSxDQUFDLEdBQUdOLFFBQVEsQ0FBQ00sQ0FBQyxDQUFDLEdBQUdpQixPQUFPLElBQUlDLElBQUksQ0FBQ0MsR0FBRyxDQUFDMUIsTUFBTSxDQUFDRSxJQUFJLENBQUNLLENBQUMsR0FBR0wsSUFBSSxDQUFDSyxDQUFDLENBQUMsR0FBR2lCLE9BQU8sRUFBRTs7SUFFbEd4QixNQUFNLENBQUMyQixHQUFHLENBQUMxQixRQUFRLEVBQUVDLElBQUksQ0FBQztFQUM5QjtBQUNKLENBQUM7O0FBRUQ7QUFDSjtBQUNBO0FBQ0lhLEtBQUssQ0FBQ2EsVUFBVSxHQUFHLFlBQVc7O0VBRTFCO0lBQ0ksSUFBSSxDQUFDdkIsV0FBVyxDQUFDQyxDQUFDLEtBQUssSUFBSSxDQUFDRyxXQUFXLENBQUNILENBQUM7SUFDekMsSUFBSSxDQUFDRCxXQUFXLENBQUNFLENBQUMsS0FBSyxJQUFJLENBQUNFLFdBQVcsQ0FBQ0YsQ0FBQztJQUN6QyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0YsQ0FBQyxLQUFLLElBQUksQ0FBQ0ksT0FBTyxDQUFDSixDQUFDO0lBQ2pDLElBQUksQ0FBQ0UsT0FBTyxDQUFDRCxDQUFDLEtBQUssSUFBSSxDQUFDRyxPQUFPLENBQUNILENBQUM7QUFDekMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9TZXRDaXJjbGUuanM/ZjMyZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IEVkaXRBY3Rpb24gfSBmcm9tICcuL0VkaXRBY3Rpb24nO1xuXG4gICAgLyoqXG4gICAgICogTWFya3VwIHNldCBjaXJjbGUgYWN0aW9uLlxuICAgICAqXG4gICAgICogSW1wbGVtZW50cyBhbiB7QGxpbmsgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZS5FZGl0QWN0aW9ufEVkaXRBY3Rpb259XG4gICAgICogZm9yIGVkaXRpbmcgcHJvcGVydGllcyBvZiBhIENpcmNsZSB7QGxpbmsgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZS5NYXJrdXB8TWFya3VwfS5cbiAgICAgKiBJbmNsdWRlZCBpbiBkb2N1bWVudGF0aW9uIGFzIGFuIGV4YW1wbGUgb2YgaG93IHRvIGNyZWF0ZVxuICAgICAqIGEgc3BlY2lmaWMgRWRpdEFjdGlvbiB0aGF0IGRlYWxzIHdpdGggTWFya3VwIGVkaXRpb24uXG4gICAgICogRGV2ZWxvcGVycyBhcmUgZW5jb3VyYWdlIHRvIGxvb2sgaW50byB0aGlzIGNsYXNzJ3Mgc291cmNlIGNvZGUgYW5kIGNvcHlcbiAgICAgKiBhcyBtdWNoIGNvZGUgYXMgdGhleSBuZWVkLiBGaW5kIGxpbmsgdG8gc291cmNlIGNvZGUgYmVsb3cuXG4gICAgICpcbiAgICAgKiBAdHV0b3JpYWwgZmVhdHVyZV9tYXJrdXBcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyb2YgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZVxuICAgICAqIEBleHRlbmRzIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9ucy5NYXJrdXBzLkNvcmUuRWRpdEFjdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIGVkaXRvclxuICAgICAqIEBwYXJhbSBjaXJjbGVcbiAgICAgKiBAcGFyYW0gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0gc2l6ZVxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBTZXRDaXJjbGUoZWRpdG9yLCBjaXJjbGUsIHBvc2l0aW9uLCBzaXplKSB7XG5cbiAgICAgICAgRWRpdEFjdGlvbi5jYWxsKHRoaXMsIGVkaXRvciwgJ1NFVC1DSVJDTEUnLCBjaXJjbGUuaWQpO1xuXG4gICAgICAgIHRoaXMubmV3UG9zaXRpb24gPSB7eDogcG9zaXRpb24ueCwgeTogcG9zaXRpb24ueX07XG4gICAgICAgIHRoaXMubmV3U2l6ZSA9IHt4OiBzaXplLngsIHk6IHNpemUueX07XG4gICAgICAgIHRoaXMub2xkUG9zaXRpb24gPSB7eDogY2lyY2xlLnBvc2l0aW9uLngsIHk6IGNpcmNsZS5wb3NpdGlvbi55fTtcbiAgICAgICAgdGhpcy5vbGRTaXplID0ge3g6IGNpcmNsZS5zaXplLngsIHk6IGNpcmNsZS5zaXplLnl9O1xuICAgIH1cblxuICAgIFNldENpcmNsZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVkaXRBY3Rpb24ucHJvdG90eXBlKTtcbiAgICBTZXRDaXJjbGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2V0Q2lyY2xlO1xuXG4gICAgdmFyIHByb3RvID0gU2V0Q2lyY2xlLnByb3RvdHlwZTtcblxuICAgIHByb3RvLnJlZG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB0aGlzLmFwcGx5U3RhdGUodGhpcy50YXJnZXRJZCwgdGhpcy5uZXdQb3NpdGlvbiwgdGhpcy5uZXdTaXplKTtcbiAgICB9O1xuXG4gICAgcHJvdG8udW5kbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHRoaXMuYXBwbHlTdGF0ZSh0aGlzLnRhcmdldElkLCB0aGlzLm9sZFBvc2l0aW9uLCB0aGlzLm9sZFNpemUpO1xuICAgIH07XG5cbiAgICBwcm90by5tZXJnZSA9IGZ1bmN0aW9uKGFjdGlvbikge1xuXG4gICAgICAgIGlmICh0aGlzLnRhcmdldElkID09PSBhY3Rpb24udGFyZ2V0SWQgJiZcbiAgICAgICAgICAgIHRoaXMudHlwZSA9PT0gYWN0aW9uLnR5cGUpIHtcblxuICAgICAgICAgICAgdGhpcy5uZXdQb3NpdGlvbiA9IGFjdGlvbi5uZXdQb3NpdGlvbjtcbiAgICAgICAgICAgIHRoaXMubmV3U2l6ZSA9IGFjdGlvbi5uZXdTaXplO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJvdG8uYXBwbHlTdGF0ZSA9IGZ1bmN0aW9uKHRhcmdldElkLCBwb3NpdGlvbiwgc2l6ZSkge1xuXG4gICAgICAgIHZhciBjaXJjbGUgPSB0aGlzLmVkaXRvci5nZXRNYXJrdXAodGFyZ2V0SWQpO1xuICAgICAgICBpZighY2lyY2xlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEaWZmZXJlbnQgc3Ryb2tlIHdpZHRocyBtYWtlIHBvc2l0aW9ucyBkaWZmZXIgYXQgc3ViLXBpeGVsIGxldmVsLlxuICAgICAgICB2YXIgZXBzaWxvbiA9IDAuMDAwMTtcblxuICAgICAgICBpZiAoTWF0aC5hYnMoY2lyY2xlLnBvc2l0aW9uLnggLSBwb3NpdGlvbi54KSA+IGVwc2lsb24gfHwgTWF0aC5hYnMoY2lyY2xlLnNpemUueSAtIHNpemUueSkgPiBlcHNpbG9uIHx8XG4gICAgICAgICAgICBNYXRoLmFicyhjaXJjbGUucG9zaXRpb24ueSAtIHBvc2l0aW9uLnkpID4gZXBzaWxvbiB8fCBNYXRoLmFicyhjaXJjbGUuc2l6ZS55IC0gc2l6ZS55KSA+IGVwc2lsb24pIHtcblxuICAgICAgICAgICAgY2lyY2xlLnNldChwb3NpdGlvbiwgc2l6ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgcHJvdG8uaXNJZGVudGl0eSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLm5ld1Bvc2l0aW9uLnggPT09IHRoaXMub2xkUG9zaXRpb24ueCAmJlxuICAgICAgICAgICAgdGhpcy5uZXdQb3NpdGlvbi55ID09PSB0aGlzLm9sZFBvc2l0aW9uLnkgJiZcbiAgICAgICAgICAgIHRoaXMubmV3U2l6ZS54ID09PSB0aGlzLm9sZFNpemUueCAmJlxuICAgICAgICAgICAgdGhpcy5uZXdTaXplLnkgPT09IHRoaXMub2xkU2l6ZS55KTtcbiAgICB9O1xuXG4iXSwibmFtZXMiOlsiRWRpdEFjdGlvbiIsIlNldENpcmNsZSIsImVkaXRvciIsImNpcmNsZSIsInBvc2l0aW9uIiwic2l6ZSIsImNhbGwiLCJpZCIsIm5ld1Bvc2l0aW9uIiwieCIsInkiLCJuZXdTaXplIiwib2xkUG9zaXRpb24iLCJvbGRTaXplIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJwcm90byIsInJlZG8iLCJhcHBseVN0YXRlIiwidGFyZ2V0SWQiLCJ1bmRvIiwibWVyZ2UiLCJhY3Rpb24iLCJ0eXBlIiwiZ2V0TWFya3VwIiwiZXBzaWxvbiIsIk1hdGgiLCJhYnMiLCJzZXQiLCJpc0lkZW50aXR5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/SetCircle.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/SetCloud.js":
/*!*********************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/SetCloud.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SetCloud: () => (/* binding */ SetCloud)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n\n\n\n\n/**\n *\n * @param editor\n * @param cloud\n * @param position\n * @param size\n * @constructor\n */\nfunction SetCloud(editor, cloud, position, size) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'SET-CLOUD', cloud.id);\n\n  this.newPosition = { x: position.x, y: position.y };\n  this.newSize = { x: size.x, y: size.y };\n  this.oldPosition = { x: cloud.position.x, y: cloud.position.y };\n  this.oldSize = { x: cloud.size.x, y: cloud.size.y };\n}\n\nSetCloud.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nSetCloud.prototype.constructor = SetCloud;\n\nvar proto = SetCloud.prototype;\n\nproto.redo = function () {\n\n  this.applyState(this.targetId, this.newPosition, this.newSize, this.newStrokeWidth, this.newColor);\n};\n\nproto.undo = function () {\n\n  this.applyState(this.targetId, this.oldPosition, this.oldSize, this.oldStrokeWidth, this.oldColor);\n};\n\nproto.merge = function (action) {\n\n  if (this.targetId === action.targetId &&\n  this.type === action.type) {\n\n    this.newPosition = action.newPosition;\n    this.newSize = action.newSize;\n    return true;\n  }\n  return false;\n};\n\n/**\n *\n * @private\n */\nproto.applyState = function (targetId, position, size) {\n\n  var cloud = this.editor.getMarkup(targetId);\n  if (!cloud) {\n    return;\n  }\n\n  // Different stroke widths make positions differ at sub-pixel level.\n  var epsilon = 0.0001;\n\n  if (Math.abs(cloud.position.x - position.x) > epsilon || Math.abs(cloud.size.y - size.y) > epsilon ||\n  Math.abs(cloud.position.y - position.y) > epsilon || Math.abs(cloud.size.y - size.y) > epsilon) {\n\n    cloud.set(position, size);\n  }\n};\n\n/**\n * @returns {boolean}\n */\nproto.isIdentity = function () {\n\n  return (\n    this.newPosition.x === this.oldPosition.x &&\n    this.newPosition.y === this.oldPosition.y &&\n    this.newSize.x === this.oldSize.x &&\n    this.newSize.y === this.oldSize.y);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9TZXRDbG91ZC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFhOztBQUU2Qjs7QUFFdEM7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNXLFNBQVNDLFFBQVFBLENBQUNDLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxRQUFRLEVBQUVDLElBQUksRUFBRTs7RUFFcERMLG1EQUFVLENBQUNNLElBQUksQ0FBQyxJQUFJLEVBQUVKLE1BQU0sRUFBRSxXQUFXLEVBQUVDLEtBQUssQ0FBQ0ksRUFBRSxDQUFDOztFQUVwRCxJQUFJLENBQUNDLFdBQVcsR0FBRyxFQUFDQyxDQUFDLEVBQUVMLFFBQVEsQ0FBQ0ssQ0FBQyxFQUFFQyxDQUFDLEVBQUVOLFFBQVEsQ0FBQ00sQ0FBQyxFQUFDO0VBQ2pELElBQUksQ0FBQ0MsT0FBTyxHQUFHLEVBQUNGLENBQUMsRUFBRUosSUFBSSxDQUFDSSxDQUFDLEVBQUVDLENBQUMsRUFBRUwsSUFBSSxDQUFDSyxDQUFDLEVBQUM7RUFDckMsSUFBSSxDQUFDRSxXQUFXLEdBQUcsRUFBQ0gsQ0FBQyxFQUFFTixLQUFLLENBQUNDLFFBQVEsQ0FBQ0ssQ0FBQyxFQUFFQyxDQUFDLEVBQUVQLEtBQUssQ0FBQ0MsUUFBUSxDQUFDTSxDQUFDLEVBQUM7RUFDN0QsSUFBSSxDQUFDRyxPQUFPLEdBQUcsRUFBQ0osQ0FBQyxFQUFFTixLQUFLLENBQUNFLElBQUksQ0FBQ0ksQ0FBQyxFQUFFQyxDQUFDLEVBQUVQLEtBQUssQ0FBQ0UsSUFBSSxDQUFDSyxDQUFDLEVBQUM7QUFDckQ7O0FBRUFULFFBQVEsQ0FBQ2EsU0FBUyxHQUFHQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ2hCLG1EQUFVLENBQUNjLFNBQVMsQ0FBQztBQUN4RGIsUUFBUSxDQUFDYSxTQUFTLENBQUNHLFdBQVcsR0FBR2hCLFFBQVE7O0FBRXpDLElBQUlpQixLQUFLLEdBQUdqQixRQUFRLENBQUNhLFNBQVM7O0FBRTlCSSxLQUFLLENBQUNDLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFJLENBQUNDLFVBQVUsQ0FBQyxJQUFJLENBQUNDLFFBQVEsRUFBRSxJQUFJLENBQUNiLFdBQVcsRUFBRSxJQUFJLENBQUNHLE9BQU8sRUFBRSxJQUFJLENBQUNXLGNBQWMsRUFBRSxJQUFJLENBQUNDLFFBQVEsQ0FBQztBQUN0RyxDQUFDOztBQUVETCxLQUFLLENBQUNNLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFJLENBQUNKLFVBQVUsQ0FBQyxJQUFJLENBQUNDLFFBQVEsRUFBRSxJQUFJLENBQUNULFdBQVcsRUFBRSxJQUFJLENBQUNDLE9BQU8sRUFBRSxJQUFJLENBQUNZLGNBQWMsRUFBRSxJQUFJLENBQUNDLFFBQVEsQ0FBQztBQUN0RyxDQUFDOztBQUVEUixLQUFLLENBQUNTLEtBQUssR0FBRyxVQUFTQyxNQUFNLEVBQUU7O0VBRTNCLElBQUksSUFBSSxDQUFDUCxRQUFRLEtBQUtPLE1BQU0sQ0FBQ1AsUUFBUTtFQUNqQyxJQUFJLENBQUNRLElBQUksS0FBS0QsTUFBTSxDQUFDQyxJQUFJLEVBQUU7O0lBRTNCLElBQUksQ0FBQ3JCLFdBQVcsR0FBR29CLE1BQU0sQ0FBQ3BCLFdBQVc7SUFDckMsSUFBSSxDQUFDRyxPQUFPLEdBQUdpQixNQUFNLENBQUNqQixPQUFPO0lBQzdCLE9BQU8sSUFBSTtFQUNmO0VBQ0EsT0FBTyxLQUFLO0FBQ2hCLENBQUM7O0FBRUQ7QUFDSjtBQUNBO0FBQ0E7QUFDSU8sS0FBSyxDQUFDRSxVQUFVLEdBQUcsVUFBU0MsUUFBUSxFQUFFakIsUUFBUSxFQUFFQyxJQUFJLEVBQUU7O0VBRWxELElBQUlGLEtBQUssR0FBRyxJQUFJLENBQUNELE1BQU0sQ0FBQzRCLFNBQVMsQ0FBQ1QsUUFBUSxDQUFDO0VBQzNDLElBQUcsQ0FBQ2xCLEtBQUssRUFBRTtJQUNQO0VBQ0o7O0VBRUE7RUFDQSxJQUFJNEIsT0FBTyxHQUFHLE1BQU07O0VBRXBCLElBQUlDLElBQUksQ0FBQ0MsR0FBRyxDQUFDOUIsS0FBSyxDQUFDQyxRQUFRLENBQUNLLENBQUMsR0FBR0wsUUFBUSxDQUFDSyxDQUFDLENBQUMsR0FBR3NCLE9BQU8sSUFBSUMsSUFBSSxDQUFDQyxHQUFHLENBQUM5QixLQUFLLENBQUNFLElBQUksQ0FBQ0ssQ0FBQyxHQUFHTCxJQUFJLENBQUNLLENBQUMsQ0FBQyxHQUFHcUIsT0FBTztFQUM5RkMsSUFBSSxDQUFDQyxHQUFHLENBQUM5QixLQUFLLENBQUNDLFFBQVEsQ0FBQ00sQ0FBQyxHQUFHTixRQUFRLENBQUNNLENBQUMsQ0FBQyxHQUFHcUIsT0FBTyxJQUFJQyxJQUFJLENBQUNDLEdBQUcsQ0FBQzlCLEtBQUssQ0FBQ0UsSUFBSSxDQUFDSyxDQUFDLEdBQUdMLElBQUksQ0FBQ0ssQ0FBQyxDQUFDLEdBQUdxQixPQUFPLEVBQUU7O0lBRWhHNUIsS0FBSyxDQUFDK0IsR0FBRyxDQUFDOUIsUUFBUSxFQUFFQyxJQUFJLENBQUM7RUFDN0I7QUFDSixDQUFDOztBQUVEO0FBQ0o7QUFDQTtBQUNJYSxLQUFLLENBQUNpQixVQUFVLEdBQUcsWUFBVzs7RUFFMUI7SUFDSSxJQUFJLENBQUMzQixXQUFXLENBQUNDLENBQUMsS0FBSyxJQUFJLENBQUNHLFdBQVcsQ0FBQ0gsQ0FBQztJQUN6QyxJQUFJLENBQUNELFdBQVcsQ0FBQ0UsQ0FBQyxLQUFLLElBQUksQ0FBQ0UsV0FBVyxDQUFDRixDQUFDO0lBQ3pDLElBQUksQ0FBQ0MsT0FBTyxDQUFDRixDQUFDLEtBQUssSUFBSSxDQUFDSSxPQUFPLENBQUNKLENBQUM7SUFDakMsSUFBSSxDQUFDRSxPQUFPLENBQUNELENBQUMsS0FBSyxJQUFJLENBQUNHLE9BQU8sQ0FBQ0gsQ0FBQztBQUN6QyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvZWRpdC1hY3Rpb25zL1NldENsb3VkLmpzPzY4OWYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBFZGl0QWN0aW9uIH0gZnJvbSAnLi9FZGl0QWN0aW9uJztcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGVkaXRvclxuICAgICAqIEBwYXJhbSBjbG91ZFxuICAgICAqIEBwYXJhbSBwb3NpdGlvblxuICAgICAqIEBwYXJhbSBzaXplXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIFNldENsb3VkKGVkaXRvciwgY2xvdWQsIHBvc2l0aW9uLCBzaXplKSB7XG5cbiAgICAgICAgRWRpdEFjdGlvbi5jYWxsKHRoaXMsIGVkaXRvciwgJ1NFVC1DTE9VRCcsIGNsb3VkLmlkKTtcblxuICAgICAgICB0aGlzLm5ld1Bvc2l0aW9uID0ge3g6IHBvc2l0aW9uLngsIHk6IHBvc2l0aW9uLnl9O1xuICAgICAgICB0aGlzLm5ld1NpemUgPSB7eDogc2l6ZS54LCB5OiBzaXplLnl9O1xuICAgICAgICB0aGlzLm9sZFBvc2l0aW9uID0ge3g6IGNsb3VkLnBvc2l0aW9uLngsIHk6IGNsb3VkLnBvc2l0aW9uLnl9O1xuICAgICAgICB0aGlzLm9sZFNpemUgPSB7eDogY2xvdWQuc2l6ZS54LCB5OiBjbG91ZC5zaXplLnl9O1xuICAgIH1cblxuICAgIFNldENsb3VkLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRWRpdEFjdGlvbi5wcm90b3R5cGUpO1xuICAgIFNldENsb3VkLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNldENsb3VkO1xuXG4gICAgdmFyIHByb3RvID0gU2V0Q2xvdWQucHJvdG90eXBlO1xuXG4gICAgcHJvdG8ucmVkbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHRoaXMuYXBwbHlTdGF0ZSh0aGlzLnRhcmdldElkLCB0aGlzLm5ld1Bvc2l0aW9uLCB0aGlzLm5ld1NpemUsIHRoaXMubmV3U3Ryb2tlV2lkdGgsIHRoaXMubmV3Q29sb3IpO1xuICAgIH07XG5cbiAgICBwcm90by51bmRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdGhpcy5hcHBseVN0YXRlKHRoaXMudGFyZ2V0SWQsIHRoaXMub2xkUG9zaXRpb24sIHRoaXMub2xkU2l6ZSwgdGhpcy5vbGRTdHJva2VXaWR0aCwgdGhpcy5vbGRDb2xvcik7XG4gICAgfTtcblxuICAgIHByb3RvLm1lcmdlID0gZnVuY3Rpb24oYWN0aW9uKSB7XG5cbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0SWQgPT09IGFjdGlvbi50YXJnZXRJZCAmJlxuICAgICAgICAgICAgdGhpcy50eXBlID09PSBhY3Rpb24udHlwZSkge1xuXG4gICAgICAgICAgICB0aGlzLm5ld1Bvc2l0aW9uID0gYWN0aW9uLm5ld1Bvc2l0aW9uO1xuICAgICAgICAgICAgdGhpcy5uZXdTaXplID0gYWN0aW9uLm5ld1NpemU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcm90by5hcHBseVN0YXRlID0gZnVuY3Rpb24odGFyZ2V0SWQsIHBvc2l0aW9uLCBzaXplKSB7XG5cbiAgICAgICAgdmFyIGNsb3VkID0gdGhpcy5lZGl0b3IuZ2V0TWFya3VwKHRhcmdldElkKTtcbiAgICAgICAgaWYoIWNsb3VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEaWZmZXJlbnQgc3Ryb2tlIHdpZHRocyBtYWtlIHBvc2l0aW9ucyBkaWZmZXIgYXQgc3ViLXBpeGVsIGxldmVsLlxuICAgICAgICB2YXIgZXBzaWxvbiA9IDAuMDAwMTtcblxuICAgICAgICBpZiAoTWF0aC5hYnMoY2xvdWQucG9zaXRpb24ueCAtIHBvc2l0aW9uLngpID4gZXBzaWxvbiB8fCBNYXRoLmFicyhjbG91ZC5zaXplLnkgLSBzaXplLnkpID4gZXBzaWxvbiB8fFxuICAgICAgICAgICAgTWF0aC5hYnMoY2xvdWQucG9zaXRpb24ueSAtIHBvc2l0aW9uLnkpID4gZXBzaWxvbiB8fCBNYXRoLmFicyhjbG91ZC5zaXplLnkgLSBzaXplLnkpID4gZXBzaWxvbikge1xuXG4gICAgICAgICAgICBjbG91ZC5zZXQocG9zaXRpb24sIHNpemUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHByb3RvLmlzSWRlbnRpdHkgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgdGhpcy5uZXdQb3NpdGlvbi54ID09PSB0aGlzLm9sZFBvc2l0aW9uLnggJiZcbiAgICAgICAgICAgIHRoaXMubmV3UG9zaXRpb24ueSA9PT0gdGhpcy5vbGRQb3NpdGlvbi55ICYmXG4gICAgICAgICAgICB0aGlzLm5ld1NpemUueCA9PT0gdGhpcy5vbGRTaXplLnggJiZcbiAgICAgICAgICAgIHRoaXMubmV3U2l6ZS55ID09PSB0aGlzLm9sZFNpemUueSk7XG4gICAgfTtcblxuIl0sIm5hbWVzIjpbIkVkaXRBY3Rpb24iLCJTZXRDbG91ZCIsImVkaXRvciIsImNsb3VkIiwicG9zaXRpb24iLCJzaXplIiwiY2FsbCIsImlkIiwibmV3UG9zaXRpb24iLCJ4IiwieSIsIm5ld1NpemUiLCJvbGRQb3NpdGlvbiIsIm9sZFNpemUiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwicmVkbyIsImFwcGx5U3RhdGUiLCJ0YXJnZXRJZCIsIm5ld1N0cm9rZVdpZHRoIiwibmV3Q29sb3IiLCJ1bmRvIiwib2xkU3Ryb2tlV2lkdGgiLCJvbGRDb2xvciIsIm1lcmdlIiwiYWN0aW9uIiwidHlwZSIsImdldE1hcmt1cCIsImVwc2lsb24iLCJNYXRoIiwiYWJzIiwic2V0IiwiaXNJZGVudGl0eSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/SetCloud.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/SetDimension.js":
/*!*************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/SetDimension.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SetDimension: () => (/* binding */ SetDimension)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n\n\n\n\n/**\n *\n * @param editor\n * @param dimension\n * @param firstAnchor\n * @param secondAnchor\n * @constructor\n */\nfunction SetDimension(editor, dimension, firstAnchor, secondAnchor, text) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'SET-DIMENSION', dimension.id);\n\n  this.newFirstAnchor = { x: firstAnchor.x, y: firstAnchor.y };\n  this.newSecondAnchor = { x: secondAnchor.x, y: secondAnchor.y };\n  this.oldFirstAnchor = { x: dimension.firstAnchor.x, y: dimension.firstAnchor.y };\n  this.oldSecondAnchor = { x: dimension.secondAnchor.x, y: dimension.secondAnchor.y };\n  this.newText = text;\n  this.oldText = dimension.currentText;\n}\n\nSetDimension.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nSetDimension.prototype.constructor = SetDimension;\n\nvar proto = SetDimension.prototype;\n\nproto.redo = function () {\n\n  this.applyState(this.newFirstAnchor, this.newSecondAnchor, this.newText);\n\n};\n\nproto.undo = function () {\n\n  this.applyState(this.oldFirstAnchor, this.oldSecondAnchor, this.oldText);\n\n};\n\nproto.merge = function (action) {\n\n  if (this.targetId === action.targetId &&\n  this.type === action.type) {\n\n    this.newFirstAnchor = action.newFirstAnchor;\n    this.newSecondAnchor = action.newSecondAnchor;\n    this.newText = action.newText;\n    return true;\n  }\n  return false;\n};\n\n/**\n *\n * @private\n */\nproto.applyState = function (firstAnchor, secondAnchor, text) {\n\n  var dimension = this.editor.getMarkup(this.targetId);\n\n  if (!dimension) {\n    return;\n  }\n\n  dimension.set(firstAnchor.x, firstAnchor.y, secondAnchor.x, secondAnchor.y, text);\n\n};\n\n/**\n * @returns {boolean}\n */\nproto.isIdentity = function () {\n\n  return this.newText === this.oldText && (\n  !this.newFirstAnchor || !this.newSecondAnchor ||\n  this.newFirstAnchor.x === this.oldFirstAnchor.x &&\n  this.newFirstAnchor.y === this.oldFirstAnchor.y &&\n  this.newSecondAnchor.x === this.oldSecondAnchor.x &&\n  this.newSecondAnchor.y === this.oldSecondAnchor.y);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9TZXREaW1lbnNpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBYTs7QUFFNkI7O0FBRXRDO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTQyxZQUFZQSxDQUFDQyxNQUFNLEVBQUVDLFNBQVMsRUFBRUMsV0FBVyxFQUFFQyxZQUFZLEVBQUVDLElBQUksRUFBRTs7RUFFN0VOLG1EQUFVLENBQUNPLElBQUksQ0FBQyxJQUFJLEVBQUVMLE1BQU0sRUFBRSxlQUFlLEVBQUVDLFNBQVMsQ0FBQ0ssRUFBRSxDQUFDOztFQUU1RCxJQUFJLENBQUNDLGNBQWMsR0FBRyxFQUFDQyxDQUFDLEVBQUVOLFdBQVcsQ0FBQ00sQ0FBQyxFQUFFQyxDQUFDLEVBQUVQLFdBQVcsQ0FBQ08sQ0FBQyxFQUFDO0VBQzFELElBQUksQ0FBQ0MsZUFBZSxHQUFHLEVBQUNGLENBQUMsRUFBRUwsWUFBWSxDQUFDSyxDQUFDLEVBQUVDLENBQUMsRUFBRU4sWUFBWSxDQUFDTSxDQUFDLEVBQUM7RUFDN0QsSUFBSSxDQUFDRSxjQUFjLEdBQUcsRUFBQ0gsQ0FBQyxFQUFFUCxTQUFTLENBQUNDLFdBQVcsQ0FBQ00sQ0FBQyxFQUFFQyxDQUFDLEVBQUVSLFNBQVMsQ0FBQ0MsV0FBVyxDQUFDTyxDQUFDLEVBQUM7RUFDOUUsSUFBSSxDQUFDRyxlQUFlLEdBQUcsRUFBQ0osQ0FBQyxFQUFFUCxTQUFTLENBQUNFLFlBQVksQ0FBQ0ssQ0FBQyxFQUFFQyxDQUFDLEVBQUVSLFNBQVMsQ0FBQ0UsWUFBWSxDQUFDTSxDQUFDLEVBQUM7RUFDakYsSUFBSSxDQUFDSSxPQUFPLEdBQUdULElBQUk7RUFDbkIsSUFBSSxDQUFDVSxPQUFPLEdBQUdiLFNBQVMsQ0FBQ2MsV0FBVztBQUN4Qzs7QUFFQWhCLFlBQVksQ0FBQ2lCLFNBQVMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUNwQixtREFBVSxDQUFDa0IsU0FBUyxDQUFDO0FBQzVEakIsWUFBWSxDQUFDaUIsU0FBUyxDQUFDRyxXQUFXLEdBQUdwQixZQUFZOztBQUVqRCxJQUFJcUIsS0FBSyxHQUFHckIsWUFBWSxDQUFDaUIsU0FBUzs7QUFFbENJLEtBQUssQ0FBQ0MsSUFBSSxHQUFHLFlBQVc7O0VBRXBCLElBQUksQ0FBQ0MsVUFBVSxDQUFDLElBQUksQ0FBQ2YsY0FBYyxFQUFFLElBQUksQ0FBQ0csZUFBZSxFQUFFLElBQUksQ0FBQ0csT0FBTyxDQUFDOztBQUU1RSxDQUFDOztBQUVETyxLQUFLLENBQUNHLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFJLENBQUNELFVBQVUsQ0FBQyxJQUFJLENBQUNYLGNBQWMsRUFBRSxJQUFJLENBQUNDLGVBQWUsRUFBRSxJQUFJLENBQUNFLE9BQU8sQ0FBQzs7QUFFNUUsQ0FBQzs7QUFFRE0sS0FBSyxDQUFDSSxLQUFLLEdBQUcsVUFBU0MsTUFBTSxFQUFFOztFQUUzQixJQUFJLElBQUksQ0FBQ0MsUUFBUSxLQUFLRCxNQUFNLENBQUNDLFFBQVE7RUFDakMsSUFBSSxDQUFDQyxJQUFJLEtBQUtGLE1BQU0sQ0FBQ0UsSUFBSSxFQUFFOztJQUUzQixJQUFJLENBQUNwQixjQUFjLEdBQUdrQixNQUFNLENBQUNsQixjQUFjO0lBQzNDLElBQUksQ0FBQ0csZUFBZSxHQUFHZSxNQUFNLENBQUNmLGVBQWU7SUFDN0MsSUFBSSxDQUFDRyxPQUFPLEdBQUdZLE1BQU0sQ0FBQ1osT0FBTztJQUM3QixPQUFPLElBQUk7RUFDZjtFQUNBLE9BQU8sS0FBSztBQUNoQixDQUFDOztBQUVEO0FBQ0o7QUFDQTtBQUNBO0FBQ0lPLEtBQUssQ0FBQ0UsVUFBVSxHQUFHLFVBQVNwQixXQUFXLEVBQUVDLFlBQVksRUFBRUMsSUFBSSxFQUFFOztFQUV6RCxJQUFJSCxTQUFTLEdBQUcsSUFBSSxDQUFDRCxNQUFNLENBQUM0QixTQUFTLENBQUMsSUFBSSxDQUFDRixRQUFRLENBQUM7O0VBRXBELElBQUcsQ0FBQ3pCLFNBQVMsRUFBRTtJQUNYO0VBQ0o7O0VBRUFBLFNBQVMsQ0FBQzRCLEdBQUcsQ0FBQzNCLFdBQVcsQ0FBQ00sQ0FBQyxFQUFFTixXQUFXLENBQUNPLENBQUMsRUFBRU4sWUFBWSxDQUFDSyxDQUFDLEVBQUVMLFlBQVksQ0FBQ00sQ0FBQyxFQUFFTCxJQUFJLENBQUM7O0FBRXJGLENBQUM7O0FBRUQ7QUFDSjtBQUNBO0FBQ0lnQixLQUFLLENBQUNVLFVBQVUsR0FBRyxZQUFXOztFQUUxQixPQUFTLElBQUksQ0FBQ2pCLE9BQU8sS0FBSyxJQUFJLENBQUNDLE9BQU87RUFDbEMsQ0FBQyxJQUFJLENBQUNQLGNBQWMsSUFBSSxDQUFDLElBQUksQ0FBQ0csZUFBZTtFQUM3QyxJQUFJLENBQUNILGNBQWMsQ0FBQ0MsQ0FBQyxLQUFLLElBQUksQ0FBQ0csY0FBYyxDQUFDSCxDQUFDO0VBQy9DLElBQUksQ0FBQ0QsY0FBYyxDQUFDRSxDQUFDLEtBQUssSUFBSSxDQUFDRSxjQUFjLENBQUNGLENBQUM7RUFDL0MsSUFBSSxDQUFDQyxlQUFlLENBQUNGLENBQUMsS0FBSyxJQUFJLENBQUNJLGVBQWUsQ0FBQ0osQ0FBQztFQUNqRCxJQUFJLENBQUNFLGVBQWUsQ0FBQ0QsQ0FBQyxLQUFLLElBQUksQ0FBQ0csZUFBZSxDQUFDSCxDQUFDLENBQUM7QUFDMUQsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9TZXREaW1lbnNpb24uanM/ZWZlYSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IEVkaXRBY3Rpb24gfSBmcm9tICcuL0VkaXRBY3Rpb24nO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWRpdG9yXG4gICAgICogQHBhcmFtIGRpbWVuc2lvblxuICAgICAqIEBwYXJhbSBmaXJzdEFuY2hvclxuICAgICAqIEBwYXJhbSBzZWNvbmRBbmNob3JcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gU2V0RGltZW5zaW9uKGVkaXRvciwgZGltZW5zaW9uLCBmaXJzdEFuY2hvciwgc2Vjb25kQW5jaG9yLCB0ZXh0KSB7XG5cbiAgICAgICAgRWRpdEFjdGlvbi5jYWxsKHRoaXMsIGVkaXRvciwgJ1NFVC1ESU1FTlNJT04nLCBkaW1lbnNpb24uaWQpO1xuXG4gICAgICAgIHRoaXMubmV3Rmlyc3RBbmNob3IgPSB7eDogZmlyc3RBbmNob3IueCwgeTogZmlyc3RBbmNob3IueX07XG4gICAgICAgIHRoaXMubmV3U2Vjb25kQW5jaG9yID0ge3g6IHNlY29uZEFuY2hvci54LCB5OiBzZWNvbmRBbmNob3IueX07XG4gICAgICAgIHRoaXMub2xkRmlyc3RBbmNob3IgPSB7eDogZGltZW5zaW9uLmZpcnN0QW5jaG9yLngsIHk6IGRpbWVuc2lvbi5maXJzdEFuY2hvci55fTtcbiAgICAgICAgdGhpcy5vbGRTZWNvbmRBbmNob3IgPSB7eDogZGltZW5zaW9uLnNlY29uZEFuY2hvci54LCB5OiBkaW1lbnNpb24uc2Vjb25kQW5jaG9yLnl9O1xuICAgICAgICB0aGlzLm5ld1RleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLm9sZFRleHQgPSBkaW1lbnNpb24uY3VycmVudFRleHQ7XG4gICAgfVxuXG4gICAgU2V0RGltZW5zaW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRWRpdEFjdGlvbi5wcm90b3R5cGUpO1xuICAgIFNldERpbWVuc2lvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTZXREaW1lbnNpb247XG5cbiAgICB2YXIgcHJvdG8gPSBTZXREaW1lbnNpb24ucHJvdG90eXBlO1xuXG4gICAgcHJvdG8ucmVkbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHRoaXMuYXBwbHlTdGF0ZSh0aGlzLm5ld0ZpcnN0QW5jaG9yLCB0aGlzLm5ld1NlY29uZEFuY2hvciwgdGhpcy5uZXdUZXh0KTtcblxuICAgIH07XG5cbiAgICBwcm90by51bmRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdGhpcy5hcHBseVN0YXRlKHRoaXMub2xkRmlyc3RBbmNob3IsIHRoaXMub2xkU2Vjb25kQW5jaG9yLCB0aGlzLm9sZFRleHQpO1xuXG4gICAgfTtcblxuICAgIHByb3RvLm1lcmdlID0gZnVuY3Rpb24oYWN0aW9uKSB7XG5cbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0SWQgPT09IGFjdGlvbi50YXJnZXRJZCAmJlxuICAgICAgICAgICAgdGhpcy50eXBlID09PSBhY3Rpb24udHlwZSkge1xuXG4gICAgICAgICAgICB0aGlzLm5ld0ZpcnN0QW5jaG9yID0gYWN0aW9uLm5ld0ZpcnN0QW5jaG9yO1xuICAgICAgICAgICAgdGhpcy5uZXdTZWNvbmRBbmNob3IgPSBhY3Rpb24ubmV3U2Vjb25kQW5jaG9yO1xuICAgICAgICAgICAgdGhpcy5uZXdUZXh0ID0gYWN0aW9uLm5ld1RleHQ7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcm90by5hcHBseVN0YXRlID0gZnVuY3Rpb24oZmlyc3RBbmNob3IsIHNlY29uZEFuY2hvciwgdGV4dCkge1xuXG4gICAgICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmVkaXRvci5nZXRNYXJrdXAodGhpcy50YXJnZXRJZCk7XG5cbiAgICAgICAgaWYoIWRpbWVuc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGltZW5zaW9uLnNldChmaXJzdEFuY2hvci54LCBmaXJzdEFuY2hvci55LCBzZWNvbmRBbmNob3IueCwgc2Vjb25kQW5jaG9yLnksIHRleHQpO1xuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHByb3RvLmlzSWRlbnRpdHkgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICByZXR1cm4gKCh0aGlzLm5ld1RleHQgPT09IHRoaXMub2xkVGV4dCkgJiYgKFxuICAgICAgICAgICAgIXRoaXMubmV3Rmlyc3RBbmNob3IgfHwgIXRoaXMubmV3U2Vjb25kQW5jaG9yIHx8XG4gICAgICAgICAgICB0aGlzLm5ld0ZpcnN0QW5jaG9yLnggPT09IHRoaXMub2xkRmlyc3RBbmNob3IueCAmJlxuICAgICAgICAgICAgdGhpcy5uZXdGaXJzdEFuY2hvci55ID09PSB0aGlzLm9sZEZpcnN0QW5jaG9yLnkgJiZcbiAgICAgICAgICAgIHRoaXMubmV3U2Vjb25kQW5jaG9yLnggPT09IHRoaXMub2xkU2Vjb25kQW5jaG9yLnggJiZcbiAgICAgICAgICAgIHRoaXMubmV3U2Vjb25kQW5jaG9yLnkgPT09IHRoaXMub2xkU2Vjb25kQW5jaG9yLnkpKTtcbiAgICB9O1xuIl0sIm5hbWVzIjpbIkVkaXRBY3Rpb24iLCJTZXREaW1lbnNpb24iLCJlZGl0b3IiLCJkaW1lbnNpb24iLCJmaXJzdEFuY2hvciIsInNlY29uZEFuY2hvciIsInRleHQiLCJjYWxsIiwiaWQiLCJuZXdGaXJzdEFuY2hvciIsIngiLCJ5IiwibmV3U2Vjb25kQW5jaG9yIiwib2xkRmlyc3RBbmNob3IiLCJvbGRTZWNvbmRBbmNob3IiLCJuZXdUZXh0Iiwib2xkVGV4dCIsImN1cnJlbnRUZXh0IiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJwcm90byIsInJlZG8iLCJhcHBseVN0YXRlIiwidW5kbyIsIm1lcmdlIiwiYWN0aW9uIiwidGFyZ2V0SWQiLCJ0eXBlIiwiZ2V0TWFya3VwIiwic2V0IiwiaXNJZGVudGl0eSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/SetDimension.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/SetFreehand.js":
/*!************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/SetFreehand.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SetFreehand: () => (/* binding */ SetFreehand)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n\n\n\n\n/**\n *\n * @param editor\n * @param freehand\n * @param position\n * @param size\n * @param locations\n * @constructor\n */\nfunction SetFreehand(editor, freehand, position, size, locations, isAbsoluteCoords) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'SET-FREEHAND', freehand.id);\n\n  this.position = position;\n  this.size = size;\n  this.locations = isAbsoluteCoords ? locations : locations.slice(0);\n  this.isAbsoluteCoords = isAbsoluteCoords;\n\n  // No need to save old data\n}\n\nSetFreehand.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nSetFreehand.prototype.constructor = SetFreehand;\n\nvar proto = SetFreehand.prototype;\n\nproto.redo = function () {\n\n  var freehand = this.editor.getMarkup(this.targetId);\n  if (!freehand) {\n    return;\n  }\n\n  freehand.set(this.position, this.size, this.locations, this.isAbsoluteCoords);\n};\n\nproto.undo = function () {\n\n  // No need for undo.\n};\nproto.merge = function (action) {\n\n  if (this.targetId === action.targetId &&\n  this.type === action.type) {\n\n    this.locations = action.isAbsoluteCoords ? action.locations : action.locations.slice(0);\n    this.position = action.position;\n    this.size = action.size;\n    this.isAbsoluteCoords = action.isAbsoluteCoords;\n    return true;\n  }\n  return false;\n};\n\n/**\n * @returns {boolean}\n */\nproto.isIdentity = function () {\n\n  return false; // No need to optimize, always false.\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9TZXRGcmVlaGFuZC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFhOztBQUU2Qjs7QUFFdEM7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ1csU0FBU0MsV0FBV0EsQ0FBQ0MsTUFBTSxFQUFFQyxRQUFRLEVBQUVDLFFBQVEsRUFBRUMsSUFBSSxFQUFFQyxTQUFTLEVBQUVDLGdCQUFnQixFQUFFOztFQUV2RlAsbURBQVUsQ0FBQ1EsSUFBSSxDQUFDLElBQUksRUFBRU4sTUFBTSxFQUFFLGNBQWMsRUFBRUMsUUFBUSxDQUFDTSxFQUFFLENBQUM7O0VBRTFELElBQUksQ0FBQ0wsUUFBUSxHQUFHQSxRQUFRO0VBQ3hCLElBQUksQ0FBQ0MsSUFBSSxHQUFHQSxJQUFJO0VBQ2hCLElBQUksQ0FBQ0MsU0FBUyxHQUFHQyxnQkFBZ0IsR0FBR0QsU0FBUyxHQUFHQSxTQUFTLENBQUNJLEtBQUssQ0FBQyxDQUFDLENBQUM7RUFDbEUsSUFBSSxDQUFDSCxnQkFBZ0IsR0FBR0EsZ0JBQWdCOztFQUV4QztBQUNKOztBQUVBTixXQUFXLENBQUNVLFNBQVMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUNiLG1EQUFVLENBQUNXLFNBQVMsQ0FBQztBQUMzRFYsV0FBVyxDQUFDVSxTQUFTLENBQUNHLFdBQVcsR0FBR2IsV0FBVzs7QUFFL0MsSUFBSWMsS0FBSyxHQUFHZCxXQUFXLENBQUNVLFNBQVM7O0FBRWpDSSxLQUFLLENBQUNDLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFJYixRQUFRLEdBQUcsSUFBSSxDQUFDRCxNQUFNLENBQUNlLFNBQVMsQ0FBQyxJQUFJLENBQUNDLFFBQVEsQ0FBQztFQUNuRCxJQUFJLENBQUNmLFFBQVEsRUFBRTtJQUNYO0VBQ0o7O0VBRUFBLFFBQVEsQ0FBQ2dCLEdBQUcsQ0FBQyxJQUFJLENBQUNmLFFBQVEsRUFBRSxJQUFJLENBQUNDLElBQUksRUFBRSxJQUFJLENBQUNDLFNBQVMsRUFBRSxJQUFJLENBQUNDLGdCQUFnQixDQUFDO0FBQ2pGLENBQUM7O0FBRURRLEtBQUssQ0FBQ0ssSUFBSSxHQUFHLFlBQVc7O0VBQ3BCO0FBQUEsQ0FDSDtBQUVETCxLQUFLLENBQUNNLEtBQUssR0FBRyxVQUFTQyxNQUFNLEVBQUU7O0VBRTNCLElBQUksSUFBSSxDQUFDSixRQUFRLEtBQUtJLE1BQU0sQ0FBQ0osUUFBUTtFQUNqQyxJQUFJLENBQUNLLElBQUksS0FBS0QsTUFBTSxDQUFDQyxJQUFJLEVBQUU7O0lBRTNCLElBQUksQ0FBQ2pCLFNBQVMsR0FBR2dCLE1BQU0sQ0FBQ2YsZ0JBQWdCLEdBQUdlLE1BQU0sQ0FBQ2hCLFNBQVMsR0FBR2dCLE1BQU0sQ0FBQ2hCLFNBQVMsQ0FBQ0ksS0FBSyxDQUFDLENBQUMsQ0FBQztJQUN2RixJQUFJLENBQUNOLFFBQVEsR0FBR2tCLE1BQU0sQ0FBQ2xCLFFBQVE7SUFDL0IsSUFBSSxDQUFDQyxJQUFJLEdBQUdpQixNQUFNLENBQUNqQixJQUFJO0lBQ3ZCLElBQUksQ0FBQ0UsZ0JBQWdCLEdBQUdlLE1BQU0sQ0FBQ2YsZ0JBQWdCO0lBQy9DLE9BQU8sSUFBSTtFQUNmO0VBQ0EsT0FBTyxLQUFLO0FBQ2hCLENBQUM7O0FBRUQ7QUFDSjtBQUNBO0FBQ0lRLEtBQUssQ0FBQ1MsVUFBVSxHQUFHLFlBQVc7O0VBRTFCLE9BQU8sS0FBSyxDQUFDLENBQUM7QUFDbEIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9TZXRGcmVlaGFuZC5qcz82ZDhmIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRWRpdEFjdGlvbiB9IGZyb20gJy4vRWRpdEFjdGlvbic7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlZGl0b3JcbiAgICAgKiBAcGFyYW0gZnJlZWhhbmRcbiAgICAgKiBAcGFyYW0gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0gc2l6ZVxuICAgICAqIEBwYXJhbSBsb2NhdGlvbnNcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gU2V0RnJlZWhhbmQoZWRpdG9yLCBmcmVlaGFuZCwgcG9zaXRpb24sIHNpemUsIGxvY2F0aW9ucywgaXNBYnNvbHV0ZUNvb3Jkcykge1xuXG4gICAgICAgIEVkaXRBY3Rpb24uY2FsbCh0aGlzLCBlZGl0b3IsICdTRVQtRlJFRUhBTkQnLCBmcmVlaGFuZC5pZCk7XG5cbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgICAgICB0aGlzLmxvY2F0aW9ucyA9IGlzQWJzb2x1dGVDb29yZHMgPyBsb2NhdGlvbnMgOiBsb2NhdGlvbnMuc2xpY2UoMCk7XG4gICAgICAgIHRoaXMuaXNBYnNvbHV0ZUNvb3JkcyA9IGlzQWJzb2x1dGVDb29yZHM7XG5cbiAgICAgICAgLy8gTm8gbmVlZCB0byBzYXZlIG9sZCBkYXRhXG4gICAgfVxuXG4gICAgU2V0RnJlZWhhbmQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFZGl0QWN0aW9uLnByb3RvdHlwZSk7XG4gICAgU2V0RnJlZWhhbmQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2V0RnJlZWhhbmQ7XG5cbiAgICB2YXIgcHJvdG8gPSBTZXRGcmVlaGFuZC5wcm90b3R5cGU7XG5cbiAgICBwcm90by5yZWRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIGZyZWVoYW5kID0gdGhpcy5lZGl0b3IuZ2V0TWFya3VwKHRoaXMudGFyZ2V0SWQpO1xuICAgICAgICBpZiAoIWZyZWVoYW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmcmVlaGFuZC5zZXQodGhpcy5wb3NpdGlvbiwgdGhpcy5zaXplLCB0aGlzLmxvY2F0aW9ucywgdGhpcy5pc0Fic29sdXRlQ29vcmRzKTtcbiAgICB9O1xuXG4gICAgcHJvdG8udW5kbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBObyBuZWVkIGZvciB1bmRvLlxuICAgIH07XG5cbiAgICBwcm90by5tZXJnZSA9IGZ1bmN0aW9uKGFjdGlvbikge1xuXG4gICAgICAgIGlmICh0aGlzLnRhcmdldElkID09PSBhY3Rpb24udGFyZ2V0SWQgJiZcbiAgICAgICAgICAgIHRoaXMudHlwZSA9PT0gYWN0aW9uLnR5cGUpIHtcblxuICAgICAgICAgICAgdGhpcy5sb2NhdGlvbnMgPSBhY3Rpb24uaXNBYnNvbHV0ZUNvb3JkcyA/IGFjdGlvbi5sb2NhdGlvbnMgOiBhY3Rpb24ubG9jYXRpb25zLnNsaWNlKDApO1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IGFjdGlvbi5wb3NpdGlvbjtcbiAgICAgICAgICAgIHRoaXMuc2l6ZSA9IGFjdGlvbi5zaXplO1xuICAgICAgICAgICAgdGhpcy5pc0Fic29sdXRlQ29vcmRzID0gYWN0aW9uLmlzQWJzb2x1dGVDb29yZHM7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHByb3RvLmlzSWRlbnRpdHkgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIE5vIG5lZWQgdG8gb3B0aW1pemUsIGFsd2F5cyBmYWxzZS5cbiAgICB9O1xuIl0sIm5hbWVzIjpbIkVkaXRBY3Rpb24iLCJTZXRGcmVlaGFuZCIsImVkaXRvciIsImZyZWVoYW5kIiwicG9zaXRpb24iLCJzaXplIiwibG9jYXRpb25zIiwiaXNBYnNvbHV0ZUNvb3JkcyIsImNhbGwiLCJpZCIsInNsaWNlIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJwcm90byIsInJlZG8iLCJnZXRNYXJrdXAiLCJ0YXJnZXRJZCIsInNldCIsInVuZG8iLCJtZXJnZSIsImFjdGlvbiIsInR5cGUiLCJpc0lkZW50aXR5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/SetFreehand.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/SetHighlight.js":
/*!*************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/SetHighlight.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SetHighlight: () => (/* binding */ SetHighlight)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n\n\n\n\n/**\n *\n * @param editor\n * @param highlight\n * @param position\n * @param size\n * @param locations\n * @constructor\n */\nfunction SetHighlight(editor, highlight, position, size, locations, isAbsoluteCoords) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'SET-HIGHLIGHT', highlight.id);\n\n  this.position = position;\n  this.size = size;\n  this.locations = isAbsoluteCoords ? locations : locations.slice(0);\n  this.isAbsoluteCoords = isAbsoluteCoords;\n\n  // No need to save old data\n}\n\nSetHighlight.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nSetHighlight.prototype.constructor = SetHighlight;\n\nvar proto = SetHighlight.prototype;\n\nproto.redo = function () {\n\n  var highlight = this.editor.getMarkup(this.targetId);\n  if (!highlight) {\n    return;\n  }\n\n  highlight.set(this.position, this.size, this.locations, this.isAbsoluteCoords);\n};\n\nproto.undo = function () {\n\n  // No need for undo.\n};\nproto.merge = function (action) {\n\n  if (this.targetId === action.targetId &&\n  this.type === action.type) {\n\n    this.locations = action.isAbsoluteCoords ? action.locations : action.locations.slice(0);\n    this.position = action.position;\n    this.size = action.size;\n    this.isAbsoluteCoords = action.isAbsoluteCoords;\n    return true;\n  }\n  return false;\n};\n\n/**\n * @returns {boolean}\n */\nproto.isIdentity = function () {\n\n  return false; // No need to optimize, always false.\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9TZXRIaWdobGlnaHQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBYTs7QUFFNkI7O0FBRXRDO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNXLFNBQVNDLFlBQVlBLENBQUNDLE1BQU0sRUFBRUMsU0FBUyxFQUFFQyxRQUFRLEVBQUVDLElBQUksRUFBRUMsU0FBUyxFQUFFQyxnQkFBZ0IsRUFBRTs7RUFFekZQLG1EQUFVLENBQUNRLElBQUksQ0FBQyxJQUFJLEVBQUVOLE1BQU0sRUFBRSxlQUFlLEVBQUVDLFNBQVMsQ0FBQ00sRUFBRSxDQUFDOztFQUU1RCxJQUFJLENBQUNMLFFBQVEsR0FBR0EsUUFBUTtFQUN4QixJQUFJLENBQUNDLElBQUksR0FBR0EsSUFBSTtFQUNoQixJQUFJLENBQUNDLFNBQVMsR0FBR0MsZ0JBQWdCLEdBQUdELFNBQVMsR0FBR0EsU0FBUyxDQUFDSSxLQUFLLENBQUMsQ0FBQyxDQUFDO0VBQ2xFLElBQUksQ0FBQ0gsZ0JBQWdCLEdBQUdBLGdCQUFnQjs7RUFFeEM7QUFDSjs7QUFFQU4sWUFBWSxDQUFDVSxTQUFTLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDYixtREFBVSxDQUFDVyxTQUFTLENBQUM7QUFDNURWLFlBQVksQ0FBQ1UsU0FBUyxDQUFDRyxXQUFXLEdBQUdiLFlBQVk7O0FBRWpELElBQUljLEtBQUssR0FBR2QsWUFBWSxDQUFDVSxTQUFTOztBQUVsQ0ksS0FBSyxDQUFDQyxJQUFJLEdBQUcsWUFBVzs7RUFFcEIsSUFBSWIsU0FBUyxHQUFHLElBQUksQ0FBQ0QsTUFBTSxDQUFDZSxTQUFTLENBQUMsSUFBSSxDQUFDQyxRQUFRLENBQUM7RUFDcEQsSUFBSSxDQUFDZixTQUFTLEVBQUU7SUFDWjtFQUNKOztFQUVBQSxTQUFTLENBQUNnQixHQUFHLENBQUMsSUFBSSxDQUFDZixRQUFRLEVBQUUsSUFBSSxDQUFDQyxJQUFJLEVBQUUsSUFBSSxDQUFDQyxTQUFTLEVBQUUsSUFBSSxDQUFDQyxnQkFBZ0IsQ0FBQztBQUNsRixDQUFDOztBQUVEUSxLQUFLLENBQUNLLElBQUksR0FBRyxZQUFXOztFQUNwQjtBQUFBLENBQ0g7QUFFREwsS0FBSyxDQUFDTSxLQUFLLEdBQUcsVUFBU0MsTUFBTSxFQUFFOztFQUUzQixJQUFJLElBQUksQ0FBQ0osUUFBUSxLQUFLSSxNQUFNLENBQUNKLFFBQVE7RUFDakMsSUFBSSxDQUFDSyxJQUFJLEtBQUtELE1BQU0sQ0FBQ0MsSUFBSSxFQUFFOztJQUUzQixJQUFJLENBQUNqQixTQUFTLEdBQUdnQixNQUFNLENBQUNmLGdCQUFnQixHQUFHZSxNQUFNLENBQUNoQixTQUFTLEdBQUdnQixNQUFNLENBQUNoQixTQUFTLENBQUNJLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDdkYsSUFBSSxDQUFDTixRQUFRLEdBQUdrQixNQUFNLENBQUNsQixRQUFRO0lBQy9CLElBQUksQ0FBQ0MsSUFBSSxHQUFHaUIsTUFBTSxDQUFDakIsSUFBSTtJQUN2QixJQUFJLENBQUNFLGdCQUFnQixHQUFHZSxNQUFNLENBQUNmLGdCQUFnQjtJQUMvQyxPQUFPLElBQUk7RUFDZjtFQUNBLE9BQU8sS0FBSztBQUNoQixDQUFDOztBQUVEO0FBQ0o7QUFDQTtBQUNJUSxLQUFLLENBQUNTLFVBQVUsR0FBRyxZQUFXOztFQUUxQixPQUFPLEtBQUssQ0FBQyxDQUFDO0FBQ2xCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9lZGl0LWFjdGlvbnMvU2V0SGlnaGxpZ2h0LmpzPzY0MjAiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBFZGl0QWN0aW9uIH0gZnJvbSAnLi9FZGl0QWN0aW9uJztcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGVkaXRvclxuICAgICAqIEBwYXJhbSBoaWdobGlnaHRcbiAgICAgKiBAcGFyYW0gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0gc2l6ZVxuICAgICAqIEBwYXJhbSBsb2NhdGlvbnNcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gU2V0SGlnaGxpZ2h0KGVkaXRvciwgaGlnaGxpZ2h0LCBwb3NpdGlvbiwgc2l6ZSwgbG9jYXRpb25zLCBpc0Fic29sdXRlQ29vcmRzKSB7XG5cbiAgICAgICAgRWRpdEFjdGlvbi5jYWxsKHRoaXMsIGVkaXRvciwgJ1NFVC1ISUdITElHSFQnLCBoaWdobGlnaHQuaWQpO1xuXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy5sb2NhdGlvbnMgPSBpc0Fic29sdXRlQ29vcmRzID8gbG9jYXRpb25zIDogbG9jYXRpb25zLnNsaWNlKDApO1xuICAgICAgICB0aGlzLmlzQWJzb2x1dGVDb29yZHMgPSBpc0Fic29sdXRlQ29vcmRzO1xuXG4gICAgICAgIC8vIE5vIG5lZWQgdG8gc2F2ZSBvbGQgZGF0YVxuICAgIH1cblxuICAgIFNldEhpZ2hsaWdodC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVkaXRBY3Rpb24ucHJvdG90eXBlKTtcbiAgICBTZXRIaWdobGlnaHQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2V0SGlnaGxpZ2h0O1xuXG4gICAgdmFyIHByb3RvID0gU2V0SGlnaGxpZ2h0LnByb3RvdHlwZTtcblxuICAgIHByb3RvLnJlZG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgaGlnaGxpZ2h0ID0gdGhpcy5lZGl0b3IuZ2V0TWFya3VwKHRoaXMudGFyZ2V0SWQpO1xuICAgICAgICBpZiAoIWhpZ2hsaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaGlnaGxpZ2h0LnNldCh0aGlzLnBvc2l0aW9uLCB0aGlzLnNpemUsIHRoaXMubG9jYXRpb25zLCB0aGlzLmlzQWJzb2x1dGVDb29yZHMpO1xuICAgIH07XG5cbiAgICBwcm90by51bmRvID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIE5vIG5lZWQgZm9yIHVuZG8uXG4gICAgfTtcblxuICAgIHByb3RvLm1lcmdlID0gZnVuY3Rpb24oYWN0aW9uKSB7XG5cbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0SWQgPT09IGFjdGlvbi50YXJnZXRJZCAmJlxuICAgICAgICAgICAgdGhpcy50eXBlID09PSBhY3Rpb24udHlwZSkge1xuXG4gICAgICAgICAgICB0aGlzLmxvY2F0aW9ucyA9IGFjdGlvbi5pc0Fic29sdXRlQ29vcmRzID8gYWN0aW9uLmxvY2F0aW9ucyA6IGFjdGlvbi5sb2NhdGlvbnMuc2xpY2UoMCk7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gYWN0aW9uLnBvc2l0aW9uO1xuICAgICAgICAgICAgdGhpcy5zaXplID0gYWN0aW9uLnNpemU7XG4gICAgICAgICAgICB0aGlzLmlzQWJzb2x1dGVDb29yZHMgPSBhY3Rpb24uaXNBYnNvbHV0ZUNvb3JkcztcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgcHJvdG8uaXNJZGVudGl0eSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gTm8gbmVlZCB0byBvcHRpbWl6ZSwgYWx3YXlzIGZhbHNlLlxuICAgIH07XG5cbiJdLCJuYW1lcyI6WyJFZGl0QWN0aW9uIiwiU2V0SGlnaGxpZ2h0IiwiZWRpdG9yIiwiaGlnaGxpZ2h0IiwicG9zaXRpb24iLCJzaXplIiwibG9jYXRpb25zIiwiaXNBYnNvbHV0ZUNvb3JkcyIsImNhbGwiLCJpZCIsInNsaWNlIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJwcm90byIsInJlZG8iLCJnZXRNYXJrdXAiLCJ0YXJnZXRJZCIsInNldCIsInVuZG8iLCJtZXJnZSIsImFjdGlvbiIsInR5cGUiLCJpc0lkZW50aXR5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/SetHighlight.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/SetPolycloud.js":
/*!*************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/SetPolycloud.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SetPolycloud: () => (/* binding */ SetPolycloud)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n\n\n\n\n/**\n *\n * @param editor\n * @param polycloud\n * @param position\n * @param size\n * @param locations\n * @param closed\n * @constructor\n */\nfunction SetPolycloud(editor, polycloud, position, size, locations, closed) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'SET-POLYCLOUD', polycloud.id);\n\n  this.position = position;\n  this.size = size;\n  this.locations = locations.concat();\n  this.closed = closed;\n\n  // No need to save old data\n}\n\nSetPolycloud.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nSetPolycloud.prototype.constructor = SetPolycloud;\n\nvar proto = SetPolycloud.prototype;\n\nproto.redo = function () {\n\n  var polycloud = this.editor.getMarkup(this.targetId);\n  if (!polycloud) {\n    return;\n  }\n\n  polycloud.set(this.position, this.size, this.locations, this.closed);\n};\n\nproto.undo = function () {\n\n  // No need for undo.\n};\nproto.merge = function (action) {\n\n  if (this.targetId === action.targetId &&\n  this.type === action.type) {\n\n    this.locations = action.locations.concat();\n    this.position = action.position;\n    this.size = action.size;\n    this.closed = action.closed;\n    return true;\n  }\n  return false;\n};\n\n/**\n * @returns {boolean}\n */\nproto.isIdentity = function () {\n\n  return false; // No need to optimize, always false.\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9TZXRQb2x5Y2xvdWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBYTs7QUFFNkI7O0FBRXRDO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ1csU0FBU0MsWUFBWUEsQ0FBQ0MsTUFBTSxFQUFFQyxTQUFTLEVBQUVDLFFBQVEsRUFBRUMsSUFBSSxFQUFFQyxTQUFTLEVBQUVDLE1BQU0sRUFBRTs7RUFFL0VQLG1EQUFVLENBQUNRLElBQUksQ0FBQyxJQUFJLEVBQUVOLE1BQU0sRUFBRSxlQUFlLEVBQUVDLFNBQVMsQ0FBQ00sRUFBRSxDQUFDOztFQUU1RCxJQUFJLENBQUNMLFFBQVEsR0FBR0EsUUFBUTtFQUN4QixJQUFJLENBQUNDLElBQUksR0FBR0EsSUFBSTtFQUNoQixJQUFJLENBQUNDLFNBQVMsR0FBR0EsU0FBUyxDQUFDSSxNQUFNLENBQUMsQ0FBQztFQUNuQyxJQUFJLENBQUNILE1BQU0sR0FBR0EsTUFBTTs7RUFFcEI7QUFDSjs7QUFFQU4sWUFBWSxDQUFDVSxTQUFTLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDYixtREFBVSxDQUFDVyxTQUFTLENBQUM7QUFDNURWLFlBQVksQ0FBQ1UsU0FBUyxDQUFDRyxXQUFXLEdBQUdiLFlBQVk7O0FBRWpELElBQUljLEtBQUssR0FBR2QsWUFBWSxDQUFDVSxTQUFTOztBQUVsQ0ksS0FBSyxDQUFDQyxJQUFJLEdBQUcsWUFBVzs7RUFFcEIsSUFBSWIsU0FBUyxHQUFHLElBQUksQ0FBQ0QsTUFBTSxDQUFDZSxTQUFTLENBQUMsSUFBSSxDQUFDQyxRQUFRLENBQUM7RUFDcEQsSUFBRyxDQUFDZixTQUFTLEVBQUU7SUFDWDtFQUNKOztFQUVBQSxTQUFTLENBQUNnQixHQUFHLENBQUMsSUFBSSxDQUFDZixRQUFRLEVBQUUsSUFBSSxDQUFDQyxJQUFJLEVBQUUsSUFBSSxDQUFDQyxTQUFTLEVBQUUsSUFBSSxDQUFDQyxNQUFNLENBQUM7QUFDeEUsQ0FBQzs7QUFFRFEsS0FBSyxDQUFDSyxJQUFJLEdBQUcsWUFBVzs7RUFDcEI7QUFBQSxDQUNIO0FBRURMLEtBQUssQ0FBQ00sS0FBSyxHQUFHLFVBQVNDLE1BQU0sRUFBRTs7RUFFM0IsSUFBSSxJQUFJLENBQUNKLFFBQVEsS0FBS0ksTUFBTSxDQUFDSixRQUFRO0VBQ2pDLElBQUksQ0FBQ0ssSUFBSSxLQUFLRCxNQUFNLENBQUNDLElBQUksRUFBRTs7SUFFM0IsSUFBSSxDQUFDakIsU0FBUyxHQUFHZ0IsTUFBTSxDQUFDaEIsU0FBUyxDQUFDSSxNQUFNLENBQUMsQ0FBQztJQUMxQyxJQUFJLENBQUNOLFFBQVEsR0FBR2tCLE1BQU0sQ0FBQ2xCLFFBQVE7SUFDL0IsSUFBSSxDQUFDQyxJQUFJLEdBQUdpQixNQUFNLENBQUNqQixJQUFJO0lBQ3ZCLElBQUksQ0FBQ0UsTUFBTSxHQUFHZSxNQUFNLENBQUNmLE1BQU07SUFDM0IsT0FBTyxJQUFJO0VBQ2Y7RUFDQSxPQUFPLEtBQUs7QUFDaEIsQ0FBQzs7QUFFRDtBQUNKO0FBQ0E7QUFDSVEsS0FBSyxDQUFDUyxVQUFVLEdBQUcsWUFBVzs7RUFFMUIsT0FBTyxLQUFLLENBQUMsQ0FBQztBQUNsQixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvZWRpdC1hY3Rpb25zL1NldFBvbHljbG91ZC5qcz9jM2E0Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRWRpdEFjdGlvbiB9IGZyb20gJy4vRWRpdEFjdGlvbic7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlZGl0b3JcbiAgICAgKiBAcGFyYW0gcG9seWNsb3VkXG4gICAgICogQHBhcmFtIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHNpemVcbiAgICAgKiBAcGFyYW0gbG9jYXRpb25zXG4gICAgICogQHBhcmFtIGNsb3NlZFxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBTZXRQb2x5Y2xvdWQoZWRpdG9yLCBwb2x5Y2xvdWQsIHBvc2l0aW9uLCBzaXplLCBsb2NhdGlvbnMsIGNsb3NlZCkge1xuXG4gICAgICAgIEVkaXRBY3Rpb24uY2FsbCh0aGlzLCBlZGl0b3IsICdTRVQtUE9MWUNMT1VEJywgcG9seWNsb3VkLmlkKTtcblxuICAgICAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgICAgIHRoaXMubG9jYXRpb25zID0gbG9jYXRpb25zLmNvbmNhdCgpO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGNsb3NlZDtcblxuICAgICAgICAvLyBObyBuZWVkIHRvIHNhdmUgb2xkIGRhdGFcbiAgICB9XG5cbiAgICBTZXRQb2x5Y2xvdWQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFZGl0QWN0aW9uLnByb3RvdHlwZSk7XG4gICAgU2V0UG9seWNsb3VkLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNldFBvbHljbG91ZDtcblxuICAgIHZhciBwcm90byA9IFNldFBvbHljbG91ZC5wcm90b3R5cGU7XG5cbiAgICBwcm90by5yZWRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIHBvbHljbG91ZCA9IHRoaXMuZWRpdG9yLmdldE1hcmt1cCh0aGlzLnRhcmdldElkKTtcbiAgICAgICAgaWYoIXBvbHljbG91ZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcG9seWNsb3VkLnNldCh0aGlzLnBvc2l0aW9uLCB0aGlzLnNpemUsIHRoaXMubG9jYXRpb25zLCB0aGlzLmNsb3NlZCk7XG4gICAgfTtcblxuICAgIHByb3RvLnVuZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gTm8gbmVlZCBmb3IgdW5kby5cbiAgICB9O1xuXG4gICAgcHJvdG8ubWVyZ2UgPSBmdW5jdGlvbihhY3Rpb24pIHtcblxuICAgICAgICBpZiAodGhpcy50YXJnZXRJZCA9PT0gYWN0aW9uLnRhcmdldElkICYmXG4gICAgICAgICAgICB0aGlzLnR5cGUgPT09IGFjdGlvbi50eXBlKSB7XG5cbiAgICAgICAgICAgIHRoaXMubG9jYXRpb25zID0gYWN0aW9uLmxvY2F0aW9ucy5jb25jYXQoKTtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSBhY3Rpb24ucG9zaXRpb247XG4gICAgICAgICAgICB0aGlzLnNpemUgPSBhY3Rpb24uc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VkID0gYWN0aW9uLmNsb3NlZDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgcHJvdG8uaXNJZGVudGl0eSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gTm8gbmVlZCB0byBvcHRpbWl6ZSwgYWx3YXlzIGZhbHNlLlxuICAgIH07XG5cbiJdLCJuYW1lcyI6WyJFZGl0QWN0aW9uIiwiU2V0UG9seWNsb3VkIiwiZWRpdG9yIiwicG9seWNsb3VkIiwicG9zaXRpb24iLCJzaXplIiwibG9jYXRpb25zIiwiY2xvc2VkIiwiY2FsbCIsImlkIiwiY29uY2F0IiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJwcm90byIsInJlZG8iLCJnZXRNYXJrdXAiLCJ0YXJnZXRJZCIsInNldCIsInVuZG8iLCJtZXJnZSIsImFjdGlvbiIsInR5cGUiLCJpc0lkZW50aXR5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/SetPolycloud.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/SetPolyline.js":
/*!************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/SetPolyline.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SetPolyline: () => (/* binding */ SetPolyline)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n\n\n\n\n/**\n *\n * @param editor\n * @param polyline\n * @param position\n * @param size\n * @param locations\n * @param closed\n * @constructor\n */\nfunction SetPolyline(editor, polyline, position, size, locations, closed) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'SET-POLYLINE', polyline.id);\n\n  this.position = position;\n  this.size = size;\n  this.locations = locations.concat();\n  this.closed = closed;\n\n  // No need to save old data\n}\n\nSetPolyline.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nSetPolyline.prototype.constructor = SetPolyline;\n\nvar proto = SetPolyline.prototype;\n\nproto.redo = function () {\n\n  var polyline = this.editor.getMarkup(this.targetId);\n  if (!polyline) {\n    return;\n  }\n\n  polyline.set(this.position, this.size, this.locations, this.closed);\n};\n\nproto.undo = function () {\n\n  // No need for undo.\n};\nproto.merge = function (action) {\n\n  if (this.targetId === action.targetId &&\n  this.type === action.type) {\n\n    this.locations = action.locations.concat();\n    this.position = action.position;\n    this.size = action.size;\n    this.closed = action.closed;\n    return true;\n  }\n  return false;\n};\n\n/**\n * @returns {boolean}\n */\nproto.isIdentity = function () {\n\n  return false; // No need to optimize, always false.\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9TZXRQb2x5bGluZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFhOztBQUU2Qjs7QUFFdEM7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTQyxXQUFXQSxDQUFDQyxNQUFNLEVBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxJQUFJLEVBQUVDLFNBQVMsRUFBRUMsTUFBTSxFQUFFOztFQUU3RVAsbURBQVUsQ0FBQ1EsSUFBSSxDQUFDLElBQUksRUFBRU4sTUFBTSxFQUFFLGNBQWMsRUFBRUMsUUFBUSxDQUFDTSxFQUFFLENBQUM7O0VBRTFELElBQUksQ0FBQ0wsUUFBUSxHQUFHQSxRQUFRO0VBQ3hCLElBQUksQ0FBQ0MsSUFBSSxHQUFHQSxJQUFJO0VBQ2hCLElBQUksQ0FBQ0MsU0FBUyxHQUFHQSxTQUFTLENBQUNJLE1BQU0sQ0FBQyxDQUFDO0VBQ25DLElBQUksQ0FBQ0gsTUFBTSxHQUFHQSxNQUFNOztFQUVwQjtBQUNKOztBQUVBTixXQUFXLENBQUNVLFNBQVMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUNiLG1EQUFVLENBQUNXLFNBQVMsQ0FBQztBQUMzRFYsV0FBVyxDQUFDVSxTQUFTLENBQUNHLFdBQVcsR0FBR2IsV0FBVzs7QUFFL0MsSUFBSWMsS0FBSyxHQUFHZCxXQUFXLENBQUNVLFNBQVM7O0FBRWpDSSxLQUFLLENBQUNDLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFJYixRQUFRLEdBQUcsSUFBSSxDQUFDRCxNQUFNLENBQUNlLFNBQVMsQ0FBQyxJQUFJLENBQUNDLFFBQVEsQ0FBQztFQUNuRCxJQUFHLENBQUNmLFFBQVEsRUFBRTtJQUNWO0VBQ0o7O0VBRUFBLFFBQVEsQ0FBQ2dCLEdBQUcsQ0FBQyxJQUFJLENBQUNmLFFBQVEsRUFBRSxJQUFJLENBQUNDLElBQUksRUFBRSxJQUFJLENBQUNDLFNBQVMsRUFBRSxJQUFJLENBQUNDLE1BQU0sQ0FBQztBQUN2RSxDQUFDOztBQUVEUSxLQUFLLENBQUNLLElBQUksR0FBRyxZQUFXOztFQUNwQjtBQUFBLENBQ0g7QUFFREwsS0FBSyxDQUFDTSxLQUFLLEdBQUcsVUFBU0MsTUFBTSxFQUFFOztFQUUzQixJQUFJLElBQUksQ0FBQ0osUUFBUSxLQUFLSSxNQUFNLENBQUNKLFFBQVE7RUFDakMsSUFBSSxDQUFDSyxJQUFJLEtBQUtELE1BQU0sQ0FBQ0MsSUFBSSxFQUFFOztJQUUzQixJQUFJLENBQUNqQixTQUFTLEdBQUdnQixNQUFNLENBQUNoQixTQUFTLENBQUNJLE1BQU0sQ0FBQyxDQUFDO0lBQzFDLElBQUksQ0FBQ04sUUFBUSxHQUFHa0IsTUFBTSxDQUFDbEIsUUFBUTtJQUMvQixJQUFJLENBQUNDLElBQUksR0FBR2lCLE1BQU0sQ0FBQ2pCLElBQUk7SUFDdkIsSUFBSSxDQUFDRSxNQUFNLEdBQUdlLE1BQU0sQ0FBQ2YsTUFBTTtJQUMzQixPQUFPLElBQUk7RUFDZjtFQUNBLE9BQU8sS0FBSztBQUNoQixDQUFDOztBQUVEO0FBQ0o7QUFDQTtBQUNJUSxLQUFLLENBQUNTLFVBQVUsR0FBRyxZQUFXOztFQUUxQixPQUFPLEtBQUssQ0FBQyxDQUFDO0FBQ2xCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9lZGl0LWFjdGlvbnMvU2V0UG9seWxpbmUuanM/MmNiYiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IEVkaXRBY3Rpb24gfSBmcm9tICcuL0VkaXRBY3Rpb24nO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWRpdG9yXG4gICAgICogQHBhcmFtIHBvbHlsaW5lXG4gICAgICogQHBhcmFtIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHNpemVcbiAgICAgKiBAcGFyYW0gbG9jYXRpb25zXG4gICAgICogQHBhcmFtIGNsb3NlZFxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBTZXRQb2x5bGluZShlZGl0b3IsIHBvbHlsaW5lLCBwb3NpdGlvbiwgc2l6ZSwgbG9jYXRpb25zLCBjbG9zZWQpIHtcblxuICAgICAgICBFZGl0QWN0aW9uLmNhbGwodGhpcywgZWRpdG9yLCAnU0VULVBPTFlMSU5FJywgcG9seWxpbmUuaWQpO1xuXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy5sb2NhdGlvbnMgPSBsb2NhdGlvbnMuY29uY2F0KCk7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gY2xvc2VkO1xuXG4gICAgICAgIC8vIE5vIG5lZWQgdG8gc2F2ZSBvbGQgZGF0YVxuICAgIH1cblxuICAgIFNldFBvbHlsaW5lLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRWRpdEFjdGlvbi5wcm90b3R5cGUpO1xuICAgIFNldFBvbHlsaW5lLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNldFBvbHlsaW5lO1xuXG4gICAgdmFyIHByb3RvID0gU2V0UG9seWxpbmUucHJvdG90eXBlO1xuXG4gICAgcHJvdG8ucmVkbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBwb2x5bGluZSA9IHRoaXMuZWRpdG9yLmdldE1hcmt1cCh0aGlzLnRhcmdldElkKTtcbiAgICAgICAgaWYoIXBvbHlsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBwb2x5bGluZS5zZXQodGhpcy5wb3NpdGlvbiwgdGhpcy5zaXplLCB0aGlzLmxvY2F0aW9ucywgdGhpcy5jbG9zZWQpO1xuICAgIH07XG5cbiAgICBwcm90by51bmRvID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIE5vIG5lZWQgZm9yIHVuZG8uXG4gICAgfTtcblxuICAgIHByb3RvLm1lcmdlID0gZnVuY3Rpb24oYWN0aW9uKSB7XG5cbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0SWQgPT09IGFjdGlvbi50YXJnZXRJZCAmJlxuICAgICAgICAgICAgdGhpcy50eXBlID09PSBhY3Rpb24udHlwZSkge1xuXG4gICAgICAgICAgICB0aGlzLmxvY2F0aW9ucyA9IGFjdGlvbi5sb2NhdGlvbnMuY29uY2F0KCk7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gYWN0aW9uLnBvc2l0aW9uO1xuICAgICAgICAgICAgdGhpcy5zaXplID0gYWN0aW9uLnNpemU7XG4gICAgICAgICAgICB0aGlzLmNsb3NlZCA9IGFjdGlvbi5jbG9zZWQ7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHByb3RvLmlzSWRlbnRpdHkgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIE5vIG5lZWQgdG8gb3B0aW1pemUsIGFsd2F5cyBmYWxzZS5cbiAgICB9O1xuXG4iXSwibmFtZXMiOlsiRWRpdEFjdGlvbiIsIlNldFBvbHlsaW5lIiwiZWRpdG9yIiwicG9seWxpbmUiLCJwb3NpdGlvbiIsInNpemUiLCJsb2NhdGlvbnMiLCJjbG9zZWQiLCJjYWxsIiwiaWQiLCJjb25jYXQiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwicmVkbyIsImdldE1hcmt1cCIsInRhcmdldElkIiwic2V0IiwidW5kbyIsIm1lcmdlIiwiYWN0aW9uIiwidHlwZSIsImlzSWRlbnRpdHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/SetPolyline.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/SetPosition.js":
/*!************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/SetPosition.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SetPosition: () => (/* binding */ SetPosition)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n\n\n\n\nfunction SetPosition(editor, markup, position) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'SET-POSITION', markup.id);\n\n  this.newPosition = { x: position.x, y: position.y };\n  this.oldPosition = { x: markup.position.x, y: markup.position.y };\n}\n\nSetPosition.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nSetPosition.prototype.constructor = SetPosition;\n\nvar proto = SetPosition.prototype;\n\nproto.redo = function () {\n\n  var markup = this.editor.getMarkup(this.targetId);\n  markup && markup.setPosition(this.newPosition.x, this.newPosition.y);\n};\n\nproto.undo = function () {\n\n  var markup = this.editor.getMarkup(this.targetId);\n  markup && markup.setPosition(this.oldPosition.x, this.oldPosition.y);\n};\n\n/**\n *\n * @param action\n * @returns {boolean}\n */\nproto.merge = function (action) {\n\n  if (this.targetId === action.targetId &&\n  this.type === action.type) {\n\n    this.newPosition = action.newPosition;\n    return true;\n  }\n  return false;\n};\n\n/**\n * @returns {boolean}\n */\nproto.isIdentity = function () {\n\n  var newPosition = this.newPosition;\n  var oldPosition = this.oldPosition;\n\n  return newPosition.x === oldPosition.x && newPosition.y === oldPosition.y;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9TZXRQb3NpdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFhOztBQUU2Qjs7QUFFL0IsU0FBU0MsV0FBV0EsQ0FBQ0MsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLFFBQVEsRUFBRTs7RUFFbERKLG1EQUFVLENBQUNLLElBQUksQ0FBQyxJQUFJLEVBQUVILE1BQU0sRUFBRSxjQUFjLEVBQUVDLE1BQU0sQ0FBQ0csRUFBRSxDQUFDOztFQUV4RCxJQUFJLENBQUNDLFdBQVcsR0FBRyxFQUFDQyxDQUFDLEVBQUVKLFFBQVEsQ0FBQ0ksQ0FBQyxFQUFFQyxDQUFDLEVBQUVMLFFBQVEsQ0FBQ0ssQ0FBQyxFQUFDO0VBQ2pELElBQUksQ0FBQ0MsV0FBVyxHQUFHLEVBQUNGLENBQUMsRUFBRUwsTUFBTSxDQUFDQyxRQUFRLENBQUNJLENBQUMsRUFBRUMsQ0FBQyxFQUFFTixNQUFNLENBQUNDLFFBQVEsQ0FBQ0ssQ0FBQyxFQUFDO0FBQ25FOztBQUVBUixXQUFXLENBQUNVLFNBQVMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUNiLG1EQUFVLENBQUNXLFNBQVMsQ0FBQztBQUMzRFYsV0FBVyxDQUFDVSxTQUFTLENBQUNHLFdBQVcsR0FBR2IsV0FBVzs7QUFFL0MsSUFBSWMsS0FBSyxHQUFHZCxXQUFXLENBQUNVLFNBQVM7O0FBRWpDSSxLQUFLLENBQUNDLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFJYixNQUFNLEdBQUcsSUFBSSxDQUFDRCxNQUFNLENBQUNlLFNBQVMsQ0FBQyxJQUFJLENBQUNDLFFBQVEsQ0FBQztFQUNqRGYsTUFBTSxJQUFJQSxNQUFNLENBQUNnQixXQUFXLENBQUMsSUFBSSxDQUFDWixXQUFXLENBQUNDLENBQUMsRUFBRSxJQUFJLENBQUNELFdBQVcsQ0FBQ0UsQ0FBQyxDQUFDO0FBQ3hFLENBQUM7O0FBRURNLEtBQUssQ0FBQ0ssSUFBSSxHQUFHLFlBQVc7O0VBRXBCLElBQUlqQixNQUFNLEdBQUcsSUFBSSxDQUFDRCxNQUFNLENBQUNlLFNBQVMsQ0FBQyxJQUFJLENBQUNDLFFBQVEsQ0FBQztFQUNqRGYsTUFBTSxJQUFJQSxNQUFNLENBQUNnQixXQUFXLENBQUMsSUFBSSxDQUFDVCxXQUFXLENBQUNGLENBQUMsRUFBRSxJQUFJLENBQUNFLFdBQVcsQ0FBQ0QsQ0FBQyxDQUFDO0FBQ3hFLENBQUM7O0FBRUQ7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNJTSxLQUFLLENBQUNNLEtBQUssR0FBRyxVQUFTQyxNQUFNLEVBQUU7O0VBRTNCLElBQUksSUFBSSxDQUFDSixRQUFRLEtBQUtJLE1BQU0sQ0FBQ0osUUFBUTtFQUNqQyxJQUFJLENBQUNLLElBQUksS0FBS0QsTUFBTSxDQUFDQyxJQUFJLEVBQUU7O0lBRTNCLElBQUksQ0FBQ2hCLFdBQVcsR0FBR2UsTUFBTSxDQUFDZixXQUFXO0lBQ3JDLE9BQU8sSUFBSTtFQUNmO0VBQ0EsT0FBTyxLQUFLO0FBQ2hCLENBQUM7O0FBRUQ7QUFDSjtBQUNBO0FBQ0lRLEtBQUssQ0FBQ1MsVUFBVSxHQUFHLFlBQVc7O0VBRTFCLElBQUlqQixXQUFXLEdBQUcsSUFBSSxDQUFDQSxXQUFXO0VBQ2xDLElBQUlHLFdBQVcsR0FBRyxJQUFJLENBQUNBLFdBQVc7O0VBRWxDLE9BQU9ILFdBQVcsQ0FBQ0MsQ0FBQyxLQUFLRSxXQUFXLENBQUNGLENBQUMsSUFBSUQsV0FBVyxDQUFDRSxDQUFDLEtBQUtDLFdBQVcsQ0FBQ0QsQ0FBQztBQUM3RSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvZWRpdC1hY3Rpb25zL1NldFBvc2l0aW9uLmpzP2M0MjUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBFZGl0QWN0aW9uIH0gZnJvbSAnLi9FZGl0QWN0aW9uJztcblxuICAgIGV4cG9ydCBmdW5jdGlvbiBTZXRQb3NpdGlvbihlZGl0b3IsIG1hcmt1cCwgcG9zaXRpb24pIHtcblxuICAgICAgICBFZGl0QWN0aW9uLmNhbGwodGhpcywgZWRpdG9yLCAnU0VULVBPU0lUSU9OJywgbWFya3VwLmlkKTtcblxuICAgICAgICB0aGlzLm5ld1Bvc2l0aW9uID0ge3g6IHBvc2l0aW9uLngsIHk6IHBvc2l0aW9uLnl9O1xuICAgICAgICB0aGlzLm9sZFBvc2l0aW9uID0ge3g6IG1hcmt1cC5wb3NpdGlvbi54LCB5OiBtYXJrdXAucG9zaXRpb24ueX07XG4gICAgfVxuXG4gICAgU2V0UG9zaXRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFZGl0QWN0aW9uLnByb3RvdHlwZSk7XG4gICAgU2V0UG9zaXRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2V0UG9zaXRpb247XG5cbiAgICB2YXIgcHJvdG8gPSBTZXRQb3NpdGlvbi5wcm90b3R5cGU7XG5cbiAgICBwcm90by5yZWRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIG1hcmt1cCA9IHRoaXMuZWRpdG9yLmdldE1hcmt1cCh0aGlzLnRhcmdldElkKTtcbiAgICAgICAgbWFya3VwICYmIG1hcmt1cC5zZXRQb3NpdGlvbih0aGlzLm5ld1Bvc2l0aW9uLngsIHRoaXMubmV3UG9zaXRpb24ueSk7XG4gICAgfTtcblxuICAgIHByb3RvLnVuZG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgbWFya3VwID0gdGhpcy5lZGl0b3IuZ2V0TWFya3VwKHRoaXMudGFyZ2V0SWQpO1xuICAgICAgICBtYXJrdXAgJiYgbWFya3VwLnNldFBvc2l0aW9uKHRoaXMub2xkUG9zaXRpb24ueCwgdGhpcy5vbGRQb3NpdGlvbi55KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYWN0aW9uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgcHJvdG8ubWVyZ2UgPSBmdW5jdGlvbihhY3Rpb24pIHtcblxuICAgICAgICBpZiAodGhpcy50YXJnZXRJZCA9PT0gYWN0aW9uLnRhcmdldElkICYmXG4gICAgICAgICAgICB0aGlzLnR5cGUgPT09IGFjdGlvbi50eXBlKSB7XG5cbiAgICAgICAgICAgIHRoaXMubmV3UG9zaXRpb24gPSBhY3Rpb24ubmV3UG9zaXRpb247XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHByb3RvLmlzSWRlbnRpdHkgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgbmV3UG9zaXRpb24gPSB0aGlzLm5ld1Bvc2l0aW9uO1xuICAgICAgICB2YXIgb2xkUG9zaXRpb24gPSB0aGlzLm9sZFBvc2l0aW9uO1xuXG4gICAgICAgIHJldHVybiBuZXdQb3NpdGlvbi54ID09PSBvbGRQb3NpdGlvbi54ICYmIG5ld1Bvc2l0aW9uLnkgPT09IG9sZFBvc2l0aW9uLnk7XG4gICAgfTtcblxuIl0sIm5hbWVzIjpbIkVkaXRBY3Rpb24iLCJTZXRQb3NpdGlvbiIsImVkaXRvciIsIm1hcmt1cCIsInBvc2l0aW9uIiwiY2FsbCIsImlkIiwibmV3UG9zaXRpb24iLCJ4IiwieSIsIm9sZFBvc2l0aW9uIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJwcm90byIsInJlZG8iLCJnZXRNYXJrdXAiLCJ0YXJnZXRJZCIsInNldFBvc2l0aW9uIiwidW5kbyIsIm1lcmdlIiwiYWN0aW9uIiwidHlwZSIsImlzSWRlbnRpdHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/SetPosition.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/SetRectangle.js":
/*!*************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/SetRectangle.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SetRectangle: () => (/* binding */ SetRectangle)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n\n\n\n\n/**\n *\n * @param editor\n * @param rectangle\n * @param position\n * @param size\n * @constructor\n */\nfunction SetRectangle(editor, rectangle, position, size) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'SET-RECTANGLE', rectangle.id);\n\n  this.newPosition = { x: position.x, y: position.y };\n  this.newSize = { x: size.x, y: size.y };\n  this.oldPosition = { x: rectangle.position.x, y: rectangle.position.y };\n  this.oldSize = { x: rectangle.size.x, y: rectangle.size.y };\n}\n\nSetRectangle.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nSetRectangle.prototype.constructor = SetRectangle;\n\nvar proto = SetRectangle.prototype;\n\nproto.redo = function () {\n\n  this.applyState(this.targetId, this.newPosition, this.newSize);\n};\n\nproto.undo = function () {\n\n  this.applyState(this.targetId, this.oldPosition, this.oldSize);\n};\n\nproto.merge = function (action) {\n\n  if (this.targetId === action.targetId &&\n  this.type === action.type) {\n\n    this.newPosition = action.newPosition;\n    this.newSize = action.newSize;\n    return true;\n  }\n  return false;\n};\n\n/**\n *\n * @private\n */\nproto.applyState = function (targetId, position, size) {\n\n  var rectangle = this.editor.getMarkup(targetId);\n  if (!rectangle) {\n    return;\n  }\n\n  // Different stroke widths make positions differ at sub-pixel level.\n  var epsilon = 0.0001;\n\n  if (Math.abs(rectangle.position.x - position.x) > epsilon || Math.abs(rectangle.size.y - size.y) > epsilon ||\n  Math.abs(rectangle.position.y - position.y) > epsilon || Math.abs(rectangle.size.y - size.y) > epsilon) {\n\n    rectangle.set(position, size);\n  }\n};\n\n/**\n * @returns {boolean}\n */\nproto.isIdentity = function () {\n\n  return (\n    this.newPosition.x === this.oldPosition.x &&\n    this.newPosition.y === this.oldPosition.y &&\n    this.newSize.x === this.oldSize.x &&\n    this.newSize.y === this.oldSize.y);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9TZXRSZWN0YW5nbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBYTs7QUFFNkI7O0FBRXRDO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTQyxZQUFZQSxDQUFDQyxNQUFNLEVBQUVDLFNBQVMsRUFBRUMsUUFBUSxFQUFFQyxJQUFJLEVBQUU7O0VBRTVETCxtREFBVSxDQUFDTSxJQUFJLENBQUMsSUFBSSxFQUFFSixNQUFNLEVBQUUsZUFBZSxFQUFFQyxTQUFTLENBQUNJLEVBQUUsQ0FBQzs7RUFFNUQsSUFBSSxDQUFDQyxXQUFXLEdBQUcsRUFBQ0MsQ0FBQyxFQUFFTCxRQUFRLENBQUNLLENBQUMsRUFBRUMsQ0FBQyxFQUFFTixRQUFRLENBQUNNLENBQUMsRUFBQztFQUNqRCxJQUFJLENBQUNDLE9BQU8sR0FBRyxFQUFDRixDQUFDLEVBQUVKLElBQUksQ0FBQ0ksQ0FBQyxFQUFFQyxDQUFDLEVBQUVMLElBQUksQ0FBQ0ssQ0FBQyxFQUFDO0VBQ3JDLElBQUksQ0FBQ0UsV0FBVyxHQUFHLEVBQUNILENBQUMsRUFBRU4sU0FBUyxDQUFDQyxRQUFRLENBQUNLLENBQUMsRUFBRUMsQ0FBQyxFQUFFUCxTQUFTLENBQUNDLFFBQVEsQ0FBQ00sQ0FBQyxFQUFDO0VBQ3JFLElBQUksQ0FBQ0csT0FBTyxHQUFHLEVBQUNKLENBQUMsRUFBRU4sU0FBUyxDQUFDRSxJQUFJLENBQUNJLENBQUMsRUFBRUMsQ0FBQyxFQUFFUCxTQUFTLENBQUNFLElBQUksQ0FBQ0ssQ0FBQyxFQUFDO0FBQzdEOztBQUVBVCxZQUFZLENBQUNhLFNBQVMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUNoQixtREFBVSxDQUFDYyxTQUFTLENBQUM7QUFDNURiLFlBQVksQ0FBQ2EsU0FBUyxDQUFDRyxXQUFXLEdBQUdoQixZQUFZOztBQUVqRCxJQUFJaUIsS0FBSyxHQUFHakIsWUFBWSxDQUFDYSxTQUFTOztBQUVsQ0ksS0FBSyxDQUFDQyxJQUFJLEdBQUcsWUFBVzs7RUFFcEIsSUFBSSxDQUFDQyxVQUFVLENBQUMsSUFBSSxDQUFDQyxRQUFRLEVBQUUsSUFBSSxDQUFDYixXQUFXLEVBQUUsSUFBSSxDQUFDRyxPQUFPLENBQUM7QUFDbEUsQ0FBQzs7QUFFRE8sS0FBSyxDQUFDSSxJQUFJLEdBQUcsWUFBVzs7RUFFcEIsSUFBSSxDQUFDRixVQUFVLENBQUMsSUFBSSxDQUFDQyxRQUFRLEVBQUUsSUFBSSxDQUFDVCxXQUFXLEVBQUUsSUFBSSxDQUFDQyxPQUFPLENBQUM7QUFDbEUsQ0FBQzs7QUFFREssS0FBSyxDQUFDSyxLQUFLLEdBQUcsVUFBU0MsTUFBTSxFQUFFOztFQUUzQixJQUFJLElBQUksQ0FBQ0gsUUFBUSxLQUFLRyxNQUFNLENBQUNILFFBQVE7RUFDakMsSUFBSSxDQUFDSSxJQUFJLEtBQUtELE1BQU0sQ0FBQ0MsSUFBSSxFQUFFOztJQUUzQixJQUFJLENBQUNqQixXQUFXLEdBQUdnQixNQUFNLENBQUNoQixXQUFXO0lBQ3JDLElBQUksQ0FBQ0csT0FBTyxHQUFHYSxNQUFNLENBQUNiLE9BQU87SUFDN0IsT0FBTyxJQUFJO0VBQ2Y7RUFDQSxPQUFPLEtBQUs7QUFDaEIsQ0FBQzs7QUFFRDtBQUNKO0FBQ0E7QUFDQTtBQUNJTyxLQUFLLENBQUNFLFVBQVUsR0FBRyxVQUFTQyxRQUFRLEVBQUVqQixRQUFRLEVBQUVDLElBQUksRUFBRTs7RUFFbEQsSUFBSUYsU0FBUyxHQUFHLElBQUksQ0FBQ0QsTUFBTSxDQUFDd0IsU0FBUyxDQUFDTCxRQUFRLENBQUM7RUFDL0MsSUFBRyxDQUFDbEIsU0FBUyxFQUFFO0lBQ1g7RUFDSjs7RUFFQTtFQUNBLElBQUl3QixPQUFPLEdBQUcsTUFBTTs7RUFFcEIsSUFBSUMsSUFBSSxDQUFDQyxHQUFHLENBQUMxQixTQUFTLENBQUNDLFFBQVEsQ0FBQ0ssQ0FBQyxHQUFHTCxRQUFRLENBQUNLLENBQUMsQ0FBQyxHQUFHa0IsT0FBTyxJQUFJQyxJQUFJLENBQUNDLEdBQUcsQ0FBQzFCLFNBQVMsQ0FBQ0UsSUFBSSxDQUFDSyxDQUFDLEdBQUdMLElBQUksQ0FBQ0ssQ0FBQyxDQUFDLEdBQUdpQixPQUFPO0VBQ3RHQyxJQUFJLENBQUNDLEdBQUcsQ0FBQzFCLFNBQVMsQ0FBQ0MsUUFBUSxDQUFDTSxDQUFDLEdBQUdOLFFBQVEsQ0FBQ00sQ0FBQyxDQUFDLEdBQUdpQixPQUFPLElBQUlDLElBQUksQ0FBQ0MsR0FBRyxDQUFDMUIsU0FBUyxDQUFDRSxJQUFJLENBQUNLLENBQUMsR0FBR0wsSUFBSSxDQUFDSyxDQUFDLENBQUMsR0FBR2lCLE9BQU8sRUFBRTs7SUFFeEd4QixTQUFTLENBQUMyQixHQUFHLENBQUMxQixRQUFRLEVBQUVDLElBQUksQ0FBQztFQUNqQztBQUNKLENBQUM7O0FBRUQ7QUFDSjtBQUNBO0FBQ0lhLEtBQUssQ0FBQ2EsVUFBVSxHQUFHLFlBQVc7O0VBRTFCO0lBQ0ksSUFBSSxDQUFDdkIsV0FBVyxDQUFDQyxDQUFDLEtBQUssSUFBSSxDQUFDRyxXQUFXLENBQUNILENBQUM7SUFDekMsSUFBSSxDQUFDRCxXQUFXLENBQUNFLENBQUMsS0FBSyxJQUFJLENBQUNFLFdBQVcsQ0FBQ0YsQ0FBQztJQUN6QyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0YsQ0FBQyxLQUFLLElBQUksQ0FBQ0ksT0FBTyxDQUFDSixDQUFDO0lBQ2pDLElBQUksQ0FBQ0UsT0FBTyxDQUFDRCxDQUFDLEtBQUssSUFBSSxDQUFDRyxPQUFPLENBQUNILENBQUM7QUFDekMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9TZXRSZWN0YW5nbGUuanM/YTZiMyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IEVkaXRBY3Rpb24gfSBmcm9tICcuL0VkaXRBY3Rpb24nO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWRpdG9yXG4gICAgICogQHBhcmFtIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSBwb3NpdGlvblxuICAgICAqIEBwYXJhbSBzaXplXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIFNldFJlY3RhbmdsZShlZGl0b3IsIHJlY3RhbmdsZSwgcG9zaXRpb24sIHNpemUpIHtcblxuICAgICAgICBFZGl0QWN0aW9uLmNhbGwodGhpcywgZWRpdG9yLCAnU0VULVJFQ1RBTkdMRScsIHJlY3RhbmdsZS5pZCk7XG5cbiAgICAgICAgdGhpcy5uZXdQb3NpdGlvbiA9IHt4OiBwb3NpdGlvbi54LCB5OiBwb3NpdGlvbi55fTtcbiAgICAgICAgdGhpcy5uZXdTaXplID0ge3g6IHNpemUueCwgeTogc2l6ZS55fTtcbiAgICAgICAgdGhpcy5vbGRQb3NpdGlvbiA9IHt4OiByZWN0YW5nbGUucG9zaXRpb24ueCwgeTogcmVjdGFuZ2xlLnBvc2l0aW9uLnl9O1xuICAgICAgICB0aGlzLm9sZFNpemUgPSB7eDogcmVjdGFuZ2xlLnNpemUueCwgeTogcmVjdGFuZ2xlLnNpemUueX07XG4gICAgfVxuXG4gICAgU2V0UmVjdGFuZ2xlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRWRpdEFjdGlvbi5wcm90b3R5cGUpO1xuICAgIFNldFJlY3RhbmdsZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTZXRSZWN0YW5nbGU7XG5cbiAgICB2YXIgcHJvdG8gPSBTZXRSZWN0YW5nbGUucHJvdG90eXBlO1xuXG4gICAgcHJvdG8ucmVkbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHRoaXMuYXBwbHlTdGF0ZSh0aGlzLnRhcmdldElkLCB0aGlzLm5ld1Bvc2l0aW9uLCB0aGlzLm5ld1NpemUpO1xuICAgIH07XG5cbiAgICBwcm90by51bmRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdGhpcy5hcHBseVN0YXRlKHRoaXMudGFyZ2V0SWQsIHRoaXMub2xkUG9zaXRpb24sIHRoaXMub2xkU2l6ZSk7XG4gICAgfTtcblxuICAgIHByb3RvLm1lcmdlID0gZnVuY3Rpb24oYWN0aW9uKSB7XG5cbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0SWQgPT09IGFjdGlvbi50YXJnZXRJZCAmJlxuICAgICAgICAgICAgdGhpcy50eXBlID09PSBhY3Rpb24udHlwZSkge1xuXG4gICAgICAgICAgICB0aGlzLm5ld1Bvc2l0aW9uID0gYWN0aW9uLm5ld1Bvc2l0aW9uO1xuICAgICAgICAgICAgdGhpcy5uZXdTaXplID0gYWN0aW9uLm5ld1NpemU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcm90by5hcHBseVN0YXRlID0gZnVuY3Rpb24odGFyZ2V0SWQsIHBvc2l0aW9uLCBzaXplKSB7XG5cbiAgICAgICAgdmFyIHJlY3RhbmdsZSA9IHRoaXMuZWRpdG9yLmdldE1hcmt1cCh0YXJnZXRJZCk7XG4gICAgICAgIGlmKCFyZWN0YW5nbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERpZmZlcmVudCBzdHJva2Ugd2lkdGhzIG1ha2UgcG9zaXRpb25zIGRpZmZlciBhdCBzdWItcGl4ZWwgbGV2ZWwuXG4gICAgICAgIHZhciBlcHNpbG9uID0gMC4wMDAxO1xuXG4gICAgICAgIGlmIChNYXRoLmFicyhyZWN0YW5nbGUucG9zaXRpb24ueCAtIHBvc2l0aW9uLngpID4gZXBzaWxvbiB8fCBNYXRoLmFicyhyZWN0YW5nbGUuc2l6ZS55IC0gc2l6ZS55KSA+IGVwc2lsb24gfHxcbiAgICAgICAgICAgIE1hdGguYWJzKHJlY3RhbmdsZS5wb3NpdGlvbi55IC0gcG9zaXRpb24ueSkgPiBlcHNpbG9uIHx8IE1hdGguYWJzKHJlY3RhbmdsZS5zaXplLnkgLSBzaXplLnkpID4gZXBzaWxvbikge1xuXG4gICAgICAgICAgICByZWN0YW5nbGUuc2V0KHBvc2l0aW9uLCBzaXplKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBwcm90by5pc0lkZW50aXR5ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgcmV0dXJuKFxuICAgICAgICAgICAgdGhpcy5uZXdQb3NpdGlvbi54ID09PSB0aGlzLm9sZFBvc2l0aW9uLnggJiZcbiAgICAgICAgICAgIHRoaXMubmV3UG9zaXRpb24ueSA9PT0gdGhpcy5vbGRQb3NpdGlvbi55ICYmXG4gICAgICAgICAgICB0aGlzLm5ld1NpemUueCA9PT0gdGhpcy5vbGRTaXplLnggJiZcbiAgICAgICAgICAgIHRoaXMubmV3U2l6ZS55ID09PSB0aGlzLm9sZFNpemUueSk7XG4gICAgfTtcbiJdLCJuYW1lcyI6WyJFZGl0QWN0aW9uIiwiU2V0UmVjdGFuZ2xlIiwiZWRpdG9yIiwicmVjdGFuZ2xlIiwicG9zaXRpb24iLCJzaXplIiwiY2FsbCIsImlkIiwibmV3UG9zaXRpb24iLCJ4IiwieSIsIm5ld1NpemUiLCJvbGRQb3NpdGlvbiIsIm9sZFNpemUiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwicmVkbyIsImFwcGx5U3RhdGUiLCJ0YXJnZXRJZCIsInVuZG8iLCJtZXJnZSIsImFjdGlvbiIsInR5cGUiLCJnZXRNYXJrdXAiLCJlcHNpbG9uIiwiTWF0aCIsImFicyIsInNldCIsImlzSWRlbnRpdHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/SetRectangle.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/SetRotation.js":
/*!************************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/SetRotation.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SetRotation: () => (/* binding */ SetRotation)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n\n\n\n\n/**\n *\n * @param editor\n * @param markup\n * @param angle\n * @constructor\n */\nfunction SetRotation(editor, markup, angle) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'SET-ROTATION', markup.id);\n\n  var curAngle = markup.getRotation();\n\n  this.newRotation = { angle: angle };\n  this.oldRotation = { angle: curAngle };\n}\n\nSetRotation.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nSetRotation.prototype.constructor = SetRotation;\n\nvar proto = SetRotation.prototype;\n\nproto.redo = function () {\n\n  var markup = this.editor.getMarkup(this.targetId);\n  markup && markup.setRotation(this.newRotation.angle);\n};\n\nproto.undo = function () {\n\n  var markup = this.editor.getMarkup(this.targetId);\n  markup && markup.setRotation(this.oldRotation.angle);\n};\n\n/**\n *\n * @param action\n * @returns {boolean}\n */\nproto.merge = function (action) {\n\n  if (this.targetId === action.targetId &&\n  this.type === action.type) {\n\n    this.newRotation = action.newRotation;\n    return true;\n  }\n  return false;\n};\n\n/**\n * @returns {boolean}\n */\nproto.isIdentity = function () {\n\n  return this.newRotation.angle === this.oldRotation.angle;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9TZXRSb3RhdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFhOztBQUU2Qjs7QUFFdEM7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTQyxXQUFXQSxDQUFDQyxNQUFNLEVBQUVDLE1BQU0sRUFBRUMsS0FBSyxFQUFFOztFQUUvQ0osbURBQVUsQ0FBQ0ssSUFBSSxDQUFDLElBQUksRUFBRUgsTUFBTSxFQUFFLGNBQWMsRUFBRUMsTUFBTSxDQUFDRyxFQUFFLENBQUM7O0VBRXhELElBQUlDLFFBQVEsR0FBR0osTUFBTSxDQUFDSyxXQUFXLENBQUMsQ0FBQzs7RUFFbkMsSUFBSSxDQUFDQyxXQUFXLEdBQUcsRUFBQ0wsS0FBSyxFQUFFQSxLQUFLLEVBQUM7RUFDakMsSUFBSSxDQUFDTSxXQUFXLEdBQUcsRUFBQ04sS0FBSyxFQUFFRyxRQUFRLEVBQUM7QUFDeEM7O0FBRUFOLFdBQVcsQ0FBQ1UsU0FBUyxHQUFHQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ2IsbURBQVUsQ0FBQ1csU0FBUyxDQUFDO0FBQzNEVixXQUFXLENBQUNVLFNBQVMsQ0FBQ0csV0FBVyxHQUFHYixXQUFXOztBQUUvQyxJQUFJYyxLQUFLLEdBQUdkLFdBQVcsQ0FBQ1UsU0FBUzs7QUFFakNJLEtBQUssQ0FBQ0MsSUFBSSxHQUFHLFlBQVc7O0VBRXBCLElBQUliLE1BQU0sR0FBRyxJQUFJLENBQUNELE1BQU0sQ0FBQ2UsU0FBUyxDQUFDLElBQUksQ0FBQ0MsUUFBUSxDQUFDO0VBQ2pEZixNQUFNLElBQUlBLE1BQU0sQ0FBQ2dCLFdBQVcsQ0FBQyxJQUFJLENBQUNWLFdBQVcsQ0FBQ0wsS0FBSyxDQUFDO0FBQ3hELENBQUM7O0FBRURXLEtBQUssQ0FBQ0ssSUFBSSxHQUFHLFlBQVc7O0VBRXBCLElBQUlqQixNQUFNLEdBQUcsSUFBSSxDQUFDRCxNQUFNLENBQUNlLFNBQVMsQ0FBQyxJQUFJLENBQUNDLFFBQVEsQ0FBQztFQUNqRGYsTUFBTSxJQUFJQSxNQUFNLENBQUNnQixXQUFXLENBQUMsSUFBSSxDQUFDVCxXQUFXLENBQUNOLEtBQUssQ0FBQztBQUN4RCxDQUFDOztBQUVEO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDSVcsS0FBSyxDQUFDTSxLQUFLLEdBQUcsVUFBU0MsTUFBTSxFQUFFOztFQUUzQixJQUFJLElBQUksQ0FBQ0osUUFBUSxLQUFLSSxNQUFNLENBQUNKLFFBQVE7RUFDakMsSUFBSSxDQUFDSyxJQUFJLEtBQUtELE1BQU0sQ0FBQ0MsSUFBSSxFQUFFOztJQUUzQixJQUFJLENBQUNkLFdBQVcsR0FBR2EsTUFBTSxDQUFDYixXQUFXO0lBQ3JDLE9BQU8sSUFBSTtFQUNmO0VBQ0EsT0FBTyxLQUFLO0FBQ2hCLENBQUM7O0FBRUQ7QUFDSjtBQUNBO0FBQ0lNLEtBQUssQ0FBQ1MsVUFBVSxHQUFHLFlBQVc7O0VBRTFCLE9BQU8sSUFBSSxDQUFDZixXQUFXLENBQUNMLEtBQUssS0FBSyxJQUFJLENBQUNNLFdBQVcsQ0FBQ04sS0FBSztBQUM1RCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvZWRpdC1hY3Rpb25zL1NldFJvdGF0aW9uLmpzPzMzMTEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBFZGl0QWN0aW9uIH0gZnJvbSAnLi9FZGl0QWN0aW9uJztcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGVkaXRvclxuICAgICAqIEBwYXJhbSBtYXJrdXBcbiAgICAgKiBAcGFyYW0gYW5nbGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gU2V0Um90YXRpb24oZWRpdG9yLCBtYXJrdXAsIGFuZ2xlKSB7XG5cbiAgICAgICAgRWRpdEFjdGlvbi5jYWxsKHRoaXMsIGVkaXRvciwgJ1NFVC1ST1RBVElPTicsIG1hcmt1cC5pZCk7XG5cbiAgICAgICAgdmFyIGN1ckFuZ2xlID0gbWFya3VwLmdldFJvdGF0aW9uKCk7XG5cbiAgICAgICAgdGhpcy5uZXdSb3RhdGlvbiA9IHthbmdsZTogYW5nbGV9O1xuICAgICAgICB0aGlzLm9sZFJvdGF0aW9uID0ge2FuZ2xlOiBjdXJBbmdsZX07XG4gICAgfVxuXG4gICAgU2V0Um90YXRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFZGl0QWN0aW9uLnByb3RvdHlwZSk7XG4gICAgU2V0Um90YXRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2V0Um90YXRpb247XG5cbiAgICB2YXIgcHJvdG8gPSBTZXRSb3RhdGlvbi5wcm90b3R5cGU7XG5cbiAgICBwcm90by5yZWRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIG1hcmt1cCA9IHRoaXMuZWRpdG9yLmdldE1hcmt1cCh0aGlzLnRhcmdldElkKTtcbiAgICAgICAgbWFya3VwICYmIG1hcmt1cC5zZXRSb3RhdGlvbih0aGlzLm5ld1JvdGF0aW9uLmFuZ2xlKTtcbiAgICB9O1xuXG4gICAgcHJvdG8udW5kbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBtYXJrdXAgPSB0aGlzLmVkaXRvci5nZXRNYXJrdXAodGhpcy50YXJnZXRJZCk7XG4gICAgICAgIG1hcmt1cCAmJiBtYXJrdXAuc2V0Um90YXRpb24odGhpcy5vbGRSb3RhdGlvbi5hbmdsZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGFjdGlvblxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHByb3RvLm1lcmdlID0gZnVuY3Rpb24oYWN0aW9uKSB7XG5cbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0SWQgPT09IGFjdGlvbi50YXJnZXRJZCAmJlxuICAgICAgICAgICAgdGhpcy50eXBlID09PSBhY3Rpb24udHlwZSkge1xuXG4gICAgICAgICAgICB0aGlzLm5ld1JvdGF0aW9uID0gYWN0aW9uLm5ld1JvdGF0aW9uO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBwcm90by5pc0lkZW50aXR5ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubmV3Um90YXRpb24uYW5nbGUgPT09IHRoaXMub2xkUm90YXRpb24uYW5nbGU7XG4gICAgfTtcblxuIl0sIm5hbWVzIjpbIkVkaXRBY3Rpb24iLCJTZXRSb3RhdGlvbiIsImVkaXRvciIsIm1hcmt1cCIsImFuZ2xlIiwiY2FsbCIsImlkIiwiY3VyQW5nbGUiLCJnZXRSb3RhdGlvbiIsIm5ld1JvdGF0aW9uIiwib2xkUm90YXRpb24iLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwicmVkbyIsImdldE1hcmt1cCIsInRhcmdldElkIiwic2V0Um90YXRpb24iLCJ1bmRvIiwibWVyZ2UiLCJhY3Rpb24iLCJ0eXBlIiwiaXNJZGVudGl0eSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/SetRotation.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/SetSize.js":
/*!********************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/SetSize.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SetSize: () => (/* binding */ SetSize)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n\n\n\n\n/**\n *\n * @param editor\n * @param markup\n * @param position\n * @param width\n * @param height\n * @constructor\n */\nfunction SetSize(editor, markup, position, width, height) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'SET-SIZE', markup.id);\n\n  this.newPosition = { x: position.x, y: position.y };\n  this.oldPosition = { x: markup.position.x, y: markup.position.y };\n  this.newWidth = width;\n  this.oldWidth = markup.size.x;\n  this.newHeight = height;\n  this.oldHeight = markup.size.y;\n}\n\nSetSize.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nSetSize.prototype.constructor = SetSize;\n\nvar proto = SetSize.prototype;\n\nproto.redo = function () {\n\n  var markup = this.editor.getMarkup(this.targetId);\n  markup && markup.setSize(this.newPosition, this.newWidth, this.newHeight);\n};\n\nproto.undo = function () {\n\n  var markup = this.editor.getMarkup(this.targetId);\n  markup && markup.setSize(this.oldPosition, this.oldWidth, this.oldHeight);\n};\n\nproto.merge = function (action) {\n\n  if (this.targetId === action.targetId &&\n  this.type === action.type) {\n\n    this.newPosition = action.newPosition;\n    this.newWidth = action.newWidth;\n    this.newHeight = action.newHeight;\n    return true;\n  }\n  return false;\n};\n\n/**\n * @returns {boolean}\n */\nproto.isIdentity = function () {\n\n  var identity =\n  this.newPosition.x === this.oldPosition.x &&\n  this.newPosition.y === this.oldPosition.y &&\n  this.newWidth === this.oldWidth &&\n  this.newHeight === this.oldHeight;\n\n  return identity;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9TZXRTaXplLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWE7O0FBRTZCOztBQUV0QztBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTQyxPQUFPQSxDQUFDQyxNQUFNLEVBQUVDLE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLE1BQU0sRUFBRTs7RUFFN0ROLG1EQUFVLENBQUNPLElBQUksQ0FBQyxJQUFJLEVBQUVMLE1BQU0sRUFBRSxVQUFVLEVBQUVDLE1BQU0sQ0FBQ0ssRUFBRSxDQUFDOztFQUVwRCxJQUFJLENBQUNDLFdBQVcsR0FBRyxFQUFDQyxDQUFDLEVBQUVOLFFBQVEsQ0FBQ00sQ0FBQyxFQUFFQyxDQUFDLEVBQUVQLFFBQVEsQ0FBQ08sQ0FBQyxFQUFDO0VBQ2pELElBQUksQ0FBQ0MsV0FBVyxHQUFHLEVBQUNGLENBQUMsRUFBRVAsTUFBTSxDQUFDQyxRQUFRLENBQUNNLENBQUMsRUFBRUMsQ0FBQyxFQUFFUixNQUFNLENBQUNDLFFBQVEsQ0FBQ08sQ0FBQyxFQUFDO0VBQy9ELElBQUksQ0FBQ0UsUUFBUSxHQUFHUixLQUFLO0VBQ3JCLElBQUksQ0FBQ1MsUUFBUSxHQUFHWCxNQUFNLENBQUNZLElBQUksQ0FBQ0wsQ0FBQztFQUM3QixJQUFJLENBQUNNLFNBQVMsR0FBR1YsTUFBTTtFQUN2QixJQUFJLENBQUNXLFNBQVMsR0FBR2QsTUFBTSxDQUFDWSxJQUFJLENBQUNKLENBQUM7QUFDbEM7O0FBRUFWLE9BQU8sQ0FBQ2lCLFNBQVMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUNwQixtREFBVSxDQUFDa0IsU0FBUyxDQUFDO0FBQ3ZEakIsT0FBTyxDQUFDaUIsU0FBUyxDQUFDRyxXQUFXLEdBQUdwQixPQUFPOztBQUV2QyxJQUFJcUIsS0FBSyxHQUFHckIsT0FBTyxDQUFDaUIsU0FBUzs7QUFFN0JJLEtBQUssQ0FBQ0MsSUFBSSxHQUFHLFlBQVc7O0VBRXBCLElBQUlwQixNQUFNLEdBQUcsSUFBSSxDQUFDRCxNQUFNLENBQUNzQixTQUFTLENBQUMsSUFBSSxDQUFDQyxRQUFRLENBQUM7RUFDakR0QixNQUFNLElBQUlBLE1BQU0sQ0FBQ3VCLE9BQU8sQ0FBQyxJQUFJLENBQUNqQixXQUFXLEVBQUUsSUFBSSxDQUFDSSxRQUFRLEVBQUUsSUFBSSxDQUFDRyxTQUFTLENBQUM7QUFDN0UsQ0FBQzs7QUFFRE0sS0FBSyxDQUFDSyxJQUFJLEdBQUcsWUFBVzs7RUFFcEIsSUFBSXhCLE1BQU0sR0FBRyxJQUFJLENBQUNELE1BQU0sQ0FBQ3NCLFNBQVMsQ0FBQyxJQUFJLENBQUNDLFFBQVEsQ0FBQztFQUNqRHRCLE1BQU0sSUFBSUEsTUFBTSxDQUFDdUIsT0FBTyxDQUFDLElBQUksQ0FBQ2QsV0FBVyxFQUFFLElBQUksQ0FBQ0UsUUFBUSxFQUFFLElBQUksQ0FBQ0csU0FBUyxDQUFDO0FBQzdFLENBQUM7O0FBRURLLEtBQUssQ0FBQ00sS0FBSyxHQUFHLFVBQVNDLE1BQU0sRUFBRTs7RUFFM0IsSUFBSSxJQUFJLENBQUNKLFFBQVEsS0FBS0ksTUFBTSxDQUFDSixRQUFRO0VBQ2pDLElBQUksQ0FBQ0ssSUFBSSxLQUFLRCxNQUFNLENBQUNDLElBQUksRUFBRTs7SUFFM0IsSUFBSSxDQUFDckIsV0FBVyxHQUFHb0IsTUFBTSxDQUFDcEIsV0FBVztJQUNyQyxJQUFJLENBQUNJLFFBQVEsR0FBR2dCLE1BQU0sQ0FBQ2hCLFFBQVE7SUFDL0IsSUFBSSxDQUFDRyxTQUFTLEdBQUdhLE1BQU0sQ0FBQ2IsU0FBUztJQUNqQyxPQUFPLElBQUk7RUFDZjtFQUNBLE9BQU8sS0FBSztBQUNoQixDQUFDOztBQUVEO0FBQ0o7QUFDQTtBQUNJTSxLQUFLLENBQUNTLFVBQVUsR0FBRyxZQUFXOztFQUUxQixJQUFJQyxRQUFRO0VBQ1IsSUFBSSxDQUFDdkIsV0FBVyxDQUFDQyxDQUFDLEtBQUssSUFBSSxDQUFDRSxXQUFXLENBQUNGLENBQUM7RUFDekMsSUFBSSxDQUFDRCxXQUFXLENBQUNFLENBQUMsS0FBSyxJQUFJLENBQUNDLFdBQVcsQ0FBQ0QsQ0FBQztFQUN6QyxJQUFJLENBQUNFLFFBQVEsS0FBSyxJQUFJLENBQUNDLFFBQVE7RUFDL0IsSUFBSSxDQUFDRSxTQUFTLEtBQUssSUFBSSxDQUFDQyxTQUFTOztFQUVyQyxPQUFPZSxRQUFRO0FBQ25CLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9lZGl0LWFjdGlvbnMvU2V0U2l6ZS5qcz8xZjVjIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRWRpdEFjdGlvbiB9IGZyb20gJy4vRWRpdEFjdGlvbic7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlZGl0b3JcbiAgICAgKiBAcGFyYW0gbWFya3VwXG4gICAgICogQHBhcmFtIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHdpZHRoXG4gICAgICogQHBhcmFtIGhlaWdodFxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBTZXRTaXplKGVkaXRvciwgbWFya3VwLCBwb3NpdGlvbiwgd2lkdGgsIGhlaWdodCkge1xuXG4gICAgICAgIEVkaXRBY3Rpb24uY2FsbCh0aGlzLCBlZGl0b3IsICdTRVQtU0laRScsIG1hcmt1cC5pZCk7XG5cbiAgICAgICAgdGhpcy5uZXdQb3NpdGlvbiA9IHt4OiBwb3NpdGlvbi54LCB5OiBwb3NpdGlvbi55fTtcbiAgICAgICAgdGhpcy5vbGRQb3NpdGlvbiA9IHt4OiBtYXJrdXAucG9zaXRpb24ueCwgeTogbWFya3VwLnBvc2l0aW9uLnl9O1xuICAgICAgICB0aGlzLm5ld1dpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMub2xkV2lkdGggPSBtYXJrdXAuc2l6ZS54O1xuICAgICAgICB0aGlzLm5ld0hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5vbGRIZWlnaHQgPSBtYXJrdXAuc2l6ZS55O1xuICAgIH1cblxuICAgIFNldFNpemUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFZGl0QWN0aW9uLnByb3RvdHlwZSk7XG4gICAgU2V0U2l6ZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTZXRTaXplO1xuXG4gICAgdmFyIHByb3RvID0gU2V0U2l6ZS5wcm90b3R5cGU7XG5cbiAgICBwcm90by5yZWRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIG1hcmt1cCA9IHRoaXMuZWRpdG9yLmdldE1hcmt1cCh0aGlzLnRhcmdldElkKTtcbiAgICAgICAgbWFya3VwICYmIG1hcmt1cC5zZXRTaXplKHRoaXMubmV3UG9zaXRpb24sIHRoaXMubmV3V2lkdGgsIHRoaXMubmV3SGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgcHJvdG8udW5kbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBtYXJrdXAgPSB0aGlzLmVkaXRvci5nZXRNYXJrdXAodGhpcy50YXJnZXRJZCk7XG4gICAgICAgIG1hcmt1cCAmJiBtYXJrdXAuc2V0U2l6ZSh0aGlzLm9sZFBvc2l0aW9uLCB0aGlzLm9sZFdpZHRoLCB0aGlzLm9sZEhlaWdodCk7XG4gICAgfTtcblxuICAgIHByb3RvLm1lcmdlID0gZnVuY3Rpb24oYWN0aW9uKSB7XG5cbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0SWQgPT09IGFjdGlvbi50YXJnZXRJZCAmJlxuICAgICAgICAgICAgdGhpcy50eXBlID09PSBhY3Rpb24udHlwZSkge1xuXG4gICAgICAgICAgICB0aGlzLm5ld1Bvc2l0aW9uID0gYWN0aW9uLm5ld1Bvc2l0aW9uO1xuICAgICAgICAgICAgdGhpcy5uZXdXaWR0aCA9IGFjdGlvbi5uZXdXaWR0aDtcbiAgICAgICAgICAgIHRoaXMubmV3SGVpZ2h0ID0gYWN0aW9uLm5ld0hlaWdodDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgcHJvdG8uaXNJZGVudGl0eSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBpZGVudGl0eSA9XG4gICAgICAgICAgICB0aGlzLm5ld1Bvc2l0aW9uLnggPT09IHRoaXMub2xkUG9zaXRpb24ueCAmJlxuICAgICAgICAgICAgdGhpcy5uZXdQb3NpdGlvbi55ID09PSB0aGlzLm9sZFBvc2l0aW9uLnkgJiZcbiAgICAgICAgICAgIHRoaXMubmV3V2lkdGggPT09IHRoaXMub2xkV2lkdGggJiZcbiAgICAgICAgICAgIHRoaXMubmV3SGVpZ2h0ID09PSB0aGlzLm9sZEhlaWdodDtcblxuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG4gICAgfTtcbiJdLCJuYW1lcyI6WyJFZGl0QWN0aW9uIiwiU2V0U2l6ZSIsImVkaXRvciIsIm1hcmt1cCIsInBvc2l0aW9uIiwid2lkdGgiLCJoZWlnaHQiLCJjYWxsIiwiaWQiLCJuZXdQb3NpdGlvbiIsIngiLCJ5Iiwib2xkUG9zaXRpb24iLCJuZXdXaWR0aCIsIm9sZFdpZHRoIiwic2l6ZSIsIm5ld0hlaWdodCIsIm9sZEhlaWdodCIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwicHJvdG8iLCJyZWRvIiwiZ2V0TWFya3VwIiwidGFyZ2V0SWQiLCJzZXRTaXplIiwidW5kbyIsIm1lcmdlIiwiYWN0aW9uIiwidHlwZSIsImlzSWRlbnRpdHkiLCJpZGVudGl0eSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/SetSize.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/SetStamp.js":
/*!*********************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/SetStamp.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SetStamp: () => (/* binding */ SetStamp)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n\n\n\n\n\n\nclass SetStamp extends _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction {\n  constructor(editor, stamp, position, size) {\n    super(editor, 'SET-STAMP', stamp.id);\n\n    this.newPosition = { x: position.x, y: position.y };\n    this.newSize = { x: size.x, y: size.y };\n    this.oldPosition = { x: stamp.position.x, y: stamp.position.y };\n    this.oldSize = { x: stamp.size.x, y: stamp.size.y };\n  }\n\n  redo() {\n    this.applyState(this.targetId, this.newPosition, this.newSize);\n  }\n\n  undo() {\n    this.applyState(this.targetId, this.oldPosition, this.oldSize);\n  }\n\n  merge(action) {\n    if (this.targetId === action.targetId && this.type === action.type) {\n      this.newPosition = action.newPosition;\n      this.newSize = action.newSize;\n      return true;\n    }\n\n    return false;\n  }\n\n  applyState(targetId, position, size) {\n    const stamp = this.editor.getMarkup(targetId);\n    if (!stamp) {\n      return;\n    }\n\n    // Different stroke widths make positions differ at sub-pixel level.\n    const epsilon = 0.0001;\n    if (\n    Math.abs(stamp.position.x - position.x) > epsilon ||\n    Math.abs(stamp.position.y - position.y) > epsilon ||\n    Math.abs(stamp.size.x - size.x) > epsilon ||\n    Math.abs(stamp.size.y - size.y) > epsilon)\n    {\n      stamp.set(position, size);\n    }\n  }\n\n  isIdentity() {\n    return (\n      this.newPosition.x === this.oldPosition.x &&\n      this.newPosition.y === this.oldPosition.y &&\n      this.newSize.x === this.oldSize.x &&\n      this.newSize.y === this.newSize.y);\n\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9TZXRTdGFtcC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFhOztBQUU2Qjs7QUFFdEI7O0FBRXBCLE1BQU1DLFFBQVEsU0FBU0QsbURBQVUsQ0FBQztFQUM5QkUsV0FBV0EsQ0FBQ0MsTUFBTSxFQUFFQyxLQUFLLEVBQUVDLFFBQVEsRUFBRUMsSUFBSSxFQUFFO0lBQ3ZDLEtBQUssQ0FBQ0gsTUFBTSxFQUFFLFdBQVcsRUFBRUMsS0FBSyxDQUFDRyxFQUFFLENBQUM7O0lBRXBDLElBQUksQ0FBQ0MsV0FBVyxHQUFHLEVBQUNDLENBQUMsRUFBRUosUUFBUSxDQUFDSSxDQUFDLEVBQUVDLENBQUMsRUFBRUwsUUFBUSxDQUFDSyxDQUFDLEVBQUM7SUFDakQsSUFBSSxDQUFDQyxPQUFPLEdBQUcsRUFBQ0YsQ0FBQyxFQUFFSCxJQUFJLENBQUNHLENBQUMsRUFBRUMsQ0FBQyxFQUFFSixJQUFJLENBQUNJLENBQUMsRUFBQztJQUNyQyxJQUFJLENBQUNFLFdBQVcsR0FBRyxFQUFDSCxDQUFDLEVBQUVMLEtBQUssQ0FBQ0MsUUFBUSxDQUFDSSxDQUFDLEVBQUVDLENBQUMsRUFBRU4sS0FBSyxDQUFDQyxRQUFRLENBQUNLLENBQUMsRUFBQztJQUM3RCxJQUFJLENBQUNHLE9BQU8sR0FBRyxFQUFDSixDQUFDLEVBQUVMLEtBQUssQ0FBQ0UsSUFBSSxDQUFDRyxDQUFDLEVBQUVDLENBQUMsRUFBRU4sS0FBSyxDQUFDRSxJQUFJLENBQUNJLENBQUMsRUFBQztFQUNyRDs7RUFFQUksSUFBSUEsQ0FBQSxFQUFHO0lBQ0gsSUFBSSxDQUFDQyxVQUFVLENBQUMsSUFBSSxDQUFDQyxRQUFRLEVBQUUsSUFBSSxDQUFDUixXQUFXLEVBQUUsSUFBSSxDQUFDRyxPQUFPLENBQUM7RUFDbEU7O0VBRUFNLElBQUlBLENBQUEsRUFBRztJQUNILElBQUksQ0FBQ0YsVUFBVSxDQUFDLElBQUksQ0FBQ0MsUUFBUSxFQUFFLElBQUksQ0FBQ0osV0FBVyxFQUFFLElBQUksQ0FBQ0MsT0FBTyxDQUFDO0VBQ2xFOztFQUVBSyxLQUFLQSxDQUFDQyxNQUFNLEVBQUU7SUFDVixJQUFJLElBQUksQ0FBQ0gsUUFBUSxLQUFLRyxNQUFNLENBQUNILFFBQVEsSUFBSSxJQUFJLENBQUNJLElBQUksS0FBS0QsTUFBTSxDQUFDQyxJQUFJLEVBQUU7TUFDaEUsSUFBSSxDQUFDWixXQUFXLEdBQUdXLE1BQU0sQ0FBQ1gsV0FBVztNQUNyQyxJQUFJLENBQUNHLE9BQU8sR0FBR1EsTUFBTSxDQUFDUixPQUFPO01BQzdCLE9BQU8sSUFBSTtJQUNmOztJQUVBLE9BQU8sS0FBSztFQUNoQjs7RUFFQUksVUFBVUEsQ0FBQ0MsUUFBUSxFQUFFWCxRQUFRLEVBQUVDLElBQUksRUFBRTtJQUNqQyxNQUFNRixLQUFLLEdBQUcsSUFBSSxDQUFDRCxNQUFNLENBQUNrQixTQUFTLENBQUNMLFFBQVEsQ0FBQztJQUM3QyxJQUFJLENBQUNaLEtBQUssRUFBRTtNQUNSO0lBQ0o7O0lBRUE7SUFDQSxNQUFNa0IsT0FBTyxHQUFHLE1BQU07SUFDdEI7SUFDSUMsSUFBSSxDQUFDQyxHQUFHLENBQUNwQixLQUFLLENBQUNDLFFBQVEsQ0FBQ0ksQ0FBQyxHQUFHSixRQUFRLENBQUNJLENBQUMsQ0FBQyxHQUFHYSxPQUFPO0lBQzlDQyxJQUFJLENBQUNDLEdBQUcsQ0FBQ3BCLEtBQUssQ0FBQ0MsUUFBUSxDQUFDSyxDQUFDLEdBQUdMLFFBQVEsQ0FBQ0ssQ0FBQyxDQUFDLEdBQUdZLE9BQU87SUFDakRDLElBQUksQ0FBQ0MsR0FBRyxDQUFDcEIsS0FBSyxDQUFDRSxJQUFJLENBQUNHLENBQUMsR0FBR0gsSUFBSSxDQUFDRyxDQUFDLENBQUMsR0FBR2EsT0FBTztJQUN6Q0MsSUFBSSxDQUFDQyxHQUFHLENBQUNwQixLQUFLLENBQUNFLElBQUksQ0FBQ0ksQ0FBQyxHQUFHSixJQUFJLENBQUNJLENBQUMsQ0FBQyxHQUFHWSxPQUFPO0lBQzlDO01BQ0VsQixLQUFLLENBQUNxQixHQUFHLENBQUNwQixRQUFRLEVBQUVDLElBQUksQ0FBQztJQUM3QjtFQUNKOztFQUVBb0IsVUFBVUEsQ0FBQSxFQUFHO0lBQ1Q7TUFDSSxJQUFJLENBQUNsQixXQUFXLENBQUNDLENBQUMsS0FBSyxJQUFJLENBQUNHLFdBQVcsQ0FBQ0gsQ0FBQztNQUN0QyxJQUFJLENBQUNELFdBQVcsQ0FBQ0UsQ0FBQyxLQUFLLElBQUksQ0FBQ0UsV0FBVyxDQUFDRixDQUFDO01BQ3pDLElBQUksQ0FBQ0MsT0FBTyxDQUFDRixDQUFDLEtBQUssSUFBSSxDQUFDSSxPQUFPLENBQUNKLENBQUM7TUFDakMsSUFBSSxDQUFDRSxPQUFPLENBQUNELENBQUMsS0FBSyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0QsQ0FBQzs7RUFFNUM7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9TZXRTdGFtcC5qcz82MTUyIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRWRpdEFjdGlvbiB9IGZyb20gJy4vRWRpdEFjdGlvbic7XG5cbmV4cG9ydCB7IFNldFN0YW1wIH07XG5cbmNsYXNzIFNldFN0YW1wIGV4dGVuZHMgRWRpdEFjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZWRpdG9yLCBzdGFtcCwgcG9zaXRpb24sIHNpemUpIHtcbiAgICAgICAgc3VwZXIoZWRpdG9yLCAnU0VULVNUQU1QJywgc3RhbXAuaWQpO1xuXG4gICAgICAgIHRoaXMubmV3UG9zaXRpb24gPSB7eDogcG9zaXRpb24ueCwgeTogcG9zaXRpb24ueX07XG4gICAgICAgIHRoaXMubmV3U2l6ZSA9IHt4OiBzaXplLngsIHk6IHNpemUueX07XG4gICAgICAgIHRoaXMub2xkUG9zaXRpb24gPSB7eDogc3RhbXAucG9zaXRpb24ueCwgeTogc3RhbXAucG9zaXRpb24ueX07XG4gICAgICAgIHRoaXMub2xkU2l6ZSA9IHt4OiBzdGFtcC5zaXplLngsIHk6IHN0YW1wLnNpemUueX07XG4gICAgfVxuXG4gICAgcmVkbygpIHtcbiAgICAgICAgdGhpcy5hcHBseVN0YXRlKHRoaXMudGFyZ2V0SWQsIHRoaXMubmV3UG9zaXRpb24sIHRoaXMubmV3U2l6ZSk7XG4gICAgfVxuXG4gICAgdW5kbygpIHtcbiAgICAgICAgdGhpcy5hcHBseVN0YXRlKHRoaXMudGFyZ2V0SWQsIHRoaXMub2xkUG9zaXRpb24sIHRoaXMub2xkU2l6ZSk7XG4gICAgfVxuXG4gICAgbWVyZ2UoYWN0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLnRhcmdldElkID09PSBhY3Rpb24udGFyZ2V0SWQgJiYgdGhpcy50eXBlID09PSBhY3Rpb24udHlwZSkge1xuICAgICAgICAgICAgdGhpcy5uZXdQb3NpdGlvbiA9IGFjdGlvbi5uZXdQb3NpdGlvbjtcbiAgICAgICAgICAgIHRoaXMubmV3U2l6ZSA9IGFjdGlvbi5uZXdTaXplO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgYXBwbHlTdGF0ZSh0YXJnZXRJZCwgcG9zaXRpb24sIHNpemUpIHtcbiAgICAgICAgY29uc3Qgc3RhbXAgPSB0aGlzLmVkaXRvci5nZXRNYXJrdXAodGFyZ2V0SWQpO1xuICAgICAgICBpZiAoIXN0YW1wKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEaWZmZXJlbnQgc3Ryb2tlIHdpZHRocyBtYWtlIHBvc2l0aW9ucyBkaWZmZXIgYXQgc3ViLXBpeGVsIGxldmVsLlxuICAgICAgICBjb25zdCBlcHNpbG9uID0gMC4wMDAxO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICBNYXRoLmFicyhzdGFtcC5wb3NpdGlvbi54IC0gcG9zaXRpb24ueCkgPiBlcHNpbG9uXG4gICAgICAgICAgICB8fCBNYXRoLmFicyhzdGFtcC5wb3NpdGlvbi55IC0gcG9zaXRpb24ueSkgPiBlcHNpbG9uXG4gICAgICAgICAgICB8fCBNYXRoLmFicyhzdGFtcC5zaXplLnggLSBzaXplLngpID4gZXBzaWxvblxuICAgICAgICAgICAgfHwgTWF0aC5hYnMoc3RhbXAuc2l6ZS55IC0gc2l6ZS55KSA+IGVwc2lsb25cbiAgICAgICAgKSB7XG4gICAgICAgICAgICBzdGFtcC5zZXQocG9zaXRpb24sIHNpemUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNJZGVudGl0eSgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHRoaXMubmV3UG9zaXRpb24ueCA9PT0gdGhpcy5vbGRQb3NpdGlvbi54XG4gICAgICAgICAgICAmJiB0aGlzLm5ld1Bvc2l0aW9uLnkgPT09IHRoaXMub2xkUG9zaXRpb24ueVxuICAgICAgICAgICAgJiYgdGhpcy5uZXdTaXplLnggPT09IHRoaXMub2xkU2l6ZS54XG4gICAgICAgICAgICAmJiB0aGlzLm5ld1NpemUueSA9PT0gdGhpcy5uZXdTaXplLnlcbiAgICAgICAgKTtcbiAgICB9XG59Il0sIm5hbWVzIjpbIkVkaXRBY3Rpb24iLCJTZXRTdGFtcCIsImNvbnN0cnVjdG9yIiwiZWRpdG9yIiwic3RhbXAiLCJwb3NpdGlvbiIsInNpemUiLCJpZCIsIm5ld1Bvc2l0aW9uIiwieCIsInkiLCJuZXdTaXplIiwib2xkUG9zaXRpb24iLCJvbGRTaXplIiwicmVkbyIsImFwcGx5U3RhdGUiLCJ0YXJnZXRJZCIsInVuZG8iLCJtZXJnZSIsImFjdGlvbiIsInR5cGUiLCJnZXRNYXJrdXAiLCJlcHNpbG9uIiwiTWF0aCIsImFicyIsInNldCIsImlzSWRlbnRpdHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/SetStamp.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/SetStyle.js":
/*!*********************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/SetStyle.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SetStyle: () => (/* binding */ SetStyle)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n\n\n\n\n\n/**\n *\n * @param editor\n * @param markup\n * @param style\n * @constructor\n */\nfunction SetStyle(editor, markup, style) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'SET-STYLE', markup.id);\n\n  this.newStyle = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_1__.cloneStyle)(style);\n  this.oldStyle = markup.getStyle();\n}\n\nSetStyle.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nSetStyle.prototype.constructor = SetStyle;\n\nvar proto = SetStyle.prototype;\n\nproto.redo = function () {\n\n  var markup = this.editor.getMarkup(this.targetId);\n  markup && markup.setStyle(this.newStyle);\n};\n\nproto.undo = function () {\n\n  var markup = this.editor.getMarkup(this.targetId);\n  markup && markup.setStyle(this.oldStyle);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9TZXRTdHlsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBYTs7QUFFNkI7QUFDQzs7QUFFdkM7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTRSxRQUFRQSxDQUFDQyxNQUFNLEVBQUVDLE1BQU0sRUFBRUMsS0FBSyxFQUFFOztFQUU1Q0wsbURBQVUsQ0FBQ00sSUFBSSxDQUFDLElBQUksRUFBRUgsTUFBTSxFQUFFLFdBQVcsRUFBRUMsTUFBTSxDQUFDRyxFQUFFLENBQUM7O0VBRXJELElBQUksQ0FBQ0MsUUFBUSxHQUFHUCx1REFBVSxDQUFDSSxLQUFLLENBQUM7RUFDakMsSUFBSSxDQUFDSSxRQUFRLEdBQUdMLE1BQU0sQ0FBQ00sUUFBUSxDQUFDLENBQUM7QUFDckM7O0FBRUFSLFFBQVEsQ0FBQ1MsU0FBUyxHQUFHQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ2IsbURBQVUsQ0FBQ1csU0FBUyxDQUFDO0FBQ3hEVCxRQUFRLENBQUNTLFNBQVMsQ0FBQ0csV0FBVyxHQUFHWixRQUFROztBQUV6QyxJQUFJYSxLQUFLLEdBQUdiLFFBQVEsQ0FBQ1MsU0FBUzs7QUFFOUJJLEtBQUssQ0FBQ0MsSUFBSSxHQUFHLFlBQVc7O0VBRXBCLElBQUlaLE1BQU0sR0FBRyxJQUFJLENBQUNELE1BQU0sQ0FBQ2MsU0FBUyxDQUFDLElBQUksQ0FBQ0MsUUFBUSxDQUFDO0VBQ2pEZCxNQUFNLElBQUlBLE1BQU0sQ0FBQ2UsUUFBUSxDQUFDLElBQUksQ0FBQ1gsUUFBUSxDQUFDO0FBQzVDLENBQUM7O0FBRURPLEtBQUssQ0FBQ0ssSUFBSSxHQUFHLFlBQVc7O0VBRXBCLElBQUloQixNQUFNLEdBQUcsSUFBSSxDQUFDRCxNQUFNLENBQUNjLFNBQVMsQ0FBQyxJQUFJLENBQUNDLFFBQVEsQ0FBQztFQUNqRGQsTUFBTSxJQUFJQSxNQUFNLENBQUNlLFFBQVEsQ0FBQyxJQUFJLENBQUNWLFFBQVEsQ0FBQztBQUM1QyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvZWRpdC1hY3Rpb25zL1NldFN0eWxlLmpzP2I4MmUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBFZGl0QWN0aW9uIH0gZnJvbSAnLi9FZGl0QWN0aW9uJztcbmltcG9ydCB7IGNsb25lU3R5bGUgfSBmcm9tICcuLi9TdHlsZVV0aWxzJztcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGVkaXRvclxuICAgICAqIEBwYXJhbSBtYXJrdXBcbiAgICAgKiBAcGFyYW0gc3R5bGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gU2V0U3R5bGUoZWRpdG9yLCBtYXJrdXAsIHN0eWxlKSB7XG5cbiAgICAgICAgRWRpdEFjdGlvbi5jYWxsKHRoaXMsIGVkaXRvciwgJ1NFVC1TVFlMRScsIG1hcmt1cC5pZCk7XG5cbiAgICAgICAgdGhpcy5uZXdTdHlsZSA9IGNsb25lU3R5bGUoc3R5bGUpO1xuICAgICAgICB0aGlzLm9sZFN0eWxlID0gbWFya3VwLmdldFN0eWxlKCk7XG4gICAgfVxuXG4gICAgU2V0U3R5bGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFZGl0QWN0aW9uLnByb3RvdHlwZSk7XG4gICAgU2V0U3R5bGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2V0U3R5bGU7XG5cbiAgICB2YXIgcHJvdG8gPSBTZXRTdHlsZS5wcm90b3R5cGU7XG5cbiAgICBwcm90by5yZWRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIG1hcmt1cCA9IHRoaXMuZWRpdG9yLmdldE1hcmt1cCh0aGlzLnRhcmdldElkKTtcbiAgICAgICAgbWFya3VwICYmIG1hcmt1cC5zZXRTdHlsZSh0aGlzLm5ld1N0eWxlKTtcbiAgICB9O1xuXG4gICAgcHJvdG8udW5kbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBtYXJrdXAgPSB0aGlzLmVkaXRvci5nZXRNYXJrdXAodGhpcy50YXJnZXRJZCk7XG4gICAgICAgIG1hcmt1cCAmJiBtYXJrdXAuc2V0U3R5bGUodGhpcy5vbGRTdHlsZSk7XG4gICAgfTtcbiJdLCJuYW1lcyI6WyJFZGl0QWN0aW9uIiwiY2xvbmVTdHlsZSIsIlNldFN0eWxlIiwiZWRpdG9yIiwibWFya3VwIiwic3R5bGUiLCJjYWxsIiwiaWQiLCJuZXdTdHlsZSIsIm9sZFN0eWxlIiwiZ2V0U3R5bGUiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwicmVkbyIsImdldE1hcmt1cCIsInRhcmdldElkIiwic2V0U3R5bGUiLCJ1bmRvIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/SetStyle.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-actions/SetText.js":
/*!********************************************************!*\
  !*** ./extensions/Markup/core/edit-actions/SetText.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SetText: () => (/* binding */ SetText)\n/* harmony export */ });\n/* harmony import */ var _EditAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditAction */ \"./extensions/Markup/core/edit-actions/EditAction.js\");\n\n\n\n\n/**\n *\n * @param editor\n * @param markup\n * @param position\n * @param size\n * @param text\n * @constructor\n */\nfunction SetText(editor, markup, position, size, text) {\n\n  _EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.call(this, editor, 'SET-TEXT', markup.id);\n\n  this.newPosition = { x: position.x, y: position.y };\n  this.oldPosition = { x: markup.position.x, y: markup.position.y };\n  this.newSize = { x: size.x, y: size.y };\n  this.oldSize = { x: markup.size.x, y: markup.size.y };\n  this.newText = text;\n  this.oldText = markup.getText();\n}\n\nSetText.prototype = Object.create(_EditAction__WEBPACK_IMPORTED_MODULE_0__.EditAction.prototype);\nSetText.prototype.constructor = SetText;\n\nvar proto = SetText.prototype;\n\nproto.redo = function () {\n\n  var text = this.editor.getMarkup(this.targetId);\n  text && text.set(this.newPosition, this.newSize, this.newText);\n};\n\nproto.undo = function () {\n\n  var text = this.editor.getMarkup(this.targetId);\n  text && text.set(this.oldPosition, this.oldSize, this.oldText);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtYWN0aW9ucy9TZXRUZXh0LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWE7O0FBRTZCOztBQUV0QztBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTQyxPQUFPQSxDQUFDQyxNQUFNLEVBQUVDLE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBRTs7RUFFMUROLG1EQUFVLENBQUNPLElBQUksQ0FBQyxJQUFJLEVBQUVMLE1BQU0sRUFBRSxVQUFVLEVBQUVDLE1BQU0sQ0FBQ0ssRUFBRSxDQUFDOztFQUVwRCxJQUFJLENBQUNDLFdBQVcsR0FBRyxFQUFDQyxDQUFDLEVBQUVOLFFBQVEsQ0FBQ00sQ0FBQyxFQUFFQyxDQUFDLEVBQUVQLFFBQVEsQ0FBQ08sQ0FBQyxFQUFDO0VBQ2pELElBQUksQ0FBQ0MsV0FBVyxHQUFHLEVBQUNGLENBQUMsRUFBRVAsTUFBTSxDQUFDQyxRQUFRLENBQUNNLENBQUMsRUFBRUMsQ0FBQyxFQUFFUixNQUFNLENBQUNDLFFBQVEsQ0FBQ08sQ0FBQyxFQUFDO0VBQy9ELElBQUksQ0FBQ0UsT0FBTyxHQUFHLEVBQUNILENBQUMsRUFBRUwsSUFBSSxDQUFDSyxDQUFDLEVBQUVDLENBQUMsRUFBRU4sSUFBSSxDQUFDTSxDQUFDLEVBQUM7RUFDckMsSUFBSSxDQUFDRyxPQUFPLEdBQUcsRUFBQ0osQ0FBQyxFQUFFUCxNQUFNLENBQUNFLElBQUksQ0FBQ0ssQ0FBQyxFQUFFQyxDQUFDLEVBQUVSLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDTSxDQUFDLEVBQUM7RUFDbkQsSUFBSSxDQUFDSSxPQUFPLEdBQUdULElBQUk7RUFDbkIsSUFBSSxDQUFDVSxPQUFPLEdBQUdiLE1BQU0sQ0FBQ2MsT0FBTyxDQUFDLENBQUM7QUFDbkM7O0FBRUFoQixPQUFPLENBQUNpQixTQUFTLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDcEIsbURBQVUsQ0FBQ2tCLFNBQVMsQ0FBQztBQUN2RGpCLE9BQU8sQ0FBQ2lCLFNBQVMsQ0FBQ0csV0FBVyxHQUFHcEIsT0FBTzs7QUFFdkMsSUFBSXFCLEtBQUssR0FBR3JCLE9BQU8sQ0FBQ2lCLFNBQVM7O0FBRTdCSSxLQUFLLENBQUNDLElBQUksR0FBRyxZQUFXOztFQUVwQixJQUFJakIsSUFBSSxHQUFHLElBQUksQ0FBQ0osTUFBTSxDQUFDc0IsU0FBUyxDQUFDLElBQUksQ0FBQ0MsUUFBUSxDQUFDO0VBQy9DbkIsSUFBSSxJQUFJQSxJQUFJLENBQUNvQixHQUFHLENBQUMsSUFBSSxDQUFDakIsV0FBVyxFQUFFLElBQUksQ0FBQ0ksT0FBTyxFQUFFLElBQUksQ0FBQ0UsT0FBTyxDQUFDO0FBQ2xFLENBQUM7O0FBRURPLEtBQUssQ0FBQ0ssSUFBSSxHQUFHLFlBQVc7O0VBRXBCLElBQUlyQixJQUFJLEdBQUcsSUFBSSxDQUFDSixNQUFNLENBQUNzQixTQUFTLENBQUMsSUFBSSxDQUFDQyxRQUFRLENBQUM7RUFDL0NuQixJQUFJLElBQUlBLElBQUksQ0FBQ29CLEdBQUcsQ0FBQyxJQUFJLENBQUNkLFdBQVcsRUFBRSxJQUFJLENBQUNFLE9BQU8sRUFBRSxJQUFJLENBQUNFLE9BQU8sQ0FBQztBQUNsRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvZWRpdC1hY3Rpb25zL1NldFRleHQuanM/YmM3YyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IEVkaXRBY3Rpb24gfSBmcm9tICcuL0VkaXRBY3Rpb24nO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWRpdG9yXG4gICAgICogQHBhcmFtIG1hcmt1cFxuICAgICAqIEBwYXJhbSBwb3NpdGlvblxuICAgICAqIEBwYXJhbSBzaXplXG4gICAgICogQHBhcmFtIHRleHRcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gU2V0VGV4dChlZGl0b3IsIG1hcmt1cCwgcG9zaXRpb24sIHNpemUsIHRleHQpIHtcblxuICAgICAgICBFZGl0QWN0aW9uLmNhbGwodGhpcywgZWRpdG9yLCAnU0VULVRFWFQnLCBtYXJrdXAuaWQpO1xuXG4gICAgICAgIHRoaXMubmV3UG9zaXRpb24gPSB7eDogcG9zaXRpb24ueCwgeTogcG9zaXRpb24ueX07XG4gICAgICAgIHRoaXMub2xkUG9zaXRpb24gPSB7eDogbWFya3VwLnBvc2l0aW9uLngsIHk6IG1hcmt1cC5wb3NpdGlvbi55fTtcbiAgICAgICAgdGhpcy5uZXdTaXplID0ge3g6IHNpemUueCwgeTogc2l6ZS55fTtcbiAgICAgICAgdGhpcy5vbGRTaXplID0ge3g6IG1hcmt1cC5zaXplLngsIHk6IG1hcmt1cC5zaXplLnl9O1xuICAgICAgICB0aGlzLm5ld1RleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLm9sZFRleHQgPSBtYXJrdXAuZ2V0VGV4dCgpO1xuICAgIH1cblxuICAgIFNldFRleHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFZGl0QWN0aW9uLnByb3RvdHlwZSk7XG4gICAgU2V0VGV4dC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTZXRUZXh0O1xuXG4gICAgdmFyIHByb3RvID0gU2V0VGV4dC5wcm90b3R5cGU7XG5cbiAgICBwcm90by5yZWRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIHRleHQgPSB0aGlzLmVkaXRvci5nZXRNYXJrdXAodGhpcy50YXJnZXRJZCk7XG4gICAgICAgIHRleHQgJiYgdGV4dC5zZXQodGhpcy5uZXdQb3NpdGlvbiwgdGhpcy5uZXdTaXplLCB0aGlzLm5ld1RleHQpO1xuICAgIH07XG5cbiAgICBwcm90by51bmRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIHRleHQgPSB0aGlzLmVkaXRvci5nZXRNYXJrdXAodGhpcy50YXJnZXRJZCk7XG4gICAgICAgIHRleHQgJiYgdGV4dC5zZXQodGhpcy5vbGRQb3NpdGlvbiwgdGhpcy5vbGRTaXplLCB0aGlzLm9sZFRleHQpO1xuICAgIH07XG4iXSwibmFtZXMiOlsiRWRpdEFjdGlvbiIsIlNldFRleHQiLCJlZGl0b3IiLCJtYXJrdXAiLCJwb3NpdGlvbiIsInNpemUiLCJ0ZXh0IiwiY2FsbCIsImlkIiwibmV3UG9zaXRpb24iLCJ4IiwieSIsIm9sZFBvc2l0aW9uIiwibmV3U2l6ZSIsIm9sZFNpemUiLCJuZXdUZXh0Iiwib2xkVGV4dCIsImdldFRleHQiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwicmVkbyIsImdldE1hcmt1cCIsInRhcmdldElkIiwic2V0IiwidW5kbyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-actions/SetText.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-clipboard/Clipboard.js":
/*!************************************************************!*\
  !*** ./extensions/Markup/core/edit-clipboard/Clipboard.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Clipboard: () => (/* binding */ Clipboard)\n/* harmony export */ });\n/* harmony import */ var _edit_actions_CloneMarkup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../edit-actions/CloneMarkup */ \"./extensions/Markup/core/edit-actions/CloneMarkup.js\");\n/* harmony import */ var _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MarkupsCoreUtils */ \"./extensions/Markup/core/MarkupsCoreUtils.js\");\n\n\n\n\n\n/**\n *\n * @param editor\n * @constructor\n */\nfunction Clipboard(editor) {\n\n  this.editor = editor;\n  this.content = null;\n  this.pastePosition = { x: 0, y: 0 };\n\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_1__.addTraitEventDispatcher)(this);\n}\n\nvar proto = Clipboard.prototype;\n\nproto.copy = function () {\n\n  var selectedMarkup = this.editor.getSelection();\n  if (!selectedMarkup) {\n    return;\n  }\n\n  this.content = selectedMarkup.clone();\n  this.pastePosition.x = selectedMarkup.position.x;\n  this.pastePosition.y = selectedMarkup.position.y;\n};\n\nproto.cut = function () {\n\n  var selectedMarkup = this.editor.getSelection();\n  if (!selectedMarkup) {\n    return;\n  }\n\n  this.copy();\n  this.editor.deleteMarkup(selectedMarkup);\n};\n\nproto.paste = function () {\n\n  var content = this.content;\n  if (!content) {\n    return;\n  }\n\n  var editor = this.editor;\n  var position = this.pastePosition;\n  var delta = editor.sizeFromClientToMarkups(20, 20);\n\n  position.x += delta.x;\n  position.y -= delta.y;\n\n  var cloneMarkup = new _edit_actions_CloneMarkup__WEBPACK_IMPORTED_MODULE_0__.CloneMarkup(editor, editor.getId(), content, position);\n  cloneMarkup.execute();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtY2xpcGJvYXJkL0NsaXBib2FyZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBYTs7QUFFNkM7QUFDSTs7QUFFMUQ7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNXLFNBQVNFLFNBQVNBLENBQUNDLE1BQU0sRUFBRTs7RUFFOUIsSUFBSSxDQUFDQSxNQUFNLEdBQUdBLE1BQU07RUFDcEIsSUFBSSxDQUFDQyxPQUFPLEdBQUcsSUFBSTtFQUNuQixJQUFJLENBQUNDLGFBQWEsR0FBRyxFQUFDQyxDQUFDLEVBQUMsQ0FBQyxFQUFFQyxDQUFDLEVBQUUsQ0FBQyxFQUFDOztFQUVoQ04sMEVBQXVCLENBQUMsSUFBSSxDQUFDO0FBQ2pDOztBQUVBLElBQUlPLEtBQUssR0FBR04sU0FBUyxDQUFDTyxTQUFTOztBQUUvQkQsS0FBSyxDQUFDRSxJQUFJLEdBQUcsWUFBVzs7RUFFcEIsSUFBSUMsY0FBYyxHQUFHLElBQUksQ0FBQ1IsTUFBTSxDQUFDUyxZQUFZLENBQUMsQ0FBQztFQUMvQyxJQUFHLENBQUNELGNBQWMsRUFBRTtJQUNoQjtFQUNKOztFQUVBLElBQUksQ0FBQ1AsT0FBTyxHQUFHTyxjQUFjLENBQUNFLEtBQUssQ0FBQyxDQUFDO0VBQ3JDLElBQUksQ0FBQ1IsYUFBYSxDQUFDQyxDQUFDLEdBQUdLLGNBQWMsQ0FBQ0csUUFBUSxDQUFDUixDQUFDO0VBQ2hELElBQUksQ0FBQ0QsYUFBYSxDQUFDRSxDQUFDLEdBQUdJLGNBQWMsQ0FBQ0csUUFBUSxDQUFDUCxDQUFDO0FBQ3BELENBQUM7O0FBRURDLEtBQUssQ0FBQ08sR0FBRyxHQUFHLFlBQVc7O0VBRW5CLElBQUlKLGNBQWMsR0FBRyxJQUFJLENBQUNSLE1BQU0sQ0FBQ1MsWUFBWSxDQUFDLENBQUM7RUFDL0MsSUFBRyxDQUFDRCxjQUFjLEVBQUU7SUFDaEI7RUFDSjs7RUFFQSxJQUFJLENBQUNELElBQUksQ0FBQyxDQUFDO0VBQ1gsSUFBSSxDQUFDUCxNQUFNLENBQUNhLFlBQVksQ0FBQ0wsY0FBYyxDQUFDO0FBQzVDLENBQUM7O0FBRURILEtBQUssQ0FBQ1MsS0FBSyxHQUFHLFlBQVc7O0VBRXJCLElBQUliLE9BQU8sR0FBRyxJQUFJLENBQUNBLE9BQU87RUFDMUIsSUFBRyxDQUFDQSxPQUFPLEVBQUU7SUFDVDtFQUNKOztFQUVBLElBQUlELE1BQU0sR0FBRyxJQUFJLENBQUNBLE1BQU07RUFDeEIsSUFBSVcsUUFBUSxHQUFHLElBQUksQ0FBQ1QsYUFBYTtFQUNqQyxJQUFJYSxLQUFLLEdBQUdmLE1BQU0sQ0FBQ2dCLHVCQUF1QixDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUM7O0VBRWxETCxRQUFRLENBQUNSLENBQUMsSUFBSVksS0FBSyxDQUFDWixDQUFDO0VBQ3JCUSxRQUFRLENBQUNQLENBQUMsSUFBSVcsS0FBSyxDQUFDWCxDQUFDOztFQUVyQixJQUFJYSxXQUFXLEdBQUcsSUFBSXBCLGtFQUFXLENBQUNHLE1BQU0sRUFBRUEsTUFBTSxDQUFDa0IsS0FBSyxDQUFDLENBQUMsRUFBRWpCLE9BQU8sRUFBRVUsUUFBUSxDQUFDO0VBQzVFTSxXQUFXLENBQUNFLE9BQU8sQ0FBQyxDQUFDO0FBQ3pCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9lZGl0LWNsaXBib2FyZC9DbGlwYm9hcmQuanM/NDY0NCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IENsb25lTWFya3VwIH0gZnJvbSAnLi4vZWRpdC1hY3Rpb25zL0Nsb25lTWFya3VwJztcbmltcG9ydCB7IGFkZFRyYWl0RXZlbnREaXNwYXRjaGVyIH0gZnJvbSAnLi4vTWFya3Vwc0NvcmVVdGlscyc7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlZGl0b3JcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gQ2xpcGJvYXJkKGVkaXRvcikge1xuXG4gICAgICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuICAgICAgICB0aGlzLmNvbnRlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnBhc3RlUG9zaXRpb24gPSB7eDowLCB5OiAwfTtcblxuICAgICAgICBhZGRUcmFpdEV2ZW50RGlzcGF0Y2hlcih0aGlzKTtcbiAgICB9XG5cbiAgICB2YXIgcHJvdG8gPSBDbGlwYm9hcmQucHJvdG90eXBlO1xuXG4gICAgcHJvdG8uY29weSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBzZWxlY3RlZE1hcmt1cCA9IHRoaXMuZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuICAgICAgICBpZighc2VsZWN0ZWRNYXJrdXApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29udGVudCA9IHNlbGVjdGVkTWFya3VwLmNsb25lKCk7XG4gICAgICAgIHRoaXMucGFzdGVQb3NpdGlvbi54ID0gc2VsZWN0ZWRNYXJrdXAucG9zaXRpb24ueDtcbiAgICAgICAgdGhpcy5wYXN0ZVBvc2l0aW9uLnkgPSBzZWxlY3RlZE1hcmt1cC5wb3NpdGlvbi55O1xuICAgIH07XG5cbiAgICBwcm90by5jdXQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgc2VsZWN0ZWRNYXJrdXAgPSB0aGlzLmVkaXRvci5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgaWYoIXNlbGVjdGVkTWFya3VwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvcHkoKTtcbiAgICAgICAgdGhpcy5lZGl0b3IuZGVsZXRlTWFya3VwKHNlbGVjdGVkTWFya3VwKTtcbiAgICB9O1xuXG4gICAgcHJvdG8ucGFzdGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgY29udGVudCA9IHRoaXMuY29udGVudDtcbiAgICAgICAgaWYoIWNvbnRlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5wYXN0ZVBvc2l0aW9uO1xuICAgICAgICB2YXIgZGVsdGEgPSBlZGl0b3Iuc2l6ZUZyb21DbGllbnRUb01hcmt1cHMoMjAsIDIwKTtcblxuICAgICAgICBwb3NpdGlvbi54ICs9IGRlbHRhLng7XG4gICAgICAgIHBvc2l0aW9uLnkgLT0gZGVsdGEueTtcblxuICAgICAgICB2YXIgY2xvbmVNYXJrdXAgPSBuZXcgQ2xvbmVNYXJrdXAoZWRpdG9yLCBlZGl0b3IuZ2V0SWQoKSwgY29udGVudCwgcG9zaXRpb24pO1xuICAgICAgICBjbG9uZU1hcmt1cC5leGVjdXRlKCk7XG4gICAgfTtcbiJdLCJuYW1lcyI6WyJDbG9uZU1hcmt1cCIsImFkZFRyYWl0RXZlbnREaXNwYXRjaGVyIiwiQ2xpcGJvYXJkIiwiZWRpdG9yIiwiY29udGVudCIsInBhc3RlUG9zaXRpb24iLCJ4IiwieSIsInByb3RvIiwicHJvdG90eXBlIiwiY29weSIsInNlbGVjdGVkTWFya3VwIiwiZ2V0U2VsZWN0aW9uIiwiY2xvbmUiLCJwb3NpdGlvbiIsImN1dCIsImRlbGV0ZU1hcmt1cCIsInBhc3RlIiwiZGVsdGEiLCJzaXplRnJvbUNsaWVudFRvTWFya3VwcyIsImNsb25lTWFya3VwIiwiZ2V0SWQiLCJleGVjdXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-clipboard/Clipboard.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-input/InputHandler.js":
/*!***********************************************************!*\
  !*** ./extensions/Markup/core/edit-input/InputHandler.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InputHandler: () => (/* binding */ InputHandler)\n/* harmony export */ });\n/* harmony import */ var _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../MarkupsCoreUtils */ \"./extensions/Markup/core/MarkupsCoreUtils.js\");\n\n\n\n\nvar av = Autodesk.Viewing;\nvar avp = av.Private;\n\nvar _mouseEnabled = false;\nvar _mousePrevValue = false;\nvar _lock = false;\n\nfunction InputHandler() {\n\n  this.editor = null;\n  this.mousePosition = { x: 0, y: 0 };\n  this.makeSameXY = false; // TODO: FIND a better way to name and communicate these.\n  this.snapRotations = false;\n  this.keepAspectRatio = false;\n  this.constrainAxis = false;\n  this.duringEditMode = false;\n\n  this.onWheelBinded = this.onWheel.bind(this);\n  this.onTouchDragBinded = this.onTouchDrag.bind(this);\n  this.onTouchPanBinded = this.onTouchPan.bind(this);\n  this.onTouchPinchBinded = this.onTouchPinch.bind(this);\n  this.onSingleTapBinded = this.onSingleTap.bind(this);\n  this.onDoubleTapBinded = this.onDoubleTap.bind(this);\n  this.onMouseMoveBinded = this.onMouseMove.bind(this);\n  this.onMouseUpBinded = this.onMouseUp.bind(this);\n  this.onMouseDownBinded = this.onMouseDown.bind(this);\n  this.onMouseDoubleClickBinded = this.onMouseDoubleClick.bind(this);\n  this.onHammerInputBinded = this.onHammerInput.bind(this);\n  this.isMouseDown = false;\n}\n\nav.GlobalManagerMixin.call(InputHandler.prototype);\nvar proto = InputHandler.prototype;\n\nproto.attachTo = function (editor) {\n\n  this.editor && this.detachFrom(this.editor);\n  this.editor = editor;\n\n  if ((0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_0__.isTouchDevice)()) {\n\n    this.hammer = new av.Hammer.Manager(editor.svg, {\n      recognizers: [\n      av.GestureRecognizers.drag,\n      av.GestureRecognizers.doubletap,\n      av.GestureRecognizers.doubletap2,\n      av.GestureRecognizers.singletap,\n      av.GestureRecognizers.singletap2,\n      av.GestureRecognizers.press,\n      av.GestureRecognizers.pan,\n      av.GestureRecognizers.pinch],\n\n      handlePointerEventMouse: false,\n      inputClass: av.Hammer.TouchInput\n    });\n\n    this.hammer.get('doubletap2').recognizeWith('doubletap');\n    this.hammer.get('singletap2').recognizeWith('singletap');\n    this.hammer.get('singletap').requireFailure('doubletap');\n  }\n};\n\nproto.onHammerInput = function (event) {\n\n  this.setMouseDisabledWhenTouching(event);\n};\n\nproto.setMouseDisabledWhenTouching = function (event) {\n\n  if (event.isFirst && !_lock) {\n    this.enableMouseButtons(false);\n    _lock = true;\n  } else if (event.isFinal) {\n    var _this = this;\n    setTimeout(function () {\n      _this.enableMouseButtons(_mousePrevValue);\n      _lock = false;\n    }, 10);\n  }\n};\n\nproto.enableMouseButtons = function (state) {\n\n  if (state && !_mouseEnabled)\n  {\n    this.editor.svg.addEventListener('mousedown', this.onMouseDownBinded);\n    this.editor.svg.addEventListener('dblclick', this.onMouseDoubleClickBinded);\n    this.editor.svg.addEventListener('wheel', this.onWheelBinded);\n    this.editor.svg.addEventListener('DOMMouseScroll', this.onWheelBinded); // Firefox\n\n    // The mouseup and mousemove listeners are at the document level to handle the case where\n    // mouse was held inside the canvas and released outside.\n    // When this happens, we don't want the editing to be in a hung state and cancel it\n    this.addDocumentEventListener('mousemove', this.onMouseMoveBinded);\n    this.addDocumentEventListener('mouseup', this.onMouseUpBinded);\n  } else\n  if (!state && _mouseEnabled)\n  {\n    this.editor.svg.removeEventListener('mousedown', this.onMouseDownBinded);\n    this.editor.svg.removeEventListener('dblclick', this.onMouseDoubleClickBinded);\n    this.editor.svg.removeEventListener('wheel', this.onWheelBinded);\n    this.editor.svg.removeEventListener('DOMMouseScroll', this.onWheelBinded);\n    this.removeDocumentEventListener('mousemove', this.onMouseMoveBinded);\n    this.removeDocumentEventListener('mouseup', this.onMouseUpBinded);\n\n  }\n\n  _mousePrevValue = _mouseEnabled;\n  _mouseEnabled = state;\n};\n\nproto.detachFrom = function (editor) {\n\n  this.hammer && this.hammer.destroy();\n\n  this.removeDocumentEventListener('mousemove', this.onMouseMoveBinded);\n  this.removeDocumentEventListener('mouseup', this.onMouseUpBinded);\n\n  if (this.editor) {\n    this.editor.svg.removeEventListener('mousedown', this.onMouseDownBinded);\n    this.editor.svg.removeEventListener('dblclick', this.onMouseDoubleClickBinded);\n  }\n\n  this.editor = editor;\n};\n\nproto.enterEditMode = function () {\n  if (this.duringEditMode) {\n    return;\n  }\n\n  if (this.hammer) {\n    this.hammer.on('dragstart dragmove dragend', this.onTouchDragBinded);\n    this.hammer.on('panstart panmove panend', this.onTouchPanBinded);\n    this.hammer.on('pinchstart pinchmove pinchend', this.onTouchPinchBinded);\n    this.hammer.on('singletap', this.onSingleTapBinded);\n    this.hammer.on('singletap2', this.onSingleTapBinded);\n    this.hammer.on('doubletap', this.onDoubleTapBinded);\n    this.hammer.on('doubletap2', this.onDoubleTapBinded);\n    this.hammer.on('hammer.input', this.onHammerInputBinded);\n\n    this.hammer.get('drag').requireFailure('pinch');\n    this.hammer.get('drag').requireFailure('pan');\n  }\n\n  if (!av.isMobileDevice()) {\n    this.enableMouseButtons(true);\n  }\n\n  this.duringEditMode = true;\n};\n\nproto.leaveEditMode = function () {\n  if (!this.duringEditMode) {\n    return;\n  }\n\n  if (this.hammer) {\n    this.hammer.off('dragstart dragmove dragend', this.onTouchDragBinded);\n    this.hammer.off('panstart panmove panend', this.onTouchPanBinded);\n    this.hammer.off('pinchstart pinchmove pinchend', this.onTouchPinchBinded);\n    this.hammer.off('singletap', this.onSingleTapBinded);\n    this.hammer.off('singletap2', this.onSingleTapBinded);\n    this.hammer.off('doubletap', this.onDoubleTapBinded);\n    this.hammer.off('doubletap2', this.onDoubleTapBinded);\n    this.hammer.off('hammer.input', this.onHammerInputBinded);\n  }\n\n  if (!av.isMobileDevice()) {\n    this.enableMouseButtons(false);\n  }\n\n  this.duringEditMode = false;\n};\n\nproto.enterViewMode = function () {\n\n};\n\nproto.leaveViewMode = function () {\n\n};\n\nproto.getMousePosition = function () {\n\n  return { x: this.mousePosition.x, y: this.mousePosition.y };\n};\n\nproto.onWheel = function (event) {\n\n  if (!av.isMobileDevice()) {\n    this.editor.viewer.toolController.mousewheel(event);\n  }\n\n  event.preventDefault();\n};\n\nproto.onMouseMove = function (event) {\n\n  processMouseEvent(this, event);\n\n  if (!av.isMobileDevice() && this.editor.viewer.container.contains(event.target)) {\n    this.editor.viewer.toolController.mousemove(event);\n  }\n\n  if (this.editor.onMouseMove(event)) {\n    // editor handled the event\n    event.preventDefault();\n  }\n};\n\n\nproto.onMouseDownRightClick = function (event) {\n\n  const _document = this.getDocument();\n  _document.activeElement && _document.activeElement.blur && _document.activeElement.blur();\n\n  var controller = this.editor.viewer.toolController;\n  controller.__clientToCanvasCoords(event);\n\n  this.editor.markupTool.handleButtonDown(event, 2);\n};\n\nproto.onMouseUpRightClick = function (event) {\n\n  var controller = this.editor.viewer.toolController;\n  controller.__clientToCanvasCoords(event);\n\n  this.editor.markupTool.handleButtonUp(event, 2);\n};\n\nproto.onMouseDown = function (event) {\n\n  processMouseEvent(this, event);\n\n  // Panning when right clicking\n  if (!av.isMobileDevice() && (avp.isRightClick(event, this.editor.viewer.navigation) || avp.isMiddleClick(event))) {\n    this.onMouseDownRightClick(event);\n    return;\n  }\n\n  this.isMouseDown = true;\n  this.editor.onMouseDown(event);\n  event.preventDefault();\n};\n\nproto.onMouseUp = function (event) {\n\n  processMouseEvent(this, event);\n\n  if (!av.isMobileDevice() && this.editor.viewer.container.contains(event.target) && (\n  avp.isRightClick(event, this.editor.viewer.navigation) || avp.isMiddleClick(event)))\n  {\n    this.onMouseUpRightClick(event);\n    return;\n  }\n\n  this.isMouseDown = false;\n  if (this.editor.onMouseUp(event)) {\n    // editor handled the event\n    event.preventDefault();\n  }\n};\n\nproto.onMouseDoubleClick = function (event) {\n\n  processMouseEvent(this, event);\n  this.editor.onMouseDoubleClick(event);\n  event.preventDefault();\n};\n\nproto.onTouchDrag = function (event) {\n\n  convertEventHammerToMouse(event);\n  switch (event.type) {\n    case 'dragstart':\n      this.onMouseDown(event);\n      break;\n    case 'dragmove':\n      this.onMouseMove(event);\n      break;\n    case 'dragend':\n      this.onMouseUp(event);\n      break;\n  }\n  event.preventDefault();\n};\n\nproto.onTouchPan = function (event) {\n\n  var gestureHandler = this.editor.viewer.toolController.getTool(\"gestures\");\n  gestureHandler.distributeGesture(event);\n  event.preventDefault();\n};\n\nproto.onTouchPinch = function (event) {\n\n  processMouseEvent(this, event);\n\n  var gestureHandler = this.editor.viewer.toolController.getTool(\"gestures\");\n  gestureHandler.distributeGesture(event);\n\n  this.mousePosition.x = this.mousePosition.y = null;\n  this.editor.callSnapperMouseMove();\n\n  event.preventDefault();\n};\n\nproto.onSingleTap = function (event) {\n\n  convertEventHammerToMouse(event);\n\n  this.onMouseDown(event);\n  this.onMouseUp(event);\n  event.preventDefault();\n};\n\nproto.onDoubleTap = function (event) {\n\n  convertEventHammerToMouse(event);\n  this.onMouseDoubleClick(event);\n  event.preventDefault();\n};\n\nfunction processMouseEvent(input, event) {\n\n  var rect = input.editor.svg.getBoundingClientRect();\n\n  input.makeSameXY = event.shiftKey;\n  input.snapRotations = event.shiftKey;\n  input.keepAspectRatio = event.shiftKey;\n  input.constrainAxis = event.shiftKey;\n\n  input.mousePosition.x = event.clientX - rect.left;\n  input.mousePosition.y = event.clientY - rect.top;\n}\n\nfunction convertEventHammerToMouse(event) {\n\n  // Convert Hammer touch-event X,Y into mouse-event X,Y.\n  event.shiftKey = false;\n  event.clientX = event.pointers[0].clientX;\n  event.clientY = event.pointers[0].clientY;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtaW5wdXQvSW5wdXRIYW5kbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWE7O0FBRXVDOztBQUVoRCxJQUFJQyxFQUFFLEdBQUdDLFFBQVEsQ0FBQ0MsT0FBTztBQUN6QixJQUFJQyxHQUFHLEdBQUdILEVBQUUsQ0FBQ0ksT0FBTzs7QUFFcEIsSUFBSUMsYUFBYSxHQUFHLEtBQUs7QUFDekIsSUFBSUMsZUFBZSxHQUFHLEtBQUs7QUFDM0IsSUFBSUMsS0FBSyxHQUFHLEtBQUs7O0FBRVYsU0FBU0MsWUFBWUEsQ0FBQSxFQUFHOztFQUUzQixJQUFJLENBQUNDLE1BQU0sR0FBRyxJQUFJO0VBQ2xCLElBQUksQ0FBQ0MsYUFBYSxHQUFHLEVBQUNDLENBQUMsRUFBQyxDQUFDLEVBQUVDLENBQUMsRUFBQyxDQUFDLEVBQUM7RUFDL0IsSUFBSSxDQUFDQyxVQUFVLEdBQUcsS0FBSyxDQUFDLENBQUM7RUFDekIsSUFBSSxDQUFDQyxhQUFhLEdBQUcsS0FBSztFQUMxQixJQUFJLENBQUNDLGVBQWUsR0FBRyxLQUFLO0VBQzVCLElBQUksQ0FBQ0MsYUFBYSxHQUFHLEtBQUs7RUFDMUIsSUFBSSxDQUFDQyxjQUFjLEdBQUcsS0FBSzs7RUFFM0IsSUFBSSxDQUFDQyxhQUFhLEdBQUcsSUFBSSxDQUFDQyxPQUFPLENBQUNDLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDNUMsSUFBSSxDQUFDQyxpQkFBaUIsR0FBRyxJQUFJLENBQUNDLFdBQVcsQ0FBQ0YsSUFBSSxDQUFDLElBQUksQ0FBQztFQUNwRCxJQUFJLENBQUNHLGdCQUFnQixHQUFHLElBQUksQ0FBQ0MsVUFBVSxDQUFDSixJQUFJLENBQUMsSUFBSSxDQUFDO0VBQ2xELElBQUksQ0FBQ0ssa0JBQWtCLEdBQUcsSUFBSSxDQUFDQyxZQUFZLENBQUNOLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDdEQsSUFBSSxDQUFDTyxpQkFBaUIsR0FBRyxJQUFJLENBQUNDLFdBQVcsQ0FBQ1IsSUFBSSxDQUFDLElBQUksQ0FBQztFQUNwRCxJQUFJLENBQUNTLGlCQUFpQixHQUFHLElBQUksQ0FBQ0MsV0FBVyxDQUFDVixJQUFJLENBQUMsSUFBSSxDQUFDO0VBQ3BELElBQUksQ0FBQ1csaUJBQWlCLEdBQUcsSUFBSSxDQUFDQyxXQUFXLENBQUNaLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDcEQsSUFBSSxDQUFDYSxlQUFlLEdBQUcsSUFBSSxDQUFDQyxTQUFTLENBQUNkLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDaEQsSUFBSSxDQUFDZSxpQkFBaUIsR0FBRyxJQUFJLENBQUNDLFdBQVcsQ0FBQ2hCLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDcEQsSUFBSSxDQUFDaUIsd0JBQXdCLEdBQUcsSUFBSSxDQUFDQyxrQkFBa0IsQ0FBQ2xCLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDbEUsSUFBSSxDQUFDbUIsbUJBQW1CLEdBQUcsSUFBSSxDQUFDQyxhQUFhLENBQUNwQixJQUFJLENBQUMsSUFBSSxDQUFDO0VBQ3hELElBQUksQ0FBQ3FCLFdBQVcsR0FBRyxLQUFLO0FBQzVCOztBQUVBekMsRUFBRSxDQUFDMEMsa0JBQWtCLENBQUNDLElBQUksQ0FBQ25DLFlBQVksQ0FBQ29DLFNBQVMsQ0FBQztBQUNsRCxJQUFJQyxLQUFLLEdBQUdyQyxZQUFZLENBQUNvQyxTQUFTOztBQUVsQ0MsS0FBSyxDQUFDQyxRQUFRLEdBQUcsVUFBU3JDLE1BQU0sRUFBRTs7RUFFOUIsSUFBSSxDQUFDQSxNQUFNLElBQUksSUFBSSxDQUFDc0MsVUFBVSxDQUFDLElBQUksQ0FBQ3RDLE1BQU0sQ0FBQztFQUMzQyxJQUFJLENBQUNBLE1BQU0sR0FBR0EsTUFBTTs7RUFFcEIsSUFBSVYsZ0VBQWEsQ0FBQyxDQUFDLEVBQUU7O0lBRWpCLElBQUksQ0FBQ2lELE1BQU0sR0FBRyxJQUFJaEQsRUFBRSxDQUFDaUQsTUFBTSxDQUFDQyxPQUFPLENBQUN6QyxNQUFNLENBQUMwQyxHQUFHLEVBQUU7TUFDNUNDLFdBQVcsRUFBRTtNQUNUcEQsRUFBRSxDQUFDcUQsa0JBQWtCLENBQUNDLElBQUk7TUFDMUJ0RCxFQUFFLENBQUNxRCxrQkFBa0IsQ0FBQ0UsU0FBUztNQUMvQnZELEVBQUUsQ0FBQ3FELGtCQUFrQixDQUFDRyxVQUFVO01BQ2hDeEQsRUFBRSxDQUFDcUQsa0JBQWtCLENBQUNJLFNBQVM7TUFDL0J6RCxFQUFFLENBQUNxRCxrQkFBa0IsQ0FBQ0ssVUFBVTtNQUNoQzFELEVBQUUsQ0FBQ3FELGtCQUFrQixDQUFDTSxLQUFLO01BQzNCM0QsRUFBRSxDQUFDcUQsa0JBQWtCLENBQUNPLEdBQUc7TUFDekI1RCxFQUFFLENBQUNxRCxrQkFBa0IsQ0FBQ1EsS0FBSyxDQUM5Qjs7TUFDREMsdUJBQXVCLEVBQUUsS0FBSztNQUM5QkMsVUFBVSxFQUFFL0QsRUFBRSxDQUFDaUQsTUFBTSxDQUFDZTtJQUMxQixDQUFDLENBQUM7O0lBRUYsSUFBSSxDQUFDaEIsTUFBTSxDQUFDaUIsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDQyxhQUFhLENBQUMsV0FBVyxDQUFDO0lBQ3hELElBQUksQ0FBQ2xCLE1BQU0sQ0FBQ2lCLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQ0MsYUFBYSxDQUFDLFdBQVcsQ0FBQztJQUN4RCxJQUFJLENBQUNsQixNQUFNLENBQUNpQixHQUFHLENBQUMsV0FBVyxDQUFDLENBQUNFLGNBQWMsQ0FBQyxXQUFXLENBQUM7RUFDNUQ7QUFDSixDQUFDOztBQUVEdEIsS0FBSyxDQUFDTCxhQUFhLEdBQUcsVUFBUzRCLEtBQUssRUFBRTs7RUFFbEMsSUFBSSxDQUFDQyw0QkFBNEIsQ0FBQ0QsS0FBSyxDQUFDO0FBQzVDLENBQUM7O0FBRUR2QixLQUFLLENBQUN3Qiw0QkFBNEIsR0FBRyxVQUFTRCxLQUFLLEVBQUU7O0VBRWpELElBQUlBLEtBQUssQ0FBQ0UsT0FBTyxJQUFJLENBQUMvRCxLQUFLLEVBQUU7SUFDekIsSUFBSSxDQUFDZ0Usa0JBQWtCLENBQUMsS0FBSyxDQUFDO0lBQzlCaEUsS0FBSyxHQUFHLElBQUk7RUFDaEIsQ0FBQyxNQUFNLElBQUk2RCxLQUFLLENBQUNJLE9BQU8sRUFBRTtJQUN0QixJQUFJQyxLQUFLLEdBQUcsSUFBSTtJQUNoQkMsVUFBVSxDQUFDLFlBQVc7TUFDbEJELEtBQUssQ0FBQ0Ysa0JBQWtCLENBQUNqRSxlQUFlLENBQUM7TUFDekNDLEtBQUssR0FBRyxLQUFLO0lBQ2pCLENBQUMsRUFBRSxFQUFFLENBQUM7RUFDVjtBQUNKLENBQUM7O0FBRURzQyxLQUFLLENBQUMwQixrQkFBa0IsR0FBRyxVQUFTSSxLQUFLLEVBQUU7O0VBRXZDLElBQUlBLEtBQUssSUFBSSxDQUFDdEUsYUFBYTtFQUMzQjtJQUNJLElBQUksQ0FBQ0ksTUFBTSxDQUFDMEMsR0FBRyxDQUFDeUIsZ0JBQWdCLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQ3pDLGlCQUFpQixDQUFDO0lBQ3JFLElBQUksQ0FBQzFCLE1BQU0sQ0FBQzBDLEdBQUcsQ0FBQ3lCLGdCQUFnQixDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUN2Qyx3QkFBd0IsQ0FBQztJQUMzRSxJQUFJLENBQUM1QixNQUFNLENBQUMwQyxHQUFHLENBQUN5QixnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDMUQsYUFBYSxDQUFDO0lBQzdELElBQUksQ0FBQ1QsTUFBTSxDQUFDMEMsR0FBRyxDQUFDeUIsZ0JBQWdCLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDMUQsYUFBYSxDQUFDLENBQUMsQ0FBQzs7SUFFeEU7SUFDQTtJQUNBO0lBQ0EsSUFBSSxDQUFDMkQsd0JBQXdCLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQzlDLGlCQUFpQixDQUFDO0lBQ2xFLElBQUksQ0FBQzhDLHdCQUF3QixDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUM1QyxlQUFlLENBQUM7RUFDbEUsQ0FBQztFQUNJLElBQUksQ0FBQzBDLEtBQUssSUFBSXRFLGFBQWE7RUFDaEM7SUFDSSxJQUFJLENBQUNJLE1BQU0sQ0FBQzBDLEdBQUcsQ0FBQzJCLG1CQUFtQixDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMzQyxpQkFBaUIsQ0FBQztJQUN4RSxJQUFJLENBQUMxQixNQUFNLENBQUMwQyxHQUFHLENBQUMyQixtQkFBbUIsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDekMsd0JBQXdCLENBQUM7SUFDOUUsSUFBSSxDQUFDNUIsTUFBTSxDQUFDMEMsR0FBRyxDQUFDMkIsbUJBQW1CLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQzVELGFBQWEsQ0FBQztJQUNoRSxJQUFJLENBQUNULE1BQU0sQ0FBQzBDLEdBQUcsQ0FBQzJCLG1CQUFtQixDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQzVELGFBQWEsQ0FBQztJQUN6RSxJQUFJLENBQUM2RCwyQkFBMkIsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDaEQsaUJBQWlCLENBQUM7SUFDckUsSUFBSSxDQUFDZ0QsMkJBQTJCLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQzlDLGVBQWUsQ0FBQzs7RUFFckU7O0VBRUEzQixlQUFlLEdBQUdELGFBQWE7RUFDL0JBLGFBQWEsR0FBR3NFLEtBQUs7QUFDekIsQ0FBQzs7QUFFRDlCLEtBQUssQ0FBQ0UsVUFBVSxHQUFHLFVBQVN0QyxNQUFNLEVBQUU7O0VBRWhDLElBQUksQ0FBQ3VDLE1BQU0sSUFBSSxJQUFJLENBQUNBLE1BQU0sQ0FBQ2dDLE9BQU8sQ0FBQyxDQUFDOztFQUVwQyxJQUFJLENBQUNELDJCQUEyQixDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUNoRCxpQkFBaUIsQ0FBQztFQUNyRSxJQUFJLENBQUNnRCwyQkFBMkIsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDOUMsZUFBZSxDQUFDOztFQUVqRSxJQUFJLElBQUksQ0FBQ3hCLE1BQU0sRUFBRTtJQUNiLElBQUksQ0FBQ0EsTUFBTSxDQUFDMEMsR0FBRyxDQUFDMkIsbUJBQW1CLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQzNDLGlCQUFpQixDQUFDO0lBQ3hFLElBQUksQ0FBQzFCLE1BQU0sQ0FBQzBDLEdBQUcsQ0FBQzJCLG1CQUFtQixDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUN6Qyx3QkFBd0IsQ0FBQztFQUNsRjs7RUFFQSxJQUFJLENBQUM1QixNQUFNLEdBQUdBLE1BQU07QUFDeEIsQ0FBQzs7QUFFRG9DLEtBQUssQ0FBQ29DLGFBQWEsR0FBRyxZQUFXO0VBQzdCLElBQUksSUFBSSxDQUFDaEUsY0FBYyxFQUFFO0lBQ3JCO0VBQ0o7O0VBRUEsSUFBSSxJQUFJLENBQUMrQixNQUFNLEVBQUU7SUFDYixJQUFJLENBQUNBLE1BQU0sQ0FBQ2tDLEVBQUUsQ0FBQyw0QkFBNEIsRUFBRSxJQUFJLENBQUM3RCxpQkFBaUIsQ0FBQztJQUNwRSxJQUFJLENBQUMyQixNQUFNLENBQUNrQyxFQUFFLENBQUMseUJBQXlCLEVBQUUsSUFBSSxDQUFDM0QsZ0JBQWdCLENBQUM7SUFDaEUsSUFBSSxDQUFDeUIsTUFBTSxDQUFDa0MsRUFBRSxDQUFDLCtCQUErQixFQUFFLElBQUksQ0FBQ3pELGtCQUFrQixDQUFDO0lBQ3hFLElBQUksQ0FBQ3VCLE1BQU0sQ0FBQ2tDLEVBQUUsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDdkQsaUJBQWlCLENBQUM7SUFDbkQsSUFBSSxDQUFDcUIsTUFBTSxDQUFDa0MsRUFBRSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUN2RCxpQkFBaUIsQ0FBQztJQUNwRCxJQUFJLENBQUNxQixNQUFNLENBQUNrQyxFQUFFLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQ3JELGlCQUFpQixDQUFDO0lBQ25ELElBQUksQ0FBQ21CLE1BQU0sQ0FBQ2tDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDckQsaUJBQWlCLENBQUM7SUFDcEQsSUFBSSxDQUFDbUIsTUFBTSxDQUFDa0MsRUFBRSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMzQyxtQkFBbUIsQ0FBQzs7SUFFeEQsSUFBSSxDQUFDUyxNQUFNLENBQUNpQixHQUFHLENBQUMsTUFBTSxDQUFDLENBQUNFLGNBQWMsQ0FBQyxPQUFPLENBQUM7SUFDL0MsSUFBSSxDQUFDbkIsTUFBTSxDQUFDaUIsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDRSxjQUFjLENBQUMsS0FBSyxDQUFDO0VBQ2pEOztFQUVBLElBQUksQ0FBQ25FLEVBQUUsQ0FBQ21GLGNBQWMsQ0FBQyxDQUFDLEVBQUU7SUFDdEIsSUFBSSxDQUFDWixrQkFBa0IsQ0FBQyxJQUFJLENBQUM7RUFDakM7O0VBRUEsSUFBSSxDQUFDdEQsY0FBYyxHQUFHLElBQUk7QUFDOUIsQ0FBQzs7QUFFRDRCLEtBQUssQ0FBQ3VDLGFBQWEsR0FBRyxZQUFXO0VBQzdCLElBQUksQ0FBQyxJQUFJLENBQUNuRSxjQUFjLEVBQUU7SUFDdEI7RUFDSjs7RUFFQSxJQUFJLElBQUksQ0FBQytCLE1BQU0sRUFBRTtJQUNiLElBQUksQ0FBQ0EsTUFBTSxDQUFDcUMsR0FBRyxDQUFDLDRCQUE0QixFQUFFLElBQUksQ0FBQ2hFLGlCQUFpQixDQUFDO0lBQ3JFLElBQUksQ0FBQzJCLE1BQU0sQ0FBQ3FDLEdBQUcsQ0FBQyx5QkFBeUIsRUFBRSxJQUFJLENBQUM5RCxnQkFBZ0IsQ0FBQztJQUNqRSxJQUFJLENBQUN5QixNQUFNLENBQUNxQyxHQUFHLENBQUMsK0JBQStCLEVBQUUsSUFBSSxDQUFDNUQsa0JBQWtCLENBQUM7SUFDekUsSUFBSSxDQUFDdUIsTUFBTSxDQUFDcUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMxRCxpQkFBaUIsQ0FBQztJQUNwRCxJQUFJLENBQUNxQixNQUFNLENBQUNxQyxHQUFHLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQzFELGlCQUFpQixDQUFDO0lBQ3JELElBQUksQ0FBQ3FCLE1BQU0sQ0FBQ3FDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDeEQsaUJBQWlCLENBQUM7SUFDcEQsSUFBSSxDQUFDbUIsTUFBTSxDQUFDcUMsR0FBRyxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUN4RCxpQkFBaUIsQ0FBQztJQUNyRCxJQUFJLENBQUNtQixNQUFNLENBQUNxQyxHQUFHLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQzlDLG1CQUFtQixDQUFDO0VBQzdEOztFQUVBLElBQUksQ0FBQ3ZDLEVBQUUsQ0FBQ21GLGNBQWMsQ0FBQyxDQUFDLEVBQUU7SUFDdEIsSUFBSSxDQUFDWixrQkFBa0IsQ0FBQyxLQUFLLENBQUM7RUFDbEM7O0VBRUEsSUFBSSxDQUFDdEQsY0FBYyxHQUFHLEtBQUs7QUFDL0IsQ0FBQzs7QUFFRDRCLEtBQUssQ0FBQ3lDLGFBQWEsR0FBRyxZQUFXOztBQUVqQyxDQUFDOztBQUVEekMsS0FBSyxDQUFDMEMsYUFBYSxHQUFHLFlBQVc7O0FBRWpDLENBQUM7O0FBRUQxQyxLQUFLLENBQUMyQyxnQkFBZ0IsR0FBRyxZQUFXOztFQUVoQyxPQUFPLEVBQUM3RSxDQUFDLEVBQUUsSUFBSSxDQUFDRCxhQUFhLENBQUNDLENBQUMsRUFBRUMsQ0FBQyxFQUFFLElBQUksQ0FBQ0YsYUFBYSxDQUFDRSxDQUFDLEVBQUM7QUFDN0QsQ0FBQzs7QUFFRGlDLEtBQUssQ0FBQzFCLE9BQU8sR0FBRyxVQUFTaUQsS0FBSyxFQUFFOztFQUU1QixJQUFJLENBQUNwRSxFQUFFLENBQUNtRixjQUFjLENBQUMsQ0FBQyxFQUFFO0lBQ3RCLElBQUksQ0FBQzFFLE1BQU0sQ0FBQ2dGLE1BQU0sQ0FBQ0MsY0FBYyxDQUFDQyxVQUFVLENBQUN2QixLQUFLLENBQUM7RUFDdkQ7O0VBRUFBLEtBQUssQ0FBQ3dCLGNBQWMsQ0FBQyxDQUFDO0FBQzFCLENBQUM7O0FBRUQvQyxLQUFLLENBQUNiLFdBQVcsR0FBRyxVQUFTb0MsS0FBSyxFQUFFOztFQUVoQ3lCLGlCQUFpQixDQUFDLElBQUksRUFBRXpCLEtBQUssQ0FBQzs7RUFFOUIsSUFBSSxDQUFDcEUsRUFBRSxDQUFDbUYsY0FBYyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMxRSxNQUFNLENBQUNnRixNQUFNLENBQUNLLFNBQVMsQ0FBQ0MsUUFBUSxDQUFDM0IsS0FBSyxDQUFDNEIsTUFBTSxDQUFDLEVBQUU7SUFDN0UsSUFBSSxDQUFDdkYsTUFBTSxDQUFDZ0YsTUFBTSxDQUFDQyxjQUFjLENBQUNPLFNBQVMsQ0FBQzdCLEtBQUssQ0FBQztFQUN0RDs7RUFFQSxJQUFJLElBQUksQ0FBQzNELE1BQU0sQ0FBQ3VCLFdBQVcsQ0FBQ29DLEtBQUssQ0FBQyxFQUFFO0lBQ2hDO0lBQ0FBLEtBQUssQ0FBQ3dCLGNBQWMsQ0FBQyxDQUFDO0VBQzFCO0FBQ0osQ0FBQzs7O0FBR0QvQyxLQUFLLENBQUNxRCxxQkFBcUIsR0FBRyxVQUFTOUIsS0FBSyxFQUFFOztFQUUxQyxNQUFNK0IsU0FBUyxHQUFHLElBQUksQ0FBQ0MsV0FBVyxDQUFDLENBQUM7RUFDcENELFNBQVMsQ0FBQ0UsYUFBYSxJQUFJRixTQUFTLENBQUNFLGFBQWEsQ0FBQ0MsSUFBSSxJQUFJSCxTQUFTLENBQUNFLGFBQWEsQ0FBQ0MsSUFBSSxDQUFDLENBQUM7O0VBRXpGLElBQUlDLFVBQVUsR0FBRyxJQUFJLENBQUM5RixNQUFNLENBQUNnRixNQUFNLENBQUNDLGNBQWM7RUFDbERhLFVBQVUsQ0FBQ0Msc0JBQXNCLENBQUNwQyxLQUFLLENBQUM7O0VBRXhDLElBQUksQ0FBQzNELE1BQU0sQ0FBQ2dHLFVBQVUsQ0FBQ0MsZ0JBQWdCLENBQUN0QyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0FBQ3JELENBQUM7O0FBRUR2QixLQUFLLENBQUM4RCxtQkFBbUIsR0FBRyxVQUFTdkMsS0FBSyxFQUFFOztFQUV4QyxJQUFJbUMsVUFBVSxHQUFHLElBQUksQ0FBQzlGLE1BQU0sQ0FBQ2dGLE1BQU0sQ0FBQ0MsY0FBYztFQUNsRGEsVUFBVSxDQUFDQyxzQkFBc0IsQ0FBQ3BDLEtBQUssQ0FBQzs7RUFFeEMsSUFBSSxDQUFDM0QsTUFBTSxDQUFDZ0csVUFBVSxDQUFDRyxjQUFjLENBQUN4QyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0FBQ25ELENBQUM7O0FBRUR2QixLQUFLLENBQUNULFdBQVcsR0FBRyxVQUFTZ0MsS0FBSyxFQUFFOztFQUVoQ3lCLGlCQUFpQixDQUFDLElBQUksRUFBRXpCLEtBQUssQ0FBQzs7RUFFOUI7RUFDQSxJQUFJLENBQUNwRSxFQUFFLENBQUNtRixjQUFjLENBQUMsQ0FBQyxLQUFLaEYsR0FBRyxDQUFDMEcsWUFBWSxDQUFDekMsS0FBSyxFQUFFLElBQUksQ0FBQzNELE1BQU0sQ0FBQ2dGLE1BQU0sQ0FBQ3FCLFVBQVUsQ0FBQyxJQUFJM0csR0FBRyxDQUFDNEcsYUFBYSxDQUFDM0MsS0FBSyxDQUFDLENBQUMsRUFBRTtJQUM5RyxJQUFJLENBQUM4QixxQkFBcUIsQ0FBQzlCLEtBQUssQ0FBQztJQUNqQztFQUNKOztFQUVBLElBQUksQ0FBQzNCLFdBQVcsR0FBRyxJQUFJO0VBQ3ZCLElBQUksQ0FBQ2hDLE1BQU0sQ0FBQzJCLFdBQVcsQ0FBQ2dDLEtBQUssQ0FBQztFQUM5QkEsS0FBSyxDQUFDd0IsY0FBYyxDQUFDLENBQUM7QUFDMUIsQ0FBQzs7QUFFRC9DLEtBQUssQ0FBQ1gsU0FBUyxHQUFHLFVBQVNrQyxLQUFLLEVBQUU7O0VBRTlCeUIsaUJBQWlCLENBQUMsSUFBSSxFQUFFekIsS0FBSyxDQUFDOztFQUU5QixJQUFJLENBQUNwRSxFQUFFLENBQUNtRixjQUFjLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQzFFLE1BQU0sQ0FBQ2dGLE1BQU0sQ0FBQ0ssU0FBUyxDQUFDQyxRQUFRLENBQUMzQixLQUFLLENBQUM0QixNQUFNLENBQUM7RUFDekU3RixHQUFHLENBQUMwRyxZQUFZLENBQUN6QyxLQUFLLEVBQUUsSUFBSSxDQUFDM0QsTUFBTSxDQUFDZ0YsTUFBTSxDQUFDcUIsVUFBVSxDQUFDLElBQUkzRyxHQUFHLENBQUM0RyxhQUFhLENBQUMzQyxLQUFLLENBQUMsQ0FBQztFQUNwRjtJQUNELElBQUksQ0FBQ3VDLG1CQUFtQixDQUFDdkMsS0FBSyxDQUFDO0lBQy9CO0VBQ0o7O0VBRUEsSUFBSSxDQUFDM0IsV0FBVyxHQUFHLEtBQUs7RUFDeEIsSUFBSSxJQUFJLENBQUNoQyxNQUFNLENBQUN5QixTQUFTLENBQUNrQyxLQUFLLENBQUMsRUFBRTtJQUM5QjtJQUNBQSxLQUFLLENBQUN3QixjQUFjLENBQUMsQ0FBQztFQUMxQjtBQUNKLENBQUM7O0FBRUQvQyxLQUFLLENBQUNQLGtCQUFrQixHQUFHLFVBQVM4QixLQUFLLEVBQUU7O0VBRXZDeUIsaUJBQWlCLENBQUMsSUFBSSxFQUFFekIsS0FBSyxDQUFDO0VBQzlCLElBQUksQ0FBQzNELE1BQU0sQ0FBQzZCLGtCQUFrQixDQUFDOEIsS0FBSyxDQUFDO0VBQ3JDQSxLQUFLLENBQUN3QixjQUFjLENBQUMsQ0FBQztBQUMxQixDQUFDOztBQUVEL0MsS0FBSyxDQUFDdkIsV0FBVyxHQUFHLFVBQVM4QyxLQUFLLEVBQUU7O0VBRWhDNEMseUJBQXlCLENBQUM1QyxLQUFLLENBQUM7RUFDaEMsUUFBUUEsS0FBSyxDQUFDNkMsSUFBSTtJQUNoQixLQUFLLFdBQVc7TUFDVixJQUFJLENBQUM3RSxXQUFXLENBQUNnQyxLQUFLLENBQUM7TUFDdkI7SUFDSixLQUFLLFVBQVU7TUFDWCxJQUFJLENBQUNwQyxXQUFXLENBQUNvQyxLQUFLLENBQUM7TUFDdkI7SUFDTCxLQUFLLFNBQVM7TUFDVCxJQUFJLENBQUNsQyxTQUFTLENBQUNrQyxLQUFLLENBQUM7TUFDckI7RUFDUjtFQUNBQSxLQUFLLENBQUN3QixjQUFjLENBQUMsQ0FBQztBQUMxQixDQUFDOztBQUVEL0MsS0FBSyxDQUFDckIsVUFBVSxHQUFHLFVBQVM0QyxLQUFLLEVBQUU7O0VBRS9CLElBQUk4QyxjQUFjLEdBQUcsSUFBSSxDQUFDekcsTUFBTSxDQUFDZ0YsTUFBTSxDQUFDQyxjQUFjLENBQUN5QixPQUFPLENBQUMsVUFBVSxDQUFDO0VBQzFFRCxjQUFjLENBQUNFLGlCQUFpQixDQUFDaEQsS0FBSyxDQUFDO0VBQ3ZDQSxLQUFLLENBQUN3QixjQUFjLENBQUMsQ0FBQztBQUMxQixDQUFDOztBQUVEL0MsS0FBSyxDQUFDbkIsWUFBWSxHQUFHLFVBQVMwQyxLQUFLLEVBQUU7O0VBRWpDeUIsaUJBQWlCLENBQUMsSUFBSSxFQUFFekIsS0FBSyxDQUFDOztFQUU5QixJQUFJOEMsY0FBYyxHQUFHLElBQUksQ0FBQ3pHLE1BQU0sQ0FBQ2dGLE1BQU0sQ0FBQ0MsY0FBYyxDQUFDeUIsT0FBTyxDQUFDLFVBQVUsQ0FBQztFQUMxRUQsY0FBYyxDQUFDRSxpQkFBaUIsQ0FBQ2hELEtBQUssQ0FBQzs7RUFFdkMsSUFBSSxDQUFDMUQsYUFBYSxDQUFDQyxDQUFDLEdBQUcsSUFBSSxDQUFDRCxhQUFhLENBQUNFLENBQUMsR0FBRyxJQUFJO0VBQ2xELElBQUksQ0FBQ0gsTUFBTSxDQUFDNEcsb0JBQW9CLENBQUMsQ0FBQzs7RUFFbENqRCxLQUFLLENBQUN3QixjQUFjLENBQUMsQ0FBQztBQUMxQixDQUFDOztBQUVEL0MsS0FBSyxDQUFDakIsV0FBVyxHQUFHLFVBQVN3QyxLQUFLLEVBQUU7O0VBRWhDNEMseUJBQXlCLENBQUM1QyxLQUFLLENBQUM7O0VBRWhDLElBQUksQ0FBQ2hDLFdBQVcsQ0FBQ2dDLEtBQUssQ0FBQztFQUN2QixJQUFJLENBQUNsQyxTQUFTLENBQUNrQyxLQUFLLENBQUM7RUFDckJBLEtBQUssQ0FBQ3dCLGNBQWMsQ0FBQyxDQUFDO0FBQzFCLENBQUM7O0FBRUQvQyxLQUFLLENBQUNmLFdBQVcsR0FBRyxVQUFTc0MsS0FBSyxFQUFFOztFQUVoQzRDLHlCQUF5QixDQUFDNUMsS0FBSyxDQUFDO0VBQ2hDLElBQUksQ0FBQzlCLGtCQUFrQixDQUFDOEIsS0FBSyxDQUFDO0VBQzlCQSxLQUFLLENBQUN3QixjQUFjLENBQUMsQ0FBQztBQUMxQixDQUFDOztBQUVELFNBQVNDLGlCQUFpQkEsQ0FBQ3lCLEtBQUssRUFBRWxELEtBQUssRUFBRTs7RUFFckMsSUFBSW1ELElBQUksR0FBR0QsS0FBSyxDQUFDN0csTUFBTSxDQUFDMEMsR0FBRyxDQUFDcUUscUJBQXFCLENBQUMsQ0FBQzs7RUFFbkRGLEtBQUssQ0FBQ3pHLFVBQVUsR0FBR3VELEtBQUssQ0FBQ3FELFFBQVE7RUFDakNILEtBQUssQ0FBQ3hHLGFBQWEsR0FBR3NELEtBQUssQ0FBQ3FELFFBQVE7RUFDcENILEtBQUssQ0FBQ3ZHLGVBQWUsR0FBR3FELEtBQUssQ0FBQ3FELFFBQVE7RUFDdENILEtBQUssQ0FBQ3RHLGFBQWEsR0FBR29ELEtBQUssQ0FBQ3FELFFBQVE7O0VBRXBDSCxLQUFLLENBQUM1RyxhQUFhLENBQUNDLENBQUMsR0FBR3lELEtBQUssQ0FBQ3NELE9BQU8sR0FBR0gsSUFBSSxDQUFDSSxJQUFJO0VBQ2pETCxLQUFLLENBQUM1RyxhQUFhLENBQUNFLENBQUMsR0FBR3dELEtBQUssQ0FBQ3dELE9BQU8sR0FBR0wsSUFBSSxDQUFDTSxHQUFHO0FBQ3BEOztBQUVBLFNBQVNiLHlCQUF5QkEsQ0FBQzVDLEtBQUssRUFBRTs7RUFFdEM7RUFDQUEsS0FBSyxDQUFDcUQsUUFBUSxHQUFHLEtBQUs7RUFDdEJyRCxLQUFLLENBQUNzRCxPQUFPLEdBQUd0RCxLQUFLLENBQUMwRCxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUNKLE9BQU87RUFDekN0RCxLQUFLLENBQUN3RCxPQUFPLEdBQUd4RCxLQUFLLENBQUMwRCxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUNGLE9BQU87QUFDN0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9lZGl0LWlucHV0L0lucHV0SGFuZGxlci5qcz9mMzMyIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgaXNUb3VjaERldmljZSB9IGZyb20gJy4uL01hcmt1cHNDb3JlVXRpbHMnO1xuXG4gICAgdmFyIGF2ID0gQXV0b2Rlc2suVmlld2luZztcbiAgICB2YXIgYXZwID0gYXYuUHJpdmF0ZTtcblxuICAgIHZhciBfbW91c2VFbmFibGVkID0gZmFsc2U7XG4gICAgdmFyIF9tb3VzZVByZXZWYWx1ZSA9IGZhbHNlO1xuICAgIHZhciBfbG9jayA9IGZhbHNlO1xuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIElucHV0SGFuZGxlcigpIHtcblxuICAgICAgICB0aGlzLmVkaXRvciA9IG51bGw7XG4gICAgICAgIHRoaXMubW91c2VQb3NpdGlvbiA9IHt4OjAsIHk6MH07XG4gICAgICAgIHRoaXMubWFrZVNhbWVYWSA9IGZhbHNlOyAvLyBUT0RPOiBGSU5EIGEgYmV0dGVyIHdheSB0byBuYW1lIGFuZCBjb21tdW5pY2F0ZSB0aGVzZS5cbiAgICAgICAgdGhpcy5zbmFwUm90YXRpb25zID0gZmFsc2U7XG4gICAgICAgIHRoaXMua2VlcEFzcGVjdFJhdGlvID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29uc3RyYWluQXhpcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmR1cmluZ0VkaXRNb2RlID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5vbldoZWVsQmluZGVkID0gdGhpcy5vbldoZWVsLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25Ub3VjaERyYWdCaW5kZWQgPSB0aGlzLm9uVG91Y2hEcmFnLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25Ub3VjaFBhbkJpbmRlZCA9IHRoaXMub25Ub3VjaFBhbi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uVG91Y2hQaW5jaEJpbmRlZCA9IHRoaXMub25Ub3VjaFBpbmNoLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25TaW5nbGVUYXBCaW5kZWQgPSB0aGlzLm9uU2luZ2xlVGFwLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25Eb3VibGVUYXBCaW5kZWQgPSB0aGlzLm9uRG91YmxlVGFwLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25Nb3VzZU1vdmVCaW5kZWQgPSB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25Nb3VzZVVwQmluZGVkID0gdGhpcy5vbk1vdXNlVXAuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vbk1vdXNlRG93bkJpbmRlZCA9IHRoaXMub25Nb3VzZURvd24uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vbk1vdXNlRG91YmxlQ2xpY2tCaW5kZWQgPSB0aGlzLm9uTW91c2VEb3VibGVDbGljay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uSGFtbWVySW5wdXRCaW5kZWQgPSB0aGlzLm9uSGFtbWVySW5wdXQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5pc01vdXNlRG93biA9IGZhbHNlO1xuICAgIH1cblxuICAgIGF2Lkdsb2JhbE1hbmFnZXJNaXhpbi5jYWxsKElucHV0SGFuZGxlci5wcm90b3R5cGUpO1xuICAgIHZhciBwcm90byA9IElucHV0SGFuZGxlci5wcm90b3R5cGU7XG5cbiAgICBwcm90by5hdHRhY2hUbyA9IGZ1bmN0aW9uKGVkaXRvcikge1xuXG4gICAgICAgIHRoaXMuZWRpdG9yICYmIHRoaXMuZGV0YWNoRnJvbSh0aGlzLmVkaXRvcik7XG4gICAgICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuXG4gICAgICAgIGlmIChpc1RvdWNoRGV2aWNlKCkpIHtcblxuICAgICAgICAgICAgdGhpcy5oYW1tZXIgPSBuZXcgYXYuSGFtbWVyLk1hbmFnZXIoZWRpdG9yLnN2Zywge1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXJzOiBbXG4gICAgICAgICAgICAgICAgICAgIGF2Lkdlc3R1cmVSZWNvZ25pemVycy5kcmFnLFxuICAgICAgICAgICAgICAgICAgICBhdi5HZXN0dXJlUmVjb2duaXplcnMuZG91YmxldGFwLFxuICAgICAgICAgICAgICAgICAgICBhdi5HZXN0dXJlUmVjb2duaXplcnMuZG91YmxldGFwMixcbiAgICAgICAgICAgICAgICAgICAgYXYuR2VzdHVyZVJlY29nbml6ZXJzLnNpbmdsZXRhcCxcbiAgICAgICAgICAgICAgICAgICAgYXYuR2VzdHVyZVJlY29nbml6ZXJzLnNpbmdsZXRhcDIsXG4gICAgICAgICAgICAgICAgICAgIGF2Lkdlc3R1cmVSZWNvZ25pemVycy5wcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgYXYuR2VzdHVyZVJlY29nbml6ZXJzLnBhbixcbiAgICAgICAgICAgICAgICAgICAgYXYuR2VzdHVyZVJlY29nbml6ZXJzLnBpbmNoXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBoYW5kbGVQb2ludGVyRXZlbnRNb3VzZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgaW5wdXRDbGFzczogYXYuSGFtbWVyLlRvdWNoSW5wdXRcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmhhbW1lci5nZXQoJ2RvdWJsZXRhcDInKS5yZWNvZ25pemVXaXRoKCdkb3VibGV0YXAnKTtcbiAgICAgICAgICAgIHRoaXMuaGFtbWVyLmdldCgnc2luZ2xldGFwMicpLnJlY29nbml6ZVdpdGgoJ3NpbmdsZXRhcCcpO1xuICAgICAgICAgICAgdGhpcy5oYW1tZXIuZ2V0KCdzaW5nbGV0YXAnKS5yZXF1aXJlRmFpbHVyZSgnZG91YmxldGFwJyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvdG8ub25IYW1tZXJJbnB1dCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgdGhpcy5zZXRNb3VzZURpc2FibGVkV2hlblRvdWNoaW5nKGV2ZW50KTtcbiAgICB9O1xuXG4gICAgcHJvdG8uc2V0TW91c2VEaXNhYmxlZFdoZW5Ub3VjaGluZyA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgaWYgKGV2ZW50LmlzRmlyc3QgJiYgIV9sb2NrKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZU1vdXNlQnV0dG9ucyhmYWxzZSk7XG4gICAgICAgICAgICBfbG9jayA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuaXNGaW5hbCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZW5hYmxlTW91c2VCdXR0b25zKF9tb3VzZVByZXZWYWx1ZSk7XG4gICAgICAgICAgICAgICAgX2xvY2sgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwcm90by5lbmFibGVNb3VzZUJ1dHRvbnMgPSBmdW5jdGlvbihzdGF0ZSkge1xuXG4gICAgICAgIGlmIChzdGF0ZSAmJiAhX21vdXNlRW5hYmxlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5lZGl0b3Iuc3ZnLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd25CaW5kZWQpO1xuICAgICAgICAgICAgdGhpcy5lZGl0b3Iuc3ZnLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgdGhpcy5vbk1vdXNlRG91YmxlQ2xpY2tCaW5kZWQpO1xuICAgICAgICAgICAgdGhpcy5lZGl0b3Iuc3ZnLmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy5vbldoZWVsQmluZGVkKTtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLnN2Zy5hZGRFdmVudExpc3RlbmVyKCdET01Nb3VzZVNjcm9sbCcsIHRoaXMub25XaGVlbEJpbmRlZCk7IC8vIEZpcmVmb3hcblxuICAgICAgICAgICAgLy8gVGhlIG1vdXNldXAgYW5kIG1vdXNlbW92ZSBsaXN0ZW5lcnMgYXJlIGF0IHRoZSBkb2N1bWVudCBsZXZlbCB0byBoYW5kbGUgdGhlIGNhc2Ugd2hlcmVcbiAgICAgICAgICAgIC8vIG1vdXNlIHdhcyBoZWxkIGluc2lkZSB0aGUgY2FudmFzIGFuZCByZWxlYXNlZCBvdXRzaWRlLlxuICAgICAgICAgICAgLy8gV2hlbiB0aGlzIGhhcHBlbnMsIHdlIGRvbid0IHdhbnQgdGhlIGVkaXRpbmcgdG8gYmUgaW4gYSBodW5nIHN0YXRlIGFuZCBjYW5jZWwgaXRcbiAgICAgICAgICAgIHRoaXMuYWRkRG9jdW1lbnRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlQmluZGVkKTtcbiAgICAgICAgICAgIHRoaXMuYWRkRG9jdW1lbnRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlVXBCaW5kZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFzdGF0ZSAmJiBfbW91c2VFbmFibGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmVkaXRvci5zdmcucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbk1vdXNlRG93bkJpbmRlZCk7XG4gICAgICAgICAgICB0aGlzLmVkaXRvci5zdmcucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCB0aGlzLm9uTW91c2VEb3VibGVDbGlja0JpbmRlZCk7XG4gICAgICAgICAgICB0aGlzLmVkaXRvci5zdmcucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLm9uV2hlZWxCaW5kZWQpO1xuICAgICAgICAgICAgdGhpcy5lZGl0b3Iuc3ZnLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ0RPTU1vdXNlU2Nyb2xsJywgdGhpcy5vbldoZWVsQmluZGVkKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRG9jdW1lbnRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlQmluZGVkKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRG9jdW1lbnRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlVXBCaW5kZWQpO1xuXG4gICAgICAgIH1cblxuICAgICAgICBfbW91c2VQcmV2VmFsdWUgPSBfbW91c2VFbmFibGVkO1xuICAgICAgICBfbW91c2VFbmFibGVkID0gc3RhdGU7XG4gICAgfTtcblxuICAgIHByb3RvLmRldGFjaEZyb20gPSBmdW5jdGlvbihlZGl0b3IpIHtcblxuICAgICAgICB0aGlzLmhhbW1lciAmJiB0aGlzLmhhbW1lci5kZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVEb2N1bWVudEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmVCaW5kZWQpO1xuICAgICAgICB0aGlzLnJlbW92ZURvY3VtZW50RXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZVVwQmluZGVkKTtcblxuICAgICAgICBpZiAodGhpcy5lZGl0b3IpIHtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLnN2Zy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duQmluZGVkKTtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLnN2Zy5yZW1vdmVFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIHRoaXMub25Nb3VzZURvdWJsZUNsaWNrQmluZGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuICAgIH07XG5cbiAgICBwcm90by5lbnRlckVkaXRNb2RlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmR1cmluZ0VkaXRNb2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5oYW1tZXIpIHtcbiAgICAgICAgICAgIHRoaXMuaGFtbWVyLm9uKCdkcmFnc3RhcnQgZHJhZ21vdmUgZHJhZ2VuZCcsIHRoaXMub25Ub3VjaERyYWdCaW5kZWQpO1xuICAgICAgICAgICAgdGhpcy5oYW1tZXIub24oJ3BhbnN0YXJ0IHBhbm1vdmUgcGFuZW5kJywgdGhpcy5vblRvdWNoUGFuQmluZGVkKTtcbiAgICAgICAgICAgIHRoaXMuaGFtbWVyLm9uKCdwaW5jaHN0YXJ0IHBpbmNobW92ZSBwaW5jaGVuZCcsIHRoaXMub25Ub3VjaFBpbmNoQmluZGVkKTtcbiAgICAgICAgICAgIHRoaXMuaGFtbWVyLm9uKCdzaW5nbGV0YXAnLCB0aGlzLm9uU2luZ2xlVGFwQmluZGVkKTtcbiAgICAgICAgICAgIHRoaXMuaGFtbWVyLm9uKCdzaW5nbGV0YXAyJywgdGhpcy5vblNpbmdsZVRhcEJpbmRlZCk7XG4gICAgICAgICAgICB0aGlzLmhhbW1lci5vbignZG91YmxldGFwJywgdGhpcy5vbkRvdWJsZVRhcEJpbmRlZCk7XG4gICAgICAgICAgICB0aGlzLmhhbW1lci5vbignZG91YmxldGFwMicsIHRoaXMub25Eb3VibGVUYXBCaW5kZWQpO1xuICAgICAgICAgICAgdGhpcy5oYW1tZXIub24oJ2hhbW1lci5pbnB1dCcsIHRoaXMub25IYW1tZXJJbnB1dEJpbmRlZCk7XG5cbiAgICAgICAgICAgIHRoaXMuaGFtbWVyLmdldCgnZHJhZycpLnJlcXVpcmVGYWlsdXJlKCdwaW5jaCcpO1xuICAgICAgICAgICAgdGhpcy5oYW1tZXIuZ2V0KCdkcmFnJykucmVxdWlyZUZhaWx1cmUoJ3BhbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFhdi5pc01vYmlsZURldmljZSgpKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZU1vdXNlQnV0dG9ucyh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHVyaW5nRWRpdE1vZGUgPSB0cnVlO1xuICAgIH07XG5cbiAgICBwcm90by5sZWF2ZUVkaXRNb2RlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5kdXJpbmdFZGl0TW9kZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaGFtbWVyKSB7XG4gICAgICAgICAgICB0aGlzLmhhbW1lci5vZmYoJ2RyYWdzdGFydCBkcmFnbW92ZSBkcmFnZW5kJywgdGhpcy5vblRvdWNoRHJhZ0JpbmRlZCk7XG4gICAgICAgICAgICB0aGlzLmhhbW1lci5vZmYoJ3BhbnN0YXJ0IHBhbm1vdmUgcGFuZW5kJywgdGhpcy5vblRvdWNoUGFuQmluZGVkKTtcbiAgICAgICAgICAgIHRoaXMuaGFtbWVyLm9mZigncGluY2hzdGFydCBwaW5jaG1vdmUgcGluY2hlbmQnLCB0aGlzLm9uVG91Y2hQaW5jaEJpbmRlZCk7XG4gICAgICAgICAgICB0aGlzLmhhbW1lci5vZmYoJ3NpbmdsZXRhcCcsIHRoaXMub25TaW5nbGVUYXBCaW5kZWQpO1xuICAgICAgICAgICAgdGhpcy5oYW1tZXIub2ZmKCdzaW5nbGV0YXAyJywgdGhpcy5vblNpbmdsZVRhcEJpbmRlZCk7XG4gICAgICAgICAgICB0aGlzLmhhbW1lci5vZmYoJ2RvdWJsZXRhcCcsIHRoaXMub25Eb3VibGVUYXBCaW5kZWQpO1xuICAgICAgICAgICAgdGhpcy5oYW1tZXIub2ZmKCdkb3VibGV0YXAyJywgdGhpcy5vbkRvdWJsZVRhcEJpbmRlZCk7XG4gICAgICAgICAgICB0aGlzLmhhbW1lci5vZmYoJ2hhbW1lci5pbnB1dCcsIHRoaXMub25IYW1tZXJJbnB1dEJpbmRlZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWF2LmlzTW9iaWxlRGV2aWNlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlTW91c2VCdXR0b25zKGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHVyaW5nRWRpdE1vZGUgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgcHJvdG8uZW50ZXJWaWV3TW9kZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgfTtcblxuICAgIHByb3RvLmxlYXZlVmlld01vZGUgPSBmdW5jdGlvbigpIHtcblxuICAgIH07XG5cbiAgICBwcm90by5nZXRNb3VzZVBvc2l0aW9uID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgcmV0dXJuIHt4OiB0aGlzLm1vdXNlUG9zaXRpb24ueCwgeTogdGhpcy5tb3VzZVBvc2l0aW9uLnl9O1xuICAgIH07XG5cbiAgICBwcm90by5vbldoZWVsID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICBpZiAoIWF2LmlzTW9iaWxlRGV2aWNlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLnZpZXdlci50b29sQ29udHJvbGxlci5tb3VzZXdoZWVsKGV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIHByb3RvLm9uTW91c2VNb3ZlID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICBwcm9jZXNzTW91c2VFdmVudCh0aGlzLCBldmVudCk7XG5cbiAgICAgICAgaWYgKCFhdi5pc01vYmlsZURldmljZSgpICYmIHRoaXMuZWRpdG9yLnZpZXdlci5jb250YWluZXIuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhpcy5lZGl0b3Iudmlld2VyLnRvb2xDb250cm9sbGVyLm1vdXNlbW92ZShldmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5lZGl0b3Iub25Nb3VzZU1vdmUoZXZlbnQpKSB7XG4gICAgICAgICAgICAvLyBlZGl0b3IgaGFuZGxlZCB0aGUgZXZlbnRcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG5cbiAgICBwcm90by5vbk1vdXNlRG93blJpZ2h0Q2xpY2sgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIGNvbnN0IF9kb2N1bWVudCA9IHRoaXMuZ2V0RG9jdW1lbnQoKTtcbiAgICAgICAgX2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgX2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1ciAmJiBfZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk7XG5cbiAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSB0aGlzLmVkaXRvci52aWV3ZXIudG9vbENvbnRyb2xsZXI7XG4gICAgICAgIGNvbnRyb2xsZXIuX19jbGllbnRUb0NhbnZhc0Nvb3JkcyhldmVudCk7XG5cbiAgICAgICAgdGhpcy5lZGl0b3IubWFya3VwVG9vbC5oYW5kbGVCdXR0b25Eb3duKGV2ZW50LCAyKTtcbiAgICB9O1xuXG4gICAgcHJvdG8ub25Nb3VzZVVwUmlnaHRDbGljayA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSB0aGlzLmVkaXRvci52aWV3ZXIudG9vbENvbnRyb2xsZXI7XG4gICAgICAgIGNvbnRyb2xsZXIuX19jbGllbnRUb0NhbnZhc0Nvb3JkcyhldmVudCk7XG5cbiAgICAgICAgdGhpcy5lZGl0b3IubWFya3VwVG9vbC5oYW5kbGVCdXR0b25VcChldmVudCwgMik7XG4gICAgfTtcblxuICAgIHByb3RvLm9uTW91c2VEb3duID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICBwcm9jZXNzTW91c2VFdmVudCh0aGlzLCBldmVudCk7XG5cbiAgICAgICAgLy8gUGFubmluZyB3aGVuIHJpZ2h0IGNsaWNraW5nXG4gICAgICAgIGlmICghYXYuaXNNb2JpbGVEZXZpY2UoKSAmJiAoYXZwLmlzUmlnaHRDbGljayhldmVudCwgdGhpcy5lZGl0b3Iudmlld2VyLm5hdmlnYXRpb24pIHx8IGF2cC5pc01pZGRsZUNsaWNrKGV2ZW50KSkpIHtcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZURvd25SaWdodENsaWNrKGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNNb3VzZURvd24gPSB0cnVlO1xuICAgICAgICB0aGlzLmVkaXRvci5vbk1vdXNlRG93bihldmVudCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIHByb3RvLm9uTW91c2VVcCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgcHJvY2Vzc01vdXNlRXZlbnQodGhpcywgZXZlbnQpO1xuXG4gICAgICAgIGlmICghYXYuaXNNb2JpbGVEZXZpY2UoKSAmJiB0aGlzLmVkaXRvci52aWV3ZXIuY29udGFpbmVyLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgJiZcbiAgICAgICAgICAgICAoYXZwLmlzUmlnaHRDbGljayhldmVudCwgdGhpcy5lZGl0b3Iudmlld2VyLm5hdmlnYXRpb24pIHx8IGF2cC5pc01pZGRsZUNsaWNrKGV2ZW50KSlcbiAgICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLm9uTW91c2VVcFJpZ2h0Q2xpY2soZXZlbnQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc01vdXNlRG93biA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5lZGl0b3Iub25Nb3VzZVVwKGV2ZW50KSkge1xuICAgICAgICAgICAgLy8gZWRpdG9yIGhhbmRsZWQgdGhlIGV2ZW50XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByb3RvLm9uTW91c2VEb3VibGVDbGljayA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgcHJvY2Vzc01vdXNlRXZlbnQodGhpcywgZXZlbnQpO1xuICAgICAgICB0aGlzLmVkaXRvci5vbk1vdXNlRG91YmxlQ2xpY2soZXZlbnQpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICBwcm90by5vblRvdWNoRHJhZyA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgY29udmVydEV2ZW50SGFtbWVyVG9Nb3VzZShldmVudCk7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2RyYWdzdGFydCc6XG4gICAgICAgICAgICAgICAgdGhpcy5vbk1vdXNlRG93bihldmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkcmFnbW92ZSc6XG4gICAgICAgICAgICAgICAgdGhpcy5vbk1vdXNlTW92ZShldmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgIGNhc2UgJ2RyYWdlbmQnOlxuICAgICAgICAgICAgICAgIHRoaXMub25Nb3VzZVVwKGV2ZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICBwcm90by5vblRvdWNoUGFuID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICB2YXIgZ2VzdHVyZUhhbmRsZXIgPSB0aGlzLmVkaXRvci52aWV3ZXIudG9vbENvbnRyb2xsZXIuZ2V0VG9vbChcImdlc3R1cmVzXCIpO1xuICAgICAgICBnZXN0dXJlSGFuZGxlci5kaXN0cmlidXRlR2VzdHVyZShldmVudCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIHByb3RvLm9uVG91Y2hQaW5jaCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgcHJvY2Vzc01vdXNlRXZlbnQodGhpcywgZXZlbnQpO1xuXG4gICAgICAgIHZhciBnZXN0dXJlSGFuZGxlciA9IHRoaXMuZWRpdG9yLnZpZXdlci50b29sQ29udHJvbGxlci5nZXRUb29sKFwiZ2VzdHVyZXNcIik7XG4gICAgICAgIGdlc3R1cmVIYW5kbGVyLmRpc3RyaWJ1dGVHZXN0dXJlKGV2ZW50KTtcblxuICAgICAgICB0aGlzLm1vdXNlUG9zaXRpb24ueCA9IHRoaXMubW91c2VQb3NpdGlvbi55ID0gbnVsbDtcbiAgICAgICAgdGhpcy5lZGl0b3IuY2FsbFNuYXBwZXJNb3VzZU1vdmUoKTtcblxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICBwcm90by5vblNpbmdsZVRhcCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgY29udmVydEV2ZW50SGFtbWVyVG9Nb3VzZShldmVudCk7XG5cbiAgICAgICAgdGhpcy5vbk1vdXNlRG93bihldmVudCk7XG4gICAgICAgIHRoaXMub25Nb3VzZVVwKGV2ZW50KTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuXG4gICAgcHJvdG8ub25Eb3VibGVUYXAgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIGNvbnZlcnRFdmVudEhhbW1lclRvTW91c2UoZXZlbnQpO1xuICAgICAgICB0aGlzLm9uTW91c2VEb3VibGVDbGljayhldmVudCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NNb3VzZUV2ZW50KGlucHV0LCBldmVudCkge1xuXG4gICAgICAgIHZhciByZWN0ID0gaW5wdXQuZWRpdG9yLnN2Zy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICBpbnB1dC5tYWtlU2FtZVhZID0gZXZlbnQuc2hpZnRLZXk7XG4gICAgICAgIGlucHV0LnNuYXBSb3RhdGlvbnMgPSBldmVudC5zaGlmdEtleTtcbiAgICAgICAgaW5wdXQua2VlcEFzcGVjdFJhdGlvID0gZXZlbnQuc2hpZnRLZXk7XG4gICAgICAgIGlucHV0LmNvbnN0cmFpbkF4aXMgPSBldmVudC5zaGlmdEtleTtcblxuICAgICAgICBpbnB1dC5tb3VzZVBvc2l0aW9uLnggPSBldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0O1xuICAgICAgICBpbnB1dC5tb3VzZVBvc2l0aW9uLnkgPSBldmVudC5jbGllbnRZIC0gcmVjdC50b3A7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29udmVydEV2ZW50SGFtbWVyVG9Nb3VzZShldmVudCkge1xuXG4gICAgICAgIC8vIENvbnZlcnQgSGFtbWVyIHRvdWNoLWV2ZW50IFgsWSBpbnRvIG1vdXNlLWV2ZW50IFgsWS5cbiAgICAgICAgZXZlbnQuc2hpZnRLZXkgPSBmYWxzZTtcbiAgICAgICAgZXZlbnQuY2xpZW50WCA9IGV2ZW50LnBvaW50ZXJzWzBdLmNsaWVudFg7XG4gICAgICAgIGV2ZW50LmNsaWVudFkgPSBldmVudC5wb2ludGVyc1swXS5jbGllbnRZO1xuICAgIH1cbiJdLCJuYW1lcyI6WyJpc1RvdWNoRGV2aWNlIiwiYXYiLCJBdXRvZGVzayIsIlZpZXdpbmciLCJhdnAiLCJQcml2YXRlIiwiX21vdXNlRW5hYmxlZCIsIl9tb3VzZVByZXZWYWx1ZSIsIl9sb2NrIiwiSW5wdXRIYW5kbGVyIiwiZWRpdG9yIiwibW91c2VQb3NpdGlvbiIsIngiLCJ5IiwibWFrZVNhbWVYWSIsInNuYXBSb3RhdGlvbnMiLCJrZWVwQXNwZWN0UmF0aW8iLCJjb25zdHJhaW5BeGlzIiwiZHVyaW5nRWRpdE1vZGUiLCJvbldoZWVsQmluZGVkIiwib25XaGVlbCIsImJpbmQiLCJvblRvdWNoRHJhZ0JpbmRlZCIsIm9uVG91Y2hEcmFnIiwib25Ub3VjaFBhbkJpbmRlZCIsIm9uVG91Y2hQYW4iLCJvblRvdWNoUGluY2hCaW5kZWQiLCJvblRvdWNoUGluY2giLCJvblNpbmdsZVRhcEJpbmRlZCIsIm9uU2luZ2xlVGFwIiwib25Eb3VibGVUYXBCaW5kZWQiLCJvbkRvdWJsZVRhcCIsIm9uTW91c2VNb3ZlQmluZGVkIiwib25Nb3VzZU1vdmUiLCJvbk1vdXNlVXBCaW5kZWQiLCJvbk1vdXNlVXAiLCJvbk1vdXNlRG93bkJpbmRlZCIsIm9uTW91c2VEb3duIiwib25Nb3VzZURvdWJsZUNsaWNrQmluZGVkIiwib25Nb3VzZURvdWJsZUNsaWNrIiwib25IYW1tZXJJbnB1dEJpbmRlZCIsIm9uSGFtbWVySW5wdXQiLCJpc01vdXNlRG93biIsIkdsb2JhbE1hbmFnZXJNaXhpbiIsImNhbGwiLCJwcm90b3R5cGUiLCJwcm90byIsImF0dGFjaFRvIiwiZGV0YWNoRnJvbSIsImhhbW1lciIsIkhhbW1lciIsIk1hbmFnZXIiLCJzdmciLCJyZWNvZ25pemVycyIsIkdlc3R1cmVSZWNvZ25pemVycyIsImRyYWciLCJkb3VibGV0YXAiLCJkb3VibGV0YXAyIiwic2luZ2xldGFwIiwic2luZ2xldGFwMiIsInByZXNzIiwicGFuIiwicGluY2giLCJoYW5kbGVQb2ludGVyRXZlbnRNb3VzZSIsImlucHV0Q2xhc3MiLCJUb3VjaElucHV0IiwiZ2V0IiwicmVjb2duaXplV2l0aCIsInJlcXVpcmVGYWlsdXJlIiwiZXZlbnQiLCJzZXRNb3VzZURpc2FibGVkV2hlblRvdWNoaW5nIiwiaXNGaXJzdCIsImVuYWJsZU1vdXNlQnV0dG9ucyIsImlzRmluYWwiLCJfdGhpcyIsInNldFRpbWVvdXQiLCJzdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJhZGREb2N1bWVudEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVtb3ZlRG9jdW1lbnRFdmVudExpc3RlbmVyIiwiZGVzdHJveSIsImVudGVyRWRpdE1vZGUiLCJvbiIsImlzTW9iaWxlRGV2aWNlIiwibGVhdmVFZGl0TW9kZSIsIm9mZiIsImVudGVyVmlld01vZGUiLCJsZWF2ZVZpZXdNb2RlIiwiZ2V0TW91c2VQb3NpdGlvbiIsInZpZXdlciIsInRvb2xDb250cm9sbGVyIiwibW91c2V3aGVlbCIsInByZXZlbnREZWZhdWx0IiwicHJvY2Vzc01vdXNlRXZlbnQiLCJjb250YWluZXIiLCJjb250YWlucyIsInRhcmdldCIsIm1vdXNlbW92ZSIsIm9uTW91c2VEb3duUmlnaHRDbGljayIsIl9kb2N1bWVudCIsImdldERvY3VtZW50IiwiYWN0aXZlRWxlbWVudCIsImJsdXIiLCJjb250cm9sbGVyIiwiX19jbGllbnRUb0NhbnZhc0Nvb3JkcyIsIm1hcmt1cFRvb2wiLCJoYW5kbGVCdXR0b25Eb3duIiwib25Nb3VzZVVwUmlnaHRDbGljayIsImhhbmRsZUJ1dHRvblVwIiwiaXNSaWdodENsaWNrIiwibmF2aWdhdGlvbiIsImlzTWlkZGxlQ2xpY2siLCJjb252ZXJ0RXZlbnRIYW1tZXJUb01vdXNlIiwidHlwZSIsImdlc3R1cmVIYW5kbGVyIiwiZ2V0VG9vbCIsImRpc3RyaWJ1dGVHZXN0dXJlIiwiY2FsbFNuYXBwZXJNb3VzZU1vdmUiLCJpbnB1dCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzaGlmdEtleSIsImNsaWVudFgiLCJsZWZ0IiwiY2xpZW50WSIsInRvcCIsInBvaW50ZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-input/InputHandler.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-modes/BuiltinEditModes.js":
/*!***************************************************************!*\
  !*** ./extensions/Markup/core/edit-modes/BuiltinEditModes.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _EditModeManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EditModeManager */ \"./extensions/Markup/core/EditModeManager.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n/* harmony import */ var _EditModeArrow__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EditModeArrow */ \"./extensions/Markup/core/edit-modes/EditModeArrow.js\");\n/* harmony import */ var _EditModeText__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./EditModeText */ \"./extensions/Markup/core/edit-modes/EditModeText.js\");\n/* harmony import */ var _EditModeRectangle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./EditModeRectangle */ \"./extensions/Markup/core/edit-modes/EditModeRectangle.js\");\n/* harmony import */ var _EditModeCircle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./EditModeCircle */ \"./extensions/Markup/core/edit-modes/EditModeCircle.js\");\n/* harmony import */ var _EditModeCloud__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./EditModeCloud */ \"./extensions/Markup/core/edit-modes/EditModeCloud.js\");\n/* harmony import */ var _EditModeFreehand__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./EditModeFreehand */ \"./extensions/Markup/core/edit-modes/EditModeFreehand.js\");\n/* harmony import */ var _EditModeHighlight__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./EditModeHighlight */ \"./extensions/Markup/core/edit-modes/EditModeHighlight.js\");\n/* harmony import */ var _EditModePolyline__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./EditModePolyline */ \"./extensions/Markup/core/edit-modes/EditModePolyline.js\");\n/* harmony import */ var _EditModePolycloud__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./EditModePolycloud */ \"./extensions/Markup/core/edit-modes/EditModePolycloud.js\");\n/* harmony import */ var _EditModeCallout__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./EditModeCallout */ \"./extensions/Markup/core/edit-modes/EditModeCallout.js\");\n/* harmony import */ var _EditModeDimension__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./EditModeDimension */ \"./extensions/Markup/core/edit-modes/EditModeDimension.js\");\n/* harmony import */ var _EditModeStamp__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./EditModeStamp */ \"./extensions/Markup/core/edit-modes/EditModeStamp.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n_EditModeManager__WEBPACK_IMPORTED_MODULE_0__.theEditModeManager.register(_MarkupTypes__WEBPACK_IMPORTED_MODULE_1__.MARKUP_TYPE_ARROW, _EditModeArrow__WEBPACK_IMPORTED_MODULE_2__.EditModeArrow);\n_EditModeManager__WEBPACK_IMPORTED_MODULE_0__.theEditModeManager.register(_MarkupTypes__WEBPACK_IMPORTED_MODULE_1__.MARKUP_TYPE_TEXT, _EditModeText__WEBPACK_IMPORTED_MODULE_3__.EditModeText);\n_EditModeManager__WEBPACK_IMPORTED_MODULE_0__.theEditModeManager.register(_MarkupTypes__WEBPACK_IMPORTED_MODULE_1__.MARKUP_TYPE_RECTANGLE, _EditModeRectangle__WEBPACK_IMPORTED_MODULE_4__.EditModeRectangle);\n_EditModeManager__WEBPACK_IMPORTED_MODULE_0__.theEditModeManager.register(_MarkupTypes__WEBPACK_IMPORTED_MODULE_1__.MARKUP_TYPE_CIRCLE, _EditModeCircle__WEBPACK_IMPORTED_MODULE_5__.EditModeCircle);\n_EditModeManager__WEBPACK_IMPORTED_MODULE_0__.theEditModeManager.register(_MarkupTypes__WEBPACK_IMPORTED_MODULE_1__.MARKUP_TYPE_CLOUD, _EditModeCloud__WEBPACK_IMPORTED_MODULE_6__.EditModeCloud);\n_EditModeManager__WEBPACK_IMPORTED_MODULE_0__.theEditModeManager.register(_MarkupTypes__WEBPACK_IMPORTED_MODULE_1__.MARKUP_TYPE_FREEHAND, _EditModeFreehand__WEBPACK_IMPORTED_MODULE_7__.EditModeFreehand);\n_EditModeManager__WEBPACK_IMPORTED_MODULE_0__.theEditModeManager.register(_MarkupTypes__WEBPACK_IMPORTED_MODULE_1__.MARKUP_TYPE_HIGHLIGHT, _EditModeHighlight__WEBPACK_IMPORTED_MODULE_8__.EditModeHighlight);\n_EditModeManager__WEBPACK_IMPORTED_MODULE_0__.theEditModeManager.register(_MarkupTypes__WEBPACK_IMPORTED_MODULE_1__.MARKUP_TYPE_POLYLINE, _EditModePolyline__WEBPACK_IMPORTED_MODULE_9__.EditModePolyline);\n_EditModeManager__WEBPACK_IMPORTED_MODULE_0__.theEditModeManager.register(_MarkupTypes__WEBPACK_IMPORTED_MODULE_1__.MARKUP_TYPE_POLYCLOUD, _EditModePolycloud__WEBPACK_IMPORTED_MODULE_10__.EditModePolycloud);\n_EditModeManager__WEBPACK_IMPORTED_MODULE_0__.theEditModeManager.register(_MarkupTypes__WEBPACK_IMPORTED_MODULE_1__.MARKUP_TYPE_CALLOUT, _EditModeCallout__WEBPACK_IMPORTED_MODULE_11__.EditModeCallout);\n_EditModeManager__WEBPACK_IMPORTED_MODULE_0__.theEditModeManager.register(_MarkupTypes__WEBPACK_IMPORTED_MODULE_1__.MARKUP_TYPE_DIMENSION, _EditModeDimension__WEBPACK_IMPORTED_MODULE_12__.EditModeDimension);\n_EditModeManager__WEBPACK_IMPORTED_MODULE_0__.theEditModeManager.register(_MarkupTypes__WEBPACK_IMPORTED_MODULE_1__.MARKUP_TYPE_STAMP, _EditModeStamp__WEBPACK_IMPORTED_MODULE_13__.EditModeStamp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtbW9kZXMvQnVpbHRpbkVkaXRNb2Rlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ3dEO0FBQ1Y7O0FBRUU7QUFDRjtBQUNVO0FBQ047QUFDRjtBQUNNO0FBQ0U7QUFDRjtBQUNFO0FBQ0o7QUFDSTtBQUNSOzs7QUFHaERBLGdFQUFrQixDQUFDYyxRQUFRLENBQUNiLDJEQUE2QixFQUFFQyx5REFBYSxDQUFDO0FBQ3pFRixnRUFBa0IsQ0FBQ2MsUUFBUSxDQUFDYiwwREFBNEIsRUFBRUUsdURBQVksQ0FBQztBQUN2RUgsZ0VBQWtCLENBQUNjLFFBQVEsQ0FBQ2IsK0RBQWlDLEVBQUVHLGlFQUFpQixDQUFDO0FBQ2pGSixnRUFBa0IsQ0FBQ2MsUUFBUSxDQUFDYiw0REFBOEIsRUFBRUksMkRBQWMsQ0FBQztBQUMzRUwsZ0VBQWtCLENBQUNjLFFBQVEsQ0FBQ2IsMkRBQTZCLEVBQUVLLHlEQUFhLENBQUM7QUFDekVOLGdFQUFrQixDQUFDYyxRQUFRLENBQUNiLDhEQUFnQyxFQUFFTSwrREFBZ0IsQ0FBQztBQUMvRVAsZ0VBQWtCLENBQUNjLFFBQVEsQ0FBQ2IsK0RBQWlDLEVBQUVPLGlFQUFpQixDQUFDO0FBQ2pGUixnRUFBa0IsQ0FBQ2MsUUFBUSxDQUFDYiw4REFBZ0MsRUFBRVEsK0RBQWdCLENBQUM7QUFDL0VULGdFQUFrQixDQUFDYyxRQUFRLENBQUNiLCtEQUFpQyxFQUFFUyxrRUFBaUIsQ0FBQztBQUNqRlYsZ0VBQWtCLENBQUNjLFFBQVEsQ0FBQ2IsNkRBQStCLEVBQUVVLDhEQUFlLENBQUM7QUFDN0VYLGdFQUFrQixDQUFDYyxRQUFRLENBQUNiLCtEQUFpQyxFQUFFVyxrRUFBaUIsQ0FBQztBQUNqRlosZ0VBQWtCLENBQUNjLFFBQVEsQ0FBQ2IsMkRBQTZCLEVBQUVZLDBEQUFhLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9lZGl0LW1vZGVzL0J1aWx0aW5FZGl0TW9kZXMuanM/ZTc0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IHRoZUVkaXRNb2RlTWFuYWdlciB9IGZyb20gJy4uL0VkaXRNb2RlTWFuYWdlcic7XG5pbXBvcnQgKiBhcyBNYXJrdXBUeXBlcyBmcm9tICcuLi9NYXJrdXBUeXBlcyc7XG5cbmltcG9ydCB7IEVkaXRNb2RlQXJyb3cgfSBmcm9tICcuL0VkaXRNb2RlQXJyb3cnO1xuaW1wb3J0IHsgRWRpdE1vZGVUZXh0IH0gZnJvbSAnLi9FZGl0TW9kZVRleHQnO1xuaW1wb3J0IHsgRWRpdE1vZGVSZWN0YW5nbGUgfSBmcm9tICcuL0VkaXRNb2RlUmVjdGFuZ2xlJztcbmltcG9ydCB7IEVkaXRNb2RlQ2lyY2xlIH0gZnJvbSAnLi9FZGl0TW9kZUNpcmNsZSc7XG5pbXBvcnQgeyBFZGl0TW9kZUNsb3VkIH0gZnJvbSAnLi9FZGl0TW9kZUNsb3VkJztcbmltcG9ydCB7IEVkaXRNb2RlRnJlZWhhbmQgfSBmcm9tICcuL0VkaXRNb2RlRnJlZWhhbmQnO1xuaW1wb3J0IHsgRWRpdE1vZGVIaWdobGlnaHQgfSBmcm9tICcuL0VkaXRNb2RlSGlnaGxpZ2h0JztcbmltcG9ydCB7IEVkaXRNb2RlUG9seWxpbmUgfSBmcm9tICcuL0VkaXRNb2RlUG9seWxpbmUnO1xuaW1wb3J0IHsgRWRpdE1vZGVQb2x5Y2xvdWQgfSBmcm9tICcuL0VkaXRNb2RlUG9seWNsb3VkJztcbmltcG9ydCB7IEVkaXRNb2RlQ2FsbG91dCB9IGZyb20gJy4vRWRpdE1vZGVDYWxsb3V0JztcbmltcG9ydCB7IEVkaXRNb2RlRGltZW5zaW9uIH0gZnJvbSAnLi9FZGl0TW9kZURpbWVuc2lvbic7XG5pbXBvcnQgeyBFZGl0TW9kZVN0YW1wIH0gZnJvbSAnLi9FZGl0TW9kZVN0YW1wJztcblxuXG50aGVFZGl0TW9kZU1hbmFnZXIucmVnaXN0ZXIoTWFya3VwVHlwZXMuTUFSS1VQX1RZUEVfQVJST1csIEVkaXRNb2RlQXJyb3cpO1xudGhlRWRpdE1vZGVNYW5hZ2VyLnJlZ2lzdGVyKE1hcmt1cFR5cGVzLk1BUktVUF9UWVBFX1RFWFQsIEVkaXRNb2RlVGV4dCk7XG50aGVFZGl0TW9kZU1hbmFnZXIucmVnaXN0ZXIoTWFya3VwVHlwZXMuTUFSS1VQX1RZUEVfUkVDVEFOR0xFLCBFZGl0TW9kZVJlY3RhbmdsZSk7XG50aGVFZGl0TW9kZU1hbmFnZXIucmVnaXN0ZXIoTWFya3VwVHlwZXMuTUFSS1VQX1RZUEVfQ0lSQ0xFLCBFZGl0TW9kZUNpcmNsZSk7XG50aGVFZGl0TW9kZU1hbmFnZXIucmVnaXN0ZXIoTWFya3VwVHlwZXMuTUFSS1VQX1RZUEVfQ0xPVUQsIEVkaXRNb2RlQ2xvdWQpO1xudGhlRWRpdE1vZGVNYW5hZ2VyLnJlZ2lzdGVyKE1hcmt1cFR5cGVzLk1BUktVUF9UWVBFX0ZSRUVIQU5ELCBFZGl0TW9kZUZyZWVoYW5kKTtcbnRoZUVkaXRNb2RlTWFuYWdlci5yZWdpc3RlcihNYXJrdXBUeXBlcy5NQVJLVVBfVFlQRV9ISUdITElHSFQsIEVkaXRNb2RlSGlnaGxpZ2h0KTtcbnRoZUVkaXRNb2RlTWFuYWdlci5yZWdpc3RlcihNYXJrdXBUeXBlcy5NQVJLVVBfVFlQRV9QT0xZTElORSwgRWRpdE1vZGVQb2x5bGluZSk7XG50aGVFZGl0TW9kZU1hbmFnZXIucmVnaXN0ZXIoTWFya3VwVHlwZXMuTUFSS1VQX1RZUEVfUE9MWUNMT1VELCBFZGl0TW9kZVBvbHljbG91ZCk7XG50aGVFZGl0TW9kZU1hbmFnZXIucmVnaXN0ZXIoTWFya3VwVHlwZXMuTUFSS1VQX1RZUEVfQ0FMTE9VVCwgRWRpdE1vZGVDYWxsb3V0KTtcbnRoZUVkaXRNb2RlTWFuYWdlci5yZWdpc3RlcihNYXJrdXBUeXBlcy5NQVJLVVBfVFlQRV9ESU1FTlNJT04sIEVkaXRNb2RlRGltZW5zaW9uKTtcbnRoZUVkaXRNb2RlTWFuYWdlci5yZWdpc3RlcihNYXJrdXBUeXBlcy5NQVJLVVBfVFlQRV9TVEFNUCwgRWRpdE1vZGVTdGFtcCk7XG5cbiJdLCJuYW1lcyI6WyJ0aGVFZGl0TW9kZU1hbmFnZXIiLCJNYXJrdXBUeXBlcyIsIkVkaXRNb2RlQXJyb3ciLCJFZGl0TW9kZVRleHQiLCJFZGl0TW9kZVJlY3RhbmdsZSIsIkVkaXRNb2RlQ2lyY2xlIiwiRWRpdE1vZGVDbG91ZCIsIkVkaXRNb2RlRnJlZWhhbmQiLCJFZGl0TW9kZUhpZ2hsaWdodCIsIkVkaXRNb2RlUG9seWxpbmUiLCJFZGl0TW9kZVBvbHljbG91ZCIsIkVkaXRNb2RlQ2FsbG91dCIsIkVkaXRNb2RlRGltZW5zaW9uIiwiRWRpdE1vZGVTdGFtcCIsInJlZ2lzdGVyIiwiTUFSS1VQX1RZUEVfQVJST1ciLCJNQVJLVVBfVFlQRV9URVhUIiwiTUFSS1VQX1RZUEVfUkVDVEFOR0xFIiwiTUFSS1VQX1RZUEVfQ0lSQ0xFIiwiTUFSS1VQX1RZUEVfQ0xPVUQiLCJNQVJLVVBfVFlQRV9GUkVFSEFORCIsIk1BUktVUF9UWVBFX0hJR0hMSUdIVCIsIk1BUktVUF9UWVBFX1BPTFlMSU5FIiwiTUFSS1VQX1RZUEVfUE9MWUNMT1VEIiwiTUFSS1VQX1RZUEVfQ0FMTE9VVCIsIk1BUktVUF9UWVBFX0RJTUVOU0lPTiIsIk1BUktVUF9UWVBFX1NUQU1QIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-modes/BuiltinEditModes.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-modes/EditMode.js":
/*!*******************************************************!*\
  !*** ./extensions/Markup/core/edit-modes/EditMode.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditMode: () => (/* binding */ EditMode)\n/* harmony export */ });\n/* harmony import */ var _MarkupEvents__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../MarkupEvents */ \"./extensions/Markup/core/MarkupEvents.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n/* harmony import */ var _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../MarkupsCoreUtils */ \"./extensions/Markup/core/MarkupsCoreUtils.js\");\n/* harmony import */ var _edit_actions_SetStyle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../edit-actions/SetStyle */ \"./extensions/Markup/core/edit-actions/SetStyle.js\");\n\n\n\n\n\n\n\nconst av = Autodesk.Viewing;\n\n/**\n * Base class for all markup edit modes.\n *\n * An EditMode is responsible for handling user input to create and edit a\n * {@link Autodesk.Viewing.Extensions.Markups.Core.Markup|Markup}.\n *\n * Any class extending Markup should contain at least the following methods:\n * - deleteMarkup()\n * - onMouseDown()\n * - onMouseMove()\n *\n * A good reference is the Circle EditMode implementation available in\n * {@link Autodesk.Viewing.Extensions.Markups.Core.EditModeCircle|EditModeCircle}.\n *\n * @tutorial feature_markup\n * @constructor\n * @memberof Autodesk.Viewing.Extensions.Markups.Core\n *\n * @param {Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore} editor - Markups extension.\n * @param {String} type - An identifier for the EditMode type. Not to be confused by the Markup's id.\n * @param {Array} styleAttributes - Attributes for customization.\n * @constructor\n */\nfunction EditMode(editor, type, styleAttributes) {\n\n  this.editor = editor;\n  this.viewer = editor.viewer;\n  this.setGlobalManager(this.viewer.globalManager);\n  this.type = type;\n  this.selectedMarkup = null;\n  this.dragging = false;\n  this.draggingAnnotationIniPosition = null;\n  this.draggingMouseIniPosition = new THREE.Vector2();\n  this.initialX = 0;\n  this.initialY = 0;\n  this.minSize = 9; // In pixels\n  this.creating = false;\n  this.size = { x: 0, y: 0 };\n  this.style = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_1__.createStyle)(styleAttributes, this.editor);\n  this.style = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_1__.copyStyle)(editor.getDefaultStyle(), this.style);\n\n  this.CREATION_METHOD_DRAG = 'CREATION_METHOD_DRAG';\n  this.CREATION_METHOD_CLICK = 'CREATION_METHOD_CLICK';\n  this.CREATION_METHOD_CLICKS = 'CREATION_METHOD_CLICKS';\n  this.creationMethod = this.CREATION_METHOD_DRAG;\n\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.addTraitEventDispatcher)(this);\n}\n\nav.GlobalManagerMixin.call(EditMode.prototype);\nvar proto = EditMode.prototype;\n\nproto.destroy = function () {\n\n  this.unselect();\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.removeTraitEventDispatcher)(this);\n};\n\nproto.unselect = function () {\n\n  var fireEv = false;\n  var selectedMarkup = this.selectedMarkup;\n  var selectedId = null;\n\n  if (selectedMarkup) {\n    selectedId = selectedMarkup.id;\n    selectedMarkup.unselect();\n    this.selectedMarkup = null;\n    fireEv = true;\n  }\n\n  this.editor.editFrame.setMarkup(null);\n\n  if (fireEv) {\n    this.dispatchEvent({ type: _MarkupEvents__WEBPACK_IMPORTED_MODULE_0__.EVENT_MARKUP_DESELECT, markupId: selectedId });\n  }\n};\n\nproto.creationBegin = function () {\n\n  if (this.creating) {\n    return;\n  }\n\n  this.creating = true;\n  this.dispatchEvent({ type: _MarkupEvents__WEBPACK_IMPORTED_MODULE_0__.EVENT_EDITMODE_CREATION_BEGIN });\n};\n\nproto.creationEnd = function (isCancelling) {\n\n  if (!this.creating) {\n    return false;\n  }\n\n  if (this.creationMethod !== this.CREATION_METHOD_CLICK) {\n\n    if (this.selectedMarkup && !this.isMinSizeValid()) {\n\n      this.creationCancel();\n      isCancelling = true;\n    } else {\n\n      if (this.creationMethod === this.CREATION_METHOD_DRAG) {\n        this.finishDragging();\n      }\n\n      if (this.selectedMarkup) {\n\n        // Opened on mouse down.\n        this.editor.closeActionGroup();\n        this.selectedMarkup = null;\n      }\n    }\n  }\n\n  this.creating = false;\n  this.dispatchEvent({ type: _MarkupEvents__WEBPACK_IMPORTED_MODULE_0__.EVENT_EDITMODE_CREATION_END, creationCancelled: !!isCancelling });\n  return true;\n};\n\nproto.creationCancel = function () {\n\n  this.editor.cancelActionGroup();\n  this.creationEnd(true);\n  this.selectedMarkup = null; // No need to call unselect\n};\n\n/**\n *\n * @param style\n */\nproto.setStyle = function (style) {\n\n  this.style = style;\n\n  var selectedMarkup = this.selectedMarkup;\n  if (!selectedMarkup) {\n    return;\n  }\n\n  var setStyle = new _edit_actions_SetStyle__WEBPACK_IMPORTED_MODULE_3__.SetStyle(this.editor, selectedMarkup, style);\n  setStyle.execute();\n};\n\nproto.getStyle = function () {\n\n  return this.style;\n};\n\nproto.setSelection = function (markup) {\n\n  if (this.selectedMarkup !== markup) {\n    this.unselect();\n    markup && markup.select();\n  }\n\n  this.selectedMarkup = markup;\n\n  var editor = this.editor;\n  markup && editor.bringToFront(markup);\n\n  if (this.isTextInputHelperActive() && editor.editFrame.markup) {\n    this.textInputHelper.setEditFrame();\n  } else if (!this.creating) {\n    editor.editFrame.setMarkup(markup);\n  }\n};\n\nproto.getSelection = function () {\n\n  return this.selectedMarkup;\n};\n\n/**\n *\n * @param [markup] If provided deletes markup (has to have same type that the edit mode), otherwise deletes selected one.\n * @param [cantUndo] If true to not add deletion to undo history.\n * @returns {boolean}\n */\nproto.deleteMarkup = function (markup, cantUndo) {\n\n  return false;\n};\n\n/**\n * Used by classes extending EditMode to validate the minimum size (in screen coordinates) of the markup.\n * See minSize attribute\n * @return {Boolean} Whether current size is valid for creating the markup\n * @private\n */\nproto.isMinSizeValid = function () {\n\n  if (this.minSize !== 0) {\n\n    var tmp = this.editor.sizeFromMarkupsToClient(this.size.x, this.size.y);\n    return tmp.x * tmp.x + tmp.y * tmp.y >= this.minSize * this.minSize;\n\n  }\n  return true;\n};\n\n/**\n * @private\n */\nproto.startDragging = function () {\n\n  var selectedMarkup = this.selectedMarkup;\n  var mousePosition = this.editor.getMousePosition();\n\n  if (selectedMarkup) {\n\n    this.dragging = true;\n    this.draggingAnnotationIniPosition = selectedMarkup.getClientPosition();\n    this.draggingMouseIniPosition.set(mousePosition.x, mousePosition.y);\n  }\n};\n\n/**\n * @private\n */\nproto.finishDragging = function () {\n\n  var dragging = this.dragging;\n  var selectedMarkup = this.selectedMarkup;\n\n  this.dragging = false;\n\n  if (selectedMarkup && dragging) {\n\n    selectedMarkup.finishDragging();\n  }\n};\n\n/**\n *\n * @returns {{x: number, y: number}}\n */\nproto.getFinalMouseDraggingPosition = function () {\n\n  var editor = this.editor;\n  var bounds = editor.getBounds();\n  var mousePosition = editor.getMousePosition();\n\n  var initialX = this.initialX;\n  var initialY = this.initialY;\n\n  var finalX = Math.min(Math.max(bounds.x, mousePosition.x), bounds.x + bounds.width);\n  var finalY = Math.min(Math.max(bounds.y, mousePosition.y), bounds.y + bounds.height);\n\n  if (finalX == initialX &&\n  finalY == initialY) {\n    finalX++;\n    finalY++;\n  }\n\n  // Make equal x/y when shift is down\n  if (editor.input.makeSameXY) {\n    var dx = Math.abs(finalX - initialX);\n    var dy = Math.abs(finalY - initialY);\n\n    var maxDelta = Math.max(dx, dy);\n\n    // These calculations have the opportunity to go beyond 'bounds'.\n    finalX = initialX + maxDelta * (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.sign)(finalX - initialX);\n    finalY = initialY + maxDelta * (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_2__.sign)(finalY - initialY);\n  }\n\n  return { x: finalX, y: finalY };\n};\n\nproto.notifyAllowNavigation = function (allows) {\n\n};\n\nproto.onMouseMove = function (event) {\n  if (!this.selectedMarkup || !this.creating) {\n    return false;\n  }\n  return true;\n};\n\nproto.onMouseDown = function () {\n\n};\n\n/**\n * Handler to mouse up events, used to start annotations creation.\n * It will cancel the creation of a markup if its minSize conditions are not met.\n *\n * @param {MouseEvent} event Mouse event.\n * @private\n */\nproto.onMouseUp = function (event) {\n\n  if (this.creationMethod !== this.CREATION_METHOD_DRAG) {\n    return false;\n  }\n\n  return this.creationEnd();\n};\n\nproto.onMouseDoubleClick = function (event) {\n\n  if (this.creationMethod !== this.CREATION_METHOD_CLICKS) {\n    return;\n  }\n\n  this.creationEnd();\n};\n\n/**\n * Notify the markup that the displayed markups are being saved so edit mode can finish current editions.\n */\nproto.onSave = function () {\n\n  if (this.creating) {\n    this.creationCancel();\n  }\n};\n\n/**\n *\n * @returns {{x: *, y: *}}\n */\nproto.getDraggingPosition = function () {\n\n  var mousePosition = this.editor.getMousePosition();\n\n  var dx = mousePosition.x - this.draggingMouseIniPosition.x;\n  var dy = mousePosition.y - this.draggingMouseIniPosition.y;\n\n  return {\n    x: this.draggingAnnotationIniPosition.x + dx,\n    y: this.draggingAnnotationIniPosition.y + dy\n  };\n};\n\n/**\n *\n * @param x\n * @param y\n * @param bounds\n * @returns {boolean}\n * @orivate\n */\nproto.isInsideBounds = function (x, y, bounds) {\n\n  return x >= bounds.x && x <= bounds.x + bounds.width &&\n  y >= bounds.y && y <= bounds.y + bounds.height;\n};\n\n/*\n * Decides whether to use the snapper in the current edit mode or not.\n *\n * @returns {boolean}\n */\nproto.useWithSnapping = function () {\n  return this.viewer.model.is2d();\n};\n\n\nproto.isTextInputHelperActive = function () {\n  return this.textInputHelper && this.textInputHelper.isActive();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtbW9kZXMvRWRpdE1vZGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBYTs7QUFFbUM7QUFDTztBQUN5QztBQUM1Qzs7QUFFcEQsTUFBTU8sRUFBRSxHQUFHQyxRQUFRLENBQUNDLE9BQU87O0FBRXZCO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTQyxRQUFRQSxDQUFDQyxNQUFNLEVBQUVDLElBQUksRUFBRUMsZUFBZSxFQUFFOztFQUVwRCxJQUFJLENBQUNGLE1BQU0sR0FBR0EsTUFBTTtFQUNwQixJQUFJLENBQUNHLE1BQU0sR0FBR0gsTUFBTSxDQUFDRyxNQUFNO0VBQzNCLElBQUksQ0FBQ0MsZ0JBQWdCLENBQUMsSUFBSSxDQUFDRCxNQUFNLENBQUNFLGFBQWEsQ0FBQztFQUNoRCxJQUFJLENBQUNKLElBQUksR0FBR0EsSUFBSTtFQUNoQixJQUFJLENBQUNLLGNBQWMsR0FBRyxJQUFJO0VBQzFCLElBQUksQ0FBQ0MsUUFBUSxHQUFHLEtBQUs7RUFDckIsSUFBSSxDQUFDQyw2QkFBNkIsR0FBRyxJQUFJO0VBQ3pDLElBQUksQ0FBQ0Msd0JBQXdCLEdBQUcsSUFBSUMsS0FBSyxDQUFDQyxPQUFPLENBQUMsQ0FBQztFQUNuRCxJQUFJLENBQUNDLFFBQVEsR0FBRyxDQUFDO0VBQ2pCLElBQUksQ0FBQ0MsUUFBUSxHQUFHLENBQUM7RUFDakIsSUFBSSxDQUFDQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUM7RUFDbEIsSUFBSSxDQUFDQyxRQUFRLEdBQUcsS0FBSztFQUNyQixJQUFJLENBQUNDLElBQUksR0FBRyxFQUFDQyxDQUFDLEVBQUUsQ0FBQyxFQUFFQyxDQUFDLEVBQUUsQ0FBQyxFQUFDO0VBQ3hCLElBQUksQ0FBQ0MsS0FBSyxHQUFH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Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9lZGl0LW1vZGVzL0VkaXRNb2RlLmpzPzBlMjUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgKiBhcyBNYXJrdXBFdmVudHMgZnJvbSAnLi4vTWFya3VwRXZlbnRzJztcbmltcG9ydCB7IGNyZWF0ZVN0eWxlLCBjb3B5U3R5bGUgfSBmcm9tICcuLi9TdHlsZVV0aWxzJztcbmltcG9ydCB7IGFkZFRyYWl0RXZlbnREaXNwYXRjaGVyLCByZW1vdmVUcmFpdEV2ZW50RGlzcGF0Y2hlciwgc2lnbiB9IGZyb20gJy4uL01hcmt1cHNDb3JlVXRpbHMnO1xuaW1wb3J0IHsgU2V0U3R5bGUgfSBmcm9tICcuLi9lZGl0LWFjdGlvbnMvU2V0U3R5bGUnO1xuXG5jb25zdCBhdiA9IEF1dG9kZXNrLlZpZXdpbmc7XG5cbiAgICAvKipcbiAgICAgKiBCYXNlIGNsYXNzIGZvciBhbGwgbWFya3VwIGVkaXQgbW9kZXMuXG4gICAgICpcbiAgICAgKiBBbiBFZGl0TW9kZSBpcyByZXNwb25zaWJsZSBmb3IgaGFuZGxpbmcgdXNlciBpbnB1dCB0byBjcmVhdGUgYW5kIGVkaXQgYVxuICAgICAqIHtAbGluayBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlLk1hcmt1cHxNYXJrdXB9LlxuICAgICAqXG4gICAgICogQW55IGNsYXNzIGV4dGVuZGluZyBNYXJrdXAgc2hvdWxkIGNvbnRhaW4gYXQgbGVhc3QgdGhlIGZvbGxvd2luZyBtZXRob2RzOlxuICAgICAqIC0gZGVsZXRlTWFya3VwKClcbiAgICAgKiAtIG9uTW91c2VEb3duKClcbiAgICAgKiAtIG9uTW91c2VNb3ZlKClcbiAgICAgKlxuICAgICAqIEEgZ29vZCByZWZlcmVuY2UgaXMgdGhlIENpcmNsZSBFZGl0TW9kZSBpbXBsZW1lbnRhdGlvbiBhdmFpbGFibGUgaW5cbiAgICAgKiB7QGxpbmsgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZS5FZGl0TW9kZUNpcmNsZXxFZGl0TW9kZUNpcmNsZX0uXG4gICAgICpcbiAgICAgKiBAdHV0b3JpYWwgZmVhdHVyZV9tYXJrdXBcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyb2YgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlLk1hcmt1cHNDb3JlfSBlZGl0b3IgLSBNYXJrdXBzIGV4dGVuc2lvbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSAtIEFuIGlkZW50aWZpZXIgZm9yIHRoZSBFZGl0TW9kZSB0eXBlLiBOb3QgdG8gYmUgY29uZnVzZWQgYnkgdGhlIE1hcmt1cCdzIGlkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHN0eWxlQXR0cmlidXRlcyAtIEF0dHJpYnV0ZXMgZm9yIGN1c3RvbWl6YXRpb24uXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIEVkaXRNb2RlKGVkaXRvciwgdHlwZSwgc3R5bGVBdHRyaWJ1dGVzKSB7XG5cbiAgICAgICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gICAgICAgIHRoaXMudmlld2VyID0gZWRpdG9yLnZpZXdlcjtcbiAgICAgICAgdGhpcy5zZXRHbG9iYWxNYW5hZ2VyKHRoaXMudmlld2VyLmdsb2JhbE1hbmFnZXIpO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnNlbGVjdGVkTWFya3VwID0gbnVsbDtcbiAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRyYWdnaW5nQW5ub3RhdGlvbkluaVBvc2l0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5kcmFnZ2luZ01vdXNlSW5pUG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuICAgICAgICB0aGlzLmluaXRpYWxYID0gMDtcbiAgICAgICAgdGhpcy5pbml0aWFsWSA9IDA7XG4gICAgICAgIHRoaXMubWluU2l6ZSA9IDk7IC8vIEluIHBpeGVsc1xuICAgICAgICB0aGlzLmNyZWF0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2l6ZSA9IHt4OiAwLCB5OiAwfTtcbiAgICAgICAgdGhpcy5zdHlsZSA9IGNyZWF0ZVN0eWxlKHN0eWxlQXR0cmlidXRlcywgdGhpcy5lZGl0b3IpO1xuICAgICAgICB0aGlzLnN0eWxlID0gY29weVN0eWxlKGVkaXRvci5nZXREZWZhdWx0U3R5bGUoKSwgdGhpcy5zdHlsZSk7XG5cbiAgICAgICAgdGhpcy5DUkVBVElPTl9NRVRIT0RfRFJBRyA9ICdDUkVBVElPTl9NRVRIT0RfRFJBRyc7XG4gICAgICAgIHRoaXMuQ1JFQVRJT05fTUVUSE9EX0NMSUNLID0gJ0NSRUFUSU9OX01FVEhPRF9DTElDSyc7XG4gICAgICAgIHRoaXMuQ1JFQVRJT05fTUVUSE9EX0NMSUNLUyA9ICdDUkVBVElPTl9NRVRIT0RfQ0xJQ0tTJztcbiAgICAgICAgdGhpcy5jcmVhdGlvbk1ldGhvZCA9IHRoaXMuQ1JFQVRJT05fTUVUSE9EX0RSQUc7XG5cbiAgICAgICAgYWRkVHJhaXRFdmVudERpc3BhdGNoZXIodGhpcyk7XG4gICAgfVxuXG4gICAgYXYuR2xvYmFsTWFuYWdlck1peGluLmNhbGwoRWRpdE1vZGUucHJvdG90eXBlKTtcbiAgICB2YXIgcHJvdG8gPSBFZGl0TW9kZS5wcm90b3R5cGU7XG5cbiAgICBwcm90by5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdGhpcy51bnNlbGVjdCgpO1xuICAgICAgICByZW1vdmVUcmFpdEV2ZW50RGlzcGF0Y2hlcih0aGlzKTtcbiAgICB9O1xuXG4gICAgcHJvdG8udW5zZWxlY3QgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgZmlyZUV2ID0gZmFsc2U7XG4gICAgICAgIHZhciBzZWxlY3RlZE1hcmt1cCA9IHRoaXMuc2VsZWN0ZWRNYXJrdXA7XG4gICAgICAgIHZhciBzZWxlY3RlZElkID0gbnVsbDtcblxuICAgICAgICBpZiAoc2VsZWN0ZWRNYXJrdXApIHtcbiAgICAgICAgICAgIHNlbGVjdGVkSWQgPSBzZWxlY3RlZE1hcmt1cC5pZDtcbiAgICAgICAgICAgIHNlbGVjdGVkTWFya3VwLnVuc2VsZWN0KCk7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkTWFya3VwID0gbnVsbDtcbiAgICAgICAgICAgIGZpcmVFdiA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVkaXRvci5lZGl0RnJhbWUuc2V0TWFya3VwKG51bGwpO1xuXG4gICAgICAgIGlmIChmaXJlRXYpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6IE1hcmt1cEV2ZW50cy5FVkVOVF9NQVJLVVBfREVTRUxFQ1QsIG1hcmt1cElkOiBzZWxlY3RlZElkIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByb3RvLmNyZWF0aW9uQmVnaW4gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICBpZiAodGhpcy5jcmVhdGluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jcmVhdGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6IE1hcmt1cEV2ZW50cy5FVkVOVF9FRElUTU9ERV9DUkVBVElPTl9CRUdJTiB9KTtcbiAgICB9O1xuXG4gICAgcHJvdG8uY3JlYXRpb25FbmQgPSBmdW5jdGlvbihpc0NhbmNlbGxpbmcpIHtcblxuICAgICAgICBpZiAoIXRoaXMuY3JlYXRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNyZWF0aW9uTWV0aG9kICE9PSB0aGlzLkNSRUFUSU9OX01FVEhPRF9DTElDSykge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE1hcmt1cCAmJiAhdGhpcy5pc01pblNpemVWYWxpZCgpKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0aW9uQ2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgaXNDYW5jZWxsaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jcmVhdGlvbk1ldGhvZCA9PT0gdGhpcy5DUkVBVElPTl9NRVRIT0RfRFJBRykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbmlzaERyYWdnaW5nKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRNYXJrdXApIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBPcGVuZWQgb24gbW91c2UgZG93bi5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0b3IuY2xvc2VBY3Rpb25Hcm91cCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTWFya3VwID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNyZWF0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6IE1hcmt1cEV2ZW50cy5FVkVOVF9FRElUTU9ERV9DUkVBVElPTl9FTkQsIGNyZWF0aW9uQ2FuY2VsbGVkOiAhIWlzQ2FuY2VsbGluZyB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHByb3RvLmNyZWF0aW9uQ2FuY2VsID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdGhpcy5lZGl0b3IuY2FuY2VsQWN0aW9uR3JvdXAoKTtcbiAgICAgICAgdGhpcy5jcmVhdGlvbkVuZCh0cnVlKTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZE1hcmt1cCA9IG51bGw7IC8vIE5vIG5lZWQgdG8gY2FsbCB1bnNlbGVjdFxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdHlsZVxuICAgICAqL1xuICAgIHByb3RvLnNldFN0eWxlID0gZnVuY3Rpb24oc3R5bGUpIHtcblxuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG5cbiAgICAgICAgdmFyIHNlbGVjdGVkTWFya3VwID0gdGhpcy5zZWxlY3RlZE1hcmt1cDtcbiAgICAgICAgaWYoIXNlbGVjdGVkTWFya3VwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2V0U3R5bGUgPSBuZXcgU2V0U3R5bGUodGhpcy5lZGl0b3IsIHNlbGVjdGVkTWFya3VwLCBzdHlsZSk7XG4gICAgICAgIHNldFN0eWxlLmV4ZWN1dGUoKTtcbiAgICB9O1xuXG4gICAgcHJvdG8uZ2V0U3R5bGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZTtcbiAgICB9O1xuXG4gICAgcHJvdG8uc2V0U2VsZWN0aW9uID0gZnVuY3Rpb24obWFya3VwKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRNYXJrdXAgIT09IG1hcmt1cCkge1xuICAgICAgICAgICAgdGhpcy51bnNlbGVjdCgpO1xuICAgICAgICAgICAgbWFya3VwICYmIG1hcmt1cC5zZWxlY3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRNYXJrdXAgPSBtYXJrdXA7XG5cbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgICAgICBtYXJrdXAgJiYgZWRpdG9yLmJyaW5nVG9Gcm9udChtYXJrdXApO1xuXG4gICAgICAgIGlmICh0aGlzLmlzVGV4dElucHV0SGVscGVyQWN0aXZlKCkgJiYgZWRpdG9yLmVkaXRGcmFtZS5tYXJrdXApIHtcbiAgICAgICAgICAgIHRoaXMudGV4dElucHV0SGVscGVyLnNldEVkaXRGcmFtZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLmNyZWF0aW5nKSB7XG4gICAgICAgICAgICBlZGl0b3IuZWRpdEZyYW1lLnNldE1hcmt1cChtYXJrdXApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByb3RvLmdldFNlbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkTWFya3VwO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBbbWFya3VwXSBJZiBwcm92aWRlZCBkZWxldGVzIG1hcmt1cCAoaGFzIHRvIGhhdmUgc2FtZSB0eXBlIHRoYXQgdGhlIGVkaXQgbW9kZSksIG90aGVyd2lzZSBkZWxldGVzIHNlbGVjdGVkIG9uZS5cbiAgICAgKiBAcGFyYW0gW2NhbnRVbmRvXSBJZiB0cnVlIHRvIG5vdCBhZGQgZGVsZXRpb24gdG8gdW5kbyBoaXN0b3J5LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHByb3RvLmRlbGV0ZU1hcmt1cCA9IGZ1bmN0aW9uIChtYXJrdXAsIGNhbnRVbmRvKSB7XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGNsYXNzZXMgZXh0ZW5kaW5nIEVkaXRNb2RlIHRvIHZhbGlkYXRlIHRoZSBtaW5pbXVtIHNpemUgKGluIHNjcmVlbiBjb29yZGluYXRlcykgb2YgdGhlIG1hcmt1cC5cbiAgICAgKiBTZWUgbWluU2l6ZSBhdHRyaWJ1dGVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBXaGV0aGVyIGN1cnJlbnQgc2l6ZSBpcyB2YWxpZCBmb3IgY3JlYXRpbmcgdGhlIG1hcmt1cFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJvdG8uaXNNaW5TaXplVmFsaWQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICBpZiAodGhpcy5taW5TaXplICE9PSAwKSB7XG5cbiAgICAgICAgICAgIHZhciB0bXAgPSB0aGlzLmVkaXRvci5zaXplRnJvbU1hcmt1cHNUb0NsaWVudCh0aGlzLnNpemUueCwgdGhpcy5zaXplLnkpO1xuICAgICAgICAgICAgcmV0dXJuICh0bXAueCp0bXAueCArIHRtcC55KnRtcC55KSA+PSAodGhpcy5taW5TaXplICogdGhpcy5taW5TaXplKTtcblxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByb3RvLnN0YXJ0RHJhZ2dpbmcgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgc2VsZWN0ZWRNYXJrdXAgPSB0aGlzLnNlbGVjdGVkTWFya3VwO1xuICAgICAgICB2YXIgbW91c2VQb3NpdGlvbiA9IHRoaXMuZWRpdG9yLmdldE1vdXNlUG9zaXRpb24oKTtcblxuICAgICAgICBpZiAoc2VsZWN0ZWRNYXJrdXApIHtcblxuICAgICAgICAgICAgdGhpcy5kcmFnZ2luZyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRyYWdnaW5nQW5ub3RhdGlvbkluaVBvc2l0aW9uID0gc2VsZWN0ZWRNYXJrdXAuZ2V0Q2xpZW50UG9zaXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmdNb3VzZUluaVBvc2l0aW9uLnNldChtb3VzZVBvc2l0aW9uLngsIG1vdXNlUG9zaXRpb24ueSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcm90by5maW5pc2hEcmFnZ2luZyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBkcmFnZ2luZyA9IHRoaXMuZHJhZ2dpbmc7XG4gICAgICAgIHZhciBzZWxlY3RlZE1hcmt1cCA9IHRoaXMuc2VsZWN0ZWRNYXJrdXA7XG5cbiAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChzZWxlY3RlZE1hcmt1cCAmJiBkcmFnZ2luZykge1xuXG4gICAgICAgICAgICBzZWxlY3RlZE1hcmt1cC5maW5pc2hEcmFnZ2luZygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHJldHVybnMge3t4OiBudW1iZXIsIHk6IG51bWJlcn19XG4gICAgICovXG4gICAgcHJvdG8uZ2V0RmluYWxNb3VzZURyYWdnaW5nUG9zaXRpb24gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgIHZhciBib3VuZHMgPSBlZGl0b3IuZ2V0Qm91bmRzKCk7XG4gICAgICAgIHZhciBtb3VzZVBvc2l0aW9uID0gZWRpdG9yLmdldE1vdXNlUG9zaXRpb24oKTtcblxuICAgICAgICB2YXIgaW5pdGlhbFggPSB0aGlzLmluaXRpYWxYO1xuICAgICAgICB2YXIgaW5pdGlhbFkgPSB0aGlzLmluaXRpYWxZO1xuXG4gICAgICAgIHZhciBmaW5hbFggPSBNYXRoLm1pbihNYXRoLm1heChib3VuZHMueCwgbW91c2VQb3NpdGlvbi54KSwgYm91bmRzLnggKyBib3VuZHMud2lkdGgpO1xuICAgICAgICB2YXIgZmluYWxZID0gTWF0aC5taW4oTWF0aC5tYXgoYm91bmRzLnksIG1vdXNlUG9zaXRpb24ueSksIGJvdW5kcy55ICsgYm91bmRzLmhlaWdodCk7XG5cbiAgICAgICAgaWYgKGZpbmFsWCA9PSBpbml0aWFsWCAmJlxuICAgICAgICAgICAgZmluYWxZID09IGluaXRpYWxZKSB7XG4gICAgICAgICAgICBmaW5hbFgrKztcbiAgICAgICAgICAgIGZpbmFsWSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWFrZSBlcXVhbCB4L3kgd2hlbiBzaGlmdCBpcyBkb3duXG4gICAgICAgIGlmIChlZGl0b3IuaW5wdXQubWFrZVNhbWVYWSkge1xuICAgICAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnMoZmluYWxYIC0gaW5pdGlhbFgpO1xuICAgICAgICAgICAgdmFyIGR5ID0gTWF0aC5hYnMoZmluYWxZIC0gaW5pdGlhbFkpO1xuXG4gICAgICAgICAgICB2YXIgbWF4RGVsdGEgPSBNYXRoLm1heChkeCwgZHkpO1xuXG4gICAgICAgICAgICAvLyBUaGVzZSBjYWxjdWxhdGlvbnMgaGF2ZSB0aGUgb3Bwb3J0dW5pdHkgdG8gZ28gYmV5b25kICdib3VuZHMnLlxuICAgICAgICAgICAgZmluYWxYID0gaW5pdGlhbFggKyBtYXhEZWx0YSAqIHNpZ24oZmluYWxYIC0gaW5pdGlhbFgpO1xuICAgICAgICAgICAgZmluYWxZID0gaW5pdGlhbFkgKyBtYXhEZWx0YSAqIHNpZ24oZmluYWxZIC0gaW5pdGlhbFkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgeDpmaW5hbFgsIHk6ZmluYWxZIH07XG4gICAgfTtcblxuICAgIHByb3RvLm5vdGlmeUFsbG93TmF2aWdhdGlvbiA9IGZ1bmN0aW9uKGFsbG93cykge1xuXG4gICAgfTtcblxuICAgIHByb3RvLm9uTW91c2VNb3ZlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5zZWxlY3RlZE1hcmt1cCB8fCAhdGhpcy5jcmVhdGluZykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICBwcm90by5vbk1vdXNlRG93biA9IGZ1bmN0aW9uICgpIHtcblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVyIHRvIG1vdXNlIHVwIGV2ZW50cywgdXNlZCB0byBzdGFydCBhbm5vdGF0aW9ucyBjcmVhdGlvbi5cbiAgICAgKiBJdCB3aWxsIGNhbmNlbCB0aGUgY3JlYXRpb24gb2YgYSBtYXJrdXAgaWYgaXRzIG1pblNpemUgY29uZGl0aW9ucyBhcmUgbm90IG1ldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgTW91c2UgZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcm90by5vbk1vdXNlVXAgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIGlmICh0aGlzLmNyZWF0aW9uTWV0aG9kICE9PSB0aGlzLkNSRUFUSU9OX01FVEhPRF9EUkFHKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGlvbkVuZCgpO1xuICAgIH07XG5cbiAgICBwcm90by5vbk1vdXNlRG91YmxlQ2xpY2sgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIGlmICh0aGlzLmNyZWF0aW9uTWV0aG9kICE9PSB0aGlzLkNSRUFUSU9OX01FVEhPRF9DTElDS1MpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3JlYXRpb25FbmQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTm90aWZ5IHRoZSBtYXJrdXAgdGhhdCB0aGUgZGlzcGxheWVkIG1hcmt1cHMgYXJlIGJlaW5nIHNhdmVkIHNvIGVkaXQgbW9kZSBjYW4gZmluaXNoIGN1cnJlbnQgZWRpdGlvbnMuXG4gICAgICovXG4gICAgcHJvdG8ub25TYXZlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuY3JlYXRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRpb25DYW5jZWwoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHt7eDogKiwgeTogKn19XG4gICAgICovXG4gICAgcHJvdG8uZ2V0RHJhZ2dpbmdQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgbW91c2VQb3NpdGlvbiA9IHRoaXMuZWRpdG9yLmdldE1vdXNlUG9zaXRpb24oKTtcblxuICAgICAgICB2YXIgZHggPSBtb3VzZVBvc2l0aW9uLnggLSB0aGlzLmRyYWdnaW5nTW91c2VJbmlQb3NpdGlvbi54O1xuICAgICAgICB2YXIgZHkgPSBtb3VzZVBvc2l0aW9uLnkgLSB0aGlzLmRyYWdnaW5nTW91c2VJbmlQb3NpdGlvbi55O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB0aGlzLmRyYWdnaW5nQW5ub3RhdGlvbkluaVBvc2l0aW9uLnggKyBkeCxcbiAgICAgICAgICAgIHk6IHRoaXMuZHJhZ2dpbmdBbm5vdGF0aW9uSW5pUG9zaXRpb24ueSArIGR5XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHhcbiAgICAgKiBAcGFyYW0geVxuICAgICAqIEBwYXJhbSBib3VuZHNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKiBAb3JpdmF0ZVxuICAgICAqL1xuICAgIHByb3RvLmlzSW5zaWRlQm91bmRzID0gZnVuY3Rpb24gKHgsIHksIGJvdW5kcykge1xuXG4gICAgICAgIHJldHVybiB4ID49IGJvdW5kcy54ICYmIHggPD0gYm91bmRzLnggKyBib3VuZHMud2lkdGggJiZcbiAgICAgICAgICAgICAgIHkgPj0gYm91bmRzLnkgJiYgeSA8PSBib3VuZHMueSArIGJvdW5kcy5oZWlnaHQ7XG4gICAgfTtcblxuICAgIC8qXG4gICAgICogRGVjaWRlcyB3aGV0aGVyIHRvIHVzZSB0aGUgc25hcHBlciBpbiB0aGUgY3VycmVudCBlZGl0IG1vZGUgb3Igbm90LlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgcHJvdG8udXNlV2l0aFNuYXBwaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXIubW9kZWwuaXMyZCgpO1xuICAgIH07XG5cblxuICAgIHByb3RvLmlzVGV4dElucHV0SGVscGVyQWN0aXZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHRJbnB1dEhlbHBlciAmJiB0aGlzLnRleHRJbnB1dEhlbHBlci5pc0FjdGl2ZSgpO1xuICAgIH07XG4iXSwibmFtZXMiOlsiTWFya3VwRXZlbnRzIiwiY3JlYXRlU3R5bGUiLCJjb3B5U3R5bGUiLCJhZGRUcmFpdEV2ZW50RGlzcGF0Y2hlciIsInJlbW92ZVRyYWl0RXZlbnREaXNwYXRjaGVyIiwic2lnbiIsIlNldFN0eWxlIiwiYXYiLCJBdXRvZGVzayIsIlZpZXdpbmciLCJFZGl0TW9kZSIsImVkaXRvciIsInR5cGUiLCJzdHlsZUF0dHJpYnV0ZXMiLCJ2aWV3ZXIiLCJzZXRHbG9iYWxNYW5hZ2VyIiwiZ2xvYmFsTWFuYWdlciIsInNlbGVjdGVkTWFya3VwIiwiZHJhZ2dpbmciLCJkcmFnZ2luZ0Fubm90YXRpb25JbmlQb3NpdGlvbiIsImRyYWdnaW5nTW91c2VJbmlQb3NpdGlvbiIsIlRIUkVFIiwiVmVjdG9yMiIsImluaXRpYWxYIiwiaW5pdGlhbFkiLCJtaW5TaXplIiwiY3JlYXRpbmciLCJzaXplIiwieCIsInkiLCJzdHlsZSIsImdldERlZmF1bHRTdHlsZSIsIkNSRUFUSU9OX01FVEhPRF9EUkFHIiwiQ1JFQVRJT05fTUVUSE9EX0NMSUNLIiwiQ1JFQVRJT05fTUVUSE9EX0NMSUNLUyIsImNyZWF0aW9uTWV0aG9kIiwiR2xvYmFsTWFuYWdlck1peGluIiwiY2FsbCIsInByb3RvdHlwZSIsInByb3RvIiwiZGVzdHJveSIsInVuc2VsZWN0IiwiZmlyZUV2Iiwic2VsZWN0ZWRJZCIsImlkIiwiZWRpdEZyYW1lIiwic2V0TWFya3VwIiwiZGlzcGF0Y2hFdmVudCIsIkVWRU5UX01BUktVUF9ERVNFTEVDVCIsIm1hcmt1cElkIiwiY3JlYXRpb25CZWdpbiIsIkVWRU5UX0VESVRNT0RFX0NSRUFUSU9OX0JFR0lOIiwiY3JlYXRpb25FbmQiLCJpc0NhbmNlbGxpbmciLCJpc01pblNpemVWYWxpZCIsImNyZWF0aW9uQ2FuY2VsIiwiZmluaXNoRHJhZ2dpbmciLCJjbG9zZUFjdGlvbkdyb3VwIiwiRVZFTlRfRURJVE1PREVfQ1JFQVRJT05fRU5EIiwiY3JlYXRpb25DYW5jZWxsZWQiLCJjYW5jZWxBY3Rpb25Hcm91cCIsInNldFN0eWxlIiwiZXhlY3V0ZSIsImdldFN0eWxlIiwic2V0U2VsZWN0aW9uIiwibWFya3VwIiwic2VsZWN0IiwiYnJpbmdUb0Zyb250IiwiaXNUZXh0SW5wdXRIZWxwZXJBY3RpdmUiLCJ0ZXh0SW5wdXRIZWxwZXIiLCJzZXRFZGl0RnJhbWUiLCJnZXRTZWxlY3Rpb24iLCJkZWxldGVNYXJrdXAiLCJjYW50VW5kbyIsInRtcCIsInNpemVGcm9tTWFya3Vwc1RvQ2xpZW50Iiwic3RhcnREcmFnZ2luZyIsIm1vdXNlUG9zaXRpb24iLCJnZXRNb3VzZVBvc2l0aW9uIiwiZ2V0Q2xpZW50UG9zaXRpb24iLCJzZXQiLCJnZXRGaW5hbE1vdXNlRHJhZ2dpbmdQb3NpdGlvbiIsImJvdW5kcyIsImdldEJvdW5kcyIsImZpbmFsWCIsIk1hdGgiLCJtaW4iLCJtYXgiLCJ3aWR0aCIsImZpbmFsWSIsImhlaWdodCIsImlucHV0IiwibWFrZVNhbWVYWSIsImR4IiwiYWJzIiwiZHkiLCJtYXhEZWx0YSIsIm5vdGlmeUFsbG93TmF2aWdhdGlvbiIsImFsbG93cyIsIm9uTW91c2VNb3ZlIiwiZXZlbnQiLCJvbk1vdXNlRG93biIsIm9uTW91c2VVcCIsIm9uTW91c2VEb3VibGVDbGljayIsIm9uU2F2ZSIsImdldERyYWdnaW5nUG9zaXRpb24iLCJpc0luc2lkZUJvdW5kcyIsInVzZVdpdGhTbmFwcGluZyIsIm1vZGVsIiwiaXMyZCIsImlzQWN0aXZlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-modes/EditMode.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-modes/EditModeArrow.js":
/*!************************************************************!*\
  !*** ./extensions/Markup/core/edit-modes/EditModeArrow.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditModeArrow: () => (/* binding */ EditModeArrow)\n/* harmony export */ });\n/* harmony import */ var _EditMode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditMode */ \"./extensions/Markup/core/edit-modes/EditMode.js\");\n/* harmony import */ var _edit_actions_DeleteArrow__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../edit-actions/DeleteArrow */ \"./extensions/Markup/core/edit-actions/DeleteArrow.js\");\n/* harmony import */ var _edit_actions_CreateArrow__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../edit-actions/CreateArrow */ \"./extensions/Markup/core/edit-actions/CreateArrow.js\");\n/* harmony import */ var _edit_actions_SetArrow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../edit-actions/SetArrow */ \"./extensions/Markup/core/edit-actions/SetArrow.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n\n\n\n\n\n\n\n\n\nvar MeasureCommon = Autodesk.Viewing.MeasureCommon;\n\n/**\n *\n * @param editor\n * @constructor\n */\nfunction EditModeArrow(editor) {\n\n  var styleAttributes = ['stroke-width', 'stroke-color', 'stroke-opacity'];\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.call(this, editor, _MarkupTypes__WEBPACK_IMPORTED_MODULE_4__.MARKUP_TYPE_ARROW, styleAttributes);\n}\n\nEditModeArrow.prototype = Object.create(_EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype);\nEditModeArrow.prototype.constructor = EditModeArrow;\n\n\nvar proto = EditModeArrow.prototype;\n\nproto.deleteMarkup = function (markup, cantUndo) {\n\n  markup = markup || this.selectedMarkup;\n  if (markup && markup.type == this.type) {\n    var deleteArrow = new _edit_actions_DeleteArrow__WEBPACK_IMPORTED_MODULE_1__.DeleteArrow(this.editor, markup);\n    deleteArrow.addToHistory = !cantUndo;\n    deleteArrow.execute();\n    return true;\n  }\n  return false;\n};\n\n/**\n * Handler to mouse down events, used to start markups creation.\n * @private\n */\nproto.onMouseDown = function () {\n\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.onMouseDown.call(this);\n\n  if (this.selectedMarkup) {\n    return;\n  }\n\n  var editor = this.editor;\n  var mousePosition = editor.getMousePosition();\n\n  this.initialX = mousePosition.x;\n  this.initialY = mousePosition.y;\n\n  this.size.x = 0;\n  this.size.y = 0;\n\n  // Snap to parallel/perpendicular of underlying vectors\n  this.lineSnapped = null;\n  if (editor.snapper) {\n    var geomType = editor.snapper.getGeometryType();\n    if (geomType === MeasureCommon.SnapType.SNAP_VERTEX ||\n    geomType === MeasureCommon.SnapType.SNAP_EDGE ||\n    geomType === MeasureCommon.SnapType.SNAP_MIDPOINT ||\n    geomType === MeasureCommon.SnapType.SNAP_CIRCLE_CENTER)\n    {\n      this.lineSnapped = editor.snapper.getEdge();\n    }\n  }\n\n  // Calculate head and tail.\n  var arrowMinSize = this.style['stroke-width'] * 3.5;\n\n  var head = this.head = editor.positionFromClientToMarkups(this.initialX, this.initialY);\n  var tail = {\n    x: head.x + Math.cos(Math.PI * 0.25) * arrowMinSize,\n    y: head.y + Math.sin(-Math.PI * 0.25) * arrowMinSize\n  };\n  // Constrain head and tail inside working area.\n  var constrain = function (head, tail, size, bounds) {\n\n    if (this.isInsideBounds(tail.x, tail.y, bounds)) {\n      return;\n    }\n\n    tail.y = head.y + Math.sin(Math.PI * 0.25) * size;\n    if (this.isInsideBounds(tail.x, tail.y, bounds)) {\n      return;\n    }\n\n    tail.x = head.x + Math.cos(-Math.PI * 0.25) * size;\n    if (this.isInsideBounds(tail.x, tail.y, bounds)) {\n      return;\n    }\n\n    tail.y = head.y + Math.sin(-Math.PI * 0.25) * size;\n\n  }.bind(this);\n\n  constrain(head, tail, arrowMinSize, editor.getBounds());\n\n  // Create arrow.\n  editor.beginActionGroup();\n\n  var arrowVector = new THREE.Vector2(tail.x - head.x, tail.y - head.y);\n  if (arrowVector.lengthSq() < arrowMinSize * arrowMinSize) {\n\n    arrowVector = arrowVector.normalize().multiplyScalar(arrowMinSize);\n    tail.x = head.x + arrowVector.x;\n    tail.y = head.y + arrowVector.y;\n  }\n\n  var arrowId = editor.getId();\n  var create = new _edit_actions_CreateArrow__WEBPACK_IMPORTED_MODULE_2__.CreateArrow(editor, arrowId, head, tail, this.style);\n  create.execute();\n\n  this.selectedMarkup = editor.getMarkup(arrowId);\n  this.creationBegin();\n};\n\n/**\n * Handler to mouse move events, used to create markups.\n * @param {MouseEvent} event Mouse event.\n * @private\n */\nproto.onMouseMove = function (event) {\n\n  if (!_EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.onMouseMove.call(this, event)) {\n    return false;\n  }\n\n  var selectedMarkup = this.selectedMarkup;\n\n  var editor = this.editor;\n  var final = this.getFinalMouseDraggingPosition();\n  var initialX = this.initialX;\n  var initialY = this.initialY;\n\n  // Snap to parallel/perpendicular of underlying vectors\n  if (editor.snapper && !editor.snapper.isSnapped() && this.lineSnapped) {\n    var start = editor.project(this.lineSnapped.vertices[0]);\n    var end = editor.project(this.lineSnapped.vertices[1]);\n    var p = new THREE.Vector3(final.x, final.y, start.z);\n\n    var parallel = MeasureCommon.nearestPointInPointToLine(p, start, end);\n\n    // select an arbitrary point on the perpendicular line\n    var k = -(start.x - end.x) / (start.y - end.y);\n    var b = initialY - k * initialX;\n    var x = initialX + 1;\n    var y = k * x + b;\n    var pEnd = new THREE.Vector3(x, y, start.z);\n\n    var pStart = new THREE.Vector3(initialX, initialY, start.z);\n    var perpendicular = MeasureCommon.nearestPointInPointToLine(p, pStart, pEnd);\n\n    // Snap to parallel of underlying vectors\n    if (parallel.distanceTo(p) <= 20) {\n      final.x = parallel.x;\n      final.y = parallel.y;\n    }\n    // Snap to perpendicular of underlying vectors\n    else if (perpendicular.distanceTo(p) <= 20) {\n      final.x = perpendicular.x;\n      final.y = perpendicular.y;\n    }\n  }\n\n  var head = this.head;\n  var tail = editor.positionFromClientToMarkups(final.x, final.y);\n\n  var arrowVector = new THREE.Vector2(tail.x - head.x, tail.y - head.y);\n  var arrowMinSize = selectedMarkup.style['stroke-width'] * 3.5;\n\n  if (arrowVector.lengthSq() < arrowMinSize * arrowMinSize) {\n\n    arrowVector = arrowVector.normalize().multiplyScalar(arrowMinSize);\n    tail.x = head.x + arrowVector.x;\n    tail.y = head.y + arrowVector.y;\n  }\n\n  this.size = editor.sizeFromClientToMarkups(final.x - initialX, final.y - initialY);\n\n  var setArrow = new _edit_actions_SetArrow__WEBPACK_IMPORTED_MODULE_3__.SetArrow(editor, selectedMarkup, head, tail);\n  setArrow.execute();\n  return true;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtbW9kZXMvRWRpdE1vZGVBcnJvdy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBYTs7QUFFeUI7QUFDb0I7QUFDQTtBQUNOO0FBQ047OztBQUcxQyxJQUFJSyxhQUFhLEdBQUdDLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDRixhQUFhOztBQUVsRDtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ1csU0FBU0csYUFBYUEsQ0FBQ0MsTUFBTSxFQUFFOztFQUVsQyxJQUFJQyxlQUFlLEdBQUcsQ0FBQyxjQUFjLEVBQUUsY0FBYyxFQUFFLGdCQUFnQixDQUFDO0VBQ3hFViwrQ0FBUSxDQUFDVyxJQUFJLENBQUMsSUFBSSxFQUFFRixNQUFNLEVBQUVMLDJEQUE2QixFQUFFTSxlQUFlLENBQUM7QUFDL0U7O0FBRUFGLGFBQWEsQ0FBQ0ssU0FBUyxHQUFHQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ2YsK0NBQVEsQ0FBQ2EsU0FBUyxDQUFDO0FBQzNETCxhQUFhLENBQUNLLFNBQVMsQ0FBQ0csV0FBVyxHQUFHUixhQUFhOzs7QUFHbkQsSUFBSVMsS0FBSyxHQUFHVCxhQUFhLENBQUNLLFNBQVM7O0FBRW5DSSxLQUFLLENBQUNDLFlBQVksR0FBRyxVQUFTQyxNQUFNLEVBQUVDLFFBQVEsRUFBRTs7RUFFNUNELE1BQU0sR0FBR0EsTUFBTSxJQUFJLElBQUksQ0FBQ0UsY0FBYztFQUN0QyxJQUFJRixNQUFNLElBQUlBLE1BQU0sQ0FBQ0csSUFBSSxJQUFJLElBQUksQ0FBQ0EsSUFBSSxFQUFFO0lBQ3BDLElBQUlDLFdBQVcsR0FBRyxJQUFJdEIsa0VBQVcsQ0FBQyxJQUFJLENBQUNRLE1BQU0sRUFBRVUsTUFBTSxDQUFDO0lBQ3RESSxXQUFXLENBQUNDLFlBQVksR0FBRyxDQUFDSixRQUFRO0lBQ3BDRyxXQUFXLENBQUNFLE9BQU8sQ0FBQyxDQUFDO0lBQ3JCLE9BQU8sSUFBSTtFQUNmO0VBQ0EsT0FBTyxLQUFLO0FBQ2hCLENBQUM7O0FB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QXVCLENBQUVsQixLQUFLLENBQUN6QyxDQUFDLEdBQUdELFFBQVEsRUFBSTBDLEtBQUssQ0FBQ3ZDLENBQUMsR0FBR0QsUUFBUyxDQUFDOztFQUV0RixJQUFJMkQsUUFBUSxHQUFHLElBQUl2Riw0REFBUSxDQUFDTSxNQUFNLEVBQUVZLGNBQWMsRUFBRXlCLElBQUksRUFBRUUsSUFBSSxDQUFDO0VBQy9EMEMsUUFBUSxDQUFDakUsT0FBTyxDQUFDLENBQUM7RUFDbEIsT0FBTyxJQUFJO0FBQ2YsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtbW9kZXMvRWRpdE1vZGVBcnJvdy5qcz9hM2UxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRWRpdE1vZGUgfSBmcm9tICcuL0VkaXRNb2RlJztcbmltcG9ydCB7IERlbGV0ZUFycm93IH0gZnJvbSAnLi4vZWRpdC1hY3Rpb25zL0RlbGV0ZUFycm93JztcbmltcG9ydCB7IENyZWF0ZUFycm93IH0gZnJvbSAnLi4vZWRpdC1hY3Rpb25zL0NyZWF0ZUFycm93JztcbmltcG9ydCB7IFNldEFycm93IH0gZnJvbSAnLi4vZWRpdC1hY3Rpb25zL1NldEFycm93JztcbmltcG9ydCAqIGFzIE1hcmt1cFR5cGVzIGZyb20gJy4uL01hcmt1cFR5cGVzJztcblxuXG4gICAgdmFyIE1lYXN1cmVDb21tb24gPSBBdXRvZGVzay5WaWV3aW5nLk1lYXN1cmVDb21tb247XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlZGl0b3JcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gRWRpdE1vZGVBcnJvdyhlZGl0b3IpIHtcblxuICAgICAgICB2YXIgc3R5bGVBdHRyaWJ1dGVzID0gWydzdHJva2Utd2lkdGgnLCAnc3Ryb2tlLWNvbG9yJywgJ3N0cm9rZS1vcGFjaXR5J107XG4gICAgICAgIEVkaXRNb2RlLmNhbGwodGhpcywgZWRpdG9yLCBNYXJrdXBUeXBlcy5NQVJLVVBfVFlQRV9BUlJPVywgc3R5bGVBdHRyaWJ1dGVzKTtcbiAgICB9XG5cbiAgICBFZGl0TW9kZUFycm93LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRWRpdE1vZGUucHJvdG90eXBlKTtcbiAgICBFZGl0TW9kZUFycm93LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEVkaXRNb2RlQXJyb3c7XG5cblxuICAgIHZhciBwcm90byA9IEVkaXRNb2RlQXJyb3cucHJvdG90eXBlO1xuXG4gICAgcHJvdG8uZGVsZXRlTWFya3VwID0gZnVuY3Rpb24obWFya3VwLCBjYW50VW5kbykge1xuXG4gICAgICAgIG1hcmt1cCA9IG1hcmt1cCB8fCB0aGlzLnNlbGVjdGVkTWFya3VwO1xuICAgICAgICBpZiAobWFya3VwICYmIG1hcmt1cC50eXBlID09IHRoaXMudHlwZSkge1xuICAgICAgICAgICAgdmFyIGRlbGV0ZUFycm93ID0gbmV3IERlbGV0ZUFycm93KHRoaXMuZWRpdG9yLCBtYXJrdXApO1xuICAgICAgICAgICAgZGVsZXRlQXJyb3cuYWRkVG9IaXN0b3J5ID0gIWNhbnRVbmRvO1xuICAgICAgICAgICAgZGVsZXRlQXJyb3cuZXhlY3V0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVyIHRvIG1vdXNlIGRvd24gZXZlbnRzLCB1c2VkIHRvIHN0YXJ0IG1hcmt1cHMgY3JlYXRpb24uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcm90by5vbk1vdXNlRG93biA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIEVkaXRNb2RlLnByb3RvdHlwZS5vbk1vdXNlRG93bi5jYWxsKHRoaXMpO1xuXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkTWFya3VwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgIHZhciBtb3VzZVBvc2l0aW9uID0gZWRpdG9yLmdldE1vdXNlUG9zaXRpb24oKTtcblxuICAgICAgICB0aGlzLmluaXRpYWxYID0gbW91c2VQb3NpdGlvbi54O1xuICAgICAgICB0aGlzLmluaXRpYWxZID0gbW91c2VQb3NpdGlvbi55O1xuXG4gICAgICAgIHRoaXMuc2l6ZS54ID0gMDtcbiAgICAgICAgdGhpcy5zaXplLnkgPSAwO1xuXG4gICAgICAgIC8vIFNuYXAgdG8gcGFyYWxsZWwvcGVycGVuZGljdWxhciBvZiB1bmRlcmx5aW5nIHZlY3RvcnNcbiAgICAgICAgdGhpcy5saW5lU25hcHBlZCA9IG51bGw7XG4gICAgICAgIGlmIChlZGl0b3Iuc25hcHBlcikge1xuICAgICAgICAgICAgdmFyIGdlb21UeXBlID0gZWRpdG9yLnNuYXBwZXIuZ2V0R2VvbWV0cnlUeXBlKCk7XG4gICAgICAgICAgICBpZiAoZ2VvbVR5cGUgPT09IE1lYXN1cmVDb21tb24uU25hcFR5cGUuU05BUF9WRVJURVggfHxcbiAgICAgICAgICAgICAgICBnZW9tVHlwZSA9PT0gTWVhc3VyZUNvbW1vbi5TbmFwVHlwZS5TTkFQX0VER0UgfHxcbiAgICAgICAgICAgICAgICBnZW9tVHlwZSA9PT0gTWVhc3VyZUNvbW1vbi5TbmFwVHlwZS5TTkFQX01JRFBPSU5UIHx8XG4gICAgICAgICAgICAgICAgZ2VvbVR5cGUgPT09IE1lYXN1cmVDb21tb24uU25hcFR5cGUuU05BUF9DSVJDTEVfQ0VOVEVSKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMubGluZVNuYXBwZWQgPSBlZGl0b3Iuc25hcHBlci5nZXRFZGdlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYWxjdWxhdGUgaGVhZCBhbmQgdGFpbC5cbiAgICAgICAgdmFyIGFycm93TWluU2l6ZSA9IHRoaXMuc3R5bGVbJ3N0cm9rZS13aWR0aCddICogMy41O1xuXG4gICAgICAgIHZhciBoZWFkID0gdGhpcy5oZWFkID0gZWRpdG9yLnBvc2l0aW9uRnJvbUNsaWVudFRvTWFya3Vwcyh0aGlzLmluaXRpYWxYLCB0aGlzLmluaXRpYWxZKTtcbiAgICAgICAgdmFyIHRhaWwgPSB7XG4gICAgICAgICAgICB4OiBoZWFkLnggKyBNYXRoLmNvcyggTWF0aC5QSSAqIDAuMjUpICogYXJyb3dNaW5TaXplLFxuICAgICAgICAgICAgeTogaGVhZC55ICsgTWF0aC5zaW4oLU1hdGguUEkgKiAwLjI1KSAqIGFycm93TWluU2l6ZVxuICAgICAgICB9O1xuICAgICAgICAvLyBDb25zdHJhaW4gaGVhZCBhbmQgdGFpbCBpbnNpZGUgd29ya2luZyBhcmVhLlxuICAgICAgICB2YXIgY29uc3RyYWluID0gZnVuY3Rpb24oaGVhZCwgdGFpbCwgc2l6ZSwgYm91bmRzKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzSW5zaWRlQm91bmRzKHRhaWwueCwgdGFpbC55LCBib3VuZHMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0YWlsLnkgPSBoZWFkLnkgKyBNYXRoLnNpbiggTWF0aC5QSSAqIDAuMjUpICogc2l6ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzSW5zaWRlQm91bmRzKCB0YWlsLngsIHRhaWwueSwgYm91bmRzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGFpbC54ID0gaGVhZC54ICsgTWF0aC5jb3MoLU1hdGguUEkgKiAwLjI1KSAqIHNpemU7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0luc2lkZUJvdW5kcyggdGFpbC54LCB0YWlsLnksIGJvdW5kcykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRhaWwueSA9IGhlYWQueSArIE1hdGguc2luKC1NYXRoLlBJICogMC4yNSkgKiBzaXplO1xuXG4gICAgICAgIH0uYmluZCh0aGlzKTtcblxuICAgICAgICBjb25zdHJhaW4oIGhlYWQsIHRhaWwsIGFycm93TWluU2l6ZSwgZWRpdG9yLmdldEJvdW5kcygpKTtcblxuICAgICAgICAvLyBDcmVhdGUgYXJyb3cuXG4gICAgICAgIGVkaXRvci5iZWdpbkFjdGlvbkdyb3VwKCk7XG5cbiAgICAgICAgdmFyIGFycm93VmVjdG9yID0gbmV3IFRIUkVFLlZlY3RvcjIodGFpbC54IC0gaGVhZC54LCB0YWlsLnkgLSBoZWFkLnkpO1xuICAgICAgICBpZiAoYXJyb3dWZWN0b3IubGVuZ3RoU3EoKSA8IGFycm93TWluU2l6ZSAqIGFycm93TWluU2l6ZSkge1xuXG4gICAgICAgICAgICBhcnJvd1ZlY3RvciA9IGFycm93VmVjdG9yLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKGFycm93TWluU2l6ZSk7XG4gICAgICAgICAgICB0YWlsLnggPSBoZWFkLnggKyBhcnJvd1ZlY3Rvci54O1xuICAgICAgICAgICAgdGFpbC55ID0gaGVhZC55ICsgYXJyb3dWZWN0b3IueTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhcnJvd0lkID0gZWRpdG9yLmdldElkKCk7XG4gICAgICAgIHZhciBjcmVhdGUgPSBuZXcgQ3JlYXRlQXJyb3coZWRpdG9yLCBhcnJvd0lkLCBoZWFkLCB0YWlsLCB0aGlzLnN0eWxlKTtcbiAgICAgICAgY3JlYXRlLmV4ZWN1dGUoKTtcblxuICAgICAgICB0aGlzLnNlbGVjdGVkTWFya3VwID0gZWRpdG9yLmdldE1hcmt1cChhcnJvd0lkKTtcbiAgICAgICAgdGhpcy5jcmVhdGlvbkJlZ2luKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXIgdG8gbW91c2UgbW92ZSBldmVudHMsIHVzZWQgdG8gY3JlYXRlIG1hcmt1cHMuXG4gICAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCBNb3VzZSBldmVudC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByb3RvLm9uTW91c2VNb3ZlID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICBpZiAoIUVkaXRNb2RlLnByb3RvdHlwZS5vbk1vdXNlTW92ZS5jYWxsKCB0aGlzLCBldmVudCApKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2VsZWN0ZWRNYXJrdXAgPSB0aGlzLnNlbGVjdGVkTWFya3VwO1xuXG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICAgICAgdmFyIGZpbmFsID0gdGhpcy5nZXRGaW5hbE1vdXNlRHJhZ2dpbmdQb3NpdGlvbigpO1xuICAgICAgICB2YXIgaW5pdGlhbFggPSB0aGlzLmluaXRpYWxYO1xuICAgICAgICB2YXIgaW5pdGlhbFkgPSB0aGlzLmluaXRpYWxZO1xuXG4gICAgICAgIC8vIFNuYXAgdG8gcGFyYWxsZWwvcGVycGVuZGljdWxhciBvZiB1bmRlcmx5aW5nIHZlY3RvcnNcbiAgICAgICAgaWYgKGVkaXRvci5zbmFwcGVyICYmICFlZGl0b3Iuc25hcHBlci5pc1NuYXBwZWQoKSAmJiB0aGlzLmxpbmVTbmFwcGVkKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBlZGl0b3IucHJvamVjdCh0aGlzLmxpbmVTbmFwcGVkLnZlcnRpY2VzWzBdKTtcbiAgICAgICAgICAgIHZhciBlbmQgPSBlZGl0b3IucHJvamVjdCh0aGlzLmxpbmVTbmFwcGVkLnZlcnRpY2VzWzFdKTtcbiAgICAgICAgICAgIHZhciBwID0gbmV3IFRIUkVFLlZlY3RvcjMoZmluYWwueCwgZmluYWwueSwgc3RhcnQueik7XG5cbiAgICAgICAgICAgIHZhciBwYXJhbGxlbCA9IE1lYXN1cmVDb21tb24ubmVhcmVzdFBvaW50SW5Qb2ludFRvTGluZShwLCBzdGFydCwgZW5kKTtcblxuICAgICAgICAgICAgLy8gc2VsZWN0IGFuIGFyYml0cmFyeSBwb2ludCBvbiB0aGUgcGVycGVuZGljdWxhciBsaW5lXG4gICAgICAgICAgICB2YXIgayA9IC0oc3RhcnQueCAtIGVuZC54KSAvIChzdGFydC55IC0gZW5kLnkpO1xuICAgICAgICAgICAgdmFyIGIgPSBpbml0aWFsWSAtIGsgKiBpbml0aWFsWDtcbiAgICAgICAgICAgIHZhciB4ID0gaW5pdGlhbFggKyAxO1xuICAgICAgICAgICAgdmFyIHkgPSBrICogeCArIGI7XG4gICAgICAgICAgICB2YXIgcEVuZCA9IG5ldyBUSFJFRS5WZWN0b3IzKHgsIHksIHN0YXJ0LnopO1xuXG4gICAgICAgICAgICB2YXIgcFN0YXJ0ID0gbmV3IFRIUkVFLlZlY3RvcjMoaW5pdGlhbFgsIGluaXRpYWxZLCBzdGFydC56KTtcbiAgICAgICAgICAgIHZhciBwZXJwZW5kaWN1bGFyID0gTWVhc3VyZUNvbW1vbi5uZWFyZXN0UG9pbnRJblBvaW50VG9MaW5lKHAsIHBTdGFydCwgcEVuZCk7XG5cbiAgICAgICAgICAgIC8vIFNuYXAgdG8gcGFyYWxsZWwgb2YgdW5kZXJseWluZyB2ZWN0b3JzXG4gICAgICAgICAgICBpZiAocGFyYWxsZWwuZGlzdGFuY2VUbyhwKSA8PSAyMCkge1xuICAgICAgICAgICAgICAgIGZpbmFsLnggPSBwYXJhbGxlbC54O1xuICAgICAgICAgICAgICAgIGZpbmFsLnkgPSBwYXJhbGxlbC55O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU25hcCB0byBwZXJwZW5kaWN1bGFyIG9mIHVuZGVybHlpbmcgdmVjdG9yc1xuICAgICAgICAgICAgZWxzZSBpZiAocGVycGVuZGljdWxhci5kaXN0YW5jZVRvKHApIDw9IDIwKSB7XG4gICAgICAgICAgICAgICAgZmluYWwueCA9IHBlcnBlbmRpY3VsYXIueDtcbiAgICAgICAgICAgICAgICBmaW5hbC55ID0gcGVycGVuZGljdWxhci55O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGhlYWQgPSB0aGlzLmhlYWQ7XG4gICAgICAgIHZhciB0YWlsID0gZWRpdG9yLnBvc2l0aW9uRnJvbUNsaWVudFRvTWFya3VwcyhmaW5hbC54LCBmaW5hbC55KTtcblxuICAgICAgICB2YXIgYXJyb3dWZWN0b3IgPSBuZXcgVEhSRUUuVmVjdG9yMih0YWlsLnggLSBoZWFkLngsIHRhaWwueSAtIGhlYWQueSk7XG4gICAgICAgIHZhciBhcnJvd01pblNpemUgPSBzZWxlY3RlZE1hcmt1cC5zdHlsZVsnc3Ryb2tlLXdpZHRoJ10gKiAzLjU7XG5cbiAgICAgICAgaWYgKGFycm93VmVjdG9yLmxlbmd0aFNxKCkgPCBhcnJvd01pblNpemUgKiBhcnJvd01pblNpemUpIHtcblxuICAgICAgICAgICAgYXJyb3dWZWN0b3IgPSBhcnJvd1ZlY3Rvci5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcihhcnJvd01pblNpemUpO1xuICAgICAgICAgICAgdGFpbC54ID0gaGVhZC54ICsgYXJyb3dWZWN0b3IueDtcbiAgICAgICAgICAgIHRhaWwueSA9IGhlYWQueSArIGFycm93VmVjdG9yLnk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNpemUgPSBlZGl0b3Iuc2l6ZUZyb21DbGllbnRUb01hcmt1cHMoKGZpbmFsLnggLSBpbml0aWFsWCksIChmaW5hbC55IC0gaW5pdGlhbFkpKTtcblxuICAgICAgICB2YXIgc2V0QXJyb3cgPSBuZXcgU2V0QXJyb3coZWRpdG9yLCBzZWxlY3RlZE1hcmt1cCwgaGVhZCwgdGFpbCk7XG4gICAgICAgIHNldEFycm93LmV4ZWN1dGUoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTsiXSwibmFtZXMiOlsiRWRpdE1vZGUiLCJEZWxldGVBcnJvdyIsIkNyZWF0ZUFycm93IiwiU2V0QXJyb3ciLCJNYXJrdXBUeXBlcyIsIk1lYXN1cmVDb21tb24iLCJBdXRvZGVzayIsIlZpZXdpbmciLCJFZGl0TW9kZUFycm93IiwiZWRpdG9yIiwic3R5bGVBdHRyaWJ1dGVzIiwiY2FsbCIsIk1BUktVUF9UWVBFX0FSUk9XIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJwcm90byIsImRlbGV0ZU1hcmt1cCIsIm1hcmt1cCIsImNhbnRVbmRvIiwic2VsZWN0ZWRNYXJrdXAiLCJ0eXBlIiwiZGVsZXRlQXJyb3ciLCJhZGRUb0hpc3RvcnkiLCJleGVjdXRlIiwib25Nb3VzZURvd24iLCJtb3VzZVBvc2l0aW9uIiwiZ2V0TW91c2VQb3NpdGlvbiIsImluaXRpYWxYIiwieCIsImluaXRpYWxZIiwieSIsInNpemUiLCJsaW5lU25hcHBlZCIsInNuYXBwZXIiLCJnZW9tVHlwZSIsImdldEdlb21ldHJ5VHlwZSIsIlNuYXBUeXBlIiwiU05BUF9WRVJURVgiLCJTTkFQX0VER0UiLCJTTkFQX01JRFBPSU5UIiwiU05BUF9DSVJDTEVfQ0VOVEVSIiwiZ2V0RWRnZSIsImFycm93TWluU2l6ZSIsInN0eWxlIiwiaGVhZCIsInBvc2l0aW9uRnJvbUNsaWVudFRvTWFya3VwcyIsInRhaWwiLCJNYXRoIiwiY29zIiwiUEkiLCJzaW4iLCJjb25zdHJhaW4iLCJib3VuZHMiLCJpc0luc2lkZUJvdW5kcyIsImJpbmQiLCJnZXRCb3VuZHMiLCJiZWdpbkFjdGlvbkdyb3VwIiwiYXJyb3dWZWN0b3IiLCJUSFJFRSIsIlZlY3RvcjIiLCJsZW5ndGhTcSIsIm5vcm1hbGl6ZSIsIm11bHRpcGx5U2NhbGFyIiwiYXJyb3dJZCIsImdldElkIiwiZ2V0TWFya3VwIiwiY3JlYXRpb25CZWdpbiIsIm9uTW91c2VNb3ZlIiwiZXZlbnQiLCJmaW5hbCIsImdldEZpbmFsTW91c2VEcmFnZ2luZ1Bvc2l0aW9uIiwiaXNTbmFwcGVkIiwic3RhcnQiLCJwcm9qZWN0IiwidmVydGljZXMiLCJlbmQiLCJwIiwiVmVjdG9yMyIsInoiLCJwYXJhbGxlbCIsIm5lYXJlc3RQb2ludEluUG9pbnRUb0xpbmUiLCJrIiwiYiIsInBFbmQiLCJwU3RhcnQiLCJwZXJwZW5kaWN1bGFyIiwiZGlzdGFuY2VUbyIsInNpemVGcm9tQ2xpZW50VG9NYXJrdXBzIiwic2V0QXJyb3ciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-modes/EditModeArrow.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-modes/EditModeCallout.js":
/*!**************************************************************!*\
  !*** ./extensions/Markup/core/edit-modes/EditModeCallout.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditModeCallout: () => (/* binding */ EditModeCallout)\n/* harmony export */ });\n/* harmony import */ var _EditMode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditMode */ \"./extensions/Markup/core/edit-modes/EditMode.js\");\n/* harmony import */ var _edit_actions_DeleteCallout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../edit-actions/DeleteCallout */ \"./extensions/Markup/core/edit-actions/DeleteCallout.js\");\n/* harmony import */ var _edit_actions_CreateCallout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../edit-actions/CreateCallout */ \"./extensions/Markup/core/edit-actions/CreateCallout.js\");\n/* harmony import */ var _edit_actions_SetCallout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../edit-actions/SetCallout */ \"./extensions/Markup/core/edit-actions/SetCallout.js\");\n/* harmony import */ var _edit_actions_SetStyle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../edit-actions/SetStyle */ \"./extensions/Markup/core/edit-actions/SetStyle.js\");\n/* harmony import */ var _edit_actions_SetSize__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../edit-actions/SetSize */ \"./extensions/Markup/core/edit-actions/SetSize.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n/* harmony import */ var _MarkupEvents__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../MarkupEvents */ \"./extensions/Markup/core/MarkupEvents.js\");\n/* harmony import */ var _EditorTextInput__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./EditorTextInput */ \"./extensions/Markup/core/edit-modes/EditorTextInput.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar STARTING_WIDTH_FACTOR = 6;\n\n/**\n *\n * @param editor\n * @constructor\n */\nfunction EditModeCallout(editor) {\n\n  var styleAttributes = [\n  'font-size',\n  'stroke-width',\n  'stroke-color',\n  'stroke-opacity',\n  'fill-color',\n  'fill-opacity',\n  'font-family',\n  'font-style',\n  'font-weight'];\n\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.call(this, editor, _MarkupTypes__WEBPACK_IMPORTED_MODULE_6__.MARKUP_TYPE_CALLOUT, styleAttributes);\n\n  this.style['fill-opacity'] = 1.0;\n  this.style['fill-color'] = '#ffffff';\n\n  var helper = new _EditorTextInput__WEBPACK_IMPORTED_MODULE_8__.EditorTextInput(this.viewer.container, this.editor, false, 'Text', 360);\n  helper.addEventListener(helper.EVENT_TEXT_CHANGE, this.onHelperTextChange.bind(this), false);\n  helper.addEventListener(helper.EVENT_TEXT_SET_ACTIVE, this.onHelperSetActive.bind(this), false);\n  helper.addEventListener(helper.EVENT_TEXT_SET_INACTIVE, this.onHelperSetActive.bind(this), false);\n\n  this.textInputHelper = helper;\n  this.onHistoryChangeBinded = this.onHistoryChange.bind(this);\n  this.minSize = 0; // No need to size it initially\n  this.creationMethod = this.CREATION_METHOD_CLICK;\n}\n\nEditModeCallout.prototype = Object.create(_EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype);\nEditModeCallout.prototype.constructor = EditModeCallout;\n\nvar proto = EditModeCallout.prototype;\n\nproto.deleteMarkup = function (markup, cantUndo) {\n\n  markup = markup || this.selectedMarkup;\n  if (markup && markup.type === this.type) {\n    var deleteCallout = new _edit_actions_DeleteCallout__WEBPACK_IMPORTED_MODULE_1__.DeleteCallout(this.editor, markup);\n    deleteCallout.addToHistory = !cantUndo;\n    deleteCallout.execute();\n    return true;\n  }\n  return false;\n};\n\nproto.setStyle = function (style) {\n\n  if (this.textInputHelper && this.textInputHelper.isActive()) {\n\n    this.textInputHelper.setStyle(style);\n  } else {\n    _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.setStyle.call(this, style);\n  }\n};\n\nproto.notifyAllowNavigation = function (allows) {\n\n  if (allows && this.textInputHelper && this.textInputHelper.isActive()) {\n    this.textInputHelper.acceptAndExit();\n  }\n};\n\nproto.destroy = function () {\n\n  if (this.textInputHelper) {\n    if (this.textInputHelper.isActive()) {\n      this.textInputHelper.acceptAndExit();\n    }\n    this.textInputHelper.destroy();\n    this.textInputHelper = null;\n  }\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.destroy.call(this);\n};\n\n/**\n * Handler to mouse down events, used to start markups creation.\n */\nproto.onMouseDown = function () {\n\n  if (this.textInputHelper && this.textInputHelper.isActive()) {\n    this.textInputHelper.acceptAndExit();\n    return;\n  }\n\n  if (this.selectedMarkup) {\n    return;\n  }\n\n  var editor = this.editor;\n  var mousePosition = editor.getMousePosition();\n  var clientFontSize = editor.sizeFromMarkupsToClient(0, this.style['font-size']).y;\n  var initialWidth = clientFontSize * STARTING_WIDTH_FACTOR; // Find better way to initialize size.\n  var initialHeight = clientFontSize * 1;\n\n  // Center position.\n  var size = this.size = editor.sizeFromClientToMarkups(initialWidth, initialHeight);\n  var position = editor.positionFromClientToMarkups(\n    mousePosition.x + initialWidth * 0.5,\n    mousePosition.y + initialHeight * 0.5);\n\n  this.creationBegin();\n  editor.beginActionGroup();\n\n  // Given the initial width and font size, we assume that the text fits in one line.\n  var createCallout = new _edit_actions_CreateCallout__WEBPACK_IMPORTED_MODULE_2__.CreateCallout(\n    editor,\n    editor.getId(),\n    position,\n    size,\n    '',\n    this.style,\n    true);\n\n  createCallout.execute();\n  this.creationEnd();\n\n  this.selectedMarkup = editor.getMarkup(createCallout.targetId);\n  this.textInputHelper && this.textInputHelper.setActive(this.selectedMarkup, true);\n  this.editor.actionManager.addEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_7__.EVENT_HISTORY_CHANGED, this.onHistoryChangeBinded);\n};\n\nproto.onMouseUp = function (event) {\n\n};\n\nproto.onMouseDoubleClick = function (markup) {\n\n  if (markup === this.selectedMarkup) {\n    this.editor.selectMarkup(markup);\n    this.editor.editFrame.setMarkup(markup);\n    this.textInputHelper && this.textInputHelper.setActive(markup, false);\n  }\n};\n\nproto.onHelperSetActive = function (event) {\n  var databag = event.data;\n  var markup = databag.markup;\n  if (markup) {\n    markup.setIsHelperTextActive(databag.isActive);\n    markup.setIsShapeVisible(!databag.isActive);\n  }\n};\n\nproto.onHelperTextChange = function (event) {\n\n  var dataBag = event.data;\n  var textMarkup = dataBag.markup;\n  var textStyle = dataBag.style;\n  var curSelection = this.selectedMarkup;\n\n  this.editor.actionManager.removeEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_7__.EVENT_HISTORY_CHANGED, this.onHistoryChangeBinded);\n\n  // Deal with edge case first: Creating a Label without text\n  if (dataBag.newText === '') {\n    this.editor.cancelActionGroup();\n\n    var deleteCallout = new _edit_actions_DeleteCallout__WEBPACK_IMPORTED_MODULE_1__.DeleteCallout(this.editor, textMarkup);\n    deleteCallout.execute();\n\n    if (textMarkup !== curSelection) {\n      this.editor.selectMarkup(curSelection);\n    }\n\n    return;\n  }\n\n  // When the text is created for the first time, an action group\n  // is already created and it includes the CreateCallout action.\n  // Thus, no need to begin another action group.\n  if (!dataBag.firstEdit) {\n    this.editor.beginActionGroup();\n  }\n\n  // Size change action //\n  var position = this.editor.positionFromClientToMarkups(\n    dataBag.newPos.x, dataBag.newPos.y\n  );\n  var size = this.editor.sizeFromClientToMarkups(\n    dataBag.width, dataBag.height\n  );\n  var setSize = new _edit_actions_SetSize__WEBPACK_IMPORTED_MODULE_5__.SetSize(\n    this.editor,\n    textMarkup,\n    position,\n    size.x,\n    size.y);\n  setSize.execute();\n\n  // Text change action //\n  var setCallout = new _edit_actions_SetCallout__WEBPACK_IMPORTED_MODULE_3__.SetCallout(\n    this.editor,\n    textMarkup,\n    textMarkup.position,\n    textMarkup.size,\n    dataBag.newText,\n    textMarkup.isFrameUsed);\n  setCallout.execute();\n\n  var setStyle = new _edit_actions_SetStyle__WEBPACK_IMPORTED_MODULE_4__.SetStyle(\n    this.editor,\n    textMarkup,\n    textStyle\n  );\n  setStyle.execute();\n\n  // However, we do need to close the action group at this point. For both cases.\n  this.editor.closeActionGroup();\n  this.editor.selectMarkup(curSelection);\n};\n\n/**\n * We want to make sure that the Input Helper gets removed from the screen\n * whenever the user attempts to perform an undo or redo action.\n * @param {Event} event\n * @private\n */\nproto.onHistoryChange = function (event) {\n\n  if (this.textInputHelper && this.textInputHelper.isActive()) {\n    this.editor.actionManager.removeEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_7__.EVENT_HISTORY_CHANGED, this.onHistoryChangeBinded);\n    this.textInputHelper.setInactive();\n  }\n};\n\n/**\n * Notify the markup that the displayed markups are being saved so edit mode can finish current editions.\n */\nproto.onSave = function () {\n\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.onSave.call(this);\n\n  // Close input helper if it's open.\n  if (this.textInputHelper && this.textInputHelper.isActive()) {\n    var firstEdit = this.textInputHelper.firstEdit;\n\n    this.editor.actionManager.removeEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_7__.EVENT_HISTORY_CHANGED, this.onHistoryChangeBinded);\n    this.textInputHelper.setInactive();\n\n    // Close action group if open (first edit).\n    if (firstEdit) {\n      this.editor.cancelActionGroup();\n    }\n\n    this.editor.selectMarkup(null);\n    this.selectedMarkup = null;\n  }\n};\n\nproto.updateTextBoxStyle = function () {\n  if (this.isTextInputHelperActive()) {\n    this.textInputHelper.onCameraChanged();\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtbW9kZXMvRWRpdE1vZGVDYWxsb3V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBYTs7QUFFeUI7QUFDd0I7QUFDQTtBQUNOO0FBQ0o7QUFDRjtBQUNKO0FBQ0U7QUFDSTs7O0FBR2hELElBQUlTLHFCQUFxQixHQUFHLENBQUM7O0FBRTdCO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTQyxlQUFlQSxDQUFDQyxNQUFNLEVBQUU7O0VBRXBDLElBQUlDLGVBQWUsR0FBRztFQUNsQixXQUFXO0VBQ1gsY0FBYztFQUNkLGNBQWM7RUFDZCxnQkFBZ0I7RUFDaEIsWUFBWTtFQUNaLGNBQWM7RUFDZCxhQUFhO0VBQ2IsWUFBWTtFQUNaLGFBQWEsQ0FDaEI7O0VBQ0RaLCtDQUFRLENBQUNhLElBQUksQ0FBQyxJQUFJLEVBQUVGLE1BQU0sRUFBRUwsNkRBQStCLEVBQUVNLGVBQWUsQ0FBQzs7RUFFN0UsSUFBSSxDQUFDRyxLQUFLLENBQUMsY0FBYyxDQUFDLEdBQUcsR0FBRztFQUNoQyxJQUFJLENBQUNBLEtBQUssQ0FBQyxZQUFZLENBQUMsR0FBRyxTQUFTOztFQUVwQyxJQUFJQyxNQUFNLEdBQUcsSUFBSVIsNkRBQWUsQ0FBQyxJQUFJLENBQUNTLE1BQU0sQ0FBQ0MsU0FBUyxFQUFFLElBQUksQ0FBQ1AsTUFBTSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsR0FBRyxDQUFDO0VBQ3hGSyxNQUFNLENBQUNHLGdCQUFnQixDQUFDSCxNQUFNLENBQUNJLGlCQUFpQixFQUFFLElBQUksQ0FBQ0Msa0JBQWtCLENBQUNDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxLQUFLLENBQUM7RUFDNUZOLE1BQU0sQ0FBQ0csZ0JBQWdCLENBQUNILE1BQU0sQ0FBQ08scUJBQXFCLEVBQUUsSUFBSSxDQUFDQyxpQkFBaUIsQ0FBQ0YsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUssQ0FBQztFQUMvRk4sTUFBTSxD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QUNELGVBQWUsQ0FBQ3lFLFdBQVcsQ0FBQyxDQUFDO0VBQ3RDO0FBQ0osQ0FBQzs7QUFFRDtBQUNKO0FBQ0E7QUFDSS9ELEtBQUssQ0FBQ2dFLE1BQU0sR0FBRyxZQUFXOztFQUV0QnBHLCtDQUFRLENBQUNnQyxTQUFTLENBQUNvRSxNQUFNLENBQUN2RixJQUFJLENBQUMsSUFBSSxDQUFDOztFQUVwQztFQUNBLElBQUksSUFBSSxDQUFDYSxlQUFlLElBQUksSUFBSSxDQUFDQSxlQUFlLENBQUNvQixRQUFRLENBQUMsQ0FBQyxFQUFFO0lBQ3pELElBQUk2QyxTQUFTLEdBQUcsSUFBSSxDQUFDakUsZUFBZSxDQUFDaUUsU0FBUzs7SUFFOUMsSUFBSSxDQUFDaEYsTUFBTSxDQUFDNkQsYUFBYSxDQUFDZ0IsbUJBQW1CLENBQUNqRixnRUFBa0MsRUFBRSxJQUFJLENBQUNvQixxQkFBcUIsQ0FBQztJQUM3RyxJQUFJLENBQUNELGVBQWUsQ0FBQ3lFLFdBQVcsQ0FBQyxDQUFDOztJQUVsQztJQUNBLElBQUlSLFNBQVMsRUFBRTtNQUNYLElBQUksQ0FBQ2hGLE1BQU0sQ0FBQytFLGlCQUFpQixDQUFDLENBQUM7SUFDbkM7O0lBRUEsSUFBSSxDQUFDL0UsTUFBTSxDQUFDa0UsWUFBWSxDQUFDLElBQUksQ0FBQztJQUM5QixJQUFJLENBQUNyQyxjQUFjLEdBQUcsSUFBSTtFQUM5QjtBQUNKLENBQUM7O0FBRURKLEtBQUssQ0FBQ2lFLGtCQUFrQixHQUFHLFlBQVc7RUFDbEMsSUFBSSxJQUFJLENBQUNDLHVCQUF1QixDQUFDLENBQUMsRUFBRTtJQUNoQyxJQUFJLENBQUM1RSxlQUFlLENBQUM2RSxlQUFlLENBQUMsQ0FBQztFQUMxQztBQUNKLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9lZGl0LW1vZGVzL0VkaXRNb2RlQ2FsbG91dC5qcz80ZmM2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRWRpdE1vZGUgfSBmcm9tICcuL0VkaXRNb2RlJztcbmltcG9ydCB7IERlbGV0ZUNhbGxvdXQgfSBmcm9tICcuLi9lZGl0LWFjdGlvbnMvRGVsZXRlQ2FsbG91dCc7XG5pbXBvcnQgeyBDcmVhdGVDYWxsb3V0IH0gZnJvbSAnLi4vZWRpdC1hY3Rpb25zL0NyZWF0ZUNhbGxvdXQnO1xuaW1wb3J0IHsgU2V0Q2FsbG91dCB9IGZyb20gJy4uL2VkaXQtYWN0aW9ucy9TZXRDYWxsb3V0JztcbmltcG9ydCB7IFNldFN0eWxlIH0gZnJvbSAnLi4vZWRpdC1hY3Rpb25zL1NldFN0eWxlJztcbmltcG9ydCB7IFNldFNpemUgfSBmcm9tICcuLi9lZGl0LWFjdGlvbnMvU2V0U2l6ZSc7XG5pbXBvcnQgKiBhcyBNYXJrdXBUeXBlcyBmcm9tICcuLi9NYXJrdXBUeXBlcyc7XG5pbXBvcnQgKiBhcyBNYXJrdXBFdmVudHMgZnJvbSAnLi4vTWFya3VwRXZlbnRzJztcbmltcG9ydCB7IEVkaXRvclRleHRJbnB1dCB9IGZyb20gJy4vRWRpdG9yVGV4dElucHV0JztcblxuXG4gICAgdmFyIFNUQVJUSU5HX1dJRFRIX0ZBQ1RPUiA9IDY7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlZGl0b3JcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gRWRpdE1vZGVDYWxsb3V0KGVkaXRvcikge1xuXG4gICAgICAgIHZhciBzdHlsZUF0dHJpYnV0ZXMgPSBbXG4gICAgICAgICAgICAnZm9udC1zaXplJyxcbiAgICAgICAgICAgICdzdHJva2Utd2lkdGgnLFxuICAgICAgICAgICAgJ3N0cm9rZS1jb2xvcicsXG4gICAgICAgICAgICAnc3Ryb2tlLW9wYWNpdHknLFxuICAgICAgICAgICAgJ2ZpbGwtY29sb3InLFxuICAgICAgICAgICAgJ2ZpbGwtb3BhY2l0eScsXG4gICAgICAgICAgICAnZm9udC1mYW1pbHknLFxuICAgICAgICAgICAgJ2ZvbnQtc3R5bGUnLFxuICAgICAgICAgICAgJ2ZvbnQtd2VpZ2h0J1xuICAgICAgICBdO1xuICAgICAgICBFZGl0TW9kZS5jYWxsKHRoaXMsIGVkaXRvciwgTWFya3VwVHlwZXMuTUFSS1VQX1RZUEVfQ0FMTE9VVCwgc3R5bGVBdHRyaWJ1dGVzKTtcblxuICAgICAgICB0aGlzLnN0eWxlWydmaWxsLW9wYWNpdHknXSA9IDEuMDtcbiAgICAgICAgdGhpcy5zdHlsZVsnZmlsbC1jb2xvciddID0gJyNmZmZmZmYnO1xuXG4gICAgICAgIHZhciBoZWxwZXIgPSBuZXcgRWRpdG9yVGV4dElucHV0KHRoaXMudmlld2VyLmNvbnRhaW5lciwgdGhpcy5lZGl0b3IsIGZhbHNlLCAnVGV4dCcsIDM2MCk7XG4gICAgICAgIGhlbHBlci5hZGRFdmVudExpc3RlbmVyKGhlbHBlci5FVkVOVF9URVhUX0NIQU5HRSwgdGhpcy5vbkhlbHBlclRleHRDaGFuZ2UuYmluZCh0aGlzKSwgZmFsc2UpO1xuICAgICAgICBoZWxwZXIuYWRkRXZlbnRMaXN0ZW5lcihoZWxwZXIuRVZFTlRfVEVYVF9TRVRfQUNUSVZFLCB0aGlzLm9uSGVscGVyU2V0QWN0aXZlLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICAgICAgaGVscGVyLmFkZEV2ZW50TGlzdGVuZXIoaGVscGVyLkVWRU5UX1RFWFRfU0VUX0lOQUNUSVZFLCB0aGlzLm9uSGVscGVyU2V0QWN0aXZlLmJpbmQodGhpcyksIGZhbHNlKTtcblxuICAgICAgICB0aGlzLnRleHRJbnB1dEhlbHBlciA9IGhlbHBlcjtcbiAgICAgICAgdGhpcy5vbkhpc3RvcnlDaGFuZ2VCaW5kZWQgPSB0aGlzLm9uSGlzdG9yeUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm1pblNpemUgPSAwOyAvLyBObyBuZWVkIHRvIHNpemUgaXQgaW5pdGlhbGx5XG4gICAgICAgIHRoaXMuY3JlYXRpb25NZXRob2QgPSB0aGlzLkNSRUFUSU9OX01FVEhPRF9DTElDSztcbiAgICB9XG5cbiAgICBFZGl0TW9kZUNhbGxvdXQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFZGl0TW9kZS5wcm90b3R5cGUpO1xuICAgIEVkaXRNb2RlQ2FsbG91dC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBFZGl0TW9kZUNhbGxvdXQ7XG5cbiAgICB2YXIgcHJvdG8gPSBFZGl0TW9kZUNhbGxvdXQucHJvdG90eXBlO1xuXG4gICAgcHJvdG8uZGVsZXRlTWFya3VwID0gZnVuY3Rpb24obWFya3VwLCBjYW50VW5kbykge1xuXG4gICAgICAgIG1hcmt1cCA9IG1hcmt1cCB8fCB0aGlzLnNlbGVjdGVkTWFya3VwO1xuICAgICAgICBpZiAobWFya3VwICYmIG1hcmt1cC50eXBlID09PSB0aGlzLnR5cGUpIHtcbiAgICAgICAgICAgIHZhciBkZWxldGVDYWxsb3V0ID0gbmV3IERlbGV0ZUNhbGxvdXQodGhpcy5lZGl0b3IsIG1hcmt1cCk7XG4gICAgICAgICAgICBkZWxldGVDYWxsb3V0LmFkZFRvSGlzdG9yeSA9ICFjYW50VW5kbztcbiAgICAgICAgICAgIGRlbGV0ZUNhbGxvdXQuZXhlY3V0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICBwcm90by5zZXRTdHlsZSA9IGZ1bmN0aW9uKHN0eWxlKSB7XG5cbiAgICAgICAgaWYgKHRoaXMudGV4dElucHV0SGVscGVyICYmIHRoaXMudGV4dElucHV0SGVscGVyLmlzQWN0aXZlKCkpIHtcblxuICAgICAgICAgICAgdGhpcy50ZXh0SW5wdXRIZWxwZXIuc2V0U3R5bGUoc3R5bGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgRWRpdE1vZGUucHJvdG90eXBlLnNldFN0eWxlLmNhbGwodGhpcywgc3R5bGUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByb3RvLm5vdGlmeUFsbG93TmF2aWdhdGlvbiA9IGZ1bmN0aW9uKGFsbG93cykge1xuXG4gICAgICAgIGlmIChhbGxvd3MgJiYgdGhpcy50ZXh0SW5wdXRIZWxwZXIgJiYgdGhpcy50ZXh0SW5wdXRIZWxwZXIuaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0SW5wdXRIZWxwZXIuYWNjZXB0QW5kRXhpdCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByb3RvLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICBpZiAodGhpcy50ZXh0SW5wdXRIZWxwZXIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRleHRJbnB1dEhlbHBlci5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0SW5wdXRIZWxwZXIuYWNjZXB0QW5kRXhpdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50ZXh0SW5wdXRIZWxwZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy50ZXh0SW5wdXRIZWxwZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIEVkaXRNb2RlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXIgdG8gbW91c2UgZG93biBldmVudHMsIHVzZWQgdG8gc3RhcnQgbWFya3VwcyBjcmVhdGlvbi5cbiAgICAgKi9cbiAgICBwcm90by5vbk1vdXNlRG93biA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIGlmICh0aGlzLnRleHRJbnB1dEhlbHBlciAmJiB0aGlzLnRleHRJbnB1dEhlbHBlci5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICB0aGlzLnRleHRJbnB1dEhlbHBlci5hY2NlcHRBbmRFeGl0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE1hcmt1cCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgICAgICB2YXIgbW91c2VQb3NpdGlvbiA9IGVkaXRvci5nZXRNb3VzZVBvc2l0aW9uKCk7XG4gICAgICAgIHZhciBjbGllbnRGb250U2l6ZSA9IGVkaXRvci5zaXplRnJvbU1hcmt1cHNUb0NsaWVudCgwLCB0aGlzLnN0eWxlWydmb250LXNpemUnXSkueTtcbiAgICAgICAgdmFyIGluaXRpYWxXaWR0aCA9IGNsaWVudEZvbnRTaXplICogU1RBUlRJTkdfV0lEVEhfRkFDVE9SOyAvLyBGaW5kIGJldHRlciB3YXkgdG8gaW5pdGlhbGl6ZSBzaXplLlxuICAgICAgICB2YXIgaW5pdGlhbEhlaWdodCA9IGNsaWVudEZvbnRTaXplICogMTtcblxuICAgICAgICAvLyBDZW50ZXIgcG9zaXRpb24uXG4gICAgICAgIHZhciBzaXplID0gdGhpcy5zaXplID0gZWRpdG9yLnNpemVGcm9tQ2xpZW50VG9NYXJrdXBzKGluaXRpYWxXaWR0aCwgaW5pdGlhbEhlaWdodCk7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IGVkaXRvci5wb3NpdGlvbkZyb21DbGllbnRUb01hcmt1cHMoXG4gICAgICAgICAgICBtb3VzZVBvc2l0aW9uLnggKyAoaW5pdGlhbFdpZHRoICogMC41KSxcbiAgICAgICAgICAgIG1vdXNlUG9zaXRpb24ueSArIChpbml0aWFsSGVpZ2h0ICogMC41KSk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGlvbkJlZ2luKCk7XG4gICAgICAgIGVkaXRvci5iZWdpbkFjdGlvbkdyb3VwKCk7XG5cbiAgICAgICAgLy8gR2l2ZW4gdGhlIGluaXRpYWwgd2lkdGggYW5kIGZvbnQgc2l6ZSwgd2UgYXNzdW1lIHRoYXQgdGhlIHRleHQgZml0cyBpbiBvbmUgbGluZS5cbiAgICAgICAgdmFyIGNyZWF0ZUNhbGxvdXQgPSBuZXcgQ3JlYXRlQ2FsbG91dChcbiAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgIGVkaXRvci5nZXRJZCgpLFxuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgJycsXG4gICAgICAgICAgICB0aGlzLnN0eWxlLFxuICAgICAgICAgICAgdHJ1ZSk7XG5cbiAgICAgICAgY3JlYXRlQ2FsbG91dC5leGVjdXRlKCk7XG4gICAgICAgIHRoaXMuY3JlYXRpb25FbmQoKTtcblxuICAgICAgICB0aGlzLnNlbGVjdGVkTWFya3VwID0gZWRpdG9yLmdldE1hcmt1cChjcmVhdGVDYWxsb3V0LnRhcmdldElkKTtcbiAgICAgICAgdGhpcy50ZXh0SW5wdXRIZWxwZXIgJiYgdGhpcy50ZXh0SW5wdXRIZWxwZXIuc2V0QWN0aXZlKHRoaXMuc2VsZWN0ZWRNYXJrdXAsIHRydWUpO1xuICAgICAgICB0aGlzLmVkaXRvci5hY3Rpb25NYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoTWFya3VwRXZlbnRzLkVWRU5UX0hJU1RPUllfQ0hBTkdFRCwgdGhpcy5vbkhpc3RvcnlDaGFuZ2VCaW5kZWQpO1xuICAgIH07XG5cbiAgICBwcm90by5vbk1vdXNlVXAgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgfTtcblxuICAgIHByb3RvLm9uTW91c2VEb3VibGVDbGljayA9IGZ1bmN0aW9uKG1hcmt1cCkge1xuXG4gICAgICAgIGlmIChtYXJrdXAgPT09IHRoaXMuc2VsZWN0ZWRNYXJrdXApIHtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLnNlbGVjdE1hcmt1cChtYXJrdXApO1xuICAgICAgICAgICAgdGhpcy5lZGl0b3IuZWRpdEZyYW1lLnNldE1hcmt1cChtYXJrdXApO1xuICAgICAgICAgICAgdGhpcy50ZXh0SW5wdXRIZWxwZXIgJiYgdGhpcy50ZXh0SW5wdXRIZWxwZXIuc2V0QWN0aXZlKG1hcmt1cCwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByb3RvLm9uSGVscGVyU2V0QWN0aXZlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdmFyIGRhdGFiYWcgPSBldmVudC5kYXRhO1xuICAgICAgICB2YXIgbWFya3VwID0gZGF0YWJhZy5tYXJrdXA7XG4gICAgICAgIGlmIChtYXJrdXApIHtcbiAgICAgICAgICAgIG1hcmt1cC5zZXRJc0hlbHBlclRleHRBY3RpdmUoZGF0YWJhZy5pc0FjdGl2ZSk7XG4gICAgICAgICAgICBtYXJrdXAuc2V0SXNTaGFwZVZpc2libGUoIWRhdGFiYWcuaXNBY3RpdmUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByb3RvLm9uSGVscGVyVGV4dENoYW5nZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgdmFyIGRhdGFCYWcgPSBldmVudC5kYXRhO1xuICAgICAgICB2YXIgdGV4dE1hcmt1cCA9IGRhdGFCYWcubWFya3VwO1xuICAgICAgICB2YXIgdGV4dFN0eWxlID0gZGF0YUJhZy5zdHlsZTtcbiAgICAgICAgdmFyIGN1clNlbGVjdGlvbiA9IHRoaXMuc2VsZWN0ZWRNYXJrdXA7XG5cbiAgICAgICAgdGhpcy5lZGl0b3IuYWN0aW9uTWFuYWdlci5yZW1vdmVFdmVudExpc3RlbmVyKE1hcmt1cEV2ZW50cy5FVkVOVF9ISVNUT1JZX0NIQU5HRUQsIHRoaXMub25IaXN0b3J5Q2hhbmdlQmluZGVkKTtcblxuICAgICAgICAvLyBEZWFsIHdpdGggZWRnZSBjYXNlIGZpcnN0OiBDcmVhdGluZyBhIExhYmVsIHdpdGhvdXQgdGV4dFxuICAgICAgICBpZiAoZGF0YUJhZy5uZXdUZXh0ID09PSAnJykge1xuICAgICAgICAgICAgdGhpcy5lZGl0b3IuY2FuY2VsQWN0aW9uR3JvdXAoKTtcblxuICAgICAgICAgICAgdmFyIGRlbGV0ZUNhbGxvdXQgPSBuZXcgRGVsZXRlQ2FsbG91dCh0aGlzLmVkaXRvciwgdGV4dE1hcmt1cCk7XG4gICAgICAgICAgICBkZWxldGVDYWxsb3V0LmV4ZWN1dGUoKTtcblxuICAgICAgICAgICAgaWYgKHRleHRNYXJrdXAgIT09IGN1clNlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuZWRpdG9yLnNlbGVjdE1hcmt1cChjdXJTZWxlY3Rpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXaGVuIHRoZSB0ZXh0IGlzIGNyZWF0ZWQgZm9yIHRoZSBmaXJzdCB0aW1lLCBhbiBhY3Rpb24gZ3JvdXBcbiAgICAgICAgLy8gaXMgYWxyZWFkeSBjcmVhdGVkIGFuZCBpdCBpbmNsdWRlcyB0aGUgQ3JlYXRlQ2FsbG91dCBhY3Rpb24uXG4gICAgICAgIC8vIFRodXMsIG5vIG5lZWQgdG8gYmVnaW4gYW5vdGhlciBhY3Rpb24gZ3JvdXAuXG4gICAgICAgIGlmICghZGF0YUJhZy5maXJzdEVkaXQpIHtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLmJlZ2luQWN0aW9uR3JvdXAoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNpemUgY2hhbmdlIGFjdGlvbiAvL1xuICAgICAgICB2YXIgcG9zaXRpb24gPSB0aGlzLmVkaXRvci5wb3NpdGlvbkZyb21DbGllbnRUb01hcmt1cHMoXG4gICAgICAgICAgICBkYXRhQmFnLm5ld1Bvcy54LCBkYXRhQmFnLm5ld1Bvcy55XG4gICAgICAgICk7XG4gICAgICAgIHZhciBzaXplID0gdGhpcy5lZGl0b3Iuc2l6ZUZyb21DbGllbnRUb01hcmt1cHMoXG4gICAgICAgICAgICBkYXRhQmFnLndpZHRoLCBkYXRhQmFnLmhlaWdodFxuICAgICAgICApO1xuICAgICAgICB2YXIgc2V0U2l6ZSA9IG5ldyBTZXRTaXplKFxuICAgICAgICAgICAgdGhpcy5lZGl0b3IsXG4gICAgICAgICAgICB0ZXh0TWFya3VwLFxuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICBzaXplLngsXG4gICAgICAgICAgICBzaXplLnkpO1xuICAgICAgICBzZXRTaXplLmV4ZWN1dGUoKTtcblxuICAgICAgICAvLyBUZXh0IGNoYW5nZSBhY3Rpb24gLy9cbiAgICAgICAgdmFyIHNldENhbGxvdXQgPSBuZXcgU2V0Q2FsbG91dChcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLFxuICAgICAgICAgICAgdGV4dE1hcmt1cCxcbiAgICAgICAgICAgIHRleHRNYXJrdXAucG9zaXRpb24sXG4gICAgICAgICAgICB0ZXh0TWFya3VwLnNpemUsXG4gICAgICAgICAgICBkYXRhQmFnLm5ld1RleHQsXG4gICAgICAgICAgICB0ZXh0TWFya3VwLmlzRnJhbWVVc2VkKTtcbiAgICAgICAgc2V0Q2FsbG91dC5leGVjdXRlKCk7XG5cbiAgICAgICAgdmFyIHNldFN0eWxlID0gbmV3IFNldFN0eWxlKFxuICAgICAgICAgICAgdGhpcy5lZGl0b3IsXG4gICAgICAgICAgICB0ZXh0TWFya3VwLFxuICAgICAgICAgICAgdGV4dFN0eWxlXG4gICAgICAgICk7XG4gICAgICAgIHNldFN0eWxlLmV4ZWN1dGUoKTtcblxuICAgICAgICAvLyBIb3dldmVyLCB3ZSBkbyBuZWVkIHRvIGNsb3NlIHRoZSBhY3Rpb24gZ3JvdXAgYXQgdGhpcyBwb2ludC4gRm9yIGJvdGggY2FzZXMuXG4gICAgICAgIHRoaXMuZWRpdG9yLmNsb3NlQWN0aW9uR3JvdXAoKTtcbiAgICAgICAgdGhpcy5lZGl0b3Iuc2VsZWN0TWFya3VwKGN1clNlbGVjdGlvbik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFdlIHdhbnQgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIElucHV0IEhlbHBlciBnZXRzIHJlbW92ZWQgZnJvbSB0aGUgc2NyZWVuXG4gICAgICogd2hlbmV2ZXIgdGhlIHVzZXIgYXR0ZW1wdHMgdG8gcGVyZm9ybSBhbiB1bmRvIG9yIHJlZG8gYWN0aW9uLlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcm90by5vbkhpc3RvcnlDaGFuZ2UgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIGlmICh0aGlzLnRleHRJbnB1dEhlbHBlciAmJiB0aGlzLnRleHRJbnB1dEhlbHBlci5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICB0aGlzLmVkaXRvci5hY3Rpb25NYW5hZ2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoTWFya3VwRXZlbnRzLkVWRU5UX0hJU1RPUllfQ0hBTkdFRCwgdGhpcy5vbkhpc3RvcnlDaGFuZ2VCaW5kZWQpO1xuICAgICAgICAgICAgdGhpcy50ZXh0SW5wdXRIZWxwZXIuc2V0SW5hY3RpdmUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBOb3RpZnkgdGhlIG1hcmt1cCB0aGF0IHRoZSBkaXNwbGF5ZWQgbWFya3VwcyBhcmUgYmVpbmcgc2F2ZWQgc28gZWRpdCBtb2RlIGNhbiBmaW5pc2ggY3VycmVudCBlZGl0aW9ucy5cbiAgICAgKi9cbiAgICBwcm90by5vblNhdmUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICBFZGl0TW9kZS5wcm90b3R5cGUub25TYXZlLmNhbGwodGhpcyk7XG5cbiAgICAgICAgLy8gQ2xvc2UgaW5wdXQgaGVscGVyIGlmIGl0J3Mgb3Blbi5cbiAgICAgICAgaWYgKHRoaXMudGV4dElucHV0SGVscGVyICYmIHRoaXMudGV4dElucHV0SGVscGVyLmlzQWN0aXZlKCkpIHtcbiAgICAgICAgICAgIHZhciBmaXJzdEVkaXQgPSB0aGlzLnRleHRJbnB1dEhlbHBlci5maXJzdEVkaXQ7XG5cbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLmFjdGlvbk1hbmFnZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihNYXJrdXBFdmVudHMuRVZFTlRfSElTVE9SWV9DSEFOR0VELCB0aGlzLm9uSGlzdG9yeUNoYW5nZUJpbmRlZCk7XG4gICAgICAgICAgICB0aGlzLnRleHRJbnB1dEhlbHBlci5zZXRJbmFjdGl2ZSgpO1xuXG4gICAgICAgICAgICAvLyBDbG9zZSBhY3Rpb24gZ3JvdXAgaWYgb3BlbiAoZmlyc3QgZWRpdCkuXG4gICAgICAgICAgICBpZiAoZmlyc3RFZGl0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0b3IuY2FuY2VsQWN0aW9uR3JvdXAoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5lZGl0b3Iuc2VsZWN0TWFya3VwKG51bGwpO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1hcmt1cCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvdG8udXBkYXRlVGV4dEJveFN0eWxlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmlzVGV4dElucHV0SGVscGVyQWN0aXZlKCkpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dElucHV0SGVscGVyLm9uQ2FtZXJhQ2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiJdLCJuYW1lcyI6WyJFZGl0TW9kZSIsIkRlbGV0ZUNhbGxvdXQiLCJDcmVhdGVDYWxsb3V0IiwiU2V0Q2FsbG91dCIsIlNldFN0eWxlIiwiU2V0U2l6ZSIsIk1hcmt1cFR5cGVzIiwiTWFya3VwRXZlbnRzIiwiRWRpdG9yVGV4dElucHV0IiwiU1RBUlRJTkdfV0lEVEhfRkFDVE9SIiwiRWRpdE1vZGVDYWxsb3V0IiwiZWRpdG9yIiwic3R5bGVBdHRyaWJ1dGVzIiwiY2FsbCIsIk1BUktVUF9UWVBFX0NBTExPVVQiLCJzdHlsZSIsImhlbHBlciIsInZpZXdlciIsImNvbnRhaW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJFVkVOVF9URVhUX0NIQU5HRSIsIm9uSGVscGVyVGV4dENoYW5nZSIsImJpbmQiLCJFVkVOVF9URVhUX1NFVF9BQ1RJVkUiLCJvbkhlbHBlclNldEFjdGl2ZSIsIkVWRU5UX1RFWFRfU0VUX0lOQUNUSVZFIiwidGV4dElucHV0SGVscGVyIiwib25IaXN0b3J5Q2hhbmdlQmluZGVkIiwib25IaXN0b3J5Q2hhbmdlIiwibWluU2l6ZSIsImNyZWF0aW9uTWV0aG9kIiwiQ1JFQVRJT05fTUVUSE9EX0NMSUNLIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJwcm90byIsImRlbGV0ZU1hcmt1cCIsIm1hcmt1cCIsImNhbnRVbmRvIiwic2VsZWN0ZWRNYXJrdXAiLCJ0eXBlIiwiZGVsZXRlQ2FsbG91dCIsImFkZFRvSGlzdG9yeSIsImV4ZWN1dGUiLCJzZXRTdHlsZSIsImlzQWN0aXZlIiwibm90aWZ5QWxsb3dOYXZpZ2F0aW9uIiwiYWxsb3dzIiwiYWNjZXB0QW5kRXhpdCIsImRlc3Ryb3kiLCJvbk1vdXNlRG93biIsIm1vdXNlUG9zaXRpb24iLCJnZXRNb3VzZVBvc2l0aW9uIiwiY2xpZW50Rm9udFNpemUiLCJzaXplRnJvbU1hcmt1cHNUb0NsaWVudCIsInkiLCJpbml0aWFsV2lkdGgiLCJpbml0aWFsSGVpZ2h0Iiwic2l6ZSIsInNpemVGcm9tQ2xpZW50VG9NYXJrdXBzIiwicG9zaXRpb24iLCJwb3NpdGlvbkZyb21DbGllbnRUb01hcmt1cHMiLCJ4IiwiY3JlYXRpb25CZWdpbiIsImJlZ2luQWN0aW9uR3JvdXAiLCJjcmVhdGVDYWxsb3V0IiwiZ2V0SWQiLCJjcmVhdGlvbkVuZCIsImdldE1hcmt1cCIsInRhcmdldElkIiwic2V0QWN0aXZlIiwiYWN0aW9uTWFuYWdlciIsIkVWRU5UX0hJU1RPUllfQ0hBTkdFRCIsIm9uTW91c2VVcCIsImV2ZW50Iiwib25Nb3VzZURvdWJsZUNsaWNrIiwic2VsZWN0TWFya3VwIiwiZWRpdEZyYW1lIiwic2V0TWFya3VwIiwiZGF0YWJhZyIsImRhdGEiLCJzZXRJc0hlbHBlclRleHRBY3RpdmUiLCJzZXRJc1NoYXBlVmlzaWJsZSIsImRhdGFCYWciLCJ0ZXh0TWFya3VwIiwidGV4dFN0eWxlIiwiY3VyU2VsZWN0aW9uIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm5ld1RleHQiLCJjYW5jZWxBY3Rpb25Hcm91cCIsImZpcnN0RWRpdCIsIm5ld1BvcyIsIndpZHRoIiwiaGVpZ2h0Iiwic2V0U2l6ZSIsInNldENhbGxvdXQiLCJpc0ZyYW1lVXNlZCIsImNsb3NlQWN0aW9uR3JvdXAiLCJzZXRJbmFjdGl2ZSIsIm9uU2F2ZSIsInVwZGF0ZVRleHRCb3hTdHlsZSIsImlzVGV4dElucHV0SGVscGVyQWN0aXZlIiwib25DYW1lcmFDaGFuZ2VkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-modes/EditModeCallout.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-modes/EditModeCircle.js":
/*!*************************************************************!*\
  !*** ./extensions/Markup/core/edit-modes/EditModeCircle.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditModeCircle: () => (/* binding */ EditModeCircle)\n/* harmony export */ });\n/* harmony import */ var _EditMode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditMode */ \"./extensions/Markup/core/edit-modes/EditMode.js\");\n/* harmony import */ var _edit_actions_DeleteCircle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../edit-actions/DeleteCircle */ \"./extensions/Markup/core/edit-actions/DeleteCircle.js\");\n/* harmony import */ var _edit_actions_CreateCircle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../edit-actions/CreateCircle */ \"./extensions/Markup/core/edit-actions/CreateCircle.js\");\n/* harmony import */ var _edit_actions_SetCircle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../edit-actions/SetCircle */ \"./extensions/Markup/core/edit-actions/SetCircle.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n\n\n\n\n\n\n\n\n/**\n * Markup circle edit mode.\n *\n * Implements a Circle {@link Autodesk.Viewing.Extensions.Markups.Core.EditMode|EditMode}.\n * Included in documentation as an example of how to create\n * an EditMode for a specific markup type. Developers are encourage to look into this class's source code and copy\n * as much code as they need. Find link to source code below.\n *\n * @tutorial feature_markup\n * @constructor\n * @memberof Autodesk.Viewing.Extensions.Markups.Core\n * @extends Autodesk.Viewing.Extensions.Markups.Core.EditMode\n * @param {Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore} editor\n */\nfunction EditModeCircle(editor) {\n\n  var styleAttributes = ['stroke-width', 'stroke-color', 'stroke-opacity', 'fill-color', 'fill-opacity'];\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.call(this, editor, _MarkupTypes__WEBPACK_IMPORTED_MODULE_4__.MARKUP_TYPE_CIRCLE, styleAttributes);\n}\n\nEditModeCircle.prototype = Object.create(_EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype);\nEditModeCircle.prototype.constructor = EditModeCircle;\n\nvar proto = EditModeCircle.prototype;\n\nproto.deleteMarkup = function (markup, cantUndo) {\n\n  markup = markup || this.selectedMarkup;\n  if (markup && markup.type == this.type) {\n    var deleteCircle = new _edit_actions_DeleteCircle__WEBPACK_IMPORTED_MODULE_1__.DeleteCircle(this.editor, markup);\n    deleteCircle.addToHistory = !cantUndo;\n    deleteCircle.execute();\n    return true;\n  }\n  return false;\n};\n\n/**\n * Handler to mouse move events, used to create markups.\n * @param {MouseEvent} event Mouse event.\n * @private\n */\nproto.onMouseMove = function (event) {\n\n  if (!_EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.onMouseMove.call(this, event)) {\n    return false;\n  }\n\n  var selectedMarkup = this.selectedMarkup;\n\n  var editor = this.editor;\n\n  var final = this.getFinalMouseDraggingPosition();\n  final = editor.clientToMarkups(final.x, final.y);\n\n  var sizeX = Math.abs(this.firstPosition.x - final.x);\n  var sizeY = Math.abs(this.firstPosition.y - final.y);\n\n  var position = { x: (this.firstPosition.x + final.x) * 0.5, y: (this.firstPosition.y + final.y) * 0.5 };\n  var size = this.size = { x: sizeX, y: sizeY };\n\n  var setCircle = new _edit_actions_SetCircle__WEBPACK_IMPORTED_MODULE_3__.SetCircle(\n    editor,\n    selectedMarkup,\n    position,\n    size);\n\n  setCircle.execute();\n  return true;\n};\n\n/**\n * Handler to mouse down events, used to start markups creation.\n * @private\n */\nproto.onMouseDown = function () {\n\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.onMouseDown.call(this);\n\n  if (this.selectedMarkup) {\n    return;\n  }\n\n  var editor = this.editor;\n  var mousePosition = editor.getMousePosition();\n\n  this.initialX = mousePosition.x;\n  this.initialY = mousePosition.y;\n\n  // Calculate center and size.\n  var position = this.firstPosition = editor.clientToMarkups(this.initialX, this.initialY);\n  var size = this.size = editor.sizeFromClientToMarkups(1, 1);\n\n  // Create circle.\n  editor.beginActionGroup();\n\n  var markupId = editor.getId();\n  var create = new _edit_actions_CreateCircle__WEBPACK_IMPORTED_MODULE_2__.CreateCircle(\n    editor,\n    markupId,\n    position,\n    size,\n    0,\n    this.style);\n  create.execute();\n\n  this.selectedMarkup = editor.getMarkup(markupId);\n  this.creationBegin();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtbW9kZXMvRWRpdE1vZGVDaXJjbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWE7O0FBRXlCO0FBQ3NCO0FBQ0E7QUFDTjtBQUNSOztBQUUxQztBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ1csU0FBU0ssY0FBY0EsQ0FBQ0MsTUFBTSxFQUFFOztFQUVuQyxJQUFJQyxlQUFlLEdBQUcsQ0FBQyxjQUFjLEVBQUUsY0FBYyxFQUFFLGdCQUFnQixFQUFFLFlBQVksRUFBRSxjQUFjLENBQUM7RUFDdEdQLCtDQUFRLENBQUNRLElBQUksQ0FBQyxJQUFJLEVBQUVGLE1BQU0sRUFBRUYsNERBQThCLEVBQUVHLGVBQWUsQ0FBQztBQUNoRjs7QUFFQUYsY0FBYyxDQUFDSyxTQUFTLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDWiwrQ0FBUSxDQUFDVSxTQUFTLENBQUM7QUFDNURMLGNBQWMsQ0FBQ0ssU0FBUyxDQUFDRyxXQUFXLEdBQUdSLGNBQWM7O0FBRXJELElBQUlTLEtBQUssR0FBR1QsY0FBYyxDQUFDSyxTQUFTOztBQUVwQ0ksS0FBSyxDQUFDQyxZQUFZLEdBQUcsVUFBU0MsTUFBTSxFQUFFQyxRQUFRLEVBQUU7O0VBRTVDRCxNQUFNLEdBQUdBLE1BQU0sSUFBSSxJQUFJLENBQUNFLGNBQWM7RUFDdEMsSUFBSUYsTUFBTSxJQUFJQSxNQUFNLENBQUNHLElBQUksSUFBSSxJQUFJLENBQUNBLElBQUksRUFBRTtJQUNwQyxJQUFJQyxZQUFZLEdBQUcsSUFBSW5CLG9FQUFZLENBQUMsSUFBSSxDQUFDSyxNQUFNLEVBQUVVLE1BQU0sQ0FBQztJQUN4REksWUFBWSxDQUFDQyxZQUFZLEdBQUcsQ0FBQ0osUUFBUTtJQUNyQ0csWUFBWSxDQUFDRSxPQUFPLENBQUMsQ0FBQztJQUN0QixPQUFPLElBQUk7RUFDZjtFQUNBLE9BQU8sS0FBSztB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Q0FBQ1UsT0FBTyxDQUFDLENBQUM7O0VBRWhCLElBQUksQ0FBQ0osY0FBYyxHQUFHWixNQUFNLENBQUMwQyxTQUFTLENBQUNILFFBQVEsQ0FBQztFQUNoRCxJQUFJLENBQUNJLGFBQWEsQ0FBQyxDQUFDO0FBQ3hCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9lZGl0LW1vZGVzL0VkaXRNb2RlQ2lyY2xlLmpzPzE4MWQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBFZGl0TW9kZSB9IGZyb20gJy4vRWRpdE1vZGUnO1xuaW1wb3J0IHsgRGVsZXRlQ2lyY2xlIH0gZnJvbSAnLi4vZWRpdC1hY3Rpb25zL0RlbGV0ZUNpcmNsZSc7XG5pbXBvcnQgeyBDcmVhdGVDaXJjbGUgfSBmcm9tICcuLi9lZGl0LWFjdGlvbnMvQ3JlYXRlQ2lyY2xlJztcbmltcG9ydCB7IFNldENpcmNsZSB9IGZyb20gJy4uL2VkaXQtYWN0aW9ucy9TZXRDaXJjbGUnO1xuaW1wb3J0ICogYXMgTWFya3VwVHlwZXMgZnJvbSAnLi4vTWFya3VwVHlwZXMnO1xuXG4gICAgLyoqXG4gICAgICogTWFya3VwIGNpcmNsZSBlZGl0IG1vZGUuXG4gICAgICpcbiAgICAgKiBJbXBsZW1lbnRzIGEgQ2lyY2xlIHtAbGluayBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlLkVkaXRNb2RlfEVkaXRNb2RlfS5cbiAgICAgKiBJbmNsdWRlZCBpbiBkb2N1bWVudGF0aW9uIGFzIGFuIGV4YW1wbGUgb2YgaG93IHRvIGNyZWF0ZVxuICAgICAqIGFuIEVkaXRNb2RlIGZvciBhIHNwZWNpZmljIG1hcmt1cCB0eXBlLiBEZXZlbG9wZXJzIGFyZSBlbmNvdXJhZ2UgdG8gbG9vayBpbnRvIHRoaXMgY2xhc3MncyBzb3VyY2UgY29kZSBhbmQgY29weVxuICAgICAqIGFzIG11Y2ggY29kZSBhcyB0aGV5IG5lZWQuIEZpbmQgbGluayB0byBzb3VyY2UgY29kZSBiZWxvdy5cbiAgICAgKlxuICAgICAqIEB0dXRvcmlhbCBmZWF0dXJlX21hcmt1cFxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJvZiBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuTWFya3Vwcy5Db3JlXG4gICAgICogQGV4dGVuZHMgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZS5FZGl0TW9kZVxuICAgICAqIEBwYXJhbSB7QXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zLk1hcmt1cHMuQ29yZS5NYXJrdXBzQ29yZX0gZWRpdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIEVkaXRNb2RlQ2lyY2xlKGVkaXRvcikge1xuXG4gICAgICAgIHZhciBzdHlsZUF0dHJpYnV0ZXMgPSBbJ3N0cm9rZS13aWR0aCcsICdzdHJva2UtY29sb3InLCAnc3Ryb2tlLW9wYWNpdHknLCAnZmlsbC1jb2xvcicsICdmaWxsLW9wYWNpdHknXTtcbiAgICAgICAgRWRpdE1vZGUuY2FsbCh0aGlzLCBlZGl0b3IsIE1hcmt1cFR5cGVzLk1BUktVUF9UWVBFX0NJUkNMRSwgc3R5bGVBdHRyaWJ1dGVzKTtcbiAgICB9XG5cbiAgICBFZGl0TW9kZUNpcmNsZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVkaXRNb2RlLnByb3RvdHlwZSk7XG4gICAgRWRpdE1vZGVDaXJjbGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRWRpdE1vZGVDaXJjbGU7XG5cbiAgICB2YXIgcHJvdG8gPSBFZGl0TW9kZUNpcmNsZS5wcm90b3R5cGU7XG5cbiAgICBwcm90by5kZWxldGVNYXJrdXAgPSBmdW5jdGlvbihtYXJrdXAsIGNhbnRVbmRvKSB7XG5cbiAgICAgICAgbWFya3VwID0gbWFya3VwIHx8IHRoaXMuc2VsZWN0ZWRNYXJrdXA7XG4gICAgICAgIGlmIChtYXJrdXAgJiYgbWFya3VwLnR5cGUgPT0gdGhpcy50eXBlKSB7XG4gICAgICAgICAgICB2YXIgZGVsZXRlQ2lyY2xlID0gbmV3IERlbGV0ZUNpcmNsZSh0aGlzLmVkaXRvciwgbWFya3VwKTtcbiAgICAgICAgICAgIGRlbGV0ZUNpcmNsZS5hZGRUb0hpc3RvcnkgPSAhY2FudFVuZG87XG4gICAgICAgICAgICBkZWxldGVDaXJjbGUuZXhlY3V0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVyIHRvIG1vdXNlIG1vdmUgZXZlbnRzLCB1c2VkIHRvIGNyZWF0ZSBtYXJrdXBzLlxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgTW91c2UgZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcm90by5vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgaWYgKCFFZGl0TW9kZS5wcm90b3R5cGUub25Nb3VzZU1vdmUuY2FsbCggdGhpcywgZXZlbnQgKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlbGVjdGVkTWFya3VwID0gdGhpcy5zZWxlY3RlZE1hcmt1cDtcblxuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG5cbiAgICAgICAgdmFyIGZpbmFsID0gdGhpcy5nZXRGaW5hbE1vdXNlRHJhZ2dpbmdQb3NpdGlvbigpO1xuICAgICAgICBmaW5hbCA9IGVkaXRvci5jbGllbnRUb01hcmt1cHMoZmluYWwueCwgZmluYWwueSk7XG5cbiAgICAgICAgdmFyIHNpemVYID0gTWF0aC5hYnModGhpcy5maXJzdFBvc2l0aW9uLnggLSBmaW5hbC54KTtcbiAgICAgICAgdmFyIHNpemVZID0gTWF0aC5hYnModGhpcy5maXJzdFBvc2l0aW9uLnkgLSBmaW5hbC55KTtcblxuICAgICAgICB2YXIgcG9zaXRpb24gPSB7eDogKHRoaXMuZmlyc3RQb3NpdGlvbi54ICsgZmluYWwueCkgKiAwLjUsIHk6ICh0aGlzLmZpcnN0UG9zaXRpb24ueSArIGZpbmFsLnkpICogMC41fTtcbiAgICAgICAgdmFyIHNpemUgPSB0aGlzLnNpemUgPSB7eDogc2l6ZVgsIHk6IHNpemVZfTtcblxuICAgICAgICB2YXIgc2V0Q2lyY2xlID0gbmV3IFNldENpcmNsZShcbiAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgIHNlbGVjdGVkTWFya3VwLFxuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICBzaXplKTtcblxuICAgICAgICBzZXRDaXJjbGUuZXhlY3V0ZSgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlciB0byBtb3VzZSBkb3duIGV2ZW50cywgdXNlZCB0byBzdGFydCBtYXJrdXBzIGNyZWF0aW9uLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJvdG8ub25Nb3VzZURvd24gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICBFZGl0TW9kZS5wcm90b3R5cGUub25Nb3VzZURvd24uY2FsbCh0aGlzKTtcblxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE1hcmt1cCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgICAgICB2YXIgbW91c2VQb3NpdGlvbiA9IGVkaXRvci5nZXRNb3VzZVBvc2l0aW9uKCk7XG5cbiAgICAgICAgdGhpcy5pbml0aWFsWCA9IG1vdXNlUG9zaXRpb24ueDtcbiAgICAgICAgdGhpcy5pbml0aWFsWSA9IG1vdXNlUG9zaXRpb24ueTtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgY2VudGVyIGFuZCBzaXplLlxuICAgICAgICB2YXIgcG9zaXRpb24gPSB0aGlzLmZpcnN0UG9zaXRpb24gPSBlZGl0b3IuY2xpZW50VG9NYXJrdXBzKHRoaXMuaW5pdGlhbFgsIHRoaXMuaW5pdGlhbFkpO1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZSA9IGVkaXRvci5zaXplRnJvbUNsaWVudFRvTWFya3VwcygxLCAxKTtcblxuICAgICAgICAvLyBDcmVhdGUgY2lyY2xlLlxuICAgICAgICBlZGl0b3IuYmVnaW5BY3Rpb25Hcm91cCgpO1xuXG4gICAgICAgIHZhciBtYXJrdXBJZCA9IGVkaXRvci5nZXRJZCgpO1xuICAgICAgICB2YXIgY3JlYXRlID0gbmV3IENyZWF0ZUNpcmNsZShcbiAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgIG1hcmt1cElkLFxuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIHRoaXMuc3R5bGUpO1xuICAgICAgICBjcmVhdGUuZXhlY3V0ZSgpO1xuXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRNYXJrdXAgPSBlZGl0b3IuZ2V0TWFya3VwKG1hcmt1cElkKTtcbiAgICAgICAgdGhpcy5jcmVhdGlvbkJlZ2luKCk7XG4gICAgfTtcbiJdLCJuYW1lcyI6WyJFZGl0TW9kZSIsIkRlbGV0ZUNpcmNsZSIsIkNyZWF0ZUNpcmNsZSIsIlNldENpcmNsZSIsIk1hcmt1cFR5cGVzIiwiRWRpdE1vZGVDaXJjbGUiLCJlZGl0b3IiLCJzdHlsZUF0dHJpYnV0ZXMiLCJjYWxsIiwiTUFSS1VQX1RZUEVfQ0lSQ0xFIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJwcm90byIsImRlbGV0ZU1hcmt1cCIsIm1hcmt1cCIsImNhbnRVbmRvIiwic2VsZWN0ZWRNYXJrdXAiLCJ0eXBlIiwiZGVsZXRlQ2lyY2xlIiwiYWRkVG9IaXN0b3J5IiwiZXhlY3V0ZSIsIm9uTW91c2VNb3ZlIiwiZXZlbnQiLCJmaW5hbCIsImdldEZpbmFsTW91c2VEcmFnZ2luZ1Bvc2l0aW9uIiwiY2xpZW50VG9NYXJrdXBzIiwieCIsInkiLCJzaXplWCIsIk1hdGgiLCJhYnMiLCJmaXJzdFBvc2l0aW9uIiwic2l6ZVkiLCJwb3NpdGlvbiIsInNpemUiLCJzZXRDaXJjbGUiLCJvbk1vdXNlRG93biIsIm1vdXNlUG9zaXRpb24iLCJnZXRNb3VzZVBvc2l0aW9uIiwiaW5pdGlhbFgiLCJpbml0aWFsWSIsInNpemVGcm9tQ2xpZW50VG9NYXJrdXBzIiwiYmVnaW5BY3Rpb25Hcm91cCIsIm1hcmt1cElkIiwiZ2V0SWQiLCJzdHlsZSIsImdldE1hcmt1cCIsImNyZWF0aW9uQmVnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-modes/EditModeCircle.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-modes/EditModeCloud.js":
/*!************************************************************!*\
  !*** ./extensions/Markup/core/edit-modes/EditModeCloud.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditModeCloud: () => (/* binding */ EditModeCloud)\n/* harmony export */ });\n/* harmony import */ var _EditMode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditMode */ \"./extensions/Markup/core/edit-modes/EditMode.js\");\n/* harmony import */ var _edit_actions_DeleteCloud__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../edit-actions/DeleteCloud */ \"./extensions/Markup/core/edit-actions/DeleteCloud.js\");\n/* harmony import */ var _edit_actions_CreateCloud__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../edit-actions/CreateCloud */ \"./extensions/Markup/core/edit-actions/CreateCloud.js\");\n/* harmony import */ var _edit_actions_SetCloud__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../edit-actions/SetCloud */ \"./extensions/Markup/core/edit-actions/SetCloud.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n\n\n\n\n\n\n\n\n/**\n *\n * @param editor\n * @constructor\n */\nfunction EditModeCloud(editor) {\n\n  var styleAttributes = ['stroke-width', 'stroke-color', 'stroke-opacity', 'fill-color', 'fill-opacity'];\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.call(this, editor, _MarkupTypes__WEBPACK_IMPORTED_MODULE_4__.MARKUP_TYPE_CLOUD, styleAttributes);\n}\n\nEditModeCloud.prototype = Object.create(_EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype);\nEditModeCloud.prototype.constructor = EditModeCloud;\n\nvar proto = EditModeCloud.prototype;\n\nproto.deleteMarkup = function (markup, cantUndo) {\n\n  markup = markup || this.selectedMarkup;\n  if (markup && markup.type == this.type) {\n    var deleteCloud = new _edit_actions_DeleteCloud__WEBPACK_IMPORTED_MODULE_1__.DeleteCloud(this.editor, markup);\n    deleteCloud.addToHistory = !cantUndo;\n    deleteCloud.execute();\n    return true;\n  }\n  return false;\n};\n\n/**\n * Handler to mouse move events, used to create markups.\n * @param {MouseEvent} event Mouse event.\n * @private\n */\nproto.onMouseMove = function (event) {\n\n  if (!_EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.onMouseMove.call(this, event)) {\n    return false;\n  }\n\n  var selectedMarkup = this.selectedMarkup;\n\n  var editor = this.editor;\n\n  var pos = this.getFinalMouseDraggingPosition();\n  var final = editor.clientToMarkups(pos.x, pos.y);\n  var position = { x: (this.firstPosition.x + final.x) / 2, y: (this.firstPosition.y + final.y) / 2 };\n  var size = this.size = { x: Math.abs(final.x - this.firstPosition.x), y: Math.abs(final.y - this.firstPosition.y) };\n  var setCloud = new _edit_actions_SetCloud__WEBPACK_IMPORTED_MODULE_3__.SetCloud(\n    editor,\n    selectedMarkup,\n    position,\n    size);\n\n  setCloud.execute();\n  return true;\n};\n\n/**\n * Handler to mouse down events, used to start markups creation.\n * @private\n */\nproto.onMouseDown = function () {\n\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.onMouseDown.call(this);\n\n  if (this.selectedMarkup) {\n    return;\n  }\n\n  var editor = this.editor;\n  var mousePosition = editor.getMousePosition();\n\n  this.initialX = mousePosition.x;\n  this.initialY = mousePosition.y;\n\n  // Calculate center and size.\n  var position = this.firstPosition = editor.clientToMarkups(this.initialX, this.initialY);\n  var size = this.size = editor.sizeFromClientToMarkups(1, 1);\n\n  // Create Cloud.\n  editor.beginActionGroup();\n\n  var markupId = editor.getId();\n  var create = new _edit_actions_CreateCloud__WEBPACK_IMPORTED_MODULE_2__.CreateCloud(\n    editor,\n    markupId,\n    position,\n    size,\n    0,\n    this.style);\n\n  create.execute();\n\n  this.selectedMarkup = editor.getMarkup(markupId);\n  this.creationBegin();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtbW9kZXMvRWRpdE1vZGVDbG91ZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBYTs7QUFFeUI7QUFDb0I7QUFDQTtBQUNOO0FBQ047O0FBRTFDO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTSyxhQUFhQSxDQUFDQyxNQUFNLEVBQUU7O0VBRWxDLElBQUlDLGVBQWUsR0FBRyxDQUFDLGNBQWMsRUFBRSxjQUFjLEVBQUUsZ0JBQWdCLEVBQUUsWUFBWSxFQUFFLGNBQWMsQ0FBQztFQUN0R1AsK0NBQVEsQ0FBQ1EsSUFBSSxDQUFDLElBQUksRUFBRUYsTUFBTSxFQUFFRiwyREFBNkIsRUFBRUcsZUFBZSxDQUFDO0FBQy9FOztBQUVBRixhQUFhLENBQUNLLFNBQVMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUNaLCtDQUFRLENBQUNVLFNBQVMsQ0FBQztBQUMzREwsYUFBYSxDQUFDSyxTQUFTLENBQUNHLFdBQVcsR0FBR1IsYUFBYTs7QUFFbkQsSUFBSVMsS0FBSyxHQUFHVCxhQUFhLENBQUNLLFNBQVM7O0FBRW5DSSxLQUFLLENBQUNDLFlBQVksR0FBRyxVQUFTQyxNQUFNLEVBQUVDLFFBQVEsRUFBRTs7RUFFNUNELE1BQU0sR0FBR0EsTUFBTSxJQUFJLElBQUksQ0FBQ0UsY0FBYztFQUN0QyxJQUFJRixNQUFNLElBQUlBLE1BQU0sQ0FBQ0csSUFBSSxJQUFJLElBQUksQ0FBQ0EsSUFBSSxFQUFFO0lBQ3BDLElBQUlDLFdBQVcsR0FBRyxJQUFJbkIsa0VBQVcsQ0FBQyxJQUFJLENBQUNLLE1BQU0sRUFBRVUsTUFBTSxDQUFDO0lBQ3RESSxXQUFXLENBQUNDLFlBQVksR0FBRyxDQUFDSixRQUFRO0lBQ3BDRyxXQUFXLENBQUNFLE9BQU8sQ0FBQyxDQUFDO0lBQ3JCLE9BQU8sSUFBSTtFQUNmO0VBQ0EsT0FBTyxLQUFLO0FBQ2hCLENBQUM7O0FBRUQ7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNJUixLQUFL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QUFJLENBQUNJLGFBQWEsQ0FBQyxDQUFDO0FBQ3hCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9lZGl0LW1vZGVzL0VkaXRNb2RlQ2xvdWQuanM/MzFlNiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IEVkaXRNb2RlIH0gZnJvbSAnLi9FZGl0TW9kZSc7XG5pbXBvcnQgeyBEZWxldGVDbG91ZCB9IGZyb20gJy4uL2VkaXQtYWN0aW9ucy9EZWxldGVDbG91ZCc7XG5pbXBvcnQgeyBDcmVhdGVDbG91ZCB9IGZyb20gJy4uL2VkaXQtYWN0aW9ucy9DcmVhdGVDbG91ZCc7XG5pbXBvcnQgeyBTZXRDbG91ZCB9IGZyb20gJy4uL2VkaXQtYWN0aW9ucy9TZXRDbG91ZCc7XG5pbXBvcnQgKiBhcyBNYXJrdXBUeXBlcyBmcm9tICcuLi9NYXJrdXBUeXBlcyc7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlZGl0b3JcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gRWRpdE1vZGVDbG91ZChlZGl0b3IpIHtcblxuICAgICAgICB2YXIgc3R5bGVBdHRyaWJ1dGVzID0gWydzdHJva2Utd2lkdGgnLCAnc3Ryb2tlLWNvbG9yJywgJ3N0cm9rZS1vcGFjaXR5JywgJ2ZpbGwtY29sb3InLCAnZmlsbC1vcGFjaXR5J107XG4gICAgICAgIEVkaXRNb2RlLmNhbGwodGhpcywgZWRpdG9yLCBNYXJrdXBUeXBlcy5NQVJLVVBfVFlQRV9DTE9VRCwgc3R5bGVBdHRyaWJ1dGVzKTtcbiAgICB9XG5cbiAgICBFZGl0TW9kZUNsb3VkLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRWRpdE1vZGUucHJvdG90eXBlKTtcbiAgICBFZGl0TW9kZUNsb3VkLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEVkaXRNb2RlQ2xvdWQ7XG5cbiAgICB2YXIgcHJvdG8gPSBFZGl0TW9kZUNsb3VkLnByb3RvdHlwZTtcblxuICAgIHByb3RvLmRlbGV0ZU1hcmt1cCA9IGZ1bmN0aW9uKG1hcmt1cCwgY2FudFVuZG8pIHtcblxuICAgICAgICBtYXJrdXAgPSBtYXJrdXAgfHwgdGhpcy5zZWxlY3RlZE1hcmt1cDtcbiAgICAgICAgaWYgKG1hcmt1cCAmJiBtYXJrdXAudHlwZSA9PSB0aGlzLnR5cGUpIHtcbiAgICAgICAgICAgIHZhciBkZWxldGVDbG91ZCA9IG5ldyBEZWxldGVDbG91ZCh0aGlzLmVkaXRvciwgbWFya3VwKTtcbiAgICAgICAgICAgIGRlbGV0ZUNsb3VkLmFkZFRvSGlzdG9yeSA9ICFjYW50VW5kbztcbiAgICAgICAgICAgIGRlbGV0ZUNsb3VkLmV4ZWN1dGUoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlciB0byBtb3VzZSBtb3ZlIGV2ZW50cywgdXNlZCB0byBjcmVhdGUgbWFya3Vwcy5cbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IE1vdXNlIGV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJvdG8ub25Nb3VzZU1vdmUgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIGlmICghRWRpdE1vZGUucHJvdG90eXBlLm9uTW91c2VNb3ZlLmNhbGwoIHRoaXMsIGV2ZW50ICkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzZWxlY3RlZE1hcmt1cCA9IHRoaXMuc2VsZWN0ZWRNYXJrdXA7XG5cbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuXG4gICAgICAgIHZhciBwb3MgPSB0aGlzLmdldEZpbmFsTW91c2VEcmFnZ2luZ1Bvc2l0aW9uKCk7XG4gICAgICAgIHZhciBmaW5hbCA9IGVkaXRvci5jbGllbnRUb01hcmt1cHMocG9zLngsIHBvcy55KTtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0geyB4OiAodGhpcy5maXJzdFBvc2l0aW9uLnggKyBmaW5hbC54KSAvIDIsIHk6ICh0aGlzLmZpcnN0UG9zaXRpb24ueSArIGZpbmFsLnkpIC8gMiB9O1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZSA9IHsgeDogTWF0aC5hYnMoZmluYWwueCAtIHRoaXMuZmlyc3RQb3NpdGlvbi54KSwgeTogTWF0aC5hYnMoZmluYWwueSAtIHRoaXMuZmlyc3RQb3NpdGlvbi55KSB9O1xuICAgICAgICB2YXIgc2V0Q2xvdWQgPSBuZXcgU2V0Q2xvdWQoXG4gICAgICAgICAgICBlZGl0b3IsXG4gICAgICAgICAgICBzZWxlY3RlZE1hcmt1cCxcbiAgICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgICAgc2l6ZSk7XG5cbiAgICAgICAgc2V0Q2xvdWQuZXhlY3V0ZSgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlciB0byBtb3VzZSBkb3duIGV2ZW50cywgdXNlZCB0byBzdGFydCBtYXJrdXBzIGNyZWF0aW9uLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJvdG8ub25Nb3VzZURvd24gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICBFZGl0TW9kZS5wcm90b3R5cGUub25Nb3VzZURvd24uY2FsbCh0aGlzKTtcblxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE1hcmt1cCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgICAgICB2YXIgbW91c2VQb3NpdGlvbiA9IGVkaXRvci5nZXRNb3VzZVBvc2l0aW9uKCk7XG5cbiAgICAgICAgdGhpcy5pbml0aWFsWCA9IG1vdXNlUG9zaXRpb24ueDtcbiAgICAgICAgdGhpcy5pbml0aWFsWSA9IG1vdXNlUG9zaXRpb24ueTtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgY2VudGVyIGFuZCBzaXplLlxuICAgICAgICB2YXIgcG9zaXRpb24gPSB0aGlzLmZpcnN0UG9zaXRpb24gPSBlZGl0b3IuY2xpZW50VG9NYXJrdXBzKHRoaXMuaW5pdGlhbFgsIHRoaXMuaW5pdGlhbFkpO1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZSA9IGVkaXRvci5zaXplRnJvbUNsaWVudFRvTWFya3VwcygxLCAxKTtcblxuICAgICAgICAvLyBDcmVhdGUgQ2xvdWQuXG4gICAgICAgIGVkaXRvci5iZWdpbkFjdGlvbkdyb3VwKCk7XG5cbiAgICAgICAgdmFyIG1hcmt1cElkID0gZWRpdG9yLmdldElkKCk7XG4gICAgICAgIHZhciBjcmVhdGUgPSBuZXcgQ3JlYXRlQ2xvdWQoXG4gICAgICAgICAgICBlZGl0b3IsXG4gICAgICAgICAgICBtYXJrdXBJZCxcbiAgICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgICAgc2l6ZSxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICB0aGlzLnN0eWxlKTtcblxuICAgICAgICBjcmVhdGUuZXhlY3V0ZSgpO1xuXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRNYXJrdXAgPSBlZGl0b3IuZ2V0TWFya3VwKG1hcmt1cElkKTtcbiAgICAgICAgdGhpcy5jcmVhdGlvbkJlZ2luKCk7XG4gICAgfTtcblxuIl0sIm5hbWVzIjpbIkVkaXRNb2RlIiwiRGVsZXRlQ2xvdWQiLCJDcmVhdGVDbG91ZCIsIlNldENsb3VkIiwiTWFya3VwVHlwZXMiLCJFZGl0TW9kZUNsb3VkIiwiZWRpdG9yIiwic3R5bGVBdHRyaWJ1dGVzIiwiY2FsbCIsIk1BUktVUF9UWVBFX0NMT1VEIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJwcm90byIsImRlbGV0ZU1hcmt1cCIsIm1hcmt1cCIsImNhbnRVbmRvIiwic2VsZWN0ZWRNYXJrdXAiLCJ0eXBlIiwiZGVsZXRlQ2xvdWQiLCJhZGRUb0hpc3RvcnkiLCJleGVjdXRlIiwib25Nb3VzZU1vdmUiLCJldmVudCIsInBvcyIsImdldEZpbmFsTW91c2VEcmFnZ2luZ1Bvc2l0aW9uIiwiZmluYWwiLCJjbGllbnRUb01hcmt1cHMiLCJ4IiwieSIsInBvc2l0aW9uIiwiZmlyc3RQb3NpdGlvbiIsInNpemUiLCJNYXRoIiwiYWJzIiwic2V0Q2xvdWQiLCJvbk1vdXNlRG93biIsIm1vdXNlUG9zaXRpb24iLCJnZXRNb3VzZVBvc2l0aW9uIiwiaW5pdGlhbFgiLCJpbml0aWFsWSIsInNpemVGcm9tQ2xpZW50VG9NYXJrdXBzIiwiYmVnaW5BY3Rpb25Hcm91cCIsIm1hcmt1cElkIiwiZ2V0SWQiLCJzdHlsZSIsImdldE1hcmt1cCIsImNyZWF0aW9uQmVnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-modes/EditModeCloud.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-modes/EditModeDimension.js":
/*!****************************************************************!*\
  !*** ./extensions/Markup/core/edit-modes/EditModeDimension.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditModeDimension: () => (/* binding */ EditModeDimension)\n/* harmony export */ });\n/* harmony import */ var _EditMode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditMode */ \"./extensions/Markup/core/edit-modes/EditMode.js\");\n/* harmony import */ var _edit_actions_DeleteDimension__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../edit-actions/DeleteDimension */ \"./extensions/Markup/core/edit-actions/DeleteDimension.js\");\n/* harmony import */ var _edit_actions_CreateDimension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../edit-actions/CreateDimension */ \"./extensions/Markup/core/edit-actions/CreateDimension.js\");\n/* harmony import */ var _edit_actions_SetDimension__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../edit-actions/SetDimension */ \"./extensions/Markup/core/edit-actions/SetDimension.js\");\n/* harmony import */ var _edit_actions_SetStyle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../edit-actions/SetStyle */ \"./extensions/Markup/core/edit-actions/SetStyle.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n/* harmony import */ var _MarkupEvents__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../MarkupEvents */ \"./extensions/Markup/core/MarkupEvents.js\");\n/* harmony import */ var _EditorTextInput__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./EditorTextInput */ \"./extensions/Markup/core/edit-modes/EditorTextInput.js\");\n/* harmony import */ var _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../MarkupsCoreUtils */ \"./extensions/Markup/core/MarkupsCoreUtils.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nvar MeasureCommon = Autodesk.Viewing.MeasureCommon;\n\nvar MAX_LETTERS = 15;\nvar SPACE = '\\u00A0'; // Non-breaking space\nvar _cursorPosition;\n\n/**\n *\n * @param editor\n * @constructor\n */\nfunction EditModeDimension(editor) {\n\n  var self = this;\n\n  var styleAttributes = ['stroke-width', 'stroke-color', 'stroke-opacity', 'font-size', 'font-family', 'font-style', 'font-weight'];\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.call(this, editor, _MarkupTypes__WEBPACK_IMPORTED_MODULE_5__.MARKUP_TYPE_DIMENSION, styleAttributes);\n\n  this.onHistoryChangeBinded = this.onHistoryChange.bind(this);\n\n  this.measurement = new MeasureCommon.Measurement(MeasureCommon.MeasurementTypes.MEASUREMENT_DISTANCE);\n  var viewer = this.viewer;\n  var measureExt = viewer.getExtension('Autodesk.Measure');\n\n  function abortDimensionMarkup() {\n    self.cancelEditModeChange = true;\n    editor.enterEditMode(); // Selects default edit mode.\n  }\n\n  if (!measureExt) {\n    console.error('Demension markup cant work without measure extension. Please load measure extension first');\n    abortDimensionMarkup();\n  }\n\n  this.sharedMeasureConfig = measureExt.sharedMeasureConfig;\n\n  // If PDF, force calibration\n  if ((measureExt.forceCalibrate || viewer.model.isLeaflet() || viewer.model.isPdf(true)) && !measureExt.calibrationTool.isCalibrated()) {\n    measureExt.openCalibrationRequiredDialog('dimension');\n    abortDimensionMarkup();\n  }\n}\n\nEditModeDimension.prototype = Object.create(_EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype);\nEditModeDimension.prototype.constructor = EditModeDimension;\n\nvar proto = EditModeDimension.prototype;\n\nproto.deleteMarkup = function (markup, cantUndo) {\n\n  markup = markup || this.selectedMarkup;\n  if (markup && markup.type == this.type) {\n    var deleteDimension = new _edit_actions_DeleteDimension__WEBPACK_IMPORTED_MODULE_1__.DeleteDimension(this.editor, markup);\n    deleteDimension.addToHistory = !cantUndo;\n    deleteDimension.execute();\n    this.creating = false;\n    this.dragging = false;\n    return true;\n  }\n  return false;\n};\n\nproto.updateTextBoxStyle = function (style) {\n  if (this.isTextInputHelperActive()) {\n    if (!style) {\n      style = this.textInputHelper.textMarkup.getStyle();\n    }\n\n    this.textInputHelper.setStyle(style);\n    this.updateTextBox(this.textInputHelper.textMarkup);\n  }\n};\n\nproto.setStyle = function (style) {\n\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.setStyle.call(this, style);\n  this.updateTextBoxStyle(style);\n\n};\n\nproto.notifyAllowNavigation = function (allows) {\n\n  if (allows && this.isTextInputHelperActive()) {\n    this.textInputHelper.acceptAndExit();\n  }\n};\n\nproto.creationBegin = function () {\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.creationBegin.call(this);\n};\n\nproto.creationEnd = function () {\n\n  this.dragging = false;\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.creationEnd.call(this);\n};\n\nproto.isMinSizeValid = function () {\n\n  if (this.minSize !== 0) {\n    var tmp = this.editor.sizeFromMarkupsToClient(this.selectedMarkup.size.x, this.selectedMarkup.size.y);\n    return tmp.x * tmp.x >= this.minSize * this.minSize;\n  }\n\n  return true;\n};\n\nproto.creationCancel = function () {\n\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.creationCancel.call(this);\n\n  this.creating = false;\n  this.dragging = false;\n\n};\n\nproto.destroy = function () {\n\n  if (this.textInputHelper) {\n\n    if (this.textInputHelper.isActive()) {\n      this.textInputHelper.acceptAndExit();\n    }\n\n    this.editor.actionManager.removeEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_6__.EVENT_HISTORY_CHANGED, this.onHistoryChangeBinded);\n\n    this.textInputHelper.destroy();\n    this.textInputHelper = null;\n  }\n\n  this.updateViewportId();\n\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.destroy.call(this);\n};\n\nproto.getDistance = function () {\n\n  var distance = null;\n\n  this.measurement.computeResult(this.measurement.picks, this.viewer);\n\n  if (this.viewer.model && this.measurement.distanceXYZ) {\n    var d = Autodesk.Viewing.Private.convertUnits(this.viewer.model.getUnitString(), this.sharedMeasureConfig.units, this.sharedMeasureConfig.calibrationFactor, this.measurement.distanceXYZ);\n    return Autodesk.Viewing.Private.formatValueWithUnits(d, this.sharedMeasureConfig.units, 3, this.sharedMeasureConfig.precision);\n  }\n\n  return distance;\n};\n\nproto.updateMeasurement = function (measurementNumber) {\n  var editor = this.editor;\n\n  var pick = this.measurement.getPick(measurementNumber);\n\n  if (_cursorPosition) {\n    pick.geomType = MeasureCommon.SnapType.SNAP_VERTEX;\n    pick.geomVertex = _cursorPosition;\n    pick.intersectPoint = _cursorPosition;\n  } else {\n    editor.snapper.copyResults(pick);\n  }\n\n  return pick;\n};\n\nproto.updateViewportId = function (viewportId) {\n  if (this.viewer.model && this.viewer.model.is2d()) {\n    if (!viewportId) {\n      this.viewer.impl.updateViewportId(0);\n      this.editor.snapper.setViewportId(null);\n    } else\n    {\n      // Pass viewport Id to LineShader to make all other geometries with different viewport transparent\n      this.viewer.impl.updateViewportId(viewportId);\n      this.editor.snapper.setViewportId(viewportId);\n\n    }\n  }\n};\n\nproto.pickFirstAnchor = function () {\n  var editor = this.editor;\n  this.measurement.clearAllPicks();\n  var mousePosition = editor.getMousePosition();\n\n  this.initialX = mousePosition.x;\n  this.initialY = mousePosition.y;\n\n  this.firstAnchor = editor.positionFromClientToMarkups(this.initialX, this.initialY);\n\n  editor.beginActionGroup();\n\n  var dimensionId = editor.getId();\n  var create = new _edit_actions_CreateDimension__WEBPACK_IMPORTED_MODULE_2__.CreateDimension(editor, dimensionId, this.firstAnchor, null, this.currentText, this.style);\n  create.execute();\n\n  this.selectedMarkup = editor.getMarkup(dimensionId);\n  this.creationBegin();\n\n  var pick = this.updateMeasurement(1);\n  this.updateViewportId(pick.viewportIndex2d);\n};\n\nproto.pickSecondAnchor = function (mouseDown) {\n\n  var editor = this.editor;\n  var selectedMarkup = this.selectedMarkup;\n\n  this.secondAnchor = this.getFinalMouseDraggingPosition();\n\n  this.updateMeasurement(2);\n\n  // Correct Perpendicular\n  if (MeasureCommon.correctPerpendicularPicks(this.measurement.getPick(1), this.measurement.getPick(2), this.viewer, editor.snapper)) {\n    var newPos = MeasureCommon.getSnapResultPosition(this.measurement.getPick(2), this.viewer);\n    this.secondAnchor = editor.project(newPos);\n    editor.snapper.indicator.render();\n  }\n\n  var secondAnchor = editor.positionFromClientToMarkups(this.secondAnchor.x, this.secondAnchor.y);\n\n  this.size.x = selectedMarkup.size.x;\n  this.size.y = selectedMarkup.size.y;\n\n  selectedMarkup.currentText = this.getDistance();\n\n  var setDimension = new _edit_actions_SetDimension__WEBPACK_IMPORTED_MODULE_3__.SetDimension(editor, selectedMarkup, this.firstAnchor, secondAnchor, selectedMarkup.currentText);\n  setDimension.execute();\n\n  var setStyle = new _edit_actions_SetStyle__WEBPACK_IMPORTED_MODULE_4__.SetStyle(editor, selectedMarkup, this.style);\n  setStyle.execute();\n\n  // Open 'Add Length' textbox if no measurement has being taken.\n  if (mouseDown && !selectedMarkup.currentText && this.isMinSizeValid()) {\n    selectedMarkup.currentText = '';\n    this.editor.selectMarkup(null);\n    this.updateTextBox(selectedMarkup);\n  }\n};\n\n\n/**\n * Handler to mouse down events, used to start markups creation.\n * @private\n */\nproto.onMouseDown = function (event) {\n\n  // Right click - do nothing.\n  if (Autodesk.Viewing.Private.isRightClick(event, this.viewer.navigation)) {\n    return;\n  }\n\n  _cursorPosition = null;\n\n  // Textbox is open.\n  if (this.isTextInputHelperActive()) {\n    this.textInputHelper.acceptAndExit();\n    return;\n  }\n\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.onMouseDown.call(this);\n\n  // User selected an already created markup.\n  if (this.selectedMarkup && !this.creating) {\n    return;\n  }\n\n  var isSnapped = this.editor.snapper.isSnapped();\n\n  // Picked first point.\n  if (!this.selectedMarkup && !this.creating && isSnapped) {\n    this.pickFirstAnchor();\n  }\n\n  // Picked second point.\n  else if (this.selectedMarkup && this.creating) {\n\n    if (isSnapped) {\n      this.pickSecondAnchor(true);\n    } else {\n      this.deleteMarkup(this.selectedMarkup, true);\n      this.creating = true;\n    }\n\n    this.updateViewportId();\n    this.creationEnd();\n  }\n};\n\nproto.onMouseUp = function (event) {\n\n  if (this.dragging) {\n    this.onMouseDown(event);\n    this.dragging = false;\n  }\n};\n\n\n/**\n * Handler to mouse move events, used to create markups.\n * @param {MouseEvent} event Mouse event.\n * @private\n */\nproto.onMouseMove = function (event) {\n\n  _cursorPosition = null;\n\n  if (!this.selectedMarkup || !this.creating) {\n    return;\n  }\n\n  this.dragging = true;\n  this.pickSecondAnchor(false);\n};\n\nproto.getFinalMouseDraggingPosition = function () {\n\n  var editor = this.editor;\n  var bounds = editor.getBounds();\n  var mousePosition = editor.getMousePosition();\n\n  if (!editor.snapper.isSnapped()) {\n    if (editor.viewer.model && editor.viewer.model.is2d()) {\n      _cursorPosition = MeasureCommon.inverseProject(mousePosition, editor.viewer);\n    }\n  }\n\n  var initialX = this.initialX;\n  var initialY = this.initialY;\n\n  var finalX = Math.min(Math.max(bounds.x, mousePosition.x), bounds.x + bounds.width);\n  var finalY = Math.min(Math.max(bounds.y, mousePosition.y), bounds.y + bounds.height);\n\n  if (finalX == initialX &&\n  finalY == initialY) {\n    finalX++;\n    finalY++;\n  }\n\n  // Make straight line when shift key is down.\n  if (editor.input.constrainAxis && editor.viewer.model.is2d()) {\n    var dx = Math.abs(finalX - initialX);\n    var dy = Math.abs(finalY - initialY);\n\n    if (dx > dy) {\n      finalY = initialY;\n    } else\n    {\n      finalX = initialX;\n    }\n\n    editor.snapper.onMouseMove({ x: finalX, y: finalY });\n\n    if (editor.snapper.isSnapped()) {\n      editor.snapper.copyResults(this.measurement.getPick(2));\n      _cursorPosition = null;\n    } else {\n      _cursorPosition = MeasureCommon.inverseProject({ x: finalX, y: finalY }, editor.viewer);\n    }\n  }\n\n  return { x: finalX, y: finalY };\n};\n\nproto.isVisibleChar = function (keyCode) {\n\n  return keyCode > 47 && keyCode < 58 || // number keys\n  keyCode == 32 || // spacebar\n  keyCode > 64 && keyCode < 91 || // letter keys\n  keyCode > 95 && keyCode < 112 || // numpad keys\n  keyCode > 185 && keyCode < 193 || // ;=,-./` (in order)\n  keyCode > 218 && keyCode < 223; // [\\]' (in order)\n};\n\nproto.measureTextLine = function (text, markup, editor) {\n\n  text = text.replace(new RegExp(' ', 'g'), SPACE);\n  text = text.length === 0 ? markup.initialText : text;\n  return (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_8__.measureTextLines)([text + '|'], this.style, editor)[0];\n\n};\n\nproto.handleKeyDown = function (e) {\n  var textInputHelper = this.textInputHelper;\n\n  if (e.keyCode === Autodesk.Viewing.KeyCode.ENTER) {\n    return;\n  }\n\n  var markup = textInputHelper.textMarkup;\n  var text = textInputHelper.textArea.value;\n\n  if (e.keyCode === Autodesk.Viewing.KeyCode.BACKSPACE) {\n    text = text.substring(0, text.length - 1);\n  }\n\n  if (text.length < MAX_LETTERS && this.isVisibleChar(e.keyCode)) {\n    text = text + e.key;\n  }\n\n  var size = this.measureTextLine(text, markup, this.editor);\n\n  this.updateTextBox(markup, size);\n};\n\nproto.updateTextBox = function (markup, size) {\n\n  if (!this.textInputHelper) {\n    this.textInputHelper = new _EditorTextInput__WEBPACK_IMPORTED_MODULE_7__.EditorTextInput(this.viewer.container, this.editor, true, markup.initialText, MAX_LETTERS);\n    this.textInputHelper.addEventListener(this.textInputHelper.EVENT_TEXT_CHANGE, this.onHelperTextChange.bind(this), false);\n    this.handleKeyDownBinded = this.handleKeyDown.bind(this);\n  }\n\n  markup.text.style.display = 'none';\n\n  if (!size) {\n    size = this.measureTextLine(this.textInputHelper.textArea.value, markup, this.editor);\n  }\n\n  var transform = this.getTextAreaTransform(markup, size);\n\n  this.textInputHelper.styleTextArea.setAttribute('text-align', 'center');\n\n  this.textInputHelper.setActive(markup, false);\n\n\n  // Override textArea attributes\n  this.textInputHelper.textArea.style.position = 'static';\n  this.textInputHelper.textArea.style.padding = '0';\n  this.textInputHelper.textArea.style.width = size.width + 'px';\n  this.textInputHelper.textArea.style.height = size.height + 'px';\n  this.textInputHelper.textArea.style.transform = transform; // Maybe need to add 'allBrowsers' support\n\n  this.editor.actionManager.removeEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_6__.EVENT_HISTORY_CHANGED, this.onHistoryChangeBinded);\n  this.editor.actionManager.addEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_6__.EVENT_HISTORY_CHANGED, this.onHistoryChangeBinded);\n  this.textInputHelper.textArea.removeEventListener('keydown', this.handleKeyDownBinded);\n  this.textInputHelper.textArea.addEventListener('keydown', this.handleKeyDownBinded);\n\n};\n\nproto.getTextAreaTransform = function (markup, size) {\n\n  var position = markup.getClientPosition();\n  var rotation = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_8__.radiansToDegrees)(markup.rotation) % 360;\n\n  if (rotation > 90 && rotation <= 270 && markup.shouldFlip()) {\n    rotation = 180 + rotation;\n  }\n\n  return [\n  'translate(', position.x - size.width / 2 + 'px,', position.y - this.viewer.container.clientHeight - size.height + 'px)',\n  'rotate(', rotation + 'deg)',\n  'translate(0px,', size.height + 'px)'].\n  join(' ');\n};\n\nproto.onMouseDoubleClick = function (markup) {\n\n  if (markup === this.selectedMarkup) {\n    this.editor.selectMarkup(null);\n    this.updateTextBox(markup);\n  }\n};\n\nproto.onHelperTextChange = function (event) {\n\n  var dataBag = event.data;\n  var markup = dataBag.markup;\n  var textStyle = dataBag.style;\n  var editor = this.editor;\n\n  markup.text.style.display = 'block';\n\n  if (dataBag.newText === '') {\n    dataBag.newText = markup.initialText;\n  }\n\n  // When the text is created for the first time, an action group\n  // is already created and it includes the CreateText action.\n  // Thus, no need to begin another action group.\n  if (!dataBag.firstEdit) {\n    editor.beginActionGroup();\n  }\n\n  var setStyle = new _edit_actions_SetStyle__WEBPACK_IMPORTED_MODULE_4__.SetStyle(editor, markup, textStyle);\n  setStyle.execute();\n\n  var setDimension = new _edit_actions_SetDimension__WEBPACK_IMPORTED_MODULE_3__.SetDimension(editor, markup, markup.firstAnchor, markup.secondAnchor, dataBag.newText);\n  setDimension.execute();\n\n  editor.closeActionGroup();\n  editor.selectMarkup(null);\n};\n\n/**\n * We want to make sure that the Input Helper gets removed from the screen\n * whenever the user attempts to perform an undo or redo action.\n * @param {Event} event\n * @private\n */\nproto.onHistoryChange = function (event) {\n  if (this.isTextInputHelperActive()) {\n    this.textInputHelper.textMarkup.text.style.display = 'block';\n    this.editor.actionManager.removeEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_6__.EVENT_HISTORY_CHANGED, this.onHistoryChangeBinded);\n    this.textInputHelper.setInactive();\n  }\n};\n\n/**\n * Notify the markup that the displayed markups are being saved so edit mode can finish current editions.\n */\nproto.onSave = function () {\n\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.onSave.call(this);\n\n  // Close input helper if it's open.\n  if (this.isTextInputHelperActive()) {\n    var editor = this.editor;\n    editor.actionManager.removeEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_6__.EVENT_HISTORY_CHANGED, this.onHistoryChangeBinded);\n    var markup = this.textInputHelper.textMarkup;\n    this.textInputHelper.acceptAndExit();\n    markup.text.style.display = 'block';\n  }\n};\n\nproto.useWithSnapping = function () {\n  return true;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtbW9kZXMvRWRpdE1vZGVEaW1lbnNpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFhOztBQUV5QjtBQUM0QjtBQUNBO0FBQ047QUFDUjtBQUNOO0FBQ0U7QUFDSTtBQUNxQjs7QUFFckUsSUFBSVUsYUFBYSxHQUFHQyxRQUFRLENBQUNDLE9BQU8sQ0FBQ0YsYUFBYTs7QUFFbEQsSUFBSUcsV0FBVyxHQUFHLEVBQUU7QUFDcEIsSUFBSUMsS0FBSyxHQUFHLFFBQVEsQ0FBQyxDQUFDO0FBQ3RCLElBQUlDLGVBQWU7O0FBRW5CO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTQyxpQkFBaUJBLENBQUNDLE1BQU0sRUFBRTs7RUFFdEMsSUFBSUMsSUFBSSxHQUFHLElBQUk7O0VBRWYsSUFBSUMsZUFBZSxHQUFHLENBQUMsY0FBYyxFQUFFLGNBQWMsRUFBRSxnQkFBZ0IsRUFBRSxXQUFXLEVBQUUsYUFBYSxFQUFFLFlBQVksRUFBRSxhQUFhLENBQUM7RUFDakluQiwrQ0FBUSxDQUFDb0IsSUFBSSxDQUFDLElBQUksRUFBRUgsTUFBTSxFQUFFWiwrREFBaUMsRUFBRWMsZUFBZSxDQUFDOztFQUUvRSxJQUFJLENBQUNHLHFCQUFxQixHQUFHLElBQUksQ0FBQ0MsZUFBZSxDQUFDQyxJQUFJLENBQUMsSUFBSSxDQUFDOztFQUU1RCxJQUFJLENBQUNDLFdBQVcsR0FBRyxJQUFJZixhQUFhLENBQUNnQixXQUFXLENBQUNoQixhQUFhLENBQUNpQixnQkFBZ0IsQ0FBQ0Msb0JBQW9CLENBQUM7RUFDckcsSUFBSUMsTUFBTSxHQUFHLElBQUksQ0FBQ0EsTUFBTTtFQUN4QixJQUFJQyxVQUFVLEdBQUdELE1BQU0sQ0FBQ0UsWUFBWSxDQUFDLGtCQUFrQixDQUFDOztFQUV4RCxTQUFTQyxvQkFBb0JBLENBQUEsRUFBRztJQUM1QmQsSUFBSSxDQUFDZSxvQkFBb0IsR0FBRyxJQUFJO0lBQ2hDaEIsTUFBTSxDQUFD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RSxhQUFhLENBQUNDLG1CQUFtQixDQUFDOUUsZ0VBQWtDLEVBQUUsSUFBSSxDQUFDZ0IscUJBQXFCLENBQUM7SUFDeEcsSUFBSTZCLE1BQU0sR0FBRyxJQUFJLENBQUNZLGVBQWUsQ0FBQ0MsVUFBVTtJQUM1QyxJQUFJLENBQUNELGVBQWUsQ0FBQ08sYUFBYSxDQUFDLENBQUM7SUFDcENuQixNQUFNLENBQUNtSCxJQUFJLENBQUN6RyxLQUFLLENBQUM0SCxPQUFPLEdBQUcsT0FBTztFQUN2QztBQUNKLENBQUM7O0FBRUR4SSxLQUFLLENBQUM4SixlQUFlLEdBQUcsWUFBWTtFQUNoQyxPQUFPLElBQUk7QUFDZixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvZWRpdC1tb2Rlcy9FZGl0TW9kZURpbWVuc2lvbi5qcz81MjkyIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRWRpdE1vZGUgfSBmcm9tICcuL0VkaXRNb2RlJztcbmltcG9ydCB7IERlbGV0ZURpbWVuc2lvbiB9IGZyb20gJy4uL2VkaXQtYWN0aW9ucy9EZWxldGVEaW1lbnNpb24nO1xuaW1wb3J0IHsgQ3JlYXRlRGltZW5zaW9uIH0gZnJvbSAnLi4vZWRpdC1hY3Rpb25zL0NyZWF0ZURpbWVuc2lvbic7XG5pbXBvcnQgeyBTZXREaW1lbnNpb24gfSBmcm9tICcuLi9lZGl0LWFjdGlvbnMvU2V0RGltZW5zaW9uJztcbmltcG9ydCB7IFNldFN0eWxlIH0gZnJvbSAnLi4vZWRpdC1hY3Rpb25zL1NldFN0eWxlJztcbmltcG9ydCAqIGFzIE1hcmt1cFR5cGVzIGZyb20gJy4uL01hcmt1cFR5cGVzJztcbmltcG9ydCAqIGFzIE1hcmt1cEV2ZW50cyBmcm9tICcuLi9NYXJrdXBFdmVudHMnO1xuaW1wb3J0IHsgRWRpdG9yVGV4dElucHV0IH0gZnJvbSAnLi9FZGl0b3JUZXh0SW5wdXQnO1xuaW1wb3J0IHsgbWVhc3VyZVRleHRMaW5lcywgcmFkaWFuc1RvRGVncmVlcyB9IGZyb20gJy4uL01hcmt1cHNDb3JlVXRpbHMnO1xuXG4gICAgdmFyIE1lYXN1cmVDb21tb24gPSBBdXRvZGVzay5WaWV3aW5nLk1lYXN1cmVDb21tb247XG5cbiAgICB2YXIgTUFYX0xFVFRFUlMgPSAxNTtcbiAgICB2YXIgU1BBQ0UgPSAnXFx1MDBBMCc7IC8vIE5vbi1icmVha2luZyBzcGFjZVxuICAgIHZhciBfY3Vyc29yUG9zaXRpb247XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlZGl0b3JcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gRWRpdE1vZGVEaW1lbnNpb24oZWRpdG9yKSB7XG5cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHZhciBzdHlsZUF0dHJpYnV0ZXMgPSBbJ3N0cm9rZS13aWR0aCcsICdzdHJva2UtY29sb3InLCAnc3Ryb2tlLW9wYWNpdHknLCAnZm9udC1zaXplJywgJ2ZvbnQtZmFtaWx5JywgJ2ZvbnQtc3R5bGUnLCAnZm9udC13ZWlnaHQnXTtcbiAgICAgICAgRWRpdE1vZGUuY2FsbCh0aGlzLCBlZGl0b3IsIE1hcmt1cFR5cGVzLk1BUktVUF9UWVBFX0RJTUVOU0lPTiwgc3R5bGVBdHRyaWJ1dGVzKTtcblxuICAgICAgICB0aGlzLm9uSGlzdG9yeUNoYW5nZUJpbmRlZCA9IHRoaXMub25IaXN0b3J5Q2hhbmdlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5tZWFzdXJlbWVudCA9IG5ldyBNZWFzdXJlQ29tbW9uLk1lYXN1cmVtZW50KE1lYXN1cmVDb21tb24uTWVhc3VyZW1lbnRUeXBlcy5NRUFTVVJFTUVOVF9ESVNUQU5DRSk7XG4gICAgICAgIHZhciB2aWV3ZXIgPSB0aGlzLnZpZXdlcjtcbiAgICAgICAgdmFyIG1lYXN1cmVFeHQgPSB2aWV3ZXIuZ2V0RXh0ZW5zaW9uKCdBdXRvZGVzay5NZWFzdXJlJyk7XG5cbiAgICAgICAgZnVuY3Rpb24gYWJvcnREaW1lbnNpb25NYXJrdXAoKSB7XG4gICAgICAgICAgICBzZWxmLmNhbmNlbEVkaXRNb2RlQ2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgICAgIGVkaXRvci5lbnRlckVkaXRNb2RlKCk7IC8vIFNlbGVjdHMgZGVmYXVsdCBlZGl0IG1vZGUuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW1lYXN1cmVFeHQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0RlbWVuc2lvbiBtYXJrdXAgY2FudCB3b3JrIHdpdGhvdXQgbWVhc3VyZSBleHRlbnNpb24uIFBsZWFzZSBsb2FkIG1lYXN1cmUgZXh0ZW5zaW9uIGZpcnN0Jyk7XG4gICAgICAgICAgICBhYm9ydERpbWVuc2lvbk1hcmt1cCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zaGFyZWRNZWFzdXJlQ29uZmlnID0gbWVhc3VyZUV4dC5zaGFyZWRNZWFzdXJlQ29uZmlnO1xuXG4gICAgICAgIC8vIElmIFBERiwgZm9yY2UgY2FsaWJyYXRpb25cbiAgICAgICAgaWYgKChtZWFzdXJlRXh0LmZvcmNlQ2FsaWJyYXRlIHx8IHZpZXdlci5tb2RlbC5pc0xlYWZsZXQoKSB8fCB2aWV3ZXIubW9kZWwuaXNQZGYodHJ1ZSkpICYmICFtZWFzdXJlRXh0LmNhbGlicmF0aW9uVG9vbC5pc0NhbGlicmF0ZWQoKSkge1xuICAgICAgICAgICAgbWVhc3VyZUV4dC5vcGVuQ2FsaWJyYXRpb25SZXF1aXJlZERpYWxvZygnZGltZW5zaW9uJyk7XG4gICAgICAgICAgICBhYm9ydERpbWVuc2lvbk1hcmt1cCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgRWRpdE1vZGVEaW1lbnNpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFZGl0TW9kZS5wcm90b3R5cGUpO1xuICAgIEVkaXRNb2RlRGltZW5zaW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEVkaXRNb2RlRGltZW5zaW9uO1xuXG4gICAgdmFyIHByb3RvID0gRWRpdE1vZGVEaW1lbnNpb24ucHJvdG90eXBlO1xuXG4gICAgcHJvdG8uZGVsZXRlTWFya3VwID0gZnVuY3Rpb24obWFya3VwLCBjYW50VW5kbykge1xuXG4gICAgICAgIG1hcmt1cCA9IG1hcmt1cCB8fCB0aGlzLnNlbGVjdGVkTWFya3VwO1xuICAgICAgICBpZiAobWFya3VwICYmIG1hcmt1cC50eXBlID09IHRoaXMudHlwZSkge1xuICAgICAgICAgICAgdmFyIGRlbGV0ZURpbWVuc2lvbiA9IG5ldyBEZWxldGVEaW1lbnNpb24odGhpcy5lZGl0b3IsIG1hcmt1cCk7XG4gICAgICAgICAgICBkZWxldGVEaW1lbnNpb24uYWRkVG9IaXN0b3J5ID0gIWNhbnRVbmRvO1xuICAgICAgICAgICAgZGVsZXRlRGltZW5zaW9uLmV4ZWN1dGUoKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgcHJvdG8udXBkYXRlVGV4dEJveFN0eWxlID0gZnVuY3Rpb24oc3R5bGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNUZXh0SW5wdXRIZWxwZXJBY3RpdmUoKSkge1xuICAgICAgICAgICAgaWYgKCFzdHlsZSkge1xuICAgICAgICAgICAgICAgIHN0eWxlID0gdGhpcy50ZXh0SW5wdXRIZWxwZXIudGV4dE1hcmt1cC5nZXRTdHlsZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnRleHRJbnB1dEhlbHBlci5zZXRTdHlsZShzdHlsZSk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHRCb3godGhpcy50ZXh0SW5wdXRIZWxwZXIudGV4dE1hcmt1cCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvdG8uc2V0U3R5bGUgPSBmdW5jdGlvbihzdHlsZSkge1xuXG4gICAgICAgIEVkaXRNb2RlLnByb3RvdHlwZS5zZXRTdHlsZS5jYWxsKHRoaXMsIHN0eWxlKTtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0Qm94U3R5bGUoc3R5bGUpO1xuXG4gICAgfTtcblxuICAgIHByb3RvLm5vdGlmeUFsbG93TmF2aWdhdGlvbiA9IGZ1bmN0aW9uKGFsbG93cykge1xuXG4gICAgICAgIGlmIChhbGxvd3MgJiYgdGhpcy5pc1RleHRJbnB1dEhlbHBlckFjdGl2ZSgpKSB7XG4gICAgICAgICAgICB0aGlzLnRleHRJbnB1dEhlbHBlci5hY2NlcHRBbmRFeGl0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvdG8uY3JlYXRpb25CZWdpbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBFZGl0TW9kZS5wcm90b3R5cGUuY3JlYXRpb25CZWdpbi5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICBwcm90by5jcmVhdGlvbkVuZCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgRWRpdE1vZGUucHJvdG90eXBlLmNyZWF0aW9uRW5kLmNhbGwodGhpcyk7XG4gICAgfTtcblxuICAgIHByb3RvLmlzTWluU2l6ZVZhbGlkID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgaWYgKHRoaXMubWluU2l6ZSAhPT0gMCkge1xuICAgICAgICAgICAgdmFyIHRtcCA9IHRoaXMuZWRpdG9yLnNpemVGcm9tTWFya3Vwc1RvQ2xpZW50KHRoaXMuc2VsZWN0ZWRNYXJrdXAuc2l6ZS54LCB0aGlzLnNlbGVjdGVkTWFya3VwLnNpemUueSk7XG4gICAgICAgICAgICByZXR1cm4gKHRtcC54KnRtcC54KSA+PSAodGhpcy5taW5TaXplICogdGhpcy5taW5TaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICBwcm90by5jcmVhdGlvbkNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIEVkaXRNb2RlLnByb3RvdHlwZS5jcmVhdGlvbkNhbmNlbC5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuY3JlYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgfTtcblxuICAgIHByb3RvLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICBpZiAodGhpcy50ZXh0SW5wdXRIZWxwZXIpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMudGV4dElucHV0SGVscGVyLmlzQWN0aXZlKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRJbnB1dEhlbHBlci5hY2NlcHRBbmRFeGl0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLmFjdGlvbk1hbmFnZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihNYXJrdXBFdmVudHMuRVZFTlRfSElTVE9SWV9DSEFOR0VELCB0aGlzLm9uSGlzdG9yeUNoYW5nZUJpbmRlZCk7XG5cbiAgICAgICAgICAgIHRoaXMudGV4dElucHV0SGVscGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMudGV4dElucHV0SGVscGVyID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlVmlld3BvcnRJZCgpO1xuXG4gICAgICAgIEVkaXRNb2RlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgfTtcblxuICAgIHByb3RvLmdldERpc3RhbmNlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIGRpc3RhbmNlID0gbnVsbDtcblxuICAgICAgICB0aGlzLm1lYXN1cmVtZW50LmNvbXB1dGVSZXN1bHQodGhpcy5tZWFzdXJlbWVudC5waWNrcywgdGhpcy52aWV3ZXIpO1xuXG4gICAgICAgIGlmICh0aGlzLnZpZXdlci5tb2RlbCAmJiB0aGlzLm1lYXN1cmVtZW50LmRpc3RhbmNlWFlaKSB7XG4gICAgICAgICAgICB2YXIgZCA9IEF1dG9kZXNrLlZpZXdpbmcuUHJpdmF0ZS5jb252ZXJ0VW5pdHModGhpcy52aWV3ZXIubW9kZWwuZ2V0VW5pdFN0cmluZygpLCB0aGlzLnNoYXJlZE1lYXN1cmVDb25maWcudW5pdHMsIHRoaXMuc2hhcmVkTWVhc3VyZUNvbmZpZy5jYWxpYnJhdGlvbkZhY3RvciwgdGhpcy5tZWFzdXJlbWVudC5kaXN0YW5jZVhZWik7XG4gICAgICAgICAgICByZXR1cm4gQXV0b2Rlc2suVmlld2luZy5Qcml2YXRlLmZvcm1hdFZhbHVlV2l0aFVuaXRzKGQsIHRoaXMuc2hhcmVkTWVhc3VyZUNvbmZpZy51bml0cywgMywgdGhpcy5zaGFyZWRNZWFzdXJlQ29uZmlnLnByZWNpc2lvbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGlzdGFuY2U7XG4gICAgfTtcblxuICAgIHByb3RvLnVwZGF0ZU1lYXN1cmVtZW50ID0gZnVuY3Rpb24obWVhc3VyZW1lbnROdW1iZXIpIHtcbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuXG4gICAgICAgIHZhciBwaWNrID0gdGhpcy5tZWFzdXJlbWVudC5nZXRQaWNrKG1lYXN1cmVtZW50TnVtYmVyKTtcblxuICAgICAgICBpZiAoX2N1cnNvclBvc2l0aW9uKSB7XG4gICAgICAgICAgICBwaWNrLmdlb21UeXBlID0gTWVhc3VyZUNvbW1vbi5TbmFwVHlwZS5TTkFQX1ZFUlRFWDtcbiAgICAgICAgICAgIHBpY2suZ2VvbVZlcnRleCA9IF9jdXJzb3JQb3NpdGlvbjtcbiAgICAgICAgICAgIHBpY2suaW50ZXJzZWN0UG9pbnQgPSBfY3Vyc29yUG9zaXRpb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlZGl0b3Iuc25hcHBlci5jb3B5UmVzdWx0cyhwaWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwaWNrO1xuICAgIH07XG5cbiAgICBwcm90by51cGRhdGVWaWV3cG9ydElkID0gZnVuY3Rpb24odmlld3BvcnRJZCkge1xuICAgICAgICBpZiAodGhpcy52aWV3ZXIubW9kZWwgJiYgdGhpcy52aWV3ZXIubW9kZWwuaXMyZCgpKSB7XG4gICAgICAgICAgICBpZiAoIXZpZXdwb3J0SWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlci5pbXBsLnVwZGF0ZVZpZXdwb3J0SWQoMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0b3Iuc25hcHBlci5zZXRWaWV3cG9ydElkKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gUGFzcyB2aWV3cG9ydCBJZCB0byBMaW5lU2hhZGVyIHRvIG1ha2UgYWxsIG90aGVyIGdlb21ldHJpZXMgd2l0aCBkaWZmZXJlbnQgdmlld3BvcnQgdHJhbnNwYXJlbnRcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlci5pbXBsLnVwZGF0ZVZpZXdwb3J0SWQodmlld3BvcnRJZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0b3Iuc25hcHBlci5zZXRWaWV3cG9ydElkKHZpZXdwb3J0SWQpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvdG8ucGlja0ZpcnN0QW5jaG9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICAgICAgdGhpcy5tZWFzdXJlbWVudC5jbGVhckFsbFBpY2tzKCk7XG4gICAgICAgIHZhciBtb3VzZVBvc2l0aW9uID0gZWRpdG9yLmdldE1vdXNlUG9zaXRpb24oKTtcblxuICAgICAgICB0aGlzLmluaXRpYWxYID0gbW91c2VQb3NpdGlvbi54O1xuICAgICAgICB0aGlzLmluaXRpYWxZID0gbW91c2VQb3NpdGlvbi55O1xuXG4gICAgICAgIHRoaXMuZmlyc3RBbmNob3IgPSBlZGl0b3IucG9zaXRpb25Gcm9tQ2xpZW50VG9NYXJrdXBzKHRoaXMuaW5pdGlhbFgsIHRoaXMuaW5pdGlhbFkpO1xuXG4gICAgICAgIGVkaXRvci5iZWdpbkFjdGlvbkdyb3VwKCk7XG5cbiAgICAgICAgdmFyIGRpbWVuc2lvbklkID0gZWRpdG9yLmdldElkKCk7XG4gICAgICAgIHZhciBjcmVhdGUgPSBuZXcgQ3JlYXRlRGltZW5zaW9uKGVkaXRvciwgZGltZW5zaW9uSWQsIHRoaXMuZmlyc3RBbmNob3IsIG51bGwsIHRoaXMuY3VycmVudFRleHQsIHRoaXMuc3R5bGUpO1xuICAgICAgICBjcmVhdGUuZXhlY3V0ZSgpO1xuXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRNYXJrdXAgPSBlZGl0b3IuZ2V0TWFya3VwKGRpbWVuc2lvbklkKTtcbiAgICAgICAgdGhpcy5jcmVhdGlvbkJlZ2luKCk7XG5cbiAgICAgICAgdmFyIHBpY2sgPSB0aGlzLnVwZGF0ZU1lYXN1cmVtZW50KDEpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0SWQocGljay52aWV3cG9ydEluZGV4MmQpO1xuICAgIH07XG5cbiAgICBwcm90by5waWNrU2Vjb25kQW5jaG9yID0gZnVuY3Rpb24obW91c2VEb3duKSB7XG5cbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgICAgICB2YXIgc2VsZWN0ZWRNYXJrdXAgPSB0aGlzLnNlbGVjdGVkTWFya3VwO1xuXG4gICAgICAgIHRoaXMuc2Vjb25kQW5jaG9yID0gdGhpcy5nZXRGaW5hbE1vdXNlRHJhZ2dpbmdQb3NpdGlvbigpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlTWVhc3VyZW1lbnQoMik7XG5cbiAgICAgICAgLy8gQ29ycmVjdCBQZXJwZW5kaWN1bGFyXG4gICAgICAgIGlmIChNZWFzdXJlQ29tbW9uLmNvcnJlY3RQZXJwZW5kaWN1bGFyUGlja3ModGhpcy5tZWFzdXJlbWVudC5nZXRQaWNrKDEpLCB0aGlzLm1lYXN1cmVtZW50LmdldFBpY2soMiksIHRoaXMudmlld2VyLCBlZGl0b3Iuc25hcHBlcikpe1xuICAgICAgICAgICAgdmFyIG5ld1BvcyA9IE1lYXN1cmVDb21tb24uZ2V0U25hcFJlc3VsdFBvc2l0aW9uKHRoaXMubWVhc3VyZW1lbnQuZ2V0UGljaygyKSwgdGhpcy52aWV3ZXIpO1xuICAgICAgICAgICAgdGhpcy5zZWNvbmRBbmNob3IgPSBlZGl0b3IucHJvamVjdChuZXdQb3MpO1xuICAgICAgICAgICAgZWRpdG9yLnNuYXBwZXIuaW5kaWNhdG9yLnJlbmRlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlY29uZEFuY2hvciA9IGVkaXRvci5wb3NpdGlvbkZyb21DbGllbnRUb01hcmt1cHModGhpcy5zZWNvbmRBbmNob3IueCwgdGhpcy5zZWNvbmRBbmNob3IueSk7XG5cbiAgICAgICAgdGhpcy5zaXplLnggPSBzZWxlY3RlZE1hcmt1cC5zaXplLng7XG4gICAgICAgIHRoaXMuc2l6ZS55ID0gc2VsZWN0ZWRNYXJrdXAuc2l6ZS55O1xuXG4gICAgICAgIHNlbGVjdGVkTWFya3VwLmN1cnJlbnRUZXh0ID0gdGhpcy5nZXREaXN0YW5jZSgpO1xuXG4gICAgICAgIHZhciBzZXREaW1lbnNpb24gPSBuZXcgU2V0RGltZW5zaW9uKGVkaXRvciwgc2VsZWN0ZWRNYXJrdXAsIHRoaXMuZmlyc3RBbmNob3IsIHNlY29uZEFuY2hvciwgc2VsZWN0ZWRNYXJrdXAuY3VycmVudFRleHQpO1xuICAgICAgICBzZXREaW1lbnNpb24uZXhlY3V0ZSgpO1xuXG4gICAgICAgIHZhciBzZXRTdHlsZSA9IG5ldyBTZXRTdHlsZShlZGl0b3IsIHNlbGVjdGVkTWFya3VwLCB0aGlzLnN0eWxlKTtcbiAgICAgICAgc2V0U3R5bGUuZXhlY3V0ZSgpO1xuXG4gICAgICAgIC8vIE9wZW4gJ0FkZCBMZW5ndGgnIHRleHRib3ggaWYgbm8gbWVhc3VyZW1lbnQgaGFzIGJlaW5nIHRha2VuLlxuICAgICAgICBpZiAobW91c2VEb3duICYmICFzZWxlY3RlZE1hcmt1cC5jdXJyZW50VGV4dCAmJiB0aGlzLmlzTWluU2l6ZVZhbGlkKCkpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkTWFya3VwLmN1cnJlbnRUZXh0ID0gJyc7XG4gICAgICAgICAgICB0aGlzLmVkaXRvci5zZWxlY3RNYXJrdXAobnVsbCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHRCb3goc2VsZWN0ZWRNYXJrdXApO1xuICAgICAgICB9XG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlciB0byBtb3VzZSBkb3duIGV2ZW50cywgdXNlZCB0byBzdGFydCBtYXJrdXBzIGNyZWF0aW9uLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJvdG8ub25Nb3VzZURvd24gPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIC8vIFJpZ2h0IGNsaWNrIC0gZG8gbm90aGluZy5cbiAgICAgICAgaWYgKEF1dG9kZXNrLlZpZXdpbmcuUHJpdmF0ZS5pc1JpZ2h0Q2xpY2soZXZlbnQsIHRoaXMudmlld2VyLm5hdmlnYXRpb24pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBfY3Vyc29yUG9zaXRpb24gPSBudWxsO1xuXG4gICAgICAgIC8vIFRleHRib3ggaXMgb3Blbi5cbiAgICAgICAgaWYgKHRoaXMuaXNUZXh0SW5wdXRIZWxwZXJBY3RpdmUoKSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0SW5wdXRIZWxwZXIuYWNjZXB0QW5kRXhpdCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgRWRpdE1vZGUucHJvdG90eXBlLm9uTW91c2VEb3duLmNhbGwodGhpcyk7XG5cbiAgICAgICAgLy8gVXNlciBzZWxlY3RlZCBhbiBhbHJlYWR5IGNyZWF0ZWQgbWFya3VwLlxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE1hcmt1cCAmJiAhdGhpcy5jcmVhdGluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGlzU25hcHBlZCA9IHRoaXMuZWRpdG9yLnNuYXBwZXIuaXNTbmFwcGVkKCk7XG5cbiAgICAgICAgLy8gUGlja2VkIGZpcnN0IHBvaW50LlxuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRNYXJrdXAgJiYgIXRoaXMuY3JlYXRpbmcgJiYgaXNTbmFwcGVkKSB7XG4gICAgICAgICAgICB0aGlzLnBpY2tGaXJzdEFuY2hvcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGlja2VkIHNlY29uZCBwb2ludC5cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zZWxlY3RlZE1hcmt1cCAmJiB0aGlzLmNyZWF0aW5nKSB7XG5cbiAgICAgICAgICAgIGlmIChpc1NuYXBwZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBpY2tTZWNvbmRBbmNob3IodHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTWFya3VwKHRoaXMuc2VsZWN0ZWRNYXJrdXAsIHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0SWQoKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRpb25FbmQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwcm90by5vbk1vdXNlVXAgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIGlmICh0aGlzLmRyYWdnaW5nKSB7XG4gICAgICAgICAgICB0aGlzLm9uTW91c2VEb3duKGV2ZW50KTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXIgdG8gbW91c2UgbW92ZSBldmVudHMsIHVzZWQgdG8gY3JlYXRlIG1hcmt1cHMuXG4gICAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCBNb3VzZSBldmVudC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByb3RvLm9uTW91c2VNb3ZlID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICBfY3Vyc29yUG9zaXRpb24gPSBudWxsO1xuXG4gICAgICAgIGlmKCF0aGlzLnNlbGVjdGVkTWFya3VwIHx8ICF0aGlzLmNyZWF0aW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRyYWdnaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5waWNrU2Vjb25kQW5jaG9yKGZhbHNlKTtcbiAgICB9O1xuXG4gICAgcHJvdG8uZ2V0RmluYWxNb3VzZURyYWdnaW5nUG9zaXRpb24gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgIHZhciBib3VuZHMgPSBlZGl0b3IuZ2V0Qm91bmRzKCk7XG4gICAgICAgIHZhciBtb3VzZVBvc2l0aW9uID0gZWRpdG9yLmdldE1vdXNlUG9zaXRpb24oKTtcblxuICAgICAgICBpZiAoIWVkaXRvci5zbmFwcGVyLmlzU25hcHBlZCgpKSB7XG4gICAgICAgICAgICBpZiAoZWRpdG9yLnZpZXdlci5tb2RlbCAmJiBlZGl0b3Iudmlld2VyLm1vZGVsLmlzMmQoKSkge1xuICAgICAgICAgICAgICAgIF9jdXJzb3JQb3NpdGlvbiA9IE1lYXN1cmVDb21tb24uaW52ZXJzZVByb2plY3QobW91c2VQb3NpdGlvbiwgZWRpdG9yLnZpZXdlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaW5pdGlhbFggPSB0aGlzLmluaXRpYWxYO1xuICAgICAgICB2YXIgaW5pdGlhbFkgPSB0aGlzLmluaXRpYWxZO1xuXG4gICAgICAgIHZhciBmaW5hbFggPSBNYXRoLm1pbihNYXRoLm1heChib3VuZHMueCwgbW91c2VQb3NpdGlvbi54KSwgYm91bmRzLnggKyBib3VuZHMud2lkdGgpO1xuICAgICAgICB2YXIgZmluYWxZID0gTWF0aC5taW4oTWF0aC5tYXgoYm91bmRzLnksIG1vdXNlUG9zaXRpb24ueSksIGJvdW5kcy55ICsgYm91bmRzLmhlaWdodCk7XG5cbiAgICAgICAgaWYgKGZpbmFsWCA9PSBpbml0aWFsWCAmJlxuICAgICAgICAgICAgZmluYWxZID09IGluaXRpYWxZKSB7XG4gICAgICAgICAgICBmaW5hbFgrKztcbiAgICAgICAgICAgIGZpbmFsWSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWFrZSBzdHJhaWdodCBsaW5lIHdoZW4gc2hpZnQga2V5IGlzIGRvd24uXG4gICAgICAgIGlmIChlZGl0b3IuaW5wdXQuY29uc3RyYWluQXhpcyAmJiBlZGl0b3Iudmlld2VyLm1vZGVsLmlzMmQoKSkge1xuICAgICAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnMoZmluYWxYIC0gaW5pdGlhbFgpO1xuICAgICAgICAgICAgdmFyIGR5ID0gTWF0aC5hYnMoZmluYWxZIC0gaW5pdGlhbFkpO1xuXG4gICAgICAgICAgICBpZiAoZHggPiBkeSkge1xuICAgICAgICAgICAgICAgIGZpbmFsWSA9IGluaXRpYWxZO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZmluYWxYID0gaW5pdGlhbFg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVkaXRvci5zbmFwcGVyLm9uTW91c2VNb3ZlKHsgeDpmaW5hbFgsIHk6ZmluYWxZIH0pO1xuXG4gICAgICAgICAgICBpZiAoZWRpdG9yLnNuYXBwZXIuaXNTbmFwcGVkKCkpIHtcbiAgICAgICAgICAgICAgICBlZGl0b3Iuc25hcHBlci5jb3B5UmVzdWx0cyh0aGlzLm1lYXN1cmVtZW50LmdldFBpY2soMikpO1xuICAgICAgICAgICAgICAgIF9jdXJzb3JQb3NpdGlvbiA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF9jdXJzb3JQb3NpdGlvbiA9IE1lYXN1cmVDb21tb24uaW52ZXJzZVByb2plY3QoeyB4OmZpbmFsWCwgeTpmaW5hbFkgfSwgZWRpdG9yLnZpZXdlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyB4OmZpbmFsWCwgeTpmaW5hbFkgfTtcbiAgICB9O1xuXG4gICAgcHJvdG8uaXNWaXNpYmxlQ2hhciA9IGZ1bmN0aW9uKGtleUNvZGUpIHtcblxuICAgIHJldHVybiAgKChrZXlDb2RlID4gNDcgJiYga2V5Q29kZSA8IDU4KSAgfHwgLy8gbnVtYmVyIGtleXNcbiAgICAgICAgICAgIChrZXlDb2RlID09IDMyKSAgICAgICAgICAgICAgICAgIHx8IC8vIHNwYWNlYmFyXG4gICAgICAgICAgICAoa2V5Q29kZSA+IDY0ICYmIGtleUNvZGUgPCA5MSkgICB8fCAvLyBsZXR0ZXIga2V5c1xuICAgICAgICAgICAgKGtleUNvZGUgPiA5NSAmJiBrZXlDb2RlIDwgMTEyKSAgfHwgLy8gbnVtcGFkIGtleXNcbiAgICAgICAgICAgIChrZXlDb2RlID4gMTg1ICYmIGtleUNvZGUgPCAxOTMpIHx8IC8vIDs9LC0uL2AgKGluIG9yZGVyKVxuICAgICAgICAgICAgKGtleUNvZGUgPiAyMTggJiYga2V5Q29kZSA8IDIyMykpOyAgIC8vIFtcXF0nIChpbiBvcmRlcilcbiAgICB9O1xuXG4gICAgcHJvdG8ubWVhc3VyZVRleHRMaW5lID0gZnVuY3Rpb24odGV4dCwgbWFya3VwLCBlZGl0b3IpIHtcblxuICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKG5ldyBSZWdFeHAoJyAnLCAnZycpLCBTUEFDRSk7XG4gICAgICAgIHRleHQgPSB0ZXh0Lmxlbmd0aCA9PT0gMCA/IG1hcmt1cC5pbml0aWFsVGV4dCA6IHRleHQ7XG4gICAgICAgIHJldHVybiBtZWFzdXJlVGV4dExpbmVzKFt0ZXh0ICsgJ3wnXSwgdGhpcy5zdHlsZSwgZWRpdG9yKVswXTtcblxuICAgIH07XG5cbiAgICBwcm90by5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIHRleHRJbnB1dEhlbHBlciA9IHRoaXMudGV4dElucHV0SGVscGVyO1xuXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IEF1dG9kZXNrLlZpZXdpbmcuS2V5Q29kZS5FTlRFUikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1hcmt1cCA9IHRleHRJbnB1dEhlbHBlci50ZXh0TWFya3VwO1xuICAgICAgICB2YXIgdGV4dCA9IHRleHRJbnB1dEhlbHBlci50ZXh0QXJlYS52YWx1ZTtcblxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSBBdXRvZGVzay5WaWV3aW5nLktleUNvZGUuQkFDS1NQQUNFKSB7XG4gICAgICAgICAgICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcoMCwgdGV4dC5sZW5ndGgtMSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGV4dC5sZW5ndGggPCBNQVhfTEVUVEVSUyAmJiB0aGlzLmlzVmlzaWJsZUNoYXIoZS5rZXlDb2RlKSkge1xuICAgICAgICAgICAgdGV4dCA9IHRleHQgKyBlLmtleTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaXplID0gdGhpcy5tZWFzdXJlVGV4dExpbmUodGV4dCwgbWFya3VwLCB0aGlzLmVkaXRvcik7XG5cbiAgICAgICAgdGhpcy51cGRhdGVUZXh0Qm94KG1hcmt1cCwgc2l6ZSk7XG4gICAgfTtcblxuICAgIHByb3RvLnVwZGF0ZVRleHRCb3ggPSBmdW5jdGlvbihtYXJrdXAsIHNpemUpIHtcblxuICAgICAgICBpZiAoIXRoaXMudGV4dElucHV0SGVscGVyKSB7XG4gICAgICAgICAgICB0aGlzLnRleHRJbnB1dEhlbHBlciA9IG5ldyBFZGl0b3JUZXh0SW5wdXQodGhpcy52aWV3ZXIuY29udGFpbmVyLCB0aGlzLmVkaXRvciwgdHJ1ZSwgbWFya3VwLmluaXRpYWxUZXh0LCBNQVhfTEVUVEVSUyk7XG4gICAgICAgICAgICB0aGlzLnRleHRJbnB1dEhlbHBlci5hZGRFdmVudExpc3RlbmVyKHRoaXMudGV4dElucHV0SGVscGVyLkVWRU5UX1RFWFRfQ0hBTkdFLCB0aGlzLm9uSGVscGVyVGV4dENoYW5nZS5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUtleURvd25CaW5kZWQgPSB0aGlzLmhhbmRsZUtleURvd24uYmluZCh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hcmt1cC50ZXh0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgaWYgKCFzaXplKSB7XG4gICAgICAgICAgICBzaXplID0gdGhpcy5tZWFzdXJlVGV4dExpbmUodGhpcy50ZXh0SW5wdXRIZWxwZXIudGV4dEFyZWEudmFsdWUsIG1hcmt1cCwgdGhpcy5lZGl0b3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9IHRoaXMuZ2V0VGV4dEFyZWFUcmFuc2Zvcm0obWFya3VwLCBzaXplKTtcblxuICAgICAgICB0aGlzLnRleHRJbnB1dEhlbHBlci5zdHlsZVRleHRBcmVhLnNldEF0dHJpYnV0ZSgndGV4dC1hbGlnbicsICdjZW50ZXInKTtcblxuICAgICAgICB0aGlzLnRleHRJbnB1dEhlbHBlci5zZXRBY3RpdmUobWFya3VwLCBmYWxzZSk7XG5cblxuICAgICAgICAvLyBPdmVycmlkZSB0ZXh0QXJlYSBhdHRyaWJ1dGVzXG4gICAgICAgIHRoaXMudGV4dElucHV0SGVscGVyLnRleHRBcmVhLnN0eWxlLnBvc2l0aW9uID0gJ3N0YXRpYyc7XG4gICAgICAgIHRoaXMudGV4dElucHV0SGVscGVyLnRleHRBcmVhLnN0eWxlLnBhZGRpbmcgPSAnMCc7XG4gICAgICAgIHRoaXMudGV4dElucHV0SGVscGVyLnRleHRBcmVhLnN0eWxlLndpZHRoID0gc2l6ZS53aWR0aCArICdweCc7XG4gICAgICAgIHRoaXMudGV4dElucHV0SGVscGVyLnRleHRBcmVhLnN0eWxlLmhlaWdodCA9IHNpemUuaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdGhpcy50ZXh0SW5wdXRIZWxwZXIudGV4dEFyZWEuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtOyAvLyBNYXliZSBuZWVkIHRvIGFkZCAnYWxsQnJvd3NlcnMnIHN1cHBvcnRcblxuICAgICAgICB0aGlzLmVkaXRvci5hY3Rpb25NYW5hZ2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoTWFya3VwRXZlbnRzLkVWRU5UX0hJU1RPUllfQ0hBTkdFRCwgdGhpcy5vbkhpc3RvcnlDaGFuZ2VCaW5kZWQpO1xuICAgICAgICB0aGlzLmVkaXRvci5hY3Rpb25NYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoTWFya3VwRXZlbnRzLkVWRU5UX0hJU1RPUllfQ0hBTkdFRCwgdGhpcy5vbkhpc3RvcnlDaGFuZ2VCaW5kZWQpO1xuICAgICAgICB0aGlzLnRleHRJbnB1dEhlbHBlci50ZXh0QXJlYS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlEb3duQmluZGVkKTtcbiAgICAgICAgdGhpcy50ZXh0SW5wdXRIZWxwZXIudGV4dEFyZWEuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5RG93bkJpbmRlZCk7XG5cbiAgICB9O1xuXG4gICAgcHJvdG8uZ2V0VGV4dEFyZWFUcmFuc2Zvcm0gPSBmdW5jdGlvbihtYXJrdXAsIHNpemUpIHtcblxuICAgICAgICB2YXIgcG9zaXRpb24gPSBtYXJrdXAuZ2V0Q2xpZW50UG9zaXRpb24oKTtcbiAgICAgICAgdmFyIHJvdGF0aW9uID0gcmFkaWFuc1RvRGVncmVlcyhtYXJrdXAucm90YXRpb24pICUgMzYwO1xuXG4gICAgICAgIGlmIChyb3RhdGlvbiA+IDkwICYmIHJvdGF0aW9uIDw9IDI3MCAmJiBtYXJrdXAuc2hvdWxkRmxpcCgpKSB7XG4gICAgICAgICAgICByb3RhdGlvbiA9IDE4MCArIHJvdGF0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICd0cmFuc2xhdGUoJywgKHBvc2l0aW9uLnggLSAoc2l6ZS53aWR0aC8yKSkgKyAncHgsJywocG9zaXRpb24ueSAtIHRoaXMudmlld2VyLmNvbnRhaW5lci5jbGllbnRIZWlnaHQgLSBzaXplLmhlaWdodCkgKyAncHgpJyxcbiAgICAgICAgICAgICdyb3RhdGUoJywgcm90YXRpb24gKyAnZGVnKScsXG4gICAgICAgICAgICAndHJhbnNsYXRlKDBweCwnLCBzaXplLmhlaWdodCArJ3B4KSdcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgfTtcblxuICAgIHByb3RvLm9uTW91c2VEb3VibGVDbGljayA9IGZ1bmN0aW9uKG1hcmt1cCkge1xuXG4gICAgICAgIGlmIChtYXJrdXAgPT09IHRoaXMuc2VsZWN0ZWRNYXJrdXApIHtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLnNlbGVjdE1hcmt1cChudWxsKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dEJveChtYXJrdXApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByb3RvLm9uSGVscGVyVGV4dENoYW5nZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgdmFyIGRhdGFCYWcgPSBldmVudC5kYXRhO1xuICAgICAgICB2YXIgbWFya3VwID0gZGF0YUJhZy5tYXJrdXA7XG4gICAgICAgIHZhciB0ZXh0U3R5bGUgPSBkYXRhQmFnLnN0eWxlO1xuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG5cbiAgICAgICAgbWFya3VwLnRleHQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgaWYgKGRhdGFCYWcubmV3VGV4dCA9PT0gJycpIHtcbiAgICAgICAgICAgIGRhdGFCYWcubmV3VGV4dCA9IG1hcmt1cC5pbml0aWFsVGV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdoZW4gdGhlIHRleHQgaXMgY3JlYXRlZCBmb3IgdGhlIGZpcnN0IHRpbWUsIGFuIGFjdGlvbiBncm91cFxuICAgICAgICAvLyBpcyBhbHJlYWR5IGNyZWF0ZWQgYW5kIGl0IGluY2x1ZGVzIHRoZSBDcmVhdGVUZXh0IGFjdGlvbi5cbiAgICAgICAgLy8gVGh1cywgbm8gbmVlZCB0byBiZWdpbiBhbm90aGVyIGFjdGlvbiBncm91cC5cbiAgICAgICAgaWYgKCFkYXRhQmFnLmZpcnN0RWRpdCkge1xuICAgICAgICAgICAgZWRpdG9yLmJlZ2luQWN0aW9uR3JvdXAoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzZXRTdHlsZSA9IG5ldyBTZXRTdHlsZShlZGl0b3IsIG1hcmt1cCwgdGV4dFN0eWxlKTtcbiAgICAgICAgc2V0U3R5bGUuZXhlY3V0ZSgpO1xuXG4gICAgICAgIHZhciBzZXREaW1lbnNpb24gPSBuZXcgU2V0RGltZW5zaW9uKGVkaXRvciwgbWFya3VwLCBtYXJrdXAuZmlyc3RBbmNob3IsIG1hcmt1cC5zZWNvbmRBbmNob3IsIGRhdGFCYWcubmV3VGV4dCk7XG4gICAgICAgIHNldERpbWVuc2lvbi5leGVjdXRlKCk7XG5cbiAgICAgICAgZWRpdG9yLmNsb3NlQWN0aW9uR3JvdXAoKTtcbiAgICAgICAgZWRpdG9yLnNlbGVjdE1hcmt1cChudWxsKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV2Ugd2FudCB0byBtYWtlIHN1cmUgdGhhdCB0aGUgSW5wdXQgSGVscGVyIGdldHMgcmVtb3ZlZCBmcm9tIHRoZSBzY3JlZW5cbiAgICAgKiB3aGVuZXZlciB0aGUgdXNlciBhdHRlbXB0cyB0byBwZXJmb3JtIGFuIHVuZG8gb3IgcmVkbyBhY3Rpb24uXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByb3RvLm9uSGlzdG9yeUNoYW5nZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmlzVGV4dElucHV0SGVscGVyQWN0aXZlKCkpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dElucHV0SGVscGVyLnRleHRNYXJrdXAudGV4dC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLmFjdGlvbk1hbmFnZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihNYXJrdXBFdmVudHMuRVZFTlRfSElTVE9SWV9DSEFOR0VELCB0aGlzLm9uSGlzdG9yeUNoYW5nZUJpbmRlZCk7XG4gICAgICAgICAgICB0aGlzLnRleHRJbnB1dEhlbHBlci5zZXRJbmFjdGl2ZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE5vdGlmeSB0aGUgbWFya3VwIHRoYXQgdGhlIGRpc3BsYXllZCBtYXJrdXBzIGFyZSBiZWluZyBzYXZlZCBzbyBlZGl0IG1vZGUgY2FuIGZpbmlzaCBjdXJyZW50IGVkaXRpb25zLlxuICAgICAqL1xuICAgIHByb3RvLm9uU2F2ZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIEVkaXRNb2RlLnByb3RvdHlwZS5vblNhdmUuY2FsbCh0aGlzKTtcblxuICAgICAgICAvLyBDbG9zZSBpbnB1dCBoZWxwZXIgaWYgaXQncyBvcGVuLlxuICAgICAgICBpZiAodGhpcy5pc1RleHRJbnB1dEhlbHBlckFjdGl2ZSgpKSB7XG4gICAgICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgICAgICBlZGl0b3IuYWN0aW9uTWFuYWdlci5yZW1vdmVFdmVudExpc3RlbmVyKE1hcmt1cEV2ZW50cy5FVkVOVF9ISVNUT1JZX0NIQU5HRUQsIHRoaXMub25IaXN0b3J5Q2hhbmdlQmluZGVkKTtcbiAgICAgICAgICAgIHZhciBtYXJrdXAgPSB0aGlzLnRleHRJbnB1dEhlbHBlci50ZXh0TWFya3VwO1xuICAgICAgICAgICAgdGhpcy50ZXh0SW5wdXRIZWxwZXIuYWNjZXB0QW5kRXhpdCgpO1xuICAgICAgICAgICAgbWFya3VwLnRleHQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvdG8udXNlV2l0aFNuYXBwaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4iXSwibmFtZXMiOlsiRWRpdE1vZGUiLCJEZWxldGVEaW1lbnNpb24iLCJDcmVhdGVEaW1lbnNpb24iLCJTZXREaW1lbnNpb24iLCJTZXRTdHlsZSIsIk1hcmt1cFR5cGVzIiwiTWFya3VwRXZlbnRzIiwiRWRpdG9yVGV4dElucHV0IiwibWVhc3VyZVRleHRMaW5lcyIsInJhZGlhbnNUb0RlZ3JlZXMiLCJNZWFzdXJlQ29tbW9uIiwiQXV0b2Rlc2siLCJWaWV3aW5nIiwiTUFYX0xFVFRFUlMiLCJTUEFDRSIsIl9jdXJzb3JQb3NpdGlvbiIsIkVkaXRNb2RlRGltZW5zaW9uIiwiZWRpdG9yIiwic2VsZiIsInN0eWxlQXR0cmlidXRlcyIsImNhbGwiLCJNQVJLVVBfVFlQRV9ESU1FTlNJT04iLCJvbkhpc3RvcnlDaGFuZ2VCaW5kZWQiLCJvbkhpc3RvcnlDaGFuZ2UiLCJiaW5kIiwibWVhc3VyZW1lbnQiLCJNZWFzdXJlbWVudCIsIk1lYXN1cmVtZW50VHlwZXMiLCJNRUFTVVJFTUVOVF9ESVNUQU5DRSIsInZpZXdlciIsIm1lYXN1cmVFeHQiLCJnZXRFeHRlbnNpb24iLCJhYm9ydERpbWVuc2lvbk1hcmt1cCIsImNhbmNlbEVkaXRNb2RlQ2hhbmdlIiwiZW50ZXJFZGl0TW9kZSIsImNvbnNvbGUiLCJlcnJvciIsInNoYXJlZE1lYXN1cmVDb25maWciLCJmb3JjZUNhbGlicmF0ZSIsIm1vZGVsIiwiaXNMZWFmbGV0IiwiaXNQZGYiLCJjYWxpYnJhdGlvblRvb2wiLCJpc0NhbGlicmF0ZWQiLCJvcGVuQ2FsaWJyYXRpb25SZXF1aXJlZERpYWxvZyIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwicHJvdG8iLCJkZWxldGVNYXJrdXAiLCJtYXJrdXAiLCJjYW50VW5kbyIsInNlbGVjdGVkTWFya3VwIiwidHlwZSIsImRlbGV0ZURpbWVuc2lvbiIsImFkZFRvSGlzdG9yeSIsImV4ZWN1dGUiLCJjcmVhdGluZyIsImRyYWdnaW5nIiwidXBkYXRlVGV4dEJveFN0eWxlIiwic3R5bGUiLCJpc1RleHRJbnB1dEhlbHBlckFjdGl2ZSIsInRleHRJbnB1dEhlbHBlciIsInRleHRNYXJrdXAiLCJnZXRTdHlsZSIsInNldFN0eWxlIiwidXBkYXRlVGV4dEJveCIsIm5vdGlmeUFsbG93TmF2aWdhdGlvbiIsImFsbG93cyIsImFjY2VwdEFuZEV4aXQiLCJjcmVhdGlvbkJlZ2luIiwiY3JlYXRpb25FbmQiLCJpc01pblNpemVWYWxpZCIsIm1pblNpemUiLCJ0bXAiLCJzaXplRnJvbU1hcmt1cHNUb0NsaWVudCIsInNpemUiLCJ4IiwieSIsImNyZWF0aW9uQ2FuY2VsIiwiZGVzdHJveSIsImlzQWN0aXZlIiwiYWN0aW9uTWFuYWdlciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJFVkVOVF9ISVNUT1JZX0NIQU5HRUQiLCJ1cGRhdGVWaWV3cG9ydElkIiwiZ2V0RGlzdGFuY2UiLCJkaXN0YW5jZSIsImNvbXB1dGVSZXN1bHQiLCJwaWNrcyIsImRpc3RhbmNlWFlaIiwiZCIsIlByaXZhdGUiLCJjb252ZXJ0VW5pdHMiLCJnZXRVbml0U3RyaW5nIiwidW5pdHMiLCJjYWxpYnJhdGlvbkZhY3RvciIsImZvcm1hdFZhbHVlV2l0aFVuaXRzIiwicHJlY2lzaW9uIiwidXBkYXRlTWVhc3VyZW1lbnQiLCJtZWFzdXJlbWVudE51bWJlciIsInBpY2siLCJnZXRQaWNrIiwiZ2VvbVR5cGUiLCJTbmFwVHlwZSIsIlNOQVBfVkVSVEVYIiwiZ2VvbVZlcnRleCIsImludGVyc2VjdFBvaW50Iiwic25hcHBlciIsImNvcHlSZXN1bHRzIiwidmlld3BvcnRJZCIsImlzMmQiLCJpbXBsIiwic2V0Vmlld3BvcnRJZCIsInBpY2tGaXJzdEFuY2hvciIsImNsZWFyQWxsUGlja3MiLCJtb3VzZVBvc2l0aW9uIiwiZ2V0TW91c2VQb3NpdGlvbiIsImluaXRpYWxYIiwiaW5pdGlhbFkiLCJmaXJzdEFuY2hvciIsInBvc2l0aW9uRnJvbUNsaWVudFRvTWFya3VwcyIsImJlZ2luQWN0aW9uR3JvdXAiLCJkaW1lbnNpb25JZCIsImdldElkIiwiY3VycmVudFRleHQiLCJnZXRNYXJrdXAiLCJ2aWV3cG9ydEluZGV4MmQiLCJwaWNrU2Vjb25kQW5jaG9yIiwibW91c2VEb3duIiwic2Vjb25kQW5jaG9yIiwiZ2V0RmluYWxNb3VzZURyYWdnaW5nUG9zaXRpb24iLCJjb3JyZWN0UGVycGVuZGljdWxhclBpY2tzIiwibmV3UG9zIiwiZ2V0U25hcFJlc3VsdFBvc2l0aW9uIiwicHJvamVjdCIsImluZGljYXRvciIsInJlbmRlciIsInNldERpbWVuc2lvbiIsInNlbGVjdE1hcmt1cCIsIm9uTW91c2VEb3duIiwiZXZlbnQiLCJpc1JpZ2h0Q2xpY2siLCJuYXZpZ2F0aW9uIiwiaXNTbmFwcGVkIiwib25Nb3VzZVVwIiwib25Nb3VzZU1vdmUiLCJib3VuZHMiLCJnZXRCb3VuZHMiLCJpbnZlcnNlUHJvamVjdCIsImZpbmFsWCIsIk1hdGgiLCJtaW4iLCJtYXgiLCJ3aWR0aCIsImZpbmFsWSIsImhlaWdodCIsImlucHV0IiwiY29uc3RyYWluQXhpcyIsImR4IiwiYWJzIiwiZHkiLCJpc1Zpc2libGVDaGFyIiwia2V5Q29kZSIsIm1lYXN1cmVUZXh0TGluZSIsInRleHQiLCJyZXBsYWNlIiwiUmVnRXhwIiwibGVuZ3RoIiwiaW5pdGlhbFRleHQiLCJoYW5kbGVLZXlEb3duIiwiZSIsIktleUNvZGUiLCJFTlRFUiIsInRleHRBcmVhIiwidmFsdWUiLCJCQUNLU1BBQ0UiLCJzdWJzdHJpbmciLCJrZXkiLCJjb250YWluZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiRVZFTlRfVEVYVF9DSEFOR0UiLCJvbkhlbHBlclRleHRDaGFuZ2UiLCJoYW5kbGVLZXlEb3duQmluZGVkIiwiZGlzcGxheSIsInRyYW5zZm9ybSIsImdldFRleHRBcmVhVHJhbnNmb3JtIiwic3R5bGVUZXh0QXJlYSIsInNldEF0dHJpYnV0ZSIsInNldEFjdGl2ZSIsInBvc2l0aW9uIiwicGFkZGluZyIsImdldENsaWVudFBvc2l0aW9uIiwicm90YXRpb24iLCJzaG91bGRGbGlwIiwiY2xpZW50SGVpZ2h0Iiwiam9pbiIsIm9uTW91c2VEb3VibGVDbGljayIsImRhdGFCYWciLCJkYXRhIiwidGV4dFN0eWxlIiwibmV3VGV4dCIsImZpcnN0RWRpdCIsImNsb3NlQWN0aW9uR3JvdXAiLCJzZXRJbmFjdGl2ZSIsIm9uU2F2ZSIsInVzZVdpdGhTbmFwcGluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-modes/EditModeDimension.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-modes/EditModeFreehand.js":
/*!***************************************************************!*\
  !*** ./extensions/Markup/core/edit-modes/EditModeFreehand.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditModeFreehand: () => (/* binding */ EditModeFreehand)\n/* harmony export */ });\n/* harmony import */ var _EditModePen__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditModePen */ \"./extensions/Markup/core/edit-modes/EditModePen.js\");\n/* harmony import */ var _edit_actions_DeleteFreehand__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../edit-actions/DeleteFreehand */ \"./extensions/Markup/core/edit-actions/DeleteFreehand.js\");\n/* harmony import */ var _edit_actions_CreateFreehand__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../edit-actions/CreateFreehand */ \"./extensions/Markup/core/edit-actions/CreateFreehand.js\");\n/* harmony import */ var _edit_actions_SetFreehand__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../edit-actions/SetFreehand */ \"./extensions/Markup/core/edit-actions/SetFreehand.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n\n\n\n\n\n\n\n\n/**\n *\n * @param editor\n * @constructor\n */\nfunction EditModeFreehand(editor) {\n\n  var styleAttributes = ['stroke-width', 'stroke-color', 'stroke-opacity'];\n  _EditModePen__WEBPACK_IMPORTED_MODULE_0__.EditModePen.call(this, editor, _MarkupTypes__WEBPACK_IMPORTED_MODULE_4__.MARKUP_TYPE_FREEHAND, styleAttributes);\n}\n\nEditModeFreehand.prototype = Object.create(_EditModePen__WEBPACK_IMPORTED_MODULE_0__.EditModePen.prototype);\nEditModeFreehand.prototype.constructor = EditModeFreehand;\n\nvar proto = EditModeFreehand.prototype;\n\nproto.createPen = function (markupId, position, size, rotation, locations) {\n  return new _edit_actions_CreateFreehand__WEBPACK_IMPORTED_MODULE_2__.CreateFreehand(this.editor,\n  markupId,\n  position,\n  size,\n  rotation,\n  locations,\n  this.style);\n};\n\nproto.deletePen = function (markup) {\n  return new _edit_actions_DeleteFreehand__WEBPACK_IMPORTED_MODULE_1__.DeleteFreehand(this.editor, markup);\n};\n\nproto.setPen = function (position, size, locations, isAbsoluteCoords) {\n  return new _edit_actions_SetFreehand__WEBPACK_IMPORTED_MODULE_3__.SetFreehand(this.editor,\n  this.selectedMarkup,\n  position,\n  size,\n  locations,\n  isAbsoluteCoords);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtbW9kZXMvRWRpdE1vZGVGcmVlaGFuZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBYTs7QUFFK0I7QUFDb0I7QUFDQTtBQUNOO0FBQ1o7O0FBRTFDO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTSyxnQkFBZ0JBLENBQUNDLE1BQU0sRUFBRTs7RUFFckMsSUFBSUMsZUFBZSxHQUFHLENBQUMsY0FBYyxFQUFFLGNBQWMsRUFBRSxnQkFBZ0IsQ0FBQztFQUN4RVAscURBQVcsQ0FBQ1EsSUFBSSxDQUFDLElBQUksRUFBRUYsTUFBTSxFQUFFRiw4REFBZ0MsRUFBRUcsZUFBZSxDQUFDO0FBQ3JGOztBQUVBRixnQkFBZ0IsQ0FBQ0ssU0FBUyxHQUFHQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ1oscURBQVcsQ0FBQ1UsU0FBUyxDQUFDO0FBQ2pFTCxnQkFBZ0IsQ0FBQ0ssU0FBUyxDQUFDRyxXQUFXLEdBQUdSLGdCQUFnQjs7QUFFekQsSUFBSVMsS0FBSyxHQUFHVCxnQkFBZ0IsQ0FBQ0ssU0FBUzs7QUFFdENJLEtBQUssQ0FBQ0MsU0FBUyxHQUFHLFVBQVNDLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxJQUFJLEVBQUVDLFFBQVEsRUFBRUMsU0FBUyxFQUFFO0VBQ3RFLE9BQU8sSUFBSWxCLHdFQUFjLENBQUMsSUFBSSxDQUFDSSxNQUFNO0VBQ2pDVSxRQUFRO0VBQ1JDLFFBQVE7RUFDUkMsSUFBSTtFQUNKQyxRQUFRO0VBQ1JDLFNBQVM7RUFDVCxJQUFJLENBQUNDLEtBQUssQ0FBQztBQUNuQixDQUFDOztBQUVEUCxLQUFLLENBQUNRLFNBQVMsR0FBRyxVQUFTQyxNQUFNLEVBQUU7RUFDL0IsT0FBTyxJQUFJdEIsd0VBQWMsQ0FBQyxJQUFJLENBQUNLLE1BQU0sRUFBRWlCLE1BQU0sQ0FBQztBQUNsRCxDQUFDOztBQUVEVCxLQUFLLENBQUNVLE1BQU0sR0FBRyxVQUFTUCxRQUFRLEVBQUVDLElBQUksRUFBRUUsU0FBUyxFQUFFSyxnQkFBZ0IsRUFBRTtFQUNqRSxPQUFPLElBQUl0QixrRUFBVyxDQUFDLElBQUksQ0FBQ0csTUFBTTtFQUM5QixJQUFJLENBQUNvQixjQUFjO0VBQ25CVCxRQUFRO0VBQ1JDLElBQUk7RUFDSkUsU0FBUztFQUNUSyxnQkFBZ0IsQ0FBQztBQUN6QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvZWRpdC1tb2Rlcy9FZGl0TW9kZUZyZWVoYW5kLmpzPzRlZWIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBFZGl0TW9kZVBlbiB9IGZyb20gJy4vRWRpdE1vZGVQZW4nO1xuaW1wb3J0IHsgRGVsZXRlRnJlZWhhbmQgfSBmcm9tICcuLi9lZGl0LWFjdGlvbnMvRGVsZXRlRnJlZWhhbmQnO1xuaW1wb3J0IHsgQ3JlYXRlRnJlZWhhbmQgfSBmcm9tICcuLi9lZGl0LWFjdGlvbnMvQ3JlYXRlRnJlZWhhbmQnO1xuaW1wb3J0IHsgU2V0RnJlZWhhbmQgfSBmcm9tICcuLi9lZGl0LWFjdGlvbnMvU2V0RnJlZWhhbmQnO1xuaW1wb3J0ICogYXMgTWFya3VwVHlwZXMgZnJvbSAnLi4vTWFya3VwVHlwZXMnO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWRpdG9yXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIEVkaXRNb2RlRnJlZWhhbmQoZWRpdG9yKSB7XG5cbiAgICAgICAgdmFyIHN0eWxlQXR0cmlidXRlcyA9IFsnc3Ryb2tlLXdpZHRoJywgJ3N0cm9rZS1jb2xvcicsICdzdHJva2Utb3BhY2l0eSddO1xuICAgICAgICBFZGl0TW9kZVBlbi5jYWxsKHRoaXMsIGVkaXRvciwgTWFya3VwVHlwZXMuTUFSS1VQX1RZUEVfRlJFRUhBTkQsIHN0eWxlQXR0cmlidXRlcyk7XG4gICAgfVxuXG4gICAgRWRpdE1vZGVGcmVlaGFuZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVkaXRNb2RlUGVuLnByb3RvdHlwZSk7XG4gICAgRWRpdE1vZGVGcmVlaGFuZC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBFZGl0TW9kZUZyZWVoYW5kO1xuXG4gICAgdmFyIHByb3RvID0gRWRpdE1vZGVGcmVlaGFuZC5wcm90b3R5cGU7XG5cbiAgICBwcm90by5jcmVhdGVQZW4gPSBmdW5jdGlvbihtYXJrdXBJZCwgcG9zaXRpb24sIHNpemUsIHJvdGF0aW9uLCBsb2NhdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDcmVhdGVGcmVlaGFuZCh0aGlzLmVkaXRvcixcbiAgICAgICAgICAgIG1hcmt1cElkLFxuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgcm90YXRpb24sXG4gICAgICAgICAgICBsb2NhdGlvbnMsXG4gICAgICAgICAgICB0aGlzLnN0eWxlKTtcbiAgICB9O1xuXG4gICAgcHJvdG8uZGVsZXRlUGVuID0gZnVuY3Rpb24obWFya3VwKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGVsZXRlRnJlZWhhbmQodGhpcy5lZGl0b3IsIG1hcmt1cCk7XG4gICAgfTtcblxuICAgIHByb3RvLnNldFBlbiA9IGZ1bmN0aW9uKHBvc2l0aW9uLCBzaXplLCBsb2NhdGlvbnMsIGlzQWJzb2x1dGVDb29yZHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXRGcmVlaGFuZCh0aGlzLmVkaXRvcixcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNYXJrdXAsXG4gICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgIHNpemUsXG4gICAgICAgICAgICBsb2NhdGlvbnMsXG4gICAgICAgICAgICBpc0Fic29sdXRlQ29vcmRzKTtcbiAgICB9O1xuXG4iXSwibmFtZXMiOlsiRWRpdE1vZGVQZW4iLCJEZWxldGVGcmVlaGFuZCIsIkNyZWF0ZUZyZWVoYW5kIiwiU2V0RnJlZWhhbmQiLCJNYXJrdXBUeXBlcyIsIkVkaXRNb2RlRnJlZWhhbmQiLCJlZGl0b3IiLCJzdHlsZUF0dHJpYnV0ZXMiLCJjYWxsIiwiTUFSS1VQX1RZUEVfRlJFRUhBTkQiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwiY3JlYXRlUGVuIiwibWFya3VwSWQiLCJwb3NpdGlvbiIsInNpemUiLCJyb3RhdGlvbiIsImxvY2F0aW9ucyIsInN0eWxlIiwiZGVsZXRlUGVuIiwibWFya3VwIiwic2V0UGVuIiwiaXNBYnNvbHV0ZUNvb3JkcyIsInNlbGVjdGVkTWFya3VwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-modes/EditModeFreehand.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-modes/EditModeHighlight.js":
/*!****************************************************************!*\
  !*** ./extensions/Markup/core/edit-modes/EditModeHighlight.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditModeHighlight: () => (/* binding */ EditModeHighlight)\n/* harmony export */ });\n/* harmony import */ var _EditModePen__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditModePen */ \"./extensions/Markup/core/edit-modes/EditModePen.js\");\n/* harmony import */ var _edit_actions_DeleteHighlight__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../edit-actions/DeleteHighlight */ \"./extensions/Markup/core/edit-actions/DeleteHighlight.js\");\n/* harmony import */ var _edit_actions_CreateHighlight__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../edit-actions/CreateHighlight */ \"./extensions/Markup/core/edit-actions/CreateHighlight.js\");\n/* harmony import */ var _edit_actions_SetHighlight__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../edit-actions/SetHighlight */ \"./extensions/Markup/core/edit-actions/SetHighlight.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n\n\n\n\n\n\n\n\n/**\n *\n * @param editor\n * @constructor\n */\nfunction EditModeHighlight(editor) {\n\n  var styleAttributes = ['stroke-width', 'stroke-color', 'stroke-opacity'];\n  _EditModePen__WEBPACK_IMPORTED_MODULE_0__.EditModePen.call(this, editor, _MarkupTypes__WEBPACK_IMPORTED_MODULE_4__.MARKUP_TYPE_HIGHLIGHT, styleAttributes);\n\n  var normaStrokeWidth = editor.getStrokeWidth();\n  this.style['stroke-opacity'] = 0.50;\n  this.style['stroke-color'] = '#ffff00';\n  this.style['stroke-width'] = 4 * normaStrokeWidth; // Very Thick\n}\n\nEditModeHighlight.prototype = Object.create(_EditModePen__WEBPACK_IMPORTED_MODULE_0__.EditModePen.prototype);\nEditModeHighlight.prototype.constructor = EditModeHighlight;\n\nvar proto = EditModeHighlight.prototype;\n\nproto.createPen = function (markupId, position, size, rotation, locations) {\n  return new _edit_actions_CreateHighlight__WEBPACK_IMPORTED_MODULE_2__.CreateHighlight(this.editor,\n  markupId,\n  position,\n  size,\n  rotation,\n  locations,\n  this.style);\n};\n\nproto.deletePen = function (markup) {\n  return new _edit_actions_DeleteHighlight__WEBPACK_IMPORTED_MODULE_1__.DeleteHighlight(this.editor, markup);\n};\n\nproto.setPen = function (position, size, locations, isAbsoluteCoords) {\n  return new _edit_actions_SetHighlight__WEBPACK_IMPORTED_MODULE_3__.SetHighlight(this.editor,\n  this.selectedMarkup,\n  position,\n  size,\n  locations,\n  isAbsoluteCoords);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtbW9kZXMvRWRpdE1vZGVIaWdobGlnaHQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWE7O0FBRStCO0FBQ3NCO0FBQ0E7QUFDTjtBQUNkOztBQUUxQztBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ1csU0FBU0ssaUJBQWlCQSxDQUFDQyxNQUFNLEVBQUU7O0VBRXRDLElBQUlDLGVBQWUsR0FBRyxDQUFDLGNBQWMsRUFBRSxjQUFjLEVBQUUsZ0JBQWdCLENBQUM7RUFDeEVQLHFEQUFXLENBQUNRLElBQUksQ0FBQyxJQUFJLEVBQUVGLE1BQU0sRUFBRUYsK0RBQWlDLEVBQUVHLGVBQWUsQ0FBQzs7RUFFbEYsSUFBSUcsZ0JBQWdCLEdBQUdKLE1BQU0sQ0FBQ0ssY0FBYyxDQUFDLENBQUM7RUFDOUMsSUFBSSxDQUFDQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxJQUFJO0VBQ25DLElBQUksQ0FBQ0EsS0FBSyxDQUFDLGNBQWMsQ0FBQyxHQUFHLFNBQVM7RUFDdEMsSUFBSSxDQUFDQSxLQUFLLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxHQUFHRixnQkFBZ0IsQ0FBQyxDQUFDO0FBQ3ZEOztBQUVBTCxpQkFBaUIsQ0FBQ1EsU0FBUyxHQUFHQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ2YscURBQVcsQ0FBQ2EsU0FBUyxDQUFDO0FBQ2xFUixpQkFBaUIsQ0FBQ1EsU0FBUyxDQUFDRyxXQUFXLEdBQUdYLGlCQUFpQjs7QUFFM0QsSUFBSVksS0FBSyxHQUFHWixpQkFBaUIsQ0FBQ1EsU0FBUzs7QUFFdkNJLEtBQUssQ0FBQ0MsU0FBUyxHQUFHLFVBQVNDLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxJQUFJLEVBQUVDLFFBQVEsRUFBRUMsU0FBUyxFQUFFO0VBQ3RFLE9BQU8sSUFBSXJCLDBFQUFlLENBQUMsSUFBSSxDQUFDSSxNQUFNO0VBQ2xDYSxRQUFRO0VBQ1JDLFFBQVE7RUFDUkMsSUFBSTtFQUNKQyxRQUFRO0VBQ1JDLFNBQVM7RUFDVCxJQUFJLENBQUNYLEtBQUssQ0FBQztBQUNuQixDQUFDOztBQUVESyxLQUFLLENBQUNPLFNBQVMsR0FBRyxVQUFTQyxNQUFNLEVBQUU7RUFDL0IsT0FBTyxJQUFJeEIsMEVBQWUsQ0FBQyxJQUFJLENBQUNLLE1BQU0sRUFBRW1CLE1BQU0sQ0FBQztBQUNuRCxDQUFDOztBQUVEUixLQUFLLENBQUNTLE1BQU0sR0FBRyxVQUFTTixRQUFRLEVBQUVDLElBQUksRUFBRUUsU0FBUyxFQUFFSSxnQkFBZ0IsRUFBRTtFQUNqRSxPQUFPLElBQUl4QixvRUFBWSxDQUFDLElBQUksQ0FBQ0csTUFBTTtFQUMvQixJQUFJLENBQUNzQixjQUFjO0VBQ25CUixRQUFRO0VBQ1JDLElBQUk7RUFDSkUsU0FBUztFQUNUSSxnQkFBZ0IsQ0FBQztBQUN6QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvZWRpdC1tb2Rlcy9FZGl0TW9kZUhpZ2hsaWdodC5qcz8xYzhhIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRWRpdE1vZGVQZW4gfSBmcm9tICcuL0VkaXRNb2RlUGVuJztcbmltcG9ydCB7IERlbGV0ZUhpZ2hsaWdodCB9IGZyb20gJy4uL2VkaXQtYWN0aW9ucy9EZWxldGVIaWdobGlnaHQnO1xuaW1wb3J0IHsgQ3JlYXRlSGlnaGxpZ2h0IH0gZnJvbSAnLi4vZWRpdC1hY3Rpb25zL0NyZWF0ZUhpZ2hsaWdodCc7XG5pbXBvcnQgeyBTZXRIaWdobGlnaHQgfSBmcm9tICcuLi9lZGl0LWFjdGlvbnMvU2V0SGlnaGxpZ2h0JztcbmltcG9ydCAqIGFzIE1hcmt1cFR5cGVzIGZyb20gJy4uL01hcmt1cFR5cGVzJztcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGVkaXRvclxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBFZGl0TW9kZUhpZ2hsaWdodChlZGl0b3IpIHtcblxuICAgICAgICB2YXIgc3R5bGVBdHRyaWJ1dGVzID0gWydzdHJva2Utd2lkdGgnLCAnc3Ryb2tlLWNvbG9yJywgJ3N0cm9rZS1vcGFjaXR5J107XG4gICAgICAgIEVkaXRNb2RlUGVuLmNhbGwodGhpcywgZWRpdG9yLCBNYXJrdXBUeXBlcy5NQVJLVVBfVFlQRV9ISUdITElHSFQsIHN0eWxlQXR0cmlidXRlcyk7XG5cbiAgICAgICAgdmFyIG5vcm1hU3Ryb2tlV2lkdGggPSBlZGl0b3IuZ2V0U3Ryb2tlV2lkdGgoKTtcbiAgICAgICAgdGhpcy5zdHlsZVsnc3Ryb2tlLW9wYWNpdHknXSA9IDAuNTA7XG4gICAgICAgIHRoaXMuc3R5bGVbJ3N0cm9rZS1jb2xvciddID0gJyNmZmZmMDAnO1xuICAgICAgICB0aGlzLnN0eWxlWydzdHJva2Utd2lkdGgnXSA9IDQgKiBub3JtYVN0cm9rZVdpZHRoOyAvLyBWZXJ5IFRoaWNrXG4gICAgfVxuXG4gICAgRWRpdE1vZGVIaWdobGlnaHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFZGl0TW9kZVBlbi5wcm90b3R5cGUpO1xuICAgIEVkaXRNb2RlSGlnaGxpZ2h0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEVkaXRNb2RlSGlnaGxpZ2h0O1xuXG4gICAgdmFyIHByb3RvID0gRWRpdE1vZGVIaWdobGlnaHQucHJvdG90eXBlO1xuXG4gICAgcHJvdG8uY3JlYXRlUGVuID0gZnVuY3Rpb24obWFya3VwSWQsIHBvc2l0aW9uLCBzaXplLCByb3RhdGlvbiwgbG9jYXRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ3JlYXRlSGlnaGxpZ2h0KHRoaXMuZWRpdG9yLFxuICAgICAgICAgICAgbWFya3VwSWQsXG4gICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgIHNpemUsXG4gICAgICAgICAgICByb3RhdGlvbixcbiAgICAgICAgICAgIGxvY2F0aW9ucyxcbiAgICAgICAgICAgIHRoaXMuc3R5bGUpO1xuICAgIH07XG5cbiAgICBwcm90by5kZWxldGVQZW4gPSBmdW5jdGlvbihtYXJrdXApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEZWxldGVIaWdobGlnaHQodGhpcy5lZGl0b3IsIG1hcmt1cCk7XG4gICAgfTtcblxuICAgIHByb3RvLnNldFBlbiA9IGZ1bmN0aW9uKHBvc2l0aW9uLCBzaXplLCBsb2NhdGlvbnMsIGlzQWJzb2x1dGVDb29yZHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXRIaWdobGlnaHQodGhpcy5lZGl0b3IsXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkTWFya3VwLFxuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgbG9jYXRpb25zLFxuICAgICAgICAgICAgaXNBYnNvbHV0ZUNvb3Jkcyk7XG4gICAgfTtcblxuIl0sIm5hbWVzIjpbIkVkaXRNb2RlUGVuIiwiRGVsZXRlSGlnaGxpZ2h0IiwiQ3JlYXRlSGlnaGxpZ2h0IiwiU2V0SGlnaGxpZ2h0IiwiTWFya3VwVHlwZXMiLCJFZGl0TW9kZUhpZ2hsaWdodCIsImVkaXRvciIsInN0eWxlQXR0cmlidXRlcyIsImNhbGwiLCJNQVJLVVBfVFlQRV9ISUdITElHSFQiLCJub3JtYVN0cm9rZVdpZHRoIiwiZ2V0U3Ryb2tlV2lkdGgiLCJzdHlsZSIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwicHJvdG8iLCJjcmVhdGVQZW4iLCJtYXJrdXBJZCIsInBvc2l0aW9uIiwic2l6ZSIsInJvdGF0aW9uIiwibG9jYXRpb25zIiwiZGVsZXRlUGVuIiwibWFya3VwIiwic2V0UGVuIiwiaXNBYnNvbHV0ZUNvb3JkcyIsInNlbGVjdGVkTWFya3VwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-modes/EditModeHighlight.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-modes/EditModePen.js":
/*!**********************************************************!*\
  !*** ./extensions/Markup/core/edit-modes/EditModePen.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditModePen: () => (/* binding */ EditModePen)\n/* harmony export */ });\n/* harmony import */ var _EditMode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditMode */ \"./extensions/Markup/core/edit-modes/EditMode.js\");\n/* harmony import */ var _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MarkupsCoreUtils */ \"./extensions/Markup/core/MarkupsCoreUtils.js\");\n\n\n\n\n\n/**\n * Base class for editing Pen tools (currently freehand and highlighter)\n *\n * Any class extending EditModePen should contain at least the following methods:\n * - createPen()\n * - deletePen()\n * - setPen()\n *\n * @param editor\n * @constructor\n */\nfunction EditModePen(editor, type, styleAttributes) {\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.call(this, editor, type, styleAttributes);\n\n  this.smoothen = true;\n  this.bufferSize = 8;\n}\n\nEditModePen.prototype = Object.create(_EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype);\n\nvar proto = EditModePen.prototype;\n\nproto.deleteMarkup = function (markup, cantUndo) {\n\n  markup = markup || this.selectedMarkup;\n  if (markup && markup.type === this.type) {\n    var deleteMarkup = this.deletePen(markup);\n    deleteMarkup.addToHistory = !cantUndo;\n    deleteMarkup.execute();\n    return true;\n  }\n  return false;\n};\n\n/**\n * Handler to mouse move events, used to create markups.\n * @param {MouseEvent} event Mouse event.\n * @private\n */\nproto.onMouseMove = function (event) {\n\n  if (!_EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.onMouseMove.call(this, event)) {\n    return false;\n  }\n\n\n  var editor = this.editor;\n  var mousePosition = editor.getMousePosition();\n  var movements = this.movements;\n\n  var location = editor.clientToMarkups(mousePosition.x, mousePosition.y);\n  if (this.smoothen) {\n    this.appendToBuffer(location);\n    this.amendPath();\n  } else {\n    var dx = this.lastX - mousePosition.x;\n    var dy = this.lastY - mousePosition.y;\n    var moveTol = 25; // 5^2, compare to square to avoid using square root of distance\n\n    if (movements.length > 1 && dx * dx + dy * dy < moveTol) {\n      movements[movements.length - 1] = location;\n      this.removeFromAbsolutePath(1);\n    } else {\n      movements.push(location);\n      this.lastX = mousePosition.x;\n      this.lastY = mousePosition.y;\n    }\n\n    this.addToAbsolutePath([location]);\n  }\n\n  var setPen = this.setPen(this.position, this.size, this.absolutePath, true);\n  setPen.execute();\n  return true;\n};\n\n/**\n * Handler to mouse down events, used to start markups creation.\n * @private\n */\nproto.onMouseDown = function () {\n\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.onMouseDown.call(this);\n\n  if (this.selectedMarkup) {\n    return;\n  }\n\n  var editor = this.editor;\n\n  editor.snapper && editor.snapper.clearSnapped();\n  var mousePosition = editor.getMousePosition();\n\n  this.lastX = this.initialX = mousePosition.x;\n  this.lastY = this.initialY = mousePosition.y;\n\n  //set the starting point\n  var position = this.position = editor.clientToMarkups(this.initialX, this.initialY);\n  this.movements = [position];\n  if (this.smoothen) {\n    this.buffer = []; // Reset buffer\n    this.movementsLastIndex = null;\n    this.appendToBuffer(position);\n  }\n\n  var size = this.size = editor.sizeFromClientToMarkups(1, 1);\n\n  // Create pen.\n  editor.beginActionGroup();\n\n  var markupId = editor.getId();\n  var create = this.createPen(markupId, position, size, 0, [{ x: 0, y: 0 }]);\n\n  create.execute();\n\n  this.createAbsolutePath(position);\n\n  this.selectedMarkup = editor.getMarkup(markupId);\n  this.creationBegin();\n};\n\nproto.onMouseUp = function () {\n\n  if (!this.creating) {\n    _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.onMouseUp.call(this);\n    return;\n  }\n\n  var movements = this.movements;\n  var cameraWidth = this.viewer.impl.camera.right - this.viewer.impl.camera.left;\n  var cameraHeight = this.viewer.impl.camera.top - this.viewer.impl.camera.bottom;\n  var cameraDiagSq = cameraWidth * cameraWidth + cameraHeight * cameraHeight;\n\n  movements = (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_1__.simplify)(movements, cameraDiagSq * 0.00000001, true);\n\n  var xs = movements.map(function (item) {return item.x;});\n  var ys = movements.map(function (item) {return item.y;});\n\n  var l = Math.min.apply(null, xs);\n  var t = Math.min.apply(null, ys);\n  var r = Math.max.apply(null, xs);\n  var b = Math.max.apply(null, ys);\n\n  var width = r - l; // Already in markup coords space\n  var height = b - t; // Already in markup coords space\n\n  var position = {\n    x: l + width * 0.5,\n    y: t + height * 0.5\n  };\n  var size = this.size = { x: width, y: height };\n\n  // Adjust points to relate from the shape's center\n  var locations = movements.map(function (point) {\n    return {\n      x: point.x - position.x,\n      y: point.y - position.y\n    };\n  });\n\n  var setPen = this.setPen(position, size, locations, false);\n  setPen.execute();\n\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.onMouseUp.call(this);\n};\n\nproto.createPen = function () {\n  console.error('createPen not implemented');\n};\n\nproto.deletePen = function () {\n  console.error('deletePen not implemented');\n};\n\nproto.setPen = function () {\n  console.error('setPen not implemented');\n};\n\nproto.useWithSnapping = function () {\n  return false;\n};\n\nproto.createAbsolutePath = function (point) {\n\n  this.absolutePath = 'M' + +point.x.toFixed(6) + ' ' + +point.y.toFixed(6);\n  this.absolutePathIndexes = [0];\n};\n\nproto.removeFromAbsolutePath = function (numToRemove) {\n\n  numToRemove = Math.min(numToRemove, this.absolutePathIndexes.length);\n  if (numToRemove > 0) {\n    this.absolutePath = this.absolutePath.slice(0, this.absolutePathIndexes[this.absolutePathIndexes.length - numToRemove]);\n    this.absolutePathIndexes.splice(this.absolutePathIndexes.length - numToRemove);\n  }\n};\n\nproto.addToAbsolutePath = function (points) {\n\n  for (var i = 0; i < points.length; i++) {\n    this.absolutePathIndexes.push(this.absolutePath.length);\n    this.absolutePath += ' L' + +points[i].x.toFixed(6) + ' ' + +points[i].y.toFixed(6);\n  }\n};\n\nproto.appendToBuffer = function (point) {\n\n  this.buffer.push(point);\n  while (this.buffer.length > this.bufferSize) {\n    this.buffer.shift();\n  }\n};\n\nproto.amendPath = function () {\n\n  var point = this.getAveragePoint(0);\n  if (point) {\n    if (this.movementsLastIndex) {\n      this.removeFromAbsolutePath(this.movements.length - this.movementsLastIndex);\n      this.movements.splice(this.movementsLastIndex);\n    }\n\n    // Add the smoothed part of the path that will not change\n    var tmpBuffer = [point];\n    this.movementsLastIndex = this.movements.length + 1;\n\n    // Get the last part of the path (close to the current mouse position)\n    // This part will change if the mouse moves again\n    for (var offset = 2; offset < this.buffer.length; offset += 2) {\n      var pt = this.getAveragePoint(offset);\n      tmpBuffer.push(pt);\n    }\n\n    this.addToAbsolutePath(tmpBuffer);\n\n    // Set the complete current path coordinates\n    this.movements.push.apply(this.movements, tmpBuffer);\n\n  }\n};\n\n// Calculate the average point, starting at offset in the buffer\nproto.getAveragePoint = function (offset) {\n\n  var len = this.buffer.length;\n  if (len % 2 === 1 || len >= this.bufferSize) {\n    var totalX = 0;\n    var totalY = 0;\n    var pt;\n    var count = 0;\n    for (var i = offset; i < len; i++) {\n      count++;\n      pt = this.buffer[i];\n      totalX += pt.x;\n      totalY += pt.y;\n    }\n    return {\n      x: totalX / count,\n      y: totalY / count\n    };\n  }\n  return null;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtbW9kZXMvRWRpdE1vZGVQZW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWE7O0FBRXlCO0FBQ1M7O0FBRTNDO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTRSxXQUFXQSxDQUFDQyxNQUFNLEVBQUVDLElBQUksRUFBRUMsZUFBZSxFQUFFO0VBQ3ZETCwrQ0FBUSxDQUFDTSxJQUFJLENBQUMsSUFBSSxFQUFFSCxNQUFNLEVBQUVDLElBQUksRUFBRUMsZUFBZSxDQUFDOztFQUVsRCxJQUFJLENBQUNFLFFBQVEsR0FBRyxJQUFJO0VBQ3BCLElBQUksQ0FBQ0MsVUFBVSxHQUFHLENBQUM7QUFDdkI7O0FBRUFOLFdBQVcsQ0FBQ08sU0FBUyxHQUFHQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ1gsK0NBQVEsQ0FBQ1MsU0FBUyxDQUFDOztBQUV6RCxJQUFJRyxLQUFLLEdBQUdWLFdBQVcsQ0FBQ08sU0FBUzs7QUFFakNHLEtBQUssQ0FBQ0MsWUFBWSxHQUFHLFVBQVNDLE1BQU0sRUFBRUMsUUFBUSxFQUFFOztFQUU1Q0QsTUFBTSxHQUFHQSxNQUFNLElBQUksSUFBSSxDQUFDRSxjQUFjO0VBQ3RDLElBQUlGLE1BQU0sSUFBSUEsTUFBTSxDQUFDVixJQUFJLEtBQUssSUFBSSxDQUFDQSxJQUFJLEVBQUU7SUFDckMsSUFBSVMsWUFBWSxHQUFHLElBQUksQ0FBQ0ksU0FBUyxDQUFDSCxNQUFNLENBQUM7SUFDekNELFlBQVksQ0FBQ0ssWUFBWSxHQUFHLENBQUNILFFBQVE7SUFDckNGLFlBQVksQ0FBQ00sT0FBTyxDQUFDLENBQUM7SUFDdEIsT0FBTyxJQUFJO0VBQ2Y7RUFDQSxPQUFPLEtBQUs7QUFDaEIsQ0FBQzs7QUFFRDtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0lQLEtBQUssQ0FBQ1EsV0FBVyxHQUFHLFVBQVNDLEtBQUssRUFBRTs7RUFFaEMsSUFBSSxDQUFD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QU87TUFDSEQsQ0FBQyxFQUFFNEUsTUFBTSxHQUFHRSxLQUFLO01BQ2pCN0UsQ0FBQyxFQUFFNEUsTUFBTSxHQUFHQztJQUNoQixDQUFDO0VBQ0w7RUFDQSxPQUFPLElBQUk7QUFDZixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvZWRpdC1tb2Rlcy9FZGl0TW9kZVBlbi5qcz83MWY5Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRWRpdE1vZGUgfSBmcm9tICcuL0VkaXRNb2RlJztcbmltcG9ydCB7IHNpbXBsaWZ5IH0gZnJvbSAnLi4vTWFya3Vwc0NvcmVVdGlscyc7XG5cbiAgICAvKipcbiAgICAgKiBCYXNlIGNsYXNzIGZvciBlZGl0aW5nIFBlbiB0b29scyAoY3VycmVudGx5IGZyZWVoYW5kIGFuZCBoaWdobGlnaHRlcilcbiAgICAgKlxuICAgICAqIEFueSBjbGFzcyBleHRlbmRpbmcgRWRpdE1vZGVQZW4gc2hvdWxkIGNvbnRhaW4gYXQgbGVhc3QgdGhlIGZvbGxvd2luZyBtZXRob2RzOlxuICAgICAqIC0gY3JlYXRlUGVuKClcbiAgICAgKiAtIGRlbGV0ZVBlbigpXG4gICAgICogLSBzZXRQZW4oKVxuICAgICAqXG4gICAgICogQHBhcmFtIGVkaXRvclxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBFZGl0TW9kZVBlbihlZGl0b3IsIHR5cGUsIHN0eWxlQXR0cmlidXRlcykge1xuICAgICAgICBFZGl0TW9kZS5jYWxsKHRoaXMsIGVkaXRvciwgdHlwZSwgc3R5bGVBdHRyaWJ1dGVzKTtcblxuICAgICAgICB0aGlzLnNtb290aGVuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5idWZmZXJTaXplID0gODtcbiAgICB9XG5cbiAgICBFZGl0TW9kZVBlbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVkaXRNb2RlLnByb3RvdHlwZSk7XG5cbiAgICB2YXIgcHJvdG8gPSBFZGl0TW9kZVBlbi5wcm90b3R5cGU7XG5cbiAgICBwcm90by5kZWxldGVNYXJrdXAgPSBmdW5jdGlvbihtYXJrdXAsIGNhbnRVbmRvKSB7XG5cbiAgICAgICAgbWFya3VwID0gbWFya3VwIHx8IHRoaXMuc2VsZWN0ZWRNYXJrdXA7XG4gICAgICAgIGlmIChtYXJrdXAgJiYgbWFya3VwLnR5cGUgPT09IHRoaXMudHlwZSkge1xuICAgICAgICAgICAgdmFyIGRlbGV0ZU1hcmt1cCA9IHRoaXMuZGVsZXRlUGVuKG1hcmt1cCk7XG4gICAgICAgICAgICBkZWxldGVNYXJrdXAuYWRkVG9IaXN0b3J5ID0gIWNhbnRVbmRvO1xuICAgICAgICAgICAgZGVsZXRlTWFya3VwLmV4ZWN1dGUoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlciB0byBtb3VzZSBtb3ZlIGV2ZW50cywgdXNlZCB0byBjcmVhdGUgbWFya3Vwcy5cbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IE1vdXNlIGV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJvdG8ub25Nb3VzZU1vdmUgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIGlmICghRWRpdE1vZGUucHJvdG90eXBlLm9uTW91c2VNb3ZlLmNhbGwoIHRoaXMsIGV2ZW50ICkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgICAgICB2YXIgbW91c2VQb3NpdGlvbiA9IGVkaXRvci5nZXRNb3VzZVBvc2l0aW9uKCk7XG4gICAgICAgIHZhciBtb3ZlbWVudHMgPSB0aGlzLm1vdmVtZW50cztcblxuICAgICAgICB2YXIgbG9jYXRpb24gPSBlZGl0b3IuY2xpZW50VG9NYXJrdXBzKG1vdXNlUG9zaXRpb24ueCwgbW91c2VQb3NpdGlvbi55KTtcbiAgICAgICAgaWYgKHRoaXMuc21vb3RoZW4pIHtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kVG9CdWZmZXIobG9jYXRpb24pO1xuICAgICAgICAgICAgdGhpcy5hbWVuZFBhdGgoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBkeCA9IHRoaXMubGFzdFggLSBtb3VzZVBvc2l0aW9uLng7XG4gICAgICAgICAgICB2YXIgZHkgPSB0aGlzLmxhc3RZIC0gbW91c2VQb3NpdGlvbi55O1xuICAgICAgICAgICAgdmFyIG1vdmVUb2wgPSAyNTsgLy8gNV4yLCBjb21wYXJlIHRvIHNxdWFyZSB0byBhdm9pZCB1c2luZyBzcXVhcmUgcm9vdCBvZiBkaXN0YW5jZVxuXG4gICAgICAgICAgICBpZiAobW92ZW1lbnRzLmxlbmd0aCA+IDEgJiYgKGR4KmR4ICsgZHkqZHkpIDwgbW92ZVRvbCkge1xuICAgICAgICAgICAgICAgIG1vdmVtZW50c1ttb3ZlbWVudHMubGVuZ3RoIC0gMV0gPSBsb2NhdGlvbjtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZyb21BYnNvbHV0ZVBhdGgoMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vdmVtZW50cy5wdXNoKGxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RYID0gbW91c2VQb3NpdGlvbi54O1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFkgPSBtb3VzZVBvc2l0aW9uLnk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYWRkVG9BYnNvbHV0ZVBhdGgoW2xvY2F0aW9uXSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2V0UGVuID0gdGhpcy5zZXRQZW4odGhpcy5wb3NpdGlvbiwgdGhpcy5zaXplLCB0aGlzLmFic29sdXRlUGF0aCwgdHJ1ZSk7XG4gICAgICAgIHNldFBlbi5leGVjdXRlKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVyIHRvIG1vdXNlIGRvd24gZXZlbnRzLCB1c2VkIHRvIHN0YXJ0IG1hcmt1cHMgY3JlYXRpb24uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcm90by5vbk1vdXNlRG93biA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIEVkaXRNb2RlLnByb3RvdHlwZS5vbk1vdXNlRG93bi5jYWxsKHRoaXMpO1xuXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkTWFya3VwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG5cbiAgICAgICAgZWRpdG9yLnNuYXBwZXIgJiYgZWRpdG9yLnNuYXBwZXIuY2xlYXJTbmFwcGVkKCk7XG4gICAgICAgIHZhciBtb3VzZVBvc2l0aW9uID0gZWRpdG9yLmdldE1vdXNlUG9zaXRpb24oKTtcblxuICAgICAgICB0aGlzLmxhc3RYID0gdGhpcy5pbml0aWFsWCA9IG1vdXNlUG9zaXRpb24ueDtcbiAgICAgICAgdGhpcy5sYXN0WSA9IHRoaXMuaW5pdGlhbFkgPSBtb3VzZVBvc2l0aW9uLnk7XG5cbiAgICAgICAgLy9zZXQgdGhlIHN0YXJ0aW5nIHBvaW50XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IHRoaXMucG9zaXRpb24gPSBlZGl0b3IuY2xpZW50VG9NYXJrdXBzKHRoaXMuaW5pdGlhbFgsIHRoaXMuaW5pdGlhbFkpO1xuICAgICAgICB0aGlzLm1vdmVtZW50cyA9IFtwb3NpdGlvbl07XG4gICAgICAgIGlmICh0aGlzLnNtb290aGVuKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlciA9IFtdOyAvLyBSZXNldCBidWZmZXJcbiAgICAgICAgICAgIHRoaXMubW92ZW1lbnRzTGFzdEluZGV4ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kVG9CdWZmZXIocG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNpemUgPSB0aGlzLnNpemUgPSBlZGl0b3Iuc2l6ZUZyb21DbGllbnRUb01hcmt1cHMoMSwgMSk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIHBlbi5cbiAgICAgICAgZWRpdG9yLmJlZ2luQWN0aW9uR3JvdXAoKTtcblxuICAgICAgICB2YXIgbWFya3VwSWQgPSBlZGl0b3IuZ2V0SWQoKTtcbiAgICAgICAgdmFyIGNyZWF0ZSA9IHRoaXMuY3JlYXRlUGVuKG1hcmt1cElkLCBwb3NpdGlvbiwgc2l6ZSwgMCwgW3t4OiAwLCB5OiAwIH1dKTtcblxuICAgICAgICBjcmVhdGUuZXhlY3V0ZSgpO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlQWJzb2x1dGVQYXRoKHBvc2l0aW9uKTtcblxuICAgICAgICB0aGlzLnNlbGVjdGVkTWFya3VwID0gZWRpdG9yLmdldE1hcmt1cChtYXJrdXBJZCk7XG4gICAgICAgIHRoaXMuY3JlYXRpb25CZWdpbigpO1xuICAgIH07XG5cbiAgICBwcm90by5vbk1vdXNlVXAgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICBpZiAoIXRoaXMuY3JlYXRpbmcpIHtcbiAgICAgICAgICAgIEVkaXRNb2RlLnByb3RvdHlwZS5vbk1vdXNlVXAuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtb3ZlbWVudHMgPSB0aGlzLm1vdmVtZW50cztcbiAgICAgICAgdmFyIGNhbWVyYVdpZHRoID0gdGhpcy52aWV3ZXIuaW1wbC5jYW1lcmEucmlnaHQgLSB0aGlzLnZpZXdlci5pbXBsLmNhbWVyYS5sZWZ0O1xuICAgICAgICB2YXIgY2FtZXJhSGVpZ2h0ID0gdGhpcy52aWV3ZXIuaW1wbC5jYW1lcmEudG9wIC0gdGhpcy52aWV3ZXIuaW1wbC5jYW1lcmEuYm90dG9tO1xuICAgICAgICB2YXIgY2FtZXJhRGlhZ1NxID0gY2FtZXJhV2lkdGgqY2FtZXJhV2lkdGggKyBjYW1lcmFIZWlnaHQqY2FtZXJhSGVpZ2h0O1xuXG4gICAgICAgIG1vdmVtZW50cyA9IHNpbXBsaWZ5KG1vdmVtZW50cywgY2FtZXJhRGlhZ1NxICogMC4wMDAwMDAwMSwgdHJ1ZSk7XG5cbiAgICAgICAgdmFyIHhzID0gbW92ZW1lbnRzLm1hcChmdW5jdGlvbihpdGVtKSB7IHJldHVybiBpdGVtLng7IH0pO1xuICAgICAgICB2YXIgeXMgPSBtb3ZlbWVudHMubWFwKGZ1bmN0aW9uKGl0ZW0pIHsgcmV0dXJuIGl0ZW0ueTsgfSk7XG5cbiAgICAgICAgdmFyIGwgPSBNYXRoLm1pbi5hcHBseShudWxsLCB4cyk7XG4gICAgICAgIHZhciB0ID0gTWF0aC5taW4uYXBwbHkobnVsbCwgeXMpO1xuICAgICAgICB2YXIgciA9IE1hdGgubWF4LmFwcGx5KG51bGwsIHhzKTtcbiAgICAgICAgdmFyIGIgPSBNYXRoLm1heC5hcHBseShudWxsLCB5cyk7XG5cbiAgICAgICAgdmFyIHdpZHRoID0gciAtIGw7ICAvLyBBbHJlYWR5IGluIG1hcmt1cCBjb29yZHMgc3BhY2VcbiAgICAgICAgdmFyIGhlaWdodCA9IGIgLSB0OyAvLyBBbHJlYWR5IGluIG1hcmt1cCBjb29yZHMgc3BhY2VcblxuICAgICAgICB2YXIgcG9zaXRpb24gPSB7XG4gICAgICAgICAgICB4OiBsICsgd2lkdGggKiAwLjUsXG4gICAgICAgICAgICB5OiB0ICsgaGVpZ2h0ICogMC41XG4gICAgICAgIH07XG4gICAgICAgIHZhciBzaXplID0gdGhpcy5zaXplID0ge3g6IHdpZHRoLCB5OiBoZWlnaHR9O1xuXG4gICAgICAgIC8vIEFkanVzdCBwb2ludHMgdG8gcmVsYXRlIGZyb20gdGhlIHNoYXBlJ3MgY2VudGVyXG4gICAgICAgIHZhciBsb2NhdGlvbnMgPSBtb3ZlbWVudHMubWFwKGZ1bmN0aW9uKHBvaW50KXtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgeDogcG9pbnQueCAtIHBvc2l0aW9uLngsXG4gICAgICAgICAgICAgICAgeTogcG9pbnQueSAtIHBvc2l0aW9uLnlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBzZXRQZW4gPSB0aGlzLnNldFBlbihwb3NpdGlvbiwgc2l6ZSwgbG9jYXRpb25zLCBmYWxzZSk7XG4gICAgICAgIHNldFBlbi5leGVjdXRlKCk7XG5cbiAgICAgICAgRWRpdE1vZGUucHJvdG90eXBlLm9uTW91c2VVcC5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICBwcm90by5jcmVhdGVQZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignY3JlYXRlUGVuIG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH07XG5cbiAgICBwcm90by5kZWxldGVQZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignZGVsZXRlUGVuIG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH07XG5cbiAgICBwcm90by5zZXRQZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignc2V0UGVuIG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH07XG5cbiAgICBwcm90by51c2VXaXRoU25hcHBpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgcHJvdG8uY3JlYXRlQWJzb2x1dGVQYXRoID0gZnVuY3Rpb24ocG9pbnQpIHtcblxuICAgICAgICB0aGlzLmFic29sdXRlUGF0aCA9ICdNJyArICsocG9pbnQueCkudG9GaXhlZCg2KSArICcgJyArICsocG9pbnQueSkudG9GaXhlZCg2KTtcbiAgICAgICAgdGhpcy5hYnNvbHV0ZVBhdGhJbmRleGVzID0gWzBdO1xuICAgIH07XG5cbiAgICBwcm90by5yZW1vdmVGcm9tQWJzb2x1dGVQYXRoID0gZnVuY3Rpb24obnVtVG9SZW1vdmUpIHtcblxuICAgICAgICBudW1Ub1JlbW92ZSA9IE1hdGgubWluKG51bVRvUmVtb3ZlLCB0aGlzLmFic29sdXRlUGF0aEluZGV4ZXMubGVuZ3RoKTtcbiAgICAgICAgaWYgKG51bVRvUmVtb3ZlID4gMCkge1xuICAgICAgICAgICAgdGhpcy5hYnNvbHV0ZVBhdGggPSB0aGlzLmFic29sdXRlUGF0aC5zbGljZSgwLCB0aGlzLmFic29sdXRlUGF0aEluZGV4ZXNbdGhpcy5hYnNvbHV0ZVBhdGhJbmRleGVzLmxlbmd0aCAtIG51bVRvUmVtb3ZlXSk7XG4gICAgICAgICAgICB0aGlzLmFic29sdXRlUGF0aEluZGV4ZXMuc3BsaWNlKHRoaXMuYWJzb2x1dGVQYXRoSW5kZXhlcy5sZW5ndGggLSBudW1Ub1JlbW92ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvdG8uYWRkVG9BYnNvbHV0ZVBhdGggPSBmdW5jdGlvbihwb2ludHMpIHtcblxuICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmFic29sdXRlUGF0aEluZGV4ZXMucHVzaCh0aGlzLmFic29sdXRlUGF0aC5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5hYnNvbHV0ZVBhdGggKz0gJyBMJyArICsocG9pbnRzW2ldLngpLnRvRml4ZWQoNikgKyAnICcgKyArKHBvaW50c1tpXS55KS50b0ZpeGVkKDYpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByb3RvLmFwcGVuZFRvQnVmZmVyID0gZnVuY3Rpb24ocG9pbnQpIHtcblxuICAgICAgICB0aGlzLmJ1ZmZlci5wdXNoKHBvaW50KTtcbiAgICAgICAgd2hpbGUgKHRoaXMuYnVmZmVyLmxlbmd0aCA+IHRoaXMuYnVmZmVyU2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5idWZmZXIuc2hpZnQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwcm90by5hbWVuZFBhdGggPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgcG9pbnQgPSB0aGlzLmdldEF2ZXJhZ2VQb2ludCgwKTtcbiAgICAgICAgaWYgKHBvaW50KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tb3ZlbWVudHNMYXN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZyb21BYnNvbHV0ZVBhdGgodGhpcy5tb3ZlbWVudHMubGVuZ3RoIC0gdGhpcy5tb3ZlbWVudHNMYXN0SW5kZXgpO1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZW1lbnRzLnNwbGljZSh0aGlzLm1vdmVtZW50c0xhc3RJbmRleCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEFkZCB0aGUgc21vb3RoZWQgcGFydCBvZiB0aGUgcGF0aCB0aGF0IHdpbGwgbm90IGNoYW5nZVxuICAgICAgICAgICAgdmFyIHRtcEJ1ZmZlciA9IFtwb2ludF07XG4gICAgICAgICAgICB0aGlzLm1vdmVtZW50c0xhc3RJbmRleCA9IHRoaXMubW92ZW1lbnRzLmxlbmd0aCArIDE7XG5cbiAgICAgICAgICAgIC8vIEdldCB0aGUgbGFzdCBwYXJ0IG9mIHRoZSBwYXRoIChjbG9zZSB0byB0aGUgY3VycmVudCBtb3VzZSBwb3NpdGlvbilcbiAgICAgICAgICAgIC8vIFRoaXMgcGFydCB3aWxsIGNoYW5nZSBpZiB0aGUgbW91c2UgbW92ZXMgYWdhaW5cbiAgICAgICAgICAgIGZvciAodmFyIG9mZnNldCA9IDI7IG9mZnNldCA8IHRoaXMuYnVmZmVyLmxlbmd0aDsgb2Zmc2V0ICs9IDIpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHQgPSB0aGlzLmdldEF2ZXJhZ2VQb2ludChvZmZzZXQpO1xuICAgICAgICAgICAgICAgIHRtcEJ1ZmZlci5wdXNoKHB0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5hZGRUb0Fic29sdXRlUGF0aCh0bXBCdWZmZXIpO1xuXG4gICAgICAgICAgICAvLyBTZXQgdGhlIGNvbXBsZXRlIGN1cnJlbnQgcGF0aCBjb29yZGluYXRlc1xuICAgICAgICAgICAgdGhpcy5tb3ZlbWVudHMucHVzaC5hcHBseSh0aGlzLm1vdmVtZW50cywgdG1wQnVmZmVyKTtcblxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIENhbGN1bGF0ZSB0aGUgYXZlcmFnZSBwb2ludCwgc3RhcnRpbmcgYXQgb2Zmc2V0IGluIHRoZSBidWZmZXJcbiAgICBwcm90by5nZXRBdmVyYWdlUG9pbnQgPSBmdW5jdGlvbihvZmZzZXQpIHtcblxuICAgICAgICB2YXIgbGVuID0gdGhpcy5idWZmZXIubGVuZ3RoO1xuICAgICAgICBpZiAobGVuICUgMiA9PT0gMSB8fCBsZW4gPj0gdGhpcy5idWZmZXJTaXplKSB7XG4gICAgICAgICAgICB2YXIgdG90YWxYID0gMDtcbiAgICAgICAgICAgIHZhciB0b3RhbFkgPSAwO1xuICAgICAgICAgICAgdmFyIHB0O1xuICAgICAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBvZmZzZXQ7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICAgICAgcHQgPSB0aGlzLmJ1ZmZlcltpXTtcbiAgICAgICAgICAgICAgICB0b3RhbFggKz0gcHQueDtcbiAgICAgICAgICAgICAgICB0b3RhbFkgKz0gcHQueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgeDogdG90YWxYIC8gY291bnQsXG4gICAgICAgICAgICAgICAgeTogdG90YWxZIC8gY291bnRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuIl0sIm5hbWVzIjpbIkVkaXRNb2RlIiwic2ltcGxpZnkiLCJFZGl0TW9kZVBlbiIsImVkaXRvciIsInR5cGUiLCJzdHlsZUF0dHJpYnV0ZXMiLCJjYWxsIiwic21vb3RoZW4iLCJidWZmZXJTaXplIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwicHJvdG8iLCJkZWxldGVNYXJrdXAiLCJtYXJrdXAiLCJjYW50VW5kbyIsInNlbGVjdGVkTWFya3VwIiwiZGVsZXRlUGVuIiwiYWRkVG9IaXN0b3J5IiwiZXhlY3V0ZSIsIm9uTW91c2VNb3ZlIiwiZXZlbnQiLCJtb3VzZVBvc2l0aW9uIiwiZ2V0TW91c2VQb3NpdGlvbiIsIm1vdmVtZW50cyIsImxvY2F0aW9uIiwiY2xpZW50VG9NYXJrdXBzIiwieCIsInkiLCJhcHBlbmRUb0J1ZmZlciIsImFtZW5kUGF0aCIsImR4IiwibGFzdFgiLCJkeSIsImxhc3RZIiwibW92ZVRvbCIsImxlbmd0aCIsInJlbW92ZUZyb21BYnNvbHV0ZVBhdGgiLCJwdXNoIiwiYWRkVG9BYnNvbHV0ZVBhdGgiLCJzZXRQZW4iLCJwb3NpdGlvbiIsInNpemUiLCJhYnNvbHV0ZVBhdGgiLCJvbk1vdXNlRG93biIsInNuYXBwZXIiLCJjbGVhclNuYXBwZWQiLCJpbml0aWFsWCIsImluaXRpYWxZIiwiYnVmZmVyIiwibW92ZW1lbnRzTGFzdEluZGV4Iiwic2l6ZUZyb21DbGllbnRUb01hcmt1cHMiLCJiZWdpbkFjdGlvbkdyb3VwIiwibWFya3VwSWQiLCJnZXRJZCIsImNyZWF0ZVBlbiIsImNyZWF0ZUFic29sdXRlUGF0aCIsImdldE1hcmt1cCIsImNyZWF0aW9uQmVnaW4iLCJvbk1vdXNlVXAiLCJjcmVhdGluZyIsImNhbWVyYVdpZHRoIiwidmlld2VyIiwiaW1wbCIsImNhbWVyYSIsInJpZ2h0IiwibGVmdCIsImNhbWVyYUhlaWdodCIsInRvcCIsImJvdHRvbSIsImNhbWVyYURpYWdTcSIsInhzIiwibWFwIiwiaXRlbSIsInlzIiwibCIsIk1hdGgiLCJtaW4iLCJhcHBseSIsInQiLCJyIiwibWF4IiwiYiIsIndpZHRoIiwiaGVpZ2h0IiwibG9jYXRpb25zIiwicG9pbnQiLCJjb25zb2xlIiwiZXJyb3IiLCJ1c2VXaXRoU25hcHBpbmciLCJ0b0ZpeGVkIiwiYWJzb2x1dGVQYXRoSW5kZXhlcyIsIm51bVRvUmVtb3ZlIiwic2xpY2UiLCJzcGxpY2UiLCJwb2ludHMiLCJpIiwic2hpZnQiLCJnZXRBdmVyYWdlUG9pbnQiLCJ0bXBCdWZmZXIiLCJvZmZzZXQiLCJwdCIsImxlbiIsInRvdGFsWCIsInRvdGFsWSIsImNvdW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-modes/EditModePen.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-modes/EditModePolycloud.js":
/*!****************************************************************!*\
  !*** ./extensions/Markup/core/edit-modes/EditModePolycloud.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditModePolycloud: () => (/* binding */ EditModePolycloud)\n/* harmony export */ });\n/* harmony import */ var _EditMode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditMode */ \"./extensions/Markup/core/edit-modes/EditMode.js\");\n/* harmony import */ var _edit_actions_DeletePolycloud__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../edit-actions/DeletePolycloud */ \"./extensions/Markup/core/edit-actions/DeletePolycloud.js\");\n/* harmony import */ var _edit_actions_CreatePolycloud__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../edit-actions/CreatePolycloud */ \"./extensions/Markup/core/edit-actions/CreatePolycloud.js\");\n/* harmony import */ var _edit_actions_SetPolycloud__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../edit-actions/SetPolycloud */ \"./extensions/Markup/core/edit-actions/SetPolycloud.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n/* harmony import */ var _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../MarkupsCoreUtils */ \"./extensions/Markup/core/MarkupsCoreUtils.js\");\n\n\n\n\n\n\n\n\n\nvar SNAP_RANGE = 25;\n\n/**\n *\n * @param editor\n * @constructor\n */\nfunction EditModePolycloud(editor) {\n\n  var styleAttributes = ['stroke-width', 'stroke-color', 'stroke-opacity', 'fill-color', 'fill-opacity'];\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.call(this, editor, _MarkupTypes__WEBPACK_IMPORTED_MODULE_4__.MARKUP_TYPE_POLYCLOUD, styleAttributes);\n\n  this.creationMethod = this.CREATION_METHOD_CLICKS;\n  this.movements = [];\n}\n\nEditModePolycloud.prototype = Object.create(_EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype);\nEditModePolycloud.prototype.constructor = EditModePolycloud;\n\nvar proto = EditModePolycloud.prototype;\n\nproto.deleteMarkup = function (markup, cantUndo) {\n\n  markup = markup || this.selectedMarkup;\n  if (markup && markup.type == this.type) {\n    var movements = this.movements;\n    if (this.creating && movements.length >= 2) {\n      movements.pop();\n      movements.pop();\n      var lastIndex = movements.length - 1;\n      if (lastIndex >= 0) {\n        // duplicate last location\n        var lastMove = movements[lastIndex];\n        movements.push(lastMove);\n        var locations = setPositionAndSize(movements, this);\n        var setPolycloud = new _edit_actions_SetPolycloud__WEBPACK_IMPORTED_MODULE_3__.SetPolycloud(\n          this.editor,\n          markup,\n          this.position,\n          this.size,\n          locations);\n\n        setPolycloud.execute();\n      }\n    } else\n    {\n      var deletePolycloud = new _edit_actions_DeletePolycloud__WEBPACK_IMPORTED_MODULE_1__.DeletePolycloud(this.editor, markup);\n      deletePolycloud.addToHistory = !cantUndo;\n      deletePolycloud.execute();\n      this.creationEnd();\n      return true;\n    }\n  }\n  return false;\n};\n\n/**\n * Handler to mouse move events, used to create markups.\n * @param {MouseEvent} event Mouse event.\n * @private\n */\nproto.onMouseMove = function (event) {\n\n  if (!_EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.onMouseMove.call(this, event)) {\n    return false;\n  }\n\n  var selectedMarkup = this.selectedMarkup;\n\n  var editor = this.editor;\n\n  this.dragging = true;\n\n  var movements = this.movements;\n  movements.splice(movements.length - 1, 1);\n\n  var mousePosition = editor.getMousePosition();\n  mousePosition = editor.clientToMarkups(mousePosition.x, mousePosition.y);\n\n  // Close polycloud if user clicks close to initial point.\n  if (movements.length >= 2 &&\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_5__.areMarkupsPointsInClientRange)(movements[0], mousePosition, SNAP_RANGE, this.editor)) {\n    mousePosition = movements[0]; // Snap!\n  }\n\n  movements.push(mousePosition);\n\n  var locations = setPositionAndSize(movements, this);\n  var setPolycloud = new _edit_actions_SetPolycloud__WEBPACK_IMPORTED_MODULE_3__.SetPolycloud(\n    editor,\n    selectedMarkup,\n    this.position,\n    this.size,\n    locations);\n\n  setPolycloud.execute();\n  return true;\n};\n\n/**\n * Handler to mouse down events, used to start markups creation.\n * @private\n */\nproto.onMouseDown = function () {\n\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.onMouseDown.call(this);\n\n  // User selected an already created markup.\n  if (this.selectedMarkup && !this.creating) {\n    return;\n  }\n\n  if (this.creating) {\n    return;\n  }\n\n  // Creation process.\n  var editor = this.editor;\n  var mousePosition = editor.getMousePosition();\n\n  mousePosition = editor.clientToMarkups(mousePosition.x, mousePosition.y);\n\n  var size = this.size = editor.sizeFromClientToMarkups(1, 1);\n  this.movements = [mousePosition, mousePosition];\n\n  editor.beginActionGroup();\n\n  var markupId = editor.getId();\n  var create = new _edit_actions_CreatePolycloud__WEBPACK_IMPORTED_MODULE_2__.CreatePolycloud(\n    editor,\n    markupId,\n    mousePosition,\n    size,\n    0,\n    [{ x: 0, y: 0 }],\n    this.style);\n\n  create.execute();\n\n  this.selectedMarkup = editor.getMarkup(markupId);\n  this.creationBegin();\n};\n\n/**\n * Handler to mouse down events, used to start markups creation.\n * @private\n */\nproto.onMouseUp = function (event) {\n\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.onMouseUp.call(this);\n\n  if (!this.creating) {\n    return;\n  }\n\n  this.dragging = false;\n\n  // Creation process.\n  var editor = this.editor;\n  var mousePosition = editor.getMousePosition();\n  var movements = this.movements;\n  var closed = false;\n\n  mousePosition = editor.clientToMarkups(mousePosition.x, mousePosition.y);\n\n  if (movements.length > 1 &&\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_5__.areMarkupsPointsInClientRange)(movements[movements.length - 2], mousePosition, SNAP_RANGE, this.editor)) {\n    return;\n  }\n\n  // Close polycloud if user clicks close to initial point.\n  if (movements.length > 2 &&\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_5__.areMarkupsPointsInClientRange)(movements[0], mousePosition, SNAP_RANGE, this.editor)) {\n    mousePosition = movements[0]; // Snap!\n    closed = true;\n  }\n\n  movements.splice(movements.length - 1, 1);\n\n  if (!closed) {\n    movements.push(mousePosition);\n    movements.push(mousePosition);\n  }\n\n  var polycloud = this.selectedMarkup;\n  var locations = setPositionAndSize(movements, polycloud);\n  var setPolycloud = new _edit_actions_SetPolycloud__WEBPACK_IMPORTED_MODULE_3__.SetPolycloud(\n    editor,\n    polycloud,\n    polycloud.position,\n    polycloud.size,\n    locations,\n    closed);\n\n  setPolycloud.execute();\n\n  if (closed) {\n    this.creationEnd();\n  }\n};\n\nproto.onMouseDoubleClick = function (event) {\n\n  if (!this.creating) {\n    return;\n  }\n\n  var movements = this.movements;\n  movements.splice(Math.max(0, movements.length - 1));\n\n  if (movements.length < 2) {\n\n    this.creationCancel();\n  } else {\n\n    var polycloud = this.selectedMarkup;\n    var locations = setPositionAndSize(movements, polycloud);\n    var setPolycloud = new _edit_actions_SetPolycloud__WEBPACK_IMPORTED_MODULE_3__.SetPolycloud(\n      this.editor,\n      polycloud,\n      polycloud.position,\n      polycloud.size,\n      locations,\n      true);\n\n    setPolycloud.execute();\n    this.creationEnd();\n  }\n};\n\nproto.destroy = function () {\n  this.onMouseDoubleClick();\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.creationEnd.call(this);\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.destroy.call(this);\n};\n\nproto.creationEnd = function () {\n\n  // To pass isMinSizeValid,\n  // probably that test should be done with the markup size (not the recorded by the edit mode).\n  if (this.selectedMarkup) {\n    this.size.x = this.selectedMarkup.size.x;\n    this.size.y = this.selectedMarkup.size.y;\n  }\n\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.creationEnd.call(this);\n\n  this.closed = false;\n  this.movements = [];\n  this.dragging = false;\n  this.creating = false;\n};\n\nproto.creationCancel = function () {\n\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.creationCancel.call(this);\n\n  this.closed = false;\n  this.movements = [];\n  this.dragging = false;\n  this.creating = false;\n};\n\nfunction setPositionAndSize(locations, markup) {\n\n  // determine the position of the top-left and bottom-right points\n  var minFn = function (collection, key) {\n    var targets = collection.map(function (item) {\n      return item[key];\n    });\n    return Math.min.apply(null, targets);\n  };\n\n  var maxFn = function (collection, key) {\n    var targets = collection.map(function (item) {\n      return item[key];\n    });\n    return Math.max.apply(null, targets);\n  };\n\n  var strokeWidth = markup.style['stroke-width'];\n  var radius = strokeWidth * 2 + strokeWidth * 0.5;\n\n  var l = minFn(locations, 'x') - radius;\n  var t = minFn(locations, 'y') - radius;\n  var r = maxFn(locations, 'x') + radius;\n  var b = maxFn(locations, 'y') + radius;\n  var w = r - l;\n  var h = b - t;\n\n  markup.size = { x: w, y: h };\n  markup.position = { x: l + w * 0.5, y: t + h * 0.5 };\n\n  // Adjust points to relate from the shape's center\n  var position = markup.position;\n  return locations.map(function (point) {\n    return {\n      x: point.x - position.x,\n      y: point.y - position.y\n    };\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtbW9kZXMvRWRpdE1vZGVQb2x5Y2xvdWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFhOztBQUV5QjtBQUM0QjtBQUNBO0FBQ047QUFDZDtBQUNzQjs7QUFFaEUsSUFBSU0sVUFBVSxHQUFHLEVBQUU7O0FBRW5CO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTQyxpQkFBaUJBLENBQUNDLE1BQU0sRUFBRTs7RUFFdEMsSUFBSUMsZUFBZSxHQUFHLENBQUMsY0FBYyxFQUFFLGNBQWMsRUFBQyxnQkFBZ0IsRUFBRSxZQUFZLEVBQUUsY0FBYyxDQUFDO0VBQ3JHVCwrQ0FBUSxDQUFDVSxJQUFJLENBQUMsSUFBSSxFQUFFRixNQUFNLEVBQUVKLCtEQUFpQyxFQUFFSyxlQUFlLENBQUM7O0VBRS9FLElBQUksQ0FBQ0csY0FBYyxHQUFHLElBQUksQ0FBQ0Msc0JBQXNCO0VBQ2pELElBQUksQ0FBQ0MsU0FBUyxHQUFHLEVBQUU7QUFDdkI7O0FBRUFQLGlCQUFpQixDQUFDUSxTQUFTLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDakIsK0NBQVEsQ0FBQ2UsU0FBUyxDQUFDO0FBQy9EUixpQkFBaUIsQ0FBQ1EsU0FBUyxDQUFDRyxXQUFXLEdBQUdYLGlCQUFpQjs7QUFFM0QsSUFBSVksS0FBSyxHQUFHWixpQkFBaUIsQ0FBQ1EsU0FBUzs7QUFFdkNJLEtBQUssQ0FBQ0MsWUFBWSxHQUFHLFVBQVNDLE1BQU0sRUFBRUMsUUFBUSxFQUFFOztFQUU1Q0QsTUFBTSxHQUFHQSxNQUFNLElBQUksSUFBSSxDQUFDRSxjQUFjO0VBQ3RDLElBQUlGLE1BQU0sSUFBSUEsTUFBTSxDQUFDRyxJQUFJLElBQUksSUFBSSxDQUFDQSxJQUFJLEVBQUU7SUFDcEMsSUFBSVYsU0FBUyxHQUFHLElBQUksQ0FBQ0EsU0FBUztJQUM5QixJQUFJLElBQUksQ0FBQ1csUUFBUSxJQUFJWCxTQUFTLENBQUNZLE1BQU0sSUFBSSxDQUFDLEVBQUU7TUFDeENaLFNBQVMsQ0FBQ2EsR0FBRyxDQUFDLENBQUM7TUFDZmIsU0FBUyxDQUFDYSxHQUFHLENBQUMsQ0FBQztNQUNmLElBQUlDLFNBQVMsR0FBR2QsU0FBUyxDQUFDWSxNQUFNLEdBQUcsQ0FBQztNQUNwQyxJQUFJRSxTQUFTLElBQUksQ0FBQyxFQUFFO1FBQ2hCO1FBQ0EsSUFBSUMsUUFBUSxHQUFHZixTQUFTLENBQUNjLFNBQVMsQ0FBQztRQUNuQ2QsU0FBUyxDQUFDZ0IsSUFBSSxDQUFDRCxRQUFRLENBQUM7UUFDeEIsSUFBSUUsU0FBUyxHQUFHQyxrQkFBa0IsQ0FBQ2xCLFNBQVMsRUFBRSxJQUFJLENBQUM7UUFDbkQsSUFBSW1CLFlBQVksR0FBRyxJQUFJOUIsb0VBQVk7VUFDL0IsSUFBSSxDQUFDSyxNQUFNO1VBQ1hhLE1BQU07VUFDTixJQUFJLENBQUNhLFFBQVE7VUFDYixJQUFJLENBQUNDLElBQUk7VUFDVEosU0FBUyxDQUFDOztRQUVkRSxZQUFZLENBQUNHLE9BQU8sQ0FBQyxDQUFDO01BQzFCO0lBQ0osQ0FBQztJQUNJO01BQ0QsSUFBSUMsZUFBZSxHQUFHLElBQUlwQywwRUFBZSxDQUFDLElBQUksQ0FBQ08sTUFBTSxFQUFFYSxNQUFNLENBQUM7TUFDOURnQixlQUFlLENBQUNDLFlBQVksR0FBRyxDQUFDaEIsUUFBUTtNQUN4Q2UsZUFBZSxDQUFDRCxPQUFPLENBQUMsQ0FBQztNQUN6QixJQUFJLENBQUNHLFdBQVcsQ0FBQyxDQUFDO01BQ2xCLE9BQU8sSUFBSTtJQUNmO0VBQ0o7RUFDQSxPQUFPLEtBQUs7QUFDaEIsQ0FBQzs7QUFFRDtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0lwQixLQUFLLENBQUNxQixXQUFXLEdBQUcsVUFBU0MsS0FBSyxFQUFFOztFQUVoQyxJQUFJLENBQUN6QywrQ0FBUSxDQUFDZSxTQUFTLENBQUN5QixXQUFXLENBQUM5QixJQUFJLENBQUUsSUFBSSxFQUFFK0IsS0FBTSxDQUFDLEVBQUU7SUFDckQsT0FBTyxLQUFLO0VBQ2hCOztFQUVBLElBQUlsQixjQUFjLEdBQUcsSUFBSSxDQUFDQSxjQUFjOztFQUV4QyxJQUFJZixNQUFNLEdBQUcsSUFBSSxDQUFDQSxNQUFNOztFQUV4QixJQUFJLENBQUNrQyxRQUFRLEdBQUcsSUFBSTs7RUFFcEIsSUFBSTVCLFNBQVMsR0FBRyxJQUFJLENBQUNBLFNBQVM7RUFDOUJBLFNBQVMsQ0FBQzZCLE1BQU0sQ0FBQzdCLFNBQVMsQ0FBQ1ksTUFBTSxHQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7O0VBRXZDLElBQUlrQixhQUFhLEdBQUdwQyxNQUFNLENBQUNxQyxnQkFBZ0IsQ0FBQyxDQUFDO0VBQzdDRCxhQUFhLEdBQUdwQyxNQUFNLENBQUNzQyxlQUFlLENBQUNGLGFBQWEsQ0FBQ0csQ0FBQyxFQUFFSCxhQUFhLENBQUNJLENBQUMsQ0FBQzs7RUFFeEU7RUFDQSxJQUFJbEMsU0FBUyxDQUFDWSxNQUFNLElBQUksQ0FBQztFQUNyQnJCLGdGQUE2QixDQUFDUyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUU4QixhQUFhLEVBQUV0QyxVQUFVLEVBQUUsSUFBSSxDQUFDRSxNQUFNLENBQUMsRUFBRTtJQUNyRm9DLGFBQWEsR0FBRzlCLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0VBQ2xDOztFQUVBQSxTQUFTLENBQUNnQixJQUFJLENBQUNjLGFBQWEsQ0FBQzs7RUFFN0IsSUFBSWIsU0FBUyxHQUFHQyxrQkFBa0IsQ0FBQ2xCLFNBQVMsRUFBRSxJQUFJLENBQUM7RUFDbkQsSUFBSW1CLFlBQVksR0FBRyxJQUFJOUIsb0VBQVk7SUFDL0JLLE1BQU07SUFDTmUsY0FBYztJQUNkLElBQUksQ0FBQ1csUUFBUTtJQUNiLElBQUksQ0FBQ0MsSUFBSTtJQUNUSixTQUFTLENBQUM7O0VBRWRFLFlBQVksQ0FBQ0csT0FBTyxDQUFDLENBQUM7RUFDdEIsT0FBTyxJQUFJO0FBQ2YsQ0FBQzs7QUFFRDtBQUNKO0FBQ0E7QUFDQTtBQUNJakIsS0FBSyxDQUFDOEIsV0FBVyxHQUFHLFlBQVc7O0VBRTNCakQsK0NBQVEsQ0FBQ2UsU0FBUyxDQUFDa0MsV0FBVyxDQUFDdkMsSUFBSSxDQUFDLElBQUksQ0FBQzs7RUFFekM7RUFDQSxJQUFJLElBQUksQ0FBQ2EsY0FBYyxJQUFJLENBQUMsSUFBSSxDQUFDRSxRQUFRLEVBQUU7SUFDdkM7RUFDSjs7RUFFQSxJQUFJLElBQUksQ0FBQ0EsUUFBUSxFQUFFO0lBQ2Y7RUFDSjs7RUFFQTtFQUNBLElBQUlqQixNQUFNLEdBQUcsSUFBSSxDQUFDQSxNQUFNO0VBQ3hCLElBQUlvQyxhQUFhLEdBQUdwQyxNQUFNLENBQUNxQyxnQkFBZ0IsQ0FBQyxDQUFDOztFQUU3Q0QsYUFBYSxHQUFHcEMsTUFBTSxDQUFDc0MsZUFBZSxDQUFDRixhQUFhLENBQUNHLENBQUMsRUFBRUgsYUFBYSxDQUFDSSxDQUFDLENBQUM7O0VBRXhFLElBQUliLElBQUksR0FBRyxJQUFJLENBQUNBLElBQUksR0FBRzNCLE1BQU0sQ0FBQzBDLHVCQUF1QixDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7RUFDM0QsSUFBSSxDQUFDcEMsU0FBUyxHQUFHLENBQUM4QixhQUFhLEVBQUVBLGFBQWEsQ0FBQzs7RUFFL0NwQyxNQUFNLENBQUMyQyxnQkFBZ0IsQ0FBQyxDQUFDOztFQUV6QixJQUFJQyxRQUFRLEdBQUc1QyxNQUFNLENBQUM2QyxLQUFLLENBQUMsQ0FBQztFQUM3QixJQUFJcEMsTUFBTSxHQUFHLElBQUlmLDBFQUFlO0lBQzVCTSxNQUFNO0lBQ040QyxRQUFRO0lBQ1JSLGFBQWE7SUFDYlQsSUFBSTtJQUNKLENBQUM7SUFDRCxDQUFDLEVBQUNZLENBQUMsRUFBRSxDQUFDLEVBQUVDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2YsSUFBSSxDQUFDTSxLQUFLLENBQUM7O0VBRWZyQyxNQUFNLENBQUNtQixPQUFPLENBQUMsQ0FBQzs7RUFFaEIsSUFBSSxDQUFDYixjQUFjLEdBQUdmLE1BQU0sQ0FBQytDLFNBQVMsQ0FBQ0gsUUFBUSxDQUFDO0VBQ2hELElBQUksQ0FBQ0ksYUFBYSxDQUFDLENBQUM7QUFDeEIsQ0FBQzs7QUFFRDtBQUNKO0FBQ0E7QUFDQTtBQUNJckMsS0FBSyxDQUFDc0MsU0FBUyxHQUFHLFVBQVNoQixLQUFLLEVBQUU7O0VBRTlCekMsK0NBQVEsQ0FBQ2UsU0FBUyxDQUFDMEMsU0FBUyxDQUFDL0MsSUFBSSxDQUFDLElBQUksQ0FBQzs7RUFFdkMsSUFBRyxDQUFDLElBQUksQ0FBQ2UsUUFBUSxFQUFFO0lBQ2Y7RUFDSjs7RUFFQSxJQUFJLENBQUNpQixRQUFRLEdBQUcsS0FBSzs7RUFFckI7RUFDQSxJQUFJbEMsTUFBTSxHQUFHLElBQUksQ0FBQ0EsTUFBTTtFQUN4QixJQUFJb0MsYUFBYSxHQUFHcEMsTUFBTSxDQUFDcUMsZ0JBQWdCLENBQUMsQ0FBQztFQUM3QyxJQUFJL0IsU0FBUyxHQUFHLElBQUksQ0FBQ0EsU0FBUztFQUM5QixJQUFJNEMsTUFBTSxHQUFHLEtBQUs7O0VBRWxCZCxhQUFhLEdBQUdwQyxNQUFNLENBQUNzQyxlQUFlLENBQUNGLGFBQWEsQ0FBQ0csQ0FBQyxFQUFFSCxhQUFhLENBQUNJLENBQUMsQ0FBQzs7RUFFeEUsSUFBSWxDLFNBQVMsQ0FBQ1ksTUFBTSxHQUFHLENBQUM7RUFDcEJyQixnRkFBNkIsQ0FBQ1MsU0FBUyxDQUFDQSxTQUFTLENBQUNZLE1BQU0sR0FBQyxDQUFDLENBQUMsRUFBRWtCLGFBQWEsRUFBRXRDLFVBQVUsRUFBRSxJQUFJLENBQUNFLE1BQU0sQ0FBQyxFQUFFO0lBQ3RHO0VBQ0o7O0VBRUE7RUFDQSxJQUFJTSxTQUFTLENBQUNZLE1BQU0sR0FBRyxDQUFDO0VBQ3BCckIsZ0ZBQTZCLENBQUNTLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRThCLGFBQWEsRUFBRXRDLFVBQVUsRUFBRSxJQUFJLENBQUNFLE1BQU0sQ0FBQyxFQUFFO0lBQ3JGb0MsYUFBYSxHQUFHOUIsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDOUI0QyxNQUFNLEdBQUcsSUFBSTtFQUNqQjs7RUFFQTVDLFNBQVMsQ0FBQzZCLE1BQU0sQ0FBQzdCLFNBQVMsQ0FBQ1ksTUFBTSxHQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7O0VBRXZDLElBQUksQ0FBQ2dDLE1BQU0sRUFBRTtJQUNUNUMsU0FBUyxDQUFDZ0IsSUFBSSxDQUFDYyxhQUFhLENBQUM7SUFDN0I5QixTQUFTLENBQUNnQixJQUFJLENBQUNjLGFBQWEsQ0FBQztFQUNqQzs7RUFFQSxJQUFJZSxTQUFTLEdBQUcsSUFBSSxDQUFDcEMsY0FBYztFQUNuQyxJQUFJUSxTQUFTLEdBQUdDLGtCQUFrQixDQUFDbEIsU0FBUyxFQUFFNkMsU0FBUyxDQUFDO0VBQ3hELElBQUkxQixZQUFZLEdBQUcsSUFBSTlCLG9FQUFZO0lBQy9CSyxNQUFNO0lBQ05tRCxTQUFTO0lBQ1RBLFNBQVMsQ0FBQ3pCLFFBQVE7SUFDbEJ5QixTQUFTLENBQUN4QixJQUFJO0lBQ2RKLFNBQVM7SUFDVDJCLE1BQU0sQ0FBQzs7RUFFWHpCLFlBQVksQ0FBQ0csT0FBTyxDQUFDLENBQUM7O0VBRXRCLElBQUlzQixNQUFNLEVBQUU7SUFDUixJQUFJLENBQUNuQixXQUFXLENBQUMsQ0FBQztFQUN0QjtBQUNKLENBQUM7O0FBRURwQixLQUFLLENBQUN5QyxrQkFBa0IsR0FBRyxVQUFTbkIsS0FBSyxFQUFFOztFQUV2QyxJQUFHLENBQUMsSUFBSSxDQUFDaEIsUUFBUSxFQUFFO0lBQ2Y7RUFDSjs7RUFFQSxJQUFJWCxTQUFTLEdBQUcsSUFBSSxDQUFDQSxTQUFTO0VBQzlCQSxTQUFTLENBQUM2QixNQUFNLENBQUNrQixJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEVBQUVoRCxTQUFTLENBQUNZLE1BQU0sR0FBQyxDQUFDLENBQUMsQ0FBQzs7RUFFakQsSUFBSVosU0FBUyxDQUFDWSxNQUFNLEdBQUcsQ0FBQyxFQUFHOztJQUV2QixJQUFJLENBQUNxQyxjQUFjLENBQUMsQ0FBQztFQUN6QixDQUFDLE1BQU07O0lBRUgsSUFBSUosU0FBUyxHQUFHLElBQUksQ0FBQ3BDLGNBQWM7SUFDbkMsSUFBSVEsU0FBUyxHQUFHQyxrQkFBa0IsQ0FBQ2xCLFNBQVMsRUFBRTZDLFNBQVMsQ0FBQztJQUN4RCxJQUFJMUIsWUFBWSxHQUFHLElBQUk5QixvRUFBWTtNQUMvQixJQUFJLENBQUNLLE1BQU07TUFDWG1ELFNBQVM7TUFDVEEsU0FBUyxDQUFDekIsUUFBUTtNQUNsQnlCLFNBQVMsQ0FBQ3hCLElBQUk7TUFDZEosU0FBUztNQUNULElBQUksQ0FBQzs7SUFFVEUsWUFBWSxDQUFDRyxPQUFPLENBQUMsQ0FBQztJQUN0QixJQUFJLENBQUNHLFdBQVcsQ0FBQyxDQUFDO0VBQ3RCO0FBQ0osQ0FBQzs7QUFFRHBCLEtBQUssQ0FBQzZDLE9BQU8sR0FBRyxZQUFXO0VBQ3ZCLElBQUksQ0FBQ0osa0JBQWtCLENBQUMsQ0FBQztFQUN6QjVELCtDQUFRLENBQUNlLFNBQVMsQ0FBQ3dCLFdBQVcsQ0FBQzdCLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDekNWLCtDQUFRLENBQUNlLFNBQVMsQ0FBQ2lELE9BQU8sQ0FBQ3RELElBQUksQ0FBQyxJQUFJLENBQUM7QUFDekMsQ0FBQzs7QUFFRFMsS0FBSyxDQUFDb0IsV0FBVyxHQUFHLFlBQVc7O0VBRTNCO0VBQ0E7RUFDQSxJQUFJLElBQUksQ0FBQ2hCLGNBQWMsRUFBRTtJQUNyQixJQUFJLENBQUNZLElBQUksQ0FBQ1ksQ0FBQyxHQUFHLElBQUksQ0FBQ3hCLGNBQWMsQ0FBQ1ksSUFBSSxDQUFDWSxDQUFDO0lBQ3hDLElBQUksQ0FBQ1osSUFBSSxDQUFDYSxDQUFDLEdBQUcsSUFBSSxDQUFDekIsY0FBYyxDQUFDWSxJQUFJLENBQUNhLENBQUM7RUFDNUM7O0VBRUFoRCwrQ0FBUSxDQUFDZSxTQUFTLENBQUN3QixXQUFXLENBQUM3QixJQUFJLENBQUMsSUFBSSxDQUFDOztFQUV6QyxJQUFJLENBQUNnRCxNQUFNLEdBQUcsS0FBSztFQUNuQixJQUFJLENBQUM1QyxTQUFTLEdBQUcsRUFBRTtFQUNuQixJQUFJLENBQUM0QixRQUFRLEdBQUcsS0FBSztFQUNyQixJQUFJLENBQUNqQixRQUFRLEdBQUcsS0FBSztBQUN6QixDQUFDOztBQUVETixLQUFLLENBQUM0QyxjQUFjLEdBQUcsWUFBVzs7RUFFOUIvRCwrQ0FBUSxDQUFDZSxTQUFTLENBQUNnRCxjQUFjLENBQUNyRCxJQUFJLENBQUMsSUFBSSxDQUFDOztFQUU1QyxJQUFJLENBQUNnRCxNQUFNLEdBQUcsS0FBSztFQUNuQixJQUFJLENBQUM1QyxTQUFTLEdBQUcsRUFBRTtFQUNuQixJQUFJLENBQUM0QixRQUFRLEdBQUcsS0FBSztFQUNyQixJQUFJLENBQUNqQixRQUFRLEdBQUcsS0FBSztBQUN6QixDQUFDOztBQUVELFNBQVNPLGtCQUFrQkEsQ0FBQ0QsU0FBUyxFQUFFVixNQUFNLEVBQUU7O0VBRTNDO0VBQ0EsSUFBSTRDLEtBQUssR0FBRyxTQUFBQSxDQUFTQyxVQUFVLEVBQUVDLEdBQUcsRUFBQztJQUNqQyxJQUFJQyxPQUFPLEdBQUdGLFVBQVUsQ0FBQ0csR0FBRyxDQUFDLFVBQVNDLElBQUksRUFBQztNQUN2QyxPQUFPQSxJQUFJLENBQUNILEdBQUcsQ0FBQztJQUNwQixDQUFDLENBQUM7SUFDRixPQUFPTixJQUFJLENBQUNVLEdBQUcsQ0FBQ0MsS0FBSyxDQUFDLElBQUksRUFBRUosT0FBTyxDQUFDO0VBQ3hDLENBQUM7O0VBRUQsSUFBSUssS0FBSyxHQUFHLFNBQUFBLENBQVNQLFVBQVUsRUFBRUMsR0FBRyxFQUFDO0lBQ2pDLElBQUlDLE9BQU8sR0FBR0YsVUFBVSxDQUFDRyxHQUFHLENBQUMsVUFBU0MsSUFBSSxFQUFDO01BQ3ZDLE9BQU9BLElBQUksQ0FBQ0gsR0FBRyxDQUFDO0lBQ3BCLENBQUMsQ0FBQztJQUNGLE9BQU9OLElBQUksQ0FBQ0MsR0FBRyxDQUFDVSxLQUFLLENBQUMsSUFBSSxFQUFFSixPQUFPLENBQUM7RUFDeEMsQ0FBQzs7RUFFRCxJQUFJTSxXQUFXLEdBQUdyRCxNQUFNLENBQUNpQyxLQUFLLENBQUMsY0FBYyxDQUFDO0VBQzlDLElBQUlxQixNQUFNLEdBQUdELFdBQVcsR0FBRyxDQUFDLEdBQUdBLFdBQVcsR0FBRyxHQUFHOztFQUVoRCxJQUFJRSxDQUFDLEdBQUdYLEtBQUssQ0FBQ2xDLFNBQVMsRUFBRSxHQUFHLENBQUMsR0FBRzRDLE1BQU07RUFDdEMsSUFBSUUsQ0FBQyxHQUFHWixLQUFLLENBQUNsQyxTQUFTLEVBQUUsR0FBRyxDQUFDLEdBQUc0QyxNQUFNO0VBQ3RDLElBQUlHLENBQUMsR0FBR0wsS0FBSyxDQUFDMUMsU0FBUyxFQUFFLEdBQUcsQ0FBQyxHQUFHNEMsTUFBTTtFQUN0QyxJQUFJSSxDQUFDLEdBQUdOLEtBQUssQ0FBQzFDLFNBQVMsRUFBRSxHQUFHLENBQUMsR0FBRzRDLE1BQU07RUFDdEMsSUFBSUssQ0FBQyxHQUFHRixDQUFDLEdBQUdGLENBQUM7RUFDYixJQUFJSyxDQUFDLEdBQUdGLENBQUMsR0FBR0YsQ0FBQzs7RUFFYnhELE1BQU0sQ0FBQ2MsSUFBSSxHQUFHLEVBQUNZLENBQUMsRUFBRWlDLENBQUMsRUFBRWhDLENBQUMsRUFBRWlDLENBQUMsRUFBQztFQUMxQjVELE1BQU0sQ0FBQ2EsUUFBUSxHQUFHLEVBQUNhLENBQUMsRUFBRTZCLENBQUMsR0FBR0ksQ0FBQyxHQUFHLEdBQUcsRUFBRWhDLENBQUMsRUFBRTZCLENBQUMsR0FBR0ksQ0FBQyxHQUFHLEdBQUcsRUFBQzs7RUFFbEQ7RUFDQSxJQUFJL0MsUUFBUSxHQUFHYixNQUFNLENBQUNhLFFBQVE7RUFDOUIsT0FBT0gsU0FBUyxDQUFDc0MsR0FBRyxDQUFDLFVBQVNhLEtBQUssRUFBQztJQUNoQyxPQUFPO01BQ0huQyxDQUFDLEVBQUVtQyxLQUFLLENBQUNuQyxDQUFDLEdBQUdiLFFBQVEsQ0FBQ2EsQ0FBQztNQUN2QkMsQ0FBQyxFQUFFa0MsS0FBSyxDQUFDbEMsQ0FBQyxHQUFHZCxRQUFRLENBQUNjO0lBQzFCLENBQUM7RUFDTCxDQUFDLENBQUM7QUFDTiIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtbW9kZXMvRWRpdE1vZGVQb2x5Y2xvdWQuanM/OGVkMiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IEVkaXRNb2RlIH0gZnJvbSAnLi9FZGl0TW9kZSc7XG5pbXBvcnQgeyBEZWxldGVQb2x5Y2xvdWQgfSBmcm9tICcuLi9lZGl0LWFjdGlvbnMvRGVsZXRlUG9seWNsb3VkJztcbmltcG9ydCB7IENyZWF0ZVBvbHljbG91ZCB9IGZyb20gJy4uL2VkaXQtYWN0aW9ucy9DcmVhdGVQb2x5Y2xvdWQnO1xuaW1wb3J0IHsgU2V0UG9seWNsb3VkIH0gZnJvbSAnLi4vZWRpdC1hY3Rpb25zL1NldFBvbHljbG91ZCc7XG5pbXBvcnQgKiBhcyBNYXJrdXBUeXBlcyBmcm9tICcuLi9NYXJrdXBUeXBlcyc7XG5pbXBvcnQgeyBhcmVNYXJrdXBzUG9pbnRzSW5DbGllbnRSYW5nZSB9IGZyb20gJy4uL01hcmt1cHNDb3JlVXRpbHMnO1xuXG4gICAgdmFyIFNOQVBfUkFOR0UgPSAyNTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGVkaXRvclxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBFZGl0TW9kZVBvbHljbG91ZChlZGl0b3IpIHtcblxuICAgICAgICB2YXIgc3R5bGVBdHRyaWJ1dGVzID0gWydzdHJva2Utd2lkdGgnLCAnc3Ryb2tlLWNvbG9yJywnc3Ryb2tlLW9wYWNpdHknLCAnZmlsbC1jb2xvcicsICdmaWxsLW9wYWNpdHknXTtcbiAgICAgICAgRWRpdE1vZGUuY2FsbCh0aGlzLCBlZGl0b3IsIE1hcmt1cFR5cGVzLk1BUktVUF9UWVBFX1BPTFlDTE9VRCwgc3R5bGVBdHRyaWJ1dGVzKTtcblxuICAgICAgICB0aGlzLmNyZWF0aW9uTWV0aG9kID0gdGhpcy5DUkVBVElPTl9NRVRIT0RfQ0xJQ0tTO1xuICAgICAgICB0aGlzLm1vdmVtZW50cyA9IFtdO1xuICAgIH1cblxuICAgIEVkaXRNb2RlUG9seWNsb3VkLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRWRpdE1vZGUucHJvdG90eXBlKTtcbiAgICBFZGl0TW9kZVBvbHljbG91ZC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBFZGl0TW9kZVBvbHljbG91ZDtcblxuICAgIHZhciBwcm90byA9IEVkaXRNb2RlUG9seWNsb3VkLnByb3RvdHlwZTtcblxuICAgIHByb3RvLmRlbGV0ZU1hcmt1cCA9IGZ1bmN0aW9uKG1hcmt1cCwgY2FudFVuZG8pIHtcblxuICAgICAgICBtYXJrdXAgPSBtYXJrdXAgfHwgdGhpcy5zZWxlY3RlZE1hcmt1cDtcbiAgICAgICAgaWYgKG1hcmt1cCAmJiBtYXJrdXAudHlwZSA9PSB0aGlzLnR5cGUpIHtcbiAgICAgICAgICAgIHZhciBtb3ZlbWVudHMgPSB0aGlzLm1vdmVtZW50cztcbiAgICAgICAgICAgIGlmICh0aGlzLmNyZWF0aW5nICYmIG1vdmVtZW50cy5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgICAgIG1vdmVtZW50cy5wb3AoKTtcbiAgICAgICAgICAgICAgICBtb3ZlbWVudHMucG9wKCk7XG4gICAgICAgICAgICAgICAgdmFyIGxhc3RJbmRleCA9IG1vdmVtZW50cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0SW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBkdXBsaWNhdGUgbGFzdCBsb2NhdGlvblxuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdE1vdmUgPSBtb3ZlbWVudHNbbGFzdEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgbW92ZW1lbnRzLnB1c2gobGFzdE1vdmUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb25zID0gc2V0UG9zaXRpb25BbmRTaXplKG1vdmVtZW50cywgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZXRQb2x5Y2xvdWQgPSBuZXcgU2V0UG9seWNsb3VkKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrdXAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25zKTtcblxuICAgICAgICAgICAgICAgICAgICBzZXRQb2x5Y2xvdWQuZXhlY3V0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBkZWxldGVQb2x5Y2xvdWQgPSBuZXcgRGVsZXRlUG9seWNsb3VkKHRoaXMuZWRpdG9yLCBtYXJrdXApO1xuICAgICAgICAgICAgICAgIGRlbGV0ZVBvbHljbG91ZC5hZGRUb0hpc3RvcnkgPSAhY2FudFVuZG87XG4gICAgICAgICAgICAgICAgZGVsZXRlUG9seWNsb3VkLmV4ZWN1dGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0aW9uRW5kKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVyIHRvIG1vdXNlIG1vdmUgZXZlbnRzLCB1c2VkIHRvIGNyZWF0ZSBtYXJrdXBzLlxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgTW91c2UgZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcm90by5vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgaWYgKCFFZGl0TW9kZS5wcm90b3R5cGUub25Nb3VzZU1vdmUuY2FsbCggdGhpcywgZXZlbnQgKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlbGVjdGVkTWFya3VwID0gdGhpcy5zZWxlY3RlZE1hcmt1cDtcblxuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG5cbiAgICAgICAgdGhpcy5kcmFnZ2luZyA9IHRydWU7XG5cbiAgICAgICAgdmFyIG1vdmVtZW50cyA9IHRoaXMubW92ZW1lbnRzO1xuICAgICAgICBtb3ZlbWVudHMuc3BsaWNlKG1vdmVtZW50cy5sZW5ndGgtMSwgMSk7XG5cbiAgICAgICAgdmFyIG1vdXNlUG9zaXRpb24gPSBlZGl0b3IuZ2V0TW91c2VQb3NpdGlvbigpO1xuICAgICAgICBtb3VzZVBvc2l0aW9uID0gZWRpdG9yLmNsaWVudFRvTWFya3Vwcyhtb3VzZVBvc2l0aW9uLngsIG1vdXNlUG9zaXRpb24ueSk7XG5cbiAgICAgICAgLy8gQ2xvc2UgcG9seWNsb3VkIGlmIHVzZXIgY2xpY2tzIGNsb3NlIHRvIGluaXRpYWwgcG9pbnQuXG4gICAgICAgIGlmIChtb3ZlbWVudHMubGVuZ3RoID49IDIgJiZcbiAgICAgICAgICAgIGFyZU1hcmt1cHNQb2ludHNJbkNsaWVudFJhbmdlKG1vdmVtZW50c1swXSwgbW91c2VQb3NpdGlvbiwgU05BUF9SQU5HRSwgdGhpcy5lZGl0b3IpKSB7XG4gICAgICAgICAgICBtb3VzZVBvc2l0aW9uID0gbW92ZW1lbnRzWzBdOyAvLyBTbmFwIVxuICAgICAgICB9XG5cbiAgICAgICAgbW92ZW1lbnRzLnB1c2gobW91c2VQb3NpdGlvbik7XG5cbiAgICAgICAgdmFyIGxvY2F0aW9ucyA9IHNldFBvc2l0aW9uQW5kU2l6ZShtb3ZlbWVudHMsIHRoaXMpO1xuICAgICAgICB2YXIgc2V0UG9seWNsb3VkID0gbmV3IFNldFBvbHljbG91ZChcbiAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgIHNlbGVjdGVkTWFya3VwLFxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbixcbiAgICAgICAgICAgIHRoaXMuc2l6ZSxcbiAgICAgICAgICAgIGxvY2F0aW9ucyk7XG5cbiAgICAgICAgc2V0UG9seWNsb3VkLmV4ZWN1dGUoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXIgdG8gbW91c2UgZG93biBldmVudHMsIHVzZWQgdG8gc3RhcnQgbWFya3VwcyBjcmVhdGlvbi5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByb3RvLm9uTW91c2VEb3duID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgRWRpdE1vZGUucHJvdG90eXBlLm9uTW91c2VEb3duLmNhbGwodGhpcyk7XG5cbiAgICAgICAgLy8gVXNlciBzZWxlY3RlZCBhbiBhbHJlYWR5IGNyZWF0ZWQgbWFya3VwLlxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE1hcmt1cCAmJiAhdGhpcy5jcmVhdGluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY3JlYXRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0aW9uIHByb2Nlc3MuXG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICAgICAgdmFyIG1vdXNlUG9zaXRpb24gPSBlZGl0b3IuZ2V0TW91c2VQb3NpdGlvbigpO1xuXG4gICAgICAgIG1vdXNlUG9zaXRpb24gPSBlZGl0b3IuY2xpZW50VG9NYXJrdXBzKG1vdXNlUG9zaXRpb24ueCwgbW91c2VQb3NpdGlvbi55KTtcblxuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZSA9IGVkaXRvci5zaXplRnJvbUNsaWVudFRvTWFya3VwcygxLCAxKTtcbiAgICAgICAgdGhpcy5tb3ZlbWVudHMgPSBbbW91c2VQb3NpdGlvbiwgbW91c2VQb3NpdGlvbl07XG5cbiAgICAgICAgZWRpdG9yLmJlZ2luQWN0aW9uR3JvdXAoKTtcblxuICAgICAgICB2YXIgbWFya3VwSWQgPSBlZGl0b3IuZ2V0SWQoKTtcbiAgICAgICAgdmFyIGNyZWF0ZSA9IG5ldyBDcmVhdGVQb2x5Y2xvdWQoXG4gICAgICAgICAgICBlZGl0b3IsXG4gICAgICAgICAgICBtYXJrdXBJZCxcbiAgICAgICAgICAgIG1vdXNlUG9zaXRpb24sXG4gICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIFt7eDogMCwgeTogMCB9XSxcbiAgICAgICAgICAgIHRoaXMuc3R5bGUpO1xuXG4gICAgICAgIGNyZWF0ZS5leGVjdXRlKCk7XG5cbiAgICAgICAgdGhpcy5zZWxlY3RlZE1hcmt1cCA9IGVkaXRvci5nZXRNYXJrdXAobWFya3VwSWQpO1xuICAgICAgICB0aGlzLmNyZWF0aW9uQmVnaW4oKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlciB0byBtb3VzZSBkb3duIGV2ZW50cywgdXNlZCB0byBzdGFydCBtYXJrdXBzIGNyZWF0aW9uLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJvdG8ub25Nb3VzZVVwID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICBFZGl0TW9kZS5wcm90b3R5cGUub25Nb3VzZVVwLmNhbGwodGhpcyk7XG5cbiAgICAgICAgaWYoIXRoaXMuY3JlYXRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcblxuICAgICAgICAvLyBDcmVhdGlvbiBwcm9jZXNzLlxuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgIHZhciBtb3VzZVBvc2l0aW9uID0gZWRpdG9yLmdldE1vdXNlUG9zaXRpb24oKTtcbiAgICAgICAgdmFyIG1vdmVtZW50cyA9IHRoaXMubW92ZW1lbnRzO1xuICAgICAgICB2YXIgY2xvc2VkID0gZmFsc2U7XG5cbiAgICAgICAgbW91c2VQb3NpdGlvbiA9IGVkaXRvci5jbGllbnRUb01hcmt1cHMobW91c2VQb3NpdGlvbi54LCBtb3VzZVBvc2l0aW9uLnkpO1xuXG4gICAgICAgIGlmIChtb3ZlbWVudHMubGVuZ3RoID4gMSAmJlxuICAgICAgICAgICAgYXJlTWFya3Vwc1BvaW50c0luQ2xpZW50UmFuZ2UobW92ZW1lbnRzW21vdmVtZW50cy5sZW5ndGgtMl0sIG1vdXNlUG9zaXRpb24sIFNOQVBfUkFOR0UsIHRoaXMuZWRpdG9yKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2xvc2UgcG9seWNsb3VkIGlmIHVzZXIgY2xpY2tzIGNsb3NlIHRvIGluaXRpYWwgcG9pbnQuXG4gICAgICAgIGlmIChtb3ZlbWVudHMubGVuZ3RoID4gMiAmJlxuICAgICAgICAgICAgYXJlTWFya3Vwc1BvaW50c0luQ2xpZW50UmFuZ2UobW92ZW1lbnRzWzBdLCBtb3VzZVBvc2l0aW9uLCBTTkFQX1JBTkdFLCB0aGlzLmVkaXRvcikpIHtcbiAgICAgICAgICAgIG1vdXNlUG9zaXRpb24gPSBtb3ZlbWVudHNbMF07IC8vIFNuYXAhXG4gICAgICAgICAgICBjbG9zZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbW92ZW1lbnRzLnNwbGljZShtb3ZlbWVudHMubGVuZ3RoLTEsIDEpO1xuXG4gICAgICAgIGlmICghY2xvc2VkKSB7XG4gICAgICAgICAgICBtb3ZlbWVudHMucHVzaChtb3VzZVBvc2l0aW9uKTtcbiAgICAgICAgICAgIG1vdmVtZW50cy5wdXNoKG1vdXNlUG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBvbHljbG91ZCA9IHRoaXMuc2VsZWN0ZWRNYXJrdXA7XG4gICAgICAgIHZhciBsb2NhdGlvbnMgPSBzZXRQb3NpdGlvbkFuZFNpemUobW92ZW1lbnRzLCBwb2x5Y2xvdWQpO1xuICAgICAgICB2YXIgc2V0UG9seWNsb3VkID0gbmV3IFNldFBvbHljbG91ZChcbiAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgIHBvbHljbG91ZCxcbiAgICAgICAgICAgIHBvbHljbG91ZC5wb3NpdGlvbixcbiAgICAgICAgICAgIHBvbHljbG91ZC5zaXplLFxuICAgICAgICAgICAgbG9jYXRpb25zLFxuICAgICAgICAgICAgY2xvc2VkKTtcblxuICAgICAgICBzZXRQb2x5Y2xvdWQuZXhlY3V0ZSgpO1xuXG4gICAgICAgIGlmIChjbG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRpb25FbmQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwcm90by5vbk1vdXNlRG91YmxlQ2xpY2sgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIGlmKCF0aGlzLmNyZWF0aW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbW92ZW1lbnRzID0gdGhpcy5tb3ZlbWVudHM7XG4gICAgICAgIG1vdmVtZW50cy5zcGxpY2UoTWF0aC5tYXgoMCwgbW92ZW1lbnRzLmxlbmd0aC0xKSk7XG5cbiAgICAgICAgaWYgKG1vdmVtZW50cy5sZW5ndGggPCAyICkge1xuXG4gICAgICAgICAgICB0aGlzLmNyZWF0aW9uQ2FuY2VsKCk7XG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHZhciBwb2x5Y2xvdWQgPSB0aGlzLnNlbGVjdGVkTWFya3VwO1xuICAgICAgICAgICAgdmFyIGxvY2F0aW9ucyA9IHNldFBvc2l0aW9uQW5kU2l6ZShtb3ZlbWVudHMsIHBvbHljbG91ZCk7XG4gICAgICAgICAgICB2YXIgc2V0UG9seWNsb3VkID0gbmV3IFNldFBvbHljbG91ZChcbiAgICAgICAgICAgICAgICB0aGlzLmVkaXRvcixcbiAgICAgICAgICAgICAgICBwb2x5Y2xvdWQsXG4gICAgICAgICAgICAgICAgcG9seWNsb3VkLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIHBvbHljbG91ZC5zaXplLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9ucyxcbiAgICAgICAgICAgICAgICB0cnVlKTtcblxuICAgICAgICAgICAgc2V0UG9seWNsb3VkLmV4ZWN1dGUoKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRpb25FbmQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwcm90by5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMub25Nb3VzZURvdWJsZUNsaWNrKCk7XG4gICAgICAgIEVkaXRNb2RlLnByb3RvdHlwZS5jcmVhdGlvbkVuZC5jYWxsKHRoaXMpO1xuICAgICAgICBFZGl0TW9kZS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICBwcm90by5jcmVhdGlvbkVuZCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIC8vIFRvIHBhc3MgaXNNaW5TaXplVmFsaWQsXG4gICAgICAgIC8vIHByb2JhYmx5IHRoYXQgdGVzdCBzaG91bGQgYmUgZG9uZSB3aXRoIHRoZSBtYXJrdXAgc2l6ZSAobm90IHRoZSByZWNvcmRlZCBieSB0aGUgZWRpdCBtb2RlKS5cbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRNYXJrdXApIHtcbiAgICAgICAgICAgIHRoaXMuc2l6ZS54ID0gdGhpcy5zZWxlY3RlZE1hcmt1cC5zaXplLng7XG4gICAgICAgICAgICB0aGlzLnNpemUueSA9IHRoaXMuc2VsZWN0ZWRNYXJrdXAuc2l6ZS55O1xuICAgICAgICB9XG5cbiAgICAgICAgRWRpdE1vZGUucHJvdG90eXBlLmNyZWF0aW9uRW5kLmNhbGwodGhpcyk7XG5cbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tb3ZlbWVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNyZWF0aW5nID0gZmFsc2U7XG4gICAgfTtcblxuICAgIHByb3RvLmNyZWF0aW9uQ2FuY2VsID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgRWRpdE1vZGUucHJvdG90eXBlLmNyZWF0aW9uQ2FuY2VsLmNhbGwodGhpcyk7XG5cbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tb3ZlbWVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNyZWF0aW5nID0gZmFsc2U7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHNldFBvc2l0aW9uQW5kU2l6ZShsb2NhdGlvbnMsIG1hcmt1cCkge1xuXG4gICAgICAgIC8vIGRldGVybWluZSB0aGUgcG9zaXRpb24gb2YgdGhlIHRvcC1sZWZ0IGFuZCBib3R0b20tcmlnaHQgcG9pbnRzXG4gICAgICAgIHZhciBtaW5GbiA9IGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGtleSl7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0cyA9IGNvbGxlY3Rpb24ubWFwKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtW2tleV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbi5hcHBseShudWxsLCB0YXJnZXRzKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgbWF4Rm4gPSBmdW5jdGlvbihjb2xsZWN0aW9uLCBrZXkpe1xuICAgICAgICAgICAgdmFyIHRhcmdldHMgPSBjb2xsZWN0aW9uLm1hcChmdW5jdGlvbihpdGVtKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbVtrZXldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkobnVsbCwgdGFyZ2V0cyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHN0cm9rZVdpZHRoID0gbWFya3VwLnN0eWxlWydzdHJva2Utd2lkdGgnXTtcbiAgICAgICAgdmFyIHJhZGl1cyA9IHN0cm9rZVdpZHRoICogMiArIHN0cm9rZVdpZHRoICogMC41O1xuXG4gICAgICAgIHZhciBsID0gbWluRm4obG9jYXRpb25zLCAneCcpIC0gcmFkaXVzO1xuICAgICAgICB2YXIgdCA9IG1pbkZuKGxvY2F0aW9ucywgJ3knKSAtIHJhZGl1cztcbiAgICAgICAgdmFyIHIgPSBtYXhGbihsb2NhdGlvbnMsICd4JykgKyByYWRpdXM7XG4gICAgICAgIHZhciBiID0gbWF4Rm4obG9jYXRpb25zLCAneScpICsgcmFkaXVzO1xuICAgICAgICB2YXIgdyA9IHIgLSBsO1xuICAgICAgICB2YXIgaCA9IGIgLSB0O1xuXG4gICAgICAgIG1hcmt1cC5zaXplID0ge3g6IHcsIHk6IGh9O1xuICAgICAgICBtYXJrdXAucG9zaXRpb24gPSB7eDogbCArIHcgKiAwLjUsIHk6IHQgKyBoICogMC41fTtcblxuICAgICAgICAvLyBBZGp1c3QgcG9pbnRzIHRvIHJlbGF0ZSBmcm9tIHRoZSBzaGFwZSdzIGNlbnRlclxuICAgICAgICB2YXIgcG9zaXRpb24gPSBtYXJrdXAucG9zaXRpb247XG4gICAgICAgIHJldHVybiBsb2NhdGlvbnMubWFwKGZ1bmN0aW9uKHBvaW50KXtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgeDogcG9pbnQueCAtIHBvc2l0aW9uLngsXG4gICAgICAgICAgICAgICAgeTogcG9pbnQueSAtIHBvc2l0aW9uLnlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cbiJdLCJuYW1lcyI6WyJFZGl0TW9kZSIsIkRlbGV0ZVBvbHljbG91ZCIsIkNyZWF0ZVBvbHljbG91ZCIsIlNldFBvbHljbG91ZCIsIk1hcmt1cFR5cGVzIiwiYXJlTWFya3Vwc1BvaW50c0luQ2xpZW50UmFuZ2UiLCJTTkFQX1JBTkdFIiwiRWRpdE1vZGVQb2x5Y2xvdWQiLCJlZGl0b3IiLCJzdHlsZUF0dHJpYnV0ZXMiLCJjYWxsIiwiTUFSS1VQX1RZUEVfUE9MWUNMT1VEIiwiY3JlYXRpb25NZXRob2QiLCJDUkVBVElPTl9NRVRIT0RfQ0xJQ0tTIiwibW92ZW1lbnRzIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJwcm90byIsImRlbGV0ZU1hcmt1cCIsIm1hcmt1cCIsImNhbnRVbmRvIiwic2VsZWN0ZWRNYXJrdXAiLCJ0eXBlIiwiY3JlYXRpbmciLCJsZW5ndGgiLCJwb3AiLCJsYXN0SW5kZXgiLCJsYXN0TW92ZSIsInB1c2giLCJsb2NhdGlvbnMiLCJzZXRQb3NpdGlvbkFuZFNpemUiLCJzZXRQb2x5Y2xvdWQiLCJwb3NpdGlvbiIsInNpemUiLCJleGVjdXRlIiwiZGVsZXRlUG9seWNsb3VkIiwiYWRkVG9IaXN0b3J5IiwiY3JlYXRpb25FbmQiLCJvbk1vdXNlTW92ZSIsImV2ZW50IiwiZHJhZ2dpbmciLCJzcGxpY2UiLCJtb3VzZVBvc2l0aW9uIiwiZ2V0TW91c2VQb3NpdGlvbiIsImNsaWVudFRvTWFya3VwcyIsIngiLCJ5Iiwib25Nb3VzZURvd24iLCJzaXplRnJvbUNsaWVudFRvTWFya3VwcyIsImJlZ2luQWN0aW9uR3JvdXAiLCJtYXJrdXBJZCIsImdldElkIiwic3R5bGUiLCJnZXRNYXJrdXAiLCJjcmVhdGlvbkJlZ2luIiwib25Nb3VzZVVwIiwiY2xvc2VkIiwicG9seWNsb3VkIiwib25Nb3VzZURvdWJsZUNsaWNrIiwiTWF0aCIsIm1heCIsImNyZWF0aW9uQ2FuY2VsIiwiZGVzdHJveSIsIm1pbkZuIiwiY29sbGVjdGlvbiIsImtleSIsInRhcmdldHMiLCJtYXAiLCJpdGVtIiwibWluIiwiYXBwbHkiLCJtYXhGbiIsInN0cm9rZVdpZHRoIiwicmFkaXVzIiwibCIsInQiLCJyIiwiYiIsInciLCJoIiwicG9pbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-modes/EditModePolycloud.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-modes/EditModePolyline.js":
/*!***************************************************************!*\
  !*** ./extensions/Markup/core/edit-modes/EditModePolyline.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditModePolyline: () => (/* binding */ EditModePolyline)\n/* harmony export */ });\n/* harmony import */ var _EditMode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditMode */ \"./extensions/Markup/core/edit-modes/EditMode.js\");\n/* harmony import */ var _edit_actions_DeletePolyline__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../edit-actions/DeletePolyline */ \"./extensions/Markup/core/edit-actions/DeletePolyline.js\");\n/* harmony import */ var _edit_actions_CreatePolyline__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../edit-actions/CreatePolyline */ \"./extensions/Markup/core/edit-actions/CreatePolyline.js\");\n/* harmony import */ var _edit_actions_SetPolyline__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../edit-actions/SetPolyline */ \"./extensions/Markup/core/edit-actions/SetPolyline.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n/* harmony import */ var _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../MarkupsCoreUtils */ \"./extensions/Markup/core/MarkupsCoreUtils.js\");\n\n\n\n\n\n\n\n\n\nvar SNAP_RANGE = 25;\n\n/**\n *\n * @param editor\n * @constructor\n */\nfunction EditModePolyline(editor) {\n\n  var styleAttributes = ['stroke-width', 'stroke-color', 'stroke-opacity', 'fill-color', 'fill-opacity'];\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.call(this, editor, _MarkupTypes__WEBPACK_IMPORTED_MODULE_4__.MARKUP_TYPE_POLYLINE, styleAttributes);\n\n  this.creationMethod = this.CREATION_METHOD_CLICKS;\n  this.movements = [];\n}\n\nEditModePolyline.prototype = Object.create(_EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype);\nEditModePolyline.prototype.constructor = EditModePolyline;\n\nvar proto = EditModePolyline.prototype;\n\nproto.deleteMarkup = function (markup, cantUndo) {\n\n  markup = markup || this.selectedMarkup;\n  if (markup && markup.type == this.type) {\n    var movements = this.movements;\n    if (this.creating && movements.length >= 2) {\n      movements.pop();\n      movements.pop();\n      var lastIndex = movements.length - 1;\n      if (lastIndex >= 0) {\n        // duplicate last location\n        var lastMove = movements[lastIndex];\n        movements.push(lastMove);\n        var locations = setPositionAndSize(movements, this);\n        var setPolyline = new _edit_actions_SetPolyline__WEBPACK_IMPORTED_MODULE_3__.SetPolyline(\n          this.editor,\n          markup,\n          this.position,\n          this.size,\n          locations);\n\n        setPolyline.execute();\n      }\n    } else\n    {\n      var deletePolyline = new _edit_actions_DeletePolyline__WEBPACK_IMPORTED_MODULE_1__.DeletePolyline(this.editor, markup);\n      deletePolyline.addToHistory = !cantUndo;\n      deletePolyline.execute();\n      this.creationEnd();\n      return true;\n    }\n  }\n  return false;\n};\n\n/**\n * Handler to mouse move events, used to create markups.\n * @param {MouseEvent} event Mouse event.\n * @private\n */\nproto.onMouseMove = function (event) {\n\n  if (!_EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.onMouseMove.call(this, event)) {\n    return false;\n  }\n\n  var selectedMarkup = this.selectedMarkup;\n\n  var editor = this.editor;\n\n  this.dragging = true;\n\n  var movements = this.movements;\n  movements.splice(movements.length - 1, 1);\n\n  var mousePosition = editor.getMousePosition();\n  mousePosition = editor.clientToMarkups(mousePosition.x, mousePosition.y);\n\n  // Close polyline if user clicks close to initial point.\n  if (movements.length >= 2 &&\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_5__.areMarkupsPointsInClientRange)(movements[0], mousePosition, SNAP_RANGE, this.editor)) {\n    mousePosition = movements[0]; // Snap!\n  }\n\n  movements.push(mousePosition);\n\n  var locations = setPositionAndSize(movements, this);\n  var setPolyline = new _edit_actions_SetPolyline__WEBPACK_IMPORTED_MODULE_3__.SetPolyline(\n    editor,\n    selectedMarkup,\n    this.position,\n    this.size,\n    locations);\n\n  setPolyline.execute();\n  return true;\n};\n\n/**\n * Handler to mouse down events, used to start markups creation.\n * @private\n */\nproto.onMouseDown = function (event) {\n\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.onMouseDown.call(this);\n\n  // User selected an already created markup.\n  if (this.selectedMarkup && !this.creating) {\n    return;\n  }\n\n  if (this.creating) {\n    return;\n  }\n\n  // Creation process.\n  var editor = this.editor;\n  var mousePosition = editor.getMousePosition();\n\n  mousePosition = editor.clientToMarkups(mousePosition.x, mousePosition.y);\n\n  var size = this.size = editor.sizeFromClientToMarkups(1, 1);\n  this.movements = [mousePosition, mousePosition];\n\n  editor.beginActionGroup();\n\n  var markupId = editor.getId();\n  var create = new _edit_actions_CreatePolyline__WEBPACK_IMPORTED_MODULE_2__.CreatePolyline(\n    editor,\n    markupId,\n    mousePosition,\n    size,\n    0,\n    [{ x: 0, y: 0 }],\n    this.style);\n\n  create.execute();\n\n  this.selectedMarkup = editor.getMarkup(markupId);\n  this.creationBegin();\n};\n\n/**\n * Handler to mouse down events, used to start markups creation.\n * @private\n */\nproto.onMouseUp = function () {\n\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.onMouseUp.call(this);\n\n  if (!this.creating) {\n    return;\n  }\n\n  this.dragging = false;\n\n  // Creation process.\n  var editor = this.editor;\n  var mousePosition = editor.getMousePosition();\n  var movements = this.movements;\n  var closed = false;\n\n  mousePosition = editor.clientToMarkups(mousePosition.x, mousePosition.y);\n\n  if (movements.length > 1 &&\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_5__.areMarkupsPointsInClientRange)(movements[movements.length - 2], mousePosition, SNAP_RANGE, this.editor)) {\n    return;\n  }\n\n  // Close polyline if user clicks close to initial point.\n  if (movements.length > 2 &&\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_5__.areMarkupsPointsInClientRange)(movements[0], mousePosition, SNAP_RANGE, this.editor)) {\n    mousePosition = movements[0]; // Snap!\n    closed = true;\n  }\n\n  movements.splice(movements.length - 1, 1);\n\n  if (!closed) {\n    movements.push(mousePosition);\n    movements.push(mousePosition);\n  }\n\n  var polyline = this.selectedMarkup;\n  var locations = setPositionAndSize(movements, polyline);\n  var setPolyline = new _edit_actions_SetPolyline__WEBPACK_IMPORTED_MODULE_3__.SetPolyline(\n    editor,\n    polyline,\n    polyline.position,\n    polyline.size,\n    locations,\n    closed);\n\n  setPolyline.execute();\n\n  if (closed) {\n    this.creationEnd();\n  }\n};\n\nproto.destroy = function () {\n  this.onMouseDoubleClick();\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.creationEnd.call(this);\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.destroy.call(this);\n};\n\nproto.creationEnd = function () {\n\n  // To pass isMinSizeValid,\n  // probably that test should be done with the markup size (not the recorded by the edit mode).\n  if (this.selectedMarkup) {\n    this.size.x = this.selectedMarkup.size.x;\n    this.size.y = this.selectedMarkup.size.y;\n  }\n\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.creationEnd.call(this);\n\n  this.closed = false;\n  this.movements = [];\n  this.dragging = false;\n  this.creating = false;\n};\n\nproto.creationCancel = function () {\n\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.creationCancel.call(this);\n\n  this.closed = false;\n  this.movements = [];\n  this.dragging = false;\n  this.creating = false;\n};\n\n\nproto.onMouseDoubleClick = function (event) {\n\n  if (!this.creating) {\n    return;\n  }\n\n  var movements = this.movements;\n  movements.splice(Math.max(0, movements.length - 1));\n\n  if (movements.length < 2) {\n\n    this.creationCancel();\n  } else {\n\n    var polyline = this.selectedMarkup;\n    var locations = setPositionAndSize(movements, polyline);\n    var setPolyline = new _edit_actions_SetPolyline__WEBPACK_IMPORTED_MODULE_3__.SetPolyline(\n      this.editor,\n      polyline,\n      polyline.position,\n      polyline.size,\n      locations,\n      this.closed);\n\n    setPolyline.execute();\n    this.creationEnd();\n  }\n};\n\nfunction setPositionAndSize(locations, markup) {\n\n  // determine the position of the top-left and bottom-right points\n  var minFn = function (collection, key) {\n    var targets = collection.map(function (item) {\n      return item[key];\n    });\n    return Math.min.apply(null, targets);\n  };\n\n  var maxFn = function (collection, key) {\n    var targets = collection.map(function (item) {\n      return item[key];\n    });\n    return Math.max.apply(null, targets);\n  };\n\n  var l = minFn(locations, 'x');\n  var t = minFn(locations, 'y');\n  var r = maxFn(locations, 'x');\n  var b = maxFn(locations, 'y');\n  var w = r - l;\n  var h = b - t;\n\n  markup.size = { x: w, y: h };\n  markup.position = { x: l + w * 0.5, y: t + h * 0.5 };\n\n  // Adjust points to relate from the shape's center\n  var position = markup.position;\n  return locations.map(function (point) {\n    return {\n      x: point.x - position.x,\n      y: point.y - position.y\n    };\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtbW9kZXMvRWRpdE1vZGVQb2x5bGluZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWE7O0FBRXlCO0FBQzBCO0FBQ0E7QUFDTjtBQUNaO0FBQ3NCOztBQUVoRSxJQUFJTSxVQUFVLEdBQUcsRUFBRTs7QUFFbkI7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNXLFNBQVNDLGdCQUFnQkEsQ0FBQ0MsTUFBTSxFQUFFOztFQUVyQyxJQUFJQyxlQUFlLEdBQUcsQ0FBQyxjQUFjLEVBQUUsY0FBYyxFQUFDLGdCQUFnQixFQUFFLFlBQVksRUFBRSxjQUFjLENBQUM7RUFDckdULCtDQUFRLENBQUNVLElBQUksQ0FBQyxJQUFJLEVBQUVGLE1BQU0sRUFBRUosOERBQWdDLEVBQUVLLGVBQWUsQ0FBQzs7RUFFOUUsSUFBSSxDQUFDRyxjQUFjLEdBQUcsSUFBSSxDQUFDQyxzQkFBc0I7RUFDakQsSUFBSSxDQUFDQyxTQUFTLEdBQUcsRUFBRTtBQUN2Qjs7QUFFQVAsZ0JBQWdCLENBQUNRLFNBQVMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUNqQiwrQ0FBUSxDQUFDZSxTQUFTLENBQUM7QUFDOURSLGdCQUFnQixDQUFDUSxTQUFTLENBQUNHLFdBQVcsR0FBR1gsZ0JBQWdCOztBQUV6RCxJQUFJWSxLQUFLLEdBQUdaLGdCQUFnQixDQUFDUSxTQUFTOztBQUV0Q0ksS0FBSyxDQUFDQyxZQUFZLEdBQUcsVUFBU0MsTUFBTSxFQUFFQyxRQUFRLEVBQUU7O0VBRTVDRCxNQUFNLEdBQUdBLE1BQU0sSUFBSSxJQUFJLENBQUNFLGNBQWM7RUFDdEMsSUFBSUYsTUFBTSxJQUFJQSxNQUFNLENBQUNHLElBQUksSUFBSSxJQUFJLENBQUNBLElBQUksRUFBRTtJQUNwQyxJQUFJVixTQUFTLEdBQUcsSUFBSSxDQUFDQSxTQUFTO0lBQzlCLElBQUksSUFBSSxDQUFDVyxRQUFRLElBQUlYLFNBQVMsQ0FBQ1ksTUFBTSxJQUFJLENBQUMsRUFB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QUFDLEdBQUdILEtBQUssQ0FBQzFDLFNBQVMsRUFBRSxHQUFHLENBQUM7RUFDN0IsSUFBSThDLENBQUMsR0FBR0osS0FBSyxDQUFDMUMsU0FBUyxFQUFFLEdBQUcsQ0FBQztFQUM3QixJQUFJK0MsQ0FBQyxHQUFHRixDQUFDLEdBQUdGLENBQUM7RUFDYixJQUFJSyxDQUFDLEdBQUdGLENBQUMsR0FBR0YsQ0FBQzs7RUFFYnRELE1BQU0sQ0FBQ2MsSUFBSSxHQUFHLEVBQUNZLENBQUMsRUFBRStCLENBQUMsRUFBRTlCLENBQUMsRUFBRStCLENBQUMsRUFBQztFQUMxQjFELE1BQU0sQ0FBQ2EsUUFBUSxHQUFHLEVBQUNhLENBQUMsRUFBRTJCLENBQUMsR0FBR0ksQ0FBQyxHQUFHLEdBQUcsRUFBRTlCLENBQUMsRUFBRTJCLENBQUMsR0FBR0ksQ0FBQyxHQUFHLEdBQUcsRUFBQzs7RUFFbEQ7RUFDQSxJQUFJN0MsUUFBUSxHQUFHYixNQUFNLENBQUNhLFFBQVE7RUFDOUIsT0FBT0gsU0FBUyxDQUFDc0MsR0FBRyxDQUFDLFVBQVNXLEtBQUssRUFBQztJQUNoQyxPQUFPO01BQ0hqQyxDQUFDLEVBQUVpQyxLQUFLLENBQUNqQyxDQUFDLEdBQUdiLFFBQVEsQ0FBQ2EsQ0FBQztNQUN2QkMsQ0FBQyxFQUFFZ0MsS0FBSyxDQUFDaEMsQ0FBQyxHQUFHZCxRQUFRLENBQUNjO0lBQzFCLENBQUM7RUFDTCxDQUFDLENBQUM7QUFDTiIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtbW9kZXMvRWRpdE1vZGVQb2x5bGluZS5qcz9iN2Q4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRWRpdE1vZGUgfSBmcm9tICcuL0VkaXRNb2RlJztcbmltcG9ydCB7IERlbGV0ZVBvbHlsaW5lIH0gZnJvbSAnLi4vZWRpdC1hY3Rpb25zL0RlbGV0ZVBvbHlsaW5lJztcbmltcG9ydCB7IENyZWF0ZVBvbHlsaW5lIH0gZnJvbSAnLi4vZWRpdC1hY3Rpb25zL0NyZWF0ZVBvbHlsaW5lJztcbmltcG9ydCB7IFNldFBvbHlsaW5lIH0gZnJvbSAnLi4vZWRpdC1hY3Rpb25zL1NldFBvbHlsaW5lJztcbmltcG9ydCAqIGFzIE1hcmt1cFR5cGVzIGZyb20gJy4uL01hcmt1cFR5cGVzJztcbmltcG9ydCB7IGFyZU1hcmt1cHNQb2ludHNJbkNsaWVudFJhbmdlIH0gZnJvbSAnLi4vTWFya3Vwc0NvcmVVdGlscyc7XG5cbiAgICB2YXIgU05BUF9SQU5HRSA9IDI1O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWRpdG9yXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIEVkaXRNb2RlUG9seWxpbmUoZWRpdG9yKSB7XG5cbiAgICAgICAgdmFyIHN0eWxlQXR0cmlidXRlcyA9IFsnc3Ryb2tlLXdpZHRoJywgJ3N0cm9rZS1jb2xvcicsJ3N0cm9rZS1vcGFjaXR5JywgJ2ZpbGwtY29sb3InLCAnZmlsbC1vcGFjaXR5J107XG4gICAgICAgIEVkaXRNb2RlLmNhbGwodGhpcywgZWRpdG9yLCBNYXJrdXBUeXBlcy5NQVJLVVBfVFlQRV9QT0xZTElORSwgc3R5bGVBdHRyaWJ1dGVzKTtcblxuICAgICAgICB0aGlzLmNyZWF0aW9uTWV0aG9kID0gdGhpcy5DUkVBVElPTl9NRVRIT0RfQ0xJQ0tTO1xuICAgICAgICB0aGlzLm1vdmVtZW50cyA9IFtdO1xuICAgIH1cblxuICAgIEVkaXRNb2RlUG9seWxpbmUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFZGl0TW9kZS5wcm90b3R5cGUpO1xuICAgIEVkaXRNb2RlUG9seWxpbmUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRWRpdE1vZGVQb2x5bGluZTtcblxuICAgIHZhciBwcm90byA9IEVkaXRNb2RlUG9seWxpbmUucHJvdG90eXBlO1xuXG4gICAgcHJvdG8uZGVsZXRlTWFya3VwID0gZnVuY3Rpb24obWFya3VwLCBjYW50VW5kbykge1xuXG4gICAgICAgIG1hcmt1cCA9IG1hcmt1cCB8fCB0aGlzLnNlbGVjdGVkTWFya3VwO1xuICAgICAgICBpZiAobWFya3VwICYmIG1hcmt1cC50eXBlID09IHRoaXMudHlwZSkge1xuICAgICAgICAgICAgdmFyIG1vdmVtZW50cyA9IHRoaXMubW92ZW1lbnRzO1xuICAgICAgICAgICAgaWYgKHRoaXMuY3JlYXRpbmcgJiYgbW92ZW1lbnRzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgICAgICAgbW92ZW1lbnRzLnBvcCgpO1xuICAgICAgICAgICAgICAgIG1vdmVtZW50cy5wb3AoKTtcbiAgICAgICAgICAgICAgICB2YXIgbGFzdEluZGV4ID0gbW92ZW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGR1cGxpY2F0ZSBsYXN0IGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXN0TW92ZSA9IG1vdmVtZW50c1tsYXN0SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBtb3ZlbWVudHMucHVzaChsYXN0TW92ZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsb2NhdGlvbnMgPSBzZXRQb3NpdGlvbkFuZFNpemUobW92ZW1lbnRzLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNldFBvbHlsaW5lID0gbmV3IFNldFBvbHlsaW5lKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrdXAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25zKTtcblxuICAgICAgICAgICAgICAgICAgICBzZXRQb2x5bGluZS5leGVjdXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlbGV0ZVBvbHlsaW5lID0gbmV3IERlbGV0ZVBvbHlsaW5lKHRoaXMuZWRpdG9yLCBtYXJrdXApO1xuICAgICAgICAgICAgICAgIGRlbGV0ZVBvbHlsaW5lLmFkZFRvSGlzdG9yeSA9ICFjYW50VW5kbztcbiAgICAgICAgICAgICAgICBkZWxldGVQb2x5bGluZS5leGVjdXRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGlvbkVuZCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlciB0byBtb3VzZSBtb3ZlIGV2ZW50cywgdXNlZCB0byBjcmVhdGUgbWFya3Vwcy5cbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IE1vdXNlIGV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJvdG8ub25Nb3VzZU1vdmUgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIGlmICghRWRpdE1vZGUucHJvdG90eXBlLm9uTW91c2VNb3ZlLmNhbGwoIHRoaXMsIGV2ZW50ICkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzZWxlY3RlZE1hcmt1cCA9IHRoaXMuc2VsZWN0ZWRNYXJrdXA7XG5cbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuXG4gICAgICAgIHRoaXMuZHJhZ2dpbmcgPSB0cnVlO1xuXG4gICAgICAgIHZhciBtb3ZlbWVudHMgPSB0aGlzLm1vdmVtZW50cztcbiAgICAgICAgbW92ZW1lbnRzLnNwbGljZShtb3ZlbWVudHMubGVuZ3RoLTEsIDEpO1xuXG4gICAgICAgIHZhciBtb3VzZVBvc2l0aW9uID0gZWRpdG9yLmdldE1vdXNlUG9zaXRpb24oKTtcbiAgICAgICAgbW91c2VQb3NpdGlvbiA9IGVkaXRvci5jbGllbnRUb01hcmt1cHMobW91c2VQb3NpdGlvbi54LCBtb3VzZVBvc2l0aW9uLnkpO1xuXG4gICAgICAgIC8vIENsb3NlIHBvbHlsaW5lIGlmIHVzZXIgY2xpY2tzIGNsb3NlIHRvIGluaXRpYWwgcG9pbnQuXG4gICAgICAgIGlmIChtb3ZlbWVudHMubGVuZ3RoID49IDIgJiZcbiAgICAgICAgICAgIGFyZU1hcmt1cHNQb2ludHNJbkNsaWVudFJhbmdlKG1vdmVtZW50c1swXSwgbW91c2VQb3NpdGlvbiwgU05BUF9SQU5HRSwgdGhpcy5lZGl0b3IpKSB7XG4gICAgICAgICAgICBtb3VzZVBvc2l0aW9uID0gbW92ZW1lbnRzWzBdOyAvLyBTbmFwIVxuICAgICAgICB9XG5cbiAgICAgICAgbW92ZW1lbnRzLnB1c2gobW91c2VQb3NpdGlvbik7XG5cbiAgICAgICAgdmFyIGxvY2F0aW9ucyA9IHNldFBvc2l0aW9uQW5kU2l6ZShtb3ZlbWVudHMsIHRoaXMpO1xuICAgICAgICB2YXIgc2V0UG9seWxpbmUgPSBuZXcgU2V0UG9seWxpbmUoXG4gICAgICAgICAgICBlZGl0b3IsXG4gICAgICAgICAgICBzZWxlY3RlZE1hcmt1cCxcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24sXG4gICAgICAgICAgICB0aGlzLnNpemUsXG4gICAgICAgICAgICBsb2NhdGlvbnMpO1xuXG4gICAgICAgIHNldFBvbHlsaW5lLmV4ZWN1dGUoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXIgdG8gbW91c2UgZG93biBldmVudHMsIHVzZWQgdG8gc3RhcnQgbWFya3VwcyBjcmVhdGlvbi5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByb3RvLm9uTW91c2VEb3duID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICBFZGl0TW9kZS5wcm90b3R5cGUub25Nb3VzZURvd24uY2FsbCh0aGlzKTtcblxuICAgICAgICAvLyBVc2VyIHNlbGVjdGVkIGFuIGFscmVhZHkgY3JlYXRlZCBtYXJrdXAuXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkTWFya3VwICYmICF0aGlzLmNyZWF0aW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jcmVhdGluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRpb24gcHJvY2Vzcy5cbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgICAgICB2YXIgbW91c2VQb3NpdGlvbiA9IGVkaXRvci5nZXRNb3VzZVBvc2l0aW9uKCk7XG5cbiAgICAgICAgbW91c2VQb3NpdGlvbiA9IGVkaXRvci5jbGllbnRUb01hcmt1cHMobW91c2VQb3NpdGlvbi54LCBtb3VzZVBvc2l0aW9uLnkpO1xuXG4gICAgICAgIHZhciBzaXplID0gdGhpcy5zaXplID0gZWRpdG9yLnNpemVGcm9tQ2xpZW50VG9NYXJrdXBzKDEsIDEpO1xuICAgICAgICB0aGlzLm1vdmVtZW50cyA9IFttb3VzZVBvc2l0aW9uLCBtb3VzZVBvc2l0aW9uXTtcblxuICAgICAgICBlZGl0b3IuYmVnaW5BY3Rpb25Hcm91cCgpO1xuXG4gICAgICAgIHZhciBtYXJrdXBJZCA9IGVkaXRvci5nZXRJZCgpO1xuICAgICAgICB2YXIgY3JlYXRlID0gbmV3IENyZWF0ZVBvbHlsaW5lKFxuICAgICAgICAgICAgZWRpdG9yLFxuICAgICAgICAgICAgbWFya3VwSWQsXG4gICAgICAgICAgICBtb3VzZVBvc2l0aW9uLFxuICAgICAgICAgICAgc2l6ZSxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBbe3g6MCwgeTowfV0sXG4gICAgICAgICAgICB0aGlzLnN0eWxlKTtcblxuICAgICAgICBjcmVhdGUuZXhlY3V0ZSgpO1xuXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRNYXJrdXAgPSBlZGl0b3IuZ2V0TWFya3VwKG1hcmt1cElkKTtcbiAgICAgICAgdGhpcy5jcmVhdGlvbkJlZ2luKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXIgdG8gbW91c2UgZG93biBldmVudHMsIHVzZWQgdG8gc3RhcnQgbWFya3VwcyBjcmVhdGlvbi5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByb3RvLm9uTW91c2VVcCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIEVkaXRNb2RlLnByb3RvdHlwZS5vbk1vdXNlVXAuY2FsbCh0aGlzKTtcblxuICAgICAgICBpZighdGhpcy5jcmVhdGluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIENyZWF0aW9uIHByb2Nlc3MuXG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICAgICAgdmFyIG1vdXNlUG9zaXRpb24gPSBlZGl0b3IuZ2V0TW91c2VQb3NpdGlvbigpO1xuICAgICAgICB2YXIgbW92ZW1lbnRzID0gdGhpcy5tb3ZlbWVudHM7XG4gICAgICAgIHZhciBjbG9zZWQgPSBmYWxzZTtcblxuICAgICAgICBtb3VzZVBvc2l0aW9uID0gZWRpdG9yLmNsaWVudFRvTWFya3Vwcyhtb3VzZVBvc2l0aW9uLngsIG1vdXNlUG9zaXRpb24ueSk7XG5cbiAgICAgICAgaWYgKG1vdmVtZW50cy5sZW5ndGggPiAxICYmXG4gICAgICAgICAgICBhcmVNYXJrdXBzUG9pbnRzSW5DbGllbnRSYW5nZShtb3ZlbWVudHNbbW92ZW1lbnRzLmxlbmd0aC0yXSwgbW91c2VQb3NpdGlvbiwgU05BUF9SQU5HRSwgdGhpcy5lZGl0b3IpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDbG9zZSBwb2x5bGluZSBpZiB1c2VyIGNsaWNrcyBjbG9zZSB0byBpbml0aWFsIHBvaW50LlxuICAgICAgICBpZiAobW92ZW1lbnRzLmxlbmd0aCA+IDIgJiZcbiAgICAgICAgICAgIGFyZU1hcmt1cHNQb2ludHNJbkNsaWVudFJhbmdlKG1vdmVtZW50c1swXSwgbW91c2VQb3NpdGlvbiwgU05BUF9SQU5HRSwgdGhpcy5lZGl0b3IpKSB7XG4gICAgICAgICAgICBtb3VzZVBvc2l0aW9uID0gbW92ZW1lbnRzWzBdOyAvLyBTbmFwIVxuICAgICAgICAgICAgY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1vdmVtZW50cy5zcGxpY2UobW92ZW1lbnRzLmxlbmd0aC0xLCAxKTtcblxuICAgICAgICBpZiAoIWNsb3NlZCkge1xuICAgICAgICAgICAgbW92ZW1lbnRzLnB1c2gobW91c2VQb3NpdGlvbik7XG4gICAgICAgICAgICBtb3ZlbWVudHMucHVzaChtb3VzZVBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwb2x5bGluZSA9IHRoaXMuc2VsZWN0ZWRNYXJrdXA7XG4gICAgICAgIHZhciBsb2NhdGlvbnMgPSBzZXRQb3NpdGlvbkFuZFNpemUobW92ZW1lbnRzLCBwb2x5bGluZSk7XG4gICAgICAgIHZhciBzZXRQb2x5bGluZSA9IG5ldyBTZXRQb2x5bGluZShcbiAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgIHBvbHlsaW5lLFxuICAgICAgICAgICAgcG9seWxpbmUucG9zaXRpb24sXG4gICAgICAgICAgICBwb2x5bGluZS5zaXplLFxuICAgICAgICAgICAgbG9jYXRpb25zLFxuICAgICAgICAgICAgY2xvc2VkKTtcblxuICAgICAgICBzZXRQb2x5bGluZS5leGVjdXRlKCk7XG5cbiAgICAgICAgaWYgKGNsb3NlZCkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGlvbkVuZCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByb3RvLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5vbk1vdXNlRG91YmxlQ2xpY2soKTtcbiAgICAgICAgRWRpdE1vZGUucHJvdG90eXBlLmNyZWF0aW9uRW5kLmNhbGwodGhpcyk7XG4gICAgICAgIEVkaXRNb2RlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgfTtcblxuICAgIHByb3RvLmNyZWF0aW9uRW5kID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgLy8gVG8gcGFzcyBpc01pblNpemVWYWxpZCxcbiAgICAgICAgLy8gcHJvYmFibHkgdGhhdCB0ZXN0IHNob3VsZCBiZSBkb25lIHdpdGggdGhlIG1hcmt1cCBzaXplIChub3QgdGhlIHJlY29yZGVkIGJ5IHRoZSBlZGl0IG1vZGUpLlxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE1hcmt1cCkge1xuICAgICAgICAgICAgdGhpcy5zaXplLnggPSB0aGlzLnNlbGVjdGVkTWFya3VwLnNpemUueDtcbiAgICAgICAgICAgIHRoaXMuc2l6ZS55ID0gdGhpcy5zZWxlY3RlZE1hcmt1cC5zaXplLnk7XG4gICAgICAgIH1cblxuICAgICAgICBFZGl0TW9kZS5wcm90b3R5cGUuY3JlYXRpb25FbmQuY2FsbCh0aGlzKTtcblxuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1vdmVtZW50cyA9IFtdO1xuICAgICAgICB0aGlzLmRyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3JlYXRpbmcgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgcHJvdG8uY3JlYXRpb25DYW5jZWwgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICBFZGl0TW9kZS5wcm90b3R5cGUuY3JlYXRpb25DYW5jZWwuY2FsbCh0aGlzKTtcblxuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1vdmVtZW50cyA9IFtdO1xuICAgICAgICB0aGlzLmRyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3JlYXRpbmcgPSBmYWxzZTtcbiAgICB9O1xuXG5cbiAgICBwcm90by5vbk1vdXNlRG91YmxlQ2xpY2sgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIGlmKCF0aGlzLmNyZWF0aW5nKSB7XG4gICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtb3ZlbWVudHMgPSB0aGlzLm1vdmVtZW50cztcbiAgICAgICAgbW92ZW1lbnRzLnNwbGljZShNYXRoLm1heCgwLCBtb3ZlbWVudHMubGVuZ3RoLTEpKTtcblxuICAgICAgICBpZiAobW92ZW1lbnRzLmxlbmd0aCA8IDIgKSB7XG5cbiAgICAgICAgICAgIHRoaXMuY3JlYXRpb25DYW5jZWwoKTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgdmFyIHBvbHlsaW5lID0gdGhpcy5zZWxlY3RlZE1hcmt1cDtcbiAgICAgICAgICAgIHZhciBsb2NhdGlvbnMgPSBzZXRQb3NpdGlvbkFuZFNpemUobW92ZW1lbnRzLCBwb2x5bGluZSk7XG4gICAgICAgICAgICB2YXIgc2V0UG9seWxpbmUgPSBuZXcgU2V0UG9seWxpbmUoXG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0b3IsXG4gICAgICAgICAgICAgICAgcG9seWxpbmUsXG4gICAgICAgICAgICAgICAgcG9seWxpbmUucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgcG9seWxpbmUuc2l6ZSxcbiAgICAgICAgICAgICAgICBsb2NhdGlvbnMsXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZWQpO1xuXG4gICAgICAgICAgICBzZXRQb2x5bGluZS5leGVjdXRlKCk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0aW9uRW5kKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc2V0UG9zaXRpb25BbmRTaXplKGxvY2F0aW9ucywgbWFya3VwKSB7XG5cbiAgICAgICAgLy8gZGV0ZXJtaW5lIHRoZSBwb3NpdGlvbiBvZiB0aGUgdG9wLWxlZnQgYW5kIGJvdHRvbS1yaWdodCBwb2ludHNcbiAgICAgICAgdmFyIG1pbkZuID0gZnVuY3Rpb24oY29sbGVjdGlvbiwga2V5KXtcbiAgICAgICAgICAgIHZhciB0YXJnZXRzID0gY29sbGVjdGlvbi5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1ba2V5XTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluLmFwcGx5KG51bGwsIHRhcmdldHMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBtYXhGbiA9IGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGtleSl7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0cyA9IGNvbGxlY3Rpb24ubWFwKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtW2tleV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heC5hcHBseShudWxsLCB0YXJnZXRzKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgbCA9IG1pbkZuKGxvY2F0aW9ucywgJ3gnKTtcbiAgICAgICAgdmFyIHQgPSBtaW5Gbihsb2NhdGlvbnMsICd5Jyk7XG4gICAgICAgIHZhciByID0gbWF4Rm4obG9jYXRpb25zLCAneCcpO1xuICAgICAgICB2YXIgYiA9IG1heEZuKGxvY2F0aW9ucywgJ3knKTtcbiAgICAgICAgdmFyIHcgPSByIC0gbDtcbiAgICAgICAgdmFyIGggPSBiIC0gdDtcblxuICAgICAgICBtYXJrdXAuc2l6ZSA9IHt4OiB3LCB5OiBofTtcbiAgICAgICAgbWFya3VwLnBvc2l0aW9uID0ge3g6IGwgKyB3ICogMC41LCB5OiB0ICsgaCAqIDAuNX07XG5cbiAgICAgICAgLy8gQWRqdXN0IHBvaW50cyB0byByZWxhdGUgZnJvbSB0aGUgc2hhcGUncyBjZW50ZXJcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gbWFya3VwLnBvc2l0aW9uO1xuICAgICAgICByZXR1cm4gbG9jYXRpb25zLm1hcChmdW5jdGlvbihwb2ludCl7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHg6IHBvaW50LnggLSBwb3NpdGlvbi54LFxuICAgICAgICAgICAgICAgIHk6IHBvaW50LnkgLSBwb3NpdGlvbi55XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiJdLCJuYW1lcyI6WyJFZGl0TW9kZSIsIkRlbGV0ZVBvbHlsaW5lIiwiQ3JlYXRlUG9seWxpbmUiLCJTZXRQb2x5bGluZSIsIk1hcmt1cFR5cGVzIiwiYXJlTWFya3Vwc1BvaW50c0luQ2xpZW50UmFuZ2UiLCJTTkFQX1JBTkdFIiwiRWRpdE1vZGVQb2x5bGluZSIsImVkaXRvciIsInN0eWxlQXR0cmlidXRlcyIsImNhbGwiLCJNQVJLVVBfVFlQRV9QT0xZTElORSIsImNyZWF0aW9uTWV0aG9kIiwiQ1JFQVRJT05fTUVUSE9EX0NMSUNLUyIsIm1vdmVtZW50cyIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwicHJvdG8iLCJkZWxldGVNYXJrdXAiLCJtYXJrdXAiLCJjYW50VW5kbyIsInNlbGVjdGVkTWFya3VwIiwidHlwZSIsImNyZWF0aW5nIiwibGVuZ3RoIiwicG9wIiwibGFzdEluZGV4IiwibGFzdE1vdmUiLCJwdXNoIiwibG9jYXRpb25zIiwic2V0UG9zaXRpb25BbmRTaXplIiwic2V0UG9seWxpbmUiLCJwb3NpdGlvbiIsInNpemUiLCJleGVjdXRlIiwiZGVsZXRlUG9seWxpbmUiLCJhZGRUb0hpc3RvcnkiLCJjcmVhdGlvbkVuZCIsIm9uTW91c2VNb3ZlIiwiZXZlbnQiLCJkcmFnZ2luZyIsInNwbGljZSIsIm1vdXNlUG9zaXRpb24iLCJnZXRNb3VzZVBvc2l0aW9uIiwiY2xpZW50VG9NYXJrdXBzIiwieCIsInkiLCJvbk1vdXNlRG93biIsInNpemVGcm9tQ2xpZW50VG9NYXJrdXBzIiwiYmVnaW5BY3Rpb25Hcm91cCIsIm1hcmt1cElkIiwiZ2V0SWQiLCJzdHlsZSIsImdldE1hcmt1cCIsImNyZWF0aW9uQmVnaW4iLCJvbk1vdXNlVXAiLCJjbG9zZWQiLCJwb2x5bGluZSIsImRlc3Ryb3kiLCJvbk1vdXNlRG91YmxlQ2xpY2siLCJjcmVhdGlvbkNhbmNlbCIsIk1hdGgiLCJtYXgiLCJtaW5GbiIsImNvbGxlY3Rpb24iLCJrZXkiLCJ0YXJnZXRzIiwibWFwIiwiaXRlbSIsIm1pbiIsImFwcGx5IiwibWF4Rm4iLCJsIiwidCIsInIiLCJiIiwidyIsImgiLCJwb2ludCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-modes/EditModePolyline.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-modes/EditModeRectangle.js":
/*!****************************************************************!*\
  !*** ./extensions/Markup/core/edit-modes/EditModeRectangle.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditModeRectangle: () => (/* binding */ EditModeRectangle)\n/* harmony export */ });\n/* harmony import */ var _EditMode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditMode */ \"./extensions/Markup/core/edit-modes/EditMode.js\");\n/* harmony import */ var _edit_actions_DeleteRectangle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../edit-actions/DeleteRectangle */ \"./extensions/Markup/core/edit-actions/DeleteRectangle.js\");\n/* harmony import */ var _edit_actions_CreateRectangle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../edit-actions/CreateRectangle */ \"./extensions/Markup/core/edit-actions/CreateRectangle.js\");\n/* harmony import */ var _edit_actions_SetRectangle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../edit-actions/SetRectangle */ \"./extensions/Markup/core/edit-actions/SetRectangle.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n\n\n\n\n\n\n\n\nvar MeasureCommon = Autodesk.Viewing.MeasureCommon;\n\n/**\n *\n * @param editor\n * @constructor\n */\nfunction EditModeRectangle(editor) {\n\n  var styleAttributes = ['stroke-width', 'stroke-color', 'stroke-opacity', 'fill-color', 'fill-opacity'];\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.call(this, editor, _MarkupTypes__WEBPACK_IMPORTED_MODULE_4__.MARKUP_TYPE_RECTANGLE, styleAttributes);\n}\n\nEditModeRectangle.prototype = Object.create(_EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype);\nEditModeRectangle.prototype.constructor = EditModeRectangle;\n\nvar proto = EditModeRectangle.prototype;\n\nproto.deleteMarkup = function (markup, cantUndo) {\n\n  markup = markup || this.selectedMarkup;\n  if (markup && markup.type == this.type) {\n    var deleteRectangle = new _edit_actions_DeleteRectangle__WEBPACK_IMPORTED_MODULE_1__.DeleteRectangle(this.editor, markup);\n    deleteRectangle.addToHistory = !cantUndo;\n    deleteRectangle.execute();\n    return true;\n  }\n  return false;\n};\n\n/**\n * Handler to mouse move events, used to create markups.\n * @param {MouseEvent} event Mouse event.\n * @private\n */\nproto.onMouseMove = function (event) {\n\n  if (!_EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.onMouseMove.call(this, event)) {\n    return false;\n  }\n\n  var selectedMarkup = this.selectedMarkup;\n\n  var editor = this.editor;\n\n  var pos = this.getFinalMouseDraggingPosition();\n  var final = editor.clientToMarkups(pos.x, pos.y);\n  var position = { x: (this.firstCorner.x + final.x) / 2, y: (this.firstCorner.y + final.y) / 2 };\n\n  var width, height;\n  // Snap to parallel/perpendicular of underlying vectors\n  if (editor.snapper && this.lineSnapped) {\n    var start = editor.project(this.lineSnapped.vertices[0]);\n    var end = editor.project(this.lineSnapped.vertices[1]);\n\n    var startZ = start.z;\n\n    start = editor.clientToMarkups(start.x, start.y);\n    end = editor.clientToMarkups(end.x, end.y);\n\n    start = new THREE.Vector3(start.x, start.y, startZ);\n    end = new THREE.Vector3(end.x, end.y, startZ);\n\n    var p = new THREE.Vector3(final.x, final.y, startZ);\n\n    var parallel = MeasureCommon.nearestPointInPointToLine(p, start, end);\n    height = p.distanceTo(parallel);\n\n    // select an arbitrary point on the perpendicular line\n    var k = -(start.x - end.x) / (start.y - end.y);\n    var b = this.firstCorner.y - k * this.firstCorner.x;\n    var x = this.firstCorner.x + 1;\n    var y = k * x + b;\n    var pEnd = new THREE.Vector3(x, y, startZ);\n\n    var pStart = new THREE.Vector3(this.firstCorner.x, this.firstCorner.y, startZ);\n    var perpendicular = MeasureCommon.nearestPointInPointToLine(p, pStart, pEnd);\n    width = p.distanceTo(perpendicular);\n  } else\n  {\n    width = final.x - this.firstCorner.x;\n    height = final.y - this.firstCorner.y;\n  }\n\n  var size = this.size = { x: Math.abs(width), y: Math.abs(height) };\n\n  var setRectangle = new _edit_actions_SetRectangle__WEBPACK_IMPORTED_MODULE_3__.SetRectangle(\n    editor,\n    selectedMarkup,\n    position,\n    size);\n\n  setRectangle.execute();\n  return true;\n};\n\n/**\n * Handler to mouse down events, used to start markups creation.\n * @private\n */\nproto.onMouseDown = function () {\n\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.onMouseDown.call(this);\n\n  if (this.selectedMarkup) {\n    return;\n  }\n\n  var editor = this.editor;\n  var mousePosition = editor.getMousePosition();\n\n  this.initialX = mousePosition.x;\n  this.initialY = mousePosition.y;\n\n  // Calculate center and size.\n  var position = this.firstCorner = editor.clientToMarkups(this.initialX, this.initialY);\n  var size = this.size = editor.sizeFromClientToMarkups(1, 1);\n\n  // Calculate rotation\n  var rotation = 0;\n  this.lineSnapped = null;\n  if (editor.snapper) {\n    // Snap to parallel/perpendicular of underlying vectors\n    var geomType = editor.snapper.getGeometryType();\n    if (geomType === MeasureCommon.SnapType.SNAP_EDGE) {\n      this.lineSnapped = editor.snapper.getEdge();\n      var start = editor.project(this.lineSnapped.vertices[0]);\n      var end = editor.project(this.lineSnapped.vertices[1]);\n      var dx = end.x - start.x;\n      var dy = end.y - start.y;\n      rotation = this.rotation = Math.atan2(dy, dx);\n    }\n  }\n\n  // Create rectangle.\n  editor.beginActionGroup();\n\n  var markupId = editor.getId();\n  var create = new _edit_actions_CreateRectangle__WEBPACK_IMPORTED_MODULE_2__.CreateRectangle(\n    editor,\n    markupId,\n    position,\n    size,\n    rotation,\n    this.style);\n\n  create.execute();\n\n  this.selectedMarkup = editor.getMarkup(markupId);\n  this.creationBegin();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtbW9kZXMvRWRpdE1vZGVSZWN0YW5nbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWE7O0FBRXlCO0FBQzRCO0FBQ0E7QUFDTjtBQUNkOztBQUUxQyxJQUFJSyxhQUFhLEdBQUdDLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDRixhQUFhOztBQUVsRDtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ1csU0FBU0csaUJBQWlCQSxDQUFDQyxNQUFNLEVBQUU7O0VBRXRDLElBQUlDLGVBQWUsR0FBRyxDQUFDLGNBQWMsRUFBRSxjQUFjLEVBQUUsZ0JBQWdCLEVBQUUsWUFBWSxFQUFFLGNBQWMsQ0FBQztFQUN0R1YsK0NBQVEsQ0FBQ1csSUFBSSxDQUFDLElBQUksRUFBRUYsTUFBTSxFQUFFTCwrREFBaUMsRUFBRU0sZUFBZSxDQUFDO0FBQ25GOztBQUVBRixpQkFBaUIsQ0FBQ0ssU0FBUyxHQUFHQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ2YsK0NBQVEsQ0FBQ2EsU0FBUyxDQUFDO0FBQy9ETCxpQkFBaUIsQ0FBQ0ssU0FBUyxDQUFDRyxXQUFXLEdBQUdSLGlCQUFpQjs7QUFFM0QsSUFBSVMsS0FBSyxHQUFHVCxpQkFBaUIsQ0FBQ0ssU0FBUzs7QUFFdkNJLEtBQUssQ0FBQ0MsWUFBWSxHQUFHLFVBQVNDLE1BQU0sRUFBRUMsUUFBUSxFQUFFOztFQUU1Q0QsTUFBTSxHQUFHQSxNQUFNLElBQUksSUFBSSxDQUFDRSxjQUFjO0VBQ3RDLElBQUlGLE1BQU0sSUFBSUEsTUFBTSxDQUFDRyxJQUFJLElBQUksSUFBSSxDQUFDQSxJQUFJLEVBQUU7SUFDcEMsSUFBSUMsZUFBZSxHQUFHLElBQUl0QiwwRUFBZSxDQUFDLElBQUksQ0FBQ1EsTUFBTSxFQUFFVSxNQUFNLENBQUM7SUFDOURJLGVBQWUsQ0FBQ0MsWUFBWSxHQUFHLENBQUNKLFFBQVE7SUFDeENHLGVBQWUsQ0FBQ0UsT0FBTyxDQUFDLENBQUM7SUFDekIsT0FBTyxJQUFJO0VB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QUFDLENBQUM7TUFDeEQsSUFBSUMsR0FBRyxHQUFHbEMsTUFBTSxDQUFDZ0MsT0FBTyxDQUFDLElBQUksQ0FBQ0YsV0FBVyxDQUFDRyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDdEQsSUFBSStCLEVBQUUsR0FBRzlCLEdBQUcsQ0FBQ1gsQ0FBQyxHQUFHUSxLQUFLLENBQUNSLENBQUM7TUFDeEIsSUFBSTBDLEVBQUUsR0FBRy9CLEdBQUcsQ0FBQ1YsQ0FBQyxHQUFHTyxLQUFLLENBQUNQLENBQUM7TUFDeEJrQyxRQUFRLEdBQUcsSUFBSSxDQUFDQSxRQUFRLEdBQUdULElBQUksQ0FBQ2lCLEtBQUssQ0FBQ0QsRUFBRSxFQUFFRCxFQUFFLENBQUM7SUFDakQ7RUFDSjs7RUFFQTtFQUNBaEUsTUFBTSxDQUFDbUUsZ0JBQWdCLENBQUMsQ0FBQzs7RUFFekIsSUFBSUMsUUFBUSxHQUFHcEUsTUFBTSxDQUFDcUUsS0FBSyxDQUFDLENBQUM7RUFDN0IsSUFBSS9ELE1BQU0sR0FBRyxJQUFJYiwwRUFBZTtJQUM1Qk8sTUFBTTtJQUNOb0UsUUFBUTtJQUNSM0MsUUFBUTtJQUNSdUIsSUFBSTtJQUNKVSxRQUFRO0lBQ1IsSUFBSSxDQUFDWSxLQUFLLENBQUM7O0VBRWZoRSxNQUFNLENBQUNVLE9BQU8sQ0FBQyxDQUFDOztFQUVoQixJQUFJLENBQUNKLGNBQWMsR0FBR1osTUFBTSxDQUFDdUUsU0FBUyxDQUFDSCxRQUFRLENBQUM7RUFDaEQsSUFBSSxDQUFDSSxhQUFhLENBQUMsQ0FBQztBQUN4QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvZWRpdC1tb2Rlcy9FZGl0TW9kZVJlY3RhbmdsZS5qcz9kNzI2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRWRpdE1vZGUgfSBmcm9tICcuL0VkaXRNb2RlJztcbmltcG9ydCB7IERlbGV0ZVJlY3RhbmdsZSB9IGZyb20gJy4uL2VkaXQtYWN0aW9ucy9EZWxldGVSZWN0YW5nbGUnO1xuaW1wb3J0IHsgQ3JlYXRlUmVjdGFuZ2xlIH0gZnJvbSAnLi4vZWRpdC1hY3Rpb25zL0NyZWF0ZVJlY3RhbmdsZSc7XG5pbXBvcnQgeyBTZXRSZWN0YW5nbGUgfSBmcm9tICcuLi9lZGl0LWFjdGlvbnMvU2V0UmVjdGFuZ2xlJztcbmltcG9ydCAqIGFzIE1hcmt1cFR5cGVzIGZyb20gJy4uL01hcmt1cFR5cGVzJztcblxuICAgIHZhciBNZWFzdXJlQ29tbW9uID0gQXV0b2Rlc2suVmlld2luZy5NZWFzdXJlQ29tbW9uO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWRpdG9yXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIEVkaXRNb2RlUmVjdGFuZ2xlKGVkaXRvcikge1xuXG4gICAgICAgIHZhciBzdHlsZUF0dHJpYnV0ZXMgPSBbJ3N0cm9rZS13aWR0aCcsICdzdHJva2UtY29sb3InLCAnc3Ryb2tlLW9wYWNpdHknLCAnZmlsbC1jb2xvcicsICdmaWxsLW9wYWNpdHknXTtcbiAgICAgICAgRWRpdE1vZGUuY2FsbCh0aGlzLCBlZGl0b3IsIE1hcmt1cFR5cGVzLk1BUktVUF9UWVBFX1JFQ1RBTkdMRSwgc3R5bGVBdHRyaWJ1dGVzKTtcbiAgICB9XG5cbiAgICBFZGl0TW9kZVJlY3RhbmdsZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVkaXRNb2RlLnByb3RvdHlwZSk7XG4gICAgRWRpdE1vZGVSZWN0YW5nbGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRWRpdE1vZGVSZWN0YW5nbGU7XG5cbiAgICB2YXIgcHJvdG8gPSBFZGl0TW9kZVJlY3RhbmdsZS5wcm90b3R5cGU7XG5cbiAgICBwcm90by5kZWxldGVNYXJrdXAgPSBmdW5jdGlvbihtYXJrdXAsIGNhbnRVbmRvKSB7XG5cbiAgICAgICAgbWFya3VwID0gbWFya3VwIHx8IHRoaXMuc2VsZWN0ZWRNYXJrdXA7XG4gICAgICAgIGlmIChtYXJrdXAgJiYgbWFya3VwLnR5cGUgPT0gdGhpcy50eXBlKSB7XG4gICAgICAgICAgICB2YXIgZGVsZXRlUmVjdGFuZ2xlID0gbmV3IERlbGV0ZVJlY3RhbmdsZSh0aGlzLmVkaXRvciwgbWFya3VwKTtcbiAgICAgICAgICAgIGRlbGV0ZVJlY3RhbmdsZS5hZGRUb0hpc3RvcnkgPSAhY2FudFVuZG87XG4gICAgICAgICAgICBkZWxldGVSZWN0YW5nbGUuZXhlY3V0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVyIHRvIG1vdXNlIG1vdmUgZXZlbnRzLCB1c2VkIHRvIGNyZWF0ZSBtYXJrdXBzLlxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgTW91c2UgZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcm90by5vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgaWYgKCFFZGl0TW9kZS5wcm90b3R5cGUub25Nb3VzZU1vdmUuY2FsbCggdGhpcywgZXZlbnQgKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlbGVjdGVkTWFya3VwID0gdGhpcy5zZWxlY3RlZE1hcmt1cDtcblxuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG5cbiAgICAgICAgdmFyIHBvcyA9IHRoaXMuZ2V0RmluYWxNb3VzZURyYWdnaW5nUG9zaXRpb24oKTtcbiAgICAgICAgdmFyIGZpbmFsID0gZWRpdG9yLmNsaWVudFRvTWFya3Vwcyhwb3MueCwgcG9zLnkpO1xuICAgICAgICB2YXIgcG9zaXRpb24gPSB7eDogKHRoaXMuZmlyc3RDb3JuZXIueCArIGZpbmFsLngpIC8gMiwgeTogKHRoaXMuZmlyc3RDb3JuZXIueSArIGZpbmFsLnkpIC8gMn07XG5cbiAgICAgICAgdmFyIHdpZHRoLCBoZWlnaHQ7XG4gICAgICAgIC8vIFNuYXAgdG8gcGFyYWxsZWwvcGVycGVuZGljdWxhciBvZiB1bmRlcmx5aW5nIHZlY3RvcnNcbiAgICAgICAgaWYgKGVkaXRvci5zbmFwcGVyICYmIHRoaXMubGluZVNuYXBwZWQpIHtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IGVkaXRvci5wcm9qZWN0KHRoaXMubGluZVNuYXBwZWQudmVydGljZXNbMF0pO1xuICAgICAgICAgICAgdmFyIGVuZCA9IGVkaXRvci5wcm9qZWN0KHRoaXMubGluZVNuYXBwZWQudmVydGljZXNbMV0pO1xuXG4gICAgICAgICAgICB2YXIgc3RhcnRaID0gc3RhcnQuejtcblxuICAgICAgICAgICAgc3RhcnQgPSBlZGl0b3IuY2xpZW50VG9NYXJrdXBzKHN0YXJ0LngsIHN0YXJ0LnkpO1xuICAgICAgICAgICAgZW5kID0gZWRpdG9yLmNsaWVudFRvTWFya3VwcyhlbmQueCwgZW5kLnkpO1xuXG4gICAgICAgICAgICBzdGFydCA9IG5ldyBUSFJFRS5WZWN0b3IzKHN0YXJ0LngsIHN0YXJ0LnksIHN0YXJ0Wik7XG4gICAgICAgICAgICBlbmQgPSBuZXcgVEhSRUUuVmVjdG9yMyhlbmQueCwgZW5kLnksIHN0YXJ0Wik7XG5cbiAgICAgICAgICAgIHZhciBwID0gbmV3IFRIUkVFLlZlY3RvcjMoZmluYWwueCwgZmluYWwueSwgc3RhcnRaKTtcblxuICAgICAgICAgICAgdmFyIHBhcmFsbGVsID0gTWVhc3VyZUNvbW1vbi5uZWFyZXN0UG9pbnRJblBvaW50VG9MaW5lKHAsIHN0YXJ0LCBlbmQpO1xuICAgICAgICAgICAgaGVpZ2h0ID0gcC5kaXN0YW5jZVRvKHBhcmFsbGVsKTtcblxuICAgICAgICAgICAgLy8gc2VsZWN0IGFuIGFyYml0cmFyeSBwb2ludCBvbiB0aGUgcGVycGVuZGljdWxhciBsaW5lXG4gICAgICAgICAgICB2YXIgayA9IC0oc3RhcnQueCAtIGVuZC54KSAvIChzdGFydC55IC0gZW5kLnkpO1xuICAgICAgICAgICAgdmFyIGIgPSB0aGlzLmZpcnN0Q29ybmVyLnkgLSBrICogdGhpcy5maXJzdENvcm5lci54O1xuICAgICAgICAgICAgdmFyIHggPSB0aGlzLmZpcnN0Q29ybmVyLnggKyAxO1xuICAgICAgICAgICAgdmFyIHkgPSBrICogeCArIGI7XG4gICAgICAgICAgICB2YXIgcEVuZCA9IG5ldyBUSFJFRS5WZWN0b3IzKHgsIHksIHN0YXJ0Wik7XG5cbiAgICAgICAgICAgIHZhciBwU3RhcnQgPSBuZXcgVEhSRUUuVmVjdG9yMyh0aGlzLmZpcnN0Q29ybmVyLngsIHRoaXMuZmlyc3RDb3JuZXIueSwgc3RhcnRaKTtcbiAgICAgICAgICAgIHZhciBwZXJwZW5kaWN1bGFyID0gTWVhc3VyZUNvbW1vbi5uZWFyZXN0UG9pbnRJblBvaW50VG9MaW5lKHAsIHBTdGFydCwgcEVuZCk7XG4gICAgICAgICAgICB3aWR0aCA9IHAuZGlzdGFuY2VUbyhwZXJwZW5kaWN1bGFyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHdpZHRoID0gZmluYWwueCAtIHRoaXMuZmlyc3RDb3JuZXIueDtcbiAgICAgICAgICAgIGhlaWdodCA9IGZpbmFsLnkgLSB0aGlzLmZpcnN0Q29ybmVyLnk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZSA9IHt4OiBNYXRoLmFicyh3aWR0aCksIHk6IE1hdGguYWJzKGhlaWdodCl9O1xuXG4gICAgICAgIHZhciBzZXRSZWN0YW5nbGUgPSBuZXcgU2V0UmVjdGFuZ2xlKFxuICAgICAgICAgICAgZWRpdG9yLFxuICAgICAgICAgICAgc2VsZWN0ZWRNYXJrdXAsXG4gICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgIHNpemUpO1xuXG4gICAgICAgIHNldFJlY3RhbmdsZS5leGVjdXRlKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVyIHRvIG1vdXNlIGRvd24gZXZlbnRzLCB1c2VkIHRvIHN0YXJ0IG1hcmt1cHMgY3JlYXRpb24uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcm90by5vbk1vdXNlRG93biA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIEVkaXRNb2RlLnByb3RvdHlwZS5vbk1vdXNlRG93bi5jYWxsKHRoaXMpO1xuXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkTWFya3VwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgIHZhciBtb3VzZVBvc2l0aW9uID0gZWRpdG9yLmdldE1vdXNlUG9zaXRpb24oKTtcblxuICAgICAgICB0aGlzLmluaXRpYWxYID0gbW91c2VQb3NpdGlvbi54O1xuICAgICAgICB0aGlzLmluaXRpYWxZID0gbW91c2VQb3NpdGlvbi55O1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSBjZW50ZXIgYW5kIHNpemUuXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IHRoaXMuZmlyc3RDb3JuZXIgPSBlZGl0b3IuY2xpZW50VG9NYXJrdXBzKHRoaXMuaW5pdGlhbFgsIHRoaXMuaW5pdGlhbFkpO1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZSA9IGVkaXRvci5zaXplRnJvbUNsaWVudFRvTWFya3VwcygxLCAxKTtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgcm90YXRpb25cbiAgICAgICAgdmFyIHJvdGF0aW9uID0gMDtcbiAgICAgICAgdGhpcy5saW5lU25hcHBlZCA9IG51bGw7XG4gICAgICAgIGlmIChlZGl0b3Iuc25hcHBlcikge1xuICAgICAgICAgICAgLy8gU25hcCB0byBwYXJhbGxlbC9wZXJwZW5kaWN1bGFyIG9mIHVuZGVybHlpbmcgdmVjdG9yc1xuICAgICAgICAgICAgdmFyIGdlb21UeXBlID0gZWRpdG9yLnNuYXBwZXIuZ2V0R2VvbWV0cnlUeXBlKCk7XG4gICAgICAgICAgICBpZiAoZ2VvbVR5cGUgPT09IE1lYXN1cmVDb21tb24uU25hcFR5cGUuU05BUF9FREdFKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saW5lU25hcHBlZCA9IGVkaXRvci5zbmFwcGVyLmdldEVkZ2UoKTtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBlZGl0b3IucHJvamVjdCh0aGlzLmxpbmVTbmFwcGVkLnZlcnRpY2VzWzBdKTtcbiAgICAgICAgICAgICAgICB2YXIgZW5kID0gZWRpdG9yLnByb2plY3QodGhpcy5saW5lU25hcHBlZC52ZXJ0aWNlc1sxXSk7XG4gICAgICAgICAgICAgICAgdmFyIGR4ID0gZW5kLnggLSBzdGFydC54O1xuICAgICAgICAgICAgICAgIHZhciBkeSA9IGVuZC55IC0gc3RhcnQueTtcbiAgICAgICAgICAgICAgICByb3RhdGlvbiA9IHRoaXMucm90YXRpb24gPSBNYXRoLmF0YW4yKGR5LCBkeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgcmVjdGFuZ2xlLlxuICAgICAgICBlZGl0b3IuYmVnaW5BY3Rpb25Hcm91cCgpO1xuXG4gICAgICAgIHZhciBtYXJrdXBJZCA9IGVkaXRvci5nZXRJZCgpO1xuICAgICAgICB2YXIgY3JlYXRlID0gbmV3IENyZWF0ZVJlY3RhbmdsZShcbiAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgIG1hcmt1cElkLFxuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgcm90YXRpb24sXG4gICAgICAgICAgICB0aGlzLnN0eWxlKTtcblxuICAgICAgICBjcmVhdGUuZXhlY3V0ZSgpO1xuXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRNYXJrdXAgPSBlZGl0b3IuZ2V0TWFya3VwKG1hcmt1cElkKTtcbiAgICAgICAgdGhpcy5jcmVhdGlvbkJlZ2luKCk7XG4gICAgfTtcblxuIl0sIm5hbWVzIjpbIkVkaXRNb2RlIiwiRGVsZXRlUmVjdGFuZ2xlIiwiQ3JlYXRlUmVjdGFuZ2xlIiwiU2V0UmVjdGFuZ2xlIiwiTWFya3VwVHlwZXMiLCJNZWFzdXJlQ29tbW9uIiwiQXV0b2Rlc2siLCJWaWV3aW5nIiwiRWRpdE1vZGVSZWN0YW5nbGUiLCJlZGl0b3IiLCJzdHlsZUF0dHJpYnV0ZXMiLCJjYWxsIiwiTUFSS1VQX1RZUEVfUkVDVEFOR0xFIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJwcm90byIsImRlbGV0ZU1hcmt1cCIsIm1hcmt1cCIsImNhbnRVbmRvIiwic2VsZWN0ZWRNYXJrdXAiLCJ0eXBlIiwiZGVsZXRlUmVjdGFuZ2xlIiwiYWRkVG9IaXN0b3J5IiwiZXhlY3V0ZSIsIm9uTW91c2VNb3ZlIiwiZXZlbnQiLCJwb3MiLCJnZXRGaW5hbE1vdXNlRHJhZ2dpbmdQb3NpdGlvbiIsImZpbmFsIiwiY2xpZW50VG9NYXJrdXBzIiwieCIsInkiLCJwb3NpdGlvbiIsImZpcnN0Q29ybmVyIiwid2lkdGgiLCJoZWlnaHQiLCJzbmFwcGVyIiwibGluZVNuYXBwZWQiLCJzdGFydCIsInByb2plY3QiLCJ2ZXJ0aWNlcyIsImVuZCIsInN0YXJ0WiIsInoiLCJUSFJFRSIsIlZlY3RvcjMiLCJwIiwicGFyYWxsZWwiLCJuZWFyZXN0UG9pbnRJblBvaW50VG9MaW5lIiwiZGlzdGFuY2VUbyIsImsiLCJiIiwicEVuZCIsInBTdGFydCIsInBlcnBlbmRpY3VsYXIiLCJzaXplIiwiTWF0aCIsImFicyIsInNldFJlY3RhbmdsZSIsIm9uTW91c2VEb3duIiwibW91c2VQb3NpdGlvbiIsImdldE1vdXNlUG9zaXRpb24iLCJpbml0aWFsWCIsImluaXRpYWxZIiwic2l6ZUZyb21DbGllbnRUb01hcmt1cHMiLCJyb3RhdGlvbiIsImdlb21UeXBlIiwiZ2V0R2VvbWV0cnlUeXBlIiwiU25hcFR5cGUiLCJTTkFQX0VER0UiLCJnZXRFZGdlIiwiZHgiLCJkeSIsImF0YW4yIiwiYmVnaW5BY3Rpb25Hcm91cCIsIm1hcmt1cElkIiwiZ2V0SWQiLCJzdHlsZSIsImdldE1hcmt1cCIsImNyZWF0aW9uQmVnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-modes/EditModeRectangle.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-modes/EditModeStamp.js":
/*!************************************************************!*\
  !*** ./extensions/Markup/core/edit-modes/EditModeStamp.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditModeStamp: () => (/* binding */ EditModeStamp)\n/* harmony export */ });\n/* harmony import */ var _EditMode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditMode */ \"./extensions/Markup/core/edit-modes/EditMode.js\");\n/* harmony import */ var _edit_actions_DeleteStamp__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../edit-actions/DeleteStamp */ \"./extensions/Markup/core/edit-actions/DeleteStamp.js\");\n/* harmony import */ var _edit_actions_CreateStamp__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../edit-actions/CreateStamp */ \"./extensions/Markup/core/edit-actions/CreateStamp.js\");\n/* harmony import */ var _edit_actions_SetStamp__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../edit-actions/SetStamp */ \"./extensions/Markup/core/edit-actions/SetStamp.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n\n\n\n\n\n\n\n\n\n\nclass EditModeStamp extends _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode {\n  constructor(editor, svgData) {\n    var styleAttributes = [\n    'text-data'];\n\n    super(editor, _MarkupTypes__WEBPACK_IMPORTED_MODULE_4__.MARKUP_TYPE_STAMP, styleAttributes);\n    this.svgData = svgData;\n  }\n\n  deleteMarkup(markup, cantUndo) {\n    markup = markup || this.selectedMarkup;\n    if (markup && markup.type == this.type) {\n      var deleteStamp = new _edit_actions_DeleteStamp__WEBPACK_IMPORTED_MODULE_1__.DeleteStamp(this.editor, markup);\n      deleteStamp.addToHistory = !cantUndo;\n      deleteStamp.execute();\n      return true;\n    }\n    return false;\n  }\n\n  onMouseMove(event) {\n    if (!_EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.onMouseMove.call(this, event)) {\n      return false;\n    }\n\n    const { selectedMarkup, editor } = this;\n\n    let final = this.getFinalMouseDraggingPosition();\n    final = editor.clientToMarkups(final.x, final.y);\n    let position = {\n      x: (this.firstPosition.x + final.x) / 2,\n      y: (this.firstPosition.y + final.y) / 2\n    };\n    let size = this.size = {\n      x: Math.abs(final.x - this.firstPosition.x),\n      y: Math.abs(final.y - this.firstPosition.y)\n    };\n\n    const action = new _edit_actions_SetStamp__WEBPACK_IMPORTED_MODULE_3__.SetStamp(editor, selectedMarkup, position, size);\n    action.execute();\n    return true;\n  }\n\n  onMouseDown() {\n    _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.onMouseDown.call(this);\n\n    if (this.selectedMarkup) {\n      return;\n    }\n\n    const editor = this.editor;\n    let mousePosition = editor.getMousePosition();\n\n    this.initialX = mousePosition.x;\n    this.initialY = mousePosition.y;\n    this.firstPosition = editor.clientToMarkups(this.initialX, this.initialY);\n    this.size = editor.sizeFromClientToMarkups(1, 1);\n\n    editor.beginActionGroup();\n    const markupId = editor.getId();\n    const action = new _edit_actions_CreateStamp__WEBPACK_IMPORTED_MODULE_2__.CreateStamp(editor, markupId, this.firstPosition, this.size, 0, this.style, this.svgData);\n    action.execute();\n\n    // maybe this isn't being called right, that would explain it\n    this.selectedMarkup = editor.getMarkup(markupId);\n    this.creationBegin();\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtbW9kZXMvRWRpdE1vZGVTdGFtcC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBYTs7QUFFeUI7QUFDb0I7QUFDQTtBQUNOO0FBQ047O0FBRXJCOztBQUV6QixNQUFNSyxhQUFhLFNBQVNMLCtDQUFRLENBQUM7RUFDakNNLFdBQVdBLENBQUNDLE1BQU0sRUFBRUMsT0FBTyxFQUFFO0lBQ3pCLElBQUlDLGVBQWUsR0FBRztJQUNsQixXQUFXLENBQ2Q7O0lBQ0QsS0FBSyxDQUFDRixNQUFNLEVBQUVILDJEQUE2QixFQUFFSyxlQUFlLENBQUM7SUFDN0QsSUFBSSxDQUFDRCxPQUFPLEdBQUdBLE9BQU87RUFDMUI7O0VBRUFHLFlBQVlBLENBQUNDLE1BQU0sRUFBRUMsUUFBUSxFQUFFO0lBQzNCRCxNQUFNLEdBQUdBLE1BQU0sSUFBSSxJQUFJLENBQUNFLGNBQWM7SUFDdEMsSUFBSUYsTUFBTSxJQUFJQSxNQUFNLENBQUNHLElBQUksSUFBSSxJQUFJLENBQUNBLElBQUksRUFBRTtNQUNwQyxJQUFJQyxXQUFXLEdBQUcsSUFBSWYsa0VBQVcsQ0FBQyxJQUFJLENBQUNNLE1BQU0sRUFBRUssTUFBTSxDQUFDO01BQ3RESSxXQUFXLENBQUNDLFlBQVksR0FBRyxDQUFDSixRQUFRO01BQ3BDRyxXQUFXLENBQUNFLE9BQU8sQ0FBQyxDQUFDO01BQ3JCLE9BQU8sSUFBSTtJQUNmO0lBQ0EsT0FBTyxLQUFLO0VBQ2hCOztFQUVBQyxXQUFXQSxDQUFDQyxLQUFLLEVBQUU7SUFDZixJQUFJLENBQUNwQiwrQ0FBUSxDQUFDcUIsU0FBUyxDQUFDRixXQUFXLENBQUNHLElBQUksQ0FBRSxJQUFJLEVBQUVGLEtBQU0sQ0FBQyxFQUFFO01BQ3JELE9BQU8sS0FBSztJQUNoQjs7SUFFQSxNQUFNLEVBQUVOLGNBQWMsRUFBRVAsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJOztJQUV2QyxJQUFJZ0IsS0FBSyxHQUFHLElBQUksQ0FBQ0MsNkJBQTZCLENBQUMsQ0FBQztJQUNoREQsS0FBSyxHQUFHaEIsTUFBTSxDQUFDa0IsZUFBZSxDQUFDRixLQUFLLENBQUNHLENBQUMsRUFBRUgsS0FBSyxDQUFDSSxDQUFDLENBQUM7SUFDaEQsSUFBSUMsUUFBUSxHQUFHO01BQ1hGLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQ0csYUFBYSxDQUFDSCxDQUFDLEdBQUdILEtBQUssQ0FBQ0csQ0FBQyxJQUFJLENBQUM7TUFDdkNDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQ0UsYUFBYSxDQUFDRixDQUFDLEdBQUdKLEtBQUssQ0FBQ0ksQ0FBQyxJQUFJO0lBQzFDLENBQUM7SUFDRCxJQUFJRyxJQUFJLEdBQUcsSUFBSSxDQUFDQSxJQUFJLEdBQUc7TUFDbkJKLENBQUMsRUFBRUssSUFBSSxDQUFDQyxHQUFHLENBQUNULEtBQUssQ0FBQ0csQ0FBQyxHQUFHLElBQUksQ0FBQ0csYUFBYSxDQUFDSCxDQUFDLENBQUM7TUFDM0NDLENBQUMsRUFBRUksSUFBSSxDQUFDQyxHQUFHLENBQUNULEtBQUssQ0FBQ0ksQ0FBQyxHQUFHLElBQUksQ0FBQ0UsYUFBYSxDQUFDRixDQUFDO0lBQzlDLENBQUM7O0lBRUQsTUFBTU0sTUFBTSxHQUFHLElBQUk5Qiw0REFBUSxDQUFDSSxNQUFNLEVBQUVPLGNBQWMsRUFBRWMsUUFBUSxFQUFFRSxJQUFJLENBQUM7SUFDbkVHLE1BQU0sQ0FBQ2YsT0FBTyxDQUFDLENBQUM7SUFDaEIsT0FBTyxJQUFJO0VBQ2Y7O0VBRUFnQixXQUFXQSxDQUFBLEVBQUc7SUFDVmxDLCtDQUFRLENBQUNxQixTQUFTLENBQUNhLFdBQVcsQ0FBQ1osSUFBSSxDQUFDLElBQUksQ0FBQzs7SUFFekMsSUFBSSxJQUFJLENBQUNSLGNBQWMsRUFBRTtNQUNyQjtJQUNKOztJQUVBLE1BQU1QLE1BQU0sR0FBRyxJQUFJLENBQUNBLE1BQU07SUFDMUIsSUFBSTRCLGFBQWEsR0FBRzVCLE1BQU0sQ0FBQzZCLGdCQUFnQixDQUFDLENBQUM7O0lBRTdDLElBQUksQ0FBQ0MsUUFBUSxHQUFHRixhQUFhLENBQUNULENBQUM7SUFDL0IsSUFBSSxDQUFDWSxRQUFRLEdBQUdILGFBQWEsQ0FBQ1IsQ0FBQztJQUMvQixJQUFJLENBQUNFLGFBQWEsR0FBR3RCLE1BQU0sQ0FBQ2tCLGVBQWUsQ0FBQyxJQUFJLENBQUNZLFFBQVEsRUFBRSxJQUFJLENBQUNDLFFBQVEsQ0FBQztJQUN6RSxJQUFJLENBQUNSLElBQUksR0FBR3ZCLE1BQU0sQ0FBQ2dDLHVCQUF1QixDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7O0lBRWhEaEMsTUFBTSxDQUFDaUMsZ0JBQWdCLENBQUMsQ0FBQztJQUN6QixNQUFNQyxRQUFRLEdBQUdsQyxNQUFNLENBQUNtQyxLQUFLLENBQUMsQ0FBQztJQUMvQixNQUFNVCxNQUFNLEdBQUcsSUFBSS9CLGtFQUFXLENBQUNLLE1BQU0sRUFBRWtDLFFBQVEsRUFBRSxJQUFJLENBQUNaLGFBQWEsRUFBRSxJQUFJLENBQUNDLElBQUksRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDYSxLQUFLLEVBQUUsSUFBSSxDQUFDbkMsT0FBTyxDQUFDO0lBQzVHeUIsTUFBTSxDQUFDZixPQUFPLENBQUMsQ0FBQzs7SUFFaEI7SUFDQSxJQUFJLENBQUNKLGNBQWMsR0FBR1AsTUFBTSxDQUFDcUMsU0FBUyxDQUFDSCxRQUFRLENBQUM7SUFDaEQsSUFBSSxDQUFDSSxhQUFhLENBQUMsQ0FBQztFQUN4QjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvZWRpdC1tb2Rlcy9FZGl0TW9kZVN0YW1wLmpzPzBmNDUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBFZGl0TW9kZSB9IGZyb20gJy4vRWRpdE1vZGUnO1xuaW1wb3J0IHsgRGVsZXRlU3RhbXAgfSBmcm9tICcuLi9lZGl0LWFjdGlvbnMvRGVsZXRlU3RhbXAnO1xuaW1wb3J0IHsgQ3JlYXRlU3RhbXAgfSBmcm9tICcuLi9lZGl0LWFjdGlvbnMvQ3JlYXRlU3RhbXAnO1xuaW1wb3J0IHsgU2V0U3RhbXAgfSBmcm9tICcuLi9lZGl0LWFjdGlvbnMvU2V0U3RhbXAnO1xuaW1wb3J0ICogYXMgTWFya3VwVHlwZXMgZnJvbSAnLi4vTWFya3VwVHlwZXMnO1xuXG5leHBvcnQgeyBFZGl0TW9kZVN0YW1wIH07XG5cbmNsYXNzIEVkaXRNb2RlU3RhbXAgZXh0ZW5kcyBFZGl0TW9kZSB7XG4gICAgY29uc3RydWN0b3IoZWRpdG9yLCBzdmdEYXRhKSB7XG4gICAgICAgIHZhciBzdHlsZUF0dHJpYnV0ZXMgPSBbXG4gICAgICAgICAgICAndGV4dC1kYXRhJ1xuICAgICAgICBdO1xuICAgICAgICBzdXBlcihlZGl0b3IsIE1hcmt1cFR5cGVzLk1BUktVUF9UWVBFX1NUQU1QLCBzdHlsZUF0dHJpYnV0ZXMpO1xuICAgICAgICB0aGlzLnN2Z0RhdGEgPSBzdmdEYXRhO1xuICAgIH1cblxuICAgIGRlbGV0ZU1hcmt1cChtYXJrdXAsIGNhbnRVbmRvKSB7XG4gICAgICAgIG1hcmt1cCA9IG1hcmt1cCB8fCB0aGlzLnNlbGVjdGVkTWFya3VwO1xuICAgICAgICBpZiAobWFya3VwICYmIG1hcmt1cC50eXBlID09IHRoaXMudHlwZSkge1xuICAgICAgICAgICAgdmFyIGRlbGV0ZVN0YW1wID0gbmV3IERlbGV0ZVN0YW1wKHRoaXMuZWRpdG9yLCBtYXJrdXApO1xuICAgICAgICAgICAgZGVsZXRlU3RhbXAuYWRkVG9IaXN0b3J5ID0gIWNhbnRVbmRvO1xuICAgICAgICAgICAgZGVsZXRlU3RhbXAuZXhlY3V0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIG9uTW91c2VNb3ZlKGV2ZW50KSB7XG4gICAgICAgIGlmICghRWRpdE1vZGUucHJvdG90eXBlLm9uTW91c2VNb3ZlLmNhbGwoIHRoaXMsIGV2ZW50ICkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgc2VsZWN0ZWRNYXJrdXAsIGVkaXRvciB9ID0gdGhpcztcblxuICAgICAgICBsZXQgZmluYWwgPSB0aGlzLmdldEZpbmFsTW91c2VEcmFnZ2luZ1Bvc2l0aW9uKCk7XG4gICAgICAgIGZpbmFsID0gZWRpdG9yLmNsaWVudFRvTWFya3VwcyhmaW5hbC54LCBmaW5hbC55KTtcbiAgICAgICAgbGV0IHBvc2l0aW9uID0ge1xuICAgICAgICAgICAgeDogKHRoaXMuZmlyc3RQb3NpdGlvbi54ICsgZmluYWwueCkgLyAyLFxuICAgICAgICAgICAgeTogKHRoaXMuZmlyc3RQb3NpdGlvbi55ICsgZmluYWwueSkgLyAyXG4gICAgICAgIH07XG4gICAgICAgIGxldCBzaXplID0gdGhpcy5zaXplID0ge1xuICAgICAgICAgICAgeDogTWF0aC5hYnMoZmluYWwueCAtIHRoaXMuZmlyc3RQb3NpdGlvbi54KSxcbiAgICAgICAgICAgIHk6IE1hdGguYWJzKGZpbmFsLnkgLSB0aGlzLmZpcnN0UG9zaXRpb24ueSlcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBhY3Rpb24gPSBuZXcgU2V0U3RhbXAoZWRpdG9yLCBzZWxlY3RlZE1hcmt1cCwgcG9zaXRpb24sIHNpemUpO1xuICAgICAgICBhY3Rpb24uZXhlY3V0ZSgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBvbk1vdXNlRG93bigpIHtcbiAgICAgICAgRWRpdE1vZGUucHJvdG90eXBlLm9uTW91c2VEb3duLmNhbGwodGhpcyk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRNYXJrdXApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgICAgICBsZXQgbW91c2VQb3NpdGlvbiA9IGVkaXRvci5nZXRNb3VzZVBvc2l0aW9uKCk7XG5cbiAgICAgICAgdGhpcy5pbml0aWFsWCA9IG1vdXNlUG9zaXRpb24ueDtcbiAgICAgICAgdGhpcy5pbml0aWFsWSA9IG1vdXNlUG9zaXRpb24ueTtcbiAgICAgICAgdGhpcy5maXJzdFBvc2l0aW9uID0gZWRpdG9yLmNsaWVudFRvTWFya3Vwcyh0aGlzLmluaXRpYWxYLCB0aGlzLmluaXRpYWxZKTtcbiAgICAgICAgdGhpcy5zaXplID0gZWRpdG9yLnNpemVGcm9tQ2xpZW50VG9NYXJrdXBzKDEsIDEpO1xuXG4gICAgICAgIGVkaXRvci5iZWdpbkFjdGlvbkdyb3VwKCk7XG4gICAgICAgIGNvbnN0IG1hcmt1cElkID0gZWRpdG9yLmdldElkKCk7XG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IG5ldyBDcmVhdGVTdGFtcChlZGl0b3IsIG1hcmt1cElkLCB0aGlzLmZpcnN0UG9zaXRpb24sIHRoaXMuc2l6ZSwgMCwgdGhpcy5zdHlsZSwgdGhpcy5zdmdEYXRhKTtcbiAgICAgICAgYWN0aW9uLmV4ZWN1dGUoKTtcblxuICAgICAgICAvLyBtYXliZSB0aGlzIGlzbid0IGJlaW5nIGNhbGxlZCByaWdodCwgdGhhdCB3b3VsZCBleHBsYWluIGl0XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRNYXJrdXAgPSBlZGl0b3IuZ2V0TWFya3VwKG1hcmt1cElkKTtcbiAgICAgICAgdGhpcy5jcmVhdGlvbkJlZ2luKCk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIkVkaXRNb2RlIiwiRGVsZXRlU3RhbXAiLCJDcmVhdGVTdGFtcCIsIlNldFN0YW1wIiwiTWFya3VwVHlwZXMiLCJFZGl0TW9kZVN0YW1wIiwiY29uc3RydWN0b3IiLCJlZGl0b3IiLCJzdmdEYXRhIiwic3R5bGVBdHRyaWJ1dGVzIiwiTUFSS1VQX1RZUEVfU1RBTVAiLCJkZWxldGVNYXJrdXAiLCJtYXJrdXAiLCJjYW50VW5kbyIsInNlbGVjdGVkTWFya3VwIiwidHlwZSIsImRlbGV0ZVN0YW1wIiwiYWRkVG9IaXN0b3J5IiwiZXhlY3V0ZSIsIm9uTW91c2VNb3ZlIiwiZXZlbnQiLCJwcm90b3R5cGUiLCJjYWxsIiwiZmluYWwiLCJnZXRGaW5hbE1vdXNlRHJhZ2dpbmdQb3NpdGlvbiIsImNsaWVudFRvTWFya3VwcyIsIngiLCJ5IiwicG9zaXRpb24iLCJmaXJzdFBvc2l0aW9uIiwic2l6ZSIsIk1hdGgiLCJhYnMiLCJhY3Rpb24iLCJvbk1vdXNlRG93biIsIm1vdXNlUG9zaXRpb24iLCJnZXRNb3VzZVBvc2l0aW9uIiwiaW5pdGlhbFgiLCJpbml0aWFsWSIsInNpemVGcm9tQ2xpZW50VG9NYXJrdXBzIiwiYmVnaW5BY3Rpb25Hcm91cCIsIm1hcmt1cElkIiwiZ2V0SWQiLCJzdHlsZSIsImdldE1hcmt1cCIsImNyZWF0aW9uQmVnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-modes/EditModeStamp.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-modes/EditModeText.js":
/*!***********************************************************!*\
  !*** ./extensions/Markup/core/edit-modes/EditModeText.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditModeText: () => (/* binding */ EditModeText)\n/* harmony export */ });\n/* harmony import */ var _EditMode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditMode */ \"./extensions/Markup/core/edit-modes/EditMode.js\");\n/* harmony import */ var _edit_actions_DeleteText__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../edit-actions/DeleteText */ \"./extensions/Markup/core/edit-actions/DeleteText.js\");\n/* harmony import */ var _edit_actions_DeleteCallout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../edit-actions/DeleteCallout */ \"./extensions/Markup/core/edit-actions/DeleteCallout.js\");\n/* harmony import */ var _edit_actions_CreateText__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../edit-actions/CreateText */ \"./extensions/Markup/core/edit-actions/CreateText.js\");\n/* harmony import */ var _edit_actions_SetText__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../edit-actions/SetText */ \"./extensions/Markup/core/edit-actions/SetText.js\");\n/* harmony import */ var _edit_actions_SetSize__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../edit-actions/SetSize */ \"./extensions/Markup/core/edit-actions/SetSize.js\");\n/* harmony import */ var _edit_actions_SetStyle__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../edit-actions/SetStyle */ \"./extensions/Markup/core/edit-actions/SetStyle.js\");\n/* harmony import */ var _MarkupTypes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n/* harmony import */ var _MarkupEvents__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../MarkupEvents */ \"./extensions/Markup/core/MarkupEvents.js\");\n/* harmony import */ var _EditorTextInput__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./EditorTextInput */ \"./extensions/Markup/core/edit-modes/EditorTextInput.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n *\n * @param editor\n * @constructor\n */\nfunction EditModeText(editor) {\n\n  var styleAttributes = [\n  'font-size',\n  'stroke-color',\n  'stroke-opacity',\n  'fill-color',\n  'fill-opacity',\n  'font-family',\n  'font-style',\n  'font-weight'];\n\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.call(this, editor, _MarkupTypes__WEBPACK_IMPORTED_MODULE_7__.MARKUP_TYPE_TEXT, styleAttributes);\n\n  var helper = new _EditorTextInput__WEBPACK_IMPORTED_MODULE_9__.EditorTextInput(this.viewer.container, this.editor, false, 'Text', 260);\n  helper.addEventListener(helper.EVENT_TEXT_CHANGE, this.onHelperTextChange.bind(this), false);\n  helper.addEventListener(helper.EVENT_TEXT_SET_ACTIVE, this.onHelperSetActive.bind(this), false);\n  helper.addEventListener(helper.EVENT_TEXT_SET_INACTIVE, this.onHelperSetActive.bind(this), false);\n\n  this.textInputHelper = helper;\n  this.onHistoryChangeBinded = this.onHistoryChange.bind(this);\n  this.minSize = 0; // No need to size it initially\n  this.creationMethod = this.CREATION_METHOD_CLICK;\n}\n\nEditModeText.prototype = Object.create(_EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype);\nEditModeText.prototype.constructor = EditModeText;\n\nvar proto = EditModeText.prototype;\n\nproto.deleteMarkup = function (markup, cantUndo) {\n\n  markup = markup || this.selectedMarkup;\n  if (markup && markup.type == this.type) {\n    var deleteText = new _edit_actions_DeleteText__WEBPACK_IMPORTED_MODULE_1__.DeleteText(this.editor, markup);\n    deleteText.addToHistory = !cantUndo;\n    deleteText.execute();\n    return true;\n  }\n  return false;\n};\n\n/**\n *\n * @param style\n */\nproto.setStyle = function (style) {\n\n  if (this.textInputHelper && this.textInputHelper.isActive()) {\n\n    this.textInputHelper.setStyle(style);\n  } else {\n    _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.setStyle.call(this, style);\n  }\n};\n\nproto.notifyAllowNavigation = function (allows) {\n\n  if (allows && this.textInputHelper && this.textInputHelper.isActive()) {\n    this.textInputHelper.acceptAndExit();\n  }\n};\n\nproto.destroy = function () {\n\n  if (this.textInputHelper) {\n    if (this.textInputHelper.isActive()) {\n      this.textInputHelper.acceptAndExit();\n    }\n    this.textInputHelper.destroy();\n    this.textInputHelper = null;\n  }\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.destroy.call(this);\n};\n\n/**\n * Handler to mouse down events, used to start markups creation.\n */\nproto.onMouseDown = function () {\n\n  if (this.textInputHelper && this.textInputHelper.isActive()) {\n    this.textInputHelper.acceptAndExit();\n    return;\n  }\n\n  if (this.selectedMarkup) {\n    return;\n  }\n\n  var editor = this.editor;\n  var mousePosition = editor.getMousePosition();\n  var clientFontSize = editor.sizeFromMarkupsToClient(0, this.style['font-size']).y;\n  var initialWidth = clientFontSize * 15; // Find better way to initialize size.\n  var initialHeight = clientFontSize * 1;\n\n  // Center position.\n  var size = this.size = editor.sizeFromClientToMarkups(initialWidth, initialHeight);\n  var position = editor.positionFromClientToMarkups(\n    mousePosition.x + initialWidth * 0.5,\n    mousePosition.y + initialHeight * 0.5);\n\n  this.creationBegin();\n  editor.beginActionGroup();\n\n  // Given the initial width and font size, we assume that the text fits in one line.\n  var createText = new _edit_actions_CreateText__WEBPACK_IMPORTED_MODULE_3__.CreateText(\n    editor,\n    editor.getId(),\n    position,\n    size,\n    '',\n    this.style);\n\n  createText.execute();\n  this.creationEnd();\n\n  this.selectedMarkup = editor.getMarkup(createText.targetId);\n  this.textInputHelper && this.textInputHelper.setActive(this.selectedMarkup, true);\n  this.editor.actionManager.addEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_8__.EVENT_HISTORY_CHANGED, this.onHistoryChangeBinded);\n};\n\nproto.updateTextBoxStyle = function () {\n  if (this.isTextInputHelperActive()) {\n    this.textInputHelper.onCameraChanged();\n  }\n};\n\nproto.onMouseUp = function (event) {\n\n};\n\nproto.onMouseDoubleClick = function (markup) {\n\n  if (markup === this.selectedMarkup) {\n    this.editor.selectMarkup(markup);\n    this.editor.editFrame.setMarkup(markup);\n    this.textInputHelper && this.textInputHelper.setActive(markup, false);\n  }\n};\n\nproto.onHelperSetActive = function (event) {\n  var databag = event.data;\n  var markup = databag.markup;\n  if (markup) {\n    markup.setIsHelperTextActive(databag.isActive);\n    markup.setIsShapeVisible(!databag.isActive);\n  }\n};\n\nproto.onHelperTextChange = function (event) {\n\n  var dataBag = event.data;\n  var textMarkup = dataBag.markup;\n  var textStyle = dataBag.style;\n  var curSelection = this.selectedMarkup;\n\n  this.editor.actionManager.removeEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_8__.EVENT_HISTORY_CHANGED, this.onHistoryChangeBinded);\n\n  // Deal with edge case first: Creating a Label without text\n  if (dataBag.newText === '') {\n    this.editor.cancelActionGroup();\n\n    var deleteCallout = new _edit_actions_DeleteCallout__WEBPACK_IMPORTED_MODULE_2__.DeleteCallout(this.editor, textMarkup);\n    deleteCallout.execute();\n\n    if (textMarkup !== curSelection) {\n      this.editor.selectMarkup(curSelection);\n    }\n\n    return;\n  }\n\n  // When the text is created for the first time, an action group\n  // is already created and it includes the CreateText action.\n  // Thus, no need to begin another action group.\n  if (!dataBag.firstEdit) {\n    this.editor.beginActionGroup();\n  }\n\n  // Size change action //\n  var position = this.editor.positionFromClientToMarkups(\n    dataBag.newPos.x, dataBag.newPos.y\n  );\n  var size = this.editor.sizeFromClientToMarkups(\n    dataBag.width, dataBag.height\n  );\n  var setSize = new _edit_actions_SetSize__WEBPACK_IMPORTED_MODULE_5__.SetSize(\n    this.editor,\n    textMarkup,\n    position,\n    size.x,\n    size.y);\n  setSize.execute();\n\n  // Text change action //\n  var setText = new _edit_actions_SetText__WEBPACK_IMPORTED_MODULE_4__.SetText(\n    this.editor,\n    textMarkup,\n    textMarkup.position,\n    textMarkup.size,\n    dataBag.newText);\n  setText.execute();\n\n  var setStyle = new _edit_actions_SetStyle__WEBPACK_IMPORTED_MODULE_6__.SetStyle(\n    this.editor,\n    textMarkup,\n    textStyle\n  );\n  setStyle.execute();\n\n  // However, we do need to close the action group at this point. For both cases.\n  this.editor.closeActionGroup();\n  this.editor.selectMarkup(curSelection);\n};\n\n/**\n * We want to make sure that the Input Helper gets removed from the screen\n * whenever the user attempts to perform an undo or redo action.\n * @param {Event} event\n * @private\n */\nproto.onHistoryChange = function (event) {\n\n  if (this.textInputHelper && this.textInputHelper.isActive()) {\n    this.editor.actionManager.removeEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_8__.EVENT_HISTORY_CHANGED, this.onHistoryChangeBinded);\n    this.textInputHelper.setInactive();\n  }\n};\n\n/**\n * Notify the markup that the displayed markups are being saved so edit mode can finish current editions.\n */\nproto.onSave = function () {\n\n  _EditMode__WEBPACK_IMPORTED_MODULE_0__.EditMode.prototype.onSave.call(this);\n\n  // Close input helper if it's open.\n  if (this.textInputHelper && this.textInputHelper.isActive()) {\n    var firstEdit = this.textInputHelper.firstEdit;\n\n    this.editor.actionManager.removeEventListener(_MarkupEvents__WEBPACK_IMPORTED_MODULE_8__.EVENT_HISTORY_CHANGED, this.onHistoryChangeBinded);\n    this.textInputHelper.setInactive();\n\n    // Close action group if open (first edit).s\n    if (firstEdit) {\n      this.editor.cancelActionGroup();\n    }\n\n    this.editor.selectMarkup(null);\n    this.selectedMarkup = null;\n  }\n};\n\nproto.updateTextBoxStyle = function () {\n  if (this.isTextInputHelperActive()) {\n    this.textInputHelper.onCameraChanged();\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtbW9kZXMvRWRpdE1vZGVUZXh0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQWE7O0FBRXlCO0FBQ2tCO0FBQ007QUFDTjtBQUNOO0FBQ0E7QUFDRTtBQUNOO0FBQ0U7QUFDSTs7O0FBR2hEO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDVyxTQUFTVSxZQUFZQSxDQUFDQyxNQUFNLEVBQUU7O0VBRWpDLElBQUlDLGVBQWUsR0FBRztFQUNsQixXQUFXO0VBQ1gsY0FBYztFQUNkLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osY0FBYztFQUNkLGFBQWE7RUFDYixZQUFZO0VBQ1osYUFBYSxDQUNoQjs7RUFDRFosK0NBQVEsQ0FBQ2EsSUFBSSxDQUFDLElBQUksRUFBRUYsTUFBTSxFQUFFSiwwREFBNEIsRUFBRUssZUFBZSxDQUFDOztFQUUxRSxJQUFJRyxNQUFNLEdBQUcsSUFBSU4sNkRBQWUsQ0FBQyxJQUFJLENBQUNPLE1BQU0sQ0FBQ0MsU0FBUyxFQUFFLElBQUksQ0FBQ04sTUFBTSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsR0FBRyxDQUFDO0VBQ3hGSSxNQUFNLENBQUNHLGdCQUFnQixDQUFDSCxNQUFNLENBQUNJLGlCQUFpQixFQUFFLElBQUksQ0FBQ0Msa0JBQWtCLENBQUNDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxLQUFLLENBQUM7RUFDNUZOLE1BQU0sQ0FBQ0csZ0JBQWdCLENBQUNILE1BQU0sQ0FBQ08scUJBQXFCLEVBQUUsSUFBSSxDQUFDQyxpQkFBaUIsQ0FBQ0YsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUssQ0FBQztFQUMvRk4sTUFBTSxDQUFDRyxnQkFBZ0IsQ0FBQ0gsTUFBTSxDQUFDUyx1QkFBdUIsRUFBRSxJQUFJLENBQUNELGlCQUFpQixDQUFDRixJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxDQUFDOztFQUVqRyxJQUFJLENBQUNJLGVBQWUsR0FBR1YsTUFB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QUFDNkUsV0FBVyxDQUFDLENBQUM7RUFDdEM7QUFDSixDQUFDOztBQUVEO0FBQ0o7QUFDQTtBQUNJbkUsS0FBSyxDQUFDb0UsTUFBTSxHQUFHLFlBQVc7O0VBRXRCdkcsK0NBQVEsQ0FBQytCLFNBQVMsQ0FBQ3dFLE1BQU0sQ0FBQzFGLElBQUksQ0FBQyxJQUFJLENBQUM7O0VBRXBDO0VBQ0EsSUFBSSxJQUFJLENBQUNZLGVBQWUsSUFBSSxJQUFJLENBQUNBLGVBQWUsQ0FBQ3FCLFFBQVEsQ0FBQyxDQUFDLEVBQUU7SUFDekQsSUFBSWlELFNBQVMsR0FBRyxJQUFJLENBQUN0RSxlQUFlLENBQUNzRSxTQUFTOztJQUU5QyxJQUFJLENBQUNwRixNQUFNLENBQUM2RCxhQUFhLENBQUNtQixtQkFBbUIsQ0FBQ25GLGdFQUFrQyxFQUFFLElBQUksQ0FBQ2tCLHFCQUFxQixDQUFDO0lBQzdHLElBQUksQ0FBQ0QsZUFBZSxDQUFDNkUsV0FBVyxDQUFDLENBQUM7O0lBRWxDO0lBQ0EsSUFBSVAsU0FBUyxFQUFFO01BQ1gsSUFBSSxDQUFDcEYsTUFBTSxDQUFDa0YsaUJBQWlCLENBQUMsQ0FBQztJQUNuQzs7SUFFQSxJQUFJLENBQUNsRixNQUFNLENBQUNxRSxZQUFZLENBQUMsSUFBSSxDQUFDO0lBQzlCLElBQUksQ0FBQ3pDLGNBQWMsR0FBRyxJQUFJO0VBQzlCO0FBQ0osQ0FBQzs7QUFFREosS0FBSyxDQUFDdUMsa0JBQWtCLEdBQUcsWUFBVztFQUNsQyxJQUFJLElBQUksQ0FBQ0MsdUJBQXVCLENBQUMsQ0FBQyxFQUFFO0lBQ2hDLElBQUksQ0FBQ2xELGVBQWUsQ0FBQ21ELGVBQWUsQ0FBQyxDQUFDO0VBQzFDO0FBQ0osQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtbW9kZXMvRWRpdE1vZGVUZXh0LmpzPzc5OGYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBFZGl0TW9kZSB9IGZyb20gJy4vRWRpdE1vZGUnO1xuaW1wb3J0IHsgRGVsZXRlVGV4dCB9IGZyb20gJy4uL2VkaXQtYWN0aW9ucy9EZWxldGVUZXh0JztcbmltcG9ydCB7IERlbGV0ZUNhbGxvdXQgfSBmcm9tICcuLi9lZGl0LWFjdGlvbnMvRGVsZXRlQ2FsbG91dCc7XG5pbXBvcnQgeyBDcmVhdGVUZXh0IH0gZnJvbSAnLi4vZWRpdC1hY3Rpb25zL0NyZWF0ZVRleHQnO1xuaW1wb3J0IHsgU2V0VGV4dCB9IGZyb20gJy4uL2VkaXQtYWN0aW9ucy9TZXRUZXh0JztcbmltcG9ydCB7IFNldFNpemUgfSBmcm9tICcuLi9lZGl0LWFjdGlvbnMvU2V0U2l6ZSc7XG5pbXBvcnQgeyBTZXRTdHlsZSB9IGZyb20gJy4uL2VkaXQtYWN0aW9ucy9TZXRTdHlsZSc7XG5pbXBvcnQgKiBhcyBNYXJrdXBUeXBlcyBmcm9tICcuLi9NYXJrdXBUeXBlcyc7XG5pbXBvcnQgKiBhcyBNYXJrdXBFdmVudHMgZnJvbSAnLi4vTWFya3VwRXZlbnRzJztcbmltcG9ydCB7IEVkaXRvclRleHRJbnB1dCB9IGZyb20gJy4vRWRpdG9yVGV4dElucHV0JztcblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWRpdG9yXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIEVkaXRNb2RlVGV4dChlZGl0b3IpIHtcblxuICAgICAgICB2YXIgc3R5bGVBdHRyaWJ1dGVzID0gW1xuICAgICAgICAgICAgJ2ZvbnQtc2l6ZScsXG4gICAgICAgICAgICAnc3Ryb2tlLWNvbG9yJyxcbiAgICAgICAgICAgICdzdHJva2Utb3BhY2l0eScsXG4gICAgICAgICAgICAnZmlsbC1jb2xvcicsXG4gICAgICAgICAgICAnZmlsbC1vcGFjaXR5JyxcbiAgICAgICAgICAgICdmb250LWZhbWlseScsXG4gICAgICAgICAgICAnZm9udC1zdHlsZScsXG4gICAgICAgICAgICAnZm9udC13ZWlnaHQnXG4gICAgICAgIF07XG4gICAgICAgIEVkaXRNb2RlLmNhbGwodGhpcywgZWRpdG9yLCBNYXJrdXBUeXBlcy5NQVJLVVBfVFlQRV9URVhULCBzdHlsZUF0dHJpYnV0ZXMpO1xuXG4gICAgICAgIHZhciBoZWxwZXIgPSBuZXcgRWRpdG9yVGV4dElucHV0KHRoaXMudmlld2VyLmNvbnRhaW5lciwgdGhpcy5lZGl0b3IsIGZhbHNlLCAnVGV4dCcsIDI2MCk7XG4gICAgICAgIGhlbHBlci5hZGRFdmVudExpc3RlbmVyKGhlbHBlci5FVkVOVF9URVhUX0NIQU5HRSwgdGhpcy5vbkhlbHBlclRleHRDaGFuZ2UuYmluZCh0aGlzKSwgZmFsc2UpO1xuICAgICAgICBoZWxwZXIuYWRkRXZlbnRMaXN0ZW5lcihoZWxwZXIuRVZFTlRfVEVYVF9TRVRfQUNUSVZFLCB0aGlzLm9uSGVscGVyU2V0QWN0aXZlLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICAgICAgaGVscGVyLmFkZEV2ZW50TGlzdGVuZXIoaGVscGVyLkVWRU5UX1RFWFRfU0VUX0lOQUNUSVZFLCB0aGlzLm9uSGVscGVyU2V0QWN0aXZlLmJpbmQodGhpcyksIGZhbHNlKTtcblxuICAgICAgICB0aGlzLnRleHRJbnB1dEhlbHBlciA9IGhlbHBlcjtcbiAgICAgICAgdGhpcy5vbkhpc3RvcnlDaGFuZ2VCaW5kZWQgPSB0aGlzLm9uSGlzdG9yeUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm1pblNpemUgPSAwOyAvLyBObyBuZWVkIHRvIHNpemUgaXQgaW5pdGlhbGx5XG4gICAgICAgIHRoaXMuY3JlYXRpb25NZXRob2QgPSB0aGlzLkNSRUFUSU9OX01FVEhPRF9DTElDSztcbiAgICB9XG5cbiAgICBFZGl0TW9kZVRleHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFZGl0TW9kZS5wcm90b3R5cGUpO1xuICAgIEVkaXRNb2RlVGV4dC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBFZGl0TW9kZVRleHQ7XG5cbiAgICB2YXIgcHJvdG8gPSBFZGl0TW9kZVRleHQucHJvdG90eXBlO1xuXG4gICAgcHJvdG8uZGVsZXRlTWFya3VwID0gZnVuY3Rpb24obWFya3VwLCBjYW50VW5kbykge1xuXG4gICAgICAgIG1hcmt1cCA9IG1hcmt1cCB8fCB0aGlzLnNlbGVjdGVkTWFya3VwO1xuICAgICAgICBpZiAobWFya3VwICYmIG1hcmt1cC50eXBlID09IHRoaXMudHlwZSkge1xuICAgICAgICAgICAgdmFyIGRlbGV0ZVRleHQgPSBuZXcgRGVsZXRlVGV4dCh0aGlzLmVkaXRvciwgbWFya3VwKTtcbiAgICAgICAgICAgIGRlbGV0ZVRleHQuYWRkVG9IaXN0b3J5ID0gIWNhbnRVbmRvO1xuICAgICAgICAgICAgZGVsZXRlVGV4dC5leGVjdXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHN0eWxlXG4gICAgICovXG4gICAgcHJvdG8uc2V0U3R5bGUgPSBmdW5jdGlvbihzdHlsZSkge1xuXG4gICAgICAgIGlmICh0aGlzLnRleHRJbnB1dEhlbHBlciAmJiB0aGlzLnRleHRJbnB1dEhlbHBlci5pc0FjdGl2ZSgpKSB7XG5cbiAgICAgICAgICAgIHRoaXMudGV4dElucHV0SGVscGVyLnNldFN0eWxlKHN0eWxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIEVkaXRNb2RlLnByb3RvdHlwZS5zZXRTdHlsZS5jYWxsKHRoaXMsIHN0eWxlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwcm90by5ub3RpZnlBbGxvd05hdmlnYXRpb24gPSBmdW5jdGlvbihhbGxvd3MpIHtcblxuICAgICAgICBpZiAoYWxsb3dzICYmIHRoaXMudGV4dElucHV0SGVscGVyICYmIHRoaXMudGV4dElucHV0SGVscGVyLmlzQWN0aXZlKCkpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dElucHV0SGVscGVyLmFjY2VwdEFuZEV4aXQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwcm90by5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgaWYgKHRoaXMudGV4dElucHV0SGVscGVyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50ZXh0SW5wdXRIZWxwZXIuaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dElucHV0SGVscGVyLmFjY2VwdEFuZEV4aXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudGV4dElucHV0SGVscGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMudGV4dElucHV0SGVscGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBFZGl0TW9kZS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVyIHRvIG1vdXNlIGRvd24gZXZlbnRzLCB1c2VkIHRvIHN0YXJ0IG1hcmt1cHMgY3JlYXRpb24uXG4gICAgICovXG4gICAgcHJvdG8ub25Nb3VzZURvd24gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICBpZiAodGhpcy50ZXh0SW5wdXRIZWxwZXIgJiYgdGhpcy50ZXh0SW5wdXRIZWxwZXIuaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0SW5wdXRIZWxwZXIuYWNjZXB0QW5kRXhpdCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRNYXJrdXApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICAgICAgdmFyIG1vdXNlUG9zaXRpb24gPSBlZGl0b3IuZ2V0TW91c2VQb3NpdGlvbigpO1xuICAgICAgICB2YXIgY2xpZW50Rm9udFNpemUgPSBlZGl0b3Iuc2l6ZUZyb21NYXJrdXBzVG9DbGllbnQoMCwgdGhpcy5zdHlsZVsnZm9udC1zaXplJ10pLnk7XG4gICAgICAgIHZhciBpbml0aWFsV2lkdGggPSBjbGllbnRGb250U2l6ZSAqIDE1OyAvLyBGaW5kIGJldHRlciB3YXkgdG8gaW5pdGlhbGl6ZSBzaXplLlxuICAgICAgICB2YXIgaW5pdGlhbEhlaWdodCA9IGNsaWVudEZvbnRTaXplICogMTtcblxuICAgICAgICAvLyBDZW50ZXIgcG9zaXRpb24uXG4gICAgICAgIHZhciBzaXplID0gdGhpcy5zaXplID0gZWRpdG9yLnNpemVGcm9tQ2xpZW50VG9NYXJrdXBzKGluaXRpYWxXaWR0aCwgaW5pdGlhbEhlaWdodCk7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IGVkaXRvci5wb3NpdGlvbkZyb21DbGllbnRUb01hcmt1cHMoXG4gICAgICAgICAgICBtb3VzZVBvc2l0aW9uLnggKyAoaW5pdGlhbFdpZHRoICogMC41KSxcbiAgICAgICAgICAgIG1vdXNlUG9zaXRpb24ueSArIChpbml0aWFsSGVpZ2h0ICogMC41KSk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGlvbkJlZ2luKCk7XG4gICAgICAgIGVkaXRvci5iZWdpbkFjdGlvbkdyb3VwKCk7XG5cbiAgICAgICAgLy8gR2l2ZW4gdGhlIGluaXRpYWwgd2lkdGggYW5kIGZvbnQgc2l6ZSwgd2UgYXNzdW1lIHRoYXQgdGhlIHRleHQgZml0cyBpbiBvbmUgbGluZS5cbiAgICAgICAgdmFyIGNyZWF0ZVRleHQgPSBuZXcgQ3JlYXRlVGV4dChcbiAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgIGVkaXRvci5nZXRJZCgpLFxuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgJycsXG4gICAgICAgICAgICB0aGlzLnN0eWxlKTtcblxuICAgICAgICBjcmVhdGVUZXh0LmV4ZWN1dGUoKTtcbiAgICAgICAgdGhpcy5jcmVhdGlvbkVuZCgpO1xuXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRNYXJrdXAgPSBlZGl0b3IuZ2V0TWFya3VwKGNyZWF0ZVRleHQudGFyZ2V0SWQpO1xuICAgICAgICB0aGlzLnRleHRJbnB1dEhlbHBlciAmJiB0aGlzLnRleHRJbnB1dEhlbHBlci5zZXRBY3RpdmUodGhpcy5zZWxlY3RlZE1hcmt1cCwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuZWRpdG9yLmFjdGlvbk1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihNYXJrdXBFdmVudHMuRVZFTlRfSElTVE9SWV9DSEFOR0VELCB0aGlzLm9uSGlzdG9yeUNoYW5nZUJpbmRlZCk7XG4gICAgfTtcblxuICAgIHByb3RvLnVwZGF0ZVRleHRCb3hTdHlsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5pc1RleHRJbnB1dEhlbHBlckFjdGl2ZSgpKSB7XG4gICAgICAgICAgICB0aGlzLnRleHRJbnB1dEhlbHBlci5vbkNhbWVyYUNoYW5nZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwcm90by5vbk1vdXNlVXAgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgfTtcblxuICAgIHByb3RvLm9uTW91c2VEb3VibGVDbGljayA9IGZ1bmN0aW9uKG1hcmt1cCkge1xuXG4gICAgICAgIGlmIChtYXJrdXAgPT09IHRoaXMuc2VsZWN0ZWRNYXJrdXApIHtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLnNlbGVjdE1hcmt1cChtYXJrdXApO1xuICAgICAgICAgICAgdGhpcy5lZGl0b3IuZWRpdEZyYW1lLnNldE1hcmt1cChtYXJrdXApO1xuICAgICAgICAgICAgdGhpcy50ZXh0SW5wdXRIZWxwZXIgJiYgdGhpcy50ZXh0SW5wdXRIZWxwZXIuc2V0QWN0aXZlKG1hcmt1cCwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByb3RvLm9uSGVscGVyU2V0QWN0aXZlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdmFyIGRhdGFiYWcgPSBldmVudC5kYXRhO1xuICAgICAgICB2YXIgbWFya3VwID0gZGF0YWJhZy5tYXJrdXA7XG4gICAgICAgIGlmIChtYXJrdXApIHtcbiAgICAgICAgICAgIG1hcmt1cC5zZXRJc0hlbHBlclRleHRBY3RpdmUoZGF0YWJhZy5pc0FjdGl2ZSk7XG4gICAgICAgICAgICBtYXJrdXAuc2V0SXNTaGFwZVZpc2libGUoIWRhdGFiYWcuaXNBY3RpdmUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByb3RvLm9uSGVscGVyVGV4dENoYW5nZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgdmFyIGRhdGFCYWcgPSBldmVudC5kYXRhO1xuICAgICAgICB2YXIgdGV4dE1hcmt1cCA9IGRhdGFCYWcubWFya3VwO1xuICAgICAgICB2YXIgdGV4dFN0eWxlID0gZGF0YUJhZy5zdHlsZTtcbiAgICAgICAgdmFyIGN1clNlbGVjdGlvbiA9IHRoaXMuc2VsZWN0ZWRNYXJrdXA7XG5cbiAgICAgICAgdGhpcy5lZGl0b3IuYWN0aW9uTWFuYWdlci5yZW1vdmVFdmVudExpc3RlbmVyKE1hcmt1cEV2ZW50cy5FVkVOVF9ISVNUT1JZX0NIQU5HRUQsIHRoaXMub25IaXN0b3J5Q2hhbmdlQmluZGVkKTtcblxuICAgICAgICAvLyBEZWFsIHdpdGggZWRnZSBjYXNlIGZpcnN0OiBDcmVhdGluZyBhIExhYmVsIHdpdGhvdXQgdGV4dFxuICAgICAgICBpZiAoZGF0YUJhZy5uZXdUZXh0ID09PSAnJykge1xuICAgICAgICAgICAgdGhpcy5lZGl0b3IuY2FuY2VsQWN0aW9uR3JvdXAoKTtcblxuICAgICAgICAgICAgdmFyIGRlbGV0ZUNhbGxvdXQgPSBuZXcgRGVsZXRlQ2FsbG91dCh0aGlzLmVkaXRvciwgdGV4dE1hcmt1cCk7XG4gICAgICAgICAgICBkZWxldGVDYWxsb3V0LmV4ZWN1dGUoKTtcblxuICAgICAgICAgICAgaWYgKHRleHRNYXJrdXAgIT09IGN1clNlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuZWRpdG9yLnNlbGVjdE1hcmt1cChjdXJTZWxlY3Rpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXaGVuIHRoZSB0ZXh0IGlzIGNyZWF0ZWQgZm9yIHRoZSBmaXJzdCB0aW1lLCBhbiBhY3Rpb24gZ3JvdXBcbiAgICAgICAgLy8gaXMgYWxyZWFkeSBjcmVhdGVkIGFuZCBpdCBpbmNsdWRlcyB0aGUgQ3JlYXRlVGV4dCBhY3Rpb24uXG4gICAgICAgIC8vIFRodXMsIG5vIG5lZWQgdG8gYmVnaW4gYW5vdGhlciBhY3Rpb24gZ3JvdXAuXG4gICAgICAgIGlmICghZGF0YUJhZy5maXJzdEVkaXQpIHtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLmJlZ2luQWN0aW9uR3JvdXAoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNpemUgY2hhbmdlIGFjdGlvbiAvL1xuICAgICAgICB2YXIgcG9zaXRpb24gPSB0aGlzLmVkaXRvci5wb3NpdGlvbkZyb21DbGllbnRUb01hcmt1cHMoXG4gICAgICAgICAgICBkYXRhQmFnLm5ld1Bvcy54LCBkYXRhQmFnLm5ld1Bvcy55XG4gICAgICAgICk7XG4gICAgICAgIHZhciBzaXplID0gdGhpcy5lZGl0b3Iuc2l6ZUZyb21DbGllbnRUb01hcmt1cHMoXG4gICAgICAgICAgICBkYXRhQmFnLndpZHRoLCBkYXRhQmFnLmhlaWdodFxuICAgICAgICApO1xuICAgICAgICB2YXIgc2V0U2l6ZSA9IG5ldyBTZXRTaXplKFxuICAgICAgICAgICAgdGhpcy5lZGl0b3IsXG4gICAgICAgICAgICB0ZXh0TWFya3VwLFxuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICBzaXplLngsXG4gICAgICAgICAgICBzaXplLnkpO1xuICAgICAgICBzZXRTaXplLmV4ZWN1dGUoKTtcblxuICAgICAgICAvLyBUZXh0IGNoYW5nZSBhY3Rpb24gLy9cbiAgICAgICAgdmFyIHNldFRleHQgPSBuZXcgU2V0VGV4dChcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLFxuICAgICAgICAgICAgdGV4dE1hcmt1cCxcbiAgICAgICAgICAgIHRleHRNYXJrdXAucG9zaXRpb24sXG4gICAgICAgICAgICB0ZXh0TWFya3VwLnNpemUsXG4gICAgICAgICAgICBkYXRhQmFnLm5ld1RleHQpO1xuICAgICAgICBzZXRUZXh0LmV4ZWN1dGUoKTtcblxuICAgICAgICB2YXIgc2V0U3R5bGUgPSBuZXcgU2V0U3R5bGUoXG4gICAgICAgICAgICB0aGlzLmVkaXRvcixcbiAgICAgICAgICAgIHRleHRNYXJrdXAsXG4gICAgICAgICAgICB0ZXh0U3R5bGVcbiAgICAgICAgKTtcbiAgICAgICAgc2V0U3R5bGUuZXhlY3V0ZSgpO1xuXG4gICAgICAgIC8vIEhvd2V2ZXIsIHdlIGRvIG5lZWQgdG8gY2xvc2UgdGhlIGFjdGlvbiBncm91cCBhdCB0aGlzIHBvaW50LiBGb3IgYm90aCBjYXNlcy5cbiAgICAgICAgdGhpcy5lZGl0b3IuY2xvc2VBY3Rpb25Hcm91cCgpO1xuICAgICAgICB0aGlzLmVkaXRvci5zZWxlY3RNYXJrdXAoY3VyU2VsZWN0aW9uKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV2Ugd2FudCB0byBtYWtlIHN1cmUgdGhhdCB0aGUgSW5wdXQgSGVscGVyIGdldHMgcmVtb3ZlZCBmcm9tIHRoZSBzY3JlZW5cbiAgICAgKiB3aGVuZXZlciB0aGUgdXNlciBhdHRlbXB0cyB0byBwZXJmb3JtIGFuIHVuZG8gb3IgcmVkbyBhY3Rpb24uXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByb3RvLm9uSGlzdG9yeUNoYW5nZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgaWYgKHRoaXMudGV4dElucHV0SGVscGVyICYmIHRoaXMudGV4dElucHV0SGVscGVyLmlzQWN0aXZlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLmFjdGlvbk1hbmFnZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihNYXJrdXBFdmVudHMuRVZFTlRfSElTVE9SWV9DSEFOR0VELCB0aGlzLm9uSGlzdG9yeUNoYW5nZUJpbmRlZCk7XG4gICAgICAgICAgICB0aGlzLnRleHRJbnB1dEhlbHBlci5zZXRJbmFjdGl2ZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE5vdGlmeSB0aGUgbWFya3VwIHRoYXQgdGhlIGRpc3BsYXllZCBtYXJrdXBzIGFyZSBiZWluZyBzYXZlZCBzbyBlZGl0IG1vZGUgY2FuIGZpbmlzaCBjdXJyZW50IGVkaXRpb25zLlxuICAgICAqL1xuICAgIHByb3RvLm9uU2F2ZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIEVkaXRNb2RlLnByb3RvdHlwZS5vblNhdmUuY2FsbCh0aGlzKTtcblxuICAgICAgICAvLyBDbG9zZSBpbnB1dCBoZWxwZXIgaWYgaXQncyBvcGVuLlxuICAgICAgICBpZiAodGhpcy50ZXh0SW5wdXRIZWxwZXIgJiYgdGhpcy50ZXh0SW5wdXRIZWxwZXIuaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgdmFyIGZpcnN0RWRpdCA9IHRoaXMudGV4dElucHV0SGVscGVyLmZpcnN0RWRpdDtcblxuICAgICAgICAgICAgdGhpcy5lZGl0b3IuYWN0aW9uTWFuYWdlci5yZW1vdmVFdmVudExpc3RlbmVyKE1hcmt1cEV2ZW50cy5FVkVOVF9ISVNUT1JZX0NIQU5HRUQsIHRoaXMub25IaXN0b3J5Q2hhbmdlQmluZGVkKTtcbiAgICAgICAgICAgIHRoaXMudGV4dElucHV0SGVscGVyLnNldEluYWN0aXZlKCk7XG5cbiAgICAgICAgICAgIC8vIENsb3NlIGFjdGlvbiBncm91cCBpZiBvcGVuIChmaXJzdCBlZGl0KS5zXG4gICAgICAgICAgICBpZiAoZmlyc3RFZGl0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0b3IuY2FuY2VsQWN0aW9uR3JvdXAoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5lZGl0b3Iuc2VsZWN0TWFya3VwKG51bGwpO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1hcmt1cCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvdG8udXBkYXRlVGV4dEJveFN0eWxlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmlzVGV4dElucHV0SGVscGVyQWN0aXZlKCkpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dElucHV0SGVscGVyLm9uQ2FtZXJhQ2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuIl0sIm5hbWVzIjpbIkVkaXRNb2RlIiwiRGVsZXRlVGV4dCIsIkRlbGV0ZUNhbGxvdXQiLCJDcmVhdGVUZXh0IiwiU2V0VGV4dCIsIlNldFNpemUiLCJTZXRTdHlsZSIsIk1hcmt1cFR5cGVzIiwiTWFya3VwRXZlbnRzIiwiRWRpdG9yVGV4dElucHV0IiwiRWRpdE1vZGVUZXh0IiwiZWRpdG9yIiwic3R5bGVBdHRyaWJ1dGVzIiwiY2FsbCIsIk1BUktVUF9UWVBFX1RFWFQiLCJoZWxwZXIiLCJ2aWV3ZXIiLCJjb250YWluZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiRVZFTlRfVEVYVF9DSEFOR0UiLCJvbkhlbHBlclRleHRDaGFuZ2UiLCJiaW5kIiwiRVZFTlRfVEVYVF9TRVRfQUNUSVZFIiwib25IZWxwZXJTZXRBY3RpdmUiLCJFVkVOVF9URVhUX1NFVF9JTkFDVElWRSIsInRleHRJbnB1dEhlbHBlciIsIm9uSGlzdG9yeUNoYW5nZUJpbmRlZCIsIm9uSGlzdG9yeUNoYW5nZSIsIm1pblNpemUiLCJjcmVhdGlvbk1ldGhvZCIsIkNSRUFUSU9OX01FVEhPRF9DTElDSyIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwicHJvdG8iLCJkZWxldGVNYXJrdXAiLCJtYXJrdXAiLCJjYW50VW5kbyIsInNlbGVjdGVkTWFya3VwIiwidHlwZSIsImRlbGV0ZVRleHQiLCJhZGRUb0hpc3RvcnkiLCJleGVjdXRlIiwic2V0U3R5bGUiLCJzdHlsZSIsImlzQWN0aXZlIiwibm90aWZ5QWxsb3dOYXZpZ2F0aW9uIiwiYWxsb3dzIiwiYWNjZXB0QW5kRXhpdCIsImRlc3Ryb3kiLCJvbk1vdXNlRG93biIsIm1vdXNlUG9zaXRpb24iLCJnZXRNb3VzZVBvc2l0aW9uIiwiY2xpZW50Rm9udFNpemUiLCJzaXplRnJvbU1hcmt1cHNUb0NsaWVudCIsInkiLCJpbml0aWFsV2lkdGgiLCJpbml0aWFsSGVpZ2h0Iiwic2l6ZSIsInNpemVGcm9tQ2xpZW50VG9NYXJrdXBzIiwicG9zaXRpb24iLCJwb3NpdGlvbkZyb21DbGllbnRUb01hcmt1cHMiLCJ4IiwiY3JlYXRpb25CZWdpbiIsImJlZ2luQWN0aW9uR3JvdXAiLCJjcmVhdGVUZXh0IiwiZ2V0SWQiLCJjcmVhdGlvbkVuZCIsImdldE1hcmt1cCIsInRhcmdldElkIiwic2V0QWN0aXZlIiwiYWN0aW9uTWFuYWdlciIsIkVWRU5UX0hJU1RPUllfQ0hBTkdFRCIsInVwZGF0ZVRleHRCb3hTdHlsZSIsImlzVGV4dElucHV0SGVscGVyQWN0aXZlIiwib25DYW1lcmFDaGFuZ2VkIiwib25Nb3VzZVVwIiwiZXZlbnQiLCJvbk1vdXNlRG91YmxlQ2xpY2siLCJzZWxlY3RNYXJrdXAiLCJlZGl0RnJhbWUiLCJzZXRNYXJrdXAiLCJkYXRhYmFnIiwiZGF0YSIsInNldElzSGVscGVyVGV4dEFjdGl2ZSIsInNldElzU2hhcGVWaXNpYmxlIiwiZGF0YUJhZyIsInRleHRNYXJrdXAiLCJ0ZXh0U3R5bGUiLCJjdXJTZWxlY3Rpb24iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibmV3VGV4dCIsImNhbmNlbEFjdGlvbkdyb3VwIiwiZGVsZXRlQ2FsbG91dCIsImZpcnN0RWRpdCIsIm5ld1BvcyIsIndpZHRoIiwiaGVpZ2h0Iiwic2V0U2l6ZSIsInNldFRleHQiLCJjbG9zZUFjdGlvbkdyb3VwIiwic2V0SW5hY3RpdmUiLCJvblNhdmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-modes/EditModeText.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-modes/EditorTextAutosize.js":
/*!*****************************************************************!*\
  !*** ./extensions/Markup/core/edit-modes/EditorTextAutosize.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   autosize: () => (/* binding */ autosize)\n/* harmony export */ });\n\n\n\n/*!\n    Based on Autosize 4.0.0\n    license: MIT\n    http://www.jacklmoore.com/autosize\n*/\nvar map = typeof Map === \"function\" ? new Map() : function () {\n  var keys = [];\n  var values = [];\n\n  return {\n    has: function has(key) {\n      return keys.indexOf(key) > -1;\n    },\n    get: function get(key) {\n      return values[keys.indexOf(key)];\n    },\n    set: function set(key, value) {\n      if (keys.indexOf(key) === -1) {\n        keys.push(key);\n        values.push(value);\n      }\n    },\n    'delete': function _delete(key) {\n      var index = keys.indexOf(key);\n      if (index > -1) {\n        keys.splice(index, 1);\n        values.splice(index, 1);\n      }\n    }\n  };\n}();\n\nvar createEvent = function createEvent(name) {\n  return new Event(name, { bubbles: true });\n};\n\nfunction assign(ta) {\n  if (!ta || !ta.nodeName || ta.nodeName !== 'TEXTAREA' || map.has(ta)) return;\n\n  var heightOffset = null;\n  var clientWidth = ta.clientWidth;\n  var cachedHeight = null;\n\n  const self = this;\n  function init() {\n    const _window = self.getWindow();\n    var style = _window.getComputedStyle(ta, null);\n\n    if (style.resize === 'vertical') {\n      ta.style.resize = 'none';\n    } else if (style.resize === 'both') {\n      ta.style.resize = 'horizontal';\n    }\n\n    if (style.boxSizing === 'content-box') {\n      heightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));\n    } else {\n      heightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n    }\n    // Fix when a textarea is not on document body and heightOffset is Not a Number\n    if (isNaN(heightOffset)) {\n      heightOffset = 0;\n    }\n\n    update();\n  }\n\n  function changeOverflow(value) {\n    {\n      // Chrome/Safari-specific fix:\n      // When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space\n      // made available by removing the scrollbar. The following forces the necessary text reflow.\n      var width = ta.style.width;\n      ta.style.width = '0px';\n      // Force reflow:\n      /* jshint ignore:start */\n      ta.offsetWidth;\n      /* jshint ignore:end */\n      ta.style.width = width;\n    }\n\n    ta.style.overflow = value;\n  }\n\n  function getParentOverflows(el) {\n    var arr = [];\n\n    while (el && el.parentNode && el.parentNode instanceof Element) {\n      if (el.parentNode.scrollTop) {\n        arr.push({\n          node: el.parentNode,\n          scrollTop: el.parentNode.scrollTop\n        });\n      }\n      el = el.parentNode;\n    }\n\n    return arr;\n  }\n\n  function resize() {\n    var originalHeight = ta.style.height;\n    var overflows = getParentOverflows(ta);\n    const _document = self.getDocument();\n    var docTop = _document.documentElement && _document.documentElement.scrollTop; // Needed for Mobile IE (ticket #240)\n\n    ta.style.height = '';\n\n    var endHeight = ta.scrollHeight + heightOffset;\n\n    if (ta.scrollHeight === 0) {\n      // If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.\n      ta.style.height = originalHeight;\n      return;\n    }\n\n    ta.style.height = endHeight + 'px';\n\n    // used to check if an update is actually necessary on window.resize\n    clientWidth = ta.clientWidth;\n\n    // prevents scroll-position jumping\n    overflows.forEach(function (el) {\n      // This condition is necessary for iOS 11, where you can't assign value to body.scrollTop\n      if (el.node.scrollTop !== el.scrollTop) {\n        el.node.scrollTop = el.scrollTop;\n      }\n    });\n\n    if (docTop) {\n      _document.documentElement.scrollTop = docTop;\n    }\n  }\n\n  function update() {\n    resize();\n\n    const _window = self.getWindow();\n    var styleHeight = Math.round(parseFloat(ta.style.height));\n    var computed = _window.getComputedStyle(ta, null);\n\n    // Using offsetHeight as a replacement for computed.height in IE, because IE does not account use of border-box\n    var actualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(computed.height)) : ta.offsetHeight;\n\n    // The actual height not matching the style height (set via the resize method) indicates that\n    // the max-height has been exceeded, in which case the overflow should be allowed.\n    if (actualHeight !== styleHeight) {\n      if (computed.overflow === 'hidden') {\n        changeOverflow('scroll');\n        resize();\n        actualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n      }\n    } else {\n      // Normally keep overflow set to hidden, to avoid flash of scrollbar as the textarea expands.\n      if (computed.overflow !== 'hidden') {\n        changeOverflow('hidden');\n        resize();\n        actualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n      }\n    }\n\n    if (cachedHeight !== actualHeight) {\n      cachedHeight = actualHeight;\n      var evt = createEvent('autosize:resized');\n      try {\n        ta.dispatchEvent(evt);\n      } catch (err) {\n\n\n        // Firefox will throw an error on dispatchEvent for a detached element\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=889376\n      }}}\n\n  var pageResize = function pageResize() {\n    if (ta.clientWidth !== clientWidth) {\n      update();\n    }\n  };\n\n  var destroy = function (style) {\n    self.removeWindowEventListener('resize', pageResize, false);\n    ta.removeEventListener('input', update, false);\n    ta.removeEventListener('keyup', update, false);\n    ta.removeEventListener('autosize:destroy', destroy, false);\n    ta.removeEventListener('autosize:update', update, false);\n\n    Object.keys(style).forEach(function (key) {\n      ta.style[key] = style[key];\n    });\n\n    map['delete'](ta);\n  }.bind(ta, {\n    height: ta.style.height,\n    resize: ta.style.resize,\n    overflow: ta.style.overflow,\n    overflowX: ta.style.overflowX,\n    wordWrap: ta.style.wordWrap\n  });\n\n  ta.addEventListener('autosize:destroy', destroy, false);\n\n  // IE9 does not fire onpropertychange or oninput for deletions,\n  // so binding to onkeyup to catch most of those events.\n  // There is no way that I know of to detect something like 'cut' in IE9.\n  if ('onpropertychange' in ta && 'oninput' in ta) {\n    ta.addEventListener('keyup', update, false);\n  }\n\n  self.addWindowEventListener('resize', pageResize, false);\n  ta.addEventListener('input', update, false);\n  ta.addEventListener('autosize:update', update, false);\n  ta.style.overflowX = 'hidden';\n  ta.style.wordWrap = 'break-word';\n\n  map.set(ta, {\n    destroy: destroy,\n    update: update\n  });\n\n  init();\n}\n\nfunction destroy(ta) {\n  var methods = map.get(ta);\n  if (methods) {\n    methods.destroy();\n  }\n}\n\nfunction update(ta) {\n  var methods = map.get(ta);\n  if (methods) {\n    methods.update();\n  }\n}\n\nfunction isRuntimeSupported() {\n  // Don't support Node.js and IE8 (or lower)\n  if (typeof window === 'undefined' || typeof window.getComputedStyle !== 'function')\n  return false;\n  return true;\n}\n\nconst RUNTIME_SUPPORTED = isRuntimeSupported();\n\n\nvar autosize = function (el, options) {\n  const self = this;\n  if (RUNTIME_SUPPORTED && el) {\n    Array.prototype.forEach.call(el.length ? el : [el], function (x) {\n      return assign.bind(self)(x, options);\n    });\n  }\n  return el;\n};\n\nautosize.destroy = function (el) {\n  if (RUNTIME_SUPPORTED && el) {\n    Array.prototype.forEach.call(el.length ? el : [el], destroy);\n  }\n  return el;\n};\n\nautosize.update = function (el) {\n  if (RUNTIME_SUPPORTED && el) {\n    Array.prototype.forEach.call(el.length ? el : [el], update);\n  }\n  return el;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtbW9kZXMvRWRpdG9yVGV4dEF1dG9zaXplLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQ2E7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUlBLEdBQUcsR0FBRyxPQUFPQyxHQUFHLEtBQUssVUFBVSxHQUFHLElBQUlBLEdBQUcsQ0FBQyxDQUFDLEdBQUksWUFBWTtFQUMzRCxJQUFJQyxJQUFJLEdBQUcsRUFBRTtFQUNiLElBQUlDLE1BQU0sR0FBRyxFQUFFOztFQUVmLE9BQU87SUFDSEMsR0FBRyxFQUFFLFNBQVNBLEdBQUdBLENBQUNDLEdBQUcsRUFBRTtNQUNuQixPQUFPSCxJQUFJLENBQUNJLE9BQU8sQ0FBQ0QsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFDREUsR0FBRyxFQUFFLFNBQVNBLEdBQUdBLENBQUNGLEdBQUcsRUFBRTtNQUNuQixPQUFPRixNQUFNLENBQUNELElBQUksQ0FBQ0ksT0FBTyxDQUFDRCxHQUFHLENBQUMsQ0FBQztJQUNwQyxDQUFDO0lBQ0RHLEdBQUcsRUFBRSxTQUFTQSxHQUFHQSxDQUFDSCxHQUFHLEVBQUVJLEtBQUssRUFBRTtNQUMxQixJQUFJUCxJQUFJLENBQUNJLE9BQU8sQ0FBQ0QsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUU7UUFDMUJILElBQUksQ0FBQ1EsSUFBSSxDQUFDTCxHQUFHLENBQUM7UUFDZEYsTUFBTSxDQUFDTyxJQUFJLENBQUNELEtBQUssQ0FBQztNQUN0QjtJQUNKLENBQUM7SUFDRCxRQUFRLEVBQUUsU0FBU0UsT0FBT0EsQ0FBQ04sR0FBRyxFQUFFO01BQzVCLElBQUlPLEtBQUssR0FBR1YsSUFBSSxDQUFDSSxPQUFPLENBQUNELEdBQUcsQ0FBQztNQUM3QixJQUFJTyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEVBQUU7UUFDWlYsSUFBSSxDQUFDVyxNQUFNLENBQUNELEtBQUssRUFBRSxDQUFDLENBQUM7UUFDckJULE1BQU0sQ0FBQ1UsTUFBTSxDQUFDRCxLQUFLLEVBQUUsQ0FBQyxDQUFDO01BQzNCO0lBQ0o7RUFDSixDQUFDO0FBQ0wsQ0FBQyxDQUFFLENBQUM7O0FBRUosSUFBSUUsV0FBVyxHQUFHLFNBQVNBLFdBQVdBLENBQUNDLElBQUksRUFBRTtFQUN6QyxPQUFPLElBQUlDLEtBQUssQ0FBQ0QsSUFBSSxFQUFFLEVBQUVFLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQzdDLENBQUM7O0FBRUQsU0FBU0MsTUFBTUEsQ0FBQ0MsRUFBRSxFQUFFO0VBQ2hCLElBQUksQ0FBQ0EsRUFBRSxJQUFJLENBQUNBLEVBQUUsQ0FBQ0MsUUFBUSxJQUFJRCxFQUFFLENBQUNDLFFBQVEsS0FBSyxVQUFVLElBQUlwQixHQUFHLENBQUNJLEdBQUcsQ0FBQ2UsRUFBRSxDQUFDLEVBQUU7O0VBRXRFLElBQUlFLFlBQVksR0FBRyxJQUFJO0VBQ3ZCLElBQUlDLFdBQVcsR0FBR0gsRUFBRSxDQUFDRyxXQUFXO0VBQ2hDLElBQUlDLFlBQVksR0FBRyxJQUFJOztFQUV2QixNQUFNQyxJQUFJLEdBQUcsSUFBSTtFQUNqQixTQUFTQyxJQUFJQSxDQUFBLEVBQUc7SUFDWixNQUFNQyxPQUFPLEdBQUdGLElBQUksQ0FBQ0csU0FBUyxDQUFDLENBQUM7SUFDaEMsSUFBSUMsS0FBSyxHQUFHRixPQUFPLENBQUNHLGdCQUFnQixDQUFDVixFQUFFLEVBQUUsSUFBSSxDQUFDOztJQUU5QyxJQUFJUyxLQUFLLENBQUNFLE1BQU0sS0FBSyxVQUFVLEVBQUU7TUFDN0JYLEVBQUUsQ0FBQ1MsS0FBSyxDQUFDRSxNQUFNLEdBQUcsTUFBTTtJQUM1QixDQUFDLE1BQU0sSUFBSUYsS0FBSyxDQUFDRSxNQUFNLEtBQUssTUFBTSxFQUFFO01BQ2hDWCxFQUFFLENBQUNTLEtBQUssQ0FBQ0UsTUFBTSxHQUFHLFlBQVk7SUFDbEM7O0lBRUEsSUFBSUYsS0FBSyxDQUFDRyxTQUFTLEtBQUssYUFBYSxFQUFFO01BQ25DVixZQUFZLEdBQUcsRUFBRVcsVUFBVSxDQUFDSixLQUFLLENBQUNLLFVBQVUsQ0FBQyxHQUFHRCxVQUFVLENBQUNKLEtBQUssQ0FBQ00sYUFBYSxDQUFDLENBQUM7SUFDcEYsQ0FBQyxNQUFNO01BQ0hiLFlBQVksR0FBR1csVUFBVSxDQUFDSixLQUFLLENBQUNPLGNBQWMsQ0FBQyxHQUFHSCxVQUFVLENBQUNKLEtBQUssQ0FBQ1EsaUJBQWlCLENBQUM7SUFDekY7SUFDQTtJQUNBLElBQUlDLEtBQUssQ0FBQ2hCLFlBQVksQ0FBQyxFQUFFO01BQ3JCQSxZQUFZLEdBQUcsQ0FBQztJQUNwQjs7SUFFQWlCLE1BQU0sQ0FBQyxDQUFDO0VBQ1o7O0VBRUEsU0FBU0MsY0FBY0EsQ0FBQzlCLEtBQUssRUFBRTtJQUMzQjtNQUNJO01BQ0E7TUFDQTtNQUNBLElBQUkrQixLQUFLLEdBQUdyQixFQUFFLENBQUNTLEtBQUssQ0FBQ1ksS0FBSztNQUMxQnJCLEVBQUUsQ0FBQ1MsS0FBSyxDQUFDWSxLQUFLLEdBQUcsS0FBSztNQUN0QjtNQUNBO01BQ0FyQixFQUFFLENBQUNzQixXQUFXO01BQ2Q7TUFDQXRCLEVBQUUsQ0FBQ1MsS0FBSyxDQUFDWSxLQUFLLEdBQUdBLEtBQUs7SUFDMUI7O0lBRUFyQixFQUFFLENBQUNTLEtBQUssQ0FBQ2MsUUFBUSxHQUFHakMsS0FBSztFQUM3Qjs7RUFFQSxTQUFTa0Msa0JBQWtCQSxDQUFDQyxFQUFFLEVBQUU7SUFDNUIsSUFBSUMsR0FBRyxHQUFHLEVBQUU7O0lBRVosT0FBT0QsRUFBRSxJQUFJQSxFQUFFLENBQUNFLFVBQVUsSUFBSUYsRUFBRSxDQUFDRSxVQUFVLFlBQVlDLE9BQU8sRUFBRTtNQUM1RCxJQUFJSCxFQUFFLENBQUNFLFVBQVUsQ0FBQ0UsU0FBUyxFQUFFO1FBQ3pCSCxHQUFHLENBQUNuQyxJQUFJLENBQUM7VUFDTHVDLElBQUksRUFBRUwsRUFBRSxDQUFDRSxVQUFVO1VBQ25CRSxTQUFTLEVBQUVKLEVBQUUsQ0FBQ0UsVUFBVSxDQUFDRTtRQUM3QixDQUFDLENBQUM7TUFDTjtNQUNBSixFQUFFLEdBQUdBLEVBQUUsQ0FBQ0UsVUFBVTtJQUN0Qjs7SUFFQSxPQUFPRCxHQUFHO0VBQ2Q7O0VBRUEsU0FBU2YsTUFBTUEsQ0FBQSxFQUFHO0lBQ2QsSUFBSW9CLGNBQWMsR0FBRy9CLEVBQUUsQ0FBQ1MsS0FBSyxDQUFDdUIsTUFBTTtJQUNwQyxJQUFJQyxTQUFTLEdBQUdULGtCQUFrQixDQUFDeEIsRUFBRSxDQUFDO0lBQ3RDLE1BQU1rQyxTQUFTLEdBQUc3QixJQUFJLENBQUM4QixXQUFXLENBQUMsQ0FBQztJQUNwQyxJQUFJQyxNQUFNLEdBQUdGLFNBQVMsQ0FBQ0csZUFBZSxJQUFJSCxTQUFTLENBQUNHLGVBQWUsQ0FBQ1IsU0FBUyxDQUFDLENBQUM7O0lBRS9FN0IsRUFBRSxDQUFDUyxLQUFLLENBQUN1QixNQUFNLEdBQUcsRUFBRTs7SUFFcEIsSUFBSU0sU0FBUyxHQUFHdEMsRUFBRSxDQUFDdUMsWUFBWSxHQUFHckMsWUFBWTs7SUFFOUMsSUFBSUYsRUFBRSxDQUFDdUMsWUFBWSxLQUFLLENBQUMsRUFBRTtNQUN2QjtNQUNBdkMsRUFBRSxDQUFDUyxLQUFLLENBQUN1QixNQUFNLEdBQUdELGNBQWM7TUFDaEM7SUFDSjs7SUFFQS9CLEVBQUUsQ0FBQ1MsS0FBSyxDQUFDdUIsTUFBTSxHQUFHTSxTQUFTLEdBQUcsSUFBSTs7SUFFbEM7SUFDQW5DLFdBQVcsR0FBR0gsRUFBRSxDQUFDRyxXQUFXOztJQUU1QjtJQUNBOEIsU0FBUyxDQUFDTyxPQUFPLENBQUMsVUFBVWYsRUFBRSxFQUFFO01BQzVCO01BQ0EsSUFBSUEsRUFBRSxDQUFDSyxJQUFJLENBQUNELFNBQVMsS0FBS0osRUFBRSxDQUFDSSxTQUFTLEVBQUU7UUFDcENKLEVBQUUsQ0FBQ0ssSUFBSSxDQUFDRCxTQUFTLEdBQUdKLEVBQUUsQ0FBQ0ksU0FBUztNQUNwQztJQUNKLENBQUMsQ0FBQzs7SUFFRixJQUFJTyxNQUFNLEVBQUU7TUFDUkYsU0FBUyxDQUFDRyxlQUFlLENBQUNSLFNBQVMsR0FBR08sTUFBTTtJQUNoRDtFQUNKOztFQUVBLFNBQVNqQixNQUFNQSxDQUFBLEVBQUc7SUFDZFIsTUFBTSxDQUFDLENBQUM7O0lBRVIsTUFBTUosT0FBTyxHQUFHRixJQUFJLENBQUNHLFNBQVMsQ0FBQyxDQUFDO0lBQ2hDLElBQUlpQyxXQUFXLEdBQUdDLElBQUksQ0FBQ0MsS0FBSyxDQUFDOUIsVUFBVSxDQUFDYixFQUFFLENBQUNTLEtBQUssQ0FBQ3VCLE1BQU0sQ0FBQyxDQUFDO0lBQ3pELElBQUlZLFFBQVEsR0FBR3JDLE9BQU8sQ0FBQ0csZ0JBQWdCLENBQUNWLEVBQUUsRUFBRSxJQUFJLENBQUM7O0lBRWpEO0lBQ0EsSUFBSTZDLFlBQVksR0FBR0QsUUFBUSxDQUFDaEMsU0FBUyxLQUFLLGFBQWEsR0FBRzhCLElBQUksQ0FBQ0MsS0FBSyxDQUFDOUIsVUFBVSxDQUFDK0IsUUFBUSxDQUFDWixNQUFNLENBQUMsQ0FBQyxHQUFHaEMsRUFBRSxDQUFDOEMsWUFBWTs7SUFFbkg7SUFDQTtJQUNBLElBQUlELFlBQVksS0FBS0osV0FBVyxFQUFFO01BQzlCLElBQUlHLFFBQVEsQ0FBQ3JCLFFBQVEsS0FBSyxRQUFRLEVBQUU7UUFDaENILGNBQWMsQ0FBQyxRQUFRLENBQUM7UUFDeEJULE1BQU0sQ0FBQyxDQUFDO1FBQ1JrQyxZQUFZLEdBQUdELFFBQVEsQ0FBQ2hDLFNBQVMsS0FBSyxhQUFhLEdBQUc4QixJQUFJLENBQUNDLEtBQUssQ0FBQzlCLFVBQVUsQ0FBQ2tDLE1BQU0sQ0FBQ3JDLGdCQUFnQixDQUFDVixFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUNnQyxNQUFNLENBQUMsQ0FBQyxHQUFHaEMsRUFBRSxDQUFDOEMsWUFBWTtNQUM1STtJQUNKLENBQUMsTUFBTTtNQUNIO01BQ0EsSUFBSUYsUUFBUSxDQUFDckIsUUFBUSxLQUFLLFFBQVEsRUFBRTtRQUNoQ0gsY0FBYyxDQUFDLFFBQVEsQ0FBQztRQUN4QlQsTUFBTSxDQUFDLENBQUM7UUFDUmtDLFlBQVksR0FBR0QsUUFBUSxDQUFDaEMsU0FBUyxLQUFLLGFBQWEsR0FBRzhCLElBQUksQ0FBQ0MsS0FBSyxDQUFDOUIsVUFBVSxDQUFDa0MsTUFBTSxDQUFDckMsZ0JBQWdCLENBQUNWLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQ2dDLE1BQU0sQ0FBQyxDQUFDLEdBQUdoQyxFQUFFLENBQUM4QyxZQUFZO01BQzVJO0lBQ0o7O0lBRUEsSUFBSTFDLFlBQVksS0FBS3lDLFlBQVksRUFBRTtNQUMvQnpDLFlBQVksR0FBR3lDLFlBQVk7TUFDM0IsSUFBSUcsR0FBRyxHQUFHckQsV0FBVyxDQUFDLGtCQUFrQixDQUFDO01BQ3pDLElBQUk7UUFDQUssRUFBRSxDQUFDaUQsYUFBYSxDQUFDRCxHQUFHLENBQUM7TUFDekIsQ0FBQyxDQUFDLE9BQU9FLEdBQUcsRUFBRTs7O1FBQ1Y7UUFDQTtNQUFBLENBRVIsQ0FDSjs7RUFFQSxJQUFJQyxVQUFVLEdBQUcsU0FBU0EsVUFBVUEsQ0FBQSxFQUFHO0lBQ25DLElBQUluRCxFQUFFLENBQUNHLFdBQVcsS0FBS0EsV0FBVyxFQUFFO01BQ2hDZ0IsTUFBTSxDQUFDLENBQUM7SUFDWjtFQUNKLENBQUM7O0VBRUQsSUFBSWlDLE9BQU8sR0FBSSxVQUFVM0MsS0FBSyxFQUFFO0lBQzVCSixJQUFJLENBQUNnRCx5QkFBeUIsQ0FBQyxRQUFRLEVBQUVGLFVBQVUsRUFBRSxLQUFLLENBQUM7SUFDM0RuRCxFQUFFLENBQUNzRCxtQkFBbUIsQ0FBQyxPQUFPLEVBQUVuQyxNQUFNLEVBQUUsS0FBSyxDQUFDO0lBQzlDbkIsRUFBRSxDQUFDc0QsbUJBQW1CLENBQUMsT0FBTyxFQUFFbkMsTUFBTSxFQUFFLEtBQUssQ0FBQztJQUM5Q25CLEVBQUUsQ0FBQ3NELG1CQUFtQixDQUFDLGtCQUFrQixFQUFFRixPQUFPLEVBQUUsS0FBSyxDQUFDO0lBQzFEcEQsRUFBRSxDQUFDc0QsbUJBQW1CLENBQUMsaUJBQWlCLEVBQUVuQyxNQUFNLEVBQUUsS0FBSyxDQUFDOztJQUV4RG9DLE1BQU0sQ0FBQ3hFLElBQUksQ0FBQzBCLEtBQUssQ0FBQyxDQUFDK0IsT0FBTyxDQUFDLFVBQVV0RCxHQUFHLEVBQUU7TUFDdENjLEVBQUUsQ0FBQ1MsS0FBSyxDQUFDdkIsR0FBRyxDQUFDLEdBQUd1QixLQUFLLENBQUN2QixHQUFHLENBQUM7SUFDOUIsQ0FBQyxDQUFDOztJQUVGTCxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUNtQixFQUFFLENBQUM7RUFDckIsQ0FBQyxDQUFFd0QsSUFBSSxDQUFDeEQsRUFBRSxFQUFFO0lBQ1JnQyxNQUFNLEVBQUVoQyxFQUFFLENBQUNTLEtBQUssQ0FBQ3VCLE1BQU07SUFDdkJyQixNQUFNLEVBQUVYLEVBQUUsQ0FBQ1MsS0FBSyxDQUFDRSxNQUFNO0lBQ3ZCWSxRQUFRLEVBQUV2QixFQUFFLENBQUNTLEtBQUssQ0FBQ2MsUUFBUTtJQUMzQmtDLFNBQVMsRUFBRXpELEVBQUUsQ0FBQ1MsS0FBSyxDQUFDZ0QsU0FBUztJQUM3QkMsUUFBUSxFQUFFMUQsRUFBRSxDQUFDUyxLQUFLLENBQUNpRDtFQUN2QixDQUFDLENBQUM7O0VBRUYxRCxFQUFFLENBQUMyRCxnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRVAsT0FBTyxFQUFFLEtBQUssQ0FBQzs7RUFFdkQ7RUFDQTtFQUNBO0VBQ0EsSUFBSSxrQkFBa0IsSUFBSXBELEVBQUUsSUFBSSxTQUFTLElBQUlBLEVBQUUsRUFBRTtJQUM3Q0EsRUFBRSxDQUFDMkQsZ0JBQWdCLENBQUMsT0FBTyxFQUFFeEMsTUFBTSxFQUFFLEtBQUssQ0FBQztFQUMvQzs7RUFFQWQsSUFBSSxDQUFDdUQsc0JBQXNCLENBQUMsUUFBUSxFQUFFVCxVQUFVLEVBQUUsS0FBSyxDQUFDO0VBQ3hEbkQsRUFBRSxDQUFDMkQsZ0JBQWdCLENBQUMsT0FBTyxFQUFFeEMsTUFBTSxFQUFFLEtBQUssQ0FBQztFQUMzQ25CLEVBQUUsQ0FBQzJELGdCQUFnQixDQUFDLGlCQUFpQixFQUFFeEMsTUFBTSxFQUFFLEtBQUssQ0FBQztFQUNyRG5CLEVBQUUsQ0FBQ1MsS0FBSyxDQUFDZ0QsU0FBUyxHQUFHLFFBQVE7RUFDN0J6RCxFQUFFLENBQUNTLEtBQUssQ0FBQ2lELFFBQVEsR0FBRyxZQUFZOztFQUVoQzdFLEdBQUcsQ0FBQ1EsR0FBRyxDQUFDVyxFQUFFLEVBQUU7SUFDUm9ELE9BQU8sRUFBRUEsT0FBTztJQUNoQmpDLE1BQU0sRUFBRUE7RUFDWixDQUFDLENBQUM7O0VBRUZiLElBQUksQ0FBQyxDQUFDO0FBQ1Y7O0FBRUEsU0FBUzhDLE9BQU9BLENBQUNwRCxFQUFFLEVBQUU7RUFDakIsSUFBSTZELE9BQU8sR0FBR2hGLEdBQUcsQ0FBQ08sR0FBRyxDQUFDWSxFQUFFLENBQUM7RUFDekIsSUFBSTZELE9BQU8sRUFBRTtJQUNUQSxPQUFPLENBQUNULE9BQU8sQ0FBQyxDQUFDO0VBQ3JCO0FBQ0o7O0FBRUEsU0FBU2pDLE1BQU1BLENBQUNuQixFQUFFLEVBQUU7RUFDaEIsSUFBSTZELE9BQU8sR0FBR2hGLEdBQUcsQ0FBQ08sR0FBRyxDQUFDWSxFQUFFLENBQUM7RUFDekIsSUFBSTZELE9BQU8sRUFBRTtJQUNUQSxPQUFPLENBQUMxQyxNQUFNLENBQUMsQ0FBQztFQUNwQjtBQUNKOztBQUVBLFNBQVMyQyxrQkFBa0JBLENBQUEsRUFBRztFQUMxQjtFQUNBLElBQUksT0FBT2YsTUFBTSxLQUFLLFdBQVcsSUFBSSxPQUFPQSxNQUFNLENBQUNyQyxnQkFBZ0IsS0FBSyxVQUFVO0VBQzlFLE9BQU8sS0FBSztFQUNoQixPQUFPLElBQUk7QUFDZjs7QUFFQSxNQUFNcUQsaUJBQWlCLEdBQUdELGtCQUFrQixDQUFDLENBQUM7OztBQUd2QyxJQUFJRSxRQUFRLEdBQUcsU0FBQUEsQ0FBU3ZDLEVBQUUsRUFBRXdDLE9BQU8sRUFBRTtFQUN4QyxNQUFNNUQsSUFBSSxHQUFHLElBQUk7RUFDakIsSUFBSTBELGlCQUFpQixJQUFJdEMsRUFBRSxFQUFFO0lBQ3pCeUMsS0FBSyxDQUFDQyxTQUFTLENBQUMzQixPQUFPLENBQUM0QixJQUFJLENBQUMzQyxFQUFFLENBQUM0QyxNQUFNLEdBQUc1QyxFQUFFLEdBQUcsQ0FBQ0EsRUFBRSxDQUFDLEVBQUUsVUFBVTZDLENBQUMsRUFBRTtNQUM3RCxPQUFPdkUsTUFBTSxDQUFDeUQsSUFBSSxDQUFDbkQsSUFBSSxDQUFDLENBQUNpRSxDQUFDLEVBQUVMLE9BQU8sQ0FBQztJQUN4QyxDQUFDLENBQUM7RUFDTjtFQUNBLE9BQU94QyxFQUFFO0FBQ2IsQ0FBQzs7QUFFRHVDLFFBQVEsQ0FBQ1osT0FBTyxHQUFHLFVBQVMzQixFQUFFLEVBQUU7RUFDNUIsSUFBSXNDLGlCQUFpQixJQUFJdEMsRUFBRSxFQUFFO0lBQ3pCeUMsS0FBSyxDQUFDQyxTQUFTLENBQUMzQixPQUFPLENBQUM0QixJQUFJLENBQUMzQyxFQUFFLENBQUM0QyxNQUFNLEdBQUc1QyxFQUFFLEdBQUcsQ0FBQ0EsRUFBRSxDQUFDLEVBQUUyQixPQUFPLENBQUM7RUFDaEU7RUFDQSxPQUFPM0IsRUFBRTtBQUNiLENBQUM7O0FBRUR1QyxRQUFRLENBQUM3QyxNQUFNLEdBQUcsVUFBU00sRUFBRSxFQUFFO0VBQzNCLElBQUlzQyxpQkFBaUIsSUFBSXRDLEVBQUUsRUFBRTtJQUN6QnlDLEtBQUssQ0FBQ0MsU0FBUyxDQUFDM0IsT0FBTyxDQUFDNEIsSUFBSSxDQUFDM0MsRUFBRSxDQUFDNEMsTUFBTSxHQUFHNUMsRUFBRSxHQUFHLENBQUNBLEVBQUUsQ0FBQyxFQUFFTixNQUFNLENBQUM7RUFDL0Q7RUFDQSxPQUFPTSxFQUFFO0FBQ2IsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtbW9kZXMvRWRpdG9yVGV4dEF1dG9zaXplLmpzPzUxN2MiXSwic291cmNlc0NvbnRlbnQiOlsiXG4ndXNlIHN0cmljdCc7XG5cbi8qIVxuICAgIEJhc2VkIG9uIEF1dG9zaXplIDQuMC4wXG4gICAgbGljZW5zZTogTUlUXG4gICAgaHR0cDovL3d3dy5qYWNrbG1vb3JlLmNvbS9hdXRvc2l6ZVxuKi9cbnZhciBtYXAgPSB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIgPyBuZXcgTWFwKCkgOiAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGFzOiBmdW5jdGlvbiBoYXMoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4ga2V5cy5pbmRleE9mKGtleSkgPiAtMTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzW2tleXMuaW5kZXhPZihrZXkpXTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKGtleXMuaW5kZXhPZihrZXkpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ2RlbGV0ZSc6IGZ1bmN0aW9uIF9kZWxldGUoa2V5KSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBrZXlzLmluZGV4T2Yoa2V5KTtcbiAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAga2V5cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIHZhbHVlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn0pKCk7XG5cbnZhciBjcmVhdGVFdmVudCA9IGZ1bmN0aW9uIGNyZWF0ZUV2ZW50KG5hbWUpIHtcbiAgICByZXR1cm4gbmV3IEV2ZW50KG5hbWUsIHsgYnViYmxlczogdHJ1ZSB9KTtcbn07XG5cbmZ1bmN0aW9uIGFzc2lnbih0YSkge1xuICAgIGlmICghdGEgfHwgIXRhLm5vZGVOYW1lIHx8IHRhLm5vZGVOYW1lICE9PSAnVEVYVEFSRUEnIHx8IG1hcC5oYXModGEpKSByZXR1cm47XG5cbiAgICB2YXIgaGVpZ2h0T2Zmc2V0ID0gbnVsbDtcbiAgICB2YXIgY2xpZW50V2lkdGggPSB0YS5jbGllbnRXaWR0aDtcbiAgICB2YXIgY2FjaGVkSGVpZ2h0ID0gbnVsbDtcblxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgIGNvbnN0IF93aW5kb3cgPSBzZWxmLmdldFdpbmRvdygpO1xuICAgICAgICB2YXIgc3R5bGUgPSBfd2luZG93LmdldENvbXB1dGVkU3R5bGUodGEsIG51bGwpO1xuXG4gICAgICAgIGlmIChzdHlsZS5yZXNpemUgPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgIHRhLnN0eWxlLnJlc2l6ZSA9ICdub25lJztcbiAgICAgICAgfSBlbHNlIGlmIChzdHlsZS5yZXNpemUgPT09ICdib3RoJykge1xuICAgICAgICAgICAgdGEuc3R5bGUucmVzaXplID0gJ2hvcml6b250YWwnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0eWxlLmJveFNpemluZyA9PT0gJ2NvbnRlbnQtYm94Jykge1xuICAgICAgICAgICAgaGVpZ2h0T2Zmc2V0ID0gLShwYXJzZUZsb2F0KHN0eWxlLnBhZGRpbmdUb3ApICsgcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nQm90dG9tKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoZWlnaHRPZmZzZXQgPSBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlclRvcFdpZHRoKSArIHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyQm90dG9tV2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZpeCB3aGVuIGEgdGV4dGFyZWEgaXMgbm90IG9uIGRvY3VtZW50IGJvZHkgYW5kIGhlaWdodE9mZnNldCBpcyBOb3QgYSBOdW1iZXJcbiAgICAgICAgaWYgKGlzTmFOKGhlaWdodE9mZnNldCkpIHtcbiAgICAgICAgICAgIGhlaWdodE9mZnNldCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB1cGRhdGUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGFuZ2VPdmVyZmxvdyh2YWx1ZSkge1xuICAgICAgICB7XG4gICAgICAgICAgICAvLyBDaHJvbWUvU2FmYXJpLXNwZWNpZmljIGZpeDpcbiAgICAgICAgICAgIC8vIFdoZW4gdGhlIHRleHRhcmVhIHktb3ZlcmZsb3cgaXMgaGlkZGVuLCBDaHJvbWUvU2FmYXJpIGRvIG5vdCByZWZsb3cgdGhlIHRleHQgdG8gYWNjb3VudCBmb3IgdGhlIHNwYWNlXG4gICAgICAgICAgICAvLyBtYWRlIGF2YWlsYWJsZSBieSByZW1vdmluZyB0aGUgc2Nyb2xsYmFyLiBUaGUgZm9sbG93aW5nIGZvcmNlcyB0aGUgbmVjZXNzYXJ5IHRleHQgcmVmbG93LlxuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGEuc3R5bGUud2lkdGg7XG4gICAgICAgICAgICB0YS5zdHlsZS53aWR0aCA9ICcwcHgnO1xuICAgICAgICAgICAgLy8gRm9yY2UgcmVmbG93OlxuICAgICAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICAgICAgdGEub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgICAgICAgdGEuc3R5bGUud2lkdGggPSB3aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhLnN0eWxlLm92ZXJmbG93ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0UGFyZW50T3ZlcmZsb3dzKGVsKSB7XG4gICAgICAgIHZhciBhcnIgPSBbXTtcblxuICAgICAgICB3aGlsZSAoZWwgJiYgZWwucGFyZW50Tm9kZSAmJiBlbC5wYXJlbnROb2RlIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKGVsLnBhcmVudE5vZGUuc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgICAgICAgYXJyLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBub2RlOiBlbC5wYXJlbnROb2RlLFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IGVsLnBhcmVudE5vZGUuc2Nyb2xsVG9wXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbCA9IGVsLnBhcmVudE5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc2l6ZSgpIHtcbiAgICAgICAgdmFyIG9yaWdpbmFsSGVpZ2h0ID0gdGEuc3R5bGUuaGVpZ2h0O1xuICAgICAgICB2YXIgb3ZlcmZsb3dzID0gZ2V0UGFyZW50T3ZlcmZsb3dzKHRhKTtcbiAgICAgICAgY29uc3QgX2RvY3VtZW50ID0gc2VsZi5nZXREb2N1bWVudCgpO1xuICAgICAgICB2YXIgZG9jVG9wID0gX2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBfZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsgLy8gTmVlZGVkIGZvciBNb2JpbGUgSUUgKHRpY2tldCAjMjQwKVxuXG4gICAgICAgIHRhLnN0eWxlLmhlaWdodCA9ICcnO1xuXG4gICAgICAgIHZhciBlbmRIZWlnaHQgPSB0YS5zY3JvbGxIZWlnaHQgKyBoZWlnaHRPZmZzZXQ7XG5cbiAgICAgICAgaWYgKHRhLnNjcm9sbEhlaWdodCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHNjcm9sbEhlaWdodCBpcyAwLCB0aGVuIHRoZSBlbGVtZW50IHByb2JhYmx5IGhhcyBkaXNwbGF5Om5vbmUgb3IgaXMgZGV0YWNoZWQgZnJvbSB0aGUgRE9NLlxuICAgICAgICAgICAgdGEuc3R5bGUuaGVpZ2h0ID0gb3JpZ2luYWxIZWlnaHQ7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0YS5zdHlsZS5oZWlnaHQgPSBlbmRIZWlnaHQgKyAncHgnO1xuXG4gICAgICAgIC8vIHVzZWQgdG8gY2hlY2sgaWYgYW4gdXBkYXRlIGlzIGFjdHVhbGx5IG5lY2Vzc2FyeSBvbiB3aW5kb3cucmVzaXplXG4gICAgICAgIGNsaWVudFdpZHRoID0gdGEuY2xpZW50V2lkdGg7XG5cbiAgICAgICAgLy8gcHJldmVudHMgc2Nyb2xsLXBvc2l0aW9uIGp1bXBpbmdcbiAgICAgICAgb3ZlcmZsb3dzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGNvbmRpdGlvbiBpcyBuZWNlc3NhcnkgZm9yIGlPUyAxMSwgd2hlcmUgeW91IGNhbid0IGFzc2lnbiB2YWx1ZSB0byBib2R5LnNjcm9sbFRvcFxuICAgICAgICAgICAgaWYgKGVsLm5vZGUuc2Nyb2xsVG9wICE9PSBlbC5zY3JvbGxUb3ApIHtcbiAgICAgICAgICAgICAgICBlbC5ub2RlLnNjcm9sbFRvcCA9IGVsLnNjcm9sbFRvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGRvY1RvcCkge1xuICAgICAgICAgICAgX2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSBkb2NUb3A7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgIHJlc2l6ZSgpO1xuXG4gICAgICAgIGNvbnN0IF93aW5kb3cgPSBzZWxmLmdldFdpbmRvdygpO1xuICAgICAgICB2YXIgc3R5bGVIZWlnaHQgPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQodGEuc3R5bGUuaGVpZ2h0KSk7XG4gICAgICAgIHZhciBjb21wdXRlZCA9IF93aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YSwgbnVsbCk7XG5cbiAgICAgICAgLy8gVXNpbmcgb2Zmc2V0SGVpZ2h0IGFzIGEgcmVwbGFjZW1lbnQgZm9yIGNvbXB1dGVkLmhlaWdodCBpbiBJRSwgYmVjYXVzZSBJRSBkb2VzIG5vdCBhY2NvdW50IHVzZSBvZiBib3JkZXItYm94XG4gICAgICAgIHZhciBhY3R1YWxIZWlnaHQgPSBjb21wdXRlZC5ib3hTaXppbmcgPT09ICdjb250ZW50LWJveCcgPyBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoY29tcHV0ZWQuaGVpZ2h0KSkgOiB0YS5vZmZzZXRIZWlnaHQ7XG5cbiAgICAgICAgLy8gVGhlIGFjdHVhbCBoZWlnaHQgbm90IG1hdGNoaW5nIHRoZSBzdHlsZSBoZWlnaHQgKHNldCB2aWEgdGhlIHJlc2l6ZSBtZXRob2QpIGluZGljYXRlcyB0aGF0XG4gICAgICAgIC8vIHRoZSBtYXgtaGVpZ2h0IGhhcyBiZWVuIGV4Y2VlZGVkLCBpbiB3aGljaCBjYXNlIHRoZSBvdmVyZmxvdyBzaG91bGQgYmUgYWxsb3dlZC5cbiAgICAgICAgaWYgKGFjdHVhbEhlaWdodCAhPT0gc3R5bGVIZWlnaHQpIHtcbiAgICAgICAgICAgIGlmIChjb21wdXRlZC5vdmVyZmxvdyA9PT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VPdmVyZmxvdygnc2Nyb2xsJyk7XG4gICAgICAgICAgICAgICAgcmVzaXplKCk7XG4gICAgICAgICAgICAgICAgYWN0dWFsSGVpZ2h0ID0gY29tcHV0ZWQuYm94U2l6aW5nID09PSAnY29udGVudC1ib3gnID8gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRhLCBudWxsKS5oZWlnaHQpKSA6IHRhLm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5vcm1hbGx5IGtlZXAgb3ZlcmZsb3cgc2V0IHRvIGhpZGRlbiwgdG8gYXZvaWQgZmxhc2ggb2Ygc2Nyb2xsYmFyIGFzIHRoZSB0ZXh0YXJlYSBleHBhbmRzLlxuICAgICAgICAgICAgaWYgKGNvbXB1dGVkLm92ZXJmbG93ICE9PSAnaGlkZGVuJykge1xuICAgICAgICAgICAgICAgIGNoYW5nZU92ZXJmbG93KCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICByZXNpemUoKTtcbiAgICAgICAgICAgICAgICBhY3R1YWxIZWlnaHQgPSBjb21wdXRlZC5ib3hTaXppbmcgPT09ICdjb250ZW50LWJveCcgPyBNYXRoLnJvdW5kKHBhcnNlRmxvYXQod2luZG93LmdldENvbXB1dGVkU3R5bGUodGEsIG51bGwpLmhlaWdodCkpIDogdGEub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNhY2hlZEhlaWdodCAhPT0gYWN0dWFsSGVpZ2h0KSB7XG4gICAgICAgICAgICBjYWNoZWRIZWlnaHQgPSBhY3R1YWxIZWlnaHQ7XG4gICAgICAgICAgICB2YXIgZXZ0ID0gY3JlYXRlRXZlbnQoJ2F1dG9zaXplOnJlc2l6ZWQnKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGEuZGlzcGF0Y2hFdmVudChldnQpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyZWZveCB3aWxsIHRocm93IGFuIGVycm9yIG9uIGRpc3BhdGNoRXZlbnQgZm9yIGEgZGV0YWNoZWQgZWxlbWVudFxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTg4OTM3NlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHBhZ2VSZXNpemUgPSBmdW5jdGlvbiBwYWdlUmVzaXplKCkge1xuICAgICAgICBpZiAodGEuY2xpZW50V2lkdGggIT09IGNsaWVudFdpZHRoKSB7XG4gICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgZGVzdHJveSA9IChmdW5jdGlvbiAoc3R5bGUpIHtcbiAgICAgICAgc2VsZi5yZW1vdmVXaW5kb3dFdmVudExpc3RlbmVyKCdyZXNpemUnLCBwYWdlUmVzaXplLCBmYWxzZSk7XG4gICAgICAgIHRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdXBkYXRlLCBmYWxzZSk7XG4gICAgICAgIHRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdXBkYXRlLCBmYWxzZSk7XG4gICAgICAgIHRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2F1dG9zaXplOmRlc3Ryb3knLCBkZXN0cm95LCBmYWxzZSk7XG4gICAgICAgIHRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2F1dG9zaXplOnVwZGF0ZScsIHVwZGF0ZSwgZmFsc2UpO1xuXG4gICAgICAgIE9iamVjdC5rZXlzKHN0eWxlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHRhLnN0eWxlW2tleV0gPSBzdHlsZVtrZXldO1xuICAgICAgICB9KTtcblxuICAgICAgICBtYXBbJ2RlbGV0ZSddKHRhKTtcbiAgICB9KS5iaW5kKHRhLCB7XG4gICAgICAgIGhlaWdodDogdGEuc3R5bGUuaGVpZ2h0LFxuICAgICAgICByZXNpemU6IHRhLnN0eWxlLnJlc2l6ZSxcbiAgICAgICAgb3ZlcmZsb3c6IHRhLnN0eWxlLm92ZXJmbG93LFxuICAgICAgICBvdmVyZmxvd1g6IHRhLnN0eWxlLm92ZXJmbG93WCxcbiAgICAgICAgd29yZFdyYXA6IHRhLnN0eWxlLndvcmRXcmFwXG4gICAgfSk7XG5cbiAgICB0YS5hZGRFdmVudExpc3RlbmVyKCdhdXRvc2l6ZTpkZXN0cm95JywgZGVzdHJveSwgZmFsc2UpO1xuXG4gICAgLy8gSUU5IGRvZXMgbm90IGZpcmUgb25wcm9wZXJ0eWNoYW5nZSBvciBvbmlucHV0IGZvciBkZWxldGlvbnMsXG4gICAgLy8gc28gYmluZGluZyB0byBvbmtleXVwIHRvIGNhdGNoIG1vc3Qgb2YgdGhvc2UgZXZlbnRzLlxuICAgIC8vIFRoZXJlIGlzIG5vIHdheSB0aGF0IEkga25vdyBvZiB0byBkZXRlY3Qgc29tZXRoaW5nIGxpa2UgJ2N1dCcgaW4gSUU5LlxuICAgIGlmICgnb25wcm9wZXJ0eWNoYW5nZScgaW4gdGEgJiYgJ29uaW5wdXQnIGluIHRhKSB7XG4gICAgICAgIHRhLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdXBkYXRlLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgc2VsZi5hZGRXaW5kb3dFdmVudExpc3RlbmVyKCdyZXNpemUnLCBwYWdlUmVzaXplLCBmYWxzZSk7XG4gICAgdGEuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB1cGRhdGUsIGZhbHNlKTtcbiAgICB0YS5hZGRFdmVudExpc3RlbmVyKCdhdXRvc2l6ZTp1cGRhdGUnLCB1cGRhdGUsIGZhbHNlKTtcbiAgICB0YS5zdHlsZS5vdmVyZmxvd1ggPSAnaGlkZGVuJztcbiAgICB0YS5zdHlsZS53b3JkV3JhcCA9ICdicmVhay13b3JkJztcblxuICAgIG1hcC5zZXQodGEsIHtcbiAgICAgICAgZGVzdHJveTogZGVzdHJveSxcbiAgICAgICAgdXBkYXRlOiB1cGRhdGVcbiAgICB9KTtcblxuICAgIGluaXQoKTtcbn1cblxuZnVuY3Rpb24gZGVzdHJveSh0YSkge1xuICAgIHZhciBtZXRob2RzID0gbWFwLmdldCh0YSk7XG4gICAgaWYgKG1ldGhvZHMpIHtcbiAgICAgICAgbWV0aG9kcy5kZXN0cm95KCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGUodGEpIHtcbiAgICB2YXIgbWV0aG9kcyA9IG1hcC5nZXQodGEpO1xuICAgIGlmIChtZXRob2RzKSB7XG4gICAgICAgIG1ldGhvZHMudXBkYXRlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc1J1bnRpbWVTdXBwb3J0ZWQoKSB7XG4gICAgLy8gRG9uJ3Qgc3VwcG9ydCBOb2RlLmpzIGFuZCBJRTggKG9yIGxvd2VyKVxuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2Ygd2luZG93LmdldENvbXB1dGVkU3R5bGUgIT09ICdmdW5jdGlvbicpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuY29uc3QgUlVOVElNRV9TVVBQT1JURUQgPSBpc1J1bnRpbWVTdXBwb3J0ZWQoKTtcblxuXG5leHBvcnQgdmFyIGF1dG9zaXplID0gZnVuY3Rpb24oZWwsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBpZiAoUlVOVElNRV9TVVBQT1JURUQgJiYgZWwpIHtcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlbC5sZW5ndGggPyBlbCA6IFtlbF0sIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICByZXR1cm4gYXNzaWduLmJpbmQoc2VsZikoeCwgb3B0aW9ucyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZWw7XG59O1xuXG5hdXRvc2l6ZS5kZXN0cm95ID0gZnVuY3Rpb24oZWwpIHtcbiAgICBpZiAoUlVOVElNRV9TVVBQT1JURUQgJiYgZWwpIHtcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlbC5sZW5ndGggPyBlbCA6IFtlbF0sIGRlc3Ryb3kpO1xuICAgIH1cbiAgICByZXR1cm4gZWw7XG59O1xuXG5hdXRvc2l6ZS51cGRhdGUgPSBmdW5jdGlvbihlbCkge1xuICAgIGlmIChSVU5USU1FX1NVUFBPUlRFRCAmJiBlbCkge1xuICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGVsLmxlbmd0aCA/IGVsIDogW2VsXSwgdXBkYXRlKTtcbiAgICB9XG4gICAgcmV0dXJuIGVsO1xufTtcbiJdLCJuYW1lcyI6WyJtYXAiLCJNYXAiLCJrZXlzIiwidmFsdWVzIiwiaGFzIiwia2V5IiwiaW5kZXhPZiIsImdldCIsInNldCIsInZhbHVlIiwicHVzaCIsIl9kZWxldGUiLCJpbmRleCIsInNwbGljZSIsImNyZWF0ZUV2ZW50IiwibmFtZSIsIkV2ZW50IiwiYnViYmxlcyIsImFzc2lnbiIsInRhIiwibm9kZU5hbWUiLCJoZWlnaHRPZmZzZXQiLCJjbGllbnRXaWR0aCIsImNhY2hlZEhlaWdodCIsInNlbGYiLCJpbml0IiwiX3dpbmRvdyIsImdldFdpbmRvdyIsInN0eWxlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInJlc2l6ZSIsImJveFNpemluZyIsInBhcnNlRmxvYXQiLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyQm90dG9tV2lkdGgiLCJpc05hTiIsInVwZGF0ZSIsImNoYW5nZU92ZXJmbG93Iiwid2lkdGgiLCJvZmZzZXRXaWR0aCIsIm92ZXJmbG93IiwiZ2V0UGFyZW50T3ZlcmZsb3dzIiwiZWwiLCJhcnIiLCJwYXJlbnROb2RlIiwiRWxlbWVudCIsInNjcm9sbFRvcCIsIm5vZGUiLCJvcmlnaW5hbEhlaWdodCIsImhlaWdodCIsIm92ZXJmbG93cyIsIl9kb2N1bWVudCIsImdldERvY3VtZW50IiwiZG9jVG9wIiwiZG9jdW1lbnRFbGVtZW50IiwiZW5kSGVpZ2h0Iiwic2Nyb2xsSGVpZ2h0IiwiZm9yRWFjaCIsInN0eWxlSGVpZ2h0IiwiTWF0aCIsInJvdW5kIiwiY29tcHV0ZWQiLCJhY3R1YWxIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJ3aW5kb3ciLCJldnQiLCJkaXNwYXRjaEV2ZW50IiwiZXJyIiwicGFnZVJlc2l6ZSIsImRlc3Ryb3kiLCJyZW1vdmVXaW5kb3dFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIk9iamVjdCIsImJpbmQiLCJvdmVyZmxvd1giLCJ3b3JkV3JhcCIsImFkZEV2ZW50TGlzdGVuZXIiLCJhZGRXaW5kb3dFdmVudExpc3RlbmVyIiwibWV0aG9kcyIsImlzUnVudGltZVN1cHBvcnRlZCIsIlJVTlRJTUVfU1VQUE9SVEVEIiwiYXV0b3NpemUiLCJvcHRpb25zIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJjYWxsIiwibGVuZ3RoIiwieCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-modes/EditorTextAutosize.js\n");

/***/ }),

/***/ "./extensions/Markup/core/edit-modes/EditorTextInput.js":
/*!**************************************************************!*\
  !*** ./extensions/Markup/core/edit-modes/EditorTextInput.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditorTextInput: () => (/* binding */ EditorTextInput)\n/* harmony export */ });\n/* harmony import */ var _EditorTextAutosize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditorTextAutosize */ \"./extensions/Markup/core/edit-modes/EditorTextAutosize.js\");\n/* harmony import */ var _MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MarkupsCoreUtils */ \"./extensions/Markup/core/MarkupsCoreUtils.js\");\n/* harmony import */ var _StyleUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n/* harmony import */ var _DomElementStyle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../DomElementStyle */ \"./extensions/Markup/core/DomElementStyle.js\");\n\n\n\n\n\n\n\nconst av = Autodesk.Viewing;\n\n/**\n * Auxiliary class that handles all input for the Label Markup (MarkupText.js)\n * It instantiates a TEXTAREA where the user can input text. When user input is\n * disabled, the textarea gets hidden and further rendering is delegated to\n * MarkupText.js\n *\n * @param {HTMLElement} parentDiv\n * @param {Object} editor - Core Extension\n * @constructor\n */\nfunction EditorTextInput(parentDiv, editor, singleLine, defaultText, maxLength) {\n\n  this.parentDiv = parentDiv;\n  this.editor = editor;\n  this.setGlobalManager(editor.viewer.globalManager);\n\n  // Constants\n  this.EVENT_TEXT_CHANGE = 'EVENT_CO2_TEXT_CHANGE';\n  this.EVENT_TEXT_SET_ACTIVE = 'EVENT_CO2_TEXT_SET_ACTIVE';\n  this.EVENT_TEXT_SET_INACTIVE = 'EVENT_CO2_TEXT_SET_INACTIVE';\n\n  const _document = this.getDocument();\n  // The actual TextArea input\n  if (singleLine) {\n    this.textArea = _document.createElement('input');\n    this.textArea.setAttribute('type', 'text');\n  } else\n  {\n    this.textArea = _document.createElement('textarea');\n    this.textArea.rows = '1';\n    this.textArea.dir = 'auto';\n  }\n\n  this.firstEdit = true;\n  this.defaultText = defaultText;\n  this.textArea.setAttribute('maxlength', maxLength); // TODO: Make constant? Change value?\n  this.textArea.setAttribute('data-i18n', defaultText);\n  this.startingHeight = 0;\n\n  _EditorTextAutosize__WEBPACK_IMPORTED_MODULE_0__.autosize.bind(this)(this.textArea);\n\n  var ro = new ResizeObserver(function (entries, observer) {\n    this.setEditFrame();\n  }.bind(this));\n\n  ro.observe(this.textArea);\n\n  this.styleTextArea = new _DomElementStyle__WEBPACK_IMPORTED_MODULE_3__.DomElementStyle(); // TODO: Move this to EditMode.\n  this.styleTextArea.\n  setAttribute('position', 'absolute').\n  setAttribute('resize', 'none').\n  setAttribute('box-sizing', 'border-box').\n  setAttribute('-moz-box-sizing', 'border-box').\n  setAttribute('-webkit-box-sizing', 'border-box').\n  setAttribute('overflow', 'hidden').\n  setAttribute('outline', 'none').\n  setAttribute('border', 'none').\n  setAttribute('z-index', '1').\n  setAttribute('padding', '10px');\n\n  // Helper div to measure text width\n  this.measureDiv = _document.createElement('div');\n\n  // Become an event dispatcher\n  (0,_MarkupsCoreUtils__WEBPACK_IMPORTED_MODULE_1__.addTraitEventDispatcher)(this);\n}\n\nav.GlobalManagerMixin.call(EditorTextInput.prototype);\nvar proto = EditorTextInput.prototype;\n\nproto.destroy = function () {\n\n  this.setInactive();\n};\n\n/**\n * Initializes itself given an Label Markup (textMarkup)\n * @param {Object} textMarkup\n * @param {Boolean} firstEdit - Whether the markup is being edited for the first time.\n */\nproto.setActive = function (textMarkup, firstEdit) {\n\n  if (this.textMarkup === textMarkup) {\n    return;\n  }\n\n  var placeholderText = Autodesk.Viewing.i18n.translate(this.defaultText);\n  this.textArea.setAttribute('placeholder', placeholderText);\n\n  this.setInactive();\n  this.parentDiv.appendChild(this.textArea);\n  this.textMarkup = textMarkup;\n  this.firstEdit = firstEdit || false;\n\n  this.constrainToCanvas = firstEdit;\n\n  this.initFromMarkup();\n\n  this.constrainToCanvas = false;\n\n  // On iOS this doesn't work quite well, the keyboard will dismiss after call focus programatically.\n  // http://stackoverflow.com/questions/32407185/wkwebview-cant-open-keyboard-for-input-field\n  if (!Autodesk.Viewing.isIOSDevice()) {\n    // Focus on next frame\n    var txtArea = this.textArea;\n    const _window = this.getWindow();\n    _window.requestAnimationFrame(function () {\n      txtArea.focus();\n    });\n  }\n\n  var dataBag = {\n    markup: this.textMarkup,\n    firstEdit: this.firstEdit,\n    isActive: true\n  };\n  this.dispatchEvent({ type: this.EVENT_TEXT_SET_ACTIVE, data: dataBag });\n};\n\n/**\n * Closes the editor text input and goes back into normal markup edition mode.\n */\nproto.setInactive = function () {\n  var dataBag = {\n    markup: this.textMarkup,\n    isActive: false\n  };\n\n  // In iOS10, the keyboard always show on screen after tap screen out of text\n  // area or save markup to end text edit, call blur to make sure keyboard dismiss.\n  if (Autodesk.Viewing.isIOSDevice())\n  {\n    this.textArea.blur();\n  }\n\n  this.removeWindowEventListener('resize', this.onResizeBinded);\n\n  if (this.textMarkup) {\n    this.textMarkup = null;\n    this.parentDiv.removeChild(this.textArea);\n  }\n  this.style = null;\n\n  this.dispatchEvent({ type: this.EVENT_TEXT_SET_INACTIVE, data: dataBag });\n};\n\nproto.isActive = function () {\n\n  return !!this.textMarkup;\n};\n\nproto.setEditFrame = function () {\n  if (this.editor.editFrame.markup && this.textMarkup && this.editor.editFrame.markup === this.textMarkup) {\n    var frameWidth = parseFloat(this.textArea.style.width);\n    var frameHeight = parseFloat(this.textArea.style.height);\n\n    var position = this.textMarkup.getClientPosition();\n    var rotation = this.textMarkup.getRotation();\n\n    var xPos = position.x - frameWidth / 2;\n    var yPos = position.y - this.startingHeight / 2;\n\n    this.editor.editFrame.setSelection(xPos, yPos, frameWidth, frameHeight, rotation);\n  }\n};\n\n/**\n * Applies Markup styles to TextArea used for editing.\n * It also saves a copy of the style object.\n * @private\n */\nproto.initFromMarkup = function (updateStyleFirst) {\n\n  var markup = this.textMarkup;\n  var position = markup.getClientPosition();\n  var size = markup.getClientSize();\n\n  // Text area padding is relative to the current font size\n  var padding = markup.getClientFontSize() / 2;\n\n  this.startingHeight = size.y;\n\n  var left = position.x - size.x * 0.5;\n  var top = position.y - size.y * 0.5;\n\n  var lineHeightPercentage = markup.lineHeight + \"%\";\n  this.styleTextArea.setAttribute('line-height', lineHeightPercentage);\n  this.styleTextArea.setAttribute('padding', padding + 'px');\n\n  this.setPosAndSize(left, top, size.x, size.y);\n  if (updateStyleFirst) {\n    this.setStyle(markup.getStyle());\n    this.textArea.value = markup.getText();\n  } else {\n    this.textArea.value = markup.getText();\n    this.setStyle(markup.getStyle());\n  }\n};\n\nproto.setPosAndSize = function (left, top, width, height) {\n  if (this.constrainToCanvas) {\n    // Check that it doesn't overflow out of the canvas\n    if (left + width >= this.editor.viewer.container.clientWidth) {\n      left = this.editor.viewer.container.clientWidth - (width + 10);\n    }\n    if (top + height >= this.editor.viewer.container.clientHeight) {\n      top = this.editor.viewer.container.clientHeight - (height + 10);\n    }\n\n    // Make sure text input left side always in the canvas area.\n    // Especially on iPhone6 & iPhone7\n    if (left < 5) {\n      left = 5;\n      width = this.editor.viewer.container.clientWidth - 10;\n    }\n  }\n\n  this.styleTextArea\n  // Size and position\n  .setAttribute('left', left + 'px').\n  setAttribute('top', top + 'px').\n  setAttribute('width', width + 'px').\n  setAttribute('height', height + 'px');\n};\n\nproto.setStyle = function (style) {\n\n  if (this.style) {\n    // An already present style means that the user\n    // has changed the style using the UI buttons.\n    // We need to account for the user having changed the\n    // width/height of the TextArea. Since there is no event\n    // we can detect for it, we do it here.\n    var temp = {};\n    this.injectSizeValues(temp);\n    this.setPosAndSize(\n      temp.newPos.x - temp.width * 0.5,\n      temp.newPos.y - temp.height * 0.5,\n      temp.width, temp.height);\n  }\n  var fontHeight = this.editor.sizeFromMarkupsToClient(0, style['font-size']).y;\n  var strokeWidth = this.editor.sizeFromMarkupsToClient(0, style['stroke-width']).y;\n  var textAreaStyle = this.styleTextArea\n  // Visuals\n  .setAttribute('color', style['stroke-color']).\n  setAttribute('outline', strokeWidth + 'px solid ' + style['stroke-color']).\n  setAttribute('font-family', style['font-family']).\n  setAttribute('font-size', fontHeight + 'px').\n  setAttribute('font-weight', style['font-weight']).\n  setAttribute('font-style', style['font-style']).\n  getStyleString();\n  this.textArea.setAttribute('style', textAreaStyle);\n  this.style = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_2__.cloneStyle)(style);\n  _EditorTextAutosize__WEBPACK_IMPORTED_MODULE_0__.autosize.update(this.textArea);\n};\n\n/**\n * Helper function that, for a given markup with some text in it\n * returns an Array of lines in it.\n * @param {Object} markup\n * @returns {{text, lines}|{text: String, lines: Array.<String>}}\n */\nproto.getTextValuesForMarkup = function (markup, sizeUpdateRequired) {\n  var active = this.isActive();\n  var activeMarkup = this.textMarkup;\n  var activeFirstEdit = this.firstEdit;\n\n  this.setActive(markup, false);\n  var textValues = this.getTextValues();\n\n  var dataBag = {\n    markup: markup,\n    textValues: textValues\n  };\n\n  if (active) {\n    this.setActive(activeMarkup, activeFirstEdit);\n  } else {\n    if (sizeUpdateRequired) {\n      this.injectSizeValues(dataBag);\n    }\n\n    this.setInactive();\n  }\n\n  return dataBag;\n};\n\n/**\n * Returns the current text as one string and an array of lines\n * of how the text is being rendered (1 string per line)\n * @returns {{text: String, lines: Array.<String>}}\n */\nproto.getTextValues = function () {\n\n  var newText = this.textArea.value;\n  if (newText === this.defaultText) {\n    newText = '';\n  }\n  return {\n    text: newText,\n    lines: this.generateLines()\n  };\n};\n\n/**\n * Function called by UI\n */\nproto.acceptAndExit = function () {\n\n  // If placeholder text, then remove.\n  var textValues = this.getTextValues();\n  var textMarkup = this.textMarkup;\n\n  var dataBag = {\n    markup: this.textMarkup,\n    style: this.style,\n    firstEdit: this.firstEdit,\n    newText: textValues.text,\n    newLines: textValues.lines\n  };\n  this.injectSizeValues(dataBag);\n\n  this.dispatchEvent({ type: this.EVENT_TEXT_CHANGE, data: dataBag });\n  this.setInactive();\n  textMarkup.updateStyle(true); // Hack: LMV-3628\n};\n\n/**\n * Injects position, width and height of the textarea rect\n * @param {Object} dataBag\n * @private\n */\nproto.injectSizeValues = function (dataBag) {\n\n  // Explicit usage of parseFloat to remove the 'px' suffix.\n  var width = parseFloat(this.textArea.style.width);\n  var height = parseFloat(this.textArea.style.height);\n  var ox = parseFloat(this.textArea.style.left);\n  var oy = parseFloat(this.textArea.style.top);\n\n  dataBag.width = width;\n  dataBag.height = height;\n  dataBag.newPos = {\n    x: ox + width * 0.5,\n    y: oy + height * 0.5\n  };\n};\n\n/**\n * Handler for when the camera moves\n * @param {Object} event - Camera moves event\n * @private\n */\nproto.onCameraChanged = function (event) {\n  var str = this.textArea.value;\n  this.textMarkup.style = (0,_StyleUtils__WEBPACK_IMPORTED_MODULE_2__.cloneStyle)(this.style);\n  this.style = null; // TODO: Revisit this code because style changes are lost by doing this.\n  this.initFromMarkup(true);\n  this.textArea.value = str;\n  this.setEditFrame();\n};\n\n/**\n * Grabs the text content of the textarea and returns\n * an Array of lines.  Wrapped lines are returned as 2 lines.\n */\nproto.generateLines = function () {\n\n  // First, get lines separated by line breaks:\n  var textContent = this.textArea.value;\n  var linesBreaks = textContent.split(/\\r*\\n/);\n\n  var styleMeasureStr = this.styleTextArea.clone().\n  removeAttribute(['top', 'left', 'width', 'height']).\n  setAttribute('position', 'absolute').\n  setAttribute('white-space', 'nowrap').\n  setAttribute('float', 'left').\n  setAttribute('visibility', 'hidden').\n  getStyleString();\n  this.measureDiv.setAttribute('style', styleMeasureStr);\n  this.parentDiv.appendChild(this.measureDiv);\n\n  var maxLineLength = this.textArea.clientWidth - 2 * parseFloat(this.textArea.style.padding);\n\n  // Now check whether the lines are wrapped.\n  // If so, subdivide into other lines.\n  var linesOutput = [];\n\n  for (var i = 0, len = linesBreaks.length; i < len; ++i) {\n    var line = trimRight(linesBreaks[i]);\n\n    // Add a space in an empty line so it appears in the lines output\n    line = line === '' ? ' ' : line;\n    this.splitLine(line, maxLineLength, linesOutput);\n  }\n\n  this.parentDiv.removeChild(this.measureDiv);\n  return linesOutput;\n};\n\n/**\n * Given a String that represents one line of text that is\n * longer than the max length a line is allowed, this method\n * cuts text into several ones that are no longer than the max\n * length.\n *\n * @param {String} text\n * @param {Number} maxLength\n * @param {Array} output\n * @private\n */\nproto.splitLine = function (text, maxLength, output) {\n\n  // End condition\n  if (text === '') {\n    return;\n  }\n\n  var remaining = '';\n  var done = false;\n\n  while (!done) {\n    this.measureDiv.innerText = text;\n    var lineLen = this.measureDiv.clientWidth - 2 * parseFloat(this.measureDiv.style.padding);\n    if (lineLen <= maxLength) {\n      output.push(text);\n      this.splitLine(trimLeft(remaining), maxLength, output);\n      done = true;\n    } else {\n      // Need to try with a shorter word!\n      var parts = this.getShorterLine(text);\n      if (parts.length === 1) {\n        // text is only one word that is way too long.\n        this.splitWord(text, remaining, maxLength, output);\n        done = true;\n      } else {\n        text = parts[0];\n        remaining = parts[1] + remaining;\n      }\n    }\n  }\n};\n\n/**\n * Given a line of text such as \"hi there programmer\", it returns\n * an array with 2 parts: [\"hi there\", \" programmer\"].\n *\n * It accounts for special cases with multi-spaces, such as for\n * \"hi there  two-spaces\" returns [\"hi there\", \"  two-spaces\"]\n *\n * When there is only one word, it returns the whole word:\n * \"JustOneWord\" returns [\"JustOneWord\"] (an array of 1 element)\n *\n * @param {String} line\n * @returns {Array}\n */\nproto.getShorterLine = function (line) {\n\n  // TODO: Account for TABs\n  // Will probably never do unless a bug is reported.\n\n  var iLastSpace = line.lastIndexOf(' ');\n  if (iLastSpace === -1) {\n    return [line]; // This is a single word\n  }\n\n  // Else\n  // Iterate back removing additional spaces (multi spaces)\n  while (line.charAt(iLastSpace - 1) === ' ') {\n    iLastSpace--;\n  }\n\n  var trailingWord = line.substr(iLastSpace); // Contains the spaces\n  var shorterLine = line.substr(0, iLastSpace);\n  return [shorterLine, trailingWord];\n};\n\n/**\n * Given a single word, splits it into multiple lines that fits in maxWidth\n * @param {String} word\n * @param {String} remaining\n * @param {Number} maxLength\n * @param {Array} output\n */\nproto.splitWord = function (word, remaining, maxLength, output) {\n\n  var lenSoFar = 1;\n  var fits = true;\n  while (fits) {\n\n    var part = word.substr(0, lenSoFar);\n    this.measureDiv.innerText = part;\n    var lineLen = this.measureDiv.clientWidth - 2 * parseFloat(this.measureDiv.style.padding);\n\n    if (lineLen > maxLength) {\n\n      if (lenSoFar === 1) {\n        // we can't split 1 character any longer.\n        output.push(part);\n        this.splitWord(word.substr(1), remaining, maxLength, output);\n        return;\n      }\n\n      // It was fine until one less char //\n      var okayWord = word.substr(0, lenSoFar - 1);\n      output.push(okayWord);\n      var extraWord = word.substr(lenSoFar - 1);\n      this.splitLine(extraWord + remaining, maxLength, output);\n      return;\n    }\n\n    // Try one more character\n    lenSoFar++;\n\n    // Check if we are done with all characters\n    if (lenSoFar > word.length) {\n      // Okay it fits\n      output.push(word);\n      return;\n    }\n  }\n};\n\nfunction trimRight(text) {\n  if (text.length === 0) {\n    return \"\";\n  }\n  var lastNonSpace = text.length - 1;\n  for (var i = lastNonSpace; i >= 0; --i) {\n    if (text.charAt(i) !== ' ') {\n      lastNonSpace = i;\n      break;\n    }\n  }\n  return text.substr(0, lastNonSpace + 1);\n}\n\nfunction trimLeft(text) {\n  if (text.length === 0) {\n    return \"\";\n  }\n  var firstNonSpace = 0;\n  for (var i = 0; i < text.length; ++i) {\n    if (text.charAt(i) !== ' ') {\n      firstNonSpace = i;\n      break;\n    }\n  }\n  return text.substr(firstNonSpace);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL2VkaXQtbW9kZXMvRWRpdG9yVGV4dElucHV0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWE7O0FBRW1DO0FBQ2M7QUFDbkI7QUFDVTs7QUFFckQsTUFBTUksRUFBRSxHQUFHQyxRQUFRLENBQUNDLE9BQU87O0FBRXZCO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ1csU0FBU0MsZUFBZUEsQ0FBQ0MsU0FBUyxFQUFFQyxNQUFNLEVBQUVDLFVBQVUsRUFBRUMsV0FBVyxFQUFFQyxTQUFTLEVBQUU7O0VBRW5GLElBQUksQ0FBQ0osU0FBUyxHQUFHQSxTQUFTO0VBQzFCLElBQUksQ0FBQ0MsTUFBTSxHQUFHQSxNQUFNO0VBQ3BCLElBQUksQ0FBQ0ksZ0JBQWdCLENBQUNKLE1BQU0sQ0FBQ0ssTUFBTSxDQUFDQyxhQUFhLENBQUM7O0VBRWxEO0VBQ0EsSUFBSSxDQUFDQyxpQkFBaUIsR0FBRyx1QkFBdUI7RUFDaEQsSUFBSSxDQUFDQyxxQkFBcUIsR0FBRywyQkFBMkI7RUFDeEQsSUFBSSxDQUFDQyx1QkFBdUIsR0FBRyw2QkFBNkI7O0VBRTVELE1BQU1DLFNBQVMsR0FBRyxJQUFJLENBQUNDLFdBQVcsQ0FBQyxDQUFDO0VBQ3BDO0VBQ0EsSUFBSVYsVUFBVSxFQUFFO0lBQ1osSUFBSSxDQUFDVyxRQUFRLEdBQUdGLFNBQVMsQ0FBQ0csYUFBYSxDQUFDLE9BQU8sQ0FBQztJQUNoRCxJQUFJLENBQUNELFFBQVEsQ0FBQ0UsWUFBWSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUM7RUFDOUMsQ0FBQztFQUNJO0lBQ0QsSUFBSSxDQUFDRixRQUFRLEdBQUdGLFNBQVMsQ0FBQ0csYUFBYSxDQUFDLFVBQVUsQ0FBQztJQUNuRCxJQUFJLENBQUNELFFBQVEsQ0FBQ0csSUFBSSxHQUFHLEdBQUc7SUFDeEIsSUFBSSxDQUFDSCxRQUFRLENBQUNJLEdBQUcsR0FBRyxNQUFNO0VBQzlCOztFQUVB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RyxDQUFDO0VBQ3JCLEtBQUssSUFBSTdCLENBQUMsR0FBQyxDQUFDLEVBQUVBLENBQUMsR0FBQ25CLElBQUksQ0FBQ3FCLE1BQU0sRUFBRSxFQUFFRixDQUFDLEVBQUU7SUFDOUIsSUFBSW5CLElBQUksQ0FBQ3FDLE1BQU0sQ0FBQ2xCLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRTtNQUN4QjZCLGFBQWEsR0FBRzdCLENBQUM7TUFDakI7SUFDSjtFQUNKO0VBQ0EsT0FBT25CLElBQUksQ0FBQ3VDLE1BQU0sQ0FBQ1MsYUFBYSxDQUFDO0FBQ3JDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvZWRpdC1tb2Rlcy9FZGl0b3JUZXh0SW5wdXQuanM/NjBlNyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IGF1dG9zaXplIH0gZnJvbSAnLi9FZGl0b3JUZXh0QXV0b3NpemUnO1xuaW1wb3J0IHsgYWRkVHJhaXRFdmVudERpc3BhdGNoZXIgfSBmcm9tICcuLi9NYXJrdXBzQ29yZVV0aWxzJztcbmltcG9ydCB7IGNsb25lU3R5bGUgfSBmcm9tICcuLi9TdHlsZVV0aWxzJztcbmltcG9ydCB7IERvbUVsZW1lbnRTdHlsZSB9IGZyb20gJy4uL0RvbUVsZW1lbnRTdHlsZSc7XG5cbmNvbnN0IGF2ID0gQXV0b2Rlc2suVmlld2luZztcblxuICAgIC8qKlxuICAgICAqIEF1eGlsaWFyeSBjbGFzcyB0aGF0IGhhbmRsZXMgYWxsIGlucHV0IGZvciB0aGUgTGFiZWwgTWFya3VwIChNYXJrdXBUZXh0LmpzKVxuICAgICAqIEl0IGluc3RhbnRpYXRlcyBhIFRFWFRBUkVBIHdoZXJlIHRoZSB1c2VyIGNhbiBpbnB1dCB0ZXh0LiBXaGVuIHVzZXIgaW5wdXQgaXNcbiAgICAgKiBkaXNhYmxlZCwgdGhlIHRleHRhcmVhIGdldHMgaGlkZGVuIGFuZCBmdXJ0aGVyIHJlbmRlcmluZyBpcyBkZWxlZ2F0ZWQgdG9cbiAgICAgKiBNYXJrdXBUZXh0LmpzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnREaXZcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZWRpdG9yIC0gQ29yZSBFeHRlbnNpb25cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gRWRpdG9yVGV4dElucHV0KHBhcmVudERpdiwgZWRpdG9yLCBzaW5nbGVMaW5lLCBkZWZhdWx0VGV4dCwgbWF4TGVuZ3RoKSB7XG5cbiAgICAgICAgdGhpcy5wYXJlbnREaXYgPSBwYXJlbnREaXY7XG4gICAgICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuICAgICAgICB0aGlzLnNldEdsb2JhbE1hbmFnZXIoZWRpdG9yLnZpZXdlci5nbG9iYWxNYW5hZ2VyKTtcblxuICAgICAgICAvLyBDb25zdGFudHNcbiAgICAgICAgdGhpcy5FVkVOVF9URVhUX0NIQU5HRSA9ICdFVkVOVF9DTzJfVEVYVF9DSEFOR0UnO1xuICAgICAgICB0aGlzLkVWRU5UX1RFWFRfU0VUX0FDVElWRSA9ICdFVkVOVF9DTzJfVEVYVF9TRVRfQUNUSVZFJztcbiAgICAgICAgdGhpcy5FVkVOVF9URVhUX1NFVF9JTkFDVElWRSA9ICdFVkVOVF9DTzJfVEVYVF9TRVRfSU5BQ1RJVkUnO1xuXG4gICAgICAgIGNvbnN0IF9kb2N1bWVudCA9IHRoaXMuZ2V0RG9jdW1lbnQoKTtcbiAgICAgICAgLy8gVGhlIGFjdHVhbCBUZXh0QXJlYSBpbnB1dFxuICAgICAgICBpZiAoc2luZ2xlTGluZSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0QXJlYSA9IF9kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICAgICAgdGhpcy50ZXh0QXJlYS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dCcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50ZXh0QXJlYSA9IF9kb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICAgICAgICAgICAgdGhpcy50ZXh0QXJlYS5yb3dzID0gJzEnO1xuICAgICAgICAgICAgdGhpcy50ZXh0QXJlYS5kaXIgPSAnYXV0byc7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZpcnN0RWRpdCA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVmYXVsdFRleHQgPSBkZWZhdWx0VGV4dDtcbiAgICAgICAgdGhpcy50ZXh0QXJlYS5zZXRBdHRyaWJ1dGUoJ21heGxlbmd0aCcsIG1heExlbmd0aCk7IC8vIFRPRE86IE1ha2UgY29uc3RhbnQ/IENoYW5nZSB2YWx1ZT9cbiAgICAgICAgdGhpcy50ZXh0QXJlYS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaTE4bicsIGRlZmF1bHRUZXh0KTtcbiAgICAgICAgdGhpcy5zdGFydGluZ0hlaWdodCA9IDA7XG5cbiAgICAgICAgYXV0b3NpemUuYmluZCh0aGlzKSh0aGlzLnRleHRBcmVhKTtcblxuICAgICAgICB2YXIgcm8gPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZnVuY3Rpb24oZW50cmllcywgb2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RWRpdEZyYW1lKCk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICAgICAgcm8ub2JzZXJ2ZSh0aGlzLnRleHRBcmVhKTtcblxuICAgICAgICB0aGlzLnN0eWxlVGV4dEFyZWEgPSBuZXcgRG9tRWxlbWVudFN0eWxlKCk7IC8vIFRPRE86IE1vdmUgdGhpcyB0byBFZGl0TW9kZS5cbiAgICAgICAgdGhpcy5zdHlsZVRleHRBcmVhXG4gICAgICAgICAgICAgICAgLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCAnYWJzb2x1dGUnKVxuICAgICAgICAgICAgICAgIC5zZXRBdHRyaWJ1dGUoJ3Jlc2l6ZScsICdub25lJylcbiAgICAgICAgICAgICAgICAuc2V0QXR0cmlidXRlKCdib3gtc2l6aW5nJywgJ2JvcmRlci1ib3gnKVxuICAgICAgICAgICAgICAgIC5zZXRBdHRyaWJ1dGUoJy1tb3otYm94LXNpemluZycsICdib3JkZXItYm94JylcbiAgICAgICAgICAgICAgICAuc2V0QXR0cmlidXRlKCctd2Via2l0LWJveC1zaXppbmcnLCAnYm9yZGVyLWJveCcpXG4gICAgICAgICAgICAgICAgLnNldEF0dHJpYnV0ZSgnb3ZlcmZsb3cnLCAnaGlkZGVuJylcbiAgICAgICAgICAgICAgICAuc2V0QXR0cmlidXRlKCdvdXRsaW5lJywgJ25vbmUnKVxuICAgICAgICAgICAgICAgIC5zZXRBdHRyaWJ1dGUoJ2JvcmRlcicsICdub25lJylcbiAgICAgICAgICAgICAgICAuc2V0QXR0cmlidXRlKCd6LWluZGV4JywgJzEnKVxuICAgICAgICAgICAgICAgIC5zZXRBdHRyaWJ1dGUoJ3BhZGRpbmcnLCAnMTBweCcpO1xuXG4gICAgICAgIC8vIEhlbHBlciBkaXYgdG8gbWVhc3VyZSB0ZXh0IHdpZHRoXG4gICAgICAgIHRoaXMubWVhc3VyZURpdiA9IF9kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICAvLyBCZWNvbWUgYW4gZXZlbnQgZGlzcGF0Y2hlclxuICAgICAgICBhZGRUcmFpdEV2ZW50RGlzcGF0Y2hlcih0aGlzKTtcbiAgICB9XG5cbiAgICBhdi5HbG9iYWxNYW5hZ2VyTWl4aW4uY2FsbChFZGl0b3JUZXh0SW5wdXQucHJvdG90eXBlKTtcbiAgICB2YXIgcHJvdG8gPSBFZGl0b3JUZXh0SW5wdXQucHJvdG90eXBlO1xuXG4gICAgcHJvdG8uZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHRoaXMuc2V0SW5hY3RpdmUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgaXRzZWxmIGdpdmVuIGFuIExhYmVsIE1hcmt1cCAodGV4dE1hcmt1cClcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGV4dE1hcmt1cFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZmlyc3RFZGl0IC0gV2hldGhlciB0aGUgbWFya3VwIGlzIGJlaW5nIGVkaXRlZCBmb3IgdGhlIGZpcnN0IHRpbWUuXG4gICAgICovXG4gICAgcHJvdG8uc2V0QWN0aXZlID0gZnVuY3Rpb24odGV4dE1hcmt1cCwgZmlyc3RFZGl0KSB7XG5cbiAgICAgICAgaWYgKHRoaXMudGV4dE1hcmt1cCA9PT0gdGV4dE1hcmt1cCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBsYWNlaG9sZGVyVGV4dCA9IEF1dG9kZXNrLlZpZXdpbmcuaTE4bi50cmFuc2xhdGUodGhpcy5kZWZhdWx0VGV4dCk7XG4gICAgICAgIHRoaXMudGV4dEFyZWEuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsIHBsYWNlaG9sZGVyVGV4dCk7XG5cbiAgICAgICAgdGhpcy5zZXRJbmFjdGl2ZSgpO1xuICAgICAgICB0aGlzLnBhcmVudERpdi5hcHBlbmRDaGlsZCh0aGlzLnRleHRBcmVhKTtcbiAgICAgICAgdGhpcy50ZXh0TWFya3VwID0gdGV4dE1hcmt1cDtcbiAgICAgICAgdGhpcy5maXJzdEVkaXQgPSBmaXJzdEVkaXQgfHwgZmFsc2U7XG5cbiAgICAgICAgdGhpcy5jb25zdHJhaW5Ub0NhbnZhcyA9IGZpcnN0RWRpdDtcblxuICAgICAgICB0aGlzLmluaXRGcm9tTWFya3VwKCk7XG5cbiAgICAgICAgdGhpcy5jb25zdHJhaW5Ub0NhbnZhcyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIE9uIGlPUyB0aGlzIGRvZXNuJ3Qgd29yayBxdWl0ZSB3ZWxsLCB0aGUga2V5Ym9hcmQgd2lsbCBkaXNtaXNzIGFmdGVyIGNhbGwgZm9jdXMgcHJvZ3JhbWF0aWNhbGx5LlxuICAgICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzMyNDA3MTg1L3drd2Vidmlldy1jYW50LW9wZW4ta2V5Ym9hcmQtZm9yLWlucHV0LWZpZWxkXG4gICAgICAgIGlmICghQXV0b2Rlc2suVmlld2luZy5pc0lPU0RldmljZSgpKSB7XG4gICAgICAgICAgLy8gRm9jdXMgb24gbmV4dCBmcmFtZVxuICAgICAgICAgIHZhciB0eHRBcmVhID0gdGhpcy50ZXh0QXJlYTtcbiAgICAgICAgICBjb25zdCBfd2luZG93ID0gdGhpcy5nZXRXaW5kb3coKTtcbiAgICAgICAgICBfd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgICB0eHRBcmVhLmZvY3VzKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF0YUJhZyA9IHtcbiAgICAgICAgICAgIG1hcmt1cDogdGhpcy50ZXh0TWFya3VwLFxuICAgICAgICAgICAgZmlyc3RFZGl0OiB0aGlzLmZpcnN0RWRpdCxcbiAgICAgICAgICAgIGlzQWN0aXZlOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6IHRoaXMuRVZFTlRfVEVYVF9TRVRfQUNUSVZFLCBkYXRhOiBkYXRhQmFnIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIGVkaXRvciB0ZXh0IGlucHV0IGFuZCBnb2VzIGJhY2sgaW50byBub3JtYWwgbWFya3VwIGVkaXRpb24gbW9kZS5cbiAgICAgKi9cbiAgICBwcm90by5zZXRJbmFjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGF0YUJhZyA9IHtcbiAgICAgICAgICAgIG1hcmt1cDogdGhpcy50ZXh0TWFya3VwLFxuICAgICAgICAgICAgaXNBY3RpdmU6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSW4gaU9TMTAsIHRoZSBrZXlib2FyZCBhbHdheXMgc2hvdyBvbiBzY3JlZW4gYWZ0ZXIgdGFwIHNjcmVlbiBvdXQgb2YgdGV4dFxuICAgICAgICAvLyBhcmVhIG9yIHNhdmUgbWFya3VwIHRvIGVuZCB0ZXh0IGVkaXQsIGNhbGwgYmx1ciB0byBtYWtlIHN1cmUga2V5Ym9hcmQgZGlzbWlzcy5cbiAgICAgICAgaWYgKEF1dG9kZXNrLlZpZXdpbmcuaXNJT1NEZXZpY2UoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50ZXh0QXJlYS5ibHVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbW92ZVdpbmRvd0V2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemVCaW5kZWQpO1xuXG4gICAgICAgIGlmICh0aGlzLnRleHRNYXJrdXApIHtcbiAgICAgICAgICAgIHRoaXMudGV4dE1hcmt1cCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnBhcmVudERpdi5yZW1vdmVDaGlsZCh0aGlzLnRleHRBcmVhKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0eWxlID0gbnVsbDtcblxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoeyB0eXBlOiB0aGlzLkVWRU5UX1RFWFRfU0VUX0lOQUNUSVZFLCBkYXRhOiBkYXRhQmFnIH0pO1xuICAgIH07XG5cbiAgICBwcm90by5pc0FjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHJldHVybiAhIXRoaXMudGV4dE1hcmt1cDtcbiAgICB9O1xuXG4gICAgcHJvdG8uc2V0RWRpdEZyYW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmVkaXRvci5lZGl0RnJhbWUubWFya3VwICYmIHRoaXMudGV4dE1hcmt1cCAmJiB0aGlzLmVkaXRvci5lZGl0RnJhbWUubWFya3VwID09PSB0aGlzLnRleHRNYXJrdXApIHtcbiAgICAgICAgICAgIHZhciBmcmFtZVdpZHRoID0gcGFyc2VGbG9hdCh0aGlzLnRleHRBcmVhLnN0eWxlLndpZHRoKTtcbiAgICAgICAgICAgIHZhciBmcmFtZUhlaWdodCA9IHBhcnNlRmxvYXQodGhpcy50ZXh0QXJlYS5zdHlsZS5oZWlnaHQpO1xuXG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSB0aGlzLnRleHRNYXJrdXAuZ2V0Q2xpZW50UG9zaXRpb24oKTtcbiAgICAgICAgICAgIHZhciByb3RhdGlvbiA9IHRoaXMudGV4dE1hcmt1cC5nZXRSb3RhdGlvbigpO1xuXG4gICAgICAgICAgICB2YXIgeFBvcyA9IHBvc2l0aW9uLnggLSAoZnJhbWVXaWR0aCAvIDIpO1xuICAgICAgICAgICAgdmFyIHlQb3MgPSBwb3NpdGlvbi55IC0gKHRoaXMuc3RhcnRpbmdIZWlnaHQgLyAyKTtcblxuICAgICAgICAgICAgdGhpcy5lZGl0b3IuZWRpdEZyYW1lLnNldFNlbGVjdGlvbih4UG9zLCB5UG9zLCBmcmFtZVdpZHRoLCBmcmFtZUhlaWdodCwgcm90YXRpb24pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgTWFya3VwIHN0eWxlcyB0byBUZXh0QXJlYSB1c2VkIGZvciBlZGl0aW5nLlxuICAgICAqIEl0IGFsc28gc2F2ZXMgYSBjb3B5IG9mIHRoZSBzdHlsZSBvYmplY3QuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcm90by5pbml0RnJvbU1hcmt1cCA9IGZ1bmN0aW9uKHVwZGF0ZVN0eWxlRmlyc3QpIHtcblxuICAgICAgICB2YXIgbWFya3VwID0gdGhpcy50ZXh0TWFya3VwO1xuICAgICAgICB2YXIgcG9zaXRpb24gPSBtYXJrdXAuZ2V0Q2xpZW50UG9zaXRpb24oKTtcbiAgICAgICAgdmFyIHNpemUgPSBtYXJrdXAuZ2V0Q2xpZW50U2l6ZSgpO1xuXG4gICAgICAgIC8vIFRleHQgYXJlYSBwYWRkaW5nIGlzIHJlbGF0aXZlIHRvIHRoZSBjdXJyZW50IGZvbnQgc2l6ZVxuICAgICAgICB2YXIgcGFkZGluZyA9IG1hcmt1cC5nZXRDbGllbnRGb250U2l6ZSgpIC8gMjtcblxuICAgICAgICB0aGlzLnN0YXJ0aW5nSGVpZ2h0ID0gc2l6ZS55O1xuXG4gICAgICAgIHZhciBsZWZ0ID0gcG9zaXRpb24ueCAtIHNpemUueCAqIDAuNTtcbiAgICAgICAgdmFyIHRvcCA9IHBvc2l0aW9uLnkgLSBzaXplLnkgKiAwLjU7XG5cbiAgICAgICAgdmFyIGxpbmVIZWlnaHRQZXJjZW50YWdlID0gbWFya3VwLmxpbmVIZWlnaHQgKyBcIiVcIjtcbiAgICAgICAgdGhpcy5zdHlsZVRleHRBcmVhLnNldEF0dHJpYnV0ZSgnbGluZS1oZWlnaHQnLCBsaW5lSGVpZ2h0UGVyY2VudGFnZSk7XG4gICAgICAgIHRoaXMuc3R5bGVUZXh0QXJlYS5zZXRBdHRyaWJ1dGUoJ3BhZGRpbmcnLCBwYWRkaW5nICsgJ3B4Jyk7XG5cbiAgICAgICAgdGhpcy5zZXRQb3NBbmRTaXplKGxlZnQsIHRvcCwgc2l6ZS54LCBzaXplLnkpO1xuICAgICAgICBpZiAodXBkYXRlU3R5bGVGaXJzdCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdHlsZShtYXJrdXAuZ2V0U3R5bGUoKSk7XG4gICAgICAgICAgICB0aGlzLnRleHRBcmVhLnZhbHVlID0gbWFya3VwLmdldFRleHQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGV4dEFyZWEudmFsdWUgPSBtYXJrdXAuZ2V0VGV4dCgpO1xuICAgICAgICAgICAgdGhpcy5zZXRTdHlsZShtYXJrdXAuZ2V0U3R5bGUoKSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvdG8uc2V0UG9zQW5kU2l6ZSA9IGZ1bmN0aW9uKGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICBpZiAodGhpcy5jb25zdHJhaW5Ub0NhbnZhcykge1xuICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCBpdCBkb2Vzbid0IG92ZXJmbG93IG91dCBvZiB0aGUgY2FudmFzXG4gICAgICAgICAgICBpZiAobGVmdCArIHdpZHRoID49IHRoaXMuZWRpdG9yLnZpZXdlci5jb250YWluZXIuY2xpZW50V2lkdGgpIHtcbiAgICAgICAgICAgICAgICBsZWZ0ID0gdGhpcy5lZGl0b3Iudmlld2VyLmNvbnRhaW5lci5jbGllbnRXaWR0aCAtICh3aWR0aCArIDEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b3AgKyBoZWlnaHQgPj0gdGhpcy5lZGl0b3Iudmlld2VyLmNvbnRhaW5lci5jbGllbnRIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB0b3AgPSB0aGlzLmVkaXRvci52aWV3ZXIuY29udGFpbmVyLmNsaWVudEhlaWdodCAtIChoZWlnaHQgKyAxMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0ZXh0IGlucHV0IGxlZnQgc2lkZSBhbHdheXMgaW4gdGhlIGNhbnZhcyBhcmVhLlxuICAgICAgICAgICAgLy8gRXNwZWNpYWxseSBvbiBpUGhvbmU2ICYgaVBob25lN1xuICAgICAgICAgICAgaWYgKGxlZnQgPCA1KSB7XG4gICAgICAgICAgICAgICAgbGVmdCA9IDU7XG4gICAgICAgICAgICAgICAgd2lkdGggPSB0aGlzLmVkaXRvci52aWV3ZXIuY29udGFpbmVyLmNsaWVudFdpZHRoIC0gMTA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0eWxlVGV4dEFyZWFcbiAgICAgICAgICAgIC8vIFNpemUgYW5kIHBvc2l0aW9uXG4gICAgICAgICAgICAuc2V0QXR0cmlidXRlKCdsZWZ0JywgbGVmdCArICdweCcpXG4gICAgICAgICAgICAuc2V0QXR0cmlidXRlKCd0b3AnLCB0b3AgKyAncHgnKVxuICAgICAgICAgICAgLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB3aWR0aCArICdweCcpXG4gICAgICAgICAgICAuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBoZWlnaHQgKyAncHgnKTtcbiAgICB9O1xuXG4gICAgcHJvdG8uc2V0U3R5bGUgPSBmdW5jdGlvbihzdHlsZSkge1xuXG4gICAgICAgIGlmICh0aGlzLnN0eWxlKSB7XG4gICAgICAgICAgICAvLyBBbiBhbHJlYWR5IHByZXNlbnQgc3R5bGUgbWVhbnMgdGhhdCB0aGUgdXNlclxuICAgICAgICAgICAgLy8gaGFzIGNoYW5nZWQgdGhlIHN0eWxlIHVzaW5nIHRoZSBVSSBidXR0b25zLlxuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBhY2NvdW50IGZvciB0aGUgdXNlciBoYXZpbmcgY2hhbmdlZCB0aGVcbiAgICAgICAgICAgIC8vIHdpZHRoL2hlaWdodCBvZiB0aGUgVGV4dEFyZWEuIFNpbmNlIHRoZXJlIGlzIG5vIGV2ZW50XG4gICAgICAgICAgICAvLyB3ZSBjYW4gZGV0ZWN0IGZvciBpdCwgd2UgZG8gaXQgaGVyZS5cbiAgICAgICAgICAgIHZhciB0ZW1wID0ge307XG4gICAgICAgICAgICB0aGlzLmluamVjdFNpemVWYWx1ZXModGVtcCk7XG4gICAgICAgICAgICB0aGlzLnNldFBvc0FuZFNpemUoXG4gICAgICAgICAgICAgICAgdGVtcC5uZXdQb3MueCAtIHRlbXAud2lkdGggKiAwLjUsXG4gICAgICAgICAgICAgICAgdGVtcC5uZXdQb3MueSAtIHRlbXAuaGVpZ2h0ICogMC41LFxuICAgICAgICAgICAgICAgIHRlbXAud2lkdGgsIHRlbXAuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm9udEhlaWdodCA9IHRoaXMuZWRpdG9yLnNpemVGcm9tTWFya3Vwc1RvQ2xpZW50KDAsIHN0eWxlWydmb250LXNpemUnXSkueTtcbiAgICAgICAgdmFyIHN0cm9rZVdpZHRoID0gdGhpcy5lZGl0b3Iuc2l6ZUZyb21NYXJrdXBzVG9DbGllbnQoMCwgc3R5bGVbJ3N0cm9rZS13aWR0aCddKS55O1xuICAgICAgICB2YXIgdGV4dEFyZWFTdHlsZSA9IHRoaXMuc3R5bGVUZXh0QXJlYVxuICAgICAgICAgICAgLy8gVmlzdWFsc1xuICAgICAgICAgICAgLnNldEF0dHJpYnV0ZSgnY29sb3InLCBzdHlsZVsnc3Ryb2tlLWNvbG9yJ10pXG4gICAgICAgICAgICAuc2V0QXR0cmlidXRlKCdvdXRsaW5lJywgc3Ryb2tlV2lkdGggKyAncHggc29saWQgJyArIHN0eWxlWydzdHJva2UtY29sb3InXSlcbiAgICAgICAgICAgIC5zZXRBdHRyaWJ1dGUoJ2ZvbnQtZmFtaWx5Jywgc3R5bGVbJ2ZvbnQtZmFtaWx5J10pXG4gICAgICAgICAgICAuc2V0QXR0cmlidXRlKCdmb250LXNpemUnLCBmb250SGVpZ2h0ICsgJ3B4JylcbiAgICAgICAgICAgIC5zZXRBdHRyaWJ1dGUoJ2ZvbnQtd2VpZ2h0Jywgc3R5bGVbJ2ZvbnQtd2VpZ2h0J10pXG4gICAgICAgICAgICAuc2V0QXR0cmlidXRlKCdmb250LXN0eWxlJywgc3R5bGVbJ2ZvbnQtc3R5bGUnXSlcbiAgICAgICAgICAgIC5nZXRTdHlsZVN0cmluZygpO1xuICAgICAgICB0aGlzLnRleHRBcmVhLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCB0ZXh0QXJlYVN0eWxlKTtcbiAgICAgICAgdGhpcy5zdHlsZSA9IGNsb25lU3R5bGUoc3R5bGUpO1xuICAgICAgICBhdXRvc2l6ZS51cGRhdGUodGhpcy50ZXh0QXJlYSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0LCBmb3IgYSBnaXZlbiBtYXJrdXAgd2l0aCBzb21lIHRleHQgaW4gaXRcbiAgICAgKiByZXR1cm5zIGFuIEFycmF5IG9mIGxpbmVzIGluIGl0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXJrdXBcbiAgICAgKiBAcmV0dXJucyB7e3RleHQsIGxpbmVzfXx7dGV4dDogU3RyaW5nLCBsaW5lczogQXJyYXkuPFN0cmluZz59fVxuICAgICAqL1xuICAgIHByb3RvLmdldFRleHRWYWx1ZXNGb3JNYXJrdXAgPSBmdW5jdGlvbihtYXJrdXAsIHNpemVVcGRhdGVSZXF1aXJlZCkge1xuICAgICAgICB2YXIgYWN0aXZlID0gdGhpcy5pc0FjdGl2ZSgpO1xuICAgICAgICB2YXIgYWN0aXZlTWFya3VwID0gdGhpcy50ZXh0TWFya3VwO1xuICAgICAgICB2YXIgYWN0aXZlRmlyc3RFZGl0ID0gdGhpcy5maXJzdEVkaXQ7XG5cbiAgICAgICAgdGhpcy5zZXRBY3RpdmUobWFya3VwLCBmYWxzZSk7XG4gICAgICAgIHZhciB0ZXh0VmFsdWVzID0gdGhpcy5nZXRUZXh0VmFsdWVzKCk7XG5cbiAgICAgICAgdmFyIGRhdGFCYWcgPSB7XG4gICAgICAgICAgICBtYXJrdXA6IG1hcmt1cCxcbiAgICAgICAgICAgIHRleHRWYWx1ZXM6IHRleHRWYWx1ZXNcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoYWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLnNldEFjdGl2ZShhY3RpdmVNYXJrdXAsIGFjdGl2ZUZpcnN0RWRpdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoc2l6ZVVwZGF0ZVJlcXVpcmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmplY3RTaXplVmFsdWVzKGRhdGFCYWcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNldEluYWN0aXZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGF0YUJhZztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCB0ZXh0IGFzIG9uZSBzdHJpbmcgYW5kIGFuIGFycmF5IG9mIGxpbmVzXG4gICAgICogb2YgaG93IHRoZSB0ZXh0IGlzIGJlaW5nIHJlbmRlcmVkICgxIHN0cmluZyBwZXIgbGluZSlcbiAgICAgKiBAcmV0dXJucyB7e3RleHQ6IFN0cmluZywgbGluZXM6IEFycmF5LjxTdHJpbmc+fX1cbiAgICAgKi9cbiAgICBwcm90by5nZXRUZXh0VmFsdWVzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIG5ld1RleHQgPSB0aGlzLnRleHRBcmVhLnZhbHVlO1xuICAgICAgICBpZiAobmV3VGV4dCA9PT0gdGhpcy5kZWZhdWx0VGV4dCkge1xuICAgICAgICAgICAgbmV3VGV4dCA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0ZXh0OiBuZXdUZXh0LFxuICAgICAgICAgICAgbGluZXM6IHRoaXMuZ2VuZXJhdGVMaW5lcygpXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIGNhbGxlZCBieSBVSVxuICAgICAqL1xuICAgIHByb3RvLmFjY2VwdEFuZEV4aXQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAvLyBJZiBwbGFjZWhvbGRlciB0ZXh0LCB0aGVuIHJlbW92ZS5cbiAgICAgICAgdmFyIHRleHRWYWx1ZXMgPSB0aGlzLmdldFRleHRWYWx1ZXMoKTtcbiAgICAgICAgdmFyIHRleHRNYXJrdXAgPSB0aGlzLnRleHRNYXJrdXA7XG5cbiAgICAgICAgdmFyIGRhdGFCYWcgPSB7XG4gICAgICAgICAgICBtYXJrdXA6IHRoaXMudGV4dE1hcmt1cCxcbiAgICAgICAgICAgIHN0eWxlOiB0aGlzLnN0eWxlLFxuICAgICAgICAgICAgZmlyc3RFZGl0OiB0aGlzLmZpcnN0RWRpdCxcbiAgICAgICAgICAgIG5ld1RleHQ6IHRleHRWYWx1ZXMudGV4dCxcbiAgICAgICAgICAgIG5ld0xpbmVzOiB0ZXh0VmFsdWVzLmxpbmVzXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaW5qZWN0U2l6ZVZhbHVlcyhkYXRhQmFnKTtcblxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoeyB0eXBlOiB0aGlzLkVWRU5UX1RFWFRfQ0hBTkdFLCBkYXRhOiBkYXRhQmFnIH0pO1xuICAgICAgICB0aGlzLnNldEluYWN0aXZlKCk7XG4gICAgICAgIHRleHRNYXJrdXAudXBkYXRlU3R5bGUodHJ1ZSk7IC8vIEhhY2s6IExNVi0zNjI4XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluamVjdHMgcG9zaXRpb24sIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHRleHRhcmVhIHJlY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YUJhZ1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJvdG8uaW5qZWN0U2l6ZVZhbHVlcyA9IGZ1bmN0aW9uKGRhdGFCYWcpIHtcblxuICAgICAgICAvLyBFeHBsaWNpdCB1c2FnZSBvZiBwYXJzZUZsb2F0IHRvIHJlbW92ZSB0aGUgJ3B4JyBzdWZmaXguXG4gICAgICAgIHZhciB3aWR0aCA9IHBhcnNlRmxvYXQodGhpcy50ZXh0QXJlYS5zdHlsZS53aWR0aCk7XG4gICAgICAgIHZhciBoZWlnaHQgPSBwYXJzZUZsb2F0KHRoaXMudGV4dEFyZWEuc3R5bGUuaGVpZ2h0KTtcbiAgICAgICAgdmFyIG94ID0gcGFyc2VGbG9hdCh0aGlzLnRleHRBcmVhLnN0eWxlLmxlZnQpO1xuICAgICAgICB2YXIgb3kgPSBwYXJzZUZsb2F0KHRoaXMudGV4dEFyZWEuc3R5bGUudG9wKTtcblxuICAgICAgICBkYXRhQmFnLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGRhdGFCYWcuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBkYXRhQmFnLm5ld1BvcyA9IHtcbiAgICAgICAgICAgIHg6IG94ICsgKHdpZHRoICogMC41KSxcbiAgICAgICAgICAgIHk6IG95ICsgKGhlaWdodCAqIDAuNSlcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlciBmb3Igd2hlbiB0aGUgY2FtZXJhIG1vdmVzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50IC0gQ2FtZXJhIG1vdmVzIGV2ZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcm90by5vbkNhbWVyYUNoYW5nZWQgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICB2YXIgc3RyID0gdGhpcy50ZXh0QXJlYS52YWx1ZTtcbiAgICAgICAgdGhpcy50ZXh0TWFya3VwLnN0eWxlID0gY2xvbmVTdHlsZSh0aGlzLnN0eWxlKTtcbiAgICAgICAgdGhpcy5zdHlsZSA9IG51bGw7IC8vIFRPRE86IFJldmlzaXQgdGhpcyBjb2RlIGJlY2F1c2Ugc3R5bGUgY2hhbmdlcyBhcmUgbG9zdCBieSBkb2luZyB0aGlzLlxuICAgICAgICB0aGlzLmluaXRGcm9tTWFya3VwKHRydWUpO1xuICAgICAgICB0aGlzLnRleHRBcmVhLnZhbHVlID0gc3RyO1xuICAgICAgICB0aGlzLnNldEVkaXRGcmFtZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHcmFicyB0aGUgdGV4dCBjb250ZW50IG9mIHRoZSB0ZXh0YXJlYSBhbmQgcmV0dXJuc1xuICAgICAqIGFuIEFycmF5IG9mIGxpbmVzLiAgV3JhcHBlZCBsaW5lcyBhcmUgcmV0dXJuZWQgYXMgMiBsaW5lcy5cbiAgICAgKi9cbiAgICBwcm90by5nZW5lcmF0ZUxpbmVzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgLy8gRmlyc3QsIGdldCBsaW5lcyBzZXBhcmF0ZWQgYnkgbGluZSBicmVha3M6XG4gICAgICAgIHZhciB0ZXh0Q29udGVudCA9IHRoaXMudGV4dEFyZWEudmFsdWU7XG4gICAgICAgIHZhciBsaW5lc0JyZWFrcyA9IHRleHRDb250ZW50LnNwbGl0KC9cXHIqXFxuLyk7XG5cbiAgICAgICAgdmFyIHN0eWxlTWVhc3VyZVN0ciA9IHRoaXMuc3R5bGVUZXh0QXJlYS5jbG9uZSgpXG4gICAgICAgICAgICAucmVtb3ZlQXR0cmlidXRlKFsndG9wJywgJ2xlZnQnLCAnd2lkdGgnLCAnaGVpZ2h0J10pXG4gICAgICAgICAgICAuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsJ2Fic29sdXRlJylcbiAgICAgICAgICAgIC5zZXRBdHRyaWJ1dGUoJ3doaXRlLXNwYWNlJywnbm93cmFwJylcbiAgICAgICAgICAgIC5zZXRBdHRyaWJ1dGUoJ2Zsb2F0JywnbGVmdCcpXG4gICAgICAgICAgICAuc2V0QXR0cmlidXRlKCd2aXNpYmlsaXR5JywnaGlkZGVuJylcbiAgICAgICAgICAgIC5nZXRTdHlsZVN0cmluZygpO1xuICAgICAgICB0aGlzLm1lYXN1cmVEaXYuc2V0QXR0cmlidXRlKCdzdHlsZScsIHN0eWxlTWVhc3VyZVN0cik7XG4gICAgICAgIHRoaXMucGFyZW50RGl2LmFwcGVuZENoaWxkKHRoaXMubWVhc3VyZURpdik7XG5cbiAgICAgICAgdmFyIG1heExpbmVMZW5ndGggPSB0aGlzLnRleHRBcmVhLmNsaWVudFdpZHRoIC0gKDIgKiBwYXJzZUZsb2F0KHRoaXMudGV4dEFyZWEuc3R5bGUucGFkZGluZykpO1xuXG4gICAgICAgIC8vIE5vdyBjaGVjayB3aGV0aGVyIHRoZSBsaW5lcyBhcmUgd3JhcHBlZC5cbiAgICAgICAgLy8gSWYgc28sIHN1YmRpdmlkZSBpbnRvIG90aGVyIGxpbmVzLlxuICAgICAgICB2YXIgbGluZXNPdXRwdXQgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpPSAwLCBsZW4gPSBsaW5lc0JyZWFrcy5sZW5ndGg7IGk8bGVuOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBsaW5lID0gdHJpbVJpZ2h0KGxpbmVzQnJlYWtzW2ldKTtcblxuICAgICAgICAgICAgLy8gQWRkIGEgc3BhY2UgaW4gYW4gZW1wdHkgbGluZSBzbyBpdCBhcHBlYXJzIGluIHRoZSBsaW5lcyBvdXRwdXRcbiAgICAgICAgICAgIGxpbmUgPSAobGluZSA9PT0gJycpID8gJyAnIDogbGluZTtcbiAgICAgICAgICAgIHRoaXMuc3BsaXRMaW5lKGxpbmUsIG1heExpbmVMZW5ndGgsIGxpbmVzT3V0cHV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGFyZW50RGl2LnJlbW92ZUNoaWxkKHRoaXMubWVhc3VyZURpdik7XG4gICAgICAgIHJldHVybiBsaW5lc091dHB1dDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBTdHJpbmcgdGhhdCByZXByZXNlbnRzIG9uZSBsaW5lIG9mIHRleHQgdGhhdCBpc1xuICAgICAqIGxvbmdlciB0aGFuIHRoZSBtYXggbGVuZ3RoIGEgbGluZSBpcyBhbGxvd2VkLCB0aGlzIG1ldGhvZFxuICAgICAqIGN1dHMgdGV4dCBpbnRvIHNldmVyYWwgb25lcyB0aGF0IGFyZSBubyBsb25nZXIgdGhhbiB0aGUgbWF4XG4gICAgICogbGVuZ3RoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRleHRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbWF4TGVuZ3RoXG4gICAgICogQHBhcmFtIHtBcnJheX0gb3V0cHV0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcm90by5zcGxpdExpbmUgPSBmdW5jdGlvbih0ZXh0LCBtYXhMZW5ndGgsIG91dHB1dCkge1xuXG4gICAgICAgIC8vIEVuZCBjb25kaXRpb25cbiAgICAgICAgaWYgKHRleHQgPT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVtYWluaW5nID0gJyc7XG4gICAgICAgIHZhciBkb25lID0gZmFsc2U7XG5cbiAgICAgICAgd2hpbGUgKCFkb25lKXtcbiAgICAgICAgICAgIHRoaXMubWVhc3VyZURpdi5pbm5lclRleHQgPSB0ZXh0O1xuICAgICAgICAgICAgdmFyIGxpbmVMZW4gPSB0aGlzLm1lYXN1cmVEaXYuY2xpZW50V2lkdGggLSAoMiAqIHBhcnNlRmxvYXQodGhpcy5tZWFzdXJlRGl2LnN0eWxlLnBhZGRpbmcpKTtcbiAgICAgICAgICAgIGlmIChsaW5lTGVuIDw9IG1heExlbmd0aCkge1xuICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKHRleHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3BsaXRMaW5lKHRyaW1MZWZ0KHJlbWFpbmluZyksIG1heExlbmd0aCwgb3V0cHV0KTtcbiAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTmVlZCB0byB0cnkgd2l0aCBhIHNob3J0ZXIgd29yZCFcbiAgICAgICAgICAgICAgICB2YXIgcGFydHMgPSB0aGlzLmdldFNob3J0ZXJMaW5lKHRleHQpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGV4dCBpcyBvbmx5IG9uZSB3b3JkIHRoYXQgaXMgd2F5IHRvbyBsb25nLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwbGl0V29yZCh0ZXh0LCByZW1haW5pbmcsIG1heExlbmd0aCwgb3V0cHV0KTtcbiAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHBhcnRzWzBdO1xuICAgICAgICAgICAgICAgICAgICByZW1haW5pbmcgPSBwYXJ0c1sxXSArIHJlbWFpbmluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBsaW5lIG9mIHRleHQgc3VjaCBhcyBcImhpIHRoZXJlIHByb2dyYW1tZXJcIiwgaXQgcmV0dXJuc1xuICAgICAqIGFuIGFycmF5IHdpdGggMiBwYXJ0czogW1wiaGkgdGhlcmVcIiwgXCIgcHJvZ3JhbW1lclwiXS5cbiAgICAgKlxuICAgICAqIEl0IGFjY291bnRzIGZvciBzcGVjaWFsIGNhc2VzIHdpdGggbXVsdGktc3BhY2VzLCBzdWNoIGFzIGZvclxuICAgICAqIFwiaGkgdGhlcmUgIHR3by1zcGFjZXNcIiByZXR1cm5zIFtcImhpIHRoZXJlXCIsIFwiICB0d28tc3BhY2VzXCJdXG4gICAgICpcbiAgICAgKiBXaGVuIHRoZXJlIGlzIG9ubHkgb25lIHdvcmQsIGl0IHJldHVybnMgdGhlIHdob2xlIHdvcmQ6XG4gICAgICogXCJKdXN0T25lV29yZFwiIHJldHVybnMgW1wiSnVzdE9uZVdvcmRcIl0gKGFuIGFycmF5IG9mIDEgZWxlbWVudClcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBsaW5lXG4gICAgICogQHJldHVybnMge0FycmF5fVxuICAgICAqL1xuICAgIHByb3RvLmdldFNob3J0ZXJMaW5lID0gZnVuY3Rpb24obGluZSkge1xuXG4gICAgICAgIC8vIFRPRE86IEFjY291bnQgZm9yIFRBQnNcbiAgICAgICAgLy8gV2lsbCBwcm9iYWJseSBuZXZlciBkbyB1bmxlc3MgYSBidWcgaXMgcmVwb3J0ZWQuXG5cbiAgICAgICAgdmFyIGlMYXN0U3BhY2UgPSBsaW5lLmxhc3RJbmRleE9mKCcgJyk7XG4gICAgICAgIGlmIChpTGFzdFNwYWNlID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIFtsaW5lXTsgLy8gVGhpcyBpcyBhIHNpbmdsZSB3b3JkXG4gICAgICAgIH1cblxuICAgICAgICAvLyBFbHNlXG4gICAgICAgIC8vIEl0ZXJhdGUgYmFjayByZW1vdmluZyBhZGRpdGlvbmFsIHNwYWNlcyAobXVsdGkgc3BhY2VzKVxuICAgICAgICB3aGlsZSAobGluZS5jaGFyQXQoaUxhc3RTcGFjZS0xKSA9PT0gJyAnKSB7XG4gICAgICAgICAgICBpTGFzdFNwYWNlLS07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdHJhaWxpbmdXb3JkID0gbGluZS5zdWJzdHIoaUxhc3RTcGFjZSk7IC8vIENvbnRhaW5zIHRoZSBzcGFjZXNcbiAgICAgICAgdmFyIHNob3J0ZXJMaW5lID0gbGluZS5zdWJzdHIoMCxpTGFzdFNwYWNlKTtcbiAgICAgICAgcmV0dXJuIFtzaG9ydGVyTGluZSwgdHJhaWxpbmdXb3JkXTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBzaW5nbGUgd29yZCwgc3BsaXRzIGl0IGludG8gbXVsdGlwbGUgbGluZXMgdGhhdCBmaXRzIGluIG1heFdpZHRoXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHdvcmRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcmVtYWluaW5nXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG1heExlbmd0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG91dHB1dFxuICAgICAqL1xuICAgIHByb3RvLnNwbGl0V29yZCA9IGZ1bmN0aW9uKHdvcmQsIHJlbWFpbmluZywgbWF4TGVuZ3RoLCBvdXRwdXQpIHtcblxuICAgICAgICB2YXIgbGVuU29GYXIgPSAxO1xuICAgICAgICB2YXIgZml0cyA9IHRydWU7XG4gICAgICAgIHdoaWxlIChmaXRzKSB7XG5cbiAgICAgICAgICAgIHZhciBwYXJ0ID0gd29yZC5zdWJzdHIoMCxsZW5Tb0Zhcik7XG4gICAgICAgICAgICB0aGlzLm1lYXN1cmVEaXYuaW5uZXJUZXh0ID0gcGFydDtcbiAgICAgICAgICAgIHZhciBsaW5lTGVuID0gIHRoaXMubWVhc3VyZURpdi5jbGllbnRXaWR0aCAtICgyICogcGFyc2VGbG9hdCh0aGlzLm1lYXN1cmVEaXYuc3R5bGUucGFkZGluZykpO1xuXG4gICAgICAgICAgICBpZiAobGluZUxlbiA+IG1heExlbmd0aCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKGxlblNvRmFyID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGNhbid0IHNwbGl0IDEgY2hhcmFjdGVyIGFueSBsb25nZXIuXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKHBhcnQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwbGl0V29yZCh3b3JkLnN1YnN0cigxKSwgcmVtYWluaW5nLCBtYXhMZW5ndGgsIG91dHB1dCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBJdCB3YXMgZmluZSB1bnRpbCBvbmUgbGVzcyBjaGFyIC8vXG4gICAgICAgICAgICAgICAgdmFyIG9rYXlXb3JkID0gd29yZC5zdWJzdHIoMCxsZW5Tb0Zhci0xKTtcbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChva2F5V29yZCk7XG4gICAgICAgICAgICAgICAgdmFyIGV4dHJhV29yZCA9IHdvcmQuc3Vic3RyKGxlblNvRmFyLTEpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3BsaXRMaW5lKGV4dHJhV29yZCArIHJlbWFpbmluZywgbWF4TGVuZ3RoLCBvdXRwdXQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVHJ5IG9uZSBtb3JlIGNoYXJhY3RlclxuICAgICAgICAgICAgbGVuU29GYXIrKztcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgd2UgYXJlIGRvbmUgd2l0aCBhbGwgY2hhcmFjdGVyc1xuICAgICAgICAgICAgaWYgKGxlblNvRmFyID4gd29yZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBPa2F5IGl0IGZpdHNcbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaCh3b3JkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gdHJpbVJpZ2h0KHRleHQpIHtcbiAgICAgICAgaWYgKHRleHQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGFzdE5vblNwYWNlID0gdGV4dC5sZW5ndGgtMTtcbiAgICAgICAgZm9yICh2YXIgaT1sYXN0Tm9uU3BhY2U7IGk+PTA7IC0taSkge1xuICAgICAgICAgICAgaWYgKHRleHQuY2hhckF0KGkpICE9PSAnICcpIHtcbiAgICAgICAgICAgICAgICBsYXN0Tm9uU3BhY2UgPSBpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0LnN1YnN0cigwLCBsYXN0Tm9uU3BhY2UrMSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdHJpbUxlZnQodGV4dCkge1xuICAgICAgICBpZiAodGV4dC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmaXJzdE5vblNwYWNlID0gMDtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHRleHQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICh0ZXh0LmNoYXJBdChpKSAhPT0gJyAnKSB7XG4gICAgICAgICAgICAgICAgZmlyc3ROb25TcGFjZSA9IGk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRleHQuc3Vic3RyKGZpcnN0Tm9uU3BhY2UpO1xuICAgIH1cbiJdLCJuYW1lcyI6WyJhdXRvc2l6ZSIsImFkZFRyYWl0RXZlbnREaXNwYXRjaGVyIiwiY2xvbmVTdHlsZSIsIkRvbUVsZW1lbnRTdHlsZSIsImF2IiwiQXV0b2Rlc2siLCJWaWV3aW5nIiwiRWRpdG9yVGV4dElucHV0IiwicGFyZW50RGl2IiwiZWRpdG9yIiwic2luZ2xlTGluZSIsImRlZmF1bHRUZXh0IiwibWF4TGVuZ3RoIiwic2V0R2xvYmFsTWFuYWdlciIsInZpZXdlciIsImdsb2JhbE1hbmFnZXIiLCJFVkVOVF9URVhUX0NIQU5HRSIsIkVWRU5UX1RFWFRfU0VUX0FDVElWRSIsIkVWRU5UX1RFWFRfU0VUX0lOQUNUSVZFIiwiX2RvY3VtZW50IiwiZ2V0RG9jdW1lbnQiLCJ0ZXh0QXJlYSIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJyb3dzIiwiZGlyIiwiZmlyc3RFZGl0Iiwic3RhcnRpbmdIZWlnaHQiLCJiaW5kIiwicm8iLCJSZXNpemVPYnNlcnZlciIsImVudHJpZXMiLCJvYnNlcnZlciIsInNldEVkaXRGcmFtZSIsIm9ic2VydmUiLCJzdHlsZVRleHRBcmVhIiwibWVhc3VyZURpdiIsIkdsb2JhbE1hbmFnZXJNaXhpbiIsImNhbGwiLCJwcm90b3R5cGUiLCJwcm90byIsImRlc3Ryb3kiLCJzZXRJbmFjdGl2ZSIsInNldEFjdGl2ZSIsInRleHRNYXJrdXAiLCJwbGFjZWhvbGRlclRleHQiLCJpMThuIiwidHJhbnNsYXRlIiwiYXBwZW5kQ2hpbGQiLCJjb25zdHJhaW5Ub0NhbnZhcyIsImluaXRGcm9tTWFya3VwIiwiaXNJT1NEZXZpY2UiLCJ0eHRBcmVhIiwiX3dpbmRvdyIsImdldFdpbmRvdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImZvY3VzIiwiZGF0YUJhZyIsIm1hcmt1cCIsImlzQWN0aXZlIiwiZGlzcGF0Y2hFdmVudCIsInR5cGUiLCJkYXRhIiwiYmx1ciIsInJlbW92ZVdpbmRvd0V2ZW50TGlzdGVuZXIiLCJvblJlc2l6ZUJpbmRlZCIsInJlbW92ZUNoaWxkIiwic3R5bGUiLCJlZGl0RnJhbWUiLCJmcmFtZVdpZHRoIiwicGFyc2VGbG9hdCIsIndpZHRoIiwiZnJhbWVIZWlnaHQiLCJoZWlnaHQiLCJwb3NpdGlvbiIsImdldENsaWVudFBvc2l0aW9uIiwicm90YXRpb24iLCJnZXRSb3RhdGlvbiIsInhQb3MiLCJ4IiwieVBvcyIsInkiLCJzZXRTZWxlY3Rpb24iLCJ1cGRhdGVTdHlsZUZpcnN0Iiwic2l6ZSIsImdldENsaWVudFNpemUiLCJwYWRkaW5nIiwiZ2V0Q2xpZW50Rm9udFNpemUiLCJsZWZ0IiwidG9wIiwibGluZUhlaWdodFBlcmNlbnRhZ2UiLCJsaW5lSGVpZ2h0Iiwic2V0UG9zQW5kU2l6ZSIsInNldFN0eWxlIiwiZ2V0U3R5bGUiLCJ2YWx1ZSIsImdldFRleHQiLCJjb250YWluZXIiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsInRlbXAiLCJpbmplY3RTaXplVmFsdWVzIiwibmV3UG9zIiwiZm9udEhlaWdodCIsInNpemVGcm9tTWFya3Vwc1RvQ2xpZW50Iiwic3Ryb2tlV2lkdGgiLCJ0ZXh0QXJlYVN0eWxlIiwiZ2V0U3R5bGVTdHJpbmciLCJ1cGRhdGUiLCJnZXRUZXh0VmFsdWVzRm9yTWFya3VwIiwic2l6ZVVwZGF0ZVJlcXVpcmVkIiwiYWN0aXZlIiwiYWN0aXZlTWFya3VwIiwiYWN0aXZlRmlyc3RFZGl0IiwidGV4dFZhbHVlcyIsImdldFRleHRWYWx1ZXMiLCJuZXdUZXh0IiwidGV4dCIsImxpbmVzIiwiZ2VuZXJhdGVMaW5lcyIsImFjY2VwdEFuZEV4aXQiLCJuZXdMaW5lcyIsInVwZGF0ZVN0eWxlIiwib3giLCJveSIsIm9uQ2FtZXJhQ2hhbmdlZCIsImV2ZW50Iiwic3RyIiwidGV4dENvbnRlbnQiLCJsaW5lc0JyZWFrcyIsInNwbGl0Iiwic3R5bGVNZWFzdXJlU3RyIiwiY2xvbmUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJtYXhMaW5lTGVuZ3RoIiwibGluZXNPdXRwdXQiLCJpIiwibGVuIiwibGVuZ3RoIiwibGluZSIsInRyaW1SaWdodCIsInNwbGl0TGluZSIsIm91dHB1dCIsInJlbWFpbmluZyIsImRvbmUiLCJpbm5lclRleHQiLCJsaW5lTGVuIiwicHVzaCIsInRyaW1MZWZ0IiwicGFydHMiLCJnZXRTaG9ydGVyTGluZSIsInNwbGl0V29yZCIsImlMYXN0U3BhY2UiLCJsYXN0SW5kZXhPZiIsImNoYXJBdCIsInRyYWlsaW5nV29yZCIsInN1YnN0ciIsInNob3J0ZXJMaW5lIiwid29yZCIsImxlblNvRmFyIiwiZml0cyIsInBhcnQiLCJva2F5V29yZCIsImV4dHJhV29yZCIsImxhc3ROb25TcGFjZSIsImZpcnN0Tm9uU3BhY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/core/edit-modes/EditorTextInput.js\n");

/***/ }),

/***/ "./extensions/Markup/gui/MarkupsGui.js":
/*!*********************************************!*\
  !*** ./extensions/Markup/gui/MarkupsGui.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MarkupsGui: () => (/* binding */ MarkupsGui)\n/* harmony export */ });\n/* harmony import */ var _core_StyleUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/StyleUtils */ \"./extensions/Markup/core/StyleUtils.js\");\n/* harmony import */ var _core_MarkupEvents__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/MarkupEvents */ \"./extensions/Markup/core/MarkupEvents.js\");\n/* harmony import */ var _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/MarkupTypes */ \"./extensions/Markup/core/MarkupTypes.js\");\n/* harmony import */ var _core_EditModeManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/EditModeManager */ \"./extensions/Markup/core/EditModeManager.js\");\n/* harmony import */ var _MarkupsGui_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MarkupsGui.css */ \"./extensions/Markup/gui/MarkupsGui.css\");\n\n\n\n\n\n // IMPORTANT!!\n\nvar CORE_EXTENSION = 'Autodesk.Viewing.MarkupsCore';\n\nfunction MarkupsGui(viewer, options) {\n  Autodesk.Viewing.Extension.call(this, viewer, options);\n  this.domEvents = [];\n  this.name = 'markup';\n  this.onEditModeEnter = this.onEditModeEnter.bind(this);\n  this.onEditModeLeave = this.onEditModeLeave.bind(this);\n  this.onEditModeChange = this.onEditModeChange.bind(this);\n  this.onMarkupSelected = this.onMarkupSelected.bind(this);\n}\n\nMarkupsGui.prototype = Object.create(Autodesk.Viewing.Extension.prototype);\nMarkupsGui.prototype.constructor = MarkupsGui;\nvar proto = MarkupsGui.prototype;\nvar av = Autodesk.Viewing;\nvar avp = av.Private;\n\nproto.load = function () {\n\n  this.viewer.loadExtension(CORE_EXTENSION).then((coreExt) => {\n\n    this.core = coreExt;\n\n    // Hook into markup core events\n    this.core.addEventListener(_core_MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_EDITMODE_ENTER, this.onEditModeEnter);\n    this.core.addEventListener(_core_MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_EDITMODE_LEAVE, this.onEditModeLeave);\n    this.core.addEventListener(_core_MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_EDITMODE_CHANGED, this.onEditModeChange);\n    this.core.addEventListener(_core_MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_MARKUP_SELECTED, this.onMarkupSelected);\n  });\n\n  return true;\n};\n\nproto.unload = function () {\n\n  this.deactivate(); // not necessary, but leaves the viewer in an unusable state without it\n  this.unhookAllEvents();\n\n  this.core.removeEventListener(_core_MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_EDITMODE_ENTER, this.onEditModeEnter);\n  this.core.removeEventListener(_core_MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_EDITMODE_LEAVE, this.onEditModeLeave);\n  this.core.removeEventListener(_core_MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_EDITMODE_CHANGED, this.onEditModeChange);\n  this.core.removeEventListener(_core_MarkupEvents__WEBPACK_IMPORTED_MODULE_1__.EVENT_MARKUP_SELECTED, this.onMarkupSelected);\n\n  this.destroyToolUi();\n  this.destroyToolbarUI();\n  this.core = null;\n\n  return true;\n};\n\nproto.onToolbarCreated = function (toolbar) {\n\n  var self = this;\n\n  this.markupToolButton = new Autodesk.Viewing.UI.Button(\"toolbar-markupTool\");\n  this.markupToolButton.setToolTip(\"Markup\");\n  this.markupToolButton.setIcon(\"adsk-icon-markup\");\n  this.markupToolButton.onClick = function () {\n    // Since the bar will get hidden when closed, there\n    // is no need to track button state (active or not)\n    self.activate();\n  };\n\n  var modelTools = toolbar.getControl(Autodesk.Viewing.TOOLBAR.MODELTOOLSID);\n  if (modelTools) {\n    modelTools.addControl(this.markupToolButton, { index: 0 });\n  }\n};\n\nproto.destroyToolbarUI = function () {\n  if (this.markupToolButton) {\n    var toolbar = this.viewer.getToolbar();\n    if (toolbar) {\n      this.markupToolButton.removeFromParent();\n    }\n    this.markupToolButton = null;\n  }\n};\n\nproto.onEditModeEnter = function () {\n  avp.logger.log('ENTER edit mode');\n  this.showToolsUi();\n};\n\nproto.onEditModeLeave = function () {\n  avp.logger.log('LEAVE edit mode');\n  this.hideToolsUi();\n};\n\nproto.onEditModeChange = function (event) {\n  if (!this.domToolSelect || this.ignoreChangeEvent)\n  return;\n  var editMode = this.core.editMode;\n  var optionList = this.domToolSelect.options;\n  for (var i = 0, len = optionList.length; i < len; i++) {\n    var option = optionList[i];\n    if (option.value === editMode.type) {\n      this.domToolSelect.selectedIndex = i; // doesn't fire event\n      break;\n    }\n  }\n};\n\nproto.onMarkupSelected = function (event) {\n\n  var markup = event.markup;\n  var editMode = this.core.editMode;\n  this.setStylesUi(editMode, markup);\n};\n\nproto.showToolsUi = function () {\n  this.createToolsUi();\n\n  // Hide some UI\n  var canNavigate = this.core.isNavigationAllowed();\n  this.setControlVisibility('.lmv-markup-gui-enterNavMode', canNavigate, 'inline-block');\n  this.exitNavigationMode();\n  this.domContent.style.display = 'block'; // remove collapsed state\n\n  // It's okay if we call these many times in a row, no biggie.\n  this.viewer.container.appendChild(this.domRoot);\n};\n\nproto.hideToolsUi = function () {\n  if (this.domRoot && this.domRoot.parentNode) {\n    this.domRoot.parentNode.removeChild(this.domRoot);\n  }\n};\n\nproto.createToolsUi = function () {\n\n  if (this.domRoot)\n  return;\n\n  function createEditModeOption(locLabel, editModeType) {\n    return [\n    '<option value=\"', editModeType, '\">',\n    locLabel,\n    '</option>'].\n    join('');\n  }\n\n  var html = [\n  '<div class=\"lmv-markup-gui-toolbar-content\">',\n\n  '<button class=\"lmv-markup-gui-collapse-btn\">&lt;-&gt;</button>',\n  '<button class=\"lmv-markup-editmode-done\">Exit</button>',\n  '<div class=\"lmv-markup-gui-collapse-content\">',\n  '<div class=\"lmv-markup-gui-editMode\">',\n  '<button class=\"lmv-markup-gui-enterNavMode\">Navigate</button>',\n  '<button class=\"lmv-markup-gui-undo\">&#8617;</button>',\n  '<button class=\"lmv-markup-gui-redo\">&#8618;</button>',\n  '<br>',\n  '<button class=\"lmv-markup-gui-delete\">Delete</button>',\n  '<button class=\"lmv-markup-gui-duplicate\">Duplicate</button>',\n  '<br>',\n  '<button class=\"lmv-markup-gui-cut\">Cut</button>',\n  '<button class=\"lmv-markup-gui-copy\">Copy</button>',\n  '<button class=\"lmv-markup-gui-paste\">Paste</button>',\n  '<br>',\n  '<span>Markup:</span>', // TODO: Localize\n  '<select class=\"lmv-markup-tool-select\">',\n  createEditModeOption('Arrow', _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_2__.MARKUP_TYPE_ARROW),\n  createEditModeOption('Rectangle', _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_2__.MARKUP_TYPE_RECTANGLE),\n  createEditModeOption('Circle', _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_2__.MARKUP_TYPE_CIRCLE),\n  createEditModeOption('Text', _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_2__.MARKUP_TYPE_TEXT),\n  createEditModeOption('Callout', _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_2__.MARKUP_TYPE_CALLOUT),\n  createEditModeOption('Cloud', _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_2__.MARKUP_TYPE_CLOUD),\n  createEditModeOption('PolyLine', _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_2__.MARKUP_TYPE_POLYLINE),\n  createEditModeOption('Polycloud', _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_2__.MARKUP_TYPE_POLYCLOUD),\n  createEditModeOption('Freehand', _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_2__.MARKUP_TYPE_FREEHAND),\n  createEditModeOption('Highlight', _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_2__.MARKUP_TYPE_HIGHLIGHT),\n  createEditModeOption('Dimension', _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_2__.MARKUP_TYPE_DIMENSION),\n  createEditModeOption('SVG Stamp', _core_MarkupTypes__WEBPACK_IMPORTED_MODULE_2__.MARKUP_TYPE_STAMP),\n  '</select>',\n  '<br>',\n  '<div class=\"lmv-markup-gui-style-options\"></div>',\n  '</div>',\n  '<div class=\"lmv-markup-gui-navMode\" style=\"display:none;\">',\n  '<button class=\"lmv-markup-gui-exitNavMode\">Back to Markup</button>',\n  '</div>',\n  '</div>',\n  '</div>'].\n  join('');\n\n  const _document = this.getDocument();\n  this.domRoot = _document.createElement('div');\n  this.domRoot.className = 'lmv-markup-gui-toolbar';\n  this.domRoot.innerHTML = html;\n\n  this.domContent = this.domRoot.querySelector('.lmv-markup-gui-collapse-content');\n  this.domToolSelect = this.domRoot.querySelector('.lmv-markup-tool-select');\n  this.domStylesRoot = this.domRoot.querySelector('.lmv-markup-gui-style-options');\n\n  // General\n  this.hookEvent('click', '.lmv-markup-gui-collapse-btn', this.onToggleCollapse.bind(this));\n  this.hookEvent('click', '.lmv-markup-editmode-done', this.onEditModeDone.bind(this));\n  this.hookEvent('click', '.lmv-markup-gui-enterNavMode', this.enterNavigationMode.bind(this));\n  this.hookEvent('click', '.lmv-markup-gui-exitNavMode', this.exitNavigationMode.bind(this));\n  this.hookEvent('click', '.lmv-markup-gui-undo', this.onUndoClick.bind(this));\n  this.hookEvent('click', '.lmv-markup-gui-redo', this.onRedoClick.bind(this));\n  this.hookEvent('click', '.lmv-markup-gui-delete', this.onDeleteClick.bind(this));\n  this.hookEvent('click', '.lmv-markup-gui-cut', this.onCutClick.bind(this));\n  this.hookEvent('click', '.lmv-markup-gui-copy', this.onCopyClick.bind(this));\n  this.hookEvent('click', '.lmv-markup-gui-paste', this.onPasteClick.bind(this));\n  this.hookEvent('click', '.lmv-markup-gui-duplicate', this.onDuplicateClick.bind(this));\n  // Tools\n  this.hookEvent('change', '.lmv-markup-tool-select', this.onSelectEditMode.bind(this));\n  this.hookEvent('change', '.lmv-markup-gui-style-select', this.onStyleChange.bind(this));\n  // Text input fields for tools\n  this.hookEvent('input', '.lmv-markup-gui-style-textarea', this.onStyleChange.bind(this));\n  this.hookEvent('propertychange', '.lmv-markup-gui-style-textarea', this.onStyleChange.bind(this));\n\n  this.setStylesUi(this.core.editMode);\n};\n\nproto.destroyToolUi = function () {\n  if (this.domRoot) {\n    this.hideToolsUi();\n    this.domRoot = null;\n  }\n};\n\nproto.getEditMode = function (editModeType) {\n  var EditModeClass = _core_EditModeManager__WEBPACK_IMPORTED_MODULE_3__.theEditModeManager.getClass(editModeType);\n  if (!EditModeClass)\n  return null;\n\n  var editMode = new EditModeClass(this.core);\n  return editMode;\n};\n\nproto.onToggleCollapse = function () {\n  var curr = this.domContent.style.display;\n  if (curr === 'none')\n  this.domContent.style.display = 'block';else\n\n  this.domContent.style.display = 'none';\n};\n\nproto.onEditModeDone = function () {\n  this.deactivate();\n};\n\nproto.enterNavigationMode = function () {\n  this.core.allowNavigation(true);\n  this.setControlVisibility('.lmv-markup-gui-editMode', false);\n  this.setControlVisibility('.lmv-markup-gui-navMode', true);\n};\nproto.exitNavigationMode = function () {\n  this.core.allowNavigation(false);\n  this.setControlVisibility('.lmv-markup-gui-editMode', true);\n  this.setControlVisibility('.lmv-markup-gui-navMode', false);\n};\n\nproto.onUndoClick = function () {\n  this.core.undo();\n};\nproto.onRedoClick = function () {\n  this.core.redo();\n};\nproto.onDeleteClick = function () {\n  var markup = this.core.getSelection();\n  if (markup) {\n    this.core.deleteMarkup(markup);\n  }\n};\nproto.onCutClick = function () {\n  this.core.cut();\n};\nproto.onCopyClick = function () {\n  this.core.copy();\n};\nproto.onPasteClick = function () {\n  this.core.paste();\n};\nproto.onDuplicateClick = function () {\n  // only when there's a selection\n  var markup = this.core.getSelection();\n  if (markup) {\n    this.core.copy();\n    this.core.paste();\n  }\n};\n\nproto.onSelectEditMode = function (event) {\n  var editModeType = event.target.value;\n  var editMode = this.getEditMode(editModeType);\n  if (!editMode) {\n    avp.logger.error('Markup editMode not found for type: ' + editModeType);\n    return;\n  }\n\n  if (editMode.cancelEditModeChange) {\n    avp.logger.warn('There was a problem selecting current editMode');\n    return;\n  }\n\n  this.ignoreChangeEvent = true;\n  this.core.changeEditMode(editMode);\n  this.ignoreChangeEvent = false;\n  this.setStylesUi(editMode);\n  this.domToolSelect.blur(); // remove focus from UI\n};\n\nproto.onStyleChange = function (event) {\n  var select = event.target;\n  var styleKey = select.getAttribute('style-key');\n  var valueType = select.getAttribute('value-type');\n\n  var markup = this.core.getSelection();\n  var style = markup ? markup.getStyle() : this.core.getStyle();\n\n  // if it's a string input, just take the raw value\n  if (valueType === 'string') {\n    style[styleKey] = select.value;\n  } else {\n    var option = select.options[select.selectedIndex];\n    style[styleKey] = getTypedValue(option.value, valueType);\n    select.blur(); // remove focus from UI\n  }\n  this.core.setStyle(style);\n\n  function getTypedValue(val, type) {\n    if (type === 'number')\n    return Number(val);\n    if (type === 'boolean')\n    return val === 'true';\n    return val;\n  }\n};\n\nproto.setStylesUi = function (editMode, markup) {\n\n  var style = markup ? markup.style : editMode.style;\n  var defaults = (0,_core_StyleUtils__WEBPACK_IMPORTED_MODULE_0__.getStyleDefaultValues)(style, this.core);\n\n  this.domStylesRoot.innerHTML = ''; // flush UI\n  for (var key in defaults) {\n    // Quite inefiient because we are re-creating DOM constantly\n    // Consider optimize if it becomes a problem\n    var domElem = this.getUiForStyleKey(key, defaults[key], style[key]);\n    this.domStylesRoot.appendChild(domElem);\n  }\n};\n\nproto.getUiForStyleKey = function (key, defaults, current) {\n\n  var selectionIndex = defaults.default;\n  var options = [];\n  var values = defaults.values;\n  for (var i = 0, len = values.length; i < len; ++i) {\n    var optLine = [\n    '<option value=\"', values[i].value, '\">',\n    values[i].name,\n    '</option>'].\n    join('');\n    options.push(optLine);\n\n    if (this.valueEquals(values[i].value, current)) {\n      selectionIndex = i;\n    }\n  }\n\n  var valueType = typeof values[0].value;\n\n  // TODO: Build specialized controls for each style-attribute\n  const _document = this.getDocument();\n  var domElem = _document.createElement('div');\n  var html = [];\n  let isText = key.includes('text');\n\n  if (isText) {\n    html = [\n    '<span>', key, '</span>',\n    '<br>',\n    '<textarea class=\"lmv-markup-gui-style-textarea\" style-key=\"', key, '\" value-type=\"', valueType, '\">',\n    current || '',\n    '</textarea>'].\n    join('');\n  } else {\n    html = [\n    '<span>', key, '</span>',\n    '<select class=\"lmv-markup-gui-style-select\" style-key=\"', key, '\" value-type=\"', valueType, '\">',\n    options.join(''),\n    '</select>'].\n    join('');\n  }\n\n  domElem.innerHTML = html;\n\n  if (!isText) {\n    // select index\n    var domSelect = domElem.querySelector('select');\n    domSelect.selectedIndex = selectionIndex;\n  }\n\n  return domElem;\n};\nproto.valueEquals = function (value1, value2) {\n\n  return value1 === value2;\n};\n\nproto.setControlVisibility = function (selector, isVisible, visibleValue) {\n  var elem = this.domRoot.querySelector(selector);\n  if (!visibleValue)\n  visibleValue = 'block';\n  elem.style.display = isVisible ? visibleValue : 'none';\n};\n\nproto.hookEvent = function (eventStr, selector, callbackFn) {\n  var handler = function (event) {\n    if (this.matchesSelector(event.target, selector)) {\n      callbackFn(event);\n    }\n  }.bind(this);\n  this.domRoot.addEventListener(eventStr, handler);\n  this.domEvents.push({ str: eventStr, handler: handler });\n};\n\nproto.unhookAllEvents = function () {\n  var domRoot = this.domRoot;\n  this.domEvents.forEach(function (event) {\n    domRoot.removeEventListener(event.str, event.handler);\n  });\n  this.domEvents = [];\n};\n\nproto.matchesSelector = function (domElem, selector) {\n  if (domElem.matches) return domElem.matches(selector); //Un-prefixed\n  if (domElem.msMatchesSelector) return domElem.msMatchesSelector(selector); //IE\n  if (domElem.mozMatchesSelector) return domElem.mozMatchesSelector(selector); //Firefox (Gecko)\n  if (domElem.webkitMatchesSelector) return domElem.webkitMatchesSelector(selector); // Opera, Safari, Chrome\n  return false;\n};\n\nproto.getStyleOptions = function (editMode) {\n  var style = editMode.getStyle();\n  return (0,_core_StyleUtils__WEBPACK_IMPORTED_MODULE_0__.getStyleDefaultValues)(style, this.core);\n};\n\nproto.activate = function () {\n  if (!this.activeStatus) {\n    this.core.enterEditMode();\n    this.activeStatus = true;\n  }\n  return true;\n};\n\nproto.deactivate = function () {\n  if (this.activeStatus) {\n    this.core.hide();\n    this.activeStatus = false;\n  }\n  return true;\n};\n\n\nAutodesk.Viewing.theExtensionManager.registerExtension('Autodesk.Viewing.MarkupsGui', MarkupsGui);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVN0SCxRQUFRLEVBQUU7RUFDdkMsSUFBSWlCLEtBQUssR0FBR2pCLFFBQVEsQ0FBQ21GLFFBQVEsQ0FBQyxDQUFDO0VBQy9CLE9BQU92Six1RUFBcUIsQ0FBQ3FGLEtBQUssRUFBRSxJQUFJLENBQUN0RCxJQUFJLENBQUM7QUFDbEQsQ0FBQzs7QUFFRFIsS0FBSyxDQUFDNkIsUUFBUSxHQUFHLFlBQVk7RUFDekIsSUFBRyxDQUFDLElBQUksQ0FBQ3VJLFlBQVksRUFBRTtJQUNuQixJQUFJLENBQUM1SixJQUFJLENBQUM2SixhQUFhLENBQUMsQ0FBQztJQUN6QixJQUFJLENBQUNELFlBQVksR0FBRyxJQUFJO0VBQzVCO0VBQ0EsT0FBTyxJQUFJO0FBQ2YsQ0FBQzs7QUFFRHBLLEtBQUssQ0FBQ2UsVUFBVSxHQUFHLFlBQVk7RUFDM0IsSUFBRyxJQUFJLENBQUNxSixZQUFZLEVBQUU7SUFDbEIsSUFBSSxDQUFDNUosSUFBSSxDQUFDOEosSUFBSSxDQUFDLENBQUM7SUFDaEIsSUFBSSxDQUFDRixZQUFZLEdBQUcsS0FBSztFQUM3QjtFQUNBLE9BQU8sSUFBSTtBQUNmLENBQUM7OztBQUdEbkwsUUFBUSxDQUFDQyxPQUFPLENBQUNxTCxtQkFBbUIsQ0FBQ0MsaUJBQWlCLENBQUMsNkJBQTZCLEVBQUUxTCxVQUFVLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvZ3VpL01hcmt1cHNHdWkuanM/NjlhOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRTdHlsZURlZmF1bHRWYWx1ZXMgfSBmcm9tICcuLi9jb3JlL1N0eWxlVXRpbHMnO1xuaW1wb3J0ICogYXMgTWFya3VwRXZlbnRzIGZyb20gJy4uL2NvcmUvTWFya3VwRXZlbnRzJztcbmltcG9ydCAqIGFzIE1hcmt1cFR5cGVzIGZyb20gJy4uL2NvcmUvTWFya3VwVHlwZXMnO1xuaW1wb3J0IHsgdGhlRWRpdE1vZGVNYW5hZ2VyIH0gZnJvbSAnLi4vY29yZS9FZGl0TW9kZU1hbmFnZXInO1xuXG5pbXBvcnQgJy4vTWFya3Vwc0d1aS5jc3MnOyAvLyBJTVBPUlRBTlQhIVxuXG4gICAgdmFyIENPUkVfRVhURU5TSU9OID0gJ0F1dG9kZXNrLlZpZXdpbmcuTWFya3Vwc0NvcmUnO1xuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIE1hcmt1cHNHdWkodmlld2VyLCBvcHRpb25zKSB7XG4gICAgICAgIEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9uLmNhbGwodGhpcywgdmlld2VyLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5kb21FdmVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ21hcmt1cCc7XG4gICAgICAgIHRoaXMub25FZGl0TW9kZUVudGVyID0gdGhpcy5vbkVkaXRNb2RlRW50ZXIuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vbkVkaXRNb2RlTGVhdmUgPSB0aGlzLm9uRWRpdE1vZGVMZWF2ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uRWRpdE1vZGVDaGFuZ2UgPSB0aGlzLm9uRWRpdE1vZGVDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vbk1hcmt1cFNlbGVjdGVkID0gdGhpcy5vbk1hcmt1cFNlbGVjdGVkLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgTWFya3Vwc0d1aS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEF1dG9kZXNrLlZpZXdpbmcuRXh0ZW5zaW9uLnByb3RvdHlwZSk7XG4gICAgTWFya3Vwc0d1aS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNYXJrdXBzR3VpO1xuICAgIHZhciBwcm90byA9IE1hcmt1cHNHdWkucHJvdG90eXBlO1xuICAgIHZhciBhdiA9IEF1dG9kZXNrLlZpZXdpbmc7XG4gICAgdmFyIGF2cCA9IGF2LlByaXZhdGU7XG5cbiAgICBwcm90by5sb2FkID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHRoaXMudmlld2VyLmxvYWRFeHRlbnNpb24oQ09SRV9FWFRFTlNJT04pLnRoZW4oIGNvcmVFeHQgPT4ge1xuXG4gICAgICAgICAgICB0aGlzLmNvcmUgPSBjb3JlRXh0O1xuXG4gICAgICAgICAgICAvLyBIb29rIGludG8gbWFya3VwIGNvcmUgZXZlbnRzXG4gICAgICAgICAgICB0aGlzLmNvcmUuYWRkRXZlbnRMaXN0ZW5lcihNYXJrdXBFdmVudHMuRVZFTlRfRURJVE1PREVfRU5URVIsIHRoaXMub25FZGl0TW9kZUVudGVyKTtcbiAgICAgICAgICAgIHRoaXMuY29yZS5hZGRFdmVudExpc3RlbmVyKE1hcmt1cEV2ZW50cy5FVkVOVF9FRElUTU9ERV9MRUFWRSwgdGhpcy5vbkVkaXRNb2RlTGVhdmUpO1xuICAgICAgICAgICAgdGhpcy5jb3JlLmFkZEV2ZW50TGlzdGVuZXIoTWFya3VwRXZlbnRzLkVWRU5UX0VESVRNT0RFX0NIQU5HRUQsIHRoaXMub25FZGl0TW9kZUNoYW5nZSk7XG4gICAgICAgICAgICB0aGlzLmNvcmUuYWRkRXZlbnRMaXN0ZW5lcihNYXJrdXBFdmVudHMuRVZFTlRfTUFSS1VQX1NFTEVDVEVELCB0aGlzLm9uTWFya3VwU2VsZWN0ZWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgcHJvdG8udW5sb2FkID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlKCk7IC8vIG5vdCBuZWNlc3NhcnksIGJ1dCBsZWF2ZXMgdGhlIHZpZXdlciBpbiBhbiB1bnVzYWJsZSBzdGF0ZSB3aXRob3V0IGl0XG4gICAgICAgIHRoaXMudW5ob29rQWxsRXZlbnRzKCk7XG5cbiAgICAgICAgdGhpcy5jb3JlLnJlbW92ZUV2ZW50TGlzdGVuZXIoTWFya3VwRXZlbnRzLkVWRU5UX0VESVRNT0RFX0VOVEVSLCB0aGlzLm9uRWRpdE1vZGVFbnRlcik7XG4gICAgICAgIHRoaXMuY29yZS5yZW1vdmVFdmVudExpc3RlbmVyKE1hcmt1cEV2ZW50cy5FVkVOVF9FRElUTU9ERV9MRUFWRSwgdGhpcy5vbkVkaXRNb2RlTGVhdmUpO1xuICAgICAgICB0aGlzLmNvcmUucmVtb3ZlRXZlbnRMaXN0ZW5lcihNYXJrdXBFdmVudHMuRVZFTlRfRURJVE1PREVfQ0hBTkdFRCwgdGhpcy5vbkVkaXRNb2RlQ2hhbmdlKTtcbiAgICAgICAgdGhpcy5jb3JlLnJlbW92ZUV2ZW50TGlzdGVuZXIoTWFya3VwRXZlbnRzLkVWRU5UX01BUktVUF9TRUxFQ1RFRCwgdGhpcy5vbk1hcmt1cFNlbGVjdGVkKTtcblxuICAgICAgICB0aGlzLmRlc3Ryb3lUb29sVWkoKTtcbiAgICAgICAgdGhpcy5kZXN0cm95VG9vbGJhclVJKCk7XG4gICAgICAgIHRoaXMuY29yZSA9IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHByb3RvLm9uVG9vbGJhckNyZWF0ZWQgPSBmdW5jdGlvbih0b29sYmFyKSB7XG5cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMubWFya3VwVG9vbEJ1dHRvbiA9IG5ldyBBdXRvZGVzay5WaWV3aW5nLlVJLkJ1dHRvbihcInRvb2xiYXItbWFya3VwVG9vbFwiKTtcbiAgICAgICAgdGhpcy5tYXJrdXBUb29sQnV0dG9uLnNldFRvb2xUaXAoXCJNYXJrdXBcIik7XG4gICAgICAgIHRoaXMubWFya3VwVG9vbEJ1dHRvbi5zZXRJY29uKFwiYWRzay1pY29uLW1hcmt1cFwiKTtcbiAgICAgICAgdGhpcy5tYXJrdXBUb29sQnV0dG9uLm9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBTaW5jZSB0aGUgYmFyIHdpbGwgZ2V0IGhpZGRlbiB3aGVuIGNsb3NlZCwgdGhlcmVcbiAgICAgICAgICAgIC8vIGlzIG5vIG5lZWQgdG8gdHJhY2sgYnV0dG9uIHN0YXRlIChhY3RpdmUgb3Igbm90KVxuICAgICAgICAgICAgc2VsZi5hY3RpdmF0ZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBtb2RlbFRvb2xzID0gdG9vbGJhci5nZXRDb250cm9sKEF1dG9kZXNrLlZpZXdpbmcuVE9PTEJBUi5NT0RFTFRPT0xTSUQpO1xuICAgICAgICBpZiAobW9kZWxUb29scykge1xuICAgICAgICAgICAgbW9kZWxUb29scy5hZGRDb250cm9sKHRoaXMubWFya3VwVG9vbEJ1dHRvbiwge2luZGV4OjB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwcm90by5kZXN0cm95VG9vbGJhclVJID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLm1hcmt1cFRvb2xCdXR0b24pIHtcbiAgICAgICAgICAgIHZhciB0b29sYmFyID0gdGhpcy52aWV3ZXIuZ2V0VG9vbGJhcigpO1xuICAgICAgICAgICAgaWYgKHRvb2xiYXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hcmt1cFRvb2xCdXR0b24ucmVtb3ZlRnJvbVBhcmVudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tYXJrdXBUb29sQnV0dG9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwcm90by5vbkVkaXRNb2RlRW50ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgYXZwLmxvZ2dlci5sb2coJ0VOVEVSIGVkaXQgbW9kZScpO1xuICAgICAgICB0aGlzLnNob3dUb29sc1VpKCk7XG4gICAgfTtcblxuICAgIHByb3RvLm9uRWRpdE1vZGVMZWF2ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBhdnAubG9nZ2VyLmxvZygnTEVBVkUgZWRpdCBtb2RlJyk7XG4gICAgICAgIHRoaXMuaGlkZVRvb2xzVWkoKTtcbiAgICB9O1xuXG4gICAgcHJvdG8ub25FZGl0TW9kZUNoYW5nZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5kb21Ub29sU2VsZWN0IHx8IHRoaXMuaWdub3JlQ2hhbmdlRXZlbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBlZGl0TW9kZSA9IHRoaXMuY29yZS5lZGl0TW9kZTtcbiAgICAgICAgdmFyIG9wdGlvbkxpc3QgPSB0aGlzLmRvbVRvb2xTZWxlY3Qub3B0aW9ucztcbiAgICAgICAgZm9yICh2YXIgaT0wLCBsZW49b3B0aW9uTGlzdC5sZW5ndGg7IGk8bGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBvcHRpb24gPSBvcHRpb25MaXN0W2ldO1xuICAgICAgICAgICAgaWYgKG9wdGlvbi52YWx1ZSA9PT0gZWRpdE1vZGUudHlwZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9tVG9vbFNlbGVjdC5zZWxlY3RlZEluZGV4ID0gaTsgLy8gZG9lc24ndCBmaXJlIGV2ZW50XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvdG8ub25NYXJrdXBTZWxlY3RlZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgdmFyIG1hcmt1cCA9IGV2ZW50Lm1hcmt1cDtcbiAgICAgICAgdmFyIGVkaXRNb2RlID0gdGhpcy5jb3JlLmVkaXRNb2RlO1xuICAgICAgICB0aGlzLnNldFN0eWxlc1VpKGVkaXRNb2RlLCBtYXJrdXApO1xuICAgIH07XG5cbiAgICBwcm90by5zaG93VG9vbHNVaSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVRvb2xzVWkoKTtcblxuICAgICAgICAvLyBIaWRlIHNvbWUgVUlcbiAgICAgICAgdmFyIGNhbk5hdmlnYXRlID0gdGhpcy5jb3JlLmlzTmF2aWdhdGlvbkFsbG93ZWQoKTtcbiAgICAgICAgdGhpcy5zZXRDb250cm9sVmlzaWJpbGl0eSgnLmxtdi1tYXJrdXAtZ3VpLWVudGVyTmF2TW9kZScsIGNhbk5hdmlnYXRlLCAnaW5saW5lLWJsb2NrJyk7XG4gICAgICAgIHRoaXMuZXhpdE5hdmlnYXRpb25Nb2RlKCk7XG4gICAgICAgIHRoaXMuZG9tQ29udGVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsgLy8gcmVtb3ZlIGNvbGxhcHNlZCBzdGF0ZVxuXG4gICAgICAgIC8vIEl0J3Mgb2theSBpZiB3ZSBjYWxsIHRoZXNlIG1hbnkgdGltZXMgaW4gYSByb3csIG5vIGJpZ2dpZS5cbiAgICAgICAgdGhpcy52aWV3ZXIuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZG9tUm9vdCk7XG4gICAgfTtcblxuICAgIHByb3RvLmhpZGVUb29sc1VpID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmRvbVJvb3QgJiYgdGhpcy5kb21Sb290LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuZG9tUm9vdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZG9tUm9vdCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvdG8uY3JlYXRlVG9vbHNVaSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIGlmICh0aGlzLmRvbVJvb3QpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRWRpdE1vZGVPcHRpb24obG9jTGFiZWwsIGVkaXRNb2RlVHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAnPG9wdGlvbiB2YWx1ZT1cIicsIGVkaXRNb2RlVHlwZSwgJ1wiPicsXG4gICAgICAgICAgICAgICAgICAgIGxvY0xhYmVsLFxuICAgICAgICAgICAgICAgICc8L29wdGlvbj4nXG4gICAgICAgICAgICBdLmpvaW4oJycpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGh0bWwgPSBbXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImxtdi1tYXJrdXAtZ3VpLXRvb2xiYXItY29udGVudFwiPicsXG5cbiAgICAgICAgICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cImxtdi1tYXJrdXAtZ3VpLWNvbGxhcHNlLWJ0blwiPiZsdDstJmd0OzwvYnV0dG9uPicsXG4gICAgICAgICAgICAgICAgJzxidXR0b24gY2xhc3M9XCJsbXYtbWFya3VwLWVkaXRtb2RlLWRvbmVcIj5FeGl0PC9idXR0b24+JyxcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImxtdi1tYXJrdXAtZ3VpLWNvbGxhcHNlLWNvbnRlbnRcIj4nLFxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImxtdi1tYXJrdXAtZ3VpLWVkaXRNb2RlXCI+JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICc8YnV0dG9uIGNsYXNzPVwibG12LW1hcmt1cC1ndWktZW50ZXJOYXZNb2RlXCI+TmF2aWdhdGU8L2J1dHRvbj4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJzxidXR0b24gY2xhc3M9XCJsbXYtbWFya3VwLWd1aS11bmRvXCI+JiM4NjE3OzwvYnV0dG9uPicsXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cImxtdi1tYXJrdXAtZ3VpLXJlZG9cIj4mIzg2MTg7PC9idXR0b24+JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICc8YnI+JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICc8YnV0dG9uIGNsYXNzPVwibG12LW1hcmt1cC1ndWktZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICc8YnV0dG9uIGNsYXNzPVwibG12LW1hcmt1cC1ndWktZHVwbGljYXRlXCI+RHVwbGljYXRlPC9idXR0b24+JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICc8YnI+JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICc8YnV0dG9uIGNsYXNzPVwibG12LW1hcmt1cC1ndWktY3V0XCI+Q3V0PC9idXR0b24+JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICc8YnV0dG9uIGNsYXNzPVwibG12LW1hcmt1cC1ndWktY29weVwiPkNvcHk8L2J1dHRvbj4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJzxidXR0b24gY2xhc3M9XCJsbXYtbWFya3VwLWd1aS1wYXN0ZVwiPlBhc3RlPC9idXR0b24+JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICc8YnI+JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICc8c3Bhbj5NYXJrdXA6PC9zcGFuPicsIC8vIFRPRE86IExvY2FsaXplXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHNlbGVjdCBjbGFzcz1cImxtdi1tYXJrdXAtdG9vbC1zZWxlY3RcIj4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVkaXRNb2RlT3B0aW9uKCdBcnJvdycsIE1hcmt1cFR5cGVzLk1BUktVUF9UWVBFX0FSUk9XKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVFZGl0TW9kZU9wdGlvbignUmVjdGFuZ2xlJywgTWFya3VwVHlwZXMuTUFSS1VQX1RZUEVfUkVDVEFOR0xFKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVFZGl0TW9kZU9wdGlvbignQ2lyY2xlJywgTWFya3VwVHlwZXMuTUFSS1VQX1RZUEVfQ0lSQ0xFKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVFZGl0TW9kZU9wdGlvbignVGV4dCcsIE1hcmt1cFR5cGVzLk1BUktVUF9UWVBFX1RFWFQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVkaXRNb2RlT3B0aW9uKCdDYWxsb3V0JywgTWFya3VwVHlwZXMuTUFSS1VQX1RZUEVfQ0FMTE9VVCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWRpdE1vZGVPcHRpb24oJ0Nsb3VkJywgTWFya3VwVHlwZXMuTUFSS1VQX1RZUEVfQ0xPVUQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVkaXRNb2RlT3B0aW9uKCdQb2x5TGluZScsIE1hcmt1cFR5cGVzLk1BUktVUF9UWVBFX1BPTFlMSU5FKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVFZGl0TW9kZU9wdGlvbignUG9seWNsb3VkJywgTWFya3VwVHlwZXMuTUFSS1VQX1RZUEVfUE9MWUNMT1VEKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVFZGl0TW9kZU9wdGlvbignRnJlZWhhbmQnLCBNYXJrdXBUeXBlcy5NQVJLVVBfVFlQRV9GUkVFSEFORCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWRpdE1vZGVPcHRpb24oJ0hpZ2hsaWdodCcsIE1hcmt1cFR5cGVzLk1BUktVUF9UWVBFX0hJR0hMSUdIVCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWRpdE1vZGVPcHRpb24oJ0RpbWVuc2lvbicsIE1hcmt1cFR5cGVzLk1BUktVUF9UWVBFX0RJTUVOU0lPTiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWRpdE1vZGVPcHRpb24oJ1NWRyBTdGFtcCcsIE1hcmt1cFR5cGVzLk1BUktVUF9UWVBFX1NUQU1QKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICc8L3NlbGVjdD4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJzxicj4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJsbXYtbWFya3VwLWd1aS1zdHlsZS1vcHRpb25zXCI+PC9kaXY+JyxcbiAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibG12LW1hcmt1cC1ndWktbmF2TW9kZVwiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPicsXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cImxtdi1tYXJrdXAtZ3VpLWV4aXROYXZNb2RlXCI+QmFjayB0byBNYXJrdXA8L2J1dHRvbj4nLFxuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgICAgICc8L2Rpdj4nXG4gICAgICAgIF0uam9pbignJyk7XG5cbiAgICAgICAgY29uc3QgX2RvY3VtZW50ID0gdGhpcy5nZXREb2N1bWVudCgpO1xuICAgICAgICB0aGlzLmRvbVJvb3QgPSBfZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZG9tUm9vdC5jbGFzc05hbWUgPSAnbG12LW1hcmt1cC1ndWktdG9vbGJhcic7XG4gICAgICAgIHRoaXMuZG9tUm9vdC5pbm5lckhUTUwgPSBodG1sO1xuXG4gICAgICAgIHRoaXMuZG9tQ29udGVudCA9IHRoaXMuZG9tUm9vdC5xdWVyeVNlbGVjdG9yKCcubG12LW1hcmt1cC1ndWktY29sbGFwc2UtY29udGVudCcpO1xuICAgICAgICB0aGlzLmRvbVRvb2xTZWxlY3QgPSB0aGlzLmRvbVJvb3QucXVlcnlTZWxlY3RvcignLmxtdi1tYXJrdXAtdG9vbC1zZWxlY3QnKTtcbiAgICAgICAgdGhpcy5kb21TdHlsZXNSb290ID0gdGhpcy5kb21Sb290LnF1ZXJ5U2VsZWN0b3IoJy5sbXYtbWFya3VwLWd1aS1zdHlsZS1vcHRpb25zJyk7XG5cbiAgICAgICAgLy8gR2VuZXJhbFxuICAgICAgICB0aGlzLmhvb2tFdmVudCgnY2xpY2snLCAnLmxtdi1tYXJrdXAtZ3VpLWNvbGxhcHNlLWJ0bicsIHRoaXMub25Ub2dnbGVDb2xsYXBzZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5ob29rRXZlbnQoJ2NsaWNrJywgJy5sbXYtbWFya3VwLWVkaXRtb2RlLWRvbmUnLCB0aGlzLm9uRWRpdE1vZGVEb25lLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmhvb2tFdmVudCgnY2xpY2snLCAnLmxtdi1tYXJrdXAtZ3VpLWVudGVyTmF2TW9kZScsIHRoaXMuZW50ZXJOYXZpZ2F0aW9uTW9kZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5ob29rRXZlbnQoJ2NsaWNrJywgJy5sbXYtbWFya3VwLWd1aS1leGl0TmF2TW9kZScsIHRoaXMuZXhpdE5hdmlnYXRpb25Nb2RlLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmhvb2tFdmVudCgnY2xpY2snLCAnLmxtdi1tYXJrdXAtZ3VpLXVuZG8nLCB0aGlzLm9uVW5kb0NsaWNrLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmhvb2tFdmVudCgnY2xpY2snLCAnLmxtdi1tYXJrdXAtZ3VpLXJlZG8nLCB0aGlzLm9uUmVkb0NsaWNrLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmhvb2tFdmVudCgnY2xpY2snLCAnLmxtdi1tYXJrdXAtZ3VpLWRlbGV0ZScsIHRoaXMub25EZWxldGVDbGljay5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5ob29rRXZlbnQoJ2NsaWNrJywgJy5sbXYtbWFya3VwLWd1aS1jdXQnLCB0aGlzLm9uQ3V0Q2xpY2suYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuaG9va0V2ZW50KCdjbGljaycsICcubG12LW1hcmt1cC1ndWktY29weScsIHRoaXMub25Db3B5Q2xpY2suYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuaG9va0V2ZW50KCdjbGljaycsICcubG12LW1hcmt1cC1ndWktcGFzdGUnLCB0aGlzLm9uUGFzdGVDbGljay5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5ob29rRXZlbnQoJ2NsaWNrJywgJy5sbXYtbWFya3VwLWd1aS1kdXBsaWNhdGUnLCB0aGlzLm9uRHVwbGljYXRlQ2xpY2suYmluZCh0aGlzKSk7XG4gICAgICAgIC8vIFRvb2xzXG4gICAgICAgIHRoaXMuaG9va0V2ZW50KCdjaGFuZ2UnLCAnLmxtdi1tYXJrdXAtdG9vbC1zZWxlY3QnLCB0aGlzLm9uU2VsZWN0RWRpdE1vZGUuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuaG9va0V2ZW50KCdjaGFuZ2UnLCAnLmxtdi1tYXJrdXAtZ3VpLXN0eWxlLXNlbGVjdCcsIHRoaXMub25TdHlsZUNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgLy8gVGV4dCBpbnB1dCBmaWVsZHMgZm9yIHRvb2xzXG4gICAgICAgIHRoaXMuaG9va0V2ZW50KCdpbnB1dCcsICcubG12LW1hcmt1cC1ndWktc3R5bGUtdGV4dGFyZWEnLCB0aGlzLm9uU3R5bGVDaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuaG9va0V2ZW50KCdwcm9wZXJ0eWNoYW5nZScsICcubG12LW1hcmt1cC1ndWktc3R5bGUtdGV4dGFyZWEnLCB0aGlzLm9uU3R5bGVDaGFuZ2UuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgdGhpcy5zZXRTdHlsZXNVaSh0aGlzLmNvcmUuZWRpdE1vZGUpO1xuICAgIH07XG5cbiAgICBwcm90by5kZXN0cm95VG9vbFVpID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmRvbVJvb3QpIHtcbiAgICAgICAgICAgIHRoaXMuaGlkZVRvb2xzVWkoKTtcbiAgICAgICAgICAgIHRoaXMuZG9tUm9vdCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvdG8uZ2V0RWRpdE1vZGUgPSBmdW5jdGlvbihlZGl0TW9kZVR5cGUpIHtcbiAgICAgICAgdmFyIEVkaXRNb2RlQ2xhc3MgPSB0aGVFZGl0TW9kZU1hbmFnZXIuZ2V0Q2xhc3MoZWRpdE1vZGVUeXBlKTtcbiAgICAgICAgaWYgKCFFZGl0TW9kZUNsYXNzKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgdmFyIGVkaXRNb2RlID0gbmV3IEVkaXRNb2RlQ2xhc3ModGhpcy5jb3JlKTtcbiAgICAgICAgcmV0dXJuIGVkaXRNb2RlO1xuICAgIH07XG5cbiAgICBwcm90by5vblRvZ2dsZUNvbGxhcHNlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjdXJyID0gdGhpcy5kb21Db250ZW50LnN0eWxlLmRpc3BsYXk7XG4gICAgICAgIGlmIChjdXJyID09PSAnbm9uZScpXG4gICAgICAgICAgICB0aGlzLmRvbUNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuZG9tQ29udGVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH07XG5cbiAgICBwcm90by5vbkVkaXRNb2RlRG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGUoKTtcbiAgICB9O1xuXG4gICAgcHJvdG8uZW50ZXJOYXZpZ2F0aW9uTW9kZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmNvcmUuYWxsb3dOYXZpZ2F0aW9uKHRydWUpO1xuICAgICAgICB0aGlzLnNldENvbnRyb2xWaXNpYmlsaXR5KCcubG12LW1hcmt1cC1ndWktZWRpdE1vZGUnLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuc2V0Q29udHJvbFZpc2liaWxpdHkoJy5sbXYtbWFya3VwLWd1aS1uYXZNb2RlJywgdHJ1ZSk7XG4gICAgfTtcbiAgICBwcm90by5leGl0TmF2aWdhdGlvbk1vZGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5jb3JlLmFsbG93TmF2aWdhdGlvbihmYWxzZSk7XG4gICAgICAgIHRoaXMuc2V0Q29udHJvbFZpc2liaWxpdHkoJy5sbXYtbWFya3VwLWd1aS1lZGl0TW9kZScsIHRydWUpO1xuICAgICAgICB0aGlzLnNldENvbnRyb2xWaXNpYmlsaXR5KCcubG12LW1hcmt1cC1ndWktbmF2TW9kZScsIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgcHJvdG8ub25VbmRvQ2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5jb3JlLnVuZG8oKTtcbiAgICB9O1xuICAgIHByb3RvLm9uUmVkb0NsaWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuY29yZS5yZWRvKCk7XG4gICAgfTtcbiAgICBwcm90by5vbkRlbGV0ZUNsaWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtYXJrdXAgPSB0aGlzLmNvcmUuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIGlmIChtYXJrdXApIHtcbiAgICAgICAgICAgIHRoaXMuY29yZS5kZWxldGVNYXJrdXAobWFya3VwKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcHJvdG8ub25DdXRDbGljayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmNvcmUuY3V0KCk7XG4gICAgfTtcbiAgICBwcm90by5vbkNvcHlDbGljayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmNvcmUuY29weSgpO1xuICAgIH07XG4gICAgcHJvdG8ub25QYXN0ZUNsaWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuY29yZS5wYXN0ZSgpO1xuICAgIH07XG4gICAgcHJvdG8ub25EdXBsaWNhdGVDbGljayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBvbmx5IHdoZW4gdGhlcmUncyBhIHNlbGVjdGlvblxuICAgICAgICB2YXIgbWFya3VwID0gdGhpcy5jb3JlLmdldFNlbGVjdGlvbigpO1xuICAgICAgICBpZiAobWFya3VwKSB7XG4gICAgICAgICAgICB0aGlzLmNvcmUuY29weSgpO1xuICAgICAgICAgICAgdGhpcy5jb3JlLnBhc3RlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvdG8ub25TZWxlY3RFZGl0TW9kZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHZhciBlZGl0TW9kZVR5cGUgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgICAgIHZhciBlZGl0TW9kZSA9IHRoaXMuZ2V0RWRpdE1vZGUoZWRpdE1vZGVUeXBlKTtcbiAgICAgICAgaWYgKCFlZGl0TW9kZSkge1xuICAgICAgICAgICAgYXZwLmxvZ2dlci5lcnJvcignTWFya3VwIGVkaXRNb2RlIG5vdCBmb3VuZCBmb3IgdHlwZTogJyArIGVkaXRNb2RlVHlwZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWRpdE1vZGUuY2FuY2VsRWRpdE1vZGVDaGFuZ2UpIHtcbiAgICAgICAgICAgIGF2cC5sb2dnZXIud2FybignVGhlcmUgd2FzIGEgcHJvYmxlbSBzZWxlY3RpbmcgY3VycmVudCBlZGl0TW9kZScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pZ25vcmVDaGFuZ2VFdmVudCA9IHRydWU7XG4gICAgICAgIHRoaXMuY29yZS5jaGFuZ2VFZGl0TW9kZShlZGl0TW9kZSk7XG4gICAgICAgIHRoaXMuaWdub3JlQ2hhbmdlRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZXRTdHlsZXNVaShlZGl0TW9kZSk7XG4gICAgICAgIHRoaXMuZG9tVG9vbFNlbGVjdC5ibHVyKCk7IC8vIHJlbW92ZSBmb2N1cyBmcm9tIFVJXG4gICAgfTtcblxuICAgIHByb3RvLm9uU3R5bGVDaGFuZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICB2YXIgc2VsZWN0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICB2YXIgc3R5bGVLZXkgPSBzZWxlY3QuZ2V0QXR0cmlidXRlKCdzdHlsZS1rZXknKTtcbiAgICAgICAgdmFyIHZhbHVlVHlwZSA9IHNlbGVjdC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlLXR5cGUnKTtcblxuICAgICAgICB2YXIgbWFya3VwID0gdGhpcy5jb3JlLmdldFNlbGVjdGlvbigpO1xuICAgICAgICB2YXIgc3R5bGUgPSBtYXJrdXAgPyBtYXJrdXAuZ2V0U3R5bGUoKSA6IHRoaXMuY29yZS5nZXRTdHlsZSgpO1xuXG4gICAgICAgIC8vIGlmIGl0J3MgYSBzdHJpbmcgaW5wdXQsIGp1c3QgdGFrZSB0aGUgcmF3IHZhbHVlXG4gICAgICAgIGlmICh2YWx1ZVR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBzdHlsZVtzdHlsZUtleV0gPSBzZWxlY3QudmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbc2VsZWN0LnNlbGVjdGVkSW5kZXhdO1xuICAgICAgICAgICAgc3R5bGVbc3R5bGVLZXldID0gZ2V0VHlwZWRWYWx1ZShvcHRpb24udmFsdWUsIHZhbHVlVHlwZSk7XG4gICAgICAgICAgICBzZWxlY3QuYmx1cigpOyAvLyByZW1vdmUgZm9jdXMgZnJvbSBVSVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29yZS5zZXRTdHlsZShzdHlsZSk7XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0VHlwZWRWYWx1ZSh2YWwsIHR5cGUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyKHZhbCk7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2Jvb2xlYW4nKVxuICAgICAgICAgICAgICAgIHJldHVybiB2YWwgPT09ICd0cnVlJztcbiAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvdG8uc2V0U3R5bGVzVWkgPSBmdW5jdGlvbihlZGl0TW9kZSwgbWFya3VwKSB7XG5cbiAgICAgICAgdmFyIHN0eWxlID0gbWFya3VwID8gbWFya3VwLnN0eWxlIDogZWRpdE1vZGUuc3R5bGU7XG4gICAgICAgIHZhciBkZWZhdWx0cyA9IGdldFN0eWxlRGVmYXVsdFZhbHVlcyhzdHlsZSwgdGhpcy5jb3JlKTtcblxuICAgICAgICB0aGlzLmRvbVN0eWxlc1Jvb3QuaW5uZXJIVE1MID0gJyc7IC8vIGZsdXNoIFVJXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBkZWZhdWx0cykge1xuICAgICAgICAgICAgLy8gUXVpdGUgaW5lZmlpZW50IGJlY2F1c2Ugd2UgYXJlIHJlLWNyZWF0aW5nIERPTSBjb25zdGFudGx5XG4gICAgICAgICAgICAvLyBDb25zaWRlciBvcHRpbWl6ZSBpZiBpdCBiZWNvbWVzIGEgcHJvYmxlbVxuICAgICAgICAgICAgdmFyIGRvbUVsZW0gPSB0aGlzLmdldFVpRm9yU3R5bGVLZXkoa2V5LCBkZWZhdWx0c1trZXldLCBzdHlsZVtrZXldKTtcbiAgICAgICAgICAgIHRoaXMuZG9tU3R5bGVzUm9vdC5hcHBlbmRDaGlsZChkb21FbGVtKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwcm90by5nZXRVaUZvclN0eWxlS2V5ID0gZnVuY3Rpb24oa2V5LCBkZWZhdWx0cywgY3VycmVudCkge1xuXG4gICAgICAgIHZhciBzZWxlY3Rpb25JbmRleCA9IGRlZmF1bHRzLmRlZmF1bHQ7XG4gICAgICAgIHZhciBvcHRpb25zID0gW107XG4gICAgICAgIHZhciB2YWx1ZXMgPSBkZWZhdWx0cy52YWx1ZXM7XG4gICAgICAgIGZvciAodmFyIGk9MCwgbGVuPXZhbHVlcy5sZW5ndGg7IGk8bGVuOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBvcHRMaW5lID0gW1xuICAgICAgICAgICAgICAgICc8b3B0aW9uIHZhbHVlPVwiJywgdmFsdWVzW2ldLnZhbHVlLCdcIj4nLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaV0ubmFtZSxcbiAgICAgICAgICAgICAgICAnPC9vcHRpb24+J1xuICAgICAgICAgICAgXS5qb2luKCcnKTtcbiAgICAgICAgICAgIG9wdGlvbnMucHVzaChvcHRMaW5lKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMudmFsdWVFcXVhbHModmFsdWVzW2ldLnZhbHVlLCBjdXJyZW50KSkge1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbkluZGV4ID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB2YWx1ZVR5cGUgPSB0eXBlb2YgdmFsdWVzWzBdLnZhbHVlO1xuXG4gICAgICAgIC8vIFRPRE86IEJ1aWxkIHNwZWNpYWxpemVkIGNvbnRyb2xzIGZvciBlYWNoIHN0eWxlLWF0dHJpYnV0ZVxuICAgICAgICBjb25zdCBfZG9jdW1lbnQgPSB0aGlzLmdldERvY3VtZW50KCk7XG4gICAgICAgIHZhciBkb21FbGVtID0gX2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB2YXIgaHRtbCA9IFtdO1xuICAgICAgICBsZXQgaXNUZXh0ID0ga2V5LmluY2x1ZGVzKCd0ZXh0Jyk7XG5cbiAgICAgICAgaWYgKGlzVGV4dCkge1xuICAgICAgICAgICAgaHRtbCA9IFtcbiAgICAgICAgICAgICAgICAnPHNwYW4+JyxrZXksJzwvc3Bhbj4nLFxuICAgICAgICAgICAgICAgICc8YnI+JyxcbiAgICAgICAgICAgICAgICAnPHRleHRhcmVhIGNsYXNzPVwibG12LW1hcmt1cC1ndWktc3R5bGUtdGV4dGFyZWFcIiBzdHlsZS1rZXk9XCInLCBrZXksICdcIiB2YWx1ZS10eXBlPVwiJywgdmFsdWVUeXBlLCdcIj4nLFxuICAgICAgICAgICAgICAgIChjdXJyZW50IHx8ICcnKSxcbiAgICAgICAgICAgICAgICAnPC90ZXh0YXJlYT4nXG4gICAgICAgICAgICBdLmpvaW4oJycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaHRtbCA9IFtcbiAgICAgICAgICAgICAgICAnPHNwYW4+JyxrZXksJzwvc3Bhbj4nLFxuICAgICAgICAgICAgICAgICc8c2VsZWN0IGNsYXNzPVwibG12LW1hcmt1cC1ndWktc3R5bGUtc2VsZWN0XCIgc3R5bGUta2V5PVwiJywga2V5LCAnXCIgdmFsdWUtdHlwZT1cIicsIHZhbHVlVHlwZSwnXCI+JyxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5qb2luKCcnKSxcbiAgICAgICAgICAgICAgICAnPC9zZWxlY3Q+J1xuICAgICAgICAgICAgXS5qb2luKCcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvbUVsZW0uaW5uZXJIVE1MID0gaHRtbDtcblxuICAgICAgICBpZiAoIWlzVGV4dCkge1xuICAgICAgICAgICAgLy8gc2VsZWN0IGluZGV4XG4gICAgICAgICAgICB2YXIgZG9tU2VsZWN0ID0gZG9tRWxlbS5xdWVyeVNlbGVjdG9yKCdzZWxlY3QnKTtcbiAgICAgICAgICAgIGRvbVNlbGVjdC5zZWxlY3RlZEluZGV4ID0gc2VsZWN0aW9uSW5kZXg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZG9tRWxlbTtcbiAgICB9O1xuICAgIHByb3RvLnZhbHVlRXF1YWxzID0gZnVuY3Rpb24odmFsdWUxLCB2YWx1ZTIpIHtcblxuICAgICAgICByZXR1cm4gdmFsdWUxID09PSB2YWx1ZTI7XG4gICAgfTtcblxuICAgIHByb3RvLnNldENvbnRyb2xWaXNpYmlsaXR5ID0gZnVuY3Rpb24oc2VsZWN0b3IsIGlzVmlzaWJsZSwgdmlzaWJsZVZhbHVlKSB7XG4gICAgICAgIHZhciBlbGVtID0gdGhpcy5kb21Sb290LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICBpZiAoIXZpc2libGVWYWx1ZSlcbiAgICAgICAgICAgIHZpc2libGVWYWx1ZSA9ICdibG9jayc7XG4gICAgICAgIGVsZW0uc3R5bGUuZGlzcGxheSA9IGlzVmlzaWJsZSA/IHZpc2libGVWYWx1ZSA6ICdub25lJztcbiAgICB9O1xuXG4gICAgcHJvdG8uaG9va0V2ZW50ID0gZnVuY3Rpb24oZXZlbnRTdHIsIHNlbGVjdG9yLCBjYWxsYmFja0ZuKSB7XG4gICAgICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgaWYgKHRoaXMubWF0Y2hlc1NlbGVjdG9yKGV2ZW50LnRhcmdldCwgc2VsZWN0b3IpKXtcbiAgICAgICAgICAgICAgICBjYWxsYmFja0ZuKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRvbVJvb3QuYWRkRXZlbnRMaXN0ZW5lcihldmVudFN0ciwgaGFuZGxlcik7XG4gICAgICAgIHRoaXMuZG9tRXZlbnRzLnB1c2goe3N0cjogZXZlbnRTdHIsIGhhbmRsZXI6IGhhbmRsZXIgfSk7XG4gICAgfTtcblxuICAgIHByb3RvLnVuaG9va0FsbEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZG9tUm9vdCA9IHRoaXMuZG9tUm9vdDtcbiAgICAgICAgdGhpcy5kb21FdmVudHMuZm9yRWFjaChmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgZG9tUm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LnN0ciwgZXZlbnQuaGFuZGxlcik7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRvbUV2ZW50cyA9IFtdO1xuICAgIH07XG5cbiAgICBwcm90by5tYXRjaGVzU2VsZWN0b3IgPSBmdW5jdGlvbihkb21FbGVtLCBzZWxlY3Rvcikge1xuICAgICAgICBpZiAoZG9tRWxlbS5tYXRjaGVzKSByZXR1cm4gZG9tRWxlbS5tYXRjaGVzKHNlbGVjdG9yKTsgLy9Vbi1wcmVmaXhlZFxuICAgICAgICBpZiAoZG9tRWxlbS5tc01hdGNoZXNTZWxlY3RvcikgcmV0dXJuIGRvbUVsZW0ubXNNYXRjaGVzU2VsZWN0b3Ioc2VsZWN0b3IpOyAgLy9JRVxuICAgICAgICBpZiAoZG9tRWxlbS5tb3pNYXRjaGVzU2VsZWN0b3IpIHJldHVybiBkb21FbGVtLm1vek1hdGNoZXNTZWxlY3RvcihzZWxlY3Rvcik7IC8vRmlyZWZveCAoR2Vja28pXG4gICAgICAgIGlmIChkb21FbGVtLndlYmtpdE1hdGNoZXNTZWxlY3RvcikgcmV0dXJuIGRvbUVsZW0ud2Via2l0TWF0Y2hlc1NlbGVjdG9yKHNlbGVjdG9yKTsgLy8gT3BlcmEsIFNhZmFyaSwgQ2hyb21lXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgcHJvdG8uZ2V0U3R5bGVPcHRpb25zID0gZnVuY3Rpb24oZWRpdE1vZGUpIHtcbiAgICAgICAgdmFyIHN0eWxlID0gZWRpdE1vZGUuZ2V0U3R5bGUoKTtcbiAgICAgICAgcmV0dXJuIGdldFN0eWxlRGVmYXVsdFZhbHVlcyhzdHlsZSwgdGhpcy5jb3JlKTtcbiAgICB9O1xuXG4gICAgcHJvdG8uYWN0aXZhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmKCF0aGlzLmFjdGl2ZVN0YXR1cykge1xuICAgICAgICAgICAgdGhpcy5jb3JlLmVudGVyRWRpdE1vZGUoKTtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlU3RhdHVzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgcHJvdG8uZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYodGhpcy5hY3RpdmVTdGF0dXMpIHtcbiAgICAgICAgICAgIHRoaXMuY29yZS5oaWRlKCk7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVN0YXR1cyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cblxuICAgIEF1dG9kZXNrLlZpZXdpbmcudGhlRXh0ZW5zaW9uTWFuYWdlci5yZWdpc3RlckV4dGVuc2lvbignQXV0b2Rlc2suVmlld2luZy5NYXJrdXBzR3VpJywgTWFya3Vwc0d1aSk7XG4iXSwibmFtZXMiOlsiZ2V0U3R5bGVEZWZhdWx0VmFsdWVzIiwiTWFya3VwRXZlbnRzIiwiTWFya3VwVHlwZXMiLCJ0aGVFZGl0TW9kZU1hbmFnZXIiLCJDT1JFX0VYVEVOU0lPTiIsIk1hcmt1cHNHdWkiLCJ2aWV3ZXIiLCJvcHRpb25zIiwiQXV0b2Rlc2siLCJWaWV3aW5nIiwiRXh0ZW5zaW9uIiwiY2FsbCIsImRvbUV2ZW50cyIsIm5hbWUiLCJvbkVkaXRNb2RlRW50ZXIiLCJiaW5kIiwib25FZGl0TW9kZUxlYXZlIiwib25FZGl0TW9kZUNoYW5nZSIsIm9uTWFya3VwU2VsZWN0ZWQiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwiYXYiLCJhdnAiLCJQcml2YXRlIiwibG9hZCIsImxvYWRFeHRlbnNpb24iLCJ0aGVuIiwiY29yZUV4dCIsImNvcmUiLCJhZGRFdmVudExpc3RlbmVyIiwiRVZFTlRfRURJVE1PREVfRU5URVIiLCJFVkVOVF9FRElUTU9ERV9MRUFWRSIsIkVWRU5UX0VESVRNT0RFX0NIQU5HRUQiLCJFVkVOVF9NQVJLVVBfU0VMRUNURUQiLCJ1bmxvYWQiLCJkZWFjdGl2YXRlIiwidW5ob29rQWxsRXZlbnRzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRlc3Ryb3lUb29sVWkiLCJkZXN0cm95VG9vbGJhclVJIiwib25Ub29sYmFyQ3JlYXRlZCIsInRvb2xiYXIiLCJzZWxmIiwibWFya3VwVG9vbEJ1dHRvbiIsIlVJIiwiQnV0dG9uIiwic2V0VG9vbFRpcCIsInNldEljb24iLCJvbkNsaWNrIiwiYWN0aXZhdGUiLCJtb2RlbFRvb2xzIiwiZ2V0Q29udHJvbCIsIlRPT0xCQVIiLCJNT0RFTFRPT0xTSUQiLCJhZGRDb250cm9sIiwiaW5kZXgiLCJnZXRUb29sYmFyIiwicmVtb3ZlRnJvbVBhcmVudCIsImxvZ2dlciIsImxvZyIsInNob3dUb29sc1VpIiwiaGlkZVRvb2xzVWkiLCJldmVudCIsImRvbVRvb2xTZWxlY3QiLCJpZ25vcmVDaGFuZ2VFdmVudCIsImVkaXRNb2RlIiwib3B0aW9uTGlzdCIsImkiLCJsZW4iLCJsZW5ndGgiLCJvcHRpb24iLCJ2YWx1ZSIsInR5cGUiLCJzZWxlY3RlZEluZGV4IiwibWFya3VwIiwic2V0U3R5bGVzVWkiLCJjcmVhdGVUb29sc1VpIiwiY2FuTmF2aWdhdGUiLCJpc05hdmlnYXRpb25BbGxvd2VkIiwic2V0Q29udHJvbFZpc2liaWxpdHkiLCJleGl0TmF2aWdhdGlvbk1vZGUiLCJkb21Db250ZW50Iiwic3R5bGUiLCJkaXNwbGF5IiwiY29udGFpbmVyIiwiYXBwZW5kQ2hpbGQiLCJkb21Sb290IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiY3JlYXRlRWRpdE1vZGVPcHRpb24iLCJsb2NMYWJlbCIsImVkaXRNb2RlVHlwZSIsImpvaW4iLCJodG1sIiwiTUFSS1VQX1RZUEVfQVJST1ciLCJNQVJLVVBfVFlQRV9SRUNUQU5HTEUiLCJNQVJLVVBfVFlQRV9DSVJDTEUiLCJNQVJLVVBfVFlQRV9URVhUIiwiTUFSS1VQX1RZUEVfQ0FMTE9VVCIsIk1BUktVUF9UWVBFX0NMT1VEIiwiTUFSS1VQX1RZUEVfUE9MWUxJTkUiLCJNQVJLVVBfVFlQRV9QT0xZQ0xPVUQiLCJNQVJLVVBfVFlQRV9GUkVFSEFORCIsIk1BUktVUF9UWVBFX0hJR0hMSUdIVCIsIk1BUktVUF9UWVBFX0RJTUVOU0lPTiIsIk1BUktVUF9UWVBFX1NUQU1QIiwiX2RvY3VtZW50IiwiZ2V0RG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiaW5uZXJIVE1MIiwicXVlcnlTZWxlY3RvciIsImRvbVN0eWxlc1Jvb3QiLCJob29rRXZlbnQiLCJvblRvZ2dsZUNvbGxhcHNlIiwib25FZGl0TW9kZURvbmUiLCJlbnRlck5hdmlnYXRpb25Nb2RlIiwib25VbmRvQ2xpY2siLCJvblJlZG9DbGljayIsIm9uRGVsZXRlQ2xpY2siLCJvbkN1dENsaWNrIiwib25Db3B5Q2xpY2siLCJvblBhc3RlQ2xpY2siLCJvbkR1cGxpY2F0ZUNsaWNrIiwib25TZWxlY3RFZGl0TW9kZSIsIm9uU3R5bGVDaGFuZ2UiLCJnZXRFZGl0TW9kZSIsIkVkaXRNb2RlQ2xhc3MiLCJnZXRDbGFzcyIsImN1cnIiLCJhbGxvd05hdmlnYXRpb24iLCJ1bmRvIiwicmVkbyIsImdldFNlbGVjdGlvbiIsImRlbGV0ZU1hcmt1cCIsImN1dCIsImNvcHkiLCJwYXN0ZSIsInRhcmdldCIsImVycm9yIiwiY2FuY2VsRWRpdE1vZGVDaGFuZ2UiLCJ3YXJuIiwiY2hhbmdlRWRpdE1vZGUiLCJibHVyIiwic2VsZWN0Iiwic3R5bGVLZXkiLCJnZXRBdHRyaWJ1dGUiLCJ2YWx1ZVR5cGUiLCJnZXRTdHlsZSIsImdldFR5cGVkVmFsdWUiLCJzZXRTdHlsZSIsInZhbCIsIk51bWJlciIsImRlZmF1bHRzIiwia2V5IiwiZG9tRWxlbSIsImdldFVpRm9yU3R5bGVLZXkiLCJjdXJyZW50Iiwic2VsZWN0aW9uSW5kZXgiLCJkZWZhdWx0IiwidmFsdWVzIiwib3B0TGluZSIsInB1c2giLCJ2YWx1ZUVxdWFscyIsImlzVGV4dCIsImluY2x1ZGVzIiwiZG9tU2VsZWN0IiwidmFsdWUxIiwidmFsdWUyIiwic2VsZWN0b3IiLCJpc1Zpc2libGUiLCJ2aXNpYmxlVmFsdWUiLCJlbGVtIiwiZXZlbnRTdHIiLCJjYWxsYmFja0ZuIiwiaGFuZGxlciIsIm1hdGNoZXNTZWxlY3RvciIsInN0ciIsImZvckVhY2giLCJtYXRjaGVzIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJnZXRTdHlsZU9wdGlvbnMiLCJhY3RpdmVTdGF0dXMiLCJlbnRlckVkaXRNb2RlIiwiaGlkZSIsInRoZUV4dGVuc2lvbk1hbmFnZXIiLCJyZWdpc3RlckV4dGVuc2lvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Markup/gui/MarkupsGui.js\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[6].use[2]!./node_modules/css-unicode-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./extensions/Markup/core/Markups.css":
/*!**********************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[6].use[2]!./node_modules/css-unicode-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./extensions/Markup/core/Markups.css ***!
  \**********************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/sourceMaps.js */ \"./node_modules/css-loader/dist/runtime/sourceMaps.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.adsk-viewing-viewer .autodesk-markups-extension-core-make-me-bigger:after {\n  content: \"\";\n  position: absolute;\n  top: -15px;\n  bottom: -15px;\n  left: -15px;\n  right: -15px;\n}\n\n.adsk-viewing-viewer .autodesk-markups-extension-core-make-me-bigger.rotation-bridge:after {\n  top: 0;\n  bottom: 0px;\n}\n\n.adsk-viewing-viewer .selector-box {\n  position: absolute;\n  border: 1px dashed #0696D7;\n  background: rgba(6, 150, 215, 0.05);\n  z-index: 1;\n  cursor: move;\n  box-sizing: border-box;\n}\n\n.adsk-viewing-viewer .selector-drag-point,\n.adsk-viewing-viewer .selector-rotate-point {\n  position: absolute;\n  height: 8px;\n  width: 8px;\n  border-radius: 8px; /*HANDLE_SIZE*/\n  background: #FFFFFF; /*HANDLE_BACKGROUND_COLOR*/\n  border-color: rgba(107, 120, 127, 0.7); /* HANDLE_BORDER_COLOR; */\n  border-width: 1px; /* BORDER_WIDTH */\n  border-style: solid;\n}\n\n.adsk-viewing-viewer .selector-rotate-point {\n  top: calc(100% + 22px); /* 30 - 8 = 22 */\n  left: calc(50% + 1px);\n  transform: translate3d(-50%, 0px, 0px);\n}\n\n.adsk-viewing-viewer .selector-drag-point.selected,\n.adsk-viewing-viewer .selector-rotate-point.selected:not(.rotation-bridge) {\n  background: #0696D7;\n  border-color: #0696D7;\n}\n\n.adsk-viewing-viewer .rotation-bridge {\n  position: absolute;\n  background-color: rgba(0, 0, 0, 0);\n  height: 30px;\n  width: 0px;\n  top: 100%;\n  left: calc(50% + 1px);\n  border: unset;\n  border-left: 1px dashed #0696D7;\n}\n\n/*var placementOffset = -6;*/\n.adsk-viewing-viewer .selector-drag-point.sdp-handle-n {\n  top: -6px;\n  left: calc(50% - 4px);\n  position: relative;\n}\n\n.adsk-viewing-viewer .selector-drag-point.sdp-handle-s {\n  top: calc(100% - 14px);\n  left: calc(50% - 4px);\n  position: relative;\n}\n\n.adsk-viewing-viewer .selector-drag-point.sdp-handle-w {\n  left: -6px;\n  top: 50%;\n  transform: translate3d(0, -50%, 0);\n}\n\n.adsk-viewing-viewer .selector-drag-point.sdp-handle-e {\n  right: -6px;\n  top: 50%;\n  transform: translate3d(0, -50%, 0);\n}\n\n.adsk-viewing-viewer .selector-drag-point.sdp-handle-nw {\n  top: -6px;\n  left: -6px;\n}\n\n.adsk-viewing-viewer .selector-drag-point.sdp-handle-ne {\n  top: -6px;\n  right: -6px;\n}\n\n.adsk-viewing-viewer .selector-drag-point.sdp-handle-sw {\n  bottom: -6px;\n  left: -6px;\n}\n\n.adsk-viewing-viewer .selector-drag-point.sdp-handle-se {\n  bottom: -6px;\n  right: -6px;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./extensions/Markup/core/Markups.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,WAAW;EACX,kBAAkB;EAClB,UAAU;EACV,aAAa;EACb,WAAW;EACX,YAAY;AACd;;AAEA;EACE,MAAM;EACN,WAAW;AACb;;AAEA;EACE,kBAAkB;EAClB,0BAA0B;EAC1B,mCAAmC;EACnC,UAAU;EACV,YAAY;EACZ,sBAAsB;AACxB;;AAEA;;EAEE,kBAAkB;EAClB,WAAW;EACX,UAAU;EACV,kBAAkB,EAAE,cAAc;EAClC,mBAAmB,EAAE,0BAA0B;EAC/C,sCAAsC,EAAE,yBAAyB;EACjE,iBAAiB,EAAE,iBAAiB;EACpC,mBAAmB;AACrB;;AAEA;EACE,sBAAsB,EAAE,gBAAgB;EACxC,qBAAqB;EACrB,sCAAsC;AACxC;;AAEA;;EAEE,mBAAmB;EACnB,qBAAqB;AACvB;;AAEA;EACE,kBAAkB;EAClB,kCAAkC;EAClC,YAAY;EACZ,UAAU;EACV,SAAS;EACT,qBAAqB;EACrB,aAAa;EACb,+BAA+B;AACjC;;AAEA,4BAA4B;AAC5B;EACE,SAAS;EACT,qBAAqB;EACrB,kBAAkB;AACpB;;AAEA;EACE,sBAAsB;EACtB,qBAAqB;EACrB,kBAAkB;AACpB;;AAEA;EACE,UAAU;EACV,QAAQ;EACR,kCAAkC;AACpC;;AAEA;EACE,WAAW;EACX,QAAQ;EACR,kCAAkC;AACpC;;AAEA;EACE,SAAS;EACT,UAAU;AACZ;;AAEA;EACE,SAAS;EACT,WAAW;AACb;;AAEA;EACE,YAAY;EACZ,UAAU;AACZ;;AAEA;EACE,YAAY;EACZ,WAAW;AACb\",\"sourcesContent\":[\".adsk-viewing-viewer .autodesk-markups-extension-core-make-me-bigger:after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: -15px;\\n  bottom: -15px;\\n  left: -15px;\\n  right: -15px;\\n}\\n\\n.adsk-viewing-viewer .autodesk-markups-extension-core-make-me-bigger.rotation-bridge:after {\\n  top: 0;\\n  bottom: 0px;\\n}\\n\\n.adsk-viewing-viewer .selector-box {\\n  position: absolute;\\n  border: 1px dashed #0696D7;\\n  background: rgba(6, 150, 215, 0.05);\\n  z-index: 1;\\n  cursor: move;\\n  box-sizing: border-box;\\n}\\n\\n.adsk-viewing-viewer .selector-drag-point,\\n.adsk-viewing-viewer .selector-rotate-point {\\n  position: absolute;\\n  height: 8px;\\n  width: 8px;\\n  border-radius: 8px; /*HANDLE_SIZE*/\\n  background: #FFFFFF; /*HANDLE_BACKGROUND_COLOR*/\\n  border-color: rgba(107, 120, 127, 0.7); /* HANDLE_BORDER_COLOR; */\\n  border-width: 1px; /* BORDER_WIDTH */\\n  border-style: solid;\\n}\\n\\n.adsk-viewing-viewer .selector-rotate-point {\\n  top: calc(100% + 22px); /* 30 - 8 = 22 */\\n  left: calc(50% + 1px);\\n  transform: translate3d(-50%, 0px, 0px);\\n}\\n\\n.adsk-viewing-viewer .selector-drag-point.selected,\\n.adsk-viewing-viewer .selector-rotate-point.selected:not(.rotation-bridge) {\\n  background: #0696D7;\\n  border-color: #0696D7;\\n}\\n\\n.adsk-viewing-viewer .rotation-bridge {\\n  position: absolute;\\n  background-color: rgba(0, 0, 0, 0);\\n  height: 30px;\\n  width: 0px;\\n  top: 100%;\\n  left: calc(50% + 1px);\\n  border: unset;\\n  border-left: 1px dashed #0696D7;\\n}\\n\\n/*var placementOffset = -6;*/\\n.adsk-viewing-viewer .selector-drag-point.sdp-handle-n {\\n  top: -6px;\\n  left: calc(50% - 4px);\\n  position: relative;\\n}\\n\\n.adsk-viewing-viewer .selector-drag-point.sdp-handle-s {\\n  top: calc(100% - 14px);\\n  left: calc(50% - 4px);\\n  position: relative;\\n}\\n\\n.adsk-viewing-viewer .selector-drag-point.sdp-handle-w {\\n  left: -6px;\\n  top: 50%;\\n  transform: translate3d(0, -50%, 0);\\n}\\n\\n.adsk-viewing-viewer .selector-drag-point.sdp-handle-e {\\n  right: -6px;\\n  top: 50%;\\n  transform: translate3d(0, -50%, 0);\\n}\\n\\n.adsk-viewing-viewer .selector-drag-point.sdp-handle-nw {\\n  top: -6px;\\n  left: -6px;\\n}\\n\\n.adsk-viewing-viewer .selector-drag-point.sdp-handle-ne {\\n  top: -6px;\\n  right: -6px;\\n}\\n\\n.adsk-viewing-viewer .selector-drag-point.sdp-handle-sw {\\n  bottom: -6px;\\n  left: -6px;\\n}\\n\\n.adsk-viewing-viewer .selector-drag-point.sdp-handle-se {\\n  bottom: -6px;\\n  right: -6px;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1s2XS51c2VbMV0hLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbNl0udXNlWzJdIS4vbm9kZV9tb2R1bGVzL2Nzcy11bmljb2RlLWxvYWRlci9pbmRleC5qcyEuL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2V4dGVuc2lvbnMvTWFya3VwL2NvcmUvTWFya3Vwcy5jc3MiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNnSDtBQUNqQjtBQUMvRiw4QkFBOEIsbUZBQTJCLENBQUMsNEZBQXFDO0FBQy9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEIsdUJBQXVCO0FBQ3ZCLDBDQUEwQyx3QkFBd0I7QUFDbEUscUJBQXFCO0FBQ3JCO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxPQUFPLHFHQUFxRyxVQUFVLFlBQVksV0FBVyxVQUFVLFVBQVUsVUFBVSxNQUFNLEtBQUssVUFBVSxVQUFVLE1BQU0sS0FBSyxZQUFZLGFBQWEsYUFBYSxXQUFXLFVBQVUsWUFBWSxPQUFPLE1BQU0sWUFBWSxXQUFXLFVBQVUsc0JBQXNCLHlCQUF5Qix5QkFBeUIseUJBQXlCLGFBQWEsT0FBTyxLQUFLLHdCQUF3QixhQUFhLGFBQWEsT0FBTyxNQUFNLFlBQVksYUFBYSxPQUFPLEtBQUssWUFBWSxhQUFhLFdBQVcsVUFBVSxVQUFVLFlBQVksV0FBVyxZQUFZLE9BQU8sWUFBWSxNQUFNLFVBQVUsWUFBWSxhQUFhLE9BQU8sS0FBSyxZQUFZLGFBQWEsYUFBYSxPQUFPLEtBQUssVUFBVSxVQUFVLFlBQVksT0FBTyxLQUFLLFVBQVUsVUFBVSxZQUFZLE9BQU8sS0FBSyxVQUFVLFVBQVUsTUFBTSxLQUFLLFVBQVUsVUFBVSxNQUFNLEtBQUssVUFBVSxVQUFVLE1BQU0sS0FBSyxVQUFVLFVBQVUscUdBQXFHLGtCQUFrQix1QkFBdUIsZUFBZSxrQkFBa0IsZ0JBQWdCLGlCQUFpQixHQUFHLGdHQUFnRyxXQUFXLGdCQUFnQixHQUFHLHdDQUF3Qyx1QkFBdUIsK0JBQStCLHdDQUF3QyxlQUFlLGlCQUFpQiwyQkFBMkIsR0FBRyw2RkFBNkYsdUJBQXVCLGdCQUFnQixlQUFlLHdCQUF3Qix3Q0FBd0MsdUVBQXVFLHdCQUF3Qix5QkFBeUIsMENBQTBDLEdBQUcsaURBQWlELDRCQUE0QiwyQ0FBMkMsMkNBQTJDLEdBQUcscUlBQXFJLHdCQUF3QiwwQkFBMEIsR0FBRywyQ0FBMkMsdUJBQXVCLHVDQUF1QyxpQkFBaUIsZUFBZSxjQUFjLDBCQUEwQixrQkFBa0Isb0NBQW9DLEdBQUcsK0JBQStCLDREQUE0RCxjQUFjLDBCQUEwQix1QkFBdUIsR0FBRyw0REFBNEQsMkJBQTJCLDBCQUEwQix1QkFBdUIsR0FBRyw0REFBNEQsZUFBZSxhQUFhLHVDQUF1QyxHQUFHLDREQUE0RCxnQkFBZ0IsYUFBYSx1Q0FBdUMsR0FBRyw2REFBNkQsY0FBYyxlQUFlLEdBQUcsNkRBQTZELGNBQWMsZ0JBQWdCLEdBQUcsNkRBQTZELGlCQUFpQixlQUFlLEdBQUcsNkRBQTZELGlCQUFpQixnQkFBZ0IsR0FBRyxtQkFBbUI7QUFDMTFHO0FBQ0EsaUVBQWUsdUJBQXVCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9NYXJrdXBzLmNzcz8xOGVhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGAuYWRzay12aWV3aW5nLXZpZXdlciAuYXV0b2Rlc2stbWFya3Vwcy1leHRlbnNpb24tY29yZS1tYWtlLW1lLWJpZ2dlcjphZnRlciB7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAtMTVweDtcbiAgYm90dG9tOiAtMTVweDtcbiAgbGVmdDogLTE1cHg7XG4gIHJpZ2h0OiAtMTVweDtcbn1cblxuLmFkc2stdmlld2luZy12aWV3ZXIgLmF1dG9kZXNrLW1hcmt1cHMtZXh0ZW5zaW9uLWNvcmUtbWFrZS1tZS1iaWdnZXIucm90YXRpb24tYnJpZGdlOmFmdGVyIHtcbiAgdG9wOiAwO1xuICBib3R0b206IDBweDtcbn1cblxuLmFkc2stdmlld2luZy12aWV3ZXIgLnNlbGVjdG9yLWJveCB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm9yZGVyOiAxcHggZGFzaGVkICMwNjk2RDc7XG4gIGJhY2tncm91bmQ6IHJnYmEoNiwgMTUwLCAyMTUsIDAuMDUpO1xuICB6LWluZGV4OiAxO1xuICBjdXJzb3I6IG1vdmU7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG59XG5cbi5hZHNrLXZpZXdpbmctdmlld2VyIC5zZWxlY3Rvci1kcmFnLXBvaW50LFxuLmFkc2stdmlld2luZy12aWV3ZXIgLnNlbGVjdG9yLXJvdGF0ZS1wb2ludCB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgaGVpZ2h0OiA4cHg7XG4gIHdpZHRoOiA4cHg7XG4gIGJvcmRlci1yYWRpdXM6IDhweDsgLypIQU5ETEVfU0laRSovXG4gIGJhY2tncm91bmQ6ICNGRkZGRkY7IC8qSEFORExFX0JBQ0tHUk9VTkRfQ09MT1IqL1xuICBib3JkZXItY29sb3I6IHJnYmEoMTA3LCAxMjAsIDEyNywgMC43KTsgLyogSEFORExFX0JPUkRFUl9DT0xPUjsgKi9cbiAgYm9yZGVyLXdpZHRoOiAxcHg7IC8qIEJPUkRFUl9XSURUSCAqL1xuICBib3JkZXItc3R5bGU6IHNvbGlkO1xufVxuXG4uYWRzay12aWV3aW5nLXZpZXdlciAuc2VsZWN0b3Itcm90YXRlLXBvaW50IHtcbiAgdG9wOiBjYWxjKDEwMCUgKyAyMnB4KTsgLyogMzAgLSA4ID0gMjIgKi9cbiAgbGVmdDogY2FsYyg1MCUgKyAxcHgpO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC01MCUsIDBweCwgMHB4KTtcbn1cblxuLmFkc2stdmlld2luZy12aWV3ZXIgLnNlbGVjdG9yLWRyYWctcG9pbnQuc2VsZWN0ZWQsXG4uYWRzay12aWV3aW5nLXZpZXdlciAuc2VsZWN0b3Itcm90YXRlLXBvaW50LnNlbGVjdGVkOm5vdCgucm90YXRpb24tYnJpZGdlKSB7XG4gIGJhY2tncm91bmQ6ICMwNjk2RDc7XG4gIGJvcmRlci1jb2xvcjogIzA2OTZENztcbn1cblxuLmFkc2stdmlld2luZy12aWV3ZXIgLnJvdGF0aW9uLWJyaWRnZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTtcbiAgaGVpZ2h0OiAzMHB4O1xuICB3aWR0aDogMHB4O1xuICB0b3A6IDEwMCU7XG4gIGxlZnQ6IGNhbGMoNTAlICsgMXB4KTtcbiAgYm9yZGVyOiB1bnNldDtcbiAgYm9yZGVyLWxlZnQ6IDFweCBkYXNoZWQgIzA2OTZENztcbn1cblxuLyp2YXIgcGxhY2VtZW50T2Zmc2V0ID0gLTY7Ki9cbi5hZHNrLXZpZXdpbmctdmlld2VyIC5zZWxlY3Rvci1kcmFnLXBvaW50LnNkcC1oYW5kbGUtbiB7XG4gIHRvcDogLTZweDtcbiAgbGVmdDogY2FsYyg1MCUgLSA0cHgpO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbi5hZHNrLXZpZXdpbmctdmlld2VyIC5zZWxlY3Rvci1kcmFnLXBvaW50LnNkcC1oYW5kbGUtcyB7XG4gIHRvcDogY2FsYygxMDAlIC0gMTRweCk7XG4gIGxlZnQ6IGNhbGMoNTAlIC0gNHB4KTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4uYWRzay12aWV3aW5nLXZpZXdlciAuc2VsZWN0b3ItZHJhZy1wb2ludC5zZHAtaGFuZGxlLXcge1xuICBsZWZ0OiAtNnB4O1xuICB0b3A6IDUwJTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtNTAlLCAwKTtcbn1cblxuLmFkc2stdmlld2luZy12aWV3ZXIgLnNlbGVjdG9yLWRyYWctcG9pbnQuc2RwLWhhbmRsZS1lIHtcbiAgcmlnaHQ6IC02cHg7XG4gIHRvcDogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC01MCUsIDApO1xufVxuXG4uYWRzay12aWV3aW5nLXZpZXdlciAuc2VsZWN0b3ItZHJhZy1wb2ludC5zZHAtaGFuZGxlLW53IHtcbiAgdG9wOiAtNnB4O1xuICBsZWZ0OiAtNnB4O1xufVxuXG4uYWRzay12aWV3aW5nLXZpZXdlciAuc2VsZWN0b3ItZHJhZy1wb2ludC5zZHAtaGFuZGxlLW5lIHtcbiAgdG9wOiAtNnB4O1xuICByaWdodDogLTZweDtcbn1cblxuLmFkc2stdmlld2luZy12aWV3ZXIgLnNlbGVjdG9yLWRyYWctcG9pbnQuc2RwLWhhbmRsZS1zdyB7XG4gIGJvdHRvbTogLTZweDtcbiAgbGVmdDogLTZweDtcbn1cblxuLmFkc2stdmlld2luZy12aWV3ZXIgLnNlbGVjdG9yLWRyYWctcG9pbnQuc2RwLWhhbmRsZS1zZSB7XG4gIGJvdHRvbTogLTZweDtcbiAgcmlnaHQ6IC02cHg7XG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL01hcmt1cHMuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0UsV0FBVztFQUNYLGtCQUFrQjtFQUNsQixVQUFVO0VBQ1YsYUFBYTtFQUNiLFdBQVc7RUFDWCxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxNQUFNO0VBQ04sV0FBVztBQUNiOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLDBCQUEwQjtFQUMxQixtQ0FBbUM7RUFDbkMsVUFBVTtFQUNWLFlBQVk7RUFDWixzQkFBc0I7QUFDeEI7O0FBRUE7O0VBRUUsa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxVQUFVO0VBQ1Ysa0JBQWtCLEVBQUUsY0FBYztFQUNsQyxtQkFBbUIsRUFBRSwwQkFBMEI7RUFDL0Msc0NBQXNDLEVBQUUseUJBQXlCO0VBQ2pFLGlCQUFpQixFQUFFLGlCQUFpQjtFQUNwQyxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxzQkFBc0IsRUFBRSxnQkFBZ0I7RUFDeEMscUJBQXFCO0VBQ3JCLHNDQUFzQztBQUN4Qzs7QUFFQTs7RUFFRSxtQkFBbUI7RUFDbkIscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGtDQUFrQztFQUNsQyxZQUFZO0VBQ1osVUFBVTtFQUNWLFNBQVM7RUFDVCxxQkFBcUI7RUFDckIsYUFBYTtFQUNiLCtCQUErQjtBQUNqQzs7QUFFQSw0QkFBNEI7QUFDNUI7RUFDRSxTQUFTO0VBQ1QscUJBQXFCO0VBQ3JCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLHNCQUFzQjtFQUN0QixxQkFBcUI7RUFDckIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsVUFBVTtFQUNWLFFBQVE7RUFDUixrQ0FBa0M7QUFDcEM7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsUUFBUTtFQUNSLGtDQUFrQztBQUNwQzs7QUFFQTtFQUNFLFNBQVM7RUFDVCxVQUFVO0FBQ1o7O0FBRUE7RUFDRSxTQUFTO0VBQ1QsV0FBVztBQUNiOztBQUVBO0VBQ0UsWUFBWTtFQUNaLFVBQVU7QUFDWjs7QUFFQTtFQUNFLFlBQVk7RUFDWixXQUFXO0FBQ2JcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLmFkc2stdmlld2luZy12aWV3ZXIgLmF1dG9kZXNrLW1hcmt1cHMtZXh0ZW5zaW9uLWNvcmUtbWFrZS1tZS1iaWdnZXI6YWZ0ZXIge1xcbiAgY29udGVudDogXFxcIlxcXCI7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IC0xNXB4O1xcbiAgYm90dG9tOiAtMTVweDtcXG4gIGxlZnQ6IC0xNXB4O1xcbiAgcmlnaHQ6IC0xNXB4O1xcbn1cXG5cXG4uYWRzay12aWV3aW5nLXZpZXdlciAuYXV0b2Rlc2stbWFya3Vwcy1leHRlbnNpb24tY29yZS1tYWtlLW1lLWJpZ2dlci5yb3RhdGlvbi1icmlkZ2U6YWZ0ZXIge1xcbiAgdG9wOiAwO1xcbiAgYm90dG9tOiAwcHg7XFxufVxcblxcbi5hZHNrLXZpZXdpbmctdmlld2VyIC5zZWxlY3Rvci1ib3gge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm9yZGVyOiAxcHggZGFzaGVkICMwNjk2RDc7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDYsIDE1MCwgMjE1LCAwLjA1KTtcXG4gIHotaW5kZXg6IDE7XFxuICBjdXJzb3I6IG1vdmU7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG5cXG4uYWRzay12aWV3aW5nLXZpZXdlciAuc2VsZWN0b3ItZHJhZy1wb2ludCxcXG4uYWRzay12aWV3aW5nLXZpZXdlciAuc2VsZWN0b3Itcm90YXRlLXBvaW50IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGhlaWdodDogOHB4O1xcbiAgd2lkdGg6IDhweDtcXG4gIGJvcmRlci1yYWRpdXM6IDhweDsgLypIQU5ETEVfU0laRSovXFxuICBiYWNrZ3JvdW5kOiAjRkZGRkZGOyAvKkhBTkRMRV9CQUNLR1JPVU5EX0NPTE9SKi9cXG4gIGJvcmRlci1jb2xvcjogcmdiYSgxMDcsIDEyMCwgMTI3LCAwLjcpOyAvKiBIQU5ETEVfQk9SREVSX0NPTE9SOyAqL1xcbiAgYm9yZGVyLXdpZHRoOiAxcHg7IC8qIEJPUkRFUl9XSURUSCAqL1xcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcXG59XFxuXFxuLmFkc2stdmlld2luZy12aWV3ZXIgLnNlbGVjdG9yLXJvdGF0ZS1wb2ludCB7XFxuICB0b3A6IGNhbGMoMTAwJSArIDIycHgpOyAvKiAzMCAtIDggPSAyMiAqL1xcbiAgbGVmdDogY2FsYyg1MCUgKyAxcHgpO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtNTAlLCAwcHgsIDBweCk7XFxufVxcblxcbi5hZHNrLXZpZXdpbmctdmlld2VyIC5zZWxlY3Rvci1kcmFnLXBvaW50LnNlbGVjdGVkLFxcbi5hZHNrLXZpZXdpbmctdmlld2VyIC5zZWxlY3Rvci1yb3RhdGUtcG9pbnQuc2VsZWN0ZWQ6bm90KC5yb3RhdGlvbi1icmlkZ2UpIHtcXG4gIGJhY2tncm91bmQ6ICMwNjk2RDc7XFxuICBib3JkZXItY29sb3I6ICMwNjk2RDc7XFxufVxcblxcbi5hZHNrLXZpZXdpbmctdmlld2VyIC5yb3RhdGlvbi1icmlkZ2Uge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTtcXG4gIGhlaWdodDogMzBweDtcXG4gIHdpZHRoOiAwcHg7XFxuICB0b3A6IDEwMCU7XFxuICBsZWZ0OiBjYWxjKDUwJSArIDFweCk7XFxuICBib3JkZXI6IHVuc2V0O1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBkYXNoZWQgIzA2OTZENztcXG59XFxuXFxuLyp2YXIgcGxhY2VtZW50T2Zmc2V0ID0gLTY7Ki9cXG4uYWRzay12aWV3aW5nLXZpZXdlciAuc2VsZWN0b3ItZHJhZy1wb2ludC5zZHAtaGFuZGxlLW4ge1xcbiAgdG9wOiAtNnB4O1xcbiAgbGVmdDogY2FsYyg1MCUgLSA0cHgpO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG5cXG4uYWRzay12aWV3aW5nLXZpZXdlciAuc2VsZWN0b3ItZHJhZy1wb2ludC5zZHAtaGFuZGxlLXMge1xcbiAgdG9wOiBjYWxjKDEwMCUgLSAxNHB4KTtcXG4gIGxlZnQ6IGNhbGMoNTAlIC0gNHB4KTtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuLmFkc2stdmlld2luZy12aWV3ZXIgLnNlbGVjdG9yLWRyYWctcG9pbnQuc2RwLWhhbmRsZS13IHtcXG4gIGxlZnQ6IC02cHg7XFxuICB0b3A6IDUwJTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTUwJSwgMCk7XFxufVxcblxcbi5hZHNrLXZpZXdpbmctdmlld2VyIC5zZWxlY3Rvci1kcmFnLXBvaW50LnNkcC1oYW5kbGUtZSB7XFxuICByaWdodDogLTZweDtcXG4gIHRvcDogNTAlO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtNTAlLCAwKTtcXG59XFxuXFxuLmFkc2stdmlld2luZy12aWV3ZXIgLnNlbGVjdG9yLWRyYWctcG9pbnQuc2RwLWhhbmRsZS1udyB7XFxuICB0b3A6IC02cHg7XFxuICBsZWZ0OiAtNnB4O1xcbn1cXG5cXG4uYWRzay12aWV3aW5nLXZpZXdlciAuc2VsZWN0b3ItZHJhZy1wb2ludC5zZHAtaGFuZGxlLW5lIHtcXG4gIHRvcDogLTZweDtcXG4gIHJpZ2h0OiAtNnB4O1xcbn1cXG5cXG4uYWRzay12aWV3aW5nLXZpZXdlciAuc2VsZWN0b3ItZHJhZy1wb2ludC5zZHAtaGFuZGxlLXN3IHtcXG4gIGJvdHRvbTogLTZweDtcXG4gIGxlZnQ6IC02cHg7XFxufVxcblxcbi5hZHNrLXZpZXdpbmctdmlld2VyIC5zZWxlY3Rvci1kcmFnLXBvaW50LnNkcC1oYW5kbGUtc2Uge1xcbiAgYm90dG9tOiAtNnB4O1xcbiAgcmlnaHQ6IC02cHg7XFxufVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[6].use[2]!./node_modules/css-unicode-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./extensions/Markup/core/Markups.css\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[6].use[2]!./node_modules/css-unicode-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./extensions/Markup/gui/MarkupsGui.css":
/*!************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[6].use[2]!./node_modules/css-unicode-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./extensions/Markup/gui/MarkupsGui.css ***!
  \************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/sourceMaps.js */ \"./node_modules/css-loader/dist/runtime/sourceMaps.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.adsk-icon-markup:before {\n  content: \"a\";\n}\n\n.lmv-markup-gui-toolbar {\n  position: absolute;\n  top: 0;\n  margin: 5px 5px;\n  color: #000000;\n}\n\n.lmv-markup-gui-toolbar-content > * {\n  margin: 0 2px;\n}\n\n.lmv-markup-gui-style-options {\n  display: inline-block;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./extensions/Markup/gui/MarkupsGui.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,eAAe;EACf,cAAc;AAChB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,qBAAqB;AACvB\",\"sourcesContent\":[\".adsk-icon-markup:before {\\n  content: \\\"a\\\";\\n}\\n\\n.lmv-markup-gui-toolbar {\\n  position: absolute;\\n  top: 0;\\n  margin: 5px 5px;\\n  color: #000000;\\n}\\n\\n.lmv-markup-gui-toolbar-content > * {\\n  margin: 0 2px;\\n}\\n\\n.lmv-markup-gui-style-options {\\n  display: inline-block;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1s2XS51c2VbMV0hLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbNl0udXNlWzJdIS4vbm9kZV9tb2R1bGVzL2Nzcy11bmljb2RlLWxvYWRlci9pbmRleC5qcyEuL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2V4dGVuc2lvbnMvTWFya3VwL2d1aS9NYXJrdXBzR3VpLmNzcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ2dIO0FBQ2pCO0FBQy9GLDhCQUE4QixtRkFBMkIsQ0FBQyw0RkFBcUM7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQyxPQUFPLHVHQUF1RyxVQUFVLE1BQU0sS0FBSyxZQUFZLFdBQVcsVUFBVSxVQUFVLE9BQU8sS0FBSyxVQUFVLE1BQU0sS0FBSyxZQUFZLG9EQUFvRCxtQkFBbUIsR0FBRyw2QkFBNkIsdUJBQXVCLFdBQVcsb0JBQW9CLG1CQUFtQixHQUFHLHlDQUF5QyxrQkFBa0IsR0FBRyxtQ0FBbUMsMEJBQTBCLEdBQUcsbUJBQW1CO0FBQ2hpQjtBQUNBLGlFQUFlLHVCQUF1QixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvTWFya3VwL2d1aS9NYXJrdXBzR3VpLmNzcz9jZDJkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGAuYWRzay1pY29uLW1hcmt1cDpiZWZvcmUge1xuICBjb250ZW50OiBcImFcIjtcbn1cblxuLmxtdi1tYXJrdXAtZ3VpLXRvb2xiYXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbWFyZ2luOiA1cHggNXB4O1xuICBjb2xvcjogIzAwMDAwMDtcbn1cblxuLmxtdi1tYXJrdXAtZ3VpLXRvb2xiYXItY29udGVudCA+ICoge1xuICBtYXJnaW46IDAgMnB4O1xufVxuXG4ubG12LW1hcmt1cC1ndWktc3R5bGUtb3B0aW9ucyB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1gLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL2V4dGVuc2lvbnMvTWFya3VwL2d1aS9NYXJrdXBzR3VpLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtFQUNFLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixNQUFNO0VBQ04sZUFBZTtFQUNmLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxxQkFBcUI7QUFDdkJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLmFkc2staWNvbi1tYXJrdXA6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJhXFxcIjtcXG59XFxuXFxuLmxtdi1tYXJrdXAtZ3VpLXRvb2xiYXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgbWFyZ2luOiA1cHggNXB4O1xcbiAgY29sb3I6ICMwMDAwMDA7XFxufVxcblxcbi5sbXYtbWFya3VwLWd1aS10b29sYmFyLWNvbnRlbnQgPiAqIHtcXG4gIG1hcmdpbjogMCAycHg7XFxufVxcblxcbi5sbXYtbWFya3VwLWd1aS1zdHlsZS1vcHRpb25zIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[6].use[2]!./node_modules/css-unicode-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./extensions/Markup/gui/MarkupsGui.css\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQ7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0EscUZBQXFGO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixpQkFBaUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHFCQUFxQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixzRkFBc0YscUJBQXFCO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixpREFBaUQscUJBQXFCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixzREFBc0QscUJBQXFCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcz8yNGZiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/runtime/api.js\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/sourceMaps.js":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELGNBQWM7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcz9hZjEyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xuICB9XG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/runtime/sourceMaps.js\n");

/***/ }),

/***/ "./extensions/Markup/core/Markups.css":
/*!********************************************!*\
  !*** ./extensions/Markup/core/Markups.css ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ \"./node_modules/style-loader/dist/runtime/styleDomAPI.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ \"./node_modules/style-loader/dist/runtime/styleTagTransform.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_6_use_1_node_modules_postcss_loader_dist_cjs_js_ruleSet_1_rules_6_use_2_node_modules_css_unicode_loader_index_js_node_modules_sass_loader_dist_cjs_js_Markups_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[6].use[2]!../../../node_modules/css-unicode-loader/index.js!../../../node_modules/sass-loader/dist/cjs.js!./Markups.css */ \"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[6].use[2]!./node_modules/css-unicode-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./extensions/Markup/core/Markups.css\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\n\n      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\n    \noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_6_use_1_node_modules_postcss_loader_dist_cjs_js_ruleSet_1_rules_6_use_2_node_modules_css_unicode_loader_index_js_node_modules_sass_loader_dist_cjs_js_Markups_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"], options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_6_use_1_node_modules_postcss_loader_dist_cjs_js_ruleSet_1_rules_6_use_2_node_modules_css_unicode_loader_index_js_node_modules_sass_loader_dist_cjs_js_Markups_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"] && _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_6_use_1_node_modules_postcss_loader_dist_cjs_js_ruleSet_1_rules_6_use_2_node_modules_css_unicode_loader_index_js_node_modules_sass_loader_dist_cjs_js_Markups_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals ? _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_6_use_1_node_modules_postcss_loader_dist_cjs_js_ruleSet_1_rules_6_use_2_node_modules_css_unicode_loader_index_js_node_modules_sass_loader_dist_cjs_js_Markups_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals : undefined);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9jb3JlL01hcmt1cHMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLE1BQXFHO0FBQ3JHLE1BQTJGO0FBQzNGLE1BQWtHO0FBQ2xHLE1BQXFIO0FBQ3JILE1BQThHO0FBQzlHLE1BQThHO0FBQzlHLE1BQW9UO0FBQ3BUO0FBQ0E7O0FBRUE7O0FBRUEsNEJBQTRCLHFHQUFtQjtBQUMvQyx3QkFBd0Isa0hBQWE7O0FBRXJDLHVCQUF1Qix1R0FBYTtBQUNwQztBQUNBLGlCQUFpQiwrRkFBTTtBQUN2Qiw2QkFBNkIsc0dBQWtCOztBQUUvQyxhQUFhLDBHQUFHLENBQUMsOFBBQU87Ozs7QUFJOFA7QUFDdFIsT0FBTyxpRUFBZSw4UEFBTyxJQUFJLDhQQUFPLFVBQVUsOFBBQU8sbUJBQW1CLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9NYXJrdXAvY29yZS9NYXJrdXBzLmNzcz9jNDFhIl0sInNvdXJjZXNDb250ZW50IjpbIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbNl0udXNlWzFdIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1s2XS51c2VbMl0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy11bmljb2RlLWxvYWRlci9pbmRleC5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi9NYXJrdXBzLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzZdLnVzZVsxXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbNl0udXNlWzJdIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtdW5pY29kZS1sb2FkZXIvaW5kZXguanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vTWFya3Vwcy5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Markup/core/Markups.css\n");

/***/ }),

/***/ "./extensions/Markup/gui/MarkupsGui.css":
/*!**********************************************!*\
  !*** ./extensions/Markup/gui/MarkupsGui.css ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ \"./node_modules/style-loader/dist/runtime/styleDomAPI.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ \"./node_modules/style-loader/dist/runtime/styleTagTransform.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_6_use_1_node_modules_postcss_loader_dist_cjs_js_ruleSet_1_rules_6_use_2_node_modules_css_unicode_loader_index_js_node_modules_sass_loader_dist_cjs_js_MarkupsGui_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[6].use[2]!../../../node_modules/css-unicode-loader/index.js!../../../node_modules/sass-loader/dist/cjs.js!./MarkupsGui.css */ \"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[6].use[2]!./node_modules/css-unicode-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./extensions/Markup/gui/MarkupsGui.css\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\n\n      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\n    \noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_6_use_1_node_modules_postcss_loader_dist_cjs_js_ruleSet_1_rules_6_use_2_node_modules_css_unicode_loader_index_js_node_modules_sass_loader_dist_cjs_js_MarkupsGui_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"], options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_6_use_1_node_modules_postcss_loader_dist_cjs_js_ruleSet_1_rules_6_use_2_node_modules_css_unicode_loader_index_js_node_modules_sass_loader_dist_cjs_js_MarkupsGui_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"] && _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_6_use_1_node_modules_postcss_loader_dist_cjs_js_ruleSet_1_rules_6_use_2_node_modules_css_unicode_loader_index_js_node_modules_sass_loader_dist_cjs_js_MarkupsGui_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals ? _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_6_use_1_node_modules_postcss_loader_dist_cjs_js_ruleSet_1_rules_6_use_2_node_modules_css_unicode_loader_index_js_node_modules_sass_loader_dist_cjs_js_MarkupsGui_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals : undefined);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL01hcmt1cC9ndWkvTWFya3Vwc0d1aS5jc3MiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsTUFBcUc7QUFDckcsTUFBMkY7QUFDM0YsTUFBa0c7QUFDbEcsTUFBcUg7QUFDckgsTUFBOEc7QUFDOUcsTUFBOEc7QUFDOUcsTUFBdVQ7QUFDdlQ7QUFDQTs7QUFFQTs7QUFFQSw0QkFBNEIscUdBQW1CO0FBQy9DLHdCQUF3QixrSEFBYTs7QUFFckMsdUJBQXVCLHVHQUFhO0FBQ3BDO0FBQ0EsaUJBQWlCLCtGQUFNO0FBQ3ZCLDZCQUE2QixzR0FBa0I7O0FBRS9DLGFBQWEsMEdBQUcsQ0FBQyxpUUFBTzs7OztBQUlpUTtBQUN6UixPQUFPLGlFQUFlLGlRQUFPLElBQUksaVFBQU8sVUFBVSxpUUFBTyxtQkFBbUIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL01hcmt1cC9ndWkvTWFya3Vwc0d1aS5jc3M/MDY0MyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzZdLnVzZVsxXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbNl0udXNlWzJdIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtdW5pY29kZS1sb2FkZXIvaW5kZXguanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vTWFya3Vwc0d1aS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1s2XS51c2VbMV0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzZdLnVzZVsyXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLXVuaWNvZGUtbG9hZGVyL2luZGV4LmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL01hcmt1cHNHdWkuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Markup/gui/MarkupsGui.css\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHdCQUF3QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixpQkFBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0QkFBNEI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw2QkFBNkI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzPzJkYmEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5ET00ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5ET01baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleEJ5SWRlbnRpZmllciA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXSxcbiAgICAgIHN1cHBvcnRzOiBpdGVtWzRdLFxuICAgICAgbGF5ZXI6IGl0ZW1bNV1cbiAgICB9O1xuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG4gIHZhciB1cGRhdGVyID0gZnVuY3Rpb24gdXBkYXRlcihuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwICYmIG5ld09iai5zdXBwb3J0cyA9PT0gb2JqLnN1cHBvcnRzICYmIG5ld09iai5sYXllciA9PT0gb2JqLmxheWVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG4gICAgICAgIHN0eWxlc0luRE9NLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzP2IyMTQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/insertBySelector.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanM/ZGU2YyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgb3B0aW9ucy5zZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIG9wdGlvbnMuYXR0cmlidXRlcyk7XG4gIG9wdGlvbnMuaW5zZXJ0KGVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG4gIHJldHVybiBlbGVtZW50O1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/insertStyleElement.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce =  true ? __webpack_require__.nc : 0;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBLGNBQWMsS0FBd0MsR0FBRyxzQkFBaUIsR0FBRyxDQUFJO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzP2RkY2UiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzKHN0eWxlRWxlbWVudCkge1xuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRjtBQUNqRjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RDtBQUN6RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcz9lNDc5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBcIlwiO1xuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQob2JqLnN1cHBvcnRzLCBcIikge1wiKTtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIik7XG4gIH1cbiAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBvYmoubGF5ZXIgIT09IFwidW5kZWZpbmVkXCI7XG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJAbGF5ZXJcIi5jb25jYXQob2JqLmxheWVyLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQob2JqLmxheWVyKSA6IFwiXCIsIFwiIHtcIik7XG4gIH1cbiAgY3NzICs9IG9iai5jc3M7XG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH1cblxuICAvLyBGb3Igb2xkIElFXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cbiAgb3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZUVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGRvbUFQSShvcHRpb25zKSB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7fSxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cbiAgICB9O1xuICB9XG4gIHZhciBzdHlsZUVsZW1lbnQgPSBvcHRpb25zLmluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgcmV0dXJuIHtcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShvYmopIHtcbiAgICAgIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG4gICAgfVxuICB9O1xufVxubW9kdWxlLmV4cG9ydHMgPSBkb21BUEk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/styleDomAPI.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcz8xZGRlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/styleTagTransform.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./extensions/Markup/Markup.js");
/******/ 	Autodesk.Extensions.Markup = __webpack_exports__;
/******/ 	
/******/ })()
;