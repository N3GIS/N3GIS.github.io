/*!
 * LMV v7.105.0
 *
 * Copyright 2025 Autodesk, Inc.
 * All rights reserved.
 *
 * This computer source code and related instructions and comments are the
 * unpublished confidential and proprietary information of Autodesk, Inc.
 * and are protected under Federal copyright and state trade secret law.
 * They may not be disclosed to, copied or used by any third party without
 * the prior written consent of Autodesk, Inc.
 *
 * Autodesk Viewer SDK Usage Limitations:
 *
 * The Autodesk Viewer SDK JavaScript must be delivered from an
 * Autodesk-hosted URL.
 */(()=>{var i={8175:(i,t,e)=>{"use strict";e.d(t,{A:()=>r});var n=e(1354),s=e.n(n),a=e(6314),o=e.n(a)()(s());o.push([i.id,".minimap-canvas-container{position:relative;margin:15px 5px 10px 5px}.minimap-canvas-base{position:absolute;left:0px;top:0px}.minimap-unavailable{color:#dbdbdb;margin:10px;text-align:center}","",{version:3,sources:["webpack://./extensions/Minimap2D/MinimapStyle.css"],names:[],mappings:"AAAA,0BAA0B,iBAAiB,CAAC,wBAAwB,CAAC,qBAAqB,iBAAiB,CAAC,QAAQ,CAAC,OAAO,CAAC,qBAAqB,aAAa,CAAC,WAAW,CAAC,iBAAiB",sourcesContent:[".minimap-canvas-container{position:relative;margin:15px 5px 10px 5px}.minimap-canvas-base{position:absolute;left:0px;top:0px}.minimap-unavailable{color:#dbdbdb;margin:10px;text-align:center}"],sourceRoot:""}]);const r=o},6314:i=>{"use strict";i.exports=function(i){var t=[];return t.toString=function(){return this.map((function(t){var e="",n=void 0!==t[5];return t[4]&&(e+="@supports (".concat(t[4],") {")),t[2]&&(e+="@media ".concat(t[2]," {")),n&&(e+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),e+=i(t),n&&(e+="}"),t[2]&&(e+="}"),t[4]&&(e+="}"),e})).join("")},t.i=function(i,e,n,s,a){"string"==typeof i&&(i=[[null,i,void 0]]);var o={};if(n)for(var r=0;r<this.length;r++){var h=this[r][0];null!=h&&(o[h]=!0)}for(var l=0;l<i.length;l++){var d=[].concat(i[l]);n&&o[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),e&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=e):d[2]=e),s&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=s):d[4]="".concat(s)),t.push(d))}},t}},1354:i=>{"use strict";i.exports=function(i){var t=i[1],e=i[3];if(!e)return t;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),a="/*# ".concat(s," */");return[t].concat([a]).join("\n")}return[t].join("\n")}},5072:i=>{"use strict";var t=[];function e(i){for(var e=-1,n=0;n<t.length;n++)if(t[n].identifier===i){e=n;break}return e}function n(i,n){for(var a={},o=[],r=0;r<i.length;r++){var h=i[r],l=n.base?h[0]+n.base:h[0],d=a[l]||0,m="".concat(l," ").concat(d);a[l]=d+1;var c=e(m),u={css:h[1],media:h[2],sourceMap:h[3],supports:h[4],layer:h[5]};if(-1!==c)t[c].references++,t[c].updater(u);else{var p=s(u,n);n.byIndex=r,t.splice(r,0,{identifier:m,updater:p,references:1})}o.push(m)}return o}function s(i,t){var e=t.domAPI(t);e.update(i);return function(t){if(t){if(t.css===i.css&&t.media===i.media&&t.sourceMap===i.sourceMap&&t.supports===i.supports&&t.layer===i.layer)return;e.update(i=t)}else e.remove()}}i.exports=function(i,s){var a=n(i=i||[],s=s||{});return function(i){i=i||[];for(var o=0;o<a.length;o++){var r=e(a[o]);t[r].references--}for(var h=n(i,s),l=0;l<a.length;l++){var d=e(a[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}a=h}}},7659:i=>{"use strict";var t={};i.exports=function(i,e){var n=function(i){if(void 0===t[i]){var e=document.querySelector(i);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(i){e=null}t[i]=e}return t[i]}(i);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(e)}},540:i=>{"use strict";i.exports=function(i){var t=document.createElement("style");return i.setAttributes(t,i.attributes),i.insert(t,i.options),t}},5056:(i,t,e)=>{"use strict";i.exports=function(i){var t=e.nc;t&&i.setAttribute("nonce",t)}},7825:i=>{"use strict";i.exports=function(i){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=i.insertStyleElement(i);return{update:function(e){!function(i,t,e){var n="";e.supports&&(n+="@supports (".concat(e.supports,") {")),e.media&&(n+="@media ".concat(e.media," {"));var s=void 0!==e.layer;s&&(n+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),n+=e.css,s&&(n+="}"),e.media&&(n+="}"),e.supports&&(n+="}");var a=e.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(n,i,t.options)}(t,i,e)},remove:function(){!function(i){if(null===i.parentNode)return!1;i.parentNode.removeChild(i)}(t)}}}},1113:i=>{"use strict";i.exports=function(i,t){if(t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}}},t={};function e(n){var s=t[n];if(void 0!==s)return s.exports;var a=t[n]={id:n,exports:{}};return i[n](a,a.exports,e),a.exports}e.n=i=>{var t=i&&i.__esModule?()=>i.default:()=>i;return e.d(t,{a:t}),t},e.d=(i,t)=>{for(var n in t)e.o(t,n)&&!e.o(i,n)&&Object.defineProperty(i,n,{enumerable:!0,get:t[n]})},e.o=(i,t)=>Object.prototype.hasOwnProperty.call(i,t),e.r=i=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},e.nc=void 0;var n={};(()=>{"use strict";e.r(n),e.d(n,{default:()=>k});const i={small:100,medium:200,large:400},t=200,s=300;var a=e(5072),o=e.n(a),r=e(7825),h=e.n(r),l=e(7659),d=e.n(l),m=e(5056),c=e.n(m),u=e(540),p=e.n(u),v=e(1113),g=e.n(v),C=e(8175),b={};b.styleTagTransform=g(),b.setAttributes=c(),b.insert=d().bind(null,"head"),b.domAPI=h(),b.insertStyleElement=p();o()(C.A,b);C.A&&C.A.locals&&C.A.locals;const w=Autodesk.Viewing;class M extends Autodesk.Viewing.EventDispatcher{constructor(t,e,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"large";super(),this.minimapSize=i[s];const a=Math.max(e,n);this.widthFactor=e/a,this.heightFactor=n/a,this._initBackground(),this._initHighlight(),this._initContainer(),this.backgroundImgs=t,this.backgroundImg=new Image}_initContainer(){const i=this.getDocument();this.canvasContainer=i.createElement("div"),this.canvasContainer.className="minimap-canvas-container",this.canvasContainer.appendChild(this.backgroundCanvas),this.canvasContainer.appendChild(this.highlightCanvas),this._updateCanvasContainerSize()}_updateCanvasContainerSize(){this.canvasContainer.style.width=this.backgroundCanvas.width+"px",this.canvasContainer.style.height=this.backgroundCanvas.height+"px"}_initBackground(){const i=this.getDocument();this.backgroundCanvas=i.createElement("canvas"),this.backgroundCanvas.className="minimap-canvas-base minimap-canvas-background"}_initHighlight(){const i=this.getDocument();this.highlightCanvas=i.createElement("canvas"),this.highlightCanvas.className="minimap-canvas-base minimap-canvas-highlight"}setSize(t){return t="string"==typeof t?i[t]:t,new Promise(((e,n)=>{this.backgroundCanvas.width=this.highlightCanvas.width=Math.round(t*this.widthFactor),this.backgroundCanvas.height=this.highlightCanvas.height=Math.round(t*this.heightFactor),this._updateCanvasContainerSize();let s=Number.MAX_VALUE,a="large";for(const e in i)t<=i[e]&&i[e]<s&&Object.prototype.hasOwnProperty.call(this.backgroundImgs,e)&&(a=e,s=i[e]);this.setBackground(a).then((()=>{this.drawBackground(),e()})),this.minimapSize=t}))}setBackground(i){return new Promise(((t,e)=>{Object.prototype.hasOwnProperty.call(this.backgroundImgs,i)?this.backgroundImg.src!==this.backgroundImgs[i]?(this.backgroundImg.onload=()=>{this.setBackgroundSourceSize(i),t()},this.backgroundImg.src=this.backgroundImgs[i]):t():e("thumbnail size not found")}))}setBackgroundSourceSize(t){const e=i[t];this.backgroundWidth=Math.round(e*this.widthFactor),this.backgroundHeight=Math.round(e*this.heightFactor),this.backgroundOffsetX=(e-this.backgroundWidth)/2,this.backgroundOffsetY=(e-this.backgroundHeight)/2}drawBackground(){const i=this.backgroundCanvas.getContext("2d");i.mozImageSmoothingEnabled=!1,i.webkitImageSmoothingEnabled=!1,i.msImageSmoothingEnabled=!1,i.imageSmoothingEnabled=!1,i.drawImage(this.backgroundImg,this.backgroundOffsetX,this.backgroundOffsetY,this.backgroundWidth,this.backgroundHeight,0,0,this.backgroundCanvas.width,this.backgroundCanvas.height)}drawHighlight(i,t){const e={x:Math.round(i.x),y:Math.round(t.y)},n=Math.round(Math.max(t.x-i.x,2)),s=Math.round(Math.max(i.y-t.y,2)),a=this.highlightCanvas.getContext("2d");a.clearRect(0,0,this.highlightCanvas.width,this.highlightCanvas.height),a.beginPath(),a.lineWidth="2",a.strokeStyle="#CC3B3B",a.fillStyle="rgba(204, 59, 59, 0.2)",a.rect(e.x,e.y,n,s),a.fill(),a.stroke()}setVisibility(i){this.backgroundCanvas.style.visibility=i?"visible":"hidden",this.highlightCanvas.style.visibility=i?"visible":"hidden"}addListenerToCanvas(i,t){this.highlightCanvas.addEventListener(i,t)}removeListenerFromCanvas(i,t){this.highlightCanvas.removeEventListener(i,t)}getBoundingClientRect(){return this.highlightCanvas.getBoundingClientRect()}unload(){const i=this.getWindow(),t=i.URL||i.webkitURL;this.backgroundImg=null;for(const i in this.backgroundImgs)t.revokeObjectURL(this.backgroundImgs[i])}get width(){return this.highlightCanvas.width}get height(){return this.highlightCanvas.height}}w.GlobalManagerMixin.call(M.prototype);class f extends Autodesk.Viewing.UI.DockingPanel{constructor(i,t,e,n){super(i,"MinimapPanel","Minimap",n),this.container.style.left=t+"px",this.container.style.top=e+"px",this.container.classList.add("docking-panel-container-solid-color-b"),this.fadeIn="opacity 0.5s",this.fadeOut="opacity 0.1s",this.container.addEventListener("transitionend",(i=>{"0"===this.container.style.opacity&&(this.container.style.display="none")}))}_addNoMinimapElem(){const i=this.getDocument();this.noMinimapDiv=i.createElement("div"),this.noMinimapDiv.innerHTML=Autodesk.Viewing.i18n.translate("Minimap not available"),this.noMinimapDiv.className="minimap-unavailable",this.container.appendChild(this.noMinimapDiv)}_removeNoMinimapElem(){this.container.contains(this.noMinimapDiv)&&this.container.removeChild(this.noMinimapDiv)}initialize(){super.initialize(),this._addNoMinimapElem()}appendElement(i){this._removeNoMinimapElem(),this.container.appendChild(i)}addListenerToCloseButton(i){this.addEventListener(this.closer,"click",i,!1)}_triggerReflow(){return this.container.offsetWidth}_isVisible(){return"block"===this.container.style.display}setVisible(i,t){t?this.setVisibleWithTransition(i):(this.container.style.display=i?"block":"none",this.container.style.opacity=i?"1":"0")}setVisibleWithTransition(i){if(i){const i=this._isVisible();this.container.style.transition=this.fadeIn,this.container.style.display="block",i||(this.container.style.opacity="0",this._triggerReflow()),this.container.style.opacity="1"}else this.container.style.transition=this.fadeOut,this.container.style.opacity="0"}}const y={isThumbnailValid:function(i){return y.getPredominantColorPercentage(i)<y.MAX_PREDOMINANT_COLOR_PERCENTAGE},getPredominantColorPercentage:function(i){const t=i.getContext("2d").getImageData(0,0,i.width,i.height).data,e={};for(let i=0,n=t.length;i<n;i+=4){const n=y.rgba2hex(t[i],t[i+1],t[i+2],t[i+3]);e[n]=Object.prototype.hasOwnProperty.call(e,n)?e[n]+1:1}return Object.keys(e).reduce(((i,t)=>e[t]>i?e[t]:i),0)/(t.length/4)},rgba2hex:function(i,t,e,n){if(i>255||t>255||e>255||n>255)throw"Invalid color component";return(256+i).toString(16).substr(1)+((1<<24)+(t<<16)|e<<8|n).toString(16).substr(1)},MAX_PREDOMINANT_COLOR_PERCENTAGE:.97},x=y,E=AutodeskNamespace("Autodesk.BIM360.Minimap"),A="showMinimap2D";class k extends Autodesk.Viewing.Extension{constructor(i){super(i,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this._isEnabled=!1,this.isMobile=Autodesk.Viewing.isMobileDevice(),this.initialSize=this.options.initialSize||null,this.wasInit=!1,this.onMouseDown=this.onMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.onMouseWheel=this.onMouseWheel.bind(this),this.onCameraChange=this.onCameraChange.bind(this,!0),this.update=this.update.bind(this),this.onCloseButton=this.onCloseButton.bind(this),this.setEnabled=this.setEnabled.bind(this),this.updateSettingsPanel=this.updateSettingsPanel.bind(this)}async setEnabled(i){if(i){if(this.wasInit||await this.init(),!this.viewer.impl)return;this._isEnabled=!0,this.onCameraChange(!1)}else this._isEnabled=!1,this._setVisibility(!1,!1)}findAndSetSuitableModel(){const i=this.viewer.impl.modelQueue().getModels();if(1===i.length&&i[0].is2d()){const t=i[0],e=t.getDocumentNode(),n=e&&e.getDocument();if(n)return this.model=t,this.node=e,this.document=n,!0}return!1}createPanel(){this.panel||(this.panel=new f(this.viewer.container,10,10,{isMobile:this.isMobile,addFooter:!1}),this.panel.setGlobalManager(this.globalManager))}createMinimapCanvas(){this.minimapCanvas?this.minimapCanvas.backgroundImgs=this.backgroundImgs:(this.minimapCanvas=new M(this.backgroundImgs||{},this.modelWidth,this.modelHeight),this.minimapCanvas.setGlobalManager(this.globalManager))}setBoundariesFromModel(){this.modelBBox=this.model.getBoundingBox().clone(),this.modelStartPoint=this.modelBBox.min,this.modelWidth=this.modelBBox.max.x-this.modelBBox.min.x,this.modelHeight=this.modelBBox.max.y-this.modelBBox.min.y,this.epsX=.02*this.modelWidth,this.epsY=.02*this.modelHeight}async init(){if(this.mouseDown=!1,this.mouseDownPos={x:null,y:null},this.isTransitionInactive=!0,!this.model)return;this.createPanel(),this.setBoundariesFromModel(),this.wasInit=!0;const i=this.model;try{if(await this.prefetchThumbnails(["large"]),i!==this.model||!this.viewer.impl)throw new Error("loadCanceled");if(this.createMinimapCanvas(),await this.minimapCanvas.setSize(this.getInitialSize()),i!==this.model||!this.viewer.impl)throw new Error("loadCanceled");const t=this.model.getData();!this.model.isLeaflet()&&"rvt"!==t.loadOptions.fileExt&&!x.isThumbnailValid(this.minimapCanvas.backgroundCanvas)?console.error("Invalid thumbnail!"):this.panel.appendElement(this.minimapCanvas.canvasContainer),this.addListeners()}catch(i){console.info("Minimap init aborted: ",i.message),this.minimapCanvas||"loadCanceled"===i.message||(this.createMinimapCanvas(),this.addListeners())}}getInitialSize(){return null!==this.initialSize?Math.min(Math.max(this.initialSize,100),400):this.isMobile?t:s}setSize(i){this.minimapCanvas?(i=Math.min(Math.max(i,100),400),this.minimapCanvas.setSize(i)):this.initialSize=i}prefetchThumbnails(t){this.backgroundImgs={};const e=t.map((t=>function(t,e,n,s){return new Promise(((a,o)=>{const r="string"==typeof n?i[n]:n,h=t.getThumbnailOptions(e.data,r,r);Autodesk.Viewing.Document.requestThumbnailWithSecurity(h,((i,t)=>{if(i)return void o("Error requesting thumbnail");const e=window.URL||window.webkitURL;s[n]=e.createObjectURL(t),a()}))}))}(this.document,this.node,t,this.backgroundImgs)));return Promise.all(e)}_isTouch(){return Autodesk.Viewing.isTouchDevice()}addListeners(){this._isTouch()&&(this.minimapCanvas.addListenerToCanvas("touchstart",this.onMouseDown),this.minimapCanvas.addListenerToCanvas("touchmove",this.onMouseMove),this.minimapCanvas.addListenerToCanvas("touchend",this.onMouseUp)),this.isMobile||(this.minimapCanvas.addListenerToCanvas("mousedown",this.onMouseDown),this.minimapCanvas.addListenerToCanvas("mousemove",this.onMouseMove),this.minimapCanvas.addListenerToCanvas("mouseup",this.onMouseUp),this.minimapCanvas.addListenerToCanvas("mouseleave",this.onMouseLeave),this.minimapCanvas.addListenerToCanvas("mousewheel",this.onMouseWheel),this.minimapCanvas.addListenerToCanvas("DOMMouseScroll",this.onMouseWheel)),this.viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT,this.onCameraChange),this.panel.addListenerToCloseButton(this.onCloseButton)}onCloseButton(){this.viewer.prefs.set(A,!1),this.setEnabled(!1)}getCursorPositionOnCanvas(i){const t=this.minimapCanvas.getBoundingClientRect();return{x:i.clientX-t.left,y:i.clientY-t.top}}onMouseDown(i){"touchstart"===i.type&&(i.clientX=i.touches[0].clientX,i.clientY=i.touches[0].clientY),this.mouseDown=!0,this.mouseDownPos.x=i.clientX,this.mouseDownPos.y=i.clientY,this.onMinimapClicked(i,!1),this.isTransitionInactive=!1}onMouseMove(i){this.mouseDown&&("touchmove"===i.type&&(i.clientX=i.touches[0].clientX,i.clientY=i.touches[0].clientY),(this.isTransitionInactive||Math.abs(this.mouseDownPos.x-i.clientX)>5||Math.abs(this.mouseDownPos.y-i.clientY)>5)&&(void 0!==this.viewer.autocam.elapsedTime&&(this.viewer.autocam.elapsedTime=this.viewer.autocam.shotParams.duration,this.isTransitionInactive=!0),this.onMinimapClicked(i,!0)))}onMouseWheel(i){this.viewer.toolController.mousewheel(i)}onMouseUp(){this.resetMove()}onMouseLeave(){this.resetMove()}resetMove(){this.mouseDown=!1,this.mouseDownPos.x=null,this.mouseDownPos.y=null}onMinimapClicked(i,t){const e=this.minimapToModelCoords(this.getCursorPositionOnCanvas(i)),n=this.viewer.navigation.getTarget(),s=this.viewer.navigation.getPosition(),a=n.clone().sub(s),o=new THREE.Vector3(e.x,e.y,s.z),r=o.clone().add(a);t?this.viewer.navigation.setView(o,r):this.viewer.navigation.setRequestTransitionWithUp(!0,o,r,this.viewer.impl.camera.fov,this.viewer.impl.camera.up),this.viewer.navigation.setPivotPoint(r),this.viewer.navigation.setPivotSetFlag(!0)}highlightCurrentArea(i,t){this.minimapCanvas.drawHighlight(i,t)}modelToMinimapCoords(i){return{x:(i.x-this.modelStartPoint.x)*this.minimapCanvas.width/this.modelWidth,y:-(i.y-this.modelStartPoint.y-this.modelHeight)*this.minimapCanvas.height/this.modelHeight}}minimapToModelCoords(i){return{x:i.x*this.modelWidth/this.minimapCanvas.width+this.modelStartPoint.x,y:-i.y*this.modelHeight/this.minimapCanvas.height+this.modelHeight+this.modelStartPoint.y}}_setVisibility(i,t){this.panel&&this.panel.setVisible(this._isEnabled&&i,t)}getViewableArea(){let i=this.modelBBox.clone();const t=this.viewer.impl.camera.left+this.viewer.impl.camera.position.x,e=this.viewer.impl.camera.right+this.viewer.impl.camera.position.x,n=this.viewer.impl.camera.bottom+this.viewer.impl.camera.position.y,s=this.viewer.impl.camera.top+this.viewer.impl.camera.position.y;return t>i.min.x+this.epsX&&(i.min.x=t),e<i.max.x-this.epsX&&(i.max.x=e),n>i.min.y+this.epsY&&(i.min.y=n),s<i.max.y-this.epsY&&(i.max.y=s),i}updateSettingsPanel(){let i=this.viewer.getSettingsPanel&&this.viewer.getSettingsPanel();if(!i||i.is3dMode||i.minimapSettingsCheckboxId)return;const t=Autodesk.Viewing.Extensions.ViewerSettingTab.Navigation;i.minimapSettingsLabel=i.addLabel(t,"Minimap"),i.minimapSettingsCheckboxId=i.addCheckbox(t,"Show minimap","Toggles availability of the Minimap",!0,this.setEnabled,A)}load(){return this.viewer.addEventListener(Autodesk.Viewing.MODEL_ADDED_EVENT,this.update),this.viewer.addEventListener(Autodesk.Viewing.MODEL_REMOVED_EVENT,this.update),this.viewer.addEventListener(Autodesk.Viewing.SETTINGS_PANEL_CREATED_EVENT,this.updateSettingsPanel),this.viewer.prefs.add(A,!0,"2d"),this.updateSettingsPanel(),this.update(),!0}unload(){return this.minimapCanvas&&(this._isTouch()&&(this.minimapCanvas.removeListenerFromCanvas("touchstart",this.onMouseDown),this.minimapCanvas.removeListenerFromCanvas("touchmove",this.onMouseMove),this.minimapCanvas.removeListenerFromCanvas("touchend",this.onMouseUp)),this.isMobile||(this.minimapCanvas.removeListenerFromCanvas("mousedown",this.onMouseDown),this.minimapCanvas.removeListenerFromCanvas("mousemove",this.onMouseMove),this.minimapCanvas.removeListenerFromCanvas("mouseup",this.onMouseUp),this.minimapCanvas.removeListenerFromCanvas("mouseleave",this.onMouseLeave),this.minimapCanvas.removeListenerFromCanvas("mousewheel",this.onMouseWheel),this.minimapCanvas.removeListenerFromCanvas("DOMMouseScroll",this.onMouseWheel)),this.minimapCanvas.unload(),this.minimapCanvas=null),this.viewer.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT,this.onCameraChange),this.viewer.removeEventListener(Autodesk.Viewing.MODEL_ADDED_EVENT,this.update),this.viewer.removeEventListener(Autodesk.Viewing.MODEL_REMOVED_EVENT,this.update),this.viewer.removeEventListener(Autodesk.Viewing.SETTINGS_PANEL_CREATED_EVENT,this.updateSettingsPanel),this.destroyUI(),this.model=null,this.document=null,this.node=null,!0}update(){this.wasInit=!1,this.findAndSetSuitableModel()?this.setEnabled(this.viewer.prefs&&this.viewer.prefs.get(A)):this.setEnabled(!1)}onCameraChange(i){const t=this.getViewableArea(),e=!t.equals(this.modelBBox);this._setVisibility(e,i),e&&this.minimapCanvas&&this.highlightCurrentArea(this.modelToMinimapCoords(t.min),this.modelToMinimapCoords(t.max))}destroyUI(){let i=this.viewer.getSettingsPanel&&this.viewer.getSettingsPanel();i&&i.minimapSettingsCheckboxId&&(this.viewer.viewerSettingsPanel.removeCheckbox(i.minimapSettingsCheckboxId),this.viewer.viewerSettingsPanel.removeControl(i.minimapSettingsLabel),i.minimapSettingsLabel=null,i.minimapSettingsCheckboxId=null),this.panel&&(this.panel.uninitialize(),this.panel=null)}}E.MinimapExtension=k,Autodesk.Viewing.theExtensionManager.registerExtension("Autodesk.BIM360.Minimap",k)})(),Autodesk.Extensions.Minimap2D=n})();
//# sourceMappingURL=Minimap2D.min.js.map