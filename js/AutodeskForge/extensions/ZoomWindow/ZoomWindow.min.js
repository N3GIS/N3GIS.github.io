/*!
 * LMV v7.105.0
 *
 * Copyright 2025 Autodesk, Inc.
 * All rights reserved.
 *
 * This computer source code and related instructions and comments are the
 * unpublished confidential and proprietary information of Autodesk, Inc.
 * and are protected under Federal copyright and state trade secret law.
 * They may not be disclosed to, copied or used by any third party without
 * the prior written consent of Autodesk, Inc.
 *
 * Autodesk Viewer SDK Usage Limitations:
 *
 * The Autodesk Viewer SDK JavaScript must be delivered from an
 * Autodesk-hosted URL.
 */(()=>{var A={9684:(A,e,t)=>{"use strict";t.d(e,{A:()=>r});var o=t(1354),i=t.n(o),n=t(6314),s=t.n(n)()(i());s.push([A.id,'@font-face{font-family:"zoomwindowtool";src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAWwAAsAAAAABWQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIFKmNtYXAAAAFoAAAAVAAAAFQXVtKHZ2FzcAAAAbwAAAAIAAAACAAAABBnbHlmAAABxAAAAVQAAAFUGr5W0GhlYWQAAAMYAAAANgAAADYLLmLJaGhlYQAAA1AAAAAkAAAAJAevA8ZobXR4AAADdAAAABQAAAAUCgAAK2xvY2EAAAOIAAAADAAAAAwAKAC+bWF4cAAAA5QAAAAgAAAAIAAUAGVuYW1lAAADtAAAAdoAAAHawO5e5HBvc3QAAAWQAAAAIAAAACAAAwAAAAMDAAGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6QADwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADgAAAAKAAgAAgACAAEAIOkA//3//wAAAAAAIOkA//3//wAB/+MXBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAADgAr/74D7QOAABQAKAAsADAANAA5AD8AQwBIAE4AUgBXAF0AYgAABSIuAjU0PgIzMh4CFRQOAiMRIg4CFRQeAjMyPgI1NC4CEzcXBwEzESMnIRUhAyM1MxUhIzUzFTMnIzUzNSM1MxURIzUzFSMhIzUzBSM1MxUFIzUjNTMRIzUzFQKrP21QLy9QbT8+bVEuLlFtPixMOCEhOEwsK0w5ISE5TGg2eTb+1jw8YgEA/wBWqqr+1oAqVlYqKioqKoBWAoCqqv8AqqoCACpWgCoqKy9RbT4+bVEvL1FtPj5tUS8B/CE5TCsrTDkhITlMKytMOSH+ZjZ5NgHC/wCePP7zKyuAVdWrVaurASuAKysrKytVVSv+VaurAAEAAAABAAD/0i17Xw889QALBAAAAAAA1BEPRwAAAADUEQ9HAAD/vgPtA4AAAAAIAAIAAAAAAAAAAQAAA8D/wAAABAAAAAAAA+0AAQAAAAAAAAAAAAAAAAAAAAUEAAAAAAAAAAAAAAACAAAABAAAKwAAAAAACgAUAB4AqgABAAAABQBjAA4AAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEADgAAAAEAAAAAAAIABwCfAAEAAAAAAAMADgBLAAEAAAAAAAQADgC0AAEAAAAAAAUACwAqAAEAAAAAAAYADgB1AAEAAAAAAAoAGgDeAAMAAQQJAAEAHAAOAAMAAQQJAAIADgCmAAMAAQQJAAMAHABZAAMAAQQJAAQAHADCAAMAAQQJAAUAFgA1AAMAAQQJAAYAHACDAAMAAQQJAAoANAD4em9vbXdpbmRvd3Rvb2wAegBvAG8AbQB3AGkAbgBkAG8AdwB0AG8AbwBsVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwem9vbXdpbmRvd3Rvb2wAegBvAG8AbQB3AGkAbgBkAG8AdwB0AG8AbwBsem9vbXdpbmRvd3Rvb2wAegBvAG8AbQB3AGkAbgBkAG8AdwB0AG8AbwBsUmVndWxhcgBSAGUAZwB1AGwAYQByem9vbXdpbmRvd3Rvb2wAegBvAG8AbQB3AGkAbgBkAG8AdwB0AG8AbwBsRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==);font-weight:normal;font-style:normal}.adsk-viewing-viewer [class^=zoomwindowtoolicon-],.adsk-viewing-viewer [class^=zoomwindowtoolicon-]:before,[class*=" zoomwindowtoolicon-"],[class*=" zoomwindowtoolicon-"]:before{font-family:"zoomwindowtool" !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.adsk-viewing-viewer .zoomwindowtoolicon-zoom-window:before{content:"\\e900"}',"",{version:3,sources:["webpack://./extensions/ZoomWindow/ZoomWindow.css"],names:[],mappings:"AAAA,WAAW,4BAA4B,CAAC,i9DAAi9D,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,kLAAkL,uCAAuC,CAAC,UAAU,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,aAAa,CAAC,kCAAkC,CAAC,iCAAiC,CAAC,4DAA4D,eAAe",sourcesContent:['@font-face{font-family:"zoomwindowtool";src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAWwAAsAAAAABWQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIFKmNtYXAAAAFoAAAAVAAAAFQXVtKHZ2FzcAAAAbwAAAAIAAAACAAAABBnbHlmAAABxAAAAVQAAAFUGr5W0GhlYWQAAAMYAAAANgAAADYLLmLJaGhlYQAAA1AAAAAkAAAAJAevA8ZobXR4AAADdAAAABQAAAAUCgAAK2xvY2EAAAOIAAAADAAAAAwAKAC+bWF4cAAAA5QAAAAgAAAAIAAUAGVuYW1lAAADtAAAAdoAAAHawO5e5HBvc3QAAAWQAAAAIAAAACAAAwAAAAMDAAGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6QADwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADgAAAAKAAgAAgACAAEAIOkA//3//wAAAAAAIOkA//3//wAB/+MXBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAADgAr/74D7QOAABQAKAAsADAANAA5AD8AQwBIAE4AUgBXAF0AYgAABSIuAjU0PgIzMh4CFRQOAiMRIg4CFRQeAjMyPgI1NC4CEzcXBwEzESMnIRUhAyM1MxUhIzUzFTMnIzUzNSM1MxURIzUzFSMhIzUzBSM1MxUFIzUjNTMRIzUzFQKrP21QLy9QbT8+bVEuLlFtPixMOCEhOEwsK0w5ISE5TGg2eTb+1jw8YgEA/wBWqqr+1oAqVlYqKioqKoBWAoCqqv8AqqoCACpWgCoqKy9RbT4+bVEvL1FtPj5tUS8B/CE5TCsrTDkhITlMKytMOSH+ZjZ5NgHC/wCePP7zKyuAVdWrVaurASuAKysrKytVVSv+VaurAAEAAAABAAD/0i17Xw889QALBAAAAAAA1BEPRwAAAADUEQ9HAAD/vgPtA4AAAAAIAAIAAAAAAAAAAQAAA8D/wAAABAAAAAAAA+0AAQAAAAAAAAAAAAAAAAAAAAUEAAAAAAAAAAAAAAACAAAABAAAKwAAAAAACgAUAB4AqgABAAAABQBjAA4AAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEADgAAAAEAAAAAAAIABwCfAAEAAAAAAAMADgBLAAEAAAAAAAQADgC0AAEAAAAAAAUACwAqAAEAAAAAAAYADgB1AAEAAAAAAAoAGgDeAAMAAQQJAAEAHAAOAAMAAQQJAAIADgCmAAMAAQQJAAMAHABZAAMAAQQJAAQAHADCAAMAAQQJAAUAFgA1AAMAAQQJAAYAHACDAAMAAQQJAAoANAD4em9vbXdpbmRvd3Rvb2wAegBvAG8AbQB3AGkAbgBkAG8AdwB0AG8AbwBsVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwem9vbXdpbmRvd3Rvb2wAegBvAG8AbQB3AGkAbgBkAG8AdwB0AG8AbwBsem9vbXdpbmRvd3Rvb2wAegBvAG8AbQB3AGkAbgBkAG8AdwB0AG8AbwBsUmVndWxhcgBSAGUAZwB1AGwAYQByem9vbXdpbmRvd3Rvb2wAegBvAG8AbQB3AGkAbgBkAG8AdwB0AG8AbwBsRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==);font-weight:normal;font-style:normal}.adsk-viewing-viewer [class^=zoomwindowtoolicon-],.adsk-viewing-viewer [class^=zoomwindowtoolicon-]:before,[class*=" zoomwindowtoolicon-"],[class*=" zoomwindowtoolicon-"]:before{font-family:"zoomwindowtool" !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.adsk-viewing-viewer .zoomwindowtoolicon-zoom-window:before{content:"\\e900"}'],sourceRoot:""}]);const r=s},6314:A=>{"use strict";A.exports=function(A){var e=[];return e.toString=function(){return this.map((function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=A(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(A,t,o,i,n){"string"==typeof A&&(A=[[null,A,void 0]]);var s={};if(o)for(var r=0;r<this.length;r++){var a=this[r][0];null!=a&&(s[a]=!0)}for(var l=0;l<A.length;l++){var c=[].concat(A[l]);o&&s[c[0]]||(void 0!==n&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=n),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),e.push(c))}},e}},1354:A=>{"use strict";A.exports=function(A){var e=A[1],t=A[3];if(!t)return e;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),n="/*# ".concat(i," */");return[e].concat([n]).join("\n")}return[e].join("\n")}},5072:A=>{"use strict";var e=[];function t(A){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===A){t=o;break}return t}function o(A,o){for(var n={},s=[],r=0;r<A.length;r++){var a=A[r],l=o.base?a[0]+o.base:a[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=t(u),m={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==d)e[d].references++,e[d].updater(m);else{var h=i(m,o);o.byIndex=r,e.splice(r,0,{identifier:u,updater:h,references:1})}s.push(u)}return s}function i(A,e){var t=e.domAPI(e);t.update(A);return function(e){if(e){if(e.css===A.css&&e.media===A.media&&e.sourceMap===A.sourceMap&&e.supports===A.supports&&e.layer===A.layer)return;t.update(A=e)}else t.remove()}}A.exports=function(A,i){var n=o(A=A||[],i=i||{});return function(A){A=A||[];for(var s=0;s<n.length;s++){var r=t(n[s]);e[r].references--}for(var a=o(A,i),l=0;l<n.length;l++){var c=t(n[l]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}n=a}}},7659:A=>{"use strict";var e={};A.exports=function(A,t){var o=function(A){if(void 0===e[A]){var t=document.querySelector(A);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(A){t=null}e[A]=t}return e[A]}(A);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},540:A=>{"use strict";A.exports=function(A){var e=document.createElement("style");return A.setAttributes(e,A.attributes),A.insert(e,A.options),e}},5056:(A,e,t)=>{"use strict";A.exports=function(A){var e=t.nc;e&&A.setAttribute("nonce",e)}},7825:A=>{"use strict";A.exports=function(A){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=A.insertStyleElement(A);return{update:function(t){!function(A,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var i=void 0!==t.layer;i&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,i&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var n=t.sourceMap;n&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),e.styleTagTransform(o,A,e.options)}(e,A,t)},remove:function(){!function(A){if(null===A.parentNode)return!1;A.parentNode.removeChild(A)}(e)}}}},1113:A=>{"use strict";A.exports=function(A,e){if(e.styleSheet)e.styleSheet.cssText=A;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(A))}}}},e={};function t(o){var i=e[o];if(void 0!==i)return i.exports;var n=e[o]={id:o,exports:{}};return A[o](n,n.exports,t),n.exports}t.n=A=>{var e=A&&A.__esModule?()=>A.default:()=>A;return t.d(e,{a:e}),e},t.d=(A,e)=>{for(var o in e)t.o(e,o)&&!t.o(A,o)&&Object.defineProperty(A,o,{enumerable:!0,get:e[o]})},t.o=(A,e)=>Object.prototype.hasOwnProperty.call(A,e),t.r=A=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})},t.nc=void 0;var o={};(()=>{"use strict";t.r(o),t.d(o,{default:()=>E});class A{constructor(A){this._names=["zoomwindow"],this._isActive=!1,this._isDragging=!1,this._mouseStart=new THREE.Vector3(0,0,-10),this._mouseEnd=new THREE.Vector3(0,0,-10),this.materialLine=null,this.lineGeom=null,this.crossGeomX=null,this.crossGeomY=null,this.rectGroup=null,this.viewer=A,this._camera=this.viewer.navigation.getCamera()}isActive(){return this._isActive}getNames(){return this._names}getName(){return this._names[0]}onResize(){this.rectGroup=null;var A=this.viewer.canvas,e=A.clientWidth,t=A.clientHeight,o=new THREE.OrthographicCamera(0,e,0,t,1,1e3);this.viewer.impl.overlayScenes.ZoomWindowRect.camera=o}activate(A){if(this._isActive=!0,null===this.materialLine){var e=null;e=this.viewer.navigation.getIs2D()?new THREE.Color(0):new THREE.Color(16777215),this.materialLine=new THREE.LineBasicMaterial({color:e,opacity:.6,linewidth:1,depthTest:!1,depthWrite:!1}),this.materialLine.doNotCut=!0}var t=this.viewer.canvas,o=t.clientWidth,i=t.clientHeight,n=new THREE.OrthographicCamera(0,o,0,i,1,1e3);this.viewer.impl.createOverlayScene("ZoomWindowRect",this.materialLine,this.materialLine,n),this.onResizeBinded=this.onResize.bind(this),this.viewer.impl.api.addEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT,this.onResizeBinded),this.viewer.toolController.getTool("dolly").activate("orbit")}deactivate(A){this.rectGroup=null,this.viewer.impl.removeOverlayScene("ZoomWindowRect"),this._isActive=!1,this._isDragging=!1,this._mouseStart.set(0,0,-10),this._mouseEnd.set(0,0,-10),this.viewer.impl.api.removeEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT,this.onResizeBinded),this.viewer.toolController.getTool("dolly").deactivate("orbit")}getCursor(){switch(this.viewer.toolController.getTool("dolly").getTriggeredMode()){case"dolly":return"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAgVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8mJiYAAADNzc2/v7+fn59paWlPT08MDAwICAj6+vqpqak7Ozv29vby8vLp6em2traAgIBkZGRZWVlAQEAaGhpISEgkS7tbAAAAFHRSTlMAOvhpZD8mkQWegMy9qY1YVE01EYiqlE0AAADZSURBVCjPbY9ZloMgEAAbEbfsmRZZXbJn7n/AAX2RQVN/VD26AXLOeZLDGo6IbfI9tHq8cdxuj1HwvgCoaiHqKoRk+M3hB9jueUW8PnfsE/bJ3vms7nCkq7NoE3s99AXxoh8vFoXCpknrn5faAuJCenT0xPkYqnxQFJaU0gdZrsKm8aHZrAIffBj40mc1jsTfIJRWegq6opTMvlfqLqYg7kr1ZB7jFgeaMC59N//8O4WZ1IiPF8b5wMHcJn8zB4g4mc77zpxgAbMSUVoGK4iV0hL4wrksz+H0Bw5+E+HrniDQAAAAAElFTkSuQmCC), auto";case"pan":return"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAABHVBMVEUAAABPTk4AAAAAAAAJCQkRERE0MzQQEBAODg4QEBB4d3dbWlo9PDw/Pj4vLy8sLCwZGBgWFhYcHBwKCgoSEhIAAAAKCgoICAgKCgoQEBAODg4EBAQICAgPDw8REREMDAx2dnY0NDQvLy9QUFAaGhomJSYjIyM7OjokJCQNDA0mJiYNDQ0AAAAUFBQJCQkQEBAEBAQNDQ0PDw8VFRX///+amJkAAAD5+fnz8/PKycn9/f339vbi4eLR0dDNzMyAgIB8e3xycHH7+/vw7+/o6OjX1ta7urq4t7iwsLCnp6eioqKbmppva21OTk74+Pjl5eXc3Nzb29vLy8vDw8PDwsKrqqqdnZ2WlpaSkpKTkZKMiouEg4NkZGRISEgxLzBpgbsEAAAANHRSTlMA+fiQXgngKSYG/vX17uvBuqackpCNg3BpUkpAPBwTDvj18+vl0s/NwrOwoZZ+TDg4NBkBGrzX8QAAAP5JREFUKM99j9Vuw0AQRdeuKZyGkyZNmbnXDLHDVGb8/8/oy7paK1bO0+oc7WiGnGiaxq+QRTQAOh8f9Jv4H/Ge8PZPrCdlvkxfYluUT2WyyCq3mZ7unwlKVLcqOzA/Mf71j0TWJ/Ym6rPeca05Ni4iIevYc7yoUD2zQFhq71BdI9nvBeBabFDSPe8DswlUc1Riw3VxbH0NHBUPQ0jrbDnPYDjALQBMq9E7nkC5y7VDKTZlUg8Q0lmjvl74zlYErgvKa42GPKf3/a0kQmYCDY1SYMDosqMoiWrGwz/uAbNvc/fNon4kXRKGq+PUo2Mb96afV0iUxqGU2s4VBbKUP65NL/LKF+7ZAAAAAElFTkSuQmCC), auto"}return"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAADWSURBVEiJ1ZVNEsIwCEYfTg/UjTPuemcvojfCRRMlNKGdKguZyaLkK4/8EERVybQJQERCUU3C63p+n/Bk9QHDRtbIX2GqKh6woRfxLdL0/M1KzYRaA+7AXDW9wN5fvrXEWud6AOABLD7QwREDgCdw7WV6ZjSAsi0Lzn4JmEcHeHbYWxQXw3FTEWmvaWY1X9Iie4CIKHE1fwfIsnSAZD/X/79FGbdISyzA9QMDG3axTTTVwx3NaNbm5B2dRHY1DWCUyd4qIs0bUB8nuz32/11Cu+KPM7sOXlrOS4sOkzb1AAAAAElFTkSuQmCC), auto"}handleGesture(A){switch(A.type){case"dragstart":return this.handleButtonDown(A,0);case"dragmove":return this.handleMouseMove(A);case"dragend":return this.handleButtonUp(A,0)}return!1}startDrag(A){if(!1===this._isDragging){if(this._isDragging=!0,this._mouseStart.x=A.canvasX,this._mouseStart.y=A.canvasY,this._mouseEnd.x=A.canvasX,this._mouseEnd.y=A.canvasY,null===this.rectGroup){this.lineGeom=new THREE.Geometry,this.lineGeom.isLines=!0,this.lineGeom.vertices.push(this._mouseStart.clone(),this._mouseStart.clone(),this._mouseStart.clone(),this._mouseStart.clone(),this._mouseStart.clone()),this.crossGeomX=new THREE.Geometry,this.crossGeomX.isLines=!0,this.crossGeomX.vertices.push(this._mouseStart.clone(),this._mouseStart.clone()),this.crossGeomY=new THREE.Geometry,this.crossGeomY.isLines=!0,this.crossGeomY.vertices.push(this._mouseStart.clone(),this._mouseStart.clone());var e=new THREE.Line(this.lineGeom,this.materialLine,THREE.LineStrip),t=new THREE.Line(this.crossGeomX,this.materialLine,THREE.LineStrip),o=new THREE.Line(this.crossGeomY,this.materialLine,THREE.LineStrip);this.rectGroup=new THREE.Group,this.rectGroup.add(e),this.rectGroup.add(t),this.rectGroup.add(o)}else this.lineGeom.vertices[0]=this._mouseStart.clone(),this.lineGeom.vertices[1]=this._mouseStart.clone(),this.lineGeom.vertices[2]=this._mouseStart.clone(),this.lineGeom.vertices[3]=this._mouseStart.clone(),this.lineGeom.vertices[4]=this._mouseStart.clone(),this.crossGeomX.vertices[0]=this._mouseStart.clone(),this.crossGeomX.vertices[1]=this._mouseStart.clone(),this.crossGeomY.vertices[0]=this._mouseStart.clone(),this.crossGeomY.vertices[1]=this._mouseStart.clone(),this.crossGeomX.verticesNeedUpdate=!0,this.crossGeomY.verticesNeedUpdate=!0,this.lineGeom.verticesNeedUpdate=!0;this.viewer.impl.addOverlay("ZoomWindowRect",this.rectGroup)}}handleButtonDown(A,e){return 0===e&&(this.startDrag(A),!0)}handleMouseMove(A){return!(!this.lineGeom||!this._isDragging)&&(this._mouseEnd.x=A.canvasX,this._mouseEnd.y=A.canvasY,!0)}endDrag(A){!0===this._isDragging&&(this.viewer.impl.removeOverlay("ZoomWindowRect",this.rectGroup),this._isDragging=!1)}handleButtonUp(A,e){return 0===e&&(this.endDrag(),!0)}handleKeyDown(A,e){return!1}handleKeyUp(A,e){return!1}handleWheelInput(A){return!1}handleSingleClick(A,e){return!1}handleDoubleClick(A,e){return!1}handleSingleTap(A){return!1}handleDoubleTap(A){return!1}handleBlur(A){return!1}update(){if(this.isActive()){if(!this.lineGeom||!this._isDragging)return this.zoomWindow();this.lineGeom.vertices[1].x=this._mouseStart.x,this.lineGeom.vertices[1].y=this._mouseEnd.y,this.lineGeom.vertices[2]=this._mouseEnd.clone(),this.lineGeom.vertices[3].x=this._mouseEnd.x,this.lineGeom.vertices[3].y=this._mouseStart.y,this.lineGeom.vertices[4]=this.lineGeom.vertices[0];var A=Math.abs(this._mouseEnd.x-this._mouseStart.x),e=Math.abs(this._mouseEnd.y-this._mouseStart.y),t=A>e?e:A;t>20&&(t=20);var o=.5*t,i=[.5*(this._mouseEnd.x+this._mouseStart.x),.5*(this._mouseEnd.y+this._mouseStart.y)];return this.crossGeomX.vertices[0].x=i[0]-o,this.crossGeomX.vertices[0].y=i[1],this.crossGeomX.vertices[1].x=i[0]+o,this.crossGeomX.vertices[1].y=i[1],this.crossGeomY.vertices[0].x=i[0],this.crossGeomY.vertices[0].y=i[1]-o,this.crossGeomY.vertices[1].x=i[0],this.crossGeomY.vertices[1].y=i[1]+o,this.crossGeomX.verticesNeedUpdate=!0,this.crossGeomY.verticesNeedUpdate=!0,this.lineGeom.verticesNeedUpdate=!0,this.viewer.impl.invalidate(!1,!1,!0),!1}}getPivot(A,e,t,o,i){A=2*A/t-1,e=1-2*e/o;var n=new THREE.Vector3(A,e,-1),s=new THREE.Vector3(A,e,1);n.unproject(i),s.unproject(i),s.sub(n);var r=i.position,a=i.target,l=a.clone().sub(r).normalize(),c=(l.dot(a)-l.dot(n))/l.dot(s);return n.add(s.multiplyScalar(c)),n}queryMouseRaySceneIntersection(A,e){if(null==this.viewer)return null;if(null==this.viewer.model)return null;if(this.viewer.model.is2d())return null;var t=this.viewer.impl.hitTest(A,e,!1);return t?t.intersectPoint:null}zoomWindow(){var A=this._camera,e=this.viewer.canvas.clientWidth,t=this.viewer.canvas.clientHeight,o=this._mouseStart.x,i=this._mouseStart.y,n=this._mouseEnd.x,s=this._mouseEnd.y,r=Math.abs(n-o),a=Math.abs(s-i);if(0===r||0===a)return!1;if(this._mouseEnd.copy(this._mouseStart),this.viewer.navigation.getIs2D()){var l={x:.5*(o+n),y:.5*(i+s)},c=this.viewer.navigation.getEyeVector().length(),u=this.viewer.impl.clientToViewport(l.x,l.y),d=this.viewer.impl.clientToViewport(e/2,t/2);u.subVectors(u,d),this.viewer.navigation.panRelative(u.x/2,u.y/2,c);var m=r/e,h=a/t,v=m>h?m:h;c=this.viewer.navigation.getEyeVector().length();var w=this.viewer.navigation.getWorldPoint(.5,.5);return this.viewer.navigation.dollyFromPoint(c*(v-1),w),!0}var g=null,B=.5*(o+n),E=.5*(i+s);null===(g=this.queryMouseRaySceneIntersection(B,E))&&(g=this.getPivot(B,E,e,t,this._camera));var p=A.position,C=A.target.clone().sub(p);C.normalize();var b=Math.min(e/r,t/a),f=1*g.distanceTo(p)/b;return C.multiplyScalar(-f),C.add(g),A.position.set(C.x,C.y,C.z),A.target.set(g.x,g.y,g.z),A.dirty=!0,!0}}var e=t(5072),i=t.n(e),n=t(7825),s=t.n(n),r=t(7659),a=t.n(r),l=t(5056),c=t.n(l),u=t(540),d=t.n(u),m=t(1113),h=t.n(m),v=t(9684),w={};w.styleTagTransform=h(),w.setAttributes=c(),w.insert=a().bind(null,"head"),w.domAPI=s(),w.insertStyleElement=d();i()(v.A,w);v.A&&v.A.locals&&v.A.locals;const g=Autodesk.Viewing,B=AutodeskNamespace("Autodesk.Viewing.Extensions.ZoomWindow");class E extends g.Extension{constructor(A,e){super(A,e),this.name="zoomwindow",this.modes=["zoomwindow","dolly"]}load(){var e=this.viewer;return this.tool=new A(e),e.toolController.registerTool(this.tool),!0}onToolbarCreated(A){var e=A.getControl(Autodesk.Viewing.TOOLBAR.NAVTOOLSID);if(e&&e.dollybutton){var t=this;e.removeControl(e.dollybutton.getId()),this.defaultDollyButton=e.dollybutton,this.zoomWindowToolButton=new Autodesk.Viewing.UI.ComboButton("toolbar-zoomTools"),this.zoomWindowToolButton.setIcon("zoomwindowtoolicon-zoom-window"),this.zoomWindowToolButton.setToolTip("Zoom window"),this.createZoomSubmenu(this.zoomWindowToolButton),e.addControl(this.zoomWindowToolButton);var o=[{keycodes:[Autodesk.Viewing.KeyCode.ESCAPE],onRelease:function(){t.zoomWindowToolButton.getState()===Autodesk.Viewing.UI.Button.State.ACTIVE&&(t.viewer.setActiveNavigationTool(),t.zoomWindowToolButton.setState(Autodesk.Viewing.UI.Button.State.INACTIVE))}}];this.viewer.getHotkeyManager().pushHotkeys(this.escapeHotkeyId,o)}}destroyUI(){var A=this.viewer;if(this.zoomWindowToolButton){var e=A.getToolbar(),t=e&&e.getControl(Autodesk.Viewing.TOOLBAR.NAVTOOLSID);t&&(this.zoomWindowToolButton.subMenu.removeEventListener(Autodesk.Viewing.UI.RadioButtonGroup.Event.ACTIVE_BUTTON_CHANGED,this.zoomWindowToolButton.subMenuActiveButtonChangedHandler(t)),t.removeControl(this.zoomWindowToolButton.getId()),t.panbutton&&this.defaultDollyButton?t.addControl(this.defaultDollyButton):this.defaultDollyButton=null),this.zoomWindowToolButton=null}A.getHotkeyManager().popHotkeys(this.escapeHotkeyId)}createZoomSubmenu(A){var e=function(A,e,t){return function(){var o=e.getState();o===Autodesk.Viewing.UI.Button.State.INACTIVE?(A.activate(t),e.setState(Autodesk.Viewing.UI.Button.State.ACTIVE)):o===Autodesk.Viewing.UI.Button.State.ACTIVE&&(A.deactivate(),e.setState(Autodesk.Viewing.UI.Button.State.INACTIVE))}},t=new Autodesk.Viewing.UI.Button("toolbar-zoomWindowTool");t.setToolTip(Autodesk.Viewing.i18n.translate("Zoom window")),t.setIcon("zoomwindowtoolicon-zoom-window"),t.onClick=e(this,t,"zoomwindow"),A.addControl(t);var o=new Autodesk.Viewing.UI.Button("toolbar-zoomTool");o.setToolTip("Zoom"),o.setIcon("adsk-icon-zoom"),o.onClick=e(this,o,"dolly"),A.addControl(o)}unload(){var A=this.viewer;return"dolly"!==A.getActiveNavigationTool()&&"zoomwindow"!==A.getActiveNavigationTool()||A.setActiveNavigationTool(),this.destroyUI(),A.toolController.deregisterTool(this.tool),this.tool=null,!0}activate(A){if(!this.activeStatus||this.mode!==A){switch(A){default:case"zoomwindow":this.viewer.setActiveNavigationTool("zoomwindow"),this.mode="zoomwindow";break;case"dolly":this.viewer.setActiveNavigationTool("dolly"),this.mode="dolly"}return this.activeStatus=!0,!0}}deactivate(){return this.activeStatus&&(this.viewer.setActiveNavigationTool(),this.activeStatus=!1),!0}}B.ZoomWindow=E,Autodesk.Viewing.theExtensionManager.registerExtension("Autodesk.Viewing.ZoomWindow",E)})(),Autodesk.Extensions.ZoomWindow=o})();
//# sourceMappingURL=ZoomWindow.min.js.map