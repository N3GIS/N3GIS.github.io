/*!
 * LMV v7.105.0
 *
 * Copyright 2025 Autodesk, Inc.
 * All rights reserved.
 *
 * This computer source code and related instructions and comments are the
 * unpublished confidential and proprietary information of Autodesk, Inc.
 * and are protected under Federal copyright and state trade secret law.
 * They may not be disclosed to, copied or used by any third party without
 * the prior written consent of Autodesk, Inc.
 *
 * Autodesk Viewer SDK Usage Limitations:
 *
 * The Autodesk Viewer SDK JavaScript must be delivered from an
 * Autodesk-hosted URL.
 */(()=>{var e={8070:e=>{e.exports.l="mouseTracking"},2240:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(1354),s=i.n(n),a=i(6314),r=i.n(a)()(s());r.push([e.id,'@font-face{font-family:"calibration-icon";src:url("data:application/octet-stream;base64,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") format("woff");font-weight:normal;font-style:normal}[class^=calibration-icon],[class*=" calibration-icon"]{font-family:"calibration-icon";font-style:normal;font-weight:normal;font-variant:normal;line-height:1;padding-top:2px;speak:none;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.adsk-viewing-viewer .calibration-icon:before{content:"a"}.adsk-viewing-viewer .calibration-panel{left:calc(50% - 190px);top:calc(50% - 145px);width:380px;height:auto;z-index:4}.adsk-viewing-viewer .calibration-panel .calibration-table{padding-left:24px;padding-right:24px;margin-top:12px;margin-bottom:12px;box-sizing:border-box}.adsk-viewing-viewer .measure-settings-popup .option-drop-down,.adsk-viewing-viewer .calibration-panel .option-drop-down{width:100%;padding-right:0px;box-sizing:border-box}.adsk-viewing-viewer .measure-settings-popup .adsk-lmv-tftable tr td,.adsk-viewing-viewer .calibration-panel .adsk-lmv-tftable tr td{width:auto;padding:2px 0px 2px 0px;height:56px;font-size:14px}.adsk-viewing-viewer .calibration-panel .adsk-lmv-tftable tr td div{padding:0px}.adsk-viewing-viewer .calibration-panel .adsk-lmv-tftable tr td input{margin:0px;box-sizing:border-box;width:100%;height:36px;font-size:14px}.adsk-viewing-viewer .calibration-panel .adsk-lmv-tftable tr td select{height:36px;font-size:14px}.adsk-viewing-viewer .measure-settings-popup .switch{margin-left:25px}.adsk-viewing-viewer .measure-settings-popup .switch .slider{width:26px}.adsk-viewing-viewer .calibration-textbox::-webkit-inner-spin-button,.adsk-viewing-viewer .calibration-textbox::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.adsk-viewing-viewer .calibration-text{text-align:left;padding:6px 10px 6px 10px;margin:20px 20px 14px 20px;font-size:14px;-webkit-font-smoothing:antialiased}.adsk-viewing-viewer .calibration-button{margin-top:15px}.adsk-viewing-viewer .calibration-button-left{width:calc(50% - 15px);margin-right:5px !important;display:inline-block}.adsk-viewing-viewer .calibration-button-right{width:calc(50% - 15px);margin-left:5px !important;display:inline-block}.adsk-viewing-viewer .calibration-line{position:absolute;display:block;top:0;left:0;pointer-events:none;z-index:0}.adsk-viewing-viewer .calibration-label{display:none;position:absolute;pointer-events:none;text-align:"center";vertical-align:middle;cursor:default;padding:2px;color:#000;background:#fff;border-radius:10px;-webkit-transform-origin:50% 53%}.adsk-viewing-viewer .calibration-label-text{display:inline-block;pointer-events:none;text-align:"center";vertical-align:middle;font-size:12px;cursor:default;padding:2px;color:#000;background:#fff;border-bottom:1px dashed #000;text-decoration:none;text-transform:uppercase;-webkit-font-smoothing:antialiased}.adsk-viewing-viewer .calibration-label-text:hover{color:#039be5;border-bottom:1px dashed #039be5}.adsk-viewing-viewer .calibration-label.visible{display:block}.adsk-viewing-viewer .calibration-endpoint:hover.calibration-endpoint.enable-hover,.adsk-viewing-viewer .calibration-endpoint.edit{background-color:#039be5}.adsk-viewing-viewer .calibration-endpoint:hover.calibration-endpoint.enable-hover>*,.adsk-viewing-viewer .calibration-endpoint.edit>*{color:#fff}.adsk-viewing-viewer .calibration-endpoint.editable{pointer-events:all}.adsk-viewing-viewer .calibration-endpoint{display:none;position:absolute;cursor:move;pointer-events:none;width:30px;height:30px;background-color:#fff;box-shadow:0 4px 8px 0 rgba(0,0,0,.24),0 0 8px 0 rgba(0,0,0,.12);-moz-border-radius:50px;-webkit-border-radius:50px;border-radius:50px;justify-content:center;align-items:center;text-align:center}.adsk-viewing-viewer .calibration-endpoint.visible{display:block}.adsk-viewing-viewer .calibration-endpoint-text{display:inline-block;font-size:14px;vertical-align:middle;cursor:default;margin:5px 5px 5px 5px;vertical-align:middle;text-align:center;color:#039be5;text-decoration:none;text-transform:uppercase;pointer-events:none}.adsk-viewing-viewer .calibration-panel .docking-panel-footer{padding:16px 24px;display:flex;justify-content:flex-end;text-align:center;position:relative;height:auto}.adsk-viewing-viewer .calibration-panel .docking-panel-footer .docking-panel-secondary-button,.adsk-viewing-viewer .calibration-panel .docking-panel-footer .docking-panel-primary-button{padding:0px 16px;margin:0px 0px 0px 8px;font-size:14px}.adsk-viewing-viewer .calibration-panel .docking-panel-title{padding-top:19px;padding-bottom:19px}.adsk-viewing-viewer .calibration-panel .docking-panel-close{margin-top:7.5px}',"",{version:3,sources:["webpack://./extensions/Measure/Calibration.css"],names:[],mappings:"AAAA,WAAW,8BAA8B,CAAC,+1HAA+1H,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,uDAAuD,8BAA8B,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,aAAa,CAAC,eAAe,CAAC,UAAU,CAAC,mBAAmB,CAAC,kCAAkC,CAAC,iCAAiC,CAAC,8CAA8C,WAAW,CAAC,wCAAwC,sBAAsB,CAAC,qBAAqB,CAAC,WAAW,CAAC,WAAW,CAAC,SAAS,CAAC,2DAA2D,iBAAiB,CAAC,kBAAkB,CAAC,eAAe,CAAC,kBAAkB,CAAC,qBAAqB,CAAC,yHAAyH,UAAU,CAAC,iBAAiB,CAAC,qBAAqB,CAAC,qIAAqI,UAAU,CAAC,uBAAuB,CAAC,WAAW,CAAC,cAAc,CAAC,oEAAoE,WAAW,CAAC,sEAAsE,UAAU,CAAC,qBAAqB,CAAC,UAAU,CAAC,WAAW,CAAC,cAAc,CAAC,uEAAuE,WAAW,CAAC,cAAc,CAAC,qDAAqD,gBAAgB,CAAC,6DAA6D,UAAU,CAAC,0IAA0I,uBAAuB,CAAC,QAAQ,CAAC,uCAAuC,eAAe,CAAC,yBAAyB,CAAC,0BAA0B,CAAC,cAAc,CAAC,kCAAkC,CAAC,yCAAyC,eAAe,CAAC,8CAA8C,sBAAsB,CAAC,2BAA2B,CAAC,oBAAoB,CAAC,+CAA+C,sBAAsB,CAAC,0BAA0B,CAAC,oBAAoB,CAAC,uCAAuC,iBAAiB,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,CAAC,mBAAmB,CAAC,SAAS,CAAC,wCAAwC,YAAY,CAAC,iBAAiB,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,qBAAqB,CAAC,cAAc,CAAC,WAAW,CAAC,UAAU,CAAC,eAAe,CAAC,kBAAkB,CAAC,gCAAgC,CAAC,6CAA6C,oBAAoB,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,qBAAqB,CAAC,cAAc,CAAC,cAAc,CAAC,WAAW,CAAC,UAAU,CAAC,eAAe,CAAC,6BAA6B,CAAC,oBAAoB,CAAC,wBAAwB,CAAC,kCAAkC,CAAC,mDAAmD,aAAa,CAAC,gCAAgC,CAAC,gDAAgD,aAAa,CAAC,mIAAmI,wBAAwB,CAAC,uIAAuI,UAAU,CAAC,oDAAoD,kBAAkB,CAAC,2CAA2C,YAAY,CAAC,iBAAiB,CAAC,WAAW,CAAC,mBAAmB,CAAC,UAAU,CAAC,WAAW,CAAC,qBAAqB,CAAC,gEAAgE,CAAC,uBAAuB,CAAC,0BAA0B,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,mDAAmD,aAAa,CAAC,gDAAgD,oBAAoB,CAAC,cAAc,CAAC,qBAAqB,CAAC,cAAc,CAAC,sBAAsB,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,aAAa,CAAC,oBAAoB,CAAC,wBAAwB,CAAC,mBAAmB,CAAC,8DAA8D,iBAAiB,CAAC,YAAY,CAAC,wBAAwB,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,WAAW,CAAC,0LAA0L,gBAAgB,CAAC,sBAAsB,CAAC,cAAc,CAAC,6DAA6D,gBAAgB,CAAC,mBAAmB,CAAC,6DAA6D,gBAAgB",sourcesContent:['@font-face{font-family:"calibration-icon";src:url("data:application/octet-stream;base64,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") format("woff");font-weight:normal;font-style:normal}[class^=calibration-icon],[class*=" calibration-icon"]{font-family:"calibration-icon";font-style:normal;font-weight:normal;font-variant:normal;line-height:1;padding-top:2px;speak:none;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.adsk-viewing-viewer .calibration-icon:before{content:"a"}.adsk-viewing-viewer .calibration-panel{left:calc(50% - 190px);top:calc(50% - 145px);width:380px;height:auto;z-index:4}.adsk-viewing-viewer .calibration-panel .calibration-table{padding-left:24px;padding-right:24px;margin-top:12px;margin-bottom:12px;box-sizing:border-box}.adsk-viewing-viewer .measure-settings-popup .option-drop-down,.adsk-viewing-viewer .calibration-panel .option-drop-down{width:100%;padding-right:0px;box-sizing:border-box}.adsk-viewing-viewer .measure-settings-popup .adsk-lmv-tftable tr td,.adsk-viewing-viewer .calibration-panel .adsk-lmv-tftable tr td{width:auto;padding:2px 0px 2px 0px;height:56px;font-size:14px}.adsk-viewing-viewer .calibration-panel .adsk-lmv-tftable tr td div{padding:0px}.adsk-viewing-viewer .calibration-panel .adsk-lmv-tftable tr td input{margin:0px;box-sizing:border-box;width:100%;height:36px;font-size:14px}.adsk-viewing-viewer .calibration-panel .adsk-lmv-tftable tr td select{height:36px;font-size:14px}.adsk-viewing-viewer .measure-settings-popup .switch{margin-left:25px}.adsk-viewing-viewer .measure-settings-popup .switch .slider{width:26px}.adsk-viewing-viewer .calibration-textbox::-webkit-inner-spin-button,.adsk-viewing-viewer .calibration-textbox::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.adsk-viewing-viewer .calibration-text{text-align:left;padding:6px 10px 6px 10px;margin:20px 20px 14px 20px;font-size:14px;-webkit-font-smoothing:antialiased}.adsk-viewing-viewer .calibration-button{margin-top:15px}.adsk-viewing-viewer .calibration-button-left{width:calc(50% - 15px);margin-right:5px !important;display:inline-block}.adsk-viewing-viewer .calibration-button-right{width:calc(50% - 15px);margin-left:5px !important;display:inline-block}.adsk-viewing-viewer .calibration-line{position:absolute;display:block;top:0;left:0;pointer-events:none;z-index:0}.adsk-viewing-viewer .calibration-label{display:none;position:absolute;pointer-events:none;text-align:"center";vertical-align:middle;cursor:default;padding:2px;color:#000;background:#fff;border-radius:10px;-webkit-transform-origin:50% 53%}.adsk-viewing-viewer .calibration-label-text{display:inline-block;pointer-events:none;text-align:"center";vertical-align:middle;font-size:12px;cursor:default;padding:2px;color:#000;background:#fff;border-bottom:1px dashed #000;text-decoration:none;text-transform:uppercase;-webkit-font-smoothing:antialiased}.adsk-viewing-viewer .calibration-label-text:hover{color:#039be5;border-bottom:1px dashed #039be5}.adsk-viewing-viewer .calibration-label.visible{display:block}.adsk-viewing-viewer .calibration-endpoint:hover.calibration-endpoint.enable-hover,.adsk-viewing-viewer .calibration-endpoint.edit{background-color:#039be5}.adsk-viewing-viewer .calibration-endpoint:hover.calibration-endpoint.enable-hover>*,.adsk-viewing-viewer .calibration-endpoint.edit>*{color:#fff}.adsk-viewing-viewer .calibration-endpoint.editable{pointer-events:all}.adsk-viewing-viewer .calibration-endpoint{display:none;position:absolute;cursor:move;pointer-events:none;width:30px;height:30px;background-color:#fff;box-shadow:0 4px 8px 0 rgba(0,0,0,.24),0 0 8px 0 rgba(0,0,0,.12);-moz-border-radius:50px;-webkit-border-radius:50px;border-radius:50px;justify-content:center;align-items:center;text-align:center}.adsk-viewing-viewer .calibration-endpoint.visible{display:block}.adsk-viewing-viewer .calibration-endpoint-text{display:inline-block;font-size:14px;vertical-align:middle;cursor:default;margin:5px 5px 5px 5px;vertical-align:middle;text-align:center;color:#039be5;text-decoration:none;text-transform:uppercase;pointer-events:none}.adsk-viewing-viewer .calibration-panel .docking-panel-footer{padding:16px 24px;display:flex;justify-content:flex-end;text-align:center;position:relative;height:auto}.adsk-viewing-viewer .calibration-panel .docking-panel-footer .docking-panel-secondary-button,.adsk-viewing-viewer .calibration-panel .docking-panel-footer .docking-panel-primary-button{padding:0px 16px;margin:0px 0px 0px 8px;font-size:14px}.adsk-viewing-viewer .calibration-panel .docking-panel-title{padding-top:19px;padding-bottom:19px}.adsk-viewing-viewer .calibration-panel .docking-panel-close{margin-top:7.5px}'],sourceRoot:""}]);const o=r},4660:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(1354),s=i.n(n),a=i(6314),r=i.n(a)()(s());r.push([e.id,'.adsk-viewing-viewer .measure-length:hover.measure-length.enable-hover{box-shadow:0 0 16px 3px rgba(0,117,210,.7);-webkit-box-shadow:0 0 16px 3px rgba(0,117,210,.7);-moz-box-shadow:0 0 16px 3px rgba(0,117,210,.7)}.adsk-viewing-viewer .measure-length{display:none;position:absolute;height:19px;left:0px;top:0px;padding:2px 0 2px 0;background-color:#009bea;box-shadow:0px 1px 3px 1px rgba(0,0,0,.25);color:#f4f4f4;font-size:12px;text-align:center;line-height:1.2;white-space:nowrap;border-radius:8px;pointer-events:none;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0)}.adsk-viewing-viewer .measure-length.visible{display:block}.adsk-viewing-viewer .measure-length.fetching-topology{background-color:rgba(34,34,34,.8);box-shadow:0 .5px 1.5px 0 rgba(0,0,0,.3)}.adsk-viewing-viewer .measure-length-text{display:inline-block;margin:0 5px 0 5px;vertical-align:middle;font-size:16px;pointer-events:none}.adsk-viewing-viewer .measure-delta-text{margin:0 5px 0 5px;align-self:center;font-size:14px;overflow:hidden;white-space:nowrap;height:16px;line-height:16px;vertical-align:middle;pointer-events:none}.adsk-viewing-viewer .measure-length-button{display:inline-block;width:16px;height:16px;font-size:16px;float:right;color:#fff;opacity:.7}.adsk-viewing-viewer .measure-length-button:hover{background-color:rgba(166,194,255,.7);-webkit-transition:all .2s ease;-moz-transition:all .2s ease;-ms-transition:all .2s ease;-o-transition:all .2s ease;transition:all .2s ease}.adsk-viewing-viewer .measure-label:hover.measure-label.enable-hover,.adsk-viewing-viewer .measure-label.on-edit{box-shadow:0 0 4px 4px #0d69ca;-webkit-box-shadow:0 0 4px 4px #0d69ca;-moz-box-shadow:0 0 4px 4px #0d69ca}.adsk-viewing-viewer .measure-label.editable{pointer-events:all}.adsk-viewing-viewer .measure-label{display:none;position:absolute;width:7px;height:7px;cursor:move;pointer-events:none;border-radius:100px}.adsk-viewing-viewer .measure-label-hit-area{display:inline-block;position:absolute;width:44px;height:44px;left:-22px;top:-22px;border-radius:100px;z-index:2}.adsk-viewing-viewer .measure-label-icon{display:inline-block;position:absolute;width:7px;height:7px;left:-2px;top:-2px;background-color:#009bea;border-style:solid;border-width:2px;border-color:#fff;border-radius:100px;box-shadow:0 2px 5px 0 #182a3d;z-index:2}.adsk-viewing-viewer .measure-label.visible{display:block}.adsk-viewing-viewer .measure-label-text{display:inline-block;margin:0px 5px 0px 5px;vertical-align:middle}.adsk-viewing-viewer .measure-horizontal-divider{height:1px;border-top:1px solid rgba(200,200,200,.8)}.adsk-viewing-viewer .measure-submenu-select{display:block;position:relative;width:calc(100% - 40px);padding:10px 20px 0px 20px;opacity:.3}.adsk-viewing-viewer .option-drop-down:disabled{opacity:.3}.adsk-viewing-viewer .measure-submenu-selectlabel{position:relative;display:inline-block;padding-right:20px;padding-bottom:4px}.adsk-viewing-viewer .measure-results{position:relative;display:block;padding:5px 0px 10px 30px}.adsk-viewing-viewer .measure-result-label{display:inline-block;padding-right:10px}.adsk-viewing-viewer .measure-result-number{display:inline-block}.adsk-viewing-viewer .measure-delta-collapse{position:absolute;right:20px;display:inline-block;background-color:rgba(255,255,255,.12);margin:0px 4px 0px 4px;padding:0px 4px 0px 4px;cursor:pointer;text-align:center}.adsk-viewing-viewer .measure-delta-collapse:hover{background-color:rgba(166,194,255,.7);-webkit-transition:all .2s ease;-moz-transition:all .2s ease;-ms-transition:all .2s ease;-o-transition:all .2s ease;transition:all .2s ease}.adsk-viewing-viewer .measure-selection-repick{position:absolute;right:20px;display:inline-block;background-color:rgba(255,255,255,.12);margin:4px 4px 4px 4px;padding:4px 4px 4px 4px;cursor:pointer;text-align:center}.adsk-viewing-viewer .measure-selection-repick:hover{background-color:rgba(166,194,255,.7);-webkit-transition:all .2s ease;-moz-transition:all .2s ease;-ms-transition:all .2s ease;-o-transition:all .2s ease;transition:all .2s ease}.adsk-viewing-viewer .measure-restart{margin:10px 20px 15px 20px;padding:6px 10px 6px 10px;width:calc(100% - 55px);cursor:pointer;text-align:center;border-style:solid;border-width:1px;border-color:rgba(255,255,255,.2);border-radius:3px}.adsk-viewing-viewer .docking-panel:hover .measure-restart{background-color:rgba(255,255,255,.12)}.adsk-viewing-viewer .docking-panel .measure-restart:hover{background-color:rgba(166,194,255,.7);-webkit-transition:all .2s ease;-moz-transition:all .2s ease;-ms-transition:all .2s ease;-o-transition:all .2s ease;transition:all .2s ease}.adsk-viewing-viewer .measure-panel-title{padding-top:0px;padding-left:20px;margin-top:10px}.adsk-viewing-viewer .measure-panel-title:hover{cursor:pointer}.adsk-viewing-viewer .measure-panel-title.collapsed{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkEwMDhBMzY4QTYyODExRTM5REY0Q0MwMTM3MTVFOTMzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkEwMDhBMzY5QTYyODExRTM5REY0Q0MwMTM3MTVFOTMzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTAwOEEzNjZBNjI4MTFFMzlERjRDQzAxMzcxNUU5MzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTAwOEEzNjdBNjI4MTFFMzlERjRDQzAxMzcxNUU5MzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6WHWu4AAAAcElEQVR42mL8//8/AzmAiYFMgEtjGSFDcUmGAfEEIOYix6lWQLwUiGXJ8SNI00IgNiIncPiAeCoQ+5ITqsxQA+CAhQhN34C4AoiPkaLxGRAXAfEdUvx4DohjsGkCA1CSw4LrgZgVhxwYM9I9rQIEGACZNDs01yUXlAAAAABJRU5ErkJggg==);background-repeat:no-repeat}.adsk-viewing-viewer .measure-panel-title.expanded{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkE3QzFFQUQ1QTYyODExRTM5NzE2RjcyN0QxQjg0QTREIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkE3QzFFQUQ2QTYyODExRTM5NzE2RjcyN0QxQjg0QTREIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTdDMUVBRDNBNjI4MTFFMzk3MTZGNzI3RDFCODRBNEQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTdDMUVBRDRBNjI4MTFFMzk3MTZGNzI3RDFCODRBNEQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6XuY60AAAARklEQVR42mL8//8/AzmAiYFMQBeNqSg8kB+JwKlAfAZZjIlIm9JJdSpWTYQ04tSETyNeTbg0EtSETSNRmkCAcegkOYAAAwDGjDZHvY373AAAAABJRU5ErkJggg==);background-repeat:no-repeat}.adsk-viewing-viewer .adsk-viewing-viewer .measure-table td{padding:10px 0px 10px 20px}.adsk-viewing-viewer .measure-selection-one-label{display:inline-block;margin:18px 18px 18px 18px;width:16px;height:16px;font-size:16px;float:left;padding:2px;background-color:#03f;border-radius:10px;opacity:.6}.adsk-viewing-viewer .measure-selection-two-label{display:inline-block;margin:18px 18px 18px 18px;width:16px;height:16px;font-size:16px;float:left;padding:2px;background-color:#03f;border-radius:10px;opacity:.6}.adsk-viewing-viewer .measure-repick{display:inline-block;cursor:default;margin:20px 20px 20px 20px;width:16px;height:16px;font-size:16px;float:right;opacity:.5}.adsk-viewing-viewer .measure-repick:hover{opacity:1}.adsk-viewing-viewer .measure-selection-result{display:inline-block;margin:21px 0px 21px 0px}.adsk-viewing-viewer .measure-distance-icon{display:inline-block;margin:20px 2px 20px 2px;font-size:52px;color:#f90;float:left}.adsk-viewing-viewer .measure-angle-icon{display:inline-block;margin:20px 2px 20px 2px;font-size:52px;color:#f90;float:left}.adsk-viewing-viewer .adsk-viewing-viewer .measure-result{font-size:20px;color:#f90;display:inline-block;margin:38px 0px 38px 0px}.adsk-viewing-viewer .measure-initial{font-size:20px;display:inline-block;margin:38px 0px 38px 56px}.adsk-viewing-viewer .measure-settings-button{cursor:default;position:relative;top:20px;right:20px;width:16px;height:16px;font-size:18px;float:right;opacity:.5}.adsk-viewing-viewer .measure-settings-button:hover{opacity:1}.adsk-viewing-viewer .measure-delta-button{position:relative;top:56px;right:4px;width:16px;height:16px;font-size:16px;float:right;opacity:.5;-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-ms-transform:rotate(-90deg);-o-transform:rotate(-90deg);transform:rotate(-90deg)}.adsk-viewing-viewer .measure-delta-button.rotated{-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-ms-transform:rotate(90deg);-o-transform:rotate(90deg);transform:rotate(90deg)}.adsk-viewing-viewer .measure-delta-button:hover{opacity:1}.adsk-viewing-viewer .measure-delta-result{display:inline-block;margin:0px 0px 20px 0px;padding:0px 0px 0px 56px}.adsk-viewing-viewer .measure-label-axis{display:none;position:absolute;width:16px;height:16px;left:0px;top:0px;background-color:#f4f4f4;border-radius:8px;pointer-events:none}.adsk-viewing-viewer .measure-label-axis-icon.X{background-color:#f12c2c}.adsk-viewing-viewer .measure-label-axis-icon.Y{background-color:#0bb80b}.adsk-viewing-viewer .measure-label-axis-icon.Z{background-color:#2c2cf1}.adsk-viewing-viewer .measure-label-axis-icon{width:20px;height:18px;color:#f4f4f4;border-radius:8px 0 0 8px;font-size:12px;padding-top:4px;line-height:15px;text-align:center;margin-left:-2px}.adsk-viewing-viewer .measure-label-axis-delta.enableTransition{transition:opacity .1s linear}.adsk-viewing-viewer .measure-label-axis-delta{display:none;position:absolute;font-size:18px;left:0px;top:0px;background-color:#fff;pointer-events:none;opacity:0;border-radius:8px;box-shadow:0px 1px 3px 1px rgba(0,0,0,.25)}.adsk-viewing-viewer .measure-label-axis.visible{display:block}.adsk-viewing-viewer .measure-label-axis-delta.visible{display:flex}.adsk-viewing-viewer .measure-label-axis-x{color:#f12c2c}.adsk-viewing-viewer .measure-label-axis-y{color:#0bb80b}.adsk-viewing-viewer .measure-label-axis-z{color:#2c2cf1}.adsk-viewing-viewer .magnifying-glass.visible{display:block}.adsk-viewing-viewer .magnifying-glass{position:absolute;display:none;-moz-border-radius:100%;-webkit-border-radius:100%;border-radius:100%;background:rgba(0,0,0,0);box-shadow:2px 2px 4px rgba(0,0,0,.5),inset 2px 2px 4px rgba(0,0,0,.5);-webkit-box-shadow:2px 2px 4px rgba(0,0,0,.5),inset 2px 2px 4px rgba(0,0,0,.5);-moz-box-shadow:2px 2px 4px rgba(0,0,0,.5),inset 2px 2px 4px rgba(0,0,0,.5);z-index:4}.adsk-viewing-viewer .measure-fetching-topology{display:inline-block;width:10px;height:10px;background:url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22 width%3D%2210%22 height%3D%2210%22 viewBox%3D%220 0 10 10%22%3E  %3Cdefs%3E    %3ClinearGradient id%3D%22linear-gradient%22 y1%3D%225%22 x2%3D%2210%22 y2%3D%225%22 gradientUnits%3D%22userSpaceOnUse%22%3E      %3Cstop offset%3D%220%22 stop-color%3D%22%23fff%22 stop-opacity%3D%220%22%2F%3E      %3Cstop offset%3D%221%22 stop-color%3D%22%23fff%22%2F%3E    %3C%2FlinearGradient%3E  %3C%2Fdefs%3E  %3Ctitle%3EAsset 6%3C%2Ftitle%3E  %3Cg id%3D%22Layer_2%22 data-name%3D%22Layer 2%22%3E    %3Cg id%3D%22finals_24px%22%3E      %3Cpath d%3D%22M5%2C10A5%2C5%2C0%2C0%2C1%2C0%2C5%2C1.2%2C1.2%2C0%2C0%2C1%2C2.3%2C5%2C2.7%2C2.7%2C0%2C1%2C0%2C5%2C2.3%2C1.2%2C1.2%2C0%2C0%2C1%2C5%2C0%2C5%2C5%2C0%2C0%2C1%2C5%2C10Z%22 fill%3D%22url(%23linear-gradient)%22%2F%3E    %3C%2Fg%3E  %3C%2Fg%3E%3C%2Fsvg%3E");margin:3px 0px -2px 3px;animation:measure-topology-fetching-anim 1.4s infinite linear;-webkit-animation:measure-topology-fetching-anim 1.4s infinite linear}@keyframes measure-topology-fetching-anim{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes measure-topology-fetching-anim{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.adsk-viewing-viewer .docking-panel.measure-settings-popup{display:flex;justify-content:center;flex-direction:column;bottom:120%;box-sizing:border-box;text-align:left;position:absolute;padding-top:15px;padding-bottom:15px}.adsk-viewing-viewer .adsk-toolbar-vertical .docking-panel.measure-settings-popup{right:120%;bottom:unset;height:max-content;width:max-content}.adsk-viewing-viewer .docking-panel.measure-settings-popup .adsk-lmv-tftable tr.switch-slider-row td{width:auto;padding-bottom:0px;padding-top:0px;vertical-align:inherit}.adsk-viewing-viewer .docking-panel.measure-settings-popup.hide{display:none}.adsk-viewing-viewer .measure-settings-popup tbody{top:15px}.adsk-toolbar .measure-toolbar-seperator{height:18px;width:1px;background-color:#999;float:left;margin:16px 5px}.adsk-toolbar.adsk-toolbar-vertical .measure-toolbar-seperator{height:1px;width:18px;margin:5px 16px}.adsk-viewing-viewer .measure-selection-area{display:block;position:absolute;cursor:pointer;z-index:1;-webkit-tap-highlight-color:rgba(0,0,0,0)}.adsk-viewing-viewer .adsk-toolbar.adsk-toolbar-vertical .adsk-label-button{padding:0px;width:40px}.adsk-viewing-viewer .adsk-toolbar.adsk-toolbar-vertical .adsk-label-button>label{padding:10px 0px}',"",{version:3,sources:["webpack://./extensions/Measure/Measure.css"],names:[],mappings:"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",sourcesContent:[".adsk-viewing-viewer .measure-length:hover.measure-length.enable-hover{box-shadow:0 0 16px 3px rgba(0,117,210,.7);-webkit-box-shadow:0 0 16px 3px rgba(0,117,210,.7);-moz-box-shadow:0 0 16px 3px rgba(0,117,210,.7)}.adsk-viewing-viewer .measure-length{display:none;position:absolute;height:19px;left:0px;top:0px;padding:2px 0 2px 0;background-color:#009bea;box-shadow:0px 1px 3px 1px rgba(0,0,0,.25);color:#f4f4f4;font-size:12px;text-align:center;line-height:1.2;white-space:nowrap;border-radius:8px;pointer-events:none;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0)}.adsk-viewing-viewer .measure-length.visible{display:block}.adsk-viewing-viewer .measure-length.fetching-topology{background-color:rgba(34,34,34,.8);box-shadow:0 .5px 1.5px 0 rgba(0,0,0,.3)}.adsk-viewing-viewer .measure-length-text{display:inline-block;margin:0 5px 0 5px;vertical-align:middle;font-size:16px;pointer-events:none}.adsk-viewing-viewer .measure-delta-text{margin:0 5px 0 5px;align-self:center;font-size:14px;overflow:hidden;white-space:nowrap;height:16px;line-height:16px;vertical-align:middle;pointer-events:none}.adsk-viewing-viewer .measure-length-button{display:inline-block;width:16px;height:16px;font-size:16px;float:right;color:#fff;opacity:.7}.adsk-viewing-viewer .measure-length-button:hover{background-color:rgba(166,194,255,.7);-webkit-transition:all .2s ease;-moz-transition:all .2s ease;-ms-transition:all .2s ease;-o-transition:all .2s ease;transition:all .2s ease}.adsk-viewing-viewer .measure-label:hover.measure-label.enable-hover,.adsk-viewing-viewer .measure-label.on-edit{box-shadow:0 0 4px 4px #0d69ca;-webkit-box-shadow:0 0 4px 4px #0d69ca;-moz-box-shadow:0 0 4px 4px #0d69ca}.adsk-viewing-viewer .measure-label.editable{pointer-events:all}.adsk-viewing-viewer .measure-label{display:none;position:absolute;width:7px;height:7px;cursor:move;pointer-events:none;border-radius:100px}.adsk-viewing-viewer .measure-label-hit-area{display:inline-block;position:absolute;width:44px;height:44px;left:-22px;top:-22px;border-radius:100px;z-index:2}.adsk-viewing-viewer .measure-label-icon{display:inline-block;position:absolute;width:7px;height:7px;left:-2px;top:-2px;background-color:#009bea;border-style:solid;border-width:2px;border-color:#fff;border-radius:100px;box-shadow:0 2px 5px 0 #182a3d;z-index:2}.adsk-viewing-viewer .measure-label.visible{display:block}.adsk-viewing-viewer .measure-label-text{display:inline-block;margin:0px 5px 0px 5px;vertical-align:middle}.adsk-viewing-viewer .measure-horizontal-divider{height:1px;border-top:1px solid rgba(200,200,200,.8)}.adsk-viewing-viewer .measure-submenu-select{display:block;position:relative;width:calc(100% - 40px);padding:10px 20px 0px 20px;opacity:.3}.adsk-viewing-viewer .option-drop-down:disabled{opacity:.3}.adsk-viewing-viewer .measure-submenu-selectlabel{position:relative;display:inline-block;padding-right:20px;padding-bottom:4px}.adsk-viewing-viewer .measure-results{position:relative;display:block;padding:5px 0px 10px 30px}.adsk-viewing-viewer .measure-result-label{display:inline-block;padding-right:10px}.adsk-viewing-viewer .measure-result-number{display:inline-block}.adsk-viewing-viewer .measure-delta-collapse{position:absolute;right:20px;display:inline-block;background-color:rgba(255,255,255,.12);margin:0px 4px 0px 4px;padding:0px 4px 0px 4px;cursor:pointer;text-align:center}.adsk-viewing-viewer .measure-delta-collapse:hover{background-color:rgba(166,194,255,.7);-webkit-transition:all .2s ease;-moz-transition:all .2s ease;-ms-transition:all .2s ease;-o-transition:all .2s ease;transition:all .2s ease}.adsk-viewing-viewer .measure-selection-repick{position:absolute;right:20px;display:inline-block;background-color:rgba(255,255,255,.12);margin:4px 4px 4px 4px;padding:4px 4px 4px 4px;cursor:pointer;text-align:center}.adsk-viewing-viewer .measure-selection-repick:hover{background-color:rgba(166,194,255,.7);-webkit-transition:all .2s ease;-moz-transition:all .2s ease;-ms-transition:all .2s ease;-o-transition:all .2s ease;transition:all .2s ease}.adsk-viewing-viewer .measure-restart{margin:10px 20px 15px 20px;padding:6px 10px 6px 10px;width:calc(100% - 55px);cursor:pointer;text-align:center;border-style:solid;border-width:1px;border-color:rgba(255,255,255,.2);border-radius:3px}.adsk-viewing-viewer .docking-panel:hover .measure-restart{background-color:rgba(255,255,255,.12)}.adsk-viewing-viewer .docking-panel .measure-restart:hover{background-color:rgba(166,194,255,.7);-webkit-transition:all .2s ease;-moz-transition:all .2s ease;-ms-transition:all .2s ease;-o-transition:all .2s ease;transition:all .2s ease}.adsk-viewing-viewer .measure-panel-title{padding-top:0px;padding-left:20px;margin-top:10px}.adsk-viewing-viewer .measure-panel-title:hover{cursor:pointer}.adsk-viewing-viewer .measure-panel-title.collapsed{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkEwMDhBMzY4QTYyODExRTM5REY0Q0MwMTM3MTVFOTMzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkEwMDhBMzY5QTYyODExRTM5REY0Q0MwMTM3MTVFOTMzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTAwOEEzNjZBNjI4MTFFMzlERjRDQzAxMzcxNUU5MzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTAwOEEzNjdBNjI4MTFFMzlERjRDQzAxMzcxNUU5MzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6WHWu4AAAAcElEQVR42mL8//8/AzmAiYFMgEtjGSFDcUmGAfEEIOYix6lWQLwUiGXJ8SNI00IgNiIncPiAeCoQ+5ITqsxQA+CAhQhN34C4AoiPkaLxGRAXAfEdUvx4DohjsGkCA1CSw4LrgZgVhxwYM9I9rQIEGACZNDs01yUXlAAAAABJRU5ErkJggg==);background-repeat:no-repeat}.adsk-viewing-viewer .measure-panel-title.expanded{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkE3QzFFQUQ1QTYyODExRTM5NzE2RjcyN0QxQjg0QTREIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkE3QzFFQUQ2QTYyODExRTM5NzE2RjcyN0QxQjg0QTREIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTdDMUVBRDNBNjI4MTFFMzk3MTZGNzI3RDFCODRBNEQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTdDMUVBRDRBNjI4MTFFMzk3MTZGNzI3RDFCODRBNEQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6XuY60AAAARklEQVR42mL8//8/AzmAiYFMQBeNqSg8kB+JwKlAfAZZjIlIm9JJdSpWTYQ04tSETyNeTbg0EtSETSNRmkCAcegkOYAAAwDGjDZHvY373AAAAABJRU5ErkJggg==);background-repeat:no-repeat}.adsk-viewing-viewer .adsk-viewing-viewer .measure-table td{padding:10px 0px 10px 20px}.adsk-viewing-viewer .measure-selection-one-label{display:inline-block;margin:18px 18px 18px 18px;width:16px;height:16px;font-size:16px;float:left;padding:2px;background-color:#03f;border-radius:10px;opacity:.6}.adsk-viewing-viewer .measure-selection-two-label{display:inline-block;margin:18px 18px 18px 18px;width:16px;height:16px;font-size:16px;float:left;padding:2px;background-color:#03f;border-radius:10px;opacity:.6}.adsk-viewing-viewer .measure-repick{display:inline-block;cursor:default;margin:20px 20px 20px 20px;width:16px;height:16px;font-size:16px;float:right;opacity:.5}.adsk-viewing-viewer .measure-repick:hover{opacity:1}.adsk-viewing-viewer .measure-selection-result{display:inline-block;margin:21px 0px 21px 0px}.adsk-viewing-viewer .measure-distance-icon{display:inline-block;margin:20px 2px 20px 2px;font-size:52px;color:#f90;float:left}.adsk-viewing-viewer .measure-angle-icon{display:inline-block;margin:20px 2px 20px 2px;font-size:52px;color:#f90;float:left}.adsk-viewing-viewer .adsk-viewing-viewer .measure-result{font-size:20px;color:#f90;display:inline-block;margin:38px 0px 38px 0px}.adsk-viewing-viewer .measure-initial{font-size:20px;display:inline-block;margin:38px 0px 38px 56px}.adsk-viewing-viewer .measure-settings-button{cursor:default;position:relative;top:20px;right:20px;width:16px;height:16px;font-size:18px;float:right;opacity:.5}.adsk-viewing-viewer .measure-settings-button:hover{opacity:1}.adsk-viewing-viewer .measure-delta-button{position:relative;top:56px;right:4px;width:16px;height:16px;font-size:16px;float:right;opacity:.5;-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-ms-transform:rotate(-90deg);-o-transform:rotate(-90deg);transform:rotate(-90deg)}.adsk-viewing-viewer .measure-delta-button.rotated{-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-ms-transform:rotate(90deg);-o-transform:rotate(90deg);transform:rotate(90deg)}.adsk-viewing-viewer .measure-delta-button:hover{opacity:1}.adsk-viewing-viewer .measure-delta-result{display:inline-block;margin:0px 0px 20px 0px;padding:0px 0px 0px 56px}.adsk-viewing-viewer .measure-label-axis{display:none;position:absolute;width:16px;height:16px;left:0px;top:0px;background-color:#f4f4f4;border-radius:8px;pointer-events:none}.adsk-viewing-viewer .measure-label-axis-icon.X{background-color:#f12c2c}.adsk-viewing-viewer .measure-label-axis-icon.Y{background-color:#0bb80b}.adsk-viewing-viewer .measure-label-axis-icon.Z{background-color:#2c2cf1}.adsk-viewing-viewer .measure-label-axis-icon{width:20px;height:18px;color:#f4f4f4;border-radius:8px 0 0 8px;font-size:12px;padding-top:4px;line-height:15px;text-align:center;margin-left:-2px}.adsk-viewing-viewer .measure-label-axis-delta.enableTransition{transition:opacity .1s linear}.adsk-viewing-viewer .measure-label-axis-delta{display:none;position:absolute;font-size:18px;left:0px;top:0px;background-color:#fff;pointer-events:none;opacity:0;border-radius:8px;box-shadow:0px 1px 3px 1px rgba(0,0,0,.25)}.adsk-viewing-viewer .measure-label-axis.visible{display:block}.adsk-viewing-viewer .measure-label-axis-delta.visible{display:flex}.adsk-viewing-viewer .measure-label-axis-x{color:#f12c2c}.adsk-viewing-viewer .measure-label-axis-y{color:#0bb80b}.adsk-viewing-viewer .measure-label-axis-z{color:#2c2cf1}.adsk-viewing-viewer .magnifying-glass.visible{display:block}.adsk-viewing-viewer .magnifying-glass{position:absolute;display:none;-moz-border-radius:100%;-webkit-border-radius:100%;border-radius:100%;background:rgba(0,0,0,0);box-shadow:2px 2px 4px rgba(0,0,0,.5),inset 2px 2px 4px rgba(0,0,0,.5);-webkit-box-shadow:2px 2px 4px rgba(0,0,0,.5),inset 2px 2px 4px rgba(0,0,0,.5);-moz-box-shadow:2px 2px 4px rgba(0,0,0,.5),inset 2px 2px 4px rgba(0,0,0,.5);z-index:4}.adsk-viewing-viewer .measure-fetching-topology{display:inline-block;width:10px;height:10px;background:url(res/icon-spinner-sm.svg);margin:3px 0px -2px 3px;animation:measure-topology-fetching-anim 1.4s infinite linear;-webkit-animation:measure-topology-fetching-anim 1.4s infinite linear}@keyframes measure-topology-fetching-anim{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes measure-topology-fetching-anim{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.adsk-viewing-viewer .docking-panel.measure-settings-popup{display:flex;justify-content:center;flex-direction:column;bottom:120%;box-sizing:border-box;text-align:left;position:absolute;padding-top:15px;padding-bottom:15px}.adsk-viewing-viewer .adsk-toolbar-vertical .docking-panel.measure-settings-popup{right:120%;bottom:unset;height:max-content;width:max-content}.adsk-viewing-viewer .docking-panel.measure-settings-popup .adsk-lmv-tftable tr.switch-slider-row td{width:auto;padding-bottom:0px;padding-top:0px;vertical-align:inherit}.adsk-viewing-viewer .docking-panel.measure-settings-popup.hide{display:none}.adsk-viewing-viewer .measure-settings-popup tbody{top:15px}.adsk-toolbar .measure-toolbar-seperator{height:18px;width:1px;background-color:#999;float:left;margin:16px 5px}.adsk-toolbar.adsk-toolbar-vertical .measure-toolbar-seperator{height:1px;width:18px;margin:5px 16px}.adsk-viewing-viewer .measure-selection-area{display:block;position:absolute;cursor:pointer;z-index:1;-webkit-tap-highlight-color:rgba(0,0,0,0)}.adsk-viewing-viewer .adsk-toolbar.adsk-toolbar-vertical .adsk-label-button{padding:0px;width:40px}.adsk-viewing-viewer .adsk-toolbar.adsk-toolbar-vertical .adsk-label-button>label{padding:10px 0px}"],sourceRoot:""}]);const o=r},6314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",n=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),n&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),n&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,n,s,a){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(n)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(r[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);n&&r[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),i&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=i):u[2]=i),s&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=s):u[4]="".concat(s)),t.push(u))}},t}},1354:e=>{"use strict";e.exports=function(e){var t=e[1],i=e[3];if(!i)return t;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),a="/*# ".concat(s," */");return[t].concat([a]).join("\n")}return[t].join("\n")}},5072:e=>{"use strict";var t=[];function i(e){for(var i=-1,n=0;n<t.length;n++)if(t[n].identifier===e){i=n;break}return i}function n(e,n){for(var a={},r=[],o=0;o<e.length;o++){var l=e[o],c=n.base?l[0]+n.base:l[0],u=a[c]||0,h="".concat(c," ").concat(u);a[c]=u+1;var d=i(h),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)t[d].references++,t[d].updater(p);else{var A=s(p,n);n.byIndex=o,t.splice(o,0,{identifier:h,updater:A,references:1})}r.push(h)}return r}function s(e,t){var i=t.domAPI(t);i.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;i.update(e=t)}else i.remove()}}e.exports=function(e,s){var a=n(e=e||[],s=s||{});return function(e){e=e||[];for(var r=0;r<a.length;r++){var o=i(a[r]);t[o].references--}for(var l=n(e,s),c=0;c<a.length;c++){var u=i(a[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=l}}},7659:e=>{"use strict";var t={};e.exports=function(e,i){var n=function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},5056:(e,t,i)=>{"use strict";e.exports=function(e){var t=i.nc;t&&e.setAttribute("nonce",t)}},7825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(i){!function(e,t,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var s=void 0!==i.layer;s&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,s&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var a=i.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,i)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var a=t[n]={id:n,exports:{}};return e[n](a,a.exports,i),a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nc=void 0;var n={};(()=>{"use strict";i.r(n),i.d(n,{MeasureExtension:()=>Jt});var e=Autodesk.Viewing.MeasureCommon;class t{constructor(e){this.viewer=e,this.currentMeasurement=null,this.measurementsList={},this.measurementsCounter=0,this.restoredMeasurementData=[]}getCurrentMeasurement(){return this.currentMeasurement}getRestoredMeasurementData(){return this.restoredMeasurementData.slice()}selectMeasurementById(e){var t=this.measurementsList[e];return!!t&&(this.changeCurrentMeasurement(t),this.currentMeasurement)}createMeasurement(t,i){var n=new e.Measurement(t,this.measurementsCounter++,i);return this.addMeasurement(n),n}addMeasurement(e){(this.measurementsList[e.id]||void 0===e.id)&&(e.id=this.measurementsCounter++),this.measurementsList[e.id]=e,this.changeCurrentMeasurement(e)}createMeasurementFromData(t,i,n,s){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=t.options;if(r){r=JSON.parse(JSON.stringify(r));const e=Object.prototype.hasOwnProperty.call(r,"modelId")&&r.modelId?this.viewer.impl.findModel(r.modelId):this.viewer.model,t=e&&e.getData().globalOffset;if(t&&(0!==t.x||0!==t.y||0!==t.z)){const e=e=>{if(e)for(let i=0;i<e.length;++i)THREE.Vector3.prototype.sub.call(e[i],t)};e(r.dimensionOffset),e(r.dashedLeader),e(r.arc)}}a?this.addMeasurement(a):a=this.createMeasurement(i,r),n instanceof Function&&n(a),this.initPicks(t.picks,a),s instanceof Function&&s(),a.measurementType===e.MeasurementTypes.MEASUREMENT_AREA?a.closedArea=!0:a.measurementType===e.MeasurementTypes.MEASUREMENT_CALLOUT&&(a.text=t.text);const o=a.indicator;o.changeAllEndpointsEditableStyle(!0),o.enableSelectionAreas(!0),o.enableLabelsTouchEvents(!0),this.activatePicks(a),a.computeResult(a.picks,this.viewer);const l=this.restoredMeasurementData[a.id];o.renderFromPoints((e=>{const t=Object.keys(e),i=[];for(let n=0;n<t.length;n++){const s=t[n],a=e[s];i[s]={intersection:a.intersection,circularArcRadius:a.circularArcRadius,circularArcCenter:a.circularArcCenter}}return i})(l),!0),o.changeAllEndpointsEditableStyle(!0),o.enableSelectionAreas(!0),o.enableLabelsTouchEvents(!0),a.isRestored=!0}initPicks(e,t){if(!e)return;const i=[];for(let n=0;n<e.length;n++){const s=e[n];if(!s)continue;const a=n+1;let r=new THREE.Vector3(s.intersection.x,s.intersection.y,s.intersection.z);const o=Object.prototype.hasOwnProperty.call(s,"modelId")&&s.modelId?this.viewer.impl.findModel(s.modelId):this.viewer.model;if(o){const e=o.getData();r=e&&Object.prototype.hasOwnProperty.call(e,"globalOffset")?r.sub(e.globalOffset).clone():r.clone()}i[a]={intersection:r,viewportId:s.viewportIndex2d,hasTopology:s.hasTopology,modelId:s.modelId,fragId:s.fragId,fragPos:s.fragPos,snapNode:s.snapNode,circularArcRadius:s.circularArcRadius,circularArcCenter:s.circularArcCenter},t.getPick(a)}this.restoredMeasurementData[t.id]=i}activatePicks(t){if(!t.picks)return;const i=Object.keys(t.picks),n=t.id;for(let s=0;s<i.length;s++){const a=i[s],r=t.picks[a],o=this.getRestoredMeasurementData()[n][a];let l=o.intersection.clone();!r.getGeometry()&&o.intersection&&(r.geomType=e.SnapType.SNAP_VERTEX,r.geomVertex=l,r.intersectPoint=l,r.modelId=o.modelId,r.fragId=o.fragId,r.fragPos=o.fragPos,r.snapNode=o.snapNode,r.circularArcCenter=o.circularArcCenter,r.circularArcRadius=o.circularArcRadius,r.viewportIndex2d=o.viewportId)}}changeCurrentMeasurement(t){this.currentMeasurement=t,this.viewer.dispatchEvent({type:e.Events.MEASUREMENT_CHANGED_EVENT,data:{type:t.measurementType,id:t.id}})}removeCurrentMeasurement(){Object.keys(this.measurementsList).length>0&&delete this.measurementsList[this.currentMeasurement.id],this.currentMeasurement=null}destroy(){this.reset()}reset(){this.currentMeasurement=null,this.measurementsList={},this.measurementsCounter=0}}var s=Autodesk.Viewing,a=s.MeasureCommon,r=function(e,t,i){this.viewer=e,this.setGlobalManager(e.globalManager),this.measurement=t,this.tool=i,this.snapper=i.getSnapper(),this.materialExtensionLine=null,this.materialExtensionFace=null,this.extensionLines=[],this.extensionFaces=[],this.grayOutPlane=[],this.materialPoint=null,this.materialLine=null,this.materialAngle=null,this.materialAngleOutline=null,this.materialGreyOutPlane=null,this.materialFace=null,this.angleArc=null,this.angleOutline=[],this.arcOutline=[],this.arcTip=[],this.showMeasureResult=!1,this.visibleLabels=[],this.overlayName="measure-indicator-overlay-"+(t.id||""),this.xAxis=this.viewer.autocam.getWorldRightVector(),this.yAxis=this.viewer.autocam.getWorldUpVector(),this.zAxis=this.viewer.autocam.getWorldFrontVector()},o=r.prototype;function l(e){function t(e,t,n,s){this.x=e,this.y=t,this.h=n,this.d=function(e,t,n){for(var s=!1,a=1/0,r=0;r<n.length;r++)for(var o=n[r],l=0,c=o.length,u=c-1;l<c;u=l++){var h=o[l],d=o[u];h.y>t!=d.y>t&&e<(d.x-h.x)*(t-h.y)/(d.y-h.y)+h.x&&(s=!s),a=Math.min(a,i(e,t,h,d))}return(s?1:-1)*Math.sqrt(a)}(e,t,s),this.max=this.d+this.h*Math.SQRT2}function i(e,t,i,n){var s=i.x,a=i.y,r=n.x-s,o=n.y-a;if(0!==r||0!==o){var l=((e-s)*r+(t-a)*o)/(r*r+o*o);l>1?(s=n.x,a=n.y):l>0&&(s+=r*l,a+=o*l)}return(r=e-s)*r+(o=t-a)*o}function n(e,t){if(!(this instanceof n))return new n(e,t);if(this.data=e||[],this.length=this.data.length,this.compare=t||function(e,t){return e<t?-1:e>t?1:0},this.length>0)for(var i=this.length>>1;i>=0;i--)this._down(i)}if(n.prototype={push:function(e){this.data.push(e),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var e=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),e}},peek:function(){return this.data[0]},_up:function(e){for(var t=this.data,i=this.compare,n=t[e];e>0;){var s=e-1>>1,a=t[s];if(i(n,a)>=0)break;t[e]=a,e=s}t[e]=n},_down:function(e){for(var t=this.data,i=this.compare,n=this.length>>1,s=t[e];e<n;){var a=1+(e<<1),r=a+1,o=t[a];if(r<this.length&&i(t[r],o)<0&&(a=r,o=t[r]),i(o,s)>=0)break;t[e]=o,e=a}t[e]=s}},3===e.length)return function(e){for(var t=new THREE.Vector3,i=e.length,n=0;n<i;n++)t.add(e[n]);return t.multiplyScalar(1/i),t}(e);var s,a,r,o;e=[e];for(var l=0;l<e[0].length;l++){var c=e[0][l];(!l||c.x<s)&&(s=c.x),(!l||c.y<a)&&(a=c.y),(!l||c.x>r)&&(r=c.x),(!l||c.y>o)&&(o=c.y)}var u=r-s,h=o-a,d=Math.min(u,h),p=d/2,A=new n(null,(function(e,t){return t.max-e.max}));if(0===d)return[s,a];for(var g=s;g<r;g+=d)for(var m=a;m<o;m+=d)A.push(new t(g+p,m+p,p,e));var v=function(e){for(var i=0,n=0,s=0,a=e[0],r=0,o=a.length,l=o-1;r<o;l=r++){var c=a[r],u=a[l],h=c.x*u.y-u.x*c.y;n+=(c.x+u.x)*h,s+=(c.y+u.y)*h,i+=3*h}return 0===i?new t(a[0].x,a[0].y,0,e):new t(n/i,s/i,0,e)}(e),f=new t(s+u/2,a+h/2,0,e);for(f.d>v.d&&(v=f);A.length;){var b=A.pop();b.d>v.d&&(v=b),b.max-v.d<=.01||(p=b.h/2,A.push(new t(b.x-p,b.y-p,p,e)),A.push(new t(b.x+p,b.y-p,p,e)),A.push(new t(b.x-p,b.y+p,p,e)),A.push(new t(b.x+p,b.y+p,p,e)))}return{x:v.x,y:v.y}}s.GlobalManagerMixin.call(o),o.init=function(){return!1},o.updateDistance=function(){return!1},o.updateAngle=function(){return!1},o.clear=function(){return!1},o.updateLabelsPosition=function(){return!1},o.renderFromPoints=function(e,t){this.showMeasureResult=t,this.clear();for(var i=1;i<=Object.keys(e).length;i++){const t=e[i].intersection;this.endpoints[i]||this.createEndpoint(i),this.endpoints[i].position=new THREE.Vector3(t.x,t.y,t.z),this.showClick(i)}this.renderRubberbandFromPoints(e),this.updateLabelsPosition()},o.render=function(e,t){this.showMeasureResult=t,this.clear();for(var i=1;i<=Object.keys(e).length;i++)this.measurement.hasPick(i)&&this.renderPick(i);this.renderRubberband(e),this.updateLabelsPosition()},o.changeEndpointOnEditStyle=function(e,t){return!1},o.handleResize=function(){return!1},o.setNoTopology=function(){return!1},o.setFetchingTopology=function(){return!1},o.setTopologyAvailable=function(){return!1},o.clientToCanvasCoords=function(e){var t=this.viewer.impl.getCanvasBoundingClientRect(),i={};return Object.prototype.hasOwnProperty.call(e,"center")?(e.canvasX=i.x=e.center.x-t.left,e.canvasY=i.y=e.center.y-t.top):(e.canvasX=i.x=e.pointers[0].clientX-t.left,e.canvasY=i.y=e.pointers[0].clientY-t.top),i},o.initLabelMobileGestures=function(e,t){var i=this.viewer.toolController.getTool("magnifyingGlass");this.hammer=new s.Hammer.Manager(e,{recognizers:[s.GestureRecognizers.drag,s.GestureRecognizers.singletap],handlePointerEventMouse:!1,inputClass:s.Hammer.TouchInput}),this.onSingleTapBinded=function(e){var i=this.clientToCanvasCoords(e);this.snapper.onMouseDown(i),this.tool.editEndpoint(e,t,this.measurement.id)}.bind(this),this.onDragStartBinded=function(e){var n=this.clientToCanvasCoords(e);this.snapper.onMouseDown(n),this.tool.editEndpoint(e,t,this.measurement.id),this.tool.editByDrag=!0,e.type="press",i.handlePressHold(e),this.tool.handlePressHold(e),e.type="dragstart",i.handleGesture(e),this.tool.handleGesture(e)}.bind(this),this.onDragMoveBinded=function(e){var t=this.clientToCanvasCoords(e);this.snapper.onMouseDown(t),i.handleGesture(e),this.tool.handleGesture(e)}.bind(this),this.onDragEndBinded=function(e){var t=this.clientToCanvasCoords(e);this.snapper.onMouseDown(t),i.handleGesture(e),this.tool.handleGesture(e),e.type="pressup",i.handlePressHold(e),this.tool.handlePressHold(e),this.tool.handleButtonUp(e)}.bind(this),this.hammer.on("singletap",this.onSingleTapBinded),this.hammer.on("dragstart",this.onDragStartBinded),this.hammer.on("dragmove",this.onDragMoveBinded),this.hammer.on("dragend",this.onDragEndBinded)},o.clearLabelMobileGestures=function(){this.hammer&&(this.hammer.off("singletap",this.onSingleTapBinded),this.hammer.off("dragstart",this.onDragStartBinded),this.hammer.off("dragmove",this.onDragMoveBinded),this.hammer.off("dragend",this.onDragEndBinded),this.hammer=null)},o.updateVisibleLabelsArray=function(e,t){if(t)this.visibleLabels.indexOf(e)>-1||this.visibleLabels.push(e);else{var i=this.visibleLabels.indexOf(e);i>-1&&this.visibleLabels.splice(i,1)}},o.hideEndpoints=function(){for(var e in this.endpoints)if(Object.prototype.hasOwnProperty.call(this.endpoints,e)){var t=this.endpoints[e];t.label&&this.hideLabel(t.label)}},o.showEndpoints=function(){for(var e in this.endpoints)if(Object.prototype.hasOwnProperty.call(this.endpoints,e)){var t=this.endpoints[e];this.measurement.hasPick(e)&&t.label&&this.showLabel(t.label)}},o.hideLabel=function(e){e&&(a.safeToggle(e,"visible",!1),this.updateVisibleLabelsArray(e,!1))},o.showLabel=function(e){e&&(a.safeToggle(e,"visible",!0),this.updateVisibleLabelsArray(e,!0))},o.changeEndpointOnEditStyle=function(e,t){this.endpoints[e]&&this.endpoints[e].label&&a.safeToggle(this.endpoints[e].label,"on-edit",t)},o.changeEndpointEditableStyle=function(e,t){this.endpoints[e]&&this.endpoints[e].label&&a.safeToggle(this.endpoints[e].label,"editable",t)},o.changeAllEndpointsEditableStyle=function(e){for(var t in this.endpoints)Object.prototype.hasOwnProperty.call(this.endpoints,t)&&this.changeEndpointEditableStyle(t,e)},o.changeAllEndpointsOnEditStyle=function(e){for(var t in this.endpoints)Object.prototype.hasOwnProperty.call(this.endpoints,t)&&this.changeEndpointOnEditStyle(t,e)},o.hideLabelsOutsideOfView=function(){this.viewer.model&&!this.viewer.model.is2d()&&this.visibleLabels.forEach(function(e){if(e.point){var t=this.viewer.navigation.isPointVisible(e.point);(e.classList.contains("visible")&&!t||!e.classList.contains("visible")&&t)&&e.classList.toggle("visible",t)}}.bind(this))},o.showClick=function(e){this.tool.getActivePointIndex()!==e&&this.showLabel(this.endpoints[e].label)},o.hideClick=function(e){this.endpoints[e]&&this.hideLabel(this.endpoints[e].label)},o.renderPick=function(e){this.endpoints[e]||this.createEndpoint(e),this.renderEndpointGeometry(e),this.showClick(e)},o.renderEndpointGeometry=function(e){var t=a.getSnapResultPosition(this.measurement.getPick(e),this.viewer);null!==t&&(this.endpoints[e].position=t.clone())},o.drawEdgeAsCylinder=function(e,t,i,n,s){var a,r=[];const o=e.getAttribute("position"),l=new THREE.Vector3,c=new THREE.Vector3;if(1==n)for(let e=0;e<o.count;e+=2)l.fromBufferAttribute(o,e),c.fromBufferAttribute(o,e+1),a=this.cylinderMesh(l,c,t,i,s),this.setCylinderScale(a,l,c),r.push(a);else for(let e=0;e<o.count-1;e++)l.fromBufferAttribute(o,e),c.fromBufferAttribute(o,e+1),a=this.cylinderMesh(l,c,t,i,s),this.setCylinderScale(a,l,c),r.push(a);return r},o.drawDashedLine=function(e,t,i,n,s,a,r){const o=new THREE.BufferGeometry;var l=(new THREE.Vector3).subVectors(t,e),c=l.length()-n,u=l.normalize(),h=e.clone(),d=0;const p=[];for(;d<c;){var A=this.viewer.navigation.isPointVisible(h);A&&p.push(h.clone()),h.addVectors(h,u.clone().multiplyScalar(i)),A&&p.push(h.clone()),h.addVectors(h,u.clone().multiplyScalar(n)),d+=i+n}return o.setFromPoints(p),l=this.drawEdgeAsCylinder(o,s,a,1,this.getNewCylinderGeometry()),this.viewer.impl.addMultipleOverlays(r,l),l},o.drawLineAsCylinder=function(e,t,i,n){var s;const a=e.getAttribute("position");if(2==a.count){const e=(new THREE.Vector3).fromBufferAttribute(a,0),r=(new THREE.Vector3).fromBufferAttribute(a,1);s=this.cylinderMesh(e,r,t,i,this.getNewCylinderGeometry()),this.setCylinderScale(s,e,r),this.viewer.impl.addOverlay(n,s)}return s},o.getNewCylinderGeometry=function(){return new THREE.CylinderGeometry(.1,.1,1,8,1,!0)},o.cylinderMesh=function(e,t,i,n,s){var a=(new THREE.Vector3).subVectors(t,e),r=new THREE.Matrix4;r.lookAt(e,t,(new THREE.Object3D).up),r.multiply((new THREE.Matrix4).set(n,0,0,0,0,0,n,0,0,-a.length(),0,0,0,0,0,1));var o=new THREE.Mesh(s,i);return o.applyMatrix4(r),o.lmv_line_width=n,o.position.x=(t.x+e.x)/2,o.position.y=(t.y+e.y)/2,o.position.z=(t.z+e.z)/2,o},o.setCylinderScale=function(e,t,i){var n;if(t&&i){var s=a.nearestPointInPointToSegment(this.viewer.navigation.getPosition(),t,i);n=this.setScale(s)}else n=this.setScale(e.position);Object.prototype.hasOwnProperty.call(e,"lmv_line_width")&&(n*=e.lmv_line_width),e.scale.x=n,e.scale.z=n},o.setScale=function(e){var t=this.viewer.navigation,i=t.getCamera(),n=t.getPosition(),s=e.clone(),a=i.isPerspective?s.sub(n).length():t.getEyeVector().length(),r=t.getVerticalFov();return 5*(2*a*Math.tan(THREE.Math.degToRad(.5*r)))/t.getScreenViewport().height},o.alignLabelWithLine=function(e,t,i,n,s){var a=s.navigation.getCameraUpVector(),r=180*new THREE.Vector3(0,1,0).angleTo(a)/Math.PI;r=a.x>=0?r:-r;var o=null,l=t.x-i.x,c=t.y-i.y;o=-((o=t.x<i.x?180*Math.atan2(-c,-l)/Math.PI:180*Math.atan2(c,l)/Math.PI)+r),Math.abs(o)>90&&(o+=180),e.style.transform="rotate("+o+"deg) translate(0px, "+n+"px)"},o.destroy=function(){for(var e in this.materialPoint=null,this.materialFace=null,this.materialLine=null,this.materialAngle=null,s.isTouchDevice()&&this.clearLabelMobileGestures(),this.endpoints)if(Object.prototype.hasOwnProperty.call(this.endpoints,e)){var t=this.endpoints[e];t.label&&(t.label.removeEventListener(s.isSafari()?"mousedown":"pointerdown",this.onMouseClickBinded),t.label.removeEventListener("mousewheel",this.viewer.toolController.mousewheel),t.label.parentNode.removeChild(t.label),t.label=null)}this.visibleLabels=[]},o.renderRubberbandFromPoints=function(e){const t=Object.keys(e),i=[];for(let n=0;n<t.length;n++)i.push(e[t[n]].intersection);switch(this.measurement.measurementType){case a.MeasurementTypes.MEASUREMENT_DISTANCE:var n=e[1].intersection,s=e[2].intersection;n&&s&&this.renderDistanceMeasurementFromPoints(n,s);break;case a.MeasurementTypes.MEASUREMENT_ANGLE:this.renderAngleMeasurementFromPoints(i);break;case a.MeasurementTypes.MEASUREMENT_AREA:this.renderAreaMeasurementFromPoints(i);break;case a.MeasurementTypes.MEASUREMENT_ARC:{const t=e[1].intersection,i=e[2].intersection,n=e[1].circularArcCenter,s=e[1].circularArcRadius;this.renderArcMeasurementFromPoints(t,i,n,s);break}case a.MeasurementTypes.MEASUREMENT_SPOT:this.renderSpotMeasurementFromPoints(i);break;case a.MeasurementTypes.MEASUREMENT_CALLOUT:this.renderCalloutMeasurementFromPoints(i)}},o.renderRubberband=function(e){switch(this.measurement.measurementType){case a.MeasurementTypes.MEASUREMENT_DISTANCE:var t=e[1],i=e[2],n=a.getSnapResultPosition(t,this.viewer),s=a.getSnapResultPosition(i,this.viewer);n&&s&&this.renderDistanceMeasurement(n,s);break;case a.MeasurementTypes.MEASUREMENT_ANGLE:this.renderAngleMeasurement(e);break;case a.MeasurementTypes.MEASUREMENT_AREA:this.renderAreaMeasurement(e);break;case a.MeasurementTypes.MEASUREMENT_ARC:{let t=e[1],i=e[2];t&&i&&this.renderArcMeasurement(t,i);break}case a.MeasurementTypes.MEASUREMENT_SPOT:{const t=a.getSnapResultPosition(e[1],this.viewer);t&&this.renderSpotMeasurement(t);break}case a.MeasurementTypes.MEASUREMENT_CALLOUT:this.renderCalloutMeasurement(e)}},o.initMouseEvent=function(e,t){var i=s.isSafari();this.onMouseClickBinded=function(e){(i||"mouse"===e.pointerType)&&(e.canvasX=e.clientX,e.canvasY=e.clientY,this.tool.editEndpoint(e,t,this.measurement.id))}.bind(this),e.addEventListener(i?"mousedown":"pointerdown",this.onMouseClickBinded)};var c=Autodesk.Viewing,u=Autodesk.Viewing.MeasureCommon;const h="009bea",d="F12C2C",p="0BB80B",A="2C2CF1",g=new THREE.Color;function m(e){return g.set(e>>>8).getHexString()}function v(e,t,i){r.call(this,e,t,i),this.measureTool=i,this.endpoints=[],this.lines={xyz:{axis:!1,material:this._createLineMaterial(h),className:"adsk-icon-axis-delta-xyz measure-label-axis-delta measure-label-axis-xyz"},x:{axis:!0,material:this._createLineMaterial(d),className:"adsk-icon-axis-delta-x measure-label-axis-delta measure-label-axis-x",iconText:"X"},y:{axis:!0,material:this._createLineMaterial(p),className:"adsk-icon-axis-delta-y measure-label-axis-delta measure-label-axis-y",iconText:"Y"},z:{axis:!0,material:this._createLineMaterial(A),className:"adsk-icon-axis-delta-z measure-label-axis-delta measure-label-axis-z",iconText:"Z"}},this.applyLineColor(this.lines.xyz.material),this.segments=[],this.dashedLines=[],this.simple=!1,this.angleLabel={},this.areaLabel={},this.arcLabel={},this.spotLabel={},this.calloutLabel={},this.labels=[],this.isLeaflet=!1,this.topologyStatus=b,this.tmpVector=new THREE.Vector3,this.surfaceColor=new THREE.MeshBasicMaterial({color:parseInt(h,16),opacity:.15,transparent:!0,depthTest:!1,depthWrite:!1,side:THREE.DoubleSide}),this.applyLineColor(this.surfaceColor),this.topLabel=null,this.allowShortDistances=!1,this.segmentWidth=4}v.prototype=Object.create(r.prototype),v.prototype.constructor=v;var f=v.prototype,b=0;function C(e){return e.classList.contains("visible")}function y(e,t){return e.right>=t.left&&e.right<=t.right}function w(e,t){return e.left>=t.left&&e.left<=t.right}function E(e,t){return e.left<=t.left&&e.right>=t.right}function x(e,t,i){e.style.left=parseInt(e.style.left,10)+(i.right-t.left)+"px"}function k(e,t,i){e.style.top=parseInt(e.style.top,10)+(i.bottom-t.top)+"px"}function M(e,t){if(e){var i=e.querySelector(".measure-length-text");i&&(i.textContent=t)}}function T(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/\n/g,"<br>")}function L(e){if("string"==typeof e)return T(e);let t="",i=e.fontSize;void 0!==e.fontSize&&10!==e.fontSize?(i=`font-size: ${0|10*i}%;`,t=" "):i="";let n=e.bold;n=void 0!==n?`${t}font-weight: ${n?"bold":"normal"};`:"";const s=T(e.text);return n||i?`<span style="${i}${n}">${s}</span>`:s}function B(e,t){if(e){var i=e.querySelector(".measure-delta-text");i&&(i.textContent=t)}}function S(e,t,i){if(e){var n=e.querySelector(".measure-fetching-topology");n&&(n.style.display=t&&1===i?"inline-block":"none")}}f.init=function(){var e;switch(this.isLeaflet=this.viewer.model.isLeaflet(),this.onSelectionAreaClickedBinded=this.onSelectionAreaClicked.bind(this),this.onMeasurementHoveredBinded=this.onMeasurementHovered.bind(this),this.lines.xyz.label||(e=this.lines.xyz.label=this.createMeasurementLabel(),this._addEventListener(e),this.viewer.container.appendChild(e)),this.topologyStatus){case 1:this.setFetchingTopology();break;case 2:this.setTopologyAvailable();break;case b:this.setNoTopology()}this.showMeasureResult=!1,this.onCameraChangeBinded=this.onCameraChange.bind(this),this.viewer.addEventListener(c.CAMERA_CHANGE_EVENT,this.onCameraChangeBinded),this.handleButtonUpBinded=this.measureTool.handleButtonUp.bind(this.measureTool),this.addWindowEventListener("mouseup",this.handleButtonUpBinded)},f._addEventListener=function(e){e&&(e.addEventListener("mousewheel",this.viewer.toolController.mousewheel),e.addEventListener("click",this.onSelectionAreaClickedBinded),e.addEventListener("mouseover",this.onMeasurementHoveredBinded))},f._removeEventListener=function(e){e&&(e.removeEventListener("mousewheel",this.viewer.toolController.mousewheel),e.removeEventListener("click",this.onSelectionAreaClickedBinded),e.removeEventListener("mouseover",this.onMeasurementHoveredBinded))},f._hexToCorrectedColor=function(e){return g.set(parseInt(e,16)),this.viewer.impl.is2d||g.multiply(g),g},f._createLineMaterial=function(e){const t=this._hexToCorrectedColor(e);return new THREE.MeshBasicMaterial({color:t.getHex(),depthTest:!1,depthWrite:!1,side:THREE.DoubleSide})},f.createEndpoint=function(e){if(this.endpoints[e]={},2!==e||this.measurement.measurementType!==u.MeasurementTypes.MEASUREMENT_SPOT&&this.measurement.measurementType!==u.MeasurementTypes.MEASUREMENT_CALLOUT){var t=this.endpoints[e].label=this.createSnapResultLabel(e);this.viewer.container.appendChild(t)}},f.applyLineColor=function(e){if(!e)return;const t=this.measurement.options&&this.measurement.options.format&&this.measurement.options.format.TEXTCOLOR&&"true"===this.measurement.options.format.TEXTCOLOR.Enabled&&this.measurement.options.format.FILLCOLOR&&"true"===this.measurement.options.format.FILLCOLOR.Enabled&&this.measurement.options.format.LINECOLOR&&"true"===this.measurement.options.format.LINECOLOR.Enabled?m(this.measurement.options.format.LINECOLOR.UIntValue):h,i=this._hexToCorrectedColor(t);e.color.set(i)},f.applyLabelColors=function(e){if(!e)return;const t=this.measurement.options&&this.measurement.options.format&&this.measurement.options.format.TEXTCOLOR&&"true"===this.measurement.options.format.TEXTCOLOR.Enabled&&this.measurement.options.format.FILLCOLOR&&"true"===this.measurement.options.format.FILLCOLOR.Enabled&&this.measurement.options.format.LINECOLOR&&"true"===this.measurement.options.format.LINECOLOR.Enabled,i=t?`#${m(this.measurement.options.format.TEXTCOLOR.UIntValue)}`:`#${h}`,n=t?`#${m(this.measurement.options.format.FILLCOLOR.UIntValue)}`:"#f4f4f4";e.style.color=i,e.style.backgroundColor=n},f.updateLabelsPosition=function(){var e,t,i,n;const s=(n,s)=>{t=u.project(e,this.viewer),i.style.top=t.y-s+"px",i.style.left=t.x-n+"px",i.point=e,this.applyLabelColors(i),this.labels.push(i)};for(n in this.endpoints)Object.prototype.hasOwnProperty.call(this.endpoints,n)&&(i=this.endpoints[n].label,e=this.endpoints[n].position,i&&e&&C(i)&&(t=u.project(e,this.viewer),s(i.getBoundingClientRect().width/2,i.getBoundingClientRect().height/2)));for(var a in this.lines)if(Object.prototype.hasOwnProperty.call(this.lines,a)){var r=this.lines[a];if((i=r.label)&&r.p1&&r.p2&&C(i)){if(r.line.visible=r.visible,e={x:(r.p1.x+r.p2.x)/2,y:(r.p1.y+r.p2.y)/2,z:(r.p1.z+r.p2.z)/2},t=u.project(e,this.viewer),i.style.top=t.y-Math.floor(i.clientHeight/2)+"px",i.style.left=t.x-Math.floor(i.clientWidth/2)+"px",this.viewer.model&&this.viewer.model.is2d()){var o=r===this.lines.xyz?0:i.clientHeight,l=u.project(r.p1,this.viewer),c=u.project(r.p2,this.viewer);if(i.clientWidth>=l.distanceTo(c)-this.endpoints[1].label.clientWidth){if(r!==this.lines.xyz){for(a in this.lines.x.line.visible=!1,this.lines.y.line.visible=!1,this.viewer.impl.invalidate(!1,!1,!0),this.lines)if(Object.prototype.hasOwnProperty.call(this.lines,a)&&this.lines[a]!==this.lines.xyz){var h=this.lines[a].label;h&&(h.style.opacity=0)}break}o=i.clientHeight}if(r!==this.lines.xyz){var d=new THREE.Vector3,p=new THREE.Vector3;d.subVectors(this.lines.xyz.p1,this.lines.xyz.p2).normalize(),p.subVectors(r.p1,r.p2).normalize(),d.cross(this.viewer.navigation.getEyeVector()).normalize().dot(p)<0&&(o=-o)}this.alignLabelWithLine(i,r.p1,r.p2,o,this.viewer)}i.style.opacity=1,i.point=e,this.applyLabelColors(i),this.labels.push(i)}}if(this.angleLabel&&(i=this.angleLabel.label)&&this.angleLabel.p1&&this.angleLabel.p2&&C(i)&&(e={x:(this.angleLabel.p1.x+this.angleLabel.p2.x)/2,y:(this.angleLabel.p1.y+this.angleLabel.p2.y)/2,z:(this.angleLabel.p1.z+this.angleLabel.p2.z)/2},t=u.project(e,this.viewer,5),s(Math.floor(i.clientWidth/2),Math.floor(i.clientHeight/2))),this.arcLabel&&(o=0,(i=this.arcLabel.label)&&this.arcLabel.p1&&this.arcLabel.p2&&C(i))){e={x:(this.arcLabel.p1.x+this.arcLabel.p2.x)/2,y:(this.arcLabel.p1.y+this.arcLabel.p2.y)/2,z:(this.arcLabel.p1.z+this.arcLabel.p2.z)/2},t=u.project(e,this.viewer,i.clientHeight),s(Math.floor(i.clientWidth/2),Math.floor(i.clientHeight/2));let n=u.project(this.arcLabel.point1Relative,this.viewer),a=u.project(this.arcLabel.point2Relative,this.viewer);if(i.clientWidth>=n.distanceTo(a)-this.endpoints[1].label.clientWidth){var A=u.project(this.arcLabel.midPointRelative,this.viewer),g=u.project(new THREE.Vector3,this.viewer);o=A.y>g.y?i.clientHeight:-i.clientHeight}this.alignLabelWithLine(i,this.arcLabel.point1Relative,this.arcLabel.point2Relative,o,this.viewer)}if(this.spotLabel&&(i=this.spotLabel.label)&&this.spotLabel.p&&C(i)&&(t=u.project(this.spotLabel.p,this.viewer),s(5,Math.floor(i.clientHeight)+10)),this.calloutLabel&&(i=this.calloutLabel.label)&&this.calloutLabel.p&&C(i)&&(t=u.project(this.calloutLabel.p,this.viewer),s(Math.floor(i.clientWidth/2),Math.floor(i.clientHeight/2))),this.areaLabel&&(i=this.areaLabel.label)&&this.areaLabel.p1&&this.areaLabel.p2&&C(i)&&(e={x:(this.areaLabel.p1.x+this.areaLabel.p2.x)/2,y:(this.areaLabel.p1.y+this.areaLabel.p2.y)/2,z:(this.areaLabel.p1.z+this.areaLabel.p2.z)/2},t=u.project(e,this.viewer),s(Math.floor(i.clientWidth/2),Math.floor(i.clientHeight/2))),this.viewer.model&&!this.viewer.model.is2d()){var m,v,f=!1;this.labelsStacked=!1;var b=[];for(v=0;v<this.labels.length;v++)b.push({left:this.labels[v].style.left,top:this.labels[v].style.top});for(v=0;v<this.labels.length&&!f;v++)m=this.labels[v],f=this.labelsOverlapDetection(m,this.labels);if(f){for(v=0;v<this.labels.length;v++)this.labels[v].style.left=b[v].left,this.labels[v].style.top=b[v].top;for(this.stackLabels(this.labels),v=0;v<this.labels.length;v++)m=this.labels[v],this.labelsOverlapDetection(m,this.labels)}}this.labels=[]},f.labelsOverlapDetection=function(e,t){for(var i,n,s,a,r,o=!1,l=0;l<t.length;l++){var c=t[l],u=!1;if(e!==c){var h=e.getBoundingClientRect(),d=c.getBoundingClientRect();if(r=h,(a=d).top<r.bottom&&a.bottom>r.top&&(y(d,h)?(n=d,s=h,(i=c).style.left=parseInt(i.style.left,10)-(n.right-s.left)+"px",u=!0):w(d,h)?(x(c,d,h),u=!0):E(d,h)&&(k(c,d,h),u=!0),u)){var p=t.slice(0);p.splice(p.indexOf(e),1),this.labelsOverlapDetection(c,p),c.causeStacking&&e.causeStacking&&(o=!0),c.causeStacking&&this.labelsStacked&&this.stackLabels(this.labels)}}}return o},f.stackLabels=function(e){for(var t=this.topLabel??this.lines.xyz.label,i=1;i<e.length;i++){if(e[i].causeStacking){e[i].style.left=t.style.left;var n=e[i-1].getBoundingClientRect(),s=e[i-1]==t?4:0,a=e[i]===t?t.style.top:e[i-1].style.top;e[i].style.top=parseInt(a,10)+n.height+s+"px"}e[i].style.transform=""}this.labelsStacked=!0},f.drawXYZLine=function(e){var t=this,i=e.p1,n=e.p2;if(!i||!n)return;e.line=this.drawLineSegment(i,n,this.segmentWidth,e.material);const s=[new THREE.Vector3,new THREE.Vector3],a=e.geometry=new THREE.BufferGeometry;var r,o=u.nearestPointInPointToSegment(t.viewer.navigation.getPosition(),i,n),l=t.setScale(o);const c=this.measurement.options&&this.measurement.options.dimensionOffset;if(c){const t=new THREE.Vector3(c[0].x,c[0].y,c[0].z),s=new THREE.Vector3(c[1].x,c[1].y,c[1].z);r=(new THREE.Vector3).subVectors(i,t),this.segments.push({line:this.drawLineSegment(t,i,this.segmentWidth,e.material),p1:t,p2:i}),this.segments.push({line:this.drawLineSegment(n,s,this.segmentWidth,e.material),p1:n,p2:s}),i=t,n=s}else r=(new THREE.Vector3).subVectors(n,i);var h=r.cross(t.viewer.navigation.getEyeVector()).normalize();e.visible=!0,this.segments.push(e);const d=this.measurement.options&&this.measurement.options.dashedLeader;if(d){const t=new THREE.Vector3(d[0].x,d[0].y,d[0].z),i=new THREE.Vector3(d[1].x,d[1].y,d[1].z);this.drawLineSegment(t,i,this.segmentWidth,e.material,!0)}function p(r){s[0].addVectors(r,h.clone().multiplyScalar(2*l)),s[1].subVectors(r,h.clone().multiplyScalar(2*l)),a.setFromPoints(s);var o=t.drawLineAsCylinder(a,e.material,3,t.overlayName);t.setCylinderScale(o,i,n),o.visible=!0,e.tips.push(o)}t.showMeasureResult&&(e.tips=[],p(i),p(n))},f.redrawDashedLine=function(e){if(e.p1&&e.p2){this.viewer.impl.removeMultipleOverlays(this.overlayName,e.line,!0);var t=this.setScale(e.p2),i=2*t,n=1*t;return e.line=this.drawDashedLine(e.p2,e.p1,i,n,this.lines.xyz.material,3,this.overlayName),e.line}},f.redrawDashedLines=function(){this.dashedLines.forEach(this.redrawDashedLine.bind(this))},f.drawLineSegment=function(e,t,i,n,s){var a;if(s){const i={};i.p1=e,i.p2=t,this.dashedLines.push(i),a=this.redrawDashedLine(i)}else{const s=(new THREE.BufferGeometry).setFromPoints([e,t]);a=this.drawLineAsCylinder(s,n,i,this.overlayName),this.setCylinderScale(a,e,t)}return a.visible=!0,a},f.drawSurface=function(e){let t=new Autodesk.Viewing.Extensions.CompGeom.ContourSet;if(t.addContour(e),t.triangulate(),t.triangulationFailed)return!1;let i=t.toPolygonMesh();var n=new THREE.Mesh(i,this.surfaceColor);return this.applyLineColor(this.surfaceColor),this.viewer.impl.addOverlay(this.overlayName,n),!0},f.drawSegmentAndPush=function(e,t,i){if(e&&t){var n=this.drawLineSegment(e,t,this.segmentWidth,this.lines.xyz.material,i);if(!i){var s={line:n,p1:e,p2:t};this.segments.push(s)}}},f.renderAreaMeasurementFromPoints=function(e){let t,i,n;const s=[];this.applyLineColor(this.lines.xyz.material),this.applyLineColor(this.surfaceColor);const a=Object.keys(e);for(var r=0;r<a.length-1;r++){const o=parseFloat(a[r]),l=e[o],c=e[o+1];0===r&&(n=new THREE.Vector3(l.x,l.y,l.z)),t=new THREE.Vector3(l.x,l.y,l.z),i=new THREE.Vector3(c.x,c.y,c.z),this.drawSegmentAndPush(t,i),s.push(t)}a.length>2&&(this.drawSegmentAndPush(n,i,!this.measurement.closedArea),u.isEqualVectors(n,i,u.EPSILON)||s.push(i),0!==this.measurement.area&&this.drawSurface(s)&&(this.showAreaLabel(l(s)),this.updateArea()))},f.renderAreaMeasurement=function(e){for(var t,i,n=this.measurement.countPicks(),s=[],a=1;a<n;a++)t=u.getSnapResultPosition(e[a],this.viewer),i=u.getSnapResultPosition(e[a+1],this.viewer),this.drawSegmentAndPush(t,i),s.push(t);n>2&&(t=u.getSnapResultPosition(e[1],this.viewer),this.drawSegmentAndPush(t,i,!this.measurement.closedArea),u.isEqualVectors(t,i,u.EPSILON)||s.push(i),0!==this.measurement.area&&this.drawSurface(s)&&(this.showAreaLabel(l(s)),this.updateArea()))},f.clearAngleMeshes=function(){this.angleArc&&(this.viewer.impl.removeOverlay(this.overlayName,this.angleArc,!0),this.angleArc=null),this.angleOutline.length>0&&(this.viewer.impl.removeMultipleOverlays(this.overlayName,this.angleOutline,!0),this.angleOutline.length=0)},f.drawAngle=function(e,t,i,n,s,a,r){var o=.001;this.materialAngle||(this.materialAngle=new THREE.MeshPhongMaterial({color:10066329,opacity:.5,transparent:!0,depthTest:!1,depthWrite:!1,side:THREE.DoubleSide}),this.materialAngleOutline=new THREE.MeshBasicMaterial({color:16750848,depthTest:!1,depthWrite:!1})),this.applyLineColor(this.lines.xyz.material),this.applyLineColor(this.surfaceColor),u.createCommonOverlay(this.viewer,this.overlayName),this.clearAngleMeshes();var l=r||Math.min(e.distanceTo(t),e.distanceTo(i))/4,c=new THREE.CircleBufferGeometry(l,100,0,s*Math.PI/180),h=new THREE.Mesh(c,this.surfaceColor);this.applyLineColor(this.surfaceColor);const d=h.geometry.getAttribute("position");{const e=Array.from(d.array),t=e.slice(0,d.itemSize);d.array=Float32Array.from(e.concat(t)),d.count++,d.needsUpdate=!0}h.position.set(e.x,e.y,e.z);var p=h.position.clone();p.add(n),h.lookAt(p),h.updateMatrixWorld();let A=(new THREE.Vector3).fromBufferAttribute(d,1),g=(new THREE.Vector3).fromBufferAttribute(d,d.count-2);A.applyMatrix4(h.matrixWorld),g.applyMatrix4(h.matrixWorld);var m=new THREE.Vector3,v=new THREE.Vector3,f=new THREE.Vector3,b=new THREE.Vector3;m.subVectors(A,e),v.subVectors(g,e),f.subVectors(t,e),b.subVectors(i,e);var C,y=m.angleTo(f),w=m.angleTo(b),E=v.angleTo(f),x=v.angleTo(b);C=(y<=o&&y>=-.001||w<=o&&w>=-.001)&&(E<=o&&E>=-.001||x<=o&&x>=-.001)?0:(y<=Math.PI+o&&y>=Math.PI-o||w<=Math.PI+o&&w>=Math.PI-o)&&(E<=Math.PI+o&&E>=Math.PI-o||x<=Math.PI+o&&x>=Math.PI-o)?Math.PI:y<=E+o&&y>=E-o||y<=x+o&&y>=x-o?y:w;var k=new THREE.Matrix4;k.makeRotationAxis(n,C),k.multiply(h.matrix),h.matrix=k,h.rotation.setFromRotationMatrix(h.matrix),h.updateMatrixWorld(),A=(new THREE.Vector3).fromBufferAttribute(d,1),g=(new THREE.Vector3).fromBufferAttribute(d,d.count-2),A.applyMatrix4(h.matrixWorld),g.applyMatrix4(h.matrixWorld),m.subVectors(A,e),v.subVectors(g,e),y=m.angleTo(f),w=m.angleTo(b),E=v.angleTo(f),x=v.angleTo(b),y>=o&&w>=o&&((k=new THREE.Matrix4).makeRotationAxis(n,2*-C),k.multiply(h.matrix),h.matrix=k,h.rotation.setFromRotationMatrix(h.matrix));const M=new THREE.CircleBufferGeometry(l,100,0,s*Math.PI/180);{const e=M.getAttribute("position");e.array=e.array.slice(e.itemSize),e.count--,e.needsUpdate=!0}if(h.updateMatrixWorld(),M.applyMatrix4(h.matrixWorld),this.angleOutline=this.drawEdgeAsCylinder(M,this.lines.xyz.material,2,0,this.getNewCylinderGeometry()),this.angleArc=h,this.viewer.impl.addOverlay(this.overlayName,this.angleArc),this.viewer.impl.addMultipleOverlays(this.overlayName,this.angleOutline),a.fromBufferAttribute(d,Math.round(d.count/2)-1),a.applyMatrix4(h.matrixWorld),!r){var T=new THREE.Vector3;T.subVectors(a,e).normalize(),T.multiplyScalar(l/2),a.add(T)}},f.createArcLabel=function(){var e=this.createMeasurementLabel();return this.viewer.container.appendChild(e),this._addEventListener(e),e},f.clearArcMeshes=function(){this.arcOutline&&this.arcOutline.length>0&&(this.viewer.impl.removeMultipleOverlays(this.overlayName,this.arcOutline,!0),this.arcOutline.length=0)},f.drawCircularArc=function(e,t,i,n){let s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];var a=new THREE.BufferGeometry;const r=[new THREE.Vector3,new THREE.Vector3];var o=u.nearestPointInPointToSegment(this.viewer.navigation.getPosition(),e,t),l=this.setScale(o),c=new THREE.Vector3;c.subVectors(e,i);var h=Math.atan2(c.y,c.x),d=new THREE.Vector3;d.subVectors(t,i);var p=Math.atan2(d.y,d.x);this.arcLabel.point1Relative=c.clone(),this.arcLabel.point2Relative=d.clone().normalize().multiplyScalar(n);var A=p-h;A>Math.PI?A-=2*Math.PI:A<-Math.PI&&(A+=2*Math.PI);var g=new THREE.CircleBufferGeometry(n,100,h,A),m=new THREE.Mesh(g,this.lines.xyz.material);m.position.set(i.x,i.y,i.z);{const e=g.getAttribute("position");e.array=e.array.slice(e.itemSize),e.count--,e.needsUpdate=!0}function v(e,t){r[0].addVectors(e,t.clone().multiplyScalar(2*l)),r[1].subVectors(e,t.clone().multiplyScalar(2*l)),a.setFromPoints(r);var i=this.drawLineAsCylinder(a,this.lines.xyz.material,3,this.overlayName);this.arcTip.push(i)}m.updateMatrixWorld(),g.applyMatrix4(m.matrixWorld),u.createCommonOverlay(this.viewer,this.overlayName),this.clearArcMeshes(),this.arcOutline=this.drawEdgeAsCylinder(g,this.lines.xyz.material,this.segmentWidth,0,this.getNewCylinderGeometry()),this.viewer.impl.addMultipleOverlays(this.overlayName,this.arcOutline),s&&(v.call(this,e,c.normalize()),v.call(this,t,d.normalize()));var f=new THREE.Vector3,b=h+.5*A;f.x=Math.cos(b)*n,f.y=Math.sin(b)*n,this.arcLabel.midPointRelative=f.clone(),f.applyMatrix4(m.matrixWorld),this.showArcLabel(f)},f.renderAngleMeasurementFromPoints=function(e){var t=[];const i=Object.keys(e);for(var n=0;n<i.length;n++){const s=e[parseFloat(i[n])];t.push(new THREE.Vector3(s.x,s.y,s.z))}if(3===t.length){let e;const i=this.measurement.options;if(i&&i.offset){const n=new THREE.Vector3(i.offset.x,i.offset.y,i.offset.z),s=n.clone().add(t[1]);n.add(t[0]),this.drawSegmentAndPush(n,s),this.drawSegmentAndPush(t[1],t[2]),this.drawSegmentAndPush(t[0],n,!0),this.drawSegmentAndPush(t[1],s,!0),e=s.clone().sub(n).length()}else this.drawSegmentAndPush(t[0],t[1]),this.drawSegmentAndPush(t[1],t[2]);if(this.measurement.angle){var s=new THREE.Vector3,a=new THREE.Vector3,r=new THREE.Vector3;a.subVectors(t[0],t[1]),r.subVectors(t[1],t[2]),s.crossVectors(a,r),s.normalize();var o=new THREE.Vector3;this.drawAngle(t[1],t[0],t[2],s,this.measurement.angle,o,e),this.showAngleLabel(o),this.updateAngle()}}},f.renderAngleMeasurement=function(e){var t,i,n=this.measurement.countPicks(),s=[];this.applyLineColor(this.lines.xyz.material),this.applyLineColor(this.surfaceColor);for(var a=1;a<n;a++)t=u.getSnapResultPosition(e[a],this.viewer),i=u.getSnapResultPosition(e[a+1],this.viewer),this.drawSegmentAndPush(t,i),t&&s.push(t);if(i&&s.push(i),3===s.length&&this.measurement.angle){var r=new THREE.Vector3,o=new THREE.Vector3,l=new THREE.Vector3;o.subVectors(s[0],s[1]),l.subVectors(s[1],s[2]),r.crossVectors(o,l),r.normalize();var c=new THREE.Vector3;this.drawAngle(s[1],s[0],s[2],r,this.measurement.angle,c),this.showAngleLabel(c),this.updateAngle()}},f.renderArcMeasurementFromPoints=function(e,t,i,n){e&&t&&i&&n&&(this.drawCircularArc(e,t,i,n),this.updateArcLength())},f.renderArcMeasurement=function(e,t){if(!(e&&t&&e.circularArcCenter&&e.circularArcRadius))return;var i=e.circularArcRadius,n=e.circularArcCenter,s=u.getSnapResultPosition(e),a=u.getSnapResultPosition(t);const r=this.showMeasureResult&&u.isEqualVectors(e.circularArcCenter,t.circularArcCenter,0)&&e.circularArcRadius===t.circularArcRadius;this.drawCircularArc(s,a,n,i,r),this.updateArcLength()},f.renderSpot=function(e){if(!e)return;if(!this.spotMesh){const e=new THREE.SphereGeometry(1,10,10),t=this._createLineMaterial(h);this.applyLineColor(t,h),this.spotMesh=new THREE.Mesh(e,t)}const t=this.setScale(e);this.spotMesh.scale.set(t,t,t),this.spotMesh.position.set(e.x,e.y,e.z),this.viewer.impl.addOverlay(this.overlayName,this.spotMesh),this.segments.push({p1:e,p2:e}),this.showSpotLabel(e),this.updateSpot()},f.renderSpotMeasurementFromPoints=function(e){this.renderSpot(e[0])},f.renderSpotMeasurement=function(e){this.renderSpot(e)},f.renderCalloutMeasurementFromPoints=function(e){var t=e[1],i=e[2];t&&i&&(this.applyLineColor(this.lines.xyz.material),this.drawSegmentAndPush(t,i),this.showCalloutLabel(i),this.updateCallout())},f.renderCalloutMeasurement=function(e){var t=e[1]&&e[1].intersection,i=e[2]&&e[2].intersection;t&&i&&(this.applyLineColor(this.lines.xyz.material),this.drawSegmentAndPush(t,i),this.showCalloutLabel(i),this.updateCallout())},f.createDistanceLabel=function(e){var t=e.label=this.createMeasurementLabel();!function(e,t){var i=e.querySelector(".measure-length-text");i&&(i.style.display=t?"":"none")}(t,e===this.lines.xyz);const i=this.getDocument();if(e.axis){t.className=e.className;var n=i.createElement("div");n.className="measure-label-axis-icon "+e.iconText,n.innerText=e.iconText,t.insertBefore(n,t.firstChild),c.isMobileDevice()||u.safeToggle(t,"enableTransition",!0)}return this.viewer.container.appendChild(t),t},f.updateLine=function(e,t,i,n,s,a,r,o){let l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:2;this.applyLineColor(this.lines.xyz.material);var c,h=e.line,d=e.label,p=new THREE.Vector3(t,i,n),A=new THREE.Vector3(s,a,r);if((e===this.lines.x&&A.x>p.x||e===this.lines.y&&A.y>p.y||e===this.lines.z&&A.z>p.z)&&(c=p.clone(),p=A.clone(),A=c.clone()),e.line=null,d?this.hideLabel(d):d=this.createDistanceLabel(e),(this.isLeaflet&&e!==this.lines.z||!0===this.allowShortDistances||p.distanceTo(A)>=u.EPSILON)&&o)if(e.p1=p,e.p2=A,e===this.lines.xyz)this.drawXYZLine(e),this.showLabel(d),this.updateDistance();else{h=e.line=this.drawLineSegment(p,A,l,e.material);var g=!this.simple&&this.showMeasureResult;h.visible=g,e.visible=g,g?this.showLabel(d):this.hideLabel(d)}},f.renderDistanceMeasurementFromPoints=function(e,t){this.updateLine(this.lines.xyz,e.x,e.y,e.z,t.x,t.y,t.z,!0);var i=this.viewer.navigation.getAlignedUpVector(),n=Math.abs(i.x),s=Math.abs(i.y),a=Math.abs(i.z),r=!1;a>n&&a>s?(this.updateLine(this.lines.x,e.x,e.y,e.z,t.x,e.y,e.z,r),this.updateLine(this.lines.y,t.x,e.y,e.z,t.x,t.y,e.z,r),this.updateLine(this.lines.z,t.x,t.y,e.z,t.x,t.y,t.z,r)):s>n&&s>a?(this.updateLine(this.lines.x,e.x,e.y,e.z,t.x,e.y,e.z,r),this.updateLine(this.lines.z,t.x,e.y,e.z,t.x,e.y,t.z,r),this.updateLine(this.lines.y,t.x,e.y,t.z,t.x,t.y,t.z,r)):(this.updateLine(this.lines.y,e.x,e.y,e.z,e.x,t.y,e.z,r),this.updateLine(this.lines.z,e.x,t.y,e.z,e.x,t.y,t.z,r),this.updateLine(this.lines.x,e.x,t.y,t.z,t.x,t.y,t.z,r))},f.renderDistanceMeasurement=function(e,t){var i=this;this.updateLine(this.lines.xyz,e.x,e.y,e.z,t.x,t.y,t.z,!0);var n=this.viewer.navigation.getAlignedUpVector(),s=Math.abs(n.x),a=Math.abs(n.y),r=Math.abs(n.z),o=function(e,t){return i.tmpVector.subVectors(e,t),i.tmpVector.normalize(),!u.isParallel(i.tmpVector,i.xAxis)&&!u.isParallel(i.tmpVector,i.yAxis)&&!u.isParallel(i.tmpVector,i.zAxis)}(e,t);r>s&&r>a?(this.updateLine(this.lines.x,e.x,e.y,e.z,t.x,e.y,e.z,o),this.updateLine(this.lines.y,t.x,e.y,e.z,t.x,t.y,e.z,o),this.updateLine(this.lines.z,t.x,t.y,e.z,t.x,t.y,t.z,o)):a>s&&a>r?(this.updateLine(this.lines.x,e.x,e.y,e.z,t.x,e.y,e.z,o),this.updateLine(this.lines.z,t.x,e.y,e.z,t.x,e.y,t.z,o),this.updateLine(this.lines.y,t.x,e.y,t.z,t.x,t.y,t.z,o)):(this.updateLine(this.lines.y,e.x,e.y,e.z,e.x,t.y,e.z,o),this.updateLine(this.lines.z,e.x,t.y,e.z,e.x,t.y,t.z,o),this.updateLine(this.lines.x,e.x,t.y,t.z,t.x,t.y,t.z,o))},f.updateResults=function(){this.updateDistance(),this.updateAngle(),this.updateArea(),this.updateArcLength(),this.updateSpot(),setTimeout(function(){this.viewer.impl&&this.updateLabelsPosition()}.bind(this),0)},f.updateDistance=function(){function e(e,t){e&&(e.style.width=t)}function t(e){return e?e.clientWidth:0}Object.keys(this.lines).forEach(function(t){e(this.lines[t].label,"")}.bind(this)),B(this.lines.x.label,"~ "+this.measureTool.getDistanceX(this.measurement)),B(this.lines.y.label,"~ "+this.measureTool.getDistanceY(this.measurement)),B(this.lines.z.label,"~ "+this.measureTool.getDistanceZ(this.measurement)),M(this.lines.xyz.label,"~ "+this.measureTool.getDistanceXYZ(this.measurement)),this.viewer.model&&this.viewer.model.is3d()&&setTimeout(function(){var i=Math.max(t(this.lines.x.label),t(this.lines.y.label),t(this.lines.z.label),t(this.lines.xyz.label));Object.keys(this.lines).forEach(function(t){e(this.lines[t].label,i+"px")}.bind(this))}.bind(this),0)},f.updateAngle=function(){M(this.angleLabel.label,"~ "+this.measureTool.getAngle(this.measurement))},f.updateSpot=function(){M(this.spotLabel.label,("~ "+this.measureTool.getSpot(this.measurement)).split("\n").join("\n~ ").replaceAll(" ",""))},f.updateCallout=function(){!function(e,t){if("string"==typeof t)return void M(e,t);var i=e.querySelector(".measure-length-text");i&&(Array.isArray(t)?i.innerHTML=t.map(L).join(""):i.innerHTML=L(t))}(this.calloutLabel.label,this.measureTool.getCallout(this.measurement))},f.updateArea=function(){M(this.areaLabel.label,"~ "+this.measureTool.getArea(this.measurement))},f.updateArcLength=function(){M(this.arcLabel.label,"~ "+this.measureTool.getArc(this.measurement))},f.setSimple=function(e){if(this.simple!=e){this.simple=e;var t=!e;this.setLineVisible(this.lines.x,t),this.setLineVisible(this.lines.y,t),this.setLineVisible(this.lines.z,t),this.updateLabelsPosition(),this.viewer.impl.invalidate(!1,!1,!0)}},f.setLineVisible=function(e,t){e.line&&(e.line.visible=t,e.visible=t,e.label&&(t?this.showLabel(e.label):(this.hideLabel(e.label),e.label.style.opacity=0)))},f.enableLabelsTouchEvents=function(e){var t=e?"all":"none";this.lines.xyz.label&&(this.lines.xyz.label.style.pointerEvents=t),this.angleLabel.label&&(this.angleLabel.label.style.pointerEvents=t),this.areaLabel.label&&(this.areaLabel.label.style.pointerEvents=t),this.arcLabel.label&&(this.arcLabel.label.style.pointerEvents=t),this.spotLabel.label&&(this.spotLabel.label.style.pointerEvents=t)},f.setLabelsZIndex=function(e){for(var t in this.lines)if(Object.prototype.hasOwnProperty.call(this.lines,t)){var i=this.lines[t];i.label&&(i.label.style.zIndex=e)}for(t in this.angleLabel&&this.angleLabel.label&&(this.angleLabel.label.style.zIndex=e),this.spotLabel&&this.spotLabel.label&&(this.spotLabel.label.style.zIndex=e),this.calloutLabel&&this.calloutLabel.label&&(this.calloutLabel.label.style.zIndex=e),this.areaLabel&&this.areaLabel.label&&(this.areaLabel.label.style.zIndex=e),this.arcLabel&&this.arcLabel.label&&(this.arcLabel.label.style.zIndex=e),this.endpoints)if(Object.prototype.hasOwnProperty.call(this.endpoints,t)){var n=this.endpoints[t];n.label&&(n.label.style.zIndex=e-1)}},f.focusLabels=function(){this.setLabelsZIndex(3)},f.unfocusLabels=function(){this.setLabelsZIndex(2)},f.clear=function(){var e;for(e in this.endpoints)if(Object.prototype.hasOwnProperty.call(this.endpoints,e)){var t=this.endpoints[e];t.label&&this.hideLabel(t.label)}for(e in this.lines)if(Object.prototype.hasOwnProperty.call(this.lines,e)){var i=this.lines[e];i.line&&(i.line.visible=!1,i.visible=!1,i.tips&&i.tips.forEach((function(e){e.visible=!1}))),i.label&&(this.hideLabel(i.label),i.label.style.opacity=0,i.label.style.zIndex=2)}this.angleLabel&&this.angleLabel.label&&this.hideLabel(this.angleLabel.label),this.spotLabel&&this.spotLabel.label&&this.hideLabel(this.spotLabel.label),this.calloutLabel&&this.calloutLabel.label&&this.hideLabel(this.calloutLabel.label),this.areaLabel&&this.areaLabel.label&&this.hideLabel(this.areaLabel.label),this.arcLabel&&this.arcLabel.label&&this.hideLabel(this.arcLabel.label),this.clearSelectionAreas(),this.segments=[],this.dashedLines=[],this.viewer.impl.clearOverlay(this.overlayName,!0),u.createCommonOverlay(this.viewer,this.overlayName)},f.hideClick=function(e){for(var t in r.prototype.hideClick.call(this,e),this.lines)if(Object.prototype.hasOwnProperty.call(this.lines,t)){var i=this.lines[t];i.line&&(i.line.visible=!1,i.visible=!1,i.tips&&i.tips.forEach((function(e){e.visible=!1}))),i.label&&(this.hideLabel(i.label),i.label.style.opacity=0)}this.angleLabel&&this.angleLabel.label&&this.hideLabel(this.angleLabel.label),this.areaLabel&&this.areaLabel.label&&this.hideLabel(this.areaLabel.label),this.arcLabel&&this.arcLabel.label&&this.hideLabel(this.arcLabel.label),this.enableSelectionAreas(i.selectionArea,!1)},f.destroy=function(){var e;for(e in r.prototype.destroy.call(this),this.lines)if(Object.prototype.hasOwnProperty.call(this.lines,e)){var t=this.lines[e];t.line&&(this.viewer.impl.clearOverlay(self.overlayName,!0),t.material=t.line=t.geometry=null),t.label&&("xyz"===e&&this._removeEventListener(t.label),t.label.parentNode.removeChild(t.label),t.label=null),t.material=t.line=t.geometry=t.label=t.p1=t.p2=null}this.clearAngleMeshes(),this.angleLabel&&this.angleLabel.label&&(this.angleLabel.label.parentNode.removeChild(this.angleLabel.label),this._removeEventListener(this.angleLabel.label),this.angleLabel.label=this.angleLabel.p1=this.angleLabel.p2=null),this.clearArcMeshes(),this.arcLabel&&this.arcLabel.label&&(this.arcLabel.label.parentNode.removeChild(this.arcLabel.label),this._removeEventListener(this.arcLabel.label),this.arcLabel.label=this.arcLabel.midPoint=null),this.clearSpotMesh(),this.spotLabel&&this.spotLabel.label&&(this.spotLabel.label.parentNode.removeChild(this.spotLabel.label),this._removeEventListener(this.spotLabel.label),this.spotLabel.label=this.spotLabel.p=null),this.calloutLabel&&this.calloutLabel.label&&(this.calloutLabel.label.parentNode.removeChild(this.calloutLabel.label),this.calloutLabel.label.removeEventListener("mousewheel",this.viewer.toolController.mousewheel),this.calloutLabel.label.removeEventListener("mouseover",this.onMeasurementHoveredBinded),this.calloutLabel.label=this.calloutLabel.p=null),this.areaLabel&&this.areaLabel.label&&(this.areaLabel.label.parentNode.removeChild(this.areaLabel.label),this._removeEventListener(this.areaLabel.label),this.areaLabel.label=this.areaLabel.p1=this.areaLabel.p2=null),this.viewer.impl.overlayScenes[this.overlayName]&&this.viewer.impl.removeOverlayScene(this.overlayName),this.viewer.removeEventListener(c.CAMERA_CHANGE_EVENT,this.onCameraChangeBinded),this.removeWindowEventListener("mouseup",this.handleButtonUpBinded)},f.clearXYZLine=function(){this.viewer.impl.removeOverlay(this.overlayName,this.lines.xyz.line,!0),this.lines.xyz.tips&&this.lines.xyz.tips.forEach(function(e){this.viewer.impl.removeOverlay(this.overlayName,e,!0)}.bind(this))},f.clearSpotMesh=function(){this.spotMesh&&this.viewer.impl.removeOverlay(this.overlayName,this.spotMesh,!0)},f.updateScale=function(){var e;for(e in this.angleOutline.forEach((e=>this.setCylinderScale(e))),this.arcOutline.forEach((e=>this.setCylinderScale(e))),this.lines)if(Object.prototype.hasOwnProperty.call(this.lines,e)){var t=this.lines[e];t.line&&t!==this.lines.xyz&&this.setCylinderScale(t.line,t.p1,t.p2)}for(e in this.segments)if(Object.prototype.hasOwnProperty.call(this.segments,e)){var i=this.segments[e];i.line&&this.setCylinderScale(i.line,i.p1,i.p2)}if(this.measurement.measurementType===u.MeasurementTypes.MEASUREMENT_DISTANCE&&this.measurement.isComplete()&&(this.clearXYZLine(),this.drawXYZLine(this.lines.xyz)),this.measurement.measurementType===u.MeasurementTypes.MEASUREMENT_ARC&&this.arcTip.forEach((e=>{var t=this.setScale(e.position);if(Object.prototype.hasOwnProperty.call(e,"lmv_line_width")){var i=t*e.lmv_line_width;e.scale.x=i,e.scale.z=i}var n=4*t;e.scale.y=n})),this.measurement.measurementType===u.MeasurementTypes.MEASUREMENT_SPOT&&this.spotMesh){const e=this.setScale(this.spotMesh.position);this.spotMesh.scale.set(e,e,e)}},f.setNoTopology=function(){this.topologyStatus=b,this.lines.xyz.label&&(S(this.lines.xyz.label,!1,this.topologyStatus),this.lines.xyz.label.classList.remove("fetching-topology"))},f.setFetchingTopology=function(){this.topologyStatus=1,this.lines.xyz.label&&(S(this.lines.xyz.label,!0,this.topologyStatus),this.lines.xyz.label.classList.add("fetching-topology"))},f.setTopologyAvailable=function(){this.topologyStatus=2,this.lines.xyz.label&&(S(this.lines.xyz.label,!1,this.topologyStatus),this.lines.xyz.label.classList.remove("fetching-topology"))},f.createMeasurementLabel=function(){const e=this.getDocument();var t=e.createElement("div");t.className="measure-length";var i=e.createElement("div");i.className="measure-fetching-topology",i.style.display="none",t.appendChild(i);var n=e.createElement("div");n.className="measure-length-text",t.appendChild(n);var s=e.createElement("div");return s.className="measure-delta-text",t.appendChild(s),t.causeStacking=!0,c.isMobileDevice()||u.safeToggle(t,"enable-hover",!0),t},f.createSnapResultLabel=function(e){const t=this.getDocument();var i=t.createElement("div");i.className="measure-label",i.id="measure-label";var n=t.createElement("div");if(n.className="measure-label-icon",i.appendChild(n),c.isTouchDevice()){this.initLabelMobileGestures(i,e,this.measureTool);var s=t.createElement("div");s.className="measure-label-hit-area",i.appendChild(s)}return c.isMobileDevice()||(this.initMouseEvent(i,e),i.addEventListener("mousewheel",this.viewer.toolController.mousewheel),u.safeToggle(i,"enable-hover",!0)),i.causeStacking=!1,i},f.showAngleLabel=function(e){var t=this.angleLabel.label;t||(t=this.angleLabel.label=this.createMeasurementLabel(),this.viewer.container.appendChild(t),this._addEventListener(t)),this.updateAngle(),this.showLabel(t),this.angleLabel.p1=e.clone(),this.angleLabel.p2=e.clone()},f.showArcLabel=function(e){var t=this.arcLabel.label;t?this.hideLabel(t):this.arcLabel.label=t=this.createArcLabel(),this.updateArcLength(),this.showLabel(t),this.arcLabel.p1=e.clone(),this.arcLabel.p2=e.clone()},f.showSpotLabel=function(e){var t=this.spotLabel.label;t||((t=this.spotLabel.label=this.createMeasurementLabel()).id="measurement-spot-label",t.style.whiteSpace="pre-line",t.style.height="auto",t.style.textAlign="start",t.querySelector(".measure-delta-text").style.display="none",this.viewer.container.appendChild(t),this._addEventListener(t)),this.updateSpot(),this.showLabel(t),this.spotLabel.p=e.clone()},f.showCalloutLabel=function(e){var t=this.calloutLabel.label;t||((t=this.calloutLabel.label=this.createMeasurementLabel()).style.whiteSpace="pre-line",t.style.height="auto",t.style.textAlign="start",this.measurement.options&&this.measurement.options.width&&(t.style.width=this.measurement.options.width+"px"),t.querySelector(".measure-delta-text").style.display="none",this.viewer.container.appendChild(t),t.addEventListener("mousewheel",this.viewer.toolController.mousewheel),t.addEventListener("mouseover",this.onMeasurementHoveredBinded)),this.updateCallout(),this.showLabel(t),this.calloutLabel.p=e.clone()},f.showAreaLabel=function(e){var t=this.areaLabel.label;t||(t=this.areaLabel.label=this.createMeasurementLabel(),this.viewer.container.appendChild(t),this._addEventListener(t)),this.updateArea(),this.showLabel(t),this.areaLabel.p1=e,this.areaLabel.p2=e},f.onMeasurementHovered=function(){this.measureTool.hoverMeasurementById(this.measurement.id)},f.onSelectionAreaClicked=function(){this.viewer.dispatchEvent({type:u.Events.SELECT_MEASUREMENT,data:{id:this.measurement.id}}),this.measureTool.selectMeasurementById(this.measurement.id)},f.createSelectionArea=function(){var e=this.getDocument().createElement("div");return e.id="measurement-selection-area-"+this.measurement.id,this.viewer.container.appendChild(e),e.className="measure-selection-area",e.style.display="none",this._addEventListener(e),e},f.updateSelectionArea=function(){this.segments.forEach(function(e){if(e.p1&&e.p2){var t=u.project(e.p1,this.viewer),i=u.project(e.p2,this.viewer);e.selectionArea||(e.selectionArea=this.createSelectionArea());var n=e.selectionArea,s=new THREE.Vector2;n.style.top=t.y-7.5+"px",n.style.left=t.x+"px",n.style.width=s.subVectors(t,i).length()+"px",n.style.height="15px",this.measurement.measurementType===u.MeasurementTypes.MEASUREMENT_SPOT&&(n.style.left=t.x+7.5+"px",n.style.width="15px");var a,r=t.x-i.x,o=t.y-i.y;a=180*Math.atan2(-o,-r)/Math.PI,n.style.transform="rotate("+a+"deg)",n.style.transformOrigin="0px 7.5px"}}.bind(this)),this.measureTool.areAllPicksSet()&&this.enableSelectionAreas(!0)},f.clearSelectionAreas=function(){const e=this.getDocument();this.segments.forEach(function(t){if(t.selectionArea){this._removeEventListener(t.selectionArea);var i=e.getElementById("measurement-selection-area-"+this.measurement.id);i&&i.parentNode.removeChild(i),t.selectionArea=null}}.bind(this))},f.enableSelectionAreas=function(e){this.segments.forEach(function(t){t.selectionArea&&(t.selectionArea.style.display=e?"block":"none")}.bind(this))},f.render=function(e,t){r.prototype.render.call(this,e,t),this.updateSelectionArea()},f.renderFromPoints=function(e,t){r.prototype.renderFromPoints.call(this,e,t),this.updateSelectionArea()},f.onCameraChange=function(){this.redrawDashedLines(),this.updateSelectionArea(),this.hideLabelsOutsideOfView(),this.updateLabelsPosition()},f.handleResize=function(){this.redrawDashedLines(),this.updateSelectionArea(),this.updateLabelsPosition()};var P=i(8070);const R=THREE;var N=i.n(R),I={SNAP_VERTEX:0,SNAP_MIDPOINT:1,SNAP_CIRCLE_CENTER:2,SNAP_EDGE:3,SNAP_FACE:4,SNAP_CIRCULARARC:5,SNAP_CURVEDEDGE:6,SNAP_CURVEDFACE:7,RASTER_PIXEL:8,SNAP_INTERSECTION:9};function O(){this.clear()}O.prototype.clear=function(){this.geomType=null,this.modelId=null,this.fragId=null,this.fragPos=null,this.snapNode=null,this.geomVertex=null,this.geomEdge=null,this.geomFace=null,this.radius=null,this.intersectPoint=null,this.faceNormal=null,this.viewportIndex2d=null,this.circularArcCenter=null,this.circularArcRadius=null,this.fromTopology=!1,this.isPerpendicular=!1,this.snapPoint=null},O.prototype.copyTo=function(e){e.modelId=this.modelId,e.fragId=this.fragId,e.fragPos=this.fragPos,e.snapNode=this.snapNode,e.geomVertex=this.geomVertex,e.geomFace=this.geomFace,e.geomEdge=this.geomEdge,e.radius=this.radius,e.geomType=this.geomType,e.intersectPoint=this.intersectPoint,e.faceNormal=this.faceNormal,e.viewportIndex2d=this.viewportIndex2d,e.circularArcCenter=this.circularArcCenter,e.circularArcRadius=this.circularArcRadius,e.fromTopology=this.fromTopology,e.isPerpendicular=this.isPerpendicular,e.snapPoint=this.snapPoint},O.prototype.clone=function(){var e=new O;return this.copyTo(e),e},O.prototype.isEmpty=function(){return!this.getGeometry()};let D=null,V=null,z=null;const U=(e,t)=>(V=V||new THREE.Vector3,z=z||new THREE.Vector3,V.set(0,0,0),z.set(e,0,0),V.applyMatrix4(t),z.applyMatrix4(t),V.distanceTo(z));O.prototype.applyMatrix4=function(e){if(this.geomEdge&&this.geomEdge.applyMatrix4(e),this.geomFace&&this.geomFace.applyMatrix4(e),this.geomVertex&&this.geomVertex.applyMatrix4(e),this.intersectPoint&&this.intersectPoint.applyMatrix4(e),this.circularArcCenter&&this.circularArcCenter.applyMatrix4(e),this.snapPoint&&this.snapPoint.applyMatrix4(e),this.faceNormal){D=D||new THREE.Matrix4;const t=D.getNormalMatrix(e);this.faceNormal.applyMatrix4(t)}this.radius=U(this.radius,e),this.circularArcRadius=U(this.circularArcRadius,e)},O.prototype.getFace=function(){return this.geomFace},O.prototype.getEdge=function(){return this.geomEdge},O.prototype.getVertex=function(){return this.geomVertex},O.prototype.getGeometry=function(){switch(this.geomType){case I.SNAP_VERTEX:case I.SNAP_MIDPOINT:case I.SNAP_INTERSECTION:case I.SNAP_CIRCLE_CENTER:case I.RASTER_PIXEL:return this.geomVertex;case I.SNAP_EDGE:return this.geomEdge;case I.SNAP_FACE:return this.geomFace;case I.SNAP_CIRCULARARC:case I.SNAP_CURVEDEDGE:return this.geomEdge;case I.SNAP_CURVEDFACE:return this.geomFace}return null},O.prototype.setGeometry=function(e,t){switch(e){case I.SNAP_VERTEX:case I.SNAP_MIDPOINT:case I.SNAP_INTERSECTION:case I.SNAP_CIRCLE_CENTER:case I.RASTER_PIXEL:this.geomVertex=t;break;case I.SNAP_EDGE:this.geomEdge=t;break;case I.SNAP_FACE:this.geomFace=t;break;case I.SNAP_CIRCULARARC:case I.SNAP_CURVEDEDGE:this.geomEdge=t;break;case I.SNAP_CURVEDFACE:this.geomFace=t;break;default:return}this.geomType=e};var G={MEASUREMENT_DISTANCE:1,MEASUREMENT_ANGLE:2,MEASUREMENT_AREA:3,CALIBRATION:4,MEASUREMENT_CALLOUT:5,MEASUREMENT_SPOT:6,MEASUREMENT_ARC:7};G.MEASUREMENT_DISTANCE,G.MEASUREMENT_ANGLE,G.MEASUREMENT_AREA,G.CALIBRATION,G.MEASUREMENT_CALLOUT,G.MEASUREMENT_SPOT,G.MEASUREMENT_ARC;function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function F(e){var t=function(e,t){if("object"!=Y(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Y(t)?t:t+""}function H(e,t,i){return(t=F(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function j(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach((function(t){H(e,t,i[t])}))}return e}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F(n.key),n)}}function Q(e,t,i){return t&&_(e.prototype,t),i&&_(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e,t){if(t&&("object"===Y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Z(e)}function X(e){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},X(e)}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function K(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}var $={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},ee=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W(this,e),this.init(t,i)}return Q(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||$,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,i,n){return n&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(i).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,j({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),e}(),te=new ee,ie=function(){function e(){W(this,e),this.observers={}}return Q(e,[{key:"on",value:function(e,t){var i=this;return e.split(" ").forEach((function(e){i.observers[e]=i.observers[e]||[],i.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,i)}));this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(i))}))}}]),e}();function ne(){var e,t,i=new Promise((function(i,n){e=i,t=n}));return i.resolve=e,i.reject=t,i}function se(e){return null==e?"":""+e}function ae(e,t,i){function n(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function s(){return!e||"string"==typeof e}for(var a="string"!=typeof t?[].concat(t):t.split(".");a.length>1;){if(s())return{};var r=n(a.shift());!e[r]&&i&&(e[r]=new i),e=Object.prototype.hasOwnProperty.call(e,r)?e[r]:{}}return s()?{}:{obj:e,k:n(a.shift())}}function re(e,t,i){var n=ae(e,t,Object);n.obj[n.k]=i}function oe(e,t){var i=ae(e,t),n=i.obj,s=i.k;if(n)return n[s]}function le(e,t,i){var n=oe(e,i);return void 0!==n?n:oe(t,i)}function ce(e,t,i){for(var n in t)"__proto__"!==n&&"constructor"!==n&&(n in e?"string"==typeof e[n]||e[n]instanceof String||"string"==typeof t[n]||t[n]instanceof String?i&&(e[n]=t[n]):ce(e[n],t[n],i):e[n]=t[n]);return e}function ue(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var he={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function de(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return he[e]})):e}var pe="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1;function Ae(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var n=t.split(i),s=e,a=0;a<n.length;++a){if(!s)return;if("string"==typeof s[n[a]]&&a+1<n.length)return;if(void 0===s[n[a]]){for(var r=2,o=n.slice(a,a+r).join(i),l=s[o];void 0===l&&n.length>a+r;)r++,l=s[o=n.slice(a,a+r).join(i)];if(void 0===l)return;if("string"==typeof l)return l;if(o&&"string"==typeof l[o])return l[o];var c=n.slice(a+r).join(i);return c?Ae(l,c,i):void 0}s=s[n[a]]}return s}}var ge=function(e){function t(e){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return W(this,t),i=J(this,X(t).call(this)),pe&&ie.call(Z(i)),i.data=e||{},i.options=n,void 0===i.options.keySeparator&&(i.options.keySeparator="."),void 0===i.options.ignoreJSONStructure&&(i.options.ignoreJSONStructure=!0),i}return K(t,e),Q(t,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,a=void 0!==n.ignoreJSONStructure?n.ignoreJSONStructure:this.options.ignoreJSONStructure,r=[e,t];i&&"string"!=typeof i&&(r=r.concat(i)),i&&"string"==typeof i&&(r=r.concat(s?i.split(s):i)),e.indexOf(".")>-1&&(r=e.split("."));var o=oe(this.data,r);return o||!a||"string"!=typeof i?o:Ae(this.data&&this.data[e]&&this.data[e][t],i,s)}},{key:"addResource",value:function(e,t,i,n){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=this.options.keySeparator;void 0===a&&(a=".");var r=[e,t];i&&(r=r.concat(a?i.split(a):i)),e.indexOf(".")>-1&&(n=t,t=(r=e.split("."))[1]),this.addNamespaces(t),re(this.data,r,n),s.silent||this.emit("added",e,t,i,n)}},{key:"addResources",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var s in i)"string"!=typeof i[s]&&"[object Array]"!==Object.prototype.toString.apply(i[s])||this.addResource(e,t,s,i[s],{silent:!0});n.silent||this.emit("added",e,t,i)}},{key:"addResourceBundle",value:function(e,t,i,n,s){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},r=[e,t];e.indexOf(".")>-1&&(n=i,i=t,t=(r=e.split("."))[1]),this.addNamespaces(t);var o=oe(this.data,r)||{};n?ce(o,i,s):o=j({},o,i),re(this.data,r,o),a.silent||this.emit("added",e,t,i)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?j({},{},this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"toJSON",value:function(){return this.data}}]),t}(ie),me={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,i,n,s){var a=this;return e.forEach((function(e){a.processors[e]&&(t=a.processors[e].process(t,i,n,s))})),t}},ve={},fe=function(e){function t(e){var i,n,s,a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return W(this,t),i=J(this,X(t).call(this)),pe&&ie.call(Z(i)),n=["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],s=e,a=Z(i),n.forEach((function(e){s[e]&&(a[e]=s[e])})),i.options=r,void 0===i.options.keySeparator&&(i.options.keySeparator="."),i.logger=te.create("translator"),i}return K(t,e),Q(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var i=this.resolve(e,t);return i&&void 0!==i.res}},{key:"extractFromKey",value:function(e,t){var i=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===i&&(i=":");var n=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=t.ns||this.options.defaultNS;if(i&&e.indexOf(i)>-1){var a=e.match(this.interpolator.nestingRegexp);if(a&&a.length>0)return{key:e,namespaces:s};var r=e.split(i);(i!==n||i===n&&this.options.ns.indexOf(r[0])>-1)&&(s=r.shift()),e=r.join(n)}return"string"==typeof s&&(s=[s]),{key:e,namespaces:s}}},{key:"translate",value:function(e,i,n){var s=this;if("object"!==Y(i)&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),i||(i={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var a=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,r=this.extractFromKey(e[e.length-1],i),o=r.key,l=r.namespaces,c=l[l.length-1],u=i.lng||this.language,h=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&"cimode"===u.toLowerCase()){if(h){var d=i.nsSeparator||this.options.nsSeparator;return c+d+o}return o}var p=this.resolve(e,i),A=p&&p.res,g=p&&p.usedKey||o,m=p&&p.exactUsedKey||o,v=Object.prototype.toString.apply(A),f=void 0!==i.joinArrays?i.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject;if(b&&A&&("string"!=typeof A&&"boolean"!=typeof A&&"number"!=typeof A)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(v)<0&&("string"!=typeof f||"[object Array]"!==v)){if(!i.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,A,j({},i,{ns:l})):"key '".concat(o," (").concat(this.language,")' returned an object instead of string.");if(a){var C="[object Array]"===v,y=C?[]:{},w=C?m:g;for(var E in A)if(Object.prototype.hasOwnProperty.call(A,E)){var x="".concat(w).concat(a).concat(E);y[E]=this.translate(x,j({},i,{joinArrays:!1,ns:l})),y[E]===x&&(y[E]=A[E])}A=y}}else if(b&&"string"==typeof f&&"[object Array]"===v)(A=A.join(f))&&(A=this.extendTranslation(A,e,i,n));else{var k=!1,M=!1,T=void 0!==i.count&&"string"!=typeof i.count,L=t.hasDefaultValue(i),B=T?this.pluralResolver.getSuffix(u,i.count):"",S=i["defaultValue".concat(B)]||i.defaultValue;!this.isValidLookup(A)&&L&&(k=!0,A=S),this.isValidLookup(A)||(M=!0,A=o);var P=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&M?void 0:A,R=L&&S!==A&&this.options.updateMissing;if(M||k||R){if(this.logger.log(R?"updateKey":"missingKey",u,c,o,R?S:A),a){var N=this.resolve(o,j({},i,{keySeparator:!1}));N&&N.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var I=[],O=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if("fallback"===this.options.saveMissingTo&&O&&O[0])for(var D=0;D<O.length;D++)I.push(O[D]);else"all"===this.options.saveMissingTo?I=this.languageUtils.toResolveHierarchy(i.lng||this.language):I.push(i.lng||this.language);var V=function(e,t,n){s.options.missingKeyHandler?s.options.missingKeyHandler(e,c,t,R?n:P,R,i):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(e,c,t,R?n:P,R,i),s.emit("missingKey",e,c,t,A)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?I.forEach((function(e){s.pluralResolver.getSuffixes(e).forEach((function(t){V([e],o+t,i["defaultValue".concat(t)]||S)}))})):V(I,o,S))}A=this.extendTranslation(A,e,i,p,n),M&&A===o&&this.options.appendNamespaceToMissingKey&&(A="".concat(c,":").concat(o)),(M||k)&&this.options.parseMissingKeyHandler&&(A=this.options.parseMissingKeyHandler(A))}return A}},{key:"extendTranslation",value:function(e,t,i,n,s){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,i,n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init(j({},i,{interpolation:j({},this.options.interpolation,i.interpolation)}));var r,o=i.interpolation&&i.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(o){var l=e.match(this.interpolator.nestingRegexp);r=l&&l.length}var c=i.replace&&"string"!=typeof i.replace?i.replace:i;if(this.options.interpolation.defaultVariables&&(c=j({},this.options.interpolation.defaultVariables,c)),e=this.interpolator.interpolate(e,c,i.lng||this.language,i),o){var u=e.match(this.interpolator.nestingRegexp);r<(u&&u.length)&&(i.nest=!1)}!1!==i.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return s&&s[0]===n[0]&&!i.context?(a.logger.warn("It seems you are nesting recursively key: ".concat(n[0]," in key: ").concat(t[0])),null):a.translate.apply(a,n.concat([t]))}),i)),i.interpolation&&this.interpolator.reset()}var h=i.postProcess||this.options.postProcess,d="string"==typeof h?[h]:h;return null!=e&&d&&d.length&&!1!==i.applyPostProcessor&&(e=me.handle(d,e,t,this.options&&this.options.postProcessPassResolved?j({i18nResolved:n},i):i,this)),e}},{key:"resolve",value:function(e){var t,i,n,s,a,r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!r.isValidLookup(t)){var l=r.extractFromKey(e,o),c=l.key;i=c;var u=l.namespaces;r.options.fallbackNS&&(u=u.concat(r.options.fallbackNS));var h=void 0!==o.count&&"string"!=typeof o.count,d=void 0!==o.context&&("string"==typeof o.context||"number"==typeof o.context)&&""!==o.context,p=o.lngs?o.lngs:r.languageUtils.toResolveHierarchy(o.lng||r.language,o.fallbackLng);u.forEach((function(e){r.isValidLookup(t)||(a=e,!ve["".concat(p[0],"-").concat(e)]&&r.utils&&r.utils.hasLoadedNamespace&&!r.utils.hasLoadedNamespace(a)&&(ve["".concat(p[0],"-").concat(e)]=!0,r.logger.warn('key "'.concat(i,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(i){if(!r.isValidLookup(t)){s=i;var a,l,u=c,p=[u];if(r.i18nFormat&&r.i18nFormat.addLookupKeys)r.i18nFormat.addLookupKeys(p,c,i,e,o);else h&&(a=r.pluralResolver.getSuffix(i,o.count)),h&&d&&p.push(u+a),d&&p.push(u+="".concat(r.options.contextSeparator).concat(o.context)),h&&p.push(u+=a);for(;l=p.pop();)r.isValidLookup(t)||(n=l,t=r.getResource(i,e,l,o))}})))}))}})),{res:t,usedKey:i,exactUsedKey:n,usedLng:s,usedNS:a}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,i,n):this.resourceStore.getResource(e,t,i,n)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,12)&&void 0!==e[i])return!0;return!1}}]),t}(ie);function be(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Ce=function(){function e(t){W(this,e),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=te.create("languageUtils")}return Q(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],i=e.split("-");return this.options.lowerCaseLng?i=i.map((function(e){return e.toLowerCase()})):2===i.length?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=be(i[1].toLowerCase()))):3===i.length&&(i[0]=i[0].toLowerCase(),2===i[1].length&&(i[1]=i[1].toUpperCase()),"sgn"!==i[0]&&2===i[2].length&&(i[2]=i[2].toUpperCase()),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=be(i[1].toLowerCase())),t.indexOf(i[2].toLowerCase())>-1&&(i[2]=be(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isWhitelisted",value:function(e){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(e)}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,i=this;return e?(e.forEach((function(e){if(!t){var n=i.formatLanguageCode(e);i.options.supportedLngs&&!i.isSupportedCode(n)||(t=n)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var n=i.getLanguagePartFromCode(e);if(i.isSupportedCode(n))return t=n;t=i.options.supportedLngs.find((function(e){if(0===e.indexOf(n))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}},{key:"toResolveHierarchy",value:function(e,t){var i=this,n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),s=[],a=function(e){e&&(i.isSupportedCode(e)?s.push(e):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):"string"==typeof e&&a(this.formatLanguageCode(e)),n.forEach((function(e){s.indexOf(e)<0&&a(i.formatLanguageCode(e))})),s}}]),e}(),ye=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],we={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};var Ee=function(){function e(t){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W(this,e),this.languageUtils=t,this.options=n,this.logger=te.create("pluralResolver"),this.rules=(i={},ye.forEach((function(e){e.lngs.forEach((function(t){i[t]={numbers:e.nr,plurals:we[e.fc]}}))})),i)}return Q(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=this.getRule(e);return t&&t.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){return this.getSuffixes(e).map((function(e){return t+e}))}},{key:"getSuffixes",value:function(e){var t=this,i=this.getRule(e);return i?i.numbers.map((function(i){return t.getSuffix(e,i)})):[]}},{key:"getSuffix",value:function(e,t){var i=this,n=this.getRule(e);if(n){var s=n.noAbs?n.plurals(t):n.plurals(Math.abs(t)),a=n.numbers[s];this.options.simplifyPluralSuffix&&2===n.numbers.length&&1===n.numbers[0]&&(2===a?a="plural":1===a&&(a=""));var r=function(){return i.options.prepend&&a.toString()?i.options.prepend+a.toString():a.toString()};return"v1"===this.options.compatibilityJSON?1===a?"":"number"==typeof a?"_plural_".concat(a.toString()):r():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===n.numbers.length&&1===n.numbers[0]?r():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}return this.logger.warn("no plural rule found for: ".concat(e)),""}}]),e}(),xe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};W(this,e),this.logger=te.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return Q(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:de,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?ue(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?ue(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?ue(t.nestingPrefix):t.nestingPrefixEscaped||ue("$t("),this.nestingSuffix=t.nestingSuffix?ue(t.nestingSuffix):t.nestingSuffixEscaped||ue(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(e,t,i,n){var s,a,r,o=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(o.formatSeparator)<0){var s=le(t,l,e);return o.alwaysFormat?o.format(s,void 0,i,j({},n,t,{interpolationkey:e})):s}var a=e.split(o.formatSeparator),r=a.shift().trim(),c=a.join(o.formatSeparator).trim();return o.format(le(t,l,r),c,i,j({},n,t,{interpolationkey:r}))};this.resetRegExp();var h=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,d=n&&n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return o.escapeValue?c(o.escape(e)):c(e)}}].forEach((function(t){for(r=0;s=t.regex.exec(e);){if(void 0===(a=u(s[1].trim())))if("function"==typeof h){var i=h(e,s,n);a="string"==typeof i?i:""}else{if(d){a=s[0];continue}o.logger.warn("missed to pass in variable ".concat(s[1]," for interpolating ").concat(e)),a=""}else"string"==typeof a||o.useRawValueToEscape||(a=se(a));var l=t.safeValue(a);if(e=e.replace(s[0],l),d?(t.regex.lastIndex+=l.length,t.regex.lastIndex-=s[0].length):t.regex.lastIndex=0,++r>=o.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var i,n,s=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=j({},a);function o(e,t){var i=this.nestingOptionsSeparator;if(e.indexOf(i)<0)return e;var n=e.split(new RegExp("".concat(i,"[ ]*{"))),s="{".concat(n[1]);e=n[0],s=(s=this.interpolate(s,r)).replace(/'/g,'"');try{r=JSON.parse(s),t&&(r=j({},t,r))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(i).concat(s)}return delete r.defaultValue,e}for(r.applyPostProcessor=!1,delete r.defaultValue;i=this.nestingRegexp.exec(e);){var l=[],c=!1;if(-1!==i[0].indexOf(this.formatSeparator)&&!/{.*}/.test(i[1])){var u=i[1].split(this.formatSeparator).map((function(e){return e.trim()}));i[1]=u.shift(),l=u,c=!0}if((n=t(o.call(this,i[1].trim(),r),r))&&i[0]===e&&"string"!=typeof n)return n;"string"!=typeof n&&(n=se(n)),n||(this.logger.warn("missed to resolve ".concat(i[1]," for nesting ").concat(e)),n=""),c&&(n=l.reduce((function(e,t){return s.format(e,t,a.lng,j({},a,{interpolationkey:i[1].trim()}))}),n.trim())),e=e.replace(i[0],n),this.regexp.lastIndex=0}return e}}]),e}();var ke=function(e){function t(e,i,n){var s,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return W(this,t),s=J(this,X(t).call(this)),pe&&ie.call(Z(s)),s.backend=e,s.store=i,s.services=n,s.languageUtils=n.languageUtils,s.options=a,s.logger=te.create("backendConnector"),s.state={},s.queue=[],s.backend&&s.backend.init&&s.backend.init(n,a.backend,a),s}return K(t,e),Q(t,[{key:"queueLoad",value:function(e,t,i,n){var s=this,a=[],r=[],o=[],l=[];return e.forEach((function(e){var n=!0;t.forEach((function(t){var o="".concat(e,"|").concat(t);!i.reload&&s.store.hasResourceBundle(e,t)?s.state[o]=2:s.state[o]<0||(1===s.state[o]?r.indexOf(o)<0&&r.push(o):(s.state[o]=1,n=!1,r.indexOf(o)<0&&r.push(o),a.indexOf(o)<0&&a.push(o),l.indexOf(t)<0&&l.push(t)))})),n||o.push(e)})),(a.length||r.length)&&this.queue.push({pending:r,loaded:{},errors:[],callback:n}),{toLoad:a,pending:r,toLoadLanguages:o,toLoadNamespaces:l}}},{key:"loaded",value:function(e,t,i){var n=e.split("|"),s=n[0],a=n[1];t&&this.emit("failedLoading",s,a,t),i&&this.store.addResourceBundle(s,a,i),this.state[e]=t?-1:2;var r={};this.queue.forEach((function(i){var n,o,l,c,u,h;n=i.loaded,o=a,c=ae(n,[s],Object),u=c.obj,h=c.k,u[h]=u[h]||[],l&&(u[h]=u[h].concat(o)),l||u[h].push(o),function(e,t){for(var i=e.indexOf(t);-1!==i;)e.splice(i,1),i=e.indexOf(t)}(i.pending,e),t&&i.errors.push(t),0!==i.pending.length||i.done||(Object.keys(i.loaded).forEach((function(e){r[e]||(r[e]=[]),i.loaded[e].length&&i.loaded[e].forEach((function(t){r[e].indexOf(t)<0&&r[e].push(t)}))})),i.done=!0,i.errors.length?i.callback(i.errors):i.callback())})),this.emit("loaded",r),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,i){var n=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,r=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[i](e,t,(function(o,l){o&&l&&s<5?setTimeout((function(){n.read.call(n,e,t,i,s+1,2*a,r)}),a):r(o,l)})):r(null,{})}},{key:"prepareLoading",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var a=this.queueLoad(e,t,n,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach((function(e){i.loadOne(e)}))}},{key:"load",value:function(e,t,i){this.prepareLoading(e,t,{},i)}},{key:"reload",value:function(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}},{key:"loadOne",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.split("|"),s=n[0],a=n[1];this.read(s,a,"read",void 0,void 0,(function(n,r){n&&t.logger.warn("".concat(i,"loading namespace ").concat(a," for language ").concat(s," failed"),n),!n&&r&&t.logger.log("".concat(i,"loaded namespace ").concat(a," for language ").concat(s),r),t.loaded(e,n,r)}))}},{key:"saveMissing",value:function(e,t,i,n,s){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(i,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=i&&""!==i&&(this.backend&&this.backend.create&&this.backend.create(e,t,i,n,null,j({},a,{isUpdate:s})),e&&e[0]&&this.store.addResource(e[0],t,i,n))}}]),t}(ie);function Me(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&(e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e.supportedLngs=e.whitelist),e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Te(){}var Le=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(W(this,t),e=J(this,X(t).call(this)),pe&&ie.call(Z(e)),e.options=Me(i),e.services={},e.logger=te,e.modules={external:[]},n&&!e.isInitialized&&!i.isClone){if(!e.options.initImmediate)return e.init(i,n),J(e,Z(e));setTimeout((function(){e.init(i,n)}),0)}return e}return K(t,e),Q(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;function n(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof t&&(i=t,t={}),t.whitelist&&!t.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),t.nonExplicitWhitelist&&!t.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=j({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===Y(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===Y(e[2])||"object"===Y(e[3])){var i=e[3]||e[2];Object.keys(i).forEach((function(e){t[e]=i[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,i,n){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}},this.options,Me(t)),this.format=this.options.interpolation.format,i||(i=Te),!this.options.isClone){this.modules.logger?te.init(n(this.modules.logger),this.options):te.init(null,this.options);var s=new Ce(this.options);this.store=new ge(this.options.resources,this.options);var a=this.services;a.logger=te,a.resourceStore=this.store,a.languageUtils=s,a.pluralResolver=new Ee(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),a.interpolator=new xe(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new ke(n(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",(function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];e.emit.apply(e,[t].concat(n))})),this.modules.languageDetector&&(a.languageDetector=n(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=n(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new fe(this.services,this.options),this.translator.on("*",(function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];e.emit.apply(e,[t].concat(n))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var r=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);r.length>0&&"dev"!==r[0]&&(this.options.lng=r[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(t){e[t]=function(){var i;return(i=e.store)[t].apply(i,arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(t){e[t]=function(){var i;return(i=e.store)[t].apply(i,arguments),e}}));var o=ne(),l=function(){var t=function(t,n){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),o.resolve(n),i(t,n)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),o}},{key:"loadResources",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Te,n="string"==typeof e?e:this.language;if("function"==typeof e&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase())return i();var s=[],a=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){s.indexOf(e)<0&&s.push(e)}))};if(n)a(n);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return a(e)}));this.options.preload&&this.options.preload.forEach((function(e){return a(e)})),this.services.backendConnector.load(s,this.options.ns,i)}else i(null)}},{key:"reloadResources",value:function(e,t,i){var n=ne();return e||(e=this.languages),t||(t=this.options.ns),i||(i=Te),this.services.backendConnector.reload(e,t,(function(e){n.resolve(),i(e)})),n}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&me.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var i=this;this.isLanguageChangingTo=e;var n=ne();this.emit("languageChanging",e);var s=function(s){e||s||!i.services.languageDetector||(s=[]);var a="string"==typeof s?s:i.services.languageUtils.getBestMatchFromCodes(s);a&&(i.language||(i.language=a,i.languages=i.services.languageUtils.toResolveHierarchy(a)),i.translator.language||i.translator.changeLanguage(a),i.services.languageDetector&&i.services.languageDetector.cacheUserLanguage(a)),i.loadResources(a,(function(e){!function(e,s){s?(i.language=s,i.languages=i.services.languageUtils.toResolveHierarchy(s),i.translator.changeLanguage(s),i.isLanguageChangingTo=void 0,i.emit("languageChanged",s),i.logger.log("languageChanged",s)):i.isLanguageChangingTo=void 0,n.resolve((function(){return i.t.apply(i,arguments)})),t&&t(e,(function(){return i.t.apply(i,arguments)}))}(e,a)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(s):s(e):s(this.services.languageDetector.detect()),n}},{key:"getFixedT",value:function(e,t,i){var n=this,s=function e(t,s){var a;if("object"!==Y(s)){for(var r=arguments.length,o=new Array(r>2?r-2:0),l=2;l<r;l++)o[l-2]=arguments[l];a=n.options.overloadTranslationOptionHandler([t,s].concat(o))}else a=j({},s);a.lng=a.lng||e.lng,a.lngs=a.lngs||e.lngs,a.ns=a.ns||e.ns;var c=n.options.keySeparator||".",u=i?"".concat(i).concat(c).concat(t):t;return n.t(u,a)};return"string"==typeof e?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=i,s}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var n=this.languages[0],s=!!this.options&&this.options.fallbackLng,a=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;var r=function(e,i){var n=t.services.backendConnector.state["".concat(e,"|").concat(i)];return-1===n||2===n};if(i.precheck){var o=i.precheck(this,r);if(void 0!==o)return o}return!!this.hasResourceBundle(n,e)||(!this.services.backendConnector.backend||!(!r(n,e)||s&&!r(a,e)))}},{key:"loadNamespaces",value:function(e,t){var i=this,n=ne();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){i.options.ns.indexOf(e)<0&&i.options.ns.push(e)})),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var i=ne();"string"==typeof e&&(e=[e]);var n=this.options.preload||[],s=e.filter((function(e){return n.indexOf(e)<0}));return s.length?(this.options.preload=n.concat(s),this.loadResources((function(e){i.resolve(),t&&t(e)})),i):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){return new t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}},{key:"cloneInstance",value:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Te,s=j({},this.options,i,{isClone:!0}),a=new t(s);return["store","services","language"].forEach((function(t){a[t]=e[t]})),a.services=j({},this.services),a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a.translator=new fe(a.services,a.options),a.translator.on("*",(function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];a.emit.apply(a,[e].concat(i))})),a.init(s,n),a.translator.options=a.options,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages}}}]),t}(ie);const Be=new Le,Se=[{name:"File units",type:""},{name:"Millimeters",type:"mm",matches:["millimeter","millimeters"]},{name:"Centimeters",type:"cm",matches:["centimeter","centimeters"]},{name:"Meters",type:"m"},{name:"Inches",type:"in",matches:["inch","inches"]},{name:"Feet",type:"ft",matches:["foot"]},{name:"Feet and fractional inches",type:"ft-and-fractional-in"},{name:"Feet and decimal inches",type:"ft-and-decimal-in"},{name:"Decimal inches",type:"decimal-in"},{name:"Decimal feet",type:"decimal-ft"},{name:"Fractional inches",type:"fractional-in"},{name:"Meters and centimeters",type:"m-and-cm"},{name:"Points",type:"pt",matches:["point","points"]}],Pe=[{name:"File precision",value:""},{name:"0 (1)",value:0},{name:"0.1 (1/2)",value:1},{name:"0.01 (1/4)",value:2},{name:"0.001 (1/8)",value:3},{name:"0.0001 (1/16)",value:4},{name:"0.00001 (1/32)",value:5},{name:"0.000001 (1/64)",value:6}],Re=(Se.map((e=>e.name)),Se.map((e=>e.type)));Pe.map((e=>e.name)),Pe.map((e=>e.value));Se.forEach((e=>{if(e.matches){const t=e.matches.map((e=>Be.t(e)));e.matches=e.matches.concat(t)}}));new Set(Re);var Ne={METER:"m",CENTIMETER:"cm",MILLIMETER:"mm",FOOT:"ft",INCH:"in",POINT:"pt"};Ne.METER,Ne.CENTIMETER,Ne.MILLIMETER,Ne.FOOT,Ne.INCH,Ne.POINT;const Ie=1e-4;function Oe(e,t){if(!e)return null;if(e.isPerpendicular)return e.intersectPoint;switch(e.geomType){case I.SNAP_VERTEX:case I.RASTER_PIXEL:case I.SNAP_MIDPOINT:case I.SNAP_CIRCLE_CENTER:return e.getGeometry();case I.SNAP_EDGE:var i=function(e){var t=[];const i=e.vertices,n=i.length;for(var s=0;s<n;++s){var a=!1;const e=i[s];for(var r=0;r<n;++r){const t=i[r];if(r!==s&&t.equals(e)){a=!0;break}}a||t.push(e)}t.length<2&&(t[0]=i[0],t[1]=i[1]);return t}(e.getGeometry()),n=i[0].clone(),s=i[1].clone();return function(e,t,i){var n,s=new(N().Vector3),a=new(N().Vector3);return s.subVectors(t,e),a.subVectors(i,t),n=s.dot(a),s.subVectors(i,t),n=-n/s.dot(s),s.subVectors(i,t),s.multiplyScalar(n),s.add(t)}(e.intersectPoint,n,s);case I.SNAP_FACE:return We(e.intersectPoint,e.getGeometry().vertices[0],e.faceNormal);case I.SNAP_CIRCULARARC:if(t&&t.model&&t.model.is2d()){var a=e.snapPoint;return e.geomType=I.SNAP_VERTEX,e.geomVertex=a,a}return e.circularArcCenter;case I.SNAP_CURVEDEDGE:return function(e,t){for(var i,n=Number.MAX_VALUE,s=0;s<t.vertices.length;s++){const r=t.vertices[s];var a=e.distanceTo(r);n>a&&(i=r,n=a)}return i}(e.intersectPoint,e.getGeometry());case I.SNAP_CURVEDFACE:return e.intersectPoint;case I.SNAP_INTERSECTION:return e.snapPoint;default:return null}}function De(e,t,i,n){i.model.is2d()&&(n.viewportIndex2d=i.model.isPdf?n.viewportIndex2d:n.viewportIndex2d||n.id,i.model.pageToModel(e,t,n.viewportIndex2d))}function Ve(e,t){var i;let n;const s=e.viewportIndex2d,a=null==t||null===(i=t.model)||void 0===i||null===(i=i.getData())||void 0===i?void 0:i.viewports;var r;a&&void 0!==s&&(n=null===(r=a[s])||void 0===r?void 0:r.units);return n}function ze(e,t){if(e.is3d())return 0;if(e.isPdf())return 0;var i=e.getMetadata("page_dimensions","page_width",null),n=e.getMetadata("page_dimensions","logical_width",null),s=e.getMetadata("page_dimensions","page_height",null),a=e.getMetadata("page_dimensions","logical_height",null);if(!(i&&n&&s&&a))return 0;var r=i/n,o=s/a,l=new(N().Vector3)(0,0,0),c=new(N().Vector3)(r,o,0);return e.pageToModel(l,c,t),l.distanceTo(c)}function Ue(e,t){var i=[];for(var n in e)if(e.hasOwnProperty(n)){var s=Oe(e[n],t);s&&i.push(s)}if(3!==i.length||function(e){for(var t=0;t<e.length;t++)for(var i=0;i<e.length;i++)if(t!==i&&je(e[t],e[i],Ie))return!0;return!1}(i))return null;var a=new(N().Vector3),r=new(N().Vector3);return a.subVectors(i[0],i[1]),r.subVectors(i[2],i[1]),function(e,t){return 180*e.angleTo(t)/Math.PI}(a,r)}function Ge(e,t,i,n){if(!(e&&t&&e.getGeometry()&&t.getGeometry()))return null;if(!e.circularArcRadius)return null;var s=Oe(e,n).clone(),a=Oe(t,n).clone();const r=e.circularArcCenter;var o=r instanceof N().Vector3?r.clone():new(N().Vector3)(r.x,r.y,r.z);if(!s||!a)return null;if(je(s,a,Ie))return 0;n.model.is2d()&&(n.model.pageToModel(s,a,e.viewportIndex2d),n.model.pageToModel(o,null,e.viewportIndex2d));var l=function(){var e=new(N().Vector3),t=new(N().Vector3);e.subVectors(s,o),t.subVectors(a,o);var i=e.length()*t.length(),n=e.dot(t);return Math.acos(n/i)*e.length()}();return i?Fe(l,i=Ye(i)):l}function Ye(e){var t=Math.log(e)/Math.log(10),i=Math.floor(t);return 1<e/Math.pow(10,i)&&i++,Math.pow(10,i)}function Fe(e,t){return Math.floor(e/t+.5)*t}function He(e,t,i,n){switch(t){case G.MEASUREMENT_DISTANCE:return function(e,t,i,n){if(!(e&&t&&e.getGeometry()&&t.getGeometry()))return null;var s=Oe(e,n).clone(),a=Oe(t,n).clone();if(!s||!a)return null;if(je(s,a,Ie))return null;De(s,a,n,e);const r=Ve(e,n);if(i){i=Ye(i);var o=s.distanceTo(a);return{distanceXYZ:Fe(o,i),distanceX:Fe(o=Math.abs(s.x-a.x),i),distanceY:Fe(o=Math.abs(s.y-a.y),i),distanceZ:0,type:G.MEASUREMENT_DISTANCE,units:r}}return{distanceXYZ:s.distanceTo(a),distanceX:Math.abs(s.x-a.x),distanceY:Math.abs(s.y-a.y),distanceZ:Math.abs(s.z-a.z),type:G.MEASUREMENT_DISTANCE,units:r}}(a=e[1],e[2],ze(i.model,a.viewportIndex2d),i);case G.MEASUREMENT_ANGLE:var s=Ue(e,i);return s?{angle:n&&n.angleOuter?360-s:s,type:t}:null;case G.MEASUREMENT_AREA:return function(e,t){var i,n=[];for(var s in e)if(e.hasOwnProperty(s)){var a=Oe(e[s],t);a&&n.push(a.clone())}var r=Oe(e[1],t);r&&n.push(r.clone());for(var o=0;o<n.length;o+=2)t.model.pageToModel(n[o],n[o+1],e[1].viewportIndex2d);var l=0,c=0;for(o=0;o<n.length-1;o++)l+=n[o].x*n[o+1].y,c+=n[o].y*n[o+1].x;var u=Math.abs((l-c)/2);let h;const d=e[1].viewportIndex2d,p=null==t||null===(i=t.model)||void 0===i||null===(i=i.getData())||void 0===i?void 0:i.viewports;var A;return p&&Number.isInteger(d)&&(h=null===(A=p[d])||void 0===A?void 0:A.units),{area:u,type:G.MEASUREMENT_AREA,units:h}}(e,i);case G.MEASUREMENT_ARC:var a;return{arc:Ge(a=e[1],e[2],ze(i.model,a.viewportIndex2d),i),type:t};case G.MEASUREMENT_SPOT:{const n=Oe(e[1],i);let s=n?n.clone():null;const a=i.model.getData().globalOffset;return s&&a&&s.add(a),De(s,new(N().Vector3),i,e[1]),{spot:n,modelSpot:s,type:t,units:Ve(e[1],i)}}default:return null}}function je(e,t,i){return!(!e||!t)&&(Math.abs(e.x-t.x)<=i&&Math.abs(e.y-t.y)<=i&&Math.abs(e.z-t.z)<=i)}function We(e,t,i){var n=new(N().Vector3),s=i.clone(),a=new(N().Vector3);a.subVectors(e,t);var r=-s.dot(a)/s.dot(s);return n.addVectors(e,s.multiplyScalar(r)),n}function _e(e,t,i){this.measurementType=e,this.id=t,this.picks=[],this.closedArea=!1,this.isRestored=!1,this.options=i,this.resetMeasureValues()}_e.prototype.clone=function(){var e;const t=new _e(this.measurementType,this.id,this.options);return t.closedArea=this.closedArea,t.isRestored=this.isRestored,t.picks=this.clonePicks(),t.angle=this.angle,t.distanceX=this.distanceX,t.distanceY=this.distanceY,t.distanceZ=this.distanceZ,t.distanceXYZ=this.distanceXYZ,t.arc=this.arc,t.spot=null===(e=this.spot)||void 0===e?void 0:e.clone(),t.result=Object.assign({},this.result),t},_e.prototype.resetMeasureValues=function(){this.angle=0,this.distanceX=0,this.distanceY=0,this.distanceZ=0,this.distanceXYZ=0,this.arc=0,this.spot=null,this.result=null},_e.prototype.setPick=function(e,t){var i=this.picks[e]=t;return i.id=parseInt(e),i},_e.prototype.getPick=function(e){var t=this.picks[e];return t||(t=this.setPick(e,new O)),t},_e.prototype.clonePicks=function(e){var t=[];for(var i in this.picks)if(Object.prototype.hasOwnProperty.call(this.picks,i)){var n=this.picks[i];t.push(n.clone())}return t},_e.prototype.countPicks=function(){return Object.keys(this.picks).length},_e.prototype.getMaxNumberOfPicks=function(){switch(this.measurementType){case G.MEASUREMENT_SPOT:return 1;case G.MEASUREMENT_DISTANCE:case G.MEASUREMENT_CALLOUT:case G.MEASUREMENT_ARC:return 2;case G.MEASUREMENT_ANGLE:return 3;case G.MEASUREMENT_AREA:return this.closedArea?this.countPicks():Number.MAX_VALUE-1}},_e.prototype.hasPick=function(e){return this.picks[e]&&!this.picks[e].isEmpty()||this.isRestored},_e.prototype.isComplete=function(){var e=this.countPicks()===this.getMaxNumberOfPicks();for(var t in this.picks)if(Object.prototype.hasOwnProperty.call(this.picks,t)&&!(e=e&&this.hasPick(t)))break;return e},_e.prototype.isEmpty=function(){var e=!0;for(var t in this.picks)if(Object.prototype.hasOwnProperty.call(this.picks,t)&&!(e=e&&!this.hasPick(t)))break;return e},_e.prototype.clearPick=function(e){this.picks[e]&&this.picks[e].clear(),this.resetMeasureValues()},_e.prototype.clearAllPicks=function(){for(var e in this.picks)Object.prototype.hasOwnProperty.call(this.picks,e)&&this.clearPick(e)},_e.prototype.hasEqualPicks=function(e,t){return!(!e||!t)&&(e.geomType===t.geomType&&je(Oe(e),Oe(t),Ie))},_e.prototype.computeResult=function(e,t){if(this.resetMeasureValues(),!t.model)return this.result=null,!1;var i=this.result=He(e,this.measurementType,t,this.options);if(null===i)return!this.isComplete();switch(i.type){case G.MEASUREMENT_DISTANCE:return this.distanceXYZ=i.distanceXYZ,this.distanceX=i.distanceX,this.distanceY=i.distanceY,this.distanceZ=i.distanceZ,!0;case G.MEASUREMENT_ANGLE:return this.angle=isNaN(i.angle)?0:i.angle,!0;case G.MEASUREMENT_AREA:return this.area=i.area,!0;case G.MEASUREMENT_ARC:return this.arc=i.arc,!0;case G.MEASUREMENT_SPOT:return this.spot=i.spot,this.modelSpot=i.modelSpot,this.units=i.units,!0;case G.MEASUREMENT_CALLOUT:return!0;default:return!1}},_e.prototype.getGeometry=function(e){return{type:this.picks[e].geomType,geometry:this.picks[e].getGeometry()}},_e.prototype.attachIndicator=function(e,t,i){this.indicator=new i(e,this,t),this.indicator.init()};const Qe=Autodesk.Viewing,Ze=Autodesk.Viewing.Private;function Je(e,i,n,s){var a=e,r=["measure"];this.setGlobalManager(e.globalManager);var o=n,l=Autodesk.Viewing,c=Autodesk.Viewing.MeasureCommon,u=!1,h=!1,d=!1,p=0,A=!1,g=!1,m=null,f=null,b=!1,C=new t(a),y=null,w=null,E=[],x=null,k=!1,M=s,T=!1,L=[],B=null,S=null,N=c.MeasurementTypes.MEASUREMENT_DISTANCE,I=!0,O=null,D=!1,V={};function z(e){const t=(e=e||y).clonePicks(),i=[];for(let n=0;n<t.length;n++){const s=t[n];let r=c.getSnapResultPosition(s,a);const o=Object.prototype.hasOwnProperty.call(s,"modelId")&&s.modelId?a.impl.findModel(s.modelId):a.model;if(o){const e=o.getData();r=e&&Object.prototype.hasOwnProperty.call(e,"globalOffset")?r.clone().add(e.globalOffset):r.clone()}const l={intersection:JSON.parse(JSON.stringify(r)),modelId:s.modelId,fragId:s.fragId,fragPos:s.fragPos,viewportIndex2d:s.viewportIndex2d,snapNode:s.snapNode};e.arc&&(l.circularArcCenter=s.circularArcCenter,l.circularArcRadius=s.circularArcRadius),i.push(l)}return i}function U(e,t){const i=y.picks;for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){if(i[n].viewportIndex2d&&!t)return;i[n].viewportIndex2d=e}}function G(e){e=e||y;const t=c.MeasurementTypes,i=e.measurementType;switch(i){case t.MEASUREMENT_DISTANCE:return"Distance";case t.MEASUREMENT_ANGLE:return"Angle";case t.MEASUREMENT_AREA:return"Area";case t.CALIBRATION:return"Calibration";case t.MEASUREMENT_ARC:return"Arc";case t.MEASUREMENT_SPOT:return"Spot";case t.MEASUREMENT_CALLOUT:return"Callout";default:return i}}function Y(e){for(var t in C.measurementsList)if(Object.prototype.hasOwnProperty.call(C.measurementsList,t)){var i=C.measurementsList[t];i.indicator.changeAllEndpointsEditableStyle(e),i.indicator.enableSelectionAreas(e),i.indicator.enableLabelsTouchEvents(e)}}function F(e){for(let t=0;t<E.length;++t){E[t].indicator[e]()}E.length=0}this.registerCustomTool=function(e,t){V[e]=t},this.deregisterCustomTool=function(e){delete V[e]},this.getActivePick=function(){return y?0===p?null:(e=p===y.getMaxNumberOfPicks()+1?y.countPicks():p,y.getPick(e)):null;var e},this.getPreviousPick=function(){if(!y)return null;var e;if(0===p)return null;if(1===p){if((e=y.countPicks())===p)return null}else e=p===y.getMaxNumberOfPicks()+1?y.countPicks()-1:p-1;return y.getPick(e)},this.hasPreviousPick=function(){if(!y)return!1;var e;if(0===p)return!1;if(1===p){if((e=y.countPicks())===p)return!1}else e=p===y.getMaxNumberOfPicks()+1?y.countPicks()-1:p-1;return y.hasPick(e)},this.noPicksSet=function(){p=0},this.allPicksSet=function(){p=y.countPicks()+1,Y(!0),y.indicator.enableSelectionAreas(!0),x=y.clone(),a.dispatchEvent({type:c.Events.MEASUREMENT_COMPLETED_EVENT,data:{type:y.measurementType,id:y.id}})},this.isNoPicksSet=function(){return 0===p||!y},this.areAllPicksSet=function(){return y&&p===y.getMaxNumberOfPicks()+1},this.setSessionMeasurements=function(e){O=JSON.parse(JSON.stringify(e))},this.getSessionMeasurements=function(){return JSON.parse(JSON.stringify(O))},this.register=function(){},this.deregister=function(){this.deactivate()},this.isActive=function(){return u},this.getNames=function(){return r},this.getName=function(){return r[0]},this.getPriority=function(){return 50},this.getCursor=function(){return h?null:"url(data:image/png;base64,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), auto"},this.getCurrentMeasurementRaw=function(){return y},this.getActivePointIndex=function(){return p},this.setActivePointIndex=function(e){p=e},this.getMeasurementsManager=function(){return C},this.shouldConsumeSingleClick=function(){return A},this.setConsumeSingleClick=function(e){A=e},this.isSingleClickHandled=function(){return g},this.setSingleClickHandled=function(e){g=e},this.isPressing=function(){return T},this.setIsPressing=function(e){T=e},this.startNewMeasurement=function(){const e=V[N];e?(C.addMeasurement(e.createMeasurement()),(y=C.getCurrentMeasurement()).attachIndicator(a,this,e.getIndicatorClass())):(y=C.createMeasurement(N)).attachIndicator(a,this,v),w instanceof Function&&(w(),w=null),Y(!1)},this.changeMeasurementType=function(e){if(e===N&&!I)return;this.clearMeasurementPreview(),N=e,I=!1;const t=V[e];Ze.analytics.track("viewer.measure",{action:"Enabled",type:t?t.getMeasurementName():c.MeasurementTypesToAnalytics[N]})},this.getCurrentMeasureType=function(){return N},this.activate=function(){u=!0,I=!0,C.reset(),this.noPicksSet(),h=!1,this.isEditingEndpoint=!1,this.editByDrag=!1,a.impl.pauseHighlight(!0),a.clearSelection(),S=a.getState({objectSet:!0}),a.toolController.activateTool("snapper"),a.toolController.activateTool("magnifyingGlass"),this.onMeasurementChangedBinded=this.onMeasurementChanged.bind(this),a.addEventListener("explodeChanged",this.onExplodedChange),a.addEventListener(c.Events.MEASUREMENT_CHANGED_EVENT,this.onMeasurementChangedBinded),a.addEventListener(l.CAMERA_CHANGE_EVENT,this.onCameraChange),a.addEventListener(l.SHOW_ALL_EVENT,this.onShowAllEvent);if(a.prefs.get(l.Private.Prefs.RESTORE_SESSION_MEASUREMENTS)){const e=this.getSessionMeasurements();if(D&&!a.model.is2d()){const t=new R.Matrix4;let i=a.model.getFragmentList();for(let n of e)for(let e of n.picks)if((e.fragId||0===e.fragId)&&e.fragPos){null==i||i.getWorldMatrix(e.fragId,t);let n=new R.Vector3(e.fragPos.x,e.fragPos.y,e.fragPos.z),s=(new R.Vector3).applyMatrix4(t).sub(n);e.intersection=new R.Vector3(e.intersection.x,e.intersection.y,e.intersection.z).add(s),n=(new R.Vector3).applyMatrix4(t),e.fragPos={x:n.x,y:n.y,z:n.z}}D=!1}this.setMeasurements(e),this.isolateMeasurement()}},this.deactivate=function(){if(!u)return;a.dispatchEvent({type:P.l,mode:"end"});const e=V[N];Ze.analytics.track("viewer.measure",{action:"Disabled",type:e?e.getMeasurementName():c.MeasurementTypesToAnalytics[N]});if(a.prefs.get(l.Private.Prefs.RESTORE_SESSION_MEASUREMENTS)){this.clearIncompleteMeasurement();const e=this.getMeasurementList();this.setSessionMeasurements(e)}for(u=!1,this.clearMeasurementPreview(),this.clearIsolate(),S=null,x=null,k=!1;Object.keys(C.measurementsList).length>0;)y=C.measurementsList[Object.keys(C.measurementsList)[0]],C.changeCurrentMeasurement(y),this.clearCurrentMeasurement(),y=null;M&&M.isActive()&&a.toolController.deactivateTool("snapper"),a.toolController.deactivateTool("magnifyingGlass"),a.impl.pauseHighlight(!1),C.destroy(),a.removeEventListener(l.CAMERA_CHANGE_EVENT,this.onCameraChange),a.removeEventListener(c.Events.MEASUREMENT_CHANGED_EVENT,this.onMeasurementChangedBinded),a.removeEventListener(l.SHOW_ALL_EVENT,this.onShowAllEvent)},this.clearIncompleteMeasurement=function(){this.areAllPicksSet()||(this.isEditingEndpoint?this.undoEditEndpoint():this.clearCurrentMeasurement())},this.update=function(){return!1},this.getUnits=function(){return o.units},this.setUnits=function(e){if(o.units!==e)for(var t in o.units=e,C.measurementsList)if(Object.prototype.hasOwnProperty.call(C.measurementsList,t)){var i=C.measurementsList[t];i.indicator&&i.indicator.updateResults()}},this.getPrecision=function(){return o.precision},this.setPrecision=function(e){if(Number.isInteger(e)&&!(e<0)&&o.precision!==e)for(var t in o.precision=e,C.measurementsList)if(Object.prototype.hasOwnProperty.call(C.measurementsList,t)){var i=C.measurementsList[t];i.indicator&&i.indicator.updateResults()}},this.getDistanceXYZ=function(e){var t;return e||(e=y),this.getDistanceAux(e.distanceXYZ,null===(t=e.result)||void 0===t?void 0:t.units)},this.getDistanceX=function(e){var t;return e||(e=y),this.getDistanceAux(e.distanceX,null===(t=e.result)||void 0===t?void 0:t.units)},this.getDistanceY=function(e){var t;return e||(e=y),this.getDistanceAux(e.distanceY,null===(t=e.result)||void 0===t?void 0:t.units)},this.getDistanceZ=function(e){var t;return e||(e=y),this.getDistanceAux(e.distanceZ,null===(t=e.result)||void 0===t?void 0:t.units)},this.getDistanceAux=function(e,t){if(a.model){let i=a.model.getUnitString();o.useViewportInfo&&t&&null===o.calibrationFactor&&(i=t);const n=Autodesk.Viewing.Private.convertUnits(i,o.units,o.calibrationFactor,e||0);return Autodesk.Viewing.Private.formatValueWithUnits(n,o.units,3,o.precision)}},this.getAngle=function(e){e||(e=y);var t=e.angle;return Autodesk.Viewing.Private.formatValueWithUnits(t,String.fromCharCode(176),3,o.precision)},this.getArc=function(e){if(a.model){e||(e=y);let i=a.model.getUnitString();var t=e.arc;const n=Autodesk.Viewing.Private.convertUnits(i,o.units,o.calibrationFactor,t||0);return Autodesk.Viewing.Private.formatValueWithUnits(n,o.units,3,o.precision)}},this.getSpot=function(t){var i;t||(t=y);let n=t.modelSpot?t.modelSpot.clone():new THREE.Vector3;return"X: "+this.getDistanceAux(n.x,t.units)+"\nY: "+this.getDistanceAux(n.y,t.units)+(null!==(i=e.model)&&void 0!==i&&i.is2d()?"":"\nZ: "+this.getDistanceAux(n.z,t.units))},this.getCallout=function(e){return e||(e=y),e.text||""},this.getArea=function(e){if(a.model){var t;e||(e=y);let i=a.model.getUnitString();const n=null===(t=e.result)||void 0===t?void 0:t.units;o.useViewportInfo&&n&&null===o.calibrationFactor&&(i=n);const s=Autodesk.Viewing.Private.convertUnits(i,o.units,o.calibrationFactor,e.area,"square");return o.units?Autodesk.Viewing.Private.formatValueWithUnits(s,o.units+"^2",3,o.precision):Autodesk.Viewing.Private.formatValueWithUnits(s,null,3,o.precision)}},this.snapToFirstPick=function(t,i){if(y.hasPick(1)&&p>3&&!y.closedArea){var n=y.getPick(1),s=c.getSnapResultPosition(n,a),r=c.project(s,e),o=c.getSnapResultPosition(t,a),l=c.project(o,e);(i||l.distanceTo(r)<25)&&(M.onMouseMove(r),n.copyTo(t))}},this.render=function(e){this.isCalibrationSetOnPage()?U(0,!0):k&&x&&x.picks.length>0&&U(x.picks[0].viewportIndex2d);var t=y.computeResult(y.picks,a,M);return y.indicator.render(y.picks,A||!!e),t},this.setUseLastViewport=function(e){k=e},this.getUseLastViewport=function(){return k},this.setMeasurements=function(e){if(e&&0!==(e=Array.isArray(e)?e:[e]).length){for(let i=0;i<e.length;i++){const n=e[i],s=t(n);if(!s)continue;const r=V[s];let o=null,l=null;r&&(o=r.createMeasurement(n),l=r.getIndicatorClass());const c=e=>{y=e,e.attachIndicator(a,this,l||v),w instanceof Function&&(w(),w=null)},u=()=>{const e=C.getRestoredMeasurementData()[y.id];p=e.length};C.createMeasurementFromData(n,s,c,u,o)}this.deselectAllMeasurements(),Y(!0)}function t(e){let t;switch(e.type){case"Distance":t=c.MeasurementTypes.MEASUREMENT_DISTANCE;break;case"Angle":t=c.MeasurementTypes.MEASUREMENT_ANGLE;break;case"Area":t=c.MeasurementTypes.MEASUREMENT_AREA;break;case"Arc":t=c.MeasurementTypes.MEASUREMENT_ARC;break;case"Spot":t=c.MeasurementTypes.MEASUREMENT_SPOT;break;case"Callout":t=c.MeasurementTypes.MEASUREMENT_CALLOUT;break;default:t=e.type}return t}},this.getMeasurement=function(e,t){if(!y)return null;o.units=e||o.units,o.precision=t||o.precision;var i=["Vertex","Edge","Face","Circular Arc","Curved Edge","Curved Face"],n=z(),s=G();return{from:i[y.getGeometry(1).type],to:n.length>1?i[y.getGeometry(2).type]:null,distance:this.getDistanceXYZ(),deltaX:this.getDistanceX(),deltaY:this.getDistanceY(),deltaZ:this.getDistanceZ(),angle:this.getAngle(),area:this.getArea(),arc:this.getArc(),location:this.getSpot(),text:this.getCallout(),unitType:o.units,precision:o.precision,picks:n,type:s}},this.getMeasurementPoints=function(){return y.clonePicks()},this.getMeasurementList=function(e,t){var i=[],n=null,s=["Vertex","Edge","Face","Circular Arc","Curved Edge","Curved Face"],r=Object.keys(C.measurementsList);for(let h=0;h<r.length;h++){var l=z(n=C.measurementsList[r[h]]),c=G(n),u={from:s[n.getGeometry(1).type],to:l.length>1?s[n.getGeometry(2).type]:null,distance:this.getDistanceXYZ(n),deltaX:this.getDistanceX(n),deltaY:this.getDistanceY(n),deltaZ:this.getDistanceZ(n),angle:this.getAngle(n),area:this.getArea(n),arc:this.getArc(n),location:this.getSpot(n),text:this.getCallout(n),unitType:e||o.units,precision:t||o.precision,picks:l,type:c};if(n.options){const e=u.options=JSON.parse(JSON.stringify(n.options));!e.modelId&&l[0]&&l[0].modelId&&(e.modelId=l[0].modelId);const t=e.modelId?a.impl.findModel(e.modelId):a.model,i=t&&t.getData().globalOffset;if(i&&(0!==i.x||0!==i.y||0!==i.z)){const t=e=>{if(e)for(let t=0;t<e.length;++t)THREE.Vector3.prototype.add.call(e[t],i)};t(e.dimensionOffset),t(e.dashedLeader),t(e.arc)}}const d=V[c];d&&d.saveSessionMeasurement(n,u),i.push(u)}return i},this.clearCurrentMeasurement=function(){if(y){var e,t;for(var i in this.noPicksSet(),y.picks)Object.prototype.hasOwnProperty.call(y.picks,i)&&this.clearPick(i);this.updateViewportId(!0),b&&this.clearIsolate(),null===(e=y.indicator)||void 0===e||e.clear(),null===(t=y.indicator)||void 0===t||t.destroy(),C.removeCurrentMeasurement(),y=null}Y(!0)},this.clearPick=function(e){y&&y.hasPick(e)&&(y.clearPick(e),y.indicator.hideClick(e))},this.setIsolateMeasure=function(e){b=e},this.getIsolateMeasure=function(){return b},this.isolateMeasurement=function(){if(u&&b){var e=a.model.id,t={};for(var i in C.measurementsList)if(Object.prototype.hasOwnProperty.call(C.measurementsList,i)){var n=C.measurementsList[i];for(let i in n.picks)if(Object.prototype.hasOwnProperty.call(n.picks,i)){var s=n.getPick(i),r=s.modelId||e;Array.isArray(t[r])||(t[r]=[]),-1==t[r].indexOf(s.snapNode)&&t[r].push(s.snapNode)}}var o=[];for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var l=a.impl.findModel(parseInt(e));o.push({model:l,ids:t[e]})}o.length&&a.impl.visibilityManager.aggregateIsolate(o)}},this.clearIsolate=function(){S&&a.restoreState(S,void 0,!0)},this.onShowAllEvent=function(e){S=null},this.deselectAllMeasurements=function(){for(var e in y&&!this.areAllPicksSet()&&(this.isEditingEndpoint?this.undoEditEndpoint():this.clearCurrentMeasurement()),C.measurementsList)if(Object.prototype.hasOwnProperty.call(C.measurementsList,e)){var t=C.measurementsList[e];t.indicator&&(t.indicator.setSimple(!0),t.indicator.hideEndpoints(),t.indicator.unfocusLabels())}y=null},this.onExplodedChange=function(){D=!0},this.onMeasurementChanged=function(){var e;this.deselectAllMeasurements(),null!==(e=y=C.getCurrentMeasurement())&&void 0!==e&&e.isComplete()&&(y.indicator.setSimple(!1),this.allPicksSet(),this.render(!0),this.updateResults())},this.selectMeasurementById=function(e){y||(y=C.selectMeasurementById(e)),y.id!==e&&(this.clearIncompleteMeasurement(),y=C.selectMeasurementById(e))},this.hoverMeasurementById=function(e){this.updateMeasurementPreview(!1),M.indicator.clearOverlays()},this.editEndpoint=function(e,t,i){if(y.id===i&&p===t)return y.indicator.changeEndpointOnEditStyle(t,!1),void this.undoEditEndpoint();for(var n in this.selectMeasurementById(i),a.dispatchEvent({type:P.l,mode:"start"}),p=t,this.isEditingEndpoint=!0,y.indicator.changeEndpointOnEditStyle(t,!0),Y(!1),y.picks)Object.prototype.hasOwnProperty.call(y.picks,n)&&(L[n]=y.getPick(n).clone());if(this.updateViewportId(),b&&this.clearIsolate(),y.isRestored){M.onMouseMove({x:e.canvasX,y:e.canvasY});const t=M.getSnapResult().clone(),i=y.getPick(p);t.copyTo(i),i.isValid=!0,y.isRestored=!function(){const e=y.picks;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(!e[t].isValid)return!1}return!0}()}l.isMobileDevice()||this._handleMouseEvent(e)},this.canCloseArea=function(){return y.countPicks()>3},this.undoEditEndpoint=function(){for(var e in y.indicator.clear(),y.picks)Object.prototype.hasOwnProperty.call(y.picks,e)&&y.setPick(e,L[e].clone());y.indicator.changeEndpointOnEditStyle(p,!1),this.isEditingEndpoint=!1,this.updateViewportId(!0),this.allPicksSet(),this.render(!0)},this.updateResults=function(){y.indicator.updateResults(),y.indicator.showEndpoints(),y.indicator.focusLabels(),y.isComplete()&&this.isolateMeasurement()},this.deleteMeasurements=function(){const e=C.measurementsList,t=Object.keys(e);for(let i=0;i<t.length;i++){const n=t[i];C.currentMeasurement=e[n],y=C.getCurrentMeasurement(),this.deleteCurrentMeasurement()}},this.deleteCurrentMeasurement=function(){let e=y?y.clone():null;this.clearCurrentMeasurement(),this.isEditingEndpoint=!1,this.editByDrag=!1,h=!1,this.isolateMeasurement(),e&&a.dispatchEvent({type:c.Events.DELETE_MEASUREMENT,data:{type:e.measurementType,id:e.id}}),e=null},this.deleteCurrentPick=function(){for(var e=this.getActivePick().id;y.hasPick(e+1);)y.setPick(e,y.getPick(e+1)),e++;delete y.picks[e];var t=y.countPicks();if(--p<=0&&(p=t),this.isEditingEndpoint){if(2==t)return void this.deleteCurrentMeasurement();y.indicator.changeAllEndpointsOnEditStyle(!1),this.isEditingEndpoint=!1,this.updateViewportId(!0),this.allPicksSet(),this.render()}else this._handleMouseEvent()},this.updateViewportId=function(e){if(a.model&&a.model.is2d())if(e||this.isNoPicksSet()||this.isCalibrationSetOnPage())a.impl.updateViewportId(0),M.setViewportId(null);else if(!T){var t,i,n=(null===(t=this.getPreviousPick())||void 0===t?void 0:t.viewportIndex2d)||this.getActivePick().viewportIndex2d;a.impl.updateViewportId(n),M&&M.setViewportId(n);const e=null===(i=a.model.getData())||void 0===i?void 0:i.viewports;var s;if(o.useViewportInfo&&e.length>1)this.setPrecision(null===(s=e[n])||void 0===s?void 0:s.precision)}},this.setNoTopology=function(){F("setNoTopology"),w=function(){y.indicator.setNoTopology()}},this.setFetchingTopology=function(){w=function(){E.push(y),y.indicator.setFetchingTopology()},y&&y.indicator&&w()},this.setTopologyAvailable=function(){F("setTopologyAvailable"),w=function(){y.indicator.setTopologyAvailable()}},this.getSnapper=function(){return M},this.correctPickPosition=function(){var t=this.getActivePick();if(t&&!t.getGeometry()&&B&&(t.geomType=c.SnapType.SNAP_VERTEX,t.geomVertex=B,t.intersectPoint=B),this.hasPreviousPick()){var i=this.getPreviousPick();if(!c.correctPerpendicularPicks(i,t,e,M)){var n=(t.id+1)%(y.countPicks()+1);if(0===n&&(n=1),n!==t.id&&y.hasPick(n)){var s=y.getPick(n);c.correctPerpendicularPicks(s,t,e,M)}}y.measurementType==c.MeasurementTypes.MEASUREMENT_AREA&&this.snapToFirstPick(t)}},this.clearMeasurementPreview=function(){this.updateMeasurementPreview(!1),this.measurementPreview=null},this.updateMeasurementPreview=function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const i=M.getSnapResult(),n=V[N];if(n)n.updateMeasurementPreview(t?i:null);else if(N===c.MeasurementTypes.MEASUREMENT_SPOT)if(t&&i&&i.intersectPoint){this.measurementPreview||(this.measurementPreview=new _e(N,"measurementPreview"),this.measurementPreview.attachIndicator(e,this,v)),this.measurementPreview.setPick(1,i),this.measurementPreview.computeResult(this.measurementPreview.picks,e,M),this.measurementPreview.indicator.render(this.measurementPreview.picks,!0,!0);const t=this.measurementPreview.indicator;t.spotLabel.label&&(t.spotLabel.label.id="measurement-spot-pointer-label",t.spotLabel.label.style.zIndex=4),t.endpoints[1]&&this.measurementPreview.indicator.endpoints[1].label&&(t.endpoints[1].label.id="measure-pointer-label"),t.clearSelectionAreas(),t.hideEndpoints(),t.clearSpotMesh()}else{var s;null===(s=this.measurementPreview)||void 0===s||s.indicator.clear()}},this._handleMouseEvent=function(t){var i=!1;if(M.isSnapped()){var n;if((this.areAllPicksSet()||this.isNoPicksSet())&&(this.startNewMeasurement(),p=1),M.copyResults(this.getActivePick()),!a.model.is2d()){let i=a.container.getBoundingClientRect(),n=t.canvasX||t.clientX-i.left,o=t.canvasY||t.clientY-i.top,l=this.getActivePick(),c=e.impl.hitTestViewport(e.impl.clientToViewport(n,o));if(l){var s,r;const e=a.model.getFragmentList(),t=new R.Matrix4;null!==(s=l.geomFace)&&void 0!==s&&s.fragId||0===(null===(r=l.geomFace)||void 0===r?void 0:r.fragId)?this.getActivePick().fragId=l.geomFace.fragId:this.getActivePick().fragId=null==c?void 0:c.fragId,e.getWorldMatrix(this.getActivePick().fragId,t);const i=(new R.Vector3).applyMatrix4(t);this.getActivePick().fragPos={x:i.x,y:i.y,z:i.z}}}if(A&&(null===(n=y)||void 0===n?void 0:n.measurementType)===c.MeasurementTypes.MEASUREMENT_ARC&&(!y.getPick(1).circularArcCenter||y.hasPick(2)&&(!c.isEqualVectors(y.getPick(1).circularArcCenter,y.getPick(2).circularArcCenter,0)||y.getPick(1).circularArcRadius!==y.getPick(2).circularArcRadius)))return!1;i=!0}else{if(t&&a.model){var o=a.container.getBoundingClientRect(),l=t.canvasX||t.clientX-o.left,u=t.canvasY||t.clientY-o.top;if(l&&u){let e;if(a.impl.is2d)e=!0;else{const t=[];a.impl.renderer().idAtPixel(l,u,t);const i=t[1];if(i>0){const t=a.impl.modelQueue().findModel(i);e=null==t?void 0:t.is2d()}}B=e?c.inverseProject({x:l,y:u},a):null}}if(A&&y&&!this.isEditingEndpoint&&p===y.getMaxNumberOfPicks()+1)return!0;var h=this.getActivePick();h&&h.clear()}if(y&&(this.correctPickPosition(),A&&this._doConsumeSingleClick(),!this.isNoPicksSet())){var d=this.render();y.hasPick(2)&&(i&=d)}return i},this._doConsumeSingleClick=function(){var e;if(y.measurementType===c.MeasurementTypes.MEASUREMENT_AREA&&!y.closedArea){var t=y.countPicks(),i=y.getPick(1),n=y.getPick(t);t>=3&&y.hasEqualPicks(i,n)&&(n.clear(),delete y.picks[t],y.closedArea=!0)}this.updateResults();var s=y.isComplete();this.updateViewportId(s),a.dispatchEvent({type:P.l,mode:s?"end":"start"});const r=V[y.measurementType];Ze.analytics.track("viewer.measure",{action:"Measurement",type:r?r.getMeasurementName():c.MeasurementTypesToAnalytics[y.measurementType],snapping:(null===(e=this.getActivePick())||void 0===e?void 0:e.geomType)!==c.SnapType.RASTER_PIXEL})},this.handleButtonDown=function(e,t){return l.isMobileDevice()||(h=!0,a.dispatchEvent({type:P.l,mode:"start"}),0!==t||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||(A=!0,m=e.canvasX,f=e.canvasY)),!1},this.handleMouseMove=function(t){return l.isMobileDevice()||(t.canvasX===m&&t.canvasY===f||(A=!1),d=this.isEditingEndpoint,this.isNoPicksSet()||this.areAllPicksSet()||(this.clearPick(p),this._handleMouseEvent(t)),function(){var t;if(y||M.setArc(!0),(null===(t=y)||void 0===t?void 0:t.measurementType)===c.MeasurementTypes.MEASUREMENT_ARC&&e.model.is2d()){var i=y&&y.getPick(1),n=y&&y.hasPick(2)&&y.getPick(2);const e=!i||y.countPicks().length>2||c.isEqualVectors(i.circularArcCenter,n.circularArcCenter,0)&&i.circularArcRadius===n.circularArcRadius;M.setArc(e)}}(),M.indicator.render(),this.updateMeasurementPreview(!this.isEditingEndpoint)),!1},this.restoreMouseListeners=function(){a.toolController.getTool("gestures").controller.enableMouseButtons(!0)},this.handlePressHold=function(e){if(A=!1,l.isTouchDevice())switch(e.type){case"press":return T=!0,(this.areAllPicksSet()||this.isNoPicksSet())&&(this.startNewMeasurement(),b&&this.clearIsolate(),p=1),this._handleMouseEvent(e),M.indicator.render(),!0;case"pressup":return A=!0,this.restoreMouseListeners(),g=!g,this.handleSingleClick(e),T=!1,!0}return!1},this.handleGesture=function(e){if(l.isTouchDevice()){if(A=!1,T)switch(this.clearPick(p),e.type){case"dragstart":case"dragmove":return this._handleMouseEvent(e),M.indicator.render(),!0;case"dragend":return T=!1,A=!0,this.editByDrag||(g=!g,this.handleSingleClick(e)),this.editByDrag=!1,this.restoreMouseListeners(),!0;case"pinchstart":case"pinchmove":this._handleMouseEvent(e),M.indicator.render();break;case"pinchend":return A=!0,g=!g,this.handleSingleClick(e),this.restoreMouseListeners(),!0}if(-1!==e.type.indexOf("pinch"))for(var t in C.measurementsList){if(Object.prototype.hasOwnProperty.call(C.measurementsList,t))C.measurementsList[t].indicator.updateScale()}}return!1},this.handleButtonUp=function(e,t){return h=!1,a.dispatchEvent({type:P.l,mode:"end"}),m=null,f=null,d&&(A=!0,g=!g,this.handleSingleClick(e),d=!1),!1},this.handleSingleClick=function(e,t){return A&&(M.indicator.clearOverlays(),y&&y.indicator.changeEndpointOnEditStyle(p,!1),this._handleMouseEvent(e)?(this.updateResults(),p++):this.isEditingEndpoint?this.undoEditEndpoint():y&&y.measurementType===c.MeasurementTypes.MEASUREMENT_AREA&&this.canCloseArea()?(this.snapToFirstPick(this.getActivePick(),!0),this._handleMouseEvent()):this.clearCurrentMeasurement(),y&&y.isComplete()&&this.allPicksSet(),A=!1,g=!g,this.isEditingEndpoint=!1,M.clearSnapped()),!0},this.handleDoubleClick=function(e){return!0},this.onCameraChange=function(){for(var e in C.measurementsList){if(Object.prototype.hasOwnProperty.call(C.measurementsList,e))C.measurementsList[e].indicator.updateScale()}M.indicator.onCameraChange()},this.handleSingleTap=function(e){return g||(A=!0,M.onMouseDown({x:e.canvasX,y:e.canvasY}),this.handleSingleClick(e)),g=!g,!0},this.handleDoubleTap=function(t){if(y&&y.measurementType===c.MeasurementTypes.MEASUREMENT_AREA&&y.countPicks()>2){var i=y.getPick(1),n=c.getSnapResultPosition(i,a),s=c.project(n,e);t.canvasX=s.x,t.canvasY=s.y,A=!0,M.onMouseDown(s),this.handleSingleClick(t),g=!g}return!0},this.handleResize=function(){for(var e in C.measurementsList)if(Object.prototype.hasOwnProperty.call(C.measurementsList,e)){var t=C.measurementsList[e];t.indicator&&t.indicator.handleResize()}},this.handleKeyDown=function(e,t){switch(t){case Autodesk.Viewing.KeyCode.BACKSPACE:case Autodesk.Viewing.KeyCode.DELETE:return y&&y.measurementType===c.MeasurementTypes.MEASUREMENT_AREA&&!this.areAllPicksSet()&&y.countPicks()>2?this.deleteCurrentPick():this.deleteCurrentMeasurement(),!0}return!1},this.isCalibrationSetOnPage=function(){return i.calibrateWithPage&&null!=o.calibrationFactor}}Qe.GlobalManagerMixin.call(Je.prototype);var Xe=Autodesk.Viewing,qe=Autodesk.Viewing.MeasureCommon;function Ke(e,t,i){r.call(this,e,t,i),this.calibrationTool=i,this.calibrationLabel=null,this.endpoints=null,this.tmpVector=new THREE.Vector3,this.p1=null,this.p2=null,this.rubberbandDefaultMaterial=new THREE.MeshBasicMaterial({color:15249964,opacity:1,transparent:!1,depthTest:!1,depthWrite:!1,side:THREE.DoubleSide}),this.rubberbandSnappedMaterial=new THREE.MeshBasicMaterial({color:23502,opacity:1,transparent:!1,depthTest:!1,depthWrite:!1,side:THREE.DoubleSide}),this.rubberbandTipMaterial=new THREE.MeshBasicMaterial({color:0,opacity:1,transparent:!1,depthTest:!1,depthWrite:!1,side:THREE.DoubleSide})}Ke.prototype=Object.create(r.prototype),Ke.prototype.constructor=Ke;var $e=Ke.prototype;function et(e,t){return e.right>=t.left&&e.right<=t.right}function tt(e,t){return e.left>=t.left&&e.left<=t.right}function it(e,t){return e.left<=t.left&&e.right>=t.right}function nt(e,t,i){e.style.left=parseInt(e.style.left,10)+(i.right-t.left)+"px"}function st(e,t,i){e.style.top=parseInt(e.style.top,10)+(i.bottom-t.top)+"px"}$e.createEndpoint=function(e){this.endpoints[e]={},this.endpoints[e].position=null;const t=this.getDocument();var i=this.endpoints[e].label=t.createElement("div");i.className="calibration-endpoint",this.viewer.container.appendChild(i);var n=t.createElement("div");n.className="calibration-endpoint-text",n.textContent=e.toString(),i.appendChild(n),Xe.isTouchDevice()&&this.initLabelMobileGestures(i,e,this.calibrationTool),Xe.isMobileDevice()||(qe.safeToggle(i,"enable-hover",!0),this.initMouseEvent(i,e),i.addEventListener("mousewheel",this.viewer.toolController.mousewheel))},$e.init=function(){if(qe.createCommonOverlay(this.viewer,this.overlayName),!this.calibrationLabel){const t=this.getDocument();this.calibrationLabel=t.createElement("div"),this.calibrationLabel.className="calibration-label",this.hideLabel(this.calibrationLabel),this.viewer.container.appendChild(this.calibrationLabel),this.calibrationLabel.addEventListener("mousewheel",this.viewer.toolController.mousewheel);var e=t.createElement("div");e.className="calibration-label-text",this.calibrationLabel.appendChild(e)}this.endpoints=[],this.handleButtonUpBinded=this.calibrationTool.handleButtonUp.bind(this.calibrationTool),this.addWindowEventListener("mouseup",this.handleButtonUpBinded),this.onCameraChangeBinded=this.onCameraChange.bind(this),this.viewer.addEventListener(Xe.CAMERA_CHANGE_EVENT,this.onCameraChangeBinded)},$e.destroy=function(){this.clear(),r.prototype.destroy.call(this),this.calibrationLabel&&(this.calibrationLabel.removeEventListener("mousewheel",this.viewer.toolController.mousewheel),this.viewer.container.removeChild(this.calibrationLabel),this.calibrationLabel=null),this.viewer.impl.clearOverlay(this.overlayName,!0),this.viewer.impl.removeOverlayScene(this.overlayName),this.removeWindowEventListener("mouseup",this.handleButtonUpBinded),this.viewer.removeEventListener(Xe.CAMERA_CHANGE_EVENT,this.onCameraChangeBinded)},$e.clearRubberband=function(){this.viewer.impl.clearOverlay(this.overlayName,!0)},$e.clear=function(){for(var e in this.clearRubberband(),this.hideLabel(this.calibrationLabel),this.endpoints)Object.prototype.hasOwnProperty.call(this.endpoints,e)&&(this.hideClick(e),this.endpoints[e].position=null)},$e.updateLabelValue=function(e){e&&""!==e?(this.calibrationLabel.childNodes[0].setAttribute("data-i18n",e),this.calibrationLabel.childNodes[0].textContent=Xe.i18n.translate(e),this.showLabel(this.calibrationLabel),this.calibrationTool.render()):(this.calibrationLabel.childNodes[0].textContent=null,this.hideLabel(this.calibrationLabel))},$e.changeLabelClickableMode=function(e){this.calibrationLabel.childNodes[0].style.pointerEvents=e?"all":"none"},$e.showAddCalibrationLabel=function(){var e=this;this.updateLabelValue("Add Calibration"),this.changeLabelClickableMode(!0),this.calibrationTool.render(),this.calibrationLabel.addEventListener("click",(function t(){e.calibrationLabel.childNodes[0].style.pointerEvents="none",e.calibrationTool.render(),e.updateLabelValue(null),e.calibrationTool.showPanel(),e.calibrationLabel.removeEventListener("click",t)}))},$e.updateLabelsPosition=function(){for(var e=1;e<=Object.keys(this.endpoints).length;e++)if(this.endpoints[e].position){var t=this.endpoints[e].label,i=qe.project(this.endpoints[e].position,this.viewer,15);t.style.left=i.x-parseInt(t.clientWidth)/2+"px",t.style.top=i.y-parseInt(t.clientHeight)/2+"px",t.point=this.endpoints[e].position,this.labelsOverlapDetection(this.endpoints[e].label,this.endpoints)}this.hideLabelsOutsideOfView()},$e.labelsOverlapDetection=function(e,t){for(var i=1;i<=Object.keys(t).length;i++){var n=t[i].label;if(e!==n){var s=e.getBoundingClientRect(),a=n.getBoundingClientRect();u=s,(c=a).top<u.bottom&&c.bottom>u.top&&(et(a,s)?(o=a,l=s,(r=n).style.left=parseInt(r.style.left,10)-(o.right-l.left)+"px"):tt(a,s)?nt(n,a,s):it(a,s)&&st(n,a,s))}}var r,o,l,c,u},$e.renderCalibrationLabel=function(){if(this.showMeasureResult&&this.calibrationLabel&&this.p1&&this.p2){var e={x:(this.p1.x+this.p2.x)/2,y:(this.p1.y+this.p2.y)/2,z:(this.p1.z+this.p2.z)/2},t=qe.project(e,this.viewer);this.labelPosition=new THREE.Vector2(t.x,t.y),this.calibrationLabel.childNodes[0].textContent&&this.showLabel(this.calibrationLabel),this.calibrationLabel.style.top=this.labelPosition.y-Math.floor(this.calibrationLabel.clientHeight/2)+"px",this.calibrationLabel.style.left=this.labelPosition.x-Math.floor(this.calibrationLabel.clientWidth/2)+"px",this.calibrationLabel.point=e,this.viewer.model.is2d()&&this.alignLabelWithLine(this.calibrationLabel,this.p1,this.p2,this.calibrationLabel.clientHeight,this.viewer)}},$e.drawMeasurementLineTip=function(e,t,i,n){const s=[new THREE.Vector3,new THREE.Vector3],a=new THREE.BufferGeometry;var r=this.setScale(e);n=n?-1:1;var o=this.snapper.isSnapped()&&!this.showMeasureResult?this.rubberbandSnappedMaterial:this.rubberbandTipMaterial;s[0].addVectors(e,i.clone().multiplyScalar(5*r)),s[1].subVectors(e,i.clone().multiplyScalar(5*r)),a.setFromPoints(s),this.drawLineAsCylinder(a,o,1.5,this.overlayName),s[0].copy(e),s[1].subVectors(e,t.clone().multiplyScalar(5*r*n)),a.setFromPoints(s),this.drawLineAsCylinder(a,o,1.5,this.overlayName),s[0].addVectors(e,i.clone().multiplyScalar(3*r)),s[1].subVectors(e,i.clone().multiplyScalar(3*r)),a.setFromPoints(s),this.drawLineAsCylinder(a,this.rubberbandDefaultMaterial,2,this.overlayName),s[0].addVectors(e,i.clone().multiplyScalar(3*r)),s[0].addVectors(s[0],t.clone().multiplyScalar(3*r)),s[1].subVectors(e,i.clone().multiplyScalar(3*r)),s[1].subVectors(s[1],t.clone().multiplyScalar(3*r)),a.setFromPoints(s),this.drawLineAsCylinder(a,this.rubberbandDefaultMaterial,2,this.overlayName)},$e.renderDistanceMeasurement=function(e,t){if(this.viewer.impl.clearOverlay(this.overlayName,!0),e&&t){var i=(new THREE.Vector3).subVectors(t,e).normalize(),n=i.clone().cross(this.viewer.navigation.getEyeVector()).normalize(),s=this.setScale(e),a=2*s,r=1*s,o=(Math.abs(e.x-t.x)<=.1||Math.abs(e.y-t.y)<=.1||this.snapper.getSnapResult().isPerpendicular)&&!this.showMeasureResult?this.rubberbandSnappedMaterial:this.rubberbandDefaultMaterial;if(this.showMeasureResult){const i=(new THREE.BufferGeometry).setFromPoints([e,t]);this.drawLineAsCylinder(i,o,3,this.overlayName)}else this.drawDashedLine(e,t,a,r,o,3,this.overlayName);this.drawMeasurementLineTip(e,i,n,!1),this.showMeasureResult&&this.drawMeasurementLineTip(t,i,n,!0),this.p1=e,this.p2=t,this.renderCalibrationLabel()}},$e.onCameraChange=function(){this.measurement.isComplete()&&this.renderDistanceMeasurement(this.p1,this.p2),this.updateLabelsPosition()};var at=Autodesk.Viewing,rt=Autodesk.Viewing.Extensions,ot=Autodesk.Viewing.Private,lt=Autodesk.Viewing.UI,ct=Autodesk.Viewing.MeasureCommon;const ut=lt&&lt.DockingPanel||class{},ht=rt&&rt.ViewerPanelMixin||function(){},dt=at.getGlobal().document;var pt=function(e,t,i,n,s){var a=this;(s=s||{}).addFooter=!1,ut.call(this,t.container,i,n,s),this.viewer=t,this.calibrationTool=e,this.parentContainer=t.container,this.container.style.left="0px",this.container.style.top="0px",this.container.style.resize="none",this.container.classList.add("calibration-panel"),this.setGlobalManager&&this.setGlobalManager(t.globalManager),this.addEventListener(this.closer,"click",(function(e){a.cancel()})),s.heightAdjustment||(s.heightAdjustment=40),s.marginTop||(s.marginTop=0),s.left=!1,this.createScrollContainer(s);const r=this.getDocument&&this.getDocument()||dt;this.calibrationMenu=r.createElement("div"),this.scrollContainer.appendChild(this.calibrationMenu),this.table=r.createElement("table"),this.table.className="adsk-lmv-tftable calibration-table",this.tbody=r.createElement("tbody"),this.table.appendChild(this.tbody),this.calibrationMenu.appendChild(this.table),this.row=this.tbody.insertRow(0),this.requestedSizeTextbox=r.createElement("input"),this.requestedSizeTextbox.className="docking-panel-textbox",this.requestedSizeTextbox.type="text",this.requestedSizeTextbox.autofocus="true",this.addEventListener(this.requestedSizeTextbox,"keyup",(function(e){var t=a.requestedSizeTextbox.value;""!==t&&""===t.split(".")[0]&&(a.requestedSizeTextbox.value="0"+t),a.updateLabel()})),this.addEventListener(this.requestedSizeTextbox,"keypress",(function(e){var t=e.key||String.fromCharCode(e.keyCode);if("Backspace"!=t&&"ArrowLeft"!=t&&"ArrowRight"!=t)if(e.keyCode!=at.KeyCode.ESCAPE){if(e.keyCode==at.KeyCode.ENTER){var i=a.unitList.selectedIndex,n=a.units[i].units;a.calibrationTool.calibrate(n,a.requestedSizeTextbox.value)}var s=a.requestedSizeTextbox.value,r=a.requestedSizeTextbox.selectionStart;if("."!=(s=[s.slice(0,r),t,s.slice(r)].join(""))){var o=a.units[a.unitList.selectedIndex].simpleInput;(!At(s)||o&&(!gt(s)||Autodesk.Viewing.Private.calculatePrecision(s)>a.calibrationTool.getMaxPrecision()))&&e.preventDefault()}}else a.cancel()}));var o="Define Size",l=this.row.insertCell(0);this.caption=r.createElement("div"),this.caption.setAttribute("data-i18n",o),this.caption.textContent=at.i18n.translate(o),l.appendChild(this.caption),(l=this.row.insertCell(1)).appendChild(this.requestedSizeTextbox),this.units=[{name:"Feet and fractional inches",units:"ft-and-fractional-in",matches:["ft-and-fractional-in","fractional-in"],simpleInput:!1},{name:"Feet and decimal inches",units:"ft-and-decimal-in",matches:["ft","decimal-ft","in","decimal-in","ft-and-decimal-in"],simpleInput:!1},{name:"Meters",units:"m",matches:["m","m-and-cm"],simpleInput:!0},{name:"Centimeters",units:"cm",matches:["cm"],simpleInput:!0},{name:"Millimeters",units:"mm",matches:["mm"],simpleInput:!0}];for(var c=[],u=0;u<this.units.length;++u)c.push(this.units[u].name);this.unitList=new ot.OptionDropDown("Unit type",this.tbody,c,0,null,void 0,{paddingLeft:0,paddingRight:0}),this.unitList.setGlobalManager(this.globalManager),this.addEventListener(this.unitList,"change",(function(e){a.updateLabel()}));var h=r.createElement("div");h.classList.add("docking-panel-footer"),this.calibrationMenu.appendChild(h);var d=r.createElement("div");d.classList.add("docking-panel-secondary-button"),d.setAttribute("data-i18n","Cancel"),d.textContent=at.i18n.translate("Cancel"),d.addEventListener("click",(function(){a.cancel()}),!1),h.appendChild(d);var p=r.createElement("div");p.classList.add("docking-panel-primary-button"),p.setAttribute("data-i18n","Calibrate"),p.textContent=at.i18n.translate("Calibrate"),p.addEventListener("click",(function(){var e=a.unitList.selectedIndex,t=a.units[e].units;a.calibrationTool.calibrate(t,a.requestedSizeTextbox.value)}),!1),h.appendChild(p)},At=function(e){return e.match(/^(\d+)/)},gt=function(e){return e+="0",!isNaN(parseFloat(e))&&!isNaN(+e)&&parseFloat(e)>=0};pt.prototype=Object.create(ut.prototype),ht.call(pt.prototype),pt.prototype.uninitialize=function(){this.viewer=null,ut.prototype.uninitialize.call(this)},pt.prototype.cancel=function(){this.setVisible(!1),this.calibrationTool.clearSize(),this.calibrationTool.showAddCalibrationLabel()},pt.prototype.findUnits=function(){var e,t,i=this.calibrationTool.getCurrentUnits();for(e=0;e<this.units.length;++e){var n=this.units[e].matches;if(n)for(t=0;t<n.length;++t)if(n[t]===i)return e}return 0},pt.prototype.setPanelValue=function(e){this.updateUnits(),this.requestedSizeTextbox.value=e},pt.prototype.updateUnits=function(){this.unitList.setSelectedIndex(this.findUnits())},pt.prototype.updateLabel=function(){var e=this.unitList.selectedIndex,t=this.units[e].units,i=this.requestedSizeTextbox.value,n=Autodesk.Viewing.Private.UnitParser.parsePositiveNumber(i,t),s=Autodesk.Viewing.Private.formatValueWithUnits(n,t,3,Autodesk.Viewing.Private.calculatePrecision(i));""===i?this.calibrationTool.updateLabelValue(null):isNaN(n)||this.calibrationTool.updateLabelValue(s)},pt.prototype.updatePanelPosition=function(e,t,i,n){var s,a,r=parseInt(this.container.getBoundingClientRect().width),o=parseInt(this.container.getBoundingClientRect().height);if(e&&t&&i){t=ct.project(t,this.viewer),i=ct.project(i,this.viewer);var l,c=(new THREE.Vector2).copy(t).sub(i).normalize();l=t.x<i.x?new THREE.Vector2(c.y,-c.x):new THREE.Vector2(-c.y,c.x);var u=n+Math.sqrt(Math.pow(r,2)+Math.pow(o,2))/2;l=l.multiplyScalar(u);var h=e.sub(l);s=h.x-Math.floor(r/2),a=h.y-Math.floor(o/2),(s<0||s+r>this.viewer.canvas.clientWidth||a<0||a+o>this.viewer.canvas.clientHeight)&&(s=Math.floor((this.viewer.canvas.clientWidth-r)/2),a=Math.floor((this.viewer.canvas.clientHeight-o)/2))}else s=Math.floor((this.viewer.canvas.clientWidth-r)/2),a=Math.floor((this.viewer.canvas.clientHeight-o)/2);this.container.style.left=s+"px",this.container.style.top=a+"px"};var mt=function(e,t,i,n,s){var a=this;(s=s||{}).addFooter=!1,ut.call(this,t.container,i,n,s),this.viewer=t,this.measureExt=e,this.parentContainer=t.container,this.container.classList.add("calibration-panel"),this.setGlobalManager&&this.setGlobalManager(t.globalManager),s.heightAdjustment||(s.heightAdjustment=70),s.marginTop||(s.marginTop=0),s.left=!1;const r=this.getDocument&&this.getDocument()||dt;this.createScrollContainer(s),this.dialogBox=r.createElement("div"),this.scrollContainer.appendChild(this.dialogBox);var o=r.createElement("div");o.className="calibration-text";var l="Calibration Message";o.setAttribute("data-i18n",l),o.textContent=at.i18n.translate(l),this.dialogBox.appendChild(o);var c=r.createElement("div");c.className="calibration-buttons-wrapper",this.dialogBox.appendChild(c);var u=r.createElement("div");u.classList.add("docking-panel-secondary-button"),u.classList.add("calibration-button-left"),u.setAttribute("data-i18n","Cancel"),u.textContent=at.i18n.translate("Cancel"),u.addEventListener("click",(function(){a.setVisible(!1)}),!1),c.appendChild(u);var h=r.createElement("div");h.classList.add("docking-panel-primary-button"),h.classList.add("calibration-button-right"),h.setAttribute("data-i18n","Calibrate Now"),h.textContent=at.i18n.translate("Calibrate Now"),h.addEventListener("click",(function(){a.measureExt.enableCalibrationTool(!0),a.setVisible(!1)}),!1),c.appendChild(h)};mt.prototype=Object.create(ut.prototype),ht.call(mt.prototype),mt.prototype.uninitialize=function(){this.viewer=null,ut.prototype.uninitialize.call(this)};const vt=Autodesk.Viewing;var ft=function(e,t,i,n){var s=Autodesk.Viewing,a=Autodesk.Viewing.MeasureCommon,r=["calibration"],o=e,l=new a.Measurement(a.MeasurementTypes.MEASUREMENT_DISTANCE),c=t||{};this.setGlobalManager(e.globalManager);var u=i,h=t.maxPrecision||5,d=null!=i.calibrationFactor,p=n,A=!1,g=!1,m=!1,v=null,f=!1,b=null,C=null,y=null,w=null,E=!1,x=[],k=null,M=0,T=!1,L=!1,B=!1,S=null,R=null,N=null,I=Autodesk.Viewing.GuiViewer3D&&e instanceof Autodesk.Viewing.GuiViewer3D;function O(){switch(M){case 0:return null;case 1:case 2:return l.getPick(M);case 3:return l.getPick(l.countPicks())}}function D(){switch(M){case 0:return null;case 1:return l.getPick(l.countPicks());case 2:case 3:return l.getPick(1)}}function V(){M=0}function z(){M=3,l.indicator.changeAllEndpointsEditableStyle(!0)}function U(){return 0===M}function G(){return 3===M}this.register=function(){I&&!N&&(N=new pt(this,o,"calibration-panel","Calibration",c),o.addPanel(N)),this.onCameraChangeBinded=this.onCameraChange.bind(this),this.screenSizeChangedBinded=this.screenSizeChanged.bind(this)},this.deregister=function(){this.deactivate(),N&&(o.removePanel(N),N.uninitialize(),N=null)},this.isActive=function(){return A},this.getNames=function(){return r},this.getName=function(){return r[0]},this.getPriority=function(){return 50},this.getCursor=function(){return g?null:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAYCAYAAAD+vg1LAAAAAXNSR0IArs4c6QAAAwZJREFUSA2tVEtLW0EUvjGJefoqSY0x0WBSiY+oNWiUINkU6ioLaaAlG1eudNVFoT+grgopiCkEIbUK1o0lusmurRSEWmmKG6MNtNhNosWqyU2CZPpN8cr15nFD7YHDzHnON2fOGYZhmHkw4XEW+wD4xkT4lMvl6CE0+Y2ohh+dz+cZn89HVS/5+n/d/wVMkXq9Xor2v5SBgsmymQwZHx+vOqlKpXKDXWI3eU6Tg+kqSjSh3W4/s9lsvzUajaNcAK3xY7Dyci3nd6WXSCS60dHRvMfjSRcKBfWV4SYbrVarB8p0PB5nY7HYmdVq/aDX67WlckpKKcvpOjs7X09OTvoPDw8z2Wy2Bu+imJqa+npycnJXGHOt3YRGoSyVSvvMZrNkYWFBs7GxkaoBAXFJcDJhcCW5rq5ur62trQ/EOhyOBhDT2Nj4qVKMqA31ve1yub7Rfufo/PycDA4OxpuamhqECaouhVqtfuD3+1tqa2uZQCCQDoVCWTwknVQDDvIKE1clI1ja09Ozg0cjx8fHpL+/P+50OhMU8f7+Punt7f2I5NdqXRXi9fV1z9jYWCuIWV5eziSTyWAqlXq1urqaw6AwOMiCG4lOYtEturu732xubhK0FQHSvfr6+lsog4HWPIPvIBqNErRiqCiwkkKpVFowZd8xZSQYDLImk+kJ52+xWJ4tLS3hU8yTkZGRBD2Ms4mu6Nun4XA4f3p6SoaGhuJ0+rgg/Bsmt9udYFmWzM3NZdDT05ztWsE5JV0R1AqUCfTt0fb2tjESiRRmZmaOUOcI3w9DY5mdnb03PDzMoDQ/MZFRzM20lO/E38vl8vt46UdAq0WNJWixlEwmu8B1bXioOxwjpgXJ0hMTE1og1qysrDghf+HnKtoD7c7u7i5ZXFzMGY3GF7iFuRR3dHTMr62tXWxtbZH29vZ3RYmECozu54ODAzpdP2hphHZOVigUVjChvgMDA+85fdm1q6vrrU6n+4WR9Zd1ujQ0Nzc/NBgMScSExXwZ2j5oL5Wo46UD/ZvxUemo+AdW1zJzUYr16wAAAABJRU5ErkJggg==), auto"},this.activate=function(){if(A=!0,g=!1,this.isEditingEndpoint=!1,this.editByDrag=!1,V(),o.toolController.activateTool(p.getName()),o.toolController.activateTool("magnifyingGlass"),l.indicator||l.attachIndicator(o,this,Ke),l.indicator.clear(),f&&y&&w){l.setPick(1,y.clone()),l.setPick(2,w.clone()),z();var e=Autodesk.Viewing.Private.UnitParser.parsePositiveNumber(b,C);l.indicator.updateLabelValue(Autodesk.Viewing.Private.formatValueWithUnits(e,C,3,u.precision)),v=l.distanceXYZ,l.indicator.changeLabelClickableMode(!1),E=!0;var t=this.render();l.indicator.changeAllEndpointsEditableStyle(!0),t&&(N&&N.setPanelValue(b),this.showPanel())}else if(I){const e={messageKey:"Select two points",messageDefaultValue:"Select two points to calibrate drawing",position:"top"};Autodesk.Viewing.Private.HudMessage.displayMessage(o.container,e)}o.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT,this.onCameraChangeBinded),o.addEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT,this.screenSizeChangedBinded)},this.deactivate=function(){A&&(o.dispatchEvent({type:P.l,mode:"end"}),A=!1,Autodesk.Viewing.Private.HudMessage.dismiss(),this.hidePanel(),this.updateViewportId(!0),E=!1,l.clearAllPicks(),p&&p.isActive()&&o.toolController.deactivateTool(p.getName()),o.toolController.deactivateTool("magnifyingGlass"),l.indicator&&(l.indicator.clear(),l.indicator.destroy(),l.indicator=null),o.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT,this.onCameraChangeBinded),o.removeEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT,this.screenSizeChangedBinded))},this.getActivePointIndex=function(){return M},this.setCalibrationFactor=function(e){u.calibrationFactor=e},this.getCalibrationFactor=function(){return u.calibrationFactor},this.updateLabelValue=function(e){l.indicator.updateLabelValue(e)},this.isCalibrationValid=function(e,t){var i=Autodesk.Viewing.Private.UnitParser.parsePositiveNumber(t,e);return!isNaN(i)},this.calibrate=function(e,t){var i=null,n=Autodesk.Viewing.Private.UnitParser.parsePositiveNumber(t,e);if(!isNaN(n)){var s=Autodesk.Viewing.Private.convertUnits(o.model.getUnitString(),e,1,v);if(0!==s&&!isNaN(s)){i=n/s,u.calibrationFactor=i,u.units=e;var r=o.model.is2d()?3:1,c=Autodesk.Viewing.Private.calculatePrecision(t);u.precision=Math.max(u.precision?u.precision:r,c),b=t,C=e,d=!0,f=!0,y=l.getPick(1).clone(),w=l.getPick(2).clone()}}i&&(o.getExtension("Autodesk.Measure").enableCalibrationTool(!1),o.dispatchEvent({type:a.Events.FINISHED_CALIBRATION,units:e,scaleFactor:i,size:t}))},this.calibrateByScale=function(e,t){u.calibrationFactor=t,u.units!==e&&(u.units=e,C=e),d=!0},this.getCurrentUnits=function(){return u.units},this.hidePanel=function(){N?N.setVisible(!1):o.dispatchEvent({type:a.Events.CLOSE_CALIBRATION_PANEL_EVENT})},this.showPanel=function(){Autodesk.Viewing.Private.HudMessage.dismiss();var e=this;const t=this.getWindow();N?(t.setTimeout((function(){N.requestedSizeTextbox.focus()}),0),N.setVisible(!0),N.updatePanelPosition(l.indicator.labelPosition,l.indicator.p1,l.indicator.p2,l.indicator.calibrationLabel.clientHeight),N.updateUnits(),e.addWindowEventListener("keyup",(function t(i){"Escape"==(i.key||String.fromCharCode(i.keyCode))&&e.isActive()&&(e.hidePanel(),e.clearSize(),e.showAddCalibrationLabel(),e.removeWindowEventListener("keyup",t))}))):o.dispatchEvent({type:a.Events.OPEN_CALIBRATION_PANEL_EVENT,data:{size:b,units:C}})},this.updateCalibrationPanel=function(){N&&N.updateUnits()},this.showAddCalibrationLabel=function(){l.indicator.showAddCalibrationLabel()},this.isCalibrated=function(){return d},this.clearSize=function(){l.indicator.updateLabelValue(null),N?N.requestedSizeTextbox.value="":o.dispatchEvent({type:a.Events.CLEAR_CALIBRATION_SIZE_EVENT})},this.getMaxPrecision=function(){return h},this.clearMeasurement=function(){V(),this.clearPick(1),this.clearPick(2),l.indicator.clear(),this.updateViewportId(!0),this.hidePanel(),E=!1},this.clearPick=function(e){l.hasPick(e)&&(l.clearPick(e),l.indicator.hideClick(e))},this.repickEndpoint=function(e){this.clearPick(e),this.editEndpoint(null,e)},this.getSnapper=function(){return p},this._handleMouseEvent=function(e){var t=!1;if(p.isSnapped())(G()||U())&&(this.clearMeasurement(),M=1),p.copyResults(O()),t=!0;else{if(e&&o.model.is2d()){var i=o.container.getBoundingClientRect(),n=e.canvasX||e.clientX-i.left,s=e.canvasY||e.clientY-i.top;n&&s&&(k=a.inverseProject({x:n,y:s},o))}if(L&&l&&!this.isEditingEndpoint&&M===l.getMaxNumberOfPicks()+1)return!0;var r=O();r&&r.clear()}if(this.correctPickPosition(),L&&this._doConsumeSingleClick(t),!U()){var c=this.render();l.hasPick(2)&&(t&=c)}return L&&(l.isComplete()&&t?(v=l.distanceXYZ,this.clearSize(),this.showPanel(),E=!0,o.dispatchEvent({type:P.l,mode:"end"})):(o.dispatchEvent({type:P.l,mode:"start"}),this.hidePanel(),l.indicator.updateLabelValue(null),E=!1)),t},this.updateViewportId=function(t){if(o.model&&o.model.is2d())if(t||U())e.impl.updateViewportId(0),p.setViewportId(null);else if(!m){var i=D().viewportIndex2d||O().viewportIndex2d;e.impl.updateViewportId(i),p&&p.setViewportId(i)}},this._doConsumeSingleClick=function(e){this.updateViewportId(l.isComplete()),l.indicator.clear()},this.handleButtonDown=function(e,t){return s.isMobileDevice()||(g=!0,0!==t||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||(L=!0,S=e.canvasX,R=e.canvasY)),!1},this.handleMouseMove=function(e){return s.isMobileDevice()||(e.canvasX===S&&e.canvasY===R||(L=!1),T=this.isEditingEndpoint,U()||G()||(this.clearPick(M),this._handleMouseEvent(e)),p.indicator.render()),!1},this.restoreMouseListeners=function(){o.toolController.getTool("gestures").controller.enableMouseButtons(!0)},this.handlePressHold=function(e){if(L=!1,s.isTouchDevice())switch(e.type){case"press":return m=!0,G()?this.clearMeasurement():this.clearPick(M),this._handleMouseEvent(e),p.indicator.render(),!0;case"pressup":return L=!0,this.restoreMouseListeners(),B=!B,this.handleSingleClick(e),m=!1,!0}return!1},this.correctPickPosition=function(){var t=O();if(t&&!t.getGeometry()&&k&&(t.geomType=a.SnapType.SNAP_VERTEX,t.geomVertex=k,t.intersectPoint=k),function(){switch(M){case 0:return!1;case 1:return l.hasPick(l.countPicks());case 2:case 3:return l.hasPick(1)}}()){var i=D();a.correctPerpendicularPicks(i,t,e,p)}},this.render=function(){var e=l.computeResult(l.picks,o,p);return l.indicator.render(l.picks,L||E),e},this.editEndpoint=function(e,t){if(M===t)return l.indicator.changeEndpointOnEditStyle(t,!1),void this.undoEditEndpoint();for(var i in M=t,this.isEditingEndpoint=!0,l.indicator.changeEndpointOnEditStyle(t,!0),l.indicator.changeAllEndpointsEditableStyle(!1),l.picks)Object.prototype.hasOwnProperty.call(l.picks,i)&&(x[i]=l.getPick(i).clone());this.updateViewportId(),o.dispatchEvent({type:P.l,mode:"start"}),this.hidePanel(),l.indicator.updateLabelValue(null),E=!1,s.isMobileDevice()||this._handleMouseEvent(e)},this.undoEditEndpoint=function(){for(var e in l.indicator.clear(),l.picks)Object.prototype.hasOwnProperty.call(l.picks,e)&&l.setPick(e,x[e].clone());this.updateViewportId(!0),this.isEditingEndpoint=!1,E=!0,z(),this.render()&&this.showPanel()},this.handleGesture=function(e){if(s.isTouchDevice()&&(L=!1,m))switch(this.clearPick(M),e.type){case"dragstart":case"dragmove":return this._handleMouseEvent(e),p.indicator.render(),!0;case"dragend":return m=!1,L=!0,this.editByDrag||(B=!B,this.handleSingleClick(e)),this.editByDrag=!1,this.restoreMouseListeners(),!0;case"pinchend":return L=!0,B=!B,this.handleSingleClick(e),this.restoreMouseListeners(),!0}return!1},this.handleButtonUp=function(e){return g=!1,S=null,R=null,T&&(L=!0,B=!B,this.handleSingleClick(e),T=!1),!1},this.handleSingleClick=function(e){return L&&(p.indicator.clearOverlays(),l.indicator.changeEndpointOnEditStyle(M,!1),this._handleMouseEvent(e)?(l.indicator.showEndpoints(),l.indicator.updateLabelsPosition(),M++):this.isEditingEndpoint?this.undoEditEndpoint():this.clearMeasurement(),l.isComplete()&&z(),L=!1,B=!B,this.isEditingEndpoint=!1,p.clearSnapped()),!0},this.handleDoubleClick=function(){return!0},this.handleSingleTap=function(e){return B||(L=!0,p.onMouseDown({x:e.canvasX,y:e.canvasY}),this.handleSingleClick(e)),B=!B,!0},this.handleDoubleTap=function(){return!0},this.handleResize=function(){l.indicator&&l.indicator.handleResize()},this.onCameraChange=function(){p.indicator&&p.indicator.onCameraChange()},this.screenSizeChanged=function(e){this.onCameraChange()}};vt.GlobalManagerMixin.call(ft.prototype);const bt=Autodesk.Viewing;var Ct=function(e){var t=e,i=!1,n=["magnifyingGlass"],s=!1,a=null,r=null,o=null,l=null,c=null,u=!1,h=Autodesk.Viewing;this.setGlobalManager(e.globalManager),this.register=function(){this.updateMagnifyingGlassBinded=this.updateMagnifyingGlass.bind(this)},this.isActive=function(){return i},this.activate=function(){i=!0},this.updateMagnifyingGlass=function(){const e=this.getWindow(),i=this.getDocument();if(u)a&&a.classList.remove("visible"),u=!1;else{var n=e.devicePixelRatio,s=120,h=s*n,d=n*(l-30),p=n*(c-30);a||((a=i.createElement("canvas")).className="magnifying-glass",a.width=h,a.height=h,a.style.width=s+"px",a.style.height=s+"px",a.getContext("2d").translate(0,h),a.getContext("2d").scale(1,-1),t.container.appendChild(a),r=a.getContext("2d").createImageData(Math.ceil(h/2),Math.ceil(h/2)),o=new Uint8Array(r.data.buffer));var A=a.getContext("2d"),g=t.impl.glrenderer().getContext();g.readPixels(d,t.canvas.height-p-r.height,r.width,r.height,g.RGBA,g.UNSIGNED_BYTE,o),A.putImageData(r,0,0),A.drawImage(a,0,0,r.width,r.height,0,0,h,h),this.setGlassPosition(a,l,c,s,15),a.classList.toggle("visible",!0)}},this.deactivate=function(){this.clearMagnifyingGlass(),i=!1},this.getNames=function(){return n},this.getName=function(){return n[0]},this.getPriority=function(){return 70},this.setGlassPosition=function(e,t,i,n,s){e.style.left=t-n/2+"px",e.style.top=i-n-s>0?i-n-s+"px":i+s+"px"},this.requestUpdate=function(){t.hasEventListener(Autodesk.Viewing.RENDER_PRESENTED_EVENT,this.updateMagnifyingGlassBinded)||t.addEventListener(Autodesk.Viewing.RENDER_PRESENTED_EVENT,this.updateMagnifyingGlassBinded,{once:!0})},this.drawMagnifyingGlass=function(e,i){u=!1,l=e,c=i,t.impl.invalidate(!1,!1,!0),this.requestUpdate()},this.clearMagnifyingGlass=function(){u=!0,this.requestUpdate()},this.handlePressHold=function(e){if(h.isTouchDevice())switch(e.type){case"press":s=!0,this.drawMagnifyingGlass(e.canvasX,e.canvasY);break;case"pressup":this.clearMagnifyingGlass(),s=!1}return!1},this.handleGesture=function(e){if(s&&h.isTouchDevice())switch(e.type){case"dragstart":case"dragmove":case"pinchstart":case"pinchmove":this.drawMagnifyingGlass(e.canvasX,e.canvasY);break;case"dragend":this.clearMagnifyingGlass(),s=!1;break;case"pinchend":this.clearMagnifyingGlass()}return!1},this.handleMouseMove=function(e){return!1},this.handleWheelInput=function(e){return!1},this.handleButtonUp=function(e,t){return!1}};bt.GlobalManagerMixin.call(Ct.prototype);var yt=Autodesk.Viewing,wt=Autodesk.Viewing.UI,Et=Autodesk.Viewing.Private,xt=Autodesk.Viewing.MeasureCommon;function kt(e){this.measureExtension=e,this.measureTool=this.measureExtension.measureTool,this.viewer=this.measureExtension.viewer,this.setGlobalManager(this.viewer.globalManager),this.visible=!1,this.buttonsList=[]}var Mt=kt.prototype;yt.GlobalManagerMixin.call(kt.prototype),Mt.onUnitChange=function(e,t){t?this.measureTool.setUnits(e):(this.updateSettingsPanel(),Et.logger.track({category:"pref_changed",name:"measure/units",value:e}))},Mt.onPrecisionChange=function(e,t){t?this.measureTool.setPrecision(e):(this.updateSettingsPanel(),Et.logger.track({category:"pref_changed",name:"measure/precision",value:e}))},Mt.init=function(){var e=this;const t=this.getDocument();this.onUnitChangeBound=this.onUnitChange.bind(this),this.viewer.addEventListener(xt.Events.DISPLAY_UNITS_CHANGED,this.onUnitChangeBound),this.onPrecisionChangeBound=this.onPrecisionChange.bind(this),this.viewer.addEventListener(xt.Events.PRECISION_CHANGED,this.onPrecisionChangeBound);var i=this.viewer.getToolbar(),n=i.getControl(Autodesk.Viewing.TOOLBAR.NAVTOOLSID),s={};s.index=i.indexOf(n)+1,this.measureToolbar=new wt.ControlGroup(Autodesk.Viewing.TOOLBAR.MEASURETOOLSID),this.measureToolbar.setGlobalManager(this.globalManager),i.addControl(this.measureToolbar,s),this.measureSimpleDistanceBtn=new wt.Button("toolbar-measureTool-simple-distance"),this.measureSimpleDistanceBtn.setGlobalManager(this.globalManager),this.measureSimpleDistanceBtn.setToolTip("Distance"),this.measureSimpleDistanceBtn.setIcon("adsk-icon-measure-distance-new"),this.measureSimpleDistanceBtn.onClick=function(){e.measureSimpleDistanceBtn.getState()!==wt.Button.State.ACTIVE?e.measureExtension.activate("distance"):e.measureTool.deselectAllMeasurements()},this.measureToolbar.addControl(this.measureSimpleDistanceBtn),this.buttonsList[xt.MeasurementTypes.MEASUREMENT_DISTANCE]=this.measureSimpleDistanceBtn,this.measureAngleBtn=new wt.Button("toolbar-measureTool-angle"),this.measureAngleBtn.setGlobalManager(this.globalManager),this.measureAngleBtn.setToolTip("Angle"),this.measureAngleBtn.setIcon("adsk-icon-measure-angle-new"),this.measureAngleBtn.onClick=function(){e.measureAngleBtn.getState()!==wt.Button.State.ACTIVE?e.measureExtension.activate("angle"):e.measureTool.deselectAllMeasurements()},this.measureToolbar.addControl(this.measureAngleBtn),this.buttonsList[xt.MeasurementTypes.MEASUREMENT_ANGLE]=this.measureAngleBtn,this.viewer.model&&this.viewer.model.is2d()&&(this.measureAreaBtn=new wt.Button("toolbar-measureTool-area"),this.measureAreaBtn.setGlobalManager(this.globalManager),this.measureAreaBtn.setToolTip("Area"),this.measureAreaBtn.setIcon("adsk-icon-measure-area-new"),this.measureAreaBtn.onClick=function(){e.measureAreaBtn.getState()!==wt.Button.State.ACTIVE?e.measureExtension.activate("area"):e.measureTool.deselectAllMeasurements()},this.measureToolbar.addControl(this.measureAreaBtn),this.buttonsList[xt.MeasurementTypes.MEASUREMENT_AREA]=this.measureAreaBtn),this.viewer.model&&this.viewer.model.is2d()&&(this.measureArcBtn=new wt.Button("toolbar-measureTool-arc"),this.measureArcBtn.setGlobalManager(this.globalManager),this.measureArcBtn.setToolTip("Arc"),this.measureArcBtn.setIcon("adsk-icon-measure-arc-new"),this.measureArcBtn.onClick=function(){e.measureArcBtn.getState()!==wt.Button.State.ACTIVE?e.measureExtension.activate("arc"):e.measureTool.deselectAllMeasurements()},this.measureToolbar.addControl(this.measureArcBtn),this.buttonsList[xt.MeasurementTypes.MEASUREMENT_ARC]=this.measureArcBtn),this.viewer.model&&!this.viewer.model.is2d()&&yt.FeatureFlags.isEnabled(yt.PublicFeatureFlags.EnableSpotMeasurement)&&(this.measureSpotBtn=new wt.Button("toolbar-measureTool-simple-spot"),this.measureSpotBtn.setGlobalManager(this.globalManager),this.measureSpotBtn.setToolTip("Spot Coordinate"),this.measureSpotBtn.setIcon("adsk-icon-measure-location"),this.measureSpotBtn.onClick=function(){e.measureSpotBtn.getState()!==wt.Button.State.ACTIVE?e.measureExtension.activate("spot"):e.measureTool.deselectAllMeasurements()},this.measureToolbar.addControl(this.measureSpotBtn),this.buttonsList[xt.MeasurementTypes.MEASUREMENT_SPOT]=this.measureSpotBtn),this.calibrationToolBtn=new wt.Button("toolbar-calibrationTool"),this.calibrationToolBtn.setGlobalManager(this.globalManager),this.calibrationToolBtn.setToolTip("Calibrate"),this.calibrationToolBtn.setIcon("adsk-icon-measure-calibration"),this.calibrationToolBtn.onClick=function(t){e.calibrationToolBtn.getState()!==wt.Button.State.ACTIVE?e.measureExtension.activate("calibrate"):e.measureExtension.enableCalibrationTool(!1)},this.measureToolbar.addControl(this.calibrationToolBtn),this.buttonsList[xt.MeasurementTypes.CALIBRATION]=this.calibrationToolBtn;var a=t.createElement("div");a.className="measure-toolbar-seperator",this.measureToolbar.container.appendChild(a),this.deleteBtn=new wt.Button("toolbar-delete"),this.deleteBtn.setGlobalManager(this.globalManager),this.deleteBtn.setToolTip("Delete measurement"),this.deleteBtn.setIcon("adsk-icon-measure-trash"),this.deleteBtn.onClick=function(){e.measureExtension.deleteCurrentMeasurement()},this.measureToolbar.addControl(this.deleteBtn),this.settingsBtn=new wt.Button("toolbar-settings"),this.settingsBtn.setGlobalManager(this.globalManager),this.settingsBtn.setToolTip("Measure settings"),this.settingsBtn.setIcon("adsk-icon-measure-settings"),this.settingsControlPanel=t.createElement("div"),this.settingsControlPanel.classList.add("docking-panel"),this.settingsControlPanel.classList.add("docking-panel-container-solid-color-b"),this.settingsControlPanel.classList.add("measure-settings-popup"),this.settingsControlPanel.classList.add("hide"),this.settingsBtn.onClick=function(e){this.settingsControlPanel.classList.contains("hide")?(this.settingsControlPanel.classList.remove("hide"),this.setButtonActive(this.settingsBtn)):(this.settingsControlPanel.classList.add("hide"),this.setButtonInactive(this.settingsBtn))}.bind(this),this.measureToolbar.container.appendChild(this.settingsControlPanel),this.settingsControlPanel.root=this.settingsBtn,this.measureToolbar.addControl(this.settingsBtn),this.table=t.createElement("table"),this.table.classList.add("adsk-lmv-tftable"),this.table.classList.add("calibration-table"),this.tbody=t.createElement("tbody"),this.table.appendChild(this.tbody),this.settingsControlPanel.appendChild(this.table),this.units=[{name:"Unknown",units:"",matches:[""]},{name:"Decimal feet",units:"decimal-ft",matches:["ft","decimal-ft"]},{name:"Feet and fractional inches",units:"ft-and-fractional-in",matches:["ft-and-fractional-in"]},{name:"Feet and decimal inches",units:"ft-and-decimal-in",matches:["ft-and-decimal-in"]},{name:"Decimal inches",units:"decimal-in",matches:["in","decimal-in"]},{name:"Fractional inches",units:"fractional-in",matches:["fractional-in"]},{name:"Meters",units:"m",matches:["m"]},{name:"Centimeters",units:"cm",matches:["cm"]},{name:"Millimeters",units:"mm",matches:["mm"]},{name:"Meters and centimeters",units:"m-and-cm",matches:["m-and-cm"]},{name:"Points",units:"pt",matches:["pt"]}];var r=this.findUnits(),o=[];yt.isSafari()&&this.viewer.model&&this.viewer.model.getDisplayUnit()&&this.units.shift();for(var l=0;l<this.units.length;++l)o.push(this.units[l].name);this.unitList=new Et.OptionDropDown("Unit type",this.tbody,o,r,null,{paddingLeft:0,paddingRight:15}),this.unitList.setGlobalManager(this.globalManager),this.unitList.addEventListener("change",(function(t){var i=e.unitList.selectedIndex;e.onUnitChange(e.units[i].units,!0)})),this.precisionList=new Et.OptionDropDown("Precision",this.tbody,[],-1,null,{paddingLeft:0,paddingRight:15}),this.precisionList.setGlobalManager(this.globalManager),this.precisionList.addEventListener("change",(function(t){var i=e.precisionList.selectedIndex;e.onPrecisionChange(i,!0)})),this.isolate=new Et.OptionCheckbox("Isolate measurement",this.tbody,!1),this.isolate.setGlobalManager(this.globalManager),this.isolate.addEventListener("change",(function(t){var i=e.isolate.checked;e.measureTool.setIsolateMeasure(i),i?e.measureTool.isolateMeasurement():e.measureTool.clearIsolate(),Et.logger.track({category:"pref_changed",name:"measure/isolate",value:i})})),this.freeMeasure=new Et.OptionCheckbox("Enable free measure",this.tbody,this.measureExtension.isFreeMeasureMode()),this.freeMeasure.setGlobalManager(this.globalManager),this.freeMeasure.addEventListener("change",(function(t){var i=e.freeMeasure.checked;e.measureExtension.setFreeMeasureMode(i),Et.logger.track({category:"pref_changed",name:"measure/freeMeasure",value:i})})),this.setupPrecision(),this.updateSettingsPanel(),this.viewer.model&&this.viewer.model.is2d()&&this.isolate.setVisibility(!1),void 0===this.measureExtension.sharedMeasureConfig.units?this.disableUnitOption():Autodesk.Viewing.isSafari()||this.disableUnitOption(0),this.measureDoneBtn=new wt.Button("toolbar-measureTool-done"),this.measureDoneBtn.setGlobalManager(this.globalManager);var c=Autodesk.Viewing.i18n.translate("Done");this.measureDoneBtn.setToolTip(c);var u=t.createElement("label");u.textContent=c;var h=this.measureDoneBtn.container;h.appendChild(u),h.classList.add("adsk-label-button");var d=h.getElementsByClassName("adsk-button-icon");d&&d[0]&&(d[0].style.display="none"),this.measureDoneBtn.onClick=function(){this.measureExtension.exitMeasurementMode()}.bind(this),this.measureToolbar.addControl(this.measureDoneBtn),this.measureToolbar.setVisible(!1)},Mt.addCustomToolButton=function(e,t,i){this.measureToolbar.addControl(t,{index:i}),this.buttonsList[e]=t},Mt.removeCustomToolButton=function(e){var t=this.buttonsList[e];t&&(this.measureToolbar.removeControl(t),delete this.buttonsList[e])},Mt.destroy=function(){this.visible&&this.closeToolbar(),this.viewer.removeEventListener(xt.Events.DISPLAY_UNITS_CHANGED,this.onUnitChangeBound),this.onUnitChangeBound=null,this.viewer.removeEventListener(xt.Events.PRECISION_CHANGED,this.onPrecisionChangeBound),this.onPrecisionChangeBound=null,this.measureToolbar&&(this.measureToolbar.removeFromParent(),this.measureToolbar=null)},Mt.closeToolbar=function(){this.measureExtension.enableMeasureTool(!1),this.measureExtension.enableCalibrationTool(!1),this.toggleVisible();for(var e=this.viewer.getToolbar(),t=e.container,i=t.children.length,n=0;n<i;++n)t.children[n].style.display="";e.getControl(yt.TOOLBAR.MODELTOOLSID).addControl(this.measureExtension.measurementToolbarButton,{index:this.measureExtension.measurementToolbarButton.index})},Mt.toggleVisible=function(){this.visible=!this.visible,this.measureToolbar.setVisible(this.visible),this.visible||(this.settingsControlPanel.classList.add("hide"),this.setButtonInactive(this.settingsBtn))},Mt.setButtonActive=function(e){e.setState(wt.Button.State.ACTIVE)},Mt.setButtonInactive=function(e){e.getState()===wt.Button.State.ACTIVE&&e.setState(wt.Button.State.INACTIVE)},Mt.deactivateAllButtons=function(){for(var e in this.buttonsList)if(Object.prototype.hasOwnProperty.call(this.buttonsList,e)){var t=this.buttonsList[e];this.setButtonInactive(t)}},Mt.activateButtonByType=function(e){this.buttonsList[e]&&this.setButtonActive(this.buttonsList[e])},Mt.setupPrecision=function(){const e=this.getDocument();for(;this.precisionList.dropdownElement.lastChild;)this.precisionList.dropdownElement.removeChild(this.precisionList.dropdownElement.lastChild);var t,i=this.measureTool.getUnits();t="ft-and-fractional-in"===i||"fractional-in"===i?["1","1/2","1/4","1/8","1/16","1/32","1/64"]:["0","0.1","0.01","0.001","0.0001","0.00001"];for(var n=0;n<t.length;++n){var s=e.createElement("option");s.value=n,s.textContent=t[n],this.precisionList.dropdownElement.appendChild(s)}var a=this.measureTool.getPrecision();t.length<=a&&(a=t.length-1,this.measureTool.setPrecision(a)),this.precisionList.dropdownElement.selectedIndex=a},Mt.findUnits=function(){var e,t,i=this.measureTool.getUnits();for(e=0;e<this.units.length;++e){var n=this.units[e].matches;if(n)for(t=0;t<n.length;++t)if(n[t]===i)return e}return 0},Mt.disableUnitOption=function(e){null!=e?this.unitList.dropdownElement.children[e].style.display="none":this.unitList.dropdownElement.disabled=!0},Mt.updateSettingsPanel=function(){this.unitList.dropdownElement.selectedIndex=this.findUnits(),this.precisionList.dropdownElement.selectedIndex=this.measureTool.getPrecision(),this.setupPrecision()};var Tt=i(5072),Lt=i.n(Tt),Bt=i(7825),St=i.n(Bt),Pt=i(7659),Rt=i.n(Pt),Nt=i(5056),It=i.n(Nt),Ot=i(540),Dt=i.n(Ot),Vt=i(1113),zt=i.n(Vt),Ut=i(4660),Gt={};Gt.styleTagTransform=zt(),Gt.setAttributes=It(),Gt.insert=Rt().bind(null,"head"),Gt.domAPI=St(),Gt.insertStyleElement=Dt();Lt()(Ut.A,Gt);Ut.A&&Ut.A.locals&&Ut.A.locals;var Yt=i(2240),Ft={};Ft.styleTagTransform=zt(),Ft.setAttributes=It(),Ft.insert=Rt().bind(null,"head"),Ft.domAPI=St(),Ft.insertStyleElement=Dt();Lt()(Yt.A,Ft);Yt.A&&Yt.A.locals&&Yt.A.locals;var Ht=AutodeskNamespace("Autodesk.Viewing.Extensions.Measure"),jt=Autodesk.Viewing,Wt=Autodesk.Viewing.Private,_t=jt.UI,Qt=Autodesk.Viewing.MeasureCommon,Zt=Qt.MeasurementTypes.MEASUREMENT_DISTANCE,Jt=function(e,t){Autodesk.Viewing.Extension.call(this,e,t),this.modes=["distance","angle","area","arc","calibrate","spot"],this.name="measure",this._onModelLoaded=this._onModelLoaded.bind(this),this._onDisplayUnitsPrefChanged=this._onDisplayUnitsPrefChanged.bind(this),this._onPrecisionPrefChanged=this._onPrecisionPrefChanged.bind(this),this.autosave=!0,this.customToolButtons=[]};Jt.prototype=Object.create(Autodesk.Viewing.Extension.prototype),Jt.prototype.constructor=Jt,Jt.prototype.load=async function(){await this.viewer.loadExtension("Autodesk.Snapping");var e=this,t=this.viewer;if(this.hasUI=Autodesk.Viewing.GuiViewer3D&&t instanceof Autodesk.Viewing.GuiViewer3D,this.escapeHotkeyId="Autodesk.Measure.Hotkeys.Escape",!t.toolController)return!1;this.options=this.options||{};var i={onCloseCallback:function(){e.enableMeasureTool(!1)}};this.sharedMeasureConfig=new Proxy({units:null,precision:null,calibrationFactor:null,useViewportInfo:!1},{set(e,i,n,s){switch(e[i]=n,i){case"units":t.dispatchEvent({type:Qt.Events.DISPLAY_UNITS_CHANGED,units:n});break;case"precision":t.dispatchEvent({type:Qt.Events.PRECISION_CHANGED,precision:n});break;case"calibrationFactor":case"useViewportInfo":break;default:console.log("Unknown property",i," added to sharedMeasureConfig")}return!0}}),i.snapperOptions=this.options.snapperOptions,i.calibrateWithPage=this.options.calibrateWithPage,this.forceCalibrate=this.options.forceCalibrate,this.snapper=new Autodesk.Viewing.Extensions.Snapping.Snapper(t,{renderSnappedTopology:!0}),t.toolController.registerTool(this.snapper);const n=e=>{this.setActive(e),e||this.deactivate()};return this.measureTool=new Je(t,i,this.sharedMeasureConfig,this.snapper),t.toolController.registerTool(this.measureTool,n),this.calibrationTool=new ft(t,this.options,this.sharedMeasureConfig,this.snapper),t.toolController.registerTool(this.calibrationTool,n),this.magnifyingGlass=new Ct(t),t.toolController.registerTool(this.magnifyingGlass),this.calibration={},this.onFinishedCalibration=function(t){e.measureToolbar&&e.measureToolbar.updateSettingsPanel(),e.activateInitiator&&e.activateInitiator(),e.calibration.units=t.units,e.calibration.scaleFactor=t.scaleFactor,e.calibration.size=t.size,e.calibration.precision=e.sharedMeasureConfig.precision},t.addEventListener("finished-calibration",this.onFinishedCalibration),this.onMeasurementChanged=function(t){var i=t.data.type;e.changeMeasurementType(i)},t.addEventListener(Qt.Events.MEASUREMENT_CHANGED_EVENT,this.onMeasurementChanged),t.model?this._onModelLoaded({model:t.model}):t.addEventListener(jt.MODEL_ROOT_LOADED_EVENT,this._onModelLoaded,{once:!0}),this.onModelRemoved=function(){e.measurementToolbarButton&&(e.viewer.model||(e.measurementToolbarButton.setState(Autodesk.Viewing.UI.Button.State.DISABLED),e.exitMeasurementMode()))},this.onModelAdded=function(){e.measurementToolbarButton&&(1===e.viewer.getVisibleModels().length&&e.measurementToolbarButton&&e.measurementToolbarButton.setState(Autodesk.Viewing.UI.Button.State.INACTIVE))},t.addEventListener(jt.MODEL_ADDED_EVENT,this.onModelAdded),t.addEventListener(jt.MODEL_REMOVED_EVENT,this.onModelRemoved),this.viewer.prefs.addListeners(Wt.Prefs.DISPLAY_UNITS,this._onDisplayUnitsPrefChanged,this._onDisplayUnitsPrefChanged),this.viewer.prefs.addListeners(Wt.Prefs.DISPLAY_UNITS_PRECISION,this._onPrecisionPrefChanged,this._onPrecisionPrefChanged),this.hasNotEntered=!0,!0},Jt.prototype._onDisplayUnitsPrefChanged=function(e){var t;""!==e&&(this.setUnits(e),null===(t=this.measureToolbar)||void 0===t||t.updateSettingsPanel(),this.calibrationTool.updateCalibrationPanel())},Jt.prototype._onPrecisionPrefChanged=function(e){var t;"number"==typeof e&&(this.setPrecision(e),null===(t=this.measureToolbar)||void 0===t||t.updateSettingsPanel())},Jt.prototype._onModelLoaded=function(e){var t=e.model;const i=!!t.isPdf(!0)&&!this.viewer.prefs.get(Wt.Prefs2D.FORCE_PDF_CALIBRATION),n=!!t.isLeaflet()&&!this.viewer.prefs.get(Wt.Prefs2D.FORCE_LEAFLET_CALIBRATION);let s,a=3;if((t.isSmartPdf()||this.viewer.prefs.get(Wt.Prefs2D.USE_PDF_VIEWPORT_INFO))&&t.getData().viewports&&t.getData().viewports.length>1){const e=t.getData().viewports[1];s=Wt.fixUnitString(e.units),Number.isInteger(e.precision)&&e.precision>=0&&(a=e.precision),this.sharedMeasureConfig.useViewportInfo=!0}var r;(this.sharedMeasureConfig.units=this.options.calibrationUnits||this.viewer.prefs.get(Wt.Prefs.DISPLAY_UNITS)||s||t.getDisplayUnit(),this.sharedMeasureConfig.units)||(null===(r=this.measureToolbar)||void 0===r||r.disableUnitOption());!i&&!n||t.getMetadata("page_dimensions","model_units",null)||s||(this.sharedMeasureConfig.units="pt");const o=this.viewer.prefs.get(Wt.Prefs.DISPLAY_UNITS_PRECISION);this.sharedMeasureConfig.precision="number"==typeof o?o:t.is2d()?a:1,this.options.calibrationUnits&&!isNaN(this.options.calibrationFactor)&&this.calibrationTool.calibrateByScale(this.options.calibrationUnits,this.options.calibrationFactor)},Jt.prototype.unload=function(){var e=this.viewer;return this.destroyUI(),e.removeEventListener(Je.EXPLODE_CHANGE_EVENT,Je.onExplodedChange),e.removeEventListener("finished-calibration",this.onFinishedCalibration),e.removeEventListener(Qt.Events.MEASUREMENT_CHANGED_EVENT,this.onMeasurementChanged),e.removeEventListener(jt.MODEL_ADDED_EVENT,this.onModelAdded),e.removeEventListener(jt.MODEL_REMOVED_EVENT,this.onModelRemoved),e.removeEventListener(jt.MODEL_ROOT_LOADED_EVENT,this._onModelLoaded),e.toolController.deregisterTool(this.snapper),this.snapper=null,e.toolController.deregisterTool(this.measureTool),this.measureTool=null,e.toolController.deregisterTool(this.calibrationTool),this.calibrationTool=null,e.toolController.deregisterTool(this.magnifyingGlass),this.magnifyingGlass=null,this.unloaded=!0,e.prefs.removeListeners(Wt.Prefs.DISPLAY_UNITS,this._onDisplayUnitsPrefChanged,this._onDisplayUnitsPrefChanged),e.prefs.removeListeners(Wt.Prefs.DISPLAY_UNITS_PRECISION,this._onPrecisionPrefChanged,this._onPrecisionPrefChanged),!0},Jt.prototype.setActive=function(e){return this.enableMeasureTool(e)},Jt.prototype.toggle=function(){return this.isActive()?this.enableMeasureTool(!1):this.enableMeasureTool(!0),this.isActive()},Jt.prototype.getMeasurement=function(e,t){var i=null;return this.measureTool.isActive()&&(i=this.measureTool.getMeasurement(e,t)),i},Jt.prototype.getMeasurementList=function(e,t){var i=[];return this.measureTool.isActive()&&(i=this.measureTool.getMeasurementList(e,t)),i},Jt.prototype.setMeasurements=function(e){this.measureTool.isActive()&&this.measureTool.setMeasurements(e)},Jt.prototype.getUnitOptions=function(){return[{name:"Unknown",type:""},{name:"Decimal feet",type:"decimal-ft"},{name:"Feet and fractional inches",type:"ft"},{name:"Feet and decimal inches",type:"ft-and-decimal-in"},{name:"Decimal inches",type:"decimal-in"},{name:"Fractional inches",type:"fractional-in"},{name:"Meters",type:"m"},{name:"Centimeters",type:"cm"},{name:"Millimeters",type:"mm"},{name:"Meters and centimeters",type:"m-and-cm"},{name:"Points",type:"pt"}]},Jt.prototype.getPrecisionOptions=function(e){return e?["1","1/2","1/4","1/8","1/16","1/32","1/64"]:["0","0.1","0.01","0.001","0.0001","0.00001"]},Jt.prototype.getDefaultUnit=function(){return this.viewer.model.getDisplayUnit()},Jt.prototype.openCalibrationRequiredDialog=function(e){this.hasUI?(this.CalibrationRequiredDialog||(this.CalibrationRequiredDialog=new mt(this,this.viewer,"calibration-required","Calibration Required",this.options)),this.CalibrationRequiredDialog.setVisible(!0)):this.viewer.dispatchEvent({type:Qt.Events.CALIBRATION_REQUIRED_EVENT}),"measure"===e?this.activateInitiator=function(){this.enableMeasureTool(!0,Zt),this.activateInitiator=null}:"dimension"===e&&(this.activateInitiator=function(){this.viewer.dispatchEvent({type:Qt.Events.FINISHED_CALIBRATION_FOR_DIMENSION_EVENT}),this.activateInitiator=null})},Jt.prototype.getCalibration=function(){return this.calibration},Jt.prototype.activate=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.activeStatus&&this.mode===e)return!0;var i;switch(this.enterMeasurementMode(),e){default:e="distance";case"distance":i=this.enableMeasureTool(!0,Qt.MeasurementTypes.MEASUREMENT_DISTANCE);break;case"angle":i=this.enableMeasureTool(!0,Qt.MeasurementTypes.MEASUREMENT_ANGLE);break;case"area":this.viewer.model.is2d()?i=this.enableMeasureTool(!0,Qt.MeasurementTypes.MEASUREMENT_AREA):console.warn("Area mode is applicable on 2D models only");break;case"arc":!this.viewer.model.is2d()||this.viewer.model.isPdf()?console.warn("Arc mode is applicable on 2D models only"):i=this.enableMeasureTool(!0,Qt.MeasurementTypes.MEASUREMENT_ARC);break;case"calibrate":i=this.enableCalibrationTool(!0);break;case"custom":i=this.enableMeasureTool(!0,t);break;case"spot":i=this.enableMeasureTool(!0,Qt.MeasurementTypes.MEASUREMENT_SPOT)}return this.mode=i?e:"",this.activeStatus=!0,!0},Jt.prototype.deactivate=function(){return this.activeStatus&&(this.exitMeasurementMode(),this.enableMeasureTool(!1),this.activeStatus=!1),!0},Jt.prototype.setForcePDFCalibrate=function(e){this.viewer.prefs.set(Wt.Prefs2D.FORCE_PDF_CALIBRATION,e)},Jt.prototype.setForceLeafletCalibrate=function(e){this.viewer.prefs.set(Wt.Prefs2D.FORCE_LEAFLET_CALIBRATION,e)},Jt.prototype.setRestoreSessionMeasurements=function(e){this.viewer.prefs.set(Wt.Prefs.RESTORE_SESSION_MEASUREMENTS,e)},Jt.prototype.enableMeasureTool=function(e,t){var i;if(t===Qt.MeasurementTypes.MEASUREMENT_AREA&&this.viewer.model&&!this.viewer.model.is2d())return!1;if(t===Qt.MeasurementTypes.MEASUREMENT_ARC&&this.viewer.model&&!this.viewer.model.is2d())return!1;const n=t===Qt.MeasurementTypes.MEASUREMENT_ARC&&(null===(i=this.viewer.model)||void 0===i?void 0:i.is2d());this.snapper.setSnapToArc(n);var s=this.viewer.toolController,a=1===this.selectedTool;if(!this.viewer.model||!e&&a)return this.measureTool.isActive()&&(s.deactivateTool("measure"),this.measureToolbar&&this.measureToolbar.deactivateAllButtons(),this.selectedTool=0),!0;const r=this.viewer.impl.is2d,o=r&&this.viewer.model.isPdf(!0)&&this.viewer.prefs.get(Wt.Prefs2D.FORCE_PDF_CALIBRATION),l=r&&this.viewer.model.isLeaflet()&&this.viewer.prefs.get(Wt.Prefs2D.FORCE_LEAFLET_CALIBRATION);return this.forceCalibrate|=l||o,t||(t=Zt),e&&!a?(this.checkAndFetchTopology(s.getTool("measure")),!this.forceCalibrate||this.forceCalibrate&&this.calibrationTool.isCalibrated()||t===Qt.MeasurementTypes.MEASUREMENT_ANGLE?(this.calibrationTool.isActive()&&s.deactivateTool("calibration"),this.measureToolbar&&this.measureToolbar.updateSettingsPanel(),s.activateTool("measure"),this.selectedTool=1,this.changeMeasurementType(t),!0):(this.viewer.addEventListener(Ht.OPEN_TOOL_AFTER_CALIBRAION,function(){this.enableMeasureTool(!0)}.bind(this),{once:!0}),this.openCalibrationRequiredDialog("measure"),!1)):!(!e||!a)&&(this.mode!==t&&this.measureTool.isActive()&&!this.measureTool.isNoPicksSet()&&this.measureTool.clearIncompleteMeasurement(),!this.forceCalibrate||this.forceCalibrate&&this.calibrationTool.isCalibrated()||t===Qt.MeasurementTypes.MEASUREMENT_ANGLE?(this.changeMeasurementType(t),!0):(this.openCalibrationRequiredDialog("measure"),!1))},Jt.prototype.changeMeasurementType=function(e){switch(this.measureTool.changeMeasurementType(e),this.measureToolbar&&(this.measureToolbar.deactivateAllButtons(),this.measureToolbar.activateButtonByType(e)),e){case Qt.MeasurementTypes.MEASUREMENT_DISTANCE:this.mode="distance";break;case Qt.MeasurementTypes.MEASUREMENT_ANGLE:this.mode="angle";break;case Qt.MeasurementTypes.MEASUREMENT_AREA:this.mode="area";break;case Qt.MeasurementTypes.MEASUREMENT_ARC:this.mode="arc";break;case Qt.MeasurementTypes.MEASUREMENT_SPOT:this.mode="spot";break;default:this.mode=""}},Jt.prototype.setIsolateMeasure=function(e){this.measureTool.setIsolateMeasure(e),e?this.measureTool.isolateMeasurement():this.measureTool.clearIsolate()},Jt.prototype.enableCalibrationTool=function(e){var t=this.viewer.toolController,i=2==this.selectedTool;return e&&!i?(this.measureTool.isActive()&&t.deactivateTool("measure"),t.activateTool("calibration"),this.viewer.dispatchEvent({type:Qt.Events.UNITS_CALIBRATION_STARTS_EVENT}),this.measureToolbar&&(this.measureToolbar.deactivateAllButtons(),this.measureToolbar.activateButtonByType(Qt.MeasurementTypes.CALIBRATION)),this.selectedTool=2,!0):!(e||!i)&&(this.calibrationTool.isActive()&&(this.mode="",t.deactivateTool("calibration"),this.measureToolbar&&this.measureToolbar.deactivateAllButtons()),this.selectedTool=0,!0)},Jt.prototype.enterMeasurementMode=function(){if(!this._measurementMode&&(this._measurementMode=!0,this.viewer.dispatchEvent({type:Qt.Events.MEASUREMENT_MODE_ENTER}),this.viewer.getToolbar)){for(var e=this.viewer.getToolbar(),t=e.container,i=t.children.length,n=0;n<i;++n)t.children[n].style.display="none";this.navigationControls=e.getControl(Autodesk.Viewing.TOOLBAR.NAVTOOLSID),this.navigationControls.setVisible(!0),this.navigationControls.container.style.display="",this.measureControls=e.getControl(Autodesk.Viewing.TOOLBAR.MEASURETOOLSID),this.measureControls.setVisible(!0),this.measureControls.container.style.display="";var s=this.measurementToolbarButton.getId();this.measurementToolbarButton.index=this.measurementToolbarButton.parent.indexOf(s),this.measurementToolbarButton.parent.removeControl(s),this.measureToolbar.toggleVisible(),this.viewer.centerToolBar&&this.viewer.centerToolBar(),this.enableMeasureTool(!0,Zt),this.hasNotEntered&&(this.viewer.dispatchEvent({type:Qt.Events.MEASURE_TOOL_ACTIVE}),this.hasNotEntered=!1)}},Jt.prototype.exitMeasurementMode=function(){this._measurementMode&&(this.viewer.dispatchEvent({type:Qt.Events.MEASUREMENT_MODE_LEAVE}),this.measureToolbar&&this.measureToolbar.closeToolbar(),this.CalibrationRequiredDialog&&this.CalibrationRequiredDialog.isVisible()&&this.CalibrationRequiredDialog.setVisible(!1),this._measurementMode=!1,this.activeStatus=!1)},Jt.prototype.onToolbarCreated=function(e){if(!this.measureToolbar){var t=this,i=this.viewer,n=e.getControl(jt.TOOLBAR.MODELTOOLSID);this.measurementToolbarButton=new _t.Button("toolbar-measurementSubmenuTool"),this.measurementToolbarButton.setToolTip("Measure"),this.measurementToolbarButton.setIcon("adsk-icon-measure"),n.measurementToolbarButton=this.measurementToolbarButton,n.addControl(this.measurementToolbarButton,{index:0});var s=this.viewer.model?Autodesk.Viewing.UI.Button.State.INACTIVE:Autodesk.Viewing.UI.Button.State.DISABLED;this.measurementToolbarButton.setState(s),this.measureToolbar=new kt(this),this.measureToolbar.init(),this.customToolButtons.forEach((e=>{this.measureToolbar.addCustomToolButton(e.measurementType,e.button,e.buttonIndex)})),this.customToolButtons=[],this.measurementToolbarButton.onClick=this.activate.bind(this);var a=[{keycodes:[Autodesk.Viewing.KeyCode.ESCAPE],onRelease:function(){if(t._measurementMode)return t.exitMeasurementMode(),!0}}];i.getHotkeyManager().pushHotkeys(this.escapeHotkeyId,a)}},Jt.prototype.checkAndFetchTopology=function(e){this._checkedTopology||(this._checkedTopology=!0,this.viewer.model.is3d()?this.viewer.modelHasTopology()?e&&e.setTopologyAvailable():(e&&e.setFetchingTopology(),this.viewer.model.fetchTopology().then((function(){e&&e.setTopologyAvailable()})).catch((function(t){Wt.logger.log(t),e&&e.setNoTopology()}))):e&&e.setNoTopology())},Jt.prototype.destroyUI=function(){var e=this.viewer;this.measureToolbar&&(this.measureToolbar.destroy(),this.measureToolbar=null),this.measurementToolbarButton&&(this.measurementToolbarButton.removeFromParent(),this.measurementToolbarButton=null),e.getHotkeyManager().popHotkeys(this.escapeHotkeyId)},Jt.prototype.setUnits=function(e){this.measureTool.setUnits(e)},Jt.prototype.getUnits=function(){return this.measureTool.getUnits()},Jt.prototype.setPrecision=function(e){this.measureTool.setPrecision(e)},Jt.prototype.getPrecision=function(){return this.measureTool.getPrecision()},Jt.prototype.calibrate=function(e,t){this.calibrationTool.calibrate(e,t)},Jt.prototype.calibrateByScale=function(e,t){this.calibrationTool.calibrateByScale(e,t)},Jt.prototype.isCalibrationValid=function(e,t){return this.calibrationTool.isCalibrationValid(e,t)},Jt.prototype.getCalibrationFactor=function(){return this.calibrationTool.getCalibrationFactor()},Jt.prototype.showAddCalibrationLabel=function(){this.calibrationTool.showAddCalibrationLabel()},Jt.prototype.deleteMeasurements=function(){this.measureTool.deleteMeasurements()},Jt.prototype.deleteCurrentMeasurement=function(){this.measureTool.deleteCurrentMeasurement()},Jt.prototype.selectMeasurementById=function(e){this.measureTool.selectMeasurementById(e)},Jt.prototype.setFreeMeasureMode=function(e,t){this.snapper.setSnapToPixel(e),this.measureTool.setUseLastViewport(!!t)},Jt.prototype.isFreeMeasureMode=function(){return this.snapper.getSnapToPixel()},Jt.prototype.getState=function(e){this.measureTool.isActive()&&(e.measurements=this.getMeasurementList())},Jt.prototype.restoreState=function(e){!this.measureTool.isActive()&&e.measurements&&this.measureTool.setSessionMeasurements(e.measurements)},Jt.prototype.registerCustomTool=function(e,t,i,n){this.measureTool.registerCustomTool(e,t),this.measureToolbar?this.measureToolbar.addCustomToolButton(e,i,n):this.customToolButtons.push({measurementType:e,button:i,buttonIndex:n})},Jt.prototype.deregisterCustomTool=function(e){this.measureTool.getCurrentMeasureType()===e&&this.changeMeasurementType(Zt),this.measureTool.deregisterCustomTool(e),this.measureToolbar?this.measureToolbar.removeCustomToolButton(e):this.customToolButtons.filter((t=>t.measurementType!==e))},jt.theExtensionManager.registerExtension("Autodesk.Measure",Jt)})(),Autodesk.Extensions.Measure=n})();
//# sourceMappingURL=Measure.min.js.map