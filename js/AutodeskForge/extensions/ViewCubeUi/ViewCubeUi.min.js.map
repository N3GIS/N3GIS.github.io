{"version":3,"file":"ViewCubeUi/ViewCubeUi.min.js","mappings":"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","sources":["webpack://Autodesk.Extensions/./extensions/ViewCubeUi/ViewCubeUi.css","webpack://Autodesk.Extensions/./node_modules/css-loader/dist/runtime/api.js","webpack://Autodesk.Extensions/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://Autodesk.Extensions/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://Autodesk.Extensions/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://Autodesk.Extensions/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://Autodesk.Extensions/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://Autodesk.Extensions/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://Autodesk.Extensions/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://Autodesk.Extensions/webpack/bootstrap","webpack://Autodesk.Extensions/webpack/runtime/compat get default export","webpack://Autodesk.Extensions/webpack/runtime/define property getters","webpack://Autodesk.Extensions/webpack/runtime/hasOwnProperty shorthand","webpack://Autodesk.Extensions/webpack/runtime/make namespace object","webpack://Autodesk.Extensions/webpack/runtime/nonce","webpack://Autodesk.Extensions/external assign \"THREE\"","webpack://Autodesk.Extensions/./extensions/ViewCubeUi/ViewCubeShader.js","webpack://Autodesk.Extensions/./extensions/ViewCubeUi/ViewCube.js","webpack://Autodesk.Extensions/./extensions/ViewCubeUi/ViewCubeUi.css?0b79","webpack://Autodesk.Extensions/./extensions/ViewCubeUi/ViewCubeUi.js"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.viewcube,.viewcubeWrapper{display:block;position:absolute;outline:none;width:170px;height:170px;right:-1px;top:-1px;opacity:.7;margin:0;-webkit-transition:opacity .2s ease;-moz-transition:opacity .2s ease;-ms-transition:opacity .2s ease;-o-transition:opacity .2s ease;transition:opacity .2s ease}.viewcubeWrapper{pointer-events:none}.viewcube{pointer-events:auto}.rewindFrame{background-color:#fff;position:absolute;height:56px;width:56px;z-index:1002}.dropDownMenu{position:absolute;min-width:220px;margin:0;z-index:1001;background-color:#fff;font-family:sans-serif;font-size:14px;list-style-type:none;border:solid;border-width:1px;border-color:#979797}.dropDownMenuItem{position:relative;width:calc(100% - 24px);height:21px;padding-left:24px;padding-top:4px;background-color:#fff;cursor:pointer}.dropDownMenuCheckbox{position:relative;width:calc(100% - 4px);padding-top:4px;height:21px;margin-left:4px;background-color:#fff;cursor:pointer}.dropDownMenuCheck{padding-top:2px;cursor:pointer}.dropDownMenuCheckText{position:relative;padding-left:2px;margin:0;cursor:pointer}.dropDownMenuItemDisabled{color:#999;position:relative;width:calc(100% - 5px);height:23px;background-color:#fff;cursor:pointer}.dropDownMenuItem:hover{background-color:#e7eef6}.dropDownMenuCheckbox:hover{background-color:#e7eef6}.textBox{font-size:15px;background-color:#000;opacity:.6;padding:2px 10px;border-radius:2px;position:fixed;display:none;font-family:Monospace;color:#fff;z-index:1000}#colorCode{position:absolute;left:0px;top:0px}#text,#steeringWheel{position:absolute;left:0px;top:0px;z-index:900}.homeViewWrapper{display:block;outline:none;margin:18px 0px 0px -20px;opacity:.7;width:24px;height:24px;background-image:url(data:image/png;base64,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);cursor:pointer;pointer-events:auto}.homeViewWrapper:hover{opacity:1}.homeViewWrapper.no-viewcube{position:absolute;right:12px;top:10px;margin:0}.homeViewMenu{display:none;position:absolute;right:10px;top:28px;background-color:#fff;border:1px solid #979797;z-index:1}.homeViewMenuItem{padding:5px 20px;font-family:sans-serif;font-size:14px;cursor:pointer;z-index:2}.homeViewMenuItem:hover{background-color:#e7eef6}.homeViewWrapper .homeViewMenuHandle{display:none;position:relative;left:18px;top:18px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./extensions/ViewCubeUi/ViewCubeUi.css\"],\"names\":[],\"mappings\":\"AAAA,2BAA2B,aAAa,CAAC,iBAAiB,CAAC,YAAY,CAAC,WAAW,CAAC,YAAY,CAAC,UAAU,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,mCAAmC,CAAC,gCAAgC,CAAC,+BAA+B,CAAC,8BAA8B,CAAC,2BAA2B,CAAC,iBAAiB,mBAAmB,CAAC,UAAU,mBAAmB,CAAC,aAAa,qBAAqB,CAAC,iBAAiB,CAAC,WAAW,CAAC,UAAU,CAAC,YAAY,CAAC,cAAc,iBAAiB,CAAC,eAAe,CAAC,QAAQ,CAAC,YAAY,CAAC,qBAAqB,CAAC,sBAAsB,CAAC,cAAc,CAAC,oBAAoB,CAAC,YAAY,CAAC,gBAAgB,CAAC,oBAAoB,CAAC,kBAAkB,iBAAiB,CAAC,uBAAuB,CAAC,WAAW,CAAC,iBAAiB,CAAC,eAAe,CAAC,qBAAqB,CAAC,cAAc,CAAC,sBAAsB,iBAAiB,CAAC,sBAAsB,CAAC,eAAe,CAAC,WAAW,CAAC,eAAe,CAAC,qBAAqB,CAAC,cAAc,CAAC,mBAAmB,eAAe,CAAC,cAAc,CAAC,uBAAuB,iBAAiB,CAAC,gBAAgB,CAAC,QAAQ,CAAC,cAAc,CAAC,0BAA0B,UAAU,CAAC,iBAAiB,CAAC,sBAAsB,CAAC,WAAW,CAAC,qBAAqB,CAAC,cAAc,CAAC,wBAAwB,wBAAwB,CAAC,4BAA4B,wBAAwB,CAAC,SAAS,cAAc,CAAC,qBAAqB,CAAC,UAAU,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,cAAc,CAAC,YAAY,CAAC,qBAAqB,CAAC,UAAU,CAAC,YAAY,CAAC,WAAW,iBAAiB,CAAC,QAAQ,CAAC,OAAO,CAAC,qBAAqB,iBAAiB,CAAC,QAAQ,CAAC,OAAO,CAAC,WAAW,CAAC,iBAAiB,aAAa,CAAC,YAAY,CAAC,yBAAyB,CAAC,UAAU,CAAC,UAAU,CAAC,WAAW,CAAC,4qIAA4qI,CAAC,cAAc,CAAC,mBAAmB,CAAC,uBAAuB,SAAS,CAAC,6BAA6B,iBAAiB,CAAC,UAAU,CAAC,QAAQ,CAAC,QAAQ,CAAC,cAAc,YAAY,CAAC,iBAAiB,CAAC,UAAU,CAAC,QAAQ,CAAC,qBAAqB,CAAC,wBAAwB,CAAC,SAAS,CAAC,kBAAkB,gBAAgB,CAAC,sBAAsB,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,CAAC,wBAAwB,wBAAwB,CAAC,qCAAqC,YAAY,CAAC,iBAAiB,CAAC,SAAS,CAAC,QAAQ\",\"sourcesContent\":[\".viewcube,.viewcubeWrapper{display:block;position:absolute;outline:none;width:170px;height:170px;right:-1px;top:-1px;opacity:.7;margin:0;-webkit-transition:opacity .2s ease;-moz-transition:opacity .2s ease;-ms-transition:opacity .2s ease;-o-transition:opacity .2s ease;transition:opacity .2s ease}.viewcubeWrapper{pointer-events:none}.viewcube{pointer-events:auto}.rewindFrame{background-color:#fff;position:absolute;height:56px;width:56px;z-index:1002}.dropDownMenu{position:absolute;min-width:220px;margin:0;z-index:1001;background-color:#fff;font-family:sans-serif;font-size:14px;list-style-type:none;border:solid;border-width:1px;border-color:#979797}.dropDownMenuItem{position:relative;width:calc(100% - 24px);height:21px;padding-left:24px;padding-top:4px;background-color:#fff;cursor:pointer}.dropDownMenuCheckbox{position:relative;width:calc(100% - 4px);padding-top:4px;height:21px;margin-left:4px;background-color:#fff;cursor:pointer}.dropDownMenuCheck{padding-top:2px;cursor:pointer}.dropDownMenuCheckText{position:relative;padding-left:2px;margin:0;cursor:pointer}.dropDownMenuItemDisabled{color:#999;position:relative;width:calc(100% - 5px);height:23px;background-color:#fff;cursor:pointer}.dropDownMenuItem:hover{background-color:#e7eef6}.dropDownMenuCheckbox:hover{background-color:#e7eef6}.textBox{font-size:15px;background-color:#000;opacity:.6;padding:2px 10px;border-radius:2px;position:fixed;display:none;font-family:Monospace;color:#fff;z-index:1000}#colorCode{position:absolute;left:0px;top:0px}#text,#steeringWheel{position:absolute;left:0px;top:0px;z-index:900}.homeViewWrapper{display:block;outline:none;margin:18px 0px 0px -20px;opacity:.7;width:24px;height:24px;background-image:url(data:image/png;base64,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);cursor:pointer;pointer-events:auto}.homeViewWrapper:hover{opacity:1}.homeViewWrapper.no-viewcube{position:absolute;right:12px;top:10px;margin:0}.homeViewMenu{display:none;position:absolute;right:10px;top:28px;background-color:#fff;border:1px solid #979797;z-index:1}.homeViewMenuItem{padding:5px 20px;font-family:sans-serif;font-size:14px;cursor:pointer;z-index:2}.homeViewMenuItem:hover{background-color:#e7eef6}.homeViewWrapper .homeViewMenuHandle{display:none;position:relative;left:18px;top:18px}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nc = undefined;","const __WEBPACK_NAMESPACE_OBJECT__ = THREE;","import * as THREE from \"three\";\nexport let ViewCubeShader = {\n\n  uniforms: { \"tCube\": { type: \"t\", value: null },\n        \"tFlip\": { type: \"f\", value: - 1 } },\n\n  vertexShader: [\n\n    \"varying vec3 vWorldPosition;\",\n\n    THREE.ShaderChunk[ \"common\" ],\n    THREE.ShaderChunk[ \"logdepthbuf_pars_vertex\" ],\n\n    \"void main() {\",\n\n    \"    vWorldPosition = transformDirection( position, modelMatrix );\",\n\n    \"    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n\n      THREE.ShaderChunk[ \"logdepthbuf_vertex\" ],\n\n    \"}\"\n\n  ].join(\"\\n\"),\n\n  fragmentShader: [\n\n    \"uniform samplerCube tCube;\",\n    \"uniform float tFlip;\",\n\n    \"varying vec3 vWorldPosition;\",\n\n    THREE.ShaderChunk[ \"common\" ],\n    THREE.ShaderChunk[ \"logdepthbuf_pars_fragment\" ],\n\n    \"void main() {\",\n\n    \"    gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\",\n\n      THREE.ShaderChunk[ \"logdepthbuf_fragment\" ],\n\n    \"}\"\n\n  ].join(\"\\n\")\n\n};\n","import * as THREE from \"three\";\nimport { ViewCubeShader } from './ViewCubeShader';\nconst av = Autodesk.Viewing;\nconst avp = av.Private;\n\nconst DDSLoader = avp.DDSLoader;\nconst { createShaderMaterial } = avp.ShaderUtils;\nconst WebGLRenderer = avp.WebGLRenderer;\nconst logger = avp.logger;\nconst isMobileDevice = av.isMobileDevice;\nconst { errorCodeString, ErrorCodes } = av;\nconst endpoint = av.endpoint;\nconst getGlobal = av.getGlobal;\nconst GlobalManagerMixin = av.GlobalManagerMixin;\nconst EPSILON = 0.00001;\nconst MeshBasicMaterial = THREE.MeshBasicMaterial;\n\n/**\n * Checks if a number is 1 (or really, really close to 1). Things like 0.9999999999999 still count. This is needed\n * because THREE.Vector3.normalize doesn't always create a vector with length exactly 1, sometimes it just gets close.\n * For example:\n * var t = new THREE.Vector3(0, 0, -0.6873695734180347);\n * t.normalize();\n * t.z; // -0.9999999999999999\n *\n * @param {Number} a - Number to check\n * @return {boolean} - True if the given number is within 1e-12 of 1\n */\nvar equalsOne = function(a) {\n  return Math.abs(a - 1) < 1e-12;\n};\n\n/**\n * Check if a vector is aligned with an axis and has a length of 1\n *\n * @param {Vector3} vec3 - The vector to check\n * @return {boolean} - True if the vector is aligned to an axis and has length 1\n */\nvar isAxisAlignedUnit = function(vec3) {\n  return !(\n    !equalsOne(vec3.length()) ||\n    (!equalsOne(Math.abs(vec3.x)) && !equalsOne(Math.abs(vec3.y)) && !equalsOne(Math.abs(vec3.z)))\n  );\n};\n\nconst COLOR_ARROW = 0xB7B9BC;\n\n// A Triad representing the model's coordinates\nfunction Triad(triadLength) {\n  var offSet = triadLength / 2;\n  var triadThickness = 10;\n  var spriteSize = 50;\n  var triadColors = {\n    x: 0xff0000,\n    y: 0x00ff00,\n    z: 0x0000ff\n  };\n  var tempMatrix = new THREE.Matrix4(); // A matrix for temporary calculations\n  var sprites = []; // For tracking things that need to always face the camera\n\n  var spriteGeometry = new THREE.PlaneBufferGeometry(spriteSize, spriteSize);\n  var getTextSprite = function(text, color) {\n    var _document = av.getGlobal().document;\n    var textCanvas = _document.createElement('canvas');\n    textCanvas.width = textCanvas.height = 128;\n    var ctx2d = textCanvas.getContext('2d');\n    ctx2d.font = '128px Arial';\n    ctx2d.fillStyle = \"rgba(255,255,255,1)\";\n    ctx2d.textAlign = 'center';\n    ctx2d.textBaseline = 'middle';\n    ctx2d.fillText(text, textCanvas.width / 2, textCanvas.height / 2);\n\n    var textTexture = new THREE.Texture(textCanvas);\n    textTexture.needsUpdate = true;\n\n    return new THREE.Mesh(\n      spriteGeometry,\n      new MeshBasicMaterial({\n        map: textTexture,\n        side: THREE.DoubleSide,\n        transparent: true,\n        color: color,\n        depthWrite: false,\n        depthTest: true\n      })\n    );\n  };\n\n  this.triadScene = new THREE.Scene();\n  this.triadLabelScene = new THREE.Scene();\n\n  // Add the axes.\n  var triadGeom = new THREE.BoxGeometry(triadLength, triadThickness, triadThickness);\n  var xAxis = new THREE.Mesh(triadGeom, new MeshBasicMaterial(\n    {color: triadColors.x}));\n  var yAxis = new THREE.Mesh(triadGeom, new MeshBasicMaterial(\n    {color: triadColors.y}));\n  var zAxis = new THREE.Mesh(triadGeom, new MeshBasicMaterial(\n    {color: triadColors.z}));\n\n  xAxis.applyMatrix4(tempMatrix.makeTranslation(triadThickness / 2, -offSet, -offSet));\n  yAxis.applyMatrix4(tempMatrix.makeRotationZ(Math.PI / 2));\n  yAxis.applyMatrix4(tempMatrix.makeTranslation(-offSet, triadThickness / 2, -offSet));\n  zAxis.applyMatrix4(tempMatrix.makeRotationY(Math.PI / 2));\n  zAxis.applyMatrix4(tempMatrix.makeTranslation(-offSet, -offSet, triadThickness / 2));\n\n  this.triadScene.add(xAxis);\n  this.triadScene.add(yAxis);\n  this.triadScene.add(zAxis);\n\n  // Add text\n  var xSprite = getTextSprite('X', triadColors.x);\n  var ySprite = getTextSprite('Y', triadColors.y);\n  var zSprite = getTextSprite('Z', triadColors.z);\n\n  // Rotate the text to match the up direction. Only rotate the positions, otherwise orienting them to face the\n  // camera becomes more complicated\n  var positionLabels = function(quaternion) {\n    var spriteSecondaryAxisOffSet = -(spriteSize + offSet) / 2 - 20;\n    var spriteMainAxisOffset = offSet + spriteSize;\n    xSprite.position.set(spriteMainAxisOffset, spriteSecondaryAxisOffSet, spriteSecondaryAxisOffSet);\n    ySprite.position.set(spriteSecondaryAxisOffSet, spriteMainAxisOffset, spriteSecondaryAxisOffSet);\n    zSprite.position.set(spriteSecondaryAxisOffSet, spriteSecondaryAxisOffSet, spriteMainAxisOffset);\n\n    if (quaternion) {\n      xSprite.position.applyQuaternion(quaternion);\n      ySprite.position.applyQuaternion(quaternion);\n      zSprite.position.applyQuaternion(quaternion);\n    }\n  };\n  positionLabels();\n\n  // Add them to the list of sprites to keep them oriented correctly\n  sprites.push(xSprite);\n  sprites.push(ySprite);\n  sprites.push(zSprite);\n\n  this.triadLabelScene.add(xSprite);\n  this.triadLabelScene.add(ySprite);\n  this.triadLabelScene.add(zSprite);\n\n  /**\n   * Reorients the triad so that the model coordinates are represented correctly. If the resulting orientation of the\n   * triad will not be aligned with X/Y/Z, nothing happens.\n   *\n   * @param {Vector3} sceneUp - The scene up. Expected to be a unit vector.\n   * @param {Vector3} sceneFront - The scene front. Expected to be a unit vector.\n   */\n  this.orient = function(sceneUp, sceneFront) {\n    if (!isAxisAlignedUnit(sceneUp) || !isAxisAlignedUnit(sceneFront)) {\n      return;\n    }\n\n    // Only reorient if something changed\n    if (this.up && this.front && sceneUp.equals(this.up) && sceneFront.equals(this.front)) {\n      return;\n    }\n\n    this.up = sceneUp.clone();\n    this.front = sceneFront.clone();\n\n    // The triad starts with Y up with each line pointing towards the positive direction of its axis.\n    // Orienting the triad to align with scene up and world front is done in 2 steps\n    // 1. Get the correct axis aligned with vertical (rotate about [1, 1, 1]) and keep it in line with the viewcube\n    // 2. Rotate about scene up to align the correct axis and direction with world front\n    // 3. Rotate about world front to get the correct direction for scene up\n\n    // Align scene up\n    // secondaryAxis and tertiaryAxis are used to work out which axes to check for aligning the front, simplifying\n    // the if statements a bit\n    var upAxis, secondaryAxis, tertiaryAxis, alignmentAngle = 0, frontAngle = 0, upAngle = 0;\n    if (sceneUp.x) {\n      upAxis = 'x';\n      secondaryAxis = 'y';\n      tertiaryAxis = 'z';\n      alignmentAngle = 2 * Math.PI / 3;\n    } else if (sceneUp.y) {\n      upAxis = 'y';\n      secondaryAxis = 'z';\n      tertiaryAxis = 'x';\n    } else if (sceneUp.z) {\n      upAxis = 'z';\n      secondaryAxis = 'x';\n      tertiaryAxis = 'y';\n      alignmentAngle = -2 * Math.PI / 3;\n    }\n\n    // Align front\n    if (equalsOne(-sceneFront[secondaryAxis])) {\n      // The 'secondaryAxis' is already parallel to the front so we need to decide we need a half rotation\n      frontAngle = Math.PI;\n    } else if (sceneFront[tertiaryAxis]) {\n      // The 'tertiaryAxis' is orthogonal to the front so we need a quarter rotation but have to decide which way\n      // to rotate. Direction is dependent on whether we need front to be + or - as well as whether sceneUp is + or -\n      // since that's the axis we'll be rotating around\n      frontAngle = -sceneFront[tertiaryAxis] * sceneUp[upAxis] * Math.PI / 2;\n    }\n\n    // Correct up direction\n    upAngle = equalsOne(-sceneUp[upAxis]) ? Math.PI : 0;\n\n    var tempQuaternion = new THREE.Quaternion();\n    var rotationQuaternion = new THREE.Quaternion();\n\n    // Step 1\n    var rotationAxis = new THREE.Vector3(1, 1, 1);\n    rotationAxis.normalize();\n    rotationQuaternion.setFromAxisAngle(rotationAxis, alignmentAngle);\n\n    // Step 2\n    tempQuaternion.setFromAxisAngle(sceneUp, frontAngle);\n    rotationQuaternion.multiply(tempQuaternion);\n\n    // Step 3\n    tempQuaternion.setFromAxisAngle(sceneFront, upAngle);\n    rotationQuaternion.multiply(tempQuaternion);\n\n    positionLabels(rotationQuaternion);\n    this.triadScene.setRotationFromQuaternion(rotationQuaternion);\n  };\n\n  this.getSprites = function() { return sprites; };\n}\n\n/* All coordinates in three.js are right handed\n * when looking at the Front of the Cube in the regular upright position: */\n/**\n * This is the view cube class subset of Autocam\n * this class renders and provides all functionality for the view cube\n * @class\n * @param {string} tagId - html tag id where you want the view cube to render - OBSOLETE\n * @param {Object} autocam - the autocam controller object\n * @param {HTMLDivElement} cubeContainer - the HTML element to contain the view cube\n * @param {string} localizeResourcePath - relative path to localized texture images\n * @param {Object} [options] - the optional options\n * @param {string} [options.showTriad] - whether to show the triad. 'up' is given by autocam's world up\n * */\nexport function ViewCube(tagId, autocam, cubeContainer, localizeResourcePath, options) {\n\n    var self = this;\n    GlobalManagerMixin.call(this);\n\n    var cam = autocam;\n    var camera = autocam.camera;\n    autocam.setCube(this);\n\n    const viewDir = cam.center.clone().sub(camera.position).normalize();\n    const sceneRight  = cam.sceneFrontDirection.clone().cross(cam.sceneUpDirection);\n    const dotUp    = viewDir.dot(cam.sceneUpDirection);\n    const dotFront = viewDir.dot(cam.sceneFrontDirection);\n    const dotRight = viewDir.dot(sceneRight);\n\n    if ((1 - Math.abs(dotUp)) < EPSILON) {\n        self.currentFace = dotUp > 0 ? \"bottom\" : \"top\";\n    } else if ((1 - Math.abs(dotFront)) < EPSILON) {\n        self.currentFace = dotFront > 0 ? \"front\" : \"back\";\n    } else if (1 - Math.abs(Math.abs(dotRight)) < EPSILON) {\n        self.currentFace = dotRight > 0 ? \"left\" : \"right\";\n    } else {\n        self.currentFace = \"front\";\n    }\n\n    self.showTriad = options && options.showTriad;\n    self.localizeResourcePath = localizeResourcePath;\n\n    var edgeNames = [\"top,front\",\"top right\", \"top,left\", \"top,back\", \"bottom,front\", \"bottom,right\", \"bottom,left\", \"bottom,back\", \"left,front\", \"front,right\", \"right,back\", \"back,left\"];\n    var cornerNames = [\"front,top,right\",\"back,top,right\",\"front,top,left\",\"back,top,left\",\"front,bottom,right\",\"back,bottom,right\",\"front,bottom,left\",\"back,bottom,left\"];\n\n   /**\n     *  A string array which contains the options for the view cube menu. Use null to indicate a section separator\n     * @type {Array}\n     */\n    var menuOptionList = [\n        \"Go Home\",                          // localized by call to drawDropdownMenu\n        null,\n        \"Orthographic\",                     // localized by call to drawDropdownMenu\n        \"Perspective\",                      // localized by call to drawDropdownMenu\n        \"Perspective with Ortho Faces\",     // localized by call to drawDropdownMenu\n        null,\n        \"Set current view as Home\",         // localized by call to drawDropdownMenu\n        \"Focus and set as Home\",            // localized by call to drawDropdownMenu\n        \"Reset Home\",                       // localized by call to drawDropdownMenu\n        null,\n        \"Set current view as Front\",        // localized by call to drawDropdownMenu\n        \"Set current view as Top\",          // localized by call to drawDropdownMenu\n        \"Reset orientation\"                 // localized by call to drawDropdownMenu\n        /*\n        null,\n        \"Properties...\",\n        null,\n        \"Help...\"\n        */\n    ];\n    var menuEnableList = [\n        true,\n        null,\n        true,\n        true,\n        true,\n        null,\n        true,\n        true,\n        true,\n        null,\n        true,\n        true,\n        true\n        /*\n        null,\n        \"Properties...\",\n        null,\n        \"Help...\"\n        */\n    ];\n    var menuStateCallbackList = [\n        null,\n        null,\n        function() { return !cam.orthographicFaces && !camera.isPerspective; },\n        function() { return !cam.orthographicFaces &&  camera.isPerspective; },\n        function() { return cam.orthographicFaces; },\n        null,\n        null,\n        null,\n        null,\n        null,\n        null,\n        null,\n        null\n        /*\n        null,\n        \"Properties...\",\n        null,\n        \"Help...\"\n        */\n    ];\n\n    // THREE.js Scenes\n    var shadowScene, cubeScene, gridScene, lineScene, triad, controlScene, compassScene;\n\n    // An array of objects that need to always face the camera\n    var sprites = [];\n\n    var controlCamera;\n    // self.camera = new THREE.PerspectiveCamera( camera.fov, window.innerWidth / window.innerHeight, 1, 10000 );\n    // make two cameras to flip between, depending if perspective or orthographic view is used.\n    // TODO: scale keeps the size of the view cube the same; 45 fov used to be the default FOV. Problem with this\n    // idea is that you also then need to adjust the position (and not below - setting it there does nothing) and this\n    // will change the look of the perspective cube.\n    self.pcam = new THREE.PerspectiveCamera( 45, 1.0, 1, 2000 ); // aspect gets truly set during Init()\n    self.ocam = new THREE.OrthographicCamera(-265,265, 265,-265, -1000, 1000);\n    self.ocam.fov = self.pcam.fov;\n    self.ocam.aspect = self.pcam.aspect;\n    self.camera = camera.isPerspective ? self.pcam : self.ocam;\n    self.camera.position.copy(camera.position);\n    self.center = new THREE.Vector3(0,0,0);\n    self.camera.lookAt(self.center);\n    // var length = camera.position.length();\n\n    // THREE.js Meshes\n    var cube, line, home, shadow, context;\n    var gridMeshes = [];\n    var arrowGroup;\n\n    // Sizes for Three.js renderers\n    //var windowHalfX;\n    //var windowHalfY;\n\n    // Buffers and past INTERSECTS used for mouse picking\n    var arrowBuffer = [];\n    var intersectsFace = [];\n    var controlBuffer = [];\n    var cubeBuffer = [];\n    var INTERSECTED = null;\n    var INTERSECTED_F = null;\n    var INTERSECTED_C = null;\n    var rollLeftOffset, rollRightOffset, rollOffset;\n    var homeOffset, menuOffset;\n\n    // Size of cube in relation to HTML tag\n    var cubeSize = 0;\n\n    // Position of HTML element\n    var position;\n\n    // Used to wait for textures to load before rendering the View Cube\n    var loadedTextureCount = 0;\n\n    // Flags\n    // Whether arrows (orthogonal and roll) are visible (i.e., you're directly facing a cube face).\n    var _orthogonalView = true;\n    var _havePointerLockFeature = false;\n    var _havePointerLock = false;\n    var _pointerLockMoveBugSPK865 = false;\n    var _isChrome = (navigator.userAgent.search(\"Chrome\") != -1);\n    var _isWindows = (navigator.platform.search(\"Win32\") != -1);\n    var _dragged = false;\n    var _transparent = false;\n\n    // Callback for menu selected item\n    var _onViewTypeChangedCb = null;\n\n    // store all loaded textures here so we are not constantly re-downloading them\n    var changingTextures = [];\n\n    // Height and Width of the renderer\n    // may be referred to as self.width and self.height\n    this.width = 0;\n    this.height = 0;\n\n    // Public changeable values\n    /**\n     * view cube animation speed (not 0 or negative),\n     * specified in time (milliseconds) to complete an animation\n     * @type {Number}\n     */\n    this.animSpeed = 500;\n    /**\n     * turn on and off animation\n     * @type {Boolean}\n     */\n    this.animate = true;\n    /**\n     * turn on and off ability to drag the view cube\n     * @type {Boolean}\n     */\n\n    this.compass = false;\n    this.viewScaleFactorCompass = 1.5;\n    this.viewScale = 1; // Set in Init based on cubeSize\n\n    this.draggable = true;\n\n    /**\n     * turn on and off the availability of the home button;\n     * note, this is a \"second\", smaller home button, you probably\n     * do not want it.\n     * @type {Boolean}\n     */\n    this.wantHomeButton = false;\n\n    /**\n     * turn on and off the availability of the roll arrows\n     * @type {Boolean}\n     */\n    this.wantRollArrows = true;\n\n    /**\n     * turn on and off the availability of the menu icon\n     * @type {Boolean}\n     */\n    this.wantContextMenu = true;\n\n    /**\n     * opacity when inactive (transparency must be enabled)\n     * @type {Number}\n     */\n    this.inactiveOpacity = 0.5;\n\n    /** Function to get position of html element on screen\n     *\n     * @param element - HTML DOM element to find position of\n     * @return {Object} - object which specifies x and y screen coordinates of location of input element\n     */\n    var getPosition = function (element) {\n        var rect = element.getBoundingClientRect();\n        return { x: rect.left, y: rect.top, w: rect.width, h: rect.height };\n    };\n\n    /** Used by pointer lock API\n     *\n     * @param {Object} e - event object\n     */\n    var pointerLockChange = function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        var _document = self.getDocument();\n        _havePointerLock = (_document.pointerLockElement === cubeContainer ||\n                            _document.mozPointerLockElement === cubeContainer ||\n                            _document.webkitPointerLockElement === cubeContainer);\n    };\n\n    var setControlsPositions = function() {\n        const rollArrowMargin = 30;\n        if (self.renderCompass) {\n            self.rollMesh.position.set(cubeSize + rollArrowMargin, cubeSize + rollArrowMargin, 0);\n            self.rollLeftMesh.position.set(cubeSize + rollArrowMargin, 1.5 * cubeSize, 0.1);\n            self.rollRightMesh.position.set(1.5 * cubeSize, cubeSize + rollArrowMargin, 0.1);\n            self.contextMesh.position.set(1.6 * cubeSize, - 1.6 * cubeSize, 0);\n        } else {\n            self.rollMesh.position.set(cubeSize * 0.5 + 20, cubeSize * 0.5 + 20, 0);\n            self.rollLeftMesh.position.set(cubeSize * 0.5 + 20, cubeSize + 20, 0.1);\n            self.rollRightMesh.position.set(cubeSize + 20, cubeSize * 0.5 + 20, 0.1);\n            self.contextMesh.position.set(cubeSize, -cubeSize, 0);\n        }\n    };\n\n    /** Create ViewCube and set up renderer and camera\n     * sets up all Three.js meshes for the View Cube\n     * and initializes all event handlers such as mousemove\n     * and mousedown and mouseup and pointerlock\n     */\n    var Init = function () {\n        var bounds = cubeContainer.getBoundingClientRect();\n        self.width  = bounds.width;\n        self.height = bounds.height;\n\n        position = getPosition(cubeContainer);\n\n        //camera for home and arrow\n        controlCamera = new THREE.PerspectiveCamera(70, self.height / self.width, 1, 10000);\n        controlCamera.position.set(0, 0, 500);\n\n        shadowScene = new THREE.Scene();\n        cubeScene = new THREE.Scene();\n        gridScene = new THREE.Scene();\n        lineScene = new THREE.Scene();\n        controlScene = new THREE.Scene();\n        _orthogonalView = true;\n\n        // This size means that the cube is (cubeSize)x(cubeSize)x(cubeSize) big\n        cubeSize = 160;\n        // This adjusts the camera position in perspective view. Has no effect on orthographic cams\n        self.viewScale = cubeSize * 4;\n\n        /******************************************Create the View Cube***********************************************/\n\n        // Load in the faceMap textures for 6 faces\n        var material = self.refreshTexture();\n\n        var filteringType = THREE.LinearFilter;\n        var getResourceUrl = Autodesk.Viewing.Private.getResourceUrl;\n        var resRoot = 'res/textures/';\n\n        var cubeGeometry = new THREE.BoxGeometry(cubeSize, cubeSize, cubeSize, 4, 4, 4);\n        var cubeLine = new THREE.BoxGeometry(cubeSize+1 , cubeSize+1 , cubeSize+1, 4, 4, 4);\n\n        // Create a cube object mesh with specified geometry and faceMap materials\n        cube = new THREE.Mesh(cubeGeometry, material);\n        cube.position.set(0.0, 0, 0);\n        cubeScene.add(cube);\n\n        // Set up a line segment for the cube border\n        var borderTexture = loadTexture(getResourceUrl(resRoot + 'VCedge1.png'));\n\n        borderTexture.minFilter = borderTexture.maxFilter = filteringType;\n\n        line = new THREE.Mesh(cubeLine, new MeshBasicMaterial({ map: borderTexture, transparent: true}));\n        line.position.set(0.0, 0, 0);\n        lineScene.add(line);\n\n        // Set up the triad\n        triad = new Triad(cubeSize + 20);\n        Array.prototype.push.apply(sprites, triad.getSprites());\n\n        /********************************************Set up the controls**********************************************/\n\n        // Orthogonal Arrows\n\n        var arrowDist = cubeSize + 5;\n\n        var arrowGeo = new THREE.BufferGeometry();\n\n        const vertices = new Float32Array([\n            -30, 0, 0,\n            30, 0, 0,\n            0, -30, 0\n        ]);\n        arrowGeo.setAttribute( 'position', new THREE.BufferAttribute( vertices, 3 ) );\n\n\n        const indices = [1, 0, 2];\n        arrowGeo.index = new THREE.BufferAttribute( new Uint16Array( indices ), 1 );\n\n        // Arrows are rendered flat over other mesh, so it's depthTest and depthWrite can be turned off\n        var arrowMaterial1 = new MeshBasicMaterial({ color: COLOR_ARROW,\n            depthTest: false, depthWrite: false, transparent: false, opacity: 1});\n        var arrowMaterial2 = new MeshBasicMaterial({ color: COLOR_ARROW,\n            depthTest: false, depthWrite: false, transparent: false, opacity: 1});\n        var arrowMaterial3 = new MeshBasicMaterial({ color: COLOR_ARROW,\n            depthTest: false, depthWrite: false, transparent: false, opacity: 1});\n        var arrowMaterial4 = new MeshBasicMaterial({ color: COLOR_ARROW,\n            depthTest: false, depthWrite: false, transparent: false, opacity: 1});\n\n        var arrowSelection = new THREE.PlaneBufferGeometry(cubeSize * 0.5, cubeSize * 0.3, 2, 2);\n        var arrowSelectionMat = new MeshBasicMaterial({transparent: true, opacity: 0.0});\n\n        var upArrow = new THREE.Mesh(arrowGeo, arrowMaterial1);\n        var upArrowSelect = new THREE.Mesh(arrowSelection, arrowSelectionMat);\n        upArrow.position.set(0, arrowDist, 0.0);\n        upArrowSelect.position.set(0, arrowDist * 0.9, 0.1);\n\n        var downArrow = new THREE.Mesh(arrowGeo, arrowMaterial2);\n        var downArrowSelect = new THREE.Mesh(arrowSelection, arrowSelectionMat);\n        downArrow.position.set(0, -arrowDist, 0.0);\n        downArrowSelect.position.set(0, -arrowDist * 0.9, 0.1);\n        downArrow.rotation.z += Math.PI;\n        downArrowSelect.rotation.z += Math.PI;\n\n        var rightArrow = new THREE.Mesh(arrowGeo, arrowMaterial3);\n        var rightArrowSelect = new THREE.Mesh(arrowSelection, arrowSelectionMat);\n        rightArrow.position.set(arrowDist, 0, 0.0);\n        rightArrowSelect.position.set(arrowDist * 0.9, 0, 0.1);\n        rightArrow.rotation.z -= Math.PI / 2;\n        rightArrowSelect.rotation.z -= Math.PI / 2;\n\n        var leftArrow = new THREE.Mesh(arrowGeo, arrowMaterial4);\n        var leftArrowSelect = new THREE.Mesh(arrowSelection, arrowSelectionMat);\n        leftArrow.position.set(-arrowDist, 0, 0.0);\n        leftArrowSelect.position.set(-arrowDist * 0.9, 0, 0.1);\n        leftArrow.rotation.z += Math.PI / 2;\n        leftArrowSelect.rotation.z += Math.PI / 2;\n\n        arrowGroup = new THREE.Object3D();\n        arrowGroup.position.set(0, 0, 0);\n        arrowGroup.add(upArrow);\n        arrowGroup.add(downArrow);\n        arrowGroup.add(rightArrow);\n        arrowGroup.add(leftArrow);\n\n        controlScene.add(upArrowSelect);\n        controlScene.add(downArrowSelect);\n        controlScene.add(rightArrowSelect);\n        controlScene.add(leftArrowSelect);\n        controlScene.add(arrowGroup);\n\n        arrowBuffer.push(upArrowSelect);\n        arrowBuffer.push(downArrowSelect);\n        arrowBuffer.push(rightArrowSelect);\n        arrowBuffer.push(leftArrowSelect);\n\n        // Home icon\n        var homeGeo = new THREE.PlaneBufferGeometry(cubeSize / 3, cubeSize / 3, 2, 2);\n        var homeMaterial = new MeshBasicMaterial({ map: loadTexture(getResourceUrl(resRoot + 'VChome.png')),\n            transparent: true});\n        home = new THREE.Mesh(homeGeo, homeMaterial);\n        home.position.set(-cubeSize, cubeSize, 0);\n\n        homeOffset = controlBuffer.length;\n        controlScene.add(home);\n        controlBuffer.push(home);\n\n        // Arrows for rolling\n        var rollArrows = new THREE.PlaneBufferGeometry(cubeSize * 1.5, cubeSize * 1.5, 2, 2);\n        var rollMaterial = new MeshBasicMaterial({\n            map: loadTexture(getResourceUrl(resRoot + 'VCarrows.png')),\n            depthTest: false,\n            depthWrite: false,\n            transparent: true\n        });\n        var roll = new THREE.Mesh(rollArrows, rollMaterial);\n        self.rollMesh = roll;\n\n        var rollSelectionLeft = new THREE.PlaneBufferGeometry(cubeSize * 0.6, cubeSize * 0.45, 2, 2);\n        var rollSelectionLeftMat = new MeshBasicMaterial({transparent: true, opacity: 0.0});\n        var rollLeft = new THREE.Mesh(rollSelectionLeft, rollSelectionLeftMat);\n        self.rollLeftMesh = rollLeft;\n\n        var rollSelectionRight = new THREE.PlaneBufferGeometry(cubeSize * 0.45, cubeSize * 0.6, 2, 2);\n        var rollSelectionRightMat = new MeshBasicMaterial({transparent: true, opacity: 0.0});\n        var rollRight = new THREE.Mesh(rollSelectionRight, rollSelectionRightMat);\n        self.rollRightMesh = rollRight;\n\n        controlScene.add(roll);\n        controlScene.add(rollLeft);\n        controlScene.add(rollRight);\n\n        rollLeftOffset = controlBuffer.length;\n        controlBuffer.push(rollLeft);\n        rollRightOffset = controlBuffer.length;\n        controlBuffer.push(rollRight);\n        rollOffset = controlBuffer.length;\n        controlBuffer.push(roll);\n\n        //Menu Icon\n        var contextGeo = new THREE.PlaneBufferGeometry(cubeSize / 2.3, cubeSize / 2.3, 2, 2);\n        var contextMaterial = new MeshBasicMaterial({\n            map: loadTexture(getResourceUrl(resRoot + 'VCcontext.png')),\n            transparent: true,\n            depthTest: false,\n            depthWrite: false\n        });\n        context = new THREE.Mesh(contextGeo, contextMaterial);\n        self.contextMesh = context;\n\n        menuOffset = controlBuffer.length;\n        controlScene.add(context);\n        controlBuffer.push(context);\n\n        // Move the controls to right positions\n        setControlsPositions();\n\n        // Cube Shadow (Plane)\n\n        var shadowGeo = new THREE.BufferGeometry();\n        const shadowToCubeDist = Math.floor(cubeSize * 0.20 / 2) || 20;\n\n        let vertices2 = new Float32Array(\n            [\n            0, 0, 0,\n            -cubeSize / 2, -cubeSize / 2 - shadowToCubeDist, -cubeSize / 2,\n            cubeSize / 2, -cubeSize / 2 - shadowToCubeDist, -cubeSize / 2,\n            cubeSize / 2, -cubeSize / 2 - shadowToCubeDist, cubeSize / 2,\n            -cubeSize / 2, -cubeSize / 2 - shadowToCubeDist, cubeSize / 2]);\n        shadowGeo.setAttribute( 'position', new THREE.BufferAttribute( vertices2, 3 ) );\n\n\n        const indices1 = [\n            4, 3, 2,\n            4, 2, 1\n        ];\n\n        shadowGeo.index = new THREE.BufferAttribute( new Uint16Array( indices1 ), 1 );\n\n        var shadowMat;\n\n        shadowMat = new MeshBasicMaterial({color:0x000000, transparent:true, opacity: 0.5});\n\n        shadow = new THREE.Mesh(shadowGeo, shadowMat);\n        shadowScene.add(shadow);\n\n        createCubeGrid();\n\n        if (cam.renderer.toUpperCase() === 'CANVAS'){\n            self.renderer = new THREE.CanvasRenderer();\n\n        }else if (cam.renderer.toUpperCase() === 'WEBGL'){\n            self.renderer = new WebGLRenderer({ alpha: true, antialias: false });\n            // Simplify debugging\n            self.renderer.name = 'ViewCubeRenderer';\n        }else {\n            logger.warn(\"Incorrect use of Autocam.renderer property\");\n            self.renderer = new THREE.CanvasRenderer();\n        }\n\n        self.useTransparency(true);\n        self.setSize(self.width,self.height);\n\n        self.camera.topFov = self.camera.bottomFov = self.camera.fov/2;\n        self.camera.leftFov = self.camera.rightFov = (self.camera.aspect * self.camera.fov)/2;\n        // need to copy to camera templates - half of these statements do nothing, since the camera points at pcam or ocam, but simpler than an if statement.\n        self.pcam.topFov = self.ocam.topFov = self.camera.topFov;\n        self.pcam.bottomFov = self.ocam.bottomFov = self.camera.bottomFov;\n        self.pcam.leftFov = self.ocam.leftFov = self.camera.leftFov;\n        self.pcam.rightFov = self.ocam.rightFov = self.camera.rightFov;\n\n        // Auto clear needed because of multiple scenes\n        self.renderer.autoClear = false;\n        self.renderer.setSize(self.width, self.height);\n        self.renderer.sortObjects = false;\n        cubeContainer.appendChild(self.renderer.domElement);\n\n        // Initialize all event handlers\n        cubeContainer.addEventListener('touchstart', onDocumentMouseDown, false);\n        cubeContainer.addEventListener('mousedown', onDocumentMouseDown, false);\n        cubeContainer.addEventListener('mousemove', onDocumentMouseMove, false);\n\n/*\n        _havePointerLockFeature = 'pointerLockElement' in document ||\n                                  'mozPointerLockElement' in document ||\n                                  'webkitPointerLockElement' in document;\n*/\n        //Disabling this because it causes an intrusive browser pop-up asking\n        //whether I want to allow full screen mode to happen (huh?)\n        _havePointerLockFeature = false;\n\n        if(_havePointerLockFeature) {\n            var _document = self.getDocument();\n            _document.exitPointerLock = _document.exitPointerLock ||\n                                       _document.mozExitPointerLock ||\n                                       _document.webkitExitPointerLock;\n\n            cubeContainer.requestPointerLock = cubeContainer.requestPointerLock ||\n                                               cubeContainer.mozRequestPointerLock ||\n                                               cubeContainer.webkitRequestPointerLock;\n\n            // Hook pointer lock state change events\n            self.addDocumentEventListener('pointerlockchange', pointerLockChange, false);\n            self.addDocumentEventListener('mozpointerlockchange', pointerLockChange, false);\n            self.addDocumentEventListener('webkitpointerlockchange', pointerLockChange, false);\n        }\n\n        // Changing textures (blue highlighting for home and roll arrows)\n        changingTextures.push(loadTexture(getResourceUrl(resRoot + 'VChomeS.png')));\n        changingTextures.push(loadTexture(getResourceUrl(resRoot + 'VCarrowsS0.png')));\n        changingTextures.push(loadTexture(getResourceUrl(resRoot + 'VCarrowsS1.png')));\n        changingTextures.push(loadTexture(getResourceUrl(resRoot + 'VChome.png')));\n        changingTextures.push(loadTexture(getResourceUrl(resRoot + 'VCarrows.png')));\n        changingTextures.push(loadTexture(getResourceUrl(resRoot + 'VCcontext.png')));\n        changingTextures.push(loadTexture(getResourceUrl(resRoot + 'VCcontextS.png')));\n    };\n\n    /** Used to make cube visible again when using the transparency option   */\n    var mouseOverCube = function() {\n        if( cam.navApi.isActionEnabled('orbit') ) {\n            cubeContainer.style.opacity = \"1.0\";\n            _transparent = false;\n        }\n        requestAnimationFrame(self.render);\n    };\n\n    /** Used to fade in and out the cube when using the transparency option */\n    var mouseMoveOverCube = function(event) {\n        if (!_transparent && !cam.viewCubeMenuOpen && cam.navApi.isActionEnabled('orbit') ) {\n            var x = Math.max(Math.abs((event.clientX - position.x) / position.w - 0.5) * 4.0 - 1.0, 0);\n            var y = Math.max(Math.abs((event.clientY - position.y) / position.h - 0.5) * 4.0 - 1.0, 0);\n            var d = Math.max(0, Math.min(Math.sqrt(x*x + y*y), 1.0));\n            cubeContainer.style.opacity = 1.0 - d * (1.0 - self.inactiveOpacity);\n        }\n        else if( cam.navApi.isActionEnabled('orbit') ) {\n            cubeContainer.style.opacity = 1.0;\n        }\n    };\n\n    /** Used to make cube transparent when using the transparency option */\n    var mouseOutCube = function() {\n        if(cam.viewCubeMenuOpen){\n            return;\n        }\n        cubeContainer.style.opacity = self.inactiveOpacity;\n        _transparent = true;\n        requestAnimationFrame(self.render);\n    };\n\n\n    /** Takes in a image url and outputs a THREE.texture to be used\n     * by Three.js materials\n     * @param {string} url - path to the image you want to load as a texture\n     * @return {THREE.Texture}\n     */\n    var loadTexture = function(url) {\n        var image = new Image();\n        var _window = self.getWindow();\n        var useCredentials = endpoint.getUseCredentials() && (url.indexOf('://') === -1 || url.indexOf(_window.location.host) !== -1);\n        if (useCredentials) {\n            image.crossOrigin = \"use-credentials\";\n        } else {\n            image.crossOrigin = \"anonymous\";\n        }\n        var texture = new THREE.Texture(image);\n        image.onload = function() {\n            texture.needsUpdate = true;\n            loadedTextureCount++;\n            if(loadedTextureCount >= 11){\n                // all textures are now loaded\n                requestAnimationFrame(self.render);\n            }\n        };\n\n        image.src = url;\n        return texture;\n    };\n\n    /** Creates the click-able grid around the View Cube\n     *  by running functions to create Three.js meshes\n     */\n    var createCubeGrid = function () {\n        var currentGridLength;\n        var cubeCorners = [];\n        var cubeEdges = [];\n\n        cubeCorners[0] = buildCubeCorner(0, 0);\n        cubeCorners[1] = buildCubeCorner(0, Math.PI / 2);\n        cubeCorners[2] = buildCubeCorner(0, -Math.PI / 2);\n        cubeCorners[3] = buildCubeCorner(0, Math.PI);\n        cubeCorners[4] = buildCubeCorner(Math.PI / 2, 0);\n        cubeCorners[5] = buildCubeCorner(Math.PI / 2, Math.PI / 2);\n        cubeCorners[6] = buildCubeCorner(Math.PI / 2, -Math.PI / 2);\n        cubeCorners[7] = buildCubeCorner(Math.PI / 2, Math.PI);\n\n        cubeEdges[0] = buildCubeEdge(0, 0, 0);\n        cubeEdges[1] = buildCubeEdge(0, Math.PI / 2, 0);\n        cubeEdges[2] = buildCubeEdge(0, -Math.PI / 2, 0);\n        cubeEdges[3] = buildCubeEdge(0, Math.PI, 0);\n        cubeEdges[4] = buildCubeEdge(Math.PI / 2, 0, 0);\n        cubeEdges[5] = buildCubeEdge(Math.PI / 2, Math.PI / 2, 0);\n        cubeEdges[6] = buildCubeEdge(Math.PI / 2, -Math.PI / 2, 0);\n        cubeEdges[7] = buildCubeEdge(Math.PI / 2, Math.PI, 0);\n        cubeEdges[8] = buildCubeEdge(0, 0, Math.PI / 2);\n        cubeEdges[9] = buildCubeEdge(0, 0, -Math.PI / 2);\n        cubeEdges[10] = buildCubeEdge(-Math.PI / 2, 0, -Math.PI / 2);\n        cubeEdges[11] = buildCubeEdge(-Math.PI, 0, -Math.PI / 2);\n\n        // Draw the front square on the grid\n        gridMeshes.push(buildCubeFace(0, 0));\n        gridMeshes[0].name = 'front';\n        intersectsFace.push(gridMeshes[0]);\n        cubeBuffer.push(gridMeshes[0]);\n        gridScene.add(gridMeshes[0]);\n\n        // Draw the right square on the grid\n        gridMeshes.push(buildCubeFace(0, Math.PI / 2));\n        gridMeshes[1].name = 'right';\n        intersectsFace.push(gridMeshes[1]);\n        cubeBuffer.push(gridMeshes[1]);\n        gridScene.add(gridMeshes[1]);\n\n        // Draw the back square on the grid\n        gridMeshes.push(buildCubeFace(0, Math.PI));\n        gridMeshes[2].name = 'back';\n        intersectsFace.push(gridMeshes[2]);\n        cubeBuffer.push(gridMeshes[2]);\n        gridScene.add(gridMeshes[2]);\n\n        // Draw the left grid\n        gridMeshes.push(buildCubeFace(0, -Math.PI / 2));\n        gridMeshes[3].name = 'left';\n        intersectsFace.push(gridMeshes[3]);\n        cubeBuffer.push(gridMeshes[3]);\n        gridScene.add(gridMeshes[3]);\n\n        // Draw the bottom grid\n        gridMeshes.push(buildCubeFace(Math.PI / 2, 0));\n        gridMeshes[4].name = 'bottom';\n        intersectsFace.push(gridMeshes[4]);\n        cubeBuffer.push(gridMeshes[4]);\n        gridScene.add(gridMeshes[4]);\n\n        // Draw the top grid\n        gridMeshes.push(buildCubeFace(-Math.PI / 2, 0));\n        gridMeshes[5].name = 'top';\n        intersectsFace.push(gridMeshes[5]);\n        cubeBuffer.push(gridMeshes[5]);\n        gridScene.add(gridMeshes[5]);\n\n        currentGridLength = gridMeshes.length;\n\n        var i;\n        for (i = 0; i < cubeCorners.length; i++) {\n            gridMeshes.push(cubeCorners[i]);\n            gridMeshes[currentGridLength + i].name = cornerNames[i];\n            gridScene.add(gridMeshes[currentGridLength + i]);\n            intersectsFace.push(gridMeshes[currentGridLength + i]);\n            cubeBuffer.push(gridMeshes[currentGridLength + i]);\n        }\n\n        currentGridLength = gridMeshes.length;\n\n        for (i = 0; i < cubeEdges.length; i++) {\n            gridMeshes.push(cubeEdges[i]);\n            gridMeshes[currentGridLength + i].name = edgeNames[i];\n            gridScene.add(gridMeshes[currentGridLength + i]);\n            intersectsFace.push(gridMeshes[currentGridLength + i]);\n            cubeBuffer.push(gridMeshes[currentGridLength + i]);\n        }\n    };\n\n\n    /**\n     * Get intersections between a mesh and mouse position (mouse picking)\n     * @param {THREE.Vector3} pickingVector - direction vector to find intersections\n     * @param {THREE.Camera} camera\n     * @param {THREE.Mesh[]} intersectionBuffer - an array of three.js meshes to check for intersections with these specific meshes\n     * @return {Object[]} - objects which were intersected\n     */\n    var findPickingIntersects = function(pickingVector, camera, intersectionBuffer) {\n        var raycaster;\n\n        var direction = new THREE.Vector3();\n        if (camera.type === \"PerspectiveCamera\") {\n            direction.copy(pickingVector);\n            // retrieve point on view plane to shoot ray through\n            direction.unproject(camera);\n            // direction is target point minus position\n            raycaster = new THREE.Raycaster(camera.position, direction.sub(camera.position).normalize());\n        } else {\n            // orthographic\n            var target = new THREE.Vector3();\n            target.copy(pickingVector);\n            // retrieve point on view plane to shoot ray through\n            target.unproject(camera);\n\n            // direction is constant, from position to origin.\n            // direction is negative of position\n            direction.copy(camera.position).negate().normalize();\n            raycaster = new THREE.Raycaster(target, direction);\n        }\n\n        return raycaster.intersectObjects(intersectionBuffer);\n\n    };\n\n    var getPickVector = function(event, position) {\n        var x = event.clientX - position.x;\n        var y = event.clientY - position.y;\n\n        x = (x / position.w * 2.0) - 1.0;\n        y = ((position.h - y) / position.h * 2.0) - 1.0;\n\n        return new THREE.Vector3(x, y, 0.5);\n    };\n\n    /* never used\n    function isFullscreen() {\n        return document.fullscreenElement ||\n               document.webkitFullscreenElement ||\n               document.mozFullScreenElement ||\n               document.msFullscreenElement;\n    }\n    */\n\n    function getEventCoords(event, self) {\n        var coords = {};\n\n        if( event.type.indexOf(\"touch\") === 0 ) {\n            if( event.touches.length > 0 ) {\n                coords.clientX   = event.touches[0].clientX;\n                coords.clientY   = event.touches[0].clientY;\n                coords.pageX     = event.touches[0].pageX;\n                coords.pageY     = event.touches[0].pageY;\n                coords.screenX   = event.touches[0].screenX;\n                coords.screenY   = event.touches[0].screenY;\n                coords.movementX = coords.screenX - self.prevX;\n                coords.movementY = coords.screenY - self.prevY;\n                coords.which     = cam.navApi.getUseLeftHandedInput() ? 3 : 1;\n            }\n            else {\n                coords = self.prevCoords;\n            }\n        }\n        else {\n            coords.clientX   = event.clientX;\n            coords.clientY   = event.clientY;\n            coords.pageX     = event.pageX;\n            coords.pageY     = event.pageY;\n            coords.screenX   = event.screenX;\n            coords.screenY   = event.screenY;\n            coords.which     = event.which;\n\n            if ( _havePointerLockFeature ) {\n                coords.movementX = event.movementX || event.mozMovementX || event.webkitMovementX || 0;\n                coords.movementY = event.movementY || event.mozMovementY || event.webkitMovementY || 0;\n            }\n            else {\n                coords.movementX = coords.screenX - self.prevX;\n                coords.movementY = coords.screenY - self.prevY;\n            }\n        }\n        self.prevX = coords.screenX;\n        self.prevY = coords.screenY;\n        self.prevCoords = coords;\n\n        return coords;\n    }\n\n    /** All functionality regarding cube clicks starts here\n     *\n     * @param {Object} event - event when mouse down occurs\n     */\n    var onDocumentMouseDown = function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        if( !cam.navApi.isActionEnabled('orbit') )\n            return;\n\n        if (cam.currentlyAnimating) { return; }\n\n        var coords = getEventCoords(event, self);\n\n        // Make sure our position is up to date...\n        position = getPosition(cubeContainer);\n\n        cubeContainer.removeEventListener('mousemove', onDocumentMouseMove, false);\n        self.addDocumentEventListener('mouseup', onDocumentMouseUp, false);\n        self.addDocumentEventListener('touchend', onDocumentMouseUp, false);\n        // Not needed: document.addEventListener('mousemove', onDocumentMouseMove, false);\n\n        if( !cam.navApi.getUsePivotAlways() ) {\n            // If the usePivot option is not on, we pivot around the center of the view:\n            cam.pivot.copy(cam.center);\n            cam.navApi.setPivotPoint(cam.center);\n            // This also clears the pivot set flag:\n            cam.navApi.setPivotSetFlag(false);\n        }\n\n        // Since this mouse down is for dragging the cube we should not be able do this if the cube is animating already\n        var intersectsWithCube;\n        var pickingVector;\n\n        //If cube is first thing clicked, add the current shot to rewind history\n        //if (cam.rewindParams.history.length == 0) cam.addHistoryElement();\n\n        //If clicking cube from anywhere other then end of timeline update history accordingly\n        //if (!cam.rewindParams.snapped || cam.rewindParams.timelineIndex +1 != cam.rewindParams.history.length) cam.addIntermediateHistoryElement();\n\n        var rightMouse = cam.navApi.getUseLeftHandedInput() ? 1 : 3;\n        if (coords.which === rightMouse) // Right mouse click, handled on mouse up\n            return;\n\n        if(self.animSpeed <= 0){\n            logger.error(\"animSpeed cannot be 0 or less, use ViewCube.animate flag to turn on and off animation\", errorCodeString(ErrorCodes.VIEWER_INTERNAL_ERROR));\n            return;\n        }\n\n        // get mouse picking intersections\n        pickingVector = getPickVector(coords, position);\n        intersectsWithCube = findPickingIntersects(pickingVector, self.camera, cubeBuffer);\n\n\n        if (intersectsWithCube.length > 0) {\n\n            hideArrows();\n            if(self.draggable){\n\n                cam.startInteraction(coords.pageX, coords.pageY);\n                self.addDocumentEventListener('mousemove', onDocumentMouseMoveCube, false);\n                self.addDocumentEventListener('touchmove', onDocumentMouseMoveCube, false);\n\n                // Check if browser has pointer lock support\n                if ( _havePointerLockFeature ) {\n                    // Ask the browser to lock the pointer\n                    cubeContainer.requestPointerLock();\n                    _pointerLockMoveBugSPK865 = (_isChrome && _isWindows);\n                }\n            }\n        }\n    };\n\n    /** Used for dragging the cube,\n     * @param {Object} event - event when mouse move occurs (contains information about pointer position)\n     */\n    var onDocumentMouseMoveCube = function (event) {\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        // This is an error if user puts in self.animSpeed = 0 or less\n        if(self.animSpeed <= 0){\n            self.removeDocumentEventListener(\"mousemove\", onDocumentMouseMoveCube, false);\n            self.removeDocumentEventListener(\"touchmove\", onDocumentMouseMoveCube, false);\n            logger.error(\"animSpeed cannot be 0 or less\", errorCodeString(ErrorCodes.VIEWER_INTERNAL_ERROR));\n            return;\n        }\n\n        if(cam.currentlyAnimating) {\n            return;\n        }\n        var coords = getEventCoords(event, self);\n\n        if ( _havePointerLockFeature ) {\n            // We skip the first movement event after requesting pointer lock\n            // because Chrome on Windows sends out a bogus motion value.\n            if( _pointerLockMoveBugSPK865 ) {\n                _pointerLockMoveBugSPK865 = false;\n                coords.movementX = coords.movementY = 0;\n            }\n        }\n\n        if(_havePointerLock) {\n\n            // Ignore erroneous data sent from pointer lock\n            // not sure why erroneous data gets received\n            // could be bug in pointer lock\n            if(coords.movementX > 300 || coords.movementY > 300) {\n                coords.movementX = 0;\n                coords.movementY = 0;\n            }\n        }\n\n        // If the mouse hasn't moved ignore this current movement (not sure why the mouse move event gets called)\n        // Also used for ignoring erroneous data\n        if(coords.movementX === coords.movementY && coords.movementX === 0) {\n            cam.currentlyAnimating = false;\n            return;\n        }\n        _orthogonalView = false;\n        _dragged = true;\n        cam.showPivot(true);\n        cam.currentCursor = new THREE.Vector2(coords.pageX, coords.pageY);\n        cam.orbit(cam.currentCursor, cam.startCursor, new THREE.Vector3( - coords.movementX, coords.movementY, 0 ), cam.startState);\n\n        self.camera.lookAt(self.center);\n\n        requestAnimationFrame(self.render);\n    };\n\n\n    var endMouseUp = function (stillNeedUp) {\n        if( !stillNeedUp ) {\n            self.removeDocumentEventListener('mouseup', onDocumentMouseUp, false);\n            self.removeDocumentEventListener('touchend', onDocumentMouseUp, false);\n        }\n\n        self.removeDocumentEventListener('mousemove', onDocumentMouseMoveCube, false);\n        self.removeDocumentEventListener('touchmove', onDocumentMouseMoveCube, false);\n        cubeContainer.addEventListener('mousemove', onDocumentMouseMove, false);\n\n        if ( _havePointerLock ) {\n            var _document = self.getDocument();\n            _document.exitPointerLock();\n        }\n\n    };\n\n    this.registerOnViewTypeChangedCb = function(cb) {\n        if (cb instanceof Function) {\n            _onViewTypeChangedCb = cb;\n        }\n    };\n\n    this.setViewType = function(viewType) {\n        switch (viewType) {\n            case avp.VIEW_TYPES.ORTHOGRAPHIC:\n                // change cube appearance\n                self.camera = self.ocam;\n                break;\n            case avp.VIEW_TYPES.PERSPECTIVE:\n                // change cube appearance\n                self.camera = self.pcam;\n                break;\n            case avp.VIEW_TYPES.PERSPECTIVE_ORTHO_FACES:\n                self.camera = _orthogonalView ? self.ocam : self.pcam;\n                break;\n            default:\n                // This viewType is not supported.\n                // We do not want to call the view type callback here\n                return;\n        }\n        _onViewTypeChangedCb && _onViewTypeChangedCb(viewType);\n    };\n\n    /** Rotates the cube when a division of the cube grid is clicked,\n     * also provides functionality for home button interaction, orthogonal arrows interaction,\n     * and roll arrows interaction\n     * @param {Object} event - event contains information about mouse position which is used in this function\n     */\n    var onDocumentMouseUp = function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        var cubeIntersects;\n        var arrowIntersects;\n        var controlIntersects;\n\n        if (cam.currentlyAnimating || _dragged) {\n            cam.endInteraction();\n            cam.showPivot(false);\n            _dragged = false;\n\n            endMouseUp(false);\n            return;\n        }\n        var coords = getEventCoords(event, self);\n\n        if (cam.viewCubeMenuOpen) {\n            var x = coords.clientX - position.x;\n            var y = coords.clientY - position.y;\n\n            //if clicked on the menu\n            if ((cam.menuOrigin.x <= x) && (x <= (cam.menuOrigin.x + cam.menuSize.x)) &&\n                (cam.menuOrigin.y <= y) && (y <= (cam.menuOrigin.y + cam.menuSize.y))){\n\n                // HACK!!\n                // TODO: make this a bit more robust. It doesn't take the menu separators\n                // into account and makes a gross assumption about the menu entry size.\n                var menuItemNumber = Math.floor(((y-5) - cam.menuOrigin.y)/25);\n\n                var log = function(action) {\n                    logger.track({ name: 'navigation/' + action, aggregate: 'count' });\n                };\n\n                switch(menuItemNumber){\n                    case 0:                 //home\n                        log('home');\n                        cam.goHome();\n                        break;\n                    case 1:                 //orthographic\n                        log('setortho');\n                        self.setViewType(menuItemNumber);\n                        break;\n                    case 2:                 //perspective\n                        log('setpersp');\n                        self.setViewType(menuItemNumber);\n                        break;\n                    case 3:                 //perspective with ortho faces\n                        self.setViewType(menuItemNumber);\n                        break;\n                    case 4:                 //set current view as home\n                        log('sethome');\n                        cam.setCurrentViewAsHome(false);\n                        break;\n                    case 5:                 //focus and set current view as home\n                        log('focushome');\n                        cam.setCurrentViewAsHome(true);\n                        break;\n                    case 6:                 //reset home\n                        log('resethome');\n                        cam.resetHome();\n                        break;\n                    case 7:                 //set current view as front\n                        log('setfront');\n                        cam.setCurrentViewAsFront();\n                        break;\n                    case 8:                 //set current view as top\n                        log('settop');\n                        cam.setCurrentViewAsTop();\n                        break;\n                    case 9:                 //reset orientation\n                        cam.resetOrientation();\n                        break;\n                }\n            }\n\n            cam.viewCubeMenuOpen = false;\n            cam.removeDropdownMenu(cubeContainer);\n\n            //if clicked off the cube canvas\n            if( coords.clientX < position.x || coords.clientX > (position.w + position.x)\n             || coords.clientY < position.y || coords.clientY > (position.h + position.y)) {\n                mouseOutCube();\n            }\n\n            // In case something needs a highlight change:\n            if( self.mouseMoveSave )\n                self.processMouseMove(self.mouseMoveSave);\n\n            // LMV-1876 and LMV-1986 - re-enable hotkeys, essentially\n            cam.endInteraction();\n\n            // remove event listeners\n            endMouseUp(false);\n            return;\n        }\n        var rightMouse = cam.navApi.getUseLeftHandedInput() ? 1 : 3;\n        if (coords.which === rightMouse) {\n            cam.viewCubeMenuOpen=true;\n            cam.drawDropdownMenu(menuOptionList, menuEnableList, menuStateCallbackList, coords.clientX, coords.clientY, cubeContainer, position);\n            endMouseUp(true);\n            return;\n        }\n        var pickingVector = getPickVector(coords, position);\n        cubeIntersects    = findPickingIntersects(pickingVector, self.camera, cubeBuffer);\n        arrowIntersects   = findPickingIntersects(pickingVector, controlCamera, arrowBuffer);\n        controlIntersects = findPickingIntersects(pickingVector, controlCamera, controlBuffer);\n\n        // Apply logic for clicking on arrows\n        if (arrowIntersects.length > 0 && _orthogonalView) {\n\n            var FACES = [\"top\", \"bottom\", \"right\", \"left\", \"front\", \"back\"];\n\n            var FACE_MAPPING = {\n                front: {\n                    up:    [0, 1, 2, 3],\n                    right: [2, 3, 1, 0],\n                    down:  [1, 0, 3, 2],\n                    left:  [3, 2, 0, 1],\n                },\n                right: {\n                    up:    [0, 1, 5, 4],\n                    right: [5, 4, 1, 0],\n                    down:  [1, 0, 4, 5],\n                    left:  [4, 5, 0, 1],\n                },\n                left: {\n                    up:    [0, 1, 4, 5],\n                    right: [4, 5, 1, 0],\n                    down:  [1, 0, 5, 4],\n                    left:  [5, 4, 0, 1],\n                },\n                back: {\n                    up:    [0, 1, 3, 2],\n                    right: [3, 2, 1, 0],\n                    down:  [1, 0, 2, 3],\n                    left:  [2, 3, 0, 1],\n                },\n                top: {\n                    up:    [5, 4, 2, 3],\n                    right: [2, 3, 4, 5],\n                    down:  [4, 5, 3, 2],\n                    left:  [3, 2, 5, 4],\n                },\n                bottom: {\n                    up:    [4, 5, 2, 3],\n                    right: [2, 3, 5, 4],\n                    down:  [5, 4, 3, 2],\n                    left:  [3, 2, 4, 5],\n                }\n            };\n\n            var orientation = cam.getOrientation();\n            var order = FACE_MAPPING[self.currentFace][orientation];\n\n            var face;\n            for (var f=0; f<4; f++) {\n                if (arrowIntersects[0].object === arrowBuffer[f]) {\n                    face = FACES[order[f]];\n                    break;\n                }\n            }\n\n            cam.calculateCubeTransform(face);\n            self.currentFace = face;\n\n            cam.elapsedTime =0;\n            cam.sphericallyInterpolateTransition();\n        }\n\n        if (controlIntersects.length > 0) {\n            cam.elapsedTime = 0;\n\n            if (self.wantHomeButton && controlIntersects[0].object === controlBuffer[homeOffset]) {\n                cam.goHome();\n                endMouseUp(false);\n                return;\n            }\n            if (self.wantContextMenu && controlIntersects[0].object === controlBuffer[menuOffset]) {\n                cam.viewCubeMenuOpen=true;\n                cam.drawDropdownMenu(menuOptionList, menuEnableList, menuStateCallbackList, coords.clientX, coords.clientY, cubeContainer, position);\n                endMouseUp(true);\n                return;\n            }\n            if (self.wantRollArrows && _orthogonalView && (controlIntersects[0].object === controlBuffer[rollLeftOffset] || controlIntersects[0].object === controlBuffer[rollRightOffset])) {\n                //TODO: when panning, dir changes -> position\n                var clockwise = (controlIntersects[0].object === controlBuffer[rollRightOffset]);\n                var destination = {\n                    center: cam.center.clone(),\n                    position: camera.position.clone(),\n                    pivot: camera.pivot.clone(),\n                    fov: camera.fov,\n                    worldUp: cam.sceneUpDirection.clone(),\n                    isOrtho: (camera.isPerspective === false)\n                };\n                var dir = cam.center.clone().sub(camera.position).normalize();\n\n                if (clockwise){\n                    destination.up = camera.up.clone().cross(dir);\n                }else{\n                    destination.up = camera.up.clone().multiplyScalar(-1);\n                    destination.up.cross(dir);\n                }\n                destination.up.normalize();\n\n                cam.goToView(destination);\n            }\n        }\n        if (cubeIntersects.length > 0) {\n            let face = cubeIntersects[0].object.name;\n            self.mouseMoveSave = event;\n            self.cubeRotateTo(face);\n        }\n        endMouseUp(false);\n    };\n\n    this.cubeRotateTo = function(face) {\n        self.currentFace = face;\n\n        // If ortho faces is on and the target is not another face,\n        // switch to perspective mode:\n        if( cam.orthographicFaces && (self.currentFace.indexOf(',') !== -1) ) {\n            cam.setCameraOrtho(false);\n        }\n        cam.calculateCubeTransform(self.currentFace);\n\n        cam.elapsedTime =0;\n\n        // After interpolating to the new target we may have to simulate\n        // a mouse move event at the final location so that the appropriate\n        // part of the cube is highlighted:\n        cam.sphericallyInterpolateTransition(function(){\n            if( self.mouseMoveSave )\n                self.processMouseMove(self.mouseMoveSave);\n        });\n    };\n\n    /** Used to highlight cube grid divisions/arrows/home\n     * @param {Object} event - event contains information about mouse position which is used in this function\n     */\n    this.processMouseMove = function (event) {\n        var intersectsFaces;\n        var arrowIntersects;\n        var controlIntersects;\n\n        if (cam.viewCubeMenuOpen || cam.currentlyAnimating) {\n            self.mouseMoveSave = event;\n            return;\n        }\n        self.mouseMoveSave = null;\n\n        var coords = getEventCoords(event, self);\n\n        var pickingVector = getPickVector(coords, position);\n\n        intersectsFaces = findPickingIntersects(pickingVector, self.camera, intersectsFace);\n        arrowIntersects = findPickingIntersects(pickingVector, controlCamera, arrowBuffer);\n        controlIntersects = findPickingIntersects(pickingVector, controlCamera, controlBuffer);\n\n        /**********Highlight arrows when hovered over************/\n\n        if (INTERSECTED && !_dragged) {\n            INTERSECTED.material.color.setHex(COLOR_ARROW);\n            INTERSECTED = null;\n            requestAnimationFrame(self.render);\n        }\n\n        if (arrowIntersects.length > 0 && !_dragged) {\n                INTERSECTED = arrowIntersects[0].object;\n                for( var i=arrowGroup.children.length;  --i >= 0; ) {\n                    if (INTERSECTED === arrowBuffer[i]) {\n                        INTERSECTED = arrowGroup.children[i];\n                        INTERSECTED.material.color.setHex(0x00afff);\n                        break;\n                    }\n                }\n                requestAnimationFrame(self.render);\n        }\n\n        /**************Highlight faces on cube******************/\n\n        if (INTERSECTED_F && !_dragged) {\n            // Make the previously selected face opacity: 0.0\n                INTERSECTED_F.material.opacity = 0.0;\n                INTERSECTED_F = null;\n                requestAnimationFrame(self.render);\n        }\n\n        if (intersectsFaces.length > 0 && !_dragged) {\n            // Make the currently selected face opacity: 0.3\n                INTERSECTED_F = intersectsFaces[0].object;\n                INTERSECTED_F.material.opacity = 0.3;\n                requestAnimationFrame(self.render);\n        }\n\n        if (controlIntersects.length > 0 && !_dragged){\n            if(INTERSECTED_C !== controlIntersects[0].object){\n                // home mouse over\n                if(self.wantHomeButton && controlIntersects[0].object === controlBuffer[homeOffset]){\n                    INTERSECTED_C = controlIntersects[0].object;\n                    controlBuffer[homeOffset].material.map = changingTextures[0];\n                }\n\n                // Left roll arrow mouse over\n                else if(self.wantRollArrows && controlIntersects[0].object === controlBuffer[rollLeftOffset]){\n                    INTERSECTED_C = controlIntersects[0].object;\n                    controlBuffer[rollOffset].material.map = changingTextures[1];\n                }\n\n                // Right roll arrow mouse over\n                else if(self.wantRollArrows && controlIntersects[0].object === controlBuffer[rollRightOffset]) {\n                    INTERSECTED_C = controlIntersects[0].object;\n                    controlBuffer[rollOffset].material.map = changingTextures[2];\n                }\n\n                // Menu Icon\n                else if(self.wantContextMenu && controlIntersects[0].object === controlBuffer[menuOffset]){\n                    INTERSECTED_C = controlIntersects[0].object;\n                    controlBuffer[menuOffset].material.map = changingTextures[6];\n                }\n\n                else{\n                    // home mouse over\n                    if(self.wantHomeButton && INTERSECTED_C === controlBuffer[homeOffset]) {\n                        INTERSECTED_C = null;\n                        controlBuffer[homeOffset].material.map = changingTextures[3];\n                    }\n\n                    // Left roll and Right roll arrow\n                    else if(self.wantRollArrows && (INTERSECTED_C === controlBuffer[rollLeftOffset] ||\n                        INTERSECTED_C === controlBuffer[rollRightOffset] || INTERSECTED_C === controlBuffer[rollOffset])){\n                        INTERSECTED_C = null;\n                        controlBuffer[rollOffset].material.map = changingTextures[4];\n                    }\n\n                    // menu icon\n                    else if(self.wantContextMenu && INTERSECTED_C === controlBuffer[menuOffset]){\n                        INTERSECTED_C = null;\n                        controlBuffer[menuOffset].material.map = changingTextures[5];\n                    }\n                }\n                requestAnimationFrame(self.render);\n            }\n        }else if(INTERSECTED_C !== null && !_dragged){\n            // home mouse over\n            if(self.wantHomeButton && INTERSECTED_C === controlBuffer[homeOffset]) {\n                INTERSECTED_C = null;\n                controlBuffer[homeOffset].material.map = changingTextures[3];\n            }\n\n            // Left roll and Right roll arrow\n            else if(self.wantRollArrows && (INTERSECTED_C === controlBuffer[rollLeftOffset] ||\n                INTERSECTED_C === controlBuffer[rollRightOffset] || INTERSECTED_C === controlBuffer[rollOffset])){\n                INTERSECTED_C = null;\n                controlBuffer[rollOffset].material.map = changingTextures[4];\n            }\n\n            // menu icon\n            else if(self.wantContextMenu && INTERSECTED_C === controlBuffer[menuOffset]){\n                INTERSECTED_C = null;\n                controlBuffer[menuOffset].material.map = changingTextures[5];\n            }\n\n            requestAnimationFrame(self.render);\n        }\n    };\n\n    var onDocumentMouseMove = function (event) {\n        if( cam.navApi.isActionEnabled('orbit') )\n            self.processMouseMove(event);\n    };\n\n    /** Refreshes values so that renderer is correct size (in pixels) **/\n    var onWindowResize = function () {\n        position = getPosition(cubeContainer);\n\n        // cubeContainer.style.width = self.width.toString() + \"px\";\n        // cubeContainer.style.height = \"inherit\";\n\n        self.width  = cubeContainer.offsetWidth;\n        self.height = cubeContainer.offsetHeight;\n\n        //windowHalfX = self.width / 2;\n        //windowHalfY = self.height / 2;\n\n        //self.camera.aspect = self.width / self.height; - one of the two cameras has this aspect, so setting it there sets it here.\n        self.pcam.aspect = self.ocam.aspect = self.width / self.height;\n        //self.camera.updateProjectionMatrix(); - done by the two calls below:\n        self.pcam.updateProjectionMatrix();\n        self.ocam.updateProjectionMatrix();\n\n        // PHB added. See Autocam.js windowResize\n        self.camera.topFov = self.camera.bottomFov = self.camera.fov/2;\n        self.camera.leftFov = self.camera.rightFov = (self.camera.aspect * self.camera.fov)/2;\n        // need to copy to camera templates - half of these statements do nothing, since the camera points at pcam or ocam, but simpler than an if statement.\n        self.pcam.aspect = self.ocam.aspect = self.camera.aspect;\n        self.pcam.topFov = self.ocam.topFov = self.camera.topFov;\n        self.pcam.bottomFov = self.ocam.bottomFov = self.camera.bottomFov;\n        self.pcam.leftFov = self.ocam.leftFov = self.camera.leftFov;\n        self.pcam.rightFov = self.ocam.rightFov = self.camera.rightFov;\n\n        const devicePixelRatio = self.getWindow().devicePixelRatio;\n        if (self.renderer.getPixelRatio() !== devicePixelRatio) {\n            self.renderer.setPixelRatio(devicePixelRatio); // invokes setSize\n        } else {\n            self.renderer.setSize(self.width, self.height);\n        }\n        requestAnimationFrame(self.render);\n    };\n\n    /** Builds one square mesh of the grid (located on each face of the cube)\n     *\n     * @param {Number} rotationX - rotate shape by this amount in X\n     * @param {Number} rotationY - rotate shape by this amount in Y\n     * @return {THREE.Mesh} - mesh of the cube face (square part) rotated by params\n     */\n    var buildCubeFace = function (rotationX, rotationY) {\n\n        // These sizes may be changed if cube size is changed\n        var material;\n        var edge = Math.floor(cubeSize * 0.45 / 2) || 45;\n        var square = Math.floor(cubeSize * 0.60 / 2) || 60;\n        var masterCubeSize = edge + square;\n\n        var geo = new THREE.BufferGeometry();\n\n        // Center of the cube\n        var v0 = new THREE.Vector3(0, 0, 0);\n\n        /******************FRONT OF CUBE********************/\n        var v1 = new THREE.Vector3(square, -square, masterCubeSize);\n        var v2 = new THREE.Vector3(square, square, masterCubeSize);\n        var v3 = new THREE.Vector3(-square, square, masterCubeSize);\n        var v4 = new THREE.Vector3(-square, -square, masterCubeSize);\n\n        var vertices = new Float32Array([\n            v0.x, v0.y, v0.z,\n            v1.x, v1.y, v1.z,\n            v2.x, v2.y, v2.z,\n            v3.x, v3.y, v3.z,\n            v4.x, v4.y, v4.z\n        ]);\n\n        geo.setAttribute( 'position', new THREE.BufferAttribute( vertices, 3 ) );\n\n        /******************FRONT FACE********************/\n\n            // Front square\n        const indices = [\n            1, 2, 3,\n            1, 3, 4\n        ];\n        geo.index = new THREE.BufferAttribute( new Uint16Array( indices ), 1 );\n\n        // Apply matrix rotations for sides which are not the front\n        geo.applyMatrix4(new THREE.Matrix4().makeRotationX(rotationX));\n        geo.applyMatrix4(new THREE.Matrix4().makeRotationY(rotationY));\n\n        geo.computeVertexNormals();\n\n        material = new MeshBasicMaterial({ opacity:0.0, color:0x00afff, transparent:true });\n        return new THREE.Mesh(geo, material);\n    };\n\n    /** Builds one edge mesh of the grid\n     *\n     * @param rotationX - rotate shape by this amount X\n     * @param rotationY - rotate shape by this amount Y\n     * @param rotationZ - rotate shape by this amount Z\n     * @return {THREE.Mesh} - mesh of the cube edge rotated by params\n     */\n    var buildCubeEdge = function (rotationX, rotationY, rotationZ) {\n        var material;\n        var edge = Math.floor(cubeSize * 0.45 / 2) || 45;\n        var square = Math.floor(cubeSize * 0.60 / 2) || 60;\n        var masterCubeSize = edge + square;\n        var meshReturn;\n\n        var geo = new THREE.BufferGeometry();\n\n        var e0 = new THREE.Vector3(square, masterCubeSize, masterCubeSize);\n        var e1 = new THREE.Vector3(-square, masterCubeSize, masterCubeSize);\n        var e2 = new THREE.Vector3(-square, square, masterCubeSize);\n        var e3 = new THREE.Vector3(square, square, masterCubeSize);\n\n        var e4 = new THREE.Vector3(square, masterCubeSize, square);\n        var e5 = new THREE.Vector3(-square, masterCubeSize, square);\n        var e6 = new THREE.Vector3(-square, masterCubeSize, masterCubeSize);\n        var e7 = new THREE.Vector3(square, masterCubeSize, masterCubeSize);\n\n        var vertices = new Float32Array([\n            e0.x, e0.y, e0.z,\n            e1.x, e1.y, e1.z,\n            e2.x, e2.y, e2.z,\n            e3.x, e3.y, e3.z,\n            e4.x, e4.y, e4.z,\n            e5.x, e5.y, e5.z,\n            e6.x, e6.y, e6.z,\n            e7.x, e7.y, e7.z\n        ]);\n\n        geo.setAttribute( 'position', new THREE.BufferAttribute( vertices, 3 ) );\n\n        const indices = [\n            0, 1, 2,\n            0, 2, 3,\n            4, 5, 6,\n            4, 6, 7\n        ];\n        geo.index = new THREE.BufferAttribute( new Uint16Array( indices ), 1 );\n\n        geo.applyMatrix4(new THREE.Matrix4().makeRotationX(rotationX));\n        geo.applyMatrix4(new THREE.Matrix4().makeRotationY(rotationY));\n        geo.applyMatrix4(new THREE.Matrix4().makeRotationZ(rotationZ));\n\n        geo.computeVertexNormals();\n\n        material = new MeshBasicMaterial({ opacity:0.0, color:0x00afff, transparent:true });\n        meshReturn = new THREE.Mesh(geo, material);\n        return meshReturn;\n    };\n\n    /** Builds one corner mesh of the grid\n     *\n     * @param {Number} rotationX - rotate shape by this amount in X\n     * @param {Number} rotationY - rotate shape by this amount in Y\n     * @return {THREE.Mesh} - the cube corner mesh rotated by params\n     */\n    var buildCubeCorner = function (rotationX, rotationY) {\n        var material;\n        var edge = Math.floor(cubeSize * 0.45 / 2) || 45;\n        var square = Math.floor(cubeSize * 0.60 / 2) || 60;\n        var masterCubeSize = edge + square;\n        var meshReturn;\n\n        var geo = new THREE.BufferGeometry();\n\n        var c0 = new THREE.Vector3(masterCubeSize, masterCubeSize, masterCubeSize);\n        var c1 = new THREE.Vector3(square, masterCubeSize, masterCubeSize);\n        var c2 = new THREE.Vector3(square, square, masterCubeSize);\n        var c3 = new THREE.Vector3(masterCubeSize, square, masterCubeSize);\n\n        var c4 = new THREE.Vector3(masterCubeSize, masterCubeSize, square);\n        var c5 = new THREE.Vector3(masterCubeSize, masterCubeSize, masterCubeSize);\n        var c6 = new THREE.Vector3(masterCubeSize, square, masterCubeSize);\n        var c7 = new THREE.Vector3(masterCubeSize, square, square);\n\n        var c8 = new THREE.Vector3(masterCubeSize, masterCubeSize, masterCubeSize);\n        var c9 = new THREE.Vector3(masterCubeSize, masterCubeSize, square);\n        var c10 = new THREE.Vector3(square, masterCubeSize, square);\n        var c11 = new THREE.Vector3(square, masterCubeSize, masterCubeSize);\n\n        var vertices = new Float32Array([\n            c0.x, c0.y, c0.z,\n            c1.x, c1.y, c1.z,\n            c2.x, c2.y, c2.z,\n            c3.x, c3.y, c3.z,\n            c4.x, c4.y, c4.z,\n            c5.x, c5.y, c5.z,\n            c6.x, c6.y, c6.z,\n            c7.x, c7.y, c7.z,\n            c8.x, c8.y, c8.z,\n            c9.x, c9.y, c9.z,\n            c10.x, c10.y, c10.z,\n            c11.x, c11.y, c11.z,\n        ]);\n\n        geo.setAttribute( 'position', new THREE.BufferAttribute( vertices, 3 ) );\n\n        const indices = [\n            0, 1, 2,\n            0, 2, 3,\n            4, 5, 6,\n            4, 6, 7,\n            8, 9, 10,\n            8, 10, 11\n        ];\n\n        geo.index = new THREE.BufferAttribute( new Uint16Array( indices ), 1 );\n\n        geo.applyMatrix4(new THREE.Matrix4().makeRotationX(rotationX));\n        geo.applyMatrix4(new THREE.Matrix4().makeRotationY(rotationY));\n\n        geo.computeVertexNormals();\n\n        material = new MeshBasicMaterial({ opacity:0.0, color:0x00afff, transparent:true });\n        meshReturn = new THREE.Mesh(geo, material);\n        return meshReturn;\n    };\n\n    var changeBasisWorldToStandard = function (V) {\n        var worldD = cam.cubeFront.clone();\n        var worldU = cam.sceneUpDirection.clone();\n        var worldR = worldD.clone().cross(worldU);\n        worldU.copy(worldR).cross(worldD);\n\n        worldD.normalize();\n        worldU.normalize();\n        worldR.normalize();\n\n        var answer = new THREE.Vector3(worldD.x,worldU.x,worldR.x).multiplyScalar(V.x);\n        answer.add(new THREE.Vector3(worldD.y,worldU.y,worldR.y).multiplyScalar(V.y));\n        answer.add(new THREE.Vector3(worldD.z,worldU.z,worldR.z).multiplyScalar(V.z));\n\n        return answer;\n    };\n\n    /** Render the View Cube scenes and perform checks for control visibility **/\n    this.render = function () {\n        // switch view cube to match whatever camera.isPerspective says to use.\n        self.camera = camera.isPerspective ? self.pcam : self.ocam;\n\n        var scale = self.compass ? self.viewScaleFactorCompass * self.viewScale : self.viewScale;\n        var viewDir = cam.center.clone().sub(camera.position).normalize();\n        var upDir   = camera.up.normalize();\n        var spriteRotationMatrix = new THREE.Matrix4();\n\n        viewDir = changeBasisWorldToStandard(viewDir);\n        upDir   = changeBasisWorldToStandard(upDir);\n\n        self.camera.position.copy(viewDir);\n        self.camera.position.multiplyScalar(-scale / self.camera.position.length());\n        self.camera.up = upDir.normalize();\n        self.camera.lookAt(self.center);\n\n        checkControlVisibility();\n\n        // Only render triad if enabled and up/front are axis aligned. Otherwise it looks weird\n        var renderTriad = self.renderTriad &&\n          isAxisAlignedUnit(cam.sceneUpDirection) &&\n          isAxisAlignedUnit(cam.sceneFrontDirection);\n\n        var renderer = self.renderer;\n        if (renderer) {\n            // Orient any sprites to face the camera\n            for (var i = 0; i < sprites.length; i++) {\n              spriteRotationMatrix.lookAt(self.camera.position, sprites[i].position, self.camera.up);\n              sprites[i].setRotationFromMatrix(spriteRotationMatrix);\n            }\n\n            renderer.clear();\n            // There are 3 scenes: the first is the shadow, then the cube with textures, then the grid is on top\n            renderer.render(shadowScene, self.camera);\n            renderer.render(cubeScene, self.camera);\n            renderer.render(lineScene, self.camera);\n\n            if (renderTriad) {\n              // Reorient in case up/front changed. Weirdly the scene front direction is backwards so we have to\n              // multiply by -1\n              triad.orient(cam.sceneUpDirection, cam.sceneFrontDirection.clone().multiplyScalar(-1));\n              renderer.render(triad.triadScene, self.camera);\n              renderer.render(triad.triadLabelScene, self.camera);\n            }\n            renderer.render(gridScene, self.camera);\n            // render the compass after the cube. If we do it before, the cube will be hidden\n            if (self.renderCompass) {\n                renderer.render(compassScene, self.camera);\n            }\n\n            // Different camera since these shouldn't move with the View Cube\n            renderer.render(controlScene, controlCamera);\n        }\n    };\n\n    /**\n     * Returns a promise that resolves with an image/png Blob.\n     *\n     * @returns {Promise}\n     */\n    this.getScreenShot = function(options) {\n        return new Promise(function(resolve, reject){\n\n            var renderer = self.renderer;\n            if (!renderer)\n                return reject('No renderer');\n\n            // Add background\n            var _document = self.getDocument();\n            var canvas = _document.createElement('canvas');\n            canvas.width = self.width;\n            canvas.height = self.height;\n            var ctx = canvas.getContext('2d');\n            ctx.fillStyle = '#FFFFFF';\n            ctx.fillRect(0, 0, self.width, self.height);\n\n            self.render();\n            renderer.domElement.toBlob(onViewCubeBlob, 'image/png');\n\n            function onViewCubeBlob(vcBlob) {\n                var img = new Image();\n                var _window = self.getWindow();\n                img.src = _window.URL.createObjectURL(vcBlob);\n                img.onload = () => {\n                    ctx.drawImage(img, 0, 0, self.width, self.height);\n                    _window.URL.revokeObjectURL(img.src);\n                    canvas.toBlob((blob) => { resolve(blob); }, 'image/png');\n                };\n            }\n        });\n    };\n\n    /**\n     * checks whether arrows (orthogonal and roll), drop down menus, and home button should be visible or not at\n     * this current time\n     */\n    var checkControlVisibility = function(){\n        // Arrow Visibility\n\n        _orthogonalView = cam.isFaceView();\n\n        (_orthogonalView && !_transparent && !cam.currentlyAnimating) ? showArrows() : hideArrows();\n\n        // Menu Visibility\n        _transparent ? hideContext() : showContext();\n\n        // Home Visibility\n        _transparent ? hideHome() : showHome();\n    };\n\n    /** Hide View Cube Arrows **/\n    var hideArrows = function() {\n        controlScene.remove(arrowGroup);\n\n        controlBuffer[rollOffset].material.opacity = 0.0;\n        controlBuffer[menuOffset].material.opacity = 0.0;\n    };\n\n    /** Show View Cube Arrows **/\n    var showArrows = function() {\n        controlScene.add(arrowGroup);\n\n        var opacity = self.wantRollArrows ? 1.0 : 0.0;\n        controlBuffer[rollOffset].material.opacity = opacity;\n        controlBuffer[menuOffset].material.opacity = opacity;\n    };\n\n    /** Hide the view cube menu button **/\n    var hideContext = function() {\n        context.material.opacity = (isMobileDevice()) ? 1.0 : 0.0;\n    };\n\n    /** Show the view cube menu button **/\n    var showContext = function() {\n        context.material.opacity = self.wantContextMenu ? 1.0 : 0.0;\n    };\n\n    /** Hide the home button **/\n    var hideHome = function() {\n        home.material.opacity = 0.0;\n    };\n\n    /** Show the home button **/\n    var showHome = function() {\n        home.material.opacity = self.wantHomeButton ? 1.0 : 0.0;\n    };\n\n    /* Public Methods */\n    /** Update the View Cube camera to a new camera view\n     * @public\n     * @this ViewCube\n     * @param {int[]} eye - client provided camera position (in their world coordinates)\n     * @param {int[]} centre - client provided pivot point or centre (where the camera is looking at in their world coordinates)\n     * @param {int[]} upVector - client provided up vector\n     */\n\n    /** Refresh height and width renderer sizes\n     * @public\n     * @this ViewCube\n     */\n    this.refreshCube = function () {\n        onWindowResize();\n    };\n\n    /** Set the size of the View Cube\n     * @public\n     * @this ViewCube\n     * @param {int} width - in pixels\n     * @param {int} height - in pixels\n     */\n    this.setSize = function (width, height) {\n        self.width = width;\n        self.height = height;\n\n        if(cubeContainer.children.length > 1){\n            for(var i = 1; i < cubeContainer.children.length; i++)\n                cubeContainer.children[i].style.bottom = (self.height/5).toString() + \"px\";\n        }\n\n        onWindowResize();\n    };\n\n    /** Option to turn on and off transparency on mouse out for the view cube\n     * @public\n     * @this ViewCube\n     * @param {boolean} transparent - true to use transparency, false to turn it off\n     */\n    this.useTransparency = function (transparent){\n        _transparent = transparent;\n        if(transparent) {\n            cubeContainer.onmouseover = mouseOverCube;\n            cubeContainer.onmousemove = mouseMoveOverCube;\n            cubeContainer.onmouseout = mouseOutCube;\n            mouseOutCube();\n        }\n        else {\n            cubeContainer.onmouseover = null;\n            cubeContainer.onmouseout = null;\n            cubeContainer.onmousemove = null;\n            cubeContainer.style.opacity = \"1.0\";\n        }\n    };\n\n    this.showTriad = function (show) {\n      if (show !== self.renderTriad) {\n        self.renderTriad = show;\n        requestAnimationFrame(self.render);\n      }\n    };\n\n    this.showCompass = function(show = true) {\n        this.initCompass();\n\n\n        if (self.renderCompass !== show) {\n            self.prevRenderCompass = self.renderCompass; // prevRenderCompass is used for \"Reset Orientation\" option\n            self.renderCompass = show;\n            // Move the controls to right positions\n            setControlsPositions();\n            requestAnimationFrame(self.render);\n        }\n    };\n\n    // North angle is the angle to viewcube's back face normal vector\n    this.setCompassRotation = function (newNorthAngle = 0) {\n        this.initCompass();\n\n        const toRotate = newNorthAngle - self.northAngle;\n\n        if (toRotate === 0) {\n            return;\n        }\n\n        self.northAngle = newNorthAngle;\n\n        // rotate about world Y which is the same as object Z\n        self.compassPointerMeshUp.rotateZ(toRotate);\n        self.compassPointerMeshDown.rotateZ(toRotate);\n\n        requestAnimationFrame(self.render);\n    };\n\n    this.initCompass = function () {\n        if (self.hasCompass) {\n            return; // already initialized\n        }\n\n        self.hasCompass = true;\n        self.northAngle = 0; // Angle of north in radians wrt front\n\n        let resRoot = 'res/textures/';\n        let getResourceUrl = Autodesk.Viewing.Private.getResourceUrl;\n        // create the mesh for compass and add it to compass scene\n        compassScene = new THREE.Scene();\n\n        // geometry and material\n        const planeSize = cubeSize * 2.9;\n        let compassGeom = new THREE.PlaneBufferGeometry(planeSize, planeSize, 2, 2);\n        let compassPointerMaterial = new MeshBasicMaterial({\n            color:0x000000,\n            side: THREE.DoubleSide,\n            map: loadTexture(getResourceUrl(resRoot + 'VCcompass-pointer-b.png')),\n            transparent: true\n        });\n        let compassBaseMaterial = new MeshBasicMaterial({\n            color:0x000000,\n            side: THREE.DoubleSide,\n            map: loadTexture(getResourceUrl(resRoot + 'VCcompass-base.png')),\n            transparent: true\n        });\n\n        // mesh\n        // We create two meshes for the pointer one on each side of the base mesh, because it causes flicker with transparency set\n        const compassPointerMeshUp = new THREE.Mesh(compassGeom, compassPointerMaterial);\n        const compassPointerMeshDown = new THREE.Mesh(compassGeom, compassPointerMaterial);\n        const compassBaseMesh = new THREE.Mesh(compassGeom, compassBaseMaterial);\n        self.compassPointerMeshUp = compassPointerMeshUp;\n        self.compassPointerMeshDown = compassPointerMeshDown;\n\n        const xRot = - Math.PI / 2;\n        compassBaseMesh.rotateX(xRot);\n        compassPointerMeshUp.rotateX(xRot);\n        compassPointerMeshDown.rotateX(xRot);\n\n        // Translate by world Y, which is object's Z after the rotation above\n        const yTran = -cubeSize * 0.5 - (Math.floor(cubeSize * 0.25 / 2) || 25);\n        compassBaseMesh.translateZ(yTran);\n        compassPointerMeshUp.translateZ(yTran + 0.1);\n        compassPointerMeshDown.translateZ(yTran - 0.1);\n\n        compassScene.add(compassBaseMesh);\n        compassScene.add(compassPointerMeshUp);\n        compassScene.add(compassPointerMeshDown);\n\n        requestAnimationFrame(self.render);\n    };\n\n    /**\n     * Emulates a mouseOver event (when `show=true`) to display the context menu\n     * affordance and make the viewcube render fully opaque. Invoking the method with\n     * `show=false` will emulate a mouseOut event, hiding the context menu affordance\n     * and making the cube transparent.\n     *\n     * @param {boolean} show - true to emulate a mouseOver event, false to emulate a mouseOut event.\n     */\n    this.showControls = function(show) {\n        if (show || show === undefined)\n          mouseOverCube();\n        else\n          mouseOutCube();\n    };\n\n    this.dtor = function() {\n        this.renderer = null;\n        _onViewTypeChangedCb = null;\n    };\n\n    this.refreshTexture = function(onTextureReady) {\n\n        // The face names texture is localized:\n        // Load in the faceMap textures for 6 faces\n        var getResourceUrl = Autodesk.Viewing.Private.getResourceUrl;\n        var locTexPath = this.localizeResourcePath || 'res/textures/';\n\n        var texture = new DDSLoader().load(getResourceUrl(locTexPath + 'VCcrossRGBA8small.dds'), onTextureReady);\n        texture.minFilter = texture.maxFilter = THREE.LinearFilter;\n\n        this.texture && this.texture.dispose();\n        this.texture = texture;\n\n        var material = this.material;\n        if (!material) {\n            var shader = ViewCubeShader;\n            material = createShaderMaterial(shader);\n            material.depthWrite = false;\n            this.material = material;\n        }\n\n        material.uniforms[ \"tCube\" ].value = texture;\n        return material;\n    };\n\n    this.localize = function() {\n        const global = getGlobal();\n        this.localizeResourcePath = global.LOCALIZATION_REL_PATH;\n        this.refreshTexture( ()=>{\n            // Must delay a frame for the case when the texture is cached by the browser.\n            requestAnimationFrame(this.render);\n        });\n    };\n\n    /* Build the cube */\n    Init();\n}\n\navp.ViewCube = ViewCube;","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[6].use[2]!../../node_modules/css-unicode-loader/index.js!../../node_modules/sass-loader/dist/cjs.js!./ViewCubeUi.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[6].use[2]!../../node_modules/css-unicode-loader/index.js!../../node_modules/sass-loader/dist/cjs.js!./ViewCubeUi.css\";\n       export default content && content.locals ? content.locals : undefined;\n","'use strict';\n\nimport { ViewCube } from './ViewCube';\nimport './ViewCubeUi.css';\n\nconst av = Autodesk.Viewing;\nconst avp = Autodesk.Viewing.Private;\nconst global = av.getGlobal();\n\n\n/**\n * Create the UI for the view cube.\n *\n * The extension id is: `Autodesk.ViewCubeUi`\n *\n * @example\n *    viewer.loadExtension('Autodesk.ViewCubeUi');\n *\n * @see {@link Autodesk.Viewing.Extension} for common inherited methods.\n * @memberof Autodesk.Viewing.Extensions\n * @alias Autodesk.Viewing.Extensions.ViewCubeUi\n * @class\n * @param {Autodesk.Viewing.Viewer3D} viewer - Viewer instance.\n * @param {object} options - Not used.\n */\nexport function ViewCubeUi(viewer, options) {\n    av.Extension.call(this, viewer, options);\n    // Keep the constructor LEAN\n    // The actual initialization happens in create()\n    this.container = null;\n    this.cube = null; // Autocam.ViewCube\n    this.viewcube = null;\n    this.homeViewContainer = null;\n    this._created = false;\n    this._initTriadVisibility = false;\n    this.refreshCube = this.refreshCube.bind(this);\n    this.displayViewCube = this.displayViewCube.bind(this);\n    this.setViewType = this.setViewType.bind(this);\n    this._updateView = this._updateView.bind(this);\n    this._onModelAdded = this._onModelAdded.bind(this);\n}\n\nViewCubeUi.prototype = Object.create(Autodesk.Viewing.Extension.prototype);\nViewCubeUi.prototype.constructor = ViewCubeUi;\n\nObject.assign(ViewCubeUi.prototype, {\n    /**\n     * @private\n     */\n    load: function() {\n        this.create();\n\n        this._displayViewCube(this.viewer.impl.is2d);\n\n        this.localize();\n\n        // Dispatch a view cube created event\n        this.viewer.dispatchEvent({type: av.VIEW_CUBE_CREATED_EVENT});\n\n        // Refresh the cube when resizing\n        this.viewer.addEventListener(av.VIEWER_RESIZE_EVENT, this.refreshCube);\n\n        // Register the displayViewCube function as the callback for the viewCube preference.\n        this.viewer.prefs.addListeners(avp.Prefs3D.VIEW_CUBE, this.displayViewCube);\n\n        // Change the view when the VIEW_TYPE preference is set.\n        this.viewer.prefs.addListeners(avp.Prefs3D.VIEW_TYPE, this.setViewType);\n\n        if (this.viewer.model) {\n            // Add first model according to the current mode (2D or 3D)\n            const models = this.viewer.getVisibleModels().filter(model => !!this.viewer.impl.is2d === model.is2d());\n            this._onModelAdded({ model: models[0] });\n        }\n\n        // Register an event handler to update the view cube (not just once for model unloading/loading use cases)\n        this.viewer.addEventListener(av.MODEL_ADDED_EVENT, this._onModelAdded);\n\n        // This needs to be called to ensure that the preference callback is called.\n        // By the time the viewer.setProfile function is called in the viewer (which will set the preferences), this extension is not loaded.\n        this._setDefaultView();\n\n        return true;\n    },\n\n    /**\n     * Destroy the view cube.\n     *\n     * @private\n     */\n    unload: function() {\n        this.viewer.prefs.removeListeners(avp.Prefs3D.VIEW_CUBE, this.displayViewCube);\n        this.viewer.prefs.removeListeners(avp.Prefs3D.VIEW_TYPE, this.setViewType);\n        this.viewer.removeEventListener(av.VIEWER_RESIZE_EVENT, this.refreshCube);\n        this.viewer.removeEventListener(av.MODEL_ADDED_EVENT, this._onModelAdded);\n\n        if (this.container) {\n            this.viewer.container.removeChild(this.container);\n            this.viewcube = null;\n        }\n\n        if (this.cube) {\n            this.cube.dtor();\n            this.cube = null;\n        }\n\n        this.homeViewContainer = null;\n        this.hideHomeViewMenu = null;\n        this.viewer = null;\n        return true;\n    },\n\n    /**\n     * Initialize the view cube and the home button.\n     * This method is called when the extension is loaded.\n     */\n    create: function() {\n        if (this._created)\n            return;\n        this.initContainer();\n        this.initHomeButton();\n        this._created = true;\n    },\n\n    /**\n     * @private\n     */\n    initContainer: function() {\n        var _document = this.getDocument();\n        this.container = _document.createElement('div');\n        this.container.className = \"viewcubeWrapper\";\n        this.viewer.container.appendChild(this.container);\n    },\n\n    /**\n     * @private\n     */\n    initHomeButton: function () {\n        if (this.homeViewContainer) {\n            return;\n        }\n\n        var _document = this.getDocument();\n        var homeViewContainer = _document.createElement('div');\n        homeViewContainer.className = \"homeViewWrapper\";\n\n        this.container.appendChild(homeViewContainer);\n        this.homeViewContainer = homeViewContainer;\n\n        var self = this;\n        homeViewContainer.addEventListener(\"click\", function() {\n            self.viewer.navigation.setRequestHomeView(true);\n        });\n    },\n\n    /**\n     * Show or hide the view cube element. This also applies to the home button.\n     *\n     * @param {boolean} show - If set to false, the view cube and the home button will become invisible.\n     * @alias Autodesk.Viewing.Extensions.ViewCubeUi#setVisible\n     */\n    setVisible: function (show) {\n        this.container.style.display = show ? 'block' : 'none';\n    },\n\n    /**\n     * Update the VIEW_TYPE preference's default value.\n     *\n     * @private\n     */\n    _setDefaultView: function() {\n        if (this.viewer.impl.is2d) return;\n\n        if (this.viewer.impl.getModelCamera(this.viewer.model)) {\n            return;\n        }\n\n        this.viewer.prefs.dispatchEvent(avp.Prefs3D.VIEW_TYPE);\n    },\n\n    /**\n     * Set the viewType for the VIEW_TYPE preference\n     *\n     * @param {number} viewType - view index.\n     * @private\n     */\n    _updateView: function(viewType) {\n        if (this.viewer.impl.is2d) return;\n\n        if (!this.viewer.prefs.set(avp.Prefs3D.VIEW_TYPE, viewType)) {\n            // If the value was not changed, check with autocam as well, in case it was changed programmatically\n            const autocamViewType = this.viewer.autocam.getViewType();\n            if (viewType !== autocamViewType) {\n                this.viewer.prefs.dispatchEvent(avp.Prefs3D.VIEW_TYPE);\n            }\n        }\n    },\n\n    /**\n     * Set the viewCube view type.\n     *\n     * @param {string} viewType - 1 for orthographic, 2 for perspective, 3 for orthoFaces\n     */\n    setViewType: function(viewType) {\n        if (this.viewer.impl.is2d || !this.cube) return;\n        this.cube.setViewType(viewType);\n    },\n\n    /**\n     * Show the x,y,z axes of the view cube.\n     *\n     * @param {boolean} show - if set to true, the view cube axes will be shown.\n     * @alias Autodesk.Viewing.Extensions.ViewCubeUi#showTriad\n     */\n    showTriad: function (show) {\n        if (this.cube)\n            this.cube.showTriad(show);\n        else\n            this._initTriadVisibility = show;\n    },\n\n    /**\n     * Set the face of ViewCube and apply camera transformation according to it.\n     *\n     * @param {string} face - The face name of ViewCube. The name can contain multiple face names,\n     * the format should be `\"[front/back], [top/bottom], [left/right]\"`.\n     *\n     * @example\n     *    viewer.setViewCube('front top right');\n     *    viewer.setViewCube('bottom left');\n     *    viewer.setViewCube('back');\n     *\n     * @alias Autodesk.Viewing.Extensions.ViewCubeUi#setViewCube\n     */\n    setViewCube: function(face) {\n        if (this.cube) {\n            this.cube.cubeRotateTo(face);\n        }\n    },\n\n    /**\n     * Hides the Home button next to the ViewCube.\n     *\n     * @param {boolean} show\n     * @alias Autodesk.Viewing.Extensions.ViewCubeUi#displayHomeButton\n     */\n    displayHomeButton: function(show) {   // show/hide home button.\n        if(this.homeViewContainer)\n            this.homeViewContainer.style.display = show ? '' : 'none';\n    },\n\n    /**\n     * Display the view cube. This will not effect the home button.\n     *\n     * @param {boolean} display - if set to false the view cube element will be invisible\n     * @param {boolean} updatePrefs - update the view cube preference\n     * @alias Autodesk.Viewing.Extensions.ViewCubeUi#displayViewCube\n     */\n    displayViewCube: function (display, updatePrefs) {\n        if (updatePrefs)\n            this.viewer.prefs.set(avp.Prefs3D.VIEW_CUBE, display);\n\n        if (display && !this.cube && !this.viewer.impl.is2d) {\n            var _document = this.getDocument();\n            this.viewcube = _document.createElement(\"div\");\n            this.viewcube.className = \"viewcube\";\n            this.container.appendChild(this.viewcube);\n            this.cube = new ViewCube(\"cube\", this.viewer.autocam, this.viewcube, global.LOCALIZATION_REL_PATH);\n            this.cube.registerOnViewTypeChangedCb(this._updateView);\n            this.cube.setGlobalManager(this.globalManager);\n\n            // Move sibling on top of the viewcube.\n            this.container.appendChild(this.homeViewContainer);\n\n            if (this._initTriadVisibility) {\n                this.showTriad(true);\n            }\n            delete this._initTriadVisibility;\n        }\n        else if (!this.cube) {\n            this._positionHomeButton();\n            return; //view cube is not existent and we want it off? Just do nothing.\n        }\n\n        this.viewcube.style.display = (display ? \"block\" : \"none\");\n\n        this._positionHomeButton();\n\n        if( display ) {\n            this.viewer.autocam.refresh();\n        }\n    },\n\n    /**\n     * Localize the view cube\n     *\n     * @alias Autodesk.Viewing.Extensions.ViewCubeUi#localize\n     */\n    localize: function() {\n        this.cube && this.cube.localize();\n    },\n\n    /**\n     * @param {boolean} [show=true] show the compass\n     */\n    showCompass: function (show = true) {\n        this.cube && this.cube.showCompass(show);\n    },\n\n    /**\n     *\n     * @param {number} [radians=0] // Angle of north in radians wrt front\n     */\n    setCompassRotation: function (radians = 0) {\n        this.cube && this.cube.setCompassRotation(radians);\n    },\n\n    /**\n     * @param model\n     * @private\n     */\n    _initCompass: function (model) {\n\n        // calculate the north orientation angle\n        const data = model && model.getData();\n        const metadata = data && data.metadata;\n        let projectNorthVector = metadata && metadata['world north vector'];\n        projectNorthVector = projectNorthVector && projectNorthVector.XYZ;\n        projectNorthVector = projectNorthVector && new THREE.Vector3(projectNorthVector[0], projectNorthVector[1], projectNorthVector[2]);\n\n        // Skip initialization if the model doesn't have the north vector\n        if (!projectNorthVector) {\n            return;\n        }\n\n        // Calculate the N orientation\n\n        //       Front Direction (usually same as project or world north)\n        //             ^\n        //             |\n        //             |\n        //  left <---- o  ----> Right\n        //           /\n        //          /\n        //         /\n        //True North\n\n        const customValues = metadata && metadata['custom values'];\n\n        // // If the model has a nwModelToWorldTransform, we can calculate the angle to 'true north'.\n        // if (customValues && customValues.nwModelToWorldTransform) {\n        //     const m = customValues.nwModelToWorldTransform;\n        //     const right = new THREE.Vector3(m[0], m[1], m[2]);\n        //     const angle = new THREE.Vector3(1, 0, 0).angleTo(right);\n        //     customValues.angleToTrueNorth = 360.0 - angle *(180.0 / Math.PI);\n        // }\n\n        // frontDirection is the direction looking into the front face of the cube\n        const frontDirection = this.viewer.autocam.sceneFrontDirection.clone();\n        const upVector = this.viewer.autocam.sceneUpDirection.clone();\n        let cross = new THREE.Vector3();\n        cross.crossVectors(frontDirection, projectNorthVector);\n        const projectNorthAngle = projectNorthVector.angleTo(frontDirection) * (cross.dot(upVector) < 0 ? -1 : 1);\n        let trueNorthAngle = (customValues && customValues.angleToTrueNorth) || 0;\n        trueNorthAngle = trueNorthAngle * (Math.PI / 180);\n\n        // Project North + True North will give us the final angle to point the north\n        // Do not rotate the compass in aggregated view which sets applyRefPoint\n        const radians = data?.loadOptions?.applyRefPoint ? 0 : projectNorthAngle + trueNorthAngle;\n        this.cube.initCompass();\n        this.setCompassRotation(radians);\n\n        // Only show compass if preference is set\n        this.showCompass(!!this.viewer.prefs.get(avp.Prefs3D.VIEW_CUBE_COMPASS));\n    },\n\n    /**\n     * @param is2d\n     * @private\n     */\n    _displayViewCube: function(is2d) {\n        // Do not display the ViewCube for 2d models\n        const display = is2d ? false : this.viewer.prefs.get(avp.Prefs3D.VIEW_CUBE);\n        this.displayViewCube(display);\n    },\n\n    /**\n     * @param event\n     * @private\n     */\n    _onModelAdded: function(event) {\n        // As soon as we enter 2D mode, hide the viewcube\n        this._displayViewCube(this.viewer.impl.is2d);\n\n        if (this.cube && !this.cube.hasCompass && !this.viewer.impl.is2d) {\n            this._initCompass(event.model);\n        }\n    },\n\n    /**\n     * @private\n     */\n    _positionHomeButton: function () {\n        if (this.homeViewContainer) {\n            var viewCubeVisible = this.cube && this.viewcube && (this.viewcube.style.display === 'block');\n            if (viewCubeVisible) {\n                this.homeViewContainer.classList.remove('no-viewcube');\n            } else {\n                this.homeViewContainer.classList.add('no-viewcube');\n            }\n        }\n    },\n\n    /**\n     * Refresh the view cube\n     *\n     * @alias Autodesk.Viewing.Extensions.ViewCubeUi#refreshCube\n     */\n    refreshCube: function() {\n        this.cube && this.cube.refreshCube();\n    },\n});\n\n\n/**\n * Register the extension with the extension manager.\n */\nav.theExtensionManager.registerExtension('Autodesk.ViewCubeUi', ViewCubeUi);\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","exports","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","_k","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","stylesInDOM","getIndexByIdentifier","identifier","result","modulesToDom","options","idCountMap","identifiers","base","count","indexByIdentifier","obj","css","sourceMap","references","updater","addElementStyle","byIndex","splice","api","domAPI","update","newObj","remove","lastIdentifiers","newList","index","newLastIdentifiers","_i","_index","memo","insert","style","target","styleTarget","document","querySelector","window","HTMLIFrameElement","contentDocument","head","e","getTarget","Error","appendChild","element","createElement","setAttributes","attributes","styleElement","nonce","setAttribute","insertStyleElement","styleTagTransform","apply","parentNode","removeChild","removeStyleElement","styleSheet","cssText","firstChild","createTextNode","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","nc","THREE","ViewCubeShader","uniforms","type","vertexShader","fragmentShader","av","Autodesk","Viewing","avp","Private","DDSLoader","createShaderMaterial","ShaderUtils","WebGLRenderer","logger","isMobileDevice","errorCodeString","ErrorCodes","endpoint","getGlobal","GlobalManagerMixin","EPSILON","MeshBasicMaterial","equalsOne","Math","abs","isAxisAlignedUnit","vec3","x","y","z","COLOR_ARROW","Triad","triadLength","offSet","triadColors","tempMatrix","sprites","spriteGeometry","getTextSprite","text","color","textCanvas","width","height","ctx2d","getContext","font","fillStyle","textAlign","textBaseline","fillText","textTexture","needsUpdate","side","transparent","depthWrite","depthTest","triadScene","triadLabelScene","triadGeom","xAxis","yAxis","zAxis","applyMatrix4","makeTranslation","triadThickness","makeRotationZ","PI","makeRotationY","add","xSprite","ySprite","zSprite","positionLabels","quaternion","spriteSecondaryAxisOffSet","spriteMainAxisOffset","position","set","applyQuaternion","orient","sceneUp","sceneFront","up","front","equals","clone","upAxis","secondaryAxis","tertiaryAxis","upAngle","alignmentAngle","frontAngle","tempQuaternion","rotationQuaternion","rotationAxis","normalize","setFromAxisAngle","multiply","setRotationFromQuaternion","getSprites","ViewCube","tagId","autocam","cubeContainer","localizeResourcePath","self","cam","camera","setCube","viewDir","center","sub","sceneRight","sceneFrontDirection","cross","sceneUpDirection","dotUp","dot","dotFront","dotRight","currentFace","showTriad","shadowScene","cubeScene","gridScene","lineScene","triad","controlScene","compassScene","controlCamera","cube","line","home","shadow","context","edgeNames","cornerNames","menuOptionList","menuEnableList","menuStateCallbackList","orthographicFaces","isPerspective","pcam","ocam","fov","aspect","copy","lookAt","arrowGroup","rollLeftOffset","rollRightOffset","rollOffset","homeOffset","menuOffset","gridMeshes","arrowBuffer","intersectsFace","controlBuffer","cubeBuffer","INTERSECTED","INTERSECTED_F","INTERSECTED_C","cubeSize","loadedTextureCount","_orthogonalView","_havePointerLockFeature","_havePointerLock","_pointerLockMoveBugSPK865","_isChrome","navigator","userAgent","search","_isWindows","platform","_dragged","_transparent","_onViewTypeChangedCb","changingTextures","animSpeed","animate","compass","viewScaleFactorCompass","viewScale","draggable","wantHomeButton","wantRollArrows","wantContextMenu","inactiveOpacity","getPosition","rect","getBoundingClientRect","left","top","w","h","pointerLockChange","preventDefault","stopPropagation","_document","getDocument","pointerLockElement","mozPointerLockElement","webkitPointerLockElement","setControlsPositions","renderCompass","rollMesh","rollLeftMesh","rollRightMesh","contextMesh","mouseOverCube","navApi","isActionEnabled","opacity","requestAnimationFrame","render","mouseMoveOverCube","event","viewCubeMenuOpen","max","clientX","clientY","min","sqrt","mouseOutCube","loadTexture","url","image","Image","_window","getWindow","useCredentials","getUseCredentials","indexOf","location","host","crossOrigin","texture","onload","src","createCubeGrid","currentGridLength","cubeCorners","cubeEdges","buildCubeCorner","buildCubeEdge","buildCubeFace","name","findPickingIntersects","pickingVector","intersectionBuffer","raycaster","direction","unproject","negate","intersectObjects","getPickVector","getEventCoords","coords","touches","pageX","pageY","screenX","screenY","movementX","prevX","movementY","prevY","which","getUseLeftHandedInput","prevCoords","mozMovementX","webkitMovementX","mozMovementY","webkitMovementY","onDocumentMouseDown","currentlyAnimating","removeEventListener","onDocumentMouseMove","addDocumentEventListener","onDocumentMouseUp","getUsePivotAlways","pivot","setPivotPoint","setPivotSetFlag","rightMouse","error","VIEWER_INTERNAL_ERROR","hideArrows","startInteraction","onDocumentMouseMoveCube","requestPointerLock","removeDocumentEventListener","showPivot","currentCursor","orbit","startCursor","startState","endMouseUp","stillNeedUp","addEventListener","exitPointerLock","registerOnViewTypeChangedCb","cb","Function","setViewType","viewType","VIEW_TYPES","ORTHOGRAPHIC","PERSPECTIVE","PERSPECTIVE_ORTHO_FACES","cubeIntersects","arrowIntersects","controlIntersects","endInteraction","menuOrigin","menuSize","menuItemNumber","floor","log","action","track","aggregate","goHome","setCurrentViewAsHome","resetHome","setCurrentViewAsFront","setCurrentViewAsTop","resetOrientation","removeDropdownMenu","mouseMoveSave","processMouseMove","drawDropdownMenu","face","FACES","orientation","getOrientation","order","right","down","back","bottom","f","object","calculateCubeTransform","elapsedTime","sphericallyInterpolateTransition","clockwise","destination","worldUp","isOrtho","dir","multiplyScalar","goToView","cubeRotateTo","setCameraOrtho","intersectsFaces","material","setHex","children","onWindowResize","offsetWidth","offsetHeight","updateProjectionMatrix","topFov","bottomFov","leftFov","rightFov","devicePixelRatio","renderer","getPixelRatio","setPixelRatio","setSize","rotationX","rotationY","edge","square","masterCubeSize","geo","v0","v1","v2","v3","v4","vertices","Float32Array","Uint16Array","makeRotationX","computeVertexNormals","rotationZ","e0","e1","e2","e3","e4","e5","e6","e7","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","c10","c11","changeBasisWorldToStandard","V","worldD","cubeFront","worldU","worldR","answer","scale","upDir","spriteRotationMatrix","checkControlVisibility","renderTriad","setRotationFromMatrix","clear","getScreenShot","Promise","resolve","reject","canvas","ctx","fillRect","domElement","toBlob","vcBlob","img","URL","createObjectURL","drawImage","revokeObjectURL","blob","isFaceView","showArrows","hideContext","showContext","hideHome","showHome","refreshCube","useTransparency","onmouseover","onmousemove","onmouseout","show","showCompass","arguments","initCompass","prevRenderCompass","setCompassRotation","newNorthAngle","toRotate","northAngle","compassPointerMeshUp","rotateZ","compassPointerMeshDown","hasCompass","resRoot","getResourceUrl","planeSize","compassGeom","compassPointerMaterial","compassBaseMaterial","compassBaseMesh","xRot","rotateX","yTran","translateZ","showControls","dtor","refreshTexture","onTextureReady","locTexPath","load","minFilter","maxFilter","dispose","localize","global","LOCALIZATION_REL_PATH","bounds","filteringType","cubeGeometry","cubeLine","borderTexture","Array","arrowDist","arrowGeo","arrowMaterial1","arrowMaterial2","arrowMaterial3","arrowMaterial4","arrowSelection","arrowSelectionMat","upArrow","upArrowSelect","downArrow","downArrowSelect","rotation","rightArrow","rightArrowSelect","leftArrow","leftArrowSelect","homeGeo","homeMaterial","rollArrows","rollMaterial","roll","rollSelectionLeft","rollSelectionLeftMat","rollLeft","rollSelectionRight","rollSelectionRightMat","rollRight","contextGeo","contextMaterial","shadowGeo","shadowToCubeDist","vertices2","shadowMat","toUpperCase","alpha","antialias","warn","autoClear","sortObjects","mozExitPointerLock","webkitExitPointerLock","mozRequestPointerLock","webkitRequestPointerLock","Init","locals","ViewCubeUi","viewer","Extension","container","viewcube","homeViewContainer","_created","_initTriadVisibility","bind","displayViewCube","_updateView","_onModelAdded","create","constructor","assign","_displayViewCube","impl","is2d","dispatchEvent","VIEW_CUBE_CREATED_EVENT","VIEWER_RESIZE_EVENT","prefs","addListeners","Prefs3D","VIEW_CUBE","VIEW_TYPE","model","models","getVisibleModels","filter","MODEL_ADDED_EVENT","_setDefaultView","unload","removeListeners","hideHomeViewMenu","initContainer","initHomeButton","className","navigation","setRequestHomeView","setVisible","display","getModelCamera","getViewType","setViewCube","displayHomeButton","updatePrefs","_positionHomeButton","setGlobalManager","globalManager","refresh","radians","_initCompass","_data$loadOptions","getData","metadata","projectNorthVector","XYZ","Vector3","customValues","frontDirection","upVector","crossVectors","projectNorthAngle","angleTo","trueNorthAngle","angleToTrueNorth","loadOptions","applyRefPoint","VIEW_CUBE_COMPASS","classList","theExtensionManager","registerExtension"],"sourceRoot":""}