/*!
 * LMV v7.105.0
 *
 * Copyright 2025 Autodesk, Inc.
 * All rights reserved.
 *
 * This computer source code and related instructions and comments are the
 * unpublished confidential and proprietary information of Autodesk, Inc.
 * and are protected under Federal copyright and state trade secret law.
 * They may not be disclosed to, copied or used by any third party without
 * the prior written consent of Autodesk, Inc.
 *
 * Autodesk Viewer SDK Usage Limitations:
 *
 * The Autodesk Viewer SDK JavaScript must be delivered from an
 * Autodesk-hosted URL.
 */(()=>{var e={1476:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var n=i(1354),r=i.n(n),a=i(6314),o=i.n(a)()(r());o.push([e.id,".adsk-viewing-viewer .hyperlink-tooltip{display:block;position:absolute;left:0px;top:0px;padding:4px;background-color:rgba(196,196,196,.8);box-shadow:0px 1px 3px rgba(0,0,0,.3);font-size:12px;text-align:center;line-height:1.2;white-space:nowrap}.adsk-viewing-viewer .hyperlink-container{position:absolute;width:250px;z-index:10}.adsk-viewing-viewer .hyperlink-container-triangle{position:relative;display:inline-block;width:0;height:0;border-top:11px solid rgba(0,0,0,0);border-bottom:11px solid rgba(0,0,0,0);z-index:3}.adsk-viewing-viewer .hyperlink-panel{display:inline-block;width:300px}.adsk-viewing-viewer .hyperlink-panel.thumbnail{width:220px}.adsk-viewing-viewer .hyperlink-panel-title{padding:10px 5px 5px 10px}.adsk-viewing-viewer .hyperlink-panel-thumbnail{display:block;background:#fff;margin:3px 0px 10px 10px;width:200px;height:200px}.adsk-viewing-viewer .hyperlink-panel-external-link{font-size:12px;margin:5px 10px 10px 10px;padding:5px 5px 5px 5px;max-height:300px;word-break:break-all;-webkit-user-select:text;-khtml-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.adsk-viewing-viewer .hyperlink-panel-view-button{background-color:#6892c6;text-align:center;padding:7px 0px;margin:0px 10px 10px 10px;border-radius:1px;-moz-border-radius:1px;-webkit-border-radius:1px;cursor:pointer}.adsk-viewing-viewer .hyperlink-back{position:absolute;width:106px;height:38px;left:10px;top:10px}.adsk-viewing-viewer .hyperlink-back-button{top:0;left:0;width:70%;cursor:pointer;text-align:center;position:absolute}.adsk-viewing-viewer .docking-panel-close.hyperlink-back-closer{width:30%;cursor:pointer;background-position:3px 12px;height:100%}.adsk-viewing-viewer .viewer-ext-hyperlink-thumbnail-spinner{position:absolute;top:104px;left:77px;animation:loading-spinner-perpetual-motion 1s infinite linear;width:60px}","",{version:3,sources:["webpack://./extensions/Hyperlink/Hyperlink.css"],names:[],mappings:"AAAA,wCAAwC,aAAa,CAAC,iBAAiB,CAAC,QAAQ,CAAC,OAAO,CAAC,WAAW,CAAC,qCAAqC,CAAC,qCAAqC,CAAC,cAAc,CAAC,iBAAiB,CAAC,eAAe,CAAC,kBAAkB,CAAC,0CAA0C,iBAAiB,CAAC,WAAW,CAAC,UAAU,CAAC,mDAAmD,iBAAiB,CAAC,oBAAoB,CAAC,OAAO,CAAC,QAAQ,CAAC,mCAAmC,CAAC,sCAAsC,CAAC,SAAS,CAAC,sCAAsC,oBAAoB,CAAC,WAAW,CAAC,gDAAgD,WAAW,CAAC,4CAA4C,yBAAyB,CAAC,gDAAgD,aAAa,CAAC,eAAe,CAAC,wBAAwB,CAAC,WAAW,CAAC,YAAY,CAAC,oDAAoD,cAAc,CAAC,yBAAyB,CAAC,uBAAuB,CAAC,gBAAgB,CAAC,oBAAoB,CAAC,wBAAwB,CAAC,uBAAuB,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,kDAAkD,wBAAwB,CAAC,iBAAiB,CAAC,eAAe,CAAC,yBAAyB,CAAC,iBAAiB,CAAC,sBAAsB,CAAC,yBAAyB,CAAC,cAAc,CAAC,qCAAqC,iBAAiB,CAAC,WAAW,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAC,4CAA4C,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,gEAAgE,SAAS,CAAC,cAAc,CAAC,4BAA4B,CAAC,WAAW,CAAC,6DAA6D,iBAAiB,CAAC,SAAS,CAAC,SAAS,CAAC,6DAA6D,CAAC,UAAU",sourcesContent:[".adsk-viewing-viewer .hyperlink-tooltip{display:block;position:absolute;left:0px;top:0px;padding:4px;background-color:rgba(196,196,196,.8);box-shadow:0px 1px 3px rgba(0,0,0,.3);font-size:12px;text-align:center;line-height:1.2;white-space:nowrap}.adsk-viewing-viewer .hyperlink-container{position:absolute;width:250px;z-index:10}.adsk-viewing-viewer .hyperlink-container-triangle{position:relative;display:inline-block;width:0;height:0;border-top:11px solid rgba(0,0,0,0);border-bottom:11px solid rgba(0,0,0,0);z-index:3}.adsk-viewing-viewer .hyperlink-panel{display:inline-block;width:300px}.adsk-viewing-viewer .hyperlink-panel.thumbnail{width:220px}.adsk-viewing-viewer .hyperlink-panel-title{padding:10px 5px 5px 10px}.adsk-viewing-viewer .hyperlink-panel-thumbnail{display:block;background:#fff;margin:3px 0px 10px 10px;width:200px;height:200px}.adsk-viewing-viewer .hyperlink-panel-external-link{font-size:12px;margin:5px 10px 10px 10px;padding:5px 5px 5px 5px;max-height:300px;word-break:break-all;-webkit-user-select:text;-khtml-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.adsk-viewing-viewer .hyperlink-panel-view-button{background-color:#6892c6;text-align:center;padding:7px 0px;margin:0px 10px 10px 10px;border-radius:1px;-moz-border-radius:1px;-webkit-border-radius:1px;cursor:pointer}.adsk-viewing-viewer .hyperlink-back{position:absolute;width:106px;height:38px;left:10px;top:10px}.adsk-viewing-viewer .hyperlink-back-button{top:0;left:0;width:70%;cursor:pointer;text-align:center;position:absolute}.adsk-viewing-viewer .docking-panel-close.hyperlink-back-closer{width:30%;cursor:pointer;background-position:3px 12px;height:100%}.adsk-viewing-viewer .viewer-ext-hyperlink-thumbnail-spinner{position:absolute;top:104px;left:77px;animation:loading-spinner-perpetual-motion 1s infinite linear;width:60px}"],sourceRoot:""}]);const l=o},6314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",n=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),n&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),n&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,n,r,a){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(n)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(o[s]=!0)}for(var p=0;p<e.length;p++){var c=[].concat(e[p]);n&&o[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),i&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=i):c[2]=i),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),t.push(c))}},t}},1354:e=>{"use strict";e.exports=function(e){var t=e[1],i=e[3];if(!i)return t;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),a="/*# ".concat(r," */");return[t].concat([a]).join("\n")}return[t].join("\n")}},5072:e=>{"use strict";var t=[];function i(e){for(var i=-1,n=0;n<t.length;n++)if(t[n].identifier===e){i=n;break}return i}function n(e,n){for(var a={},o=[],l=0;l<e.length;l++){var s=e[l],p=n.base?s[0]+n.base:s[0],c=a[p]||0,h="".concat(p," ").concat(c);a[p]=c+1;var d=i(h),u={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==d)t[d].references++,t[d].updater(u);else{var A=r(u,n);n.byIndex=l,t.splice(l,0,{identifier:h,updater:A,references:1})}o.push(h)}return o}function r(e,t){var i=t.domAPI(t);i.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;i.update(e=t)}else i.remove()}}e.exports=function(e,r){var a=n(e=e||[],r=r||{});return function(e){e=e||[];for(var o=0;o<a.length;o++){var l=i(a[o]);t[l].references--}for(var s=n(e,r),p=0;p<a.length;p++){var c=i(a[p]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}a=s}}},7659:e=>{"use strict";var t={};e.exports=function(e,i){var n=function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},5056:(e,t,i)=>{"use strict";e.exports=function(e){var t=i.nc;t&&e.setAttribute("nonce",t)}},7825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(i){!function(e,t,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var r=void 0!==i.layer;r&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,r&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var a=i.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,i)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={id:n,exports:{}};return e[n](a,a.exports,i),a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nc=void 0;var n={};(()=>{"use strict";i.r(n),i.d(n,{HyperlinkExtension:()=>N});var e=AutodeskNamespace("Autodesk.Viewing.Extensions.Hyperlink"),t=Autodesk.Viewing,r=Autodesk.Viewing.Private;function a(e,i,n,a,o,l,s,p,c,h){var d=this;this.viewer=i,this.setGlobalManager(i.globalManager);var u=null;c&&(u=c.data);const A=this.getDocument();if(this.container=A.createElement("div"),this.container.className="hyperlink-container",i.container.appendChild(this.container),this.container.style.left=n.x+"px",this.container.style.top=n.y-70+"px",this.intersectPoint=a,this.dbId=p,this.triangle=A.createElement("div"),this.triangle.classList.add("hyperlink-container-triangle"),this.container.appendChild(this.triangle),this.panel=A.createElement("div"),this.panel.classList.add("docking-panel"),this.panel.classList.add("docking-panel-container-solid-color-a"),this.panel.classList.add("hyperlink-panel"),this.container.appendChild(this.panel),this.title=A.createElement("div"),this.title.className="hyperlink-panel-title",o?this.title.textContent=o:(this.title.setAttribute("data-i18n","External Link"),this.title.textContent=t.i18n.translate("External Link")),this.panel.appendChild(this.title),u){this.panel.classList.add("thumbnail"),this.thumbnail=A.createElement("img"),this.thumbnail.className="hyperlink-panel-thumbnail";var v=A.createElement("img");v.src=r.getResourceUrl("res/ui/spinner.png"),v.classList.add("viewer-ext-hyperlink-thumbnail-spinner"),this.panel.appendChild(v),this.spinnerDiv=v,h(p,c,(function(e){d.spinnerDiv.style.display="none",e&&(d.thumbnail.src=e)})),this.panel.appendChild(this.thumbnail)}else this.panel.classList.add("link"),this.externalLink=A.createElement("div"),this.externalLink.className="hyperlink-panel-external-link",this.externalLink.textContent=l,this.panel.appendChild(this.externalLink);this.viewButton=A.createElement("div"),this.viewButton.className="docking-panel-primary-button",this.viewButton.setAttribute("data-i18n","View"),this.viewButton.textContent=t.i18n.translate("View"),this.panel.appendChild(this.viewButton),this.viewButton.addEventListener("click",(function(){d.uninitialize(),e.panel=null,i.__hyperlinkBack&&(i.__hyperlinkBack.uninitialize(),i.__hyperlinkBack=null);var n=i.model.getDocumentNode();e.navigateToLink(l,c),u&&i.dispatchEvent({type:t.HYPERLINK_NAVIGATE,data:{node:n}})})),this.triangle.style.bottom=this.container.clientHeight-85+"px",this.boundsCheck()}t.GlobalManagerMixin.call(a.prototype),a.prototype.uninitialize=function(){this.viewer.container.removeChild(this.container),this.container=null},a.prototype.boundsCheck=function(){var e=this.viewer.navigation.getScreenViewport(),t=this.container.clientWidth,i=this.container.clientHeight,n=parseInt(this.container.style.left,10),r=parseInt(this.container.style.top,10),a=n,o=r;n<0&&(a=0),r<0&&(o=0),e.width<n+t&&(a=e.width-t),e.height<r+i&&(o=e.height-i);var l=this.viewer.navigation.getEyeVector().length(),s=this.viewer.impl.clientToViewport(n,r),p=this.viewer.impl.clientToViewport(a,o);s.subVectors(s,p),this.viewer.navigation.panRelative(s.x/2,s.y/2,l),this.container.style.left=a+"px",this.container.style.top=o+"px"},a.prototype.updatePosition=function(){var e=this.viewer.navigation.getCamera(),t=this.viewer.navigation.getScreenViewport(),i=(new THREE.Vector3).copy(this.intersectPoint);i.project(e);var n=Math.round((i.x+1)/2*t.width),r=Math.round((1-i.y)/2*t.height);this.container.style.left=n+"px",this.container.style.top=r-70+"px"},e.HyperlinkPanel=a;var o=Autodesk.Viewing;class l{constructor(e,t,i){this.viewer=t,this.setGlobalManager(t.globalManager);const n=this.getDocument();this.container=n.createElement("div"),this.container.classList.add("docking-panel-primary-button"),this.container.classList.add("hyperlink-back"),t.container.appendChild(this.container),this.backButton=n.createElement("div"),this.backButton.className="hyperlink-back-button",this.backButton.setAttribute("data-i18n","Back"),this.backButton.textContent=o.i18n.translate("Back"),this.container.appendChild(this.backButton),this.backButton.addEventListener("click",(()=>{this.uninitialize(),t.__hyperlinkBack=null,e.panel&&(e.panel.uninitialize(),e.panel=null),e.navigateToLink(null,i)})),this.closer=n.createElement("div"),this.closer.classList.add("docking-panel-close"),this.closer.classList.add("hyperlink-back-closer"),this.container.appendChild(this.closer),this.closer.addEventListener("click",(()=>{this.uninitialize(),t.__hyperlinkBack=null}))}uninitialize(){this.viewer.container.removeChild(this.container),this.container=null}}o.GlobalManagerMixin.call(l.prototype);var s=Autodesk.Viewing,p=s.Private,c=AutodeskNamespace("Autodesk.Viewing.Extensions.Hyperlink");function h(e,t,i){s.ToolInterface.call(this),this.setGlobalManager(e.globalManager),this.names=["hyperlink"];var n=this,r=-1,o=!1,c={},h={},d=null,u=null,A=null,v=null,g={},k="Hyperlink-bBox",C=null,x="Hyperlink-bBox-select",y=null,f=null,w=!1;this.active=!1,this.panel=null,this.fillColor=t.hyperlinkColor||4690585,this.opacity=t.hyperlinkOpacity||.6,this.selectionFillColor=t.hyperlinkColorSelection||7376094,this.selectedOpacity=t.hyperlinkOpacitySelected||.4,this.rectanglePadding=t.hyperlinkPadding||.5;var b=function(t,i,r){if(!d){const t=n.getDocument();d=t.createElement("div"),e.container.appendChild(d),d.setAttribute("data-i18n","Ctrl + Click to preview the link"),d.textContent=s.i18n.translate("Ctrl + Click to preview the link")}d.className="hyperlink-tooltip",d.style.top=i+20+"px",d.style.left=t+20+"px",d.intersectPoint=r},m=function(){d&&(e.container.removeChild(d),d=null)},E=function(t){e.removeEventListener(s.GEOMETRY_LOADED_EVENT,E),n.loadHyperlinks()},B=function(){n.panel&&n.panel.updatePosition(),function(){if(d){var t=e.navigation.getCamera(),i=e.navigation.getScreenViewport(),n=(new THREE.Vector3).copy(d.intersectPoint);n.project(t);var r=Math.round((n.x+1)/2*i.width),a=Math.round((1-n.y)/2*i.height);d.style.left=r+20+"px",d.style.top=a+20+"px"}}()},T=function(e){n.setBackNode(e.data.node)};this.activate=function(t){this.active=!0,e.model&&e.model.isLoadDone()?n.loadHyperlinks():e.addEventListener(s.GEOMETRY_LOADED_EVENT,E),e.addEventListener(s.CAMERA_CHANGE_EVENT,B),e.addEventListener(s.HYPERLINK_NAVIGATE,T);const i=this.getBackNode();i&&(e.__hyperlinkBack=new l(this,e,i),this.setBackNode(null))},this.deactivate=function(t){this.active=!1,e.removeEventListener(s.CAMERA_CHANGE_EVENT,B),e.removeEventListener(s.GEOMETRY_LOADED_EVENT,E),e.removeEventListener(s.HYPERLINK_NAVIGATE,T),c={},h={},m(),this.panel&&(this.panel.uninitialize(),this.panel=null),e.__hyperlinkBack&&(e.__hyperlinkBack.uninitialize(),e.__hyperlinkBack=null),e.impl.clearOverlay(k),e.impl.clearOverlay(x)},this.isActive=function(){return this.active},this.update=function(e){return!1},this.handleSingleClick=function(t,i){this.clearSelection(),this.panel&&(this.panel.uninitialize(),this.panel=null);var o=e.model.getDocumentNode(),l=null;o&&(l=o.data.viewableID);var s=new THREE.Vector2(t.canvasX,t.canvasY);if(!w)return!1;if(e.model.is2d()){var p=e.impl.clientToViewport(t.canvasX,t.canvasY),d=e.impl.intersectGroundViewport(p);for(var u in c)if(c.hasOwnProperty(u)){var A=c[u],v=d.x,g=d.y;if(v>=A.bBox[0]&&v<=A.bBox[2]&&g>=A.bBox[1]&&g<=A.bBox[3]){if(A.node){var k=A.node.data.name;this.panel=new a(n,e,s,d,k,A.link,l,A.dbId,A.node,this.getThumbnail.bind(this))}else this.panel=new a(n,e,s,d,null,A.link,l);return this.highlightSelection(A.bBoxMesh),!0}}return!1}if(e.model.is3d()){var C=e.impl.hitTest(t.canvasX,t.canvasY,!1);if(!C)return!1;if(t.ctrlKey&&h[r]){if(this.controller.setIsLocked(!1),m(),(A=h[r]).node){k=A.node.data.name;this.panel=new a(n,e,s,C.intersectPoint,k,A.link,l,r,A.node.data,this.getThumbnail)}else this.panel=new a(n,e,s,C.intersectPoint,null,A.link,l,r);return!0}}return!1},this.handleButtonDown=function(e,t){return o=!0,!1},this.handleButtonUp=function(e,t){return o=!1,!1},this.handleMouseMove=function(t){if(!o){if(!w)return!1;if(e.model&&!e.model.is2d()){var i=e.impl.hitTest(t.canvasX,t.canvasY,!1);if(i){var n=i.dbId;if(n!=r&&(r=n,m()),this.panel&&this.panel.dbId===n)return;h.hasOwnProperty(r)?h[r]&&b(t.canvasX,t.canvasY,i.intersectPoint):(h[r]=null,this.loadHyperlink3d(r,t.canvasX,t.canvasY,i.intersectPoint))}else m()}return!1}},this.getCursor=function(){return d?"pointer":null},this.loadHyperlinks=function(){e.model.isPdf()?this.loadHyperlinksPDF():this.loadHyperlinksF2d()},this.loadHyperlinksPDF=function(){if(e.model.getData().metadata&&e.model.getData().metadata.hyperLinks){w=!0;var t=e.model.getData().metadata.hyperLinks;u={},A=[],v=[],this.rectanglePadding=0;for(var i=0;i<t.length;i++){var n=t[i];u[n.dbId]=[i],A.push(n.dbId),v.push(n.box[0],n.box[1],n.box[2],n.box[3])}this._onBulkProperties(t)}else w=!1},this.loadHyperlinksF2d=function(){if(!w){const t=e.model.getPropertyDb();t&&t.executeUserFunction("function userFunction(pdb) {\n                    var hyperlinkExists = false;\n                    pdb.enumAttributes(function(i, attrDef, attrRaw) {\n                        var name = attrRaw[0];\n                        if (name === 'hyperlink') {\n                            hyperlinkExists = true;\n                            return true;\n                        }\n                    });\n                    return hyperlinkExists;\n                }").then((function(e){w=e})).catch((function(e){const t="string"==typeof e?e:JSON.stringify(e);p.logger.error(`Failed calling executeUserFunction with error ${t}`)}))}var t=e.model.getData();if(A=t.stringDbIds,v=t.stringBoxes,c={},A){var i=[];u={};for(var n=0,r=A.length;n<r;++n){var a=A[n];a<1||(-1===i.indexOf(a)&&(i.push(a),u[a]=[]),u[a].push(n))}e.model.getBulkProperties(i,{propFilter:["hyperlink"]},this._onBulkProperties)}},this._onBulkProperties=function(t){var i=e.model.getDocumentNode();i&&(i=i.getRootNode());for(var n=0,r=t.length;n<r;++n){var a=t[n],o=a.dbId,l=a.properties[0].displayValue,s=null,p=null,h=i?i.search({viewableID:l}):null;if(h&&h.length&&(s=h[0]),!s&&this._isURL(l)&&(p=l),s||p)for(var d=u.hasOwnProperty(o)?u[o]:[],A=0;A<d.length;++A){var v=d[A];c[v]={dbId:o,link:p,node:s},this.highlightText(v)}}}.bind(this),this._isURL=function(e){if("string"==typeof e){if("http"===e.substr(0,4).toLowerCase())return!0;var t=e.indexOf("/");-1!==t&&(e=e.substr(0,t));var i=e.split(".").length;return t>0&&i>0||-1===t&&i>1}},this.navigateToLink=function(t,i){if(t){n.getWindow().open(t)}else if(i)return e.dispatchEvent({type:s.HYPERLINK_EVENT,data:{bubbleNode:i}}),void setTimeout((()=>{let t=i.getRootNode();e.loadDocumentNode(t.getDocument(),i)}),1)},this.loadHyperlink3d=function(t,i,n,r){e.getProperties(t,(function(a){for(var o=a.properties,l=0,s=o.length;l<s;l++){var p=o[l];if("__hyperlink__"===p.displayCategory){var c=null,d=p.displayValue,u=e.model.getDocumentNode();if(u){var A=(u=u.getRootNode()).search({viewableID:d});A&&A.length&&(c=A[0])}h[t]={link:d,node:c},b(i,n,r);break}}}))},this.getHyperlinks=function(){return _linkCache},this.getThumbnail=function(e,t,i){g.hasOwnProperty(e)?i(g[e]):s.Thumbnails.getUrlForBubbleNode(t).then((t=>{g[e]=t,i(t)})).catch((e=>{i(null)}))},this.highlightText=function(e){var t=this.rectanglePadding,i=v[4*e]-t,n=v[4*e+1]-t,r=v[4*e+2]+t,a=v[4*e+3]+t;c[e].bBox=[i,n,r,a],this.addRectangle(e,i,n,r,a)},this.addRectangle=function(t,i,n,r,a){const o=[new THREE.Vector3(i,n,0),new THREE.Vector3(r,n,0),new THREE.Vector3(r,a,0),new THREE.Vector3(i,n,0),new THREE.Vector3(i,a,0),new THREE.Vector3(r,a,0)];let l=(new THREE.BufferGeometry).setFromPoints(o);if(!C){var s=this.fillColor,p=this.opacity;C=new THREE.MeshBasicMaterial({color:s,opacity:p,transparent:!0,depthTest:!1,depthWrite:!1,side:THREE.DoubleSide}),e.impl.createOverlayScene(k)}var h=c[t].bBoxMesh=new THREE.Mesh(l,C,!0);e.impl.addOverlay(k,h)},this.highlightSelection=function(t){if(f=t,e.impl.removeOverlay(k,t),!y){var i=this.selectionFillColor,n=this.selectedOpacity;y=new THREE.MeshBasicMaterial({color:i,opacity:n,transparent:!0,depthTest:!1,depthWrite:!1,side:THREE.DoubleSide}),e.impl.createOverlayScene(x)}var r=new THREE.Mesh(t.geometry,y);e.impl.addOverlay(x,r)},this.clearSelection=function(){f&&(e.impl.clearOverlay(x),e.impl.addOverlay(k,f),f=null)},this.setBackNode=function(e){i.getCache().hyperlinkBackNode=e},this.getBackNode=function(){return i.getCache().hyperlinkBackNode}}s.GlobalManagerMixin.call(h.prototype),c.HyperlinkTool=h;var d=i(5072),u=i.n(d),A=i(7825),v=i.n(A),g=i(7659),k=i.n(g),C=i(5056),x=i.n(C),y=i(540),f=i.n(y),w=i(1113),b=i.n(w),m=i(1476),E={};E.styleTagTransform=b(),E.setAttributes=x(),E.insert=k().bind(null,"head"),E.domAPI=v(),E.insertStyleElement=f();u()(m.A,E);m.A&&m.A.locals&&m.A.locals;var B=Autodesk.Viewing,T=AutodeskNamespace("Autodesk.Viewing.Extensions.Hyperlink");function N(e,t){B.Extension.call(this,e,t),this.tool=null,this.name="hyperlink"}N.prototype=Object.create(B.Extension.prototype),N.prototype.constructor=N,N.prototype.load=function(){var e=this.options||{};return this.tool=new h(this.viewer,e,this),this.viewer.toolController.registerTool(this.tool),this.viewer.toolController.activateTool(this.tool.getName()),!0},N.prototype.unload=function(){return this.viewer.toolController.deactivateTool(this.tool.getName()),this.viewer.toolController.deregisterTool(this.tool),this.tool=null,!0},N.prototype.activate=function(){return!0},N.prototype.deactivate=function(){return!1},T.HyperlinkExtension=N,B.theExtensionManager.registerExtension("Autodesk.Hyperlink",N)})(),Autodesk.Extensions.Hyperlink=n})();
//# sourceMappingURL=Hyperlink.min.js.map